function GT(U,q){for(var ye=0;ye<q.length;ye++){const Ie=q[ye];if(typeof Ie!="string"&&!Array.isArray(Ie)){for(const qe in Ie)if(qe!=="default"&&!(qe in U)){const yt=Object.getOwnPropertyDescriptor(Ie,qe);yt&&Object.defineProperty(U,qe,yt.get?yt:{enumerable:!0,get:()=>Ie[qe]})}}}return Object.freeze(Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}))}(function(){const q=document.createElement("link").relList;if(q&&q.supports&&q.supports("modulepreload"))return;for(const qe of document.querySelectorAll('link[rel="modulepreload"]'))Ie(qe);new MutationObserver(qe=>{for(const yt of qe)if(yt.type==="childList")for(const G of yt.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&Ie(G)}).observe(document,{childList:!0,subtree:!0});function ye(qe){const yt={};return qe.integrity&&(yt.integrity=qe.integrity),qe.referrerPolicy&&(yt.referrerPolicy=qe.referrerPolicy),qe.crossOrigin==="use-credentials"?yt.credentials="include":qe.crossOrigin==="anonymous"?yt.credentials="omit":yt.credentials="same-origin",yt}function Ie(qe){if(qe.ep)return;qe.ep=!0;const yt=ye(qe);fetch(qe.href,yt)}})();function cb(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var hb={exports:{}},E0={},vb={exports:{}},pi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),WT=Symbol.for("react.portal"),jT=Symbol.for("react.fragment"),YT=Symbol.for("react.strict_mode"),XT=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),KT=Symbol.for("react.context"),JT=Symbol.for("react.forward_ref"),QT=Symbol.for("react.suspense"),$T=Symbol.for("react.memo"),qT=Symbol.for("react.lazy"),K1=Symbol.iterator;function e5(U){return U===null||typeof U!="object"?null:(U=K1&&U[K1]||U["@@iterator"],typeof U=="function"?U:null)}var db={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pb=Object.assign,gb={};function Dv(U,q,ye){this.props=U,this.context=q,this.refs=gb,this.updater=ye||db}Dv.prototype.isReactComponent={};Dv.prototype.setState=function(U,q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,q,"setState")};Dv.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function yb(){}yb.prototype=Dv.prototype;function Yy(U,q,ye){this.props=U,this.context=q,this.refs=gb,this.updater=ye||db}var Xy=Yy.prototype=new yb;Xy.constructor=Yy;pb(Xy,Dv.prototype);Xy.isPureReactComponent=!0;var J1=Array.isArray,mb=Object.prototype.hasOwnProperty,Zy={current:null},xb={key:!0,ref:!0,__self:!0,__source:!0};function bb(U,q,ye){var Ie,qe={},yt=null,G=null;if(q!=null)for(Ie in q.ref!==void 0&&(G=q.ref),q.key!==void 0&&(yt=""+q.key),q)mb.call(q,Ie)&&!xb.hasOwnProperty(Ie)&&(qe[Ie]=q[Ie]);var H=arguments.length-2;if(H===1)qe.children=ye;else if(1<H){for(var e=Array(H),m=0;m<H;m++)e[m]=arguments[m+2];qe.children=e}if(U&&U.defaultProps)for(Ie in H=U.defaultProps,H)qe[Ie]===void 0&&(qe[Ie]=H[Ie]);return{$$typeof:jd,type:U,key:yt,ref:G,props:qe,_owner:Zy.current}}function t5(U,q){return{$$typeof:jd,type:U.type,key:q,ref:U.ref,props:U.props,_owner:U._owner}}function Ky(U){return typeof U=="object"&&U!==null&&U.$$typeof===jd}function r5(U){var q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ye){return q[ye]})}var Q1=/\/+/g;function wg(U,q){return typeof U=="object"&&U!==null&&U.key!=null?r5(""+U.key):q.toString(36)}function Vp(U,q,ye,Ie,qe){var yt=typeof U;(yt==="undefined"||yt==="boolean")&&(U=null);var G=!1;if(U===null)G=!0;else switch(yt){case"string":case"number":G=!0;break;case"object":switch(U.$$typeof){case jd:case WT:G=!0}}if(G)return G=U,qe=qe(G),U=Ie===""?"."+wg(G,0):Ie,J1(qe)?(ye="",U!=null&&(ye=U.replace(Q1,"$&/")+"/"),Vp(qe,q,ye,"",function(m){return m})):qe!=null&&(Ky(qe)&&(qe=t5(qe,ye+(!qe.key||G&&G.key===qe.key?"":(""+qe.key).replace(Q1,"$&/")+"/")+U)),q.push(qe)),1;if(G=0,Ie=Ie===""?".":Ie+":",J1(U))for(var H=0;H<U.length;H++){yt=U[H];var e=Ie+wg(yt,H);G+=Vp(yt,q,ye,e,qe)}else if(e=e5(U),typeof e=="function")for(U=e.call(U),H=0;!(yt=U.next()).done;)yt=yt.value,e=Ie+wg(yt,H++),G+=Vp(yt,q,ye,e,qe);else if(yt==="object")throw q=String(U),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return G}function Sp(U,q,ye){if(U==null)return U;var Ie=[],qe=0;return Vp(U,Ie,"","",function(yt){return q.call(ye,yt,qe++)}),Ie}function n5(U){if(U._status===-1){var q=U._result;q=q(),q.then(function(ye){(U._status===0||U._status===-1)&&(U._status=1,U._result=ye)},function(ye){(U._status===0||U._status===-1)&&(U._status=2,U._result=ye)}),U._status===-1&&(U._status=0,U._result=q)}if(U._status===1)return U._result.default;throw U._result}var Fs={current:null},Hp={transition:null},a5={ReactCurrentDispatcher:Fs,ReactCurrentBatchConfig:Hp,ReactCurrentOwner:Zy};function wb(){throw Error("act(...) is not supported in production builds of React.")}pi.Children={map:Sp,forEach:function(U,q,ye){Sp(U,function(){q.apply(this,arguments)},ye)},count:function(U){var q=0;return Sp(U,function(){q++}),q},toArray:function(U){return Sp(U,function(q){return q})||[]},only:function(U){if(!Ky(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};pi.Component=Dv;pi.Fragment=jT;pi.Profiler=XT;pi.PureComponent=Yy;pi.StrictMode=YT;pi.Suspense=QT;pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a5;pi.act=wb;pi.cloneElement=function(U,q,ye){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ie=pb({},U.props),qe=U.key,yt=U.ref,G=U._owner;if(q!=null){if(q.ref!==void 0&&(yt=q.ref,G=Zy.current),q.key!==void 0&&(qe=""+q.key),U.type&&U.type.defaultProps)var H=U.type.defaultProps;for(e in q)mb.call(q,e)&&!xb.hasOwnProperty(e)&&(Ie[e]=q[e]===void 0&&H!==void 0?H[e]:q[e])}var e=arguments.length-2;if(e===1)Ie.children=ye;else if(1<e){H=Array(e);for(var m=0;m<e;m++)H[m]=arguments[m+2];Ie.children=H}return{$$typeof:jd,type:U.type,key:qe,ref:yt,props:Ie,_owner:G}};pi.createContext=function(U){return U={$$typeof:KT,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:ZT,_context:U},U.Consumer=U};pi.createElement=bb;pi.createFactory=function(U){var q=bb.bind(null,U);return q.type=U,q};pi.createRef=function(){return{current:null}};pi.forwardRef=function(U){return{$$typeof:JT,render:U}};pi.isValidElement=Ky;pi.lazy=function(U){return{$$typeof:qT,_payload:{_status:-1,_result:U},_init:n5}};pi.memo=function(U,q){return{$$typeof:$T,type:U,compare:q===void 0?null:q}};pi.startTransition=function(U){var q=Hp.transition;Hp.transition={};try{U()}finally{Hp.transition=q}};pi.unstable_act=wb;pi.useCallback=function(U,q){return Fs.current.useCallback(U,q)};pi.useContext=function(U){return Fs.current.useContext(U)};pi.useDebugValue=function(){};pi.useDeferredValue=function(U){return Fs.current.useDeferredValue(U)};pi.useEffect=function(U,q){return Fs.current.useEffect(U,q)};pi.useId=function(){return Fs.current.useId()};pi.useImperativeHandle=function(U,q,ye){return Fs.current.useImperativeHandle(U,q,ye)};pi.useInsertionEffect=function(U,q){return Fs.current.useInsertionEffect(U,q)};pi.useLayoutEffect=function(U,q){return Fs.current.useLayoutEffect(U,q)};pi.useMemo=function(U,q){return Fs.current.useMemo(U,q)};pi.useReducer=function(U,q,ye){return Fs.current.useReducer(U,q,ye)};pi.useRef=function(U){return Fs.current.useRef(U)};pi.useState=function(U){return Fs.current.useState(U)};pi.useSyncExternalStore=function(U,q,ye){return Fs.current.useSyncExternalStore(U,q,ye)};pi.useTransition=function(){return Fs.current.useTransition()};pi.version="18.3.1";vb.exports=pi;var Fn=vb.exports;const Tb=cb(Fn),i5=GT({__proto__:null,default:Tb},[Fn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5=Fn,s5=Symbol.for("react.element"),l5=Symbol.for("react.fragment"),u5=Object.prototype.hasOwnProperty,f5=o5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c5={key:!0,ref:!0,__self:!0,__source:!0};function Ab(U,q,ye){var Ie,qe={},yt=null,G=null;ye!==void 0&&(yt=""+ye),q.key!==void 0&&(yt=""+q.key),q.ref!==void 0&&(G=q.ref);for(Ie in q)u5.call(q,Ie)&&!c5.hasOwnProperty(Ie)&&(qe[Ie]=q[Ie]);if(U&&U.defaultProps)for(Ie in q=U.defaultProps,q)qe[Ie]===void 0&&(qe[Ie]=q[Ie]);return{$$typeof:s5,type:U,key:yt,ref:G,props:qe,_owner:f5.current}}E0.Fragment=l5;E0.jsx=Ab;E0.jsxs=Ab;hb.exports=E0;var Er=hb.exports,Jg={},Sb={exports:{}},Tl={},Mb={exports:{}},Eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(U){function q(A,o){var M=A.length;A.push(o);e:for(;0<M;){var x=M-1>>>1,I=A[x];if(0<qe(I,o))A[x]=o,A[M]=I,M=x;else break e}}function ye(A){return A.length===0?null:A[0]}function Ie(A){if(A.length===0)return null;var o=A[0],M=A.pop();if(M!==o){A[0]=M;e:for(var x=0,I=A.length,D=I>>>1;x<D;){var N=2*(x+1)-1,k=A[N],O=N+1,F=A[O];if(0>qe(k,M))O<I&&0>qe(F,k)?(A[x]=F,A[O]=M,x=O):(A[x]=k,A[N]=M,x=N);else if(O<I&&0>qe(F,M))A[x]=F,A[O]=M,x=O;else break e}}return o}function qe(A,o){var M=A.sortIndex-o.sortIndex;return M!==0?M:A.id-o.id}if(typeof performance=="object"&&typeof performance.now=="function"){var yt=performance;U.unstable_now=function(){return yt.now()}}else{var G=Date,H=G.now();U.unstable_now=function(){return G.now()-H}}var e=[],m=[],P=1,s=null,L=3,S=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(A){for(var o=ye(m);o!==null;){if(o.callback===null)Ie(m);else if(o.startTime<=A)Ie(m),o.sortIndex=o.expirationTime,q(e,o);else break;o=ye(m)}}function f(A){if(p=!1,n(A),!v)if(ye(e)!==null)v=!0,y(u);else{var o=ye(m);o!==null&&E(f,o.startTime-A)}}function u(A,o){v=!1,p&&(p=!1,t(h),h=-1),S=!0;var M=L;try{for(n(o),s=ye(e);s!==null&&(!(s.expirationTime>o)||A&&!i());){var x=s.callback;if(typeof x=="function"){s.callback=null,L=s.priorityLevel;var I=x(s.expirationTime<=o);o=U.unstable_now(),typeof I=="function"?s.callback=I:s===ye(e)&&Ie(e),n(o)}else Ie(e);s=ye(e)}if(s!==null)var D=!0;else{var N=ye(m);N!==null&&E(f,N.startTime-o),D=!1}return D}finally{s=null,L=M,S=!1}}var l=!1,g=null,h=-1,T=5,c=-1;function i(){return!(U.unstable_now()-c<T)}function d(){if(g!==null){var A=U.unstable_now();c=A;var o=!0;try{o=g(!0,A)}finally{o?b():(l=!1,g=null)}}else l=!1}var b;if(typeof a=="function")b=function(){a(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,C=w.port2;w.port1.onmessage=d,b=function(){C.postMessage(null)}}else b=function(){r(d,0)};function y(A){g=A,l||(l=!0,b())}function E(A,o){h=r(function(){A(U.unstable_now())},o)}U.unstable_IdlePriority=5,U.unstable_ImmediatePriority=1,U.unstable_LowPriority=4,U.unstable_NormalPriority=3,U.unstable_Profiling=null,U.unstable_UserBlockingPriority=2,U.unstable_cancelCallback=function(A){A.callback=null},U.unstable_continueExecution=function(){v||S||(v=!0,y(u))},U.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},U.unstable_getCurrentPriorityLevel=function(){return L},U.unstable_getFirstCallbackNode=function(){return ye(e)},U.unstable_next=function(A){switch(L){case 1:case 2:case 3:var o=3;break;default:o=L}var M=L;L=o;try{return A()}finally{L=M}},U.unstable_pauseExecution=function(){},U.unstable_requestPaint=function(){},U.unstable_runWithPriority=function(A,o){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=L;L=A;try{return o()}finally{L=M}},U.unstable_scheduleCallback=function(A,o,M){var x=U.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?x+M:x):M=x,A){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=M+I,A={id:P++,callback:o,priorityLevel:A,startTime:M,expirationTime:I,sortIndex:-1},M>x?(A.sortIndex=M,q(m,A),ye(e)===null&&A===ye(m)&&(p?(t(h),h=-1):p=!0,E(f,M-x))):(A.sortIndex=I,q(e,A),v||S||(v=!0,y(u))),A},U.unstable_shouldYield=i,U.unstable_wrapCallback=function(A){var o=L;return function(){var M=L;L=o;try{return A.apply(this,arguments)}finally{L=M}}}})(Eb);Mb.exports=Eb;var h5=Mb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5=Fn,wl=h5;function ma(U){for(var q="https://reactjs.org/docs/error-decoder.html?invariant="+U,ye=1;ye<arguments.length;ye++)q+="&args[]="+encodeURIComponent(arguments[ye]);return"Minified React error #"+U+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cb=new Set,Ed={};function Dh(U,q){Mv(U,q),Mv(U+"Capture",q)}function Mv(U,q){for(Ed[U]=q,U=0;U<q.length;U++)Cb.add(q[U])}var Of=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,d5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$1={},q1={};function p5(U){return Qg.call(q1,U)?!0:Qg.call($1,U)?!1:d5.test(U)?q1[U]=!0:($1[U]=!0,!1)}function g5(U,q,ye,Ie){if(ye!==null&&ye.type===0)return!1;switch(typeof q){case"function":case"symbol":return!0;case"boolean":return Ie?!1:ye!==null?!ye.acceptsBooleans:(U=U.toLowerCase().slice(0,5),U!=="data-"&&U!=="aria-");default:return!1}}function y5(U,q,ye,Ie){if(q===null||typeof q>"u"||g5(U,q,ye,Ie))return!0;if(Ie)return!1;if(ye!==null)switch(ye.type){case 3:return!q;case 4:return q===!1;case 5:return isNaN(q);case 6:return isNaN(q)||1>q}return!1}function Ns(U,q,ye,Ie,qe,yt,G){this.acceptsBooleans=q===2||q===3||q===4,this.attributeName=Ie,this.attributeNamespace=qe,this.mustUseProperty=ye,this.propertyName=U,this.type=q,this.sanitizeURL=yt,this.removeEmptyString=G}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(U){fs[U]=new Ns(U,0,!1,U,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(U){var q=U[0];fs[q]=new Ns(q,1,!1,U[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(U){fs[U]=new Ns(U,2,!1,U.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(U){fs[U]=new Ns(U,2,!1,U,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(U){fs[U]=new Ns(U,3,!1,U.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(U){fs[U]=new Ns(U,3,!0,U,null,!1,!1)});["capture","download"].forEach(function(U){fs[U]=new Ns(U,4,!1,U,null,!1,!1)});["cols","rows","size","span"].forEach(function(U){fs[U]=new Ns(U,6,!1,U,null,!1,!1)});["rowSpan","start"].forEach(function(U){fs[U]=new Ns(U,5,!1,U.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function Qy(U){return U[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(U){var q=U.replace(Jy,Qy);fs[q]=new Ns(q,1,!1,U,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(U){var q=U.replace(Jy,Qy);fs[q]=new Ns(q,1,!1,U,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(U){var q=U.replace(Jy,Qy);fs[q]=new Ns(q,1,!1,U,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(U){fs[U]=new Ns(U,1,!1,U.toLowerCase(),null,!1,!1)});fs.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(U){fs[U]=new Ns(U,1,!1,U.toLowerCase(),null,!0,!0)});function $y(U,q,ye,Ie){var qe=fs.hasOwnProperty(q)?fs[q]:null;(qe!==null?qe.type!==0:Ie||!(2<q.length)||q[0]!=="o"&&q[0]!=="O"||q[1]!=="n"&&q[1]!=="N")&&(y5(q,ye,qe,Ie)&&(ye=null),Ie||qe===null?p5(q)&&(ye===null?U.removeAttribute(q):U.setAttribute(q,""+ye)):qe.mustUseProperty?U[qe.propertyName]=ye===null?qe.type===3?!1:"":ye:(q=qe.attributeName,Ie=qe.attributeNamespace,ye===null?U.removeAttribute(q):(qe=qe.type,ye=qe===3||qe===4&&ye===!0?"":""+ye,Ie?U.setAttributeNS(Ie,q,ye):U.setAttribute(q,ye))))}var Uf=v5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mp=Symbol.for("react.element"),sv=Symbol.for("react.portal"),lv=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),$g=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),Mc=Symbol.for("react.lazy"),_b=Symbol.for("react.offscreen"),ex=Symbol.iterator;function id(U){return U===null||typeof U!="object"?null:(U=ex&&U[ex]||U["@@iterator"],typeof U=="function"?U:null)}var vo=Object.assign,Tg;function vd(U){if(Tg===void 0)try{throw Error()}catch(ye){var q=ye.stack.trim().match(/\n( *(at )?)/);Tg=q&&q[1]||""}return`
`+Tg+U}var Ag=!1;function Sg(U,q){if(!U||Ag)return"";Ag=!0;var ye=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(q)if(q=function(){throw Error()},Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(m){var Ie=m}Reflect.construct(U,[],q)}else{try{q.call()}catch(m){Ie=m}U.call(q.prototype)}else{try{throw Error()}catch(m){Ie=m}U()}}catch(m){if(m&&Ie&&typeof m.stack=="string"){for(var qe=m.stack.split(`
`),yt=Ie.stack.split(`
`),G=qe.length-1,H=yt.length-1;1<=G&&0<=H&&qe[G]!==yt[H];)H--;for(;1<=G&&0<=H;G--,H--)if(qe[G]!==yt[H]){if(G!==1||H!==1)do if(G--,H--,0>H||qe[G]!==yt[H]){var e=`
`+qe[G].replace(" at new "," at ");return U.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",U.displayName)),e}while(1<=G&&0<=H);break}}}finally{Ag=!1,Error.prepareStackTrace=ye}return(U=U?U.displayName||U.name:"")?vd(U):""}function m5(U){switch(U.tag){case 5:return vd(U.type);case 16:return vd("Lazy");case 13:return vd("Suspense");case 19:return vd("SuspenseList");case 0:case 2:case 15:return U=Sg(U.type,!1),U;case 11:return U=Sg(U.type.render,!1),U;case 1:return U=Sg(U.type,!0),U;default:return""}}function ty(U){if(U==null)return null;if(typeof U=="function")return U.displayName||U.name||null;if(typeof U=="string")return U;switch(U){case lv:return"Fragment";case sv:return"Portal";case $g:return"Profiler";case qy:return"StrictMode";case qg:return"Suspense";case ey:return"SuspenseList"}if(typeof U=="object")switch(U.$$typeof){case Pb:return(U.displayName||"Context")+".Consumer";case Lb:return(U._context.displayName||"Context")+".Provider";case em:var q=U.render;return U=U.displayName,U||(U=q.displayName||q.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case tm:return q=U.displayName||null,q!==null?q:ty(U.type)||"Memo";case Mc:q=U._payload,U=U._init;try{return ty(U(q))}catch{}}return null}function x5(U){var q=U.type;switch(U.tag){case 24:return"Cache";case 9:return(q.displayName||"Context")+".Consumer";case 10:return(q._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return U=q.render,U=U.displayName||U.name||"",q.displayName||(U!==""?"ForwardRef("+U+")":"ForwardRef");case 7:return"Fragment";case 5:return q;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(q);case 8:return q===qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof q=="function")return q.displayName||q.name||null;if(typeof q=="string")return q}return null}function Vc(U){switch(typeof U){case"boolean":case"number":case"string":case"undefined":return U;case"object":return U;default:return""}}function Rb(U){var q=U.type;return(U=U.nodeName)&&U.toLowerCase()==="input"&&(q==="checkbox"||q==="radio")}function b5(U){var q=Rb(U)?"checked":"value",ye=Object.getOwnPropertyDescriptor(U.constructor.prototype,q),Ie=""+U[q];if(!U.hasOwnProperty(q)&&typeof ye<"u"&&typeof ye.get=="function"&&typeof ye.set=="function"){var qe=ye.get,yt=ye.set;return Object.defineProperty(U,q,{configurable:!0,get:function(){return qe.call(this)},set:function(G){Ie=""+G,yt.call(this,G)}}),Object.defineProperty(U,q,{enumerable:ye.enumerable}),{getValue:function(){return Ie},setValue:function(G){Ie=""+G},stopTracking:function(){U._valueTracker=null,delete U[q]}}}}function Ep(U){U._valueTracker||(U._valueTracker=b5(U))}function Db(U){if(!U)return!1;var q=U._valueTracker;if(!q)return!0;var ye=q.getValue(),Ie="";return U&&(Ie=Rb(U)?U.checked?"true":"false":U.value),U=Ie,U!==ye?(q.setValue(U),!0):!1}function qp(U){if(U=U||(typeof document<"u"?document:void 0),typeof U>"u")return null;try{return U.activeElement||U.body}catch{return U.body}}function ry(U,q){var ye=q.checked;return vo({},q,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ye??U._wrapperState.initialChecked})}function tx(U,q){var ye=q.defaultValue==null?"":q.defaultValue,Ie=q.checked!=null?q.checked:q.defaultChecked;ye=Vc(q.value!=null?q.value:ye),U._wrapperState={initialChecked:Ie,initialValue:ye,controlled:q.type==="checkbox"||q.type==="radio"?q.checked!=null:q.value!=null}}function Ib(U,q){q=q.checked,q!=null&&$y(U,"checked",q,!1)}function ny(U,q){Ib(U,q);var ye=Vc(q.value),Ie=q.type;if(ye!=null)Ie==="number"?(ye===0&&U.value===""||U.value!=ye)&&(U.value=""+ye):U.value!==""+ye&&(U.value=""+ye);else if(Ie==="submit"||Ie==="reset"){U.removeAttribute("value");return}q.hasOwnProperty("value")?ay(U,q.type,ye):q.hasOwnProperty("defaultValue")&&ay(U,q.type,Vc(q.defaultValue)),q.checked==null&&q.defaultChecked!=null&&(U.defaultChecked=!!q.defaultChecked)}function rx(U,q,ye){if(q.hasOwnProperty("value")||q.hasOwnProperty("defaultValue")){var Ie=q.type;if(!(Ie!=="submit"&&Ie!=="reset"||q.value!==void 0&&q.value!==null))return;q=""+U._wrapperState.initialValue,ye||q===U.value||(U.value=q),U.defaultValue=q}ye=U.name,ye!==""&&(U.name=""),U.defaultChecked=!!U._wrapperState.initialChecked,ye!==""&&(U.name=ye)}function ay(U,q,ye){(q!=="number"||qp(U.ownerDocument)!==U)&&(ye==null?U.defaultValue=""+U._wrapperState.initialValue:U.defaultValue!==""+ye&&(U.defaultValue=""+ye))}var dd=Array.isArray;function xv(U,q,ye,Ie){if(U=U.options,q){q={};for(var qe=0;qe<ye.length;qe++)q["$"+ye[qe]]=!0;for(ye=0;ye<U.length;ye++)qe=q.hasOwnProperty("$"+U[ye].value),U[ye].selected!==qe&&(U[ye].selected=qe),qe&&Ie&&(U[ye].defaultSelected=!0)}else{for(ye=""+Vc(ye),q=null,qe=0;qe<U.length;qe++){if(U[qe].value===ye){U[qe].selected=!0,Ie&&(U[qe].defaultSelected=!0);return}q!==null||U[qe].disabled||(q=U[qe])}q!==null&&(q.selected=!0)}}function iy(U,q){if(q.dangerouslySetInnerHTML!=null)throw Error(ma(91));return vo({},q,{value:void 0,defaultValue:void 0,children:""+U._wrapperState.initialValue})}function nx(U,q){var ye=q.value;if(ye==null){if(ye=q.children,q=q.defaultValue,ye!=null){if(q!=null)throw Error(ma(92));if(dd(ye)){if(1<ye.length)throw Error(ma(93));ye=ye[0]}q=ye}q==null&&(q=""),ye=q}U._wrapperState={initialValue:Vc(ye)}}function kb(U,q){var ye=Vc(q.value),Ie=Vc(q.defaultValue);ye!=null&&(ye=""+ye,ye!==U.value&&(U.value=ye),q.defaultValue==null&&U.defaultValue!==ye&&(U.defaultValue=ye)),Ie!=null&&(U.defaultValue=""+Ie)}function ax(U){var q=U.textContent;q===U._wrapperState.initialValue&&q!==""&&q!==null&&(U.value=q)}function zb(U){switch(U){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oy(U,q){return U==null||U==="http://www.w3.org/1999/xhtml"?zb(q):U==="http://www.w3.org/2000/svg"&&q==="foreignObject"?"http://www.w3.org/1999/xhtml":U}var Cp,Ob=function(U){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(q,ye,Ie,qe){MSApp.execUnsafeLocalFunction(function(){return U(q,ye,Ie,qe)})}:U}(function(U,q){if(U.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in U)U.innerHTML=q;else{for(Cp=Cp||document.createElement("div"),Cp.innerHTML="<svg>"+q.valueOf().toString()+"</svg>",q=Cp.firstChild;U.firstChild;)U.removeChild(U.firstChild);for(;q.firstChild;)U.appendChild(q.firstChild)}});function Cd(U,q){if(q){var ye=U.firstChild;if(ye&&ye===U.lastChild&&ye.nodeType===3){ye.nodeValue=q;return}}U.textContent=q}var yd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w5=["Webkit","ms","Moz","O"];Object.keys(yd).forEach(function(U){w5.forEach(function(q){q=q+U.charAt(0).toUpperCase()+U.substring(1),yd[q]=yd[U]})});function Fb(U,q,ye){return q==null||typeof q=="boolean"||q===""?"":ye||typeof q!="number"||q===0||yd.hasOwnProperty(U)&&yd[U]?(""+q).trim():q+"px"}function Nb(U,q){U=U.style;for(var ye in q)if(q.hasOwnProperty(ye)){var Ie=ye.indexOf("--")===0,qe=Fb(ye,q[ye],Ie);ye==="float"&&(ye="cssFloat"),Ie?U.setProperty(ye,qe):U[ye]=qe}}var T5=vo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sy(U,q){if(q){if(T5[U]&&(q.children!=null||q.dangerouslySetInnerHTML!=null))throw Error(ma(137,U));if(q.dangerouslySetInnerHTML!=null){if(q.children!=null)throw Error(ma(60));if(typeof q.dangerouslySetInnerHTML!="object"||!("__html"in q.dangerouslySetInnerHTML))throw Error(ma(61))}if(q.style!=null&&typeof q.style!="object")throw Error(ma(62))}}function ly(U,q){if(U.indexOf("-")===-1)return typeof q.is=="string";switch(U){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=null;function rm(U){return U=U.target||U.srcElement||window,U.correspondingUseElement&&(U=U.correspondingUseElement),U.nodeType===3?U.parentNode:U}var fy=null,bv=null,wv=null;function ix(U){if(U=Zd(U)){if(typeof fy!="function")throw Error(ma(280));var q=U.stateNode;q&&(q=R0(q),fy(U.stateNode,U.type,q))}}function Bb(U){bv?wv?wv.push(U):wv=[U]:bv=U}function Ub(){if(bv){var U=bv,q=wv;if(wv=bv=null,ix(U),q)for(U=0;U<q.length;U++)ix(q[U])}}function Vb(U,q){return U(q)}function Hb(){}var Mg=!1;function Gb(U,q,ye){if(Mg)return U(q,ye);Mg=!0;try{return Vb(U,q,ye)}finally{Mg=!1,(bv!==null||wv!==null)&&(Hb(),Ub())}}function Ld(U,q){var ye=U.stateNode;if(ye===null)return null;var Ie=R0(ye);if(Ie===null)return null;ye=Ie[q];e:switch(q){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ie=!Ie.disabled)||(U=U.type,Ie=!(U==="button"||U==="input"||U==="select"||U==="textarea")),U=!Ie;break e;default:U=!1}if(U)return null;if(ye&&typeof ye!="function")throw Error(ma(231,q,typeof ye));return ye}var cy=!1;if(Of)try{var od={};Object.defineProperty(od,"passive",{get:function(){cy=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{cy=!1}function A5(U,q,ye,Ie,qe,yt,G,H,e){var m=Array.prototype.slice.call(arguments,3);try{q.apply(ye,m)}catch(P){this.onError(P)}}var md=!1,e0=null,t0=!1,hy=null,S5={onError:function(U){md=!0,e0=U}};function M5(U,q,ye,Ie,qe,yt,G,H,e){md=!1,e0=null,A5.apply(S5,arguments)}function E5(U,q,ye,Ie,qe,yt,G,H,e){if(M5.apply(this,arguments),md){if(md){var m=e0;md=!1,e0=null}else throw Error(ma(198));t0||(t0=!0,hy=m)}}function Ih(U){var q=U,ye=U;if(U.alternate)for(;q.return;)q=q.return;else{U=q;do q=U,q.flags&4098&&(ye=q.return),U=q.return;while(U)}return q.tag===3?ye:null}function Wb(U){if(U.tag===13){var q=U.memoizedState;if(q===null&&(U=U.alternate,U!==null&&(q=U.memoizedState)),q!==null)return q.dehydrated}return null}function ox(U){if(Ih(U)!==U)throw Error(ma(188))}function C5(U){var q=U.alternate;if(!q){if(q=Ih(U),q===null)throw Error(ma(188));return q!==U?null:U}for(var ye=U,Ie=q;;){var qe=ye.return;if(qe===null)break;var yt=qe.alternate;if(yt===null){if(Ie=qe.return,Ie!==null){ye=Ie;continue}break}if(qe.child===yt.child){for(yt=qe.child;yt;){if(yt===ye)return ox(qe),U;if(yt===Ie)return ox(qe),q;yt=yt.sibling}throw Error(ma(188))}if(ye.return!==Ie.return)ye=qe,Ie=yt;else{for(var G=!1,H=qe.child;H;){if(H===ye){G=!0,ye=qe,Ie=yt;break}if(H===Ie){G=!0,Ie=qe,ye=yt;break}H=H.sibling}if(!G){for(H=yt.child;H;){if(H===ye){G=!0,ye=yt,Ie=qe;break}if(H===Ie){G=!0,Ie=yt,ye=qe;break}H=H.sibling}if(!G)throw Error(ma(189))}}if(ye.alternate!==Ie)throw Error(ma(190))}if(ye.tag!==3)throw Error(ma(188));return ye.stateNode.current===ye?U:q}function jb(U){return U=C5(U),U!==null?Yb(U):null}function Yb(U){if(U.tag===5||U.tag===6)return U;for(U=U.child;U!==null;){var q=Yb(U);if(q!==null)return q;U=U.sibling}return null}var Xb=wl.unstable_scheduleCallback,sx=wl.unstable_cancelCallback,L5=wl.unstable_shouldYield,P5=wl.unstable_requestPaint,Eo=wl.unstable_now,_5=wl.unstable_getCurrentPriorityLevel,nm=wl.unstable_ImmediatePriority,Zb=wl.unstable_UserBlockingPriority,r0=wl.unstable_NormalPriority,R5=wl.unstable_LowPriority,Kb=wl.unstable_IdlePriority,C0=null,rf=null;function D5(U){if(rf&&typeof rf.onCommitFiberRoot=="function")try{rf.onCommitFiberRoot(C0,U,void 0,(U.current.flags&128)===128)}catch{}}var _u=Math.clz32?Math.clz32:z5,I5=Math.log,k5=Math.LN2;function z5(U){return U>>>=0,U===0?32:31-(I5(U)/k5|0)|0}var Lp=64,Pp=4194304;function pd(U){switch(U&-U){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return U&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return U&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return U}}function n0(U,q){var ye=U.pendingLanes;if(ye===0)return 0;var Ie=0,qe=U.suspendedLanes,yt=U.pingedLanes,G=ye&268435455;if(G!==0){var H=G&~qe;H!==0?Ie=pd(H):(yt&=G,yt!==0&&(Ie=pd(yt)))}else G=ye&~qe,G!==0?Ie=pd(G):yt!==0&&(Ie=pd(yt));if(Ie===0)return 0;if(q!==0&&q!==Ie&&!(q&qe)&&(qe=Ie&-Ie,yt=q&-q,qe>=yt||qe===16&&(yt&4194240)!==0))return q;if(Ie&4&&(Ie|=ye&16),q=U.entangledLanes,q!==0)for(U=U.entanglements,q&=Ie;0<q;)ye=31-_u(q),qe=1<<ye,Ie|=U[ye],q&=~qe;return Ie}function O5(U,q){switch(U){case 1:case 2:case 4:return q+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return q+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F5(U,q){for(var ye=U.suspendedLanes,Ie=U.pingedLanes,qe=U.expirationTimes,yt=U.pendingLanes;0<yt;){var G=31-_u(yt),H=1<<G,e=qe[G];e===-1?(!(H&ye)||H&Ie)&&(qe[G]=O5(H,q)):e<=q&&(U.expiredLanes|=H),yt&=~H}}function vy(U){return U=U.pendingLanes&-1073741825,U!==0?U:U&1073741824?1073741824:0}function Jb(){var U=Lp;return Lp<<=1,!(Lp&4194240)&&(Lp=64),U}function Eg(U){for(var q=[],ye=0;31>ye;ye++)q.push(U);return q}function Yd(U,q,ye){U.pendingLanes|=q,q!==536870912&&(U.suspendedLanes=0,U.pingedLanes=0),U=U.eventTimes,q=31-_u(q),U[q]=ye}function N5(U,q){var ye=U.pendingLanes&~q;U.pendingLanes=q,U.suspendedLanes=0,U.pingedLanes=0,U.expiredLanes&=q,U.mutableReadLanes&=q,U.entangledLanes&=q,q=U.entanglements;var Ie=U.eventTimes;for(U=U.expirationTimes;0<ye;){var qe=31-_u(ye),yt=1<<qe;q[qe]=0,Ie[qe]=-1,U[qe]=-1,ye&=~yt}}function am(U,q){var ye=U.entangledLanes|=q;for(U=U.entanglements;ye;){var Ie=31-_u(ye),qe=1<<Ie;qe&q|U[Ie]&q&&(U[Ie]|=q),ye&=~qe}}var Di=0;function Qb(U){return U&=-U,1<U?4<U?U&268435455?16:536870912:4:1}var $b,im,qb,e3,t3,dy=!1,_p=[],Ic=null,kc=null,zc=null,Pd=new Map,_d=new Map,Lc=[],B5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lx(U,q){switch(U){case"focusin":case"focusout":Ic=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":Pd.delete(q.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(q.pointerId)}}function sd(U,q,ye,Ie,qe,yt){return U===null||U.nativeEvent!==yt?(U={blockedOn:q,domEventName:ye,eventSystemFlags:Ie,nativeEvent:yt,targetContainers:[qe]},q!==null&&(q=Zd(q),q!==null&&im(q)),U):(U.eventSystemFlags|=Ie,q=U.targetContainers,qe!==null&&q.indexOf(qe)===-1&&q.push(qe),U)}function U5(U,q,ye,Ie,qe){switch(q){case"focusin":return Ic=sd(Ic,U,q,ye,Ie,qe),!0;case"dragenter":return kc=sd(kc,U,q,ye,Ie,qe),!0;case"mouseover":return zc=sd(zc,U,q,ye,Ie,qe),!0;case"pointerover":var yt=qe.pointerId;return Pd.set(yt,sd(Pd.get(yt)||null,U,q,ye,Ie,qe)),!0;case"gotpointercapture":return yt=qe.pointerId,_d.set(yt,sd(_d.get(yt)||null,U,q,ye,Ie,qe)),!0}return!1}function r3(U){var q=wh(U.target);if(q!==null){var ye=Ih(q);if(ye!==null){if(q=ye.tag,q===13){if(q=Wb(ye),q!==null){U.blockedOn=q,t3(U.priority,function(){qb(ye)});return}}else if(q===3&&ye.stateNode.current.memoizedState.isDehydrated){U.blockedOn=ye.tag===3?ye.stateNode.containerInfo:null;return}}}U.blockedOn=null}function Gp(U){if(U.blockedOn!==null)return!1;for(var q=U.targetContainers;0<q.length;){var ye=py(U.domEventName,U.eventSystemFlags,q[0],U.nativeEvent);if(ye===null){ye=U.nativeEvent;var Ie=new ye.constructor(ye.type,ye);uy=Ie,ye.target.dispatchEvent(Ie),uy=null}else return q=Zd(ye),q!==null&&im(q),U.blockedOn=ye,!1;q.shift()}return!0}function ux(U,q,ye){Gp(U)&&ye.delete(q)}function V5(){dy=!1,Ic!==null&&Gp(Ic)&&(Ic=null),kc!==null&&Gp(kc)&&(kc=null),zc!==null&&Gp(zc)&&(zc=null),Pd.forEach(ux),_d.forEach(ux)}function ld(U,q){U.blockedOn===q&&(U.blockedOn=null,dy||(dy=!0,wl.unstable_scheduleCallback(wl.unstable_NormalPriority,V5)))}function Rd(U){function q(qe){return ld(qe,U)}if(0<_p.length){ld(_p[0],U);for(var ye=1;ye<_p.length;ye++){var Ie=_p[ye];Ie.blockedOn===U&&(Ie.blockedOn=null)}}for(Ic!==null&&ld(Ic,U),kc!==null&&ld(kc,U),zc!==null&&ld(zc,U),Pd.forEach(q),_d.forEach(q),ye=0;ye<Lc.length;ye++)Ie=Lc[ye],Ie.blockedOn===U&&(Ie.blockedOn=null);for(;0<Lc.length&&(ye=Lc[0],ye.blockedOn===null);)r3(ye),ye.blockedOn===null&&Lc.shift()}var Tv=Uf.ReactCurrentBatchConfig,a0=!0;function H5(U,q,ye,Ie){var qe=Di,yt=Tv.transition;Tv.transition=null;try{Di=1,om(U,q,ye,Ie)}finally{Di=qe,Tv.transition=yt}}function G5(U,q,ye,Ie){var qe=Di,yt=Tv.transition;Tv.transition=null;try{Di=4,om(U,q,ye,Ie)}finally{Di=qe,Tv.transition=yt}}function om(U,q,ye,Ie){if(a0){var qe=py(U,q,ye,Ie);if(qe===null)Og(U,q,Ie,i0,ye),lx(U,Ie);else if(U5(qe,U,q,ye,Ie))Ie.stopPropagation();else if(lx(U,Ie),q&4&&-1<B5.indexOf(U)){for(;qe!==null;){var yt=Zd(qe);if(yt!==null&&$b(yt),yt=py(U,q,ye,Ie),yt===null&&Og(U,q,Ie,i0,ye),yt===qe)break;qe=yt}qe!==null&&Ie.stopPropagation()}else Og(U,q,Ie,null,ye)}}var i0=null;function py(U,q,ye,Ie){if(i0=null,U=rm(Ie),U=wh(U),U!==null)if(q=Ih(U),q===null)U=null;else if(ye=q.tag,ye===13){if(U=Wb(q),U!==null)return U;U=null}else if(ye===3){if(q.stateNode.current.memoizedState.isDehydrated)return q.tag===3?q.stateNode.containerInfo:null;U=null}else q!==U&&(U=null);return i0=U,null}function n3(U){switch(U){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_5()){case nm:return 1;case Zb:return 4;case r0:case R5:return 16;case Kb:return 536870912;default:return 16}default:return 16}}var _c=null,sm=null,Wp=null;function a3(){if(Wp)return Wp;var U,q=sm,ye=q.length,Ie,qe="value"in _c?_c.value:_c.textContent,yt=qe.length;for(U=0;U<ye&&q[U]===qe[U];U++);var G=ye-U;for(Ie=1;Ie<=G&&q[ye-Ie]===qe[yt-Ie];Ie++);return Wp=qe.slice(U,1<Ie?1-Ie:void 0)}function jp(U){var q=U.keyCode;return"charCode"in U?(U=U.charCode,U===0&&q===13&&(U=13)):U=q,U===10&&(U=13),32<=U||U===13?U:0}function Rp(){return!0}function fx(){return!1}function Al(U){function q(ye,Ie,qe,yt,G){this._reactName=ye,this._targetInst=qe,this.type=Ie,this.nativeEvent=yt,this.target=G,this.currentTarget=null;for(var H in U)U.hasOwnProperty(H)&&(ye=U[H],this[H]=ye?ye(yt):yt[H]);return this.isDefaultPrevented=(yt.defaultPrevented!=null?yt.defaultPrevented:yt.returnValue===!1)?Rp:fx,this.isPropagationStopped=fx,this}return vo(q.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ye=this.nativeEvent;ye&&(ye.preventDefault?ye.preventDefault():typeof ye.returnValue!="unknown"&&(ye.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var ye=this.nativeEvent;ye&&(ye.stopPropagation?ye.stopPropagation():typeof ye.cancelBubble!="unknown"&&(ye.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),q}var Iv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(U){return U.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=Al(Iv),Xd=vo({},Iv,{view:0,detail:0}),W5=Al(Xd),Cg,Lg,ud,L0=vo({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(U){return U.relatedTarget===void 0?U.fromElement===U.srcElement?U.toElement:U.fromElement:U.relatedTarget},movementX:function(U){return"movementX"in U?U.movementX:(U!==ud&&(ud&&U.type==="mousemove"?(Cg=U.screenX-ud.screenX,Lg=U.screenY-ud.screenY):Lg=Cg=0,ud=U),Cg)},movementY:function(U){return"movementY"in U?U.movementY:Lg}}),cx=Al(L0),j5=vo({},L0,{dataTransfer:0}),Y5=Al(j5),X5=vo({},Xd,{relatedTarget:0}),Pg=Al(X5),Z5=vo({},Iv,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=Al(Z5),J5=vo({},Iv,{clipboardData:function(U){return"clipboardData"in U?U.clipboardData:window.clipboardData}}),Q5=Al(J5),$5=vo({},Iv,{data:0}),hx=Al($5),q5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r6(U){var q=this.nativeEvent;return q.getModifierState?q.getModifierState(U):(U=t6[U])?!!q[U]:!1}function um(){return r6}var n6=vo({},Xd,{key:function(U){if(U.key){var q=q5[U.key]||U.key;if(q!=="Unidentified")return q}return U.type==="keypress"?(U=jp(U),U===13?"Enter":String.fromCharCode(U)):U.type==="keydown"||U.type==="keyup"?e6[U.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(U){return U.type==="keypress"?jp(U):0},keyCode:function(U){return U.type==="keydown"||U.type==="keyup"?U.keyCode:0},which:function(U){return U.type==="keypress"?jp(U):U.type==="keydown"||U.type==="keyup"?U.keyCode:0}}),a6=Al(n6),i6=vo({},L0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=Al(i6),o6=vo({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),s6=Al(o6),l6=vo({},Iv,{propertyName:0,elapsedTime:0,pseudoElement:0}),u6=Al(l6),f6=vo({},L0,{deltaX:function(U){return"deltaX"in U?U.deltaX:"wheelDeltaX"in U?-U.wheelDeltaX:0},deltaY:function(U){return"deltaY"in U?U.deltaY:"wheelDeltaY"in U?-U.wheelDeltaY:"wheelDelta"in U?-U.wheelDelta:0},deltaZ:0,deltaMode:0}),c6=Al(f6),h6=[9,13,27,32],fm=Of&&"CompositionEvent"in window,xd=null;Of&&"documentMode"in document&&(xd=document.documentMode);var v6=Of&&"TextEvent"in window&&!xd,i3=Of&&(!fm||xd&&8<xd&&11>=xd),dx=" ",px=!1;function o3(U,q){switch(U){case"keyup":return h6.indexOf(q.keyCode)!==-1;case"keydown":return q.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s3(U){return U=U.detail,typeof U=="object"&&"data"in U?U.data:null}var uv=!1;function d6(U,q){switch(U){case"compositionend":return s3(q);case"keypress":return q.which!==32?null:(px=!0,dx);case"textInput":return U=q.data,U===dx&&px?null:U;default:return null}}function p6(U,q){if(uv)return U==="compositionend"||!fm&&o3(U,q)?(U=a3(),Wp=sm=_c=null,uv=!1,U):null;switch(U){case"paste":return null;case"keypress":if(!(q.ctrlKey||q.altKey||q.metaKey)||q.ctrlKey&&q.altKey){if(q.char&&1<q.char.length)return q.char;if(q.which)return String.fromCharCode(q.which)}return null;case"compositionend":return i3&&q.locale!=="ko"?null:q.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gx(U){var q=U&&U.nodeName&&U.nodeName.toLowerCase();return q==="input"?!!g6[U.type]:q==="textarea"}function l3(U,q,ye,Ie){Bb(Ie),q=o0(q,"onChange"),0<q.length&&(ye=new lm("onChange","change",null,ye,Ie),U.push({event:ye,listeners:q}))}var bd=null,Dd=null;function y6(U){x3(U,0)}function P0(U){var q=hv(U);if(Db(q))return U}function m6(U,q){if(U==="change")return q}var u3=!1;if(Of){var _g;if(Of){var Rg="oninput"in document;if(!Rg){var yx=document.createElement("div");yx.setAttribute("oninput","return;"),Rg=typeof yx.oninput=="function"}_g=Rg}else _g=!1;u3=_g&&(!document.documentMode||9<document.documentMode)}function mx(){bd&&(bd.detachEvent("onpropertychange",f3),Dd=bd=null)}function f3(U){if(U.propertyName==="value"&&P0(Dd)){var q=[];l3(q,Dd,U,rm(U)),Gb(y6,q)}}function x6(U,q,ye){U==="focusin"?(mx(),bd=q,Dd=ye,bd.attachEvent("onpropertychange",f3)):U==="focusout"&&mx()}function b6(U){if(U==="selectionchange"||U==="keyup"||U==="keydown")return P0(Dd)}function w6(U,q){if(U==="click")return P0(q)}function T6(U,q){if(U==="input"||U==="change")return P0(q)}function A6(U,q){return U===q&&(U!==0||1/U===1/q)||U!==U&&q!==q}var Du=typeof Object.is=="function"?Object.is:A6;function Id(U,q){if(Du(U,q))return!0;if(typeof U!="object"||U===null||typeof q!="object"||q===null)return!1;var ye=Object.keys(U),Ie=Object.keys(q);if(ye.length!==Ie.length)return!1;for(Ie=0;Ie<ye.length;Ie++){var qe=ye[Ie];if(!Qg.call(q,qe)||!Du(U[qe],q[qe]))return!1}return!0}function xx(U){for(;U&&U.firstChild;)U=U.firstChild;return U}function bx(U,q){var ye=xx(U);U=0;for(var Ie;ye;){if(ye.nodeType===3){if(Ie=U+ye.textContent.length,U<=q&&Ie>=q)return{node:ye,offset:q-U};U=Ie}e:{for(;ye;){if(ye.nextSibling){ye=ye.nextSibling;break e}ye=ye.parentNode}ye=void 0}ye=xx(ye)}}function c3(U,q){return U&&q?U===q?!0:U&&U.nodeType===3?!1:q&&q.nodeType===3?c3(U,q.parentNode):"contains"in U?U.contains(q):U.compareDocumentPosition?!!(U.compareDocumentPosition(q)&16):!1:!1}function h3(){for(var U=window,q=qp();q instanceof U.HTMLIFrameElement;){try{var ye=typeof q.contentWindow.location.href=="string"}catch{ye=!1}if(ye)U=q.contentWindow;else break;q=qp(U.document)}return q}function cm(U){var q=U&&U.nodeName&&U.nodeName.toLowerCase();return q&&(q==="input"&&(U.type==="text"||U.type==="search"||U.type==="tel"||U.type==="url"||U.type==="password")||q==="textarea"||U.contentEditable==="true")}function S6(U){var q=h3(),ye=U.focusedElem,Ie=U.selectionRange;if(q!==ye&&ye&&ye.ownerDocument&&c3(ye.ownerDocument.documentElement,ye)){if(Ie!==null&&cm(ye)){if(q=Ie.start,U=Ie.end,U===void 0&&(U=q),"selectionStart"in ye)ye.selectionStart=q,ye.selectionEnd=Math.min(U,ye.value.length);else if(U=(q=ye.ownerDocument||document)&&q.defaultView||window,U.getSelection){U=U.getSelection();var qe=ye.textContent.length,yt=Math.min(Ie.start,qe);Ie=Ie.end===void 0?yt:Math.min(Ie.end,qe),!U.extend&&yt>Ie&&(qe=Ie,Ie=yt,yt=qe),qe=bx(ye,yt);var G=bx(ye,Ie);qe&&G&&(U.rangeCount!==1||U.anchorNode!==qe.node||U.anchorOffset!==qe.offset||U.focusNode!==G.node||U.focusOffset!==G.offset)&&(q=q.createRange(),q.setStart(qe.node,qe.offset),U.removeAllRanges(),yt>Ie?(U.addRange(q),U.extend(G.node,G.offset)):(q.setEnd(G.node,G.offset),U.addRange(q)))}}for(q=[],U=ye;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<q.length;ye++)U=q[ye],U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}var M6=Of&&"documentMode"in document&&11>=document.documentMode,fv=null,gy=null,wd=null,yy=!1;function wx(U,q,ye){var Ie=ye.window===ye?ye.document:ye.nodeType===9?ye:ye.ownerDocument;yy||fv==null||fv!==qp(Ie)||(Ie=fv,"selectionStart"in Ie&&cm(Ie)?Ie={start:Ie.selectionStart,end:Ie.selectionEnd}:(Ie=(Ie.ownerDocument&&Ie.ownerDocument.defaultView||window).getSelection(),Ie={anchorNode:Ie.anchorNode,anchorOffset:Ie.anchorOffset,focusNode:Ie.focusNode,focusOffset:Ie.focusOffset}),wd&&Id(wd,Ie)||(wd=Ie,Ie=o0(gy,"onSelect"),0<Ie.length&&(q=new lm("onSelect","select",null,q,ye),U.push({event:q,listeners:Ie}),q.target=fv)))}function Dp(U,q){var ye={};return ye[U.toLowerCase()]=q.toLowerCase(),ye["Webkit"+U]="webkit"+q,ye["Moz"+U]="moz"+q,ye}var cv={animationend:Dp("Animation","AnimationEnd"),animationiteration:Dp("Animation","AnimationIteration"),animationstart:Dp("Animation","AnimationStart"),transitionend:Dp("Transition","TransitionEnd")},Dg={},v3={};Of&&(v3=document.createElement("div").style,"AnimationEvent"in window||(delete cv.animationend.animation,delete cv.animationiteration.animation,delete cv.animationstart.animation),"TransitionEvent"in window||delete cv.transitionend.transition);function _0(U){if(Dg[U])return Dg[U];if(!cv[U])return U;var q=cv[U],ye;for(ye in q)if(q.hasOwnProperty(ye)&&ye in v3)return Dg[U]=q[ye];return U}var d3=_0("animationend"),p3=_0("animationiteration"),g3=_0("animationstart"),y3=_0("transitionend"),m3=new Map,Tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gc(U,q){m3.set(U,q),Dh(q,[U])}for(var Ig=0;Ig<Tx.length;Ig++){var kg=Tx[Ig],E6=kg.toLowerCase(),C6=kg[0].toUpperCase()+kg.slice(1);Gc(E6,"on"+C6)}Gc(d3,"onAnimationEnd");Gc(p3,"onAnimationIteration");Gc(g3,"onAnimationStart");Gc("dblclick","onDoubleClick");Gc("focusin","onFocus");Gc("focusout","onBlur");Gc(y3,"onTransitionEnd");Mv("onMouseEnter",["mouseout","mouseover"]);Mv("onMouseLeave",["mouseout","mouseover"]);Mv("onPointerEnter",["pointerout","pointerover"]);Mv("onPointerLeave",["pointerout","pointerover"]);Dh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L6=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function Ax(U,q,ye){var Ie=U.type||"unknown-event";U.currentTarget=ye,E5(Ie,q,void 0,U),U.currentTarget=null}function x3(U,q){q=(q&4)!==0;for(var ye=0;ye<U.length;ye++){var Ie=U[ye],qe=Ie.event;Ie=Ie.listeners;e:{var yt=void 0;if(q)for(var G=Ie.length-1;0<=G;G--){var H=Ie[G],e=H.instance,m=H.currentTarget;if(H=H.listener,e!==yt&&qe.isPropagationStopped())break e;Ax(qe,H,m),yt=e}else for(G=0;G<Ie.length;G++){if(H=Ie[G],e=H.instance,m=H.currentTarget,H=H.listener,e!==yt&&qe.isPropagationStopped())break e;Ax(qe,H,m),yt=e}}}if(t0)throw U=hy,t0=!1,hy=null,U}function Xi(U,q){var ye=q[Ty];ye===void 0&&(ye=q[Ty]=new Set);var Ie=U+"__bubble";ye.has(Ie)||(b3(q,U,2,!1),ye.add(Ie))}function zg(U,q,ye){var Ie=0;q&&(Ie|=4),b3(ye,U,Ie,q)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function kd(U){if(!U[Ip]){U[Ip]=!0,Cb.forEach(function(ye){ye!=="selectionchange"&&(L6.has(ye)||zg(ye,!1,U),zg(ye,!0,U))});var q=U.nodeType===9?U:U.ownerDocument;q===null||q[Ip]||(q[Ip]=!0,zg("selectionchange",!1,q))}}function b3(U,q,ye,Ie){switch(n3(q)){case 1:var qe=H5;break;case 4:qe=G5;break;default:qe=om}ye=qe.bind(null,q,ye,U),qe=void 0,!cy||q!=="touchstart"&&q!=="touchmove"&&q!=="wheel"||(qe=!0),Ie?qe!==void 0?U.addEventListener(q,ye,{capture:!0,passive:qe}):U.addEventListener(q,ye,!0):qe!==void 0?U.addEventListener(q,ye,{passive:qe}):U.addEventListener(q,ye,!1)}function Og(U,q,ye,Ie,qe){var yt=Ie;if(!(q&1)&&!(q&2)&&Ie!==null)e:for(;;){if(Ie===null)return;var G=Ie.tag;if(G===3||G===4){var H=Ie.stateNode.containerInfo;if(H===qe||H.nodeType===8&&H.parentNode===qe)break;if(G===4)for(G=Ie.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===qe||e.nodeType===8&&e.parentNode===qe))return;G=G.return}for(;H!==null;){if(G=wh(H),G===null)return;if(e=G.tag,e===5||e===6){Ie=yt=G;continue e}H=H.parentNode}}Ie=Ie.return}Gb(function(){var m=yt,P=rm(ye),s=[];e:{var L=m3.get(U);if(L!==void 0){var S=lm,v=U;switch(U){case"keypress":if(jp(ye)===0)break e;case"keydown":case"keyup":S=a6;break;case"focusin":v="focus",S=Pg;break;case"focusout":v="blur",S=Pg;break;case"beforeblur":case"afterblur":S=Pg;break;case"click":if(ye.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Y5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=s6;break;case d3:case p3:case g3:S=K5;break;case y3:S=u6;break;case"scroll":S=W5;break;case"wheel":S=c6;break;case"copy":case"cut":case"paste":S=Q5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=vx}var p=(q&4)!==0,r=!p&&U==="scroll",t=p?L!==null?L+"Capture":null:L;p=[];for(var a=m,n;a!==null;){n=a;var f=n.stateNode;if(n.tag===5&&f!==null&&(n=f,t!==null&&(f=Ld(a,t),f!=null&&p.push(zd(a,f,n)))),r)break;a=a.return}0<p.length&&(L=new S(L,v,null,ye,P),s.push({event:L,listeners:p}))}}if(!(q&7)){e:{if(L=U==="mouseover"||U==="pointerover",S=U==="mouseout"||U==="pointerout",L&&ye!==uy&&(v=ye.relatedTarget||ye.fromElement)&&(wh(v)||v[Ff]))break e;if((S||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,S?(v=ye.relatedTarget||ye.toElement,S=m,v=v?wh(v):null,v!==null&&(r=Ih(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=m),S!==v)){if(p=cx,f="onMouseLeave",t="onMouseEnter",a="mouse",(U==="pointerout"||U==="pointerover")&&(p=vx,f="onPointerLeave",t="onPointerEnter",a="pointer"),r=S==null?L:hv(S),n=v==null?L:hv(v),L=new p(f,a+"leave",S,ye,P),L.target=r,L.relatedTarget=n,f=null,wh(P)===m&&(p=new p(t,a+"enter",v,ye,P),p.target=n,p.relatedTarget=r,f=p),r=f,S&&v)t:{for(p=S,t=v,a=0,n=p;n;n=ov(n))a++;for(n=0,f=t;f;f=ov(f))n++;for(;0<a-n;)p=ov(p),a--;for(;0<n-a;)t=ov(t),n--;for(;a--;){if(p===t||t!==null&&p===t.alternate)break t;p=ov(p),t=ov(t)}p=null}else p=null;S!==null&&Sx(s,L,S,p,!1),v!==null&&r!==null&&Sx(s,r,v,p,!0)}}e:{if(L=m?hv(m):window,S=L.nodeName&&L.nodeName.toLowerCase(),S==="select"||S==="input"&&L.type==="file")var u=m6;else if(gx(L))if(u3)u=T6;else{u=b6;var l=x6}else(S=L.nodeName)&&S.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(u=w6);if(u&&(u=u(U,m))){l3(s,u,ye,P);break e}l&&l(U,L,m),U==="focusout"&&(l=L._wrapperState)&&l.controlled&&L.type==="number"&&ay(L,"number",L.value)}switch(l=m?hv(m):window,U){case"focusin":(gx(l)||l.contentEditable==="true")&&(fv=l,gy=m,wd=null);break;case"focusout":wd=gy=fv=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,wx(s,ye,P);break;case"selectionchange":if(M6)break;case"keydown":case"keyup":wx(s,ye,P)}var g;if(fm)e:{switch(U){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else uv?o3(U,ye)&&(h="onCompositionEnd"):U==="keydown"&&ye.keyCode===229&&(h="onCompositionStart");h&&(i3&&ye.locale!=="ko"&&(uv||h!=="onCompositionStart"?h==="onCompositionEnd"&&uv&&(g=a3()):(_c=P,sm="value"in _c?_c.value:_c.textContent,uv=!0)),l=o0(m,h),0<l.length&&(h=new hx(h,U,null,ye,P),s.push({event:h,listeners:l}),g?h.data=g:(g=s3(ye),g!==null&&(h.data=g)))),(g=v6?d6(U,ye):p6(U,ye))&&(m=o0(m,"onBeforeInput"),0<m.length&&(P=new hx("onBeforeInput","beforeinput",null,ye,P),s.push({event:P,listeners:m}),P.data=g))}x3(s,q)})}function zd(U,q,ye){return{instance:U,listener:q,currentTarget:ye}}function o0(U,q){for(var ye=q+"Capture",Ie=[];U!==null;){var qe=U,yt=qe.stateNode;qe.tag===5&&yt!==null&&(qe=yt,yt=Ld(U,ye),yt!=null&&Ie.unshift(zd(U,yt,qe)),yt=Ld(U,q),yt!=null&&Ie.push(zd(U,yt,qe))),U=U.return}return Ie}function ov(U){if(U===null)return null;do U=U.return;while(U&&U.tag!==5);return U||null}function Sx(U,q,ye,Ie,qe){for(var yt=q._reactName,G=[];ye!==null&&ye!==Ie;){var H=ye,e=H.alternate,m=H.stateNode;if(e!==null&&e===Ie)break;H.tag===5&&m!==null&&(H=m,qe?(e=Ld(ye,yt),e!=null&&G.unshift(zd(ye,e,H))):qe||(e=Ld(ye,yt),e!=null&&G.push(zd(ye,e,H)))),ye=ye.return}G.length!==0&&U.push({event:q,listeners:G})}var P6=/\r\n?/g,_6=/\u0000|\uFFFD/g;function Mx(U){return(typeof U=="string"?U:""+U).replace(P6,`
`).replace(_6,"")}function kp(U,q,ye){if(q=Mx(q),Mx(U)!==q&&ye)throw Error(ma(425))}function s0(){}var my=null,xy=null;function by(U,q){return U==="textarea"||U==="noscript"||typeof q.children=="string"||typeof q.children=="number"||typeof q.dangerouslySetInnerHTML=="object"&&q.dangerouslySetInnerHTML!==null&&q.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,R6=typeof clearTimeout=="function"?clearTimeout:void 0,Ex=typeof Promise=="function"?Promise:void 0,D6=typeof queueMicrotask=="function"?queueMicrotask:typeof Ex<"u"?function(U){return Ex.resolve(null).then(U).catch(I6)}:wy;function I6(U){setTimeout(function(){throw U})}function Fg(U,q){var ye=q,Ie=0;do{var qe=ye.nextSibling;if(U.removeChild(ye),qe&&qe.nodeType===8)if(ye=qe.data,ye==="/$"){if(Ie===0){U.removeChild(qe),Rd(q);return}Ie--}else ye!=="$"&&ye!=="$?"&&ye!=="$!"||Ie++;ye=qe}while(ye);Rd(q)}function Oc(U){for(;U!=null;U=U.nextSibling){var q=U.nodeType;if(q===1||q===3)break;if(q===8){if(q=U.data,q==="$"||q==="$!"||q==="$?")break;if(q==="/$")return null}}return U}function Cx(U){U=U.previousSibling;for(var q=0;U;){if(U.nodeType===8){var ye=U.data;if(ye==="$"||ye==="$!"||ye==="$?"){if(q===0)return U;q--}else ye==="/$"&&q++}U=U.previousSibling}return null}var kv=Math.random().toString(36).slice(2),tf="__reactFiber$"+kv,Od="__reactProps$"+kv,Ff="__reactContainer$"+kv,Ty="__reactEvents$"+kv,k6="__reactListeners$"+kv,z6="__reactHandles$"+kv;function wh(U){var q=U[tf];if(q)return q;for(var ye=U.parentNode;ye;){if(q=ye[Ff]||ye[tf]){if(ye=q.alternate,q.child!==null||ye!==null&&ye.child!==null)for(U=Cx(U);U!==null;){if(ye=U[tf])return ye;U=Cx(U)}return q}U=ye,ye=U.parentNode}return null}function Zd(U){return U=U[tf]||U[Ff],!U||U.tag!==5&&U.tag!==6&&U.tag!==13&&U.tag!==3?null:U}function hv(U){if(U.tag===5||U.tag===6)return U.stateNode;throw Error(ma(33))}function R0(U){return U[Od]||null}var Ay=[],vv=-1;function Wc(U){return{current:U}}function Zi(U){0>vv||(U.current=Ay[vv],Ay[vv]=null,vv--)}function Vi(U,q){vv++,Ay[vv]=U.current,U.current=q}var Hc={},Ss=Wc(Hc),tl=Wc(!1),Ch=Hc;function Ev(U,q){var ye=U.type.contextTypes;if(!ye)return Hc;var Ie=U.stateNode;if(Ie&&Ie.__reactInternalMemoizedUnmaskedChildContext===q)return Ie.__reactInternalMemoizedMaskedChildContext;var qe={},yt;for(yt in ye)qe[yt]=q[yt];return Ie&&(U=U.stateNode,U.__reactInternalMemoizedUnmaskedChildContext=q,U.__reactInternalMemoizedMaskedChildContext=qe),qe}function rl(U){return U=U.childContextTypes,U!=null}function l0(){Zi(tl),Zi(Ss)}function Lx(U,q,ye){if(Ss.current!==Hc)throw Error(ma(168));Vi(Ss,q),Vi(tl,ye)}function w3(U,q,ye){var Ie=U.stateNode;if(q=q.childContextTypes,typeof Ie.getChildContext!="function")return ye;Ie=Ie.getChildContext();for(var qe in Ie)if(!(qe in q))throw Error(ma(108,x5(U)||"Unknown",qe));return vo({},ye,Ie)}function u0(U){return U=(U=U.stateNode)&&U.__reactInternalMemoizedMergedChildContext||Hc,Ch=Ss.current,Vi(Ss,U),Vi(tl,tl.current),!0}function Px(U,q,ye){var Ie=U.stateNode;if(!Ie)throw Error(ma(169));ye?(U=w3(U,q,Ch),Ie.__reactInternalMemoizedMergedChildContext=U,Zi(tl),Zi(Ss),Vi(Ss,U)):Zi(tl),Vi(tl,ye)}var Df=null,D0=!1,Ng=!1;function T3(U){Df===null?Df=[U]:Df.push(U)}function O6(U){D0=!0,T3(U)}function jc(){if(!Ng&&Df!==null){Ng=!0;var U=0,q=Di;try{var ye=Df;for(Di=1;U<ye.length;U++){var Ie=ye[U];do Ie=Ie(!0);while(Ie!==null)}Df=null,D0=!1}catch(qe){throw Df!==null&&(Df=Df.slice(U+1)),Xb(nm,jc),qe}finally{Di=q,Ng=!1}}return null}var dv=[],pv=0,f0=null,c0=0,Zl=[],Kl=0,Lh=null,If=1,kf="";function xh(U,q){dv[pv++]=c0,dv[pv++]=f0,f0=U,c0=q}function A3(U,q,ye){Zl[Kl++]=If,Zl[Kl++]=kf,Zl[Kl++]=Lh,Lh=U;var Ie=If;U=kf;var qe=32-_u(Ie)-1;Ie&=~(1<<qe),ye+=1;var yt=32-_u(q)+qe;if(30<yt){var G=qe-qe%5;yt=(Ie&(1<<G)-1).toString(32),Ie>>=G,qe-=G,If=1<<32-_u(q)+qe|ye<<qe|Ie,kf=yt+U}else If=1<<yt|ye<<qe|Ie,kf=U}function hm(U){U.return!==null&&(xh(U,1),A3(U,1,0))}function vm(U){for(;U===f0;)f0=dv[--pv],dv[pv]=null,c0=dv[--pv],dv[pv]=null;for(;U===Lh;)Lh=Zl[--Kl],Zl[Kl]=null,kf=Zl[--Kl],Zl[Kl]=null,If=Zl[--Kl],Zl[Kl]=null}var bl=null,xl=null,eo=!1,Pu=null;function S3(U,q){var ye=Jl(5,null,null,0);ye.elementType="DELETED",ye.stateNode=q,ye.return=U,q=U.deletions,q===null?(U.deletions=[ye],U.flags|=16):q.push(ye)}function _x(U,q){switch(U.tag){case 5:var ye=U.type;return q=q.nodeType!==1||ye.toLowerCase()!==q.nodeName.toLowerCase()?null:q,q!==null?(U.stateNode=q,bl=U,xl=Oc(q.firstChild),!0):!1;case 6:return q=U.pendingProps===""||q.nodeType!==3?null:q,q!==null?(U.stateNode=q,bl=U,xl=null,!0):!1;case 13:return q=q.nodeType!==8?null:q,q!==null?(ye=Lh!==null?{id:If,overflow:kf}:null,U.memoizedState={dehydrated:q,treeContext:ye,retryLane:1073741824},ye=Jl(18,null,null,0),ye.stateNode=q,ye.return=U,U.child=ye,bl=U,xl=null,!0):!1;default:return!1}}function Sy(U){return(U.mode&1)!==0&&(U.flags&128)===0}function My(U){if(eo){var q=xl;if(q){var ye=q;if(!_x(U,q)){if(Sy(U))throw Error(ma(418));q=Oc(ye.nextSibling);var Ie=bl;q&&_x(U,q)?S3(Ie,ye):(U.flags=U.flags&-4097|2,eo=!1,bl=U)}}else{if(Sy(U))throw Error(ma(418));U.flags=U.flags&-4097|2,eo=!1,bl=U}}}function Rx(U){for(U=U.return;U!==null&&U.tag!==5&&U.tag!==3&&U.tag!==13;)U=U.return;bl=U}function zp(U){if(U!==bl)return!1;if(!eo)return Rx(U),eo=!0,!1;var q;if((q=U.tag!==3)&&!(q=U.tag!==5)&&(q=U.type,q=q!=="head"&&q!=="body"&&!by(U.type,U.memoizedProps)),q&&(q=xl)){if(Sy(U))throw M3(),Error(ma(418));for(;q;)S3(U,q),q=Oc(q.nextSibling)}if(Rx(U),U.tag===13){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(ma(317));e:{for(U=U.nextSibling,q=0;U;){if(U.nodeType===8){var ye=U.data;if(ye==="/$"){if(q===0){xl=Oc(U.nextSibling);break e}q--}else ye!=="$"&&ye!=="$!"&&ye!=="$?"||q++}U=U.nextSibling}xl=null}}else xl=bl?Oc(U.stateNode.nextSibling):null;return!0}function M3(){for(var U=xl;U;)U=Oc(U.nextSibling)}function Cv(){xl=bl=null,eo=!1}function dm(U){Pu===null?Pu=[U]:Pu.push(U)}var F6=Uf.ReactCurrentBatchConfig;function fd(U,q,ye){if(U=ye.ref,U!==null&&typeof U!="function"&&typeof U!="object"){if(ye._owner){if(ye=ye._owner,ye){if(ye.tag!==1)throw Error(ma(309));var Ie=ye.stateNode}if(!Ie)throw Error(ma(147,U));var qe=Ie,yt=""+U;return q!==null&&q.ref!==null&&typeof q.ref=="function"&&q.ref._stringRef===yt?q.ref:(q=function(G){var H=qe.refs;G===null?delete H[yt]:H[yt]=G},q._stringRef=yt,q)}if(typeof U!="string")throw Error(ma(284));if(!ye._owner)throw Error(ma(290,U))}return U}function Op(U,q){throw U=Object.prototype.toString.call(q),Error(ma(31,U==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":U))}function Dx(U){var q=U._init;return q(U._payload)}function E3(U){function q(t,a){if(U){var n=t.deletions;n===null?(t.deletions=[a],t.flags|=16):n.push(a)}}function ye(t,a){if(!U)return null;for(;a!==null;)q(t,a),a=a.sibling;return null}function Ie(t,a){for(t=new Map;a!==null;)a.key!==null?t.set(a.key,a):t.set(a.index,a),a=a.sibling;return t}function qe(t,a){return t=Uc(t,a),t.index=0,t.sibling=null,t}function yt(t,a,n){return t.index=n,U?(n=t.alternate,n!==null?(n=n.index,n<a?(t.flags|=2,a):n):(t.flags|=2,a)):(t.flags|=1048576,a)}function G(t){return U&&t.alternate===null&&(t.flags|=2),t}function H(t,a,n,f){return a===null||a.tag!==6?(a=jg(n,t.mode,f),a.return=t,a):(a=qe(a,n),a.return=t,a)}function e(t,a,n,f){var u=n.type;return u===lv?P(t,a,n.props.children,f,n.key):a!==null&&(a.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Mc&&Dx(u)===a.type)?(f=qe(a,n.props),f.ref=fd(t,a,n),f.return=t,f):(f=$p(n.type,n.key,n.props,null,t.mode,f),f.ref=fd(t,a,n),f.return=t,f)}function m(t,a,n,f){return a===null||a.tag!==4||a.stateNode.containerInfo!==n.containerInfo||a.stateNode.implementation!==n.implementation?(a=Yg(n,t.mode,f),a.return=t,a):(a=qe(a,n.children||[]),a.return=t,a)}function P(t,a,n,f,u){return a===null||a.tag!==7?(a=Mh(n,t.mode,f,u),a.return=t,a):(a=qe(a,n),a.return=t,a)}function s(t,a,n){if(typeof a=="string"&&a!==""||typeof a=="number")return a=jg(""+a,t.mode,n),a.return=t,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Mp:return n=$p(a.type,a.key,a.props,null,t.mode,n),n.ref=fd(t,null,a),n.return=t,n;case sv:return a=Yg(a,t.mode,n),a.return=t,a;case Mc:var f=a._init;return s(t,f(a._payload),n)}if(dd(a)||id(a))return a=Mh(a,t.mode,n,null),a.return=t,a;Op(t,a)}return null}function L(t,a,n,f){var u=a!==null?a.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:H(t,a,""+n,f);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Mp:return n.key===u?e(t,a,n,f):null;case sv:return n.key===u?m(t,a,n,f):null;case Mc:return u=n._init,L(t,a,u(n._payload),f)}if(dd(n)||id(n))return u!==null?null:P(t,a,n,f,null);Op(t,n)}return null}function S(t,a,n,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return t=t.get(n)||null,H(a,t,""+f,u);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Mp:return t=t.get(f.key===null?n:f.key)||null,e(a,t,f,u);case sv:return t=t.get(f.key===null?n:f.key)||null,m(a,t,f,u);case Mc:var l=f._init;return S(t,a,n,l(f._payload),u)}if(dd(f)||id(f))return t=t.get(n)||null,P(a,t,f,u,null);Op(a,f)}return null}function v(t,a,n,f){for(var u=null,l=null,g=a,h=a=0,T=null;g!==null&&h<n.length;h++){g.index>h?(T=g,g=null):T=g.sibling;var c=L(t,g,n[h],f);if(c===null){g===null&&(g=T);break}U&&g&&c.alternate===null&&q(t,g),a=yt(c,a,h),l===null?u=c:l.sibling=c,l=c,g=T}if(h===n.length)return ye(t,g),eo&&xh(t,h),u;if(g===null){for(;h<n.length;h++)g=s(t,n[h],f),g!==null&&(a=yt(g,a,h),l===null?u=g:l.sibling=g,l=g);return eo&&xh(t,h),u}for(g=Ie(t,g);h<n.length;h++)T=S(g,t,h,n[h],f),T!==null&&(U&&T.alternate!==null&&g.delete(T.key===null?h:T.key),a=yt(T,a,h),l===null?u=T:l.sibling=T,l=T);return U&&g.forEach(function(i){return q(t,i)}),eo&&xh(t,h),u}function p(t,a,n,f){var u=id(n);if(typeof u!="function")throw Error(ma(150));if(n=u.call(n),n==null)throw Error(ma(151));for(var l=u=null,g=a,h=a=0,T=null,c=n.next();g!==null&&!c.done;h++,c=n.next()){g.index>h?(T=g,g=null):T=g.sibling;var i=L(t,g,c.value,f);if(i===null){g===null&&(g=T);break}U&&g&&i.alternate===null&&q(t,g),a=yt(i,a,h),l===null?u=i:l.sibling=i,l=i,g=T}if(c.done)return ye(t,g),eo&&xh(t,h),u;if(g===null){for(;!c.done;h++,c=n.next())c=s(t,c.value,f),c!==null&&(a=yt(c,a,h),l===null?u=c:l.sibling=c,l=c);return eo&&xh(t,h),u}for(g=Ie(t,g);!c.done;h++,c=n.next())c=S(g,t,h,c.value,f),c!==null&&(U&&c.alternate!==null&&g.delete(c.key===null?h:c.key),a=yt(c,a,h),l===null?u=c:l.sibling=c,l=c);return U&&g.forEach(function(d){return q(t,d)}),eo&&xh(t,h),u}function r(t,a,n,f){if(typeof n=="object"&&n!==null&&n.type===lv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Mp:e:{for(var u=n.key,l=a;l!==null;){if(l.key===u){if(u=n.type,u===lv){if(l.tag===7){ye(t,l.sibling),a=qe(l,n.props.children),a.return=t,t=a;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Mc&&Dx(u)===l.type){ye(t,l.sibling),a=qe(l,n.props),a.ref=fd(t,l,n),a.return=t,t=a;break e}ye(t,l);break}else q(t,l);l=l.sibling}n.type===lv?(a=Mh(n.props.children,t.mode,f,n.key),a.return=t,t=a):(f=$p(n.type,n.key,n.props,null,t.mode,f),f.ref=fd(t,a,n),f.return=t,t=f)}return G(t);case sv:e:{for(l=n.key;a!==null;){if(a.key===l)if(a.tag===4&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){ye(t,a.sibling),a=qe(a,n.children||[]),a.return=t,t=a;break e}else{ye(t,a);break}else q(t,a);a=a.sibling}a=Yg(n,t.mode,f),a.return=t,t=a}return G(t);case Mc:return l=n._init,r(t,a,l(n._payload),f)}if(dd(n))return v(t,a,n,f);if(id(n))return p(t,a,n,f);Op(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,a!==null&&a.tag===6?(ye(t,a.sibling),a=qe(a,n),a.return=t,t=a):(ye(t,a),a=jg(n,t.mode,f),a.return=t,t=a),G(t)):ye(t,a)}return r}var Lv=E3(!0),C3=E3(!1),h0=Wc(null),v0=null,gv=null,pm=null;function gm(){pm=gv=v0=null}function ym(U){var q=h0.current;Zi(h0),U._currentValue=q}function Ey(U,q,ye){for(;U!==null;){var Ie=U.alternate;if((U.childLanes&q)!==q?(U.childLanes|=q,Ie!==null&&(Ie.childLanes|=q)):Ie!==null&&(Ie.childLanes&q)!==q&&(Ie.childLanes|=q),U===ye)break;U=U.return}}function Av(U,q){v0=U,pm=gv=null,U=U.dependencies,U!==null&&U.firstContext!==null&&(U.lanes&q&&(el=!0),U.firstContext=null)}function $l(U){var q=U._currentValue;if(pm!==U)if(U={context:U,memoizedValue:q,next:null},gv===null){if(v0===null)throw Error(ma(308));gv=U,v0.dependencies={lanes:0,firstContext:U}}else gv=gv.next=U;return q}var Th=null;function mm(U){Th===null?Th=[U]:Th.push(U)}function L3(U,q,ye,Ie){var qe=q.interleaved;return qe===null?(ye.next=ye,mm(q)):(ye.next=qe.next,qe.next=ye),q.interleaved=ye,Nf(U,Ie)}function Nf(U,q){U.lanes|=q;var ye=U.alternate;for(ye!==null&&(ye.lanes|=q),ye=U,U=U.return;U!==null;)U.childLanes|=q,ye=U.alternate,ye!==null&&(ye.childLanes|=q),ye=U,U=U.return;return ye.tag===3?ye.stateNode:null}var Ec=!1;function xm(U){U.updateQueue={baseState:U.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P3(U,q){U=U.updateQueue,q.updateQueue===U&&(q.updateQueue={baseState:U.baseState,firstBaseUpdate:U.firstBaseUpdate,lastBaseUpdate:U.lastBaseUpdate,shared:U.shared,effects:U.effects})}function zf(U,q){return{eventTime:U,lane:q,tag:0,payload:null,callback:null,next:null}}function Fc(U,q,ye){var Ie=U.updateQueue;if(Ie===null)return null;if(Ie=Ie.shared,Ai&2){var qe=Ie.pending;return qe===null?q.next=q:(q.next=qe.next,qe.next=q),Ie.pending=q,Nf(U,ye)}return qe=Ie.interleaved,qe===null?(q.next=q,mm(Ie)):(q.next=qe.next,qe.next=q),Ie.interleaved=q,Nf(U,ye)}function Yp(U,q,ye){if(q=q.updateQueue,q!==null&&(q=q.shared,(ye&4194240)!==0)){var Ie=q.lanes;Ie&=U.pendingLanes,ye|=Ie,q.lanes=ye,am(U,ye)}}function Ix(U,q){var ye=U.updateQueue,Ie=U.alternate;if(Ie!==null&&(Ie=Ie.updateQueue,ye===Ie)){var qe=null,yt=null;if(ye=ye.firstBaseUpdate,ye!==null){do{var G={eventTime:ye.eventTime,lane:ye.lane,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null};yt===null?qe=yt=G:yt=yt.next=G,ye=ye.next}while(ye!==null);yt===null?qe=yt=q:yt=yt.next=q}else qe=yt=q;ye={baseState:Ie.baseState,firstBaseUpdate:qe,lastBaseUpdate:yt,shared:Ie.shared,effects:Ie.effects},U.updateQueue=ye;return}U=ye.lastBaseUpdate,U===null?ye.firstBaseUpdate=q:U.next=q,ye.lastBaseUpdate=q}function d0(U,q,ye,Ie){var qe=U.updateQueue;Ec=!1;var yt=qe.firstBaseUpdate,G=qe.lastBaseUpdate,H=qe.shared.pending;if(H!==null){qe.shared.pending=null;var e=H,m=e.next;e.next=null,G===null?yt=m:G.next=m,G=e;var P=U.alternate;P!==null&&(P=P.updateQueue,H=P.lastBaseUpdate,H!==G&&(H===null?P.firstBaseUpdate=m:H.next=m,P.lastBaseUpdate=e))}if(yt!==null){var s=qe.baseState;G=0,P=m=e=null,H=yt;do{var L=H.lane,S=H.eventTime;if((Ie&L)===L){P!==null&&(P=P.next={eventTime:S,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=U,p=H;switch(L=q,S=ye,p.tag){case 1:if(v=p.payload,typeof v=="function"){s=v.call(S,s,L);break e}s=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(S,s,L):v,L==null)break e;s=vo({},s,L);break e;case 2:Ec=!0}}H.callback!==null&&H.lane!==0&&(U.flags|=64,L=qe.effects,L===null?qe.effects=[H]:L.push(H))}else S={eventTime:S,lane:L,tag:H.tag,payload:H.payload,callback:H.callback,next:null},P===null?(m=P=S,e=s):P=P.next=S,G|=L;if(H=H.next,H===null){if(H=qe.shared.pending,H===null)break;L=H,H=L.next,L.next=null,qe.lastBaseUpdate=L,qe.shared.pending=null}}while(!0);if(P===null&&(e=s),qe.baseState=e,qe.firstBaseUpdate=m,qe.lastBaseUpdate=P,q=qe.shared.interleaved,q!==null){qe=q;do G|=qe.lane,qe=qe.next;while(qe!==q)}else yt===null&&(qe.shared.lanes=0);_h|=G,U.lanes=G,U.memoizedState=s}}function kx(U,q,ye){if(U=q.effects,q.effects=null,U!==null)for(q=0;q<U.length;q++){var Ie=U[q],qe=Ie.callback;if(qe!==null){if(Ie.callback=null,Ie=ye,typeof qe!="function")throw Error(ma(191,qe));qe.call(Ie)}}}var Kd={},nf=Wc(Kd),Fd=Wc(Kd),Nd=Wc(Kd);function Ah(U){if(U===Kd)throw Error(ma(174));return U}function bm(U,q){switch(Vi(Nd,q),Vi(Fd,U),Vi(nf,Kd),U=q.nodeType,U){case 9:case 11:q=(q=q.documentElement)?q.namespaceURI:oy(null,"");break;default:U=U===8?q.parentNode:q,q=U.namespaceURI||null,U=U.tagName,q=oy(q,U)}Zi(nf),Vi(nf,q)}function Pv(){Zi(nf),Zi(Fd),Zi(Nd)}function _3(U){Ah(Nd.current);var q=Ah(nf.current),ye=oy(q,U.type);q!==ye&&(Vi(Fd,U),Vi(nf,ye))}function wm(U){Fd.current===U&&(Zi(nf),Zi(Fd))}var co=Wc(0);function p0(U){for(var q=U;q!==null;){if(q.tag===13){var ye=q.memoizedState;if(ye!==null&&(ye=ye.dehydrated,ye===null||ye.data==="$?"||ye.data==="$!"))return q}else if(q.tag===19&&q.memoizedProps.revealOrder!==void 0){if(q.flags&128)return q}else if(q.child!==null){q.child.return=q,q=q.child;continue}if(q===U)break;for(;q.sibling===null;){if(q.return===null||q.return===U)return null;q=q.return}q.sibling.return=q.return,q=q.sibling}return null}var Bg=[];function Tm(){for(var U=0;U<Bg.length;U++)Bg[U]._workInProgressVersionPrimary=null;Bg.length=0}var Xp=Uf.ReactCurrentDispatcher,Ug=Uf.ReactCurrentBatchConfig,Ph=0,ho=null,No=null,Yo=null,g0=!1,Td=!1,Bd=0,N6=0;function ws(){throw Error(ma(321))}function Am(U,q){if(q===null)return!1;for(var ye=0;ye<q.length&&ye<U.length;ye++)if(!Du(U[ye],q[ye]))return!1;return!0}function Sm(U,q,ye,Ie,qe,yt){if(Ph=yt,ho=q,q.memoizedState=null,q.updateQueue=null,q.lanes=0,Xp.current=U===null||U.memoizedState===null?H6:G6,U=ye(Ie,qe),Td){yt=0;do{if(Td=!1,Bd=0,25<=yt)throw Error(ma(301));yt+=1,Yo=No=null,q.updateQueue=null,Xp.current=W6,U=ye(Ie,qe)}while(Td)}if(Xp.current=y0,q=No!==null&&No.next!==null,Ph=0,Yo=No=ho=null,g0=!1,q)throw Error(ma(300));return U}function Mm(){var U=Bd!==0;return Bd=0,U}function ef(){var U={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yo===null?ho.memoizedState=Yo=U:Yo=Yo.next=U,Yo}function ql(){if(No===null){var U=ho.alternate;U=U!==null?U.memoizedState:null}else U=No.next;var q=Yo===null?ho.memoizedState:Yo.next;if(q!==null)Yo=q,No=U;else{if(U===null)throw Error(ma(310));No=U,U={memoizedState:No.memoizedState,baseState:No.baseState,baseQueue:No.baseQueue,queue:No.queue,next:null},Yo===null?ho.memoizedState=Yo=U:Yo=Yo.next=U}return Yo}function Ud(U,q){return typeof q=="function"?q(U):q}function Vg(U){var q=ql(),ye=q.queue;if(ye===null)throw Error(ma(311));ye.lastRenderedReducer=U;var Ie=No,qe=Ie.baseQueue,yt=ye.pending;if(yt!==null){if(qe!==null){var G=qe.next;qe.next=yt.next,yt.next=G}Ie.baseQueue=qe=yt,ye.pending=null}if(qe!==null){yt=qe.next,Ie=Ie.baseState;var H=G=null,e=null,m=yt;do{var P=m.lane;if((Ph&P)===P)e!==null&&(e=e.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),Ie=m.hasEagerState?m.eagerState:U(Ie,m.action);else{var s={lane:P,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};e===null?(H=e=s,G=Ie):e=e.next=s,ho.lanes|=P,_h|=P}m=m.next}while(m!==null&&m!==yt);e===null?G=Ie:e.next=H,Du(Ie,q.memoizedState)||(el=!0),q.memoizedState=Ie,q.baseState=G,q.baseQueue=e,ye.lastRenderedState=Ie}if(U=ye.interleaved,U!==null){qe=U;do yt=qe.lane,ho.lanes|=yt,_h|=yt,qe=qe.next;while(qe!==U)}else qe===null&&(ye.lanes=0);return[q.memoizedState,ye.dispatch]}function Hg(U){var q=ql(),ye=q.queue;if(ye===null)throw Error(ma(311));ye.lastRenderedReducer=U;var Ie=ye.dispatch,qe=ye.pending,yt=q.memoizedState;if(qe!==null){ye.pending=null;var G=qe=qe.next;do yt=U(yt,G.action),G=G.next;while(G!==qe);Du(yt,q.memoizedState)||(el=!0),q.memoizedState=yt,q.baseQueue===null&&(q.baseState=yt),ye.lastRenderedState=yt}return[yt,Ie]}function R3(){}function D3(U,q){var ye=ho,Ie=ql(),qe=q(),yt=!Du(Ie.memoizedState,qe);if(yt&&(Ie.memoizedState=qe,el=!0),Ie=Ie.queue,Em(z3.bind(null,ye,Ie,U),[U]),Ie.getSnapshot!==q||yt||Yo!==null&&Yo.memoizedState.tag&1){if(ye.flags|=2048,Vd(9,k3.bind(null,ye,Ie,qe,q),void 0,null),Xo===null)throw Error(ma(349));Ph&30||I3(ye,q,qe)}return qe}function I3(U,q,ye){U.flags|=16384,U={getSnapshot:q,value:ye},q=ho.updateQueue,q===null?(q={lastEffect:null,stores:null},ho.updateQueue=q,q.stores=[U]):(ye=q.stores,ye===null?q.stores=[U]:ye.push(U))}function k3(U,q,ye,Ie){q.value=ye,q.getSnapshot=Ie,O3(q)&&F3(U)}function z3(U,q,ye){return ye(function(){O3(q)&&F3(U)})}function O3(U){var q=U.getSnapshot;U=U.value;try{var ye=q();return!Du(U,ye)}catch{return!0}}function F3(U){var q=Nf(U,1);q!==null&&Ru(q,U,1,-1)}function zx(U){var q=ef();return typeof U=="function"&&(U=U()),q.memoizedState=q.baseState=U,U={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:U},q.queue=U,U=U.dispatch=V6.bind(null,ho,U),[q.memoizedState,U]}function Vd(U,q,ye,Ie){return U={tag:U,create:q,destroy:ye,deps:Ie,next:null},q=ho.updateQueue,q===null?(q={lastEffect:null,stores:null},ho.updateQueue=q,q.lastEffect=U.next=U):(ye=q.lastEffect,ye===null?q.lastEffect=U.next=U:(Ie=ye.next,ye.next=U,U.next=Ie,q.lastEffect=U)),U}function N3(){return ql().memoizedState}function Zp(U,q,ye,Ie){var qe=ef();ho.flags|=U,qe.memoizedState=Vd(1|q,ye,void 0,Ie===void 0?null:Ie)}function I0(U,q,ye,Ie){var qe=ql();Ie=Ie===void 0?null:Ie;var yt=void 0;if(No!==null){var G=No.memoizedState;if(yt=G.destroy,Ie!==null&&Am(Ie,G.deps)){qe.memoizedState=Vd(q,ye,yt,Ie);return}}ho.flags|=U,qe.memoizedState=Vd(1|q,ye,yt,Ie)}function Ox(U,q){return Zp(8390656,8,U,q)}function Em(U,q){return I0(2048,8,U,q)}function B3(U,q){return I0(4,2,U,q)}function U3(U,q){return I0(4,4,U,q)}function V3(U,q){if(typeof q=="function")return U=U(),q(U),function(){q(null)};if(q!=null)return U=U(),q.current=U,function(){q.current=null}}function H3(U,q,ye){return ye=ye!=null?ye.concat([U]):null,I0(4,4,V3.bind(null,q,U),ye)}function Cm(){}function G3(U,q){var ye=ql();q=q===void 0?null:q;var Ie=ye.memoizedState;return Ie!==null&&q!==null&&Am(q,Ie[1])?Ie[0]:(ye.memoizedState=[U,q],U)}function W3(U,q){var ye=ql();q=q===void 0?null:q;var Ie=ye.memoizedState;return Ie!==null&&q!==null&&Am(q,Ie[1])?Ie[0]:(U=U(),ye.memoizedState=[U,q],U)}function j3(U,q,ye){return Ph&21?(Du(ye,q)||(ye=Jb(),ho.lanes|=ye,_h|=ye,U.baseState=!0),q):(U.baseState&&(U.baseState=!1,el=!0),U.memoizedState=ye)}function B6(U,q){var ye=Di;Di=ye!==0&&4>ye?ye:4,U(!0);var Ie=Ug.transition;Ug.transition={};try{U(!1),q()}finally{Di=ye,Ug.transition=Ie}}function Y3(){return ql().memoizedState}function U6(U,q,ye){var Ie=Bc(U);if(ye={lane:Ie,action:ye,hasEagerState:!1,eagerState:null,next:null},X3(U))Z3(q,ye);else if(ye=L3(U,q,ye,Ie),ye!==null){var qe=Os();Ru(ye,U,Ie,qe),K3(ye,q,Ie)}}function V6(U,q,ye){var Ie=Bc(U),qe={lane:Ie,action:ye,hasEagerState:!1,eagerState:null,next:null};if(X3(U))Z3(q,qe);else{var yt=U.alternate;if(U.lanes===0&&(yt===null||yt.lanes===0)&&(yt=q.lastRenderedReducer,yt!==null))try{var G=q.lastRenderedState,H=yt(G,ye);if(qe.hasEagerState=!0,qe.eagerState=H,Du(H,G)){var e=q.interleaved;e===null?(qe.next=qe,mm(q)):(qe.next=e.next,e.next=qe),q.interleaved=qe;return}}catch{}finally{}ye=L3(U,q,qe,Ie),ye!==null&&(qe=Os(),Ru(ye,U,Ie,qe),K3(ye,q,Ie))}}function X3(U){var q=U.alternate;return U===ho||q!==null&&q===ho}function Z3(U,q){Td=g0=!0;var ye=U.pending;ye===null?q.next=q:(q.next=ye.next,ye.next=q),U.pending=q}function K3(U,q,ye){if(ye&4194240){var Ie=q.lanes;Ie&=U.pendingLanes,ye|=Ie,q.lanes=ye,am(U,ye)}}var y0={readContext:$l,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},H6={readContext:$l,useCallback:function(U,q){return ef().memoizedState=[U,q===void 0?null:q],U},useContext:$l,useEffect:Ox,useImperativeHandle:function(U,q,ye){return ye=ye!=null?ye.concat([U]):null,Zp(4194308,4,V3.bind(null,q,U),ye)},useLayoutEffect:function(U,q){return Zp(4194308,4,U,q)},useInsertionEffect:function(U,q){return Zp(4,2,U,q)},useMemo:function(U,q){var ye=ef();return q=q===void 0?null:q,U=U(),ye.memoizedState=[U,q],U},useReducer:function(U,q,ye){var Ie=ef();return q=ye!==void 0?ye(q):q,Ie.memoizedState=Ie.baseState=q,U={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U,lastRenderedState:q},Ie.queue=U,U=U.dispatch=U6.bind(null,ho,U),[Ie.memoizedState,U]},useRef:function(U){var q=ef();return U={current:U},q.memoizedState=U},useState:zx,useDebugValue:Cm,useDeferredValue:function(U){return ef().memoizedState=U},useTransition:function(){var U=zx(!1),q=U[0];return U=B6.bind(null,U[1]),ef().memoizedState=U,[q,U]},useMutableSource:function(){},useSyncExternalStore:function(U,q,ye){var Ie=ho,qe=ef();if(eo){if(ye===void 0)throw Error(ma(407));ye=ye()}else{if(ye=q(),Xo===null)throw Error(ma(349));Ph&30||I3(Ie,q,ye)}qe.memoizedState=ye;var yt={value:ye,getSnapshot:q};return qe.queue=yt,Ox(z3.bind(null,Ie,yt,U),[U]),Ie.flags|=2048,Vd(9,k3.bind(null,Ie,yt,ye,q),void 0,null),ye},useId:function(){var U=ef(),q=Xo.identifierPrefix;if(eo){var ye=kf,Ie=If;ye=(Ie&~(1<<32-_u(Ie)-1)).toString(32)+ye,q=":"+q+"R"+ye,ye=Bd++,0<ye&&(q+="H"+ye.toString(32)),q+=":"}else ye=N6++,q=":"+q+"r"+ye.toString(32)+":";return U.memoizedState=q},unstable_isNewReconciler:!1},G6={readContext:$l,useCallback:G3,useContext:$l,useEffect:Em,useImperativeHandle:H3,useInsertionEffect:B3,useLayoutEffect:U3,useMemo:W3,useReducer:Vg,useRef:N3,useState:function(){return Vg(Ud)},useDebugValue:Cm,useDeferredValue:function(U){var q=ql();return j3(q,No.memoizedState,U)},useTransition:function(){var U=Vg(Ud)[0],q=ql().memoizedState;return[U,q]},useMutableSource:R3,useSyncExternalStore:D3,useId:Y3,unstable_isNewReconciler:!1},W6={readContext:$l,useCallback:G3,useContext:$l,useEffect:Em,useImperativeHandle:H3,useInsertionEffect:B3,useLayoutEffect:U3,useMemo:W3,useReducer:Hg,useRef:N3,useState:function(){return Hg(Ud)},useDebugValue:Cm,useDeferredValue:function(U){var q=ql();return No===null?q.memoizedState=U:j3(q,No.memoizedState,U)},useTransition:function(){var U=Hg(Ud)[0],q=ql().memoizedState;return[U,q]},useMutableSource:R3,useSyncExternalStore:D3,useId:Y3,unstable_isNewReconciler:!1};function Cu(U,q){if(U&&U.defaultProps){q=vo({},q),U=U.defaultProps;for(var ye in U)q[ye]===void 0&&(q[ye]=U[ye]);return q}return q}function Cy(U,q,ye,Ie){q=U.memoizedState,ye=ye(Ie,q),ye=ye==null?q:vo({},q,ye),U.memoizedState=ye,U.lanes===0&&(U.updateQueue.baseState=ye)}var k0={isMounted:function(U){return(U=U._reactInternals)?Ih(U)===U:!1},enqueueSetState:function(U,q,ye){U=U._reactInternals;var Ie=Os(),qe=Bc(U),yt=zf(Ie,qe);yt.payload=q,ye!=null&&(yt.callback=ye),q=Fc(U,yt,qe),q!==null&&(Ru(q,U,qe,Ie),Yp(q,U,qe))},enqueueReplaceState:function(U,q,ye){U=U._reactInternals;var Ie=Os(),qe=Bc(U),yt=zf(Ie,qe);yt.tag=1,yt.payload=q,ye!=null&&(yt.callback=ye),q=Fc(U,yt,qe),q!==null&&(Ru(q,U,qe,Ie),Yp(q,U,qe))},enqueueForceUpdate:function(U,q){U=U._reactInternals;var ye=Os(),Ie=Bc(U),qe=zf(ye,Ie);qe.tag=2,q!=null&&(qe.callback=q),q=Fc(U,qe,Ie),q!==null&&(Ru(q,U,Ie,ye),Yp(q,U,Ie))}};function Fx(U,q,ye,Ie,qe,yt,G){return U=U.stateNode,typeof U.shouldComponentUpdate=="function"?U.shouldComponentUpdate(Ie,yt,G):q.prototype&&q.prototype.isPureReactComponent?!Id(ye,Ie)||!Id(qe,yt):!0}function J3(U,q,ye){var Ie=!1,qe=Hc,yt=q.contextType;return typeof yt=="object"&&yt!==null?yt=$l(yt):(qe=rl(q)?Ch:Ss.current,Ie=q.contextTypes,yt=(Ie=Ie!=null)?Ev(U,qe):Hc),q=new q(ye,yt),U.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=k0,U.stateNode=q,q._reactInternals=U,Ie&&(U=U.stateNode,U.__reactInternalMemoizedUnmaskedChildContext=qe,U.__reactInternalMemoizedMaskedChildContext=yt),q}function Nx(U,q,ye,Ie){U=q.state,typeof q.componentWillReceiveProps=="function"&&q.componentWillReceiveProps(ye,Ie),typeof q.UNSAFE_componentWillReceiveProps=="function"&&q.UNSAFE_componentWillReceiveProps(ye,Ie),q.state!==U&&k0.enqueueReplaceState(q,q.state,null)}function Ly(U,q,ye,Ie){var qe=U.stateNode;qe.props=ye,qe.state=U.memoizedState,qe.refs={},xm(U);var yt=q.contextType;typeof yt=="object"&&yt!==null?qe.context=$l(yt):(yt=rl(q)?Ch:Ss.current,qe.context=Ev(U,yt)),qe.state=U.memoizedState,yt=q.getDerivedStateFromProps,typeof yt=="function"&&(Cy(U,q,yt,ye),qe.state=U.memoizedState),typeof q.getDerivedStateFromProps=="function"||typeof qe.getSnapshotBeforeUpdate=="function"||typeof qe.UNSAFE_componentWillMount!="function"&&typeof qe.componentWillMount!="function"||(q=qe.state,typeof qe.componentWillMount=="function"&&qe.componentWillMount(),typeof qe.UNSAFE_componentWillMount=="function"&&qe.UNSAFE_componentWillMount(),q!==qe.state&&k0.enqueueReplaceState(qe,qe.state,null),d0(U,ye,qe,Ie),qe.state=U.memoizedState),typeof qe.componentDidMount=="function"&&(U.flags|=4194308)}function _v(U,q){try{var ye="",Ie=q;do ye+=m5(Ie),Ie=Ie.return;while(Ie);var qe=ye}catch(yt){qe=`
Error generating stack: `+yt.message+`
`+yt.stack}return{value:U,source:q,stack:qe,digest:null}}function Gg(U,q,ye){return{value:U,source:null,stack:ye??null,digest:q??null}}function Py(U,q){try{console.error(q.value)}catch(ye){setTimeout(function(){throw ye})}}var j6=typeof WeakMap=="function"?WeakMap:Map;function Q3(U,q,ye){ye=zf(-1,ye),ye.tag=3,ye.payload={element:null};var Ie=q.value;return ye.callback=function(){x0||(x0=!0,By=Ie),Py(U,q)},ye}function $3(U,q,ye){ye=zf(-1,ye),ye.tag=3;var Ie=U.type.getDerivedStateFromError;if(typeof Ie=="function"){var qe=q.value;ye.payload=function(){return Ie(qe)},ye.callback=function(){Py(U,q)}}var yt=U.stateNode;return yt!==null&&typeof yt.componentDidCatch=="function"&&(ye.callback=function(){Py(U,q),typeof Ie!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var G=q.stack;this.componentDidCatch(q.value,{componentStack:G!==null?G:""})}),ye}function Bx(U,q,ye){var Ie=U.pingCache;if(Ie===null){Ie=U.pingCache=new j6;var qe=new Set;Ie.set(q,qe)}else qe=Ie.get(q),qe===void 0&&(qe=new Set,Ie.set(q,qe));qe.has(ye)||(qe.add(ye),U=iA.bind(null,U,q,ye),q.then(U,U))}function Ux(U){do{var q;if((q=U.tag===13)&&(q=U.memoizedState,q=q!==null?q.dehydrated!==null:!0),q)return U;U=U.return}while(U!==null);return null}function Vx(U,q,ye,Ie,qe){return U.mode&1?(U.flags|=65536,U.lanes=qe,U):(U===q?U.flags|=65536:(U.flags|=128,ye.flags|=131072,ye.flags&=-52805,ye.tag===1&&(ye.alternate===null?ye.tag=17:(q=zf(-1,1),q.tag=2,Fc(ye,q,1))),ye.lanes|=1),U)}var Y6=Uf.ReactCurrentOwner,el=!1;function zs(U,q,ye,Ie){q.child=U===null?C3(q,null,ye,Ie):Lv(q,U.child,ye,Ie)}function Hx(U,q,ye,Ie,qe){ye=ye.render;var yt=q.ref;return Av(q,qe),Ie=Sm(U,q,ye,Ie,yt,qe),ye=Mm(),U!==null&&!el?(q.updateQueue=U.updateQueue,q.flags&=-2053,U.lanes&=~qe,Bf(U,q,qe)):(eo&&ye&&hm(q),q.flags|=1,zs(U,q,Ie,qe),q.child)}function Gx(U,q,ye,Ie,qe){if(U===null){var yt=ye.type;return typeof yt=="function"&&!zm(yt)&&yt.defaultProps===void 0&&ye.compare===null&&ye.defaultProps===void 0?(q.tag=15,q.type=yt,q3(U,q,yt,Ie,qe)):(U=$p(ye.type,null,Ie,q,q.mode,qe),U.ref=q.ref,U.return=q,q.child=U)}if(yt=U.child,!(U.lanes&qe)){var G=yt.memoizedProps;if(ye=ye.compare,ye=ye!==null?ye:Id,ye(G,Ie)&&U.ref===q.ref)return Bf(U,q,qe)}return q.flags|=1,U=Uc(yt,Ie),U.ref=q.ref,U.return=q,q.child=U}function q3(U,q,ye,Ie,qe){if(U!==null){var yt=U.memoizedProps;if(Id(yt,Ie)&&U.ref===q.ref)if(el=!1,q.pendingProps=Ie=yt,(U.lanes&qe)!==0)U.flags&131072&&(el=!0);else return q.lanes=U.lanes,Bf(U,q,qe)}return _y(U,q,ye,Ie,qe)}function ew(U,q,ye){var Ie=q.pendingProps,qe=Ie.children,yt=U!==null?U.memoizedState:null;if(Ie.mode==="hidden")if(!(q.mode&1))q.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vi(mv,ml),ml|=ye;else{if(!(ye&1073741824))return U=yt!==null?yt.baseLanes|ye:ye,q.lanes=q.childLanes=1073741824,q.memoizedState={baseLanes:U,cachePool:null,transitions:null},q.updateQueue=null,Vi(mv,ml),ml|=U,null;q.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie=yt!==null?yt.baseLanes:ye,Vi(mv,ml),ml|=Ie}else yt!==null?(Ie=yt.baseLanes|ye,q.memoizedState=null):Ie=ye,Vi(mv,ml),ml|=Ie;return zs(U,q,qe,ye),q.child}function tw(U,q){var ye=q.ref;(U===null&&ye!==null||U!==null&&U.ref!==ye)&&(q.flags|=512,q.flags|=2097152)}function _y(U,q,ye,Ie,qe){var yt=rl(ye)?Ch:Ss.current;return yt=Ev(q,yt),Av(q,qe),ye=Sm(U,q,ye,Ie,yt,qe),Ie=Mm(),U!==null&&!el?(q.updateQueue=U.updateQueue,q.flags&=-2053,U.lanes&=~qe,Bf(U,q,qe)):(eo&&Ie&&hm(q),q.flags|=1,zs(U,q,ye,qe),q.child)}function Wx(U,q,ye,Ie,qe){if(rl(ye)){var yt=!0;u0(q)}else yt=!1;if(Av(q,qe),q.stateNode===null)Kp(U,q),J3(q,ye,Ie),Ly(q,ye,Ie,qe),Ie=!0;else if(U===null){var G=q.stateNode,H=q.memoizedProps;G.props=H;var e=G.context,m=ye.contextType;typeof m=="object"&&m!==null?m=$l(m):(m=rl(ye)?Ch:Ss.current,m=Ev(q,m));var P=ye.getDerivedStateFromProps,s=typeof P=="function"||typeof G.getSnapshotBeforeUpdate=="function";s||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==Ie||e!==m)&&Nx(q,G,Ie,m),Ec=!1;var L=q.memoizedState;G.state=L,d0(q,Ie,G,qe),e=q.memoizedState,H!==Ie||L!==e||tl.current||Ec?(typeof P=="function"&&(Cy(q,ye,P,Ie),e=q.memoizedState),(H=Ec||Fx(q,ye,H,Ie,L,e,m))?(s||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(q.flags|=4194308)):(typeof G.componentDidMount=="function"&&(q.flags|=4194308),q.memoizedProps=Ie,q.memoizedState=e),G.props=Ie,G.state=e,G.context=m,Ie=H):(typeof G.componentDidMount=="function"&&(q.flags|=4194308),Ie=!1)}else{G=q.stateNode,P3(U,q),H=q.memoizedProps,m=q.type===q.elementType?H:Cu(q.type,H),G.props=m,s=q.pendingProps,L=G.context,e=ye.contextType,typeof e=="object"&&e!==null?e=$l(e):(e=rl(ye)?Ch:Ss.current,e=Ev(q,e));var S=ye.getDerivedStateFromProps;(P=typeof S=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==s||L!==e)&&Nx(q,G,Ie,e),Ec=!1,L=q.memoizedState,G.state=L,d0(q,Ie,G,qe);var v=q.memoizedState;H!==s||L!==v||tl.current||Ec?(typeof S=="function"&&(Cy(q,ye,S,Ie),v=q.memoizedState),(m=Ec||Fx(q,ye,m,Ie,L,v,e)||!1)?(P||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(Ie,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(Ie,v,e)),typeof G.componentDidUpdate=="function"&&(q.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(q.flags|=1024)):(typeof G.componentDidUpdate!="function"||H===U.memoizedProps&&L===U.memoizedState||(q.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===U.memoizedProps&&L===U.memoizedState||(q.flags|=1024),q.memoizedProps=Ie,q.memoizedState=v),G.props=Ie,G.state=v,G.context=e,Ie=m):(typeof G.componentDidUpdate!="function"||H===U.memoizedProps&&L===U.memoizedState||(q.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===U.memoizedProps&&L===U.memoizedState||(q.flags|=1024),Ie=!1)}return Ry(U,q,ye,Ie,yt,qe)}function Ry(U,q,ye,Ie,qe,yt){tw(U,q);var G=(q.flags&128)!==0;if(!Ie&&!G)return qe&&Px(q,ye,!1),Bf(U,q,yt);Ie=q.stateNode,Y6.current=q;var H=G&&typeof ye.getDerivedStateFromError!="function"?null:Ie.render();return q.flags|=1,U!==null&&G?(q.child=Lv(q,U.child,null,yt),q.child=Lv(q,null,H,yt)):zs(U,q,H,yt),q.memoizedState=Ie.state,qe&&Px(q,ye,!0),q.child}function rw(U){var q=U.stateNode;q.pendingContext?Lx(U,q.pendingContext,q.pendingContext!==q.context):q.context&&Lx(U,q.context,!1),bm(U,q.containerInfo)}function jx(U,q,ye,Ie,qe){return Cv(),dm(qe),q.flags|=256,zs(U,q,ye,Ie),q.child}var Dy={dehydrated:null,treeContext:null,retryLane:0};function Iy(U){return{baseLanes:U,cachePool:null,transitions:null}}function nw(U,q,ye){var Ie=q.pendingProps,qe=co.current,yt=!1,G=(q.flags&128)!==0,H;if((H=G)||(H=U!==null&&U.memoizedState===null?!1:(qe&2)!==0),H?(yt=!0,q.flags&=-129):(U===null||U.memoizedState!==null)&&(qe|=1),Vi(co,qe&1),U===null)return My(q),U=q.memoizedState,U!==null&&(U=U.dehydrated,U!==null)?(q.mode&1?U.data==="$!"?q.lanes=8:q.lanes=1073741824:q.lanes=1,null):(G=Ie.children,U=Ie.fallback,yt?(Ie=q.mode,yt=q.child,G={mode:"hidden",children:G},!(Ie&1)&&yt!==null?(yt.childLanes=0,yt.pendingProps=G):yt=F0(G,Ie,0,null),U=Mh(U,Ie,ye,null),yt.return=q,U.return=q,yt.sibling=U,q.child=yt,q.child.memoizedState=Iy(ye),q.memoizedState=Dy,U):Lm(q,G));if(qe=U.memoizedState,qe!==null&&(H=qe.dehydrated,H!==null))return X6(U,q,G,Ie,H,qe,ye);if(yt){yt=Ie.fallback,G=q.mode,qe=U.child,H=qe.sibling;var e={mode:"hidden",children:Ie.children};return!(G&1)&&q.child!==qe?(Ie=q.child,Ie.childLanes=0,Ie.pendingProps=e,q.deletions=null):(Ie=Uc(qe,e),Ie.subtreeFlags=qe.subtreeFlags&14680064),H!==null?yt=Uc(H,yt):(yt=Mh(yt,G,ye,null),yt.flags|=2),yt.return=q,Ie.return=q,Ie.sibling=yt,q.child=Ie,Ie=yt,yt=q.child,G=U.child.memoizedState,G=G===null?Iy(ye):{baseLanes:G.baseLanes|ye,cachePool:null,transitions:G.transitions},yt.memoizedState=G,yt.childLanes=U.childLanes&~ye,q.memoizedState=Dy,Ie}return yt=U.child,U=yt.sibling,Ie=Uc(yt,{mode:"visible",children:Ie.children}),!(q.mode&1)&&(Ie.lanes=ye),Ie.return=q,Ie.sibling=null,U!==null&&(ye=q.deletions,ye===null?(q.deletions=[U],q.flags|=16):ye.push(U)),q.child=Ie,q.memoizedState=null,Ie}function Lm(U,q){return q=F0({mode:"visible",children:q},U.mode,0,null),q.return=U,U.child=q}function Fp(U,q,ye,Ie){return Ie!==null&&dm(Ie),Lv(q,U.child,null,ye),U=Lm(q,q.pendingProps.children),U.flags|=2,q.memoizedState=null,U}function X6(U,q,ye,Ie,qe,yt,G){if(ye)return q.flags&256?(q.flags&=-257,Ie=Gg(Error(ma(422))),Fp(U,q,G,Ie)):q.memoizedState!==null?(q.child=U.child,q.flags|=128,null):(yt=Ie.fallback,qe=q.mode,Ie=F0({mode:"visible",children:Ie.children},qe,0,null),yt=Mh(yt,qe,G,null),yt.flags|=2,Ie.return=q,yt.return=q,Ie.sibling=yt,q.child=Ie,q.mode&1&&Lv(q,U.child,null,G),q.child.memoizedState=Iy(G),q.memoizedState=Dy,yt);if(!(q.mode&1))return Fp(U,q,G,null);if(qe.data==="$!"){if(Ie=qe.nextSibling&&qe.nextSibling.dataset,Ie)var H=Ie.dgst;return Ie=H,yt=Error(ma(419)),Ie=Gg(yt,Ie,void 0),Fp(U,q,G,Ie)}if(H=(G&U.childLanes)!==0,el||H){if(Ie=Xo,Ie!==null){switch(G&-G){case 4:qe=2;break;case 16:qe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:qe=32;break;case 536870912:qe=268435456;break;default:qe=0}qe=qe&(Ie.suspendedLanes|G)?0:qe,qe!==0&&qe!==yt.retryLane&&(yt.retryLane=qe,Nf(U,qe),Ru(Ie,U,qe,-1))}return km(),Ie=Gg(Error(ma(421))),Fp(U,q,G,Ie)}return qe.data==="$?"?(q.flags|=128,q.child=U.child,q=oA.bind(null,U),qe._reactRetry=q,null):(U=yt.treeContext,xl=Oc(qe.nextSibling),bl=q,eo=!0,Pu=null,U!==null&&(Zl[Kl++]=If,Zl[Kl++]=kf,Zl[Kl++]=Lh,If=U.id,kf=U.overflow,Lh=q),q=Lm(q,Ie.children),q.flags|=4096,q)}function Yx(U,q,ye){U.lanes|=q;var Ie=U.alternate;Ie!==null&&(Ie.lanes|=q),Ey(U.return,q,ye)}function Wg(U,q,ye,Ie,qe){var yt=U.memoizedState;yt===null?U.memoizedState={isBackwards:q,rendering:null,renderingStartTime:0,last:Ie,tail:ye,tailMode:qe}:(yt.isBackwards=q,yt.rendering=null,yt.renderingStartTime=0,yt.last=Ie,yt.tail=ye,yt.tailMode=qe)}function aw(U,q,ye){var Ie=q.pendingProps,qe=Ie.revealOrder,yt=Ie.tail;if(zs(U,q,Ie.children,ye),Ie=co.current,Ie&2)Ie=Ie&1|2,q.flags|=128;else{if(U!==null&&U.flags&128)e:for(U=q.child;U!==null;){if(U.tag===13)U.memoizedState!==null&&Yx(U,ye,q);else if(U.tag===19)Yx(U,ye,q);else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===q)break e;for(;U.sibling===null;){if(U.return===null||U.return===q)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}Ie&=1}if(Vi(co,Ie),!(q.mode&1))q.memoizedState=null;else switch(qe){case"forwards":for(ye=q.child,qe=null;ye!==null;)U=ye.alternate,U!==null&&p0(U)===null&&(qe=ye),ye=ye.sibling;ye=qe,ye===null?(qe=q.child,q.child=null):(qe=ye.sibling,ye.sibling=null),Wg(q,!1,qe,ye,yt);break;case"backwards":for(ye=null,qe=q.child,q.child=null;qe!==null;){if(U=qe.alternate,U!==null&&p0(U)===null){q.child=qe;break}U=qe.sibling,qe.sibling=ye,ye=qe,qe=U}Wg(q,!0,ye,null,yt);break;case"together":Wg(q,!1,null,null,void 0);break;default:q.memoizedState=null}return q.child}function Kp(U,q){!(q.mode&1)&&U!==null&&(U.alternate=null,q.alternate=null,q.flags|=2)}function Bf(U,q,ye){if(U!==null&&(q.dependencies=U.dependencies),_h|=q.lanes,!(ye&q.childLanes))return null;if(U!==null&&q.child!==U.child)throw Error(ma(153));if(q.child!==null){for(U=q.child,ye=Uc(U,U.pendingProps),q.child=ye,ye.return=q;U.sibling!==null;)U=U.sibling,ye=ye.sibling=Uc(U,U.pendingProps),ye.return=q;ye.sibling=null}return q.child}function Z6(U,q,ye){switch(q.tag){case 3:rw(q),Cv();break;case 5:_3(q);break;case 1:rl(q.type)&&u0(q);break;case 4:bm(q,q.stateNode.containerInfo);break;case 10:var Ie=q.type._context,qe=q.memoizedProps.value;Vi(h0,Ie._currentValue),Ie._currentValue=qe;break;case 13:if(Ie=q.memoizedState,Ie!==null)return Ie.dehydrated!==null?(Vi(co,co.current&1),q.flags|=128,null):ye&q.child.childLanes?nw(U,q,ye):(Vi(co,co.current&1),U=Bf(U,q,ye),U!==null?U.sibling:null);Vi(co,co.current&1);break;case 19:if(Ie=(ye&q.childLanes)!==0,U.flags&128){if(Ie)return aw(U,q,ye);q.flags|=128}if(qe=q.memoizedState,qe!==null&&(qe.rendering=null,qe.tail=null,qe.lastEffect=null),Vi(co,co.current),Ie)break;return null;case 22:case 23:return q.lanes=0,ew(U,q,ye)}return Bf(U,q,ye)}var iw,ky,ow,sw;iw=function(U,q){for(var ye=q.child;ye!==null;){if(ye.tag===5||ye.tag===6)U.appendChild(ye.stateNode);else if(ye.tag!==4&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===q)break;for(;ye.sibling===null;){if(ye.return===null||ye.return===q)return;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}};ky=function(){};ow=function(U,q,ye,Ie){var qe=U.memoizedProps;if(qe!==Ie){U=q.stateNode,Ah(nf.current);var yt=null;switch(ye){case"input":qe=ry(U,qe),Ie=ry(U,Ie),yt=[];break;case"select":qe=vo({},qe,{value:void 0}),Ie=vo({},Ie,{value:void 0}),yt=[];break;case"textarea":qe=iy(U,qe),Ie=iy(U,Ie),yt=[];break;default:typeof qe.onClick!="function"&&typeof Ie.onClick=="function"&&(U.onclick=s0)}sy(ye,Ie);var G;ye=null;for(m in qe)if(!Ie.hasOwnProperty(m)&&qe.hasOwnProperty(m)&&qe[m]!=null)if(m==="style"){var H=qe[m];for(G in H)H.hasOwnProperty(G)&&(ye||(ye={}),ye[G]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ed.hasOwnProperty(m)?yt||(yt=[]):(yt=yt||[]).push(m,null));for(m in Ie){var e=Ie[m];if(H=qe!=null?qe[m]:void 0,Ie.hasOwnProperty(m)&&e!==H&&(e!=null||H!=null))if(m==="style")if(H){for(G in H)!H.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(ye||(ye={}),ye[G]="");for(G in e)e.hasOwnProperty(G)&&H[G]!==e[G]&&(ye||(ye={}),ye[G]=e[G])}else ye||(yt||(yt=[]),yt.push(m,ye)),ye=e;else m==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(yt=yt||[]).push(m,e)):m==="children"?typeof e!="string"&&typeof e!="number"||(yt=yt||[]).push(m,""+e):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ed.hasOwnProperty(m)?(e!=null&&m==="onScroll"&&Xi("scroll",U),yt||H===e||(yt=[])):(yt=yt||[]).push(m,e))}ye&&(yt=yt||[]).push("style",ye);var m=yt;(q.updateQueue=m)&&(q.flags|=4)}};sw=function(U,q,ye,Ie){ye!==Ie&&(q.flags|=4)};function cd(U,q){if(!eo)switch(U.tailMode){case"hidden":q=U.tail;for(var ye=null;q!==null;)q.alternate!==null&&(ye=q),q=q.sibling;ye===null?U.tail=null:ye.sibling=null;break;case"collapsed":ye=U.tail;for(var Ie=null;ye!==null;)ye.alternate!==null&&(Ie=ye),ye=ye.sibling;Ie===null?q||U.tail===null?U.tail=null:U.tail.sibling=null:Ie.sibling=null}}function Ts(U){var q=U.alternate!==null&&U.alternate.child===U.child,ye=0,Ie=0;if(q)for(var qe=U.child;qe!==null;)ye|=qe.lanes|qe.childLanes,Ie|=qe.subtreeFlags&14680064,Ie|=qe.flags&14680064,qe.return=U,qe=qe.sibling;else for(qe=U.child;qe!==null;)ye|=qe.lanes|qe.childLanes,Ie|=qe.subtreeFlags,Ie|=qe.flags,qe.return=U,qe=qe.sibling;return U.subtreeFlags|=Ie,U.childLanes=ye,q}function K6(U,q,ye){var Ie=q.pendingProps;switch(vm(q),q.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(q),null;case 1:return rl(q.type)&&l0(),Ts(q),null;case 3:return Ie=q.stateNode,Pv(),Zi(tl),Zi(Ss),Tm(),Ie.pendingContext&&(Ie.context=Ie.pendingContext,Ie.pendingContext=null),(U===null||U.child===null)&&(zp(q)?q.flags|=4:U===null||U.memoizedState.isDehydrated&&!(q.flags&256)||(q.flags|=1024,Pu!==null&&(Hy(Pu),Pu=null))),ky(U,q),Ts(q),null;case 5:wm(q);var qe=Ah(Nd.current);if(ye=q.type,U!==null&&q.stateNode!=null)ow(U,q,ye,Ie,qe),U.ref!==q.ref&&(q.flags|=512,q.flags|=2097152);else{if(!Ie){if(q.stateNode===null)throw Error(ma(166));return Ts(q),null}if(U=Ah(nf.current),zp(q)){Ie=q.stateNode,ye=q.type;var yt=q.memoizedProps;switch(Ie[tf]=q,Ie[Od]=yt,U=(q.mode&1)!==0,ye){case"dialog":Xi("cancel",Ie),Xi("close",Ie);break;case"iframe":case"object":case"embed":Xi("load",Ie);break;case"video":case"audio":for(qe=0;qe<gd.length;qe++)Xi(gd[qe],Ie);break;case"source":Xi("error",Ie);break;case"img":case"image":case"link":Xi("error",Ie),Xi("load",Ie);break;case"details":Xi("toggle",Ie);break;case"input":tx(Ie,yt),Xi("invalid",Ie);break;case"select":Ie._wrapperState={wasMultiple:!!yt.multiple},Xi("invalid",Ie);break;case"textarea":nx(Ie,yt),Xi("invalid",Ie)}sy(ye,yt),qe=null;for(var G in yt)if(yt.hasOwnProperty(G)){var H=yt[G];G==="children"?typeof H=="string"?Ie.textContent!==H&&(yt.suppressHydrationWarning!==!0&&kp(Ie.textContent,H,U),qe=["children",H]):typeof H=="number"&&Ie.textContent!==""+H&&(yt.suppressHydrationWarning!==!0&&kp(Ie.textContent,H,U),qe=["children",""+H]):Ed.hasOwnProperty(G)&&H!=null&&G==="onScroll"&&Xi("scroll",Ie)}switch(ye){case"input":Ep(Ie),rx(Ie,yt,!0);break;case"textarea":Ep(Ie),ax(Ie);break;case"select":case"option":break;default:typeof yt.onClick=="function"&&(Ie.onclick=s0)}Ie=qe,q.updateQueue=Ie,Ie!==null&&(q.flags|=4)}else{G=qe.nodeType===9?qe:qe.ownerDocument,U==="http://www.w3.org/1999/xhtml"&&(U=zb(ye)),U==="http://www.w3.org/1999/xhtml"?ye==="script"?(U=G.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild)):typeof Ie.is=="string"?U=G.createElement(ye,{is:Ie.is}):(U=G.createElement(ye),ye==="select"&&(G=U,Ie.multiple?G.multiple=!0:Ie.size&&(G.size=Ie.size))):U=G.createElementNS(U,ye),U[tf]=q,U[Od]=Ie,iw(U,q,!1,!1),q.stateNode=U;e:{switch(G=ly(ye,Ie),ye){case"dialog":Xi("cancel",U),Xi("close",U),qe=Ie;break;case"iframe":case"object":case"embed":Xi("load",U),qe=Ie;break;case"video":case"audio":for(qe=0;qe<gd.length;qe++)Xi(gd[qe],U);qe=Ie;break;case"source":Xi("error",U),qe=Ie;break;case"img":case"image":case"link":Xi("error",U),Xi("load",U),qe=Ie;break;case"details":Xi("toggle",U),qe=Ie;break;case"input":tx(U,Ie),qe=ry(U,Ie),Xi("invalid",U);break;case"option":qe=Ie;break;case"select":U._wrapperState={wasMultiple:!!Ie.multiple},qe=vo({},Ie,{value:void 0}),Xi("invalid",U);break;case"textarea":nx(U,Ie),qe=iy(U,Ie),Xi("invalid",U);break;default:qe=Ie}sy(ye,qe),H=qe;for(yt in H)if(H.hasOwnProperty(yt)){var e=H[yt];yt==="style"?Nb(U,e):yt==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&Ob(U,e)):yt==="children"?typeof e=="string"?(ye!=="textarea"||e!=="")&&Cd(U,e):typeof e=="number"&&Cd(U,""+e):yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&yt!=="autoFocus"&&(Ed.hasOwnProperty(yt)?e!=null&&yt==="onScroll"&&Xi("scroll",U):e!=null&&$y(U,yt,e,G))}switch(ye){case"input":Ep(U),rx(U,Ie,!1);break;case"textarea":Ep(U),ax(U);break;case"option":Ie.value!=null&&U.setAttribute("value",""+Vc(Ie.value));break;case"select":U.multiple=!!Ie.multiple,yt=Ie.value,yt!=null?xv(U,!!Ie.multiple,yt,!1):Ie.defaultValue!=null&&xv(U,!!Ie.multiple,Ie.defaultValue,!0);break;default:typeof qe.onClick=="function"&&(U.onclick=s0)}switch(ye){case"button":case"input":case"select":case"textarea":Ie=!!Ie.autoFocus;break e;case"img":Ie=!0;break e;default:Ie=!1}}Ie&&(q.flags|=4)}q.ref!==null&&(q.flags|=512,q.flags|=2097152)}return Ts(q),null;case 6:if(U&&q.stateNode!=null)sw(U,q,U.memoizedProps,Ie);else{if(typeof Ie!="string"&&q.stateNode===null)throw Error(ma(166));if(ye=Ah(Nd.current),Ah(nf.current),zp(q)){if(Ie=q.stateNode,ye=q.memoizedProps,Ie[tf]=q,(yt=Ie.nodeValue!==ye)&&(U=bl,U!==null))switch(U.tag){case 3:kp(Ie.nodeValue,ye,(U.mode&1)!==0);break;case 5:U.memoizedProps.suppressHydrationWarning!==!0&&kp(Ie.nodeValue,ye,(U.mode&1)!==0)}yt&&(q.flags|=4)}else Ie=(ye.nodeType===9?ye:ye.ownerDocument).createTextNode(Ie),Ie[tf]=q,q.stateNode=Ie}return Ts(q),null;case 13:if(Zi(co),Ie=q.memoizedState,U===null||U.memoizedState!==null&&U.memoizedState.dehydrated!==null){if(eo&&xl!==null&&q.mode&1&&!(q.flags&128))M3(),Cv(),q.flags|=98560,yt=!1;else if(yt=zp(q),Ie!==null&&Ie.dehydrated!==null){if(U===null){if(!yt)throw Error(ma(318));if(yt=q.memoizedState,yt=yt!==null?yt.dehydrated:null,!yt)throw Error(ma(317));yt[tf]=q}else Cv(),!(q.flags&128)&&(q.memoizedState=null),q.flags|=4;Ts(q),yt=!1}else Pu!==null&&(Hy(Pu),Pu=null),yt=!0;if(!yt)return q.flags&65536?q:null}return q.flags&128?(q.lanes=ye,q):(Ie=Ie!==null,Ie!==(U!==null&&U.memoizedState!==null)&&Ie&&(q.child.flags|=8192,q.mode&1&&(U===null||co.current&1?Bo===0&&(Bo=3):km())),q.updateQueue!==null&&(q.flags|=4),Ts(q),null);case 4:return Pv(),ky(U,q),U===null&&kd(q.stateNode.containerInfo),Ts(q),null;case 10:return ym(q.type._context),Ts(q),null;case 17:return rl(q.type)&&l0(),Ts(q),null;case 19:if(Zi(co),yt=q.memoizedState,yt===null)return Ts(q),null;if(Ie=(q.flags&128)!==0,G=yt.rendering,G===null)if(Ie)cd(yt,!1);else{if(Bo!==0||U!==null&&U.flags&128)for(U=q.child;U!==null;){if(G=p0(U),G!==null){for(q.flags|=128,cd(yt,!1),Ie=G.updateQueue,Ie!==null&&(q.updateQueue=Ie,q.flags|=4),q.subtreeFlags=0,Ie=ye,ye=q.child;ye!==null;)yt=ye,U=Ie,yt.flags&=14680066,G=yt.alternate,G===null?(yt.childLanes=0,yt.lanes=U,yt.child=null,yt.subtreeFlags=0,yt.memoizedProps=null,yt.memoizedState=null,yt.updateQueue=null,yt.dependencies=null,yt.stateNode=null):(yt.childLanes=G.childLanes,yt.lanes=G.lanes,yt.child=G.child,yt.subtreeFlags=0,yt.deletions=null,yt.memoizedProps=G.memoizedProps,yt.memoizedState=G.memoizedState,yt.updateQueue=G.updateQueue,yt.type=G.type,U=G.dependencies,yt.dependencies=U===null?null:{lanes:U.lanes,firstContext:U.firstContext}),ye=ye.sibling;return Vi(co,co.current&1|2),q.child}U=U.sibling}yt.tail!==null&&Eo()>Rv&&(q.flags|=128,Ie=!0,cd(yt,!1),q.lanes=4194304)}else{if(!Ie)if(U=p0(G),U!==null){if(q.flags|=128,Ie=!0,ye=U.updateQueue,ye!==null&&(q.updateQueue=ye,q.flags|=4),cd(yt,!0),yt.tail===null&&yt.tailMode==="hidden"&&!G.alternate&&!eo)return Ts(q),null}else 2*Eo()-yt.renderingStartTime>Rv&&ye!==1073741824&&(q.flags|=128,Ie=!0,cd(yt,!1),q.lanes=4194304);yt.isBackwards?(G.sibling=q.child,q.child=G):(ye=yt.last,ye!==null?ye.sibling=G:q.child=G,yt.last=G)}return yt.tail!==null?(q=yt.tail,yt.rendering=q,yt.tail=q.sibling,yt.renderingStartTime=Eo(),q.sibling=null,ye=co.current,Vi(co,Ie?ye&1|2:ye&1),q):(Ts(q),null);case 22:case 23:return Im(),Ie=q.memoizedState!==null,U!==null&&U.memoizedState!==null!==Ie&&(q.flags|=8192),Ie&&q.mode&1?ml&1073741824&&(Ts(q),q.subtreeFlags&6&&(q.flags|=8192)):Ts(q),null;case 24:return null;case 25:return null}throw Error(ma(156,q.tag))}function J6(U,q){switch(vm(q),q.tag){case 1:return rl(q.type)&&l0(),U=q.flags,U&65536?(q.flags=U&-65537|128,q):null;case 3:return Pv(),Zi(tl),Zi(Ss),Tm(),U=q.flags,U&65536&&!(U&128)?(q.flags=U&-65537|128,q):null;case 5:return wm(q),null;case 13:if(Zi(co),U=q.memoizedState,U!==null&&U.dehydrated!==null){if(q.alternate===null)throw Error(ma(340));Cv()}return U=q.flags,U&65536?(q.flags=U&-65537|128,q):null;case 19:return Zi(co),null;case 4:return Pv(),null;case 10:return ym(q.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Np=!1,As=!1,Q6=typeof WeakSet=="function"?WeakSet:Set,za=null;function yv(U,q){var ye=U.ref;if(ye!==null)if(typeof ye=="function")try{ye(null)}catch(Ie){xo(U,q,Ie)}else ye.current=null}function zy(U,q,ye){try{ye()}catch(Ie){xo(U,q,Ie)}}var Xx=!1;function $6(U,q){if(my=a0,U=h3(),cm(U)){if("selectionStart"in U)var ye={start:U.selectionStart,end:U.selectionEnd};else e:{ye=(ye=U.ownerDocument)&&ye.defaultView||window;var Ie=ye.getSelection&&ye.getSelection();if(Ie&&Ie.rangeCount!==0){ye=Ie.anchorNode;var qe=Ie.anchorOffset,yt=Ie.focusNode;Ie=Ie.focusOffset;try{ye.nodeType,yt.nodeType}catch{ye=null;break e}var G=0,H=-1,e=-1,m=0,P=0,s=U,L=null;t:for(;;){for(var S;s!==ye||qe!==0&&s.nodeType!==3||(H=G+qe),s!==yt||Ie!==0&&s.nodeType!==3||(e=G+Ie),s.nodeType===3&&(G+=s.nodeValue.length),(S=s.firstChild)!==null;)L=s,s=S;for(;;){if(s===U)break t;if(L===ye&&++m===qe&&(H=G),L===yt&&++P===Ie&&(e=G),(S=s.nextSibling)!==null)break;s=L,L=s.parentNode}s=S}ye=H===-1||e===-1?null:{start:H,end:e}}else ye=null}ye=ye||{start:0,end:0}}else ye=null;for(xy={focusedElem:U,selectionRange:ye},a0=!1,za=q;za!==null;)if(q=za,U=q.child,(q.subtreeFlags&1028)!==0&&U!==null)U.return=q,za=U;else for(;za!==null;){q=za;try{var v=q.alternate;if(q.flags&1024)switch(q.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=q.stateNode,a=t.getSnapshotBeforeUpdate(q.elementType===q.type?p:Cu(q.type,p),r);t.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var n=q.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ma(163))}}catch(f){xo(q,q.return,f)}if(U=q.sibling,U!==null){U.return=q.return,za=U;break}za=q.return}return v=Xx,Xx=!1,v}function Ad(U,q,ye){var Ie=q.updateQueue;if(Ie=Ie!==null?Ie.lastEffect:null,Ie!==null){var qe=Ie=Ie.next;do{if((qe.tag&U)===U){var yt=qe.destroy;qe.destroy=void 0,yt!==void 0&&zy(q,ye,yt)}qe=qe.next}while(qe!==Ie)}}function z0(U,q){if(q=q.updateQueue,q=q!==null?q.lastEffect:null,q!==null){var ye=q=q.next;do{if((ye.tag&U)===U){var Ie=ye.create;ye.destroy=Ie()}ye=ye.next}while(ye!==q)}}function Oy(U){var q=U.ref;if(q!==null){var ye=U.stateNode;switch(U.tag){case 5:U=ye;break;default:U=ye}typeof q=="function"?q(U):q.current=U}}function lw(U){var q=U.alternate;q!==null&&(U.alternate=null,lw(q)),U.child=null,U.deletions=null,U.sibling=null,U.tag===5&&(q=U.stateNode,q!==null&&(delete q[tf],delete q[Od],delete q[Ty],delete q[k6],delete q[z6])),U.stateNode=null,U.return=null,U.dependencies=null,U.memoizedProps=null,U.memoizedState=null,U.pendingProps=null,U.stateNode=null,U.updateQueue=null}function uw(U){return U.tag===5||U.tag===3||U.tag===4}function Zx(U){e:for(;;){for(;U.sibling===null;){if(U.return===null||uw(U.return))return null;U=U.return}for(U.sibling.return=U.return,U=U.sibling;U.tag!==5&&U.tag!==6&&U.tag!==18;){if(U.flags&2||U.child===null||U.tag===4)continue e;U.child.return=U,U=U.child}if(!(U.flags&2))return U.stateNode}}function Fy(U,q,ye){var Ie=U.tag;if(Ie===5||Ie===6)U=U.stateNode,q?ye.nodeType===8?ye.parentNode.insertBefore(U,q):ye.insertBefore(U,q):(ye.nodeType===8?(q=ye.parentNode,q.insertBefore(U,ye)):(q=ye,q.appendChild(U)),ye=ye._reactRootContainer,ye!=null||q.onclick!==null||(q.onclick=s0));else if(Ie!==4&&(U=U.child,U!==null))for(Fy(U,q,ye),U=U.sibling;U!==null;)Fy(U,q,ye),U=U.sibling}function Ny(U,q,ye){var Ie=U.tag;if(Ie===5||Ie===6)U=U.stateNode,q?ye.insertBefore(U,q):ye.appendChild(U);else if(Ie!==4&&(U=U.child,U!==null))for(Ny(U,q,ye),U=U.sibling;U!==null;)Ny(U,q,ye),U=U.sibling}var ls=null,Lu=!1;function Sc(U,q,ye){for(ye=ye.child;ye!==null;)fw(U,q,ye),ye=ye.sibling}function fw(U,q,ye){if(rf&&typeof rf.onCommitFiberUnmount=="function")try{rf.onCommitFiberUnmount(C0,ye)}catch{}switch(ye.tag){case 5:As||yv(ye,q);case 6:var Ie=ls,qe=Lu;ls=null,Sc(U,q,ye),ls=Ie,Lu=qe,ls!==null&&(Lu?(U=ls,ye=ye.stateNode,U.nodeType===8?U.parentNode.removeChild(ye):U.removeChild(ye)):ls.removeChild(ye.stateNode));break;case 18:ls!==null&&(Lu?(U=ls,ye=ye.stateNode,U.nodeType===8?Fg(U.parentNode,ye):U.nodeType===1&&Fg(U,ye),Rd(U)):Fg(ls,ye.stateNode));break;case 4:Ie=ls,qe=Lu,ls=ye.stateNode.containerInfo,Lu=!0,Sc(U,q,ye),ls=Ie,Lu=qe;break;case 0:case 11:case 14:case 15:if(!As&&(Ie=ye.updateQueue,Ie!==null&&(Ie=Ie.lastEffect,Ie!==null))){qe=Ie=Ie.next;do{var yt=qe,G=yt.destroy;yt=yt.tag,G!==void 0&&(yt&2||yt&4)&&zy(ye,q,G),qe=qe.next}while(qe!==Ie)}Sc(U,q,ye);break;case 1:if(!As&&(yv(ye,q),Ie=ye.stateNode,typeof Ie.componentWillUnmount=="function"))try{Ie.props=ye.memoizedProps,Ie.state=ye.memoizedState,Ie.componentWillUnmount()}catch(H){xo(ye,q,H)}Sc(U,q,ye);break;case 21:Sc(U,q,ye);break;case 22:ye.mode&1?(As=(Ie=As)||ye.memoizedState!==null,Sc(U,q,ye),As=Ie):Sc(U,q,ye);break;default:Sc(U,q,ye)}}function Kx(U){var q=U.updateQueue;if(q!==null){U.updateQueue=null;var ye=U.stateNode;ye===null&&(ye=U.stateNode=new Q6),q.forEach(function(Ie){var qe=sA.bind(null,U,Ie);ye.has(Ie)||(ye.add(Ie),Ie.then(qe,qe))})}}function Eu(U,q){var ye=q.deletions;if(ye!==null)for(var Ie=0;Ie<ye.length;Ie++){var qe=ye[Ie];try{var yt=U,G=q,H=G;e:for(;H!==null;){switch(H.tag){case 5:ls=H.stateNode,Lu=!1;break e;case 3:ls=H.stateNode.containerInfo,Lu=!0;break e;case 4:ls=H.stateNode.containerInfo,Lu=!0;break e}H=H.return}if(ls===null)throw Error(ma(160));fw(yt,G,qe),ls=null,Lu=!1;var e=qe.alternate;e!==null&&(e.return=null),qe.return=null}catch(m){xo(qe,q,m)}}if(q.subtreeFlags&12854)for(q=q.child;q!==null;)cw(q,U),q=q.sibling}function cw(U,q){var ye=U.alternate,Ie=U.flags;switch(U.tag){case 0:case 11:case 14:case 15:if(Eu(q,U),qu(U),Ie&4){try{Ad(3,U,U.return),z0(3,U)}catch(p){xo(U,U.return,p)}try{Ad(5,U,U.return)}catch(p){xo(U,U.return,p)}}break;case 1:Eu(q,U),qu(U),Ie&512&&ye!==null&&yv(ye,ye.return);break;case 5:if(Eu(q,U),qu(U),Ie&512&&ye!==null&&yv(ye,ye.return),U.flags&32){var qe=U.stateNode;try{Cd(qe,"")}catch(p){xo(U,U.return,p)}}if(Ie&4&&(qe=U.stateNode,qe!=null)){var yt=U.memoizedProps,G=ye!==null?ye.memoizedProps:yt,H=U.type,e=U.updateQueue;if(U.updateQueue=null,e!==null)try{H==="input"&&yt.type==="radio"&&yt.name!=null&&Ib(qe,yt),ly(H,G);var m=ly(H,yt);for(G=0;G<e.length;G+=2){var P=e[G],s=e[G+1];P==="style"?Nb(qe,s):P==="dangerouslySetInnerHTML"?Ob(qe,s):P==="children"?Cd(qe,s):$y(qe,P,s,m)}switch(H){case"input":ny(qe,yt);break;case"textarea":kb(qe,yt);break;case"select":var L=qe._wrapperState.wasMultiple;qe._wrapperState.wasMultiple=!!yt.multiple;var S=yt.value;S!=null?xv(qe,!!yt.multiple,S,!1):L!==!!yt.multiple&&(yt.defaultValue!=null?xv(qe,!!yt.multiple,yt.defaultValue,!0):xv(qe,!!yt.multiple,yt.multiple?[]:"",!1))}qe[Od]=yt}catch(p){xo(U,U.return,p)}}break;case 6:if(Eu(q,U),qu(U),Ie&4){if(U.stateNode===null)throw Error(ma(162));qe=U.stateNode,yt=U.memoizedProps;try{qe.nodeValue=yt}catch(p){xo(U,U.return,p)}}break;case 3:if(Eu(q,U),qu(U),Ie&4&&ye!==null&&ye.memoizedState.isDehydrated)try{Rd(q.containerInfo)}catch(p){xo(U,U.return,p)}break;case 4:Eu(q,U),qu(U);break;case 13:Eu(q,U),qu(U),qe=U.child,qe.flags&8192&&(yt=qe.memoizedState!==null,qe.stateNode.isHidden=yt,!yt||qe.alternate!==null&&qe.alternate.memoizedState!==null||(Rm=Eo())),Ie&4&&Kx(U);break;case 22:if(P=ye!==null&&ye.memoizedState!==null,U.mode&1?(As=(m=As)||P,Eu(q,U),As=m):Eu(q,U),qu(U),Ie&8192){if(m=U.memoizedState!==null,(U.stateNode.isHidden=m)&&!P&&U.mode&1)for(za=U,P=U.child;P!==null;){for(s=za=P;za!==null;){switch(L=za,S=L.child,L.tag){case 0:case 11:case 14:case 15:Ad(4,L,L.return);break;case 1:yv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){Ie=L,ye=L.return;try{q=Ie,v.props=q.memoizedProps,v.state=q.memoizedState,v.componentWillUnmount()}catch(p){xo(Ie,ye,p)}}break;case 5:yv(L,L.return);break;case 22:if(L.memoizedState!==null){Qx(s);continue}}S!==null?(S.return=L,za=S):Qx(s)}P=P.sibling}e:for(P=null,s=U;;){if(s.tag===5){if(P===null){P=s;try{qe=s.stateNode,m?(yt=qe.style,typeof yt.setProperty=="function"?yt.setProperty("display","none","important"):yt.display="none"):(H=s.stateNode,e=s.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=Fb("display",G))}catch(p){xo(U,U.return,p)}}}else if(s.tag===6){if(P===null)try{s.stateNode.nodeValue=m?"":s.memoizedProps}catch(p){xo(U,U.return,p)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===U)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===U)break e;for(;s.sibling===null;){if(s.return===null||s.return===U)break e;P===s&&(P=null),s=s.return}P===s&&(P=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:Eu(q,U),qu(U),Ie&4&&Kx(U);break;case 21:break;default:Eu(q,U),qu(U)}}function qu(U){var q=U.flags;if(q&2){try{e:{for(var ye=U.return;ye!==null;){if(uw(ye)){var Ie=ye;break e}ye=ye.return}throw Error(ma(160))}switch(Ie.tag){case 5:var qe=Ie.stateNode;Ie.flags&32&&(Cd(qe,""),Ie.flags&=-33);var yt=Zx(U);Ny(U,yt,qe);break;case 3:case 4:var G=Ie.stateNode.containerInfo,H=Zx(U);Fy(U,H,G);break;default:throw Error(ma(161))}}catch(e){xo(U,U.return,e)}U.flags&=-3}q&4096&&(U.flags&=-4097)}function q6(U,q,ye){za=U,hw(U)}function hw(U,q,ye){for(var Ie=(U.mode&1)!==0;za!==null;){var qe=za,yt=qe.child;if(qe.tag===22&&Ie){var G=qe.memoizedState!==null||Np;if(!G){var H=qe.alternate,e=H!==null&&H.memoizedState!==null||As;H=Np;var m=As;if(Np=G,(As=e)&&!m)for(za=qe;za!==null;)G=za,e=G.child,G.tag===22&&G.memoizedState!==null?$x(qe):e!==null?(e.return=G,za=e):$x(qe);for(;yt!==null;)za=yt,hw(yt),yt=yt.sibling;za=qe,Np=H,As=m}Jx(U)}else qe.subtreeFlags&8772&&yt!==null?(yt.return=qe,za=yt):Jx(U)}}function Jx(U){for(;za!==null;){var q=za;if(q.flags&8772){var ye=q.alternate;try{if(q.flags&8772)switch(q.tag){case 0:case 11:case 15:As||z0(5,q);break;case 1:var Ie=q.stateNode;if(q.flags&4&&!As)if(ye===null)Ie.componentDidMount();else{var qe=q.elementType===q.type?ye.memoizedProps:Cu(q.type,ye.memoizedProps);Ie.componentDidUpdate(qe,ye.memoizedState,Ie.__reactInternalSnapshotBeforeUpdate)}var yt=q.updateQueue;yt!==null&&kx(q,yt,Ie);break;case 3:var G=q.updateQueue;if(G!==null){if(ye=null,q.child!==null)switch(q.child.tag){case 5:ye=q.child.stateNode;break;case 1:ye=q.child.stateNode}kx(q,G,ye)}break;case 5:var H=q.stateNode;if(ye===null&&q.flags&4){ye=H;var e=q.memoizedProps;switch(q.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&ye.focus();break;case"img":e.src&&(ye.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(q.memoizedState===null){var m=q.alternate;if(m!==null){var P=m.memoizedState;if(P!==null){var s=P.dehydrated;s!==null&&Rd(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ma(163))}As||q.flags&512&&Oy(q)}catch(L){xo(q,q.return,L)}}if(q===U){za=null;break}if(ye=q.sibling,ye!==null){ye.return=q.return,za=ye;break}za=q.return}}function Qx(U){for(;za!==null;){var q=za;if(q===U){za=null;break}var ye=q.sibling;if(ye!==null){ye.return=q.return,za=ye;break}za=q.return}}function $x(U){for(;za!==null;){var q=za;try{switch(q.tag){case 0:case 11:case 15:var ye=q.return;try{z0(4,q)}catch(e){xo(q,ye,e)}break;case 1:var Ie=q.stateNode;if(typeof Ie.componentDidMount=="function"){var qe=q.return;try{Ie.componentDidMount()}catch(e){xo(q,qe,e)}}var yt=q.return;try{Oy(q)}catch(e){xo(q,yt,e)}break;case 5:var G=q.return;try{Oy(q)}catch(e){xo(q,G,e)}}}catch(e){xo(q,q.return,e)}if(q===U){za=null;break}var H=q.sibling;if(H!==null){H.return=q.return,za=H;break}za=q.return}}var eA=Math.ceil,m0=Uf.ReactCurrentDispatcher,Pm=Uf.ReactCurrentOwner,Ql=Uf.ReactCurrentBatchConfig,Ai=0,Xo=null,Io=null,us=0,ml=0,mv=Wc(0),Bo=0,Hd=null,_h=0,O0=0,_m=0,Sd=null,qs=null,Rm=0,Rv=1/0,Rf=null,x0=!1,By=null,Nc=null,Bp=!1,Rc=null,b0=0,Md=0,Uy=null,Jp=-1,Qp=0;function Os(){return Ai&6?Eo():Jp!==-1?Jp:Jp=Eo()}function Bc(U){return U.mode&1?Ai&2&&us!==0?us&-us:F6.transition!==null?(Qp===0&&(Qp=Jb()),Qp):(U=Di,U!==0||(U=window.event,U=U===void 0?16:n3(U.type)),U):1}function Ru(U,q,ye,Ie){if(50<Md)throw Md=0,Uy=null,Error(ma(185));Yd(U,ye,Ie),(!(Ai&2)||U!==Xo)&&(U===Xo&&(!(Ai&2)&&(O0|=ye),Bo===4&&Pc(U,us)),nl(U,Ie),ye===1&&Ai===0&&!(q.mode&1)&&(Rv=Eo()+500,D0&&jc()))}function nl(U,q){var ye=U.callbackNode;F5(U,q);var Ie=n0(U,U===Xo?us:0);if(Ie===0)ye!==null&&sx(ye),U.callbackNode=null,U.callbackPriority=0;else if(q=Ie&-Ie,U.callbackPriority!==q){if(ye!=null&&sx(ye),q===1)U.tag===0?O6(qx.bind(null,U)):T3(qx.bind(null,U)),D6(function(){!(Ai&6)&&jc()}),ye=null;else{switch(Qb(Ie)){case 1:ye=nm;break;case 4:ye=Zb;break;case 16:ye=r0;break;case 536870912:ye=Kb;break;default:ye=r0}ye=bw(ye,vw.bind(null,U))}U.callbackPriority=q,U.callbackNode=ye}}function vw(U,q){if(Jp=-1,Qp=0,Ai&6)throw Error(ma(327));var ye=U.callbackNode;if(Sv()&&U.callbackNode!==ye)return null;var Ie=n0(U,U===Xo?us:0);if(Ie===0)return null;if(Ie&30||Ie&U.expiredLanes||q)q=w0(U,Ie);else{q=Ie;var qe=Ai;Ai|=2;var yt=pw();(Xo!==U||us!==q)&&(Rf=null,Rv=Eo()+500,Sh(U,q));do try{nA();break}catch(H){dw(U,H)}while(!0);gm(),m0.current=yt,Ai=qe,Io!==null?q=0:(Xo=null,us=0,q=Bo)}if(q!==0){if(q===2&&(qe=vy(U),qe!==0&&(Ie=qe,q=Vy(U,qe))),q===1)throw ye=Hd,Sh(U,0),Pc(U,Ie),nl(U,Eo()),ye;if(q===6)Pc(U,Ie);else{if(qe=U.current.alternate,!(Ie&30)&&!tA(qe)&&(q=w0(U,Ie),q===2&&(yt=vy(U),yt!==0&&(Ie=yt,q=Vy(U,yt))),q===1))throw ye=Hd,Sh(U,0),Pc(U,Ie),nl(U,Eo()),ye;switch(U.finishedWork=qe,U.finishedLanes=Ie,q){case 0:case 1:throw Error(ma(345));case 2:bh(U,qs,Rf);break;case 3:if(Pc(U,Ie),(Ie&130023424)===Ie&&(q=Rm+500-Eo(),10<q)){if(n0(U,0)!==0)break;if(qe=U.suspendedLanes,(qe&Ie)!==Ie){Os(),U.pingedLanes|=U.suspendedLanes&qe;break}U.timeoutHandle=wy(bh.bind(null,U,qs,Rf),q);break}bh(U,qs,Rf);break;case 4:if(Pc(U,Ie),(Ie&4194240)===Ie)break;for(q=U.eventTimes,qe=-1;0<Ie;){var G=31-_u(Ie);yt=1<<G,G=q[G],G>qe&&(qe=G),Ie&=~yt}if(Ie=qe,Ie=Eo()-Ie,Ie=(120>Ie?120:480>Ie?480:1080>Ie?1080:1920>Ie?1920:3e3>Ie?3e3:4320>Ie?4320:1960*eA(Ie/1960))-Ie,10<Ie){U.timeoutHandle=wy(bh.bind(null,U,qs,Rf),Ie);break}bh(U,qs,Rf);break;case 5:bh(U,qs,Rf);break;default:throw Error(ma(329))}}}return nl(U,Eo()),U.callbackNode===ye?vw.bind(null,U):null}function Vy(U,q){var ye=Sd;return U.current.memoizedState.isDehydrated&&(Sh(U,q).flags|=256),U=w0(U,q),U!==2&&(q=qs,qs=ye,q!==null&&Hy(q)),U}function Hy(U){qs===null?qs=U:qs.push.apply(qs,U)}function tA(U){for(var q=U;;){if(q.flags&16384){var ye=q.updateQueue;if(ye!==null&&(ye=ye.stores,ye!==null))for(var Ie=0;Ie<ye.length;Ie++){var qe=ye[Ie],yt=qe.getSnapshot;qe=qe.value;try{if(!Du(yt(),qe))return!1}catch{return!1}}}if(ye=q.child,q.subtreeFlags&16384&&ye!==null)ye.return=q,q=ye;else{if(q===U)break;for(;q.sibling===null;){if(q.return===null||q.return===U)return!0;q=q.return}q.sibling.return=q.return,q=q.sibling}}return!0}function Pc(U,q){for(q&=~_m,q&=~O0,U.suspendedLanes|=q,U.pingedLanes&=~q,U=U.expirationTimes;0<q;){var ye=31-_u(q),Ie=1<<ye;U[ye]=-1,q&=~Ie}}function qx(U){if(Ai&6)throw Error(ma(327));Sv();var q=n0(U,0);if(!(q&1))return nl(U,Eo()),null;var ye=w0(U,q);if(U.tag!==0&&ye===2){var Ie=vy(U);Ie!==0&&(q=Ie,ye=Vy(U,Ie))}if(ye===1)throw ye=Hd,Sh(U,0),Pc(U,q),nl(U,Eo()),ye;if(ye===6)throw Error(ma(345));return U.finishedWork=U.current.alternate,U.finishedLanes=q,bh(U,qs,Rf),nl(U,Eo()),null}function Dm(U,q){var ye=Ai;Ai|=1;try{return U(q)}finally{Ai=ye,Ai===0&&(Rv=Eo()+500,D0&&jc())}}function Rh(U){Rc!==null&&Rc.tag===0&&!(Ai&6)&&Sv();var q=Ai;Ai|=1;var ye=Ql.transition,Ie=Di;try{if(Ql.transition=null,Di=1,U)return U()}finally{Di=Ie,Ql.transition=ye,Ai=q,!(Ai&6)&&jc()}}function Im(){ml=mv.current,Zi(mv)}function Sh(U,q){U.finishedWork=null,U.finishedLanes=0;var ye=U.timeoutHandle;if(ye!==-1&&(U.timeoutHandle=-1,R6(ye)),Io!==null)for(ye=Io.return;ye!==null;){var Ie=ye;switch(vm(Ie),Ie.tag){case 1:Ie=Ie.type.childContextTypes,Ie!=null&&l0();break;case 3:Pv(),Zi(tl),Zi(Ss),Tm();break;case 5:wm(Ie);break;case 4:Pv();break;case 13:Zi(co);break;case 19:Zi(co);break;case 10:ym(Ie.type._context);break;case 22:case 23:Im()}ye=ye.return}if(Xo=U,Io=U=Uc(U.current,null),us=ml=q,Bo=0,Hd=null,_m=O0=_h=0,qs=Sd=null,Th!==null){for(q=0;q<Th.length;q++)if(ye=Th[q],Ie=ye.interleaved,Ie!==null){ye.interleaved=null;var qe=Ie.next,yt=ye.pending;if(yt!==null){var G=yt.next;yt.next=qe,Ie.next=G}ye.pending=Ie}Th=null}return U}function dw(U,q){do{var ye=Io;try{if(gm(),Xp.current=y0,g0){for(var Ie=ho.memoizedState;Ie!==null;){var qe=Ie.queue;qe!==null&&(qe.pending=null),Ie=Ie.next}g0=!1}if(Ph=0,Yo=No=ho=null,Td=!1,Bd=0,Pm.current=null,ye===null||ye.return===null){Bo=1,Hd=q,Io=null;break}e:{var yt=U,G=ye.return,H=ye,e=q;if(q=us,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var m=e,P=H,s=P.tag;if(!(P.mode&1)&&(s===0||s===11||s===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var S=Ux(G);if(S!==null){S.flags&=-257,Vx(S,G,H,yt,q),S.mode&1&&Bx(yt,m,q),q=S,e=m;var v=q.updateQueue;if(v===null){var p=new Set;p.add(e),q.updateQueue=p}else v.add(e);break e}else{if(!(q&1)){Bx(yt,m,q),km();break e}e=Error(ma(426))}}else if(eo&&H.mode&1){var r=Ux(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),Vx(r,G,H,yt,q),dm(_v(e,H));break e}}yt=e=_v(e,H),Bo!==4&&(Bo=2),Sd===null?Sd=[yt]:Sd.push(yt),yt=G;do{switch(yt.tag){case 3:yt.flags|=65536,q&=-q,yt.lanes|=q;var t=Q3(yt,e,q);Ix(yt,t);break e;case 1:H=e;var a=yt.type,n=yt.stateNode;if(!(yt.flags&128)&&(typeof a.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Nc===null||!Nc.has(n)))){yt.flags|=65536,q&=-q,yt.lanes|=q;var f=$3(yt,H,q);Ix(yt,f);break e}}yt=yt.return}while(yt!==null)}yw(ye)}catch(u){q=u,Io===ye&&ye!==null&&(Io=ye=ye.return);continue}break}while(!0)}function pw(){var U=m0.current;return m0.current=y0,U===null?y0:U}function km(){(Bo===0||Bo===3||Bo===2)&&(Bo=4),Xo===null||!(_h&268435455)&&!(O0&268435455)||Pc(Xo,us)}function w0(U,q){var ye=Ai;Ai|=2;var Ie=pw();(Xo!==U||us!==q)&&(Rf=null,Sh(U,q));do try{rA();break}catch(qe){dw(U,qe)}while(!0);if(gm(),Ai=ye,m0.current=Ie,Io!==null)throw Error(ma(261));return Xo=null,us=0,Bo}function rA(){for(;Io!==null;)gw(Io)}function nA(){for(;Io!==null&&!L5();)gw(Io)}function gw(U){var q=xw(U.alternate,U,ml);U.memoizedProps=U.pendingProps,q===null?yw(U):Io=q,Pm.current=null}function yw(U){var q=U;do{var ye=q.alternate;if(U=q.return,q.flags&32768){if(ye=J6(ye,q),ye!==null){ye.flags&=32767,Io=ye;return}if(U!==null)U.flags|=32768,U.subtreeFlags=0,U.deletions=null;else{Bo=6,Io=null;return}}else if(ye=K6(ye,q,ml),ye!==null){Io=ye;return}if(q=q.sibling,q!==null){Io=q;return}Io=q=U}while(q!==null);Bo===0&&(Bo=5)}function bh(U,q,ye){var Ie=Di,qe=Ql.transition;try{Ql.transition=null,Di=1,aA(U,q,ye,Ie)}finally{Ql.transition=qe,Di=Ie}return null}function aA(U,q,ye,Ie){do Sv();while(Rc!==null);if(Ai&6)throw Error(ma(327));ye=U.finishedWork;var qe=U.finishedLanes;if(ye===null)return null;if(U.finishedWork=null,U.finishedLanes=0,ye===U.current)throw Error(ma(177));U.callbackNode=null,U.callbackPriority=0;var yt=ye.lanes|ye.childLanes;if(N5(U,yt),U===Xo&&(Io=Xo=null,us=0),!(ye.subtreeFlags&2064)&&!(ye.flags&2064)||Bp||(Bp=!0,bw(r0,function(){return Sv(),null})),yt=(ye.flags&15990)!==0,ye.subtreeFlags&15990||yt){yt=Ql.transition,Ql.transition=null;var G=Di;Di=1;var H=Ai;Ai|=4,Pm.current=null,$6(U,ye),cw(ye,U),S6(xy),a0=!!my,xy=my=null,U.current=ye,q6(ye),P5(),Ai=H,Di=G,Ql.transition=yt}else U.current=ye;if(Bp&&(Bp=!1,Rc=U,b0=qe),yt=U.pendingLanes,yt===0&&(Nc=null),D5(ye.stateNode),nl(U,Eo()),q!==null)for(Ie=U.onRecoverableError,ye=0;ye<q.length;ye++)qe=q[ye],Ie(qe.value,{componentStack:qe.stack,digest:qe.digest});if(x0)throw x0=!1,U=By,By=null,U;return b0&1&&U.tag!==0&&Sv(),yt=U.pendingLanes,yt&1?U===Uy?Md++:(Md=0,Uy=U):Md=0,jc(),null}function Sv(){if(Rc!==null){var U=Qb(b0),q=Ql.transition,ye=Di;try{if(Ql.transition=null,Di=16>U?16:U,Rc===null)var Ie=!1;else{if(U=Rc,Rc=null,b0=0,Ai&6)throw Error(ma(331));var qe=Ai;for(Ai|=4,za=U.current;za!==null;){var yt=za,G=yt.child;if(za.flags&16){var H=yt.deletions;if(H!==null){for(var e=0;e<H.length;e++){var m=H[e];for(za=m;za!==null;){var P=za;switch(P.tag){case 0:case 11:case 15:Ad(8,P,yt)}var s=P.child;if(s!==null)s.return=P,za=s;else for(;za!==null;){P=za;var L=P.sibling,S=P.return;if(lw(P),P===m){za=null;break}if(L!==null){L.return=S,za=L;break}za=S}}}var v=yt.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}za=yt}}if(yt.subtreeFlags&2064&&G!==null)G.return=yt,za=G;else e:for(;za!==null;){if(yt=za,yt.flags&2048)switch(yt.tag){case 0:case 11:case 15:Ad(9,yt,yt.return)}var t=yt.sibling;if(t!==null){t.return=yt.return,za=t;break e}za=yt.return}}var a=U.current;for(za=a;za!==null;){G=za;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,za=n;else e:for(G=a;za!==null;){if(H=za,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:z0(9,H)}}catch(u){xo(H,H.return,u)}if(H===G){za=null;break e}var f=H.sibling;if(f!==null){f.return=H.return,za=f;break e}za=H.return}}if(Ai=qe,jc(),rf&&typeof rf.onPostCommitFiberRoot=="function")try{rf.onPostCommitFiberRoot(C0,U)}catch{}Ie=!0}return Ie}finally{Di=ye,Ql.transition=q}}return!1}function eb(U,q,ye){q=_v(ye,q),q=Q3(U,q,1),U=Fc(U,q,1),q=Os(),U!==null&&(Yd(U,1,q),nl(U,q))}function xo(U,q,ye){if(U.tag===3)eb(U,U,ye);else for(;q!==null;){if(q.tag===3){eb(q,U,ye);break}else if(q.tag===1){var Ie=q.stateNode;if(typeof q.type.getDerivedStateFromError=="function"||typeof Ie.componentDidCatch=="function"&&(Nc===null||!Nc.has(Ie))){U=_v(ye,U),U=$3(q,U,1),q=Fc(q,U,1),U=Os(),q!==null&&(Yd(q,1,U),nl(q,U));break}}q=q.return}}function iA(U,q,ye){var Ie=U.pingCache;Ie!==null&&Ie.delete(q),q=Os(),U.pingedLanes|=U.suspendedLanes&ye,Xo===U&&(us&ye)===ye&&(Bo===4||Bo===3&&(us&130023424)===us&&500>Eo()-Rm?Sh(U,0):_m|=ye),nl(U,q)}function mw(U,q){q===0&&(U.mode&1?(q=Pp,Pp<<=1,!(Pp&130023424)&&(Pp=4194304)):q=1);var ye=Os();U=Nf(U,q),U!==null&&(Yd(U,q,ye),nl(U,ye))}function oA(U){var q=U.memoizedState,ye=0;q!==null&&(ye=q.retryLane),mw(U,ye)}function sA(U,q){var ye=0;switch(U.tag){case 13:var Ie=U.stateNode,qe=U.memoizedState;qe!==null&&(ye=qe.retryLane);break;case 19:Ie=U.stateNode;break;default:throw Error(ma(314))}Ie!==null&&Ie.delete(q),mw(U,ye)}var xw;xw=function(U,q,ye){if(U!==null)if(U.memoizedProps!==q.pendingProps||tl.current)el=!0;else{if(!(U.lanes&ye)&&!(q.flags&128))return el=!1,Z6(U,q,ye);el=!!(U.flags&131072)}else el=!1,eo&&q.flags&1048576&&A3(q,c0,q.index);switch(q.lanes=0,q.tag){case 2:var Ie=q.type;Kp(U,q),U=q.pendingProps;var qe=Ev(q,Ss.current);Av(q,ye),qe=Sm(null,q,Ie,U,qe,ye);var yt=Mm();return q.flags|=1,typeof qe=="object"&&qe!==null&&typeof qe.render=="function"&&qe.$$typeof===void 0?(q.tag=1,q.memoizedState=null,q.updateQueue=null,rl(Ie)?(yt=!0,u0(q)):yt=!1,q.memoizedState=qe.state!==null&&qe.state!==void 0?qe.state:null,xm(q),qe.updater=k0,q.stateNode=qe,qe._reactInternals=q,Ly(q,Ie,U,ye),q=Ry(null,q,Ie,!0,yt,ye)):(q.tag=0,eo&&yt&&hm(q),zs(null,q,qe,ye),q=q.child),q;case 16:Ie=q.elementType;e:{switch(Kp(U,q),U=q.pendingProps,qe=Ie._init,Ie=qe(Ie._payload),q.type=Ie,qe=q.tag=uA(Ie),U=Cu(Ie,U),qe){case 0:q=_y(null,q,Ie,U,ye);break e;case 1:q=Wx(null,q,Ie,U,ye);break e;case 11:q=Hx(null,q,Ie,U,ye);break e;case 14:q=Gx(null,q,Ie,Cu(Ie.type,U),ye);break e}throw Error(ma(306,Ie,""))}return q;case 0:return Ie=q.type,qe=q.pendingProps,qe=q.elementType===Ie?qe:Cu(Ie,qe),_y(U,q,Ie,qe,ye);case 1:return Ie=q.type,qe=q.pendingProps,qe=q.elementType===Ie?qe:Cu(Ie,qe),Wx(U,q,Ie,qe,ye);case 3:e:{if(rw(q),U===null)throw Error(ma(387));Ie=q.pendingProps,yt=q.memoizedState,qe=yt.element,P3(U,q),d0(q,Ie,null,ye);var G=q.memoizedState;if(Ie=G.element,yt.isDehydrated)if(yt={element:Ie,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},q.updateQueue.baseState=yt,q.memoizedState=yt,q.flags&256){qe=_v(Error(ma(423)),q),q=jx(U,q,Ie,ye,qe);break e}else if(Ie!==qe){qe=_v(Error(ma(424)),q),q=jx(U,q,Ie,ye,qe);break e}else for(xl=Oc(q.stateNode.containerInfo.firstChild),bl=q,eo=!0,Pu=null,ye=C3(q,null,Ie,ye),q.child=ye;ye;)ye.flags=ye.flags&-3|4096,ye=ye.sibling;else{if(Cv(),Ie===qe){q=Bf(U,q,ye);break e}zs(U,q,Ie,ye)}q=q.child}return q;case 5:return _3(q),U===null&&My(q),Ie=q.type,qe=q.pendingProps,yt=U!==null?U.memoizedProps:null,G=qe.children,by(Ie,qe)?G=null:yt!==null&&by(Ie,yt)&&(q.flags|=32),tw(U,q),zs(U,q,G,ye),q.child;case 6:return U===null&&My(q),null;case 13:return nw(U,q,ye);case 4:return bm(q,q.stateNode.containerInfo),Ie=q.pendingProps,U===null?q.child=Lv(q,null,Ie,ye):zs(U,q,Ie,ye),q.child;case 11:return Ie=q.type,qe=q.pendingProps,qe=q.elementType===Ie?qe:Cu(Ie,qe),Hx(U,q,Ie,qe,ye);case 7:return zs(U,q,q.pendingProps,ye),q.child;case 8:return zs(U,q,q.pendingProps.children,ye),q.child;case 12:return zs(U,q,q.pendingProps.children,ye),q.child;case 10:e:{if(Ie=q.type._context,qe=q.pendingProps,yt=q.memoizedProps,G=qe.value,Vi(h0,Ie._currentValue),Ie._currentValue=G,yt!==null)if(Du(yt.value,G)){if(yt.children===qe.children&&!tl.current){q=Bf(U,q,ye);break e}}else for(yt=q.child,yt!==null&&(yt.return=q);yt!==null;){var H=yt.dependencies;if(H!==null){G=yt.child;for(var e=H.firstContext;e!==null;){if(e.context===Ie){if(yt.tag===1){e=zf(-1,ye&-ye),e.tag=2;var m=yt.updateQueue;if(m!==null){m=m.shared;var P=m.pending;P===null?e.next=e:(e.next=P.next,P.next=e),m.pending=e}}yt.lanes|=ye,e=yt.alternate,e!==null&&(e.lanes|=ye),Ey(yt.return,ye,q),H.lanes|=ye;break}e=e.next}}else if(yt.tag===10)G=yt.type===q.type?null:yt.child;else if(yt.tag===18){if(G=yt.return,G===null)throw Error(ma(341));G.lanes|=ye,H=G.alternate,H!==null&&(H.lanes|=ye),Ey(G,ye,q),G=yt.sibling}else G=yt.child;if(G!==null)G.return=yt;else for(G=yt;G!==null;){if(G===q){G=null;break}if(yt=G.sibling,yt!==null){yt.return=G.return,G=yt;break}G=G.return}yt=G}zs(U,q,qe.children,ye),q=q.child}return q;case 9:return qe=q.type,Ie=q.pendingProps.children,Av(q,ye),qe=$l(qe),Ie=Ie(qe),q.flags|=1,zs(U,q,Ie,ye),q.child;case 14:return Ie=q.type,qe=Cu(Ie,q.pendingProps),qe=Cu(Ie.type,qe),Gx(U,q,Ie,qe,ye);case 15:return q3(U,q,q.type,q.pendingProps,ye);case 17:return Ie=q.type,qe=q.pendingProps,qe=q.elementType===Ie?qe:Cu(Ie,qe),Kp(U,q),q.tag=1,rl(Ie)?(U=!0,u0(q)):U=!1,Av(q,ye),J3(q,Ie,qe),Ly(q,Ie,qe,ye),Ry(null,q,Ie,!0,U,ye);case 19:return aw(U,q,ye);case 22:return ew(U,q,ye)}throw Error(ma(156,q.tag))};function bw(U,q){return Xb(U,q)}function lA(U,q,ye,Ie){this.tag=U,this.key=ye,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=q,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ie,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jl(U,q,ye,Ie){return new lA(U,q,ye,Ie)}function zm(U){return U=U.prototype,!(!U||!U.isReactComponent)}function uA(U){if(typeof U=="function")return zm(U)?1:0;if(U!=null){if(U=U.$$typeof,U===em)return 11;if(U===tm)return 14}return 2}function Uc(U,q){var ye=U.alternate;return ye===null?(ye=Jl(U.tag,q,U.key,U.mode),ye.elementType=U.elementType,ye.type=U.type,ye.stateNode=U.stateNode,ye.alternate=U,U.alternate=ye):(ye.pendingProps=q,ye.type=U.type,ye.flags=0,ye.subtreeFlags=0,ye.deletions=null),ye.flags=U.flags&14680064,ye.childLanes=U.childLanes,ye.lanes=U.lanes,ye.child=U.child,ye.memoizedProps=U.memoizedProps,ye.memoizedState=U.memoizedState,ye.updateQueue=U.updateQueue,q=U.dependencies,ye.dependencies=q===null?null:{lanes:q.lanes,firstContext:q.firstContext},ye.sibling=U.sibling,ye.index=U.index,ye.ref=U.ref,ye}function $p(U,q,ye,Ie,qe,yt){var G=2;if(Ie=U,typeof U=="function")zm(U)&&(G=1);else if(typeof U=="string")G=5;else e:switch(U){case lv:return Mh(ye.children,qe,yt,q);case qy:G=8,qe|=8;break;case $g:return U=Jl(12,ye,q,qe|2),U.elementType=$g,U.lanes=yt,U;case qg:return U=Jl(13,ye,q,qe),U.elementType=qg,U.lanes=yt,U;case ey:return U=Jl(19,ye,q,qe),U.elementType=ey,U.lanes=yt,U;case _b:return F0(ye,qe,yt,q);default:if(typeof U=="object"&&U!==null)switch(U.$$typeof){case Lb:G=10;break e;case Pb:G=9;break e;case em:G=11;break e;case tm:G=14;break e;case Mc:G=16,Ie=null;break e}throw Error(ma(130,U==null?U:typeof U,""))}return q=Jl(G,ye,q,qe),q.elementType=U,q.type=Ie,q.lanes=yt,q}function Mh(U,q,ye,Ie){return U=Jl(7,U,Ie,q),U.lanes=ye,U}function F0(U,q,ye,Ie){return U=Jl(22,U,Ie,q),U.elementType=_b,U.lanes=ye,U.stateNode={isHidden:!1},U}function jg(U,q,ye){return U=Jl(6,U,null,q),U.lanes=ye,U}function Yg(U,q,ye){return q=Jl(4,U.children!==null?U.children:[],U.key,q),q.lanes=ye,q.stateNode={containerInfo:U.containerInfo,pendingChildren:null,implementation:U.implementation},q}function fA(U,q,ye,Ie,qe){this.tag=q,this.containerInfo=U,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=Ie,this.onRecoverableError=qe,this.mutableSourceEagerHydrationData=null}function Om(U,q,ye,Ie,qe,yt,G,H,e){return U=new fA(U,q,ye,H,e),q===1?(q=1,yt===!0&&(q|=8)):q=0,yt=Jl(3,null,null,q),U.current=yt,yt.stateNode=U,yt.memoizedState={element:Ie,isDehydrated:ye,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(yt),U}function cA(U,q,ye){var Ie=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sv,key:Ie==null?null:""+Ie,children:U,containerInfo:q,implementation:ye}}function ww(U){if(!U)return Hc;U=U._reactInternals;e:{if(Ih(U)!==U||U.tag!==1)throw Error(ma(170));var q=U;do{switch(q.tag){case 3:q=q.stateNode.context;break e;case 1:if(rl(q.type)){q=q.stateNode.__reactInternalMemoizedMergedChildContext;break e}}q=q.return}while(q!==null);throw Error(ma(171))}if(U.tag===1){var ye=U.type;if(rl(ye))return w3(U,ye,q)}return q}function Tw(U,q,ye,Ie,qe,yt,G,H,e){return U=Om(ye,Ie,!0,U,qe,yt,G,H,e),U.context=ww(null),ye=U.current,Ie=Os(),qe=Bc(ye),yt=zf(Ie,qe),yt.callback=q??null,Fc(ye,yt,qe),U.current.lanes=qe,Yd(U,qe,Ie),nl(U,Ie),U}function N0(U,q,ye,Ie){var qe=q.current,yt=Os(),G=Bc(qe);return ye=ww(ye),q.context===null?q.context=ye:q.pendingContext=ye,q=zf(yt,G),q.payload={element:U},Ie=Ie===void 0?null:Ie,Ie!==null&&(q.callback=Ie),U=Fc(qe,q,G),U!==null&&(Ru(U,qe,G,yt),Yp(U,qe,G)),G}function T0(U){if(U=U.current,!U.child)return null;switch(U.child.tag){case 5:return U.child.stateNode;default:return U.child.stateNode}}function tb(U,q){if(U=U.memoizedState,U!==null&&U.dehydrated!==null){var ye=U.retryLane;U.retryLane=ye!==0&&ye<q?ye:q}}function Fm(U,q){tb(U,q),(U=U.alternate)&&tb(U,q)}function hA(){return null}var Aw=typeof reportError=="function"?reportError:function(U){console.error(U)};function Nm(U){this._internalRoot=U}B0.prototype.render=Nm.prototype.render=function(U){var q=this._internalRoot;if(q===null)throw Error(ma(409));N0(U,q,null,null)};B0.prototype.unmount=Nm.prototype.unmount=function(){var U=this._internalRoot;if(U!==null){this._internalRoot=null;var q=U.containerInfo;Rh(function(){N0(null,U,null,null)}),q[Ff]=null}};function B0(U){this._internalRoot=U}B0.prototype.unstable_scheduleHydration=function(U){if(U){var q=e3();U={blockedOn:null,target:U,priority:q};for(var ye=0;ye<Lc.length&&q!==0&&q<Lc[ye].priority;ye++);Lc.splice(ye,0,U),ye===0&&r3(U)}};function Bm(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)}function U0(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11&&(U.nodeType!==8||U.nodeValue!==" react-mount-point-unstable "))}function rb(){}function vA(U,q,ye,Ie,qe){if(qe){if(typeof Ie=="function"){var yt=Ie;Ie=function(){var m=T0(G);yt.call(m)}}var G=Tw(q,Ie,U,0,null,!1,!1,"",rb);return U._reactRootContainer=G,U[Ff]=G.current,kd(U.nodeType===8?U.parentNode:U),Rh(),G}for(;qe=U.lastChild;)U.removeChild(qe);if(typeof Ie=="function"){var H=Ie;Ie=function(){var m=T0(e);H.call(m)}}var e=Om(U,0,!1,null,null,!1,!1,"",rb);return U._reactRootContainer=e,U[Ff]=e.current,kd(U.nodeType===8?U.parentNode:U),Rh(function(){N0(q,e,ye,Ie)}),e}function V0(U,q,ye,Ie,qe){var yt=ye._reactRootContainer;if(yt){var G=yt;if(typeof qe=="function"){var H=qe;qe=function(){var e=T0(G);H.call(e)}}N0(q,G,U,qe)}else G=vA(ye,q,U,qe,Ie);return T0(G)}$b=function(U){switch(U.tag){case 3:var q=U.stateNode;if(q.current.memoizedState.isDehydrated){var ye=pd(q.pendingLanes);ye!==0&&(am(q,ye|1),nl(q,Eo()),!(Ai&6)&&(Rv=Eo()+500,jc()))}break;case 13:Rh(function(){var Ie=Nf(U,1);if(Ie!==null){var qe=Os();Ru(Ie,U,1,qe)}}),Fm(U,1)}};im=function(U){if(U.tag===13){var q=Nf(U,134217728);if(q!==null){var ye=Os();Ru(q,U,134217728,ye)}Fm(U,134217728)}};qb=function(U){if(U.tag===13){var q=Bc(U),ye=Nf(U,q);if(ye!==null){var Ie=Os();Ru(ye,U,q,Ie)}Fm(U,q)}};e3=function(){return Di};t3=function(U,q){var ye=Di;try{return Di=U,q()}finally{Di=ye}};fy=function(U,q,ye){switch(q){case"input":if(ny(U,ye),q=ye.name,ye.type==="radio"&&q!=null){for(ye=U;ye.parentNode;)ye=ye.parentNode;for(ye=ye.querySelectorAll("input[name="+JSON.stringify(""+q)+'][type="radio"]'),q=0;q<ye.length;q++){var Ie=ye[q];if(Ie!==U&&Ie.form===U.form){var qe=R0(Ie);if(!qe)throw Error(ma(90));Db(Ie),ny(Ie,qe)}}}break;case"textarea":kb(U,ye);break;case"select":q=ye.value,q!=null&&xv(U,!!ye.multiple,q,!1)}};Vb=Dm;Hb=Rh;var dA={usingClientEntryPoint:!1,Events:[Zd,hv,R0,Bb,Ub,Dm]},hd={findFiberByHostInstance:wh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pA={bundleType:hd.bundleType,version:hd.version,rendererPackageName:hd.rendererPackageName,rendererConfig:hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uf.ReactCurrentDispatcher,findHostInstanceByFiber:function(U){return U=jb(U),U===null?null:U.stateNode},findFiberByHostInstance:hd.findFiberByHostInstance||hA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{C0=Up.inject(pA),rf=Up}catch{}}Tl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dA;Tl.createPortal=function(U,q){var ye=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(q))throw Error(ma(200));return cA(U,q,null,ye)};Tl.createRoot=function(U,q){if(!Bm(U))throw Error(ma(299));var ye=!1,Ie="",qe=Aw;return q!=null&&(q.unstable_strictMode===!0&&(ye=!0),q.identifierPrefix!==void 0&&(Ie=q.identifierPrefix),q.onRecoverableError!==void 0&&(qe=q.onRecoverableError)),q=Om(U,1,!1,null,null,ye,!1,Ie,qe),U[Ff]=q.current,kd(U.nodeType===8?U.parentNode:U),new Nm(q)};Tl.findDOMNode=function(U){if(U==null)return null;if(U.nodeType===1)return U;var q=U._reactInternals;if(q===void 0)throw typeof U.render=="function"?Error(ma(188)):(U=Object.keys(U).join(","),Error(ma(268,U)));return U=jb(q),U=U===null?null:U.stateNode,U};Tl.flushSync=function(U){return Rh(U)};Tl.hydrate=function(U,q,ye){if(!U0(q))throw Error(ma(200));return V0(null,U,q,!0,ye)};Tl.hydrateRoot=function(U,q,ye){if(!Bm(U))throw Error(ma(405));var Ie=ye!=null&&ye.hydratedSources||null,qe=!1,yt="",G=Aw;if(ye!=null&&(ye.unstable_strictMode===!0&&(qe=!0),ye.identifierPrefix!==void 0&&(yt=ye.identifierPrefix),ye.onRecoverableError!==void 0&&(G=ye.onRecoverableError)),q=Tw(q,null,U,1,ye??null,qe,!1,yt,G),U[Ff]=q.current,kd(U),Ie)for(U=0;U<Ie.length;U++)ye=Ie[U],qe=ye._getVersion,qe=qe(ye._source),q.mutableSourceEagerHydrationData==null?q.mutableSourceEagerHydrationData=[ye,qe]:q.mutableSourceEagerHydrationData.push(ye,qe);return new B0(q)};Tl.render=function(U,q,ye){if(!U0(q))throw Error(ma(200));return V0(null,U,q,!1,ye)};Tl.unmountComponentAtNode=function(U){if(!U0(U))throw Error(ma(40));return U._reactRootContainer?(Rh(function(){V0(null,null,U,!1,function(){U._reactRootContainer=null,U[Ff]=null})}),!0):!1};Tl.unstable_batchedUpdates=Dm;Tl.unstable_renderSubtreeIntoContainer=function(U,q,ye,Ie){if(!U0(ye))throw Error(ma(200));if(U==null||U._reactInternals===void 0)throw Error(ma(38));return V0(U,q,ye,!1,Ie)};Tl.version="18.3.1-next-f1338f8080-20240426";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(U){console.error(U)}}Sw(),Sb.exports=Tl;var gA=Sb.exports,nb=gA;Jg.createRoot=nb.createRoot,Jg.hydrateRoot=nb.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(U){for(var q=1;q<arguments.length;q++){var ye=arguments[q];for(var Ie in ye)Object.prototype.hasOwnProperty.call(ye,Ie)&&(U[Ie]=ye[Ie])}return U},Gd.apply(this,arguments)}var Dc;(function(U){U.Pop="POP",U.Push="PUSH",U.Replace="REPLACE"})(Dc||(Dc={}));const ab="popstate";function yA(U){U===void 0&&(U={});function q(Ie,qe){let{pathname:yt,search:G,hash:H}=Ie.location;return Gy("",{pathname:yt,search:G,hash:H},qe.state&&qe.state.usr||null,qe.state&&qe.state.key||"default")}function ye(Ie,qe){return typeof qe=="string"?qe:Ew(qe)}return xA(q,ye,null,U)}function Uo(U,q){if(U===!1||U===null||typeof U>"u")throw new Error(q)}function Mw(U,q){if(!U){typeof console<"u"&&console.warn(q);try{throw new Error(q)}catch{}}}function mA(){return Math.random().toString(36).substr(2,8)}function ib(U,q){return{usr:U.state,key:U.key,idx:q}}function Gy(U,q,ye,Ie){return ye===void 0&&(ye=null),Gd({pathname:typeof U=="string"?U:U.pathname,search:"",hash:""},typeof q=="string"?zv(q):q,{state:ye,key:q&&q.key||Ie||mA()})}function Ew(U){let{pathname:q="/",search:ye="",hash:Ie=""}=U;return ye&&ye!=="?"&&(q+=ye.charAt(0)==="?"?ye:"?"+ye),Ie&&Ie!=="#"&&(q+=Ie.charAt(0)==="#"?Ie:"#"+Ie),q}function zv(U){let q={};if(U){let ye=U.indexOf("#");ye>=0&&(q.hash=U.substr(ye),U=U.substr(0,ye));let Ie=U.indexOf("?");Ie>=0&&(q.search=U.substr(Ie),U=U.substr(0,Ie)),U&&(q.pathname=U)}return q}function xA(U,q,ye,Ie){Ie===void 0&&(Ie={});let{window:qe=document.defaultView,v5Compat:yt=!1}=Ie,G=qe.history,H=Dc.Pop,e=null,m=P();m==null&&(m=0,G.replaceState(Gd({},G.state,{idx:m}),""));function P(){return(G.state||{idx:null}).idx}function s(){H=Dc.Pop;let r=P(),t=r==null?null:r-m;m=r,e&&e({action:H,location:p.location,delta:t})}function L(r,t){H=Dc.Push;let a=Gy(p.location,r,t);m=P()+1;let n=ib(a,m),f=p.createHref(a);try{G.pushState(n,"",f)}catch(u){if(u instanceof DOMException&&u.name==="DataCloneError")throw u;qe.location.assign(f)}yt&&e&&e({action:H,location:p.location,delta:1})}function S(r,t){H=Dc.Replace;let a=Gy(p.location,r,t);m=P();let n=ib(a,m),f=p.createHref(a);G.replaceState(n,"",f),yt&&e&&e({action:H,location:p.location,delta:0})}function v(r){let t=qe.location.origin!=="null"?qe.location.origin:qe.location.href,a=typeof r=="string"?r:Ew(r);return a=a.replace(/ $/,"%20"),Uo(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}let p={get action(){return H},get location(){return U(qe,G)},listen(r){if(e)throw new Error("A history only accepts one active listener");return qe.addEventListener(ab,s),e=r,()=>{qe.removeEventListener(ab,s),e=null}},createHref(r){return q(qe,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:L,replace:S,go(r){return G.go(r)}};return p}var ob;(function(U){U.data="data",U.deferred="deferred",U.redirect="redirect",U.error="error"})(ob||(ob={}));function bA(U,q,ye){ye===void 0&&(ye="/");let Ie=typeof q=="string"?zv(q):q,qe=Pw(Ie.pathname||"/",ye);if(qe==null)return null;let yt=Cw(U);wA(yt);let G=null;for(let H=0;G==null&&H<yt.length;++H){let e=IA(qe);G=_A(yt[H],e)}return G}function Cw(U,q,ye,Ie){q===void 0&&(q=[]),ye===void 0&&(ye=[]),Ie===void 0&&(Ie="");let qe=(yt,G,H)=>{let e={relativePath:H===void 0?yt.path||"":H,caseSensitive:yt.caseSensitive===!0,childrenIndex:G,route:yt};e.relativePath.startsWith("/")&&(Uo(e.relativePath.startsWith(Ie),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+Ie+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(Ie.length));let m=Eh([Ie,e.relativePath]),P=ye.concat(e);yt.children&&yt.children.length>0&&(Uo(yt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Cw(yt.children,q,P,m)),!(yt.path==null&&!yt.index)&&q.push({path:m,score:LA(m,yt.index),routesMeta:P})};return U.forEach((yt,G)=>{var H;if(yt.path===""||!((H=yt.path)!=null&&H.includes("?")))qe(yt,G);else for(let e of Lw(yt.path))qe(yt,G,e)}),q}function Lw(U){let q=U.split("/");if(q.length===0)return[];let[ye,...Ie]=q,qe=ye.endsWith("?"),yt=ye.replace(/\?$/,"");if(Ie.length===0)return qe?[yt,""]:[yt];let G=Lw(Ie.join("/")),H=[];return H.push(...G.map(e=>e===""?yt:[yt,e].join("/"))),qe&&H.push(...G),H.map(e=>U.startsWith("/")&&e===""?"/":e)}function wA(U){U.sort((q,ye)=>q.score!==ye.score?ye.score-q.score:PA(q.routesMeta.map(Ie=>Ie.childrenIndex),ye.routesMeta.map(Ie=>Ie.childrenIndex)))}const TA=/^:[\w-]+$/,AA=3,SA=2,MA=1,EA=10,CA=-2,sb=U=>U==="*";function LA(U,q){let ye=U.split("/"),Ie=ye.length;return ye.some(sb)&&(Ie+=CA),q&&(Ie+=SA),ye.filter(qe=>!sb(qe)).reduce((qe,yt)=>qe+(TA.test(yt)?AA:yt===""?MA:EA),Ie)}function PA(U,q){return U.length===q.length&&U.slice(0,-1).every((Ie,qe)=>Ie===q[qe])?U[U.length-1]-q[q.length-1]:0}function _A(U,q){let{routesMeta:ye}=U,Ie={},qe="/",yt=[];for(let G=0;G<ye.length;++G){let H=ye[G],e=G===ye.length-1,m=qe==="/"?q:q.slice(qe.length)||"/",P=RA({path:H.relativePath,caseSensitive:H.caseSensitive,end:e},m);if(!P)return null;Object.assign(Ie,P.params);let s=H.route;yt.push({params:Ie,pathname:Eh([qe,P.pathname]),pathnameBase:BA(Eh([qe,P.pathnameBase])),route:s}),P.pathnameBase!=="/"&&(qe=Eh([qe,P.pathnameBase]))}return yt}function RA(U,q){typeof U=="string"&&(U={path:U,caseSensitive:!1,end:!0});let[ye,Ie]=DA(U.path,U.caseSensitive,U.end),qe=q.match(ye);if(!qe)return null;let yt=qe[0],G=yt.replace(/(.)\/+$/,"$1"),H=qe.slice(1);return{params:Ie.reduce((m,P,s)=>{let{paramName:L,isOptional:S}=P;if(L==="*"){let p=H[s]||"";G=yt.slice(0,yt.length-p.length).replace(/(.)\/+$/,"$1")}const v=H[s];return S&&!v?m[L]=void 0:m[L]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:yt,pathnameBase:G,pattern:U}}function DA(U,q,ye){q===void 0&&(q=!1),ye===void 0&&(ye=!0),Mw(U==="*"||!U.endsWith("*")||U.endsWith("/*"),'Route path "'+U+'" will be treated as if it were '+('"'+U.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+U.replace(/\*$/,"/*")+'".'));let Ie=[],qe="^"+U.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(G,H,e)=>(Ie.push({paramName:H,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return U.endsWith("*")?(Ie.push({paramName:"*"}),qe+=U==="*"||U==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ye?qe+="\\/*$":U!==""&&U!=="/"&&(qe+="(?:(?=\\/|$))"),[new RegExp(qe,q?void 0:"i"),Ie]}function IA(U){try{return U.split("/").map(q=>decodeURIComponent(q).replace(/\//g,"%2F")).join("/")}catch(q){return Mw(!1,'The URL path "'+U+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+q+").")),U}}function Pw(U,q){if(q==="/")return U;if(!U.toLowerCase().startsWith(q.toLowerCase()))return null;let ye=q.endsWith("/")?q.length-1:q.length,Ie=U.charAt(ye);return Ie&&Ie!=="/"?null:U.slice(ye)||"/"}function kA(U,q){q===void 0&&(q="/");let{pathname:ye,search:Ie="",hash:qe=""}=typeof U=="string"?zv(U):U;return{pathname:ye?ye.startsWith("/")?ye:zA(ye,q):q,search:UA(Ie),hash:VA(qe)}}function zA(U,q){let ye=q.replace(/\/+$/,"").split("/");return U.split("/").forEach(qe=>{qe===".."?ye.length>1&&ye.pop():qe!=="."&&ye.push(qe)}),ye.length>1?ye.join("/"):"/"}function Xg(U,q,ye,Ie){return"Cannot include a '"+U+"' character in a manually specified "+("`to."+q+"` field ["+JSON.stringify(Ie)+"].  Please separate it out to the ")+("`to."+ye+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OA(U){return U.filter((q,ye)=>ye===0||q.route.path&&q.route.path.length>0)}function FA(U,q){let ye=OA(U);return q?ye.map((Ie,qe)=>qe===U.length-1?Ie.pathname:Ie.pathnameBase):ye.map(Ie=>Ie.pathnameBase)}function NA(U,q,ye,Ie){Ie===void 0&&(Ie=!1);let qe;typeof U=="string"?qe=zv(U):(qe=Gd({},U),Uo(!qe.pathname||!qe.pathname.includes("?"),Xg("?","pathname","search",qe)),Uo(!qe.pathname||!qe.pathname.includes("#"),Xg("#","pathname","hash",qe)),Uo(!qe.search||!qe.search.includes("#"),Xg("#","search","hash",qe)));let yt=U===""||qe.pathname==="",G=yt?"/":qe.pathname,H;if(G==null)H=ye;else{let s=q.length-1;if(!Ie&&G.startsWith("..")){let L=G.split("/");for(;L[0]==="..";)L.shift(),s-=1;qe.pathname=L.join("/")}H=s>=0?q[s]:"/"}let e=kA(qe,H),m=G&&G!=="/"&&G.endsWith("/"),P=(yt||G===".")&&ye.endsWith("/");return!e.pathname.endsWith("/")&&(m||P)&&(e.pathname+="/"),e}const Eh=U=>U.join("/").replace(/\/\/+/g,"/"),BA=U=>U.replace(/\/+$/,"").replace(/^\/*/,"/"),UA=U=>!U||U==="?"?"":U.startsWith("?")?U:"?"+U,VA=U=>!U||U==="#"?"":U.startsWith("#")?U:"#"+U;function HA(U){return U!=null&&typeof U.status=="number"&&typeof U.statusText=="string"&&typeof U.internal=="boolean"&&"data"in U}const _w=["post","put","patch","delete"];new Set(_w);const GA=["get",..._w];new Set(GA);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(U){for(var q=1;q<arguments.length;q++){var ye=arguments[q];for(var Ie in ye)Object.prototype.hasOwnProperty.call(ye,Ie)&&(U[Ie]=ye[Ie])}return U},Wd.apply(this,arguments)}const Um=Fn.createContext(null),WA=Fn.createContext(null),H0=Fn.createContext(null),G0=Fn.createContext(null),Ov=Fn.createContext({outlet:null,matches:[],isDataRoute:!1}),Rw=Fn.createContext(null);function W0(){return Fn.useContext(G0)!=null}function Dw(){return W0()||Uo(!1),Fn.useContext(G0).location}function Iw(U){Fn.useContext(H0).static||Fn.useLayoutEffect(U)}function kw(){let{isDataRoute:U}=Fn.useContext(Ov);return U?nS():jA()}function jA(){W0()||Uo(!1);let U=Fn.useContext(Um),{basename:q,future:ye,navigator:Ie}=Fn.useContext(H0),{matches:qe}=Fn.useContext(Ov),{pathname:yt}=Dw(),G=JSON.stringify(FA(qe,ye.v7_relativeSplatPath)),H=Fn.useRef(!1);return Iw(()=>{H.current=!0}),Fn.useCallback(function(m,P){if(P===void 0&&(P={}),!H.current)return;if(typeof m=="number"){Ie.go(m);return}let s=NA(m,JSON.parse(G),yt,P.relative==="path");U==null&&q!=="/"&&(s.pathname=s.pathname==="/"?q:Eh([q,s.pathname])),(P.replace?Ie.replace:Ie.push)(s,P.state,P)},[q,Ie,G,yt,U])}function YA(U,q){return XA(U,q)}function XA(U,q,ye,Ie){W0()||Uo(!1);let{navigator:qe}=Fn.useContext(H0),{matches:yt}=Fn.useContext(Ov),G=yt[yt.length-1],H=G?G.params:{};G&&G.pathname;let e=G?G.pathnameBase:"/";G&&G.route;let m=Dw(),P;if(q){var s;let r=typeof q=="string"?zv(q):q;e==="/"||(s=r.pathname)!=null&&s.startsWith(e)||Uo(!1),P=r}else P=m;let L=P.pathname||"/",S=L;if(e!=="/"){let r=e.replace(/^\//,"").split("/");S="/"+L.replace(/^\//,"").split("/").slice(r.length).join("/")}let v=bA(U,{pathname:S}),p=$A(v&&v.map(r=>Object.assign({},r,{params:Object.assign({},H,r.params),pathname:Eh([e,qe.encodeLocation?qe.encodeLocation(r.pathname).pathname:r.pathname]),pathnameBase:r.pathnameBase==="/"?e:Eh([e,qe.encodeLocation?qe.encodeLocation(r.pathnameBase).pathname:r.pathnameBase])})),yt,ye,Ie);return q&&p?Fn.createElement(G0.Provider,{value:{location:Wd({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:Dc.Pop}},p):p}function ZA(){let U=rS(),q=HA(U)?U.status+" "+U.statusText:U instanceof Error?U.message:JSON.stringify(U),ye=U instanceof Error?U.stack:null,qe={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Fn.createElement(Fn.Fragment,null,Fn.createElement("h2",null,"Unexpected Application Error!"),Fn.createElement("h3",{style:{fontStyle:"italic"}},q),ye?Fn.createElement("pre",{style:qe},ye):null,null)}const KA=Fn.createElement(ZA,null);class JA extends Fn.Component{constructor(q){super(q),this.state={location:q.location,revalidation:q.revalidation,error:q.error}}static getDerivedStateFromError(q){return{error:q}}static getDerivedStateFromProps(q,ye){return ye.location!==q.location||ye.revalidation!=="idle"&&q.revalidation==="idle"?{error:q.error,location:q.location,revalidation:q.revalidation}:{error:q.error!==void 0?q.error:ye.error,location:ye.location,revalidation:q.revalidation||ye.revalidation}}componentDidCatch(q,ye){console.error("React Router caught the following error during render",q,ye)}render(){return this.state.error!==void 0?Fn.createElement(Ov.Provider,{value:this.props.routeContext},Fn.createElement(Rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QA(U){let{routeContext:q,match:ye,children:Ie}=U,qe=Fn.useContext(Um);return qe&&qe.static&&qe.staticContext&&(ye.route.errorElement||ye.route.ErrorBoundary)&&(qe.staticContext._deepestRenderedBoundaryId=ye.route.id),Fn.createElement(Ov.Provider,{value:q},Ie)}function $A(U,q,ye,Ie){var qe;if(q===void 0&&(q=[]),ye===void 0&&(ye=null),Ie===void 0&&(Ie=null),U==null){var yt;if((yt=ye)!=null&&yt.errors)U=ye.matches;else return null}let G=U,H=(qe=ye)==null?void 0:qe.errors;if(H!=null){let P=G.findIndex(s=>s.route.id&&(H==null?void 0:H[s.route.id])!==void 0);P>=0||Uo(!1),G=G.slice(0,Math.min(G.length,P+1))}let e=!1,m=-1;if(ye&&Ie&&Ie.v7_partialHydration)for(let P=0;P<G.length;P++){let s=G[P];if((s.route.HydrateFallback||s.route.hydrateFallbackElement)&&(m=P),s.route.id){let{loaderData:L,errors:S}=ye,v=s.route.loader&&L[s.route.id]===void 0&&(!S||S[s.route.id]===void 0);if(s.route.lazy||v){e=!0,m>=0?G=G.slice(0,m+1):G=[G[0]];break}}}return G.reduceRight((P,s,L)=>{let S,v=!1,p=null,r=null;ye&&(S=H&&s.route.id?H[s.route.id]:void 0,p=s.route.errorElement||KA,e&&(m<0&&L===0?(v=!0,r=null):m===L&&(v=!0,r=s.route.hydrateFallbackElement||null)));let t=q.concat(G.slice(0,L+1)),a=()=>{let n;return S?n=p:v?n=r:s.route.Component?n=Fn.createElement(s.route.Component,null):s.route.element?n=s.route.element:n=P,Fn.createElement(QA,{match:s,routeContext:{outlet:P,matches:t,isDataRoute:ye!=null},children:n})};return ye&&(s.route.ErrorBoundary||s.route.errorElement||L===0)?Fn.createElement(JA,{location:ye.location,revalidation:ye.revalidation,component:p,error:S,children:a(),routeContext:{outlet:null,matches:t,isDataRoute:!0}}):a()},null)}var zw=function(U){return U.UseBlocker="useBlocker",U.UseRevalidator="useRevalidator",U.UseNavigateStable="useNavigate",U}(zw||{}),A0=function(U){return U.UseBlocker="useBlocker",U.UseLoaderData="useLoaderData",U.UseActionData="useActionData",U.UseRouteError="useRouteError",U.UseNavigation="useNavigation",U.UseRouteLoaderData="useRouteLoaderData",U.UseMatches="useMatches",U.UseRevalidator="useRevalidator",U.UseNavigateStable="useNavigate",U.UseRouteId="useRouteId",U}(A0||{});function qA(U){let q=Fn.useContext(Um);return q||Uo(!1),q}function eS(U){let q=Fn.useContext(WA);return q||Uo(!1),q}function tS(U){let q=Fn.useContext(Ov);return q||Uo(!1),q}function Ow(U){let q=tS(),ye=q.matches[q.matches.length-1];return ye.route.id||Uo(!1),ye.route.id}function rS(){var U;let q=Fn.useContext(Rw),ye=eS(A0.UseRouteError),Ie=Ow(A0.UseRouteError);return q!==void 0?q:(U=ye.errors)==null?void 0:U[Ie]}function nS(){let{router:U}=qA(zw.UseNavigateStable),q=Ow(A0.UseNavigateStable),ye=Fn.useRef(!1);return Iw(()=>{ye.current=!0}),Fn.useCallback(function(qe,yt){yt===void 0&&(yt={}),ye.current&&(typeof qe=="number"?U.navigate(qe):U.navigate(qe,Wd({fromRouteId:q},yt)))},[U,q])}function Wy(U){Uo(!1)}function aS(U){let{basename:q="/",children:ye=null,location:Ie,navigationType:qe=Dc.Pop,navigator:yt,static:G=!1,future:H}=U;W0()&&Uo(!1);let e=q.replace(/^\/*/,"/"),m=Fn.useMemo(()=>({basename:e,navigator:yt,static:G,future:Wd({v7_relativeSplatPath:!1},H)}),[e,H,yt,G]);typeof Ie=="string"&&(Ie=zv(Ie));let{pathname:P="/",search:s="",hash:L="",state:S=null,key:v="default"}=Ie,p=Fn.useMemo(()=>{let r=Pw(P,e);return r==null?null:{location:{pathname:r,search:s,hash:L,state:S,key:v},navigationType:qe}},[e,P,s,L,S,v,qe]);return p==null?null:Fn.createElement(H0.Provider,{value:m},Fn.createElement(G0.Provider,{children:ye,value:p}))}function iS(U){let{children:q,location:ye}=U;return YA(jy(q),ye)}new Promise(()=>{});function jy(U,q){q===void 0&&(q=[]);let ye=[];return Fn.Children.forEach(U,(Ie,qe)=>{if(!Fn.isValidElement(Ie))return;let yt=[...q,qe];if(Ie.type===Fn.Fragment){ye.push.apply(ye,jy(Ie.props.children,yt));return}Ie.type!==Wy&&Uo(!1),!Ie.props.index||!Ie.props.children||Uo(!1);let G={id:Ie.props.id||yt.join("-"),caseSensitive:Ie.props.caseSensitive,element:Ie.props.element,Component:Ie.props.Component,index:Ie.props.index,path:Ie.props.path,loader:Ie.props.loader,action:Ie.props.action,errorElement:Ie.props.errorElement,ErrorBoundary:Ie.props.ErrorBoundary,hasErrorBoundary:Ie.props.ErrorBoundary!=null||Ie.props.errorElement!=null,shouldRevalidate:Ie.props.shouldRevalidate,handle:Ie.props.handle,lazy:Ie.props.lazy};Ie.props.children&&(G.children=jy(Ie.props.children,yt)),ye.push(G)}),ye}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oS="6";try{window.__reactRouterVersion=oS}catch{}const sS="startTransition",lb=i5[sS];function lS(U){let{basename:q,children:ye,future:Ie,window:qe}=U,yt=Fn.useRef();yt.current==null&&(yt.current=yA({window:qe,v5Compat:!0}));let G=yt.current,[H,e]=Fn.useState({action:G.action,location:G.location}),{v7_startTransition:m}=Ie||{},P=Fn.useCallback(s=>{m&&lb?lb(()=>e(s)):e(s)},[e,m]);return Fn.useLayoutEffect(()=>G.listen(P),[G,P]),Fn.createElement(aS,{basename:q,children:ye,location:H.location,navigationType:H.action,navigator:G,future:Ie})}var ub;(function(U){U.UseScrollRestoration="useScrollRestoration",U.UseSubmit="useSubmit",U.UseSubmitFetcher="useSubmitFetcher",U.UseFetcher="useFetcher",U.useViewTransitionState="useViewTransitionState"})(ub||(ub={}));var fb;(function(U){U.UseFetcher="useFetcher",U.UseFetchers="useFetchers",U.UseScrollRestoration="useScrollRestoration"})(fb||(fb={}));const uS="_home_container_17mo5_1",fS="_home_17mo5_1",cS="_home_table_navbar_17mo5_20",hS="_home_table_navbar_item_17mo5_27",vS="_search_div_17mo5_37",dS="_home_table_search_17mo5_47",pS="_clear_button_17mo5_66",gS="_home_table_and_chart_17mo5_78",yS="_home_table_17mo5_20",mS="_table_container_17mo5_98",xS="_table_symbol_17mo5_125",bS="_positive_17mo5_132",wS="_negative_17mo5_135",TS="_table_range_17mo5_138",AS="_table_range_length_17mo5_146",SS="_table_range_fill_17mo5_152",MS="_table_range_label_17mo5_157",ES="_slideIn_17mo5_185",CS="_slideOut_17mo5_188",LS="_home_chart_17mo5_192",PS="_home_chart_price_17mo5_206",_S="_home_chart_volatility_17mo5_206",RS="_home_chart_add_to_bucket_17mo5_218",DS="_home_chart_add_to_bucket_form_17mo5_226",IS="_form_input_17mo5_244",kS="_controller_buttons_17mo5_254",zS="_controller_buttons_buttons_17mo5_263",OS="_selected_17mo5_277",FS="_popup_container_17mo5_283",NS="_popup_17mo5_283",BS="_closeButton_17mo5_308",US="_bucket_table_17mo5_319",VS="_deleteIcon_17mo5_328",HS="_settings_options_17mo5_332",GS="_popup_header_17mo5_340",WS="_popup_proceed_17mo5_343",jS="_settings_cancel_17mo5_356",YS="_settings_buttons_17mo5_369",XS="_analysis_options_17mo5_374",ZS="_analysis_options_input_17mo5_387",KS="_loading_17mo5_394",JS="_loading_page_17mo5_409",QS="_loading_container_17mo5_421",$S="_loading_container_table_17mo5_430",qS="_barloader_17mo5_439",Sa={home_container:uS,home:fS,home_table_navbar:cS,home_table_navbar_item:hS,search_div:vS,home_table_search:dS,clear_button:pS,home_table_and_chart:gS,home_table:yS,table_container:mS,table_symbol:xS,positive:bS,negative:wS,table_range:TS,table_range_length:AS,table_range_fill:SS,table_range_label:MS,slideIn:ES,slideOut:CS,home_chart:LS,home_chart_price:PS,home_chart_volatility:_S,home_chart_add_to_bucket:RS,home_chart_add_to_bucket_form:DS,form_input:IS,controller_buttons:kS,controller_buttons_buttons:zS,selected:OS,popup_container:FS,popup:NS,closeButton:BS,bucket_table:US,deleteIcon:VS,settings_options:HS,popup_header:GS,popup_proceed:WS,settings_cancel:jS,settings_buttons:YS,analysis_options:XS,analysis_options_input:ZS,loading:KS,loading_page:JS,loading_container:QS,loading_container_table:$S,barloader:qS};var Fw={},Nw={},Bw={exports:{}},eM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tM=eM,rM=tM;function Uw(){}function Vw(){}Vw.resetWarningCache=Uw;var nM=function(){function U(Ie,qe,yt,G,H,e){if(e!==rM){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}U.isRequired=U;function q(){return U}var ye={array:U,bigint:U,bool:U,func:U,number:U,object:U,string:U,symbol:U,any:U,arrayOf:q,element:U,elementType:U,instanceOf:q,node:U,objectOf:q,oneOf:q,oneOfType:q,shape:q,exact:q,checkPropTypes:Vw,resetWarningCache:Uw};return ye.PropTypes=ye,ye};Bw.exports=nM();var aM=Bw.exports;(function(U){function q(u){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},q(u)}Object.defineProperty(U,"__esModule",{value:!0}),U.default=f;var ye=G(Fn),Ie=qe(aM);function qe(u){return u&&u.__esModule?u:{default:u}}function yt(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,g=new WeakMap;return(yt=function(T){return T?g:l})(u)}function G(u,l){if(u&&u.__esModule)return u;if(u===null||q(u)!=="object"&&typeof u!="function")return{default:u};var g=yt(l);if(g&&g.has(u))return g.get(u);var h={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in u)if(c!=="default"&&Object.prototype.hasOwnProperty.call(u,c)){var i=T?Object.getOwnPropertyDescriptor(u,c):null;i&&(i.get||i.set)?Object.defineProperty(h,c,i):h[c]=u[c]}return h.default=u,g&&g.set(u,h),h}function H(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var g=0;g<l.length;g++){var h=l[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function m(u,l,g){return l&&e(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function P(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&s(u,l)}function s(u,l){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,T){return h.__proto__=T,h},s(u,l)}function L(u){var l=p();return function(){var h=r(u),T;if(l){var c=r(this).constructor;T=Reflect.construct(h,arguments,c)}else T=h.apply(this,arguments);return S(this,T)}}function S(u,l){if(l&&(q(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],a=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function f(u){var l=function(g){P(T,g);var h=L(T);function T(c){var i;return H(this,T),i=h.call(this,c),i.p=Promise.resolve(),i.resizeHandler=null,i.handlers={},i.syncWindowResize=i.syncWindowResize.bind(v(i)),i.syncEventHandlers=i.syncEventHandlers.bind(v(i)),i.attachUpdateEvents=i.attachUpdateEvents.bind(v(i)),i.getRef=i.getRef.bind(v(i)),i.handleUpdate=i.handleUpdate.bind(v(i)),i.figureCallback=i.figureCallback.bind(v(i)),i.updatePlotly=i.updatePlotly.bind(v(i)),i}return m(T,[{key:"updatePlotly",value:function(i,d,b){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return u.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(i),w.syncEventHandlers(),w.figureCallback(d),b&&w.attachUpdateEvents())}).catch(function(C){w.props.onError&&w.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(i){this.unmounting=!1;var d=i.frames&&i.frames.length?i.frames.length:0,b=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(i.layout===this.props.layout&&i.data===this.props.data&&i.config===this.props.config&&b===d),C=i.revision!==void 0,y=i.revision!==this.props.revision;!w&&(!C||C&&!y)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||a.forEach(function(d){i.el.on(d,i.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||a.forEach(function(d){i.el.removeListener(d,i.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(i){if(typeof i=="function"){var d=this.el,b=d.data,w=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,y={data:b,layout:w,frames:C};i(y,this.el)}}},{key:"syncWindowResize",value:function(i){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),i&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(i){this.el=i,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var i=this;t.forEach(function(d){var b=i.props["on"+d],w=i.handlers[d],C=!!w;b&&!C?i.addEventHandler(d,b):!b&&C?i.removeEventHandler(d):b&&C&&b!==w&&(i.removeEventHandler(d),i.addEventHandler(d,b))})}},{key:"addEventHandler",value:function(i,d){this.handlers[i]=d,this.el.on(this.getPlotlyEventName(i),this.handlers[i])}},{key:"removeEventHandler",value:function(i){this.el.removeListener(this.getPlotlyEventName(i),this.handlers[i]),delete this.handlers[i]}},{key:"getPlotlyEventName",value:function(i){return"plotly_"+i.toLowerCase()}},{key:"render",value:function(){return ye.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(ye.Component);return l.propTypes={data:Ie.default.arrayOf(Ie.default.object),config:Ie.default.object,layout:Ie.default.object,frames:Ie.default.arrayOf(Ie.default.object),revision:Ie.default.number,onInitialized:Ie.default.func,onPurge:Ie.default.func,onError:Ie.default.func,onUpdate:Ie.default.func,debug:Ie.default.bool,style:Ie.default.object,className:Ie.default.string,useResizeHandler:Ie.default.bool,divId:Ie.default.string},t.forEach(function(g){l.propTypes["on"+g]=Ie.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(Nw);var Hw={exports:{}};(function(U,q){(function(Ie,qe){U.exports=qe()})(self,function(){return function(){var ye={79288:function(G,H,e){var m=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in P){var L=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");m.addStyleRule(L,P[s])}},86712:function(G,H,e){G.exports=e(84224)},37240:function(G,H,e){G.exports=e(51132)},29744:function(G,H,e){G.exports=e(94456)},29352:function(G,H,e){G.exports=e(67244)},96144:function(G,H,e){G.exports=e(97776)},53219:function(G,H,e){G.exports=e(61712)},4624:function(G,H,e){G.exports=e(95856)},54543:function(G,H,e){G.exports=e(54272)},45e3:function(G,H,e){G.exports=e(85404)},62300:function(G,H,e){G.exports=e(26048)},6920:function(G,H,e){G.exports=e(66240)},10264:function(G,H,e){G.exports=e(40448)},32016:function(G,H,e){G.exports=e(64884)},27528:function(G,H,e){G.exports=e(15088)},75556:function(G,H,e){G.exports=e(76744)},39204:function(G,H,e){G.exports=e(94704)},73996:function(G,H,e){G.exports=e(62396)},16489:function(G,H,e){G.exports=e(32028)},5e3:function(G,H,e){G.exports=e(81932)},77280:function(G,H,e){G.exports=e(45536)},33992:function(G,H,e){G.exports=e(42600)},17600:function(G,H,e){G.exports=e(21536)},49116:function(G,H,e){G.exports=e(65664)},46808:function(G,H,e){G.exports=e(29044)},36168:function(G,H,e){G.exports=e(48928)},13792:function(G,H,e){var m=e(32016);m.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),G.exports=m},3920:function(G,H,e){G.exports=e(43480)},25120:function(G,H,e){G.exports=e(6296)},4340:function(G,H,e){G.exports=e(7404)},86152:function(G,H,e){G.exports=e(65456)},56816:function(G,H,e){G.exports=e(22020)},89296:function(G,H,e){G.exports=e(29928)},20260:function(G,H,e){G.exports=e(75792)},32140:function(G,H,e){G.exports=e(156)},84764:function(G,H,e){G.exports=e(45499)},48824:function(G,H,e){G.exports=e(3296)},69967:function(G,H,e){G.exports=e(4184)},8363:function(G,H,e){G.exports=e(36952)},86636:function(G,H,e){G.exports=e(38983)},70192:function(G,H,e){G.exports=e(11572)},81604:function(G,H,e){G.exports=e(76924)},63796:function(G,H,e){G.exports=e(62944)},89336:function(G,H,e){G.exports=e(95443)},67484:function(G,H,e){G.exports=e(34864)},97312:function(G,H,e){G.exports=e(76272)},42192:function(G,H,e){G.exports=e(97924)},29800:function(G,H,e){G.exports=e(15436)},63560:function(G,H,e){G.exports=e(5621)},89904:function(G,H,e){G.exports=e(91304)},50248:function(G,H,e){G.exports=e(41724)},65832:function(G,H,e){G.exports=e(31991)},79440:function(G,H,e){G.exports=e(22869)},13752:function(G,H,e){G.exports=e(67776)},83096:function(G,H,e){G.exports=e(95952)},72196:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(G,H,e){var m=e(72196),P=e(25376),s=e(33816),L=e(31780).templatedArray;e(36208),G.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(G,H,e){var m=e(3400),P=e(54460),s=e(23816).draw;G.exports=function(p){var r=p._fullLayout,t=m.filterVisible(r.annotations);if(t.length&&p._fullData.length)return m.syncOrAsync([s,L],p)};function L(v){var p=v._fullLayout;m.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),a=P.getFromId(v,r.yref),n=P.getRefType(r.xref),f=P.getRefType(r.yref);r._extremes={},n==="range"&&S(r,t),f==="range"&&S(r,a)})}function S(v,p){var r=p._id,t=r.charAt(0),a=v[t],n=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],g=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,c=T+h,i=T-h,d=3*v.startarrowsize*v.arrowwidth||0,b=d+h,w=d-h,C;if(u===f){var y=P.findExtremes(p,[p.r2c(a)],{ppadplus:c,ppadminus:i}),E=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,b),ppadminus:Math.max(g,w)});C={min:[y.min[0],E.min[0]],max:[y.max[0],E.max[0]]}}else b=n?b+n:b,w=n?w-n:w,C=P.findExtremes(p,[p.r2c(a)],{ppadplus:Math.max(l,c,b),ppadminus:Math.max(g,i,w)});v._extremes[r]=C}},42300:function(G,H,e){var m=e(3400),P=e(24040),s=e(31780).arrayEditor;G.exports={hasClickToShow:L,onClick:S};function L(r,t){var a=v(r,t);return a.on.length>0||a.explicitOff.length>0}function S(r,t){var a=v(r,t),n=a.on,f=a.off.concat(a.explicitOff),u={},l=r._fullLayout.annotations,g,h;if(n.length||f.length){for(g=0;g<n.length;g++)h=s(r.layout,"annotations",l[n[g]]),h.modifyItem("visible",!0),m.extendFlat(u,h.getUpdateObj());for(g=0;g<f.length;g++)h=s(r.layout,"annotations",l[f[g]]),h.modifyItem("visible",!1),m.extendFlat(u,h.getUpdateObj());return P.call("update",r,{},u)}}function v(r,t){var a=r._fullLayout.annotations,n=[],f=[],u=[],l=(t||[]).length,g,h,T,c,i,d,b,w;for(g=0;g<a.length;g++)if(T=a[g],c=T.clicktoshow,c){for(h=0;h<l;h++)if(i=t[h],d=i.xaxis,b=i.yaxis,d._id===T.xref&&b._id===T.yref&&d.d2r(i.x)===p(T._xclick,d)&&b.d2r(i.y)===p(T._yclick,b)){T.visible?c==="onout"?w=f:w=u:w=n,w.push(g);break}h===l&&T.visible&&c==="onout"&&f.push(g)}return{on:n,off:f,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(G,H,e){var m=e(3400),P=e(76308);G.exports=function(L,S,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),a=P.opacity(t);p("borderpad");var n=p("borderwidth"),f=p("showarrow");p("text",f?" ":v._dfltTitle.annotation),p("textangle"),m.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),f){var l=p("arrowside"),g,h;l.indexOf("end")!==-1&&(g=p("arrowhead"),h=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",g),p("startarrowsize",h)),p("arrowcolor",a?S.bordercolor:P.defaultLine),p("arrowwidth",(a&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),c=v.hoverlabel||{};if(T){var i=p("hoverlabel.bgcolor",c.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||P.contrast(i)),b=m.extendFlat({},c.font);b.color||(b.color=d),m.coerceFont(p,"hoverlabel.font",b)}p("captureevents",!!T)}},26828:function(G,H,e){var m=e(38248),P=e(36896);G.exports=function(L,S,v,p){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(!(r||t))return;var a=L._fullLayout.annotations,n=S._id.charAt(0),f,u;function l(h){var T=f[h],c=null;r?c=P(T,S.range):c=Math.pow(10,T),m(c)||(c=null),p(u+h,c)}for(var g=0;g<a.length;g++)f=a[g],u="annotations["+g+"].",f[n+"ref"]===S._id&&l(n),f["a"+n+"ref"]===S._id&&l("a"+n)}},45216:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(87192),S=e(13916);G.exports=function(r,t){s(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function a(A,o){return m.coerce(p,r,S,A,o)}var n=a("visible"),f=a("clicktoshow");if(n||f){L(p,r,t,a);for(var u=r.showarrow,l=["x","y"],g=[-10,-30],h={_fullLayout:t},T=0;T<2;T++){var c=l[T],i=P.coerceRef(p,r,h,c,"","paper");if(i!=="paper"){var d=P.getFromId(h,i);d._annIndices.push(r._index)}if(P.coercePosition(r,h,a,i,c,.5),u){var b="a"+c,w=P.coerceRef(p,r,h,b,"pixel",["pixel","paper"]);w!=="pixel"&&w!==i&&(w=r[b]="pixel");var C=w==="pixel"?g[T]:.4;P.coercePosition(r,h,a,w,b,C)}a(c+"anchor"),a(c+"shift")}if(m.noneOrAll(p,r,["x","y"]),u&&m.noneOrAll(p,r,["ax","ay"]),f){var y=a("xclick"),E=a("yclick");r._xclick=y===void 0?r.x:P.cleanPosition(y,h,r.xref),r._yclick=E===void 0?r.y:P.cleanPosition(E,h,r.yref)}}}},23816:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(3400),S=L.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),a=e(72736),n=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);G.exports={draw:g,drawOne:h,drawRaw:c};function g(i){var d=i._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var b=0;b<d.annotations.length;b++)d.annotations[b].visible&&h(i,b);return s.previousPromises(i)}function h(i,d){var b=i._fullLayout,w=b.annotations[d]||{},C=v.getFromId(i,w.xref),y=v.getFromId(i,w.yref);C&&C.setScale(),y&&y.setScale(),c(i,w,d,!1,C,y)}function T(i,d,b,w,C){var y=C[b],E=C[b+"ref"],A=b.indexOf("y")!==-1,o=v.getRefType(E)==="domain",M=A?w.h:w.w;return i?o?y+(A?-d:d)/i._length:i.p2r(i.r2p(y)+d):y+(A?-d:d)/M}function c(i,d,b,w,C,y){var E=i._fullLayout,A=i._fullLayout._size,o=i._context.edits,M,x;w?(M="annotation-"+w,x=w+".annotations"):(M="annotation",x="annotations");var I=u(i.layout,x,d),D=I.modifyBase,N=I.modifyItem,k=I.getUpdateObj;E._infolayer.selectAll("."+M+'[data-index="'+b+'"]').remove();var O="clip"+E._uid+"_ann"+b;if(!d._input||d.visible===!1){m.selectAll("#"+O).remove();return}var F={x:{},y:{}},z=+d.textangle||0,B=E._infolayer.append("g").classed(M,!0).attr("data-index",String(b)).style("opacity",d.opacity),W=B.append("g").classed("annotation-text-g",!0),J=o[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||o.annotationText||J;function ne(ge){var be={index:b,annotation:d._input,fullAnnotation:d,event:ge};return w&&(be.subplotId=w),be}var le=W.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",ne(m.event))});d.hovertext&&le.on("mouseover",function(){var ge=d.hoverlabel,be=ge.font,xe=this.getBoundingClientRect(),_e=i.getBoundingClientRect();t.loneHover({x0:xe.left-_e.left,x1:xe.right-_e.left,y:(xe.top+xe.bottom)/2-_e.top,text:d.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:be.family,fontSize:be.size,fontColor:be.color,fontWeight:be.weight,fontStyle:be.style,fontVariant:be.variant,fontShadow:be.fontShadow,fontLineposition:be.fontLineposition,fontTextcase:be.fontTextcase},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:i})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var $=d.borderwidth,Z=d.borderpad,ie=$+Z,X=le.append("rect").attr("class","bg").style("stroke-width",$+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),Q=d.width||d.height,oe=E._topclips.selectAll("#"+O).data(Q?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),oe.exit().remove();var j=d.font,Y=E._meta?L.templateString(d.text,E._meta):d.text,se=le.append("text").classed("annotation-text",!0).text(Y);function te(ge){return ge.call(r.font,j).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),a.convertToTspans(ge,i,fe),ge}function fe(){var ge=se.selectAll("a");if(ge.size()===1&&ge.text()===se.text()){var be=le.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"});be.node().appendChild(X.node())}var xe=le.select(".annotation-text-math-group"),_e=!xe.empty(),De=r.bBox((_e?xe:se).node()),Fe=De.width,Te=De.height,Re=d.width||Fe,Se=d.height||Te,ke=Math.round(Re+2*ie),Me=Math.round(Se+2*ie);function Ve(yr,ur){return ur==="auto"&&(yr<.3333333333333333?ur="left":yr>.6666666666666666?ur="right":ur="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ur]}for(var tt=!1,it=["x","y"],Je=0;Je<it.length;Je++){var Qe=it[Je],ct=d[Qe+"ref"]||Qe,ht=d["a"+Qe+"ref"],dt={x:C,y}[Qe],Tt=(z+(Qe==="x"?0:-90))*Math.PI/180,Et=ke*Math.cos(Tt),rt=Me*Math.sin(Tt),ze=Math.abs(Et)+Math.abs(rt),Ge=d[Qe+"anchor"],je=d[Qe+"shift"]*(Qe==="x"?1:-1),We=F[Qe],Le,Pe,Ye,Ce,he,me=v.getRefType(ct);if(dt&&me!=="domain"){var Ne=dt.r2fraction(d[Qe]);(Ne<0||Ne>1)&&(ht===ct?(Ne=dt.r2fraction(d["a"+Qe]),(Ne<0||Ne>1)&&(tt=!0)):tt=!0),Le=dt._offset+dt.r2p(d[Qe]),Ce=.5}else{var $e=me==="domain";Qe==="x"?(Ye=d[Qe],Le=$e?dt._offset+dt._length*Ye:Le=A.l+A.w*Ye):(Ye=1-d[Qe],Le=$e?dt._offset+dt._length*Ye:Le=A.t+A.h*Ye),Ce=d.showarrow?.5:Ye}if(d.showarrow){We.head=Le;var ot=d["a"+Qe];if(he=Et*Ve(.5,d.xanchor)-rt*Ve(.5,d.yanchor),ht===ct){var st=v.getRefType(ht);st==="domain"?(Qe==="y"&&(ot=1-ot),We.tail=dt._offset+dt._length*ot):st==="paper"?Qe==="y"?(ot=1-ot,We.tail=A.t+A.h*ot):We.tail=A.l+A.w*ot:We.tail=dt._offset+dt.r2p(ot),Pe=he}else We.tail=Le+ot,Pe=he+ot;We.text=We.tail+he;var Wt=E[Qe==="x"?"width":"height"];if(ct==="paper"&&(We.head=L.constrain(We.head,1,Wt-1)),ht==="pixel"){var Zt=-Math.max(We.tail-3,We.text),At=Math.min(We.tail+3,We.text)-Wt;Zt>0?(We.tail+=Zt,We.text+=Zt):At>0&&(We.tail-=At,We.text-=At)}We.tail+=je,We.head+=je}else he=ze*Ve(Ce,Ge),Pe=he,We.text=Le+he;We.text+=je,he+=je,Pe+=je,d["_"+Qe+"padplus"]=ze/2+Pe,d["_"+Qe+"padminus"]=ze/2-Pe,d["_"+Qe+"size"]=ze,d["_"+Qe+"shift"]=he}if(tt){le.remove();return}var Rt=0,Xt=0;if(d.align!=="left"&&(Rt=(Re-Fe)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Xt=(Se-Te)*(d.valign==="middle"?.5:1)),_e)xe.select("svg").attr({x:ie+Rt-1,y:ie+Xt}).call(r.setClipUrl,Q?O:null,i);else{var ir=ie+Xt-De.top,pt=ie+Rt-De.left;se.call(a.positionText,pt,ir).call(r.setClipUrl,Q?O:null,i)}oe.select("rect").call(r.setRect,ie,ie,Re,Se),X.call(r.setRect,$/2,$/2,ke-$,Me-$),le.call(r.setTranslate,Math.round(F.x.text-ke/2),Math.round(F.y.text-Me/2)),W.attr({transform:"rotate("+z+","+F.x.text+","+F.y.text+")"});var Kt=function(yr,ur){B.selectAll(".annotation-arrow-g").remove();var mt=F.x.head,lt=F.y.head,bt=F.x.tail+yr,Ct=F.y.tail+ur,Dt=F.x.text+yr,Ht=F.y.text+ur,Bt=L.rotationXYMatrix(z,Dt,Ht),xt=L.apply2DTransform(Bt),Ut=L.apply2DTransform2(Bt),qt=+X.attr("width"),or=+X.attr("height"),rr=Dt-.5*qt,He=rr+qt,Ue=Ht-.5*or,Ot=Ue+or,It=[[rr,Ue,rr,Ot],[rr,Ot,He,Ot],[He,Ot,He,Ue],[He,Ue,rr,Ue]].map(Ut);if(!It.reduce(function(Dr,an){return Dr^!!L.segmentsIntersect(mt,lt,mt+1e6,lt+1e6,an[0],an[1],an[2],an[3])},!1)){It.forEach(function(Dr){var an=L.segmentsIntersect(bt,Ct,mt,lt,Dr[0],Dr[1],Dr[2],Dr[3]);an&&(bt=an.x,Ct=an.y)});var Jt=d.arrowwidth,cr=d.arrowcolor,vr=d.arrowside,tr=B.append("g").style({opacity:p.opacity(cr)}).classed("annotation-arrow-g",!0),Nt=tr.append("path").attr("d","M"+bt+","+Ct+"L"+mt+","+lt).style("stroke-width",Jt+"px").call(p.stroke,p.rgb(cr));if(l(Nt,vr,d),o.annotationPosition&&Nt.node().parentNode&&!w){var sr=mt,dr=lt;if(d.standoff){var xr=Math.sqrt(Math.pow(mt-bt,2)+Math.pow(lt-Ct,2));sr+=d.standoff*(bt-mt)/xr,dr+=d.standoff*(Ct-lt)/xr}var pr=tr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-sr)+","+(Ct-dr),transform:S(sr,dr)}).style("stroke-width",Jt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Hr,_r;f.init({element:pr.node(),gd:i,prepFn:function(){var Dr=r.getTranslate(le);Hr=Dr.x,_r=Dr.y,C&&C.autorange&&D(C._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0)},moveFn:function(Dr,an){var tn=xt(Hr,_r),Sn=tn[0]+Dr,Tn=tn[1]+an;le.call(r.setTranslate,Sn,Tn),N("x",T(C,Dr,"x",A,d)),N("y",T(y,an,"y",A,d)),d.axref===d.xref&&N("ax",T(C,Dr,"ax",A,d)),d.ayref===d.yref&&N("ay",T(y,an,"ay",A,d)),tr.attr("transform",S(Dr,an)),W.attr({transform:"rotate("+z+","+Sn+","+Tn+")"})},doneFn:function(){P.call("_guiRelayout",i,k());var Dr=document.querySelector(".js-notes-box-panel");Dr&&Dr.redraw(Dr.selectedObj)}})}}};if(d.showarrow&&Kt(0,0),J){var Qt;f.init({element:le.node(),gd:i,prepFn:function(){Qt=W.attr("transform")},moveFn:function(yr,ur){var mt="pointer";if(d.showarrow)d.axref===d.xref?N("ax",T(C,yr,"ax",A,d)):N("ax",d.ax+yr),d.ayref===d.yref?N("ay",T(y,ur,"ay",A.w,d)):N("ay",d.ay+ur),Kt(yr,ur);else{if(w)return;var lt,bt;if(C)lt=T(C,yr,"x",A,d);else{var Ct=d._xsize/A.w,Dt=d.x+(d._xshift-d.xshift)/A.w-Ct/2;lt=f.align(Dt+yr/A.w,Ct,0,1,d.xanchor)}if(y)bt=T(y,ur,"y",A,d);else{var Ht=d._ysize/A.h,Bt=d.y-(d._yshift+d.yshift)/A.h-Ht/2;bt=f.align(Bt-ur/A.h,Ht,0,1,d.yanchor)}N("x",lt),N("y",bt),(!C||!y)&&(mt=f.getCursor(C?.5:lt,y?.5:bt,d.xanchor,d.yanchor))}W.attr({transform:S(yr,ur)+Qt}),n(le,mt)},clickFn:function(yr,ur){d.captureevents&&i.emit("plotly_clickannotation",ne(ur))},doneFn:function(){n(le),P.call("_guiRelayout",i,k());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}o.annotationText?se.call(a.makeEditable,{delegate:le,gd:i}).call(te).on("edit",function(ge){d.text=ge,this.call(te),N("text",ge),C&&C.autorange&&D(C._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0),P.call("_guiRelayout",i,k())}):se.call(te)}},33652:function(G,H,e){var m=e(33428),P=e(76308),s=e(72196),L=e(3400),S=L.strScale,v=L.strRotate,p=L.strTranslate;G.exports=function(t,a,n){var f=t.node(),u=s[n.arrowhead||0],l=s[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),T=a.indexOf("start")>=0,c=a.indexOf("end")>=0,i=u.backoff*g+n.standoff,d=l.backoff*h+n.startstandoff,b,w,C,y;if(f.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var E=b.x-w.x,A=b.y-w.y;if(C=Math.atan2(A,E),y=C+Math.PI,i&&d&&i+d>Math.sqrt(E*E+A*A)){W();return}if(i){if(i*i>E*E+A*A){W();return}var o=i*Math.cos(C),M=i*Math.sin(C);w.x+=o,w.y+=M,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>E*E+A*A){W();return}var x=d*Math.cos(C),I=d*Math.sin(C);b.x-=x,b.y-=I,t.attr({x1:b.x,y1:b.y})}}else if(f.nodeName==="path"){var D=f.getTotalLength(),N="";if(D<i+d){W();return}var k=f.getPointAtLength(0),O=f.getPointAtLength(.1);C=Math.atan2(k.y-O.y,k.x-O.x),b=f.getPointAtLength(Math.min(d,D)),N="0px,"+d+"px,";var F=f.getPointAtLength(D),z=f.getPointAtLength(D-.1);y=Math.atan2(F.y-z.y,F.x-z.x),w=f.getPointAtLength(Math.max(0,D-i));var B=N?d+i:i;N+=D-B+"px,"+D+"px",t.style("stroke-dasharray",N)}function W(){t.style("stroke-dasharray","0px,100px")}function J(re,ne,le,$){re.path&&(re.noRotate&&(le=0),m.select(f.parentNode).append("path").attr({class:t.attr("class"),d:re.path,transform:p(ne.x,ne.y)+v(le*180/Math.PI)+S($)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}T&&J(l,b,C,h),c&&J(u,w,y,g)}},79180:function(G,H,e){var m=e(23816),P=e(42300);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:m.draw,drawOne:m.drawOne,drawRaw:m.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(G,H,e){var m=e(13916),P=e(67824).overrideAll,s=e(31780).templatedArray;G.exports=P(s("annotation",{visible:m.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:m.xanchor,xshift:m.xshift,yanchor:m.yanchor,yshift:m.yshift,text:m.text,textangle:m.textangle,font:m.font,width:m.width,height:m.height,opacity:m.opacity,align:m.align,valign:m.valign,bgcolor:m.bgcolor,bordercolor:m.bordercolor,borderpad:m.borderpad,borderwidth:m.borderwidth,showarrow:m.showarrow,arrowcolor:m.arrowcolor,arrowhead:m.arrowhead,startarrowhead:m.startarrowhead,arrowside:m.arrowside,arrowsize:m.arrowsize,startarrowsize:m.startarrowsize,arrowwidth:m.arrowwidth,standoff:m.standoff,startstandoff:m.startstandoff,hovertext:m.hovertext,hoverlabel:m.hoverlabel,captureevents:m.captureevents}),"calc","from-root")},42456:function(G,H,e){var m=e(3400),P=e(54460);G.exports=function(S){for(var v=S.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)s(p[r],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()};function s(L,S){var v=S.fullSceneLayout,p=v.domain,r=S.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},m.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+p.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(p.x[1]-p.x[0])},L._ya={},m.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-p.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(87192),S=e(45899);G.exports=function(r,t,a){s(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:a.fullLayout})};function v(p,r,t,a){function n(l,g){return m.coerce(p,r,S,l,g)}function f(l){var g=l+"axis",h={_fullLayout:{}};return h._fullLayout[g]=t[g],P.coercePosition(r,h,n,l,l,.5)}var u=n("visible");u&&(L(p,r,a.fullLayout,n),f("x"),f("y"),f("z"),m.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),m.noneOrAll(p,r,["ax","ay"])))}},71836:function(G,H,e){var m=e(23816).drawRaw,P=e(94424),s=["x","y","z"];G.exports=function(S){for(var v=S.fullSceneLayout,p=S.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var a=r[t],n=!1,f=0;f<3;f++){var u=s[f],l=a[u],g=v[u+"axis"],h=g.r2fraction(l);if(h<0||h>1){n=!0;break}}n?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+t+'"]').remove():(a._pdata=P(S.glplot.cameraParams,[v.xaxis.r2l(a.x)*p[0],v.yaxis.r2l(a.y)*p[1],v.zaxis.r2l(a.z)*p[2]]),m(S.graphDiv,a,t,S.id,a._xa,a._ya))}}},56864:function(G,H,e){var m=e(24040),P=e(3400);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:s,convert:e(42456),draw:e(71836)};function s(L,S){var v=m.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var a=r[t];p.test(a)&&(L[a].annotations||[]).length&&(P.pushUnique(S._basePlotModules,v),P.pushUnique(S._subplots.gl3d,a))}}},54976:function(G,H,e){G.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(G,H,e){var m=e(54976),P=e(3400),s=e(39032),L=s.EPOCHJD,S=s.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(m.calendars),editType:"calc",dflt:"gregorian"},p=function(C,y,E,A){var o={};return o[E]=v,P.coerce(C,y,o,E,A)},r=function(C,y,E,A){for(var o=0;o<E.length;o++)p(C,y,E[o]+"calendar",A.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},a={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,y,E){for(var A=Math.floor((y+.05)/S)+L,o=h(E).fromJD(A),M=0,x,I,D,N,k;(M=C.indexOf("%",M))!==-1;)x=C.charAt(M+1),x==="0"||x==="-"||x==="_"?(D=3,I=C.charAt(M+2),x==="_"&&(x="-")):(I=x,x="0",D=2),N=u[I],N?(N===f?k=f:k=o.formatDate(N[x]),C=C.substr(0,M)+k+C.substr(M+D),M+=k.length):M+=D;return C}var g={};function h(C){var y=g[C];return y||(y=g[C]=m.instance(C),y)}function T(C){return P.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var i={xcalendar:T(c("x"))},d=P.extendFlat({},i,{ycalendar:T(c("y"))}),b=P.extendFlat({},d,{zcalendar:T(c("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:b,surface:b,mesh3d:b,scattergl:d,ohlc:i,candlestick:i},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:a,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(G,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},76308:function(G,H,e){var m=e(49760),P=e(38248),s=e(38116).isTypedArray,L=G.exports={},S=e(22548);L.defaults=S.defaults;var v=L.defaultLine=S.defaultLine;L.lightLine=S.lightLine;var p=L.background=S.background;L.tinyRGB=function(t){var a=t.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},L.rgb=function(t){return L.tinyRGB(m(t))},L.opacity=function(t){return t?m(t).getAlpha():0},L.addOpacity=function(t,a){var n=m(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+a+")"},L.combine=function(t,a){var n=m(t).toRgb();if(n.a===1)return m(t).toRgbString();var f=m(a||p).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return m(l).toRgbString()},L.interpolate=function(t,a,n){var f=m(t).toRgb(),u=m(a).toRgb(),l={r:n*f.r+(1-n)*u.r,g:n*f.g+(1-n)*u.g,b:n*f.b+(1-n)*u.b};return m(l).toRgbString()},L.contrast=function(t,a,n){var f=m(t);f.getAlpha()!==1&&(f=m(L.combine(t,p)));var u=f.isDark()?a?f.lighten(a):p:n?f.darken(n):v;return u.toString()},L.stroke=function(t,a){var n=m(a);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,a){var n=m(a);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var a=Object.keys(t),n,f,u,l;for(n=0;n<a.length;n++)if(u=a[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var g=l[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(f=0;f<l.length;f++)L.clean(l[f])}else l&&typeof l=="object"&&!s(l)&&L.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var a=t.trim();if(a.substr(0,3)!=="rgb")return t;var n=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),u=a.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var g=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+g+", "+f[3]+")":"rgb("+g+")"}},42996:function(G,H,e){var m=e(94724),P=e(25376),s=e(92880).extendFlat,L=e(67824).overrideAll;G.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:m.linecolor,outlinewidth:m.linewidth,bordercolor:m.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:m.minor.tickmode,nticks:m.nticks,tick0:m.tick0,dtick:m.dtick,tickvals:m.tickvals,ticktext:m.ticktext,ticks:s({},m.ticks,{dflt:""}),ticklabeloverflow:s({},m.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:m.ticklen,tickwidth:m.tickwidth,tickcolor:m.tickcolor,ticklabelstep:m.ticklabelstep,showticklabels:m.showticklabels,labelalias:m.labelalias,tickfont:P({}),tickangle:m.tickangle,tickformat:m.tickformat,tickformatstops:m.tickformatstops,tickprefix:m.tickprefix,showtickprefix:m.showtickprefix,ticksuffix:m.ticksuffix,showticksuffix:m.showticksuffix,separatethousands:m.separatethousands,exponentformat:m.exponentformat,minexponent:m.minexponent,showexponent:m.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(G,H,e){var m=e(3400),P=e(31780),s=e(26332),L=e(25404),S=e(95936),v=e(42568),p=e(42996);G.exports=function(t,a,n){var f=P.newContainer(a,"colorbar"),u=t.colorbar||{};function l(F,z){return m.coerce(u,f,p,F,z)}var g=n.margin||{t:0,b:0,l:0,r:0},h=n.width-g.l-g.r,T=n.height-g.t-g.b,c=l("orientation"),i=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(i?h:T):30);var b=l("lenmode");l("len",b==="fraction"?1:i?T:h);var w=l("yref"),C=l("xref"),y=w==="paper",E=C==="paper",A,o,M,x="left";i?(M="middle",x=E?"left":"right",A=E?1.02:1,o=.5):(M=y?"bottom":"top",x="center",A=.5,o=y?1.02:1),m.coerce(u,f,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:A}},"x"),m.coerce(u,f,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:o}},"y"),l("xanchor",x),l("xpad"),l("yanchor",M),l("ypad"),m.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var I=m.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(u,f,l,"linear");var D=n.font,N={noAutotickangles:!0,outerTicks:!1,font:D};I.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,f,l,"linear",N),S(u,f,l,"linear",N),L(u,f,l,"linear",N),l("title.text",n._dfltTitle.colorbar);var k=f.showticklabels?f.tickfont:D,O=m.extendFlat({},D,{family:k.family,size:m.bigFont(k.size)});m.coerceFont(l,"title.font",O),l("title.side",i?"top":"right")}},37848:function(G,H,e){var m=e(33428),P=e(49760),s=e(7316),L=e(24040),S=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,a=e(93972),n=e(43616),f=e(76308),u=e(81668),l=e(72736),g=e(94288).flipScale,h=e(28336),T=e(37668),c=e(94724),i=e(84284),d=i.LINE_SPACING,b=i.FROM_TL,w=i.FROM_BR,C=e(63964).cn;function y(I){var D=I._fullLayout,N=D._infolayer.selectAll("g."+C.colorbar).data(E(I),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(C.colorbar,!0),N.each(function(k){var O=m.select(this);p.ensureSingle(O,"rect",C.cbbg),p.ensureSingle(O,"g",C.cbfills),p.ensureSingle(O,"g",C.cblines),p.ensureSingle(O,"g",C.cbaxis,function(z){z.classed(C.crisp,!0)}),p.ensureSingle(O,"g",C.cbtitleunshift,function(z){z.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(O,"rect",C.cboutline);var F=A(O,k,I);F&&F.then&&(I._promises||[]).push(F),I._context.edits.colorbarPosition&&o(O,k,I)}),N.exit().each(function(k){s.autoMargin(I,k._id)}).remove(),N.order()}function E(I){var D=I._fullLayout,N=I.calcdata,k=[],O,F,z,B;function W(j){return t(j,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof B.calc=="function"?B.calc(I,z,O):(O._fillgradient=F.reversescale?g(F.colorscale):F.colorscale,O._zrange=[F[B.min],F[B.max]])}for(var re=0;re<N.length;re++){var ne=N[re];if(z=ne[0].trace,!!z._module){var le=z._module.colorbar;if(z.visible===!0&&le)for(var $=Array.isArray(le),Z=$?le:[le],ie=0;ie<Z.length;ie++){B=Z[ie];var X=B.container;F=X?z[X]:z,F&&F.showscale&&(O=W(F.colorbar),O._id="cb"+z.uid+($&&X?"-"+X:""),O._traceIndex=z.index,O._propPrefix=(X?X+".":"")+"colorbar.",O._meta=z._meta,J(),k.push(O))}}}for(var Q in D._colorAxes)if(F=D[Q],F.showscale){var oe=D._colorAxes[Q];O=W(F.colorbar),O._id="cb"+Q,O._propPrefix=Q+".colorbar.",O._meta=D._meta,B={min:"cmin",max:"cmax"},oe[0]!=="heatmap"&&(z=oe[1],B.calc=z._module.colorbar.calc),J(),k.push(O)}return k}function A(I,D,N){var k=D.orientation==="v",O=D.len,F=D.lenmode,z=D.thickness,B=D.thicknessmode,W=D.outlinewidth,J=D.borderwidth,re=D.bgcolor,ne=D.xanchor,le=D.yanchor,$=D.xpad,Z=D.ypad,ie=D.x,X=k?D.y:1-D.y,Q=D.yref==="paper",oe=D.xref==="paper",j=N._fullLayout,Y=j._size,se=D._fillcolor,te=D._line,fe=D.title,ge=fe.side,be=D._zrange||m.extent((typeof se=="function"?se:te.color).domain()),xe=typeof te.color=="function"?te.color:function(){return te.color},_e=typeof se=="function"?se:function(){return se},De=D._levels,Fe=M(N,D,be),Te=Fe.fill,Re=Fe.line,Se=Math.round(z*(B==="fraction"?k?Y.w:Y.h:1)),ke=Se/(k?Y.w:Y.h),Me=Math.round(O*(F==="fraction"?k?Y.h:Y.w:1)),Ve=Me/(k?Y.h:Y.w),tt=oe?Y.w:N._fullLayout.width,it=Q?Y.h:N._fullLayout.height,Je=Math.round(k?ie*tt+$:X*it+Z),Qe={center:.5,right:1}[ne]||0,ct={top:1,middle:.5}[le]||0,ht=k?ie-Qe*ke:X-ct*ke,dt=k?X-ct*Ve:ie-Qe*Ve,Tt=Math.round(k?it*(1-dt):tt*dt);D._lenFrac=Ve,D._thickFrac=ke,D._uFrac=ht,D._vFrac=dt;var Et=D._axis=x(N,D,be);Et.position=ke+(k?ie+$/Y.w:X+Z/Y.h);var rt=["top","bottom"].indexOf(ge)!==-1;if(k&&rt&&(Et.title.side=ge,Et.titlex=ie+$/Y.w,Et.titley=dt+(fe.side==="top"?Ve-Z/Y.h:Z/Y.h)),!k&&!rt&&(Et.title.side=ge,Et.titley=X+Z/Y.h,Et.titlex=dt+$/Y.w),te.color&&D.tickmode==="auto"){Et.tickmode="linear",Et.tick0=De.start;var ze=De.size,Ge=p.constrain(Me/50,4,15)+1,je=(be[1]-be[0])/((D.nticks||Ge)*ze);if(je>1){var We=Math.pow(10,Math.floor(Math.log(je)/Math.LN10));ze*=We*p.roundUp(je/We,[2,5,10]),(Math.abs(De.start)/De.size+1e-6)%1<2e-6&&(Et.tick0=0)}Et.dtick=ze}Et.domain=k?[dt+Z/Y.h,dt+Ve-Z/Y.h]:[dt+$/Y.w,dt+Ve-$/Y.w],Et.setScale(),I.attr("transform",r(Math.round(Y.l),Math.round(Y.t)));var Le=I.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(Y.l),-Math.round(Y.t))),Pe=Et.ticklabelposition,Ye=Et.title.font.size,Ce=I.select("."+C.cbaxis),he,me=0,Ne=0;function $e(At,Rt){var Xt={propContainer:Et,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:j._dfltTitle.colorbar,containerGroup:I.select("."+C.cbtitle)},ir=At.charAt(0)==="h"?At.substr(1):"h"+At;I.selectAll("."+ir+",."+ir+"-math-group").remove(),u.draw(N,At,t(Xt,Rt||{}))}function ot(){if(k&&rt||!k&&!rt){var At,Rt;ge==="top"&&(At=$+Y.l+tt*ie,Rt=Z+Y.t+it*(1-dt-Ve)+3+Ye*.75),ge==="bottom"&&(At=$+Y.l+tt*ie,Rt=Z+Y.t+it*(1-dt)-3-Ye*.25),ge==="right"&&(Rt=Z+Y.t+it*X+3+Ye*.75,At=$+Y.l+tt*dt),$e(Et._id+"title",{attributes:{x:At,y:Rt,"text-anchor":k?"start":"middle"}})}}function st(){if(k&&!rt||!k&&rt){var At=Et.position||0,Rt=Et._offset+Et._length/2,Xt,ir;if(ge==="right")ir=Rt,Xt=Y.l+tt*At+10+Ye*(Et.showticklabels?1:.5);else if(Xt=Rt,ge==="bottom"&&(ir=Y.t+it*At+10+(Pe.indexOf("inside")===-1?Et.tickfont.size:0)+(Et.ticks!=="intside"&&D.ticklen||0)),ge==="top"){var pt=fe.text.split("<br>").length;ir=Y.t+it*At+10-Se-d*Ye*pt}$e((k?"h":"v")+Et._id+"title",{avoid:{selection:m.select(N).selectAll("g."+Et._id+"tick"),side:ge,offsetTop:k?0:Y.t,offsetLeft:k?Y.l:0,maxShift:k?j.width:j.height},attributes:{x:Xt,y:ir,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function Wt(){if(!k&&!rt||k&&rt){var At=I.select("."+C.cbtitle),Rt=At.select("text"),Xt=[-W/2,W/2],ir=At.select(".h"+Et._id+"title-math-group").node(),pt=15.6;Rt.node()&&(pt=parseInt(Rt.node().style.fontSize,10)*d);var Kt;if(ir?(Kt=n.bBox(ir),Ne=Kt.width,me=Kt.height,me>pt&&(Xt[1]-=(me-pt)/2)):Rt.node()&&!Rt.classed(C.jsPlaceholder)&&(Kt=n.bBox(Rt.node()),Ne=Kt.width,me=Kt.height),k){if(me){if(me+=5,ge==="top")Et.domain[1]-=me/Y.h,Xt[1]*=-1;else{Et.domain[0]+=me/Y.h;var Qt=l.lineCount(Rt);Xt[1]+=(1-Qt)*pt}At.attr("transform",r(Xt[0],Xt[1])),Et.setScale()}}else Ne&&(ge==="right"&&(Et.domain[0]+=(Ne+Ye/2)/Y.w),At.attr("transform",r(Xt[0],Xt[1])),Et.setScale())}I.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",k?r(0,Math.round(Y.h*(1-Et.domain[1]))):r(Math.round(Y.w*Et.domain[0]),0)),Ce.attr("transform",k?r(0,Math.round(-Y.t)):r(Math.round(-Y.l),0));var yr=I.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(Te);yr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),yr.exit().remove();var ur=be.map(Et.c2p).map(Math.round).sort(function(Dt,Ht){return Dt-Ht});yr.each(function(Dt,Ht){var Bt=[Ht===0?be[0]:(Te[Ht]+Te[Ht-1])/2,Ht===Te.length-1?be[1]:(Te[Ht]+Te[Ht+1])/2].map(Et.c2p).map(Math.round);k&&(Bt[1]=p.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,ur[0],ur[1]));var xt=m.select(this).attr(k?"x":"y",Je).attr(k?"y":"x",m.min(Bt)).attr(k?"width":"height",Math.max(Se,2)).attr(k?"height":"width",Math.max(m.max(Bt)-m.min(Bt),2));if(D._fillgradient)n.gradient(xt,N,D._id,k?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var Ut=_e(Dt).replace("e-","");xt.attr("fill",P(Ut).toHexString())}});var mt=I.select("."+C.cblines).selectAll("path."+C.cbline).data(te.color&&te.width?Re:[]);mt.enter().append("path").classed(C.cbline,!0),mt.exit().remove(),mt.each(function(Dt){var Ht=Je,Bt=Math.round(Et.c2p(Dt))+te.width/2%1;m.select(this).attr("d","M"+(k?Ht+","+Bt:Bt+","+Ht)+(k?"h":"v")+Se).call(n.lineGroupStyle,te.width,xe(Dt),te.dash)}),Ce.selectAll("g."+Et._id+"tick,path").remove();var lt=Je+Se+(W||0)/2-(D.ticks==="outside"?1:0),bt=S.calcTicks(Et),Ct=S.getTickSigns(Et)[2];return S.drawTicks(N,Et,{vals:Et.ticks==="inside"?S.clipEnds(Et,bt):bt,layer:Ce,path:S.makeTickPath(Et,lt,Ct),transFn:S.makeTransTickFn(Et)}),S.drawLabels(N,Et,{vals:bt,layer:Ce,transFn:S.makeTransTickLabelFn(Et),labelFns:S.makeLabelFns(Et,lt)})}function Zt(){var At,Rt=Se+W/2;Pe.indexOf("inside")===-1&&(At=n.bBox(Ce.node()),Rt+=k?At.width:At.height),he=Le.select("text");var Xt=0,ir=k&&ge==="top",pt=!k&&ge==="right",Kt=0;if(he.node()&&!he.classed(C.jsPlaceholder)){var Qt,yr=Le.select(".h"+Et._id+"title-math-group").node();yr&&(k&&rt||!k&&!rt)?(At=n.bBox(yr),Xt=At.width,Qt=At.height):(At=n.bBox(Le.node()),Xt=At.right-Y.l-(k?Je:Tt),Qt=At.bottom-Y.t-(k?Tt:Je),!k&&ge==="top"&&(Rt+=At.height,Kt=At.height)),pt&&(he.attr("transform",r(Xt/2+Ye/2,0)),Xt*=2),Rt=Math.max(Rt,k?Xt:Qt)}var ur=(k?$:Z)*2+Rt+J+W/2,mt=0;!k&&fe.text&&le==="bottom"&&X<=0&&(mt=ur/2,ur+=mt,Kt+=mt),j._hColorbarMoveTitle=mt,j._hColorbarMoveCBTitle=Kt;var lt=J+W,bt=(k?Je:Tt)-lt/2-(k?$:0),Ct=(k?Tt:Je)-(k?Me:Z+Kt-mt);I.select("."+C.cbbg).attr("x",bt).attr("y",Ct).attr(k?"width":"height",Math.max(ur-mt,2)).attr(k?"height":"width",Math.max(Me+lt,2)).call(f.fill,re).call(f.stroke,D.bordercolor).style("stroke-width",J);var Dt=pt?Math.max(Xt-10,0):0;I.selectAll("."+C.cboutline).attr("x",(k?Je:Tt+$)+Dt).attr("y",(k?Tt+Z-Me:Je)+(ir?me:0)).attr(k?"width":"height",Math.max(Se,2)).attr(k?"height":"width",Math.max(Me-(k?2*Z+me:2*$+Dt),2)).call(f.stroke,D.outlinecolor).style({fill:"none","stroke-width":W});var Ht=k?Qe*ur:0,Bt=k?0:(1-ct)*ur-Kt;if(Ht=oe?Y.l-Ht:-Ht,Bt=Q?Y.t-Bt:-Bt,I.attr("transform",r(Ht,Bt)),!k&&(J||P(re).getAlpha()&&!P.equals(j.paper_bgcolor,re))){var xt=Ce.selectAll("text"),Ut=xt[0].length,qt=I.select("."+C.cbbg).node(),or=n.bBox(qt),rr=n.getTranslate(I),He=2;xt.each(function(dr,xr){var pr=0,Hr=Ut-1;if(xr===pr||xr===Hr){var _r=n.bBox(this),Dr=n.getTranslate(this),an;if(xr===Hr){var tn=_r.right+Dr.x,Sn=or.right+rr.x+Tt-J-He+ie;an=Sn-tn,an>0&&(an=0)}else if(xr===pr){var Tn=_r.left+Dr.x,Tr=or.left+rr.x+Tt+J+He;an=Tr-Tn,an<0&&(an=0)}an&&(Ut<3?this.setAttribute("transform","translate("+an+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ue={},Ot=b[ne],It=w[ne],Jt=b[le],cr=w[le],vr=ur-Se;k?(F==="pixels"?(Ue.y=X,Ue.t=Me*Jt,Ue.b=Me*cr):(Ue.t=Ue.b=0,Ue.yt=X+O*Jt,Ue.yb=X-O*cr),B==="pixels"?(Ue.x=ie,Ue.l=ur*Ot,Ue.r=ur*It):(Ue.l=vr*Ot,Ue.r=vr*It,Ue.xl=ie-z*Ot,Ue.xr=ie+z*It)):(F==="pixels"?(Ue.x=ie,Ue.l=Me*Ot,Ue.r=Me*It):(Ue.l=Ue.r=0,Ue.xl=ie+O*Ot,Ue.xr=ie-O*It),B==="pixels"?(Ue.y=1-X,Ue.t=ur*Jt,Ue.b=ur*cr):(Ue.t=vr*Jt,Ue.b=vr*cr,Ue.yt=X-z*Jt,Ue.yb=X+z*cr));var tr=D.y<.5?"b":"t",Nt=D.x<.5?"l":"r";N._fullLayout._reservedMargin[D._id]={};var sr={r:j.width-bt-Ht,l:bt+Ue.r,b:j.height-Ct-Bt,t:Ct+Ue.b};oe&&Q?s.autoMargin(N,D._id,Ue):oe?N._fullLayout._reservedMargin[D._id][tr]=sr[tr]:Q||k?N._fullLayout._reservedMargin[D._id][Nt]=sr[Nt]:N._fullLayout._reservedMargin[D._id][tr]=sr[tr]}return p.syncOrAsync([s.previousPromises,ot,Wt,st,s.previousPromises,Zt],N)}function o(I,D,N){var k=D.orientation==="v",O=N._fullLayout,F=O._size,z,B,W;v.init({element:I.node(),gd:N,prepFn:function(){z=I.attr("transform"),a(I)},moveFn:function(J,re){I.attr("transform",z+r(J,re)),B=v.align((k?D._uFrac:D._vFrac)+J/F.w,k?D._thickFrac:D._lenFrac,0,1,D.xanchor),W=v.align((k?D._vFrac:1-D._uFrac)-re/F.h,k?D._lenFrac:D._thickFrac,0,1,D.yanchor);var ne=v.getCursor(B,W,D.xanchor,D.yanchor);a(I,ne)},doneFn:function(){if(a(I),B!==void 0&&W!==void 0){var J={};J[D._propPrefix+"x"]=B,J[D._propPrefix+"y"]=W,D._traceIndex!==void 0?L.call("_guiRestyle",N,J,D._traceIndex):L.call("_guiRelayout",N,J)}}})}function M(I,D,N){var k=D._levels,O=[],F=[],z,B,W=k.end+k.size/100,J=k.size,re=1.001*N[0]-.001*N[1],ne=1.001*N[1]-.001*N[0];for(B=0;B<1e5&&(z=k.start+B*J,!(J>0?z>=W:z<=W));B++)z>re&&z<ne&&O.push(z);if(D._fillgradient)F=[0];else if(typeof D._fillcolor=="function"){var le=D._filllevels;if(le)for(W=le.end+le.size/100,J=le.size,B=0;B<1e5&&(z=le.start+B*J,!(J>0?z>=W:z<=W));B++)z>N[0]&&z<N[1]&&F.push(z);else F=O.map(function($){return $-k.size/2}),F.push(F[F.length-1]+k.size)}else D._fillcolor&&typeof D._fillcolor=="string"&&(F=[0]);return k.size<0&&(O.reverse(),F.reverse()),{line:O,fill:F}}function x(I,D,N){var k=I._fullLayout,O=D.orientation==="v",F={type:"linear",range:N,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},z=O?"y":"x",B={type:"linear",_id:z+D._id},W={letter:z,font:k.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function J(re,ne){return p.coerce(F,B,c,re,ne)}return h(F,B,J,W,k),T(F,B,J,W),B}G.exports={draw:y}},90553:function(G,H,e){var m=e(3400);G.exports=function(s){return m.isPlainObject(s.colorbar)}},55080:function(G,H,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(G,H,e){var m=e(42996),P=e(53756).counter,s=e(95376),L=e(88304).scales;s(L),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",a="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,f=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",g=r+"min",h=r+"max",T=r+"mid",c={};c[g]=c[h]=void 0;var i={};i[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:f||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[g]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:a,editType:"calc"},d.colorbar=m),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(G,H,e){var m=e(38248),P=e(3400),s=e(94288).extractOpts;G.exports=function(S,v,p){var r=S._fullLayout,t=p.vals,a=p.containerStr,n=a?P.nestedProperty(v,a).get():v,f=s(n),u=f.auto!==!1,l=f.min,g=f.max,h=f.mid,T=function(){return P.aggNums(Math.min,null,t)},c=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=T():u&&(n._colorAx&&m(l)?l=Math.min(l,T()):l=T()),g===void 0?g=c():u&&(n._colorAx&&m(g)?g=Math.max(g,c()):g=c()),u&&h!==void 0&&(g-h>h-l?l=h-(g-h):g-h<h-l&&(g=h+(h-l))),l===g&&(l-=.5,g+=.5),f._sync("min",l),f._sync("max",g),f.autocolorscale){var i;l*g<0?i=r.colorscale.diverging:l>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,f._sync("colorscale",i)}}},95504:function(G,H,e){var m=e(3400),P=e(94288).hasColorscale,s=e(94288).extractOpts;G.exports=function(S,v){function p(l,g){var h=l["_"+g];h!==void 0&&(l[g]=h)}function r(l,g){var h=g.container?m.nestedProperty(l,g.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=s(h),c=T.auto;(c||T.min===void 0)&&p(h,g.min),(c||T.max===void 0)&&p(h,g.max),T.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<S.length;t++){var a=S[t],n=a._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(a,n[f]);else r(a,n);P(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(G,H,e){var m=e(38248),P=e(3400),s=e(90553),L=e(64013),S=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var a=t.slice(0,t.length-1);return t?P.nestedProperty(r,a).get()||{}:r}G.exports=function r(t,a,n,f,u){var l=u.prefix,g=u.cLetter,h="_module"in a,T=p(t,l),c=p(a,l),i=p(a._template||{},l)||{},d=function(){return delete t.coloraxis,delete a.coloraxis,r(t,a,n,f,u)};if(h){var b=n._colorAxes||{},w=f(l+"coloraxis");if(w){var C=v(a,"contour")&&P.nestedProperty(a,"contours.coloring").get()||"heatmap",y=b[w];y?(y[2].push(d),y[0]!==C&&(y[0]=!1,P.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[w]=[C,a,[d]];return}}var E=T[g+"min"],A=T[g+"max"],o=m(E)&&m(A)&&E<A,M=f(l+g+"auto",!o);M?f(l+g+"mid"):(f(l+g+"min"),f(l+g+"max"));var x=T.colorscale,I=i.colorscale,D;if(x!==void 0&&(D=!S(x)),I!==void 0&&(D=!S(I)),f(l+"autocolorscale",D),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var N;l&&h&&(N=s(T));var k=f(l+"showscale",N);k&&(l&&i&&(c._template=i),L(T,c,n))}}},94288:function(G,H,e){var m=e(33428),P=e(49760),s=e(38248),L=e(3400),S=e(76308),v=e(88304).isValid;function p(h,T,c){var i=T?L.nestedProperty(h,T).get()||{}:h,d=i[c||"color"];d&&d._inputArray&&(d=d._inputArray);var b=!1;if(L.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(s(d[w])){b=!0;break}}return L.isPlainObject(i)&&(b||i.showscale===!0||s(i.cmin)&&s(i.cmax)||v(i.colorscale)||L.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function a(h){var T=h._colorAx,c=T||h,i={},d,b,w;for(b=0;b<r.length;b++)w=r[b],i[w]=c[w];if(T)for(d="c",b=0;b<t.length;b++)w=t[b],i[w]=c["c"+w];else{var C;for(b=0;b<t.length;b++){if(w=t[b],C="c"+w,C in c){i[w]=c[C];continue}C="z"+w,C in c&&(i[w]=c[C])}d=C.charAt(0)}return i._sync=function(y,E){var A=t.indexOf(y)!==-1?d+y:y;c[A]=c["_"+A]=E},i}function n(h){for(var T=a(h),c=T.min,i=T.max,d=T.reversescale?f(T.colorscale):T.colorscale,b=d.length,w=new Array(b),C=new Array(b),y=0;y<b;y++){var E=d[y];w[y]=c+E[0]*(i-c),C[y]=E[1]}return{domain:w,range:C}}function f(h){for(var T=h.length,c=new Array(T),i=T-1,d=0;i>=0;i--,d++){var b=h[i];c[d]=[1-b[0],b[1]]}return c}function u(h,T){T=T||{};for(var c=h.domain,i=h.range,d=i.length,b=new Array(d),w=0;w<d;w++){var C=P(i[w]).toRgb();b[w]=[C.r,C.g,C.b,C.a]}var y=m.scale.linear().domain(c).range(b).clamp(!0),E=T.noNumericCheck,A=T.returnArray,o;return E&&A?o=y:E?o=function(M){return g(y(M))}:A?o=function(M){return s(M)?y(M):P(M).isValid()?M:S.defaultLine}:o=function(M){return s(M)?g(y(M)):P(M).isValid()?M:S.defaultLine},o.domain=y.domain,o.range=function(){return i},o}function l(h,T){return u(n(h),T)}function g(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return P(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:a,extractScale:n,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(G,H,e){var m=e(88304),P=e(94288);G.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:m.scales,defaultScale:m.defaultScale,getScale:m.get,isValidScale:m.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(G,H,e){var m=e(92880).extendFlat,P=e(49084),s=e(88304).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:m({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(G,H,e){var m=e(3400),P=e(31780),s=e(92332),L=e(27260);G.exports=function(v,p){function r(h,T){return m.coerce(v,p,s,h,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,a,n;function f(h,T){return m.coerce(a,n,s.coloraxis,h,T)}for(var u in t){var l=t[u];if(l[0])a=v[u]||{},n=P.newContainer(p,u,"coloraxis"),n._name=u,L(a,n,p,f,{prefix:"",cLetter:"c"});else{for(var g=0;g<l[2].length;g++)l[2][g]();delete p._colorAxes[u]}}}},88304:function(G,H,e){var m=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=P.RdBu;function L(p,r){if(r||(r=s),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),S(p)?p:r}function S(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var a=p[t];if(a.length!==2||+a[0]<r||!m(a[1]).isValid())return!1;r=+a[0]}return!0}function v(p){return P[p]!==void 0?!0:S(p)}G.exports={scales:P,defaultScale:s,get:L,isValid:v}},78316:function(G){G.exports=function(e,m,P,s,L){var S=(e-P)/(s-P),v=S+m/(s-P),p=(S+v)/2;return L==="left"||L==="bottom"?S:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:S<.6666666666666666-p?S:v>1.3333333333333333-p?v:p}},67416:function(G,H,e){var m=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(L,S,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=m.constrain(Math.floor(L*3),0,2),p==="bottom"?S=0:p==="middle"?S=1:p==="top"?S=2:S=m.constrain(Math.floor(S*3),0,2),P[S][L]}},72760:function(G,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},86476:function(G,H,e){var m=e(29128),P=e(52264),s=e(89184),L=e(3400).removeElement,S=e(33816),v=G.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var f=n.gd,u=1,l=f._context.doubleClickDelay,g=n.element,h,T,c,i,d,b,w,C;f._mouseDownTime||(f._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=A,s?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=A,g.addEventListener("touchstart",A,{passive:!1})):g.ontouchstart=A;function y(x,I,D){return Math.abs(x)<D&&(x=0),Math.abs(I)<D&&(I=0),[x,I]}var E=n.clampFn||y;function A(x){f._dragged=!1,f._dragging=!0;var I=t(x);h=I[0],T=I[1],w=x.target,b=x,C=x.buttons===2||x.ctrlKey,typeof x.clientX>"u"&&typeof x.clientY>"u"&&(x.clientX=h,x.clientY=T),c=new Date().getTime(),c-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=c),n.prepFn&&n.prepFn(x,h,T),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(g).cursor):P||(d=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),n.dragmode!==!1&&(x.preventDefault(),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}))}function o(x){x.preventDefault();var I=t(x),D=n.minDrag||S.MINDRAG,N=E(I[0]-h,I[1]-T,D),k=N[0],O=N[1];(k||O)&&(f._dragged=!0,v.unhover(f,x)),f._dragged&&n.moveFn&&!C&&(f._dragdata={element:g,dx:k,dy:O},n.moveFn(k,O))}function M(x){if(delete f._dragdata,n.dragmode!==!1&&(x.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),P?L(d):i&&(d.documentElement.style.cursor=i,i=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,b),!C){var I;try{I=new MouseEvent("click",x)}catch{var D=t(x);I=document.createEvent("MouseEvents"),I.initMouseEvent("click",x.bubbles,x.cancelable,x.view,x.detail,x.screenX,x.screenY,D[0],D[1],x.ctrlKey,x.altKey,x.shiftKey,x.metaKey,x.button,x.relatedTarget)}w.dispatchEvent(I)}f._dragging=!1,f._dragged=!1}};function r(){var a=document.createElement("div");a.className="dragcover";var n=a.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(a),a}v.coverSlip=r;function t(a){return m(a.changedTouches?a.changedTouches[0]:a,document.body)}},2616:function(G,H,e){var m=e(95924),P=e(91200),s=e(52200).getGraphDiv,L=e(92456),S=G.exports={};S.wrapped=function(v,p,r){v=s(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),S.raw(v,p,r)},S.raw=function(p,r){var t=p._fullLayout,a=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&m.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&a&&p.emit("plotly_unhover",{event:r,points:a}))}},98192:function(G,H){H.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(G,H,e){var m=e(33428),P=e(3400),s=P.numberFormat,L=e(38248),S=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,a=e(72736),n=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,g=e(43028),h=e(7152),T=e(10624).appendArrayPointValue,c=G.exports={};c.font=function(Se,ke){var Me=ke.variant,Ve=ke.style,tt=ke.weight,it=ke.color,Je=ke.size,Qe=ke.family,ct=ke.shadow,ht=ke.lineposition,dt=ke.textcase;Qe&&Se.style("font-family",Qe),Je+1&&Se.style("font-size",Je+"px"),it&&Se.call(p.fill,it),tt&&Se.style("font-weight",tt),Ve&&Se.style("font-style",Ve),Me&&Se.style("font-variant",Me),dt&&Se.style("text-transform",i(b(dt))),ct&&Se.style("text-shadow",ct==="auto"?a.makeTextShadow(p.contrast(it)):i(ct)),ht&&Se.style("text-decoration-line",i(w(ht)))};function i(Se){return Se==="none"?void 0:Se}var d={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function b(Se){return d[Se]}function w(Se){return Se.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(Se,ke,Me){Se.attr("x",ke).attr("y",Me)},c.setSize=function(Se,ke,Me){Se.attr("width",ke).attr("height",Me)},c.setRect=function(Se,ke,Me,Ve,tt){Se.call(c.setPosition,ke,Me).call(c.setSize,Ve,tt)},c.translatePoint=function(Se,ke,Me,Ve){var tt=Me.c2p(Se.x),it=Ve.c2p(Se.y);if(L(tt)&&L(it)&&ke.node())ke.node().nodeName==="text"?ke.attr("x",tt).attr("y",it):ke.attr("transform",t(tt,it));else return!1;return!0},c.translatePoints=function(Se,ke,Me){Se.each(function(Ve){var tt=m.select(this);c.translatePoint(Ve,tt,ke,Me)})},c.hideOutsideRangePoint=function(Se,ke,Me,Ve,tt,it){ke.attr("display",Me.isPtWithinRange(Se,tt)&&Ve.isPtWithinRange(Se,it)?null:"none")},c.hideOutsideRangePoints=function(Se,ke){if(ke._hasClipOnAxisFalse){var Me=ke.xaxis,Ve=ke.yaxis;Se.each(function(tt){var it=tt[0].trace,Je=it.xcalendar,Qe=it.ycalendar,ct=v.traceIs(it,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(ct).each(function(ht){c.hideOutsideRangePoint(ht,m.select(this),Me,Ve,Je,Qe)})})}},c.crispRound=function(Se,ke,Me){return!ke||!L(ke)?Me||0:Se._context.staticPlot?ke:ke<1?1:Math.round(ke)},c.singleLineStyle=function(Se,ke,Me,Ve,tt){ke.style("fill","none");var it=(((Se||[])[0]||{}).trace||{}).line||{},Je=Me||it.width||0,Qe=tt||it.dash||"";p.stroke(ke,Ve||it.color),c.dashLine(ke,Qe,Je)},c.lineGroupStyle=function(Se,ke,Me,Ve){Se.style("fill","none").each(function(tt){var it=(((tt||[])[0]||{}).trace||{}).line||{},Je=ke||it.width||0,Qe=Ve||it.dash||"";m.select(this).call(p.stroke,Me||it.color).call(c.dashLine,Qe,Je)})},c.dashLine=function(Se,ke,Me){Me=+Me||0,ke=c.dashStyle(ke,Me),Se.style({"stroke-dasharray":ke,"stroke-width":Me+"px"})},c.dashStyle=function(Se,ke){ke=+ke||1;var Me=Math.max(ke,3);return Se==="solid"?Se="":Se==="dot"?Se=Me+"px,"+Me+"px":Se==="dash"?Se=3*Me+"px,"+3*Me+"px":Se==="longdash"?Se=5*Me+"px,"+5*Me+"px":Se==="dashdot"?Se=3*Me+"px,"+Me+"px,"+Me+"px,"+Me+"px":Se==="longdashdot"&&(Se=5*Me+"px,"+2*Me+"px,"+Me+"px,"+2*Me+"px"),Se};function C(Se,ke,Me,Ve){var tt=ke.fillpattern,it=ke.fillgradient,Je=tt&&c.getPatternAttr(tt.shape,0,"");if(Je){var Qe=c.getPatternAttr(tt.bgcolor,0,null),ct=c.getPatternAttr(tt.fgcolor,0,null),ht=tt.fgopacity,dt=c.getPatternAttr(tt.size,0,8),Tt=c.getPatternAttr(tt.solidity,0,.3),Et=ke.uid;c.pattern(Se,"point",Me,Et,Je,dt,Tt,void 0,tt.fillmode,Qe,ct,ht)}else if(it&&it.type!=="none"){var rt=it.type,ze="scatterfill-"+ke.uid;if(Ve&&(ze="legendfill-"+ke.uid),!Ve&&(it.start!==void 0||it.stop!==void 0)){var Ge,je;rt==="horizontal"?(Ge={x:it.start,y:0},je={x:it.stop,y:0}):rt==="vertical"&&(Ge={x:0,y:it.start},je={x:0,y:it.stop}),Ge.x=ke._xA.c2p(Ge.x===void 0?ke._extremes.x.min[0].val:Ge.x,!0),Ge.y=ke._yA.c2p(Ge.y===void 0?ke._extremes.y.min[0].val:Ge.y,!0),je.x=ke._xA.c2p(je.x===void 0?ke._extremes.x.max[0].val:je.x,!0),je.y=ke._yA.c2p(je.y===void 0?ke._extremes.y.max[0].val:je.y,!0),Se.call(I,Me,ze,"linear",it.colorscale,"fill",Ge,je,!0,!1)}else rt==="horizontal"&&(rt=rt+"reversed"),Se.call(c.gradient,Me,ze,rt,it.colorscale,"fill")}else ke.fillcolor&&Se.call(p.fill,ke.fillcolor)}c.singleFillStyle=function(Se,ke){var Me=m.select(Se.node()),Ve=Me.data(),tt=((Ve[0]||[])[0]||{}).trace||{};C(Se,tt,ke,!1)},c.fillGroupStyle=function(Se,ke,Me){Se.style("stroke-width",0).each(function(Ve){var tt=m.select(this);Ve[0].trace&&C(tt,Ve[0].trace,ke,Me)})};var y=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(y).forEach(function(Se){var ke=y[Se],Me=ke.n;c.symbolList.push(Me,String(Me),Se,Me+100,String(Me+100),Se+"-open"),c.symbolNames[Me]=Se,c.symbolFuncs[Me]=ke.f,c.symbolBackOffs[Me]=ke.backoff||0,ke.needLine&&(c.symbolNeedLines[Me]=!0),ke.noDot?c.symbolNoDot[Me]=!0:c.symbolList.push(Me+200,String(Me+200),Se+"-dot",Me+300,String(Me+300),Se+"-open-dot"),ke.noFill&&(c.symbolNoFill[Me]=!0)});var E=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(Se){if(L(Se))Se=+Se;else if(typeof Se=="string"){var ke=0;Se.indexOf("-open")>0&&(ke=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(ke+=200,Se=Se.replace("-dot","")),Se=c.symbolNames.indexOf(Se),Se>=0&&(Se+=ke)}return Se%100>=E||Se>=400?0:Math.floor(Math.max(Se,0))};function o(Se,ke,Me,Ve){var tt=Se%100;return c.symbolFuncs[tt](ke,Me,Ve)+(Se>=200?A:"")}var M=s("~f"),x={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(Se,ke,Me,Ve,tt,it){var Je=x[Ve];return I(Se,ke,Me,Je.type,tt,it,Je.start,Je.stop,!1,Je.reversed)};function I(Se,ke,Me,Ve,tt,it,Je,Qe,ct,ht){var dt=tt.length,Tt;Ve==="linear"?Tt={node:"linearGradient",attrs:{x1:Je.x,y1:Je.y,x2:Qe.x,y2:Qe.y,gradientUnits:ct?"userSpaceOnUse":"objectBoundingBox"},reversed:ht}:Ve==="radial"&&(Tt={node:"radialGradient",reversed:ht});for(var Et=new Array(dt),rt=0;rt<dt;rt++)Tt.reversed?Et[dt-1-rt]=[M((1-tt[rt][0])*100),tt[rt][1]]:Et[rt]=[M(tt[rt][0]*100),tt[rt][1]];var ze=ke._fullLayout,Ge="g"+ze._uid+"-"+Me,je=ze._defs.select(".gradients").selectAll("#"+Ge).data([Ve+Et.join(";")],P.identity);je.exit().remove(),je.enter().append(Tt.node).each(function(){var We=m.select(this);Tt.attrs&&We.attr(Tt.attrs),We.attr("id",Ge);var Le=We.selectAll("stop").data(Et);Le.exit().remove(),Le.enter().append("stop"),Le.each(function(Pe){var Ye=S(Pe[1]);m.select(this).attr({offset:Pe[0]+"%","stop-color":p.tinyRGB(Ye),"stop-opacity":Ye.getAlpha()})})}),Se.style(it,Q(Ge,ke)).style(it+"-opacity",null),Se.classed("gradient_filled",!0)}c.pattern=function(Se,ke,Me,Ve,tt,it,Je,Qe,ct,ht,dt,Tt){var Et=ke==="legend";Qe&&(ct==="overlay"?(ht=Qe,dt=p.contrast(ht)):(ht=void 0,dt=Qe));var rt=Me._fullLayout,ze="p"+rt._uid+"-"+Ve,Ge,je,We=function(Zt,At,Rt,Xt,ir){return Xt+(ir-Xt)*(Zt-At)/(Rt-At)},Le,Pe,Ye,Ce,he={},me=S(dt),Ne=p.tinyRGB(me),$e=me.getAlpha(),ot=Tt*$e;switch(tt){case"/":Ge=it*Math.sqrt(2),je=it*Math.sqrt(2),Le="M-"+Ge/4+","+je/4+"l"+Ge/2+",-"+je/2+"M0,"+je+"L"+Ge+",0M"+Ge/4*3+","+je/4*5+"l"+Ge/2+",-"+je/2,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"\\":Ge=it*Math.sqrt(2),je=it*Math.sqrt(2),Le="M"+Ge/4*3+",-"+je/4+"l"+Ge/2+","+je/2+"M0,0L"+Ge+","+je+"M-"+Ge/4+","+je/4*3+"l"+Ge/2+","+je/2,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"x":Ge=it*Math.sqrt(2),je=it*Math.sqrt(2),Le="M-"+Ge/4+","+je/4+"l"+Ge/2+",-"+je/2+"M0,"+je+"L"+Ge+",0M"+Ge/4*3+","+je/4*5+"l"+Ge/2+",-"+je/2+"M"+Ge/4*3+",-"+je/4+"l"+Ge/2+","+je/2+"M0,0L"+Ge+","+je+"M-"+Ge/4+","+je/4*3+"l"+Ge/2+","+je/2,Pe=it-it*Math.sqrt(1-Je),Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"|":Ge=it,je=it,Ce="path",Le="M"+Ge/2+",0L"+Ge/2+","+je,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"-":Ge=it,je=it,Ce="path",Le="M0,"+je/2+"L"+Ge+","+je/2,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"+":Ge=it,je=it,Ce="path",Le="M"+Ge/2+",0L"+Ge/2+","+je+"M0,"+je/2+"L"+Ge+","+je/2,Pe=it-it*Math.sqrt(1-Je),Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case".":Ge=it,je=it,Je<Math.PI/4?Ye=Math.sqrt(Je*it*it/Math.PI):Ye=We(Je,Math.PI/4,1,it/2,it/Math.sqrt(2)),Ce="circle",he={cx:Ge/2,cy:je/2,r:Ye,opacity:ot,fill:Ne};break}var st=[tt||"noSh",ht||"noBg",dt||"noFg",it,Je].join(";"),Wt=rt._defs.select(".patterns").selectAll("#"+ze).data([st],P.identity);Wt.exit().remove(),Wt.enter().append("pattern").each(function(){var Zt=m.select(this);if(Zt.attr({id:ze,width:Ge+"px",height:je+"px",patternUnits:"userSpaceOnUse",patternTransform:Et?"scale(0.8)":""}),ht){var At=S(ht),Rt=p.tinyRGB(At),Xt=At.getAlpha(),ir=Zt.selectAll("rect").data([0]);ir.exit().remove(),ir.enter().append("rect").attr({width:Ge+"px",height:je+"px",fill:Rt,"fill-opacity":Xt})}var pt=Zt.selectAll(Ce).data([0]);pt.exit().remove(),pt.enter().append(Ce).attr(he)}),Se.style("fill",Q(ze,Me)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},c.initGradients=function(Se){var ke=Se._fullLayout,Me=P.ensureSingle(ke._defs,"g","gradients");Me.selectAll("linearGradient,radialGradient").remove(),m.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(Se){var ke=Se._fullLayout,Me=P.ensureSingle(ke._defs,"g","patterns");Me.selectAll("pattern").remove(),m.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(Se,ke,Me){return Se&&P.isArrayOrTypedArray(Se)?ke<Se.length?Se[ke]:Me:Se},c.pointStyle=function(Se,ke,Me,Ve){if(Se.size()){var tt=c.makePointStyleFns(ke);Se.each(function(it){c.singlePointStyle(it,m.select(this),ke,tt,Me,Ve)})}},c.singlePointStyle=function(Se,ke,Me,Ve,tt,it){var Je=Me.marker,Qe=Je.line;if(it&&it.i>=0&&Se.i===void 0&&(Se.i=it.i),ke.style("opacity",Ve.selectedOpacityFn?Ve.selectedOpacityFn(Se):Se.mo===void 0?Je.opacity:Se.mo),Ve.ms2mrc){var ct;Se.ms==="various"||Je.size==="various"?ct=3:ct=Ve.ms2mrc(Se.ms),Se.mrc=ct,Ve.selectedSizeFn&&(ct=Se.mrc=Ve.selectedSizeFn(Se));var ht=c.symbolNumber(Se.mx||Je.symbol)||0;Se.om=ht%200>=100;var dt=Re(Se,Me),Tt=Y(Se,Me);ke.attr("d",o(ht,ct,dt,Tt))}var Et=!1,rt,ze,Ge;if(Se.so)Ge=Qe.outlierwidth,ze=Qe.outliercolor,rt=Je.outliercolor;else{var je=(Qe||{}).width;Ge=(Se.mlw+1||je+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Se?ze=Se.mlcc=Ve.lineScale(Se.mlc):P.isArrayOrTypedArray(Qe.color)?ze=p.defaultLine:ze=Qe.color,P.isArrayOrTypedArray(Je.color)&&(rt=p.defaultLine,Et=!0),"mc"in Se?rt=Se.mcc=Ve.markerScale(Se.mc):rt=Je.color||Je.colors||"rgba(0,0,0,0)",Ve.selectedColorFn&&(rt=Ve.selectedColorFn(Se))}if(Se.om)ke.call(p.stroke,rt).style({"stroke-width":(Ge||1)+"px",fill:"none"});else{ke.style("stroke-width",(Se.isBlank?0:Ge)+"px");var We=Je.gradient,Le=Se.mgt;Le?Et=!0:Le=We&&We.type,P.isArrayOrTypedArray(Le)&&(Le=Le[0],x[Le]||(Le=0));var Pe=Je.pattern,Ye=Pe&&c.getPatternAttr(Pe.shape,Se.i,"");if(Le&&Le!=="none"){var Ce=Se.mgc;Ce?Et=!0:Ce=We.color;var he=Me.uid;Et&&(he+="-"+Se.i),c.gradient(ke,tt,he,Le,[[0,Ce],[1,rt]],"fill")}else if(Ye){var me=!1,Ne=Pe.fgcolor;!Ne&&it&&it.color&&(Ne=it.color,me=!0);var $e=c.getPatternAttr(Ne,Se.i,it&&it.color||null),ot=c.getPatternAttr(Pe.bgcolor,Se.i,null),st=Pe.fgopacity,Wt=c.getPatternAttr(Pe.size,Se.i,8),Zt=c.getPatternAttr(Pe.solidity,Se.i,.3);me=me||Se.mcc||P.isArrayOrTypedArray(Pe.shape)||P.isArrayOrTypedArray(Pe.bgcolor)||P.isArrayOrTypedArray(Pe.fgcolor)||P.isArrayOrTypedArray(Pe.size)||P.isArrayOrTypedArray(Pe.solidity);var At=Me.uid;me&&(At+="-"+Se.i),c.pattern(ke,"point",tt,At,Ye,Wt,Zt,Se.mcc,Pe.fillmode,ot,$e,st)}else P.isArrayOrTypedArray(rt)?p.fill(ke,rt[Se.i]):p.fill(ke,rt);Ge&&p.stroke(ke,ze)}},c.makePointStyleFns=function(Se){var ke={},Me=Se.marker;return ke.markerScale=c.tryColorscale(Me,""),ke.lineScale=c.tryColorscale(Me,"line"),v.traceIs(Se,"symbols")&&(ke.ms2mrc=g.isBubble(Se)?h(Se):function(){return(Me.size||6)/2}),Se.selectedpoints&&P.extendFlat(ke,c.makeSelectedPointStyleFns(Se)),ke},c.makeSelectedPointStyleFns=function(Se){var ke={},Me=Se.selected||{},Ve=Se.unselected||{},tt=Se.marker||{},it=Me.marker||{},Je=Ve.marker||{},Qe=tt.opacity,ct=it.opacity,ht=Je.opacity,dt=ct!==void 0,Tt=ht!==void 0;(P.isArrayOrTypedArray(Qe)||dt||Tt)&&(ke.selectedOpacityFn=function(Ye){var Ce=Ye.mo===void 0?tt.opacity:Ye.mo;return Ye.selected?dt?ct:Ce:Tt?ht:l*Ce});var Et=tt.color,rt=it.color,ze=Je.color;(rt||ze)&&(ke.selectedColorFn=function(Ye){var Ce=Ye.mcc||Et;return Ye.selected?rt||Ce:ze||Ce});var Ge=tt.size,je=it.size,We=Je.size,Le=je!==void 0,Pe=We!==void 0;return v.traceIs(Se,"symbols")&&(Le||Pe)&&(ke.selectedSizeFn=function(Ye){var Ce=Ye.mrc||Ge/2;return Ye.selected?Le?je/2:Ce:Pe?We/2:Ce}),ke},c.makeSelectedTextStyleFns=function(Se){var ke={},Me=Se.selected||{},Ve=Se.unselected||{},tt=Se.textfont||{},it=Me.textfont||{},Je=Ve.textfont||{},Qe=tt.color,ct=it.color,ht=Je.color;return ke.selectedTextColorFn=function(dt){var Tt=dt.tc||Qe;return dt.selected?ct||Tt:ht||(ct?Tt:p.addOpacity(Tt,l))},ke},c.selectedPointStyle=function(Se,ke){if(!(!Se.size()||!ke.selectedpoints)){var Me=c.makeSelectedPointStyleFns(ke),Ve=ke.marker||{},tt=[];Me.selectedOpacityFn&&tt.push(function(it,Je){it.style("opacity",Me.selectedOpacityFn(Je))}),Me.selectedColorFn&&tt.push(function(it,Je){p.fill(it,Me.selectedColorFn(Je))}),Me.selectedSizeFn&&tt.push(function(it,Je){var Qe=Je.mx||Ve.symbol||0,ct=Me.selectedSizeFn(Je);it.attr("d",o(c.symbolNumber(Qe),ct,Re(Je,ke),Y(Je,ke))),Je.mrc2=ct}),tt.length&&Se.each(function(it){for(var Je=m.select(this),Qe=0;Qe<tt.length;Qe++)tt[Qe](Je,it)})}},c.tryColorscale=function(Se,ke){var Me=ke?P.nestedProperty(Se,ke).get():Se;if(Me){var Ve=Me.color;if((Me.colorscale||Me._colorAx)&&P.isArrayOrTypedArray(Ve))return r.makeColorScaleFuncFromTrace(Me)}return P.identity};var D={start:1,end:-1,middle:0,bottom:1,top:-1};function N(Se,ke,Me,Ve,tt){var it=m.select(Se.node().parentNode),Je=ke.indexOf("top")!==-1?"top":ke.indexOf("bottom")!==-1?"bottom":"middle",Qe=ke.indexOf("left")!==-1?"end":ke.indexOf("right")!==-1?"start":"middle",ct=Ve?Ve/.8+1:0,ht=(a.lineCount(Se)-1)*u+1,dt=D[Qe]*ct,Tt=Me*.75+D[Je]*ct+(D[Je]-1)*ht*Me/2;Se.attr("text-anchor",Qe),tt||it.attr("transform",t(dt,Tt))}function k(Se,ke){var Me=Se.ts||ke.textfont.size;return L(Me)&&Me>0?Me:0}c.textPointStyle=function(Se,ke,Me){if(Se.size()){var Ve;if(ke.selectedpoints){var tt=c.makeSelectedTextStyleFns(ke);Ve=tt.selectedTextColorFn}var it=ke.texttemplate,Je=Me._fullLayout;Se.each(function(Qe){var ct=m.select(this),ht=it?P.extractOption(Qe,ke,"txt","texttemplate"):P.extractOption(Qe,ke,"tx","text");if(!ht&&ht!==0){ct.remove();return}if(it){var dt=ke._module.formatLabels,Tt=dt?dt(Qe,ke,Je):{},Et={};T(Et,ke,Qe.i);var rt=ke._meta||{};ht=P.texttemplateString(ht,Tt,Je._d3locale,Et,Qe,rt)}var ze=Qe.tp||ke.textposition,Ge=k(Qe,ke),je=Ve?Ve(Qe):Qe.tc||ke.textfont.color;ct.call(c.font,{family:Qe.tf||ke.textfont.family,weight:Qe.tw||ke.textfont.weight,style:Qe.ty||ke.textfont.style,variant:Qe.tv||ke.textfont.variant,textcase:Qe.tC||ke.textfont.textcase,lineposition:Qe.tE||ke.textfont.lineposition,shadow:Qe.tS||ke.textfont.shadow,size:Ge,color:je}).text(ht).call(a.convertToTspans,Me).call(N,ze,Ge,Qe.mrc)})}},c.selectedTextStyle=function(Se,ke){if(!(!Se.size()||!ke.selectedpoints)){var Me=c.makeSelectedTextStyleFns(ke);Se.each(function(Ve){var tt=m.select(this),it=Me.selectedTextColorFn(Ve),Je=Ve.tp||ke.textposition,Qe=k(Ve,ke);p.fill(tt,it);var ct=v.traceIs(ke,"bar-like");N(tt,Je,Qe,Ve.mrc2||Ve.mrc,ct)})}};var O=.5;c.smoothopen=function(Se,ke){if(Se.length<3)return"M"+Se.join("L");var Me="M"+Se[0],Ve=[],tt;for(tt=1;tt<Se.length-1;tt++)Ve.push(re(Se[tt-1],Se[tt],Se[tt+1],ke));for(Me+="Q"+Ve[0][0]+" "+Se[1],tt=2;tt<Se.length-1;tt++)Me+="C"+Ve[tt-2][1]+" "+Ve[tt-1][0]+" "+Se[tt];return Me+="Q"+Ve[Se.length-3][1]+" "+Se[Se.length-1],Me},c.smoothclosed=function(Se,ke){if(Se.length<3)return"M"+Se.join("L")+"Z";var Me="M"+Se[0],Ve=Se.length-1,tt=[re(Se[Ve],Se[0],Se[1],ke)],it;for(it=1;it<Ve;it++)tt.push(re(Se[it-1],Se[it],Se[it+1],ke));for(tt.push(re(Se[Ve-1],Se[Ve],Se[0],ke)),it=1;it<=Ve;it++)Me+="C"+tt[it-1][1]+" "+tt[it][0]+" "+Se[it];return Me+="C"+tt[Ve][1]+" "+tt[0][0]+" "+Se[0]+"Z",Me};var F,z;function B(Se,ke,Me){return Me&&(Se=$(Se)),ke?J(Se[1]):W(Se[0])}function W(Se){var ke=m.round(Se,2);return F=ke,ke}function J(Se){var ke=m.round(Se,2);return z=ke,ke}function re(Se,ke,Me,Ve){var tt=Se[0]-ke[0],it=Se[1]-ke[1],Je=Me[0]-ke[0],Qe=Me[1]-ke[1],ct=Math.pow(tt*tt+it*it,O/2),ht=Math.pow(Je*Je+Qe*Qe,O/2),dt=(ht*ht*tt-ct*ct*Je)*Ve,Tt=(ht*ht*it-ct*ct*Qe)*Ve,Et=3*ht*(ct+ht),rt=3*ct*(ct+ht);return[[W(ke[0]+(Et&&dt/Et)),J(ke[1]+(Et&&Tt/Et))],[W(ke[0]-(rt&&dt/rt)),J(ke[1]-(rt&&Tt/rt))]]}var ne={hv:function(Se,ke,Me){return"H"+W(ke[0])+"V"+B(ke,1,Me)},vh:function(Se,ke,Me){return"V"+J(ke[1])+"H"+B(ke,0,Me)},hvh:function(Se,ke,Me){return"H"+W((Se[0]+ke[0])/2)+"V"+J(ke[1])+"H"+B(ke,0,Me)},vhv:function(Se,ke,Me){return"V"+J((Se[1]+ke[1])/2)+"H"+W(ke[0])+"V"+B(ke,1,Me)}},le=function(Se,ke,Me){return"L"+B(ke,0,Me)+","+B(ke,1,Me)};c.steps=function(Se){var ke=ne[Se]||le;return function(Me){for(var Ve="M"+W(Me[0][0])+","+J(Me[0][1]),tt=Me.length,it=1;it<tt;it++)Ve+=ke(Me[it-1],Me[it],it===tt-1);return Ve}};function $(Se,ke){var Me=Se.backoff,Ve=Se.trace,tt=Se.d,it=Se.i;if(Me&&Ve&&Ve.marker&&Ve.marker.angle%360===0&&Ve.line&&Ve.line.shape!=="spline"){var Je=P.isArrayOrTypedArray(Me),Qe=Se,ct=ke?ke[0]:F||0,ht=ke?ke[1]:z||0,dt=Qe[0],Tt=Qe[1],Et=dt-ct,rt=Tt-ht,ze=Math.atan2(rt,Et),Ge=Je?Me[it]:Me;if(Ge==="auto"){var je=Qe.i;Ve.type==="scatter"&&je--;var We=Qe.marker,Le=We.symbol;P.isArrayOrTypedArray(Le)&&(Le=Le[je]);var Pe=We.size;P.isArrayOrTypedArray(Pe)&&(Pe=Pe[je]),Ge=We?c.symbolBackOffs[c.symbolNumber(Le)]*Pe:0,Ge+=c.getMarkerStandoff(tt[je],Ve)||0}var Ye=dt-Ge*Math.cos(ze),Ce=Tt-Ge*Math.sin(ze);(Ye<=dt&&Ye>=ct||Ye>=dt&&Ye<=ct)&&(Ce<=Tt&&Ce>=ht||Ce>=Tt&&Ce<=ht)&&(Se=[Ye,Ce])}return Se}c.applyBackoff=$,c.makeTester=function(){var Se=P.ensureSingleById(m.select("body"),"svg","js-plotly-tester",function(Me){Me.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ke=P.ensureSingle(Se,"path","js-reference-point",function(Me){Me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=Se,c.testref=ke},c.savedBBoxes={};var Z=0,ie=1e4;c.bBox=function(Se,ke,Me){Me||(Me=X(Se));var Ve;if(Me){if(Ve=c.savedBBoxes[Me],Ve)return P.extendFlat({},Ve)}else if(Se.childNodes.length===1){var tt=Se.childNodes[0];if(Me=X(tt),Me){var it=+tt.getAttribute("x")||0,Je=+tt.getAttribute("y")||0,Qe=tt.getAttribute("transform");if(!Qe){var ct=c.bBox(tt,!1,Me);return it&&(ct.left+=it,ct.right+=it),Je&&(ct.top+=Je,ct.bottom+=Je),ct}if(Me+="~"+it+"~"+Je+"~"+Qe,Ve=c.savedBBoxes[Me],Ve)return P.extendFlat({},Ve)}}var ht,dt;ke?ht=Se:(dt=c.tester.node(),ht=Se.cloneNode(!0),dt.appendChild(ht)),m.select(ht).attr("transform",null).call(a.positionText,0,0);var Tt=ht.getBoundingClientRect(),Et=c.testref.node().getBoundingClientRect();ke||dt.removeChild(ht);var rt={height:Tt.height,width:Tt.width,left:Tt.left-Et.left,top:Tt.top-Et.top,right:Tt.right-Et.left,bottom:Tt.bottom-Et.top};return Z>=ie&&(c.savedBBoxes={},Z=0),Me&&(c.savedBBoxes[Me]=rt),Z++,P.extendFlat({},rt)};function X(Se){var ke=Se.getAttribute("data-unformatted");if(ke!==null)return ke+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}c.setClipUrl=function(Se,ke,Me){Se.attr("clip-path",Q(ke,Me))};function Q(Se,ke){if(!Se)return null;var Me=ke._context,Ve=Me._exportedPlot?"":Me._baseUrl||"";return Ve?"url('"+Ve+"#"+Se+"')":"url(#"+Se+")"}c.getTranslate=function(Se){var ke=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Me=Se.attr?"attr":"getAttribute",Ve=Se[Me]("transform")||"",tt=Ve.replace(ke,function(it,Je,Qe){return[Je,Qe].join(" ")}).split(" ");return{x:+tt[0]||0,y:+tt[1]||0}},c.setTranslate=function(Se,ke,Me){var Ve=/(\btranslate\(.*?\);?)/,tt=Se.attr?"attr":"getAttribute",it=Se.attr?"attr":"setAttribute",Je=Se[tt]("transform")||"";return ke=ke||0,Me=Me||0,Je=Je.replace(Ve,"").trim(),Je+=t(ke,Me),Je=Je.trim(),Se[it]("transform",Je),Je},c.getScale=function(Se){var ke=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Me=Se.attr?"attr":"getAttribute",Ve=Se[Me]("transform")||"",tt=Ve.replace(ke,function(it,Je,Qe){return[Je,Qe].join(" ")}).split(" ");return{x:+tt[0]||1,y:+tt[1]||1}},c.setScale=function(Se,ke,Me){var Ve=/(\bscale\(.*?\);?)/,tt=Se.attr?"attr":"getAttribute",it=Se.attr?"attr":"setAttribute",Je=Se[tt]("transform")||"";return ke=ke||1,Me=Me||1,Je=Je.replace(Ve,"").trim(),Je+="scale("+ke+","+Me+")",Je=Je.trim(),Se[it]("transform",Je),Je};var oe=/\s*sc.*/;c.setPointGroupScale=function(Se,ke,Me){if(ke=ke||1,Me=Me||1,!!Se){var Ve=ke===1&&Me===1?"":"scale("+ke+","+Me+")";Se.each(function(){var tt=(this.getAttribute("transform")||"").replace(oe,"");tt+=Ve,tt=tt.trim(),this.setAttribute("transform",tt)})}};var j=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(Se,ke,Me){Se&&Se.each(function(){var Ve,tt=m.select(this),it=tt.select("text");if(it.node()){var Je=parseFloat(it.attr("x")||0),Qe=parseFloat(it.attr("y")||0),ct=(tt.attr("transform")||"").match(j);ke===1&&Me===1?Ve=[]:Ve=[t(Je,Qe),"scale("+ke+","+Me+")",t(-Je,-Qe)],ct&&Ve.push(ct),tt.attr("transform",Ve.join(""))}})};function Y(Se,ke){var Me;return Se&&(Me=Se.mf),Me===void 0&&(Me=ke.marker&&ke.marker.standoff||0),!ke._geo&&!ke._xA?-Me:Me}c.getMarkerStandoff=Y;var se=Math.atan2,te=Math.cos,fe=Math.sin;function ge(Se,ke){var Me=ke[0],Ve=ke[1];return[Me*te(Se)-Ve*fe(Se),Me*fe(Se)+Ve*te(Se)]}var be,xe,_e,De,Fe,Te;function Re(Se,ke){var Me=Se.ma;Me===void 0&&(Me=ke.marker.angle,(!Me||P.isArrayOrTypedArray(Me))&&(Me=0));var Ve,tt,it=ke.marker.angleref;if(it==="previous"||it==="north"){if(ke._geo){var Je=ke._geo.project(Se.lonlat);Ve=Je[0],tt=Je[1]}else{var Qe=ke._xA,ct=ke._yA;if(Qe&&ct)Ve=Qe.c2p(Se.x),tt=ct.c2p(Se.y);else return 90}if(ke._geo){var ht=Se.lonlat[0],dt=Se.lonlat[1],Tt=ke._geo.project([ht,dt+1e-5]),Et=ke._geo.project([ht+1e-5,dt]),rt=se(Et[1]-tt,Et[0]-Ve),ze=se(Tt[1]-tt,Tt[0]-Ve),Ge;if(it==="north")Ge=Me/180*Math.PI;else if(it==="previous"){var je=ht/180*Math.PI,We=dt/180*Math.PI,Le=be/180*Math.PI,Pe=xe/180*Math.PI,Ye=Le-je,Ce=te(Pe)*fe(Ye),he=fe(Pe)*te(We)-te(Pe)*fe(We)*te(Ye);Ge=-se(Ce,he)-Math.PI,be=ht,xe=dt}var me=ge(rt,[te(Ge),0]),Ne=ge(ze,[fe(Ge),0]);Me=se(me[1]+Ne[1],me[0]+Ne[0])/Math.PI*180,it==="previous"&&!(Te===ke.uid&&Se.i===Fe+1)&&(Me=null)}if(it==="previous"&&!ke._geo)if(Te===ke.uid&&Se.i===Fe+1&&L(Ve)&&L(tt)){var $e=Ve-_e,ot=tt-De,st=ke.line&&ke.line.shape||"",Wt=st.slice(st.length-1);Wt==="h"&&(ot=0),Wt==="v"&&($e=0),Me+=se(ot,$e)/Math.PI*180+90}else Me=null}return _e=Ve,De=tt,Fe=Se.i,Te=ke.uid,Me}c.getMarkerAngle=Re},71984:function(G,H,e){var m=e(21984),P=e(33428).round,s="M0,0Z",L=Math.sqrt(2),S=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return T?l(h,T,i):i}},square:{n:1,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(g,h,T){if(t(h))return s;var c=P(g*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(g,h,T){if(t(h))return s;var c=P(g*.4,2),i=P(g*1.2,2);return l(h,T,"M"+i+","+c+"H"+c+"V"+i+"H-"+c+"V"+c+"H-"+i+"V-"+c+"H-"+c+"V-"+i+"H"+c+"V-"+c+"H"+i+"Z")}},x:{n:4,f:function(g,h,T){if(t(h))return s;var c=P(g*.8/L,2),i="l"+c+","+c,d="l"+c+",-"+c,b="l-"+c+",-"+c,w="l-"+c+","+c;return l(h,T,"M0,"+c+i+d+b+d+b+w+b+w+i+w+i+"Z")}},"triangle-up":{n:5,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),i=P(g/2,2),d=P(g,2);return l(h,T,"M-"+c+","+i+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),i=P(g/2,2),d=P(g,2);return l(h,T,"M-"+c+",-"+i+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),i=P(g/2,2),d=P(g,2);return l(h,T,"M"+i+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),i=P(g/2,2),d=P(g,2);return l(h,T,"M-"+i+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),i=P(g*1.2,2);return l(h,T,"M-"+i+",-"+c+"H"+c+"V"+i+"Z")}},"triangle-se":{n:10,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),i=P(g*1.2,2);return l(h,T,"M"+c+",-"+i+"V"+c+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),i=P(g*1.2,2);return l(h,T,"M"+i+","+c+"H-"+c+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),i=P(g*1.2,2);return l(h,T,"M-"+c+","+i+"V-"+c+"H"+i+"Z")}},pentagon:{n:13,f:function(g,h,T){if(t(h))return s;var c=P(g*.951,2),i=P(g*.588,2),d=P(-g,2),b=P(g*-.309,2),w=P(g*.809,2);return l(h,T,"M"+c+","+b+"L"+i+","+w+"H-"+i+"L-"+c+","+b+"L0,"+d+"Z")}},hexagon:{n:14,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g/2,2),d=P(g*S/2,2);return l(h,T,"M"+d+",-"+i+"V"+i+"L0,"+c+"L-"+d+","+i+"V-"+i+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g/2,2),d=P(g*S/2,2);return l(h,T,"M-"+i+","+d+"H"+i+"L"+c+",0L"+i+",-"+d+"H-"+i+"L-"+c+",0Z")}},octagon:{n:16,f:function(g,h,T){if(t(h))return s;var c=P(g*.924,2),i=P(g*.383,2);return l(h,T,"M-"+i+",-"+c+"H"+i+"L"+c+",-"+i+"V"+i+"L"+i+","+c+"H-"+i+"L-"+c+","+i+"V-"+i+"Z")}},star:{n:17,f:function(g,h,T){if(t(h))return s;var c=g*1.4,i=P(c*.225,2),d=P(c*.951,2),b=P(c*.363,2),w=P(c*.588,2),C=P(-c,2),y=P(c*-.309,2),E=P(c*.118,2),A=P(c*.809,2),o=P(c*.382,2);return l(h,T,"M"+i+","+y+"H"+d+"L"+b+","+E+"L"+w+","+A+"L0,"+o+"L-"+w+","+A+"L-"+b+","+E+"L-"+d+","+y+"H-"+i+"L0,"+C+"Z")}},hexagram:{n:18,f:function(g,h,T){if(t(h))return s;var c=P(g*.66,2),i=P(g*.38,2),d=P(g*.76,2);return l(h,T,"M-"+d+",0l-"+i+",-"+c+"h"+d+"l"+i+",-"+c+"l"+i+","+c+"h"+d+"l-"+i+","+c+"l"+i+","+c+"h-"+d+"l-"+i+","+c+"l-"+i+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(g,h,T){if(t(h))return s;var c=P(g*S*.8,2),i=P(g*.8,2),d=P(g*1.6,2),b=P(g*4,2),w="A "+b+","+b+" 0 0 1 ";return l(h,T,"M-"+c+","+i+w+c+","+i+w+"0,-"+d+w+"-"+c+","+i+"Z")}},"star-triangle-down":{n:20,f:function(g,h,T){if(t(h))return s;var c=P(g*S*.8,2),i=P(g*.8,2),d=P(g*1.6,2),b=P(g*4,2),w="A "+b+","+b+" 0 0 1 ";return l(h,T,"M"+c+",-"+i+w+"-"+c+",-"+i+w+"0,"+d+w+c+",-"+i+"Z")}},"star-square":{n:21,f:function(g,h,T){if(t(h))return s;var c=P(g*1.1,2),i=P(g*2,2),d="A "+i+","+i+" 0 0 1 ";return l(h,T,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2),i=P(g*1.9,2),d="A "+i+","+i+" 0 0 1 ";return l(h,T,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(g,h,T){if(t(h))return s;var c=P(g*.7,2),i=P(g*1.4,2);return l(h,T,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2),i=P(g*.7,2);return l(h,T,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},hourglass:{n:25,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g/L,2);return l(h,T,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,h,T){if(t(h))return s;var c=P(g*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,h,T){if(t(h))return s;var c=P(g*1.3,2),i=P(g*.65,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),i=P(g*.85,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,h,T){if(t(h))return s;var c=P(g/2,2),i=P(g,2);return l(h,T,"M"+c+","+i+"V-"+i+"M"+(c-i)+",-"+i+"V"+i+"M"+i+","+c+"H-"+i+"M-"+i+","+(c-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),i=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),i=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),i=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),i=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2);return l(h,T,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2);return l(h,T,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g*2,2);return l(h,T,"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g*2,2);return l(h,T,"M0,0L-"+c+",-"+i+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),i=P(g,2);return l(h,T,"M0,0L"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),i=P(g,2);return l(h,T,"M0,0L-"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,h,T){if(t(h))return s;var c=P(g,2),i=P(g*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+i+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),i=P(g,2);return l(h,T,"M0,-"+i+"V"+i+"M0,0L"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),i=P(g,2);return l(h,T,"M0,-"+i+"V"+i+"M0,0L-"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,h,T){if(t(h))return s;var c=v/2.5,i=2*g*p(c),d=2*g*r(c);return l(h,T,"M0,0L"+-i+","+d+"L"+i+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,h,T){if(t(h))return s;var c=v/4,i=2*g*p(c),d=2*g*r(c);return l(h,T,"M0,0L"+-i+","+d+"A "+2*g+","+2*g+" 0 0 1 "+i+","+d+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var a,n,f,u;function l(g,h,T){if((!g||g%360===0)&&!h)return T;if(f===g&&u===h&&a===T)return n;f=g,u=h,a=T;function c(D,N){var k=p(D),O=r(D),F=N[0],z=N[1]+(h||0);return[F*k-z*O,F*O+z*k]}for(var i=g/180*v,d=0,b=0,w=m(T),C="",y=0;y<w.length;y++){var E=w[y],A=E[0],o=d,M=b;if(A==="M"||A==="L")d=+E[1],b=+E[2];else if(A==="m"||A==="l")d+=+E[1],b+=+E[2];else if(A==="H")d=+E[1];else if(A==="h")d+=+E[1];else if(A==="V")b=+E[1];else if(A==="v")b+=+E[1];else if(A==="A"){d=+E[1],b=+E[2];var x=c(i,[+E[6],+E[7]]);E[6]=x[0],E[7]=x[1],E[3]=+E[3]+g}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(d-=o,b-=M);var I=c(i,[d,b]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(E[1]=I[0],E[2]=I[1]),E[0]=A,C+=E[0]+E.slice(1).join(",")}return n=C,C}},97644:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(G,H,e){var m=e(38248),P=e(24040),s=e(54460),L=e(3400),S=e(93792);G.exports=function(r){for(var t=r.calcdata,a=0;a<t.length;a++){var n=t[a],f=n[0].trace;if(f.visible===!0&&P.traceIs(f,"errorBarsOK")){var u=s.getFromId(r,f.xaxis),l=s.getFromId(r,f.yaxis);v(n,f,u,"x"),v(n,f,l,"y")}}};function v(p,r,t,a){var n=r["error_"+a]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(f){for(var l=S(n),g=0;g<p.length;g++){var h=p[g],T=h.i;if(T===void 0)T=g;else if(T===null)continue;var c=h[a];if(m(t.c2l(c))){var i=l(c,T);if(m(i[0])&&m(i[1])){var d=h[a+"s"]=c-i[0],b=h[a+"h"]=c+i[1];u.push(d,b)}}}var w=t._id,C=r._extremes[w],y=s.findExtremes(t,u,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(y.min),C.max=C.max.concat(y.max)}}},93792:function(G){G.exports=function(m){var P=m.type,s=m.symmetric;if(P==="data"){var L=m.array||[];if(s)return function(t,a){var n=+L[a];return[n,n]};var S=m.arrayminus||[];return function(t,a){var n=+L[a],f=+S[a];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=H(P,m.value),p=H(P,m.valueminus);return s||m.valueminus===void 0?function(t){var a=v(t);return[a,a]}:function(t){return[p(t),v(t)]}}};function H(e,m){if(e==="percent")return function(P){return Math.abs(P*m/100)};if(e==="constant")return function(){return Math.abs(m)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(G,H,e){var m=e(38248),P=e(24040),s=e(3400),L=e(31780),S=e(97644);G.exports=function(v,p,r,t){var a="error_"+t.axis,n=L.newContainer(p,a),f=v[a]||{};function u(d,b){return s.coerce(f,n,S,d,b)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",g=u("visible",l);if(g!==!1){var h=u("type","array"in f?"data":"percent"),T=!0;h!=="sqrt"&&(T=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),T||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var i=p["error_"+t.inherit];(i||{}).visible&&u(c,!(f.color||m(f.thickness)||m(f.width)))}(!t.inherit||!n[c])&&(u("color",r),u("thickness"),u("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(G,H,e){var m=e(3400),P=e(67824).overrideAll,s=e(97644),L={error_x:m.extendFlat({},s),error_y:m.extendFlat({},s)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var S={error_x:m.extendFlat({},s),error_y:m.extendFlat({},s),error_z:m.extendFlat({},s)};delete S.error_x.copy_ystyle,delete S.error_y.copy_ystyle,delete S.error_z.copy_ystyle,delete S.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(S,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(G,H,e){var m=e(33428),P=e(38248),s=e(43616),L=e(43028);G.exports=function(p,r,t,a){var n,f=t.xaxis,u=t.yaxis,l=a&&a.duration>0,g=p._context.staticPlot;r.each(function(h){var T=h[0].trace,c=T.error_x||{},i=T.error_y||{},d;T.ids&&(d=function(y){return y.id});var b=L.hasMarkers(T)&&T.marker.maxdisplayed>0;!i.visible&&!c.visible&&(h=[]);var w=m.select(this).selectAll("g.errorbar").data(h,d);if(w.exit().remove(),!!h.length){c.visible||w.selectAll("path.xerror").remove(),i.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var C=w.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(a.duration).style("opacity",1),s.setClipUrl(w,t.layerClipId,p),w.each(function(y){var E=m.select(this),A=S(y,f,u);if(!(b&&!y.vis)){var o,M=E.select("path.yerror");if(i.visible&&P(A.x)&&P(A.yh)&&P(A.ys)){var x=i.width;o="M"+(A.x-x)+","+A.yh+"h"+2*x+"m-"+x+",0V"+A.ys,A.noYS||(o+="m-"+x+",0h"+2*x),n=!M.size(),n?M=E.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):l&&(M=M.transition().duration(a.duration).ease(a.easing)),M.attr("d",o)}else M.remove();var I=E.select("path.xerror");if(c.visible&&P(A.y)&&P(A.xh)&&P(A.xs)){var D=(c.copy_ystyle?i:c).width;o="M"+A.xh+","+(A.y-D)+"v"+2*D+"m0,-"+D+"H"+A.xs,A.noXS||(o+="m0,-"+D+"v"+2*D),n=!I.size(),n?I=E.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):l&&(I=I.transition().duration(a.duration).ease(a.easing)),I.attr("d",o)}else I.remove()}})}})};function S(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(G,H,e){var m=e(33428),P=e(76308);G.exports=function(L){L.each(function(S){var v=S[0].trace,p=v.error_y||{},r=v.error_x||{},t=m.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(G,H,e){var m=e(25376),P=e(65460).hoverlabel,s=e(92880).extendFlat;G.exports={hoverlabel:{bgcolor:s({},P.bgcolor,{arrayOk:!0}),bordercolor:s({},P.bordercolor,{arrayOk:!0}),font:m({arrayOk:!0,editType:"none"}),align:s({},P.align,{arrayOk:!0}),namelength:s({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(G,H,e){var m=e(3400),P=e(24040);G.exports=function(S){var v=S.calcdata,p=S._fullLayout;function r(u){return function(l){return m.coerceHoverinfo({hoverinfo:l},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var a=v[t],n=a[0].trace;if(!P.traceIs(n,"pie-like")){var f=P.traceIs(n,"2dMap")?s:m.fillArray;f(n.hoverinfo,a,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,a,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,a,"hbg"),f(n.hoverlabel.bordercolor,a,"hbc"),f(n.hoverlabel.font.size,a,"hts"),f(n.hoverlabel.font.color,a,"htc"),f(n.hoverlabel.font.family,a,"htf"),f(n.hoverlabel.font.weight,a,"htw"),f(n.hoverlabel.font.style,a,"hty"),f(n.hoverlabel.font.variant,a,"htv"),f(n.hoverlabel.namelength,a,"hnl"),f(n.hoverlabel.align,a,"hta"))}}};function s(L,S,v,p){p=p||m.identity,Array.isArray(L)&&(S[0][v]=p(L))}},62376:function(G,H,e){var m=e(24040),P=e(83292).hover;G.exports=function(L,S,v){var p=m.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,S,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:S})}L._hoverdata&&S&&S.target&&(p&&p.then?p.then(r):r(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},92456:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(G,H,e){var m=e(3400),P=e(55756),s=e(16132);G.exports=function(S,v,p,r){function t(n,f){return m.coerce(S,v,P,n,f)}var a=m.extendFlat({},r.hoverlabel);v.hovertemplate&&(a.namelength=-1),s(S,v,t,a)}},10624:function(G,H,e){var m=e(3400);H.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},H.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],a=p.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<a.length;f++)if(r.indexOf(t[n]+a[f])!==-1)return!0;return!1}return r.indexOf(H.getSubplot(p))!==-1},H.flat=function(p,r){for(var t=new Array(p.length),a=0;a<p.length;a++)t[a]=r;return t},H.p2c=function(p,r){for(var t=new Array(p.length),a=0;a<p.length;a++)t[a]=p[a].p2c(r);return t},H.getDistanceFunction=function(p,r,t,a){return p==="closest"?a||H.quadrature(r,t):p.charAt(0)==="x"?r:t},H.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var a=0;a<p.length;a++){var n=r(p[a]);n<=t.distance&&(t.index=a,t.distance=n)}return t},H.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},H.quadrature=function(p,r){return function(t){var a=p(t),n=r(t);return Math.sqrt(a*a+n*n)}},H.makeEventData=function(p,r,t){var a="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:a};if(r._indexToPoints){var f=r._indexToPoints[a];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=a;return r._module.eventData?n=r._module.eventData(n,p,r,t,a):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),H.appendArrayPointValue(n,r,a),n},H.appendArrayPointValue=function(p,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],u=s(f);if(p[u]===void 0){var l=m.nestedProperty(r,f).get(),g=L(l,t);g!==void 0&&(p[u]=g)}}},H.appendArrayMultiPointValues=function(p,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],u=s(f);if(p[u]===void 0){for(var l=m.nestedProperty(r,f).get(),g=new Array(t.length),h=0;h<t.length;h++)g[h]=L(l,t[h]);p[u]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(p){return P[p]||p}function L(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var S={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},H.isXYhover=function(p){return typeof p!="string"?!1:!!S[p]}},83292:function(G,H,e){var m=e(33428),P=e(38248),s=e(49760),L=e(3400),S=L.pushUnique,v=L.strTranslate,p=L.strRotate,r=e(95924),t=e(72736),a=e(72213),n=e(43616),f=e(76308),u=e(86476),l=e(54460),g=e(24040),h=e(10624),T=e(92456),c=e(77864),i=e(31140),d=T.YANGLE,b=Math.PI*d/180,w=1/Math.sin(b),C=Math.cos(b),y=Math.sin(b),E=T.HOVERARROWSIZE,A=T.HOVERTEXTPAD,o={box:!0,ohlc:!0,violin:!0,candlestick:!0},M={scatter:!0,scattergl:!0,splom:!0};function x(j,Y){return j.distance-Y.distance}H.hover=function(Y,se,te,fe){Y=L.getGraphDiv(Y);var ge=se.target;L.throttle(Y._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){I(Y,se,te,fe,ge)})},H.loneHover=function(Y,se){var te=!0;Array.isArray(Y)||(te=!1,Y=[Y]);var fe=se.gd,ge=X(fe),be=Q(fe),xe=Y.map(function(Ve){var tt=Ve._x0||Ve.x0||Ve.x||0,it=Ve._x1||Ve.x1||Ve.x||0,Je=Ve._y0||Ve.y0||Ve.y||0,Qe=Ve._y1||Ve.y1||Ve.y||0,ct=Ve.eventData;if(ct){var ht=Math.min(tt,it),dt=Math.max(tt,it),Tt=Math.min(Je,Qe),Et=Math.max(Je,Qe),rt=Ve.trace;if(g.traceIs(rt,"gl3d")){var ze=fe._fullLayout[rt.scene]._scene.container,Ge=ze.offsetLeft,je=ze.offsetTop;ht+=Ge,dt+=Ge,Tt+=je,Et+=je}ct.bbox={x0:ht+be,x1:dt+be,y0:Tt+ge,y1:Et+ge},se.inOut_bbox&&se.inOut_bbox.push(ct.bbox)}else ct=!1;return{color:Ve.color||f.defaultLine,x0:Ve.x0||Ve.x||0,x1:Ve.x1||Ve.x||0,y0:Ve.y0||Ve.y||0,y1:Ve.y1||Ve.y||0,xLabel:Ve.xLabel,yLabel:Ve.yLabel,zLabel:Ve.zLabel,text:Ve.text,name:Ve.name,idealAlign:Ve.idealAlign,borderColor:Ve.borderColor,fontFamily:Ve.fontFamily,fontSize:Ve.fontSize,fontColor:Ve.fontColor,fontWeight:Ve.fontWeight,fontStyle:Ve.fontStyle,fontVariant:Ve.fontVariant,nameLength:Ve.nameLength,textAlign:Ve.textAlign,trace:Ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ve.hovertemplate||!1,hovertemplateLabels:Ve.hovertemplateLabels||!1,eventData:ct}}),_e=!1,De=k(xe,{gd:fe,hovermode:"closest",rotateLabels:_e,bgColor:se.bgColor||f.background,container:m.select(se.container),outerContainer:se.outerContainer||se.container}),Fe=De.hoverLabels,Te=5,Re=0,Se=0;Fe.sort(function(Ve,tt){return Ve.y0-tt.y0}).each(function(Ve,tt){var it=Ve.y0-Ve.by/2;it-Te<Re?Ve.offset=Re-it+Te:Ve.offset=0,Re=it+Ve.by+Ve.offset,tt===se.anchorIndex&&(Se=Ve.offset)}).each(function(Ve){Ve.offset-=Se});var ke=fe._fullLayout._invScaleX,Me=fe._fullLayout._invScaleY;return W(Fe,_e,ke,Me),te?Fe:Fe.node()};function I(j,Y,se,te,fe){se||(se="xy");var ge=Array.isArray(se)?se:[se],be,xe=j._fullLayout,_e=xe.hoversubplots,De=xe._plots||[],Fe=De[se],Te=xe._has("cartesian"),Re=Y.hovermode||xe.hovermode,Se=(Re||"").charAt(0)==="x",ke=(Re||"").charAt(0)==="y",Me,Ve;if(Te&&(Se||ke)&&_e==="axis"){for(var tt=ge.length,it=0;it<tt;it++)if(be=ge[it],De[be]){Me=l.getFromId(j,be,"x"),Ve=l.getFromId(j,be,"y");var Je=(Se?Me:Ve)._subplotsWith;if(Je&&Je.length)for(var Qe=0;Qe<Je.length;Qe++)S(ge,Je[Qe])}}if(Fe&&_e!=="single"){var ct=Fe.overlays.map(function(Wn){return Wn.id});ge=ge.concat(ct)}for(var ht=ge.length,dt=new Array(ht),Tt=new Array(ht),Et=!1,rt=0;rt<ht;rt++)if(be=ge[rt],De[be])Et=!0,dt[rt]=De[be].xaxis,Tt[rt]=De[be].yaxis;else if(xe[be]&&xe[be]._subplot){var ze=xe[be]._subplot;dt[rt]=ze.xaxis,Tt[rt]=ze.yaxis}else{L.warn("Unrecognized subplot: "+be);return}if(Re&&!Et&&(Re="closest"),["x","y","closest","x unified","y unified"].indexOf(Re)===-1||!j.calcdata||j.querySelector(".zoombox")||j._dragging)return u.unhoverRaw(j,Y);var Ge=xe.hoverdistance;Ge===-1&&(Ge=1/0);var je=xe.spikedistance;je===-1&&(je=1/0);var We=[],Le=[],Pe,Ye,Ce,he,me,Ne,$e,ot,st,Wt,Zt,At,Rt,Xt={hLinePoint:null,vLinePoint:null},ir=!1;if(Array.isArray(Y))for(Re="array",Ce=0;Ce<Y.length;Ce++)me=j.calcdata[Y[Ce].curveNumber||0],me&&(Ne=me[0].trace,me[0].trace.hoverinfo!=="skip"&&(Le.push(me),Ne.orientation==="h"&&(ir=!0)));else{var pt=j.calcdata.slice();for(pt.sort(function(Wn,Qn){var mr=Wn[0].trace.zorder||0,en=Qn[0].trace.zorder||0;return mr-en}),he=0;he<pt.length;he++)me=pt[he],Ne=me[0].trace,Ne.hoverinfo!=="skip"&&h.isTraceInSubplots(Ne,ge)&&(Le.push(me),Ne.orientation==="h"&&(ir=!0));var Kt=!fe,Qt,yr;if(Kt)"xpx"in Y?Qt=Y.xpx:Qt=dt[0]._length/2,"ypx"in Y?yr=Y.ypx:yr=Tt[0]._length/2;else{if(r.triggerHandler(j,"plotly_beforehover",Y)===!1)return;var ur=fe.getBoundingClientRect();Qt=Y.clientX-ur.left,yr=Y.clientY-ur.top,xe._calcInverseTransform(j);var mt=L.apply3DTransform(xe._invTransform)(Qt,yr);if(Qt=mt[0],yr=mt[1],Qt<0||Qt>dt[0]._length||yr<0||yr>Tt[0]._length)return u.unhoverRaw(j,Y)}if(Y.pointerX=Qt+dt[0]._offset,Y.pointerY=yr+Tt[0]._offset,"xval"in Y?Pe=h.flat(ge,Y.xval):Pe=h.p2c(dt,Qt),"yval"in Y?Ye=h.flat(ge,Y.yval):Ye=h.p2c(Tt,yr),!P(Pe[0])||!P(Ye[0]))return L.warn("Fx.hover failed",Y,j),u.unhoverRaw(j,Y)}var lt=1/0;function bt(Wn,Qn){for(he=0;he<Le.length;he++)if(me=Le[he],!(!me||!me[0]||!me[0].trace)&&(Ne=me[0].trace,!(Ne.visible!==!0||Ne._length===0)&&["carpet","contourcarpet"].indexOf(Ne._module.name)===-1)){if(st=Re,h.isUnifiedHover(st)&&(st=st.charAt(0)),Ne.type==="splom"?(ot=0,$e=ge[ot]):($e=h.getSubplot(Ne),ot=ge.indexOf($e)),At={cd:me,trace:Ne,xa:dt[ot],ya:Tt[ot],maxHoverDistance:Ge,maxSpikeDistance:je,index:!1,distance:Math.min(lt,Ge),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Ne.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},xe[$e]&&(At.subplot=xe[$e]._subplot),xe._splomScenes&&xe._splomScenes[Ne.uid]&&(At.scene=xe._splomScenes[Ne.uid]),st==="array"){var mr=Y[he];"pointNumber"in mr?(At.index=mr.pointNumber,st="closest"):(st="","xval"in mr&&(Wt=mr.xval,st="x"),"yval"in mr&&(Zt=mr.yval,st=st?"closest":"y"))}else Wn!==void 0&&Qn!==void 0?(Wt=Wn,Zt=Qn):(Wt=Pe[ot],Zt=Ye[ot]);if(Rt=We.length,Ge!==0)if(Ne._module&&Ne._module.hoverPoints){var en=Ne._module.hoverPoints(At,Wt,Zt,st,{finiteRange:!0,hoverLayer:xe._hoverlayer,hoversubplots:_e,gd:j});if(en)for(var Jr,vn=0;vn<en.length;vn++)Jr=en[vn],P(Jr.x0)&&P(Jr.y0)&&We.push(J(Jr,Re))}else L.log("Unrecognized trace type in hover:",Ne);if(Re==="closest"&&We.length>Rt&&(We.splice(0,Rt),lt=We[0].distance),Te&&je!==0&&We.length===0){At.distance=je,At.index=!1;var On=Ne._module.hoverPoints(At,Wt,Zt,"closest",{hoverLayer:xe._hoverlayer});if(On&&(On=On.filter(function(Ia){return Ia.spikeDistance<=je})),On&&On.length){var bn,An=On.filter(function(Ia){return Ia.xa.showspikes&&Ia.xa.spikesnap!=="hovered data"});if(An.length){var Nn=An[0];P(Nn.x0)&&P(Nn.y0)&&(bn=Dt(Nn),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>bn.spikeDistance)&&(Xt.vLinePoint=bn))}var $n=On.filter(function(Ia){return Ia.ya.showspikes&&Ia.ya.spikesnap!=="hovered data"});if($n.length){var ha=$n[0];P(ha.x0)&&P(ha.y0)&&(bn=Dt(ha),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>bn.spikeDistance)&&(Xt.hLinePoint=bn))}}}}}bt();function Ct(Wn,Qn,mr){for(var en=null,Jr=1/0,vn,On=0;On<Wn.length;On++)Me&&Me._id!==Wn[On].xa._id||Ve&&Ve._id!==Wn[On].ya._id||(vn=Wn[On].spikeDistance,mr&&On===0&&(vn=-1/0),vn<=Jr&&vn<=Qn&&(en=Wn[On],Jr=vn));return en}function Dt(Wn){return Wn?{xa:Wn.xa,ya:Wn.ya,x:Wn.xSpike!==void 0?Wn.xSpike:(Wn.x0+Wn.x1)/2,y:Wn.ySpike!==void 0?Wn.ySpike:(Wn.y0+Wn.y1)/2,distance:Wn.distance,spikeDistance:Wn.spikeDistance,curveNumber:Wn.trace.index,color:Wn.color,pointNumber:Wn.index}:null}var Ht={fullLayout:xe,container:xe._hoverlayer,event:Y};j._spikepoints;var Bt={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};j._spikepoints=Bt;var xt=function(){var Wn=We.filter(function(mr){return Me&&Me._id===mr.xa._id&&Ve&&Ve._id===mr.ya._id}),Qn=We.filter(function(mr){return!(Me&&Me._id===mr.xa._id&&Ve&&Ve._id===mr.ya._id)});Wn.sort(x),Qn.sort(x),We=Wn.concat(Qn),We=Z(We,Re)};xt();var Ut=Re.charAt(0),qt=(Ut==="x"||Ut==="y")&&We[0]&&M[We[0].trace.type];if(Te&&je!==0&&We.length!==0){var or=We.filter(function(Wn){return Wn.ya.showspikes}),rr=Ct(or,je,qt);Xt.hLinePoint=Dt(rr);var He=We.filter(function(Wn){return Wn.xa.showspikes}),Ue=Ct(He,je,qt);Xt.vLinePoint=Dt(Ue)}if(We.length===0){var Ot=u.unhoverRaw(j,Y);return Te&&(Xt.hLinePoint!==null||Xt.vLinePoint!==null)&&le()&&re(j,Xt,Ht),Ot}if(Te&&le()&&re(j,Xt,Ht),h.isXYhover(st)&&We[0].length!==0&&We[0].trace.type!=="splom"){var It=We[0];o[It.trace.type]?We=We.filter(function(Wn){return Wn.trace.index===It.trace.index}):We=[It];var Jt=We.length,cr=ie("x",It,xe),vr=ie("y",It,xe);bt(cr,vr);var tr=[],Nt={},sr=0,dr=function(Wn){var Qn=o[Wn.trace.type]?D(Wn):Wn.trace.index;if(!Nt[Qn])sr++,Nt[Qn]=sr,tr.push(Wn);else{var mr=Nt[Qn]-1,en=tr[mr];mr>0&&Math.abs(Wn.distance)<Math.abs(en.distance)&&(tr[mr]=Wn)}},xr;for(xr=0;xr<Jt;xr++)dr(We[xr]);for(xr=We.length-1;xr>Jt-1;xr--)dr(We[xr]);We=tr,xt()}var pr=j._hoverdata,Hr=[],_r=X(j),Dr=Q(j);for(Ce=0;Ce<We.length;Ce++){var an=We[Ce],tn=h.makeEventData(an,an.trace,an.cd);if(an.hovertemplate!==!1){var Sn=!1;an.cd[an.index]&&an.cd[an.index].ht&&(Sn=an.cd[an.index].ht),an.hovertemplate=Sn||an.trace.hovertemplate||!1}if(an.xa&&an.ya){var Tn=an.x0+an.xa._offset,Tr=an.x1+an.xa._offset,zr=an.y0+an.ya._offset,jr=an.y1+an.ya._offset,Or=Math.min(Tn,Tr),ln=Math.max(Tn,Tr),fn=Math.min(zr,jr),Mn=Math.max(zr,jr);tn.bbox={x0:Or+Dr,x1:ln+Dr,y0:fn+_r,y1:Mn+_r}}an.eventData=[tn],Hr.push(tn)}j._hoverdata=Hr;var Pn=Re==="y"&&(Le.length>1||We.length>1)||Re==="closest"&&ir&&We.length>1,Hn=f.combine(xe.plot_bgcolor||f.background,xe.paper_bgcolor),ia=k(We,{gd:j,hovermode:Re,rotateLabels:Pn,bgColor:Hn,container:xe._hoverlayer,outerContainer:xe._paper.node(),commonLabelOpts:xe.hoverlabel,hoverdistance:xe.hoverdistance}),ya=ia.hoverLabels;if(h.isUnifiedHover(Re)||(F(ya,Pn,xe,ia.commonLabelBoundingBox),W(ya,Pn,xe._invScaleX,xe._invScaleY)),fe&&fe.tagName){var wa=g.getComponentMethod("annotations","hasClickToShow")(j,Hr);a(m.select(fe),wa?"pointer":"")}!fe||te||!ne(j,Y,pr)||(pr&&j.emit("plotly_unhover",{event:Y,points:pr}),j.emit("plotly_hover",{event:Y,points:j._hoverdata,xaxes:dt,yaxes:Tt,xvals:Pe,yvals:Ye}))}function D(j){return[j.trace.index,j.index,j.x0,j.y0,j.name,j.attr,j.xa?j.xa._id:"",j.ya?j.ya._id:""].join(",")}var N=/<extra>([\s\S]*)<\/extra>/;function k(j,Y){var se=Y.gd,te=se._fullLayout,fe=Y.hovermode,ge=Y.rotateLabels,be=Y.bgColor,xe=Y.container,_e=Y.outerContainer,De=Y.commonLabelOpts||{};if(j.length===0)return[[]];var Fe=Y.fontFamily||T.HOVERFONT,Te=Y.fontSize||T.HOVERFONTSIZE,Re=Y.fontWeight||te.font.weight,Se=Y.fontStyle||te.font.style,ke=Y.fontVariant||te.font.variant,Me=Y.fontTextcase||te.font.textcase,Ve=Y.fontLineposition||te.font.lineposition,tt=Y.fontShadow||te.font.shadow,it=j[0],Je=it.xa,Qe=it.ya,ct=fe.charAt(0),ht=ct+"Label",dt=it[ht];if(dt===void 0&&Je.type==="multicategory")for(var Tt=0;Tt<j.length&&(dt=j[Tt][ht],dt===void 0);Tt++);var Et=oe(se,_e),rt=Et.top,ze=Et.width,Ge=Et.height,je=dt!==void 0&&it.distance<=Y.hoverdistance&&(fe==="x"||fe==="y");if(je){var We=!0,Le,Pe;for(Le=0;Le<j.length;Le++)if(We&&j[Le].zLabel===void 0&&(We=!1),Pe=j[Le].hoverinfo||j[Le].trace.hoverinfo,Pe){var Ye=Array.isArray(Pe)?Pe:Pe.split("+");if(Ye.indexOf("all")===-1&&Ye.indexOf(fe)===-1){je=!1;break}}We&&(je=!1)}var Ce=xe.selectAll("g.axistext").data(je?[0]:[]);Ce.enter().append("g").classed("axistext",!0),Ce.exit().remove();var he={minX:0,maxX:0,minY:0,maxY:0};if(Ce.each(function(){var Ue=m.select(this),Ot=L.ensureSingle(Ue,"path","",function(ln){ln.style({"stroke-width":"1px"})}),It=L.ensureSingle(Ue,"text","",function(ln){ln.attr("data-notex",1)}),Jt=De.bgcolor||f.defaultLine,cr=De.bordercolor||f.contrast(Jt),vr=f.contrast(Jt),tr=De.font,Nt={weight:tr.weight||Re,style:tr.style||Se,variant:tr.variant||ke,textcase:tr.textcase||Me,lineposition:tr.lineposition||Ve,shadow:tr.shadow||tt,family:tr.family||Fe,size:tr.size||Te,color:tr.color||vr};Ot.style({fill:Jt,stroke:cr}),It.text(dt).call(n.font,Nt).call(t.positionText,0,0).call(t.convertToTspans,se),Ue.attr("transform","");var sr=oe(se,It.node()),dr,xr;if(fe==="x"){var pr=Je.side==="top"?"-":"";It.attr("text-anchor","middle").call(t.positionText,0,Je.side==="top"?rt-sr.bottom-E-A:rt-sr.top+E+A),dr=Je._offset+(it.x0+it.x1)/2,xr=Qe._offset+(Je.side==="top"?0:Qe._length);var Hr=sr.width/2+A,_r=dr;dr<Hr?_r=Hr:dr>te.width-Hr&&(_r=te.width-Hr),Ot.attr("d","M"+(dr-_r)+",0L"+(dr-_r+E)+","+pr+E+"H"+Hr+"v"+pr+(A*2+sr.height)+"H"+-Hr+"V"+pr+E+"H"+(dr-_r-E)+"Z"),dr=_r,he.minX=dr-Hr,he.maxX=dr+Hr,Je.side==="top"?(he.minY=xr-(A*2+sr.height),he.maxY=xr-A):(he.minY=xr+A,he.maxY=xr+(A*2+sr.height))}else{var Dr,an,tn;Qe.side==="right"?(Dr="start",an=1,tn="",dr=Je._offset+Je._length):(Dr="end",an=-1,tn="-",dr=Je._offset),xr=Qe._offset+(it.y0+it.y1)/2,It.attr("text-anchor",Dr),Ot.attr("d","M0,0L"+tn+E+","+E+"V"+(A+sr.height/2)+"h"+tn+(A*2+sr.width)+"V-"+(A+sr.height/2)+"H"+tn+E+"V-"+E+"Z"),he.minY=xr-(A+sr.height/2),he.maxY=xr+(A+sr.height/2),Qe.side==="right"?(he.minX=dr+E,he.maxX=dr+E+(A*2+sr.width)):(he.minX=dr-E-(A*2+sr.width),he.maxX=dr-E);var Sn=sr.height/2,Tn=rt-sr.top-Sn,Tr="clip"+te._uid+"commonlabel"+Qe._id,zr;if(dr<sr.width+2*A+E){zr="M-"+(E+A)+"-"+Sn+"h-"+(sr.width-A)+"V"+Sn+"h"+(sr.width-A)+"Z";var jr=sr.width-dr+A;t.positionText(It,jr,Tn),Dr==="end"&&It.selectAll("tspan").each(function(){var ln=m.select(this),fn=n.tester.append("text").text(ln.text()).call(n.font,Nt),Mn=oe(se,fn.node());Math.round(Mn.width)<Math.round(sr.width)&&ln.attr("x",jr-Mn.width),fn.remove()})}else t.positionText(It,an*(A+E),Tn),zr=null;var Or=te._topclips.selectAll("#"+Tr).data(zr?[0]:[]);Or.enter().append("clipPath").attr("id",Tr).append("path"),Or.exit().remove(),Or.select("path").attr("d",zr),n.setClipUrl(It,zr?Tr:null,se)}Ue.attr("transform",v(dr,xr))}),h.isUnifiedHover(fe)){xe.selectAll("g.hovertext").remove();var me=j.filter(function(Ue){return Ue.hoverinfo!=="none"});if(me.length===0)return[];var Ne=te.hoverlabel,$e=Ne.font,ot={showlegend:!0,legend:{title:{text:dt,font:$e},font:$e,bgcolor:Ne.bgcolor,bordercolor:Ne.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:te.legend?te.legend.traceorder:void 0,orientation:"v"}},st={font:$e};c(ot,st,se._fullData);var Wt=st.legend;Wt.entries=[];for(var Zt=0;Zt<me.length;Zt++){var At=me[Zt];if(At.hoverinfo!=="none"){var Rt=O(At,!0,fe,te,dt),Xt=Rt[0],ir=Rt[1];At.name=ir,ir!==""?At.text=ir+" : "+Xt:At.text=Xt;var pt=At.cd[At.index];pt&&(pt.mc&&(At.mc=pt.mc),pt.mcc&&(At.mc=pt.mcc),pt.mlc&&(At.mlc=pt.mlc),pt.mlcc&&(At.mlc=pt.mlcc),pt.mlw&&(At.mlw=pt.mlw),pt.mrc&&(At.mrc=pt.mrc),pt.dir&&(At.dir=pt.dir)),At._distinct=!0,Wt.entries.push([At])}}Wt.entries.sort(function(Ue,Ot){return Ue[0].trace.index-Ot[0].trace.index}),Wt.layer=xe,Wt._inHover=!0,Wt._groupTitleFont=Ne.grouptitlefont,i(se,Wt);var Kt=xe.select("g.legend"),Qt=oe(se,Kt.node()),yr=Qt.width+2*A,ur=Qt.height+2*A,mt=me[0],lt=(mt.x0+mt.x1)/2,bt=(mt.y0+mt.y1)/2,Ct=!(g.traceIs(mt.trace,"bar-like")||g.traceIs(mt.trace,"box-violin")),Dt,Ht;ct==="y"?Ct?(Ht=bt-A,Dt=bt+A):(Ht=Math.min.apply(null,me.map(function(Ue){return Math.min(Ue.y0,Ue.y1)})),Dt=Math.max.apply(null,me.map(function(Ue){return Math.max(Ue.y0,Ue.y1)}))):Ht=Dt=L.mean(me.map(function(Ue){return(Ue.y0+Ue.y1)/2}))-ur/2;var Bt,xt;ct==="x"?Ct?(Bt=lt+A,xt=lt-A):(Bt=Math.max.apply(null,me.map(function(Ue){return Math.max(Ue.x0,Ue.x1)})),xt=Math.min.apply(null,me.map(function(Ue){return Math.min(Ue.x0,Ue.x1)}))):Bt=xt=L.mean(me.map(function(Ue){return(Ue.x0+Ue.x1)/2}))-yr/2;var Ut=Je._offset,qt=Qe._offset;Dt+=qt,Bt+=Ut,xt+=Ut-yr,Ht+=qt-ur;var or,rr;return Bt+yr<ze&&Bt>=0?or=Bt:xt+yr<ze&&xt>=0?or=xt:Ut+yr<ze?or=Ut:Bt-lt<lt-xt+yr?or=ze-yr:or=0,or+=A,Dt+ur<Ge&&Dt>=0?rr=Dt:Ht+ur<Ge&&Ht>=0?rr=Ht:qt+ur<Ge?rr=qt:Dt-bt<bt-Ht+ur?rr=Ge-ur:rr=0,rr+=A,Kt.attr("transform",v(or-1,rr-1)),Kt}var He=xe.selectAll("g.hovertext").data(j,function(Ue){return D(Ue)});return He.enter().append("g").classed("hovertext",!0).each(function(){var Ue=m.select(this);Ue.append("rect").call(f.fill,f.addOpacity(be,.8)),Ue.append("text").classed("name",!0),Ue.append("path").style("stroke-width","1px"),Ue.append("text").classed("nums",!0).call(n.font,{weight:Re,style:Se,variant:ke,textcase:Me,lineposition:Ve,shadow:tt,family:Fe,size:Te})}),He.exit().remove(),He.each(function(Ue){var Ot=m.select(this).attr("transform",""),It=Ue.color;Array.isArray(It)&&(It=It[Ue.eventData[0].pointNumber]);var Jt=Ue.bgcolor||It,cr=f.combine(f.opacity(Jt)?Jt:f.defaultLine,be),vr=f.combine(f.opacity(It)?It:f.defaultLine,be),tr=Ue.borderColor||f.contrast(cr),Nt=O(Ue,je,fe,te,dt,Ot),sr=Nt[0],dr=Nt[1],xr=Ot.select("text.nums").call(n.font,{family:Ue.fontFamily||Fe,size:Ue.fontSize||Te,color:Ue.fontColor||tr,weight:Ue.fontWeight||Re,style:Ue.fontStyle||Se,variant:Ue.fontVariant||ke,textcase:Ue.fontTextcase||Me,lineposition:Ue.fontLineposition||Ve,shadow:Ue.fontShadow||tt}).text(sr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se),pr=Ot.select("text.name"),Hr=0,_r=0;if(dr&&dr!==sr){pr.call(n.font,{family:Ue.fontFamily||Fe,size:Ue.fontSize||Te,color:vr,weight:Ue.fontWeight||Re,style:Ue.fontStyle||Se,variant:Ue.fontVariant||ke,textcase:Ue.fontTextcase||Me,lineposition:Ue.fontLineposition||Ve,shadow:Ue.fontShadow||tt}).text(dr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se);var Dr=oe(se,pr.node());Hr=Dr.width+2*A,_r=Dr.height+2*A}else pr.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:cr,stroke:tr});var an=Ue.xa._offset+(Ue.x0+Ue.x1)/2,tn=Ue.ya._offset+(Ue.y0+Ue.y1)/2,Sn=Math.abs(Ue.x1-Ue.x0),Tn=Math.abs(Ue.y1-Ue.y0),Tr=oe(se,xr.node()),zr=Tr.width/te._invScaleX,jr=Tr.height/te._invScaleY;Ue.ty0=(rt-Tr.top)/te._invScaleY,Ue.bx=zr+2*A,Ue.by=Math.max(jr+2*A,_r),Ue.anchor="start",Ue.txwidth=zr,Ue.tx2width=Hr,Ue.offset=0;var Or=(zr+E+A+Hr)*te._invScaleX,ln,fn;if(ge)Ue.pos=an,ln=tn+Tn/2+Or<=Ge,fn=tn-Tn/2-Or>=0,(Ue.idealAlign==="top"||!ln)&&fn?(tn-=Tn/2,Ue.anchor="end"):ln?(tn+=Tn/2,Ue.anchor="start"):Ue.anchor="middle",Ue.crossPos=tn;else{if(Ue.pos=tn,ln=an+Sn/2+Or<=ze,fn=an-Sn/2-Or>=0,(Ue.idealAlign==="left"||!ln)&&fn)an-=Sn/2,Ue.anchor="end";else if(ln)an+=Sn/2,Ue.anchor="start";else{Ue.anchor="middle";var Mn=Or/2,Pn=an+Mn-ze,Hn=an-Mn;Pn>0&&(an-=Pn),Hn<0&&(an+=-Hn)}Ue.crossPos=an}xr.attr("text-anchor",Ue.anchor),Hr&&pr.attr("text-anchor",Ue.anchor),Ot.attr("transform",v(an,tn)+(ge?p(d):""))}),{hoverLabels:He,commonLabelBoundingBox:he}}function O(j,Y,se,te,fe,ge){var be="",xe="";j.nameOverride!==void 0&&(j.name=j.nameOverride),j.name&&(j.trace._meta&&(j.name=L.templateString(j.name,j.trace._meta)),be=$(j.name,j.nameLength));var _e=se.charAt(0),De=_e==="x"?"y":"x";j.zLabel!==void 0?(j.xLabel!==void 0&&(xe+="x: "+j.xLabel+"<br>"),j.yLabel!==void 0&&(xe+="y: "+j.yLabel+"<br>"),j.trace.type!=="choropleth"&&j.trace.type!=="choroplethmapbox"&&(xe+=(xe?"z: ":"")+j.zLabel)):Y&&j[_e+"Label"]===fe?xe=j[De+"Label"]||"":j.xLabel===void 0?j.yLabel!==void 0&&j.trace.type!=="scattercarpet"&&(xe=j.yLabel):j.yLabel===void 0?xe=j.xLabel:xe="("+j.xLabel+", "+j.yLabel+")",(j.text||j.text===0)&&!Array.isArray(j.text)&&(xe+=(xe?"<br>":"")+j.text),j.extraText!==void 0&&(xe+=(xe?"<br>":"")+j.extraText),ge&&xe===""&&!j.hovertemplate&&(be===""&&ge.remove(),xe=be);var Fe=j.hovertemplate||!1;if(Fe){var Te=j.hovertemplateLabels||j;j[_e+"Label"]!==fe&&(Te[_e+"other"]=Te[_e+"Val"],Te[_e+"otherLabel"]=Te[_e+"Label"]),xe=L.hovertemplateString(Fe,Te,te._d3locale,j.eventData[0]||{},j.trace._meta),xe=xe.replace(N,function(Re,Se){return be=$(Se,j.nameLength),""})}return[xe,be]}function F(j,Y,se,te){var fe=Y?"xa":"ya",ge=Y?"ya":"xa",be=0,xe=1,_e=j.size(),De=new Array(_e),Fe=0,Te=te.minX,Re=te.maxX,Se=te.minY,ke=te.maxY,Me=function(Pe){return Pe*se._invScaleX},Ve=function(Pe){return Pe*se._invScaleY};j.each(function(Pe){var Ye=Pe[fe],Ce=Pe[ge],he=Ye._id.charAt(0)==="x",me=Ye.range;Fe===0&&me&&me[0]>me[1]!==he&&(xe=-1);var Ne=0,$e=he?se.width:se.height;if(se.hovermode==="x"||se.hovermode==="y"){var ot=z(Pe,Y),st=Pe.anchor,Wt=st==="end"?-1:1,Zt,At;if(st==="middle")Zt=Pe.crossPos+(he?Ve(ot.y-Pe.by/2):Me(Pe.bx/2+Pe.tx2width/2)),At=Zt+(he?Ve(Pe.by):Me(Pe.bx));else if(he)Zt=Pe.crossPos+Ve(E+ot.y)-Ve(Pe.by/2-E),At=Zt+Ve(Pe.by);else{var Rt=Me(Wt*E+ot.x),Xt=Rt+Me(Wt*Pe.bx);Zt=Pe.crossPos+Math.min(Rt,Xt),At=Pe.crossPos+Math.max(Rt,Xt)}he?Se!==void 0&&ke!==void 0&&Math.min(At,ke)-Math.max(Zt,Se)>1&&(Ce.side==="left"?(Ne=Ce._mainLinePosition,$e=se.width):$e=Ce._mainLinePosition):Te!==void 0&&Re!==void 0&&Math.min(At,Re)-Math.max(Zt,Te)>1&&(Ce.side==="top"?(Ne=Ce._mainLinePosition,$e=se.height):$e=Ce._mainLinePosition)}De[Fe++]=[{datum:Pe,traceIndex:Pe.trace.index,dp:0,pos:Pe.pos,posref:Pe.posref,size:Pe.by*(he?w:1)/2,pmin:Ne,pmax:$e}]}),De.sort(function(Pe,Ye){return Pe[0].posref-Ye[0].posref||xe*(Ye[0].traceIndex-Pe[0].traceIndex)});var tt,it,Je,Qe,ct,ht,dt;function Tt(Pe){var Ye=Pe[0],Ce=Pe[Pe.length-1];if(it=Ye.pmin-Ye.pos-Ye.dp+Ye.size,Je=Ce.pos+Ce.dp+Ce.size-Ye.pmax,it>.01){for(ct=Pe.length-1;ct>=0;ct--)Pe[ct].dp+=it;tt=!1}if(!(Je<.01)){if(it<-.01){for(ct=Pe.length-1;ct>=0;ct--)Pe[ct].dp-=Je;tt=!1}if(tt){var he=0;for(Qe=0;Qe<Pe.length;Qe++)ht=Pe[Qe],ht.pos+ht.dp+ht.size>Ye.pmax&&he++;for(Qe=Pe.length-1;Qe>=0&&!(he<=0);Qe--)ht=Pe[Qe],ht.pos>Ye.pmax-1&&(ht.del=!0,he--);for(Qe=0;Qe<Pe.length&&!(he<=0);Qe++)if(ht=Pe[Qe],ht.pos<Ye.pmin+1)for(ht.del=!0,he--,Je=ht.size*2,ct=Pe.length-1;ct>=0;ct--)Pe[ct].dp-=Je;for(Qe=Pe.length-1;Qe>=0&&!(he<=0);Qe--)ht=Pe[Qe],ht.pos+ht.dp+ht.size>Ye.pmax&&(ht.del=!0,he--)}}}for(;!tt&&be<=_e;){for(be++,tt=!0,Qe=0;Qe<De.length-1;){var Et=De[Qe],rt=De[Qe+1],ze=Et[Et.length-1],Ge=rt[0];if(it=ze.pos+ze.dp+ze.size-Ge.pos-Ge.dp+Ge.size,it>.01&&ze.pmin===Ge.pmin&&ze.pmax===Ge.pmax){for(ct=rt.length-1;ct>=0;ct--)rt[ct].dp+=it;for(Et.push.apply(Et,rt),De.splice(Qe+1,1),dt=0,ct=Et.length-1;ct>=0;ct--)dt+=Et[ct].dp;for(Je=dt/Et.length,ct=Et.length-1;ct>=0;ct--)Et[ct].dp-=Je;tt=!1}else Qe++}De.forEach(Tt)}for(Qe=De.length-1;Qe>=0;Qe--){var je=De[Qe];for(ct=je.length-1;ct>=0;ct--){var We=je[ct],Le=We.datum;Le.offset=We.dp,Le.del=We.del}}}function z(j,Y){var se=0,te=j.offset;return Y&&(te*=-y,se=j.offset*C),{x:se,y:te}}function B(j){var Y={start:1,end:-1,middle:0}[j.anchor],se=Y*(E+A),te=se+Y*(j.txwidth+A),fe=j.anchor==="middle";return fe&&(se-=j.tx2width/2,te+=j.txwidth/2+A),{alignShift:Y,textShiftX:se,text2ShiftX:te}}function W(j,Y,se,te){var fe=function(be){return be*se},ge=function(be){return be*te};j.each(function(be){var xe=m.select(this);if(be.del)return xe.remove();var _e=xe.select("text.nums"),De=be.anchor,Fe=De==="end"?-1:1,Te=B(be),Re=z(be,Y),Se=Re.x,ke=Re.y,Me=De==="middle";xe.select("path").attr("d",Me?"M-"+fe(be.bx/2+be.tx2width/2)+","+ge(ke-be.by/2)+"h"+fe(be.bx)+"v"+ge(be.by)+"h-"+fe(be.bx)+"Z":"M0,0L"+fe(Fe*E+Se)+","+ge(E+ke)+"v"+ge(be.by/2-E)+"h"+fe(Fe*be.bx)+"v-"+ge(be.by)+"H"+fe(Fe*E+Se)+"V"+ge(ke-E)+"Z");var Ve=Se+Te.textShiftX,tt=ke+be.ty0-be.by/2+A,it=be.textAlign||"auto";it!=="auto"&&(it==="left"&&De!=="start"?(_e.attr("text-anchor","start"),Ve=Me?-be.bx/2-be.tx2width/2+A:-be.bx-A):it==="right"&&De!=="end"&&(_e.attr("text-anchor","end"),Ve=Me?be.bx/2-be.tx2width/2-A:be.bx+A)),_e.call(t.positionText,fe(Ve),ge(tt)),be.tx2width&&(xe.select("text.name").call(t.positionText,fe(Te.text2ShiftX+Te.alignShift*A+Se),ge(ke+be.ty0-be.by/2+A)),xe.select("rect").call(n.setRect,fe(Te.text2ShiftX+(Te.alignShift-1)*be.tx2width/2+Se),ge(ke-be.by/2-1),fe(be.tx2width),ge(be.by+2)))})}function J(j,Y){var se=j.index,te=j.trace||{},fe=j.cd[0],ge=j.cd[se]||{};function be(Re){return Re||P(Re)&&Re===0}var xe=Array.isArray(se)?function(Re,Se){var ke=L.castOption(fe,se,Re);return be(ke)?ke:L.extractOption({},te,"",Se)}:function(Re,Se){return L.extractOption(ge,te,Re,Se)};function _e(Re,Se,ke){var Me=xe(Se,ke);be(Me)&&(j[Re]=Me)}if(_e("hoverinfo","hi","hoverinfo"),_e("bgcolor","hbg","hoverlabel.bgcolor"),_e("borderColor","hbc","hoverlabel.bordercolor"),_e("fontFamily","htf","hoverlabel.font.family"),_e("fontSize","hts","hoverlabel.font.size"),_e("fontColor","htc","hoverlabel.font.color"),_e("fontWeight","htw","hoverlabel.font.weight"),_e("fontStyle","hty","hoverlabel.font.style"),_e("fontVariant","htv","hoverlabel.font.variant"),_e("nameLength","hnl","hoverlabel.namelength"),_e("textAlign","hta","hoverlabel.align"),j.posref=Y==="y"||Y==="closest"&&te.orientation==="h"?j.xa._offset+(j.x0+j.x1)/2:j.ya._offset+(j.y0+j.y1)/2,j.x0=L.constrain(j.x0,0,j.xa._length),j.x1=L.constrain(j.x1,0,j.xa._length),j.y0=L.constrain(j.y0,0,j.ya._length),j.y1=L.constrain(j.y1,0,j.ya._length),j.xLabelVal!==void 0&&(j.xLabel="xLabel"in j?j.xLabel:l.hoverLabelText(j.xa,j.xLabelVal,te.xhoverformat),j.xVal=j.xa.c2d(j.xLabelVal)),j.yLabelVal!==void 0&&(j.yLabel="yLabel"in j?j.yLabel:l.hoverLabelText(j.ya,j.yLabelVal,te.yhoverformat),j.yVal=j.ya.c2d(j.yLabelVal)),j.zLabelVal!==void 0&&j.zLabel===void 0&&(j.zLabel=String(j.zLabelVal)),!isNaN(j.xerr)&&!(j.xa.type==="log"&&j.xerr<=0)){var De=l.tickText(j.xa,j.xa.c2l(j.xerr),"hover").text;j.xerrneg!==void 0?j.xLabel+=" +"+De+" / -"+l.tickText(j.xa,j.xa.c2l(j.xerrneg),"hover").text:j.xLabel+=" ± "+De,Y==="x"&&(j.distance+=1)}if(!isNaN(j.yerr)&&!(j.ya.type==="log"&&j.yerr<=0)){var Fe=l.tickText(j.ya,j.ya.c2l(j.yerr),"hover").text;j.yerrneg!==void 0?j.yLabel+=" +"+Fe+" / -"+l.tickText(j.ya,j.ya.c2l(j.yerrneg),"hover").text:j.yLabel+=" ± "+Fe,Y==="y"&&(j.distance+=1)}var Te=j.hoverinfo||j.trace.hoverinfo;return Te&&Te!=="all"&&(Te=Array.isArray(Te)?Te:Te.split("+"),Te.indexOf("x")===-1&&(j.xLabel=void 0),Te.indexOf("y")===-1&&(j.yLabel=void 0),Te.indexOf("z")===-1&&(j.zLabel=void 0),Te.indexOf("text")===-1&&(j.text=void 0),Te.indexOf("name")===-1&&(j.name=void 0)),j}function re(j,Y,se){var te=se.container,fe=se.fullLayout,ge=fe._size,be=se.event,xe=!!Y.hLinePoint,_e=!!Y.vLinePoint,De,Fe;if(te.selectAll(".spikeline").remove(),!!(_e||xe)){var Te=f.combine(fe.plot_bgcolor,fe.paper_bgcolor);if(xe){var Re=Y.hLinePoint,Se,ke;De=Re&&Re.xa,Fe=Re&&Re.ya;var Me=Fe.spikesnap;Me==="cursor"?(Se=be.pointerX,ke=be.pointerY):(Se=De._offset+Re.x,ke=Fe._offset+Re.y);var Ve=s.readability(Re.color,Te)<1.5?f.contrast(Te):Re.color,tt=Fe.spikemode,it=Fe.spikethickness,Je=Fe.spikecolor||Ve,Qe=l.getPxPosition(j,Fe),ct,ht;if(tt.indexOf("toaxis")!==-1||tt.indexOf("across")!==-1){if(tt.indexOf("toaxis")!==-1&&(ct=Qe,ht=Se),tt.indexOf("across")!==-1){var dt=Fe._counterDomainMin,Tt=Fe._counterDomainMax;Fe.anchor==="free"&&(dt=Math.min(dt,Fe.position),Tt=Math.max(Tt,Fe.position)),ct=ge.l+dt*ge.w,ht=ge.l+Tt*ge.w}te.insert("line",":first-child").attr({x1:ct,x2:ht,y1:ke,y2:ke,"stroke-width":it,stroke:Je,"stroke-dasharray":n.dashStyle(Fe.spikedash,it)}).classed("spikeline",!0).classed("crisp",!0),te.insert("line",":first-child").attr({x1:ct,x2:ht,y1:ke,y2:ke,"stroke-width":it+2,stroke:Te}).classed("spikeline",!0).classed("crisp",!0)}tt.indexOf("marker")!==-1&&te.insert("circle",":first-child").attr({cx:Qe+(Fe.side!=="right"?it:-it),cy:ke,r:it,fill:Je}).classed("spikeline",!0)}if(_e){var Et=Y.vLinePoint,rt,ze;De=Et&&Et.xa,Fe=Et&&Et.ya;var Ge=De.spikesnap;Ge==="cursor"?(rt=be.pointerX,ze=be.pointerY):(rt=De._offset+Et.x,ze=Fe._offset+Et.y);var je=s.readability(Et.color,Te)<1.5?f.contrast(Te):Et.color,We=De.spikemode,Le=De.spikethickness,Pe=De.spikecolor||je,Ye=l.getPxPosition(j,De),Ce,he;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(Ce=Ye,he=ze),We.indexOf("across")!==-1){var me=De._counterDomainMin,Ne=De._counterDomainMax;De.anchor==="free"&&(me=Math.min(me,De.position),Ne=Math.max(Ne,De.position)),Ce=ge.t+(1-Ne)*ge.h,he=ge.t+(1-me)*ge.h}te.insert("line",":first-child").attr({x1:rt,x2:rt,y1:Ce,y2:he,"stroke-width":Le,stroke:Pe,"stroke-dasharray":n.dashStyle(De.spikedash,Le)}).classed("spikeline",!0).classed("crisp",!0),te.insert("line",":first-child").attr({x1:rt,x2:rt,y1:Ce,y2:he,"stroke-width":Le+2,stroke:Te}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&te.insert("circle",":first-child").attr({cx:rt,cy:Ye-(De.side!=="top"?Le:-Le),r:Le,fill:Pe}).classed("spikeline",!0)}}}function ne(j,Y,se){if(!se||se.length!==j._hoverdata.length)return!0;for(var te=se.length-1;te>=0;te--){var fe=se[te],ge=j._hoverdata[te];if(fe.curveNumber!==ge.curveNumber||String(fe.pointNumber)!==String(ge.pointNumber)||String(fe.pointNumbers)!==String(ge.pointNumbers))return!0}return!1}function le(j,Y){return!0}function $(j,Y){return t.plainText(j||"",{len:Y,allowedTags:["br","sub","sup","b","i","em"]})}function Z(j,Y){for(var se=Y.charAt(0),te=[],fe=[],ge=[],be=0;be<j.length;be++){var xe=j[be];g.traceIs(xe.trace,"bar-like")||g.traceIs(xe.trace,"box-violin")?ge.push(xe):xe.trace[se+"period"]?fe.push(xe):te.push(xe)}return te.concat(fe).concat(ge)}function ie(j,Y,se){var te=Y[j+"a"],fe=Y[j+"Val"],ge=Y.cd[0];if(te.type==="category"||te.type==="multicategory")fe=te._categoriesMap[fe];else if(te.type==="date"){var be=Y.trace[j+"periodalignment"];if(be){var xe=Y.cd[Y.index],_e=xe[j+"Start"];_e===void 0&&(_e=xe[j]);var De=xe[j+"End"];De===void 0&&(De=xe[j]);var Fe=De-_e;be==="end"?fe+=Fe:be==="middle"&&(fe+=Fe/2)}fe=te.d2c(fe)}return ge&&ge.t&&ge.t.posLetter===te._id&&(se.boxmode==="group"||se.violinmode==="group")&&(fe+=ge.t.dPos),fe}function X(j){return j.offsetTop+j.clientTop}function Q(j){return j.offsetLeft+j.clientLeft}function oe(j,Y){var se=j._fullLayout,te=Y.getBoundingClientRect(),fe=te.left,ge=te.top,be=fe+te.width,xe=ge+te.height,_e=L.apply3DTransform(se._invTransform)(fe,ge),De=L.apply3DTransform(se._invTransform)(be,xe),Fe=_e[0],Te=_e[1],Re=De[0],Se=De[1];return{x:Fe,y:Te,width:Re-Fe,height:Se-Te,top:Math.min(Te,Se),left:Math.min(Fe,Re),right:Math.max(Fe,Re),bottom:Math.max(Te,Se)}}},16132:function(G,H,e){var m=e(3400),P=e(76308),s=e(10624).isUnifiedHover;G.exports=function(S,v,p,r){r=r||{};var t=v.legend;function a(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&s(v.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),a("weight"),a("style"),a("variant"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),m.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(G,H,e){var m=e(3400),P=e(65460);G.exports=function(L,S){function v(p,r){return S[p]!==void 0?S[p]:m.coerce(L,S,P,p,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(G,H,e){var m=e(33428),P=e(3400),s=e(86476),L=e(10624),S=e(65460),v=e(83292);G.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:S},attributes:e(55756),layoutAttributes:S,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:s.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(a){var n=P.isD3Selection(a)?a:m.select(a);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(a,n,f){return P.castOption(a,n,"hoverlabel."+f)}function t(a,n,f){function u(l){return P.coerceHoverinfo({hoverinfo:l},{_module:a._module},n)}return P.castOption(a,f,"hoverinfo",u)}},65460:function(G,H,e){var m=e(92456),P=e(25376),s=P({editType:"none"});s.family.dflt=m.HOVERFONT,s.size.dflt=m.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(G,H,e){var m=e(3400),P=e(65460),s=e(41008),L=e(16132);G.exports=function(v,p){function r(l,g){return m.coerce(v,p,P,l,g)}var t=s(v,p);t&&(r("hoverdistance"),r("spikedistance"));var a=r("dragmode");a==="select"&&r("selectdirection");var n=p._has("mapbox"),f=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||f)&&u===1||n&&f&&u===2)&&(p.dragmode="pan"),L(v,p,r),m.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(G,H,e){var m=e(3400),P=e(16132),s=e(65460);G.exports=function(S,v){function p(r,t){return m.coerce(S,v,s,r,t)}P(S,v,p)}},12704:function(G,H,e){var m=e(3400),P=e(53756).counter,s=e(86968).u,L=e(33816).idRegex,S=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(f,u,l){var g=u[l+"axes"],h=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(g))return g;if(h.length)return h}function r(f,u){var l=f.grid||{},g=p(u,l,"x"),h=p(u,l,"y");if(!f.grid&&!g&&!h)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(g),i=Array.isArray(h),d=c&&g!==l.xaxes&&i&&h!==l.yaxes,b,w;T?(b=l.subplots.length,w=l.subplots[0].length):(i&&(b=h.length),c&&(w=g.length));var C=S.newContainer(u,"grid");function y(O,F){return m.coerce(l,C,v,O,F)}var E=y("rows",b),A=y("columns",w);if(!(E*A>1)){delete u.grid;return}if(!T&&!c&&!i){var o=y("pattern")==="independent";o&&(T=!0)}C._hasSubplotGrid=T;var M=y("roworder"),x=M==="top to bottom",I=T?.2:.1,D=T?.3:.1,N,k;d&&u._splomGridDflt&&(N=u._splomGridDflt.xside,k=u._splomGridDflt.yside),C._domains={x:t("x",y,I,N,A),y:t("y",y,D,k,E,x)}}function t(f,u,l,g,h,T){var c=u(f+"gap",l),i=u("domain."+f);u(f+"side",g);for(var d=new Array(h),b=i[0],w=(i[1]-b)/(h-c),C=w*(1-c),y=0;y<h;y++){var E=b+w*y;d[T?h-1-y:y]=[E,E+C]}return d}function a(f,u){var l=u.grid;if(!(!l||!l._domains)){var g=f.grid||{},h=u._subplots,T=l._hasSubplotGrid,c=l.rows,i=l.columns,d=l.pattern==="independent",b,w,C,y,E,A,o,M=l._axisMap={};if(T){var x=g.subplots||[];A=l.subplots=new Array(c);var I=1;for(b=0;b<c;b++){var D=A[b]=new Array(i),N=x[b]||[];for(w=0;w<i;w++)if(d?(E=I===1?"xy":"x"+I+"y"+I,I++):E=N[w],D[w]="",h.cartesian.indexOf(E)!==-1){if(o=E.indexOf("y"),C=E.slice(0,o),y=E.slice(o),M[C]!==void 0&&M[C]!==w||M[y]!==void 0&&M[y]!==b)continue;D[w]=E,M[C]=w,M[y]=b}}}else{var k=p(u,g,"x"),O=p(u,g,"y");l.xaxes=n(k,h.xaxis,i,M,"x"),l.yaxes=n(O,h.yaxis,c,M,"y")}var F=l._anchors={},z=l.roworder==="top to bottom";for(var B in M){var W=B.charAt(0),J=l[W+"side"],re,ne,le;if(J.length<8)F[B]="free";else if(W==="x"){if(J.charAt(0)==="t"===z?(re=0,ne=1,le=c):(re=c-1,ne=-1,le=-1),T){var $=M[B];for(b=re;b!==le;b+=ne)if(E=A[b][$],!!E&&(o=E.indexOf("y"),E.slice(0,o)===B)){F[B]=E.slice(o);break}}else for(b=re;b!==le;b+=ne)if(y=l.yaxes[b],h.cartesian.indexOf(B+y)!==-1){F[B]=y;break}}else if(J.charAt(0)==="l"?(re=0,ne=1,le=i):(re=i-1,ne=-1,le=-1),T){var Z=M[B];for(b=re;b!==le;b+=ne)if(E=A[Z][b],!!E&&(o=E.indexOf("y"),E.slice(o)===B)){F[B]=E.slice(0,o);break}}else for(b=re;b!==le;b+=ne)if(C=l.xaxes[b],h.cartesian.indexOf(C+B)!==-1){F[B]=C;break}}}}function n(f,u,l,g,h){var T=new Array(l),c;function i(d,b){u.indexOf(b)!==-1&&g[b]===void 0?(T[d]=b,g[b]=d):T[d]=""}if(Array.isArray(f))for(c=0;c<l;c++)i(c,f[c]);else for(i(0,h),c=1;c<l;c++)i(c,h+(c+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:a}},65760:function(G,H,e){var m=e(33816),P=e(31780).templatedArray;e(36208),G.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",m.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",m.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(G,H,e){var m=e(38248),P=e(36896);G.exports=function(L,S,v,p){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(r||t){for(var a=L._fullLayout.images,n=S._id.charAt(0),f,u,l=0;l<a.length;l++)if(f=a[l],u="images["+l+"].",f[n+"ref"]===S._id){var g=f[n],h=f["size"+n],T=null,c=null;if(r){T=P(g,S.range);var i=h/Math.pow(10,T)/2;c=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else T=Math.pow(10,g),c=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));m(T)?m(c)||(c=null):(T=null,c=null),p(u+n,T),p(u+"size"+n,c)}}}},25024:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(65760),S="images";G.exports=function(r,t){var a={name:S,handleItemDefaults:v};s(r,t,a)};function v(p,r,t){function a(i,d){return m.coerce(p,r,L,i,d)}var n=a("source"),f=a("visible",!!n);if(!f)return r;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var u={_fullLayout:t},l=["x","y"],g=0;g<2;g++){var h=l[g],T=P.coerceRef(p,r,u,h,"paper",void 0);if(T!=="paper"){var c=P.getFromId(u,T);c._imgIndices.push(r._index)}P.coercePosition(r,u,a,T,h,0)}return r}},60963:function(G,H,e){var m=e(33428),P=e(43616),s=e(54460),L=e(79811),S=e(9616);G.exports=function(p){var r=p._fullLayout,t=[],a={},n=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=L.ref2id(l.xref)+L.ref2id(l.yref);var g=r._plots[f];if(!g){n.push(l);continue}g.mainplot&&(f=g.mainplot.id),a[f]||(a[f]=[]),a[f].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(y){var E=m.select(this);if(this._imgSrc!==y.source)if(E.attr("xmlns",S.svg),y.source&&y.source.slice(0,5)==="data:")E.attr("xlink:href",y.source),this._imgSrc=y.source;else{var A=new Promise((function(o){var M=new Image;this.img=M,M.setAttribute("crossOrigin","anonymous"),M.onerror=x,M.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height;var D=I.getContext("2d",{willReadFrequently:!0});D.drawImage(this,0,0);var N=I.toDataURL("image/png");E.attr("xlink:href",N),o()},E.on("error",x),M.src=y.source,this._imgSrc=y.source;function x(){E.remove(),o()}}).bind(this));p._promises.push(A)}}function c(y){var E=m.select(this),A=s.getFromId(p,y.xref),o=s.getFromId(p,y.yref),M=s.getRefType(y.xref)==="domain",x=s.getRefType(y.yref)==="domain",I=r._size,D,N;A!==void 0?D=typeof y.xref=="string"&&M?A._length*y.sizex:Math.abs(A.l2p(y.sizex)-A.l2p(0)):D=y.sizex*I.w,o!==void 0?N=typeof y.yref=="string"&&x?o._length*y.sizey:Math.abs(o.l2p(y.sizey)-o.l2p(0)):N=y.sizey*I.h;var k=D*h.x[y.xanchor].offset,O=N*h.y[y.yanchor].offset,F=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,z,B;switch(A!==void 0?z=typeof y.xref=="string"&&M?A._length*y.x+A._offset:A.r2p(y.x)+A._offset:z=y.x*I.w+I.l,z+=k,o!==void 0?B=typeof y.yref=="string"&&x?o._length*(1-y.y)+o._offset:o.r2p(y.y)+o._offset:B=I.h-y.y*I.h+I.t,B+=O,y.sizing){case"fill":F+=" slice";break;case"stretch":F="none";break}E.attr({x:z,y:B,width:D,height:N,preserveAspectRatio:F,opacity:y.opacity});var W=A&&s.getRefType(y.xref)!=="domain"?A._id:"",J=o&&s.getRefType(y.yref)!=="domain"?o._id:"",re=W+J;P.setClipUrl(E,re?"clip"+r._uid+re:null,p)}var i=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);i.enter().append("image"),d.enter().append("image"),i.exit().remove(),d.exit().remove(),i.each(function(y){T.bind(this)(y),c.bind(this)(y)}),d.each(function(y){T.bind(this)(y),c.bind(this)(y)});var b=Object.keys(r._plots);for(u=0;u<b.length;u++){f=b[u];var w=r._plots[f];if(w.imagelayer){var C=w.imagelayer.selectAll("image").data(a[f]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(y){T.bind(this)(y),c.bind(this)(y)})}}}},7402:function(G,H,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(G,H,e){var m=e(25376),P=e(22548);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:m({editType:"legend"}),grouptitlefont:m({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:m({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(G,H,e){var m=e(24040),P=e(3400),s=e(31780),L=e(45464),S=e(3800),v=e(64859),p=e(42451);function r(t,a,n,f){var u=a[t]||{},l=s.newContainer(n,t);function g(le,$){return P.coerce(u,l,S,le,$)}var h=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var T=g("visible");if(T){for(var c,i=function(le,$){var Z=c._input,ie=c;return P.coerce(Z,ie,L,le,$)},d=n.font||{},b=P.coerceFont(g,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),w=0,C=!1,y="normal",E=(n.shapes||[]).filter(function(le){return le.showlegend}),A=f.concat(E).filter(function(le){return t===(le.legend||"legend")}),o=0;o<A.length;o++)if(c=A[o],!!c.visible){var M=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(C=!0,(!M&&m.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),P.coerceFont(i,"legendgrouptitle.font",b)),(!M&&m.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=p.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=p.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var x=P.coerce(a,n,v,"showlegend",C&&w>(t==="legend"?1:0));if(x===!1&&(n[t]=void 0),!(x===!1&&!u.uirevision)&&(g("uirevision",n.uirevision),x!==!1)){g("borderwidth");var I=g("orientation"),D=g("yref"),N=g("xref"),k=I==="h",O=D==="paper",F=N==="paper",z,B,W,J="left";k?(z=0,m.getComponentMethod("rangeslider","isVisible")(a.xaxis)?O?(B=1.1,W="bottom"):(B=1,W="top"):O?(B=-.1,W="top"):(B=0,W="bottom")):(B=1,W="auto",F?z=1.02:(z=1,J="right")),P.coerce(u,l,{x:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:z}},"x"),P.coerce(u,l,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:B}},"y"),g("traceorder",y),p.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",J),g("yanchor",W),g("valign"),P.noneOrAll(u,l,["x","y"]);var re=g("title.text");if(re){g("title.side",k?"left":"top");var ne=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(g,"title.font",ne)}}}}G.exports=function(a,n,f){var u,l=f.slice(),g=n.shapes;if(g)for(u=0;u<g.length;u++){var h=g[u];if(h.showlegend){var T={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(T)}}var c=["legend"];for(u=0;u<l.length;u++)P.pushUnique(c,l[u].legend);for(n._legends=[],u=0;u<c.length;u++){var i=c[u];r(i,a,n,l),n[i]&&n[i].visible&&(n[i]._id=i),n._legends.push(i)}}},31140:function(G,H,e){var m=e(33428),P=e(3400),s=e(7316),L=e(24040),S=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),a=e(33048),n=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,g=f.FROM_BR,h=e(35456),T=e(2012),c=e(42451),i=1,d=/^legend[0-9]*$/;G.exports=function(B,W){if(W)w(B,W);else{var J=B._fullLayout,re=J._legends,ne=J._infolayer.selectAll('[class^="legend"]');ne.each(function(){var ie=m.select(this),X=ie.attr("class"),Q=X.split(" ")[0];Q.match(d)&&re.indexOf(Q)===-1&&ie.remove()});for(var le=0;le<re.length;le++){var $=re[le],Z=B._fullLayout[$];w(B,Z)}}};function b(z,B,W){if(!(B.title.side!=="top center"&&B.title.side!=="top right")){var J=B.title.font,re=J.size*u,ne=0,le=z.node(),$=p.bBox(le).width;B.title.side==="top center"?ne=.5*(B._width-2*W-2*n.titlePad-$):B.title.side==="top right"&&(ne=B._width-2*W-2*n.titlePad-$),t.positionText(z,W+n.titlePad+ne,W+re)}}function w(z,B){var W=B||{},J=z._fullLayout,re=F(W),ne,le,$=W._inHover;if($?(le=W.layer,ne="hover"):(le=J._infolayer,ne=re),!!le){ne+=J._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var Z;if($){if(!W.entries)return;Z=h(W.entries,W)}else{for(var ie=(z.calcdata||[]).slice(),X=J.shapes,Q=0;Q<X.length;Q++){var oe=X[Q];if(oe.showlegend){var j={_isShape:!0,_fullInput:oe,index:oe._index,name:oe.name||oe.label.text||"shape "+oe._index,legend:oe.legend,legendgroup:oe.legendgroup,legendgrouptitle:oe.legendgrouptitle,legendrank:oe.legendrank,legendwidth:oe.legendwidth,showlegend:oe.showlegend,visible:oe.visible,opacity:oe.opacity,mode:oe.type==="line"?"lines":"markers",line:oe.line,marker:{line:oe.line,color:oe.fillcolor,size:12,symbol:oe.type==="rect"?"square":oe.type==="circle"?"circle":"hexagon2"}};ie.push([{trace:j}])}}Z=J.showlegend&&h(ie,W,J._legends.length>1)}var Y=J.hiddenlabels||[];if(!$&&(!J.showlegend||!Z.length))return le.selectAll("."+re).remove(),J._topdefs.select("#"+ne).remove(),s.autoMargin(z,re);var se=P.ensureSingle(le,"g",re,function(Te){$||Te.attr("pointer-events","all")}),te=P.ensureSingleById(J._topdefs,"clipPath",ne,function(Te){Te.append("rect")}),fe=P.ensureSingle(se,"rect","bg",function(Te){Te.attr("shape-rendering","crispEdges")});fe.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ge=P.ensureSingle(se,"g","scrollbox"),be=W.title;W._titleWidth=0,W._titleHeight=0;var xe;be.text?(xe=P.ensureSingle(ge,"text",re+"titletext"),xe.attr("text-anchor","start").call(p.font,be.font).text(be.text),M(xe,ge,z,W,i)):ge.selectAll("."+re+"titletext").remove();var _e=P.ensureSingle(se,"rect","scrollbar",function(Te){Te.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),De=ge.selectAll("g.groups").data(Z);De.enter().append("g").attr("class","groups"),De.exit().remove();var Fe=De.selectAll("g.traces").data(P.identity);Fe.enter().append("g").attr("class","traces"),Fe.exit().remove(),Fe.style("opacity",function(Te){var Re=Te[0].trace;return L.traceIs(Re,"pie-like")?Y.indexOf(Te[0].label)!==-1?.5:1:Re.visible==="legendonly"?.5:1}).each(function(){m.select(this).call(E,z,W)}).call(T,z,W).each(function(){$||m.select(this).call(o,z,re)}),P.syncOrAsync([s.previousPromises,function(){return D(z,De,Fe,W)},function(){var Te=J._size,Re=W.borderwidth,Se=W.xref==="paper",ke=W.yref==="paper";if(be.text&&b(xe,W,Re),!$){var Me,Ve;Se?Me=Te.l+Te.w*W.x-l[k(W)]*W._width:Me=J.width*W.x-l[k(W)]*W._width,ke?Ve=Te.t+Te.h*(1-W.y)-l[O(W)]*W._effHeight:Ve=J.height*(1-W.y)-l[O(W)]*W._effHeight;var tt=N(z,re,Me,Ve);if(tt)return;if(J.margin.autoexpand){var it=Me,Je=Ve;Me=Se?P.constrain(Me,0,J.width-W._width):it,Ve=ke?P.constrain(Ve,0,J.height-W._effHeight):Je,Me!==it&&P.log("Constrain "+re+".x to make legend fit inside graph"),Ve!==Je&&P.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(se,Me,Ve)}if(_e.on(".drag",null),se.on("wheel",null),$||W._height<=W._maxHeight||z._context.staticPlot){var Qe=W._effHeight;$&&(Qe=W._height),fe.attr({width:W._width-Re,height:Qe-Re,x:Re/2,y:Re/2}),p.setTranslate(ge,0,0),te.select("rect").attr({width:W._width-2*Re,height:Qe-2*Re,x:Re,y:Re}),p.setClipUrl(ge,ne,z),p.setRect(_e,0,0,0,0),delete W._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),ht=W._effHeight-ct-2*n.scrollBarMargin,dt=W._height-W._effHeight,Tt=ht/dt,Et=Math.min(W._scrollY||0,dt);fe.attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Re,x:Re/2,y:Re/2}),te.select("rect").attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Re,x:Re,y:Re+Et}),p.setClipUrl(ge,ne,z),Ye(Et,ct,Tt),se.on("wheel",function(){Et=P.constrain(W._scrollY+m.event.deltaY/ht*dt,0,dt),Ye(Et,ct,Tt),Et!==0&&Et!==dt&&m.event.preventDefault()});var rt,ze,Ge,je=function($e,ot,st){var Wt=(st-ot)/Tt+$e;return P.constrain(Wt,0,dt)},We=function($e,ot,st){var Wt=(ot-st)/Tt+$e;return P.constrain(Wt,0,dt)},Le=m.behavior.drag().on("dragstart",function(){var $e=m.event.sourceEvent;$e.type==="touchstart"?rt=$e.changedTouches[0].clientY:rt=$e.clientY,Ge=Et}).on("drag",function(){var $e=m.event.sourceEvent;$e.buttons===2||$e.ctrlKey||($e.type==="touchmove"?ze=$e.changedTouches[0].clientY:ze=$e.clientY,Et=je(Ge,rt,ze),Ye(Et,ct,Tt))});_e.call(Le);var Pe=m.behavior.drag().on("dragstart",function(){var $e=m.event.sourceEvent;$e.type==="touchstart"&&(rt=$e.changedTouches[0].clientY,Ge=Et)}).on("drag",function(){var $e=m.event.sourceEvent;$e.type==="touchmove"&&(ze=$e.changedTouches[0].clientY,Et=We(Ge,rt,ze),Ye(Et,ct,Tt))});ge.call(Pe)}function Ye($e,ot,st){W._scrollY=z._fullLayout[re]._scrollY=$e,p.setTranslate(ge,0,-$e),p.setRect(_e,W._width,n.scrollBarMargin+$e*st,n.scrollBarWidth,ot),te.select("rect").attr("y",Re+$e)}if(z._context.edits.legendPosition){var Ce,he,me,Ne;se.classed("cursor-move",!0),v.init({element:se.node(),gd:z,prepFn:function($e){if($e.target!==_e.node()){var ot=p.getTranslate(se);me=ot.x,Ne=ot.y}},moveFn:function($e,ot){if(me!==void 0&&Ne!==void 0){var st=me+$e,Wt=Ne+ot;p.setTranslate(se,st,Wt),Ce=v.align(st,W._width,Te.l,Te.l+Te.w,W.xanchor),he=v.align(Wt+W._height,-W._height,Te.t+Te.h,Te.t,W.yanchor)}},doneFn:function(){if(Ce!==void 0&&he!==void 0){var $e={};$e[re+".x"]=Ce,$e[re+".y"]=he,L.call("_guiRelayout",z,$e)}},clickFn:function($e,ot){var st=le.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return ot.clientX>=Wt.left&&ot.clientX<=Wt.right&&ot.clientY>=Wt.top&&ot.clientY<=Wt.bottom});st.size()>0&&y(z,se,st,$e,ot)}})}}],z)}}function C(z,B,W){var J=z[0],re=J.width,ne=B.entrywidthmode,le=J.trace.legendwidth||B.entrywidth;return ne==="fraction"?B._maxWidth*le:W+(le||re)}function y(z,B,W,J,re){var ne=W.data()[0][0].trace,le={event:re,node:W.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};ne._group&&(le.group=ne._group),L.traceIs(ne,"pie-like")&&(le.label=W.datum()[0].label);var $=S.triggerHandler(z,"plotly_legendclick",le);if(J===1){if($===!1)return;B._clickTimeout=setTimeout(function(){z._fullLayout&&a(W,z,J)},z._context.doubleClickDelay)}else if(J===2){B._clickTimeout&&clearTimeout(B._clickTimeout),z._legendMouseDownTime=0;var Z=S.triggerHandler(z,"plotly_legenddoubleclick",le);Z!==!1&&$!==!1&&a(W,z,J)}}function E(z,B,W){var J=F(W),re=z.data()[0][0],ne=re.trace,le=L.traceIs(ne,"pie-like"),$=!W._inHover&&B._context.edits.legendText&&!le,Z=W._maxNameLength,ie,X;re.groupTitle?(ie=re.groupTitle.text,X=re.groupTitle.font):(X=W.font,W.entries?ie=re.text:(ie=le?re.label:ne.name,ne._meta&&(ie=P.templateString(ie,ne._meta))));var Q=P.ensureSingle(z,"text",J+"text");Q.attr("text-anchor","start").call(p.font,X).text($?A(ie,Z):ie);var oe=W.indentation+W.itemwidth+n.itemGap*2;t.positionText(Q,oe,0),$?Q.call(t.makeEditable,{gd:B,text:ie}).call(M,z,B,W).on("edit",function(j){this.text(A(j,Z)).call(M,z,B,W);var Y=re.trace._fullInput||{},se={};if(L.hasTransform(Y,"groupby")){var te=L.getTransformIndices(Y,"groupby"),fe=te[te.length-1],ge=P.keyedContainer(Y,"transforms["+fe+"].styles","target","value.name");ge.set(re.trace._group,j),se=ge.constructUpdate()}else se.name=j;return Y._isShape?L.call("_guiRelayout",B,"shapes["+ne.index+"].name",se.name):L.call("_guiRestyle",B,se,ne.index)}):M(Q,z,B,W)}function A(z,B){var W=Math.max(4,B);if(z&&z.trim().length>=W/2)return z;z=z||"";for(var J=W-z.length;J>0;J--)z+=" ";return z}function o(z,B,W){var J=B._context.doubleClickDelay,re,ne=1,le=P.ensureSingle(z,"rect",W+"toggle",function($){B._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(r.fill,"rgba(0,0,0,0)")});B._context.staticPlot||(le.on("mousedown",function(){re=new Date().getTime(),re-B._legendMouseDownTime<J?ne+=1:(ne=1,B._legendMouseDownTime=re)}),le.on("mouseup",function(){if(!(B._dragged||B._editing)){var $=B._fullLayout[W];new Date().getTime()-B._legendMouseDownTime>J&&(ne=Math.max(ne-1,1)),y(B,$,z,ne,m.event)}}))}function M(z,B,W,J,re){J._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,W,function(){x(B,W,J,re)})}function x(z,B,W,J){var re=z.data()[0][0];if(!W._inHover&&re&&!re.trace.showlegend){z.remove();return}var ne=z.select("g[class*=math-group]"),le=ne.node(),$=F(W);W||(W=B._fullLayout[$]);var Z=W.borderwidth,ie;J===i?ie=W.title.font:re.groupTitle?ie=re.groupTitle.font:ie=W.font;var X=ie.size*u,Q,oe;if(le){var j=p.bBox(le);Q=j.height,oe=j.width,J===i?p.setTranslate(ne,Z,Z+Q*.75):p.setTranslate(ne,0,Q*.25)}else{var Y="."+$+(J===i?"title":"")+"text",se=z.select(Y),te=t.lineCount(se),fe=se.node();if(Q=X*te,oe=fe?p.bBox(fe).width:0,J===i)W.title.side==="left"&&(oe+=n.itemGap*2),t.positionText(se,Z+n.titlePad,Z+X);else{var ge=n.itemGap*2+W.indentation+W.itemwidth;re.groupTitle&&(ge=n.itemGap,oe-=W.indentation+W.itemwidth),t.positionText(se,ge,-X*((te-1)/2-.3))}}J===i?(W._titleWidth=oe,W._titleHeight=Q):(re.lineHeight=X,re.height=Math.max(Q,16)+3,re.width=oe)}function I(z){var B=0,W=0,J=z.title.side;return J&&(J.indexOf("left")!==-1&&(B=z._titleWidth),J.indexOf("top")!==-1&&(W=z._titleHeight)),[B,W]}function D(z,B,W,J){var re=z._fullLayout,ne=F(J);J||(J=re[ne]);var le=re._size,$=c.isVertical(J),Z=c.isGrouped(J),ie=J.entrywidthmode==="fraction",X=J.borderwidth,Q=2*X,oe=n.itemGap,j=J.indentation+J.itemwidth+oe*2,Y=2*(X+oe),se=O(J),te=J.y<0||J.y===0&&se==="top",fe=J.y>1||J.y===1&&se==="bottom",ge=J.tracegroupgap,be={};J._maxHeight=Math.max(te||fe?re.height/2:le.h,30);var xe=0;J._width=0,J._height=0;var _e=I(J);if($)W.each(function(Ge){var je=Ge[0].height;p.setTranslate(this,X+_e[0],X+_e[1]+J._height+je/2+oe),J._height+=je,J._width=Math.max(J._width,Ge[0].width)}),xe=j+J._width,J._width+=oe+j+Q,J._height+=Y,Z&&(B.each(function(Ge,je){p.setTranslate(this,0,je*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var De=k(J),Fe=J.x<0||J.x===0&&De==="right",Te=J.x>1||J.x===1&&De==="left",Re=fe||te,Se=re.width/2;J._maxWidth=Math.max(Fe?Re&&De==="left"?le.l+le.w:Se:Te?Re&&De==="right"?le.r+le.w:Se:le.w,2*j);var ke=0,Me=0;W.each(function(Ge){var je=C(Ge,J,j);ke=Math.max(ke,je),Me+=je}),xe=null;var Ve=0;if(Z){var tt=0,it=0,Je=0;B.each(function(){var Ge=0,je=0;m.select(this).selectAll("g.traces").each(function(Le){var Pe=C(Le,J,j),Ye=Le[0].height;p.setTranslate(this,_e[0],_e[1]+X+oe+Ye/2+je),je+=Ye,Ge=Math.max(Ge,Pe),be[Le[0].trace.legendgroup]=Ge});var We=Ge+oe;it>0&&We+X+it>J._maxWidth?(Ve=Math.max(Ve,it),it=0,Je+=tt+ge,tt=je):tt=Math.max(tt,je),p.setTranslate(this,it,Je),it+=We}),J._width=Math.max(Ve,it)+X,J._height=Je+tt+Y}else{var Qe=W.size(),ct=Me+Q+(Qe-1)*oe<J._maxWidth,ht=0,dt=0,Tt=0,Et=0;W.each(function(Ge){var je=Ge[0].height,We=C(Ge,J,j),Le=ct?We:ke;ie||(Le+=oe),Le+X+dt-oe>=J._maxWidth&&(Ve=Math.max(Ve,Et),dt=0,Tt+=ht,J._height+=ht,ht=0),p.setTranslate(this,_e[0]+X+dt,_e[1]+X+Tt+je/2+oe),Et=dt+We+oe,dt+=Le,ht=Math.max(ht,je)}),ct?(J._width=dt+Q,J._height=ht+Y):(J._width=Math.max(Ve,Et)+Q,J._height+=ht+Y)}}J._width=Math.ceil(Math.max(J._width+_e[0],J._titleWidth+2*(X+n.titlePad))),J._height=Math.ceil(Math.max(J._height+_e[1],J._titleHeight+2*(X+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var rt=z._context.edits,ze=rt.legendText||rt.legendPosition;W.each(function(Ge){var je=m.select(this).select("."+ne+"toggle"),We=Ge[0].height,Le=Ge[0].trace.legendgroup,Pe=C(Ge,J,j);Z&&Le!==""&&(Pe=be[Le]);var Ye=ze?j:xe||Pe;!$&&!ie&&(Ye+=oe/2),p.setRect(je,0,-We/2,Ye,We)})}function N(z,B,W,J){var re=z._fullLayout,ne=re[B],le=k(ne),$=O(ne),Z=ne.xref==="paper",ie=ne.yref==="paper";z._fullLayout._reservedMargin[B]={};var X=ne.y<.5?"b":"t",Q=ne.x<.5?"l":"r",oe={r:re.width-W,l:W+ne._width,b:re.height-J,t:J+ne._effHeight};if(Z&&ie)return s.autoMargin(z,B,{x:ne.x,y:ne.y,l:ne._width*l[le],r:ne._width*g[le],b:ne._effHeight*g[$],t:ne._effHeight*l[$]});Z?z._fullLayout._reservedMargin[B][X]=oe[X]:ie||ne.orientation==="v"?z._fullLayout._reservedMargin[B][Q]=oe[Q]:z._fullLayout._reservedMargin[B][X]=oe[X]}function k(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function O(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function F(z){return z._id||"legend"}},35456:function(G,H,e){var m=e(24040),P=e(42451);G.exports=function(L,S,v){var p=S._inHover,r=P.isGrouped(S),t=P.isReversed(S),a={},n=[],f=!1,u={},l=0,g=0,h,T;function c(z,B,W){if(S.visible!==!1&&!(v&&z!==S._id))if(B===""||!P.isGrouped(S)){var J="~~i"+l;n.push(J),a[J]=[W],l++}else n.indexOf(B)===-1?(n.push(B),f=!0,a[B]=[W]):a[B].push(W)}for(h=0;h<L.length;h++){var i=L[h],d=i[0],b=d.trace,w=b.legend,C=b.legendgroup;if(!(!p&&(!b.visible||!b.showlegend)))if(m.traceIs(b,"pie-like"))for(u[C]||(u[C]={}),T=0;T<i.length;T++){var y=i[T].label;u[C][y]||(c(w,C,{label:y,color:i[T].color,i:i[T].i,trace:b,pts:i[T].pts}),u[C][y]=!0,g=Math.max(g,(y||"").length))}else c(w,C,d),g=Math.max(g,(b.name||"").length)}if(!n.length)return[];var E=!f||!r,A=[];for(h=0;h<n.length;h++){var o=a[n[h]];E?A.push(o[0]):A.push(o)}for(E&&(A=[A]),h=0;h<A.length;h++){var M=1/0;for(T=0;T<A[h].length;T++){var x=A[h][T].trace.legendrank;M>x&&(M=x)}A[h][0]._groupMinRank=M,A[h][0]._preGroupSort=h}var I=function(z,B){return z[0]._groupMinRank-B[0]._groupMinRank||z[0]._preGroupSort-B[0]._preGroupSort},D=function(z,B){return z.trace.legendrank-B.trace.legendrank||z._preSort-B._preSort};for(A.forEach(function(z,B){z[0]._preGroupSort=B}),A.sort(I),h=0;h<A.length;h++){A[h].forEach(function(z,B){z._preSort=B}),A[h].sort(D);var N=A[h][0].trace,k=null;for(T=0;T<A[h].length;T++){var O=A[h][T].trace.legendgrouptitle;if(O&&O.text){k=O,p&&(O.font=S._groupTitleFont);break}}if(t&&A[h].reverse(),k){var F=!1;for(T=0;T<A[h].length;T++)if(m.traceIs(A[h][T].trace,"pie-like")){F=!0;break}A[h].unshift({i:-1,groupTitle:k,noClick:F,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:S.groupclick==="toggleitem"?!0:N.visible}})}for(T=0;T<A[h].length;T++)A[h][T]=[A[h][T]]}return S._lgroupsLength=A.length,S._maxNameLength=g,A}},33048:function(G,H,e){var m=e(24040),P=e(3400),s=P.pushUnique,L=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var a=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&a==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var u;if(r===1?u=a:r===2&&(u=n),!u)return;var l=f==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var T=p._fullData,c=(t.shapes||[]).filter(function(Se){return Se.showlegend}),i=T.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var b=d.legendgroup,w,C,y,E,A,o,M={},x=[],I=[],D=[];function N(Se,ke){var Me=x.indexOf(Se),Ve=M.visible;return Ve||(Ve=M.visible=[]),x.indexOf(Se)===-1&&(x.push(Se),Me=x.length-1),Ve[Me]=ke,Me}var k=(t.shapes||[]).map(function(Se){return Se._input}),O=!1;function F(Se,ke){k[Se].visible=ke,O=!0}function z(Se,ke){if(!(h.groupTitle&&!l)){var Me=Se._fullInput||Se,Ve=Me._isShape,tt=Me.index;if(tt===void 0&&(tt=Me._index),m.hasTransform(Me,"groupby")){var it=I[tt];if(!it){var Je=m.getTransformIndices(Me,"groupby"),Qe=Je[Je.length-1];it=P.keyedContainer(Me,"transforms["+Qe+"].styles","target","value.visible"),I[tt]=it}var ct=it.get(Se._group);ct===void 0&&(ct=!0),ct!==!1&&it.set(Se._group,ke),D[tt]=N(tt,Me.visible!==!1)}else{var ht=Me.visible===!1?!1:ke;Ve?F(tt,ht):N(tt,ht)}}}var B=d.legend,W=d._fullInput,J=W&&W._isShape;if(!J&&m.traceIs(d,"pie-like")){var re=h.label,ne=g.indexOf(re);if(u==="toggle")ne===-1?g.push(re):g.splice(ne,1);else if(u==="toggleothers"){var le=ne!==-1,$=[];for(w=0;w<p.calcdata.length;w++){var Z=p.calcdata[w];for(C=0;C<Z.length;C++){var ie=Z[C],X=ie.label;B===Z[0].trace.legend&&re!==X&&(g.indexOf(X)===-1&&(le=!0),s(g,X),$.push(X))}}if(!le)for(var Q=0;Q<$.length;Q++){var oe=g.indexOf($[Q]);oe!==-1&&g.splice(oe,1)}}m.call("_guiRelayout",p,"hiddenlabels",g)}else{var j=b&&b.length,Y=[],se;if(j)for(w=0;w<i.length;w++)se=i[w],se.visible&&se.legendgroup===b&&Y.push(w);if(u==="toggle"){var te;switch(d.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(j)if(l)for(w=0;w<i.length;w++){var fe=i[w];fe.visible!==!1&&fe.legendgroup===b&&z(fe,te)}else z(d,te);else z(d,te)}else if(u==="toggleothers"){var ge,be,xe,_e,De,Fe=!0;for(w=0;w<i.length;w++)if(De=i[w],ge=De===d,xe=De.showlegend!==!0,!(ge||xe)&&(be=j&&De.legendgroup===b,!be&&De.legend===B&&De.visible===!0&&!m.traceIs(De,"notLegendIsolatable"))){Fe=!1;break}for(w=0;w<i.length;w++)if(De=i[w],!(De.visible===!1||De.legend!==B)&&!m.traceIs(De,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(De,!0);break;case!0:_e=Fe?!0:"legendonly",ge=De===d,xe=De.showlegend!==!0&&!De.legendgroup,be=ge||j&&De.legendgroup===b,z(De,be||xe?!0:_e);break}}for(w=0;w<I.length;w++)if(y=I[w],!!y){var Te=y.constructUpdate(),Re=Object.keys(Te);for(C=0;C<Re.length;C++)E=Re[C],o=M[E]=M[E]||[],o[D[w]]=Te[E]}for(A=Object.keys(M),w=0;w<A.length;w++)for(E=A[w],C=0;C<x.length;C++)M[E].hasOwnProperty(C)||(M[E][C]=void 0);O?m.call("_guiUpdate",p,M,{shapes:k},x):m.call("_guiRestyle",p,M,x)}}},42451:function(G,H){H.isGrouped=function(m){return(m.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(m){return m.orientation!=="h"},H.isReversed=function(m){return(m.traceorder||"").indexOf("reversed")!==-1}},2780:function(G,H,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=s.strTranslate,S=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),a=e(69656).castOption,n=e(65196),f=12,u=5,l=2,g=10,h=5;G.exports=function(b,w,C){var y=w._fullLayout;C||(C=y.legend);var E=C.itemsizing==="constant",A=C.itemwidth,o=(A+n.itemGap*2)/2,M=L(o,0),x=function($,Z,ie,X){var Q;if($+1)Q=$;else if(Z&&Z.width>0)Q=Z.width;else return 0;return E?X:Math.min(Q,ie)};b.each(function($){var Z=m.select(this),ie=s.ensureSingle(Z,"g","layers");ie.style("opacity",$[0].trace.opacity);var X=C.indentation,Q=C.valign,oe=$[0].lineHeight,j=$[0].height;if(Q==="middle"&&X===0||!oe||!j)ie.attr("transform",null);else{var Y={top:1,bottom:-1}[Q],se=Y*(.5*(oe-j+3))||0,te=C.indentation;ie.attr("transform",L(te,se))}var fe=ie.selectAll("g.legendfill").data([$]);fe.enter().append("g").classed("legendfill",!0);var ge=ie.selectAll("g.legendlines").data([$]);ge.enter().append("g").classed("legendlines",!0);var be=ie.selectAll("g.legendsymbols").data([$]);be.enter().append("g").classed("legendsymbols",!0),be.selectAll("g.legendpoints").data([$]).enter().append("g").classed("legendpoints",!0)}).each(le).each(N).each(O).each(k).each(z).each(re).each(J).each(I).each(D).each(B).each(W);function I($){var Z=c($),ie=Z.showFill,X=Z.showLine,Q=Z.showGradientLine,oe=Z.showGradientFill,j=Z.anyFill,Y=Z.anyLine,se=$[0],te=se.trace,fe,ge,be=p(te),xe=be.colorscale,_e=be.reversescale,De=function(Ve){if(Ve.size())if(ie)S.fillGroupStyle(Ve,w,!0);else{var tt="legendfill-"+te.uid;S.gradient(Ve,w,tt,T(_e),xe,"fill")}},Fe=function(Ve){if(Ve.size()){var tt="legendline-"+te.uid;S.lineGroupStyle(Ve),S.gradient(Ve,w,tt,T(_e),xe,"stroke")}},Te=r.hasMarkers(te)||!j?"M5,0":Y?"M5,-2":"M5,-3",Re=m.select(this),Se=Re.select(".legendfill").selectAll("path").data(ie||oe?[$]:[]);if(Se.enter().append("path").classed("js-fill",!0),Se.exit().remove(),Se.attr("d",Te+"h"+A+"v6h-"+A+"z").call(De),X||Q){var ke=x(void 0,te.line,g,u);ge=s.minExtend(te,{line:{width:ke}}),fe=[s.minExtend(se,{trace:ge})]}var Me=Re.select(".legendlines").selectAll("path").data(X||Q?[fe]:[]);Me.enter().append("path").classed("js-line",!0),Me.exit().remove(),Me.attr("d",Te+(Q?"l"+A+",0.0001":"h"+A)).call(X?S.lineGroupStyle:Fe)}function D($){var Z=c($),ie=Z.anyFill,X=Z.anyLine,Q=Z.showLine,oe=Z.showMarker,j=$[0],Y=j.trace,se=!oe&&!X&&!ie&&r.hasText(Y),te,fe;function ge(Se,ke,Me,Ve){var tt=s.nestedProperty(Y,Se).get(),it=s.isArrayOrTypedArray(tt)&&ke?ke(tt):tt;if(E&&it&&Ve!==void 0&&(it=Ve),Me){if(it<Me[0])return Me[0];if(it>Me[1])return Me[1]}return it}function be(Se){return j._distinct&&j.index&&Se[j.index]?Se[j.index]:Se[0]}if(oe||se||Q){var xe={},_e={};if(oe){xe.mc=ge("marker.color",be),xe.mx=ge("marker.symbol",be),xe.mo=ge("marker.opacity",s.mean,[.2,1]),xe.mlc=ge("marker.line.color",be),xe.mlw=ge("marker.line.width",s.mean,[0,5],l),_e.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var De=ge("marker.size",s.mean,[2,16],f);xe.ms=De,_e.marker.size=De}Q&&(_e.line={width:ge("line.width",be,[0,10],u)}),se&&(xe.tx="Aa",xe.tp=ge("textposition",be),xe.ts=10,xe.tc=ge("textfont.color",be),xe.tf=ge("textfont.family",be),xe.tw=ge("textfont.weight",be),xe.ty=ge("textfont.style",be),xe.tv=ge("textfont.variant",be),xe.tC=ge("textfont.textcase",be),xe.tE=ge("textfont.lineposition",be),xe.tS=ge("textfont.shadow",be)),te=[s.minExtend(j,xe)],fe=s.minExtend(Y,_e),fe.selectedpoints=null,fe.texttemplate=null}var Fe=m.select(this).select("g.legendpoints"),Te=Fe.selectAll("path.scatterpts").data(oe?te:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",M),Te.exit().remove(),Te.call(S.pointStyle,fe,w),oe&&(te[0].mrc=3);var Re=Fe.selectAll("g.pointtext").data(se?te:[]);Re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",M),Re.exit().remove(),Re.selectAll("text").call(S.textPointStyle,fe,w)}function N($){var Z=$[0].trace,ie=Z.type==="waterfall";if($[0]._distinct&&ie){var X=$[0].trace[$[0].dir].marker;return $[0].mc=X.color,$[0].mlw=X.line.width,$[0].mlc=X.line.color,F($,this,"waterfall")}var Q=[];Z.visible&&ie&&(Q=$[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var oe=m.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Q);oe.enter().append("path").classed("legendwaterfall",!0).attr("transform",M).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(j){var Y=m.select(this),se=Z[j[0]].marker,te=x(void 0,se.line,h,l);Y.attr("d",j[1]).style("stroke-width",te+"px").call(v.fill,se.color),te&&Y.call(v.stroke,se.line.color)})}function k($){F($,this)}function O($){F($,this,"funnel")}function F($,Z,ie){var X=$[0].trace,Q=X.marker||{},oe=Q.line||{},j=Q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Y=ie?X.visible&&X.type===ie:P.traceIs(X,"bar"),se=m.select(Z).select("g.legendpoints").selectAll("path.legend"+ie).data(Y?[$]:[]);se.enter().append("path").classed("legend"+ie,!0).attr("d",j).attr("transform",M),se.exit().remove(),se.each(function(te){var fe=m.select(this),ge=te[0],be=x(ge.mlw,Q.line,h,l);fe.style("stroke-width",be+"px");var xe=ge.mcc;if(!C._inHover&&"mc"in ge){var _e=p(Q),De=_e.mid;De===void 0&&(De=(_e.max+_e.min)/2),xe=S.tryColorscale(Q,"")(De)}var Fe=xe||ge.mc||Q.color,Te=Q.pattern,Re=Te&&S.getPatternAttr(Te.shape,0,"");if(Re){var Se=S.getPatternAttr(Te.bgcolor,0,null),ke=S.getPatternAttr(Te.fgcolor,0,null),Me=Te.fgopacity,Ve=i(Te.size,8,10),tt=i(Te.solidity,.5,1),it="legend-"+X.uid;fe.call(S.pattern,"legend",w,it,Re,Ve,tt,xe,Te.fillmode,Se,ke,Me)}else fe.call(v.fill,Fe);be&&v.stroke(fe,ge.mlc||oe.color)})}function z($){var Z=$[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&P.traceIs(Z,"box-violin")?[$]:[]);ie.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),ie.exit().remove(),ie.each(function(){var X=m.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&v.opacity(Z.fillcolor)===0&&v.opacity((Z.line||{}).color)===0){var Q=s.minExtend(Z,{marker:{size:E?f:s.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ie.call(S.pointStyle,Q,w)}else{var oe=x(void 0,Z.line,h,l);X.style("stroke-width",oe+"px").call(v.fill,Z.fillcolor),oe&&v.stroke(X,Z.line.color)}})}function B($){var Z=$[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[$,$]:[]);ie.enter().append("path").classed("legendcandle",!0).attr("d",function(X,Q){return Q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",M).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(X,Q){var oe=m.select(this),j=Z[Q?"increasing":"decreasing"],Y=x(void 0,j.line,h,l);oe.style("stroke-width",Y+"px").call(v.fill,j.fillcolor),Y&&v.stroke(oe,j.line.color)})}function W($){var Z=$[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[$,$]:[]);ie.enter().append("path").classed("legendohlc",!0).attr("d",function(X,Q){return Q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",M).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(X,Q){var oe=m.select(this),j=Z[Q?"increasing":"decreasing"],Y=x(void 0,j.line,h,l);oe.style("fill","none").call(S.dashLine,j.line.dash,Y),Y&&v.stroke(oe,j.line.color)})}function J($){ne($,this,"pie")}function re($){ne($,this,"funnelarea")}function ne($,Z,ie){var X=$[0],Q=X.trace,oe=ie?Q.visible&&Q.type===ie:P.traceIs(Q,ie),j=m.select(Z).select("g.legendpoints").selectAll("path.legend"+ie).data(oe?[$]:[]);if(j.enter().append("path").classed("legend"+ie,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),j.exit().remove(),j.size()){var Y=Q.marker||{},se=x(a(Y.line.width,X.pts),Y.line,h,l),te="pieLike",fe=s.minExtend(Q,{marker:{line:{width:se}}},te),ge=s.minExtend(X,{trace:fe},te);t(j,ge,fe,w)}}function le($){var Z=$[0].trace,ie,X=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],ie=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],ie=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ie="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ie=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ie=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ie=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ie=!1;break}var Q=m.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);Q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",M).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(oe,j){var Y=m.select(this),se=p(Z),te=se.colorscale,fe=se.reversescale,ge=function(De){if(De.size()){var Fe="legendfill-"+Z.uid;S.gradient(De,w,Fe,T(fe,ie==="radial"),te,"fill")}},be;if(te){if(!ie){var _e=te.length;be=j===0?te[fe?_e-1:0][1]:j===1?te[fe?0:_e-1][1]:te[Math.floor((_e-1)/2)][1]}}else{var xe=Z.vertexcolor||Z.facecolor||Z.color;be=s.isArrayOrTypedArray(xe)?xe[j]||xe[0]:xe}Y.attr("d",oe[0]),be?Y.call(v.fill,be):Y.call(ge)})}};function T(d,b){var w=b?"radial":"horizontal";return w+(d?"":"reversed")}function c(d){var b=d[0].trace,w=b.contours,C=r.hasLines(b),y=r.hasMarkers(b),E=b.visible&&b.fill&&b.fill!=="none",A=!1,o=!1;if(w){var M=w.coloring;M==="lines"?A=!0:C=M==="none"||M==="heatmap"||w.showlines,w.type==="constraint"?E=w._operation!=="=":(M==="fill"||M==="heatmap")&&(o=!0)}return{showMarker:y,showLine:C,showFill:E,showGradientLine:A,showGradientFill:o,anyLine:C||A,anyFill:E||o}}function i(d,b,w){return d&&s.isArrayOrTypedArray(d)?b:d>w?w:d}},66540:function(G,H,e){e(76052),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(G,H,e){var m=e(24040),P=e(7316),s=e(79811),L=e(9224),S=e(4016).eraseActiveShape,v=e(3400),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var b=d._context.toImageButtonOptions||{},w=b.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var b=d._context.toImageButtonOptions,w={format:b.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(C){C in b&&(w[C]=b[C])}),m.call("downloadImage",d,w).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:S},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(d,b){var w=b.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,E=d._fullLayout,A={},o=s.list(d,null,!0),M=E._cartesianSpikesEnabled,x,I;if(C==="zoom"){var D=y==="in"?.5:2,N=(1+D)/2,k=(1-D)/2,O;for(I=0;I<o.length;I++)if(x=o[I],!x.fixedrange)if(O=x._name,y==="auto")A[O+".autorange"]=!0;else if(y==="reset")x._rangeInitial0===void 0&&x._rangeInitial1===void 0?A[O+".autorange"]=!0:x._rangeInitial0===void 0?(A[O+".autorange"]=x._autorangeInitial,A[O+".range"]=[null,x._rangeInitial1]):x._rangeInitial1===void 0?(A[O+".range"]=[x._rangeInitial0,null],A[O+".autorange"]=x._autorangeInitial):A[O+".range"]=[x._rangeInitial0,x._rangeInitial1],x._showSpikeInitial!==void 0&&(A[O+".showspikes"]=x._showSpikeInitial,M==="on"&&!x._showSpikeInitial&&(M="off"));else{var F=[x.r2l(x.range[0]),x.r2l(x.range[1])],z=[N*F[0]+k*F[1],N*F[1]+k*F[0]];A[O+".range[0]"]=x.l2r(z[0]),A[O+".range[1]"]=x.l2r(z[1])}}else C==="hovermode"&&(y==="x"||y==="y")&&(y=E._isHoriz?"y":"x",w.setAttribute("data-val",y)),A[C]=y;E._cartesianSpikesEnabled=M,m.call("_guiRelayout",d,A)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:a},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:a},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:a},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:a};function a(d,b){for(var w=b.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,E=d._fullLayout._subplots.gl3d||[],A={},o=C.split("."),M=0;M<E.length;M++)A[E[M]+"."+o[1]]=y;var x=y==="pan"?y:"zoom";A.dragmode=x,m.call("_guiRelayout",d,A)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,b){for(var w=b.currentTarget,C=w.getAttribute("data-attr"),y=C==="resetLastSave",E=C==="resetDefault",A=d._fullLayout,o=A._subplots.gl3d||[],M={},x=0;x<o.length;x++){var I=o[x],D=I+".camera",N=I+".aspectratio",k=I+".aspectmode",O=A[I]._scene,F;y?(M[D+".up"]=O.viewInitial.up,M[D+".eye"]=O.viewInitial.eye,M[D+".center"]=O.viewInitial.center,F=!0):E&&(M[D+".up"]=null,M[D+".eye"]=null,M[D+".center"]=null,F=!0),F&&(M[N+".x"]=O.viewInitial.aspectratio.x,M[N+".y"]=O.viewInitial.aspectratio.y,M[N+".z"]=O.viewInitial.aspectratio.z,M[k]=O.viewInitial.aspectmode)}m.call("_guiRelayout",d,M)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:u};function f(d,b){var w=b.currentTarget,C=w._previousVal,y=d._fullLayout,E=y._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],o={},M={};if(C)M=C,w._previousVal=null;else{for(var x=0;x<E.length;x++){var I=E[x],D=y[I],N=I+".hovermode";o[N]=D.hovermode,M[N]=!1;for(var k=0;k<3;k++){var O=A[k],F=I+"."+O+".showspikes";M[F]=!1,o[F]=D[O].showspikes}}w._previousVal=o}return M}function u(d,b){var w=f(d,b);m.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function l(d,b){for(var w=b.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,E=d._fullLayout,A=E._subplots.geo||[],o=0;o<A.length;o++){var M=A[o],x=E[M];if(C==="zoom"){var I=x.projection.scale,D=y==="in"?2*I:.5*I;m.call("_guiRelayout",d,M+".projection.scale",D)}}C==="reset"&&i(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function g(d){var b=d._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function h(d){var b=g(d);m.call("_guiRelayout",d,"hovermode",b)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var b={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var C=d._fullData[w]._viewInitial;b["node.groups"].push(C.node.groups.slice()),b["node.x"].push(C.node.x.slice()),b["node.y"].push(C.node.y.slice())}m.call("restyle",d,b)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,b){var w=f(d,b);w.hovermode=g(d),m.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,b){var w=b.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,b),w.setAttribute("data-attr","resetLastSave"),n(d,b),i(d,"geo"),i(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var b=d._fullLayout,w=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=w==="on"?"off":"on",m.call("_guiRelayout",d,T(d))}};function T(d){for(var b=d._fullLayout,w=b._cartesianSpikesEnabled==="on",C=s.list(d,null,!0),y={},E=0;E<C.length;E++){var A=C[E];y[A._name+".showspikes"]=w?!0:A._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){i(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:c};function c(d,b){for(var w=b.currentTarget,C=w.getAttribute("data-val"),y=d._fullLayout,E=y._subplots.mapbox||[],A=1.05,o={},M=0;M<E.length;M++){var x=E[M],I=y[x].zoom,D=C==="in"?A*I:I/A;o[x+".zoom"]=D}m.call("_guiRelayout",d,o)}function i(d,b){for(var w=d._fullLayout,C=w._subplots[b]||[],y={},E=0;E<C.length;E++)for(var A=C[E],o=w[A]._subplot,M=o.viewInitial,x=Object.keys(M),I=0;I<x.length;I++){var D=x[I];y[A+"."+D]=M[D]}m.call("_guiRelayout",d,y)}},76052:function(G,H,e){var m=e(44248),P=Object.keys(m),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),S=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();S.indexOf(r)===-1&&S.push(r),S.indexOf(t)===-1&&S.push(t)}};P.forEach(function(p){v(m[p])}),S.sort(),G.exports={DRAW_MODES:s,backButtons:L,foreButtons:S}},90824:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(66540);G.exports=function(v,p){var r=v.modebar||{},t=s.newContainer(p,"modebar");function a(f,u){return m.coerce(r,t,L,f,u)}a("orientation"),a("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));a("color",P.addOpacity(n,.3)),a("activecolor",P.addOpacity(n,.7)),a("uirevision",p.uirevision),a("add"),a("remove")}},45460:function(G,H,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(G,H,e){var m=e(79811),P=e(43028),s=e(24040),L=e(10624).isUnifiedHover,S=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;G.exports=function(h){var T=h._fullLayout,c=h._context,i=T._modeBar;if(!c.displayModeBar&&!c.watermark){i&&(i.destroy(),delete T._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,b;Array.isArray(d)&&d.length?b=l(d):!c.displayModeBar&&c.watermark?b=[]:b=t(h),i?i.update(h,b):T._modeBar=S(h,b)};function t(g){var h=g._fullLayout,T=g._fullData,c=g._context;function i(j,Y){if(typeof Y=="string"){if(Y.toLowerCase()===j.toLowerCase())return!0}else{var se=Y.name,te=Y._cat||Y.name;if(se===j||te===j.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var b=h.modebar.remove;typeof b=="string"&&(b=[b]);var w=c.modeBarButtonsToAdd.concat(d.filter(function(j){for(var Y=0;Y<c.modeBarButtonsToRemove.length;Y++)if(i(j,c.modeBarButtonsToRemove[Y]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(b.filter(function(j){for(var Y=0;Y<c.modeBarButtonsToAdd.length;Y++)if(i(j,c.modeBarButtonsToAdd[Y]))return!1;return!0})),y=h._has("cartesian"),E=h._has("gl3d"),A=h._has("geo"),o=h._has("pie"),M=h._has("funnelarea"),x=h._has("gl2d"),I=h._has("ternary"),D=h._has("mapbox"),N=h._has("polar"),k=h._has("smith"),O=h._has("sankey"),F=a(h),z=L(h.hovermode),B=[];function W(j){if(j.length){for(var Y=[],se=0;se<j.length;se++){for(var te=j[se],fe=v[te],ge=fe.name.toLowerCase(),be=(fe._cat||fe.name).toLowerCase(),xe=!1,_e=0;_e<C.length;_e++){var De=C[_e].toLowerCase();if(De===ge||De===be){xe=!0;break}}xe||Y.push(v[te])}B.push(Y)}}var J=["toImage"];c.showEditInChartStudio?J.push("editInChartStudio"):c.showSendToCloud&&J.push("sendDataToCloud"),W(J);var re=[],ne=[],le=[],$=[];(y||x||o||M||I)+A+E+D+N+k>1?(ne=["toggleHover"],le=["resetViews"]):A?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],le=["resetGeo"]):E?(ne=["hoverClosest3d"],le=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],le=["resetViewMapbox"]):x?ne=["hoverClosestGl2d"]:o?ne=["hoverClosestPie"]:O?(ne=["hoverClosestCartesian","hoverCompareCartesian"],le=["resetViewSankey"]):ne=["toggleHover"],y&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(T)||z)&&(ne=[]),(y||x)&&!F&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],le[0]!=="resetViews"&&(le=["resetScale2d"])),E?$=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||x)&&!F||I?$=["zoom2d","pan2d"]:D||A?$=["pan2d"]:N&&($=["zoom2d"]),n(T)&&$.push("select2d","lasso2d");var Z=[],ie=function(j){Z.indexOf(j)===-1&&ne.indexOf(j)!==-1&&Z.push(j)};if(Array.isArray(w)){for(var X=[],Q=0;Q<w.length;Q++){var oe=w[Q];typeof oe=="string"?(oe=oe.toLowerCase(),p.indexOf(oe)!==-1?(h._has("mapbox")||h._has("cartesian"))&&$.push(oe):oe==="togglespikelines"?ie("toggleSpikelines"):oe==="togglehover"?ie("toggleHover"):oe==="hovercompare"?ie("hoverCompareCartesian"):oe==="hoverclosest"?(ie("hoverClosestCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie")):oe==="v1hovermode"&&(ie("toggleHover"),ie("hoverClosestCartesian"),ie("hoverCompareCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie"))):X.push(oe)}w=X}return W($),W(re.concat(le)),W(Z),u(B,w)}function a(g){for(var h=m.list({_fullLayout:g},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function n(g){for(var h=!1,T=0;T<g.length&&!h;T++){var c=g[T];!c._module||!c._module.selectPoints||(s.traceIs(c,"scatter-like")?(P.hasMarkers(c)||P.hasText(c))&&(h=!0):s.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(g){for(var h=0;h<g.length;h++)if(!s.traceIs(g[h],"noHover"))return!1;return!0}function u(g,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)g.push(h[T]);else g.push(h);return g}function l(g){for(var h=r([],g),T=0;T<h.length;T++)for(var c=h[T],i=0;i<c.length;i++){var d=c[i];if(typeof d=="string")if(v[d]!==void 0)h[T][i]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(9224),S=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,f){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,g="modebar-"+l._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=l.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(g),s.addRelatedStyleRule(g,T+"#"+g+" .modebar-group","background-color: "+h.bgcolor),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+h.color),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+h.activecolor),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),i=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(c||i||d)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var b=this.getLogo();u.watermark&&(b.className=b.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(g){var h=g.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var T=f.createButton(g);f.buttonElements.push(T),l.appendChild(T)}),f.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),u.setAttribute("data-val",g));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){n.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&m.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||L.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var f=P(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,f].join(" ")),l.setAttribute("class","icon");var g=document.createElementNS(u,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(g)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var g=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",c=m.select(l);if(T)h===u&&c.classed("active",!c.classed("active"));else{var i=h===null?h:s.nestedProperty(f,h).get();c.classed("active",i===g)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==f[u][l].name)return!1}return!0};function t(n){return n+" (v"+S+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(s._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function a(n,f){var u=n._fullLayout,l=new p({graphInfo:n,container:u._modebardiv.node(),buttons:f});return u._privateplot&&m.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}G.exports=a},26680:function(G,H,e){var m=e(25376),P=e(22548),s=e(31780).templatedArray,L=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:m({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(51272),S=e(26680),v=e(85984);G.exports=function(a,n,f,u,l){var g=a.rangeselector||{},h=s.newContainer(n,"rangeselector");function T(w,C){return m.coerce(g,h,S,w,C)}var c=L(g,h,{name:"buttons",handleItemDefaults:p,calendar:l}),i=T("visible",c.length>0);if(i){var d=r(n,f,u);T("x",d[0]),T("y",d[1]),m.noneOrAll(a,n,["x","y"]),T("xanchor"),T("yanchor"),m.coerceFont(T,"font",f.font);var b=T("bgcolor");T("activecolor",P.contrast(b,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,a,n,f){var u=f.calendar;function l(T,c){return m.coerce(t,a,S.buttons,T,c)}var g=l("visible");if(g){var h=l("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?a.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,a,n){for(var f=n.filter(function(h){return a[h].anchor===t._id}),u=0,l=0;l<f.length;l++){var g=a[f[l]].domain;g&&(u=Math.max(g[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(76308),S=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,u=a.FROM_BR,l=e(85984),g=e(48040);G.exports=function(E){var A=E._fullLayout,o=A._infolayer.selectAll(".rangeselector").data(h(E),T);o.enter().append("g").classed("rangeselector",!0),o.exit().remove(),o.style({cursor:"pointer","pointer-events":"all"}),o.each(function(M){var x=m.select(this),I=M,D=I.rangeselector,N=x.selectAll("g.button").data(v.filterVisible(D.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var O=m.select(this),F=g(I,k);k._isActive=c(I,k,F),O.call(i,D,k),O.call(b,D,k,E),O.on("click",function(){E._dragged||P.call("_guiRelayout",E,F)}),O.on("mouseover",function(){k._isHovered=!0,O.call(i,D,k)}),O.on("mouseout",function(){k._isHovered=!1,O.call(i,D,k)})}),C(E,N,D,I._name,x)})};function h(y){for(var E=t.list(y,"x",!0),A=[],o=0;o<E.length;o++){var M=E[o];M.rangeselector&&M.rangeselector.visible&&A.push(M)}return A}function T(y){return y._id}function c(y,E,A){if(E.step==="all")return y.autorange===!0;var o=Object.keys(A);return y.range[0]===A[o[0]]&&y.range[1]===A[o[1]]}function i(y,E,A){var o=v.ensureSingle(y,"rect","selector-rect",function(M){M.attr("shape-rendering","crispEdges")});o.attr({rx:l.rx,ry:l.ry}),o.call(L.stroke,E.bordercolor).call(L.fill,d(E,A)).style("stroke-width",E.borderwidth+"px")}function d(y,E){return E._isActive||E._isHovered?y.activecolor:y.bgcolor}function b(y,E,A,o){function M(I){r.convertToTspans(I,o)}var x=v.ensureSingle(y,"text","selector-text",function(I){I.attr("text-anchor","middle")});x.call(S.font,E.font).text(w(A,o._fullLayout._meta)).call(M)}function w(y,E){return y.label?E?v.templateString(y.label,E):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function C(y,E,A,o,M){var x=0,I=0,D=A.borderwidth;E.each(function(){var B=m.select(this),W=B.select(".selector-text"),J=A.font.size*n,re=Math.max(J*r.lineCount(W),16)+3;I=Math.max(I,re)}),E.each(function(){var B=m.select(this),W=B.select(".selector-rect"),J=B.select(".selector-text"),re=J.node()&&S.bBox(J.node()).width,ne=A.font.size*n,le=r.lineCount(J),$=Math.max(re+10,l.minButtonWidth);B.attr("transform",p(D+x,D)),W.attr({x:0,y:0,width:$,height:I}),r.positionText(J,$/2,I/2-(le-1)*ne/2+3),x+=$+5});var N=y._fullLayout._size,k=N.l+N.w*A.x,O=N.t+N.h*(1-A.y),F="left";v.isRightAnchor(A)&&(k-=x,F="right"),v.isCenterAnchor(A)&&(k-=x/2,F="center");var z="top";v.isBottomAnchor(A)&&(O-=I,z="bottom"),v.isMiddleAnchor(A)&&(O-=I/2,z="middle"),x=Math.ceil(x),I=Math.ceil(I),k=Math.round(k),O=Math.round(O),s.autoMargin(y,o+"-range-selector",{x:A.x,y:A.y,l:x*f[F],r:x*u[F],b:I*u[z],t:I*f[z]}),M.attr("transform",p(k,O))}},48040:function(G,H,e){var m=e(73220),P=e(3400).titleCase;G.exports=function(S,v){var p=S._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=s(S,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function s(L,S){var v=L.range,p=new Date(L.r2l(v[1])),r=S.step,t=m["utc"+P(r)],a=S.count,n;switch(S.stepmode){case"backward":n=L.l2r(+t.offset(p,-a));break;case"todate":var f=t.offset(p,-a);n=L.l2r(+t.ceil(f));break}var u=v[1];return[n,u]}},41152:function(G,H,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(G,H,e){var m=e(22548);G.exports={bgcolor:{valType:"color",dflt:m.background,editType:"plot"},bordercolor:{valType:"color",dflt:m.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(G,H,e){var m=e(79811).list,P=e(19280).getAutoRange,s=e(74636);G.exports=function(S){for(var v=m(S,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[s.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(S,r))}}},74636:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(G,H,e){var m=e(3400),P=e(31780),s=e(79811),L=e(11200),S=e(10936);G.exports=function(p,r,t){var a=p[t],n=r[t];if(!(a.rangeslider||r._requestRangeslider[n._id]))return;m.isPlainObject(a.rangeslider)||(a.rangeslider={});var f=a.rangeslider,u=P.newContainer(n,"rangeslider");function l(o,M){return m.coerce(f,u,L,o,M)}var g,h;function T(o,M){return m.coerce(g,h,S,o,M)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(f.range)),l("range");var i=r._subplots;if(i)for(var d=i.cartesian.filter(function(o){return o.substr(0,o.indexOf("y"))===s.name2id(t)}).map(function(o){return o.substr(o.indexOf("y"),o.length)}),b=m.simpleMap(d,s.id2name),w=0;w<b.length;w++){var C=b[w];g=f[C]||{},h=P.newContainer(u,C,"yaxis");var y=r[C],E;g.range&&y.isValidRange(g.range)&&(E="fixed");var A=T("rangemode",E);A!=="match"&&T("range",y.range.slice())}u._input=f}}},20060:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(3400),S=L.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),a=e(79811),n=e(86476),f=e(93972),u=e(74636);G.exports=function(E){for(var A=E._fullLayout,o=A._rangeSliderData,M=0;M<o.length;M++){var x=o[M][u.name];x._clipId=x._id+"-"+A._uid}function I(N){return N._name}var D=A._infolayer.selectAll("g."+u.containerClassName).data(o,I);D.exit().each(function(N){var k=N[u.name];A._topdefs.select("#"+k._clipId).remove()}).remove(),o.length!==0&&(D.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),D.each(function(N){var k=m.select(this),O=N[u.name],F=A[a.id2name(N.anchor)],z=O[a.id2name(N.anchor)];if(O.range){var B=L.simpleMap(O.range,N.r2l),W=L.simpleMap(N.range,N.r2l),J;W[0]<W[1]?J=[Math.min(B[0],W[0]),Math.max(B[1],W[1])]:J=[Math.max(B[0],W[0]),Math.min(B[1],W[1])],O.range=O._input.range=L.simpleMap(J,N.l2r)}N.cleanRange("rangeslider.range");var re=A._size,ne=N.domain;O._width=re.w*(ne[1]-ne[0]);var le=Math.round(re.l+re.w*ne[0]),$=Math.round(re.t+re.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+O._offsetShift+u.extraPad);k.attr("transform",S(le,$)),O._rl=L.simpleMap(O.range,N.r2l);var Z=O._rl[0],ie=O._rl[1],X=ie-Z;if(O.p2d=function(xe){return xe/O._width*X+Z},O.d2p=function(xe){return(xe-Z)/X*O._width},N.rangebreaks){var Q=N.locateBreaks(Z,ie);if(Q.length){var oe,j,Y=0;for(oe=0;oe<Q.length;oe++)j=Q[oe],Y+=j.max-j.min;var se=O._width/(ie-Z-Y),te=[-se*Z];for(oe=0;oe<Q.length;oe++)j=Q[oe],te.push(te[te.length-1]-se*(j.max-j.min));for(O.d2p=function(xe){for(var _e=te[0],De=0;De<Q.length;De++){var Fe=Q[De];if(xe>=Fe.max)_e=te[De+1];else if(xe<Fe.min)break}return _e+se*xe},oe=0;oe<Q.length;oe++)j=Q[oe],j.pmin=O.d2p(j.min),j.pmax=O.d2p(j.max);O.p2d=function(xe){for(var _e=te[0],De=0;De<Q.length;De++){var Fe=Q[De];if(xe>=Fe.pmax)_e=te[De+1];else if(xe<Fe.pmin)break}return(xe-_e)/se}}}if(z.rangemode!=="match"){var fe=F.r2l(z.range[0]),ge=F.r2l(z.range[1]),be=ge-fe;O.d2pOppAxis=function(xe){return(xe-fe)/be*O._height}}k.call(c,E,N,O).call(i,E,N,O).call(d,E,N,O).call(w,E,N,O,z).call(C,E,N,O).call(y,E,N,O),g(k,E,N,O),T(k,E,N,O,F,z),N.side==="bottom"&&r.draw(E,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:A._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:$+O._height+O._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function l(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function g(E,A,o,M){if(A._context.staticPlot)return;var x=E.select("rect."+u.slideBoxClassName).node(),I=E.select("rect."+u.grabAreaMinClassName).node(),D=E.select("rect."+u.grabAreaMaxClassName).node();function N(){var k=m.event,O=k.target,F=l(k),z=F-E.node().getBoundingClientRect().left,B=M.d2p(o._rl[0]),W=M.d2p(o._rl[1]),J=n.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ne),J.addEventListener("mousemove",re),J.addEventListener("mouseup",ne);function re(le){var $=l(le),Z=+$-F,ie,X,Q;switch(O){case x:if(Q="ew-resize",B+Z>o._length||W+Z<0)return;ie=B+Z,X=W+Z;break;case I:if(Q="col-resize",B+Z>o._length)return;ie=B+Z,X=W;break;case D:if(Q="col-resize",W+Z<0)return;ie=B,X=W+Z;break;default:Q="ew-resize",ie=z,X=z+Z;break}if(X<ie){var oe=X;X=ie,ie=oe}M._pixelMin=ie,M._pixelMax=X,f(m.select(J),Q),h(E,A,o,M)}function ne(){J.removeEventListener("mousemove",re),J.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ne),L.removeElement(J)}}E.on("mousedown",N),E.on("touchstart",N)}function h(E,A,o,M){function x(N){return o.l2r(L.constrain(N,M._rl[0],M._rl[1]))}var I=x(M.p2d(M._pixelMin)),D=x(M.p2d(M._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",A,o._name+".range",[I,D])})}function T(E,A,o,M,x,I){var D=u.handleWidth/2;function N(le){return L.constrain(le,0,M._width)}function k(le){return L.constrain(le,0,M._height)}function O(le){return L.constrain(le,-D,M._width+D)}var F=N(M.d2p(o._rl[0])),z=N(M.d2p(o._rl[1]));if(E.select("rect."+u.slideBoxClassName).attr("x",F).attr("width",z-F),E.select("rect."+u.maskMinClassName).attr("width",F),E.select("rect."+u.maskMaxClassName).attr("x",z).attr("width",M._width-z),I.rangemode!=="match"){var B=M._height-k(M.d2pOppAxis(x._rl[1])),W=M._height-k(M.d2pOppAxis(x._rl[0]));E.select("rect."+u.maskMinOppAxisClassName).attr("x",F).attr("height",B).attr("width",z-F),E.select("rect."+u.maskMaxOppAxisClassName).attr("x",F).attr("y",W).attr("height",M._height-W).attr("width",z-F),E.select("rect."+u.slideBoxClassName).attr("y",B).attr("height",W-B)}var J=.5,re=Math.round(O(F-D))-J,ne=Math.round(O(z-D))+J;E.select("g."+u.grabberMinClassName).attr("transform",S(re,J)),E.select("g."+u.grabberMaxClassName).attr("transform",S(ne,J))}function c(E,A,o,M){var x=L.ensureSingle(E,"rect",u.bgClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=M.borderwidth%2===0?M.borderwidth:M.borderwidth-1,D=-M._offsetShift,N=v.crispRound(A,M.borderwidth);x.attr({width:M._width+I,height:M._height+I,transform:S(D,D),"stroke-width":N}).call(p.stroke,M.bordercolor).call(p.fill,M.bgcolor)}function i(E,A,o,M){var x=A._fullLayout,I=L.ensureSingleById(x._topdefs,"clipPath",M._clipId,function(D){D.append("rect").attr({x:0,y:0})});I.select("rect").attr({width:M._width,height:M._height})}function d(E,A,o,M){var x=A.calcdata,I=E.selectAll("g."+u.rangePlotClassName).data(o._subplotsWith,L.identity);I.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,M._clipId,A),I.order(),I.exit().remove();var D;I.each(function(N,k){var O=m.select(this),F=k===0,z=a.getFromId(A,N,"y"),B=z._name,W=M[B],J={data:[],layout:{xaxis:{type:o.type,domain:[0,1],range:M.range.slice(),calendar:o.calendar},width:M._width,height:M._height,margin:{t:0,b:0,l:0,r:0}},_context:A._context};o.rangebreaks&&(J.layout.xaxis.rangebreaks=o.rangebreaks),J.layout[B]={type:z.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(J.layout[B].rangebreaks=z.rangebreaks),s.supplyDefaults(J);var re=J._fullLayout.xaxis,ne=J._fullLayout[B];re.clearCalc(),re.setScale(),ne.clearCalc(),ne.setScale();var le={id:N,plotgroup:O,xaxis:re,yaxis:ne,isRangePlot:!0};F?D=le:(le.mainplot="xy",le.mainplotinfo=D),t.rangePlot(A,le,b(x,N))})}function b(E,A){for(var o=[],M=0;M<E.length;M++){var x=E[M],I=x[0].trace;I.xaxis+I.yaxis===A&&o.push(x)}return o}function w(E,A,o,M,x){var I=L.ensureSingle(E,"rect",u.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})});I.attr("height",M._height).call(p.fill,u.maskColor);var D=L.ensureSingle(E,"rect",u.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});if(D.attr("height",M._height).call(p.fill,u.maskColor),x.rangemode!=="match"){var N=L.ensureSingle(E,"rect",u.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",M._width).call(p.fill,u.maskOppAxisColor);var k=L.ensureSingle(E,"rect",u.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});k.attr("width",M._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function C(E,A,o,M){if(!A._context.staticPlot){var x=L.ensureSingle(E,"rect",u.slideBoxClassName,function(I){I.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});x.attr({height:M._height,fill:u.slideBoxFill})}}function y(E,A,o,M){var x=L.ensureSingle(E,"g",u.grabberMinClassName),I=L.ensureSingle(E,"g",u.grabberMaxClassName),D={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(M._height/4),height:Math.round(M._height/2)},k=L.ensureSingle(x,"rect",u.handleMinClassName,function(W){W.attr(D)});k.attr(N);var O=L.ensureSingle(I,"rect",u.handleMaxClassName,function(W){W.attr(D)});O.attr(N);var F={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:A._context.staticPlot?void 0:u.grabAreaCursor},z=L.ensureSingle(x,"rect",u.grabAreaMinClassName,function(W){W.attr(F)});z.attr("height",M._height);var B=L.ensureSingle(I,"rect",u.grabAreaMaxClassName,function(W){W.attr(F)});B.attr("height",M._height)}},97944:function(G,H,e){var m=e(79811),P=e(72736),s=e(74636),L=e(84284).LINE_SPACING,S=s.name;function v(p){var r=p&&p[S];return r&&r.visible}H.isVisible=v,H.makeData=function(p){var r=m.list({_fullLayout:p},"x",!0),t=p.margin,a=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){a.push(f);var u=f[S];u._id=S+f._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=a},H.autoMarginOpts=function(p,r){var t=p._fullLayout,a=r[S],n=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+a._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+f+Math.max(t.margin.b,u),pad:s.extraPad+a._offsetShift*2}}},49692:function(G,H,e){var m=e(3400),P=e(11200),s=e(10936),L=e(97944);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:m.extendFlat({},P,{yaxis:s})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(G,H,e){var m=e(13916),P=e(52904).line,s=e(98192).u,L=e(92880).extendFlat,S=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),G.exports=S(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},m.xref,{}),yref:L({},m.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},s,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(93956),S=e(65152);G.exports=function(r,t){s(r,t,{name:"selections",handleItemDefaults:v});for(var a=t.selections,n=0;n<a.length;n++){var f=a[n];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function a(x,I){return m.coerce(p,r,L,x,I)}var n=a("path"),f=n?"path":"rect",u=a("type",f),l=u!=="path";l&&delete r.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var g=["x","y"],h=0;h<2;h++){var T=g[h],c={_fullLayout:t},i,d,b,w=P.coerceRef(p,r,c,T);if(i=P.getFromId(c,w),i._selectionIndices.push(r._index),b=S.rangeToShapePosition(i),d=S.shapePositionToRange(i),l){var C=T+"0",y=T+"1",E=p[C],A=p[y];p[C]=d(p[C],!0),p[y]=d(p[y],!0),P.coercePosition(r,c,a,w,C),P.coercePosition(r,c,a,w,y);var o=r[C],M=r[y];o!==void 0&&M!==void 0&&(r[C]=b(o),r[y]=b(M),p[C]=E,p[y]=A)}}l&&m.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(G,H,e){var m=e(9856).readPaths,P=e(55496),s=e(1936).clearOutlineControllers,L=e(76308),S=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var T=h._fullLayout;s(h),T._selectionLayer.selectAll("path").remove();for(var c in T._plots){var i=T._plots[c].selectionLayer;i&&i.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(h,d)}function a(h){return h._context.editSelection}function n(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,T),i=c.options,d=c.plotinfo;if(!i._input)return;b(h._fullLayout._selectionLayer);function b(w){var C=r(h,i),y={"data-index":T,"fill-rule":"evenodd",d:C},E=i.opacity,A="rgba(0,0,0,0)",o=i.line.color||L.contrast(h._fullLayout.plot_bgcolor),M=i.line.width,x=i.line.dash;M||(M=5,x="solid");var I=a(h)&&h._fullLayout._activeSelectionIndex===T;I&&(A=h._fullLayout.activeselection.fillcolor,E=h._fullLayout.activeselection.opacity);for(var D=[],N=1;N>=0;N--){var k=w.append("path").attr(y).style("opacity",N?.1:E).call(L.stroke,o).call(L.fill,A).call(S.dashLine,N?"solid":x,N?4+M:M);if(f(k,h,i),I){var O=v(h.layout,"selections",i);k.style({cursor:"move"});var F={element:k.node(),plotinfo:d,gd:h,editHelpers:O,isActiveSelection:!0},z=m(C,h);P(z,k,F)}else k.style("pointer-events",N?"all":"none");D[N]=k}var B=D[0],W=D[1];W.node().addEventListener("click",function(){return u(h,B)})}}function f(h,T,c){var i=c.xref+c.yref;S.setClipUrl(h,"clip"+T._fullLayout._uid+i,T)}function u(h,T){if(a(h)){var c=T.node(),i=+c.getAttribute("data-index");if(i>=0){if(i===h._fullLayout._activeSelectionIndex){g(h);return}h._fullLayout._activeSelectionIndex=i,h._fullLayout._deactivateSelection=g,t(h)}}}function l(h){if(a(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=g,t(h)}}function g(h){if(a(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(s(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(G,H,e){var m=e(98192).u,P=e(92880).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},m,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(G){G.exports=function(e,m,P){P("newselection.mode");var s=P("newselection.line.width");s&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(G,H,e){var m=e(72760),P=m.selectMode,s=e(1936),L=s.clearOutline,S=e(9856),v=S.readPaths,p=S.writePaths,r=S.fixDatesForPaths;G.exports=function(a,n){if(a.length){var f=a[0][0];if(f){var u=f.getAttribute("d"),l=n.gd,g=l._fullLayout.newselection,h=n.plotinfo,T=h.xaxis,c=h.yaxis,i=n.isActiveSelection,d=n.dragmode,b=(l.layout||{}).selections||[];if(!P(d)&&i!==void 0){var w=l._fullLayout._activeSelectionIndex;if(w<b.length)switch(l._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(u,l,h,i),y={xref:T._id,yref:c._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},E;C.length===1&&(E=C[0]),E&&E.length===5&&d==="select"?(y.type="rect",y.x0=E[0][1],y.y0=E[0][2],y.x1=E[2][1],y.y1=E[2][2]):(y.type="path",T&&c&&r(C,T,c),y.path=p(C),E=null),L(l);for(var A=n.editHelpers,o=(A||{}).modifyItem,M=[],x=0;x<b.length;x++){var I=l._fullLayout.selections[x];if(!I){M[x]=I;continue}if(M[x]=I._input,i!==void 0&&x===l._fullLayout._activeSelectionIndex){var D=y;switch(I.type){case"rect":o("x0",D.x0),o("x1",D.x1),o("y0",D.y0),o("y1",D.y1);break;case"path":o("path",D.path);break}}}return i===void 0?(M.push(y),M):A?A.getUpdateObj():{}}}}},5840:function(G,H,e){var m=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function s(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function S(v){return m(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:P,r2p:s,axValue:L,getTransform:S}},22676:function(G,H,e){var m=e(23640),P=e(43156);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:m.draw,drawOne:m.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(G,H,e){var m=e(14756),P=e(61456),s=e(24040),L=e(43616).dashStyle,S=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,a=r.rectMode,n=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),g=e(85448),h=e(55496),T=e(1936).clearOutline,c=e(9856),i=c.handleEllipse,d=c.readPaths,b=e(93940).newShapes,w=e(5968),C=e(23640).activateLastSelection,y=e(3400),E=y.sorterAsc,A=e(92065),o=e(91200),M=e(79811).getFromId,x=e(73696),I=e(39172).redrawReglTraces,D=e(83280),N=D.MINSELECT,k=A.filter,O=A.tester,F=e(5840),z=F.p2r,B=F.axValue,W=F.getTransform;function J(We){return We.subplot!==void 0}function re(We,Le,Pe,Ye,Ce){var he=!J(Ye),me=t(Ce),Ne=a(Ce),$e=f(Ce),ot=n(Ce),st=u(Ce),Wt=Ce==="drawline",Zt=Ce==="drawcircle",At=Wt||Zt,Rt=Ye.gd,Xt=Rt._fullLayout,ir=st&&Xt.newselection.mode==="immediate"&&he,pt=Xt._zoomlayer,Kt=Ye.element.getBoundingClientRect(),Qt=Ye.plotinfo,yr=W(Qt),ur=Le-Kt.left,mt=Pe-Kt.top;Xt._calcInverseTransform(Rt);var lt=y.apply3DTransform(Xt._invTransform)(ur,mt);ur=lt[0],mt=lt[1];var bt=Xt._invScaleX,Ct=Xt._invScaleY,Dt=ur,Ht=mt,Bt="M"+ur+","+mt,xt=Ye.xaxes[0],Ut=Ye.yaxes[0],qt=xt._length,or=Ut._length,rr=We.altKey&&!(n(Ce)&&$e),He,Ue,Ot,It,Jt,cr,vr;X(We,Rt,Ye),me&&(He=k([[ur,mt]],D.BENDPX));var tr=pt.selectAll("path.select-outline-"+Qt.id).data([1]),Nt=ot?Xt.newshape:Xt.newselection;ot&&(Ye.hasText=Nt.label.text||Nt.label.texttemplate);var sr=ot&&!$e?Nt.fillcolor:"rgba(0,0,0,0)",dr=Nt.line.color||(he?S.contrast(Rt._fullLayout.plot_bgcolor):"#7f7f7f");tr.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:ot?Nt.opacity/2:1,"stroke-dasharray":L(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(S.stroke,dr).call(S.fill,sr).attr("fill-rule","evenodd").classed("cursor-move",!!ot).attr("transform",yr).attr("d",Bt+"Z");var xr=pt.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(ot&&Ye.hasText){var pr=pt.select(".label-temp");pr.empty()&&(pr=pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Hr=Xt._uid+D.SELECTID,_r=[],Dr=se(Rt,Ye.xaxes,Ye.yaxes,Ye.subplot);ir&&!We.shiftKey&&(Ye._clearSubplotSelections=function(){if(he){var tn=xt._id,Sn=Ut._id;it(Rt,tn,Sn,Dr);for(var Tn=(Rt.layout||{}).selections||[],Tr=[],zr=!1,jr=0;jr<Tn.length;jr++){var Or=Xt.selections[jr];Or.xref!==tn||Or.yref!==Sn?Tr.push(Tn[jr]):zr=!0}zr&&(Rt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Rt,{selections:Tr}))}});var an=rt(Ye);Ye.moveFn=function(tn,Sn){Ye._clearSubplotSelections&&(Ye._clearSubplotSelections(),Ye._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(qt,bt*tn+ur)),Ht=Math.max(0,Math.min(or,Ct*Sn+mt));var Tn=Math.abs(Dt-ur),Tr=Math.abs(Ht-mt);if(Ne){var zr,jr,Or;if(st){var ln=Xt.selectdirection;switch(ln==="any"?Tr<Math.min(Tn*.6,N)?zr="h":Tn<Math.min(Tr*.6,N)?zr="v":zr="d":zr=ln,zr){case"h":jr=Zt?or/2:0,Or=or;break;case"v":jr=Zt?qt/2:0,Or=qt;break}}if(ot)switch(Xt.newshape.drawdirection){case"vertical":zr="h",jr=Zt?or/2:0,Or=or;break;case"horizontal":zr="v",jr=Zt?qt/2:0,Or=qt;break;case"ortho":Tn<Tr?(zr="h",jr=mt,Or=Ht):(zr="v",jr=ur,Or=Dt);break;default:zr="d"}zr==="h"?(It=At?i(Zt,[Dt,jr],[Dt,Or]):[[ur,jr],[ur,Or],[Dt,Or],[Dt,jr]],It.xmin=At?Dt:Math.min(ur,Dt),It.xmax=At?Dt:Math.max(ur,Dt),It.ymin=Math.min(jr,Or),It.ymax=Math.max(jr,Or),xr.attr("d","M"+It.xmin+","+(mt-N)+"h-4v"+2*N+"h4ZM"+(It.xmax-1)+","+(mt-N)+"h4v"+2*N+"h-4Z")):zr==="v"?(It=At?i(Zt,[jr,Ht],[Or,Ht]):[[jr,mt],[jr,Ht],[Or,Ht],[Or,mt]],It.xmin=Math.min(jr,Or),It.xmax=Math.max(jr,Or),It.ymin=At?Ht:Math.min(mt,Ht),It.ymax=At?Ht:Math.max(mt,Ht),xr.attr("d","M"+(ur-N)+","+It.ymin+"v-4h"+2*N+"v4ZM"+(ur-N)+","+(It.ymax-1)+"v4h"+2*N+"v-4Z")):zr==="d"&&(It=At?i(Zt,[ur,mt],[Dt,Ht]):[[ur,mt],[ur,Ht],[Dt,Ht],[Dt,mt]],It.xmin=Math.min(ur,Dt),It.xmax=Math.max(ur,Dt),It.ymin=Math.min(mt,Ht),It.ymax=Math.max(mt,Ht),xr.attr("d","M0,0Z"))}else me&&(He.addPt([Dt,Ht]),It=He.filtered);if(Ye.selectionDefs&&Ye.selectionDefs.length?(Ot=Te(Ye.mergedPolygons,It,rr),It.subtract=rr,Ue=ie(Ye.selectionDefs.concat([It]))):(Ot=[It],Ue=O(It)),h(Se(Ot,$e),tr,Ye),st){var fn=Me(Rt,!1),Mn=fn.eventData?fn.eventData.points.slice():[];fn=Me(Rt,!1,Ue,Dr,Ye),Ue=fn.selectionTesters,vr=fn.eventData;var Pn;He?Pn=He.filtered:Pn=dt(Ot),o.throttle(Hr,D.SELECTDELAY,function(){_r=ke(Ue,Dr);for(var Hn=_r.slice(),ia=0;ia<Mn.length;ia++){for(var ya=Mn[ia],wa=!1,Wn=0;Wn<Hn.length;Wn++)if(Hn[Wn].curveNumber===ya.curveNumber&&Hn[Wn].pointNumber===ya.pointNumber){wa=!0;break}wa||Hn.push(ya)}Hn.length&&(vr||(vr={}),vr.points=Hn),an(vr,Pn),ze(Rt,vr)})}},Ye.clickFn=function(tn,Sn){if(xr.remove(),Rt._fullLayout._activeShapeIndex>=0){Rt._fullLayout._deactivateShape(Rt);return}if(!ot){var Tn=Xt.clickmode;o.done(Hr).then(function(){if(o.clear(Hr),tn===2){for(tr.remove(),Jt=0;Jt<Dr.length;Jt++)cr=Dr[Jt],cr._module.selectPoints(cr,!1);if(De(Rt,Dr),j(Ye),je(Rt),Dr.length){var Tr=Dr[0].xaxis,zr=Dr[0].yaxis;if(Tr&&zr){for(var jr=[],Or=Rt._fullLayout.selections,ln=0;ln<Or.length;ln++){var fn=Or[ln];fn&&(fn.xref!==Tr._id||fn.yref!==zr._id)&&jr.push(fn)}jr.length<Or.length&&(Rt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Rt,{selections:jr}))}}}else Tn.indexOf("select")>-1&&ne(Sn,Rt,Ye.xaxes,Ye.yaxes,Ye.subplot,Ye,tr),Tn==="event"&&Ge(Rt,void 0);v.click(Rt,Sn,Qt.id)}).catch(y.error)}},Ye.doneFn=function(){xr.remove(),o.done(Hr).then(function(){o.clear(Hr),!ir&&It&&Ye.selectionDefs&&(It.subtract=rr,Ye.selectionDefs.push(It),Ye.mergedPolygons.length=0,[].push.apply(Ye.mergedPolygons,Ot)),(ir||ot)&&j(Ye,ir),Ye.doneFnCompleted&&Ye.doneFnCompleted(_r),st&&Ge(Rt,vr)}).catch(y.error)}}function ne(We,Le,Pe,Ye,Ce,he,me){var Ne=Le._hoverdata,$e=Le._fullLayout,ot=$e.clickmode,st=ot.indexOf("event")>-1,Wt=[],Zt,At,Rt,Xt,ir,pt,Kt,Qt,yr,ur;if(fe(Ne)){X(We,Le,he),Zt=se(Le,Pe,Ye,Ce);var mt=ge(Ne,Zt),lt=mt.pointNumbers.length>0;if(lt?xe(Zt,mt):_e(Zt)&&(Kt=be(mt))){for(me&&me.remove(),ur=0;ur<Zt.length;ur++)At=Zt[ur],At._module.selectPoints(At,!1);De(Le,Zt),j(he),st&&je(Le)}else{Qt=We.shiftKey&&(Kt!==void 0?Kt:be(mt)),Rt=le(mt.pointNumber,mt.searchInfo,Qt);var bt=he.selectionDefs.concat([Rt]);for(Xt=ie(bt),ur=0;ur<Zt.length;ur++)if(ir=Zt[ur]._module.selectPoints(Zt[ur],Xt),pt=Re(ir,Zt[ur]),Wt.length)for(var Ct=0;Ct<pt.length;Ct++)Wt.push(pt[Ct]);else Wt=pt;if(yr={points:Wt},De(Le,Zt,yr),Rt&&he&&he.selectionDefs.push(Rt),me){var Dt=he.mergedPolygons,Ht=f(he.dragmode);h(Se(Dt,Ht),me,he)}st&&Ge(Le,yr)}}}function le(We,Le,Pe){return{pointNumber:We,searchInfo:Le,subtract:!!Pe}}function $(We){return"pointNumber"in We&&"searchInfo"in We}function Z(We){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Le,Pe,Ye,Ce){var he=We.searchInfo.cd[0].trace._expandedIndex,me=Ce.cd[0].trace._expandedIndex;return me===he&&Ye===We.pointNumber},isRect:!1,degenerate:!1,subtract:!!We.subtract}}function ie(We){if(!We.length)return;for(var Le=[],Pe=$(We[0])?0:We[0][0][0],Ye=Pe,Ce=$(We[0])?0:We[0][0][1],he=Ce,me=0;me<We.length;me++)if($(We[me]))Le.push(Z(We[me]));else{var Ne=O(We[me]);Ne.subtract=!!We[me].subtract,Le.push(Ne),Pe=Math.min(Pe,Ne.xmin),Ye=Math.max(Ye,Ne.xmax),Ce=Math.min(Ce,Ne.ymin),he=Math.max(he,Ne.ymax)}function $e(ot,st,Wt,Zt){for(var At=!1,Rt=0;Rt<Le.length;Rt++)Le[Rt].contains(ot,st,Wt,Zt)&&(At=!Le[Rt].subtract);return At}return{xmin:Pe,xmax:Ye,ymin:Ce,ymax:he,pts:[],contains:$e,isRect:!1,degenerate:!1}}function X(We,Le,Pe){var Ye=Le._fullLayout,Ce=Pe.plotinfo,he=Pe.dragmode,me=Ye._lastSelectedSubplot&&Ye._lastSelectedSubplot===Ce.id,Ne=(We.shiftKey||We.altKey)&&!(n(he)&&f(he));me&&Ne&&Ce.selection&&Ce.selection.selectionDefs&&!Pe.selectionDefs?(Pe.selectionDefs=Ce.selection.selectionDefs,Pe.mergedPolygons=Ce.selection.mergedPolygons):(!Ne||!Ce.selection)&&j(Pe),me||(T(Le),Ye._lastSelectedSubplot=Ce.id)}function Q(We){return We._fullLayout._activeShapeIndex>=0}function oe(We){return We._fullLayout._activeSelectionIndex>=0}function j(We,Le){var Pe=We.dragmode,Ye=We.plotinfo,Ce=We.gd;Q(Ce)&&Ce._fullLayout._deactivateShape(Ce),oe(Ce)&&Ce._fullLayout._deactivateSelection(Ce);var he=Ce._fullLayout,me=he._zoomlayer,Ne=n(Pe),$e=u(Pe);if(Ne||$e){var ot=me.selectAll(".select-outline-"+Ye.id);if(ot&&Ce._fullLayout._outlining){var st;Ne&&(st=b(ot,We)),st&&s.call("_guiRelayout",Ce,{shapes:st});var Wt;$e&&!J(We)&&(Wt=w(ot,We)),Wt&&(Ce._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ce,{selections:Wt}).then(function(){Le&&C(Ce)})),Ce._fullLayout._outlining=!1}}Ye.selection={},Ye.selection.selectionDefs=We.selectionDefs=[],Ye.selection.mergedPolygons=We.mergedPolygons=[]}function Y(We){return We._id}function se(We,Le,Pe,Ye){if(!We.calcdata)return[];var Ce=[],he=Le.map(Y),me=Pe.map(Y),Ne,$e,ot;for(ot=0;ot<We.calcdata.length;ot++)if(Ne=We.calcdata[ot],$e=Ne[0].trace,!($e.visible!==!0||!$e._module||!$e._module.selectPoints))if(J({subplot:Ye})&&($e.subplot===Ye||$e.geo===Ye))Ce.push(te($e._module,Ne,Le[0],Pe[0]));else if($e.type==="splom"){if($e._xaxes[he[0]]&&$e._yaxes[me[0]]){var st=te($e._module,Ne,Le[0],Pe[0]);st.scene=We._fullLayout._splomScenes[$e.uid],Ce.push(st)}}else if($e.type==="sankey"){var Wt=te($e._module,Ne,Le[0],Pe[0]);Ce.push(Wt)}else{if(he.indexOf($e.xaxis)===-1&&(!$e._xA||!$e._xA.overlaying)||me.indexOf($e.yaxis)===-1&&(!$e._yA||!$e._yA.overlaying))continue;Ce.push(te($e._module,Ne,M(We,$e.xaxis),M(We,$e.yaxis)))}return Ce}function te(We,Le,Pe,Ye){return{_module:We,cd:Le,xaxis:Pe,yaxis:Ye}}function fe(We){return We&&Array.isArray(We)&&We[0].hoverOnBox!==!0}function ge(We,Le){var Pe=We[0],Ye=-1,Ce=[],he,me;for(me=0;me<Le.length;me++)if(he=Le[me],Pe.fullData._expandedIndex===he.cd[0].trace._expandedIndex){if(Pe.hoverOnBox===!0)break;Pe.pointNumber!==void 0?Ye=Pe.pointNumber:Pe.binNumber!==void 0&&(Ye=Pe.binNumber,Ce=Pe.pointNumbers);break}return{pointNumber:Ye,pointNumbers:Ce,searchInfo:he}}function be(We){var Le=We.searchInfo.cd[0].trace,Pe=We.pointNumber,Ye=We.pointNumbers,Ce=Ye.length>0,he=Ce?Ye[0]:Pe;return Le.selectedpoints?Le.selectedpoints.indexOf(he)>-1:!1}function xe(We,Le){var Pe=[],Ye,Ce,he,me;for(me=0;me<We.length;me++)Ye=We[me],Ye.cd[0].trace.selectedpoints&&Ye.cd[0].trace.selectedpoints.length>0&&Pe.push(Ye);if(Pe.length===1&&(he=Pe[0]===Le.searchInfo,he&&(Ce=Le.searchInfo.cd[0].trace,Ce.selectedpoints.length===Le.pointNumbers.length))){for(me=0;me<Le.pointNumbers.length;me++)if(Ce.selectedpoints.indexOf(Le.pointNumbers[me])<0)return!1;return!0}return!1}function _e(We){var Le=0,Pe,Ye,Ce;for(Ce=0;Ce<We.length;Ce++)if(Pe=We[Ce],Ye=Pe.cd[0].trace,Ye.selectedpoints&&(Ye.selectedpoints.length>1||(Le+=Ye.selectedpoints.length,Le>1)))return!1;return Le===1}function De(We,Le,Pe){var Ye;for(Ye=0;Ye<Le.length;Ye++){var Ce=Le[Ye].cd[0].trace._fullInput,he=We._fullLayout._tracePreGUI[Ce.uid]||{};he.selectedpoints===void 0&&(he.selectedpoints=Ce._input.selectedpoints||null)}var me;if(Pe){var Ne=Pe.points||[];for(Ye=0;Ye<Le.length;Ye++)me=Le[Ye].cd[0].trace,me._input.selectedpoints=me._fullInput.selectedpoints=[],me._fullInput!==me&&(me.selectedpoints=[]);for(var $e=0;$e<Ne.length;$e++){var ot=Ne[$e],st=ot.data,Wt=ot.fullData,Zt=ot.pointIndex,At=ot.pointIndices;At?([].push.apply(st.selectedpoints,At),me._fullInput!==me&&[].push.apply(Wt.selectedpoints,At)):(st.selectedpoints.push(Zt),me._fullInput!==me&&Wt.selectedpoints.push(Zt))}}else for(Ye=0;Ye<Le.length;Ye++)me=Le[Ye].cd[0].trace,delete me.selectedpoints,delete me._input.selectedpoints,me._fullInput!==me&&delete me._fullInput.selectedpoints;Fe(We,Le)}function Fe(We,Le){for(var Pe=!1,Ye=0;Ye<Le.length;Ye++){var Ce=Le[Ye],he=Ce.cd;s.traceIs(he[0].trace,"regl")&&(Pe=!0);var me=Ce._module,Ne=me.styleOnSelect||me.style;Ne&&(Ne(We,he,he[0].node3),he[0].nodeRangePlot3&&Ne(We,he,he[0].nodeRangePlot3))}Pe&&(x(We),I(We))}function Te(We,Le,Pe){for(var Ye=Pe?m.difference:m.union,Ce=Ye({regions:We},{regions:[Le]}),he=Ce.regions.reverse(),me=0;me<he.length;me++){var Ne=he[me];Ne.subtract=ct(Ne,he.slice(0,me))}return he}function Re(We,Le){if(Array.isArray(We))for(var Pe=Le.cd,Ye=Le.cd[0].trace,Ce=0;Ce<We.length;Ce++)We[Ce]=p(We[Ce],Ye,Pe);return We}function Se(We,Le){for(var Pe=[],Ye=0;Ye<We.length;Ye++){Pe[Ye]=[];for(var Ce=0;Ce<We[Ye].length;Ce++){Pe[Ye][Ce]=[],Pe[Ye][Ce][0]=Ce?"L":"M";for(var he=0;he<We[Ye][Ce].length;he++)Pe[Ye][Ce].push(We[Ye][Ce][he])}Le||Pe[Ye].push(["Z",Pe[Ye][0][1],Pe[Ye][0][2]])}return Pe}function ke(We,Le){for(var Pe=[],Ye,Ce,he=0;he<Le.length;he++){var me=Le[he];Ce=me._module.selectPoints(me,We),Ye=Re(Ce,me),Pe=Pe.concat(Ye)}return Pe}function Me(We,Le,Pe,Ye,Ce){var he=!!Ye,me,Ne,$e;Ce&&(me=Ce.plotinfo,Ne=Ce.xaxes[0]._id,$e=Ce.yaxes[0]._id);var ot=[],st=[],Wt=Qe(We),Zt=We._fullLayout;if(me){var At=Zt._zoomlayer,Rt=Zt.dragmode,Xt=n(Rt),ir=u(Rt);if(Xt||ir){var pt=M(We,Ne,"x"),Kt=M(We,$e,"y");if(pt&&Kt){var Qt=At.selectAll(".select-outline-"+me.id);if(Qt&&We._fullLayout._outlining&&Qt.length){for(var yr=Qt[0][0],ur=yr.getAttribute("d"),mt=d(ur,We,me),lt=[],bt=0;bt<mt.length;bt++){for(var Ct=mt[bt],Dt=[],Ht=0;Ht<Ct.length;Ht++)Dt.push([ht(pt,Ct[Ht][1]),ht(Kt,Ct[Ht][2])]);Dt.xref=Ne,Dt.yref=$e,Dt.subtract=ct(Dt,lt),lt.push(Dt)}Wt=Wt.concat(lt)}}}}var Bt=Ne&&$e?[Ne+$e]:Zt._subplots.cartesian;Ve(We);for(var xt={},Ut=0;Ut<Bt.length;Ut++){var qt=Bt[Ut],or=qt.indexOf("y"),rr=qt.slice(0,or),He=qt.slice(or),Ue=Ne&&$e?Pe:void 0;if(Ue=Je(Wt,rr,He,Ue),Ue){var Ot=Ye;if(!he){var It=M(We,rr,"x"),Jt=M(We,He,"y");Ot=se(We,[It],[Jt],qt);for(var cr=0;cr<Ot.length;cr++){var vr=Ot[cr],tr=vr.cd[0],Nt=tr.trace;if(vr._module.name==="scattergl"&&!tr.t.xpx){var sr=Nt.x,dr=Nt.y,xr=Nt._length;tr.t.xpx=[],tr.t.ypx=[];for(var pr=0;pr<xr;pr++)tr.t.xpx[pr]=It.c2p(sr[pr]),tr.t.ypx[pr]=Jt.c2p(dr[pr])}vr._module.name==="splom"&&(xt[Nt.uid]||(xt[Nt.uid]=!0))}}var Hr=ke(Ue,Ot);ot=ot.concat(Hr),st=st.concat(Ot)}}var _r={points:ot};De(We,st,_r);var Dr=Zt.clickmode,an=Dr.indexOf("event")>-1&&Le;if(!me&&Le){var tn=Qe(We,!0);if(tn.length){var Sn=tn[0].xref,Tn=tn[0].yref;if(Sn&&Tn){var Tr=dt(tn),zr=Et([M(We,Sn,"x"),M(We,Tn,"y")]);zr(_r,Tr)}}We._fullLayout._noEmitSelectedAtStart?We._fullLayout._noEmitSelectedAtStart=!1:an&&Ge(We,_r),Zt._reselect=!1}if(!me&&Zt._deselect){var jr=Zt._deselect;Ne=jr.xref,$e=jr.yref,tt(Ne,$e,st)||it(We,Ne,$e,Ye),an&&(_r.points.length?Ge(We,_r):je(We)),Zt._deselect=!1}return{eventData:_r,selectionTesters:Pe}}function Ve(We){var Le=We.calcdata;if(Le)for(var Pe=0;Pe<Le.length;Pe++){var Ye=Le[Pe][0],Ce=Ye.trace,he=We._fullLayout._splomScenes;if(he){var me=he[Ce.uid];me&&(me.selectBatch=[])}}}function tt(We,Le,Pe){for(var Ye=0;Ye<Pe.length;Ye++){var Ce=Pe[Ye];if(Ce.xaxis&&Ce.xaxis._id===We&&Ce.yaxis&&Ce.yaxis._id===Le)return!0}return!1}function it(We,Le,Pe,Ye){Ye=se(We,[M(We,Le,"x")],[M(We,Pe,"y")],Le+Pe);for(var Ce=0;Ce<Ye.length;Ce++){var he=Ye[Ce];he._module.selectPoints(he,!1)}De(We,Ye)}function Je(We,Le,Pe,Ye){for(var Ce,he=0;he<We.length;he++){var me=We[he];if(!(Le!==me.xref||Pe!==me.yref))if(Ce){var Ne=!!me.subtract;Ce=Te(Ce,me,Ne),Ye=ie(Ce)}else Ce=[me],Ye=O(me)}return Ye}function Qe(We,Le){for(var Pe=[],Ye=We._fullLayout,Ce=Ye.selections,he=Ce.length,me=0;me<he;me++)if(!(Le&&me!==Ye._activeSelectionIndex)){var Ne=Ce[me];if(Ne){var $e=Ne.xref,ot=Ne.yref,st=M(We,$e,"x"),Wt=M(We,ot,"y"),Zt,At,Rt,Xt,ir;if(Ne.type==="rect"){ir=[];var pt=ht(st,Ne.x0),Kt=ht(st,Ne.x1),Qt=ht(Wt,Ne.y0),yr=ht(Wt,Ne.y1);ir=[[pt,Qt],[pt,yr],[Kt,yr],[Kt,Qt]],Zt=Math.min(pt,Kt),At=Math.max(pt,Kt),Rt=Math.min(Qt,yr),Xt=Math.max(Qt,yr),ir.xmin=Zt,ir.xmax=At,ir.ymin=Rt,ir.ymax=Xt,ir.xref=$e,ir.yref=ot,ir.subtract=!1,ir.isRect=!0,Pe.push(ir)}else if(Ne.type==="path")for(var ur=Ne.path.split("Z"),mt=[],lt=0;lt<ur.length;lt++){var bt=ur[lt];if(bt){bt+="Z";var Ct=l.extractPathCoords(bt,g.paramIsX,"raw"),Dt=l.extractPathCoords(bt,g.paramIsY,"raw");Zt=1/0,At=-1/0,Rt=1/0,Xt=-1/0,ir=[];for(var Ht=0;Ht<Ct.length;Ht++){var Bt=ht(st,Ct[Ht]),xt=ht(Wt,Dt[Ht]);ir.push([Bt,xt]),Zt=Math.min(Bt,Zt),At=Math.max(Bt,At),Rt=Math.min(xt,Rt),Xt=Math.max(xt,Xt)}ir.xmin=Zt,ir.xmax=At,ir.ymin=Rt,ir.ymax=Xt,ir.xref=$e,ir.yref=ot,ir.subtract=ct(ir,mt),mt.push(ir),Pe.push(ir)}}}}return Pe}function ct(We,Le){for(var Pe=!1,Ye=0;Ye<Le.length;Ye++)for(var Ce=Le[Ye],he=0;he<We.length;he++)if(P(We[he],Ce)){Pe=!Pe;break}return Pe}function ht(We,Le){return We.type==="date"&&(Le=Le.replace("_"," ")),We.type==="log"?We.c2p(Le):We.r2p(Le,null,We.calendar)}function dt(We){for(var Le=We.length,Pe=[],Ye=0;Ye<Le;Ye++){var Ce=We[Ye];Pe=Pe.concat(Ce),Pe=Pe.concat([Ce[0]])}return Tt(Pe)}function Tt(We){return We.isRect=We.length===5&&We[0][0]===We[4][0]&&We[0][1]===We[4][1]&&We[0][0]===We[1][0]&&We[2][0]===We[3][0]&&We[0][1]===We[3][1]&&We[1][1]===We[2][1]||We[0][1]===We[1][1]&&We[2][1]===We[3][1]&&We[0][0]===We[3][0]&&We[1][0]===We[2][0],We.isRect&&(We.xmin=Math.min(We[0][0],We[2][0]),We.xmax=Math.max(We[0][0],We[2][0]),We.ymin=Math.min(We[0][1],We[2][1]),We.ymax=Math.max(We[0][1],We[2][1])),We}function Et(We){return function(Le,Pe){for(var Ye,Ce,he=0;he<We.length;he++){var me=We[he],Ne=me._id,$e=Ne.charAt(0);if(Pe.isRect){Ye||(Ye={});var ot=Pe[$e+"min"],st=Pe[$e+"max"];ot!==void 0&&st!==void 0&&(Ye[Ne]=[z(me,ot),z(me,st)].sort(E))}else Ce||(Ce={}),Ce[Ne]=Pe.map(B(me))}Ye&&(Le.range=Ye),Ce&&(Le.lassoPoints=Ce)}}function rt(We){var Le=We.plotinfo;return Le.fillRangeItems||Et(We.xaxes.concat(We.yaxes))}function ze(We,Le){We.emit("plotly_selecting",Le)}function Ge(We,Le){Le&&(Le.selections=(We.layout||{}).selections||[]),We.emit("plotly_selected",Le)}function je(We){We.emit("plotly_deselect",null)}G.exports={reselect:Me,prepSelect:re,clearOutline:T,clearSelectionsCache:j,selectOnClick:ne}},46056:function(G,H,e){var m=e(13916),P=e(25376),s=e(52904).line,L=e(98192).u,S=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);G.exports=v("shape",{visible:S({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:S({},p.legend,{editType:"calc+arraydraw"}),legendgroup:S({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:S({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:S({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:S({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:S({},m.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},m.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},s.color,{editType:"arraydraw"}),width:S({},s.width,{editType:"calc+arraydraw"}),dash:S({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(G,H,e){var m=e(3400),P=e(54460),s=e(85448),L=e(65152);G.exports=function(a){var n=a._fullLayout,f=m.filterVisible(n.shapes);if(!(!f.length||!a._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var g,h,T=P.getRefType(l.xref),c=P.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var i=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;g=P.getFromId(a,l.xref),h=r(g,i,d,l.path,s.paramIsX),h&&(l._extremes[g._id]=P.findExtremes(g,h,S(l)))}if(l.yref!=="paper"&&c!=="domain"){var b=l.ysizemode==="pixel"?l.yanchor:l.y0,w=l.ysizemode==="pixel"?l.yanchor:l.y1;g=P.getFromId(a,l.yref),h=r(g,b,w,l.path,s.paramIsY),h&&(l._extremes[g._id]=P.findExtremes(g,h,v(l)))}}};function S(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,a,n,f,u,l){var g=t/2,h=l;if(a==="pixel"){var T=u?L.extractPathCoords(u,l?s.paramIsY:s.paramIsX):[n,f],c=m.aggNums(Math.max,null,T),i=m.aggNums(Math.min,null,T),d=i<0?Math.abs(i)+g:g,b=c>0?c+g:g;return{ppad:g,ppadplus:h?d:b,ppadminus:h?b:d}}else return{ppad:g}}function r(t,a,n,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(a!==void 0)return[l(a),l(n)];if(f){var g=1/0,h=-1/0,T=f.match(s.segmentRE),c,i,d,b,w;for(t.type==="date"&&(l=L.decodeDate(l)),c=0;c<T.length;c++)i=T[c],d=u[i.charAt(0)].drawn,d!==void 0&&(b=T[c].substr(1).match(s.paramRE),!(!b||b.length<d)&&(w=l(b[d]),w<g&&(g=w),w>h&&(h=w)));if(h>=g)return[g,h]}}},85448:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(46056),S=e(65152);G.exports=function(t,a){s(t,a,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,a){function n($,Z){return m.coerce(r,t,L,$,Z)}t._isShape=!0;var f=n("visible");if(f){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),m.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),g=l?"path":"rect",h=n("type",g),T=h!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var i=n("xsizemode"),d=n("ysizemode"),b=["x","y"],w=0;w<2;w++){var C=b[w],y=C+"anchor",E=C==="x"?i:d,A={_fullLayout:a},o,M,x,I=P.coerceRef(r,t,A,C,void 0,"paper"),D=P.getRefType(I);if(D==="range"?(o=P.getFromId(A,I),o._shapeIndices.push(t._index),x=S.rangeToShapePosition(o),M=S.shapePositionToRange(o)):M=x=m.identity,T){var N=.25,k=.75,O=C+"0",F=C+"1",z=r[O],B=r[F];r[O]=M(r[O],!0),r[F]=M(r[F],!0),E==="pixel"?(n(O,0),n(F,10)):(P.coercePosition(t,A,n,I,O,N),P.coercePosition(t,A,n,I,F,k)),t[O]=x(t[O]),t[F]=x(t[F]),r[O]=z,r[F]=B}if(E==="pixel"){var W=r[y];r[y]=M(r[y],!0),P.coercePosition(t,A,n,I,y,.25),t[y]=x(t[y]),r[y]=W}}T&&m.noneOrAll(r,t,["x0","x1","y0","y1"]);var J=h==="line",re,ne;if(T&&(re=n("label.texttemplate")),re||(ne=n("label.text")),ne||re){n("label.textangle");var le=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(J,le)),n("label.padding"),m.coerceFont(n,"label.font",a.font)}}}},60728:function(G,H,e){var m=e(3400),P=e(54460),s=e(72736),L=e(43616),S=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;G.exports=function(u,l,g,h){if(h.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var T;if(g.label.texttemplate){var c={};if(g.type!=="path"){var i=P.getFromId(u,g.xref),d=P.getFromId(u,g.yref);for(var b in r){var w=r[b](g,i,d);w!==void 0&&(c[b]=w)}}T=m.texttemplateStringForShapes(g.label.texttemplate,{},u._fullLayout._d3locale,c)}else T=g.label.text;var C={"data-index":l},y=g.label.font,E={"data-notex":1},A=h.append("g").attr(C).classed("shape-label",!0),o=A.append("text").attr(E).classed("shape-label-text",!0).text(T),M,x,I,D;if(g.path){var N=p(u,g),k=S(N,u);M=1/0,I=1/0,x=-1/0,D=-1/0;for(var O=0;O<k.length;O++)for(var F=0;F<k[O].length;F++)for(var z=k[O][F],B=1;B<z.length;B+=2){var W=z[B],J=z[B+1];M=Math.min(M,W),x=Math.max(x,W),I=Math.min(I,J),D=Math.max(D,J)}}else{var re=P.getFromId(u,g.xref),ne=P.getRefType(g.xref),le=P.getFromId(u,g.yref),$=P.getRefType(g.yref),Z=v.getDataToPixel(u,re,!1,ne),ie=v.getDataToPixel(u,le,!0,$);M=Z(g.x0),x=Z(g.x1),I=ie(g.y0),D=ie(g.y1)}var X=g.label.textangle;X==="auto"&&(g.type==="line"?X=a(M,I,x,D):X=0),o.call(function(te){return te.call(L.font,y).attr({}),s.convertToTspans(te,u),te});var Q=L.bBox(o.node()),oe=n(M,I,x,D,g,X,Q),j=oe.textx,Y=oe.texty,se=oe.xanchor;o.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:Y,x:j,transform:"rotate("+X+","+j+","+Y+")"}).call(s.positionText,j,Y)}};function a(f,u,l,g){var h,T;return T=Math.abs(l-f),l>=f?h=u-g:h=g-u,-180/Math.PI*Math.atan2(h,T)}function n(f,u,l,g,h,T,c){var i=h.label.textposition,d=h.label.textangle,b=h.label.padding,w=h.type,C=Math.PI/180*T,y=Math.sin(C),E=Math.cos(C),A=h.label.xanchor,o=h.label.yanchor,M,x,I,D;if(w==="line"){i==="start"?(M=f,x=u):i==="end"?(M=l,x=g):(M=(f+l)/2,x=(u+g)/2),A==="auto"&&(i==="start"?d==="auto"?l>f?A="left":l<f?A="right":A="center":l>f?A="right":l<f?A="left":A="center":i==="end"?d==="auto"?l>f?A="right":l<f?A="left":A="center":l>f?A="left":l<f?A="right":A="center":A="center");var N={left:1,center:0,right:-1},k={bottom:-1,middle:0,top:1};if(d==="auto"){var O=k[o];I=-b*y*O,D=b*E*O}else{var F=N[A],z=k[o];I=b*F,D=b*z}M=M+I,x=x+D}else I=b+3,i.indexOf("right")!==-1?(M=Math.max(f,l)-I,A==="auto"&&(A="right")):i.indexOf("left")!==-1?(M=Math.min(f,l)+I,A==="auto"&&(A="left")):(M=(f+l)/2,A==="auto"&&(A="center")),i.indexOf("top")!==-1?x=Math.min(u,g):i.indexOf("bottom")!==-1?x=Math.max(u,g):x=(u+g)/2,D=b,o==="bottom"?x=x-D:o==="top"&&(x=x+D);var B=t[o],W=h.label.font.size,J=c.height,re=(J*B-W)*y,ne=-(J*B-W)*E;return{textx:M+re,texty:x+ne,xanchor:A}}},55496:function(G,H,e){var m=e(3400),P=m.strTranslate,s=e(86476),L=e(72760),S=L.drawMode,v=L.selectMode,p=e(24040),r=e(76308),t=e(7e3),a=t.i000,n=t.i090,f=t.i180,u=t.i270,l=e(1936),g=l.clearOutlineControllers,h=e(9856),T=h.pointsOnRectangle,c=h.pointsOnEllipse,i=h.writePaths,d=e(93940).newShapes,b=e(93940).createShapeObj,w=e(5968),C=e(60728);G.exports=function o(M,x,I,D){D||(D=0);var N=I.gd;function k(){o(M,x,I,D++),(c(M[0])||I.hasText)&&O({redrawing:!0})}function O(Te){var Re={};I.isActiveShape!==void 0&&(I.isActiveShape=!1,Re=d(x,I)),I.isActiveSelection!==void 0&&(I.isActiveSelection=!1,Re=w(x,I),N._fullLayout._reselect=!0),Object.keys(Re).length&&p.call((Te||{}).redrawing?"relayout":"_guiRelayout",N,Re)}var F=N._fullLayout,z=F._zoomlayer,B=I.dragmode,W=S(B),J=v(B);(W||J)&&(N._fullLayout._outlining=!0),g(N),x.attr("d",i(M));var re,ne,le,$,Z;if(!D&&(I.isActiveShape||I.isActiveSelection)){Z=y([],M);var ie=z.append("g").attr("class","outline-controllers");fe(ie),Fe()}if(W&&I.hasText){var X=z.select(".label-temp"),Q=b(x,I,I.dragmode);C(N,"label-temp",Q,X)}function oe(Te){le=+Te.srcElement.getAttribute("data-i"),$=+Te.srcElement.getAttribute("data-j"),re[le][$].moveFn=j}function j(Te,Re){if(M.length){var Se=Z[le][$][1],ke=Z[le][$][2],Me=M[le],Ve=Me.length;if(T(Me)){var tt=Te,it=Re;if(I.isActiveSelection){var Je=E(Me,$);Je[1]===Me[$][1]?it=0:tt=0}for(var Qe=0;Qe<Ve;Qe++)if(Qe!==$){var ct=Me[Qe];ct[1]===Me[$][1]&&(ct[1]=Se+tt),ct[2]===Me[$][2]&&(ct[2]=ke+it)}if(Me[$][1]=Se+tt,Me[$][2]=ke+it,!T(Me))for(var ht=0;ht<Ve;ht++)for(var dt=0;dt<Me[ht].length;dt++)Me[ht][dt]=Z[le][ht][dt]}else Me[$][1]=Se+Te,Me[$][2]=ke+Re;k()}}function Y(){O()}function se(){if(M.length&&M[le]&&M[le].length){for(var Te=[],Re=0;Re<M[le].length;Re++)Re!==$&&Te.push(M[le][Re]);Te.length>1&&!(Te.length===2&&Te[1][0]==="Z")&&($===0&&(Te[0][0]="M"),M[le]=Te,k(),O())}}function te(Te,Re){if(Te===2){le=+Re.srcElement.getAttribute("data-i"),$=+Re.srcElement.getAttribute("data-j");var Se=M[le];!T(Se)&&!c(Se)&&se()}}function fe(Te){re=[];for(var Re=0;Re<M.length;Re++){var Se=M[Re],ke=T(Se),Me=!ke&&c(Se);re[Re]=[];for(var Ve=Se.length,tt=0;tt<Ve;tt++)if(Se[tt][0]!=="Z"&&!(Me&&tt!==a&&tt!==n&&tt!==f&&tt!==u)){var it=ke&&I.isActiveSelection,Je;it&&(Je=E(Se,tt));var Qe=Se[tt][1],ct=Se[tt][2],ht=Te.append(it?"rect":"circle").attr("data-i",Re).attr("data-j",tt).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(it){var dt=Je[1]-Qe,Tt=Je[2]-ct,Et=Tt?5:Math.max(Math.min(25,Math.abs(dt)-5),5),rt=dt?5:Math.max(Math.min(25,Math.abs(Tt)-5),5);ht.classed(Tt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Et).attr("height",rt).attr("x",Qe-Et/2).attr("y",ct-rt/2).attr("transform",P(dt/2,Tt/2))}else ht.classed("cursor-grab",!0).attr("r",5).attr("cx",Qe).attr("cy",ct);re[Re][tt]={element:ht.node(),gd:N,prepFn:oe,doneFn:Y,clickFn:te},s.init(re[Re][tt])}}}function ge(Te,Re){if(M.length)for(var Se=0;Se<M.length;Se++)for(var ke=0;ke<M[Se].length;ke++)for(var Me=0;Me+2<M[Se][ke].length;Me+=2)M[Se][ke][Me+1]=Z[Se][ke][Me+1]+Te,M[Se][ke][Me+2]=Z[Se][ke][Me+2]+Re}function be(Te,Re){ge(Te,Re),k()}function xe(Te){le=+Te.srcElement.getAttribute("data-i"),le||(le=0),ne[le].moveFn=be}function _e(){O()}function De(Te){Te===2&&A(N)}function Fe(){if(ne=[],!!M.length){var Te=0;ne[Te]={element:x[0][0],gd:N,prepFn:xe,doneFn:_e,clickFn:De},s.init(ne[Te])}}};function y(o,M){for(var x=0;x<M.length;x++){var I=M[x];o[x]=[];for(var D=0;D<I.length;D++){o[x][D]=[];for(var N=0;N<I[D].length;N++)o[x][D][N]=I[D][N]}}return o}function E(o,M){var x=o[M][1],I=o[M][2],D=o.length,N,k,O;return N=(M+1)%D,k=o[N][1],O=o[N][2],k===x&&O===I&&(N=(M+2)%D,k=o[N][1],O=o[N][2]),[N,k,O]}function A(o){if(v(o._fullLayout.dragmode)){g(o);var M=o._fullLayout._activeSelectionIndex,x=(o.layout||{}).selections||[];if(M<x.length){for(var I=[],D=0;D<x.length;D++)D!==M&&I.push(x[D]);delete o._fullLayout._activeSelectionIndex;var N=o._fullLayout.selections[M];o._fullLayout._deselect={xref:N.xref,yref:N.yref},p.call("_guiRelayout",o,{selections:I})}}}},4016:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=e(54460),S=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),a=e(43616),n=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),g=e(65152),h=g.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:A,drawLabel:p};function T(o){var M=o._fullLayout;M._shapeUpperLayer.selectAll("path").remove(),M._shapeLowerLayer.selectAll("path").remove(),M._shapeUpperLayer.selectAll("text").remove(),M._shapeLowerLayer.selectAll("text").remove();for(var x in M._plots){var I=M._plots[x].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var D=0;D<M.shapes.length;D++)M.shapes[D].visible===!0&&d(o,D)}function c(o){return!!o._fullLayout._outlining}function i(o){return!o._context.edits.shapePosition}function d(o,M){o._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+M+'"]').remove();var x=g.makeShapesOptionsAndPlotinfo(o,M),I=x.options,D=x.plotinfo;if(!I._input||I.visible!==!0)return;if(I.layer==="above")k(o._fullLayout._shapeUpperLayer);else if(I.xref==="paper"||I.yref==="paper")k(o._fullLayout._shapeLowerLayer);else if(I.layer==="between")k(D.shapelayerBetween);else if(D._hadPlotinfo){var N=D.mainplotinfo||D;k(N.shapelayer)}else k(o._fullLayout._shapeLowerLayer);function k(O){var F=h(o,I),z={"data-index":M,"fill-rule":I.fillrule,d:F},B=I.opacity,W=I.fillcolor,J=I.line.width?I.line.color:"rgba(0,0,0,0)",re=I.line.width,ne=I.line.dash;!re&&I.editable===!0&&(re=5,ne="solid");var le=F[F.length-1]!=="Z",$=i(o)&&I.editable&&o._fullLayout._activeShapeIndex===M;$&&(W=le?"rgba(0,0,0,0)":o._fullLayout.activeshape.fillcolor,B=o._fullLayout.activeshape.opacity);var Z=O.append("g").classed("shape-group",!0).attr({"data-index":M}),ie=Z.append("path").attr(z).style("opacity",B).call(t.stroke,J).call(t.fill,W).call(a.dashLine,ne,re);b(Z,o,I),p(o,M,I,Z);var X;if(($||o._context.edits.shapePosition)&&(X=n(o.layout,"shapes",I)),$){ie.style({cursor:"move"});var Q={element:ie.node(),plotinfo:D,gd:o,editHelpers:X,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},oe=S(F,o);v(oe,ie,Q)}else o._context.edits.shapePosition?w(o,ie,I,M,O,X):I.editable===!0&&ie.style("pointer-events",le||t.opacity(W)*B<=.5?"stroke":"all");ie.node().addEventListener("click",function(){return y(o,ie)})}}function b(o,M,x){var I=(x.xref+x.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(o,I?"clip"+M._fullLayout._uid+I:null,M)}function w(o,M,x,I,D,N){var k=10,O=10,F=x.xsizemode==="pixel",z=x.ysizemode==="pixel",B=x.type==="line",W=x.type==="path",J=N.modifyItem,re,ne,le,$,Z,ie,X,Q,oe,j,Y,se,te,fe,ge,be=m.select(M.node().parentNode),xe=L.getFromId(o,x.xref),_e=L.getRefType(x.xref),De=L.getFromId(o,x.yref),Fe=L.getRefType(x.yref),Te=g.getDataToPixel(o,xe,!1,_e),Re=g.getDataToPixel(o,De,!0,Fe),Se=g.getPixelToData(o,xe,!1,_e),ke=g.getPixelToData(o,De,!0,Fe),Me=it(),Ve={element:Me.node(),gd:o,prepFn:ct,doneFn:ht,clickFn:dt},tt;f.init(Ve),Me.node().onmousemove=Qe;function it(){return B?Je():M}function Je(){var je=10,We=Math.max(x.line.width,je),Le=D.append("g").attr("data-index",I).attr("drag-helper",!0);Le.append("path").attr("d",M.attr("d")).style({cursor:"move","stroke-width":We,"stroke-opacity":"0"});var Pe={"fill-opacity":"0"},Ye=Math.max(We/2,je);return Le.append("circle").attr({"data-line-point":"start-point",cx:F?Te(x.xanchor)+x.x0:Te(x.x0),cy:z?Re(x.yanchor)-x.y0:Re(x.y0),r:Ye}).style(Pe).classed("cursor-grab",!0),Le.append("circle").attr({"data-line-point":"end-point",cx:F?Te(x.xanchor)+x.x1:Te(x.x1),cy:z?Re(x.yanchor)-x.y1:Re(x.y1),r:Ye}).style(Pe).classed("cursor-grab",!0),Le}function Qe(je){if(c(o)){tt=null;return}if(B)je.target.tagName==="path"?tt="move":tt=je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var We=Ve.element.getBoundingClientRect(),Le=We.right-We.left,Pe=We.bottom-We.top,Ye=je.clientX-We.left,Ce=je.clientY-We.top,he=!W&&Le>k&&Pe>O&&!je.shiftKey?f.getCursor(Ye/Le,1-Ce/Pe):"move";u(M,he),tt=he.split("-")[0]}}function ct(je){c(o)||(F&&(Z=Te(x.xanchor)),z&&(ie=Re(x.yanchor)),x.type==="path"?ge=x.path:(re=F?x.x0:Te(x.x0),ne=z?x.y0:Re(x.y0),le=F?x.x1:Te(x.x1),$=z?x.y1:Re(x.y1)),re<le?(oe=re,te="x0",j=le,fe="x1"):(oe=le,te="x1",j=re,fe="x0"),!z&&ne<$||z&&ne>$?(X=ne,Y="y0",Q=$,se="y1"):(X=$,Y="y1",Q=ne,se="y0"),Qe(je),rt(D,x),Ge(M,x,o),Ve.moveFn=tt==="move"?Tt:Et,Ve.altKey=je.altKey)}function ht(){c(o)||(u(M),ze(D),b(M,o,x),P.call("_guiRelayout",o,N.getUpdateObj()))}function dt(){c(o)||ze(D)}function Tt(je,We){if(x.type==="path"){var Le=function(Ce){return Ce},Pe=Le,Ye=Le;F?J("xanchor",x.xanchor=Se(Z+je)):(Pe=function(he){return Se(Te(he)+je)},xe&&xe.type==="date"&&(Pe=g.encodeDate(Pe))),z?J("yanchor",x.yanchor=ke(ie+We)):(Ye=function(he){return ke(Re(he)+We)},De&&De.type==="date"&&(Ye=g.encodeDate(Ye))),J("path",x.path=C(ge,Pe,Ye))}else F?J("xanchor",x.xanchor=Se(Z+je)):(J("x0",x.x0=Se(re+je)),J("x1",x.x1=Se(le+je))),z?J("yanchor",x.yanchor=ke(ie+We)):(J("y0",x.y0=ke(ne+We)),J("y1",x.y1=ke($+We)));M.attr("d",h(o,x)),rt(D,x),p(o,I,x,be)}function Et(je,We){if(W){var Le=function(pt){return pt},Pe=Le,Ye=Le;F?J("xanchor",x.xanchor=Se(Z+je)):(Pe=function(Kt){return Se(Te(Kt)+je)},xe&&xe.type==="date"&&(Pe=g.encodeDate(Pe))),z?J("yanchor",x.yanchor=ke(ie+We)):(Ye=function(Kt){return ke(Re(Kt)+We)},De&&De.type==="date"&&(Ye=g.encodeDate(Ye))),J("path",x.path=C(ge,Pe,Ye))}else if(B){if(tt==="resize-over-start-point"){var Ce=re+je,he=z?ne-We:ne+We;J("x0",x.x0=F?Ce:Se(Ce)),J("y0",x.y0=z?he:ke(he))}else if(tt==="resize-over-end-point"){var me=le+je,Ne=z?$-We:$+We;J("x1",x.x1=F?me:Se(me)),J("y1",x.y1=z?Ne:ke(Ne))}}else{var $e=function(pt){return tt.indexOf(pt)!==-1},ot=$e("n"),st=$e("s"),Wt=$e("w"),Zt=$e("e"),At=ot?X+We:X,Rt=st?Q+We:Q,Xt=Wt?oe+je:oe,ir=Zt?j+je:j;z&&(ot&&(At=X-We),st&&(Rt=Q-We)),(!z&&Rt-At>O||z&&At-Rt>O)&&(J(Y,x[Y]=z?At:ke(At)),J(se,x[se]=z?Rt:ke(Rt))),ir-Xt>k&&(J(te,x[te]=F?Xt:Se(Xt)),J(fe,x[fe]=F?ir:Se(ir)))}M.attr("d",h(o,x)),rt(D,x),p(o,I,x,be)}function rt(je,We){(F||z)&&Le();function Le(){var Pe=We.type!=="path",Ye=je.selectAll(".visual-cue").data([0]),Ce=1;Ye.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ce}).classed("visual-cue",!0);var he=Te(F?We.xanchor:s.midRange(Pe?[We.x0,We.x1]:g.extractPathCoords(We.path,l.paramIsX))),me=Re(z?We.yanchor:s.midRange(Pe?[We.y0,We.y1]:g.extractPathCoords(We.path,l.paramIsY)));if(he=g.roundPositionForSharpStrokeRendering(he,Ce),me=g.roundPositionForSharpStrokeRendering(me,Ce),F&&z){var Ne="M"+(he-1-Ce)+","+(me-1-Ce)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ye.attr("d",Ne)}else if(F){var $e="M"+(he-1-Ce)+","+(me-9-Ce)+"v18 h2 v-18 Z";Ye.attr("d",$e)}else{var ot="M"+(he-9-Ce)+","+(me-1-Ce)+"h18 v2 h-18 Z";Ye.attr("d",ot)}}}function ze(je){je.selectAll(".visual-cue").remove()}function Ge(je,We,Le){var Pe=We.xref,Ye=We.yref,Ce=L.getFromId(Le,Pe),he=L.getFromId(Le,Ye),me="";Pe!=="paper"&&!Ce.autorange&&(me+=Pe),Ye!=="paper"&&!he.autorange&&(me+=Ye),a.setClipUrl(je,me?"clip"+Le._fullLayout._uid+me:null,Le)}}function C(o,M,x){return o.replace(l.segmentRE,function(I){var D=0,N=I.charAt(0),k=l.paramIsX[N],O=l.paramIsY[N],F=l.numParams[N],z=I.substr(1).replace(l.paramRE,function(B){return D>=F||(k[D]?B=M(B):O[D]&&(B=x(B)),D++),B});return N+z})}function y(o,M){if(i(o)){var x=M.node(),I=+x.getAttribute("data-index");if(I>=0){if(I===o._fullLayout._activeShapeIndex){E(o);return}o._fullLayout._activeShapeIndex=I,o._fullLayout._deactivateShape=E,T(o)}}}function E(o){if(i(o)){var M=o._fullLayout._activeShapeIndex;M>=0&&(r(o),delete o._fullLayout._activeShapeIndex,T(o))}}function A(o){if(i(o)){r(o);var M=o._fullLayout._activeShapeIndex,x=(o.layout||{}).shapes||[];if(M<x.length){for(var I=[],D=0;D<x.length;D++)D!==M&&I.push(x[D]);return delete o._fullLayout._activeShapeIndex,P.call("_guiRelayout",o,{shapes:I})}}}},92872:function(G,H,e){var m=e(67824).overrideAll,P=e(45464),s=e(25376),L=e(98192).u,S=e(92880).extendFlat,v=e(21776).ye,p=e(97728);G.exports=m({newshape:{visible:S({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:S({},P.legend,{}),legendgroup:S({},P.legendgroup,{}),legendgrouptitle:{text:S({},P.legendgrouptitle.text,{}),font:s({})},legendrank:S({},P.legendrank,{}),legendwidth:S({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:S({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:S({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:s({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(G){var H=32;G.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(G,H,e){var m=e(76308),P=e(3400);function s(L,S){return L?"bottom":S.indexOf("top")!==-1?"top":S.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(S,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(S||{}).plot_bgcolor||"#FFF";p("newshape.line.color",m.contrast(t)),p("newshape.line.dash")}var a=S.dragmode==="drawline",n=p("newshape.label.text"),f=p("newshape.label.texttemplate");if(n||f){p("newshape.label.textangle");var u=p("newshape.label.textposition",a?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",s(a,u)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(G,H,e){var m=e(21984),P=e(7e3),s=P.CIRCLE_SIDES,L=P.SQRT2,S=e(5840),v=S.p2r,p=S.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];H.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",g=0;g<u;g++)for(var h=f[g].length,T=0;T<h;T++){var c=f[g][T][0];if(c==="Z")l+="Z";else for(var i=f[g][T].length,d=0;d<i;d++){var b=d;c==="Q"||c==="S"?b=t[d]:c==="C"&&(b=r[d]),l+=f[g][T][b],d>0&&d<i-1&&(l+=",")}}return l},H.readPaths=function(f,u,l,g){var h=m(f),T=[],c=-1,i=function(){c++,T[c]=[]},d,b=0,w=0,C,y,E=function(){C=b,y=w};E();for(var A=0;A<h.length;A++){var o=[],M,x,I,D,N=h[A][0],k=N;switch(N){case"M":i(),b=+h[A][1],w=+h[A][2],o.push([k,b,w]),E();break;case"Q":case"S":M=+h[A][1],I=+h[A][2],b=+h[A][3],w=+h[A][4],o.push([k,b,w,M,I]);break;case"C":M=+h[A][1],I=+h[A][2],x=+h[A][3],D=+h[A][4],b=+h[A][5],w=+h[A][6],o.push([k,b,w,M,I,x,D]);break;case"T":case"L":b=+h[A][1],w=+h[A][2],o.push([k,b,w]);break;case"H":k="L",b=+h[A][1],o.push([k,b,w]);break;case"V":k="L",w=+h[A][1],o.push([k,b,w]);break;case"A":k="L";var O=+h[A][1],F=+h[A][2];+h[A][4]||(O=-O,F=-F);var z=b-O,B=w;for(d=1;d<=s/2;d++){var W=2*Math.PI*d/s;o.push([k,z+O*Math.cos(W),B+F*Math.sin(W)])}break;case"Z":(b!==C||w!==y)&&(b=C,w=y,o.push([k,b,w]));break}for(var J=(l||{}).domain,re=u._fullLayout._size,ne=l&&l.xsizemode==="pixel",le=l&&l.ysizemode==="pixel",$=g===!1,Z=0;Z<o.length;Z++){for(d=0;d+2<7;d+=2){var ie=o[Z][d+1],X=o[Z][d+2];ie===void 0||X===void 0||(b=ie,w=X,l&&(l.xaxis&&l.xaxis.p2r?($&&(ie-=l.xaxis._offset),ne?ie=p(l.xaxis,l.xanchor)+ie:ie=v(l.xaxis,ie)):($&&(ie-=re.l),J?ie=J.x[0]+ie/re.w:ie=ie/re.w),l.yaxis&&l.yaxis.p2r?($&&(X-=l.yaxis._offset),le?X=p(l.yaxis,l.yanchor)-X:X=v(l.yaxis,X)):($&&(X-=re.t),J?X=J.y[1]-X/re.h:X=1-X/re.h)),o[Z][d+1]=ie,o[Z][d+2]=X)}T[c].push(o[Z].slice())}}return T};function a(f,u){return Math.abs(f-u)<=1e-6}function n(f,u){var l=u[1]-f[1],g=u[2]-f[2];return Math.sqrt(l*l+g*g)}H.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var g=f[0][l]-f[1][l],h=f[3][l]-f[2][l];if(!a(g,h))return!1;var T=f[0][l]-f[3][l],c=f[1][l]-f[2][l];if(!a(T,c))return!1}return!a(f[0][1],f[1][1])&&!a(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},H.pointsOnEllipse=function(f){var u=f.length;if(u!==s+1)return!1;u=s;for(var l=0;l<u;l++){var g=(u*2-l)%u,h=(u/2+g)%u,T=(u/2+l)%u;if(!a(n(f[l],f[T]),n(f[g],f[h])))return!1}return!0},H.handleEllipse=function(f,u,l){if(!f)return[u,l];var g=H.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),h=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,c=(g.x1-g.x0)/2,i=(g.y1-g.y0)/2;c||(c=i=i/L),i||(i=c=c/L);for(var d=[],b=0;b<s;b++){var w=b*2*Math.PI/s;d.push([h+c*Math.cos(w),T+i*Math.sin(w)])}return d},H.ellipseOver=function(f){var u=f.x0,l=f.y0,g=f.x1,h=f.y1,T=g-u,c=h-l;u-=T,l-=c;var i=(u+g)/2,d=(l+h)/2,b=L;return T*=b,c*=b,{x0:i-T,y0:d-c,x1:i+T,y1:d+c}},H.fixDatesForPaths=function(f,u,l){var g=u.type==="date",h=l.type==="date";if(!g&&!h)return f;for(var T=0;T<f.length;T++)for(var c=0;c<f[T].length;c++)for(var i=0;i+2<f[T][c].length;i+=2)g&&(f[T][c][i+1]=f[T][c][i+1].replace(" ","_")),h&&(f[T][c][i+2]=f[T][c][i+2].replace(" ","_"));return f}},93940:function(G,H,e){var m=e(72760),P=m.drawMode,s=m.openMode,L=e(7e3),S=L.i000,v=L.i090,p=L.i180,r=L.i270,t=L.cos45,a=L.sin45,n=e(5840),f=n.p2r,u=n.r2p,l=e(1936),g=l.clearOutline,h=e(9856),T=h.readPaths,c=h.writePaths,i=h.ellipseOver,d=h.fixDatesForPaths;function b(C,y){if(C.length){var E=C[0][0];if(E){var A=y.gd,o=y.isActiveShape,M=y.dragmode,x=(A.layout||{}).shapes||[];if(!P(M)&&o!==void 0){var I=A._fullLayout._activeShapeIndex;if(I<x.length)switch(A._fullLayout.shapes[I].type){case"rect":M="drawrect";break;case"circle":M="drawcircle";break;case"line":M="drawline";break;case"path":var D=x[I].path||"";D[D.length-1]==="Z"?M="drawclosedpath":M="drawopenpath";break}}var N=w(C,y,M);g(A);for(var k=y.editHelpers,O=(k||{}).modifyItem,F=[],z=0;z<x.length;z++){var B=A._fullLayout.shapes[z];if(F[z]=B._input,o!==void 0&&z===A._fullLayout._activeShapeIndex){var W=N;switch(B.type){case"line":case"rect":case"circle":O("x0",W.x0),O("x1",W.x1),O("y0",W.y0),O("y1",W.y1);break;case"path":O("path",W.path);break}}}return o===void 0?(F.push(N),F):k?k.getUpdateObj():{}}}}function w(C,y,E){var A=C[0][0],o=y.gd,M=A.getAttribute("d"),x=o._fullLayout.newshape,I=y.plotinfo,D=y.isActiveShape,N=I.xaxis,k=I.yaxis,O=!!I.domain||!I.xaxis,F=!!I.domain||!I.yaxis,z=s(E),B=T(M,o,I,D),W={editable:!0,visible:x.visible,name:x.name,showlegend:x.showlegend,legend:x.legend,legendwidth:x.legendwidth,legendgroup:x.legendgroup,legendgrouptitle:{text:x.legendgrouptitle.text,font:x.legendgrouptitle.font},legendrank:x.legendrank,label:x.label,xref:O?"paper":N._id,yref:F?"paper":k._id,layer:x.layer,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}};z||(W.fillcolor=x.fillcolor,W.fillrule=x.fillrule);var J;if(B.length===1&&(J=B[0]),J&&J.length===5&&E==="drawrect")W.type="rect",W.x0=J[0][1],W.y0=J[0][2],W.x1=J[2][1],W.y1=J[2][2];else if(J&&E==="drawline")W.type="line",W.x0=J[0][1],W.y0=J[0][2],W.x1=J[1][1],W.y1=J[1][2];else if(J&&E==="drawcircle"){W.type="circle";var re=J[S][1],ne=J[v][1],le=J[p][1],$=J[r][1],Z=J[S][2],ie=J[v][2],X=J[p][2],Q=J[r][2],oe=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),j=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");oe&&(re=u(I.xaxis,re),ne=u(I.xaxis,ne),le=u(I.xaxis,le),$=u(I.xaxis,$)),j&&(Z=u(I.yaxis,Z),ie=u(I.yaxis,ie),X=u(I.yaxis,X),Q=u(I.yaxis,Q));var Y=(ne+$)/2,se=(Z+X)/2,te=($-ne+le-re)/2,fe=(Q-ie+X-Z)/2,ge=i({x0:Y,y0:se,x1:Y+te*t,y1:se+fe*a});oe&&(ge.x0=f(I.xaxis,ge.x0),ge.x1=f(I.xaxis,ge.x1)),j&&(ge.y0=f(I.yaxis,ge.y0),ge.y1=f(I.yaxis,ge.y1)),W.x0=ge.x0,W.y0=ge.y0,W.x1=ge.x1,W.y1=ge.y1}else W.type="path",N&&k&&d(B,N,k),W.path=c(B),J=null;return W}G.exports={newShapes:b,createShapeObj:w}},1936:function(G){function H(m){var P=m._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(m){var P=m._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),m._fullLayout._outlining=!1}G.exports={clearOutlineControllers:H,clearOutline:e}},65152:function(G,H,e){var m=e(85448),P=e(3400),s=e(54460);H.rangeToShapePosition=function(S){return S.type==="log"?S.r2d:function(v){return v}},H.shapePositionToRange=function(S){return S.type==="log"?S.d2r:function(v){return v}},H.decodeDate=function(S){return function(v){return v.replace&&(v=v.replace("_"," ")),S(v)}},H.encodeDate=function(S){return function(v){return S(v).replace(" ","_")}},H.extractPathCoords=function(S,v,p){var r=[],t=S.match(m.segmentRE);return t.forEach(function(a){var n=v[a.charAt(0)].drawn;if(n!==void 0){var f=a.substr(1).match(m.paramRE);if(!(!f||f.length<n)){var u=f[n],l=p?u:P.cleanNumber(u);r.push(l)}}}),r},H.getDataToPixel=function(S,v,p,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){return v._length*(p?1-f:f)+v._offset};else{var n=H.shapePositionToRange(v);a=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(a=H.decodeDate(a))}else p?a=function(f){return t.t+t.h*(1-f)}:a=function(f){return t.l+t.w*f};return a},H.getPixelToData=function(S,v,p,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){var u=(f-v._offset)/v._length;return p?1-u:u};else{var n=H.rangeToShapePosition(v);a=function(f){return n(v.p2r(f-v._offset))}}else p?a=function(f){return 1-(f-t.t)/t.h}:a=function(f){return(f-t.l)/t.w};return a},H.roundPositionForSharpStrokeRendering=function(S,v){var p=Math.round(v%2)===1,r=Math.round(S);return p?r+.5:r},H.makeShapesOptionsAndPlotinfo=function(S,v){var p=S._fullLayout.shapes[v]||{},r=S._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=S._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=S._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},H.makeSelectionsOptionsAndPlotinfo=function(S,v){var p=S._fullLayout.selections[v]||{},r=S._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=S._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=S._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},H.getPathString=function(S,v){var p=v.type,r=s.getRefType(v.xref),t=s.getRefType(v.yref),a=s.getFromId(S,v.xref),n=s.getFromId(S,v.yref),f=S._fullLayout._size,u,l,g,h,T,c,i,d;if(a?r==="domain"?l=function(I){return a._offset+a._length*I}:(u=H.shapePositionToRange(a),l=function(I){return a._offset+a.r2p(u(I,!0))}):l=function(I){return f.l+f.w*I},n?t==="domain"?h=function(I){return n._offset+n._length*(1-I)}:(g=H.shapePositionToRange(n),h=function(I){return n._offset+n.r2p(g(I,!0))}):h=function(I){return f.t+f.h*(1-I)},p==="path")return a&&a.type==="date"&&(l=H.decodeDate(l)),n&&n.type==="date"&&(h=H.decodeDate(h)),L(v,l,h);if(v.xsizemode==="pixel"){var b=l(v.xanchor);T=b+v.x0,c=b+v.x1}else T=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var w=h(v.yanchor);i=w-v.y0,d=w-v.y1}else i=h(v.y0),d=h(v.y1);if(p==="line")return"M"+T+","+i+"L"+c+","+d;if(p==="rect")return"M"+T+","+i+"H"+c+"V"+d+"H"+T+"Z";var C=(T+c)/2,y=(i+d)/2,E=Math.abs(C-T),A=Math.abs(y-i),o="A"+E+","+A,M=C+E+","+y,x=C+","+(y-A);return"M"+M+o+" 0 1,1 "+x+o+" 0 0,1 "+M+"Z"};function L(S,v,p){var r=S.path,t=S.xsizemode,a=S.ysizemode,n=S.xanchor,f=S.yanchor;return r.replace(m.segmentRE,function(u){var l=0,g=u.charAt(0),h=m.paramIsX[g],T=m.paramIsY[g],c=m.numParams[g],i=u.substr(1).replace(m.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):T[l]&&(a==="pixel"?d=p(f)-Number(d):d=p(d)),l++,l>c&&(d="X"),d});return l>c&&(i=i.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+u)),g+i})}},41592:function(G,H,e){var m=e(4016);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:m.draw,drawOne:m.drawOne}},97728:function(G){function H(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function m(u){return u.x0}function P(u){return u.x1}function s(u){return u.y0}function L(u){return u.y1}function S(u,l){return H(u.x1,l)-H(u.x0,l)}function v(u,l,g){return H(u.y1,g)-H(u.y0,g)}function p(u,l){return Math.abs(S(u,l))}function r(u,l,g){return Math.abs(v(u,l,g))}function t(u,l,g){return u.type!=="line"?void 0:Math.sqrt(Math.pow(S(u,l),2)+Math.pow(v(u,l,g),2))}function a(u,l){return e((H(u.x1,l)+H(u.x0,l))/2,l)}function n(u,l,g){return e((H(u.y1,g)+H(u.y0,g))/2,g)}function f(u,l,g){return u.type!=="line"?void 0:v(u,l,g)/S(u,l)}G.exports={x0:m,x1:P,y0:s,y1:L,slope:f,dx:S,dy:v,width:p,height:r,length:t,xcenter:a,ycenter:n}},89861:function(G,H,e){var m=e(25376),P=e(66741),s=e(92880).extendDeepAll,L=e(67824).overrideAll,S=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:S.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:m({})},font:m({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(G,H,e){var m=e(3400),P=e(51272),s=e(89861),L=e(60876),S=L.name,v=s.steps;G.exports=function(a,n){P(a,n,{name:S,handleItemDefaults:p})};function p(t,a,n){function f(d,b){return m.coerce(t,a,s,d,b)}for(var u=P(t,a,{name:"steps",handleItemDefaults:r}),l=0,g=0;g<u.length;g++)u[g].visible&&l++;var h;if(l<2?h=a.visible=!1:h=f("visible"),!!h){a._stepCount=l;var T=a._visibleSteps=m.filterVisible(u),c=f("active");(u[c]||{}).visible||(a.active=T[0]._index),f("x"),f("y"),m.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),m.coerceFont(f,"font",n.font);var i=f("currentvalue.visible");i&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),m.coerceFont(f,"currentvalue.font",a.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,a){function n(l,g){return m.coerce(t,a,v,l,g)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=a.visible=!1:f=n("visible"),f){n("method"),n("args");var u=n("label","step-"+a._index);n("value",u),n("execute")}}},79664:function(G,H,e){var m=e(33428),P=e(7316),s=e(76308),L=e(43616),S=e(3400),v=S.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,u=a.FROM_BR;G.exports=function(O){var F=O._context.staticPlot,z=O._fullLayout,B=g(z,O),W=z._infolayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",F?null:"ew-resize");function J($){$._commandObserver&&($._commandObserver.remove(),delete $._commandObserver),P.autoMargin(O,l($))}if(W.exit().each(function(){m.select(this).selectAll("g."+t.groupClassName).each(J)}).remove(),B.length!==0){var re=W.selectAll("g."+t.groupClassName).data(B,h);re.enter().append("g").classed(t.groupClassName,!0),re.exit().each(J).remove();for(var ne=0;ne<B.length;ne++){var le=B[ne];T(O,le)}re.each(function($){var Z=m.select(this);o($),P.manageCommandObserver(O,$,$._visibleSteps,function(ie){var X=Z.data()[0];X.active!==ie.index&&(X._dragging||y(O,Z,X,ie.index,!1,!0))}),c(O,m.select(this),$)})}};function l(k){return t.autoMarginIdRoot+k._index}function g(k,O){for(var F=k[t.name],z=[],B=0;B<F.length;B++){var W=F[B];W.visible&&(W._gd=O,z.push(W))}return z}function h(k){return k._index}function T(k,O){var F=L.tester.selectAll("g."+t.labelGroupClass).data(O._visibleSteps);F.enter().append("g").classed(t.labelGroupClass,!0);var z=0,B=0;F.each(function(Q){var oe=m.select(this),j=b(oe,{step:Q},O),Y=j.node();if(Y){var se=L.bBox(Y);B=Math.max(B,se.height),z=Math.max(z,se.width)}}),F.remove();var W=O._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var J=k._fullLayout._size;W.lx=J.l+J.w*O.x,W.ly=J.t+J.h*(1-O.y),O.lenmode==="fraction"?W.outerLength=Math.round(J.w*O.len):W.outerLength=O.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-O.pad.l-O.pad.r);var re=W.inputAreaLength-2*t.stepInset,ne=re/(O._stepCount-1),le=z+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(le/ne)),W.labelHeight=B,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,O.currentvalue.visible){var $=L.tester.append("g");F.each(function(Q){var oe=i($,O,Q.label),j=oe.node()&&L.bBox(oe.node())||{width:0,height:0},Y=p.lineCount(oe);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(j.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(j.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,Y)}),W.currentValueTotalHeight=W.currentValueHeight+O.currentvalue.offset,$.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+O.ticklen+t.labelOffset+W.labelHeight+O.pad.t+O.pad.b;var Z="left";S.isRightAnchor(O)&&(W.lx-=W.outerLength,Z="right"),S.isCenterAnchor(O)&&(W.lx-=W.outerLength/2,Z="center");var ie="top";S.isBottomAnchor(O)&&(W.ly-=W.height,ie="bottom"),S.isMiddleAnchor(O)&&(W.ly-=W.height/2,ie="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var X={y:O.y,b:W.height*u[ie],t:W.height*f[ie]};O.lenmode==="fraction"?(X.l=0,X.xl=O.x-O.len*f[Z],X.r=0,X.xr=O.x+O.len*u[Z]):(X.x=O.x,X.l=W.outerLength*f[Z],X.r=W.outerLength*u[Z]),P.autoMargin(k,l(O),X)}function c(k,O,F){(F.steps[F.active]||{}).visible||(F.active=F._visibleSteps[0]._index),O.call(i,F).call(N,F).call(w,F).call(A,F).call(D,k,F).call(d,k,F);var z=F._dims;L.setTranslate(O,z.lx+F.pad.l,z.ly+F.pad.t),O.call(M,F,!1),O.call(i,F)}function i(k,O,F){if(O.currentvalue.visible){var z=O._dims,B,W;switch(O.currentvalue.xanchor){case"right":B=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,W="left";break;case"center":B=z.inputAreaLength*.5,W="middle";break;default:B=t.currentValueInset,W="left"}var J=S.ensureSingle(k,"text",t.labelClass,function(ie){ie.attr({"text-anchor":W,"data-notex":1})}),re=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof F=="string")re+=F;else{var ne=O.steps[O.active].label,le=O._gd._fullLayout._meta;le&&(ne=S.templateString(ne,le)),re+=ne}O.currentvalue.suffix&&(re+=O.currentvalue.suffix),J.call(L.font,O.currentvalue.font).text(re).call(p.convertToTspans,O._gd);var $=p.lineCount(J),Z=(z.currentValueMaxLines+1-$)*O.currentvalue.font.size*n;return p.positionText(J,B,Z),J}}function d(k,O,F){var z=S.ensureSingle(k,"rect",t.gripRectClass,function(B){B.call(E,O,k,F).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(s.stroke,F.bordercolor).call(s.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function b(k,O,F){var z=S.ensureSingle(k,"text",t.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),B=O.step.label,W=F._gd._fullLayout._meta;return W&&(B=S.templateString(B,W)),z.call(L.font,F.font).text(B).call(p.convertToTspans,F._gd),z}function w(k,O){var F=S.ensureSingle(k,"g",t.labelsClass),z=O._dims,B=F.selectAll("g."+t.labelGroupClass).data(z.labelSteps);B.enter().append("g").classed(t.labelGroupClass,!0),B.exit().remove(),B.each(function(W){var J=m.select(this);J.call(b,W,O),L.setTranslate(J,x(O,W.fraction),t.tickOffset+O.ticklen+O.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function C(k,O,F,z,B){var W=Math.round(z*(F._stepCount-1)),J=F._visibleSteps[W]._index;J!==F.active&&y(k,O,F,J,!0,B)}function y(k,O,F,z,B,W){var J=F.active;F.active=z,r(k.layout,t.name,F).applyUpdate("active",z);var re=F.steps[F.active];O.call(M,F,W),O.call(i,F),k.emit("plotly_sliderchange",{slider:F,step:F.steps[F.active],interaction:B,previousActive:J}),re&&re.method&&B&&(O._nextMethod?(O._nextMethod.step=re,O._nextMethod.doCallback=B,O._nextMethod.doTransition=W):(O._nextMethod={step:re,doCallback:B,doTransition:W},O._nextMethodRaf=window.requestAnimationFrame(function(){var ne=O._nextMethod.step;ne.method&&(ne.execute&&P.executeAPICommand(k,ne.method,ne.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function E(k,O,F){if(O._context.staticPlot)return;var z=F.node(),B=m.select(O);function W(){return F.data()[0]}function J(){var re=W();O.emit("plotly_sliderstart",{slider:re});var ne=F.select("."+t.gripRectClass);m.event.stopPropagation(),m.event.preventDefault(),ne.call(s.fill,re.activebgcolor);var le=I(re,m.mouse(z)[0]);C(O,F,re,le,!0),re._dragging=!0;function $(){var ie=W(),X=I(ie,m.mouse(z)[0]);C(O,F,ie,X,!1)}B.on("mousemove",$),B.on("touchmove",$);function Z(){var ie=W();ie._dragging=!1,ne.call(s.fill,ie.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),O.emit("plotly_sliderend",{slider:ie,step:ie.steps[ie.active]})}B.on("mouseup",Z),B.on("touchend",Z)}k.on("mousedown",J),k.on("touchstart",J)}function A(k,O){var F=k.selectAll("rect."+t.tickRectClass).data(O._visibleSteps),z=O._dims;F.enter().append("rect").classed(t.tickRectClass,!0),F.exit().remove(),F.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),F.each(function(B,W){var J=W%z.labelStride===0,re=m.select(this);re.attr({height:J?O.ticklen:O.minorticklen}).call(s.fill,O.tickcolor),L.setTranslate(re,x(O,W/(O._stepCount-1))-.5*O.tickwidth,(J?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function o(k){var O=k._dims;O.labelSteps=[];for(var F=k._stepCount,z=0;z<F;z+=O.labelStride)O.labelSteps.push({fraction:z/(F-1),step:k._visibleSteps[z]})}function M(k,O,F){for(var z=k.select("rect."+t.gripRectClass),B=0,W=0;W<O._stepCount;W++)if(O._visibleSteps[W]._index===O.active){B=W;break}var J=x(O,B/(O._stepCount-1));if(!O._invokingCommand){var re=z;F&&O.transition.duration>0&&(re=re.transition().duration(O.transition.duration).ease(O.transition.easing)),re.attr("transform",v(J-t.gripWidth*.5,O._dims.currentValueTotalHeight))}}function x(k,O){var F=k._dims;return F.inputAreaStart+t.stepInset+(F.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,O))}function I(k,O){var F=k._dims;return Math.min(1,Math.max(0,(O-t.stepInset-F.inputAreaStart)/(F.inputAreaLength-2*t.stepInset-2*F.inputAreaStart)))}function D(k,O,F){var z=F._dims,B=S.ensureSingle(k,"rect",t.railTouchRectClass,function(W){W.call(E,O,k,F).style("pointer-events","all")});B.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+F.ticklen+z.labelHeight)}).call(s.fill,F.bgcolor).attr("opacity",0),L.setTranslate(B,0,z.currentValueTotalHeight)}function N(k,O){var F=O._dims,z=F.inputAreaLength-t.railInset*2,B=S.ensureSingle(k,"rect",t.railRectClass);B.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,O.bordercolor).call(s.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),L.setTranslate(B,t.railInset,(F.inputAreaWidth-t.railWidth)*.5+F.currentValueTotalHeight)}},97544:function(G,H,e){var m=e(60876);G.exports={moduleType:"component",name:m.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(G,H,e){var m=e(33428),P=e(38248),s=e(7316),L=e(24040),S=e(3400),v=S.strTranslate,p=e(43616),r=e(76308),t=e(72736),a=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,g,h){var T=h.propContainer,c=h.propName,i=h.placeholder,d=h.traceIndex,b=h.avoid||{},w=h.attributes,C=h.transform,y=h.containerGroup,E=l._fullLayout,A=1,o=!1,M=T.title,x=(M&&M.text?M.text:"").trim(),I=M&&M.font?M.font:{},D=I.family,N=I.size,k=I.color,O=I.weight,F=I.style,z=I.variant,B=I.textcase,W=I.lineposition,J=I.shadow,re;c==="title.text"?re="titleText":c.indexOf("axis")!==-1?re="axisTitleText":c.indexOf("colorbar"!==-1)&&(re="colorbarTitleText");var ne=l._context.edits[re];x===""?A=0:x.replace(f," % ")===i.replace(f," % ")&&(A=.2,o=!0,ne||(x="")),h._meta?x=S.templateString(x,h._meta):E._meta&&(x=S.templateString(x,E._meta));var le=x||ne,$;y||(y=S.ensureSingle(E._infolayer,"g","g-"+g),$=E._hColorbarMoveTitle);var Z=y.selectAll("text").data(le?[0]:[]);if(Z.enter().append("text"),Z.text(x).attr("class",g),Z.exit().remove(),!le)return y;function ie(j){S.syncOrAsync([X,Q],j)}function X(j){var Y;return!C&&$&&(C={}),C?(Y="",C.rotate&&(Y+="rotate("+[C.rotate,w.x,w.y]+")"),(C.offset||$)&&(Y+=v(0,(C.offset||0)-($||0)))):Y=null,j.attr("transform",Y),j.style("opacity",A*r.opacity(k)).call(p.font,{color:r.rgb(k),size:m.round(N,2),family:D,weight:O,style:F,variant:z,textcase:B,shadow:J,lineposition:W}).attr(w).call(t.convertToTspans,l),s.previousPromises(l)}function Q(j){var Y=m.select(j.node().parentNode);if(b&&b.selection&&b.side&&x){Y.attr("transform",null);var se=n[b.side],te=b.side==="left"||b.side==="top"?-1:1,fe=P(b.pad)?b.pad:2,ge=p.bBox(Y.node()),be={t:0,b:0,l:0,r:0},xe=l._fullLayout._reservedMargin;for(var _e in xe)for(var De in xe[_e]){var Fe=xe[_e][De];be[De]=Math.max(be[De],Fe)}var Te={left:be.l,top:be.t,right:E.width-be.r,bottom:E.height-be.b},Re=b.maxShift||te*(Te[b.side]-ge[b.side]),Se=0;if(Re<0)Se=Re;else{var ke=b.offsetLeft||0,Me=b.offsetTop||0;ge.left-=ke,ge.right-=ke,ge.top-=Me,ge.bottom-=Me,b.selection.each(function(){var tt=p.bBox(this);S.bBoxIntersect(ge,tt,fe)&&(Se=Math.max(Se,te*(tt[b.side]-ge[se])+fe))}),Se=Math.min(Re,Se),T._titleScoot=Math.abs(Se)}if(Se>0||Re<0){var Ve={left:[-Se,0],right:[Se,0],top:[0,-Se],bottom:[0,Se]}[b.side];Y.attr("transform",v(Ve[0],Ve[1]))}}}Z.call(ie);function oe(){A=0,o=!0,Z.text(i).on("mouseover.opacity",function(){m.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})}return ne&&(x?Z.on(".opacity",null):oe(),Z.call(t.makeEditable,{gd:l}).on("edit",function(j){d!==void 0?L.call("_guiRestyle",l,c,j,d):L.call("_guiRelayout",l,c,j)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ie)}).on("input",function(j){this.text(j||" ").call(t.positionText,w.x,w.y)})),Z.classed("js-placeholder",o),y}G.exports={draw:u}},88444:function(G,H,e){var m=e(25376),P=e(22548),s=e(92880).extendFlat,L=e(67824).overrideAll,S=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(S({editType:"arraydraw"}),{}),font:m({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(G,H,e){var m=e(3400),P=e(51272),s=e(88444),L=e(73712),S=L.name,v=s.buttons;G.exports=function(a,n){var f={name:S,handleItemDefaults:p};P(a,n,f)};function p(t,a,n){function f(g,h){return m.coerce(t,a,s,g,h)}var u=P(t,a,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);l&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),m.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),m.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,a){function n(u,l){return m.coerce(t,a,v,u,l)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(G,H,e){var m=e(33428),P=e(7316),s=e(76308),L=e(43616),S=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),a=e(37400);G.exports=function(I){var D=I._fullLayout,N=S.filterVisible(D[t.name]);function k(ne){P.autoMargin(I,A(ne))}var O=D._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(O.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){m.select(this).selectAll("g."+t.headerGroupClassName).each(k)}).remove(),N.length!==0){var F=O.selectAll("g."+t.headerGroupClassName).data(N,n);F.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=S.ensureSingle(O,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),B=0;B<N.length;B++){var W=N[B];E(I,W)}var J="updatemenus"+D._uid,re=new a(I,z,J);F.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(M)),F.exit().each(function(ne){z.call(M),k(ne)}).remove(),F.each(function(ne){var le=m.select(this),$=ne.type==="dropdown"?z:null;P.manageCommandObserver(I,ne,ne.buttons,function(Z){l(I,ne,ne.buttons[Z.index],le,$,re,Z.index,!0)}),ne.type==="dropdown"?(g(I,le,z,re,ne),u(z,ne)&&h(I,le,z,re,ne)):h(I,le,null,null,ne)})}};function n(x){return x._index}function f(x){return+x.attr(t.menuIndexAttrName)==-1}function u(x,I){return+x.attr(t.menuIndexAttrName)===I._index}function l(x,I,D,N,k,O,F,z){I.active=F,p(x.layout,t.name,I).applyUpdate("active",F),I.type==="buttons"?h(x,N,null,null,I):I.type==="dropdown"&&(k.attr(t.menuIndexAttrName,"-1"),g(x,N,k,O,I),z||h(x,N,k,O,I))}function g(x,I,D,N,k){var O=S.ensureSingle(I,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),F=k._dims,z=k.active,B=k.buttons[z]||t.blankHeaderOpts,W={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},J={width:F.headerWidth,height:F.headerHeight};O.call(i,k,B,x).call(o,k,W,J);var re=S.ensureSingle(I,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(L.font,k.font).text(t.arrowSymbol[k.direction])});re.attr({x:F.headerWidth-t.arrowOffsetX+k.pad.l,y:F.headerHeight/2+t.textOffsetY+k.pad.t}),O.on("click",function(){D.call(M,String(u(D,k)?-1:k._index)),h(x,I,D,N,k)}),O.on("mouseover",function(){O.call(C)}),O.on("mouseout",function(){O.call(y,k)}),L.setTranslate(I,F.lx,F.ly)}function h(x,I,D,N,k){D||(D=I,D.attr("pointer-events","all"));var O=!f(D)||k.type==="buttons"?k.buttons:[],F=k.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=D.selectAll("g."+F).data(S.filterVisible(O)),B=z.enter().append("g").classed(F,!0),W=z.exit();k.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var J=0,re=0,ne=k._dims,le=["up","down"].indexOf(k.direction)!==-1;k.type==="dropdown"&&(le?re=ne.headerHeight+t.gapButtonHeader:J=ne.headerWidth+t.gapButtonHeader),k.type==="dropdown"&&k.direction==="up"&&(re=-t.gapButtonHeader+t.gapButton-ne.openHeight),k.type==="dropdown"&&k.direction==="left"&&(J=-t.gapButtonHeader+t.gapButton-ne.openWidth);var $={x:ne.lx+J+k.pad.l,y:ne.ly+re+k.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Z={l:$.x+k.borderwidth,t:$.y+k.borderwidth};z.each(function(ie,X){var Q=m.select(this);Q.call(i,k,ie,x).call(o,k,$),Q.on("click",function(){m.event.defaultPrevented||(ie.execute&&(ie.args2&&k.active===X?(l(x,k,ie,I,D,N,-1),P.executeAPICommand(x,ie.method,ie.args2)):(l(x,k,ie,I,D,N,X),P.executeAPICommand(x,ie.method,ie.args))),x.emit("plotly_buttonclicked",{menu:k,button:ie,active:k.active}))}),Q.on("mouseover",function(){Q.call(C)}),Q.on("mouseout",function(){Q.call(y,k),z.call(w,k)})}),z.call(w,k),le?(Z.w=Math.max(ne.openWidth,ne.headerWidth),Z.h=$.y-Z.t):(Z.w=$.x-Z.l,Z.h=Math.max(ne.openHeight,ne.headerHeight)),Z.direction=k.direction,N&&(z.size()?T(x,I,D,N,k,Z):c(N))}function T(x,I,D,N,k,O){var F=k.direction,z=F==="up"||F==="down",B=k._dims,W=k.active,J,re,ne;if(z)for(re=0,ne=0;ne<W;ne++)re+=B.heights[ne]+t.gapButton;else for(J=0,ne=0;ne<W;ne++)J+=B.widths[ne]+t.gapButton;N.enable(O,J,re),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(x){var I=!!x.hbar,D=!!x.vbar;I&&x.hbar.transition().attr("opacity","0").each("end",function(){I=!1,D||x.disable()}),D&&x.vbar.transition().attr("opacity","0").each("end",function(){D=!1,I||x.disable()})}function i(x,I,D,N){x.call(d,I).call(b,I,D,N)}function d(x,I){var D=S.ensureSingle(x,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});D.call(s.stroke,I.bordercolor).call(s.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function b(x,I,D,N){var k=S.ensureSingle(x,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),O=D.label,F=N._fullLayout._meta;F&&(O=S.templateString(O,F)),k.call(L.font,I.font).text(O).call(v.convertToTspans,N)}function w(x,I){var D=I.active;x.each(function(N,k){var O=m.select(this);k===D&&I.showactive&&O.select("rect."+t.itemRectClassName).call(s.fill,t.activeColor)})}function C(x){x.select("rect."+t.itemRectClassName).call(s.fill,t.hoverColor)}function y(x,I){x.select("rect."+t.itemRectClassName).call(s.fill,I.bgcolor)}function E(x,I){var D=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=L.tester.selectAll("g."+t.dropdownButtonClassName).data(S.filterVisible(I.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var k=["up","down"].indexOf(I.direction)!==-1;N.each(function(J,re){var ne=m.select(this);ne.call(i,I,J,x);var le=ne.select("."+t.itemTextClassName),$=le.node()&&L.bBox(le.node()).width,Z=Math.max($+t.textPadX,t.minWidth),ie=I.font.size*r,X=v.lineCount(le),Q=Math.max(ie*X,t.minHeight)+t.textOffsetY;Q=Math.ceil(Q),Z=Math.ceil(Z),D.widths[re]=Z,D.heights[re]=Q,D.height1=Math.max(D.height1,Q),D.width1=Math.max(D.width1,Z),k?(D.totalWidth=Math.max(D.totalWidth,Z),D.openWidth=D.totalWidth,D.totalHeight+=Q+t.gapButton,D.openHeight+=Q+t.gapButton):(D.totalWidth+=Z+t.gapButton,D.openWidth+=Z+t.gapButton,D.totalHeight=Math.max(D.totalHeight,Q),D.openHeight=D.totalHeight)}),k?D.totalHeight-=t.gapButton:D.totalWidth-=t.gapButton,D.headerWidth=D.width1+t.arrowPadX,D.headerHeight=D.height1,I.type==="dropdown"&&(k?(D.width1+=t.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=t.arrowPadX),N.remove();var O=D.totalWidth+I.pad.l+I.pad.r,F=D.totalHeight+I.pad.t+I.pad.b,z=x._fullLayout._size;D.lx=z.l+z.w*I.x,D.ly=z.t+z.h*(1-I.y);var B="left";S.isRightAnchor(I)&&(D.lx-=O,B="right"),S.isCenterAnchor(I)&&(D.lx-=O/2,B="center");var W="top";S.isBottomAnchor(I)&&(D.ly-=F,W="bottom"),S.isMiddleAnchor(I)&&(D.ly-=F/2,W="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),P.autoMargin(x,A(I),{x:I.x,y:I.y,l:O*({right:1,center:.5}[B]||0),r:O*({left:1,center:.5}[B]||0),b:F*({top:1,middle:.5}[W]||0),t:F*({bottom:1,middle:.5}[W]||0)})}function A(x){return t.autoMarginIdRoot+x._index}function o(x,I,D,N){N=N||{};var k=x.select("."+t.itemRectClassName),O=x.select("."+t.itemTextClassName),F=I.borderwidth,z=D.index,B=I._dims;L.setTranslate(x,F+D.x,F+D.y);var W=["up","down"].indexOf(I.direction)!==-1,J=N.height||(W?B.heights[z]:B.height1);k.attr({x:0,y:0,width:N.width||(W?B.width1:B.widths[z]),height:J});var re=I.font.size*r,ne=v.lineCount(O),le=(ne-1)*re/2;v.positionText(O,t.textOffsetX,J/2-le+t.textOffsetY),W?D.y+=B.heights[z]+D.yPad:D.x+=B.widths[z]+D.xPad,D.index++}function M(x,I){x.attr(t.menuIndexAttrName,I||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(G,H,e){var m=e(73712);G.exports={moduleType:"component",name:m.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(G,H,e){G.exports=S;var m=e(33428),P=e(76308),s=e(43616),L=e(3400);function S(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}S.barWidth=2,S.barLength=20,S.barRadius=2,S.barPad=1,S.barColor="#808BA4",S.prototype.enable=function(p,r,t){var a=this.gd._fullLayout,n=a.width,f=a.height;this.position=p;var u=this.position.l,l=this.position.w,g=this.position.t,h=this.position.h,T=this.position.direction,c=T==="down",i=T==="left",d=T==="right",b=T==="up",w=l,C=h,y,E,A,o;!c&&!i&&!d&&!b&&(this.position.direction="down",c=!0);var M=c||b;M?(y=u,E=y+w,c?(A=g,o=Math.min(A+C,f),C=o-A):(o=g+C,A=Math.max(o-C,0),C=o-A)):(A=g,o=A+C,i?(E=u+w,y=Math.max(E-w,0),w=E-y):(y=u,E=Math.min(y+w,n),w=E-y)),this._box={l:y,t:A,w,h:C};var x=l>w,I=S.barLength+2*S.barPad,D=S.barWidth+2*S.barPad,N=u,k=g+h;k+D>f&&(k=f-D);var O=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,S.barColor),x?(this.hbar=O.attr({rx:S.barRadius,ry:S.barRadius,x:N,y:k,width:I,height:D}),this._hbarXMin=N+I/2,this._hbarTranslateMax=w-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=h>C,z=S.barWidth+2*S.barPad,B=S.barLength+2*S.barPad,W=u+l,J=g;W+z>n&&(W=n-z);var re=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,S.barColor),F?(this.vbar=re.attr({rx:S.barRadius,ry:S.barRadius,x:W,y:J,width:z,height:B}),this._vbarYMin=J+B/2,this._vbarTranslateMax=C-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,le=y-.5,$=F?E+z+.5:E+.5,Z=A-.5,ie=x?o+D+.5:o+.5,X=a._topdefs.selectAll("#"+ne).data(x||F?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",ne).append("rect"),x||F?(this._clipRect=X.select("rect").attr({x:Math.floor(le),y:Math.floor(Z),width:Math.ceil($)-Math.floor(le),height:Math.ceil(ie)-Math.floor(Z)}),this.container.call(s.setClipUrl,ne,this.gd),this.bg.attr({x:u,y:g,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),x||F){var Q=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var oe=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault(),m.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(oe),F&&this.vbar.on(".drag",null).call(oe)}this.setTranslate(r,t)},S.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},S.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=m.event.dx),this.vbar&&(r-=m.event.dy),this.setTranslate(p,r)},S.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=m.event.deltaY),this.vbar&&(r+=m.event.deltaY),this.setTranslate(p,r)},S.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,a=t+this._hbarTranslateMax,n=L.constrain(m.event.x,t,a),f=(n-t)/(a-t),u=this.position.w-this._box.w;p=f*u}if(this.vbar){var l=r+this._vbarYMin,g=l+this._vbarTranslateMax,h=L.constrain(m.event.y,l,g),T=(h-l)/(g-l),c=this.position.h-this._box.h;r=T*c}this.setTranslate(p,r)},S.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,a=this.position.h-this._box.h;if(p=L.constrain(p||0,0,t),r=L.constrain(r||0,0,a),this.translateX=p,this.translateY=r,this.container.call(s.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(s.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/a;this.vbar.call(s.setTranslate,p,r+f*this._vbarTranslateMax)}}},84284:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(G){G.exports={axisRefDescription:function(H,e,m){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+m+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",m,"of the domain of the","second",H,"axis."].join(" ")}}},48164:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(G){G.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(G,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(G,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},64884:function(G,H,e){H.version=e(25788).version,e(88324),e(79288);for(var m=e(24040),P=H.register=m.register,s=e(22448),L=Object.keys(s),S=0;S<L.length;S++){var v=L[S];v.charAt(0)!=="_"&&(H[v]=s[v]),P({moduleType:"apiMethod",name:v,fn:s[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(9224);var p=e(93024),r=e(7316);H.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},H.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},H.Snapshot=e(78904),H.PlotSchema=e(73060)},9224:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(G,H){H.isLeftAnchor=function(m){return m.xanchor==="left"||m.xanchor==="auto"&&m.x<=.3333333333333333},H.isCenterAnchor=function(m){return m.xanchor==="center"||m.xanchor==="auto"&&m.x>.3333333333333333&&m.x<.6666666666666666},H.isRightAnchor=function(m){return m.xanchor==="right"||m.xanchor==="auto"&&m.x>=.6666666666666666},H.isTopAnchor=function(m){return m.yanchor==="top"||m.yanchor==="auto"&&m.y>=.6666666666666666},H.isMiddleAnchor=function(m){return m.yanchor==="middle"||m.yanchor==="auto"&&m.y>.3333333333333333&&m.y<.6666666666666666},H.isBottomAnchor=function(m){return m.yanchor==="bottom"||m.yanchor==="auto"&&m.y<=.3333333333333333}},11864:function(G,H,e){var m=e(20435),P=m.mod,s=m.modHalf,L=Math.PI,S=2*L;function v(T){return T/180*L}function p(T){return T/L*180}function r(T){return Math.abs(T[1]-T[0])>S-1e-14}function t(T,c){return s(c-T,S)}function a(T,c){return Math.abs(t(T,c))}function n(T,c){if(r(c))return!0;var i,d;c[0]<c[1]?(i=c[0],d=c[1]):(i=c[1],d=c[0]),i=P(i,S),d=P(d,S),i>d&&(d+=S);var b=P(T,S),w=b+S;return b>=i&&b<=d||w>=i&&w<=d}function f(T,c,i,d){if(!n(c,d))return!1;var b,w;return i[0]<i[1]?(b=i[0],w=i[1]):(b=i[1],w=i[0]),T>=b&&T<=w}function u(T,c,i,d,b,w,C){b=b||0,w=w||0;var y=r([i,d]),E,A,o,M,x;y?(E=0,A=L,o=S):i<d?(E=i,o=d):(E=d,o=i),T<c?(M=T,x=c):(M=c,x=T);function I(O,F){return[O*Math.cos(F)+b,w-O*Math.sin(F)]}var D=Math.abs(o-E)<=L?0:1;function N(O,F,z){return"A"+[O,O]+" "+[0,D,z]+" "+I(O,F)}var k;return y?M===null?k="M"+I(x,E)+N(x,A,0)+N(x,o,0)+"Z":k="M"+I(M,E)+N(M,A,0)+N(M,o,0)+"ZM"+I(x,E)+N(x,A,1)+N(x,o,1)+"Z":M===null?(k="M"+I(x,E)+N(x,o,0),C&&(k+="L0,0Z")):k="M"+I(M,E)+"L"+I(x,E)+N(x,o,0)+"L"+I(M,o)+N(M,E,1)+"Z",k}function l(T,c,i,d,b){return u(null,T,c,i,d,b,0)}function g(T,c,i,d,b){return u(null,T,c,i,d,b,1)}function h(T,c,i,d,b,w){return u(T,c,i,d,b,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:a,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:l,pathSector:g,pathAnnulus:h}},38116:function(G,H,e){var m=e(83160).decode,P=e(63620),s=Array.isArray,L=ArrayBuffer,S=DataView;function v(u){return L.isView(u)&&!(u instanceof S)}H.isTypedArray=v;function p(u){return s(u)||v(u)}H.isArrayOrTypedArray=p;function r(u){return!p(u[0])}H.isArray1D=r,H.ensureArray=function(u,l){return s(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function a(u){return u.constructor===ArrayBuffer}H.isArrayBuffer=a,H.decodeTypedArraySpec=function(u){var l=[],g=n(u),h=g.dtype,T=t[h];if(!T)throw new Error('Error in dtype: "'+h+'"');var c=T.BYTES_PER_ELEMENT,i=g.bdata;a(i)||(i=m(i));var d=g.shape===void 0?[i.byteLength/c]:(""+g.shape).split(",");d.reverse();var b=d.length,w,C,y=+d[0],E=c*y,A=0;if(b===1)l=new T(i);else if(b===2)for(w=+d[1],C=0;C<w;C++)l[C]=new T(i,A,y),A+=E;else if(b===3){w=+d[1];for(var o=+d[2],M=0;M<o;M++)for(l[M]=[],C=0;C<w;C++)l[M][C]=new T(i,A,y),A+=E}else throw new Error("ndim: "+b+'is not supported with the shape:"'+g.shape+'"');return l.bdata=g.bdata,l.dtype=g.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},H.isTypedArraySpec=function(u){return P(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||a(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}H.concat=function(){var u=[],l=!0,g=0,h,T,c,i,d,b,w,C;for(c=0;c<arguments.length;c++)i=arguments[c],b=i.length,b&&(T?u.push(i):(T=i,d=b),s(i)?h=!1:(l=!1,g?h!==i.constructor&&(h=!1):h=i.constructor),g+=b);if(!g)return[];if(!u.length)return T;if(l)return T.concat.apply(T,u);if(h){for(w=new h(g),w.set(T),c=0;c<u.length;c++)i=u[c],w.set(i,d),d+=i.length;return w}for(w=new Array(g),C=0;C<T.length;C++)w[C]=T[C];for(c=0;c<u.length;c++){for(i=u[c],C=0;C<i.length;C++)w[d+C]=i[C];d+=C}return w},H.maxRowLength=function(u){return f(u,Math.max,0)},H.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,g){if(p(u))if(p(u[0])){for(var h=g,T=0;T<u.length;T++)h=l(h,u[T].length);return h}else return u.length;return 0}},54037:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(S){return typeof S=="string"&&(S=S.replace(s,"")),m(S)?Number(S):P}},73696:function(G){G.exports=function(e){var m=e._fullLayout;m._glcanvas&&m._glcanvas.size()&&m._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(G,H,e){var m=e(38248),P=e(49760),s=e(92880).extendFlat,L=e(45464),S=e(88304),v=e(76308),p=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,a=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,f=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;H.valObjectMeta={data_array:{coerceFunction:function(g,h,T){h.set(n(g)?g:f(g)?u(g):T)}},enumerated:{coerceFunction:function(g,h,T,c){c.coerceNumber&&(g=+g),c.values.indexOf(g)===-1?h.set(T):h.set(g)},validateFunction:function(g,h){h.coerceNumber&&(g=+g);for(var T=h.values,c=0;c<T.length;c++){var i=String(T[c]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var d=new RegExp(i.substr(1,i.length-2));if(d.test(g))return!0}else if(g===T[c])return!0}return!1}},boolean:{coerceFunction:function(g,h,T){g===!0||g===!1?h.set(g):h.set(T)}},number:{coerceFunction:function(g,h,T,c){f(g)&&(g=u(g)),!m(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(T):h.set(+g)}},integer:{coerceFunction:function(g,h,T,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}f(g)&&(g=u(g)),g%1||!m(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(T):h.set(+g)}},string:{coerceFunction:function(g,h,T,c){if(typeof g!="string"){var i=typeof g=="number";c.strict===!0||!i?h.set(T):h.set(String(g))}else c.noBlank&&!g?h.set(T):h.set(g)}},color:{coerceFunction:function(g,h,T){f(g)&&(g=u(g)),P(g).isValid()?h.set(g):h.set(T)}},colorlist:{coerceFunction:function(g,h,T){function c(i){return P(i).isValid()}!Array.isArray(g)||!g.length?h.set(T):g.every(c)?h.set(g):h.set(T)}},colorscale:{coerceFunction:function(g,h,T){h.set(S.get(g,T))}},angle:{coerceFunction:function(g,h,T){f(g)&&(g=u(g)),g==="auto"?h.set("auto"):m(g)?h.set(a(+g,360)):h.set(T)}},subplotid:{coerceFunction:function(g,h,T,c){var i=c.regex||t(T);if(typeof g=="string"&&i.test(g)){h.set(g);return}h.set(T)},validateFunction:function(g,h){var T=h.dflt;return g===T?!0:typeof g!="string"?!1:!!t(T).test(g)}},flaglist:{coerceFunction:function(g,h,T,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}if(typeof g!="string"){h.set(T);return}for(var i=g.split("+"),d=0;d<i.length;){var b=i[d];c.flags.indexOf(b)===-1||i.indexOf(b)<d?i.splice(d,1):d++}i.length?h.set(i.join("+")):h.set(T)}},any:{coerceFunction:function(g,h,T){g===void 0?h.set(T):h.set(f(g)?u(g):g)}},info_array:{coerceFunction:function(g,h,T,c){function i(k,O,F){var z,B={set:function(W){z=W}};return F===void 0&&(F=O.dflt),H.valObjectMeta[O.valType].coerceFunction(k,B,F,O),z}if(f(g)&&(g=u(g)),!n(g)){h.set(T);return}var d=c.dimensions===2||c.dimensions==="1-2"&&Array.isArray(g)&&n(g[0]),b=c.items,w=[],C=Array.isArray(b),y=C&&d&&n(b[0]),E=d&&C&&!y,A=C&&!E?b.length:g.length,o,M,x,I,D,N;if(T=Array.isArray(T)?T:[],d)for(o=0;o<A;o++)for(w[o]=[],x=n(g[o])?g[o]:[],E?D=b.length:C?D=b[o].length:D=x.length,M=0;M<D;M++)E?I=b[M]:C?I=b[o][M]:I=b,N=i(x[M],I,(T[o]||[])[M]),N!==void 0&&(w[o][M]=N);else for(o=0;o<A;o++)N=i(g[o],C?b[o]:b,T[o]),N!==void 0&&(w[o]=N);h.set(w)},validateFunction:function(g,h){if(!n(g))return!1;var T=h.items,c=Array.isArray(T),i=h.dimensions===2;if(!h.freeLength&&g.length!==T.length)return!1;for(var d=0;d<g.length;d++)if(i){if(!n(g[d])||!h.freeLength&&g[d].length!==T[d].length)return!1;for(var b=0;b<g[d].length;b++)if(!l(g[d][b],c?T[d][b]:T))return!1}else if(!l(g[d],c?T[d]:T))return!1;return!0}}},H.coerce=function(g,h,T,c,i){var d=r(T,c).get(),b=r(g,c),w=r(h,c),C=b.get(),y=h._template;if(C===void 0&&y&&(C=r(y,c).get(),y=0),i===void 0&&(i=d.dflt),d.arrayOk){if(n(C))return w.set(C),C;if(f(C))return C=u(C),w.set(C),C}var E=H.valObjectMeta[d.valType].coerceFunction;E(C,w,i,d);var A=w.get();return y&&A===i&&!l(C,d)&&(C=r(y,c).get(),E(C,w,i,d),A=w.get()),A},H.coerce2=function(g,h,T,c,i){var d=r(g,c),b=H.coerce(g,h,T,c,i),w=d.get();return w!=null?b:!1},H.coerceFont=function(g,h,T,c){c||(c={}),T=s({},T),T=s(T,c.overrideDflt||{});var i={family:g(h+".family",T.family),size:g(h+".size",T.size),color:g(h+".color",T.color),weight:g(h+".weight",T.weight),style:g(h+".style",T.style)};if(c.noFontVariant||(i.variant=g(h+".variant",T.variant)),c.noFontLineposition||(i.lineposition=g(h+".lineposition",T.lineposition)),c.noFontTextcase||(i.textcase=g(h+".textcase",T.textcase)),!c.noFontShadow){var d=T.shadow;d==="none"&&c.autoShadowDflt&&(d="auto"),i.shadow=g(h+".shadow",d)}return i},H.coercePattern=function(g,h,T,c){var i=g(h+".shape");if(i){g(h+".solidity"),g(h+".size");var d=g(h+".fillmode"),b=d==="overlay";if(!c){var w=g(h+".bgcolor",b?T:void 0);g(h+".fgcolor",b?v.contrast(w):T)}g(h+".fgopacity",b?.5:1)}},H.coerceHoverinfo=function(g,h,T){var c=h._module.attributes,i=c.hoverinfo?c:L,d=i.hoverinfo,b;if(T._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),b=w.join("+")}return H.coerce(g,h,i,"hoverinfo",b)},H.coerceSelectionMarkerOpacity=function(g,h){if(g.marker){var T=g.marker.opacity;if(T!==void 0){var c,i;!n(T)&&!g.selected&&!g.unselected&&(c=T,i=p*T),h("selected.marker.opacity",c),h("unselected.marker.opacity",i)}}};function l(g,h){var T=H.valObjectMeta[h.valType];if(h.arrayOk&&n(g))return!0;if(T.validateFunction)return T.validateFunction(g,h);var c={},i=c,d={set:function(b){i=b}};return T.coerceFunction(g,d,c,h),i!==c}H.validate=l},67555:function(G,H,e){var m=e(94336).Yn,P=e(38248),s=e(24248),L=e(20435).mod,S=e(39032),v=S.BADNUM,p=S.ONEDAY,r=S.ONEHOUR,t=S.ONEMIN,a=S.ONESEC,n=S.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(k){return k&&f.componentsRegistry.calendars&&typeof k=="string"&&k!=="gregorian"}H.dateTick0=function(k,O){var F=c(k,!!O);if(O<2)return F;var z=H.dateTime2ms(F,k);return z+=p*(O-1),H.ms2DateTime(z,0,k)};function c(k,O){return T(k)?O?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:f.getComponentMethod("calendars","CANONICAL_TICK")[k]:O?"2000-01-02":"2000-01-01"}H.dfltRange=function(k){return T(k)?f.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},H.isJSDate=function(k){return typeof k=="object"&&k!==null&&typeof k.getTime=="function"};var i,d;H.dateTime2ms=function(k,O){if(H.isJSDate(k)){var F=k.getTimezoneOffset()*t,z=(k.getUTCMinutes()-k.getMinutes())*t+(k.getUTCSeconds()-k.getSeconds())*a+(k.getUTCMilliseconds()-k.getMilliseconds());if(z){var B=3*t;F=F-B/2+L(z-F+B/2,B)}return k=Number(k)-F,k>=i&&k<=d?k:v}if(typeof k!="string"&&typeof k!="number")return v;k=String(k);var W=T(O),J=k.charAt(0);W&&(J==="G"||J==="g")&&(k=k.substr(1),O="");var re=W&&O.substr(0,7)==="chinese",ne=k.match(re?g:l);if(!ne)return v;var le=ne[1],$=ne[3]||"1",Z=Number(ne[5]||1),ie=Number(ne[7]||0),X=Number(ne[9]||0),Q=Number(ne[11]||0);if(W){if(le.length===2)return v;le=Number(le);var oe;try{var j=f.getComponentMethod("calendars","getCal")(O);if(re){var Y=$.charAt($.length-1)==="i";$=parseInt($,10),oe=j.newDate(le,j.toMonthIndex(le,$,Y),Z)}else oe=j.newDate(le,Number($),Z)}catch{return v}return oe?(oe.toJD()-n)*p+ie*r+X*t+Q*a:v}le.length===2?le=(Number(le)+2e3-h)%100+h:le=Number(le),$-=1;var se=new Date(Date.UTC(2e3,$,Z,ie,X));return se.setUTCFullYear(le),se.getUTCMonth()!==$||se.getUTCDate()!==Z?v:se.getTime()+Q*a},i=H.MIN_MS=H.dateTime2ms("-9999"),d=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(k,O){return H.dateTime2ms(k,O)!==v};function b(k,O){return String(k+Math.pow(10,O)).substr(1)}var w=90*p,C=3*r,y=5*t;H.ms2DateTime=function(k,O,F){if(typeof k!="number"||!(k>=i&&k<=d))return v;O||(O=0);var z=Math.floor(L(k+.05,1)*10),B=Math.round(k-z/10),W,J,re,ne,le,$;if(T(F)){var Z=Math.floor(B/p)+n,ie=Math.floor(L(k,p));try{W=f.getComponentMethod("calendars","getCal")(F).fromJD(Z).formatDate("yyyy-mm-dd")}catch{W=u("G%Y-%m-%d")(new Date(B))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;J=O<w?Math.floor(ie/r):0,re=O<w?Math.floor(ie%r/t):0,ne=O<C?Math.floor(ie%t/a):0,le=O<y?ie%a*10+z:0}else $=new Date(B),W=u("%Y-%m-%d")($),J=O<w?$.getUTCHours():0,re=O<w?$.getUTCMinutes():0,ne=O<C?$.getUTCSeconds():0,le=O<y?$.getUTCMilliseconds()*10+z:0;return E(W,J,re,ne,le)},H.ms2DateTimeLocal=function(k){if(!(k>=i+p&&k<=d-p))return v;var O=Math.floor(L(k+.05,1)*10),F=new Date(Math.round(k-O/10)),z=m("%Y-%m-%d")(F),B=F.getHours(),W=F.getMinutes(),J=F.getSeconds(),re=F.getUTCMilliseconds()*10+O;return E(z,B,W,J,re)};function E(k,O,F,z,B){if((O||F||z||B)&&(k+=" "+b(O,2)+":"+b(F,2),(z||B)&&(k+=":"+b(z,2),B))){for(var W=4;B%10===0;)W-=1,B/=10;k+="."+b(B,W)}return k}H.cleanDate=function(k,O,F){if(k===v)return O;if(H.isJSDate(k)||typeof k=="number"&&isFinite(k)){if(T(F))return s.error("JS Dates and milliseconds are incompatible with world calendars",k),O;if(k=H.ms2DateTimeLocal(+k),!k&&O!==void 0)return O}else if(!H.isDateTime(k,F))return s.error("unrecognized date",k),O;return k};var A=/%\d?f/g,o=/%h/g,M={1:"1",2:"1",3:"2",4:"2"};function x(k,O,F,z){k=k.replace(A,function(W){var J=Math.min(+W.charAt(1)||6,6),re=(O/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return re});var B=new Date(Math.floor(O+.05));if(k=k.replace(o,function(){return M[F("%q")(B)]}),T(z))try{k=f.getComponentMethod("calendars","worldCalFmt")(k,O,z)}catch{return"Invalid"}return F(k)(B)}var I=[59,59.9,59.99,59.999,59.9999];function D(k,O){var F=L(k+.05,p),z=b(Math.floor(F/r),2)+":"+b(L(Math.floor(F/t),60),2);if(O!=="M"){P(O)||(O=0);var B=Math.min(L(k/a,60),I[O]),W=(100+B).toFixed(O).substr(1);O>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+W}return z}H.formatDate=function(k,O,F,z,B,W){if(B=T(B)&&B,!O)if(F==="y")O=W.year;else if(F==="m")O=W.month;else if(F==="d")O=W.dayMonth+`
`+W.year;else return D(k,F)+`
`+x(W.dayMonthYear,k,z,B);return x(O,k,z,B)};var N=3*p;H.incrementMonth=function(k,O,F){F=T(F)&&F;var z=L(k,p);if(k=Math.round(k-z),F)try{var B=Math.round(k/p)+n,W=f.getComponentMethod("calendars","getCal")(F),J=W.fromJD(B);return O%12?W.add(J,O,"m"):W.add(J,O/12,"y"),(J.toJD()-n)*p+z}catch{s.error("invalid ms "+k+" in calendar "+F)}var re=new Date(k+N);return re.setUTCMonth(re.getUTCMonth()+O)+z-N},H.findExactDates=function(k,O){for(var F=0,z=0,B=0,W=0,J,re,ne=T(O)&&f.getComponentMethod("calendars","getCal")(O),le=0;le<k.length;le++){if(re=k[le],!P(re)){W++;continue}if(!(re%p))if(ne)try{J=ne.fromJD(re/p+n),J.day()===1?J.month()===1?F++:z++:B++}catch{}else J=new Date(re),J.getUTCDate()===1?J.getUTCMonth()===0?F++:z++:B++}z+=F,B+=z;var $=k.length-W;return{exactYears:F/$,exactMonths:z/$,exactDays:B/$}}},52200:function(G,H,e){var m=e(33428),P=e(24248),s=e(52248),L=e(36524);function S(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=m.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function r(h,T){t("global",h,T)}function t(h,T,c){var i="plotly.js-style-"+h,d=document.getElementById(i);d||(d=document.createElement("style"),d.setAttribute("id",i),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var b=d.sheet;b.insertRule?b.insertRule(T+"{"+c+"}",0):b.addRule?b.addRule(T,c,0):P.warn("addStyleRule failed")}function a(h){var T="plotly.js-style-"+h,c=document.getElementById(T);c&&p(c)}function n(h){var T=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(i){var d=f(i);if(d){var b=s.convertCssMatrix(d);c=L.multiply(c,c,b)}}),c}function f(h){var T=window.getComputedStyle(h,null),c=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function u(h){for(var T=[];l(h);)T.push(h),h=h.parentNode,typeof ShadowRoot=="function"&&h instanceof ShadowRoot&&(h=h.host);return T}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function g(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}G.exports={getGraphDiv:S,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:a,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:g}},95924:function(G,H,e){var m=e(61252).EventEmitter,P={init:function(s){if(s._ev instanceof m)return s;var L=new m,S=new m;return s._ev=L,s._internalEv=S,s.on=L.on.bind(L),s.once=L.once.bind(L),s.removeListener=L.removeListener.bind(L),s.removeAllListeners=L.removeAllListeners.bind(L),s._internalOn=S.on.bind(S),s._internalOnce=S.once.bind(S),s._removeInternalListener=S.removeListener.bind(S),s._removeAllInternalListeners=S.removeAllListeners.bind(S),s.emit=function(v,p){typeof jQuery<"u"&&jQuery(s).trigger(v,p),L.emit(v,p),S.emit(v,p)},s},triggerHandler:function(s,L,S){var v,p;typeof jQuery<"u"&&(v=jQuery(s).triggerHandler(L,S));var r=s._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function a(f){if(f.listener){if(r.removeListener(L,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[S])}else return f.apply(r,[S])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)a(t[n]);return p=a(t[n]),v!==void 0?v:p},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};G.exports=P},92880:function(G,H,e){var m=e(63620),P=Array.isArray;function s(S,v){var p,r;for(p=0;p<S.length;p++){if(r=S[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}H.extendFlat=function(){return L(arguments,!1,!1,!1)},H.extendDeep=function(){return L(arguments,!0,!1,!1)},H.extendDeepAll=function(){return L(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(S,v,p,r){var t=S[0],a=S.length,n,f,u,l,g,h,T;if(a===2&&P(t)&&P(S[1])&&t.length===0){if(T=s(S[1],t),T)return t;t.splice(0,t.length)}for(var c=1;c<a;c++){n=S[c];for(f in n)u=t[f],l=n[f],r&&P(l)?t[f]=l:v&&l&&(m(l)||(g=P(l)))?(g?(g=!1,h=u&&P(u)?u:[]):h=u&&m(u)?u:{},t[f]=L([h,l],v,p,r)):(typeof l<"u"||p)&&(t[f]=l)}return t}},68944:function(G){G.exports=function(e){for(var m={},P=[],s=0,L=0;L<e.length;L++){var S=e[L];m[S]!==1&&(m[S]=1,P[s++]=S)}return P}},43880:function(G){G.exports=function(s){for(var L=m(s)?e:H,S=[],v=0;v<s.length;v++){var p=s[v];L(p)&&S.push(p)}return S};function H(P){return P.visible===!0}function e(P){var s=P[0].trace;return s.visible===!0&&s._length!==0}function m(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(G,H,e){var m=e(33428),P=e(36116),s=e(40440),L=e(77844),S=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),a=e(92065),n=Object.keys(P),f={"ISO-3":v,"USA-states":v,"country names":u};function u(b){for(var w=0;w<n.length;w++){var C=n[w],y=new RegExp(P[C]);if(y.test(b.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+b+"."),!1}function l(b,w,C){if(!w||typeof w!="string")return!1;var y=f[b](w),E,A,o;if(y){if(b==="USA-states")for(E=[],o=0;o<C.length;o++)A=C[o],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&E.push(A);else E=C;for(o=0;o<E.length;o++)if(A=E[o],A.id===y)return A;p.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(b){var w=b.geometry,C=w.coordinates,y=b.id,E=[],A,o,M,x;function I(D){for(var N=0;N<D.length-1;N++)if(D[N][0]>0&&D[N+1][0]<0)return N;return null}switch(y==="RUS"||y==="FJI"?A=function(D){var N;if(I(D)===null)N=D;else for(N=new Array(D.length),x=0;x<D.length;x++)N[x]=[D[x][0]<0?D[x][0]+360:D[x][0],D[x][1]];E.push(a.tester(N))}:y==="ATA"?A=function(D){var N=I(D);if(N===null)return E.push(a.tester(D));var k=new Array(D.length+1),O=0;for(x=0;x<D.length;x++)x>N?k[O++]=[D[x][0]+360,D[x][1]]:x===N?(k[O++]=D[x],k[O++]=[D[x][0],-90]):k[O++]=D[x];var F=a.tester(k);F.pts.pop(),E.push(F)}:A=function(D){E.push(a.tester(D))},w.type){case"MultiPolygon":for(o=0;o<C.length;o++)for(M=0;M<C[o].length;M++)A(C[o][M]);break;case"Polygon":for(o=0;o<C.length;o++)A(C[o]);break}return E}function h(b){var w=b.geojson,C=window.PlotlyGeoAssets||{},y=typeof w=="string"?C[w]:w;return r(y)?y:(p.error("Oops ... something went wrong when fetching "+w),!1)}function T(b){var w=b[0].trace,C=h(w);if(!C)return!1;var y={},E=[],A;for(A=0;A<w._length;A++){var o=b[A];(o.loc||o.loc===0)&&(y[o.loc]=o)}function M(D){var N=t(D,w.featureidkey||"id").get(),k=y[N];if(k){var O=D.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var F={type:"Feature",id:N,geometry:O,properties:{}};F.properties.ct=c(F),k.fIn=D,k.fOut=F,E.push(F)}else p.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[N]}switch(C.type){case"FeatureCollection":var x=C.features;for(A=0;A<x.length;A++)M(x[A]);break;case"Feature":M(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var I in y)p.log(["Location *"+I+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return E}function c(b){var w=b.geometry,C;if(w.type==="MultiPolygon")for(var y=w.coordinates,E=0,A=0;A<y.length;A++){var o={type:"Polygon",coordinates:y[A]},M=s.default(o);M>E&&(E=M,C=o)}else C=w;return L.default(C).geometry.coordinates}function i(b){var w=window.PlotlyGeoAssets||{},C=[];function y(x){return new Promise(function(I,D){m.json(x,function(N,k){if(N){delete w[x];var O=N.status===404?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x;return D(new Error(O))}return w[x]=k,I(k)})})}function E(x){return new Promise(function(I,D){var N=0,k=setInterval(function(){if(w[x]&&w[x]!=="pending")return clearInterval(k),I(w[x]);if(N>100)return clearInterval(k),D("Unexpected error while fetching from "+x);N++},50)})}for(var A=0;A<b.length;A++){var o=b[A][0].trace,M=o.geojson;typeof M=="string"&&(w[M]?w[M]==="pending"&&C.push(E(M)):(w[M]="pending",C.push(y(M))))}return C}function d(b){return S.default(b)}G.exports={locationToFeature:l,feature2polygons:g,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:i,computeBbox:d}},44808:function(G,H,e){var m=e(39032).BADNUM;H.calcTraceToLineCoords=function(P){for(var s=P[0].trace,L=s.connectgaps,S=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==m?v.push(t):!L&&v.length>0&&(S.push(v),v=[])}return v.length>0&&S.push(v),S},H.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},H.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var s=new Array(P.length),L=0;L<P.length;L++)s[L]=[P[L]];return{type:"MultiPolygon",coordinates:s}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(G,H,e){var m=e(20435).mod;H.segmentsIntersect=P;function P(p,r,t,a,n,f,u,l){var g=t-p,h=n-p,T=u-n,c=a-r,i=f-r,d=l-f,b=g*d-T*c;if(b===0)return null;var w=(h*d-T*i)/b,C=(h*c-g*i)/b;return C<0||C>1||w<0||w>1?null:{x:p+g*w,y:r+c*w}}H.segmentDistance=function(r,t,a,n,f,u,l,g){if(P(r,t,a,n,f,u,l,g))return 0;var h=a-r,T=n-t,c=l-f,i=g-u,d=h*h+T*T,b=c*c+i*i,w=Math.min(s(h,T,d,f-r,u-t),s(h,T,d,l-r,g-t),s(c,i,b,r-f,t-u),s(c,i,b,a-f,n-u));return Math.sqrt(w)};function s(p,r,t,a,n){var f=a*p+n*r;if(f<0)return a*a+n*n;if(f>t){var u=a-p,l=n-r;return u*u+l*l}else{var g=a*r-n*p;return g*g/t}}var L,S,v;H.getTextLocation=function(r,t,a,n){if((r!==S||n!==v)&&(L={},S=r,v=n),L[a])return L[a];var f=r.getPointAtLength(m(a-n/2,t)),u=r.getPointAtLength(m(a+n/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),g=r.getPointAtLength(m(a,t)),h=(g.x*4+f.x+u.x)/6,T=(g.y*4+f.y+u.y)/6,c={x:h,y:T,theta:l};return L[a]=c,c},H.clearLocationCache=function(){S=null},H.getVisibleSegment=function(r,t,a){var n=t.left,f=t.right,u=t.top,l=t.bottom,g=0,h=r.getTotalLength(),T=h,c,i;function d(w){var C=r.getPointAtLength(w);w===0?c=C:w===h&&(i=C);var y=C.x<n?n-C.x:C.x>f?C.x-f:0,E=C.y<u?u-C.y:C.y>l?C.y-l:0;return Math.sqrt(y*y+E*E)}for(var b=d(g);b;){if(g+=b+a,g>T)return;b=d(g)}for(b=d(T);b;){if(T-=b+a,g>T)return;b=d(T)}return{min:g,max:T,len:T-g,total:h,isClosed:g===0&&T===h&&Math.abs(c.x-i.x)<.1&&Math.abs(c.y-i.y)<.1}},H.findPointOnPath=function(r,t,a,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,g=r.getPointAtLength(0)[a]>r.getPointAtLength(f)[a]?-1:1,h=0,T=0,c=f,i,d,b;h<l;){if(i=(T+c)/2,d=r.getPointAtLength(i),b=d[a]-t,Math.abs(b)<u)return d;g*b>0?c=i:T=i,h++}return d}},33040:function(G,H,e){var m=e(38248),P=e(49760),s=e(72160),L=e(8932),S=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=s(S),r=1;function t(l,g){var h=l;return h[3]*=g,h}function a(l){if(m(l))return p;var g=s(l);return g.length?g:p}function n(l){return m(l)?l:r}function f(l,g,h){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var c=v(T),i=v(g),d=L.extractOpts(l),b=[],w,C,y,E,A;if(d.colorscale!==void 0?w=L.makeColorScaleFuncFromTrace(l):w=a,c?C=function(M,x){return M[x]===void 0?p:s(w(M[x]))}:C=a,i?y=function(M,x){return M[x]===void 0?r:n(M[x])}:y=n,c||i)for(var o=0;o<h;o++)E=C(T,o),A=y(g,o),b[o]=t(E,A);else b=t(s(T),g);return b}function u(l){var g=L.extractOpts(l),h=g.colorscale;return g.reversescale&&(h=L.flipScale(g.colorscale)),h.map(function(T){var c=T[0],i=P(T[1]),d=i.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:f,parseColorScale:u}},71688:function(G,H,e){var m=e(35536);function P(s){return[s]}G.exports={keyFun:function(s){return s.key},repeat:P,descend:m,wrap:P,unwrap:function(s){return s[0]}}},35536:function(G){G.exports=function(e){return e}},1396:function(G){G.exports=function(e,m){if(!m)return e;var P=1/Math.abs(m),s=P>1?(P*e+P*m)/P:e+m,L=String(s).length;if(L>16){var S=String(m).length,v=String(e).length;if(L>=v+S){var p=parseFloat(s).toPrecision(12);p.indexOf("e+")===-1&&(s=+p)}}return s}},3400:function(G,H,e){var m=e(33428),P=e(94336).E9,s=e(57624).E9,L=e(38248),S=e(39032),v=S.FP_SAFE,p=-v,r=S.BADNUM,t=G.exports={};t.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var a={};t.warnBadFormat=function(Q){var oe=String(Q);a[oe]||(a[oe]=1,t.warn('encountered bad format: "'+oe+'"'))},t.noFormat=function(Q){return String(Q)},t.numberFormat=function(Q){var oe;try{oe=s(t.adjustFormat(Q))}catch{return t.warnBadFormat(Q),t.noFormat}return oe},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var g=e(14952);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var i=e(98308);t.isLeftAnchor=i.isLeftAnchor,t.isCenterAnchor=i.isCenterAnchor,t.isRightAnchor=i.isRightAnchor,t.isTopAnchor=i.isTopAnchor,t.isMiddleAnchor=i.isMiddleAnchor,t.isBottomAnchor=i.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var b=e(92880);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var w=e(24248);t.log=w.log,t.warn=w.warn,t.error=w.error;var C=e(53756);t.counterRegex=C.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var E=e(52200);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(oe){return L(oe)?(oe=Number(oe),oe>v||oe<p?r:oe):r},t.isIndex=function(Q,oe){return oe!==void 0&&Q>=oe?!1:L(Q)&&Q>=0&&Q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(Q,oe){for(var j=new Array(oe),Y=0;Y<oe;Y++)j[Y]=Q;return j},t.swapAttrs=function(Q,oe,j,Y){j||(j="x"),Y||(Y="y");for(var se=0;se<oe.length;se++){var te=oe[se],fe=t.nestedProperty(Q,te.replace("?",j)),ge=t.nestedProperty(Q,te.replace("?",Y)),be=fe.get();fe.set(ge.get()),ge.set(be)}},t.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},t.cancelTransition=function(Q){return Q.transition().duration(0)},t.constrain=function(Q,oe,j){return oe>j?Math.max(j,Math.min(oe,Q)):Math.max(oe,Math.min(j,Q))},t.bBoxIntersect=function(Q,oe,j){return j=j||0,Q.left<=oe.right+j&&oe.left<=Q.right+j&&Q.top<=oe.bottom+j&&oe.top<=Q.bottom+j},t.simpleMap=function(Q,oe,j,Y,se){for(var te=Q.length,fe=new Array(te),ge=0;ge<te;ge++)fe[ge]=oe(Q[ge],j,Y,se);return fe},t.randstr=function Q(oe,j,Y,se){if(Y||(Y=16),j===void 0&&(j=24),j<=0)return"0";var te=Math.log(Math.pow(2,j))/Math.log(Y),fe="",ge,be,xe;for(ge=2;te===1/0;ge*=2)te=Math.log(Math.pow(2,j/ge))/Math.log(Y)*ge;var _e=te-Math.floor(te);for(ge=0;ge<Math.floor(te);ge++)xe=Math.floor(Math.random()*Y).toString(Y),fe=xe+fe;_e&&(be=Math.pow(Y,_e),xe=Math.floor(Math.random()*be).toString(Y),fe=xe+fe);var De=parseInt(fe,Y);return oe&&oe[fe]||De!==1/0&&De>=Math.pow(2,j)?se>10?(t.warn("randstr failed uniqueness"),fe):Q(oe,j,Y,(se||0)+1):fe},t.OptionControl=function(Q,oe){Q||(Q={}),oe||(oe="opt");var j={};return j.optionList=[],j._newoption=function(Y){Y[oe]=Q,j[Y.name]=Y,j.optionList.push(Y)},j["_"+oe]=Q,j},t.smooth=function(Q,oe){if(oe=Math.round(oe)||0,oe<2)return Q;var j=Q.length,Y=2*j,se=2*oe-1,te=new Array(se),fe=new Array(j),ge,be,xe,_e;for(ge=0;ge<se;ge++)te[ge]=(1-Math.cos(Math.PI*(ge+1)/oe))/(2*oe);for(ge=0;ge<j;ge++){for(_e=0,be=0;be<se;be++)xe=ge+be+1-oe,xe<-j?xe-=Y*Math.round(xe/Y):xe>=Y&&(xe-=Y*Math.floor(xe/Y)),xe<0?xe=-1-xe:xe>=j&&(xe=Y-1-xe),_e+=Q[xe]*te[be];fe[ge]=_e}return fe},t.syncOrAsync=function(Q,oe,j){var Y,se;function te(){return t.syncOrAsync(Q,oe,j)}for(;Q.length;)if(se=Q.splice(0,1)[0],Y=se(oe),Y&&Y.then)return Y.then(te);return j&&j(oe)},t.stripTrailingSlash=function(Q){return Q.substr(-1)==="/"?Q.substr(0,Q.length-1):Q},t.noneOrAll=function(Q,oe,j){if(Q){var Y=!1,se=!0,te,fe;for(te=0;te<j.length;te++)fe=Q[j[te]],fe!=null?Y=!0:se=!1;if(Y&&!se)for(te=0;te<j.length;te++)Q[j[te]]=oe[j[te]]}},t.mergeArray=function(Q,oe,j,Y){var se=typeof Y=="function";if(t.isArrayOrTypedArray(Q))for(var te=Math.min(Q.length,oe.length),fe=0;fe<te;fe++){var ge=Q[fe];oe[fe][j]=se?Y(ge):ge}},t.mergeArrayCastPositive=function(Q,oe,j){return t.mergeArray(Q,oe,j,function(Y){var se=+Y;return isFinite(se)&&se>0?se:0})},t.fillArray=function(Q,oe,j,Y){if(Y=Y||t.identity,t.isArrayOrTypedArray(Q))for(var se=0;se<oe.length;se++)oe[se][j]=Y(Q[se])},t.castOption=function(Q,oe,j,Y){Y=Y||t.identity;var se=t.nestedProperty(Q,j).get();return t.isArrayOrTypedArray(se)?Array.isArray(oe)&&t.isArrayOrTypedArray(se[oe[0]])?Y(se[oe[0]][oe[1]]):Y(se[oe]):se},t.extractOption=function(Q,oe,j,Y){if(j in Q)return Q[j];var se=t.nestedProperty(oe,Y).get();if(!Array.isArray(se))return se};function A(Q){var oe={};for(var j in Q)for(var Y=Q[j],se=0;se<Y.length;se++)oe[Y[se]]=+j;return oe}t.tagSelected=function(Q,oe,j){var Y=oe.selectedpoints,se=oe._indexToPoints,te;se&&(te=A(se));function fe(De){return De!==void 0&&De<Q.length}for(var ge=0;ge<Y.length;ge++){var be=Y[ge];if(t.isIndex(be)||t.isArrayOrTypedArray(be)&&t.isIndex(be[0])&&t.isIndex(be[1])){var xe=te?te[be]:be,_e=j?j[xe]:xe;fe(_e)&&(Q[_e].selected=1)}}},t.selIndices2selPoints=function(Q){var oe=Q.selectedpoints,j=Q._indexToPoints;if(j){for(var Y=A(j),se=[],te=0;te<oe.length;te++){var fe=oe[te];if(t.isIndex(fe)){var ge=Y[fe];t.isIndex(ge)&&se.push(ge)}}return se}else return oe},t.getTargetArray=function(Q,oe){var j=oe.target;if(typeof j=="string"&&j){var Y=t.nestedProperty(Q,j).get();return t.isArrayOrTypedArray(Y)?Y:!1}else if(t.isArrayOrTypedArray(j))return j;return!1};function o(Q,oe,j){var Y={};typeof oe!="object"&&(oe={});var se=j==="pieLike"?-1:3,te=Object.keys(Q),fe,ge,be;for(fe=0;fe<te.length;fe++)ge=te[fe],be=Q[ge],!(ge.charAt(0)==="_"||typeof be=="function")&&(ge==="module"?Y[ge]=be:Array.isArray(be)?ge==="colorscale"||se===-1?Y[ge]=be.slice():Y[ge]=be.slice(0,se):t.isTypedArray(be)?se===-1?Y[ge]=be.subarray():Y[ge]=be.subarray(0,se):be&&typeof be=="object"?Y[ge]=o(Q[ge],oe[ge],j):Y[ge]=be);for(te=Object.keys(oe),fe=0;fe<te.length;fe++)ge=te[fe],be=oe[ge],(typeof be!="object"||!(ge in Y)||typeof Y[ge]!="object")&&(Y[ge]=be);return Y}t.minExtend=o,t.titleCase=function(Q){return Q.charAt(0).toUpperCase()+Q.substr(1)},t.containsAny=function(Q,oe){for(var j=0;j<oe.length;j++)if(Q.indexOf(oe[j])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var M=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return M.test(window.navigator.userAgent)};var x=/iPad|iPhone|iPod/;t.isIOS=function(){return x.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var Q=I.exec(window.navigator.userAgent);if(Q&&Q.length===2){var oe=parseInt(Q[1]);if(!isNaN(oe))return oe}return null},t.isD3Selection=function(Q){return Q instanceof m.selection},t.ensureSingle=function(Q,oe,j,Y){var se=Q.select(oe+(j?"."+j:""));if(se.size())return se;var te=Q.append(oe);return j&&te.classed(j,!0),Y&&te.call(Y),te},t.ensureSingleById=function(Q,oe,j,Y){var se=Q.select(oe+"#"+j);if(se.size())return se;var te=Q.append(oe).attr("id",j);return Y&&te.call(Y),te},t.objectFromPath=function(Q,oe){for(var j=Q.split("."),Y,se=Y={},te=0;te<j.length;te++){var fe=j[te],ge=null,be=j[te].match(/(.*)\[([0-9]+)\]/);be?(fe=be[1],ge=be[2],Y=Y[fe]=[],te===j.length-1?Y[ge]=oe:Y[ge]={},Y=Y[ge]):(te===j.length-1?Y[fe]=oe:Y[fe]={},Y=Y[fe])}return se};var D=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k(Q){return Q.slice(0,2)==="__"}t.expandObjectPaths=function(Q){var oe,j,Y,se,te,fe,ge;if(typeof Q=="object"&&!Array.isArray(Q)){for(j in Q)if(Q.hasOwnProperty(j))if(oe=j.match(D)){if(se=Q[j],Y=oe[1],k(Y))continue;delete Q[j],Q[Y]=t.extendDeepNoArrays(Q[Y]||{},t.objectFromPath(j,t.expandObjectPaths(se))[Y])}else if(oe=j.match(N)){if(se=Q[j],Y=oe[1],k(Y))continue;if(te=parseInt(oe[2]),delete Q[j],Q[Y]=Q[Y]||[],oe[3]===".")ge=oe[4],fe=Q[Y][te]=Q[Y][te]||{},t.extendDeepNoArrays(fe,t.objectFromPath(ge,t.expandObjectPaths(se)));else{if(k(Y))continue;Q[Y][te]=t.expandObjectPaths(se)}}else{if(k(j))continue;Q[j]=t.expandObjectPaths(Q[j])}}return Q},t.numSeparate=function(Q,oe,j){if(j||(j=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof Q=="number"&&(Q=String(Q));var Y=/(\d+)(\d{3})/,se=oe.charAt(0),te=oe.charAt(1),fe=Q.split("."),ge=fe[0],be=fe.length>1?se+fe[1]:"";if(te&&(fe.length>1||ge.length>4||j))for(;Y.test(ge);)ge=ge.replace(Y,"$1"+te+"$2");return ge+be},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;t.templateString=function(Q,oe){var j={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(Y,se){var te;return O.test(se)?te=oe[se]:(j[se]=j[se]||t.nestedProperty(oe,se).get,te=j[se]()),t.isValidTextValue(te)?te:""})};var F={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(F,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(z,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(Q){var oe=Q.match(B);return oe?{key:oe[1],op:oe[2],number:Number(oe[3])}:{key:Q,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply(J,arguments)};var re=/^[:|\|]/;function ne(Q,oe,j){var Y=this,se=arguments;oe||(oe={});var te={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(fe,ge,be){var xe=ge==="xother"||ge==="yother",_e=ge==="_xother"||ge==="_yother",De=ge==="_xother_"||ge==="_yother_",Fe=ge==="xother_"||ge==="yother_",Te=xe||_e||Fe||De,Re=ge;(_e||De)&&(Re=Re.substring(1)),(Fe||De)&&(Re=Re.substring(0,Re.length-1));var Se=null,ke=null;if(Y.parseMultDiv){var Me=W(Re);Re=Me.key,Se=Me.op,ke=Me.number}var Ve;if(Te){if(Ve=oe[Re],Ve===void 0)return""}else{var tt,it;for(it=3;it<se.length;it++)if(tt=se[it],!!tt){if(tt.hasOwnProperty(Re)){Ve=tt[Re];break}if(O.test(Re)||(Ve=t.nestedProperty(tt,Re).get(),Ve=te[Re]||t.nestedProperty(tt,Re).get(),Ve&&(te[Re]=Ve)),Ve!==void 0)break}}if(Ve!==void 0&&(Se==="*"&&(Ve*=ke),Se==="/"&&(Ve/=ke)),Ve===void 0&&Y)return Y.count<Y.max&&(t.warn("Variable '"+Re+"' in "+Y.name+" could not be found!"),Ve=fe),Y.count===Y.max&&t.warn("Too many "+Y.name+" warnings - additional warnings will be suppressed"),Y.count++,fe;if(be){var Je;if(be[0]===":"&&(Je=j?j.numberFormat:t.numberFormat,Ve!==""&&(Ve=Je(be.replace(re,""))(Ve))),be[0]==="|"){Je=j?j.timeFormat:P;var Qe=t.dateTime2ms(Ve);Ve=t.formatDate(Qe,be.replace(re,""),!1,Je)}}else{var ct=Re+"Label";oe.hasOwnProperty(ct)&&(Ve=oe[ct])}return Te&&(Ve="("+Ve+")",(_e||De)&&(Ve=" "+Ve),(Fe||De)&&(Ve=Ve+" ")),Ve})}var le=48,$=57;t.subplotSort=function(Q,oe){for(var j=Math.min(Q.length,oe.length)+1,Y=0,se=0,te=0;te<j;te++){var fe=Q.charCodeAt(te)||0,ge=oe.charCodeAt(te)||0,be=fe>=le&&fe<=$,xe=ge>=le&&ge<=$;if(be&&(Y=10*Y+fe-le),xe&&(se=10*se+ge-le),!be||!xe){if(Y!==se)return Y-se;if(fe!==ge)return fe-ge}}return se-Y};var Z=2e9;t.seedPseudoRandom=function(){Z=2e9},t.pseudoRandom=function(){var Q=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-Q)<429496729?t.pseudoRandom():Z/4294967296},t.fillText=function(Q,oe,j){var Y=Array.isArray(j)?function(fe){j.push(fe)}:function(fe){j.text=fe},se=t.extractOption(Q,oe,"htx","hovertext");if(t.isValidTextValue(se))return Y(se);var te=t.extractOption(Q,oe,"tx","text");if(t.isValidTextValue(te))return Y(te)},t.isValidTextValue=function(Q){return Q||Q===0},t.formatPercent=function(Q,oe){oe=oe||0;for(var j=(Math.round(100*Q*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",Y=0;Y<oe;Y++)j.indexOf(".")!==-1&&(j=j.replace("0%","%"),j=j.replace(".%","%"));return j},t.isHidden=function(Q){var oe=window.getComputedStyle(Q).display;return!oe||oe==="none"},t.strTranslate=function(Q,oe){return Q||oe?"translate("+Q+","+oe+")":""},t.strRotate=function(Q){return Q?"rotate("+Q+")":""},t.strScale=function(Q){return Q!==1?"scale("+Q+")":""},t.getTextTransform=function(Q){var oe=Q.noCenter,j=Q.textX,Y=Q.textY,se=Q.targetX,te=Q.targetY,fe=Q.anchorX||0,ge=Q.anchorY||0,be=Q.rotate,xe=Q.scale;return xe?xe>1&&(xe=1):xe=0,t.strTranslate(se-xe*(j+fe),te-xe*(Y+ge))+t.strScale(xe)+(be?"rotate("+be+(oe?"":" "+j+" "+Y)+")":"")},t.setTransormAndDisplay=function(Q,oe){Q.attr("transform",t.getTextTransform(oe)),Q.style("display",oe.scale?null:"none")},t.ensureUniformFontSize=function(Q,oe){var j=t.extendFlat({},oe);return j.size=Math.max(oe.size,Q._fullLayout.uniformtext.minsize||0),j},t.join2=function(Q,oe,j){var Y=Q.length;return Y>1?Q.slice(0,-1).join(oe)+j+Q[Y-1]:Q.join(oe)},t.bigFont=function(Q){return Math.round(1.2*Q)};var ie=t.getFirefoxVersion(),X=ie!==null&&ie<86;t.getPositionFromD3Event=function(){return X?[m.event.layerX,m.event.layerY]:[m.event.offsetX,m.event.offsetY]}},63620:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(G,H,e){var m=e(22296),P=/^\w*$/,s=0,L=1,S=2,v=3,p=4;G.exports=function(t,a,n,f){n=n||"name",f=f||"value";var u,l,g,h={};a&&a.length?(g=m(t,a),l=g.get()):l=t,a=a||"";var T={};if(l)for(u=0;u<l.length;u++)T[l[u][n]]=u;var c=P.test(f),i={set:function(d,b){var w=b===null?p:s;if(!l){if(!g||w===p)return;l=[],g.set(l)}var C=T[d];if(C===void 0){if(w===p)return;w=w|v,C=l.length,T[d]=C}else b!==(c?l[C][f]:m(l[C],f).get())&&(w=w|S);var y=l[C]=l[C]||{};return y[n]=d,c?y[f]=b:m(y,f).set(b),b!==null&&(w=w&~p),h[C]=h[C]|w,i},get:function(d){if(l){var b=T[d];if(b!==void 0)return c?l[b][f]:m(l[b],f).get()}},rename:function(d,b){var w=T[d];return w===void 0||(h[w]=h[w]|L,T[b]=w,delete T[d],l[w][n]=b),i},remove:function(d){var b=T[d];if(b===void 0)return i;var w=l[b];if(Object.keys(w).length>2)return h[b]=h[b]|S,i.set(d,null);if(c){for(u=b;u<l.length;u++)h[u]=h[u]|v;for(u=b;u<l.length;u++)T[l[u][n]]--;l.splice(b,1),delete T[d]}else m(w,f).set(null),h[b]=h[b]|S|p;return i},constructUpdate:function(){for(var d,b,w={},C=Object.keys(h),y=0;y<C.length;y++)b=C[y],d=a+"["+b+"]",l[b]?(h[b]&L&&(w[d+"."+n]=l[b][n]),h[b]&S&&(c?w[d+"."+f]=h[b]&p?null:l[b][f]:w[d+"."+f]=h[b]&p?null:m(l[b],f).get())):w[d]=null;return w}};return i}},98356:function(G,H,e){var m=e(24040);G.exports=function(s,L){for(var S=s._context.locale,v=0;v<2;v++){for(var p=s._context.locales,r=0;r<2;r++){var t=(p[S]||{}).dictionary;if(t){var a=t[L];if(a)return a}p=m.localeRegistry}var n=S.split("-")[0];if(n===S)break;S=n}return L}},24248:function(G,H,e){var m=e(20556).dfltConfig,P=e(41792),s=G.exports={};s.log=function(){var L;if(m.logging>1){var S=["LOG:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.trace.apply(console,S)}if(m.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},s.warn=function(){var L;if(m.logging>0){var S=["WARN:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.trace.apply(console,S)}if(m.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},s.error=function(){var L;if(m.logging>0){var S=["ERROR:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.error.apply(console,S)}if(m.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},30988:function(G,H,e){var m=e(33428);G.exports=function(s,L,S){var v=s.selectAll("g."+S.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",S),v.order();var p=s.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=m.select(this)}),v}},52248:function(G,H,e){var m=e(36524);H.init2dArray=function(P,s){for(var L=new Array(P),S=0;S<P;S++)L[S]=new Array(s);return L},H.transposeRagged=function(P){var s=0,L=P.length,S,v;for(S=0;S<L;S++)s=Math.max(s,P[S].length);var p=new Array(s);for(S=0;S<s;S++)for(p[S]=new Array(L),v=0;v<L;v++)p[S][v]=P[v][S];return p},H.dot=function(P,s){if(!(P.length&&s.length)||P.length!==s.length)return null;var L=P.length,S,v;if(P[0].length)for(S=new Array(L),v=0;v<L;v++)S[v]=H.dot(P[v],s);else if(s[0].length){var p=H.transposeRagged(s);for(S=new Array(p.length),v=0;v<p.length;v++)S[v]=H.dot(P,p[v])}else for(S=0,v=0;v<L;v++)S+=P[v]*s[v];return S},H.translationMatrix=function(P,s){return[[1,0,P],[0,1,s],[0,0,1]]},H.rotationMatrix=function(P){var s=P*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},H.rotationXYMatrix=function(P,s,L){return H.dot(H.dot(H.translationMatrix(s,L),H.rotationMatrix(P)),H.translationMatrix(-s,-L))},H.apply3DTransform=function(P){return function(){var s=arguments,L=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return H.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},H.apply2DTransform=function(P){return function(){var s=arguments;s.length===3&&(s=s[0]);var L=arguments.length===1?s[0]:[s[0],s[1]];return H.dot(P,[L[0],L[1],1]).slice(0,2)}},H.apply2DTransform2=function(P){var s=H.apply2DTransform(P);return function(L){return s(L.slice(0,2)).concat(s(L.slice(2,4)))}},H.convertCssMatrix=function(P){if(P){var s=P.length;if(s===16)return P;if(s===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(P){var s=[];return m.invert(s,P),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},20435:function(G){function H(m,P){var s=m%P;return s<0?s+P:s}function e(m,P){return Math.abs(m)>P/2?m-Math.round(m/P)*P:m}G.exports={mod:H,modHalf:e}},22296:function(G,H,e){var m=e(38248),P=e(38116).isArrayOrTypedArray;G.exports=function(f,u){if(m(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),g,h,T,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(g=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])l[c]=g[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=g[2].substr(1,g[2].length-2).split("]["),T=0;T<h.length;T++)c++,l.splice(c,0,Number(h[T]))}c++}return typeof f!="object"?a(f,u,l):{set:v(f,l,u),get:s(f,l),astr:u,parts:l,obj:f}};function s(n,f){return function(){var u=n,l,g,h,T,c;for(T=0;T<f.length-1;T++){if(l=f[T],l===-1){for(g=!0,h=[],c=0;c<u.length;c++)h[c]=s(u[c],f.slice(T+1))(),h[c]!==h[0]&&(g=!1);return g?h[0]:h}if(typeof l=="number"&&!P(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[f[T]],h!==null))return h}}var L=/(^|\.)args\[/;function S(n,f){return n===void 0||n===null&&!f.match(L)}function v(n,f,u){return function(l){var g=n,h="",T=S(l,u),c,i;for(i=0;i<f.length-1;i++){if(c=f[i],typeof c=="number"&&!P(g))throw"array index but container is not an array";if(c===-1){if(T=!r(g,f.slice(i+1),l,u),T)break;return}if(!t(g,c,f[i+1],T))break;if(g=g[c],typeof g!="object"||g===null)throw"container is not an object";h=p(h,c)}if(T){if(i===f.length-1&&(delete g[f[i]],Array.isArray(g)&&+f[i]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[f[i]]=l}}function p(n,f){var u=f;return m(f)?u="["+f+"]":n&&(u="."+f),n+u}function r(n,f,u,l){var g=P(u),h=!0,T=u,c=l.replace("-1",0),i=g?!1:S(u,c),d=f[0],b;for(b=0;b<n.length;b++)c=l.replace("-1",b),g&&(T=u[b%u.length],i=S(T,c)),i&&(h=!1),t(n,b,d,i)&&v(n[b],f,l.replace("-1",b))(T);return h}function t(n,f,u,l){if(n[f]===void 0){if(l)return!1;typeof u=="number"?n[f]=[]:n[f]={}}return!0}function a(n,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:n}}},16628:function(G){G.exports=function(){}},41792:function(G,H,e){var m=e(33428),P=e(38248),s=[];G.exports=function(L,S){if(s.indexOf(L)!==-1)return;s.push(L);var v=1e3;P(S)?v=S:S==="long"&&(v=3e3);var p=m.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(s);function t(a){a.duration(700).style("opacity",0).each("end",function(n){var f=s.indexOf(n);f!==-1&&s.splice(f,1),m.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var n=m.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),u=a.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);S==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(G,H,e){var m=e(93972),P="data-savedcursor",s="!!";G.exports=function(S,v){var p=S.attr(P);if(v){if(!p){for(var r=(S.attr("class")||"").split(" "),t=0;t<r.length;t++){var a=r[t];a.indexOf("cursor-")===0&&S.attr(P,a.substr(7)).classed(a,!1)}S.attr(P)||S.attr(P,s)}m(S,v)}else p&&(S.attr(P,null),p===s?m(S):m(S,p))}},92065:function(G,H,e){var m=e(52248).dot,P=e(39032).BADNUM,s=G.exports={};s.tester=function(S){var v=S.slice(),p=v[0][0],r=p,t=v[0][1],a=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),a=Math.max(a,v[n][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(c){return c[1]===v[0][1]}));function l(c,i){var d=c[0],b=c[1];return!(d===P||d<p||d>r||b===P||b<t||b>a||i&&u(c))}function g(c,i){var d=c[0],b=c[1];if(d===P||d<p||d>r||b===P||b<t||b>a)return!1;var w=v.length,C=v[0][0],y=v[0][1],E=0,A,o,M,x,I;for(A=1;A<w;A++)if(o=C,M=y,C=v[A][0],y=v[A][1],x=Math.min(o,C),!(d<x||d>Math.max(o,C)||b>Math.max(M,y)))if(b<Math.min(M,y))d!==x&&E++;else{if(C===o?I=b:I=M+(d-o)*(y-M)/(C-o),b===I)return!(A===1&&i);b<=I&&d!==x&&E++}return E%2===1}var h=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:a,pts:v,contains:f?l:g,isRect:f,degenerate:h}},s.isSegmentBent=function(S,v,p,r){var t=S[v],a=[S[p][0]-t[0],S[p][1]-t[1]],n=m(a,a),f=Math.sqrt(n),u=[-a[1]/f,a[0]/f],l,g,h;for(l=v+1;l<p;l++)if(g=[S[l][0]-t[0],S[l][1]-t[1]],h=m(g,a),h<0||h>n||Math.abs(m(g,u))>r)return!0;return!1},s.filter=function(S,v){var p=[S[0]],r=0,t=0;function a(f){S.push(f);var u=p.length,l=r;p.splice(t+1);for(var g=l+1;g<S.length;g++)(g===S.length-1||s.isSegmentBent(S,l,g+1,v))&&(p.push(S[g]),p.length<u-2&&(r=g,t=p.length-1),l=g)}if(S.length>1){var n=S.pop();a(n)}return{addPt:a,raw:S,filtered:p}}},5048:function(G,H,e){var m=e(16576),P=e(28624);G.exports=function(L,S,v){var p=L._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:S||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(a){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:a,layer:t.key})},!1)}}),r||m({container:p._glcontainer.node()}),r}},34296:function(G,H,e){var m=e(38248),P=e(25928);G.exports=function(S){var v;if(S&&S.hasOwnProperty("userAgent")?v=S.userAgent:v=s(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var a=r[t];if(a.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(m(u)&&(u=+u),u>=13)return!0}}}return p};function s(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(G){G.exports=function(e,m){if(m instanceof RegExp){for(var P=m.toString(),s=0;s<e.length;s++)if(e[s]instanceof RegExp&&e[s].toString()===P)return e;e.push(m)}else(m||m===0)&&e.indexOf(m)===-1&&e.push(m);return e}},94552:function(G,H,e){var m=e(3400),P=e(20556).dfltConfig;function s(S,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===S?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?m.extendDeep([],r):m.extendDeepAll({},r):p[t]=r;return p}var L={};L.add=function(S,v,p,r,t){var a,n;if(S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},n=S.undoQueue.index,S.autoplay){S.undoQueue.inSequence||(S.autoplay=!1);return}!S.undoQueue.sequence||S.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},S.undoQueue.queue.splice(n,S.undoQueue.queue.length-n,a),S.undoQueue.index+=1):a=S.undoQueue.queue[n-1],S.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(v),a.undo.args.unshift(p),a.redo.calls.push(r),a.redo.args.push(t)),S.undoQueue.queue.length>P.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--)},L.startSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},L.stopSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},L.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)L.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)L.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(S,v,p){S.autoplay=!0,p=s(S,p),v.apply(null,p)},G.exports=L},53756:function(G,H){H.counter=function(e,m,P,s){var L=(m||"")+(P?"":"$"),S=s===!1?"":"^";return e==="xy"?new RegExp(S+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(S+e+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(G){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(m,P){for(;P;){var s=m.match(H);if(s)m=s[1];else if(m.match(e))m="";else throw new Error("bad relativeAttr call:"+[m,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return m&&P.charAt(0)!=="["?m+"."+P:m+P}},51528:function(G,H,e){var m=e(38116).isArrayOrTypedArray,P=e(63620);G.exports=function s(L,S){for(var v in S){var p=S[v],r=L[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(m(p)&&m(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),a=0;a<t;a++)r[a]!==p[a]&&P(p[a])&&P(r[a])&&s(r[a],p[a])}else P(p)&&P(r)&&(s(r,p),Object.keys(r).length||delete L[v])}}},14952:function(G,H,e){var m=e(38248),P=e(24248),s=e(35536),L=e(39032).BADNUM,S=1e-9;H.findBin=function(a,n,f){if(m(n.start))return f?Math.ceil((a-n.start)/n.size-S)-1:Math.floor((a-n.start)/n.size+S);var u=0,l=n.length,g=0,h=l>1?(n[l-1]-n[0])/(l-1):1,T,c;for(h>=0?c=f?v:p:c=f?t:r,a+=h*S*(f?-1:1)*(h>=0?1:-1);u<l&&g++<100;)T=Math.floor((u+l)/2),c(n[T],a)?u=T+1:l=T;return g>90&&P.log("Long binary search..."),u-1};function v(a,n){return a<n}function p(a,n){return a<=n}function r(a,n){return a>n}function t(a,n){return a>=n}H.sorterAsc=function(a,n){return a-n},H.sorterDes=function(a,n){return n-a},H.distinctVals=function(a){var n=a.slice();n.sort(H.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===L;f--);for(var u=n[f]-n[0]||1,l=u/(f||1)/1e4,g=[],h,T=0;T<=f;T++){var c=n[T],i=c-h;h===void 0?(g.push(c),h=c):i>l&&(u=Math.min(u,i),g.push(c),h=c)}return{vals:g,minDiff:u}},H.roundUp=function(a,n,f){for(var u=0,l=n.length-1,g,h=0,T=f?0:1,c=f?1:0,i=f?Math.ceil:Math.floor;u<l&&h++<100;)g=i((u+l)/2),n[g]<=a?u=g+T:l=g-c;return n[u]},H.sort=function(a,n){for(var f=0,u=0,l=1;l<a.length;l++){var g=n(a[l],a[l-1]);if(g<0?f=1:g>0&&(u=1),f&&u)return a.sort(n)}return u?a:a.reverse()},H.findIndexOfMin=function(a,n){n=n||s;for(var f=1/0,u,l=0;l<a.length;l++){var g=n(a[l]);g<f&&(f=g,u=l)}return u}},93972:function(G){G.exports=function(e,m){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),m&&e.classed("cursor-"+m,!0)}},16576:function(G,H,e){var m=e(76308),P=function(){};G.exports=function(L){for(var S in L)typeof L[S]=="function"&&(L[S]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=m.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=m.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(G){G.exports=function(e){return Object.keys(e).sort()}},63084:function(G,H,e){var m=e(38248),P=e(38116).isArrayOrTypedArray;H.aggNums=function(s,L,S,v){var p,r;if((!v||v>S.length)&&(v=S.length),m(L)||(L=!1),P(S[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=H.aggNums(s,L,S[p]);S=r}for(p=0;p<v;p++)m(L)?m(S[p])&&(L=s(+L,+S[p])):L=S[p];return L},H.len=function(s){return H.aggNums(function(L){return L+1},0,s)},H.mean=function(s,L){return L||(L=H.len(s)),H.aggNums(function(S,v){return S+v},0,s)/L},H.midRange=function(s){if(!(s===void 0||s.length===0))return(H.aggNums(Math.max,null,s)+H.aggNums(Math.min,null,s))/2},H.variance=function(s,L,S){return L||(L=H.len(s)),m(S)||(S=H.mean(s,L)),H.aggNums(function(v,p){return v+Math.pow(p-S,2)},0,s)/L},H.stdev=function(s,L,S){return Math.sqrt(H.variance(s,L,S))},H.median=function(s){var L=s.slice().sort();return H.interp(L,.5)},H.interp=function(s,L){if(!m(L))throw"n should be a finite number";if(L=L*s.length-.5,L<0)return s[0];if(L>s.length-1)return s[s.length-1];var S=L%1;return S*s[Math.ceil(L)]+(1-S)*s[Math.floor(L)]}},43080:function(G,H,e){var m=e(72160);function P(s){return s?m(s):[0,0,0,1]}G.exports=P},9188:function(G,H,e){var m=e(2264),P=e(43616),s=e(3400),L=null;function S(){if(L!==null)return L;L=!1;var v=s.isIE()||s.isSafari()||s.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(m.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=p.some(function(f){return r.apply(null,f)});else{var t=P.tester.append("image").attr("style",m.STYLE),a=window.getComputedStyle(t.node()),n=a.imageRendering;L=p.some(function(f){var u=f[1];return n===u||n===u.toLowerCase()}),t.remove()}}return L}G.exports=S},72736:function(G,H,e){var m=e(33428),P=e(3400),s=P.strTranslate,L=e(9616),S=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(F,z,B){var W=F.text(),J=!F.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&W.match(v),re=m.select(F.node().parentNode);if(re.empty())return;var ne=F.attr("class")?F.attr("class").split(" ")[0]:"text";ne+="-math",re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove(),F.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function le(){re.empty()||(ne=F.attr("class")+"-math",re.select("svg."+ne).remove()),F.text("").style("white-space","pre");var $=D(F.node(),W);$&&F.style("pointer-events","all"),H.positionText(F),B&&B.call(F)}return J?(z&&z._promises||[]).push(new Promise(function($){F.style("display","none");var Z=parseInt(F.node().style.fontSize,10),ie={fontSize:Z};n(J[2],ie,function(X,Q,oe){re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove();var j=X&&X.select("svg");if(!j||!j.node()){le(),$();return}var Y=re.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});Y.node().appendChild(j.node()),Q&&Q.node()&&j.node().insertBefore(Q.node().cloneNode(!0),j.node().firstChild);var se=oe.width,te=oe.height;j.attr({class:ne,height:te,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=F.node().style.fill||"black",ge=j.select("g");ge.attr({fill:fe,stroke:fe});var be=ge.node().getBoundingClientRect(),xe=be.width,_e=be.height;(xe>se||_e>te)&&(j.style("overflow","hidden"),be=j.node().getBoundingClientRect(),xe=be.width,_e=be.height);var De=+F.attr("x"),Fe=+F.attr("y"),Te=Z||F.node().getBoundingClientRect().height,Re=-Te/4;if(ne[0]==="y")Y.attr({transform:"rotate("+[-90,De,Fe]+")"+s(-xe/2,Re-_e/2)});else if(ne[0]==="l")Fe=Re-_e/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)De=0,Fe=Re;else{var Se=F.attr("text-anchor");De=De-xe*(Se==="middle"?.5:Se==="end"?1:0),Fe=Fe+Re-_e/2}j.attr({x:De,y:Fe}),B&&B.call(F,Y),$(Y)})})):le(),F};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(F){return F.replace(p,"\\lt ").replace(r,"\\gt ")}var a=[["$","$"],["\\(","\\)"]];function n(F,z,B){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){P.warn("No MathJax version:",MathJax.version);return}var J,re,ne,le,$=function(){return re=P.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:a},displayAlign:"left"})},Z=function(){re=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=a},ie=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},Q=function(){var fe="math-output-"+P.randstr({},64);le=m.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(F));var ge=le.node();return W===2?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},oe=function(){var fe=le.select(W===2?".MathJax_SVG":".MathJax"),ge=!fe.empty()&&le.select("svg").node();if(!ge)P.log("There was an error in the tex syntax.",F),B();else{var be=ge.getBoundingClientRect(),xe;W===2?xe=m.select("body").select("#MathJax_SVG_glyphs"):xe=fe.select("defs"),B(fe,xe,be)}le.remove()},j=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},Y=function(){J!=="svg"&&(MathJax.config.startup.output=J)},se=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(re)},te=function(){MathJax.config=re};W===2?MathJax.Hub.Queue($,ie,Q,oe,j,se):W===3&&(Z(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),oe(),Y(),te()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},g="​",h=["http:","https:","mailto:","",void 0,":"],T=H.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(F,z){if(!F)return null;var B=F.match(z),W=B&&(B[3]||B[4]);return W&&x(W)}var A=/(^|;)\s*color:/;H.plainText=function(F,z){z=z||{};for(var B=z.len!==void 0&&z.len!==-1?z.len:1/0,W=z.allowedTags!==void 0?z.allowedTags:["br"],J="...",re=J.length,ne=F.split(c),le=[],$="",Z=0,ie=0;ie<ne.length;ie++){var X=ne[ie],Q=X.match(i),oe=Q&&Q[2].toLowerCase();if(oe)W.indexOf(oe)!==-1&&(le.push(X),$=oe);else{var j=X.length;if(Z+j<B)le.push(X),Z+=j;else if(Z<B){var Y=B-Z;$&&($!=="br"||Y<=re||j<=re)&&le.pop(),B>re?le.push(X.substr(0,Y-re)+J):le.push(X.substr(0,Y));break}$=""}}return le.join("")};var o={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function x(F){return F.replace(M,function(z,B){var W;return B.charAt(0)==="#"?W=I(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):W=o[B],W||z})}H.convertEntities=x;function I(F){if(!(F>1114111)){var z=String.fromCodePoint;if(z)return z(F);var B=String.fromCharCode;return F<=65535?B(F):B((F>>10)+55232,F%1024+56320)}}function D(F,z){z=z.replace(T," ");var B=!1,W=[],J,re=-1;function ne(){re++;var _e=document.createElementNS(L.svg,"tspan");m.select(_e).attr({class:"line",dy:re*S+"em"}),F.appendChild(_e),J=_e;var De=W;if(W=[{node:_e}],De.length>1)for(var Fe=1;Fe<De.length;Fe++)le(De[Fe])}function le(_e){var De=_e.type,Fe={},Te;if(De==="a"){Te="a";var Re=_e.target,Se=_e.href,ke=_e.popup;Se&&(Fe={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":Se},ke&&(Fe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else Te="tspan";_e.style&&(Fe.style=_e.style);var Me=document.createElementNS(L.svg,Te);if(De==="sup"||De==="sub"){$(J,g),J.appendChild(Me);var Ve=document.createElementNS(L.svg,"tspan");$(Ve,g),m.select(Ve).attr("dy",l[De]),Fe.dy=u[De],J.appendChild(Me),J.appendChild(Ve)}else J.appendChild(Me);m.select(Me).attr(Fe),J=_e.node=Me,W.push(_e)}function $(_e,De){_e.appendChild(document.createTextNode(De))}function Z(_e){if(W.length===1){P.log("Ignoring unexpected end tag </"+_e+">.",z);return}var De=W.pop();_e!==De.type&&P.log("Start tag <"+De.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",z),J=W[W.length-1].node}var ie=d.test(z);ie?ne():(J=F,W=[{node:F}]);for(var X=z.split(c),Q=0;Q<X.length;Q++){var oe=X[Q],j=oe.match(i),Y=j&&j[2].toLowerCase(),se=f[Y];if(Y==="br")ne();else if(se===void 0)$(J,x(oe));else if(j[1])Z(Y);else{var te=j[4],fe={type:Y},ge=E(te,b);if(ge?(ge=ge.replace(A,"$1 fill:"),se&&(ge+=";"+se)):se&&(ge=se),ge&&(fe.style=ge),Y==="a"){B=!0;var be=E(te,w);if(be){var xe=N(be);xe&&(fe.href=xe,fe.target=E(te,C)||"_blank",fe.popup=E(te,y))}}le(fe)}}return B}function N(F){var z=encodeURI(decodeURI(F)),B=document.createElement("a"),W=document.createElement("a");B.href=F,W.href=z;var J=B.protocol,re=W.protocol;return h.indexOf(J)!==-1&&h.indexOf(re)!==-1?z:""}H.sanitizeHTML=function(z){z=z.replace(T," ");for(var B=document.createElement("p"),W=B,J=[],re=z.split(c),ne=0;ne<re.length;ne++){var le=re[ne],$=le.match(i),Z=$&&$[2].toLowerCase();if(Z in f)if($[1])J.length&&(W=J.pop());else{var ie=$[4],X=E(ie,b),Q=X?{style:X}:{};if(Z==="a"){var oe=E(ie,w);if(oe){var j=N(oe);if(j){Q.href=j;var Y=E(ie,C);Y&&(Q.target=Y)}}}var se=document.createElement(Z);W.appendChild(se),m.select(se).attr(Q),W=se,J.push(se)}else W.appendChild(document.createTextNode(x(le)))}var te="innerHTML";return B[te]},H.lineCount=function(z){return z.selectAll("tspan.line").size()||1},H.positionText=function(z,B,W){return z.each(function(){var J=m.select(this);function re($,Z){return Z===void 0?(Z=J.attr($),Z===null&&(J.attr($,0),Z=0)):J.attr($,Z),Z}var ne=re("x",B),le=re("y",W);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:ne,y:le})})};function k(F,z,B){var W=B.horizontalAlign,J=B.verticalAlign||"top",re=F.node().getBoundingClientRect(),ne=z.node().getBoundingClientRect(),le,$,Z;return J==="bottom"?$=function(){return re.bottom-le.height}:J==="middle"?$=function(){return re.top+(re.height-le.height)/2}:$=function(){return re.top},W==="right"?Z=function(){return re.right-le.width}:W==="center"?Z=function(){return re.left+(re.width-le.width)/2}:Z=function(){return re.left},function(){le=this.node().getBoundingClientRect();var ie=Z()-ne.left,X=$()-ne.top,Q=B.gd||{};if(B.gd){Q._fullLayout._calcInverseTransform(Q);var oe=P.apply3DTransform(Q._fullLayout._invTransform)(ie,X);ie=oe[0],X=oe[1]}return this.style({top:X+"px",left:ie+"px","z-index":1e3}),this}}var O="1px ";H.makeTextShadow=function(F){var z=O,B=O,W=O;return z+B+W+F+", -"+z+"-"+B+W+F+", "+z+"-"+B+W+F+", -"+z+B+W+F},H.makeEditable=function(F,z){var B=z.gd,W=z.delegate,J=m.dispatch("edit","input","cancel"),re=W||F;if(F.style({"pointer-events":W?"none":"all"}),F.size()!==1)throw new Error("boo");function ne(){$(),F.style({opacity:0});var Z=re.attr("class"),ie;Z?ie="."+Z.split(" ")[0]+"-math-group":ie="[class*=-math-group]",ie&&m.select(F.node().parentNode).select(ie).style({opacity:0})}function le(Z){var ie=Z.node(),X=document.createRange();X.selectNodeContents(ie);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(X),ie.focus()}function $(){var Z=m.select(B),ie=Z.select(".svg-container"),X=ie.append("div"),Q=F.node().style,oe=parseFloat(Q.fontSize||12),j=z.text;j===void 0&&(j=F.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":oe,color:z.fill||Q.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-oe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(k(F,ie,z)).on("blur",function(){B._editing=!1,F.text(this.textContent).style({opacity:1});var Y=m.select(this).attr("class"),se;Y?se="."+Y.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&m.select(F.node().parentNode).select(se).style({opacity:0});var te=this.textContent;m.select(this).transition().duration(0).remove(),m.select(document).on("mouseup",null),J.edit.call(F,te)}).on("focus",function(){var Y=this;B._editing=!0,m.select(document).on("mouseup",function(){if(m.event.target===Y)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){m.event.which===27?(B._editing=!1,F.style({opacity:1}),m.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(F,this.textContent)):(J.input.call(F,this.textContent),m.select(this).call(k(F,ie,z)))}).on("keydown",function(){m.event.which===13&&this.blur()}).call(le)}return z.immediate?ne():re.on("click",ne),m.rebind(F,J,"on")}},91200:function(G,H){var e={};H.throttle=function(s,L,S){var v=e[s],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[s]={ts:0,timer:null}}m(v);function t(){S(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},H.done=function(P){var s=e[P];return!s||!s.timer?Promise.resolve():new Promise(function(L){var S=s.onDone;s.onDone=function(){S&&S(),L(),s.onDone=null}})},H.clear=function(P){if(P)m(e[P]),delete e[P];else for(var s in e)H.clear(s)};function m(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(G,H,e){var m=e(38248);G.exports=function(s,L){if(s>0)return Math.log(s)/Math.LN10;var S=Math.log(Math.min(L[0],L[1]))/Math.LN10;return m(S)||(S=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),S}},59972:function(G,H,e){var m=G.exports={},P=e(79552).locationmodeToLayer,s=e(55712).NO;m.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},m.getTopojsonPath=function(L,S){return L+S+".json"},m.getTopojsonFeatures=function(L,S){var v=P[L.locationmode],p=S.objects[v];return s(S,p).features}},11680:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(G,H,e){var m=e(24040);G.exports=function(s){for(var L=m.layoutArrayContainers,S=m.layoutArrayRegexes,v=s.split("[")[0],p,r,t=0;t<S.length;t++)if(r=s.match(S[t]),r&&r.index===0){p=r[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var a=s.substr(p.length);return a?(r=a.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(G,H,e){var m=e(92880).extendFlat,P=e(63620),s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},S=s.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");G.exports={traces:s,layout:L,traceFlags:function(){return p(S)},layoutFlags:function(){return p(v)},update:function(a,n){var f=n.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)a[u[l]]=!0},overrideAll:r};function p(a){for(var n={},f=0;f<a.length;f++)n[a[f]]=!1;return n}function r(a,n,f){var u=m({},a);for(var l in u){var g=u[l];P(g)&&(u[l]=t(g,n,f,l))}return f==="from-root"&&(u.editType=n),u}function t(a,n,f,u){if(a.valType){var l=m({},a);if(l.editType=n,Array.isArray(a.items)){l.items=new Array(a.items.length);for(var g=0;g<a.items.length;g++)l.items[g]=t(a.items[g],n)}return l}else return r(a,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(G,H,e){var m=e(38248),P=e(61784),s=e(24040),L=e(3400),S=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,a=s.traceIs;H.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},H.cleanLayout=function(d){var b,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(S.subplotsRegistry.cartesian||{}).attrRegex,y=(S.subplotsRegistry.polar||{}).attrRegex,E=(S.subplotsRegistry.ternary||{}).attrRegex,A=(S.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(d);for(b=0;b<o.length;b++){var M=o[b];if(C&&C.test(M)){var x=d[M];x.anchor&&x.anchor!=="free"&&(x.anchor=r(x.anchor)),x.overlaying&&(x.overlaying=r(x.overlaying)),x.type||(x.isdate?x.type="date":x.islog?x.type="log":x.isdate===!1&&x.islog===!1&&(x.type="linear")),(x.autorange==="withzero"||x.autorange==="tozero")&&(x.autorange=!0,x.rangemode="tozero"),x.insiderange&&delete x.range,delete x.islog,delete x.isdate,delete x.categories,h(x,"domain")&&delete x.domain,x.autotick!==void 0&&(x.tickmode===void 0&&(x.tickmode=x.autotick?"auto":"linear"),delete x.autotick),f(x)}else if(y&&y.test(M)){var I=d[M];f(I.radialaxis)}else if(E&&E.test(M)){var D=d[M];f(D.aaxis),f(D.baxis),f(D.caxis)}else if(A&&A.test(M)){var N=d[M],k=N.cameraposition;if(Array.isArray(k)&&k[0].length===4){var O=k[0],F=k[1],z=k[2],B=P([],O),W=[];for(w=0;w<3;++w)W[w]=F[w]+z*B[2+4*w];N.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:F[0],y:F[1],z:F[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}f(N.xaxis),f(N.yaxis),f(N.zaxis)}}var J=Array.isArray(d.annotations)?d.annotations.length:0;for(b=0;b<J;b++){var re=d.annotations[b];L.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ne=Array.isArray(d.shapes)?d.shapes.length:0;for(b=0;b<ne;b++){var le=d.shapes[b];L.isPlainObject(le)&&(n(le,"xref"),n(le,"yref"))}var $=Array.isArray(d.images)?d.images.length:0;for(b=0;b<$;b++){var Z=d.images[b];L.isPlainObject(Z)&&(n(Z,"xref"),n(Z,"yref"))}var ie=d.legend;return ie&&(ie.x>3?(ie.x=1.02,ie.xanchor="left"):ie.x<-2&&(ie.x=-.02,ie.xanchor="right"),ie.y>3?(ie.y=1.02,ie.yanchor="bottom"):ie.y<-2&&(ie.y=-.02,ie.yanchor="top")),f(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&H.cleanLayout(d.template.layout),d};function n(d,b){var w=d[b],C=b.charAt(0);w&&w!=="paper"&&(d[b]=r(w,C,!0))}function f(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(w,C){var y=d[w],E=d.title&&d.title[C];y&&!E&&(d.title||(d.title={}),d.title[C]=d[w],delete d[w])}}H.cleanData=function(d){for(var b=0;b<d.length;b++){var w=d[b],C;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var y=p.defaults,E=w.error_y.color||(a(w,"bar")?p.defaultLine:y[b%y.length]);w.error_y.color=p.addOpacity(p.rgb(E),p.opacity(E)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(a(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",H.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&H.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),a(w,"gl3d")&&w.scene&&(w.scene=S.subplotsRegistry.gl3d.cleanId(w.scene)),!a(w,"pie-like")&&!a(w,"bar-like"))if(Array.isArray(w.textposition))for(C=0;C<w.textposition.length;C++)w.textposition[C]=g(w.textposition[C]);else w.textposition&&(w.textposition=g(w.textposition));var A=s.getModule(w);if(A&&A.colorbar){var o=A.colorbar.container,M=o?w[o]:w;M&&M.colorscale&&(M.colorscale==="YIGnBu"&&(M.colorscale="YlGnBu"),M.colorscale==="YIOrRd"&&(M.colorscale="YlOrRd"))}if(w.type==="surface"&&L.isPlainObject(w.contours)){var x=["x","y","z"];for(C=0;C<x.length;C++){var I=w.contours[x[C]];L.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var D=(w.increasing||{}).showlegend!==!1,N=(w.decreasing||{}).showlegend!==!1,k=u(w.increasing),O=u(w.decreasing);if(k!==!1&&O!==!1){var F=l(k,O,D,N);F&&(w.name=F)}else(k||O)&&!w.name&&(w.name=k||O)}if(Array.isArray(w.transforms)){var z=w.transforms;for(C=0;C<z.length;C++){var B=z[C];if(L.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var W=B.styles,J=Object.keys(W);B.styles=[];for(var re=0;re<J.length;re++)B.styles.push({target:J[re],value:W[J[re]]})}break}}}h(w,"line")&&delete w.line,"marker"in w&&(h(w.marker,"line")&&delete w.marker.line,h(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),f(w),w.colorbar&&f(w.colorbar),w.marker&&w.marker.colorbar&&f(w.marker.colorbar),w.line&&w.line.colorbar&&f(w.line.colorbar),w.aaxis&&f(w.aaxis),w.baxis&&f(w.baxis)}};function u(d){if(!L.isPlainObject(d))return!1;var b=d.name;return delete d.name,delete d.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function l(d,b,w,C){if(w&&!C)return d;if(C&&!w||!d.trim())return b;if(!b.trim())return d;var y=Math.min(d.length,b.length),E;for(E=0;E<y&&d.charAt(E)===b.charAt(E);E++);var A=d.substr(0,E);return A.trim()}function g(d){var b="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?b="top":d.indexOf("bottom")!==-1&&(b="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),b+" "+w}function h(d,b){return b in d&&typeof d[b]=="object"&&Object.keys(d[b]).length===0}H.swapXYData=function(d){var b;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,C="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(b=0;b<y.length;b++)y[b]==="x"?y[b]="y":y[b]==="y"&&(y[b]="x");d.hoverinfo=y.join("+")}},H.coerceTraceIndices=function(d,b){if(m(b))return[b];if(!Array.isArray(b)||!b.length)return d.data.map(function(y,E){return E});if(Array.isArray(b)){for(var w=[],C=0;C<b.length;C++)L.isIndex(b[C],d.data.length)?w.push(b[C]):L.warn("trace index (",b[C],") is not a number or is out of bounds");return w}return b},H.manageArrayContainers=function(d,b,w){var C=d.obj,y=d.parts,E=y.length,A=y[E-1],o=m(A);if(o&&b===null){var M=y.slice(0,E-1).join("."),x=L.nestedProperty(C,M).get();x.splice(A,1)}else o&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(b)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var b=d.search(T);if(b>0)return d.substr(0,b)}H.hasParent=function(d,b){for(var w=c(b);w;){if(w in d)return!0;w=c(w)}return!1};var i=["x","y","z"];H.clearAxisTypes=function(d,b,w){for(var C=0;C<b.length;C++)for(var y=d._fullData[C],E=0;E<3;E++){var A=t(d,y,i[E]);if(A&&A.type!=="log"){var o=A._name,M=A._id.substr(1);if(M.substr(0,5)==="scene"){if(w[M]!==void 0)continue;o=M+"."+o}var x=o+".type";w[o]===void 0&&w[x]===void 0&&L.nestedProperty(d.layout,x).set(null)}}}},22448:function(G,H,e){var m=e(36424);H._doPlot=m._doPlot,H.newPlot=m.newPlot,H.restyle=m.restyle,H.relayout=m.relayout,H.redraw=m.redraw,H.update=m.update,H._guiRestyle=m._guiRestyle,H._guiRelayout=m._guiRelayout,H._guiUpdate=m._guiUpdate,H._storeDirectGUIEdit=m._storeDirectGUIEdit,H.react=m.react,H.extendTraces=m.extendTraces,H.prependTraces=m.prependTraces,H.addTraces=m.addTraces,H.deleteTraces=m.deleteTraces,H.moveTraces=m.moveTraces,H.purge=m.purge,H.addFrames=m.addFrames,H.deleteFrames=m.deleteFrames,H.animate=m.animate,H.setPlotConfig=m.setPlotConfig;var P=e(52200).getGraphDiv,s=e(4016).eraseActiveShape;H.deleteActiveShape=function(S){return s(P(S))},H.toImage=e(67024),H.validate=e(21480),H.downloadImage=e(39792);var L=e(94828);H.makeTemplate=L.makeTemplate,H.validateTemplate=L.validateTemplate},17680:function(G,H,e){var m=e(63620),P=e(16628),s=e(24248),L=e(14952).sorterAsc,S=e(24040);H.containerArrayMatch=e(69820);var v=H.isAddVal=function(t){return t==="add"||m(t)},p=H.isRemoveVal=function(t){return t===null||t==="remove"};H.applyContainerArrayChanges=function(t,a,n,f,u){var l=a.astr,g=S.getComponentMethod(l,"supplyLayoutDefaults"),h=S.getComponentMethod(l,"draw"),T=S.getComponentMethod(l,"drawOne"),c=f.replot||f.recalc||g===P||h===P,i=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&s.warn("Full array edits are incompatible with other edits",l);var b=n[""][""];if(p(b))a.set(null);else if(Array.isArray(b))a.set(b);else return s.warn("Unrecognized full array edit value",l,b),!0;return c?!1:(g(i,d),h(t),!0)}var w=Object.keys(n).map(Number).sort(L),C=a.get(),y=C||[],E=u(d,l).get(),A=[],o=-1,M=y.length,x,I,D,N,k,O,F,z;for(x=0;x<w.length;x++){if(D=w[x],N=n[D],k=Object.keys(N),O=N[""],F=v(O),D<0||D>y.length-(F?0:1)){s.warn("index out of range",l,D);continue}if(O!==void 0)k.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",l,D),p(O)?A.push(D):F?(O==="add"&&(O={}),y.splice(D,0,O),E&&E.splice(D,0,{})):s.warn("Unrecognized full object edit value",l,D,O),o===-1&&(o=D);else for(I=0;I<k.length;I++)z=l+"["+D+"].",u(y[D],k[I],z).set(N[k[I]])}for(x=A.length-1;x>=0;x--)y.splice(A[x],1),E&&E.splice(A[x],1);if(y.length?C||a.set(y):a.set(null),c)return!1;if(g(i,d),T!==P){var B;if(o===-1)B=w;else{for(M=Math.max(y.length,M),B=[],x=0;x<w.length&&(D=w[x],!(D>=o));x++)B.push(D);for(x=o;x<M;x++)B.push(x)}for(x=0;x<B.length;x++)T(t,B[x])}else h(t);return!0}},36424:function(G,H,e){var m=e(33428),P=e(38248),s=e(52264),L=e(3400),S=L.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),a=e(7316),n=e(54460),f=e(96312),u=e(94724),l=e(43616),g=e(76308),h=e(42464).initInteractions,T=e(9616),c=e(22676).clearOutline,i=e(20556).dfltConfig,d=e(17680),b=e(93404),w=e(39172),C=e(67824),y=e(33816).AX_NAME_PATTERN,E=0,A=5;function o(he,me,Ne,$e){var ot;if(he=L.getGraphDiv(he),v.init(he),L.isPlainObject(me)){var st=me;me=st.data,Ne=st.layout,$e=st.config,ot=st.frames}var Wt=v.triggerHandler(he,"plotly_beforeplot",[me,Ne,$e]);if(Wt===!1)return Promise.reject();!me&&!Ne&&!L.isPlotDiv(he)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",he);function Zt(){if(ot)return H.addFrames(he,ot)}N(he,$e),Ne||(Ne={}),m.select(he).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(he._promises)||(he._promises=[]);var At=(he.data||[]).length===0&&Array.isArray(me);Array.isArray(me)&&(b.cleanData(me),At?he.data=me:he.data.push.apply(he.data,me),he.empty=!1),(!he.layout||At)&&(he.layout=b.cleanLayout(Ne)),a.supplyDefaults(he);var Rt=he._fullLayout,Xt=Rt._has("cartesian");Rt._replotting=!0,(At||Rt._shouldCreateBgLayer)&&(Ce(he),Rt._shouldCreateBgLayer&&delete Rt._shouldCreateBgLayer),l.initGradients(he),l.initPatterns(he),At&&n.saveShowSpikeInitial(he);var ir=!he.calcdata||he.calcdata.length!==(he._fullData||[]).length;ir&&a.doCalcdata(he);for(var pt=0;pt<he.calcdata.length;pt++)he.calcdata[pt][0].trace=he._fullData[pt];he._context.responsive?he._responsiveChartHandler||(he._responsiveChartHandler=function(){L.isHidden(he)||a.resize(he)},window.addEventListener("resize",he._responsiveChartHandler)):L.clearResponsive(he);var Kt=L.extendFlat({},Rt._size),Qt=0;function yr(){for(var Bt=Rt._basePlotModules,xt=0;xt<Bt.length;xt++)Bt[xt].drawFramework&&Bt[xt].drawFramework(he);!Rt._glcanvas&&Rt._has("gl")&&(Rt._glcanvas=Rt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(rr){return rr.key}),Rt._glcanvas.enter().append("canvas").attr("class",function(rr){return"gl-canvas gl-canvas-"+rr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ut=he._context.plotGlPixelRatio;if(Rt._glcanvas){Rt._glcanvas.attr("width",Rt.width*Ut).attr("height",Rt.height*Ut).style("width",Rt.width+"px").style("height",Rt.height+"px");var qt=Rt._glcanvas.data()[0].regl;if(qt&&(Math.floor(Rt.width*Ut)!==qt._gl.drawingBufferWidth||Math.floor(Rt.height*Ut)!==qt._gl.drawingBufferHeight)){var or="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)L.error(or);else return L.log(or+" Clearing graph and plotting again."),a.cleanPlot([],{},he._fullData,Rt),a.supplyDefaults(he),Rt=he._fullLayout,a.doCalcdata(he),Qt++,yr()}}return Rt.modebar.orientation==="h"?Rt._modebardiv.style("height",null).style("width","100%"):Rt._modebardiv.style("width",null).style("height",Rt.height+"px"),a.previousPromises(he)}function ur(){if(a.clearAutoMarginIds(he),w.drawMarginPushers(he),n.allowAutoMargin(he),he._fullLayout.title.text&&he._fullLayout.title.automargin&&a.allowAutoMargin(he,"title.automargin"),Rt._has("pie"))for(var Bt=he._fullData,xt=0;xt<Bt.length;xt++){var Ut=Bt[xt];Ut.type==="pie"&&Ut.automargin&&a.allowAutoMargin(he,"pie."+Ut.uid+".automargin")}return a.doAutoMargin(he),a.previousPromises(he)}function mt(){if(a.didMarginChange(Kt,Rt._size))return L.syncOrAsync([ur,w.layoutStyles],he)}function lt(){if(!ir){bt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],he)}function bt(){he._transitioning||(w.doAutoRangeAndConstraints(he),At&&n.saveRangeInitial(he),r.getComponentMethod("rangeslider","calcAutorange")(he))}function Ct(){return n.draw(he,At?"":"redraw")}var Dt=[a.previousPromises,Zt,yr,ur,mt];Xt&&Dt.push(lt),Dt.push(w.layoutStyles),Xt&&Dt.push(Ct,function(xt){var Ut=xt._fullLayout._insideTickLabelsUpdaterange;if(Ut)return xt._fullLayout._insideTickLabelsUpdaterange=void 0,be(xt,Ut).then(function(){n.saveRangeInitial(xt,!0)})}),Dt.push(w.drawData,w.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Ht=L.syncOrAsync(Dt,he);return(!Ht||!Ht.then)&&(Ht=Promise.resolve()),Ht.then(function(){return M(he),he})}function M(he){var me=he._fullLayout;me._redrawFromAutoMarginCount?me._redrawFromAutoMarginCount--:he.emit("plotly_afterplot")}function x(he){return L.extendFlat(i,he)}function I(he,me){try{he._fullLayout._paper.style("background",me)}catch(Ne){L.error(Ne)}}function D(he,me){var Ne=g.combine(me,"white");I(he,Ne)}function N(he,me){if(!he._context){he._context=L.extendDeep({},i);var Ne=m.select("base");he._context._baseUrl=Ne.size()&&Ne.attr("href")?window.location.href.split("#")[0]:""}var $e=he._context,ot,st,Wt;if(me){for(st=Object.keys(me),ot=0;ot<st.length;ot++)Wt=st[ot],!(Wt==="editable"||Wt==="edits")&&Wt in $e&&(Wt==="setBackground"&&me[Wt]==="opaque"?$e[Wt]=D:$e[Wt]=me[Wt]);me.plot3dPixelRatio&&!$e.plotGlPixelRatio&&($e.plotGlPixelRatio=$e.plot3dPixelRatio);var Zt=me.editable;if(Zt!==void 0)for($e.editable=Zt,st=Object.keys($e.edits),ot=0;ot<st.length;ot++)$e.edits[st[ot]]=Zt;if(me.edits)for(st=Object.keys(me.edits),ot=0;ot<st.length;ot++)Wt=st[ot],Wt in $e.edits&&($e.edits[Wt]=me.edits[Wt]);$e._exportedPlot=me._exportedPlot}$e.staticPlot&&($e.editable=!1,$e.edits={},$e.autosizable=!1,$e.scrollZoom=!1,$e.doubleClick=!1,$e.showTips=!1,$e.showLink=!1,$e.displayModeBar=!1),$e.displayModeBar==="hover"&&!s&&($e.displayModeBar=!0),($e.setBackground==="transparent"||typeof $e.setBackground!="function")&&($e.setBackground=I),$e._hasZeroHeight=$e._hasZeroHeight||he.clientHeight===0,$e._hasZeroWidth=$e._hasZeroWidth||he.clientWidth===0;var At=$e.scrollZoom,Rt=$e._scrollZoom={};if(At===!0)Rt.cartesian=1,Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1;else if(typeof At=="string"){var Xt=At.split("+");for(ot=0;ot<Xt.length;ot++)Rt[Xt[ot]]=1}else At!==!1&&(Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1)}function k(he){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he);return b.cleanData(he.data),b.cleanLayout(he.layout),he.calcdata=void 0,H._doPlot(he).then(function(){return he.emit("plotly_redraw"),he})}function O(he,me,Ne,$e){return he=L.getGraphDiv(he),a.cleanPlot([],{},he._fullData||[],he._fullLayout||{}),a.purge(he),H._doPlot(he,me,Ne,$e)}function F(he,me){var Ne=me+1,$e=[],ot,st;for(ot=0;ot<he.length;ot++)st=he[ot],st<0?$e.push(Ne+st):$e.push(st);return $e}function z(he,me,Ne){var $e,ot;for($e=0;$e<me.length;$e++){if(ot=me[$e],ot!==parseInt(ot,10))throw new Error("all values in "+Ne+" must be integers");if(ot>=he.data.length||ot<-he.data.length)throw new Error(Ne+" must be valid indices for gd.data.");if(me.indexOf(ot,$e+1)>-1||ot>=0&&me.indexOf(-he.data.length+ot)>-1||ot<0&&me.indexOf(he.data.length+ot)>-1)throw new Error("each index in "+Ne+" must be unique.")}}function B(he,me,Ne){if(!Array.isArray(he.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(me)||(me=[me]),z(he,me,"currentIndices"),typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&z(he,Ne,"newIndices"),typeof Ne<"u"&&me.length!==Ne.length)throw new Error("current and new indices must be of equal length.")}function W(he,me,Ne){var $e,ot;if(!Array.isArray(he.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("traces must be defined.");for(Array.isArray(me)||(me=[me]),$e=0;$e<me.length;$e++)if(ot=me[$e],typeof ot!="object"||Array.isArray(ot)||ot===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&Ne.length!==me.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(he,me,Ne,$e){var ot=L.isPlainObject($e);if(!Array.isArray(he.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(me))throw new Error("update must be a key:value object");if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers");z(he,Ne,"indices");for(var st in me){if(!Array.isArray(me[st])||me[st].length!==Ne.length)throw new Error("attribute "+st+" must be an array of length equal to indices array length");if(ot&&(!(st in $e)||!Array.isArray($e[st])||$e[st].length!==me[st].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(he,me,Ne,$e){var ot=L.isPlainObject($e),st=[],Wt,Zt,At,Rt,Xt;Array.isArray(Ne)||(Ne=[Ne]),Ne=F(Ne,he.data.length-1);for(var ir in me)for(var pt=0;pt<Ne.length;pt++){if(Wt=he.data[Ne[pt]],At=S(Wt,ir),Zt=At.get(),Rt=me[ir][pt],!L.isArrayOrTypedArray(Rt))throw new Error("attribute: "+ir+" index: "+pt+" must be an array");if(!L.isArrayOrTypedArray(Zt))throw new Error("cannot extend missing or non-array attribute: "+ir);if(Zt.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+ir);Xt=ot?$e[ir][pt]:$e,P(Xt)||(Xt=-1),st.push({prop:At,target:Zt,insert:Rt,maxp:Math.floor(Xt)})}return st}function ne(he,me,Ne,$e,ot){J(he,me,Ne,$e);for(var st=re(he,me,Ne,$e),Wt={},Zt={},At=0;At<st.length;At++){var Rt=st[At].prop,Xt=st[At].maxp,ir=ot(st[At].target,st[At].insert,Xt);Rt.set(ir[0]),Array.isArray(Wt[Rt.astr])||(Wt[Rt.astr]=[]),Wt[Rt.astr].push(ir[1]),Array.isArray(Zt[Rt.astr])||(Zt[Rt.astr]=[]),Zt[Rt.astr].push(st[At].target.length)}return{update:Wt,maxPoints:Zt}}function le(he,me){var Ne=new he.constructor(he.length+me.length);return Ne.set(he),Ne.set(me,he.length),Ne}function $(he,me,Ne,$e){he=L.getGraphDiv(he);function ot(At,Rt,Xt){var ir,pt;if(L.isTypedArray(At))if(Xt<0){var Kt=new At.constructor(0),Qt=le(At,Rt);Xt<0?(ir=Qt,pt=Kt):(ir=Kt,pt=Qt)}else if(ir=new At.constructor(Xt),pt=new At.constructor(At.length+Rt.length-Xt),Xt===Rt.length)ir.set(Rt),pt.set(At);else if(Xt<Rt.length){var yr=Rt.length-Xt;ir.set(Rt.subarray(yr)),pt.set(At),pt.set(Rt.subarray(0,yr),At.length)}else{var ur=Xt-Rt.length,mt=At.length-ur;ir.set(At.subarray(mt)),ir.set(Rt,ur),pt.set(At.subarray(0,mt))}else ir=At.concat(Rt),pt=Xt>=0&&Xt<ir.length?ir.splice(0,ir.length-Xt):[];return[ir,pt]}var st=ne(he,me,Ne,$e,ot),Wt=H.redraw(he),Zt=[he,st.update,Ne,st.maxPoints];return p.add(he,H.prependTraces,Zt,$,arguments),Wt}function Z(he,me,Ne,$e){he=L.getGraphDiv(he);function ot(At,Rt,Xt){var ir,pt;if(L.isTypedArray(At))if(Xt<=0){var Kt=new At.constructor(0),Qt=le(Rt,At);Xt<0?(ir=Qt,pt=Kt):(ir=Kt,pt=Qt)}else if(ir=new At.constructor(Xt),pt=new At.constructor(At.length+Rt.length-Xt),Xt===Rt.length)ir.set(Rt),pt.set(At);else if(Xt<Rt.length){var yr=Rt.length-Xt;ir.set(Rt.subarray(0,yr)),pt.set(Rt.subarray(yr)),pt.set(At,yr)}else{var ur=Xt-Rt.length;ir.set(Rt),ir.set(At.subarray(0,ur),Rt.length),pt.set(At.subarray(ur))}else ir=Rt.concat(At),pt=Xt>=0&&Xt<ir.length?ir.splice(Xt,ir.length):[];return[ir,pt]}var st=ne(he,me,Ne,$e,ot),Wt=H.redraw(he),Zt=[he,st.update,Ne,st.maxPoints];return p.add(he,H.extendTraces,Zt,Z,arguments),Wt}function ie(he,me,Ne){he=L.getGraphDiv(he);var $e=[],ot=H.deleteTraces,st=ie,Wt=[he,$e],Zt=[he,me],At,Rt;for(W(he,me,Ne),Array.isArray(me)||(me=[me]),me=me.map(function(Xt){return L.extendFlat({},Xt)}),b.cleanData(me),At=0;At<me.length;At++)he.data.push(me[At]);for(At=0;At<me.length;At++)$e.push(-me.length+At);if(typeof Ne>"u")return Rt=H.redraw(he),p.add(he,ot,Wt,st,Zt),Rt;Array.isArray(Ne)||(Ne=[Ne]);try{B(he,$e,Ne)}catch(Xt){throw he.data.splice(he.data.length-me.length,me.length),Xt}return p.startSequence(he),p.add(he,ot,Wt,st,Zt),Rt=H.moveTraces(he,$e,Ne),p.stopSequence(he),Rt}function X(he,me){he=L.getGraphDiv(he);var Ne=[],$e=H.addTraces,ot=X,st=[he,Ne,me],Wt=[he,me],Zt,At;if(typeof me>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(me)||(me=[me]),z(he,me,"indices"),me=F(me,he.data.length-1),me.sort(L.sorterDes),Zt=0;Zt<me.length;Zt+=1)At=he.data.splice(me[Zt],1)[0],Ne.push(At);var Rt=H.redraw(he);return p.add(he,$e,st,ot,Wt),Rt}function Q(he,me,Ne){he=L.getGraphDiv(he);var $e=[],ot=[],st=Q,Wt=Q,Zt=[he,Ne,me],At=[he,me,Ne],Rt;if(B(he,me,Ne),me=Array.isArray(me)?me:[me],typeof Ne>"u")for(Ne=[],Rt=0;Rt<me.length;Rt++)Ne.push(-me.length+Rt);for(Ne=Array.isArray(Ne)?Ne:[Ne],me=F(me,he.data.length-1),Ne=F(Ne,he.data.length-1),Rt=0;Rt<he.data.length;Rt++)me.indexOf(Rt)===-1&&$e.push(he.data[Rt]);for(Rt=0;Rt<me.length;Rt++)ot.push({newIndex:Ne[Rt],trace:he.data[me[Rt]]});for(ot.sort(function(ir,pt){return ir.newIndex-pt.newIndex}),Rt=0;Rt<ot.length;Rt+=1)$e.splice(ot[Rt].newIndex,0,ot[Rt].trace);he.data=$e;var Xt=H.redraw(he);return p.add(he,st,Zt,Wt,At),Xt}function oe(he,me,Ne,$e){he=L.getGraphDiv(he),b.clearPromiseQueue(he);var ot={};if(typeof me=="string")ot[me]=Ne;else if(L.isPlainObject(me))ot=L.extendFlat({},me),$e===void 0&&($e=Ne);else return L.warn("Restyle fail.",me,Ne,$e),Promise.reject();Object.keys(ot).length&&(he.changed=!0);var st=b.coerceTraceIndices(he,$e),Wt=fe(he,ot,st),Zt=Wt.flags;Zt.calc&&(he.calcdata=void 0),Zt.clearAxisTypes&&b.clearAxisTypes(he,st,{});var At=[];Zt.fullReplot?At.push(H._doPlot):(At.push(a.previousPromises),a.supplyDefaults(he),Zt.markerSize&&(a.doCalcdata(he),_e(At)),Zt.style&&At.push(w.doTraceStyle),Zt.colorbars&&At.push(w.doColorBars),At.push(M)),At.push(a.rehover,a.redrag,a.reselect),p.add(he,oe,[he,Wt.undoit,Wt.traces],oe,[he,Wt.redoit,Wt.traces]);var Rt=L.syncOrAsync(At,he);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return he.emit("plotly_restyle",Wt.eventData),he})}function j(he){return he===void 0?null:he}function Y(he,me){return me?function(Ne,$e,ot){var st=S(Ne,$e),Wt=st.set;return st.set=function(Zt){var At=(ot||"")+$e;se(At,st.get(),Zt,he),Wt(Zt)},st}:S}function se(he,me,Ne,$e){if(Array.isArray(me)||Array.isArray(Ne))for(var ot=Array.isArray(me)?me:[],st=Array.isArray(Ne)?Ne:[],Wt=Math.max(ot.length,st.length),Zt=0;Zt<Wt;Zt++)se(he+"["+Zt+"]",ot[Zt],st[Zt],$e);else if(L.isPlainObject(me)||L.isPlainObject(Ne)){var At=L.isPlainObject(me)?me:{},Rt=L.isPlainObject(Ne)?Ne:{},Xt=L.extendFlat({},At,Rt);for(var ir in Xt)se(he+"."+ir,At[ir],Rt[ir],$e)}else $e[he]===void 0&&($e[he]=j(me))}function te(he,me,Ne){for(var $e in Ne){var ot=S(he,$e);se($e,ot.get(),Ne[$e],me)}}function fe(he,me,Ne){var $e=he._fullLayout,ot=he._fullData,st=he.data,Wt=$e._guiEditing,Zt=Y($e._preGUI,Wt),At=L.extendDeepAll({},me),Rt;ge(me);var Xt=C.traceFlags(),ir={},pt={},Kt;function Qt(){return Ne.map(function(){})}function yr(Tn){var Tr=n.id2name(Tn);Kt.indexOf(Tr)===-1&&Kt.push(Tr)}function ur(Tn){return"LAYOUT"+Tn+".autorange"}function mt(Tn){return"LAYOUT"+Tn+".range"}function lt(Tn){for(var Tr=Tn;Tr<ot.length;Tr++)if(ot[Tr]._input===st[Tn])return ot[Tr]}function bt(Tn,Tr,zr){if(Array.isArray(Tn)){Tn.forEach(function(fn){bt(fn,Tr,zr)});return}if(!(Tn in me||b.hasParent(me,Tn))){var jr;if(Tn.substr(0,6)==="LAYOUT")jr=Zt(he.layout,Tn.replace("LAYOUT",""));else{var Or=Ne[zr],ln=$e._tracePreGUI[lt(Or)._fullInput.uid];jr=Y(ln,Wt)(st[Or],Tn)}Tn in pt||(pt[Tn]=Qt()),pt[Tn][zr]===void 0&&(pt[Tn][zr]=j(jr.get())),Tr!==void 0&&jr.set(Tr)}}function Ct(Tn){return function(Tr){return ot[Tr][Tn]}}function Dt(Tn){return function(Tr,zr){return Tr===!1?ot[Ne[zr]][Tn]:null}}for(var Ht in me){if(b.hasParent(me,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Bt=me[Ht],xt,Ut,qt,or,rr,He;if((Ht==="autobinx"||Ht==="autobiny")&&(Ht=Ht.charAt(Ht.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Ht)):Bt===!1?Bt=Ne.map(Ct(Ht)):Bt=null),ir[Ht]=Bt,Ht.substr(0,6)==="LAYOUT"){qt=Zt(he.layout,Ht.replace("LAYOUT","")),pt[Ht]=[j(qt.get())],qt.set(Array.isArray(Bt)?Bt[0]:Bt),Xt.calc=!0;continue}for(pt[Ht]=Qt(),Rt=0;Rt<Ne.length;Rt++){xt=st[Ne[Rt]],Ut=lt(Ne[Rt]);var Ue=$e._tracePreGUI[Ut._fullInput.uid];if(qt=Y(Ue,Wt)(xt,Ht),or=qt.get(),rr=Array.isArray(Bt)?Bt[Rt%Bt.length]:Bt,rr!==void 0){var Ot=qt.parts[qt.parts.length-1],It=Ht.substr(0,Ht.length-Ot.length-1),Jt=It?It+".":"",cr=It?S(Ut,It).get():Ut;if(He=t.getTraceValObject(Ut,qt.parts),He&&He.impliedEdits&&rr!==null)for(var vr in He.impliedEdits)bt(L.relativeAttr(Ht,vr),He.impliedEdits[vr],Rt);else if((Ot==="thicknessmode"||Ot==="lenmode")&&or!==rr&&(rr==="fraction"||rr==="pixels")&&cr){var tr=$e._size,Nt=cr.orient,sr=Nt==="top"||Nt==="bottom";if(Ot==="thicknessmode"){var dr=sr?tr.h:tr.w;bt(Jt+"thickness",cr.thickness*(rr==="fraction"?1/dr:dr),Rt)}else{var xr=sr?tr.w:tr.h;bt(Jt+"len",cr.len*(rr==="fraction"?1/xr:xr),Rt)}}else if(Ht==="type"&&(rr==="pie"!=(or==="pie")||rr==="funnelarea"!=(or==="funnelarea"))){var pr="x",Hr="y";(rr==="bar"||or==="bar")&&xt.orientation==="h"&&(pr="y",Hr="x"),L.swapAttrs(xt,["?","?src"],"labels",pr),L.swapAttrs(xt,["d?","?0"],"label",pr),L.swapAttrs(xt,["?","?src"],"values",Hr),or==="pie"||or==="funnelarea"?(S(xt,"marker.color").set(S(xt,"marker.colors").get()),$e._pielayer.selectAll("g.trace").remove()):r.traceIs(xt,"cartesian")&&S(xt,"marker.colors").set(S(xt,"marker.color").get())}pt[Ht][Rt]=j(or);var _r=["swapxy","swapxyaxes","orientation","orientationaxes"];if(_r.indexOf(Ht)!==-1){if(Ht==="orientation"){qt.set(rr);var Dr=xt.x&&!xt.y?"h":"v";if((qt.get()||Dr)===Ut.orientation)continue}else Ht==="orientationaxes"&&(xt.orientation={v:"h",h:"v"}[Ut.orientation]);b.swapXYData(xt),Xt.calc=Xt.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(qt.parts[0])!==-1?(b.manageArrayContainers(qt,rr,pt),Xt.calc=!0):(He?He.arrayOk&&!r.traceIs(Ut,"regl")&&(L.isArrayOrTypedArray(rr)||L.isArrayOrTypedArray(or))?Xt.calc=!0:C.update(Xt,He):Xt.calc=!0,qt.set(rr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ht)!==-1&&n.swap(he,Ne),Ht==="orientationaxes"){var an=S(he.layout,"hovermode"),tn=an.get();tn==="x"?an.set("y"):tn==="y"?an.set("x"):tn==="x unified"?an.set("y unified"):tn==="y unified"&&an.set("x unified")}if(["orientation","type"].indexOf(Ht)!==-1){for(Kt=[],Rt=0;Rt<Ne.length;Rt++){var Sn=st[Ne[Rt]];r.traceIs(Sn,"cartesian")&&(yr(Sn.xaxis||"x"),yr(Sn.yaxis||"y"))}bt(Kt.map(ur),!0,0),bt(Kt.map(mt),[0,1],0)}}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),{flags:Xt,undoit:pt,redoit:ir,traces:Ne,eventData:L.extendDeepNoArrays([],[At,Ne])}}function ge(he){var me=L.counterRegex("axis",".title",!1,!1),Ne=/colorbar\.title$/,$e=Object.keys(he),ot,st,Wt;for(ot=0;ot<$e.length;ot++)st=$e[ot],Wt=he[st],(st==="title"||me.test(st)||Ne.test(st))&&(typeof Wt=="string"||typeof Wt=="number")?Zt(st,st.replace("title","title.text")):st.indexOf("titlefont")>-1&&st.indexOf("grouptitlefont")===-1?Zt(st,st.replace("titlefont","title.font")):st.indexOf("titleposition")>-1?Zt(st,st.replace("titleposition","title.position")):st.indexOf("titleside")>-1?Zt(st,st.replace("titleside","title.side")):st.indexOf("titleoffset")>-1&&Zt(st,st.replace("titleoffset","title.offset"));function Zt(At,Rt){he[Rt]=he[At],delete he[At]}}function be(he,me,Ne){he=L.getGraphDiv(he),b.clearPromiseQueue(he);var $e={};if(typeof me=="string")$e[me]=Ne;else if(L.isPlainObject(me))$e=L.extendFlat({},me);else return L.warn("Relayout fail.",me,Ne),Promise.reject();Object.keys($e).length&&(he.changed=!0);var ot=Re(he,$e),st=ot.flags;st.calc&&(he.calcdata=void 0);var Wt=[a.previousPromises];st.layoutReplot?Wt.push(w.layoutReplot):Object.keys($e).length&&(xe(he,st,ot)||a.supplyDefaults(he),st.legend&&Wt.push(w.doLegend),st.layoutstyle&&Wt.push(w.layoutStyles),st.axrange&&_e(Wt,ot.rangesAltered),st.ticks&&Wt.push(w.doTicksRelayout),st.modebar&&Wt.push(w.doModeBar),st.camera&&Wt.push(w.doCamera),st.colorbars&&Wt.push(w.doColorBars),Wt.push(M)),Wt.push(a.rehover,a.redrag,a.reselect),p.add(he,be,[he,ot.undoit],be,[he,ot.redoit]);var Zt=L.syncOrAsync(Wt,he);return(!Zt||!Zt.then)&&(Zt=Promise.resolve(he)),Zt.then(function(){return he.emit("plotly_relayout",ot.eventData),he})}function xe(he,me,Ne){var $e=he._fullLayout;if(!me.axrange)return!1;for(var ot in me)if(ot!=="axrange"&&me[ot])return!1;var st,Wt,Zt=function(Kt,Qt){return L.coerce(st,Wt,u,Kt,Qt)},At={};for(var Rt in Ne.rangesAltered){var Xt=n.id2name(Rt);if(st=he.layout[Xt],Wt=$e[Xt],f(st,Wt,Zt,At),Wt._matchGroup){for(var ir in Wt._matchGroup)if(ir!==Rt){var pt=$e[n.id2name(ir)];pt.autorange=Wt.autorange,pt.range=Wt.range.slice(),pt._input.range=Wt.range.slice()}}}return!0}function _e(he,me){var Ne=me?function($e){var ot=[],st=!0;for(var Wt in me){var Zt=n.getFromId($e,Wt);if(ot.push(Wt),(Zt.ticklabelposition||"").indexOf("inside")!==-1&&Zt._anchorAxis&&ot.push(Zt._anchorAxis._id),Zt._matchGroup)for(var At in Zt._matchGroup)me[At]||ot.push(At)}return n.draw($e,ot,{skipTitle:st})}:function($e){return n.draw($e,"redraw")};he.push(c,w.doAutoRangeAndConstraints,Ne,w.drawData,w.finalDraw)}var De=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Fe=/^[xyz]axis[0-9]*\.autorange$/,Te=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Re(he,me){var Ne=he.layout,$e=he._fullLayout,ot=$e._guiEditing,st=Y($e._preGUI,ot),Wt=Object.keys(me),Zt=n.list(he),At=L.extendDeepAll({},me),Rt={},Xt,ir,pt;for(ge(me),Wt=Object.keys(me),ir=0;ir<Wt.length;ir++)if(Wt[ir].indexOf("allaxes")===0){for(pt=0;pt<Zt.length;pt++){var Kt=Zt[pt]._id.substr(1),Qt=Kt.indexOf("scene")!==-1?Kt+".":"",yr=Wt[ir].replace("allaxes",Qt+Zt[pt]._name);me[yr]||(me[yr]=me[Wt[ir]])}delete me[Wt[ir]]}var ur=C.layoutFlags(),mt={},lt={};function bt(ln,fn){if(Array.isArray(ln)){ln.forEach(function(Pn){bt(Pn,fn)});return}if(!(ln in me||b.hasParent(me,ln))){var Mn=st(Ne,ln);ln in lt||(lt[ln]=j(Mn.get())),fn!==void 0&&Mn.set(fn)}}var Ct={},Dt;function Ht(ln){var fn=n.name2id(ln.split(".")[0]);return Ct[fn]=1,fn}for(var Bt in me){if(b.hasParent(me,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var xt=st(Ne,Bt),Ut=me[Bt],qt=xt.parts.length,or=qt-1;or>0&&typeof xt.parts[or]!="string";)or--;var rr=xt.parts[or],He=xt.parts[or-1]+"."+rr,Ue=xt.parts.slice(0,or).join("."),Ot=S(he.layout,Ue).get(),It=S($e,Ue).get(),Jt=xt.get();if(Ut!==void 0){mt[Bt]=Ut,lt[Bt]=rr==="reverse"?Ut:j(Jt);var cr=t.getLayoutValObject($e,xt.parts);if(cr&&cr.impliedEdits&&Ut!==null)for(var vr in cr.impliedEdits)bt(L.relativeAttr(Bt,vr),cr.impliedEdits[vr]);if(["width","height"].indexOf(Bt)!==-1)if(Ut){bt("autosize",null);var tr=Bt==="height"?"width":"height";bt(tr,$e[tr])}else $e[Bt]=he._initialAutoSize[Bt];else if(Bt==="autosize")bt("width",Ut?null:$e.width),bt("height",Ut?null:$e.height);else if(He.match(De))Ht(He),S($e,Ue+"._inputRange").set(null);else if(He.match(Fe)){Ht(He),S($e,Ue+"._inputRange").set(null);var Nt=S($e,Ue).get();Nt._inputDomain&&(Nt._input.domain=Nt._inputDomain.slice())}else He.match(Te)&&S($e,Ue+"._inputDomain").set(null);if(rr==="type"){Dt=Ot;var sr=It.type==="linear"&&Ut==="log",dr=It.type==="log"&&Ut==="linear";if(sr||dr){if(!Dt||!Dt.range)bt(Ue+".autorange",!0);else if(It.autorange)sr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var xr=Dt.range[0],pr=Dt.range[1];sr?(xr<=0&&pr<=0&&bt(Ue+".autorange",!0),xr<=0?xr=pr/1e6:pr<=0&&(pr=xr/1e6),bt(Ue+".range[0]",Math.log(xr)/Math.LN10),bt(Ue+".range[1]",Math.log(pr)/Math.LN10)):(bt(Ue+".range[0]",Math.pow(10,xr)),bt(Ue+".range[1]",Math.pow(10,pr)))}Array.isArray($e._subplots.polar)&&$e._subplots.polar.length&&$e[xt.parts[0]]&&xt.parts[1]==="radialaxis"&&delete $e[xt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(he,It,Ut,bt),r.getComponentMethod("images","convertCoords")(he,It,Ut,bt)}else bt(Ue+".autorange",!0),bt(Ue+".range",null);S($e,Ue+"._inputRange").set(null)}else if(rr.match(y)){var Hr=S($e,Bt).get(),_r=(Ut||{}).type;(!_r||_r==="-")&&(_r="linear"),r.getComponentMethod("annotations","convertCoords")(he,Hr,_r,bt),r.getComponentMethod("images","convertCoords")(he,Hr,_r,bt)}var Dr=d.containerArrayMatch(Bt);if(Dr){Xt=Dr.array,ir=Dr.index;var an=Dr.property,tn=cr||{editType:"calc"};ir!==""&&an===""&&(d.isAddVal(Ut)?lt[Bt]=null:d.isRemoveVal(Ut)?lt[Bt]=(S(Ne,Xt).get()||[])[ir]:L.warn("unrecognized full object value",me)),C.update(ur,tn),Rt[Xt]||(Rt[Xt]={});var Sn=Rt[Xt][ir];Sn||(Sn=Rt[Xt][ir]={}),Sn[an]=Ut,delete me[Bt]}else rr==="reverse"?(Ot.range?Ot.range.reverse():(bt(Ue+".autorange",!0),Ot.range=[1,0]),It.autorange?ur.calc=!0:ur.plot=!0):(Bt==="dragmode"&&(Ut===!1&&Jt!==!1||Ut!==!1&&Jt===!1)||$e._has("scatter-like")&&$e._has("regl")&&Bt==="dragmode"&&(Ut==="lasso"||Ut==="select")&&!(Jt==="lasso"||Jt==="select")||$e._has("gl2d")?ur.plot=!0:cr?C.update(ur,cr):ur.calc=!0,xt.set(Ut))}}for(Xt in Rt){var Tn=d.applyContainerArrayChanges(he,st(Ne,Xt),Rt[Xt],ur,st);Tn||(ur.plot=!0)}for(var Tr in Ct){Dt=n.getFromId(he,Tr);var zr=Dt&&Dt._constraintGroup;if(zr){ur.calc=!0;for(var jr in zr)Ct[jr]||(n.getFromId(he,jr)._constraintShrinkable=!0)}}(Se(he)||me.height||me.width)&&(ur.plot=!0);var Or=$e.shapes;for(ir=0;ir<Or.length;ir++)if(Or[ir].showlegend){ur.calc=!0;break}return(ur.plot||ur.calc)&&(ur.layoutReplot=!0),{flags:ur,rangesAltered:Ct,undoit:lt,redoit:mt,eventData:At}}function Se(he){var me=he._fullLayout,Ne=me.width,$e=me.height;return he.layout.autosize&&a.plotAutoSize(he,he.layout,me),me.width!==Ne||me.height!==$e}function ke(he,me,Ne,$e){he=L.getGraphDiv(he),b.clearPromiseQueue(he),L.isPlainObject(me)||(me={}),L.isPlainObject(Ne)||(Ne={}),Object.keys(me).length&&(he.changed=!0),Object.keys(Ne).length&&(he.changed=!0);var ot=b.coerceTraceIndices(he,$e),st=fe(he,L.extendFlat({},me),ot),Wt=st.flags,Zt=Re(he,L.extendFlat({},Ne)),At=Zt.flags;(Wt.calc||At.calc)&&(he.calcdata=void 0),Wt.clearAxisTypes&&b.clearAxisTypes(he,ot,Ne);var Rt=[];At.layoutReplot?Rt.push(w.layoutReplot):Wt.fullReplot?Rt.push(H._doPlot):(Rt.push(a.previousPromises),xe(he,At,Zt)||a.supplyDefaults(he),Wt.style&&Rt.push(w.doTraceStyle),(Wt.colorbars||At.colorbars)&&Rt.push(w.doColorBars),At.legend&&Rt.push(w.doLegend),At.layoutstyle&&Rt.push(w.layoutStyles),At.axrange&&_e(Rt,Zt.rangesAltered),At.ticks&&Rt.push(w.doTicksRelayout),At.modebar&&Rt.push(w.doModeBar),At.camera&&Rt.push(w.doCamera),Rt.push(M)),Rt.push(a.rehover,a.redrag,a.reselect),p.add(he,ke,[he,st.undoit,Zt.undoit,st.traces],ke,[he,st.redoit,Zt.redoit,st.traces]);var Xt=L.syncOrAsync(Rt,he);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(he)),Xt.then(function(){return he.emit("plotly_update",{data:st.eventData,layout:Zt.eventData}),he})}function Me(he){return function(Ne){Ne._fullLayout._guiEditing=!0;var $e=he.apply(null,arguments);return Ne._fullLayout._guiEditing=!1,$e}}var Ve=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],tt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function it(he,me){for(var Ne=0;Ne<me.length;Ne++){var $e=me[Ne],ot=he.match($e.pattern);if(ot){var st=ot[1]||"";return{head:st,tail:he.substr(st.length+1),attr:$e.attr}}}}function Je(he,me){var Ne=S(me,he).get();if(Ne!==void 0)return Ne;var $e=he.split(".");for($e.pop();$e.length>1;)if($e.pop(),Ne=S(me,$e.join(".")+".uirevision").get(),Ne!==void 0)return Ne;return me.uirevision}function Qe(he,me){for(var Ne=0;Ne<me.length;Ne++)if(me[Ne]._fullInput.uid===he)return Ne;return-1}function ct(he,me,Ne){for(var $e=0;$e<me.length;$e++)if(me[$e].uid===he)return $e;return!me[Ne]||me[Ne].uid?-1:Ne}function ht(he,me){var Ne=L.isPlainObject(he),$e=Array.isArray(he);return Ne||$e?(Ne&&L.isPlainObject(me)||$e&&Array.isArray(me))&&JSON.stringify(he)===JSON.stringify(me):he===me}function dt(he,me,Ne,$e){var ot=$e._preGUI,st,Wt,Zt,At,Rt,Xt,ir,pt,Kt,Qt,yr=[],ur={},mt={};for(st in ot){if(Rt=it(st,Ve),Rt){if(Kt=Rt.head,Qt=Rt.tail,Wt=Rt.attr||Kt+".uirevision",Zt=S($e,Wt).get(),At=Zt&&Je(Wt,me),At&&At===Zt){if(Xt=ot[st],Xt===null&&(Xt=void 0),ir=S(me,st),pt=ir.get(),ht(pt,Xt)){pt===void 0&&Qt==="autorange"&&yr.push(Kt),ir.set(j(S($e,st).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var lt=ot[Kt+".range[0]"],bt=ot[Kt+".range[1]"],Ct=ot[Kt+".autorange"];if(Ct||Ct===null&&lt===null&&bt===null){if(!(Kt in ur)){var Dt=S(me,Kt).get();ur[Kt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(ur[Kt]){ir.set(j(S($e,st).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+st);delete ot[st],Rt&&Rt.tail.substr(0,6)==="range["&&(mt[Rt.head]=1)}for(var Ht=0;Ht<yr.length;Ht++){var Bt=yr[Ht];if(mt[Bt]){var xt=S(me,Bt).get();xt&&delete xt.autorange}}var Ut=$e._tracePreGUI;for(var qt in Ut){var or=Ut[qt],rr=null,He;for(st in or){if(!rr){var Ue=Qe(qt,Ne);if(Ue<0){delete Ut[qt];break}var Ot=Ne[Ue];He=Ot._fullInput;var It=ct(qt,he,He.index);if(It<0){delete Ut[qt];break}rr=he[It]}if(Rt=it(st,tt),Rt){if(Rt.attr?(Zt=S($e,Rt.attr).get(),At=Zt&&Je(Rt.attr,me)):(Zt=He.uirevision,At=rr.uirevision,At===void 0&&(At=me.uirevision)),At&&At===Zt&&(Xt=or[st],Xt===null&&(Xt=void 0),ir=S(rr,st),pt=ir.get(),ht(pt,Xt))){ir.set(j(S(He,st).get()));continue}}else L.warn("unrecognized GUI edit: "+st+" in trace uid "+qt);delete or[st]}}}function Tt(he,me,Ne,$e){var ot,st;function Wt(){return H.addFrames(he,ot)}he=L.getGraphDiv(he),b.clearPromiseQueue(he);var Zt=he._fullData,At=he._fullLayout;if(!L.isPlotDiv(he)||!Zt||!At)st=H.newPlot(he,me,Ne,$e);else{if(L.isPlainObject(me)){var Rt=me;me=Rt.data,Ne=Rt.layout,$e=Rt.config,ot=Rt.frames}var Xt=!1;if($e){var ir=L.extendDeep({},he._context);he._context=void 0,N(he,$e),Xt=Ge(ir,he._context)}he.data=me||[],b.cleanData(he.data),he.layout=Ne||{},b.cleanLayout(he.layout),dt(he.data,he.layout,Zt,At),a.supplyDefaults(he,{skipUpdateCalc:!0});var pt=he._fullData,Kt=he._fullLayout,Qt=Kt.datarevision===void 0,yr=Kt.transition,ur=rt(he,At,Kt,Qt,yr),mt=ur.newDataRevision,lt=Et(he,Zt,pt,Qt,yr,mt);if(Se(he)&&(ur.layoutReplot=!0),lt.calc||ur.calc){he.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Kt),Ct=0;Ct<bt.length;Ct++){var Dt=bt[Ct],Ht=Dt.substring(0,5);if(Ht==="xaxis"||Ht==="yaxis"){var Bt=Kt[Dt]._emptyCategories;Bt&&Bt()}}}else a.supplyDefaultsUpdateCalc(he.calcdata,pt);var xt=[];if(ot&&(he._transitionData={},a.createTransitionData(he),xt.push(Wt)),Kt.transition&&!Xt&&(lt.anim||ur.anim))ur.ticks&&xt.push(w.doTicksRelayout),a.doCalcdata(he),w.doAutoRangeAndConstraints(he),xt.push(function(){return a.transitionFromReact(he,lt,ur,At)});else if(lt.fullReplot||ur.layoutReplot||Xt)he._fullLayout._skipDefaults=!0,xt.push(H._doPlot);else{for(var Ut in ur.arrays){var qt=ur.arrays[Ut];if(qt.length){var or=r.getComponentMethod(Ut,"drawOne");if(or!==L.noop)for(var rr=0;rr<qt.length;rr++)or(he,qt[rr]);else{var He=r.getComponentMethod(Ut,"draw");if(He===L.noop)throw new Error("cannot draw components: "+Ut);He(he)}}}xt.push(a.previousPromises),lt.style&&xt.push(w.doTraceStyle),(lt.colorbars||ur.colorbars)&&xt.push(w.doColorBars),ur.legend&&xt.push(w.doLegend),ur.layoutstyle&&xt.push(w.layoutStyles),ur.axrange&&_e(xt),ur.ticks&&xt.push(w.doTicksRelayout),ur.modebar&&xt.push(w.doModeBar),ur.camera&&xt.push(w.doCamera),xt.push(M)}xt.push(a.rehover,a.redrag,a.reselect),st=L.syncOrAsync(xt,he),(!st||!st.then)&&(st=Promise.resolve(he))}return st.then(function(){return he.emit("plotly_react",{data:me,layout:Ne}),he})}function Et(he,me,Ne,$e,ot,st){var Wt=me.length===Ne.length;if(!ot&&!Wt)return{fullReplot:!0,calc:!0};var Zt=C.traceFlags();Zt.arrays={},Zt.nChanges=0,Zt.nChangesAnim=0;var At,Rt;function Xt(Kt){var Qt=t.getTraceValObject(Rt,Kt);return!Rt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var ir={getValObject:Xt,flags:Zt,immutable:$e,transition:ot,newDataRevision:st,gd:he},pt={};for(At=0;At<me.length;At++)if(Ne[At]){if(Rt=Ne[At]._fullInput,a.hasMakesDataTransform(Rt)&&(Rt=Ne[At]),pt[Rt.uid])continue;pt[Rt.uid]=1,ze(me[At]._fullInput,Rt,[],ir)}return(Zt.calc||Zt.plot)&&(Zt.fullReplot=!0),ot&&Zt.nChanges&&Zt.nChangesAnim&&(Zt.anim=Zt.nChanges===Zt.nChangesAnim&&Wt?"all":"some"),Zt}function rt(he,me,Ne,$e,ot){var st=C.layoutFlags();st.arrays={},st.rangesAltered={},st.nChanges=0,st.nChangesAnim=0;function Wt(At){return t.getLayoutValObject(Ne,At)}var Zt={getValObject:Wt,flags:st,immutable:$e,transition:ot,gd:he};return ze(me,Ne,[],Zt),(st.plot||st.calc)&&(st.layoutReplot=!0),ot&&st.nChanges&&st.nChangesAnim&&(st.anim=st.nChanges===st.nChangesAnim?"all":"some"),st}function ze(he,me,Ne,$e){var ot,st,Wt,Zt=$e.getValObject,At=$e.flags,Rt=$e.immutable,Xt=$e.inArray,ir=$e.arrayIndex;function pt(){var Ue=ot.editType;if(Xt&&Ue.indexOf("arraydraw")!==-1){L.pushUnique(At.arrays[Xt],ir);return}C.update(At,ot),Ue!=="none"&&At.nChanges++,$e.transition&&ot.anim&&At.nChangesAnim++,(De.test(Wt)||Fe.test(Wt))&&(At.rangesAltered[Ne[0]]=1),Te.test(Wt)&&S(me,"_inputDomain").set(null),st==="datarevision"&&(At.newDataRevision=1)}function Kt(Ue){return Ue.valType==="data_array"||Ue.arrayOk}for(st in he){if(At.calc&&!$e.transition)return;var Qt=he[st],yr=me[st],ur=Ne.concat(st);if(Wt=ur.join("."),!(st.charAt(0)==="_"||typeof Qt=="function"||Qt===yr)){if((st==="tick0"||st==="dtick")&&Ne[0]!=="geo"){var mt=me.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if(!(st==="range"&&me.autorange)&&!((st==="zmin"||st==="zmax")&&me.type==="contourcarpet")&&(ot=Zt(ur),!!ot&&!(ot._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(yr)))){var lt=ot.valType,bt,Ct=Kt(ot),Dt=Array.isArray(Qt),Ht=Array.isArray(yr);if(Dt&&Ht){var Bt="_input_"+st,xt=he[Bt],Ut=me[Bt];if(Array.isArray(xt)&&xt===Ut)continue}if(yr===void 0)Ct&&Dt?At.calc=!0:pt();else if(ot._isLinkedToArray){var qt=[],or=!1;Xt||(At.arrays[st]=qt);var rr=Math.min(Qt.length,yr.length),He=Math.max(Qt.length,yr.length);if(rr!==He)if(ot.editType==="arraydraw")or=!0;else{pt();continue}for(bt=0;bt<rr;bt++)ze(Qt[bt],yr[bt],ur.concat(bt),L.extendFlat({inArray:st,arrayIndex:bt},$e));if(or)for(bt=rr;bt<He;bt++)qt.push(bt)}else!lt&&L.isPlainObject(Qt)?ze(Qt,yr,ur,$e):Ct?Dt&&Ht?(Rt&&(At.calc=!0),(Rt||$e.newDataRevision)&&pt()):Dt!==Ht?At.calc=!0:pt():Dt&&Ht?(Qt.length!==yr.length||String(Qt)!==String(yr))&&pt():pt()}}}for(st in me)if(!(st in he||st.charAt(0)==="_"||typeof me[st]=="function"))if(ot=Zt(Ne.concat(st)),Kt(ot)&&Array.isArray(me[st])){At.calc=!0;return}else pt()}function Ge(he,me){var Ne;for(Ne in he)if(Ne.charAt(0)!=="_"){var $e=he[Ne],ot=me[Ne];if($e!==ot)if(L.isPlainObject($e)&&L.isPlainObject(ot)){if(Ge($e,ot))return!0}else if(Array.isArray($e)&&Array.isArray(ot)){if($e.length!==ot.length)return!0;for(var st=0;st<$e.length;st++)if($e[st]!==ot[st])if(L.isPlainObject($e[st])&&L.isPlainObject(ot[st])){if(Ge($e[st],ot[st]))return!0}else return!0}else return!0}}function je(he,me,Ne){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var $e=he._transitionData;$e._frameQueue||($e._frameQueue=[]),Ne=a.supplyAnimationDefaults(Ne);var ot=Ne.transition,st=Ne.frame;$e._frameWaitingCnt===void 0&&($e._frameWaitingCnt=0);function Wt(Rt){return Array.isArray(ot)?Rt>=ot.length?ot[0]:ot[Rt]:ot}function Zt(Rt){return Array.isArray(st)?Rt>=st.length?st[0]:st[Rt]:st}function At(Rt,Xt){var ir=0;return function(){if(Rt&&++ir===Xt)return Rt()}}return new Promise(function(Rt,Xt){function ir(){if($e._frameQueue.length!==0){for(;$e._frameQueue.length;){var rr=$e._frameQueue.pop();rr.onInterrupt&&rr.onInterrupt()}he.emit("plotly_animationinterrupted",[])}}function pt(rr){if(rr.length!==0){for(var He=0;He<rr.length;He++){var Ue;rr[He].type==="byname"?Ue=a.computeFrame(he,rr[He].name):Ue=rr[He].data;var Ot=Zt(He),It=Wt(He);It.duration=Math.min(It.duration,Ot.duration);var Jt={frame:Ue,name:rr[He].name,frameOpts:Ot,transitionOpts:It};He===rr.length-1&&(Jt.onComplete=At(Rt,2),Jt.onInterrupt=Xt),$e._frameQueue.push(Jt)}Ne.mode==="immediate"&&($e._lastFrameAt=-1/0),$e._animationRaf||yr()}}function Kt(){he.emit("plotly_animated"),window.cancelAnimationFrame($e._animationRaf),$e._animationRaf=null}function Qt(){$e._currentFrame&&$e._currentFrame.onComplete&&$e._currentFrame.onComplete();var rr=$e._currentFrame=$e._frameQueue.shift();if(rr){var He=rr.name?rr.name.toString():null;he._fullLayout._currentFrame=He,$e._lastFrameAt=Date.now(),$e._timeToNext=rr.frameOpts.duration,a.transition(he,rr.frame.data,rr.frame.layout,b.coerceTraceIndices(he,rr.frame.traces),rr.frameOpts,rr.transitionOpts).then(function(){rr.onComplete&&rr.onComplete()}),he.emit("plotly_animatingframe",{name:He,frame:rr.frame,animation:{frame:rr.frameOpts,transition:rr.transitionOpts}})}else Kt()}function yr(){he.emit("plotly_animating"),$e._lastFrameAt=-1/0,$e._timeToNext=0,$e._runningTransitions=0,$e._currentFrame=null;var rr=function(){$e._animationRaf=window.requestAnimationFrame(rr),Date.now()-$e._lastFrameAt>$e._timeToNext&&Qt()};rr()}var ur=0;function mt(rr){return Array.isArray(ot)?ur>=ot.length?rr.transitionOpts=ot[ur]:rr.transitionOpts=ot[0]:rr.transitionOpts=ot,ur++,rr}var lt,bt,Ct=[],Dt=me==null,Ht=Array.isArray(me),Bt=!Dt&&!Ht&&L.isPlainObject(me);if(Bt)Ct.push({type:"object",data:mt(L.extendFlat({},me))});else if(Dt||["string","number"].indexOf(typeof me)!==-1)for(lt=0;lt<$e._frames.length;lt++)bt=$e._frames[lt],bt&&(Dt||String(bt.group)===String(me))&&Ct.push({type:"byname",name:String(bt.name),data:mt({name:bt.name})});else if(Ht)for(lt=0;lt<me.length;lt++){var xt=me[lt];["number","string"].indexOf(typeof xt)!==-1?(xt=String(xt),Ct.push({type:"byname",name:xt,data:mt({name:xt})})):L.isPlainObject(xt)&&Ct.push({type:"object",data:mt(L.extendFlat({},xt))})}for(lt=0;lt<Ct.length;lt++)if(bt=Ct[lt],bt.type==="byname"&&!$e._frameHash[bt.data.name]){L.warn('animate failure: frame not found: "'+bt.data.name+'"'),Xt();return}["next","immediate"].indexOf(Ne.mode)!==-1&&ir(),Ne.direction==="reverse"&&Ct.reverse();var Ut=he._fullLayout._currentFrame;if(Ut&&Ne.fromcurrent){var qt=-1;for(lt=0;lt<Ct.length;lt++)if(bt=Ct[lt],bt.type==="byname"&&bt.name===Ut){qt=lt;break}if(qt>0&&qt<Ct.length-1){var or=[];for(lt=0;lt<Ct.length;lt++)bt=Ct[lt],(Ct[lt].type!=="byname"||lt>qt)&&or.push(bt);Ct=or}}Ct.length>0?pt(Ct):(he.emit("plotly_animated"),Rt())})}function We(he,me,Ne){if(he=L.getGraphDiv(he),me==null)return Promise.resolve();if(!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var $e,ot,st,Wt,Zt=he._transitionData._frames,At=he._transitionData._frameHash;if(!Array.isArray(me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+me);var Rt=Zt.length+me.length*2,Xt=[],ir={};for($e=me.length-1;$e>=0;$e--)if(L.isPlainObject(me[$e])){var pt=me[$e].name,Kt=(At[pt]||ir[pt]||{}).name,Qt=me[$e].name,yr=At[Kt]||ir[Kt];Kt&&Qt&&typeof Qt=="number"&&yr&&E<A&&(E++,L.warn('addFrames: overwriting frame "'+(At[Kt]||ir[Kt]).name+'" with a frame whose name of type "number" also equates to "'+Kt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===A&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),ir[pt]={name:pt},Xt.push({frame:a.supplyFrameDefaults(me[$e]),index:Ne&&Ne[$e]!==void 0&&Ne[$e]!==null?Ne[$e]:Rt+$e})}Xt.sort(function(Bt,xt){return Bt.index>xt.index?-1:Bt.index<xt.index?1:0});var ur=[],mt=[],lt=Zt.length;for($e=Xt.length-1;$e>=0;$e--){if(ot=Xt[$e].frame,typeof ot.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ot.name)for(;At[ot.name="frame "+he._transitionData._counter++];);if(At[ot.name]){for(st=0;st<Zt.length&&(Zt[st]||{}).name!==ot.name;st++);ur.push({type:"replace",index:st,value:ot}),mt.unshift({type:"replace",index:st,value:Zt[st]})}else Wt=Math.max(0,Math.min(Xt[$e].index,lt)),ur.push({type:"insert",index:Wt,value:ot}),mt.unshift({type:"delete",index:Wt}),lt++}var bt=a.modifyFrames,Ct=a.modifyFrames,Dt=[he,mt],Ht=[he,ur];return p&&p.add(he,bt,Dt,Ct,Ht),a.modifyFrames(he,ur)}function Le(he,me){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he);var Ne,$e,ot=he._transitionData._frames,st=[],Wt=[];if(!me)for(me=[],Ne=0;Ne<ot.length;Ne++)me.push(Ne);for(me=me.slice(),me.sort(),Ne=me.length-1;Ne>=0;Ne--)$e=me[Ne],st.push({type:"delete",index:$e}),Wt.unshift({type:"insert",index:$e,value:ot[$e]});var Zt=a.modifyFrames,At=a.modifyFrames,Rt=[he,Wt],Xt=[he,st];return p&&p.add(he,Zt,Rt,At,Xt),a.modifyFrames(he,st)}function Pe(he){he=L.getGraphDiv(he);var me=he._fullLayout||{},Ne=he._fullData||[];return a.cleanPlot([],{},Ne,me),a.purge(he),v.purge(he),me._container&&me._container.remove(),delete he._context,he}function Ye(he){var me=he._fullLayout,Ne=he.getBoundingClientRect();if(!L.equalDomRects(Ne,me._lastBBox)){var $e=me._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(he));me._invScaleX=Math.sqrt($e[0][0]*$e[0][0]+$e[0][1]*$e[0][1]+$e[0][2]*$e[0][2]),me._invScaleY=Math.sqrt($e[1][0]*$e[1][0]+$e[1][1]*$e[1][1]+$e[1][2]*$e[1][2]),me._lastBBox=Ne}}function Ce(he){var me=m.select(he),Ne=he._fullLayout;if(Ne._calcInverseTransform=Ye,Ne._calcInverseTransform(he),Ne._container=me.selectAll(".plot-container").data([0]),Ne._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ne._paperdiv=Ne._container.selectAll(".svg-container").data([0]),Ne._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ne._glcontainer=Ne._paperdiv.selectAll(".gl-container").data([{}]),Ne._glcontainer.enter().append("div").classed("gl-container",!0),Ne._paperdiv.selectAll(".main-svg").remove(),Ne._paperdiv.select(".modebar-container").remove(),Ne._paper=Ne._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ne._toppaper=Ne._paperdiv.append("svg").classed("main-svg",!0),Ne._modebardiv=Ne._paperdiv.append("div"),delete Ne._modeBar,Ne._hoverpaper=Ne._paperdiv.append("svg").classed("main-svg",!0),!Ne._uid){var $e={};m.selectAll("defs").each(function(){this.id&&($e[this.id.split("-")[1]]=1)}),Ne._uid=L.randstr($e)}Ne._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ne._defs=Ne._paper.append("defs").attr("id","defs-"+Ne._uid),Ne._clips=Ne._defs.append("g").classed("clips",!0),Ne._topdefs=Ne._toppaper.append("defs").attr("id","topdefs-"+Ne._uid),Ne._topclips=Ne._topdefs.append("g").classed("clips",!0),Ne._bgLayer=Ne._paper.append("g").classed("bglayer",!0),Ne._draggers=Ne._paper.append("g").classed("draglayer",!0);var ot=Ne._paper.append("g").classed("layer-below",!0);Ne._imageLowerLayer=ot.append("g").classed("imagelayer",!0),Ne._shapeLowerLayer=ot.append("g").classed("shapelayer",!0),Ne._cartesianlayer=Ne._paper.append("g").classed("cartesianlayer",!0),Ne._polarlayer=Ne._paper.append("g").classed("polarlayer",!0),Ne._smithlayer=Ne._paper.append("g").classed("smithlayer",!0),Ne._ternarylayer=Ne._paper.append("g").classed("ternarylayer",!0),Ne._geolayer=Ne._paper.append("g").classed("geolayer",!0),Ne._funnelarealayer=Ne._paper.append("g").classed("funnelarealayer",!0),Ne._pielayer=Ne._paper.append("g").classed("pielayer",!0),Ne._iciclelayer=Ne._paper.append("g").classed("iciclelayer",!0),Ne._treemaplayer=Ne._paper.append("g").classed("treemaplayer",!0),Ne._sunburstlayer=Ne._paper.append("g").classed("sunburstlayer",!0),Ne._indicatorlayer=Ne._toppaper.append("g").classed("indicatorlayer",!0),Ne._glimages=Ne._paper.append("g").classed("glimages",!0);var st=Ne._toppaper.append("g").classed("layer-above",!0);Ne._imageUpperLayer=st.append("g").classed("imagelayer",!0),Ne._shapeUpperLayer=st.append("g").classed("shapelayer",!0),Ne._selectionLayer=Ne._toppaper.append("g").classed("selectionlayer",!0),Ne._infolayer=Ne._toppaper.append("g").classed("infolayer",!0),Ne._menulayer=Ne._toppaper.append("g").classed("menulayer",!0),Ne._zoomlayer=Ne._toppaper.append("g").classed("zoomlayer",!0),Ne._hoverlayer=Ne._hoverpaper.append("g").classed("hoverlayer",!0),Ne._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),he.emit("plotly_framework")}H.animate=je,H.addFrames=We,H.deleteFrames=Le,H.addTraces=ie,H.deleteTraces=X,H.extendTraces=$,H.moveTraces=Q,H.prependTraces=Z,H.newPlot=O,H._doPlot=o,H.purge=Pe,H.react=Tt,H.redraw=k,H.relayout=be,H.restyle=oe,H.setPlotConfig=x,H.update=ke,H._guiRelayout=Me(be),H._guiRestyle=Me(oe),H._guiUpdate=Me(ke),H._storeDirectGUIEdit=te},20556:function(G){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function m(P,s){for(var L in P){var S=P[L];S.valType?s[L]=S.dflt:(s[L]||(s[L]={}),m(S,s[L]))}}m(H,e),G.exports={configAttributes:H,dfltConfig:e}},73060:function(G,H,e){var m=e(24040),P=e(3400),s=e(45464),L=e(64859),S=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,a=P.isPlainObject,n=P.isArrayOrTypedArray,f=P.nestedProperty,u=P.valObjectMeta,l="_isSubplotObj",g="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",c=[l,g,h,T];H.IS_SUBPLOT_OBJ=l,H.IS_LINKED_TO_ARRAY=g,H.DEPRECATED=T,H.UNDERSCORE_ATTRS=c,H.get=function(){var N={};m.allTypes.forEach(function(O){N[O]=w(O)});var k={};return Object.keys(m.transformsRegistry).forEach(function(O){k[O]=y(O)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:C(),transforms:k,frames:E(),animation:A(v),config:A(p)}},H.crawl=function(N,k,O,F){var z=O||0;F=F||"",Object.keys(N).forEach(function(B){var W=N[B];if(c.indexOf(B)===-1){var J=(F?F+".":"")+B;k(W,B,N,z,J),!H.isValObject(W)&&a(W)&&B!=="impliedEdits"&&H.crawl(W,k,z+1,J)}})},H.isValObject=function(N){return N&&N.valType!==void 0},H.findArrayAttributes=function(N){var k=[],O=[],F=[],z,B;function W(Z,ie,X,Q){O=O.slice(0,Q).concat([ie]),F=F.slice(0,Q).concat([Z&&Z._isLinkedToArray]);var oe=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(O[Q-1]==="colorbar"&&(ie==="ticktext"||ie==="tickvals"));oe&&J(z,0,"")}function J(Z,ie,X){var Q=Z[O[ie]],oe=X+O[ie];if(ie===O.length-1)n(Q)&&k.push(B+oe);else if(F[ie]){if(Array.isArray(Q))for(var j=0;j<Q.length;j++)a(Q[j])&&J(Q[j],ie+1,oe+"["+j+"].")}else a(Q)&&J(Q,ie+1,oe+".")}z=N,B="",H.crawl(s,W),N._module&&N._module.attributes&&H.crawl(N._module.attributes,W);var re=N.transforms;if(re)for(var ne=0;ne<re.length;ne++){var le=re[ne],$=le._module;$&&(B="transforms["+ne+"].",z=le,H.crawl($.attributes,W))}return k},H.getTraceValObject=function(N,k){var O=k[0],F=1,z,B;if(O==="transforms"){if(k.length===1)return s.transforms;var W=N.transforms;if(!Array.isArray(W)||!W.length)return!1;var J=k[1];if(!b(J)||J>=W.length)return!1;z=(m.transformsRegistry[W[J].type]||{}).attributes,B=z&&z[k[2]],F=3}else{var re=N._module;if(re||(re=(m.modules[N.type||s.type.dflt]||{})._module),!re)return!1;if(z=re.attributes,B=z&&z[O],!B){var ne=re.basePlotModule;ne&&ne.attributes&&(B=ne.attributes[O])}B||(B=s[O])}return d(B,k,F)},H.getLayoutValObject=function(N,k){var O=i(N,k[0]);return d(O,k,1)};function i(N,k){var O,F,z,B,W=N._basePlotModules;if(W){var J;for(O=0;O<W.length;O++){if(z=W[O],z.attrRegex&&z.attrRegex.test(k)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!J&&z.layoutAttributes&&(J=z.layoutAttributes)}var re=z.baseLayoutAttrOverrides;if(re&&k in re)return re[k]}if(J)return J}var ne=N._modules;if(ne){for(O=0;O<ne.length;O++)if(B=ne[O].layoutAttributes,B&&k in B)return B[k]}for(F in m.componentsRegistry){if(z=m.componentsRegistry[F],z.name==="colorscale"&&k.indexOf("coloraxis")===0)return z.layoutAttributes[k];if(!z.schema&&k===z.name)return z.layoutAttributes}return k in L?L[k]:!1}function d(N,k,O){if(!N)return!1;if(N._isLinkedToArray){if(b(k[O]))O++;else if(O<k.length)return!1}for(;O<k.length;O++){var F=N[k[O]];if(a(F))N=F;else break;if(O===k.length-1)break;if(N._isLinkedToArray){if(O++,!b(k[O]))return!1}else if(N.valType==="info_array"){O++;var z=k[O];if(!b(z))return!1;var B=N.items;if(Array.isArray(B)){if(z>=B.length)return!1;if(N.dimensions===2){if(O++,k.length===O)return N;var W=k[O];if(!b(W))return!1;N=B[z][W]}else N=B[z]}else N=B}}return N}function b(N){return N===Math.round(N)&&N>=0}function w(N){var k,O;k=m.modules[N]._module,O=k.basePlotModule;var F={};F.type=null;var z=t({},s),B=t({},k.attributes);H.crawl(B,function(re,ne,le,$,Z){f(z,Z).set(void 0),re===void 0&&f(B,Z).set(void 0)}),t(F,z),m.traceIs(N,"noOpacity")&&delete F.opacity,m.traceIs(N,"showLegend")||(delete F.showlegend,delete F.legendgroup),m.traceIs(N,"noHover")&&(delete F.hoverinfo,delete F.hoverlabel),k.selectPoints||delete F.selectedpoints,t(F,B),O.attributes&&t(F,O.attributes),F.type=N;var W={meta:k.meta||{},categories:k.categories||{},animatable:!!k.animatable,type:N,attributes:A(F)};if(k.layoutAttributes){var J={};t(J,k.layoutAttributes),W.layoutAttributes=A(J)}return k.animatable||H.crawl(W,function(re){H.isValObject(re)&&"anim"in re&&delete re.anim}),W}function C(){var N={},k,O;t(N,L);for(k in m.subplotsRegistry)if(O=m.subplotsRegistry[k],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var F=0;F<O.attr.length;F++)I(N,O,O.attr[F]);else{var z=O.attr==="subplot"?O.name:O.attr;I(N,O,z)}for(k in m.componentsRegistry){O=m.componentsRegistry[k];var B=O.schema;if(B&&(B.subplots||B.layout)){var W=B.subplots;if(W&&W.xaxis&&!W.yaxis)for(var J in W.xaxis)delete N.yaxis[J];delete N.xaxis.shift,delete N.xaxis.autoshift}else O.name==="colorscale"?t(N,O.layoutAttributes):O.layoutAttributes&&D(N,O.layoutAttributes,O.name)}return{layoutAttributes:A(N)}}function y(N){var k=m.transformsRegistry[N],O=t({},k.attributes);return Object.keys(m.componentsRegistry).forEach(function(F){var z=m.componentsRegistry[F];z.schema&&z.schema.transforms&&z.schema.transforms[N]&&Object.keys(z.schema.transforms[N]).forEach(function(B){D(O,z.schema.transforms[N][B],B)})}),{attributes:A(O)}}function E(){var N={frames:t({},S)};return A(N),N.frames}function A(N){return o(N),M(N),x(N),N}function o(N){function k(F){return{valType:"string",editType:"none"}}function O(F,z,B){H.isValObject(F)?(F.arrayOk===!0||F.valType==="data_array")&&(B[z+"src"]=k()):a(F)&&(F.role="object")}H.crawl(N,O)}function M(N){function k(O,F,z){if(O){var B=O[g];B&&(delete O[g],z[F]={items:{}},z[F].items[B]=O,z[F].role="object")}}H.crawl(N,k)}function x(N){function k(O){for(var F in O)if(a(O[F]))k(O[F]);else if(Array.isArray(O[F]))for(var z=0;z<O[F].length;z++)k(O[F][z]);else O[F]instanceof RegExp&&(O[F]=O[F].toString())}k(N)}function I(N,k,O){var F=f(N,O),z=t({},k.layoutAttributes);z[l]=!0,F.set(z)}function D(N,k,O){var F=f(N,O);F.set(t(F.get()||{},k))}},31780:function(G,H,e){var m=e(3400),P=e(45464),s="templateitemname",L={name:{valType:"string",editType:"none"}};L[s]={valType:"string",editType:"calc"},H.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=L.name,r[s]=L[s],r},H.traceTemplater=function(p){var r={},t,a;for(t in p)a=p[t],Array.isArray(a)&&a.length&&(r[t]=0);function n(f){t=m.coerce(f,{},P,"type");var u={type:t,_template:null};if(t in r){a=p[t];var l=r[t]%a.length;r[t]++,u._template=a[l]}return u}return{newTrace:n}},H.newContainer=function(p,r,t){var a=p._template,n=a&&(a[r]||t&&a[t]);m.isPlainObject(n)||(n=null);var f=p[r]={_template:n};return f},H.arrayTemplater=function(p,r,t){var a=p._template,n=a&&a[v(r)],f=a&&a[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(h){var T={name:h.name,_input:h},c=T[s]=h[s];if(!S(c))return T._template=n,T;for(var i=0;i<f.length;i++){var d=f[i];if(d.name===c)return u[c]=1,T._template=d,T}return T[t]=h[t]||!1,T._template=!1,T}function g(){for(var h=[],T=0;T<f.length;T++){var c=f[T],i=c.name;if(S(i)&&!u[i]){var d={_template:c,name:i,_input:{_templateitemname:i}};d[s]=c[s],h.push(d),u[i]=1}}return h}return{newItem:l,defaultItems:g}};function S(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&m.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(p,r,t){var a=(m.nestedProperty(p,r).get()||[]).length,n=t._index,f=n>=a&&(t._input||{})._templateitemname;f&&(n=a);var u=r+"["+n+"]",l;function g(){l={},f&&(l[u]={},l[u][s]=f)}g();function h(d,b){l[d]=b}function T(d,b){f?m.nestedProperty(l[u],d).set(b):l[u+"."+d]=b}function c(){var d=l;return g(),d}function i(d,b){d&&T(d,b);var w=c();for(var C in w)m.nestedProperty(p,C).set(w[C])}return{modifyBase:h,modifyItem:T,getUpdateObj:c,applyUpdate:i}}},39172:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(3400),S=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),a=e(45460),n=e(54460),f=e(84284),u=e(71888),l=u.enforce,g=u.clean,h=e(19280).doAutoRange,T="start",c="middle",i="end";H.layoutStyles=function(O){return L.syncOrAsync([s.doAutoMargin,b],O)};function d(O,F,z){for(var B=0;B<z.length;B++){var W=z[B][0],J=z[B][1];if(!(W[0]>=O[1]||W[1]<=O[0])&&J[0]<F[1]&&J[1]>F[0])return!0}return!1}function b(O){var F=O._fullLayout,z=F._size,B=z.p,W=n.list(O,"",!0),J,re,ne,le,$,Z;if(F._paperdiv.style({width:O._context.responsive&&F.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":F.width+"px",height:O._context.responsive&&F.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":F.height+"px"}).selectAll(".main-svg").call(r.setSize,F.width,F.height),O._context.setBackground(O,F.paper_bgcolor),H.drawMainTitle(O),a.manage(O),!F._has("cartesian"))return s.previousPromises(O);function ie(Pe,Ye,Ce){var he=Pe._lw/2;if(Pe._id.charAt(0)==="x"){if(Ye){if(Ce==="top")return Ye._offset-B-he}else return z.t+z.h*(1-(Pe.position||0))+he%1;return Ye._offset+Ye._length+B+he}if(Ye){if(Ce==="right")return Ye._offset+Ye._length+B+he}else return z.l+z.w*(Pe.position||0)+he%1;return Ye._offset-B-he}for(J=0;J<W.length;J++){le=W[J];var X=le._anchorAxis;le._linepositions={},le._lw=r.crispRound(O,le.linewidth,1),le._mainLinePosition=ie(le,X,le.side),le._mainMirrorPosition=le.mirror&&X?ie(le,X,f.OPPOSITE_SIDE[le.side]):null}var Q=[],oe=[],j=[],Y=p.opacity(F.paper_bgcolor)===1&&p.opacity(F.plot_bgcolor)===1&&F.paper_bgcolor===F.plot_bgcolor;for(re in F._plots)if(ne=F._plots[re],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var se=ne.xaxis.domain,te=ne.yaxis.domain,fe=ne.plotgroup;if(d(se,te,j)){var ge=fe.node(),be=ne.bg=L.ensureSingle(fe,"rect","bg");ge.insertBefore(be.node(),ge.childNodes[0]),oe.push(re)}else fe.select("rect.bg").remove(),j.push([se,te]),Y||(Q.push(re),oe.push(re))}var xe=F._bgLayer.selectAll(".bg").data(Q);for(xe.enter().append("rect").classed("bg",!0),xe.exit().remove(),xe.each(function(Pe){F._plots[Pe].bg=m.select(this)}),J=0;J<oe.length;J++)ne=F._plots[oe[J]],$=ne.xaxis,Z=ne.yaxis,ne.bg&&$._offset!==void 0&&Z._offset!==void 0&&ne.bg.call(r.setRect,$._offset-B,Z._offset-B,$._length+2*B,Z._length+2*B).call(p.fill,F.plot_bgcolor).style("stroke-width",0);if(!F._hasOnlyLargeSploms)for(re in F._plots){ne=F._plots[re],$=ne.xaxis,Z=ne.yaxis;var _e=ne.clipId="clip"+F._uid+re+"plot",De=L.ensureSingleById(F._clips,"clipPath",_e,function(Pe){Pe.classed("plotclip",!0).append("rect")});ne.clipRect=De.select("rect").attr({width:$._length,height:Z._length}),r.setTranslate(ne.plot,$._offset,Z._offset);var Fe,Te;ne._hasClipOnAxisFalse?(Fe=null,Te=_e):(Fe=_e,Te=null),r.setClipUrl(ne.plot,Fe,O),ne.layerClipId=Te}var Re,Se,ke,Me,Ve,tt,it,Je,Qe,ct,ht,dt,Tt;function Et(Pe){return"M"+Re+","+Pe+"H"+Se}function rt(Pe){return"M"+$._offset+","+Pe+"h"+$._length}function ze(Pe){return"M"+Pe+","+Je+"V"+it}function Ge(Pe){return Z._shift!==void 0&&(Pe+=Z._shift),"M"+Pe+","+Z._offset+"v"+Z._length}function je(Pe,Ye,Ce){if(!Pe.showline||re!==Pe._mainSubplot)return"";if(!Pe._anchorAxis)return Ce(Pe._mainLinePosition);var he=Ye(Pe._mainLinePosition);return Pe.mirror&&(he+=Ye(Pe._mainMirrorPosition)),he}for(re in F._plots){ne=F._plots[re],$=ne.xaxis,Z=ne.yaxis;var We="M0,0";w($,re)&&(Ve=y($,"left",Z,W),Re=$._offset-(Ve?B+Ve:0),tt=y($,"right",Z,W),Se=$._offset+$._length+(tt?B+tt:0),ke=ie($,Z,"bottom"),Me=ie($,Z,"top"),Tt=!$._anchorAxis||re!==$._mainSubplot,Tt&&($.mirror==="allticks"||$.mirror==="all")&&($._linepositions[re]=[ke,Me]),We=je($,Et,rt),Tt&&$.showline&&($.mirror==="all"||$.mirror==="allticks")&&(We+=Et(ke)+Et(Me)),ne.xlines.style("stroke-width",$._lw+"px").call(p.stroke,$.showline?$.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",We);var Le="M0,0";w(Z,re)&&(ht=y(Z,"bottom",$,W),it=Z._offset+Z._length+(ht?B:0),dt=y(Z,"top",$,W),Je=Z._offset-(dt?B:0),Qe=ie(Z,$,"left"),ct=ie(Z,$,"right"),Tt=!Z._anchorAxis||re!==Z._mainSubplot,Tt&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[re]=[Qe,ct]),Le=je(Z,ze,Ge),Tt&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(Le+=ze(Qe)+ze(ct)),ne.ylines.style("stroke-width",Z._lw+"px").call(p.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",Le)}return n.makeClipPaths(O),s.previousPromises(O)}function w(O,F){return(O.ticks||O.showline)&&(F===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function C(O,F,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var B=z._anchorAxis;if(!B)return!1;var W=f.FROM_BL[F];return z.side===F?B.domain[W]===O.domain[W]:z.mirror&&B.domain[1-W]===O.domain[1-W]}function y(O,F,z,B){if(C(O,F,z))return z._lw;for(var W=0;W<B.length;W++){var J=B[W];if(J._mainAxis===z._mainAxis&&C(O,F,J))return J._lw}return 0}H.drawMainTitle=function(O){var F=O._fullLayout.title,z=O._fullLayout,B=N(z),W=k(z),J=I(z,W),re=x(z,B);if(t.draw(O,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:re,y:J,"text-anchor":B,dy:W}}),F.text&&F.automargin){var ne=m.selectAll(".gtitle"),le=r.bBox(ne.node()).height,$=o(O,F,le);if($>0){M(O,J,$,le),ne.attr({x:re,y:J,"text-anchor":B,dy:D(F.yanchor)}).call(S.positionText,re,J);var Z=(F.text.match(S.BR_TAG_ALL)||[]).length;if(Z){var ie=f.LINE_SPACING*Z+f.MID_SHIFT;F.y===0&&(ie=-ie),ne.selectAll(".line").each(function(){var X=+this.getAttribute("dy").slice(0,-2)-ie+"em";this.setAttribute("dy",X)})}}}};function E(O,F,z,B,W){var J=F.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,re=L.isTopAnchor(F)?B:B-W,ne=z==="b"?J-re:re;return L.isTopAnchor(F)&&z==="t"||L.isBottomAnchor(F)&&z==="b"?!1:ne<W}function A(O,F,z,B,W){var J=0;return z==="middle"&&(J+=W/2),O==="t"?(z==="top"&&(J+=W),J+=B-F*B):(z==="bottom"&&(J+=W),J+=F*B),J}function o(O,F,z){var B=F.y,W=F.yanchor,J=B>.5?"t":"b",re=O._fullLayout.margin[J],ne=0;return F.yref==="paper"?ne=z+F.pad.t+F.pad.b:F.yref==="container"&&(ne=A(J,B,W,O._fullLayout.height,z)+F.pad.t+F.pad.b),ne>re?ne:0}function M(O,F,z,B){var W="title.automargin",J=O._fullLayout.title,re=J.y>.5?"t":"b",ne={x:J.x,y:J.y,t:0,b:0},le={};J.yref==="paper"&&E(O,J,re,F,B)?ne[re]=z:J.yref==="container"&&(le[re]=z,O._fullLayout._reservedMargin[W]=le),s.allowAutoMargin(O,W),s.autoMargin(O,W,ne)}function x(O,F){var z=O.title,B=O._size,W=0;switch(F===T?W=z.pad.l:F===i&&(W=-z.pad.r),z.xref){case"paper":return B.l+B.w*z.x+W;case"container":default:return O.width*z.x+W}}function I(O,F){var z=O.title,B=O._size,W=0;if(F==="0em"||!F?W=-z.pad.b:F===f.CAP_SHIFT+"em"&&(W=z.pad.t),z.y==="auto")return B.t/2;switch(z.yref){case"paper":return B.t+B.h-B.h*z.y+W;case"container":default:return O.height-O.height*z.y+W}}function D(O){return O==="top"?f.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function N(O){var F=O.title,z=c;return L.isRightAnchor(F)?z=i:L.isLeftAnchor(F)&&(z=T),z}function k(O){var F=O.title,z="0em";return L.isTopAnchor(F)?z=f.CAP_SHIFT+"em":L.isMiddleAnchor(F)&&(z=f.MID_SHIFT+"em"),z}H.doTraceStyle=function(O){var F=O.calcdata,z=[],B;for(B=0;B<F.length;B++){var W=F[B],J=W[0]||{},re=J.trace||{},ne=re._module||{},le=ne.arraysToCalcdata;le&&le(W,re);var $=ne.editStyle;$&&z.push({fn:$,cd0:J})}if(z.length){for(B=0;B<z.length;B++){var Z=z[B];Z.fn(O,Z.cd0)}v(O),H.redrawReglTraces(O)}return s.style(O),P.getComponentMethod("legend","draw")(O),s.previousPromises(O)},H.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),s.previousPromises(O)},H.layoutReplot=function(O){var F=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",F)},H.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),s.previousPromises(O)},H.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),H.redrawReglTraces(O)),H.drawMainTitle(O),s.previousPromises(O)},H.doModeBar=function(O){var F=O._fullLayout;a.manage(O);for(var z=0;z<F._basePlotModules.length;z++){var B=F._basePlotModules[z].updateFx;B&&B(O)}return s.previousPromises(O)},H.doCamera=function(O){for(var F=O._fullLayout,z=F._subplots.gl3d,B=0;B<z.length;B++){var W=F[z[B]],J=W._scene;J.setViewport(W)}},H.drawData=function(O){var F=O._fullLayout;v(O);for(var z=F._basePlotModules,B=0;B<z.length;B++)z[B].plot(O);return H.redrawReglTraces(O),s.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),F._replotting=!1,s.previousPromises(O)},H.redrawReglTraces=function(O){var F=O._fullLayout;if(F._has("regl")){var z=O._fullData,B=[],W=[],J,re;for(F._hasOnlyLargeSploms&&F._splomGrid.draw(),J=0;J<z.length;J++){var ne=z[J];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?F._splomScenes[ne.uid].draw():ne.type==="scattergl"?L.pushUnique(B,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&L.pushUnique(W,ne.subplot))}for(J=0;J<B.length;J++)re=F._plots[B[J]],re._scene&&re._scene.draw();for(J=0;J<W.length;J++)re=F[W[J]]._subplot,re._scene&&re._scene.draw()}},H.doAutoRangeAndConstraints=function(O){for(var F=n.list(O,"",!0),z,B={},W=0;W<F.length;W++)if(z=F[W],!B[z._id]){B[z._id]=1,g(O,z),h(O,z);var J=z._matchGroup;if(J)for(var re in J){var ne=n.getFromId(O,re);h(O,ne,z.range),B[re]=1}}l(O)},H.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},H.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},94828:function(G,H,e){var m=e(3400),P=m.isPlainObject,s=e(73060),L=e(7316),S=e(45464),v=e(31780),p=e(20556).dfltConfig;H.makeTemplate=function(h){h=m.isPlainObject(h)?h:m.getGraphDiv(h),h=m.extendDeep({_context:p},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var T=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var i={data:{},layout:{}};T.forEach(function(x){var I={};a(x,I,f.bind(null,x));var D=m.coerce(x,{},S,"type"),N=i.data[D];N||(N=i.data[D]=[]),N.push(I)}),a(c,i.layout,n.bind(null,c)),delete i.layout.template;var d=c.template;if(P(d)){var b=d.layout,w,C,y,E,A,o;P(b)&&r(b,i.layout);var M=d.data;if(P(M)){for(C in i.data)if(y=M[C],Array.isArray(y)){for(A=i.data[C],o=A.length,E=y.length,w=0;w<o;w++)r(y[w%E],A[w]);for(w=o;w<E;w++)A.push(m.extendDeep({},y[w]))}for(C in M)C in i.data||(i.data[C]=m.extendDeep([],M[C]))}}return i};function r(h,T){h=m.extendDeep({},h);var c=Object.keys(h).sort(),i,d;function b(A,o,M){if(P(o)&&P(A))r(A,o);else if(Array.isArray(o)&&Array.isArray(A)){var x=v.arrayTemplater({_template:h},M);for(d=0;d<o.length;d++){var I=o[d],D=x.newItem(I)._template;D&&r(D,I)}var N=x.defaultItems();for(d=0;d<N.length;d++)o.push(N[d]._template);for(d=0;d<o.length;d++)delete o[d].templateitemname}}for(i=0;i<c.length;i++){var w=c[i],C=h[w];if(w in T?b(C,T[w],w):T[w]=C,t(w)===w)for(var y in T){var E=t(y);y!==E&&E===w&&!(y in h)&&b(C,T[y],w)}}}function t(h){return h.replace(/[0-9]+$/,"")}function a(h,T,c,i,d){var b=d&&c(d);for(var w in h){var C=h[w],y=u(h,w,i),E=u(h,w,d),A=c(E);if(!A){var o=t(w);o!==w&&(E=u(h,o,d),A=c(E))}if(!(b&&b===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(C)))if(!A.valType&&P(C))a(C,T,c,y,E);else if(A._isLinkedToArray&&Array.isArray(C))for(var M=!1,x=0,I={},D=0;D<C.length;D++){var N=C[D];if(P(N)){var k=N.name;if(k)I[k]||(a(N,T,c,u(C,x,y),u(C,x,E)),x++,I[k]=1);else if(!M){var O=v.arrayDefaultKey(w),F=u(h,O,i),z=u(C,x,y);a(N,T,c,z,u(C,x,E));var B=m.nestedProperty(T,z),W=m.nestedProperty(T,F);W.set(B.get()),B.set(null),M=!0}}}else{var J=m.nestedProperty(T,y);J.set(C)}}}function n(h,T){return s.getLayoutValObject(h,m.nestedProperty({},T).parts)}function f(h,T){return s.getTraceValObject(h,m.nestedProperty({},T).parts)}function u(h,T,c){var i;return c?Array.isArray(h)?i=c+"["+T+"]":i=c+"."+T:i=T,i}H.validateTemplate=function(h,T){var c=m.extendDeep({},{_context:p,data:h.data,layout:h.layout}),i=c.layout||{};P(T)||(T=i.template||{});var d=T.layout,b=T.data,w=[];c.layout=i,c.layout.template=T,L.supplyDefaults(c);var C=c._fullLayout,y=c._fullData,E={};function A(F,z){for(var B in F)if(B.charAt(0)!=="_"&&P(F[B])){var W=t(B),J=[],re;for(re=0;re<z.length;re++)J.push(u(F,B,z[re])),W!==B&&J.push(u(F,W,z[re]));for(re=0;re<J.length;re++)E[J[re]]=1;A(F[B],J)}}function o(F,z){for(var B in F)if(B.indexOf("defaults")===-1&&P(F[B])){var W=u(F,B,z);E[W]?o(F[B],W):w.push({code:"unused",path:W})}}if(P(d)?(A(C,["layout"]),o(d,"layout")):w.push({code:"layout"}),!P(b))w.push({code:"data"});else{for(var M={},x,I=0;I<y.length;I++){var D=y[I];x=D.type,M[x]=(M[x]||0)+1,D._fullInput._template||w.push({code:"missing",index:D._fullInput.index,traceType:x})}for(x in b){var N=b[x].length,k=M[x]||0;N>k?w.push({code:"unused",traceType:x,templateCount:N,dataCount:k}):k>N&&w.push({code:"reused",traceType:x,templateCount:N,dataCount:k})}}function O(F,z){for(var B in F)if(B.charAt(0)!=="_"){var W=F[B],J=u(F,B,z);P(W)?(Array.isArray(F)&&W._template===!1&&W.templateitemname&&w.push({code:"missing",path:J,templateitemname:W.templateitemname}),O(W,J)):Array.isArray(W)&&l(W)&&O(W,J)}}if(O({data:y,layout:C},""),w.length)return w.map(g)};function l(h){for(var T=0;T<h.length;T++)if(P(h[T]))return!0}function g(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},67024:function(G,H,e){var m=e(38248),P=e(36424),s=e(7316),L=e(3400),S=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function a(n,f){f=f||{};var u,l,g,h;L.isPlainObject(n)?(u=n.data||[],l=n.layout||{},g=n.config||{},h={}):(n=L.getGraphDiv(n),u=L.extendDeep([],n.data),l=L.extendDeep({},n.layout),g=n._context,h=n._fullLayout||{});function T(k){return!(k in f)||L.validate(f[k],t[k])}if(!T("width")&&f.width!==null||!T("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var c={};function i(k,O){return L.coerce(f,c,t,k,O)}var d=i("format"),b=i("width"),w=i("height"),C=i("scale"),y=i("setBackground"),E=i("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var o=L.extendFlat({},l);b?o.width=b:f.width===null&&m(h.width)&&(o.width=h.width),w?o.height=w:f.height===null&&m(h.height)&&(o.height=h.height);var M=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),x=S.getRedrawFunc(A);function I(){return new Promise(function(k){setTimeout(k,S.getDelay(A._fullLayout))})}function D(){return new Promise(function(k,O){var F=v(A,d,C),z=A._fullLayout.width,B=A._fullLayout.height;function W(){P.purge(A),document.body.removeChild(A)}if(d==="full-json"){var J=s.graphJson(A,!1,"keepdata","object",!0,!0);return J.version=r,J=JSON.stringify(J),W(),k(E?J:S.encodeJSON(J))}if(W(),d==="svg")return k(E?F:S.encodeSVG(F));var re=document.createElement("canvas");re.id=L.randstr(),p({format:d,width:z,height:B,scale:C,canvas:re,svg:F,promise:!0}).then(k).catch(O)})}function N(k){return E?k.replace(S.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,O){P.newPlot(A,u,o,M).then(x).then(I).then(D).then(function(F){k(N(F))}).catch(function(F){O(F)})})}G.exports=a},21480:function(G,H,e){var m=e(3400),P=e(7316),s=e(73060),L=e(20556).dfltConfig,S=m.isPlainObject,v=Array.isArray,p=m.isArrayOrTypedArray;G.exports=function(i,d){i===void 0&&(i=[]),d===void 0&&(d={});var b=s.get(),w=[],C={_context:m.extendFlat({},L)},y,E;v(i)?(C.data=m.extendDeep([],i),y=i):(C.data=[],y=[],w.push(f("array","data"))),S(d)?(C.layout=m.extendDeep({},d),E=d):(C.layout={},E={},arguments.length>1&&w.push(f("object","layout"))),P.supplyDefaults(C);for(var A=C._fullData,o=y.length,M=0;M<o;M++){var x=y[M],I=["data",M];if(!S(x)){w.push(f("object",I));continue}var D=A[M],N=D.type,k=b.traces[N].attributes;k.type={valType:"enumerated",values:[N]},D.visible===!1&&x.visible!==!1&&w.push(f("invisible",I)),r(x,D,k,w,I);var O=x.transforms,F=D.transforms;if(O){v(O)||w.push(f("array",I,["transforms"])),I.push("transforms");for(var z=0;z<O.length;z++){var B=["transforms",z],W=O[z].type;if(!S(O[z])){w.push(f("object",I,B));continue}var J=b.transforms[W]?b.transforms[W].attributes:{};J.type={valType:"enumerated",values:Object.keys(b.transforms)},r(O[z],F[z],J,w,I,B)}}}var re=C._fullLayout,ne=t(b,A);return r(E,re,ne,w,"layout"),w.length===0?void 0:w};function r(c,i,d,b,w,C){C=C||[];for(var y=Object.keys(c),E=0;E<y.length;E++){var A=y[E];if(A!=="transforms"){var o=C.slice();o.push(A);var M=c[A],x=i[A],I=l(d,A),D=(I||{}).valType,N=D==="info_array",k=D==="colorscale",O=(I||{}).items;if(!u(d,A))b.push(f("schema",w,o));else if(S(M)&&S(x)&&D!=="any")r(M,x,I,b,w,o);else if(N&&v(M)){M.length>x.length&&b.push(f("unused",w,o.concat(x.length)));var F=x.length,z=Array.isArray(O);z&&(F=Math.min(F,O.length));var B,W,J,re,ne;if(I.dimensions===2)for(W=0;W<F;W++)if(v(M[W])){M[W].length>x[W].length&&b.push(f("unused",w,o.concat(W,x[W].length)));var le=x[W].length;for(B=0;B<(z?Math.min(le,O[W].length):le);B++)J=z?O[W][B]:O,re=M[W][B],ne=x[W][B],m.validate(re,J)?ne!==re&&ne!==+re&&b.push(f("dynamic",w,o.concat(W,B),re,ne)):b.push(f("value",w,o.concat(W,B),re))}else b.push(f("array",w,o.concat(W),M[W]));else for(W=0;W<F;W++)J=z?O[W]:O,re=M[W],ne=x[W],m.validate(re,J)?ne!==re&&ne!==+re&&b.push(f("dynamic",w,o.concat(W),re,ne)):b.push(f("value",w,o.concat(W),re))}else if(I.items&&!N&&v(M)){var $=O[Object.keys(O)[0]],Z=[],ie,X;for(ie=0;ie<x.length;ie++){var Q=x[ie]._index||ie;if(X=o.slice(),X.push(Q),S(M[Q])&&S(x[ie])){Z.push(Q);var oe=M[Q],j=x[ie];S(oe)&&oe.visible!==!1&&j.visible===!1?b.push(f("invisible",w,X)):r(oe,j,$,b,w,X)}}for(ie=0;ie<M.length;ie++)X=o.slice(),X.push(ie),S(M[ie])?Z.indexOf(ie)===-1&&b.push(f("unused",w,X)):b.push(f("object",w,X,M[ie]))}else!S(M)&&S(x)?b.push(f("object",w,o,M)):!p(M)&&p(x)&&!N&&!k?b.push(f("array",w,o,M)):A in i?m.validate(M,I)?I.valType==="enumerated"&&(I.coerceNumber&&M!==+x||M!==x)&&b.push(f("dynamic",w,o,M,x)):b.push(f("value",w,o,M)):b.push(f("unused",w,o,M))}}return b}function t(c,i){for(var d=c.layout.layoutAttributes,b=0;b<i.length;b++){var w=i[b],C=c.traces[w.type],y=C.layoutAttributes;y&&(w.subplot?m.extendFlat(d[C.attributes.subplot.dflt],y):m.extendFlat(d,y))}return d}var a={object:function(c,i){var d;return c==="layout"&&i===""?d="The layout argument":c[0]==="data"&&i===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+i,d+" must be linked to an object container"},array:function(c,i){var d;return c==="data"?d="The data argument":d=n(c)+"key "+i,d+" must be linked to an array container"},schema:function(c,i){return n(c)+"key "+i+" is not part of the schema"},unused:function(c,i,d){var b=S(d)?"container":"key";return n(c)+b+" "+i+" did not get coerced"},dynamic:function(c,i,d,b){return[n(c)+"key",i,"(set to '"+d+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(c,i){return(i?n(c)+"item "+i:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,i,d){return[n(c)+"key "+i,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,i,d,b,w){d=d||"";var C,y;v(i)?(C=i[0],y=i[1]):(C=i,y=null);var E=T(d),A=a[c](i,E,b,w);return m.log(A),{code:c,container:C,trace:y,path:d,astr:E,msg:A}}function u(c,i){var d=h(i),b=d.keyMinusId,w=d.id;return b in c&&c[b]._isSubplotObj&&w?!0:i in c}function l(c,i){if(i in c)return c[i];var d=h(i);return c[d.keyMinusId]}var g=m.counterRegex("([a-z]+)");function h(c){var i=c.match(g);return{keyMinusId:i&&i[1],id:i&&i[2]}}function T(c){if(!v(c))return String(c);for(var i="",d=0;d<c.length;d++){var b=c[d];typeof b=="number"?i=i.substr(0,i.length-1)+"["+b+"]":i+=b,d<c.length-1&&(i+=".")}return i}},85656:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(G,H,e){var m=e(3400),P=e(31780);G.exports=function(L,S,v){var p=v.name,r=v.inclusionAttr||"visible",t=S[p],a=m.isArrayOrTypedArray(L[p])?L[p]:[],n=S[p]=[],f=P.arrayTemplater(S,p,r),u,l;for(u=0;u<a.length;u++){var g=a[u];m.isPlainObject(g)?l=f.newItem(g):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(g,l,S,v),n.push(l)}var h=f.defaultItems();for(u=0;u<h.length;u++)l=h[u],l._index=n.length,v.handleItemDefaults({},l,S,v,{}),n.push(l);if(m.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)m.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(G,H,e){var m=e(25376),P=e(55756);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:m({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(G,H,e){var m=e(38248),P=e(3400),s=P.dateTime2ms,L=P.incrementMonth,S=e(39032),v=S.ONEAVGMONTH;G.exports=function(r,t,a,n){if(t.type!=="date")return{vals:n};var f=r[a+"periodalignment"];if(!f)return{vals:n};var u=r[a+"period"],l;if(m(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var g=+u.substring(1);if(g>0&&Math.round(g)===g)l=g;else return{vals:n}}for(var h=t.calendar,T=f==="start",c=f==="end",i=r[a+"period0"],d=s(i,h)||0,b=[],w=[],C=[],y=n.length,E=0;E<y;E++){var A=n[E],o,M,x;if(l){for(o=Math.round((A-d)/(l*v)),x=L(d,l*o,h);x>A;)x=L(x,-l,h);for(;x<=A;)x=L(x,l,h);M=L(x,-l,h)}else{for(o=Math.round((A-d)/u),x=d+o*u;x>A;)x-=u;for(;x<=A;)x+=u;M=x-u}b[E]=T?M:c?x:(M+x)/2,w[E]=M,C[E]=x}return{vals:b,starts:w,ends:C}}},26720:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(39032).FP_SAFE,S=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:o,getAutoRange:a,makePadFn:f,doAutoRange:h,findExtremes:T,concatExtremes:g};function a(M,x){var I,D,N=[],k=M._fullLayout,O=f(k,x,0),F=f(k,x,1),z=g(M,x),B=z.min,W=z.max;if(B.length===0||W.length===0)return s.simpleMap(x.range,x.r2l);var J=B[0].val,re=W[0].val;for(I=1;I<B.length&&J===re;I++)J=Math.min(J,B[I].val);for(I=1;I<W.length&&J===re;I++)re=Math.max(re,W[I].val);var ne=x.autorange,le=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!le&&x.range){var $=s.simpleMap(x.range,x.r2l);le=$[1]<$[0]}x.autorange==="reversed"&&(x.autorange=!0);var Z=x.rangemode,ie=Z==="tozero",X=Z==="nonnegative",Q=x._length,oe=Q/10,j=0,Y,se,te,fe,ge,be;for(I=0;I<B.length;I++)for(Y=B[I],D=0;D<W.length;D++)se=W[D],be=se.val-Y.val-n(x,Y.val,se.val),be>0&&(ge=Q-O(Y)-F(se),ge>oe?be/ge>j&&(te=Y,fe=se,j=be/ge):be/Q>j&&(te={val:Y.val,nopad:1},fe={val:se.val,nopad:1},j=be/Q));function xe(Re,Se){return Math.max(Re,F(Se))}if(J===re){var _e=J-1,De=J+1;if(ie)if(J===0)N=[0,1];else{var Fe=(J>0?W:B).reduce(xe,0),Te=J/(1-Math.min(.5,Fe/Q));N=J>0?[0,Te]:[Te,0]}else X?N=[Math.max(0,_e),Math.max(1,De)]:N=[_e,De]}else ie?(te.val>=0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):X&&(te.val-j*O(te)<0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),j=(fe.val-te.val-n(x,Y.val,se.val))/(Q-O(te)-F(fe)),N=[te.val-j*O(te),fe.val+j*F(fe)];return N=o(N,x),x.limitRange&&x.limitRange(),le&&N.reverse(),s.simpleMap(N,x.l2r||Number)}function n(M,x,I){var D=0;if(M.rangebreaks)for(var N=M.locateBreaks(x,I),k=0;k<N.length;k++){var O=N[k];D+=O.max-O.min}return D}function f(M,x,I){var D=.05*x._length,N=x._anchorAxis||{};if((x.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var k=x.isReversed();if(!k){var O=s.simpleMap(x.range,x.r2l);k=O[1]<O[0]}k&&(I=!I)}var F=0;return t(M,x._id)||(F=l(M,x,I)),D=Math.max(F,D),x.constrain==="domain"&&x._inputDomain&&(D*=(x._inputDomain[1]-x._inputDomain[0])/(x.domain[1]-x.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?D:F)}}var u=3;function l(M,x,I){var D=0,N=x._id.charAt(0)==="x";for(var k in M._plots){var O=M._plots[k];if(!(x._id!==O.xaxis._id&&x._id!==O.yaxis._id)){var F=(N?O.yaxis:O.xaxis)||{};if((F.ticklabelposition||"").indexOf("inside")!==-1&&(!I&&(F.side==="left"||F.side==="bottom")||I&&(F.side==="top"||F.side==="right"))){if(F._vals){var z=s.deg2rad(F._tickAngles[F._id+"tick"]||0),B=Math.abs(Math.cos(z)),W=Math.abs(Math.sin(z));if(!F._vals[0].bb){var J=F._id+"tick",re=F._selections[J];re.each(function(X){var Q=m.select(this),oe=Q.select(".text-math-group");oe.empty()&&(X.bb=v.bBox(Q.node()))})}for(var ne=0;ne<F._vals.length;ne++){var le=F._vals[ne],$=le.bb;if($){var Z=2*u+$.width,ie=2*u+$.height;D=Math.max(D,N?Math.max(Z*B,ie*W):Math.max(ie*B,Z*W))}}}F.ticks==="inside"&&F.ticklabelposition==="inside"&&(D+=F.ticklen||0)}}}return D}function g(M,x,I){var D=x._id,N=M._fullData,k=M._fullLayout,O=[],F=[],z,B,W;function J(Z,ie){for(z=0;z<ie.length;z++){var X=Z[ie[z]],Q=(X._extremes||{})[D];if(X.visible===!0&&Q){for(B=0;B<Q.min.length;B++)W=Q.min[B],c(O,W.val,W.pad,{extrapad:W.extrapad});for(B=0;B<Q.max.length;B++)W=Q.max[B],i(F,W.val,W.pad,{extrapad:W.extrapad})}}}if(J(N,x._traceIndices),J(k.annotations||[],x._annIndices||[]),J(k.shapes||[],x._shapeIndices||[]),x._matchGroup&&!I){for(var re in x._matchGroup)if(re!==x._id){var ne=r(M,re),le=g(M,ne,!0),$=x._length/ne._length;for(B=0;B<le.min.length;B++)W=le.min[B],c(O,W.val,W.pad*$,{extrapad:W.extrapad});for(B=0;B<le.max.length;B++)W=le.max[B],i(F,W.val,W.pad*$,{extrapad:W.extrapad})}}return{min:O,max:F}}function h(M,x,I){if(x.setScale(),x.autorange){x.range=I?I.slice():a(M,x),x._r=x.range.slice(),x._rl=s.simpleMap(x._r,x.r2l);var D=x._input,N={};N[x._attr+".range"]=x.range,N[x._attr+".autorange"]=x.autorange,S.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,N),D.range=x.range.slice(),D.autorange=x.autorange}var k=x._anchorAxis;if(k&&k.rangeslider){var O=k.rangeslider[x._name];O&&O.rangemode==="auto"&&(O.range=a(M,x)),k._input.rangeslider[x._name]=s.extendFlat({},O)}}function T(M,x,I){I||(I={}),M._m||M.setScale();var D=[],N=[],k=x.length,O=I.padded||!1,F=I.tozero&&(M.type==="linear"||M.type==="-"),z=M.type==="log",B=!1,W=I.vpadLinearized||!1,J,re,ne,le,$,Z,ie,X,Q;function oe(xe){if(Array.isArray(xe))return B=!0,function(De){return Math.max(Number(xe[De]||0),0)};var _e=Math.max(Number(xe||0),0);return function(){return _e}}var j=oe((M._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),Y=oe((M._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),se=oe(I.vpadplus||I.vpad),te=oe(I.vpadminus||I.vpad);if(!B){if(X=1/0,Q=-1/0,z)for(J=0;J<k;J++)re=x[J],re<X&&re>0&&(X=re),re>Q&&re<L&&(Q=re);else for(J=0;J<k;J++)re=x[J],re<X&&re>-L&&(X=re),re>Q&&re<L&&(Q=re);x=[X,Q],k=2}var fe={tozero:F,extrapad:O};function ge(xe){ne=x[xe],P(ne)&&(Z=j(xe),ie=Y(xe),W?(le=M.c2l(ne)-te(xe),$=M.c2l(ne)+se(xe)):(X=ne-te(xe),Q=ne+se(xe),z&&X<Q/10&&(X=Q/10),le=M.c2l(X),$=M.c2l(Q)),F&&(le=Math.min(0,le),$=Math.max(0,$)),b(le)&&c(D,le,ie,fe),b($)&&i(N,$,Z,fe))}var be=Math.min(6,k);for(J=0;J<be;J++)ge(J);for(J=k-1;J>=be;J--)ge(J);return{min:D,max:N,opts:I}}function c(M,x,I,D){d(M,x,I,D,w)}function i(M,x,I,D){d(M,x,I,D,C)}function d(M,x,I,D,N){for(var k=D.tozero,O=D.extrapad,F=!0,z=0;z<M.length&&F;z++){var B=M[z];if(N(B.val,x)&&B.pad>=I&&(B.extrapad||!O)){F=!1;break}else N(x,B.val)&&B.pad<=I&&(O||!B.extrapad)&&(M.splice(z,1),z--)}if(F){var W=k&&x===0;M.push({val:x,pad:W?0:I,extrapad:W?!1:O})}}function b(M){return P(M)&&Math.abs(M)<L}function w(M,x){return M<=x}function C(M,x){return M>=x}function y(M,x){var I=x.autorangeoptions;return I&&I.minallowed!==void 0&&A(x,I.minallowed,I.maxallowed)?I.minallowed:I&&I.clipmin!==void 0&&A(x,I.clipmin,I.clipmax)?Math.max(M,x.d2l(I.clipmin)):M}function E(M,x){var I=x.autorangeoptions;return I&&I.maxallowed!==void 0&&A(x,I.minallowed,I.maxallowed)?I.maxallowed:I&&I.clipmax!==void 0&&A(x,I.clipmin,I.clipmax)?Math.min(M,x.d2l(I.clipmax)):M}function A(M,x,I){return x!==void 0&&I!==void 0?(x=M.d2l(x),I=M.d2l(I),x<I):!0}function o(M,x){if(!x||!x.autorangeoptions)return M;var I=M[0],D=M[1],N=x.autorangeoptions.include;if(N!==void 0){var k=x.d2l(I),O=x.d2l(D);s.isArrayOrTypedArray(N)||(N=[N]);for(var F=0;F<N.length;F++){var z=x.d2l(N[F]);k>=z&&(k=z,I=z),O<=z&&(O=z,D=z)}}return I=y(I,x),D=E(D,x),[I,D]}},76808:function(G){G.exports=function(e,m,P){var s,L;if(P){var S=m==="reversed"||m==="min reversed"||m==="max reversed";s=P[S?1:0],L=P[S?0:1]}var v=e("autorangeoptions.minallowed",L===null?s:void 0),p=e("autorangeoptions.maxallowed",s===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(G,H,e){var m=e(33428),P=e(38248),s=e(7316),L=e(24040),S=e(3400),v=S.strTranslate,p=e(72736),r=e(81668),t=e(76308),a=e(43616),n=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,g=u.ONEAVGYEAR,h=u.ONEMINYEAR,T=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,i=u.ONEMINQUARTER,d=u.ONEMAXMONTH,b=u.ONEAVGMONTH,w=u.ONEMINMONTH,C=u.ONEWEEK,y=u.ONEDAY,E=y/2,A=u.ONEHOUR,o=u.ONEMIN,M=u.ONESEC,x=u.MINUS_SIGN,I=u.BADNUM,D={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},F={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=e(84284),W=B.MID_SHIFT,J=B.CAP_SHIFT,re=B.LINE_SPACING,ne=B.OPPOSITE_SIDE,le=3,$=G.exports={};$.setConvert=e(78344);var Z=e(52976),ie=e(79811),X=ie.idSort,Q=ie.isLinked;$.id2name=ie.id2name,$.name2id=ie.name2id,$.cleanId=ie.cleanId,$.list=ie.list,$.listIds=ie.listIds,$.getFromId=ie.getFromId,$.getFromTrace=ie.getFromTrace;var oe=e(19280);$.getAutoRange=oe.getAutoRange,$.findExtremes=oe.findExtremes;var j=1e-4;function Y(He){var Ue=(He[1]-He[0])*j;return[He[0]-Ue,He[1]+Ue]}$.coerceRef=function(He,Ue,Ot,It,Jt,cr){var vr=It.charAt(It.length-1),tr=Ot._fullLayout._subplots[vr+"axis"],Nt=It+"ref",sr={};return Jt||(Jt=tr[0]||(typeof cr=="string"?cr:cr[0])),cr||(cr=Jt),tr=tr.concat(tr.map(function(dr){return dr+" domain"})),sr[Nt]={valType:"enumerated",values:tr.concat(cr?typeof cr=="string"?[cr]:cr:[]),dflt:Jt},S.coerce(He,Ue,sr,Nt)},$.getRefType=function(He){return He===void 0?He:He==="paper"?"paper":He==="pixel"?"pixel":/( domain)$/.test(He)?"domain":"range"},$.coercePosition=function(He,Ue,Ot,It,Jt,cr){var vr,tr,Nt=$.getRefType(It);if(Nt!=="range")vr=S.ensureNumber,tr=Ot(Jt,cr);else{var sr=$.getFromId(Ue,It);cr=sr.fraction2r(cr),tr=Ot(Jt,cr),vr=sr.cleanPos}He[Jt]=vr(tr)},$.cleanPosition=function(He,Ue,Ot){var It=Ot==="paper"||Ot==="pixel"?S.ensureNumber:$.getFromId(Ue,Ot).cleanPos;return It(He)},$.redrawComponents=function(He,Ue){Ue=Ue||$.listIds(He);var Ot=He._fullLayout;function It(Jt,cr,vr,tr){for(var Nt=L.getComponentMethod(Jt,cr),sr={},dr=0;dr<Ue.length;dr++)for(var xr=Ot[$.id2name(Ue[dr])],pr=xr[vr],Hr=0;Hr<pr.length;Hr++){var _r=pr[Hr];if(!sr[_r]&&(Nt(He,_r),sr[_r]=1,tr))return}}It("annotations","drawOne","_annIndices"),It("shapes","drawOne","_shapeIndices"),It("images","draw","_imgIndices",!0),It("selections","drawOne","_selectionIndices")};var se=$.getDataConversions=function(He,Ue,Ot,It){var Jt,cr=Ot==="x"||Ot==="y"||Ot==="z"?Ot:It;if(S.isArrayOrTypedArray(cr)){if(Jt={type:Z(It,void 0,{autotypenumbers:He._fullLayout.autotypenumbers}),_categories:[]},$.setConvert(Jt),Jt.type==="category")for(var vr=0;vr<It.length;vr++)Jt.d2c(It[vr])}else Jt=$.getFromTrace(He,Ue,cr);return Jt?{d2c:Jt.d2c,c2d:Jt.c2d}:cr==="ids"?{d2c:fe,c2d:fe}:{d2c:te,c2d:te}};function te(He){return+He}function fe(He){return String(He)}$.getDataToCoordFunc=function(He,Ue,Ot,It){return se(He,Ue,Ot,It).d2c},$.counterLetter=function(He){var Ue=He.charAt(0);if(Ue==="x")return"y";if(Ue==="y")return"x"},$.minDtick=function(He,Ue,Ot,It){["log","category","multicategory"].indexOf(He.type)!==-1||!It?He._minDtick=0:He._minDtick===void 0?(He._minDtick=Ue,He._forceTick0=Ot):He._minDtick&&((He._minDtick/Ue+1e-6)%1<2e-6&&((Ot-He._forceTick0)/Ue%1+1.000001)%1<2e-6?(He._minDtick=Ue,He._forceTick0=Ot):((Ue/He._minDtick+1e-6)%1>2e-6||((Ot-He._forceTick0)/He._minDtick%1+1.000001)%1>2e-6)&&(He._minDtick=0))},$.saveRangeInitial=function(He,Ue){for(var Ot=$.list(He,"",!0),It=!1,Jt=0;Jt<Ot.length;Jt++){var cr=Ot[Jt],vr=cr._rangeInitial0===void 0&&cr._rangeInitial1===void 0,tr=vr||cr.range[0]!==cr._rangeInitial0||cr.range[1]!==cr._rangeInitial1,Nt=cr.autorange;(vr&&Nt!==!0||Ue&&tr)&&(cr._rangeInitial0=Nt==="min"||Nt==="max reversed"?void 0:cr.range[0],cr._rangeInitial1=Nt==="max"||Nt==="min reversed"?void 0:cr.range[1],cr._autorangeInitial=Nt,It=!0)}return It},$.saveShowSpikeInitial=function(He,Ue){for(var Ot=$.list(He,"",!0),It=!1,Jt="on",cr=0;cr<Ot.length;cr++){var vr=Ot[cr],tr=vr._showSpikeInitial===void 0,Nt=tr||vr.showspikes!==vr._showspikes;(tr||Ue&&Nt)&&(vr._showSpikeInitial=vr.showspikes,It=!0),Jt==="on"&&!vr.showspikes&&(Jt="off")}return He._fullLayout._cartesianSpikesEnabled=Jt,It},$.autoBin=function(He,Ue,Ot,It,Jt,cr){var vr=S.aggNums(Math.min,null,He),tr=S.aggNums(Math.max,null,He);if(Ue.type==="category"||Ue.type==="multicategory")return{start:vr-.5,end:tr+.5,size:Math.max(1,Math.round(cr)||1),_dataSpan:tr-vr};Jt||(Jt=Ue.calendar);var Nt;if(Ue.type==="log"?Nt={type:"linear",range:[vr,tr]}:Nt={type:Ue.type,range:S.simpleMap([vr,tr],Ue.c2r,0,Jt),calendar:Jt},$.setConvert(Nt),cr=cr&&f.dtick(cr,Nt.type),cr)Nt.dtick=cr,Nt.tick0=f.tick0(void 0,Nt.type,Jt);else{var sr;if(Ot)sr=(tr-vr)/Ot;else{var dr=S.distinctVals(He),xr=Math.pow(10,Math.floor(Math.log(dr.minDiff)/Math.LN10)),pr=xr*S.roundUp(dr.minDiff/xr,[.9,1.9,4.9,9.9],!0);sr=Math.max(pr,2*S.stdev(He)/Math.pow(He.length,It?.25:.4)),P(sr)||(sr=1)}$.autoTicks(Nt,sr)}var Hr=Nt.dtick,_r=$.tickIncrement($.tickFirst(Nt),Hr,"reverse",Jt),Dr,an;if(typeof Hr=="number")_r=ge(_r,He,Nt,vr,tr),an=1+Math.floor((tr-_r)/Hr),Dr=_r+an*Hr;else for(Nt.dtick.charAt(0)==="M"&&(_r=be(_r,He,Hr,vr,Jt)),Dr=_r,an=0;Dr<=tr;)Dr=$.tickIncrement(Dr,Hr,!1,Jt),an++;return{start:Ue.c2r(_r,0,Jt),end:Ue.c2r(Dr,0,Jt),size:Hr,_dataSpan:tr-vr}};function ge(He,Ue,Ot,It,Jt){var cr=0,vr=0,tr=0,Nt=0;function sr(Hr){return(1+(Hr-He)*100/Ot.dtick)%100<2}for(var dr=0;dr<Ue.length;dr++)Ue[dr]%1===0?tr++:P(Ue[dr])||Nt++,sr(Ue[dr])&&cr++,sr(Ue[dr]+Ot.dtick/2)&&vr++;var xr=Ue.length-Nt;if(tr===xr&&Ot.type!=="date")Ot.dtick<1?He=It-.5*Ot.dtick:(He-=.5,He+Ot.dtick<It&&(He+=Ot.dtick));else if(vr<xr*.1&&(cr>xr*.3||sr(It)||sr(Jt))){var pr=Ot.dtick/2;He+=He+pr<It?pr:-pr}return He}function be(He,Ue,Ot,It,Jt){var cr=S.findExactDates(Ue,Jt),vr=.8;if(cr.exactDays>vr){var tr=Number(Ot.substr(1));cr.exactYears>vr&&tr%12===0?He=$.tickIncrement(He,"M6","reverse")+y*1.5:cr.exactMonths>vr?He=$.tickIncrement(He,"M1","reverse")+y*15.5:He-=E;var Nt=$.tickIncrement(He,Ot);if(Nt<=It)return Nt}return He}$.prepMinorTicks=function(He,Ue,Ot){if(!Ue.minor.dtick){delete He.dtick;var It=Ue.dtick&&P(Ue._tmin),Jt;if(It){var cr=$.tickIncrement(Ue._tmin,Ue.dtick,!0);Jt=[Ue._tmin,cr*.99+Ue._tmin*.01]}else{var vr=S.simpleMap(Ue.range,Ue.r2l);Jt=[vr[0],.8*vr[0]+.2*vr[1]]}if(He.range=S.simpleMap(Jt,Ue.l2r),He._isMinor=!0,$.prepTicks(He,Ot),It){var tr=P(Ue.dtick),Nt=P(He.dtick),sr=tr?Ue.dtick:+Ue.dtick.substring(1),dr=Nt?He.dtick:+He.dtick.substring(1);tr&&Nt?xe(sr,dr)?sr===2*C&&dr===2*y&&(He.dtick=C):sr===2*C&&dr===3*y?He.dtick=C:sr===C&&!(Ue._input.minor||{}).nticks?He.dtick=y:_e(sr/dr,2.5)?He.dtick=sr/2:He.dtick=sr:String(Ue.dtick).charAt(0)==="M"?Nt?He.dtick="M1":xe(sr,dr)?sr>=12&&dr===2&&(He.dtick="M3"):He.dtick=Ue.dtick:String(He.dtick).charAt(0)==="L"?String(Ue.dtick).charAt(0)==="L"?xe(sr,dr)||(He.dtick=_e(sr/dr,2.5)?Ue.dtick/2:Ue.dtick):He.dtick="D1":He.dtick==="D2"&&+Ue.dtick>1&&(He.dtick=1)}He.range=Ue.range}Ue.minor._tick0Init===void 0&&(He.tick0=Ue.tick0)};function xe(He,Ue){return Math.abs((He/Ue+.5)%1-.5)<.001}function _e(He,Ue){return Math.abs(He/Ue-1)<.001}$.prepTicks=function(He,Ue){var Ot=S.simpleMap(He.range,He.r2l,void 0,void 0,Ue);if(He.tickmode==="auto"||!He.dtick){var It=He.nticks,Jt;It||(He.type==="category"||He.type==="multicategory"?(Jt=He.tickfont?S.bigFont(He.tickfont.size||12):15,It=He._length/Jt):(Jt=He._id.charAt(0)==="y"?40:80,It=S.constrain(He._length/Jt,4,9)+1),He._name==="radialaxis"&&(It*=2)),He.minor&&He.minor.tickmode!=="array"||He.tickmode==="array"&&(It*=100),He._roughDTick=Math.abs(Ot[1]-Ot[0])/It,$.autoTicks(He,He._roughDTick),He._minDtick>0&&He.dtick<He._minDtick*2&&(He.dtick=He._minDtick,He.tick0=He.l2r(He._forceTick0))}He.ticklabelmode==="period"&&Fe(He),He.tick0||(He.tick0=He.type==="date"?"2000-01-01":0),He.type==="date"&&He.dtick<.1&&(He.dtick=.1),dt(He)};function De(He){return+He.substring(1)}function Fe(He){var Ue;function Ot(){return!(P(He.dtick)||He.dtick.charAt(0)!=="M")}var It=Ot(),Jt=$.getTickFormat(He);if(Jt){var cr=He._dtickInit!==He.dtick;/%[fLQsSMX]/.test(Jt)||(/%[HI]/.test(Jt)?(Ue=A,cr&&!It&&He.dtick<A&&(He.dtick=A)):/%p/.test(Jt)?(Ue=E,cr&&!It&&He.dtick<E&&(He.dtick=E)):/%[Aadejuwx]/.test(Jt)?(Ue=y,cr&&!It&&He.dtick<y&&(He.dtick=y)):/%[UVW]/.test(Jt)?(Ue=C,cr&&!It&&He.dtick<C&&(He.dtick=C)):/%[Bbm]/.test(Jt)?(Ue=b,cr&&(It?De(He.dtick)<1:He.dtick<w)&&(He.dtick="M1")):/%[q]/.test(Jt)?(Ue=c,cr&&(It?De(He.dtick)<3:He.dtick<i)&&(He.dtick="M3")):/%[Yy]/.test(Jt)&&(Ue=g,cr&&(It?De(He.dtick)<12:He.dtick<h)&&(He.dtick="M12")))}It=Ot(),It&&He.tick0===He._dowTick0&&(He.tick0=He._rawTick0),He._definedDelta=Ue}function Te(He,Ue,Ot){for(var It=0;It<He.length;It++){var Jt=He[It].value,cr=It,vr=It+1;It<He.length-1?(cr=It,vr=It+1):It>0?(cr=It-1,vr=It):(cr=It,vr=It);var tr=He[cr].value,Nt=He[vr].value,sr=Math.abs(Nt-tr),dr=Ot||sr,xr=0;dr>=h?sr>=h&&sr<=l?xr=sr:xr=g:Ot===c&&dr>=i?sr>=i&&sr<=T?xr=sr:xr=c:dr>=w?sr>=w&&sr<=d?xr=sr:xr=b:Ot===C&&dr>=C?xr=C:dr>=y?xr=y:Ot===E&&dr>=E?xr=E:Ot===A&&dr>=A&&(xr=A);var pr;xr>=sr&&(xr=sr,pr=!0);var Hr=Jt+xr;if(Ue.rangebreaks&&xr>0){for(var _r=84,Dr=0,an=0;an<_r;an++){var tn=(an+.5)/_r;Ue.maskBreaks(Jt*(1-tn)+tn*Hr)!==I&&Dr++}xr*=Dr/_r,xr||(He[It].drop=!0),pr&&sr>C&&(xr=sr)}(xr>0||It===0)&&(He[It].periodX=Jt+xr/2)}}$.calcTicks=function(Ue,Ot){for(var It=Ue.type,Jt=Ue.calendar,cr=Ue.ticklabelstep,vr=Ue.ticklabelmode==="period",tr=S.simpleMap(Ue.range,Ue.r2l,void 0,void 0,Ot),Nt=tr[1]<tr[0],sr=Math.min(tr[0],tr[1]),dr=Math.max(tr[0],tr[1]),xr=Math.max(1e3,Ue._length||0),pr=[],Hr=[],_r=[],Dr=[],an=Ue.minor&&(Ue.minor.ticks||Ue.minor.showgrid),tn=1;tn>=(an?0:1);tn--){var Sn=!tn;tn?(Ue._dtickInit=Ue.dtick,Ue._tick0Init=Ue.tick0):(Ue.minor._dtickInit=Ue.minor.dtick,Ue.minor._tick0Init=Ue.minor.tick0);var Tn=tn?Ue:S.extendFlat({},Ue,Ue.minor);if(Sn?$.prepMinorTicks(Tn,Ue,Ot):$.prepTicks(Tn,Ot),Tn.tickmode==="array"){tn?(_r=[],pr=ke(Ue,!Sn)):(Dr=[],Hr=ke(Ue,!Sn));continue}if(Tn.tickmode==="sync"){_r=[],pr=Se(Ue);continue}var Tr=Y(tr),zr=Tr[0],jr=Tr[1],Or=P(Tn.dtick),ln=It==="log"&&!(Or||Tn.dtick.charAt(0)==="L"),fn=$.tickFirst(Tn,Ot);if(tn){if(Ue._tmin=fn,fn<zr!==Nt)break;(It==="category"||It==="multicategory")&&(jr=Nt?Math.max(-.5,jr):Math.min(Ue._categories.length-.5,jr))}var Mn=null,Pn=fn,Hn;if(tn){var ia;Or?ia=Ue.dtick:It==="date"?typeof Ue.dtick=="string"&&Ue.dtick.charAt(0)==="M"&&(ia=b*Ue.dtick.substring(1)):ia=Ue._roughDTick,Hn=Math.round((Ue.r2l(Pn)-Ue.r2l(Ue.tick0))/ia)-1}var ya=Tn.dtick;for(Tn.rangebreaks&&Tn._tick0Init!==Tn.tick0&&(Pn=xt(Pn,Ue),Nt||(Pn=$.tickIncrement(Pn,ya,!Nt,Jt))),tn&&vr&&(Pn=$.tickIncrement(Pn,ya,!Nt,Jt),Hn--);Nt?Pn>=jr:Pn<=jr;Pn=$.tickIncrement(Pn,ya,Nt,Jt)){if(tn&&Hn++,Tn.rangebreaks&&!Nt){if(Pn<zr)continue;if(Tn.maskBreaks(Pn)===I&&xt(Pn,Tn)>=dr)break}if(_r.length>xr||Pn===Mn)break;Mn=Pn;var wa={value:Pn};tn?(ln&&Pn!==(Pn|0)&&(wa.simpleLabel=!0),cr>1&&Hn%cr&&(wa.skipLabel=!0),_r.push(wa)):(wa.minor=!0,Dr.push(wa))}}if(an){var Wn=Ue.minor.ticks==="inside"&&Ue.ticks==="outside"||Ue.minor.ticks==="outside"&&Ue.ticks==="inside";if(!Wn){for(var Qn=_r.map(function(gn){return gn.value}),mr=[],en=0;en<Dr.length;en++){var Jr=Dr[en],vn=Jr.value;if(Qn.indexOf(vn)===-1){for(var On=!1,bn=0;!On&&bn<_r.length;bn++)1e7+_r[bn].value===1e7+vn&&(On=!0);On||mr.push(Jr)}}Dr=mr}}vr&&Te(_r,Ue,Ue._definedDelta);var An;if(Ue.rangebreaks){var Nn=Ue._id.charAt(0)==="y",$n=1;Ue.tickmode==="auto"&&($n=Ue.tickfont?Ue.tickfont.size:12);var ha=NaN;for(An=_r.length-1;An>-1;An--){if(_r[An].drop){_r.splice(An,1);continue}_r[An].value=xt(_r[An].value,Ue);var Ia=Ue.c2p(_r[An].value);(Nn?ha>Ia-$n:ha<Ia+$n)?_r.splice(Nt?An+1:An,1):ha=Ia}}Bt(Ue)&&Math.abs(tr[1]-tr[0])===360&&_r.pop(),Ue._tmax=(_r[_r.length-1]||{}).value,Ue._prevDateHead="",Ue._inCalcTicks=!0;var Mr,Fr=function(gn){gn.text="",Ue._prevDateHead=Mr};_r=_r.concat(Dr);var Ar,Nr;for(An=0;An<_r.length;An++){var mn=_r[An].minor,Rn=_r[An].value;mn?Hr.push({x:Rn,minor:!0}):(Mr=Ue._prevDateHead,Ar=$.tickText(Ue,Rn,!1,_r[An].simpleLabel),Nr=_r[An].periodX,Nr!==void 0&&(Ar.periodX=Nr,(Nr>dr||Nr<sr)&&(Nr>dr&&(Ar.periodX=dr),Nr<sr&&(Ar.periodX=sr),Fr(Ar))),_r[An].skipLabel&&Fr(Ar),pr.push(Ar))}return pr=pr.concat(Hr),Ue._inCalcTicks=!1,vr&&pr.length&&(pr[0].noTick=!0),pr};function Re(He,Ue){return He.rangebreaks&&(Ue=Ue.filter(function(Ot){return He.maskBreaks(Ot.x)!==I})),Ue}function Se(He){var Ue=He._mainAxis,Ot=[];if(Ue._vals){for(var It=0;It<Ue._vals.length;It++)if(!Ue._vals[It].noTick){var Jt=Ue.l2p(Ue._vals[It].x),cr=He.p2l(Jt),vr=$.tickText(He,cr);Ue._vals[It].minor&&(vr.minor=!0,vr.text=""),Ot.push(vr)}}return Ot=Re(He,Ot),Ot}function ke(He,Ue){var Ot=S.simpleMap(He.range,He.r2l),It=Y(Ot),Jt=Math.min(It[0],It[1]),cr=Math.max(It[0],It[1]),vr=He.type==="category"?He.d2l_noadd:He.d2l;He.type==="log"&&String(He.dtick).charAt(0)!=="L"&&(He.dtick="L"+Math.pow(10,Math.floor(Math.min(He.range[0],He.range[1]))-1));for(var tr=[],Nt=0;Nt<=1;Nt++)if(!(Ue!==void 0&&(Ue&&Nt||Ue===!1&&!Nt))&&!(Nt&&!He.minor)){var sr=Nt?He.minor.tickvals:He.tickvals,dr=Nt?[]:He.ticktext;if(sr){S.isArrayOrTypedArray(dr)||(dr=[]);for(var xr=0;xr<sr.length;xr++){var pr=vr(sr[xr]);if(pr>Jt&&pr<cr){var Hr=$.tickText(He,pr,!1,String(dr[xr]));Nt&&(Hr.minor=!0,Hr.text=""),tr.push(Hr)}}}}return tr=Re(He,tr),tr}var Me=[2,5,10],Ve=[1,2,3,6,12],tt=[1,2,5,10,15,30],it=[1,2,3,7,14],Je=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Qe=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function ht(He,Ue,Ot){return Ue*S.roundUp(He/Ue,Ot)}$.autoTicks=function(He,Ue,Ot){var It;function Jt(xr){return Math.pow(xr,Math.floor(Math.log(Ue)/Math.LN10))}if(He.type==="date"){He.tick0=S.dateTick0(He.calendar,0);var cr=2*Ue;if(cr>g)Ue/=g,It=Jt(10),He.dtick="M"+12*ht(Ue,It,Me);else if(cr>b)Ue/=b,He.dtick="M"+ht(Ue,1,Ve);else if(cr>y){if(He.dtick=ht(Ue,y,He._hasDayOfWeekBreaks?[1,2,7,14]:it),!Ot){var vr=$.getTickFormat(He),tr=He.ticklabelmode==="period";tr&&(He._rawTick0=He.tick0),/%[uVW]/.test(vr)?He.tick0=S.dateTick0(He.calendar,2):He.tick0=S.dateTick0(He.calendar,1),tr&&(He._dowTick0=He.tick0)}}else cr>A?He.dtick=ht(Ue,A,Ve):cr>o?He.dtick=ht(Ue,o,tt):cr>M?He.dtick=ht(Ue,M,tt):(It=Jt(10),He.dtick=ht(Ue,It,Me))}else if(He.type==="log"){He.tick0=0;var Nt=S.simpleMap(He.range,He.r2l);if(He._isMinor&&(Ue*=1.5),Ue>.7)He.dtick=Math.ceil(Ue);else if(Math.abs(Nt[1]-Nt[0])<1){var sr=1.5*Math.abs((Nt[1]-Nt[0])/Ue);Ue=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/sr,It=Jt(10),He.dtick="L"+ht(Ue,It,Me)}else He.dtick=Ue>.3?"D2":"D1"}else He.type==="category"||He.type==="multicategory"?(He.tick0=0,He.dtick=Math.ceil(Math.max(Ue,1))):Bt(He)?(He.tick0=0,It=1,He.dtick=ht(Ue,It,ct)):(He.tick0=0,It=Jt(10),He.dtick=ht(Ue,It,Me));if(He.dtick===0&&(He.dtick=1),!P(He.dtick)&&typeof He.dtick!="string"){var dr=He.dtick;throw He.dtick=1,"ax.dtick error: "+String(dr)}};function dt(He){var Ue=He.dtick;if(He._tickexponent=0,!P(Ue)&&typeof Ue!="string"&&(Ue=1),(He.type==="category"||He.type==="multicategory")&&(He._tickround=null),He.type==="date"){var Ot=He.r2l(He.tick0),It=He.l2r(Ot).replace(/(^-|i)/g,""),Jt=It.length;if(String(Ue).charAt(0)==="M")Jt>10||It.substr(5)!=="01-01"?He._tickround="d":He._tickround=+Ue.substr(1)%12===0?"y":"m";else if(Ue>=y&&Jt<=10||Ue>=y*15)He._tickround="d";else if(Ue>=o&&Jt<=16||Ue>=A)He._tickround="M";else if(Ue>=M&&Jt<=19||Ue>=o)He._tickround="S";else{var cr=He.l2r(Ot+Ue).replace(/^-/,"").length;He._tickround=Math.max(Jt,cr)-20,He._tickround<0&&(He._tickround=4)}}else if(P(Ue)||Ue.charAt(0)==="L"){var vr=He.range.map(He.r2d||Number);P(Ue)||(Ue=Number(Ue.substr(1))),He._tickround=2-Math.floor(Math.log(Ue)/Math.LN10+.01);var tr=Math.max(Math.abs(vr[0]),Math.abs(vr[1])),Nt=Math.floor(Math.log(tr)/Math.LN10+.01),sr=He.minexponent===void 0?3:He.minexponent;Math.abs(Nt)>sr&&(Ye(He.exponentformat)&&!Ce(Nt)?He._tickexponent=3*Math.round((Nt-1)/3):He._tickexponent=Nt)}else He._tickround=null}$.tickIncrement=function(He,Ue,Ot,It){var Jt=Ot?-1:1;if(P(Ue))return S.increment(He,Jt*Ue);var cr=Ue.charAt(0),vr=Jt*Number(Ue.substr(1));if(cr==="M")return S.incrementMonth(He,vr,It);if(cr==="L")return Math.log(Math.pow(10,He)+vr)/Math.LN10;if(cr==="D"){var tr=Ue==="D2"?Qe:Je,Nt=He+Jt*.01,sr=S.roundUp(S.mod(Nt,1),tr,Ot);return Math.floor(Nt)+Math.log(m.round(Math.pow(10,sr),1))/Math.LN10}throw"unrecognized dtick "+String(Ue)},$.tickFirst=function(He,Ue){var Ot=He.r2l||Number,It=S.simpleMap(He.range,Ot,void 0,void 0,Ue),Jt=It[1]<It[0],cr=Jt?Math.floor:Math.ceil,vr=Y(It)[0],tr=He.dtick,Nt=Ot(He.tick0);if(P(tr)){var sr=cr((vr-Nt)/tr)*tr+Nt;return(He.type==="category"||He.type==="multicategory")&&(sr=S.constrain(sr,0,He._categories.length-1)),sr}var dr=tr.charAt(0),xr=Number(tr.substr(1));if(dr==="M"){for(var pr=0,Hr=Nt,_r,Dr,an;pr<10;){if(_r=$.tickIncrement(Hr,tr,Jt,He.calendar),(_r-vr)*(Hr-vr)<=0)return Jt?Math.min(Hr,_r):Math.max(Hr,_r);Dr=(vr-(Hr+_r)/2)/(_r-Hr),an=dr+(Math.abs(Math.round(Dr))||1)*xr,Hr=$.tickIncrement(Hr,an,Dr<0?!Jt:Jt,He.calendar),pr++}return S.error("tickFirst did not converge",He),Hr}else{if(dr==="L")return Math.log(cr((Math.pow(10,vr)-Nt)/xr)*xr+Nt)/Math.LN10;if(dr==="D"){var tn=tr==="D2"?Qe:Je,Sn=S.roundUp(S.mod(vr,1),tn,Jt);return Math.floor(vr)+Math.log(m.round(Math.pow(10,Sn),1))/Math.LN10}else throw"unrecognized dtick "+String(tr)}},$.tickText=function(He,Ue,Ot,It){var Jt=Tt(He,Ue),cr=He.tickmode==="array",vr=Ot||cr,tr=He.type,Nt=tr==="category"?He.d2l_noadd:He.d2l,sr,dr=function(an){var tn=He.l2p(an);return tn>=0&&tn<=He._length?an:null};if(cr&&S.isArrayOrTypedArray(He.ticktext)){var xr=S.simpleMap(He.range,He.r2l),pr=(Math.abs(xr[1]-xr[0])-(He._lBreaks||0))/1e4;for(sr=0;sr<He.ticktext.length&&!(Math.abs(Ue-Nt(He.tickvals[sr]))<pr);sr++);if(sr<He.ticktext.length)return Jt.text=String(He.ticktext[sr]),Jt.xbnd=[dr(Jt.x-.5),dr(Jt.x+He.dtick-.5)],Jt}function Hr(an){if(an===void 0)return!0;if(Ot)return an==="none";var tn={first:He._tmin,last:He._tmax}[an];return an!=="all"&&Ue!==tn}var _r=Ot?"never":He.exponentformat!=="none"&&Hr(He.showexponent)?"hide":"";if(tr==="date"?Et(He,Jt,Ot,vr):tr==="log"?rt(He,Jt,Ot,vr,_r):tr==="category"?ze(He,Jt):tr==="multicategory"?Ge(He,Jt,Ot):Bt(He)?We(He,Jt,Ot,vr,_r):je(He,Jt,Ot,vr,_r),It||(He.tickprefix&&!Hr(He.showtickprefix)&&(Jt.text=He.tickprefix+Jt.text),He.ticksuffix&&!Hr(He.showticksuffix)&&(Jt.text+=He.ticksuffix)),He.labelalias&&He.labelalias.hasOwnProperty(Jt.text)){var Dr=He.labelalias[Jt.text];typeof Dr=="string"&&(Jt.text=Dr)}return(He.tickson==="boundaries"||He.showdividers)&&(Jt.xbnd=[dr(Jt.x-.5),dr(Jt.x+He.dtick-.5)]),Jt},$.hoverLabelText=function(He,Ue,Ot){Ot&&(He=S.extendFlat({},He,{hoverformat:Ot}));var It=S.isArrayOrTypedArray(Ue)?Ue[0]:Ue,Jt=S.isArrayOrTypedArray(Ue)?Ue[1]:void 0;if(Jt!==void 0&&Jt!==It)return $.hoverLabelText(He,It,Ot)+" - "+$.hoverLabelText(He,Jt,Ot);var cr=He.type==="log"&&It<=0,vr=$.tickText(He,He.c2l(cr?-It:It),"hover").text;return cr?It===0?"0":x+vr:vr};function Tt(He,Ue,Ot){var It=He.tickfont||{};return{x:Ue,dx:0,dy:0,text:Ot||"",fontSize:It.size,font:It.family,fontWeight:It.weight,fontStyle:It.style,fontVariant:It.variant,fontTextcase:It.textcase,fontLineposition:It.lineposition,fontShadow:It.shadow,fontColor:It.color}}function Et(He,Ue,Ot,It){var Jt=He._tickround,cr=Ot&&He.hoverformat||$.getTickFormat(He);It=!cr&&It,It&&(P(Jt)?Jt=4:Jt={y:"m",m:"d",d:"M",M:"S",S:4}[Jt]);var vr=S.formatDate(Ue.x,cr,Jt,He._dateFormat,He.calendar,He._extraFormat),tr,Nt=vr.indexOf(`
`);if(Nt!==-1&&(tr=vr.substr(Nt+1),vr=vr.substr(0,Nt)),It&&(tr!==void 0&&(vr==="00:00:00"||vr==="00:00")?(vr=tr,tr=""):vr.length===8&&(vr=vr.replace(/:00$/,""))),tr)if(Ot)Jt==="d"?vr+=", "+tr:vr=tr+(vr?", "+vr:"");else if(!He._inCalcTicks||He._prevDateHead!==tr)He._prevDateHead=tr,vr+="<br>"+tr;else{var sr=Ut(He),dr=He._trueSide||He.side;(!sr&&dr==="top"||sr&&dr==="bottom")&&(vr+="<br> ")}Ue.text=vr}function rt(He,Ue,Ot,It,Jt){var cr=He.dtick,vr=Ue.x,tr=He.tickformat,Nt=typeof cr=="string"&&cr.charAt(0);if(Jt==="never"&&(Jt=""),It&&Nt!=="L"&&(cr="L3",Nt="L"),tr||Nt==="L")Ue.text=he(Math.pow(10,vr),He,Jt,It);else if(P(cr)||Nt==="D"&&S.mod(vr+.01,1)<.1){var sr=Math.round(vr),dr=Math.abs(sr),xr=He.exponentformat;xr==="power"||Ye(xr)&&Ce(sr)?(sr===0?Ue.text=1:sr===1?Ue.text="10":Ue.text="10<sup>"+(sr>1?"":x)+dr+"</sup>",Ue.fontSize*=1.25):(xr==="e"||xr==="E")&&dr>2?Ue.text="1"+xr+(sr>0?"+":x)+dr:(Ue.text=he(Math.pow(10,vr),He,"","fakehover"),cr==="D1"&&He._id.charAt(0)==="y"&&(Ue.dy-=Ue.fontSize/6))}else if(Nt==="D")Ue.text=String(Math.round(Math.pow(10,S.mod(vr,1)))),Ue.fontSize*=.75;else throw"unrecognized dtick "+String(cr);if(He.dtick==="D1"){var pr=String(Ue.text).charAt(0);(pr==="0"||pr==="1")&&(He._id.charAt(0)==="y"?Ue.dx-=Ue.fontSize/4:(Ue.dy+=Ue.fontSize/2,Ue.dx+=(He.range[1]>He.range[0]?1:-1)*Ue.fontSize*(vr<0?.5:.25)))}}function ze(He,Ue){var Ot=He._categories[Math.round(Ue.x)];Ot===void 0&&(Ot=""),Ue.text=String(Ot)}function Ge(He,Ue,Ot){var It=Math.round(Ue.x),Jt=He._categories[It]||[],cr=Jt[1]===void 0?"":String(Jt[1]),vr=Jt[0]===void 0?"":String(Jt[0]);Ot?Ue.text=vr+" - "+cr:(Ue.text=cr,Ue.text2=vr)}function je(He,Ue,Ot,It,Jt){Jt==="never"?Jt="":He.showexponent==="all"&&Math.abs(Ue.x/He.dtick)<1e-6&&(Jt="hide"),Ue.text=he(Ue.x,He,Jt,It)}function We(He,Ue,Ot,It,Jt){if(He.thetaunit==="radians"&&!Ot){var cr=Ue.x/180;if(cr===0)Ue.text="0";else{var vr=Le(cr);if(vr[1]>=100)Ue.text=he(S.deg2rad(Ue.x),He,Jt,It);else{var tr=Ue.x<0;vr[1]===1?vr[0]===1?Ue.text="π":Ue.text=vr[0]+"π":Ue.text=["<sup>",vr[0],"</sup>","⁄","<sub>",vr[1],"</sub>","π"].join(""),tr&&(Ue.text=x+Ue.text)}}}else Ue.text=he(Ue.x,He,Jt,It)}function Le(He){function Ue(tr,Nt){return Math.abs(tr-Nt)<=1e-6}function Ot(tr,Nt){return Ue(Nt,0)?tr:Ot(Nt,tr%Nt)}function It(tr){for(var Nt=1;!Ue(Math.round(tr*Nt)/Nt,tr);)Nt*=10;return Nt}var Jt=It(He),cr=He*Jt,vr=Math.abs(Ot(cr,Jt));return[Math.round(cr/vr),Math.round(Jt/vr)]}var Pe=["f","p","n","μ","m","","k","M","G","T"];function Ye(He){return He==="SI"||He==="B"}function Ce(He){return He>14||He<-15}function he(He,Ue,Ot,It){var Jt=He<0,cr=Ue._tickround,vr=Ot||Ue.exponentformat||"B",tr=Ue._tickexponent,Nt=$.getTickFormat(Ue),sr=Ue.separatethousands;if(It){var dr={exponentformat:vr,minexponent:Ue.minexponent,dtick:Ue.showexponent==="none"?Ue.dtick:P(He)&&Math.abs(He)||1,range:Ue.showexponent==="none"?Ue.range.map(Ue.r2d):[0,He||1]};dt(dr),cr=(Number(dr._tickround)||0)+4,tr=dr._tickexponent,Ue.hoverformat&&(Nt=Ue.hoverformat)}if(Nt)return Ue._numFormat(Nt)(He).replace(/-/g,x);var xr=Math.pow(10,-cr)/2;if(vr==="none"&&(tr=0),He=Math.abs(He),He<xr)He="0",Jt=!1;else{if(He+=xr,tr&&(He*=Math.pow(10,-tr),cr+=tr),cr===0)He=String(Math.floor(He));else if(cr<0){He=String(Math.round(He)),He=He.substr(0,He.length+cr);for(var pr=cr;pr<0;pr++)He+="0"}else{He=String(He);var Hr=He.indexOf(".")+1;Hr&&(He=He.substr(0,Hr+cr).replace(/\.?0+$/,""))}He=S.numSeparate(He,Ue._separators,sr)}if(tr&&vr!=="hide"){Ye(vr)&&Ce(tr)&&(vr="power");var _r;tr<0?_r=x+-tr:vr!=="power"?_r="+"+tr:_r=String(tr),vr==="e"||vr==="E"?He+=vr+_r:vr==="power"?He+="×10<sup>"+_r+"</sup>":vr==="B"&&tr===9?He+="B":Ye(vr)&&(He+=Pe[tr/3+5])}return Jt?x+He:He}$.getTickFormat=function(He){var Ue;function Ot(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*b}function It(Nt,sr){var dr=["L","D"];if(typeof Nt==typeof sr){if(typeof Nt=="number")return Nt-sr;var xr=dr.indexOf(Nt.charAt(0)),pr=dr.indexOf(sr.charAt(0));return xr===pr?Number(Nt.replace(/(L|D)/g,""))-Number(sr.replace(/(L|D)/g,"")):xr-pr}else return typeof Nt=="number"?1:-1}function Jt(Nt,sr,dr){var xr=dr||function(_r){return _r},pr=sr[0],Hr=sr[1];return(!pr&&typeof pr!="number"||xr(pr)<=xr(Nt))&&(!Hr&&typeof Hr!="number"||xr(Hr)>=xr(Nt))}function cr(Nt,sr){var dr=sr[0]===null,xr=sr[1]===null,pr=It(Nt,sr[0])>=0,Hr=It(Nt,sr[1])<=0;return(dr||pr)&&(xr||Hr)}var vr,tr;if(He.tickformatstops&&He.tickformatstops.length>0)switch(He.type){case"date":case"linear":{for(Ue=0;Ue<He.tickformatstops.length;Ue++)if(tr=He.tickformatstops[Ue],tr.enabled&&Jt(He.dtick,tr.dtickrange,Ot)){vr=tr;break}break}case"log":{for(Ue=0;Ue<He.tickformatstops.length;Ue++)if(tr=He.tickformatstops[Ue],tr.enabled&&cr(He.dtick,tr.dtickrange)){vr=tr;break}break}}return vr?vr.value:He.tickformat},$.getSubplots=function(He,Ue){var Ot=He._fullLayout._subplots,It=Ot.cartesian.concat(Ot.gl2d||[]),Jt=Ue?$.findSubplotsWithAxis(It,Ue):It;return Jt.sort(function(cr,vr){var tr=cr.substr(1).split("y"),Nt=vr.substr(1).split("y");return tr[0]===Nt[0]?+tr[1]-+Nt[1]:+tr[0]-+Nt[0]}),Jt},$.findSubplotsWithAxis=function(He,Ue){for(var Ot=new RegExp(Ue._id.charAt(0)==="x"?"^"+Ue._id+"y":Ue._id+"$"),It=[],Jt=0;Jt<He.length;Jt++){var cr=He[Jt];Ot.test(cr)&&It.push(cr)}return It},$.makeClipPaths=function(He){var Ue=He._fullLayout;if(!Ue._hasOnlyLargeSploms){var Ot={_offset:0,_length:Ue.width,_id:""},It={_offset:0,_length:Ue.height,_id:""},Jt=$.list(He,"x",!0),cr=$.list(He,"y",!0),vr=[],tr,Nt;for(tr=0;tr<Jt.length;tr++)for(vr.push({x:Jt[tr],y:It}),Nt=0;Nt<cr.length;Nt++)tr===0&&vr.push({x:Ot,y:cr[Nt]}),vr.push({x:Jt[tr],y:cr[Nt]});var sr=Ue._clips.selectAll(".axesclip").data(vr,function(dr){return dr.x._id+dr.y._id});sr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(dr){return"clip"+Ue._uid+dr.x._id+dr.y._id}).append("rect"),sr.exit().remove(),sr.each(function(dr){m.select(this).select("rect").attr({x:dr.x._offset||0,y:dr.y._offset||0,width:dr.x._length||1,height:dr.y._length||1})})}},$.draw=function(He,Ue,Ot){var It=He._fullLayout;Ue==="redraw"&&It._paper.selectAll("g.subplot").each(function(Nt){var sr=Nt[0],dr=It._plots[sr];if(dr){var xr=dr.xaxis,pr=dr.yaxis;dr.xaxislayer.selectAll("."+xr._id+"tick").remove(),dr.yaxislayer.selectAll("."+pr._id+"tick").remove(),dr.xaxislayer.selectAll("."+xr._id+"tick2").remove(),dr.yaxislayer.selectAll("."+pr._id+"tick2").remove(),dr.xaxislayer.selectAll("."+xr._id+"divider").remove(),dr.yaxislayer.selectAll("."+pr._id+"divider").remove(),dr.minorGridlayer&&dr.minorGridlayer.selectAll("path").remove(),dr.gridlayer&&dr.gridlayer.selectAll("path").remove(),dr.zerolinelayer&&dr.zerolinelayer.selectAll("path").remove(),It._infolayer.select(".g-"+xr._id+"title").remove(),It._infolayer.select(".g-"+pr._id+"title").remove()}});var Jt=!Ue||Ue==="redraw"?$.listIds(He):Ue,cr=$.list(He),vr=cr.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Jt.map(function(Nt){var sr=$.getFromId(He,Nt);if(sr.tickmode==="sync"&&sr.overlaying){var dr=Jt.findIndex(function(xr){return xr===sr.overlaying});dr>=0&&Jt.unshift(Jt.splice(dr,1).shift())}});var tr={false:{left:0,right:0}};return S.syncOrAsync(Jt.map(function(Nt){return function(){if(Nt){var sr=$.getFromId(He,Nt);Ot||(Ot={}),Ot.axShifts=tr,Ot.overlayingShiftedAx=vr;var dr=$.drawOne(He,sr,Ot);return sr._shiftPusher&&or(sr,sr._fullDepth||0,tr,!0),sr._r=sr.range.slice(),sr._rl=S.simpleMap(sr._r,sr.r2l),dr}}}))},$.drawOne=function(He,Ue,Ot){Ot=Ot||{};var It=Ot.axShifts||{},Jt=Ot.overlayingShiftedAx||[],cr,vr,tr;Ue.setScale();var Nt=He._fullLayout,sr=Ue._id,dr=sr.charAt(0),xr=$.counterLetter(sr),pr=Nt._plots[Ue._mainSubplot];if(!pr)return;if(Ue._shiftPusher=Ue.autoshift||Jt.indexOf(Ue._id)!==-1||Jt.indexOf(Ue.overlaying)!==-1,Ue._shiftPusher&Ue.anchor==="free"){var Hr=Ue.linewidth/2||0;Ue.ticks==="inside"&&(Hr+=Ue.ticklen),or(Ue,Hr,It,!0),or(Ue,Ue.shift||0,It,!1)}(Ot.skipTitle!==!0||Ue._shift===void 0)&&(Ue._shift=rr(Ue,It));var _r=pr[dr+"axislayer"],Dr=Ue._mainLinePosition,an=Dr+=Ue._shift,tn=Ue._mainMirrorPosition,Sn=Ue._vals=$.calcTicks(Ue),Tn=[Ue.mirror,an,tn].join("_");for(cr=0;cr<Sn.length;cr++)Sn[cr].axInfo=Tn;Ue._selections={},Ue._tickAngles&&(Ue._prevTickAngles=Ue._tickAngles),Ue._tickAngles={},Ue._depth=null;var Tr={};function zr(Gr){var qr=sr+(Gr||"tick");return Tr[qr]||(Tr[qr]=st(Ue,qr,an)),Tr[qr]}if(Ue.visible){var jr=$.makeTransTickFn(Ue),Or=$.makeTransTickLabelFn(Ue),ln,fn,Mn=Ue.ticks==="inside",Pn=Ue.ticks==="outside";if(Ue.tickson==="boundaries"){var Hn=Ne(Ue,Sn);fn=$.clipEnds(Ue,Hn),ln=Mn?fn:Hn}else fn=$.clipEnds(Ue,Sn),ln=Mn&&Ue.ticklabelmode!=="period"?fn:Sn;var ia=Ue._gridVals=fn,ya=ot(Ue,Sn);if(!Nt._hasOnlyLargeSploms){var wa=Ue._subplotsWith,Wn={};for(cr=0;cr<wa.length;cr++){vr=wa[cr],tr=Nt._plots[vr];var Qn=tr[xr+"axis"],mr=Qn._mainAxis._id;if(!Wn[mr]){Wn[mr]=1;var en=dr==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;$.drawGrid(He,Ue,{vals:ia,counterAxis:Qn,layer:tr.gridlayer.select("."+sr),minorLayer:tr.minorGridlayer.select("."+sr),path:en,transFn:jr}),$.drawZeroLine(He,Ue,{counterAxis:Qn,layer:tr.zerolinelayer,path:en,transFn:jr})}}}var Jr,vn=$.getTickSigns(Ue),On=$.getTickSigns(Ue,"minor");if(Ue.ticks||Ue.minor&&Ue.minor.ticks){var bn=$.makeTickPath(Ue,an,vn[2]),An=$.makeTickPath(Ue,an,On[2],{minor:!0}),Nn,$n,ha,Ia;if(Ue._anchorAxis&&Ue.mirror&&Ue.mirror!==!0?(Nn=$.makeTickPath(Ue,tn,vn[3]),$n=$.makeTickPath(Ue,tn,On[3],{minor:!0}),ha=bn+Nn,Ia=An+$n):(Nn="",$n="",ha=bn,Ia=An),Ue.showdividers&&Pn&&Ue.tickson==="boundaries"){var Mr={};for(cr=0;cr<ya.length;cr++)Mr[ya[cr].x]=1;Jr=function(Gr){return Mr[Gr.x]?Nn:ha}}else Jr=function(Gr){return Gr.minor?Ia:ha}}if($.drawTicks(He,Ue,{vals:ln,layer:_r,path:Jr,transFn:jr}),Ue.mirror==="allticks"){var Fr=Object.keys(Ue._linepositions||{});for(cr=0;cr<Fr.length;cr++){vr=Fr[cr],tr=Nt._plots[vr];var Ar=Ue._linepositions[vr]||[],Nr=Ar[0],mn=Ar[1],Rn=Ar[2],gn=$.makeTickPath(Ue,Nr,Rn?vn[0]:On[0],{minor:Rn})+$.makeTickPath(Ue,mn,Rn?vn[1]:On[1],{minor:Rn});$.drawTicks(He,Ue,{vals:ln,layer:tr[dr+"axislayer"],path:gn,transFn:jr})}}var un=[];if(un.push(function(){return $.drawLabels(He,Ue,{vals:Sn,layer:_r,plotinfo:tr,transFn:Or,labelFns:$.makeLabelFns(Ue,an)})}),Ue.type==="multicategory"){var Cr={x:2,y:10}[dr];un.push(function(){var Gr={x:"height",y:"width"}[dr],qr=zr()[Gr]+Cr+(Ue._tickAngles[sr+"tick"]?Ue.tickfont.size*re:0);return $.drawLabels(He,Ue,{vals:$e(Ue,Sn),layer:_r,cls:sr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:jr,labelFns:$.makeLabelFns(Ue,an+qr*vn[4])})}),un.push(function(){return Ue._depth=vn[4]*(zr("tick2")[Ue.side]-an),Rt(He,Ue,{vals:ya,layer:_r,path:$.makeTickPath(Ue,an,vn[4],{len:Ue._depth}),transFn:jr})})}else Ue.title.hasOwnProperty("standoff")&&un.push(function(){Ue._depth=vn[4]*(zr()[Ue.side]-an)});var Zr=L.getComponentMethod("rangeslider","isVisible")(Ue);return!Ot.skipTitle&&!(Zr&&Ue.side==="bottom")&&un.push(function(){return ir(He,Ue)}),un.push(function(){var Gr=Ue.side.charAt(0),qr=ne[Ue.side].charAt(0),wn=$.getPxPosition(He,Ue),zn=Pn?Ue.ticklen:0,En,Vn,Bn,va;(Ue.automargin||Zr||Ue._shiftPusher)&&(Ue.type==="multicategory"?En=zr("tick2"):(En=zr(),dr==="x"&&Gr==="b"&&(Ue._depth=Math.max(En.width>0?En.bottom-wn:0,zn))));var sa=0,ga=0;if(Ue._shiftPusher&&(sa=Math.max(zn,En.height>0?Gr==="l"?wn-En.left:En.right-wn:0),Ue.title.text!==Nt._dfltTitle[dr]&&(ga=(Ue._titleStandoff||0)+(Ue._titleScoot||0),Gr==="l"&&(ga+=Xt(Ue))),Ue._fullDepth=Math.max(sa,ga)),Ue.automargin){Vn={x:0,y:0,r:0,l:0,t:0,b:0};var _a=[0,1],gi=typeof Ue._shift=="number"?Ue._shift:0;if(dr==="x"){if(Gr==="b"?Vn[Gr]=Ue._depth:(Vn[Gr]=Ue._depth=Math.max(En.width>0?wn-En.top:0,zn),_a.reverse()),En.width>0){var ai=En.right-(Ue._offset+Ue._length);ai>0&&(Vn.xr=1,Vn.r=ai);var ko=Ue._offset-En.left;ko>0&&(Vn.xl=0,Vn.l=ko)}}else if(Gr==="l"?(Ue._depth=Math.max(En.height>0?wn-En.left:0,zn),Vn[Gr]=Ue._depth-gi):(Ue._depth=Math.max(En.height>0?En.right-wn:0,zn),Vn[Gr]=Ue._depth+gi,_a.reverse()),En.height>0){var Co=En.bottom-(Ue._offset+Ue._length);Co>0&&(Vn.yb=0,Vn.b=Co);var to=Ue._offset-En.top;to>0&&(Vn.yt=1,Vn.t=to)}Vn[xr]=Ue.anchor==="free"?Ue.position:Ue._anchorAxis.domain[_a[0]],Ue.title.text!==Nt._dfltTitle[dr]&&(Vn[Gr]+=Xt(Ue)+(Ue.title.standoff||0)),Ue.mirror&&Ue.anchor!=="free"&&(Bn={x:0,y:0,r:0,l:0,t:0,b:0},Bn[qr]=Ue.linewidth,Ue.mirror&&Ue.mirror!==!0&&(Bn[qr]+=zn),Ue.mirror===!0||Ue.mirror==="ticks"?Bn[xr]=Ue._anchorAxis.domain[_a[1]]:(Ue.mirror==="all"||Ue.mirror==="allticks")&&(Bn[xr]=[Ue._counterDomainMin,Ue._counterDomainMax][_a[1]]))}Zr&&(va=L.getComponentMethod("rangeslider","autoMarginOpts")(He,Ue)),typeof Ue.automargin=="string"&&(me(Vn,Ue.automargin),me(Bn,Ue.automargin)),s.autoMargin(He,ur(Ue),Vn),s.autoMargin(He,mt(Ue),Bn),s.autoMargin(He,lt(Ue),va)}),S.syncOrAsync(un)}};function me(He,Ue){if(He){var Ot=Object.keys(z).reduce(function(It,Jt){return Ue.indexOf(Jt)!==-1&&z[Jt].forEach(function(cr){It[cr]=1}),It},{});Object.keys(He).forEach(function(It){Ot[It]||(It.length===1?He[It]=0:delete He[It])})}}function Ne(He,Ue){var Ot=[],It,Jt=function(cr,vr){var tr=cr.xbnd[vr];tr!==null&&Ot.push(S.extendFlat({},cr,{x:tr}))};if(Ue.length){for(It=0;It<Ue.length;It++)Jt(Ue[It],0);Jt(Ue[It-1],1)}return Ot}function $e(He,Ue){for(var Ot=[],It={},Jt=0;Jt<Ue.length;Jt++){var cr=Ue[Jt];It[cr.text2]?It[cr.text2].push(cr.x):It[cr.text2]=[cr.x]}for(var vr in It)Ot.push(Tt(He,S.interp(It[vr],.5),vr));return Ot}function ot(He,Ue){var Ot=[],It,Jt,cr=Ue.length&&Ue[Ue.length-1].x<Ue[0].x,vr=function(Nt,sr){var dr=Nt.xbnd[sr];dr!==null&&Ot.push(S.extendFlat({},Nt,{x:dr}))};if(He.showdividers&&Ue.length){for(It=0;It<Ue.length;It++){var tr=Ue[It];tr.text2!==Jt&&vr(tr,cr?1:0),Jt=tr.text2}vr(Ue[It-1],cr?0:1)}return Ot}function st(He,Ue,Ot){var It,Jt,cr,vr;if(He._selections[Ue].size())It=1/0,Jt=-1/0,cr=1/0,vr=-1/0,He._selections[Ue].each(function(){var Nt=yr(this),sr=a.bBox(Nt.node().parentNode);It=Math.min(It,sr.top),Jt=Math.max(Jt,sr.bottom),cr=Math.min(cr,sr.left),vr=Math.max(vr,sr.right)});else{var tr=$.makeLabelFns(He,Ot);It=Jt=tr.yFn({dx:0,dy:0,fontSize:0}),cr=vr=tr.xFn({dx:0,dy:0,fontSize:0})}return{top:It,bottom:Jt,left:cr,right:vr,height:Jt-It,width:vr-cr}}$.getTickSigns=function(He,Ue){var Ot=He._id.charAt(0),It={x:"top",y:"right"}[Ot],Jt=He.side===It?1:-1,cr=[-1,1,Jt,-Jt],vr=Ue?(He.minor||{}).ticks:He.ticks;return vr!=="inside"==(Ot==="x")&&(cr=cr.map(function(tr){return-tr})),He.side&&cr.push({l:-1,t:-1,r:1,b:1}[He.side.charAt(0)]),cr},$.makeTransTickFn=function(He){return He._id.charAt(0)==="x"?function(Ue){return v(He._offset+He.l2p(Ue.x),0)}:function(Ue){return v(0,He._offset+He.l2p(Ue.x))}},$.makeTransTickLabelFn=function(He){var Ue=Zt(He),Ot=Ue[0],It=Ue[1];return He._id.charAt(0)==="x"?function(Jt){return v(Ot+He._offset+He.l2p(Wt(Jt)),It)}:function(Jt){return v(It,Ot+He._offset+He.l2p(Wt(Jt)))}};function Wt(He){return He.periodX!==void 0?He.periodX:He.x}function Zt(He){var Ue=He.ticklabelposition||"",Ot=function(Hr){return Ue.indexOf(Hr)!==-1},It=Ot("top"),Jt=Ot("left"),cr=Ot("right"),vr=Ot("bottom"),tr=Ot("inside"),Nt=vr||Jt||It||cr;if(!Nt&&!tr)return[0,0];var sr=He.side,dr=Nt?(He.tickwidth||0)/2:0,xr=le,pr=He.tickfont?He.tickfont.size:12;return(vr||It)&&(dr+=pr*J,xr+=(He.linewidth||0)/2),(Jt||cr)&&(dr+=(He.linewidth||0)/2,xr+=le),tr&&sr==="top"&&(xr-=pr*(1-J)),(Jt||It)&&(dr=-dr),(sr==="bottom"||sr==="right")&&(xr=-xr),[Nt?dr:0,tr?xr:0]}$.makeTickPath=function(He,Ue,Ot,It){It||(It={});var Jt=It.minor;if(Jt&&!He.minor)return"";var cr=It.len!==void 0?It.len:Jt?He.minor.ticklen:He.ticklen,vr=He._id.charAt(0),tr=(He.linewidth||1)/2;return vr==="x"?"M0,"+(Ue+tr*Ot)+"v"+cr*Ot:"M"+(Ue+tr*Ot)+",0h"+cr*Ot},$.makeLabelFns=function(He,Ue,Ot){var It=He.ticklabelposition||"",Jt=function(Hn){return It.indexOf(Hn)!==-1},cr=Jt("top"),vr=Jt("left"),tr=Jt("right"),Nt=Jt("bottom"),sr=Nt||vr||cr||tr,dr=Jt("inside"),xr=It==="inside"&&He.ticks==="inside"||!dr&&He.ticks==="outside"&&He.tickson!=="boundaries",pr=0,Hr=0,_r=xr?He.ticklen:0;if(dr?_r*=-1:sr&&(_r=0),xr&&(pr+=_r,Ot)){var Dr=S.deg2rad(Ot);pr=_r*Math.cos(Dr)+1,Hr=_r*Math.sin(Dr)}He.showticklabels&&(xr||He.showline)&&(pr+=.2*He.tickfont.size),pr+=(He.linewidth||1)/2*(dr?-1:1);var an={labelStandoff:pr,labelShift:Hr},tn,Sn,Tn,Tr,zr=0,jr=He.side,Or=He._id.charAt(0),ln=He.tickangle,fn;if(Or==="x")fn=!dr&&jr==="bottom"||dr&&jr==="top",Tr=fn?1:-1,dr&&(Tr*=-1),tn=Hr*Tr,Sn=Ue+pr*Tr,Tn=fn?1:-.2,Math.abs(ln)===90&&(dr?Tn+=W:ln===-90&&jr==="bottom"?Tn=J:ln===90&&jr==="top"?Tn=W:Tn=.5,zr=W/2*(ln/90)),an.xFn=function(Hn){return Hn.dx+tn+zr*Hn.fontSize},an.yFn=function(Hn){return Hn.dy+Sn+Hn.fontSize*Tn},an.anchorFn=function(Hn,ia){if(sr){if(vr)return"end";if(tr)return"start"}return!P(ia)||ia===0||ia===180?"middle":ia*Tr<0!==dr?"end":"start"},an.heightFn=function(Hn,ia,ya){return ia<-60||ia>60?-.5*ya:He.side==="top"!==dr?-ya:0};else if(Or==="y"){if(fn=!dr&&jr==="left"||dr&&jr==="right",Tr=fn?1:-1,dr&&(Tr*=-1),tn=pr,Sn=Hr*Tr,Tn=0,!dr&&Math.abs(ln)===90&&(ln===-90&&jr==="left"||ln===90&&jr==="right"?Tn=J:Tn=.5),dr){var Mn=P(ln)?+ln:0;if(Mn!==0){var Pn=S.deg2rad(Mn);zr=Math.abs(Math.sin(Pn))*J*Tr,Tn=0}}an.xFn=function(Hn){return Hn.dx+Ue-(tn+Hn.fontSize*Tn)*Tr+zr*Hn.fontSize},an.yFn=function(Hn){return Hn.dy+Sn+Hn.fontSize*W},an.anchorFn=function(Hn,ia){return P(ia)&&Math.abs(ia)===90?"middle":fn?"end":"start"},an.heightFn=function(Hn,ia,ya){return He.side==="right"&&(ia*=-1),ia<-30?-ya:ia<30?-.5*ya:0}}return an};function At(He){return[He.text,He.x,He.axInfo,He.font,He.fontSize,He.fontColor].join("_")}$.drawTicks=function(He,Ue,Ot){Ot=Ot||{};var It=Ue._id+"tick",Jt=[].concat(Ue.minor&&Ue.minor.ticks?Ot.vals.filter(function(vr){return vr.minor&&!vr.noTick}):[]).concat(Ue.ticks?Ot.vals.filter(function(vr){return!vr.minor&&!vr.noTick}):[]),cr=Ot.layer.selectAll("path."+It).data(Jt,At);cr.exit().remove(),cr.enter().append("path").classed(It,1).classed("ticks",1).classed("crisp",Ot.crisp!==!1).each(function(vr){return t.stroke(m.select(this),vr.minor?Ue.minor.tickcolor:Ue.tickcolor)}).style("stroke-width",function(vr){return a.crispRound(He,vr.minor?Ue.minor.tickwidth:Ue.tickwidth,1)+"px"}).attr("d",Ot.path).style("display",null),qt(Ue,[O]),cr.attr("transform",Ot.transFn)},$.drawGrid=function(He,Ue,Ot){if(Ot=Ot||{},Ue.tickmode!=="sync"){var It=Ue._id+"grid",Jt=Ue.minor&&Ue.minor.showgrid,cr=Jt?Ot.vals.filter(function(tn){return tn.minor}):[],vr=Ue.showgrid?Ot.vals.filter(function(tn){return!tn.minor}):[],tr=Ot.counterAxis;if(tr&&$.shouldShowZeroLine(He,Ue,tr))for(var Nt=Ue.tickmode==="array",sr=0;sr<vr.length;sr++){var dr=vr[sr].x;if(Nt?!dr:Math.abs(dr)<Ue.dtick/100)if(vr=vr.slice(0,sr).concat(vr.slice(sr+1)),Nt)sr--;else break}Ue._gw=a.crispRound(He,Ue.gridwidth,1);for(var xr=Jt?a.crispRound(He,Ue.minor.gridwidth,1):0,pr=Ot.layer,Hr=Ot.minorLayer,_r=1;_r>=0;_r--){var Dr=_r?pr:Hr;if(Dr){var an=Dr.selectAll("path."+It).data(_r?vr:cr,At);an.exit().remove(),an.enter().append("path").classed(It,1).classed("crisp",Ot.crisp!==!1),an.attr("transform",Ot.transFn).attr("d",Ot.path).each(function(tn){return t.stroke(m.select(this),tn.minor?Ue.minor.gridcolor:Ue.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return a.dashStyle(tn.minor?Ue.minor.griddash:Ue.griddash,tn.minor?Ue.minor.gridwidth:Ue.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?xr:Ue._gw)+"px"}).style("display",null),typeof Ot.path=="function"&&an.attr("d",Ot.path)}}qt(Ue,[N,k])}},$.drawZeroLine=function(He,Ue,Ot){Ot=Ot||Ot;var It=Ue._id+"zl",Jt=$.shouldShowZeroLine(He,Ue,Ot.counterAxis),cr=Ot.layer.selectAll("path."+It).data(Jt?[{x:0,id:Ue._id}]:[]);cr.exit().remove(),cr.enter().append("path").classed(It,1).classed("zl",1).classed("crisp",Ot.crisp!==!1).each(function(){Ot.layer.selectAll("path").sort(function(vr,tr){return X(vr.id,tr.id)})}),cr.attr("transform",Ot.transFn).attr("d",Ot.path).call(t.stroke,Ue.zerolinecolor||t.defaultLine).style("stroke-width",a.crispRound(He,Ue.zerolinewidth,Ue._gw||1)+"px").style("display",null),qt(Ue,[D])},$.drawLabels=function(He,Ue,Ot){Ot=Ot||{};var It=He._fullLayout,Jt=Ue._id,cr=Ot.cls||Jt+"tick",vr=Ot.vals.filter(function(mr){return mr.text}),tr=Ot.labelFns,Nt=Ot.secondary?0:Ue.tickangle,sr=(Ue._prevTickAngles||{})[cr],dr=Ot.layer.selectAll("g."+cr).data(Ue.showticklabels?vr:[],At),xr=[];dr.enter().append("g").classed(cr,1).append("text").attr("text-anchor","middle").each(function(mr){var en=m.select(this),Jr=He._promises.length;en.call(p.positionText,tr.xFn(mr),tr.yFn(mr)).call(a.font,{family:mr.font,size:mr.fontSize,color:mr.fontColor,weight:mr.fontWeight,style:mr.fontStyle,variant:mr.fontVariant,textcase:mr.fontTextcase,lineposition:mr.fontLineposition,shadow:mr.fontShadow}).text(mr.text).call(p.convertToTspans,He),He._promises[Jr]?xr.push(He._promises.pop().then(function(){pr(en,Nt)})):pr(en,Nt)}),qt(Ue,[F]),dr.exit().remove(),Ot.repositionOnUpdate&&dr.each(function(mr){m.select(this).select("text").call(p.positionText,tr.xFn(mr),tr.yFn(mr))});function pr(mr,en){mr.each(function(Jr){var vn=m.select(this),On=vn.select(".text-math-group"),bn=tr.anchorFn(Jr,en),An=Ot.transFn.call(vn.node(),Jr)+(P(en)&&+en!=0?" rotate("+en+","+tr.xFn(Jr)+","+(tr.yFn(Jr)-Jr.fontSize/2)+")":""),Nn=p.lineCount(vn),$n=re*Jr.fontSize,ha=tr.heightFn(Jr,P(en)?+en:0,(Nn-1)*$n);if(ha&&(An+=v(0,ha)),On.empty()){var Ia=vn.select("text");Ia.attr({transform:An,"text-anchor":bn}),Ia.style("opacity",1),Ue._adjustTickLabelsOverflow&&Ue._adjustTickLabelsOverflow()}else{var Mr=a.bBox(On.node()).width,Fr=Mr*{end:-.5,start:.5}[bn];On.attr("transform",An+v(Fr,0))}})}Ue._adjustTickLabelsOverflow=function(){var mr=Ue.ticklabeloverflow;if(!(!mr||mr==="allow")){var en=mr.indexOf("hide")!==-1,Jr=Ue._id.charAt(0)==="x",vn=0,On=Jr?He._fullLayout.width:He._fullLayout.height;if(mr.indexOf("domain")!==-1){var bn=S.simpleMap(Ue.range,Ue.r2l);vn=Ue.l2p(bn[0])+Ue._offset,On=Ue.l2p(bn[1])+Ue._offset}var An=Math.min(vn,On),Nn=Math.max(vn,On),$n=Ue.side,ha=1/0,Ia=-1/0;dr.each(function(Nr){var mn=m.select(this),Rn=mn.select(".text-math-group");if(Rn.empty()){var gn=a.bBox(mn.node()),un=0;Jr?(gn.right>Nn||gn.left<An)&&(un=1):(gn.bottom>Nn||gn.top+(Ue.tickangle?0:Nr.fontSize/4)<An)&&(un=1);var Cr=mn.select("text");un?en&&Cr.style("opacity",0):(Cr.style("opacity",1),$n==="bottom"||$n==="right"?ha=Math.min(ha,Jr?gn.top:gn.left):ha=-1/0,$n==="top"||$n==="left"?Ia=Math.max(Ia,Jr?gn.bottom:gn.right):Ia=1/0)}});for(var Mr in It._plots){var Fr=It._plots[Mr];if(!(Ue._id!==Fr.xaxis._id&&Ue._id!==Fr.yaxis._id)){var Ar=Jr?Fr.yaxis:Fr.xaxis;Ar&&(Ar["_visibleLabelMin_"+Ue._id]=ha,Ar["_visibleLabelMax_"+Ue._id]=Ia)}}}},Ue._hideCounterAxisInsideTickLabels=function(mr){var en=Ue._id.charAt(0)==="x",Jr=[];for(var vn in It._plots){var On=It._plots[vn];Ue._id!==On.xaxis._id&&Ue._id!==On.yaxis._id||Jr.push(en?On.yaxis:On.xaxis)}Jr.forEach(function(bn,An){bn&&Ut(bn)&&(mr||[D,k,N,O,F]).forEach(function(Nn){var $n=Nn.K==="tick"&&Nn.L==="text"&&Ue.ticklabelmode==="period",ha=It._plots[Ue._mainSubplot],Ia;Nn.K===D.K?Ia=ha.zerolinelayer.selectAll("."+Ue._id+"zl"):Nn.K===k.K?Ia=ha.minorGridlayer.selectAll("."+Ue._id):Nn.K===N.K?Ia=ha.gridlayer.selectAll("."+Ue._id):Ia=ha[Ue._id.charAt(0)+"axislayer"],Ia.each(function(){var Mr=m.select(this);Nn.L&&(Mr=Mr.selectAll(Nn.L)),Mr.each(function(Fr){var Ar=Ue.l2p($n?Wt(Fr):Fr.x)+Ue._offset,Nr=m.select(this);Ar<Ue["_visibleLabelMax_"+bn._id]&&Ar>Ue["_visibleLabelMin_"+bn._id]?Nr.style("display","none"):Nn.K==="tick"&&!An&&Nr.style("display",null)})})})})},pr(dr,sr+1?sr:Nt);function Hr(){return xr.length&&Promise.all(xr)}var _r=null;function Dr(){if(pr(dr,Nt),vr.length&&Ue.autotickangles&&(Ue.type!=="log"||String(Ue.dtick).charAt(0)!=="D")){_r=Ue.autotickangles[0];var mr=0,en=[],Jr,vn=1;dr.each(function(En){mr=Math.max(mr,En.fontSize);var Vn=Ue.l2p(En.x),Bn=yr(this),va=a.bBox(Bn.node());vn=Math.max(vn,p.lineCount(Bn)),en.push({top:0,bottom:10,height:10,left:Vn-va.width/2,right:Vn+va.width/2+2,width:va.width+2})});var On=(Ue.tickson==="boundaries"||Ue.showdividers)&&!Ot.secondary,bn=vr.length,An=Math.abs((vr[bn-1].x-vr[0].x)*Ue._m)/(bn-1),Nn=On?An/2:An,$n=On?Ue.ticklen:mr*1.25*vn,ha=Math.sqrt(Math.pow(Nn,2)+Math.pow($n,2)),Ia=Nn/ha,Mr=Ue.autotickangles.map(function(En){return En*Math.PI/180}),Fr=Mr.find(function(En){return Math.abs(Math.cos(En))<=Ia});Fr===void 0&&(Fr=Mr.reduce(function(En,Vn){return Math.abs(Math.cos(En))<Math.abs(Math.cos(Vn))?En:Vn},Mr[0]));var Ar=Fr*(180/Math.PI);if(On){var Nr=2;for(Ue.ticks&&(Nr+=Ue.tickwidth/2),Jr=0;Jr<en.length;Jr++){var mn=vr[Jr].xbnd,Rn=en[Jr];if(mn[0]!==null&&Rn.left-Ue.l2p(mn[0])<Nr||mn[1]!==null&&Ue.l2p(mn[1])-Rn.right<Nr){_r=Ar;break}}}else{var gn=Ue.ticklabelposition||"",un=function(En){return gn.indexOf(En)!==-1},Cr=un("top"),Zr=un("left"),Gr=un("right"),qr=un("bottom"),wn=qr||Zr||Cr||Gr,zn=wn?(Ue.tickwidth||0)+2*le:0;for(Jr=0;Jr<en.length-1;Jr++)if(S.bBoxIntersect(en[Jr],en[Jr+1],zn)){_r=Ar;break}}_r&&pr(dr,_r)}}Ue._selections&&(Ue._selections[cr]=dr);var an=[Hr];Ue.automargin&&It._redrawFromAutoMarginCount&&sr===90?(_r=sr,an.push(function(){pr(dr,sr)})):an.push(Dr),Ue._tickAngles&&an.push(function(){Ue._tickAngles[cr]=_r===null?P(Nt)?Nt:0:_r});var tn=function(){var mr=0,en=0;return dr.each(function(Jr,vn){var On=yr(this),bn=On.select(".text-math-group");if(bn.empty()){var An;Ue._vals[vn]&&(An=Ue._vals[vn].bb||a.bBox(On.node()),Ue._vals[vn].bb=An),mr=Math.max(mr,An.width),en=Math.max(en,An.height)}}),{labelsMaxW:mr,labelsMaxH:en}},Sn=Ue._anchorAxis;if(Sn&&(Sn.autorange||Sn.insiderange)&&Ut(Ue)&&!Q(It,Ue._id)&&(It._insideTickLabelsUpdaterange||(It._insideTickLabelsUpdaterange={}),Sn.autorange&&(It._insideTickLabelsUpdaterange[Sn._name+".autorange"]=Sn.autorange,an.push(tn)),Sn.insiderange)){var Tn=tn(),Tr=Ue._id.charAt(0)==="y"?Tn.labelsMaxW:Tn.labelsMaxH;Tr+=2*le,Ue.ticklabelposition==="inside"&&(Tr+=Ue.ticklen||0);var zr=Ue.side==="right"||Ue.side==="top"?1:-1,jr=zr===1?1:0,Or=zr===1?0:1,ln=[];ln[Or]=Sn.range[Or];var fn=Sn.range,Mn=Sn.r2p(fn[jr]),Pn=Sn.r2p(fn[Or]),Hn=It._insideTickLabelsUpdaterange[Sn._name+".range"];if(Hn){var ia=Sn.r2p(Hn[jr]),ya=Sn.r2p(Hn[Or]),wa=zr*(Ue._id.charAt(0)==="y"?1:-1);wa*Mn<wa*ia&&(Mn=ia,ln[jr]=fn[jr]=Hn[jr]),wa*Pn>wa*ya&&(Pn=ya,ln[Or]=fn[Or]=Hn[Or])}var Wn=Math.abs(Pn-Mn);Wn-Tr>0?(Wn-=Tr,Tr*=1+Tr/Wn):Tr=0,Ue._id.charAt(0)!=="y"&&(Tr=-Tr),ln[jr]=Sn.p2r(Sn.r2p(fn[jr])+zr*Tr),Sn.autorange==="min"||Sn.autorange==="max reversed"?(ln[0]=null,Sn._rangeInitial0=void 0,Sn._rangeInitial1=void 0):(Sn.autorange==="max"||Sn.autorange==="min reversed")&&(ln[1]=null,Sn._rangeInitial0=void 0,Sn._rangeInitial1=void 0),It._insideTickLabelsUpdaterange[Sn._name+".range"]=ln}var Qn=S.syncOrAsync(an);return Qn&&Qn.then&&He._promises.push(Qn),Qn};function Rt(He,Ue,Ot){var It=Ue._id+"divider",Jt=Ot.vals,cr=Ot.layer.selectAll("path."+It).data(Jt,At);cr.exit().remove(),cr.enter().insert("path",":first-child").classed(It,1).classed("crisp",1).call(t.stroke,Ue.dividercolor).style("stroke-width",a.crispRound(He,Ue.dividerwidth,1)+"px"),cr.attr("transform",Ot.transFn).attr("d",Ot.path)}$.getPxPosition=function(He,Ue){var Ot=He._fullLayout._size,It=Ue._id.charAt(0),Jt=Ue.side,cr;if(Ue.anchor!=="free"?cr=Ue._anchorAxis:It==="x"?cr={_offset:Ot.t+(1-(Ue.position||0))*Ot.h,_length:0}:It==="y"&&(cr={_offset:Ot.l+(Ue.position||0)*Ot.w+Ue._shift,_length:0}),Jt==="top"||Jt==="left")return cr._offset;if(Jt==="bottom"||Jt==="right")return cr._offset+cr._length};function Xt(He){var Ue=He.title.font.size,Ot=(He.title.text.match(p.BR_TAG_ALL)||[]).length;return He.title.hasOwnProperty("standoff")?Ue*(J+Ot*re):Ot?Ue*(Ot+1)*re:Ue}function ir(He,Ue){var Ot=He._fullLayout,It=Ue._id,Jt=It.charAt(0),cr=Ue.title.font.size,vr,tr=(Ue.title.text.match(p.BR_TAG_ALL)||[]).length;if(Ue.title.hasOwnProperty("standoff"))Ue.side==="bottom"||Ue.side==="right"?vr=Ue._depth+Ue.title.standoff+cr*J:(Ue.side==="top"||Ue.side==="left")&&(vr=Ue._depth+Ue.title.standoff+cr*(W+tr*re));else{var Nt=Ut(Ue);if(Ue.type==="multicategory")vr=Ue._depth;else{var sr=1.5*cr;Nt&&(sr=.5*cr,Ue.ticks==="outside"&&(sr+=Ue.ticklen)),vr=10+sr+(Ue.linewidth?Ue.linewidth-1:0)}Nt||(Jt==="x"?vr+=Ue.side==="top"?cr*(Ue.showticklabels?1:0):cr*(Ue.showticklabels?1.5:.5):vr+=Ue.side==="right"?cr*(Ue.showticklabels?1:.5):cr*(Ue.showticklabels?.5:0))}var dr=$.getPxPosition(He,Ue),xr,pr,Hr;Jt==="x"?(pr=Ue._offset+Ue._length/2,Hr=Ue.side==="top"?dr-vr:dr+vr):(Hr=Ue._offset+Ue._length/2,pr=Ue.side==="right"?dr+vr:dr-vr,xr={rotate:"-90",offset:0});var _r;if(Ue.type!=="multicategory"){var Dr=Ue._selections[Ue._id+"tick"];if(_r={selection:Dr,side:Ue.side},Dr&&Dr.node()&&Dr.node().parentNode){var an=a.getTranslate(Dr.node().parentNode);_r.offsetLeft=an.x,_r.offsetTop=an.y}Ue.title.hasOwnProperty("standoff")&&(_r.pad=0)}return Ue._titleStandoff=vr,r.draw(He,It+"title",{propContainer:Ue,propName:Ue._name+".title.text",placeholder:Ot._dfltTitle[Jt],avoid:_r,transform:xr,attributes:{x:pr,y:Hr,"text-anchor":"middle"}})}$.shouldShowZeroLine=function(He,Ue,Ot){var It=S.simpleMap(Ue.range,Ue.r2l);return It[0]*It[1]<=0&&Ue.zeroline&&(Ue.type==="linear"||Ue.type==="-")&&!(Ue.rangebreaks&&Ue.maskBreaks(0)===I)&&(pt(Ue,0)||!Kt(He,Ue,Ot,It)||Qt(He,Ue))},$.clipEnds=function(He,Ue){return Ue.filter(function(Ot){return pt(He,Ot.x)})};function pt(He,Ue){var Ot=He.l2p(Ue);return Ot>1&&Ot<He._length-1}function Kt(He,Ue,Ot,It){var Jt=Ot._mainAxis;if(!Jt)return;var cr=He._fullLayout,vr=Ue._id.charAt(0),tr=$.counterLetter(Ue._id),Nt=Ue._offset+(Math.abs(It[0])<Math.abs(It[1])==(vr==="x")?0:Ue._length);function sr(_r){if(!_r.showline||!_r.linewidth)return!1;var Dr=Math.max((_r.linewidth+Ue.zerolinewidth)/2,1);function an(Tn){return typeof Tn=="number"&&Math.abs(Tn-Nt)<Dr}if(an(_r._mainLinePosition)||an(_r._mainMirrorPosition))return!0;var tn=_r._linepositions||{};for(var Sn in tn)if(an(tn[Sn][0])||an(tn[Sn][1]))return!0}var dr=cr._plots[Ot._mainSubplot];if(!(dr.mainplotinfo||dr).overlays.length)return sr(Ot);for(var xr=$.list(He,tr),pr=0;pr<xr.length;pr++){var Hr=xr[pr];if(Hr._mainAxis===Jt&&sr(Hr))return!0}}function Qt(He,Ue){for(var Ot=He._fullData,It=Ue._mainSubplot,Jt=Ue._id.charAt(0),cr=0;cr<Ot.length;cr++){var vr=Ot[cr];if(vr.visible===!0&&vr.xaxis+vr.yaxis===It&&(L.traceIs(vr,"bar-like")&&vr.orientation==={x:"h",y:"v"}[Jt]||vr.fill&&vr.fill.charAt(vr.fill.length-1)===Jt))return!0}return!1}function yr(He){var Ue=m.select(He),Ot=Ue.select(".text-math-group");return Ot.empty()?Ue.select("text"):Ot}$.allowAutoMargin=function(He){for(var Ue=$.list(He,"",!0),Ot=0;Ot<Ue.length;Ot++){var It=Ue[Ot];It.automargin&&(s.allowAutoMargin(He,ur(It)),It.mirror&&s.allowAutoMargin(He,mt(It))),L.getComponentMethod("rangeslider","isVisible")(It)&&s.allowAutoMargin(He,lt(It))}};function ur(He){return He._id+".automargin"}function mt(He){return ur(He)+".mirror"}function lt(He){return He._id+".rangeslider"}$.swap=function(He,Ue){for(var Ot=bt(He,Ue),It=0;It<Ot.length;It++)Dt(He,Ot[It].x,Ot[It].y)};function bt(He,Ue){var Ot=[],It,Jt;for(It=0;It<Ue.length;It++){var cr=[],vr=He._fullData[Ue[It]].xaxis,tr=He._fullData[Ue[It]].yaxis;if(!(!vr||!tr)){for(Jt=0;Jt<Ot.length;Jt++)(Ot[Jt].x.indexOf(vr)!==-1||Ot[Jt].y.indexOf(tr)!==-1)&&cr.push(Jt);if(!cr.length){Ot.push({x:[vr],y:[tr]});continue}var Nt=Ot[cr[0]],sr;if(cr.length>1)for(Jt=1;Jt<cr.length;Jt++)sr=Ot[cr[Jt]],Ct(Nt.x,sr.x),Ct(Nt.y,sr.y);Ct(Nt.x,[vr]),Ct(Nt.y,[tr])}}return Ot}function Ct(He,Ue){for(var Ot=0;Ot<Ue.length;Ot++)He.indexOf(Ue[Ot])===-1&&He.push(Ue[Ot])}function Dt(He,Ue,Ot){var It=[],Jt=[],cr=He.layout,vr,tr;for(vr=0;vr<Ue.length;vr++)It.push($.getFromId(He,Ue[vr]));for(vr=0;vr<Ot.length;vr++)Jt.push($.getFromId(He,Ot[vr]));var Nt=Object.keys(n),sr=["anchor","domain","overlaying","position","side","tickangle","editType"],dr=["linear","log"];for(vr=0;vr<Nt.length;vr++){var xr=Nt[vr],pr=It[0][xr],Hr=Jt[0][xr],_r=!0,Dr=!1,an=!1;if(!(xr.charAt(0)==="_"||typeof pr=="function"||sr.indexOf(xr)!==-1)){for(tr=1;tr<It.length&&_r;tr++){var tn=It[tr][xr];xr==="type"&&dr.indexOf(pr)!==-1&&dr.indexOf(tn)!==-1&&pr!==tn?Dr=!0:tn!==pr&&(_r=!1)}for(tr=1;tr<Jt.length&&_r;tr++){var Sn=Jt[tr][xr];xr==="type"&&dr.indexOf(Hr)!==-1&&dr.indexOf(Sn)!==-1&&Hr!==Sn?an=!0:Jt[tr][xr]!==Hr&&(_r=!1)}_r&&(Dr&&(cr[It[0]._name].type="linear"),an&&(cr[Jt[0]._name].type="linear"),Ht(cr,xr,It,Jt,He._fullLayout._dfltTitle))}}for(vr=0;vr<He._fullLayout.annotations.length;vr++){var Tn=He._fullLayout.annotations[vr];Ue.indexOf(Tn.xref)!==-1&&Ot.indexOf(Tn.yref)!==-1&&S.swapAttrs(cr.annotations[vr],["?"])}}function Ht(He,Ue,Ot,It,Jt){var cr=S.nestedProperty,vr=cr(He[Ot[0]._name],Ue).get(),tr=cr(He[It[0]._name],Ue).get(),Nt;for(Ue==="title"&&(vr&&vr.text===Jt.x&&(vr.text=Jt.y),tr&&tr.text===Jt.y&&(tr.text=Jt.x)),Nt=0;Nt<Ot.length;Nt++)cr(He,Ot[Nt]._name+"."+Ue).set(tr);for(Nt=0;Nt<It.length;Nt++)cr(He,It[Nt]._name+"."+Ue).set(vr)}function Bt(He){return He._id==="angularaxis"}function xt(He,Ue){for(var Ot=Ue._rangebreaks.length,It=0;It<Ot;It++){var Jt=Ue._rangebreaks[It];if(He>=Jt.min&&He<Jt.max)return Jt.max}return He}function Ut(He){return(He.ticklabelposition||"").indexOf("inside")!==-1}function qt(He,Ue){Ut(He._anchorAxis||{})&&He._hideCounterAxisInsideTickLabels&&He._hideCounterAxisInsideTickLabels(Ue)}function or(He,Ue,Ot,It){var Jt=He.anchor!=="free"&&(He.overlaying===void 0||He.overlaying===!1)?He._id:He.overlaying,cr;It?cr=He.side==="right"?Ue:-Ue:cr=Ue,Jt in Ot||(Ot[Jt]={}),He.side in Ot[Jt]||(Ot[Jt][He.side]=0),Ot[Jt][He.side]+=cr}function rr(He,Ue){return He.autoshift?Ue[He.overlaying][He.side]:He.shift||0}},52976:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032).BADNUM,L=P.isArrayOrTypedArray,S=P.isDateTime,v=P.cleanNumber,p=Math.round;G.exports=function(g,h,T){var c=g,i=T.noMultiCategory;if(L(c)&&!c.length)return"-";if(!i&&u(c))return"multicategory";if(i&&Array.isArray(c[0])){for(var d=[],b=0;b<c.length;b++)if(L(c[b]))for(var w=0;w<c[b].length;w++)d.push(c[b][w]);c=d}if(a(c,h))return"date";var C=T.autotypenumbers!=="strict";return f(c,C)?"category":t(c,C)?"linear":"-"};function r(l,g){return g?m(l):typeof l=="number"}function t(l,g){for(var h=l.length,T=0;T<h;T++)if(r(l[T],g))return!0;return!1}function a(l,g){for(var h=l.length,T=n(h),c=0,i=0,d={},b=0;b<h;b+=T){var w=p(b),C=l[w],y=String(C);d[y]||(d[y]=1,S(C,g)&&c++,m(C)&&i++)}return c>i*2}function n(l){return Math.max(1,(l-1)/1e3)}function f(l,g){for(var h=l.length,T=n(h),c=0,i=0,d={},b=0;b<h;b+=T){var w=p(b),C=l[w],y=String(C);if(!d[y]){d[y]=1;var E=typeof C;E==="boolean"?i++:(g?v(C)!==s:E==="number")?c++:E==="string"&&i++}}return i>c*2}function u(l){return L(l[0])&&L(l[1])}},28336:function(G,H,e){var m=e(38248),P=e(24040),s=e(3400),L=e(31780),S=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),a=e(42568),n=e(22416),f=e(42136),u=e(96312),l=e(78344),g=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;G.exports=function(b,w,C,y,E){var A=y.letter,o=y.font||{},M=y.splomStash||{},x=C("visible",!y.visibleDflt),I=w._template||{},D=w.type||I.type||"-",N;if(D==="date"){var k=P.getComponentMethod("calendars","handleDefaults");k(b,w,"calendar",y.calendar),y.noTicklabelmode||(N=C("ticklabelmode"))}var O="";(!y.noTicklabelposition||D==="multicategory")&&(O=s.coerce(b,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||C("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),l(w,E),u(b,w,C,y),n(b,w,C,y),D!=="category"&&!y.noHover&&C("hoverformat");var F=C("color"),z=F!==v.color.dflt?F:o.color,B=M.label||E._dfltTitle[A];if(a(b,w,C,D,y),!x)return w;C("title.text",B),s.coerceFont(C,"title.font",o,{overrideDflt:{size:s.bigFont(o.size),color:z}}),p(b,w,C,D);var W=y.hasMinor;if(W&&(L.newContainer(w,"minor"),p(b,w,C,D,{isMinor:!0})),t(b,w,C,D,y),r(b,w,C,y),W){var J=y.isMinor;y.isMinor=!0,r(b,w,C,y),y.isMinor=J}f(b,w,C,{dfltColor:F,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:W,attributes:v}),W&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&C("mirror");var re=D==="multicategory";if(!y.noTickson&&(D==="category"||re)&&(w.ticks||w.showgrid)){var ne;re&&(ne="boundaries");var le=C("tickson",ne);le==="boundaries"&&delete w.ticklabelposition}if(re){var $=C("showdividers");$&&(C("dividercolor"),C("dividerwidth"))}if(D==="date")if(S(b,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var Z=0;Z<w.rangebreaks.length;Z++)if(w.rangebreaks[Z].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(l(w,E),E._has("scattergl")||E._has("splom"))for(var ie=0;ie<y.data.length;ie++){var X=y.data[ie];(X.type==="scattergl"||X.type==="splom")&&(X.visible=!1,s.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}return w};function T(d,b,w){function C(N,k){return s.coerce(d,b,v.rangebreaks,N,k)}var y=C("enabled");if(y){var E=C("bounds");if(E&&E.length>=2){var A="",o,M;if(E.length===2){for(o=0;o<2;o++)if(M=i(E[o]),M){A=g;break}}var x=C("pattern",A);if(x===g)for(o=0;o<2;o++)M=i(E[o]),M&&(b.bounds[o]=E[o]=M-1);if(x)for(o=0;o<2;o++)switch(M=E[o],x){case g:if(!m(M)){b.enabled=!1;return}if(M=+M,M!==Math.floor(M)||M<0||M>=7){b.enabled=!1;return}b.bounds[o]=E[o]=M;break;case h:if(!m(M)){b.enabled=!1;return}if(M=+M,M<0||M>24){b.enabled=!1;return}b.bounds[o]=E[o]=M;break}if(w.autorange===!1){var I=w.range;if(I[0]<I[1]){if(E[0]<I[0]&&E[1]>I[1]){b.enabled=!1;return}}else if(E[0]>I[0]&&E[1]<I[1]){b.enabled=!1;return}}}else{var D=C("values");if(D&&D.length)C("dvalue");else{b.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(G,H,e){var m=e(26880),P=m.FORMAT_LINK,s=m.DATE_FORMAT_LINK;function L(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?S:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function S(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return S(p,r)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:L,descriptionOnlyNumbers:S,descriptionWithDates:v}},79811:function(G,H,e){var m=e(24040),P=e(33816);H.id2name=function(S){if(!(typeof S!="string"||!S.match(P.AX_ID_PATTERN))){var v=S.split(" ")[0].substr(1);return v==="1"&&(v=""),S.charAt(0)+"axis"+v}},H.name2id=function(S){if(S.match(P.AX_NAME_PATTERN)){var v=S.substr(5);return v==="1"&&(v=""),S.charAt(0)+v}},H.cleanId=function(S,v,p){var r=/( domain)$/.test(S);if(!(typeof S!="string"||!S.match(P.AX_ID_PATTERN))&&!(v&&S.charAt(0)!==v)&&!(r&&!p)){var t=S.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),S.charAt(0)+t+(r&&p?" domain":"")}},H.list=function(L,S,v){var p=L._fullLayout;if(!p)return[];var r=H.listIds(L,S),t=new Array(r.length),a;for(a=0;a<r.length;a++){var n=r[a];t[a]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=p._subplots.gl3d||[];for(a=0;a<f.length;a++){var u=p[f[a]];S?t.push(u[S+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},H.listIds=function(L,S){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return S?p[S+"axis"]:p.xaxis.concat(p.yaxis)},H.getFromId=function(L,S,v){var p=L._fullLayout;return S=S===void 0||typeof S!="string"?S:S.replace(" domain",""),v==="x"?S=S.replace(/y[0-9]*/,""):v==="y"&&(S=S.replace(/x[0-9]*/,"")),p[H.id2name(S)]},H.getFromTrace=function(L,S,v){var p=L._fullLayout,r=null;if(m.traceIs(S,"gl3d")){var t=S.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=H.getFromId(L,S[v+"axis"]||v);return r},H.idSort=function(L,S){var v=L.charAt(0),p=S.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(S.substr(1)||1)},H.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function s(L,S){if(S&&S.length){for(var v=0;v<S.length;v++)if(S[v][L])return!0}return!1}H.isLinked=function(L,S){return s(S,L._axisMatchGroups)||s(S,L._axisConstraintGroups)}},22416:function(G,H,e){var m=e(38116).isTypedArraySpec;function P(s,L){var S=L.dataAttr||s._id.charAt(0),v={},p,r,t;if(L.axData)p=L.axData;else for(p=[],r=0;r<L.data.length;r++){var a=L.data[r];a[S+"axis"]===s._id&&p.push(a)}for(r=0;r<p.length;r++){var n=p[r][S];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}G.exports=function(L,S,v,p){if(S.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||m(r),a;t&&(a="array");var n=v("categoryorder",a),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=S.categoryorder="trace"),n==="trace"?S._initialCategories=[]:n==="array"?S._initialCategories=f.slice():(f=P(S,p).sort(),n==="category ascending"?S._initialCategories=f:n==="category descending"&&(S._initialCategories=f.reverse()))}}},98728:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032),L=s.ONEDAY,S=s.ONEWEEK;H.dtick=function(v,p){var r=p==="log",t=p==="date",a=p==="category",n=t?L:1;if(!v)return n;if(m(v))return v=Number(v),v<=0?n:a?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),u=v.substr(1);return u=m(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?n:v},H.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%S===0?1:0));if(!(t==="D1"||t==="D2"))return m(v)?Number(v):0}},33816:function(G,H,e){var m=e(53756).counter;G.exports={idRegex:{x:m("x","( domain)?"),y:m("y","( domain)?")},attrRegex:m("[xy]axis"),xAxisMatch:m("xaxis"),yAxisMatch:m("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(G,H,e){var m=e(3400),P=e(19280),s=e(79811).id2name,L=e(94724),S=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;H.handleDefaults=function(h,T,c){var i=c.axIds,d=c.axHasImage,b=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],C,y,E,A,o,M,x,I;for(C=0;C<i.length;C++)A=s(i[C]),o=h[A],M=T[A],t(o,M,{axIds:i,layoutOut:T,hasImage:d[A]});function D(re,ne){for(C=0;C<re.length;C++){y=re[C];for(E in y)T[s(E)][ne]=y}}for(D(w,"_matchGroup"),C=0;C<b.length;C++){y=b[C];for(E in y)if(M=T[s(E)],M.fixedrange){for(var N in y){var k=s(N);(h[k]||{}).fixedrange===!1&&m.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),T[k].fixedrange=!0}break}}for(C=0;C<b.length;){y=b[C];for(E in y){M=T[s(E)],M._matchGroup&&Object.keys(M._matchGroup).length===Object.keys(y).length&&(b.splice(C,1),C--);break}C++}D(b,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],F=!1,z=!1;function B(){I=M[x],x==="rangebreaks"&&(z=M._hasDayOfWeekBreaks)}for(C=0;C<w.length;C++){y=w[C];for(var W=0;W<O.length;W++){x=O[W],I=null;var J;for(E in y)if(A=s(E),o=h[A],M=T[A],x in M){if(!M.matches&&(J=M,x in o)){B();break}I===null&&x in o&&B()}if(x==="range"&&I&&o.range&&o.range.length===2&&o.range[0]!==null&&o.range[1]!==null&&(F=!0),x==="autorange"&&I===null&&F&&(I=!1),I===null&&x in J&&(I=J[x]),I!==null)for(E in y)M=T[s(E)],M[x]=x==="range"?I.slice():I,x==="rangebreaks"&&(M._hasDayOfWeekBreaks=z,v(M,T))}}};function t(h,T,c){var i=c.axIds,d=c.layoutOut,b=c.hasImage,w=d._axisConstraintGroups,C=d._axisMatchGroups,y=T._id,E=y.charAt(0),A=((d._splomAxes||{})[E]||{})[y]||{},o=T._id,M=o.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function x(Z,ie){return m.coerce(h,T,L,Z,ie)}x("constrain",b?"domain":"range"),m.coerce(h,T,{constraintoward:{valType:"enumerated",values:M?["left","center","right"]:["bottom","middle","top"],dflt:M?"center":"middle"}},"constraintoward");var I=T.type,D,N,k=[];for(D=0;D<i.length;D++)if(N=i[D],N!==o){var O=d[s(N)];O.type===I&&k.push(N)}var F=n(w,o);if(F){var z=[];for(D=0;D<k.length;D++)N=k[D],F[N]||z.push(N);k=z}var B=k.length,W,J;B&&(h.matches||A.matches)&&(W=m.coerce(h,T,{matches:{valType:"enumerated",values:k,dflt:k.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var re=b&&!M?T.anchor:void 0;if(B&&!W&&(h.scaleanchor||re)&&(J=m.coerce(h,T,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",re)),W){T._matchGroup=f(C,o,W,1);var ne=d[s(W)],le=a(d,T)/a(d,ne);M!==(W.charAt(0)==="x")&&(le=(M?"x":"y")+le),f(w,o,W,le)}else h.matches&&i.indexOf(h.matches)!==-1&&m.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(J){var $=x("scaleratio");$||($=T.scaleratio=1),f(w,o,J,$)}else h.scaleanchor&&i.indexOf(h.scaleanchor)!==-1&&m.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,T){var c=T.domain;return c||(c=h[s(T.overlaying)].domain),c[1]-c[0]}function n(h,T){for(var c=0;c<h.length;c++)if(h[c][T])return h[c];return null}function f(h,T,c,i){var d,b,w,C,y,E=n(h,T);E===null?(E={},E[T]=1,y=h.length,h.push(E)):y=h.indexOf(E);var A=Object.keys(E);for(d=0;d<h.length;d++)if(w=h[d],d!==y&&w[c]){var o=w[c];for(b=0;b<A.length;b++)C=A[b],w[C]=u(o,u(i,E[C]));h.splice(y,1);return}if(i!==1)for(b=0;b<A.length;b++){var M=A[b];E[M]=u(i,E[M])}E[c]=1}function u(h,T){var c="",i="",d,b;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof T=="string"&&(i=T.match(/^[xy]*/)[0],b=i.length,T=+T.substr(b));var w=h*T;return!d&&!b?w:!d||!b||c.charAt(0)===i.charAt(0)?c+i+h*T:d===b?w:(d>b?c.substr(b):i.substr(d))+w}function l(h,T){for(var c=T._size,i=c.h/c.w,d={},b=Object.keys(h),w=0;w<b.length;w++){var C=b[w],y=h[C];if(typeof y=="string"){var E=y.match(/^[xy]*/)[0],A=E.length;y=+y.substr(A);for(var o=E.charAt(0)==="y"?i:1/i,M=0;M<A;M++)y*=o}d[C]=y}return d}H.enforce=function(T){var c=T._fullLayout,i=c._axisConstraintGroups||[],d,b,w,C,y,E,A,o;for(d=0;d<i.length;d++){w=l(i[d],c);var M=Object.keys(w),x=1/0,I=0,D=1/0,N={},k={},O=!1;for(b=0;b<M.length;b++)C=M[b],k[C]=y=c[s(C)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),N[C]=E=Math.abs(y._m)/w[C],x=Math.min(x,E),(y.constrain==="domain"||!y._constraintShrinkable)&&(D=Math.min(D,E)),delete y._constraintShrinkable,I=Math.max(I,E),y.constrain==="domain"&&(O=!0);if(!(x>p*I&&!O)){for(b=0;b<M.length;b++)if(C=M[b],E=N[C],y=k[C],A=y.constrain,E!==D||A==="domain")if(o=E/D,A==="range")S(y,o);else{var F=y._inputDomain,z=(y.domain[1]-y.domain[0])/(F[1]-F[0]),B=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(o/=z,o*B<1){y.domain=y._input.domain=F.slice(),S(y,o);continue}if(B<1&&(y.range=y._input.range=y._inputRange.slice(),o*=B),y.autorange){var W=y.r2l(y.range[0]),J=y.r2l(y.range[1]),re=(W+J)/2,ne=re,le=re,$=Math.abs(J-re),Z=re-$*o*1.0001,ie=re+$*o*1.0001,X=P.makePadFn(c,y,0),Q=P.makePadFn(c,y,1);g(y,o);var oe=Math.abs(y._m),j=P.concatExtremes(T,y),Y=j.min,se=j.max,te,fe;for(fe=0;fe<Y.length;fe++)te=Y[fe].val-X(Y[fe])/oe,te>Z&&te<ne&&(ne=te);for(fe=0;fe<se.length;fe++)te=se[fe].val+Q(se[fe])/oe,te<ie&&te>le&&(le=te);var ge=(le-ne)/(2*$);o/=ge,ne=y.l2r(ne),le=y.l2r(le),y.range=y._input.range=W<J?[ne,le]:[le,ne]}g(y,o)}}}},H.getAxisGroup=function(T,c){for(var i=T._axisMatchGroups,d=0;d<i.length;d++){var b=i[d];if(b[c])return"g"+d}return c},H.clean=function(T,c){if(c._inputDomain){for(var i=!1,d=c._id,b=T._fullLayout._axisConstraintGroups,w=0;w<b.length;w++)if(b[w][d]){i=!0;break}(!i||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function g(h,T){var c=h._inputDomain,i=r[h.constraintoward],d=c[0]+(c[1]-c[0])*i;h.domain=h._input.domain=[d+(c[0]-d)/T,d+(c[1]-d)/T],h.setScale()}},51184:function(G,H,e){var m=e(33428),P=e(3400),s=P.numberFormat,L=e(49760),S=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),a=e(43616),n=e(93024),f=e(54460),u=e(93972),l=e(86476),g=e(72760),h=g.selectingOrDrawing,T=g.freeMode,c=e(84284).FROM_TL,i=e(73696),d=e(39172).redrawReglTraces,b=e(7316),w=e(79811).getFromId,C=e(22676).prepSelect,y=e(22676).clearOutline,E=e(22676).selectOnClick,A=e(21160),o=e(33816),M=o.MINDRAG,x=o.MINZOOM,I=!0;function D(te,fe,ge,be,xe,_e,De,Fe){var Te=te._fullLayout._zoomlayer,Re=De+Fe==="nsew",Se=(De+Fe).length===1,ke,Me,Ve,tt,it,Je,Qe,ct,ht,dt,Tt,Et,rt,ze,Ge,je,We,Le,Pe,Ye,Ce,he,me;ge+=fe.yaxis._shift;function Ne(){if(ke=fe.xaxis,Me=fe.yaxis,ht=ke._length,dt=Me._length,Qe=ke._offset,ct=Me._offset,Ve={},Ve[ke._id]=ke,tt={},tt[Me._id]=Me,De&&Fe)for(var tr=fe.overlays,Nt=0;Nt<tr.length;Nt++){var sr=tr[Nt].xaxis;Ve[sr._id]=sr;var dr=tr[Nt].yaxis;tt[dr._id]=dr}it=se(Ve),Je=se(tt),rt=O(it,Fe),ze=O(Je,De),Ge=!ze&&!rt,Et=j(te,te._fullLayout._axisMatchGroups,Ve,tt),Tt=j(te,te._fullLayout._axisConstraintGroups,Ve,tt,Et);var xr=Tt.isSubplotConstrained||Et.isSubplotConstrained;je=Fe||xr,We=De||xr;var pr=te._fullLayout;Le=pr._has("scattergl"),Pe=pr._has("splom"),Ye=pr._has("svg")}Ne();var $e=J(ze+rt,te._fullLayout.dragmode,Re),ot=k(fe,De+Fe+"drag",$e,ge,be,xe,_e);if(Ge&&!Re)return ot.onmousedown=null,ot.style.pointerEvents="none",ot;var st={element:ot,gd:te,plotinfo:fe};st.prepFn=function(tr,Nt,sr){var dr=st.dragmode,xr=te._fullLayout.dragmode;xr!==dr&&(st.dragmode=xr),Ne(),he=te._fullLayout._invScaleX,me=te._fullLayout._invScaleY,Ge||(Re?tr.shiftKey?xr==="pan"?xr="zoom":h(xr)||(xr="pan"):tr.ctrlKey&&(xr="pan"):xr="pan"),T(xr)?st.minDrag=1:st.minDrag=void 0,h(xr)?(st.xaxes=it,st.yaxes=Je,C(tr,Nt,sr,st,xr)):(st.clickFn=Zt,h(dr)&&Wt(),Ge||(xr==="zoom"?(st.moveFn=bt,st.doneFn=Dt,st.minDrag=1,lt(tr,Nt,sr)):xr==="pan"&&(st.moveFn=or,st.doneFn=Ot))),te._fullLayout._redrag=function(){var pr=te._dragdata;if(pr&&pr.element===ot){var Hr=te._fullLayout.dragmode;h(Hr)||(Ne(),It([0,0,ht,dt]),st.moveFn(pr.dx,pr.dy))}}};function Wt(){st.plotinfo.selection=!1,y(te)}function Zt(tr,Nt){var sr=st.gd;if(sr._fullLayout._activeShapeIndex>=0){sr._fullLayout._deactivateShape(sr);return}var dr=sr._fullLayout.clickmode;if(Z(sr),tr===2&&!Se&&Ue(),Re)dr.indexOf("select")>-1&&E(Nt,sr,it,Je,fe.id,st),dr.indexOf("event")>-1&&n.click(sr,Nt,fe.id);else if(tr===1&&Se){var xr=De?Me:ke,pr=De==="s"||Fe==="w"?0:1,Hr=xr._name+".range["+pr+"]",_r=F(xr,pr),Dr="left",an="middle";if(xr.fixedrange)return;De?(an=De==="n"?"top":"bottom",xr.side==="right"&&(Dr="right")):Fe==="e"&&(Dr="right"),sr._context.showAxisRangeEntryBoxes&&m.select(ot).call(r.makeEditable,{gd:sr,immediate:!0,background:sr._fullLayout.paper_bgcolor,text:String(_r),fill:xr.tickfont?xr.tickfont.color:"#444",horizontalAlign:Dr,verticalAlign:an}).on("edit",function(tn){var Sn=xr.d2r(tn);Sn!==void 0&&v.call("_guiRelayout",sr,Hr,Sn)})}}l.init(st);var At,Rt,Xt,ir,pt,Kt,Qt,yr,ur,mt;function lt(tr,Nt,sr){var dr=ot.getBoundingClientRect();At=Nt-dr.left,Rt=sr-dr.top,te._fullLayout._calcInverseTransform(te);var xr=P.apply3DTransform(te._fullLayout._invTransform)(At,Rt);At=xr[0],Rt=xr[1],Xt={l:At,r:At,w:0,t:Rt,b:Rt,h:0},ir=te._hmpixcount?te._hmlumcount/te._hmpixcount:L(te._fullLayout.plot_bgcolor).getLuminance(),pt="M0,0H"+ht+"V"+dt+"H0V0",Kt=!1,Qt="xy",mt=!1,yr=re(Te,ir,Qe,ct,pt),ur=ne(Te,Qe,ct)}function bt(tr,Nt){if(te._transitioningWithDuration)return!1;var sr=Math.max(0,Math.min(ht,he*tr+At)),dr=Math.max(0,Math.min(dt,me*Nt+Rt)),xr=Math.abs(sr-At),pr=Math.abs(dr-Rt);Xt.l=Math.min(At,sr),Xt.r=Math.max(At,sr),Xt.t=Math.min(Rt,dr),Xt.b=Math.max(Rt,dr);function Hr(){Qt="",Xt.r=Xt.l,Xt.t=Xt.b,ur.attr("d","M0,0Z")}if(Tt.isSubplotConstrained)xr>x||pr>x?(Qt="xy",xr/ht>pr/dt?(pr=xr*dt/ht,Rt>dr?Xt.t=Rt-pr:Xt.b=Rt+pr):(xr=pr*ht/dt,At>sr?Xt.l=At-xr:Xt.r=At+xr),ur.attr("d",oe(Xt))):Hr();else if(Et.isSubplotConstrained)if(xr>x||pr>x){Qt="xy";var _r=Math.min(Xt.l/ht,(dt-Xt.b)/dt),Dr=Math.max(Xt.r/ht,(dt-Xt.t)/dt);Xt.l=_r*ht,Xt.r=Dr*ht,Xt.b=(1-_r)*dt,Xt.t=(1-Dr)*dt,ur.attr("d",oe(Xt))}else Hr();else!ze||pr<Math.min(Math.max(xr*.6,M),x)?xr<M||!rt?Hr():(Xt.t=0,Xt.b=dt,Qt="x",ur.attr("d",X(Xt,Rt))):!rt||xr<Math.min(pr*.6,x)?(Xt.l=0,Xt.r=ht,Qt="y",ur.attr("d",Q(Xt,At))):(Qt="xy",ur.attr("d",oe(Xt)));Xt.w=Xt.r-Xt.l,Xt.h=Xt.b-Xt.t,Qt&&(mt=!0),te._dragged=mt,le(yr,ur,Xt,pt,Kt,ir),Ct(),te.emit("plotly_relayouting",Ce),Kt=!0}function Ct(){Ce={},(Qt==="xy"||Qt==="x")&&(z(it,Xt.l/ht,Xt.r/ht,Ce,Tt.xaxes),rr("x",Ce)),(Qt==="xy"||Qt==="y")&&(z(Je,(dt-Xt.b)/dt,(dt-Xt.t)/dt,Ce,Tt.yaxes),rr("y",Ce))}function Dt(){Ct(),Z(te),Ot(),ie(te)}var Ht=[0,0,ht,dt],Bt=null,xt=o.REDRAWDELAY,Ut=fe.mainplot?te._fullLayout._plots[fe.mainplot]:fe;function qt(tr){if(!te._context._scrollZoom.cartesian&&!te._fullLayout._enablescrollzoom)return;if(Wt(),te._transitioningWithDuration){tr.preventDefault(),tr.stopPropagation();return}Ne(),clearTimeout(Bt);var Nt=-tr.deltaY;if(isFinite(Nt)||(Nt=tr.wheelDelta/10),!isFinite(Nt)){P.log("Did not find wheel motion attributes: ",tr);return}var sr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),dr=Ut.draglayer.select(".nsewdrag").node().getBoundingClientRect(),xr=(tr.clientX-dr.left)/dr.width,pr=(dr.bottom-tr.clientY)/dr.height,Hr;function _r(Dr,an,tn){if(Dr.fixedrange)return;var Sn=P.simpleMap(Dr.range,Dr.r2l),Tn=Sn[0]+(Sn[1]-Sn[0])*an;function Tr(zr){return Dr.l2r(Tn+(zr-Tn)*tn)}Dr.range=Sn.map(Tr)}if(je){for(Fe||(xr=.5),Hr=0;Hr<it.length;Hr++)_r(it[Hr],xr,sr);rr("x"),Ht[2]*=sr,Ht[0]+=Ht[2]*xr*(1/sr-1)}if(We){for(De||(pr=.5),Hr=0;Hr<Je.length;Hr++)_r(Je[Hr],pr,sr);rr("y"),Ht[3]*=sr,Ht[1]+=Ht[3]*(1-pr)*(1/sr-1)}It(Ht),He(),te.emit("plotly_relayouting",Ce),Bt=setTimeout(function(){te._fullLayout&&(Ht=[0,0,ht,dt],Ot())},xt),tr.preventDefault()}De.length*Fe.length!==1&&Y(ot,qt);function or(tr,Nt){if(tr=tr*he,Nt=Nt*me,te._transitioningWithDuration)return;if(te._fullLayout._replotting=!0,rt==="ew"||ze==="ns"){var sr=rt?-tr:0,dr=ze?-Nt:0;if(Et.isSubplotConstrained){if(rt&&ze){var xr=(tr/ht-Nt/dt)/2;tr=xr*ht,Nt=-xr*dt,sr=-tr,dr=-Nt}ze?sr=-dr*ht/dt:dr=-sr*dt/ht}rt&&(B(it,tr),rr("x")),ze&&(B(Je,Nt),rr("y")),It([sr,dr,ht,dt]),He(),te.emit("plotly_relayouting",Ce);return}function pr(Tr,zr,jr){for(var Or=1-zr,ln,fn,Mn=0;Mn<Tr.length;Mn++){var Pn=Tr[Mn];if(!Pn.fixedrange){ln=Pn,fn=Pn._rl[Or]+(Pn._rl[zr]-Pn._rl[Or])/W(jr/Pn._length);var Hn=Pn.l2r(fn);Hn!==!1&&Hn!==void 0&&(Pn.range[zr]=Hn)}}return ln._length*(ln._rl[zr]-fn)/(ln._rl[zr]-ln._rl[Or])}var Hr=rt==="w"==(ze==="n")?1:-1;if(rt&&ze&&(Tt.isSubplotConstrained||Et.isSubplotConstrained)){var _r=(tr/ht+Hr*Nt/dt)/2;tr=_r*ht,Nt=Hr*_r*dt}var Dr,an;if(rt==="w"?tr=pr(it,0,tr):rt==="e"?tr=pr(it,1,-tr):rt||(tr=0),ze==="n"?Nt=pr(Je,1,Nt):ze==="s"?Nt=pr(Je,0,-Nt):ze||(Nt=0),Dr=rt==="w"?tr:0,an=ze==="n"?Nt:0,Tt.isSubplotConstrained&&!Et.isSubplotConstrained||Et.isSubplotConstrained&&rt&&ze&&Hr>0){var tn;if(Et.isSubplotConstrained||!rt&&ze.length===1){for(tn=0;tn<it.length;tn++)it[tn].range=it[tn]._r.slice(),A(it[tn],1-Nt/dt);tr=Nt*ht/dt,Dr=tr/2}if(Et.isSubplotConstrained||!ze&&rt.length===1){for(tn=0;tn<Je.length;tn++)Je[tn].range=Je[tn]._r.slice(),A(Je[tn],1-tr/ht);Nt=tr*dt/ht,an=Nt/2}}(!Et.isSubplotConstrained||!ze)&&rr("x"),(!Et.isSubplotConstrained||!rt)&&rr("y");var Sn=ht-tr,Tn=dt-Nt;Et.isSubplotConstrained&&!(rt&&ze)&&(rt?(an=Dr?0:tr*dt/ht,Tn=Sn*dt/ht):(Dr=an?0:Nt*ht/dt,Sn=Tn*ht/dt)),It([Dr,an,Sn,Tn]),He(),te.emit("plotly_relayouting",Ce)}function rr(tr,Nt){for(var sr=Et.isSubplotConstrained?{x:Je,y:it}[tr]:Et[tr+"axes"],dr=Et.isSubplotConstrained?{x:it,y:Je}[tr]:[],xr=0;xr<sr.length;xr++){var pr=sr[xr],Hr=pr._id,_r=Et.xLinks[Hr]||Et.yLinks[Hr],Dr=dr[0]||Ve[_r]||tt[_r];Dr&&(Nt?(Nt[pr._name+".range[0]"]=Nt[Dr._name+".range[0]"],Nt[pr._name+".range[1]"]=Nt[Dr._name+".range[1]"]):pr.range=Dr.range.slice())}}function He(){var tr=[],Nt;function sr(Hr){for(Nt=0;Nt<Hr.length;Nt++)Hr[Nt].fixedrange||tr.push(Hr[Nt]._id)}function dr(Hr,_r){for(Nt=0;Nt<Hr.length;Nt++){var Dr=Hr[Nt],an=Dr[_r];!Dr.fixedrange&&an.tickmode==="sync"&&tr.push(an._id)}}for(je&&(sr(it),sr(Tt.xaxes),sr(Et.xaxes),dr(fe.overlays,"xaxis")),We&&(sr(Je),sr(Tt.yaxes),sr(Et.yaxes),dr(fe.overlays,"yaxis")),Ce={},Nt=0;Nt<tr.length;Nt++){var xr=tr[Nt],pr=w(te,xr);f.drawOne(te,pr,{skipTitle:!0}),Ce[pr._name+".range[0]"]=pr.range[0],Ce[pr._name+".range[1]"]=pr.range[1]}f.redrawComponents(te,tr)}function Ue(){if(!te._transitioningWithDuration){var tr=te._context.doubleClick,Nt=[];rt&&(Nt=Nt.concat(it)),ze&&(Nt=Nt.concat(Je)),Et.xaxes&&(Nt=Nt.concat(Et.xaxes)),Et.yaxes&&(Nt=Nt.concat(Et.yaxes));var sr={},dr,xr;if(tr==="reset+autosize")for(tr="autosize",xr=0;xr<Nt.length;xr++){dr=Nt[xr];var pr=dr._rangeInitial0,Hr=dr._rangeInitial1,_r=pr!==void 0||Hr!==void 0;if(_r&&(pr!==void 0&&pr!==dr.range[0]||Hr!==void 0&&Hr!==dr.range[1])||!_r&&dr.autorange!==!0){tr="reset";break}}if(tr==="autosize")for(xr=0;xr<Nt.length;xr++)dr=Nt[xr],dr.fixedrange||(sr[dr._name+".autorange"]=!0);else if(tr==="reset"){for((rt||Tt.isSubplotConstrained)&&(Nt=Nt.concat(Tt.xaxes)),ze&&!Tt.isSubplotConstrained&&(Nt=Nt.concat(Tt.yaxes)),Tt.isSubplotConstrained&&(rt?ze||(Nt=Nt.concat(Je)):Nt=Nt.concat(it)),xr=0;xr<Nt.length;xr++)if(dr=Nt[xr],!dr.fixedrange){var Dr=dr._name,an=dr._autorangeInitial;dr._rangeInitial0===void 0&&dr._rangeInitial1===void 0?sr[Dr+".autorange"]=!0:dr._rangeInitial0===void 0?(sr[Dr+".autorange"]=an,sr[Dr+".range"]=[null,dr._rangeInitial1]):dr._rangeInitial1===void 0?(sr[Dr+".range"]=[dr._rangeInitial0,null],sr[Dr+".autorange"]=an):sr[Dr+".range"]=[dr._rangeInitial0,dr._rangeInitial1]}}te.emit("plotly_doubleclick",null),v.call("_guiRelayout",te,sr)}}function Ot(){It([0,0,ht,dt]),P.syncOrAsync([b.previousPromises,function(){te._fullLayout._replotting=!1,v.call("_guiRelayout",te,Ce)}],te)}function It(tr){var Nt=te._fullLayout,sr=Nt._plots,dr=Nt._subplots.cartesian,xr,pr,Hr,_r;if(Pe&&v.subplotsRegistry.splom.drag(te),Le){for(xr=0;xr<dr.length;xr++)if(pr=sr[dr[xr]],Hr=pr.xaxis,_r=pr.yaxis,pr._scene){var Dr=P.simpleMap(Hr.range,Hr.r2l),an=P.simpleMap(_r.range,_r.r2l);Hr.limitRange&&Hr.limitRange(),_r.limitRange&&_r.limitRange(),Dr=Hr.range,an=_r.range,pr._scene.update({range:[Dr[0],an[0],Dr[1],an[1]]})}}if((Pe||Le)&&(i(te),d(te)),Ye){var tn=tr[2]/ke._length,Sn=tr[3]/Me._length;for(xr=0;xr<dr.length;xr++){pr=sr[dr[xr]],Hr=pr.xaxis,_r=pr.yaxis;var Tn=(je||Et.isSubplotConstrained)&&!Hr.fixedrange&&Ve[Hr._id],Tr=(We||Et.isSubplotConstrained)&&!_r.fixedrange&&tt[_r._id],zr,jr,Or,ln;if(Tn?(zr=tn,Or=Fe||Et.isSubplotConstrained?tr[0]:vr(Hr,zr)):Et.xaHash[Hr._id]?(zr=tn,Or=tr[0]*Hr._length/ke._length):Et.yaHash[Hr._id]?(zr=Sn,Or=ze==="ns"?-tr[1]*Hr._length/Me._length:vr(Hr,zr,{n:"top",s:"bottom"}[ze])):(zr=Jt(Hr,tn,Sn),Or=cr(Hr,zr)),zr>1&&(Hr.maxallowed!==void 0&&je===(Hr.range[0]<Hr.range[1]?"e":"w")||Hr.minallowed!==void 0&&je===(Hr.range[0]<Hr.range[1]?"w":"e"))&&(zr=1,Or=0),Tr?(jr=Sn,ln=De||Et.isSubplotConstrained?tr[1]:vr(_r,jr)):Et.yaHash[_r._id]?(jr=Sn,ln=tr[1]*_r._length/Me._length):Et.xaHash[_r._id]?(jr=tn,ln=rt==="ew"?-tr[0]*_r._length/ke._length:vr(_r,jr,{e:"right",w:"left"}[rt])):(jr=Jt(_r,tn,Sn),ln=cr(_r,jr)),jr>1&&(_r.maxallowed!==void 0&&We===(_r.range[0]<_r.range[1]?"n":"s")||_r.minallowed!==void 0&&We===(_r.range[0]<_r.range[1]?"s":"n"))&&(jr=1,ln=0),!(!zr&&!jr)){zr||(zr=1),jr||(jr=1);var fn=Hr._offset-Or/zr,Mn=_r._offset-ln/jr;pr.clipRect.call(a.setTranslate,Or,ln).call(a.setScale,zr,jr),pr.plot.call(a.setTranslate,fn,Mn).call(a.setScale,1/zr,1/jr),(zr!==pr.xScaleFactor||jr!==pr.yScaleFactor)&&(a.setPointGroupScale(pr.zoomScalePts,zr,jr),a.setTextPointsScale(pr.zoomScaleTxt,zr,jr)),a.hideOutsideRangePoints(pr.clipOnAxisFalseTraces,pr),pr.xScaleFactor=zr,pr.yScaleFactor=jr}}}}function Jt(tr,Nt,sr){return tr.fixedrange?0:je&&Tt.xaHash[tr._id]?Nt:We&&(Tt.isSubplotConstrained?Tt.xaHash:Tt.yaHash)[tr._id]?sr:0}function cr(tr,Nt){return Nt?(tr.range=tr._r.slice(),A(tr,Nt),vr(tr,Nt)):0}function vr(tr,Nt,sr){return tr._length*(1-Nt)*c[sr||tr.constraintoward||"middle"]}return ot}function N(te,fe,ge,be){var xe=P.ensureSingle(te.draglayer,fe,ge,function(_e){_e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",te.id)});return xe.call(u,be),xe.node()}function k(te,fe,ge,be,xe,_e,De){var Fe=N(te,"rect",fe,ge);return m.select(Fe).call(a.setRect,be,xe,_e,De),Fe}function O(te,fe){for(var ge=0;ge<te.length;ge++)if(!te[ge].fixedrange)return fe;return""}function F(te,fe){var ge=te.range[fe],be=Math.abs(ge-te.range[1-fe]),xe;return te.type==="date"?ge:te.type==="log"?(xe=Math.ceil(Math.max(0,-Math.log(be)/Math.LN10))+3,s("."+xe+"g")(Math.pow(10,ge))):(xe=Math.floor(Math.log(Math.abs(ge))/Math.LN10)-Math.floor(Math.log(be)/Math.LN10)+4,s("."+String(xe)+"g")(ge))}function z(te,fe,ge,be,xe){for(var _e=0;_e<te.length;_e++){var De=te[_e];if(!De.fixedrange)if(De.rangebreaks){var Fe=De._id.charAt(0)==="y",Te=Fe?1-fe:fe,Re=Fe?1-ge:ge;be[De._name+".range[0]"]=De.l2r(De.p2l(Te*De._length)),be[De._name+".range[1]"]=De.l2r(De.p2l(Re*De._length))}else{var Se=De._rl[0],ke=De._rl[1]-Se;be[De._name+".range[0]"]=De.l2r(Se+ke*fe),be[De._name+".range[1]"]=De.l2r(Se+ke*ge)}}if(xe&&xe.length){var Me=(fe+(1-ge))/2;z(xe,Me,1-Me,be,[])}}function B(te,fe){for(var ge=0;ge<te.length;ge++){var be=te[ge];if(!be.fixedrange){if(be.rangebreaks){var xe=0,_e=be._length,De=be.p2l(xe+fe)-be.p2l(xe),Fe=be.p2l(_e+fe)-be.p2l(_e),Te=(De+Fe)/2;be.range=[be.l2r(be._rl[0]-Te),be.l2r(be._rl[1]-Te)]}else be.range=[be.l2r(be._rl[0]-fe/be._m),be.l2r(be._rl[1]-fe/be._m)];be.limitRange&&be.limitRange()}}}function W(te){return 1-(te>=0?Math.min(te,.9):1/(1/Math.max(te,-.3)+3.222))}function J(te,fe,ge){return te?te==="nsew"?ge?"":fe==="pan"?"move":"crosshair":te.toLowerCase()+"-resize":"pointer"}function re(te,fe,ge,be,xe){return te.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ge,be)).attr("d",xe+"Z")}function ne(te,fe,ge){return te.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(fe,ge)).attr("d","M0,0Z")}function le(te,fe,ge,be,xe,_e){te.attr("d",be+"M"+ge.l+","+ge.t+"v"+ge.h+"h"+ge.w+"v-"+ge.h+"h-"+ge.w+"Z"),$(te,fe,xe,_e)}function $(te,fe,ge,be){ge||(te.transition().style("fill",be>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function Z(te){m.select(te).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ie(te){I&&te.data&&te._context.showTips&&(P.notifier(P._(te,"Double-click to zoom back out"),"long"),I=!1)}function X(te,fe){return"M"+(te.l-.5)+","+(fe-x-.5)+"h-3v"+(2*x+1)+"h3ZM"+(te.r+.5)+","+(fe-x-.5)+"h3v"+(2*x+1)+"h-3Z"}function Q(te,fe){return"M"+(fe-x-.5)+","+(te.t-.5)+"v-3h"+(2*x+1)+"v3ZM"+(fe-x-.5)+","+(te.b+.5)+"v3h"+(2*x+1)+"v-3Z"}function oe(te){var fe=Math.floor(Math.min(te.b-te.t,te.r-te.l,x)/2);return"M"+(te.l-3.5)+","+(te.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(te.l-3.5)+","+(te.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function j(te,fe,ge,be,xe){for(var _e=!1,De={},Fe={},Te,Re,Se,ke,Me=(xe||{}).xaHash,Ve=(xe||{}).yaHash,tt=0;tt<fe.length;tt++){var it=fe[tt];for(Te in ge)if(it[Te]){for(Se in it)!(xe&&(Me[Se]||Ve[Se]))&&!(Se.charAt(0)==="x"?ge:be)[Se]&&(De[Se]=Te);for(Re in be)!(xe&&(Me[Re]||Ve[Re]))&&it[Re]&&(_e=!0)}for(Re in be)if(it[Re])for(ke in it)!(xe&&(Me[ke]||Ve[ke]))&&!(ke.charAt(0)==="x"?ge:be)[ke]&&(Fe[ke]=Re)}_e&&(P.extendFlat(De,Fe),Fe={});var Je={},Qe=[];for(Se in De){var ct=w(te,Se);Qe.push(ct),Je[ct._id]=ct}var ht={},dt=[];for(ke in Fe){var Tt=w(te,ke);dt.push(Tt),ht[Tt._id]=Tt}return{xaHash:Je,yaHash:ht,xaxes:Qe,yaxes:dt,xLinks:De,yLinks:Fe,isSubplotConstrained:_e}}function Y(te,fe){if(!S)te.onwheel!==void 0?te.onwheel=fe:te.onmousewheel!==void 0?te.onmousewheel=fe:te.isAddedWheelEvent||(te.isAddedWheelEvent=!0,te.addEventListener("wheel",fe,{passive:!1}));else{var ge=te.onwheel!==void 0?"wheel":"mousewheel";te._onwheel&&te.removeEventListener(ge,te._onwheel),te._onwheel=fe,te.addEventListener(ge,fe,{passive:!1})}}function se(te){var fe=[];for(var ge in te)fe.push(te[ge]);return fe}G.exports={makeDragBox:D,makeDragger:N,makeRectDragger:k,makeZoombox:re,makeCorners:ne,updateZoombox:le,xyCorners:oe,transitionZoombox:$,removeZoombox:Z,showDoubleClickNotifier:ie,attachWheelEventHandler:Y}},42464:function(G,H,e){var m=e(33428),P=e(93024),s=e(86476),L=e(93972),S=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;H.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){m.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var a=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),g=u.split("y");return l[0]===g[0]?Number(l[1]||1)-Number(g[1]||1):Number(l[0]||1)-Number(g[0]||1)}return t._plots[f].mainplot?1:-1});a.forEach(function(f){var u=t._plots[f],l=u.xaxis,g=u.yaxis;if(!u.mainplot){var h=S(r,u,l._offset,g._offset,l._length,g._length,"ns","ew");h.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&P.hover(r,i,f)},P.hover(r,i,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,s.unhover(r,i))},r._context.showAxisDragHandles&&(S(r,u,l._offset-v,g._offset-v,v,v,"n","w"),S(r,u,l._offset+l._length,g._offset-v,v,v,"n","e"),S(r,u,l._offset-v,g._offset+g._length,v,v,"s","w"),S(r,u,l._offset+l._length,g._offset+g._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),S(r,u,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),S(r,u,l._offset,T,l._length*.1,v,"","w"),S(r,u,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(f===g._mainSubplot){var c=g._mainLinePosition;g.side!=="right"&&(c-=v),S(r,u,c,g._offset+g._length*.1,v,g._length*.8,"ns",""),S(r,u,c,g._offset+g._length*.9,v,g._length*.1,"s",""),S(r,u,c,g._offset,v,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,P.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,P.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},H.updateFx(r)}},H.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},36632:function(G,H,e){var m=e(24040),P=e(3400),s=e(79811);G.exports=function(S){return function(p,r){var t=p[S];if(Array.isArray(t))for(var a=m.subplotsRegistry.cartesian,n=a.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,g=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var c=t[T];if(P.isPlainObject(c)){var i=s.cleanId(c.xref,"x",!1),d=s.cleanId(c.yref,"y",!1),b=n.x.test(i),w=n.y.test(d);if(b||w){h||P.pushUnique(r._basePlotModules,a);var C=!1;b&&u.indexOf(i)===-1&&(u.push(i),C=!0),w&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&b&&w&&g.push(i+d)}}}}}},57952:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=e(7316),S=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),a=s.ensureSingle;function n(T,c,i){return s.ensureSingle(T,c,i,function(d){d.datum(i)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=r.idRegex,H.attrRegex=r.attrRegex,H.attributes=e(26720),H.layoutAttributes=e(94724),H.supplyLayoutDefaults=e(67352),H.transitionAxes=e(73736),H.finalizeSubplots=function(T,c){var i=c._subplots,d=i.xaxis,b=i.yaxis,w=i.cartesian,C=w.concat(i.gl2d||[]),y={},E={},A,o,M;for(A=0;A<C.length;A++){var x=C[A].split("y");y[x[0]]=1,E["y"+x[1]]=1}for(A=0;A<d.length;A++)o=d[A],y[o]||(M=(T[p.id2name(o)]||{}).anchor,r.idRegex.y.test(M)||(M="y"),w.push(o+M),C.push(o+M),E[M]||(E[M]=1,s.pushUnique(b,M)));for(A=0;A<b.length;A++)M=b[A],E[M]||(o=(T[p.id2name(M)]||{}).anchor,r.idRegex.x.test(o)||(o="x"),w.push(o+M),C.push(o+M),y[o]||(y[o]=1,s.pushUnique(d,o)));if(!C.length){o="",M="";for(var I in T)if(r.attrRegex.test(I)){var D=I.charAt(0);D==="x"?(!o||+I.substr(5)<+o.substr(5))&&(o=I):(!M||+I.substr(5)<+M.substr(5))&&(M=I)}o=o?p.name2id(o):"x",M=M?p.name2id(M):"y",d.push(o),b.push(M),w.push(o+M)}},H.plot=function(T,c,i,d){var b=T._fullLayout,w=b._subplots.cartesian,C=T.calcdata,y;if(!Array.isArray(c))for(c=[],y=0;y<C.length;y++)c.push(y);for(y=0;y<w.length;y++){for(var E=w[y],A=b._plots[E],o=[],M,x=0;x<C.length;x++){var I=C[x],D=I[0].trace;D.xaxis+D.yaxis===E&&((c.indexOf(D.index)!==-1||D.carpet)&&(M&&M[0].trace.xaxis+M[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&o.indexOf(M)===-1&&o.push(M),o.push(I)),M=I)}f(T,A,o,i,d)}};function f(T,c,i,d,b){for(var w=r.traceLayerClasses,C=T._fullLayout,y=C._modules,E,A,o,M={},x=0;x<i.length;x++){var I=i[x][0].trace,D=I.zorder||0;M[D]||(M[D]=[]),M[D].push(i[x])}for(var N=[],k=[],O=Object.keys(M).map(Number).sort(s.sorterAsc),F=0;F<O.length;F++)for(var z=O[F],B=0;B<y.length;B++){E=y[B];var W=E.name,J=P.modules[W].categories;if(J.svg){var re=E.layerName||W+"layer",ne=re+(F?Number(F)+1:""),le=E.plot;A=v(i,le,z),o=A[0],i=A[1],o.length&&N.push({i:w.indexOf(re),zorder:F,className:ne,plotMethod:le,cdModule:o}),J.zoomScale&&k.push("."+ne)}}N.sort(function(ie,X){return(ie.zorder||0)-(X.zorder||0)||ie.i-X.i});var $=c.plot.selectAll("g.mlayer").data(N,function(ie){return ie.className});if($.enter().append("g").attr("class",function(ie){return ie.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),$.exit().remove(),$.order(),$.each(function(ie){var X=m.select(this),Q=ie.className;ie.plotMethod(T,c,ie.cdModule,X,d,b),r.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&S.setClipUrl(X,c.layerClipId,T)}),C._has("scattergl")&&(E=P.getModule("scattergl"),o=v(i,E)[0],E.plot(T,c,o)),!T._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),k.length)){var Z=c.plot.selectAll(k.join(",")).selectAll(".trace");c.zoomScalePts=Z.selectAll("path.point"),c.zoomScaleTxt=Z.selectAll(".textpoint")}}H.clean=function(T,c,i,d){var b=d._plots||{},w=c._plots||{},C=d._subplots||{},y,E,A;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(A in b)y=b[A],y.plotgroup&&y.plotgroup.remove();var o=d._has&&d._has("gl"),M=c._has&&c._has("gl");if(o&&!M)for(A in b)y=b[A],y._scene&&y._scene.destroy();if(C.xaxis&&C.yaxis){var x=p.listIds({_fullLayout:d});for(E=0;E<x.length;E++){var I=x[E];c[p.id2name(I)]||d._infolayer.selectAll(".g-"+I+"title").remove()}}var D=d._has&&d._has("cartesian"),N=c._has&&c._has("cartesian");if(D&&!N)g(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(E=0;E<C.cartesian.length;E++){var k=C.cartesian[E];if(!w[k]){var O="."+k+",."+k+"-x,."+k+"-y";d._cartesianlayer.selectAll(O).remove(),h(k,d)}}},H.drawFramework=function(T){var c=T._fullLayout,i=u(T),d=c._cartesianlayer.selectAll(".subplot").data(i,String);d.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),d.order(),d.exit().call(g,c),d.each(function(b){var w=b[0],C=c._plots[w];C.plotgroup=m.select(this),l(T,C),C.draglayer=a(c._draggers,"g",w)})},H.rangePlot=function(T,c,i){l(T,c),f(T,c,i),L.style(T)};function u(T){var c=T._fullLayout,i=c._subplots.cartesian,d=i.length,b,w,C,y,E,A,o=[],M=[];for(b=0;b<d;b++){C=i[b],y=c._plots[C],E=y.xaxis,A=y.yaxis;var x=E._mainAxis,I=A._mainAxis,D=x._id+I._id,N=c._plots[D];y.overlays=[],D!==C&&N?(y.mainplot=D,y.mainplotinfo=N,M.push(C)):(y.mainplot=void 0,y.mainplotinfo=void 0,o.push(C))}for(b=0;b<M.length;b++)C=M[b],y=c._plots[C],y.mainplotinfo.overlays.push(y);var k=o.concat(M),O=new Array(d);for(b=0;b<d;b++){C=k[b],y=c._plots[C],E=y.xaxis,A=y.yaxis;var F=[C,E.layer,A.layer,E.overlaying||"",A.overlaying||""];for(w=0;w<y.overlays.length;w++)F.push(y.overlays[w].id);O[b]=F}return O}function l(T,c){var i=c.plotgroup,d=c.id,b=r.layerValue2layerClass[c.xaxis.layer],w=r.layerValue2layerClass[c.yaxis.layer],C=T._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var A=c.mainplotinfo,o=A.plotgroup,M=d+"-x",x=d+"-y";c.minorGridlayer=A.minorGridlayer,c.gridlayer=A.gridlayer,c.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",M),a(A.overlinesBelow,"path",x),a(A.overaxesBelow,"g",M),a(A.overaxesBelow,"g",x),c.plot=a(A.overplot,"g",d),a(A.overlinesAbove,"path",M),a(A.overlinesAbove,"path",x),a(A.overaxesAbove,"g",M),a(A.overaxesAbove,"g",x),c.xlines=o.select(".overlines-"+b).select("."+M),c.ylines=o.select(".overlines-"+w).select("."+x),c.xaxislayer=o.select(".overaxes-"+b).select("."+M),c.yaxislayer=o.select(".overaxes-"+w).select("."+x)}else if(C)c.xlines=a(i,"path","xlines-above"),c.ylines=a(i,"path","ylines-above"),c.xaxislayer=a(i,"g","xaxislayer-above"),c.yaxislayer=a(i,"g","yaxislayer-above");else{var y=a(i,"g","layer-subplot");c.shapelayer=a(y,"g","shapelayer"),c.imagelayer=a(y,"g","imagelayer"),c.minorGridlayer=a(i,"g","minor-gridlayer"),c.gridlayer=a(i,"g","gridlayer"),c.zerolinelayer=a(i,"g","zerolinelayer");var E=a(i,"g","layer-between");c.shapelayerBetween=a(E,"g","shapelayer"),c.imagelayerBetween=a(E,"g","imagelayer"),a(i,"path","xlines-below"),a(i,"path","ylines-below"),c.overlinesBelow=a(i,"g","overlines-below"),a(i,"g","xaxislayer-below"),a(i,"g","yaxislayer-below"),c.overaxesBelow=a(i,"g","overaxes-below"),c.plot=a(i,"g","plot"),c.overplot=a(i,"g","overplot"),c.xlines=a(i,"path","xlines-above"),c.ylines=a(i,"path","ylines-above"),c.overlinesAbove=a(i,"g","overlines-above"),a(i,"g","xaxislayer-above"),a(i,"g","yaxislayer-above"),c.overaxesAbove=a(i,"g","overaxes-above"),c.xlines=i.select(".xlines-"+b),c.ylines=i.select(".ylines-"+w),c.xaxislayer=i.select(".xaxislayer-"+b),c.yaxislayer=i.select(".yaxislayer-"+w)}C||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(I){return I[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function g(T,c){if(T){var i={};T.each(function(E){var A=E[0],o=m.select(this);o.remove(),h(A,c),i[A]=!0});for(var d in c._plots)for(var b=c._plots[d],w=b.overlays||[],C=0;C<w.length;C++){var y=w[C];i[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(T,c){c._draggers.selectAll("g."+T).remove(),c._defs.select("#clip"+c._uid+T+"plot").remove()}H.toSVG=function(T){var c=T._fullLayout._glimages,i=m.select(T).selectAll(".svg-container"),d=i.filter(function(w,C){return C===i.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function b(){var w=this,C=w.toDataURL("image/png"),y=c.append("svg:image");y.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(b)},H.updateFx=e(42464).updateFx},94724:function(G,H,e){var m=e(25376),P=e(22548),s=e(98192).u,L=e(92880).extendFlat,S=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,a=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=L({},n,{values:n.values.slice().concat(["sync"])});function u(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=5),A}function i(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},b={valType:"color",dflt:P.lightLine,editType:"ticks"};function w(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var C=L({},s,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:m({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:S("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:i(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:m({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:S("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:b,gridwidth:w(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:g,tickvals:h,ticks:T,ticklen:c("minor"),tickwidth:i("minor"),tickcolor:d,gridcolor:b,gridwidth:w("minor"),griddash:C,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:m({editType:"ticks"})}}},67352:function(G,H,e){var m=e(3400),P=e(76308),s=e(10624).isUnifiedHover,L=e(41008),S=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),a=e(71888),n=e(37668),f=e(79811),u=f.id2name,l=f.name2id,g=e(33816).AX_ID_PATTERN,h=e(24040),T=h.traceIs,c=h.getComponentMethod;function i(d,b,w){Array.isArray(d[b])?d[b].push(w):d[b]=[w]}G.exports=function(b,w,C){var y=w.autotypenumbers,E={},A={},o={},M={},x={},I={},D={},N={},k={},O={},F,z;for(F=0;F<C.length;F++){var B=C[F];if(!(!T(B,"cartesian")&&!T(B,"gl2d"))){var W;if(B.xaxis)W=u(B.xaxis),i(E,W,B);else if(B.xaxes)for(z=0;z<B.xaxes.length;z++)i(E,u(B.xaxes[z]),B);var J;if(B.yaxis)J=u(B.yaxis),i(E,J,B);else if(B.yaxes)for(z=0;z<B.yaxes.length;z++)i(E,u(B.yaxes[z]),B);if(B.type==="funnel"?B.orientation==="h"?(W&&(A[W]=!0),J&&(D[J]=!0)):J&&(o[J]=!0):B.type==="image"?(J&&(N[J]=!0),W&&(N[W]=!0)):(J&&(x[J]=!0,I[J]=!0),(!T(B,"carpet")||B.type==="carpet"&&!B._cheater)&&W&&(M[W]=!0)),B.type==="carpet"&&B._cheater&&W&&(A[W]=!0),T(B,"2dMap")&&(k[W]=!0,k[J]=!0),T(B,"oriented")){var re=B.orientation==="h"?J:W;O[re]=!0}}}var ne=w._subplots,le=ne.xaxis,$=ne.yaxis,Z=m.simpleMap(le,u),ie=m.simpleMap($,u),X=Z.concat(ie),Q=P.background;le.length&&$.length&&(Q=m.coerce(b,w,v,"plot_bgcolor"));var oe=P.combine(Q,w.paper_bgcolor),j,Y,se,te,fe;function ge(){var he=E[j]||[];fe._traceIndices=he.map(function(me){return me._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=j,fe._id=Y}function be(he,me){return m.coerce(te,fe,p,he,me)}function xe(he,me){return m.coerce2(te,fe,p,he,me)}function _e(he){return he==="x"?$:le}function De(he,me){for(var Ne=he==="x"?Z:ie,$e=[],ot=0;ot<Ne.length;ot++){var st=Ne[ot];st!==me&&!(b[st]||{}).overlaying&&$e.push(l(st))}return $e}var Fe={x:_e("x"),y:_e("y")},Te=Fe.x.concat(Fe.y),Re={},Se=[];function ke(){var he=te.matches;g.test(he)&&Te.indexOf(he)===-1&&(Re[he]=te.type,Se=Object.keys(Re))}var Me=L(b,w),Ve=s(Me);for(F=0;F<X.length;F++){j=X[F],Y=l(j),se=j.charAt(0),m.isPlainObject(b[j])||(b[j]={}),te=b[j],fe=S.newContainer(w,j,se+"axis"),ge();var tt=se==="x"&&!M[j]&&A[j]||se==="y"&&!x[j]&&o[j],it=se==="y"&&(!I[j]&&D[j]||N[j]),Je={hasMinor:!0,letter:se,font:w.font,outerTicks:k[j],showGrid:!O[j],data:E[j]||[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:tt,reverseDflt:it,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[Y],noAutotickangles:se==="y"};be("uirevision",w.uirevision),r(te,fe,be,Je),t(te,fe,be,Je,w);var Qe=Ve&&se===Me.charAt(0),ct=xe("spikecolor",Ve?fe.color:void 0),ht=xe("spikethickness",Ve?1.5:void 0),dt=xe("spikedash",Ve?"dot":void 0),Tt=xe("spikemode",Ve?"across":void 0),Et=xe("spikesnap"),rt=be("showspikes",!!Qe||!!ct||!!ht||!!dt||!!Tt||!!Et);rt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var ze=u(te.overlaying),Ge=[0,1];if(w[ze]!==void 0){var je=u(w[ze].anchor);w[je]!==void 0&&(Ge=w[je].domain)}n(te,fe,be,{letter:se,counterAxes:Fe[se],overlayableAxes:De(se,j),grid:w.grid,overlayingDomain:Ge}),be("title.standoff"),ke(),fe._input=te}for(F=0;F<Se.length;){Y=Se[F++],j=u(Y),se=j.charAt(0),m.isPlainObject(b[j])||(b[j]={}),te=b[j],fe=S.newContainer(w,j,se+"axis"),ge();var We={letter:se,font:w.font,outerTicks:k[j],showGrid:!O[j],data:[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[Y]};be("uirevision",w.uirevision),fe.type=Re[Y]||"linear",t(te,fe,be,We,w),n(te,fe,be,{letter:se,counterAxes:Fe[se],overlayableAxes:De(se,j),grid:w.grid}),be("fixedrange"),ke(),fe._input=te}var Le=c("rangeslider","handleDefaults"),Pe=c("rangeselector","handleDefaults");for(F=0;F<Z.length;F++)j=Z[F],te=b[j],fe=w[j],Le(b,w,j),fe.type==="date"&&Pe(te,fe,w,ie,fe.calendar),be("fixedrange");for(F=0;F<ie.length;F++){j=ie[F],te=b[j],fe=w[j];var Ye=w[u(fe.anchor)],Ce=c("rangeslider","isVisible")(Ye);be("fixedrange",Ce)}a.handleDefaults(b,w,{axIds:Te.concat(Se).sort(f.idSort),axHasImage:N})}},42136:function(G,H,e){var m=e(49760).mix,P=e(22548),s=e(3400);G.exports=function(S,v,p,r){r=r||{};var t=r.dfltColor;function a(o,M){return s.coerce2(S,v,r.attributes,o,M)}var n=a("linecolor",t),f=a("linewidth"),u=p("showline",r.showLine||!!n||!!f);u||(delete v.linecolor,delete v.linewidth);var l=m(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=a("gridcolor",l),h=a("gridwidth"),T=a("griddash"),c=p("showgrid",r.showGrid||!!g||!!h||!!T);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var i=m(v.gridcolor,r.bgColor,67).toRgbString(),d=a("minor.gridcolor",i),b=a("minor.gridwidth",v.gridwidth||1),w=a("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!b||!!w);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=a("zerolinecolor",t),E=a("zerolinewidth"),A=p("zeroline",r.showGrid||!!y||!!E);A||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(G,H,e){var m=e(38248),P=e(3400);G.exports=function(L,S,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],a=p.letter,n=p.grid,f=p.overlayingDomain,u,l,g,h,T,c;n&&(l=n._domains[a][n._axisMap[S._id]],u=n._anchors[S._id],l&&(g=n[a+"side"].split(" ")[0],h=n.domain[a][g==="right"||g==="top"?1:0])),l=l||[0,1],u=u||(m(L.position)?"free":r[0]||"free"),g=g||(a==="x"?"bottom":"left"),h=h||0,T=0,c=!1;var i=P.coerce(L,S,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=P.coerce(L,S,{side:{valType:"enumerated",values:a==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(i==="free"){if(a==="y"){var b=v("autoshift");b&&(h=d==="left"?f[0]:f[1],c=S.automargin?S.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",c);var w=!1;if(t.length&&(w=P.coerce(L,S,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var C=v("domain",l);C[0]>C[1]-.000244140625&&(S.domain=l),P.noneOrAll(L.domain,S.domain,l),S.tickmode==="sync"&&(S.tickmode="auto")}return v("layer"),S}},42568:function(G,H,e){var m=e(85024);G.exports=function(s,L,S,v,p){p||(p={});var r=p.tickSuffixDflt,t=m(s),a=S("tickprefix");a&&S("showtickprefix",t);var n=S("ticksuffix",r);n&&S("showticksuffix",t)}},96312:function(G,H,e){var m=e(76808);G.exports=function(s,L,S,v){var p=L._template||{},r=L.type||p.type||"-";S("minallowed"),S("maxallowed");var t=S("range");if(!t){var a;!v.noInsiderange&&r!=="log"&&(a=S("insiderange"),a&&(a[0]===null||a[1]===null)&&(L.insiderange=!1,a=void 0),a&&(t=S("range",a)))}var n=L.getAutorangeDflt(t,v),f=S("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,u=!0),u||(n=L.getAutorangeDflt(t,v),f=S("autorange",n)),f&&(m(S,f,t),(r==="linear"||r==="-")&&S("rangemode")),L.cleanRange()}},21160:function(G,H,e){var m=e(84284).FROM_BL;G.exports=function(s,L,S){S===void 0&&(S=m[s.constraintoward||"center"]);var v=[s.r2l(s.range[0]),s.r2l(s.range[1])],p=v[0]+(v[1]-v[0])*S;s.range=s._input.range=[s.l2r(p+(v[0]-p)*L),s.l2r(p+(v[1]-p)*L)],s.setScale()}},78344:function(G,H,e){var m=e(33428),P=e(94336).E9,s=e(3400),L=s.numberFormat,S=e(38248),v=s.cleanNumber,p=s.ms2DateTime,r=s.dateTime2ms,t=s.ensureNumber,a=s.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,g=n.ONEWEEK,h=n.ONEDAY,T=n.ONEHOUR,c=n.ONEMIN,i=n.ONESEC,d=e(79811),b=e(33816),w=b.HOUR_PATTERN,C=b.WEEKDAY_PATTERN;function y(A){return Math.pow(10,A)}function E(A){return A!=null}G.exports=function(o,M){M=M||{};var x=o._id||"x",I=x.charAt(0);function D(X,Q){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&Q&&o.range&&o.range.length===2){var oe=o.range[0],j=o.range[1];return .5*(oe+j-2*l*Math.abs(oe-j))}else return u}function N(X,Q,oe,j){if((j||{}).msUTC&&S(X))return+X;var Y=r(X,oe||o.calendar);if(Y===u)if(S(X)){X=+X;var se=Math.floor(s.mod(X+.05,1)*10),te=Math.round(X-se/10);Y=r(new Date(te))+se/10}else return u;return Y}function k(X,Q,oe){return p(X,Q,oe||o.calendar)}function O(X){return o._categories[Math.round(X)]}function F(X){if(E(X)){if(o._categoriesMap===void 0&&(o._categoriesMap={}),o._categoriesMap[X]!==void 0)return o._categoriesMap[X];o._categories.push(typeof X=="number"?String(X):X);var Q=o._categories.length-1;return o._categoriesMap[X]=Q,Q}return u}function z(X,Q){for(var oe=new Array(Q),j=0;j<Q;j++){var Y=(X[0]||[])[j],se=(X[1]||[])[j];oe[j]=B([Y,se])}return oe}function B(X){if(o._categoriesMap)return o._categoriesMap[X]}function W(X){var Q=B(X);if(Q!==void 0)return Q;if(S(X))return+X}function J(X){return S(X)?+X:B(X)}function re(X,Q,oe){return m.round(oe+Q*X,2)}function ne(X,Q,oe){return(X-oe)/Q}var le=function(Q){return S(Q)?re(Q,o._m,o._b):u},$=function(X){return ne(X,o._m,o._b)};if(o.rangebreaks){var Z=I==="y";le=function(X){if(!S(X))return u;var Q=o._rangebreaks.length;if(!Q)return re(X,o._m,o._b);var oe=Z;o.range[0]>o.range[1]&&(oe=!oe);for(var j=oe?-1:1,Y=j*X,se=0,te=0;te<Q;te++){var fe=j*o._rangebreaks[te].min,ge=j*o._rangebreaks[te].max;if(Y<fe)break;if(Y>ge)se=te+1;else{se=Y<(fe+ge)/2?te:te+1;break}}var be=o._B[se]||0;return isFinite(be)?re(X,o._m2,be):0},$=function(X){var Q=o._rangebreaks.length;if(!Q)return ne(X,o._m,o._b);for(var oe=0,j=0;j<Q&&!(X<o._rangebreaks[j].pmin);j++)X>o._rangebreaks[j].pmax&&(oe=j+1);return ne(X,o._m2,o._B[oe])}}o.c2l=o.type==="log"?D:t,o.l2c=o.type==="log"?y:t,o.l2p=le,o.p2l=$,o.c2p=o.type==="log"?function(X,Q){return le(D(X,Q))}:le,o.p2c=o.type==="log"?function(X){return y($(X))}:$,["linear","-"].indexOf(o.type)!==-1?(o.d2r=o.r2d=o.d2c=o.r2c=o.d2l=o.r2l=v,o.c2d=o.c2r=o.l2d=o.l2r=t,o.d2p=o.r2p=function(X){return o.l2p(v(X))},o.p2d=o.p2r=$,o.cleanPos=t):o.type==="log"?(o.d2r=o.d2l=function(X,Q){return D(v(X),Q)},o.r2d=o.r2c=function(X){return y(v(X))},o.d2c=o.r2l=v,o.c2d=o.l2r=t,o.c2r=D,o.l2d=y,o.d2p=function(X,Q){return o.l2p(o.d2r(X,Q))},o.p2d=function(X){return y($(X))},o.r2p=function(X){return o.l2p(v(X))},o.p2r=$,o.cleanPos=t):o.type==="date"?(o.d2r=o.r2d=s.identity,o.d2c=o.r2c=o.d2l=o.r2l=N,o.c2d=o.c2r=o.l2d=o.l2r=k,o.d2p=o.r2p=function(X,Q,oe){return o.l2p(N(X,0,oe))},o.p2d=o.p2r=function(X,Q,oe){return k($(X),Q,oe)},o.cleanPos=function(X){return s.cleanDate(X,u,o.calendar)}):o.type==="category"?(o.d2c=o.d2l=F,o.r2d=o.c2d=o.l2d=O,o.d2r=o.d2l_noadd=W,o.r2c=function(X){var Q=J(X);return Q!==void 0?Q:o.fraction2r(.5)},o.l2r=o.c2r=t,o.r2l=J,o.d2p=function(X){return o.l2p(o.r2c(X))},o.p2d=function(X){return O($(X))},o.r2p=o.d2p,o.p2r=$,o.cleanPos=function(X){return typeof X=="string"&&X!==""?X:t(X)}):o.type==="multicategory"&&(o.r2d=o.c2d=o.l2d=O,o.d2r=o.d2l_noadd=W,o.r2c=function(X){var Q=W(X);return Q!==void 0?Q:o.fraction2r(.5)},o.r2c_just_indices=B,o.l2r=o.c2r=t,o.r2l=W,o.d2p=function(X){return o.l2p(o.r2c(X))},o.p2d=function(X){return O($(X))},o.r2p=o.d2p,o.p2r=$,o.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:t(X)},o.setupMultiCategory=function(X){var Q=o._traceIndices,oe,j,Y=o._matchGroup;if(Y&&o._categories.length===0){for(var se in Y)if(se!==x){var te=M[d.id2name(se)];Q=Q.concat(te._traceIndices)}}var fe=[[0,{}],[0,{}]],ge=[];for(oe=0;oe<Q.length;oe++){var be=X[Q[oe]];if(I in be){var xe=be[I],_e=be._length||s.minRowLength(xe);if(a(xe[0])&&a(xe[1]))for(j=0;j<_e;j++){var De=xe[0][j],Fe=xe[1][j];E(De)&&E(Fe)&&(ge.push([De,Fe]),De in fe[0][1]||(fe[0][1][De]=fe[0][0]++),Fe in fe[1][1]||(fe[1][1][Fe]=fe[1][0]++))}}}for(ge.sort(function(Te,Re){var Se=fe[0][1],ke=Se[Te[0]]-Se[Re[0]];if(ke)return ke;var Me=fe[1][1];return Me[Te[1]]-Me[Re[1]]}),oe=0;oe<ge.length;oe++)F(ge[oe])}),o.fraction2r=function(X){var Q=o.r2l(o.range[0]),oe=o.r2l(o.range[1]);return o.l2r(Q+X*(oe-Q))},o.r2fraction=function(X){var Q=o.r2l(o.range[0]),oe=o.r2l(o.range[1]);return(o.r2l(X)-Q)/(oe-Q)},o.limitRange=function(X){var Q=o.minallowed,oe=o.maxallowed;if(!(Q===void 0&&oe===void 0)){X||(X="range");var j=s.nestedProperty(o,X).get(),Y=s.simpleMap(j,o.r2l),se=Y[1]<Y[0];se&&Y.reverse();var te=s.simpleMap([Q,oe],o.r2l);if(Q!==void 0&&Y[0]<te[0]&&(j[se?1:0]=Q),oe!==void 0&&Y[1]>te[1]&&(j[se?0:1]=oe),j[0]===j[1]){var fe=o.l2r(Q),ge=o.l2r(oe);if(Q!==void 0){var be=fe+1;oe!==void 0&&(be=Math.min(be,ge)),j[se?1:0]=be}if(oe!==void 0){var xe=ge+1;Q!==void 0&&(xe=Math.max(xe,fe)),j[se?0:1]=xe}}}},o.cleanRange=function(X,Q){o._cleanRange(X,Q),o.limitRange(X)},o._cleanRange=function(X,Q){Q||(Q={}),X||(X="range");var oe=s.nestedProperty(o,X).get(),j,Y;if(o.type==="date"?Y=s.dfltRange(o.calendar):I==="y"?Y=b.DFLTRANGEY:o._name==="realaxis"?Y=[0,1]:Y=Q.dfltRange||b.DFLTRANGEX,Y=Y.slice(),(o.rangemode==="tozero"||o.rangemode==="nonnegative")&&(Y[0]=0),!oe||oe.length!==2){s.nestedProperty(o,X).set(Y);return}var se=oe[0]===null,te=oe[1]===null;for(o.type==="date"&&!o.autorange&&(oe[0]=s.cleanDate(oe[0],u,o.calendar),oe[1]=s.cleanDate(oe[1],u,o.calendar)),j=0;j<2;j++)if(o.type==="date"){if(!s.isDateTime(oe[j],o.calendar)){o[X]=Y;break}if(o.r2l(oe[0])===o.r2l(oe[1])){var fe=s.constrain(o.r2l(oe[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);oe[0]=o.l2r(fe-1e3),oe[1]=o.l2r(fe+1e3);break}}else{if(!S(oe[j]))if(!(se||te)&&S(oe[1-j]))oe[j]=oe[1-j]*(j?10:.1);else{o[X]=Y;break}if(oe[j]<-f?oe[j]=-f:oe[j]>f&&(oe[j]=f),oe[0]===oe[1]){var ge=Math.max(1,Math.abs(oe[0]*1e-6));oe[0]-=ge,oe[1]+=ge}}},o.setScale=function(X){var Q=M._size;if(o.overlaying){var oe=d.getFromId({_fullLayout:M},o.overlaying);o.domain=oe.domain}var j=X&&o._r?"_r":"range",Y=o.calendar;o.cleanRange(j);var se=o.r2l(o[j][0],Y),te=o.r2l(o[j][1],Y),fe=I==="y";if(fe?(o._offset=Q.t+(1-o.domain[1])*Q.h,o._length=Q.h*(o.domain[1]-o.domain[0]),o._m=o._length/(se-te),o._b=-o._m*te):(o._offset=Q.l+o.domain[0]*Q.w,o._length=Q.w*(o.domain[1]-o.domain[0]),o._m=o._length/(te-se),o._b=-o._m*se),o._rangebreaks=[],o._lBreaks=0,o._m2=0,o._B=[],o.rangebreaks){var ge,be;if(o._rangebreaks=o.locateBreaks(Math.min(se,te),Math.max(se,te)),o._rangebreaks.length){for(ge=0;ge<o._rangebreaks.length;ge++)be=o._rangebreaks[ge],o._lBreaks+=Math.abs(be.max-be.min);var xe=fe;se>te&&(xe=!xe),xe&&o._rangebreaks.reverse();var _e=xe?-1:1;for(o._m2=_e*o._length/(Math.abs(te-se)-o._lBreaks),o._B.push(-o._m2*(fe?te:se)),ge=0;ge<o._rangebreaks.length;ge++)be=o._rangebreaks[ge],o._B.push(o._B[o._B.length-1]-_e*o._m2*(be.max-be.min));for(ge=0;ge<o._rangebreaks.length;ge++)be=o._rangebreaks[ge],be.pmin=le(be.min),be.pmax=le(be.max)}}if(!isFinite(o._m)||!isFinite(o._b)||o._length<0)throw M._replotting=!1,new Error("Something went wrong with axis scaling")},o.maskBreaks=function(X){var Q=o.rangebreaks||[],oe,j,Y,se,te;Q._cachedPatterns||(Q._cachedPatterns=Q.map(function(Se){return Se.enabled&&Se.bounds?s.simpleMap(Se.bounds,Se.pattern?v:o.d2c):null})),Q._cachedValues||(Q._cachedValues=Q.map(function(Se){return Se.enabled&&Se.values?s.simpleMap(Se.values,o.d2c).sort(s.sorterAsc):null}));for(var fe=0;fe<Q.length;fe++){var ge=Q[fe];if(ge.enabled){if(ge.bounds){var be=ge.pattern;switch(oe=Q._cachedPatterns[fe],j=oe[0],Y=oe[1],be){case C:te=new Date(X),se=te.getUTCDay(),j>Y&&(Y+=7,se<j&&(se+=7));break;case w:te=new Date(X);var xe=te.getUTCHours(),_e=te.getUTCMinutes(),De=te.getUTCSeconds(),Fe=te.getUTCMilliseconds();se=xe+(_e/60+De/3600+Fe/36e5),j>Y&&(Y+=24,se<j&&(se+=24));break;case"":se=X;break}if(se>=j&&se<Y)return u}else for(var Te=Q._cachedValues[fe],Re=0;Re<Te.length;Re++)if(j=Te[Re],Y=j+ge.dvalue,X>=j&&X<Y)return u}}return X},o.locateBreaks=function(X,Q){var oe,j,Y,se,te=[];if(!o.rangebreaks)return te;var fe=o.rangebreaks.slice().sort(function(Me,Ve){return Me.pattern===C&&Ve.pattern===w?-1:Ve.pattern===C&&Me.pattern===w?1:0}),ge=function(Me,Ve){if(Me=s.constrain(Me,X,Q),Ve=s.constrain(Ve,X,Q),Me!==Ve){for(var tt=!0,it=0;it<te.length;it++){var Je=te[it];Me<Je.max&&Ve>=Je.min&&(Me<Je.min&&(Je.min=Me),Ve>Je.max&&(Je.max=Ve),tt=!1)}tt&&te.push({min:Me,max:Ve})}};for(oe=0;oe<fe.length;oe++){var be=fe[oe];if(be.enabled)if(be.bounds){var xe=X,_e=Q;be.pattern&&(xe=Math.floor(xe)),j=s.simpleMap(be.bounds,be.pattern?v:o.r2l),Y=j[0],se=j[1];var De=new Date(xe),Fe,Te;switch(be.pattern){case C:Te=g,Fe=((se<Y?7:0)+(se-Y))*h,xe+=Y*h-(De.getUTCDay()*h+De.getUTCHours()*T+De.getUTCMinutes()*c+De.getUTCSeconds()*i+De.getUTCMilliseconds());break;case w:Te=h,Fe=((se<Y?24:0)+(se-Y))*T,xe+=Y*T-(De.getUTCHours()*T+De.getUTCMinutes()*c+De.getUTCSeconds()*i+De.getUTCMilliseconds());break;default:xe=Math.min(j[0],j[1]),_e=Math.max(j[0],j[1]),Te=_e-xe,Fe=Te}for(var Re=xe;Re<_e;Re+=Te)ge(Re,Re+Fe)}else for(var Se=s.simpleMap(be.values,o.d2c),ke=0;ke<Se.length;ke++)Y=Se[ke],se=Y+be.dvalue,ge(Y,se)}return te.sort(function(Me,Ve){return Me.min-Ve.min}),te},o.makeCalcdata=function(X,Q,oe){var j,Y,se,te,fe=o.type,ge=fe==="date"&&X[Q+"calendar"];if(Q in X){if(j=X[Q],te=X._length||s.minRowLength(j),s.isTypedArray(j)&&(fe==="linear"||fe==="log")){if(te===j.length)return j;if(j.subarray)return j.subarray(0,te)}if(fe==="multicategory")return z(j,te);for(Y=new Array(te),se=0;se<te;se++)Y[se]=o.d2c(j[se],0,ge,oe)}else{var be=Q+"0"in X?o.d2c(X[Q+"0"],0,ge):0,xe=X["d"+Q]?Number(X["d"+Q]):1;for(j=X[{x:"y",y:"x"}[Q]],te=X._length||j.length,Y=new Array(te),se=0;se<te;se++)Y[se]=be+se*xe}if(o.rangebreaks)for(se=0;se<te;se++)Y[se]=o.maskBreaks(Y[se]);return Y},o.isValidRange=function(X,Q){return Array.isArray(X)&&X.length===2&&(Q&&X[0]===null||S(o.r2l(X[0])))&&(Q&&X[1]===null||S(o.r2l(X[1])))},o.getAutorangeDflt=function(X,Q){var oe=!o.isValidRange(X,"nullOk");return oe&&Q&&Q.reverseDflt?oe="reversed":X&&(X[0]===null&&X[1]===null?oe=!0:X[0]===null&&X[1]!==null?oe="min":X[0]!==null&&X[1]===null&&(oe="max")),oe},o.isReversed=function(){var X=o.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},o.isPtWithinRange=function(X,Q){var oe=o.c2l(X[I],null,Q),j=o.r2l(o.range[0]),Y=o.r2l(o.range[1]);return j<Y?j<=oe&&oe<=Y:Y<=oe&&oe<=j},o._emptyCategories=function(){o._categories=[],o._categoriesMap={}},o.clearCalc=function(){var X=o._matchGroup;if(X){var Q=null,oe=null;for(var j in X){var Y=M[d.id2name(j)];if(Y._categories){Q=Y._categories,oe=Y._categoriesMap;break}}Q&&oe?(o._categories=Q,o._categoriesMap=oe):o._emptyCategories()}else o._emptyCategories();if(o._initialCategories)for(var se=0;se<o._initialCategories.length;se++)F(o._initialCategories[se])},o.sortByInitialCategories=function(){var X=[];if(o._emptyCategories(),o._initialCategories)for(var Q=0;Q<o._initialCategories.length;Q++)F(o._initialCategories[Q]);X=X.concat(o._traceIndices);var oe=o._matchGroup;for(var j in oe)if(x!==j){var Y=M[d.id2name(j)];Y._categories=o._categories,Y._categoriesMap=o._categoriesMap,X=X.concat(Y._traceIndices)}return X};var ie=M._d3locale;o.type==="date"&&(o._dateFormat=ie?ie.timeFormat:P,o._extraFormat=M._extraFormat),o._separators=M.separators,o._numFormat=ie?ie.numberFormat:L,delete o._minDtick,delete o._forceTick0}},85024:function(G){G.exports=function(e){var m=["showexponent","showtickprefix","showticksuffix"],P=m.filter(function(L){return e[L]!==void 0}),s=function(L){return e[L]===e[P[0]]};if(P.every(s)||P.length===1)return e[P[0]]}},95936:function(G,H,e){var m=e(3400),P=e(76308).contrast,s=e(94724),L=e(85024),S=e(51272);G.exports=function(r,t,a,n,f){f||(f={});var u=a("labelalias");m.isPlainObject(u)||delete t.labelalias;var l=L(r),g=a("showticklabels");if(g){var h=f.font||{},T=t.color,c=t.ticklabelposition||"",i=c.indexOf("inside")!==-1?P(f.bgColor):T&&T!==s.color.dflt?T:h.color;if(m.coerceFont(a,"tickfont",h,{overrideDflt:{color:i}}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&a("ticklabelstep"),!f.noAng){var d=a("tickangle");!f.noAutotickangles&&d==="auto"&&a("autotickangles")}if(n!=="category"){var b=a("tickformat");S(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!b&&n!=="date"&&(a("showexponent",l),a("exponentformat"),a("minexponent"),a("separatethousands"))}}};function v(p,r){function t(n,f){return m.coerce(p,r,s.tickformatstops,n,f)}var a=t("enabled");a&&(t("dtickrange"),t("value"))}},25404:function(G,H,e){var m=e(3400),P=e(94724);G.exports=function(L,S,v,p){var r=p.isMinor,t=r?L.minor||{}:L,a=r?S.minor:S,n=r?P.minor:P,f=r?"minor.":"",u=m.coerce2(t,a,n,"ticklen",r?(S.ticklen||5)*.6:void 0),l=m.coerce2(t,a,n,"tickwidth",r?S.tickwidth||1:void 0),g=m.coerce2(t,a,n,"tickcolor",(r?S.tickcolor:void 0)||a.color),h=v(f+"ticks",!r&&p.outerTicks||u||l||g?"outside":"");h||(delete a.ticklen,delete a.tickwidth,delete a.tickcolor)}},26332:function(G,H,e){var m=e(98728),P=e(3400).isArrayOrTypedArray,s=e(38116).isTypedArraySpec,L=e(38116).decodeTypedArraySpec;G.exports=function(v,p,r,t,a){a||(a={});var n=a.isMinor,f=n?v.minor||{}:v,u=n?p.minor:p,l=n?"minor.":"";function g(C){var y=f[C];return s(y)&&(y=L(y)),y!==void 0?y:(u._template||{})[C]}var h=g("tick0"),T=g("dtick"),c=g("tickvals"),i=P(c)?"array":T?"linear":"auto",d=r(l+"tickmode",i);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var b=u.dtick=m.dtick(T,t);u.tick0=m.tick0(h,t,p.calendar,b)}else if(t!=="multicategory"){var w=r(l+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=e(43616),S=e(54460);G.exports=function(p,r,t,a){var n=p._fullLayout;if(r.length===0){S.redrawComponents(p);return}function f(w){var C=w.xaxis,y=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),w.plot.call(L.setTranslate,C._offset,y._offset).call(L.setScale,1,1);var E=w.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(L.setPointGroupScale,1,1),E.selectAll(".textpoint").call(L.setTextPointsScale,1,1),E.call(L.hideOutsideRangePoints,w)}function u(w,C){var y=w.plotinfo,E=y.xaxis,A=y.yaxis,o=E._length,M=A._length,x=!!w.xr1,I=!!w.yr1,D=[];if(x){var N=s.simpleMap(w.xr0,E.r2l),k=s.simpleMap(w.xr1,E.r2l),O=N[1]-N[0],F=k[1]-k[0];D[0]=(N[0]*(1-C)+C*k[0]-N[0])/(N[1]-N[0])*o,D[2]=o*(1-C+C*F/O),E.range[0]=E.l2r(N[0]*(1-C)+C*k[0]),E.range[1]=E.l2r(N[1]*(1-C)+C*k[1])}else D[0]=0,D[2]=o;if(I){var z=s.simpleMap(w.yr0,A.r2l),B=s.simpleMap(w.yr1,A.r2l),W=z[1]-z[0],J=B[1]-B[0];D[1]=(z[1]*(1-C)+C*B[1]-z[1])/(z[0]-z[1])*M,D[3]=M*(1-C+C*J/W),A.range[0]=E.l2r(z[0]*(1-C)+C*B[0]),A.range[1]=A.l2r(z[1]*(1-C)+C*B[1])}else D[1]=0,D[3]=M;S.drawOne(p,E,{skipTitle:!0}),S.drawOne(p,A,{skipTitle:!0}),S.redrawComponents(p,[E._id,A._id]);var re=x?o/D[2]:1,ne=I?M/D[3]:1,le=x?D[0]:0,$=I?D[1]:0,Z=x?D[0]/D[2]*o:0,ie=I?D[1]/D[3]*M:0,X=E._offset-Z,Q=A._offset-ie;y.clipRect.call(L.setTranslate,le,$).call(L.setScale,1/re,1/ne),y.plot.call(L.setTranslate,X,Q).call(L.setScale,re,ne),L.setPointGroupScale(y.zoomScalePts,1/re,1/ne),L.setTextPointsScale(y.zoomScaleTxt,1/re,1/ne)}var l;a&&(l=a());function g(){for(var w={},C=0;C<r.length;C++){var y=r[C],E=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr1&&(w[E._name+".range"]=y.xr1.slice()),y.yr1&&(w[A._name+".range"]=y.yr1.slice())}return l&&l(),P.call("relayout",p,w).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}function h(){for(var w={},C=0;C<r.length;C++){var y=r[C],E=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr0&&(w[E._name+".range"]=y.xr0.slice()),y.yr0&&(w[A._name+".range"]=y.yr0.slice())}return P.call("relayout",p,w).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}var T,c,i,d=m.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,h()});function b(){c=Date.now();for(var w=Math.min(1,(c-T)/t.duration),C=d(w),y=0;y<r.length;y++)u(r[y],C);c-T>t.duration?(g(),i=window.cancelAnimationFrame(b)):i=window.requestAnimationFrame(b)}return T=Date.now(),i=window.requestAnimationFrame(b),Promise.resolve()}},14944:function(G,H,e){var m=e(24040).traceIs,P=e(52976);G.exports=function(r,t,a,n){a("autotypenumbers",n.autotypenumbersDflt);var f=a("type",(n.splomStash||{}).type);f==="-"&&(s(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function s(p,r){if(p.type==="-"){var t=p._id,a=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=a);var f=L(r,t,a);if(f){if(f.type==="histogram"&&a==={v:"y",h:"x"}[f.orientation||"v"]){p.type="linear";return}var u=a+"calendar",l=f[u],g={noMultiCategory:!m(f,"cartesian")||m(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&a==={h:"x",v:"y"}[f.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=p.autotypenumbers,v(f,a)){var h=S(f),T=[];for(n=0;n<r.length;n++){var c=r[n];!m(c,"box-violin")||(c[a+"axis"]||a)!==t||(c[h]!==void 0?T.push(c[h][0]):c.name!==void 0?T.push(c.name):T.push("text"),c[u]!==l&&(l=void 0))}p.type=P(T,l,g)}else if(f.type==="splom"){var i=f.dimensions,d=i[f._axesDim[t]];d.visible&&(p.type=P(d.values,l,g))}else p.type=P(f[a]||[f[a+"0"]],l,g)}}}function L(p,r,t){for(var a=0;a<p.length;a++){var n=p[a];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function S(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=S(p),a=m(p,"box-violin"),n=m(p._fullInput||{},"candlestick");return a&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(G,H,e){var m=e(24040),P=e(3400);H.manageCommandObserver=function(r,t,a,n){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=H.hasSimpleAPICommandBindings(r,a,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){s(r,l,f.cache),f.check=function(){if(u){var c=s(r,l,f.cache);return c.changed&&n&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<g.length;h++)r._internalOn(g[h],f.check);f.remove=function(){for(var T=0;T<g.length;T++)r._removeInternalListener(g[T],f.check)}}else P.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},H.hasSimpleAPICommandBindings=function(r,t,a){var n,f=t.length,u;for(n=0;n<f;n++){var l,g=t[n],h=g.method,T=g.args;if(Array.isArray(T)||(T=[]),!h)return!1;var c=H.computeAPICommandBindings(r,h,T);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=c[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var i=0;i<u.traces.length;i++)if(u.traces[i]!==l.traces[i])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;a&&(a[d]=n)}return u};function s(r,t,a){var n,f,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=P.nestedProperty(n,t.prop).get(),u=a[t.type]=a[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}H.executeAPICommand=function(r,t,a){if(t==="skip")return Promise.resolve();var n=m.apiMethodRegistry[t],f=[r];Array.isArray(a)||(a=[]);for(var u=0;u<a.length;u++)f.push(a[u]);return n.apply(null,f).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},H.computeAPICommandBindings=function(r,t,a){var n;switch(Array.isArray(a)||(a=[]),t){case"restyle":n=v(r,a);break;case"relayout":n=S(r,a);break;case"update":n=v(r,[a[0],a[2]]).concat(S(r,[a[1]]));break;case"animate":n=L(r,a);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function S(r,t){var a=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(P.isPlainObject(n))f=n;else return a;return p(f,function(u,l,g){a.push({type:"layout",prop:u,value:g})},"",0),a}function v(r,t){var a,n,f,u,l=[];if(n=t[0],f=t[1],a=t[2],u={},typeof n=="string")u[n]=f;else if(P.isPlainObject(n))u=n,a===void 0&&(a=f);else return l;return a===void 0&&(a=null),p(u,function(g,h,T){var c,i;if(Array.isArray(T)){i=T.slice();var d=Math.min(i.length,r.data.length);a&&(d=Math.min(d,a.length)),c=[];for(var b=0;b<d;b++)c[b]=a?a[b]:b}else i=T,c=a?a.slice():null;if(c===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(c)){if(!Array.isArray(i)){var w=i;i=[];for(var C=0;C<c.length;C++)i[C]=w}i.length=Math.min(c.length,i.length)}l.push({type:"data",prop:g,traces:c,value:i})},"",0),l}function p(r,t,a,n){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=a+(n>0?".":"")+f;P.isPlainObject(u)?p(u,t,l,n+1):t(l,f,u)}})}},86968:function(G,H,e){var m=e(92880).extendFlat;H.u=function(P,s){P=P||{},s=s||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,s.description&&""+s.description;var S={x:m({},L,{}),y:m({},L,{}),editType:P.editType};return P.noGridCell||(S.row={valType:"integer",min:0,dflt:0,editType:P.editType},S.column={valType:"integer",min:0,dflt:0,editType:P.editType}),S},H.Q=function(P,s,L,S){var v=S&&S.x||[0,1],p=S&&S.y||[0,1],r=s.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var a=L("domain.row");a!==void 0&&(a<r.rows?p=r._domains.y[a]:delete P.domain.row)}var n=L("domain.x",v),f=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),f[0]<f[1]||(P.domain.y=p.slice())}},25376:function(G){G.exports=function(H){var e=H.variantValues,m=H.editType,P=H.colorEditType;P===void 0&&(P=m);var s={editType:m,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};H.noNumericWeightValues&&(s.valType="enumerated",s.values=s.extras,s.extras=void 0,s.min=void 0,s.max=void 0);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:m},size:{valType:"number",min:1,editType:m},color:{valType:"color",editType:P},weight:s,style:{editType:m,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:H.noFontVariant?void 0:{editType:m,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:H.noFontTextcase?void 0:{editType:m,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:H.noFontLineposition?void 0:{editType:m,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:H.noFontShadow?void 0:{editType:m,valType:"string",dflt:H.autoShadowDflt?"auto":"none"},editType:m};return H.autoSize&&(L.size.dflt="auto"),H.autoColor&&(L.color.dflt="auto"),H.arrayOk&&(L.family.arrayOk=!0,L.weight.arrayOk=!0,L.style.arrayOk=!0,H.noFontVariant||(L.variant.arrayOk=!0),H.noFontTextcase||(L.textcase.arrayOk=!0),H.noFontLineposition||(L.lineposition.arrayOk=!0),H.noFontShadow||(L.shadow.arrayOk=!0),L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(G,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(G,H,e){var m=e(33428),P=e(83356),s=P.geoPath,L=P.geoDistance,S=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),a=e(43616),n=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,g=e(86476),h=e(22676).prepSelect,T=e(22676).clearOutline,c=e(22676).selectOnClick,i=e(79248),d=e(79552),b=e(27144),w=e(59972),C=e(55712).NO;function y(x){this.id=x.id,this.graphDiv=x.graphDiv,this.container=x.container,this.topojsonURL=x.topojsonURL,this.isStatic=x.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=y.prototype;G.exports=function(I){return new y(I)},E.plot=function(x,I,D,N){var k=this;if(N)return k.update(x,I,!0);k._geoCalcData=x,k._fullLayout=I;var O=I[this.id],F=[],z=!1;for(var B in d.layerNameToAdjective)if(B!=="frame"&&O["show"+B]){z=!0;break}for(var W=!1,J=0;J<x.length;J++){var re=x[0][0].trace;re._geo=k,re.locationmode&&(z=!0);var ne=re.marker;if(ne){var le=ne.angle,$=ne.angleref;(le||$==="north"||$==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,z){var Z=w.getTopojsonName(O);(k.topojson===null||Z!==k.topojsonName)&&(k.topojsonName=Z,PlotlyGeoAssets.topojson[k.topojsonName]===void 0&&F.push(k.fetchTopojson()))}F=F.concat(b.fetchTraceGeoData(x)),D.push(new Promise(function(ie,X){Promise.all(F).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(x,I),ie()}).catch(X)}))},E.fetchTopojson=function(){var x=this,I=w.getTopojsonPath(x.topojsonURL,x.topojsonName);return new Promise(function(D,N){m.json(I,function(k,O){if(k)return k.status===404?N(new Error(["plotly.js could not find topojson file at",I+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",I].join(" ")));PlotlyGeoAssets.topojson[x.topojsonName]=O,D()})})},E.update=function(x,I,D){var N=I[this.id];this.hasChoropleth=!1;for(var k=0;k<x.length;k++){var O=x[k],F=O[0].trace;F.type==="choropleth"&&(this.hasChoropleth=!0),F.visible===!0&&F._length>0&&F._module.calcGeoJSON(O,I)}if(!D){var z=this.updateProjection(x,I);if(z)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(I,N),this.updateDims(I,N),this.updateFx(I,N),f.generalUpdatePerTraceModule(this.graphDiv,this,x,N);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},E.updateProjection=function(x,I){var D=this.graphDiv,N=I[this.id],k=I._size,O=N.domain,F=N.projection,z=N.lonaxis,B=N.lataxis,W=z._ax,J=B._ax,re=this.projection=A(N),ne=[[k.l+k.w*O.x[0],k.t+k.h*(1-O.y[1])],[k.l+k.w*O.x[1],k.t+k.h*(1-O.y[0])]],le=N.center||{},$=F.rotation||{},Z=z.range||[],ie=B.range||[];if(N.fitbounds){W._length=ne[1][0]-ne[0][0],J._length=ne[1][1]-ne[0][1],W.range=l(D,W),J.range=l(D,J);var X=(W.range[0]+W.range[1])/2,Q=(J.range[0]+J.range[1])/2;if(N._isScoped)le={lon:X,lat:Q};else if(N._isClipped){le={lon:X,lat:Q},$={lon:X,lat:Q,roll:$.roll};var oe=F.type,j=d.lonaxisSpan[oe]/2||180,Y=d.lataxisSpan[oe]/2||90;Z=[X-j,X+j],ie=[Q-Y,Q+Y]}else le={lon:X,lat:Q},$={lon:X,lat:$.lat,roll:$.roll}}re.center([le.lon-$.lon,le.lat-$.lat]).rotate([-$.lon,-$.lat,$.roll]).parallels(F.parallels);var se=M(Z,ie);re.fitExtent(ne,se);var te=this.bounds=re.getBounds(se),fe=this.fitScale=re.scale(),ge=re.translate();if(N.fitbounds){var be=re.getBounds(M(W.range,J.range)),xe=Math.min((te[1][0]-te[0][0])/(be[1][0]-be[0][0]),(te[1][1]-te[0][1])/(be[1][1]-be[0][1]));isFinite(xe)?re.scale(xe*fe):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(F.scale*fe);var _e=this.midPt=[(te[0][0]+te[1][0])/2,(te[0][1]+te[1][1])/2];if(re.translate([ge[0]+(_e[0]-ge[0]),ge[1]+(_e[1]-ge[1])]).clipExtent(te),N._isAlbersUsa){var De=re([le.lon,le.lat]),Fe=re.translate();re.translate([Fe[0]-(De[0]-Fe[0]),Fe[1]-(De[1]-Fe[1])])}},E.updateBaseLayers=function(x,I){var D=this,N=D.topojson,k=D.layers,O=D.basePaths;function F(ne){return ne==="lonaxis"||ne==="lataxis"}function z(ne){return!!d.lineLayers[ne]}function B(ne){return!!d.fillLayers[ne]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,J=W.filter(function(ne){return z(ne)||B(ne)?I["show"+ne]:F(ne)?I[ne].showgrid:!0}),re=D.framework.selectAll(".layer").data(J,String);re.exit().each(function(ne){delete k[ne],delete O[ne],m.select(this).remove()}),re.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var le=k[ne]=m.select(this);ne==="bg"?D.bgRect=le.append("rect").style("pointer-events","all"):F(ne)?O[ne]=le.append("path").style("fill","none"):ne==="backplot"?le.append("g").classed("choroplethlayer",!0):ne==="frontplot"?le.append("g").classed("scatterlayer",!0):z(ne)?O[ne]=le.append("path").style("fill","none").style("stroke-miterlimit",2):B(ne)&&(O[ne]=le.append("path").style("stroke","none"))}),re.order(),re.each(function(ne){var le=O[ne],$=d.layerNameToAdjective[ne];ne==="frame"?le.datum(d.sphereSVG):z(ne)||B(ne)?le.datum(C(N,N.objects[ne])):F(ne)&&le.datum(o(ne,I,x)).call(t.stroke,I[ne].gridcolor).call(a.dashLine,I[ne].griddash,I[ne].gridwidth),z(ne)?le.call(t.stroke,I[$+"color"]).call(a.dashLine,"",I[$+"width"]):B(ne)&&le.call(t.fill,I[$+"color"])})},E.updateDims=function(x,I){var D=this.bounds,N=(I.framewidth||0)/2,k=D[0][0]-N,O=D[0][1]-N,F=D[1][0]-k+N,z=D[1][1]-O+N;a.setRect(this.clipRect,k,O,F,z),this.bgRect.call(a.setRect,k,O,F,z).call(t.fill,I.bgcolor),this.xaxis._offset=k,this.xaxis._length=F,this.yaxis._offset=O,this.yaxis._length=z},E.updateFx=function(x,I){var D=this,N=D.graphDiv,k=D.bgRect,O=x.dragmode,F=x.clickmode;if(D.isStatic)return;function z(){var re=D.viewInitial,ne={};for(var le in re)ne[D.id+"."+le]=re[le];v.call("_guiRelayout",N,ne),N.emit("plotly_doubleclick",null)}function B(re){return D.projection.invert([re[0]+D.xaxis._offset,re[1]+D.yaxis._offset])}var W=function(re,ne){if(ne.isRect){var le=re.range={};le[D.id]=[B([ne.xmin,ne.ymin]),B([ne.xmax,ne.ymax])]}else{var $=re.lassoPoints={};$[D.id]=ne.map(B)}},J={element:D.bgRect.node(),gd:N,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:W},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(re){re===2&&T(N)}};O==="pan"?(k.node().onmousedown=null,k.call(i(D,I)),k.on("dblclick.zoom",z),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(k.on(".zoom",null),J.prepFn=function(re,ne,le){h(re,ne,le,J,O)},g.init(J)),k.on("mousemove",function(){var re=D.projection.invert(p.getPositionFromD3Event());if(!re)return g.unhover(N,m.event);D.xaxis.p2c=function(){return re[0]},D.yaxis.p2c=function(){return re[1]},n.hover(N,m.event,D.id)}),k.on("mouseout",function(){N._dragging||g.unhover(N,m.event)}),k.on("click",function(){O!=="select"&&O!=="lasso"&&(F.indexOf("select")>-1&&c(m.event,N,[D.xaxis],[D.yaxis],D.id,J),F.indexOf("event")>-1&&n.click(N,m.event))})},E.makeFramework=function(){var x=this,I=x.graphDiv,D=I._fullLayout,N="clip"+D._uid+x.id;x.clipDef=D._clips.append("clipPath").attr("id",N),x.clipRect=x.clipDef.append("rect"),x.framework=m.select(x.container).append("g").attr("class","geo "+x.id).call(a.setClipUrl,N,I),x.project=function(k){var O=x.projection(k);return O?[O[0]-x.xaxis._offset,O[1]-x.yaxis._offset]:[null,null]},x.xaxis={_id:"x",c2p:function(k){return x.project(k)[0]}},x.yaxis={_id:"y",c2p:function(k){return x.project(k)[1]}},x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(x.mockAxis,D)},E.saveViewInitial=function(x){var I=x.center||{},D=x.projection,N=D.rotation||{};this.viewInitial={fitbounds:x.fitbounds,"projection.scale":D.scale};var k;x._isScoped?k={"center.lon":I.lon,"center.lat":I.lat}:x._isClipped?k={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:k={"center.lon":I.lon,"center.lat":I.lat,"projection.rotation.lon":N.lon},p.extendFlat(this.viewInitial,k)},E.render=function(x){this._hasMarkerAngles&&x?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var x=this.projection,I=x.getPath(),D;function N(O){var F=x(O.lonlat);return F?r(F[0],F[1]):null}function k(O){return x.isLonLatOverEdges(O.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",I);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(O){return I(O.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",k).attr("transform",N)};function A(x){var I=x.projection,D=I.type,N=d.projNames[D];N="geo"+p.titleCase(N);for(var k=P[N]||S[N],O=k(),F=x._isSatellite?Math.acos(1/I.distance)*180/Math.PI:x._isClipped?d.lonaxisSpan[D]/2:null,z=["center","rotate","parallels","clipExtent"],B=function(re){return re?O:[]},W=0;W<z.length;W++){var J=z[W];typeof O[J]!="function"&&(O[J]=B)}return O.isLonLatOverEdges=function(re){if(O(re)===null)return!0;if(F){var ne=O.rotate(),le=L(re,[-ne[0],-ne[1]]),$=F*Math.PI/180;return le>$}else return!1},O.getPath=function(){return s().projection(O)},O.getBounds=function(re){return O.getPath().bounds(re)},O.precision(d.precision),x._isSatellite&&O.tilt(I.tilt).distance(I.distance),F&&O.clipAngle(F-d.clipPad),O}function o(x,I,D){var N=1e-6,k=2.5,O=I[x],F=d.scopeDefaults[I.scope],z,B,W;x==="lonaxis"?(z=F.lonaxisRange,B=F.lataxisRange,W=function(Q,oe){return[Q,oe]}):x==="lataxis"&&(z=F.lataxisRange,B=F.lonaxisRange,W=function(Q,oe){return[oe,Q]});var J={type:"linear",range:[z[0],z[1]-N],tick0:O.tick0,dtick:O.dtick};u.setConvert(J,D);var re=u.calcTicks(J);!I.isScoped&&x==="lonaxis"&&re.pop();for(var ne=re.length,le=new Array(ne),$=0;$<ne;$++)for(var Z=re[$].x,ie=le[$]=[],X=B[0];X<B[1]+k;X+=k)ie.push(W(Z,X));return{type:"MultiLineString",coordinates:le}}function M(x,I){var D=d.clipPad,N=x[0]+D,k=x[1]-D,O=I[0]+D,F=I[1]-D;N>0&&k<0&&(k+=360);var z=(k-N)/4;return{type:"Polygon",coordinates:[[[N,O],[N,F],[N+z,F],[N+2*z,F],[N+3*z,F],[k,F],[k,O],[k-z,O],[k-2*z,O],[k-3*z,O],[N,O]]]}}},10816:function(G,H,e){var m=e(84888).KY,P=e(3400).counterRegex,s=e(43520),L="geo",S=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(a){for(var n=a._fullLayout,f=a.calcdata,u=n._subplots[L],l=0;l<u.length;l++){var g=u[l],h=m(f,L,g),T=n[g],c=T._subplot;c||(c=s({id:g,graphDiv:a,container:n._geolayer.node(),topojsonURL:a._context.topojsonURL,staticPlot:a._context.staticPlot}),n[g]._subplot=c),c.plot(h,n,a._promises)}}function r(a,n,f,u){for(var l=u._subplots[L]||[],g=0;g<l.length;g++){var h=l[g],T=u[h]._subplot;!n[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(a){for(var n=a._fullLayout,f=n._subplots[L],u=0;u<f.length;u++){var l=n[f[u]],g=l._subplot;g.updateFx(n,l)}}G.exports={attr:L,name:L,idRoot:L,idRegex:S,attrRegex:S,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(G,H,e){var m=e(22548),P=e(86968).u,s=e(98192).u,L=e(79552),S=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:m.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:s},r=G.exports=S({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:m.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:m.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:m.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:m.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:m.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(G,H,e){var m=e(3400),P=e(168),s=e(84888).op,L=e(79552),S=e(40384),v=L.axesNames;G.exports=function(t,a,n){P(t,a,n,{type:"geo",attributes:S,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,a,n){var f=s(n.fullData,"geo",n.id),u=f.map(function(ie){return ie._expandedIndex}),l=a("resolution"),g=a("scope"),h=L.scopeDefaults[g],T=a("projection.type",h.projType),c=t._isAlbersUsa=T==="albers usa";c&&(g=t.scope="usa");var i=t._isScoped=g!=="world",d=t._isSatellite=T==="satellite",b=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!L.lonaxisSpan[T];if(r.visible===!1){var C=m.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var y=a("visible"),E,A=0;A<v.length;A++){var o=v[A],M=[30,10][A],x;if(i)x=h[o+"Range"];else{var I=L[o+"Span"],D=(I[T]||I["*"])/2,N=a("projection.rotation."+o.substr(0,3),h.projRotate[A]);x=[N-D,N+D]}var k=a(o+".range",x);a(o+".tick0"),a(o+".dtick",M),E=a(o+".showgrid",y?void 0:!1),E&&(a(o+".gridcolor"),a(o+".gridwidth"),a(o+".griddash")),t[o]._ax={type:"linear",_id:o.slice(0,3),_traceIndices:u,setScale:m.identity,c2l:m.identity,r2l:m.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var O=t.lonaxis.range,F=t.lataxis.range,z=O[0],B=O[1];z>0&&B<0&&(B+=360);var W=(z+B)/2,J;if(!c){var re=i?h.projRotate:[W,0,0];J=a("projection.rotation.lon",re[0]),a("projection.rotation.lat",re[1]),a("projection.rotation.roll",re[2]),E=a("showcoastlines",!i&&y),E&&(a("coastlinecolor"),a("coastlinewidth")),E=a("showocean",y?void 0:!1),E&&a("oceancolor")}var ne,le;if(c?(ne=-96.6,le=38.7):(ne=i?W:J,le=(F[0]+F[1])/2),a("center.lon",ne),a("center.lat",le),d&&(a("projection.tilt"),a("projection.distance")),b){var $=h.projParallels||[0,60];a("projection.parallels",$)}a("projection.scale"),E=a("showland",y?void 0:!1),E&&a("landcolor"),E=a("showlakes",y?void 0:!1),E&&a("lakecolor"),E=a("showrivers",y?void 0:!1),E&&(a("rivercolor"),a("riverwidth")),E=a("showcountries",i&&g!=="usa"&&y),E&&(a("countrycolor"),a("countrywidth")),(g==="usa"||g==="north america"&&l===50)&&(a("showsubunits",y),a("subunitcolor"),a("subunitwidth")),i||(E=a("showframe",y),E&&(a("framecolor"),a("framewidth"))),a("bgcolor");var Z=a("fitbounds");Z&&(delete t.projection.scale,i?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(G,H,e){var m=e(33428),P=e(3400),s=e(24040),L=Math.PI/180,S=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(o,M){var x=o.projection,I;return M._isScoped?I=n:M._isClipped?I=u:I=f,I(o,x)}G.exports=r;function t(o,M){return m.behavior.zoom().translate(M.translate()).scale(M.scale())}function a(o,M,x){var I=o.id,D=o.graphDiv,N=D.layout,k=N[I],O=D._fullLayout,F=O[I],z={},B={};function W(J,re){z[I+"."+J]=P.nestedProperty(k,J).get(),s.call("_storeDirectGUIEdit",N,O._preGUI,z);var ne=P.nestedProperty(F,J);ne.get()!==re&&(ne.set(re),P.nestedProperty(k,J).set(re),B[I+"."+J]=re)}x(W),W("projection.scale",M.scale()/o.fitScale),W("fitbounds",!1),D.emit("plotly_relayout",B)}function n(o,M){var x=t(o,M);function I(){m.select(this).style(v)}function D(){M.scale(m.event.scale).translate(m.event.translate),o.render(!0);var O=M.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/o.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function N(O){var F=M.invert(o.midPt);O("center.lon",F[0]),O("center.lat",F[1])}function k(){m.select(this).style(p),a(o,M,N)}return x.on("zoomstart",I).on("zoom",D).on("zoomend",k),x}function f(o,M){var x=t(o,M),I=2,D,N,k,O,F,z,B,W,J;function re(X){return M.invert(X)}function ne(X){var Q=re(X);if(!Q)return!0;var oe=M(Q);return Math.abs(oe[0]-X[0])>I||Math.abs(oe[1]-X[1])>I}function le(){m.select(this).style(v),D=m.mouse(this),N=M.rotate(),k=M.translate(),O=N,F=re(D)}function $(){if(z=m.mouse(this),ne(D)){x.scale(M.scale()),x.translate(M.translate());return}M.scale(m.event.scale),M.translate([k[0],m.event.translate[1]]),F?re(z)&&(W=re(z),B=[O[0]+(W[0]-F[0]),N[1],N[2]],M.rotate(B),O=B):(D=z,F=re(D)),J=!0,o.render(!0);var X=M.rotate(),Q=M.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/o.fitScale,"geo.center.lon":Q[0],"geo.center.lat":Q[1],"geo.projection.rotation.lon":-X[0]})}function Z(){m.select(this).style(p),J&&a(o,M,ie)}function ie(X){var Q=M.rotate(),oe=M.invert(o.midPt);X("projection.rotation.lon",-Q[0]),X("center.lon",oe[0]),X("center.lat",oe[1])}return x.on("zoomstart",le).on("zoom",$).on("zoomend",Z),x}function u(o,M){M.rotate(),M.scale();var x=t(o,M),I=A(x,"zoomstart","zoom","zoomend"),D=0,N=x.on,k;x.on("zoomstart",function(){m.select(this).style(v);var W=m.mouse(this),J=M.rotate(),re=J,ne=M.translate(),le=g(J);k=l(M,W),N.call(x,"zoom",function(){var $=m.mouse(this);if(M.scale(m.event.scale),!k)W=$,k=l(M,W);else if(l(M,$)){M.rotate(J).translate(ne);var Z=l(M,$),ie=T(k,Z),X=w(h(le,ie)),Q=c(X,k,re);(!isFinite(Q[0])||!isFinite(Q[1])||!isFinite(Q[2]))&&(Q=re),M.rotate(Q),re=Q}F(I.of(this,arguments))}),O(I.of(this,arguments))}).on("zoomend",function(){m.select(this).style(p),N.call(x,"zoom",null),z(I.of(this,arguments)),a(o,M,B)}).on("zoom.redraw",function(){o.render(!0);var W=M.rotate();o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/o.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function O(W){D++||W({type:"zoomstart"})}function F(W){W({type:"zoom"})}function z(W){--D||W({type:"zoomend"})}function B(W){var J=M.rotate();W("projection.rotation.lon",-J[0]),W("projection.rotation.lat",-J[1])}return m.rebind(x,I,"on")}function l(o,M){var x=o.invert(M);return x&&isFinite(x[0])&&isFinite(x[1])&&C(x)}function g(o){var M=.5*o[0]*L,x=.5*o[1]*L,I=.5*o[2]*L,D=Math.sin(M),N=Math.cos(M),k=Math.sin(x),O=Math.cos(x),F=Math.sin(I),z=Math.cos(I);return[N*O*z+D*k*F,D*O*z-N*k*F,N*k*z+D*O*F,N*O*F-D*k*z]}function h(o,M){var x=o[0],I=o[1],D=o[2],N=o[3],k=M[0],O=M[1],F=M[2],z=M[3];return[x*k-I*O-D*F-N*z,x*O+I*k+D*z-N*F,x*F-I*z+D*k+N*O,x*z+I*F-D*O+N*k]}function T(o,M){if(!(!o||!M)){var x=E(o,M),I=Math.sqrt(y(x,x)),D=.5*Math.acos(Math.max(-1,Math.min(1,y(o,M)))),N=Math.sin(D)/I;return I&&[Math.cos(D),x[2]*N,-x[1]*N,x[0]*N]}}function c(o,M,x){var I=b(M,2,o[0]);I=b(I,1,o[1]),I=b(I,0,o[2]-x[2]);var D=M[0],N=M[1],k=M[2],O=I[0],F=I[1],z=I[2],B=Math.atan2(N,D)*S,W=Math.sqrt(D*D+N*N),J,re;Math.abs(F)>W?(re=(F>0?90:-90)-B,J=0):(re=Math.asin(F/W)*S-B,J=Math.sqrt(W*W-F*F));var ne=180-re-2*B,le=(Math.atan2(z,O)-Math.atan2(k,J))*S,$=(Math.atan2(z,O)-Math.atan2(k,-J))*S,Z=i(x[0],x[1],re,le),ie=i(x[0],x[1],ne,$);return Z<=ie?[re,le,x[2]]:[ne,$,x[2]]}function i(o,M,x,I){var D=d(x-o),N=d(I-M);return Math.sqrt(D*D+N*N)}function d(o){return(o%360+540)%360-180}function b(o,M,x){var I=x*L,D=o.slice(),N=M===0?1:0,k=M===2?1:2,O=Math.cos(I),F=Math.sin(I);return D[N]=o[N]*O-o[k]*F,D[k]=o[k]*O+o[N]*F,D}function w(o){return[Math.atan2(2*(o[0]*o[1]+o[2]*o[3]),1-2*(o[1]*o[1]+o[2]*o[2]))*S,Math.asin(Math.max(-1,Math.min(1,2*(o[0]*o[2]-o[3]*o[1]))))*S,Math.atan2(2*(o[0]*o[3]+o[1]*o[2]),1-2*(o[2]*o[2]+o[3]*o[3]))*S]}function C(o){var M=o[0]*L,x=o[1]*L,I=Math.cos(x);return[I*Math.cos(M),I*Math.sin(M),Math.sin(x)]}function y(o,M){for(var x=0,I=0,D=o.length;I<D;++I)x+=o[I]*M[I];return x}function E(o,M){return[o[1]*M[2]-o[2]*M[1],o[2]*M[0]-o[0]*M[2],o[0]*M[1]-o[1]*M[0]]}function A(o){for(var M=0,x=arguments.length,I=[];++M<x;)I.push(arguments[M]);var D=m.dispatch.apply(null,I);return D.of=function(N,k){return function(O){var F;try{F=O.sourceEvent=m.event,O.target=o,m.event=O,D[O.type].apply(N,k)}finally{m.event=F}}},D}},84888:function(G,H,e){var m=e(24040),P=e(33816).SUBPLOT_PATTERN;H.KY=function(s,L,S){var v=m.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,r=[],t=0;t<s.length;t++){var a=s[t],n=a[0].trace;n[p]===S&&r.push(a)}return r},H._M=function(s,L,S){var v=[],p=[],r;if(typeof L=="string"?r=m.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[v,s];for(var t=S,a=0;a<s.length;a++){var n=s[a],f=n[0].trace,u=f.zorder!==void 0;f.visible!==!0||f._length===0||(f._module&&f._module.plot===r&&(!u||f.zorder===t)?v.push(n):p.push(n))}return[v,p]},H.op=function(L,S,v){if(!m.subplotsRegistry[S])return[];var p=m.subplotsRegistry[S].attr,r=[],t,a,n;if(S==="gl2d"){var f=v.match(P);a="x"+f[1],n="y"+f[2]}for(var u=0;u<L.length;u++)t=L[u],S==="gl2d"&&m.traceIs(t,"gl2d")?t[p[0]]===a&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(G,H,e){var m=e(62644),P=e(97264),s=e(29128),L=e(33816),S=e(89184);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,a=r.glplot,n=new v(t,a);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,T=r.yaxis._id,c=0;c<g.length;c++)if(g[c][h]!==-1){if(g[c][T]!==-1)return!0;break}return!1}n.mouseListener=m(t,l),t.addEventListener("touchstart",function(g){var h=s(g.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),g.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var h=s(g.changedTouches[0],t);l(1,h[0],h[1]),g.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchend",function(g){l(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},S?{passive:!1}:!1);function l(g,h,T){var c=r.calcDataBox(),i=a.viewBox,d=n.lastPos[0],b=n.lastPos[1],w=L.MINDRAG*a.pixelRatio,C=L.MINZOOM*a.pixelRatio,y,E;h*=a.pixelRatio,T*=a.pixelRatio,T=i[3]-i[1]-T;function A(N,k,O){var F=Math.min(k,O),z=Math.max(k,O);F!==z?(c[N]=F,c[N+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var o=h/(i[2]-i[0])*(c[2]-c[0])+c[0],M=T/(i[3]-i[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=o,n.boxStart[1]=M,n.dragStart[0]=h,n.dragStart[1]=T),n.boxEnd[0]=o,n.boxEnd[1]=M,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var x=Math.abs(n.dragStart[0]-h)<C,I=Math.abs(n.dragStart[1]-T)<C;if(u()&&!(x&&I)){y=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var D=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*D)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(y)*D*(E>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(D)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(D))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/D*(y>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(D)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(D)))}else x&&(n.boxEnd[0]=n.boxStart[0]),I&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(y=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],y||E?(y&&(A(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),E&&(A(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=T),Math.abs(n.dragStart[0]-h)<w&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),y=(d-h)*(c[2]-c[0])/(a.viewBox[2]-a.viewBox[0]),E=(b-T)*(c[3]-c[1])/(a.viewBox[3]-a.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=E,c[3]+=E,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=T}return n.wheelListener=P(t,function(g,h){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),c=a.viewBox,i=n.lastPos[0],d=n.lastPos[1],b=Math.exp(5*h/(c[3]-c[1])),w=i/(c[2]-c[0])*(T[2]-T[0])+T[0],C=d/(c[3]-c[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*b+w,T[2]=(T[2]-w)*b+w,T[1]=(T[1]-C)*b+C,T[3]=(T[3]-C)*b+C,r.setRanges(T),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(G,H,e){var m=e(54460),P=e(43080);function s(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=s.prototype,S=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,a,n,f,u,l,g,h,T,c;for(T=0;T<2;++T){r=S[T];var i=r.charAt(0);for(t=p[this.scene[r]._name],a=t.title.text===this.scene.fullLayout._dfltTitle[i]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[T+c]=!1,this.labels[T+c]=a,this.labelColor[T+c]=P(t.title.font.color),this.labelFont[T+c]=t.title.font.family,this.labelSize[T+c]=t.title.font.size,this.labelPad[T+c]=this.getLabelPad(r,t),this.tickEnable[T+c]=!1,this.tickColor[T+c]=P((t.tickfont||{}).color),this.tickAngle[T+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+c]=this.getTickPad(t),this.tickMarkLength[T+c]=0,this.tickMarkWidth[T+c]=t.tickwidth||0,this.tickMarkColor[T+c]=P(t.tickcolor),this.borderLineEnable[T+c]=!1,this.borderLineColor[T+c]=P(t.linecolor),this.borderLineWidth[T+c]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,g=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),f?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(f||g)&&(this.borderLineEnable[T]=t.showline),(u||g)&&(this.borderLineEnable[T+2]=t.showline),(f||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},L.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,a=m.findSubplotsWithAxis(t,p);return a.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},L.getLabelPad=function(p,r){var t=1.5,a=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+a*(t+(n?1:0)):-10+a*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+a*(t+(n?1:.5)):10+a*(t+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new s(p)}G.exports=v},39952:function(G,H,e){var m=e(67824).overrideAll,P=e(17188),s=e(64859),L=e(9616),S=e(33816),v=e(57952),p=e(65460),r=e(84888).op;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=S.idRegex,H.attrRegex=S.attrRegex,H.attributes=e(26720),H.supplyLayoutDefaults=function(t,a,n){a._has("cartesian")||v.supplyLayoutDefaults(t,a,n)},H.layoutAttrOverrides=m(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=m({plot_bgcolor:s.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),H.plot=function(a){for(var n=a._fullLayout,f=a._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var g=u[l],h=n._plots[g],T=r(f,"gl2d",g),c=h._scene2d;c===void 0&&(c=new P({id:g,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(T,a.calcdata,n,a.layout)}},H.clean=function(t,a,n,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var g=u[l],h=f._plots[g];if(h._scene2d){var T=r(t,"gl2d",g);T.length===0&&(h._scene2d.destroy(),delete f._plots[g])}}v.clean.apply(this,arguments)},H.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},H.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var u=a._plots[n[f]],l=u._scene2d,g=l.toImage("png"),h=a._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},H.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var u=a._plots[n[f]]._scene2d;u.updateFx(a.dragmode)}}},17188:function(G,H,e){var m=e(24040),P=e(54460),s=e(93024),L=e(67792).gl_plot2d,S=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),a=e(16576),n=e(71888),f=n.enforce,u=n.clean,l=e(19280).doAutoRange,g=e(72760),h=g.drawMode,T=g.selectMode,c=["xaxis","yaxis"],i,d,b=e(33816).SUBPLOT_PATTERN;function w(E,A){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(A),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=S(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var C=w.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(i=document.createElement("canvas"),d=p({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=d}else{var E=this.container.querySelector(".gl-canvas-focus"),A=p({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){a(this),this.stopped=!0;return}this.canvas=E,this.gl=A}var o=this.canvas;o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",this.updateSize(o);var M=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");M.style.position="absolute",M.style.top=M.style.left="0px",M.style.width=M.style.height="100%",M.style["z-index"]=20,M.style["pointer-events"]="none";var x=this.mouseContainer=document.createElement("div");x.style.position="absolute",x.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var I=this.container;I.appendChild(M),I.appendChild(x);var D=this;x.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),x.addEventListener("mouseover",function(){D.isMouseOver=!0})},C.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var A=this.glplot.gl,o=A.drawingBufferWidth,M=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var x=new Uint8Array(o*M*4);A.readPixels(0,0,o,M,A.RGBA,A.UNSIGNED_BYTE,x);for(var I=0,D=M-1;I<D;++I,--D)for(var N=0;N<o;++N)for(var k=0;k<4;++k){var O=x[4*(o*I+N)+k];x[4*(o*I+N)+k]=x[4*(o*D+N)+k],x[4*(o*D+N)+k]=O}var F=document.createElement("canvas");F.width=o,F.height=M;var z=F.getContext("2d",{willReadFrequently:!0}),B=z.createImageData(o,M);B.data.set(x),z.putImageData(B,0,0);var W;switch(E){case"jpeg":W=F.toDataURL("image/jpeg");break;case"webp":W=F.toDataURL("image/webp");break;default:W=F.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),W},C.updateSize=function(E){E||(E=this.canvas);var A=this.pixelRatio,o=this.fullLayout,M=o.width,x=o.height,I=Math.ceil(A*M)|0,D=Math.ceil(A*x)|0;return(E.width!==I||E.height!==D)&&(E.width=I,E.height=D),E},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],A=0;A<2;++A)for(var o=0;o<E[A].length;++o)E[A][o].text=E[A][o].text+"";return E};function y(E,A){for(var o=0;o<2;++o){var M=E[o],x=A[o];if(M.length!==x.length)return!0;for(var I=0;I<M.length;++I)if(M[I].x!==x[I].x)return!0}return!1}C.updateRefs=function(E){this.fullLayout=E;var A=this.id.match(b),o="xaxis"+A[1],M="yaxis"+A[2];this.xaxis=this.fullLayout[o],this.yaxis=this.fullLayout[M]},C.relayoutCallback=function(){var E=this.graphDiv,A=this.xaxis,o=this.yaxis,M=E.layout,x={},I=x[A._name+".range"]=A.range.slice(),D=x[o._name+".range"]=o.range.slice();x[A._name+".autorange"]=A.autorange,x[o._name+".autorange"]=o.autorange,m.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,x);var N=M[A._name];N.range=I,N.autorange=A.autorange;var k=M[o._name];k.range=D,k.autorange=o.autorange,x.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",x)},C.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),o=this.glplotOptions.ticks;y(A,o)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var E=this.graphDiv,A=this.fullLayout.annotations,o=0;o<A.length;o++){var M=A[o];M.xref===this.xaxis._id&&M.yref===this.yaxis._id&&m.getComponentMethod("annotations","drawOne")(E,o)}},C.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(A){E[A].dispose(),delete E[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(E,A,o){var M=this.glplot;this.updateRefs(o),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,A),this.updateFx(o.dragmode);var x=o.width,I=o.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(o),D.screenBox=[0,0,x,I];var N={_fullLayout:{_axisConstraintGroups:o._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:o._size}};u(N,this.xaxis),u(N,this.yaxis);var k=o._size,O=this.xaxis.domain,F=this.yaxis.domain;D.viewBox=[k.l+O[0]*k.w,k.b+F[0]*k.h,x-k.r-(1-O[1])*k.w,I-k.t-(1-F[1])*k.h],this.mouseContainer.style.width=k.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=k.h*(F[1]-F[0])+"px",this.mouseContainer.height=k.h*(F[1]-F[0]),this.mouseContainer.style.left=k.l+O[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-F[1])*k.h+"px";var z,B;for(B=0;B<2;++B)z=this[c[B]],z._length=D.viewBox[B+2]-D.viewBox[B],l(this.graphDiv,z),z.setScale();f(N),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(o),M.update(D),this.glplot.draw()},C.calcDataBox=function(){var E=this.xaxis,A=this.yaxis,o=E.range,M=A.range,x=E.r2l,I=A.r2l;return[x(o[0]),I(M[0]),x(o[1]),I(M[1])]},C.setRanges=function(E){var A=this.xaxis,o=this.yaxis,M=A.l2r,x=o.l2r;A.range=[M(E[0]),M(E[2])],o.range=[x(E[1]),x(E[3])]},C.updateTraces=function(E,A){var o=Object.keys(this.traces),M,x,I;this.fullData=E;e:for(M=0;M<o.length;M++){var D=o[M],N=this.traces[D];for(x=0;x<E.length;x++)if(I=E[x],I.uid===D&&I.type===N.type)continue e;N.dispose(),delete this.traces[D]}for(M=0;M<E.length;M++){I=E[M];var k=A[M],O=this.traces[I.uid];O?O.update(I,k):(O=I._module.plot(this,I,k),this.traces[I.uid]=O)}this.glplot.objects.sort(function(F,z){return F._trace.index-z._trace.index})},C.updateFx=function(E){T(E)||h(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(E,A){for(var o=E.trace.uid,M=E.pointIndex,x,I=0;I<this.fullData.length;I++)this.fullData[I].uid===o&&(x=this.fullData[I]);var D={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:x.index,pointNumber:M,data:x._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(D,x,M),this.graphDiv.emit(A,{points:[D]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,A=this.camera,o=A.mouseListener,M=this.lastButtonState===1&&o.buttons===0,x=this.fullLayout;this.lastButtonState=o.buttons,this.cameraChanged();var I=o.x*E.pixelRatio,D=this.canvas.height-E.pixelRatio*o.y,N;if(A.boxEnabled&&x.dragmode==="zoom"){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],O=0;O<2;O++)A.boxStart[O]===A.boxEnd[O]&&(k[O]=E.dataBox[O],k[O+2]=E.dataBox[O+2]);E.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var F=x._size,z=this.xaxis.domain,B=this.yaxis.domain;N=E.pick(I/E.pixelRatio+F.l+z[0]*F.w,D/E.pixelRatio-(F.t+(1-B[1])*F.h));var W=N&&N.object._trace.handlePick(N);if(W&&M&&this.emitPointAction(W,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&x.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var J=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),J.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(N.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(N.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(W,"plotly_hover");var re=this.fullData[J.trace.index]||{},ne=J.pointIndex,le=s.castHoverinfo(re,x,ne);if(le&&le!=="all"){var $=le.split("+");$.indexOf("x")===-1&&(J.traceCoord[0]=void 0),$.indexOf("y")===-1&&(J.traceCoord[1]=void 0),$.indexOf("z")===-1&&(J.traceCoord[2]=void 0),$.indexOf("text")===-1&&(J.textLabel=void 0),$.indexOf("name")===-1&&(J.name=void 0)}s.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:s.castHoverOption(re,ne,"bgcolor")||J.color,borderColor:s.castHoverOption(re,ne,"bordercolor"),fontFamily:s.castHoverOption(re,ne,"font.family"),fontSize:s.castHoverOption(re,ne,"font.size"),fontColor:s.castHoverOption(re,ne,"font.color"),nameLength:s.castHoverOption(re,ne,"namelength"),textAlign:s.castHoverOption(re,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),E.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},C.hoverFormatter=function(E,A){if(A!==void 0){var o=this[E];return P.tickText(o,o.c2l(A),"hover").text}}},12536:function(G,H,e){var m=e(67824).overrideAll,P=e(65460),s=e(98432),L=e(84888).op,S=e(3400),v=e(9616),p="gl3d",r="scene";H.name=p,H.attr=r,H.idRoot=r,H.idRegex=H.attrRegex=S.counterRegex("scene"),H.attributes=e(6636),H.layoutAttributes=e(346),H.baseLayoutAttrOverrides=m({hoverlabel:P.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(5208),H.plot=function(a){for(var n=a._fullLayout,f=a._fullData,u=n._subplots[p],l=0;l<u.length;l++){var g=u[l],h=L(f,p,g),T=n[g],c=T.camera,i=T._scene;i||(i=new s({id:g,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio,camera:c},n),T._scene=i),i.viewInitial||(i.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),i.plot(h,n,a.layout)}},H.clean=function(t,a,n,f){for(var u=f._subplots[p]||[],l=0;l<u.length;l++){var g=u[l];!a[g]&&f[g]._scene&&(f[g]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+g).remove())}},H.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots[p],f=a._size,u=0;u<n.length;u++){var l=a[n[u]],g=l.domain,h=l._scene,T=h.toImage("png"),c=a._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":T,x:f.l+f.w*g.x[0],y:f.t+f.h*(1-g.y[1]),width:f.w*(g.x[1]-g.x[0]),height:f.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),h.destroy()}},H.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var n=a.substr(5);return n==="1"&&(n=""),r+n}},H.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots[p],f=0;f<n.length;f++){var u=a[n[f]]._scene;u.updateFx(a.dragmode,a.hovermode)}}},6636:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(G,H,e){var m=e(76308),P=e(94724),s=e(92880).extendFlat,L=e(67824).overrideAll;G.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:m.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:s({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:s({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:s({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(G,H,e){var m=e(49760).mix,P=e(3400),s=e(31780),L=e(86140),S=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*136/187;G.exports=function(a,n,f){var u,l;function g(c,i){return P.coerce(u,l,L,c,i)}for(var h=0;h<p.length;h++){var T=p[h];u=a[T]||{},l=s.newContainer(n,T),l._id=T[0]+f.scene,l._name=T,S(u,l,g,f),v(u,l,g,{font:f.font,letter:T[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),g("gridcolor",m(l.color,f.bgColor,r).toRgbString()),g("title.text",T[0]),l.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",l.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},44728:function(G,H,e){var m=e(43080),P=e(3400),s=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var S=L.prototype;S.merge=function(p,r){for(var t=this,a=0;a<3;++a){var n=r[s[a]];if(!n.visible){t.tickEnable[a]=!1,t.labelEnable[a]=!1,t.lineEnable[a]=!1,t.lineTickEnable[a]=!1,t.gridEnable[a]=!1,t.zeroEnable[a]=!1,t.backgroundEnable[a]=!1;continue}t.labels[a]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[a]=m(n.title.font.color)),n.title.font.family&&(t.labelFont[a]=n.title.font.family),n.title.font.size&&(t.labelSize[a]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[a]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[a]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[a]=n.title.font.variant)),"showline"in n&&(t.lineEnable[a]=n.showline),"linecolor"in n&&(t.lineColor[a]=m(n.linecolor)),"linewidth"in n&&(t.lineWidth[a]=n.linewidth),"showgrid"in n&&(t.gridEnable[a]=n.showgrid),"gridcolor"in n&&(t.gridColor[a]=m(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[a]=n.gridwidth),n.type==="log"?t.zeroEnable[a]=!1:"zeroline"in n&&(t.zeroEnable[a]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[a]=m(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[a]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[a]=!0:t.lineTickEnable[a]=!1,"ticklen"in n&&(t.lineTickLength[a]=t._defaultLineTickLength[a]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[a]=m(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[a]=n.tickwidth),"tickangle"in n&&(t.tickAngle[a]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[a]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[a]=m(n.tickfont.color)),n.tickfont.family&&(t.tickFont[a]=n.tickfont.family),n.tickfont.size&&(t.tickSize[a]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[a]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[a]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[a]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[a]=!0,t.lineMirror[a]=!0):n.mirror===!0?(t.lineTickMirror[a]=!1,t.lineMirror[a]=!0):(t.lineTickMirror[a]=!1,t.lineMirror[a]=!1):t.lineMirror[a]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[a]=!0,t.backgroundColor[a]=m(n.backgroundcolor)):t.backgroundEnable[a]=!1}};function v(p,r){var t=new L;return t.merge(p,r),t}G.exports=v},5208:function(G,H,e){var m=e(3400),P=e(76308),s=e(24040),L=e(168),S=e(64380),v=e(346),p=e(84888).op,r="gl3d";G.exports=function(n,f,u){var l=f._basePlotModules.length>1;function g(h){if(!l){var T=m.validate(n[h],v[h]);if(T)return n[h]}}L(n,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:g,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(a,n,f,u){for(var l=f("bgcolor"),g=P.combine(l,u.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)f("camera."+h[T]+".x"),f("camera."+h[T]+".y"),f("camera."+h[T]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),i=c?"manual":"auto",d=f("aspectmode",i);c||(a.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),a.aspectmode=n.aspectmode);var b=p(u.fullData,r,u.id);S(a,n,{font:u.font,scene:u.id,data:b,bgColor:g,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),s.getComponentMethod("annotations3d","handleDefaults")(a,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",a.camera&&a.camera.up){var C=a.camera.up.x,y=a.camera.up.y,E=a.camera.up.z;E!==0&&(!C||!y||!E||E/Math.sqrt(C*C+y*y+E*E)>.999)&&(w="turntable")}else w="turntable";f("dragmode",w),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(G,H,e){var m=e(86140),P=e(86968).u,s=e(92880).extendFlat,L=e(3400).counterRegex;function S(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:s(S(0,0,1),{}),center:s(S(0,0,0),{}),eye:s(S(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:m,yaxis:m,zaxis:m,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(G,H,e){var m=e(43080),P=["xaxis","yaxis","zaxis"];function s(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=s.prototype;L.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=m(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function S(v){var p=new s;return p.merge(v),p}G.exports=S},87152:function(G,H,e){G.exports=S;var m=e(54460),P=e(3400),s=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],a=new Array(t.length),n=0;n<t.length;++n)a[n]=t[n].x;p[r]=a}return p}function S(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,a=[[],[],[]],n=0;n<3;++n){var f=t[s[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))a[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||P.constrain(f._length/40,4,9);m.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var g=m.calcTicks(f,{msUTC:!0}),h=0;h<g.length;++h)g[h].x=g[h].x*v.dataScale[n],f.type==="date"&&(g[h].text=g[h].text.replace(/\<br\>/g," "));a[n]=g,f.tickmode=u}}p.ticks=a;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=L(a)}},94424:function(G){function H(m,P){var s=[0,0,0,0],L,S;for(L=0;L<4;++L)for(S=0;S<4;++S)s[S]+=m[4*L+S]*P[L];return s}function e(m,P){var s=H(m.projection,H(m.view,H(m.model,[P[0],P[1],P[2],1])));return s}G.exports=e},98432:function(G,H,e){var m=e(67792).gl_plot3d,P=m.createCamera,s=m.createScene,L=e(5408),S=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),a=e(93024),n=e(43080),f=e(16576),u=e(94424),l=e(44728),g=e(9020),h=e(87152),T=e(19280).applyAutorangeOptions,c,i,d=!1;function b(D,N){var k=document.createElement("div"),O=D.container;this.graphDiv=D.graphDiv;var F=document.createElementNS("http://www.w3.org/2000/svg","svg");F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",F.style["z-index"]=20,F.style["pointer-events"]="none",k.appendChild(F),this.svgContainer=F,k.id=D.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",O.appendChild(k),this.fullLayout=N,this.id=D.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=g(N[this.id]),this.container=k,this.staticMode=!!D.staticPlot,this.pixelRatio=this.pixelRatio||D.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=b.prototype;w.prepareOptions=function(){var D=this,N={canvas:D.canvas,gl:D.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:D.container,axes:D.axesOptions,spikes:D.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:D.camera,pixelRatio:D.pixelRatio};if(D.staticMode){if(!i&&(c=document.createElement("canvas"),i=L({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");N.gl=i,N.canvas=c}return N};var C=!0;w.tryCreatePlot=function(){var D=this,N=D.prepareOptions(),k=!0;try{D.glplot=s(N)}catch{if(D.staticMode||!C||r)k=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,D.glplot=s(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,k=!1}}}return C=!1,k},w.initializeGLCamera=function(){var D=this,N=D.fullSceneLayout.camera,k=N.projection.type==="orthographic";D.camera=P(D.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:k,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var D=this;D.initializeGLCamera();var N=D.tryCreatePlot();if(!N)return f(D);D.traces={},D.make4thDimension();var k=D.graphDiv,O=k.layout,F=function(){var B={};return D.isCameraChanged(O)&&(B[D.id+".camera"]=D.getCamera()),D.isAspectChanged(O)&&(B[D.id+".aspectratio"]=D.glplot.getAspectratio(),O[D.id].aspectmode!=="manual"&&(D.fullSceneLayout.aspectmode=O[D.id].aspectmode=B[D.id+".aspectmode"]="manual")),B},z=function(B){if(B.fullSceneLayout.dragmode!==!1){var W=F();B.saveLayout(O),B.graphDiv.emit("plotly_relayout",W)}};return D.glplot.canvas&&(D.glplot.canvas.addEventListener("mouseup",function(){z(D)}),D.glplot.canvas.addEventListener("touchstart",function(){d=!0}),D.glplot.canvas.addEventListener("wheel",function(B){if(k._context._scrollZoom.gl3d){if(D.camera._ortho){var W=B.deltaX>B.deltaY?1.1:.9090909090909091,J=D.glplot.getAspectratio();D.glplot.setAspectratio({x:W*J.x,y:W*J.y,z:W*J.z})}z(D)}},S?{passive:!1}:!1),D.glplot.canvas.addEventListener("mousemove",function(){if(D.fullSceneLayout.dragmode!==!1&&D.camera.mouseListener.buttons!==0){var B=F();D.graphDiv.emit("plotly_relayouting",B)}}),D.staticMode||D.glplot.canvas.addEventListener("webglcontextlost",function(B){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:B,layer:D.id})},!1)),D.glplot.oncontextloss=function(){D.recoverContext()},D.glplot.onrender=function(){D.render()},!0},w.render=function(){var D=this,N=D.graphDiv,k,O=D.svgContainer,F=D.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var z=N._fullLayout._invScaleX,B=N._fullLayout._invScaleY,W=F.width*z,J=F.height*B;O.setAttributeNS(null,"viewBox","0 0 "+W+" "+J),O.setAttributeNS(null,"width",W),O.setAttributeNS(null,"height",J),h(D),D.glplot.axes.update(D.axesOptions);for(var re=Object.keys(D.traces),ne=null,le=D.glplot.selection,$=0;$<re.length;++$)k=D.traces[re[$]],k.data.hoverinfo!=="skip"&&k.handlePick(le)&&(ne=k),k.setContourLevels&&k.setContourLevels();function Z(_e,De,Fe){var Te=D.fullSceneLayout[_e+"axis"];return Te.type!=="log"&&(De=Te.d2l(De)),t.hoverLabelText(Te,De,Fe)}if(ne!==null){var ie=u(D.glplot.cameraParams,le.dataCoordinate);k=ne.data;var X=N._fullData[k.index],Q=le.index,oe={xLabel:Z("x",le.traceCoordinate[0],k.xhoverformat),yLabel:Z("y",le.traceCoordinate[1],k.yhoverformat),zLabel:Z("z",le.traceCoordinate[2],k.zhoverformat)},j=a.castHoverinfo(X,D.fullLayout,Q),Y=(j||"").split("+"),se=j&&j==="all";!X.hovertemplate&&!se&&(Y.indexOf("x")===-1&&(oe.xLabel=void 0),Y.indexOf("y")===-1&&(oe.yLabel=void 0),Y.indexOf("z")===-1&&(oe.zLabel=void 0),Y.indexOf("text")===-1&&(le.textLabel=void 0),Y.indexOf("name")===-1&&(ne.name=void 0));var te,fe=[];k.type==="cone"||k.type==="streamtube"?(oe.uLabel=Z("x",le.traceCoordinate[3],k.uhoverformat),(se||Y.indexOf("u")!==-1)&&fe.push("u: "+oe.uLabel),oe.vLabel=Z("y",le.traceCoordinate[4],k.vhoverformat),(se||Y.indexOf("v")!==-1)&&fe.push("v: "+oe.vLabel),oe.wLabel=Z("z",le.traceCoordinate[5],k.whoverformat),(se||Y.indexOf("w")!==-1)&&fe.push("w: "+oe.wLabel),oe.normLabel=le.traceCoordinate[6].toPrecision(3),(se||Y.indexOf("norm")!==-1)&&fe.push("norm: "+oe.normLabel),k.type==="streamtube"&&(oe.divergenceLabel=le.traceCoordinate[7].toPrecision(3),(se||Y.indexOf("divergence")!==-1)&&fe.push("divergence: "+oe.divergenceLabel)),le.textLabel&&fe.push(le.textLabel),te=fe.join("<br>")):k.type==="isosurface"||k.type==="volume"?(oe.valueLabel=t.hoverLabelText(D._mockAxis,D._mockAxis.d2l(le.traceCoordinate[3]),k.valuehoverformat),fe.push("value: "+oe.valueLabel),le.textLabel&&fe.push(le.textLabel),te=fe.join("<br>")):te=le.textLabel;var ge={x:le.traceCoordinate[0],y:le.traceCoordinate[1],z:le.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:Q};a.appendArrayPointValue(ge,X,Q),k._module.eventData&&(ge=X._module.eventData(ge,le,X,{},Q));var be={points:[ge]};if(D.fullSceneLayout.hovermode){var xe=[];a.loneHover({trace:X,x:(.5+.5*ie[0]/ie[3])*W,y:(.5-.5*ie[1]/ie[3])*J,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:te,name:ne.name,color:a.castHoverOption(X,Q,"bgcolor")||ne.color,borderColor:a.castHoverOption(X,Q,"bordercolor"),fontFamily:a.castHoverOption(X,Q,"font.family"),fontSize:a.castHoverOption(X,Q,"font.size"),fontColor:a.castHoverOption(X,Q,"font.color"),nameLength:a.castHoverOption(X,Q,"namelength"),textAlign:a.castHoverOption(X,Q,"align"),hovertemplate:p.castOption(X,Q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ge,oe),eventData:[ge]},{container:O,gd:N,inOut_bbox:xe}),ge.bbox=xe[0]}le.distance<5&&(le.buttons||d)?N.emit("plotly_click",be):N.emit("plotly_hover",be),this.oldEventData=be}else a.loneUnhover(O),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},w.recoverContext=function(){var D=this;D.glplot.dispose();var N=function(){if(D.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!D.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}D.plot.apply(D,D.plotArgs)};requestAnimationFrame(N)};var y=["xaxis","yaxis","zaxis"];function E(D,N,k){for(var O=D.fullSceneLayout,F=0;F<3;F++){var z=y[F],B=z.charAt(0),W=O[z],J=N[B],re=N[B+"calendar"],ne=N["_"+B+"length"];if(!p.isArrayOrTypedArray(J))k[0][F]=Math.min(k[0][F],0),k[1][F]=Math.max(k[1][F],ne-1);else for(var le,$=0;$<(ne||J.length);$++)if(p.isArrayOrTypedArray(J[$]))for(var Z=0;Z<J[$].length;++Z)le=W.d2l(J[$][Z],0,re),!isNaN(le)&&isFinite(le)&&(k[0][F]=Math.min(k[0][F],le),k[1][F]=Math.max(k[1][F],le));else le=W.d2l(J[$],0,re),!isNaN(le)&&isFinite(le)&&(k[0][F]=Math.min(k[0][F],le),k[1][F]=Math.max(k[1][F],le))}}function A(D,N){for(var k=D.fullSceneLayout,O=k.annotations||[],F=0;F<3;F++)for(var z=y[F],B=z.charAt(0),W=k[z],J=0;J<O.length;J++){var re=O[J];if(re.visible){var ne=W.r2l(re[B]);!isNaN(ne)&&isFinite(ne)&&(N[0][F]=Math.min(N[0][F],ne),N[1][F]=Math.max(N[1][F],ne))}}}w.plot=function(D,N,k){var O=this;if(O.plotArgs=[D,N,k],!O.glplot.contextLost){var F,z,B,W,J,re,ne=N[O.id],le=k[O.id];O.fullLayout=N,O.fullSceneLayout=ne,O.axesOptions.merge(N,ne),O.spikeOptions.merge(ne),O.setViewport(ne),O.updateFx(ne.dragmode,ne.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(n(ne.bgcolor)),O.setConvert(J),D?Array.isArray(D)||(D=[D]):D=[];var $=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<D.length;++B)F=D[B],!(F.visible!==!0||F._length===0)&&E(this,F,$);A(this,$);var Z=[1,1,1];for(W=0;W<3;++W)$[1][W]===$[0][W]?Z[W]=1:Z[W]=1/($[1][W]-$[0][W]);for(O.dataScale=Z,O.convertAnnotations(this),B=0;B<D.length;++B)F=D[B],!(F.visible!==!0||F._length===0)&&(z=O.traces[F.uid],z?z.data.type===F.type?z.update(F):(z.dispose(),z=F._module.plot(this,F),O.traces[F.uid]=z):(z=F._module.plot(this,F),O.traces[F.uid]=z),z.name=F.name);var ie=Object.keys(O.traces);e:for(B=0;B<ie.length;++B){for(W=0;W<D.length;++W)if(D[W].uid===ie[B]&&D[W].visible===!0&&D[W]._length!==0)continue e;z=O.traces[ie[B]],z.dispose(),delete O.traces[ie[B]]}O.glplot.objects.sort(function(it,Je){return it._trace.data.index-Je._trace.data.index});var X=[[0,0,0],[0,0,0]],Q={};for(B=0;B<3;++B){J=ne[y[B]],re=J.type,re in Q?(Q[re].acc*=Z[B],Q[re].count+=1):Q[re]={acc:Z[B],count:1};var oe;if(J.autorange){X[0][B]=1/0,X[1][B]=-1/0;var j=O.glplot.objects,Y=O.fullSceneLayout.annotations||[],se=J._name.charAt(0);for(W=0;W<j.length;W++){var te=j[W],fe=te.bounds,ge=te._trace.data._pad||0;te.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?X[0][B]=Math.min(X[0][B],J._lowerLogErrorBound):X[0][B]=Math.min(X[0][B],fe[0][B]/Z[B]-ge),X[1][B]=Math.max(X[1][B],fe[1][B]/Z[B]+ge)}for(W=0;W<Y.length;W++){var be=Y[W];if(be.visible){var xe=J.r2l(be[se]);X[0][B]=Math.min(X[0][B],xe),X[1][B]=Math.max(X[1][B],xe)}}if("rangemode"in J&&J.rangemode==="tozero"&&(X[0][B]=Math.min(X[0][B],0),X[1][B]=Math.max(X[1][B],0)),X[0][B]>X[1][B])X[0][B]=-1,X[1][B]=1;else{var _e=X[1][B]-X[0][B];X[0][B]-=_e/32,X[1][B]+=_e/32}if(oe=[X[0][B],X[1][B]],oe=T(oe,J),X[0][B]=oe[0],X[1][B]=oe[1],J.isReversed()){var De=X[0][B];X[0][B]=X[1][B],X[1][B]=De}}else oe=J.range,X[0][B]=J.r2l(oe[0]),X[1][B]=J.r2l(oe[1]);X[0][B]===X[1][B]&&(X[0][B]-=1,X[1][B]+=1),J.range=[X[0][B],X[1][B]],J.limitRange(),O.glplot.setBounds(B,{min:J.range[0]*Z[B],max:J.range[1]*Z[B]})}var Fe,Te=ne.aspectmode;if(Te==="cube")Fe=[1,1,1];else if(Te==="manual"){var Re=ne.aspectratio;Fe=[Re.x,Re.y,Re.z]}else if(Te==="auto"||Te==="data"){var Se=[1,1,1];for(B=0;B<3;++B){J=ne[y[B]],re=J.type;var ke=Q[re];Se[B]=Math.pow(ke.acc,1/ke.count)/Z[B]}Te==="data"||Math.max.apply(null,Se)/Math.min.apply(null,Se)<=4?Fe=Se:Fe=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=le.aspectratio.x=Fe[0],ne.aspectratio.y=le.aspectratio.y=Fe[1],ne.aspectratio.z=le.aspectratio.z=Fe[2],O.glplot.setAspectratio(ne.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=ne.aspectmode);var Me=ne.domain||null,Ve=N._size||null;if(Me&&Ve){var tt=O.container.style;tt.position="absolute",tt.left=Ve.l+Me.x[0]*Ve.w+"px",tt.top=Ve.t+(1-Me.y[1])*Ve.h+"px",tt.width=Ve.w*(Me.x[1]-Me.x[0])+"px",tt.height=Ve.h*(Me.y[1]-Me.y[0])+"px"}O.glplot.redraw()}},w.destroy=function(){var D=this;D.glplot&&(D.camera.mouseListener.enabled=!1,D.container.removeEventListener("wheel",D.camera.wheelListener),D.camera=null,D.glplot.dispose(),D.container.parentNode.removeChild(D.container),D.glplot=null)};function o(D){return[[D.eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]}function M(D){return{up:{x:D.up[0],y:D.up[1],z:D.up[2]},center:{x:D.center[0],y:D.center[1],z:D.center[2]},eye:{x:D.eye[0],y:D.eye[1],z:D.eye[2]},projection:{type:D._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),M(D.camera)},w.setViewport=function(D){var N=this,k=D.camera;N.camera.lookAt.apply(this,o(k)),N.glplot.setAspectratio(D.aspectratio);var O=k.projection.type==="orthographic",F=N.camera._ortho;O!==F&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},w.isCameraChanged=function(D){var N=this,k=N.getCamera(),O=p.nestedProperty(D,N.id+".camera"),F=O.get();function z(re,ne,le,$){var Z=["up","center","eye"],ie=["x","y","z"];return ne[Z[le]]&&re[Z[le]][ie[$]]===ne[Z[le]][ie[$]]}var B=!1;if(F===void 0)B=!0;else{for(var W=0;W<3;W++)for(var J=0;J<3;J++)if(!z(k,F,W,J)){B=!0;break}(!F.projection||k.projection&&k.projection.type!==F.projection.type)&&(B=!0)}return B},w.isAspectChanged=function(D){var N=this,k=N.glplot.getAspectratio(),O=p.nestedProperty(D,N.id+".aspectratio"),F=O.get();return F===void 0||F.x!==k.x||F.y!==k.y||F.z!==k.z},w.saveLayout=function(D){var N=this,k=N.fullLayout,O,F,z,B,W,J,re=N.isCameraChanged(D),ne=N.isAspectChanged(D),le=re||ne;if(le){var $={};if(re&&(O=N.getCamera(),F=p.nestedProperty(D,N.id+".camera"),z=F.get(),$[N.id+".camera"]=z),ne&&(B=N.glplot.getAspectratio(),W=p.nestedProperty(D,N.id+".aspectratio"),J=W.get(),$[N.id+".aspectratio"]=J),v.call("_storeDirectGUIEdit",D,k._preGUI,$),re){F.set(O);var Z=p.nestedProperty(k,N.id+".camera");Z.set(O)}if(ne){W.set(B);var ie=p.nestedProperty(k,N.id+".aspectratio");ie.set(B),N.glplot.redraw()}}return le},w.updateFx=function(D,N){var k=this,O=k.camera;if(O)if(D==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(D==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var F=k.graphDiv,z=F._fullLayout,B=k.fullSceneLayout.camera,W=B.up.x,J=B.up.y,re=B.up.z;if(re/Math.sqrt(W*W+J*J+re*re)<.999){var ne=k.id+".camera.up",le={x:0,y:0,z:1},$={};$[ne]=le;var Z=F.layout;v.call("_storeDirectGUIEdit",Z,z._preGUI,$),B.up=le,p.nestedProperty(Z,ne).set(le)}}else O.keyBindingMode=D;k.fullSceneLayout.hovermode=N};function x(D,N,k){for(var O=0,F=k-1;O<F;++O,--F)for(var z=0;z<N;++z)for(var B=0;B<4;++B){var W=4*(N*O+z)+B,J=4*(N*F+z)+B,re=D[W];D[W]=D[J],D[J]=re}}function I(D,N,k){for(var O=0;O<k;++O)for(var F=0;F<N;++F){var z=4*(N*O+F),B=D[z+3];if(B>0)for(var W=255/B,J=0;J<3;++J)D[z+J]=Math.min(W*D[z+J],255)}}w.toImage=function(D){var N=this;D||(D="png"),N.staticMode&&N.container.appendChild(c),N.glplot.redraw();var k=N.glplot.gl,O=k.drawingBufferWidth,F=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var z=new Uint8Array(O*F*4);k.readPixels(0,0,O,F,k.RGBA,k.UNSIGNED_BYTE,z),x(z,O,F),I(z,O,F);var B=document.createElement("canvas");B.width=O,B.height=F;var W=B.getContext("2d",{willReadFrequently:!0}),J=W.createImageData(O,F);J.data.set(z),W.putImageData(J,0,0);var re;switch(D){case"jpeg":re=B.toDataURL("image/jpeg");break;case"webp":re=B.toDataURL("image/webp");break;default:re=B.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(c),re},w.setConvert=function(){for(var D=this,N=0;N<3;N++){var k=D.fullSceneLayout[y[N]];t.setConvert(k,D.fullLayout),k.setScale=p.noop}},w.make4thDimension=function(){var D=this,N=D.graphDiv,k=N._fullLayout;D._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(D._mockAxis,k)},G.exports=b},52094:function(G){G.exports=function(e,m,P,s){s=s||e.length;for(var L=new Array(s),S=0;S<s;S++)L[S]=[e[S],m[S],P[S]];return L}},64859:function(G,H,e){var m=e(25376),P=e(85656),s=e(22548),L=e(92872),S=e(34200),v=e(66741),p=e(92880).extendFlat,r=m({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=s.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:m({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:S.newselection,activeselection:S.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:m({editType:"layoutstyle"})}}},47552:function(G,H,e){var m=e(95376),P="1.13.4",s='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['© <a target="_blank" href="https://carto.com/">Carto</a>',s].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:s,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=m(p);G.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S=s.split(" "),v=S[0],p=S[1],r=m.isArrayOrTypedArray(L)?m.mean(L):L,t=.5+r/100,a=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-a;break;case"bottom":n[0]="bottom",f[1]=a;break}switch(p){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:f}}},33688:function(G,H,e){var m=e(3480),P=e(3400),s=P.strTranslate,L=P.strScale,S=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),a=e(14440),n="mapbox",f=H.constants=e(47552);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=P.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(5232),H.supplyLayoutDefaults=e(5976),H.plot=function(h){var T=h._fullLayout,c=h.calcdata,i=T._subplots[n];if(m.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var d=u(h,i);m.accessToken=d;for(var b=0;b<i.length;b++){var w=i[b],C=S(c,n,w),y=T[w],E=y._subplot;E||(E=new a(h,w),T[w]._subplot=E),E.viewInitial||(E.viewInitial={center:P.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),E.plot(C,T,h._promises)}},H.clean=function(g,h,T,c){for(var i=c._subplots[n]||[],d=0;d<i.length;d++){var b=i[d];!h[b]&&c[b]._subplot&&c[b]._subplot.destroy()}},H.toSVG=function(g){for(var h=g._fullLayout,T=h._subplots[n],c=h._size,i=0;i<T.length;i++){var d=h[T[i]],b=d.domain,w=d._subplot,C=w.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*b.x[0],y:c.t+c.h*(1-b.y[1]),width:c.w*(b.x[1]-b.x[0]),height:c.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"});var E=p.select(d._subplot.div),A=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var o=h._glimages.append("g");o.attr("transform",s(c.l+c.w*b.x[0]+10,c.t+c.h*(1-b.y[0])-31)),o.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),o.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),o.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),o.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var M=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),x=h._glimages.append("g"),I=x.append("text");I.text(M).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":M});var D=r.bBox(I.node()),N=c.w*(b.x[1]-b.x[0]);if(D.width>N/2){var k=M.split("|").join("<br>");I.text(k).attr("data-unformatted",k).call(t.convertToTspans,g),D=r.bBox(I.node())}I.attr("transform",s(-3,-D.height+8)),x.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;D.width+6>N&&(O=N/(D.width+6));var F=[c.l+c.w*b.x[1],c.t+c.h*(1-b.y[0])];x.attr("transform",s(F[0],F[1])+L(O))}};function u(g,h){var T=g._fullLayout,c=g._context;if(c.mapboxAccessToken==="")return"";for(var i=[],d=[],b=!1,w=!1,C=0;C<h.length;C++){var y=T[h[C]],E=y.accesstoken;l(y.style)&&(E?P.pushUnique(i,E):(l(y._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),b=!0),w=!0)),E&&P.pushUnique(d,E)}if(w){var A=b?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw P.error(A),new Error(A)}return i.length?(i.length>1&&P.warn(f.multipleTokensErrorMsg),i[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(g){return typeof g=="string"&&(f.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}H.updateFx=function(g){for(var h=g._fullLayout,T=h._subplots[n],c=0;c<T.length;c++){var i=h[T[c]]._subplot;i.updateFx(h)}}},22360:function(G,H,e){var m=e(3400),P=e(72736).sanitizeHTML,s=e(89032),L=e(47552);function S(a,n){this.subplot=a,this.uid=a.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=S.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(a){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&a.sourcetype==="image"&&(this.source!==a.source||JSON.stringify(this.coordinates)!==JSON.stringify(a.coordinates))},v.needsNewSource=function(a){return this.sourceType!==a.sourcetype||JSON.stringify(this.source)!==JSON.stringify(a.source)||this.layerType!==a.type},v.needsNewLayer=function(a){return this.layerType!==a.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(a){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:a.source,coordinates:a.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(a){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=a.sourcetype,this.source=a.source,!!p(a)){var f=t(a);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(a){if(a==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var u=n[f].id;if(typeof u=="string"&&u.indexOf(L.traceLayerPrefix)===0){a=u;break}}return a},v.updateLayer=function(a){var n=this.subplot,f=r(a),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(a)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":a.sourcelayer||"",type:a.type,minzoom:a.minzoom,maxzoom:a.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=a.type,this.below=u},v.updateStyle=function(a){if(p(a)){var n=r(a);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer)},v.dispose=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer),a.getSource(this.idSource)&&a.removeSource(this.idSource)};function p(a){if(!a.visible)return!1;var n=a.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return m.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(a){var n={},f={};switch(a.type){case"circle":m.extendFlat(f,{"circle-radius":a.circle.radius,"circle-color":a.color,"circle-opacity":a.opacity});break;case"line":m.extendFlat(f,{"line-width":a.line.width,"line-color":a.color,"line-opacity":a.opacity,"line-dasharray":a.line.dash});break;case"fill":m.extendFlat(f,{"fill-color":a.color,"fill-outline-color":a.fill.outlinecolor,"fill-opacity":a.opacity});break;case"symbol":var u=a.symbol,l=s(u.textposition,u.iconsize);m.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),m.extendFlat(f,{"icon-color":a.color,"text-color":u.textfont.color,"text-opacity":a.opacity});break;case"raster":m.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":a.opacity});break}return{layout:n,paint:f}}function t(a){var n=a.sourcetype,f=a.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof f=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=a.coordinates),u[l]=f,a.sourceattribution&&(u.attribution=P(a.sourceattribution)),u}G.exports=function(n,f,u){var l=new S(n,f);return l.update(u),l}},5232:function(G,H,e){var m=e(3400),P=e(76308).defaultLine,s=e(86968).u,L=e(25376),S=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=L({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var a=G.exports=v({_arrayAttrRegexps:[m.counterRegex("mapbox",".layers",!0)],domain:s({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:m.extendFlat({},S,{arrayOk:!1})}})},"plot","from-root");a.uirevision={valType:"any",editType:"none"}},5976:function(G,H,e){var m=e(3400),P=e(168),s=e(51272),L=e(5232);G.exports=function(r,t,a){P(r,t,a,{type:"mapbox",attributes:L,handleDefaults:S,partition:"y",accessToken:t._mapboxAccessToken})};function S(p,r,t,a){t("accesstoken",a.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,s(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(g,h){return m.coerce(p,r,L.layers,g,h)}var a=t("visible");if(a){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",m.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),m.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(G,H,e){var m=e(3480),P=e(3400),s=e(27144),L=e(24040),S=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,a=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,g=e(47552),h=e(22360);function T(C,y){this.id=y,this.gd=C;var E=C._fullLayout,A=C._context;this.container=E._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=T.prototype;c.plot=function(C,y,E){var A=this,o=y[A.id];A.map&&o.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var M;A.map?M=new Promise(function(x,I){A.updateMap(C,y,x,I)}):M=new Promise(function(x,I){A.createMap(C,y,x,I)}),E.push(M)},c.createMap=function(C,y,E,A){var o=this,M=y[o.id],x=o.styleObj=d(M.style,y);o.accessToken=M.accesstoken;var I=M.bounds,D=I?[[I.west,I.south],[I.east,I.north]]:null,N=o.map=new m.Map({container:o.div,style:x.style,center:w(M.center),zoom:M.zoom,bearing:M.bearing,pitch:M.pitch,maxBounds:D,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new m.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",o.rejectOnError(A),o.isStatic||o.initFx(C,y);var k=[];k.push(new Promise(function(O){N.once("load",O)})),k=k.concat(s.fetchTraceGeoData(C)),Promise.all(k).then(function(){o.fillBelowLookup(C,y),o.updateData(C),o.updateLayout(y),o.resolveOnRender(E)}).catch(A)},c.updateMap=function(C,y,E,A){var o=this,M=o.map,x=y[this.id];o.rejectOnError(A);var I=[],D=d(x.style,y);JSON.stringify(o.styleObj)!==JSON.stringify(D)&&(o.styleObj=D,M.setStyle(D.style),o.traceHash={},I.push(new Promise(function(N){M.once("styledata",N)}))),I=I.concat(s.fetchTraceGeoData(C)),Promise.all(I).then(function(){o.fillBelowLookup(C,y),o.updateData(C),o.updateLayout(y),o.resolveOnRender(E)}).catch(A)},c.fillBelowLookup=function(C,y){var E=y[this.id],A=E.layers,o,M,x=this.belowLookup={},I=!1;for(o=0;o<C.length;o++){var D=C[o][0].trace,N=D._module;typeof D.below=="string"?M=D.below:N.getBelow&&(M=N.getBelow(D,this)),M===""&&(I=!0),x["trace-"+D.uid]=M||""}for(o=0;o<A.length;o++){var k=A[o];typeof k.below=="string"?M=k.below:I?M="traces":M="",x["layout-"+o]=M}var O={},F,z;for(F in x)M=x[F],O[M]?O[M].push(F):O[M]=[F];for(M in O){var B=O[M];if(B.length>1)for(o=0;o<B.length;o++)F=B[o],F.indexOf("trace-")===0?(z=F.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):F.indexOf("layout-")===0&&(z=F.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var y=this.traceHash,E,A,o,M,x=C.slice().sort(function(O,F){return i[O[0].trace.type]-i[F[0].trace.type]});for(o=0;o<x.length;o++){var I=x[o];A=I[0].trace,E=y[A.uid];var D=!1;E&&(E.type===A.type?(E.update(I),D=!0):E.dispose()),!D&&A._module&&(y[A.uid]=A._module.plot(this,I))}var N=Object.keys(y);e:for(o=0;o<N.length;o++){var k=N[o];for(M=0;M<C.length;M++)if(A=C[M][0].trace,k===A.uid)continue e;E=y[k],E.dispose(),delete y[k]}},c.updateLayout=function(C){var y=this.map,E=C[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(w(E.center)),y.setZoom(E.zoom),y.setBearing(E.bearing),y.setPitch(E.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(C){var y=this.map;y.on("render",function E(){y.loaded()&&(y.off("render",E),setTimeout(C,10))})},c.rejectOnError=function(C){var y=this.map;function E(){C(new Error(g.mapOnErrorMsg))}y.once("error",E),y.once("style.error",E),y.once("source.error",E),y.once("tile.error",E),y.once("layer.error",E)},c.createFramework=function(C){var y=this,E=y.div=document.createElement("div");E.id=y.uid,E.style.position="absolute",y.container.appendChild(E),y.xaxis={_id:"x",c2p:function(A){return y.project(A).x}},y.yaxis={_id:"y",c2p:function(A){return y.project(A).y}},y.updateFramework(C),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},S.setConvert(y.mockAxis,C)},c.initFx=function(C,y){var E=this,A=E.gd,o=E.map;o.on("moveend",function(I){if(E.map){var D=A._fullLayout;if(I.originalEvent||E.wheeling){var N=D[E.id];L.call("_storeDirectGUIEdit",A.layout,D._preGUI,E.getViewEdits(N));var k=E.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,A.emit("plotly_relayout",E.getViewEditsWithDerived(k))}I.originalEvent&&I.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),D._rehover&&D._rehover()}}),o.on("wheel",function(){E.wheeling=!0}),o.on("mousemove",function(I){var D=E.div.getBoundingClientRect(),N=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return D},E.xaxis.p2c=function(){return o.unproject(N).lng},E.yaxis.p2c=function(){return o.unproject(N).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===E.id&&A._fullLayout[E.id]&&p.hover(A,I,E.id)},p.hover(A,I,E.id),A._fullLayout._hoversubplot=E.id});function M(){p.loneUnhover(y._hoverlayer)}o.on("dragstart",function(){E.dragging=!0,M()}),o.on("zoomstart",M),o.on("mouseout",function(){A._fullLayout._hoversubplot=null});function x(){var I=E.getView();A.emit("plotly_relayouting",E.getViewEditsWithDerived(I))}o.on("drag",x),o.on("zoom",x),o.on("dblclick",function(){var I=A._fullLayout[E.id];L.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,E.getViewEdits(I));var D=E.viewInitial;o.setCenter(w(D.center)),o.setZoom(D.zoom),o.setBearing(D.bearing),o.setPitch(D.pitch);var N=E.getView();I._input.center=I.center=N.center,I._input.zoom=I.zoom=N.zoom,I._input.bearing=I.bearing=N.bearing,I._input.pitch=I.pitch=N.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",E.getViewEditsWithDerived(N))}),E.clearOutline=function(){u(E.dragOptions),f(E.dragOptions.gd)},E.onClickInPanFn=function(I){return function(D){var N=A._fullLayout.clickmode;N.indexOf("select")>-1&&l(D.originalEvent,A,[E.xaxis],[E.yaxis],E.id,I),N.indexOf("event")>-1&&p.click(A,D.originalEvent)}}},c.updateFx=function(C){var y=this,E=y.map,A=y.gd;if(y.isStatic)return;function o(D){var N=y.map.unproject(D);return[N.lng,N.lat]}var M=C.dragmode,x;x=function(D,N){if(N.isRect){var k=D.range={};k[y.id]=[o([N.xmin,N.ymin]),o([N.xmax,N.ymax])]}else{var O=D.lassoPoints={};O[y.id]=N.map(o)}};var I=y.dragOptions;y.dragOptions=P.extendDeep(I||{},{dragmode:C.dragmode,element:y.div,gd:A,plotinfo:{id:y.id,domain:C[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:x},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),E.off("click",y.onClickInPanHandler),a(M)||t(M)?(E.dragPan.disable(),E.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(D,N,k){n(D,N,k,y.dragOptions,M)},v.init(y.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),E.on("click",y.onClickInPanHandler))},c.updateFramework=function(C){var y=C[this.id].domain,E=C._size,A=this.div.style;A.width=E.w*(y.x[1]-y.x[0])+"px",A.height=E.h*(y.y[1]-y.y[0])+"px",A.left=E.l+y.x[0]*E.w+"px",A.top=E.t+(1-y.y[1])*E.h+"px",this.xaxis._offset=E.l+y.x[0]*E.w,this.xaxis._length=E.w*(y.x[1]-y.x[0]),this.yaxis._offset=E.t+(1-y.y[1])*E.h,this.yaxis._length=E.h*(y.y[1]-y.y[0])},c.updateLayers=function(C){var y=C[this.id],E=y.layers,A=this.layerList,o;if(E.length!==A.length){for(o=0;o<A.length;o++)A[o].dispose();for(A=this.layerList=[],o=0;o<E.length;o++)A.push(h(this,o,E[o]))}else for(o=0;o<E.length;o++)A[o].update(E[o])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,y,E){for(var A in E)this.map[y](C,A,E[A])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,y){var E=this.map;if(typeof y=="string"){if(y===""){E.addLayer(C,y);return}for(var A=this.getMapLayers(),o=0;o<A.length;o++)if(y===A[o].id){E.addLayer(C,y);return}P.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(C)},c.project=function(C){return this.map.project(new m.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,y=C.getCenter(),E=y.lng,A=y.lat,o={lon:E,lat:A},M=C.getCanvas(),x=parseInt(M.style.width),I=parseInt(M.style.height);return{center:o,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([x,0]).toArray(),C.unproject([x,I]).toArray(),C.unproject([0,I]).toArray()]}}},c.getViewEdits=function(C){for(var y=this.id,E=["center","zoom","bearing","pitch"],A={},o=0;o<E.length;o++){var M=E[o];A[y+"."+M]=C[M]}return A},c.getViewEditsWithDerived=function(C){var y=this.id,E=this.getViewEdits(C);return E[y+"._derived"]=C._derived,E};function d(C,y){var E={};if(P.isPlainObject(C))E.id=C.id,E.style=C;else if(typeof C=="string")if(E.id=C,g.styleValuesMapbox.indexOf(C)!==-1)E.style=b(C);else if(g.stylesNonMapbox[C]){E.style=g.stylesNonMapbox[C];var A=E.style.sources["plotly-"+C],o=A?A.tiles:void 0;o&&o[0]&&o[0].slice(-9)==="?api_key="&&(o[0]+=y._mapboxAccessToken)}else E.style=C;else E.id=g.styleValueDflt,E.style=b(g.styleValueDflt);return E.transition={duration:0,delay:0},E}function b(C){return g.styleUrlPrefix+C+"-"+g.styleUrlSuffix}function w(C){return[C.lon,C.lat]}G.exports=T},66741:function(G){G.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(G,H,e){var m=e(33428),P=e(94336).m_,s=e(57624).SO,L=e(38248),S=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),a=e(76308),n=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),g=e(85656),h=e(16672),T=e(84888)._M,c=t.relinkPrivateKeys,i=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859);var b=d.transformsRegistry,w=e(62460);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function(Q){setTimeout(function(){X._fullLayout&&(v.getComponentMethod("annotations","draw")(X),v.getComponentMethod("legend","draw")(X),v.getComponentMethod("colorbar","draw")(X),Q(d.previousPromises(X)))},300)})},d.resize=function(X){X=t.getGraphDiv(X);var Q,oe=new Promise(function(j,Y){(!X||t.isHidden(X))&&Y(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&(Q=X._resolveResize),X._resolveResize=j,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){j(X);return}delete X.layout.width,delete X.layout.height;var se=X.changed;X.autoplay=!0,v.call("relayout",X,{autosize:!0}).then(function(){X.changed=se,X._resolveResize===j&&(delete X._resolveResize,j(X))})},100)});return Q&&Q(oe),oe},d.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},d.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var Q=X._fullLayout,oe=t.ensureSingle(Q._paper,"text","js-plot-link-container",function(ge){ge.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:a.defaultLine,"pointer-events":"all"}).each(function(){var be=m.select(this);be.append("tspan").classed("js-link-to-tool",!0),be.append("tspan").classed("js-link-spacer",!0),be.append("tspan").classed("js-sourcelinks",!0)})}),j=oe.node(),Y={y:Q._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=Q.width-20?(Y["text-anchor"]="start",Y.x=5):(Y["text-anchor"]="end",Y.x=Q._paper.attr("width")-7),oe.attr(Y);var se=oe.select(".js-link-to-tool"),te=oe.select(".js-link-spacer"),fe=oe.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&C(X,se),te.text(se.text()&&fe.text()?" - ":"")}};function C(X,Q){Q.text("");var oe=Q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" »");if(X._context.sendData)oe.on("click",function(){d.sendDataToCloud(X)});else{var j=window.location.pathname.split("/"),Y=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+j[2].split(".")[0]+"/"+j[1]+Y})}}d.sendDataToCloud=function(X){var Q=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(Q){X.emit("plotly_beforeexport");var oe=m.select(X).append("div").attr("id","hiddenform").style("display","none"),j=oe.append("form").attr({action:Q+"/external",method:"post",target:"_blank"}),Y=j.append("input").attr({type:"text",name:"data"});return Y.node().value=d.graphJson(X,!1,"keepdata"),j.node().submit(),oe.remove(),X.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(X,Q){var oe=Q&&Q.skipUpdateCalc,j=X._fullLayout||{};if(j._skipDefaults){delete j._skipDefaults;return}var Y=X._fullLayout={},se=X.layout||{},te=X._fullData||[],fe=X._fullData=[],ge=X.data||[],be=X.calcdata||[],xe=X._context||{},_e;X._transitionData||d.createTransitionData(X),Y._dfltTitle={plot:i(X,"Click to enter Plot title"),x:i(X,"Click to enter X axis title"),y:i(X,"Click to enter Y axis title"),colorbar:i(X,"Click to enter Colorscale title"),annotation:i(X,"new text")},Y._traceWord=i(X,"trace");var De=M(X,y);if(Y._mapboxAccessToken=xe.mapboxAccessToken,j._initialAutoSizeIsDone){var Fe=j.width,Te=j.height;d.supplyLayoutGlobalDefaults(se,Y,De),se.width||(Y.width=Fe),se.height||(Y.height=Te),d.sanitizeMargins(Y)}else{d.supplyLayoutGlobalDefaults(se,Y,De);var Re=!se.width||!se.height,Se=Y.autosize,ke=xe.autosizable,Me=Re&&(Se||ke);Me?d.plotAutoSize(X,se,Y):Re&&d.sanitizeMargins(Y),!Se&&Re&&(se.width=Y.width,se.height=Y.height)}Y._d3locale=x(De,Y.separators),Y._extraFormat=M(X,E),Y._initialAutoSizeIsDone=!0,Y._dataLength=ge.length,Y._modules=[],Y._visibleModules=[],Y._basePlotModules=[];var Ve=Y._subplots=o(),tt=Y._splomAxes={x:{},y:{}},it=Y._splomSubplots={};Y._splomGridDflt={},Y._scatterStackOpts={},Y._firstScatter={},Y._alignmentOpts={},Y._colorAxes={},Y._requestRangeslider={},Y._traceUids=A(te,ge),Y._globalTransforms=(X._context||{}).globalTransforms,d.supplyDataDefaults(ge,fe,se,Y);var Je=Object.keys(tt.x),Qe=Object.keys(tt.y);if(Je.length>1&&Qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,Y),_e=0;_e<Je.length;_e++)t.pushUnique(Ve.xaxis,Je[_e]);for(_e=0;_e<Qe.length;_e++)t.pushUnique(Ve.yaxis,Qe[_e]);for(var ct in it)t.pushUnique(Ve.cartesian,ct)}if(Y._has=d._hasPlotType.bind(Y),te.length===fe.length)for(_e=0;_e<fe.length;_e++)c(fe[_e],te[_e]);d.supplyLayoutModuleDefaults(se,Y,fe,X._transitionData);var ht=Y._visibleModules,dt=[];for(_e=0;_e<ht.length;_e++){var Tt=ht[_e].crossTraceDefaults;Tt&&t.pushUnique(dt,Tt)}for(_e=0;_e<dt.length;_e++)dt[_e](fe,Y);Y._hasOnlyLargeSploms=Y._basePlotModules.length===1&&Y._basePlotModules[0].name==="splom"&&Je.length>15&&Qe.length>15&&Y.shapes.length===0&&Y.images.length===0,d.linkSubplots(fe,Y,te,j),d.cleanPlot(fe,Y,te,j);var Et=!!(j._has&&j._has("gl2d")),rt=!!(Y._has&&Y._has("gl2d")),ze=!!(j._has&&j._has("cartesian")),Ge=!!(Y._has&&Y._has("cartesian")),je=ze||Et,We=Ge||rt;je&&!We?j._bgLayer.remove():We&&!je&&(Y._shouldCreateBgLayer=!0),j._zoomlayer&&!X._dragging&&u({_fullLayout:j}),I(fe,Y),c(Y,j),v.getComponentMethod("colorscale","crossTraceDefaults")(fe,Y),Y._preGUI||(Y._preGUI={}),Y._tracePreGUI||(Y._tracePreGUI={});var Le=Y._tracePreGUI,Pe={},Ye;for(Ye in Le)Pe[Ye]="old";for(_e=0;_e<fe.length;_e++)Ye=fe[_e]._fullInput.uid,Pe[Ye]||(Le[Ye]={}),Pe[Ye]="new";for(Ye in Pe)Pe[Ye]==="old"&&delete Le[Ye];F(Y),v.getComponentMethod("rangeslider","makeData")(Y),!oe&&be.length===fe.length&&d.supplyDefaultsUpdateCalc(be,fe)},d.supplyDefaultsUpdateCalc=function(X,Q){for(var oe=0;oe<Q.length;oe++){var j=Q[oe],Y=(X[oe]||[])[0];if(Y&&Y.trace){var se=Y.trace;if(se._hasCalcTransform){var te=se._arrayAttrs,fe,ge,be;for(fe=0;fe<te.length;fe++)ge=te[fe],be=t.nestedProperty(se,ge).get().slice(),t.nestedProperty(j,ge).set(be)}Y.trace=j}}};function A(X,Q){var oe=Q.length,j=[],Y,se;for(Y=0;Y<X.length;Y++){var te=X[Y]._fullInput;te!==se&&j.push(te),se=te}var fe=j.length,ge=new Array(oe),be={};function xe(Fe,Te){ge[Te]=Fe,be[Fe]=1}function _e(Fe,Te){if(Fe&&typeof Fe=="string"&&!be[Fe])return xe(Fe,Te),!0}for(Y=0;Y<oe;Y++){var De=Q[Y].uid;typeof De=="number"&&(De=String(De)),!_e(De,Y)&&(Y<fe&&_e(j[Y].uid,Y)||xe(t.randstr(be),Y))}return ge}function o(){var X=v.collectableSubplotTypes,Q={},oe,j;if(!X){X=[];var Y=v.subplotsRegistry;for(var se in Y){var te=Y[se],fe=te.attr;if(fe&&(X.push(se),Array.isArray(fe)))for(j=0;j<fe.length;j++)t.pushUnique(X,fe[j])}}for(oe=0;oe<X.length;oe++)Q[X[oe]]=[];return Q}function M(X,Q){var oe=X._context.locale;oe||(oe="en-US");var j=!1,Y={};function se(_e){for(var De=!0,Fe=0;Fe<Q.length;Fe++){var Te=Q[Fe];Y[Te]||(_e[Te]?Y[Te]=_e[Te]:De=!1)}De&&(j=!0)}for(var te=0;te<2;te++){for(var fe=X._context.locales,ge=0;ge<2;ge++){var be=(fe[oe]||{}).format;if(be&&(se(be),j))break;fe=v.localeRegistry}var xe=oe.split("-")[0];if(j||xe===oe)break;oe=xe}return j||se(v.localeRegistry.en.format),Y}function x(X,Q){return X.decimal=Q.charAt(0),X.thousands=Q.charAt(1),{numberFormat:function(oe){try{oe=s(X).format(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return oe},timeFormat:P(X).utcFormat}}function I(X,Q){var oe,j=[];Q.meta&&(oe=Q._meta={meta:Q.meta,layout:{meta:Q.meta}});for(var Y=0;Y<X.length;Y++){var se=X[Y];se.meta?j[se.index]=se._meta={meta:se.meta}:Q.meta&&(se._meta={meta:Q.meta}),Q.meta&&(se._meta.layout={meta:Q.meta})}j.length&&(oe||(oe=Q._meta={}),oe.data=j)}d.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},d._hasPlotType=function(X){var Q,oe=this._basePlotModules||[];for(Q=0;Q<oe.length;Q++)if(oe[Q].name===X)return!0;var j=this._modules||[];for(Q=0;Q<j.length;Q++){var Y=j[Q].name;if(Y===X)return!0;var se=v.modules[Y];if(se&&se.categories[X])return!0}return!1},d.cleanPlot=function(X,Q,oe,j){var Y,se,te=j._basePlotModules||[];for(Y=0;Y<te.length;Y++){var fe=te[Y];fe.clean&&fe.clean(X,Q,oe,j)}var ge=j._has&&j._has("gl"),be=Q._has&&Q._has("gl");ge&&!be&&j._glcontainer!==void 0&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var xe=!!j._infolayer;e:for(Y=0;Y<oe.length;Y++){var _e=oe[Y],De=_e.uid;for(se=0;se<X.length;se++){var Fe=X[se];if(De===Fe.uid)continue e}xe&&j._infolayer.select(".cb"+De).remove()}},d.linkSubplots=function(X,Q,oe,j){var Y,se,te=j._plots||{},fe=Q._plots={},ge=Q._subplots,be={_fullData:X,_fullLayout:Q},xe=ge.cartesian.concat(ge.gl2d||[]);for(Y=0;Y<xe.length;Y++){var _e=xe[Y],De=te[_e],Fe=f.getFromId(be,_e,"x"),Te=f.getFromId(be,_e,"y"),Re;for(De?Re=fe[_e]=De:(Re=fe[_e]={},Re.id=_e),Fe._counterAxes.push(Te._id),Te._counterAxes.push(Fe._id),Fe._subplotsWith.push(_e),Te._subplotsWith.push(_e),Re.xaxis=Fe,Re.yaxis=Te,Re._hasClipOnAxisFalse=!1,se=0;se<X.length;se++){var Se=X[se];if(Se.xaxis===Re.xaxis._id&&Se.yaxis===Re.yaxis._id&&Se.cliponaxis===!1){Re._hasClipOnAxisFalse=!0;break}}}var ke=f.list(be,null,!0),Me;for(Y=0;Y<ke.length;Y++){Me=ke[Y];var Ve=null;Me.overlaying&&(Ve=f.getFromId(be,Me.overlaying),Ve&&Ve.overlaying&&(Me.overlaying=!1,Ve=null)),Me._mainAxis=Ve||Me,Ve&&(Me.domain=Ve.domain.slice()),Me._anchorAxis=Me.anchor==="free"?null:f.getFromId(be,Me.anchor)}for(Y=0;Y<ke.length;Y++)if(Me=ke[Y],Me._counterAxes.sort(f.idSort),Me._subplotsWith.sort(t.subplotSort),Me._mainSubplot=D(Me,Q),Me._counterAxes.length&&(Me.spikemode&&Me.spikemode.indexOf("across")!==-1||Me.automargin&&Me.mirror&&Me.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Me))){var tt=1,it=0;for(se=0;se<Me._counterAxes.length;se++){var Je=f.getFromId(be,Me._counterAxes[se]);tt=Math.min(tt,Je.domain[0]),it=Math.max(it,Je.domain[1])}tt<it&&(Me._counterDomainMin=tt,Me._counterDomainMax=it)}};function D(X,Q){var oe={_fullLayout:Q},j=X._id.charAt(0)==="x",Y=X._mainAxis._anchorAxis,se="",te="",fe="";if(Y&&(fe=Y._mainAxis._id,se=j?X._id+fe:fe+X._id),!se||!Q._plots[se]){se="";for(var ge=X._counterAxes,be=0;be<ge.length;be++){var xe=ge[be],_e=j?X._id+xe:xe+X._id;te||(te=_e);var De=f.getFromId(oe,xe);if(fe&&De.overlaying===fe){se=_e;break}}}return se||te}d.clearExpandedTraceDefaultColors=function(X){var Q,oe,j;function Y(te,fe,ge,be){oe[be]=fe,oe.length=be+1,te.valType==="color"&&te.dflt===void 0&&Q.push(oe.join("."))}for(oe=[],Q=X._module._colorAttrs,Q||(X._module._colorAttrs=Q=[],p.crawl(X._module.attributes,Y)),j=0;j<Q.length;j++){var se=t.nestedProperty(X,"_input."+Q[j]);se.get()||t.nestedProperty(X,Q[j]).set(null)}},d.supplyDataDefaults=function(X,Q,oe,j){var Y=j._modules,se=j._visibleModules,te=j._basePlotModules,fe=0,ge=0,be,xe,_e;j._transformModules=[];function De(Qe){Q.push(Qe);var ct=Qe._module;ct&&(t.pushUnique(Y,ct),Qe.visible===!0&&t.pushUnique(se,ct),t.pushUnique(te,Qe._module.basePlotModule),fe++,Qe._input.visible!==!1&&ge++)}var Fe={},Te=[],Re=(oe.template||{}).data||{},Se=r.traceTemplater(Re);for(be=0;be<X.length;be++){if(_e=X[be],xe=Se.newTrace(_e),xe.uid=j._traceUids[be],d.supplyTraceDefaults(_e,xe,ge,j,be),xe.index=be,xe._input=_e,xe._expandedIndex=fe,xe.transforms&&xe.transforms.length)for(var ke=_e.visible!==!1&&xe.visible===!1,Me=k(xe,Q,oe,j),Ve=0;Ve<Me.length;Ve++){var tt=Me[Ve],it={_template:xe._template,type:xe.type,uid:xe.uid+Ve};ke&&tt.visible===!1&&delete tt.visible,d.supplyTraceDefaults(tt,it,fe,j,be),c(it,tt),it.index=be,it._input=_e,it._fullInput=xe,it._expandedIndex=fe,it._expandedInput=tt,De(it)}else xe._fullInput=xe,xe._expandedInput=xe,De(xe);v.traceIs(xe,"carpetAxis")&&(Fe[xe.carpet]=xe),v.traceIs(xe,"carpetDependent")&&Te.push(be)}for(be=0;be<Te.length;be++)if(xe=Q[Te[be]],!!xe.visible){var Je=Fe[xe.carpet];if(xe._carpet=Je,!Je||!Je.visible){xe.visible=!1;continue}xe.xaxis=Je.xaxis,xe.yaxis=Je.yaxis}},d.supplyAnimationDefaults=function(X){X=X||{};var Q,oe={};function j(Y,se){return t.coerce(X||{},oe,g,Y,se)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(X.frame))for(oe.frame=[],Q=0;Q<X.frame.length;Q++)oe.frame[Q]=d.supplyAnimationFrameDefaults(X.frame[Q]||{});else oe.frame=d.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(oe.transition=[],Q=0;Q<X.transition.length;Q++)oe.transition[Q]=d.supplyAnimationTransitionDefaults(X.transition[Q]||{});else oe.transition=d.supplyAnimationTransitionDefaults(X.transition||{});return oe},d.supplyAnimationFrameDefaults=function(X){var Q={};function oe(j,Y){return t.coerce(X||{},Q,g.frame,j,Y)}return oe("duration"),oe("redraw"),Q},d.supplyAnimationTransitionDefaults=function(X){var Q={};function oe(j,Y){return t.coerce(X||{},Q,g.transition,j,Y)}return oe("duration"),oe("easing"),Q},d.supplyFrameDefaults=function(X){var Q={};function oe(j,Y){return t.coerce(X,Q,h,j,Y)}return oe("group"),oe("name"),oe("traces"),oe("baseframe"),oe("data"),oe("layout"),Q},d.supplyTraceDefaults=function(X,Q,oe,j,Y){var se=j.colorway||a.defaults,te=se[oe%se.length],fe;function ge(Ve,tt){return t.coerce(X,Q,d.attributes,Ve,tt)}var be=ge("visible");ge("type"),ge("name",j._traceWord+" "+Y),ge("uirevision",j.uirevision);var xe=d.getModule(Q);if(Q._module=xe,xe){var _e=xe.basePlotModule,De=_e.attr,Fe=_e.attributes;if(De&&Fe){var Te=j._subplots,Re="";if(be||_e.name!=="gl2d"){if(Array.isArray(De))for(fe=0;fe<De.length;fe++){var Se=De[fe],ke=t.coerce(X,Q,Fe,Se);Te[Se]&&t.pushUnique(Te[Se],ke),Re+=ke}else Re=t.coerce(X,Q,Fe,De);Te[_e.name]&&t.pushUnique(Te[_e.name],Re)}}}if(be){if(ge("customdata"),ge("ids"),ge("meta"),v.traceIs(Q,"showLegend")?(t.coerce(X,Q,xe.attributes.showlegend?xe.attributes:d.attributes,"showlegend"),ge("legend"),ge("legendwidth"),ge("legendgroup"),ge("legendgrouptitle.text"),ge("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,xe&&xe.supplyDefaults(X,Q,te,j),v.traceIs(Q,"noOpacity")||ge("opacity"),v.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),v.traceIs(Q,"noHover")||(Q.hovertemplate||t.coerceHoverinfo(X,Q,j),Q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(X,Q,te,j)),xe&&xe.selectPoints){var Me=ge("selectedpoints");t.isTypedArray(Me)&&(Q.selectedpoints=Array.from(Me))}d.supplyTransformDefaults(X,Q,j)}return Q};function N(X){var Q=X.transforms;if(Array.isArray(Q)&&Q.length)for(var oe=0;oe<Q.length;oe++){var j=Q[oe],Y=j._module||b[j.type];if(Y&&Y.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(X,Q,oe){if(Q._length||N(X)){var j=oe._globalTransforms||[],Y=oe._transformModules||[];if(!(!Array.isArray(X.transforms)&&j.length===0))for(var se=X.transforms||[],te=j.concat(se),fe=Q.transforms=[],ge=0;ge<te.length;ge++){var be=te[ge],xe=be.type,_e=b[xe],De,Fe=!(be._module&&be._module===_e),Te=_e&&typeof _e.transform=="function";_e||t.warn("Unrecognized transform type "+xe+"."),_e&&_e.supplyDefaults&&(Fe||Te)?(De=_e.supplyDefaults(be,Q,oe,X),De.type=xe,De._module=_e,t.pushUnique(Y,_e)):De=t.extendFlat({},be),fe.push(De)}}};function k(X,Q,oe,j){for(var Y=X.transforms,se=[X],te=0;te<Y.length;te++){var fe=Y[te],ge=b[fe.type];ge&&ge.transform&&(se=ge.transform(se,{transform:fe,fullTrace:X,fullData:Q,layout:oe,fullLayout:j,transformIndex:te}))}return se}d.supplyLayoutGlobalDefaults=function(X,Q,oe){function j(_e,De){return t.coerce(X,Q,d.layoutAttributes,_e,De)}var Y=X.template;t.isPlainObject(Y)&&(Q.template=Y,Q._template=Y.layout,Q._dataTemplate=Y.data),j("autotypenumbers");var se=t.coerceFont(j,"font"),te=se.size;t.coerceFont(j,"title.font",se,{overrideDflt:{size:Math.round(te*1.4)}}),j("title.text",Q._dfltTitle.plot),j("title.xref");var fe=j("title.yref");j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l");var ge=j("title.automargin");j("title.x"),j("title.xanchor"),j("title.y"),j("title.yanchor"),ge&&(fe==="paper"&&(Q.title.y!==0&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y===0?"top":"bottom")),fe==="container"&&(Q.title.y==="auto"&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y<.5?"bottom":"top")));var be=j("uniformtext.mode");be&&j("uniformtext.minsize"),j("autosize",!(X.width&&X.height)),j("width"),j("height"),j("minreducedwidth"),j("minreducedheight"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),X.width&&X.height&&d.sanitizeMargins(Q),v.getComponentMethod("grid","sizeDefaults")(X,Q),j("paper_bgcolor"),j("separators",oe.decimal+oe.thousands),j("hidesources"),j("colorway"),j("datarevision");var xe=j("uirevision");j("editrevision",xe),j("selectionrevision",xe),v.getComponentMethod("modebar","supplyLayoutDefaults")(X,Q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,Q,j),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,Q,j),j("meta"),t.isPlainObject(X.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(X,Q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,Q,j),t.coerce(X,Q,l,"scattermode")};function O(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}d.plotAutoSize=function(Q,oe,j){var Y=Q._context||{},se=Y.frameMargins,te,fe,ge=t.isPlotDiv(Q);if(ge&&Q.emit("plotly_autosize"),Y.fillFrame)te=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var be=ge?window.getComputedStyle(Q):{};if(te=O(be.width)||O(be.maxWidth)||j.width,fe=O(be.height)||O(be.maxHeight)||j.height,L(se)&&se>0){var xe=1-2*se;te=Math.round(xe*te),fe=Math.round(xe*fe)}}var _e=d.layoutAttributes.width.min,De=d.layoutAttributes.height.min;te<_e&&(te=_e),fe<De&&(fe=De);var Fe=!oe.width&&Math.abs(j.width-te)>1,Te=!oe.height&&Math.abs(j.height-fe)>1;(Te||Fe)&&(Fe&&(j.width=te),Te&&(j.height=fe)),Q._initialAutoSize||(Q._initialAutoSize={width:te,height:fe}),d.sanitizeMargins(j)},d.supplyLayoutModuleDefaults=function(X,Q,oe,j){var Y=v.componentsRegistry,se=Q._basePlotModules,te,fe,ge,be=v.subplotsRegistry.cartesian;for(te in Y)ge=Y[te],ge.includeBasePlot&&ge.includeBasePlot(X,Q);se.length||se.push(be),Q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(X,Q),be.finalizeSubplots(X,Q));for(var xe in Q._subplots)Q._subplots[xe].sort(t.subplotSort);for(fe=0;fe<se.length;fe++)ge=se[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,oe);var _e=Q._modules;for(fe=0;fe<_e.length;fe++)ge=_e[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,oe);var De=Q._transformModules;for(fe=0;fe<De.length;fe++)ge=De[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,oe,j);for(te in Y)ge=Y[te],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,oe)},d.purge=function(X){var Q=X._fullLayout||{};Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},d.style=function(X){var Q=X._fullLayout._visibleModules,oe=[],j;for(j=0;j<Q.length;j++){var Y=Q[j];Y.style&&t.pushUnique(oe,Y.style)}for(j=0;j<oe.length;j++)oe[j](X)},d.sanitizeMargins=function(X){if(!(!X||!X.margin)){var Q=X.width,oe=X.height,j=X.margin,Y=Q-(j.l+j.r),se=oe-(j.t+j.b),te;Y<0&&(te=(Q-1)/(j.l+j.r),j.l=Math.floor(te*j.l),j.r=Math.floor(te*j.r)),se<0&&(te=(oe-1)/(j.t+j.b),j.t=Math.floor(te*j.t),j.b=Math.floor(te*j.b))}},d.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(X,Q){X._fullLayout._pushmarginIds[Q]=1};function F(X){var Q=X.margin;if(!X._size){var oe=X._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};oe.w=Math.round(X.width)-oe.l-oe.r,oe.h=Math.round(X.height)-oe.t-oe.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var z=2,B=2;d.autoMargin=function(X,Q,oe){var j=X._fullLayout,Y=j.width,se=j.height,te=j.margin,fe=j.minreducedwidth,ge=j.minreducedheight,be=t.constrain(Y-te.l-te.r,z,fe),xe=t.constrain(se-te.t-te.b,B,ge),_e=Math.max(0,Y-be),De=Math.max(0,se-xe),Fe=j._pushmargin,Te=j._pushmarginIds;if(te.autoexpand!==!1){if(!oe)delete Fe[Q],delete Te[Q];else{var Re=oe.pad;if(Re===void 0&&(Re=Math.min(12,te.l,te.r,te.t,te.b)),_e){var Se=(oe.l+oe.r)/_e;Se>1&&(oe.l/=Se,oe.r/=Se)}if(De){var ke=(oe.t+oe.b)/De;ke>1&&(oe.t/=ke,oe.b/=ke)}var Me=oe.xl!==void 0?oe.xl:oe.x,Ve=oe.xr!==void 0?oe.xr:oe.x,tt=oe.yt!==void 0?oe.yt:oe.y,it=oe.yb!==void 0?oe.yb:oe.y;Fe[Q]={l:{val:Me,size:oe.l+Re},r:{val:Ve,size:oe.r+Re},b:{val:it,size:oe.b+Re},t:{val:tt,size:oe.t+Re}},Te[Q]=1}if(!j._replotting)return d.doAutoMargin(X)}};function W(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var Q=f.list(X,"",!0);for(var oe in Q)if(Q[oe].autoshift||Q[oe].shift)return!0;return!1}d.doAutoMargin=function(X){var Q=X._fullLayout,oe=Q.width,j=Q.height;Q._size||(Q._size={}),F(Q);var Y=Q._size,se=Q.margin,te={t:0,b:0,l:0,r:0},fe=t.extendFlat({},Y),ge=se.l,be=se.r,xe=se.t,_e=se.b,De=Q._pushmargin,Fe=Q._pushmarginIds,Te=Q.minreducedwidth,Re=Q.minreducedheight;if(se.autoexpand!==!1){for(var Se in De)Fe[Se]||delete De[Se];var ke=X._fullLayout._reservedMargin;for(var Me in ke)for(var Ve in ke[Me]){var tt=ke[Me][Ve];te[Ve]=Math.max(te[Ve],tt)}De.base={l:{val:0,size:ge},r:{val:1,size:be},t:{val:1,size:xe},b:{val:0,size:_e}};for(var it in te){var Je=0;for(var Qe in De)Qe!=="base"&&L(De[Qe][it].size)&&(Je=De[Qe][it].size>Je?De[Qe][it].size:Je);var ct=Math.max(0,se[it]-Je);te[it]=Math.max(0,te[it]-ct)}for(var ht in De){var dt=De[ht].l||{},Tt=De[ht].b||{},Et=dt.val,rt=dt.size,ze=Tt.val,Ge=Tt.size,je=oe-te.r-te.l,We=j-te.t-te.b;for(var Le in De){if(L(rt)&&De[Le].r){var Pe=De[Le].r.val,Ye=De[Le].r.size;if(Pe>Et){var Ce=(rt*Pe+(Ye-je)*Et)/(Pe-Et),he=(Ye*(1-Et)+(rt-je)*(1-Pe))/(Pe-Et);Ce+he>ge+be&&(ge=Ce,be=he)}}if(L(Ge)&&De[Le].t){var me=De[Le].t.val,Ne=De[Le].t.size;if(me>ze){var $e=(Ge*me+(Ne-We)*ze)/(me-ze),ot=(Ne*(1-ze)+(Ge-We)*(1-me))/(me-ze);$e+ot>_e+xe&&(_e=$e,xe=ot)}}}}}var st=t.constrain(oe-se.l-se.r,z,Te),Wt=t.constrain(j-se.t-se.b,B,Re),Zt=Math.max(0,oe-st),At=Math.max(0,j-Wt);if(Zt){var Rt=(ge+be)/Zt;Rt>1&&(ge/=Rt,be/=Rt)}if(At){var Xt=(_e+xe)/At;Xt>1&&(_e/=Xt,xe/=Xt)}if(Y.l=Math.round(ge)+te.l,Y.r=Math.round(be)+te.r,Y.t=Math.round(xe)+te.t,Y.b=Math.round(_e)+te.b,Y.p=Math.round(se.pad),Y.w=Math.round(oe)-Y.l-Y.r,Y.h=Math.round(j)-Y.t-Y.b,!Q._replotting&&(d.didMarginChange(fe,Y)||W(X))){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var ir=3*(1+Object.keys(Fe).length);if(Q._redrawFromAutoMarginCount<ir)return v.call("_doPlot",X);Q._size=fe,t.warn("Too many auto-margin redraws.")}J(X)};function J(X){var Q=f.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(oe){for(var j=0;j<Q.length;j++){var Y=Q[j][oe];Y&&Y()}})}var re=["l","r","t","b","p","w","h"];d.didMarginChange=function(X,Q){for(var oe=0;oe<re.length;oe++){var j=re[oe],Y=X[j],se=Q[j];if(!L(Y)||Math.abs(se-Y)>1)return!0}return!1},d.graphJson=function(X,Q,oe,j,Y,se){(Y&&Q&&!X._fullData||Y&&!Q&&!X._fullLayout)&&d.supplyDefaults(X);var te=Y?X._fullData:X.data,fe=Y?X._fullLayout:X.layout,ge=(X._transitionData||{})._frames;function be(De,Fe){if(typeof De=="function")return Fe?"_function_":null;if(t.isPlainObject(De)){var Te={},Re;return Object.keys(De).sort().forEach(function(Ve){if(["_","["].indexOf(Ve.charAt(0))===-1){if(typeof De[Ve]=="function"){Fe&&(Te[Ve]="_function");return}if(oe==="keepdata"){if(Ve.substr(Ve.length-3)==="src")return}else if(oe==="keepstream"){if(Re=De[Ve+"src"],typeof Re=="string"&&Re.indexOf(":")>0&&!t.isPlainObject(De.stream))return}else if(oe!=="keepall"&&(Re=De[Ve+"src"],typeof Re=="string"&&Re.indexOf(":")>0))return;Te[Ve]=be(De[Ve],Fe)}}),Te}var Se=Array.isArray(De),ke=t.isTypedArray(De);if((Se||ke)&&De.dtype&&De.shape){var Me=De.bdata;return be({dtype:De.dtype,shape:De.shape,bdata:t.isArrayBuffer(Me)?S.encode(Me):Me},Fe)}return Se?De.map(function(Ve){return be(Ve,Fe)}):ke?t.simpleMap(De,t.identity):t.isJSDate(De)?t.ms2DateTimeLocal(+De):De}var xe={data:(te||[]).map(function(De){var Fe=be(De);return Q&&delete Fe.fit,Fe})};if(!Q&&(xe.layout=be(fe),Y)){var _e=fe._size;xe.layout.computed={margin:{b:_e.b,l:_e.l,r:_e.r,t:_e.t}}}return ge&&(xe.frames=be(ge)),se&&(xe.config=be(X._context,!0)),j==="object"?xe:JSON.stringify(xe)},d.modifyFrames=function(X,Q){var oe,j,Y,se=X._transitionData._frames,te=X._transitionData._frameHash;for(oe=0;oe<Q.length;oe++)switch(j=Q[oe],j.type){case"replace":Y=j.value;var fe=(se[j.index]||{}).name,ge=Y.name;se[j.index]=te[ge]=Y,ge!==fe&&(delete te[fe],te[ge]=Y);break;case"insert":Y=j.value,te[Y.name]=Y,se.splice(j.index,0,Y);break;case"delete":Y=se[j.index],delete te[Y.name],se.splice(j.index,1);break}return Promise.resolve()},d.computeFrame=function(X,Q){var oe=X._transitionData._frameHash,j,Y,se,te;if(!Q)throw new Error("computeFrame must be given a string frame name");var fe=oe[Q.toString()];if(!fe)return!1;for(var ge=[fe],be=[fe.name];fe.baseframe&&(fe=oe[fe.baseframe.toString()])&&be.indexOf(fe.name)===-1;)ge.push(fe),be.push(fe.name);for(var xe={};fe=ge.pop();)if(fe.layout&&(xe.layout=d.extendLayout(xe.layout,fe.layout)),fe.data){if(xe.data||(xe.data=[]),Y=fe.traces,!Y)for(Y=[],j=0;j<fe.data.length;j++)Y[j]=j;for(xe.traces||(xe.traces=[]),j=0;j<fe.data.length;j++)se=Y[j],se!=null&&(te=xe.traces.indexOf(se),te===-1&&(te=xe.data.length,xe.traces[te]=se),xe.data[te]=d.extendTrace(xe.data[te],fe.data[j]))}return xe},d.recomputeFrameHash=function(X){for(var Q=X._transitionData._frameHash={},oe=X._transitionData._frames,j=0;j<oe.length;j++){var Y=oe[j];Y&&Y.name&&(Q[Y.name]=Y)}},d.extendObjectWithContainers=function(X,Q,oe){var j,Y,se,te,fe,ge,be,xe,_e=t.extendDeepNoArrays({},Q||{}),De=t.expandObjectPaths(_e),Fe={};if(oe&&oe.length)for(se=0;se<oe.length;se++)j=t.nestedProperty(De,oe[se]),Y=j.get(),Y===void 0?t.nestedProperty(Fe,oe[se]).set(null):(j.set(null),t.nestedProperty(Fe,oe[se]).set(Y));if(X=t.extendDeepNoArrays(X||{},De),oe&&oe.length){for(se=0;se<oe.length;se++)if(fe=t.nestedProperty(Fe,oe[se]),be=fe.get(),!!be){for(ge=t.nestedProperty(X,oe[se]),xe=ge.get(),Array.isArray(xe)||(xe=[],ge.set(xe)),te=0;te<be.length;te++){var Te=be[te];Te===null?xe[te]=null:xe[te]=d.extendObjectWithContainers(xe[te],Te)}ge.set(xe)}}return X},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(X,Q){return d.extendObjectWithContainers(X,Q,d.dataArrayContainers)},d.extendLayout=function(X,Q){return d.extendObjectWithContainers(X,Q,d.layoutArrayContainers)},d.transition=function(X,Q,oe,j,Y,se){var te={redraw:Y.redraw},fe={},ge=[];return te.prepareFn=function(){for(var be=Array.isArray(Q)?Q.length:0,xe=j.slice(0,be),_e=0;_e<xe.length;_e++){var De=xe[_e],Fe=X._fullData[De],Te=Fe._module;if(Te){if(Te.animatable){var Re=Te.basePlotModule.name;fe[Re]||(fe[Re]=[]),fe[Re].push(De)}X.data[xe[_e]]=d.extendTrace(X.data[xe[_e]],Q[_e])}}var Se=t.expandObjectPaths(t.extendDeepNoArrays({},oe)),ke=/^[xy]axis[0-9]*$/;for(var Me in Se)ke.test(Me)&&delete Se[Me].range;d.extendLayout(X.layout,Se),delete X.calcdata,d.supplyDefaults(X),d.doCalcdata(X);var Ve=t.expandObjectPaths(oe);if(Ve){var tt=X._fullLayout._plots;for(var it in tt){var Je=tt[it],Qe=Je.xaxis,ct=Je.yaxis,ht=Qe.range.slice(),dt=ct.range.slice(),Tt=null,Et=null,rt=null,ze=null;Array.isArray(Ve[Qe._name+".range"])?Tt=Ve[Qe._name+".range"].slice():Array.isArray((Ve[Qe._name]||{}).range)&&(Tt=Ve[Qe._name].range.slice()),Array.isArray(Ve[ct._name+".range"])?Et=Ve[ct._name+".range"].slice():Array.isArray((Ve[ct._name]||{}).range)&&(Et=Ve[ct._name].range.slice()),ht&&Tt&&(Qe.r2l(ht[0])!==Qe.r2l(Tt[0])||Qe.r2l(ht[1])!==Qe.r2l(Tt[1]))&&(rt={xr0:ht,xr1:Tt}),dt&&Et&&(ct.r2l(dt[0])!==ct.r2l(Et[0])||ct.r2l(dt[1])!==ct.r2l(Et[1]))&&(ze={yr0:dt,yr1:Et}),(rt||ze)&&ge.push(t.extendFlat({plotinfo:Je},rt,ze))}}return Promise.resolve()},te.runFn=function(be){var xe,_e=X._fullLayout._basePlotModules,De=ge.length,Fe;if(oe)for(Fe=0;Fe<_e.length;Fe++)_e[Fe].transitionAxes&&_e[Fe].transitionAxes(X,ge,se,be);De?(xe=t.extendFlat({},se),xe.duration=0,delete fe.cartesian):xe=se;for(var Te in fe){var Re=fe[Te],Se=X._fullData[Re[0]]._module;Se.basePlotModule.plot(X,Re,xe,be)}},ne(X,se,te)},d.transitionFromReact=function(X,Q,oe,j){var Y=X._fullLayout,se=Y.transition,te={},fe=[];return te.prepareFn=function(){var ge=Y._plots;te.redraw=!1,Q.anim==="some"&&(te.redraw=!0),oe.anim==="some"&&(te.redraw=!0);for(var be in ge){var xe=ge[be],_e=xe.xaxis,De=xe.yaxis,Fe=j[_e._name].range.slice(),Te=j[De._name].range.slice(),Re=_e.range.slice(),Se=De.range.slice();_e.setScale(),De.setScale();var ke=null,Me=null;(_e.r2l(Fe[0])!==_e.r2l(Re[0])||_e.r2l(Fe[1])!==_e.r2l(Re[1]))&&(ke={xr0:Fe,xr1:Re}),(De.r2l(Te[0])!==De.r2l(Se[0])||De.r2l(Te[1])!==De.r2l(Se[1]))&&(Me={yr0:Te,yr1:Se}),(ke||Me)&&fe.push(t.extendFlat({plotinfo:xe},ke,Me))}return Promise.resolve()},te.runFn=function(ge){for(var be=X._fullData,xe=X._fullLayout,_e=xe._basePlotModules,De,Fe,Te,Re=[],Se=0;Se<be.length;Se++)Re.push(Se);function ke(){if(X._fullLayout)for(var Ve=0;Ve<_e.length;Ve++)_e[Ve].transitionAxes&&_e[Ve].transitionAxes(X,fe,De,ge)}function Me(){if(X._fullLayout)for(var Ve=0;Ve<_e.length;Ve++)_e[Ve].plot(X,Te,Fe,ge)}fe.length&&Q.anim?se.ordering==="traces first"?(De=t.extendFlat({},se,{duration:0}),Te=Re,Fe=se,setTimeout(ke,se.duration),Me()):(De=se,Te=null,Fe=t.extendFlat({},se,{duration:0}),setTimeout(Me,De.duration),ke()):fe.length?(De=se,ke()):Q.anim&&(Te=Re,Fe=se,Me())},ne(X,se,te)};function ne(X,Q,oe){var j=!1;function Y(_e){var De=Promise.resolve();if(!_e)return De;for(;_e.length;)De=De.then(_e.shift());return De}function se(_e){if(_e)for(;_e.length;)_e.shift()}function te(){return X.emit("plotly_transitioning",[]),new Promise(function(_e){X._transitioning=!0,Q.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){j=!0}),oe.redraw&&X._transitionData._interruptCallbacks.push(function(){return v.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var De=0,Fe=0;function Te(){return De++,function(){Fe++,!j&&Fe===De&&fe(_e)}}oe.runFn(Te),setTimeout(Te())})}function fe(_e){if(X._transitionData)return se(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(oe.redraw)return v.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(_e)}function ge(){if(X._transitionData)return X._transitioning=!1,Y(X._transitionData._interruptCallbacks)}var be=[d.previousPromises,ge,oe.prepareFn,d.rehover,d.reselect,te],xe=t.syncOrAsync(be,X);return(!xe||!xe.then)&&(xe=Promise.resolve()),xe.then(function(){return X})}d.doCalcdata=function(X,Q){var oe=f.list(X),j=X._fullData,Y=X._fullLayout,se,te,fe,ge,be=new Array(j.length),xe=(X.calcdata||[]).slice();for(X.calcdata=be,Y._numBoxes=0,Y._numViolins=0,Y._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,Y._piecolormap={},Y._sunburstcolormap={},Y._treemapcolormap={},Y._iciclecolormap={},Y._funnelareacolormap={},fe=0;fe<j.length;fe++)if(Array.isArray(Q)&&Q.indexOf(fe)===-1){be[fe]=xe[fe];continue}for(fe=0;fe<j.length;fe++)se=j[fe],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var _e=Y._subplots.polar||[];for(fe=0;fe<_e.length;fe++)oe.push(Y[_e[fe]].radialaxis,Y[_e[fe]].angularaxis);for(var De in Y._colorAxes){var Fe=Y[De];Fe.cauto!==!1&&(delete Fe.cmin,delete Fe.cmax)}var Te=!1;function Re(Me){if(se=j[Me],te=se._module,se.visible===!0&&se.transforms){if(te&&te.calc){var Ve=te.calc(X,se);Ve[0]&&Ve[0].t&&Ve[0].t._scene&&delete Ve[0].t._scene.dirty}for(ge=0;ge<se.transforms.length;ge++){var tt=se.transforms[ge];te=b[tt.type],te&&te.calcTransform&&(se._hasCalcTransform=!0,Te=!0,te.calcTransform(X,se,tt))}}}function Se(Me,Ve){if(se=j[Me],te=se._module,!!te.isContainer===Ve){var tt=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var it=se.transforms||[];for(ge=it.length-1;ge>=0;ge--)if(it[ge].enabled){se._indexToPoints=it[ge]._indexToPoints;break}te&&te.calc&&(tt=te.calc(X,se))}(!Array.isArray(tt)||!tt[0])&&(tt=[{x:n,y:n}]),tt[0].t||(tt[0].t={}),tt[0].trace=se,be[Me]=tt}}for(Z(oe,j,Y),fe=0;fe<j.length;fe++)Se(fe,!0);for(fe=0;fe<j.length;fe++)Re(fe);for(Te&&Z(oe,j,Y),fe=0;fe<j.length;fe++)Se(fe,!0);for(fe=0;fe<j.length;fe++)Se(fe,!1);ie(X);var ke=$(oe,X);if(ke.length){for(Y._numBoxes=0,Y._numViolins=0,fe=0;fe<ke.length;fe++)Se(ke[fe],!0);for(fe=0;fe<ke.length;fe++)Se(ke[fe],!1);ie(X)}v.getComponentMethod("fx","calc")(X),v.getComponentMethod("errorbars","calc")(X)};var le=/(total|sum|min|max|mean|median) (ascending|descending)/;function $(X,Q){var oe=[],j,Y,se,te,fe;function ge(Le,Pe,Ye){var Ce=Pe._id.charAt(0);if(Le==="histogram2dcontour"){var he=Pe._counterAxes[0],me=f.getFromId(Q,he),Ne=Ce==="x"||he==="x"&&me.type==="category",$e=Ce==="y"||he==="y"&&me.type==="category";return function(ot,st){return ot===0||st===0||Ne&&ot===Ye[st].length-1||$e&&st===Ye.length-1?-1:(Ce==="y"?st:ot)-1}}else return function(ot,st){return Ce==="y"?st:ot}}var be={min:function(Le){return t.aggNums(Math.min,null,Le)},max:function(Le){return t.aggNums(Math.max,null,Le)},sum:function(Le){return t.aggNums(function(Pe,Ye){return Pe+Ye},null,Le)},total:function(Le){return t.aggNums(function(Pe,Ye){return Pe+Ye},null,Le)},mean:function(Le){return t.mean(Le)},median:function(Le){return t.median(Le)}};function xe(Le,Pe){return Le[1]-Pe[1]}function _e(Le,Pe){return Pe[1]-Le[1]}for(j=0;j<X.length;j++){var De=X[j];if(De.type==="category"){var Fe=De.categoryorder.match(le);if(Fe){var Te=Fe[1],Re=Fe[2],Se=De._id.charAt(0),ke=Se==="x",Me=[];for(Y=0;Y<De._categories.length;Y++)Me.push([De._categories[Y],[]]);for(Y=0;Y<De._traceIndices.length;Y++){var Ve=De._traceIndices[Y],tt=Q._fullData[Ve];if(tt.visible===!0){var it=tt.type;v.traceIs(tt,"histogram")&&(delete tt._xautoBinFinished,delete tt._yautoBinFinished);var Je=it==="splom",Qe=it==="scattergl",ct=Q.calcdata[Ve];for(se=0;se<ct.length;se++){var ht=ct[se],dt,Tt;if(Je){var Et=tt._axesDim[De._id];if(!ke){var rt=tt._diag[Et][0];rt&&(De=Q._fullLayout[f.id2name(rt)])}var ze=ht.trace.dimensions[Et].values;for(te=0;te<ze.length;te++)for(dt=De._categoriesMap[ze[te]],fe=0;fe<ht.trace.dimensions.length;fe++)if(fe!==Et){var Ge=ht.trace.dimensions[fe];Me[dt][1].push(Ge.values[te])}}else if(Qe){for(te=0;te<ht.t.x.length;te++)ke?(dt=ht.t.x[te],Tt=ht.t.y[te]):(dt=ht.t.y[te],Tt=ht.t.x[te]),Me[dt][1].push(Tt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){Tt=ht.z;var je=ge(tt.type,De,Tt);for(te=0;te<Tt.length;te++)for(fe=0;fe<Tt[te].length;fe++)dt=je(fe,te),dt+1&&Me[dt][1].push(Tt[te][fe])}else for(dt=ht.p,dt===void 0&&(dt=ht[Se]),Tt=ht.s,Tt===void 0&&(Tt=ht.v),Tt===void 0&&(Tt=ke?ht.y:ht.x),Array.isArray(Tt)||(Tt===void 0?Tt=[]:Tt=[Tt]),te=0;te<Tt.length;te++)Me[dt][1].push(Tt[te])}}}De._categoriesValue=Me;var We=[];for(Y=0;Y<Me.length;Y++)We.push([Me[Y][0],be[Te](Me[Y][1])]);We.sort(Re==="descending"?_e:xe),De._categoriesAggregatedValue=We,De._initialCategories=We.map(function(Le){return Le[0]}),oe=oe.concat(De.sortByInitialCategories())}}}return oe}function Z(X,Q,oe){var j={};function Y(ge){ge.clearCalc(),ge.type==="multicategory"&&ge.setupMultiCategory(Q),j[ge._id]=1}t.simpleMap(X,Y);for(var se=oe._axisMatchGroups||[],te=0;te<se.length;te++)for(var fe in se[te])j[fe]||Y(oe[f.id2name(fe)])}function ie(X){var Q=X._fullLayout,oe=Q._visibleModules,j={},Y,se,te;for(se=0;se<oe.length;se++){var fe=oe[se],ge=fe.crossTraceCalc;if(ge){var be=fe.basePlotModule.name;j[be]?t.pushUnique(j[be],ge):j[be]=[ge]}}for(te in j){var xe=j[te],_e=Q._subplots[te];if(Array.isArray(_e))for(Y=0;Y<_e.length;Y++){var De=_e[Y],Fe=te==="cartesian"?Q._plots[De]:Q[De];for(se=0;se<xe.length;se++)xe[se](X,Fe,De)}else for(se=0;se<xe.length;se++)xe[se](X)}}d.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},d.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},d.reselect=function(X){var Q=X._fullLayout,oe=(X.layout||{}).selections,j=Q._previousSelections;Q._previousSelections=oe;var Y=Q._reselect||JSON.stringify(oe)!==JSON.stringify(j);v.getComponentMethod("selections","reselect")(X,Y)},d.generalUpdatePerTraceModule=function(X,Q,oe,j){var Y=Q.traceHash,se={},te;for(te=0;te<oe.length;te++){var fe=oe[te],ge=fe[0].trace;ge.visible&&(se[ge.type]=se[ge.type]||[],se[ge.type].push(fe))}for(var be in Y)if(!se[be]){var xe=Y[be][0],_e=xe[0].trace;_e.visible=!1,se[be]=[xe]}for(var De in se){var Fe=se[De],Te=Fe[0][0].trace._module;Te.plot(X,Q,t.filterVisible(Fe),j)}Q.traceHash=se},d.plotBasePlot=function(X,Q,oe,j,Y){var se=v.getModule(X),te=T(Q.calcdata,se)[0];se.plot(Q,te,j,Y)},d.cleanBasePlot=function(X,Q,oe,j,Y){var se=Y._has&&Y._has(X),te=oe._has&&oe._has(X);se&&!te&&Y["_"+X+"layer"].selectAll("g.trace").remove()}},39360:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(G,H,e){var m=e(3400),P=e(92065).tester,s=m.findIndexOfMin,L=m.isAngleInsideSector,S=m.angleDelta,v=m.angleDist;function p(i,d,b,w,C){if(!L(d,w))return!1;var y,E;b[0]<b[1]?(y=b[0],E=b[1]):(y=b[1],E=b[0]);var A=P(f(y,w[0],w[1],C)),o=P(f(E,w[0],w[1],C)),M=[i*Math.cos(d),i*Math.sin(d)];return o.contains(M)&&!A.contains(M)}function r(i,d,b,w){var C,y,E=w[0],A=w[1],o=g(Math.sin(d)-Math.sin(i)),M=g(Math.cos(d)-Math.cos(i)),x=Math.tan(b),I=g(1/x),D=o/M,N=A-D*E;return I?o&&M?(C=N/(x-D),y=x*C):M?(C=A*I,y=A):(C=E,y=E*x):o&&M?(C=0,y=N):M?(C=0,y=A):C=y=NaN,[C,y]}function t(i,d,b,w){var C=-d*b,y=d*d+1,E=2*(d*C-b),A=C*C+b*b-i*i,o=Math.sqrt(E*E-4*y*A),M=(-E+o)/(2*y),x=(-E-o)/(2*y);return[[M,d*M+C+w],[x,d*x+C+w]]}function a(i,d){var b=d.length,w=new Array(b+1),C;for(C=0;C<b;C++){var y=d[C];w[C]=[i*Math.cos(y),i*Math.sin(y)]}return w[C]=w[0].slice(),w}function n(i,d,b,w){var C=w.length,y=[],E,A;function o(z){return[i*Math.cos(z),i*Math.sin(z)]}function M(z,B,W){return r(z,B,W,o(z))}function x(z){return m.mod(z,C)}function I(z){return L(z,[d,b])}var D=s(w,function(z){return I(z)?v(z,d):1/0}),N=M(w[D],w[x(D-1)],d);for(y.push(N),E=D,A=0;A<C;E++,A++){var k=w[x(E)];if(!I(k))break;y.push(o(k))}var O=s(w,function(z){return I(z)?v(z,b):1/0}),F=M(w[O],w[x(O+1)],b);return y.push(F),y.push([0,0]),y.push(y[0].slice()),y}function f(i,d,b,w){return m.isFullCircle([d,b])?a(i,w):n(i,d,b,w)}function u(i,d,b,w){for(var C=1/0,y=1/0,E=f(i,d,b,w),A=0;A<E.length;A++){var o=E[A];C=Math.min(C,o[0]),y=Math.min(y,-o[1])}return[C,y]}function l(i,d){var b=function(y){var E=S(y,i);return E>0?E:1/0},w=s(d,b),C=m.mod(w+1,d.length);return[d[w],d[C]]}function g(i){return Math.abs(i)>1e-10?i:0}function h(i,d,b){d=d||0,b=b||0;for(var w=i.length,C=new Array(w),y=0;y<w;y++){var E=i[y];C[y]=[d+E[0],b-E[1]]}return C}function T(i,d,b,w,C,y){var E=f(i,d,b,w);return"M"+h(E,C,y).join("L")}function c(i,d,b,w,C,y,E){var A,o;i<d?(A=i,o=d):(A=d,o=i);var M=h(f(A,b,w,C),y,E),x=h(f(o,b,w,C),y,E);return"M"+x.reverse().join("L")+"M"+M.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:T,pathPolygonAnnulus:c}},40872:function(G,H,e){var m=e(84888).KY,P=e(3400).counterRegex,s=e(62400),L=e(39360),S=L.attr,v=L.name,p=P(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],g=0;g<l.length;g++){var h=l[g],T=m(u,v,h),c=f[h]._subplot;c||(c=s(n,h),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,u,l){for(var g=l._subplots[v]||[],h=l._has&&l._has("gl"),T=f._has&&f._has("gl"),c=h&&!T,i=0;i<g.length;i++){var d=g[i],b=l[d]._subplot;if(!f[d]&&b){b.framework.remove(),b.layers["radial-axis-title"].remove();for(var w in b.clipPaths)b.clipPaths[w].remove()}c&&b._scene&&(b._scene.destroy(),b._scene=null)}}G.exports={attr:S,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:a,toSVG:e(57952).toSVG}},95300:function(G,H,e){var m=e(22548),P=e(94724),s=e(86968).u,L=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=S({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,v,p);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,p),G.exports={domain:s({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:m.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(168),S=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),a=e(22416),n=e(42136),f=e(76808),u=e(52976),l=e(95300),g=e(57696),h=e(39360),T=h.axisNames;function c(d,b,w,C){var y=w("bgcolor");C.bgColor=P.combine(y,C.paper_bgcolor);var E=w("sector");w("hole");var A=S(C.fullData,h.name,C.id),o=C.layoutOut,M;function x(fe,ge){return w(M+"."+fe,ge)}for(var I=0;I<T.length;I++){M=T[I],m.isPlainObject(d[M])||(d[M]={});var D=d[M],N=s.newContainer(b,M);N._id=N._name=M,N._attr=C.id+"."+M,N._traceIndices=A.map(function(fe){return fe._expandedIndex});var k=h.axisName2dataArray[M],O=i(D,N,x,A,k,C);a(D,N,x,{axData:A,dataAttr:k});var F=x("visible");switch(g(N,b,o),x("uirevision",b.uirevision),N._m=1,M){case"radialaxis":x("minallowed"),x("maxallowed");var z=x("range"),B=N.getAutorangeDflt(z),W=x("autorange",B),J;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(W==="reversed"||W===!0)||z[0]!==null&&(W==="min"||W==="max reversed")||z[1]!==null&&(W==="max"||W==="min reversed"))&&(z=void 0,delete N.range,N.autorange=!0,J=!0),J||(B=N.getAutorangeDflt(z),W=x("autorange",B)),D.autorange=W,W&&(f(x,W,z),(O==="linear"||O==="-")&&x("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(O==="date"){m.log("Polar plots do not support date angular axes yet.");for(var re=0;re<A.length;re++)A[re].visible=!1;O=D.type=N.type="linear"}x(O==="linear"?"thetaunit":"period");var ne=x("direction");x("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(D,N,x,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"°":void 0}),F){var le,$,Z,ie,X,Q,oe,j,Y,se,te=C.font||{};le=x("color"),$=le===D.color?le:te.color,Z=te.size,ie=te.family,X=te.weight,Q=te.style,oe=te.variant,j=te.textcase,Y=te.lineposition,se=te.shadow,v(D,N,x,N.type),r(D,N,x,N.type,{font:{weight:X,style:Q,variant:oe,textcase:j,lineposition:Y,shadow:se,color:$,size:Z,family:ie},noAutotickangles:M==="angularaxis"}),p(D,N,x,{outerTicks:!0}),n(D,N,x,{dfltColor:le,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[M]}),x("layer"),M==="radialaxis"&&(x("side"),x("angle",E[0]),x("title.text"),m.coerceFont(x,"title.font",{weight:X,style:Q,variant:oe,textcase:j,lineposition:Y,shadow:se,color:$,size:m.bigFont(Z),family:ie}))}O!=="category"&&x("hoverformat"),N._input=D}b.angularaxis.type==="category"&&w("gridshape")}function i(d,b,w,C,y,E){var A=w("autotypenumbers",E.autotypenumbersDflt),o=w("type");if(o==="-"){for(var M,x=0;x<C.length;x++)if(C[x].visible){M=C[x];break}M&&M[y]&&(b.type=u(M[y],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),b.type==="-"?b.type="linear":d.type=b.type}return b.type}G.exports=function(b,w,C){L(b,w,C,{type:h.name,attributes:l,handleDefaults:c,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:C,layoutOut:w})}},62400:function(G,H,e){var m=e(33428),P=e(49760),s=e(24040),L=e(3400),S=L.strRotate,v=L.strTranslate,p=e(76308),r=e(43616),t=e(7316),a=e(54460),n=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),g=e(86476),h=e(93024),T=e(81668),c=e(22676).prepSelect,i=e(22676).selectOnClick,d=e(22676).clearOutline,b=e(93972),w=e(73696),C=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,E=e(39360),A=e(57384),o=e(36416),M=o.smith,x=o.reactanceArc,I=o.resistanceArc,D=o.smithTransform,N=L._,k=L.mod,O=L.deg2rad,F=L.rad2deg;function z(le,$,Z){this.isSmith=Z||!1,this.id=$,this.gd=le,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ie=le._fullLayout,X="clip"+ie._uid+$;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=ie._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ie["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",$),this.getHole=function(Q){return this.isSmith?0:Q.hole},this.getSector=function(Q){return this.isSmith?[0,360]:Q.sector},this.getRadial=function(Q){return this.isSmith?Q.realaxis:Q.radialaxis},this.getAngular=function(Q){return this.isSmith?Q.imaginaryaxis:Q.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=z.prototype;G.exports=function($,Z,ie){return new z($,Z,ie)},B.plot=function(le,$){for(var Z=this,ie=$[Z.id],X=!1,Q=0;Q<le.length;Q++){var oe=le[Q][0].trace;if(oe.cliponaxis===!1){X=!0;break}}Z._hasClipOnAxisFalse=X,Z.updateLayers($,ie),Z.updateLayout($,ie),t.generalUpdatePerTraceModule(Z.gd,Z,le,ie),Z.updateFx($,ie),Z.isSmith&&(delete ie.realaxis.range,delete ie.imaginaryaxis.range)},B.updateLayers=function(le,$){var Z=this,ie=Z.isSmith,X=Z.layers,Q=Z.getRadial($),oe=Z.getAngular($),j=E.layerNames,Y=j.indexOf("frontplot"),se=j.slice(0,Y),te=oe.layer==="below traces",fe=Q.layer==="below traces";te&&se.push("angular-line"),fe&&se.push("radial-line"),te&&se.push("angular-axis"),fe&&se.push("radial-axis"),se.push("frontplot"),te||se.push("angular-line"),fe||se.push("radial-line"),te||se.push("angular-axis"),fe||se.push("radial-axis");var ge=(ie?"smith":"polar")+"sublayer",be=Z.framework.selectAll("."+ge).data(se,String);be.enter().append("g").attr("class",function(xe){return ge+" "+xe}).each(function(xe){var _e=X[xe]=m.select(this);switch(xe){case"frontplot":ie||_e.append("g").classed("barlayer",!0),_e.append("g").classed("scatterlayer",!0);break;case"backplot":_e.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=_e.append("path");break;case"radial-grid":_e.style("fill","none");break;case"angular-grid":_e.style("fill","none");break;case"radial-line":_e.append("line").style("fill","none");break;case"angular-line":_e.append("path").style("fill","none");break}}),be.order()},B.updateLayout=function(le,$){var Z=this,ie=Z.layers,X=le._size,Q=Z.getRadial($),oe=Z.getAngular($),j=$.domain.x,Y=$.domain.y;Z.xOffset=X.l+X.w*j[0],Z.yOffset=X.t+X.h*(1-Y[1]);var se=Z.xLength=X.w*(j[1]-j[0]),te=Z.yLength=X.h*(Y[1]-Y[0]),fe=Z.getSector($);Z.sectorInRad=fe.map(O);var ge=Z.sectorBBox=J(fe),be=ge[2]-ge[0],xe=ge[3]-ge[1],_e=te/se,De=Math.abs(xe/be),Fe,Te,Re,Se,ke;_e>De?(Fe=se,Te=se*De,ke=(te-Te)/X.h/2,Re=[j[0],j[1]],Se=[Y[0]+ke,Y[1]-ke]):(Fe=te/De,Te=te,ke=(se-Fe)/X.w/2,Re=[j[0]+ke,j[1]-ke],Se=[Y[0],Y[1]]),Z.xLength2=Fe,Z.yLength2=Te,Z.xDomain2=Re,Z.yDomain2=Se;var Me=Z.xOffset2=X.l+X.w*Re[0],Ve=Z.yOffset2=X.t+X.h*(1-Se[1]),tt=Z.radius=Fe/be,it=Z.innerRadius=Z.getHole($)*tt,Je=Z.cx=Me-tt*ge[0],Qe=Z.cy=Ve+tt*ge[3],ct=Z.cxx=Je-Me,ht=Z.cyy=Qe-Ve,dt=Q.side,Tt;dt==="counterclockwise"?(Tt=dt,dt="top"):dt==="clockwise"&&(Tt=dt,dt="bottom"),Z.radialAxis=Z.mockAxis(le,$,Q,{_id:"x",side:dt,_trueSide:Tt,domain:[it/X.w,tt/X.w]}),Z.angularAxis=Z.mockAxis(le,$,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(le,$),Z.updateAngularAxis(le,$),Z.updateRadialAxis(le,$),Z.updateRadialAxisTitle(le,$),Z.xaxis=Z.mockCartesianAxis(le,$,{_id:"x",domain:Re}),Z.yaxis=Z.mockCartesianAxis(le,$,{_id:"y",domain:Se});var Et=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Et).attr("transform",v(ct,ht)),ie.frontplot.attr("transform",v(Me,Ve)).call(r.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),ie.bg.attr("d",Et).attr("transform",v(Je,Qe)).call(p.fill,$.bgcolor)},B.mockAxis=function(le,$,Z,ie){var X=L.extendFlat({},Z,ie);return f(X,$,le),X},B.mockCartesianAxis=function(le,$,Z){var ie=this,X=ie.isSmith,Q=Z._id,oe=L.extendFlat({type:"linear"},Z);n(oe,le);var j={x:[0,2],y:[1,3]};return oe.setRange=function(){var Y=ie.sectorBBox,se=j[Q],te=ie.radialAxis._rl,fe=(te[1]-te[0])/(1-ie.getHole($));oe.range=[Y[se[0]]*fe,Y[se[1]]*fe]},oe.isPtWithinRange=Q==="x"&&!X?function(Y){return ie.isPtInside(Y)}:function(){return!0},oe.setRange(),oe.setScale(),oe},B.doAutoRange=function(le,$){var Z=this,ie=Z.gd,X=Z.radialAxis,Q=Z.getRadial($);u(ie,X);var oe=X.range;if(Q.range=oe.slice(),Q._input.range=oe.slice(),X._rl=[X.r2l(oe[0],null,"gregorian"),X.r2l(oe[1],null,"gregorian")],X.minallowed!==void 0){var j=X.r2l(X.minallowed);X._rl[0]>X._rl[1]?X._rl[1]=Math.max(X._rl[1],j):X._rl[0]=Math.max(X._rl[0],j)}if(X.maxallowed!==void 0){var Y=X.r2l(X.maxallowed);X._rl[0]<X._rl[1]?X._rl[1]=Math.min(X._rl[1],Y):X._rl[0]=Math.min(X._rl[0],Y)}},B.updateRadialAxis=function(le,$){var Z=this,ie=Z.gd,X=Z.layers,Q=Z.radius,oe=Z.innerRadius,j=Z.cx,Y=Z.cy,se=Z.getRadial($),te=k(Z.getSector($)[0],360),fe=Z.radialAxis,ge=oe<Q,be=Z.isSmith;be||(Z.fillViewInitialKey("radialaxis.angle",se.angle),Z.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&te>90&&te<=270&&(fe.tickangle=180);var xe=be?function(tt){var it=D(Z,M([tt.x,0]));return v(it[0]-j,it[1]-Y)}:function(tt){return v(fe.l2p(tt.x)+oe,0)},_e=be?function(tt){return I(Z,tt.x,-1/0,1/0)}:function(tt){return Z.pathArc(fe.r2p(tt.x)+oe)},De=W(se);if(Z.radialTickLayout!==De&&(X["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=De),ge){fe.setScale();var Fe=0,Te=be?(fe.tickvals||[]).filter(function(tt){return tt>=0}).map(function(tt){return a.tickText(fe,tt,!0,!1)}):a.calcTicks(fe),Re=be?Te:a.clipEnds(fe,Te),Se=a.getTickSigns(fe)[2];be&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Se=-Se),fe.ticks==="top"&&fe.side==="top"&&(Fe=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Fe=fe.ticklen)),a.drawTicks(ie,fe,{vals:Te,layer:X["radial-axis"],path:a.makeTickPath(fe,0,Se),transFn:xe,crisp:!1}),a.drawGrid(ie,fe,{vals:Re,layer:X["radial-grid"],path:_e,transFn:L.noop,crisp:!1}),a.drawLabels(ie,fe,{vals:Te,layer:X["radial-axis"],transFn:xe,labelFns:a.makeLabelFns(fe,Fe)})}var ke=Z.radialAxisAngle=Z.vangles?F(re(O(se.angle),Z.vangles)):se.angle,Me=v(j,Y),Ve=Me+S(-ke);ne(X["radial-axis"],ge&&(se.showticklabels||se.ticks),{transform:Ve}),ne(X["radial-grid"],ge&&se.showgrid,{transform:be?"":Me}),ne(X["radial-line"].select("line"),ge&&se.showline,{x1:be?-Q:oe,y1:0,x2:Q,y2:0,transform:Ve}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateRadialAxisTitle=function(le,$,Z){if(!this.isSmith){var ie=this,X=ie.gd,Q=ie.radius,oe=ie.cx,j=ie.cy,Y=ie.getRadial($),se=ie.id+"title",te=0;if(Y.title){var fe=r.bBox(ie.layers["radial-axis"].node()).height,ge=Y.title.font.size,be=Y.side;te=be==="top"?ge:be==="counterclockwise"?-(fe+ge*.4):fe+ge*.8}var xe=Z!==void 0?Z:ie.radialAxisAngle,_e=O(xe),De=Math.cos(_e),Fe=Math.sin(_e),Te=oe+Q/2*De+te*Fe,Re=j-Q/2*Fe+te*De;ie.layers["radial-axis-title"]=T.draw(X,se,{propContainer:Y,propName:ie.id+".radialaxis.title",placeholder:N(X,"Click to enter radial axis title"),attributes:{x:Te,y:Re,"text-anchor":"middle"},transform:{rotate:-xe}})}},B.updateAngularAxis=function(le,$){var Z=this,ie=Z.gd,X=Z.layers,Q=Z.radius,oe=Z.innerRadius,j=Z.cx,Y=Z.cy,se=Z.getAngular($),te=Z.angularAxis,fe=Z.isSmith;fe||(Z.fillViewInitialKey("angularaxis.rotation",se.rotation),te.setGeometry(),te.setScale());var ge=fe?function(it){var Je=D(Z,M([0,it.x]));return Math.atan2(Je[0]-j,Je[1]-Y)-Math.PI/2}:function(it){return te.t2g(it.x)};te.type==="linear"&&te.thetaunit==="radians"&&(te.tick0=F(te.tick0),te.dtick=F(te.dtick));var be=function(it){return v(j+Q*Math.cos(it),Y-Q*Math.sin(it))},xe=fe?function(it){var Je=D(Z,M([0,it.x]));return v(Je[0],Je[1])}:function(it){return be(ge(it))},_e=fe?function(it){var Je=D(Z,M([0,it.x])),Qe=Math.atan2(Je[0]-j,Je[1]-Y)-Math.PI/2;return v(Je[0],Je[1])+S(-F(Qe))}:function(it){var Je=ge(it);return be(Je)+S(-F(Je))},De=fe?function(it){return x(Z,it.x,0,1/0)}:function(it){var Je=ge(it),Qe=Math.cos(Je),ct=Math.sin(Je);return"M"+[j+oe*Qe,Y-oe*ct]+"L"+[j+Q*Qe,Y-Q*ct]},Fe=a.makeLabelFns(te,0),Te=Fe.labelStandoff,Re={};Re.xFn=function(it){var Je=ge(it);return Math.cos(Je)*Te},Re.yFn=function(it){var Je=ge(it),Qe=Math.sin(Je)>0?.2:1;return-Math.sin(Je)*(Te+it.fontSize*Qe)+Math.abs(Math.cos(Je))*(it.fontSize*y)},Re.anchorFn=function(it){var Je=ge(it),Qe=Math.cos(Je);return Math.abs(Qe)<.1?"middle":Qe>0?"start":"end"},Re.heightFn=function(it,Je,Qe){var ct=ge(it);return-.5*(1+Math.sin(ct))*Qe};var Se=W(se);Z.angularTickLayout!==Se&&(X["angular-axis"].selectAll("."+te._id+"tick").remove(),Z.angularTickLayout=Se);var ke=fe?[1/0].concat(te.tickvals||[]).map(function(it){return a.tickText(te,it,!0,!1)}):a.calcTicks(te);fe&&(ke[0].text="∞",ke[0].fontSize*=1.75);var Me;if($.gridshape==="linear"?(Me=ke.map(ge),L.angleDelta(Me[0],Me[1])<0&&(Me=Me.slice().reverse())):Me=null,Z.vangles=Me,te.type==="category"&&(ke=ke.filter(function(it){return L.isAngleInsideSector(ge(it),Z.sectorInRad)})),te.visible){var Ve=te.ticks==="inside"?-1:1,tt=(te.linewidth||1)/2;a.drawTicks(ie,te,{vals:ke,layer:X["angular-axis"],path:"M"+Ve*tt+",0h"+Ve*te.ticklen,transFn:_e,crisp:!1}),a.drawGrid(ie,te,{vals:ke,layer:X["angular-grid"],path:De,transFn:L.noop,crisp:!1}),a.drawLabels(ie,te,{vals:ke,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:xe,labelFns:Re})}ne(X["angular-line"].select("path"),se.showline,{d:Z.pathSubplot(),transform:v(j,Y)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateFx=function(le,$){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(le),this.updateRadialDrag(le,$,0),this.updateRadialDrag(le,$,1)),this.updateHoverAndMainDrag(le)}},B.updateHoverAndMainDrag=function(le){var $=this,Z=$.isSmith,ie=$.gd,X=$.layers,Q=le._zoomlayer,oe=E.MINZOOM,j=E.OFFEDGE,Y=$.radius,se=$.innerRadius,te=$.cx,fe=$.cy,ge=$.cxx,be=$.cyy,xe=$.sectorInRad,_e=$.vangles,De=$.radialAxis,Fe=A.clampTiny,Te=A.findXYatLength,Re=A.findEnclosingVertexAngles,Se=E.cornerHalfWidth,ke=E.cornerLen/2,Me,Ve,tt=l.makeDragger(X,"path","maindrag",le.dragmode===!1?"none":"crosshair");m.select(tt).attr("d",$.pathSubplot()).attr("transform",v(te,fe)),tt.onmousemove=function(At){h.hover(ie,At,$.id),ie._fullLayout._lasthover=tt,ie._fullLayout._hoversubplot=$.id},tt.onmouseout=function(At){ie._dragging||g.unhover(ie,At)};var it={element:tt,gd:ie,subplot:$.id,plotinfo:{id:$.id,xaxis:$.xaxis,yaxis:$.yaxis},xaxes:[$.xaxis],yaxes:[$.yaxis]},Je,Qe,ct,ht,dt,Tt,Et,rt,ze;function Ge(At,Rt){return Math.sqrt(At*At+Rt*Rt)}function je(At,Rt){return Ge(At-ge,Rt-be)}function We(At,Rt){return Math.atan2(be-Rt,At-ge)}function Le(At,Rt){return[At*Math.cos(Rt),At*Math.sin(-Rt)]}function Pe(At,Rt){if(At===0)return $.pathSector(2*Se);var Xt=ke/At,ir=Rt-Xt,pt=Rt+Xt,Kt=Math.max(0,Math.min(At,Y)),Qt=Kt-Se,yr=Kt+Se;return"M"+Le(Qt,ir)+"A"+[Qt,Qt]+" 0,0,0 "+Le(Qt,pt)+"L"+Le(yr,pt)+"A"+[yr,yr]+" 0,0,1 "+Le(yr,ir)+"Z"}function Ye(At,Rt,Xt){if(At===0)return $.pathSector(2*Se);var ir=Le(At,Rt),pt=Le(At,Xt),Kt=Fe((ir[0]+pt[0])/2),Qt=Fe((ir[1]+pt[1])/2),yr,ur;if(Kt&&Qt){var mt=Qt/Kt,lt=-1/mt,bt=Te(Se,mt,Kt,Qt);yr=Te(ke,lt,bt[0][0],bt[0][1]),ur=Te(ke,lt,bt[1][0],bt[1][1])}else{var Ct,Dt;Qt?(Ct=ke,Dt=Se):(Ct=Se,Dt=ke),yr=[[Kt-Ct,Qt-Dt],[Kt+Ct,Qt-Dt]],ur=[[Kt-Ct,Qt+Dt],[Kt+Ct,Qt+Dt]]}return"M"+yr.join("L")+"L"+ur.reverse().join("L")+"Z"}function Ce(){ct=null,ht=null,dt=$.pathSubplot(),Tt=!1;var At=ie._fullLayout[$.id];Et=P(At.bgcolor).getLuminance(),rt=l.makeZoombox(Q,Et,te,fe,dt),rt.attr("fill-rule","evenodd"),ze=l.makeCorners(Q,te,fe),d(ie)}function he(At,Rt){return Rt=Math.max(Math.min(Rt,Y),se),At<j?At=0:Y-At<j?At=Y:Rt<j?Rt=0:Y-Rt<j&&(Rt=Y),Math.abs(Rt-At)>oe?(At<Rt?(ct=At,ht=Rt):(ct=Rt,ht=At),!0):(ct=null,ht=null,!1)}function me(At,Rt){At=At||dt,Rt=Rt||"M0,0Z",rt.attr("d",At),ze.attr("d",Rt),l.transitionZoombox(rt,ze,Tt,Et),Tt=!0;var Xt={};Wt(Xt),ie.emit("plotly_relayouting",Xt)}function Ne(At,Rt){At=At*Me,Rt=Rt*Ve;var Xt=Je+At,ir=Qe+Rt,pt=je(Je,Qe),Kt=Math.min(je(Xt,ir),Y),Qt=We(Je,Qe),yr,ur;he(pt,Kt)&&(yr=dt+$.pathSector(ht),ct&&(yr+=$.pathSector(ct)),ur=Pe(ct,Qt)+Pe(ht,Qt)),me(yr,ur)}function $e(At,Rt,Xt,ir){var pt=A.findIntersectionXY(Xt,ir,Xt,[At-ge,be-Rt]);return Ge(pt[0],pt[1])}function ot(At,Rt){var Xt=Je+At,ir=Qe+Rt,pt=We(Je,Qe),Kt=We(Xt,ir),Qt=Re(pt,_e),yr=Re(Kt,_e),ur=$e(Je,Qe,Qt[0],Qt[1]),mt=Math.min($e(Xt,ir,yr[0],yr[1]),Y),lt,bt;he(ur,mt)&&(lt=dt+$.pathSector(ht),ct&&(lt+=$.pathSector(ct)),bt=[Ye(ct,Qt[0],Qt[1]),Ye(ht,Qt[0],Qt[1])].join(" ")),me(lt,bt)}function st(){if(l.removeZoombox(ie),!(ct===null||ht===null)){var At={};Wt(At),l.showDoubleClickNotifier(ie),s.call("_guiRelayout",ie,At)}}function Wt(At){var Rt=De._rl,Xt=(Rt[1]-Rt[0])/(1-se/Y)/Y,ir=[Rt[0]+(ct-se)*Xt,Rt[0]+(ht-se)*Xt];At[$.id+".radialaxis.range"]=ir}function Zt(At,Rt){var Xt=ie._fullLayout.clickmode;if(l.removeZoombox(ie),At===2){var ir={};for(var pt in $.viewInitial)ir[$.id+"."+pt]=$.viewInitial[pt];ie.emit("plotly_doubleclick",null),s.call("_guiRelayout",ie,ir)}Xt.indexOf("select")>-1&&At===1&&i(Rt,ie,[$.xaxis],[$.yaxis],$.id,it),Xt.indexOf("event")>-1&&h.click(ie,Rt,$.id)}it.prepFn=function(At,Rt,Xt){var ir=ie._fullLayout.dragmode,pt=tt.getBoundingClientRect();ie._fullLayout._calcInverseTransform(ie);var Kt=ie._fullLayout._invTransform;Me=ie._fullLayout._invScaleX,Ve=ie._fullLayout._invScaleY;var Qt=L.apply3DTransform(Kt)(Rt-pt.left,Xt-pt.top);if(Je=Qt[0],Qe=Qt[1],_e){var yr=A.findPolygonOffset(Y,xe[0],xe[1],_e);Je+=ge+yr[0],Qe+=be+yr[1]}switch(ir){case"zoom":it.clickFn=Zt,Z||(_e?it.moveFn=ot:it.moveFn=Ne,it.doneFn=st,Ce());break;case"select":case"lasso":c(At,Rt,Xt,it,ir);break}},g.init(it)},B.updateRadialDrag=function(le,$,Z){var ie=this,X=ie.gd,Q=ie.layers,oe=ie.radius,j=ie.innerRadius,Y=ie.cx,se=ie.cy,te=ie.radialAxis,fe=E.radialDragBoxSize,ge=fe/2;if(!te.visible)return;var be=O(ie.radialAxisAngle),xe=te._rl,_e=xe[0],De=xe[1],Fe=xe[Z],Te=.75*(xe[1]-xe[0])/(1-ie.getHole($))/oe,Re,Se,ke;Z?(Re=Y+(oe+ge)*Math.cos(be),Se=se-(oe+ge)*Math.sin(be),ke="radialdrag"):(Re=Y+(j-ge)*Math.cos(be),Se=se-(j-ge)*Math.sin(be),ke="radialdrag-inner");var Me=l.makeRectDragger(Q,ke,"crosshair",-ge,-ge,fe,fe),Ve={element:Me,gd:X};le.dragmode===!1&&(Ve.dragmode=!1),ne(m.select(Me),te.visible&&j<oe,{transform:v(Re,Se)});var tt,it,Je;function Qe(Et,rt){if(tt)tt(Et,rt);else{var ze=[Et,-rt],Ge=[Math.cos(be),Math.sin(be)],je=Math.abs(L.dot(ze,Ge)/Math.sqrt(L.dot(ze,ze)));isNaN(je)||(tt=je<.5?dt:Tt)}var We={};ct(We),X.emit("plotly_relayouting",We)}function ct(Et){it!==null?Et[ie.id+".radialaxis.angle"]=it:Je!==null&&(Et[ie.id+".radialaxis.range["+Z+"]"]=Je)}function ht(){it!==null?s.call("_guiRelayout",X,ie.id+".radialaxis.angle",it):Je!==null&&s.call("_guiRelayout",X,ie.id+".radialaxis.range["+Z+"]",Je)}function dt(Et,rt){if(Z!==0){var ze=Re+Et,Ge=Se+rt;it=Math.atan2(se-Ge,ze-Y),ie.vangles&&(it=re(it,ie.vangles)),it=F(it);var je=v(Y,se)+S(-it);Q["radial-axis"].attr("transform",je),Q["radial-line"].select("line").attr("transform",je);var We=ie.gd._fullLayout,Le=We[ie.id];ie.updateRadialAxisTitle(We,Le,it)}}function Tt(Et,rt){var ze=L.dot([Et,-rt],[Math.cos(be),Math.sin(be)]);if(Je=Fe-Te*ze,Te>0!=(Z?Je>_e:Je<De)){Je=null;return}var Ge=X._fullLayout,je=Ge[ie.id];te.range[Z]=Je,te._rl[Z]=Je,ie.updateRadialAxis(Ge,je),ie.xaxis.setRange(),ie.xaxis.setScale(),ie.yaxis.setRange(),ie.yaxis.setScale();var We=!1;for(var Le in ie.traceHash){var Pe=ie.traceHash[Le],Ye=L.filterVisible(Pe),Ce=Pe[0][0].trace._module;Ce.plot(X,ie,Ye,je),s.traceIs(Le,"gl")&&Ye.length&&(We=!0)}We&&(w(X),C(X))}Ve.prepFn=function(){tt=null,it=null,Je=null,Ve.moveFn=Qe,Ve.doneFn=ht,d(X)},Ve.clampFn=function(Et,rt){return Math.sqrt(Et*Et+rt*rt)<E.MINDRAG&&(Et=0,rt=0),[Et,rt]},g.init(Ve)},B.updateAngularDrag=function(le){var $=this,Z=$.gd,ie=$.layers,X=$.radius,Q=$.angularAxis,oe=$.cx,j=$.cy,Y=$.cxx,se=$.cyy,te=E.angularDragBoxSize,fe=l.makeDragger(ie,"path","angulardrag",le.dragmode===!1?"none":"move"),ge={element:fe,gd:Z};le.dragmode===!1?ge.dragmode=!1:m.select(fe).attr("d",$.pathAnnulus(X,X+te)).attr("transform",v(oe,j)).call(b,"move");function be(Je,Qe){return Math.atan2(se+te-Qe,Je-Y-te)}var xe=ie.frontplot.select(".scatterlayer").selectAll(".trace"),_e=xe.selectAll(".point"),De=xe.selectAll(".textpoint"),Fe,Te,Re,Se,ke,Me;function Ve(Je,Qe){var ct=$.gd._fullLayout,ht=ct[$.id],dt=Fe+Je*le._invScaleX,Tt=Te+Qe*le._invScaleY,Et=be(dt,Tt),rt=F(Et-Me);if(Se=Re+rt,ie.frontplot.attr("transform",v($.xOffset2,$.yOffset2)+S([-rt,Y,se])),$.vangles){ke=$.radialAxisAngle+rt;var ze=v(oe,j)+S(-rt),Ge=v(oe,j)+S(-ke);ie.bg.attr("transform",ze),ie["radial-grid"].attr("transform",ze),ie["radial-axis"].attr("transform",Ge),ie["radial-line"].select("line").attr("transform",Ge),$.updateRadialAxisTitle(ct,ht,ke)}else $.clipPaths.forTraces.select("path").attr("transform",v(Y,se)+S(rt));_e.each(function(){var he=m.select(this),me=r.getTranslate(he);he.attr("transform",v(me.x,me.y)+S([rt]))}),De.each(function(){var he=m.select(this),me=he.select("text"),Ne=r.getTranslate(he);he.attr("transform",S([rt,me.attr("x"),me.attr("y")])+v(Ne.x,Ne.y))}),Q.rotation=L.modHalf(Se,360),$.updateAngularAxis(ct,ht),$._hasClipOnAxisFalse&&!L.isFullCircle($.sectorInRad)&&xe.call(r.hideOutsideRangePoints,$);var je=!1;for(var We in $.traceHash)if(s.traceIs(We,"gl")){var Le=$.traceHash[We],Pe=L.filterVisible(Le),Ye=Le[0][0].trace._module;Ye.plot(Z,$,Pe,ht),Pe.length&&(je=!0)}je&&(w(Z),C(Z));var Ce={};tt(Ce),Z.emit("plotly_relayouting",Ce)}function tt(Je){Je[$.id+".angularaxis.rotation"]=Se,$.vangles&&(Je[$.id+".radialaxis.angle"]=ke)}function it(){De.select("text").attr("transform",null);var Je={};tt(Je),s.call("_guiRelayout",Z,Je)}ge.prepFn=function(Je,Qe,ct){var ht=le[$.id];Re=ht.angularaxis.rotation;var dt=fe.getBoundingClientRect();Fe=Qe-dt.left,Te=ct-dt.top,Z._fullLayout._calcInverseTransform(Z);var Tt=L.apply3DTransform(le._invTransform)(Fe,Te);Fe=Tt[0],Te=Tt[1],Me=be(Fe,Te),ge.moveFn=Ve,ge.doneFn=it,d(Z)},$.vangles&&!L.isFullCircle($.sectorInRad)&&(ge.prepFn=L.noop,b(m.select(fe),null)),g.init(ge)},B.isPtInside=function(le){if(this.isSmith)return!0;var $=this.sectorInRad,Z=this.vangles,ie=this.angularAxis.c2g(le.theta),X=this.radialAxis,Q=X.c2l(le.r),oe=X._rl,j=Z?A.isPtInsidePolygon:L.isPtInsideSector;return j(Q,ie,oe,$,Z)},B.pathArc=function(le){var $=this.sectorInRad,Z=this.vangles,ie=Z?A.pathPolygon:L.pathArc;return ie(le,$[0],$[1],Z)},B.pathSector=function(le){var $=this.sectorInRad,Z=this.vangles,ie=Z?A.pathPolygon:L.pathSector;return ie(le,$[0],$[1],Z)},B.pathAnnulus=function(le,$){var Z=this.sectorInRad,ie=this.vangles,X=ie?A.pathPolygonAnnulus:L.pathAnnulus;return X(le,$,Z[0],Z[1],ie)},B.pathSubplot=function(){var le=this.innerRadius,$=this.radius;return le?this.pathAnnulus(le,$):this.pathSector($)},B.fillViewInitialKey=function(le,$){le in this.viewInitial||(this.viewInitial[le]=$)};function W(le){var $=le.ticks+String(le.ticklen)+String(le.showticklabels);return"side"in le&&($+=le.side),$}function J(le){var $=le[0],Z=le[1],ie=Z-$,X=k($,360),Q=X+ie,oe=Math.cos(O(X)),j=Math.sin(O(X)),Y=Math.cos(O(Q)),se=Math.sin(O(Q)),te,fe,ge,be;return X<=90&&Q>=90||X>90&&Q>=450?be=1:j<=0&&se<=0?be=0:be=Math.max(j,se),X<=180&&Q>=180||X>180&&Q>=540?te=-1:oe>=0&&Y>=0?te=0:te=Math.min(oe,Y),X<=270&&Q>=270||X>270&&Q>=630?fe=-1:j>=0&&se>=0?fe=0:fe=Math.min(j,se),Q>=360?ge=1:oe<=0&&Y<=0?ge=0:ge=Math.max(oe,Y),[te,fe,ge,be]}function re(le,$){var Z=function(X){return L.angleDist(le,X)},ie=L.findIndexOfMin($,Z);return $[ie]}function ne(le,$,Z){return $?(le.attr("display",null),le.attr(Z)):le&&le.attr("display","none"),le}},57696:function(G,H,e){var m=e(3400),P=e(78344),s=m.deg2rad,L=m.rad2deg;G.exports=function(a,n,f){switch(P(a,f),a._id){case"x":case"radialaxis":S(a,n);break;case"angularaxis":r(a,n);break}};function S(t,a){var n=a._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=n.innerRadius,g=(n.radius-l)/(u-f),h=l/g,T=f>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var i=t.c2l(c)-f;return(T(i)?i:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*g},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,a){return a==="degrees"?s(t):t}function p(t,a){return a==="degrees"?L(t):t}function r(t,a){var n=t.type;if(n==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,g){return v(f(l),g)},t.c2d=function(l,g){return u(p(l,g))}}t.makeCalcdata=function(l,g){var h=l[g],T=l._length,c,i,d=function(E){return t.d2c(E,l.thetaunit)};if(h)for(c=new Array(T),i=0;i<T;i++)c[i]=d(h[i]);else{var b=g+"0",w="d"+g,C=b in l?d(l[b]):0,y=l[w]?d(l[w]):(t.period||2*Math.PI)/T;for(c=new Array(T),i=0;i<T;i++)c[i]=C+i*y}return c},t.setGeometry=function(){var l=a.sector,g=l.map(s),h={clockwise:-1,counterclockwise:1}[t.direction],T=s(t.rotation),c=function(A){return h*A+T},i=function(A){return(A-T)/h},d,b,w,C;switch(n){case"linear":b=d=m.identity,C=s,w=L,t.range=m.isFullCircle(g)?[l[0],l[0]+360]:g.map(i).map(L);break;case"category":var y=t._categories.length,E=t.period?Math.max(t.period,y):y;E===0&&(E=1),b=C=function(A){return A*2*Math.PI/E},d=w=function(A){return A*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(A){return c(b(A))},t.g2c=function(A){return d(i(A))},t.t2g=function(A){return c(C(A))},t.g2t=function(A){return w(i(A))}}}},55012:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(G){function H(S){return S<0?-1:S>0?1:0}function e(S){var v=S[0],p=S[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function m(S,v){var p=v[0],r=v[1];return[p*S.radius+S.cx,-r*S.radius+S.cy]}function P(S,v){return v*S.radius}function s(S,v,p,r){var t=m(S,e([p,v])),a=t[0],n=t[1],f=m(S,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+a+","+n,"L"+u+","+l].join(" ");var g=P(S,1/Math.abs(v));return["M"+a+","+n,"A"+g+","+g+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function L(S,v,p,r){var t=P(S,1/(v+1)),a=m(S,e([v,p])),n=a[0],f=a[1],u=m(S,e([v,r])),l=u[0],g=u[1];if(H(p)!==H(r)){var h=m(S,e([v,0])),T=h[0],c=h[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+g].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+g].join(" ")}G.exports={smith:e,reactanceArc:s,resistanceArc:L,smithTransform:m}},47788:function(G,H,e){var m=e(84888).KY,P=e(3400).counterRegex,s=e(62400),L=e(55012),S=L.attr,v=L.name,p=P(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],g=0;g<l.length;g++){var h=l[g],T=m(u,v,h),c=f[h]._subplot;c||(c=s(n,h,!0),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,u,l){for(var g=l._subplots[v]||[],h=0;h<g.length;h++){var T=g[h],c=l[T]._subplot;if(!f[T]&&c){c.framework.remove();for(var i in c.clipPaths)c.clipPaths[i].remove()}}}G.exports={attr:S,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:a,toSVG:e(57952).toSVG}},6183:function(G,H,e){var m=e(22548),P=e(94724),s=e(86968).u,L=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=S({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);G.exports={domain:s({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:m.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(168),S=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),a=e(6183),n=e(55012),f=n.axisNames,u=g(function(h){return m.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function l(h,T,c,i){var d=c("bgcolor");i.bgColor=P.combine(d,i.paper_bgcolor);var b=S(i.fullData,n.name,i.id),w=i.layoutOut,C;function y(B,W){return c(C+"."+B,W)}for(var E=0;E<f.length;E++){C=f[E],m.isPlainObject(h[C])||(h[C]={});var A=h[C],o=s.newContainer(T,C);o._id=o._name=C,o._attr=i.id+"."+C,o._traceIndices=b.map(function(B){return B._expandedIndex});var M=y("visible");if(o.type="linear",t(o,w),v(A,o,y,o.type),M){var x=C==="realaxis";if(x&&y("side"),x)y("tickvals");else{var I=u(T.realaxis.tickvals||a.realaxis.tickvals.dflt);y("tickvals",I)}m.isTypedArray(o.tickvals)&&(o.tickvals=Array.from(o.tickvals));var D,N,k,O,F=i.font||{};M&&(D=y("color"),N=D===A.color?D:F.color,k=F.size,O=F.family),p(A,o,y,o.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!x,noExp:!0,font:{color:N,size:k,family:O}}),m.coerce2(h,T,a,C+".ticklen"),m.coerce2(h,T,a,C+".tickwidth"),m.coerce2(h,T,a,C+".tickcolor",T.color);var z=y("ticks");z||(delete T[C].ticklen,delete T[C].tickwidth,delete T[C].tickcolor),r(A,o,y,{dfltColor:D,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a[C]}),y("layer")}y("hoverformat"),delete o.type,o._input=A}}G.exports=function(T,c,i){L(T,c,i,{noUirevision:!0,type:n.name,attributes:a,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:i,layoutOut:c})};function g(h,T){var c={};return function(i){var d=T?T(i):i;if(d in c)return c[d];var b=h(i);return c[d]=b,b}}},168:function(G,H,e){var m=e(3400),P=e(31780),s=e(86968).Q;G.exports=function(S,v,p,r){var t=r.type,a=r.attributes,n=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,g=l&&u[0].replace(/\d+$/,""),h,T;function c(w,C){return m.coerce(h,T,a,w,C)}for(var i=0;i<l;i++){var d=u[i];S[d]?h=S[d]:h=S[d]={},T=P.newContainer(v,d,g),r.noUirevision||c("uirevision",v.uirevision);var b={};b[f]=[i/l,(i+1)/l],s(T,v,c,b),r.id=d,n(h,T,c,r)}}},21776:function(G,H,e){var m=e(26880);m.FORMAT_LINK,m.DATE_FORMAT_LINK;function P(s){var L=s.description?" "+s.description:"",S=s.keys||[];if(S.length>0){for(var v=[],p=0;p<S.length;p++)v[p]="`"+S[p]+"`";L=L+"Finally, the template string has access to ",S.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}H.Ks=function(s,L){s=s||{},L=L||{},P(L);var S={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(S.arrayOk=!0),S},H.Gw=function(s,L){s=s||{},L=L||{},P(L);var S={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(S.arrayOk=!0),S},H.ye=function(s,L){s=s||{},L=L||{},s.newshape,P(L);var S={valType:"string",dflt:"",editType:s.editType||"arraydraw"};return S}},19352:function(G,H,e){var m=e(24696),P=e(84888).KY,s=e(3400).counterRegex,L="ternary";H.name=L;var S=H.attr="subplot";H.idRoot=L,H.idRegex=H.attrRegex=s(L);var v=H.attributes={};v[S]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(86379),H.supplyLayoutDefaults=e(38536),H.plot=function(r){for(var t=r._fullLayout,a=r.calcdata,n=t._subplots[L],f=0;f<n.length;f++){var u=n[f],l=P(a,L,u),g=t[u]._subplot;g||(g=new m({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=g),g.plot(l,t,r._promises)}},H.clean=function(p,r,t,a){for(var n=a._subplots[L]||[],f=0;f<n.length;f++){var u=n[f],l=a[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(G,H,e){var m=e(22548),P=e(86968).u,s=e(94724),L=e(67824).overrideAll,S=e(92880).extendFlat,v={title:{text:s.title.text,font:s.title.font},color:s.color,tickmode:s.minor.tickmode,nticks:S({},s.nticks,{dflt:6,min:1}),tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:s.ticks,ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,showtickprefix:s.showtickprefix,tickprefix:s.tickprefix,showticksuffix:s.showticksuffix,ticksuffix:s.ticksuffix,showexponent:s.showexponent,exponentformat:s.exponentformat,minexponent:s.minexponent,separatethousands:s.separatethousands,tickfont:s.tickfont,tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,hoverformat:s.hoverformat,showline:S({},s.showline,{dflt:!0}),linecolor:s.linecolor,linewidth:s.linewidth,showgrid:S({},s.showgrid,{dflt:!0}),gridcolor:s.gridcolor,gridwidth:s.gridwidth,griddash:s.griddash,layer:s.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:s._deprecated.title,titlefont:s._deprecated.titlefont}},p=G.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:m.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(G,H,e){var m=e(76308),P=e(31780),s=e(3400),L=e(168),S=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),a=e(86379),n=["aaxis","baxis","caxis"];G.exports=function(g,h,T){L(g,h,T,{type:"ternary",attributes:a,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(l,g,h,T){var c=h("bgcolor"),i=h("sum");T.bgColor=m.combine(c,T.paper_bgcolor);for(var d,b,w,C=0;C<n.length;C++)d=n[C],b=l[d]||{},w=P.newContainer(g,d),w._name=d,u(b,w,T,g);var y=g.aaxis,E=g.baxis,A=g.caxis;y.min+E.min+A.min>=i&&(y.min=0,E.min=0,A.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,g,h,T){var c=a[g._name];function i(o,M){return s.coerce(l,g,c,o,M)}i("uirevision",T.uirevision),g.type="linear";var d=i("color"),b=d!==c.color.dflt?d:h.font.color,w=g._name,C=w.charAt(0).toUpperCase(),y="Component "+C,E=i("title.text",y);g._hovertitle=E===y?E:C,s.coerceFont(i,"title.font",h.font,{overrideDflt:{size:s.bigFont(h.font.size),color:b}}),i("min"),r(l,g,i,"linear"),v(l,g,i,"linear"),S(l,g,i,"linear",{noAutotickangles:!0}),p(l,g,i,{outerTicks:!0});var A=i("showticklabels");A&&(s.coerceFont(i,"tickfont",h.font,{overrideDflt:{color:b}}),i("tickangle"),i("tickformat")),t(l,g,i,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),i("hoverformat"),i("layer")}},24696:function(G,H,e){var m=e(33428),P=e(49760),s=e(24040),L=e(3400),S=L.strTranslate,v=L._,p=e(76308),r=e(43616),t=e(78344),a=e(92880).extendFlat,n=e(7316),f=e(54460),u=e(86476),l=e(93024),g=e(72760),h=g.freeMode,T=g.rectMode,c=e(81668),i=e(22676).prepSelect,d=e(22676).selectOnClick,b=e(22676).clearOutline,w=e(22676).clearSelectionsCache,C=e(33816);function y(F,z){this.id=F.id,this.graphDiv=F.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=y;var E=y.prototype;E.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},E.plot=function(F,z){var B=this,W=z[B.id],J=z._size;B._hasClipOnAxisFalse=!1;for(var re=0;re<F.length;re++){var ne=F[re][0].trace;if(ne.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(W),B.adjustLayout(W,J),n.generalUpdatePerTraceModule(B.graphDiv,B,F,W),B.layers.plotbg.select("path").call(p.fill,W.bgcolor)},E.makeFramework=function(F){var z=this,B=z.graphDiv,W=F[z.id],J=z.clipId="clip"+z.layoutId+z.id,re=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=L.ensureSingleById(F._clips,"clipPath",J,function(ne){ne.append("path").attr("d","M0,0Z")}),z.clipDefRelative=L.ensureSingleById(F._clips,"clipPath",re,function(ne){ne.append("path").attr("d","M0,0Z")}),z.plotContainer=L.ensureSingle(z.container,"g",z.id),z.updateLayers(W),r.setClipUrl(z.layers.backplot,J,B),r.setClipUrl(z.layers.grids,J,B)},E.updateLayers=function(F){var z=this,B=z.layers,W=["draglayer","plotbg","backplot","grids"];F.aaxis.layer==="below traces"&&W.push("aaxis","aline"),F.baxis.layer==="below traces"&&W.push("baxis","bline"),F.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),F.aaxis.layer==="above traces"&&W.push("aaxis","aline"),F.baxis.layer==="above traces"&&W.push("baxis","bline"),F.caxis.layer==="above traces"&&W.push("caxis","cline");var J=z.plotContainer.selectAll("g.toplevel").data(W,String),re=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var le=m.select(this);B[ne]=le,ne==="frontplot"?le.append("g").classed("scatterlayer",!0):ne==="backplot"?le.append("g").classed("maplayer",!0):ne==="plotbg"?le.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?le.append("path"):ne==="grids"&&re.forEach(function($){B[$]=le.append("g").classed("grid "+$,!0)})}),J.order()};var A=Math.sqrt(4/3);E.adjustLayout=function(F,z){var B=this,W=F.domain,J=(W.x[0]+W.x[1])/2,re=(W.y[0]+W.y[1])/2,ne=W.x[1]-W.x[0],le=W.y[1]-W.y[0],$=ne*z.w,Z=le*z.h,ie=F.sum,X=F.aaxis.min,Q=F.baxis.min,oe=F.caxis.min,j,Y,se,te,fe,ge;$>A*Z?(te=Z,se=te*A):(se=$,te=se/A),fe=ne*se/$,ge=le*te/Z,j=z.l+z.w*J-se/2,Y=z.t+z.h*(1-re)-te/2,B.x0=j,B.y0=Y,B.w=se,B.h=te,B.sum=ie,B.xaxis={type:"linear",range:[X+2*oe-ie,ie-X-2*Q],domain:[J-fe/2,J+fe/2],_id:"x"},t(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(Ve){return Ve.a>=B.aaxis.range[0]&&Ve.a<=B.aaxis.range[1]&&Ve.b>=B.baxis.range[1]&&Ve.b<=B.baxis.range[0]&&Ve.c>=B.caxis.range[1]&&Ve.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[X,ie-Q-oe],domain:[re-ge/2,re+ge/2],_id:"y"},t(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var be=B.yaxis.domain[0],xe=B.aaxis=a({},F.aaxis,{range:[X,ie-Q-oe],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[be,be+ge*A],anchor:"free",position:0,_id:"y",_length:se});t(xe,B.graphDiv._fullLayout),xe.setScale();var _e=B.baxis=a({},F.baxis,{range:[ie-X-oe,Q],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(_e,B.graphDiv._fullLayout),_e.setScale();var De=B.caxis=a({},F.caxis,{range:[ie-X-Q,oe],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[be,be+ge*A],anchor:"free",position:0,_id:"y",_length:se});t(De,B.graphDiv._fullLayout),De.setScale();var Fe="M"+j+","+(Y+te)+"h"+se+"l-"+se/2+",-"+te+"Z";B.clipDef.select("path").attr("d",Fe),B.layers.plotbg.select("path").attr("d",Fe);var Te="M0,"+te+"h"+se+"l-"+se/2+",-"+te+"Z";B.clipDefRelative.select("path").attr("d",Te);var Re=S(j,Y);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Re),B.clipDefRelative.select("path").attr("transform",null);var Se=S(j-_e._offset,Y+te);B.layers.baxis.attr("transform",Se),B.layers.bgrid.attr("transform",Se);var ke=S(j+se/2,Y)+"rotate(30)"+S(0,-xe._offset);B.layers.aaxis.attr("transform",ke),B.layers.agrid.attr("transform",ke);var Me=S(j+se/2,Y)+"rotate(-30)"+S(0,-De._offset);B.layers.caxis.attr("transform",Me),B.layers.cgrid.attr("transform",Me),B.drawAxes(!0),B.layers.aline.select("path").attr("d",xe.showline?"M"+j+","+(Y+te)+"l"+se/2+",-"+te:"M0,0").call(p.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",_e.showline?"M"+j+","+(Y+te)+"h"+se:"M0,0").call(p.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",De.showline?"M"+(j+se/2)+","+Y+"l"+se/2+","+te:"M0,0").call(p.stroke,De.linecolor||"#000").style("stroke-width",(De.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),r.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},E.drawAxes=function(F){var z=this,B=z.graphDiv,W=z.id.substr(7)+"title",J=z.layers,re=z.aaxis,ne=z.baxis,le=z.caxis;if(z.drawAx(re),z.drawAx(ne),z.drawAx(le),F){var $=Math.max(re.showticklabels?re.tickfont.size/2:0,(le.showticklabels?le.tickfont.size*.75:0)+(le.ticks==="outside"?le.ticklen*.87:0)),Z=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;J["a-title"]=c.draw(B,"a"+W,{propContainer:re,propName:z.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-re.title.font.size/3-$,"text-anchor":"middle"}}),J["b-title"]=c.draw(B,"b"+W,{propContainer:ne,propName:z.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:z.x0-Z,y:z.y0+z.h+ne.title.font.size*.83+Z,"text-anchor":"middle"}}),J["c-title"]=c.draw(B,"c"+W,{propContainer:le,propName:z.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:z.x0+z.w+Z,y:z.y0+z.h+le.title.font.size*.83+Z,"text-anchor":"middle"}})}},E.drawAx=function(F){var z=this,B=z.graphDiv,W=F._name,J=W.charAt(0),re=F._id,ne=z.layers[W],le=30,$=J+"tickLayout",Z=o(F);z[$]!==Z&&(ne.selectAll("."+re+"tick").remove(),z[$]=Z),F.setScale();var ie=f.calcTicks(F),X=f.clipEnds(F,ie),Q=f.makeTransTickFn(F),oe=f.getTickSigns(F)[2],j=L.deg2rad(le),Y=oe*(F.linewidth||1)/2,se=oe*F.ticklen,te=z.w,fe=z.h,ge=J==="b"?"M0,"+Y+"l"+Math.sin(j)*se+","+Math.cos(j)*se:"M"+Y+",0l"+Math.cos(j)*se+","+-Math.sin(j)*se,be={a:"M0,0l"+fe+",-"+te/2,b:"M0,0l-"+te/2+",-"+fe,c:"M0,0l-"+fe+","+te/2}[J];f.drawTicks(B,F,{vals:F.ticks==="inside"?X:ie,layer:ne,path:ge,transFn:Q,crisp:!1}),f.drawGrid(B,F,{vals:X,layer:z.layers[J+"grid"],path:be,transFn:Q,crisp:!1}),f.drawLabels(B,F,{vals:ie,layer:ne,transFn:Q,labelFns:f.makeLabelFns(F,0,le)})};function o(F){return F.ticks+String(F.ticklen)+String(F.showticklabels)}var M=C.MINZOOM/2+.87,x="m-0.87,.5h"+M+"v3h-"+(M+5.2)+"l"+(M/2+2.6)+",-"+(M*.87+4.5)+"l2.6,1.5l-"+M/2+","+M*.87+"Z",I="m0.87,.5h-"+M+"v3h"+(M+5.2)+"l-"+(M/2+2.6)+",-"+(M*.87+4.5)+"l-2.6,1.5l"+M/2+","+M*.87+"Z",D="m0,1l"+M/2+","+M*.87+"l2.6,-1.5l-"+(M/2+2.6)+",-"+(M*.87+4.5)+"l-"+(M/2+2.6)+","+(M*.87+4.5)+"l2.6,1.5l"+M/2+",-"+M*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;E.clearOutline=function(){w(this.dragOptions),b(this.dragOptions.gd)},E.initInteractions=function(){var F=this,z=F.layers.plotbg.select("path").node(),B=F.graphDiv,W=B._fullLayout._zoomlayer,J,re;this.dragOptions={element:z,gd:B,plotinfo:{id:F.id,domain:B._fullLayout[F.id].domain,xaxis:F.xaxis,yaxis:F.yaxis},subplot:F.id,prepFn:function(Se,ke,Me){F.dragOptions.xaxes=[F.xaxis],F.dragOptions.yaxes=[F.yaxis],J=B._fullLayout._invScaleX,re=B._fullLayout._invScaleY;var Ve=F.dragOptions.dragmode=B._fullLayout.dragmode;h(Ve)?F.dragOptions.minDrag=1:F.dragOptions.minDrag=void 0,Ve==="zoom"?(F.dragOptions.moveFn=_e,F.dragOptions.clickFn=te,F.dragOptions.doneFn=De,fe(Se,ke,Me)):Ve==="pan"?(F.dragOptions.moveFn=Te,F.dragOptions.clickFn=te,F.dragOptions.doneFn=Re,Fe(),F.clearOutline(B)):(T(Ve)||h(Ve))&&i(Se,ke,Me,F.dragOptions,Ve)}};var ne,le,$,Z,ie,X,Q,oe,j,Y;function se(Se){var ke={};return ke[F.id+".aaxis.min"]=Se.a,ke[F.id+".baxis.min"]=Se.b,ke[F.id+".caxis.min"]=Se.c,ke}function te(Se,ke){var Me=B._fullLayout.clickmode;O(B),Se===2&&(B.emit("plotly_doubleclick",null),s.call("_guiRelayout",B,se({a:0,b:0,c:0}))),Me.indexOf("select")>-1&&Se===1&&d(ke,B,[F.xaxis],[F.yaxis],F.id,F.dragOptions),Me.indexOf("event")>-1&&l.click(B,ke,F.id)}function fe(Se,ke,Me){var Ve=z.getBoundingClientRect();ne=ke-Ve.left,le=Me-Ve.top,B._fullLayout._calcInverseTransform(B);var tt=B._fullLayout._invTransform,it=L.apply3DTransform(tt)(ne,le);ne=it[0],le=it[1],$={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},ie=$,Z=F.aaxis.range[1]-$.a,X=P(F.graphDiv._fullLayout[F.id].bgcolor).getLuminance(),Q="M0,"+F.h+"L"+F.w/2+", 0L"+F.w+","+F.h+"Z",oe=!1,j=W.append("path").attr("class","zoombox").attr("transform",S(F.x0,F.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),Y=W.append("path").attr("class","zoombox-corners").attr("transform",S(F.x0,F.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),F.clearOutline(B)}function ge(Se,ke){return 1-ke/F.h}function be(Se,ke){return 1-(Se+(F.h-ke)/Math.sqrt(3))/F.w}function xe(Se,ke){return(Se-(F.h-ke)/Math.sqrt(3))/F.w}function _e(Se,ke){var Me=ne+Se*J,Ve=le+ke*re,tt=Math.max(0,Math.min(1,ge(ne,le),ge(Me,Ve))),it=Math.max(0,Math.min(1,be(ne,le),be(Me,Ve))),Je=Math.max(0,Math.min(1,xe(ne,le),xe(Me,Ve))),Qe=(tt/2+Je)*F.w,ct=(1-tt/2-it)*F.w,ht=(Qe+ct)/2,dt=ct-Qe,Tt=(1-tt)*F.h,Et=Tt-dt/A;dt<C.MINZOOM?(ie=$,j.attr("d",Q),Y.attr("d","M0,0Z")):(ie={a:$.a+tt*Z,b:$.b+it*Z,c:$.c+Je*Z},j.attr("d",Q+"M"+Qe+","+Tt+"H"+ct+"L"+ht+","+Et+"L"+Qe+","+Tt+"Z"),Y.attr("d","M"+ne+","+le+N+"M"+Qe+","+Tt+x+"M"+ct+","+Tt+I+"M"+ht+","+Et+D)),oe||(j.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Y.transition().style("opacity",1).duration(200),oe=!0),B.emit("plotly_relayouting",se(ie))}function De(){O(B),ie!==$&&(s.call("_guiRelayout",B,se(ie)),k&&B.data&&B._context.showTips&&(L.notifier(v(B,"Double-click to zoom back out"),"long"),k=!1))}function Fe(){$={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},ie=$}function Te(Se,ke){var Me=Se/F.xaxis._m,Ve=ke/F.yaxis._m;ie={a:$.a-Ve,b:$.b+(Me+Ve)/2,c:$.c-(Me-Ve)/2};var tt=[ie.a,ie.b,ie.c].sort(L.sorterAsc),it={a:tt.indexOf(ie.a),b:tt.indexOf(ie.b),c:tt.indexOf(ie.c)};tt[0]<0&&(tt[1]+tt[0]/2<0?(tt[2]+=tt[0]+tt[1],tt[0]=tt[1]=0):(tt[2]+=tt[0]/2,tt[1]+=tt[0]/2,tt[0]=0),ie={a:tt[it.a],b:tt[it.b],c:tt[it.c]},ke=($.a-ie.a)*F.yaxis._m,Se=($.c-ie.c-$.b+ie.b)*F.xaxis._m);var Je=S(F.x0+Se,F.y0+ke);F.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Je);var Qe=S(-Se,-ke);F.clipDefRelative.select("path").attr("transform",Qe),F.aaxis.range=[ie.a,F.sum-ie.b-ie.c],F.baxis.range=[F.sum-ie.a-ie.c,ie.b],F.caxis.range=[F.sum-ie.a-ie.b,ie.c],F.drawAxes(!1),F._hasClipOnAxisFalse&&F.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,F),B.emit("plotly_relayouting",se(ie))}function Re(){s.call("_guiRelayout",B,se(ie))}z.onmousemove=function(Se){l.hover(B,Se,F.id),B._fullLayout._lasthover=z,B._fullLayout._hoversubplot=F.id},z.onmouseout=function(Se){B._dragging||u.unhover(B,Se)},u.init(this.dragOptions)};function O(F){m.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(G,H,e){var m=e(24248),P=e(16628),s=e(52416),L=e(63620),S=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,a=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(w){if(H.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<w.length;C++){var y=w[C];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":n(y);break;case"transform":l(y);break;case"component":u(y);break;case"locale":g(y);break;case"apiMethod":var E=y.name;H.apiMethodRegistry[E]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(b){var w=H.modules[d(b)];return w?w._module:!1},H.traceIs=function(b,w){if(b=d(b),b==="various")return!1;var C=H.modules[b];return C||(b&&m.log("Unrecognized trace type "+b+"."),C=H.modules[p.type.dflt]),!!C.categories[w]},H.getTransformIndices=function(b,w){for(var C=[],y=b.transforms||[],E=0;E<y.length;E++)y[E].type===w&&C.push(E);return C},H.hasTransform=function(b,w){for(var C=b.transforms||[],y=0;y<C.length;y++)if(C[y].type===w)return!0;return!1},H.getComponentMethod=function(b,w){var C=H.componentsRegistry[b];return C&&C[w]||P},H.call=function(){var b=arguments[0],w=[].slice.call(arguments,1);return H.apiMethodRegistry[b].apply(null,w)};function n(b){var w=b.name,C=b.categories,y=b.meta;if(H.modules[w]){m.log("Type "+w+" already registered");return}H.subplotsRegistry[b.basePlotModule.name]||f(b.basePlotModule);for(var E={},A=0;A<C.length;A++)E[C[A]]=!0,H.allCategories[C[A]]=!0;H.modules[w]={_module:b,categories:E},y&&Object.keys(y).length&&(H.modules[w].meta=y),H.allTypes.push(w);for(var o in H.componentsRegistry)T(o,w);b.layoutAttributes&&t(H.traceLayoutAttributes,b.layoutAttributes);var M=b.basePlotModule,x=M.name;if(x==="mapbox"){var I=M.constants.styleRules;for(var D in I)S(".js-plotly-plot .plotly .mapboxgl-"+D,I[D])}(x==="geo"||x==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(b){var w=b.name;if(H.subplotsRegistry[w]){m.log("Plot type "+w+" already registered.");return}h(b),H.subplotsRegistry[w]=b;for(var C in H.componentsRegistry)i(C,b.name)}function u(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var w=b.name;H.componentsRegistry[w]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&s(H.layoutArrayContainers,w),h(b));for(var C in H.modules)T(w,C);for(var y in H.subplotsRegistry)i(w,y);for(var E in H.transformsRegistry)c(w,E);b.schema&&b.schema.layout&&a(r,b.schema.layout)}function l(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+b.name,C=typeof b.transform=="function",y=typeof b.calcTransform=="function";if(!C&&!y)throw new Error(w+" is missing a *transform* or *calcTransform* method.");C&&y&&m.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(b.attributes)||m.log(w+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&m.log(w+" registered without a *supplyDefaults* method."),H.transformsRegistry[b.name]=b;for(var E in H.componentsRegistry)c(E,b.name)}function g(b){var w=b.name,C=w.split("-")[0],y=b.dictionary,E=b.format,A=y&&Object.keys(y).length,o=E&&Object.keys(E).length,M=H.localeRegistry,x=M[w];if(x||(M[w]=x={}),C!==w){var I=M[C];I||(M[C]=I={}),A&&I.dictionary===x.dictionary&&(I.dictionary=y),o&&I.format===x.format&&(I.format=E)}A&&(x.dictionary=y),o&&(x.format=E)}function h(b){if(b.layoutAttributes){var w=b.layoutAttributes._arrayAttrRegexps;if(w)for(var C=0;C<w.length;C++)s(H.layoutArrayRegexes,w[C])}}function T(b,w){var C=H.componentsRegistry[b].schema;if(!(!C||!C.traces)){var y=C.traces[w];y&&a(H.modules[w]._module.attributes,y)}}function c(b,w){var C=H.componentsRegistry[b].schema;if(!(!C||!C.transforms)){var y=C.transforms[w];y&&a(H.transformsRegistry[w].attributes,y)}}function i(b,w){var C=H.componentsRegistry[b].schema;if(!(!C||!C.subplots)){var y=H.subplotsRegistry[w],E=y.layoutAttributes,A=y.attr==="subplot"?y.name:y.attr;Array.isArray(A)&&(A=A[0]);var o=C.subplots[A];E&&o&&a(E,o)}}function d(b){return typeof b=="object"&&(b=b.type),b}},91536:function(G,H,e){var m=e(24040),P=e(3400),s=P.extendFlat,L=P.extendDeep;function S(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var a,n=r.data,f=r.layout,u=L([],n),l=L({},f,S(t.tileClass)),g=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(a=0;a<h.length;a++)v(h[a])&&(l[h[a]].title={text:""});for(a=0;a<u.length;a++){var T=u[a];T.showscale=!1,T.marker&&(T.marker.showscale=!1),m.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(a=0;a<t.annotations.length;a++)l.annotations.push(t.annotations[a]);var c=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var i={};for(t.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var d=l[c[a]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),s(d.xaxis,i),s(d.yaxis,i),s(d.zaxis,i),d._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var w={gd:b,td:b,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=S(t.tileClass),w}},39792:function(G,H,e){var m=e(3400),P=e(67024),s=e(48616),L=e(81792);function S(v,p){var r;return m.isPlainObject(v)||(r=m.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),m.isIE()&&p.format!=="svg"&&a(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),f=p.filename||v.fn||"newplot";f+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),s(u,f,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),a(u)})})}G.exports=S},48616:function(G,H,e){var m=e(3400),P=e(81792);function s(L,S,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(a,n){var f,u;if(m.isIE())return f=P.createBlob(L,"svg"),window.navigator.msSaveBlob(f,S),f=null,a(S);if(r)return f=P.createBlob(L,v),u=P.createObjectURL(f),p.href=u,p.download=S,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(u),f=null,a(S);if(m.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(L)),a(S)}n(new Error("download error"))});return t}G.exports=s},81792:function(G,H,e){var m=e(24040);H.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},H.getRedrawFunc=function(L){return function(){m.getComponentMethod("colorbar","draw")(L)}},H.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},H.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;H.createObjectURL=function(L){return P.createObjectURL(L)},H.revokeObjectURL=function(L){return P.revokeObjectURL(L)},H.createBlob=function(L,S){if(S==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(S==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=s(window.atob(L));return new window.Blob([v],{type:"image/"+S})},H.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function s(L){for(var S=L.length,v=new ArrayBuffer(S),p=new Uint8Array(v),r=0;r<S;r++)p[r]=L.charCodeAt(r);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(G,H,e){var m=e(81792),P={getDelay:m.getDelay,getRedrawFunc:m.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};G.exports=P},63268:function(G,H,e){var m=e(3400),P=e(61252).EventEmitter,s=e(81792);function L(S){var v=S.emitter||new P,p=new Promise(function(r,t){var a=window.Image,n=S.svg,f=S.format||"png";if(m.isIE()&&f!=="svg"){var u=new Error(s.MSG_IE_BAD_FORMAT);return t(u),S.promise?p:v.emit("error",u)}var l=S.canvas,g=S.scale||1,h=S.width||300,T=S.height||150,c=g*h,i=g*T,d=l.getContext("2d",{willReadFrequently:!0}),b=new a,w,C;f==="svg"||m.isSafari()?C=s.encodeSVG(n):(w=s.createBlob(n,"svg"),C=s.createObjectURL(w)),l.width=c,l.height=i,b.onload=function(){var y;switch(w=null,s.revokeObjectURL(C),f!=="svg"&&d.drawImage(b,0,0,c,i),f){case"jpeg":y=l.toDataURL("image/jpeg");break;case"png":y=l.toDataURL("image/png");break;case"webp":y=l.toDataURL("image/webp");break;case"svg":y=C;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!S.promise)return v.emit("error",E)}r(y),S.promise||v.emit("success",y)},b.onerror=function(y){if(w=null,s.revokeObjectURL(C),t(y),!S.promise)return v.emit("error",y)},b.src=C});return S.promise?p:v}G.exports=L},61808:function(G,H,e){var m=e(61252).EventEmitter,P=e(24040),s=e(3400),L=e(81792),S=e(91536),v=e(37164),p=e(63268);function r(t,a){var n=new m,f=S(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var h=L.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),c=document.createElement("canvas");c.id=s.randstr(),n=p({format:a.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},h)}var g=L.getRedrawFunc(u);return P.call("_doPlot",u,f.data,f.layout,f.config).then(g).then(l).catch(function(h){n.emit("error",h)}),n}G.exports=r},37164:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(76308),S=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var f=m.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function a(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(f,u,l){var g=f._fullLayout,h=g._paper,T=g._toppaper,c=g.width,i=g.height,d;h.insert("rect",":first-child").call(s.setRect,0,0,c,i).call(L.fill,g.paper_bgcolor);var b=g._basePlotModules||[];for(d=0;d<b.length;d++){var w=b[d];w.toSVG&&w.toSVG(f)}if(T){var C=T.node().childNodes,y=Array.prototype.slice.call(C);for(d=0;d<y.length;d++){var E=y[d];E.childNodes.length&&h.node().appendChild(E)}}g._draggers&&g._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var o=m.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){o.remove();return}else o.style({visibility:null,display:null});var M=this.style.fontFamily;M&&M.indexOf('"')!==-1&&o.style("font-family",M.replace(v,p));var x=this.style.fontWeight;x&&(x==="normal"||x==="400")&&o.style("font-weight",void 0);var I=this.style.fontStyle;I&&I==="normal"&&o.style("font-style",void 0);var D=this.style.fontVariant;D&&D==="normal"&&o.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var o=m.select(this),M=this.style.fill;M&&M.indexOf("url(")!==-1&&o.style("fill",M.replace(v,p));var x=this.style.stroke;x&&x.indexOf("url(")!==-1&&o.style("stroke",x.replace(v,p))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(S.xmlns,"xmlns",S.svg),h.node().setAttributeNS(S.xmlns,"xmlns:xlink",S.xlink),u==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*i),h.attr("viewBox","0 0 "+c+" "+i));var A=new window.XMLSerializer().serializeToString(h.node());return A=t(A),A=a(A),A=A.replace(r,"'"),P.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},84664:function(G,H,e){var m=e(3400);G.exports=function(s,L){for(var S=0;S<s.length;S++)s[S].i=S;m.mergeArray(L.text,s,"tx"),m.mergeArray(L.hovertext,s,"htx");var v=L.marker;if(v){m.mergeArray(v.opacity,s,"mo",!0),m.mergeArray(v.color,s,"mc");var p=v.line;p&&(m.mergeArray(p.color,s,"mlc"),m.mergeArrayCastPositive(p.width,s,"mlw"))}}},20832:function(G,H,e){var m=e(52904),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(21776).Gw,S=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=m.marker,f=n.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},S("marker.line")),g=t({line:l,editType:"calc"},S("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:m.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:m.hovertext,hovertemplate:s({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},a,{}),insidetextfont:t({},a,{}),outsidetextfont:t({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},m.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:{marker:{opacity:m.selected.marker.opacity,color:m.selected.marker.color,editType:"style"},textfont:m.selected.textfont,editType:"style"},unselected:{marker:{opacity:m.unselected.marker.opacity,color:m.unselected.marker.color,editType:"style"},textfont:m.unselected.textfont,editType:"style"},zorder:m.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(G,H,e){var m=e(54460),P=e(1220),s=e(94288).hasColorscale,L=e(47128),S=e(84664),v=e(4500);G.exports=function(r,t){var a=m.getFromId(r,t.xaxis||"x"),n=m.getFromId(r,t.yaxis||"y"),f,u,l,g,h,T,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=a.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y",c),l=a.makeCalcdata(t,"x"),g=P(t,a,"x",l),h=!!t.xperiodalignment,T="x"),u=g.vals;for(var i=Math.min(u.length,f.length),d=new Array(i),b=0;b<i;b++)d[b]={p:u[b],s:f[b]},h&&(d[b].orig_p=l[b],d[b][T+"End"]=g.ends[b],d[b][T+"Start"]=g.starts[b]),t.ids&&(d[b].id=String(t.ids[b]));return s(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),s(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(d,t),v(d,t),d}},78048:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(G,H,e){var m=e(38248),P=e(3400).isArrayOrTypedArray,s=e(39032).BADNUM,L=e(24040),S=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(x,I){for(var D=I.xaxis,N=I.yaxis,k=x._fullLayout,O=x._fullData,F=x.calcdata,z=[],B=[],W=0;W<O.length;W++){var J=O[W];if(J.visible===!0&&L.traceIs(J,"bar")&&J.xaxis===D._id&&J.yaxis===N._id&&(J.orientation==="h"?z.push(F[W]):B.push(F[W]),J._computePh))for(var re=x.calcdata[W],ne=0;ne<re.length;ne++)typeof re[ne].ph0=="function"&&(re[ne].ph0=re[ne].ph0()),typeof re[ne].ph1=="function"&&(re[ne].ph1=re[ne].ph1())}var le={xCat:D.type==="category"||D.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(x,D,N,B,le),t(x,N,D,z,le)}function t(x,I,D,N,k){if(N.length){var O,F,z,B,W;switch(f(D,N),k.mode){case"overlay":u(I,D,N,k);break;case"group":for(O=[],F=[],z=0;z<N.length;z++)B=N[z],W=B[0].trace,W.offset===void 0?F.push(B):O.push(B);F.length&&l(x,I,D,F,k),O.length&&u(I,D,O,k);break;case"stack":case"relative":for(O=[],F=[],z=0;z<N.length;z++)B=N[z],W=B[0].trace,W.base===void 0?F.push(B):O.push(B);n(F),F.length&&g(x,I,D,F,k),O.length&&u(I,D,O,k);break}a(N),o(N,I)}}function a(x){var I,D,N,k,O,F,z;for(I=0;I<x.length;I++)D=x[I],N=D[0].trace,k=D[0].t,k.cornerradiusvalue===void 0&&(O=N.marker?N.marker.cornerradius:void 0,O!==void 0&&(F=m(O)?+O:+O.slice(0,-1),z=m(O)?"px":"%",k.cornerradiusvalue=F,k.cornerradiusform=z))}function n(x){if(!(x.length<2)){var I,D,N,k,O,F,z;for(I=0;I<x.length&&(D=x[I],N=D[0].trace,O=N.marker?N.marker.cornerradius:void 0,O===void 0);I++);if(O!==void 0)for(F=m(O)?+O:+O.slice(0,-1),z=m(O)?"px":"%",I=0;I<x.length;I++)D=x[I],k=D[0].t,k.cornerradiusvalue=F,k.cornerradiusform=z}}function f(x,I){var D,N;for(D=0;D<I.length;D++){var k=I[D],O=k[0].trace,F=O.type==="funnel"?O._base:O.base,z,B=O.orientation==="h"?O.xcalendar:O.ycalendar,W=x.type==="category"||x.type==="multicategory"?function(){return null}:x.d2c;if(P(F)){for(N=0;N<Math.min(F.length,k.length);N++)z=W(F[N],0,B),m(z)?(k[N].b=+z,k[N].hasB=1):k[N].b=0;for(;N<k.length;N++)k[N].b=0}else{z=W(F,0,B);var J=m(z);for(z=J?z:0,N=0;N<k.length;N++)k[N].b=z,J&&(k[N].hasB=1)}}}function u(x,I,D,N){for(var k=0;k<D.length;k++){var O=D[k],F=new p([O],{posAxis:x,sepNegVal:!1,overlapNoMerge:!N.norm});h(x,F,N),N.norm?(C(F),E(I,F,N)):b(I,F)}}function l(x,I,D,N,k){var O=new p(N,{posAxis:I,sepNegVal:!1,overlapNoMerge:!k.norm});T(x,I,O,k),y(O,I),k.norm?(C(O),E(D,O,k)):b(D,O)}function g(x,I,D,N,k){var O=new p(N,{posAxis:I,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});h(I,O,k),w(D,O,k);for(var F=0;F<N.length;F++)for(var z=N[F],B=0;B<z.length;B++){var W=z[B];if(W.s!==s){var J=W.b+W.s===O.get(W.p,W.s);J&&(W._outmost=!0)}}k.norm&&E(D,O,k)}function h(x,I,D){for(var N=I.minDiff,k=I.traces,O=N*(1-D.gap),F=O,z=F*(1-(D.groupgap||0)),B=-z/2,W=0;W<k.length;W++){var J=k[W],re=J[0].t;re.barwidth=z,re.poffset=B,re.bargroupwidth=O,re.bardelta=N}I.binWidth=k[0][0].t.barwidth/100,c(I),i(x,I),d(x,I)}function T(x,I,D,N){for(var k=x._fullLayout,O=D.positions,F=D.distinctPositions,z=D.minDiff,B=D.traces,W=B.length,J=O.length!==F.length,re=z*(1-N.gap),ne=v(k,I._id)+B[0][0].trace.orientation,le=k._alignmentOpts[ne]||{},$=0;$<W;$++){var Z=B[$],ie=Z[0].trace,X=le[ie.alignmentgroup]||{},Q=Object.keys(X.offsetGroups||{}).length,oe;Q?oe=re/Q:oe=J?re/W:re;var j=oe*(1-(N.groupgap||0)),Y;Q?Y=((2*ie._offsetIndex+1-Q)*oe-j)/2:Y=J?((2*$+1-W)*oe-j)/2:-j/2;var se=Z[0].t;se.barwidth=j,se.poffset=Y,se.bargroupwidth=re,se.bardelta=z}D.binWidth=B[0][0].t.barwidth/100,c(D),i(I,D),d(I,D,J)}function c(x){var I=x.traces,D,N;for(D=0;D<I.length;D++){var k=I[D],O=k[0],F=O.trace,z=O.t,B=F._offset||F.offset,W=z.poffset,J;if(P(B)){for(J=Array.prototype.slice.call(B,0,k.length),N=0;N<J.length;N++)m(J[N])||(J[N]=W);for(N=J.length;N<k.length;N++)J.push(W);z.poffset=J}else B!==void 0&&(z.poffset=B);var re=F._width||F.width,ne=z.barwidth;if(P(re)){var le=Array.prototype.slice.call(re,0,k.length);for(N=0;N<le.length;N++)m(le[N])||(le[N]=ne);for(N=le.length;N<k.length;N++)le.push(ne);if(z.barwidth=le,B===void 0){for(J=[],N=0;N<k.length;N++)J.push(W+(ne-le[N])/2);z.poffset=J}}else re!==void 0&&(z.barwidth=re,B===void 0&&(z.poffset=W+(ne-re)/2))}}function i(x,I){for(var D=I.traces,N=M(x),k=0;k<D.length;k++)for(var O=D[k],F=O[0].t,z=F.poffset,B=P(z),W=F.barwidth,J=P(W),re=0;re<O.length;re++){var ne=O[re],le=ne.w=J?W[re]:W;ne.p===void 0&&(ne.p=ne[N],ne["orig_"+N]=ne[N]);var $=(B?z[re]:z)+le/2;ne[N]=ne.p+$}}function d(x,I,D){var N=I.traces,k=I.minDiff,O=k/2;S.minDtick(x,I.minDiff,I.distinctPositions[0],D);for(var F=0;F<N.length;F++){var z=N[F],B=z[0],W=B.trace,J=[],re,ne,le,$;for($=0;$<z.length;$++)re=z[$],ne=re.p-O,le=re.p+O,J.push(ne,le);if(W.width||W.offset){var Z=B.t,ie=Z.poffset,X=Z.barwidth,Q=P(ie),oe=P(X);for($=0;$<z.length;$++){re=z[$];var j=Q?ie[$]:ie,Y=oe?X[$]:X;ne=re.p+j,le=ne+Y,J.push(ne,le)}}W._extremes[x._id]=S.findExtremes(x,J,{padded:!1})}}function b(x,I){for(var D=I.traces,N=M(x),k=0;k<D.length;k++){for(var O=D[k],F=O[0].trace,z=F.type==="scatter",B=F.orientation==="v",W=[],J=!1,re=0;re<O.length;re++){var ne=O[re],le=z?0:ne.b,$=z?B?ne.y:ne.x:le+ne.s;ne[N]=$,W.push($),ne.hasB&&W.push(le),(!ne.hasB||!ne.b)&&(J=!0)}F._extremes[x._id]=S.findExtremes(x,W,{tozero:J,padded:!0})}}function w(x,I,D){var N=M(x),k=I.traces,O,F,z,B,W,J;for(B=0;B<k.length;B++)if(O=k[B],F=O[0].trace,F.type==="funnel")for(W=0;W<O.length;W++)J=O[W],J.s!==s&&I.put(J.p,-.5*J.s);for(B=0;B<k.length;B++){O=k[B],F=O[0].trace,z=F.type==="funnel";var re=[];for(W=0;W<O.length;W++)if(J=O[W],J.s!==s){var ne;z?ne=J.s:ne=J.s+J.b;var le=I.put(J.p,ne),$=le+ne;J.b=le,J[N]=$,D.norm||(re.push($),J.hasB&&re.push(le))}D.norm||(F._extremes[x._id]=S.findExtremes(x,re,{tozero:!0,padded:!0}))}}function C(x){for(var I=x.traces,D=0;D<I.length;D++)for(var N=I[D],k=0;k<N.length;k++){var O=N[k];O.s!==s&&x.put(O.p,O.b+O.s)}}function y(x,I){for(var D=x.traces,N=0;N<D.length;N++){var k=D[N],O=k[0].trace;if(O.base===void 0)for(var F=new p([k],{posAxis:I,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<k.length;z++){var B=k[z];if(B.p!==s){var W=F.put(B.p,B.b+B.s);W&&(B.b=W)}}}}function E(x,I,D){var N=I.traces,k=M(x),O=D.norm==="fraction"?1:100,F=O/1e9,z=x.l2c(x.c2l(0)),B=D.mode==="stack"?O:z;function W(Y){return m(x.c2l(Y))&&(Y<z-F||Y>B+F||!m(z))}for(var J=0;J<N.length;J++){for(var re=N[J],ne=re[0].trace,le=[],$=!1,Z=!1,ie=0;ie<re.length;ie++){var X=re[ie];if(X.s!==s){var Q=Math.abs(O/I.get(X.p,X.s));X.b*=Q,X.s*=Q;var oe=X.b,j=oe+X.s;X[k]=j,le.push(j),Z=Z||W(j),X.hasB&&(le.push(oe),Z=Z||W(oe)),(!X.hasB||!X.b)&&($=!0)}}ne._extremes[x._id]=S.findExtremes(x,le,{tozero:$,padded:Z})}}function A(x,I,D,N){for(var k=M(N),O=0;O<x.length;O++)for(var F=x[O],z=0;z<F.length;z++){var B=F[z],W=B[k];B._sMin=I[W],B._sMax=D[W]}}function o(x,I){var D=M(I),N={},k,O,F,z=1/0,B=-1/0;for(k=0;k<x.length;k++)for(F=x[k],O=0;O<F.length;O++){var W=F[O].p;m(W)&&(z=Math.min(z,W),B=Math.max(B,W))}var J=1e4/(B-z),re=N.round=function(fe){return String(Math.round(J*(fe-z)))},ne={},le={},$=x.some(function(fe){var ge=fe[0].trace;return"marker"in ge&&ge.marker.cornerradius});for(k=0;k<x.length;k++){F=x[k],F[0].t.extents=N;var Z=F[0].t.poffset,ie=P(Z);for(O=0;O<F.length;O++){var X=F[O],Q=X[D]-X.w/2;if(m(Q)){var oe=X[D]+X.w/2,j=re(X.p);N[j]?N[j]=[Math.min(Q,N[j][0]),Math.max(oe,N[j][1])]:N[j]=[Q,oe]}if(X.p0=X.p+(ie?Z[O]:Z),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,$){var Y=Math.min(X.s0,X.s1)||0,se=Math.max(X.s0,X.s1)||0,te=X[D];ne[te]=te in ne?Math.min(ne[te],Y):Y,le[te]=te in le?Math.max(le[te],se):se}}}$&&A(x,ne,le,I)}function M(x){return x._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(G,H,e){var m=e(38248),P=e(3400),s=e(76308),L=e(24040),S=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),a=P.coerceFont;function n(g,h,T,c){function i(y,E){return P.coerce(g,h,t,y,E)}var d=S(g,h,c,i);if(!d){h.visible=!1;return}v(g,h,c,i),i("xhoverformat"),i("yhoverformat"),i("zorder"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var b=i("textposition");l(g,h,c,i,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(g,h,i,T,c);var w=(h.marker.line||{}).color,C=L.getComponentMethod("errorbars","supplyDefaults");C(g,h,w||s.defaultLine,{axis:"y"}),C(g,h,w||s.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,i)}function f(g,h){var T,c;function i(w,C){return P.coerce(c._input,c,t,w,C)}for(var d=0;d<g.length;d++)if(c=g[d],c.type==="bar"){T=c._input;var b=i("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(b)),h.barmode==="group"&&r(T,c,h,i)}}function u(g){if(m(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&m(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function l(g,h,T,c,i,d){d=d||{};var b=d.moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,y=d.moduleHasCliponaxis!==!1,E=d.moduleHasTextangle!==!1,A=d.moduleHasInsideanchor!==!1,o=!!d.hasPathbar,M=Array.isArray(i)||i==="auto",x=M||i==="inside",I=M||i==="outside";if(x||I){var D=a(c,"textfont",T.font),N=P.extendFlat({},D),k=g.textfont&&g.textfont.color,O=!k;if(O&&delete N.color,a(c,"insidetextfont",N),o){var F=P.extendFlat({},D);O&&delete F.color,a(c,"pathbar.textfont",F)}I&&a(c,"outsidetextfont",D),b&&c("selected.textfont.color"),w&&c("unselected.textfont.color"),C&&c("constraintext"),y&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}x&&A&&c("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(G){G.exports=function(e,m,P){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(G,H,e){var m=e(38248),P=e(49760),s=e(3400).isArrayOrTypedArray;H.coerceString=function(L,S,v){if(typeof S=="string"){if(S||!L.noBlank)return S}else if((typeof S=="number"||S===!0)&&!L.strict)return String(S);return v!==void 0?v:L.dflt},H.coerceNumber=function(L,S,v){if(m(S)){S=+S;var p=L.min,r=L.max,t=p!==void 0&&S<p||r!==void 0&&S>r;if(!t)return S}return v!==void 0?v:L.dflt},H.coerceColor=function(L,S,v){return P(S).isValid()?S:v!==void 0?v:L.dflt},H.coerceEnumerated=function(L,S,v){return L.coerceNumber&&(S=+S),L.values.indexOf(S)!==-1?S:v!==void 0?v:L.dflt},H.getValue=function(L,S){var v;return s(L)?S<L.length&&(v=L[S]):v=L,v},H.getLineWidth=function(L,S){var v=0<S.mlw?S.mlw:s(L.marker.line.width)?0:L.marker.line.width;return v}},63400:function(G,H,e){var m=e(93024),P=e(24040),s=e(76308),L=e(3400).fillText,S=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,f,u,l,g){var h=t(n,f,u,l,g);if(h){var T=h.cd,c=T[0].trace,i=T[h.index];return h.color=a(c,i),P.getComponentMethod("errorbars","hoverInfo")(i,c,h),[h]}}function t(n,f,u,l,g){var h=n.cd,T=h[0].trace,c=h[0].t,i=l==="closest",d=T.type==="waterfall",b=n.maxHoverDistance,w=n.maxSpikeDistance,C,y,E,A,o,M,x;T.orientation==="h"?(C=u,y=f,E="y",A="x",o=le,M=J):(C=f,y=u,E="x",A="y",M=le,o=J);var I=T[E+"period"],D=i||I;function N(fe){return O(fe,-1)}function k(fe){return O(fe,1)}function O(fe,ge){var be=fe.w;return fe[E]+ge*be/2}function F(fe){return fe[E+"End"]-fe[E+"Start"]}var z=i?N:I?function(fe){return fe.p-F(fe)/2}:function(fe){return Math.min(N(fe),fe.p-c.bardelta/2)},B=i?k:I?function(fe){return fe.p+F(fe)/2}:function(fe){return Math.max(k(fe),fe.p+c.bardelta/2)};function W(fe,ge,be){return g.finiteRange&&(be=0),m.inbox(fe-C,ge-C,be+Math.min(1,Math.abs(ge-fe)/x)-1)}function J(fe){return W(z(fe),B(fe),b)}function re(fe){return W(N(fe),k(fe),w)}function ne(fe){var ge=fe[A];if(d){var be=Math.abs(fe.rawS)||0;y>0?ge+=be:y<0&&(ge-=be)}return ge}function le(fe){var ge=y,be=fe.b,xe=ne(fe);return m.inbox(be-ge,xe-ge,b+(xe-ge)/(xe-be)-1)}function $(fe){var ge=y,be=fe.b,xe=ne(fe);return m.inbox(be-ge,xe-ge,w+(xe-ge)/(xe-be)-1)}var Z=n[E+"a"],ie=n[A+"a"];x=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function X(fe){return(o(fe)+M(fe))/2}var Q=m.getDistanceFunction(l,o,M,X);if(m.getClosest(h,Q,n),n.index!==!1&&h[n.index].p!==p){D||(z=function(fe){return Math.min(N(fe),fe.p-c.bargroupwidth/2)},B=function(fe){return Math.max(k(fe),fe.p+c.bargroupwidth/2)});var oe=n.index,j=h[oe],Y=T.base?j.b+j.s:j.s;n[A+"0"]=n[A+"1"]=ie.c2p(j[A],!0),n[A+"LabelVal"]=Y;var se=c.extents[c.extents.round(j.p)];n[E+"0"]=Z.c2p(i?z(j):se[0],!0),n[E+"1"]=Z.c2p(i?B(j):se[1],!0);var te=j.orig_p!==void 0;return n[E+"LabelVal"]=te?j.orig_p:j.p,n.labelLabel=v(Z,n[E+"LabelVal"],T[E+"hoverformat"]),n.valueLabel=v(ie,n[A+"LabelVal"],T[A+"hoverformat"]),n.baseLabel=v(ie,j.b,T[A+"hoverformat"]),n.spikeDistance=($(j)+re(j))/2,n[E+"Spike"]=Z.c2p(j.p,!0),L(j,T,n),n.hovertemplate=T.hovertemplate,n}}function a(n,f){var u=f.mcc||n.marker.color,l=f.mlcc||n.marker.line.color,g=S(n,f);if(s.opacity(u))return u;if(s.opacity(l)&&g)return l}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:a}},51132:function(G,H,e){G.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(G,H,e){var m=e(24040),P=e(54460),s=e(3400),L=e(39324),S=e(31508).validateCornerradius;G.exports=function(v,p,r){function t(d,b){return s.coerce(v,p,L,d,b)}for(var a=!1,n=!1,f=!1,u={},l=t("barmode"),g=0;g<r.length;g++){var h=r[g];if(m.traceIs(h,"bar")&&h.visible)a=!0;else continue;if(l==="group"){var T=h.xaxis+h.yaxis;u[T]&&(f=!0),u[T]=!0}if(h.visible&&h.type==="histogram"){var c=P.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!a){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var i=t("barcornerradius");p.barcornerradius=S(i)}},98184:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(72736),S=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),g=e(20832),h=g.text,T=g.textposition,c=e(10624).appendArrayPointValue,i=l.TEXTPAD;function d(J){return J.id}function b(J){if(J.ids)return d}function w(J){return(J>0)-(J<0)}function C(J,re){return J<re?1:-1}function y(J,re,ne,le){var $=[],Z=[],ie=le?re:ne,X=le?ne:re;return $[0]=ie.c2p(J.s0,!0),Z[0]=X.c2p(J.p0,!0),$[1]=ie.c2p(J.s1,!0),Z[1]=X.c2p(J.p1,!0),le?[$,Z]:[Z,$]}function E(J,re,ne,le){if(!re.uniformtext.mode&&A(ne)){var $;return le&&($=le()),J.transition().duration(ne.duration).ease(ne.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()})}else return J}function A(J){return J&&J.duration>0}function o(J,re,ne,le,$,Z){var ie=re.xaxis,X=re.yaxis,Q=J._fullLayout,oe=J._context.staticPlot;$||($={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},n("bar",Q));var j=s.makeTraceGroups(le,ne,"trace bars").each(function(Y){var se=m.select(this),te=Y[0].trace,fe=Y[0].t,ge=te.type==="waterfall",be=te.type==="funnel",xe=te.type==="histogram",_e=te.type==="bar",De=_e||be,Fe=0;ge&&te.connector.visible&&te.connector.mode==="between"&&(Fe=te.connector.line.width/2);var Te=te.orientation==="h",Re=A($),Se=s.ensureSingle(se,"g","points"),ke=b(te),Me=Se.selectAll("g.point").data(s.identity,ke);Me.enter().append("g").classed("point",!0),Me.exit().remove(),Me.each(function(tt,it){var Je=m.select(this),Qe=y(tt,ie,X,Te),ct=Qe[0][0],ht=Qe[0][1],dt=Qe[1][0],Tt=Qe[1][1],Et=(Te?ht-ct:Tt-dt)===0;Et&&De&&u.getLineWidth(te,tt)&&(Et=!1),Et||(Et=!P(ct)||!P(ht)||!P(dt)||!P(Tt)),tt.isBlank=Et,Et&&(Te?ht=ct:Tt=dt),Fe&&!Et&&(Te?(ct-=C(ct,ht)*Fe,ht+=C(ct,ht)*Fe):(dt-=C(dt,Tt)*Fe,Tt+=C(dt,Tt)*Fe));var rt,ze;if(te.type==="waterfall"){if(!Et){var Ge=te[tt.dir].marker;rt=Ge.line.width,ze=Ge.color}}else rt=u.getLineWidth(te,tt),ze=tt.mc||te.marker.color;function je(lt){var bt=m.round(rt/2%1,2);return $.gap===0&&$.groupgap===0?m.round(Math.round(lt)-bt,2):lt}function We(lt,bt,Ct){return Ct&&lt===bt?lt:Math.abs(lt-bt)>=2?je(lt):lt>bt?Math.ceil(lt):Math.floor(lt)}var Le=S.opacity(ze),Pe=Le<1||rt>.01?je:We;J._context.staticPlot||(ct=Pe(ct,ht,Te),ht=Pe(ht,ct,Te),dt=Pe(dt,Tt,!Te),Tt=Pe(Tt,dt,!Te));var Ye=Te?ie.c2p:X.c2p,Ce;tt.s0>0?Ce=tt._sMax:tt.s0<0?Ce=tt._sMin:Ce=tt.s1>0?tt._sMax:tt._sMin;function he(lt,bt){if(!lt)return 0;var Ct=Math.abs(Te?Tt-dt:ht-ct),Dt=Math.abs(Te?ht-ct:Tt-dt),Ht=Pe(Math.abs(Ye(Ce,!0)-Ye(0,!0))),Bt=tt.hasB?Math.min(Ct/2,Dt/2):Math.min(Ct/2,Ht),xt;if(bt==="%"){var Ut=Math.min(50,lt);xt=Ct*(Ut/100)}else xt=lt;return Pe(Math.max(Math.min(xt,Bt),0))}var me=_e||xe?he(fe.cornerradiusvalue,fe.cornerradiusform):0,Ne,$e,ot="M"+ct+","+dt+"V"+Tt+"H"+ht+"V"+dt+"Z",st=0;if(me&&tt.s){var Wt=w(tt.s0)===0||w(tt.s)===w(tt.s0)?tt.s1:tt.s0;if(st=Pe(tt.hasB?0:Math.abs(Ye(Ce,!0)-Ye(Wt,!0))),st<me){var Zt=C(ct,ht),At=C(dt,Tt),Rt=Zt===-At?1:0;if(Te)if(tt.hasB)Ne="M"+(ct+me*Zt)+","+dt+"A "+me+","+me+" 0 0 "+Rt+" "+ct+","+(dt+me*At)+"V"+(Tt-me*At)+"A "+me+","+me+" 0 0 "+Rt+" "+(ct+me*Zt)+","+Tt+"H"+(ht-me*Zt)+"A "+me+","+me+" 0 0 "+Rt+" "+ht+","+(Tt-me*At)+"V"+(dt+me*At)+"A "+me+","+me+" 0 0 "+Rt+" "+(ht-me*Zt)+","+dt+"Z";else{$e=Math.abs(ht-ct)+st;var Xt=$e<me?me-Math.sqrt($e*(2*me-$e)):0,ir=st>0?Math.sqrt(st*(2*me-st)):0,pt=Zt>0?Math.max:Math.min;Ne="M"+ct+","+dt+"V"+(Tt-Xt*At)+"H"+pt(ht-(me-st)*Zt,ct)+"A "+me+","+me+" 0 0 "+Rt+" "+ht+","+(Tt-me*At-ir)+"V"+(dt+me*At+ir)+"A "+me+","+me+" 0 0 "+Rt+" "+pt(ht-(me-st)*Zt,ct)+","+(dt+Xt*At)+"Z"}else if(tt.hasB)Ne="M"+(ct+me*Zt)+","+dt+"A "+me+","+me+" 0 0 "+Rt+" "+ct+","+(dt+me*At)+"V"+(Tt-me*At)+"A "+me+","+me+" 0 0 "+Rt+" "+(ct+me*Zt)+","+Tt+"H"+(ht-me*Zt)+"A "+me+","+me+" 0 0 "+Rt+" "+ht+","+(Tt-me*At)+"V"+(dt+me*At)+"A "+me+","+me+" 0 0 "+Rt+" "+(ht-me*Zt)+","+dt+"Z";else{$e=Math.abs(Tt-dt)+st;var Kt=$e<me?me-Math.sqrt($e*(2*me-$e)):0,Qt=st>0?Math.sqrt(st*(2*me-st)):0,yr=At>0?Math.max:Math.min;Ne="M"+(ct+Kt*Zt)+","+dt+"V"+yr(Tt-(me-st)*At,dt)+"A "+me+","+me+" 0 0 "+Rt+" "+(ct+me*Zt-Qt)+","+Tt+"H"+(ht-me*Zt+Qt)+"A "+me+","+me+" 0 0 "+Rt+" "+(ht-Kt*Zt)+","+yr(Tt-(me-st)*At,dt)+"V"+dt+"Z"}}else Ne=ot}else Ne=ot;var ur=E(s.ensureSingle(Je,"path"),Q,$,Z);if(ur.style("vector-effect",oe?"none":"non-scaling-stroke").attr("d",isNaN((ht-ct)*(Tt-dt))||Et&&J._context.staticPlot?"M0,0Z":Ne).call(v.setClipUrl,re.layerClipId,J),!Q.uniformtext.mode&&Re){var mt=v.makePointStyleFns(te);v.singlePointStyle(tt,ur,te,mt,J)}M(J,re,Je,Y,it,ct,ht,dt,Tt,me,st,$,Z),re.layerClipId&&v.hideOutsideRangePoint(tt,Je.select("text"),ie,X,te.xcalendar,te.ycalendar)});var Ve=te.cliponaxis===!1;v.setClipUrl(se,Ve?null:re.layerClipId,J)});p.getComponentMethod("errorbars","plot")(J,j,re,$)}function M(J,re,ne,le,$,Z,ie,X,Q,oe,j,Y,se){var te=re.xaxis,fe=re.yaxis,ge=J._fullLayout,be;function xe($e,ot,st){var Wt=s.ensureSingle($e,"text").text(ot).attr({class:"bartext bartext-"+be,"text-anchor":"middle","data-notex":1}).call(v.font,st).call(L.convertToTspans,J);return Wt}var _e=le[0].trace,De=_e.orientation==="h",Fe=F(ge,le,$,te,fe);be=z(_e,$);var Te=Y.mode==="stack"||Y.mode==="relative",Re=le[$],Se=!Te||Re._outmost,ke=Re.hasB,Me=oe&&oe-j>i;if(!Fe||be==="none"||(Re.isBlank||Z===ie||X===Q)&&(be==="auto"||be==="inside")){ne.select("text").remove();return}var Ve=ge.font,tt=f.getBarColor(le[$],_e),it=f.getInsideTextFont(_e,$,Ve,tt),Je=f.getOutsideTextFont(_e,$,Ve),Qe=_e.insidetextanchor||"end",ct=ne.datum();De?te.type==="log"&&ct.s0<=0&&(te.range[0]<te.range[1]?Z=0:Z=te._length):fe.type==="log"&&ct.s0<=0&&(fe.range[0]<fe.range[1]?X=fe._length:X=0);var ht=Math.abs(ie-Z),dt=Math.abs(Q-X),Tt=ht-2*i,Et=dt-2*i,rt,ze,Ge,je,We;if(be==="outside"&&!Se&&!Re.hasB&&(be="inside"),be==="auto")if(Se){be="inside",We=s.ensureUniformFontSize(J,it),rt=xe(ne,Fe,We),ze=v.bBox(rt.node()),Ge=ze.width,je=ze.height;var Le=Ge>0&&je>0,Pe;Me?ke?Pe=x(Tt-2*oe,Et,Ge,je,De)||x(Tt,Et-2*oe,Ge,je,De):De?Pe=x(Tt-(oe-j),Et,Ge,je,De)||x(Tt,Et-2*(oe-j),Ge,je,De):Pe=x(Tt,Et-(oe-j),Ge,je,De)||x(Tt-2*(oe-j),Et,Ge,je,De):Pe=x(Tt,Et,Ge,je,De),Le&&Pe?be="inside":(be="outside",rt.remove(),rt=null)}else be="inside";if(!rt){We=s.ensureUniformFontSize(J,be==="outside"?Je:it),rt=xe(ne,Fe,We);var Ye=rt.attr("transform");if(rt.attr("transform",""),ze=v.bBox(rt.node()),Ge=ze.width,je=ze.height,rt.attr("transform",Ye),Ge<=0||je<=0){rt.remove();return}}var Ce=_e.textangle,he,me;be==="outside"?(me=_e.constraintext==="both"||_e.constraintext==="outside",he=O(Z,ie,X,Q,ze,{isHorizontal:De,constrained:me,angle:Ce})):(me=_e.constraintext==="both"||_e.constraintext==="inside",he=N(Z,ie,X,Q,ze,{isHorizontal:De,constrained:me,angle:Ce,anchor:Qe,hasB:ke,r:oe,overhead:j})),he.fontSize=We.size,a(_e.type==="histogram"?"bar":_e.type,he,ge),Re.transform=he;var Ne=E(rt,ge,Y,se);s.setTransormAndDisplay(Ne,he)}function x(J,re,ne,le,$){if(J<0||re<0)return!1;var Z=ne<=J&&le<=re,ie=ne<=re&&le<=J,X=$?J>=ne*(re/le):re>=le*(J/ne);return Z||ie||X}function I(J){return J==="auto"?0:J}function D(J,re){var ne=Math.PI/180*re,le=Math.abs(Math.sin(ne)),$=Math.abs(Math.cos(ne));return{x:J.width*$+J.height*le,y:J.width*le+J.height*$}}function N(J,re,ne,le,$,Z){var ie=!!Z.isHorizontal,X=!!Z.constrained,Q=Z.angle||0,oe=Z.anchor,j=oe==="end",Y=oe==="start",se=Z.leftToRight||0,te=(se+1)/2,fe=1-te,ge=Z.hasB,be=Z.r,xe=Z.overhead,_e=$.width,De=$.height,Fe=Math.abs(re-J),Te=Math.abs(le-ne),Re=Fe>2*i&&Te>2*i?i:0;Fe-=2*Re,Te-=2*Re;var Se=I(Q);Q==="auto"&&!(_e<=Fe&&De<=Te)&&(_e>Fe||De>Te)&&(!(_e>Te||De>Fe)||_e<De!=Fe<Te)&&(Se+=90);var ke=D($,Se),Me,Ve;if(be&&be-xe>i){var tt=k(J,re,ne,le,ke,be,xe,ie,ge);Me=tt.scale,Ve=tt.pad}else Me=1,X&&(Me=Math.min(1,Fe/ke.x,Te/ke.y)),Ve=0;var it=$.left*fe+$.right*te,Je=($.top+$.bottom)/2,Qe=(J+i)*fe+(re-i)*te,ct=(ne+le)/2,ht=0,dt=0;if(Y||j){var Tt=(ie?ke.x:ke.y)/2;be&&(j||ge)&&(Re+=Ve);var Et=ie?C(J,re):C(ne,le);ie?Y?(Qe=J+Et*Re,ht=-Et*Tt):(Qe=re-Et*Re,ht=Et*Tt):Y?(ct=ne+Et*Re,dt=-Et*Tt):(ct=le-Et*Re,dt=Et*Tt)}return{textX:it,textY:Je,targetX:Qe,targetY:ct,anchorX:ht,anchorY:dt,scale:Me,rotate:Se}}function k(J,re,ne,le,$,Z,ie,X,Q){var oe=Math.max(0,Math.abs(re-J)-2*i),j=Math.max(0,Math.abs(le-ne)-2*i),Y=Z-i,se=ie?Y-Math.sqrt(Y*Y-(Y-ie)*(Y-ie)):Y,te=Q?Y*2:X?Y-ie:2*se,fe=Q?Y*2:X?2*se:Y-ie,ge,be,xe,_e,De;return $.y/$.x>=j/(oe-te)?_e=j/$.y:$.y/$.x<=(j-fe)/oe?_e=oe/$.x:!Q&&X?(ge=$.x*$.x+$.y*$.y/4,be=-2*$.x*(oe-Y)-$.y*(j/2-Y),xe=(oe-Y)*(oe-Y)+(j/2-Y)*(j/2-Y)-Y*Y,_e=(-be+Math.sqrt(be*be-4*ge*xe))/(2*ge)):Q?(ge=($.x*$.x+$.y*$.y)/4,be=-$.x*(oe/2-Y)-$.y*(j/2-Y),xe=(oe/2-Y)*(oe/2-Y)+(j/2-Y)*(j/2-Y)-Y*Y,_e=(-be+Math.sqrt(be*be-4*ge*xe))/(2*ge)):(ge=$.x*$.x/4+$.y*$.y,be=-$.x*(oe/2-Y)-2*$.y*(j-Y),xe=(oe/2-Y)*(oe/2-Y)+(j-Y)*(j-Y)-Y*Y,_e=(-be+Math.sqrt(be*be-4*ge*xe))/(2*ge)),_e=Math.min(1,_e),X?De=Math.max(0,Y-Math.sqrt(Math.max(0,Y*Y-(Y-(j-$.y*_e)/2)*(Y-(j-$.y*_e)/2)))-ie):De=Math.max(0,Y-Math.sqrt(Math.max(0,Y*Y-(Y-(oe-$.x*_e)/2)*(Y-(oe-$.x*_e)/2)))-ie),{scale:_e,pad:De}}function O(J,re,ne,le,$,Z){var ie=!!Z.isHorizontal,X=!!Z.constrained,Q=Z.angle||0,oe=$.width,j=$.height,Y=Math.abs(re-J),se=Math.abs(le-ne),te;ie?te=se>2*i?i:0:te=Y>2*i?i:0;var fe=1;X&&(fe=ie?Math.min(1,se/j):Math.min(1,Y/oe));var ge=I(Q),be=D($,ge),xe=(ie?be.x:be.y)/2,_e=($.left+$.right)/2,De=($.top+$.bottom)/2,Fe=(J+re)/2,Te=(ne+le)/2,Re=0,Se=0,ke=ie?C(re,J):C(ne,le);return ie?(Fe=re-ke*te,Re=ke*xe):(Te=le+ke*te,Se=-ke*xe),{textX:_e,textY:De,targetX:Fe,targetY:Te,anchorX:Re,anchorY:Se,scale:fe,rotate:ge}}function F(J,re,ne,le,$){var Z=re[0].trace,ie=Z.texttemplate,X;return ie?X=B(J,re,ne,le,$):Z.textinfo?X=W(re,ne,le,$):X=u.getValue(Z.text,ne),u.coerceString(h,X)}function z(J,re){var ne=u.getValue(J.textposition,re);return u.coerceEnumerated(T,ne)}function B(J,re,ne,le,$){var Z=re[0].trace,ie=s.castOption(Z,ne,"texttemplate");if(!ie)return"";var X=Z.type==="histogram",Q=Z.type==="waterfall",oe=Z.type==="funnel",j=Z.orientation==="h",Y,se,te,fe;j?(Y="y",se=$,te="x",fe=le):(Y="x",se=le,te="y",fe=$);function ge(Re){return r(se,se.c2l(Re),!0).text}function be(Re){return r(fe,fe.c2l(Re),!0).text}var xe=re[ne],_e={};_e.label=xe.p,_e.labelLabel=_e[Y+"Label"]=ge(xe.p);var De=s.castOption(Z,xe.i,"text");(De===0||De)&&(_e.text=De),_e.value=xe.s,_e.valueLabel=_e[te+"Label"]=be(xe.s);var Fe={};c(Fe,Z,xe.i),(X||Fe.x===void 0)&&(Fe.x=j?_e.value:_e.label),(X||Fe.y===void 0)&&(Fe.y=j?_e.label:_e.value),(X||Fe.xLabel===void 0)&&(Fe.xLabel=j?_e.valueLabel:_e.labelLabel),(X||Fe.yLabel===void 0)&&(Fe.yLabel=j?_e.labelLabel:_e.valueLabel),Q&&(_e.delta=+xe.rawS||xe.s,_e.deltaLabel=be(_e.delta),_e.final=xe.v,_e.finalLabel=be(_e.final),_e.initial=_e.final-_e.delta,_e.initialLabel=be(_e.initial)),oe&&(_e.value=xe.s,_e.valueLabel=be(_e.value),_e.percentInitial=xe.begR,_e.percentInitialLabel=s.formatPercent(xe.begR),_e.percentPrevious=xe.difR,_e.percentPreviousLabel=s.formatPercent(xe.difR),_e.percentTotal=xe.sumR,_e.percenTotalLabel=s.formatPercent(xe.sumR));var Te=s.castOption(Z,xe.i,"customdata");return Te&&(_e.customdata=Te),s.texttemplateString(ie,_e,J._d3locale,Fe,_e,Z._meta||{})}function W(J,re,ne,le){var $=J[0].trace,Z=$.orientation==="h",ie=$.type==="waterfall",X=$.type==="funnel";function Q(Te){var Re=Z?le:ne;return r(Re,Te,!0).text}function oe(Te){var Re=Z?ne:le;return r(Re,+Te,!0).text}var j=$.textinfo,Y=J[re],se=j.split("+"),te=[],fe,ge=function(Te){return se.indexOf(Te)!==-1};if(ge("label")&&te.push(Q(J[re].p)),ge("text")&&(fe=s.castOption($,Y.i,"text"),(fe===0||fe)&&te.push(fe)),ie){var be=+Y.rawS||Y.s,xe=Y.v,_e=xe-be;ge("initial")&&te.push(oe(_e)),ge("delta")&&te.push(oe(be)),ge("final")&&te.push(oe(xe))}if(X){ge("value")&&te.push(oe(Y.s));var De=0;ge("percent initial")&&De++,ge("percent previous")&&De++,ge("percent total")&&De++;var Fe=De>1;ge("percent initial")&&(fe=s.formatPercent(Y.begR),Fe&&(fe+=" of initial"),te.push(fe)),ge("percent previous")&&(fe=s.formatPercent(Y.difR),Fe&&(fe+=" of previous"),te.push(fe)),ge("percent total")&&(fe=s.formatPercent(Y.sumR),Fe&&(fe+=" of total"),te.push(fe))}return te.join("<br>")}G.exports={plot:o,toMoveInsideBar:N}},45784:function(G){G.exports=function(m,P){var s=m.cd,L=m.xaxis,S=m.yaxis,v=s[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],a;if(P===!1)for(a=0;a<s.length;a++)s[a].selected=0;else for(a=0;a<s.length;a++){var n=s[a],f="ct"in n?n.ct:H(n,L,S,r,p);P.contains(f,!1,a,m)?(t.push({pointNumber:a,x:L.c2d(n.x),y:S.c2d(n.y)}),n.selected=1):n.selected=0}return t};function H(e,m,P,s,L){var S=m.c2p(s?e.s0:e.p0,!0),v=m.c2p(s?e.s1:e.p1,!0),p=P.c2p(s?e.p0:e.s0,!0),r=P.c2p(s?e.p1:e.s1,!0);return L?[(S+v)/2,(p+r)/2]:s?[v,(p+r)/2]:[(S+v)/2,r]}},72592:function(G,H,e){G.exports=P;var m=e(3400).distinctVals;function P(s,L){this.traces=s,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var S=1/0,v=L.posAxis._id.charAt(0),p=[],r=0;r<s.length;r++){for(var t=s[r],a=0;a<t.length;a++){var n=t[a],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&p.push(f)}t[0]&&t[0].width1&&(S=Math.min(t[0].width1,S))}this.positions=p;var u=m(p);this.distinctPositions=u.vals,u.vals.length===1&&S!==1/0?this.minDiff=S:this.minDiff=Math.min(u.minDiff,S);var l=(L.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,S){var v=this.getLabel(L,S),p=this.bins[v]||0;return this.bins[v]=p+S,p},P.prototype.get=function(L,S){var v=this.getLabel(L,S);return this.bins[v]||0},P.prototype.getLabel=function(L,S){var v=S<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},60100:function(G,H,e){var m=e(33428),P=e(76308),s=e(43616),L=e(3400),S=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,a=p.outsidetextfont,n=e(60444);function f(y){var E=m.select(y).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(y,E,"bar");var A=E.size(),o=y._fullLayout;E.style("opacity",function(M){return M[0].trace.opacity}).each(function(M){(o.barmode==="stack"&&A>1||o.bargap===0&&o.bargroupgap===0&&!M[0].trace.marker.line.width)&&m.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(M){var x=m.select(this),I=M[0].trace;u(x,I,y)}),S.getComponentMethod("errorbars","style")(E)}function u(y,E,A){s.pointStyle(y.selectAll("path"),E,A),l(y,E,A)}function l(y,E,A){y.selectAll("text").each(function(o){var M=m.select(this),x=L.ensureUniformFontSize(A,c(M,o,E,A));s.font(M,x)})}function g(y,E,A){var o=E[0].trace;o.selectedpoints?h(A,o,y):(u(A,o,y),S.getComponentMethod("errorbars","style")(A))}function h(y,E,A){s.selectedPointStyle(y.selectAll("path"),E),T(y.selectAll("text"),E,A)}function T(y,E,A){y.each(function(o){var M=m.select(this),x;if(o.selected){x=L.ensureUniformFontSize(A,c(M,o,E,A));var I=E.selected.textfont&&E.selected.textfont.color;I&&(x.color=I),s.font(M,x)}else s.selectedTextStyle(M,E)})}function c(y,E,A,o){var M=o._fullLayout.font,x=A.textfont;if(y.classed("bartext-inside")){var I=C(E,A);x=d(A,E.i,M,I)}else y.classed("bartext-outside")&&(x=b(A,E.i,M));return x}function i(y,E,A){return w(r,y.textfont,E,A)}function d(y,E,A,o){var M=i(y,E,A),x=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[E]===void 0;return x&&(M={color:P.contrast(o),family:M.family,size:M.size,weight:M.weight,style:M.style,variant:M.variant,textcase:M.textcase,lineposition:M.lineposition,shadow:M.shadow}),w(t,y.insidetextfont,E,M)}function b(y,E,A){var o=i(y,E,A);return w(a,y.outsidetextfont,E,o)}function w(y,E,A,o){E=E||{};var M=n.getValue(E.family,A),x=n.getValue(E.size,A),I=n.getValue(E.color,A),D=n.getValue(E.weight,A),N=n.getValue(E.style,A),k=n.getValue(E.variant,A),O=n.getValue(E.textcase,A),F=n.getValue(E.lineposition,A),z=n.getValue(E.shadow,A);return{family:n.coerceString(y.family,M,o.family),size:n.coerceNumber(y.size,x,o.size),color:n.coerceColor(y.color,I,o.color),weight:n.coerceString(y.weight,D,o.weight),style:n.coerceString(y.style,N,o.style),variant:n.coerceString(y.variant,k,o.variant),textcase:n.coerceString(y.variant,O,o.textcase),lineposition:n.coerceString(y.variant,F,o.lineposition),shadow:n.coerceString(y.variant,z,o.shadow)}}function C(y,E){return E.type==="waterfall"?E[y.dir].marker.color:y.mcc||y.mc||E.marker.color}G.exports={style:f,styleTextPoints:l,styleOnSelect:g,getInsideTextFont:d,getOutsideTextFont:b,getBarColor:C,resizeText:v}},55592:function(G,H,e){var m=e(76308),P=e(94288).hasColorscale,s=e(27260),L=e(3400).coercePattern;G.exports=function(v,p,r,t,a){var n=r("marker.color",t),f=P(v,"marker");f&&s(v,p,a,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",m.defaultLine),P(v,"marker.line")&&s(v,p,a,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(G,H,e){var m=e(33428),P=e(3400);function s(p,r,t){var a=p._fullLayout,n=a["_"+t+"Text_minsize"];if(n){var f=a.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var g=l.transform;if(g){g.scale=f&&g.hide?0:n/g.fontSize;var h=m.select(this).select("text");P.setTransormAndDisplay(h,g)}})}}function L(p,r,t){if(t.uniformtext.mode){var a=v(p),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[a]=t[a]||1/0,r.hide||(t[a]=Math.min(t[a],Math.max(f,n)))}}function S(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:L,clearMinTextSize:S,resizeText:s}},78100:function(G,H,e){var m=e(21776).Ks,P=e(92880).extendFlat,s=e(8319),L=e(20832);G.exports={r:s.r,theta:s.theta,r0:s.r0,dr:s.dr,theta0:s.theta0,dtheta:s.dtheta,thetaunit:s.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:S(),hoverinfo:s.hoverinfo,hovertemplate:m(),selected:L.selected,unselected:L.unselected};function S(){var v=P({},L.marker);return delete v.cornerradius,v}},47056:function(G,H,e){var m=e(94288).hasColorscale,P=e(47128),s=e(3400).isArrayOrTypedArray,L=e(84664),S=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var u=n._fullLayout,l=f.subplot,g=u[l].radialaxis,h=u[l].angularaxis,T=g.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),i=f._length,d=new Array(i),b=T,w=c,C=0;C<i;C++)d[C]={p:w[C],s:b[C]};function y(E){var A=f[E];A!==void 0&&(f["_"+E]=s(A)?h.makeCalcdata(f,E):h.d2c(A,f.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),m(f,"marker")&&P(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),m(f,"marker.line")&&P(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(d,f),v(d,f),d}function a(n,f,u){for(var l=n.calcdata,g=[],h=0;h<l.length;h++){var T=l[h],c=T[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===u&&g.push(T)}var i=r({},f.radialaxis,{_id:"x"}),d=f.angularaxis;S(n,d,i,g,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}G.exports={calc:t,crossTraceCalc:a}},70384:function(G,H,e){var m=e(3400),P=e(85968).handleRThetaDefaults,s=e(55592),L=e(78100);G.exports=function(v,p,r,t){function a(f,u){return m.coerce(v,p,L,f,u)}var n=P(v,p,t,a);if(!n){p.visible=!1;return}a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),s(v,p,a,r,t),m.coerceSelectionMarkerOpacity(p,a)}},68896:function(G,H,e){var m=e(93024),P=e(3400),s=e(63400).getTraceColor,L=P.fillText,S=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;G.exports=function(r,t,a){var n=r.cd,f=n[0].trace,u=r.subplot,l=u.radialAxis,g=u.angularAxis,h=u.vangles,T=h?v:P.isPtInsideSector,c=r.maxHoverDistance,i=g._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+a*a))),b=Math.atan2(a,t);l.range[0]>l.range[1]&&(b+=Math.PI);var w=function(A){return T(d,b,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?c+Math.min(1,Math.abs(A.thetag1-A.thetag0)/i)-1+(A.rp1-d)/(A.rp1-A.rp0)-1:1/0};if(m.getClosest(n,w,r),r.index!==!1){var C=r.index,y=n[C];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var E=P.extendFlat({},y,{r:y.s,theta:y.p});return L(y,f,r),S(E,f,u,r),r.hovertemplate=f.hovertemplate,r.color=s(f,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(G,H,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(G,H,e){var m=e(3400),P=e(9320);G.exports=function(s,L,S){var v={},p;function r(n,f){return m.coerce(s[p]||{},L[p],P,n,f)}for(var t=0;t<S.length;t++){var a=S[t];a.type==="barpolar"&&a.visible===!0&&(p=a.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(43616),S=e(57384);G.exports=function(r,t,a){var n=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,g=t.angularAxis,h=v(t),T=t.layers.frontplot.select("g.barlayer");s.makeTraceGroups(T,a,"trace bars").each(function(){var c=m.select(this),i=s.ensureSingle(c,"g","points"),d=i.selectAll("g.point").data(s.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(b){var w=m.select(this),C=b.rp0=l.c2p(b.s0),y=b.rp1=l.c2p(b.s1),E=b.thetag0=g.c2g(b.p0),A=b.thetag1=g.c2g(b.p1),o;if(!P(C)||!P(y)||!P(E)||!P(A)||C===y||E===A)o="M0,0Z";else{var M=l.c2g(b.s1),x=(E+A)/2;b.ct=[f.c2p(M*Math.cos(x)),u.c2p(M*Math.sin(x))],o=h(C,y,E,A)}s.ensureSingle(w,"path").attr("d",o)}),L.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(a,n,f,u){var l,g;s.angleDelta(f,u)>0?(l=f,g=u):(l=u,g=f);var h=S.findEnclosingVertexAngles(l,p.vangles)[0],T=S.findEnclosingVertexAngles(g,p.vangles)[1],c=[h,(l+g)/2,T];return S.pathPolygonAnnulus(a,n,l,g,c,r,t)}:function(a,n,f,u){return s.pathAnnulus(a,n,f,u,r,t)}}},63188:function(G,H,e){var m=e(98304),P=e(52904),s=e(20832),L=e(22548),S=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:m(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:s.offsetgroup,alignmentgroup:s.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(G,H,e){var m=e(38248),P=e(54460),s=e(1220),L=e(3400),S=e(39032).BADNUM,v=L._;G.exports=function(b,w){var C=b._fullLayout,y=P.getFromId(b,w.xaxis||"x"),E=P.getFromId(b,w.yaxis||"y"),A=[],o=w.type==="violin"?"_numViolins":"_numBoxes",M,x,I,D,N,k,O;w.orientation==="h"?(I=y,D="x",N=E,k="y",O=!!w.yperiodalignment):(I=E,D="y",N=y,k="x",O=!!w.xperiodalignment);var F=p(w,k,N,C[o]),z=F[0],B=F[1],W=L.distinctVals(z,N),J=W.vals,re=W.minDiff/2,ne,le,$,Z,ie,X,Q=(w.boxpoints||w.points)==="all"?L.identity:function(Et){return Et.v<ne.lf||Et.v>ne.uf};if(w._hasPreCompStats){var oe=w[D],j=function(Et){return I.d2c((w[Et]||[])[M])},Y=1/0,se=-1/0;for(M=0;M<w._length;M++){var te=z[M];if(m(te)){if(ne={},ne.pos=ne[k]=te,O&&B&&(ne.orig_p=B[M]),ne.q1=j("q1"),ne.med=j("median"),ne.q3=j("q3"),le=[],oe&&L.isArrayOrTypedArray(oe[M]))for(x=0;x<oe[M].length;x++)X=I.d2c(oe[M][x]),X!==S&&(ie={v:X,i:[M,x]},n(ie,w,[M,x]),le.push(ie));if(ne.pts=le.sort(u),$=ne[D]=le.map(l),Z=$.length,ne.med!==S&&ne.q1!==S&&ne.q3!==S&&ne.med>=ne.q1&&ne.q3>=ne.med){var fe=j("lowerfence");ne.lf=fe!==S&&fe<=ne.q1?fe:g(ne,$,Z);var ge=j("upperfence");ne.uf=ge!==S&&ge>=ne.q3?ge:h(ne,$,Z);var be=j("mean");ne.mean=be!==S?be:Z?L.mean($,Z):(ne.q1+ne.q3)/2;var xe=j("sd");ne.sd=be!==S&&xe>=0?xe:Z?L.stdev($,Z,ne.mean):ne.q3-ne.q1,ne.lo=T(ne),ne.uo=c(ne);var _e=j("notchspan");_e=_e!==S&&_e>0?_e:i(ne,Z),ne.ln=ne.med-_e,ne.un=ne.med+_e;var De=ne.lf,Fe=ne.uf;w.boxpoints&&$.length&&(De=Math.min(De,$[0]),Fe=Math.max(Fe,$[Z-1])),w.notched&&(De=Math.min(De,ne.ln),Fe=Math.max(Fe,ne.un)),ne.min=De,ne.max=Fe}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var Te;ne.med!==S?Te=ne.med:ne.q1!==S?ne.q3!==S?Te=(ne.q1+ne.q3)/2:Te=ne.q1:ne.q3!==S?Te=ne.q3:Te=0,ne.med=Te,ne.q1=ne.q3=Te,ne.lf=ne.uf=Te,ne.mean=ne.sd=Te,ne.ln=ne.un=Te,ne.min=ne.max=Te}Y=Math.min(Y,ne.min),se=Math.max(se,ne.max),ne.pts2=le.filter(Q),A.push(ne)}}w._extremes[I._id]=P.findExtremes(I,[Y,se],{padded:!0})}else{var Re=I.makeCalcdata(w,D),Se=r(J,re),ke=J.length,Me=t(ke);for(M=0;M<w._length;M++)if(X=Re[M],!!m(X)){var Ve=L.findBin(z[M],Se);Ve>=0&&Ve<ke&&(ie={v:X,i:M},n(ie,w,M),Me[Ve].push(ie))}var tt=1/0,it=-1/0,Je=w.quartilemethod,Qe=Je==="exclusive",ct=Je==="inclusive";for(M=0;M<ke;M++)if(Me[M].length>0){if(ne={},ne.pos=ne[k]=J[M],le=ne.pts=Me[M].sort(u),$=ne[D]=le.map(l),Z=$.length,ne.min=$[0],ne.max=$[Z-1],ne.mean=L.mean($,Z),ne.sd=L.stdev($,Z,ne.mean)*w.sdmultiple,ne.med=L.interp($,.5),Z%2&&(Qe||ct)){var ht,dt;Qe?(ht=$.slice(0,Z/2),dt=$.slice(Z/2+1)):ct&&(ht=$.slice(0,Z/2+1),dt=$.slice(Z/2)),ne.q1=L.interp(ht,.5),ne.q3=L.interp(dt,.5)}else ne.q1=L.interp($,.25),ne.q3=L.interp($,.75);ne.lf=g(ne,$,Z),ne.uf=h(ne,$,Z),ne.lo=T(ne),ne.uo=c(ne);var Tt=i(ne,Z);ne.ln=ne.med-Tt,ne.un=ne.med+Tt,tt=Math.min(tt,ne.ln),it=Math.max(it,ne.un),ne.pts2=le.filter(Q),A.push(ne)}w.notched&&L.isTypedArray(Re)&&(Re=Array.from(Re)),w._extremes[I._id]=P.findExtremes(I,w.notched?Re.concat([tt,it]):Re,{padded:!0})}return f(A,w),A.length>0?(A[0].t={num:C[o],dPos:re,posLetter:k,valLetter:D,labels:{med:v(b,"median:"),min:v(b,"min:"),q1:v(b,"q1:"),q3:v(b,"q3:"),max:v(b,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(b,"mean ± σ:").replace("σ",w.sdmultiple===1?"σ":w.sdmultiple+"σ"):v(b,"mean:"),lf:v(b,"lower fence:"),uf:v(b,"upper fence:")}},C[o]++,A):[{t:{empty:!0}}]};function p(d,b,w,C){var y=b in d,E=b+"0"in d,A="d"+b in d;if(y||E&&A){var o=w.makeCalcdata(d,b),M=s(d,w,b,o).vals;return[M,o]}var x;E?x=d[b+"0"]:"name"in d&&(w.type==="category"||m(d.name)&&["linear","log"].indexOf(w.type)!==-1||L.isDateTime(d.name)&&w.type==="date")?x=d.name:x=C;for(var I=w.type==="multicategory"?w.r2c_just_indices(x):w.d2c(x,0,d[b+"calendar"]),D=d._length,N=new Array(D),k=0;k<D;k++)N[k]=I;return[N]}function r(d,b){for(var w=d.length,C=new Array(w+1),y=0;y<w;y++)C[y]=d[y]-b;return C[w]=d[w-1]+b,C}function t(d){for(var b=new Array(d),w=0;w<d;w++)b[w]=[];return b}var a={text:"tx",hovertext:"htx"};function n(d,b,w){for(var C in a)L.isArrayOrTypedArray(b[C])&&(Array.isArray(w)?L.isArrayOrTypedArray(b[C][w[0]])&&(d[a[C]]=b[C][w[0]][w[1]]):d[a[C]]=b[C][w])}function f(d,b){if(L.isArrayOrTypedArray(b.selectedpoints))for(var w=0;w<d.length;w++){for(var C=d[w].pts||[],y={},E=0;E<C.length;E++)y[C[E].i]=E;L.tagSelected(C,b,y)}}function u(d,b){return d.v-b.v}function l(d){return d.v}function g(d,b,w){return w===0?d.q1:Math.min(d.q1,b[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,b,!0)+1,w-1)])}function h(d,b,w){return w===0?d.q3:Math.max(d.q3,b[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,b),0)])}function T(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function i(d,b){return b===0?0:1.57*(d.q3-d.q1)/Math.sqrt(b)}},96404:function(G,H,e){var m=e(54460),P=e(3400),s=e(71888).getAxisGroup,L=["v","h"];function S(p,r){for(var t=p.calcdata,a=r.xaxis,n=r.yaxis,f=0;f<L.length;f++){for(var u=L[f],l=u==="h"?n:a,g=[],h=0;h<t.length;h++){var T=t[h],c=T[0].t,i=T[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!c.empty&&(i.orientation||"v")===u&&i.xaxis===a._id&&i.yaxis===n._id&&g.push(h)}v("box",p,g,l)}}function v(p,r,t,a){var n=r.calcdata,f=r._fullLayout,u=a._id,l=u.charAt(0),g,h,T,c=[],i=0;for(g=0;g<t.length;g++)for(T=n[t[g]],h=0;h<T.length;h++)c.push(a.c2l(T[h].pos,!0)),i+=(T[h].pts2||[]).length;if(c.length){var d=P.distinctVals(c);(a.type==="category"||a.type==="multicategory")&&(d.minDiff=1);var b=d.minDiff/2;m.minDtick(a,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",C=f[w],y=f[p+"mode"]==="group"&&C>1,E=1-f[p+"gap"],A=1-f[p+"groupgap"];for(g=0;g<t.length;g++){T=n[t[g]];var o=T[0].trace,M=T[0].t,x=o.width,I=o.side,D,N,k,O;if(x)D=N=O=x/2,k=0;else if(D=b,y){var F=s(f,a._id)+o.orientation,z=f._alignmentOpts[F]||{},B=z[o.alignmentgroup]||{},W=Object.keys(B.offsetGroups||{}).length,J=W||C,re=W?o._offsetIndex:M.num;N=D*E*A/J,k=2*D*(-.5+(re+.5)/J)*E,O=D*E/J}else N=D*E*A,k=0,O=D;M.dPos=D,M.bPos=k,M.bdPos=N,M.wHover=O;var ne,le,$=k+N,Z,ie,X,Q,oe,j,Y=!!x,se=(o.boxpoints||o.points)&&i>0;if(I==="positive"?(ne=D*(x?1:.5),Z=$,le=Z=k):I==="negative"?(ne=Z=k,le=D*(x?1:.5),ie=$):(ne=le=D,Z=ie=$),se){var te=o.pointpos,fe=o.jitter,ge=o.marker.size/2,be=0;te+fe>=0&&(be=$*(te+fe),be>ne?(Y=!0,oe=ge,X=be):be>Z&&(oe=ge,X=ne)),be<=ne&&(X=ne);var xe=0;te-fe<=0&&(xe=-$*(te-fe),xe>le?(Y=!0,j=ge,Q=xe):xe>ie&&(j=ge,Q=le)),xe<=le&&(Q=le)}else X=ne,Q=le;var _e=new Array(T.length);for(h=0;h<T.length;h++)_e[h]=T[h].pos;o._extremes[u]=m.findExtremes(a,_e,{padded:Y,vpadminus:Q,vpadplus:X,vpadLinearized:!0,ppadminus:{x:j,y:oe}[l],ppadplus:{x:oe,y:j}[l]})}}}G.exports={crossTraceCalc:S,setPositionOffset:v}},90624:function(G,H,e){var m=e(3400),P=e(24040),s=e(76308),L=e(31147),S=e(20011),v=e(52976),p=e(63188);function r(f,u,l,g){function h(A,o){return m.coerce(f,u,p,A,o)}if(t(f,u,h,g),u.visible!==!1){L(f,u,g,h),h("xhoverformat"),h("yhoverformat");var T=u._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||l),h("line.width"),h("fillcolor",s.addOpacity(u.line.color,.5));var c=!1;if(T){var i=h("mean"),d=h("sd");i&&i.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var b=h("sizemode"),w;b==="quartiles"&&(w=h("boxmean",c)),h("showwhiskers",b==="quartiles"),(b==="sd"||w==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(T){var y=h("notchspan");y&&y.length&&(C=!0)}else m.validate(f.notchwidth,p.notchwidth)&&(C=!0);var E=h("notched",C);E&&h("notchwidth"),a(f,u,h,{prefix:"box"}),h("zorder")}}function t(f,u,l,g){function h(W){var J=0;return W&&W.length&&(J+=1,m.isArrayOrTypedArray(W[0])&&W[0].length&&(J+=1)),J}function T(W){return m.validate(f[W],p[W])}var c=l("y"),i=l("x"),d;if(u.type==="box"){var b=l("q1"),w=l("median"),C=l("q3");u._hasPreCompStats=b&&b.length&&w&&w.length&&C&&C.length,d=Math.min(m.minRowLength(b),m.minRowLength(w),m.minRowLength(C))}var y=h(c),E=h(i),A=y&&m.minRowLength(c),o=E&&m.minRowLength(i),M=g.calendar,x={autotypenumbers:g.autotypenumbers},I,D;if(u._hasPreCompStats)switch(String(E)+String(y)){case"00":var N=T("x0")||T("dx"),k=T("y0")||T("dy");k&&!N?I="h":I="v",D=d;break;case"10":I="v",D=Math.min(d,o);break;case"20":I="h",D=Math.min(d,i.length);break;case"01":I="h",D=Math.min(d,A);break;case"02":I="v",D=Math.min(d,c.length);break;case"12":I="v",D=Math.min(d,o,c.length);break;case"21":I="h",D=Math.min(d,i.length,A);break;case"11":D=0;break;case"22":var O=!1,F;for(F=0;F<i.length;F++)if(v(i[F],M,x)==="category"){O=!0;break}if(O)I="v",D=Math.min(d,o,c.length);else{for(F=0;F<c.length;F++)if(v(c[F],M,x)==="category"){O=!0;break}O?(I="h",D=Math.min(d,i.length,A)):(I="v",D=Math.min(d,o,c.length))}break}else y>0?(I="v",E>0?D=Math.min(o,A):D=Math.min(A)):E>0?(I="h",D=Math.min(o)):D=0;if(!D){u.visible=!1;return}u._length=D;var z=l("orientation",I);u._hasPreCompStats?z==="v"&&E===0?(l("x0",0),l("dx",1)):z==="h"&&y===0&&(l("y0",0),l("dy",1)):z==="v"&&E===0?l("x0"):z==="h"&&y===0&&l("y0");var B=P.getComponentMethod("calendars","handleTraceDefaults");B(f,u,["x","y"],g)}function a(f,u,l,g){var h=g.prefix,T=m.coerce2(f,u,p,"marker.outliercolor"),c=l("marker.line.outliercolor"),i="outliers";u._hasPreCompStats?i="all":(T||c)&&(i="suspectedoutliers");var d=l(h+"points",i);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var b=l("hoveron");(b==="all"||b.indexOf("points")!==-1)&&l("hovertemplate"),m.coerceSelectionMarkerOpacity(u,l)}function n(f,u){var l,g;function h(i){return m.coerce(g._input,g,p,i)}for(var T=0;T<f.length;T++){g=f[T];var c=g.type;(c==="box"||c==="violin")&&(l=g._input,u[c+"mode"]==="group"&&S(l,g,u,h))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:a}},10392:function(G){G.exports=function(e,m){return m.hoverOnBox&&(e.hoverOnBox=m.hoverOnBox),"xVal"in m&&(e.x=m.xVal),"yVal"in m&&(e.y=m.yVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},27576:function(G,H,e){var m=e(54460),P=e(3400),s=e(93024),L=e(76308),S=P.fillText;function v(t,a,n,f){var u=t.cd,l=u[0].trace,g=l.hoveron,h=[],T;return g.indexOf("boxes")!==-1&&(h=h.concat(p(t,a,n,f))),g.indexOf("points")!==-1&&(T=r(t,a,n)),f==="closest"?T?[T]:h:(T&&h.push(T),h)}function p(t,a,n,f){var u=t.cd,l=t.xa,g=t.ya,h=u[0].trace,T=u[0].t,c=h.type==="violin",i,d,b,w,C,y,E,A,o,M,x,I=T.bdPos,D,N,k=T.wHover,O=function(xe){return b.c2l(xe.pos)+T.bPos-b.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(o=function(xe){var _e=O(xe);return s.inbox(_e,_e+k,M)},D=I,N=0),h.side==="negative"&&(o=function(xe){var _e=O(xe);return s.inbox(_e-k,_e,M)},D=0,N=I)):(o=function(xe){var _e=O(xe);return s.inbox(_e-k,_e+k,M)},D=N=I);var F;c?F=function(xe){return s.inbox(xe.span[0]-C,xe.span[1]-C,M)}:F=function(xe){return s.inbox(xe.min-C,xe.max-C,M)},h.orientation==="h"?(C=a,y=n,E=F,A=o,i="y",b=g,d="x",w=l):(C=n,y=a,E=o,A=F,i="x",b=l,d="y",w=g);var z=Math.min(1,I/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));M=t.maxHoverDistance-z,x=t.maxSpikeDistance-z;function B(xe){return(E(xe)+A(xe))/2}var W=s.getDistanceFunction(f,E,A,B);if(s.getClosest(u,W,t),t.index===!1)return[];var J=u[t.index],re=h.line.color,ne=(h.marker||{}).color;L.opacity(re)&&h.line.width?t.color=re:L.opacity(ne)&&h.boxpoints?t.color=ne:t.color=h.fillcolor,t[i+"0"]=b.c2p(J.pos+T.bPos-N,!0),t[i+"1"]=b.c2p(J.pos+T.bPos+D,!0),t[i+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var le=i+"Spike";t.spikeDistance=B(J)*x/M,t[le]=b.c2p(J.pos,!0);var $=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Z=h.boxpoints||h.points,ie=Z&&$?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!$?["max","uf","q3","med","q1","lf","min"]:!Z&&$?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=w.range[1]<w.range[0];h.orientation===(X?"v":"h")&&ie.reverse();for(var Q=t.spikeDistance,oe=t[le],j=[],Y=0;Y<ie.length;Y++){var se=ie[Y];if(se in J){var te=J[se],fe=w.c2p(te,!0),ge=P.extendFlat({},t);ge.attr=se,ge[d+"0"]=ge[d+"1"]=fe,ge[d+"LabelVal"]=te,ge[d+"Label"]=(T.labels?T.labels[se]+" ":"")+m.hoverLabelText(w,te,h[d+"hoverformat"]),ge.hoverOnBox=!0,se==="mean"&&"sd"in J&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ge[d+"err"]=J.sd),ge.hovertemplate=!1,j.push(ge)}}t.name="",t.spikeDistance=void 0,t[le]=void 0;for(var be=0;be<j.length;be++)j[be].attr!=="med"?(j[be].name="",j[be].spikeDistance=void 0,j[be][le]=void 0):(j[be].spikeDistance=Q,j[be][le]=oe);return j}function r(t,a,n){for(var f=t.cd,u=t.xa,l=t.ya,g=f[0].trace,h=u.c2p(a),T=l.c2p(n),c,i=function(F){var z=Math.max(3,F.mrc||0);return Math.max(Math.abs(u.c2p(F.x)-h)-z,1-3/z)},d=function(F){var z=Math.max(3,F.mrc||0);return Math.max(Math.abs(l.c2p(F.y)-T)-z,1-3/z)},b=s.quadrature(i,d),w=!1,C,y,E=0;E<f.length;E++){C=f[E];for(var A=0;A<(C.pts||[]).length;A++){y=C.pts[A];var o=b(y);o<=t.distance&&(t.distance=o,w=[E,A])}}if(!w)return!1;C=f[w[0]],y=C.pts[w[1]];var M=u.c2p(y.x,!0),x=l.c2p(y.y,!0),I=y.mrc||1;c=P.extendFlat({},t,{index:y.i,color:(g.marker||{}).color,name:g.name,x0:M-I,x1:M+I,y0:x-I,y1:x+I,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var D=C.orig_p,N=D!==void 0?D:C.pos,k;g.orientation==="h"?(k=l,c.xLabelVal=y.x,c.yLabelVal=N):(k=u,c.xLabelVal=N,c.yLabelVal=y.y);var O=k._id.charAt(0);return c[O+"Spike"]=k.c2p(C.pos,!0),S(y,g,c),c}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(G,H,e){G.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(G,H,e){var m=e(24040),P=e(3400),s=e(16560);function L(v,p,r,t,a){for(var n=a+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(m.traceIs(l,n)){f=!0;break}}f&&(t(a+"mode"),t(a+"gap"),t(a+"groupgap"))}function S(v,p,r){function t(a,n){return P.coerce(v,p,s,a,n)}L(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:S,_supply:L}},18728:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=5,S=.01;function v(a,n,f,u){var l=a._context.staticPlot,g=n.xaxis,h=n.yaxis;P.makeTraceGroups(u,f,"trace boxes").each(function(T){var c=m.select(this),i=T[0],d=i.t,b=i.trace;if(d.wdPos=d.bdPos*b.whiskerwidth,b.visible!==!0||d.empty){c.remove();return}var w,C;b.orientation==="h"?(w=h,C=g):(w=g,C=h),p(c,{pos:w,val:C},b,d,l),r(c,{x:g,y:h},b,d),t(c,{pos:w,val:C},b,d)})}function p(a,n,f,u,l){var g=f.orientation==="h",h=n.val,T=n.pos,c=!!T.rangebreaks,i=u.bPos,d=u.wdPos||0,b=u.bPosPxOffset||0,w=f.whiskerwidth||0,C=f.showwhiskers!==!1,y=f.notched||!1,E=y?1-2*f.notchwidth:1,A,o;Array.isArray(u.bdPos)?(A=u.bdPos[0],o=u.bdPos[1]):(A=u.bdPos,o=u.bdPos);var M=a.selectAll("path.box").data(f.type!=="violin"||f.box.visible?P.identity:[]);M.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),M.exit().remove(),M.each(function(x){if(x.empty)return m.select(this).attr("d","M0,0Z");var I=T.c2l(x.pos+i,!0),D=T.l2p(I-A)+b,N=T.l2p(I+o)+b,k=c?(D+N)/2:T.l2p(I)+b,O=f.whiskerwidth,F=c?D*O+(1-O)*k:T.l2p(I-d)+b,z=c?N*O+(1-O)*k:T.l2p(I+d)+b,B=T.l2p(I-A*E)+b,W=T.l2p(I+o*E)+b,J=f.sizemode==="sd",re=h.c2p(J?x.mean-x.sd:x.q1,!0),ne=J?h.c2p(x.mean+x.sd,!0):h.c2p(x.q3,!0),le=P.constrain(J?h.c2p(x.mean,!0):h.c2p(x.med,!0),Math.min(re,ne)+1,Math.max(re,ne)-1),$=x.lf===void 0||f.boxpoints===!1||J,Z=h.c2p($?x.min:x.lf,!0),ie=h.c2p($?x.max:x.uf,!0),X=h.c2p(x.ln,!0),Q=h.c2p(x.un,!0);g?m.select(this).attr("d","M"+le+","+B+"V"+W+"M"+re+","+D+"V"+N+(y?"H"+X+"L"+le+","+W+"L"+Q+","+N:"")+"H"+ne+"V"+D+(y?"H"+Q+"L"+le+","+B+"L"+X+","+D:"")+"Z"+(C?"M"+re+","+k+"H"+Z+"M"+ne+","+k+"H"+ie+(w===0?"":"M"+Z+","+F+"V"+z+"M"+ie+","+F+"V"+z):"")):m.select(this).attr("d","M"+B+","+le+"H"+W+"M"+D+","+re+"H"+N+(y?"V"+X+"L"+W+","+le+"L"+N+","+Q:"")+"V"+ne+"H"+D+(y?"V"+Q+"L"+B+","+le+"L"+D+","+X:"")+"Z"+(C?"M"+k+","+re+"V"+Z+"M"+k+","+ne+"V"+ie+(w===0?"":"M"+F+","+Z+"H"+z+"M"+F+","+ie+"H"+z):""))})}function r(a,n,f,u){var l=n.x,g=n.y,h=u.bdPos,T=u.bPos,c=f.boxpoints||f.points;P.seedPseudoRandom();var i=function(w){return w.forEach(function(C){C.t=u,C.trace=f}),w},d=a.selectAll("g.points").data(c?i:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var b=d.selectAll("path").data(function(w){var C,y=w.pts2,E=Math.max((w.max-w.min)/10,w.q3-w.q1),A=E*1e-9,o=E*S,M=[],x=0,I;if(f.jitter){if(E===0)for(x=1,M=new Array(y.length),C=0;C<y.length;C++)M[C]=1;else for(C=0;C<y.length;C++){var D=Math.max(0,C-L),N=y[D].v,k=Math.min(y.length-1,C+L),O=y[k].v;c!=="all"&&(y[C].v<w.lf?O=Math.min(O,w.lf):N=Math.max(N,w.uf));var F=Math.sqrt(o*(k-D)/(O-N+A))||0;F=P.constrain(Math.abs(F),0,1),M.push(F),x=Math.max(F,x)}I=f.jitter*2/(x||1)}for(C=0;C<y.length;C++){var z=y[C],B=z.v,W=f.jitter?I*M[C]*(P.pseudoRandom()-.5):0,J=w.pos+T+h*(f.pointpos+W);f.orientation==="h"?(z.y=J,z.x=B):(z.x=J,z.y=B),c==="suspectedoutliers"&&B<w.uo&&B>w.lo&&(z.so=!0)}return y});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(s.translatePoints,l,g)}function t(a,n,f,u){var l=n.val,g=n.pos,h=!!g.rangebreaks,T=u.bPos,c=u.bPosPxOffset||0,i=f.boxmean||(f.meanline||{}).visible,d,b;Array.isArray(u.bdPos)?(d=u.bdPos[0],b=u.bdPos[1]):(d=u.bdPos,b=u.bdPos);var w=a.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?P.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(C){var y=g.c2l(C.pos+T,!0),E=g.l2p(y-d)+c,A=g.l2p(y+b)+c,o=h?(E+A)/2:g.l2p(y)+c,M=l.c2p(C.mean,!0),x=l.c2p(C.mean-C.sd,!0),I=l.c2p(C.mean+C.sd,!0);f.orientation==="h"?m.select(this).attr("d","M"+M+","+E+"V"+A+(i==="sd"?"m0,0L"+x+","+o+"L"+M+","+E+"L"+I+","+o+"Z":"")):m.select(this).attr("d","M"+E+","+M+"H"+A+(i==="sd"?"m0,0L"+o+","+x+"L"+E+","+M+"L"+o+","+I+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(G){G.exports=function(e,m){var P=e.cd,s=e.xaxis,L=e.yaxis,S=[],v,p;if(m===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=s.c2p(r.x),a=L.c2p(r.y);m.contains([t,a],null,r.i,e)?(S.push({pointNumber:r.i,x:s.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return S}},25776:function(G,H,e){var m=e(33428),P=e(76308),s=e(43616);function L(v,p,r){var t=r||m.select(v).selectAll("g.trace.boxes");t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var n=m.select(this),f=a[0].trace,u=f.line.width;function l(T,c,i,d){T.style("stroke-width",c+"px").call(P.stroke,i).call(P.fill,d)}var g=n.selectAll("path.box");if(f.type==="candlestick")g.each(function(T){if(!T.empty){var c=m.select(this),i=f[T.dir];l(c,i.line.width,i.line.color,i.fillcolor),c.style("opacity",f.selectedpoints&&!T.selected?.3:1)}});else{l(g,u,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(P.stroke,f.line.color);var h=n.selectAll("path.point");s.pointStyle(h,f,v)}})}function S(v,p,r){var t=p[0].trace,a=r.selectAll("path.point");t.selectedpoints?s.selectedPointStyle(a,t):s.pointStyle(a,t,v)}G.exports={style:L,styleOnSelect:S}},64216:function(G,H,e){var m=e(3400).extendFlat,P=e(29736).axisHoverFormat,s=e(20279),L=e(63188);function S(v){return{line:{color:m({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}G.exports={xperiod:s.xperiod,xperiod0:s.xperiod0,xperiodalignment:s.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:s.x,open:s.open,high:s.high,low:s.low,close:s.close,line:{width:m({},L.line.width,{}),editType:"style"},increasing:S(s.increasing.line.color.dflt),decreasing:S(s.decreasing.line.color.dflt),text:s.text,hovertext:s.hovertext,whiskerwidth:m({},L.whiskerwidth,{dflt:0}),hoverlabel:s.hoverlabel,zorder:L.zorder}},46283:function(G,H,e){var m=e(3400),P=e(54460),s=e(1220),L=e(42812).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),a=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),f=s(p,t,"x",n).vals,u=L(v,p,n,f,a,S);return u.length?(m.extendFlat(u[0].t,{num:r._numBoxes,dPos:m.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function S(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(G,H,e){var m=e(3400),P=e(76308),s=e(52744),L=e(31147),S=e(64216);G.exports=function(r,t,a,n){function f(l,g){return m.coerce(r,t,S,l,g)}var u=s(r,t,f,n);if(!u){t.visible=!1;return}L(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,f("zorder")};function v(p,r,t,a){var n=t(a+".line.color");t(a+".line.width",r.line.width),t(a+".fillcolor",P.addOpacity(n,.5))}},61712:function(G,H,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(G,H,e){var m=e(63856),P=e(31780);G.exports=function(S,v,p,r,t){var a=r("a");a||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),s(S,v,p,t)};function s(L,S,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var a=t.charAt(0),n=L[t]||{},f=P.newContainer(S,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:a+"axis",letter:a,font:S.font,name:t,data:L[a],calendar:S.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};m(n,f,u),f._categories=f._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},51676:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(s){return P(s,0)};function P(s,L){if(!m(s)||L>=10)return null;for(var S=1/0,v=-1/0,p=s.length,r=0;r<p;r++){var t=s[r];if(m(t)){var a=P(t,L+1);a&&(S=Math.min(a[0],S),v=Math.max(a[1],v))}else S=Math.min(t,S),v=Math.max(t,v)}return[S,v]}},85720:function(G,H,e){var m=e(25376),P=e(98692),s=e(22548),L=m({editType:"calc"}),S=e(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=s.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:s.defaultLine,editType:"plot"},transforms:void 0,zorder:S}},77712:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(P,s,L,S){var v,p,r,t,a,n,f,u,l,g,h,T,c,i=m(L)?"a":"b",d=i==="a"?P.aaxis:P.baxis,b=d.smoothing,w=i==="a"?P.a2i:P.b2j,C=i==="a"?L:S,y=i==="a"?S:L,E=i==="a"?s.a.length:s.b.length,A=i==="a"?s.b.length:s.a.length,o=Math.floor(i==="a"?P.b2j(y):P.a2i(y)),M=i==="a"?function(re){return P.evalxy([],re,o)}:function(re){return P.evalxy([],o,re)};b&&(r=Math.max(0,Math.min(A-2,o)),t=o-r,p=i==="a"?function(re,ne){return P.dxydi([],re,r,ne,t)}:function(re,ne){return P.dxydj([],r,re,t,ne)});var x=w(C[0]),I=w(C[1]),D=x<I?1:-1,N=(I-x)*1e-8,k=D>0?Math.floor:Math.ceil,O=D>0?Math.ceil:Math.floor,F=D>0?Math.min:Math.max,z=D>0?Math.max:Math.min,B=k(x+N),W=O(I-N);f=M(x);var J=[[f]];for(v=B;v*D<W*D;v+=D)a=[],h=z(x,v),T=F(I,v+D),c=T-h,n=Math.max(0,Math.min(E-2,Math.floor(.5*(h+T)))),u=M(T),b&&(l=p(n,h-n),g=p(n,T-n),a.push([f[0]+l[0]/3*c,f[1]+l[1]/3*c]),a.push([u[0]-g[0]/3*c,u[1]-g[1]/3*c])),a.push(u),J.push(a),f=u;return J}},98692:function(G,H,e){var m=e(25376),P=e(22548),s=e(94724),L=e(29736).descriptionWithDates,S=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:m({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:s.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},s.labelalias,{editType:"calc"}),tickfont:m({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:S(s.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:m({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(G,H,e){var m=e(85720),P=e(76308).addOpacity,s=e(24040),L=e(3400),S=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),a=e(52976);G.exports=function(u,l,g){var h=g.letter,T=g.font||{},c=m[h+"axis"];function i(B,W){return L.coerce(u,l,c,B,W)}function d(B,W){return L.coerce2(u,l,c,B,W)}g.name&&(l._name=g.name,l._id=g.name),i("autotypenumbers",g.autotypenumbersDflt);var b=i("type");if(b==="-"&&(g.data&&n(l,g.data),l.type==="-"?l.type="linear":b=u.type=l.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",h+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),l.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),l._hovertitle=h,b==="date"){var w=s.getComponentMethod("calendars","handleDefaults");w(u,l,"calendar",g.calendar)}t(l,g.fullLayout),l.c2p=L.identity;var C=i("color",g.dfltColor),y=C===u.color?C:T.color,E=i("title.text");E&&(L.coerceFont(i,"title.font",T,{overrideDflt:{size:L.bigFont(T.size),color:y}}),i("title.offset")),i("tickangle");var A=i("autorange",!l.isValidRange(u.range));A&&i("rangemode"),i("range"),l.cleanRange(),i("fixedrange"),S(u,l,i,b),p(u,l,i,b,g),v(u,l,i,b,g),r(u,l,i,{data:g.data,dataAttr:h});var o=d("gridcolor",P(C,.3)),M=d("gridwidth"),x=d("griddash"),I=i("showgrid");I||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var D=d("startlinecolor",C),N=d("startlinewidth",M),k=i("startline",l.showgrid||!!D||!!N);k||(delete l.startlinecolor,delete l.startlinewidth);var O=d("endlinecolor",C),F=d("endlinewidth",M),z=i("endline",l.showgrid||!!O||!!F);return z||(delete l.endlinecolor,delete l.endlinewidth),I?(i("minorgridcount"),i("minorgridwidth",M),i("minorgriddash",x),i("minorgridcolor",P(o,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,i("tickmode"),l};function n(f,u){if(f.type==="-"){var l=f._id,g=l.charAt(0),h=g+"calendar",T=f[h];f.type=a(u,T,{autotypenumbers:f.autotypenumbers})}}},58744:function(G,H,e){var m=e(54460),P=e(3400).isArray1D,s=e(60776),L=e(51676),S=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),a=e(2872),n=e(81e3);G.exports=function(u,l){var g=m.getFromId(u,l.xaxis),h=m.getFromId(u,l.yaxis),T=l.aaxis,c=l.baxis,i=l.x,d=l.y,b=[];i&&P(i)&&b.push("x"),d&&P(d)&&b.push("y"),b.length&&a(l,T,c,"a","b",b);var w=l._a=l._a||l.a,C=l._b=l._b||l.b;i=l._x||l.x,d=l._y||l.y;var y={};if(l._cheater){var E=T.cheatertype==="index"?w.length:w,A=c.cheatertype==="index"?C.length:C;i=s(E,A,l.cheaterslope)}l._x=i=r(i),l._y=d=r(d),t(i,w,C),t(d,w,C),n(l),l.setScale();var o=L(i),M=L(d),x=.5*(o[1]-o[0]),I=.5*(o[1]+o[0]),D=.5*(M[1]-M[0]),N=.5*(M[1]+M[0]),k=1.3;return o=[I-x*k,I+x*k],M=[N-D*k,N+D*k],l._extremes[g._id]=m.findExtremes(g,o,{padded:!0}),l._extremes[h._id]=m.findExtremes(h,M,{padded:!0}),S(l,"a","b"),S(l,"b","a"),v(l,T),v(l,c),y.clipsegments=p(l._xctrl,l._yctrl,T,c),y.x=i,y.y=d,y.a=w,y.b=C,[y]}},24944:function(G){G.exports=function(e,m,P,s){var L,S,v,p=[],r=!!P.smoothing,t=!!s.smoothing,a=e[0].length-1,n=e.length-1;for(L=0,S=[],v=[];L<=a;L++)S[L]=e[0][L],v[L]=m[0][L];for(p.push({x:S,y:v,bicubic:r}),L=0,S=[],v=[];L<=n;L++)S[L]=e[L][a],v[L]=m[L][a];for(p.push({x:S,y:v,bicubic:t}),L=a,S=[],v=[];L>=0;L--)S[a-L]=e[n][L],v[a-L]=m[n][L];for(p.push({x:S,y:v,bicubic:r}),L=n,S=[],v=[];L>=0;L--)S[n-L]=e[L][0],v[n-L]=m[L][0];return p.push({x:S,y:v,bicubic:t}),p}},19216:function(G,H,e){var m=e(54460),P=e(92880).extendFlat;G.exports=function(L,S,v){var p,r,t,a,n,f,u,l,g,h,T,c,i,d,b=L["_"+S],w=L[S+"axis"],C=w._gridlines=[],y=w._minorgridlines=[],E=w._boundarylines=[],A=L["_"+v],o=L[v+"axis"];w.tickmode==="array"&&(w.tickvals=b.slice());var M=L._xctrl,x=L._yctrl,I=M[0].length,D=M.length,N=L._a.length,k=L._b.length;m.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var O=w.smoothing?3:1;function F(B){var W,J,re,ne,le,$,Z,ie,X,Q,oe,j,Y=[],se=[],te={};if(S==="b")for(J=L.b2j(B),re=Math.floor(Math.max(0,Math.min(k-2,J))),ne=J-re,te.length=k,te.crossLength=N,te.xy=function(fe){return L.evalxy([],fe,J)},te.dxy=function(fe,ge){return L.dxydi([],fe,re,ge,ne)},W=0;W<N;W++)$=Math.min(N-2,W),Z=W-$,ie=L.evalxy([],W,J),o.smoothing&&W>0&&(X=L.dxydi([],W-1,re,0,ne),Y.push(le[0]+X[0]/3),se.push(le[1]+X[1]/3),Q=L.dxydi([],W-1,re,1,ne),Y.push(ie[0]-Q[0]/3),se.push(ie[1]-Q[1]/3)),Y.push(ie[0]),se.push(ie[1]),le=ie;else for(W=L.a2i(B),$=Math.floor(Math.max(0,Math.min(N-2,W))),Z=W-$,te.length=N,te.crossLength=k,te.xy=function(fe){return L.evalxy([],W,fe)},te.dxy=function(fe,ge){return L.dxydj([],$,fe,Z,ge)},J=0;J<k;J++)re=Math.min(k-2,J),ne=J-re,ie=L.evalxy([],W,J),o.smoothing&&J>0&&(oe=L.dxydj([],$,J-1,Z,0),Y.push(le[0]+oe[0]/3),se.push(le[1]+oe[1]/3),j=L.dxydj([],$,J-1,Z,1),Y.push(ie[0]-j[0]/3),se.push(ie[1]-j[1]/3)),Y.push(ie[0]),se.push(ie[1]),le=ie;return te.axisLetter=S,te.axis=w,te.crossAxis=o,te.value=B,te.constvar=v,te.index=l,te.x=Y,te.y=se,te.smoothing=o.smoothing,te}function z(B){var W,J,re,ne,le,$=[],Z=[],ie={};if(ie.length=b.length,ie.crossLength=A.length,S==="b")for(re=Math.max(0,Math.min(k-2,B)),le=Math.min(1,Math.max(0,B-re)),ie.xy=function(X){return L.evalxy([],X,B)},ie.dxy=function(X,Q){return L.dxydi([],X,re,Q,le)},W=0;W<I;W++)$[W]=M[B*O][W],Z[W]=x[B*O][W];else for(J=Math.max(0,Math.min(N-2,B)),ne=Math.min(1,Math.max(0,B-J)),ie.xy=function(X){return L.evalxy([],B,X)},ie.dxy=function(X,Q){return L.dxydj([],J,X,ne,Q)},W=0;W<D;W++)$[W]=M[W][B*O],Z[W]=x[W][B*O];return ie.axisLetter=S,ie.axis=w,ie.crossAxis=o,ie.value=b[B],ie.constvar=v,ie.index=B,ie.x=$,ie.y=Z,ie.smoothing=o.smoothing,ie}if(w.tickmode==="array"){for(a=5e-15,n=[Math.floor((b.length-1-w.arraytick0)/w.arraydtick*(1+a)),Math.ceil(-w.arraytick0/w.arraydtick/(1+a))].sort(function(B,W){return B-W}),f=n[0]-1,u=n[1]+1,l=f;l<u;l++)r=w.arraytick0+w.arraydtick*l,!(r<0||r>b.length-1)&&C.push(P(z(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f;l<u;l++)if(t=w.arraytick0+w.arraydtick*l,T=Math.min(t+w.arraydtick,b.length-1),!(t<0||t>b.length-1)&&!(T<0||T>b.length-1))for(c=b[t],i=b[T],p=0;p<w.minorgridcount;p++)d=T-t,!(d<=0)&&(h=c+(i-c)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(h<b[0]||h>b[b.length-1])&&y.push(P(F(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&E.push(P(z(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&E.push(P(z(b.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(a=5e-15,n=[Math.floor((b[b.length-1]-w.tick0)/w.dtick*(1+a)),Math.ceil((b[0]-w.tick0)/w.dtick/(1+a))].sort(function(B,W){return B-W}),f=n[0],u=n[1],l=f;l<=u;l++)g=w.tick0+w.dtick*l,C.push(P(F(g),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f-1;l<u+1;l++)for(g=w.tick0+w.dtick*l,p=0;p<w.minorgridcount;p++)h=g+w.dtick*(p+1)/(w.minorgridcount+1),!(h<b[0]||h>b[b.length-1])&&y.push(P(F(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&E.push(P(F(b[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&E.push(P(F(b[b.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(G,H,e){var m=e(54460),P=e(92880).extendFlat;G.exports=function(L,S){var v,p,r,t,a,n=S._labels=[],f=S._gridlines;for(v=0;v<f.length;v++)a=f[v],["start","both"].indexOf(S.showticklabels)!==-1&&(p=m.tickText(S,a.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p)),["end","both"].indexOf(S.showticklabels)!==-1&&(p=m.tickText(S,a.value),P(p,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p))}},62284:function(G){var H=.5;G.exports=function(m,P,s,L){var S=m[0]-P[0],v=m[1]-P[1],p=s[0]-P[0],r=s[1]-P[1],t=Math.pow(S*S+v*v,H/2),a=Math.pow(p*p+r*r,H/2),n=(a*a*S-t*t*p)*L,f=(a*a*v-t*t*r)*L,u=a*(t+a)*3,l=t*(t+a)*3;return[[P[0]+(u&&n/u),P[1]+(u&&f/u)],[P[0]-(l&&n/l),P[1]-(l&&f/l)]]}},60776:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(P,s,L){var S,v,p,r,t,a,n=[],f=m(P)?P.length:P,u=m(s)?s.length:s,l=m(P)?P:null,g=m(s)?s:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(u-1));var h,T=1/0,c=-1/0;for(v=0;v<u;v++)for(n[v]=[],a=g?(g[v]-g[0])*r:v/(u-1),S=0;S<f;S++)t=l?(l[S]-l[0])*p:S/(f-1),h=t-a*L,T=Math.min(h,T),c=Math.max(h,c),n[v][S]=h;var i=1/(c-T),d=-T*i;for(v=0;v<u;v++)for(S=0;S<f;S++)n[v][S]=i*n[v][S]+d;return n}},30180:function(G,H,e){var m=e(62284),P=e(3400).ensureArray;function s(L,S,v){var p=-.5*v[0]+1.5*S[0],r=-.5*v[1]+1.5*S[1];return[(2*p+L[0])/3,(2*r+L[1])/3]}G.exports=function(S,v,p,r,t,a){var n,f,u,l,g,h,T,c,i,d,b=p[0].length,w=p.length,C=t?3*b-2:b,y=a?3*w-2:w;for(S=P(S,y),v=P(v,y),u=0;u<y;u++)S[u]=P(S[u],C),v[u]=P(v[u],C);for(f=0,l=0;f<w;f++,l+=a?3:1)for(g=S[l],h=v[l],T=p[f],c=r[f],n=0,u=0;n<b;n++,u+=t?3:1)g[u]=T[n],h[u]=c[n];if(t)for(f=0,l=0;f<w;f++,l+=a?3:1){for(n=1,u=3;n<b-1;n++,u+=3)i=m([p[f][n-1],r[f][n-1]],[p[f][n],r[f][n]],[p[f][n+1],r[f][n+1]],t),S[l][u-1]=i[0][0],v[l][u-1]=i[0][1],S[l][u+1]=i[1][0],v[l][u+1]=i[1][1];d=s([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=d[0],v[l][1]=d[1],d=s([S[l][C-1],v[l][C-1]],[S[l][C-3],v[l][C-3]],[S[l][C-4],v[l][C-4]]),S[l][C-2]=d[0],v[l][C-2]=d[1]}if(a)for(u=0;u<C;u++){for(l=3;l<y-3;l+=3)i=m([S[l-3][u],v[l-3][u]],[S[l][u],v[l][u]],[S[l+3][u],v[l+3][u]],a),S[l-1][u]=i[0][0],v[l-1][u]=i[0][1],S[l+1][u]=i[1][0],v[l+1][u]=i[1][1];d=s([S[0][u],v[0][u]],[S[2][u],v[2][u]],[S[3][u],v[3][u]]),S[1][u]=d[0],v[1][u]=d[1],d=s([S[y-1][u],v[y-1][u]],[S[y-3][u],v[y-3][u]],[S[y-4][u],v[y-4][u]]),S[y-2][u]=d[0],v[y-2][u]=d[1]}if(t&&a)for(l=1;l<y;l+=(l+1)%3===0?2:1){for(u=3;u<C-3;u+=3)i=m([S[l][u-3],v[l][u-3]],[S[l][u],v[l][u]],[S[l][u+3],v[l][u+3]],t),S[l][u-1]=.5*(S[l][u-1]+i[0][0]),v[l][u-1]=.5*(v[l][u-1]+i[0][1]),S[l][u+1]=.5*(S[l][u+1]+i[1][0]),v[l][u+1]=.5*(v[l][u+1]+i[1][1]);d=s([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=.5*(S[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=s([S[l][C-1],v[l][C-1]],[S[l][C-3],v[l][C-3]],[S[l][C-4],v[l][C-4]]),S[l][C-2]=.5*(S[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[S,v]}},24588:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(G){G.exports=function(H,e,m){return e&&m?function(P,s,L,S,v){P||(P=[]);var p,r,t,a,n,f;s*=3,L*=3;var u=S*S,l=1-S,g=l*l,h=l*S*2,T=-3*g,c=3*(g-h),i=3*(h-u),d=3*u,b=v*v,w=b*v,C=1-v,y=C*C,E=y*C;for(f=0;f<H.length;f++)n=H[f],p=T*n[L][s]+c*n[L][s+1]+i*n[L][s+2]+d*n[L][s+3],r=T*n[L+1][s]+c*n[L+1][s+1]+i*n[L+1][s+2]+d*n[L+1][s+3],t=T*n[L+2][s]+c*n[L+2][s+1]+i*n[L+2][s+2]+d*n[L+2][s+3],a=T*n[L+3][s]+c*n[L+3][s+1]+i*n[L+3][s+2]+d*n[L+3][s+3],P[f]=E*p+3*(y*v*r+C*b*t)+w*a;return P}:e?function(P,s,L,S,v){P||(P=[]);var p,r,t,a;s*=3;var n=S*S,f=1-S,u=f*f,l=f*S*2,g=-3*u,h=3*(u-l),T=3*(l-n),c=3*n,i=1-v;for(t=0;t<H.length;t++)a=H[t],p=g*a[L][s]+h*a[L][s+1]+T*a[L][s+2]+c*a[L][s+3],r=g*a[L+1][s]+h*a[L+1][s+1]+T*a[L+1][s+2]+c*a[L+1][s+3],P[t]=i*p+v*r;return P}:m?function(P,s,L,S,v){P||(P=[]);var p,r,t,a,n,f;L*=3;var u=v*v,l=u*v,g=1-v,h=g*g,T=h*g;for(n=0;n<H.length;n++)f=H[n],p=f[L][s+1]-f[L][s],r=f[L+1][s+1]-f[L+1][s],t=f[L+2][s+1]-f[L+2][s],a=f[L+3][s+1]-f[L+3][s],P[n]=T*p+3*(h*v*r+g*u*t)+l*a;return P}:function(P,s,L,S,v){P||(P=[]);var p,r,t,a,n=1-v;for(t=0;t<H.length;t++)a=H[t],p=a[L][s+1]-a[L][s],r=a[L+1][s+1]-a[L+1][s],P[t]=n*p+v*r;return P}}},24464:function(G){G.exports=function(H,e,m){return e&&m?function(P,s,L,S,v){P||(P=[]);var p,r,t,a,n,f;s*=3,L*=3;var u=S*S,l=u*S,g=1-S,h=g*g,T=h*g,c=v*v,i=1-v,d=i*i,b=i*v*2,w=-3*d,C=3*(d-b),y=3*(b-c),E=3*c;for(f=0;f<H.length;f++)n=H[f],p=w*n[L][s]+C*n[L+1][s]+y*n[L+2][s]+E*n[L+3][s],r=w*n[L][s+1]+C*n[L+1][s+1]+y*n[L+2][s+1]+E*n[L+3][s+1],t=w*n[L][s+2]+C*n[L+1][s+2]+y*n[L+2][s+2]+E*n[L+3][s+2],a=w*n[L][s+3]+C*n[L+1][s+3]+y*n[L+2][s+3]+E*n[L+3][s+3],P[f]=T*p+3*(h*S*r+g*u*t)+l*a;return P}:e?function(P,s,L,S,v){P||(P=[]);var p,r,t,a,n,f;s*=3;var u=v*v,l=u*v,g=1-v,h=g*g,T=h*g;for(n=0;n<H.length;n++)f=H[n],p=f[L+1][s]-f[L][s],r=f[L+1][s+1]-f[L][s+1],t=f[L+1][s+2]-f[L][s+2],a=f[L+1][s+3]-f[L][s+3],P[n]=T*p+3*(h*v*r+g*u*t)+l*a;return P}:m?function(P,s,L,S,v){P||(P=[]);var p,r,t,a;L*=3;var n=1-S,f=v*v,u=1-v,l=u*u,g=u*v*2,h=-3*l,T=3*(l-g),c=3*(g-f),i=3*f;for(t=0;t<H.length;t++)a=H[t],p=h*a[L][s]+T*a[L+1][s]+c*a[L+2][s]+i*a[L+3][s],r=h*a[L][s+1]+T*a[L+1][s+1]+c*a[L+2][s+1]+i*a[L+3][s+1],P[t]=n*p+S*r;return P}:function(P,s,L,S,v){P||(P=[]);var p,r,t,a,n=1-S;for(t=0;t<H.length;t++)a=H[t],p=a[L+1][s]-a[L][s],r=a[L+1][s+1]-a[L][s+1],P[t]=n*p+S*r;return P}}},29056:function(G){G.exports=function(H,e,m,P,s){var L=e-2,S=m-2;return P&&s?function(v,p,r){v||(v=[]);var t,a,n,f,u,l,g=Math.max(0,Math.min(Math.floor(p),L)),h=Math.max(0,Math.min(Math.floor(r),S)),T=Math.max(0,Math.min(1,p-g)),c=Math.max(0,Math.min(1,r-h));g*=3,h*=3;var i=T*T,d=i*T,b=1-T,w=b*b,C=w*b,y=c*c,E=y*c,A=1-c,o=A*A,M=o*A;for(l=0;l<H.length;l++)u=H[l],t=C*u[h][g]+3*(w*T*u[h][g+1]+b*i*u[h][g+2])+d*u[h][g+3],a=C*u[h+1][g]+3*(w*T*u[h+1][g+1]+b*i*u[h+1][g+2])+d*u[h+1][g+3],n=C*u[h+2][g]+3*(w*T*u[h+2][g+1]+b*i*u[h+2][g+2])+d*u[h+2][g+3],f=C*u[h+3][g]+3*(w*T*u[h+3][g+1]+b*i*u[h+3][g+2])+d*u[h+3][g+3],v[l]=M*t+3*(o*c*a+A*y*n)+E*f;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-a)),u,l,g,h,T,c;t*=3;var i=n*n,d=i*n,b=1-n,w=b*b,C=w*b,y=1-f;for(T=0;T<H.length;T++)c=H[T],u=y*c[a][t]+f*c[a+1][t],l=y*c[a][t+1]+f*c[a+1][t+1],g=y*c[a][t+2]+f*c[a+1][t+1],h=y*c[a][t+3]+f*c[a+1][t+1],v[T]=C*u+3*(w*n*l+b*i*g)+d*h;return v}:s?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-a)),u,l,g,h,T,c;a*=3;var i=f*f,d=i*f,b=1-f,w=b*b,C=w*b,y=1-n;for(T=0;T<H.length;T++)c=H[T],u=y*c[a][t]+n*c[a][t+1],l=y*c[a+1][t]+n*c[a+1][t+1],g=y*c[a+2][t]+n*c[a+2][t+1],h=y*c[a+3][t]+n*c[a+3][t+1],v[T]=C*u+3*(w*f*l+b*i*g)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-a)),u,l,g,h,T=1-f,c=1-n;for(g=0;g<H.length;g++)h=H[g],u=c*h[a][t]+n*h[a][t+1],l=c*h[a+1][t]+n*h[a+1][t+1],v[g]=T*u+f*l;return v}}},38356:function(G,H,e){var m=e(3400),P=e(86411),s=e(93504),L=e(85720),S=e(22548);G.exports=function(p,r,t,a){function n(l,g){return m.coerce(p,r,L,l,g)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",S.defaultLine);if(m.coerceFont(n,"font",a.font),n("carpet"),s(p,r,a,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=P(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(G,H,e){G.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(G){G.exports=function(H,e){for(var m=H._fullData.length,P,s=0;s<m;s++){var L=H._fullData[s];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},53416:function(G){G.exports=function(e,m,P){if(e.length===0)return"";var s,L=[],S=P?3:1;for(s=0;s<e.length;s+=S)L.push(e[s]+","+m[s]),P&&s<e.length-S&&(L.push("C"),L.push([e[s+1]+","+m[s+1],e[s+2]+","+m[s+2]+" "].join(" ")));return L.join(P?"":"L")}},87072:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(s,L,S){var v;for(m(s)?s.length>L.length&&(s=s.slice(0,L.length)):s=[],v=0;v<L.length;v++)s[v]=S(L[v]);return s}},15584:function(G){G.exports=function(e,m,P,s,L,S){var v=L[0]*e.dpdx(m),p=L[1]*e.dpdy(P),r=1,t=1;if(S){var a=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(S[0]*S[0]+S[1]*S[1]),f=(L[0]*S[0]+L[1]*S[1])/a/n;t=Math.max(0,f)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(s,m,P),offsetMultplier:t}}},164:function(G,H,e){var m=e(33428),P=e(43616),s=e(87072),L=e(53416),S=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,a=e(84284);G.exports=function(i,d,b,w){var C=i._context.staticPlot,y=d.xaxis,E=d.yaxis,A=i._fullLayout,o=A._clips;p.makeTraceGroups(w,b,"trace").each(function(M){var x=m.select(this),I=M[0],D=I.trace,N=D.aaxis,k=D.baxis,O=p.ensureSingle(x,"g","minorlayer"),F=p.ensureSingle(x,"g","majorlayer"),z=p.ensureSingle(x,"g","boundarylayer"),B=p.ensureSingle(x,"g","labellayer");x.style("opacity",D.opacity),f(y,E,F,N,"a",N._gridlines,!0),f(y,E,F,k,"b",k._gridlines,!0),f(y,E,O,N,"a",N._minorgridlines,!0),f(y,E,O,k,"b",k._minorgridlines,!0),f(y,E,z,N,"a-boundary",N._boundarylines,C),f(y,E,z,k,"b-boundary",k._boundarylines,C);var W=u(i,y,E,D,I,B,N._labels,"a-label"),J=u(i,y,E,D,I,B,k._labels,"b-label");l(i,B,D,I,y,E,W,J),n(D,I,o,y,E)})};function n(c,i,d,b,w){var C,y,E,A,o=d.select("#"+c._clipPathId);o.size()||(o=d.append("clipPath").classed("carpetclip",!0));var M=p.ensureSingle(o,"path","carpetboundary"),x=i.clipsegments,I=[];for(A=0;A<x.length;A++)C=x[A],y=s([],C.x,b.c2p),E=s([],C.y,w.c2p),I.push(L(y,E,C.bicubic));var D="M"+I.join("L")+"Z";o.attr("id",c._clipPathId),M.attr("d",D)}function f(c,i,d,b,w,C,y){var E="const-"+w+"-lines",A=d.selectAll("."+E).data(C);A.enter().append("path").classed(E,!0).style("vector-effect",y?"none":"non-scaling-stroke"),A.each(function(o){var M=o,x=M.x,I=M.y,D=s([],x,c.c2p),N=s([],I,i.c2p),k="M"+L(D,N,M.smoothing),O=m.select(this);O.attr("d",k).style("stroke-width",M.width).style("stroke",M.color).style("stroke-dasharray",P.dashStyle(M.dash,M.width)).style("fill","none")}),A.exit().remove()}function u(c,i,d,b,w,C,y,E){var A=C.selectAll("text."+E).data(y);A.enter().append("text").classed(E,!0);var o=0,M={};return A.each(function(x,I){var D;if(x.axis.tickangle==="auto")D=S(b,i,d,x.xy,x.dxy);else{var N=(x.axis.tickangle+180)*Math.PI/180;D=S(b,i,d,x.xy,[Math.cos(N),Math.sin(N)])}I||(M={angle:D.angle,flip:D.flip});var k=(x.endAnchor?-1:1)*D.flip,O=m.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(P.font,x.font).text(x.text).call(v.convertToTspans,c),F=P.bBox(this);O.attr("transform",t(D.p[0],D.p[1])+r(D.angle)+t(x.axis.labelpadding*k,F.height*.3)),o=Math.max(o,F.width+x.axis.labelpadding)}),A.exit().remove(),M.maxExtent=o,M}function l(c,i,d,b,w,C,y,E){var A,o,M,x,I=p.aggNums(Math.min,null,d.a),D=p.aggNums(Math.max,null,d.a),N=p.aggNums(Math.min,null,d.b),k=p.aggNums(Math.max,null,d.b);A=.5*(I+D),o=N,M=d.ab2xy(A,o,!0),x=d.dxyda_rough(A,o),y.angle===void 0&&p.extendFlat(y,S(d,w,C,M,d.dxydb_rough(A,o))),T(c,i,d,b,M,x,d.aaxis,w,C,y,"a-title"),A=I,o=.5*(N+k),M=d.ab2xy(A,o,!0),x=d.dxydb_rough(A,o),E.angle===void 0&&p.extendFlat(E,S(d,w,C,M,d.dxyda_rough(A,o))),T(c,i,d,b,M,x,d.baxis,w,C,E,"b-title")}var g=a.LINE_SPACING,h=(1-a.MID_SHIFT)/g+1;function T(c,i,d,b,w,C,y,E,A,o,M){var x=[];y.title.text&&x.push(y.title.text);var I=i.selectAll("text."+M).data(x),D=o.maxExtent;I.enter().append("text").classed(M,!0),I.each(function(){var N=S(d,E,A,w,C);["start","both"].indexOf(y.showticklabels)===-1&&(D=0);var k=y.title.font.size;D+=k+y.title.offset;var O=o.angle+(o.flip<0?180:0),F=(O-N.angle+450)%360,z=F>90&&F<270,B=m.select(this);B.text(y.title.text).call(v.convertToTspans,c),z&&(D=(-v.lineCount(B)+h)*g*k-D),B.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,D)).attr("text-anchor","middle").call(P.font,y.title.font)}),I.exit().remove()}},81e3:function(G,H,e){var m=e(24588),P=e(14952).findBin,s=e(30180),L=e(29056),S=e(26435),v=e(24464);G.exports=function(r){var t=r._a,a=r._b,n=t.length,f=a.length,u=r.aaxis,l=r.baxis,g=t[0],h=t[n-1],T=a[0],c=a[f-1],i=t[t.length-1]-t[0],d=a[a.length-1]-a[0],b=i*m.RELATIVE_CULL_TOLERANCE,w=d*m.RELATIVE_CULL_TOLERANCE;g-=b,h+=b,T-=w,c+=w,r.isVisible=function(C,y){return C>g&&C<h&&y>T&&y<c},r.isOccluded=function(C,y){return C<g||C>h||y<T||y>c},r.setScale=function(){var C=r._x,y=r._y,E=s(r._xctrl,r._yctrl,C,y,u.smoothing,l.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=L([r._xctrl,r._yctrl],n,f,u.smoothing,l.smoothing),r.dxydi=S([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(C){var y=Math.max(0,Math.floor(C[0]),n-2),E=C[0]-y;return(1-E)*t[y]+E*t[y+1]},r.j2b=function(C){var y=Math.max(0,Math.floor(C[1]),n-2),E=C[1]-y;return(1-E)*a[y]+E*a[y+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var y=Math.max(0,Math.min(P(C,t),n-2)),E=t[y],A=t[y+1];return Math.max(0,Math.min(n-1,y+(C-E)/(A-E)))},r.b2j=function(C){var y=Math.max(0,Math.min(P(C,a),f-2)),E=a[y],A=a[y+1];return Math.max(0,Math.min(f-1,y+(C-E)/(A-E)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,y){return r.evalxy([],C,y)},r.ab2xy=function(C,y,E){if(!E&&(C<t[0]||C>t[n-1]|y<a[0]||y>a[f-1]))return[!1,!1];var A=r.a2i(C),o=r.b2j(y),M=r.evalxy([],A,o);if(E){var x=0,I=0,D=[],N,k,O,F;C<t[0]?(N=0,k=0,x=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(N=n-2,k=1,x=(C-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(A))),k=A-N),y<a[0]?(O=0,F=0,I=(y-a[0])/(a[1]-a[0])):y>a[f-1]?(O=f-2,F=1,I=(y-a[f-1])/(a[f-1]-a[f-2])):(O=Math.max(0,Math.min(f-2,Math.floor(o))),F=o-O),x&&(r.dxydi(D,N,O,k,F),M[0]+=D[0]*x,M[1]+=D[1]*x),I&&(r.dxydj(D,N,O,k,F),M[0]+=D[0]*I,M[1]+=D[1]*I)}return M},r.c2p=function(C,y,E){return[y.c2p(C[0]),E.c2p(C[1])]},r.p2x=function(C,y,E){return[y.p2c(C[0]),E.p2c(C[1])]},r.dadi=function(C){var y=Math.max(0,Math.min(t.length-2,C));return t[y+1]-t[y]},r.dbdj=function(C){var y=Math.max(0,Math.min(a.length-2,C));return a[y+1]-a[y]},r.dxyda=function(C,y,E,A){var o=r.dxydi(null,C,y,E,A),M=r.dadi(C,E);return[o[0]/M,o[1]/M]},r.dxydb=function(C,y,E,A){var o=r.dxydj(null,C,y,E,A),M=r.dbdj(y,A);return[o[0]/M,o[1]/M]},r.dxyda_rough=function(C,y,E){var A=i*(E||.1),o=r.ab2xy(C+A,y,!0),M=r.ab2xy(C-A,y,!0);return[(o[0]-M[0])*.5/A,(o[1]-M[1])*.5/A]},r.dxydb_rough=function(C,y,E){var A=d*(E||.1),o=r.ab2xy(C,y+A,!0),M=r.ab2xy(C,y-A,!0);return[(o[0]-M[0])*.5/A,(o[1]-M[1])*.5/A]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(G,H,e){var m=e(3400);G.exports=function(s,L,S){var v,p,r,t=[],a=[],n=s[0].length,f=s.length;function u(J,re){var ne=0,le,$=0;return J>0&&(le=s[re][J-1])!==void 0&&($++,ne+=le),J<n-1&&(le=s[re][J+1])!==void 0&&($++,ne+=le),re>0&&(le=s[re-1][J])!==void 0&&($++,ne+=le),re<f-1&&(le=s[re+1][J])!==void 0&&($++,ne+=le),ne/Math.max(1,$)}var l=0;for(v=0;v<n;v++)for(p=0;p<f;p++)s[p][v]===void 0&&(t.push(v),a.push(p),s[p][v]=u(v,p)),l=Math.max(l,Math.abs(s[p][v]));if(!t.length)return s;var g,h,T,c,i,d,b,w,C,y,E,A=1e-5,o=0,M=100,x=0,I=t.length;do{for(o=0,r=0;r<I;r++){v=t[r],p=a[r];var D=0,N=0,k,O,F,z,B,W;v===0?(B=Math.min(n-1,2),F=L[B],z=L[1],k=s[p][B],O=s[p][1],N+=O+(O-k)*(L[0]-z)/(z-F),D++):v===n-1&&(B=Math.max(0,n-3),F=L[B],z=L[n-2],k=s[p][B],O=s[p][n-2],N+=O+(O-k)*(L[n-1]-z)/(z-F),D++),(v===0||v===n-1)&&p>0&&p<f-1&&(g=S[p+1]-S[p],h=S[p]-S[p-1],N+=(h*s[p+1][v]+g*s[p-1][v])/(h+g),D++),p===0?(W=Math.min(f-1,2),F=S[W],z=S[1],k=s[W][v],O=s[1][v],N+=O+(O-k)*(S[0]-z)/(z-F),D++):p===f-1&&(W=Math.max(0,f-3),F=S[W],z=S[f-2],k=s[W][v],O=s[f-2][v],N+=O+(O-k)*(S[f-1]-z)/(z-F),D++),(p===0||p===f-1)&&v>0&&v<n-1&&(g=L[v+1]-L[v],h=L[v]-L[v-1],N+=(h*s[p][v+1]+g*s[p][v-1])/(h+g),D++),D?N/=D:(T=L[v+1]-L[v],c=L[v]-L[v-1],i=S[p+1]-S[p],d=S[p]-S[p-1],b=T*c*(T+c),w=i*d*(i+d),N=(b*(d*s[p+1][v]+i*s[p-1][v])+w*(c*s[p][v+1]+T*s[p][v-1]))/(w*(c+T)+b*(d+i))),C=N-s[p][v],y=C/l,o+=y*y,E=D?0:.85,s[p][v]+=C*(1+E)}o=Math.sqrt(o)}while(x++<M&&o>A);return m.log("Smoother converged to",o,"after",x,"iterations"),s}},86411:function(G,H,e){var m=e(3400).isArray1D;G.exports=function(s,L,S){var v=S("x"),p=v&&v.length,r=S("y"),t=r&&r.length;if(!p&&!t)return!1;if(L._cheater=!v,(!p||m(v))&&(!t||m(r))){var a=p?v.length:1/0;t&&(a=Math.min(a,r.length)),L.a&&L.a.length&&(a=Math.min(a,L.a.length)),L.b&&L.b.length&&(a=Math.min(a,L.b.length)),L._length=a}else L._length=null;return!0}},83372:function(G,H,e){var m=e(21776).Ks,P=e(6096),s=e(49084),L=e(45464),S=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:S}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:m(),showlegend:v({},L.showlegend,{dflt:!1})},s("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(47128),L=e(20148),S=e(4500);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var a=t._length,n=new Array(a),f;t.geojson?f=function(T){return v(T)||m(T)}:f=v;for(var u=0;u<a;u++){var l=n[u]={},g=t.locations[u],h=t.z[u];f(g)&&m(h)?(l.loc=g,l.z=h):(l.loc=null,l.z=P),l.index=u}return L(n,t),s(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),S(n,t),n}},30972:function(G,H,e){var m=e(3400),P=e(27260),s=e(83372);G.exports=function(S,v,p,r){function t(h,T){return m.coerce(S,v,s,h,T)}var a=t("locations"),n=t("z");if(!(a&&a.length&&m.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(a.length,n.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||m.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(S,v,r,t,{prefix:"",cLetter:"z"}),m.coerceSelectionMarkerOpacity(v,t)}},52428:function(G){G.exports=function(e,m,P,s,L){e.location=m.location,e.z=m.z;var S=s[L];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e.ct=S.ct,e}},69224:function(G,H,e){var m=e(54460),P=e(83372),s=e(3400).fillText;G.exports=function(v,p,r){var t=v.cd,a=t[0].trace,n=v.subplot,f,u,l,g,h=[p,r],T=[p+360,r];for(u=0;u<t.length;u++)if(f=t[u],g=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(h)&&(g=!g),f._polygons[l].contains(T)&&(g=!g);if(g)break}if(!(!g||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=m.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,L(v,a,f),[v]};function L(S,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),a=r==="all"?P.hoverinfo.flags:r.split("+"),n=a.indexOf("name")!==-1,f=a.indexOf("location")!==-1,u=a.indexOf("z")!==-1,l=a.indexOf("text")!==-1,g=!n&&f,h=[];g?S.nameOverride=t:(n&&(S.nameOverride=v.name),f&&h.push(t)),u&&h.push(S.zLabel),l&&s(p,v,h),S.extraText=h.join("<br>")}}},54272:function(G,H,e){G.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(G,H,e){var m=e(33428),P=e(3400),s=e(27144),L=e(59972).getTopojsonFeatures,S=e(19280).findExtremes,v=e(7947).style;function p(t,a,n){var f=a.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(f,n,"trace choropleth").each(function(u){var l=m.select(this),g=l.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),v(t,u)})}function r(t,a){for(var n=t[0].trace,f=a[n.geo],u=f._subplot,l=n.locationmode,g=n._length,h=l==="geojson-id"?s.extractTraceFeature(t):L(n,u.topojson),T=[],c=[],i=0;i<g;i++){var d=t[i],b=l==="geojson-id"?d.fOut:s.locationToFeature(l,d.loc,h);if(b){d.geojson=b,d.ct=b.properties.ct,d._polygons=s.feature2polygons(b);var w=s.computeBbox(b);T.push(w[0],w[2]),c.push(w[1],w[3])}else d.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var C=s.computeBbox(s.getTraceGeojson(n));T=[C[0],C[2]],c=[C[1],C[3]]}var y={padded:!0};n._extremes.lon=S(f.lonaxis._ax,T,y),n._extremes.lat=S(f.lataxis._ax,c,y)}G.exports={calcGeoJSON:r,plot:p}},17328:function(G){G.exports=function(e,m){var P=e.cd,s=e.xaxis,L=e.yaxis,S=[],v,p,r,t,a;if(m===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=s.c2p(r),a=L.c2p(r),m.contains([t,a],null,v,e)?(S.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return S}},7947:function(G,H,e){var m=e(33428),P=e(76308),s=e(43616),L=e(8932);function S(r,t){t&&v(r,t)}function v(r,t){var a=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),u=a.marker||{},l=u.line||{},g=L.makeColorScaleFuncFromTrace(a);f.each(function(h){m.select(this).attr("fill",g(h.z)).call(P.stroke,h.mlc||l.color).call(s.dashLine,"",h.mlw||l.width||0).style("opacity",u.opacity)}),s.selectedPointStyle(f,a)}function p(r,t){var a=t[0].node3,n=t[0].trace;n.selectedpoints?s.selectedPointStyle(a.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:S,styleOnSelect:p}},45608:function(G,H,e){var m=e(83372),P=e(49084),s=e(21776).Ks,L=e(45464),S=e(92880).extendFlat;G.exports=S({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:S({},m.featureidkey,{}),below:{valType:"string",editType:"plot"},text:m.text,hovertext:m.hovertext,marker:{line:{color:S({},m.marker.line.color,{editType:"plot"}),width:S({},m.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:S({},m.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:S({},m.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S({},m.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:m.hoverinfo,hovertemplate:s({},{keys:["properties"]}),showlegend:S({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(G,H,e){var m=e(38248),P=e(3400),s=e(8932),L=e(43616),S=e(44808).makeBlank,v=e(27144);function p(t){var a=t[0].trace,n=a.visible===!0&&a._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=a._opts={fill:f,line:u,geojson:S()};if(!n)return l;var g=v.extractTraceFeature(t);if(!g)return l;var h=s.makeColorScaleFuncFromTrace(a),T=a.marker,c=T.line||{},i;P.isArrayOrTypedArray(T.opacity)&&(i=function(o){var M=o.mo;return m(M)?+P.constrain(M,0,1):0});var d;P.isArrayOrTypedArray(c.color)&&(d=function(o){return o.mlc});var b;P.isArrayOrTypedArray(c.width)&&(b=function(o){return o.mlw});for(var w=0;w<t.length;w++){var C=t[w],y=C.fOut;if(y){var E=y.properties;E.fc=h(C.z),i&&(E.mo=i(C)),d&&(E.mlc=d(C)),b&&(E.mlw=b(C)),C.ct=E.ct,C._polygons=v.feature2polygons(y)}}var A=i?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),P.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":b?{type:"identity",property:"mlw"}:c.width,"line-opacity":A}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:g},r(t),l}function r(t){var a=t[0].trace,n=a._opts,f;if(a.selectedpoints){for(var u=L.makeSelectedPointStyleFns(a),l=0;l<t.length;l++){var g=t[l];g.fOut&&(g.fOut.properties.mo2=u.selectedOpacityFn(g))}f={type:"identity",property:"mo2"}}else f=P.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":f}),P.extendFlat(n.line.paint,{"line-opacity":f}),n}G.exports={convert:p,convertOnSelect:r}},9352:function(G,H,e){var m=e(3400),P=e(27260),s=e(45608);G.exports=function(S,v,p,r){function t(l,g){return m.coerce(S,v,s,l,g)}var a=t("locations"),n=t("z"),f=t("geojson");if(!m.isArrayOrTypedArray(a)||!a.length||!m.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||m.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(a.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),P(S,v,r,t,{prefix:"",cLetter:"z"}),m.coerceSelectionMarkerOpacity(v,t)}},85404:function(G,H,e){G.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(m,P){if(P){var s=P[0].trace;s._glTrace.updateOnSelect(P)}},getBelow:function(m,P){for(var s=P.getMapLayers(),L=s.length-2;L>=0;L--){var S=s[L].id;if(typeof S=="string"&&S.indexOf("water")===0){for(var v=L+1;v<s.length;v++)if(S=s[v].id,typeof S=="string"&&S.indexOf("plotly-")===-1)return S}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(G,H,e){var m=e(13504).convert,P=e(13504).convertOnSelect,s=e(47552).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",s+p+"-fill"],["line",s+p+"-line"]],this.below=null}var S=L.prototype;S.update=function(v){this._update(m(v)),v[0].trace._glTrace=this},S.updateOnSelect=function(v){this._update(P(v))},S._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var a=0;a<r.length;a++){var n=r[a],f=n[0],u=n[1],l=v[f];p.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",l.paint)}},S._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,a=this.sourceId,n=0;n<t.length;n++){var f=t[n],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:a,layout:l.layout,paint:l.paint},p)}},S._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},S.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,a=new L(p,t.uid),n=a.sourceId,f=m(r),u=a.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:f.geojson}),a._addLayers(f,u),r[0].trace._glTrace=a,a}},86040:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(p,m("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},83344:function(G,H,e){var m=e(47128);G.exports=function(s,L){for(var S=L.u,v=L.v,p=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,S.length,v.length,p.length),t=-1/0,a=1/0,n=0;n<r;n++){var f=S[n],u=v[n],l=p[n],g=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,g),a=Math.min(a,g)}L._len=r,L._normMax=t,m(s,L,{vals:[a,t],containerStr:"",cLetter:"c"})}},6648:function(G,H,e){var m=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,s=e(3400).simpleMap,L=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(g,h){this.scene=g,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var h=g.index=g.data.index,T=this.data.x[h],c=this.data.y[h],i=this.data.z[h],d=this.data.u[h],b=this.data.v[h],w=this.data.w[h];g.traceCoordinate=[T,c,i,d,b,w,Math.sqrt(d*d+b*b+w*w)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?g.textLabel=C[h]:C&&(g.textLabel=C),!0}};var a={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(g,h){var T=g.fullSceneLayout,c=g.dataScale,i={};function d(E,A){var o=T[A],M=c[a[A]];return s(E,function(x){return o.d2l(x)*M})}i.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),i.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var b=S(h);i.colormap=L(h),i.vertexIntensityBounds=[b.min/h._normMax,b.max/h._normMax],i.coneOffset=n[h.anchor];var w=h.sizemode;w==="scaled"?i.coneSize=h.sizeref||.5:w==="absolute"?i.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:w==="raw"&&(i.coneSize=h.sizeref),i.coneSizemode=w;var C=m(i),y=h.lightposition;return C.lightPosition=[y.x,y.y,y.z],C.ambient=h.lighting.ambient,C.diffuse=h.lighting.diffuse,C.specular=h.lighting.specular,C.roughness=h.lighting.roughness,C.fresnel=h.lighting.fresnel,C.opacity=h.opacity,h._pad=f[h.anchor]*C.vectorScale*C.coneScale*h._normMax,C}t.update=function(g){this.data=g;var h=u(this.scene,g);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(g,h){var T=g.glplot.gl,c=u(g,h),i=P(T,c),d=new r(g,h.uid);return d.mesh=i,d.data=h,i._trace=d,g.glplot.add(i),d}G.exports=l},86096:function(G,H,e){var m=e(3400),P=e(27260),s=e(86040);G.exports=function(S,v,p,r){function t(T,c){return m.coerce(S,v,s,T,c)}var a=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),g=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(G,H,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(m,P){return m.norm=P.traceCoordinate[6],m},meta:{}}},67104:function(G,H,e){var m=e(83328),P=e(52904),s=e(29736),L=s.axisHoverFormat,S=s.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,a=e(69104),n=a.COMPARISON_OPS2,f=a.INTERVAL_OPS,u=P.line;G.exports=t({z:m.z,x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,text:m.text,hovertext:m.hovertext,transpose:m.transpose,xtype:m.xtype,ytype:m.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:m.hovertemplate,texttemplate:t({},m.texttemplate,{}),textfont:t({},m.textfont,{}),hoverongaps:m.hoverongaps,connectgaps:t({},m.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:S("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:P.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(G,H,e){var m=e(8932),P=e(19512),s=e(54444),L=e(46960);G.exports=function(v,p){var r=P(v,p),t=r[0].z;s(p,t);var a=p.contours,n=m.extractOpts(p),f;if(a.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=a.start,l=L(a),g=a.size||1,h=Math.floor((l-u)/g)+1;isFinite(g)||(g=1,h=1);var T=u-g/2,c=T+h*g;f=[T,c]}else f=t;return m.calc(v,p,{vals:f,cLetter:"z"}),r}},56008:function(G){G.exports=function(H,e){var m=H[0],P=m.z,s;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(s=0;s<H.length;s++){var S=H[s];S.prefixBoundary=!S.edgepaths.length&&(L>S.level||S.starts.length&&L===S.level)}break;case"constraint":if(m.prefixBoundary=!1,m.edgepaths.length)return;var v=m.x.length,p=m.y.length,r=-1/0,t=1/0;for(s=0;s<p;s++)t=Math.min(t,P[s][0]),t=Math.min(t,P[s][v-1]),r=Math.max(r,P[s][0]),r=Math.max(r,P[s][v-1]);for(s=1;s<v-1;s++)t=Math.min(t,P[0][s]),t=Math.min(t,P[p-1][s]),r=Math.max(r,P[0][s]),r=Math.max(r,P[p-1][s]);var a=e.value,n,f;switch(e._operation){case">":a>r&&(m.prefixBoundary=!0);break;case"<":(a<t||m.starts.length&&a===t)&&(m.prefixBoundary=!0);break;case"[]":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),(f<t||n>r||m.starts.length&&f===t)&&(m.prefixBoundary=!0);break;case"][":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),n<t&&f>r&&(m.prefixBoundary=!0);break}break}}},55296:function(G,H,e){var m=e(8932),P=e(41076),s=e(46960);function L(S,v,p){var r=v.contours,t=v.line,a=r.size||1,n=r.coloring,f=P(v,{isColorbar:!0});if(n==="heatmap"){var u=m.extractOpts(v);p._fillgradient=u.reversescale?m.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=f);p._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:s(r),size:a}}G.exports={min:"zmin",max:"zmax",calc:L}},93252:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(G,H,e){var m=e(38248),P=e(17428),s=e(76308),L=s.addOpacity,S=s.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(f,u,l,g,h,T){var c=u.contours,i,d,b,w=l("contours.operation");if(c._operation=r[w],a(l,c),w==="="?i=c.showlines=!0:(i=l("contours.showlines"),b=l("fillcolor",L((f.line||{}).color||h,.5))),i){var C=b&&S(b)?L(u.fillcolor,1):h;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,g,d,T)};function a(n,f){var u;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),p(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:m(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(n("contours.value",0),m(f.value)||(p(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(G,H,e){var m=e(69104),P=e(38248);G.exports={"[]":L("[]"),"][":L("]["),">":S(">"),"<":S("<"),"=":S("=")};function s(v,p){var r=Array.isArray(p),t;function a(n){return P(n)?+n:null}return m.COMPARISON_OPS2.indexOf(v)!==-1?t=a(r?p[0]:p):m.INTERVAL_OPS.indexOf(v)!==-1?t=r?[a(p[0]),a(p[1])]:[a(p),a(p)]:m.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(a):[a(p)]),t}function L(v){return function(p){p=s(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function S(v){return function(p){return p=s(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(G){G.exports=function(e,m,P,s){var L=s("contours.start"),S=s("contours.end"),v=L===!1||S===!1,p=P("contours.size"),r;v?r=m.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return s;case">":for(s.length!==1&&m.warn("Contour data invalid for the specified inequality operation."),v=s[0],S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);return s;case"][":var a=r;r=t,t=a;case"[]":for(s.length!==2&&m.warn("Contour data invalid for the specified inequality range operation."),v=P(s[0]),p=P(s[1]),S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(s){return m.extendFlat({},s,{edgepaths:m.extendDeep([],s.edgepaths),paths:m.extendDeep([],s.paths),starts:m.extendDeep([],s.starts)})}},57004:function(G,H,e){var m=e(3400),P=e(51264),s=e(31147),L=e(95536),S=e(84952),v=e(97680),p=e(39096),r=e(67104);G.exports=function(a,n,f,u){function l(c,i){return m.coerce(a,n,r,c,i)}function g(c){return m.coerce2(a,n,r,c)}var h=P(a,n,l,u);if(!h){n.visible=!1;return}s(a,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",m.isArray1D(n.z)),T?L(a,n,l,u,f):(S(a,n,l,g),v(a,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&p(l,u),l("zorder")}},61512:function(G,H,e){var m=e(3400),P=e(3212),s=e(46960);G.exports=function(S,v,p){for(var r=S.type==="constraint"?P[S._operation](S.value):S,t=r.size,a=[],n=s(r),f=p.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(a.push(m.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),a.length>1e3){m.warn("Too many contours, clipping at 1000",S);break}return a}},46960:function(G){G.exports=function(e){return e.end+e.size/1e6}},88748:function(G,H,e){var m=e(3400),P=e(93252);G.exports=function(t,a,n){var f,u,l,g,h;for(a=a||.01,n=n||.01,l=0;l<t.length;l++){for(g=t[l],h=0;h<g.starts.length;h++)u=g.starts[h],S(g,u,"edge",a,n);for(f=0;Object.keys(g.crossings).length&&f<1e4;)f++,u=Object.keys(g.crossings)[0].split(",").map(Number),S(g,u,void 0,a,n);f===1e4&&m.log("Infinite loop in contour?")}};function s(r,t,a,n){return Math.abs(r[0]-t[0])<a&&Math.abs(r[1]-t[1])<n}function L(r,t){var a=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(a*a+n*n)}function S(r,t,a,n,f){var u=t.join(","),l=r.crossings[u],g=v(l,a,t),h=[p(r,t,[-g[0],-g[1]])],T=r.z.length,c=r.z[0].length,i=t.slice(),d=g.slice(),b;for(b=0;b<1e4;b++){if(l>20?(l=P.CHOOSESADDLE[l][(g[0]||g[1])<0?0:1],r.crossings[u]=P.SADDLEREMAINDER[l]):delete r.crossings[u],g=P.NEWDELTA[l],!g){m.log("Found bad marching index:",l,t,r.level);break}h.push(p(r,t,g)),t[0]+=g[0],t[1]+=g[1],u=t.join(","),s(h[h.length-1],h[h.length-2],n,f)&&h.pop();var w=g[0]&&(t[0]<0||t[0]>c-2)||g[1]&&(t[1]<0||t[1]>T-2),C=t[0]===i[0]&&t[1]===i[1]&&g[0]===d[0]&&g[1]===d[1];if(C||a&&w)break;l=r.crossings[u]}b===1e4&&m.log("Infinite loop in contour?");var y=s(h[0],h[h.length-1],n,f),E=0,A=.2*r.smoothing,o=[],M=0,x,I,D,N,k,O,F,z,B,W,J;for(b=1;b<h.length;b++)F=L(h[b],h[b-1]),E+=F,o.push(F);var re=E/o.length*A;function ne(Z){return h[Z%h.length]}for(b=h.length-2;b>=M;b--)if(x=o[b],x<re){for(D=0,I=b-1;I>=M&&x+o[I]<re;I--)x+=o[I];if(y&&b===h.length-2)for(D=0;D<I&&x+o[D]<re;D++)x+=o[D];k=b-I+D+1,O=Math.floor((b+I+D+2)/2),!y&&b===h.length-2?N=h[h.length-1]:!y&&I===-1?N=h[0]:k%2?N=ne(O):N=[(ne(O)[0]+ne(O+1)[0])/2,(ne(O)[1]+ne(O+1)[1])/2],h.splice(I+1,b-I+1,N),b=I+1,D&&(M=D),y&&(b===h.length-2?h[D]=h[h.length-1]:b===0&&(h[h.length-1]=h[0]))}for(h.splice(0,M),b=0;b<h.length;b++)h[b].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{a||m.log("Unclosed interior contour?",r.level,i.join(","),h.join("L"));var le=!1;for(z=0;z<r.edgepaths.length;z++)if(W=r.edgepaths[z],!le&&s(W[0],h[h.length-1],n,f)){h.pop(),le=!0;var $=!1;for(B=0;B<r.edgepaths.length;B++)if(J=r.edgepaths[B],s(J[J.length-1],h[0],n,f)){$=!0,h.shift(),r.edgepaths.splice(z,1),B===z?r.paths.push(h.concat(J)):(B>z&&B--,r.edgepaths[B]=J.concat(h,W));break}$||(r.edgepaths[z]=h.concat(W))}for(z=0;z<r.edgepaths.length&&!le;z++)W=r.edgepaths[z],s(W[W.length-1],h[0],n,f)&&(h.shift(),r.edgepaths[z]=W.concat(h),le=!0);le||r.edgepaths.push(h)}}function v(r,t,a){var n=0,f=0;return r>20&&t?r===208||r===1114?n=a[0]===0?1:-1:f=a[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?f=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function p(r,t,a){var n=t[0]+Math.max(a[0],0),f=t[1]+Math.max(a[1],0),u=r.z[f][n],l=r.xaxis,g=r.yaxis;if(a[1]){var h=(r.level-u)/(r.z[f][n+1]-u),T=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(T),!0),g.c2p(r.y[f],!0),n+h,f]}else{var c=(r.level-u)/(r.z[f+1][n]-u),i=(c!==1?(1-c)*g.c2l(r.y[f]):0)+(c!==0?c*g.c2l(r.y[f+1]):0);return[l.c2p(r.x[n],!0),g.c2p(g.l2c(i),!0),n,f+c]}}},38200:function(G,H,e){var m=e(76308),P=e(55512);G.exports=function(L,S,v,p,r){r||(r={}),r.isContour=!0;var t=P(L,S,v,p,r);return t&&t.forEach(function(a){var n=a.trace;n.contours.type==="constraint"&&(n.fillcolor&&m.opacity(n.fillcolor)?a.color=m.addOpacity(n.fillcolor,1):n.contours.showlines&&m.opacity(n.line.color)&&(a.color=m.addOpacity(n.line.color,1)))}),t}},66240:function(G,H,e){G.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(G,H,e){var m=e(3400);G.exports=function(s,L,S,v){v||(v={});var p=s("contours.showlabels");if(p){var r=L.font;m.coerceFont(s,"contours.labelfont",r,{overrideDflt:{color:S}}),s("contours.labelformat")}v.hasHover!==!1&&s("zhoverformat")}},41076:function(G,H,e){var m=e(33428),P=e(8932),s=e(46960);G.exports=function(S){var v=S.contours,p=v.start,r=s(v),t=v.size||1,a=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,f=P.extractOpts(S);isFinite(t)||(t=1,a=1);var u=f.reversescale?P.flipScale(f.colorscale):f.colorscale,l=u.length,g=new Array(l),h=new Array(l),T,c,i=f.min,d=f.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)T=u[c],g[c]=T[0]*(d-i)+i,h[c]=T[1];var b=m.extent([i,d,v.start,v.start+t*(a-1)]),w=b[i<d?0:1],C=b[i<d?1:0];w!==i&&(g.splice(0,0,w),h.splice(0,0,h[0])),C!==d&&(g.push(C),h.push(h[h.length-1]))}else{var y=S._input&&typeof S._input.zmin=="number"&&typeof S._input.zmax=="number";for(y&&(p<=i||r>=d)&&(p<=i&&(p=i),r>=d&&(r=d),a=Math.floor((r-p)/t)+1,n=0),c=0;c<l;c++)T=u[c],g[c]=(T[0]*(a+n-1)-n/2)*t+p,h[c]=T[1];(y||S.autocontour)&&(g[0]>i&&(g.unshift(i),h.unshift(h[0])),g[g.length-1]<d&&(g.push(d),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:g,range:h},{noNumericCheck:!0})}},72424:function(G,H,e){var m=e(93252);G.exports=function(L){var S=L[0].z,v=S.length,p=S[0].length,r=v===2||p===2,t,a,n,f,u,l,g,h,T;for(a=0;a<v-1;a++)for(f=[],a===0&&(f=f.concat(m.BOTTOMSTART)),a===v-2&&(f=f.concat(m.TOPSTART)),t=0;t<p-1;t++)for(n=f.slice(),t===0&&(n=n.concat(m.LEFTSTART)),t===p-2&&(n=n.concat(m.RIGHTSTART)),u=t+","+a,l=[[S[a][t],S[a][t+1]],[S[a+1][t],S[a+1][t+1]]],T=0;T<L.length;T++)h=L[T],g=P(h.level,l),g&&(h.crossings[u]=g,n.indexOf(g)!==-1&&(h.starts.push([t,a]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&h.starts.push([t,a])))};function P(s,L){var S=(L[0][0]>s?0:1)+(L[0][1]>s?0:2)+(L[1][1]>s?0:4)+(L[1][0]>s?0:8);if(S===5||S===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return s>v?S===5?713:1114:S===5?104:208}return S===15?0:S}},23676:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(8932),S=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),a=e(88748),n=e(61512),f=e(82172),u=e(56008),l=e(93252),g=l.LABELOPTIMIZER;H.plot=function(y,E,A,o){var M=E.xaxis,x=E.yaxis;P.makeTraceGroups(o,A,"contour").each(function(I){var D=m.select(this),N=I[0],k=N.trace,O=N.x,F=N.y,z=k.contours,B=n(z,E,N),W=P.ensureSingle(D,"g","heatmapcoloring"),J=[];z.coloring==="heatmap"&&(J=[I]),r(y,E,J,W),t(B),a(B);var re=M.c2p(O[0],!0),ne=M.c2p(O[O.length-1],!0),le=x.c2p(F[0],!0),$=x.c2p(F[F.length-1],!0),Z=[[re,$],[ne,$],[ne,le],[re,le]],ie=B;z.type==="constraint"&&(ie=f(B,z._operation)),h(D,Z,z),T(D,ie,Z,z),i(D,B,y,N,z),b(D,E,y,N,Z)})};function h(C,y,E){var A=P.ensureSingle(C,"g","contourbg"),o=A.selectAll("path").data(E.coloring==="fill"?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function T(C,y,E,A){var o=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",M="M"+E.join("L")+"Z";o&&u(y,A);var x=P.ensureSingle(C,"g","contourfill"),I=x.selectAll("path").data(o?y:[]);I.enter().append("path"),I.exit().remove(),I.each(function(D){var N=(D.prefixBoundary?M:"")+c(D,E);N?m.select(this).attr("d",N).style("stroke","none"):m.select(this).remove()})}function c(C,y){var E="",A=0,o=C.edgepaths.map(function(re,ne){return ne}),M=!0,x,I,D,N,k,O;function F(re){return Math.abs(re[1]-y[0][1])<.01}function z(re){return Math.abs(re[1]-y[2][1])<.01}function B(re){return Math.abs(re[0]-y[0][0])<.01}function W(re){return Math.abs(re[0]-y[2][0])<.01}for(;o.length;){for(O=s.smoothopen(C.edgepaths[A],C.smoothing),E+=M?O:O.replace(/^M/,"L"),o.splice(o.indexOf(A),1),x=C.edgepaths[A][C.edgepaths[A].length-1],N=-1,D=0;D<4;D++){if(!x){P.log("Missing end?",A,C);break}for(F(x)&&!W(x)?I=y[1]:B(x)?I=y[0]:z(x)?I=y[3]:W(x)&&(I=y[2]),k=0;k<C.edgepaths.length;k++){var J=C.edgepaths[k][0];Math.abs(x[0]-I[0])<.01?Math.abs(x[0]-J[0])<.01&&(J[1]-x[1])*(I[1]-J[1])>=0&&(I=J,N=k):Math.abs(x[1]-I[1])<.01?Math.abs(x[1]-J[1])<.01&&(J[0]-x[0])*(I[0]-J[0])>=0&&(I=J,N=k):P.log("endpt to newendpt is not vert. or horz.",x,I,J)}if(x=I,N>=0)break;E+="L"+I}if(N===C.edgepaths.length){P.log("unclosed perimeter path");break}A=N,M=o.indexOf(A)===-1,M&&(A=o[0],E+="Z")}for(A=0;A<C.paths.length;A++)E+=s.smoothclosed(C.paths[A],C.smoothing);return E}function i(C,y,E,A,o){var M=E._context.staticPlot,x=P.ensureSingle(C,"g","contourlines"),I=o.showlines!==!1,D=o.showlabels,N=I&&D,k=H.createLines(x,I||D,y,M),O=H.createLineClip(x,N,E,A.trace.uid),F=C.selectAll("g.contourlabels").data(D?[0]:[]);if(F.exit().remove(),F.enter().append("g").classed("contourlabels",!0),D){var z=[],B=[];P.clearLocationCache();var W=H.labelFormatter(E,A),J=s.tester.append("text").attr("data-notex",1).call(s.font,o.labelfont),re=y[0].xaxis,ne=y[0].yaxis,le=re._length,$=ne._length,Z=re.range,ie=ne.range,X=P.aggNums(Math.min,null,A.x),Q=P.aggNums(Math.max,null,A.x),oe=P.aggNums(Math.min,null,A.y),j=P.aggNums(Math.max,null,A.y),Y=Math.max(re.c2p(X,!0),0),se=Math.min(re.c2p(Q,!0),le),te=Math.max(ne.c2p(j,!0),0),fe=Math.min(ne.c2p(oe,!0),$),ge={};Z[0]<Z[1]?(ge.left=Y,ge.right=se):(ge.left=se,ge.right=Y),ie[0]<ie[1]?(ge.top=te,ge.bottom=fe):(ge.top=fe,ge.bottom=te),ge.middle=(ge.top+ge.bottom)/2,ge.center=(ge.left+ge.right)/2,z.push([[ge.left,ge.top],[ge.right,ge.top],[ge.right,ge.bottom],[ge.left,ge.bottom]]);var be=Math.sqrt(le*le+$*$),xe=l.LABELDISTANCE*be/Math.max(1,y.length/l.LABELINCREASE);k.each(function(_e){var De=H.calcTextOpts(_e.level,W,J,E);m.select(this).selectAll("path").each(function(){var Fe=this,Te=P.getVisibleSegment(Fe,ge,De.height/2);if(Te&&!(Te.len<(De.width+De.height)*l.LABELMIN))for(var Re=Math.min(Math.ceil(Te.len/xe),l.LABELMAX),Se=0;Se<Re;Se++){var ke=H.findBestTextLocation(Fe,Te,De,B,ge);if(!ke)break;H.addLabelData(ke,De,B,z)}})}),J.remove(),H.drawLabels(F,B,E,O,N?z:null)}D&&!I&&k.remove()}H.createLines=function(C,y,E,A){var o=E[0].smoothing,M=C.selectAll("g.contourlevel").data(y?E:[]);if(M.exit().remove(),M.enter().append("g").classed("contourlevel",!0),y){var x=M.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});x.exit().remove(),x.enter().append("path").classed("openline",!0),x.attr("d",function(D){return s.smoothopen(D,o)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var I=M.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});I.exit().remove(),I.enter().append("path").classed("closedline",!0),I.attr("d",function(D){return s.smoothclosed(D,o)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return M},H.createLineClip=function(C,y,E,A){var o=E._fullLayout._clips,M=y?"clipline"+A:null,x=o.selectAll("#"+M).data(y?[0]:[]);return x.exit().remove(),x.enter().append("clipPath").classed("contourlineclip",!0).attr("id",M),s.setClipUrl(C,M,E),x},H.labelFormatter=function(C,y){var E=C._fullLayout,A=y.trace,o=A.contours,M={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)M.tickformat=o.labelformat,p(M,E);else{var x=L.extractOpts(A);if(x&&x.colorbar&&x.colorbar._axis)M=x.colorbar._axis;else{if(o.type==="constraint"){var I=o.value;P.isArrayOrTypedArray(I)?M.range=[I[0],I[I.length-1]]:M.range=[I,I]}else M.range=[o.start,o.end],M.nticks=(o.end-o.start)/o.size;M.range[0]===M.range[1]&&(M.range[1]+=M.range[0]||1),M.nticks||(M.nticks=1e3),p(M,E),v.prepTicks(M),M._tmin=null,M._tmax=null}}return function(D){return v.tickText(M,D).text}},H.calcTextOpts=function(C,y,E,A){var o=y(C);E.text(o).call(S.convertToTspans,A);var M=E.node(),x=s.bBox(M,!0);return{text:o,width:x.width,height:x.height,fontSize:+M.style["font-size"].replace("px",""),level:C,dy:(x.top+x.bottom)/2}},H.findBestTextLocation=function(C,y,E,A,o){var M=E.width,x,I,D,N,k;y.isClosed?(I=y.len/g.INITIALSEARCHPOINTS,x=y.min+I/2,D=y.max):(I=(y.len-M)/(g.INITIALSEARCHPOINTS+1),x=y.min+I+M/2,D=y.max-(I+M)/2);for(var O=1/0,F=0;F<g.ITERATIONS;F++){for(var z=x;z<D;z+=I){var B=P.getTextLocation(C,y.total,z,M),W=d(B,E,A,o);W<O&&(O=W,k=B,N=z)}if(O>g.MAXCOST*2)break;F&&(I/=2),x=N-I/2,D=x+I*1.5}if(O<=g.MAXCOST)return k};function d(C,y,E,A){var o=y.width/2,M=y.height/2,x=C.x,I=C.y,D=C.theta,N=Math.cos(D)*o,k=Math.sin(D)*o,O=(x>A.center?A.right-x:x-A.left)/(N+Math.abs(Math.sin(D)*M)),F=(I>A.middle?A.bottom-I:I-A.top)/(Math.abs(k)+Math.cos(D)*M);if(O<1||F<1)return 1/0;var z=g.EDGECOST*(1/(O-1)+1/(F-1));z+=g.ANGLECOST*D*D;for(var B=x-N,W=I-k,J=x+N,re=I+k,ne=0;ne<E.length;ne++){var le=E[ne],$=Math.cos(le.theta)*le.width/2,Z=Math.sin(le.theta)*le.width/2,ie=P.segmentDistance(B,W,J,re,le.x-$,le.y-Z,le.x+$,le.y+Z)*2/(y.height+le.height),X=le.level===y.level,Q=X?g.SAMELEVELDISTANCE:1;if(ie<=Q)return 1/0;var oe=g.NEIGHBORCOST*(X?g.SAMELEVELFACTOR:1);z+=oe/(ie-Q)}return z}H.addLabelData=function(C,y,E,A){var o=y.fontSize,M=y.width+o/3,x=Math.max(0,y.height-o/3),I=C.x,D=C.y,N=C.theta,k=Math.sin(N),O=Math.cos(N),F=function(B,W){return[I+B*O-W*k,D+B*k+W*O]},z=[F(-M/2,-x/2),F(-M/2,x/2),F(M/2,x/2),F(M/2,-x/2)];E.push({text:y.text,x:I,y:D,dy:y.dy,theta:N,level:y.level,width:M,height:x}),A.push(z)},H.drawLabels=function(C,y,E,A,o){var M=C.selectAll("text").data(y,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(M.exit().remove(),M.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,O=N.y-Math.cos(N.theta)*N.dy;m.select(this).text(N.text).attr({x:k,y:O,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+O+")"}).call(S.convertToTspans,E)}),o){for(var x="",I=0;I<o.length;I++)x+="M"+o[I].join("L")+"Z";var D=P.ensureSingle(A,"path","");D.attr("d",x)}};function b(C,y,E,A,o){var M=A.trace,x=E._fullLayout._clips,I="clip"+M.uid,D=x.selectAll("#"+I).data(M.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",I),D.exit().remove(),M.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:A.x,y:A.y,z:w(A),smoothing:0};t([N]),a([N]),u([N],{type:"levels"});var k=P.ensureSingle(D,"path","");k.attr("d",(N.prefixBoundary?"M"+o.join("L")+"Z":"")+c(N,o))}else I=null;s.setClipUrl(C,I,E)}function w(C){var y=C.trace._emptypoints,E=[],A=C.z.length,o=C.z[0].length,M,x=[],I;for(M=0;M<o;M++)x.push(1);for(M=0;M<A;M++)E.push(x.slice());for(M=0;M<y.length;M++)I=y[M],E[I[0]][I[1]]=0;return C.zmask=E,E}},54444:function(G,H,e){var m=e(54460),P=e(3400);G.exports=function(S,v){var p=S.contours;if(S.autocontour){var r=S.zmin,t=S.zmax;(S.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(S.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var a=s(r,t,S.ncontours);p.size=a.dtick,p.start=m.tickFirst(a),a.range.reverse(),p.end=m.tickFirst(a),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),S._input.contours||(S._input.contours={}),P.extendFlat(S._input.contours,{start:p.start,end:p.end,size:p.size}),S._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,f=p.end,u=S._input.contours;if(n>f&&(p.start=u.start=f,f=p.end=u.end=n,n=p.start),!(p.size>0)){var l;n===f?l=1:l=s(n,f,S.ncontours).dtick,u.size=p.size=l}}};function s(L,S,v){var p={type:"linear",range:[L,S]};return m.autoTicks(p,(S-L)/(v||15)),p}},52440:function(G,H,e){var m=e(33428),P=e(43616),s=e(41648),L=e(41076);G.exports=function(v){var p=m.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=m.select(this),a=r[0].trace,n=a.contours,f=a.line,u=n.size||1,l=n.start,g=n.type==="constraint",h=!g&&n.coloring==="lines",T=!g&&n.coloring==="fill",c=h||T?L(a):null;t.selectAll("g.contourlevel").each(function(b){m.select(this).selectAll("path").call(P.lineGroupStyle,f.width,h?c(b.level):f.color,f.dash)});var i=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(b){P.font(m.select(this),{weight:i.weight,style:i.style,variant:i.variant,textcase:i.textcase,lineposition:i.lineposition,shadow:i.shadow,family:i.family,size:i.size,color:i.color||(h?c(b.level):f.color)})}),g)t.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(b){return d===void 0&&(d=b.level),c(b.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*u))}}),s(v)}},97680:function(G,H,e){var m=e(27260),P=e(17428);G.exports=function(L,S,v,p,r){var t=v("contours.coloring"),a,n="";t==="fill"&&(a=v("contours.showlines")),a!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(S.showlegend=!1),S._dfltShowLegend=!1,m(L,S,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(G,H,e){var m=e(83328),P=e(67104),s=e(49084),L=e(92880).extendFlat,S=P.contours;G.exports=L({carpet:{valType:"string",editType:"calc"},z:m.z,a:m.x,a0:m.x0,da:m.dx,b:m.y,b0:m.y0,db:m.dy,text:m.text,hovertext:m.hovertext,transpose:m.transpose,atype:m.xtype,btype:m.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:S.type,start:S.start,end:S.end,size:S.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:S.showlines,showlabels:S.showlabels,labelfont:S.labelfont,labelformat:S.labelformat,operation:S.operation,value:S.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},30572:function(G,H,e){var m=e(47128),P=e(3400),s=e(2872),L=e(26136),S=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),a=e(54444);G.exports=function(u,l){var g=l._carpetTrace=t(u,l);if(!(!g||!g.visible||g.visible==="legendonly")){if(!l.a||!l.b){var h=u.data[g.index],T=u.data[l.index];T.a||(T.a=h.a),T.b||(T.b=h.b),r(T,l,l._defaultColor,u._fullLayout)}var c=n(u,l);return a(l,l._z),c}};function n(f,u){var l=u._carpetTrace,g=l.aaxis,h=l.baxis,T,c,i,d,b,w,C;g._minDtick=0,h._minDtick=0,P.isArray1D(u.z)&&s(u,g,h,"a","b",["z"]),T=u._a=u._a||u.a,d=u._b=u._b||u.b,T=T?g.makeCalcdata(u,"_a"):[],d=d?h.makeCalcdata(u,"_b"):[],c=u.a0||0,i=u.da||1,b=u.b0||0,w=u.db||1,C=u._z=L(u._z||u.z,u.transpose),u._emptypoints=v(C),S(C,u._emptypoints);var y=P.maxRowLength(C),E=u.xtype==="scaled"?"":T,A=p(u,E,c,i,y,g),o=u.ytype==="scaled"?"":d,M=p(u,o,b,w,C.length,h),x={a:A,b:M,z:C};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&m(f,u,{vals:C,containerStr:"",cLetter:"z"}),[x]}},3252:function(G,H,e){var m=e(3400),P=e(51264),s=e(37960),L=e(95536),S=e(84952),v=e(97680);G.exports=function(r,t,a,n){function f(h,T){return m.coerce(r,t,s,h,T)}function u(h){return m.coerce2(r,t,s,h)}if(f("carpet"),r.a&&r.b){var l=P(r,t,f,n,"a","b");if(!l){t.visible=!1;return}f("text");var g=f("contours.type")==="constraint";g?L(r,t,f,n,a,{hasHover:!1}):(S(r,t,f,u),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=a,t._length=null;f("zorder")}},40448:function(G,H,e){G.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(G,H,e){var m=e(33428),P=e(87072),s=e(53416),L=e(43616),S=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),a=e(82172),n=e(61512),f=e(56008),u=e(50948),l=e(77712);G.exports=function(E,A,o,M){var x=A.xaxis,I=A.yaxis;S.makeTraceGroups(M,o,"contour").each(function(D){var N=m.select(this),k=D[0],O=k.trace,F=O._carpetTrace=u(E,O),z=E.calcdata[F.index][0];if(!F.visible||F.visible==="legendonly")return;var B=k.a,W=k.b,J=O.contours,re=n(J,A,k),ne=J.type==="constraint",le=J._operation,$=ne?le==="="?"lines":"fill":J.coloring;function Z(be){var xe=F.ab2xy(be[0],be[1],!0);return[x.c2p(xe[0]),I.c2p(xe[1])]}var ie=[[B[0],W[W.length-1]],[B[B.length-1],W[W.length-1]],[B[B.length-1],W[0]],[B[0],W[0]]];v(re);var X=(B[B.length-1]-B[0])*1e-8,Q=(W[W.length-1]-W[0])*1e-8;p(re,X,Q);var oe=re;J.type==="constraint"&&(oe=a(re,le)),g(re,Z);var j,Y,se,te,fe=[];for(te=z.clipsegments.length-1;te>=0;te--)j=z.clipsegments[te],Y=P([],j.x,x.c2p),se=P([],j.y,I.c2p),Y.reverse(),se.reverse(),fe.push(s(Y,se,j.bicubic));var ge="M"+fe.join("L")+"Z";b(N,z.clipsegments,x,I,ne,$),w(O,N,x,I,oe,ie,Z,F,z,$,ge),h(N,re,E,k,J,A,F),L.setClipUrl(N,F._clipPathId,E)})};function g(y,E){var A,o,M,x,I,D,N,k,O;for(A=0;A<y.length;A++){for(x=y[A],I=x.pedgepaths=[],D=x.ppaths=[],o=0;o<x.edgepaths.length;o++){for(O=x.edgepaths[o],N=[],M=0;M<O.length;M++)N[M]=E(O[M]);I.push(N)}for(o=0;o<x.paths.length;o++){for(O=x.paths[o],k=[],M=0;M<O.length;M++)k[M]=E(O[M]);D.push(k)}}}function h(y,E,A,o,M,x,I){var D=A._context.staticPlot,N=S.ensureSingle(y,"g","contourlines"),k=M.showlines!==!1,O=M.showlabels,F=k&&O,z=r.createLines(N,k||O,E,D),B=r.createLineClip(N,F,A,o.trace.uid),W=y.selectAll("g.contourlabels").data(O?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),O){var J=x.xaxis,re=x.yaxis,ne=J._length,le=re._length,$=[[[0,0],[ne,0],[ne,le],[0,le]]],Z=[];S.clearLocationCache();var ie=r.labelFormatter(A,o),X=L.tester.append("text").attr("data-notex",1).call(L.font,M.labelfont),Q={left:0,right:ne,center:ne/2,top:0,bottom:le,middle:le/2},oe=Math.sqrt(ne*ne+le*le),j=t.LABELDISTANCE*oe/Math.max(1,E.length/t.LABELINCREASE);z.each(function(Y){var se=r.calcTextOpts(Y.level,ie,X,A);m.select(this).selectAll("path").each(function(te){var fe=this,ge=S.getVisibleSegment(fe,Q,se.height/2);if(ge&&(T(fe,te,Y,ge,I,se.height),!(ge.len<(se.width+se.height)*t.LABELMIN)))for(var be=Math.min(Math.ceil(ge.len/j),t.LABELMAX),xe=0;xe<be;xe++){var _e=r.findBestTextLocation(fe,ge,se,Z,Q);if(!_e)break;r.addLabelData(_e,se,Z,$)}})}),X.remove(),r.drawLabels(W,Z,A,B,F?$:null)}O&&!k&&z.remove()}function T(y,E,A,o,M,x){for(var I,D=0;D<A.pedgepaths.length;D++)E===A.pedgepaths[D]&&(I=A.edgepaths[D]);if(!I)return;var N=M.a[0],k=M.a[M.a.length-1],O=M.b[0],F=M.b[M.b.length-1];function z(ne,le){var $=0,Z,ie=.1;return(Math.abs(ne[0]-N)<ie||Math.abs(ne[0]-k)<ie)&&(Z=i(M.dxydb_rough(ne[0],ne[1],ie)),$=Math.max($,x*d(le,Z)/2)),(Math.abs(ne[1]-O)<ie||Math.abs(ne[1]-F)<ie)&&(Z=i(M.dxyda_rough(ne[0],ne[1],ie)),$=Math.max($,x*d(le,Z)/2)),$}var B=c(y,0,1),W=c(y,o.total,o.total-1),J=z(I[0],B),re=o.total-z(I[I.length-1],W);o.min<J&&(o.min=J),o.max>re&&(o.max=re),o.len=o.max-o.min}function c(y,E,A){var o=y.getPointAtLength(E),M=y.getPointAtLength(A),x=M.x-o.x,I=M.y-o.y,D=Math.sqrt(x*x+I*I);return[x/D,I/D]}function i(y){var E=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/E,y[1]/E]}function d(y,E){var A=Math.abs(y[0]*E[0]+y[1]*E[1]),o=Math.sqrt(1-A*A);return o/A}function b(y,E,A,o,M,x){var I,D,N,k,O=S.ensureSingle(y,"g","contourbg"),F=O.selectAll("path").data(x==="fill"&&!M?[0]:[]);F.enter().append("path"),F.exit().remove();var z=[];for(k=0;k<E.length;k++)I=E[k],D=P([],I.x,A.c2p),N=P([],I.y,o.c2p),z.push(s(D,N,I.bicubic));F.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function w(y,E,A,o,M,x,I,D,N,k,O){var F=k==="fill";F&&f(M,y.contours);var z=S.ensureSingle(E,"g","contourfill"),B=z.selectAll("path").data(F?M:[]);B.enter().append("path"),B.exit().remove(),B.each(function(W){var J=(W.prefixBoundary?O:"")+C(y,W,x,I,D,N,A,o);J?m.select(this).attr("d",J).style("stroke","none"):m.select(this).remove()})}function C(y,E,A,o,M,x,I,D){var N,k="",O=E.edgepaths.map(function(se,te){return te}),F=!0,z,B,W,J,re,ne,le=Math.abs(A[0][0]-A[2][0])*1e-4,$=Math.abs(A[0][1]-A[2][1])*1e-4;function Z(se){return Math.abs(se[1]-A[0][1])<$}function ie(se){return Math.abs(se[1]-A[2][1])<$}function X(se){return Math.abs(se[0]-A[0][0])<le}function Q(se){return Math.abs(se[0]-A[2][0])<le}function oe(se,te){var fe,ge,be,xe,_e="";for(Z(se)&&!Q(se)||ie(se)&&!X(se)?(xe=M.aaxis,be=l(M,x,[se[0],te[0]],.5*(se[1]+te[1]))):(xe=M.baxis,be=l(M,x,.5*(se[0]+te[0]),[se[1],te[1]])),fe=1;fe<be.length;fe++)for(_e+=xe.smoothing?"C":"L",ge=0;ge<be[fe].length;ge++){var De=be[fe][ge];_e+=[I.c2p(De[0]),D.c2p(De[1])]+" "}return _e}for(N=0,z=null;O.length;){var j=E.edgepaths[N][0];for(z&&(k+=oe(z,j)),ne=L.smoothopen(E.edgepaths[N].map(o),E.smoothing),k+=F?ne:ne.replace(/^M/,"L"),O.splice(O.indexOf(N),1),z=E.edgepaths[N][E.edgepaths[N].length-1],J=-1,W=0;W<4;W++){if(!z){S.log("Missing end?",N,E);break}for(Z(z)&&!Q(z)?B=A[1]:X(z)?B=A[0]:ie(z)?B=A[3]:Q(z)&&(B=A[2]),re=0;re<E.edgepaths.length;re++){var Y=E.edgepaths[re][0];Math.abs(z[0]-B[0])<le?Math.abs(z[0]-Y[0])<le&&(Y[1]-z[1])*(B[1]-Y[1])>=0&&(B=Y,J=re):Math.abs(z[1]-B[1])<$?Math.abs(z[1]-Y[1])<$&&(Y[0]-z[0])*(B[0]-Y[0])>=0&&(B=Y,J=re):S.log("endpt to newendpt is not vert. or horz.",z,B,Y)}if(J>=0)break;k+=oe(z,B),z=B}if(J===E.edgepaths.length){S.log("unclosed perimeter path");break}N=J,F=O.indexOf(N)===-1,F&&(N=O[0],k+=oe(z,B)+"Z",z=null)}for(N=0;N<E.paths.length;N++)k+=L.smoothclosed(E.paths[N].map(o),E.smoothing);return k}},33928:function(G,H,e){var m=e(49084),P=e(21776).Ks,s=e(45464),L=e(31512),S=e(92880).extendFlat;G.exports=S({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:S({},s.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:S({},s.showlegend,{dflt:!1})},m("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(G,H,e){var m=e(38248),P=e(3400).isArrayOrTypedArray,s=e(39032).BADNUM,L=e(47128),S=e(3400)._;G.exports=function(p,r){for(var t=r._length,a=new Array(t),n=r.z,f=P(n)&&n.length,u=0;u<t;u++){var l=a[u]={},g=r.lon[u],h=r.lat[u];if(l.lonlat=m(g)&&m(h)?[+g,+h]:[s,s],f){var T=n[u];l.z=m(T)?T:s}}return L(p,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(a[0].t={labels:{lat:S(p,"lat:")+" ",lon:S(p,"lon:")+" "}}),a}},4629:function(G,H,e){var m=e(38248),P=e(3400),s=e(76308),L=e(8932),S=e(39032).BADNUM,v=e(44808).makeBlank;G.exports=function(r){var t=r[0].trace,a=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!a)return f;var u=[],l,g=t.z,h=t.radius,T=P.isArrayOrTypedArray(g)&&g.length,c=P.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var i=r[l],d=i.lonlat;if(d[0]!==S){var b={};if(T){var w=i.z;b.z=w!==S?w:0}c&&(b.r=m(h[l])&&h[l]>0?+h[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:b})}}var C=L.extractOpts(t),y=C.reversescale?L.flipScale(C.colorscale):C.colorscale,E=y[0][1],A=s.opacity(E)<1?E:s.addOpacity(E,0),o=["interpolate",["linear"],["heatmap-density"],0,A];for(l=1;l<y.length;l++)o.push(y[l][0],y[l][1]);var M=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(f.heatmap.paint,{"heatmap-weight":T?M:1/(C.max-C.min),"heatmap-color":o,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(G,H,e){var m=e(3400),P=e(27260),s=e(33928);G.exports=function(S,v,p,r){function t(u,l){return m.coerce(S,v,s,u,l)}var a=t("lon")||[],n=t("lat")||[],f=Math.min(a.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(S,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(G){G.exports=function(e,m){return e.lon=m.lon,e.lat=m.lat,e.z=m.z,e}},25336:function(G,H,e){var m=e(54460),P=e(63312).hoverPoints,s=e(63312).getExtraText;G.exports=function(S,v,p){var r=P(S,v,p);if(r){var t=r[0],a=t.cd,n=a[0].trace,f=a[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=m.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=s(n,f,a[0].t.labels),[t]}}},15088:function(G,H,e){G.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(m,P){for(var s=P.getMapLayers(),L=0;L<s.length;L++){var S=s[L],v=S.id;if(S.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(G,H,e){var m=e(4629),P=e(47552).traceLayerPrefix;function s(S,v){this.type="densitymapbox",this.subplot=S,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=s.prototype;L.update=function(S){var v=this.subplot,p=this.layerList,r=m(S),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var a=0;a<p.length;a++){var n=p[a],f=n[0],u=n[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},L._addLayers=function(S,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,a=0;a<r.length;a++){var n=r[a],f=n[0],u=S[f];p.addLayer({type:f,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},L._removeLayers=function(){for(var S=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)S.removeLayer(v[p][1])},L.dispose=function(){var S=this.subplot.map;this._removeLayers(),S.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new s(v,r.uid),a=t.sourceId,n=m(p),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(a,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(G,H,e){var m=e(3400);G.exports=function(s,L){for(var S=0;S<s.length;S++)s[S].i=S;m.mergeArray(L.text,s,"tx"),m.mergeArray(L.hovertext,s,"htx");var v=L.marker;if(v){m.mergeArray(v.opacity,s,"mo"),m.mergeArray(v.color,s,"mc");var p=v.line;p&&(m.mergeArray(p.color,s,"mlc"),m.mergeArrayCastPositive(p.width,s,"mlw"))}}},20088:function(G,H,e){var m=e(20832),P=e(52904).line,s=e(45464),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);G.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:m.hovertext,hovertemplate:S({},{keys:p.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:m.text,textposition:m.textposition,insidetextanchor:r({},m.insidetextanchor,{dflt:"middle"}),textangle:r({},m.textangle,{dflt:0}),textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:m.outsidetextfont,constraintext:m.constraintext,cliponaxis:m.cliponaxis,orientation:r({},m.orientation,{}),offset:r({},m.offset,{arrayOk:!1}),width:r({},m.width,{arrayOk:!1}),marker:a(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,zorder:m.zorder};function a(){var n=r({},m.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(G,H,e){var m=e(54460),P=e(1220),s=e(74248),L=e(4500),S=e(39032).BADNUM;G.exports=function(r,t){var a=m.getFromId(r,t.xaxis||"x"),n=m.getFromId(r,t.yaxis||"y"),f,u,l,g,h,T,c,i;t.orientation==="h"?(f=a.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y"),l=a.makeCalcdata(t,"x"),g=P(t,a,"x",l),h=!!t.xperiodalignment,T="x"),u=g.vals;var d=Math.min(u.length,f.length),b=new Array(d);for(t._base=[],c=0;c<d;c++){f[c]<0&&(f[c]=S);var w=!1;f[c]!==S&&c+1<d&&f[c+1]!==S&&(w=!0),i=b[c]={p:u[c],s:f[c],cNext:w},t._base[c]=-.5*i.s,h&&(b[c].orig_p=l[c],b[c][T+"End"]=g.ends[c],b[c][T+"Start"]=g.starts[c]),t.ids&&(i.id=String(t.ids[c])),c===0&&(b[0].vTotal=0),b[0].vTotal+=v(i.s),i.begR=v(i.s)/v(b[0].s)}var C;for(c=0;c<d;c++)i=b[c],i.s!==S&&(i.sumR=i.s/b[0].vTotal,i.difR=C!==void 0?i.s/C:1,C=i.s);return s(b,t),L(b,t),b};function v(p){return p===S?0:p}},74732:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(G,H,e){var m=e(96376).setGroupPositions;G.exports=function(s,L){var S=s._fullLayout,v=s._fullData,p=s.calcdata,r=L.xaxis,t=L.yaxis,a=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var g=v[l],h=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(u=p[l],h?f.push(u):n.push(u),a.push(u))}var T={mode:S.funnelmode,norm:S.funnelnorm,gap:S.funnelgap,groupgap:S.funnelgroupgap};for(m(s,r,t,n,T),m(s,t,r,f,T),l=0;l<a.length;l++){u=a[l];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(G,H,e){var m=e(3400),P=e(20011),s=e(31508).handleText,L=e(43980),S=e(31147),v=e(20088),p=e(76308);function r(n,f,u,l){function g(w,C){return m.coerce(n,f,v,w,C)}var h=L(n,f,l,g);if(!h){f.visible=!1;return}S(n,f,l,g),g("xhoverformat"),g("yhoverformat"),g("orientation",f.y&&!f.x?"v":"h"),g("offset"),g("width");var T=g("text");g("hovertext"),g("hovertemplate");var c=g("textposition");s(n,f,l,g,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&g("textinfo",m.isArrayOrTypedArray(T)?"text+value":"value");var i=g("marker.color",u);g("marker.line.color",p.defaultLine),g("marker.line.width");var d=g("connector.visible");if(d){g("connector.fillcolor",t(i));var b=g("connector.line.width");b&&(g("connector.line.color"),g("connector.line.dash"))}g("zorder")}function t(n){var f=m.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(f,.5*p.opacity(f))}function a(n,f){var u,l;function g(T){return m.coerce(l._input,l,v,T)}if(f.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],u=l._input,P(u,l,f,g)}G.exports={supplyDefaults:r,crossTraceDefaults:a}},34580:function(G){G.exports=function(e,m){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"percentInitial"in m&&(e.percentInitial=m.percentInitial),"percentPrevious"in m&&(e.percentPrevious=m.percentPrevious),"percentTotal"in m&&(e.percentTotal=m.percentTotal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},31488:function(G,H,e){var m=e(76308).opacity,P=e(63400).hoverOnBars,s=e(3400).formatPercent;G.exports=function(v,p,r,t,a){var n=P(v,p,r,t,a);if(n){var f=n.cd,u=f[0].trace,l=u.orientation==="h",g=n.index,h=f[g],T=l?"x":"y";n[T+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=s(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=s(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=s(h.sumR,1);var c=h.hi||u.hoverinfo,i=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",b=c.split("+"),w=function(C){return d||b.indexOf(C)!==-1};w("percent initial")&&i.push(n.percentInitialLabel+" of initial"),w("percent previous")&&i.push(n.percentPreviousLabel+" of previous"),w("percent total")&&i.push(n.percentTotalLabel+" of total")}return n.extraText=i.join("<br>"),n.color=L(u,h),[n]}};function L(S,v){var p=S.marker,r=v.mc||p.color,t=v.mlc||p.line.color,a=v.mlw||p.line.width;if(m(r))return r;if(m(t)&&a)return t}},94704:function(G,H,e){G.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(G,H,e){var m=e(3400),P=e(7076);G.exports=function(s,L,S){var v=!1;function p(a,n){return m.coerce(s,L,P,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(n,f,u,l){var g=n._fullLayout;v("funnel",g),p(n,f,u,l),r(n,f,u,l),S.plot(n,f,u,l,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function p(a,n,f,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,f,"trace bars").each(function(h){var T=m.select(this),c=h[0].trace,i=P.ensureSingle(T,"g","regions");if(!c.connector||!c.connector.visible){i.remove();return}var d=c.orientation==="h",b=i.selectAll("g.region").data(P.identity);b.enter().append("g").classed("region",!0),b.exit().remove();var w=b.size();b.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var E=t(C,l,g,d),A=E[0],o=E[1],M="";A[0]!==L&&o[0]!==L&&A[1]!==L&&o[1]!==L&&A[2]!==L&&o[2]!==L&&A[3]!==L&&o[3]!==L&&(d?M+="M"+A[0]+","+o[1]+"L"+A[2]+","+o[2]+"H"+A[3]+"L"+A[1]+","+o[1]+"Z":M+="M"+A[1]+","+o[1]+"L"+A[2]+","+o[3]+"V"+o[2]+"L"+A[1]+","+o[0]+"Z"),M===""&&(M="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",M).call(s.setClipUrl,n.layerClipId,a)}})})}function r(a,n,f,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,f,"trace bars").each(function(h){var T=m.select(this),c=h[0].trace,i=P.ensureSingle(T,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){i.remove();return}var d=c.orientation==="h",b=i.selectAll("g.line").data(P.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var w=b.size();b.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var E=t(C,l,g,d),A=E[0],o=E[1],M="";A[3]!==void 0&&o[3]!==void 0&&(d?(M+="M"+A[0]+","+o[1]+"L"+A[2]+","+o[2],M+="M"+A[1]+","+o[1]+"L"+A[3]+","+o[2]):(M+="M"+A[1]+","+o[1]+"L"+A[2]+","+o[3],M+="M"+A[1]+","+o[0]+"L"+A[2]+","+o[2])),M===""&&(M="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",M).call(s.setClipUrl,n.layerClipId,a)}})})}function t(a,n,f,u){var l=[],g=[],h=u?n:f,T=u?f:n;return l[0]=h.c2p(a.s0,!0),g[0]=T.c2p(a.p0,!0),l[1]=h.c2p(a.s1,!0),g[1]=T.c2p(a.p1,!0),l[2]=h.c2p(a.nextS0,!0),g[2]=T.c2p(a.nextP0,!0),l[3]=h.c2p(a.nextS1,!0),g[3]=T.c2p(a.nextP1,!0),u?[l,g]:[g,l]}},44544:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308),L=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,p=S.styleTextPoints;function r(t,a,n){var f=n||m.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=m.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=g.marker;m.select(this).call(s.fill,h.mc||T.color).call(s.stroke,h.mlc||T.line.color).call(P.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(l,g,t),l.selectAll(".regions").each(function(){m.select(this).selectAll("path").style("stroke-width",0).call(s.fill,g.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(m.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},22332:function(G,H,e){var m=e(74996),P=e(45464),s=e(86968).u,L=e(21776).Ks,S=e(21776).Gw,v=e(92880).extendFlat;G.exports={labels:m.labels,label0:m.label0,dlabel:m.dlabel,values:m.values,marker:{colors:m.marker.colors,line:{color:v({},m.marker.line.color,{dflt:null}),width:v({},m.marker.line.width,{dflt:1}),editType:"calc"},pattern:m.marker.pattern,editType:"calc"},text:m.text,hovertext:m.hovertext,scalegroup:v({},m.scalegroup,{}),textinfo:v({},m.textinfo,{flags:["label","text","value","percent"]}),texttemplate:S({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},m.textposition,{values:["inside","none"],dflt:"inside"}),textfont:m.textfont,insidetextfont:m.insidetextfont,title:{text:m.title.text,font:m.title.font,position:v({},m.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:s({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(G,H,e){var m=e(7316);H.name="funnelarea",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},54e3:function(G,H,e){var m=e(45768);function P(L,S){return m.calc(L,S)}function s(L){m.crossTraceCalc(L,{type:"funnelarea"})}G.exports={calc:P,crossTraceCalc:s}},92688:function(G,H,e){var m=e(3400),P=e(22332),s=e(86968).Q,L=e(31508).handleText,S=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;G.exports=function(r,t,a,n){function f(w,C){return m.coerce(r,t,P,w,C)}var u=f("labels"),l=f("values"),g=S(u,l),h=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,f),f("scalegroup");var T=f("text"),c=f("texttemplate"),i;if(c||(i=f("textinfo",Array.isArray(T)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||i&&i!=="none"){var d=f("textposition");L(r,t,n,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&f("textposition","none");s(t,n,f);var b=f("title.text");b&&(f("title.position"),m.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(G,H,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(G,H,e){var m=e(85204).hiddenlabels;G.exports={hiddenlabels:m,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(G,H,e){var m=e(3400),P=e(61280);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",S.colorway),v("extendfunnelareacolors")}},39472:function(G,H,e){var m=e(33428),P=e(43616),s=e(3400),L=s.strScale,S=s.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,g=u.determineInsideTextFont,h=u.layoutAreas,T=u.prerenderTitles,c=u.positionTitleOutside,i=u.formatSliceLabel;G.exports=function(y,E){var A=y._context.staticPlot,o=y._fullLayout;n("funnelarea",o),T(E,y),h(E,o._size),s.makeTraceGroups(o._funnelarealayer,E,"trace").each(function(M){var x=m.select(this),I=M[0],D=I.trace;w(M),x.each(function(){var N=m.select(this).selectAll("g.slice").data(M);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(O,F){if(O.hidden){m.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=D.index;var z=I.cx,B=I.cy,W=m.select(this),J=W.selectAll("path.surface").data([O]);J.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),W.call(l,y,M);var re="M"+(z+O.TR[0])+","+(B+O.TR[1])+d(O.TR,O.BR)+d(O.BR,O.BL)+d(O.BL,O.TL)+"Z";J.attr("d",re),i(y,O,I);var ne=f.castOption(D.textposition,O.pts),le=W.selectAll("g.slicetext").data(O.text&&ne!=="none"?[0]:[]);le.enter().append("g").classed("slicetext",!0),le.exit().remove(),le.each(function(){var $=s.ensureSingle(m.select(this),"text","",function(se){se.attr("data-notex",1)}),Z=s.ensureUniformFontSize(y,g(D,O,o.font));$.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,Z).call(v.convertToTspans,y);var ie=P.bBox($.node()),X,Q,oe,j=Math.min(O.BL[1],O.BR[1])+B,Y=Math.max(O.TL[1],O.TR[1])+B;Q=Math.max(O.TL[0],O.BL[0])+z,oe=Math.min(O.TR[0],O.BR[0])+z,X=r(Q,oe,j,Y,ie,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=Z.size,a(D.type,X,o),M[F].transform=X,s.setTransormAndDisplay($,X)})});var k=m.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var O=s.ensureSingle(m.select(this),"text","",function(B){B.attr("data-notex",1)}),F=D.title.text;D._meta&&(F=s.templateString(F,D._meta)),O.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,D.title.font).call(v.convertToTspans,y);var z=c(I,o._size);O.attr("transform",S(z.x,z.y)+L(Math.min(1,z.scale))+S(z.tx,z.ty))})})})};function d(C,y){var E=y[0]-C[0],A=y[1]-C[1];return"l"+E+","+A}function b(C,y){return[.5*(C[0]+y[0]),.5*(C[1]+y[1])]}function w(C){if(!C.length)return;var y=C[0],E=y.trace,A=E.aspectratio,o=E.baseratio;o>.999&&(o=.999);var M=Math.pow(o,2),x=y.vTotal,I=x*M/(1-M),D=x,N=I/x;function k(){var te=Math.sqrt(N);return{x:te,y:-te}}function O(){var te=k();return[te.x,te.y]}var F,z=[];z.push(O());var B,W;for(B=C.length-1;B>-1;B--)if(W=C[B],!W.hidden){var J=W.v/D;N+=J,z.push(O())}var re=1/0,ne=-1/0;for(B=0;B<z.length;B++)F=z[B],re=Math.min(re,F[1]),ne=Math.max(ne,F[1]);for(B=0;B<z.length;B++)z[B][1]-=(ne+re)/2;var le=z[z.length-1][0],$=y.r,Z=(ne-re)/2,ie=$/le,X=$/Z*A;for(y.r=X*Z,B=0;B<z.length;B++)z[B][0]*=ie,z[B][1]*=X;F=z[0];var Q=[-F[0],F[1]],oe=[F[0],F[1]],j=0;for(B=C.length-1;B>-1;B--)if(W=C[B],!W.hidden){j+=1;var Y=z[j][0],se=z[j][1];W.TL=[-Y,se],W.TR=[Y,se],W.BL=Q,W.BR=oe,W.pxmid=b(W.TR,W.BR),Q=W.TL,oe=W.TR}}},62096:function(G,H,e){var m=e(33428),P=e(10528),s=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._funnelarealayer.selectAll(".trace");s(S,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,a=m.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){m.select(this).call(P,n,t,S)})})}},83328:function(G,H,e){var m=e(52904),P=e(45464),s=e(25376),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},m.x,{impliedEdits:{xtype:"array"}}),x0:r({},m.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},m.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},m.y,{impliedEdits:{ytype:"array"}}),y0:r({},m.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},m.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},m.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},m.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},m.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},m.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},m.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},m.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:S(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:s({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:m.zorder},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(G,H,e){var m=e(24040),P=e(3400),s=e(54460),L=e(1220),S=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),a=e(11240),n=e(35744),f=e(39032).BADNUM;G.exports=function(h,T){var c=s.getFromId(h,T.xaxis||"x"),i=s.getFromId(h,T.yaxis||"y"),d=m.traceIs(T,"contour"),b=m.traceIs(T,"histogram"),w=m.traceIs(T,"gl2d"),C=d?"best":T.zsmooth,y,E,A,o,M,x,I,D,N,k,O;if(c._minDtick=0,i._minDtick=0,b)O=S(h,T),o=O.orig_x,y=O.x,E=O.x0,A=O.dx,D=O.orig_y,M=O.y,x=O.y0,I=O.dy,N=O.z;else{var F=T.z;P.isArray1D(F)?(p(T,c,i,"x","y",["z"]),y=T._x,M=T._y,F=T._z):(o=T.x?c.makeCalcdata(T,"x"):[],D=T.y?i.makeCalcdata(T,"y"):[],y=L(T,c,"x",o).vals,M=L(T,i,"y",D).vals,T._x=y,T._y=M),E=T.x0,A=T.dx,x=T.y0,I=T.dy,N=r(F,T,c,i)}(c.rangebreaks||i.rangebreaks)&&(N=l(y,M,N),b||(y=u(y),M=u(M),T._x=y,T._y=M)),!b&&(d||T.connectgaps)&&(T._emptypoints=a(N),t(N,T._emptypoints));function z(ie){C=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ie)}function B(ie){if(ie.length>1){var X=(ie[ie.length-1]-ie[0])/(ie.length-1),Q=Math.abs(X/100);for(k=0;k<ie.length-1;k++)if(Math.abs(ie[k+1]-ie[k]-X)>Q)return!1}return!0}T._islinear=!1,c.type==="log"||i.type==="log"?C==="fast"&&z("log axis found"):B(y)?B(M)?T._islinear=!0:C==="fast"&&z("y scale is not linear"):C==="fast"&&z("x scale is not linear");var W=P.maxRowLength(N),J=T.xtype==="scaled"?"":y,re=n(T,J,E,A,W,c),ne=T.ytype==="scaled"?"":M,le=n(T,ne,x,I,N.length,i);w||(T._extremes[c._id]=s.findExtremes(c,re),T._extremes[i._id]=s.findExtremes(i,le));var $={x:re,y:le,z:N,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&o&&($.orig_x=o),T.yperiodalignment&&D&&($.orig_y=D),J&&J.length===re.length-1&&($.xCenter=J),ne&&ne.length===le.length-1&&($.yCenter=ne),b&&($.xRanges=O.xRanges,$.yRanges=O.yRanges,$.pts=O.pts),d||v(h,T,{vals:N,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var Z={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};$.xfill=n(Z,J,E,A,W,c),$.yfill=n(Z,ne,x,I,N.length,i)}return[$]};function u(g){for(var h=[],T=g.length,c=0;c<T;c++){var i=g[c];i!==f&&h.push(i)}return h}function l(g,h,T){for(var c=[],i=-1,d=0;d<T.length;d++)if(h[d]!==f){i++,c[i]=[];for(var b=0;b<T[d].length;b++)g[b]!==f&&c[i].push(T[d][b])}return c}},26136:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032).BADNUM;G.exports=function(S,v,p,r){var t,a,n,f,u,l;function g(b){if(m(b))return+b}if(v&&v.transpose){for(t=0,u=0;u<S.length;u++)t=Math.max(t,S[u].length);if(t===0)return!1;n=function(b){return b.length},f=function(b,w,C){return(b[C]||[])[w]}}else t=S.length,n=function(b,w){return b[w].length},f=function(b,w,C){return(b[w]||[])[C]};var h=function(b,w,C){return w===s||C===s?s:f(b,w,C)};function T(b){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&b&&b.type==="category"&&v["_"+b._id.charAt(0)].length){var w=b._id.charAt(0),C={},y=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<y.length;u++)C[y[u]]=u;return function(E){var A=C[b._categories[E]];return A+1?A:s}}else return P.identity}var c=T(p),i=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?a=p._categories.length:a=n(S,u),d[u]=new Array(a),l=0;l<a;l++)d[u][l]=g(h(S,i(u),c(l)));return d}},96288:function(G){G.exports={min:"zmin",max:"zmax"}},2872:function(G,H,e){var m=e(3400),P=e(39032).BADNUM,s=e(1220);G.exports=function(S,v,p,r,t,a){var n=S._length,f=v.makeCalcdata(S,r),u=p.makeCalcdata(S,t);f=s(S,v,r,f).vals,u=s(S,p,t,u).vals;var l=S.text,g=l!==void 0&&m.isArray1D(l),h=S.hovertext,T=h!==void 0&&m.isArray1D(h),c,i,d=m.distinctVals(f),b=d.vals,w=m.distinctVals(u),C=w.vals,y=[],E,A,o=C.length,M=b.length;for(c=0;c<a.length;c++)y[c]=m.init2dArray(o,M);g&&(E=m.init2dArray(o,M)),T&&(A=m.init2dArray(o,M));var x=m.init2dArray(o,M);for(c=0;c<n;c++)if(f[c]!==P&&u[c]!==P){var I=m.findBin(f[c]+d.minDiff/2,b),D=m.findBin(u[c]+w.minDiff/2,C);for(i=0;i<a.length;i++){var N=a[i],k=S[N],O=y[i];O[D][I]=k[c],x[D][I]=c}g&&(E[D][I]=l[c]),T&&(A[D][I]=h[c])}for(S["_"+r]=b,S["_"+t]=C,i=0;i<a.length;i++)S["_"+a[i]]=y[i];g&&(S._text=E),T&&(S._hovertext=A),v&&v.type==="category"&&(S["_"+r+"CategoryMap"]=b.map(function(F){return v._categories[F]})),p&&p.type==="category"&&(S["_"+t+"CategoryMap"]=C.map(function(F){return p._categories[F]})),S._after2before=x}},24480:function(G,H,e){var m=e(3400),P=e(51264),s=e(39096),L=e(31147),S=e(82748),v=e(27260),p=e(83328);G.exports=function(t,a,n,f){function u(g,h){return m.coerce(t,a,p,g,h)}var l=P(t,a,u,f);if(!l){a.visible=!1;return}L(t,a,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),s(u,f),S(t,a,u,f),u("hoverongaps"),u("connectgaps",m.isArray1D(a.z)&&a.zsmooth!==!1),v(t,a,f,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(G,H,e){var m=e(3400).maxRowLength;G.exports=function(s){var L=[],S={},v=[],p=s[0],r=[],t=[0,0,0],a=m(s),n,f,u,l,g,h,T,c;for(f=0;f<s.length;f++)for(n=r,r=p,p=s[f+1]||[],u=0;u<a;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),h?(f===0&&h++,u===0&&h++,f===s.length-1&&h++,u===r.length-1&&h++,h<4&&(S[[f,u]]=[f,u,h]),L.push([f,u,h])):v.push([f,u]));for(;v.length;){for(T={},c=!1,g=v.length-1;g>=0;g--)l=v[g],f=l[0],u=l[1],h=((S[[f-1,u]]||t)[2]+(S[[f+1,u]]||t)[2]+(S[[f,u-1]]||t)[2]+(S[[f,u+1]]||t)[2])/20,h&&(T[l]=[f,u,h],v.splice(g,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in T)S[l]=T[l],L.push(T[l])}return L.sort(function(i,d){return d[2]-i[2]})}},55512:function(G,H,e){var m=e(93024),P=e(3400),s=P.isArrayOrTypedArray,L=e(54460),S=e(8932).extractOpts;G.exports=function(p,r,t,a,n){n||(n={});var f=n.isContour,u=p.cd[0],l=u.trace,g=p.xa,h=p.ya,T=u.x,c=u.y,i=u.z,d=u.xCenter,b=u.yCenter,w=u.zmask,C=l.zhoverformat,y=T,E=c,A,o,M,x;if(p.index!==!1){try{M=Math.round(p.index[1]),x=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(M<0||M>=i[0].length||x<0||x>i.length)return}else{if(m.inbox(r-T[0],r-T[T.length-1],0)>0||m.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var I;for(y=[2*T[0]-T[1]],I=1;I<T.length;I++)y.push((T[I]+T[I-1])/2);for(y.push([2*T[T.length-1]-T[T.length-2]]),E=[2*c[0]-c[1]],I=1;I<c.length;I++)E.push((c[I]+c[I-1])/2);E.push([2*c[c.length-1]-c[c.length-2]])}M=Math.max(0,Math.min(y.length-2,P.findBin(r,y))),x=Math.max(0,Math.min(E.length-2,P.findBin(t,E)))}var D=g.c2p(T[M]),N=g.c2p(T[M+1]),k=h.c2p(c[x]),O=h.c2p(c[x+1]),F,z;f?(F=u.orig_x||T,z=u.orig_y||c,N=D,A=F[M],O=k,o=z[x]):(F=u.orig_x||d||T,z=u.orig_y||b||c,A=d?F[M]:(F[M]+F[M+1])/2,o=b?z[x]:(z[x]+z[x+1])/2,g&&g.type==="category"&&(A=T[M]),h&&h.type==="category"&&(o=c[x]),l.zsmooth&&(D=N=g.c2p(A),k=O=h.c2p(o)));var B=i[x][M];if(w&&!w[x][M]&&(B=void 0),!(B===void 0&&!l.hoverongaps)){var W;s(u.hovertext)&&s(u.hovertext[x])?W=u.hovertext[x][M]:s(u.text)&&s(u.text[x])&&(W=u.text[x][M]);var J=S(l),re={type:"linear",range:[J.min,J.max],hoverformat:C,_separators:g._separators,_numFormat:g._numFormat},ne=L.tickText(re,B,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[x][M]:[x,M],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:D,x1:N,y0:k,y1:O,xLabelVal:A,yLabelVal:o,zLabelVal:B,zLabel:ne,text:W})]}}},81932:function(G,H,e){G.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(G,H,e){var m=e(3400),P=.01,s=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,a;for(S(p,r),a=0;a<r.length&&!(r[a][2]<4);a++);for(r=r.slice(a),a=0;a<100&&t>P;a++)t=S(p,r,L(t));return t>P&&m.log("interp2d didn't converge quickly",t),p};function S(v,p,r){var t=0,a,n,f,u,l,g,h,T,c,i,d,b,w;for(u=0;u<p.length;u++){for(a=p[u],n=a[0],f=a[1],d=v[n][f],i=0,c=0,l=0;l<4;l++)g=s[l],h=v[n+g[0]],h&&(T=h[f+g[1]],T!==void 0&&(i===0?b=w=T:(b=Math.min(b,T),w=Math.max(w,T)),c++,i+=T));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=i/c,d===void 0?c<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*d,w>b&&(t=Math.max(t,Math.abs(v[n][f]-d)/(w-b))))}return t}},39096:function(G,H,e){var m=e(3400);G.exports=function(s,L){s("texttemplate");var S=m.extendFlat({},L.font,{color:"auto",size:"auto"});m.coerceFont(s,"textfont",S)}},35744:function(G,H,e){var m=e(24040),P=e(3400).isArrayOrTypedArray;G.exports=function(L,S,v,p,r,t){var a=[],n=m.traceIs(L,"contour"),f=m.traceIs(L,"histogram"),u=m.traceIs(L,"gl2d"),l,g,h,T=P(S)&&S.length>1;if(T&&!f&&t.type!=="category"){var c=S.length;if(c<=r){if(n||u)a=Array.from(S).slice(0,r);else if(r===1)t.type==="log"?a=[.5*S[0],2*S[0]]:a=[S[0]-.5,S[0]+.5];else if(t.type==="log"){for(a=[Math.pow(S[0],1.5)/Math.pow(S[1],.5)],h=1;h<c;h++)a.push(Math.sqrt(S[h-1]*S[h]));a.push(Math.pow(S[c-1],1.5)/Math.pow(S[c-2],.5))}else{for(a=[1.5*S[0]-.5*S[1]],h=1;h<c;h++)a.push((S[h-1]+S[h])*.5);a.push(1.5*S[c-1]-.5*S[c-2])}if(c<r){var i=a[a.length-1],d;if(t.type==="log")for(d=i/a[a.length-2],h=c;h<r;h++)i*=d,a.push(i);else for(d=i-a[a.length-2],h=c;h<r;h++)i+=d,a.push(i)}}else return n?S.slice(0,r):S.slice(0,r+1)}else{var b=L[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,b);else if(P(S)&&S.length===1)l=S[0];else if(v===void 0)l=0;else{var w=t.type==="log"?t.d2c:t.r2c;l=w(v,0,b)}for(g=p||1,h=n||u?0:-.5;h<r;h++)a.push(l+g*h)}return a}},41420:function(G,H,e){var m=e(33428),P=e(49760),s=e(24040),L=e(43616),S=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),a=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,g=e(9188),h=e(2264).STYLE,T="heatmap-label";function c(C){return C.selectAll("g."+T)}function i(C){c(C).remove()}G.exports=function(C,y,E,A){var o=y.xaxis,M=y.yaxis;v.makeTraceGroups(A,E,"hm").each(function(x){var I=m.select(this),D=x[0],N=D.trace,k=N.xgap||0,O=N.ygap||0,F=D.z,z=D.x,B=D.y,W=D.xCenter,J=D.yCenter,re=s.traceIs(N,"contour"),ne=re?"best":N.zsmooth,le=F.length,$=v.maxRowLength(F),Z=!1,ie=!1,X,Q,oe,j,Y,se,te,fe;for(se=0;X===void 0&&se<z.length-1;)X=o.c2p(z[se]),se++;for(se=z.length-1;Q===void 0&&se>0;)Q=o.c2p(z[se]),se--;for(Q<X&&(oe=Q,Q=X,X=oe,Z=!0),se=0;j===void 0&&se<B.length-1;)j=M.c2p(B[se]),se++;for(se=B.length-1;Y===void 0&&se>0;)Y=M.c2p(B[se]),se--;Y<j&&(oe=j,j=Y,Y=oe,ie=!0),re&&(W=z,J=B,z=D.xfill,B=D.yfill);var ge="default";if(ne?ge=ne==="best"?"smooth":"fast":N._islinear&&k===0&&O===0&&g()&&(ge="fast"),ge!=="fast"){var be=ne==="best"?0:.5;X=Math.max(-be*o._length,X),Q=Math.min((1+be)*o._length,Q),j=Math.max(-be*M._length,j),Y=Math.min((1+be)*M._length,Y)}var xe=Math.round(Q-X),_e=Math.round(Y-j),De=X>=o._length||Q<=0||j>=M._length||Y<=0;if(De){var Fe=I.selectAll("image").data([]);Fe.exit().remove(),i(I);return}var Te,Re;ge==="fast"?(Te=$,Re=le):(Te=xe,Re=_e);var Se=document.createElement("canvas");Se.width=Te,Se.height=Re;var ke=Se.getContext("2d",{willReadFrequently:!0}),Me=n(N,{noNumericCheck:!0,returnArray:!0}),Ve,tt;ge==="fast"?(Ve=Z?function(Or){return $-1-Or}:v.identity,tt=ie?function(Or){return le-1-Or}:v.identity):(Ve=function(Or){return v.constrain(Math.round(o.c2p(z[Or])-X),0,xe)},tt=function(Or){return v.constrain(Math.round(M.c2p(B[Or])-j),0,_e)});var it=tt(0),Je=[it,it],Qe=Z?0:1,ct=ie?0:1,ht=0,dt=0,Tt=0,Et=0,rt,ze,Ge,je,We;function Le(Or,ln){if(Or!==void 0){var fn=Me(Or);return fn[0]=Math.round(fn[0]),fn[1]=Math.round(fn[1]),fn[2]=Math.round(fn[2]),ht+=ln,dt+=fn[0]*ln,Tt+=fn[1]*ln,Et+=fn[2]*ln,fn}return[0,0,0,0]}function Pe(Or,ln,fn,Mn){var Pn=Or[fn.bin0];if(Pn===void 0)return Le(void 0,1);var Hn=Or[fn.bin1],ia=ln[fn.bin0],ya=ln[fn.bin1],wa=Hn-Pn||0,Wn=ia-Pn||0,Qn;return Hn===void 0?ya===void 0?Qn=0:ia===void 0?Qn=2*(ya-Pn):Qn=(2*ya-ia-Pn)*2/3:ya===void 0?ia===void 0?Qn=0:Qn=(2*Pn-Hn-ia)*2/3:ia===void 0?Qn=(2*ya-Hn-Pn)*2/3:Qn=ya+Pn-Hn-ia,Le(Pn+fn.frac*wa+Mn.frac*(Wn+fn.frac*Qn))}if(ge!=="default"){var Ye=0,Ce;try{Ce=new Uint8Array(Te*Re*4)}catch{Ce=new Array(Te*Re*4)}if(ge==="smooth"){var he=W||z,me=J||B,Ne=new Array(he.length),$e=new Array(me.length),ot=new Array(xe),st=W?b:d,Wt=J?b:d,Zt,At,Rt;for(se=0;se<he.length;se++)Ne[se]=Math.round(o.c2p(he[se])-X);for(se=0;se<me.length;se++)$e[se]=Math.round(M.c2p(me[se])-j);for(se=0;se<xe;se++)ot[se]=st(se,Ne);for(te=0;te<_e;te++)for(Zt=Wt(te,$e),At=F[Zt.bin0],Rt=F[Zt.bin1],se=0;se<xe;se++,Ye+=4)We=Pe(At,Rt,ot[se],Zt),w(Ce,Ye,We)}else for(te=0;te<le;te++)for(je=F[te],Je=tt(te),se=0;se<$;se++)We=Le(je[se],1),Ye=(Je*$+Ve(se))*4,w(Ce,Ye,We);var Xt=ke.createImageData(Te,Re);try{Xt.data.set(Ce)}catch{var ir=Xt.data,pt=ir.length;for(te=0;te<pt;te++)ir[te]=Ce[te]}ke.putImageData(Xt,0,0)}else{var Kt=Math.floor(k/2),Qt=Math.floor(O/2);for(te=0;te<le;te++)if(je=F[te],Je.reverse(),Je[ct]=tt(te+1),!(Je[0]===Je[1]||Je[0]===void 0||Je[1]===void 0))for(ze=Ve(0),rt=[ze,ze],se=0;se<$;se++)rt.reverse(),rt[Qe]=Ve(se+1),!(rt[0]===rt[1]||rt[0]===void 0||rt[1]===void 0)&&(Ge=je[se],We=Le(Ge,(rt[1]-rt[0])*(Je[1]-Je[0])),ke.fillStyle="rgba("+We.join(",")+")",ke.fillRect(rt[0]+Kt,Je[0]+Qt,rt[1]-rt[0]-k,Je[1]-Je[0]-O))}dt=Math.round(dt/ht),Tt=Math.round(Tt/ht),Et=Math.round(Et/ht);var yr=P("rgb("+dt+","+Tt+","+Et+")");C._hmpixcount=(C._hmpixcount||0)+ht,C._hmlumcount=(C._hmlumcount||0)+ht*yr.getLuminance();var ur=I.selectAll("image").data(x);ur.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),ur.attr({height:_e,width:xe,x:X,y:j,"xlink:href":Se.toDataURL("image/png")}),ge==="fast"&&!ne&&ur.attr("style",h),i(I);var mt=N.texttemplate;if(mt){var lt=a(N),bt={type:"linear",range:[lt.min,lt.max],_separators:o._separators,_numFormat:o._numFormat},Ct=N.type==="histogram2dcontour",Dt=N.type==="contour",Ht=Dt?1:0,Bt=Dt?le-1:le,xt=Dt?1:0,Ut=Dt?$-1:$,qt=[];for(se=Ht;se<Bt;se++){var or;if(Dt)or=D.y[se];else if(Ct){if(se===0||se===le-1)continue;or=D.y[se]}else if(D.yCenter)or=D.yCenter[se];else{if(se+1===le&&D.y[se+1]===void 0)continue;or=(D.y[se]+D.y[se+1])/2}var rr=Math.round(M.c2p(or));if(!(0>rr||rr>M._length))for(te=xt;te<Ut;te++){var He;if(Dt)He=D.x[te];else if(Ct){if(te===0||te===$-1)continue;He=D.x[te]}else if(D.xCenter)He=D.xCenter[te];else{if(te+1===$&&D.x[te+1]===void 0)continue;He=(D.x[te]+D.x[te+1])/2}var Ue=Math.round(o.c2p(He));if(!(0>Ue||Ue>o._length)){var Ot=r({x:He,y:or},N,C._fullLayout);Ot.x=He,Ot.y=or;var It=D.z[se][te];It===void 0?(Ot.z="",Ot.zLabel=""):(Ot.z=It,Ot.zLabel=S.tickText(bt,It,"hover").text);var Jt=D.text&&D.text[se]&&D.text[se][te];(Jt===void 0||Jt===!1)&&(Jt=""),Ot.text=Jt;var cr=v.texttemplateString(mt,Ot,C._fullLayout._d3locale,Ot,N._meta||{});if(cr){var vr=cr.split("<br>"),tr=vr.length,Nt=0;for(fe=0;fe<tr;fe++)Nt=Math.max(Nt,vr[fe].length);qt.push({l:tr,c:Nt,t:cr,x:Ue,y:rr,z:It})}}}}var sr=N.textfont,dr=sr.size,xr=C._fullLayout.font.size;if(!dr||dr==="auto"){var pr=1/0,Hr=1/0,_r=0,Dr=0;for(fe=0;fe<qt.length;fe++){var an=qt[fe];if(_r=Math.max(_r,an.l),Dr=Math.max(Dr,an.c),fe<qt.length-1){var tn=qt[fe+1],Sn=Math.abs(tn.x-an.x),Tn=Math.abs(tn.y-an.y);Sn&&(pr=Math.min(pr,Sn)),Tn&&(Hr=Math.min(Hr,Tn))}}!isFinite(pr)||!isFinite(Hr)?dr=xr:(pr-=k,Hr-=O,pr/=Dr,Hr/=_r,pr/=l/2,Hr/=l,dr=Math.min(Math.floor(pr),Math.floor(Hr),xr))}if(dr<=0||!isFinite(dr))return;var Tr=function(Or){return Or.x},zr=function(Or){return Or.y-dr*(Or.l*l/2-1)},jr=c(I).data(qt);jr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(Or){var ln=m.select(this),fn=sr.color;(!fn||fn==="auto")&&(fn=t.contrast(Or.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Me(Or.z).join()+")")),ln.attr("data-notex",1).call(p.positionText,Tr(Or),zr(Or)).call(L.font,{family:sr.family,size:dr,color:fn,weight:sr.weight,style:sr.style,variant:sr.variant,textcase:sr.textcase,lineposition:sr.lineposition,shadow:sr.shadow}).text(Or.t).call(p.convertToTspans,C)})}})};function d(C,y){var E=y.length-2,A=v.constrain(v.findBin(C,y),0,E),o=y[A],M=y[A+1],x=v.constrain(A+(C-o)/(M-o)-.5,0,E),I=Math.round(x),D=Math.abs(x-I);return!x||x===E||!D?{bin0:I,bin1:I,frac:0}:{bin0:I,frac:D,bin1:Math.round(I+D/(x-I))}}function b(C,y){var E=y.length-1,A=v.constrain(v.findBin(C,y),0,E),o=y[A],M=y[A+1],x=(C-o)/(M-o)||0;return x<=0?{bin0:A,bin1:A,frac:0}:x<.5?{bin0:A,bin1:A+1,frac:x}:{bin0:A+1,bin1:A,frac:1-x}}function w(C,y,E){C[y]=E[0],C[y+1]=E[1],C[y+2]=E[2],C[y+3]=Math.round(E[3]*255)}},41648:function(G,H,e){var m=e(33428);G.exports=function(s){m.select(s).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},82748:function(G){G.exports=function(e,m,P){var s=P("zsmooth");s===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(G,H,e){var m=e(38248),P=e(3400),s=e(24040);G.exports=function(p,r,t,a,n,f){var u=t("z");n=n||"x",f=f||"y";var l,g;if(u===void 0||!u.length)return 0;if(P.isArray1D(u)){l=t(n),g=t(f);var h=P.minRowLength(l),T=P.minRowLength(g);if(h===0||T===0)return 0;r._length=Math.min(h,T,u.length)}else{if(l=L(n,t),g=L(f,t),!S(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=s.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,f],a),!0};function L(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function S(v){for(var p=!0,r=!1,t=!1,a,n=0;n<v.length;n++){if(a=v[n],!P.isArrayOrTypedArray(a)){p=!1;break}a.length>0&&(r=!0);for(var f=0;f<a.length;f++)if(m(a[f])){t=!0;break}}return p&&r&&t}},74512:function(G,H,e){for(var m=e(83328),P=e(49084),s=e(92880).extendFlat,L=e(67824).overrideAll,S=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<S.length;p++){var r=S[p];v[r]=m[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},s(v,P("",{cLetter:"z",autoColorDflt:!1})),G.exports=L(v,"calc","nested")},84656:function(G,H,e){var m=e(67792).gl_heatmap2d,P=e(54460),s=e(43080);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=m(r.glplot,this.options),this.heatmap._trace=this}var S=L.prototype;S.handlePick=function(r){var t=this.options,a=t.shape,n=r.pointId,f=n%a[0],u=Math.floor(n/a[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},S.update=function(r,t){var a=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=a.z;this.options.z=[].concat.apply([],n);var f=n[0].length,u=n.length;this.options.shape=[f,u],this.options.x=a.x,this.options.y=a.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,h=this.scene.yaxis,T,c;r.zsmooth===!1&&(T={ppad:a.x[1]-a.x[0]},c={ppad:a.y[1]-a.y[0]}),r._extremes[g._id]=P.findExtremes(g,a.x,T),r._extremes[h._id]=P.findExtremes(h,a.y,c)},S.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,a=r.zmin,n=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),g=0;g<f;g++){var h=t[g],T=s(h[1]);u[g]=a+h[0]*(n-a);for(var c=0;c<4;c++)l[4*g+c]=T[c]}return{colorLevels:u,colorValues:l}}function p(r,t,a){var n=new L(r,t.uid);return n.update(t,a),n}G.exports=p},86464:function(G,H,e){var m=e(3400),P=e(51264),s=e(27260),L=e(74512);G.exports=function(v,p,r,t){function a(f,u){return m.coerce(v,p,L,f,u)}var n=P(v,p,a,t);if(!n){p.visible=!1;return}a("text"),a("zsmooth"),s(v,p,t,a,{prefix:"",cLetter:"z"})}},45536:function(G,H,e){G.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(G,H,e){var m=e(20832),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(21776).Gw,S=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},m.text,{}),hovertext:r({},m.hovertext,{}),orientation:m.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},m.textposition,{arrayOk:!1}),textfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:m.insidetextanchor,textangle:m.textangle,cliponaxis:m.cliponaxis,constraintext:m.constraintext,marker:m.marker,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:m.selected,unselected:m.unselected,_deprecated:{bardir:m._deprecated.bardir},zorder:m.zorder}},2e3:function(G){G.exports=function(e,m){for(var P=e.length,s=0,L=0;L<P;L++)m[L]?(e[L]/=m[L],s+=e[L]):e[L]=null;return s}},11120:function(G){G.exports=function(e,m){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(G,H,e){var m=e(38248);G.exports={count:function(P,s,L){return L[P]++,1},sum:function(P,s,L,S){var v=S[s];return m(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,s,L,S,v){var p=S[s];return m(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,s,L,S){var v=S[s];if(m(v))if(v=Number(v),m(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,s,L,S){var v=S[s];if(m(v))if(v=Number(v),m(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},67712:function(G,H,e){var m=e(39032),P=m.ONEAVGYEAR,s=m.ONEAVGMONTH,L=m.ONEDAY,S=m.ONEHOUR,v=m.ONEMIN,p=m.ONESEC,r=e(54460).tickIncrement;G.exports=function(l,g,h,T,c){var i=-1.1*g,d=-.1*g,b=l-d,w=h[0],C=h[1],y=Math.min(t(w+d,w+b,T,c),t(C+d,C+b,T,c)),E=Math.min(t(w+i,w+d,T,c),t(C+i,C+d,T,c)),A,o;if(y>E&&E<Math.abs(C-w)/4e3?(A=y,o=!1):(A=Math.min(y,E),o=!0),T.type==="date"&&A>L){var M=A===P?1:6,x=A===P?"M12":"M1";return function(I,D){var N=T.c2d(I,P,c),k=N.indexOf("-",M);k>0&&(N=N.substr(0,k));var O=T.d2c(N,0,c);if(O<I){var F=r(O,x,!1,c);(O+F)/2<I+l&&(O=F)}return D&&o?r(O,x,!0,c):O}}return function(I,D){var N=A*Math.round(I/A);return N+A/10<I&&N+A*.9<I+l&&(N+=A),D&&o&&(N-=A),N}};function t(u,l,g,h){if(u*l<=0)return 1/0;for(var T=Math.abs(l-u),c=g.type==="date",i=a(T,c),d=0;d<10;d++){var b=a(i*80,c);if(i===b)break;if(n(b,u,l,c,g,h))i=b;else break}return i}function a(u,l){return l&&u>p?u>L?u>P*1.1?P:u>s*1.1?s:L:u>S?S:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,g,h,T,c){if(h&&u>L){var i=f(l,T,c),d=f(g,T,c),b=u===P?0:1;return i[b]!==d[b]}return Math.floor(g/u)-Math.floor(l/u)>.1}function f(u,l,g){var h=l.c2d(u,P,g).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(G,H,e){var m=e(38248),P=e(3400),s=e(24040),L=e(54460),S=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function a(g,h){var T=[],c=[],i=h.orientation==="h",d=L.getFromId(g,i?h.yaxis:h.xaxis),b=i?"y":"x",w={x:"y",y:"x"}[b],C=h[b+"calendar"],y=h.cumulative,E,A=n(g,h,d,b),o=A[0],M=A[1],x=typeof o.size=="string",I=[],D=x?I:o,N=[],k=[],O=[],F=0,z=h.histnorm,B=h.histfunc,W=z.indexOf("density")!==-1,J,re,ne;y.enabled&&W&&(z=z.replace(/ ?density$/,""),W=!1);var le=B==="max"||B==="min",$=le?null:0,Z=v.count,ie=p[z],X=!1,Q=function(ke){return d.r2c(ke,0,C)},oe;for(P.isArrayOrTypedArray(h[w])&&B!=="count"&&(oe=h[w],X=B==="avg",Z=v[B]),E=Q(o.start),re=Q(o.end)+(E-L.tickIncrement(E,o.size,!1,C))/1e6;E<re&&T.length<1e6&&(J=L.tickIncrement(E,o.size,!1,C),T.push((E+J)/2),c.push($),O.push([]),I.push(E),W&&N.push(1/(J-E)),X&&k.push(0),!(J<=E));)E=J;I.push(E),!x&&d.type==="date"&&(D={start:Q(D.start),end:Q(D.end),size:D.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var j=h["_"+b+"bingroup"],Y={leftGap:1/0,rightGap:1/0};j&&(g._fullLayout._roundFnOpts[j]||(g._fullLayout._roundFnOpts[j]=Y),Y=g._fullLayout._roundFnOpts[j]);var se=c.length,te=!0,fe=Y.leftGap,ge=Y.rightGap,be={};for(E=0;E<M.length;E++){var xe=M[E];ne=P.findBin(xe,D),ne>=0&&ne<se&&(F+=Z(ne,E,c,oe,k),te&&O[ne].length&&xe!==M[O[ne][0]]&&(te=!1),O[ne].push(E),be[E]=ne,fe=Math.min(fe,xe-I[ne]),ge=Math.min(ge,I[ne+1]-xe))}Y.leftGap=fe,Y.rightGap=ge;var _e;te||(_e=function(ke,Me){return function(){var Ve=g._fullLayout._roundFnOpts[j];return t(Ve.leftGap,Ve.rightGap,I,d,C)(ke,Me)}}),X&&(F=r(c,k)),ie&&ie(c,F,N),y.enabled&&l(c,y.direction,y.currentbin);var De=Math.min(T.length,c.length),Fe=[],Te=0,Re=De-1;for(E=0;E<De;E++)if(c[E]){Te=E;break}for(E=De-1;E>=Te;E--)if(c[E]){Re=E;break}for(E=Te;E<=Re;E++)if(m(T[E])&&m(c[E])){var Se={p:T[E],s:c[E],b:0};y.enabled||(Se.pts=O[E],te?Se.ph0=Se.ph1=O[E].length?M[O[E][0]]:T[E]:(h._computePh=!0,Se.ph0=_e(I[E]),Se.ph1=_e(I[E+1],!0))),Fe.push(Se)}return Fe.length===1&&(Fe[0].width1=L.tickIncrement(Fe[0].p,o.size,!1,C)-Fe[0].p),S(Fe,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Fe,h,be),Fe}function n(g,h,T,c,i){var d=c+"bins",b=g._fullLayout,w=h["_"+c+"bingroup"],C=b._histogramBinOpts[w],y=b.barmode==="overlay",E,A,o,M,x,I,D,N=function(xe){return T.r2c(xe,0,M)},k=function(xe){return T.c2r(xe,0,M)},O=T.type==="date"?function(xe){return xe||xe===0?P.cleanDate(xe,null,M):null}:function(xe){return m(xe)?Number(xe):null};function F(xe,_e,De){_e[xe+"Found"]?(_e[xe]=O(_e[xe]),_e[xe]===null&&(_e[xe]=De[xe])):(I[xe]=_e[xe]=De[xe],P.nestedProperty(A[0],d+"."+xe).set(De[xe]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{A=C.traces;var z=[],B=!0,W=!1,J=!1;for(E=0;E<A.length;E++)if(o=A[E],o.visible){var re=C.dirs[E];x=o["_"+re+"pos0"]=T.makeCalcdata(o,re),z=P.concat(z,x),delete o["_"+c+"autoBinFinished"],h.visible===!0&&(B?B=!1:(delete o._autoBin,o["_"+c+"autoBinFinished"]=1),s.traceIs(o,"2dMap")&&(W=!0),o.type==="histogram2dcontour"&&(J=!0))}M=A[0][c+"calendar"];var ne=L.autoBin(z,T,C.nbins,W,M,C.sizeFound&&C.size),le=A[0]._autoBin={};if(I=le[C.dirs[0]]={},J&&(C.size||(ne.start=k(L.tickIncrement(N(ne.start),ne.size,!0,M))),C.end===void 0&&(ne.end=k(L.tickIncrement(N(ne.end),ne.size,!1,M)))),y&&!s.traceIs(h,"2dMap")&&ne._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(i)return[ne,x,!0];ne=f(g,h,T,c,d)}D=o.cumulative||{},D.enabled&&D.currentbin!=="include"&&(D.direction==="decreasing"?ne.start=k(L.tickIncrement(N(ne.start),ne.size,!0,M)):ne.end=k(L.tickIncrement(N(ne.end),ne.size,!1,M))),C.size=ne.size,C.sizeFound||(I.size=ne.size,P.nestedProperty(A[0],d+".size").set(ne.size)),F("start",C,ne),F("end",C,ne)}x=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var $=h._input[d]||{},Z=P.extendFlat({},C),ie=C.start,X=T.r2l($.start),Q=X!==void 0;if((C.startFound||Q)&&X!==T.r2l(ie)){var oe=Q?X:P.aggNums(Math.min,null,x),j={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:C.size,tick0:ie,calendar:M,range:[oe,L.tickIncrement(oe,C.size,!1,M)].map(T.l2r)},Y=L.tickFirst(j);Y>T.r2l(oe)&&(Y=L.tickIncrement(Y,C.size,!0,M)),Z.start=T.l2r(Y),Q||P.nestedProperty(h,d+".start").set(Z.start)}var se=C.end,te=T.r2l($.end),fe=te!==void 0;if((C.endFound||fe)&&te!==T.r2l(se)){var ge=fe?te:P.aggNums(Math.max,null,x);Z.end=T.l2r(ge),fe||P.nestedProperty(h,d+".start").set(Z.end)}var be="autobin"+c;return h._input[be]===!1&&(h._input[d]=P.extendFlat({},h[d]||{}),delete h._input[be],delete h[be]),[Z,x]}function f(g,h,T,c,i){var d=g._fullLayout,b=u(g,h),w=!1,C=1/0,y=[h],E,A,o;for(E=0;E<b.length;E++)if(A=b[E],A===h)w=!0;else if(!w)o=d._histogramBinOpts[A["_"+c+"bingroup"]],C=Math.min(C,o.size||A[i].size);else{var M=n(g,A,T,c,!0),x=M[0],I=M[2];A["_"+c+"autoBinFinished"]=1,A["_"+c+"pos0"]=M[1],I?y.push(A):C=Math.min(C,x.size)}var D=new Array(y.length);for(E=0;E<y.length;E++)for(var N=y[E]["_"+c+"pos0"],k=0;k<N.length;k++)if(N[k]!==void 0){D[E]=N[k];break}for(isFinite(C)||(C=P.distinctVals(D).minDiff),E=0;E<y.length;E++){A=y[E];var O=A[c+"calendar"],F={start:T.c2r(D[E]-C/2,0,O),end:T.c2r(D[E]+C/2,0,O),size:C};A._input[i]=A[i]=F,o=d._histogramBinOpts[A["_"+c+"bingroup"]],o&&P.extendFlat(o,F)}return h[i]}function u(g,h){for(var T=h.xaxis,c=h.yaxis,i=h.orientation,d=[],b=g._fullData,w=0;w<b.length;w++){var C=b[w];C.type==="histogram"&&C.visible===!0&&C.orientation===i&&C.xaxis===T&&C.yaxis===c&&d.push(C)}return d}function l(g,h,T){var c,i,d;function b(C){d=g[C],g[C]/=2}function w(C){i=g[C],g[C]=d+i/2,d+=i}if(T==="half")if(h==="increasing")for(b(0),c=1;c<g.length;c++)w(c);else for(b(g.length-1),c=g.length-2;c>=0;c--)w(c);else if(h==="increasing"){for(c=1;c<g.length;c++)g[c]+=g[c-1];T==="exclude"&&(g.unshift(0),g.pop())}else{for(c=g.length-2;c>=0;c--)g[c]+=g[c+1];T==="exclude"&&(g.push(0),g.shift())}}G.exports={calc:a,calcAllAutoBins:n}},73316:function(G){G.exports={eventDataKeys:["binNumber"]}},80536:function(G,H,e){var m=e(3400),P=e(79811),s=e(24040).traceIs,L=e(20011),S=e(31508).validateCornerradius,v=m.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(n,f){var u=f._histogramBinOpts={},l=[],g={},h=[],T,c,i,d,b,w,C;function y(ne,le){return m.coerce(T._input,T,T._module.attributes,ne,le)}function E(ne){return ne.orientation==="v"?"x":"y"}function A(ne,le){var $=P.getFromTrace({_fullLayout:f},ne,le);return $.type}function o(ne,le,$){var Z=ne.uid+"__"+$;le||(le=Z);var ie=A(ne,$),X=ne[$+"calendar"]||"",Q=u[le],oe=!0;Q&&(ie===Q.axType&&X===Q.calendar?(oe=!1,Q.traces.push(ne),Q.dirs.push($)):(le=Z,ie!==Q.axType&&m.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+ie,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),X!==Q.calendar&&m.warn(["Attempted to group the bins of trace",ne.index,"set with a",X,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(u[le]={traces:[ne],dirs:[$],axType:ie,calendar:ne[$+"calendar"]||""}),ne["_"+$+"bingroup"]=le}for(b=0;b<n.length;b++)if(T=n[b],s(T,"histogram")){if(l.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var M=y("marker.cornerradius",f.barcornerradius);T.marker&&(T.marker.cornerradius=S(M))}s(T,"2dMap")||L(T._input,T,f,y)}var x=f._alignmentOpts||{};for(b=0;b<l.length;b++){if(T=l[b],i="",!s(T,"2dMap")){if(d=E(T),f.barmode==="group"&&T.alignmentgroup){var I=T[d+"axis"],D=p(f,I)+T.orientation;(x[D]||{})[T.alignmentgroup]&&(i=D)}!i&&f.barmode!=="overlay"&&(i=p(f,T.xaxis)+p(f,T.yaxis)+E(T))}i?(g[i]||(g[i]=[]),g[i].push(T)):h.push(T)}for(i in g){if(c=g[i],c.length===1){h.push(c[0]);continue}var N=!1;for(c.length&&(T=c[0],N=y("bingroup")),i=N||i,b=0;b<c.length;b++){T=c[b];var k=T._input.bingroup;k&&k!==i&&m.warn(["Trace",T.index,"must match","within bingroup",i+".","Ignoring its bingroup:",k,"setting."].join(" ")),T.bingroup=i,o(T,i,E(T))}}for(b=0;b<h.length;b++){T=h[b];var O=y("bingroup");if(s(T,"2dMap"))for(C=0;C<2;C++){d=t[C];var F=y(d+"bingroup",O?O+"__"+d:null);o(T,F,d)}else o(T,O,E(T))}for(i in u){var z=u[i];for(c=z.traces,w=0;w<r.length;w++){var B=r[w],W=B.name,J,re;if(!(W==="nbins"&&z.sizeFound)){for(b=0;b<c.length;b++){if(T=c[b],d=z.dirs[b],J=B.aStr[d],v(T._input,J).get()!==void 0){z[W]=y(J),z[W+"Found"]=!0;break}re=(T._autoBin||{})[d]||{},re[W]&&v(T,J).set(re[W])}if(W==="start"||W==="end")for(;b<c.length;b++)T=c[b],T["_"+d+"bingroup"]&&(re=(T._autoBin||{})[d]||{},y(J,re[W]));W==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(T=c[0],z[W]=y(J))}}}}},6616:function(G,H,e){var m=e(24040),P=e(3400),s=e(76308),L=e(31508).handleText,S=e(55592),v=e(40196);G.exports=function(r,t,a,n){function f(E,A){return P.coerce(r,t,v,E,A)}var u=f("x"),l=f("y"),g=f("cumulative.enabled");g&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");L(r,t,n,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var T=f("orientation",l&&!u?"h":"v"),c=T==="v"?"x":"y",i=T==="v"?"y":"x",d=u&&l?Math.min(P.minRowLength(u)&&P.minRowLength(l)):P.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var b=m.getComponentMethod("calendars","handleTraceDefaults");b(r,t,["x","y"],n);var w=t[i];w&&f("histfunc"),f("histnorm"),f("autobin"+c),S(r,t,f,a,n),P.coerceSelectionMarkerOpacity(t,f);var C=(t.marker.line||{}).color,y=m.getComponentMethod("errorbars","supplyDefaults");y(r,t,C||s.defaultLine,{axis:"y"}),y(r,t,C||s.defaultLine,{axis:"x",inherit:"y"}),f("zorder")}},84980:function(G){G.exports=function(e,m,P,s,L){if(e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"zLabelVal"in m&&(e.z=m.zLabelVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),!(P.cumulative||{}).enabled){var S=Array.isArray(L)?s[0].pts[L[0]][L[1]]:s[L].pts;e.pointNumbers=S,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<S.length;p++)v=v.concat(P._indexToPoints[S[p]])}else v=S;e.pointIndices=v}return e}},43339:function(G,H,e){var m=e(63400).hoverPoints,P=e(54460).hoverLabelText;G.exports=function(L,S,v,p,r){var t=m(L,S,v,p,r);if(t){L=t[0];var a=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";L[f+"Label"]=P(L[f+"a"],[a.ph0,a.ph1],n[f+"hoverformat"])}return t}}},42600:function(G,H,e){G.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(G){G.exports={percent:function(H,e){for(var m=H.length,P=100/e,s=0;s<m;s++)H[s]*=P},probability:function(H,e){for(var m=H.length,P=0;P<m;P++)H[P]/=e},density:function(H,e,m,P){var s=H.length;P=P||1;for(var L=0;L<s;L++)H[L]*=m[L]*P},"probability density":function(H,e,m,P){var s=H.length;P&&(e/=P);for(var L=0;L<s;L++)H[L]*=m[L]/e}}},37008:function(G,H,e){var m=e(40196),P=e(11120),s=e(83328),L=e(45464),S=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;G.exports=t({x:m.x,y:m.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:m.histnorm,histfunc:m.histfunc,nbinsx:m.nbinsx,xbins:P("x"),nbinsy:m.nbinsy,ybins:P("y"),autobinx:m.autobinx,autobiny:m.autobiny,bingroup:t({},m.bingroup,{}),xbingroup:t({},m.bingroup,{}),ybingroup:t({},m.bingroup,{}),xgap:s.xgap,ygap:s.ygap,zsmooth:s.zsmooth,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:s.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(G,H,e){var m=e(3400),P=e(54460),s=e(16964),L=e(10648),S=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;G.exports=function(f,u){var l=P.getFromId(f,u.xaxis),g=P.getFromId(f,u.yaxis),h=u.xcalendar,T=u.ycalendar,c=function(We){return l.r2c(We,0,h)},i=function(We){return g.r2c(We,0,T)},d=function(We){return l.c2r(We,0,h)},b=function(We){return g.c2r(We,0,T)},w,C,y,E,A=p(f,u,l,"x"),o=A[0],M=A[1],x=p(f,u,g,"y"),I=x[0],D=x[1],N=u._length;M.length>N&&M.splice(N,M.length-N),D.length>N&&D.splice(N,D.length-N);var k=[],O=[],F=[],z=typeof o.size=="string",B=typeof I.size=="string",W=[],J=[],re=z?W:o,ne=B?J:I,le=0,$=[],Z=[],ie=u.histnorm,X=u.histfunc,Q=ie.indexOf("density")!==-1,oe=X==="max"||X==="min",j=oe?null:0,Y=s.count,se=L[ie],te=!1,fe=[],ge=[],be="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";be&&X!=="count"&&(te=X==="avg",Y=s[X]);var xe=o.size,_e=c(o.start),De=c(o.end)+(_e-P.tickIncrement(_e,xe,!1,h))/1e6;for(w=_e;w<De;w=P.tickIncrement(w,xe,!1,h))O.push(j),W.push(w),te&&F.push(0);W.push(w);var Fe=O.length,Te=(w-_e)/Fe,Re=d(_e+Te/2),Se=I.size,ke=i(I.start),Me=i(I.end)+(ke-P.tickIncrement(ke,Se,!1,T))/1e6;for(w=ke;w<Me;w=P.tickIncrement(w,Se,!1,T)){k.push(O.slice()),J.push(w);var Ve=new Array(Fe);for(C=0;C<Fe;C++)Ve[C]=[];Z.push(Ve),te&&$.push(F.slice())}J.push(w);var tt=k.length,it=(w-ke)/tt,Je=b(ke+it/2);Q&&(fe=r(O.length,re,Te,z),ge=r(k.length,ne,it,B)),!z&&l.type==="date"&&(re=t(c,re)),!B&&g.type==="date"&&(ne=t(i,ne));var Qe=!0,ct=!0,ht=new Array(Fe),dt=new Array(tt),Tt=1/0,Et=1/0,rt=1/0,ze=1/0;for(w=0;w<N;w++){var Ge=M[w],je=D[w];y=m.findBin(Ge,re),E=m.findBin(je,ne),y>=0&&y<Fe&&E>=0&&E<tt&&(le+=Y(y,w,k[E],be,$[E]),Z[E][y].push(w),Qe&&(ht[y]===void 0?ht[y]=Ge:ht[y]!==Ge&&(Qe=!1)),ct&&(dt[E]===void 0?dt[E]=je:dt[E]!==je&&(ct=!1)),Tt=Math.min(Tt,Ge-W[y]),Et=Math.min(Et,W[y+1]-Ge),rt=Math.min(rt,je-J[E]),ze=Math.min(ze,J[E+1]-je))}if(te)for(E=0;E<tt;E++)le+=S(k[E],$[E]);if(se)for(E=0;E<tt;E++)se(k[E],le,fe,ge[E]);return{x:M,xRanges:a(W,Qe&&ht,Tt,Et,l,h),x0:Re,dx:Te,y:D,yRanges:a(J,ct&&dt,rt,ze,g,T),y0:Je,dy:it,z:k,pts:Z}};function r(n,f,u,l){var g=new Array(n),h;if(l)for(h=0;h<n;h++)g[h]=1/(f[h+1]-f[h]);else{var T=1/u;for(h=0;h<n;h++)g[h]=T}return g}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function a(n,f,u,l,g,h){var T,c=n.length-1,i=new Array(c),d=v(u,l,n,g,h);for(T=0;T<c;T++){var b=(f||[])[T];i[T]=b===void 0?[d(n[T]),d(n[T+1],!0)]:[b,b]}return i}},99784:function(G,H,e){var m=e(3400),P=e(56408),s=e(82748),L=e(27260),S=e(39096),v=e(37008);G.exports=function(r,t,a,n){function f(u,l){return m.coerce(r,t,v,u,l)}P(r,t,f,n),t.visible!==!1&&(s(r,t,f,n),L(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),S(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(G,H,e){var m=e(55512),P=e(54460).hoverLabelText;G.exports=function(L,S,v,p,r){var t=m(L,S,v,p,r);if(t){L=t[0];var a=L.index,n=a[0],f=a[1],u=L.cd[0],l=u.trace,g=u.xRanges[f],h=u.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],l.xhoverformat),L.yLabel=P(L.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(G,H,e){G.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(G,H,e){var m=e(24040),P=e(3400);G.exports=function(L,S,v,p){var r=v("x"),t=v("y"),a=P.minRowLength(r),n=P.minRowLength(t);if(!a||!n){S.visible=!1;return}S._length=Math.min(a,n);var f=m.getComponentMethod("calendars","handleTraceDefaults");f(L,S,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(G,H,e){var m=e(37008),P=e(67104),s=e(49084),L=e(29736).axisHoverFormat,S=e(92880).extendFlat;G.exports=S({x:m.x,y:m.y,z:m.z,marker:m.marker,histnorm:m.histnorm,histfunc:m.histfunc,nbinsx:m.nbinsx,xbins:m.xbins,nbinsy:m.nbinsy,ybins:m.ybins,autobinx:m.autobinx,autobiny:m.autobiny,bingroup:m.bingroup,xbingroup:m.xbingroup,ybingroup:m.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:S({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:m.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},s("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(G,H,e){var m=e(3400),P=e(56408),s=e(84952),L=e(97680),S=e(39096),v=e(81220);G.exports=function(r,t,a,n){function f(l,g){return m.coerce(r,t,v,l,g)}function u(l){return m.coerce2(r,t,v,l)}P(r,t,f,n),t.visible!==!1&&(s(r,t,f,u),L(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&S(f,n))}},65664:function(G,H,e){G.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(49084),L=e(86968).u,S=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,a=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:S.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:m({},{keys:r.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:S.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(G,H,e){var m=e(7316);H.name="icicle",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},73876:function(G,H,e){var m=e(3776);H.r=function(P,s){return m.calc(P,s)},H.q=function(P){return m._runCrossTraceCalc("icicle",P)}},7045:function(G,H,e){var m=e(3400),P=e(97376),s=e(76308),L=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;G.exports=function(f,u,l,g){function h(y,E){return m.coerce(f,u,P,y,E)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),u.texttemplate||h("textinfo",m.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var b=h("pathbar.visible"),w="auto";S(f,u,g,h,w,{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(f,u,g,h);var C=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;C&&a(f,u,g,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),u._hovered={marker:{line:{width:2,color:s.contrast(g.paper_bgcolor)}}},b&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(u,g,h),u._length=null}},67880:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(72736),S=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,g,h,T){var c=T.width,i=T.height,d=T.viewX,b=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,E=T.hasTransition,A=T.handleSlicesExit,o=T.makeUpdateSliceInterpolator,M=T.makeUpdateTextInterpolator,x=T.prevEntry,I={},D=u._context.staticPlot,N=u._fullLayout,k=l[0],O=k.trace,F=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,B=O.textposition.indexOf("bottom")!==-1,W=S(g,[c,i],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),J=W.descendants(),re=1/0,ne=-1/0;J.forEach(function(X){var Q=X.depth;Q>=O._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(re=Math.min(re,Q),ne=Math.max(ne,Q))}),h=h.data(J,r.getPtId),O._maxVisibleLayers=isFinite(ne)?ne-re+1:0,h.enter().append("g").classed("slice",!0),A(h,n,I,[c,i],w),h.order();var le=null;if(E&&x){var $=r.getPtId(x);h.each(function(X){le===null&&r.getPtId(X)===$&&(le={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Z=function(){return le||{x0:0,x1:c,y0:0,y1:i}},ie=h;return E&&(ie=ie.transition().each("end",function(){var X=m.select(this);r.setSliceCursor(X,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ie.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=b(X.y0),X._y1=b(X.y1),X._hoverX=d(X.x1-O.tiling.pad),X._hoverY=b(B?X.y1-O.tiling.pad/2:X.y0+O.tiling.pad/2);var Q=m.select(this),oe=P.ensureSingle(Q,"path","surface",function(te){te.style("pointer-events",D?"none":"all")});E?oe.transition().attrTween("d",function(te){var fe=o(te,n,Z(),[c,i],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(ge){return w(fe(ge))}}):oe.attr("d",w),Q.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),oe.call(v,X,O,u,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=a(X,g,O,l,N)||"";var j=P.ensureSingle(Q,"g","slicetext"),Y=P.ensureSingle(j,"text","",function(te){te.attr("data-notex",1)}),se=P.ensureUniformFontSize(u,r.determineTextFont(O,X,N.font));Y.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":F?"start":"middle").call(s.font,se).call(L.convertToTspans,u),X.textBB=s.bBox(Y.node()),X.transform=C(X,{fontSize:se.size}),X.transform.fontSize=se.size,E?Y.transition().attrTween("transform",function(te){var fe=M(te,n,Z(),[c,i]);return function(ge){return y(fe(ge))}}):Y.attr("transform",y(X))}),le}},29044:function(G,H,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(G,H,e){var m=e(3400),P=e(90676);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("iciclecolorway",S.colorway),v("extendiciclecolors")}},25132:function(G,H,e){var m=e(74148),P=e(83024);G.exports=function(L,S,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",a=v.maxDepth,n=S[0],f=S[1];a&&(n=(L.height+1)*S[0]/Math.min(L.height+1,a),f=(L.height+1)*S[1]/Math.min(L.height+1,a));var u=m.partition().padding(v.pad.inner).size(t?[S[1],n]:[S[0],f])(L);return(t||p||r)&&P(u,S,{swapXY:t,flipX:p,flipY:r}),u}},38364:function(G,H,e){var m=e(95808),P=e(67880);G.exports=function(L,S,v,p){return m(L,S,v,p,{type:"icicle",drawDescendants:P})}},47192:function(G,H,e){var m=e(33428),P=e(76308),s=e(3400),L=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(a){var n=m.select(this),f=a[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){m.select(this).call(p,l,u,r)})})}function p(r,t,a,n){var f=t.data.data,u=!t.children,l=f.i,g=s.castOption(a,l,"marker.line.color")||P.defaultLine,h=s.castOption(a,l,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(P.stroke,g).style("opacity",u?a.leaf.opacity:null)}G.exports={style:v,styleOne:p}},95188:function(G,H,e){for(var m=e(45464),P=e(52904).zorder,s=e(21776).Ks,L=e(92880).extendFlat,S=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],p=[],r=[],t=0;t<v.length;t++){var a=S[v[t]];p.push("For the `"+v[t]+"` colormodel, it is ["+(a.zminDflt||a.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(a.zmaxDflt||a.max).join(", ")+"].")}G.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},m.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:s({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(G,H,e){var m=e(3400),P=e(47797),s=e(38248),L=e(54460),S=e(3400).maxRowLength,v=e(18712).i;G.exports=function(n,f){var u,l;if(f._hasZ)u=f.z.length,l=S(f.z);else if(f._hasSource){var g=v(f.source);u=g.height,l=g.width}var h=L.getFromId(n,f.xaxis||"x"),T=L.getFromId(n,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,i=T.d2c(f.y0)-f.dy/2,d,b=[c,c+l*f.dx],w=[i,i+u*f.dy];if(h&&h.type==="log")for(d=0;d<l;d++)b.push(c+d*f.dx);if(T&&T.type==="log")for(d=0;d<u;d++)w.push(i+d*f.dy);f._extremes[h._id]=L.findExtremes(h,b),f._extremes[T._id]=L.findExtremes(T,w),f._scaler=t(f);var C={x0:c,y0:i,z:f.z,w:l,h:u};return[C]};function p(a,n,f,u){return function(l){return m.constrain((l-a)*n,f,u)}}function r(a,n){return function(f){return m.constrain(f,a,n)}}function t(a){var n=P.colormodel[a.colormodel],f=n.colormodel||a.colormodel,u=f.length;a._sArray=[];for(var l=0;l<u;l++)n.min[l]!==a.zmin[l]||n.max[l]!==a.zmax[l]?a._sArray.push(p(a.zmin[l],(n.max[l]-n.min[l])/(a.zmax[l]-a.zmin[l]),n.min[l],n.max[l])):a._sArray.push(r(n.min[l],n.max[l]));return function(g){for(var h=g.slice(0,u),T=0;T<u;T++){var c=h[T];if(!s(c))return!1;h[T]=a._sArray[T](c)}return h}}},47797:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(G,H,e){var m=e(3400),P=e(95188),s=e(47797),L=e(81792).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,f){return m.coerce(v,p,P,n,f)}r("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var a;p._hasZ?(r("colormodel","rgb"),a=s.colormodel[p.colormodel],r("zmin",a.zminDflt||a.min),r("zmax",a.zmaxDflt||a.max)):p._hasSource&&(p.colormodel="rgba256",a=s.colormodel[p.colormodel],p.zmin=a.zminDflt,p.zmax=a.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null,r("zorder")}},79972:function(G){G.exports=function(e,m){return"xVal"in m&&(e.x=m.xVal),"yVal"in m&&(e.y=m.yVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e.color=m.color,e.colormodel=m.trace.colormodel,e.z||(e.z=m.color),e}},18712:function(G,H,e){var m=e(19480),P=e(81792).IMAGE_URL_PREFIX,s=e(33576).Buffer;H.i=function(L){var S=L.replace(P,""),v=new s(S,"base64");return m(v)}},24892:function(G,H,e){var m=e(93024),P=e(3400),s=P.isArrayOrTypedArray,L=e(47797);G.exports=function(v,p,r){var t=v.cd[0],a=t.trace,n=v.xa,f=v.ya;if(!(m.inbox(p-t.x0,p-(t.x0+t.w*a.dx),0)>0||m.inbox(r-t.y0,r-(t.y0+t.h*a.dy),0)>0)){var u=Math.floor((p-t.x0)/a.dx),l=Math.floor(Math.abs(r-t.y0)/a.dy),g;if(a._hasZ?g=t.z[l][u]:a._hasSource&&(g=a._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!g){var h=t.hi||a.hoverinfo,T;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(T=!0)}var i=L.colormodel[a.colormodel],d=i.colormodel||a.colormodel,b=d.length,w=a._scaler(g),C=i.suffix,y=[];(a.hovertemplate||T)&&(y.push("["+[w[0]+C[0],w[1]+C[1],w[2]+C[2]].join(", ")),b===4&&y.push(", "+w[3]+C[3]),y.push("]"),y=y.join(""),v.extraText=d.toUpperCase()+": "+y);var E;s(a.hovertext)&&s(a.hovertext[l])?E=a.hovertext[l][u]:s(a.text)&&s(a.text[l])&&(E=a.text[l][u]);var A=f.c2p(t.y0+(l+.5)*a.dy),o=t.x0+(u+.5)*a.dx,M=t.y0+(l+.5)*a.dy,x="["+g.slice(0,a.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*a.dx),x1:n.c2p(t.x0+(u+1)*a.dx),y0:A,y1:A,color:w,xVal:o,xLabelVal:o,yVal:M,yLabelVal:M,zLabelVal:x,text:E,hovertemplateLabels:{zLabel:x,colorLabel:y,"color[0]Label":w[0]+C[0],"color[1]Label":w[1]+C[1],"color[2]Label":w[2]+C[2],"color[3]Label":w[3]+C[3]}})]}}}},48928:function(G,H,e){G.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(G,H,e){var m=e(33428),P=e(3400),s=P.strTranslate,L=e(9616),S=e(47797),v=e(9188),p=e(2264).STYLE;G.exports=function(t,a,n,f){var u=a.xaxis,l=a.yaxis,g=!t._context._exportedPlot&&v();P.makeTraceGroups(f,n,"im").each(function(h){var T=m.select(this),c=h[0],i=c.trace,d=(i.zsmooth==="fast"||i.zsmooth===!1&&g)&&!i._hasZ&&i._hasSource&&u.type==="linear"&&l.type==="linear";i._realImage=d;var b=c.z,w=c.x0,C=c.y0,y=c.w,E=c.h,A=i.dx,o=i.dy,M,x,I,D,N,k;for(k=0;M===void 0&&k<y;)M=u.c2p(w+k*A),k++;for(k=y;x===void 0&&k>0;)x=u.c2p(w+k*A),k--;for(k=0;D===void 0&&k<E;)D=l.c2p(C+k*o),k++;for(k=E;N===void 0&&k>0;)N=l.c2p(C+k*o),k--;if(x<M&&(I=x,x=M,M=I),N<D&&(I=D,D=N,N=I),!d){var O=.5;M=Math.max(-O*u._length,M),x=Math.min((1+O)*u._length,x),D=Math.max(-O*l._length,D),N=Math.min((1+O)*l._length,N)}var F=Math.round(x-M),z=Math.round(N-D),B=F<=0||z<=0;if(B){var W=T.selectAll("image").data([]);W.exit().remove();return}function J(j){var Y=document.createElement("canvas");Y.width=F,Y.height=z;var se=Y.getContext("2d",{willReadFrequently:!0}),te=function(ke){return P.constrain(Math.round(u.c2p(w+ke*A)-M),0,F)},fe=function(ke){return P.constrain(Math.round(l.c2p(C+ke*o)-D),0,z)},ge=S.colormodel[i.colormodel],be=ge.colormodel||i.colormodel,xe=ge.fmt,_e;for(k=0;k<c.w;k++){var De=te(k),Fe=te(k+1);if(!(Fe===De||isNaN(Fe)||isNaN(De)))for(var Te=0;Te<c.h;Te++){var Re=fe(Te),Se=fe(Te+1);Se===Re||isNaN(Se)||isNaN(Re)||!j(k,Te)||(_e=i._scaler(j(k,Te)),_e?se.fillStyle=be+"("+xe(_e).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(De,Re,Fe-De,Se-Re))}}return Y}var re=T.selectAll("image").data([h]);re.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),re.exit().remove();var ne=i.zsmooth===!1?p:"";if(d){var le=P.simpleMap(u.range,u.r2l),$=P.simpleMap(l.range,l.r2l),Z=le[1]<le[0],ie=$[1]>$[0];if(Z||ie){var X=M+F/2,Q=D+z/2;ne+="transform:"+s(X+"px",Q+"px")+"scale("+(Z?-1:1)+","+(ie?-1:1)+")"+s(-X+"px",-Q+"px")+";"}}re.attr("style",ne);var oe=new Promise(function(j){if(i._hasZ)j();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===y&&i._canvas.el.height===E&&i._canvas.source===i.source)j();else{var Y=document.createElement("canvas");Y.width=y,Y.height=E;var se=Y.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var te=i._image;te.onload=function(){se.drawImage(te,0,0),i._canvas={el:Y,source:i.source},j()},te.setAttribute("src",i.source)}}).then(function(){var j,Y;if(i._hasZ)Y=J(function(fe,ge){var be=b[ge][fe];return P.isTypedArray(be)&&(be=Array.from(be)),be}),j=Y.toDataURL("image/png");else if(i._hasSource)if(d)j=i.source;else{var se=i._canvas.el.getContext("2d",{willReadFrequently:!0}),te=se.getImageData(0,0,y,E).data;Y=J(function(fe,ge){var be=4*(ge*y+fe);return[te[be],te[be+1],te[be+2],te[be+3]]}),j=Y.toDataURL("image/png")}re.attr({"xlink:href":j,height:z,width:F,x:M,y:D})});t._promises.push(oe)})}},28576:function(G,H,e){var m=e(33428);G.exports=function(s){m.select(s).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},89864:function(G,H,e){var m=e(92880).extendFlat,P=e(92880).extendDeep,s=e(67824).overrideAll,L=e(25376),S=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),a=e(29736).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:S.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},f,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:m({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:m({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:m({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:s({range:u,visible:m({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:m({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:m({},f.line.color,{}),width:m({},f.line.width,{dflt:1}),editType:"plot"},thickness:m({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(G,H,e){var m=e(7316);H.name="indicator",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},79136:function(G){function H(e,m){var P=[],s=m.value;typeof m._lastValue!="number"&&(m._lastValue=m.value);var L=m._lastValue,S=L;return m._hasDelta&&typeof m.delta.reference=="number"&&(S=m.delta.reference),P[0]={y:s,lastY:L,delta:s-S,relativeDelta:(s-S)/S},P}G.exports={calc:H}},12096:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(G,H,e){var m=e(3400),P=e(89864),s=e(86968).Q,L=e(31780),S=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),a=e(42568);function n(u,l,g,h){function T(F,z){return m.coerce(u,l,P,F,z)}s(l,h,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=T("value");l._range=[0,typeof c=="number"?1.5*c:1];var i=new Array(2),d;if(l._hasNumber){T("number.valueformat");var b=m.extendFlat({},h.font);b.size=void 0,m.coerceFont(T,"number.font",b),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,i[0]=!0),T("number.prefix"),T("number.suffix"),d=l.number.font.size}var w;if(l._hasDelta){var C=m.extendFlat({},h.font);C.size=void 0,m.coerceFont(T,"delta.font",C),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),i[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),w=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||i[0])&&(!l._hasDelta||i[1])||!1;var y=m.extendFlat({},h.font);y.size=.25*(d||w||v.defaultNumberFontSize),m.coerceFont(T,"title.font",y),T("title.text");var E,A,o,M;function x(F,z){return m.coerce(E,A,P.gauge,F,z)}function I(F,z){return m.coerce(o,M,P.gauge.axis,F,z)}if(l._hasGauge){E=u.gauge,E||(E={}),A=L.newContainer(l,"gauge"),x("shape");var D=l._isBullet=l.gauge.shape==="bullet";D||T("title.align","center");var N=l._isAngular=l.gauge.shape==="angular";N||T("align","center"),x("bgcolor",h.paper_bgcolor),x("borderwidth"),x("bordercolor"),x("bar.color"),x("bar.line.color"),x("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);x("bar.thickness",k),S(E,A,{name:"steps",handleItemDefaults:f}),x("threshold.value"),x("threshold.thickness"),x("threshold.line.width"),x("threshold.line.color"),o={},E&&(o=E.axis||{}),M=L.newContainer(A,"axis"),I("visible"),l._range=I("range",l._range);var O={font:h.font,noAutotickangles:!0,outerTicks:!0};p(o,M,I,"linear"),a(o,M,I,"linear",O),t(o,M,I,"linear",O),r(o,M,I,O)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function g(h,T){return m.coerce(u,l,P.gauge.steps,h,T)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}G.exports={supplyDefaults:n}},43480:function(G,H,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(G,H,e){var m=e(33428),P=e(67756).qy,s=e(67756).Gz,L=e(3400),S=L.strScale,v=L.strTranslate,p=L.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),a=e(12096),n=e(72736),f=e(54460),u=e(28336),l=e(37668),g=e(94724),h=e(76308),T={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},i=/[yzafpnµmkMGTPEZY]/;function d(D){return D&&D.duration>0}G.exports=function(N,k,O,F){var z=N._fullLayout,B;d(O)&&F&&(B=F()),L.makeTraceGroups(z._indicatorlayer,k,"trace").each(function(W){var J=W[0],re=J.trace,ne=m.select(this),le=re._hasGauge,$=re._isAngular,Z=re._isBullet,ie=re.domain,X={w:z._size.w*(ie.x[1]-ie.x[0]),h:z._size.h*(ie.y[1]-ie.y[0]),l:z._size.l+z._size.w*ie.x[0],r:z._size.r+z._size.w*(1-ie.x[1]),t:z._size.t+z._size.h*(1-ie.y[1]),b:z._size.b+z._size.h*ie.y[0]},Q=X.l+X.w/2,oe=X.t+X.h/2,j=Math.min(X.w/2,X.h),Y=a.innerRadius*j,se,te,fe,ge=re.align||"center";if(te=oe,!le)se=X.l+c[ge]*X.w,fe=function(Me){return o(Me,X.w,X.h)};else if($&&(se=Q,te=oe+j/2,fe=function(Me){return M(Me,.9*Y)}),Z){var be=a.bulletPadding,xe=1-a.bulletNumberDomainSize+be;se=X.l+(xe+(1-xe)*c[ge])*X.w,fe=function(Me){return o(Me,(a.bulletNumberDomainSize-be)*X.w,X.h)}}C(N,ne,W,{numbersX:se,numbersY:te,numbersScaler:fe,transitionOpts:O,onComplete:B});var _e,De;le&&(_e={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},De={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Fe=ne.selectAll("g.angular").data($?W:[]);Fe.exit().remove();var Te=ne.selectAll("g.angularaxis").data($?W:[]);Te.exit().remove(),$&&w(N,ne,W,{radius:j,innerRadius:Y,gauge:Fe,layer:Te,size:X,gaugeBg:_e,gaugeOutline:De,transitionOpts:O,onComplete:B});var Re=ne.selectAll("g.bullet").data(Z?W:[]);Re.exit().remove();var Se=ne.selectAll("g.bulletaxis").data(Z?W:[]);Se.exit().remove(),Z&&b(N,ne,W,{gauge:Re,layer:Se,size:X,gaugeBg:_e,gaugeOutline:De,transitionOpts:O,onComplete:B});var ke=ne.selectAll("text.title").data(W);ke.exit().remove(),ke.enter().append("text").classed("title",!0),ke.attr("text-anchor",function(){return Z?T.right:T[re.title.align]}).text(re.title.text).call(t.font,re.title.font).call(n.convertToTspans,N),ke.attr("transform",function(){var Me=X.l+X.w*c[re.title.align],Ve,tt=a.titlePadding,it=t.bBox(ke.node());if(le){if($)if(re.gauge.axis.visible){var Je=t.bBox(Te.node());Ve=Je.top-tt-it.bottom}else Ve=X.t+X.h/2-j/2-it.bottom-tt;Z&&(Ve=te-(it.top+it.bottom)/2,Me=X.l-a.bulletPadding*X.w)}else Ve=re._numbersTop-tt-it.bottom;return v(Me,Ve)})})};function b(D,N,k,O){var F=k[0].trace,z=O.gauge,B=O.layer,W=O.gaugeBg,J=O.gaugeOutline,re=O.size,ne=F.domain,le=O.transitionOpts,$=O.onComplete,Z,ie,X,Q,oe;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(re.l,re.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var j=re.h,Y=F.gauge.bar.thickness*j,se=ne.x[0],te=ne.x[0]+(ne.x[1]-ne.x[0])*(F._hasNumber||F._hasDelta?1-a.bulletNumberDomainSize:1);Z=A(D,F.gauge.axis),Z._id="xbulletaxis",Z.domain=[se,te],Z.setScale(),ie=f.calcTicks(Z),X=f.makeTransTickFn(Z),Q=f.getTickSigns(Z)[2],oe=re.t+re.h,Z.visible&&(f.drawTicks(D,Z,{vals:Z.ticks==="inside"?f.clipEnds(Z,ie):ie,layer:B,path:f.makeTickPath(Z,oe,Q),transFn:X}),f.drawLabels(D,Z,{vals:ie,layer:B,transFn:X,labelFns:f.makeLabelFns(Z,oe)}));function fe(Te){Te.attr("width",function(Re){return Math.max(0,Z.c2p(Re.range[1])-Z.c2p(Re.range[0]))}).attr("x",function(Re){return Z.c2p(Re.range[0])}).attr("y",function(Re){return .5*(1-Re.thickness)*j}).attr("height",function(Re){return Re.thickness*j})}var ge=[W].concat(F.gauge.steps),be=z.selectAll("g.bg-bullet").data(ge);be.enter().append("g").classed("bg-bullet",!0).append("rect"),be.select("rect").call(fe).call(y),be.exit().remove();var xe=z.selectAll("g.value-bullet").data([F.gauge.bar]);xe.enter().append("g").classed("value-bullet",!0).append("rect"),xe.select("rect").attr("height",Y).attr("y",(j-Y)/2).call(y),d(le)?xe.select("rect").transition().duration(le.duration).ease(le.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()}).attr("width",Math.max(0,Z.c2p(Math.min(F.gauge.axis.range[1],k[0].y)))):xe.select("rect").attr("width",typeof k[0].y=="number"?Math.max(0,Z.c2p(Math.min(F.gauge.axis.range[1],k[0].y))):0),xe.exit().remove();var _e=k.filter(function(){return F.gauge.threshold.value||F.gauge.threshold.value===0}),De=z.selectAll("g.threshold-bullet").data(_e);De.enter().append("g").classed("threshold-bullet",!0).append("line"),De.select("line").attr("x1",Z.c2p(F.gauge.threshold.value)).attr("x2",Z.c2p(F.gauge.threshold.value)).attr("y1",(1-F.gauge.threshold.thickness)/2*j).attr("y2",(1-(1-F.gauge.threshold.thickness)/2)*j).call(h.stroke,F.gauge.threshold.line.color).style("stroke-width",F.gauge.threshold.line.width),De.exit().remove();var Fe=z.selectAll("g.gauge-outline").data([J]);Fe.enter().append("g").classed("gauge-outline",!0).append("rect"),Fe.select("rect").call(fe).call(y),Fe.exit().remove()}function w(D,N,k,O){var F=k[0].trace,z=O.size,B=O.radius,W=O.innerRadius,J=O.gaugeBg,re=O.gaugeOutline,ne=[z.l+z.w/2,z.t+z.h/2+B/2],le=O.gauge,$=O.layer,Z=O.transitionOpts,ie=O.onComplete,X=Math.PI/2;function Q(Qe){var ct=F.gauge.axis.range[0],ht=F.gauge.axis.range[1],dt=(Qe-ct)/(ht-ct)*Math.PI-X;return dt<-X?-X:dt>X?X:dt}function oe(Qe){return m.svg.arc().innerRadius((W+B)/2-Qe/2*(B-W)).outerRadius((W+B)/2+Qe/2*(B-W)).startAngle(-X)}function j(Qe){Qe.attr("d",function(ct){return oe(ct.thickness).startAngle(Q(ct.range[0])).endAngle(Q(ct.range[1]))()})}var Y,se,te,fe;le.enter().append("g").classed("angular",!0),le.attr("transform",v(ne[0],ne[1])),$.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),$.selectAll("g.xangularaxistick,path,text").remove(),Y=A(D,F.gauge.axis),Y.type="linear",Y.range=F.gauge.axis.range,Y._id="xangularaxis",Y.ticklabeloverflow="allow",Y.setScale();var ge=function(Qe){return(Y.range[0]-Qe.x)/(Y.range[1]-Y.range[0])*Math.PI+Math.PI},be={},xe=f.makeLabelFns(Y,0),_e=xe.labelStandoff;be.xFn=function(Qe){var ct=ge(Qe);return Math.cos(ct)*_e},be.yFn=function(Qe){var ct=ge(Qe),ht=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(_e+Qe.fontSize*ht)+Math.abs(Math.cos(ct))*(Qe.fontSize*r)},be.anchorFn=function(Qe){var ct=ge(Qe),ht=Math.cos(ct);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},be.heightFn=function(Qe,ct,ht){var dt=ge(Qe);return-.5*(1+Math.sin(dt))*ht};var De=function(Qe){return v(ne[0]+B*Math.cos(Qe),ne[1]-B*Math.sin(Qe))};te=function(Qe){return De(ge(Qe))};var Fe=function(Qe){var ct=ge(Qe);return De(ct)+"rotate("+-p(ct)+")"};if(se=f.calcTicks(Y),fe=f.getTickSigns(Y)[2],Y.visible){fe=Y.ticks==="inside"?-1:1;var Te=(Y.linewidth||1)/2;f.drawTicks(D,Y,{vals:se,layer:$,path:"M"+fe*Te+",0h"+fe*Y.ticklen,transFn:Fe}),f.drawLabels(D,Y,{vals:se,layer:$,transFn:te,labelFns:be})}var Re=[J].concat(F.gauge.steps),Se=le.selectAll("g.bg-arc").data(Re);Se.enter().append("g").classed("bg-arc",!0).append("path"),Se.select("path").call(j).call(y),Se.exit().remove();var ke=oe(F.gauge.bar.thickness),Me=le.selectAll("g.value-arc").data([F.gauge.bar]);Me.enter().append("g").classed("value-arc",!0).append("path");var Ve=Me.select("path");d(Z)?(Ve.transition().duration(Z.duration).ease(Z.easing).each("end",function(){ie&&ie()}).each("interrupt",function(){ie&&ie()}).attrTween("d",E(ke,Q(k[0].lastY),Q(k[0].y))),F._lastValue=k[0].y):Ve.attr("d",typeof k[0].y=="number"?ke.endAngle(Q(k[0].y)):"M0,0Z"),Ve.call(y),Me.exit().remove(),Re=[];var tt=F.gauge.threshold.value;(tt||tt===0)&&Re.push({range:[tt,tt],color:F.gauge.threshold.color,line:{color:F.gauge.threshold.line.color,width:F.gauge.threshold.line.width},thickness:F.gauge.threshold.thickness});var it=le.selectAll("g.threshold-arc").data(Re);it.enter().append("g").classed("threshold-arc",!0).append("path"),it.select("path").call(j).call(y),it.exit().remove();var Je=le.selectAll("g.gauge-outline").data([re]);Je.enter().append("g").classed("gauge-outline",!0).append("path"),Je.select("path").call(j).call(y),Je.exit().remove()}function C(D,N,k,O){var F=k[0].trace,z=O.numbersX,B=O.numbersY,W=F.align||"center",J=T[W],re=O.transitionOpts,ne=O.onComplete,le=L.ensureSingle(N,"g","numbers"),$,Z,ie,X=[];F._hasNumber&&X.push("number"),F._hasDelta&&(X.push("delta"),F.delta.position==="left"&&X.reverse());var Q=le.selectAll("text").data(X);Q.enter().append("text"),Q.attr("text-anchor",function(){return J}).attr("class",function(De){return De}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Q.exit().remove();function oe(De,Fe,Te,Re){if(De.match("s")&&Te>=0!=Re>=0&&!Fe(Te).slice(-1).match(i)&&!Fe(Re).slice(-1).match(i)){var Se=De.slice().replace("s","f").replace(/\d+/,function(Me){return parseInt(Me)-1}),ke=A(D,{tickformat:Se});return function(Me){return Math.abs(Me)<1?f.tickText(ke,Me).text:Fe(Me)}}else return Fe}function j(){var De=A(D,{tickformat:F.number.valueformat},F._range);De.setScale(),f.prepTicks(De);var Fe=function(Me){return f.tickText(De,Me).text},Te=F.number.suffix,Re=F.number.prefix,Se=le.select("text.number");function ke(){var Me=typeof k[0].y=="number"?Re+Fe(k[0].y)+Te:"-";Se.text(Me).call(t.font,F.number.font).call(n.convertToTspans,D)}return d(re)?Se.transition().duration(re.duration).ease(re.easing).each("end",function(){ke(),ne&&ne()}).each("interrupt",function(){ke(),ne&&ne()}).attrTween("text",function(){var Me=m.select(this),Ve=s(k[0].lastY,k[0].y);F._lastValue=k[0].y;var tt=oe(F.number.valueformat,Fe,k[0].lastY,k[0].y);return function(it){Me.text(Re+tt(Ve(it))+Te)}}):ke(),$=x(Re+Fe(k[0].y)+Te,F.number.font,J,D),Se}function Y(){var De=A(D,{tickformat:F.delta.valueformat},F._range);De.setScale(),f.prepTicks(De);var Fe=function(it){return f.tickText(De,it).text},Te=F.delta.suffix,Re=F.delta.prefix,Se=function(it){var Je=F.delta.relative?it.relativeDelta:it.delta;return Je},ke=function(it,Je){return it===0||typeof it!="number"||isNaN(it)?"-":(it>0?F.delta.increasing.symbol:F.delta.decreasing.symbol)+Re+Je(it)+Te},Me=function(it){return it.delta>=0?F.delta.increasing.color:F.delta.decreasing.color};F._deltaLastValue===void 0&&(F._deltaLastValue=Se(k[0]));var Ve=le.select("text.delta");Ve.call(t.font,F.delta.font).call(h.fill,Me({delta:F._deltaLastValue}));function tt(){Ve.text(ke(Se(k[0]),Fe)).call(h.fill,Me(k[0])).call(n.convertToTspans,D)}return d(re)?Ve.transition().duration(re.duration).ease(re.easing).tween("text",function(){var it=m.select(this),Je=Se(k[0]),Qe=F._deltaLastValue,ct=oe(F.delta.valueformat,Fe,Qe,Je),ht=s(Qe,Je);return F._deltaLastValue=Je,function(dt){it.text(ke(ht(dt),ct)),it.call(h.fill,Me({delta:ht(dt)}))}}).each("end",function(){tt(),ne&&ne()}).each("interrupt",function(){tt(),ne&&ne()}):tt(),Z=x(ke(Se(k[0]),Fe),F.delta.font,J,D),Ve}var se=F.mode+F.align,te;if(F._hasDelta&&(te=Y(),se+=F.delta.position+F.delta.font.size+F.delta.font.family+F.delta.valueformat,se+=F.delta.increasing.symbol+F.delta.decreasing.symbol,ie=Z),F._hasNumber&&(j(),se+=F.number.font.size+F.number.font.family+F.number.valueformat+F.number.suffix+F.number.prefix,ie=$),F._hasDelta&&F._hasNumber){var fe=[($.left+$.right)/2,($.top+$.bottom)/2],ge=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],be,xe,_e=.75*F.delta.font.size;F.delta.position==="left"&&(be=I(F,"deltaPos",0,-1*($.width*c[F.align]+Z.width*(1-c[F.align])+_e),se,Math.min),xe=fe[1]-ge[1],ie={width:$.width+Z.width+_e,height:Math.max($.height,Z.height),left:Z.left+be,right:$.right,top:Math.min($.top,Z.top+xe),bottom:Math.max($.bottom,Z.bottom+xe)}),F.delta.position==="right"&&(be=I(F,"deltaPos",0,$.width*(1-c[F.align])+Z.width*c[F.align]+_e,se,Math.max),xe=fe[1]-ge[1],ie={width:$.width+Z.width+_e,height:Math.max($.height,Z.height),left:$.left,right:Z.right+be,top:Math.min($.top,Z.top+xe),bottom:Math.max($.bottom,Z.bottom+xe)}),F.delta.position==="bottom"&&(be=null,xe=Z.height,ie={width:Math.max($.width,Z.width),height:$.height+Z.height,left:Math.min($.left,Z.left),right:Math.max($.right,Z.right),top:$.bottom-$.height,bottom:$.bottom+Z.height}),F.delta.position==="top"&&(be=null,xe=$.top,ie={width:Math.max($.width,Z.width),height:$.height+Z.height,left:Math.min($.left,Z.left),right:Math.max($.right,Z.right),top:$.bottom-$.height-Z.height,bottom:$.bottom}),te.attr({dx:be,dy:xe})}(F._hasNumber||F._hasDelta)&&le.attr("transform",function(){var De=O.numbersScaler(ie);se+=De[2];var Fe=I(F,"numbersScale",1,De[0],se,Math.min),Te;F._scaleNumbers||(Fe=1),F._isAngular?Te=B-Fe*ie.bottom:Te=B-Fe*(ie.top+ie.bottom)/2,F._numbersTop=Fe*ie.top+Te;var Re=ie[W];W==="center"&&(Re=(ie.left+ie.right)/2);var Se=z-Fe*Re;return Se=I(F,"numbersTranslate",0,Se,se,Math.max),v(Se,Te)+S(Fe)})}function y(D){D.each(function(N){h.stroke(m.select(this),N.line.color)}).each(function(N){h.fill(m.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function E(D,N,k){return function(){var O=P(N,k);return function(F){return D.endAngle(O(F))()}}}function A(D,N,k){var O=D._fullLayout,F=L.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),z={type:"linear",_id:"x"+N._id},B={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(J,re){return L.coerce(F,z,g,J,re)}return u(F,z,W,B,O),l(F,z,W,B),z}function o(D,N,k){var O=Math.min(N/D.width,k/D.height);return[O,D,N+"x"+k]}function M(D,N){var k=Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),O=N/k;return[O,D,N]}function x(D,N,k,O){var F=document.createElementNS("http://www.w3.org/2000/svg","text"),z=m.select(F);return z.text(D).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",D).call(n.convertToTspans,O).call(t.font,N),t.bBox(z.node())}function I(D,N,k,O,F,z){var B="_cache"+N;D[B]&&D[B].key===F||(D[B]={key:F,value:k});var W=L.aggNums(z,null,[D[B].value,O],2);return D[B].value=W,W}},50048:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var a=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:s(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},S.showlegend,{dflt:!1})},m("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},S.hoverinfo)}),"calc","nested");a.flatshading.dflt=!0,a.lighting.facenormalsepsilon.dflt=0,a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},62624:function(G,H,e){var m=e(47128),P=e(3832).processGrid,s=e(3832).filter;G.exports=function(S,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=s(v.x,v._len),v._y=s(v.y,v._len),v._z=s(v.z,v._len),v._value=s(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,a=0;a<v._len;a++){var n=v._value[a];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,m(S,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(G,H,e){var m=e(67792).gl_mesh3d,P=e(33040).parseColorScale,s=e(3400).isArrayOrTypedArray,L=e(43080),S=e(8932).extractOpts,v=e(52094),p=function(u,l){for(var g=l.length-1;g>0;g--){var h=Math.min(l[g],l[g-1]),T=Math.max(l[g],l[g-1]);if(T>h&&h<u&&u<=T)return{id:g,distRatio:(T-u)/(T-h)}}return{id:0,distRatio:0}};function r(u,l,g){this.scene=u,this.uid=g,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,g=this.data._meshX[l],h=this.data._meshY[l],T=this.data._meshZ[l],c=this.data._Ys.length,i=this.data._Zs.length,d=p(g,this.data._Xs).id,b=p(h,this.data._Ys).id,w=p(T,this.data._Zs).id,C=u.index=w+i*b+i*c*d;u.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var y=this.data.hovertext||this.data.text;return s(y)&&y[C]!==void 0?u.textLabel=y[C]:y&&(u.textLabel=y),!0}},t.update=function(u){var l=this.scene,g=l.fullSceneLayout;this.data=n(u);function h(b,w,C,y){return w.map(function(E){return b.d2l(E,0,y)*C})}var T=v(h(g.xaxis,u._meshX,l.dataScale[0],u.xcalendar),h(g.yaxis,u._meshY,l.dataScale[1],u.ycalendar),h(g.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),i={positions:T,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=S(u);i.vertexIntensity=u._meshIntensity,i.vertexIntensityBounds=[d.min,d.max],i.colormap=P(u),this.mesh.update(i)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var a=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,g=u.spaceframe.show,h=u.surface.fill,T=u.spaceframe.fill,c=!1,i=!1,d=0,b,w,C=u._Xs,y=u._Ys,E=u._Zs,A=C.length,o=y.length,M=E.length,x=a.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),I=function(je,We,Le){switch(x){case 5:return Le+M*We+M*o*je;case 4:return Le+M*je+M*A*We;case 3:return We+o*Le+o*M*je;case 2:return We+o*je+o*A*Le;case 1:return je+A*Le+A*M*We;default:return je+A*We+A*o*Le}},D=u._minValues,N=u._maxValues,k=u._vMin,O=u._vMax,F,z,B,W;function J(je,We,Le){for(var Pe=W.length,Ye=w;Ye<Pe;Ye++)if(je===F[Ye]&&We===z[Ye]&&Le===B[Ye])return Ye;return-1}function re(){w=b}function ne(){F=[],z=[],B=[],W=[],b=0,re()}function le(je,We,Le,Pe){return F.push(je),z.push(We),B.push(Le),W.push(Pe),b++,b-1}function $(je,We,Le){return u._meshI.push(je),u._meshJ.push(We),u._meshK.push(Le),d++,d-1}function Z(je,We,Le){for(var Pe=[],Ye=0;Ye<je.length;Ye++)Pe[Ye]=(je[Ye]+We[Ye]+Le[Ye])/3;return Pe}function ie(je,We,Le){for(var Pe=[],Ye=0;Ye<je.length;Ye++)Pe[Ye]=je[Ye]*(1-Le)+Le*We[Ye];return Pe}var X;function Q(je){X=je}function oe(je,We){var Le=je[0],Pe=je[1],Ye=je[2],Ce=Z(Le,Pe,Ye),he=Math.sqrt(1-X),me=ie(Ce,Le,he),Ne=ie(Ce,Pe,he),$e=ie(Ce,Ye,he),ot=We[0],st=We[1],Wt=We[2];return{xyzv:[[Le,Pe,Ne],[Ne,me,Le],[Pe,Ye,$e],[$e,Ne,Pe],[Ye,Le,me],[me,$e,Ye]],abc:[[ot,st,-1],[-1,-1,ot],[st,Wt,-1],[-1,-1,st],[Wt,ot,-1],[-1,-1,Wt]]}}function j(je,We){return je==="all"||je===null?!0:je.indexOf(We)>-1}function Y(je,We){return je===null?We:je}function se(je,We,Le){re();var Pe=[We],Ye=[Le];if(X>=1)Pe=[We],Ye=[Le];else if(X>0){var Ce=oe(We,Le);Pe=Ce.xyzv,Ye=Ce.abc}for(var he=0;he<Pe.length;he++){We=Pe[he],Le=Ye[he];for(var me=[],Ne=0;Ne<3;Ne++){var $e=We[Ne][0],ot=We[Ne][1],st=We[Ne][2],Wt=We[Ne][3],Zt=Le[Ne]>-1?Le[Ne]:J($e,ot,st);Zt>-1?me[Ne]=Zt:me[Ne]=le($e,ot,st,Y(je,Wt))}$(me[0],me[1],me[2])}}function te(je,We,Le){var Pe=function(Ye,Ce,he){se(je,[We[Ye],We[Ce],We[he]],[Le[Ye],Le[Ce],Le[he]])};Pe(0,1,2),Pe(2,3,0)}function fe(je,We,Le){var Pe=function(Ye,Ce,he){se(je,[We[Ye],We[Ce],We[he]],[Le[Ye],Le[Ce],Le[he]])};Pe(0,1,2),Pe(3,0,1),Pe(2,3,0),Pe(1,2,3)}function ge(je,We,Le,Pe){var Ye=je[3];Ye<Le&&(Ye=Le),Ye>Pe&&(Ye=Pe);for(var Ce=(je[3]-Ye)/(je[3]-We[3]+1e-9),he=[],me=0;me<4;me++)he[me]=(1-Ce)*je[me]+Ce*We[me];return he}function be(je,We,Le){return je>=We&&je<=Le}function xe(je){var We=.001*(O-k);return je>=k-We&&je<=O+We}function _e(je){for(var We=[],Le=0;Le<4;Le++){var Pe=je[Le];We.push([u._x[Pe],u._y[Pe],u._z[Pe],u._value[Pe]])}return We}var De=3;function Fe(je,We,Le,Pe,Ye,Ce){Ce||(Ce=1),Le=[-1,-1,-1];var he=!1,me=[be(We[0][3],Pe,Ye),be(We[1][3],Pe,Ye),be(We[2][3],Pe,Ye)];if(!me[0]&&!me[1]&&!me[2])return!1;var Ne=function(ot,st,Wt){return xe(st[0][3])&&xe(st[1][3])&&xe(st[2][3])?(se(ot,st,Wt),!0):Ce<De?Fe(ot,st,Wt,k,O,++Ce):!1};if(me[0]&&me[1]&&me[2])return Ne(je,We,Le)||he;var $e=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ot){if(me[ot[0]]&&me[ot[1]]&&!me[ot[2]]){var st=We[ot[0]],Wt=We[ot[1]],Zt=We[ot[2]],At=ge(Zt,st,Pe,Ye),Rt=ge(Zt,Wt,Pe,Ye);he=Ne(je,[Rt,At,st],[-1,-1,Le[ot[0]]])||he,he=Ne(je,[st,Wt,Rt],[Le[ot[0]],Le[ot[1]],-1])||he,$e=!0}}),$e||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ot){if(me[ot[0]]&&!me[ot[1]]&&!me[ot[2]]){var st=We[ot[0]],Wt=We[ot[1]],Zt=We[ot[2]],At=ge(Wt,st,Pe,Ye),Rt=ge(Zt,st,Pe,Ye);he=Ne(je,[Rt,At,st],[-1,-1,Le[ot[0]]])||he,$e=!0}}),he}function Te(je,We,Le,Pe){var Ye=!1,Ce=_e(We),he=[be(Ce[0][3],Le,Pe),be(Ce[1][3],Le,Pe),be(Ce[2][3],Le,Pe),be(Ce[3][3],Le,Pe)];if(!he[0]&&!he[1]&&!he[2]&&!he[3])return Ye;if(he[0]&&he[1]&&he[2]&&he[3])return i&&(Ye=fe(je,Ce,We)||Ye),Ye;var me=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(he[Ne[0]]&&he[Ne[1]]&&he[Ne[2]]&&!he[Ne[3]]){var $e=Ce[Ne[0]],ot=Ce[Ne[1]],st=Ce[Ne[2]],Wt=Ce[Ne[3]];if(i)Ye=se(je,[$e,ot,st],[We[Ne[0]],We[Ne[1]],We[Ne[2]]])||Ye;else{var Zt=ge(Wt,$e,Le,Pe),At=ge(Wt,ot,Le,Pe),Rt=ge(Wt,st,Le,Pe);Ye=se(null,[Zt,At,Rt],[-1,-1,-1])||Ye}me=!0}}),me||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(he[Ne[0]]&&he[Ne[1]]&&!he[Ne[2]]&&!he[Ne[3]]){var $e=Ce[Ne[0]],ot=Ce[Ne[1]],st=Ce[Ne[2]],Wt=Ce[Ne[3]],Zt=ge(st,$e,Le,Pe),At=ge(st,ot,Le,Pe),Rt=ge(Wt,ot,Le,Pe),Xt=ge(Wt,$e,Le,Pe);i?(Ye=se(je,[$e,Xt,Zt],[We[Ne[0]],-1,-1])||Ye,Ye=se(je,[ot,At,Rt],[We[Ne[1]],-1,-1])||Ye):Ye=te(null,[Zt,At,Rt,Xt],[-1,-1,-1,-1])||Ye,me=!0}}),me)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(he[Ne[0]]&&!he[Ne[1]]&&!he[Ne[2]]&&!he[Ne[3]]){var $e=Ce[Ne[0]],ot=Ce[Ne[1]],st=Ce[Ne[2]],Wt=Ce[Ne[3]],Zt=ge(ot,$e,Le,Pe),At=ge(st,$e,Le,Pe),Rt=ge(Wt,$e,Le,Pe);i?(Ye=se(je,[$e,Zt,At],[We[Ne[0]],-1,-1])||Ye,Ye=se(je,[$e,At,Rt],[We[Ne[0]],-1,-1])||Ye,Ye=se(je,[$e,Rt,Zt],[We[Ne[0]],-1,-1])||Ye):Ye=se(null,[Zt,At,Rt],[-1,-1,-1])||Ye,me=!0}}),Ye}function Re(je,We,Le,Pe,Ye,Ce,he,me,Ne,$e,ot){var st=!1;return c&&(j(je,"A")&&(st=Te(null,[We,Le,Pe,Ce],$e,ot)||st),j(je,"B")&&(st=Te(null,[Le,Pe,Ye,Ne],$e,ot)||st),j(je,"C")&&(st=Te(null,[Le,Ce,he,Ne],$e,ot)||st),j(je,"D")&&(st=Te(null,[Pe,Ce,me,Ne],$e,ot)||st),j(je,"E")&&(st=Te(null,[Le,Pe,Ce,Ne],$e,ot)||st)),i&&(st=Te(je,[Le,Pe,Ce,Ne],$e,ot)||st),st}function Se(je,We,Le,Pe,Ye,Ce,he,me){return[me[0]===!0?!0:Fe(je,_e([We,Le,Pe]),[We,Le,Pe],Ce,he),me[1]===!0?!0:Fe(je,_e([Pe,Ye,We]),[Pe,Ye,We],Ce,he)]}function ke(je,We,Le,Pe,Ye,Ce,he,me,Ne){return me?Se(je,We,Le,Ye,Pe,Ce,he,Ne):Se(je,Le,Ye,Pe,We,Ce,he,Ne)}function Me(je,We,Le,Pe,Ye,Ce,he){var me=!1,Ne,$e,ot,st,Wt=function(){me=Fe(je,[Ne,$e,ot],[-1,-1,-1],Ye,Ce)||me,me=Fe(je,[ot,st,Ne],[-1,-1,-1],Ye,Ce)||me},Zt=he[0],At=he[1],Rt=he[2];return Zt&&(Ne=ie(_e([I(We,Le-0,Pe-0)])[0],_e([I(We-1,Le-0,Pe-0)])[0],Zt),$e=ie(_e([I(We,Le-0,Pe-1)])[0],_e([I(We-1,Le-0,Pe-1)])[0],Zt),ot=ie(_e([I(We,Le-1,Pe-1)])[0],_e([I(We-1,Le-1,Pe-1)])[0],Zt),st=ie(_e([I(We,Le-1,Pe-0)])[0],_e([I(We-1,Le-1,Pe-0)])[0],Zt),Wt()),At&&(Ne=ie(_e([I(We-0,Le,Pe-0)])[0],_e([I(We-0,Le-1,Pe-0)])[0],At),$e=ie(_e([I(We-0,Le,Pe-1)])[0],_e([I(We-0,Le-1,Pe-1)])[0],At),ot=ie(_e([I(We-1,Le,Pe-1)])[0],_e([I(We-1,Le-1,Pe-1)])[0],At),st=ie(_e([I(We-1,Le,Pe-0)])[0],_e([I(We-1,Le-1,Pe-0)])[0],At),Wt()),Rt&&(Ne=ie(_e([I(We-0,Le-0,Pe)])[0],_e([I(We-0,Le-0,Pe-1)])[0],Rt),$e=ie(_e([I(We-0,Le-1,Pe)])[0],_e([I(We-0,Le-1,Pe-1)])[0],Rt),ot=ie(_e([I(We-1,Le-1,Pe)])[0],_e([I(We-1,Le-1,Pe-1)])[0],Rt),st=ie(_e([I(We-1,Le-0,Pe)])[0],_e([I(We-1,Le-0,Pe-1)])[0],Rt),Wt()),me}function Ve(je,We,Le,Pe,Ye,Ce,he,me,Ne,$e,ot,st){var Wt=je;return st?(c&&je==="even"&&(Wt=null),Re(Wt,We,Le,Pe,Ye,Ce,he,me,Ne,$e,ot)):(c&&je==="odd"&&(Wt=null),Re(Wt,Ne,me,he,Ce,Ye,Pe,Le,We,$e,ot))}function tt(je,We,Le,Pe,Ye){for(var Ce=[],he=0,me=0;me<We.length;me++)for(var Ne=We[me],$e=1;$e<M;$e++)for(var ot=1;ot<o;ot++)Ce.push(ke(je,I(Ne,ot-1,$e-1),I(Ne,ot-1,$e),I(Ne,ot,$e-1),I(Ne,ot,$e),Le,Pe,(Ne+ot+$e)%2,Ye&&Ye[he]?Ye[he]:[])),he++;return Ce}function it(je,We,Le,Pe,Ye){for(var Ce=[],he=0,me=0;me<We.length;me++)for(var Ne=We[me],$e=1;$e<A;$e++)for(var ot=1;ot<M;ot++)Ce.push(ke(je,I($e-1,Ne,ot-1),I($e,Ne,ot-1),I($e-1,Ne,ot),I($e,Ne,ot),Le,Pe,($e+Ne+ot)%2,Ye&&Ye[he]?Ye[he]:[])),he++;return Ce}function Je(je,We,Le,Pe,Ye){for(var Ce=[],he=0,me=0;me<We.length;me++)for(var Ne=We[me],$e=1;$e<o;$e++)for(var ot=1;ot<A;ot++)Ce.push(ke(je,I(ot-1,$e-1,Ne),I(ot-1,$e,Ne),I(ot,$e-1,Ne),I(ot,$e,Ne),Le,Pe,(ot+$e+Ne)%2,Ye&&Ye[he]?Ye[he]:[])),he++;return Ce}function Qe(je,We,Le){for(var Pe=1;Pe<M;Pe++)for(var Ye=1;Ye<o;Ye++)for(var Ce=1;Ce<A;Ce++)Ve(je,I(Ce-1,Ye-1,Pe-1),I(Ce-1,Ye-1,Pe),I(Ce-1,Ye,Pe-1),I(Ce-1,Ye,Pe),I(Ce,Ye-1,Pe-1),I(Ce,Ye-1,Pe),I(Ce,Ye,Pe-1),I(Ce,Ye,Pe),We,Le,(Ce+Ye+Pe)%2)}function ct(je,We,Le){i=!0,Qe(je,We,Le),i=!1}function ht(je,We,Le){c=!0,Qe(je,We,Le),c=!1}function dt(je,We,Le,Pe,Ye,Ce){for(var he=[],me=0,Ne=0;Ne<We.length;Ne++)for(var $e=We[Ne],ot=1;ot<M;ot++)for(var st=1;st<o;st++)he.push(Me(je,$e,st,ot,Le,Pe,Ye[Ne],Ce&&Ce[me]?Ce[me]:[])),me++;return he}function Tt(je,We,Le,Pe,Ye,Ce){for(var he=[],me=0,Ne=0;Ne<We.length;Ne++)for(var $e=We[Ne],ot=1;ot<A;ot++)for(var st=1;st<M;st++)he.push(Me(je,ot,$e,st,Le,Pe,Ye[Ne],Ce&&Ce[me]?Ce[me]:[])),me++;return he}function Et(je,We,Le,Pe,Ye,Ce){for(var he=[],me=0,Ne=0;Ne<We.length;Ne++)for(var $e=We[Ne],ot=1;ot<o;ot++)for(var st=1;st<A;st++)he.push(Me(je,st,ot,$e,Le,Pe,Ye[Ne],Ce&&Ce[me]?Ce[me]:[])),me++;return he}function rt(je,We){for(var Le=[],Pe=je;Pe<We;Pe++)Le.push(Pe);return Le}function ze(){for(var je=0;je<A;je++)for(var We=0;We<o;We++)for(var Le=0;Le<M;Le++){var Pe=I(je,We,Le);le(u._x[Pe],u._y[Pe],u._z[Pe],u._value[Pe])}}function Ge(){ne(),ze();var je=null;if(g&&T&&(Q(T),ct(je,k,O)),l&&h){Q(h);for(var We=u.surface.pattern,Le=u.surface.count,Pe=0;Pe<Le;Pe++){var Ye=Le===1?.5:Pe/(Le-1),Ce=(1-Ye)*k+Ye*O,he=Math.abs(Ce-D),me=Math.abs(Ce-N),Ne=he>me?[D,Ce]:[Ce,N];ht(We,Ne[0],Ne[1])}}var $e=[[Math.min(k,N),Math.max(k,N)],[Math.min(D,O),Math.max(D,O)]];["x","y","z"].forEach(function(ot){for(var st=[],Wt=0;Wt<$e.length;Wt++){var Zt=0,At=$e[Wt][0],Rt=$e[Wt][1],Xt=u.slices[ot];if(Xt.show&&Xt.fill){Q(Xt.fill);var ir=[],pt=[],Kt=[];if(Xt.locations.length)for(var Qt=0;Qt<Xt.locations.length;Qt++){var yr=p(Xt.locations[Qt],ot==="x"?C:ot==="y"?y:E);yr.distRatio===0?ir.push(yr.id):yr.id>0&&(pt.push(yr.id),ot==="x"?Kt.push([yr.distRatio,0,0]):ot==="y"?Kt.push([0,yr.distRatio,0]):Kt.push([0,0,yr.distRatio]))}else ot==="x"?ir=rt(1,A-1):ot==="y"?ir=rt(1,o-1):ir=rt(1,M-1);pt.length>0&&(ot==="x"?st[Zt]=dt(je,pt,At,Rt,Kt,st[Zt]):ot==="y"?st[Zt]=Tt(je,pt,At,Rt,Kt,st[Zt]):st[Zt]=Et(je,pt,At,Rt,Kt,st[Zt]),Zt++),ir.length>0&&(ot==="x"?st[Zt]=tt(je,ir,At,Rt,st[Zt]):ot==="y"?st[Zt]=it(je,ir,At,Rt,st[Zt]):st[Zt]=Je(je,ir,At,Rt,st[Zt]),Zt++)}var ur=u.caps[ot];ur.show&&ur.fill&&(Q(ur.fill),ot==="x"?st[Zt]=tt(je,[0,A-1],At,Rt,st[Zt]):ot==="y"?st[Zt]=it(je,[0,o-1],At,Rt,st[Zt]):st[Zt]=Je(je,[0,M-1],At,Rt,st[Zt]),Zt++)}}),d===0&&ne(),u._meshX=F,u._meshY=z,u._meshZ=B,u._meshIntensity=W,u._Xs=C,u._Ys=y,u._Zs=E}return Ge(),u}function f(u,l){var g=u.glplot.gl,h=m({gl:g}),T=new r(u,h,l.uid);return h._trace=T,T.update(l),u.glplot.add(h),T}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(G,H,e){var m=e(3400),P=e(24040),s=e(50048),L=e(27260);function S(p,r,t,a){function n(f,u){return m.coerce(p,r,s,f,u)}v(p,r,t,a,n)}function v(p,r,t,a,n){var f=n("isomin"),u=n("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=n("x"),g=n("y"),h=n("z"),T=n("value");if(!l||!l.length||!g||!g.length||!h||!h.length||!T||!T.length){r.visible=!1;return}var c=P.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],a),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var C="caps."+w,y=n(C+".show");y&&n(C+".fill");var E="slices."+w,A=n(E+".show");A&&(n(E+".fill"),n(E+".locations"))});var i=n("spaceframe.show");i&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var b=n("contour.show");b&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),L(p,r,a,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:S,supplyIsoDefaults:v}},6296:function(G,H,e){G.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(16716),S=e(45464),v=e(92880).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},m("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},S.hoverinfo,{editType:"calc"}),showlegend:v({},S.showlegend,{dflt:!1})})},1876:function(G,H,e){var m=e(47128);G.exports=function(s,L){L.intensity&&m(s,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},576:function(G,H,e){var m=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,s=e(67792).alpha_shape,L=e(67792).convex_hull,S=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function a(c,i,d){this.scene=c,this.uid=d,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=a.prototype;n.handlePick=function(c){if(c.object===this.mesh){var i=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var d=this.data.hovertext||this.data.text;return v(d)&&d[i]!==void 0?c.textLabel=d[i]:d&&(c.textLabel=d),!0}};function f(c){for(var i=[],d=c.length,b=0;b<d;b++)i[b]=p(c[b]);return i}function u(c,i,d,b){for(var w=[],C=i.length,y=0;y<C;y++)w[y]=c.d2l(i[y],0,b)*d;return w}function l(c){for(var i=[],d=c.length,b=0;b<d;b++)i[b]=Math.round(c[b]);return i}function g(c,i){for(var d=["x","y","z"].indexOf(c),b=[],w=i.length,C=0;C<w;C++)b[C]=[i[C][(d+1)%3],i[C][(d+2)%3]];return P(b)}function h(c,i){for(var d=c.length,b=0;b<d;b++)if(c[b]<=-.5||c[b]>=i-.5)return!1;return!0}n.update=function(c){var i=this.scene,d=i.fullSceneLayout;this.data=c;var b=c.x.length,w=t(u(d.xaxis,c.x,i.dataScale[0],c.xcalendar),u(d.yaxis,c.y,i.dataScale[1],c.ycalendar),u(d.zaxis,c.z,i.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,b)||!h(c.j,b)||!h(c.k,b))return;C=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?C=L(w):c.alphahull>0?C=s(c.alphahull,w):C=g(c.delaunayaxis,w);var y={positions:w,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var E=r(c);this.color="#fff";var A=c.intensitymode;y[A+"Intensity"]=c.intensity,y[A+"IntensityBounds"]=[E.min,E.max],y.colormap=S(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=f(c.facecolor)):(this.color=c.color,y.meshColor=p(c.color));this.mesh.update(y)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(c,i){var d=c.glplot.gl,b=m({gl:d}),w=new a(c,b,i.uid);return b._trace=w,w.update(i),c.glplot.add(b),w}G.exports=T},74212:function(G,H,e){var m=e(24040),P=e(3400),s=e(27260),L=e(52948);G.exports=function(v,p,r,t){function a(g,h){return P.coerce(v,p,L,g,h)}function n(g){var h=g.map(function(T){var c=a(T);return c&&P.isArrayOrTypedArray(c)?c:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var f=n(["x","y","z"]);if(!f){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=m.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){a(g)});var l=a("contour.show");l&&(a("contour.color"),a("contour.width")),"intensity"in v?(a("intensity"),a("intensitymode"),s(v,p,t,a,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?a("facecolor"):"vertexcolor"in v?a("vertexcolor"):a("color",r)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),p._length=null}},7404:function(G,H,e){G.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(G,H,e){var m=e(3400).extendFlat,P=e(52904),s=e(29736).axisHoverFormat,L=e(98192).u,S=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function a(n){return{line:{color:m({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}G.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:s("x"),yhoverformat:s("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:m({},t.width,{}),dash:m({},L,{}),editType:"style"},increasing:a(p),decreasing:a(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:m({},S.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(G,H,e){var m=e(3400),P=m._,s=e(54460),L=e(1220),S=e(39032).BADNUM;function v(a,n){var f=s.getFromId(a,n.xaxis),u=s.getFromId(a,n.yaxis),l=t(a,f,n),g=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var c=r(a,n,h,T,u,p);return n._extremes[f._id]=s.findExtremes(f,T,{vpad:g/2}),c.length?(m.extendFlat(c[0].t,{wHover:g/2,tickLen:l}),c):[{t:{empty:!0}}]}function p(a,n,f,u){return{o:a,h:n,l:f,c:u}}function r(a,n,f,u,l,g){for(var h=l.makeCalcdata(n,"open"),T=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),i=l.makeCalcdata(n,"close"),d=m.isArrayOrTypedArray(n.text),b=m.isArrayOrTypedArray(n.hovertext),w=!0,C=null,y=!!n.xperiodalignment,E=[],A=0;A<u.length;A++){var o=u[A],M=h[A],x=T[A],I=c[A],D=i[A];if(o!==S&&M!==S&&x!==S&&I!==S&&D!==S){D===M?C!==null&&D!==C&&(w=D>C):w=D>M,C=D;var N=g(M,x,I,D);N.pos=o,N.yc=(M+D)/2,N.i=A,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[I,x],y&&(N.orig_p=f[A]),d&&(N.tx=n.text[A]),b&&(N.htx=n.hovertext[A]),E.push(N)}else E.push({pos:o,empty:!0})}return n._extremes[l._id]=s.findExtremes(l,m.concat(c,T),{padded:!0}),E.length&&(E[0].t={labels:{open:P(a,"open:")+" ",high:P(a,"high:")+" ",low:P(a,"low:")+" ",close:P(a,"close:")+" "}}),E}function t(a,n,f){var u=f._minDiff;if(!u){var l=a._fullData,g=[];u=1/0;var h;for(h=0;h<l.length;h++){var T=l[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){g.push(T);var c=n.makeCalcdata(T,"x");T._origX=c;var i=L(f,n,"x",c).vals;T._xcalc=i;var d=m.distinctVals(i).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),h=0;h<g.length;h++)g[h]._minDiff=u}return u*f.tickwidth}G.exports={calc:v,calcCommon:r}},23860:function(G,H,e){var m=e(3400),P=e(52744),s=e(31147),L=e(20279);G.exports=function(p,r,t,a){function n(u,l){return m.coerce(p,r,L,u,l)}var f=P(p,r,n,a);if(!f){r.visible=!1;return}s(p,r,a,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),S(p,r,n,"increasing"),S(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),a._requestRangeslider[r.xaxis]=!0,n("zorder")};function S(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(G,H,e){var m=e(54460),P=e(3400),s=e(93024),L=e(76308),S=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,g){var h=f.cd,T=h[0].trace;return T.hoverlabel.split?a(f,u,l,g):n(f,u,l,g)}function t(f,u,l,g){var h=f.cd,T=f.xa,c=h[0].trace,i=h[0].t,d=c.type,b=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",C,y,E=i.bPos||0,A=function(W){return W.pos+E-u},o=i.bdPos||i.tickLen,M=i.wHover,x=Math.min(1,o/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));C=f.maxHoverDistance-x,y=f.maxSpikeDistance-x;function I(W){var J=A(W);return s.inbox(J-M,J+M,C)}function D(W){var J=W[b],re=W[w];return J===re||s.inbox(J-l,re-l,C)}function N(W){return(I(W)+D(W))/2}var k=s.getDistanceFunction(g,I,D,N);if(s.getClosest(h,k,f),f.index===!1)return null;var O=h[f.index];if(O.empty)return null;var F=O.dir,z=c[F],B=z.line.color;return L.opacity(B)&&z.line.width?f.color=B:f.color=z.fillcolor,f.x0=T.c2p(O.pos+E-o,!0),f.x1=T.c2p(O.pos+E+o,!0),f.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,f.spikeDistance=N(O)*y/C,f.xSpike=T.c2p(O.pos,!0),f}function a(f,u,l,g){var h=f.cd,T=f.ya,c=h[0].trace,i=h[0].t,d=[],b=t(f,u,l,g);if(!b)return[];var w=b.index,C=h[w],y=C.hi||c.hoverinfo,E=y.split("+"),A=y==="all",o=A||E.indexOf("y")!==-1;if(!o)return[];for(var M=["high","open","close","low"],x={},I=0;I<M.length;I++){var D=M[I],N=c[D][b.index],k=T.c2p(N,!0),O;N in x?(O=x[N],O.yLabel+="<br>"+i.labels[D]+m.hoverLabelText(T,N,c.yhoverformat)):(O=P.extendFlat({},b),O.y0=O.y1=k,O.yLabelVal=N,O.yLabel=i.labels[D]+m.hoverLabelText(T,N,c.yhoverformat),O.name="",d.push(O),x[N]=O)}return d}function n(f,u,l,g){var h=f.cd,T=f.ya,c=h[0].trace,i=h[0].t,d=t(f,u,l,g);if(!d)return[];var b=d.index,w=h[b],C=d.index=w.i,y=w.dir;function E(N){return i.labels[N]+m.hoverLabelText(T,c[N][C],c.yhoverformat)}var A=w.hi||c.hoverinfo,o=A.split("+"),M=A==="all",x=M||o.indexOf("y")!==-1,I=M||o.indexOf("text")!==-1,D=x?[E("open"),E("high"),E("low"),E("close")+"  "+p[y]]:[];return I&&S(w,c,D),d.extraText=D.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:a,hoverOnPoints:n}},65456:function(G,H,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(G,H,e){var m=e(24040),P=e(3400);G.exports=function(L,S,v,p){var r=v("x"),t=v("open"),a=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var u=m.getComponentMethod("calendars","handleTraceDefaults");if(u(L,S,["x"],p),!!(t&&a&&n&&f)){var l=Math.min(t.length,a.length,n.length,f.length);return r&&(l=Math.min(l,P.minRowLength(r))),S._length=l,l}}},36664:function(G,H,e){var m=e(33428),P=e(3400);G.exports=function(L,S,v,p){var r=S.yaxis,t=S.xaxis,a=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var f=m.select(this),u=n[0],l=u.t,g=u.trace;if(g.visible!==!0||l.empty){f.remove();return}var h=l.tickLen,T=f.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(c){if(c.empty)return"M0,0Z";var i=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),b=a?(i+d)/2:t.c2p(c.pos,!0),w=r.c2p(c.o,!0),C=r.c2p(c.h,!0),y=r.c2p(c.l,!0),E=r.c2p(c.c,!0);return"M"+i+","+w+"H"+b+"M"+b+","+C+"V"+y+"M"+d+","+E+"H"+b})})}},97384:function(G){G.exports=function(e,m){var P=e.cd,s=e.xaxis,L=e.yaxis,S=[],v,p=P[0].t.bPos||0;if(m===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];m.contains([s.c2p(r.pos+p),L.c2p(r.yc)],null,r.i,e)?(S.push({pointNumber:r.i,x:s.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return S}},14008:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308);G.exports=function(S,v,p){var r=p||m.select(S).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var a=t[0].trace;m.select(this).selectAll("path").each(function(n){if(!n.empty){var f=a[n.dir].line;m.select(this).style("fill","none").call(s.stroke,f.color).call(P.dashLine,f.dash,f.width).style("opacity",a.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(G,H,e){var m=e(92880).extendFlat,P=e(45464),s=e(25376),L=e(49084),S=e(21776).Ks,v=e(86968).u,p=m({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:m({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:s({editType:"calc"}),tickfont:s({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(G,H,e){var m=e(84888)._M,P=e(60268),s="parcats";H.name=s,H.plot=function(L,S,v,p){var r=m(L.calcdata,s);if(r.length){var t=r[0];P(L,t,v,p)}},H.clean=function(L,S,v,p){var r=p._has&&p._has("parcats"),t=S._has&&S._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(G,H,e){var m=e(71688).wrap,P=e(94288).hasColorscale,s=e(47128),L=e(68944),S=e(43616),v=e(3400),p=e(38248);G.exports=function(i,d){var b=v.filterVisible(d.dimensions);if(b.length===0)return[];var w=b.map(function($){var Z;if($.categoryorder==="trace")Z=null;else if($.categoryorder==="array")Z=$.categoryarray;else{Z=L($.values);for(var ie=!0,X=0;X<Z.length;X++)if(!p(Z[X])){ie=!1;break}Z.sort(ie?v.sorterAsc:void 0),$.categoryorder==="category descending"&&(Z=Z.reverse())}return l($.values,Z)}),C,y,E;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],g(b),b.forEach(function($,Z){h($,w[Z])});var A=d.line,o;A?(P(d,"line")&&s(i,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),o=S.tryColorscale(A)):o=v.identity;function M($){var Z,ie;return v.isArrayOrTypedArray(A.color)?(Z=A.color[$%A.color.length],ie=Z):Z=A.color,{color:o(Z),rawColor:ie}}var x=b[0].values.length,I={},D=w.map(function($){return $.inds});E=0;var N,k;for(N=0;N<x;N++){var O=[];for(k=0;k<D.length;k++)O.push(D[k][N]);y=C[N%C.length],E+=y;var F=M(N),z=O+"-"+F.rawColor;I[z]===void 0&&(I[z]=f(O,F.color,F.rawColor)),u(I[z],N,y)}var B=b.map(function($,Z){return t(Z,$._index,$._displayindex,$.label,E)});for(N=0;N<x;N++)for(y=C[N%C.length],k=0;k<B.length;k++){var W=B[k].containerInd,J=w[k].inds[N],re=B[k].categories;if(re[J]===void 0){var ne=d.dimensions[W]._categoryarray[J],le=d.dimensions[W]._ticktext[J];re[J]=a(k,J,ne,le)}n(re[J],N,y)}return m(r(B,I,E))};function r(c,i,d){var b=c.map(function(w){return w.categories.length}).reduce(function(w,C){return Math.max(w,C)});return{dimensions:c,paths:i,trace:void 0,maxCats:b,count:d}}function t(c,i,d,b,w){return{dimensionInd:c,containerInd:i,displayInd:d,dimensionLabel:b,count:w,categories:[],dragX:null}}function a(c,i,d,b){return{dimensionInd:c,categoryInd:i,categoryValue:d,displayInd:i,categoryLabel:b,valueInds:[],count:0,dragY:null}}function n(c,i,d){c.valueInds.push(i),c.count+=d}function f(c,i,d){return{categoryInds:c,color:i,rawColor:d,valueInds:[],count:0}}function u(c,i,d){c.valueInds.push(i),c.count+=d}function l(c,i){i==null?i=[]:i=i.map(function(o){return o});var d={},b={},w=[];i.forEach(function(o,M){d[o]=0,b[o]=M});for(var C=0;C<c.length;C++){var y=c[C],E;d[y]===void 0?(d[y]=1,E=i.push(y)-1,b[y]=E):(d[y]++,E=b[y]),w.push(E)}var A=i.map(function(o){return d[o]});return{uniqueValues:i,uniqueCounts:A,inds:w}}function g(c){var i=c.map(function(b){return b.displayindex}),d;if(T(i))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,i){c._categoryarray=i.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<i.uniqueValues.length;d++)c._ticktext.push(i.uniqueValues[d])}function T(c){for(var i=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||i[c[d]]!==void 0)return!1;i[c[d]]=!0}return!0}},76671:function(G,H,e){var m=e(3400),P=e(94288).hasColorscale,s=e(27260),L=e(86968).Q,S=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,u,l,g){g("line.shape"),g("line.hovertemplate");var h=g("line.color",l.colorway[0]);if(P(n,"line")&&m.isArrayOrTypedArray(h)){if(h.length)return g("line.colorscale"),s(n,f,l,g,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=u}return 1/0}function a(n,f){function u(d,b){return m.coerce(n,f,v.dimensions,d,b)}var l=u("values"),g=u("visible");if(l&&l.length||(g=f.visible=!1),g){u("label"),u("displayindex",f._index);var h=n.categoryarray,T=m.isArrayOrTypedArray(h)&&h.length>0||r(h),c;T&&(c="array");var i=u("categoryorder",c);i==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&i==="array"&&(f.categoryorder="trace")}}G.exports=function(f,u,l,g){function h(d,b){return m.coerce(f,u,v,d,b)}var T=S(f,u,{name:"dimensions",handleItemDefaults:a}),c=t(f,u,l,g,h);L(u,g,h),(!Array.isArray(T)||!T.length)&&(u.visible=!1),p(u,T,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var i=g.font;m.coerceFont(h,"labelfont",i,{overrideDflt:{size:Math.round(i.size)}}),m.coerceFont(h,"tickfont",i,{autoShadowDflt:!0,overrideDflt:{size:Math.round(i.size/1.2)}})}},22020:function(G,H,e){G.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(G,H,e){var m=e(33428),P=e(67756).Gz,s=e(36424),L=e(93024),S=e(3400),v=S.strTranslate,p=e(43616),r=e(49760),t=e(72736);function a(X,Q,oe,j){var Y=Q._context.staticPlot,se=X.map(ne.bind(0,Q,oe)),te=j.selectAll("g.parcatslayer").data([null]);te.enter().append("g").attr("class","parcatslayer").style("pointer-events",Y?"none":"all");var fe=te.selectAll("g.trace.parcats").data(se,n),ge=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(Me){return v(Me.x,Me.y)}),ge.append("g").attr("class","paths");var be=fe.select("g.paths"),xe=be.selectAll("path.path").data(function(Me){return Me.paths},n);xe.attr("fill",function(Me){return Me.model.color});var _e=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Me){return Me.model.color}).attr("fill-opacity",0);i(_e),xe.attr("d",function(Me){return Me.svgD}),_e.empty()||xe.sort(u),xe.exit().remove(),xe.on("mouseover",l).on("mouseout",g).on("click",c),ge.append("g").attr("class","dimensions");var De=fe.select("g.dimensions"),Fe=De.selectAll("g.dimension").data(function(Me){return Me.dimensions},n);Fe.enter().append("g").attr("class","dimension"),Fe.attr("transform",function(Me){return v(Me.x,0)}),Fe.exit().remove();var Te=Fe.selectAll("g.category").data(function(Me){return Me.categories},n),Re=Te.enter().append("g").attr("class","category");Te.attr("transform",function(Me){return v(0,Me.y)}),Re.append("rect").attr("class","catrect").attr("pointer-events","none"),Te.select("rect.catrect").attr("fill","none").attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}),w(Re);var Se=Te.selectAll("rect.bandrect").data(function(Me){return Me.bands},n);Se.each(function(){S.raiseToTop(this)}),Se.attr("fill",function(Me){return Me.color});var ke=Se.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Me){return Me.color}).attr("fill-opacity",0);Se.attr("fill",function(Me){return Me.color}).attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}).attr("y",function(Me){return Me.y}).attr("cursor",function(Me){return Me.parcatsViewModel.arrangement==="fixed"?"default":Me.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(ke),Se.exit().remove(),Re.append("text").attr("class","catlabel").attr("pointer-events","none"),Te.select("text.catlabel").attr("text-anchor",function(Me){return f(Me)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Me){return f(Me)?Me.width+5:-5}).attr("y",function(Me){return Me.height/2}).text(function(Me){return Me.model.categoryLabel}).each(function(Me){p.font(m.select(this),Me.parcatsViewModel.categorylabelfont),t.convertToTspans(m.select(this),Q)}),Re.append("text").attr("class","dimlabel"),Te.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Me){return Me.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Me){return Me.width/2}).attr("y",-5).text(function(Me,Ve){return Ve===0?Me.parcatsViewModel.model.dimensions[Me.model.dimensionInd].dimensionLabel:null}).each(function(Me){p.font(m.select(this),Me.parcatsViewModel.labelfont)}),Te.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",O),Te.exit().remove(),Fe.call(m.behavior.drag().origin(function(Me){return{x:Me.x,y:0}}).on("dragstart",F).on("drag",z).on("dragend",B)),fe.each(function(Me){Me.traceSelection=m.select(this),Me.pathSelection=m.select(this).selectAll("g.paths").selectAll("path.path"),Me.dimensionSelection=m.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}G.exports=function(X,Q,oe,j){a(oe,X,j,Q)};function n(X){return X.key}function f(X){var Q=X.parcatsViewModel.dimensions.length,oe=X.parcatsViewModel.dimensions[Q-1].model.dimensionInd;return X.model.dimensionInd===oe}function u(X,Q){return X.model.rawColor>Q.model.rawColor?1:X.model.rawColor<Q.model.rawColor?-1:0}function l(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){S.raiseToTop(this),d(m.select(this));var Q=h(X),oe=T(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:m.event,constraints:oe}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var j=m.mouse(this)[0],Y=X.parcatsViewModel.graphDiv,se=X.parcatsViewModel.trace,te=Y._fullLayout,fe=te._paperdiv.node().getBoundingClientRect(),ge=X.parcatsViewModel.graphDiv.getBoundingClientRect(),be,xe,_e;for(_e=0;_e<X.leftXs.length-1;_e++)if(X.leftXs[_e]+X.dimWidths[_e]-2<=j&&j<=X.leftXs[_e+1]+2){var De=X.parcatsViewModel.dimensions[_e],Fe=X.parcatsViewModel.dimensions[_e+1];be=(De.x+De.width+Fe.x)/2,xe=(X.topYs[_e]+X.topYs[_e+1]+X.height)/2;break}var Te=X.parcatsViewModel.x+be,Re=X.parcatsViewModel.y+xe,Se=r.mostReadable(X.model.color,["black","white"]),ke=X.model.count,Me=ke/X.parcatsViewModel.model.count,Ve={countLabel:ke,probabilityLabel:Me.toFixed(3)},tt=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&tt.push(["Count:",Ve.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&tt.push(["P:",Ve.probabilityLabel].join(" "));var it=tt.join("<br>"),Je=m.mouse(Y)[0];L.loneHover({trace:se,x:Te-fe.left+ge.left,y:Re-fe.top+ge.top,text:it,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Se,idealAlign:Je<Te?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ve,eventData:[{data:se._input,fullData:se,count:ke,probability:Me}]},{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:Y})}}}function g(X){if(!X.parcatsViewModel.dragDimension&&(i(m.select(this)),L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(u),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var Q=h(X),oe=T(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:m.event,constraints:oe})}}function h(X){for(var Q=[],oe=W(X.parcatsViewModel),j=0;j<X.model.valueInds.length;j++){var Y=X.model.valueInds[j];Q.push({curveNumber:oe,pointNumber:Y})}return Q}function T(X){for(var Q={},oe=X.parcatsViewModel.model.dimensions,j=0;j<oe.length;j++){var Y=oe[j],se=Y.categories[X.model.categoryInds[j]];Q[Y.containerInd]=se.categoryValue}return X.model.rawColor!==void 0&&(Q.color=X.model.rawColor),Q}function c(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=h(X),oe=T(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:m.event,constraints:oe})}}function i(X){X.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function(Q){return r.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function b(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(X){X.attr("stroke","black").attr("stroke-width",1.5)}function y(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(X){var Q=X.parcatsViewModel.pathSelection,oe=X.categoryViewModel.model.dimensionInd,j=X.categoryViewModel.model.categoryInd;return Q.filter(function(Y){return Y.model.categoryInds[oe]===j&&Y.model.color===X.color})}function A(X){var Q=m.select(X.parentNode).selectAll("rect.bandrect");Q.each(function(oe){var j=E(oe);d(j),j.each(function(){S.raiseToTop(this)})}),b(m.select(X.parentNode))}function o(X){var Q=m.select(X).datum(),oe=E(Q);d(oe),oe.each(function(){S.raiseToTop(this)}),m.select(X.parentNode).selectAll("rect.bandrect").filter(function(j){return j.color===Q.color}).each(function(){S.raiseToTop(this),C(m.select(this))})}function M(X,Q,oe){var j=m.select(X).datum(),Y=j.categoryViewModel.model,se=j.parcatsViewModel.graphDiv,te=m.select(X.parentNode).selectAll("rect.bandrect"),fe=[];te.each(function(be){var xe=E(be);xe.each(function(_e){Array.prototype.push.apply(fe,h(_e))})});var ge={};ge[Y.dimensionInd]=Y.categoryValue,se.emit(Q,{points:fe,event:oe,constraints:ge})}function x(X,Q,oe){var j=m.select(X).datum(),Y=j.categoryViewModel.model,se=j.parcatsViewModel.graphDiv,te=E(j),fe=[];te.each(function(be){Array.prototype.push.apply(fe,h(be))});var ge={};ge[Y.dimensionInd]=Y.categoryValue,j.rawColor!==void 0&&(ge.color=j.rawColor),se.emit(Q,{points:fe,event:oe,constraints:ge})}function I(X,Q,oe){X._fullLayout._calcInverseTransform(X);var j=X._fullLayout._invScaleX,Y=X._fullLayout._invScaleY,se=m.select(oe.parentNode).select("rect.catrect"),te=se.node().getBoundingClientRect(),fe=se.datum(),ge=fe.parcatsViewModel,be=ge.model.dimensions[fe.model.dimensionInd],xe=ge.trace,_e=te.top+te.height/2,De,Fe;ge.dimensions.length>1&&be.displayInd===ge.dimensions.length-1?(De=te.left,Fe="left"):(De=te.left+te.width,Fe="right");var Te=fe.model.count,Re=fe.model.categoryLabel,Se=Te/fe.parcatsViewModel.model.count,ke={countLabel:Te,categoryLabel:Re,probabilityLabel:Se.toFixed(3)},Me=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Me.push(["Count:",ke.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Me.push(["P("+ke.categoryLabel+"):",ke.probabilityLabel].join(" "));var Ve=Me.join("<br>");return{trace:xe,x:j*(De-Q.left),y:Y*(_e-Q.top),text:Ve,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Fe,hovertemplate:xe.hovertemplate,hovertemplateLabels:ke,eventData:[{data:xe._input,fullData:xe,count:Te,category:Re,probability:Se}]}}function D(X,Q,oe){var j=[];return m.select(oe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var Y=this;j.push(I(X,Q,Y))}),j}function N(X,Q,oe){X._fullLayout._calcInverseTransform(X);var j=X._fullLayout._invScaleX,Y=X._fullLayout._invScaleY,se=oe.getBoundingClientRect(),te=m.select(oe).datum(),fe=te.categoryViewModel,ge=fe.parcatsViewModel,be=ge.model.dimensions[fe.model.dimensionInd],xe=ge.trace,_e=se.y+se.height/2,De,Fe;ge.dimensions.length>1&&be.displayInd===ge.dimensions.length-1?(De=se.left,Fe="left"):(De=se.left+se.width,Fe="right");var Te=fe.model.categoryLabel,Re=te.parcatsViewModel.model.count,Se=0;te.categoryViewModel.bands.forEach(function(dt){dt.color===te.color&&(Se+=dt.count)});var ke=fe.model.count,Me=0;ge.pathSelection.each(function(dt){dt.model.color===te.color&&(Me+=dt.model.count)});var Ve=Se/Re,tt=Se/Me,it=Se/ke,Je={countLabel:Se,categoryLabel:Te,probabilityLabel:Ve.toFixed(3)},Qe=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Qe.push(["Count:",Je.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Qe.push("P(color ∩ "+Te+"): "+Je.probabilityLabel),Qe.push("P("+Te+" | color): "+tt.toFixed(3)),Qe.push("P(color | "+Te+"): "+it.toFixed(3)));var ct=Qe.join("<br>"),ht=r.mostReadable(te.color,["black","white"]);return{trace:xe,x:j*(De-Q.left),y:Y*(_e-Q.top),text:ct,color:te.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ht,fontSize:10,idealAlign:Fe,hovertemplate:xe.hovertemplate,hovertemplateLabels:Je,eventData:[{data:xe._input,fullData:xe,category:Te,count:Re,probability:Ve,categorycount:ke,colorcount:Me,bandcolorcount:Se}]}}function k(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=m.mouse(this)[1];if(Q<-1)return;var oe=X.parcatsViewModel.graphDiv,j=oe._fullLayout,Y=j._paperdiv.node().getBoundingClientRect(),se=X.parcatsViewModel.hoveron,te=this;if(se==="color"?(o(te),x(te,"plotly_hover",m.event)):(A(te),M(te,"plotly_hover",m.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;se==="category"?fe=I(oe,Y,te):se==="color"?fe=N(oe,Y,te):se==="dimension"&&(fe=D(oe,Y,te)),fe&&L.loneHover(fe,{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:oe})}}}function O(X){var Q=X.parcatsViewModel;if(!Q.dragDimension&&(i(Q.pathSelection),w(Q.dimensionSelection.selectAll("g.category")),y(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(u),Q.hoverinfoItems.indexOf("skip")===-1)){var oe=X.parcatsViewModel.hoveron,j=this;oe==="color"?x(j,"plotly_unhover",m.event):M(j,"plotly_unhover",m.event)}}function F(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,m.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var oe=m.mouse(this)[0],j=m.mouse(this)[1];-2<=oe&&oe<=Q.width+2&&-2<=j&&j<=Q.height+2&&(X.dragCategoryDisplayInd=Q.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(Y){return Y.displayInd}),Q.model.dragY=Q.y,S.raiseToTop(this.parentNode),m.select(this.parentNode).selectAll("rect.bandrect").each(function(Y){Y.y<j&&j<=Y.y+Y.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var Q=X.dragDimensionDisplayInd,oe=Q-1,j=Q+1,Y=X.parcatsViewModel.dimensions[Q];if(X.dragCategoryDisplayInd!==null){var se=Y.categories[X.dragCategoryDisplayInd];se.model.dragY+=m.event.dy;var te=se.model.dragY,fe=se.model.displayInd,ge=Y.categories,be=ge[fe-1],xe=ge[fe+1];be!==void 0&&te<be.y+be.height/2&&(se.model.displayInd=be.model.displayInd,be.model.displayInd=fe),xe!==void 0&&te+se.height>xe.y+xe.height/2&&(se.model.displayInd=xe.model.displayInd,xe.model.displayInd=fe),X.dragCategoryDisplayInd=se.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){Y.model.dragX=m.event.x;var _e=X.parcatsViewModel.dimensions[oe],De=X.parcatsViewModel.dimensions[j];_e!==void 0&&Y.model.dragX<_e.x+_e.width&&(Y.model.displayInd=_e.model.displayInd,_e.model.displayInd=Q),De!==void 0&&Y.model.dragX+Y.width>De.x&&(Y.model.displayInd=De.model.displayInd,De.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=Y.model.displayInd}Z(X.parcatsViewModel),$(X.parcatsViewModel),re(X.parcatsViewModel),J(X.parcatsViewModel)}}function B(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){m.select(this).selectAll("text").attr("font-weight","normal");var Q={},oe=W(X.parcatsViewModel),j=X.parcatsViewModel.model.dimensions.map(function(De){return De.displayInd}),Y=X.initialDragDimensionDisplayInds.some(function(De,Fe){return De!==j[Fe]});Y&&j.forEach(function(De,Fe){var Te=X.parcatsViewModel.model.dimensions[Fe].containerInd;Q["dimensions["+Te+"].displayindex"]=De});var se=!1;if(X.dragCategoryDisplayInd!==null){var te=X.model.categories.map(function(De){return De.displayInd});if(se=X.initialDragCategoryDisplayInds.some(function(De,Fe){return De!==te[Fe]}),se){var fe=X.model.categories.slice().sort(function(De,Fe){return De.displayInd-Fe.displayInd}),ge=fe.map(function(De){return De.categoryValue}),be=fe.map(function(De){return De.categoryLabel});Q["dimensions["+X.model.containerInd+"].categoryarray"]=[ge],Q["dimensions["+X.model.containerInd+"].ticktext"]=[be],Q["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?x(X.potentialClickBand,"plotly_click",m.event.sourceEvent):M(X.potentialClickBand,"plotly_click",m.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var xe=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];xe.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,Z(X.parcatsViewModel),$(X.parcatsViewModel);var _e=m.transition().duration(300).ease("cubic-in-out");_e.each(function(){re(X.parcatsViewModel,!0),J(X.parcatsViewModel,!0)}).each("end",function(){(Y||se)&&s.restyle(X.parcatsViewModel.graphDiv,Q,[oe])})}}function W(X){for(var Q,oe=X.graphDiv._fullData,j=0;j<oe.length;j++)if(X.key===oe[j].uid){Q=j;break}return Q}function J(X,Q){Q===void 0&&(Q=!1);function oe(j){return Q?j.transition():j}X.pathSelection.data(function(j){return j.paths},n),oe(X.pathSelection).attr("d",function(j){return j.svgD})}function re(X,Q){Q===void 0&&(Q=!1);function oe(ge){return Q?ge.transition():ge}X.dimensionSelection.data(function(ge){return ge.dimensions},n);var j=X.dimensionSelection.selectAll("g.category").data(function(ge){return ge.categories},n);oe(X.dimensionSelection).attr("transform",function(ge){return v(ge.x,0)}),oe(j).attr("transform",function(ge){return v(0,ge.y)});var Y=j.select(".dimlabel");Y.text(function(ge,be){return be===0?ge.parcatsViewModel.model.dimensions[ge.model.dimensionInd].dimensionLabel:null});var se=j.select(".catlabel");se.attr("text-anchor",function(ge){return f(ge)?"start":"end"}).attr("x",function(ge){return f(ge)?ge.width+5:-5}).each(function(ge){var be,xe;f(ge)?(be=ge.width+5,xe="start"):(be=-5,xe="end"),m.select(this).selectAll("tspan").attr("x",be).attr("text-anchor",xe)});var te=j.selectAll("rect.bandrect").data(function(ge){return ge.bands},n),fe=te.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ge){return ge.color}).attr("fill-opacity",0);te.attr("fill",function(ge){return ge.color}).attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}).attr("y",function(ge){return ge.y}),y(fe),te.each(function(){S.raiseToTop(this)}),te.exit().remove()}function ne(X,Q,oe){var j=oe[0],Y=Q.margin||{l:80,r:80,t:100,b:80},se=j.trace,te=se.domain,fe=Q.width,ge=Q.height,be=Math.floor(fe*(te.x[1]-te.x[0])),xe=Math.floor(ge*(te.y[1]-te.y[0])),_e=te.x[0]*fe+Y.l,De=Q.height-te.y[1]*Q.height+Y.t,Fe=se.line.shape,Te;se.hoverinfo==="all"?Te=["count","probability"]:Te=(se.hoverinfo||"").split("+");var Re={trace:se,key:se.uid,model:j,x:_e,y:De,width:be,height:xe,hoveron:se.hoveron,hoverinfoItems:Te,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Fe,dragDimension:null,margin:Y,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return j.dimensions&&(Z(Re),$(Re)),Re}function le(X,Q,oe,j,Y){var se=[],te=[],fe,ge;for(ge=0;ge<oe.length-1;ge++)fe=P(oe[ge]+X[ge],X[ge+1]),se.push(fe(Y)),te.push(fe(1-Y));var be="M "+X[0]+","+Q[0];for(be+="l"+oe[0]+",0 ",ge=1;ge<oe.length;ge++)be+="C"+se[ge-1]+","+Q[ge-1]+" "+te[ge-1]+","+Q[ge]+" "+X[ge]+","+Q[ge],be+="l"+oe[ge]+",0 ";for(be+="l0,"+j+" ",be+="l -"+oe[oe.length-1]+",0 ",ge=oe.length-2;ge>=0;ge--)be+="C"+te[ge]+","+(Q[ge+1]+j)+" "+se[ge]+","+(Q[ge]+j)+" "+(X[ge]+oe[ge])+","+(Q[ge]+j),be+="l-"+oe[ge]+",0 ";return be+="Z",be}function $(X){var Q=X.dimensions,oe=X.model,j=Q.map(function(rt){return rt.categories.map(function(ze){return ze.y})}),Y=X.model.dimensions.map(function(rt){return rt.categories.map(function(ze){return ze.displayInd})}),se=X.model.dimensions.map(function(rt){return rt.displayInd}),te=X.dimensions.map(function(rt){return rt.model.dimensionInd}),fe=Q.map(function(rt){return rt.x}),ge=Q.map(function(rt){return rt.width}),be=[];for(var xe in oe.paths)oe.paths.hasOwnProperty(xe)&&be.push(oe.paths[xe]);function _e(rt){var ze=rt.categoryInds.map(function(je,We){return Y[We][je]}),Ge=te.map(function(je){return ze[je]});return Ge}be.sort(function(rt,ze){var Ge=_e(rt),je=_e(ze);return X.sortpaths==="backward"&&(Ge.reverse(),je.reverse()),Ge.push(rt.valueInds[0]),je.push(ze.valueInds[0]),X.bundlecolors&&(Ge.unshift(rt.rawColor),je.unshift(ze.rawColor)),Ge<je?-1:Ge>je?1:0});for(var De=new Array(be.length),Fe=Q[0].model.count,Te=Q[0].categories.map(function(rt){return rt.height}).reduce(function(rt,ze){return rt+ze}),Re=0;Re<be.length;Re++){var Se=be[Re],ke;Fe>0?ke=Te*(Se.count/Fe):ke=0;for(var Me=new Array(j.length),Ve=0;Ve<Se.categoryInds.length;Ve++){var tt=Se.categoryInds[Ve],it=Y[Ve][tt],Je=se[Ve];Me[Je]=j[Je][it],j[Je][it]+=ke;var Qe=X.dimensions[Je].categories[it],ct=Qe.bands.length,ht=Qe.bands[ct-1];if(ht===void 0||Se.rawColor!==ht.rawColor){var dt=ht===void 0?0:ht.y+ht.height;Qe.bands.push({key:dt,color:Se.color,rawColor:Se.rawColor,height:ke,width:Qe.width,count:Se.count,y:dt,categoryViewModel:Qe,parcatsViewModel:X})}else{var Tt=Qe.bands[ct-1];Tt.height+=ke,Tt.count+=Se.count}}var Et;X.pathShape==="hspline"?Et=le(fe,Me,ge,ke,.5):Et=le(fe,Me,ge,ke,0),De[Re]={key:Se.valueInds[0],model:Se,height:ke,leftXs:fe,topYs:Me,dimWidths:ge,svgD:Et,parcatsViewModel:X}}X.paths=De}function Z(X){var Q=X.model.dimensions.map(function(te){return{displayInd:te.displayInd,dimensionInd:te.dimensionInd}});Q.sort(function(te,fe){return te.displayInd-fe.displayInd});var oe=[];for(var j in Q){var Y=Q[j].dimensionInd,se=X.model.dimensions[Y];oe.push(ie(X,se))}X.dimensions=oe}function ie(X,Q){var oe=40,j=16,Y=X.model.dimensions.length,se=Q.displayInd,te,fe,ge;Y>1?te=(X.width-2*oe-j)/(Y-1):te=0,fe=oe,ge=fe+te*se;var be=[],xe=X.model.maxCats,_e=Q.categories.length,De=8,Fe=Q.count,Te=X.height-De*(xe-1),Re,Se,ke,Me,Ve,tt=(xe-_e)*De/2,it=Q.categories.map(function(Je){return{displayInd:Je.displayInd,categoryInd:Je.categoryInd}});for(it.sort(function(Je,Qe){return Je.displayInd-Qe.displayInd}),Ve=0;Ve<_e;Ve++)Me=it[Ve].categoryInd,Se=Q.categories[Me],Fe>0?Re=Se.count/Fe*Te:Re=0,ke={key:Se.valueInds[0],model:Se,width:j,height:Re,y:Se.dragY!==null?Se.dragY:tt,bands:[],parcatsViewModel:X},tt=tt+Re+De,be.push(ke);return{key:Q.dimensionInd,x:Q.dragX!==null?Q.dragX:ge,y:0,width:j,model:Q,categories:be,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(G,H,e){var m=e(51036);G.exports=function(s,L,S,v){var p=s._fullLayout,r=p._paper,t=p._size;m(s,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},S,v)}},82296:function(G,H,e){var m=e(49084),P=e(94724),s=e(25376),L=e(86968).u,S=e(92880).extendFlat,v=e(31780).templatedArray;G.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:s({editType:"plot"}),tickfont:s({autoShadowDflt:!0,editType:"plot"}),rangefont:s({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:S({},P.tickvals,{editType:"plot"}),ticktext:S({},P.ticktext,{editType:"plot"}),tickformat:S({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:S({editType:"calc"},m("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(G,H,e){var m=e(30140),P=e(33428),s=e(71688).keyFun,L=e(71688).repeat,S=e(3400).sorterAsc,v=e(3400).strTranslate,p=m.bar.snapRatio;function r(B,W){return B*(1-p)+W*p}var t=m.bar.snapClose;function a(B,W){return B*(1-t)+W*t}function n(B,W,J,re){if(f(J,re))return J;var ne=B?-1:1,le=0,$=W.length-1;if(ne<0){var Z=le;le=$,$=Z}for(var ie=W[le],X=ie,Q=le;ne*Q<ne*$;Q+=ne){var oe=Q+ne,j=W[oe];if(ne*J<ne*a(ie,j))return r(ie,X);if(ne*J<ne*j||oe===$)return r(j,ie);X=ie,ie=j}}function f(B,W){for(var J=0;J<W.length;J++)if(B>=W[J][0]&&B<=W[J][1])return!0;return!1}function u(B){B.attr("x",-m.bar.captureWidth/2).attr("width",m.bar.captureWidth)}function l(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var W=h(B.brush.filter.getConsolidated(),B.height),J=[0],re,ne,le,$=W.length?W[0][0]:null,Z=0;Z<W.length;Z++)re=W[Z],ne=re[1]-re[0],J.push($),J.push(ne),le=Z+1,le<W.length&&($=W[le][0]-re[1]);return J.push(B.height),J}function h(B,W){return B.map(function(J){return J.map(function(re){return Math.max(0,re*W)}).sort(S)})}function T(B,W){var J=m.bar.handleHeight;if(!(W>B[1]+J||W<B[0]-J))return W>=.9*B[1]+.1*B[0]?"n":W<=.9*B[0]+.1*B[1]?"s":"ns"}function c(){P.select(document.body).style("cursor",null)}function i(B){B.attr("stroke-dasharray",g)}function d(B,W){var J=P.select(B).selectAll(".highlight, .highlight-shadow"),re=W?J.transition().duration(m.bar.snapDuration).each("end",W):J;i(re)}function b(B,W){var J=B.brush,re=J.filterSpecified,ne=NaN,le={},$;if(re){var Z=B.height,ie=J.filter.getConsolidated(),X=h(ie,Z),Q=NaN,oe=NaN,j=NaN;for($=0;$<=X.length;$++){var Y=X[$];if(Y&&Y[0]<=W&&W<=Y[1]){Q=$;break}else if(oe=$?$-1:NaN,Y&&Y[0]>W){j=$;break}}if(ne=Q,isNaN(ne)&&(isNaN(oe)||isNaN(j)?ne=isNaN(oe)?j:oe:ne=W-X[oe][1]<X[j][0]-W?oe:j),!isNaN(ne)){var se=X[ne],te=T(se,W);te&&(le.interval=ie[ne],le.intervalPix=se,le.region=te)}}if(B.ordinal&&!le.region){var fe=B.unitTickvals,ge=B.unitToPaddedPx.invert(W);for($=0;$<fe.length;$++){var be=[fe[Math.max($-1,0)]*.25+fe[$]*.75,fe[Math.min($+1,fe.length-1)]*.25+fe[$]*.75];if(ge>=be[0]&&ge<=be[1]){le.clickableOrdinalRange=be;break}}}return le}function w(B,W){P.event.sourceEvent.stopPropagation();var J=W.height-P.mouse(B)[1]-2*m.verticalPadding,re=W.unitToPaddedPx.invert(J),ne=W.brush,le=b(W,J),$=le.interval,Z=ne.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=le.region==="ns",Z.grabbingBar){var ie=$.map(W.unitToPaddedPx);Z.grabPoint=J-ie[0]-m.verticalPadding,Z.barLength=ie[1]-ie[0]}Z.clickableOrdinalRange=le.clickableOrdinalRange,Z.stayingIntervals=W.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],$&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(X){return X[0]!==$[0]&&X[1]!==$[1]})),Z.startExtent=le.region?$[le.region==="s"?1:0]:re,W.parent.inBrushDrag=!0,Z.brushStartCallback()}function C(B,W){P.event.sourceEvent.stopPropagation();var J=W.height-P.mouse(B)[1]-2*m.verticalPadding,re=W.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[J-re.grabPoint,J+re.barLength-re.grabPoint].map(W.unitToPaddedPx.invert):re.newExtent=[re.startExtent,W.unitToPaddedPx.invert(J)].sort(S),W.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(W),d(B.parentNode)}function y(B,W){var J=W.brush,re=J.filter,ne=J.svgBrush;ne._dragging||(E(B,W),C(B,W),W.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var le=P.event;le.sourceEvent.stopPropagation();var $=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?J.filterSpecified&&W.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],J.filterSpecified=!0):$?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&D(J)):D(J),ne.brushCallback(W),d(B.parentNode),ne.brushEndCallback(J.filterSpecified?re.getConsolidated():[]);return}var Z=function(){re.set(re.getConsolidated())};if(W.ordinal){var ie=W.unitTickvals;ie[ie.length-1]<ie[0]&&ie.reverse(),ne.newExtent=[n(0,ie,ne.newExtent[0],ne.stayingIntervals),n(1,ie,ne.newExtent[1],ne.stayingIntervals)];var X=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(X?[ne.newExtent]:[]),ne.extent.length||D(J),ne.brushCallback(W),X?d(B.parentNode,Z):(Z(),d(B.parentNode))}else Z();ne.brushEndCallback(J.filterSpecified?re.getConsolidated():[])}function E(B,W){var J=W.height-P.mouse(B)[1]-2*m.verticalPadding,re=b(W,J),ne="crosshair";re.clickableOrdinalRange?ne="pointer":re.region&&(ne=re.region+"-resize"),P.select(document.body).style("cursor",ne)}function A(B){B.on("mousemove",function(W){P.event.preventDefault(),W.parent.inBrushDrag||E(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(P.behavior.drag().on("dragstart",function(W){w(this,W)}).on("drag",function(W){C(this,W)}).on("dragend",function(W){y(this,W)}))}function o(B,W){return B[0]-W[0]}function M(B,W,J){var re=J._context.staticPlot,ne=B.selectAll(".background").data(L);ne.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",re?"none":"auto").attr("transform",v(0,m.verticalPadding)),ne.call(A).attr("height",function(Z){return Z.height-m.verticalPadding});var le=B.selectAll(".highlight-shadow").data(L);le.enter().append("line").classed("highlight-shadow",!0).attr("x",-m.bar.width/2).attr("stroke-width",m.bar.width+m.bar.strokeWidth).attr("stroke",W).attr("opacity",m.bar.strokeOpacity).attr("stroke-linecap","butt"),le.attr("y1",function(Z){return Z.height}).call(i);var $=B.selectAll(".highlight").data(L);$.enter().append("line").classed("highlight",!0).attr("x",-m.bar.width/2).attr("stroke-width",m.bar.width-m.bar.strokeWidth).attr("stroke",m.bar.fillColor).attr("opacity",m.bar.fillOpacity).attr("stroke-linecap","butt"),$.attr("y1",function(Z){return Z.height}).call(i)}function x(B,W,J){var re=B.selectAll("."+m.cn.axisBrush).data(L,s);re.enter().append("g").classed(m.cn.axisBrush,!0),M(re,W,J)}function I(B){return B.svgBrush.extent.map(function(W){return W.slice()})}function D(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function N(B){return function(J){var re=J.brush,ne=I(re),le=ne.slice();re.filter.set(le),B()}}function k(B){for(var W=B.slice(),J=[],re,ne=W.shift();ne;){for(re=ne.slice();(ne=W.shift())&&ne[0]<=re[1];)re[1]=Math.max(re[1],ne[1]);J.push(re)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function O(){var B=[],W,J;return{set:function(re){B=re.map(function(ne){return ne.slice().sort(S)}).sort(o),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),W=k(B),J=B.reduce(function(ne,le){return[Math.min(ne[0],le[0]),Math.max(ne[1],le[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return W},getBounds:function(){return J}}}function F(B,W,J,re,ne,le){var $=O();return $.set(J),{filter:$,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:re,brushCallback:N(ne),brushEndCallback:le}}}function z(B,W){if(Array.isArray(B[0])?(B=B.map(function(re){return re.sort(S)}),W.multiselect?B=k(B.sort(o)):B=[B[0]]):B=[B.sort(S)],W.tickvals){var J=W.tickvals.slice().sort(S);if(B=B.map(function(re){var ne=[n(0,J,re[0],[]),n(1,J,re[1],[])];if(ne[1]>ne[0])return ne}).filter(function(re){return re}),!B.length)return}return B.length>1?B:B[0]}G.exports={makeBrush:F,ensureAxisBrush:x,cleanRanges:z}},61664:function(G,H,e){G.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(G,H,e){var m=e(33428),P=e(84888)._M,s=e(24196),L=e(9616);H.name="parcoords",H.plot=function(S){var v=P(S.calcdata,"parcoords")[0];v.length&&s(S,v)},H.clean=function(S,v,p,r){var t=r._has&&r._has("parcoords"),a=v._has&&v._has("parcoords");t&&!a&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},H.toSVG=function(S){var v=S._fullLayout._glimages,p=m.select(S).selectAll(".svg-container"),r=p.filter(function(a,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var a=this,n=a.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}r.each(t),window.setTimeout(function(){m.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(G,H,e){var m=e(3400).isArrayOrTypedArray,P=e(8932),s=e(71688).wrap;G.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&m(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(p._length),t=[[0,p.line.color],[1,p.line.color]]),s({lineColor:r,cscale:t})};function L(S){for(var v=new Array(S),p=0;p<S;p++)v[p]=.5;return v}},30140:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(G,H,e){var m=e(3400),P=e(94288).hasColorscale,s=e(27260),L=e(86968).Q,S=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,a=e(26284);function n(u,l,g,h,T){var c=T("line.color",g);if(P(u,"line")&&m.isArrayOrTypedArray(c)){if(c.length)return T("line.colorscale"),s(u,l,h,T,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=g}return 1/0}function f(u,l,g,h){function T(w,C){return m.coerce(u,l,p.dimensions,w,C)}var c=T("values"),i=T("visible");if(c&&c.length||(i=l.visible=!1),i){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),T("multiselect");var b=T("constraintrange");b&&(l.constraintrange=r.cleanRanges(b,l))}}G.exports=function(l,g,h,T){function c(C,y){return m.coerce(l,g,p,C,y)}var i=l.dimensions;Array.isArray(i)&&i.length>t&&(m.log("parcoords traces support up to "+t+" dimensions at the moment"),i.splice(t));var d=S(l,g,{name:"dimensions",layout:T,handleItemDefaults:f}),b=n(l,g,h,T,c);L(g,T,c),(!Array.isArray(d)||!d.length)&&(g.visible=!1),a(g,d,"values",b);var w=m.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});m.coerceFont(c,"labelfont",w),m.coerceFont(c,"tickfont",w,{autoShadowDflt:!0}),m.coerceFont(c,"rangefont",w),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(G,H,e){var m=e(3400).isTypedArray;H.convertTypedArray=function(P){return m(P)?Array.prototype.slice.call(P):P},H.isOrdinal=function(P){return!!P.tickvals},H.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(G,H,e){var m=e(61664);m.plot=e(24196),G.exports=m},51352:function(G,H,e){var m=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),s=e(30140).maxDimensionCount,L=e(3400),S=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(y){y.read({x:0,y:0,width:1,height:1,data:p})}function n(y,E,A,o,M){var x=y._gl;x.enable(x.SCISSOR_TEST),x.scissor(E,A,o,M),y.clear({color:[0,0,0,0],depth:1})}function f(y,E,A,o,M,x){var I=x.key;function D(N){var k=Math.min(o,M-N*o);N===0&&(window.cancelAnimationFrame(A.currentRafs[I]),delete A.currentRafs[I],n(y,x.scissorX,x.scissorY,x.scissorWidth,x.viewBoxSize[1])),!A.clearOnly&&(x.count=2*k,x.offset=2*N*o,E(x),N*o+k<M&&(A.currentRafs[I]=window.requestAnimationFrame(function(){D(N+1)})),A.drawCompleted=!1)}A.drawCompleted||(a(y),A.drawCompleted=!0),D(0)}function u(y){return Math.max(S,Math.min(1-S,y))}function l(y,E){for(var A=new Array(256),o=0;o<256;o++)A[o]=y(o/255).concat(E);return A}function g(y,E){return(y>>>8*E)%256/255}function h(y,E,A){for(var o=new Array(y*(s+4)),M=0,x=0;x<y;x++){for(var I=0;I<s;I++)o[M++]=I<E.length?E[I].paddedUnitValues[x]:.5;o[M++]=g(x,2),o[M++]=g(x,1),o[M++]=g(x,0),o[M++]=u(A[x])}return o}function T(y,E,A){for(var o=new Array(E*8),M=0,x=0;x<E;x++)for(var I=0;I<2;I++)for(var D=0;D<4;D++){var N=y*4+D,k=A[x*64+N];N===63&&I===0&&(k*=-1),o[M++]=k}return o}function c(y){var E="0"+y;return E.substr(E.length-2)}function i(y){return y<s?"p"+c(y+1)+"_"+c(y+4):"colors"}function d(y,E,A){for(var o=0;o<=s;o+=4)y[i(o)](T(o/4,E,A))}function b(y){for(var E={},A=0;A<=s;A+=4)E[i(A)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function w(y,E,A,o,M,x,I,D,N,k,O,F,z,B){for(var W=[[],[]],J=0;J<64;J++)W[0][J]=J===M?1:0,W[1][J]=J===x?1:0;I*=B,D*=B,N*=B,k*=B;var re=y.lines.canvasOverdrag*B,ne=y.domain,le=y.canvasWidth*B,$=y.canvasHeight*B,Z=y.pad.l*B,ie=y.pad.b*B,X=y.layoutHeight*B,Q=y.layoutWidth*B,oe=y.deselectedLines.color,j=y.deselectedLines.opacity,Y=L.extendFlat({key:O,resolution:[le,$],viewBoxPos:[I+re,D],viewBoxSize:[N,k],i0:M,i1:x,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:F,contextColor:[oe[0]/255,oe[1]/255,oe[2]/255,j!=="auto"?oe[3]*j:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(o===E?0:I+re)+(Z-re)+Q*ne.x[0],scissorWidth:(o===A?le-I+re:N+.5)+(o===E?I+re:0),scissorY:D+ie+X*ne.y[0],scissorHeight:k,viewportX:Z-re+Q*ne.x[0],viewportY:ie+X*ne.y[0],viewportWidth:le,viewportHeight:$},z);return Y}function C(y){var E=v-1,A=Math.max(0,Math.floor(y[0]*E),0),o=Math.min(E,Math.ceil(y[1]*E),E);return[Math.min(A,o),Math.max(A,o)]}G.exports=function(y,E){var A=E.context,o=E.pick,M=E.regl,x=M._gl,I=x.getParameter(x.ALIASED_LINE_WIDTH_RANGE),D=Math.max(I[0],Math.min(I[1],E.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},k,O,F,z,B=b(M),W,J=M.texture(t),re=[];le(E);var ne=M({profile:!1,blend:{enable:A,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!A,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:M.prop("scissorX"),y:M.prop("scissorY"),width:M.prop("scissorWidth"),height:M.prop("scissorHeight")}},viewport:{x:M.prop("viewportX"),y:M.prop("viewportY"),width:M.prop("viewportWidth"),height:M.prop("viewportHeight")},dither:!1,vert:m,frag:P,primitive:"lines",lineWidth:D,attributes:B,uniforms:{resolution:M.prop("resolution"),viewBoxPos:M.prop("viewBoxPos"),viewBoxSize:M.prop("viewBoxSize"),dim0A:M.prop("dim0A"),dim1A:M.prop("dim1A"),dim0B:M.prop("dim0B"),dim1B:M.prop("dim1B"),dim0C:M.prop("dim0C"),dim1C:M.prop("dim1C"),dim0D:M.prop("dim0D"),dim1D:M.prop("dim1D"),loA:M.prop("loA"),hiA:M.prop("hiA"),loB:M.prop("loB"),hiB:M.prop("hiB"),loC:M.prop("loC"),hiC:M.prop("hiC"),loD:M.prop("loD"),hiD:M.prop("hiD"),palette:J,contextColor:M.prop("contextColor"),maskTexture:M.prop("maskTexture"),drwLayer:M.prop("drwLayer"),maskHeight:M.prop("maskHeight")},offset:M.prop("offset"),count:M.prop("count")});function le(oe){k=oe.model,O=oe.viewModel,F=O.dimensions.slice(),z=F[0]?F[0].values.length:0;var j=k.lines,Y=o?j.color.map(function(te,fe){return fe/j.color.length}):j.color,se=h(z,F,Y);d(B,z,se),!A&&!o&&(J=M.texture(L.extendFlat({data:l(k.unitToColor,255)},t)))}function $(oe){var j,Y,se,te=[[],[]];for(se=0;se<64;se++){var fe=!oe&&se<F.length?F[se].brush.filter.getBounds():[-1/0,1/0];te[0][se]=fe[0],te[1][se]=fe[1]}var ge=v*8,be=new Array(ge);for(j=0;j<ge;j++)be[j]=255;if(!oe)for(j=0;j<F.length;j++){var xe=j%8,_e=(j-xe)/8,De=Math.pow(2,xe),Fe=F[j],Te=Fe.brush.filter.get();if(!(Te.length<2)){var Re=C(Te[0])[1];for(Y=1;Y<Te.length;Y++){var Se=C(Te[Y]);for(se=Re+1;se<Se[0];se++)be[se*8+_e]&=~De;Re=Math.max(Re,Se[1])}}}var ke={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:be};return W?W(ke):W=M.texture(ke),{maskTexture:W,maskHeight:v,loA:te[0].slice(0,16),loB:te[0].slice(16,32),loC:te[0].slice(32,48),loD:te[0].slice(48,64),hiA:te[1].slice(0,16),hiB:te[1].slice(16,32),hiC:te[1].slice(32,48),hiD:te[1].slice(48,64)}}function Z(oe,j,Y){var se=oe.length,te,fe,ge,be=1/0,xe=-1/0;for(te=0;te<se;te++)oe[te].dim0.canvasX<be&&(be=oe[te].dim0.canvasX,fe=te),oe[te].dim1.canvasX>xe&&(xe=oe[te].dim1.canvasX,ge=te);se===0&&n(M,0,0,k.canvasWidth,k.canvasHeight);var _e=$(A);for(te=0;te<se;te++){var De=oe[te],Fe=De.dim0.crossfilterDimensionIndex,Te=De.dim1.crossfilterDimensionIndex,Re=De.canvasX,Se=De.canvasY,ke=Re+De.panelSizeX,Me=De.plotGlPixelRatio;if(j||!re[Fe]||re[Fe][0]!==Re||re[Fe][1]!==ke){re[Fe]=[Re,ke];var Ve=w(k,fe,ge,te,Fe,Te,Re,Se,De.panelSizeX,De.panelSizeY,De.dim0.crossfilterDimensionIndex,A?0:o?2:1,_e,Me);N.clearOnly=Y;var tt=j?k.lines.blockLineCount:z;f(M,ne,N,tt,z,Ve)}}}function ie(oe,j){return M.read({x:oe,y:j,width:1,height:1,data:r}),r}function X(oe,j,Y,se){var te=new Uint8Array(4*Y*se);return M.read({x:oe,y:j,width:Y,height:se,data:te}),te}function Q(){y.style["pointer-events"]="none",J.destroy(),W&&W.destroy();for(var oe in B)B[oe].destroy()}return{render:Z,readPixel:ie,readPixels:X,destroy:Q,update:le}}},26284:function(G){G.exports=function(H,e,m,P){P||(P=1/0);var s,L;for(s=0;s<e.length;s++)L=e[s],L.visible&&(P=Math.min(P,L[m].length));for(P===1/0&&(P=0),H._length=P,s=0;s<e.length;s++)L=e[s],L.visible&&(L._length=P);return P}},36336:function(G,H,e){var m=e(33428),P=e(3400),s=P.isArrayOrTypedArray,L=P.numberFormat,S=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),a=e(43616),n=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,g=f.unwrap,h=e(95724),T=e(30140),c=e(71864),i=e(51352);function d(re,ne,le){return P.aggNums(re,null,ne,le)}function b(re,ne){return C(d(Math.min,re,ne),d(Math.max,re,ne))}function w(re){var ne=re.range;return ne?C(ne[0],ne[1]):b(re.values,re._length)}function C(re,ne){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),re===ne&&(re===0?(re-=1,ne+=1):(re*=.9,ne*=1.1)),[re,ne]}function y(re,ne){return ne?function(le,$){var Z=ne[$];return Z??re(le)}:re}function E(re,ne,le,$,Z){var ie=w(le);return $?m.scale.ordinal().domain($.map(y(L(le.tickformat),Z))).range($.map(function(X){var Q=(X-ie[0])/(ie[1]-ie[0]);return re-ne+Q*(2*ne-re)})):m.scale.linear().domain(ie).range([re-ne,ne])}function A(re,ne){return m.scale.linear().range([ne,re-ne])}function o(re,ne){return m.scale.linear().domain(w(re)).range([ne,1-ne])}function M(re){if(re.tickvals){var ne=w(re);return m.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(le){return(le-ne[0])/(ne[1]-ne[0])}))}}function x(re){var ne=re.map(function(ie){return ie[0]}),le=re.map(function(ie){var X=S(ie[1]);return m.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),$=function(ie){return function(X){return X[ie]}},Z="rgb".split("").map(function(ie){return m.scale.linear().clamp(!0).domain(ne).range(le.map($(ie)))});return function(ie){return Z.map(function(X){return X(ie)})}}function I(re){return re.dimensions.some(function(ne){return ne.brush.filterSpecified})}function D(re,ne,le){var $=g(ne),Z=$.trace,ie=h.convertTypedArray($.lineColor),X=Z.line,Q={color:S(Z.unselected.line.color),opacity:Z.unselected.line.opacity},oe=n.extractOpts(X),j=oe.reversescale?n.flipScale($.cscale):$.cscale,Y=Z.domain,se=Z.dimensions,te=re.width,fe=Z.labelangle,ge=Z.labelside,be=Z.labelfont,xe=Z.tickfont,_e=Z.rangefont,De=P.extendDeepNoArrays({},X,{color:ie.map(m.scale.linear().domain(w({values:ie,range:[oe.min,oe.max],_length:Z._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Fe=Math.floor(te*(Y.x[1]-Y.x[0])),Te=Math.floor(re.height*(Y.y[1]-Y.y[0])),Re=re.margin||{l:80,r:80,t:100,b:80},Se=Fe,ke=Te;return{key:le,colCount:se.filter(h.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:x(j),lines:De,deselectedLines:Q,labelAngle:fe,labelSide:ge,labelFont:be,tickFont:xe,rangeFont:_e,layoutWidth:te,layoutHeight:re.height,domain:Y,translateX:Y.x[0]*te,translateY:re.height-Y.y[1]*re.height,pad:Re,canvasWidth:Se*T.canvasPixelRatio+2*De.canvasOverdrag,canvasHeight:ke*T.canvasPixelRatio,width:Se,height:ke,canvasPixelRatio:T.canvasPixelRatio}}function N(re,ne,le){var $=le.width,Z=le.height,ie=le.dimensions,X=le.canvasPixelRatio,Q=function(te){return $*te/Math.max(1,le.colCount-1)},oe=T.verticalPadding/Z,j=A(Z,T.verticalPadding),Y={key:le.key,xScale:Q,model:le,inBrushDrag:!1},se={};return Y.dimensions=ie.filter(h.isVisible).map(function(te,fe){var ge=o(te,oe),be=se[te.label];se[te.label]=(be||0)+1;var xe=te.label+(be?"__"+be:""),_e=te.constraintrange,De=_e&&_e.length;De&&!s(_e[0])&&(_e=[_e]);var Fe=De?_e.map(function(Qe){return Qe.map(ge)}):[[-1/0,1/0]],Te=function(){var Qe=Y;Qe.focusLayer&&Qe.focusLayer.render(Qe.panels,!0);var ct=I(Qe);!re.contextShown()&&ct?(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0),re.contextShown(!0)):re.contextShown()&&!ct&&(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0,!0),re.contextShown(!1))},Re=te.values;Re.length>te._length&&(Re=Re.slice(0,te._length));var Se=te.tickvals,ke;function Me(Qe,ct){return{val:Qe,text:ke[ct]}}function Ve(Qe,ct){return Qe.val-ct.val}if(s(Se)&&Se.length){P.isTypedArray(Se)&&(Se=Array.from(Se)),ke=te.ticktext,!s(ke)||!ke.length?ke=Se.map(L(te.tickformat)):ke.length>Se.length?ke=ke.slice(0,Se.length):Se.length>ke.length&&(Se=Se.slice(0,ke.length));for(var tt=1;tt<Se.length;tt++)if(Se[tt]<Se[tt-1]){for(var it=Se.map(Me).sort(Ve),Je=0;Je<Se.length;Je++)Se[Je]=it[Je].val,ke[Je]=it[Je].text;break}}else Se=void 0;return Re=h.convertTypedArray(Re),{key:xe,label:te.label,tickFormat:te.tickformat,tickvals:Se,ticktext:ke,ordinal:h.isOrdinal(te),multiselect:te.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:te._index,height:Z,values:Re,paddedUnitValues:Re.map(ge),unitTickvals:Se&&Se.map(ge),xScale:Q,x:Q(fe),canvasX:Q(fe)*X,unitToPaddedPx:j,domainScale:E(Z,T.verticalPadding,te,Se,ke),ordinalScale:M(te),parent:Y,model:le,brush:c.makeBrush(re,De,Fe,function(){re.linePickActive(!1)},Te,function(Qe){if(Y.focusLayer.render(Y.panels,!0),Y.pickLayer&&Y.pickLayer.render(Y.panels,!0),re.linePickActive(!0),ne&&ne.filterChanged){var ct=ge.invert,ht=Qe.map(function(dt){return dt.map(ct).sort(P.sorterAsc)}).sort(function(dt,Tt){return dt[0]-Tt[0]});ne.filterChanged(Y.key,te._index,ht)}})}}),Y}function k(re){re.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function O(){var re=!0,ne=!1;return{linePickActive:function(le){return arguments.length?re=!!le:re},contextShown:function(le){return arguments.length?ne=!!le:ne}}}function F(re,ne){var le=ne==="top"?1:-1,$=re*Math.PI/180,Z=Math.sin($),ie=Math.cos($);return{dir:le,dx:Z,dy:ie,degrees:re}}function z(re,ne,le){for(var $=ne.panels||(ne.panels=[]),Z=re.data(),ie=0;ie<Z.length-1;ie++){var X=$[ie]||($[ie]={}),Q=Z[ie],oe=Z[ie+1];X.dim0=Q,X.dim1=oe,X.canvasX=Q.canvasX,X.panelSizeX=oe.canvasX-Q.canvasX,X.panelSizeY=ne.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=le}}function B(re){for(var ne=0;ne<re.length;ne++)for(var le=0;le<re[ne].length;le++)for(var $=re[ne][le].trace,Z=$.dimensions,ie=0;ie<Z.length;ie++){var X=Z[ie].values,Q=Z[ie]._ax;Q&&(Q.range?Q.range=C(Q.range[0],Q.range[1]):Q.range=b(X,$._length),Q.dtick||(Q.dtick=.01*(Math.abs(Q.range[1]-Q.range[0])||1)),Q.tickformat=Z[ie].tickformat,v.calcTicks(Q),Q.cleanRange())}}function W(re,ne){return v.tickText(re._ax,ne,!1).text}function J(re,ne){if(re.ordinal)return"";var le=re.domainScale.domain(),$=le[ne?le.length-1:0];return W(re.model.dimensions[re.visibleIndex],$)}G.exports=function(ne,le,$,Z){var ie=ne._context.staticPlot,X=ne._fullLayout,Q=X._toppaper,oe=X._glcontainer,j=ne._context.plotGlPixelRatio,Y=ne._fullLayout.paper_bgcolor;B(le);var se=O(),te=le.filter(function(Je){return g(Je).trace.visible}).map(D.bind(0,$)).map(N.bind(0,se,Z));oe.each(function(Je,Qe){return P.extendFlat(Je,te[Qe])});var fe=oe.selectAll(".gl-canvas").each(function(Je){Je.viewModel=te[0],Je.viewModel.plotGlPixelRatio=j,Je.viewModel.paperColor=Y,Je.model=Je.viewModel?Je.viewModel.model:null}),ge=null,be=fe.filter(function(Je){return Je.pick});be.style("pointer-events",ie?"none":"auto").on("mousemove",function(Je){if(se.linePickActive()&&Je.lineLayer&&Z&&Z.hover){var Qe=m.event,ct=this.width,ht=this.height,dt=m.mouse(this),Tt=dt[0],Et=dt[1];if(Tt<0||Et<0||Tt>=ct||Et>=ht)return;var rt=Je.lineLayer.readPixel(Tt,ht-1-Et),ze=rt[3]!==0,Ge=ze?rt[2]+256*(rt[1]+256*rt[0]):null,je={x:Tt,y:Et,clientX:Qe.clientX,clientY:Qe.clientY,dataIndex:Je.model.key,curveNumber:Ge};Ge!==ge&&(ze?Z.hover(je):Z.unhover&&Z.unhover(je),ge=Ge)}}),fe.style("opacity",function(Je){return Je.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var xe=Q.selectAll("."+T.cn.parcoords).data(te,u);xe.exit().remove(),xe.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),xe.attr("transform",function(Je){return r(Je.model.translateX,Je.model.translateY)});var _e=xe.selectAll("."+T.cn.parcoordsControlView).data(l,u);_e.enter().append("g").classed(T.cn.parcoordsControlView,!0),_e.attr("transform",function(Je){return r(Je.model.pad.l,Je.model.pad.t)});var De=_e.selectAll("."+T.cn.yAxis).data(function(Je){return Je.dimensions},u);De.enter().append("g").classed(T.cn.yAxis,!0),_e.each(function(Je){z(De,Je,j)}),fe.each(function(Je){if(Je.viewModel){!Je.lineLayer||Z?Je.lineLayer=i(this,Je):Je.lineLayer.update(Je),(Je.key||Je.key===0)&&(Je.viewModel[Je.key]=Je.lineLayer);var Qe=!Je.context||Z;Je.lineLayer.render(Je.viewModel.panels,Qe)}}),De.attr("transform",function(Je){return r(Je.xScale(Je.xIndex),0)}),De.call(m.behavior.drag().origin(function(Je){return Je}).on("drag",function(Je){var Qe=Je.parent;se.linePickActive(!1),Je.x=Math.max(-T.overdrag,Math.min(Je.model.width+T.overdrag,m.event.x)),Je.canvasX=Je.x*Je.model.canvasPixelRatio,De.sort(function(ct,ht){return ct.x-ht.x}).each(function(ct,ht){ct.xIndex=ht,ct.x=Je===ct?ct.x:ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio}),z(De,Qe,j),De.filter(function(ct){return Math.abs(Je.xIndex-ct.xIndex)!==0}).attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),m.select(this).attr("transform",r(Je.x,0)),De.each(function(ct,ht,dt){dt===Je.parent.key&&(Qe.dimensions[ht]=ct)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!I(Qe)),Qe.focusLayer.render&&Qe.focusLayer.render(Qe.panels)}).on("dragend",function(Je){var Qe=Je.parent;Je.x=Je.xScale(Je.xIndex),Je.canvasX=Je.x*Je.model.canvasPixelRatio,z(De,Qe,j),m.select(this).attr("transform",function(ct){return r(ct.x,0)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!I(Qe)),Qe.focusLayer&&Qe.focusLayer.render(Qe.panels),Qe.pickLayer&&Qe.pickLayer.render(Qe.panels,!0),se.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(Qe.key,Qe.dimensions.map(function(ct){return ct.crossfilterDimensionIndex}))})),De.exit().remove();var Fe=De.selectAll("."+T.cn.axisOverlays).data(l,u);Fe.enter().append("g").classed(T.cn.axisOverlays,!0),Fe.selectAll("."+T.cn.axis).remove();var Te=Fe.selectAll("."+T.cn.axis).data(l,u);Te.enter().append("g").classed(T.cn.axis,!0),Te.each(function(Je){var Qe=Je.model.height/Je.model.tickDistance,ct=Je.domainScale,ht=ct.domain();m.select(this).call(m.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Qe,Je.tickFormat).tickValues(Je.ordinal?ht:null).tickFormat(function(dt){return h.isOrdinal(Je)?dt:W(Je.model.dimensions[Je.visibleIndex],dt)}).scale(ct)),a.font(Te.selectAll("text"),Je.model.tickFont)}),Te.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Te.selectAll("text").style("cursor","default");var Re=Fe.selectAll("."+T.cn.axisHeading).data(l,u);Re.enter().append("g").classed(T.cn.axisHeading,!0);var Se=Re.selectAll("."+T.cn.axisTitle).data(l,u);Se.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),Se.text(function(Je){return Je.label}).each(function(Je){var Qe=m.select(this);a.font(Qe,Je.model.labelFont),t.convertToTspans(Qe,ne)}).attr("transform",function(Je){var Qe=F(Je.model.labelAngle,Je.model.labelSide),ct=T.axisTitleOffset;return(Qe.dir>0?"":r(0,2*ct+Je.model.height))+p(Qe.degrees)+r(-ct*Qe.dx,-ct*Qe.dy)}).attr("text-anchor",function(Je){var Qe=F(Je.model.labelAngle,Je.model.labelSide),ct=Math.abs(Qe.dx),ht=Math.abs(Qe.dy);return 2*ct>ht?Qe.dir*Qe.dx<0?"start":"end":"middle"});var ke=Fe.selectAll("."+T.cn.axisExtent).data(l,u);ke.enter().append("g").classed(T.cn.axisExtent,!0);var Me=ke.selectAll("."+T.cn.axisExtentTop).data(l,u);Me.enter().append("g").classed(T.cn.axisExtentTop,!0),Me.attr("transform",r(0,-T.axisExtentOffset));var Ve=Me.selectAll("."+T.cn.axisExtentTopText).data(l,u);Ve.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(k),Ve.text(function(Je){return J(Je,!0)}).each(function(Je){a.font(m.select(this),Je.model.rangeFont)});var tt=ke.selectAll("."+T.cn.axisExtentBottom).data(l,u);tt.enter().append("g").classed(T.cn.axisExtentBottom,!0),tt.attr("transform",function(Je){return r(0,Je.model.height+T.axisExtentOffset)});var it=tt.selectAll("."+T.cn.axisExtentBottomText).data(l,u);it.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(k),it.text(function(Je){return J(Je,!1)}).each(function(Je){a.font(m.select(this),Je.model.rangeFont)}),c.ensureAxisBrush(Fe,Y,ne)}},24196:function(G,H,e){var m=e(36336),P=e(5048),s=e(95724).isVisible,L={};function S(r,t,a){var n=t.indexOf(a),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return S(r,t,n)-S(r,t,f)}}var p=G.exports=function(t,a){var n=t._fullLayout,f=P(t,[],L);if(f){var u={},l={},g={},h={},T=n._size;a.forEach(function(w,C){var y=w[0].trace;g[C]=y.index;var E=h[C]=y._fullInput.index;u[C]=t.data[E].dimensions,l[C]=t.data[E].dimensions.slice()});var c=function(w,C,y){var E=l[w][C],A=y.map(function(N){return N.slice()}),o="dimensions["+C+"].constraintrange",M=n._tracePreGUI[t._fullData[g[w]]._fullInput.uid];if(M[o]===void 0){var x=E.constraintrange;M[o]=x||null}var I=t._fullData[g[w]].dimensions[C];A.length?(A.length===1&&(A=A[0]),E.constraintrange=A,I.constraintrange=A.slice(),A=[A]):(delete E.constraintrange,delete I.constraintrange,A=null);var D={};D[o]=A,t.emit("plotly_restyle",[D,[h[w]]])},i=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},b=function(w,C){var y=v(C,l[w].filter(s));u[w].sort(y),l[w].filter(function(E){return!s(E)}).sort(function(E){return l[w].indexOf(E)}).forEach(function(E){u[w].splice(u[w].indexOf(E),1),u[w].splice(l[w].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[h[w]]])};m(t,a,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:c,hover:i,unhover:d,axesMoved:b})}};p.reglPrecompiled=L},74996:function(G,H,e){var m=e(45464),P=e(86968).u,s=e(25376),L=e(22548),S=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},m.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(G,H,e){var m=e(7316);H.name="pie",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},45768:function(G,H,e){var m=e(38248),P=e(49760),s=e(76308),L={};function S(t,a){var n=[],f=t._fullLayout,u=f.hiddenlabels||[],l=a.labels,g=a.marker.colors||[],h=a.values,T=a._length,c=a._hasValues&&T,i,d;if(a.dlabel)for(l=new Array(T),i=0;i<T;i++)l[i]=String(a.label0+i*a.dlabel);var b={},w=v(f["_"+a.type+"colormap"]),C=0,y=!1;for(i=0;i<T;i++){var E,A,o;if(c){if(E=h[i],!m(E))continue;E=+E}else E=1;A=l[i],(A===void 0||A==="")&&(A=i),A=String(A);var M=b[A];M===void 0?(b[A]=n.length,o=u.indexOf(A)!==-1,o||(C+=E),n.push({v:E,label:A,color:w(g[i],A),i,pts:[i],hidden:o})):(y=!0,d=n[M],d.v+=E,d.pts.push(i),d.hidden||(C+=E),d.color===!1&&g[i]&&(d.color=w(g[i],A)))}n=n.filter(function(I){return I.v>=0});var x=a.type==="funnelarea"?y:a.sort;return x&&n.sort(function(I,D){return D.v-I.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,f){return!n||(n=P(n),!n.isValid())?!1:(n=s.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function p(t,a){var n=(a||{}).type;n||(n="pie");var f=t._fullLayout,u=t.calcdata,l=f[n+"colorway"],g=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(l=r(l,L));for(var h=0,T=0;T<u.length;T++){var c=u[T],i=c[0].trace.type;if(i===n)for(var d=0;d<c.length;d++){var b=c[d];b.color===!1&&(g[b.label]?b.color=g[b.label]:(g[b.label]=b.color=l[h%l.length],h++))}}}function r(t,a){var n,f=JSON.stringify(t),u=a[f];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(P(t[n]).darken(20).toHexString());a[f]=u}return u}G.exports={calc:S,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(G,H,e){var m=e(38248),P=e(3400),s=e(74996),L=e(86968).Q,S=e(31508).handleText,v=e(3400).coercePattern;function p(a,n){var f=P.isArrayOrTypedArray(a),u=P.isArrayOrTypedArray(n),l=Math.min(f?a.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var g,h=0;h<l;h++){var T=n[h];if(m(T)&&T>0){g=!0;break}}g||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(a,n,f,u,l){var g=u("marker.line.width");g&&u("marker.line.color",l?void 0:f.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),a.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=a.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(a,n,f,u){function l(M,x){return P.coerce(a,n,s,M,x)}var g=l("labels"),h=l("values"),T=p(g,h),c=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(a,n,u,l,!0),l("scalegroup");var i=l("text"),d=l("texttemplate"),b;if(d||(b=l("textinfo",P.isArrayOrTypedArray(i)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||b&&b!=="none"){var w=l("textposition");S(a,n,u,l,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(w)||w==="auto",y=C||w==="outside";y&&l("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&l("insidetextorientation")}else b==="none"&&l("textposition","none");L(n,u,l);var E=l("hole"),A=l("title.text");if(A){var o=l("title.position",E?"middle center":"top center");!E&&o==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(G,H,e){var m=e(10624).appendArrayMultiPointValues;G.exports=function(s,L){var S={curveNumber:L.index,pointNumbers:s.pts,data:L._input,fullData:L,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(S.pointNumber=S.i=s.pts[0]),m(S,L,s.pts),L.type==="funnelarea"&&(delete S.v,delete S.i),S}},21552:function(G,H,e){var m=e(43616),P=e(76308);G.exports=function(L,S,v,p){var r=v.marker.pattern;r&&r.shape?m.pointStyle(L,v,p,S):P.fill(L,S.color)}},69656:function(G,H,e){var m=e(3400);function P(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}H.formatPiePercent=function(L,S){var v=P((L*100).toPrecision(3));return m.numSeparate(v,S)+"%"},H.formatPieValue=function(L,S){var v=P(L.toPrecision(10));return m.numSeparate(v,S)},H.getFirstFilled=function(L,S){if(m.isArrayOrTypedArray(L))for(var v=0;v<S.length;v++){var p=L[S[v]];if(p||p===0||p==="")return p}},H.castOption=function(L,S){if(m.isArrayOrTypedArray(L))return H.getFirstFilled(L,S);if(L)return L},H.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},75792:function(G,H,e){G.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(G,H,e){var m=e(3400),P=e(85204);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("hiddenlabels"),v("piecolorway",S.colorway),v("extendpiecolors")}},37820:function(G,H,e){var m=e(33428),P=e(7316),s=e(93024),L=e(76308),S=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),a=e(82744),n=a.recordMinTextSize,f=a.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),g=e(53644),h=e(3400).isValidTextValue;function T(Z,ie){var X=Z._context.staticPlot,Q=Z._fullLayout,oe=Q._size;f("pie",Q),w(ie,Z),W(ie,oe);var j=v.makeTraceGroups(Q._pielayer,ie,"trace").each(function(Y){var se=m.select(this),te=Y[0],fe=te.trace;re(Y),se.attr("stroke-linejoin","round"),se.each(function(){var ge=m.select(this).selectAll("g.slice").data(Y);ge.enter().append("g").classed("slice",!0),ge.exit().remove();var be=[[[],[]],[[],[]]],xe=!1;ge.each(function(Me,Ve){if(Me.hidden){m.select(this).selectAll("path,g").remove();return}Me.pointNumber=Me.i,Me.curveNumber=fe.index,be[Me.pxmid[1]<0?0:1][Me.pxmid[0]<0?0:1].push(Me);var tt=te.cx,it=te.cy,Je=m.select(this),Qe=Je.selectAll("path.surface").data([Me]);if(Qe.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Je.call(i,Z,Y),fe.pull){var ct=+l.castOption(fe.pull,Me.pts)||0;ct>0&&(tt+=ct*Me.pxmid[0],it+=ct*Me.pxmid[1])}Me.cxFinal=tt,Me.cyFinal=it;function ht(je,We,Le,Pe){var Ye=Pe*(We[0]-je[0]),Ce=Pe*(We[1]-je[1]);return"a"+Pe*te.r+","+Pe*te.r+" 0 "+Me.largeArc+(Le?" 1 ":" 0 ")+Ye+","+Ce}var dt=fe.hole;if(Me.v===te.vTotal){var Tt="M"+(tt+Me.px0[0])+","+(it+Me.px0[1])+ht(Me.px0,Me.pxmid,!0,1)+ht(Me.pxmid,Me.px0,!0,1)+"Z";dt?Qe.attr("d","M"+(tt+dt*Me.px0[0])+","+(it+dt*Me.px0[1])+ht(Me.px0,Me.pxmid,!1,dt)+ht(Me.pxmid,Me.px0,!1,dt)+"Z"+Tt):Qe.attr("d",Tt)}else{var Et=ht(Me.px0,Me.px1,!0,1);if(dt){var rt=1-dt;Qe.attr("d","M"+(tt+dt*Me.px1[0])+","+(it+dt*Me.px1[1])+ht(Me.px1,Me.px0,!1,dt)+"l"+rt*Me.px0[0]+","+rt*Me.px0[1]+Et+"Z")}else Qe.attr("d","M"+tt+","+it+"l"+Me.px0[0]+","+Me.px0[1]+Et+"Z")}le(Z,Me,te);var ze=l.castOption(fe.textposition,Me.pts),Ge=Je.selectAll("g.slicetext").data(Me.text&&ze!=="none"?[0]:[]);Ge.enter().append("g").classed("slicetext",!0),Ge.exit().remove(),Ge.each(function(){var je=v.ensureSingle(m.select(this),"text","",function(Ne){Ne.attr("data-notex",1)}),We=v.ensureUniformFontSize(Z,ze==="outside"?d(fe,Me,Q.font):b(fe,Me,Q.font));je.text(Me.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,We).call(t.convertToTspans,Z);var Le=S.bBox(je.node()),Pe;if(ze==="outside")Pe=D(Le,Me);else if(Pe=C(Le,Me,te),ze==="auto"&&Pe.scale<1){var Ye=v.ensureUniformFontSize(Z,fe.outsidetextfont);je.call(S.font,Ye),Le=S.bBox(je.node()),Pe=D(Le,Me)}var Ce=Pe.textPosAngle,he=Ce===void 0?Me.pxmid:ne(te.r,Ce);if(Pe.targetX=tt+he[0]*Pe.rCenter+(Pe.x||0),Pe.targetY=it+he[1]*Pe.rCenter+(Pe.y||0),$(Pe,Le),Pe.outside){var me=Pe.targetY;Me.yLabelMin=me-Le.height/2,Me.yLabelMid=me,Me.yLabelMax=me+Le.height/2,Me.labelExtraX=0,Me.labelExtraY=0,xe=!0}Pe.fontSize=We.size,n(fe.type,Pe,Q),Y[Ve].transform=Pe,v.setTransormAndDisplay(je,Pe)})});var _e=m.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(_e.enter().append("g").classed("titletext",!0),_e.exit().remove(),_e.each(function(){var Me=v.ensureSingle(m.select(this),"text","",function(it){it.attr("data-notex",1)}),Ve=fe.title.text;fe._meta&&(Ve=v.templateString(Ve,fe._meta)),Me.text(Ve).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,fe.title.font).call(t.convertToTspans,Z);var tt;fe.title.position==="middle center"?tt=N(te):tt=k(te,oe),Me.attr("transform",r(tt.x,tt.y)+p(Math.min(1,tt.scale))+r(tt.tx,tt.ty))}),xe&&B(be,fe),c(ge,fe),xe&&fe.automargin){var De=S.bBox(se.node()),Fe=fe.domain,Te=oe.w*(Fe.x[1]-Fe.x[0]),Re=oe.h*(Fe.y[1]-Fe.y[0]),Se=(.5*Te-te.r)/oe.w,ke=(.5*Re-te.r)/oe.h;P.autoMargin(Z,"pie."+fe.uid+".automargin",{xl:Fe.x[0]-Se,xr:Fe.x[1]+Se,yb:Fe.y[0]-ke,yt:Fe.y[1]+ke,l:Math.max(te.cx-te.r-De.left,0),r:Math.max(De.right-(te.cx+te.r),0),b:Math.max(De.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-De.top,0),pad:5})}})});setTimeout(function(){j.selectAll("tspan").each(function(){var Y=m.select(this);Y.attr("dy")&&Y.attr("dy",Y.attr("dy"))})},0)}function c(Z,ie){Z.each(function(X){var Q=m.select(this);if(!X.labelExtraX&&!X.labelExtraY){Q.select("path.textline").remove();return}var oe=Q.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(oe,X.transform);var j=X.cxFinal+X.pxmid[0],Y=X.cyFinal+X.pxmid[1],se="M"+j+","+Y,te=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var fe=X.labelExtraX*X.pxmid[1]/X.pxmid[0],ge=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(fe)>Math.abs(ge)?se+="l"+ge*X.pxmid[0]/X.pxmid[1]+","+ge+"H"+(j+X.labelExtraX+te):se+="l"+X.labelExtraX+","+fe+"v"+(ge-fe)+"h"+te}else se+="V"+(X.yLabelMid+X.labelExtraY)+"h"+te;v.ensureSingle(Q,"path","textline").call(L.stroke,ie.outsidetextfont.color).attr({"stroke-width":Math.min(2,ie.outsidetextfont.size/8),d:se,fill:"none"})})}function i(Z,ie,X){var Q=X[0],oe=Q.cx,j=Q.cy,Y=Q.trace,se=Y.type==="funnelarea";"_hasHoverLabel"in Y||(Y._hasHoverLabel=!1),"_hasHoverEvent"in Y||(Y._hasHoverEvent=!1),Z.on("mouseover",function(te){var fe=ie._fullLayout,ge=ie._fullData[Y.index];if(!(ie._dragging||fe.hovermode===!1)){var be=ge.hoverinfo;if(Array.isArray(be)&&(be=s.castHoverinfo({hoverinfo:[l.castOption(be,te.pts)],_module:Y._module},fe,0)),be==="all"&&(be="label+text+value+percent+name"),ge.hovertemplate||be!=="none"&&be!=="skip"&&be){var xe=te.rInscribed||0,_e=oe+te.pxmid[0]*(1-xe),De=j+te.pxmid[1]*(1-xe),Fe=fe.separators,Te=[];if(be&&be.indexOf("label")!==-1&&Te.push(te.label),te.text=l.castOption(ge.hovertext||ge.text,te.pts),be&&be.indexOf("text")!==-1){var Re=te.text;v.isValidTextValue(Re)&&Te.push(Re)}te.value=te.v,te.valueLabel=l.formatPieValue(te.v,Fe),be&&be.indexOf("value")!==-1&&Te.push(te.valueLabel),te.percent=te.v/Q.vTotal,te.percentLabel=l.formatPiePercent(te.percent,Fe),be&&be.indexOf("percent")!==-1&&Te.push(te.percentLabel);var Se=ge.hoverlabel,ke=Se.font,Me=[];s.loneHover({trace:Y,x0:_e-xe*Q.r,x1:_e+xe*Q.r,y:De,_x0:se?oe+te.TL[0]:_e-xe*Q.r,_x1:se?oe+te.TR[0]:_e+xe*Q.r,_y0:se?j+te.TL[1]:De-xe*Q.r,_y1:se?j+te.BL[1]:De+xe*Q.r,text:Te.join("<br>"),name:ge.hovertemplate||be.indexOf("name")!==-1?ge.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:l.castOption(Se.bgcolor,te.pts)||te.color,borderColor:l.castOption(Se.bordercolor,te.pts),fontFamily:l.castOption(ke.family,te.pts),fontSize:l.castOption(ke.size,te.pts),fontColor:l.castOption(ke.color,te.pts),nameLength:l.castOption(Se.namelength,te.pts),textAlign:l.castOption(Se.align,te.pts),hovertemplate:l.castOption(ge.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[g(te,ge)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:ie,inOut_bbox:Me}),te.bbox=Me[0],Y._hasHoverLabel=!0}Y._hasHoverEvent=!0,ie.emit("plotly_hover",{points:[g(te,ge)],event:m.event})}}),Z.on("mouseout",function(te){var fe=ie._fullLayout,ge=ie._fullData[Y.index],be=m.select(this).datum();Y._hasHoverEvent&&(te.originalEvent=m.event,ie.emit("plotly_unhover",{points:[g(be,ge)],event:m.event}),Y._hasHoverEvent=!1),Y._hasHoverLabel&&(s.loneUnhover(fe._hoverlayer.node()),Y._hasHoverLabel=!1)}),Z.on("click",function(te){var fe=ie._fullLayout,ge=ie._fullData[Y.index];ie._dragging||fe.hovermode===!1||(ie._hoverdata=[g(te,ge)],s.click(ie,m.event))})}function d(Z,ie,X){var Q=l.castOption(Z.outsidetextfont.color,ie.pts)||l.castOption(Z.textfont.color,ie.pts)||X.color,oe=l.castOption(Z.outsidetextfont.family,ie.pts)||l.castOption(Z.textfont.family,ie.pts)||X.family,j=l.castOption(Z.outsidetextfont.size,ie.pts)||l.castOption(Z.textfont.size,ie.pts)||X.size,Y=l.castOption(Z.outsidetextfont.weight,ie.pts)||l.castOption(Z.textfont.weight,ie.pts)||X.weight,se=l.castOption(Z.outsidetextfont.style,ie.pts)||l.castOption(Z.textfont.style,ie.pts)||X.style,te=l.castOption(Z.outsidetextfont.variant,ie.pts)||l.castOption(Z.textfont.variant,ie.pts)||X.variant,fe=l.castOption(Z.outsidetextfont.textcase,ie.pts)||l.castOption(Z.textfont.textcase,ie.pts)||X.textcase,ge=l.castOption(Z.outsidetextfont.lineposition,ie.pts)||l.castOption(Z.textfont.lineposition,ie.pts)||X.lineposition,be=l.castOption(Z.outsidetextfont.shadow,ie.pts)||l.castOption(Z.textfont.shadow,ie.pts)||X.shadow;return{color:Q,family:oe,size:j,weight:Y,style:se,variant:te,textcase:fe,lineposition:ge,shadow:be}}function b(Z,ie,X){var Q=l.castOption(Z.insidetextfont.color,ie.pts);!Q&&Z._input.textfont&&(Q=l.castOption(Z._input.textfont.color,ie.pts));var oe=l.castOption(Z.insidetextfont.family,ie.pts)||l.castOption(Z.textfont.family,ie.pts)||X.family,j=l.castOption(Z.insidetextfont.size,ie.pts)||l.castOption(Z.textfont.size,ie.pts)||X.size,Y=l.castOption(Z.insidetextfont.weight,ie.pts)||l.castOption(Z.textfont.weight,ie.pts)||X.weight,se=l.castOption(Z.insidetextfont.style,ie.pts)||l.castOption(Z.textfont.style,ie.pts)||X.style,te=l.castOption(Z.insidetextfont.variant,ie.pts)||l.castOption(Z.textfont.variant,ie.pts)||X.variant,fe=l.castOption(Z.insidetextfont.textcase,ie.pts)||l.castOption(Z.textfont.textcase,ie.pts)||X.textcase,ge=l.castOption(Z.insidetextfont.lineposition,ie.pts)||l.castOption(Z.textfont.lineposition,ie.pts)||X.lineposition,be=l.castOption(Z.insidetextfont.shadow,ie.pts)||l.castOption(Z.textfont.shadow,ie.pts)||X.shadow;return{color:Q||L.contrast(ie.color),family:oe,size:j,weight:Y,style:se,variant:te,textcase:fe,lineposition:ge,shadow:be}}function w(Z,ie){for(var X,Q,oe=0;oe<Z.length;oe++)if(X=Z[oe][0],Q=X.trace,Q.title.text){var j=Q.title.text;Q._meta&&(j=v.templateString(j,Q._meta));var Y=S.tester.append("text").attr("data-notex",1).text(j).call(S.font,Q.title.font).call(t.convertToTspans,ie),se=S.bBox(Y.node(),!0);X.titleBox={width:se.width,height:se.height},Y.remove()}}function C(Z,ie,X){var Q=X.r||ie.rpx1,oe=ie.rInscribed,j=ie.startangle===ie.stopangle;if(j)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var Y=ie.ring,se=Y===1&&Math.abs(ie.startangle-ie.stopangle)===Math.PI*2,te=ie.halfangle,fe=ie.midangle,ge=X.trace.insidetextorientation,be=ge==="horizontal",xe=ge==="tangential",_e=ge==="radial",De=ge==="auto",Fe=[],Te;if(!De){var Re=function(Je,Qe){if(y(ie,Je)){var ct=Math.abs(Je-ie.startangle),ht=Math.abs(Je-ie.stopangle),dt=ct<ht?ct:ht;Qe==="tan"?Te=A(Z,Q,Y,dt,0):Te=E(Z,Q,Y,dt,Math.PI/2),Te.textPosAngle=Je,Fe.push(Te)}},Se;if(be||xe){for(Se=4;Se>=-4;Se-=2)Re(Math.PI*Se,"tan");for(Se=4;Se>=-4;Se-=2)Re(Math.PI*(Se+1),"tan")}if(be||_e){for(Se=4;Se>=-4;Se-=2)Re(Math.PI*(Se+1.5),"rad");for(Se=4;Se>=-4;Se-=2)Re(Math.PI*(Se+.5),"rad")}}if(se||De||be){var ke=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(Te={scale:oe*Q*2/ke,rCenter:1-oe,rotate:0},Te.textPosAngle=(ie.startangle+ie.stopangle)/2,Te.scale>=1)return Te;Fe.push(Te)}(De||_e)&&(Te=E(Z,Q,Y,te,fe),Te.textPosAngle=(ie.startangle+ie.stopangle)/2,Fe.push(Te)),(De||xe)&&(Te=A(Z,Q,Y,te,fe),Te.textPosAngle=(ie.startangle+ie.stopangle)/2,Fe.push(Te));for(var Me=0,Ve=0,tt=0;tt<Fe.length;tt++){var it=Fe[tt].scale;if(Ve<it&&(Ve=it,Me=tt),!De&&Ve>=1)break}return Fe[Me]}function y(Z,ie){var X=Z.startangle,Q=Z.stopangle;return X>ie&&ie>Q||X<ie&&ie<Q}function E(Z,ie,X,Q,oe){ie=Math.max(0,ie-2*u);var j=Z.width/Z.height,Y=x(j,Q,ie,X);return{scale:Y*2/Z.height,rCenter:o(j,Y/ie),rotate:M(oe)}}function A(Z,ie,X,Q,oe){ie=Math.max(0,ie-2*u);var j=Z.height/Z.width,Y=x(j,Q,ie,X);return{scale:Y*2/Z.width,rCenter:o(j,Y/ie),rotate:M(oe+Math.PI/2)}}function o(Z,ie){return Math.cos(ie)-Z*ie}function M(Z){return(180/Math.PI*Z+720)%180-90}function x(Z,ie,X,Q){var oe=Z+1/(2*Math.tan(ie));return X*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),Q/(Math.sqrt(Z*Z+Q/2)+Z))}function I(Z,ie){return Z.v===ie.vTotal&&!ie.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function D(Z,ie){var X=ie.pxmid[0],Q=ie.pxmid[1],oe=Z.width/2,j=Z.height/2;return X<0&&(oe*=-1),Q<0&&(j*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(j)*(oe>0?1:-1)/2,y:j/(1+X*X/(Q*Q)),outside:!0}}function N(Z){var ie=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/ie,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function k(Z,ie){var X=1,Q=1,oe,j=Z.trace,Y={x:Z.cx,y:Z.cy},se={tx:0,ty:0};se.ty+=j.title.font.size,oe=z(j),j.title.position.indexOf("top")!==-1?(Y.y-=(1+oe)*Z.r,se.ty-=Z.titleBox.height):j.title.position.indexOf("bottom")!==-1&&(Y.y+=(1+oe)*Z.r);var te=O(Z.r,Z.trace.aspectratio),fe=ie.w*(j.domain.x[1]-j.domain.x[0])/2;return j.title.position.indexOf("left")!==-1?(fe=fe+te,Y.x-=(1+oe)*te,se.tx+=Z.titleBox.width/2):j.title.position.indexOf("center")!==-1?fe*=2:j.title.position.indexOf("right")!==-1&&(fe=fe+te,Y.x+=(1+oe)*te,se.tx-=Z.titleBox.width/2),X=fe/Z.titleBox.width,Q=F(Z,ie)/Z.titleBox.height,{x:Y.x,y:Y.y,scale:Math.min(X,Q),tx:se.tx,ty:se.ty}}function O(Z,ie){return Z/(ie===void 0?1:ie)}function F(Z,ie){var X=Z.trace,Q=ie.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(Z.titleBox.height,Q/2)}function z(Z){var ie=Z.pull;if(!ie)return 0;var X;if(v.isArrayOrTypedArray(ie))for(ie=0,X=0;X<Z.pull.length;X++)Z.pull[X]>ie&&(ie=Z.pull[X]);return ie}function B(Z,ie){var X,Q,oe,j,Y,se,te,fe,ge,be,xe,_e,De;function Fe(ke,Me){return ke.pxmid[1]-Me.pxmid[1]}function Te(ke,Me){return Me.pxmid[1]-ke.pxmid[1]}function Re(ke,Me){Me||(Me={});var Ve=Me.labelExtraY+(Q?Me.yLabelMax:Me.yLabelMin),tt=Q?ke.yLabelMin:ke.yLabelMax,it=Q?ke.yLabelMax:ke.yLabelMin,Je=ke.cyFinal+Y(ke.px0[1],ke.px1[1]),Qe=Ve-tt,ct,ht,dt,Tt,Et,rt;if(Qe*te>0&&(ke.labelExtraY=Qe),!!v.isArrayOrTypedArray(ie.pull))for(ht=0;ht<be.length;ht++)dt=be[ht],!(dt===ke||(l.castOption(ie.pull,ke.pts)||0)>=(l.castOption(ie.pull,dt.pts)||0))&&((ke.pxmid[1]-dt.pxmid[1])*te>0?(Tt=dt.cyFinal+Y(dt.px0[1],dt.px1[1]),Qe=Tt-tt-ke.labelExtraY,Qe*te>0&&(ke.labelExtraY+=Qe)):(it+ke.labelExtraY-Je)*te>0&&(ct=3*se*Math.abs(ht-be.indexOf(ke)),Et=dt.cxFinal+j(dt.px0[0],dt.px1[0]),rt=Et+ct-(ke.cxFinal+ke.pxmid[0])-ke.labelExtraX,rt*se>0&&(ke.labelExtraX+=rt)))}for(Q=0;Q<2;Q++)for(oe=Q?Fe:Te,Y=Q?Math.max:Math.min,te=Q?1:-1,X=0;X<2;X++){for(j=X?Math.max:Math.min,se=X?1:-1,fe=Z[Q][X],fe.sort(oe),ge=Z[1-Q][X],be=ge.concat(fe),_e=[],xe=0;xe<fe.length;xe++)fe[xe].yLabelMid!==void 0&&_e.push(fe[xe]);for(De=!1,xe=0;Q&&xe<ge.length;xe++)if(ge[xe].yLabelMid!==void 0){De=ge[xe];break}for(xe=0;xe<_e.length;xe++){var Se=xe&&_e[xe-1];De&&!xe&&(Se=De),Re(_e[xe],Se)}}}function W(Z,ie){for(var X=[],Q=0;Q<Z.length;Q++){var oe=Z[Q][0],j=oe.trace,Y=j.domain,se=ie.w*(Y.x[1]-Y.x[0]),te=ie.h*(Y.y[1]-Y.y[0]);j.title.text&&j.title.position!=="middle center"&&(te-=F(oe,ie));var fe=se/2,ge=te/2;j.type==="funnelarea"&&!j.scalegroup&&(ge/=j.aspectratio),oe.r=Math.min(fe,ge)/(1+z(j)),oe.cx=ie.l+ie.w*(j.domain.x[1]+j.domain.x[0])/2,oe.cy=ie.t+ie.h*(1-j.domain.y[0])-te/2,j.title.text&&j.title.position.indexOf("bottom")!==-1&&(oe.cy-=F(oe,ie)),j.scalegroup&&X.indexOf(j.scalegroup)===-1&&X.push(j.scalegroup)}J(Z,X)}function J(Z,ie){for(var X,Q,oe,j=0;j<ie.length;j++){var Y=1/0,se=ie[j];for(Q=0;Q<Z.length;Q++)if(X=Z[Q][0],oe=X.trace,oe.scalegroup===se){var te;if(oe.type==="pie")te=X.r*X.r;else if(oe.type==="funnelarea"){var fe,ge;oe.aspectratio>1?(fe=X.r,ge=fe/oe.aspectratio):(ge=X.r,fe=ge*oe.aspectratio),fe*=(1+oe.baseratio)/2,te=fe*ge}Y=Math.min(Y,te/X.vTotal)}for(Q=0;Q<Z.length;Q++)if(X=Z[Q][0],oe=X.trace,oe.scalegroup===se){var be=Y*X.vTotal;oe.type==="funnelarea"&&(be/=(1+oe.baseratio)/2,be/=oe.aspectratio),X.r=Math.sqrt(be)}}}function re(Z){var ie=Z[0],X=ie.r,Q=ie.trace,oe=l.getRotationAngle(Q.rotation),j=2*Math.PI/ie.vTotal,Y="px0",se="px1",te,fe,ge;if(Q.direction==="counterclockwise"){for(te=0;te<Z.length&&Z[te].hidden;te++);if(te===Z.length)return;oe+=j*Z[te].v,j*=-1,Y="px1",se="px0"}for(ge=ne(X,oe),te=0;te<Z.length;te++)fe=Z[te],!fe.hidden&&(fe[Y]=ge,fe.startangle=oe,oe+=j*fe.v/2,fe.pxmid=ne(X,oe),fe.midangle=oe,oe+=j*fe.v/2,ge=ne(X,oe),fe.stopangle=oe,fe[se]=ge,fe.largeArc=fe.v>ie.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/ie.vTotal,.5),fe.ring=1-Q.hole,fe.rInscribed=I(fe,ie))}function ne(Z,ie){return[Z*Math.sin(ie),-Z*Math.cos(ie)]}function le(Z,ie,X){var Q=Z._fullLayout,oe=X.trace,j=oe.texttemplate,Y=oe.textinfo;if(!j&&Y&&Y!=="none"){var se=Y.split("+"),te=function(Me){return se.indexOf(Me)!==-1},fe=te("label"),ge=te("text"),be=te("value"),xe=te("percent"),_e=Q.separators,De;if(De=fe?[ie.label]:[],ge){var Fe=l.getFirstFilled(oe.text,ie.pts);h(Fe)&&De.push(Fe)}be&&De.push(l.formatPieValue(ie.v,_e)),xe&&De.push(l.formatPiePercent(ie.v/X.vTotal,_e)),ie.text=De.join("<br>")}function Te(Me){return{label:Me.label,value:Me.v,valueLabel:l.formatPieValue(Me.v,Q.separators),percent:Me.v/X.vTotal,percentLabel:l.formatPiePercent(Me.v/X.vTotal,Q.separators),color:Me.color,text:Me.text,customdata:v.castOption(oe,Me.i,"customdata")}}if(j){var Re=v.castOption(oe,ie.i,"texttemplate");if(!Re)ie.text="";else{var Se=Te(ie),ke=l.getFirstFilled(oe.text,ie.pts);(h(ke)||ke==="")&&(Se.text=ke),ie.text=v.texttemplateString(Re,Se,Z._fullLayout._d3locale,Se,oe._meta||{})}}}function $(Z,ie){var X=Z.rotate*Math.PI/180,Q=Math.cos(X),oe=Math.sin(X),j=(ie.left+ie.right)/2,Y=(ie.top+ie.bottom)/2;Z.textX=j*Q-Y*oe,Z.textY=j*oe+Y*Q,Z.noCenter=!0}G.exports={plot:T,formatSliceLabel:le,transformInsideText:C,determineInsideTextFont:b,positionTitleOutside:k,prerenderTitles:w,layoutAreas:W,attachFxHandlers:i,computeTransform:$}},22152:function(G,H,e){var m=e(33428),P=e(10528),s=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._pielayer.selectAll(".trace");s(S,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,a=m.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){m.select(this).call(P,n,t,S)})})}},10528:function(G,H,e){var m=e(76308),P=e(69656).castOption,s=e(21552);G.exports=function(S,v,p,r){var t=p.marker.line,a=P(t.color,v.pts)||m.defaultLine,n=P(t.width,v.pts)||0;S.call(s,v,p,r).style("stroke-width",n).call(m.stroke,a)}},35484:function(G,H,e){var m=e(52904);G.exports={x:m.x,y:m.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:m.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(G,H,e){var m=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,s=e(43080),L=e(19280).findExtremes,S=e(44928);function v(t,a){this.scene=t,this.uid=a,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=m(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var a=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[a*2],this.pickXYData[a*2+1]]:[this.pickXData[a],this.pickYData[a]],textLabel:P(this.textLabels)?this.textLabels[a]:this.textLabels,color:this.color,name:this.name,pointIndex:a,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=S(t,{})},p.updateFast=function(t){var a=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,g,h,T,c=this.bounds,i,d,b;if(f){if(T=f,g=f.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(b=0;b<g;b++)i=T[b*2],d=T[b*2+1],i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(g),b=0;b<g;b++)h[b]=b}else for(g=a.length,T=new Float32Array(2*g),h=new Int32Array(g),b=0;b<g;b++)i=a[b],d=n[b],h[b]=b,T[b*2]=i,T[b*2+1]=d,i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=T;var w=s(t.marker.color),C=s(t.marker.border.color),y=t.opacity*t.marker.opacity;w[3]*=y,this.pointcloudOptions.color=w;var E=t.marker.blend;if(E===null){var A=100;E=a.length<A||n.length<A}this.pointcloudOptions.blend=E,C[3]*=y,this.pointcloudOptions.borderColor=C;var o=t.marker.sizemin,M=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=o,this.pointcloudOptions.sizeMax=M,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var x=this.scene.xaxis,I=this.scene.yaxis,D=M/2||.5;t._extremes[x._id]=L(x,[c[0],c[2]],{ppad:D}),t._extremes[I._id]=L(I,[c[1],c[3]],{ppad:D})},p.dispose=function(){this.pointcloud.dispose()};function r(t,a){var n=new v(t,a.uid);return n.update(a),n}G.exports=r},41904:function(G,H,e){var m=e(3400),P=e(35484);G.exports=function(L,S,v){function p(r,t){return m.coerce(L,S,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(S.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(S.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),S._length=null}},156:function(G,H,e){G.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(G,H,e){var m=e(25376),P=e(45464),s=e(22548),L=e(55756),S=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,a=e(92880).extendFlat,n=e(67824).overrideAll,f=G.exports=n({hoverinfo:a({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:S({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:m({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(G,H,e){var m=e(67824).overrideAll,P=e(84888)._M,s=e(59596),L=e(65460),S=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),a="sankey";H.name=a,H.baseLayoutAttrOverrides=m({hoverlabel:L.hoverlabel},"plot","nested"),H.plot=function(f){var u=P(f.calcdata,a)[0];s(f,u),H.updateFx(f)},H.clean=function(f,u,l,g){var h=g._has&&g._has(a),T=u._has&&u._has(a);h&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)n(f,u)};function n(f,u){var l=f._fullData[u],g=f._fullLayout,h=g.dragmode,T=g.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){S(c,T);var i={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},b={gd:f,element:c.node(),plotinfo:{id:u,xaxis:i,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[i],yaxes:[d],doneFnCompleted:function(w){var C=f._fullData[u],y,E=C.node.groups.slice(),A=[];function o(D){for(var N=C._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===D)return N[k]}for(var M=0;M<w.length;M++){var x=o(w[M].pointNumber);if(x)if(x.group){for(var I=0;I<x.childrenNodes.length;I++)A.push(x.childrenNodes[I].pointNumber);E[x.pointNumber-C.node._count]=!1}else A.push(x.pointNumber)}y=E.filter(Boolean).concat([A]),t.call("_guiRestyle",f,{"node.groups":[y]},u)}};b.prepFn=function(w,C,y){p(w,C,y,b,h)},v.init(b)}}},48068:function(G,H,e){var m=e(78484),P=e(3400),s=e(71688).wrap,L=P.isArrayOrTypedArray,S=P.isIndex,v=e(8932);function p(t){var a=t.node,n=t.link,f=[],u=L(n.color),l=L(n.hovercolor),g=L(n.customdata),h={},T={},c=n.colorscales.length,i;for(i=0;i<c;i++){var d=n.colorscales[i],b=v.extractScale(d,{cLetter:"c"}),w=v.makeColorScaleFunc(b);T[d.label]=w}var C=0;for(i=0;i<n.value.length;i++)n.source[i]>C&&(C=n.source[i]),n.target[i]>C&&(C=n.target[i]);var y=C+1;t.node._count=y;var E,A=t.node.groups,o={};for(i=0;i<A.length;i++){var M=A[i];for(E=0;E<M.length;E++){var x=M[E],I=y+i;o.hasOwnProperty(x)?P.warn("Node "+x+" is already part of a group."):o[x]=I}}var D={source:[],target:[]};for(i=0;i<n.value.length;i++){var N=n.value[i],k=n.source[i],O=n.target[i];if(N>0&&S(k,y)&&S(O,y)&&!(o.hasOwnProperty(k)&&o.hasOwnProperty(O)&&o[k]===o[O])){o.hasOwnProperty(O)&&(O=o[O]),o.hasOwnProperty(k)&&(k=o[k]),k=+k,O=+O,h[k]=h[O]=!0;var F="";n.label&&n.label[i]&&(F=n.label[i]);var z=null;F&&T.hasOwnProperty(F)&&(z=T[F]),f.push({pointNumber:i,label:F,color:u?n.color[i]:n.color,hovercolor:l?n.hovercolor[i]:n.hovercolor,customdata:g?n.customdata[i]:n.customdata,concentrationscale:z,source:k,target:O,value:+N}),D.source.push(k),D.target.push(O)}}var B=y+A.length,W=L(a.color),J=L(a.customdata),re=[];for(i=0;i<B;i++)if(h[i]){var ne=a.label[i];re.push({group:i>y-1,childrenNodes:[],pointNumber:i,label:ne,color:W?a.color[i]:a.color,customdata:J?a.customdata[i]:a.customdata})}var le=!1;return r(B,D.source,D.target)&&(le=!0),{circular:le,links:f,nodes:re,groups:A,groupLookup:o}}function r(t,a,n){for(var f=P.init2dArray(t,0),u=0;u<Math.min(a.length,n.length);u++)if(P.isIndex(a[u],t)&&P.isIndex(n[u],t)){if(a[u]===n[u])return!0;f[a[u]].push(n[u])}var l=m(f);return l.components.some(function(g){return g.length>1})}G.exports=function(a,n){var f=p(n);return s({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(G,H,e){var m=e(3400),P=e(41440),s=e(76308),L=e(49760),S=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);G.exports=function(n,f,u,l){function g(I,D){return m.coerce(n,f,P,I,D)}var h=m.extendDeep(l.hoverlabel,n.hoverlabel),T=n.node,c=p.newContainer(f,"node");function i(I,D){return m.coerce(T,c,P.node,I,D)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",n.hoverinfo),v(T,c,i,h),i("hovertemplate"),i("align");var d=l.colorway,b=function(I){return d[I%d.length]};i("color",c.label.map(function(I,D){return s.addOpacity(b(D),.8)})),i("customdata");var w=n.link||{},C=p.newContainer(f,"link");function y(I,D){return m.coerce(w,C,P.link,I,D)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",n.hoverinfo),v(w,C,y,h),y("hovertemplate");var E=L(l.paper_bgcolor).getLuminance()<.333,A=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",o=y("color",A);function M(I){var D=L(I);if(!D.isValid())return I;var N=D.getAlpha();return N<=.8?D.setAlpha(N+.2):D=E?D.brighten():D.darken(),D.toRgbString()}y("hovercolor",Array.isArray(o)?o.map(M):M(o)),y("customdata"),r(w,C,{name:"colorscales",handleItemDefaults:t}),S(f,l,g),g("orientation"),g("valueformat"),g("valuesuffix");var x;c.x.length&&c.y.length&&(x="freeform"),g("arrangement",x),m.coerceFont(g,"textfont",l.font,{autoShadowDflt:!0}),f._length=null};function t(a,n){function f(u,l){return m.coerce(a,n,P.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(G,H,e){G.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(G,H,e){var m=e(33428),P=e(3400),s=P.numberFormat,L=e(83248),S=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function a(d,b){return d.filter(function(w){return w.key===b.traceId})}function n(d,b){m.select(d).select("path").style("fill-opacity",b),m.select(d).select("rect").style("fill-opacity",b)}function f(d){m.select(d).select("text.name").style("fill","black")}function u(d){return function(b){return d.node.sourceLinks.indexOf(b.link)!==-1||d.node.targetLinks.indexOf(b.link)!==-1}}function l(d){return function(b){return b.node.sourceLinks.indexOf(d.link)!==-1||b.node.targetLinks.indexOf(d.link)!==-1}}function g(d,b,w){b&&w&&a(w,b).selectAll("."+p.sankeyLink).filter(u(b)).call(T.bind(0,b,w,!1))}function h(d,b,w){b&&w&&a(w,b).selectAll("."+p.sankeyLink).filter(u(b)).call(c.bind(0,b,w,!1))}function T(d,b,w,C){C.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),C.each(function(y){var E=y.link.label;E!==""&&a(b,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===E}).style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha})}),w&&a(b,d).selectAll("."+p.sankeyNode).filter(l(d)).call(g)}function c(d,b,w,C){C.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),C.each(function(y){var E=y.link.label;E!==""&&a(b,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===E}).style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha})}),w&&a(b,d).selectAll(p.sankeyNode).filter(l(d)).call(h)}function i(d,b){var w=d.hoverlabel||{},C=P.nestedProperty(w,b).get();return Array.isArray(C)?!1:C}G.exports=function(b,w){for(var C=b._fullLayout,y=C._paper,E=C._size,A=0;A<b._fullData.length;A++)if(b._fullData[A].visible&&b._fullData[A].type===p.sankey&&!b._fullData[A]._viewInitial){var o=b._fullData[A].node;b._fullData[A]._viewInitial={node:{groups:o.groups.slice(),x:o.x.slice(),y:o.y.slice()}}}var M=function(ne,le){var $=le.link;$.originalEvent=m.event,b._hoverdata=[$],S.click(b,{target:!0})},x=function(ne,le,$){b._fullLayout.hovermode!==!1&&(m.select(ne).call(T.bind(0,le,$,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,b.emit("plotly_hover",{event:m.event,points:[le.link]})))},I=r(b,"source:")+" ",D=r(b,"target:")+" ",N=r(b,"concentration:")+" ",k=r(b,"incoming flow count:")+" ",O=r(b,"outgoing flow count:")+" ",F=function(ne,le){if(b._fullLayout.hovermode===!1)return;var $=le.link.trace.link;if($.hoverinfo==="none"||$.hoverinfo==="skip")return;var Z=[];function ie(te){var fe,ge;te.circular?(fe=(te.circularPathData.leftInnerExtent+te.circularPathData.rightInnerExtent)/2,ge=te.circularPathData.verticalFullExtent):(fe=(te.source.x1+te.target.x0)/2,ge=(te.y0+te.y1)/2);var be=[fe,ge];return te.trace.orientation==="v"&&be.reverse(),be[0]+=le.parent.translateX,be[1]+=le.parent.translateY,be}for(var X=0,Q=0;Q<le.flow.links.length;Q++){var oe=le.flow.links[Q];if(!(b._fullLayout.hovermode==="closest"&&le.link.pointNumber!==oe.pointNumber)){le.link.pointNumber===oe.pointNumber&&(X=Q),oe.fullData=oe.trace,$=le.link.trace.link;var j=ie(oe),Y={valueLabel:s(le.valueFormat)(oe.value)+le.valueSuffix};Z.push({x:j[0],y:j[1],name:Y.valueLabel,text:[oe.label||"",I+oe.source.label,D+oe.target.label,oe.concentrationscale?N+s("%0.2f")(oe.flow.labelConcentration):""].filter(t).join("<br>"),color:i($,"bgcolor")||v.addOpacity(oe.color,1),borderColor:i($,"bordercolor"),fontFamily:i($,"font.family"),fontSize:i($,"font.size"),fontColor:i($,"font.color"),fontWeight:i($,"font.weight"),fontStyle:i($,"font.style"),fontVariant:i($,"font.variant"),fontTextcase:i($,"font.textcase"),fontLineposition:i($,"font.lineposition"),fontShadow:i($,"font.shadow"),nameLength:i($,"namelength"),textAlign:i($,"align"),idealAlign:m.event.x<j[0]?"right":"left",hovertemplate:$.hovertemplate,hovertemplateLabels:Y,eventData:[oe]})}}var se=S.loneHover(Z,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:b,anchorIndex:X});se.each(function(){var te=this;le.link.concentrationscale||n(te,.65),f(te)})},z=function(ne,le,$){b._fullLayout.hovermode!==!1&&(m.select(ne).call(c.bind(0,le,$,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,b.emit("plotly_unhover",{event:m.event,points:[le.link]})),S.loneUnhover(C._hoverlayer.node()))},B=function(ne,le,$){var Z=le.node;Z.originalEvent=m.event,b._hoverdata=[Z],m.select(ne).call(h,le,$),S.click(b,{target:!0})},W=function(ne,le,$){b._fullLayout.hovermode!==!1&&(m.select(ne).call(g,le,$),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,b.emit("plotly_hover",{event:m.event,points:[le.node]})))},J=function(ne,le){if(b._fullLayout.hovermode!==!1){var $=le.node.trace.node;if(!($.hoverinfo==="none"||$.hoverinfo==="skip")){var Z=m.select(ne).select("."+p.nodeRect),ie=b._fullLayout._paperdiv.node().getBoundingClientRect(),X=Z.node().getBoundingClientRect(),Q=X.left-2-ie.left,oe=X.right+2-ie.left,j=X.top+X.height/4-ie.top,Y={valueLabel:s(le.valueFormat)(le.node.value)+le.valueSuffix};le.node.fullData=le.node.trace,b._fullLayout._calcInverseTransform(b);var se=b._fullLayout._invScaleX,te=b._fullLayout._invScaleY,fe=S.loneHover({x0:se*Q,x1:se*oe,y:te*j,name:s(le.valueFormat)(le.node.value)+le.valueSuffix,text:[le.node.label,k+le.node.targetLinks.length,O+le.node.sourceLinks.length].filter(t).join("<br>"),color:i($,"bgcolor")||le.tinyColorHue,borderColor:i($,"bordercolor"),fontFamily:i($,"font.family"),fontSize:i($,"font.size"),fontColor:i($,"font.color"),fontWeight:i($,"font.weight"),fontStyle:i($,"font.style"),fontVariant:i($,"font.variant"),fontTextcase:i($,"font.textcase"),fontLineposition:i($,"font.lineposition"),fontShadow:i($,"font.shadow"),nameLength:i($,"namelength"),textAlign:i($,"align"),idealAlign:"left",hovertemplate:$.hovertemplate,hovertemplateLabels:Y,eventData:[le.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:b});n(fe,.85),f(fe)}}},re=function(ne,le,$){b._fullLayout.hovermode!==!1&&(m.select(ne).call(h,le,$),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,b.emit("plotly_unhover",{event:m.event,points:[le.node]})),S.loneUnhover(C._hoverlayer.node()))};L(b,y,w,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:x,follow:F,unhover:z,select:M},nodeEvents:{hover:W,follow:J,unhover:re,select:B}})}},83248:function(G,H,e){var m=e(49812),P=e(67756).Gz,s=e(33428),L=e(26800),S=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),a=e(3400),n=a.strTranslate,f=a.strRotate,u=e(71688),l=u.keyFun,g=u.repeat,h=u.unwrap,T=e(72736),c=e(24040),i=e(84284),d=i.CAP_SHIFT,b=i.LINE_SPACING,w=3;function C(ie,X,Q){var oe=h(X),j=oe.trace,Y=j.domain,se=j.orientation==="h",te=j.node.pad,fe=j.node.thickness,ge={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[j.node.align],be=ie.width*(Y.x[1]-Y.x[0]),xe=ie.height*(Y.y[1]-Y.y[0]),_e=oe._nodes,De=oe._links,Fe=oe.circular,Te;Fe?Te=S.sankeyCircular().circularLinkGap(0):Te=L.sankey(),Te.iterations(v.sankeyIterations).size(se?[be,xe]:[xe,be]).nodeWidth(fe).nodePadding(te).nodeId(function(rt){return rt.pointNumber}).nodeAlign(ge).nodes(_e).links(De);var Re=Te();Te.nodePadding()<te&&a.warn("node.pad was reduced to ",Te.nodePadding()," to fit within the figure.");var Se,ke,Me;for(var Ve in oe._groupLookup){var tt=parseInt(oe._groupLookup[Ve]),it;for(Se=0;Se<Re.nodes.length;Se++)if(Re.nodes[Se].pointNumber===tt){it=Re.nodes[Se];break}if(it){var Je={pointNumber:parseInt(Ve),x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Re.nodes.unshift(Je),it.childrenNodes.unshift(Je)}}function Qe(){for(Se=0;Se<Re.nodes.length;Se++){var rt=Re.nodes[Se],ze={},Ge,je;for(ke=0;ke<rt.targetLinks.length;ke++)je=rt.targetLinks[ke],Ge=je.source.pointNumber+":"+je.target.pointNumber,ze.hasOwnProperty(Ge)||(ze[Ge]=[]),ze[Ge].push(je);var We=Object.keys(ze);for(ke=0;ke<We.length;ke++){Ge=We[ke];var Le=ze[Ge],Pe=0,Ye={};for(Me=0;Me<Le.length;Me++)je=Le[Me],Ye[je.label]||(Ye[je.label]=0),Ye[je.label]+=je.value,Pe+=je.value;for(Me=0;Me<Le.length;Me++)je=Le[Me],je.flow={value:Pe,labelConcentration:Ye[je.label]/Pe,concentration:je.value/Pe,links:Le},je.concentrationscale&&(je.color=p(je.concentrationscale(je.flow.labelConcentration)))}var Ce=0;for(ke=0;ke<rt.sourceLinks.length;ke++)Ce+=rt.sourceLinks[ke].value;for(ke=0;ke<rt.sourceLinks.length;ke++)je=rt.sourceLinks[ke],je.concentrationOut=je.value/Ce;var he=0;for(ke=0;ke<rt.targetLinks.length;ke++)he+=rt.targetLinks[ke].value;for(ke=0;ke<rt.targetLinks.length;ke++)je=rt.targetLinks[ke],je.concenrationIn=je.value/he}}Qe();function ct(rt){rt.forEach(function(ze){var Ge,je,We=0,Le=ze.length,Pe;for(ze.sort(function(Ye,Ce){return Ye.y0-Ce.y0}),Pe=0;Pe<Le;++Pe)Ge=ze[Pe],Ge.y0>=We||(je=We-Ge.y0,je>1e-6&&(Ge.y0+=je,Ge.y1+=je)),We=Ge.y1+te})}function ht(rt){var ze=rt.map(function(Ce,he){return{x0:Ce.x0,index:he}}).sort(function(Ce,he){return Ce.x0-he.x0}),Ge=[],je=-1,We,Le=-1/0,Pe;for(Se=0;Se<ze.length;Se++){var Ye=rt[ze[Se].index];Ye.x0>Le+fe&&(je+=1,We=Ye.x0),Le=Ye.x0,Ge[je]||(Ge[je]=[]),Ge[je].push(Ye),Pe=We-Ye.x0,Ye.x0+=Pe,Ye.x1+=Pe}return Ge}if(j.node.x.length&&j.node.y.length){for(Se=0;Se<Math.min(j.node.x.length,j.node.y.length,Re.nodes.length);Se++)if(j.node.x[Se]&&j.node.y[Se]){var dt=[j.node.x[Se]*be,j.node.y[Se]*xe];Re.nodes[Se].x0=dt[0]-fe/2,Re.nodes[Se].x1=dt[0]+fe/2;var Tt=Re.nodes[Se].y1-Re.nodes[Se].y0;Re.nodes[Se].y0=dt[1]-Tt/2,Re.nodes[Se].y1=dt[1]+Tt/2}if(j.arrangement==="snap"){_e=Re.nodes;var Et=ht(_e);ct(Et)}Te.update(Re)}return{circular:Fe,key:Q,trace:j,guid:a.randstr(),horizontal:se,width:be,height:xe,nodePad:j.node.pad,nodeLineColor:j.node.line.color,nodeLineWidth:j.node.line.width,linkLineColor:j.link.line.color,linkLineWidth:j.link.line.width,linkArrowLength:j.link.arrowlen,valueFormat:j.valueformat,valueSuffix:j.valuesuffix,textFont:j.textfont,translateX:Y.x[0]*ie.width+ie.margin.l,translateY:ie.height-Y.y[1]*ie.height+ie.margin.t,dragParallel:se?xe:be,dragPerpendicular:se?be:xe,arrangement:j.arrangement,sankey:Te,graph:Re,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(ie,X,Q){var oe=p(X.color),j=p(X.hovercolor),Y=X.source.label+"|"+X.target.label,se=Y+"__"+Q;return X.trace=ie.trace,X.curveNumber=ie.trace.index,{circular:ie.circular,key:se,traceId:ie.key,pointNumber:X.pointNumber,link:X,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),tinyColorHoverHue:r.tinyRGB(j),tinyColorHoverAlpha:j.getAlpha(),linkPath:A,linkLineColor:ie.linkLineColor,linkLineWidth:ie.linkLineWidth,linkArrowLength:ie.linkArrowLength,valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,parent:ie,interactionState:ie.interactionState,flow:X.flow}}function E(ie,X){var Q="",oe=ie.width/2,j=ie.circularPathData;return ie.circularLinkType==="top"?Q="M "+(j.targetX-X)+" "+(j.targetY+oe)+" L"+(j.rightInnerExtent-X)+" "+(j.targetY+oe)+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightSmallArcRadius+oe)+" 0 0 1 "+(j.rightFullExtent-oe-X)+" "+(j.targetY-j.rightSmallArcRadius)+"L"+(j.rightFullExtent-oe-X)+" "+j.verticalRightInnerExtent+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightLargeArcRadius+oe)+" 0 0 1 "+(j.rightInnerExtent-X)+" "+(j.verticalFullExtent-oe)+"L"+j.leftInnerExtent+" "+(j.verticalFullExtent-oe)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftLargeArcRadius+oe)+" 0 0 1 "+(j.leftFullExtent+oe)+" "+j.verticalLeftInnerExtent+"L"+(j.leftFullExtent+oe)+" "+(j.sourceY-j.leftSmallArcRadius)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftSmallArcRadius+oe)+" 0 0 1 "+j.leftInnerExtent+" "+(j.sourceY+oe)+"L"+j.sourceX+" "+(j.sourceY+oe)+"L"+j.sourceX+" "+(j.sourceY-oe)+"L"+j.leftInnerExtent+" "+(j.sourceY-oe)+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftSmallArcRadius-oe)+" 0 0 0 "+(j.leftFullExtent-oe)+" "+(j.sourceY-j.leftSmallArcRadius)+"L"+(j.leftFullExtent-oe)+" "+j.verticalLeftInnerExtent+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftLargeArcRadius-oe)+" 0 0 0 "+j.leftInnerExtent+" "+(j.verticalFullExtent+oe)+"L"+(j.rightInnerExtent-X)+" "+(j.verticalFullExtent+oe)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightLargeArcRadius-oe)+" 0 0 0 "+(j.rightFullExtent+oe-X)+" "+j.verticalRightInnerExtent+"L"+(j.rightFullExtent+oe-X)+" "+(j.targetY-j.rightSmallArcRadius)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightSmallArcRadius-oe)+" 0 0 0 "+(j.rightInnerExtent-X)+" "+(j.targetY-oe)+"L"+(j.targetX-X)+" "+(j.targetY-oe)+(X>0?"L"+j.targetX+" "+j.targetY:"")+"Z":Q="M "+(j.targetX-X)+" "+(j.targetY-oe)+" L"+(j.rightInnerExtent-X)+" "+(j.targetY-oe)+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightSmallArcRadius+oe)+" 0 0 0 "+(j.rightFullExtent-oe-X)+" "+(j.targetY+j.rightSmallArcRadius)+"L"+(j.rightFullExtent-oe-X)+" "+j.verticalRightInnerExtent+"A"+(j.rightLargeArcRadius+oe)+" "+(j.rightLargeArcRadius+oe)+" 0 0 0 "+(j.rightInnerExtent-X)+" "+(j.verticalFullExtent+oe)+"L"+j.leftInnerExtent+" "+(j.verticalFullExtent+oe)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftLargeArcRadius+oe)+" 0 0 0 "+(j.leftFullExtent+oe)+" "+j.verticalLeftInnerExtent+"L"+(j.leftFullExtent+oe)+" "+(j.sourceY+j.leftSmallArcRadius)+"A"+(j.leftLargeArcRadius+oe)+" "+(j.leftSmallArcRadius+oe)+" 0 0 0 "+j.leftInnerExtent+" "+(j.sourceY-oe)+"L"+j.sourceX+" "+(j.sourceY-oe)+"L"+j.sourceX+" "+(j.sourceY+oe)+"L"+j.leftInnerExtent+" "+(j.sourceY+oe)+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftSmallArcRadius-oe)+" 0 0 1 "+(j.leftFullExtent-oe)+" "+(j.sourceY+j.leftSmallArcRadius)+"L"+(j.leftFullExtent-oe)+" "+j.verticalLeftInnerExtent+"A"+(j.leftLargeArcRadius-oe)+" "+(j.leftLargeArcRadius-oe)+" 0 0 1 "+j.leftInnerExtent+" "+(j.verticalFullExtent-oe)+"L"+(j.rightInnerExtent-X)+" "+(j.verticalFullExtent-oe)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightLargeArcRadius-oe)+" 0 0 1 "+(j.rightFullExtent+oe-X)+" "+j.verticalRightInnerExtent+"L"+(j.rightFullExtent+oe-X)+" "+(j.targetY+j.rightSmallArcRadius)+"A"+(j.rightLargeArcRadius-oe)+" "+(j.rightSmallArcRadius-oe)+" 0 0 1 "+(j.rightInnerExtent-X)+" "+(j.targetY+oe)+"L"+(j.targetX-X)+" "+(j.targetY+oe)+(X>0?"L"+j.targetX+" "+j.targetY:"")+"Z",Q}function A(){var ie=.5;function X(Q){var oe=Q.linkArrowLength;if(Q.link.circular)return E(Q.link,oe);var j=Math.abs((Q.link.target.x0-Q.link.source.x1)/2);oe>j&&(oe=j);var Y=Q.link.source.x1,se=Q.link.target.x0-oe,te=P(Y,se),fe=te(ie),ge=te(1-ie),be=Q.link.y0-Q.link.width/2,xe=Q.link.y0+Q.link.width/2,_e=Q.link.y1-Q.link.width/2,De=Q.link.y1+Q.link.width/2,Fe="M"+Y+","+be,Te="C"+fe+","+be+" "+ge+","+_e+" "+se+","+_e,Re="C"+ge+","+De+" "+fe+","+xe+" "+Y+","+xe,Se=oe>0?"L"+(se+oe)+","+(_e+Q.link.width/2):"";return Se+="L"+se+","+De,Fe+Te+Se+Re+"Z"}return X}function o(ie,X){var Q=p(X.color),oe=v.nodePadAcross,j=ie.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var Y=X.dx,se=Math.max(.5,X.dy),te="node_"+X.pointNumber;return X.group&&(te=a.randstr()),X.trace=ie.trace,X.curveNumber=ie.trace.index,{index:X.pointNumber,key:te,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:ie.key,trace:ie.trace,node:X,nodePad:ie.nodePad,nodeLineColor:ie.nodeLineColor,nodeLineWidth:ie.nodeLineWidth,textFont:ie.textFont,size:ie.horizontal?ie.height:ie.width,visibleWidth:Math.ceil(Y),visibleHeight:se,zoneX:-oe,zoneY:-j,zoneWidth:Y+2*oe,zoneHeight:se+2*j,labelY:ie.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:ie.width,forceLayouts:ie.forceLayouts,horizontal:ie.horizontal,darkBackground:Q.getBrightness()<=128,tinyColorHue:r.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,graph:ie.graph,arrangement:ie.arrangement,uniqueNodeLabelPathId:[ie.guid,ie.key,te].join("_"),interactionState:ie.interactionState,figure:ie}}function M(ie){ie.attr("transform",function(X){return n(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function x(ie){ie.call(M)}function I(ie,X){ie.call(x),X.attr("d",A())}function D(ie){ie.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function N(ie){return ie.link.width>1||ie.linkLineWidth>0}function k(ie){var X=n(ie.translateX,ie.translateY);return X+(ie.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(ie,X,Q){ie.on(".basic",null).on("mouseover.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(Q.hover(this,oe,X),oe.interactionState.hovered=[this,oe])}).on("mousemove.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(Q.follow(this,oe),oe.interactionState.hovered=[this,oe])}).on("mouseout.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(Q.unhover(this,oe,X),oe.interactionState.hovered=!1)}).on("click.basic",function(oe){oe.interactionState.hovered&&(Q.unhover(this,oe,X),oe.interactionState.hovered=!1),!oe.interactionState.dragInProgress&&!oe.partOfGroup&&Q.select(this,oe,X)})}function F(ie,X,Q,oe){var j=s.behavior.drag().origin(function(Y){return{x:Y.node.x0+Y.visibleWidth/2,y:Y.node.y0+Y.visibleHeight/2}}).on("dragstart",function(Y){if(Y.arrangement!=="fixed"&&(a.ensureSingle(oe._fullLayout._infolayer,"g","dragcover",function(te){oe._fullLayout._dragCover=te}),a.raiseToTop(this),Y.interactionState.dragInProgress=Y.node,ne(Y.node),Y.interactionState.hovered&&(Q.nodeEvents.unhover.apply(0,Y.interactionState.hovered),Y.interactionState.hovered=!1),Y.arrangement==="snap")){var se=Y.traceId+"|"+Y.key;Y.forceLayouts[se]?Y.forceLayouts[se].alpha(1):z(ie,se,Y),B(ie,X,Y,se,oe)}}).on("drag",function(Y){if(Y.arrangement!=="fixed"){var se=s.event.x,te=s.event.y;Y.arrangement==="snap"?(Y.node.x0=se-Y.visibleWidth/2,Y.node.x1=se+Y.visibleWidth/2,Y.node.y0=te-Y.visibleHeight/2,Y.node.y1=te+Y.visibleHeight/2):(Y.arrangement==="freeform"&&(Y.node.x0=se-Y.visibleWidth/2,Y.node.x1=se+Y.visibleWidth/2),te=Math.max(0,Math.min(Y.size-Y.visibleHeight/2,te)),Y.node.y0=te-Y.visibleHeight/2,Y.node.y1=te+Y.visibleHeight/2),ne(Y.node),Y.arrangement!=="snap"&&(Y.sankey.update(Y.graph),I(ie.filter(le(Y)),X))}}).on("dragend",function(Y){if(Y.arrangement!=="fixed"){Y.interactionState.dragInProgress=!1;for(var se=0;se<Y.node.childrenNodes.length;se++)Y.node.childrenNodes[se].x=Y.node.x,Y.node.childrenNodes[se].y=Y.node.y;Y.arrangement!=="snap"&&J(Y,oe)}});ie.on(".drag",null).call(j)}function z(ie,X,Q,oe){$(Q.graph.nodes);var j=Q.graph.nodes.filter(function(Y){return Y.originalX===Q.node.originalX}).filter(function(Y){return!Y.partOfGroup});Q.forceLayouts[X]=m.forceSimulation(j).alphaDecay(0).force("collide",m.forceCollide().radius(function(Y){return Y.dy/2+Q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(ie,X,j,Q)).stop()}function B(ie,X,Q,oe,j){window.requestAnimationFrame(function Y(){var se;for(se=0;se<v.forceTicksPerFrame;se++)Q.forceLayouts[oe].tick();var te=Q.graph.nodes;if(Z(te),Q.sankey.update(Q.graph),I(ie.filter(le(Q)),X),Q.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(Y);else{var fe=Q.node.originalX;Q.node.x0=fe-Q.visibleWidth/2,Q.node.x1=fe+Q.visibleWidth/2,J(Q,j)}})}function W(ie,X,Q,oe){return function(){for(var Y=0,se=0;se<Q.length;se++){var te=Q[se];te===oe.interactionState.dragInProgress?(te.x=te.lastDraggedX,te.y=te.lastDraggedY):(te.vx=(te.originalX-te.x)/v.forceTicksPerFrame,te.y=Math.min(oe.size-te.dy/2,Math.max(te.dy/2,te.y))),Y=Math.max(Y,Math.abs(te.vx),Math.abs(te.vy))}!oe.interactionState.dragInProgress&&Y<.1&&oe.forceLayouts[X].alpha()>0&&oe.forceLayouts[X].alpha(0)}}function J(ie,X){for(var Q=[],oe=[],j=0;j<ie.graph.nodes.length;j++){var Y=(ie.graph.nodes[j].x0+ie.graph.nodes[j].x1)/2,se=(ie.graph.nodes[j].y0+ie.graph.nodes[j].y1)/2;Q.push(Y/ie.figure.width),oe.push(se/ie.figure.height)}c.call("_guiRestyle",X,{"node.x":[Q],"node.y":[oe]},ie.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function re(ie){var X=[],Q;for(Q=0;Q<ie.length;Q++)ie[Q].originalX=(ie[Q].x0+ie[Q].x1)/2,ie[Q].originalY=(ie[Q].y0+ie[Q].y1)/2,X.indexOf(ie[Q].originalX)===-1&&X.push(ie[Q].originalX);for(X.sort(function(oe,j){return oe-j}),Q=0;Q<ie.length;Q++)ie[Q].originalLayerIndex=X.indexOf(ie[Q].originalX),ie[Q].originalLayer=ie[Q].originalLayerIndex/(X.length-1)}function ne(ie){ie.lastDraggedX=ie.x0+ie.dx/2,ie.lastDraggedY=ie.y0+ie.dy/2}function le(ie){return function(X){return X.node.originalX===ie.node.originalX}}function $(ie){for(var X=0;X<ie.length;X++)ie[X].y=(ie[X].y0+ie[X].y1)/2,ie[X].x=(ie[X].x0+ie[X].x1)/2}function Z(ie){for(var X=0;X<ie.length;X++)ie[X].y0=ie[X].y-ie[X].dy/2,ie[X].y1=ie[X].y0+ie[X].dy,ie[X].x0=ie[X].x-ie[X].dx/2,ie[X].x1=ie[X].x0+ie[X].dx}G.exports=function(ie,X,Q,oe,j){var Y=ie._context.staticPlot,se=!1;a.ensureSingle(ie._fullLayout._infolayer,"g","first-render",function(){se=!0});var te=ie._fullLayout._dragCover,fe=Q.filter(function(Re){return h(Re).trace.visible}).map(C.bind(null,oe)),ge=X.selectAll("."+v.cn.sankey).data(fe,l);ge.exit().remove(),ge.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Y?"none":"auto").attr("transform",k),ge.each(function(Re,Se){ie._fullData[Se]._sankey=Re;var ke="bgsankey-"+Re.trace.uid+"-"+Se;a.ensureSingle(ie._fullLayout._draggers,"rect",ke),ie._fullData[Se]._bgRect=s.select("."+ke),ie._fullData[Se]._bgRect.style("pointer-events",Y?"none":"all").attr("width",Re.width).attr("height",Re.height).attr("x",Re.translateX).attr("y",Re.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ge.transition().ease(v.ease).duration(v.duration).attr("transform",k);var be=ge.selectAll("."+v.cn.sankeyLinks).data(g,l);be.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xe=be.selectAll("."+v.cn.sankeyLink).data(function(Re){var Se=Re.graph.links;return Se.filter(function(ke){return ke.value}).map(y.bind(null,Re))},l);xe.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,ge,j.linkEvents),xe.style("stroke",function(Re){return N(Re)?r.tinyRGB(p(Re.linkLineColor)):Re.tinyColorHue}).style("stroke-opacity",function(Re){return N(Re)?r.opacity(Re.linkLineColor):Re.tinyColorAlpha}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}).style("stroke-width",function(Re){return N(Re)?Re.linkLineWidth:1}).attr("d",A()),xe.style("opacity",function(){return ie._context.staticPlot||se||te?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var _e=ge.selectAll("."+v.cn.sankeyNodeSet).data(g,l);_e.enter().append("g").classed(v.cn.sankeyNodeSet,!0),_e.style("cursor",function(Re){switch(Re.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var De=_e.selectAll("."+v.cn.sankeyNode).data(function(Re){var Se=Re.graph.nodes;return re(Se),Se.map(o.bind(null,Re))},l);De.enter().append("g").classed(v.cn.sankeyNode,!0).call(M).style("opacity",function(Re){return(ie._context.staticPlot||se)&&!Re.partOfGroup?1:0}),De.call(O,ge,j.nodeEvents).call(F,xe,j,ie),De.transition().ease(v.ease).duration(v.duration).call(M).style("opacity",function(Re){return Re.partOfGroup?0:1}),De.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Fe=De.selectAll("."+v.cn.nodeRect).data(g);Fe.enter().append("rect").classed(v.cn.nodeRect,!0).call(D),Fe.style("stroke-width",function(Re){return Re.nodeLineWidth}).style("stroke",function(Re){return r.tinyRGB(p(Re.nodeLineColor))}).style("stroke-opacity",function(Re){return r.opacity(Re.nodeLineColor)}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}),Fe.transition().ease(v.ease).duration(v.duration).call(D);var Te=De.selectAll("."+v.cn.nodeLabel).data(g);Te.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Te.attr("data-notex",1).text(function(Re){return Re.node.label}).each(function(Re){var Se=s.select(this);t.font(Se,Re.textFont),T.convertToTspans(Se,ie)}).attr("text-anchor",function(Re){return Re.horizontal&&Re.left?"end":"start"}).attr("transform",function(Re){var Se=s.select(this),ke=T.lineCount(Se),Me=Re.textFont.size*((ke-1)*b-d),Ve=Re.nodeLineWidth/2+w,tt=((Re.horizontal?Re.visibleHeight:Re.visibleWidth)-Me)/2;Re.horizontal&&(Re.left?Ve=-Ve:Ve+=Re.visibleWidth);var it=Re.horizontal?"":"scale(-1,1)"+f(90);return n(Re.horizontal?Ve:tt,Re.horizontal?tt:Ve)+it}),Te.transition().ease(v.ease).duration(v.duration)}},81128:function(G){G.exports=function(e,m){for(var P=e.cd,s=[],L=P[0].trace,S=L._sankey.graph.nodes,v=0;v<S.length;v++){var p=S[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&r.reverse(),m&&m.contains(r,!1,v,e)&&s.push({pointNumber:p.pointNumber})}}return s}},20148:function(G,H,e){var m=e(3400);G.exports=function(s,L){for(var S=0;S<s.length;S++)s[S].i=S;m.mergeArray(L.text,s,"tx"),m.mergeArray(L.texttemplate,s,"txt"),m.mergeArray(L.hovertext,s,"htx"),m.mergeArray(L.customdata,s,"data"),m.mergeArray(L.textposition,s,"tp"),L.textfont&&(m.mergeArrayCastPositive(L.textfont.size,s,"ts"),m.mergeArray(L.textfont.color,s,"tc"),m.mergeArray(L.textfont.family,s,"tf"),m.mergeArray(L.textfont.weight,s,"tw"),m.mergeArray(L.textfont.style,s,"ty"),m.mergeArray(L.textfont.variant,s,"tv"),m.mergeArray(L.textfont.textcase,s,"tC"),m.mergeArray(L.textfont.lineposition,s,"tE"),m.mergeArray(L.textfont.shadow,s,"tS"));var v=L.marker;if(v){m.mergeArrayCastPositive(v.size,s,"ms"),m.mergeArrayCastPositive(v.opacity,s,"mo"),m.mergeArray(v.symbol,s,"mx"),m.mergeArray(v.angle,s,"ma"),m.mergeArray(v.standoff,s,"mf"),m.mergeArray(v.color,s,"mc");var p=v.line;v.line&&(m.mergeArray(p.color,s,"mlc"),m.mergeArrayCastPositive(p.width,s,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(m.mergeArray(r.type,s,"mgt"),m.mergeArray(r.color,s,"mgc"))}}},52904:function(G,H,e){var m=e(29736).axisHoverFormat,P=e(21776).Gw,s=e(21776).Ks,L=e(49084),S=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),a=e(92880).extendFlat,n=e(98304);function f(g){return{valType:"any",dflt:0,editType:"calc"}}function u(g){return{valType:"any",editType:"calc"}}function l(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:m("x"),yhoverformat:m("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:a({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:a({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(G,H,e){var m=e(38248),P=e(3400),s=e(54460),L=e(1220),S=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function a(h,T){var c=h._fullLayout,i=T._xA=s.getFromId(h,T.xaxis||"x","x"),d=T._yA=s.getFromId(h,T.yaxis||"y","y"),b=i.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),C=L(T,i,"x",b),y=L(T,d,"y",w),E=C.vals,A=y.vals,o=T._length,M=new Array(o),x=T.ids,I=g(T,c,i,d),D=!1,N,k,O,F,z,B;u(c,T);var W="x",J="y",re;if(I)P.pushUnique(I.traceIndices,T._expandedIndex),N=I.orientation==="v",N?(J="s",re="x"):(W="s",re="y"),z=I.stackgaps==="interpolate";else{var ne=f(T,o);n(h,T,i,d,E,A,ne)}var le=!!T.xperiodalignment,$=!!T.yperiodalignment;for(k=0;k<o;k++){var Z=M[k]={},ie=m(E[k]),X=m(A[k]);ie&&X?(Z[W]=E[k],Z[J]=A[k],le&&(Z.orig_x=b[k],Z.xEnd=C.ends[k],Z.xStart=C.starts[k]),$&&(Z.orig_y=w[k],Z.yEnd=y.ends[k],Z.yStart=y.starts[k])):I&&(N?ie:X)?(Z[re]=N?E[k]:A[k],Z.gap=!0,z?(Z.s=S,D=!0):Z.s=0):Z[W]=Z[J]=S,x&&(Z.id=String(x[k]))}if(r(M,T),p(h,T),t(M,T),I){for(k=0;k<M.length;)M[k][re]===S?M.splice(k,1):k++;if(P.sort(M,function(Y,se){return Y[re]-se[re]||Y.i-se.i}),D){for(k=0;k<M.length-1&&M[k].gap;)k++;for(B=M[k].s,B||(B=M[k].s=0),O=0;O<k;O++)M[O].s=B;for(F=M.length-1;F>k&&M[F].gap;)F--;for(B=M[F].s,O=M.length-1;O>F;O--)M[O].s=B;for(;k<F;)if(k++,M[k].gap){for(O=k+1;M[O].gap;)O++;for(var Q=M[k-1][re],oe=M[k-1].s,j=(M[O].s-oe)/(M[O][re]-Q);k<O;)M[k].s=oe+(M[k][re]-Q)*j,k++}}}return M}function n(h,T,c,i,d,b,w){var C=T._length,y=h._fullLayout,E=c._id,A=i._id,o=y._firstScatter[l(T)]===T.uid,M=(g(T,y,c,i)||{}).orientation,x=T.fill;c._minDtick=0,i._minDtick=0;var I={padded:!0},D={padded:!0};w&&(I.ppad=D.ppad=w);var N=C<2||d[0]!==d[C-1]||b[0]!==b[C-1];N&&(x==="tozerox"||x==="tonextx"&&(o||M==="h"))?I.tozero=!0:!(T.error_y||{}).visible&&(x==="tonexty"||x==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(I.padded=!1,I.ppad=0),N&&(x==="tozeroy"||x==="tonexty"&&(o||M==="v"))?D.tozero=!0:(x==="tonextx"||x==="tozerox")&&(D.padded=!1),E&&(T._extremes[E]=s.findExtremes(c,d,I)),A&&(T._extremes[A]=s.findExtremes(i,b,D))}function f(h,T){if(v.hasMarkers(h)){var c=h.marker,i=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(E){return Math.max(Math.sqrt((E||0)/i),3)}:d=function(E){return Math.max((E||0)/i,3)},P.isArrayOrTypedArray(c.size)){var b={type:"linear"};s.setConvert(b);for(var w=b.makeCalcdata(h.marker,"size"),C=new Array(T),y=0;y<T;y++)C[y]=d(w[y]);return C}else return d(c.size)}}function u(h,T){var c=l(T),i=h._firstScatter;i[c]||(i[c]=T.uid)}function l(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function g(h,T,c,i){var d=h.stackgroup;if(d){var b=T._scatterStackOpts[c._id+i._id][d],w=b.orientation==="v"?i:c;if(w.type==="linear"||w.type==="log")return b}}G.exports={calc:a,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:g}},4500:function(G,H,e){var m=e(3400);G.exports=function(s,L){m.isArrayOrTypedArray(L.selectedpoints)&&m.tagSelected(s,L)}},90136:function(G,H,e){var m=e(94288).hasColorscale,P=e(47128),s=e(43028);G.exports=function(S,v){s.hasLines(v)&&m(v,"line")&&P(S,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(v)&&(m(v,"marker")&&P(S,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),m(v,"marker.line")&&P(S,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(G,H,e){var m=e(16356),P=e(96376).setGroupPositions;function s(v,p){for(var r=p.xaxis,t=p.yaxis,a=v._fullLayout,n=v._fullData,f=v.calcdata,u=[],l=[],g=0;g<n.length;g++){var h=n[g];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(f[g]):h.orientation==="v"&&l.push(f[g]))}var T={mode:a.scattermode,gap:a.scattergap};P(v,r,t,l,T),P(v,t,r,u,T)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&s(p,r);var t=r.xaxis,a=r.yaxis,n=t._id+a._id,f=p._fullLayout._scatterStackOpts[n];if(f){var u=p.calcdata,l,g,h,T,c,i,d,b,w,C,y,E,A,o,M;for(var x in f){C=f[x];var I=C.traceIndices;if(I.length){for(y=C.stackgaps==="interpolate",E=C.groupnorm,C.orientation==="v"?(A="x",o="y"):(A="y",o="x"),M=new Array(I.length),l=0;l<M.length;l++)M[l]=!1;i=u[I[0]];var D=new Array(i.length);for(l=0;l<i.length;l++)D[l]=i[l][A];for(l=1;l<I.length;l++){for(c=u[I[l]],g=h=0;g<c.length;g++){for(d=c[g][A];d>D[h]&&h<D.length;h++)L(c,g,D[h],l,M,y,A),g++;if(d!==D[h]){for(T=0;T<l;T++)L(u[I[T]],h,d,T,M,y,A);D.splice(h,0,d)}h++}for(;h<D.length;h++)L(c,g,D[h],l,M,y,A),g++}var N=D.length;for(g=0;g<i.length;g++){for(b=i[g][o]=i[g].s,l=1;l<I.length;l++)c=u[I[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=N,b+=c[g].s,c[g][o]=b;if(E)for(w=(E==="fraction"?b:b/100)||1,l=0;l<I.length;l++){var k=u[I[l]][g];k[o]/=w,k.sNorm=k.s/w}}for(l=0;l<I.length;l++){c=u[I[l]];var O=c[0].trace,F=m.calcMarkerSize(O,O._rawLength),z=Array.isArray(F);if(F&&M[l]||z){var B=F;for(F=new Array(N),g=0;g<N;g++)F[g]=c[g].gap?0:z?B[c[g].i]:B}var W=new Array(N),J=new Array(N);for(g=0;g<N;g++)W[g]=c[g].x,J[g]=c[g].y;m.calcAxisExpansion(p,O,t,a,W,J,F),c[0].t.orientation=C.orientation}}}}};function L(v,p,r,t,a,n,f){a[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(p,0,u),p&&r===v[p-1][f]){var l=v[p-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=S(v,p,r,f));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function S(v,p,r,t){var a=v[p-1],n=v[p+1];return n?a?a.s+(n.s-a.s)*(r-a[t])/(n[t]-a[t]):n.s:a.s}},35036:function(G,H,e){var m=e(3400),P=e(20011),s=e(52904);G.exports=function(S,v){var p,r,t;function a(g){return m.coerce(r._input,r,s,g)}if(v.scattermode==="group")for(t=0;t<S.length;t++)r=S[t],r.type==="scatter"&&(p=r._input,P(p,r,v,a));for(t=0;t<S.length;t++){var n=S[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=S[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(G,H,e){var m=e(3400),P=e(24040),s=e(52904),L=e(88200),S=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),a=e(66828),n=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;G.exports=function(h,T,c,i){function d(M,x){return m.coerce(h,T,s,M,x)}var b=v(h,T,i,d);if(b||(T.visible=!1),!!T.visible){p(h,T,i,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=r(h,T,i,d);i.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var C=!w&&b<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),S.hasMarkers(T)&&t(h,T,c,i,d,{gradient:!0}),S.hasLines(T)&&(a(h,T,c,i,d,{backoff:!0}),n(h,T,d),d("connectgaps"),d("line.simplify")),S.hasText(T)&&(d("texttemplate"),f(h,T,i,d));var y=[];(S.hasMarkers(T)||S.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(u(h,T,c,d,{moduleHasFillgradient:!0}),S.hasLines(T)||n(h,T,d),l(d,"fillpattern",T.fillcolor,!1));var E=(T.line||{}).color,A=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var o=P.getComponentMethod("errorbars","supplyDefaults");o(h,T,E||A||c,{axis:"y"}),o(h,T,E||A||c,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(T,d)}}},98304:function(G){G.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(G,H,e){var m=e(76308),P=e(3400).isArrayOrTypedArray;function s(L){for(var S=m.interpolate(L[0][1],L[1][1],.5),v=2;v<L.length;v++){var p=m.interpolate(L[v-1][1],L[v][1],.5);S=m.interpolate(S,p,L[v-1][0]/L[v][0])}return S}G.exports=function(S,v,p,r,t){t||(t={});var a=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!P(n)?a=n:f&&!P(f)&&(a=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var g=r("fillgradient.colorscale");g&&(u=s(g))}}r("fillcolor",m.addOpacity((v.line||{}).color||a||u||p,.5))}},76688:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p={_fullLayout:S},r=m.getFromTrace(p,L,"x"),t=m.getFromTrace(p,L,"y"),a=s.orig_x;a===void 0&&(a=s.x);var n=s.orig_y;return n===void 0&&(n=s.y),v.xLabel=m.tickText(r,r.c2l(a),!0).text,v.yLabel=m.tickText(t,t.c2l(n),!0).text,v}},44928:function(G,H,e){var m=e(76308),P=e(43028);G.exports=function(L,S){var v,p;if(L.mode==="lines")return v=L.line.color,v&&m.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=S.mcc||(L.marker||{}).color,t=S.mlcc||((L.marker||{}).line||{}).color;return p=r&&m.opacity(r)?r:t&&m.opacity(t)&&(S.mlw||((L.marker||{}).line||{}).width)?t:"",p?m.opacity(p)<.3?m.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&m.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},20011:function(G,H,e){var m=e(71888).getAxisGroup;G.exports=function(s,L,S,v){var p=L.orientation,r=L[{v:"x",h:"y"}[p]+"axis"],t=m(S,r)+p,a=S._alignmentOpts||{},n=v("alignmentgroup"),f=a[t];f||(f=a[t]={});var u=f[n];u?u.traces.push(L):u=f[n]={traces:[L],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),g=u.offsetGroups,h=g[l];l&&(h||(h=g[l]={offsetIndex:Object.keys(g).length}),L._offsetIndex=h.offsetIndex)}},98723:function(G,H,e){var m=e(3400),P=e(93024),s=e(24040),L=e(44928),S=e(76308),v=m.fillText;G.exports=function(r,t,a,n){var f=r.cd,u=f[0].trace,l=r.xa,g=r.ya,h=l.c2p(t),T=g.c2p(a),c=[h,T],i=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,b=!!u.xperiodalignment,w=!!u.yperiodalignment;if(i.indexOf("points")!==-1){var C=function(re){if(b){var ne=l.c2p(re.xStart),le=l.c2p(re.xEnd);return h>=Math.min(ne,le)&&h<=Math.max(ne,le)?0:1/0}var $=Math.max(3,re.mrc||0),Z=1-1/$,ie=Math.abs(l.c2p(re.x)-h);return ie<$?Z*ie/$:ie-$+Z},y=function(re){if(w){var ne=g.c2p(re.yStart),le=g.c2p(re.yEnd);return T>=Math.min(ne,le)&&T<=Math.max(ne,le)?0:1/0}var $=Math.max(3,re.mrc||0),Z=1-1/$,ie=Math.abs(g.c2p(re.y)-T);return ie<$?Z*ie/$:ie-$+Z},E=function(re){var ne=Math.max(d,re.mrc||0),le=l.c2p(re.x)-h,$=g.c2p(re.y)-T;return Math.max(Math.sqrt(le*le+$*$)-ne,1-d/ne)},A=P.getDistanceFunction(n,C,y,E);if(P.getClosest(f,A,r),r.index!==!1){var o=f[r.index],M=l.c2p(o.x,!0),x=g.c2p(o.y,!0),I=o.mrc||1;r.index=o.i;var D=f[0].t.orientation,N=D&&(o.sNorm||o.s),k=D==="h"?N:o.orig_x!==void 0?o.orig_x:o.x,O=D==="v"?N:o.orig_y!==void 0?o.orig_y:o.y;return m.extendFlat(r,{color:L(u,o),x0:M-I,x1:M+I,xLabelVal:k,y0:x-I,y1:x+I,yLabelVal:O,spikeDistance:E(o),hovertemplate:u.hovertemplate}),v(o,u,r),s.getComponentMethod("errorbars","hoverInfo")(o,u,r),[r]}}function F(re){if(!re)return!1;var ne=re.node();try{var le=new DOMPoint(c[0],c[1]);return ne.isPointInFill(le)}catch{var $=ne.ownerSVGElement.createSVGPoint();return $.x=c[0],$.y=c[1],ne.isPointInFill($)}}function z(re){var ne,le=[],$=1/0,Z=-1/0,ie=1/0,X=-1/0,Q;for(ne=0;ne<re.length;ne++){var oe=re[ne];oe.contains(c)&&(le.push(oe),ie=Math.min(ie,oe.ymin),X=Math.max(X,oe.ymax))}if(le.length===0)return null;ie=Math.max(ie,0),X=Math.min(X,g._length),Q=(ie+X)/2;var j,Y,se,te,fe,ge,be;for(ne=0;ne<le.length;ne++)for(Y=le[ne].pts,j=1;j<Y.length;j++)ge=Y[j-1][1],be=Y[j][1],ge>Q!=be>=Q&&(te=Y[j-1][0],fe=Y[j][0],be-ge&&(se=te+(fe-te)*(Q-ge)/(be-ge),$=Math.min($,se),Z=Math.max(Z,se)));return $=Math.max($,0),Z=Math.min(Z,l._length),{x0:$,x1:Z,y0:Q,y1:Q}}if(i.indexOf("fills")!==-1&&u._fillElement){var B=F(u._fillElement)&&!F(u._fillExclusionElement);if(B){var W=z(u._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var J=S.defaultLine;return S.opacity(u.fillcolor)?J=u.fillcolor:S.opacity((u.line||{}).color)&&(J=u.line.color),m.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:J,hovertemplate:!1}),delete r.index,u.text&&!m.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(G,H,e){var m=e(43028);G.exports={hasLines:m.hasLines,hasMarkers:m.hasMarkers,hasText:m.hasText,isBubble:m.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(G,H,e){var m=e(3400),P=e(55308);G.exports=function(s,L){function S(p,r){return m.coerce(s,L,P,p,r)}var v=L.barmode==="group";L.scattermode==="group"&&S("scattergap",v?L.bargap:.2)}},66828:function(G,H,e){var m=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,s=e(27260);G.exports=function(S,v,p,r,t,a){a||(a={});var n=(S.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(S,"line"))s(S,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(m(n)?!1:n)||p;t("line.color",f)}t("line.width"),a.noDash||t("line.dash"),a.backoff&&t("line.backoff")}},52340:function(G,H,e){var m=e(43616),P=e(39032),s=P.BADNUM,L=P.LOG_CLIP,S=L+.5,v=L-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,a=e(88200);G.exports=function(f,u){var l=u.trace||{},g=u.xaxis,h=u.yaxis,T=g.type==="log",c=h.type==="log",i=g._length,d=h._length,b=u.backoff,w=l.marker,C=u.connectGaps,y=u.baseTolerance,E=u.shape,A=E==="linear",o=l.fill&&l.fill!=="none",M=[],x=a.minTolerance,I=f.length,D=new Array(I),N=0,k,O,F,z,B,W,J,re,ne,le,$,Z,ie,X,Q,oe;function j(ot){var st=f[ot];if(!st)return!1;var Wt=u.linearized?g.l2p(st.x):g.c2p(st.x),Zt=u.linearized?h.l2p(st.y):h.c2p(st.y);if(Wt===s){if(T&&(Wt=g.c2p(st.x,!0)),Wt===s)return!1;c&&Zt===s&&(Wt*=Math.abs(g._m*d*(g._m>0?S:v)/(h._m*i*(h._m>0?S:v)))),Wt*=1e3}if(Zt===s){if(c&&(Zt=h.c2p(st.y,!0)),Zt===s)return!1;Zt*=1e3}return[Wt,Zt]}function Y(ot,st,Wt,Zt){var At=Wt-ot,Rt=Zt-st,Xt=.5-ot,ir=.5-st,pt=At*At+Rt*Rt,Kt=At*Xt+Rt*ir;if(Kt>0&&Kt<pt){var Qt=Xt*Rt-ir*At;if(Qt*Qt<pt)return!0}}var se,te;function fe(ot,st){var Wt=ot[0]/i,Zt=ot[1]/d,At=Math.max(0,-Wt,Wt-1,-Zt,Zt-1);return At&&se!==void 0&&Y(Wt,Zt,se,te)&&(At=0),At&&st&&Y(Wt,Zt,st[0]/i,st[1]/d)&&(At=0),(1+a.toleranceGrowth*At)*y}function ge(ot,st){var Wt=ot[0]-st[0],Zt=ot[1]-st[1];return Math.sqrt(Wt*Wt+Zt*Zt)}var be=a.maxScreensAway,xe=-i*be,_e=i*(1+be),De=-d*be,Fe=d*(1+be),Te=[[xe,De,_e,De],[_e,De,_e,Fe],[_e,Fe,xe,Fe],[xe,Fe,xe,De]],Re,Se,ke,Me,Ve,tt;function it(ot,st){for(var Wt=[],Zt=0,At=0;At<4;At++){var Rt=Te[At],Xt=r(ot[0],ot[1],st[0],st[1],Rt[0],Rt[1],Rt[2],Rt[3]);Xt&&(!Zt||Math.abs(Xt.x-Wt[0][0])>1||Math.abs(Xt.y-Wt[0][1])>1)&&(Xt=[Xt.x,Xt.y],Zt&&ge(Xt,ot)<ge(Wt[0],ot)?Wt.unshift(Xt):Wt.push(Xt),Zt++)}return Wt}function Je(ot){if(ot[0]<xe||ot[0]>_e||ot[1]<De||ot[1]>Fe)return[t(ot[0],xe,_e),t(ot[1],De,Fe)]}function Qe(ot,st){if(ot[0]===st[0]&&(ot[0]===xe||ot[0]===_e)||ot[1]===st[1]&&(ot[1]===De||ot[1]===Fe))return!0}function ct(ot,st){var Wt=[],Zt=Je(ot),At=Je(st);return Zt&&At&&Qe(Zt,At)||(Zt&&Wt.push(Zt),At&&Wt.push(At)),Wt}function ht(ot,st,Wt){return function(Zt,At){var Rt=Je(Zt),Xt=Je(At),ir=[];if(Rt&&Xt&&Qe(Rt,Xt))return ir;Rt&&ir.push(Rt),Xt&&ir.push(Xt);var pt=2*p.constrain((Zt[ot]+At[ot])/2,st,Wt)-((Rt||Zt)[ot]+(Xt||At)[ot]);if(pt){var Kt;Rt&&Xt?Kt=pt>0==Rt[ot]>Xt[ot]?Rt:Xt:Kt=Rt||Xt,Kt[ot]+=pt}return ir}}var dt;E==="linear"||E==="spline"?dt=it:E==="hv"||E==="vh"?dt=ct:E==="hvh"?dt=ht(0,xe,_e):E==="vhv"&&(dt=ht(1,De,Fe));function Tt(ot,st){var Wt=st[0]-ot[0],Zt=(st[1]-ot[1])/Wt,At=(ot[1]*st[0]-st[1]*ot[0])/Wt;return At>0?[Zt>0?xe:_e,Fe]:[Zt>0?_e:xe,De]}function Et(ot){var st=ot[0],Wt=ot[1],Zt=st===D[N-1][0],At=Wt===D[N-1][1];if(!(Zt&&At))if(N>1){var Rt=st===D[N-2][0],Xt=Wt===D[N-2][1];Zt&&(st===xe||st===_e)&&Rt?Xt?N--:D[N-1]=ot:At&&(Wt===De||Wt===Fe)&&Xt?Rt?N--:D[N-1]=ot:D[N++]=ot}else D[N++]=ot}function rt(ot){D[N-1][0]!==ot[0]&&D[N-1][1]!==ot[1]&&Et([ke,Me]),Et(ot),Ve=null,ke=Me=0}var ze=p.isArrayOrTypedArray(w);function Ge(ot){if(ot&&b&&(ot.i=k,ot.d=f,ot.trace=l,ot.marker=ze?w[ot.i]:w,ot.backoff=b),se=ot[0]/i,te=ot[1]/d,Re=ot[0]<xe?xe:ot[0]>_e?_e:0,Se=ot[1]<De?De:ot[1]>Fe?Fe:0,Re||Se){if(!N)D[N++]=[Re||ot[0],Se||ot[1]];else if(Ve){var st=dt(Ve,ot);st.length>1&&(rt(st[0]),D[N++]=st[1])}else tt=dt(D[N-1],ot)[0],D[N++]=tt;var Wt=D[N-1];Re&&Se&&(Wt[0]!==Re||Wt[1]!==Se)?(Ve&&(ke!==Re&&Me!==Se?Et(ke&&Me?Tt(Ve,ot):[ke||Re,Me||Se]):ke&&Me&&Et([ke,Me])),Et([Re,Se])):ke-Re&&Me-Se&&Et([Re||ke,Se||Me]),Ve=ot,ke=Re,Me=Se}else Ve&&rt(dt(Ve,ot)[0]),D[N++]=ot}for(k=0;k<I;k++)if(O=j(k),!!O){for(N=0,Ve=null,Ge(O),k++;k<I;k++){if(z=j(k),!z){if(C)continue;break}if(!A||!u.simplify){Ge(z);continue}var je=j(k+1);if(le=ge(z,O),!(!(o&&(N===0||N===I-1))&&le<fe(z,je)*x)){for(re=[(z[0]-O[0])/le,(z[1]-O[1])/le],B=O,$=le,Z=X=Q=0,J=!1,F=z,k++;k<f.length;k++){if(W=je,je=j(k+1),!W){if(C)continue;break}if(ne=[W[0]-O[0],W[1]-O[1]],oe=ne[0]*re[1]-ne[1]*re[0],X=Math.min(X,oe),Q=Math.max(Q,oe),Q-X>fe(W,je))break;F=W,ie=ne[0]*re[0]+ne[1]*re[1],ie>$?($=ie,z=W,J=!1):ie<Z&&(Z=ie,B=W,J=!0)}if(J?(Ge(z),F!==B&&Ge(B)):(B!==O&&Ge(B),F!==z&&Ge(z)),Ge(F),k>=f.length||!W)break;Ge(W),O=W}}Ve&&Et([ke||Ve[0],Me||Ve[1]]),M.push(D.slice(0,N))}var We=E.slice(E.length-1);if(b&&We!=="h"&&We!=="v"){for(var Le=!1,Pe=-1,Ye=[],Ce=0;Ce<M.length;Ce++)for(var he=0;he<M[Ce].length-1;he++){var me=M[Ce][he],Ne=M[Ce][he+1],$e=m.applyBackoff(Ne,me);($e[0]!==Ne[0]||$e[1]!==Ne[1])&&(Le=!0),Ye[Pe+1]||(Pe++,Ye[Pe]=[me,[$e[0],$e[1]]])}return Le?Ye:M}return M}},11731:function(G){G.exports=function(e,m,P){var s=P("line.shape");s==="spline"&&P("line.smoothing")}},14328:function(G){var H={tonextx:1,tonexty:1,tonext:1};G.exports=function(m,P,s){var L,S,v,p,r,t={},a=!1,n=-1,f=0,u=-1;for(S=0;S<s.length;S++)L=s[S][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):L.fill in H&&u>=0?r=u:(r=u=f,f++),r<n&&(a=!0),L._groupIndex=n=r;var l=s.slice();a&&l.sort(function(h,T){var c=h[0].trace,i=T[0].trace;return c._groupIndex-i._groupIndex||c.index-i.index});var g={};for(S=0;S<l.length;S++)L=l[S][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in H&&(p=g[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return l}},7152:function(G,H,e){var m=e(38248);G.exports=function(s,L){L||(L=2);var S=s.marker,v=S.sizeref||1,p=S.sizemin||0,r=S.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var a=r(t/L);return m(a)&&a>0?Math.max(a,p):0}}},5528:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(G,H,e){var m=e(76308),P=e(94288).hasColorscale,s=e(27260),L=e(43028);G.exports=function(v,p,r,t,a,n){var f=L.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),a("marker.symbol"),a("marker.opacity",f?.7:1),a("marker.size"),n.noAngle||(a("marker.angle"),n.noAngleRef||a("marker.angleref"),n.noStandOff||a("marker.standoff")),a("marker.color",r),P(v,"marker")&&s(v,p,t,a,{prefix:"marker.",cLetter:"c"}),n.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?l=u:f?l=m.background:l=m.defaultLine,a("marker.line.color",l),P(v,"marker.line")&&s(v,p,t,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",f?1:0)),f&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),n.gradient){var g=a("marker.gradient.type");g!=="none"&&a("marker.gradient.color")}}},31147:function(G,H,e){var m=e(3400).dateTick0,P=e(39032),s=P.ONEWEEK;function L(S,v){return S%s===0?m(v,1):m(v,0)}G.exports=function(v,p,r,t,a){if(a||(a={x:!0,y:!0}),a.x){var n=t("xperiod");n&&(t("xperiod0",L(n,p.xcalendar)),t("xperiodalignment"))}if(a.y){var f=t("yperiod");f&&(t("yperiod0",L(f,p.ycalendar)),t("yperiodalignment"))}}},96504:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=s.ensureSingle,S=s.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),a=e(92065).tester;G.exports=function(g,h,T,c,i,d){var b,w,C=!i,y=!!i&&i.duration>0,E=t(g,h,T);if(b=c.selectAll("g.trace").data(E,function(o){return o[0].trace.uid}),b.enter().append("g").attr("class",function(o){return"trace scatter trace"+o[0].trace.uid}).style("stroke-miterlimit",2),b.order(),n(g,b,h),y){d&&(w=d());var A=m.transition().duration(i.duration).ease(i.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});A.each(function(){c.selectAll("g.trace").each(function(o,M){f(g,M,h,o,E,this,i)})})}else b.each(function(o,M){f(g,M,h,o,E,this,i)});C&&b.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,g,h){g.each(function(T){var c=L(m.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var i=T[0].trace,d=[];i._ownfill&&d.push("_ownFill"),i._nexttrace&&d.push("_nextFill");var b=c.selectAll("g").data(d,S);b.enter().append("g"),b.exit().each(function(w){i[w]=null}).remove(),b.order().each(function(w){i[w]=L(m.select(this),"path","js-fill")})})}function f(l,g,h,T,c,i,d){var b=l._context.staticPlot,w;u(l,g,h,T,c);var C=!!d&&d.duration>0;function y(Et){return C?Et.transition():Et}var E=h.xaxis,A=h.yaxis,o=T[0].trace,M=o.line,x=m.select(i),I=L(x,"g","errorbars"),D=L(x,"g","lines"),N=L(x,"g","points"),k=L(x,"g","text");if(P.getComponentMethod("errorbars","plot")(l,I,h,d),o.visible!==!0)return;y(x).style("opacity",o.opacity);var O,F,z=o.fill.charAt(o.fill.length-1);z!=="x"&&z!=="y"&&(z="");var B,W;z==="y"?(B=1,W=A.c2p(0,!0)):z==="x"&&(B=0,W=E.c2p(0,!0)),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=x;var J="",re=[],ne=o._prevtrace,le=null,$=null;ne&&(J=ne._prevRevpath||"",F=ne._nextFill,re=ne._ownPolygons,le=ne._fillsegments,$=ne._fillElement);var Z,ie,X="",Q="",oe,j,Y,se,te,fe,ge=[];o._polygons=[];var be=[],xe=[],_e=s.noop;if(O=o._ownFill,p.hasLines(o)||o.fill!=="none"){F&&F.datum(T),["hv","vh","hvh","vhv"].indexOf(M.shape)!==-1?(oe=v.steps(M.shape),j=v.steps(M.shape.split("").reverse().join(""))):M.shape==="spline"?oe=j=function(Et){var rt=Et[Et.length-1];return Et.length>1&&Et[0][0]===rt[0]&&Et[0][1]===rt[1]?v.smoothclosed(Et.slice(1),M.smoothing):v.smoothopen(Et,M.smoothing)}:oe=j=function(Et){return"M"+Et.join("L")},Y=function(Et){return j(Et.reverse())},xe=r(T,{xaxis:E,yaxis:A,trace:o,connectGaps:o.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:o.fill}),be=new Array(xe.length);var De=0;for(w=0;w<xe.length;w++){var Fe,Te=xe[w];!Fe||!z?(Fe=Te.slice(),be[De]=Fe,De++):Fe.push.apply(Fe,Te)}o._fillElement=null,o._fillExclusionElement=$,o._fillsegments=be.slice(0,De),be=o._fillsegments,xe.length&&(se=xe[0][0].slice(),te=xe[xe.length-1],fe=te[te.length-1].slice()),_e=function(Et){return function(rt){if(Z=oe(rt),ie=Y(rt),X?z?(X+="L"+Z.substr(1),Q=ie+("L"+Q.substr(1))):(X+="Z"+Z,Q=ie+"Z"+Q):(X=Z,Q=ie),p.hasLines(o)){var ze=m.select(this);if(ze.datum(T),Et)y(ze.style("opacity",0).attr("d",Z).call(v.lineGroupStyle)).style("opacity",1);else{var Ge=y(ze);Ge.attr("d",Z),v.singleLineStyle(T,Ge)}}}}}var Re=D.selectAll(".js-line").data(xe);y(Re.exit()).style("opacity",0).remove(),Re.each(_e(!1)),Re.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(_e(!0)),v.setClipUrl(Re,h.layerClipId,l);function Se(Et){y(Et).attr("d","M0,0Z")}var ke=function(){var Et=new Array(be.length);for(w=0;w<be.length;w++)Et[w]=a(be[w]);return Et},Me=function(Et){var rt,ze;if(!Et||Et.length===0)for(rt=new Array(be.length),ze=0;ze<be.length;ze++){var Ge=be[ze][0].slice(),je=be[ze][be[ze].length-1].slice();Ge[B]=je[B]=W;var We=[je,Ge],Le=We.concat(be[ze]);rt[ze]=a(Le)}else{for(rt=new Array(Et.length-1+be.length),ze=0;ze<Et.length-1;ze++)rt[ze]=a(Et[ze]);var Pe=Et[Et.length-1].slice();for(Pe.reverse(),ze=0;ze<be.length;ze++)rt[Et.length-1+ze]=a(be[ze].concat(Pe))}return rt};xe.length?(O?(O.datum(T),se&&fe&&(z?(se[B]=fe[B]=W,y(O).attr("d","M"+fe+"L"+se+"L"+X.substr(1)).call(v.singleFillStyle,l),ge=Me(null)):(y(O).attr("d",X+"Z").call(v.singleFillStyle,l),ge=ke())),o._polygons=ge,o._fillElement=O):F&&(o.fill.substr(0,6)==="tonext"&&X&&J?(o.fill==="tonext"?(y(F).attr("d",X+"Z"+J+"Z").call(v.singleFillStyle,l),ge=ke(),o._polygons=ge.concat(re)):(y(F).attr("d",X+"L"+J.substr(1)+"Z").call(v.singleFillStyle,l),ge=Me(le),o._polygons=ge),o._fillElement=F):Se(F)),o._prevRevpath=Q):(O?Se(O):F&&Se(F),o._prevRevpath=null),o._ownPolygons=ge;function Ve(Et){return Et.filter(function(rt){return!rt.gap&&rt.vis})}function tt(Et){return Et.filter(function(rt){return rt.vis})}function it(Et){return Et.filter(function(rt){return!rt.gap})}function Je(Et){return Et.id}function Qe(Et){if(Et.ids)return Je}function ct(){return!1}function ht(Et,rt,ze){var Ge,je,We,Le=ze[0].trace,Pe=p.hasMarkers(Le),Ye=p.hasText(Le),Ce=Qe(Le),he=ct,me=ct;if(Pe||Ye){var Ne=S,$e=Le.stackgroup,ot=$e&&l._fullLayout._scatterStackOpts[E._id+A._id][$e].stackgaps==="infer zero";Le.marker.maxdisplayed||Le._needsCull?Ne=ot?tt:Ve:$e&&!ot&&(Ne=it),Pe&&(he=Ne),Ye&&(me=Ne)}je=Et.selectAll("path.point"),Ge=je.data(he,Ce);var st=Ge.enter().append("path").classed("point",!0);C&&st.call(v.pointStyle,Le,l).call(v.translatePoints,E,A).style("opacity",0).transition().style("opacity",1),Ge.order();var Wt;Pe&&(Wt=v.makePointStyleFns(Le)),Ge.each(function(Zt){var At=m.select(this),Rt=y(At);We=v.translatePoint(Zt,Rt,E,A),We?(v.singlePointStyle(Zt,Rt,Le,Wt,l),h.layerClipId&&v.hideOutsideRangePoint(Zt,Rt,E,A,Le.xcalendar,Le.ycalendar),Le.customdata&&At.classed("plotly-customdata",Zt.data!==null&&Zt.data!==void 0)):Rt.remove()}),C?Ge.exit().transition().style("opacity",0).remove():Ge.exit().remove(),je=rt.selectAll("g"),Ge=je.data(me,Ce),Ge.enter().append("g").classed("textpoint",!0).append("text"),Ge.order(),Ge.each(function(Zt){var At=m.select(this),Rt=y(At.select("text"));We=v.translatePoint(Zt,Rt,E,A),We?h.layerClipId&&v.hideOutsideRangePoint(Zt,At,E,A,Le.xcalendar,Le.ycalendar):At.remove()}),Ge.selectAll("text").call(v.textPointStyle,Le,l).each(function(Zt){var At=E.c2p(Zt.x),Rt=A.c2p(Zt.y);m.select(this).selectAll("tspan.line").each(function(){y(m.select(this)).attr({x:At,y:Rt})})}),Ge.exit().remove()}N.datum(T),k.datum(T),ht(N,k,T);var dt=o.cliponaxis===!1,Tt=dt?null:h.layerClipId;v.setClipUrl(N,Tt,l),v.setClipUrl(k,Tt,l)}function u(l,g,h,T,c){var i=h.xaxis,d=h.yaxis,b=m.extent(s.simpleMap(i.range,i.r2c)),w=m.extent(s.simpleMap(d.range,d.r2c)),C=T[0].trace;if(p.hasMarkers(C)){var y=C.marker.maxdisplayed;if(y!==0){var E=T.filter(function(x){return x.x>=b[0]&&x.x<=b[1]&&x.y>=w[0]&&x.y<=w[1]}),A=Math.ceil(E.length/y),o=0;c.forEach(function(x,I){var D=x[0].trace;p.hasMarkers(D)&&D.marker.maxdisplayed>0&&I<g&&o++});var M=Math.round(o*A/3+Math.floor(o/3)*A/7.1);T.forEach(function(x){delete x.vis}),E.forEach(function(x,I){Math.round((I+M)%A)===0&&(x.vis=!0)})}}}},91560:function(G,H,e){var m=e(43028);G.exports=function(s,L){var S=s.cd,v=s.xaxis,p=s.yaxis,r=[],t=S[0].trace,a,n,f,u,l=!m.hasMarkers(t)&&!m.hasText(t);if(l)return[];if(L===!1)for(a=0;a<S.length;a++)S[a].selected=0;else for(a=0;a<S.length;a++)n=S[a],f=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&L.contains([f,u],!1,a,s)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(G){var H=["orientation","groupnorm","stackgaps"];G.exports=function(m,P,s,L){var S=s._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=S[p];r||(r=S[p]={});var t=r[v],a=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},a=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},f=0;f<H.length;f++){var u=H[f],l=u+"Found";if(!t[l]){var g=m[u]!==void 0,h=u==="orientation";if((g||a)&&(t[u]=L(u,n[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),g&&(t[l]=!0,!a&&(delete t.traces[0][u],h))))for(var T=0;T<t.traces.length-1;T++){var c=t.traces[T];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(G,H,e){var m=e(33428),P=e(43616),s=e(24040);function L(r){var t=m.select(r).selectAll("g.trace.scatter");t.style("opacity",function(a){return a[0].trace.opacity}),t.selectAll("g.points").each(function(a){var n=m.select(this),f=a.trace||a[0].trace;S(n,f,r)}),t.selectAll("g.text").each(function(a){var n=m.select(this),f=a.trace||a[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),s.getComponentMethod("errorbars","style")(t)}function S(r,t,a){P.pointStyle(r.selectAll("path.point"),t,a)}function v(r,t,a){P.textPointStyle(r.selectAll("text"),t,a)}function p(r,t,a){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(a.selectAll("path.point"),n),P.selectedTextStyle(a.selectAll("text"),n)):(S(a,n,r),v(a,n,r))}G.exports={style:L,stylePoints:S,styleText:v,styleOnSelect:p}},43028:function(G,H,e){var m=e(3400),P=e(38116).isTypedArraySpec;G.exports={hasLines:function(s){return s.visible&&s.mode&&s.mode.indexOf("lines")!==-1},hasMarkers:function(s){return s.visible&&(s.mode&&s.mode.indexOf("markers")!==-1||s.type==="splom")},hasText:function(s){return s.visible&&s.mode&&s.mode.indexOf("text")!==-1},isBubble:function(s){var L=s.marker;return m.isPlainObject(L)&&(m.isArrayOrTypedArray(L.size)||P(L.size))}}},124:function(G,H,e){var m=e(3400);G.exports=function(P,s,L,S,v){v=v||{},S("textposition"),m.coerceFont(S,"textfont",v.font||L.font,v),v.noSelect||(S("selected.textfont.color"),S("unselected.textfont.color"))}},43980:function(G,H,e){var m=e(3400),P=e(24040);G.exports=function(L,S,v,p){var r=p("x"),t=p("y"),a,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,S,["x","y"],v),r){var f=m.minRowLength(r);t?a=Math.min(f,m.minRowLength(t)):(a=f,p("y0"),p("dy"))}else{if(!t)return 0;a=m.minRowLength(t),p("x0"),p("dx")}return S._length=a,a}},91592:function(G,H,e){var m=e(52904),P=e(25376),s=e(49084),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(45464),r=e(99168),t=e(87792),a=e(92880).extendFlat,n=e(67824).overrideAll,f=e(95376),u=m.line,l=m.marker,g=l.line,h=a({width:u.width,dash:{valType:"enumerated",values:f(r),dflt:"solid"}},s("line"));function T(i){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=G.exports=n({x:m.x,y:m.y,z:{valType:"data_array"},text:a({},m.text,{}),texttemplate:v({},{}),hovertext:a({},m.hovertext,{}),hovertemplate:S(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),mode:a({},m.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:m.connectgaps,line:h,marker:a({symbol:{valType:"enumerated",values:f(t),dflt:"circle",arrayOk:!0},size:a({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:a({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:a({width:a({},g.width,{arrayOk:!1})},s("marker.line"))},s("marker")),textposition:a({},m.textposition,{dflt:"top center"}),textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:p.opacity,hoverinfo:a({},p.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(G,H,e){var m=e(20148),P=e(90136);G.exports=function(L,S){var v=[{x:!1,y:!1,trace:S,t:{}}];return m(v,S),P(L,S),v}},45156:function(G,H,e){var m=e(24040);function P(S,v,p,r){if(!v||!v.visible)return null;for(var t=m.getComponentMethod("errorbars","makeComputeError")(v),a=new Array(S.length),n=0;n<S.length;n++){var f=t(+S[n],n);if(r.type==="log"){var u=r.c2l(S[n]),l=S[n]-f[0],g=S[n]+f[1];if(a[n]=[(r.c2l(l,!0)-u)*p,(r.c2l(g,!0)-u)*p],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else a[n]=[-f[0]*p,f[1]*p]}return a}function s(S){for(var v=0;v<S.length;v++)if(S[v])return S[v].length;return 0}function L(S,v,p){var r=[P(S.x,S.error_x,v[0],p.xaxis),P(S.y,S.error_y,v[1],p.yaxis),P(S.z,S.error_z,v[2],p.zaxis)],t=s(r);if(t===0)return null;for(var a=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][n][l];a[n]=f}return a}G.exports=L},41064:function(G,H,e){var m=e(67792).gl_line3d,P=e(67792).gl_scatter3d,s=e(67792).gl_error3d,L=e(67792).gl_mesh3d,S=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),a=e(99168),n=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function g(x,I){this.scene=x,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=g.prototype;h.handlePick=function(x){if(x.object&&(x.object===this.linePlot||x.object===this.delaunayMesh||x.object===this.textMarkers||x.object===this.scatterPlot)){var I=x.index=x.data.index;return x.object.highlight&&x.object.highlight(null),this.scatterPlot&&(x.object=this.scatterPlot,this.scatterPlot.highlight(x.data)),x.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[I]||this.textLabels[I]===0)&&(x.textLabel=this.textLabels[I]):x.textLabel=this.textLabels),x.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}};function T(x,I,D){var N=(D+1)%3,k=(D+2)%3,O=[],F=[],z;for(z=0;z<x.length;++z){var B=x[z];isNaN(B[N])||!isFinite(B[N])||isNaN(B[k])||!isFinite(B[k])||(O.push([B[N],B[k]]),F.push(z))}var W=S(O);for(z=0;z<W.length;++z)for(var J=W[z],re=0;re<J.length;++re)J[re]=F[J[re]];return{positions:x,cells:W,meshColor:I}}function c(x){for(var I=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var O=x[k];O&&O.copy_zstyle!==!1&&x[2].visible!==!1&&(O=x[2]),!(!O||!O.visible)&&(I[k]=O.width/2,D[k]=p(O.color),N[k]=O.thickness)}return{capSize:I,color:D,lineWidth:N}}function i(x){return x==null?0:x.indexOf("left")>-1?-1:x.indexOf("right")>-1?1:0}function d(x){return x==null?0:x.indexOf("top")>-1?-1:x.indexOf("bottom")>-1?1:0}function b(x){var I=0,D=0,N=[I,D];if(Array.isArray(x))for(var k=0;k<x.length;k++)N[k]=[I,D],x[k]&&(N[k][0]=i(x[k]),N[k][1]=d(x[k]));else N[0]=i(x),N[1]=d(x);return N}function w(x,I){return I(x*4)}function C(x){return n[x]}function y(x,I,D,N,k){var O=null;if(v.isArrayOrTypedArray(x)){O=[];for(var F=0;F<I;F++)x[F]===void 0?O[F]=N:O[F]=D(x[F],k)}else O=D(x,v.identity);return O}function E(x,I){var D=[],N=x.fullSceneLayout,k=x.dataScale,O=N.xaxis,F=N.yaxis,z=N.zaxis,B=I.marker,W=I.line,J=I.x||[],re=I.y||[],ne=I.z||[],le=J.length,$=I.xcalendar,Z=I.ycalendar,ie=I.zcalendar,X,Q,oe,j,Y,se;for(Y=0;Y<le;Y++)X=O.d2l(J[Y],0,$)*k[0],Q=F.d2l(re[Y],0,Z)*k[1],oe=z.d2l(ne[Y],0,ie)*k[2],D[Y]=[X,Q,oe];if(Array.isArray(I.text))se=I.text;else if(v.isTypedArray(I.text))se=Array.from(I.text);else if(I.text!==void 0)for(se=new Array(le),Y=0;Y<le;Y++)se[Y]=I.text;function te(it,Je){var Qe=N[it];return f.tickText(Qe,Qe.d2l(Je),!0).text}var fe=I.texttemplate;if(fe){var ge=x.fullLayout,be=ge._d3locale,xe=Array.isArray(fe),_e=xe?Math.min(fe.length,le):le,De=xe?function(it){return fe[it]}:function(){return fe};for(se=new Array(_e),Y=0;Y<_e;Y++){var Fe={x:J[Y],y:re[Y],z:ne[Y]},Te={xLabel:te("xaxis",J[Y]),yLabel:te("yaxis",re[Y]),zLabel:te("zaxis",ne[Y])},Re={};u(Re,I,Y);var Se=I._meta||{};se[Y]=v.texttemplateString(De(Y),Te,be,Re,Fe,Se)}}if(j={position:D,mode:I.mode,text:se},"line"in I&&(j.lineColor=r(W,1,le),j.lineWidth=W.width,j.lineDashes=W.dash),"marker"in I){var ke=t(I);j.scatterColor=r(B,1,le),j.scatterSize=y(B.size,le,w,20,ke),j.scatterMarker=y(B.symbol,le,C,"●"),j.scatterLineWidth=B.line.width,j.scatterLineColor=r(B.line,1,le),j.scatterAngle=0}"textposition"in I&&(j.textOffset=b(I.textposition),j.textColor=r(I.textfont,1,le),j.textSize=y(I.textfont.size,le,v.identity,12),j.textFontFamily=I.textfont.family,j.textFontWeight=I.textfont.weight,j.textFontStyle=I.textfont.style,j.textFontVariant=I.textfont.variant,j.textAngle=0);var Me=["x","y","z"];for(j.project=[!1,!1,!1],j.projectScale=[1,1,1],j.projectOpacity=[1,1,1],Y=0;Y<3;++Y){var Ve=I.projection[Me[Y]];(j.project[Y]=Ve.show)&&(j.projectOpacity[Y]=Ve.opacity,j.projectScale[Y]=Ve.scale)}j.errorBounds=l(I,k,N);var tt=c([I.error_x,I.error_y,I.error_z]);return j.errorColor=tt.color,j.errorLineWidth=tt.lineWidth,j.errorCapSize=tt.capSize,j.delaunayAxis=I.surfaceaxis,j.delaunayColor=p(I.surfacecolor),j}function A(x){if(v.isArrayOrTypedArray(x)){var I=x[0];return v.isArrayOrTypedArray(I)&&(x=I),"rgb("+x.slice(0,3).map(function(D){return Math.round(D*255)})+")"}return null}function o(x){return v.isArrayOrTypedArray(x)?x.length===4&&typeof x[0]=="number"?A(x):x.map(A):null}h.update=function(x){var I=this.scene.glplot.gl,D,N,k,O,F=a.solid;this.data=x;var z=E(this.scene,x);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in a&&(F=a[z.lineDashes]),this.color=o(z.scatterColor)||o(z.lineColor),this.dataPoints=z.position,D={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:F[0],dashScale:F[1],opacity:x.opacity,connectGaps:x.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(D):(this.linePlot=m(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=x.opacity;if(x.marker&&x.marker.opacity!==void 0&&(B*=x.marker.opacity),N={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:B,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=P(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:x.opacity},this.textLabels=x.hovertext||x.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=P(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:x.opacity},this.errorBars?z.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=s(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var W=T(z.position,z.delaunayColor,z.delaunayAxis);W.opacity=x.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=I,this.delaunayMesh=L(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function M(x,I){var D=new g(x,I.uid);return D.update(I),D}G.exports=M},83484:function(G,H,e){var m=e(24040),P=e(3400),s=e(43028),L=e(74428),S=e(66828),v=e(124),p=e(91592);G.exports=function(a,n,f,u){function l(w,C){return P.coerce(a,n,p,w,C)}var g=r(a,n,l,u);if(!g){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),s.hasMarkers(n)&&L(a,n,f,u,l,{noSelect:!0,noAngle:!0}),s.hasLines(n)&&(l("connectgaps"),S(a,n,f,u,l)),s.hasText(n)&&(l("texttemplate"),v(a,n,u,l,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var h=(n.line||{}).color,T=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||T);for(var c=["x","y","z"],i=0;i<3;++i){var d="projection."+c[i];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var b=m.getComponentMethod("errorbars","supplyDefaults");b(a,n,h||T||f,{axis:"z"}),b(a,n,h||T||f,{axis:"y",inherit:"z"}),b(a,n,h||T||f,{axis:"x",inherit:"z"})};function r(t,a,n,f){var u=0,l=n("x"),g=n("y"),h=n("z"),T=m.getComponentMethod("calendars","handleTraceDefaults");return T(t,a,["x","y","z"],f),l&&g&&h&&(u=Math.min(l.length,g.length,h.length),a._length=a._xlength=a._ylength=a._zlength=u),u}},3296:function(G,H,e){G.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(G,H,e){var m=e(98304),P=e(52904),s=e(45464),L=e(21776).Ks,S=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,a=r.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:m(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:a.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},s.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:L(),zorder:P.zorder}},48228:function(G,H,e){var m=e(38248),P=e(90136),s=e(20148),L=e(4500),S=e(16356).calcMarkerSize,v=e(50948);G.exports=function(r,t){var a=t._carpetTrace=v(r,t);if(!(!a||!a.visible||a.visible==="legendonly")){var n;t.xaxis=a.xaxis,t.yaxis=a.yaxis;var f=t._length,u=new Array(f),l,g,h=!1;for(n=0;n<f;n++)if(l=t.a[n],g=t.b[n],m(l)&&m(g)){var T=a.ab2xy(+l,+g,!0),c=a.isVisible(+l,+g);c||(h=!0),u[n]={x:T[0],y:T[1],a:l,b:g,vis:c}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=a,u[0].trace=t,S(t,f),P(r,t),s(u,t),L(u,t),u}}},6176:function(G,H,e){var m=e(3400),P=e(88200),s=e(43028),L=e(74428),S=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);G.exports=function(n,f,u,l){function g(w,C){return m.coerce(n,f,t,w,C)}g("carpet"),f.xaxis="x",f.yaxis="y";var h=g("a"),T=g("b"),c=Math.min(h.length,T.length);if(!c){f.visible=!1;return}f._length=c,g("text"),g("texttemplate"),g("hovertext");var i=c<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",i),s.hasMarkers(f)&&L(n,f,u,l,g,{gradient:!0}),s.hasLines(f)&&(S(n,f,u,l,g,{backoff:!0}),v(n,f,g),g("connectgaps")),s.hasText(f)&&p(n,f,l,g);var d=[];(s.hasMarkers(f)||s.hasText(f))&&(g("marker.maxdisplayed"),d.push("points")),g("fill"),f.fill!=="none"&&(r(n,f,u,g),s.hasLines(f)||v(n,f,g)),(f.fill==="tonext"||f.fill==="toself")&&d.push("fills");var b=g("hoveron",d.join("+")||"points");b!=="fills"&&g("hovertemplate"),g("zorder"),m.coerceSelectionMarkerOpacity(f,g)}},89307:function(G){G.exports=function(e,m,P,s,L){var S=s[L];return e.a=S.a,e.b=S.b,e.y=S.y,e}},52364:function(G){G.exports=function(e,m){var P={},s=m._carpet,L=s.ab2ij([e.a,e.b]),S=Math.floor(L[0]),v=L[0]-S,p=Math.floor(L[1]),r=L[1]-p,t=s.evalxy([],S,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(G,H,e){var m=e(98723),P=e(3400).fillText;G.exports=function(L,S,v,p){var r=m(L,S,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var a=1-t.y0/L.ya._length,n=L.xa._length,f=n*a/2,u=n-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,h=g._carpet,T=g._module.formatLabels(l,g);t.yLabel=T.yLabel,delete t.text;var c=[];function i(w,C){var y;w.labelprefix&&w.labelprefix.length>0?y=w.labelprefix.replace(/ = $/,""):y=w._hovertitle,c.push(y+": "+C.toFixed(3)+w.labelsuffix)}if(!g.hovertemplate){var d=l.hi||g.hoverinfo,b=d.split("+");b.indexOf("all")!==-1&&(b=["a","b","text"]),b.indexOf("a")!==-1&&i(h.aaxis,l.a),b.indexOf("b")!==-1&&i(h.baxis,l.b),c.push("y: "+t.yLabel),b.indexOf("text")!==-1&&P(l,g,c),t.extraText=c.join("<br>")}return r}},4184:function(G,H,e){G.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(G,H,e){var m=e(96504),P=e(54460),s=e(43616);G.exports=function(S,v,p,r){var t,a,n,f=p[0][0].carpet,u=P.getFromId(S,f.xaxis||"x"),l=P.getFromId(S,f.yaxis||"y"),g={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)a=p[t][0].trace,a._xA=u,a._yA=l;for(m(S,g,p,r),t=0;t<p.length;t++)a=p[t][0].trace,n=r.selectAll("g.trace"+a.uid+" .js-line"),s.setClipUrl(n,p[t][0].carpet._clipPathId,S)}},6096:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(52904),S=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,a=L.marker,n=L.line,f=a.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:L.connectgaps,marker:r({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:r({},a.angleref,{values:["previous","up","north"]}),standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,colorbar:a.colorbar,line:r({width:f.width},v("marker.line")),gradient:a.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:s(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:m()},"calc","nested")},25212:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(90136),L=e(20148),S=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}G.exports=function(a,n){var f=v(n.locations),u=f?n.locations.length:n._length,l=new Array(u),g;n.geojson?g=function(b){return r(b)||m(b)}:g=r;for(var h=0;h<u;h++){var T=l[h]={};if(f){var c=n.locations[h];T.loc=g(c)?c:null}else{var i=n.lon[h],d=n.lat[h];m(i)&&m(d)?T.lonlat=[+i,+d]:T.lonlat=[P,P]}}return L(l,n),s(a,n),S(l,n),u&&(l[0].t={labels:{lat:p(a,"lat:")+" ",lon:p(a,"lon:")+" "}}),l}},86188:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(124),v=e(70840),p=e(6096);G.exports=function(t,a,n,f){function u(b,w){return m.coerce(t,a,p,b,w)}var l=u("locations"),g;if(l&&l.length){var h=u("geojson"),T;(typeof h=="string"&&h!==""||m.isPlainObject(h))&&(T="geojson-id");var c=u("locationmode",T);c==="geojson-id"&&u("featureidkey"),g=l.length}else{var i=u("lon")||[],d=u("lat")||[];g=Math.min(i.length,d.length)}if(!g){a.visible=!1;return}a._length=g,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),P.hasMarkers(a)&&s(t,a,n,f,u,{gradient:!0}),P.hasLines(a)&&(L(t,a,n,f,u),u("connectgaps")),P.hasText(a)&&(u("texttemplate"),S(t,a,f,u)),u("fill"),a.fill!=="none"&&v(t,a,n,u),m.coerceSelectionMarkerOpacity(a,u)}},58544:function(G){G.exports=function(e,m,P,s,L){e.lon=m.lon,e.lat=m.lat,e.location=m.loc?m.loc:null;var S=s[L];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e}},56696:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.geo]._subplot,r=p.mockAxis,t=s.lonlat;return v.lonLabel=m.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=m.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(G,H,e){var m=e(93024),P=e(39032).BADNUM,s=e(44928),L=e(3400).fillText,S=e(6096);G.exports=function(r,t,a){var n=r.cd,f=n[0].trace,u=r.xa,l=r.ya,g=r.subplot,h=g.projection.isLonLatOverEdges,T=g.project;function c(E){var A=E.lonlat;if(A[0]===P||h(A))return 1/0;var o=T(A),M=T([t,a]),x=Math.abs(o[0]-M[0]),I=Math.abs(o[1]-M[1]),D=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(x*x+I*I)-D,1-3/D)}if(m.getClosest(n,c,r),r.index!==!1){var i=n[r.index],d=i.lonlat,b=[u.c2p(d),l.c2p(d)],w=i.mrc||1;r.x0=b[0]-w,r.x1=b[0]+w,r.y0=b[1]-w,r.y1=b[1]+w,r.loc=i.loc,r.lon=d[0],r.lat=d[1];var C={};C[f.geo]={_subplot:g};var y=f._module.formatLabels(i,f,C);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=s(f,i),r.extraText=v(f,i,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(p,r,t,a){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,f=n==="all"?S.hoverinfo.flags:n.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(p.locations),l=f.indexOf("lon")!==-1,g=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,T=[];function c(i){return i+"°"}return u?T.push(r.loc):l&&g?T.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?T.push(a.lon+c(t.lonLabel)):g&&T.push(a.lat+c(t.latLabel)),h&&L(r,p,T),T.join("<br>")}},36952:function(G,H,e){G.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(G,H,e){var m=e(33428),P=e(3400),s=e(59972).getTopojsonFeatures,L=e(44808),S=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),a=e(25064);function n(u,l,g){var h=l.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(h,g,"trace scattergeo");function c(i,d){i.lonlat[0]===p&&m.select(d).remove()}T.selectAll("*").remove(),T.each(function(i){var d=m.select(this),b=i[0].trace;if(t.hasLines(b)||b.fill!=="none"){var w=L.calcTraceToLineCoords(i),C=b.fill!=="none"?L.makePolygon(w):L.makeLine(w);d.selectAll("path.js-line").data([{geojson:C,trace:b}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(b)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(b)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(y){c(y,this)}),a(u,i)})}function f(u,l){var g=u[0].trace,h=l[g.geo],T=h._subplot,c=g._length,i,d;if(P.isArrayOrTypedArray(g.locations)){var b=g.locationmode,w=b==="geojson-id"?S.extractTraceFeature(u):s(g,T.topojson);for(i=0;i<c;i++){d=u[i];var C=b==="geojson-id"?d.fOut:S.locationToFeature(b,d.loc,w);d.lonlat=C?C.properties.ct:[p,p]}}var y={padded:!0},E,A;if(h.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var o=S.computeBbox(S.getTraceGeojson(g));E=[o[0],o[2]],A=[o[1],o[3]]}else{for(E=new Array(c),A=new Array(c),i=0;i<c;i++)d=u[i],E[i]=d.lonlat[0],A[i]=d.lonlat[1];y.ppad=r(g,c)}g._extremes.lon=v(h.lonaxis._ax,E,y),g._extremes.lat=v(h.lataxis._ax,A,y)}G.exports={calcGeoJSON:f,plot:n}},8796:function(G,H,e){var m=e(43028),P=e(39032).BADNUM;G.exports=function(L,S){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],a=v[0].trace,n,f,u,l,g,h=!m.hasMarkers(a)&&!m.hasText(a);if(h)return[];if(S===!1)for(g=0;g<v.length;g++)v[g].selected=0;else for(g=0;g<v.length;g++)n=v[g],f=n.lonlat,f[0]!==P&&(u=p.c2p(f),l=r.c2p(f),S.contains([u,l],null,g,L)?(t.push({pointNumber:g,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308),L=e(49224),S=L.stylePoints,v=L.styleText;G.exports=function(t,a){a&&p(t,a)};function p(r,t){var a=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),S(n,a,r),v(n,a,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var u=m.select(this),l=f.trace,g=l.line||{};u.call(s.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),l.fill!=="none"&&u.call(s.fill,l.fillcolor)})}},2876:function(G,H,e){var m=e(45464),P=e(25376),s=e(98304),L=e(52904),S=e(29736).axisHoverFormat,v=e(49084),p=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,a=e(67072).DASHES,n=L.line,f=L.marker,u=f.line,l=G.exports=t({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:p(a),dflt:"solid"}},marker:r({},v("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:L.connectgaps,fill:r({},L.fill,{dflt:"none"}),fillcolor:s(),selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:m.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=L.hovertemplate,l.texttemplate=L.texttemplate},64628:function(G,H,e){var m=e(41272);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:m.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(G,H,e){var m=e(3108),P=e(3400),s=e(79811),L=e(19280).findExtremes,S=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,a=e(90136),n=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;G.exports=function(c,i){var d=c._fullLayout,b=i._xA=s.getFromId(c,i.xaxis,"x"),w=i._yA=s.getFromId(c,i.yaxis,"y"),C=d._plots[i.xaxis+i.yaxis],y=i._length,E=y>=l,A=y*2,o={},M,x=b.makeCalcdata(i,"x"),I=w.makeCalcdata(i,"y"),D=S(i,b,"x",x),N=S(i,w,"y",I),k=D.vals,O=N.vals;i._x=k,i._y=O,i.xperiodalignment&&(i._origX=x,i._xStarts=D.starts,i._xEnds=D.ends),i.yperiodalignment&&(i._origY=I,i._yStarts=N.starts,i._yEnds=N.ends);var F=new Array(A),z=new Array(y);for(M=0;M<y;M++)F[M*2]=k[M]===u?NaN:k[M],F[M*2+1]=O[M]===u?NaN:O[M],z[M]=M;if(b.type==="log")for(M=0;M<A;M+=2)F[M]=b.c2l(F[M]);if(w.type==="log")for(M=1;M<A;M+=2)F[M]=w.c2l(F[M]);E&&b.type!=="log"&&w.type!=="log"?o.tree=m(F):o.ids=z,a(c,i);var B=h(c,C,i,F,k,O),W=f(c,C);t(d,i);var J;return E?B.marker&&(J=B.marker.sizeAvg||Math.max(B.marker.size,3)):J=p(i,y),r(c,i,b,w,k,O,J),B.errorX&&g(i,b,B.errorX),B.errorY&&g(i,w,B.errorY),B.fill&&!W.fill2d&&(W.fill2d=!0),B.marker&&!W.scatter2d&&(W.scatter2d=!0),B.line&&!W.line2d&&(W.line2d=!0),(B.errorX||B.errorY)&&!W.error2d&&(W.error2d=!0),B.text&&!W.glText&&(W.glText=!0),B.marker&&(B.marker.snap=y),W.lineOptions.push(B.line),W.errorXOptions.push(B.errorX),W.errorYOptions.push(B.errorY),W.fillOptions.push(B.fill),W.markerOptions.push(B.marker),W.markerSelectedOptions.push(B.markerSel),W.markerUnselectedOptions.push(B.markerUnsel),W.textOptions.push(B.text),W.textSelectedOptions.push(B.textSel),W.textUnselectedOptions.push(B.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),o._scene=W,o.index=W.count,o.x=k,o.y=O,o.positions=F,W.count++,[{x:!1,y:!1,t:o,trace:i}]};function g(T,c,i){var d=T._extremes[c._id],b=L(c,i._bnds,{padded:!0});d.min=d.min.concat(b.min),d.max=d.max.concat(b.max)}function h(T,c,i,d,b,w){var C=n.style(T,i);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(T,i,d)),C.errorX||C.errorY){var y=n.errorBarPositions(T,i,d,b,w);C.errorX&&P.extendFlat(C.errorX,y.x),C.errorY&&P.extendFlat(C.errorY,y.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(T,i,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(T,i,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(T,i,C.text,C.markerUnsel))),C}},67072:function(G){var H=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(G,H,e){var m=e(38248),P=e(20472),s=e(72160),L=e(24040),S=e(3400),v=S.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,a=e(43028),n=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function T(k,O){var F,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=k._context.plotGlPixelRatio;if(O.visible!==!0)return z;if(a.hasText(O)&&(z.text=c(k,O),z.textSel=w(k,O,O.selected),z.textUnsel=w(k,O,O.unselected)),a.hasMarkers(O)&&(z.marker=d(k,O),z.markerSel=b(k,O,O.selected),z.markerUnsel=b(k,O,O.unselected),!O.unselected&&v(O.marker.opacity))){var W=O.marker.opacity;for(z.markerUnsel.opacity=new Array(W.length),F=0;F<W.length;F++)z.markerUnsel.opacity[F]=l*W[F]}if(a.hasLines(O)){z.line={overlay:!0,thickness:O.line.width*B,color:O.line.color,opacity:O.opacity};var J=(u.DASHES[O.line.dash]||[1]).slice();for(F=0;F<J.length;++F)J[F]*=O.line.width*B;z.line.dashes=J}return O.error_x&&O.error_x.visible&&(z.errorX=C(O,O.error_x,B)),O.error_y&&O.error_y.visible&&(z.errorY=C(O,O.error_y,B)),O.fill&&O.fill!=="none"&&(z.fill={closed:!0,fill:O.fillcolor,thickness:0}),z}function c(k,O){var F=k._fullLayout,z=O._length,B=O.textfont,W=O.textposition,J=v(W)?W:[W],re=B.color,ne=B.size,le=B.family,$=B.weight,Z=B.style,ie=B.variant,X={},Q,oe=k._context.plotGlPixelRatio,j=O.texttemplate;if(j){X.text=[];var Y=F._d3locale,se=Array.isArray(j),te=se?Math.min(j.length,z):z,fe=se?function(Te){return j[Te]}:function(){return j};for(Q=0;Q<te;Q++){var ge={i:Q},be=O._module.formatLabels(ge,O,F),xe={};h(xe,O,Q);var _e=O._meta||{};X.text.push(S.texttemplateString(fe(Q),be,Y,xe,ge,_e))}}else v(O.text)&&O.text.length<z?X.text=O.text.slice():X.text=O.text;if(v(X.text))for(Q=X.text.length;Q<z;Q++)X.text[Q]="";for(X.opacity=O.opacity,X.font={},X.align=[],X.baseline=[],Q=0;Q<J.length;Q++){var De=J[Q].split(/\s+/);switch(De[1]){case"left":X.align.push("right");break;case"right":X.align.push("left");break;default:X.align.push(De[1])}switch(De[0]){case"top":X.baseline.push("bottom");break;case"bottom":X.baseline.push("top");break;default:X.baseline.push(De[0])}}if(v(re))for(X.color=new Array(z),Q=0;Q<z;Q++)X.color[Q]=re[Q];else X.color=re;if(v(ne)||Array.isArray(le)||v($)||Array.isArray(Z)||Array.isArray(ie))for(X.font=new Array(z),Q=0;Q<z;Q++){var Fe=X.font[Q]={};Fe.size=(S.isTypedArray(ne)?ne[Q]:v(ne)?m(ne[Q])?ne[Q]:0:ne)*oe,Fe.family=Array.isArray(le)?le[Q]:le,Fe.weight=i(v($)?$[Q]:$),Fe.style=Array.isArray(Z)?Z[Q]:Z,Fe.variant=Array.isArray(ie)?ie[Q]:ie}else X.font={size:ne*oe,family:le,weight:i($),style:Z,variant:ie};return X}function i(k){return k<=1e3?k>500?"bold":"normal":k}function d(k,O){var F=O._length,z=O.marker,B={},W,J=v(z.symbol),re=v(z.angle),ne=v(z.color),le=v(z.line.color),$=v(z.opacity),Z=v(z.size),ie=v(z.line.width),X;if(J||(X=f.isOpenSymbol(z.symbol)),J||ne||le||$||re){B.symbols=new Array(F),B.angles=new Array(F),B.colors=new Array(F),B.borderColors=new Array(F);var Q=z.symbol,oe=z.angle,j=t(z,z.opacity,F),Y=t(z.line,z.opacity,F);if(!v(Y[0])){var se=Y;for(Y=Array(F),W=0;W<F;W++)Y[W]=se}if(!v(j[0])){var te=j;for(j=Array(F),W=0;W<F;W++)j[W]=te}if(!v(Q)){var fe=Q;for(Q=Array(F),W=0;W<F;W++)Q[W]=fe}if(!v(oe)){var ge=oe;for(oe=Array(F),W=0;W<F;W++)oe[W]=ge}for(B.symbols=Q,B.angles=oe,B.colors=j,B.borderColors=Y,W=0;W<F;W++)J&&(X=f.isOpenSymbol(z.symbol[W])),X&&(Y[W]=j[W].slice(),j[W]=j[W].slice(),j[W][3]=0);for(B.opacity=O.opacity,B.markers=new Array(F),W=0;W<F;W++)B.markers[W]=x({mx:B.symbols[W],ma:B.angles[W]},O)}else X?(B.color=s(z.color,"uint8"),B.color[3]=0,B.borderColor=s(z.color,"uint8")):(B.color=s(z.color,"uint8"),B.borderColor=s(z.line.color,"uint8")),B.opacity=O.opacity*z.opacity,B.marker=x({mx:z.symbol,ma:z.angle},O);var be=1,xe=n(O,be),_e;if(Z||ie){var De=B.sizes=new Array(F),Fe=B.borderSizes=new Array(F),Te=0,Re;if(Z){for(W=0;W<F;W++)De[W]=xe(z.size[W]),Te+=De[W];Re=Te/F}else for(_e=xe(z.size),W=0;W<F;W++)De[W]=_e;if(ie)for(W=0;W<F;W++)Fe[W]=z.line.width[W];else for(_e=z.line.width,W=0;W<F;W++)Fe[W]=_e;B.sizeAvg=Re}else B.size=xe(z&&z.size||10),B.borderSizes=xe(z.line.width);return B}function b(k,O,F){var z=O.marker,B={};return F&&(F.marker&&F.marker.symbol?B=d(k,S.extendFlat({},z,F.marker)):F.marker&&(F.marker.size&&(B.size=F.marker.size),F.marker.color&&(B.colors=F.marker.color),F.marker.opacity!==void 0&&(B.opacity=F.marker.opacity))),B}function w(k,O,F){var z={};if(!F)return z;if(F.textfont){var B={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:S.extendFlat({},O.textfont)};F.textfont&&S.extendFlat(B.textfont,F.textfont),z=c(k,B)}return z}function C(k,O,F){var z={capSize:O.width*2*F,lineWidth:O.thickness*F,color:O.color};return O.copy_ystyle&&(z=k.error_y),z}var y=u.SYMBOL_SDF_SIZE,E=u.SYMBOL_SIZE,A=u.SYMBOL_STROKE,o={},M=p.symbolFuncs[0](E*.05);function x(k,O){var F=k.mx;if(F==="circle")return null;var z,B,W=p.symbolNumber(F),J=p.symbolFuncs[W%100],re=!!p.symbolNoDot[W%100],ne=!!p.symbolNoFill[W%100],le=f.isDotSymbol(F);if(k.ma&&(F+="_"+k.ma),o[F])return o[F];var $=p.getMarkerAngle(k,O);return le&&!re?z=J(E*1.1,$)+M:z=J(E,$),B=P(z,{w:y,h:y,viewBox:[-E,-E,E,E],stroke:ne?A:-A}),o[F]=B,B||null}function I(k,O,F){var z=F.length,B=z/2,W,J;if(a.hasLines(O)&&B)if(O.line.shape==="hv"){for(W=[],J=0;J<B-1;J++)isNaN(F[J*2])||isNaN(F[J*2+1])?W.push(NaN,NaN,NaN,NaN):(W.push(F[J*2],F[J*2+1]),!isNaN(F[J*2+2])&&!isNaN(F[J*2+3])?W.push(F[J*2+2],F[J*2+1]):W.push(NaN,NaN));W.push(F[z-2],F[z-1])}else if(O.line.shape==="hvh"){for(W=[],J=0;J<B-1;J++)if(isNaN(F[J*2])||isNaN(F[J*2+1])||isNaN(F[J*2+2])||isNaN(F[J*2+3]))!isNaN(F[J*2])&&!isNaN(F[J*2+1])?W.push(F[J*2],F[J*2+1]):W.push(NaN,NaN),W.push(NaN,NaN);else{var re=(F[J*2]+F[J*2+2])/2;W.push(F[J*2],F[J*2+1],re,F[J*2+1],re,F[J*2+3])}W.push(F[z-2],F[z-1])}else if(O.line.shape==="vhv"){for(W=[],J=0;J<B-1;J++)if(isNaN(F[J*2])||isNaN(F[J*2+1])||isNaN(F[J*2+2])||isNaN(F[J*2+3]))!isNaN(F[J*2])&&!isNaN(F[J*2+1])?W.push(F[J*2],F[J*2+1]):W.push(NaN,NaN),W.push(NaN,NaN);else{var ne=(F[J*2+1]+F[J*2+3])/2;W.push(F[J*2],F[J*2+1],F[J*2],ne,F[J*2+2],ne)}W.push(F[z-2],F[z-1])}else if(O.line.shape==="vh"){for(W=[],J=0;J<B-1;J++)isNaN(F[J*2])||isNaN(F[J*2+1])?W.push(NaN,NaN,NaN,NaN):(W.push(F[J*2],F[J*2+1]),!isNaN(F[J*2+2])&&!isNaN(F[J*2+3])?W.push(F[J*2],F[J*2+3]):W.push(NaN,NaN));W.push(F[z-2],F[z-1])}else W=F;var le=!1;for(J=0;J<W.length;J++)if(isNaN(W[J])){le=!0;break}var $=le||W.length>u.TOO_MANY_POINTS||a.hasMarkers(O)?"rect":"round";if(le&&O.connectgaps){var Z=W[0],ie=W[1];for(J=0;J<W.length;J+=2)isNaN(W[J])||isNaN(W[J+1])?(W[J]=Z,W[J+1]=ie):(Z=W[J],ie=W[J+1])}return{join:$,positions:W}}function D(k,O,F,z,B){var W=L.getComponentMethod("errorbars","makeComputeError"),J=r.getFromId(k,O.xaxis,"x"),re=r.getFromId(k,O.yaxis,"y"),ne=F.length/2,le={};function $(Z,ie){var X=ie._id.charAt(0),Q=O["error_"+X];if(Q&&Q.visible&&(ie.type==="linear"||ie.type==="log")){for(var oe=W(Q),j={x:0,y:1}[X],Y={x:[0,1,2,3],y:[2,3,0,1]}[X],se=new Float64Array(4*ne),te=1/0,fe=-1/0,ge=0,be=0;ge<ne;ge++,be+=4){var xe=Z[ge];if(m(xe)){var _e=F[ge*2+j],De=oe(xe,ge),Fe=De[0],Te=De[1];if(m(Fe)&&m(Te)){var Re=xe-Fe,Se=xe+Te;se[be+Y[0]]=_e-ie.c2l(Re),se[be+Y[1]]=ie.c2l(Se)-_e,se[be+Y[2]]=0,se[be+Y[3]]=0,te=Math.min(te,xe-Fe),fe=Math.max(fe,xe+Te)}}}le[X]={positions:F,errors:se,_bnds:[te,fe]}}}return $(z,J),$(B,re),le}function N(k,O,F,z){var B=O._length,W={},J;if(a.hasMarkers(O)){var re=F.font,ne=F.align,le=F.baseline;for(W.offset=new Array(B),J=0;J<B;J++){var $=z.sizes?z.sizes[J]:z.size,Z=v(re)?re[J].size:re.size,ie=v(ne)?ne.length>1?ne[J]:ne[0]:ne,X=v(le)?le.length>1?le[J]:le[0]:le,Q=g[ie],oe=g[X],j=$?$/.8+1:0,Y=-oe*j-oe*.5;W.offset[J]=[Q*j/Z,Y/Z]}}return W}G.exports={style:T,markerStyle:d,markerSelection:b,linePositions:I,errorBarPositions:D,textPosition:N}},80220:function(G,H,e){var m=e(3400),P=e(24040),s=e(80088),L=e(2876),S=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),a=e(66828),n=e(70840),f=e(124);G.exports=function(l,g,h,T){function c(A,o){return m.coerce(l,g,L,A,o)}var i=l.marker?s.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),b=p(l,g,T,c);if(!b){g.visible=!1;return}r(l,g,T,c),c("xhoverformat"),c("yhoverformat");var w=b<S.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",w),v.hasMarkers(g)&&(t(l,g,h,T,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",i||d?1:0)),v.hasLines(g)&&(c("connectgaps"),a(l,g,h,T,c),c("line.shape")),v.hasText(g)&&(c("texttemplate"),f(l,g,T,c,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var C=(g.line||{}).color,y=(g.marker||{}).color;c("fill"),g.fill!=="none"&&n(l,g,h,c);var E=P.getComponentMethod("errorbars","supplyDefaults");E(l,g,C||y||h,{axis:"y"}),E(l,g,C||y||h,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(g,c)}},26768:function(G,H,e){var m=e(3400),P=e(76308),s=e(13448).DESELECTDIM;function L(S){var v=S[0],p=v.trace,r=v.t,t=r._scene,a=r.index,n=t.selectBatch[a],f=t.unselectBatch[a],u=t.textOptions[a],l=t.textSelectedOptions[a]||{},g=t.textUnselectedOptions[a]||{},h=m.extendFlat({},u),T,c;if(n.length||f.length){var i=l.color,d=g.color,b=u.color,w=m.isArrayOrTypedArray(b);for(h.color=new Array(p._length),T=0;T<n.length;T++)c=n[T],h.color[c]=i||(w?b[c]:b);for(T=0;T<f.length;T++){c=f[T];var C=w?b[c]:b;h.color[c]=d||(i?C:P.addOpacity(C,s))}}t.glText[a].update(h)}G.exports={styleTextSelection:L}},99396:function(G,H,e){var m=e(76688);G.exports=function(s,L,S){var v=s.i;return"x"in s||(s.x=L._x[v]),"y"in s||(s.y=L._y[v]),m(s,L,S)}},80088:function(G,H,e){var m=e(67072);H.isOpenSymbol=function(P){return typeof P=="string"?m.OPEN_RE.test(P):P%200>100},H.isDotSymbol=function(P){return typeof P=="string"?m.DOT_RE.test(P):P>200}},41272:function(G,H,e){var m=e(24040),P=e(3400),s=e(44928);function L(v,p,r,t){var a=v.cd,n=a[0].t,f=a[0].trace,u=v.xa,l=v.ya,g=n.x,h=n.y,T=u.c2p(p),c=l.c2p(r),i=v.distance,d;if(n.tree){var b=u.p2c(T-i),w=u.p2c(T+i),C=l.p2c(c-i),y=l.p2c(c+i);t==="x"?d=n.tree.range(Math.min(b,w),Math.min(l._rl[0],l._rl[1]),Math.max(b,w),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(b,w),Math.min(C,y),Math.max(b,w),Math.max(C,y))}else d=n.ids;var E,A,o,M,x,I,D,N,k,O=i;if(t==="x"){var F=!!f.xperiodalignment,z=!!f.yperiodalignment;for(x=0;x<d.length;x++){if(E=d[x],o=g[E],I=Math.abs(u.c2p(o)-T),F){var B=u.c2p(f._xStarts[E]),W=u.c2p(f._xEnds[E]);I=T>=Math.min(B,W)&&T<=Math.max(B,W)?0:1/0}if(I<O){if(O=I,M=h[E],D=l.c2p(M)-c,z){var J=l.c2p(f._yStarts[E]),re=l.c2p(f._yEnds[E]);D=c>=Math.min(J,re)&&c<=Math.max(J,re)?0:1/0}k=Math.sqrt(I*I+D*D),A=d[x]}}}else for(x=d.length-1;x>-1;x--)E=d[x],o=g[E],M=h[E],I=u.c2p(o)-T,D=l.c2p(M)-c,N=Math.sqrt(I*I+D*D),N<O&&(O=k=N,A=E);return v.index=A,v.distance=O,v.dxy=k,A===void 0?[v]:[S(v,g,h,f)]}function S(v,p,r,t){var a=v.xa,n=v.ya,f=v.distance,u=v.dxy,l=v.index,g={pointNumber:l,x:p[l],y:r[l]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(g.ts=P.isArrayOrTypedArray(h.size)?h.size[l]:h.size,g.tc=P.isArrayOrTypedArray(h.color)?h.color[l]:h.color,g.tf=Array.isArray(h.family)?h.family[l]:h.family,g.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,g.ty=Array.isArray(h.style)?h.style[l]:h.style,g.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var T=t.marker;T&&(g.ms=P.isArrayOrTypedArray(T.size)?T.size[l]:T.size,g.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,g.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,g.ma=P.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,g.mc=P.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var c=T&&T.line;c&&(g.mlc=Array.isArray(c.color)?c.color[l]:c.color,g.mlw=P.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var i=T&&T.gradient;i&&i.type!=="none"&&(g.mgt=Array.isArray(i.type)?i.type[l]:i.type,g.mgc=Array.isArray(i.color)?i.color[l]:i.color);var d=a.c2p(g.x,!0),b=n.c2p(g.y,!0),w=g.mrc||1,C=t.hoverlabel;C&&(g.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,g.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,g.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,g.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,g.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,g.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var y=t.hoverinfo;y&&(g.hi=Array.isArray(y)?y[l]:y);var E=t.hovertemplate;E&&(g.ht=Array.isArray(E)?E[l]:E);var A={};A[v.index]=g;var o=t._origX,M=t._origY,x=P.extendFlat({},v,{color:s(t,g),x0:d-w,x1:d+w,xLabelVal:o?o[l]:g.x,y0:b-w,y1:b+w,yLabelVal:M?M[l]:g.y,cd:A,distance:f,spikeDistance:u,hovertemplate:g.ht});return g.htx?x.text=g.htx:g.tx?x.text=g.tx:t.text&&(x.text=t.text),P.fillText(g,t,x),m.getComponentMethod("errorbars","hoverInfo")(g,t,x),x}G.exports={hoverPoints:L,calcHover:S}},38983:function(G,H,e){var m=e(64628);m.plot=e(89876),G.exports=m},89876:function(G,H,e){var m=e(38540),P=e(13472),s=e(24544),L=e(23352),S=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),a=e(26768).styleTextSelection,n={};function f(l,g,h,T){var c=l._size,i=l.width*T,d=l.height*T,b=c.l*T,w=c.b*T,C=c.r*T,y=c.t*T,E=c.w*T,A=c.h*T;return[b+g.domain[0]*E,w+h.domain[0]*A,i-C-(1-g.domain[1])*E,d-y-(1-h.domain[1])*A]}var u=G.exports=function(g,h,T){if(T.length){var c=g._fullLayout,i=h._scene,d=h.xaxis,b=h.yaxis,w,C;if(i){var y=p(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!y){i.init();return}var E=i.count,A=c._glcanvas.data()[0].regl;if(t(g,h,T),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&A.clear({}),i.error2d===!0&&(i.error2d=s(A)),i.line2d===!0&&(i.line2d=P(A)),i.scatter2d===!0&&(i.scatter2d=m(A)),i.fill2d===!0&&(i.fill2d=P(A)),i.glText===!0)for(i.glText=new Array(E),w=0;w<E;w++)i.glText[w]=new L(A);if(i.glText){if(E>i.glText.length){var o=E-i.glText.length;for(w=0;w<o;w++)i.glText.push(new L(A))}else if(E<i.glText.length){var M=i.glText.length-E,x=i.glText.splice(E,M);x.forEach(function(j){j.destroy()})}for(w=0;w<E;w++)i.glText[w].update(i.textOptions[w])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function(j){if(j&&j.positions){for(var Y=j.positions,se=0;se<Y.length&&(isNaN(Y[se])||isNaN(Y[se+1]));)se+=2;for(var te=Y.length-2;te>se&&(isNaN(Y[te])||isNaN(Y[te+1]));)te-=2;j.positions=Y.slice(se,te+2)}return j}),i.line2d.update(i.lineOptions)),i.error2d){var I=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(I)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=S.repeat(null,E),i.fill2d&&(i.fillOptions=i.fillOptions.map(function(j,Y){var se=T[Y];if(!(!j||!se||!se[0]||!se[0].trace)){var te=se[0],fe=te.trace,ge=te.t,be=i.lineOptions[Y],xe,_e,De=[];fe._ownfill&&De.push(Y),fe._nexttrace&&De.push(Y+1),De.length&&(i.fillOrder[Y]=De);var Fe=[],Te=be&&be.positions||ge.positions,Re,Se;if(fe.fill==="tozeroy"){for(Re=0;Re<Te.length&&isNaN(Te[Re+1]);)Re+=2;for(Se=Te.length-2;Se>Re&&isNaN(Te[Se+1]);)Se-=2;Te[Re+1]!==0&&(Fe=[Te[Re],0]),Fe=Fe.concat(Te.slice(Re,Se+2)),Te[Se+1]!==0&&(Fe=Fe.concat([Te[Se],0]))}else if(fe.fill==="tozerox"){for(Re=0;Re<Te.length&&isNaN(Te[Re]);)Re+=2;for(Se=Te.length-2;Se>Re&&isNaN(Te[Se]);)Se-=2;Te[Re]!==0&&(Fe=[0,Te[Re+1]]),Fe=Fe.concat(Te.slice(Re,Se+2)),Te[Se]!==0&&(Fe=Fe.concat([0,Te[Se+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Fe=[],xe=0,j.splitNull=!0,_e=0;_e<Te.length;_e+=2)(isNaN(Te[_e])||isNaN(Te[_e+1]))&&(Fe=Fe.concat(Te.slice(xe,_e)),Fe.push(Te[xe],Te[xe+1]),Fe.push(null,null),xe=_e+2);Fe=Fe.concat(Te.slice(xe)),xe&&Fe.push(Te[xe],Te[xe+1])}else{var ke=fe._nexttrace;if(ke){var Me=i.lineOptions[Y+1];if(Me){var Ve=Me.positions;if(fe.fill==="tonexty"){for(Fe=Te.slice(),Y=Math.floor(Ve.length/2);Y--;){var tt=Ve[Y*2],it=Ve[Y*2+1];isNaN(tt)||isNaN(it)||Fe.push(tt,it)}j.fill=ke.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var Je=i.lineOptions[Y-1].positions,Qe=Fe.length/2;xe=Qe;var ct=[xe];for(_e=0;_e<Je.length;_e+=2)(isNaN(Je[_e])||isNaN(Je[_e+1]))&&(ct.push(_e/2+Qe+1),xe=_e+2);Fe=Fe.concat(Je),j.hole=ct}return j.fillmode=fe.fill,j.opacity=fe.opacity,j.positions=Fe,j}}),i.fill2d.update(i.fillOptions))}var D=c.dragmode,N=v(D),k=c.clickmode.indexOf("select")>-1;for(w=0;w<E;w++){var O=T[w][0],F=O.trace,z=O.t,B=z.index,W=F._length,J=z.x,re=z.y;if(F.selectedpoints||N||k){if(N||(N=!0),F.selectedpoints){var ne=i.selectBatch[B]=S.selIndices2selPoints(F),le={};for(C=0;C<ne.length;C++)le[ne[C]]=1;var $=[];for(C=0;C<W;C++)le[C]||$.push(C);i.unselectBatch[B]=$}var Z=z.xpx=new Array(W),ie=z.ypx=new Array(W);for(C=0;C<W;C++)Z[C]=d.c2p(J[C]),ie[C]=b.c2p(re[C])}else z.xpx=z.ypx=null}if(N){if(i.select2d||(i.select2d=m(c._glcanvas.data()[1].regl)),i.scatter2d){var X=new Array(E);for(w=0;w<E;w++)X[w]=i.selectBatch[w].length||i.unselectBatch[w].length?i.markerUnselectedOptions[w]:{};i.scatter2d.update(X)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&T.forEach(function(j){var Y=((j||[])[0]||{}).trace||{};r.hasText(Y)&&a(j)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var Q={viewport:f(c,d,b,g._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(b._rl||b.range)[0],(d._rl||d.range)[1],(b._rl||b.range)[1]]},oe=S.repeat(Q,i.count);i.fill2d&&i.fill2d.update(oe),i.line2d&&i.line2d.update(oe),i.error2d&&i.error2d.update(oe.concat(oe)),i.scatter2d&&i.scatter2d.update(oe),i.select2d&&i.select2d.update(oe),i.glText&&i.glText.forEach(function(j){j.update(Q)})}}};u.reglPrecompiled=n},74588:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(S=L._scene={},S.init=function(){m.extendFlat(S,p,v)},S.init(),S.update=function(t){var a=m.repeat(t,S.count);if(S.fill2d&&S.fill2d.update(a),S.scatter2d&&S.scatter2d.update(a),S.line2d&&S.line2d.update(a),S.error2d&&S.error2d.update(a.concat(a)),S.select2d&&S.select2d.update(a),S.glText)for(var n=0;n<S.count;n++)S.glText[n].update(t)},S.draw=function(){for(var t=S.count,a=S.fill2d,n=S.error2d,f=S.line2d,u=S.scatter2d,l=S.glText,g=S.select2d,h=S.selectBatch,T=S.unselectBatch,c=0;c<t;c++){if(a&&S.fillOrder[c]&&a.draw(S.fillOrder[c]),f&&S.lineOptions[c]&&f.draw(c),n&&(S.errorXOptions[c]&&n.draw(c),S.errorYOptions[c]&&n.draw(c+t)),u&&S.markerOptions[c])if(T[c].length){var i=m.repeat([],S.count);i[c]=T[c],u.draw(i)}else h[c].length||u.draw(c);l[c]&&S.textOptions[c]&&l[c].render()}g&&g.draw(h),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(t){t.destroy&&t.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,L._scene=null}),S.dirty||m.extendFlat(S,v),S}},73224:function(G,H,e){var m=e(43028),P=e(26768).styleTextSelection;G.exports=function(L,S){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],a=v[0].trace,n=v[0].t,f=a._length,u=n.x,l=n.y,g=n._scene,h=n.index;if(!g)return t;var T=m.hasText(a),c=m.hasMarkers(a),i=!c&&!T;if(a.visible!==!0||i)return t;var d=[],b=[];if(S!==!1&&!S.degenerate)for(var w=0;w<f;w++)S.contains([n.xpx[w],n.ypx[w]],!1,w,L)?(d.push(w),t.push({pointNumber:w,x:p.c2d(u[w]),y:r.c2d(l[w])})):b.push(w);if(c){var C=g.scatter2d;if(!d.length&&!b.length){var y=new Array(g.count);y[h]=g.markerOptions[h],C.update.apply(C,y)}else if(!g.selectBatch[h].length&&!g.unselectBatch[h].length){var E=new Array(g.count);E[h]=g.markerUnselectedOptions[h],C.update.apply(C,E)}}return g.selectBatch[h]=d,g.unselectBatch[h]=b,T&&P(v),t}},31512:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(6096),S=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,a=e(67824).overrideAll,n=e(5232),f=L.line,u=L.marker;G.exports=a({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},S.mode,{dflt:"markers"}),text:t({},S.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},S.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:S.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:L.fill,fillcolor:s(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:m()},"calc","nested")},79732:function(G){var H=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports={isSupportedFont:function(e){return H.indexOf(e)!==-1}}},59392:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032).BADNUM,L=e(44808),S=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(79732).isSupportedFont,a=e(89032),n=e(10624).appendArrayPointValue,f=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;G.exports=function(C,y){var E=y[0].trace,A=E.visible===!0&&E._length!==0,o=E.fill!=="none",M=r.hasLines(E),x=r.hasMarkers(E),I=r.hasText(E),D=x&&E.marker.symbol==="circle",N=x&&E.marker.symbol!=="circle",k=E.cluster&&E.cluster.enabled,O=l("fill"),F=l("line"),z=l("circle"),B=l("symbol"),W={fill:O,line:F,circle:z,symbol:B};if(!A)return W;var J;if((o||M)&&(J=L.calcTraceToLineCoords(y)),o&&(O.geojson=L.makePolygon(J),O.layout.visibility="visible",P.extendFlat(O.paint,{"fill-color":E.fillcolor})),M&&(F.geojson=L.makeLine(J),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),D){var re=g(y);z.geojson=re.geojson,z.layout.visibility="visible",k&&(z.filter=["!",["has","point_count"]],W.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(E.cluster.color,E.cluster.step),"circle-radius":d(E.cluster.size,E.cluster.step),"circle-opacity":d(E.cluster.opacity,E.cluster.step)}},W.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":b(E),"text-size":12}}),P.extendFlat(z.paint,{"circle-color":re.mcc,"circle-radius":re.mrc,"circle-opacity":re.mo})}if(D&&k&&(z.filter=["!",["has","point_count"]]),(N||I)&&(B.geojson=h(y,C),P.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),N&&(P.extendFlat(B.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&P.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=E.marker.allowoverlap,P.extendFlat(B.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),I)){var ne=(E.marker||{}).size,le=a(E.textposition,ne);P.extendFlat(B.layout,{"text-size":E.textfont.size,"text-anchor":le.anchor,"text-offset":le.offset,"text-font":b(E)}),P.extendFlat(B.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return W};function l(w){return{type:w,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function g(w){var C=w[0].trace,y=C.marker,E=C.selectedpoints,A=P.isArrayOrTypedArray(y.color),o=P.isArrayOrTypedArray(y.size),M=P.isArrayOrTypedArray(y.opacity),x;function I(ne){return C.opacity*ne}function D(ne){return ne/2}var N;A&&(S.hasColorscale(C,"marker")?N=S.makeColorScaleFuncFromTrace(y):N=P.identity);var k;o&&(k=p(C));var O;M&&(O=function(ne){var le=m(ne)?+P.constrain(ne,0,1):0;return I(le)});var F=[];for(x=0;x<w.length;x++){var z=w[x],B=z.lonlat;if(!i(B)){var W={};N&&(W.mcc=z.mcc=N(z.mc)),k&&(W.mrc=z.mrc=k(z.ms)),O&&(W.mo=O(z.mo)),E&&(W.selected=z.selected||0),F.push({type:"Feature",id:x+1,geometry:{type:"Point",coordinates:B},properties:W})}}var J;if(E)for(J=v.makeSelectedPointStyleFns(C),x=0;x<F.length;x++){var re=F[x].properties;J.selectedOpacityFn&&(re.mo=I(J.selectedOpacityFn(re))),J.selectedColorFn&&(re.mcc=J.selectedColorFn(re)),J.selectedSizeFn&&(re.mrc=J.selectedSizeFn(re))}return{geojson:{type:"FeatureCollection",features:F},mcc:A||J&&J.selectedColorFn?{type:"identity",property:"mcc"}:y.color,mrc:o||J&&J.selectedSizeFn?{type:"identity",property:"mrc"}:D(y.size),mo:M||J&&J.selectedOpacityFn?{type:"identity",property:"mo"}:I(y.opacity)}}function h(w,C){for(var y=C._fullLayout,E=w[0].trace,A=E.marker||{},o=A.symbol,M=A.angle,x=o!=="circle"?T(o):c,I=M!=="auto"?T(M,!0):c,D=r.hasText(E)?T(E.text):c,N=[],k=0;k<w.length;k++){var O=w[k];if(!i(O.lonlat)){var F=E.texttemplate,z;if(F){var B=Array.isArray(F)?F[k]||"":F,W=E._module.formatLabels(O,E,y),J={};n(J,E,O.i);var re=E._meta||{};z=P.texttemplateString(B,W,y._d3locale,J,O,re)}else z=D(k);z&&(z=z.replace(f,"").replace(u,`
`)),N.push({type:"Feature",geometry:{type:"Point",coordinates:O.lonlat},properties:{symbol:x(k),angle:I(k),text:z}})}}return{type:"FeatureCollection",features:N}}function T(w,C){return P.isArrayOrTypedArray(w)?C?function(y){return m(w[y])?+w[y]:0}:function(y){return w[y]}:w?function(){return w}:c}function c(){return""}function i(w){return w[0]===s}function d(w,C){var y;if(P.isArrayOrTypedArray(w)&&P.isArrayOrTypedArray(C)){y=["step",["get","point_count"],w[0]];for(var E=1;E<w.length;E++)y.push(C[E-1],w[E])}else y=w;return y}function b(w){var C=w.textfont,y=C.family,E=C.style,A=C.weight,o=y.split(" "),M=o[o.length-1]==="Italic";M&&o.pop(),M=M||E==="italic";var x=o.join(" ");A==="bold"&&o.indexOf("Bold")===-1?x+=" Bold":A<=1e3&&(o[0]==="Metropolis"?(x="Metropolis",A>850?x+=" Black":A>750?x+=" Extra Bold":A>650?x+=" Bold":A>550?x+=" Semi Bold":A>450?x+=" Medium":A>350?x+=" Regular":A>250?x+=" Light":A>150?x+=" Extra Light":x+=" Thin"):o.slice(0,2).join(" ")==="Open Sans"?(x="Open Sans",A>750?x+=" Extrabold":A>650?x+=" Bold":A>550?x+=" Semibold":A>350?x+=" Regular":x+=" Light"):o.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(x="Klokantech Noto Sans",o[3]==="CJK"&&(x+=" CJK"),x+=A>500?" Bold":" Regular")),M&&(x+=" Italic"),x==="Open Sans Regular Italic"?x="Open Sans Italic":x==="Open Sans Regular Bold"?x="Open Sans Bold":x==="Open Sans Regular Bold Italic"?x="Open Sans Bold Italic":x==="Klokantech Noto Sans Regular Italic"&&(x="Klokantech Noto Sans Italic"),t(x)||(x=y);var I=x.split(", ");return I}},15752:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(124),v=e(70840),p=e(31512),r=e(79732).isSupportedFont;G.exports=function(n,f,u,l){function g(o,M){return m.coerce(n,f,p,o,M)}function h(o,M){return m.coerce2(n,f,p,o,M)}var T=t(n,f,g);if(!T){f.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(f)){s(n,f,u,l,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var c=f.marker;c.symbol!=="circle"&&(m.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),m.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}P.hasLines(f)&&(L(n,f,u,l,g,{noDash:!0}),g("connectgaps"));var i=h("cluster.maxzoom"),d=h("cluster.step"),b=h("cluster.color",f.marker&&f.marker.color||u),w=h("cluster.size"),C=h("cluster.opacity"),y=i!==!1||d!==!1||b!==!1||w!==!1||C!==!1,E=g("cluster.enabled",y);if(E||P.hasText(f)){var A=l.font.family;S(n,f,l,g,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(A)?A:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}})}g("fill"),f.fill!=="none"&&v(n,f,u,g),m.coerceSelectionMarkerOpacity(f,g)};function t(a,n,f){var u=f("lon")||[],l=f("lat")||[],g=Math.min(u.length,l.length);return n._length=g,g}},37920:function(G){G.exports=function(e,m){return e.lon=m.lon,e.lat=m.lat,e}},11960:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.subplot]._subplot,r=p.mockAxis,t=s.lonlat;return v.lonLabel=m.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=m.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(G,H,e){var m=e(93024),P=e(3400),s=e(44928),L=P.fillText,S=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,a,n){var f=t.cd,u=f[0].trace,l=t.xa,g=t.ya,h=t.subplot,T=[],c=v+u.uid+"-circle",i=u.cluster&&u.cluster.enabled;if(i){var d=h.map.queryRenderedFeatures(null,{layers:[c]});T=d.map(function(k){return k.id})}var b=a>=0?Math.floor((a+180)/360):Math.ceil((a-180)/360),w=b*360,C=a-w;function y(k){var O=k.lonlat;if(O[0]===S||i&&T.indexOf(k.i+1)===-1)return 1/0;var F=P.modHalf(O[0],360),z=O[1],B=h.project([F,z]),W=B.x-l.c2p([C,z]),J=B.y-g.c2p([F,n]),re=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(W*W+J*J)-re,1-3/re)}if(m.getClosest(f,y,t),t.index!==!1){var E=f[t.index],A=E.lonlat,o=[P.modHalf(A[0],360)+w,A[1]],M=l.c2p(o),x=g.c2p(o),I=E.mrc||1;t.x0=M-I,t.x1=M+I,t.y0=x-I,t.y1=x+I;var D={};D[u.subplot]={_subplot:h};var N=u._module.formatLabels(E,u,D);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=s(u,E),t.extraText=r(u,E,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,a,n){if(t.hovertemplate)return;var f=a.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,g=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,T=a.lonlat,c=[];function i(d){return d+"°"}return l||g&&h?c.push("("+i(T[1])+", "+i(T[0])+")"):g?c.push(n.lon+i(T[0])):h&&c.push(n.lat+i(T[1])),(l||u.indexOf("text")!==-1)&&L(a,t,c),c.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},11572:function(G,H,e){G.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(m,P){if(P){var s=P[0].trace;s._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(G,H,e){var m=e(3400),P=e(59392),s=e(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function S(p,r,t,a){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=a,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:s+r+"-fill",line:s+r+"-line",circle:s+r+"-circle",symbol:s+r+"-symbol",cluster:s+r+"-cluster",clusterCount:s+r+"-cluster-count"},this.below=null}var v=S.prototype;v.addSource=function(p,r,t){var a={type:"geojson",data:r.geojson};t&&t.enabled&&m.extendFlat(a,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],a)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var a={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(a.filter=r.filter);for(var n=this.layerIds[p],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",a.layout),a.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",a.paint)):this.subplot.addLayer(a,t)},v.update=function(r){var t=r[0].trace,a=this.subplot,n=a.map,f=P(a.gd,r),u=a.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,h=this;function T(A){A||h.addSource("circle",f.circle,t.cluster);for(var o=L.cluster,M=0;M<o.length;M++){var x=o[M],I=f[x];h.addLayer(x,I,u)}}function c(A){for(var o=L.cluster,M=o.length-1;M>=0;M--){var x=o[M];n.removeLayer(h.layerIds[x])}A||n.removeSource(h.sourceIds.circle)}function i(A){for(var o=L.nonCluster,M=0;M<o.length;M++){var x=o[M],I=f[x];A||h.addSource(x,I),h.addLayer(x,I,u)}}function d(A){for(var o=L.nonCluster,M=o.length-1;M>=0;M--){var x=o[M];n.removeLayer(h.layerIds[x]),A||n.removeSource(h.sourceIds[x])}}function b(A){g?c(A):d(A)}function w(A){l?T(A):i(A)}function C(){for(var A=l?L.cluster:L.nonCluster,o=0;o<A.length;o++){var M=A[o],x=f[M];x&&(a.setOptions(h.layerIds[M],"setLayoutProperty",x.layout),x.layout.visibility==="visible"&&(M!=="cluster"&&h.setSourceData(M,x),a.setOptions(h.layerIds[M],"setPaintProperty",x.paint)))}}var y=this.isHidden,E=t.visible!==!0;E?y||b():y?E||w():g!==l?(b(),w()):(this.below!==u&&(b(!0),w(!0)),C()),this.clusterEnabled=l,this.isHidden=E,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,a=t.length-1;a>=0;a--){var n=t[a];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var a=t[0].trace,n=a.cluster&&a.cluster.enabled,f=a.visible!==!0,u=new S(r,a.uid,n,f),l=P(r.gd,t),g=u.below=r.belowLookup["trace-"+a.uid],h,T,c;if(n)for(u.addSource("circle",l.circle,a.cluster),h=0;h<L.cluster.length;h++)T=L.cluster[h],c=l[T],u.addLayer(T,c,g);else for(h=0;h<L.nonCluster.length;h++)T=L.nonCluster[h],c=l[T],u.addSource(T,c,a.cluster),u.addLayer(T,c,g);return t[0].trace._glTrace=u,u}},404:function(G,H,e){var m=e(3400),P=e(43028),s=e(39032).BADNUM;G.exports=function(S,v){var p=S.cd,r=S.xaxis,t=S.yaxis,a=[],n=p[0].trace,f;if(!P.hasMarkers(n))return[];if(v===!1)for(f=0;f<p.length;f++)p[f].selected=0;else for(f=0;f<p.length;f++){var u=p[f],l=u.lonlat;if(l[0]!==s){var g=[m.modHalf(l[0],360),l[1]],h=[r.c2p(g),t.c2p(g)];v.contains(h,null,f,S)?(a.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return a}},8319:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(92880).extendFlat,L=e(98304),S=e(52904),v=e(45464),p=S.line;G.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:s({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:s({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:s({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:s({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:m(),selected:S.selected,unselected:S.unselected}},58320:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(54460),L=e(90136),S=e(20148),v=e(4500),p=e(16356).calcMarkerSize;G.exports=function(t,a){for(var n=t._fullLayout,f=a.subplot,u=n[f].radialaxis,l=n[f].angularaxis,g=u.makeCalcdata(a,"r"),h=l.makeCalcdata(a,"theta"),T=a._length,c=new Array(T),i=0;i<T;i++){var d=g[i],b=h[i],w=c[i]={};m(d)&&m(b)?(w.r=d,w.theta=b):w.r=P}var C=p(a,T);return a._extremes.x=s.findExtremes(u,g,{ppad:C}),L(t,a),S(c,a),v(c,a),c}},85968:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function a(f,u,l,g){function h(i,d){return m.coerce(f,u,t,i,d)}var T=n(f,u,g,h);if(!T){u.visible=!1;return}h("thetaunit"),h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(u)&&s(f,u,l,g,h,{gradient:!0}),P.hasLines(u)&&(L(f,u,l,g,h,{backoff:!0}),S(f,u,h),h("connectgaps")),P.hasText(u)&&(h("texttemplate"),v(f,u,g,h));var c=[];(P.hasMarkers(u)||P.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(f,u,l,h),P.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),m.coerceSelectionMarkerOpacity(u,h)}function n(f,u,l,g){var h=g("r"),T=g("theta");m.isTypedArray(h)&&(u.r=h=Array.from(h)),m.isTypedArray(T)&&(u.theta=T=Array.from(T));var c;if(h)T?c=Math.min(h.length,T.length):(c=h.length,g("theta0"),g("dtheta"));else{if(!T)return 0;c=u.theta.length,g("r0"),g("dr")}return u._length=c,c}G.exports={handleRThetaDefaults:n,supplyDefaults:a}},22852:function(G,H,e){var m=e(3400),P=e(54460);G.exports=function(L,S,v){var p={},r=v[S.subplot]._subplot,t,a;r?(t=r.radialAxis,a=r.angularAxis):(r=v[S.subplot],t=r.radialaxis,a=r.angularaxis);var n=t.c2l(L.r);p.rLabel=P.tickText(t,n,!0).text;var f=a.thetaunit==="degrees"?m.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(a,f,!0).text,p}},8504:function(G,H,e){var m=e(98723);function P(L,S,v,p){var r=m(L,S,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=L.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,s(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function s(L,S,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(L,S,a);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var f=L.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var g=f.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&l(r,p.rLabel),g.indexOf("theta")!==-1&&l(t,p.thetaLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:s}},76924:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(G,H,e){var m=e(96504),P=e(39032).BADNUM;G.exports=function(L,S,v){for(var p=S.layers.frontplot.select("g.scatterlayer"),r=S.xaxis,t=S.yaxis,a={xaxis:r,yaxis:t,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},n=S.radialAxis,f=S.angularAxis,u=0;u<v.length;u++)for(var l=v[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[g],T=h.r;if(T===P)h.x=h.y=P;else{var c=n.c2g(T),i=f.c2g(h.theta);h.x=c*Math.cos(i),h.y=c*Math.sin(i)}}m(L,a,v,p)}},24396:function(G,H,e){var m=e(8319),P=e(2876),s=e(21776).Gw;G.exports={mode:m.mode,r:m.r,theta:m.theta,r0:m.r0,dr:m.dr,theta0:m.theta0,dtheta:m.dtheta,thetaunit:m.thetaunit,text:m.text,texttemplate:s({editType:"plot"},{keys:["r","theta","text"]}),hovertext:m.hovertext,hovertemplate:m.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:m.hoverinfo,selected:m.selected,unselected:m.unselected}},27160:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(G,H,e){var m=e(90136),P=e(16356).calcMarkerSize,s=e(84236),L=e(54460),S=e(67072).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,a=r.subplot,n=t[a].radialaxis,f=t[a].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),g=r._length,h={};g<u.length&&(u=u.slice(0,g)),g<l.length&&(l=l.slice(0,g)),h.r=u,h.theta=l,m(p,r);var T=h.opts=s.style(p,r),c;return g<S?c=P(r,g):T.marker&&(c=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=L.findExtremes(n,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(G,H,e){var m=e(3400),P=e(43028),s=e(85968).handleRThetaDefaults,L=e(74428),S=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);G.exports=function(n,f,u,l){function g(T,c){return m.coerce(n,f,t,T,c)}var h=s(n,f,l,g);if(!h){f.visible=!1;return}g("thetaunit"),g("mode",h<r?"lines+markers":"lines"),g("text"),g("hovertext"),f.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(f)&&L(n,f,u,l,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(f)&&(S(n,f,u,l,g),g("connectgaps")),P.hasText(f)&&(g("texttemplate"),v(n,f,l,g,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),g("fill"),f.fill!=="none"&&p(n,f,u,g),m.coerceSelectionMarkerOpacity(f,g)}},94120:function(G,H,e){var m=e(22852);G.exports=function(s,L,S){var v=s.i;return"r"in s||(s.r=L._r[v]),"theta"in s||(s.theta=L._theta[v]),m(s,L,S)}},1600:function(G,H,e){var m=e(41272),P=e(8504).makeHoverPointText;function s(L,S,v,p){var r=L.cd,t=r[0].t,a=t.r,n=t.theta,f=m.hoverPoints(L,S,v,p);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=L.subplot,g=u.cd[u.index],h=u.trace;if(g.r=a[u.index],g.theta=n[u.index],!!l.isPtInside(g))return u.xLabelVal=void 0,u.yLabelVal=void 0,P(g,h,l,u),f}}G.exports={hoverPoints:s}},62944:function(G,H,e){var m=e(27160);m.plot=e(56512),G.exports=m},56512:function(G,H,e){var m=e(3108),P=e(38248),s=e(89876),L=e(74588),S=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};G.exports=function(a,n,f){if(f.length){var u=n.radialAxis,l=n.angularAxis,g=L(a,n);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],c=T.trace,i=T.t,d=c._length,b=i.r,w=i.theta,C=i.opts,y,E=b.slice(),A=w.slice();for(y=0;y<b.length;y++)n.isPtInside({r:b[y],theta:w[y]})||(E[y]=NaN,A[y]=NaN);var o=new Array(d*2),M=Array(d),x=Array(d);for(y=0;y<d;y++){var I=E[y],D,N;if(P(I)){var k=u.c2g(I),O=l.c2g(A[y],c.thetaunit);D=k*Math.cos(O),N=k*Math.sin(O)}else D=N=NaN;M[y]=o[y*2]=D,x[y]=o[y*2+1]=N}i.tree=m(o),C.marker&&d>=p&&(C.marker.cluster=i.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=o),C.line&&o.length>1&&v.extendFlat(C.line,S.linePositions(a,c,o)),C.text&&(v.extendFlat(C.text,{positions:o},S.textPosition(a,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:o},S.textPosition(a,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:o},S.textPosition(a,c,C.text,C.markerUnsel))),C.fill&&!g.fill2d&&(g.fill2d=!0),C.marker&&!g.scatter2d&&(g.scatter2d=!0),C.line&&!g.line2d&&(g.line2d=!0),C.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(C.line),g.fillOptions.push(C.fill),g.markerOptions.push(C.marker),g.markerSelectedOptions.push(C.markerSel),g.markerUnselectedOptions.push(C.markerUnsel),g.textOptions.push(C.text),g.textSelectedOptions.push(C.textSel),g.textUnselectedOptions.push(C.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),i.x=M,i.y=x,i.rawx=M,i.rawy=x,i.r=b,i.theta=w,i.positions=o,i._scene=g,i.index=g.count,g.count++}}),s(a,n,f)}},G.exports.reglPrecompiled=r},69496:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(92880).extendFlat,L=e(98304),S=e(52904),v=e(45464),p=S.line;G.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:s({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:s({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:s({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:s({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:m(),selected:S.selected,unselected:S.unselected}},47507:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(90136),L=e(20148),S=e(4500),v=e(16356).calcMarkerSize;G.exports=function(r,t){for(var a=r._fullLayout,n=t.subplot,f=a[n].realaxis,u=a[n].imaginaryaxis,l=f.makeCalcdata(t,"real"),g=u.makeCalcdata(t,"imag"),h=t._length,T=new Array(h),c=0;c<h;c++){var i=l[c],d=g[c],b=T[c]={};m(i)&&m(d)?(b.real=i,b.imag=d):b.real=P}return v(t,h),s(r,t),L(T,t),S(T,t),T}},76716:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);G.exports=function(f,u,l,g){function h(i,d){return m.coerce(f,u,t,i,d)}var T=a(f,u,g,h);if(!T){u.visible=!1;return}h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(u)&&s(f,u,l,g,h,{gradient:!0}),P.hasLines(u)&&(L(f,u,l,g,h,{backoff:!0}),S(f,u,h),h("connectgaps")),P.hasText(u)&&(h("texttemplate"),v(f,u,g,h));var c=[];(P.hasMarkers(u)||P.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(f,u,l,h),P.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),m.coerceSelectionMarkerOpacity(u,h)};function a(n,f,u,l){var g=l("real"),h=l("imag"),T;return g&&h&&(T=Math.min(g.length,h.length)),m.isTypedArray(g)&&(f.real=g=Array.from(g)),m.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=T,T}},49504:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.subplot]._subplot;return v.realLabel=m.tickText(p.radialAxis,s.real,!0).text,v.imagLabel=m.tickText(p.angularAxis,s.imag,!0).text,v}},25292:function(G,H,e){var m=e(98723);function P(L,S,v,p){var r=m(L,S,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=L.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,s(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function s(L,S,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(L,S,a);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var f=L.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var g=f.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&l(r,p.realLabel),g.indexOf("imag")!==-1&&l(t,p.imagLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:s}},95443:function(G,H,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(G,H,e){var m=e(96504),P=e(39032).BADNUM,s=e(36416),L=s.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),a=p.xaxis,n=p.yaxis,f={xaxis:a,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=a,l[0].trace._yA=n);var h=l[g],T=h.real;if(T===P)h.x=h.y=P;else{var c=L([T,h.imag]);h.x=c[0],h.y=c[1]}}m(v,f,r,t)}},5896:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(52904),S=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=L.marker,a=L.line,n=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:a.color,width:a.width,dash:p,backoff:a.backoff,shape:r({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:s(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:m()}},34335:function(G,H,e){var m=e(38248),P=e(90136),s=e(20148),L=e(4500),S=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,a){var n=t._fullLayout[a.subplot],f=n.sum,u=a.sum||f,l={a:a.a,b:a.b,c:a.c},g,h,T,c,i,d;for(g=0;g<v.length;g++)if(T=v[g],!l[T]){for(i=l[p[T][0]],d=l[p[T][1]],c=new Array(i.length),h=0;h<i.length;h++)c[h]=u-i[h]-d[h];l[T]=c}var b=a._length,w=new Array(b),C,y,E,A,o,M;for(g=0;g<b;g++)C=l.a[g],y=l.b[g],E=l.c[g],m(C)&&m(y)&&m(E)?(C=+C,y=+y,E=+E,A=f/(C+y+E),A!==1&&(C*=A,y*=A,E*=A),M=C,o=E-y,w[g]={x:o,y:M,a:C,b:y,c:E}):w[g]={x:!1,y:!1};return S(a,b),P(t,a),s(w,a),L(w,a),w}},84256:function(G,H,e){var m=e(3400),P=e(88200),s=e(43028),L=e(74428),S=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);G.exports=function(n,f,u,l){function g(w,C){return m.coerce(n,f,t,w,C)}var h=g("a"),T=g("b"),c=g("c"),i;if(h?(i=h.length,T?(i=Math.min(i,T.length),c&&(i=Math.min(i,c.length))):c?i=Math.min(i,c.length):i=0):T&&c&&(i=Math.min(T.length,c.length)),!i){f.visible=!1;return}f._length=i,g("sum"),g("text"),g("hovertext"),f.hoveron!=="fills"&&g("hovertemplate");var d=i<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",d),s.hasMarkers(f)&&L(n,f,u,l,g,{gradient:!0}),s.hasLines(f)&&(S(n,f,u,l,g,{backoff:!0}),v(n,f,g),g("connectgaps")),s.hasText(f)&&(g("texttemplate"),p(n,f,l,g));var b=[];(s.hasMarkers(f)||s.hasText(f))&&(g("cliponaxis"),g("marker.maxdisplayed"),b.push("points")),g("fill"),f.fill!=="none"&&(r(n,f,u,g),s.hasLines(f)||v(n,f,g)),(f.fill==="tonext"||f.fill==="toself")&&b.push("fills"),g("hoveron",b.join("+")||"points"),m.coerceSelectionMarkerOpacity(f,g)}},97476:function(G){G.exports=function(e,m,P,s,L){if(m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),s[L]){var S=s[L];e.a=S.a,e.b=S.b,e.c=S.c}else e.a=m.a,e.b=m.b,e.c=m.c;return e}},90404:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.subplot]._subplot;return v.aLabel=m.tickText(p.aaxis,s.a,!0).text,v.bLabel=m.tickText(p.baxis,s.b,!0).text,v.cLabel=m.tickText(p.caxis,s.c,!0).text,v}},26596:function(G,H,e){var m=e(98723);G.exports=function(s,L,S,v){var p=m(s,L,S,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/s.ya._length,a=s.xa._length,n=a*t/2,f=a-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),p}var u=r.cd[r.index],l=r.trace,g=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:g};var T=l._module.formatLabels(u,l,h);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var c=u.hi||l.hoverinfo,i=[];function d(w,C){i.push(w._hovertitle+": "+C)}if(!l.hovertemplate){var b=c.split("+");b.indexOf("all")!==-1&&(b=["a","b","c"]),b.indexOf("a")!==-1&&d(g.aaxis,r.aLabel),b.indexOf("b")!==-1&&d(g.baxis,r.bLabel),b.indexOf("c")!==-1&&d(g.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(G,H,e){G.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(G,H,e){var m=e(96504);G.exports=function(s,L,S){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,r=L.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},a=L.layers.frontplot.select("g.scatterlayer"),n=0;n<S.length;n++){var f=S[n];f.length&&(f[0].trace._xA=p,f[0].trace._yA=r)}m(s,t,S,a)}},44524:function(G,H,e){var m=e(52904),P=e(49084),s=e(29736).axisHoverFormat,L=e(21776).Ks,S=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=m.marker,a=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},a.width,{editType:"calc"}),editType:"calc"}),f=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),hovertemplate:L(),xhoverformat:s("x"),yhoverformat:s("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:S.selected.marker,editType:"calc"},unselected:{marker:S.unselected.marker,editType:"calc"},opacity:S.opacity}},28888:function(G,H,e){var m=e(24040),P=e(12704);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},m.register(P)},99332:function(G,H,e){var m=e(13472),P=e(24040),s=e(5048),L=e(84888)._M,S=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function a(h){var T=h._fullLayout,c=P.getModule(r),i=L(h.calcdata,c)[0],d=s(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&u(h),c.plot(h,{},i))}function n(h){var T=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var i=0;i<T.length;i++){var d=T[i][0],b=d.trace,w=c._splomScenes[b.uid];b.type==="splom"&&w&&w.matrix&&f(h,b,w)}}function f(h,T,c){for(var i=c.matrixOptions.data.length,d=T._visibleDims,b=c.viewOpts.ranges=new Array(i),w=0;w<d.length;w++){var C=d[w],y=b[w]=new Array(4),E=v(h,T._diag[C][0]);E&&(y[0]=E.r2l(E.range[0]),y[2]=E.r2l(E.range[1]));var A=v(h,T._diag[C][1]);A&&(y[1]=A.r2l(A.range[0]),y[3]=A.r2l(A.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:b},{ranges:b}):c.matrix.update({ranges:b})}function u(h){var T=h._fullLayout,c=T._glcanvas.data()[0].regl,i=T._splomGrid;i||(i=T._splomGrid=m(c)),i.update(l(h))}function l(h){var T=h._context.plotGlPixelRatio,c=h._fullLayout,i=c._size,d=[0,0,c.width*T,c.height*T],b={},w;function C(W,J,re,ne,le,$){re*=T,ne*=T,le*=T,$*=T;var Z=J[W+"color"],ie=J[W+"width"],X=String(Z+ie);X in b?b[X].data.push(NaN,NaN,re,ne,le,$):b[X]={data:[re,ne,le,$],join:"rect",thickness:ie*T,color:Z,viewport:d,range:d,overlay:!1}}for(w in c._splomSubplots){var y=c._plots[w],E=y.xaxis,A=y.yaxis,o=E._gridVals,M=A._gridVals,x=E._offset,I=E._length,D=A._length,N=i.b+A.domain[0]*i.h,k=-A._m,O=-k*A.r2l(A.range[0],A.calendar),F,z;if(E.showgrid)for(w=0;w<o.length;w++)F=x+E.l2p(o[w].x),C("grid",E,F,N,F,N+D);if(A.showgrid)for(w=0;w<M.length;w++)z=N+O+k*M[w].x,C("grid",A,x,z,x+I,z);p(h,E,A)&&(F=x+E.l2p(0),C("zeroline",E,F,N,F,N+D)),p(h,A,E)&&(z=N+O+0,C("zeroline",A,x,z,x+I,z))}var B=[];for(w in b)B.push(b[w]);return B}function g(h,T,c,i){var d={},b;if(i._splomScenes){for(b=0;b<h.length;b++){var w=h[b];w.type==="splom"&&(d[w.uid]=1)}for(b=0;b<c.length;b++){var C=c[b];if(!d[C.uid]){var y=i._splomScenes[C.uid];y&&y.destroy&&y.destroy(),i._splomScenes[C.uid]=null,delete i._splomScenes[C.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!T._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),S.clean(h,T,c,i)}G.exports={name:r,attr:S.attr,attrRegex:S.attrRegex,layoutAttributes:S.layoutAttributes,supplyLayoutDefaults:S.supplyLayoutDefaults,drawFramework:S.drawFramework,plot:a,drag:n,updateGrid:u,clean:g,updateFx:S.updateFx,toSVG:S.toSVG,reglPrecompiled:t}},66821:function(G,H,e){var m=e(3400),P=e(79811),s=e(16356).calcMarkerSize,L=e(16356).calcAxisExpansion,S=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,a=e(67072).TOO_MANY_POINTS;G.exports=function(f,u){var l=u.dimensions,g=u._length,h={},T=h.cdata=[],c=h.data=[],i=u._visibleDims=[],d,b,w,C,y;function E(I,D){for(var N=I.makeCalcdata({v:D.values,vcalendar:u.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===t?NaN:N[k];T.push(N),c.push(I.type==="log"?m.simpleMap(N,I.c2l):N)}for(d=0;d<l.length;d++)if(w=l[d],w.visible){if(C=P.getFromId(f,u._diag[d][0]),y=P.getFromId(f,u._diag[d][1]),C&&y&&C.type!==y.type){m.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(E(C,w),y&&y.type==="category"&&(y._categories=C._categories.slice())):E(y,w),i.push(d)}S(f,u),m.extendFlat(h,p(f,u));var A=T.length,o=A*g>a,M;for(o?M=h.sizeAvg||Math.max(h.size,3):M=s(u,g),b=0;b<i.length;b++)d=i[b],w=l[d],C=P.getFromId(f,u._diag[d][0])||{},y=P.getFromId(f,u._diag[d][1])||{},L(f,u,C,y,T[b],T[b],M);var x=r(f,u);return x.matrix||(x.matrix=!0),x.matrixOptions=h,x.selectedOptions=v(f,u,u.selected),x.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(G,H,e){var m=e(3400),P=e(51272),s=e(44524),L=e(43028),S=e(74428),v=e(26284),p=e(80088).isOpenSymbol;G.exports=function(n,f,u,l){function g(C,y){return m.coerce(n,f,s,C,y)}var h=P(n,f,{name:"dimensions",handleItemDefaults:r}),T=g("diagonal.visible"),c=g("showupperhalf"),i=g("showlowerhalf"),d=v(f,h,"values");if(!d||!T&&!c&&!i){f.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),S(n,f,u,l,g,{noAngleRef:!0,noStandOff:!0});var b=p(f.marker.symbol),w=L.isBubble(f);g("marker.line.width",b||w?1:0),t(n,f,l,g),m.coerceSelectionMarkerOpacity(f,g)};function r(a,n){function f(l,g){return m.coerce(a,n,s.dimensions,l,g)}f("label");var u=f("values");u&&u.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(a,n,f,u){var l=n.dimensions,g=l.length,h=n.showupperhalf,T=n.showlowerhalf,c=n.diagonal.visible,i,d,b=new Array(g),w=new Array(g);for(i=0;i<g;i++){var C=i?i+1:"";b[i]="x"+C,w[i]="y"+C}var y=u("xaxes",b),E=u("yaxes",w),A=n._diag=new Array(g);n._xaxes={},n._yaxes={};var o=[],M=[];function x(W,J,re,ne){if(W){var le=W.charAt(0),$=f._splomAxes[le];if(n["_"+le+"axes"][W]=1,ne.push(W),!(W in $)){var Z=$[W]={};re&&(Z.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(Z.type=re.axis.type),re.axis.matches&&(Z.matches=J)))}}}var I=!c&&!T,D=!c&&!h;for(n._axesDim={},i=0;i<g;i++){var N=l[i],k=i===0,O=i===g-1,F=k&&I||O&&D?void 0:y[i],z=k&&D||O&&I?void 0:E[i];x(F,z,N,o),x(z,F,N,M),A[i]=[F,z],n._axesDim[F]=i,n._axesDim[z]=i}for(i=0;i<o.length;i++)for(d=0;d<M.length;d++){var B=o[i]+M[d];(i>d&&h||i<d&&T||i===d&&(c||!T||!h))&&(f._splomSubplots[B]=1)}(!T||!c&&h&&T)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(G,H,e){var m=e(3400),P=e(90136),s=e(84236).markerStyle;G.exports=function(S,v){var p=v.trace,r=S._fullLayout._splomScenes[p.uid];if(r){P(S,p),m.extendFlat(r.matrixOptions,s(S,p));var t=m.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(G,H){H.getDimIndex=function(m,P){for(var s=P._id,L=s.charAt(0),S={x:0,y:1}[L],v=m._visibleDims,p=0;p<v.length;p++){var r=v[p];if(m._diag[r][S]===s)return p}return!1}},72248:function(G,H,e){var m=e(50328),P=e(41272).calcHover,s=e(54460).getFromId,L=e(92880).extendFlat;function S(p,r,t,a,n){n||(n={});var f=(a||"").charAt(0)==="x",u=(a||"").charAt(0)==="y",l=v(p,r,t);if((f||u)&&n.hoversubplots==="axis"&&l[0])for(var g=(f?p.xa:p.ya)._subplotsWith,h=n.gd,T=L({},p),c=0;c<g.length;c++){var i=g[c];if(i!==p.xa._id+p.ya._id){u?T.xa=s(h,i,"x"):T.ya=s(h,i,"y");var d=f||u,b=v(T,r,t,d);l=l.concat(b)}}return l}function v(p,r,t,a){var n=p.cd,f=n[0].trace,u=p.scene,l=u.matrixOptions.cdata,g=p.xa,h=p.ya,T=g.c2p(r),c=h.c2p(t),i=p.distance,d=m.getDimIndex(f,g),b=m.getDimIndex(f,h);if(d===!1||b===!1)return[p];for(var w=l[d],C=l[b],y,E,A=i,o=0;o<w.length;o++)if(!(a&&o!==p.index)){var M=w[o],x=C[o],I=g.c2p(M)-T,D=h.c2p(x)-c,N=Math.sqrt(I*I+D*D);(a||N<A)&&(A=E=N,y=o)}return p.index=y,p.distance=A,p.dxy=E,y===void 0?[p]:[P(p,w,C,f)]}G.exports={hoverPoints:S}},97924:function(G,H,e){var m=e(28888);m.basePlotModule=e(99332),G.exports=m},54840:function(G,H,e){var m=e(55795),P=e(3400),s=e(79811),L=e(72760).selectMode;G.exports=function(p,r,t){if(t.length)for(var a=0;a<t.length;a++)S(p,t[a][0])};function S(v,p){var r=v._fullLayout,t=r._size,a=p.trace,n=p.t,f=r._splomScenes[a.uid],u=f.matrixOptions,l=u.cdata,g=r._glcanvas.data()[0].regl,h=r.dragmode,T,c,i,d,b;if(l.length!==0){u.lower=a.showupperhalf,u.upper=a.showlowerhalf,u.diagonal=a.diagonal.visible;var w=a._visibleDims,C=l.length,y=f.viewOpts={};for(y.ranges=new Array(C),y.domains=new Array(C),b=0;b<w.length;b++){i=w[b];var E=y.ranges[b]=new Array(4),A=y.domains[b]=new Array(4);T=s.getFromId(v,a._diag[i][0]),T&&(E[0]=T._rl[0],E[2]=T._rl[1],A[0]=T.domain[0],A[2]=T.domain[1]),c=s.getFromId(v,a._diag[i][1]),c&&(E[1]=c._rl[0],E[3]=c._rl[1],A[1]=c.domain[0],A[3]=c.domain[1])}var o=v._context.plotGlPixelRatio,M=t.l*o,x=t.b*o,I=t.w*o,D=t.h*o;y.viewport=[M,x,I+M,D+x],f.matrix===!0&&(f.matrix=m(g));var N=r.clickmode.indexOf("select")>-1,k=L(h)||!!a.selectedpoints||N,O=!0;if(k){var F=a._length;if(a.selectedpoints){f.selectBatch=a.selectedpoints;var z=a.selectedpoints,B={};for(i=0;i<z.length;i++)B[z[i]]=!0;var W=[];for(i=0;i<F;i++)B[i]||W.push(i);f.unselectBatch=W}var J=n.xpx=new Array(C),re=n.ypx=new Array(C);for(b=0;b<w.length;b++){if(i=w[b],T=s.getFromId(v,a._diag[i][0]),T)for(J[b]=new Array(F),d=0;d<F;d++)J[b][d]=T.c2p(l[b][d]);if(c=s.getFromId(v,a._diag[i][1]),c)for(re[b]=new Array(F),d=0;d<F;d++)re[b][d]=c.c2p(l[b][d])}if(f.selectBatch.length||f.unselectBatch.length){var ne=P.extendFlat({},u,f.unselectedOptions,y),le=P.extendFlat({},u,f.selectedOptions,y);f.matrix.update(ne,le),O=!1}}else n.xpx=n.ypx=null;if(O){var $=P.extendFlat({},u,y);f.matrix.update($,null)}}}},72308:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S=s._fullLayout,v=L.uid,p=S._splomScenes;p||(p=S._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},a=p[L.uid];return a||(a=p[v]=m.extendFlat({},r,t),a.draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch.length||a.unselectBatch.length?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||m.extendFlat(a,r),a}},62500:function(G,H,e){var m=e(3400),P=m.pushUnique,s=e(43028),L=e(50328);G.exports=function(v,p){var r=v.cd,t=r[0].trace,a=r[0].t,n=v.scene,f=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,g=[];if(!n)return g;var h=!s.hasMarkers(t)&&!s.hasText(t);if(t.visible!==!0||h)return g;var T=L.getDimIndex(t,u),c=L.getDimIndex(t,l);if(T===!1||c===!1)return g;var i=a.xpx[T],d=a.ypx[c],b=f[T],w=f[c],C=(v.scene.selectBatch||[]).slice(),y=[];if(p!==!1&&!p.degenerate)for(var E=0;E<b.length;E++)p.contains([i[E],d[E]],null,E,v)?(g.push({pointNumber:E,x:b[E],y:w[E]}),P(C,E)):C.indexOf(E)!==-1?P(C,E):y.push(E);var A=n.matrixOptions;return!C.length&&!y.length?n.matrix.update(A,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,m.extendFlat({},A,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=y,g}},90167:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(p,m("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},3832:function(G,H,e){var m=e(3400),P=e(47128);function s(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var a=0,n,f,u;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),a=Math.min(n.length,f.length,u.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=u||[];var l=0,g=1/0,h;for(h=0;h<r._len;h++){var T=r._u[h],c=r._v[h],i=r._w[h],d=Math.sqrt(T*T+c*c+i*i);l=Math.max(l,d),g=Math.min(g,d)}for(P(p,r,{vals:[g,l],containerStr:"",cLetter:"c"}),h=0;h<a;h++){var b=n[h];t.xMax=Math.max(t.xMax,b),t.xMin=Math.min(t.xMin,b);var w=f[h];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var C=u[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=a,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(p){var r=p._x,t=p._y,a=p._z,n=p._len,f,u,l,g=-1/0,h=1/0,T=-1/0,c=1/0,i=-1/0,d=1/0,b="",w,C,y,E,A,o,M,x,I;for(n&&(E=r[0],o=t[0],x=a[0]),n>1&&(A=r[n-1],M=t[n-1],I=a[n-1]),f=0;f<n;f++)g=Math.max(g,r[f]),h=Math.min(h,r[f]),T=Math.max(T,t[f]),c=Math.min(c,t[f]),i=Math.max(i,a[f]),d=Math.min(d,a[f]),!w&&r[f]!==E&&(w=!0,b+="x"),!C&&t[f]!==o&&(C=!0,b+="y"),!y&&a[f]!==x&&(y=!0,b+="z");w||(b+="x"),C||(b+="y"),y||(b+="z");var D=S(p._x),N=S(p._y),k=S(p._z);b=b.replace("x",(E>A?"-":"+")+"x"),b=b.replace("y",(o>M?"-":"+")+"y"),b=b.replace("z",(x>I?"-":"+")+"z");var O=function(){n=0,D=[],N=[],k=[]};(!n||n<D.length*N.length*k.length)&&O();var F=function(fe){return fe==="x"?r:fe==="y"?t:a},z=function(fe){return fe==="x"?D:fe==="y"?N:k},B=function(fe){return fe[n-1]<fe[0]?-1:1},W=F(b[1]),J=F(b[3]),re=F(b[5]),ne=z(b[1]).length,le=z(b[3]).length,$=z(b[5]).length,Z=!1,ie=function(fe,ge,be){return ne*(le*fe+ge)+be},X=B(F(b[1])),Q=B(F(b[3])),oe=B(F(b[5]));for(f=0;f<$-1;f++){for(u=0;u<le-1;u++){for(l=0;l<ne-1;l++){var j=ie(f,u,l),Y=ie(f,u,l+1),se=ie(f,u+1,l),te=ie(f+1,u,l);if((!(W[j]*X<W[Y]*X)||!(J[j]*Q<J[se]*Q)||!(re[j]*oe<re[te]*oe))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(m.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:h,yMin:c,zMin:d,xMax:g,yMax:T,zMax:i,Xs:D,Ys:N,Zs:k,len:n,fill:b}}function S(p){return m.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),m.isTypedArray(p))return p.subarray(0,r);for(var t=[],a=0;a<r;a++)t[a]=+p[a];return t}G.exports={calc:s,filter:v,processGrid:L}},25668:function(G,H,e){var m=e(67792).gl_streamtube3d,P=m.createTubeMesh,s=e(3400),L=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,g){this.scene=l,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var g=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(d,b){var w=g[b],C=h[p[b]];return w.l2c(d)/C}if(l.object===this.mesh){var c=l.data.position,i=l.data.velocity;return l.traceCoordinate=[T(c[0],"xaxis"),T(c[1],"yaxis"),T(c[2],"zaxis"),T(i[0],"xaxis"),T(i[1],"yaxis"),T(i[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function a(l){var g=l.length,h;return g>2?h=l.slice(1,g-1):g===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var g=l.length;return g===1?[.5,.5]:[l[1]-l[0],l[g-1]-l[g-2]]}function f(l,g){var h=l.fullSceneLayout,T=l.dataScale,c=g._len,i={};function d(le,$){var Z=h[$],ie=T[p[$]];return s.simpleMap(le,function(X){return Z.d2l(X)*ie})}if(i.vectors=v(d(g._u,"xaxis"),d(g._v,"yaxis"),d(g._w,"zaxis"),c),!c)return{positions:[],cells:[]};var b=d(g._Xs,"xaxis"),w=d(g._Ys,"yaxis"),C=d(g._Zs,"zaxis");i.meshgrid=[b,w,C],i.gridFill=g._gridFill;var y=g._slen;if(y)i.startingPositions=v(d(g._startsX,"xaxis"),d(g._startsY,"yaxis"),d(g._startsZ,"zaxis"));else{for(var E=w[0],A=a(b),o=a(C),M=new Array(A.length*o.length),x=0,I=0;I<A.length;I++)for(var D=0;D<o.length;D++)M[x++]=[A[I],E,o[D]];i.startingPositions=M}i.colormap=L(g),i.tubeSize=g.sizeref,i.maxLength=g.maxdisplayed;var N=d(g._xbnds,"xaxis"),k=d(g._ybnds,"yaxis"),O=d(g._zbnds,"zaxis"),F=n(b),z=n(w),B=n(C),W=[[N[0]-F[0],k[0]-z[0],O[0]-B[0]],[N[1]+F[1],k[1]+z[1],O[1]+B[1]]],J=m(i,W),re=S(g);J.vertexIntensityBounds=[re.min/g._normMax,re.max/g._normMax];var ne=g.lightposition;return J.lightPosition=[ne.x,ne.y,ne.z],J.ambient=g.lighting.ambient,J.diffuse=g.lighting.diffuse,J.specular=g.lighting.specular,J.roughness=g.lighting.roughness,J.fresnel=g.lighting.fresnel,J.opacity=g.opacity,g._pad=J.tubeScale*g.sizeref*2,J}t.update=function(l){this.data=l;var g=f(this.scene,l);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,g){var h=l.glplot.gl,T=f(l,g),c=P(h,T),i=new r(l,g.uid);return i.mesh=c,i.data=g,c._trace=i,l.glplot.add(c),i}G.exports=u},54304:function(G,H,e){var m=e(3400),P=e(27260),s=e(90167);G.exports=function(S,v,p,r){function t(h,T){return m.coerce(S,v,s,h,T)}var a=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),g=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(G,H,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(m,P){return m.tubex=m.x,m.tubey=m.y,m.tubez=m.z,m.tubeu=P.traceCoordinate[3],m.tubev=P.traceCoordinate[4],m.tubew=P.traceCoordinate[5],m.norm=P.traceCoordinate[6],m.divergence=P.traceCoordinate[7],delete m.x,delete m.y,delete m.z,m},meta:{}}},424:function(G,H,e){var m=e(45464),P=e(21776).Ks,s=e(21776).Gw,L=e(49084),S=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:s({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},m.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:S({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(G,H,e){var m=e(7316);H.name="sunburst",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},3776:function(G,H,e){var m=e(74148),P=e(38248),s=e(3400),L=e(8932).makeColorScaleFuncFromTrace,S=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},a={},n={};H.calc=function(u,l){var g=u._fullLayout,h=l.ids,T=s.isArrayOrTypedArray(h),c=l.labels,i=l.parents,d=l.values,b=s.isArrayOrTypedArray(d),w=[],C={},y={},E=function(X,Q){C[X]?C[X].push(Q):C[X]=[Q],y[Q]=1},A=function(X){return X||typeof X=="number"},o=function(X){return!b||P(d[X])&&d[X]>=0},M,x,I;T?(M=Math.min(h.length,i.length),x=function(X){return A(h[X])&&o(X)},I=function(X){return String(h[X])}):(M=Math.min(c.length,i.length),x=function(X){return A(c[X])&&o(X)},I=function(X){return String(c[X])}),b&&(M=Math.min(M,d.length));for(var D=0;D<M;D++)if(x(D)){var N=I(D),k=A(i[D])?String(i[D]):"",O={i:D,id:N,pid:k,label:A(c[D])?String(c[D]):""};b&&(O.v=+d[D]),w.push(O),E(k,N)}if(C[""]){if(C[""].length>1){for(var B=s.randstr(),W=0;W<w.length;W++)w[W].pid===""&&(w[W].pid=B);w.unshift({hasMultipleRoots:!0,id:B,pid:"",label:""})}}else{var F=[],z;for(z in C)y[z]||F.push(z);if(F.length===1)z=F[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return s.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",F.join(", ")].join(" "))}var J;try{J=m.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(w)}catch(X){return s.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",X.message].join(" "))}var re=m.hierarchy(J),ne=!1;if(b)switch(l.branchvalues){case"remainder":re.sum(function(X){return X.data.v});break;case"total":re.each(function(X){var Q=X.data.data,oe=Q.v;if(X.children){var j=X.children.reduce(function(Y,se){return Y+se.data.data.v},0);if((Q.hasImpliedRoot||Q.hasMultipleRoots)&&(oe=j),oe<j*r)return ne=!0,s.warn(["Total value for node",X.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,oe,`
children sum =`,j].join(" "))}X.value=oe});break}else f(re,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ne){l.sort&&re.sort(function(X,Q){return Q.value-X.value});var le,$,Z=l.marker.colors||[],ie=!!Z.length;return l._hasColorscale?(ie||(Z=b?l.values:l._values),p(u,l,{vals:Z,containerStr:"marker",cLetter:"c"}),$=L(l.marker)):le=S(g["_"+l.type+"colormap"]),re.each(function(X){var Q=X.data.data;Q.color=l._hasColorscale?$(Z[Q.i]):le(Z[Q.i],Q.id)}),w[0].hierarchy=re,w}},H._runCrossTraceCalc=function(u,l){var g=l._fullLayout,h=l.calcdata,T=g[u+"colorway"],c=g["_"+u+"colormap"];g["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?a:t));var i=0,d;function b(E){var A=E.data.data,o=A.id;A.color===!1&&(c[o]?A.color=c[o]:E.parent?E.parent.parent?A.color=E.parent.data.data.color:(c[o]=A.color=T[i%T.length],i++):A.color=d)}for(var w=0;w<h.length;w++){var C=h[w],y=C[0];y.trace.type===u&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(b))}},H.crossTraceCalc=function(u){return H._runCrossTraceCalc("sunburst",u)};function f(u,l,g){var h=0,T=u.children;if(T){for(var c=T.length,i=0;i<c;i++)h+=f(T[i],l,g);g.branches&&h++}else g.leaves&&h++;return u.value=u.data.data.value=h,l._values||(l._values=[]),l._values[u.data.data.i]=h,h}},27328:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(G,H,e){var m=e(3400),P=e(424),s=e(86968).Q,L=e(31508).handleText,S=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(a,n,f,u){function l(b,w){return m.coerce(a,n,P,b,w)}var g=l("labels"),h=l("parents");if(!g||!g.length||!h||!h.length){n.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),S(a,n,u,l);var c=n._hasColorscale=p(a,"marker","colors")||(a.marker||{}).coloraxis;c&&r(a,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var i=l("text");l("texttemplate"),n.texttemplate||l("textinfo",m.isArrayOrTypedArray(i)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";L(a,n,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),s(n,u,l),n._length=null}},60404:function(G,H,e){var m=e(43616),P=e(76308);G.exports=function(L,S,v,p,r){var t=S.data.data,a=t.i,n=r||t.color;if(a>=0){S.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,S.color=n):(f.color=n,S.color=n),m.pointStyle(L,v,p,S)}else P.fill(L,n)}},45716:function(G,H,e){var m=e(33428),P=e(24040),s=e(10624).appendArrayPointValue,L=e(93024),S=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;G.exports=function(f,u,l,g,h){var T=g[0],c=T.trace,i=T.hierarchy,d=c.type==="sunburst",b=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var w=function(E){var A=l._fullLayout;if(!(l._dragging||A.hovermode===!1)){var o=l._fullData[c.index],M=E.data.data,x=M.i,I=p.isHierarchyRoot(E),D=p.getParent(i,E),N=p.getValue(E),k=function(Y){return S.castOption(o,x,Y)},O=k("hovertemplate"),F=L.castHoverinfo(o,A,x),z=A.separators,B;if(O||F&&F!=="none"&&F!=="skip"){var W,J;d&&(W=T.cx+E.pxmid[0]*(1-E.rInscribed),J=T.cy+E.pxmid[1]*(1-E.rInscribed)),b&&(W=E._hoverX,J=E._hoverY);var re={},ne=[],le=[],$=function(Y){return ne.indexOf(Y)!==-1};F&&(ne=F==="all"?o._module.attributes.hoverinfo.flags:F.split("+")),re.label=M.label,$("label")&&re.label&&le.push(re.label),M.hasOwnProperty("v")&&(re.value=M.v,re.valueLabel=t(re.value,z),$("value")&&le.push(re.valueLabel)),re.currentPath=E.currentPath=p.getPath(E.data),$("current path")&&!I&&le.push(re.currentPath);var Z,ie=[],X=function(){ie.indexOf(Z)===-1&&(le.push(Z),ie.push(Z))};re.percentParent=E.percentParent=N/p.getValue(D),re.parent=E.parentString=p.getPtLabel(D),$("percent parent")&&(Z=p.formatPercent(re.percentParent,z)+" of "+re.parent,X()),re.percentEntry=E.percentEntry=N/p.getValue(u),re.entry=E.entry=p.getPtLabel(u),$("percent entry")&&!I&&!E.onPathbar&&(Z=p.formatPercent(re.percentEntry,z)+" of "+re.entry,X()),re.percentRoot=E.percentRoot=N/p.getValue(i),re.root=E.root=p.getPtLabel(i),$("percent root")&&!I&&(Z=p.formatPercent(re.percentRoot,z)+" of "+re.root,X()),re.text=k("hovertext")||k("text"),$("text")&&(Z=re.text,S.isValidTextValue(Z)&&le.push(Z)),B=[a(E,o,h.eventDataKeys)];var Q={trace:o,y:J,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:le.join("<br>"),name:O||$("name")?o.name:void 0,color:k("hoverlabel.bgcolor")||M.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),fontWeight:k("hoverlabel.font.weight"),fontStyle:k("hoverlabel.font.style"),fontVariant:k("hoverlabel.font.variant"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:re,eventData:B};d&&(Q.x0=W-E.rInscribed*E.rpx1,Q.x1=W+E.rInscribed*E.rpx1,Q.idealAlign=E.pxmid[0]<0?"left":"right"),b&&(Q.x=W,Q.idealAlign=W<0?"left":"right");var oe=[];L.loneHover(Q,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:l,inOut_bbox:oe}),B[0].bbox=oe[0],c._hasHoverLabel=!0}if(b){var j=f.select("path.surface");h.styleOne(j,E,o,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:B||[a(E,o,h.eventDataKeys)],event:m.event})}},C=function(E){var A=l._fullLayout,o=l._fullData[c.index],M=m.select(this).datum();if(c._hasHoverEvent&&(E.originalEvent=m.event,l.emit("plotly_unhover",{points:[a(M,o,h.eventDataKeys)],event:m.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(L.loneUnhover(A._hoverlayer.node()),c._hasHoverLabel=!1),b){var x=f.select("path.surface");h.styleOne(x,M,o,l,{hovered:!1})}},y=function(E){var A=l._fullLayout,o=l._fullData[c.index],M=d&&(p.isHierarchyRoot(E)||p.isLeaf(E)),x=p.getPtId(E),I=p.isEntry(E)?p.findEntryWithChild(i,x):p.findEntryWithLevel(i,x),D=p.getPtId(I),N={points:[a(E,o,h.eventDataKeys)],event:m.event};M||(N.nextLevel=D);var k=v.triggerHandler(l,"plotly_"+c.type+"click",N);if(k!==!1&&A.hovermode&&(l._hoverdata=[a(E,o,h.eventDataKeys)],L.click(l,m.event)),!M&&k!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",o,A._tracePreGUI[o.uid],{level:o.level});var O={data:[{level:D}],traces:[c.index]},F={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(A._hoverlayer.node()),P.call("animate",l,O,F)}};f.on("mouseover",w),f.on("mouseout",C),f.on("click",y)};function a(n,f,u){for(var l=n.data.data,g={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},h=0;h<u.length;h++){var T=u[h];T in n&&(g[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(g.parent=n.parentString),s(g,f,l.i),g}},78176:function(G,H,e){var m=e(3400),P=e(76308),s=e(93972),L=e(69656);H.findEntryWithLevel=function(r,t){var a;return t&&r.eachAfter(function(n){if(H.getPtId(n)===t)return a=n.copy()}),a||r},H.findEntryWithChild=function(r,t){var a;return r.eachAfter(function(n){for(var f=n.children||[],u=0;u<f.length;u++){var l=f[u];if(H.getPtId(l)===t)return a=n.copy()}}),a||r},H.isEntry=function(r){return!r.parent},H.isLeaf=function(r){return!r.children},H.getPtId=function(r){return r.data.data.id},H.getPtLabel=function(r){return r.data.data.label},H.getValue=function(r){return r.value},H.isHierarchyRoot=function(r){return p(r)===""},H.setSliceCursor=function(r,t,a){var n=a.isTransitioning;if(!n){var f=r.datum();n=a.hideOnRoot&&H.isHierarchyRoot(f)||a.hideOnLeaves&&H.isLeaf(f)}s(r,n?null:"pointer")};function S(r,t,a){return{color:H.getOutsideTextFontKey("color",r,t,a),family:H.getOutsideTextFontKey("family",r,t,a),size:H.getOutsideTextFontKey("size",r,t,a),weight:H.getOutsideTextFontKey("weight",r,t,a),style:H.getOutsideTextFontKey("style",r,t,a),variant:H.getOutsideTextFontKey("variant",r,t,a),textcase:H.getOutsideTextFontKey("textcase",r,t,a),lineposition:H.getOutsideTextFontKey("lineposition",r,t,a),shadow:H.getOutsideTextFontKey("shadow",r,t,a)}}function v(r,t,a,n){var f=(n||{}).onPathbar,u=t.data.data,l=u.i,g=m.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=m.castOption(r._input,l,"textfont.color")),{color:g||P.contrast(u.color),family:H.getInsideTextFontKey("family",r,t,a,n),size:H.getInsideTextFontKey("size",r,t,a,n),weight:H.getInsideTextFontKey("weight",r,t,a,n),style:H.getInsideTextFontKey("style",r,t,a,n),variant:H.getInsideTextFontKey("variant",r,t,a,n),textcase:H.getInsideTextFontKey("textcase",r,t,a,n),lineposition:H.getInsideTextFontKey("lineposition",r,t,a,n),shadow:H.getInsideTextFontKey("shadow",r,t,a,n)}}H.getInsideTextFontKey=function(r,t,a,n,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",g=a.data.data.i;return m.castOption(t,g,l+"."+r)||m.castOption(t,g,"textfont."+r)||n.size},H.getOutsideTextFontKey=function(r,t,a,n){var f=a.data.data.i;return m.castOption(t,f,"outsidetextfont."+r)||m.castOption(t,f,"textfont."+r)||n.size},H.isOutsideText=function(r,t){return!r._hasColorscale&&H.isHierarchyRoot(t)},H.determineTextFont=function(r,t,a,n){return H.isOutsideText(r,t)?S(r,t,a):v(r,t,a,n)},H.hasTransition=function(r){return!!(r&&r.duration>0)},H.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},H.isHeader=function(r,t){return!(H.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}H.getParent=function(r,t){return H.findEntryWithLevel(r,p(t))},H.listPath=function(r,t){var a=r.parent;if(!a)return[];var n=t?[a.data[t]]:[a];return H.listPath(a,t).concat(n)},H.getPath=function(r){return H.listPath(r,"label").join("/")+"/"},H.formatValue=L.formatPieValue,H.formatPercent=function(r,t){var a=m.formatPercent(r,0);return a==="0%"&&(a=L.formatPiePercent(r,t)),a}},5621:function(G,H,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(G,H,e){var m=e(3400),P=e(84920);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("sunburstcolorway",S.colorway),v("extendsunburstcolors")}},96488:function(G,H,e){var m=e(33428),P=e(74148),s=e(67756).qy,L=e(43616),S=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,a=e(37820),n=e(69656).getRotationAngle,f=a.computeTransform,u=a.transformInsideText,l=e(85676).styleOne,g=e(60100).resizeText,h=e(45716),T=e(27328),c=e(78176);H.plot=function(y,E,A,o){var M=y._fullLayout,x=M._sunburstlayer,I,D,N=!A,k=!M.uniformtext.mode&&c.hasTransition(A);if(t("sunburst",M),I=x.selectAll("g.trace.sunburst").data(E,function(F){return F[0].trace.uid}),I.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),k){o&&(D=o());var O=m.transition().duration(A.duration).ease(A.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()});O.each(function(){x.selectAll("g.trace").each(function(F){i(y,F,this,A)})})}else I.each(function(F){i(y,F,this,A)}),M.uniformtext.mode&&g(y,M._sunburstlayer.selectAll(".trace"),"sunburst");N&&I.exit().remove()};function i(y,E,A,o){var M=y._context.staticPlot,x=y._fullLayout,I=!x.uniformtext.mode&&c.hasTransition(o),D=m.select(A),N=D.selectAll("g.slice"),k=E[0],O=k.trace,F=k.hierarchy,z=c.findEntryWithLevel(F,O.level),B=c.getMaxDepth(O),W=x._size,J=O.domain,re=W.w*(J.x[1]-J.x[0]),ne=W.h*(J.y[1]-J.y[0]),le=.5*Math.min(re,ne),$=k.cx=W.l+W.w*(J.x[1]+J.x[0])/2,Z=k.cy=W.t+W.h*(1-J.y[0])-ne/2;if(!z)return N.remove();var ie=null,X={};I&&N.each(function(Ve){X[c.getPtId(Ve)]={rpx0:Ve.rpx0,rpx1:Ve.rpx1,x0:Ve.x0,x1:Ve.x1,transform:Ve.transform},!ie&&c.isEntry(Ve)&&(ie=Ve)});var Q=d(z).descendants(),oe=z.height+1,j=0,Y=B;k.hasMultipleRoots&&c.isHierarchyRoot(z)&&(Q=Q.slice(1),oe-=1,j=1,Y+=1),Q=Q.filter(function(Ve){return Ve.y1<=Y});var se=n(O.rotation);se&&Q.forEach(function(Ve){Ve.x0+=se,Ve.x1+=se});var te=Math.min(oe,B),fe=function(Ve){return(Ve-j)/te*le},ge=function(Ve,tt){return[Ve*Math.cos(tt),-Ve*Math.sin(tt)]},be=function(Ve){return S.pathAnnulus(Ve.rpx0,Ve.rpx1,Ve.x0,Ve.x1,$,Z)},xe=function(Ve){return $+w(Ve)[0]*(Ve.transform.rCenter||0)+(Ve.transform.x||0)},_e=function(Ve){return Z+w(Ve)[1]*(Ve.transform.rCenter||0)+(Ve.transform.y||0)};N=N.data(Q,c.getPtId),N.enter().append("g").classed("slice",!0),I?N.exit().transition().each(function(){var Ve=m.select(this),tt=Ve.select("path.surface");tt.transition().attrTween("d",function(Je){var Qe=Re(Je);return function(ct){return be(Qe(ct))}});var it=Ve.select("g.slicetext");it.attr("opacity",0)}).remove():N.exit().remove(),N.order();var De=null;if(I&&ie){var Fe=c.getPtId(ie);N.each(function(Ve){De===null&&c.getPtId(Ve)===Fe&&(De=Ve.x1)})}var Te=N;I&&(Te=Te.transition().each("end",function(){var Ve=m.select(this);c.setSliceCursor(Ve,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Te.each(function(Ve){var tt=m.select(this),it=S.ensureSingle(tt,"path","surface",function(Tt){Tt.style("pointer-events",M?"none":"all")});Ve.rpx0=fe(Ve.y0),Ve.rpx1=fe(Ve.y1),Ve.xmid=(Ve.x0+Ve.x1)/2,Ve.pxmid=ge(Ve.rpx1,Ve.xmid),Ve.midangle=-(Ve.xmid-Math.PI/2),Ve.startangle=-(Ve.x0-Math.PI/2),Ve.stopangle=-(Ve.x1-Math.PI/2),Ve.halfangle=.5*Math.min(S.angleDelta(Ve.x0,Ve.x1)||Math.PI,Math.PI),Ve.ring=1-Ve.rpx0/Ve.rpx1,Ve.rInscribed=b(Ve),I?it.transition().attrTween("d",function(Tt){var Et=Se(Tt);return function(rt){return be(Et(rt))}}):it.attr("d",be),tt.call(h,z,y,E,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),it.call(l,Ve,O,y);var Je=S.ensureSingle(tt,"g","slicetext"),Qe=S.ensureSingle(Je,"text","",function(Tt){Tt.attr("data-notex",1)}),ct=S.ensureUniformFontSize(y,c.determineTextFont(O,Ve,x.font));Qe.text(H.formatSliceLabel(Ve,z,O,E,x)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ct).call(v.convertToTspans,y);var ht=L.bBox(Qe.node());Ve.transform=u(ht,Ve,k),Ve.transform.targetX=xe(Ve),Ve.transform.targetY=_e(Ve);var dt=function(Tt,Et){var rt=Tt.transform;return f(rt,Et),rt.fontSize=ct.size,r(O.type,rt,x),S.getTextTransform(rt)};I?Qe.transition().attrTween("transform",function(Tt){var Et=ke(Tt);return function(rt){return dt(Et(rt),ht)}}):Qe.attr("transform",dt(Ve,ht))});function Re(Ve){var tt=c.getPtId(Ve),it=X[tt],Je=X[c.getPtId(z)],Qe;if(Je){var ct=(Ve.x1>Je.x1?2*Math.PI:0)+se;Qe=Ve.rpx1<Je.rpx1?{x0:Ve.x0,x1:Ve.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:Ve.rpx0,rpx1:Ve.rpx1}}else{var ht,dt=c.getPtId(Ve.parent);N.each(function(Ge){if(c.getPtId(Ge)===dt)return ht=Ge});var Tt=ht.children,Et;Tt.forEach(function(Ge,je){if(c.getPtId(Ge)===tt)return Et=je});var rt=Tt.length,ze=s(ht.x0,ht.x1);Qe={rpx0:le,rpx1:le,x0:ze(Et/rt),x1:ze((Et+1)/rt)}}return s(it,Qe)}function Se(Ve){var tt=X[c.getPtId(Ve)],it,Je={x0:Ve.x0,x1:Ve.x1,rpx0:Ve.rpx0,rpx1:Ve.rpx1};if(tt)it=tt;else if(ie)if(Ve.parent)if(De){var Qe=(Ve.x1>De?2*Math.PI:0)+se;it={x0:Qe,x1:Qe}}else it={rpx0:le,rpx1:le},S.extendFlat(it,Me(Ve));else it={rpx0:0,rpx1:0};else it={x0:se,x1:se};return s(it,Je)}function ke(Ve){var tt=X[c.getPtId(Ve)],it,Je=Ve.transform;if(tt)it=tt;else if(it={rpx1:Ve.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},ie)if(Ve.parent)if(De){var Qe=Ve.x1>De?2*Math.PI:0;it.x0=it.x1=Qe}else S.extendFlat(it,Me(Ve));else it.x0=it.x1=se;else it.x0=it.x1=se;var ct=s(it.transform.textPosAngle,Ve.transform.textPosAngle),ht=s(it.rpx1,Ve.rpx1),dt=s(it.x0,Ve.x0),Tt=s(it.x1,Ve.x1),Et=s(it.transform.scale,Je.scale),rt=s(it.transform.rotate,Je.rotate),ze=Je.rCenter===0?3:it.transform.rCenter===0?1/3:1,Ge=s(it.transform.rCenter,Je.rCenter),je=function(We){return Ge(Math.pow(We,ze))};return function(We){var Le=ht(We),Pe=dt(We),Ye=Tt(We),Ce=je(We),he=ge(Le,(Pe+Ye)/2),me=ct(We),Ne={pxmid:he,rpx1:Le,transform:{textPosAngle:me,rCenter:Ce,x:Je.x,y:Je.y}};return r(O.type,Je,x),{transform:{targetX:xe(Ne),targetY:_e(Ne),scale:Et(We),rotate:rt(We),rCenter:Ce}}}}function Me(Ve){var tt=Ve.parent,it=X[c.getPtId(tt)],Je={};if(it){var Qe=tt.children,ct=Qe.indexOf(Ve),ht=Qe.length,dt=s(it.x0,it.x1);Je.x0=dt(ct/ht),Je.x1=dt(ct/ht)}else Je.x0=Je.x1=0;return Je}}function d(y){return P.partition().size([2*Math.PI,y.height+1])(y)}H.formatSliceLabel=function(y,E,A,o,M){var x=A.texttemplate,I=A.textinfo;if(!x&&(!I||I==="none"))return"";var D=M.separators,N=o[0],k=y.data.data,O=N.hierarchy,F=c.isHierarchyRoot(y),z=c.getParent(O,y),B=c.getValue(y);if(!x){var W=I.split("+"),J=function(j){return W.indexOf(j)!==-1},re=[],ne;if(J("label")&&k.label&&re.push(k.label),k.hasOwnProperty("v")&&J("value")&&re.push(c.formatValue(k.v,D)),!F){J("current path")&&re.push(c.getPath(y.data));var le=0;J("percent parent")&&le++,J("percent entry")&&le++,J("percent root")&&le++;var $=le>1;if(le){var Z,ie=function(j){ne=c.formatPercent(Z,D),$&&(ne+=" of "+j),re.push(ne)};J("percent parent")&&!F&&(Z=B/c.getValue(z),ie("parent")),J("percent entry")&&(Z=B/c.getValue(E),ie("entry")),J("percent root")&&(Z=B/c.getValue(O),ie("root"))}}return J("text")&&(ne=S.castOption(A,k.i,"text"),S.isValidTextValue(ne)&&re.push(ne)),re.join("<br>")}var X=S.castOption(A,k.i,"texttemplate");if(!X)return"";var Q={};k.label&&(Q.label=k.label),k.hasOwnProperty("v")&&(Q.value=k.v,Q.valueLabel=c.formatValue(k.v,D)),Q.currentPath=c.getPath(y.data),F||(Q.percentParent=B/c.getValue(z),Q.percentParentLabel=c.formatPercent(Q.percentParent,D),Q.parent=c.getPtLabel(z)),Q.percentEntry=B/c.getValue(E),Q.percentEntryLabel=c.formatPercent(Q.percentEntry,D),Q.entry=c.getPtLabel(E),Q.percentRoot=B/c.getValue(O),Q.percentRootLabel=c.formatPercent(Q.percentRoot,D),Q.root=c.getPtLabel(O),k.hasOwnProperty("color")&&(Q.color=k.color);var oe=S.castOption(A,k.i,"text");return(S.isValidTextValue(oe)||oe==="")&&(Q.text=oe),Q.customdata=S.castOption(A,k.i,"customdata"),S.texttemplateString(X,Q,M._d3locale,Q,A._meta||{})};function b(y){return y.rpx0===0&&S.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function w(y){return C(y.rpx1,y.transform.textPosAngle)}function C(y,E){return[y*Math.sin(E),-y*Math.cos(E)]}},85676:function(G,H,e){var m=e(33428),P=e(76308),s=e(3400),L=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(a){var n=m.select(this),f=a[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){m.select(this).call(p,l,u,r)})})}function p(r,t,a,n){var f=t.data.data,u=!t.children,l=f.i,g=s.castOption(a,l,"marker.line.color")||P.defaultLine,h=s.castOption(a,l,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(P.stroke,g).style("opacity",u?a.leaf.opacity:null)}G.exports={style:v,styleOne:p}},16716:function(G,H,e){var m=e(76308),P=e(49084),s=e(29736).axisHoverFormat,L=e(21776).Ks,S=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:m.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:m.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var a=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:s("x"),yhoverformat:s("y"),zhoverformat:s("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},S.hoverinfo),showlegend:v({},S.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},56576:function(G,H,e){var m=e(47128);G.exports=function(s,L){L.surfacecolor?m(s,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):m(s,L,{vals:L.z,containerStr:"",cLetter:"c"})}},79164:function(G,H,e){var m=e(67792).gl_surface3d,P=e(67792).ndarray,s=e(67792).ndarray_linear_interpolate.d2,L=e(70448),S=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function a(o,M,x){this.scene=o,this.uid=x,this.surface=M,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=a.prototype;n.getXat=function(o,M,x,I){var D=v(this.data.x)?v(this.data.x[0])?this.data.x[M][o]:this.data.x[o]:o;return x===void 0?D:I.d2l(D,0,x)},n.getYat=function(o,M,x,I){var D=v(this.data.y)?v(this.data.y[0])?this.data.y[M][o]:this.data.y[M]:M;return x===void 0?D:I.d2l(D,0,x)},n.getZat=function(o,M,x,I){var D=this.data.z[M][o];return D===null&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[M][o]),x===void 0?D:I.d2l(D,0,x)},n.handlePick=function(o){if(o.object===this.surface){var M=(o.data.index[0]-1)/this.dataScaleX-1,x=(o.data.index[1]-1)/this.dataScaleY-1,I=Math.max(Math.min(Math.round(M),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(x),this.data._ylength-1),0);o.index=[I,D],o.traceCoordinate=[this.getXat(I,D),this.getYat(I,D),this.getZat(I,D)],o.dataCoordinate=[this.getXat(I,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(I,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(I,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var k=o.dataCoordinate[N];k!=null&&(o.dataCoordinate[N]*=this.scene.dataScale[N])}var O=this.data.hovertext||this.data.text;return v(O)&&O[D]&&O[D][I]!==void 0?o.textLabel=O[D][I]:O?o.textLabel=O:o.textLabel="",o.data.dataCoordinate=o.dataCoordinate.slice(),this.surface.highlight(o.data),this.scene.glplot.spikes.position=o.dataCoordinate,!0}};function f(o){var M=o[0].rgb,x=o[o.length-1].rgb;return M[0]===x[0]&&M[1]===x[1]&&M[2]===x[2]&&M[3]===x[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(o,M){if(o<M)return 0;for(var x=0;Math.floor(o%M)===0;)o/=M,x++;return x}function g(o){for(var M=[],x=0;x<u.length;x++){var I=u[x];M.push(l(o,I))}return M}function h(o){for(var M=g(o),x=o,I=0;I<u.length;I++)if(M[I]>0){x=u[I];break}return x}function T(o,M){if(!(o<1||M<1)){for(var x=g(o),I=g(M),D=1,N=0;N<u.length;N++)D*=Math.pow(u[N],Math.max(x[N],I[N]));return D}}function c(o){if(o.length!==0){for(var M=1,x=0;x<o.length;x++)M=T(M,o[x]);return M}}n.calcXnums=function(o){var M,x=[];for(M=1;M<o;M++){var I=this.getXat(M-1,0),D=this.getXat(M,0);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?x[M-1]=Math.abs(D-I):x[M-1]=0}var N=0;for(M=1;M<o;M++)N+=x[M-1];for(M=1;M<o;M++)x[M-1]===0?x[M-1]=1:x[M-1]=Math.round(N/x[M-1]);return x},n.calcYnums=function(o){var M,x=[];for(M=1;M<o;M++){var I=this.getYat(0,M-1),D=this.getYat(0,M);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?x[M-1]=Math.abs(D-I):x[M-1]=0}var N=0;for(M=1;M<o;M++)N+=x[M-1];for(M=1;M<o;M++)x[M-1]===0?x[M-1]=1:x[M-1]=Math.round(N/x[M-1]);return x};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=i[9],b=i[13];n.estimateScale=function(o,M){for(var x=M===0?this.calcXnums(o):this.calcYnums(o),I=1+c(x);I<d;)I*=2;for(;I>b;)I--,I/=h(I),I++,I<d&&(I=b);var D=Math.round(I/o);return D>1?D:1};function w(o,M,x){var I=x[8]+x[2]*M[0]+x[5]*M[1];return o[0]=(x[6]+x[0]*M[0]+x[3]*M[1])/I,o[1]=(x[7]+x[1]*M[0]+x[4]*M[1])/I,o}function C(o,M,x){return y(o,M,w,x),o}function y(o,M,x,I){for(var D=[0,0],N=o.shape[0],k=o.shape[1],O=0;O<N;O++)for(var F=0;F<k;F++)x(D,[O,F],I),o.set(O,F,s(M,D[0],D[1]));return o}n.refineCoords=function(o){for(var M=this.dataScaleX,x=this.dataScaleY,I=o[0].shape[0],D=o[0].shape[1],N=Math.floor(o[0].shape[0]*M+1)|0,k=Math.floor(o[0].shape[1]*x+1)|0,O=1+I+1,F=1+D+1,z=P(new Float32Array(O*F),[O,F]),B=[1/M,0,0,0,1/x,0,0,0,1],W=0;W<o.length;++W){this.surface.padField(z,o[W]);var J=P(new Float32Array(N*k),[N,k]);C(J,z,B),o[W]=J}};function E(o,M){for(var x=!1,I=0;I<o.length;I++)if(M===o[I]){x=!0;break}x===!1&&o.push(M)}n.setContourLevels=function(){var o=[[],[],[]],M=[!1,!1,!1],x=!1,I,D,N;for(I=0;I<3;++I)if(this.showContour[I]&&(x=!0,this.contourSize[I]>0&&this.contourStart[I]!==null&&this.contourEnd[I]!==null&&this.contourEnd[I]>this.contourStart[I]))for(M[I]=!0,D=this.contourStart[I];D<this.contourEnd[I];D+=this.contourSize[I])N=D*this.scene.dataScale[I],E(o[I],N);if(x){var k=[[],[],[]];for(I=0;I<3;++I)this.showContour[I]&&(k[I]=M[I]?o[I]:this.scene.contourLevels[I]);this.surface.update({levels:k})}},n.update=function(o){var M=this.scene,x=M.fullSceneLayout,I=this.surface,D=p(o),N=M.dataScale,k=o.z[0].length,O=o._ylength,F=M.contourLevels;this.data=o;var z,B,W,J,re=[];for(z=0;z<3;z++)for(re[z]=[],B=0;B<k;B++)re[z][B]=[];for(B=0;B<k;B++)for(W=0;W<O;W++)re[0][B][W]=this.getXat(B,W,o.xcalendar,x.xaxis),re[1][B][W]=this.getYat(B,W,o.ycalendar,x.yaxis),re[2][B][W]=this.getZat(B,W,o.zcalendar,x.zaxis);if(o.connectgaps)for(o._emptypoints=S(re[2]),L(re[2],o._emptypoints),o._interpolatedZ=[],B=0;B<k;B++)for(o._interpolatedZ[B]=[],W=0;W<O;W++)o._interpolatedZ[B][W]=re[2][B][W];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)J=re[z][B][W],J==null?re[z][B][W]=NaN:J=re[z][B][W]*=N[z];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)J=re[z][B][W],J!=null&&(this.minValues[z]>J&&(this.minValues[z]=J),this.maxValues[z]<J&&(this.maxValues[z]=J));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)J=re[z][B][W],J!=null&&(re[z][B][W]-=this.objectOffset[z]);var ne=[P(new Float32Array(k*O),[k,O]),P(new Float32Array(k*O),[k,O]),P(new Float32Array(k*O),[k,O])];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)ne[z].set(B,W,re[z][B][W]);re=[];var le={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!o.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:o.opacityscale,opacity:o.opacity},$=t(o);if(le.intensityBounds=[$.min,$.max],o.surfacecolor){var Z=P(new Float32Array(k*O),[k,O]);for(B=0;B<k;B++)for(W=0;W<O;W++)Z.set(B,W,o.surfacecolor[W][B]);ne.push(Z)}else le.intensityBounds[0]*=N[2],le.intensityBounds[1]*=N[2];(b<ne[0].shape[0]||b<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),o.surfacecolor&&(le.intensity=ne.pop());var ie=[!0,!0,!0],X=["x","y","z"];for(z=0;z<3;++z){var Q=o.contours[X[z]];ie[z]=Q.highlight,le.showContour[z]=Q.show||Q.highlight,le.showContour[z]&&(le.contourProject[z]=[Q.project.x,Q.project.y,Q.project.z],Q.show?(this.showContour[z]=!0,le.levels[z]=F[z],I.highlightColor[z]=le.contourColor[z]=r(Q.color),Q.usecolormap?I.highlightTint[z]=le.contourTint[z]=0:I.highlightTint[z]=le.contourTint[z]=1,le.contourWidth[z]=Q.width,this.contourStart[z]=Q.start,this.contourEnd[z]=Q.end,this.contourSize[z]=Q.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),Q.highlight&&(le.dynamicColor[z]=r(Q.highlightcolor),le.dynamicWidth[z]=Q.highlightwidth))}f(D)&&(le.vertexColor=!0),le.objectOffset=this.objectOffset,le.coords=ne,I.update(le),I.visible=o.visible,I.enableDynamic=ie,I.enableHighlight=ie,I.snapToData=!0,"lighting"in o&&(I.ambientLight=o.lighting.ambient,I.diffuseLight=o.lighting.diffuse,I.specularLight=o.lighting.specular,I.roughness=o.lighting.roughness,I.fresnel=o.lighting.fresnel),"lightposition"in o&&(I.lightPosition=[o.lightposition.x,o.lightposition.y,o.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(o,M){var x=o.glplot.gl,I=m({gl:x}),D=new a(o,I,M.uid);return I._trace=D,D.update(M),o.glplot.add(I),D}G.exports=A},60192:function(G,H,e){var m=e(24040),P=e(3400),s=e(27260),L=e(16716),S=.1;function v(n,f){for(var u=[],l=32,g=0;g<l;g++){var h=g/(l-1),T=f+(1-f)*(1-Math.pow(Math.sin(n*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,T))])}return u}function p(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(n,f,u,l){var g,h;function T(o,M){return P.coerce(n,f,L,o,M)}var c=T("x"),i=T("y"),d=T("z");if(!d||!d.length||c&&c.length<1||i&&i.length<1){f.visible=!1;return}f._xlength=Array.isArray(c)&&P.isArrayOrTypedArray(c[0])?d.length:d[0].length,f._ylength=d.length;var b=m.getComponentMethod("calendars","handleTraceDefaults");b(n,f,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(o){T(o)});var w=T("surfacecolor"),C=["x","y","z"];for(g=0;g<3;++g){var y="contours."+C[g],E=T(y+".show"),A=T(y+".highlight");if(E||A)for(h=0;h<3;++h)T(y+".project."+C[h]);E&&(T(y+".color"),T(y+".width"),T(y+".usecolormap")),A&&(T(y+".highlightcolor"),T(y+".highlightwidth")),T(y+".start"),T(y+".end"),T(y+".size")}w||(a(n,"zmin","cmin"),a(n,"zmax","cmax"),a(n,"zauto","cauto")),s(n,f,l,T,{prefix:"",cLetter:"c"}),t(n,f,l,T),f._length=null}function t(n,f,u,l){var g=l("opacityscale");g==="max"?f.opacityscale=[[0,S],[1,1]]:g==="min"?f.opacityscale=[[0,1],[1,S]]:g==="extremes"?f.opacityscale=v(1,S):p(g)||(f.opacityscale=void 0)}function a(n,f,u){f in n&&!(u in n)&&(n[u]=n[f])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(G,H,e){G.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(G,H,e){var m=e(13916),P=e(92880).extendFlat,s=e(67824).overrideAll,L=e(25376),S=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=G.exports=s({domain:S({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},m.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},m.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(G,H,e){var m=e(84888)._M,P=e(24752),s="table";H.name=s,H.plot=function(L){var S=m(L.calcdata,s)[0];S.length&&P(L,S)},H.clean=function(L,S,v,p){var r=p._has&&p._has(s),t=S._has&&S._has(s);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(G,H,e){var m=e(71688).wrap;G.exports=function(){return m({})}},23536:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(G,H,e){var m=e(23536),P=e(92880).extendFlat,s=e(38248),L=e(38116).isTypedArray,S=e(38116).isArrayOrTypedArray;G.exports=function(g,h){var T=r(h.cells.values),c=function(J){return J.slice(h.header.values.length,J.length)},i=r(h.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var d=i.concat(c(T).map(function(){return t((i[0]||[""]).length)})),b=h.domain,w=Math.floor(g._fullLayout._size.w*(b.x[1]-b.x[0])),C=Math.floor(g._fullLayout._size.h*(b.y[1]-b.y[0])),y=h.header.values.length?d[0].map(function(){return h.header.height}):[m.emptyHeaderHeight],E=T.length?T[0].map(function(){return h.cells.height}):[],A=y.reduce(p,0),o=C-A,M=o+m.uplift,x=f(E,M),I=f(y,A),D=n(I,[]),N=n(x,D),k={},O=h._fullInput.columnorder;S(O)&&(O=Array.from(O)),O=O.concat(c(T.map(function(J,re){return re})));var F=d.map(function(J,re){var ne=S(h.columnwidth)?h.columnwidth[Math.min(re,h.columnwidth.length-1)]:h.columnwidth;return s(ne)?Number(ne):1}),z=F.reduce(p,0);F=F.map(function(J){return J/z*w});var B=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+g._context.staticPlot,translateX:b.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-b.y[1]),size:g._fullLayout._size,width:w,maxLineWidth:B,height:C,columnOrder:O,groupHeight:C,rowBlocks:N,headerRowBlocks:D,scrollY:0,cells:P({},h.cells,{values:T}),headerCells:P({},h.header,{values:d}),gdColumns:d.map(function(J){return J[0]}),gdColumnsOriginalOrder:d.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(J,re){var ne=k[J];k[J]=(ne||0)+1;var le=J+"__"+k[J];return{key:le,label:J,specIndex:re,xIndex:O[re],xScale:a,x:void 0,calcdata:void 0,columnWidth:F[re]}})};return W.columns.forEach(function(J){J.calcdata=W,J.x=a(J)}),W};function v(l){if(S(l)){for(var g=0,h=0;h<l.length;h++)g=Math.max(g,v(l[h]));return g}return l}function p(l,g){return l+g}function r(l){var g=l.slice(),h=1/0,T=0,c;for(c=0;c<g.length;c++)L(g[c])?g[c]=Array.from(g[c]):S(g[c])||(g[c]=[g[c]]),h=Math.min(h,g[c].length),T=Math.max(T,g[c].length);if(h!==T)for(c=0;c<g.length;c++){var i=T-g[c].length;i&&(g[c]=g[c].concat(t(i)))}return g}function t(l){for(var g=new Array(l),h=0;h<l;h++)g[h]="";return g}function a(l){return l.calcdata.columns.reduce(function(g,h){return h.xIndex<l.xIndex?g+h.columnWidth:g},0)}function n(l,g){var h=Object.keys(l);return h.map(function(T){return P({},l[T],{auxiliaryBlocks:g})})}function f(l,g){for(var h={},T,c=0,i=0,d=u(),b=0,w=0,C=0;C<l.length;C++)T=l[C],d.rows.push({rowIndex:C,rowHeight:T}),i+=T,(i>=g||C===l.length-1)&&(h[c]=d,d.key=w++,d.firstRowIndex=b,d.lastRowIndex=C,d=u(),c+=i,b=C+1,i=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(G,H,e){var m=e(92880).extendFlat;H.splitToPanels=function(s){var L=[0,0],S=m({},s,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:s.calcdata.headerCells.values[s.specIndex],rowBlocks:s.calcdata.headerRowBlocks,calcdata:m({},s.calcdata,{cells:s.calcdata.headerCells})}),v=m({},s,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks}),p=m({},s,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks});return[v,p,S]},H.splitToCells=function(s){var L=P(s);return(s.values||[]).slice(L[0],L[1]).map(function(S,v){var p=typeof S=="string"&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:s,calcdata:s.calcdata,page:s.page,rowBlocks:s.rowBlocks,value:S}})};function P(s){var L=s.rowBlocks[s.page],S=L?L.rows[0].rowIndex:0,v=L?S+L.rows.length:0;return[S,v]}},53212:function(G,H,e){var m=e(3400),P=e(60520),s=e(86968).Q;function L(S,v){for(var p=S.columnorder||[],r=S.header.values.length,t=p.slice(0,r),a=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return a.indexOf(u)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}G.exports=function(v,p,r,t){function a(n,f){return m.coerce(v,p,P,n,f)}s(p,t,a),a("columnwidth"),a("header.values"),a("header.format"),a("header.align"),a("header.prefix"),a("header.suffix"),a("header.height"),a("header.line.width"),a("header.line.color"),a("header.fill.color"),m.coerceFont(a,"header.font",t.font),L(p,a),a("cells.values"),a("cells.format"),a("cells.align"),a("cells.prefix"),a("cells.suffix"),a("cells.height"),a("cells.line.width"),a("cells.line.color"),a("cells.fill.color"),m.coerceFont(a,"cells.font",t.font),p._length=null}},41724:function(G,H,e){G.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(G,H,e){var m=e(23536),P=e(33428),s=e(3400),L=s.numberFormat,S=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,a=e(3400).cancelTransition,n=e(55992),f=e(53056),u=e(76308);G.exports=function(se,te){var fe=!se._context.staticPlot,ge=se._fullLayout._paper.selectAll("."+m.cn.table).data(te.map(function(Je){var Qe=S.unwrap(Je),ct=Qe.trace;return n(se,ct)}),S.keyFun);ge.exit().remove(),ge.enter().append("g").classed(m.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ge.attr("width",function(Je){return Je.width+Je.size.l+Je.size.r}).attr("height",function(Je){return Je.height+Je.size.t+Je.size.b}).attr("transform",function(Je){return t(Je.translateX,Je.translateY)});var be=ge.selectAll("."+m.cn.tableControlView).data(S.repeat,S.keyFun),xe=be.enter().append("g").classed(m.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var _e="onwheel"in document?"wheel":"mousewheel";xe.on("mousemove",function(Je){be.filter(function(Qe){return Je===Qe}).call(c,se)}).on(_e,function(Je){if(!Je.scrollbarState.wheeling){Je.scrollbarState.wheeling=!0;var Qe=Je.scrollY+P.event.deltaY,ct=J(se,be,null,Qe)(Je);ct||(P.event.stopPropagation(),P.event.preventDefault()),Je.scrollbarState.wheeling=!1}}).call(c,se,!0)}be.attr("transform",function(Je){return t(Je.size.l,Je.size.t)});var De=be.selectAll("."+m.cn.scrollBackground).data(S.repeat,S.keyFun);De.enter().append("rect").classed(m.cn.scrollBackground,!0).attr("fill","none"),De.attr("width",function(Je){return Je.width}).attr("height",function(Je){return Je.height}),be.each(function(Je){v.setClipUrl(P.select(this),g(se,Je),se)});var Fe=be.selectAll("."+m.cn.yColumn).data(function(Je){return Je.columns},S.keyFun);Fe.enter().append("g").classed(m.cn.yColumn,!0),Fe.exit().remove(),Fe.attr("transform",function(Je){return t(Je.x,0)}),fe&&Fe.call(P.behavior.drag().origin(function(Je){var Qe=P.select(this);return k(Qe,Je,-m.uplift),r(this),Je.calcdata.columnDragInProgress=!0,c(be.filter(function(ct){return Je.calcdata.key===ct.key}),se),Je}).on("drag",function(Je){var Qe=P.select(this),ct=function(Tt){return(Je===Tt?P.event.x:Tt.x)+Tt.columnWidth/2};Je.x=Math.max(-m.overdrag,Math.min(Je.calcdata.width+m.overdrag-Je.columnWidth,P.event.x));var ht=T(Fe).filter(function(Tt){return Tt.calcdata.key===Je.calcdata.key}),dt=ht.sort(function(Tt,Et){return ct(Tt)-ct(Et)});dt.forEach(function(Tt,Et){Tt.xIndex=Et,Tt.x=Je===Tt?Tt.x:Tt.xScale(Tt)}),Fe.filter(function(Tt){return Je!==Tt}).transition().ease(m.transitionEase).duration(m.transitionDuration).attr("transform",function(Tt){return t(Tt.x,0)}),Qe.call(a).attr("transform",t(Je.x,-m.uplift))}).on("dragend",function(Je){var Qe=P.select(this),ct=Je.calcdata;Je.x=Je.xScale(Je),Je.calcdata.columnDragInProgress=!1,k(Qe,Je,0),D(se,ct,ct.columns.map(function(ht){return ht.xIndex}))})),Fe.each(function(Je){v.setClipUrl(P.select(this),h(se,Je),se)});var Te=Fe.selectAll("."+m.cn.columnBlock).data(f.splitToPanels,S.keyFun);Te.enter().append("g").classed(m.cn.columnBlock,!0).attr("id",function(Je){return Je.key}),Te.style("cursor",function(Je){return Je.dragHandle?"ew-resize":Je.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Re=Te.filter(F),Se=Te.filter(O);fe&&Se.call(P.behavior.drag().origin(function(Je){return P.event.stopPropagation(),Je}).on("drag",J(se,be,-1)).on("dragend",function(){})),i(se,be,Re,Te),i(se,be,Se,Te);var ke=be.selectAll("."+m.cn.scrollAreaClip).data(S.repeat,S.keyFun);ke.enter().append("clipPath").classed(m.cn.scrollAreaClip,!0).attr("id",function(Je){return g(se,Je)});var Me=ke.selectAll("."+m.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Me.enter().append("rect").classed(m.cn.scrollAreaClipRect,!0).attr("x",-m.overdrag).attr("y",-m.uplift).attr("fill","none"),Me.attr("width",function(Je){return Je.width+2*m.overdrag}).attr("height",function(Je){return Je.height+m.uplift});var Ve=Fe.selectAll("."+m.cn.columnBoundary).data(S.repeat,S.keyFun);Ve.enter().append("g").classed(m.cn.columnBoundary,!0);var tt=Fe.selectAll("."+m.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);tt.enter().append("clipPath").classed(m.cn.columnBoundaryClippath,!0),tt.attr("id",function(Je){return h(se,Je)});var it=tt.selectAll("."+m.cn.columnBoundaryRect).data(S.repeat,S.keyFun);it.enter().append("rect").classed(m.cn.columnBoundaryRect,!0).attr("fill","none"),it.attr("width",function(Je){return Je.columnWidth+2*l(Je)}).attr("height",function(Je){return Je.calcdata.height+2*l(Je)+m.uplift}).attr("x",function(Je){return-l(Je)}).attr("y",function(Je){return-l(Je)}),W(null,Se,be)};function l(Y){return Math.ceil(Y.calcdata.maxLineWidth/2)}function g(Y,se){return"clip"+Y._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h(Y,se){return"clip"+Y._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(Y){return[].concat.apply([],Y.map(function(se){return se})).map(function(se){return se.__data__})}function c(Y,se,te){function fe(Fe){var Te=Fe.rowBlocks;return ie(Te,Te.length-1)+(Te.length?X(Te[Te.length-1],1/0):1)}var ge=Y.selectAll("."+m.cn.scrollbarKit).data(S.repeat,S.keyFun);ge.enter().append("g").classed(m.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ge.each(function(Fe){var Te=Fe.scrollbarState;Te.totalHeight=fe(Fe),Te.scrollableAreaHeight=Fe.groupHeight-z(Fe),Te.currentlyVisibleHeight=Math.min(Te.totalHeight,Te.scrollableAreaHeight),Te.ratio=Te.currentlyVisibleHeight/Te.totalHeight,Te.barLength=Math.max(Te.ratio*Te.currentlyVisibleHeight,m.goldenRatio*m.scrollbarWidth),Te.barWiggleRoom=Te.currentlyVisibleHeight-Te.barLength,Te.wiggleRoom=Math.max(0,Te.totalHeight-Te.scrollableAreaHeight),Te.topY=Te.barWiggleRoom===0?0:Fe.scrollY/Te.wiggleRoom*Te.barWiggleRoom,Te.bottomY=Te.topY+Te.barLength,Te.dragMultiplier=Te.wiggleRoom/Te.barWiggleRoom}).attr("transform",function(Fe){var Te=Fe.width+m.scrollbarWidth/2+m.scrollbarOffset;return t(Te,z(Fe))});var be=ge.selectAll("."+m.cn.scrollbar).data(S.repeat,S.keyFun);be.enter().append("g").classed(m.cn.scrollbar,!0);var xe=be.selectAll("."+m.cn.scrollbarSlider).data(S.repeat,S.keyFun);xe.enter().append("g").classed(m.cn.scrollbarSlider,!0),xe.attr("transform",function(Fe){return t(0,Fe.scrollbarState.topY||0)});var _e=xe.selectAll("."+m.cn.scrollbarGlyph).data(S.repeat,S.keyFun);_e.enter().append("line").classed(m.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",m.scrollbarWidth).attr("stroke-linecap","round").attr("y1",m.scrollbarWidth/2),_e.attr("y2",function(Fe){return Fe.scrollbarState.barLength-m.scrollbarWidth/2}).attr("stroke-opacity",function(Fe){return Fe.columnDragInProgress||!Fe.scrollbarState.barWiggleRoom||te?0:.4}),_e.transition().delay(0).duration(0),_e.transition().delay(m.scrollbarHideDelay).duration(m.scrollbarHideDuration).attr("stroke-opacity",0);var De=be.selectAll("."+m.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);De.enter().append("line").classed(m.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",m.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Fe){var Te=P.event.y,Re=this.getBoundingClientRect(),Se=Fe.scrollbarState,ke=Te-Re.top,Me=P.scale.linear().domain([0,Se.scrollableAreaHeight]).range([0,Se.totalHeight]).clamp(!0);Se.topY<=ke&&ke<=Se.bottomY||J(se,Y,null,Me(ke-Se.barLength/2))(Fe)}).call(P.behavior.drag().origin(function(Fe){return P.event.stopPropagation(),Fe.scrollbarState.scrollbarScrollInProgress=!0,Fe}).on("drag",J(se,Y)).on("dragend",function(){})),De.attr("y2",function(Fe){return Fe.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(_e.remove(),De.remove())}function i(Y,se,te,fe){var ge=d(te),be=b(ge);E(be);var xe=w(be);o(xe);var _e=y(be),De=C(_e);A(De),M(De,se,fe,Y),Z(be)}function d(Y){var se=Y.selectAll("."+m.cn.columnCells).data(S.repeat,S.keyFun);return se.enter().append("g").classed(m.cn.columnCells,!0),se.exit().remove(),se}function b(Y){var se=Y.selectAll("."+m.cn.columnCell).data(f.splitToCells,function(te){return te.keyWithinBlock});return se.enter().append("g").classed(m.cn.columnCell,!0),se.exit().remove(),se}function w(Y){var se=Y.selectAll("."+m.cn.cellRect).data(S.repeat,function(te){return te.keyWithinBlock});return se.enter().append("rect").classed(m.cn.cellRect,!0),se}function C(Y){var se=Y.selectAll("."+m.cn.cellText).data(S.repeat,function(te){return te.keyWithinBlock});return se.enter().append("text").classed(m.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function y(Y){var se=Y.selectAll("."+m.cn.cellTextHolder).data(S.repeat,function(te){return te.keyWithinBlock});return se.enter().append("g").classed(m.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function E(Y){Y.each(function(se,te){var fe=se.calcdata.cells.font,ge=se.column.specIndex,be={size:N(fe.size,ge,te),color:N(fe.color,ge,te),family:N(fe.family,ge,te),weight:N(fe.weight,ge,te),style:N(fe.style,ge,te),variant:N(fe.variant,ge,te),textcase:N(fe.textcase,ge,te),lineposition:N(fe.lineposition,ge,te),shadow:N(fe.shadow,ge,te)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,ge,te),se.cellBorderWidth=N(se.calcdata.cells.line.width,ge,te),se.font=be})}function A(Y){Y.each(function(se){v.font(P.select(this),se.font)})}function o(Y){Y.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var te=P.select(this);u.stroke(te,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(te,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function M(Y,se,te,fe){Y.text(function(ge){var be=ge.column.specIndex,xe=ge.rowNumber,_e=ge.value,De=typeof _e=="string",Fe=De&&_e.match(/<br>/i),Te=!De||Fe;ge.mayHaveMarkup=De&&_e.match(/[<&>]/);var Re=x(_e);ge.latex=Re;var Se=Re?"":N(ge.calcdata.cells.prefix,be,xe)||"",ke=Re?"":N(ge.calcdata.cells.suffix,be,xe)||"",Me=Re?null:N(ge.calcdata.cells.format,be,xe)||null,Ve=Se+(Me?L(Me)(ge.value):ge.value)+ke,tt;ge.wrappingNeeded=!ge.wrapped&&!Te&&!Re&&(tt=I(Ve)),ge.cellHeightMayIncrease=Fe||Re||ge.mayHaveMarkup||(tt===void 0?I(Ve):tt),ge.needsConvertToTspans=ge.mayHaveMarkup||ge.wrappingNeeded||ge.latex;var it;if(ge.wrappingNeeded){var Je=m.wrapSplitCharacter===" "?Ve.replace(/<a href=/ig,"<a_href="):Ve,Qe=Je.split(m.wrapSplitCharacter),ct=m.wrapSplitCharacter===" "?Qe.map(function(ht){return ht.replace(/<a_href=/ig,"<a href=")}):Qe;ge.fragments=ct.map(function(ht){return{text:ht,width:null}}),ge.fragments.push({fragment:m.wrapSpacer,width:null}),it=ct.join(m.lineBreaker)+m.lineBreaker+m.wrapSpacer}else delete ge.fragments,it=Ve;return it}).attr("dy",function(ge){return ge.needsConvertToTspans?0:"0.75em"}).each(function(ge){var be=this,xe=P.select(be),_e=ge.wrappingNeeded?ne:le;ge.needsConvertToTspans?p.convertToTspans(xe,fe,_e(te,be,se,fe,ge)):P.select(be.parentNode).attr("transform",function(De){return t($(De),m.cellPad)}).attr("text-anchor",function(De){return{left:"start",center:"middle",right:"end"}[De.align]})})}function x(Y){return typeof Y=="string"&&Y.match(m.latexCheck)}function I(Y){return Y.indexOf(m.wrapSplitCharacter)!==-1}function D(Y,se,te){var fe=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ge,be){return te[fe.indexOf(ge)]-te[fe.indexOf(be)]}),se.columnorder=te,Y.emit("plotly_restyle")}function N(Y,se,te){if(s.isArrayOrTypedArray(Y)){var fe=Y[Math.min(se,Y.length-1)];return s.isArrayOrTypedArray(fe)?fe[Math.min(te,fe.length-1)]:fe}else return Y}function k(Y,se,te){Y.transition().ease(m.releaseTransitionEase).duration(m.releaseTransitionDuration).attr("transform",t(se.x,te))}function O(Y){return Y.type==="cells"}function F(Y){return Y.type==="header"}function z(Y){var se=Y.rowBlocks.length?Y.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(te,fe){return te+X(fe,1/0)},0)}function B(Y,se,te){for(var fe=[],ge=0,be=0;be<Y.length;be++){for(var xe=Y[be],_e=xe.rows,De=0,Fe=0;Fe<_e.length;Fe++)De+=_e[Fe].rowHeight;xe.allRowsHeight=De;var Te=ge+De,Re=se,Se=Re+te;Re<Te&&Se>ge&&fe.push(be),ge+=De}return fe}function W(Y,se,te){var fe=T(se)[0];if(fe!==void 0){var ge=fe.rowBlocks,be=fe.calcdata,xe=ie(ge,ge.length),_e=fe.calcdata.groupHeight-z(fe),De=be.scrollY=Math.max(0,Math.min(xe-_e,be.scrollY)),Fe=B(ge,De,_e);Fe.length===1&&(Fe[0]===ge.length-1?Fe.unshift(Fe[0]-1):Fe.push(Fe[0]+1)),Fe[0]%2&&Fe.reverse(),se.each(function(Te,Re){Te.page=Fe[Re],Te.scrollY=De}),se.attr("transform",function(Te){var Re=ie(Te.rowBlocks,Te.page)-Te.scrollY;return t(0,Re)}),Y&&(re(Y,te,se,Fe,fe.prevPages,fe,0),re(Y,te,se,Fe,fe.prevPages,fe,1),c(te,Y))}}function J(Y,se,te,fe){return function(be){var xe=be.calcdata?be.calcdata:be,_e=se.filter(function(Re){return xe.key===Re.key}),De=te||xe.scrollbarState.dragMultiplier,Fe=xe.scrollY;xe.scrollY=fe===void 0?xe.scrollY+De*P.event.dy:fe;var Te=_e.selectAll("."+m.cn.yColumn).selectAll("."+m.cn.columnBlock).filter(O);return W(Y,Te,_e),xe.scrollY===Fe}}function re(Y,se,te,fe,ge,be,xe){var _e=fe[xe]!==ge[xe];_e&&(clearTimeout(be.currentRepaint[xe]),be.currentRepaint[xe]=setTimeout(function(){var De=te.filter(function(Fe,Te){return Te===xe&&fe[Te]!==ge[Te]});i(Y,se,De,te),ge[xe]=fe[xe]}))}function ne(Y,se,te,fe){return function(){var be=P.select(se.parentNode);be.each(function(xe){var _e=xe.fragments;be.selectAll("tspan.line").each(function(Ve,tt){_e[tt].width=this.getComputedTextLength()});var De=_e[_e.length-1].width,Fe=_e.slice(0,-1),Te=[],Re,Se,ke=0,Me=xe.column.columnWidth-2*m.cellPad;for(xe.value="";Fe.length;)Re=Fe.shift(),Se=Re.width+De,ke+Se>Me&&(xe.value+=Te.join(m.wrapSpacer)+m.lineBreaker,Te=[],ke=0),Te.push(Re.text),ke+=Se;ke&&(xe.value+=Te.join(m.wrapSpacer)),xe.wrapped=!0}),be.selectAll("tspan.line").remove(),M(be.select("."+m.cn.cellText),te,Y,fe),P.select(se.parentNode.parentNode).call(Z)}}function le(Y,se,te,fe,ge){return function(){if(!ge.settledY){var xe=P.select(se.parentNode),_e=oe(ge),De=ge.key-_e.firstRowIndex,Fe=_e.rows[De].rowHeight,Te=ge.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*m.cellPad:Fe,Re=Math.max(Te,Fe),Se=Re-_e.rows[De].rowHeight;Se&&(_e.rows[De].rowHeight=Re,Y.selectAll("."+m.cn.columnCell).call(Z),W(null,Y.filter(O),0),c(te,fe,!0)),xe.attr("transform",function(){var ke=this,Me=ke.parentNode,Ve=Me.getBoundingClientRect(),tt=P.select(ke.parentNode).select("."+m.cn.cellRect).node().getBoundingClientRect(),it=ke.transform.baseVal.consolidate(),Je=tt.top-Ve.top+(it?it.matrix.f:m.cellPad);return t($(ge,P.select(ke.parentNode).select("."+m.cn.cellTextHolder).node().getBoundingClientRect().width),Je)}),ge.settledY=!0}}}function $(Y,se){switch(Y.align){case"left":return m.cellPad;case"right":return Y.column.columnWidth-(se||0)-m.cellPad;case"center":return(Y.column.columnWidth-(se||0))/2;default:return m.cellPad}}function Z(Y){Y.attr("transform",function(se){var te=se.rowBlocks[0].auxiliaryBlocks.reduce(function(xe,_e){return xe+X(_e,1/0)},0),fe=oe(se),ge=X(fe,se.key),be=ge+te;return t(0,be)}).selectAll("."+m.cn.cellRect).attr("height",function(se){return j(oe(se),se.key).rowHeight})}function ie(Y,se){for(var te=0,fe=se-1;fe>=0;fe--)te+=Q(Y[fe]);return te}function X(Y,se){for(var te=0,fe=0;fe<Y.rows.length&&Y.rows[fe].rowIndex<se;fe++)te+=Y.rows[fe].rowHeight;return te}function Q(Y){var se=Y.allRowsHeight;if(se!==void 0)return se;for(var te=0,fe=0;fe<Y.rows.length;fe++)te+=Y.rows[fe].rowHeight;return Y.allRowsHeight=te,te}function oe(Y){return Y.rowBlocks[Y.page]}function j(Y,se){return Y.rows[se-Y.firstRowIndex]}},40516:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(49084),L=e(86968).u,S=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},S.textfont,{}),editType:"calc"},text:S.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:m({},{keys:p.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:r({},S.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:S.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(G,H,e){var m=e(7316);H.name="treemap",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},97840:function(G,H,e){var m=e(3776);H.r=function(P,s){return m.calc(P,s)},H.q=function(P){return m._runCrossTraceCalc("treemap",P)}},32984:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(G,H,e){var m=e(3400),P=e(40516),s=e(76308),L=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;G.exports=function(f,u,l,g){function h(o,M){return m.coerce(f,u,P,o,M)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var b=h("text");h("texttemplate"),u.texttemplate||h("textinfo",m.isArrayOrTypedArray(b)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),C="auto";S(f,u,g,h,C,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=u.textposition.indexOf("bottom")!==-1;p(f,u,g,h);var E=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;E?a(f,u,g,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var A=u.textfont.size*2;h("marker.pad.t",y?A/4:A),h("marker.pad.l",A/4),h("marker.pad.r",A/4),h("marker.pad.b",y?A:A/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:s.contrast(g.paper_bgcolor)}}},w&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(u,g,h),u._length=null}},95808:function(G,H,e){var m=e(33428),P=e(78176),s=e(82744),L=s.clearMinTextSize,S=e(60100).resizeText,v=e(52960);G.exports=function(r,t,a,n,f){var u=f.type,l=f.drawDescendants,g=r._fullLayout,h=g["_"+u+"layer"],T,c,i=!a;if(L(u,g),T=h.selectAll("g.trace."+u).data(t,function(b){return b[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!g.uniformtext.mode&&P.hasTransition(a)){n&&(c=n());var d=m.transition().duration(a.duration).ease(a.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(b){v(r,b,this,a,l)})})}else T.each(function(b){v(r,b,this,a,l)}),g.uniformtext.mode&&S(r,h.selectAll(".trace"),u);i&&T.exit().remove()}},27336:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(72736),S=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=!0;G.exports=function(f,u,l,g,h){var T=h.barDifY,c=h.width,i=h.height,d=h.viewX,b=h.viewY,w=h.pathSlice,C=h.toMoveInsideSlice,y=h.strTransform,E=h.hasTransition,A=h.handleSlicesExit,o=h.makeUpdateSliceInterpolator,M=h.makeUpdateTextInterpolator,x={},I=f._context.staticPlot,D=f._fullLayout,N=u[0],k=N.trace,O=N.hierarchy,F=c/k._entryDepth,z=r.listPath(l.data,"id"),B=S(O.copy(),[c,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();B=B.filter(function(J){var re=z.indexOf(J.data.id);return re===-1?!1:(J.x0=F*re,J.x1=F*(re+1),J.y0=T,J.y1=T+i,J.onPathbar=!0,!0)}),B.reverse(),g=g.data(B,r.getPtId),g.enter().append("g").classed("pathbar",!0),A(g,a,x,[c,i],w),g.order();var W=g;E&&(W=W.transition().each("end",function(){var J=m.select(this);r.setSliceCursor(J,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(J){J._x0=d(J.x0),J._x1=d(J.x1),J._y0=b(J.y0),J._y1=b(J.y1),J._hoverX=d(J.x1-Math.min(c,i)/2),J._hoverY=b(J.y1-i/2);var re=m.select(this),ne=P.ensureSingle(re,"path","surface",function(ie){ie.style("pointer-events",I?"none":"all")});E?ne.transition().attrTween("d",function(ie){var X=o(ie,a,x,[c,i]);return function(Q){return w(X(Q))}}):ne.attr("d",w),re.call(t,l,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),ne.call(v,J,k,f,{hovered:!1}),J._text=(r.getPtLabel(J)||"").split("<br>").join(" ")||"";var le=P.ensureSingle(re,"g","slicetext"),$=P.ensureSingle(le,"text","",function(ie){ie.attr("data-notex",1)}),Z=P.ensureUniformFontSize(f,r.determineTextFont(k,J,D.font,{onPathbar:!0}));$.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(s.font,Z).call(L.convertToTspans,f),J.textBB=s.bBox($.node()),J.transform=C(J,{fontSize:Z.size,onPathbar:!0}),J.transform.fontSize=Z.size,E?$.transition().attrTween("transform",function(ie){var X=M(ie,a,x,[c,i]);return function(Q){return y(X(Q))}}):$.attr("transform",y(J))})}},76477:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(72736),S=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,g,h,T){var c=T.width,i=T.height,d=T.viewX,b=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,E=T.hasTransition,A=T.handleSlicesExit,o=T.makeUpdateSliceInterpolator,M=T.makeUpdateTextInterpolator,x=T.prevEntry,I={},D=u._context.staticPlot,N=u._fullLayout,k=l[0],O=k.trace,F=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,B=O.textposition.indexOf("bottom")!==-1,W=!B&&!O.marker.pad.t||B&&!O.marker.pad.b,J=S(g,[c,i],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),re=J.descendants(),ne=1/0,le=-1/0;re.forEach(function(Q){var oe=Q.depth;oe>=O._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(ne=Math.min(ne,oe),le=Math.max(le,oe))}),h=h.data(re,r.getPtId),O._maxVisibleLayers=isFinite(le)?le-ne+1:0,h.enter().append("g").classed("slice",!0),A(h,n,I,[c,i],w),h.order();var $=null;if(E&&x){var Z=r.getPtId(x);h.each(function(Q){$===null&&r.getPtId(Q)===Z&&($={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var ie=function(){return $||{x0:0,x1:c,y0:0,y1:i}},X=h;return E&&(X=X.transition().each("end",function(){var Q=m.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(Q){var oe=r.isHeader(Q,O);Q._x0=d(Q.x0),Q._x1=d(Q.x1),Q._y0=b(Q.y0),Q._y1=b(Q.y1),Q._hoverX=d(Q.x1-O.marker.pad.r),Q._hoverY=b(B?Q.y1-O.marker.pad.b/2:Q.y0+O.marker.pad.t/2);var j=m.select(this),Y=P.ensureSingle(j,"path","surface",function(xe){xe.style("pointer-events",D?"none":"all")});E?Y.transition().attrTween("d",function(xe){var _e=o(xe,n,ie(),[c,i]);return function(De){return w(_e(De))}}):Y.attr("d",w),j.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),Y.call(v,Q,O,u,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":oe?Q._text=W?"":r.getPtLabel(Q)||"":Q._text=a(Q,g,O,l,N)||"";var se=P.ensureSingle(j,"g","slicetext"),te=P.ensureSingle(se,"text","",function(xe){xe.attr("data-notex",1)}),fe=P.ensureUniformFontSize(u,r.determineTextFont(O,Q,N.font)),ge=Q._text||" ",be=oe&&ge.indexOf("<br>")===-1;te.text(ge).classed("slicetext",!0).attr("text-anchor",z?"end":F||be?"start":"middle").call(s.font,fe).call(L.convertToTspans,u),Q.textBB=s.bBox(te.node()),Q.transform=C(Q,{fontSize:fe.size,isHeader:oe}),Q.transform.fontSize=fe.size,E?te.transition().attrTween("transform",function(xe){var _e=M(xe,n,ie(),[c,i]);return function(De){return y(_e(De))}}):te.attr("transform",y(Q))}),$}},83024:function(G){G.exports=function H(e,m,P){var s;P.swapXY&&(s=e.x0,e.x0=e.y0,e.y0=s,s=e.x1,e.x1=e.y1,e.y1=s),P.flipX&&(s=e.x0,e.x0=m[0]-e.x1,e.x1=m[0]-s),P.flipY&&(s=e.y0,e.y0=m[1]-e.y1,e.y1=m[1]-s);var L=e.children;if(L)for(var S=0;S<L.length;S++)H(L[S],m,P)}},31991:function(G,H,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(G,H,e){var m=e(3400),P=e(45392);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("treemapcolorway",S.colorway),v("extendtreemapcolors")}},13832:function(G,H,e){var m=e(74148),P=e(83024);G.exports=function(S,v,p){var r=p.flipX,t=p.flipY,a=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],f=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],g;a&&(g=f,f=n,n=g,g=u,u=l,l=g);var h=m.treemap().tile(s(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(n).paddingBottom(l).size(a?[v[1],v[0]]:v)(S);return(a||r||t)&&P(h,v,{swapXY:a,flipX:r,flipY:t}),h};function s(L,S){switch(L){case"squarify":return m.treemapSquarify.ratio(S);case"binary":return m.treemapBinary;case"dice":return m.treemapDice;case"slice":return m.treemapSlice;default:return m.treemapSliceDice}}},53264:function(G,H,e){var m=e(95808),P=e(76477);G.exports=function(L,S,v,p){return m(L,S,v,p,{type:"treemap",drawDescendants:P})}},52960:function(G,H,e){var m=e(33428),P=e(67756).qy,s=e(78176),L=e(3400),S=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,a=e(32984),n=e(27336);function f(u){return s.isHierarchyRoot(u)?"":s.getPtId(u)}G.exports=function(l,g,h,T,c){var i=l._fullLayout,d=g[0],b=d.trace,w=b.type,C=w==="icicle",y=d.hierarchy,E=s.findEntryWithLevel(y,b.level),A=m.select(h),o=A.selectAll("g.pathbar"),M=A.selectAll("g.slice");if(!E){o.remove(),M.remove();return}var x=s.isHierarchyRoot(E),I=!i.uniformtext.mode&&s.hasTransition(T),D=s.getMaxDepth(b),N=function(ze){return ze.data.depth-E.data.depth<D},k=i._size,O=b.domain,F=k.w*(O.x[1]-O.x[0]),z=k.h*(O.y[1]-O.y[0]),B=F,W=b.pathbar.thickness,J=b.marker.line.width+a.gapWithPathbar,re=b.pathbar.visible?b.pathbar.side.indexOf("bottom")>-1?z+J:-(W+J):0,ne={x0:B,x1:B,y0:re,y1:re+W},le=function(ze,Ge,je){var We=b.tiling.pad,Le=function(he){return he-We<=Ge.x0},Pe=function(he){return he+We>=Ge.x1},Ye=function(he){return he-We<=Ge.y0},Ce=function(he){return he+We>=Ge.y1};return ze.x0===Ge.x0&&ze.x1===Ge.x1&&ze.y0===Ge.y0&&ze.y1===Ge.y1?{x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1}:{x0:Le(ze.x0-We)?0:Pe(ze.x0-We)?je[0]:ze.x0,x1:Le(ze.x1+We)?0:Pe(ze.x1+We)?je[0]:ze.x1,y0:Ye(ze.y0-We)?0:Ce(ze.y0-We)?je[1]:ze.y0,y1:Ye(ze.y1+We)?0:Ce(ze.y1+We)?je[1]:ze.y1}},$=null,Z={},ie={},X=null,Q=function(ze,Ge){return Ge?Z[f(ze)]:ie[f(ze)]},oe=function(ze,Ge,je,We){if(Ge)return Z[f(y)]||ne;var Le=ie[b.level]||je;return N(ze)?le(ze,Le,We):{}};d.hasMultipleRoots&&x&&D++,b._maxDepth=D,b._backgroundColor=i.paper_bgcolor,b._entryDepth=E.data.depth,b._atRootLevel=x;var j=-F/2+k.l+k.w*(O.x[1]+O.x[0])/2,Y=-z/2+k.t+k.h*(1-(O.y[1]+O.y[0])/2),se=function(ze){return j+ze},te=function(ze){return Y+ze},fe=te(0),ge=se(0),be=function(ze){return ge+ze},xe=function(ze){return fe+ze};function _e(ze,Ge){return ze+","+Ge}var De=be(0),Fe=function(ze){ze.x=Math.max(De,ze.x)},Te=b.pathbar.edgeshape,Re=function(ze){var Ge=be(Math.max(Math.min(ze.x0,ze.x0),0)),je=be(Math.min(Math.max(ze.x1,ze.x1),B)),We=xe(ze.y0),Le=xe(ze.y1),Pe=W/2,Ye={},Ce={};Ye.x=Ge,Ce.x=je,Ye.y=Ce.y=(We+Le)/2;var he={x:Ge,y:We},me={x:je,y:We},Ne={x:je,y:Le},$e={x:Ge,y:Le};return Te===">"?(he.x-=Pe,me.x-=Pe,Ne.x-=Pe,$e.x-=Pe):Te==="/"?(Ne.x-=Pe,$e.x-=Pe,Ye.x-=Pe/2,Ce.x-=Pe/2):Te==="\\"?(he.x-=Pe,me.x-=Pe,Ye.x-=Pe/2,Ce.x-=Pe/2):Te==="<"&&(Ye.x-=Pe,Ce.x-=Pe),Fe(he),Fe($e),Fe(Ye),Fe(me),Fe(Ne),Fe(Ce),"M"+_e(he.x,he.y)+"L"+_e(me.x,me.y)+"L"+_e(Ce.x,Ce.y)+"L"+_e(Ne.x,Ne.y)+"L"+_e($e.x,$e.y)+"L"+_e(Ye.x,Ye.y)+"Z"},Se=b[C?"tiling":"marker"].pad,ke=function(ze){return b.textposition.indexOf(ze)!==-1},Me=ke("top"),Ve=ke("left"),tt=ke("right"),it=ke("bottom"),Je=function(ze){var Ge=se(ze.x0),je=se(ze.x1),We=te(ze.y0),Le=te(ze.y1),Pe=je-Ge,Ye=Le-We;if(!Pe||!Ye)return"";var Ce=b.marker.cornerradius||0,he=Math.min(Ce,Pe/2,Ye/2);he&&ze.data&&ze.data.data&&ze.data.data.label&&(Me&&(he=Math.min(he,Se.t)),Ve&&(he=Math.min(he,Se.l)),tt&&(he=Math.min(he,Se.r)),it&&(he=Math.min(he,Se.b)));var me=function(Ne,$e){return he?"a"+_e(he,he)+" 0 0 1 "+_e(Ne,$e):""};return"M"+_e(Ge,We+he)+me(he,-he)+"L"+_e(je-he,We)+me(he,he)+"L"+_e(je,Le-he)+me(-he,he)+"L"+_e(Ge+he,Le)+me(-he,-he)+"Z"},Qe=function(ze,Ge){var je=ze.x0,We=ze.x1,Le=ze.y0,Pe=ze.y1,Ye=ze.textBB,Ce=Me||Ge.isHeader&&!it,he=Ce?"start":it?"end":"middle",me=ke("right"),Ne=ke("left")||Ge.onPathbar,$e=Ne?-1:me?1:0;if(Ge.isHeader){if(je+=(C?Se:Se.l)-S,We-=(C?Se:Se.r)-S,je>=We){var ot=(je+We)/2;je=ot,We=ot}var st;it?(st=Pe-(C?Se:Se.b),Le<st&&st<Pe&&(Le=st)):(st=Le+(C?Se:Se.t),Le<st&&st<Pe&&(Pe=st))}var Wt=p(je,We,Le,Pe,Ye,{isHorizontal:!1,constrained:!0,angle:0,anchor:he,leftToRight:$e});return Wt.fontSize=Ge.fontSize,Wt.targetX=se(Wt.targetX),Wt.targetY=te(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(je!==We&&Le!==Pe&&t(b.type,Wt,i),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ct=function(ze,Ge){for(var je,We=0,Le=ze;!je&&We<D;)We++,Le=Le.parent,Le?je=Q(Le,Ge):We=D;return je||{}},ht=function(ze,Ge,je,We){var Le=Q(ze,Ge),Pe;if(Ge)Pe=ne;else{var Ye=Q(E,Ge);Ye?Pe=le(ze,Ye,We):Pe={}}return P(Le,Pe)},dt=function(ze,Ge,je,We,Le){var Pe=Q(ze,Ge),Ye;if(Pe)Ye=Pe;else if(Ge)Ye=ne;else if($)if(ze.parent){var Ce=X||je;Ce&&!Ge?Ye=le(ze,Ce,We):(Ye={},L.extendFlat(Ye,ct(ze,Ge)))}else Ye=L.extendFlat({},ze),C&&(Le.orientation==="h"?Le.flipX?Ye.x0=ze.x1:Ye.x1=0:Le.flipY?Ye.y0=ze.y1:Ye.y1=0);else Ye={};return P(Ye,{x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1})},Tt=function(ze,Ge,je,We){var Le=Q(ze,Ge),Pe={},Ye=oe(ze,Ge,je,We);L.extendFlat(Pe,{transform:Qe({x0:Ye.x0,x1:Ye.x1,y0:Ye.y0,y1:Ye.y1,textBB:ze.textBB,_text:ze._text},{isHeader:s.isHeader(ze,b)})}),Le?Pe=Le:ze.parent&&L.extendFlat(Pe,ct(ze,Ge));var Ce=ze.transform;return ze.x0!==ze.x1&&ze.y0!==ze.y1&&t(b.type,Ce,i),P(Pe,{transform:{scale:Ce.scale,rotate:Ce.rotate,textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY}})},Et=function(ze,Ge,je,We,Le){var Pe=We[0],Ye=We[1];I?ze.exit().transition().each(function(){var Ce=m.select(this),he=Ce.select("path.surface");he.transition().attrTween("d",function(Ne){var $e=ht(Ne,Ge,je,[Pe,Ye]);return function(ot){return Le($e(ot))}});var me=Ce.select("g.slicetext");me.attr("opacity",0)}).remove():ze.exit().remove()},rt=function(ze){var Ge=ze.transform;return ze.x0!==ze.x1&&ze.y0!==ze.y1&&t(b.type,Ge,i),L.getTextTransform({textX:Ge.textX,textY:Ge.textY,anchorX:Ge.anchorX,anchorY:Ge.anchorY,targetX:Ge.targetX,targetY:Ge.targetY,scale:Ge.scale,rotate:Ge.rotate})};I&&(o.each(function(ze){Z[f(ze)]={x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1},ze.transform&&(Z[f(ze)].transform={textX:ze.transform.textX,textY:ze.transform.textY,anchorX:ze.transform.anchorX,anchorY:ze.transform.anchorY,targetX:ze.transform.targetX,targetY:ze.transform.targetY,scale:ze.transform.scale,rotate:ze.transform.rotate})}),M.each(function(ze){ie[f(ze)]={x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1},ze.transform&&(ie[f(ze)].transform={textX:ze.transform.textX,textY:ze.transform.textY,anchorX:ze.transform.anchorX,anchorY:ze.transform.anchorY,targetX:ze.transform.targetX,targetY:ze.transform.targetY,scale:ze.transform.scale,rotate:ze.transform.rotate}),!$&&s.isEntry(ze)&&($=ze)})),X=c(l,g,E,M,{width:F,height:z,viewX:se,viewY:te,pathSlice:Je,toMoveInsideSlice:Qe,prevEntry:$,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:Tt,handleSlicesExit:Et,hasTransition:I,strTransform:rt}),b.pathbar.visible?n(l,g,E,o,{barDifY:re,width:B,height:W,viewX:be,viewY:xe,pathSlice:Re,toMoveInsideSlice:Qe,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:Tt,handleSlicesExit:Et,hasTransition:I,strTransform:rt}):o.remove()}},66192:function(G,H,e){var m=e(33428),P=e(76308),s=e(3400),L=e(78176),S=e(82744).resizeText,v=e(60404);function p(t){var a=t._fullLayout._treemaplayer.selectAll(".trace");S(t,a,"treemap"),a.each(function(n){var f=m.select(this),u=n[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(g){m.select(this).call(r,g,l,t,{hovered:!1})})})}function r(t,a,n,f,u){var l=(u||{}).hovered,g=a.data.data,h=g.i,T,c,i=g.color,d=L.isHierarchyRoot(a),b=1;if(l)T=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&i===n.root.color)b=100,T="rgba(0,0,0,0)",c=0;else if(T=s.castOption(n,h,"marker.line.color")||P.defaultLine,c=s.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!a.onPathbar){var w=n.marker.depthfade;if(w){var C=P.combine(P.addOpacity(n._backgroundColor,.75),i),y;if(w===!0){var E=L.getMaxDepth(n);isFinite(E)?L.isLeaf(a)?y=0:y=n._maxVisibleLayers-(a.data.depth-n._entryDepth):y=a.data.height+1}else y=a.data.depth-n._entryDepth,n._atRootLevel||y++;if(y>0)for(var A=0;A<y;A++){var o=.5*A/y;i=P.combine(P.addOpacity(C,o),i)}}}t.call(v,a,n,f,i).style("stroke-width",c).call(P.stroke,T).style("opacity",b)}G.exports={style:p,styleOne:r}},13988:function(G,H,e){var m=e(63188),P=e(92880).extendFlat,s=e(29736).axisHoverFormat;G.exports={y:m.y,x:m.x,x0:m.x0,y0:m.y0,xhoverformat:s("x"),yhoverformat:s("y"),name:P({},m.name,{}),orientation:P({},m.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:m.fillcolor,points:P({},m.boxpoints,{}),jitter:P({},m.jitter,{}),pointpos:P({},m.pointpos,{}),width:P({},m.width,{}),marker:m.marker,text:m.text,hovertext:m.hovertext,hovertemplate:m.hovertemplate,quartilemethod:m.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:m.selected,unselected:m.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:m.zorder}},67064:function(G,H,e){var m=e(3400),P=e(54460),s=e(62555),L=e(63800),S=e(39032).BADNUM;G.exports=function(a,n){var f=s(a,n);if(f[0].t.empty)return f;for(var u=a._fullLayout,l=P.getFromId(a,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,h=-1/0,T=0,c=0,i=0;i<f.length;i++){var d=f[i],b=d.pts.map(L.extractVal),w=d.bandwidth=p(n,d,b),C=d.span=r(n,d,l,w);if(d.min===d.max&&w===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=w,T=Math.max(T,1);else{var y=C[1]-C[0],E=Math.ceil(y/(w/3)),A=y/E;if(!isFinite(A)||!isFinite(E))return m.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var o=L.makeKDE(d,n,b);d.density=new Array(E);for(var M=0,x=C[0];x<C[1]+A/2;M++,x+=A){var I=o(x);d.density[M]={v:I,t:x},T=Math.max(T,I)}}c=Math.max(c,b.length),g=Math.min(g,C[0]),h=Math.max(h,C[1])}var D=P.findExtremes(l,[g,h],{padded:!0});if(n._extremes[l._id]=D,n.width)f[0].t.maxKDE=T;else{var N=u._violinScaleGroupStats,k=n.scalegroup,O=N[k];O?(O.maxKDE=Math.max(O.maxKDE,T),O.maxCount=Math.max(O.maxCount,c)):N[k]={maxKDE:T,maxCount:c}}return f[0].t.labels.kde=m._(a,"kde:"),f};function v(t,a,n){var f=Math.min(a,n/1.349);return 1.059*f*Math.pow(t,-.2)}function p(t,a,n){var f=a.max-a.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=n.length,l=m.stdev(n,u-1,a.mean);return Math.max(v(u,l,a.q3-a.q1),f/100)}function r(t,a,n,f){var u=t.spanmode,l=t.span||[],g=[a.min,a.max],h=[a.min-2*f,a.max+2*f],T;function c(d){var b=l[d],w=n.type==="multicategory"?n.r2c(b):n.d2c(b,0,t[a.valLetter+"calendar"]);return w===S?h[d]:w}u==="soft"?T=h:u==="hard"?T=g:T=[c(0),c(1)];var i={type:"linear",range:T};return P.setConvert(i),i.cleanRange(),T}},14348:function(G,H,e){var m=e(96404).setPositionOffset,P=["v","h"];G.exports=function(L,S){for(var v=L.calcdata,p=S.xaxis,r=S.yaxis,t=0;t<P.length;t++){for(var a=P[t],n=a==="h"?r:p,f=[],u=0;u<v.length;u++){var l=v[u],g=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!g.empty&&h.orientation===a&&h.xaxis===p._id&&h.yaxis===r._id&&f.push(u)}m("violin",L,f,n)}}},36240:function(G,H,e){var m=e(3400),P=e(76308),s=e(90624),L=e(13988);G.exports=function(v,p,r,t){function a(A,o){return m.coerce(v,p,L,A,o)}function n(A,o){return m.coerce2(v,p,L,A,o)}if(s.handleSampleDefaults(v,p,a,t),p.visible!==!1){a("bandwidth"),a("side");var f=a("width");f||(a("scalegroup",p.name),a("scalemode"));var u=a("span"),l;Array.isArray(u)&&(l="manual"),a("spanmode",l);var g=a("line.color",(v.marker||{}).color||r),h=a("line.width"),T=a("fillcolor",P.addOpacity(p.line.color,.5));s.handlePointsDefaults(v,p,a,{prefix:""});var c=n("box.width"),i=n("box.fillcolor",T),d=n("box.line.color",g),b=n("box.line.width",h),w=a("box.visible",!!(c||i||d||b));w||(p.box={visible:!1});var C=n("meanline.color",g),y=n("meanline.width",h),E=a("meanline.visible",!!(C||y));E||(p.meanline={visible:!1}),a("quartilemethod"),a("zorder")}}},63800:function(G,H,e){var m=e(3400),P={gaussian:function(s){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*s*s)}};H.makeKDE=function(s,L,S){var v=S.length,p=P.gaussian,r=s.bandwidth,t=1/(v*r);return function(a){for(var n=0,f=0;f<v;f++)n+=p((a-S[f])/r);return t*n}},H.getPositionOnKdePath=function(s,L,S){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=m.findPointOnPath(s.path,S,p,{pathLength:s.pathLength}),t=s.posCenterPx,a=r[v],n=L.side==="both"?2*t-a:t;return[a,n]},H.getKdeValue=function(s,L,S){var v=s.pts.map(H.extractVal),p=H.makeKDE(s,L,v);return p(S)/s.posDensityScale},H.extractVal=function(s){return s.v}},78e3:function(G,H,e){var m=e(76308),P=e(3400),s=e(54460),L=e(27576),S=e(63800);G.exports=function(p,r,t,a,n){n||(n={});var f=n.hoverLayer,u=p.cd,l=u[0].trace,g=l.hoveron,h=g.indexOf("violins")!==-1,T=g.indexOf("kde")!==-1,c=[],i,d;if(h||T){var b=L.hoverOnBoxes(p,r,t,a);if(T&&b.length>0){var w=p.xa,C=p.ya,y,E,A,o,M;l.orientation==="h"?(M=r,y="y",A=C,E="x",o=w):(M=t,y="x",A=w,E="y",o=C);var x=u[p.index];if(M>=x.span[0]&&M<=x.span[1]){var I=P.extendFlat({},p),D=o.c2p(M,!0),N=S.getKdeValue(x,l,M),k=S.getPositionOnKdePath(x,l,D),O=A._offset,F=A._length;I[y+"0"]=k[0],I[y+"1"]=k[1],I[E+"0"]=I[E+"1"]=D,I[E+"Label"]=E+": "+s.hoverLabelText(o,M,l[E+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var z=0,B=0;B<b.length;B++)if(b[B].attr==="med"){z=B;break}I.spikeDistance=b[z].spikeDistance;var W=y+"Spike";I[W]=b[z][W],b[z].spikeDistance=void 0,b[z][W]=void 0,I.hovertemplate=!1,c.push(I),d={},d[y+"1"]=P.constrain(O+k[0],O,O+F),d[y+"2"]=P.constrain(O+k[1],O,O+F),d[E+"1"]=d[E+"2"]=o._offset+D}}h&&(c=c.concat(b))}g.indexOf("points")!==-1&&(i=L.hoverOnPoints(p,r,t));var J=f.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return J.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(d).call(m.stroke,p.color),a==="closest"?i?[i]:c:(i&&c.push(i),c)}},22869:function(G,H,e){G.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(G,H,e){var m=e(16560),P=e(3400).extendFlat;G.exports={violinmode:P({},m.boxmode,{}),violingap:P({},m.boxgap,{}),violingroupgap:P({},m.boxgroupgap,{})}},8939:function(G,H,e){var m=e(3400),P=e(98228),s=e(68832);G.exports=function(S,v,p){function r(t,a){return m.coerce(S,v,P,t,a)}s._supply(S,v,p,r,"violin")}},5140:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(18728),S=e(52340),v=e(63800);G.exports=function(r,t,a,n){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,g=t.yaxis;function h(T,c){var i=S(T,{xaxis:l,yaxis:g,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return s.smoothopen(i[0],1)}P.makeTraceGroups(n,a,"trace violins").each(function(T){var c=m.select(this),i=T[0],d=i.t,b=i.trace;if(b.visible!==!0||d.empty){c.remove();return}var w=d.bPos,C=d.bdPos,y=t[d.valLetter+"axis"],E=t[d.posLetter+"axis"],A=b.side==="both",o=A||b.side==="positive",M=A||b.side==="negative",x=c.selectAll("path.violin").data(P.identity);x.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),x.exit().remove(),x.each(function(B){var W=m.select(this),J=B.density,re=J.length,ne=E.c2l(B.pos+w,!0),le=E.l2p(ne),$;if(b.width)$=d.maxKDE/C;else{var Z=u._violinScaleGroupStats[b.scalegroup];$=b.scalemode==="count"?Z.maxKDE/C*(Z.maxCount/B.pts.length):Z.maxKDE/C}var ie,X,Q,oe,j,Y,se;if(o){for(Y=new Array(re),oe=0;oe<re;oe++)se=Y[oe]={},se[d.posLetter]=ne+J[oe].v/$,se[d.valLetter]=y.c2l(J[oe].t,!0);ie=h(Y,b)}if(M){for(Y=new Array(re),j=0,oe=re-1;j<re;j++,oe--)se=Y[j]={},se[d.posLetter]=ne-J[oe].v/$,se[d.valLetter]=y.c2l(J[oe].t,!0);X=h(Y,b)}if(A)Q=ie+"L"+X.substr(1)+"Z";else{var te=[le,y.c2p(J[0].t)],fe=[le,y.c2p(J[re-1].t)];b.orientation==="h"&&(te.reverse(),fe.reverse()),o?Q="M"+te+"L"+ie.substr(1)+"L"+fe:Q="M"+fe+"L"+X.substr(1)+"L"+te}W.attr("d",Q),B.posCenterPx=le,B.posDensityScale=$*C,B.path=W.node(),B.pathLength=B.path.getTotalLength()/(A?2:1)});var I=b.box,D=I.width,N=(I.line||{}).width,k,O;A?(k=C*D,O=0):o?(k=[0,C*D/2],O=N*{x:1,y:-1}[d.posLetter]):(k=[C*D/2,0],O=N*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(c,{pos:E,val:y},b,{bPos:w,bdPos:k,bPosPxOffset:O}),L.plotBoxMean(c,{pos:E,val:y},b,{bPos:w,bdPos:k,bPosPxOffset:O});var F;!b.box.visible&&b.meanline.visible&&(F=P.identity);var z=c.selectAll("path.meanline").data(F||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(B){var W=y.c2p(B.mean,!0),J=v.getPositionOnKdePath(B,b,W);m.select(this).attr("d",b.orientation==="h"?"M"+W+","+J[0]+"V"+J[1]:"M"+J[0]+","+W+"H"+J[1])}),L.plotPoints(c,{x:l,y:g},b,d)})}},95908:function(G,H,e){var m=e(33428),P=e(76308),s=e(49224).stylePoints;G.exports=function(S){var v=m.select(S).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=m.select(this),a=r.box||{},n=a.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,a.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(P.stroke,f.color),t.selectAll("path.meanline").style(l).call(P.stroke,f.color),s(t,r,S)})}},58168:function(G,H,e){var m=e(49084),P=e(50048),s=e(16716),L=e(45464),S=e(92880).extendFlat,v=e(67824).overrideAll,p=G.exports=v(S({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},m("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:s.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:S({},L.hoverinfo),showlegend:S({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(G,H,e){var m=e(67792).gl_mesh3d,P=e(33040).parseColorScale,s=e(3400).isArrayOrTypedArray,L=e(43080),S=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var a=t.prototype;a.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],g=this.data._meshY[u],h=this.data._meshZ[u],T=this.data._Ys.length,c=this.data._Zs.length,i=p(l,this.data._Xs).id,d=p(g,this.data._Ys).id,b=p(h,this.data._Zs).id,w=f.index=b+c*d+c*T*i;f.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var C=this.data.hovertext||this.data.text;return s(C)&&C[w]!==void 0?f.textLabel=C[w]:C&&(f.textLabel=C),!0}},a.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function g(d,b,w,C){return b.map(function(y){return d.d2l(y,0,C)*w})}var h=v(g(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),g(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),g(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),T=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:T,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:L(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},i=S(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[i.min,i.max],c.colormap=P(f),this.mesh.update(c)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,u){var l=f.glplot.gl,g=m({gl:l}),h=new t(f,g,u.uid);return g._trace=h,h.update(u),f.glplot.add(g),h}G.exports=n},12448:function(G,H,e){var m=e(3400),P=e(58168),s=e(70548).supplyIsoDefaults,L=e(60192).opacityscaleDefaults;G.exports=function(v,p,r,t){function a(n,f){return m.coerce(v,p,P,n,f)}s(v,p,r,t,a),L(v,p,t,a)}},67776:function(G,H,e){G.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(G,H,e){var m=e(20832),P=e(52904).line,s=e(45464),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function a(n){return{marker:{color:r({},m.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},m.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},m.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:m.hovertext,hovertemplate:S({},{keys:p.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:m.text,textposition:m.textposition,insidetextanchor:m.insidetextanchor,textangle:m.textangle,textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:m.outsidetextfont,constraintext:m.constraintext,cliponaxis:m.cliponaxis,orientation:m.orientation,offset:m.offset,width:m.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,zorder:m.zorder}},73540:function(G,H,e){var m=e(54460),P=e(1220),s=e(3400).mergeArray,L=e(4500),S=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,a){var n=m.getFromId(t,a.xaxis||"x"),f=m.getFromId(t,a.yaxis||"y"),u,l,g,h,T,c;a.orientation==="h"?(u=n.makeCalcdata(a,"x"),g=f.makeCalcdata(a,"y"),h=P(a,f,"y",g),T=!!a.yperiodalignment,c="y"):(u=f.makeCalcdata(a,"y"),g=n.makeCalcdata(a,"x"),h=P(a,n,"x",g),T=!!a.xperiodalignment,c="x"),l=h.vals;for(var i=Math.min(l.length,u.length),d=new Array(i),b=0,w,C=!1,y=0;y<i;y++){var E=u[y]||0,A=!1;(u[y]!==S||p(a.measure[y])||v(a.measure[y]))&&y+1<i&&(u[y+1]!==S||p(a.measure[y+1])||v(a.measure[y+1]))&&(A=!0);var o=d[y]={i:y,p:l[y],s:E,rawS:E,cNext:A};v(a.measure[y])?(b=o.s,o.isSum=!0,o.dir="totals",o.s=b):p(a.measure[y])?(o.isSum=!0,o.dir="totals",o.s=b):(o.isSum=!1,o.dir=o.rawS<0?"decreasing":"increasing",w=o.s,o.s=b+w,b+=w),o.dir==="totals"&&(C=!0),T&&(d[y].orig_p=g[y],d[y][c+"End"]=h.ends[y],d[y][c+"Start"]=h.starts[y]),a.ids&&(o.id=String(a.ids[y])),o.v=(a.base||0)+b}return d.length&&(d[0].hasTotals=C),s(a.text,d,"tx"),s(a.hovertext,d,"htx"),L(d,a),d}},10213:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},50152:function(G,H,e){var m=e(96376).setGroupPositions;G.exports=function(s,L){var S=s._fullLayout,v=s._fullData,p=s.calcdata,r=L.xaxis,t=L.yaxis,a=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var g=v[l];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(u=p[l],g.orientation==="h"?f.push(u):n.push(u),a.push(u))}var h={mode:S.waterfallmode,norm:S.waterfallnorm,gap:S.waterfallgap,groupgap:S.waterfallgroupgap};for(m(s,r,t,n,h),m(s,t,r,f,h),l=0;l<a.length;l++){u=a[l];for(var T=0;T<u.length;T++){var c=u[T];c.isSum===!1&&(c.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},24224:function(G,H,e){var m=e(3400),P=e(20011),s=e(31508).handleText,L=e(43980),S=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,a=r.DECREASING.COLOR,n="#4499FF";function f(g,h,T){g(h+".marker.color",T),g(h+".marker.line.color",p.defaultLine),g(h+".marker.line.width")}function u(g,h,T,c){function i(y,E){return m.coerce(g,h,v,y,E)}var d=L(g,h,c,i);if(!d){h.visible=!1;return}S(g,h,c,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var b=i("textposition");s(g,h,c,i,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(i("texttemplate"),h.texttemplate||i("textinfo")),f(i,"increasing",t),f(i,"decreasing",a),f(i,"totals",n);var w=i("connector.visible");if(w){i("connector.mode");var C=i("connector.line.width");C&&(i("connector.line.color"),i("connector.line.dash"))}i("zorder")}function l(g,h){var T,c;function i(b){return m.coerce(c._input,c,v,b)}if(h.waterfallmode==="group")for(var d=0;d<g.length;d++)c=g[d],T=c._input,P(T,c,h,i)}G.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(G){G.exports=function(e,m){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"initial"in m&&(e.initial=m.initial),"delta"in m&&(e.delta=m.delta),"final"in m&&(e.final=m.final),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},94196:function(G,H,e){var m=e(54460).hoverLabelText,P=e(76308).opacity,s=e(63400).hoverOnBars,L=e(48164),S={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};G.exports=function(r,t,a,n,f){var u=s(r,t,a,n,f);if(!u)return;var l=u.cd,g=l[0].trace,h=g.orientation==="h",T=h?"x":"y",c=h?r.xa:r.ya;function i(x){return m(c,x,g[T+"hoverformat"])}var d=u.index,b=l[d],w=b.isSum?b.b+b.s:b.rawS;u.initial=b.b+b.s-w,u.delta=w,u.final=u.initial+u.delta;var C=i(Math.abs(u.delta));u.deltaLabel=w<0?"("+C+")":C,u.finalLabel=i(u.final),u.initialLabel=i(u.initial);var y=b.hi||g.hoverinfo,E=[];if(y&&y!=="none"&&y!=="skip"){var A=y==="all",o=y.split("+"),M=function(x){return A||o.indexOf(x)!==-1};b.isSum||(M("final")&&(h?!M("x"):!M("y"))&&E.push(u.finalLabel),M("delta")&&(w<0?E.push(u.deltaLabel+" "+S.decreasing):E.push(u.deltaLabel+" "+S.increasing)),M("initial")&&E.push("Initial: "+u.initialLabel))}return E.length&&(u.extraText=E.join("<br>")),u.color=v(g,b),[u]};function v(p,r){var t=p[r.dir].marker,a=t.color,n=t.line.color,f=t.line.width;if(P(a))return a;if(P(n)&&f)return n}},95952:function(G,H,e){G.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(G,H,e){var m=e(3400),P=e(91352);G.exports=function(s,L,S){var v=!1;function p(a,n){return m.coerce(s,L,P,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(a,n,f,u){var l=a._fullLayout;v("waterfall",l),S.plot(a,n,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(a,n,f,u)};function p(t,a,n,f){var u=a.xaxis,l=a.yaxis;P.makeTraceGroups(f,n,"trace bars").each(function(g){var h=m.select(this),T=g[0].trace,c=P.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){c.remove();return}var i=T.orientation==="h",d=T.connector.mode,b=c.selectAll("g.line").data(P.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var w=b.size();b.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var E=r(C,u,l,i),A=E[0],o=E[1],M="";A[0]!==L&&o[0]!==L&&A[1]!==L&&o[1]!==L&&(d==="spanning"&&!C.isSum&&y>0&&(i?M+="M"+A[0]+","+o[1]+"V"+o[0]:M+="M"+A[1]+","+o[0]+"H"+A[0]),d!=="between"&&(C.isSum||y<w-1)&&(i?M+="M"+A[1]+","+o[0]+"V"+o[1]:M+="M"+A[0]+","+o[1]+"H"+A[1]),A[2]!==L&&o[2]!==L&&(i?M+="M"+A[1]+","+o[1]+"V"+o[2]:M+="M"+A[1]+","+o[1]+"H"+A[2])),M===""&&(M="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",M).call(s.setClipUrl,a.layerClipId,t)}})})}function r(t,a,n,f){var u=[],l=[],g=f?a:n,h=f?n:a;return u[0]=g.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),u[1]=g.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),u[2]=g.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308),L=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,p=S.styleTextPoints;function r(t,a,n){var f=n||m.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=m.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=g[h.dir].marker;m.select(this).call(s.fill,T.color).call(s.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(l,g,t),l.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(m.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},84224:function(G,H,e){var m=e(54460),P=e(3400),s=e(73060),L=e(60468).W,S=e(39032).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;H.supplyDefaults=function(u,l){var g={},h;function T(x,I){return P.coerce(u,g,v,x,I)}var c=T("enabled");if(!c)return g;var i=s.findArrayAttributes(l),d={};for(h=0;h<i.length;h++)d[i[h]]=1;var b=T("groups");if(!Array.isArray(b)){if(!d[b])return g.enabled=!1,g;d[b]=0}var w=u.aggregations||[],C=g.aggregations=new Array(w.length),y;function E(x,I){return P.coerce(w[h],y,p,x,I)}for(h=0;h<w.length;h++){y={_index:h};var A=E("target"),o=E("func"),M=E("enabled");M&&A&&(d[A]||o==="count"&&d[A]===void 0)?(o==="stddev"&&E("funcmode"),d[A]=0,C[h]=y):C[h]={enabled:!1,_index:h}}for(h=0;h<i.length;h++)d[i[h]]&&C.push({target:i[h],func:p.func.dflt,enabled:!0,_index:-1});return g},H.calcTransform=function(u,l,g){if(g.enabled){var h=g.groups,T=P.getTargetArray(l,{target:h});if(T){var c,i,d,b,w={},C={},y=[],E=L(l.transforms,g),A=T.length;for(l._length&&(A=Math.min(A,l._length)),c=0;c<A;c++)i=T[c],d=w[i],d===void 0?(w[i]=y.length,b=[c],y.push(b),C[w[i]]=E(c)):(y[d].push(c),C[w[i]]=(C[w[i]]||[]).concat(E(c)));g._indexToPoints=C;var o=g.aggregations;for(c=0;c<o.length;c++)r(u,l,y,o[c]);typeof h=="string"&&r(u,l,y,{target:h,func:"first",enabled:!0}),l._length=y.length}}};function r(u,l,g,h){if(h.enabled){for(var T=h.target,c=P.nestedProperty(l,T),i=c.get(),d=m.getDataConversions(u,l,T,i),b=t(h,d),w=new Array(g.length),C=0;C<g.length;C++)w[C]=b(i,g[C]);c.set(w),h.func==="count"&&P.pushUnique(l._arrayAttrs,T)}}function t(u,l){var g=u.func,h=l.d2c,T=l.c2d;switch(g){case"count":return a;case"first":return n;case"last":return f;case"sum":return function(c,i){for(var d=0,b=0;b<i.length;b++){var w=h(c[i[b]]);w!==S&&(d+=w)}return T(d)};case"avg":return function(c,i){for(var d=0,b=0,w=0;w<i.length;w++){var C=h(c[i[w]]);C!==S&&(d+=C,b++)}return b?T(d/b):S};case"min":return function(c,i){for(var d=1/0,b=0;b<i.length;b++){var w=h(c[i[b]]);w!==S&&(d=Math.min(d,w))}return d===1/0?S:T(d)};case"max":return function(c,i){for(var d=-1/0,b=0;b<i.length;b++){var w=h(c[i[b]]);w!==S&&(d=Math.max(d,w))}return d===-1/0?S:T(d)};case"range":return function(c,i){for(var d=1/0,b=-1/0,w=0;w<i.length;w++){var C=h(c[i[w]]);C!==S&&(d=Math.min(d,C),b=Math.max(b,C))}return b===-1/0||d===1/0?S:T(b-d)};case"change":return function(c,i){var d=h(c[i[0]]),b=h(c[i[i.length-1]]);return d===S||b===S?S:T(b-d)};case"median":return function(c,i){for(var d=[],b=0;b<i.length;b++){var w=h(c[i[b]]);w!==S&&d.push(w)}if(!d.length)return S;d.sort(P.sorterAsc);var C=(d.length-1)/2;return T((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,i){for(var d={},b=0,w=S,C=0;C<i.length;C++){var y=h(c[i[C]]);if(y!==S){var E=d[y]=(d[y]||0)+1;E>b&&(b=E,w=y)}}return b?T(w):S};case"rms":return function(c,i){for(var d=0,b=0,w=0;w<i.length;w++){var C=h(c[i[w]]);C!==S&&(d+=C*C,b++)}return b?T(Math.sqrt(d/b)):S};case"stddev":return function(c,i){var d=0,b=0,w=1,C=S,y;for(y=0;y<i.length&&C===S;y++)C=h(c[i[y]]);if(C===S)return S;for(;y<i.length;y++){var E=h(c[i[y]]);if(E!==S){var A=E-C;d+=A,b+=A*A,w++}}var o=u.funcmode==="sample"?w-1:w;return o?Math.sqrt((b-d*d/w)/o):0}}}function a(u,l){return l.length}function n(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(G,H,e){var m=e(3400),P=e(24040),s=e(54460),L=e(60468).W,S=e(69104),v=S.COMPARISON_OPS,p=S.INTERVAL_OPS,r=S.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(a){var n={};function f(h,T){return m.coerce(a,n,H.attributes,h,T)}var u=f("enabled");if(u){var l=f("target");if(m.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var g=P.getComponentMethod("calendars","handleDefaults");g(a,n,"valuecalendar",null),g(a,n,"targetcalendar",null)}return n},H.calcTransform=function(a,n,f){if(!f.enabled)return;var u=m.getTargetArray(n,f);if(!u)return;var l=f.target,g=u.length;n._length&&(g=Math.min(g,n._length));var h=f.targetcalendar,T=n._arrayAttrs,c=f.preservegaps;if(typeof l=="string"){var i=m.nestedProperty(n,l+"calendar").get();i&&(h=i)}var d=s.getDataToCoordFunc(a,n,l,u),b=t(f,d,h),w={},C={},y=0;function E(D,N){for(var k=0;k<T.length;k++){var O=m.nestedProperty(n,T[k]);D(O,N)}}var A,o;c?(A=function(D){w[D.astr]=m.extendDeep([],D.get()),D.set(new Array(g))},o=function(D,N){var k=w[D.astr][N];D.get()[N]=k}):(A=function(D){w[D.astr]=m.extendDeep([],D.get()),D.set([])},o=function(D,N){var k=w[D.astr][N];D.get().push(k)}),E(A);for(var M=L(n.transforms,f),x=0;x<g;x++){var I=b(u[x]);I?(E(o,x),C[y++]=M(x)):c&&y++}f._indexToPoints=C,n._length=y};function t(a,n,f){var u=a.operation,l=a.value,g=m.isArrayOrTypedArray(l);function h(d){return d.indexOf(u)!==-1}var T=function(d){return n(d,0,a.valuecalendar)},c=function(d){return n(d,0,f)},i;switch(h(v)?i=T(g?l[0]:l):h(p)?i=g?[T(l[0]),T(l[1])]:[T(l),T(l)]:h(r)&&(i=g?l.map(T):[T(l)]),u){case"=":return function(d){return c(d)===i};case"!=":return function(d){return c(d)!==i};case"<":return function(d){return c(d)<i};case"<=":return function(d){return c(d)<=i};case">":return function(d){return c(d)>i};case">=":return function(d){return c(d)>=i};case"[]":return function(d){var b=c(d);return b>=i[0]&&b<=i[1]};case"()":return function(d){var b=c(d);return b>i[0]&&b<i[1]};case"[)":return function(d){var b=c(d);return b>=i[0]&&b<i[1]};case"(]":return function(d){var b=c(d);return b>i[0]&&b<=i[1]};case"][":return function(d){var b=c(d);return b<=i[0]||b>=i[1]};case")(":return function(d){var b=c(d);return b<i[0]||b>i[1]};case"](":return function(d){var b=c(d);return b<=i[0]||b>i[1]};case")[":return function(d){var b=c(d);return b<i[0]||b>=i[1]};case"{}":return function(d){return i.indexOf(c(d))!==-1};case"}{":return function(d){return i.indexOf(c(d))===-1}}}},32028:function(G,H,e){var m=e(3400),P=e(73060),s=e(7316),L=e(60468).W;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,p,r){var t,a={};function n(T,c){return m.coerce(v,a,H.attributes,T,c)}var f=n("enabled");if(!f)return a;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=a.styles=[];if(u)for(t=0;t<u.length;t++){var g=l[t]={};m.coerce(u[t],l[t],H.attributes.styles,"target");var h=m.coerce(u[t],l[t],H.attributes.styles,"value");m.isPlainObject(h)?g.value=m.extendDeep({},h):h&&delete g.value}return a},H.transform=function(v,p){var r,t,a,n=[];for(t=0;t<v.length;t++)for(r=S(v[t],p),a=0;a<r.length;a++)n.push(r[a]);return n};function S(v,p){var r,t,a,n,f,u,l,g,h,T,c=p.transform,i=p.transformIndex,d=v.transforms[i].groups,b=L(v.transforms,c);if(!m.isArrayOrTypedArray(d)||d.length===0)return[v];var w=m.filterUnique(d),C=new Array(w.length),y=d.length,E=P.findArrayAttributes(v),A=c.styles||[],o={};for(r=0;r<A.length;r++)o[A[r].target]=A[r].value;c.styles&&(T=m.keyedContainer(c,"styles","target","value.name"));var M={},x={};for(r=0;r<w.length;r++){u=w[r],M[u]=r,x[u]=0,l=C[r]=m.extendDeepNoArrays({},v),l._group=u,l.transforms[i]._indexToPoints={};var I=null;for(T&&(I=T.get(u)),I||I===""?l.name=I:l.name=m.templateString(c.nameformat,{trace:v.name,group:u}),g=l.transforms,l.transforms=[],t=0;t<g.length;t++)l.transforms[t]=m.extendDeepNoArrays({},g[t]);for(t=0;t<E.length;t++)m.nestedProperty(l,E[t]).set([])}for(a=0;a<E.length;a++){for(n=E[a],t=0,h=[];t<w.length;t++)h[t]=m.nestedProperty(C[t],n).get();for(f=m.nestedProperty(v,n).get(),t=0;t<y;t++)h[M[d[t]]].push(f[t])}for(t=0;t<y;t++){l=C[M[d[t]]];var D=l.transforms[i]._indexToPoints;D[x[d[t]]]=b(t),x[d[t]]++}for(r=0;r<w.length;r++)u=w[r],l=C[r],s.clearExpandedTraceDefaultColors(l),l=m.extendDeepNoArrays(l,o[u]||{});return C}},60468:function(G,H){H.W=function(e,m){for(var P,s,L=0;L<e.length&&(P=e[L],P!==m);L++)!P._indexToPoints||P.enabled===!1||(s=P._indexToPoints);var S=s?function(v){return s[v]}:function(v){return[v]};return S}},76272:function(G,H,e){var m=e(3400),P=e(54460),s=e(60468).W,L=e(39032).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(p){var r={};function t(n,f){return m.coerce(p,r,H.attributes,n,f)}var a=t("enabled");return a&&(t("target"),t("order")),r},H.calcTransform=function(p,r,t){if(t.enabled){var a=m.getTargetArray(r,t);if(a){var n=t.target,f=a.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,n,a),g=S(t,a,l,f),h=s(r.transforms,t),T={},c,i;for(c=0;c<u.length;c++){var d=m.nestedProperty(r,u[c]),b=d.get(),w=new Array(f);for(i=0;i<f;i++)w[i]=b[g[i]];d.set(w)}for(i=0;i<f;i++)T[i]=h(g[i]);t._indexToPoints=T,r._length=f}}};function S(p,r,t,a){var n=new Array(a),f=new Array(a),u;for(u=0;u<a;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<a;u++)f[u]=n[u].i;return f}function v(p,r){switch(p.order){case"ascending":return function(t,a){var n=r(t.v),f=r(a.v);return n===L?1:f===L?-1:n-f};case"descending":return function(t,a){var n=r(t.v),f=r(a.v);return n===L?1:f===L?-1:f-n}}}},25788:function(G,H){H.version="2.33.0"},67792:function(G,H,e){var m=e(4168);(function(){var P={1964:function(v,p,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Ce,he){if(!(Ce instanceof he))throw new TypeError("Cannot call a class as a function")}function a(Ce,he){for(var me=0;me<he.length;me++){var Ne=he[me];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Ce,f(Ne.key),Ne)}}function n(Ce,he,me){return he&&a(Ce.prototype,he),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}function f(Ce){var he=u(Ce,"string");return b(he)=="symbol"?he:he+""}function u(Ce,he){if(b(Ce)!="object"||!Ce)return Ce;var me=Ce[Symbol.toPrimitive];if(me!==void 0){var Ne=me.call(Ce,he);if(b(Ne)!="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}function l(Ce,he,me){return he=c(he),g(Ce,T()?Reflect.construct(he,[],c(Ce).constructor):he.apply(Ce,me))}function g(Ce,he){if(he&&(b(he)==="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Ce)}function h(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function T(){try{var Ce=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Ce})()}function c(Ce){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},c(Ce)}function i(Ce,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(he&&he.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),he&&d(Ce,he)}function d(Ce,he){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,$e){return Ne.__proto__=$e,Ne},d(Ce,he)}function b(Ce){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},b(Ce)}var w=r(7507),C=r(3778),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.hp=M,p.IS=50;var E=2147483647;M.TYPED_ARRAY_SUPPORT=A(),!M.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{var Ce=new Uint8Array(1),he={foo:function(){return 42}};return Object.setPrototypeOf(he,Uint8Array.prototype),Object.setPrototypeOf(Ce,he),Ce.foo()===42}catch{return!1}}Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}});function o(Ce){if(Ce>E)throw new RangeError('The value "'+Ce+'" is invalid for option "size"');var he=new Uint8Array(Ce);return Object.setPrototypeOf(he,M.prototype),he}function M(Ce,he,me){if(typeof Ce=="number"){if(typeof he=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(Ce)}return x(Ce,he,me)}M.poolSize=8192;function x(Ce,he,me){if(typeof Ce=="string")return k(Ce,he);if(ArrayBuffer.isView(Ce))return F(Ce);if(Ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(Ce));if(je(Ce,ArrayBuffer)||Ce&&je(Ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(Ce,SharedArrayBuffer)||Ce&&je(Ce.buffer,SharedArrayBuffer)))return z(Ce,he,me);if(typeof Ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ne=Ce.valueOf&&Ce.valueOf();if(Ne!=null&&Ne!==Ce)return M.from(Ne,he,me);var $e=B(Ce);if($e)return $e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ce[Symbol.toPrimitive]=="function")return M.from(Ce[Symbol.toPrimitive]("string"),he,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(Ce))}M.from=function(Ce,he,me){return x(Ce,he,me)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array);function I(Ce){if(typeof Ce!="number")throw new TypeError('"size" argument must be of type number');if(Ce<0)throw new RangeError('The value "'+Ce+'" is invalid for option "size"')}function D(Ce,he,me){return I(Ce),Ce<=0?o(Ce):he!==void 0?typeof me=="string"?o(Ce).fill(he,me):o(Ce).fill(he):o(Ce)}M.alloc=function(Ce,he,me){return D(Ce,he,me)};function N(Ce){return I(Ce),o(Ce<0?0:W(Ce)|0)}M.allocUnsafe=function(Ce){return N(Ce)},M.allocUnsafeSlow=function(Ce){return N(Ce)};function k(Ce,he){if((typeof he!="string"||he==="")&&(he="utf8"),!M.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var me=J(Ce,he)|0,Ne=o(me),$e=Ne.write(Ce,he);return $e!==me&&(Ne=Ne.slice(0,$e)),Ne}function O(Ce){for(var he=Ce.length<0?0:W(Ce.length)|0,me=o(he),Ne=0;Ne<he;Ne+=1)me[Ne]=Ce[Ne]&255;return me}function F(Ce){if(je(Ce,Uint8Array)){var he=new Uint8Array(Ce);return z(he.buffer,he.byteOffset,he.byteLength)}return O(Ce)}function z(Ce,he,me){if(he<0||Ce.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(Ce.byteLength<he+(me||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return he===void 0&&me===void 0?Ne=new Uint8Array(Ce):me===void 0?Ne=new Uint8Array(Ce,he):Ne=new Uint8Array(Ce,he,me),Object.setPrototypeOf(Ne,M.prototype),Ne}function B(Ce){if(M.isBuffer(Ce)){var he=W(Ce.length)|0,me=o(he);return me.length===0||Ce.copy(me,0,0,he),me}if(Ce.length!==void 0)return typeof Ce.length!="number"||We(Ce.length)?o(0):O(Ce);if(Ce.type==="Buffer"&&Array.isArray(Ce.data))return O(Ce.data)}function W(Ce){if(Ce>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return Ce|0}M.isBuffer=function(he){return he!=null&&he._isBuffer===!0&&he!==M.prototype},M.compare=function(he,me){if(je(he,Uint8Array)&&(he=M.from(he,he.offset,he.byteLength)),je(me,Uint8Array)&&(me=M.from(me,me.offset,me.byteLength)),!M.isBuffer(he)||!M.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(he===me)return 0;for(var Ne=he.length,$e=me.length,ot=0,st=Math.min(Ne,$e);ot<st;++ot)if(he[ot]!==me[ot]){Ne=he[ot],$e=me[ot];break}return Ne<$e?-1:$e<Ne?1:0},M.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(he,me){if(!Array.isArray(he))throw new TypeError('"list" argument must be an Array of Buffers');if(he.length===0)return M.alloc(0);var Ne;if(me===void 0)for(me=0,Ne=0;Ne<he.length;++Ne)me+=he[Ne].length;var $e=M.allocUnsafe(me),ot=0;for(Ne=0;Ne<he.length;++Ne){var st=he[Ne];if(je(st,Uint8Array))ot+st.length>$e.length?(M.isBuffer(st)||(st=M.from(st)),st.copy($e,ot)):Uint8Array.prototype.set.call($e,st,ot);else if(M.isBuffer(st))st.copy($e,ot);else throw new TypeError('"list" argument must be an Array of Buffers');ot+=st.length}return $e};function J(Ce,he){if(M.isBuffer(Ce))return Ce.length;if(ArrayBuffer.isView(Ce)||je(Ce,ArrayBuffer))return Ce.byteLength;if(typeof Ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(Ce));var me=Ce.length,Ne=arguments.length>2&&arguments[2]===!0;if(!Ne&&me===0)return 0;for(var $e=!1;;)switch(he){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return Tt(Ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return ze(Ce).length;default:if($e)return Ne?-1:Tt(Ce).length;he=(""+he).toLowerCase(),$e=!0}}M.byteLength=J;function re(Ce,he,me){var Ne=!1;if((he===void 0||he<0)&&(he=0),he>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,he>>>=0,me<=he))return"";for(Ce||(Ce="utf8");;)switch(Ce){case"hex":return be(this,he,me);case"utf8":case"utf-8":return Y(this,he,me);case"ascii":return fe(this,he,me);case"latin1":case"binary":return ge(this,he,me);case"base64":return j(this,he,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,he,me);default:if(Ne)throw new TypeError("Unknown encoding: "+Ce);Ce=(Ce+"").toLowerCase(),Ne=!0}}M.prototype._isBuffer=!0;function ne(Ce,he,me){var Ne=Ce[he];Ce[he]=Ce[me],Ce[me]=Ne}M.prototype.swap16=function(){var he=this.length;if(he%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var me=0;me<he;me+=2)ne(this,me,me+1);return this},M.prototype.swap32=function(){var he=this.length;if(he%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var me=0;me<he;me+=4)ne(this,me,me+3),ne(this,me+1,me+2);return this},M.prototype.swap64=function(){var he=this.length;if(he%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var me=0;me<he;me+=8)ne(this,me,me+7),ne(this,me+1,me+6),ne(this,me+2,me+5),ne(this,me+3,me+4);return this},M.prototype.toString=function(){var he=this.length;return he===0?"":arguments.length===0?Y(this,0,he):re.apply(this,arguments)},M.prototype.toLocaleString=M.prototype.toString,M.prototype.equals=function(he){if(!M.isBuffer(he))throw new TypeError("Argument must be a Buffer");return this===he?!0:M.compare(this,he)===0},M.prototype.inspect=function(){var he="",me=p.IS;return he=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(he+=" ... "),"<Buffer "+he+">"},y&&(M.prototype[y]=M.prototype.inspect),M.prototype.compare=function(he,me,Ne,$e,ot){if(je(he,Uint8Array)&&(he=M.from(he,he.offset,he.byteLength)),!M.isBuffer(he))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(he));if(me===void 0&&(me=0),Ne===void 0&&(Ne=he?he.length:0),$e===void 0&&($e=0),ot===void 0&&(ot=this.length),me<0||Ne>he.length||$e<0||ot>this.length)throw new RangeError("out of range index");if($e>=ot&&me>=Ne)return 0;if($e>=ot)return-1;if(me>=Ne)return 1;if(me>>>=0,Ne>>>=0,$e>>>=0,ot>>>=0,this===he)return 0;for(var st=ot-$e,Wt=Ne-me,Zt=Math.min(st,Wt),At=this.slice($e,ot),Rt=he.slice(me,Ne),Xt=0;Xt<Zt;++Xt)if(At[Xt]!==Rt[Xt]){st=At[Xt],Wt=Rt[Xt];break}return st<Wt?-1:Wt<st?1:0};function le(Ce,he,me,Ne,$e){if(Ce.length===0)return-1;if(typeof me=="string"?(Ne=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,We(me)&&(me=$e?0:Ce.length-1),me<0&&(me=Ce.length+me),me>=Ce.length){if($e)return-1;me=Ce.length-1}else if(me<0)if($e)me=0;else return-1;if(typeof he=="string"&&(he=M.from(he,Ne)),M.isBuffer(he))return he.length===0?-1:$(Ce,he,me,Ne,$e);if(typeof he=="number")return he=he&255,typeof Uint8Array.prototype.indexOf=="function"?$e?Uint8Array.prototype.indexOf.call(Ce,he,me):Uint8Array.prototype.lastIndexOf.call(Ce,he,me):$(Ce,[he],me,Ne,$e);throw new TypeError("val must be string, number or Buffer")}function $(Ce,he,me,Ne,$e){var ot=1,st=Ce.length,Wt=he.length;if(Ne!==void 0&&(Ne=String(Ne).toLowerCase(),Ne==="ucs2"||Ne==="ucs-2"||Ne==="utf16le"||Ne==="utf-16le")){if(Ce.length<2||he.length<2)return-1;ot=2,st/=2,Wt/=2,me/=2}function Zt(pt,Kt){return ot===1?pt[Kt]:pt.readUInt16BE(Kt*ot)}var At;if($e){var Rt=-1;for(At=me;At<st;At++)if(Zt(Ce,At)===Zt(he,Rt===-1?0:At-Rt)){if(Rt===-1&&(Rt=At),At-Rt+1===Wt)return Rt*ot}else Rt!==-1&&(At-=At-Rt),Rt=-1}else for(me+Wt>st&&(me=st-Wt),At=me;At>=0;At--){for(var Xt=!0,ir=0;ir<Wt;ir++)if(Zt(Ce,At+ir)!==Zt(he,ir)){Xt=!1;break}if(Xt)return At}return-1}M.prototype.includes=function(he,me,Ne){return this.indexOf(he,me,Ne)!==-1},M.prototype.indexOf=function(he,me,Ne){return le(this,he,me,Ne,!0)},M.prototype.lastIndexOf=function(he,me,Ne){return le(this,he,me,Ne,!1)};function Z(Ce,he,me,Ne){me=Number(me)||0;var $e=Ce.length-me;Ne?(Ne=Number(Ne),Ne>$e&&(Ne=$e)):Ne=$e;var ot=he.length;Ne>ot/2&&(Ne=ot/2);var st;for(st=0;st<Ne;++st){var Wt=parseInt(he.substr(st*2,2),16);if(We(Wt))return st;Ce[me+st]=Wt}return st}function ie(Ce,he,me,Ne){return Ge(Tt(he,Ce.length-me),Ce,me,Ne)}function X(Ce,he,me,Ne){return Ge(Et(he),Ce,me,Ne)}function Q(Ce,he,me,Ne){return Ge(ze(he),Ce,me,Ne)}function oe(Ce,he,me,Ne){return Ge(rt(he,Ce.length-me),Ce,me,Ne)}M.prototype.write=function(he,me,Ne,$e){if(me===void 0)$e="utf8",Ne=this.length,me=0;else if(Ne===void 0&&typeof me=="string")$e=me,Ne=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(Ne)?(Ne=Ne>>>0,$e===void 0&&($e="utf8")):($e=Ne,Ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ot=this.length-me;if((Ne===void 0||Ne>ot)&&(Ne=ot),he.length>0&&(Ne<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");$e||($e="utf8");for(var st=!1;;)switch($e){case"hex":return Z(this,he,me,Ne);case"utf8":case"utf-8":return ie(this,he,me,Ne);case"ascii":case"latin1":case"binary":return X(this,he,me,Ne);case"base64":return Q(this,he,me,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,he,me,Ne);default:if(st)throw new TypeError("Unknown encoding: "+$e);$e=(""+$e).toLowerCase(),st=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(Ce,he,me){return he===0&&me===Ce.length?w.fromByteArray(Ce):w.fromByteArray(Ce.slice(he,me))}function Y(Ce,he,me){me=Math.min(Ce.length,me);for(var Ne=[],$e=he;$e<me;){var ot=Ce[$e],st=null,Wt=ot>239?4:ot>223?3:ot>191?2:1;if($e+Wt<=me){var Zt=void 0,At=void 0,Rt=void 0,Xt=void 0;switch(Wt){case 1:ot<128&&(st=ot);break;case 2:Zt=Ce[$e+1],(Zt&192)===128&&(Xt=(ot&31)<<6|Zt&63,Xt>127&&(st=Xt));break;case 3:Zt=Ce[$e+1],At=Ce[$e+2],(Zt&192)===128&&(At&192)===128&&(Xt=(ot&15)<<12|(Zt&63)<<6|At&63,Xt>2047&&(Xt<55296||Xt>57343)&&(st=Xt));break;case 4:Zt=Ce[$e+1],At=Ce[$e+2],Rt=Ce[$e+3],(Zt&192)===128&&(At&192)===128&&(Rt&192)===128&&(Xt=(ot&15)<<18|(Zt&63)<<12|(At&63)<<6|Rt&63,Xt>65535&&Xt<1114112&&(st=Xt))}}st===null?(st=65533,Wt=1):st>65535&&(st-=65536,Ne.push(st>>>10&1023|55296),st=56320|st&1023),Ne.push(st),$e+=Wt}return te(Ne)}var se=4096;function te(Ce){var he=Ce.length;if(he<=se)return String.fromCharCode.apply(String,Ce);for(var me="",Ne=0;Ne<he;)me+=String.fromCharCode.apply(String,Ce.slice(Ne,Ne+=se));return me}function fe(Ce,he,me){var Ne="";me=Math.min(Ce.length,me);for(var $e=he;$e<me;++$e)Ne+=String.fromCharCode(Ce[$e]&127);return Ne}function ge(Ce,he,me){var Ne="";me=Math.min(Ce.length,me);for(var $e=he;$e<me;++$e)Ne+=String.fromCharCode(Ce[$e]);return Ne}function be(Ce,he,me){var Ne=Ce.length;(!he||he<0)&&(he=0),(!me||me<0||me>Ne)&&(me=Ne);for(var $e="",ot=he;ot<me;++ot)$e+=Le[Ce[ot]];return $e}function xe(Ce,he,me){for(var Ne=Ce.slice(he,me),$e="",ot=0;ot<Ne.length-1;ot+=2)$e+=String.fromCharCode(Ne[ot]+Ne[ot+1]*256);return $e}M.prototype.slice=function(he,me){var Ne=this.length;he=~~he,me=me===void 0?Ne:~~me,he<0?(he+=Ne,he<0&&(he=0)):he>Ne&&(he=Ne),me<0?(me+=Ne,me<0&&(me=0)):me>Ne&&(me=Ne),me<he&&(me=he);var $e=this.subarray(he,me);return Object.setPrototypeOf($e,M.prototype),$e};function _e(Ce,he,me){if(Ce%1!==0||Ce<0)throw new RangeError("offset is not uint");if(Ce+he>me)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUintLE=M.prototype.readUIntLE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=this[he],ot=1,st=0;++st<me&&(ot*=256);)$e+=this[he+st]*ot;return $e},M.prototype.readUintBE=M.prototype.readUIntBE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=this[he+--me],ot=1;me>0&&(ot*=256);)$e+=this[he+--me]*ot;return $e},M.prototype.readUint8=M.prototype.readUInt8=function(he,me){return he=he>>>0,me||_e(he,1,this.length),this[he]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(he,me){return he=he>>>0,me||_e(he,2,this.length),this[he]|this[he+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(he,me){return he=he>>>0,me||_e(he,2,this.length),this[he]<<8|this[he+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),(this[he]|this[he+1]<<8|this[he+2]<<16)+this[he+3]*16777216},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),this[he]*16777216+(this[he+1]<<16|this[he+2]<<8|this[he+3])},M.prototype.readBigUInt64LE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=me+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24),ot=this[++he]+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+Ne*Math.pow(2,24);return BigInt($e)+(BigInt(ot)<<BigInt(32))}),M.prototype.readBigUInt64BE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=me*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he],ot=this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+Ne;return(BigInt($e)<<BigInt(32))+BigInt(ot)}),M.prototype.readIntLE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=this[he],ot=1,st=0;++st<me&&(ot*=256);)$e+=this[he+st]*ot;return ot*=128,$e>=ot&&($e-=Math.pow(2,8*me)),$e},M.prototype.readIntBE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=me,ot=1,st=this[he+--$e];$e>0&&(ot*=256);)st+=this[he+--$e]*ot;return ot*=128,st>=ot&&(st-=Math.pow(2,8*me)),st},M.prototype.readInt8=function(he,me){return he=he>>>0,me||_e(he,1,this.length),this[he]&128?(255-this[he]+1)*-1:this[he]},M.prototype.readInt16LE=function(he,me){he=he>>>0,me||_e(he,2,this.length);var Ne=this[he]|this[he+1]<<8;return Ne&32768?Ne|4294901760:Ne},M.prototype.readInt16BE=function(he,me){he=he>>>0,me||_e(he,2,this.length);var Ne=this[he+1]|this[he]<<8;return Ne&32768?Ne|4294901760:Ne},M.prototype.readInt32LE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),this[he]|this[he+1]<<8|this[he+2]<<16|this[he+3]<<24},M.prototype.readInt32BE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),this[he]<<24|this[he+1]<<16|this[he+2]<<8|this[he+3]},M.prototype.readBigInt64LE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=this[he+4]+this[he+5]*Math.pow(2,8)+this[he+6]*Math.pow(2,16)+(Ne<<24);return(BigInt($e)<<BigInt(32))+BigInt(me+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24))}),M.prototype.readBigInt64BE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=(me<<24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he];return(BigInt($e)<<BigInt(32))+BigInt(this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+Ne)}),M.prototype.readFloatLE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),C.read(this,he,!0,23,4)},M.prototype.readFloatBE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),C.read(this,he,!1,23,4)},M.prototype.readDoubleLE=function(he,me){return he=he>>>0,me||_e(he,8,this.length),C.read(this,he,!0,52,8)},M.prototype.readDoubleBE=function(he,me){return he=he>>>0,me||_e(he,8,this.length),C.read(this,he,!1,52,8)};function De(Ce,he,me,Ne,$e,ot){if(!M.isBuffer(Ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(he>$e||he<ot)throw new RangeError('"value" argument is out of bounds');if(me+Ne>Ce.length)throw new RangeError("Index out of range")}M.prototype.writeUintLE=M.prototype.writeUIntLE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,Ne=Ne>>>0,!$e){var ot=Math.pow(2,8*Ne)-1;De(this,he,me,Ne,ot,0)}var st=1,Wt=0;for(this[me]=he&255;++Wt<Ne&&(st*=256);)this[me+Wt]=he/st&255;return me+Ne},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,Ne=Ne>>>0,!$e){var ot=Math.pow(2,8*Ne)-1;De(this,he,me,Ne,ot,0)}var st=Ne-1,Wt=1;for(this[me+st]=he&255;--st>=0&&(Wt*=256);)this[me+st]=he/Wt&255;return me+Ne},M.prototype.writeUint8=M.prototype.writeUInt8=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,1,255,0),this[me]=he&255,me+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,65535,0),this[me]=he&255,this[me+1]=he>>>8,me+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,65535,0),this[me]=he>>>8,this[me+1]=he&255,me+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,4294967295,0),this[me+3]=he>>>24,this[me+2]=he>>>16,this[me+1]=he>>>8,this[me]=he&255,me+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,4294967295,0),this[me]=he>>>24,this[me+1]=he>>>16,this[me+2]=he>>>8,this[me+3]=he&255,me+4};function Fe(Ce,he,me,Ne,$e){Je(he,Ne,$e,Ce,me,7);var ot=Number(he&BigInt(4294967295));Ce[me++]=ot,ot=ot>>8,Ce[me++]=ot,ot=ot>>8,Ce[me++]=ot,ot=ot>>8,Ce[me++]=ot;var st=Number(he>>BigInt(32)&BigInt(4294967295));return Ce[me++]=st,st=st>>8,Ce[me++]=st,st=st>>8,Ce[me++]=st,st=st>>8,Ce[me++]=st,me}function Te(Ce,he,me,Ne,$e){Je(he,Ne,$e,Ce,me,7);var ot=Number(he&BigInt(4294967295));Ce[me+7]=ot,ot=ot>>8,Ce[me+6]=ot,ot=ot>>8,Ce[me+5]=ot,ot=ot>>8,Ce[me+4]=ot;var st=Number(he>>BigInt(32)&BigInt(4294967295));return Ce[me+3]=st,st=st>>8,Ce[me+2]=st,st=st>>8,Ce[me+1]=st,st=st>>8,Ce[me]=st,me+8}M.prototype.writeBigUInt64LE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,he,me,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,he,me,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,!$e){var ot=Math.pow(2,8*Ne-1);De(this,he,me,Ne,ot-1,-ot)}var st=0,Wt=1,Zt=0;for(this[me]=he&255;++st<Ne&&(Wt*=256);)he<0&&Zt===0&&this[me+st-1]!==0&&(Zt=1),this[me+st]=(he/Wt>>0)-Zt&255;return me+Ne},M.prototype.writeIntBE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,!$e){var ot=Math.pow(2,8*Ne-1);De(this,he,me,Ne,ot-1,-ot)}var st=Ne-1,Wt=1,Zt=0;for(this[me+st]=he&255;--st>=0&&(Wt*=256);)he<0&&Zt===0&&this[me+st+1]!==0&&(Zt=1),this[me+st]=(he/Wt>>0)-Zt&255;return me+Ne},M.prototype.writeInt8=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,1,127,-128),he<0&&(he=255+he+1),this[me]=he&255,me+1},M.prototype.writeInt16LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,32767,-32768),this[me]=he&255,this[me+1]=he>>>8,me+2},M.prototype.writeInt16BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,32767,-32768),this[me]=he>>>8,this[me+1]=he&255,me+2},M.prototype.writeInt32LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,2147483647,-2147483648),this[me]=he&255,this[me+1]=he>>>8,this[me+2]=he>>>16,this[me+3]=he>>>24,me+4},M.prototype.writeInt32BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,2147483647,-2147483648),he<0&&(he=4294967295+he+1),this[me]=he>>>24,this[me+1]=he>>>16,this[me+2]=he>>>8,this[me+3]=he&255,me+4},M.prototype.writeBigInt64LE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,he,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,he,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(Ce,he,me,Ne,$e,ot){if(me+Ne>Ce.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function Se(Ce,he,me,Ne,$e){return he=+he,me=me>>>0,$e||Re(Ce,he,me,4),C.write(Ce,he,me,Ne,23,4),me+4}M.prototype.writeFloatLE=function(he,me,Ne){return Se(this,he,me,!0,Ne)},M.prototype.writeFloatBE=function(he,me,Ne){return Se(this,he,me,!1,Ne)};function ke(Ce,he,me,Ne,$e){return he=+he,me=me>>>0,$e||Re(Ce,he,me,8),C.write(Ce,he,me,Ne,52,8),me+8}M.prototype.writeDoubleLE=function(he,me,Ne){return ke(this,he,me,!0,Ne)},M.prototype.writeDoubleBE=function(he,me,Ne){return ke(this,he,me,!1,Ne)},M.prototype.copy=function(he,me,Ne,$e){if(!M.isBuffer(he))throw new TypeError("argument should be a Buffer");if(Ne||(Ne=0),!$e&&$e!==0&&($e=this.length),me>=he.length&&(me=he.length),me||(me=0),$e>0&&$e<Ne&&($e=Ne),$e===Ne||he.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Ne<0||Ne>=this.length)throw new RangeError("Index out of range");if($e<0)throw new RangeError("sourceEnd out of bounds");$e>this.length&&($e=this.length),he.length-me<$e-Ne&&($e=he.length-me+Ne);var ot=$e-Ne;return this===he&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,Ne,$e):Uint8Array.prototype.set.call(he,this.subarray(Ne,$e),me),ot},M.prototype.fill=function(he,me,Ne,$e){if(typeof he=="string"){if(typeof me=="string"?($e=me,me=0,Ne=this.length):typeof Ne=="string"&&($e=Ne,Ne=this.length),$e!==void 0&&typeof $e!="string")throw new TypeError("encoding must be a string");if(typeof $e=="string"&&!M.isEncoding($e))throw new TypeError("Unknown encoding: "+$e);if(he.length===1){var ot=he.charCodeAt(0);($e==="utf8"&&ot<128||$e==="latin1")&&(he=ot)}}else typeof he=="number"?he=he&255:typeof he=="boolean"&&(he=Number(he));if(me<0||this.length<me||this.length<Ne)throw new RangeError("Out of range index");if(Ne<=me)return this;me=me>>>0,Ne=Ne===void 0?this.length:Ne>>>0,he||(he=0);var st;if(typeof he=="number")for(st=me;st<Ne;++st)this[st]=he;else{var Wt=M.isBuffer(he)?he:M.from(he,$e),Zt=Wt.length;if(Zt===0)throw new TypeError('The value "'+he+'" is invalid for argument "value"');for(st=0;st<Ne-me;++st)this[st+me]=Wt[st%Zt]}return this};var Me={};function Ve(Ce,he,me){Me[Ce]=function(Ne){function $e(){var ot;return t(this,$e),ot=l(this,$e),Object.defineProperty(ot,"message",{value:he.apply(ot,arguments),writable:!0,configurable:!0}),ot.name="".concat(ot.name," [").concat(Ce,"]"),ot.stack,delete ot.name,ot}return i($e,Ne),n($e,[{key:"code",get:function(){return Ce},set:function(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Ce,"]: ").concat(this.message)}}])}(me)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(Ce){return Ce?"".concat(Ce," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(Ce,he){return'The "'.concat(Ce,'" argument must be of type number. Received type ').concat(b(he))},TypeError),Ve("ERR_OUT_OF_RANGE",function(Ce,he,me){var Ne='The value of "'.concat(Ce,'" is out of range.'),$e=me;return Number.isInteger(me)&&Math.abs(me)>Math.pow(2,32)?$e=tt(String(me)):typeof me=="bigint"&&($e=String(me),(me>Math.pow(BigInt(2),BigInt(32))||me<-Math.pow(BigInt(2),BigInt(32)))&&($e=tt($e)),$e+="n"),Ne+=" It must be ".concat(he,". Received ").concat($e),Ne},RangeError);function tt(Ce){for(var he="",me=Ce.length,Ne=Ce[0]==="-"?1:0;me>=Ne+4;me-=3)he="_".concat(Ce.slice(me-3,me)).concat(he);return"".concat(Ce.slice(0,me)).concat(he)}function it(Ce,he,me){Qe(he,"offset"),(Ce[he]===void 0||Ce[he+me]===void 0)&&ct(he,Ce.length-(me+1))}function Je(Ce,he,me,Ne,$e,ot){if(Ce>me||Ce<he){var st=typeof he=="bigint"?"n":"",Wt;throw he===0||he===BigInt(0)?Wt=">= 0".concat(st," and < 2").concat(st," ** ").concat((ot+1)*8).concat(st):Wt=">= -(2".concat(st," ** ").concat((ot+1)*8-1).concat(st,") and < 2 ** ")+"".concat((ot+1)*8-1).concat(st),new Me.ERR_OUT_OF_RANGE("value",Wt,Ce)}it(Ne,$e,ot)}function Qe(Ce,he){if(typeof Ce!="number")throw new Me.ERR_INVALID_ARG_TYPE(he,"number",Ce)}function ct(Ce,he,me){throw Math.floor(Ce)!==Ce?(Qe(Ce,me),new Me.ERR_OUT_OF_RANGE("offset","an integer",Ce)):he<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(he),Ce)}var ht=/[^+/0-9A-Za-z-_]/g;function dt(Ce){if(Ce=Ce.split("=")[0],Ce=Ce.trim().replace(ht,""),Ce.length<2)return"";for(;Ce.length%4!==0;)Ce=Ce+"=";return Ce}function Tt(Ce,he){he=he||1/0;for(var me,Ne=Ce.length,$e=null,ot=[],st=0;st<Ne;++st){if(me=Ce.charCodeAt(st),me>55295&&me<57344){if(!$e){if(me>56319){(he-=3)>-1&&ot.push(239,191,189);continue}else if(st+1===Ne){(he-=3)>-1&&ot.push(239,191,189);continue}$e=me;continue}if(me<56320){(he-=3)>-1&&ot.push(239,191,189),$e=me;continue}me=($e-55296<<10|me-56320)+65536}else $e&&(he-=3)>-1&&ot.push(239,191,189);if($e=null,me<128){if((he-=1)<0)break;ot.push(me)}else if(me<2048){if((he-=2)<0)break;ot.push(me>>6|192,me&63|128)}else if(me<65536){if((he-=3)<0)break;ot.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((he-=4)<0)break;ot.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return ot}function Et(Ce){for(var he=[],me=0;me<Ce.length;++me)he.push(Ce.charCodeAt(me)&255);return he}function rt(Ce,he){for(var me,Ne,$e,ot=[],st=0;st<Ce.length&&!((he-=2)<0);++st)me=Ce.charCodeAt(st),Ne=me>>8,$e=me%256,ot.push($e),ot.push(Ne);return ot}function ze(Ce){return w.toByteArray(dt(Ce))}function Ge(Ce,he,me,Ne){var $e;for($e=0;$e<Ne&&!($e+me>=he.length||$e>=Ce.length);++$e)he[$e+me]=Ce[$e];return $e}function je(Ce,he){return Ce instanceof he||Ce!=null&&Ce.constructor!=null&&Ce.constructor.name!=null&&Ce.constructor.name===he.name}function We(Ce){return Ce!==Ce}var Le=function(){for(var Ce="0123456789abcdef",he=new Array(256),me=0;me<16;++me)for(var Ne=me*16,$e=0;$e<16;++$e)he[Ne+$e]=Ce[me]+Ce[$e];return he}();function Pe(Ce){return typeof BigInt>"u"?Ye:Ce}function Ye(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=a,v.exports.isMobile=a,v.exports.default=a;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function a(n){n||(n={});var f=n.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=p.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,p,r){v.exports=l;var t=r(7261),a=r(9977),n=r(4192);function f(g,h){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(T){return g[T]}),this._mode=h,this._active=g[h],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(g)},u.idle=function(g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(g)},u.lookAt=function(g,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].lookAt(g,h,T,c)},u.rotate=function(g,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].rotate(g,h,T,c)},u.pan=function(g,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].pan(g,h,T,c)},u.translate=function(g,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].translate(g,h,T,c)},u.setMatrix=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setMatrix(g,h)},u.setDistanceLimits=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistanceLimits(g,h)},u.setDistance=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistance(g,h)},u.recalcMatrix=function(g){this._active.recalcMatrix(g)},u.getDistance=function(g){return this._active.getDistance(g)},u.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},u.lastT=function(){return this._active.lastT()},u.setMode=function(g){if(g!==this._mode){var h=this._controllerNames.indexOf(g);if(!(h<0)){var T=this._active,c=this._controllerList[h],i=Math.max(T.lastT(),c.lastT());T.recalcMatrix(i),c.setMatrix(i,T.computedMatrix),this._active=c,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(g){g=g||{};var h=g.eye||[0,0,1],T=g.center||[0,0,0],c=g.up||[0,1,0],i=g.distanceLimits||[0,1/0],d=g.mode||"turntable",b=t(),w=a(),C=n();return b.setDistanceLimits(i[0],i[1]),b.lookAt(0,h,T,c),w.setDistanceLimits(i[0],i[1]),w.lookAt(0,h,T,c),C.setDistanceLimits(i[0],i[1]),C.lookAt(0,h,T,c),new f({turntable:b,orbit:w,matrix:C},d)}},7169:function(v,p,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,a=r(2762),n=r(8116),f=new t;function u(l){var g=f.get(l),h=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var T=a(l,new Float32Array([-1,-1,-1,4,4,-1]));g=n(l,[{buffer:T,type:l.FLOAT,size:2}]),g._triangleBuffer=T,f.set(l,g)}g.bind(),l.drawArrays(l.TRIANGLES,0,3),g.unbind()}v.exports=u},1085:function(v,p,r){var t=r(1371);v.exports=a;function a(n,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=n.split(/\r?\n/),g=String(l.length+f-1).length;return l.map(function(h,T){var c=T+f,i=String(c).length,d=t(c,g-i);return d+u+h}).join(`
`)}},3952:function(v,p,r){v.exports=n;var t=r(3250);function a(f,u){for(var l=new Array(u+1),g=0;g<f.length;++g)l[g]=f[g];for(var g=0;g<=f.length;++g){for(var h=f.length;h<=u;++h){for(var T=new Array(u),c=0;c<u;++c)T[c]=Math.pow(h+1-g,c);l[h]=T}var i=t.apply(void 0,l);if(i)return!0}return!1}function n(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,g=[f[0]],h=[0],T=1;T<u;++T){if(g.push(f[T]),!a(g,l)){g.pop();continue}if(h.push(T),h.length===l+1)return h}return h}},5995:function(v,p,r){v.exports=n;var t=r(7642),a=r(6037);function n(f,u){return t(u).filter(function(l){for(var g=new Array(l.length),h=0;h<l.length;++h)g[h]=u[l[h]];return a(g)*f<1})}},3502:function(v,p,r){v.exports=n;var t=r(5995),a=r(9127);function n(f,u){return a(t(f,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,p,r){v.exports=n;var t=r(727);function a(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function n(f,u){for(var l=u.length,g=new Array(l+1),h=0;h<l;++h){for(var T=new Array(l+1),c=0;c<=l;++c)T[c]=f[c][h];g[h]=T}g[l]=new Array(l+1);for(var h=0;h<=l;++h)g[l][h]=1;for(var i=new Array(l+1),h=0;h<l;++h)i[h]=u[h];i[l]=1;var d=t(g,i),b=a(d[l+1]);b===0&&(b=1);for(var w=new Array(l+1),h=0;h<=l;++h)w[h]=a(d[h])/b;return w}},7507:function(v,p){p.byteLength=g,p.toByteArray=T,p.fromByteArray=d;for(var r=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=n.length;f<u;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t[45]=62,t[95]=63;function l(b){var w=b.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=b.indexOf("=");C===-1&&(C=w);var y=C===w?0:4-C%4;return[C,y]}function g(b){var w=l(b),C=w[0],y=w[1];return(C+y)*3/4-y}function h(b,w,C){return(w+C)*3/4-C}function T(b){var w,C=l(b),y=C[0],E=C[1],A=new a(h(b,y,E)),o=0,M=E>0?y-4:y,x;for(x=0;x<M;x+=4)w=t[b.charCodeAt(x)]<<18|t[b.charCodeAt(x+1)]<<12|t[b.charCodeAt(x+2)]<<6|t[b.charCodeAt(x+3)],A[o++]=w>>16&255,A[o++]=w>>8&255,A[o++]=w&255;return E===2&&(w=t[b.charCodeAt(x)]<<2|t[b.charCodeAt(x+1)]>>4,A[o++]=w&255),E===1&&(w=t[b.charCodeAt(x)]<<10|t[b.charCodeAt(x+1)]<<4|t[b.charCodeAt(x+2)]>>2,A[o++]=w>>8&255,A[o++]=w&255),A}function c(b){return r[b>>18&63]+r[b>>12&63]+r[b>>6&63]+r[b&63]}function i(b,w,C){for(var y,E=[],A=w;A<C;A+=3)y=(b[A]<<16&16711680)+(b[A+1]<<8&65280)+(b[A+2]&255),E.push(c(y));return E.join("")}function d(b){for(var w,C=b.length,y=C%3,E=[],A=16383,o=0,M=C-y;o<M;o+=A)E.push(i(b,o,o+A>M?M:o+A));return y===1?(w=b[C-1],E.push(r[w>>2]+r[w<<4&63]+"==")):y===2&&(w=(b[C-2]<<8)+b[C-1],E.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),E.join("")}},3865:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},1318:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},7842:function(v,p,r){var t=r(6330),a=r(1533),n=r(2651),f=r(4387),u=r(869),l=r(8697);v.exports=g;function g(h,T){if(t(h))return T?l(h,g(T)):[h[0].clone(),h[1].clone()];var c=0,i,d;if(a(h))i=h.clone();else if(typeof h=="string")i=f(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))i=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;i=n(h)}}if(t(T))i.mul(T[1]),d=T[0].clone();else if(a(T))d=T.clone();else if(typeof T=="string")d=f(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),c+=256;d=n(T)}return c>0?i=i.ushln(c):c<0&&(d=d.ushln(-c)),u(i,d)}},6330:function(v,p,r){var t=r(1533);v.exports=a;function a(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,p,r){var t=r(6859);v.exports=a;function a(n){return n.cmp(new t(0))}},1369:function(v,p,r){var t=r(5716);v.exports=a;function a(n){var f=n.length,u=n.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var g=0;g<f;g++){var h=u[g];l+=h*Math.pow(67108864,g)}return t(n)*l}},4025:function(v,p,r){var t=r(2361),a=r(8828).countTrailingZeros;v.exports=n;function n(f){var u=a(t.lo(f));if(u<32)return u;var l=a(t.hi(f));return l>20?52:l+32}},1533:function(v,p,r){r(6859),v.exports=t;function t(a){return a&&typeof a=="object"&&!!a.words}},2651:function(v,p,r){var t=r(6859),a=r(2361);v.exports=n;function n(f){var u=a.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,p,r){var t=r(2651),a=r(5716);v.exports=n;function n(f,u){var l=a(f),g=a(u);if(l===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(f=f.neg(),u=u.neg());var h=f.gcd(u);return h.cmpn(1)?[f.div(h),u.div(h)]:[f,u]}},4387:function(v,p,r){var t=r(6859);v.exports=a;function a(n){return new t(n)}},6504:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},7721:function(v,p,r){var t=r(5716);v.exports=a;function a(n){return t(n[0])*t(n[1])}},5572:function(v,p,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},946:function(v,p,r){var t=r(1369),a=r(4025);v.exports=n;function n(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var g=u.abs().divmod(l.abs()),h=g.div,T=t(h),c=g.mod,i=u.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return i*T;if(T){var d=a(T)+4,b=t(c.ushln(d).divRound(l));return i*(T+b*Math.pow(2,-d))}else{var w=l.bitLength()-c.bitLength()+53,b=t(c.ushln(w).divRound(l));return w<1023?i*b*Math.pow(2,-w):(b*=Math.pow(2,-1023),i*b*Math.pow(2,1023-w))}}},2478:function(v){function p(u,l,g,h,T){for(var c=T+1;h<=T;){var i=h+T>>>1,d=u[i],b=g!==void 0?g(d,l):d-l;b>=0?(c=i,T=i-1):h=i+1}return c}function r(u,l,g,h,T){for(var c=T+1;h<=T;){var i=h+T>>>1,d=u[i],b=g!==void 0?g(d,l):d-l;b>0?(c=i,T=i-1):h=i+1}return c}function t(u,l,g,h,T){for(var c=h-1;h<=T;){var i=h+T>>>1,d=u[i],b=g!==void 0?g(d,l):d-l;b<0?(c=i,h=i+1):T=i-1}return c}function a(u,l,g,h,T){for(var c=h-1;h<=T;){var i=h+T>>>1,d=u[i],b=g!==void 0?g(d,l):d-l;b<=0?(c=i,h=i+1):T=i-1}return c}function n(u,l,g,h,T){for(;h<=T;){var c=h+T>>>1,i=u[c],d=g!==void 0?g(i,l):i-l;if(d===0)return c;d<=0?h=c+1:T=c-1}return-1}function f(u,l,g,h,T,c){return typeof g=="function"?c(u,l,g,h===void 0?0:h|0,T===void 0?u.length-1:T|0):c(u,l,void 0,g===void 0?0:g|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,l,g,h,T){return f(u,l,g,h,T,p)},gt:function(u,l,g,h,T){return f(u,l,g,h,T,r)},lt:function(u,l,g,h,T){return f(u,l,g,h,T,t)},le:function(u,l,g,h,T){return f(u,l,g,h,T,a)},eq:function(u,l,g,h,T){return f(u,l,g,h,T,n)}}},8828:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[f]=l<<g&255}})(a),p.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6859:function(v,p,r){v=r.nmd(v),function(t,a){function n(F,z){if(!F)throw new Error(z||"Assertion failed")}function f(F,z){F.super_=z;var B=function(){};B.prototype=z.prototype,F.prototype=new B,F.prototype.constructor=F}function u(F,z,B){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((z==="le"||z==="be")&&(B=z,z=10),this._init(F||0,z||10,B||"be"))}typeof t=="object"?t.exports=u:a.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}u.isBN=function(z){return z instanceof u?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===u.wordSize&&Array.isArray(z.words)},u.max=function(z,B){return z.cmp(B)>0?z:B},u.min=function(z,B){return z.cmp(B)<0?z:B},u.prototype._init=function(z,B,W){if(typeof z=="number")return this._initNumber(z,B,W);if(typeof z=="object")return this._initArray(z,B,W);B==="hex"&&(B=16),n(B===(B|0)&&B>=2&&B<=36),z=z.toString().replace(/\s+/g,"");var J=0;z[0]==="-"&&(J++,this.negative=1),J<z.length&&(B===16?this._parseHex(z,J,W):(this._parseBase(z,B,J),W==="le"&&this._initArray(this.toArray(),B,W)))},u.prototype._initNumber=function(z,B,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),B,W)},u.prototype._initArray=function(z,B,W){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re,ne,le=0;if(W==="be")for(J=z.length-1,re=0;J>=0;J-=3)ne=z[J]|z[J-1]<<8|z[J-2]<<16,this.words[re]|=ne<<le&67108863,this.words[re+1]=ne>>>26-le&67108863,le+=24,le>=26&&(le-=26,re++);else if(W==="le")for(J=0,re=0;J<z.length;J+=3)ne=z[J]|z[J+1]<<8|z[J+2]<<16,this.words[re]|=ne<<le&67108863,this.words[re+1]=ne>>>26-le&67108863,le+=24,le>=26&&(le-=26,re++);return this.strip()};function g(F,z){var B=F.charCodeAt(z);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function h(F,z,B){var W=g(F,B);return B-1>=z&&(W|=g(F,B-1)<<4),W}u.prototype._parseHex=function(z,B,W){this.length=Math.ceil((z.length-B)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re=0,ne=0,le;if(W==="be")for(J=z.length-1;J>=B;J-=2)le=h(z,B,J)<<re,this.words[ne]|=le&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=le>>>26):re+=8;else{var $=z.length-B;for(J=$%2===0?B+1:B;J<z.length;J+=2)le=h(z,B,J)<<re,this.words[ne]|=le&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=le>>>26):re+=8}this.strip()};function T(F,z,B,W){for(var J=0,re=Math.min(F.length,B),ne=z;ne<re;ne++){var le=F.charCodeAt(ne)-48;J*=W,le>=49?J+=le-49+10:le>=17?J+=le-17+10:J+=le}return J}u.prototype._parseBase=function(z,B,W){this.words=[0],this.length=1;for(var J=0,re=1;re<=67108863;re*=B)J++;J--,re=re/B|0;for(var ne=z.length-W,le=ne%J,$=Math.min(ne,ne-le)+W,Z=0,ie=W;ie<$;ie+=J)Z=T(z,ie,ie+J,B),this.imuln(re),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(le!==0){var X=1;for(Z=T(z,ie,z.length,B),ie=0;ie<le;ie++)X*=B;this.imuln(X),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},u.prototype.copy=function(z){z.words=new Array(this.length);for(var B=0;B<this.length;B++)z.words[B]=this.words[B];z.length=this.length,z.negative=this.negative,z.red=this.red},u.prototype.clone=function(){var z=new u(null);return this.copy(z),z},u.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(z,B){z=z||10,B=B|0||1;var W;if(z===16||z==="hex"){W="";for(var J=0,re=0,ne=0;ne<this.length;ne++){var le=this.words[ne],$=((le<<J|re)&16777215).toString(16);re=le>>>24-J&16777215,re!==0||ne!==this.length-1?W=c[6-$.length]+$+W:W=$+W,J+=2,J>=26&&(J-=26,ne--)}for(re!==0&&(W=re.toString(16)+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(z|0)&&z>=2&&z<=36){var Z=i[z],ie=d[z];W="";var X=this.clone();for(X.negative=0;!X.isZero();){var Q=X.modn(ie).toString(z);X=X.idivn(ie),X.isZero()?W=Q+W:W=c[Z-Q.length]+Q+W}for(this.isZero()&&(W="0"+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(z,B){return n(typeof l<"u"),this.toArrayLike(l,z,B)},u.prototype.toArray=function(z,B){return this.toArrayLike(Array,z,B)},u.prototype.toArrayLike=function(z,B,W){var J=this.byteLength(),re=W||Math.max(1,J);n(J<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ne=B==="le",le=new z(re),$,Z,ie=this.clone();if(ne){for(Z=0;!ie.isZero();Z++)$=ie.andln(255),ie.iushrn(8),le[Z]=$;for(;Z<re;Z++)le[Z]=0}else{for(Z=0;Z<re-J;Z++)le[Z]=0;for(Z=0;!ie.isZero();Z++)$=ie.andln(255),ie.iushrn(8),le[re-Z-1]=$}return le},Math.clz32?u.prototype._countBits=function(z){return 32-Math.clz32(z)}:u.prototype._countBits=function(z){var B=z,W=0;return B>=4096&&(W+=13,B>>>=13),B>=64&&(W+=7,B>>>=7),B>=8&&(W+=4,B>>>=4),B>=2&&(W+=2,B>>>=2),W+B},u.prototype._zeroBits=function(z){if(z===0)return 26;var B=z,W=0;return B&8191||(W+=13,B>>>=13),B&127||(W+=7,B>>>=7),B&15||(W+=4,B>>>=4),B&3||(W+=2,B>>>=2),B&1||W++,W},u.prototype.bitLength=function(){var z=this.words[this.length-1],B=this._countBits(z);return(this.length-1)*26+B};function b(F){for(var z=new Array(F.bitLength()),B=0;B<z.length;B++){var W=B/26|0,J=B%26;z[B]=(F.words[W]&1<<J)>>>J}return z}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,B=0;B<this.length;B++){var W=this._zeroBits(this.words[B]);if(z+=W,W!==26)break}return z},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},u.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var B=0;B<z.length;B++)this.words[B]=this.words[B]|z.words[B];return this.strip()},u.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},u.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},u.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},u.prototype.iuand=function(z){var B;this.length>z.length?B=z:B=this;for(var W=0;W<B.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=B.length,this.strip()},u.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},u.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},u.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},u.prototype.iuxor=function(z){var B,W;this.length>z.length?(B=this,W=z):(B=z,W=this);for(var J=0;J<W.length;J++)this.words[J]=B.words[J]^W.words[J];if(this!==B)for(;J<B.length;J++)this.words[J]=B.words[J];return this.length=B.length,this.strip()},u.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},u.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},u.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},u.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var B=Math.ceil(z/26)|0,W=z%26;this._expand(B),W>0&&B--;for(var J=0;J<B;J++)this.words[J]=~this.words[J]&67108863;return W>0&&(this.words[J]=~this.words[J]&67108863>>26-W),this.strip()},u.prototype.notn=function(z){return this.clone().inotn(z)},u.prototype.setn=function(z,B){n(typeof z=="number"&&z>=0);var W=z/26|0,J=z%26;return this._expand(W+1),B?this.words[W]=this.words[W]|1<<J:this.words[W]=this.words[W]&~(1<<J),this.strip()},u.prototype.iadd=function(z){var B;if(this.negative!==0&&z.negative===0)return this.negative=0,B=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,B=this.isub(z),z.negative=1,B._normSign();var W,J;this.length>z.length?(W=this,J=z):(W=z,J=this);for(var re=0,ne=0;ne<J.length;ne++)B=(W.words[ne]|0)+(J.words[ne]|0)+re,this.words[ne]=B&67108863,re=B>>>26;for(;re!==0&&ne<W.length;ne++)B=(W.words[ne]|0)+re,this.words[ne]=B&67108863,re=B>>>26;if(this.length=W.length,re!==0)this.words[this.length]=re,this.length++;else if(W!==this)for(;ne<W.length;ne++)this.words[ne]=W.words[ne];return this},u.prototype.add=function(z){var B;return z.negative!==0&&this.negative===0?(z.negative=0,B=this.sub(z),z.negative^=1,B):z.negative===0&&this.negative!==0?(this.negative=0,B=z.sub(this),this.negative=1,B):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},u.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var B=this.iadd(z);return z.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W=this.cmp(z);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,re;W>0?(J=this,re=z):(J=z,re=this);for(var ne=0,le=0;le<re.length;le++)B=(J.words[le]|0)-(re.words[le]|0)+ne,ne=B>>26,this.words[le]=B&67108863;for(;ne!==0&&le<J.length;le++)B=(J.words[le]|0)+ne,ne=B>>26,this.words[le]=B&67108863;if(ne===0&&le<J.length&&J!==this)for(;le<J.length;le++)this.words[le]=J.words[le];return this.length=Math.max(this.length,le),J!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(z){return this.clone().isub(z)};function w(F,z,B){B.negative=z.negative^F.negative;var W=F.length+z.length|0;B.length=W,W=W-1|0;var J=F.words[0]|0,re=z.words[0]|0,ne=J*re,le=ne&67108863,$=ne/67108864|0;B.words[0]=le;for(var Z=1;Z<W;Z++){for(var ie=$>>>26,X=$&67108863,Q=Math.min(Z,z.length-1),oe=Math.max(0,Z-F.length+1);oe<=Q;oe++){var j=Z-oe|0;J=F.words[j]|0,re=z.words[oe]|0,ne=J*re+X,ie+=ne/67108864|0,X=ne&67108863}B.words[Z]=X|0,$=ie|0}return $!==0?B.words[Z]=$|0:B.length--,B.strip()}var C=function(z,B,W){var J=z.words,re=B.words,ne=W.words,le=0,$,Z,ie,X=J[0]|0,Q=X&8191,oe=X>>>13,j=J[1]|0,Y=j&8191,se=j>>>13,te=J[2]|0,fe=te&8191,ge=te>>>13,be=J[3]|0,xe=be&8191,_e=be>>>13,De=J[4]|0,Fe=De&8191,Te=De>>>13,Re=J[5]|0,Se=Re&8191,ke=Re>>>13,Me=J[6]|0,Ve=Me&8191,tt=Me>>>13,it=J[7]|0,Je=it&8191,Qe=it>>>13,ct=J[8]|0,ht=ct&8191,dt=ct>>>13,Tt=J[9]|0,Et=Tt&8191,rt=Tt>>>13,ze=re[0]|0,Ge=ze&8191,je=ze>>>13,We=re[1]|0,Le=We&8191,Pe=We>>>13,Ye=re[2]|0,Ce=Ye&8191,he=Ye>>>13,me=re[3]|0,Ne=me&8191,$e=me>>>13,ot=re[4]|0,st=ot&8191,Wt=ot>>>13,Zt=re[5]|0,At=Zt&8191,Rt=Zt>>>13,Xt=re[6]|0,ir=Xt&8191,pt=Xt>>>13,Kt=re[7]|0,Qt=Kt&8191,yr=Kt>>>13,ur=re[8]|0,mt=ur&8191,lt=ur>>>13,bt=re[9]|0,Ct=bt&8191,Dt=bt>>>13;W.negative=z.negative^B.negative,W.length=19,$=Math.imul(Q,Ge),Z=Math.imul(Q,je),Z=Z+Math.imul(oe,Ge)|0,ie=Math.imul(oe,je);var Ht=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,$=Math.imul(Y,Ge),Z=Math.imul(Y,je),Z=Z+Math.imul(se,Ge)|0,ie=Math.imul(se,je),$=$+Math.imul(Q,Le)|0,Z=Z+Math.imul(Q,Pe)|0,Z=Z+Math.imul(oe,Le)|0,ie=ie+Math.imul(oe,Pe)|0;var Bt=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,$=Math.imul(fe,Ge),Z=Math.imul(fe,je),Z=Z+Math.imul(ge,Ge)|0,ie=Math.imul(ge,je),$=$+Math.imul(Y,Le)|0,Z=Z+Math.imul(Y,Pe)|0,Z=Z+Math.imul(se,Le)|0,ie=ie+Math.imul(se,Pe)|0,$=$+Math.imul(Q,Ce)|0,Z=Z+Math.imul(Q,he)|0,Z=Z+Math.imul(oe,Ce)|0,ie=ie+Math.imul(oe,he)|0;var xt=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(xt>>>26)|0,xt&=67108863,$=Math.imul(xe,Ge),Z=Math.imul(xe,je),Z=Z+Math.imul(_e,Ge)|0,ie=Math.imul(_e,je),$=$+Math.imul(fe,Le)|0,Z=Z+Math.imul(fe,Pe)|0,Z=Z+Math.imul(ge,Le)|0,ie=ie+Math.imul(ge,Pe)|0,$=$+Math.imul(Y,Ce)|0,Z=Z+Math.imul(Y,he)|0,Z=Z+Math.imul(se,Ce)|0,ie=ie+Math.imul(se,he)|0,$=$+Math.imul(Q,Ne)|0,Z=Z+Math.imul(Q,$e)|0,Z=Z+Math.imul(oe,Ne)|0,ie=ie+Math.imul(oe,$e)|0;var Ut=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,$=Math.imul(Fe,Ge),Z=Math.imul(Fe,je),Z=Z+Math.imul(Te,Ge)|0,ie=Math.imul(Te,je),$=$+Math.imul(xe,Le)|0,Z=Z+Math.imul(xe,Pe)|0,Z=Z+Math.imul(_e,Le)|0,ie=ie+Math.imul(_e,Pe)|0,$=$+Math.imul(fe,Ce)|0,Z=Z+Math.imul(fe,he)|0,Z=Z+Math.imul(ge,Ce)|0,ie=ie+Math.imul(ge,he)|0,$=$+Math.imul(Y,Ne)|0,Z=Z+Math.imul(Y,$e)|0,Z=Z+Math.imul(se,Ne)|0,ie=ie+Math.imul(se,$e)|0,$=$+Math.imul(Q,st)|0,Z=Z+Math.imul(Q,Wt)|0,Z=Z+Math.imul(oe,st)|0,ie=ie+Math.imul(oe,Wt)|0;var qt=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(qt>>>26)|0,qt&=67108863,$=Math.imul(Se,Ge),Z=Math.imul(Se,je),Z=Z+Math.imul(ke,Ge)|0,ie=Math.imul(ke,je),$=$+Math.imul(Fe,Le)|0,Z=Z+Math.imul(Fe,Pe)|0,Z=Z+Math.imul(Te,Le)|0,ie=ie+Math.imul(Te,Pe)|0,$=$+Math.imul(xe,Ce)|0,Z=Z+Math.imul(xe,he)|0,Z=Z+Math.imul(_e,Ce)|0,ie=ie+Math.imul(_e,he)|0,$=$+Math.imul(fe,Ne)|0,Z=Z+Math.imul(fe,$e)|0,Z=Z+Math.imul(ge,Ne)|0,ie=ie+Math.imul(ge,$e)|0,$=$+Math.imul(Y,st)|0,Z=Z+Math.imul(Y,Wt)|0,Z=Z+Math.imul(se,st)|0,ie=ie+Math.imul(se,Wt)|0,$=$+Math.imul(Q,At)|0,Z=Z+Math.imul(Q,Rt)|0,Z=Z+Math.imul(oe,At)|0,ie=ie+Math.imul(oe,Rt)|0;var or=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(or>>>26)|0,or&=67108863,$=Math.imul(Ve,Ge),Z=Math.imul(Ve,je),Z=Z+Math.imul(tt,Ge)|0,ie=Math.imul(tt,je),$=$+Math.imul(Se,Le)|0,Z=Z+Math.imul(Se,Pe)|0,Z=Z+Math.imul(ke,Le)|0,ie=ie+Math.imul(ke,Pe)|0,$=$+Math.imul(Fe,Ce)|0,Z=Z+Math.imul(Fe,he)|0,Z=Z+Math.imul(Te,Ce)|0,ie=ie+Math.imul(Te,he)|0,$=$+Math.imul(xe,Ne)|0,Z=Z+Math.imul(xe,$e)|0,Z=Z+Math.imul(_e,Ne)|0,ie=ie+Math.imul(_e,$e)|0,$=$+Math.imul(fe,st)|0,Z=Z+Math.imul(fe,Wt)|0,Z=Z+Math.imul(ge,st)|0,ie=ie+Math.imul(ge,Wt)|0,$=$+Math.imul(Y,At)|0,Z=Z+Math.imul(Y,Rt)|0,Z=Z+Math.imul(se,At)|0,ie=ie+Math.imul(se,Rt)|0,$=$+Math.imul(Q,ir)|0,Z=Z+Math.imul(Q,pt)|0,Z=Z+Math.imul(oe,ir)|0,ie=ie+Math.imul(oe,pt)|0;var rr=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,$=Math.imul(Je,Ge),Z=Math.imul(Je,je),Z=Z+Math.imul(Qe,Ge)|0,ie=Math.imul(Qe,je),$=$+Math.imul(Ve,Le)|0,Z=Z+Math.imul(Ve,Pe)|0,Z=Z+Math.imul(tt,Le)|0,ie=ie+Math.imul(tt,Pe)|0,$=$+Math.imul(Se,Ce)|0,Z=Z+Math.imul(Se,he)|0,Z=Z+Math.imul(ke,Ce)|0,ie=ie+Math.imul(ke,he)|0,$=$+Math.imul(Fe,Ne)|0,Z=Z+Math.imul(Fe,$e)|0,Z=Z+Math.imul(Te,Ne)|0,ie=ie+Math.imul(Te,$e)|0,$=$+Math.imul(xe,st)|0,Z=Z+Math.imul(xe,Wt)|0,Z=Z+Math.imul(_e,st)|0,ie=ie+Math.imul(_e,Wt)|0,$=$+Math.imul(fe,At)|0,Z=Z+Math.imul(fe,Rt)|0,Z=Z+Math.imul(ge,At)|0,ie=ie+Math.imul(ge,Rt)|0,$=$+Math.imul(Y,ir)|0,Z=Z+Math.imul(Y,pt)|0,Z=Z+Math.imul(se,ir)|0,ie=ie+Math.imul(se,pt)|0,$=$+Math.imul(Q,Qt)|0,Z=Z+Math.imul(Q,yr)|0,Z=Z+Math.imul(oe,Qt)|0,ie=ie+Math.imul(oe,yr)|0;var He=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(He>>>26)|0,He&=67108863,$=Math.imul(ht,Ge),Z=Math.imul(ht,je),Z=Z+Math.imul(dt,Ge)|0,ie=Math.imul(dt,je),$=$+Math.imul(Je,Le)|0,Z=Z+Math.imul(Je,Pe)|0,Z=Z+Math.imul(Qe,Le)|0,ie=ie+Math.imul(Qe,Pe)|0,$=$+Math.imul(Ve,Ce)|0,Z=Z+Math.imul(Ve,he)|0,Z=Z+Math.imul(tt,Ce)|0,ie=ie+Math.imul(tt,he)|0,$=$+Math.imul(Se,Ne)|0,Z=Z+Math.imul(Se,$e)|0,Z=Z+Math.imul(ke,Ne)|0,ie=ie+Math.imul(ke,$e)|0,$=$+Math.imul(Fe,st)|0,Z=Z+Math.imul(Fe,Wt)|0,Z=Z+Math.imul(Te,st)|0,ie=ie+Math.imul(Te,Wt)|0,$=$+Math.imul(xe,At)|0,Z=Z+Math.imul(xe,Rt)|0,Z=Z+Math.imul(_e,At)|0,ie=ie+Math.imul(_e,Rt)|0,$=$+Math.imul(fe,ir)|0,Z=Z+Math.imul(fe,pt)|0,Z=Z+Math.imul(ge,ir)|0,ie=ie+Math.imul(ge,pt)|0,$=$+Math.imul(Y,Qt)|0,Z=Z+Math.imul(Y,yr)|0,Z=Z+Math.imul(se,Qt)|0,ie=ie+Math.imul(se,yr)|0,$=$+Math.imul(Q,mt)|0,Z=Z+Math.imul(Q,lt)|0,Z=Z+Math.imul(oe,mt)|0,ie=ie+Math.imul(oe,lt)|0;var Ue=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,$=Math.imul(Et,Ge),Z=Math.imul(Et,je),Z=Z+Math.imul(rt,Ge)|0,ie=Math.imul(rt,je),$=$+Math.imul(ht,Le)|0,Z=Z+Math.imul(ht,Pe)|0,Z=Z+Math.imul(dt,Le)|0,ie=ie+Math.imul(dt,Pe)|0,$=$+Math.imul(Je,Ce)|0,Z=Z+Math.imul(Je,he)|0,Z=Z+Math.imul(Qe,Ce)|0,ie=ie+Math.imul(Qe,he)|0,$=$+Math.imul(Ve,Ne)|0,Z=Z+Math.imul(Ve,$e)|0,Z=Z+Math.imul(tt,Ne)|0,ie=ie+Math.imul(tt,$e)|0,$=$+Math.imul(Se,st)|0,Z=Z+Math.imul(Se,Wt)|0,Z=Z+Math.imul(ke,st)|0,ie=ie+Math.imul(ke,Wt)|0,$=$+Math.imul(Fe,At)|0,Z=Z+Math.imul(Fe,Rt)|0,Z=Z+Math.imul(Te,At)|0,ie=ie+Math.imul(Te,Rt)|0,$=$+Math.imul(xe,ir)|0,Z=Z+Math.imul(xe,pt)|0,Z=Z+Math.imul(_e,ir)|0,ie=ie+Math.imul(_e,pt)|0,$=$+Math.imul(fe,Qt)|0,Z=Z+Math.imul(fe,yr)|0,Z=Z+Math.imul(ge,Qt)|0,ie=ie+Math.imul(ge,yr)|0,$=$+Math.imul(Y,mt)|0,Z=Z+Math.imul(Y,lt)|0,Z=Z+Math.imul(se,mt)|0,ie=ie+Math.imul(se,lt)|0,$=$+Math.imul(Q,Ct)|0,Z=Z+Math.imul(Q,Dt)|0,Z=Z+Math.imul(oe,Ct)|0,ie=ie+Math.imul(oe,Dt)|0;var Ot=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,$=Math.imul(Et,Le),Z=Math.imul(Et,Pe),Z=Z+Math.imul(rt,Le)|0,ie=Math.imul(rt,Pe),$=$+Math.imul(ht,Ce)|0,Z=Z+Math.imul(ht,he)|0,Z=Z+Math.imul(dt,Ce)|0,ie=ie+Math.imul(dt,he)|0,$=$+Math.imul(Je,Ne)|0,Z=Z+Math.imul(Je,$e)|0,Z=Z+Math.imul(Qe,Ne)|0,ie=ie+Math.imul(Qe,$e)|0,$=$+Math.imul(Ve,st)|0,Z=Z+Math.imul(Ve,Wt)|0,Z=Z+Math.imul(tt,st)|0,ie=ie+Math.imul(tt,Wt)|0,$=$+Math.imul(Se,At)|0,Z=Z+Math.imul(Se,Rt)|0,Z=Z+Math.imul(ke,At)|0,ie=ie+Math.imul(ke,Rt)|0,$=$+Math.imul(Fe,ir)|0,Z=Z+Math.imul(Fe,pt)|0,Z=Z+Math.imul(Te,ir)|0,ie=ie+Math.imul(Te,pt)|0,$=$+Math.imul(xe,Qt)|0,Z=Z+Math.imul(xe,yr)|0,Z=Z+Math.imul(_e,Qt)|0,ie=ie+Math.imul(_e,yr)|0,$=$+Math.imul(fe,mt)|0,Z=Z+Math.imul(fe,lt)|0,Z=Z+Math.imul(ge,mt)|0,ie=ie+Math.imul(ge,lt)|0,$=$+Math.imul(Y,Ct)|0,Z=Z+Math.imul(Y,Dt)|0,Z=Z+Math.imul(se,Ct)|0,ie=ie+Math.imul(se,Dt)|0;var It=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(It>>>26)|0,It&=67108863,$=Math.imul(Et,Ce),Z=Math.imul(Et,he),Z=Z+Math.imul(rt,Ce)|0,ie=Math.imul(rt,he),$=$+Math.imul(ht,Ne)|0,Z=Z+Math.imul(ht,$e)|0,Z=Z+Math.imul(dt,Ne)|0,ie=ie+Math.imul(dt,$e)|0,$=$+Math.imul(Je,st)|0,Z=Z+Math.imul(Je,Wt)|0,Z=Z+Math.imul(Qe,st)|0,ie=ie+Math.imul(Qe,Wt)|0,$=$+Math.imul(Ve,At)|0,Z=Z+Math.imul(Ve,Rt)|0,Z=Z+Math.imul(tt,At)|0,ie=ie+Math.imul(tt,Rt)|0,$=$+Math.imul(Se,ir)|0,Z=Z+Math.imul(Se,pt)|0,Z=Z+Math.imul(ke,ir)|0,ie=ie+Math.imul(ke,pt)|0,$=$+Math.imul(Fe,Qt)|0,Z=Z+Math.imul(Fe,yr)|0,Z=Z+Math.imul(Te,Qt)|0,ie=ie+Math.imul(Te,yr)|0,$=$+Math.imul(xe,mt)|0,Z=Z+Math.imul(xe,lt)|0,Z=Z+Math.imul(_e,mt)|0,ie=ie+Math.imul(_e,lt)|0,$=$+Math.imul(fe,Ct)|0,Z=Z+Math.imul(fe,Dt)|0,Z=Z+Math.imul(ge,Ct)|0,ie=ie+Math.imul(ge,Dt)|0;var Jt=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,$=Math.imul(Et,Ne),Z=Math.imul(Et,$e),Z=Z+Math.imul(rt,Ne)|0,ie=Math.imul(rt,$e),$=$+Math.imul(ht,st)|0,Z=Z+Math.imul(ht,Wt)|0,Z=Z+Math.imul(dt,st)|0,ie=ie+Math.imul(dt,Wt)|0,$=$+Math.imul(Je,At)|0,Z=Z+Math.imul(Je,Rt)|0,Z=Z+Math.imul(Qe,At)|0,ie=ie+Math.imul(Qe,Rt)|0,$=$+Math.imul(Ve,ir)|0,Z=Z+Math.imul(Ve,pt)|0,Z=Z+Math.imul(tt,ir)|0,ie=ie+Math.imul(tt,pt)|0,$=$+Math.imul(Se,Qt)|0,Z=Z+Math.imul(Se,yr)|0,Z=Z+Math.imul(ke,Qt)|0,ie=ie+Math.imul(ke,yr)|0,$=$+Math.imul(Fe,mt)|0,Z=Z+Math.imul(Fe,lt)|0,Z=Z+Math.imul(Te,mt)|0,ie=ie+Math.imul(Te,lt)|0,$=$+Math.imul(xe,Ct)|0,Z=Z+Math.imul(xe,Dt)|0,Z=Z+Math.imul(_e,Ct)|0,ie=ie+Math.imul(_e,Dt)|0;var cr=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(cr>>>26)|0,cr&=67108863,$=Math.imul(Et,st),Z=Math.imul(Et,Wt),Z=Z+Math.imul(rt,st)|0,ie=Math.imul(rt,Wt),$=$+Math.imul(ht,At)|0,Z=Z+Math.imul(ht,Rt)|0,Z=Z+Math.imul(dt,At)|0,ie=ie+Math.imul(dt,Rt)|0,$=$+Math.imul(Je,ir)|0,Z=Z+Math.imul(Je,pt)|0,Z=Z+Math.imul(Qe,ir)|0,ie=ie+Math.imul(Qe,pt)|0,$=$+Math.imul(Ve,Qt)|0,Z=Z+Math.imul(Ve,yr)|0,Z=Z+Math.imul(tt,Qt)|0,ie=ie+Math.imul(tt,yr)|0,$=$+Math.imul(Se,mt)|0,Z=Z+Math.imul(Se,lt)|0,Z=Z+Math.imul(ke,mt)|0,ie=ie+Math.imul(ke,lt)|0,$=$+Math.imul(Fe,Ct)|0,Z=Z+Math.imul(Fe,Dt)|0,Z=Z+Math.imul(Te,Ct)|0,ie=ie+Math.imul(Te,Dt)|0;var vr=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(vr>>>26)|0,vr&=67108863,$=Math.imul(Et,At),Z=Math.imul(Et,Rt),Z=Z+Math.imul(rt,At)|0,ie=Math.imul(rt,Rt),$=$+Math.imul(ht,ir)|0,Z=Z+Math.imul(ht,pt)|0,Z=Z+Math.imul(dt,ir)|0,ie=ie+Math.imul(dt,pt)|0,$=$+Math.imul(Je,Qt)|0,Z=Z+Math.imul(Je,yr)|0,Z=Z+Math.imul(Qe,Qt)|0,ie=ie+Math.imul(Qe,yr)|0,$=$+Math.imul(Ve,mt)|0,Z=Z+Math.imul(Ve,lt)|0,Z=Z+Math.imul(tt,mt)|0,ie=ie+Math.imul(tt,lt)|0,$=$+Math.imul(Se,Ct)|0,Z=Z+Math.imul(Se,Dt)|0,Z=Z+Math.imul(ke,Ct)|0,ie=ie+Math.imul(ke,Dt)|0;var tr=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(tr>>>26)|0,tr&=67108863,$=Math.imul(Et,ir),Z=Math.imul(Et,pt),Z=Z+Math.imul(rt,ir)|0,ie=Math.imul(rt,pt),$=$+Math.imul(ht,Qt)|0,Z=Z+Math.imul(ht,yr)|0,Z=Z+Math.imul(dt,Qt)|0,ie=ie+Math.imul(dt,yr)|0,$=$+Math.imul(Je,mt)|0,Z=Z+Math.imul(Je,lt)|0,Z=Z+Math.imul(Qe,mt)|0,ie=ie+Math.imul(Qe,lt)|0,$=$+Math.imul(Ve,Ct)|0,Z=Z+Math.imul(Ve,Dt)|0,Z=Z+Math.imul(tt,Ct)|0,ie=ie+Math.imul(tt,Dt)|0;var Nt=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,$=Math.imul(Et,Qt),Z=Math.imul(Et,yr),Z=Z+Math.imul(rt,Qt)|0,ie=Math.imul(rt,yr),$=$+Math.imul(ht,mt)|0,Z=Z+Math.imul(ht,lt)|0,Z=Z+Math.imul(dt,mt)|0,ie=ie+Math.imul(dt,lt)|0,$=$+Math.imul(Je,Ct)|0,Z=Z+Math.imul(Je,Dt)|0,Z=Z+Math.imul(Qe,Ct)|0,ie=ie+Math.imul(Qe,Dt)|0;var sr=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(sr>>>26)|0,sr&=67108863,$=Math.imul(Et,mt),Z=Math.imul(Et,lt),Z=Z+Math.imul(rt,mt)|0,ie=Math.imul(rt,lt),$=$+Math.imul(ht,Ct)|0,Z=Z+Math.imul(ht,Dt)|0,Z=Z+Math.imul(dt,Ct)|0,ie=ie+Math.imul(dt,Dt)|0;var dr=(le+$|0)+((Z&8191)<<13)|0;le=(ie+(Z>>>13)|0)+(dr>>>26)|0,dr&=67108863,$=Math.imul(Et,Ct),Z=Math.imul(Et,Dt),Z=Z+Math.imul(rt,Ct)|0,ie=Math.imul(rt,Dt);var xr=(le+$|0)+((Z&8191)<<13)|0;return le=(ie+(Z>>>13)|0)+(xr>>>26)|0,xr&=67108863,ne[0]=Ht,ne[1]=Bt,ne[2]=xt,ne[3]=Ut,ne[4]=qt,ne[5]=or,ne[6]=rr,ne[7]=He,ne[8]=Ue,ne[9]=Ot,ne[10]=It,ne[11]=Jt,ne[12]=cr,ne[13]=vr,ne[14]=tr,ne[15]=Nt,ne[16]=sr,ne[17]=dr,ne[18]=xr,le!==0&&(ne[19]=le,W.length++),W};Math.imul||(C=w);function y(F,z,B){B.negative=z.negative^F.negative,B.length=F.length+z.length;for(var W=0,J=0,re=0;re<B.length-1;re++){var ne=J;J=0;for(var le=W&67108863,$=Math.min(re,z.length-1),Z=Math.max(0,re-F.length+1);Z<=$;Z++){var ie=re-Z,X=F.words[ie]|0,Q=z.words[Z]|0,oe=X*Q,j=oe&67108863;ne=ne+(oe/67108864|0)|0,j=j+le|0,le=j&67108863,ne=ne+(j>>>26)|0,J+=ne>>>26,ne&=67108863}B.words[re]=le,W=ne,ne=J}return W!==0?B.words[re]=W:B.length--,B.strip()}function E(F,z,B){var W=new A;return W.mulp(F,z,B)}u.prototype.mulTo=function(z,B){var W,J=this.length+z.length;return this.length===10&&z.length===10?W=C(this,z,B):J<63?W=w(this,z,B):J<1024?W=y(this,z,B):W=E(this,z,B),W};function A(F,z){this.x=F,this.y=z}A.prototype.makeRBT=function(z){for(var B=new Array(z),W=u.prototype._countBits(z)-1,J=0;J<z;J++)B[J]=this.revBin(J,W,z);return B},A.prototype.revBin=function(z,B,W){if(z===0||z===W-1)return z;for(var J=0,re=0;re<B;re++)J|=(z&1)<<B-re-1,z>>=1;return J},A.prototype.permute=function(z,B,W,J,re,ne){for(var le=0;le<ne;le++)J[le]=B[z[le]],re[le]=W[z[le]]},A.prototype.transform=function(z,B,W,J,re,ne){this.permute(ne,z,B,W,J,re);for(var le=1;le<re;le<<=1)for(var $=le<<1,Z=Math.cos(2*Math.PI/$),ie=Math.sin(2*Math.PI/$),X=0;X<re;X+=$)for(var Q=Z,oe=ie,j=0;j<le;j++){var Y=W[X+j],se=J[X+j],te=W[X+j+le],fe=J[X+j+le],ge=Q*te-oe*fe;fe=Q*fe+oe*te,te=ge,W[X+j]=Y+te,J[X+j]=se+fe,W[X+j+le]=Y-te,J[X+j+le]=se-fe,j!==$&&(ge=Z*Q-ie*oe,oe=Z*oe+ie*Q,Q=ge)}},A.prototype.guessLen13b=function(z,B){var W=Math.max(B,z)|1,J=W&1,re=0;for(W=W/2|0;W;W=W>>>1)re++;return 1<<re+1+J},A.prototype.conjugate=function(z,B,W){if(!(W<=1))for(var J=0;J<W/2;J++){var re=z[J];z[J]=z[W-J-1],z[W-J-1]=re,re=B[J],B[J]=-B[W-J-1],B[W-J-1]=-re}},A.prototype.normalize13b=function(z,B){for(var W=0,J=0;J<B/2;J++){var re=Math.round(z[2*J+1]/B)*8192+Math.round(z[2*J]/B)+W;z[J]=re&67108863,re<67108864?W=0:W=re/67108864|0}return z},A.prototype.convert13b=function(z,B,W,J){for(var re=0,ne=0;ne<B;ne++)re=re+(z[ne]|0),W[2*ne]=re&8191,re=re>>>13,W[2*ne+1]=re&8191,re=re>>>13;for(ne=2*B;ne<J;++ne)W[ne]=0;n(re===0),n((re&-8192)===0)},A.prototype.stub=function(z){for(var B=new Array(z),W=0;W<z;W++)B[W]=0;return B},A.prototype.mulp=function(z,B,W){var J=2*this.guessLen13b(z.length,B.length),re=this.makeRBT(J),ne=this.stub(J),le=new Array(J),$=new Array(J),Z=new Array(J),ie=new Array(J),X=new Array(J),Q=new Array(J),oe=W.words;oe.length=J,this.convert13b(z.words,z.length,le,J),this.convert13b(B.words,B.length,ie,J),this.transform(le,ne,$,Z,J,re),this.transform(ie,ne,X,Q,J,re);for(var j=0;j<J;j++){var Y=$[j]*X[j]-Z[j]*Q[j];Z[j]=$[j]*Q[j]+Z[j]*X[j],$[j]=Y}return this.conjugate($,Z,J),this.transform($,Z,oe,ne,J,re),this.conjugate(oe,ne,J),this.normalize13b(oe,J),W.negative=z.negative^B.negative,W.length=z.length+B.length,W.strip()},u.prototype.mul=function(z){var B=new u(null);return B.words=new Array(this.length+z.length),this.mulTo(z,B)},u.prototype.mulf=function(z){var B=new u(null);return B.words=new Array(this.length+z.length),E(this,z,B)},u.prototype.imul=function(z){return this.clone().mulTo(z,this)},u.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var B=0,W=0;W<this.length;W++){var J=(this.words[W]|0)*z,re=(J&67108863)+(B&67108863);B>>=26,B+=J/67108864|0,B+=re>>>26,this.words[W]=re&67108863}return B!==0&&(this.words[W]=B,this.length++),this},u.prototype.muln=function(z){return this.clone().imuln(z)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(z){var B=b(z);if(B.length===0)return new u(1);for(var W=this,J=0;J<B.length&&B[J]===0;J++,W=W.sqr());if(++J<B.length)for(var re=W.sqr();J<B.length;J++,re=re.sqr())B[J]!==0&&(W=W.mul(re));return W},u.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26,J=67108863>>>26-B<<26-B,re;if(B!==0){var ne=0;for(re=0;re<this.length;re++){var le=this.words[re]&J,$=(this.words[re]|0)-le<<B;this.words[re]=$|ne,ne=le>>>26-B}ne&&(this.words[re]=ne,this.length++)}if(W!==0){for(re=this.length-1;re>=0;re--)this.words[re+W]=this.words[re];for(re=0;re<W;re++)this.words[re]=0;this.length+=W}return this.strip()},u.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},u.prototype.iushrn=function(z,B,W){n(typeof z=="number"&&z>=0);var J;B?J=(B-B%26)/26:J=0;var re=z%26,ne=Math.min((z-re)/26,this.length),le=67108863^67108863>>>re<<re,$=W;if(J-=ne,J=Math.max(0,J),$){for(var Z=0;Z<ne;Z++)$.words[Z]=this.words[Z];$.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+ne];else this.words[0]=0,this.length=1;var ie=0;for(Z=this.length-1;Z>=0&&(ie!==0||Z>=J);Z--){var X=this.words[Z]|0;this.words[Z]=ie<<26-re|X>>>re,ie=X&le}return $&&ie!==0&&($.words[$.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(z,B,W){return n(this.negative===0),this.iushrn(z,B,W)},u.prototype.shln=function(z){return this.clone().ishln(z)},u.prototype.ushln=function(z){return this.clone().iushln(z)},u.prototype.shrn=function(z){return this.clone().ishrn(z)},u.prototype.ushrn=function(z){return this.clone().iushrn(z)},u.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26,J=1<<B;if(this.length<=W)return!1;var re=this.words[W];return!!(re&J)},u.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(B!==0&&W++,this.length=Math.min(W,this.length),B!==0){var J=67108863^67108863>>>B<<B;this.words[this.length-1]&=J}return this.strip()},u.prototype.maskn=function(z){return this.clone().imaskn(z)},u.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},u.prototype._iaddn=function(z){this.words[0]+=z;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},u.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},u.prototype.addn=function(z){return this.clone().iaddn(z)},u.prototype.subn=function(z){return this.clone().isubn(z)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(z,B,W){var J=z.length+W,re;this._expand(J);var ne,le=0;for(re=0;re<z.length;re++){ne=(this.words[re+W]|0)+le;var $=(z.words[re]|0)*B;ne-=$&67108863,le=(ne>>26)-($/67108864|0),this.words[re+W]=ne&67108863}for(;re<this.length-W;re++)ne=(this.words[re+W]|0)+le,le=ne>>26,this.words[re+W]=ne&67108863;if(le===0)return this.strip();for(n(le===-1),le=0,re=0;re<this.length;re++)ne=-(this.words[re]|0)+le,le=ne>>26,this.words[re]=ne&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(z,B){var W=this.length-z.length,J=this.clone(),re=z,ne=re.words[re.length-1]|0,le=this._countBits(ne);W=26-le,W!==0&&(re=re.ushln(W),J.iushln(W),ne=re.words[re.length-1]|0);var $=J.length-re.length,Z;if(B!=="mod"){Z=new u(null),Z.length=$+1,Z.words=new Array(Z.length);for(var ie=0;ie<Z.length;ie++)Z.words[ie]=0}var X=J.clone()._ishlnsubmul(re,1,$);X.negative===0&&(J=X,Z&&(Z.words[$]=1));for(var Q=$-1;Q>=0;Q--){var oe=(J.words[re.length+Q]|0)*67108864+(J.words[re.length+Q-1]|0);for(oe=Math.min(oe/ne|0,67108863),J._ishlnsubmul(re,oe,Q);J.negative!==0;)oe--,J.negative=0,J._ishlnsubmul(re,1,Q),J.isZero()||(J.negative^=1);Z&&(Z.words[Q]=oe)}return Z&&Z.strip(),J.strip(),B!=="div"&&W!==0&&J.iushrn(W),{div:Z||null,mod:J}},u.prototype.divmod=function(z,B,W){if(n(!z.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var J,re,ne;return this.negative!==0&&z.negative===0?(ne=this.neg().divmod(z,B),B!=="mod"&&(J=ne.div.neg()),B!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.iadd(z)),{div:J,mod:re}):this.negative===0&&z.negative!==0?(ne=this.divmod(z.neg(),B),B!=="mod"&&(J=ne.div.neg()),{div:J,mod:ne.mod}):this.negative&z.negative?(ne=this.neg().divmod(z.neg(),B),B!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.isub(z)),{div:ne.div,mod:re}):z.length>this.length||this.cmp(z)<0?{div:new u(0),mod:this}:z.length===1?B==="div"?{div:this.divn(z.words[0]),mod:null}:B==="mod"?{div:null,mod:new u(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new u(this.modn(z.words[0]))}:this._wordDiv(z,B)},u.prototype.div=function(z){return this.divmod(z,"div",!1).div},u.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},u.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},u.prototype.divRound=function(z){var B=this.divmod(z);if(B.mod.isZero())return B.div;var W=B.div.negative!==0?B.mod.isub(z):B.mod,J=z.ushrn(1),re=z.andln(1),ne=W.cmp(J);return ne<0||re===1&&ne===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},u.prototype.modn=function(z){n(z<=67108863);for(var B=(1<<26)%z,W=0,J=this.length-1;J>=0;J--)W=(B*W+(this.words[J]|0))%z;return W},u.prototype.idivn=function(z){n(z<=67108863);for(var B=0,W=this.length-1;W>=0;W--){var J=(this.words[W]|0)+B*67108864;this.words[W]=J/z|0,B=J%z}return this.strip()},u.prototype.divn=function(z){return this.clone().idivn(z)},u.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var B=this,W=z.clone();B.negative!==0?B=B.umod(z):B=B.clone();for(var J=new u(1),re=new u(0),ne=new u(0),le=new u(1),$=0;B.isEven()&&W.isEven();)B.iushrn(1),W.iushrn(1),++$;for(var Z=W.clone(),ie=B.clone();!B.isZero();){for(var X=0,Q=1;!(B.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(B.iushrn(X);X-- >0;)(J.isOdd()||re.isOdd())&&(J.iadd(Z),re.isub(ie)),J.iushrn(1),re.iushrn(1);for(var oe=0,j=1;!(W.words[0]&j)&&oe<26;++oe,j<<=1);if(oe>0)for(W.iushrn(oe);oe-- >0;)(ne.isOdd()||le.isOdd())&&(ne.iadd(Z),le.isub(ie)),ne.iushrn(1),le.iushrn(1);B.cmp(W)>=0?(B.isub(W),J.isub(ne),re.isub(le)):(W.isub(B),ne.isub(J),le.isub(re))}return{a:ne,b:le,gcd:W.iushln($)}},u.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var B=this,W=z.clone();B.negative!==0?B=B.umod(z):B=B.clone();for(var J=new u(1),re=new u(0),ne=W.clone();B.cmpn(1)>0&&W.cmpn(1)>0;){for(var le=0,$=1;!(B.words[0]&$)&&le<26;++le,$<<=1);if(le>0)for(B.iushrn(le);le-- >0;)J.isOdd()&&J.iadd(ne),J.iushrn(1);for(var Z=0,ie=1;!(W.words[0]&ie)&&Z<26;++Z,ie<<=1);if(Z>0)for(W.iushrn(Z);Z-- >0;)re.isOdd()&&re.iadd(ne),re.iushrn(1);B.cmp(W)>=0?(B.isub(W),J.isub(re)):(W.isub(B),re.isub(J))}var X;return B.cmpn(1)===0?X=J:X=re,X.cmpn(0)<0&&X.iadd(z),X},u.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var B=this.clone(),W=z.clone();B.negative=0,W.negative=0;for(var J=0;B.isEven()&&W.isEven();J++)B.iushrn(1),W.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;W.isEven();)W.iushrn(1);var re=B.cmp(W);if(re<0){var ne=B;B=W,W=ne}else if(re===0||W.cmpn(1)===0)break;B.isub(W)}while(!0);return W.iushln(J)},u.prototype.invm=function(z){return this.egcd(z).a.umod(z)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(z){return this.words[0]&z},u.prototype.bincn=function(z){n(typeof z=="number");var B=z%26,W=(z-B)/26,J=1<<B;if(this.length<=W)return this._expand(W+1),this.words[W]|=J,this;for(var re=J,ne=W;re!==0&&ne<this.length;ne++){var le=this.words[ne]|0;le+=re,re=le>>>26,le&=67108863,this.words[ne]=le}return re!==0&&(this.words[ne]=re,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(z){var B=z<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var W;if(this.length>1)W=1;else{B&&(z=-z),n(z<=67108863,"Number is too big");var J=this.words[0]|0;W=J===z?0:J<z?-1:1}return this.negative!==0?-W|0:W},u.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var B=this.ucmp(z);return this.negative!==0?-B|0:B},u.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var B=0,W=this.length-1;W>=0;W--){var J=this.words[W]|0,re=z.words[W]|0;if(J!==re){J<re?B=-1:J>re&&(B=1);break}}return B},u.prototype.gtn=function(z){return this.cmpn(z)===1},u.prototype.gt=function(z){return this.cmp(z)===1},u.prototype.gten=function(z){return this.cmpn(z)>=0},u.prototype.gte=function(z){return this.cmp(z)>=0},u.prototype.ltn=function(z){return this.cmpn(z)===-1},u.prototype.lt=function(z){return this.cmp(z)===-1},u.prototype.lten=function(z){return this.cmpn(z)<=0},u.prototype.lte=function(z){return this.cmp(z)<=0},u.prototype.eqn=function(z){return this.cmpn(z)===0},u.prototype.eq=function(z){return this.cmp(z)===0},u.red=function(z){return new k(z)},u.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(z){return this.red=z,this},u.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},u.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},u.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},u.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},u.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},u.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},u.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},u.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var o={k256:null,p224:null,p192:null,p25519:null};function M(F,z){this.name=F,this.p=new u(z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var z=new u(null);return z.words=new Array(Math.ceil(this.n/13)),z},M.prototype.ireduce=function(z){var B=z,W;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),W=B.bitLength();while(W>this.n);var J=W<this.n?-1:B.ucmp(this.p);return J===0?(B.words[0]=0,B.length=1):J>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},M.prototype.split=function(z,B){z.iushrn(this.n,0,B)},M.prototype.imulK=function(z){return z.imul(this.k)};function x(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(x,M),x.prototype.split=function(z,B){for(var W=4194303,J=Math.min(z.length,9),re=0;re<J;re++)B.words[re]=z.words[re];if(B.length=J,z.length<=9){z.words[0]=0,z.length=1;return}var ne=z.words[9];for(B.words[B.length++]=ne&W,re=10;re<z.length;re++){var le=z.words[re]|0;z.words[re-10]=(le&W)<<4|ne>>>22,ne=le}ne>>>=22,z.words[re-10]=ne,ne===0&&z.length>10?z.length-=10:z.length-=9},x.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var B=0,W=0;W<z.length;W++){var J=z.words[W]|0;B+=J*977,z.words[W]=B&67108863,B=J*64+(B/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function I(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(I,M);function D(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(D,M);function N(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(N,M),N.prototype.imulK=function(z){for(var B=0,W=0;W<z.length;W++){var J=(z.words[W]|0)*19+B,re=J&67108863;J>>>=26,z.words[W]=re,B=J}return B!==0&&(z.words[z.length++]=B),z},u._prime=function(z){if(o[z])return o[z];var B;if(z==="k256")B=new x;else if(z==="p224")B=new I;else if(z==="p192")B=new D;else if(z==="p25519")B=new N;else throw new Error("Unknown prime "+z);return o[z]=B,B};function k(F){if(typeof F=="string"){var z=u._prime(F);this.m=z.p,this.prime=z}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}k.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},k.prototype._verify2=function(z,B){n((z.negative|B.negative)===0,"red works only with positives"),n(z.red&&z.red===B.red,"red works only with red numbers")},k.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},k.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},k.prototype.add=function(z,B){this._verify2(z,B);var W=z.add(B);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},k.prototype.iadd=function(z,B){this._verify2(z,B);var W=z.iadd(B);return W.cmp(this.m)>=0&&W.isub(this.m),W},k.prototype.sub=function(z,B){this._verify2(z,B);var W=z.sub(B);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},k.prototype.isub=function(z,B){this._verify2(z,B);var W=z.isub(B);return W.cmpn(0)<0&&W.iadd(this.m),W},k.prototype.shl=function(z,B){return this._verify1(z),this.imod(z.ushln(B))},k.prototype.imul=function(z,B){return this._verify2(z,B),this.imod(z.imul(B))},k.prototype.mul=function(z,B){return this._verify2(z,B),this.imod(z.mul(B))},k.prototype.isqr=function(z){return this.imul(z,z.clone())},k.prototype.sqr=function(z){return this.mul(z,z)},k.prototype.sqrt=function(z){if(z.isZero())return z.clone();var B=this.m.andln(3);if(n(B%2===1),B===3){var W=this.m.add(new u(1)).iushrn(2);return this.pow(z,W)}for(var J=this.m.subn(1),re=0;!J.isZero()&&J.andln(1)===0;)re++,J.iushrn(1);n(!J.isZero());var ne=new u(1).toRed(this),le=ne.redNeg(),$=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new u(2*Z*Z).toRed(this);this.pow(Z,$).cmp(le)!==0;)Z.redIAdd(le);for(var ie=this.pow(Z,J),X=this.pow(z,J.addn(1).iushrn(1)),Q=this.pow(z,J),oe=re;Q.cmp(ne)!==0;){for(var j=Q,Y=0;j.cmp(ne)!==0;Y++)j=j.redSqr();n(Y<oe);var se=this.pow(ie,new u(1).iushln(oe-Y-1));X=X.redMul(se),ie=se.redSqr(),Q=Q.redMul(ie),oe=Y}return X},k.prototype.invm=function(z){var B=z._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},k.prototype.pow=function(z,B){if(B.isZero())return new u(1).toRed(this);if(B.cmpn(1)===0)return z.clone();var W=4,J=new Array(1<<W);J[0]=new u(1).toRed(this),J[1]=z;for(var re=2;re<J.length;re++)J[re]=this.mul(J[re-1],z);var ne=J[0],le=0,$=0,Z=B.bitLength()%26;for(Z===0&&(Z=26),re=B.length-1;re>=0;re--){for(var ie=B.words[re],X=Z-1;X>=0;X--){var Q=ie>>X&1;if(ne!==J[0]&&(ne=this.sqr(ne)),Q===0&&le===0){$=0;continue}le<<=1,le|=Q,$++,!($!==W&&(re!==0||X!==0))&&(ne=this.mul(ne,J[le]),$=0,le=0)}Z=26}return ne},k.prototype.convertTo=function(z){var B=z.umod(this.m);return B===z?B.clone():B},k.prototype.convertFrom=function(z){var B=z.clone();return B.red=null,B},u.mont=function(z){return new O(z)};function O(F){k.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(O,k),O.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},O.prototype.convertFrom=function(z){var B=this.imod(z.mul(this.rinv));return B.red=null,B},O.prototype.imul=function(z,B){if(z.isZero()||B.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(B),J=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub(J).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.mul=function(z,B){if(z.isZero()||B.isZero())return new u(0)._forceRed(this);var W=z.mul(B),J=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub(J).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.invm=function(z){var B=this.imod(z._invmp(this.m).mul(this.r2));return B._forceRed(this)}}(v,this)},6204:function(v){v.exports=p;function p(r){var t,a,n,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),g=0;for(t=0;t<f;++t){var h=r[t],T=h.length;for(a=0;a<T;++a){var c=l[g++]=new Array(T-1),i=0;for(n=0;n<T;++n)n!==a&&(c[i++]=h[n]);if(a&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},6867:function(v,p,r){v.exports=i;var t=r(1888),a=r(855),n=r(7150);function f(d,b){for(var w=0;w<d;++w)if(!(b[w]<=b[w+d]))return!0;return!1}function u(d,b,w,C){for(var y=0,E=0,A=0,o=d.length;A<o;++A){var M=d[A];if(!f(b,M)){for(var x=0;x<2*b;++x)w[y++]=M[x];C[E++]=A}}return E}function l(d,b,w,C){var y=d.length,E=b.length;if(!(y<=0||E<=0)){var A=d[0].length>>>1;if(!(A<=0)){var o,M=t.mallocDouble(2*A*y),x=t.mallocInt32(y);if(y=u(d,A,M,x),y>0){if(A===1&&C)a.init(y),o=a.sweepComplete(A,w,0,y,M,x,0,y,M,x);else{var I=t.mallocDouble(2*A*E),D=t.mallocInt32(E);E=u(b,A,I,D),E>0&&(a.init(y+E),A===1?o=a.sweepBipartite(A,w,0,y,M,x,0,E,I,D):o=n(A,w,C,y,M,x,E,I,D),t.free(I),t.free(D))}t.free(M),t.free(x)}return o}}}var g;function h(d,b){g.push([d,b])}function T(d){return g=[],l(d,d,h,!0),g}function c(d,b){return g=[],l(d,b,h,!1),g}function i(d,b,w){switch(arguments.length){case 1:return T(d);case 2:return typeof b=="function"?l(d,d,b,!0):c(d,b);case 3:return l(d,b,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,p){function r(){function n(l,g,h,T,c,i,d,b,w,C,y){for(var E=2*l,A=T,o=E*T;A<c;++A,o+=E){var M=i[g+o],x=i[g+o+l],I=d[A];e:for(var D=b,N=E*b;D<w;++D,N+=E){var k=C[g+N],O=C[g+N+l],F=y[D];if(!(O<M||x<k)){for(var z=g+1;z<l;++z){var B=i[z+o],W=i[z+l+o],J=C[z+N],re=C[z+l+N];if(W<J||re<B)continue e}var ne=h(I,F);if(ne!==void 0)return ne}}}}function f(l,g,h,T,c,i,d,b,w,C,y){for(var E=2*l,A=b,o=E*b;A<w;++A,o+=E){var M=C[g+o],x=C[g+o+l],I=y[A];e:for(var D=T,N=E*T;D<c;++D,N+=E){var k=i[g+N],O=i[g+N+l],F=d[D];if(!(x<k||O<M)){for(var z=g+1;z<l;++z){var B=i[z+N],W=i[z+l+N],J=C[z+o],re=C[z+l+o];if(W<J||re<B)continue e}var ne=h(F,I);if(ne!==void 0)return ne}}}}function u(l,g,h,T,c,i,d,b,w,C,y){return c-T>w-b?n(l,g,h,T,c,i,d,b,w,C,y):f(l,g,h,T,c,i,d,b,w,C,y)}return u}function t(){function n(h,T,c,i,d,b,w,C,y,E,A){for(var o=2*h,M=i,x=o*i;M<d;++M,x+=o){var I=b[T+x],D=b[T+x+h],N=w[M];e:for(var k=C,O=o*C;k<y;++k,O+=o){var F=E[T+O],z=A[k];if(!(F<=I||D<F)){for(var B=T+1;B<h;++B){var W=b[B+x],J=b[B+h+x],re=E[B+O],ne=E[B+h+O];if(J<re||ne<W)continue e}var le=c(z,N);if(le!==void 0)return le}}}}function f(h,T,c,i,d,b,w,C,y,E,A){for(var o=2*h,M=i,x=o*i;M<d;++M,x+=o){var I=b[T+x],D=b[T+x+h],N=w[M];e:for(var k=C,O=o*C;k<y;++k,O+=o){var F=E[T+O],z=A[k];if(!(F<I||D<F)){for(var B=T+1;B<h;++B){var W=b[B+x],J=b[B+h+x],re=E[B+O],ne=E[B+h+O];if(J<re||ne<W)continue e}var le=c(N,z);if(le!==void 0)return le}}}}function u(h,T,c,i,d,b,w,C,y,E,A){for(var o=2*h,M=C,x=o*C;M<y;++M,x+=o){var I=E[T+x],D=A[M];e:for(var N=i,k=o*i;N<d;++N,k+=o){var O=b[T+k],F=b[T+k+h],z=w[N];if(!(I<=O||F<I)){for(var B=T+1;B<h;++B){var W=b[B+k],J=b[B+h+k],re=E[B+x],ne=E[B+h+x];if(J<re||ne<W)continue e}var le=c(D,z);if(le!==void 0)return le}}}}function l(h,T,c,i,d,b,w,C,y,E,A){for(var o=2*h,M=C,x=o*C;M<y;++M,x+=o){var I=E[T+x],D=A[M];e:for(var N=i,k=o*i;N<d;++N,k+=o){var O=b[T+k],F=b[T+k+h],z=w[N];if(!(I<O||F<I)){for(var B=T+1;B<h;++B){var W=b[B+k],J=b[B+h+k],re=E[B+x],ne=E[B+h+x];if(J<re||ne<W)continue e}var le=c(z,D);if(le!==void 0)return le}}}}function g(h,T,c,i,d,b,w,C,y,E,A,o){return b-d>E-y?i?n(h,T,c,d,b,w,C,y,E,A,o):f(h,T,c,d,b,w,C,y,E,A,o):i?u(h,T,c,d,b,w,C,y,E,A,o):l(h,T,c,d,b,w,C,y,E,A,o)}return g}function a(n){return n?r():t()}p.partial=a(!1),p.full=a(!0)},7150:function(v,p,r){v.exports=F;var t=r(1888),a=r(8828),n=r(2455),f=n.partial,u=n.full,l=r(855),g=r(3545),h=r(8105),T=128,c=1<<22,i=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),b=h("lo===p0"),w=h("lo<p0"),C=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),E=h("lo<p0&&p0<=hi"),A=6,o=2,M=1024,x=t.mallocInt32(M),I=t.mallocDouble(M);function D(z,B){var W=8*a.log2(B+1)*(z+1)|0,J=a.nextPow2(A*W);x.length<J&&(t.free(x),x=t.mallocInt32(J));var re=a.nextPow2(o*W);I.length<re&&(t.free(I),I=t.mallocDouble(re))}function N(z,B,W,J,re,ne,le,$,Z){var ie=A*z;x[ie]=B,x[ie+1]=W,x[ie+2]=J,x[ie+3]=re,x[ie+4]=ne,x[ie+5]=le;var X=o*z;I[X]=$,I[X+1]=Z}function k(z,B,W,J,re,ne,le,$,Z,ie,X){var Q=2*z,oe=Z*Q,j=ie[oe+B];e:for(var Y=re,se=re*Q;Y<ne;++Y,se+=Q){var te=le[se+B],fe=le[se+B+z];if(!(j<te||fe<j)&&!(J&&j===te)){for(var ge=$[Y],be=B+1;be<z;++be){var te=le[se+be],fe=le[se+be+z],xe=ie[oe+be],_e=ie[oe+be+z];if(fe<xe||_e<te)continue e}var De;if(J?De=W(X,ge):De=W(ge,X),De!==void 0)return De}}}function O(z,B,W,J,re,ne,le,$,Z,ie){var X=2*z,Q=$*X,oe=Z[Q+B];e:for(var j=J,Y=J*X;j<re;++j,Y+=X){var se=le[j];if(se!==ie){var te=ne[Y+B],fe=ne[Y+B+z];if(!(oe<te||fe<oe)){for(var ge=B+1;ge<z;++ge){var te=ne[Y+ge],fe=ne[Y+ge+z],be=Z[Q+ge],xe=Z[Q+ge+z];if(fe<be||xe<te)continue e}var _e=W(se,ie);if(_e!==void 0)return _e}}}}function F(z,B,W,J,re,ne,le,$,Z){D(z,J+le);var ie=0,X=2*z,Q;for(N(ie++,0,0,J,0,le,W?16:0,-1/0,1/0),W||N(ie++,0,0,le,0,J,1,-1/0,1/0);ie>0;){ie-=1;var oe=ie*A,j=x[oe],Y=x[oe+1],se=x[oe+2],te=x[oe+3],fe=x[oe+4],ge=x[oe+5],be=ie*o,xe=I[be],_e=I[be+1],De=ge&1,Fe=!!(ge&16),Te=re,Re=ne,Se=$,ke=Z;if(De&&(Te=$,Re=Z,Se=re,ke=ne),!(ge&2&&(se=w(z,j,Y,se,Te,Re,_e),Y>=se))&&!(ge&4&&(Y=C(z,j,Y,se,Te,Re,xe),Y>=se))){var Me=se-Y,Ve=fe-te;if(Fe){if(z*Me*(Me+Ve)<i){if(Q=l.scanComplete(z,j,B,Y,se,Te,Re,te,fe,Se,ke),Q!==void 0)return Q;continue}}else if(z*Math.min(Me,Ve)<T){if(Q=f(z,j,B,De,Y,se,Te,Re,te,fe,Se,ke),Q!==void 0)return Q;continue}else if(z*Me*Ve<c){if(Q=l.scanBipartite(z,j,B,De,Y,se,Te,Re,te,fe,Se,ke),Q!==void 0)return Q;continue}var tt=d(z,j,Y,se,Te,Re,xe,_e);if(Y<tt)if(z*(tt-Y)<T){if(Q=u(z,j+1,B,Y,tt,Te,Re,te,fe,Se,ke),Q!==void 0)return Q}else if(j===z-2){if(De?Q=l.sweepBipartite(z,B,te,fe,Se,ke,Y,tt,Te,Re):Q=l.sweepBipartite(z,B,Y,tt,Te,Re,te,fe,Se,ke),Q!==void 0)return Q}else N(ie++,j+1,Y,tt,te,fe,De,-1/0,1/0),N(ie++,j+1,te,fe,Y,tt,De^1,-1/0,1/0);if(tt<se){var it=g(z,j,te,fe,Se,ke),Je=Se[X*it+j],Qe=b(z,j,it,fe,Se,ke,Je);if(Qe<fe&&N(ie++,j,tt,se,Qe,fe,(De|4)+(Fe?16:0),Je,_e),te<it&&N(ie++,j,tt,se,te,it,(De|2)+(Fe?16:0),xe,Je),it+1===Qe){if(Fe?Q=O(z,j,B,tt,se,Te,Re,it,Se,ke[it]):Q=k(z,j,B,De,tt,se,Te,Re,it,Se,ke[it]),Q!==void 0)return Q}else if(it<Qe){var ct;if(Fe){if(ct=y(z,j,tt,se,Te,Re,Je),tt<ct){var ht=b(z,j,tt,ct,Te,Re,Je);if(j===z-2){if(tt<ht&&(Q=l.sweepComplete(z,B,tt,ht,Te,Re,it,Qe,Se,ke),Q!==void 0)||ht<ct&&(Q=l.sweepBipartite(z,B,ht,ct,Te,Re,it,Qe,Se,ke),Q!==void 0))return Q}else tt<ht&&N(ie++,j+1,tt,ht,it,Qe,16,-1/0,1/0),ht<ct&&(N(ie++,j+1,ht,ct,it,Qe,0,-1/0,1/0),N(ie++,j+1,it,Qe,ht,ct,1,-1/0,1/0))}}else De?ct=E(z,j,tt,se,Te,Re,Je):ct=y(z,j,tt,se,Te,Re,Je),tt<ct&&(j===z-2?De?Q=l.sweepBipartite(z,B,it,Qe,Se,ke,tt,ct,Te,Re):Q=l.sweepBipartite(z,B,tt,ct,Te,Re,it,Qe,Se,ke):(N(ie++,j+1,tt,ct,it,Qe,De,-1/0,1/0),N(ie++,j+1,it,Qe,tt,ct,De^1,-1/0,1/0)))}}}}}},3545:function(v,p,r){v.exports=u;var t=r(8105),a=t("lo<p0"),n=8;function f(l,g,h,T,c,i){for(var d=2*l,b=d*(h+1)+g,w=h+1;w<T;++w,b+=d)for(var C=c[b],y=w,E=d*(w-1);y>h&&c[E+g]>C;--y,E-=d){for(var A=E,o=E+d,M=0;M<d;++M,++A,++o){var x=c[A];c[A]=c[o],c[o]=x}var I=i[y];i[y]=i[y-1],i[y-1]=I}}function u(l,g,h,T,c,i){if(T<=h+1)return h;for(var d=h,b=T,w=T+h>>>1,C=2*l,y=w,E=c[C*w+g];d<b;){if(b-d<n){f(l,g,d,b,c,i),E=c[C*w+g];break}var A=b-d,o=Math.random()*A+d|0,M=c[C*o+g],x=Math.random()*A+d|0,I=c[C*x+g],D=Math.random()*A+d|0,N=c[C*D+g];M<=I?N>=I?(y=x,E=I):M>=N?(y=o,E=M):(y=D,E=N):I>=N?(y=x,E=I):N>=M?(y=o,E=M):(y=D,E=N);for(var F=C*(b-1),z=C*y,k=0;k<C;++k,++F,++z){var O=c[F];c[F]=c[z],c[z]=O}var B=i[b-1];i[b-1]=i[y],i[y]=B,y=a(l,g,d,b-1,c,i,E);for(var F=C*(b-1),z=C*y,k=0;k<C;++k,++F,++z){var O=c[F];c[F]=c[z],c[z]=O}var B=i[b-1];if(i[b-1]=i[y],i[y]=B,w<y){for(b=y-1;d<b&&c[C*(b-1)+g]===E;)b-=1;b+=1}else if(y<w)for(d=y+1;d<b&&c[C*d+g]===E;)d+=1;else break}return a(l,g,h,w,c,i,c[C*w+g])}},8105:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":a,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":g};function r(h){return p[h]}function t(h,T,c,i,d,b,w){for(var C=2*h,y=C*c,E=y,A=c,o=T,M=h+T,x=c;i>x;++x,y+=C){var I=d[y+o];if(I===w)if(A===x)A+=1,E+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[E],d[E++]=N}var k=b[x];b[x]=b[A],b[A++]=k}}return A}function a(h,T,c,i,d,b,w){for(var C=2*h,y=C*c,E=y,A=c,o=T,M=h+T,x=c;i>x;++x,y+=C){var I=d[y+o];if(I<w)if(A===x)A+=1,E+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[E],d[E++]=N}var k=b[x];b[x]=b[A],b[A++]=k}}return A}function n(h,T,c,i,d,b,w){for(var C=2*h,y=C*c,E=y,A=c,o=T,M=h+T,x=c;i>x;++x,y+=C){var I=d[y+M];if(I<=w)if(A===x)A+=1,E+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[E],d[E++]=N}var k=b[x];b[x]=b[A],b[A++]=k}}return A}function f(h,T,c,i,d,b,w){for(var C=2*h,y=C*c,E=y,A=c,o=T,M=h+T,x=c;i>x;++x,y+=C){var I=d[y+M];if(I<=w)if(A===x)A+=1,E+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[E],d[E++]=N}var k=b[x];b[x]=b[A],b[A++]=k}}return A}function u(h,T,c,i,d,b,w){for(var C=2*h,y=C*c,E=y,A=c,o=T,M=h+T,x=c;i>x;++x,y+=C){var I=d[y+o],D=d[y+M];if(I<=w&&w<=D)if(A===x)A+=1,E+=C;else{for(var N=0;C>N;++N){var k=d[y+N];d[y+N]=d[E],d[E++]=k}var O=b[x];b[x]=b[A],b[A++]=O}}return A}function l(h,T,c,i,d,b,w){for(var C=2*h,y=C*c,E=y,A=c,o=T,M=h+T,x=c;i>x;++x,y+=C){var I=d[y+o],D=d[y+M];if(I<w&&w<=D)if(A===x)A+=1,E+=C;else{for(var N=0;C>N;++N){var k=d[y+N];d[y+N]=d[E],d[E++]=k}var O=b[x];b[x]=b[A],b[A++]=O}}return A}function g(h,T,c,i,d,b,w,C){for(var y=2*h,E=y*c,A=E,o=c,M=T,x=h+T,I=c;i>I;++I,E+=y){var D=d[E+M],N=d[E+x];if(!(D>=w)&&!(C>=N))if(o===I)o+=1,A+=y;else{for(var k=0;y>k;++k){var O=d[E+k];d[E+k]=d[A],d[A++]=O}var F=b[I];b[I]=b[o],b[o++]=F}}return o}},1811:function(v){v.exports=r;var p=32;function r(T,c){c<=4*p?t(0,c-1,T):h(0,c-1,T)}function t(T,c,i){for(var d=2*(T+1),b=T+1;b<=c;++b){for(var w=i[d++],C=i[d++],y=b,E=d-2;y-- >T;){var A=i[E-2],o=i[E-1];if(A<w)break;if(A===w&&o<C)break;i[E]=A,i[E+1]=o,E-=2}i[E]=w,i[E+1]=C}}function a(T,c,i){T*=2,c*=2;var d=i[T],b=i[T+1];i[T]=i[c],i[T+1]=i[c+1],i[c]=d,i[c+1]=b}function n(T,c,i){T*=2,c*=2,i[T]=i[c],i[T+1]=i[c+1]}function f(T,c,i,d){T*=2,c*=2,i*=2;var b=d[T],w=d[T+1];d[T]=d[c],d[T+1]=d[c+1],d[c]=d[i],d[c+1]=d[i+1],d[i]=b,d[i+1]=w}function u(T,c,i,d,b){T*=2,c*=2,b[T]=b[c],b[c]=i,b[T+1]=b[c+1],b[c+1]=d}function l(T,c,i){T*=2,c*=2;var d=i[T],b=i[c];return d<b?!1:d===b?i[T+1]>i[c+1]:!0}function g(T,c,i,d){T*=2;var b=d[T];return b<c?!0:b===c?d[T+1]<i:!1}function h(T,c,i){var d=(c-T+1)/6|0,b=T+d,w=c-d,C=T+c>>1,y=C-d,E=C+d,A=b,o=y,M=C,x=E,I=w,D=T+1,N=c-1,k=0;l(A,o,i)&&(k=A,A=o,o=k),l(x,I,i)&&(k=x,x=I,I=k),l(A,M,i)&&(k=A,A=M,M=k),l(o,M,i)&&(k=o,o=M,M=k),l(A,x,i)&&(k=A,A=x,x=k),l(M,x,i)&&(k=M,M=x,x=k),l(o,I,i)&&(k=o,o=I,I=k),l(o,M,i)&&(k=o,o=M,M=k),l(x,I,i)&&(k=x,x=I,I=k);for(var O=i[2*o],F=i[2*o+1],z=i[2*x],B=i[2*x+1],W=2*A,J=2*M,re=2*I,ne=2*b,le=2*C,$=2*w,Z=0;Z<2;++Z){var ie=i[W+Z],X=i[J+Z],Q=i[re+Z];i[ne+Z]=ie,i[le+Z]=X,i[$+Z]=Q}n(y,T,i),n(E,c,i);for(var oe=D;oe<=N;++oe)if(g(oe,O,F,i))oe!==D&&a(oe,D,i),++D;else if(!g(oe,z,B,i))for(;;)if(g(N,z,B,i)){g(N,O,F,i)?(f(oe,D,N,i),++D,--N):(a(oe,N,i),--N);break}else{if(--N<oe)break;continue}u(T,D-1,O,F,i),u(c,N+1,z,B,i),D-2-T<=p?t(T,D-2,i):h(T,D-2,i),c-(N+2)<=p?t(N+2,c,i):h(N+2,c,i),N-D<=p?t(D,N,i):h(D,N,i)}},855:function(v,p,r){v.exports={init:b,sweepBipartite:y,sweepComplete:E,scanBipartite:A,scanComplete:o};var t=r(1888),a=r(8828),n=r(1811),f=1<<28,u=1024,l=t.mallocInt32(u),g=t.mallocInt32(u),h=t.mallocInt32(u),T=t.mallocInt32(u),c=t.mallocInt32(u),i=t.mallocInt32(u),d=t.mallocDouble(u*8);function b(M){var x=a.nextPow2(M);l.length<x&&(t.free(l),l=t.mallocInt32(x)),g.length<x&&(t.free(g),g=t.mallocInt32(x)),h.length<x&&(t.free(h),h=t.mallocInt32(x)),T.length<x&&(t.free(T),T=t.mallocInt32(x)),c.length<x&&(t.free(c),c=t.mallocInt32(x)),i.length<x&&(t.free(i),i=t.mallocInt32(x));var I=8*x;d.length<I&&(t.free(d),d=t.mallocDouble(I))}function w(M,x,I,D){var N=x[D],k=M[I-1];M[N]=k,x[k]=N}function C(M,x,I,D){M[I]=D,x[D]=I}function y(M,x,I,D,N,k,O,F,z,B){for(var W=0,J=2*M,re=M-1,ne=J-1,le=I;le<D;++le){var $=k[le],Z=J*le;d[W++]=N[Z+re],d[W++]=-($+1),d[W++]=N[Z+ne],d[W++]=$}for(var le=O;le<F;++le){var $=B[le]+f,ie=J*le;d[W++]=z[ie+re],d[W++]=-$,d[W++]=z[ie+ne],d[W++]=$}var X=W>>>1;n(d,X);for(var Q=0,oe=0,le=0;le<X;++le){var j=d[2*le+1]|0;if(j>=f)j=j-f|0,w(h,T,oe--,j);else if(j>=0)w(l,g,Q--,j);else if(j<=-f){j=-j-f|0;for(var Y=0;Y<Q;++Y){var se=x(l[Y],j);if(se!==void 0)return se}C(h,T,oe++,j)}else{j=-j-1|0;for(var Y=0;Y<oe;++Y){var se=x(j,h[Y]);if(se!==void 0)return se}C(l,g,Q++,j)}}}function E(M,x,I,D,N,k,O,F,z,B){for(var W=0,J=2*M,re=M-1,ne=J-1,le=I;le<D;++le){var $=k[le]+1<<1,Z=J*le;d[W++]=N[Z+re],d[W++]=-$,d[W++]=N[Z+ne],d[W++]=$}for(var le=O;le<F;++le){var $=B[le]+1<<1,ie=J*le;d[W++]=z[ie+re],d[W++]=-$|1,d[W++]=z[ie+ne],d[W++]=$|1}var X=W>>>1;n(d,X);for(var Q=0,oe=0,j=0,le=0;le<X;++le){var Y=d[2*le+1]|0,se=Y&1;if(le<X-1&&Y>>1===d[2*le+3]>>1&&(se=2,le+=1),Y<0){for(var te=-(Y>>1)-1,fe=0;fe<j;++fe){var ge=x(c[fe],te);if(ge!==void 0)return ge}if(se!==0)for(var fe=0;fe<Q;++fe){var ge=x(l[fe],te);if(ge!==void 0)return ge}if(se!==1)for(var fe=0;fe<oe;++fe){var ge=x(h[fe],te);if(ge!==void 0)return ge}se===0?C(l,g,Q++,te):se===1?C(h,T,oe++,te):se===2&&C(c,i,j++,te)}else{var te=(Y>>1)-1;se===0?w(l,g,Q--,te):se===1?w(h,T,oe--,te):se===2&&w(c,i,j--,te)}}}function A(M,x,I,D,N,k,O,F,z,B,W,J){var re=0,ne=2*M,le=x,$=x+M,Z=1,ie=1;D?ie=f:Z=f;for(var X=N;X<k;++X){var Q=X+Z,oe=ne*X;d[re++]=O[oe+le],d[re++]=-Q,d[re++]=O[oe+$],d[re++]=Q}for(var X=z;X<B;++X){var Q=X+ie,j=ne*X;d[re++]=W[j+le],d[re++]=-Q}var Y=re>>>1;n(d,Y);for(var se=0,X=0;X<Y;++X){var te=d[2*X+1]|0;if(te<0){var Q=-te,fe=!1;if(Q>=f?(fe=!D,Q-=f):(fe=!!D,Q-=1),fe)C(l,g,se++,Q);else{var ge=J[Q],be=ne*Q,xe=W[be+x+1],_e=W[be+x+1+M];e:for(var De=0;De<se;++De){var Fe=l[De],Te=ne*Fe;if(!(_e<O[Te+x+1]||O[Te+x+1+M]<xe)){for(var Re=x+2;Re<M;++Re)if(W[be+Re+M]<O[Te+Re]||O[Te+Re+M]<W[be+Re])continue e;var Se=F[Fe],ke;if(D?ke=I(ge,Se):ke=I(Se,ge),ke!==void 0)return ke}}}}else w(l,g,se--,te-Z)}}function o(M,x,I,D,N,k,O,F,z,B,W){for(var J=0,re=2*M,ne=x,le=x+M,$=D;$<N;++$){var Z=$+f,ie=re*$;d[J++]=k[ie+ne],d[J++]=-Z,d[J++]=k[ie+le],d[J++]=Z}for(var $=F;$<z;++$){var Z=$+1,X=re*$;d[J++]=B[X+ne],d[J++]=-Z}var Q=J>>>1;n(d,Q);for(var oe=0,$=0;$<Q;++$){var j=d[2*$+1]|0;if(j<0){var Z=-j;if(Z>=f)l[oe++]=Z-f;else{Z-=1;var Y=W[Z],se=re*Z,te=B[se+x+1],fe=B[se+x+1+M];e:for(var ge=0;ge<oe;++ge){var be=l[ge],xe=O[be];if(xe===Y)break;var _e=re*be;if(!(fe<k[_e+x+1]||k[_e+x+1+M]<te)){for(var De=x+2;De<M;++De)if(B[se+De+M]<k[_e+De]||k[_e+De+M]<B[se+De])continue e;var Fe=I(xe,Y);if(Fe!==void 0)return Fe}}}}else{for(var Z=j-f,ge=oe-1;ge>=0;--ge)if(l[ge]===Z){for(var De=ge+1;De<oe;++De)l[De-1]=l[De];break}--oe}}}},2538:function(v,p,r){var t=r(8902),a=r(5542),n=r(2272),f=r(5023);v.exports=T;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,i){return c[0]-i[0]||c[1]-i[1]}function g(c){return c.map(u).sort(l)}function h(c,i,d){return i in c?c[i]:d}function T(c,i,d){Array.isArray(i)?(d=d||{},i=i||[]):(d=i||{},i=[]);var b=!!h(d,"delaunay",!0),w=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!w&&!C||c.length===0)return[];var E=t(c,i);if(b||w!==C||y){for(var A=a(c.length,g(i)),o=0;o<E.length;++o){var M=E[o];A.addTriangle(M[0],M[1],M[2])}return b&&n(c,A),C?w?y?f(A,0,y):A.cells():f(A,1,y):f(A,-1)}else return E}},2272:function(v,p,r){var t=r(2646)[4];r(2478),v.exports=n;function a(f,u,l,g,h,T){var c=u.opposite(g,h);if(!(c<0)){if(h<g){var i=g;g=h,h=i,i=T,T=c,c=i}u.isConstraint(g,h)||t(f[g],f[h],f[T],f[c])<0&&l.push(g,h)}}function n(f,u){for(var l=[],g=f.length,h=u.stars,T=0;T<g;++T)for(var c=h[T],i=1;i<c.length;i+=2){var d=c[i];if(!(d<T)&&!u.isConstraint(T,d)){for(var b=c[i-1],w=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){w=c[C];break}w<0||t(f[T],f[d],f[b],f[w])<0&&l.push(T,d)}}for(;l.length>0;){for(var d=l.pop(),T=l.pop(),b=-1,w=-1,c=h[T],y=1;y<c.length;y+=2){var E=c[y-1],A=c[y];E===d?w=A:A===d&&(b=E)}b<0||w<0||t(f[T],f[d],f[b],f[w])>=0||(u.flip(T,d),a(f,u,l,b,T,w),a(f,u,l,T,w,b),a(f,u,l,w,d,b),a(f,u,l,d,b,w))}}},5023:function(v,p,r){var t=r(2478);v.exports=g;function a(h,T,c,i,d,b,w){this.cells=h,this.neighbor=T,this.flags=i,this.constraint=c,this.active=d,this.next=b,this.boundary=w}var n=a.prototype;function f(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}n.locate=function(){var h=[0,0,0];return function(T,c,i){var d=T,b=c,w=i;return c<i?c<T&&(d=c,b=i,w=T):i<T&&(d=i,b=T,w=c),d<0?-1:(h[0]=d,h[1]=b,h[2]=w,t.eq(this.cells,h,f))}}();function u(h,T){for(var c=h.cells(),i=c.length,d=0;d<i;++d){var b=c[d],w=b[0],C=b[1],y=b[2];C<y?C<w&&(b[0]=C,b[1]=y,b[2]=w):y<w&&(b[0]=y,b[1]=w,b[2]=C)}c.sort(f);for(var E=new Array(i),d=0;d<E.length;++d)E[d]=0;var A=[],o=[],M=new Array(3*i),x=new Array(3*i),I=null;T&&(I=[]);for(var D=new a(c,M,x,E,A,o,I),d=0;d<i;++d)for(var b=c[d],N=0;N<3;++N){var w=b[N],C=b[(N+1)%3],k=M[3*d+N]=D.locate(C,w,h.opposite(C,w)),O=x[3*d+N]=h.isConstraint(w,C);k<0&&(O?o.push(d):(A.push(d),E[d]=1),T&&I.push([C,w,-1]))}return D}function l(h,T,c){for(var i=0,d=0;d<h.length;++d)T[d]===c&&(h[i++]=h[d]);return h.length=i,h}function g(h,T,c){var i=u(h,c);if(T===0)return c?i.cells.concat(i.boundary):i.cells;for(var d=1,b=i.active,w=i.next,C=i.flags,y=i.cells,E=i.constraint,A=i.neighbor;b.length>0||w.length>0;){for(;b.length>0;){var o=b.pop();if(C[o]!==-d){C[o]=d,y[o];for(var M=0;M<3;++M){var x=A[3*o+M];x>=0&&C[x]===0&&(E[3*o+M]?w.push(x):(b.push(x),C[x]=d))}}}var I=w;w=b,b=I,w.length=0,d=-d}var D=l(y,C,T);return c?D.concat(i.boundary):D}},8902:function(v,p,r){var t=r(2478),a=r(3250)[3],n=0,f=1,u=2;v.exports=w;function l(C,y,E,A,o){this.a=C,this.b=y,this.idx=E,this.lowerIds=A,this.upperIds=o}function g(C,y,E,A){this.a=C,this.b=y,this.type=E,this.idx=A}function h(C,y){var E=C.a[0]-y.a[0]||C.a[1]-y.a[1]||C.type-y.type;return E||C.type!==n&&(E=a(C.a,C.b,y.b),E)?E:C.idx-y.idx}function T(C,y){return a(C.a,C.b,y)}function c(C,y,E,A,o){for(var M=t.lt(y,A,T),x=t.gt(y,A,T),I=M;I<x;++I){for(var D=y[I],N=D.lowerIds,O=N.length;O>1&&a(E[N[O-2]],E[N[O-1]],A)>0;)C.push([N[O-1],N[O-2],o]),O-=1;N.length=O,N.push(o);for(var k=D.upperIds,O=k.length;O>1&&a(E[k[O-2]],E[k[O-1]],A)<0;)C.push([k[O-2],k[O-1],o]),O-=1;k.length=O,k.push(o)}}function i(C,y){var E;return C.a[0]<y.a[0]?E=a(C.a,C.b,y.a):E=a(y.b,y.a,C.a),E||(y.b[0]<C.b[0]?E=a(C.a,C.b,y.b):E=a(y.b,y.a,C.b),E||C.idx-y.idx)}function d(C,y,E){var A=t.le(C,E,i),o=C[A],M=o.upperIds,x=M[M.length-1];o.upperIds=[x],C.splice(A+1,0,new l(E.a,E.b,E.idx,[x],M))}function b(C,y,E){var A=E.a;E.a=E.b,E.b=A;var o=t.eq(C,E,i),M=C[o],x=C[o-1];x.upperIds=M.upperIds,C.splice(o,1)}function w(C,y){for(var E=C.length,A=y.length,o=[],M=0;M<E;++M)o.push(new g(C[M],null,n,M));for(var M=0;M<A;++M){var x=y[M],I=C[x[0]],D=C[x[1]];I[0]<D[0]?o.push(new g(I,D,u,M),new g(D,I,f,M)):I[0]>D[0]&&o.push(new g(D,I,u,M),new g(I,D,f,M))}o.sort(h);for(var N=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),k=[new l([N,1],[N,0],-1,[],[])],O=[],M=0,F=o.length;M<F;++M){var z=o[M],B=z.type;B===n?c(O,k,C,z.a,z.idx):B===u?d(k,C,z):b(k,C,z)}return O}},5542:function(v,p,r){var t=r(2478);v.exports=u;function a(l,g){this.stars=l,this.edges=g}var n=a.prototype;function f(l,g,h){for(var T=1,c=l.length;T<c;T+=2)if(l[T-1]===g&&l[T]===h){l[T-1]=l[c-2],l[T]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function g(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return l[0]=Math.min(h,T),l[1]=Math.max(h,T),t.eq(this.edges,l,g)>=0}}(),n.removeTriangle=function(l,g,h){var T=this.stars;f(T[l],g,h),f(T[g],h,l),f(T[h],l,g)},n.addTriangle=function(l,g,h){var T=this.stars;T[l].push(g,h),T[g].push(h,l),T[h].push(l,g)},n.opposite=function(l,g){for(var h=this.stars[g],T=1,c=h.length;T<c;T+=2)if(h[T]===l)return h[T-1];return-1},n.flip=function(l,g){var h=this.opposite(l,g),T=this.opposite(g,l);this.removeTriangle(l,g,h),this.removeTriangle(g,l,T),this.addTriangle(l,T,h),this.addTriangle(g,h,T)},n.edges=function(){for(var l=this.stars,g=[],h=0,T=l.length;h<T;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2)g.push([c[i],c[i+1]]);return g},n.cells=function(){for(var l=this.stars,g=[],h=0,T=l.length;h<T;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2){var b=c[i],w=c[i+1];h<Math.min(b,w)&&g.push([h,b,w])}return g};function u(l,g){for(var h=new Array(l),T=0;T<l;++T)h[T]=[];return new a(h,g)}},2419:function(v){v.exports=p;function p(r){for(var t=1,a=1;a<r.length;++a)for(var n=0;n<a;++n)if(r[a]<r[n])t=-t;else if(r[n]===r[a])return 0;return t}},3628:function(v,p,r){var t=r(1338),a=r(727);function n(l,g){for(var h=0,T=l.length,c=0;c<T;++c)h+=l[c]*g[c];return h}function f(l){var g=l.length;if(g===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),T=t([l.length+1],1);h[g][g]=0;for(var c=0;c<g;++c){for(var i=0;i<=c;++i)h[i][c]=h[c][i]=2*n(l[c],l[i]);T[c]=n(l[c],l[c])}for(var d=a(h,T),b=0,w=d[g+1],c=0;c<w.length;++c)b+=w[c];for(var C=new Array(g),c=0;c<g;++c){for(var w=d[c],y=0,i=0;i<w.length;++i)y+=w[i];C[c]=y/b}return C}function u(l){if(l.length===0)return[];for(var g=l[0].length,h=t([g]),T=f(l),c=0;c<l.length;++c)for(var i=0;i<g;++i)h[i]+=l[c][i]*T[c];return h}u.barycenetric=f,v.exports=u},6037:function(v,p,r){v.exports=a;var t=r(3628);function a(n){for(var f=t(n),u=0,l=0;l<n.length;++l)for(var g=n[l],h=0;h<f.length;++h)u+=Math.pow(g[h]-f[h],2);return Math.sqrt(u/n.length)}},332:function(v,p,r){v.exports=I;var t=r(1755),a=r(6867),n=r(1125),f=r(7842),u=r(1318),l=r(946),g=r(5838),h=r(1278),T=r(3637);function c(D){var N=l(D);return[h(N,-1/0),h(N,1/0)]}function i(D,N){for(var k=new Array(N.length),O=0;O<N.length;++O){var F=N[O],z=D[F[0]],B=D[F[1]];k[O]=[h(Math.min(z[0],B[0]),-1/0),h(Math.min(z[1],B[1]),-1/0),h(Math.max(z[0],B[0]),1/0),h(Math.max(z[1],B[1]),1/0)]}return k}function d(D){for(var N=new Array(D.length),k=0;k<D.length;++k){var O=D[k];N[k]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return N}function b(D,N,k){var O=[];return a(k,function(F,z){var B=N[F],W=N[z];if(!(B[0]===W[0]||B[0]===W[1]||B[1]===W[0]||B[1]===W[1])){var J=D[B[0]],re=D[B[1]],ne=D[W[0]],le=D[W[1]];n(J,re,ne,le)&&O.push([F,z])}}),O}function w(D,N,k,O){var F=[];return a(k,O,function(z,B){var W=N[z];if(!(W[0]===B||W[1]===B)){var J=D[B],re=D[W[0]],ne=D[W[1]];n(re,ne,J,J)&&F.push([z,B])}}),F}function C(D,N,k,O,F){var z,B,W=D.map(function(be){return[f(be[0]),f(be[1])]});for(z=0;z<k.length;++z){var J=k[z];B=J[0];var re=J[1],ne=N[B],le=N[re],$=T(g(D[ne[0]]),g(D[ne[1]]),g(D[le[0]]),g(D[le[1]]));if($){var Z=D.length;D.push([l($[0]),l($[1])]),W.push($),O.push([B,Z],[re,Z])}}for(O.sort(function(be,xe){if(be[0]!==xe[0])return be[0]-xe[0];var _e=W[be[1]],De=W[xe[1]];return u(_e[0],De[0])||u(_e[1],De[1])}),z=O.length-1;z>=0;--z){var ie=O[z];B=ie[0];var X=N[B],Q=X[0],oe=X[1],j=D[Q],Y=D[oe];if((j[0]-Y[0]||j[1]-Y[1])<0){var se=Q;Q=oe,oe=se}X[0]=Q;var te=X[1]=ie[1],fe;for(F&&(fe=X[2]);z>0&&O[z-1][0]===B;){var ie=O[--z],ge=ie[1];F?N.push([te,ge,fe]):N.push([te,ge]),te=ge}F?N.push([te,oe,fe]):N.push([te,oe])}return W}function y(D,N,k){for(var O=N.length,F=new t(O),z=[],B=0;B<N.length;++B){var W=N[B],J=c(W[0]),re=c(W[1]);z.push([h(J[0],-1/0),h(re[0],-1/0),h(J[1],1/0),h(re[1],1/0)])}a(z,function(ie,X){F.link(ie,X)});for(var ne=!0,le=new Array(O),B=0;B<O;++B){var $=F.find(B);$!==B&&(ne=!1,D[$]=[Math.min(D[B][0],D[$][0]),Math.min(D[B][1],D[$][1])])}if(ne)return null;for(var Z=0,B=0;B<O;++B){var $=F.find(B);$===B?(le[B]=Z,D[Z++]=D[B]):le[B]=-1}D.length=Z;for(var B=0;B<O;++B)le[B]<0&&(le[B]=le[F.find(B)]);return le}function E(D,N){return D[0]-N[0]||D[1]-N[1]}function A(D,N){var k=D[0]-N[0]||D[1]-N[1];return k||(D[2]<N[2]?-1:D[2]>N[2]?1:0)}function o(D,N,k){if(D.length!==0){if(N)for(var O=0;O<D.length;++O){var F=D[O],z=N[F[0]],B=N[F[1]];F[0]=Math.min(z,B),F[1]=Math.max(z,B)}else for(var O=0;O<D.length;++O){var F=D[O],z=F[0],B=F[1];F[0]=Math.min(z,B),F[1]=Math.max(z,B)}k?D.sort(A):D.sort(E);for(var W=1,O=1;O<D.length;++O){var J=D[O-1],re=D[O];re[0]===J[0]&&re[1]===J[1]&&(!k||re[2]===J[2])||(D[W++]=re)}D.length=W}}function M(D,N,k){var O=y(D,[],d(D));return o(N,O,k),!!O}function x(D,N,k){var O=i(D,N),F=b(D,N,O),z=d(D),B=w(D,N,O,z),W=C(D,N,F,B,k),J=y(D,W);return o(N,J,k),J?!0:F.length>0||B.length>0}function I(D,N,k){var O;if(k){O=N;for(var F=new Array(N.length),z=0;z<N.length;++z){var B=N[z];F[z]=[B[0],B[1],k[z]]}N=F}for(var W=M(D,N,!!k);x(D,N,!!k);)W=!0;if(k&&W){O.length=0,k.length=0;for(var z=0;z<N.length;++z){var B=N[z];O.push([B[0],B[1]]),k.push(B[2])}}return W}},3637:function(v,p,r){v.exports=T;var t=r(6504),a=r(8697),n=r(5572),f=r(7721),u=r(544),l=r(2653),g=r(8987);function h(c,i){return n(t(c[0],i[1]),t(c[1],i[0]))}function T(c,i,d,b){var w=u(i,c),C=u(b,d),y=h(w,C);if(f(y)===0)return null;var E=u(c,d),A=h(C,E),o=a(A,y),M=g(w,o),x=l(c,M);return x}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,p,r){var t=r(3642),a=r(395);v.exports=n;function n(g){var h,T,c,i,d,b,w,C,o,y,E;if(g||(g={}),C=(g.nshades||72)-1,w=g.format||"hex",b=g.colormap,b||(b="jet"),typeof b=="string"){if(b=b.toLowerCase(),!t[b])throw Error(b+" not a supported colorscale");d=t[b]}else if(Array.isArray(b))d=b.slice();else throw Error("unsupported colormap option",b);if(d.length>C+1)throw new Error(b+" map requires nshades to be at least size "+d.length);Array.isArray(g.alpha)?g.alpha.length!==2?y=[1,1]:y=g.alpha.slice():typeof g.alpha=="number"?y=[g.alpha,g.alpha]:y=[1,1],h=d.map(function(I){return Math.round(I.index*C)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var A=d.map(function(I,D){var N=d[D].index,k=d[D].rgb.slice();return k.length===4&&k[3]>=0&&k[3]<=1||(k[3]=y[0]+(y[1]-y[0])*N),k}),o=[];for(E=0;E<h.length-1;++E){i=h[E+1]-h[E],T=A[E],c=A[E+1];for(var M=0;M<i;M++){var x=M/i;o.push([Math.round(a(T[0],c[0],x)),Math.round(a(T[1],c[1],x)),Math.round(a(T[2],c[2],x)),a(T[3],c[3],x)])}}return o.push(d[d.length-1].rgb.concat(y[1])),w==="hex"?o=o.map(u):w==="rgbaString"?o=o.map(l):w==="float"&&(o=o.map(f)),o}function f(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function u(g){for(var h,T="#",c=0;c<3;++c)h=g[c],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function l(g){return"rgba("+g.join(",")+")"}},3140:function(v,p,r){v.exports=g;var t=r(3250),a=r(8572),n=r(9362),f=r(5382),u=r(8210);function l(h,T,c){var i=n(h[0],-T[0]),d=n(h[1],-T[1]),b=n(c[0],-T[0]),w=n(c[1],-T[1]),C=u(f(i,b),f(d,w));return C[C.length-1]>=0}function g(h,T,c,i){var d=t(T,c,i);if(d===0){var b=a(t(h,T,c)),w=a(t(h,T,i));if(b===w){if(b===0){var C=l(h,T,c),y=l(h,T,i);return C===y?0:C?1:-1}return 0}else{if(w===0)return b>0||l(h,T,i)?-1:1;if(b===0)return w>0||l(h,T,c)?1:-1}return a(w-b)}var E=t(h,T,c);if(E>0)return d>0&&t(h,T,i)>0?1:-1;if(E<0)return d>0||t(h,T,i)>0?1:-1;var A=t(h,T,i);return A>0||l(h,T,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var p=Math.min;function r(a,n){return a-n}function t(a,n){var f=a.length,u=a.length-n.length;if(u)return u;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:return a[0]+a[1]-n[0]-n[1]||p(a[0],a[1])-p(n[0],n[1]);case 3:var l=a[0]+a[1],g=n[0]+n[1];if(u=l+a[2]-(g+n[2]),u)return u;var h=p(a[0],a[1]),T=p(n[0],n[1]);return p(h,a[2])-p(T,n[2])||p(h+a[2],l)-p(T+n[2],g);case 4:var c=a[0],i=a[1],d=a[2],b=a[3],w=n[0],C=n[1],y=n[2],E=n[3];return c+i+d+b-(w+C+y+E)||p(c,i,d,b)-p(w,C,y,E,w)||p(c+i,c+d,c+b,i+d,i+b,d+b)-p(w+C,w+y,w+E,C+y,C+E,y+E)||p(c+i+d,c+i+b,c+d+b,i+d+b)-p(w+C+y,w+C+E,w+y+E,C+y+E);default:for(var A=a.slice().sort(r),o=n.slice().sort(r),M=0;M<f;++M)if(u=A[M]-o[M],u)return u;return 0}}},3788:function(v,p,r){var t=r(8507),a=r(2419);v.exports=n;function n(f,u){return t(f,u)||a(f)-a(u)}},7352:function(v,p,r){var t=r(5721),a=r(4750),n=r(2690);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var g=u[0].length;return g===0?[]:g===1?t(u):g===2?a(u):n(u,g)}},5721:function(v){v.exports=p;function p(r){for(var t=0,a=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[a][0]&&(a=n);return t<a?[[t],[a]]:t>a?[[a],[t]]:[[t]]}},4750:function(v,p,r){v.exports=a;var t=r(3090);function a(n){var f=t(n),u=f.length;if(u<=2)return[];for(var l=new Array(u),g=f[u-1],h=0;h<u;++h){var T=f[h];l[h]=[g,T],g=T}return l}},2690:function(v,p,r){v.exports=u;var t=r(8954),a=r(3952);function n(l,g){for(var h=l.length,T=new Array(h),c=0;c<g.length;++c)T[c]=l[g[c]];for(var i=g.length,c=0;c<h;++c)g.indexOf(c)<0&&(T[i++]=l[c]);return T}function f(l,g){for(var h=l.length,T=g.length,c=0;c<h;++c)for(var i=l[c],d=0;d<i.length;++d){var b=i[d];if(b<T)i[d]=g[b];else{b=b-T;for(var w=0;w<T;++w)b>=g[w]&&(b+=1);i[d]=b}}return l}function u(l,g){try{return t(l,!0)}catch{var h=a(l);if(h.length<=g)return[];var T=n(l,h),c=t(T,!0);return f(c,h)}}},4769:function(v){function p(t,a,n,f,u,l){var g=6*u*u-6*u,h=3*u*u-4*u+1,T=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=g*t[i]+h*a[i]+T*n[i]+c*f[i];return l}return g*t+h*a+T*n[i]+c*f}function r(t,a,n,f,u,l){var g=u-1,h=u*u,T=g*g,c=(1+2*u)*T,i=u*T,d=h*(3-2*u),b=h*g;if(t.length){l||(l=new Array(t.length));for(var w=t.length-1;w>=0;--w)l[w]=c*t[w]+i*a[w]+d*n[w]+b*f[w];return l}return c*t+i*a+d*n+b*f}v.exports=r,v.exports.derivative=p},7642:function(v,p,r){var t=r(8954),a=r(1682);v.exports=l;function n(g,h){this.point=g,this.index=h}function f(g,h){for(var T=g.point,c=h.point,i=T.length,d=0;d<i;++d){var b=c[d]-T[d];if(b)return b}return 0}function u(g,h,T){if(g===1)return T?[[-1,0]]:[];var c=h.map(function(C,y){return[C[0],y]});c.sort(function(C,y){return C[0]-y[0]});for(var i=new Array(g-1),d=1;d<g;++d){var b=c[d-1],w=c[d];i[d-1]=[b[1],w[1]]}return T&&i.push([-1,i[0][1]],[i[g-1][1],-1]),i}function l(g,h){var T=g.length;if(T===0)return[];var c=g[0].length;if(c<1)return[];if(c===1)return u(T,g,h);for(var i=new Array(T),d=1,b=0;b<T;++b){for(var w=g[b],C=new Array(c+1),y=0,E=0;E<c;++E){var A=w[E];C[E]=A,y+=A*A}C[c]=y,i[b]=new n(C,b),d=Math.max(y,d)}a(i,f),T=i.length;for(var o=new Array(T+c+1),M=new Array(T+c+1),x=(c+1)*(c+1)*d,I=new Array(c+1),b=0;b<=c;++b)I[b]=0;I[c]=x,o[0]=I.slice(),M[0]=-1;for(var b=0;b<=c;++b){var C=I.slice();C[b]=1,o[b+1]=C,M[b+1]=-1}for(var b=0;b<T;++b){var D=i[b];o[b+c+1]=D.point,M[b+c+1]=D.index}var N=t(o,!1);if(h?N=N.filter(function(k){for(var O=0,F=0;F<=c;++F){var z=M[k[F]];if(z<0&&++O>=2)return!1;k[F]=z}return!0}):N=N.filter(function(k){for(var O=0;O<=c;++O){var F=M[k[O]];if(F<0)return!1;k[O]=F}return!0}),c&1)for(var b=0;b<N.length;++b){var D=N[b],C=D[0];D[0]=D[1],D[1]=C}return N}},2361:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let n=function(l,g){return t[0]=l,t[1]=g,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(g){return r[0]=g,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,g){return t[1]=l,t[0]=g,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(g){return r[0]=g,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else p=!1}if(!p){let n=function(l,g){return a.writeUInt32LE(l,0,!0),a.writeUInt32LE(g,4,!0),a.readDoubleLE(0,!0)},f=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(0,!0)},u=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(4,!0)};var a=new Buffer(8);v.exports=function(g){return a.writeDoubleLE(g,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var f=v.exports.hi(n);return(f<<1>>>21)-1023},v.exports.fraction=function(n){var f=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(n){var f=v.exports.hi(n);return!(f&2146435072)}},1338:function(v){function p(a,n,f){var u=a[f]|0;if(u<=0)return[];var l=new Array(u),g;if(f===a.length-1)for(g=0;g<u;++g)l[g]=n;else for(g=0;g<u;++g)l[g]=p(a,n,f+1);return l}function r(a,n){var f,u;for(f=new Array(a),u=0;u<a;++u)f[u]=n;return f}function t(a,n){switch(typeof n>"u"&&(n=0),typeof a){case"number":if(a>0)return r(a|0,n);break;case"object":if(typeof a.length=="number")return p(a,n,0);break}return[]}v.exports=t},3134:function(v,p,r){v.exports=a;var t=r(1682);function a(n,f){var u=n.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var g=n[l];f=Math.max(f,g[0],g[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),l=0;l<f;++l)h[l]=[];for(var l=0;l<u;++l){var g=n[l];h[g[0]].push(g[1]),h[g[1]].push(g[0])}for(var T=0;T<f;++T)t(h[T],function(c,i){return c-i});return h}},5033:function(v){v.exports=p;function p(r,t,a){var n=t||0,f=a||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},9215:function(v,p,r){v.exports=g;var t=r(4769),a=r(2478);function n(h,T,c){return Math.min(T,Math.max(h,c))}function f(h,T,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=f.prototype;u.flush=function(h){var T=a.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(h){var T=this._time,c=T.length,i=a.le(T,h),d=this._scratch[0],b=this._state,w=this._velocity,C=this.dimension,y=this.bounds;if(i<0)for(var E=C-1,A=0;A<C;++A,--E)d[A]=b[E];else if(i>=c-1)for(var E=b.length-1,o=h-T[c-1],A=0;A<C;++A,--E)d[A]=b[E]+o*w[E];else{for(var E=C*(i+1)-1,M=T[i],x=T[i+1],I=x-M||1,D=this._scratch[1],N=this._scratch[2],k=this._scratch[3],O=this._scratch[4],F=!0,A=0;A<C;++A,--E)D[A]=b[E],k[A]=w[E]*I,N[A]=b[E+C],O[A]=w[E+C]*I,F=F&&D[A]===N[A]&&k[A]===O[A]&&k[A]===0;if(F)for(var A=0;A<C;++A)d[A]=D[A];else t(D,k,N,O,(h-M)/I,d)}for(var z=y[0],B=y[1],A=0;A<C;++A)d[A]=n(z[A],B[A],d[A]);return d},u.dcurve=function(h){var T=this._time,c=T.length,i=a.le(T,h),d=this._scratch[0],b=this._state,w=this._velocity,C=this.dimension;if(i>=c-1){var y=b.length-1;h-T[c-1];for(var E=0;E<C;++E,--y)d[E]=w[y]}else{for(var y=C*(i+1)-1,A=T[i],o=T[i+1],M=o-A||1,x=this._scratch[1],I=this._scratch[2],D=this._scratch[3],N=this._scratch[4],k=!0,E=0;E<C;++E,--y)x[E]=b[y],D[E]=w[y]*M,I[E]=b[y+C],N[E]=w[y+C]*M,k=k&&x[E]===I[E]&&D[E]===N[E]&&D[E]===0;if(k)for(var E=0;E<C;++E)d[E]=0;else{t.derivative(x,D,I,N,(h-A)/M,d);for(var E=0;E<C;++E)d[E]/=M}}return d},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,T=h.length,c=this.dimension-1;c>=0;--c)if(h[--T])return!1;return!0},u.jump=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var i=this._state,d=this._velocity,b=i.length-this.dimension,w=this.bounds,C=w[0],y=w[1];this._time.push(T,h);for(var E=0;E<2;++E)for(var A=0;A<c;++A)i.push(i[b++]),d.push(0);this._time.push(h);for(var A=c;A>0;--A)i.push(n(C[A-1],y[A-1],arguments[A])),d.push(0)}},u.push=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var i=this._state,d=this._velocity,b=i.length-this.dimension,w=h-T,C=this.bounds,y=C[0],E=C[1],A=w>1e-6?1/w:0;this._time.push(h);for(var o=c;o>0;--o){var M=n(y[o-1],E[o-1],arguments[o]);i.push(M),d.push((M-i[b++])*A)}}},u.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var c=this._state,i=this._velocity,d=this.bounds,b=d[0],w=d[1];this._time.push(h);for(var C=T;C>0;--C)c.push(n(b[C-1],w[C-1],arguments[C])),i.push(0)}},u.move=function(h){var T=this.lastT(),c=this.dimension;if(!(h<=T||arguments.length!==c+1)){var i=this._state,d=this._velocity,b=i.length-this.dimension,w=this.bounds,C=w[0],y=w[1],E=h-T,A=E>1e-6?1/E:0;this._time.push(h);for(var o=c;o>0;--o){var M=arguments[o];i.push(n(C[o-1],y[o-1],i[b++]+M)),d.push(M*A)}}},u.idle=function(h){var T=this.lastT();if(!(h<T)){var c=this.dimension,i=this._state,d=this._velocity,b=i.length-c,w=this.bounds,C=w[0],y=w[1],E=h-T;this._time.push(h);for(var A=c-1;A>=0;--A)i.push(n(C[A],y[A],i[b]+E*d[b])),d.push(0),b+=1}};function l(h){for(var T=new Array(h),c=0;c<h;++c)T[c]=0;return T}function g(h,T,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var i=l(h);return new f(i,i,0)}else return new f(h,l(h.length),0);case 2:if(typeof T=="number"){var i=l(h.length);return new f(h,i,+T)}else c=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new f(h,T,c)}}},3840:function(v){v.exports=C;var p=0,r=1;function t(y,E,A,o,M,x){this._color=y,this.key=E,this.value=A,this.left=o,this.right=M,this._count=x}function a(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function n(y,E){return new t(y,E.key,E.value,E.left,E.right,E._count)}function f(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function u(y,E){this._compare=y,this.root=E}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var y=[];return this.forEach(function(E,A){y.push(E)}),y}}),Object.defineProperty(l,"values",{get:function(){var y=[];return this.forEach(function(E,A){y.push(A)}),y}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(y,E){for(var A=this._compare,o=this.root,M=[],x=[];o;){var I=A(y,o.key);M.push(o),x.push(I),I<=0?o=o.left:o=o.right}M.push(new t(p,y,E,null,null,1));for(var D=M.length-2;D>=0;--D){var o=M[D];x[D]<=0?M[D]=new t(o._color,o.key,o.value,M[D+1],o.right,o._count+1):M[D]=new t(o._color,o.key,o.value,o.left,M[D+1],o._count+1)}for(var D=M.length-1;D>1;--D){var N=M[D-1],o=M[D];if(N._color===r||o._color===r)break;var k=M[D-2];if(k.left===N)if(N.left===o){var O=k.right;if(O&&O._color===p)N._color=r,k.right=n(r,O),k._color=p,D-=1;else{if(k._color=p,k.left=N.right,N._color=r,N.right=k,M[D-2]=N,M[D-1]=o,f(k),f(N),D>=3){var F=M[D-3];F.left===k?F.left=N:F.right=N}break}}else{var O=k.right;if(O&&O._color===p)N._color=r,k.right=n(r,O),k._color=p,D-=1;else{if(N.right=o.left,k._color=p,k.left=o.right,o._color=r,o.left=N,o.right=k,M[D-2]=o,M[D-1]=N,f(k),f(N),f(o),D>=3){var F=M[D-3];F.left===k?F.left=o:F.right=o}break}}else if(N.right===o){var O=k.left;if(O&&O._color===p)N._color=r,k.left=n(r,O),k._color=p,D-=1;else{if(k._color=p,k.right=N.left,N._color=r,N.left=k,M[D-2]=N,M[D-1]=o,f(k),f(N),D>=3){var F=M[D-3];F.right===k?F.right=N:F.left=N}break}}else{var O=k.left;if(O&&O._color===p)N._color=r,k.left=n(r,O),k._color=p,D-=1;else{if(N.left=o.right,k._color=p,k.right=o.left,o._color=r,o.right=N,o.left=k,M[D-2]=o,M[D-1]=N,f(k),f(N),f(o),D>=3){var F=M[D-3];F.right===k?F.right=o:F.left=o}break}}}return M[0]._color=r,new u(A,M[0])};function g(y,E){if(E.left){var A=g(y,E.left);if(A)return A}var A=y(E.key,E.value);if(A)return A;if(E.right)return g(y,E.right)}function h(y,E,A,o){var M=E(y,o.key);if(M<=0){if(o.left){var x=h(y,E,A,o.left);if(x)return x}var x=A(o.key,o.value);if(x)return x}if(o.right)return h(y,E,A,o.right)}function T(y,E,A,o,M){var x=A(y,M.key),I=A(E,M.key),D;if(x<=0&&(M.left&&(D=T(y,E,A,o,M.left),D)||I>0&&(D=o(M.key,M.value),D)))return D;if(I>0&&M.right)return T(y,E,A,o,M.right)}l.forEach=function(E,A,o){if(this.root)switch(arguments.length){case 1:return g(E,this.root);case 2:return h(A,this._compare,E,this.root);case 3:return this._compare(A,o)>=0?void 0:T(A,o,this._compare,E,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var y=[],E=this.root;E;)y.push(E),E=E.left;return new c(this,y)}}),Object.defineProperty(l,"end",{get:function(){for(var y=[],E=this.root;E;)y.push(E),E=E.right;return new c(this,y)}}),l.at=function(y){if(y<0)return new c(this,[]);for(var E=this.root,A=[];;){if(A.push(E),E.left){if(y<E.left._count){E=E.left;continue}y-=E.left._count}if(!y)return new c(this,A);if(y-=1,E.right){if(y>=E.right._count)break;E=E.right}else break}return new c(this,[])},l.ge=function(y){for(var E=this._compare,A=this.root,o=[],M=0;A;){var x=E(y,A.key);o.push(A),x<=0&&(M=o.length),x<=0?A=A.left:A=A.right}return o.length=M,new c(this,o)},l.gt=function(y){for(var E=this._compare,A=this.root,o=[],M=0;A;){var x=E(y,A.key);o.push(A),x<0&&(M=o.length),x<0?A=A.left:A=A.right}return o.length=M,new c(this,o)},l.lt=function(y){for(var E=this._compare,A=this.root,o=[],M=0;A;){var x=E(y,A.key);o.push(A),x>0&&(M=o.length),x<=0?A=A.left:A=A.right}return o.length=M,new c(this,o)},l.le=function(y){for(var E=this._compare,A=this.root,o=[],M=0;A;){var x=E(y,A.key);o.push(A),x>=0&&(M=o.length),x<0?A=A.left:A=A.right}return o.length=M,new c(this,o)},l.find=function(y){for(var E=this._compare,A=this.root,o=[];A;){var M=E(y,A.key);if(o.push(A),M===0)return new c(this,o);M<=0?A=A.left:A=A.right}return new c(this,[])},l.remove=function(y){var E=this.find(y);return E?E.remove():this},l.get=function(y){for(var E=this._compare,A=this.root;A;){var o=E(y,A.key);if(o===0)return A.value;o<=0?A=A.left:A=A.right}};function c(y,E){this.tree=y,this._stack=E}var i=c.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new c(this.tree,this._stack.slice())};function d(y,E){y.key=E.key,y.value=E.value,y.left=E.left,y.right=E.right,y._color=E._color,y._count=E._count}function b(y){for(var E,A,o,M,x=y.length-1;x>=0;--x){if(E=y[x],x===0){E._color=r;return}if(A=y[x-1],A.left===E){if(o=A.right,o.right&&o.right._color===p){if(o=A.right=a(o),M=o.right=a(o.right),A.right=o.left,o.left=A,o.right=M,o._color=A._color,E._color=r,A._color=r,M._color=r,f(A),f(o),x>1){var I=y[x-2];I.left===A?I.left=o:I.right=o}y[x-1]=o;return}else if(o.left&&o.left._color===p){if(o=A.right=a(o),M=o.left=a(o.left),A.right=M.left,o.left=M.right,M.left=A,M.right=o,M._color=A._color,A._color=r,o._color=r,E._color=r,f(A),f(o),f(M),x>1){var I=y[x-2];I.left===A?I.left=M:I.right=M}y[x-1]=M;return}if(o._color===r)if(A._color===p){A._color=r,A.right=n(p,o);return}else{A.right=n(p,o);continue}else{if(o=a(o),A.right=o.left,o.left=A,o._color=A._color,A._color=p,f(A),f(o),x>1){var I=y[x-2];I.left===A?I.left=o:I.right=o}y[x-1]=o,y[x]=A,x+1<y.length?y[x+1]=E:y.push(E),x=x+2}}else{if(o=A.left,o.left&&o.left._color===p){if(o=A.left=a(o),M=o.left=a(o.left),A.left=o.right,o.right=A,o.left=M,o._color=A._color,E._color=r,A._color=r,M._color=r,f(A),f(o),x>1){var I=y[x-2];I.right===A?I.right=o:I.left=o}y[x-1]=o;return}else if(o.right&&o.right._color===p){if(o=A.left=a(o),M=o.right=a(o.right),A.left=M.right,o.right=M.left,M.right=A,M.left=o,M._color=A._color,A._color=r,o._color=r,E._color=r,f(A),f(o),f(M),x>1){var I=y[x-2];I.right===A?I.right=M:I.left=M}y[x-1]=M;return}if(o._color===r)if(A._color===p){A._color=r,A.left=n(p,o);return}else{A.left=n(p,o);continue}else{if(o=a(o),A.left=o.right,o.right=A,o._color=A._color,A._color=p,f(A),f(o),x>1){var I=y[x-2];I.right===A?I.right=o:I.left=o}y[x-1]=o,y[x]=A,x+1<y.length?y[x+1]=E:y.push(E),x=x+2}}}}i.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var E=new Array(y.length),A=y[y.length-1];E[E.length-1]=new t(A._color,A.key,A.value,A.left,A.right,A._count);for(var o=y.length-2;o>=0;--o){var A=y[o];A.left===y[o+1]?E[o]=new t(A._color,A.key,A.value,E[o+1],A.right,A._count):E[o]=new t(A._color,A.key,A.value,A.left,E[o+1],A._count)}if(A=E[E.length-1],A.left&&A.right){var M=E.length;for(A=A.left;A.right;)E.push(A),A=A.right;var x=E[M-1];E.push(new t(A._color,x.key,x.value,A.left,A.right,A._count)),E[M-1].key=A.key,E[M-1].value=A.value;for(var o=E.length-2;o>=M;--o)A=E[o],E[o]=new t(A._color,A.key,A.value,A.left,E[o+1],A._count);E[M-1].left=E[M]}if(A=E[E.length-1],A._color===p){var I=E[E.length-2];I.left===A?I.left=null:I.right===A&&(I.right=null),E.pop();for(var o=0;o<E.length;++o)E[o]._count--;return new u(this.tree._compare,E[0])}else if(A.left||A.right){A.left?d(A,A.left):A.right&&d(A,A.right),A._color=r;for(var o=0;o<E.length-1;++o)E[o]._count--;return new u(this.tree._compare,E[0])}else{if(E.length===1)return new u(this.tree._compare,null);for(var o=0;o<E.length;++o)E[o]._count--;var D=E[E.length-2];b(E),D.left===A?D.left=null:D.right=null}return new u(this.tree._compare,E[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var y=0,E=this._stack;if(E.length===0){var A=this.tree.root;return A?A._count:0}else E[E.length-1].left&&(y=E[E.length-1].left._count);for(var o=E.length-2;o>=0;--o)E[o+1]===E[o].right&&(++y,E[o].left&&(y+=E[o].left._count));return y},enumerable:!0}),i.next=function(){var y=this._stack;if(y.length!==0){var E=y[y.length-1];if(E.right)for(E=E.right;E;)y.push(E),E=E.left;else for(y.pop();y.length>0&&y[y.length-1].right===E;)E=y[y.length-1],y.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var E=y.length-1;E>0;--E)if(y[E-1].left===y[E])return!0;return!1}}),i.update=function(y){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var A=new Array(E.length),o=E[E.length-1];A[A.length-1]=new t(o._color,o.key,y,o.left,o.right,o._count);for(var M=E.length-2;M>=0;--M)o=E[M],o.left===E[M+1]?A[M]=new t(o._color,o.key,o.value,A[M+1],o.right,o._count):A[M]=new t(o._color,o.key,o.value,o.left,A[M+1],o._count);return new u(this.tree._compare,A[0])},i.prev=function(){var y=this._stack;if(y.length!==0){var E=y[y.length-1];if(E.left)for(E=E.left;E;)y.push(E),E=E.right;else for(y.pop();y.length>0&&y[y.length-1].left===E;)E=y[y.length-1],y.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var E=y.length-1;E>0;--E)if(y[E-1].right===y[E])return!0;return!1}});function w(y,E){return y<E?-1:y>E?1:0}function C(y){return new u(y||w,null)}},3837:function(v,p,r){v.exports=D;var t=r(4935),a=r(501),n=r(5304),f=r(6429),u=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),g=ArrayBuffer,h=DataView;function T(N){return g.isView(N)&&!(N instanceof h)}function c(N){return Array.isArray(N)||T(N)}function i(N,k){return N[0]=k[0],N[1]=k[1],N[2]=k[2],N}function d(N){this.gl=N,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(N)}var b=d.prototype;b.update=function(N){N=N||{};function k(Q,oe,j){if(j in N){var Y=N[j],se=this[j],te;(Q?c(Y)&&c(Y[0]):c(Y))?this[j]=te=[oe(Y[0]),oe(Y[1]),oe(Y[2])]:this[j]=te=[oe(Y),oe(Y),oe(Y)];for(var fe=0;fe<3;++fe)if(te[fe]!==se[fe])return!0}return!1}var O=k.bind(this,!1,Number),F=k.bind(this,!1,Boolean),z=k.bind(this,!1,String),B=k.bind(this,!0,function(Q){if(c(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),W,J=!1,re=!1;if("bounds"in N)for(var ne=N.bounds,le=0;le<2;++le)for(var $=0;$<3;++$)ne[le][$]!==this.bounds[le][$]&&(re=!0),this.bounds[le][$]=ne[le][$];if("ticks"in N){W=N.ticks,J=!0,this.autoTicks=!1;for(var le=0;le<3;++le)this.tickSpacing[le]=0}else O("tickSpacing")&&(this.autoTicks=!0,re=!0);if(this._firstInit&&("ticks"in N||"tickSpacing"in N||(this.autoTicks=!0),re=!0,J=!0,this._firstInit=!1),re&&this.autoTicks&&(W=u.create(this.bounds,this.tickSpacing),J=!0),J){for(var le=0;le<3;++le)W[le].sort(function(oe,j){return oe.x-j.x});u.equal(W,this.ticks)?J=!1:this.ticks=W}F("tickEnable"),z("tickFont")&&(J=!0),z("tickFontStyle")&&(J=!0),z("tickFontWeight")&&(J=!0),z("tickFontVariant")&&(J=!0),O("tickSize"),O("tickAngle"),O("tickPad"),B("tickColor");var Z=z("labels");z("labelFont")&&(Z=!0),z("labelFontStyle")&&(Z=!0),z("labelFontWeight")&&(Z=!0),z("labelFontVariant")&&(Z=!0),F("labelEnable"),O("labelSize"),O("labelPad"),B("labelColor"),F("lineEnable"),F("lineMirror"),O("lineWidth"),B("lineColor"),F("lineTickEnable"),F("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),B("lineTickColor"),F("gridEnable"),O("gridWidth"),B("gridColor"),F("zeroEnable"),B("zeroLineColor"),O("zeroLineWidth"),F("backgroundEnable"),B("backgroundColor");var ie=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],X=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(Z||J)&&this._text.update(this.bounds,this.labels,ie,this.ticks,X):this._text=t(this.gl,this.bounds,this.labels,ie,this.ticks,X),this._lines&&J&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};function w(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var C=[new w,new w,new w];function y(N,k,O,F,z){for(var B=N.primalOffset,W=N.primalMinor,J=N.mirrorOffset,re=N.mirrorMinor,ne=F[k],le=0;le<3;++le)if(k!==le){var $=B,Z=J,ie=W,X=re;ne&1<<le&&($=J,Z=B,ie=re,X=W),$[le]=O[0][le],Z[le]=O[1][le],z[le]>0?(ie[le]=-1,X[le]=0):(ie[le]=0,X[le]=1)}}var E=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(N){};var o=0,M=[0,0,0],x=[0,0,0],I=[0,0,0];b.draw=function(N){N=N||A;for(var j=this.gl,k=N.model||l,O=N.view||l,F=N.projection||l,z=this.bounds,B=N._ortho||!1,W=f(k,O,F,z,B),J=W.cubeEdges,re=W.axis,ne=O[12],le=O[13],$=O[14],Z=O[15],ie=B?2:1,X=ie*this.pixelRatio*(F[3]*ne+F[7]*le+F[11]*$+F[15]*Z)/j.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=J[Q],this.lastCubeProps.axis[Q]=re[Q];for(var oe=C,Q=0;Q<3;++Q)y(C[Q],Q,this.bounds,J,re);for(var j=this.gl,Y=E,Q=0;Q<3;++Q)this.backgroundEnable[Q]?Y[Q]=re[Q]:Y[Q]=0;this._background.draw(k,O,F,z,Y,this.backgroundColor),this._lines.bind(k,O,F,this);for(var Q=0;Q<3;++Q){var se=[0,0,0];re[Q]>0?se[Q]=z[1][Q]:se[Q]=z[0][Q];for(var te=0;te<2;++te){var fe=(Q+1+te)%3,ge=(Q+1+(te^1))%3;this.gridEnable[fe]&&this._lines.drawGrid(fe,ge,this.bounds,se,this.gridColor[fe],this.gridWidth[fe]*this.pixelRatio)}for(var te=0;te<2;++te){var fe=(Q+1+te)%3,ge=(Q+1+(te^1))%3;this.zeroEnable[ge]&&Math.min(z[0][ge],z[1][ge])<=0&&Math.max(z[0][ge],z[1][ge])>=0&&this._lines.drawZero(fe,ge,this.bounds,se,this.zeroLineColor[ge],this.zeroLineWidth[ge]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var be=i(M,oe[Q].primalMinor),xe=i(x,oe[Q].mirrorMinor),_e=this.lineTickLength,te=0;te<3;++te){var De=X/k[5*te];be[te]*=_e[te]*De,xe[te]*=_e[te]*De}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,oe[Q].primalOffset,be,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,oe[Q].mirrorOffset,xe,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(k,O,F,this.pixelRatio);var Fe,Te=.5,Re,Se;function ke(Qe){Se=[0,0,0],Se[Qe]=1}function Me(Qe,ct,ht){var dt=(Qe+1)%3,Tt=(Qe+2)%3,Et=ct[dt],rt=ct[Tt],ze=ht[dt],Ge=ht[Tt];if(Et>0&&Ge>0){ke(dt);return}else if(Et>0&&Ge<0){ke(dt);return}else if(Et<0&&Ge>0){ke(dt);return}else if(Et<0&&Ge<0){ke(dt);return}else if(rt>0&&ze>0){ke(Tt);return}else if(rt>0&&ze<0){ke(Tt);return}else if(rt<0&&ze>0){ke(Tt);return}else if(rt<0&&ze<0){ke(Tt);return}}for(var Q=0;Q<3;++Q){for(var Ve=oe[Q].primalMinor,tt=oe[Q].mirrorMinor,it=i(I,oe[Q].primalOffset),te=0;te<3;++te)this.lineTickEnable[Q]&&(it[te]+=X*Ve[te]*Math.max(this.lineTickLength[te],0)/k[5*te]);var Je=[0,0,0];if(Je[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Re=1,Fe=[this.tickAlign[Q],Te,Re],Fe[0]==="auto"?Fe[0]=o:Fe[0]=parseInt(""+Fe[0]),Se=[0,0,0],Me(Q,Ve,tt);for(var te=0;te<3;++te)it[te]+=X*Ve[te]*this.tickPad[te]/k[5*te];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],it,this.tickColor[Q],Je,Se,Fe)}if(this.labelEnable[Q]){Re=0,Se=[0,0,0],this.labels[Q].length>4&&(ke(Q),Re=1),Fe=[this.labelAlign[Q],Te,Re],Fe[0]==="auto"?Fe[0]=o:Fe[0]=parseInt(""+Fe[0]);for(var te=0;te<3;++te)it[te]+=X*Ve[te]*this.labelPad[te]/k[5*te];it[Q]+=.5*(z[0][Q]+z[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],it,this.labelColor[Q],[0,0,0],Se,Fe)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function D(N,k){var O=new d(N);return O.update(k),O}},5304:function(v,p,r){v.exports=l;var t=r(2762),a=r(8116),n=r(1879).bg;function f(g,h,T,c){this.gl=g,this.buffer=h,this.vao=T,this.shader=c}var u=f.prototype;u.draw=function(g,h,T,c,i,d){for(var b=!1,w=0;w<3;++w)b=b||i[w];if(b){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:h,projection:T,bounds:c,enable:i,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(g){for(var h=[],T=[],c=0,i=0;i<3;++i)for(var d=(i+1)%3,b=(i+2)%3,w=[0,0,0],C=[0,0,0],y=-1;y<=1;y+=2){T.push(c,c+2,c+1,c+1,c+2,c+3),w[i]=y,C[i]=y;for(var E=-1;E<=1;E+=2){w[d]=E;for(var A=-1;A<=1;A+=2)w[b]=A,h.push(w[0],w[1],w[2],C[0],C[1],C[2]),c+=1}var o=d;d=b,b=o}var M=t(g,new Float32Array(h)),x=t(g,new Uint16Array(T),g.ELEMENT_ARRAY_BUFFER),I=a(g,[{buffer:M,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:M,type:g.FLOAT,size:3,offset:12,stride:24}],x),D=n(g);return D.attributes.position.location=0,D.attributes.normal.location=1,new f(g,M,I,D)}},6429:function(v,p,r){v.exports=y;var t=r(8828),a=r(6760),n=r(5202),f=r(3250),u=new Array(16),l=new Array(8),g=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var E=0;E<8;++E)l[E]=[1,1,1,1],g[E]=[1,1,1]})();function c(E,A,o){for(var M=0;M<4;++M){E[M]=o[12+M];for(var x=0;x<3;++x)E[M]+=A[x]*o[4*x+M]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(E){for(var A=0;A<i.length;++A)if(E=n.positive(E,i[A]),E.length<3)return 0;for(var o=E[0],M=o[0]/o[3],x=o[1]/o[3],I=0,A=1;A+1<E.length;++A){var D=E[A],N=E[A+1],k=D[0]/D[3],O=D[1]/D[3],F=N[0]/N[3],z=N[1]/N[3],B=k-M,W=O-x,J=F-M,re=z-x;I+=Math.abs(B*re-W*J)}return I}var b=[1,1,1],w=[0,0,0],C={cubeEdges:b,axis:w};function y(E,A,o,M,x){a(u,A,E),a(u,o,u);for(var I=0,D=0;D<2;++D){h[2]=M[D][2];for(var N=0;N<2;++N){h[1]=M[N][1];for(var k=0;k<2;++k)h[0]=M[k][0],c(l[I],h,u),I+=1}}for(var O=-1,D=0;D<8;++D){for(var F=l[D][3],z=0;z<3;++z)g[D][z]=l[D][z]/F;x&&(g[D][2]*=-1),F<0&&(O<0||g[D][2]<g[O][2])&&(O=D)}if(O<0){O=0;for(var B=0;B<3;++B){for(var W=(B+2)%3,J=(B+1)%3,re=-1,ne=-1,le=0;le<2;++le){var $=le<<B,Z=$+(le<<W)+(1-le<<J),ie=$+(1-le<<W)+(le<<J);f(g[$],g[Z],g[ie],T)<0||(le?re=1:ne=1)}if(re<0||ne<0){ne>re&&(O|=1<<B);continue}for(var le=0;le<2;++le){var $=le<<B,Z=$+(le<<W)+(1-le<<J),ie=$+(1-le<<W)+(le<<J),X=d([l[$],l[Z],l[ie],l[$+(1<<W)+(1<<J)]]);le?re=X:ne=X}if(ne>re){O|=1<<B;continue}}}for(var Q=7^O,oe=-1,D=0;D<8;++D)D===O||D===Q||(oe<0||g[oe][1]>g[D][1])&&(oe=D);for(var j=-1,D=0;D<3;++D){var Y=oe^1<<D;if(!(Y===O||Y===Q)){j<0&&(j=Y);var J=g[Y];J[0]<g[j][0]&&(j=Y)}}for(var se=-1,D=0;D<3;++D){var Y=oe^1<<D;if(!(Y===O||Y===Q||Y===j)){se<0&&(se=Y);var J=g[Y];J[0]>g[se][0]&&(se=Y)}}var te=b;te[0]=te[1]=te[2]=0,te[t.log2(j^oe)]=oe&j,te[t.log2(oe^se)]=oe&se;var fe=se^7;fe===O||fe===Q?(fe=j^7,te[t.log2(se^fe)]=fe&se):te[t.log2(j^fe)]=fe&j;for(var ge=w,be=O,B=0;B<3;++B)be&1<<B?ge[B]=-1:ge[B]=1;return C}},501:function(v,p,r){v.exports=b;var t=r(2762),a=r(8116),n=r(1879).n,f=[0,0,0],u=[0,0,0],l=[0,0,0],g=[0,0,0],h=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function c(w,C){return w[0]=C[0],w[1]=C[1],w[2]=C[2],w}function i(w,C,y,E,A,o,M,x){this.gl=w,this.vertBuffer=C,this.vao=y,this.shader=E,this.tickCount=A,this.tickOffset=o,this.gridCount=M,this.gridOffset=x}var d=i.prototype;d.bind=function(w,C,y){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=C,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,C,y,E,A){var o=T(u);this.shader.uniforms.majorAxis=u,o[w]=C[1][w]-C[0][w],this.shader.uniforms.minorAxis=o;var M=c(g,y);M[w]+=C[0][w],this.shader.uniforms.offset=M,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=E;var x=T(l);x[(w+2)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6);var x=T(l);x[(w+1)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,C,y,E,A){if(this.tickCount[w]){var o=T(f);o[w]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=A;var M=T(l);M[w]=1,this.shader.uniforms.screenAxis=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,C,y,E,A,o){if(this.gridCount[w]){var M=T(u);M[C]=y[1][C]-y[0][C],this.shader.uniforms.minorAxis=M;var x=c(g,E);x[C]+=y[0][C],this.shader.uniforms.offset=x;var I=T(f);I[w]=1,this.shader.uniforms.majorAxis=I;var D=T(l);D[w]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,C,y,E,A,o){var M=T(u);this.shader.uniforms.majorAxis=M,M[w]=y[1][w]-y[0][w],this.shader.uniforms.minorAxis=M;var x=c(g,E);x[w]+=y[0][w],this.shader.uniforms.offset=x;var I=T(l);I[C]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function b(w,C,y){var E=[],A=[0,0,0],o=[0,0,0],M=[0,0,0],x=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var I=0;I<3;++I){for(var k=E.length/3|0,D=0;D<y[I].length;++D){var N=+y[I][D].x;E.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var F=E.length/3|0;A[I]=k,o[I]=F-k;for(var k=E.length/3|0,O=0;O<y[I].length;++O){var N=+y[I][O].x;E.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var F=E.length/3|0;M[I]=k,x[I]=F-k}var z=t(w,new Float32Array(E)),B=a(w,[{buffer:z,type:w.FLOAT,size:3,stride:0,offset:0}]),W=n(w);return W.attributes.position.location=0,new i(w,z,B,W,o,A,x,M)}},1879:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.n=function(T){return a(T,n,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.Q=function(T){return a(T,u,l,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return a(T,g,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,p,r){v.exports=d;var t=r(2762),a=r(8116),n=r(4359),f=r(1879).Q,u=window||m.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var g=3;function h(b,w,C,y){this.gl=b,this.shader=w,this.buffer=C,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,c=[0,0];T.bind=function(b,w,C,y){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=b,E.view=w,E.projection=C,E.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},T.unbind=function(){this.vao.unbind()},T.update=function(b,w,C,y,E){var A=[];function o(B,W,J,re,ne,le){var $=[J.style,J.weight,J.variant,J.family].join("_"),Z=l[$];Z||(Z=l[$]={});var ie=Z[W];ie||(ie=Z[W]=i(W,{triangles:!0,font:J.family,fontStyle:J.style,fontWeight:J.weight,fontVariant:J.variant,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:le}));for(var X=(re||12)/12,Q=ie.positions,oe=ie.cells,j=0,Y=oe.length;j<Y;++j)for(var se=oe[j],te=2;te>=0;--te){var fe=Q[se[te]];A.push(X*fe[0],-X*fe[1],B)}}for(var M=[0,0,0],x=[0,0,0],I=[0,0,0],D=[0,0,0],N=1.25,k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){I[O]=A.length/g|0,o(.5*(b[0][O]+b[1][O]),w[O],C[O],12,N,k),D[O]=(A.length/g|0)-I[O],M[O]=A.length/g|0;for(var F=0;F<y[O].length;++F)if(y[O][F].text){var z={family:y[O][F].font||E[O].family,style:E[O].fontStyle||E[O].style,weight:E[O].fontWeight||E[O].weight,variant:E[O].fontVariant||E[O].variant};o(y[O][F].x,y[O][F].text,z,y[O][F].fontSize||12,N,k)}x[O]=(A.length/g|0)-M[O]}this.buffer.update(A),this.tickOffset=M,this.tickCount=x,this.labelOffset=I,this.labelCount=D},T.drawTicks=function(b,w,C,y,E,A,o,M){this.tickCount[b]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b]))},T.drawLabel=function(b,w,C,y,E,A,o,M){this.labelCount[b]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=M,this.vao.draw(this.gl.TRIANGLES,this.labelCount[b],this.labelOffset[b]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(b,w){try{return n(b,w)}catch(C){return console.warn('error vectorizing text:"'+b+'" error:',C),{cells:[],positions:[]}}}function d(b,w,C,y,E,A){var o=t(b),M=a(b,[{buffer:o,size:3}]),x=f(b);x.attributes.position.location=0;var I=new h(b,x,o,M);return I.update(w,C,y,E,A),I}},6444:function(v,p){p.create=t,p.equal=a;function r(n,f){var u=n+"",l=u.indexOf("."),g=0;l>=0&&(g=u.length-l-1);var h=Math.pow(10,g),T=Math.round(n*f*h),c=T+"";if(c.indexOf("e")>=0)return c;var i=T/h,d=T%h;T<0?(i=-Math.ceil(i)|0,d=-d|0):(i=Math.floor(i)|0,d=d|0);var b=""+i;if(T<0&&(b="-"+b),g){for(var w=""+d;w.length<g;)w="0"+w;return b+"."+w}else return b}function t(n,f){for(var u=[],l=0;l<3;++l){var g=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*f[l]<=n[1][l];++h)g.push({x:h*f[l],text:r(f[l],h)});for(var h=-1;h*f[l]>=n[0][l];--h)g.push({x:h*f[l],text:r(f[l],h)});u.push(g)}return u}function a(n,f){for(var u=0;u<3;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;++l){var g=n[u][l],h=f[u][l];if(g.x!==h.x||g.text!==h.text||g.font!==h.font||g.fontColor!==h.fontColor||g.fontSize!==h.fontSize||g.dx!==h.dx||g.dy!==h.dy)return!1}}return!0}},5445:function(v,p,r){v.exports=C;var t=r(5033),a=r(5202),n=r(6429),f=r(6760),u=r(5665),l=r(5352),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(y,E,A){this.lo=y,this.hi=E,this.pixelsPerDataUnit=A}var c=[0,0,0,1],i=[0,0,0,1];function d(y,E,A,o,M){for(var x=0;x<3;++x){for(var I=c,D=i,N=0;N<3;++N)D[N]=I[N]=A[N];D[3]=I[3]=1,D[x]+=1,l(D,D,E),D[3]<0&&(y[x]=1/0),I[x]-=1,l(I,I,E),I[3]<0&&(y[x]=1/0);var k=(I[0]/I[3]-D[0]/D[3])*o,O=(I[1]/I[3]-D[1]/D[3])*M;y[x]=.25*Math.sqrt(k*k+O*O)}return y}var b=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function C(y,E,A,o,O){var x=E.model||g,I=E.view||g,D=E.projection||g,N=E._ortho||!1,k=y.bounds,O=O||n(x,I,D,k,N),F=O.axis;f(h,I,x),f(h,D,h);for(var z=b,B=0;B<3;++B)z[B].lo=1/0,z[B].hi=-1/0,z[B].pixelsPerDataUnit=1/0;var W=t(u(h,h));u(h,h);for(var J=0;J<3;++J){var re=(J+1)%3,ne=(J+2)%3,le=w;e:for(var B=0;B<2;++B){var $=[];if(F[J]<0!=!!B){le[J]=k[B][J];for(var Z=0;Z<2;++Z){le[re]=k[Z^B][re];for(var ie=0;ie<2;++ie)le[ne]=k[ie^Z^B][ne],$.push(le.slice())}for(var X=N?5:4,Z=X;Z===X;++Z){if($.length===0)continue e;$=a.positive($,W[Z])}for(var Z=0;Z<$.length;++Z)for(var ne=$[Z],Q=d(w,h,ne,A,o),ie=0;ie<3;++ie)z[ie].lo=Math.min(z[ie].lo,ne[ie]),z[ie].hi=Math.max(z[ie].hi,ne[ie]),ie!==J&&(z[ie].pixelsPerDataUnit=Math.min(z[ie].pixelsPerDataUnit,Math.abs(Q[ie])))}}}return z}},2762:function(v,p,r){var t=r(1888),a=r(5298),n=r(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(i,d,b,w,C){this.gl=i,this.type=d,this.handle=b,this.length=w,this.usage=C}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(i,d,b,w,C,y){var E=C.length*C.BYTES_PER_ELEMENT;if(y<0)return i.bufferData(d,C,w),E;if(E+y>b)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(d,y,C),b}function h(i,d){for(var b=t.malloc(i.length,d),w=i.length,C=0;C<w;++C)b[C]=i[C];return b}function T(i,d){for(var b=1,w=d.length-1;w>=0;--w){if(d[w]!==b)return!1;b*=i[w]}return!0}l.update=function(i,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof i=="object"&&typeof i.shape<"u"){var b=i.dtype;if(f.indexOf(b)<0&&(b="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&b!=="uint16"?b="uint32":b="uint16"}if(b===i.dtype&&T(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,i.data,d):this.length=g(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),d);else{var C=t.malloc(i.size,b),y=n(C,i.shape);a.assign(y,i),d<0?this.length=g(this.gl,this.type,this.length,this.usage,C,d):this.length=g(this.gl,this.type,this.length,this.usage,C.subarray(0,i.size),d),t.free(C)}}else if(Array.isArray(i)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=h(i,"uint16"):E=h(i,"float32"),d<0?this.length=g(this.gl,this.type,this.length,this.usage,E,d):this.length=g(this.gl,this.type,this.length,this.usage,E.subarray(0,i.length),d),t.free(E)}else if(typeof i=="object"&&typeof i.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,i,d);else if(typeof i=="number"||i===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function c(i,d,b,w){if(b=b||i.ARRAY_BUFFER,w=w||i.DYNAMIC_DRAW,b!==i.ARRAY_BUFFER&&b!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==i.DYNAMIC_DRAW&&w!==i.STATIC_DRAW&&w!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=i.createBuffer(),y=new u(i,b,C,0,w);return y.update(d),y}v.exports=c},6405:function(v,p,r){var t=r(2931);v.exports=function(n,f){var u=n.positions,l=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),g;for(var h=0,T=1/0,c=-1/0,i=1/0,d=-1/0,b=1/0,w=-1/0,C=null,y=null,E=[],A=1/0,o=!1,M=n.coneSizemode==="raw",x=0;x<u.length;x++){var I=u[x];T=Math.min(I[0],T),c=Math.max(I[0],c),i=Math.min(I[1],i),d=Math.max(I[1],d),b=Math.min(I[2],b),w=Math.max(I[2],w);var D=l[x];if(t.length(D)>h&&(h=t.length(D)),x&&!M){var N=2*t.distance(C,I)/(t.length(y)+t.length(D));N?(A=Math.min(A,N),o=!1):o=!0}o||(C=I,y=D),E.push(D)}var k=[T,i,b],O=[c,d,w];f&&(f[0]=k,f[1]=O),h===0&&(h=1);var F=1/h;isFinite(A)||(A=1),g.vectorScale=A;var z=n.coneSize||(M?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*F),g.coneScale=z;for(var x=0,B=0;x<u.length;x++)for(var I=u[x],W=I[0],J=I[1],re=I[2],ne=E[x],le=t.length(ne)*F,$=0,Z=8;$<Z;$++){g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vertexIntensity.push(le,le,le),g.vertexIntensity.push(le,le,le);var ie=g.positions.length;g.cells.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}return g};var a=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:a,traceType:"cone"})}},9060:function(v,p,r){var t=r(9405),a=r(2762),n=r(8116),f=r(7766),u=r(6760),l=r(7608),g=r(9618),h=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(E,A,o,M,x,I,D,N,k,O,F){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=o,this.pickShader=M,this.trianglePositions=x,this.triangleVectors=I,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=D,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var i=c.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(E){this.pickId=E};function d(E){for(var A=h({colormap:E,nshades:256,format:"rgba"}),o=new Uint8Array(256*4),M=0;M<256;++M){for(var x=A[M],I=0;I<3;++I)o[4*M+I]=x[I];o[4*M+3]=x[3]*255}return g(o,[256,256,4],[4,0,1])}function b(E){for(var A=E.length,o=new Array(A),M=0;M<A;++M)o[M]=E[M][2];return o}i.update=function(E){E=E||{};var A=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(d(E.colormap)),this.texture.generateMipmap());var o=E.cells,M=E.positions,x=E.vectors;if(!(!M||!o||!x)){var I=[],D=[],N=[],k=[],O=[];this.cells=o,this.positions=M,this.vectors=x;var F=E.meshColor||[1,1,1,1],z=E.vertexIntensity,B=1/0,W=-1/0;if(z)if(E.vertexIntensityBounds)B=+E.vertexIntensityBounds[0],W=+E.vertexIntensityBounds[1];else for(var J=0;J<z.length;++J){var re=z[J];B=Math.min(B,re),W=Math.max(W,re)}else for(var J=0;J<M.length;++J){var re=M[J][2];B=Math.min(B,re),W=Math.max(W,re)}z?this.intensity=z:this.intensity=b(M),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<M.length;++J)for(var ne=M[J],le=0;le<3;++le)isNaN(ne[le])||!isFinite(ne[le])||(this.bounds[0][le]=Math.min(this.bounds[0][le],ne[le]),this.bounds[1][le]=Math.max(this.bounds[1][le],ne[le]));var $=0;e:for(var J=0;J<o.length;++J){var Z=o[J];switch(Z.length){case 3:for(var le=0;le<3;++le)for(var ie=Z[le],ne=M[ie],X=0;X<3;++X)if(isNaN(ne[X])||!isFinite(ne[X]))continue e;for(var le=0;le<3;++le){var ie=Z[2-le],ne=M[ie];I.push(ne[0],ne[1],ne[2],ne[3]);var Q=x[ie];D.push(Q[0],Q[1],Q[2],Q[3]||0);var oe=F;oe.length===3?N.push(oe[0],oe[1],oe[2],1):N.push(oe[0],oe[1],oe[2],oe[3]);var j;z?j=[(z[ie]-B)/(W-B),0]:j=[(ne[2]-B)/(W-B),0],k.push(j[0],j[1]),O.push(J)}$+=1;break}}this.triangleCount=$,this.trianglePositions.update(I),this.triangleVectors.update(D),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(O))}},i.drawTransparent=i.draw=function(E){E=E||{};for(var A=this.gl,o=E.model||T,M=E.view||T,x=E.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);var N={model:o,view:M,projection:x,inverseModel:T.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),A.disable(A.CULL_FACE),this.texture.bind(0);var k=new Array(16);u(k,N.view,N.model),u(k,N.projection,k),l(k,k);for(var D=0;D<3;++D)N.eyePosition[D]=k[12+D]/k[15];for(var O=k[15],D=0;D<3;++D)O+=this.lightPosition[D]*k[4*D+3];for(var D=0;D<3;++D){for(var F=k[12+D],z=0;z<3;++z)F+=k[4*z+D]*this.lightPosition[z];N.lightPosition[D]=F/O}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=N,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(E){E=E||{};for(var A=this.gl,o=E.model||T,M=E.view||T,x=E.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);this._model=[].slice.call(o),this._view=[].slice.call(M),this._projection=[].slice.call(x),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var N={model:o,view:M,projection:x,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(E){if(!E||E.id!==this.pickId)return null;var A=E.value[0]+256*E.value[1]+65536*E.value[2],o=this.cells[A],M=this.positions[o[1]].slice(0,3),x={position:M,dataCoordinate:M,index:Math.floor(o[1]/48)};return this.traceType==="cone"?x.index=Math.floor(o[1]/48):this.traceType==="streamtube"&&(x.intensity=this.intensity[o[1]],x.velocity=this.vectors[o[1]].slice(0,3),x.divergence=this.vectors[o[1]][3],x.index=A),x},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(E,A){var o=t(E,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return o.attributes.position.location=0,o.attributes.color.location=2,o.attributes.uv.location=3,o.attributes.vector.location=4,o}function C(E,A){var o=t(E,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return o.attributes.position.location=0,o.attributes.id.location=1,o.attributes.vector.location=4,o}function y(E,A,o){var M=o.shaders;arguments.length===1&&(A=E,E=A.gl);var x=w(E,M),I=C(E,M),D=f(E,g(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=E.LINEAR_MIPMAP_LINEAR,D.magFilter=E.LINEAR;var N=a(E),k=a(E),O=a(E),F=a(E),z=a(E),B=n(E,[{buffer:N,type:E.FLOAT,size:4},{buffer:z,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:E.FLOAT,size:4},{buffer:F,type:E.FLOAT,size:2},{buffer:k,type:E.FLOAT,size:4}]),W=new c(E,D,x,I,N,k,z,O,F,B,o.traceType||"cone");return W.update(A),W}v.exports=y},614:function(v,p,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,p,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,p,r){v.exports=c;var t=r(2762),a=r(8116),n=r(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,b,w){this.gl=i,this.shader=w,this.buffer=d,this.vao=b,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(i){var d=this.gl,b=this.shader.uniforms;this.shader.bind();var w=b.view=i.view||f,C=b.projection=i.projection||f;b.model=i.model||f,b.clipBounds=this.clipBounds,b.opacity=this.opacity;var y=w[12],E=w[13],A=w[14],o=w[15],M=i._ortho||!1,x=M?2:1,I=x*this.pixelRatio*(C[3]*y+C[7]*E+C[11]*A+C[15]*o)/d.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)d.lineWidth(this.lineWidth[D]*this.pixelRatio),b.capSize=this.capSize[D]*I,this.lineCount[D]&&d.drawArrays(d.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};function g(i,d){for(var b=0;b<3;++b)i[0][b]=Math.min(i[0][b],d[b]),i[1][b]=Math.max(i[1][b],d[b])}var h=function(){for(var i=new Array(3),d=0;d<3;++d){for(var b=[],w=1;w<=2;++w)for(var C=-1;C<=1;C+=2){var y=(w+d)%3,E=[0,0,0];E[y]=C,b.push(E)}i[d]=b}return i}();function T(i,d,b,w){for(var C=h[w],y=0;y<C.length;++y){var E=C[y];i.push(d[0],d[1],d[2],b[0],b[1],b[2],b[3],E[0],E[1],E[2])}return C.length}l.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=i.color||[[0,0,0],[0,0,0],[0,0,0]],b=i.position,w=i.error;if(Array.isArray(d[0])||(d=[d,d,d]),b&&w){var C=[],y=b.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=E;e:for(var o=0;o<y;++o){for(var M=b[o],x=0;x<3;++x)if(isNaN(M[x])||!isFinite(M[x]))continue e;var I=w[o],D=d[A];if(Array.isArray(D[0])&&(D=d[o]),D.length===3?D=[D[0],D[1],D[2],1]:D.length===4&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),!(isNaN(I[0][A])||isNaN(I[1][A]))){if(I[0][A]<0){var N=M.slice();N[A]+=I[0][A],C.push(M[0],M[1],M[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),g(this.bounds,N),E+=2+T(C,N,D,A)}if(I[1][A]>0){var N=M.slice();N[A]+=I[1][A],C.push(M[0],M[1],M[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),g(this.bounds,N),E+=2+T(C,N,D,A)}}}this.lineCount[A]=E-this.lineOffset[A]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(i){var d=i.gl,b=t(d),w=a(d,[{buffer:b,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:b,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:b,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var y=new u(d,b,w,C);return y.update(i),y}},3436:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,p,r){var t=r(7766);v.exports=E;var a=null,n,f,u,l;function g(A){var o=A.getParameter(A.FRAMEBUFFER_BINDING),M=A.getParameter(A.RENDERBUFFER_BINDING),x=A.getParameter(A.TEXTURE_BINDING_2D);return[o,M,x]}function h(A,o){A.bindFramebuffer(A.FRAMEBUFFER,o[0]),A.bindRenderbuffer(A.RENDERBUFFER,o[1]),A.bindTexture(A.TEXTURE_2D,o[2])}function T(A,o){var M=A.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);a=new Array(M+1);for(var x=0;x<=M;++x){for(var I=new Array(M),D=0;D<x;++D)I[D]=A.COLOR_ATTACHMENT0+D;for(var D=x;D<M;++D)I[D]=A.NONE;a[x]=I}}function c(A){switch(A){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(A,o,M,x,I,D){if(!x)return null;var N=t(A,o,M,I,x);return N.magFilter=A.NEAREST,N.minFilter=A.NEAREST,N.mipSamples=1,N.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,D,A.TEXTURE_2D,N.handle,0),N}function d(A,o,M,x,I){var D=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,D),A.renderbufferStorage(A.RENDERBUFFER,x,o,M),A.framebufferRenderbuffer(A.FRAMEBUFFER,I,A.RENDERBUFFER,D),D}function b(A){var o=g(A.gl),M=A.gl,x=A.handle=M.createFramebuffer(),I=A._shape[0],D=A._shape[1],N=A.color.length,k=A._ext,O=A._useStencil,F=A._useDepth,z=A._colorType;M.bindFramebuffer(M.FRAMEBUFFER,x);for(var B=0;B<N;++B)A.color[B]=i(M,I,D,z,M.RGBA,M.COLOR_ATTACHMENT0+B);N===0?(A._color_rb=d(M,I,D,M.RGBA4,M.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(a[0])):N>1&&k.drawBuffersWEBGL(a[N]);var W=M.getExtension("WEBGL_depth_texture");W?O?A.depth=i(M,I,D,W.UNSIGNED_INT_24_8_WEBGL,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):F&&(A.depth=i(M,I,D,M.UNSIGNED_SHORT,M.DEPTH_COMPONENT,M.DEPTH_ATTACHMENT)):F&&O?A._depth_rb=d(M,I,D,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):F?A._depth_rb=d(M,I,D,M.DEPTH_COMPONENT16,M.DEPTH_ATTACHMENT):O&&(A._depth_rb=d(M,I,D,M.STENCIL_INDEX,M.STENCIL_ATTACHMENT));var J=M.checkFramebufferStatus(M.FRAMEBUFFER);if(J!==M.FRAMEBUFFER_COMPLETE){A._destroyed=!0,M.bindFramebuffer(M.FRAMEBUFFER,null),M.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(M.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var B=0;B<A.color.length;++B)A.color[B].dispose(),A.color[B]=null;A._color_rb&&(M.deleteRenderbuffer(A._color_rb),A._color_rb=null),h(M,o),c(J)}h(M,o)}function w(A,o,M,x,I,D,N,k){this.gl=A,this._shape=[o|0,M|0],this._destroyed=!1,this._ext=k,this.color=new Array(I);for(var O=0;O<I;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=x,this._useDepth=D,this._useStencil=N;var F=this,z=[o|0,M|0];Object.defineProperties(z,{0:{get:function(){return F._shape[0]},set:function(B){return F.width=B}},1:{get:function(){return F._shape[1]},set:function(B){return F.height=B}}}),this._shapeVector=z,b(this)}var C=w.prototype;function y(A,o,M){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===o&&A._shape[1]===M)){var x=A.gl,I=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(o<0||o>I||M<0||M>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=o,A._shape[1]=M;for(var D=g(x),N=0;N<A.color.length;++N)A.color[N].shape=A._shape;A._color_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,A._color_rb),x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&x.renderbufferStorage(x.RENDERBUFFER,x.STENCIL_INDEX,A._shape[0],A._shape[1])),x.bindFramebuffer(x.FRAMEBUFFER,A.handle);var k=x.checkFramebufferStatus(x.FRAMEBUFFER);k!==x.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(x,D),c(k)),h(x,D)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var o=A[0]|0,M=A[1]|0;return y(this,o,M),[o,M]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,y(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,y(this,this._shape[0],A),A},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var o=0;o<this.color.length;++o)this.color[o].dispose(),this.color[o]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(A,o,M,x){n||(n=A.FRAMEBUFFER_UNSUPPORTED,f=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=A.getExtension("WEBGL_draw_buffers");if(!a&&I&&T(A,I),Array.isArray(o)&&(x=M,M=o[1]|0,o=o[0]|0),typeof o!="number")throw new Error("gl-fbo: Missing shape parameter");var D=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(o<0||o>D||M<0||M>D)throw new Error("gl-fbo: Parameters are too large for FBO");x=x||{};var N=1;if("color"in x){if(N=Math.max(x.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(I){if(N>A.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var k=A.UNSIGNED_BYTE,O=A.getExtension("OES_texture_float");if(x.float&&N>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");k=A.FLOAT}else x.preferFloat&&N>0&&O&&(k=A.FLOAT);var F=!0;"depth"in x&&(F=!!x.depth);var z=!1;return"stencil"in x&&(z=!!x.stencil),new w(A,o,M,k,N,F,z,I)}},2992:function(v,p,r){var t=r(3387).sprintf,a=r(5171),n=r(1848),f=r(1085);v.exports=u;function u(l,g,h){var T=n(g)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===a.FRAGMENT_SHADER?"fragment":"vertex");for(var i=t(`Error compiling %s shader %s:
`,c,T),d=t("%s%s",i,l),b=l.split(`
`),w={},C=0;C<b.length;C++){var y=b[C];if(!(y===""||y==="\0")){var E=parseInt(y.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",y));w[E]=y}}for(var A=f(g).split(`
`),C=0;C<A.length;C++)if(!(!w[C+3]&&!w[C+2]&&!w[C+1])){var o=A[C];if(i+=o+`
`,w[C+1]){var M=w[C+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),i+=t(`^^^ %s

`,M)}}return{long:i.trim(),short:d.trim()}}},2510:function(v,p,r){v.exports=c;var t=r(2478),a=r(7762),n=r(1888),f=r(9405),u=r(2762),l=r(6768);function g(i,d,b,w,C,y,E){this.plot=i,this.shader=d,this.pickShader=b,this.positionBuffer=w,this.weightBuffer=C,this.colorBuffer=y,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=g.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,b=this.shader,w=this.bounds,C=this.numVertices;if(!(C<=0)){var y=d.gl,E=d.dataBox,A=w[2]-w[0],o=w[3]-w[1],M=E[2]-E[0],x=E[3]-E[1];i[0]=2*A/M,i[4]=2*o/x,i[6]=2*(w[0]-E[0])/M-1,i[7]=2*(w[1]-E[1])/x-1,b.bind();var I=b.uniforms;I.viewTransform=i,I.shape=this.shape;var D=b.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,C)}}}(),h.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(b){var w=this.plot,C=this.pickShader,y=this.bounds,E=this.numVertices;if(!(E<=0)){var A=w.gl,o=w.dataBox,M=y[2]-y[0],x=y[3]-y[1],I=o[2]-o[0],D=o[3]-o[1];i[0]=2*M/I,i[4]=2*x/D,i[6]=2*(y[0]-o[0])/I-1,i[7]=2*(y[1]-o[1])/D-1;for(var N=0;N<4;++N)d[N]=b>>N*8&255;this.pickOffset=b,C.bind();var k=C.uniforms;k.viewTransform=i,k.pickOffset=d,k.shape=this.shape;var O=C.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,E),b+this.shape[0]*this.shape[1]}}}(),h.pick=function(i,d,b){var w=this.pickOffset,C=this.shape[0]*this.shape[1];if(b<w||b>=w+C)return null;var y=b-w,E=this.xData,A=this.yData;return{object:this,pointId:y,dataCoord:[E[y%this.shape[0]],A[y/this.shape[0]|0]]}},h.update=function(i){i=i||{};var d=i.shape||[0,0],b=i.x||a(d[0]),w=i.y||a(d[1]),C=i.z||new Float32Array(d[0]*d[1]),y=i.zsmooth!==!1;this.xData=b,this.yData=w;var E=i.colorLevels||[0],A=i.colorValues||[0,0,0,1],o=E.length,M=this.bounds,x,I,D,N;y?(x=M[0]=b[0],I=M[1]=w[0],D=M[2]=b[b.length-1],N=M[3]=w[w.length-1]):(x=M[0]=b[0]+(b[1]-b[0])/2,I=M[1]=w[0]+(w[1]-w[0])/2,D=M[2]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2,N=M[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var k=1/(D-x),O=1/(N-I),F=d[0],z=d[1];this.shape=[F,z];var B=(y?(F-1)*(z-1):F*z)*(T.length>>>1);this.numVertices=B;for(var W=n.mallocUint8(B*4),J=n.mallocFloat32(B*2),re=n.mallocUint8(B*2),ne=n.mallocUint32(B),le=0,$=y?F-1:F,Z=y?z-1:z,ie=0;ie<Z;++ie){var X,Q;y?(X=O*(w[ie]-I),Q=O*(w[ie+1]-I)):(X=ie<z-1?O*(w[ie]-(w[ie+1]-w[ie])/2-I):O*(w[ie]-(w[ie]-w[ie-1])/2-I),Q=ie<z-1?O*(w[ie]+(w[ie+1]-w[ie])/2-I):O*(w[ie]+(w[ie]-w[ie-1])/2-I));for(var oe=0;oe<$;++oe){var j,Y;y?(j=k*(b[oe]-x),Y=k*(b[oe+1]-x)):(j=oe<F-1?k*(b[oe]-(b[oe+1]-b[oe])/2-x):k*(b[oe]-(b[oe]-b[oe-1])/2-x),Y=oe<F-1?k*(b[oe]+(b[oe+1]-b[oe])/2-x):k*(b[oe]+(b[oe]-b[oe-1])/2-x));for(var se=0;se<T.length;se+=2){var te=T[se],fe=T[se+1],ge=y?(ie+fe)*F+(oe+te):ie*F+oe,be=C[ge],xe=t.le(E,be),_e,De,Fe,Te;if(xe<0)_e=A[0],De=A[1],Fe=A[2],Te=A[3];else if(xe===o-1)_e=A[4*o-4],De=A[4*o-3],Fe=A[4*o-2],Te=A[4*o-1];else{var Re=(be-E[xe])/(E[xe+1]-E[xe]),Se=1-Re,ke=4*xe,Me=4*(xe+1);_e=Se*A[ke]+Re*A[Me],De=Se*A[ke+1]+Re*A[Me+1],Fe=Se*A[ke+2]+Re*A[Me+2],Te=Se*A[ke+3]+Re*A[Me+3]}W[4*le]=255*_e,W[4*le+1]=255*De,W[4*le+2]=255*Fe,W[4*le+3]=255*Te,J[2*le]=j*.5+Y*.5,J[2*le+1]=X*.5+Q*.5,re[2*le]=te,re[2*le+1]=fe,ne[le]=ie*F+oe,le+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(re),this.colorBuffer.update(W),this.idBuffer.update(ne),n.free(J),n.free(W),n.free(re),n.free(ne)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(i,d){var b=i.gl,w=f(b,l.vertex,l.fragment),C=f(b,l.pickVertex,l.pickFragment),y=u(b),E=u(b),A=u(b),o=u(b),M=new g(i,w,C,y,E,A,o);return M.update(d),i.addObject(M),M}},6768:function(v,p,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(g){return a(g,n,f,null,l)},p.createPickShader=function(g){return a(g,n,u,null,l)}},5714:function(v,p,r){v.exports=A;var t=r(2762),a=r(8116),n=r(7766),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(o,M,x,I){return f[0]=I,f[1]=x,f[2]=M,f[3]=o,u[0]}var g=r(2478),h=r(9618),T=r(7319),c=T.createShader,i=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function b(o,M){for(var x=0,I=0;I<3;++I){var D=o[I]-M[I];x+=D*D}return Math.sqrt(x)}function w(o){for(var M=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],x=0;x<3;++x)M[0][x]=Math.max(o[0][x],M[0][x]),M[1][x]=Math.min(o[1][x],M[1][x]);return M}function C(o,M,x,I){this.arcLength=o,this.position=M,this.index=x,this.dataCoordinate=I}function y(o,M,x,I,D,N){this.gl=o,this.shader=M,this.pickShader=x,this.buffer=I,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=y.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(o){this.pickId=o},E.drawTransparent=E.draw=function(o){if(this.vertexCount){var M=this.gl,x=this.shader,I=this.vao;x.bind(),x.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(M.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},E.drawPick=function(o){if(this.vertexCount){var M=this.gl,x=this.pickShader,I=this.vao;x.bind(),x.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(M.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},E.update=function(o){var M,x;this.dirty=!0;var I=!!o.connectGaps;"dashScale"in o&&(this.dashScale=o.dashScale),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],N=[],k=[],O=0,F=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=o.position||o.positions;if(B){var W=o.color||o.colors||[0,0,0,1],J=o.lineWidth||1,re=!1;e:for(M=1;M<B.length;++M){var ne=B[M-1],le=B[M];for(N.push(O),k.push(ne.slice()),x=0;x<3;++x){if(isNaN(ne[x])||isNaN(le[x])||!isFinite(ne[x])||!isFinite(le[x])){if(!I&&D.length>0){for(var $=0;$<24;++$)D.push(D[D.length-12]);F+=2,re=!0}continue e}z[0][x]=Math.min(z[0][x],ne[x],le[x]),z[1][x]=Math.max(z[1][x],ne[x],le[x])}var Z,ie;Array.isArray(W[0])?(Z=W.length>M-1?W[M-1]:W.length>0?W[W.length-1]:[0,0,0,1],ie=W.length>M?W[M]:W.length>0?W[W.length-1]:[0,0,0,1]):Z=ie=W,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(J)?X=J.length>M-1?J[M-1]:J.length>0?J[J.length-1]:[0,0,0,1]:X=J;var Q=O;if(O+=b(ne,le),re){for(x=0;x<2;++x)D.push(ne[0],ne[1],ne[2],le[0],le[1],le[2],Q,X,Z[0],Z[1],Z[2],Z[3]);F+=2,re=!1}D.push(ne[0],ne[1],ne[2],le[0],le[1],le[2],Q,X,Z[0],Z[1],Z[2],Z[3],ne[0],ne[1],ne[2],le[0],le[1],le[2],Q,-X,Z[0],Z[1],Z[2],Z[3],le[0],le[1],le[2],ne[0],ne[1],ne[2],O,-X,ie[0],ie[1],ie[2],ie[3],le[0],le[1],le[2],ne[0],ne[1],ne[2],O,X,ie[0],ie[1],ie[2],ie[3]),F+=4}}if(this.buffer.update(D),N.push(O),k.push(B[B.length-1].slice()),this.bounds=z,this.vertexCount=F,this.points=k,this.arcLength=N,"dashes"in o){var oe=o.dashes,j=oe.slice();for(j.unshift(0),M=1;M<j.length;++M)j[M]=j[M-1]+j[M];var Y=h(new Array(256*4),[256,1,4]);for(M=0;M<256;++M){for(x=0;x<4;++x)Y.set(M,0,x,0);g.le(j,j[j.length-1]*M/255)&1?Y.set(M,0,0,0):Y.set(M,0,0,255)}this.texture.setPixels(Y)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(o){if(!o||o.id!==this.pickId)return null;var M=l(o.value[0],o.value[1],o.value[2],0),x=g.le(this.arcLength,M);if(x<0)return null;if(x===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),x);for(var I=this.points[x],D=this.points[Math.min(x+1,this.points.length-1)],N=(M-this.arcLength[x])/(this.arcLength[x+1]-this.arcLength[x]),k=1-N,O=[0,0,0],F=0;F<3;++F)O[F]=k*I[F]+N*D[F];var z=Math.min(N<.5?x:x+1,this.points.length-1);return new C(M,O,z,this.points[z])};function A(o){var M=o.gl||o.scene&&o.scene.gl,x=c(M);x.attributes.position.location=0,x.attributes.nextPosition.location=1,x.attributes.arcLength.location=2,x.attributes.lineWidth.location=3,x.attributes.color.location=4;var I=i(M);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;for(var D=t(M),N=a(M,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),k=h(new Array(256*4),[256,1,4]),O=0;O<1024;++O)k.data[O]=255;var F=n(M,k);F.wrap=M.REPEAT;var z=new y(M,x,I,D,N,F);return z.update(o),z}},1903:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],f=r[3],u=r[4],l=r[5],g=r[6],h=r[7],T=r[8],c=r[9],i=r[10],d=r[11],b=r[12],w=r[13],C=r[14],y=r[15],E=t*l-a*u,A=t*g-n*u,o=t*h-f*u,M=a*g-n*l,x=a*h-f*l,I=n*h-f*g,D=T*w-c*b,N=T*C-i*b,k=T*y-d*b,O=c*C-i*w,F=c*y-d*w,z=i*y-d*C;return E*z-A*F+o*O+M*k-x*N+I*D}},7399:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=a+a,g=n+n,h=f+f,T=a*l,c=n*l,i=n*g,d=f*l,b=f*g,w=f*h,C=u*l,y=u*g,E=u*h;return r[0]=1-i-w,r[1]=c+E,r[2]=d-y,r[3]=0,r[4]=c-E,r[5]=1-T-w,r[6]=b+C,r[7]=0,r[8]=d+y,r[9]=b-C,r[10]=1-T-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3],g=n+n,h=f+f,T=u+u,c=n*g,i=n*h,d=n*T,b=f*h,w=f*T,C=u*T,y=l*g,E=l*h,A=l*T;return r[0]=1-(b+C),r[1]=i+A,r[2]=d-E,r[3]=0,r[4]=i-A,r[5]=1-(c+C),r[6]=w+y,r[7]=0,r[8]=d+E,r[9]=w-y,r[10]=1-(c+b),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}},7894:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=t[4],g=t[5],h=t[6],T=t[7],c=t[8],i=t[9],d=t[10],b=t[11],w=t[12],C=t[13],y=t[14],E=t[15],A=a*g-n*l,o=a*h-f*l,M=a*T-u*l,x=n*h-f*g,I=n*T-u*g,D=f*T-u*h,N=c*C-i*w,k=c*y-d*w,O=c*E-b*w,F=i*y-d*C,z=i*E-b*C,B=d*E-b*y,W=A*B-o*z+M*F+x*O-I*k+D*N;return W?(W=1/W,r[0]=(g*B-h*z+T*F)*W,r[1]=(f*z-n*B-u*F)*W,r[2]=(C*D-y*I+E*x)*W,r[3]=(d*I-i*D-b*x)*W,r[4]=(h*O-l*B-T*k)*W,r[5]=(a*B-f*O+u*k)*W,r[6]=(y*M-w*D-E*o)*W,r[7]=(c*D-d*M+b*o)*W,r[8]=(l*z-g*O+T*N)*W,r[9]=(n*O-a*z-u*N)*W,r[10]=(w*I-C*M+E*A)*W,r[11]=(i*M-c*I-b*A)*W,r[12]=(g*k-l*F-h*N)*W,r[13]=(a*F-n*k+f*N)*W,r[14]=(C*o-w*x-y*A)*W,r[15]=(c*x-i*o+d*A)*W,r):null}},6582:function(v,p,r){var t=r(7894);v.exports=a;function a(n,f,u,l){var g,h,T,c,i,d,b,w,C,y,E=f[0],A=f[1],o=f[2],M=l[0],x=l[1],I=l[2],D=u[0],N=u[1],k=u[2];return Math.abs(E-D)<1e-6&&Math.abs(A-N)<1e-6&&Math.abs(o-k)<1e-6?t(n):(b=E-D,w=A-N,C=o-k,y=1/Math.sqrt(b*b+w*w+C*C),b*=y,w*=y,C*=y,g=x*C-I*w,h=I*b-M*C,T=M*w-x*b,y=Math.sqrt(g*g+h*h+T*T),y?(y=1/y,g*=y,h*=y,T*=y):(g=0,h=0,T=0),c=w*T-C*h,i=C*g-b*T,d=b*h-w*g,y=Math.sqrt(c*c+i*i+d*d),y?(y=1/y,c*=y,i*=y,d*=y):(c=0,i=0,d=0),n[0]=g,n[1]=c,n[2]=b,n[3]=0,n[4]=h,n[5]=i,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=C,n[11]=0,n[12]=-(g*E+h*A+T*o),n[13]=-(c*E+i*A+d*o),n[14]=-(b*E+w*A+C*o),n[15]=1,n)}},6760:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3],g=t[4],h=t[5],T=t[6],c=t[7],i=t[8],d=t[9],b=t[10],w=t[11],C=t[12],y=t[13],E=t[14],A=t[15],o=a[0],M=a[1],x=a[2],I=a[3];return r[0]=o*n+M*g+x*i+I*C,r[1]=o*f+M*h+x*d+I*y,r[2]=o*u+M*T+x*b+I*E,r[3]=o*l+M*c+x*w+I*A,o=a[4],M=a[5],x=a[6],I=a[7],r[4]=o*n+M*g+x*i+I*C,r[5]=o*f+M*h+x*d+I*y,r[6]=o*u+M*T+x*b+I*E,r[7]=o*l+M*c+x*w+I*A,o=a[8],M=a[9],x=a[10],I=a[11],r[8]=o*n+M*g+x*i+I*C,r[9]=o*f+M*h+x*d+I*y,r[10]=o*u+M*T+x*b+I*E,r[11]=o*l+M*c+x*w+I*A,o=a[12],M=a[13],x=a[14],I=a[15],r[12]=o*n+M*g+x*i+I*C,r[13]=o*f+M*h+x*d+I*y,r[14]=o*u+M*T+x*b+I*E,r[15]=o*l+M*c+x*w+I*A,r}},4040:function(v){v.exports=p;function p(r,t,a,n,f,u,l){var g=1/(t-a),h=1/(n-f),T=1/(u-l);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+a)*g,r[13]=(f+n)*h,r[14]=(l+u)*T,r[15]=1,r}},4772:function(v){v.exports=p;function p(r,t,a,n,f){var u=1/Math.tan(t/2),l=1/(n-f);return r[0]=u/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*l,r[15]=0,r}},6079:function(v){v.exports=p;function p(r,t,a,n){var f=n[0],u=n[1],l=n[2],g=Math.sqrt(f*f+u*u+l*l),h,T,c,i,d,b,w,C,y,E,A,o,M,x,I,D,N,k,O,F,z,B,W,J;return Math.abs(g)<1e-6?null:(g=1/g,f*=g,u*=g,l*=g,h=Math.sin(a),T=Math.cos(a),c=1-T,i=t[0],d=t[1],b=t[2],w=t[3],C=t[4],y=t[5],E=t[6],A=t[7],o=t[8],M=t[9],x=t[10],I=t[11],D=f*f*c+T,N=u*f*c+l*h,k=l*f*c-u*h,O=f*u*c-l*h,F=u*u*c+T,z=l*u*c+f*h,B=f*l*c+u*h,W=u*l*c-f*h,J=l*l*c+T,r[0]=i*D+C*N+o*k,r[1]=d*D+y*N+M*k,r[2]=b*D+E*N+x*k,r[3]=w*D+A*N+I*k,r[4]=i*O+C*F+o*z,r[5]=d*O+y*F+M*z,r[6]=b*O+E*F+x*z,r[7]=w*O+A*F+I*z,r[8]=i*B+C*W+o*J,r[9]=d*B+y*W+M*J,r[10]=b*B+E*W+x*J,r[11]=w*B+A*W+I*J,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[4],l=t[5],g=t[6],h=t[7],T=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+T*n,r[5]=l*f+c*n,r[6]=g*f+i*n,r[7]=h*f+d*n,r[8]=T*f-u*n,r[9]=c*f-l*n,r[10]=i*f-g*n,r[11]=d*f-h*n,r}},2408:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[0],l=t[1],g=t[2],h=t[3],T=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-T*n,r[1]=l*f-c*n,r[2]=g*f-i*n,r[3]=h*f-d*n,r[8]=u*n+T*f,r[9]=l*n+c*f,r[10]=g*n+i*f,r[11]=h*n+d*f,r}},7089:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[0],l=t[1],g=t[2],h=t[3],T=t[4],c=t[5],i=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+T*n,r[1]=l*f+c*n,r[2]=g*f+i*n,r[3]=h*f+d*n,r[4]=T*f-u*n,r[5]=c*f-l*n,r[6]=i*f-g*n,r[7]=d*f-h*n,r}},2504:function(v){v.exports=p;function p(r,t,a){var n=a[0],f=a[1],u=a[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=p;function p(r,t,a){var n=a[0],f=a[1],u=a[2],l,g,h,T,c,i,d,b,w,C,y,E;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*u+t[12],r[13]=t[1]*n+t[5]*f+t[9]*u+t[13],r[14]=t[2]*n+t[6]*f+t[10]*u+t[14],r[15]=t[3]*n+t[7]*f+t[11]*u+t[15]):(l=t[0],g=t[1],h=t[2],T=t[3],c=t[4],i=t[5],d=t[6],b=t[7],w=t[8],C=t[9],y=t[10],E=t[11],r[0]=l,r[1]=g,r[2]=h,r[3]=T,r[4]=c,r[5]=i,r[6]=d,r[7]=b,r[8]=w,r[9]=C,r[10]=y,r[11]=E,r[12]=l*n+c*f+w*u+t[12],r[13]=g*n+i*f+C*u+t[13],r[14]=h*n+d*f+y*u+t[14],r[15]=T*n+b*f+E*u+t[15]),r}},5665:function(v){v.exports=p;function p(r,t){if(r===t){var a=t[1],n=t[2],f=t[3],u=t[6],l=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=a,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,p,r){var t=r(2642),a=r(9346);v.exports=g;function n(h,T){for(var c=[0,0,0,0],i=0;i<4;++i)for(var d=0;d<4;++d)c[d]+=h[4*i+d]*T[i];return c}function f(h,T,c,i,d){for(var b=n(i,n(c,n(T,[h[0],h[1],h[2],1]))),w=0;w<3;++w)b[w]/=b[3];return[.5*d[0]*(1+b[0]),.5*d[1]*(1-b[1])]}function u(h,T){if(h.length===2){for(var c=0,i=0,d=0;d<2;++d)c+=Math.pow(T[d]-h[0][d],2),i+=Math.pow(T[d]-h[1][d],2);return c=Math.sqrt(c),i=Math.sqrt(i),c+i<1e-6?[1,0]:[i/(c+i),c/(i+c)]}else if(h.length===3){var b=[0,0];return a(h[0],h[1],h[2],T,b),t(h,b)}return[]}function l(h,T){for(var c=[0,0,0],i=0;i<h.length;++i)for(var d=h[i],b=T[i],w=0;w<3;++w)c[w]+=b*d[w];return c}function g(h,T,c,i,d,b){if(h.length===1)return[0,h[0].slice()];for(var w=new Array(h.length),C=0;C<h.length;++C)w[C]=f(h[C],c,i,d,b);for(var y=0,E=1/0,C=0;C<w.length;++C){for(var A=0,o=0;o<2;++o)A+=Math.pow(w[C][o]-T[o],2);A<E&&(E=A,y=C)}for(var M=u(w,T),x=0,C=0;C<3;++C){if(M[C]<-.001||M[C]>1.0001)return null;x+=M[C]}return Math.abs(x-1)>.001?null:[y,l(h,M),M]}},840:function(v,p,r){var t=r(3236),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:i,fragment:d,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,p,r){var t=1e-6,a=1e-6,n=r(9405),f=r(2762),u=r(8116),l=r(7766),g=r(8406),h=r(6760),T=r(7608),c=r(9618),i=r(6729),d=r(7765),b=r(1888),w=r(840),C=r(7626),y=w.meshShader,E=w.wireShader,A=w.pointShader,o=w.pickShader,M=w.pointPickShader,x=w.contourShader,I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D($,Z,ie,X,Q,oe,j,Y,se,te,fe,ge,be,xe,_e,De,Fe,Te,Re,Se,ke,Me,Ve,tt,it,Je,Qe){this.gl=$,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=ie,this.lineShader=X,this.pointShader=Q,this.pickShader=oe,this.pointPickShader=j,this.contourShader=Y,this.trianglePositions=se,this.triangleColors=fe,this.triangleNormals=be,this.triangleUVs=ge,this.triangleIds=te,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=_e,this.edgeColors=Fe,this.edgeUVs=Te,this.edgeIds=De,this.edgeVAO=Re,this.edgeCount=0,this.pointPositions=Se,this.pointColors=Me,this.pointUVs=Ve,this.pointSizes=tt,this.pointIds=ke,this.pointVAO=it,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Je,this.contourVAO=Qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=I,this._view=I,this._projection=I,this._resolution=[1,1]}var N=D.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function($){this.pickId=$};function k($,Z){if(!Z||!Z.length)return 1;for(var ie=0;ie<Z.length;++ie){if(Z.length<2)return 1;if(Z[ie][0]===$)return Z[ie][1];if(Z[ie][0]>$&&ie>0){var X=(Z[ie][0]-$)/(Z[ie][0]-Z[ie-1][0]);return Z[ie][1]*(1-X)+X*Z[ie-1][1]}}return 1}function O($,Z){for(var ie=i({colormap:$,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var oe=ie[Q],j=0;j<3;++j)X[4*Q+j]=oe[j];Z?X[4*Q+3]=255*k(Q/255,Z):X[4*Q+3]=255*oe[3]}return c(X,[256,256,4],[4,0,1])}function F($){for(var Z=$.length,ie=new Array(Z),X=0;X<Z;++X)ie[X]=$[X][2];return ie}N.highlight=function($){if(!$||!this.contourEnable){this.contourCount=0;return}for(var Z=d(this.cells,this.intensity,$.intensity),ie=Z.cells,X=Z.vertexIds,Q=Z.vertexWeights,oe=ie.length,j=b.mallocFloat32(2*3*oe),Y=0,se=0;se<oe;++se)for(var te=ie[se],fe=0;fe<2;++fe){var ge=te[0];te.length===2&&(ge=te[fe]);for(var be=X[ge][0],xe=X[ge][1],_e=Q[ge],De=1-_e,Fe=this.positions[be],Te=this.positions[xe],Re=0;Re<3;++Re)j[Y++]=_e*Fe[Re]+De*Te[Re]}this.contourCount=Y/3|0,this.contourPositions.update(j.subarray(0,Y)),b.free(j)},N.update=function($){$=$||{};var Z=this.gl;this.dirty=!0,"contourEnable"in $&&(this.contourEnable=$.contourEnable),"contourColor"in $&&(this.contourColor=$.contourColor),"lineWidth"in $&&(this.lineWidth=$.lineWidth),"lightPosition"in $&&(this.lightPosition=$.lightPosition),this.hasAlpha=!1,"opacity"in $&&(this.opacity=$.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in $&&(this.opacityscale=$.opacityscale,this.hasAlpha=!0),"ambient"in $&&(this.ambientLight=$.ambient),"diffuse"in $&&(this.diffuseLight=$.diffuse),"specular"in $&&(this.specularLight=$.specular),"roughness"in $&&(this.roughness=$.roughness),"fresnel"in $&&(this.fresnel=$.fresnel),$.texture?(this.texture.dispose(),this.texture=l(Z,$.texture)):$.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(O($.colormap,this.opacityscale)),this.texture.generateMipmap());var ie=$.cells,X=$.positions;if(!(!X||!ie)){var Q=[],oe=[],j=[],Y=[],se=[],te=[],fe=[],ge=[],be=[],xe=[],_e=[],De=[],Fe=[],Te=[];this.cells=ie,this.positions=X;var Re=$.vertexNormals,Se=$.cellNormals,ke=$.vertexNormalsEpsilon===void 0?t:$.vertexNormalsEpsilon,Me=$.faceNormalsEpsilon===void 0?a:$.faceNormalsEpsilon;$.useFacetNormals&&!Se&&(Se=g.faceNormals(ie,X,Me)),!Se&&!Re&&(Re=g.vertexNormals(ie,X,ke));var Ve=$.vertexColors,tt=$.cellColors,it=$.meshColor||[1,1,1,1],Je=$.vertexUVs,Qe=$.vertexIntensity,ct=$.cellUVs,ht=$.cellIntensity,dt=1/0,Tt=-1/0;if(!Je&&!ct)if(Qe)if($.vertexIntensityBounds)dt=+$.vertexIntensityBounds[0],Tt=+$.vertexIntensityBounds[1];else for(var Et=0;Et<Qe.length;++Et){var rt=Qe[Et];dt=Math.min(dt,rt),Tt=Math.max(Tt,rt)}else if(ht)if($.cellIntensityBounds)dt=+$.cellIntensityBounds[0],Tt=+$.cellIntensityBounds[1];else for(var Et=0;Et<ht.length;++Et){var rt=ht[Et];dt=Math.min(dt,rt),Tt=Math.max(Tt,rt)}else for(var Et=0;Et<X.length;++Et){var rt=X[Et][2];dt=Math.min(dt,rt),Tt=Math.max(Tt,rt)}Qe?this.intensity=Qe:ht?this.intensity=ht:this.intensity=F(X),this.pickVertex=!(ht||tt);var ze=$.pointSizes,Ge=$.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Et=0;Et<X.length;++Et)for(var je=X[Et],We=0;We<3;++We)isNaN(je[We])||!isFinite(je[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],je[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],je[We]));var Le=0,Pe=0,Ye=0;e:for(var Et=0;Et<ie.length;++Et){var Ce=ie[Et];switch(Ce.length){case 1:for(var he=Ce[0],je=X[he],We=0;We<3;++We)if(isNaN(je[We])||!isFinite(je[We]))continue e;xe.push(je[0],je[1],je[2]);var me;Ve?me=Ve[he]:tt?me=tt[Et]:me=it,this.opacityscale&&Qe?oe.push(me[0],me[1],me[2],this.opacity*k((Qe[he]-dt)/(Tt-dt),this.opacityscale)):me.length===3?_e.push(me[0],me[1],me[2],this.opacity):(_e.push(me[0],me[1],me[2],me[3]*this.opacity),me[3]<1&&(this.hasAlpha=!0));var Ne;Je?Ne=Je[he]:Qe?Ne=[(Qe[he]-dt)/(Tt-dt),0]:ct?Ne=ct[Et]:ht?Ne=[(ht[Et]-dt)/(Tt-dt),0]:Ne=[(je[2]-dt)/(Tt-dt),0],De.push(Ne[0],Ne[1]),ze?Fe.push(ze[he]):Fe.push(Ge),Te.push(Et),Ye+=1;break;case 2:for(var We=0;We<2;++We)for(var he=Ce[We],je=X[he],$e=0;$e<3;++$e)if(isNaN(je[$e])||!isFinite(je[$e]))continue e;for(var We=0;We<2;++We){var he=Ce[We],je=X[he];te.push(je[0],je[1],je[2]);var me;Ve?me=Ve[he]:tt?me=tt[Et]:me=it,this.opacityscale&&Qe?oe.push(me[0],me[1],me[2],this.opacity*k((Qe[he]-dt)/(Tt-dt),this.opacityscale)):me.length===3?fe.push(me[0],me[1],me[2],this.opacity):(fe.push(me[0],me[1],me[2],me[3]*this.opacity),me[3]<1&&(this.hasAlpha=!0));var Ne;Je?Ne=Je[he]:Qe?Ne=[(Qe[he]-dt)/(Tt-dt),0]:ct?Ne=ct[Et]:ht?Ne=[(ht[Et]-dt)/(Tt-dt),0]:Ne=[(je[2]-dt)/(Tt-dt),0],ge.push(Ne[0],Ne[1]),be.push(Et)}Pe+=1;break;case 3:for(var We=0;We<3;++We)for(var he=Ce[We],je=X[he],$e=0;$e<3;++$e)if(isNaN(je[$e])||!isFinite(je[$e]))continue e;for(var We=0;We<3;++We){var he=Ce[2-We],je=X[he];Q.push(je[0],je[1],je[2]);var me;Ve?me=Ve[he]:tt?me=tt[Et]:me=it,me?this.opacityscale&&Qe?oe.push(me[0],me[1],me[2],this.opacity*k((Qe[he]-dt)/(Tt-dt),this.opacityscale)):me.length===3?oe.push(me[0],me[1],me[2],this.opacity):(oe.push(me[0],me[1],me[2],me[3]*this.opacity),me[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var Ne;Je?Ne=Je[he]:Qe?Ne=[(Qe[he]-dt)/(Tt-dt),0]:ct?Ne=ct[Et]:ht?Ne=[(ht[Et]-dt)/(Tt-dt),0]:Ne=[(je[2]-dt)/(Tt-dt),0],Y.push(Ne[0],Ne[1]);var ot;Re?ot=Re[he]:ot=Se[Et],j.push(ot[0],ot[1],ot[2]),se.push(Et)}Le+=1;break}}this.pointCount=Ye,this.edgeCount=Pe,this.triangleCount=Le,this.pointPositions.update(xe),this.pointColors.update(_e),this.pointUVs.update(De),this.pointSizes.update(Fe),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(te),this.edgeColors.update(fe),this.edgeUVs.update(ge),this.edgeIds.update(new Uint32Array(be)),this.trianglePositions.update(Q),this.triangleColors.update(oe),this.triangleUVs.update(Y),this.triangleNormals.update(j),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function($){$=$||{};for(var Z=this.gl,ie=$.model||I,X=$.view||I,Q=$.projection||I,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],j=0;j<3;++j)oe[0][j]=Math.max(oe[0][j],this.clipBounds[0][j]),oe[1][j]=Math.min(oe[1][j],this.clipBounds[1][j]);var Y={model:ie,view:X,projection:Q,inverseModel:I.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};Y.inverseModel=T(Y.inverseModel,Y.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,Y.view,Y.model),h(se,Y.projection,se),T(se,se);for(var j=0;j<3;++j)Y.eyePosition[j]=se[12+j]/se[15];for(var te=se[15],j=0;j<3;++j)te+=this.lightPosition[j]*se[4*j+3];for(var j=0;j<3;++j){for(var fe=se[12+j],ge=0;ge<3;++ge)fe+=se[4*ge+j]*this.lightPosition[ge];Y.lightPosition[j]=fe/te}if(this.triangleCount>0){var be=this.triShader;be.bind(),be.uniforms=Y,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var be=this.lineShader;be.bind(),be.uniforms=Y,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var be=this.pointShader;be.bind(),be.uniforms=Y,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var be=this.contourShader;be.bind(),be.uniforms=Y,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function($){$=$||{};for(var Z=this.gl,ie=$.model||I,X=$.view||I,Q=$.projection||I,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],j=0;j<3;++j)oe[0][j]=Math.max(oe[0][j],this.clipBounds[0][j]),oe[1][j]=Math.min(oe[1][j],this.clipBounds[1][j]);this._model=[].slice.call(ie),this._view=[].slice.call(X),this._projection=[].slice.call(Q),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var Y={model:ie,view:X,projection:Q,clipBounds:oe,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=Y,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=Y,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function($){if(!$||$.id!==this.pickId)return null;for(var Z=$.value[0]+256*$.value[1]+65536*$.value[2],ie=this.cells[Z],X=this.positions,Q=new Array(ie.length),oe=0;oe<ie.length;++oe)Q[oe]=X[ie[oe]];var j=$.coord[0],Y=$.coord[1];if(!this.pickVertex){var se=this.positions[ie[0]],te=this.positions[ie[1]],fe=this.positions[ie[2]],ge=[(se[0]+te[0]+fe[0])/3,(se[1]+te[1]+fe[1])/3,(se[2]+te[2]+fe[2])/3];return{_cellCenter:!0,position:[j,Y],index:Z,cell:ie,cellId:Z,intensity:this.intensity[Z],dataCoordinate:ge}}var be=C(Q,[j*this.pixelRatio,this._resolution[1]-Y*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!be)return null;for(var xe=be[2],_e=0,oe=0;oe<ie.length;++oe)_e+=xe[oe]*this.intensity[ie[oe]];return{position:be[1],index:ie[be[0]],cell:ie,cellId:Z,intensity:_e,dataCoordinate:this.positions[ie[be[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z($){var Z=n($,y.vertex,y.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function B($){var Z=n($,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function W($){var Z=n($,A.vertex,A.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function J($){var Z=n($,o.vertex,o.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function re($){var Z=n($,M.vertex,M.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function ne($){var Z=n($,x.vertex,x.fragment);return Z.attributes.position.location=0,Z}function le($,Z){arguments.length===1&&(Z=$,$=Z.gl);var ie=$.getExtension("OES_standard_derivatives")||$.getExtension("MOZ_OES_standard_derivatives")||$.getExtension("WEBKIT_OES_standard_derivatives");if(!ie)throw new Error("derivatives not supported");var X=z($),Q=B($),oe=W($),j=J($),Y=re($),se=ne($),te=l($,c(new Uint8Array([255,255,255,255]),[1,1,4]));te.generateMipmap(),te.minFilter=$.LINEAR_MIPMAP_LINEAR,te.magFilter=$.LINEAR;var fe=f($),ge=f($),be=f($),xe=f($),_e=f($),De=u($,[{buffer:fe,type:$.FLOAT,size:3},{buffer:_e,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:$.FLOAT,size:4},{buffer:be,type:$.FLOAT,size:2},{buffer:xe,type:$.FLOAT,size:3}]),Fe=f($),Te=f($),Re=f($),Se=f($),ke=u($,[{buffer:Fe,type:$.FLOAT,size:3},{buffer:Se,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Te,type:$.FLOAT,size:4},{buffer:Re,type:$.FLOAT,size:2}]),Me=f($),Ve=f($),tt=f($),it=f($),Je=f($),Qe=u($,[{buffer:Me,type:$.FLOAT,size:3},{buffer:Je,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ve,type:$.FLOAT,size:4},{buffer:tt,type:$.FLOAT,size:2},{buffer:it,type:$.FLOAT,size:1}]),ct=f($),ht=u($,[{buffer:ct,type:$.FLOAT,size:3}]),dt=new D($,te,X,Q,oe,j,Y,se,fe,_e,ge,be,xe,De,Fe,Se,Te,Re,ke,Me,Je,Ve,tt,it,Qe,ct,ht);return dt.update(Z),dt}v.exports=le},8120:function(v,p,r){v.exports=l;var t=r(2762),a=r(9405),n=r(3603);function f(g,h,T){this.plot=g,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var g=[0,0],h=[0,0];return function(T,c,i,d,b){var w=this.plot,C=this.shader,y=w.gl;g[0]=T,g[1]=c,h[0]=i,h[1]=d,C.uniforms.lo=g,C.uniforms.hi=h,C.uniforms.color=b,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var h=g.gl,T=t(h,[0,0,0,1,1,0,1,1]),c=a(h,n.boxVert,n.lineFrag);return new f(g,T,c)}},1913:function(v,p,r){v.exports=h;var t=r(2762),a=r(9405),n=r(2478),f=r(3603);function u(T,c,i,d){this.plot=T,this.vbo=c,this.shader=i,this.tickShader=d,this.ticks=[[],[]]}function l(T,c){return T-c}var g=u.prototype;g.draw=function(){var T=[0,0],c=[0,0],i=[0,0];return function(){for(var d=this.plot,b=this.vbo,w=this.shader,C=this.ticks,y=d.gl,E=d._tickBounds,A=d.dataBox,o=d.viewBox,M=d.gridLineWidth,x=d.gridLineColor,I=d.gridLineEnable,D=d.pixelRatio,N=0;N<2;++N){var k=E[N],O=E[N+2],F=O-k,z=.5*(A[N+2]+A[N]),B=A[N+2]-A[N];c[N]=2*F/B,T[N]=2*(k-z)/B}w.bind(),b.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=c;for(var W=0,N=0;N<2;++N){i[0]=i[1]=0,i[N]=1,w.uniforms.dataAxis=i,w.uniforms.lineWidth=M[N]/(o[N+2]-o[N])*D,w.uniforms.color=x[N];var J=C[N].length*6;I[N]&&J&&y.drawArrays(y.TRIANGLES,W,J),W+=J}}}(),g.drawTickMarks=function(){var T=[0,0],c=[0,0],i=[1,0],d=[0,1],b=[0,0],w=[0,0];return function(){for(var C=this.plot,y=this.vbo,E=this.tickShader,A=this.ticks,o=C.gl,M=C._tickBounds,x=C.dataBox,I=C.viewBox,D=C.pixelRatio,N=C.screenBox,k=N[2]-N[0],O=N[3]-N[1],F=I[2]-I[0],z=I[3]-I[1],B=0;B<2;++B){var W=M[B],J=M[B+2],re=J-W,ne=.5*(x[B+2]+x[B]),le=x[B+2]-x[B];c[B]=2*re/le,T[B]=2*(W-ne)/le}c[0]*=F/k,T[0]*=F/k,c[1]*=z/O,T[1]*=z/O,E.bind(),y.bind(),E.attributes.dataCoord.pointer();var $=E.uniforms;$.dataShift=T,$.dataScale=c;var Z=C.tickMarkLength,ie=C.tickMarkWidth,X=C.tickMarkColor,Q=0,oe=A[0].length*6,j=Math.min(n.ge(A[0],(x[0]-M[0])/(M[2]-M[0]),l),A[0].length),Y=Math.min(n.gt(A[0],(x[2]-M[0])/(M[2]-M[0]),l),A[0].length),se=Q+6*j,te=6*Math.max(0,Y-j),fe=Math.min(n.ge(A[1],(x[1]-M[1])/(M[3]-M[1]),l),A[1].length),ge=Math.min(n.gt(A[1],(x[3]-M[1])/(M[3]-M[1]),l),A[1].length),be=oe+6*fe,xe=6*Math.max(0,ge-fe);b[0]=2*(I[0]-Z[1])/k-1,b[1]=(I[3]+I[1])/O-1,w[0]=Z[1]*D/k,w[1]=ie[1]*D/O,xe&&($.color=X[1],$.tickScale=w,$.dataAxis=d,$.screenOffset=b,o.drawArrays(o.TRIANGLES,be,xe)),b[0]=(I[2]+I[0])/k-1,b[1]=2*(I[1]-Z[0])/O-1,w[0]=ie[0]*D/k,w[1]=Z[0]*D/O,te&&($.color=X[0],$.tickScale=w,$.dataAxis=i,$.screenOffset=b,o.drawArrays(o.TRIANGLES,se,te)),b[0]=2*(I[2]+Z[3])/k-1,b[1]=(I[3]+I[1])/O-1,w[0]=Z[3]*D/k,w[1]=ie[3]*D/O,xe&&($.color=X[3],$.tickScale=w,$.dataAxis=d,$.screenOffset=b,o.drawArrays(o.TRIANGLES,be,xe)),b[0]=(I[2]+I[0])/k-1,b[1]=2*(I[3]+Z[2])/O-1,w[0]=ie[2]*D/k,w[1]=Z[2]*D/O,te&&($.color=X[2],$.tickScale=w,$.dataAxis=i,$.screenOffset=b,o.drawArrays(o.TRIANGLES,se,te))}}(),g.update=function(){var T=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(i){var d=i.ticks,b=i.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,y=[[],[]],E=0;E<2;++E)for(var A=y[E],o=d[E],M=b[E],x=b[E+2],I=0;I<o.length;++I){var D=(o[I].x-M)/(x-M);A.push(D);for(var N=0;N<6;++N)w[C++]=D,w[C++]=T[N],w[C++]=c[N]}this.ticks=y,this.vbo.update(w)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var c=T.gl,i=t(c),d=a(c,f.gridVert,f.gridFrag),b=a(c,f.tickVert,f.gridFrag),w=new u(T,i,d,b);return w}},4747:function(v,p,r){v.exports=l;var t=r(2762),a=r(9405),n=r(3603);function f(g,h,T){this.plot=g,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var g=[0,0],h=[0,0];return function(T,c,i,d,b,w){var C=this.plot,y=this.shader,E=C.gl;g[0]=T,g[1]=c,h[0]=i,h[1]=d,y.uniforms.start=g,y.uniforms.end=h,y.uniforms.width=b*C.pixelRatio,y.uniforms.color=w,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var h=g.gl,T=t(h,[-1,-1,-1,1,1,-1,1,1]),c=a(h,n.lineVert,n.lineFrag),i=new f(g,T,c);return i}},3603:function(v,p,r){var t=r(3236),a=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:a,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:a,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:a,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,p,r){v.exports=h;var t=r(2762),a=r(9405),n=r(529),f=r(2478),u=r(3603);function l(T,c,i){this.plot=T,this.vbo=c,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=l.prototype;g.drawTicks=function(){var T=[0,0],c=[0,0],i=[0,0];return function(d){var b=this.plot,w=this.shader,C=this.tickX[d],y=this.tickOffset[d],E=b.gl,A=b.viewBox,o=b.dataBox,M=b.screenBox,x=b.pixelRatio,I=b.tickEnable,D=b.tickPad,N=b.tickColor,k=b.tickAngle,O=b.labelEnable,F=b.labelPad,z=b.labelColor,B=b.labelAngle,W=this.labelOffset[d],J=this.labelCount[d],re=f.lt(C,o[d]),ne=f.le(C,o[d+2]);T[0]=T[1]=0,T[d]=1,c[d]=(A[2+d]+A[d])/(M[2+d]-M[d])-1;var le=2/M[2+(d^1)]-M[d^1];c[d^1]=le*A[d^1]-1,I[d]&&(c[d^1]-=le*x*D[d],re<ne&&y[ne]>y[re]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=N[d],w.uniforms.angle=k[d],E.drawArrays(E.TRIANGLES,y[re],y[ne]-y[re]))),O[d]&&J&&(c[d^1]-=le*x*F[d],w.uniforms.dataAxis=i,w.uniforms.screenOffset=c,w.uniforms.color=z[d],w.uniforms.angle=B[d],E.drawArrays(E.TRIANGLES,W,J)),c[d^1]=le*A[2+(d^1)]-1,I[d+2]&&(c[d^1]+=le*x*D[d+2],re<ne&&y[ne]>y[re]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=N[d+2],w.uniforms.angle=k[d+2],E.drawArrays(E.TRIANGLES,y[re],y[ne]-y[re]))),O[d+2]&&J&&(c[d^1]+=le*x*F[d+2],w.uniforms.dataAxis=i,w.uniforms.screenOffset=c,w.uniforms.color=z[d+2],w.uniforms.angle=B[d+2],E.drawArrays(E.TRIANGLES,W,J))}}(),g.drawTitle=function(){var T=[0,0],c=[0,0];return function(){var i=this.plot,d=this.shader,b=i.gl,w=i.screenBox,C=i.titleCenter,y=i.titleAngle,E=i.titleColor,A=i.pixelRatio;if(this.titleCount){for(var o=0;o<2;++o)c[o]=2*(C[o]*A-w[o])/(w[2+o]-w[o])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=c,d.uniforms.angle=y,d.uniforms.color=E,b.drawArrays(b.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var T=[0,0],c=[0,0],i=[0,0];return function(){var d=this.plot,b=this.shader,w=d._tickBounds,C=d.dataBox,y=d.screenBox,E=d.viewBox;b.bind();for(var A=0;A<2;++A){var o=w[A],M=w[A+2],x=M-o,I=.5*(C[A+2]+C[A]),D=C[A+2]-C[A],N=E[A],k=E[A+2],O=k-N,F=y[A],z=y[A+2],B=z-F;c[A]=2*x/D*O/B,T[A]=2*(o-I)/D*O/B}i[1]=2*d.pixelRatio/(y[3]-y[1]),i[0]=i[1]*(y[3]-y[1])/(y[2]-y[0]),b.uniforms.dataScale=c,b.uniforms.dataShift=T,b.uniforms.textScale=i,this.vbo.bind(),b.attributes.textCoordinate.pointer()}}(),g.update=function(T){var c=[],i=T.ticks,d=T.bounds,b,w,C,y,E;for(E=0;E<2;++E){var A=[Math.floor(c.length/3)],o=[-1/0],M=i[E];for(b=0;b<M.length;++b){var x=M[b],I=x.x,D=x.text,N=x.font||"sans-serif",k=x.fontStyle||"normal",O=x.fontWeight||"normal",F=x.fontVariant||"normal";y=x.fontSize||12;for(var z=1/(d[E+2]-d[E]),B=d[E],W=D.split(`
`),J=0;J<W.length;J++)for(C=n(N,W[J],{fontStyle:k,fontWeight:O,fontVariant:F}).data,w=0;w<C.length;w+=2)c.push(C[w]*y,-C[w+1]*y-J*y*1.2,(I-B)*z);A.push(Math.floor(c.length/3)),o.push(I)}this.tickOffset[E]=A,this.tickX[E]=o}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(c.length/3),C=n(T.labelFont[E],T.labels[E],{fontStyle:T.labelFontStyle[E],fontWeight:T.labelFontWeight[E],fontVariant:T.labelFontVariant[E],textAlign:"center"}).data,y=T.labelSize[E],b=0;b<C.length;b+=2)c.push(C[b]*y,-C[b+1]*y,0);this.labelCount[E]=Math.floor(c.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(c.length/3),C=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,y=T.titleSize,b=0;b<C.length;b+=2)c.push(C[b]*y,-C[b+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var c=T.gl,i=t(c),d=a(c,u.textVert,u.textFrag),b=new l(T,i,d);return b}},1850:function(v,p,r){v.exports=c;var t=r(3589),a=r(1913),n=r(2142),f=r(4747),u=r(8120);function l(i,d){this.gl=i,this.pickBuffer=d,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=l.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){return function(){var i=this.gl,d=this.screenBox,b=this.viewBox,w=this.dataBox,C=this.pixelRatio,y=this.grid,E=this.line,A=this.text,o=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var M=this.borderColor;i.clearColor(M[0]*M[3],M[1]*M[3],M[2]*M[3],M[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),i.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]);var x=this.backgroundColor;i.clearColor(x[0]*x[3],x[1]*x[3],x[2]*x[3],x[3]),i.clear(i.COLOR_BUFFER_BIT),y.draw();var I=this.zeroLineEnable,D=this.zeroLineColor,N=this.zeroLineWidth;if(I[0]||I[1]){E.bind();for(var k=0;k<2;++k)if(!(!I[k]||!(w[k]<=0&&w[k+2]>=0))){var O=d[k]-w[k]*(d[k+2]-d[k])/(w[k+2]-w[k]);k===0?E.drawLine(O,d[1],O,d[3],N[k],D[k]):E.drawLine(d[0],O,d[2],O,N[k],D[k])}}for(var k=0;k<o.length;++k)o[k].draw();i.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),E.bind();var F=this.borderLineEnable,z=this.borderLineWidth,B=this.borderLineColor;F[1]&&E.drawLine(b[0],b[1]-.5*z[1]*C,b[0],b[3]+.5*z[3]*C,z[1],B[1]),F[0]&&E.drawLine(b[0]-.5*z[0]*C,b[1],b[2]+.5*z[2]*C,b[1],z[0],B[0]),F[3]&&E.drawLine(b[2],b[1]-.5*z[1]*C,b[2],b[3]+.5*z[3]*C,z[3],B[3]),F[2]&&E.drawLine(b[0]-.5*z[0]*C,b[3],b[2]+.5*z[2]*C,b[3],z[2],B[2]),A.bind();for(var k=0;k<2;++k)A.drawTicks(k);this.titleEnable&&A.drawTitle();for(var W=this.overlays,k=0;k<W.length;++k)W[k].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var d=1,b=this.objects,w=0;w<b.length;++w)d=b[w].drawPick(d);i.end()}}}(),g.pick=function(){return function(i,d){if(!this.static){var b=this.pixelRatio,w=this.pickPixelRatio,C=this.viewBox,y=Math.round((i-C[0]/b)*w)|0,E=Math.round((d-C[1]/b)*w)|0,A=this.pickBuffer.query(y,E,this.pickRadius);if(!A)return null;for(var o=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),M=this.objects,x=0;x<M.length;++x){var I=M[x].pick(y,E,o);if(I)return I}return null}}}();function h(i){for(var d=i.slice(),b=0;b<d.length;++b)d[b]=d[b].slice();return d}function T(i,d){return i.x-d.x}g.setScreenBox=function(i){var d=this.screenBox,b=this.pixelRatio;d[0]=Math.round(i[0]*b)|0,d[1]=Math.round(i[1]*b)|0,d[2]=Math.round(i[2]*b)|0,d[3]=Math.round(i[3]*b)|0,this.setDirty()},g.setDataBox=function(i){var d=this.dataBox,b=d[0]!==i[0]||d[1]!==i[1]||d[2]!==i[2]||d[3]!==i[3];b&&(d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3],this.setDirty())},g.setViewBox=function(i){var d=this.pixelRatio,b=this.viewBox;b[0]=Math.round(i[0]*d)|0,b[1]=Math.round(i[1]*d)|0,b[2]=Math.round(i[2]*d)|0,b[3]=Math.round(i[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*w)|0,Math.round((i[3]-i[1])*w)|0],this.setDirty()},g.update=function(i){i=i||{};var d=this.gl;this.pixelRatio=i.pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(i.screenBox||[0,0,d.drawingBufferWidth/b,d.drawingBufferHeight/b]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var w=this.viewBox,C=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(i.dataBox||[-10,-10/C,10,10/C]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(w[0]+w[2])/b,(w[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=i.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var A=0;A<2;++A){var o=y[A].slice(0);o.length!==0&&(o.sort(T),E[A]=Math.min(E[A],o[0].x),E[A+2]=Math.max(E[A+2],o[o.length-1].x))}this.grid.update({bounds:E,ticks:y}),this.text.update({bounds:E,ticks:y,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],labelFontStyle:i.labelFontStyle||["normal","normal"],labelFontWeight:i.labelFontWeight||["normal","normal"],labelFontVariant:i.labelFontVariant||["normal","normal"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif",titleFontStyle:i.titleFontStyle||"normal",titleFontWeight:i.titleFontWeight||"normal",titleFontVariant:i.titleFontVariant||"normal"}),this.static=!!i.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},g.removeObject=function(i){for(var d=this.objects,b=0;b<d.length;++b)if(d[b]===i){d.splice(b,1),this.setDirty();break}},g.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},g.removeOverlay=function(i){for(var d=this.overlays,b=0;b<d.length;++b)if(d[b]===i){d.splice(b,1),this.setOverlayDirty();break}};function c(i){var d=i.gl,b=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new l(d,b);return w.grid=a(w),w.text=n(w),w.line=f(w),w.box=u(w),w.update(i),w}},4437:function(v,p,r){v.exports=g;var t=r(3025),a=r(6296),n=r(351),f=r(8512),u=r(24),l=r(7520);function g(h,T){h=h||document.body,T=T||{};var c=[.01,1/0];"distanceLimits"in T&&(c[0]=T.distanceLimits[0],c[1]=T.distanceLimits[1]),"zoomMin"in T&&(c[0]=T.zoomMin),"zoomMax"in T&&(c[1]=T.zoomMax);var i=a({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0,w=h.clientWidth,C=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:i,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:i.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var E=t(),A=this.delay,o=E-2*A;i.idle(E-A),i.recalcMatrix(o),i.flush(E-(100+A*2));for(var M=!0,x=i.computedMatrix,I=0;I<16;++I)M=M&&d[I]===x[I],d[I]=x[I];var D=h.clientWidth===w&&h.clientHeight===C;return w=h.clientWidth,C=h.clientHeight,M?!D:(b=Math.exp(i.computedRadius[0]),!0)},lookAt:function(E,A,o){i.lookAt(i.lastT(),E,A,o)},rotate:function(E,A,o){i.rotate(i.lastT(),E,A,o)},pan:function(E,A,o){i.pan(i.lastT(),E,A,o)},translate:function(E,A,o){i.translate(i.lastT(),E,A,o)}};return Object.defineProperties(y,{matrix:{get:function(){return i.computedMatrix},set:function(E){return i.setMatrix(i.lastT(),E),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(E){var A=i.computedUp.slice(),o=i.computedEye.slice(),M=i.computedCenter.slice();if(i.setMode(E),E==="turntable"){var x=t();i._active.lookAt(x,o,M,A),i._active.lookAt(x+500,o,M,[0,0,1]),i._active.flush(x)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(E){return i.lookAt(i.lastT(),null,E),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(E){return i.lookAt(i.lastT(),E),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(E){return i.lookAt(i.lastT(),null,null,E),i.computedUp},enumerable:!0},distance:{get:function(){return b},set:function(E){return i.setDistance(i.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(c)},set:function(E){return i.setDistanceLimits(E),E},enumerable:!0}}),h.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=n(h,E),h.addEventListener("touchstart",function(A){var o=u(A.changedTouches[0],h);E(0,o[0],o[1],y._lastMods),E(1,o[0],o[1],y._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(A){var o=u(A.changedTouches[0],h);E(1,o[0],o[1],y._lastMods),A.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(A){E(0,y._lastX,y._lastY,y._lastMods)},l?{passive:!0}:!1);function E(A,o,M,x){var I=y.keyBindingMode;if(I!==!1){var D=I==="rotate",N=I==="pan",k=I==="zoom",O=!!x.control,F=!!x.alt,z=!!x.shift,B=!!(A&1),W=!!(A&2),J=!!(A&4),re=1/h.clientHeight,ne=re*(o-y._lastX),le=re*(M-y._lastY),$=y.flipX?1:-1,Z=y.flipY?1:-1,ie=Math.PI*y.rotateSpeed,X=t();if(y._lastX!==-1&&y._lastY!==-1&&((D&&B&&!O&&!F&&!z||B&&!O&&!F&&z)&&i.rotate(X,$*ie*ne,-Z*ie*le,0),(N&&B&&!O&&!F&&!z||W||B&&O&&!F&&!z)&&i.pan(X,-y.translateSpeed*ne*b,y.translateSpeed*le*b,0),k&&B&&!O&&!F&&!z||J||B&&!O&&F&&!z)){var Q=-y.zoomSpeed*le/window.innerHeight*(X-i.lastT())*100;i.pan(X,0,0,b*(Math.exp(Q)-1))}return y._lastX=o,y._lastY=M,y._lastMods=x,!0}}y.wheelListener=f(h,function(A,o){if(y.keyBindingMode!==!1&&y.enableWheel){var M=y.flipX?1:-1,x=y.flipY?1:-1,I=t();if(Math.abs(A)>Math.abs(o))i.rotate(I,0,0,-A*M*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var D=-y.zoomSpeed*x*o/window.innerHeight*(I-i.lastT())/20;i.pan(I,0,0,b*(Math.exp(D)-1))}}},!0)},y.enableMouseListeners(),y}},799:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec2"}])}},4100:function(v,p,r){var t=r(4437),a=r(3837),n=r(5445),f=r(4449),u=r(3589),l=r(2260),g=r(7169),h=r(351),T=r(4772),c=r(4040),i=r(799),d=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:t};function b(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(o,M){var x=null;try{x=o.getContext("webgl",M),x||(x=o.getContext("experimental-webgl",M))}catch{return null}return x}function C(o){var M=Math.round(Math.log(Math.abs(o))/Math.log(10));if(M<0){var x=Math.round(Math.pow(10,-M));return Math.ceil(o*x)/x}else if(M>0){var x=Math.round(Math.pow(10,M));return Math.ceil(o/x)*x}return Math.ceil(o)}function y(o){return typeof o=="boolean"?o:!0}function E(o){o=o||{},o.camera=o.camera||{};var M=o.canvas;if(!M)if(M=document.createElement("canvas"),o.container){var x=o.container;x.appendChild(M)}else document.body.appendChild(M);var I=o.gl;if(I||(o.glOptions&&(d=!!o.glOptions.preserveDrawingBuffer),I=w(M,o.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!I)throw new Error("webgl not supported");var D=o.bounds||[[-10,-10,-10],[10,10,10]],N=new b,k=l(I,I.drawingBufferWidth,I.drawingBufferHeight,{preferFloat:!d}),O=i(I),F=o.cameraObject&&o.cameraObject._ortho===!0||o.camera.projection&&o.camera.projection.type==="orthographic"||!1,z={eye:o.camera.eye||[2,0,0],center:o.camera.center||[0,0,0],up:o.camera.up||[0,1,0],zoomMin:o.camera.zoomMax||.1,zoomMax:o.camera.zoomMin||100,mode:o.camera.mode||"turntable",_ortho:F},B=o.axes||{},W=a(I,B);W.enable=!B.disable;var J=o.spikes||{},re=f(I,J),ne=[],le=[],$=[],Z=[],ie=!0,j=!0,X=new Array(16),Q=new Array(16),oe={view:null,projection:X,model:Q,_ortho:!1},j=!0,Y=[I.drawingBufferWidth,I.drawingBufferHeight],se=o.cameraObject||t(M,z),te={gl:I,contextLost:!1,pixelRatio:o.pixelRatio||1,canvas:M,selection:N,camera:se,axes:W,axesPixels:null,spikes:re,bounds:D,objects:ne,shape:Y,aspect:o.aspectRatio||[1,1,1],pickRadius:o.pickRadius||10,zNear:o.zNear||.01,zFar:o.zFar||1e3,fovy:o.fovy||Math.PI/4,clearColor:o.clearColor||[0,0,0,0],autoResize:y(o.autoResize),autoBounds:y(o.autoBounds),autoScale:!!o.autoScale,autoCenter:y(o.autoCenter),clipToBounds:y(o.clipToBounds),snapToData:!!o.snapToData,onselect:o.onselect||null,onrender:o.onrender||null,onclick:o.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Se){this.aspect[0]=Se.x,this.aspect[1]=Se.y,this.aspect[2]=Se.z,j=!0},setBounds:function(Se,ke){this.bounds[0][Se]=ke.min,this.bounds[1][Se]=ke.max},setClearColor:function(Se){this.clearColor=Se},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[I.drawingBufferWidth/te.pixelRatio|0,I.drawingBufferHeight/te.pixelRatio|0];function ge(){if(!te._stopped&&te.autoResize){var Se=M.parentNode,ke=1,Me=1;Se&&Se!==document.body?(ke=Se.clientWidth,Me=Se.clientHeight):(ke=window.innerWidth,Me=window.innerHeight);var Ve=Math.ceil(ke*te.pixelRatio)|0,tt=Math.ceil(Me*te.pixelRatio)|0;if(Ve!==M.width||tt!==M.height){M.width=Ve,M.height=tt;var it=M.style;it.position=it.position||"absolute",it.left="0px",it.top="0px",it.width=ke+"px",it.height=Me+"px",ie=!0}}}te.autoResize&&ge(),window.addEventListener("resize",ge);function be(){for(var Se=ne.length,ke=Z.length,Me=0;Me<ke;++Me)$[Me]=0;e:for(var Me=0;Me<Se;++Me){var Ve=ne[Me],tt=Ve.pickSlots;if(!tt){le[Me]=-1;continue}for(var it=0;it<ke;++it)if($[it]+tt<255){le[Me]=it,Ve.setPickBase($[it]+1),$[it]+=tt;continue e}var Je=u(I,Y);le[Me]=ke,Z.push(Je),$.push(tt),Ve.setPickBase(1),ke+=1}for(;ke>0&&$[ke-1]===0;)$.pop(),Z.pop().dispose()}te.update=function(Se){te._stopped||(ie=!0,j=!0)},te.add=function(Se){te._stopped||(Se.axes=W,ne.push(Se),le.push(-1),ie=!0,j=!0,be())},te.remove=function(Se){if(!te._stopped){var ke=ne.indexOf(Se);ke<0||(ne.splice(ke,1),le.pop(),ie=!0,j=!0,be())}},te.dispose=function(){if(!te._stopped&&(te._stopped=!0,window.removeEventListener("resize",ge),M.removeEventListener("webglcontextlost",xe),te.mouseListener.enabled=!1,!te.contextLost)){W.dispose(),re.dispose();for(var Se=0;Se<ne.length;++Se)ne[Se].dispose();k.dispose();for(var Se=0;Se<Z.length;++Se)Z[Se].dispose();O.dispose(),I=null,W=null,re=null,ne=[]}},te._mouseRotating=!1,te._prevButtons=0,te.enableMouseListeners=function(){te.mouseListener=h(M,function(Se,ke,Me){if(!te._stopped){var Ve=Z.length,tt=ne.length,it=N.object;N.distance=1/0,N.mouse[0]=ke,N.mouse[1]=Me,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var Je=!1;if(Se&&te._prevButtons)te._mouseRotating=!0;else{te._mouseRotating&&(j=!0),te._mouseRotating=!1;for(var Qe=0;Qe<Ve;++Qe){var ct=Z[Qe].query(ke,fe[1]-Me-1,te.pickRadius);if(ct){if(ct.distance>N.distance)continue;for(var ht=0;ht<tt;++ht){var dt=ne[ht];if(le[ht]===Qe){var Tt=dt.pick(ct);Tt&&(N.buttons=Se,N.screen=ct.coord,N.distance=ct.distance,N.object=dt,N.index=Tt.distance,N.dataPosition=Tt.position,N.dataCoordinate=Tt.dataCoordinate,N.data=Tt,Je=!0)}}}}}it&&it!==N.object&&(it.highlight&&it.highlight(null),ie=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),ie=!0),Je=Je||N.object!==it,Je&&te.onselect&&te.onselect(N),Se&1&&!(te._prevButtons&1)&&te.onclick&&te.onclick(N),te._prevButtons=Se}})};function xe(){if(te.contextLost)return!0;I.isContextLost()&&(te.contextLost=!0,te.mouseListener.enabled=!1,te.selection.object=null,te.oncontextloss&&te.oncontextloss())}M.addEventListener("webglcontextlost",xe);function _e(){if(!xe()){I.colorMask(!0,!0,!0,!0),I.depthMask(!0),I.disable(I.BLEND),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL);for(var Se=ne.length,ke=Z.length,Me=0;Me<ke;++Me){var Ve=Z[Me];Ve.shape=fe,Ve.begin();for(var tt=0;tt<Se;++tt)if(le[tt]===Me){var it=ne[tt];it.drawPick&&(it.pixelRatio=1,it.drawPick(oe))}Ve.end()}}}var De=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Fe=[De[0].slice(),De[1].slice()];function Te(){if(!xe()){ge();var Se=te.camera.tick();oe.view=te.camera.matrix,ie=ie||Se,j=j||Se,W.pixelRatio=te.pixelRatio,re.pixelRatio=te.pixelRatio;var ke=ne.length,Me=De[0],Ve=De[1];Me[0]=Me[1]=Me[2]=1/0,Ve[0]=Ve[1]=Ve[2]=-1/0;for(var tt=0;tt<ke;++tt){var it=ne[tt];it.pixelRatio=te.pixelRatio,it.axes=te.axes,ie=ie||!!it.dirty,j=j||!!it.dirty;var Je=it.bounds;if(Je)for(var Qe=Je[0],ct=Je[1],ht=0;ht<3;++ht)Me[ht]=Math.min(Me[ht],Qe[ht]),Ve[ht]=Math.max(Ve[ht],ct[ht])}var dt=te.bounds;if(te.autoBounds)for(var ht=0;ht<3;++ht){if(Ve[ht]<Me[ht])Me[ht]=-1,Ve[ht]=1;else{Me[ht]===Ve[ht]&&(Me[ht]-=1,Ve[ht]+=1);var Tt=.05*(Ve[ht]-Me[ht]);Me[ht]=Me[ht]-Tt,Ve[ht]=Ve[ht]+Tt}dt[0][ht]=Me[ht],dt[1][ht]=Ve[ht]}for(var Et=!1,ht=0;ht<3;++ht)Et=Et||Fe[0][ht]!==dt[0][ht]||Fe[1][ht]!==dt[1][ht],Fe[0][ht]=dt[0][ht],Fe[1][ht]=dt[1][ht];if(j=j||Et,ie=ie||Et,!!ie){if(Et){for(var rt=[0,0,0],tt=0;tt<3;++tt)rt[tt]=C((dt[1][tt]-dt[0][tt])/10);W.autoTicks?W.update({bounds:dt,tickSpacing:rt}):W.update({bounds:dt})}var ze=I.drawingBufferWidth,Ge=I.drawingBufferHeight;Y[0]=ze,Y[1]=Ge,fe[0]=Math.max(ze/te.pixelRatio,1)|0,fe[1]=Math.max(Ge/te.pixelRatio,1)|0,A(te,F);for(var tt=0;tt<ke;++tt){var it=ne[tt];it.axesBounds=dt,te.clipToBounds&&(it.clipBounds=dt)}N.object&&(te.snapToData?re.position=N.dataCoordinate:re.position=N.dataPosition,re.bounds=dt),j&&(j=!1,_e()),te.axesPixels=n(te.axes,oe,ze,Ge),te.onrender&&te.onrender(),I.bindFramebuffer(I.FRAMEBUFFER,null),I.viewport(0,0,ze,Ge),te.clearRGBA(),I.depthMask(!0),I.colorMask(!0,!0,!0,!0),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.disable(I.BLEND),I.disable(I.CULL_FACE);var je=!1;W.enable&&(je=je||W.isTransparent(),W.draw(oe)),re.axes=W,N.object&&re.draw(oe),I.disable(I.CULL_FACE);for(var tt=0;tt<ke;++tt){var it=ne[tt];it.axes=W,it.pixelRatio=te.pixelRatio,it.isOpaque&&it.isOpaque()&&it.draw(oe),it.isTransparent&&it.isTransparent()&&(je=!0)}if(je){k.shape=Y,k.bind(),I.clear(I.DEPTH_BUFFER_BIT),I.colorMask(!1,!1,!1,!1),I.depthMask(!0),I.depthFunc(I.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(oe);for(var tt=0;tt<ke;++tt){var it=ne[tt];it.isOpaque&&it.isOpaque()&&it.draw(oe)}I.enable(I.BLEND),I.blendEquation(I.FUNC_ADD),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.colorMask(!0,!0,!0,!0),I.depthMask(!1),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(oe);for(var tt=0;tt<ke;++tt){var it=ne[tt];it.isTransparent&&it.isTransparent()&&it.drawTransparent(oe)}I.bindFramebuffer(I.FRAMEBUFFER,null),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.disable(I.DEPTH_TEST),O.bind(),k.color[0].bind(0),O.uniforms.accumBuffer=0,g(I),I.disable(I.BLEND)}ie=!1;for(var tt=0;tt<ke;++tt)ne[tt].dirty=!1}}}function Re(){te._stopped||te.contextLost||(Te(),requestAnimationFrame(Re))}return te.enableMouseListeners(),Re(),te.redraw=function(){te._stopped||(ie=!0,Te())},te}function A(o,M){var x=o.bounds,I=o.cameraParams,D=I.projection,N=I.model,k=o.gl.drawingBufferWidth,O=o.gl.drawingBufferHeight,F=o.zNear,z=o.zFar,B=o.fovy,W=k/O;M?(c(D,-W,W,-1,1,F,z),I._ortho=!0):(T(D,B,W,F,z),I._ortho=!1);for(var J=0;J<16;++J)N[J]=0;N[15]=1;for(var re=0,J=0;J<3;++J)re=Math.max(re,x[1][J]-x[0][J]);for(var J=0;J<3;++J)o.autoScale?N[5*J]=o.aspect[J]/(x[1][J]-x[0][J]):N[5*J]=1/re,o.autoCenter&&(N[12+J]=-N[5*J]*.5*(x[0][J]+x[1][J]))}},6640:function(v,p,r){var t=r(3236);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,p,r){var t=r(9405),a=r(2762),n=r(1888),f=r(6640);v.exports=h;function u(T,c,i,d,b){this.plot=T,this.offsetBuffer=c,this.pickBuffer=i,this.shader=d,this.pickShader=b,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var c;T=T||{};function i(A,o){return A in T?T[A]:o}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var d=T.positions.length>>>1,b=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,C=T.positions,y=b?C:n.mallocFloat32(C.length),E=w?T.idToIndex:n.mallocInt32(d);if(b||y.set(C),!w)for(y.set(C),c=0;c<d;c++)E[c]=c;this.points=C,this.offsetBuffer.update(y),this.pickBuffer.update(E),b||n.free(y),w||n.free(E),this.pointCount=d,this.pickOffset=0};function g(T,c){var i=0,d=T.length>>>1,b;for(b=0;b<d;b++){var w=T[b*2],C=T[b*2+1];w>=c[0]&&w<=c[2]&&C>=c[1]&&C<=c[3]&&i++}return i}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(i){var d=i!==void 0,b=d?this.pickShader:this.shader,w=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return i;var y=C[2]-C[0],E=C[3]-C[1],A=g(this.points,C),o=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));T[0]=2/y,T[4]=2/E,T[6]=-2*C[0]/y-1,T[7]=-2*C[1]/E-1,this.offsetBuffer.bind(),b.bind(),b.attributes.position.pointer(),b.uniforms.matrix=T,b.uniforms.color=this.color,b.uniforms.borderColor=this.borderColor,b.uniforms.pointCloud=o<5,b.uniforms.pointSize=o,b.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=i&255,c[1]=i>>8&255,c[2]=i>>16&255,c[3]=i>>24&255,this.pickBuffer.bind(),b.attributes.pickId.pointer(w.UNSIGNED_BYTE),b.uniforms.pickOffset=c,this.pickOffset=i);var M=w.getParameter(w.BLEND),x=w.getParameter(w.DITHER);return M&&!this.blend&&w.disable(w.BLEND),x&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),M&&!this.blend&&w.enable(w.BLEND),x&&w.enable(w.DITHER),i+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,c,i){var d=this.pickOffset,b=this.pointCount;if(i<d||i>=d+b)return null;var w=i-d,C=this.points;return{object:this,pointId:w,dataCoord:[C[2*w],C[2*w+1]]}};function h(T,c){var i=T.gl,d=a(i),b=a(i),w=t(i,f.pointVertex,f.pointFragment),C=t(i,f.pickVertex,f.pickFragment),y=new u(T,d,b,w,C);return y.update(c),T.addObject(y),y}},783:function(v){v.exports=p;function p(r,t,a,n){var f=t[0],u=t[1],l=t[2],g=t[3],h=a[0],T=a[1],c=a[2],i=a[3],d,b,w,C,y;return b=f*h+u*T+l*c+g*i,b<0&&(b=-b,h=-h,T=-T,c=-c,i=-i),1-b>1e-6?(d=Math.acos(b),w=Math.sin(d),C=Math.sin((1-n)*d)/w,y=Math.sin(n*d)/w):(C=1-n,y=n),r[0]=C*f+y*h,r[1]=C*u+y*T,r[2]=C*l+y*c,r[3]=C*g+y*i,r}},5964:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},9366:function(v,p,r){var t=r(4359);v.exports=n;var a={};function n(f,u,l){var g=[u.style,u.weight,u.variant,u.family].join("_"),h=a[g];if(h||(h=a[g]={}),f in h)return h[f];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var c=t(f,T);T.triangles=!1;var i=t(f,T),d,b;if(l&&l!==1){for(d=0;d<c.positions.length;++d)for(b=0;b<c.positions[d].length;++b)c.positions[d][b]/=l;for(d=0;d<i.positions.length;++d)for(b=0;b<i.positions[d].length;++b)i.positions[d][b]/=l}var w=[[1/0,1/0],[-1/0,-1/0]],C=i.positions.length;for(d=0;d<C;++d){var y=i.positions[d];for(b=0;b<2;++b)w[0][b]=Math.min(w[0][b],y[b]),w[1][b]=Math.max(w[1][b],y[b])}return h[f]=[c,i,w]}},1283:function(v,p,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:l,attributes:h},c={vertex:f,fragment:l,attributes:h},i={vertex:u,fragment:l,attributes:h},d={vertex:n,fragment:g,attributes:h},b={vertex:f,fragment:g,attributes:h},w={vertex:u,fragment:g,attributes:h};function C(y,E){var A=t(y,E),o=A.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,A}p.createPerspective=function(y){return C(y,T)},p.createOrtho=function(y){return C(y,c)},p.createProject=function(y){return C(y,i)},p.createPickPerspective=function(y){return C(y,d)},p.createPickOrtho=function(y){return C(y,b)},p.createPickProject=function(y){return C(y,w)}},8418:function(v,p,r){var t=r(5219),a=r(2762),n=r(8116),f=r(1888),u=r(6760),l=r(1283),g=r(9366),h=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=ArrayBuffer,i=DataView;function d(Q){return c.isView(Q)&&!(Q instanceof i)}function b(Q){return Array.isArray(Q)||d(Q)}v.exports=X;function w(Q,oe){var j=Q[0],Y=Q[1],se=Q[2],te=Q[3];return Q[0]=oe[0]*j+oe[4]*Y+oe[8]*se+oe[12]*te,Q[1]=oe[1]*j+oe[5]*Y+oe[9]*se+oe[13]*te,Q[2]=oe[2]*j+oe[6]*Y+oe[10]*se+oe[14]*te,Q[3]=oe[3]*j+oe[7]*Y+oe[11]*se+oe[15]*te,Q}function C(Q,oe,j,Y){return w(Y,Y),w(Y,Y),w(Y,Y)}function y(Q,oe){this.index=Q,this.dataCoordinate=this.position=oe}function E(Q){return Q===!0||Q>1?1:Q}function A(Q,oe,j,Y,se,te,fe,ge,be,xe,_e,De){this.gl=Q,this.pixelRatio=1,this.shader=oe,this.orthoShader=j,this.projectShader=Y,this.pointBuffer=se,this.colorBuffer=te,this.glyphBuffer=fe,this.idBuffer=ge,this.vao=be,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=xe,this.pickOrthoShader=_e,this.pickProjectShader=De,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var o=A.prototype;o.pickSlots=1,o.setPickBase=function(Q){this.pickId=Q},o.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},o.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var M=[0,0],x=[0,0,0],I=[0,0,0],D=[0,0,0,1],N=[0,0,0,1],k=T.slice(),O=[0,0,0],F=[[0,0,0],[0,0,0]];function z(Q){return Q[0]=Q[1]=Q[2]=0,Q}function B(Q,oe){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[3]=1,Q}function W(Q,oe,j,Y){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[j]=Y,Q}function J(Q){for(var oe=F,j=0;j<2;++j)for(var Y=0;Y<3;++Y)oe[j][Y]=Math.max(Math.min(Q[j][Y],1e8),-1e8);return oe}function re(Q,oe,j,Y){var se=oe.axesProject,te=oe.gl,fe=Q.uniforms,ge=j.model||T,be=j.view||T,xe=j.projection||T,_e=oe.axesBounds,De=J(oe.clipBounds),Fe;oe.axes&&oe.axes.lastCubeProps?Fe=oe.axes.lastCubeProps.axis:Fe=[1,1,1],M[0]=2/te.drawingBufferWidth,M[1]=2/te.drawingBufferHeight,Q.bind(),fe.view=be,fe.projection=xe,fe.screenSize=M,fe.highlightId=oe.highlightId,fe.highlightScale=oe.highlightScale,fe.clipBounds=De,fe.pickGroup=oe.pickId/255,fe.pixelRatio=Y;for(var Te=0;Te<3;++Te)if(se[Te]){fe.scale=oe.projectScale[Te],fe.opacity=oe.projectOpacity[Te];for(var Re=k,Se=0;Se<16;++Se)Re[Se]=0;for(var Se=0;Se<4;++Se)Re[5*Se]=1;Re[5*Te]=0,Fe[Te]<0?Re[12+Te]=_e[0][Te]:Re[12+Te]=_e[1][Te],u(Re,ge,Re),fe.model=Re;var ke=(Te+1)%3,Me=(Te+2)%3,Ve=z(x),tt=z(I);Ve[ke]=1,tt[Me]=1;var it=C(xe,be,ge,B(D,Ve)),Je=C(xe,be,ge,B(N,tt));if(Math.abs(it[1])>Math.abs(Je[1])){var Qe=it;it=Je,Je=Qe,Qe=Ve,Ve=tt,tt=Qe;var ct=ke;ke=Me,Me=ct}it[0]<0&&(Ve[ke]=-1),Je[1]>0&&(tt[Me]=-1);for(var ht=0,dt=0,Se=0;Se<4;++Se)ht+=Math.pow(ge[4*ke+Se],2),dt+=Math.pow(ge[4*Me+Se],2);Ve[ke]/=Math.sqrt(ht),tt[Me]/=Math.sqrt(dt),fe.axes[0]=Ve,fe.axes[1]=tt,fe.fragClipBounds[0]=W(O,De[0],Te,-1e8),fe.fragClipBounds[1]=W(O,De[1],Te,1e8),oe.vao.bind(),oe.vao.draw(te.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(te.lineWidth(oe.lineWidth*Y),oe.vao.draw(te.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}var ne=[-1e8,-1e8,-1e8],le=[1e8,1e8,1e8],$=[ne,le];function Z(Q,oe,j,Y,se,te,fe){var ge=j.gl;if((te===j.projectHasAlpha||fe)&&re(oe,j,Y,se),te===j.hasAlpha||fe){Q.bind();var be=Q.uniforms;be.model=Y.model||T,be.view=Y.view||T,be.projection=Y.projection||T,M[0]=2/ge.drawingBufferWidth,M[1]=2/ge.drawingBufferHeight,be.screenSize=M,be.highlightId=j.highlightId,be.highlightScale=j.highlightScale,be.fragClipBounds=$,be.clipBounds=j.axes.bounds,be.opacity=j.opacity,be.pickGroup=j.pickId/255,be.pixelRatio=se,j.vao.bind(),j.vao.draw(ge.TRIANGLES,j.vertexCount),j.lineWidth>0&&(ge.lineWidth(j.lineWidth*se),j.vao.draw(ge.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}o.draw=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;Z(oe,this.projectShader,this,Q,this.pixelRatio,!1,!1)},o.drawTransparent=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;Z(oe,this.projectShader,this,Q,this.pixelRatio,!0,!1)},o.drawPick=function(Q){var oe=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;Z(oe,this.pickProjectShader,this,Q,1,!0,!0)},o.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var oe=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(oe>=this.pointCount||oe<0)return null;var j=this.points[oe],Y=this._selectResult;Y.index=oe;for(var se=0;se<3;++se)Y.position[se]=Y.dataCoordinate[se]=j[se];return Y},o.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var oe=Q.index,j=oe&255,Y=oe>>8&255,se=oe>>16&255;this.highlightId=[j/255,Y/255,se/255,0]}};function ie(Q,oe,j,Y){var se;b(Q)?oe<Q.length?se=Q[oe]:se=void 0:se=Q,se=h(se);var te=!0;t(se)&&(se="▼",te=!1),j||(j={});var fe=j.family;b(fe)&&(fe=fe[oe]),fe||(fe="normal");var ge=j.weight;b(ge)&&(ge=ge[oe]),ge||(ge="normal");var be=j.style;b(be)&&(be=be[oe]),be||(be="normal");var xe=j.variant;b(xe)&&(xe=xe[oe]),xe||(xe="normal");var _e=g(se,{family:fe,weight:ge,style:be,variant:xe},Y),_e=g(se,j,Y);return{mesh:_e[0],lines:_e[1],bounds:_e[2],visible:te}}o.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(b(Q.project))this.axesProject=Q.project;else{var oe=!!Q.project;this.axesProject=[oe,oe,oe]}if("projectScale"in Q)if(b(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var j=+Q.projectScale;this.projectScale=[j,j,j]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(b(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var j=+Q.projectOpacity;this.projectOpacity=[j,j,j]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=E(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=E(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var se=Q.position,te={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},fe=Q.alignment||[0,0],ge,be;if(fe.length===2)ge=fe[0],be=fe[1];else{ge=[],be=[];for(var Y=0;Y<fe.length;++Y)ge[Y]=fe[Y][0],be[Y]=fe[Y][1]}var xe=[1/0,1/0,1/0],_e=[-1/0,-1/0,-1/0],De=Q.glyph,Fe=Q.color,Te=Q.size,Re=Q.angle,Se=Q.lineColor,ke=-1,Me=0,Ve=0,tt=0;if(se.length){tt=se.length;e:for(var Y=0;Y<tt;++Y){for(var it=se[Y],Je=0;Je<3;++Je)if(isNaN(it[Je])||!isFinite(it[Je]))continue e;var Qe=ie(De,Y,te,this.pixelRatio),ct=Qe.mesh,ht=Qe.lines,dt=Qe.bounds;Me+=ct.cells.length*3,Ve+=ht.edges.length*2}}var Tt=Me+Ve,Et=f.mallocFloat(3*Tt),rt=f.mallocFloat(4*Tt),ze=f.mallocFloat(2*Tt),Ge=f.mallocUint32(Tt);if(Tt>0){var je=0,We=Me,Le=[0,0,0,1],Pe=[0,0,0,1],Ye=b(Fe)&&b(Fe[0]),Ce=b(Se)&&b(Se[0]);e:for(var Y=0;Y<tt;++Y){ke+=1;for(var it=se[Y],Je=0;Je<3;++Je){if(isNaN(it[Je])||!isFinite(it[Je]))continue e;_e[Je]=Math.max(_e[Je],it[Je]),xe[Je]=Math.min(xe[Je],it[Je])}var Qe=ie(De,Y,te,this.pixelRatio),ct=Qe.mesh,ht=Qe.lines,dt=Qe.bounds,he=Qe.visible;if(!he)Le=[1,1,1,0];else if(b(Fe)){var me;if(Ye?Y<Fe.length?me=Fe[Y]:me=[0,0,0,0]:me=Fe,me.length===3){for(var Je=0;Je<3;++Je)Le[Je]=me[Je];Le[3]=1}else if(me.length===4){for(var Je=0;Je<4;++Je)Le[Je]=me[Je];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Le[0]=Le[1]=Le[2]=0,Le[3]=1;if(!he)Pe=[1,1,1,0];else if(b(Se)){var me;if(Ce?Y<Se.length?me=Se[Y]:me=[0,0,0,0]:me=Se,me.length===3){for(var Je=0;Je<3;++Je)Pe[Je]=me[Je];Pe[Je]=1}else if(me.length===4){for(var Je=0;Je<4;++Je)Pe[Je]=me[Je];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;var Ne=.5;he?b(Te)?Y<Te.length?Ne=+Te[Y]:Ne=12:Te?Ne=+Te:this.useOrtho&&(Ne=12):Ne=0;var $e=0;b(Re)?Y<Re.length?$e=+Re[Y]:$e=0:Re&&($e=+Re);for(var ot=Math.cos($e),st=Math.sin($e),it=se[Y],Je=0;Je<3;++Je)_e[Je]=Math.max(_e[Je],it[Je]),xe[Je]=Math.min(xe[Je],it[Je]);var Wt=ge,Zt=be,Wt=0;b(ge)?Y<ge.length?Wt=ge[Y]:Wt=0:ge&&(Wt=ge);var Zt=0;b(be)?Y<be.length?Zt=be[Y]:Zt=0:be&&(Zt=be),Wt*=Wt>0?1-dt[0][0]:Wt<0?1+dt[1][0]:1,Zt*=Zt>0?1-dt[0][1]:Zt<0?1+dt[1][1]:1;for(var At=[Wt,Zt],Kt=ct.cells||[],Qt=ct.positions||[],Je=0;Je<Kt.length;++Je)for(var Rt=Kt[Je],Xt=0;Xt<3;++Xt){for(var ir=0;ir<3;++ir)Et[3*je+ir]=it[ir];for(var ir=0;ir<4;++ir)rt[4*je+ir]=Le[ir];Ge[je]=ke;var pt=Qt[Rt[Xt]];ze[2*je]=Ne*(ot*pt[0]-st*pt[1]+At[0]),ze[2*je+1]=Ne*(st*pt[0]+ot*pt[1]+At[1]),je+=1}for(var Kt=ht.edges,Qt=ht.positions,Je=0;Je<Kt.length;++Je)for(var Rt=Kt[Je],Xt=0;Xt<2;++Xt){for(var ir=0;ir<3;++ir)Et[3*We+ir]=it[ir];for(var ir=0;ir<4;++ir)rt[4*We+ir]=Pe[ir];Ge[We]=ke;var pt=Qt[Rt[Xt]];ze[2*We]=Ne*(ot*pt[0]-st*pt[1]+At[0]),ze[2*We+1]=Ne*(st*pt[0]+ot*pt[1]+At[1]),We+=1}}}this.bounds=[xe,_e],this.points=se,this.pointCount=se.length,this.vertexCount=Me,this.lineVertexCount=Ve,this.pointBuffer.update(Et),this.colorBuffer.update(rt),this.glyphBuffer.update(ze),this.idBuffer.update(Ge),f.free(Et),f.free(rt),f.free(ze),f.free(Ge)},o.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function X(Q){var oe=Q.gl,j=l.createPerspective(oe),Y=l.createOrtho(oe),se=l.createProject(oe),te=l.createPickPerspective(oe),fe=l.createPickOrtho(oe),ge=l.createPickProject(oe),be=a(oe),xe=a(oe),_e=a(oe),De=a(oe),Fe=n(oe,[{buffer:be,size:3,type:oe.FLOAT},{buffer:xe,size:4,type:oe.FLOAT},{buffer:_e,size:2,type:oe.FLOAT},{buffer:De,size:4,type:oe.UNSIGNED_BYTE,normalized:!0}]),Te=new A(oe,j,Y,se,be,xe,_e,De,Fe,te,fe,ge);return Te.update(Q),Te}},4298:function(v,p,r){var t=r(3236);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,p,r){var t=r(9405),a=r(2762),n=r(4298);v.exports=l;function f(g,h,T){this.plot=g,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(this.enabled){var g=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var i=this.outerColor,d=this.borderColor,b=g.box,w=g.screenBox,C=g.dataBox,y=g.viewBox,E=g.pixelRatio,A=(h[0]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],o=(h[1]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1],M=(h[2]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],x=(h[3]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1];if(A=Math.max(A,y[0]),o=Math.max(o,y[1]),M=Math.min(M,y[2]),x=Math.min(x,y[3]),!(M<A||x<o)){b.bind();var I=w[2]-w[0],D=w[3]-w[1];if(this.outerFill&&(b.drawBox(0,0,I,o,i),b.drawBox(0,o,A,x,i),b.drawBox(0,x,I,D,i),b.drawBox(M,o,I,x,i)),this.innerFill&&b.drawBox(A,o,M,x,c),T>0){var N=T*E;b.drawBox(A-N,o-N,M+N,o+N,d),b.drawBox(A-N,x-N,M+N,x+N,d),b.drawBox(A-N,o-N,A+N,x+N,d),b.drawBox(M-N,o-N,M+N,x+N,d)}}}},u.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(g,h){var T=g.gl,c=a(T,[0,0,0,1,1,0,1,1]),i=t(T,n.boxVertex,n.boxFragment),d=new f(g,c,i);return d.update(h),g.addOverlay(d),d}},3589:function(v,p,r){v.exports=T;var t=r(2260),a=r(1888),n=r(9618),f=r(8828).nextPow2,u=function(c,i,d){for(var b=1e8,w=-1,C=-1,y=c.shape[0],E=c.shape[1],A=0;A<y;A++)for(var o=0;o<E;o++){var M=c.get(A,o,0),x=c.get(A,o,1),I=c.get(A,o,2),D=c.get(A,o,3);if(M<255||x<255||I<255||D<255){var N=i-A,k=d-o,O=N*N+k*k;O<b&&(b=O,w=A,C=o)}}return[w,C,b]};function l(c,i,d,b,w){this.coord=[c,i],this.id=d,this.value=b,this.distance=w}function g(c,i,d){this.gl=c,this.fbo=i,this.buffer=d,this._readTimeout=null;var b=this;this._readCallback=function(){b.gl&&(i.bind(),c.readPixels(0,0,i.shape[0],i.shape[1],c.RGBA,c.UNSIGNED_BYTE,b.buffer),b._readTimeout=null)}}var h=g.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var i=this.fbo.shape[0],d=this.fbo.shape[1];if(d*i*4>this.buffer.length){a.free(this.buffer);for(var b=this.buffer=a.mallocUint8(f(d*i*4)),w=0;w<d*i*4;++w)b[w]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,i,d){if(!this.gl)return null;var b=this.fbo.shape.slice();c=c|0,i=i|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(c-d,0),b[0])|0,C=Math.min(Math.max(c+d,0),b[0])|0,y=Math.min(Math.max(i-d,0),b[1])|0,E=Math.min(Math.max(i+d,0),b[1])|0;if(C<=w||E<=y)return null;var A=[C-w,E-y],o=n(this.buffer,[A[0],A[1],4],[4,b[0]*4,1],4*(w+b[0]*y)),M=u(o.hi(A[0],A[1],1),d,d),x=M[0],I=M[1];if(x<0||Math.pow(this.radius,2)<M[2])return null;var D=o.get(x,I,0),N=o.get(x,I,1),k=o.get(x,I,2),O=o.get(x,I,3);return new l(x+w|0,I+y|0,D,[N,k,O],Math.sqrt(M[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(c,i){var d=i[0],b=i[1],w={},C=t(c,d,b,w),y=a.mallocUint8(d*b*4);return new g(c,C,y)}},9405:function(v,p,r){var t=r(3327),a=r(8731),n=r(216),f=r(5091),u=r(2145),l=r(8866);function g(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=g.prototype;h.bind=function(){this.program||this._relink();var i,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),b=this.gl.lastAttribCount;if(d>b)for(i=b;i<d;i++)this.gl.enableVertexAttribArray(i);else if(b>d)for(i=d;i<b;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var i=this.gl.lastAttribCount,d=0;d<i;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(i,d){return i.name<d.name?-1:1}h.update=function(i,d,b,w){if(!d||arguments.length===1){var C=i;i=C.vertex,d=C.fragment,b=C.uniforms,w=C.attributes}var y=this,E=y.gl,A=y._vref;y._vref=f.shader(E,E.VERTEX_SHADER,i),A&&A.dispose(),y.vertShader=y._vref.shader;var o=this._fref;if(y._fref=f.shader(E,E.FRAGMENT_SHADER,d),o&&o.dispose(),y.fragShader=y._fref.shader,!b||!w){var M=E.createProgram();if(E.attachShader(M,y.fragShader),E.attachShader(M,y.vertShader),E.linkProgram(M),!E.getProgramParameter(M,E.LINK_STATUS)){var x=E.getProgramInfoLog(M);throw new l(x,"Error linking program:"+x)}b=b||u.uniforms(E,M),w=w||u.attributes(E,M),E.deleteProgram(M)}w=w.slice(),w.sort(T);var I=[],D=[],N=[],k;for(k=0;k<w.length;++k){var O=w[k];if(O.type.indexOf("mat")>=0){for(var F=O.type.charAt(O.type.length-1)|0,z=new Array(F),B=0;B<F;++B)z[B]=N.length,D.push(O.name+"["+B+"]"),typeof O.location=="number"?N.push(O.location+B):Array.isArray(O.location)&&O.location.length===F&&typeof O.location[B]=="number"?N.push(O.location[B]|0):N.push(-1);I.push({name:O.name,type:O.type,locations:z})}else I.push({name:O.name,type:O.type,locations:[N.length]}),D.push(O.name),typeof O.location=="number"?N.push(O.location|0):N.push(-1)}var W=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(W)>=0;)W+=1;N[k]=W}var J=new Array(b.length);function re(){y.program=f.program(E,y._vref,y._fref,D,N);for(var ne=0;ne<b.length;++ne)J[ne]=E.getUniformLocation(y.program,b[ne].name)}re(),y._relink=re,y.types={uniforms:n(b),attributes:n(w)},y.attributes=a(E,y,I,N),Object.defineProperty(y,"uniforms",t(E,y,b,J))};function c(i,d,b,w,C){var y=new g(i);return y.update(d,b,w,C),y}v.exports=c},8866:function(v){function p(r,t,a){this.shortMessage=t||"",this.longMessage=a||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(a?`
`+a:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},8731:function(v,p,r){v.exports=g;var t=r(8866);function a(h,T,c,i,d,b){this._gl=h,this._wrapper=T,this._index=c,this._locations=i,this._dimension=d,this._constFunc=b}var n=a.prototype;n.pointer=function(T,c,i,d){var b=this,w=b._gl,C=b._locations[b._index];w.vertexAttribPointer(C,b._dimension,T||w.FLOAT,!!c,i||0,d||0),w.enableVertexAttribArray(C)},n.set=function(h,T,c,i){return this._constFunc(this._locations[this._index],h,T,c,i)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,T,c){return c.length===void 0?h.vertexAttrib1f(T,c):h.vertexAttrib1fv(T,c)},function(h,T,c,i){return c.length===void 0?h.vertexAttrib2f(T,c,i):h.vertexAttrib2fv(T,c)},function(h,T,c,i,d){return c.length===void 0?h.vertexAttrib3f(T,c,i,d):h.vertexAttrib3fv(T,c)},function(h,T,c,i,d,b){return c.length===void 0?h.vertexAttrib4f(T,c,i,d,b):h.vertexAttrib4fv(T,c)}];function u(h,T,c,i,d,b,w){var C=f[d],y=new a(h,T,c,i,d,C);Object.defineProperty(b,w,{set:function(E){return h.disableVertexAttribArray(i[c]),C(h,i[c],E),E},get:function(){return y},enumerable:!0})}function l(h,T,c,i,d,b,w){for(var C=new Array(d),y=new Array(d),E=0;E<d;++E)u(h,T,c[E],i,d,C,E),y[E]=C[E];Object.defineProperty(C,"location",{set:function(M){if(Array.isArray(M))for(var x=0;x<d;++x)y[x].location=M[x];else for(var x=0;x<d;++x)y[x].location=M+x;return M},get:function(){for(var M=new Array(d),x=0;x<d;++x)M[x]=i[c[x]];return M},enumerable:!0}),C.pointer=function(M,x,I,D){M=M||h.FLOAT,x=!!x,I=I||d*d,D=D||0;for(var N=0;N<d;++N){var k=i[c[N]];h.vertexAttribPointer(k,d,M,x,I,D+N*d),h.enableVertexAttribArray(k)}};var A=new Array(d),o=h["vertexAttrib"+d+"fv"];Object.defineProperty(b,w,{set:function(M){for(var x=0;x<d;++x){var I=i[c[x]];if(h.disableVertexAttribArray(I),Array.isArray(M[0]))o.call(h,I,M[x]);else{for(var D=0;D<d;++D)A[D]=M[d*x+D];o.call(h,I,A)}}return M},get:function(){return C},enumerable:!0})}function g(h,T,c,i){for(var d={},b=0,w=c.length;b<w;++b){var C=c[b],y=C.name,E=C.type,A=C.locations;switch(E){case"bool":case"int":case"float":u(h,T,A[0],i,1,d,y);break;default:if(E.indexOf("vec")>=0){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+E);u(h,T,A[0],i,o,d,y)}else if(E.indexOf("mat")>=0){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+E);l(h,T,A,i,o,d,y)}else throw new t("","Unknown data type for attribute "+y+": "+E);break}}return d}},3327:function(v,p,r){var t=r(216),a=r(8866);v.exports=u;function n(l){return function(){return l}}function f(l,g){for(var h=new Array(l),T=0;T<l;++T)h[T]=g;return h}function u(l,g,h,T){function c(E){return function(A,o,M){return A.getUniform(o.program,M[E])}}function i(E){return function(o){for(var M=d("",E),x=0;x<M.length;++x){var I=M[x],D=I[0],N=I[1];if(T[N]){var k=o;if(typeof D=="string"&&(D.indexOf(".")===0||D.indexOf("[")===0)){var O=D;if(D.indexOf(".")===0&&(O=D.slice(1)),O.indexOf("]")===O.length-1){var F=O.indexOf("["),z=O.slice(0,F),B=O.slice(F+1,O.length-1);k=z?o[z][B]:o[B]}else k=o[O]}var W=h[N].type,J;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[N],k);break;case"float":l.uniform1f(T[N],k);break;default:var re=W.indexOf("vec");if(0<=re&&re<=1&&W.length===4+re){if(J=W.charCodeAt(W.length-1)-48,J<2||J>4)throw new a("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+J+"iv"](T[N],k);break;case"v":l["uniform"+J+"fv"](T[N],k);break;default:throw new a("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if(J=W.charCodeAt(W.length-1)-48,J<2||J>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+J+"fv"](T[N],!1,k);break}else throw new a("","Unknown uniform data type for "+name+": "+W)}}}}}function d(E,A){if(typeof A!="object")return[[E,A]];var o=[];for(var M in A){var x=A[M],I=E;parseInt(M)+""===M?I+="["+M+"]":I+="."+M,typeof x=="object"?o.push.apply(o,d(I,x)):o.push([I,x])}return o}function b(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=E.indexOf("vec");if(0<=A&&A<=1&&E.length===4+A){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new a("","Invalid data type");return E.charAt(0)==="b"?f(o,!1):f(o,0)}else if(E.indexOf("mat")===0&&E.length===4){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+E);return f(o*o,0)}else throw new a("","Unknown uniform data type for "+name+": "+E)}}function w(E,A,o){if(typeof o=="object"){var M=C(o);Object.defineProperty(E,A,{get:n(M),set:i(o),enumerable:!0,configurable:!1})}else T[o]?Object.defineProperty(E,A,{get:c(o),set:i(o),enumerable:!0,configurable:!1}):E[A]=b(h[o].type)}function C(E){var A;if(Array.isArray(E)){A=new Array(E.length);for(var o=0;o<E.length;++o)w(A,o,E[o])}else{A={};for(var M in E)w(A,M,E[M])}return A}var y=t(h,!0);return{get:n(C(y)),set:i(y),enumerable:!0,configurable:!0}}},216:function(v){v.exports=p;function p(r,t){for(var a={},n=0;n<r.length;++n)for(var f=r[n].name,u=f.split("."),l=a,g=0;g<u.length;++g){var h=u[g].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var T=1;T<h.length;++T){var c=parseInt(h[T]);T<h.length-1||g<u.length-1?(c in l||(T<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else g<u.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return a}},2145:function(v,p){p.uniforms=n,p.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function a(u,l){if(!t){var g=Object.keys(r);t={};for(var h=0;h<g.length;++h){var T=g[h];t[u[T]]=r[T]}}return t[l]}function n(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),h=[],T=0;T<g;++T){var c=u.getActiveUniform(l,T);if(c){var i=a(u,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:i});else h.push({name:c.name,type:i})}}return h}function f(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),h=[],T=0;T<g;++T){var c=u.getActiveAttrib(l,T);c&&h.push({name:c.name,type:a(u,c.type)})}return h}},5091:function(v,p,r){p.shader=d,p.program=b;var t=r(8866),a=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,f=new n,u=0;function l(w,C,y,E,A,o,M){this.id=w,this.src=C,this.type=y,this.shader=E,this.count=o,this.programs=[],this.cache=M}l.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,C=w.gl,y=this.programs,E=0,A=y.length;E<A;++E){var o=w.programs[y[E]];o&&(delete w.programs[E],C.deleteProgram(o))}C.deleteShader(this.shader),delete w.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function g(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var h=g.prototype;function T(w,C,y){var E=w.createShader(C);if(w.shaderSource(E,y),w.compileShader(E),!w.getShaderParameter(E,w.COMPILE_STATUS)){var A=w.getShaderInfoLog(E);try{var o=a(A,y,C)}catch(M){throw console.warn("Failed to format compiler error: "+M),new t(A,`Error compiling shader:
`+A)}throw new t(A,o.short,o.long)}return E}h.getShaderReference=function(w,C){var y=this.gl,E=this.shaders[w===y.FRAGMENT_SHADER|0],A=E[C];if(!A||!y.isShader(A.shader)){var o=T(y,w,C);A=E[C]=new l(u++,C,w,o,[],1,this)}else A.count+=1;return A};function c(w,C,y,E,A){var o=w.createProgram();w.attachShader(o,C),w.attachShader(o,y);for(var M=0;M<E.length;++M)w.bindAttribLocation(o,A[M],E[M]);if(w.linkProgram(o),!w.getProgramParameter(o,w.LINK_STATUS)){var x=w.getProgramInfoLog(o);throw new t(x,"Error linking program: "+x)}return o}h.getProgram=function(w,C,y,E){var A=[w.id,C.id,y.join(":"),E.join(":")].join("@"),o=this.programs[A];return(!o||!this.gl.isProgram(o))&&(this.programs[A]=o=c(this.gl,w.shader,C.shader,y,E),w.programs.push(A),C.programs.push(A)),o};function i(w){var C=f.get(w);return C||(C=new g(w),f.set(w,C)),C}function d(w,C,y){return i(w).getShaderReference(C,y)}function b(w,C,y,E,A){return i(w).getProgram(C,y,E,A)}},4098:function(v){v.exports=t;function p(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var a=this.enable,n=this.width,f=this.color,u=this.center,l=this.plot,g=l.line,h=l.dataBox,T=l.viewBox;if(g.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=T[0]+(u[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),i=T[1]+(u[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);a[0]&&g.drawLine(c,i,T[0],i,n[0],f[0]),a[1]&&g.drawLine(c,i,c,T[1],n[1],f[1]),a[2]&&g.drawLine(c,i,T[2],i,n[2],f[2]),a[3]&&g.drawLine(c,i,c,T[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(a,n){var f=new p(a);return f.update(n),a.addOverlay(f),f}},1493:function(v,p,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,p,r){var t=r(2762),a=r(8116),n=r(1493);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,b,w){this.gl=i,this.buffer=d,this.vao=b,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,g=[0,0,0],h=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(i){},l.draw=function(i){var d=this.gl,b=this.vao,w=this.shader;b.bind(),w.bind();var C=i.model||f,y=i.view||f,E=i.projection||f,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var o=g,M=h,x=0;x<3;++x)A&&A[x]<0?(o[x]=this.bounds[0][x],M[x]=this.bounds[1][x]):(o[x]=this.bounds[1][x],M[x]=this.bounds[0][x]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=C,w.uniforms.view=y,w.uniforms.projection=E,w.uniforms.coordinates=[this.position,o,M],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var x=0;x<3;++x)w.uniforms.lineWidth=this.lineWidth[x]*this.pixelRatio,this.enabled[x]&&(b.draw(d.TRIANGLES,6,6*x),this.drawSides[x]&&b.draw(d.TRIANGLES,12,18+12*x));b.unbind()},l.update=function(i){i&&("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(i,d){var b=[];function w(o,M,x,I,D,N){var k=[o,M,x,0,0,0,1];k[I+3]=1,k[I]=D,b.push.apply(b,k),k[6]=-1,b.push.apply(b,k),k[I]=N,b.push.apply(b,k),b.push.apply(b,k),k[6]=1,b.push.apply(b,k),k[I]=D,b.push.apply(b,k)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var C=t(i,b),y=a(i,[{type:i.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:C,size:1,offset:24,stride:28}]),E=n(i);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var A=new u(i,C,y,E);return A.update(d),A}},6740:function(v,p,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,p,r){var t=r(2931),a=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(b,w,C,y){for(var E=b.points,A=b.velocities,o=b.divergences,M=[],x=[],I=[],D=[],N=[],k=[],O=0,F=0,z=a.create(),B=a.create(),W=8,J=0;J<E.length;J++){var re=E[J],ne=A[J],le=o[J];w===0&&(le=C*.05),F=t.length(ne)/y,z=a.create(),t.copy(z,ne),z[3]=le;for(var $=0;$<W;$++)N[$]=[re[0],re[1],re[2],$];if(D.length>0)for(var $=0;$<W;$++){var Z=($+1)%W;M.push(D[$],N[$],N[Z],N[Z],D[Z],D[$]),I.push(B,z,z,z,B,B),k.push(O,F,F,F,O,O);var ie=M.length;x.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}var X=D;D=N,N=X;var Q=B;B=z,z=Q;var oe=O;O=F,F=oe}return{positions:M,cells:x,vectors:I,vertexIntensity:k}},u=function(b,w,C,y){for(var E=0,A=0;A<b.length;A++)for(var o=b[A].velocities,M=0;M<o.length;M++)E=Math.max(E,t.length(o[M]));for(var x=b.map(function(J){return f(J,C,y,E)}),I=[],D=[],N=[],k=[],A=0;A<x.length;A++){var O=x[A],F=I.length;I=I.concat(O.positions),N=N.concat(O.vectors),k=k.concat(O.vertexIntensity);for(var M=0;M<O.cells.length;M++){var z=O.cells[M],B=[];D.push(B);for(var W=0;W<z.length;W++)B.push(z[W]+F)}}return{positions:I,cells:D,vectors:N,vertexIntensity:k,colormap:w}},l=function(b,w){var C=b.length,y;for(y=0;y<C;y++){var E=b[y];if(E===w)return y;if(E>w)return y-1}return y},g=function(b,w,C){return b<w?w:b>C?C:b},h=function(b,w,C){var y=w.vectors,E=w.meshgrid,A=b[0],o=b[1],M=b[2],x=E[0].length,I=E[1].length,D=E[2].length,N=l(E[0],A),k=l(E[1],o),O=l(E[2],M),F=N+1,z=k+1,B=O+1;if(N=g(N,0,x-1),F=g(F,0,x-1),k=g(k,0,I-1),z=g(z,0,I-1),O=g(O,0,D-1),B=g(B,0,D-1),N<0||k<0||O<0||F>x-1||z>I-1||B>D-1)return t.create();var W=E[0][N],J=E[0][F],re=E[1][k],ne=E[1][z],le=E[2][O],$=E[2][B],Z=(A-W)/(J-W),ie=(o-re)/(ne-re),X=(M-le)/($-le);isFinite(Z)||(Z=.5),isFinite(ie)||(ie=.5),isFinite(X)||(X=.5);var Q,oe,j,Y,se,te;switch(C.reversedX&&(N=x-1-N,F=x-1-F),C.reversedY&&(k=I-1-k,z=I-1-z),C.reversedZ&&(O=D-1-O,B=D-1-B),C.filled){case 5:se=O,te=B,j=k*D,Y=z*D,Q=N*D*I,oe=F*D*I;break;case 4:se=O,te=B,Q=N*D,oe=F*D,j=k*D*x,Y=z*D*x;break;case 3:j=k,Y=z,se=O*I,te=B*I,Q=N*I*D,oe=F*I*D;break;case 2:j=k,Y=z,Q=N*I,oe=F*I,se=O*I*x,te=B*I*x;break;case 1:Q=N,oe=F,se=O*x,te=B*x,j=k*x*D,Y=z*x*D;break;default:Q=N,oe=F,j=k*x,Y=z*x,se=O*x*I,te=B*x*I;break}var fe=y[Q+j+se],ge=y[Q+j+te],be=y[Q+Y+se],xe=y[Q+Y+te],_e=y[oe+j+se],De=y[oe+j+te],Fe=y[oe+Y+se],Te=y[oe+Y+te],Re=t.create(),Se=t.create(),ke=t.create(),Me=t.create();t.lerp(Re,fe,_e,Z),t.lerp(Se,ge,De,Z),t.lerp(ke,be,Fe,Z),t.lerp(Me,xe,Te,Z);var Ve=t.create(),tt=t.create();t.lerp(Ve,Re,ke,ie),t.lerp(tt,Se,Me,ie);var it=t.create();return t.lerp(it,Ve,tt,X),it},T=function(b){var w=1/0;b.sort(function(A,o){return A-o});for(var C=b.length,y=1;y<C;y++){var E=Math.abs(b[y]-b[y-1]);E<w&&(w=E)}return w},c=function(b){for(var w=[],C=[],y=[],E={},A={},o={},M=b.length,x=0;x<M;x++){var I=b[x],D=I[0],N=I[1],k=I[2];E[D]||(w.push(D),E[D]=!0),A[N]||(C.push(N),A[N]=!0),o[k]||(y.push(k),o[k]=!0)}var O=T(w),F=T(C),z=T(y),B=Math.min(O,F,z);return isFinite(B)?B:1};v.exports=function(b,w){var C=b.startingPositions,y=b.maxLength||1e3,E=b.tubeSize||1,A=b.absoluteTubeSize,o=b.gridFill||"+x+y+z",M={};o.indexOf("-x")!==-1&&(M.reversedX=!0),o.indexOf("-y")!==-1&&(M.reversedY=!0),o.indexOf("-z")!==-1&&(M.reversedZ=!0),M.filled=n.indexOf(o.replace(/-/g,"").replace(/\+/g,""));var x=b.getVelocity||function(De){return h(De,b,M)},I=b.getDivergence||function(De,Fe){var Te=t.create(),Re=1e-4;t.add(Te,De,[Re,0,0]);var Se=x(Te);t.subtract(Se,Se,Fe),t.scale(Se,Se,1/Re),t.add(Te,De,[0,Re,0]);var ke=x(Te);t.subtract(ke,ke,Fe),t.scale(ke,ke,1/Re),t.add(Te,De,[0,0,Re]);var Me=x(Te);return t.subtract(Me,Me,Fe),t.scale(Me,Me,1/Re),t.add(Te,Se,ke),t.add(Te,Te,Me),Te},D=[],N=w[0][0],k=w[0][1],O=w[0][2],F=w[1][0],z=w[1][1],B=w[1][2],W=function(De){var Fe=De[0],Te=De[1],Re=De[2];return!(Fe<N||Fe>F||Te<k||Te>z||Re<O||Re>B)},J=t.distance(w[0],w[1]),re=10*J/y,ne=re*re,le=1,$=0,Z=C.length;Z>1&&(le=c(C));for(var ie=0;ie<Z;ie++){var X=t.create();t.copy(X,C[ie]);var Q=[X],oe=[],j=x(X),Y=X;oe.push(j);var se=[],te=I(X,j),fe=t.length(te);isFinite(fe)&&fe>$&&($=fe),se.push(fe),D.push({points:Q,velocities:oe,divergences:se});for(var ge=0;ge<y*100&&Q.length<y&&W(X);){ge++;var be=t.clone(j),xe=t.squaredLength(be);if(xe===0)break;if(xe>ne&&t.scale(be,be,re/Math.sqrt(xe)),t.add(be,be,X),j=x(be),t.squaredDistance(Y,be)-ne>-1e-4*ne){Q.push(be),Y=be,oe.push(j);var te=I(be,j),fe=t.length(te);isFinite(fe)&&fe>$&&($=fe),se.push(fe)}X=be}}var _e=u(D,b.colormap,$,le);return A?_e.tubeScale=A:($===0&&($=1),_e.tubeScale=E*.5*le/$),_e};var i=r(6740),d=r(6405).createMesh;v.exports.createTubeMesh=function(b,w){return d(b,w,{shaders:i,traceType:"streamtube"})}},990:function(v,p,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=a([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(g){var h=t(g,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(g){var h=t(g,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(g){var h=t(g,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(g){var h=t(g,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,p,r){v.exports=oe;var t=r(8828),a=r(2762),n=r(8116),f=r(7766),u=r(1888),l=r(6729),g=r(5298),h=r(9994),T=r(9618),c=r(3711),i=r(6760),d=r(7608),b=r(2478),w=r(6199),C=r(990),y=C.createShader,E=C.createContourShader,A=C.createPickShader,o=C.createPickContourShader,M=4*10,x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var j=0;j<3;++j){var Y=D[j],se=(j+1)%3,te=(j+2)%3;Y[se+0]=1,Y[te+3]=1,Y[j+6]=1}})();function N(j,Y,se,te,fe){this.position=j,this.index=Y,this.uv=se,this.level=te,this.dataCoordinate=fe}var k=256;function O(j,Y,se,te,fe,ge,be,xe,_e,De,Fe,Te,Re,Se,ke){this.gl=j,this.shape=Y,this.bounds=se,this.objectOffset=ke,this.intensityBounds=[],this._shader=te,this._pickShader=fe,this._coordinateBuffer=ge,this._vao=be,this._colorMap=xe,this._contourShader=_e,this._contourPickShader=De,this._contourBuffer=Fe,this._contourVAO=Te,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Re,this._dynamicVAO=Se,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=O.prototype;F.genColormap=function(j,Y){var se=!1,te=h([l({colormap:j,nshades:k,format:"rgba"}).map(function(fe,ge){var be=Y?z(ge/255,Y):fe[3];return be<1&&(se=!0),[fe[0],fe[1],fe[2],255*be]})]);return g.divseq(te,255),this.hasAlphaScale=se,te},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(j){this.pickId=j};function z(j,Y){if(!Y||!Y.length)return 1;for(var se=0;se<Y.length;++se){if(Y.length<2)return 1;if(Y[se][0]===j)return Y[se][1];if(Y[se][0]>j&&se>0){var te=(Y[se][0]-j)/(Y[se][0]-Y[se-1][0]);return Y[se][1]*(1-te)+te*Y[se-1][1]}}return 1}var B=[0,0,0],W={showSurface:!1,showContour:!1,projections:[x.slice(),x.slice(),x.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J(j,Y){var se,te,fe,ge=Y.axes&&Y.axes.lastCubeProps.axis||B,be=Y.showSurface,xe=Y.showContour;for(se=0;se<3;++se)for(be=be||Y.surfaceProject[se],te=0;te<3;++te)xe=xe||Y.contourProject[se][te];for(se=0;se<3;++se){var _e=W.projections[se];for(te=0;te<16;++te)_e[te]=0;for(te=0;te<4;++te)_e[5*te]=1;_e[5*se]=0,_e[12+se]=Y.axesBounds[+(ge[se]>0)][se],i(_e,j.model,_e);var De=W.clipBounds[se];for(fe=0;fe<2;++fe)for(te=0;te<3;++te)De[fe][te]=j.clipBounds[fe][te];De[0][se]=-1e8,De[1][se]=1e8}return W.showSurface=be,W.showContour=xe,W}var re={model:x,view:x,projection:x,inverseModel:x.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=x.slice(),le=[1,0,0,0,1,0,0,0,1];function $(j,Y){j=j||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var te=re;te.model=j.model||x,te.view=j.view||x,te.projection=j.projection||x,te.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],te.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],te.objectOffset=this.objectOffset,te.contourColor=this.contourColor[0],te.inverseModel=d(te.inverseModel,te.model);for(var fe=0;fe<2;++fe)for(var ge=te.clipBounds[fe],be=0;be<3;++be)ge[be]=Math.min(Math.max(this.clipBounds[fe][be],-1e8),1e8);te.kambient=this.ambientLight,te.kdiffuse=this.diffuseLight,te.kspecular=this.specularLight,te.roughness=this.roughness,te.fresnel=this.fresnel,te.opacity=this.opacity,te.height=0,te.permutation=le,te.vertexColor=this.vertexColor;var xe=ne;for(i(xe,te.view,te.model),i(xe,te.projection,xe),d(xe,xe),fe=0;fe<3;++fe)te.eyePosition[fe]=xe[12+fe]/xe[15];var _e=xe[15];for(fe=0;fe<3;++fe)_e+=this.lightPosition[fe]*xe[4*fe+3];for(fe=0;fe<3;++fe){var De=xe[12+fe];for(be=0;be<3;++be)De+=xe[4*be+fe]*this.lightPosition[be];te.lightPosition[fe]=De/_e}var Fe=J(te,this);if(Fe.showSurface){for(this._shader.bind(),this._shader.uniforms=te,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Fe.projections[fe],this._shader.uniforms.clipBounds=Fe.clipBounds[fe],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Fe.showContour){var Te=this._contourShader;te.kambient=1,te.kdiffuse=0,te.kspecular=0,te.opacity=1,Te.bind(),Te.uniforms=te;var Re=this._contourVAO;for(Re.bind(),fe=0;fe<3;++fe)for(Te.uniforms.permutation=D[fe],se.lineWidth(this.contourWidth[fe]*this.pixelRatio),be=0;be<this.contourLevels[fe].length;++be)be===this.highlightLevel[fe]?(Te.uniforms.contourColor=this.highlightColor[fe],Te.uniforms.contourTint=this.highlightTint[fe]):(be===0||be-1===this.highlightLevel[fe])&&(Te.uniforms.contourColor=this.contourColor[fe],Te.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][be]&&(Te.uniforms.height=this.contourLevels[fe][be],Re.draw(se.LINES,this._contourCounts[fe][be],this._contourOffsets[fe][be]));for(fe=0;fe<3;++fe)for(Te.uniforms.model=Fe.projections[fe],Te.uniforms.clipBounds=Fe.clipBounds[fe],be=0;be<3;++be)if(this.contourProject[fe][be]){Te.uniforms.permutation=D[be],se.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var Se=0;Se<this.contourLevels[be].length;++Se)Se===this.highlightLevel[be]?(Te.uniforms.contourColor=this.highlightColor[be],Te.uniforms.contourTint=this.highlightTint[be]):(Se===0||Se-1===this.highlightLevel[be])&&(Te.uniforms.contourColor=this.contourColor[be],Te.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][Se]&&(Te.uniforms.height=this.contourLevels[be][Se],Re.draw(se.LINES,this._contourCounts[be][Se],this._contourOffsets[be][Se]))}for(Re.unbind(),Re=this._dynamicVAO,Re.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(Te.uniforms.model=te.model,Te.uniforms.clipBounds=te.clipBounds,Te.uniforms.permutation=D[fe],se.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),Te.uniforms.contourColor=this.dynamicColor[fe],Te.uniforms.contourTint=this.dynamicTint[fe],Te.uniforms.height=this.dynamicLevel[fe],Re.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),be=0;be<3;++be)this.contourProject[be][fe]&&(Te.uniforms.model=Fe.projections[be],Te.uniforms.clipBounds=Fe.clipBounds[be],Re.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));Re.unbind()}}F.draw=function(j){return $.call(this,j,!1)},F.drawTransparent=function(j){return $.call(this,j,!0)};var Z={model:x,view:x,projection:x,inverseModel:x,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function(j){j=j||{};var Y=this.gl;Y.disable(Y.CULL_FACE);var se=Z;se.model=j.model||x,se.view=j.view||x,se.projection=j.projection||x,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=le;for(var te=0;te<2;++te)for(var fe=se.clipBounds[te],ge=0;ge<3;++ge)fe[ge]=Math.min(Math.max(this.clipBounds[te][ge],-1e8),1e8);var be=J(se,this);if(be.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(Y.TRIANGLES,this._vertexCount),te=0;te<3;++te)this.surfaceProject[te]&&(this._pickShader.uniforms.model=be.projections[te],this._pickShader.uniforms.clipBounds=be.clipBounds[te],this._vao.draw(Y.TRIANGLES,this._vertexCount));this._vao.unbind()}if(be.showContour){var xe=this._contourPickShader;xe.bind(),xe.uniforms=se;var _e=this._contourVAO;for(_e.bind(),ge=0;ge<3;++ge)for(Y.lineWidth(this.contourWidth[ge]*this.pixelRatio),xe.uniforms.permutation=D[ge],te=0;te<this.contourLevels[ge].length;++te)this._contourCounts[ge][te]&&(xe.uniforms.height=this.contourLevels[ge][te],_e.draw(Y.LINES,this._contourCounts[ge][te],this._contourOffsets[ge][te]));for(te=0;te<3;++te)for(xe.uniforms.model=be.projections[te],xe.uniforms.clipBounds=be.clipBounds[te],ge=0;ge<3;++ge)if(this.contourProject[te][ge]){xe.uniforms.permutation=D[ge],Y.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var De=0;De<this.contourLevels[ge].length;++De)this._contourCounts[ge][De]&&(xe.uniforms.height=this.contourLevels[ge][De],_e.draw(Y.LINES,this._contourCounts[ge][De],this._contourOffsets[ge][De]))}_e.unbind()}},F.pick=function(j){if(!j||j.id!==this.pickId)return null;var Y=this._field[2].shape,se=this._pickResult,te=Y[0]*(j.value[0]+(j.value[2]>>4)/16)/255,fe=Math.floor(te),ge=te-fe,be=Y[1]*(j.value[1]+(j.value[2]&15)/16)/255,xe=Math.floor(be),_e=be-xe;fe+=1,xe+=1;var De=se.position;De[0]=De[1]=De[2]=0;for(var Fe=0;Fe<2;++Fe)for(var Te=Fe?ge:1-ge,Re=0;Re<2;++Re)for(var Se=Re?_e:1-_e,ke=fe+Fe,Me=xe+Re,Ve=Te*Se,tt=0;tt<3;++tt)De[tt]+=this._field[tt].get(ke,Me)*Ve;for(var it=this._pickResult.level,Je=0;Je<3;++Je)if(it[Je]=b.le(this.contourLevels[Je],De[Je]),it[Je]<0)this.contourLevels[Je].length>0&&(it[Je]=0);else if(it[Je]<this.contourLevels[Je].length-1){var Qe=this.contourLevels[Je][it[Je]],ct=this.contourLevels[Je][it[Je]+1];Math.abs(Qe-De[Je])>Math.abs(ct-De[Je])&&(it[Je]+=1)}for(se.index[0]=ge<.5?fe:fe+1,se.index[1]=_e<.5?xe:xe+1,se.uv[0]=te/Y[0],se.uv[1]=be/Y[1],tt=0;tt<3;++tt)se.dataCoordinate[tt]=this._field[tt].get(se.index[0],se.index[1]);return se},F.padField=function(j,Y){var se=Y.shape.slice(),te=j.shape.slice();g.assign(j.lo(1,1).hi(se[0],se[1]),Y),g.assign(j.lo(1).hi(se[0],1),Y.hi(se[0],1)),g.assign(j.lo(1,te[1]-1).hi(se[0],1),Y.lo(0,se[1]-1).hi(se[0],1)),g.assign(j.lo(0,1).hi(1,se[1]),Y.hi(1)),g.assign(j.lo(te[0]-1,1).hi(1,se[1]),Y.lo(se[0]-1)),j.set(0,0,Y.get(0,0)),j.set(0,te[1]-1,Y.get(0,se[1]-1)),j.set(te[0]-1,0,Y.get(se[0]-1,0)),j.set(te[0]-1,te[1]-1,Y.get(se[0]-1,se[1]-1))};function ie(j,Y){return Array.isArray(j)?[Y(j[0]),Y(j[1]),Y(j[2])]:[Y(j),Y(j),Y(j)]}function X(j){return Array.isArray(j)?j.length===3?[j[0],j[1],j[2],1]:[j[0],j[1],j[2],j[3]]:[0,0,0,1]}function Q(j){if(Array.isArray(j)){if(Array.isArray(j))return[X(j[0]),X(j[1]),X(j[2])];var Y=X(j);return[Y.slice(),Y.slice(),Y.slice()]}}F.update=function(j){j=j||{},this.objectOffset=j.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in j&&(this.contourWidth=ie(j.contourWidth,Number)),"showContour"in j&&(this.showContour=ie(j.showContour,Boolean)),"showSurface"in j&&(this.showSurface=!!j.showSurface),"contourTint"in j&&(this.contourTint=ie(j.contourTint,Boolean)),"contourColor"in j&&(this.contourColor=Q(j.contourColor)),"contourProject"in j&&(this.contourProject=ie(j.contourProject,function(It){return ie(It,Boolean)})),"surfaceProject"in j&&(this.surfaceProject=j.surfaceProject),"dynamicColor"in j&&(this.dynamicColor=Q(j.dynamicColor)),"dynamicTint"in j&&(this.dynamicTint=ie(j.dynamicTint,Number)),"dynamicWidth"in j&&(this.dynamicWidth=ie(j.dynamicWidth,Number)),"opacity"in j&&(this.opacity=j.opacity),"opacityscale"in j&&(this.opacityscale=j.opacityscale),"colorBounds"in j&&(this.colorBounds=j.colorBounds),"vertexColor"in j&&(this.vertexColor=j.vertexColor?1:0),"colormap"in j&&this._colorMap.setPixels(this.genColormap(j.colormap,this.opacityscale));var Y=j.field||j.coords&&j.coords[2]||null,se=!1;if(Y||(this._field[2].shape[0]||this._field[2].shape[2]?Y=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):Y=this._field[2].hi(0,0)),"field"in j||"coords"in j){var te=(Y.shape[0]+2)*(Y.shape[1]+2);te>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(te))),this._field[2]=T(this._field[2].data,[Y.shape[0]+2,Y.shape[1]+2]),this.padField(this._field[2],Y),this.shape=Y.shape.slice();for(var fe=this.shape,ge=0;ge<2;++ge)this._field[2].size>this._field[ge].data.length&&(u.freeFloat(this._field[ge].data),this._field[ge].data=u.mallocFloat(this._field[2].size)),this._field[ge]=T(this._field[ge].data,[fe[0]+2,fe[1]+2]);if(j.coords){var be=j.coords;if(!Array.isArray(be)||be.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ge=0;ge<2;++ge){var xe=be[ge];for(Re=0;Re<2;++Re)if(xe.shape[Re]!==fe[Re])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ge],xe)}}else if(j.ticks){var _e=j.ticks;if(!Array.isArray(_e)||_e.length!==2)throw new Error("gl-surface: invalid ticks");for(ge=0;ge<2;++ge){var De=_e[ge];if((Array.isArray(De)||De.length)&&(De=T(De)),De.shape[0]!==fe[ge])throw new Error("gl-surface: invalid tick length");var Fe=T(De.data,fe);Fe.stride[ge]=De.stride[0],Fe.stride[ge^1]=0,this.padField(this._field[ge],Fe)}}else{for(ge=0;ge<2;++ge){var Te=[0,0];Te[ge]=1,this._field[ge]=T(this._field[ge].data,[fe[0]+2,fe[1]+2],Te,0)}this._field[0].set(0,0,0);for(var Re=0;Re<fe[0];++Re)this._field[0].set(Re+1,0,Re);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),Re=0;Re<fe[1];++Re)this._field[1].set(0,Re+1,Re);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Se=this._field,ke=T(u.mallocFloat(Se[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(ge=0;ge<3;++ge)w(ke.pick(ge),Se[ge],"mirror");var Me=T(u.mallocFloat(Se[2].size*3),[fe[0]+2,fe[1]+2,3]);for(ge=0;ge<fe[0]+2;++ge)for(Re=0;Re<fe[1]+2;++Re){var Ve=ke.get(0,ge,Re,0),tt=ke.get(0,ge,Re,1),it=ke.get(1,ge,Re,0),Je=ke.get(1,ge,Re,1),Qe=ke.get(2,ge,Re,0),ct=ke.get(2,ge,Re,1),ht=it*ct-Je*Qe,dt=Qe*tt-ct*Ve,Tt=Ve*Je-tt*it,Et=Math.sqrt(ht*ht+dt*dt+Tt*Tt);Et<1e-8?(Et=Math.max(Math.abs(ht),Math.abs(dt),Math.abs(Tt)),Et<1e-8?(Tt=1,dt=ht=0,Et=1):Et=1/Et):Et=1/Math.sqrt(Et),Me.set(ge,Re,0,ht*Et),Me.set(ge,Re,1,dt*Et),Me.set(ge,Re,2,Tt*Et)}u.free(ke.data);var rt=[1/0,1/0,1/0],ze=[-1/0,-1/0,-1/0],Ge=1/0,je=-1/0,We=(fe[0]-1)*(fe[1]-1)*6,Le=u.mallocFloat(t.nextPow2(10*We)),Pe=0,Ye=0;for(ge=0;ge<fe[0]-1;++ge)e:for(Re=0;Re<fe[1]-1;++Re){for(var Ce=0;Ce<2;++Ce)for(var he=0;he<2;++he)for(var me=0;me<3;++me){var Ne=this._field[me].get(1+ge+Ce,1+Re+he);if(isNaN(Ne)||!isFinite(Ne))continue e}for(me=0;me<6;++me){var $e=ge+I[me][0],ot=Re+I[me][1],st=this._field[0].get($e+1,ot+1),Wt=this._field[1].get($e+1,ot+1);Ne=this._field[2].get($e+1,ot+1),ht=Me.get($e+1,ot+1,0),dt=Me.get($e+1,ot+1,1),Tt=Me.get($e+1,ot+1,2),j.intensity&&(Zt=j.intensity.get($e,ot));var Zt=j.intensity?j.intensity.get($e,ot):Ne+this.objectOffset[2];Le[Pe++]=$e,Le[Pe++]=ot,Le[Pe++]=st,Le[Pe++]=Wt,Le[Pe++]=Ne,Le[Pe++]=0,Le[Pe++]=Zt,Le[Pe++]=ht,Le[Pe++]=dt,Le[Pe++]=Tt,rt[0]=Math.min(rt[0],st+this.objectOffset[0]),rt[1]=Math.min(rt[1],Wt+this.objectOffset[1]),rt[2]=Math.min(rt[2],Ne+this.objectOffset[2]),Ge=Math.min(Ge,Zt),ze[0]=Math.max(ze[0],st+this.objectOffset[0]),ze[1]=Math.max(ze[1],Wt+this.objectOffset[1]),ze[2]=Math.max(ze[2],Ne+this.objectOffset[2]),je=Math.max(je,Zt),Ye+=1}}for(j.intensityBounds&&(Ge=+j.intensityBounds[0],je=+j.intensityBounds[1]),ge=6;ge<Pe;ge+=10)Le[ge]=(Le[ge]-Ge)/(je-Ge);this._vertexCount=Ye,this._coordinateBuffer.update(Le.subarray(0,Pe)),u.freeFloat(Le),u.free(Me.data),this.bounds=[rt,ze],this.intensity=j.intensity||this._field[2],(this.intensityBounds[0]!==Ge||this.intensityBounds[1]!==je)&&(se=!0),this.intensityBounds=[Ge,je]}if("levels"in j){var At=j.levels;for(Array.isArray(At[0])?At=At.slice():At=[[],[],At],ge=0;ge<3;++ge)At[ge]=At[ge].slice(),At[ge].sort(function(It,Jt){return It-Jt});for(ge=0;ge<3;++ge)for(Re=0;Re<At[ge].length;++Re)At[ge][Re]-=this.objectOffset[ge];e:for(ge=0;ge<3;++ge){if(At[ge].length!==this.contourLevels[ge].length){se=!0;break}for(Re=0;Re<At[ge].length;++Re)if(At[ge][Re]!==this.contourLevels[ge][Re]){se=!0;break e}}this.contourLevels=At}if(se){Se=this._field,fe=this.shape;for(var Rt=[],Xt=0;Xt<3;++Xt){var ir=this.contourLevels[Xt],pt=[],Kt=[],Qt=[0,0,0];for(ge=0;ge<ir.length;++ge){var yr=c(this._field[Xt],ir[ge]);pt.push(Rt.length/5|0),Ye=0;e:for(Re=0;Re<yr.cells.length;++Re){var ur=yr.cells[Re];for(me=0;me<2;++me){var mt=yr.positions[ur[me]],lt=mt[0],bt=Math.floor(lt)|0,Ct=lt-bt,Dt=mt[1],Ht=Math.floor(Dt)|0,Bt=Dt-Ht,xt=!1;t:for(var Ut=0;Ut<3;++Ut){Qt[Ut]=0;var qt=(Xt+Ut+1)%3;for(Ce=0;Ce<2;++Ce){var or=Ce?Ct:1-Ct;for($e=Math.min(Math.max(bt+Ce,0),fe[0])|0,he=0;he<2;++he){var rr=he?Bt:1-Bt;if(ot=Math.min(Math.max(Ht+he,0),fe[1])|0,Ut<2?Ne=this._field[qt].get($e,ot):Ne=(this.intensity.get($e,ot)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ne)||isNaN(Ne)){xt=!0;break t}var He=or*rr;Qt[Ut]+=He*Ne}}}if(!xt)Rt.push(Qt[0],Qt[1],mt[0],mt[1],Qt[2]),Ye+=1;else{if(me>0){for(var Ue=0;Ue<5;++Ue)Rt.pop();Ye-=1}continue e}}}Kt.push(Ye)}this._contourOffsets[Xt]=pt,this._contourCounts[Xt]=Kt}var Ot=u.mallocFloat(Rt.length);for(ge=0;ge<Rt.length;++ge)Ot[ge]=Rt[ge];this._contourBuffer.update(Ot),u.freeFloat(Ot)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var j=0;j<3;++j)u.freeFloat(this._field[j].data)},F.highlight=function(j){var Y;if(!j){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(Y=0;Y<3;++Y)this.enableHighlight[Y]?this.highlightLevel[Y]=j.level[Y]:this.highlightLevel[Y]=-1;var se;for(this.snapToData?se=j.dataCoordinate:se=j.position,Y=0;Y<3;++Y)se[Y]-=this.objectOffset[Y];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var te=0,fe=this.shape,ge=u.mallocFloat(12*fe[0]*fe[1]),be=0;be<3;++be){if(!this.enableDynamic[be]){this.dynamicLevel[be]=NaN,this._dynamicCounts[be]=0;continue}this.dynamicLevel[be]=se[be];var xe=(be+1)%3,_e=(be+2)%3,De=this._field[be],Fe=this._field[xe],Te=this._field[_e],Re=c(De,se[be]),Se=Re.cells,ke=Re.positions;for(this._dynamicOffsets[be]=te,Y=0;Y<Se.length;++Y)for(var Me=Se[Y],Ve=0;Ve<2;++Ve){var tt=ke[Me[Ve]],it=+tt[0],Je=it|0,Qe=Math.min(Je+1,fe[0])|0,ct=it-Je,ht=1-ct,dt=+tt[1],Tt=dt|0,Et=Math.min(Tt+1,fe[1])|0,rt=dt-Tt,ze=1-rt,Ge=ht*ze,je=ht*rt,We=ct*ze,Le=ct*rt,Pe=Ge*Fe.get(Je,Tt)+je*Fe.get(Je,Et)+We*Fe.get(Qe,Tt)+Le*Fe.get(Qe,Et),Ye=Ge*Te.get(Je,Tt)+je*Te.get(Je,Et)+We*Te.get(Qe,Tt)+Le*Te.get(Qe,Et);if(isNaN(Pe)||isNaN(Ye)){Ve&&(te-=1);break}ge[2*te+0]=Pe,ge[2*te+1]=Ye,te+=1}this._dynamicCounts[be]=te-this._dynamicOffsets[be]}this._dynamicBuffer.update(ge.subarray(0,2*te)),u.freeFloat(ge)}};function oe(j){var Y=j.gl,se=y(Y),te=A(Y),fe=E(Y),ge=o(Y),be=a(Y),xe=n(Y,[{buffer:be,size:4,stride:M,offset:0},{buffer:be,size:3,stride:M,offset:16},{buffer:be,size:3,stride:M,offset:28}]),_e=a(Y),De=n(Y,[{buffer:_e,size:4,stride:20,offset:0},{buffer:_e,size:1,stride:20,offset:16}]),Fe=a(Y),Te=n(Y,[{buffer:Fe,size:2,type:Y.FLOAT}]),Re=f(Y,1,k,Y.RGBA,Y.UNSIGNED_BYTE);Re.minFilter=Y.LINEAR,Re.magFilter=Y.LINEAR;var Se=new O(Y,[0,0],[[0,0,0],[0,0,0]],se,te,be,xe,Re,fe,ge,_e,De,Fe,Te,[0,0,0]),ke={levels:[[],[],[]]};for(var Me in j)ke[Me]=j[Me];return ke.colormap=ke.colormap||"jet",Se.update(ke),Se}},7766:function(v,p,r){var t=r(9618),a=r(5298),n=r(1888);v.exports=o;var f=null,u=null,l=null;function g(M){f=[M.LINEAR,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_NEAREST],u=[M.NEAREST,M.LINEAR,M.NEAREST_MIPMAP_NEAREST,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_LINEAR],l=[M.REPEAT,M.CLAMP_TO_EDGE,M.MIRRORED_REPEAT]}function h(M){return typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&M instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&M instanceof HTMLVideoElement||typeof ImageData<"u"&&M instanceof ImageData}var T=function(M,x){a.muls(M,x,255)};function c(M,x,I){var D=M.gl,N=D.getParameter(D.MAX_TEXTURE_SIZE);if(x<0||x>N||I<0||I>N)throw new Error("gl-texture2d: Invalid texture size");return M._shape=[x,I],M.bind(),D.texImage2D(D.TEXTURE_2D,0,M.format,x,I,0,M.format,M.type,null),M._mipLevels=[0],M}function i(M,x,I,D,N,k){this.gl=M,this.handle=x,this.format=N,this.type=k,this._shape=[I,D],this._mipLevels=[0],this._magFilter=M.NEAREST,this._minFilter=M.NEAREST,this._wrapS=M.CLAMP_TO_EDGE,this._wrapT=M.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return O._wrapS},set:function(B){return O.wrapS=B}},{get:function(){return O._wrapT},set:function(B){return O.wrapT=B}}]),this._wrapVector=F;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return O._shape[0]},set:function(B){return O.width=B}},{get:function(){return O._shape[1]},set:function(B){return O.height=B}}]),this._shapeVector=z}var d=i.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(M){this.bind();var x=this.gl;if(this.type===x.FLOAT&&f.indexOf(M)>=0&&(x.getExtension("OES_texture_float_linear")||(M=x.NEAREST)),u.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,M),this._minFilter=M}},magFilter:{get:function(){return this._magFilter},set:function(M){this.bind();var x=this.gl;if(this.type===x.FLOAT&&f.indexOf(M)>=0&&(x.getExtension("OES_texture_float_linear")||(M=x.NEAREST)),u.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,M),this._magFilter=M}},mipSamples:{get:function(){return this._anisoSamples},set:function(M){var x=this._anisoSamples;if(this._anisoSamples=Math.max(M,1)|0,x!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(M){if(this.bind(),l.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,M),this._wrapS=M}},wrapT:{get:function(){return this._wrapT},set:function(M){if(this.bind(),l.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,M),this._wrapT=M}},wrap:{get:function(){return this._wrapVector},set:function(M){if(Array.isArray(M)||(M=[M,M]),M.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var x=0;x<2;++x)if(l.indexOf(M[x])<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);this._wrapS=M[0],this._wrapT=M[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),M}},shape:{get:function(){return this._shapeVector},set:function(M){if(!Array.isArray(M))M=[M|0,M|0];else if(M.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,M[0]|0,M[1]|0),[M[0]|0,M[1]|0]}},width:{get:function(){return this._shape[0]},set:function(M){return M=M|0,c(this,M,this._shape[1]),M}},height:{get:function(){return this._shape[1]},set:function(M){return M=M|0,c(this,this._shape[0],M),M}}}),d.bind=function(M){var x=this.gl;return M!==void 0&&x.activeTexture(x.TEXTURE0+(M|0)),x.bindTexture(x.TEXTURE_2D,this.handle),M!==void 0?M|0:x.getParameter(x.ACTIVE_TEXTURE)-x.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var M=Math.min(this._shape[0],this._shape[1]),x=0;M>0;++x,M>>>=1)this._mipLevels.indexOf(x)<0&&this._mipLevels.push(x)},d.setPixels=function(M,x,I,D){var N=this.gl;this.bind(),Array.isArray(x)?(D=I,I=x[1]|0,x=x[0]|0):(x=x||0,I=I||0),D=D||0;var k=h(M)?M:M.raw;if(k){var O=this._mipLevels.indexOf(D)<0;O?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(D)):N.texSubImage2D(N.TEXTURE_2D,D,x,I,this.format,this.type,k)}else if(M.shape&&M.stride&&M.data){if(M.shape.length<2||x+M.shape[1]>this._shape[1]>>>D||I+M.shape[0]>this._shape[0]>>>D||x<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(N,x,I,D,this.format,this.type,this._mipLevels,M)}else throw new Error("gl-texture2d: Unsupported data type")};function b(M,x){return M.length===3?x[2]===1&&x[1]===M[0]*M[2]&&x[0]===M[2]:x[0]===1&&x[1]===M[0]}function w(M,x,I,D,N,k,O,F){var z=F.dtype,B=F.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,J=0,re=b(B,F.stride.slice());if(z==="float32"?W=M.FLOAT:z==="float64"?(W=M.FLOAT,re=!1,z="float32"):z==="uint8"?W=M.UNSIGNED_BYTE:(W=M.UNSIGNED_BYTE,re=!1,z="uint8"),B.length===2)J=M.LUMINANCE,B=[B[0],B[1],1],F=t(F.data,B,[F.stride[0],F.stride[1],1],F.offset);else if(B.length===3){if(B[2]===1)J=M.ALPHA;else if(B[2]===2)J=M.LUMINANCE_ALPHA;else if(B[2]===3)J=M.RGB;else if(B[2]===4)J=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===M.LUMINANCE||J===M.ALPHA)&&(N===M.LUMINANCE||N===M.ALPHA)&&(J=N),J!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=F.size,le=O.indexOf(D)<0;if(le&&O.push(D),W===k&&re)F.offset===0&&F.data.length===ne?le?M.texImage2D(M.TEXTURE_2D,D,N,B[0],B[1],0,N,k,F.data):M.texSubImage2D(M.TEXTURE_2D,D,x,I,B[0],B[1],N,k,F.data):le?M.texImage2D(M.TEXTURE_2D,D,N,B[0],B[1],0,N,k,F.data.subarray(F.offset,F.offset+ne)):M.texSubImage2D(M.TEXTURE_2D,D,x,I,B[0],B[1],N,k,F.data.subarray(F.offset,F.offset+ne));else{var $;k===M.FLOAT?$=n.mallocFloat32(ne):$=n.mallocUint8(ne);var Z=t($,B,[B[2],B[2]*B[0],1]);W===M.FLOAT&&k===M.UNSIGNED_BYTE?T(Z,F):a.assign(Z,F),le?M.texImage2D(M.TEXTURE_2D,D,N,B[0],B[1],0,N,k,$.subarray(0,ne)):M.texSubImage2D(M.TEXTURE_2D,D,x,I,B[0],B[1],N,k,$.subarray(0,ne)),k===M.FLOAT?n.freeFloat32($):n.freeUint8($)}}function C(M){var x=M.createTexture();return M.bindTexture(M.TEXTURE_2D,x),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),x}function y(M,x,I,D,N){var k=M.getParameter(M.MAX_TEXTURE_SIZE);if(x<0||x>k||I<0||I>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===M.FLOAT&&!M.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=C(M);return M.texImage2D(M.TEXTURE_2D,0,D,x,I,0,D,N,null),new i(M,O,x,I,D,N)}function E(M,x,I,D,N,k){var O=C(M);return M.texImage2D(M.TEXTURE_2D,0,N,N,k,x),new i(M,O,I,D,N,k)}function A(M,x){var I=x.dtype,D=x.shape.slice(),N=M.getParameter(M.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>N||D[1]<0||D[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=b(D,x.stride.slice()),O=0;I==="float32"?O=M.FLOAT:I==="float64"?(O=M.FLOAT,k=!1,I="float32"):I==="uint8"?O=M.UNSIGNED_BYTE:(O=M.UNSIGNED_BYTE,k=!1,I="uint8");var F=0;if(D.length===2)F=M.LUMINANCE,D=[D[0],D[1],1],x=t(x.data,D,[x.stride[0],x.stride[1],1],x.offset);else if(D.length===3)if(D[2]===1)F=M.ALPHA;else if(D[2]===2)F=M.LUMINANCE_ALPHA;else if(D[2]===3)F=M.RGB;else if(D[2]===4)F=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===M.FLOAT&&!M.getExtension("OES_texture_float")&&(O=M.UNSIGNED_BYTE,k=!1);var z,B,W=x.size;if(k)x.offset===0&&x.data.length===W?z=x.data:z=x.data.subarray(x.offset,x.offset+W);else{var J=[D[2],D[2]*D[0],1];B=n.malloc(W,I);var re=t(B,D,J,0);(I==="float32"||I==="float64")&&O===M.UNSIGNED_BYTE?T(re,x):a.assign(re,x),z=B.subarray(0,W)}var ne=C(M);return M.texImage2D(M.TEXTURE_2D,0,F,D[0],D[1],0,F,O,z),k||n.free(B),new i(M,ne,D[0],D[1],F,O)}function o(M){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||g(M),typeof arguments[1]=="number")return y(M,arguments[1],arguments[2],arguments[3]||M.RGBA,arguments[4]||M.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(M,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var x=arguments[1],I=h(x)?x:x.raw;if(I)return E(M,I,x.width|0,x.height|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(x.shape&&x.data&&x.stride)return A(M,x)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function p(r,t,a){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(a){if(a.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<a.length;++f){var u=a[f];if(u.buffer){var l=u.buffer,g=u.size||4,h=u.type||r.FLOAT,T=!!u.normalized,c=u.stride||0,i=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,g,h,T,c,i)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=p},870:function(v,p,r){var t=r(1433);function a(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}a.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},a.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(f,u,l){l=l||0;var g=this.gl;this._elements?g.drawElements(f,u,this._elementsType,l):g.drawArrays(f,l,u)};function n(f){return new a(f)}v.exports=n},7518:function(v,p,r){var t=r(1433);function a(u,l,g,h,T,c){this.location=u,this.dimension=l,this.a=g,this.b=h,this.c=T,this.d=c}a.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,g){this.gl=u,this._ext=l,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,g){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var T=u[h];typeof T=="number"?this._attribs.push(new a(h,1,T)):Array.isArray(T)&&this._attribs.push(new a(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,g){g=g||0;var h=this.gl;this._useElements?h.drawElements(u,l,this._elementsType,g):h.drawArrays(u,g,l)};function f(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=f},8116:function(v,p,r){var t=r(7518),a=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,g,h){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),c;return T?c=t(u,T):c=a(u),c.update(l,g,h),c}v.exports=f},5632:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r}},8192:function(v,p,r){v.exports=f;var t=r(2825),a=r(3536),n=r(244);function f(u,l){var g=t(u[0],u[1],u[2]),h=t(l[0],l[1],l[2]);a(g,g),a(h,h);var T=n(g,h);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],g=a[1],h=a[2];return r[0]=f*h-u*g,r[1]=u*l-n*h,r[2]=n*g-f*l,r}},5455:function(v,p,r){v.exports=r(7056)},7056:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(a*a+n*n+f*f)}},4008:function(v,p,r){v.exports=r(6690)},6690:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r}},244:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,p,r){v.exports=a;var t=r(2613);function a(n,f){var u=n[0],l=n[1],g=n[2],h=f[0],T=f[1],c=f[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(g-c)<=t*Math.max(1,Math.abs(g),Math.abs(c))}},9265:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,p,r){v.exports=a;var t=r(1091)();function a(n,f,u,l,g,h){var T,c;for(f||(f=3),u||(u=0),l?c=Math.min(l*f+u,n.length):c=n.length,T=u;T<c;T+=f)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],g(t,t,h),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},2825:function(v){v.exports=p;function p(r,t,a){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=a,n}},2931:function(v,p,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,p,r){v.exports=r(1387)},1387:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2];return Math.sqrt(t*t+a*a+n*n)}},6658:function(v){v.exports=p;function p(r,t,a,n){var f=t[0],u=t[1],l=t[2];return r[0]=f+n*(a[0]-f),r[1]=u+n*(a[1]-u),r[2]=l+n*(a[2]-l),r}},7417:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r}},8107:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r}},4505:function(v,p,r){v.exports=r(5847)},5847:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r}},5093:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],u=a*a+n*n+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=p;function p(r,t){t=t||1;var a=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(a)*f,r[1]=Math.sin(a)*f,r[2]=n*t,r}},6894:function(v){v.exports=p;function p(r,t,a,n){var f=a[1],u=a[2],l=t[1]-f,g=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=f+l*T-g*h,r[2]=u+l*h+g*T,r}},109:function(v){v.exports=p;function p(r,t,a,n){var f=a[0],u=a[2],l=t[0]-f,g=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+g*h+l*T,r[1]=t[1],r[2]=u+g*T-l*h,r}},8692:function(v){v.exports=p;function p(r,t,a,n){var f=a[0],u=a[1],l=t[0]-f,g=t[1]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+l*T-g*h,r[1]=u+l*h+g*T,r[2]=t[2],r}},2447:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r}},8489:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r}},1463:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t,r[1]=a,r[2]=n,r}},6141:function(v,p,r){v.exports=r(2953)},5486:function(v,p,r){v.exports=r(3066)},2953:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return a*a+n*n+f*f}},3066:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2];return t*t+a*a+n*n}},2229:function(v,p,r){v.exports=r(6843)},6843:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r}},492:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2];return r[0]=n*a[0]+f*a[3]+u*a[6],r[1]=n*a[1]+f*a[4]+u*a[7],r[2]=n*a[2]+f*a[5]+u*a[8],r}},5673:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[3]*n+a[7]*f+a[11]*u+a[15];return l=l||1,r[0]=(a[0]*n+a[4]*f+a[8]*u+a[12])/l,r[1]=(a[1]*n+a[5]*f+a[9]*u+a[13])/l,r[2]=(a[2]*n+a[6]*f+a[10]*u+a[14])/l,r}},264:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],g=a[1],h=a[2],T=a[3],c=T*n+g*u-h*f,i=T*f+h*n-l*u,d=T*u+l*f-g*n,b=-l*n-g*f-h*u;return r[0]=c*T+b*-l+i*-h-d*-g,r[1]=i*T+b*-g+d*-l-c*-h,r[2]=d*T+b*-h+c*-g-i*-l,r}},4361:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r[3]=t[3]+a[3],r}},2335:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(a*a+n*n+f*f+u*u)}},1373:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r[3]=t[3]/a[3],r}},3750:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=p;function p(r,t,a,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=a,f[3]=n,f}},9970:function(v,p,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+a*a+n*n+f*f)}},2573:function(v){v.exports=p;function p(r,t,a,n){var f=t[0],u=t[1],l=t[2],g=t[3];return r[0]=f+n*(a[0]-f),r[1]=u+n*(a[1]-u),r[2]=l+n*(a[2]-l),r[3]=g+n*(a[3]-g),r}},160:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r[3]=Math.max(t[3],a[3]),r}},2334:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r[3]=Math.min(t[3],a[3]),r}},3576:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r[3]=t[3]*a[3],r}},1498:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=a*a+n*n+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=a*l,r[1]=n*l,r[2]=f*l,r[3]=u*l),r}},9131:function(v,p,r){var t=r(5177),a=r(9288);v.exports=n;function n(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),a(f,f,u),f}},9288:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r}},4844:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r[3]=t[3]+a[3]*n,r}},4578:function(v){v.exports=p;function p(r,t,a,n,f){return r[0]=t,r[1]=a,r[2]=n,r[3]=f,r}},7960:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return a*a+n*n+f*f+u*u}},483:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],f=r[3];return t*t+a*a+n*n+f*f}},6860:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r[3]=t[3]-a[3],r}},5352:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3];return r[0]=a[0]*n+a[4]*f+a[8]*u+a[12]*l,r[1]=a[1]*n+a[5]*f+a[9]*u+a[13]*l,r[2]=a[2]*n+a[6]*f+a[10]*u+a[14]*l,r[3]=a[3]*n+a[7]*f+a[11]*u+a[15]*l,r}},4041:function(v){v.exports=p;function p(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],g=a[1],h=a[2],T=a[3],c=T*n+g*u-h*f,i=T*f+h*n-l*u,d=T*u+l*f-g*n,b=-l*n-g*f-h*u;return r[0]=c*T+b*-l+i*-h-d*-g,r[1]=i*T+b*-g+d*-l-c*-h,r[2]=d*T+b*-h+c*-g-i*-l,r[3]=t[3],r}},1848:function(v,p,r){var t=r(4905),a=r(6468);v.exports=n;function n(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var g=u[l];if(g.type==="preprocessor"){var h=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],c=h[2];return(T?a(c):c).trim()}}}}},5874:function(v,p,r){v.exports=x;var t=r(620),a=r(7827),n=r(6852),f=r(7932),u=r(3508),l=999,g=9999,h=0,T=1,c=2,i=3,d=4,b=5,w=6,C=7,y=8,E=9,A=10,o=11,M=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function x(I){var D=0,N=0,k=l,O,F,z=[],B=[],W=1,J=0,re=0,ne=!1,le=!1,$="",Z;I=I||{};var ie=n,X=t;I.version==="300 es"&&(ie=u,X=f);for(var Q={},oe={},D=0;D<ie.length;D++)Q[ie[D]]=!0;for(var D=0;D<X.length;D++)oe[X[D]]=!0;return function(ke){return B=[],ke!==null?Y(ke):se()};function j(ke){ke.length&&B.push({type:M[k],data:ke,position:re,line:W,column:J})}function Y(ke){D=0,ke.toString&&(ke=ke.toString()),$+=ke.replace(/\r\n/g,`
`),Z=$.length;for(var Me;O=$[D],D<Z;){switch(Me=D,k){case h:D=xe();break;case T:D=be();break;case c:D=ge();break;case i:D=_e();break;case d:D=Te();break;case o:D=Fe();break;case b:D=Re();break;case g:D=Se();break;case E:D=fe();break;case l:D=te();break}if(Me!==D)switch($[Me]){case`
`:J=0,++W;break;default:++J;break}}return N+=D,$=$.slice(D),B}function se(ke){return z.length&&j(z.join("")),k=A,j("(eof)"),B}function te(){return z=z.length?[]:z,F==="/"&&O==="*"?(re=N+D-1,k=h,F=O,D+1):F==="/"&&O==="/"?(re=N+D-1,k=T,F=O,D+1):O==="#"?(k=c,re=N+D,D):/\s/.test(O)?(k=E,re=N+D,D):(ne=/\d/.test(O),le=/[^\w_]/.test(O),re=N+D,k=ne?d:le?i:g,D)}function fe(){return/[^\s]/g.test(O)?(j(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function ge(){return(O==="\r"||O===`
`)&&F!=="\\"?(j(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function be(){return ge()}function xe(){return O==="/"&&F==="*"?(z.push(O),j(z.join("")),k=l,D+1):(z.push(O),F=O,D+1)}function _e(){if(F==="."&&/\d/.test(O))return k=b,D;if(F==="/"&&O==="*")return k=h,D;if(F==="/"&&O==="/")return k=T,D;if(O==="."&&z.length){for(;De(z););return k=b,D}if(O===";"||O===")"||O==="("){if(z.length)for(;De(z););return j(O),k=l,D+1}var ke=z.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||ke){for(;De(z););return k=l,D}return z.push(O),F=O,D+1}function De(ke){var Me=0,Ve,tt;do{if(Ve=a.indexOf(ke.slice(0,ke.length+Me).join("")),tt=a[Ve],Ve===-1){if(Me--+ke.length>0)continue;tt=ke.slice(0,1).join("")}return j(tt),re+=tt.length,z=z.slice(tt.length),z.length}while(!0)}function Fe(){return/[^a-fA-F0-9]/.test(O)?(j(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function Te(){return O==="."||/[eE]/.test(O)?(z.push(O),k=b,F=O,D+1):O==="x"&&z.length===1&&z[0]==="0"?(k=o,z.push(O),F=O,D+1):/[^\d]/.test(O)?(j(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function Re(){return O==="f"&&(z.push(O),F=O,D+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(F)?(z.push(O),F=O,D+1):/[^\d]/.test(O)?(j(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function Se(){if(/[^\d\w_]/.test(O)){var ke=z.join("");return oe[ke]?k=y:Q[ke]?k=C:k=w,j(z.join("")),k=l,D}return z.push(O),F=O,D+1}}},3508:function(v,p,r){var t=r(6852);t=t.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,p,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,p,r){var t=r(5874);v.exports=a;function a(n,f){var u=t(f),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},3236:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],a=0;a<p.length-1;a++)t.push(p[a],r[a]||"");return t.push(p[a]),t.join("")}},7520:function(v,p,r){var t=r(9507);function a(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&a()},3778:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,a,n,f){var u,l,g=f*8-n-1,h=(1<<g)-1,T=h>>1,c=-7,i=a?f-1:0,d=a?-1:1,b=r[t+i];for(i+=d,u=b&(1<<-c)-1,b>>=-c,c+=g;c>0;u=u*256+r[t+i],i+=d,c-=8);for(l=u&(1<<-c)-1,u>>=-c,c+=n;c>0;l=l*256+r[t+i],i+=d,c-=8);if(u===0)u=1-T;else{if(u===h)return l?NaN:(b?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-T}return(b?-1:1)*l*Math.pow(2,u-n)},p.write=function(r,t,a,n,f,u){var l,g,h,T=u*8-f-1,c=(1<<T)-1,i=c>>1,d=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:u-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+i>=1?t+=d/h:t+=d*Math.pow(2,1-i),t*h>=2&&(l++,h/=2),l+i>=c?(g=0,l=c):l+i>=1?(g=(t*h-1)*Math.pow(2,f),l=l+i):(g=t*Math.pow(2,i-1)*Math.pow(2,f),l=0));f>=8;r[a+b]=g&255,b+=w,g/=256,f-=8);for(l=l<<f|g,T+=f;T>0;r[a+b]=l&255,b+=w,l/=256,T-=8);r[a+b-w]|=C*128}},8954:function(v,p,r){v.exports=i;var t=r(3250),a=r(6803).Fw;function n(d,b,w){this.vertices=d,this.adjacent=b,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};function f(d,b,w){this.vertices=d,this.cell=b,this.index=w}function u(d,b){return a(d.vertices,b.vertices)}function l(d){return function(){var b=this.tuple;return d.apply(this,b)}}function g(d){var b=t[d+1];return b||(b=t),l(b)}var h=[];function T(d,b,w){this.dimension=d,this.vertices=b,this.simplices=w,this.interior=w.filter(function(E){return!E.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var y=h[d];y||(y=h[d]=g(d)),this.orient=y}var c=T.prototype;c.handleBoundaryDegeneracy=function(d,b){var w=this.dimension,C=this.vertices.length-1,y=this.tuple,E=this.vertices,A=[d];for(d.lastVisited=-C;A.length>0;){d=A.pop();for(var o=d.adjacent,M=0;M<=w;++M){var x=o[M];if(!(!x.boundary||x.lastVisited<=-C)){for(var I=x.vertices,D=0;D<=w;++D){var N=I[D];N<0?y[D]=b:y[D]=E[N]}var k=this.orient();if(k>0)return x;x.lastVisited=-C,k===0&&A.push(x)}}}return null},c.walk=function(d,b){var w=this.vertices.length-1,C=this.dimension,y=this.vertices,E=this.tuple,A=b?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[A];e:for(;!o.boundary;){for(var M=o.vertices,x=o.adjacent,I=0;I<=C;++I)E[I]=y[M[I]];o.lastVisited=w;for(var I=0;I<=C;++I){var D=x[I];if(!(D.lastVisited>=w)){var N=E[I];E[I]=d;var k=this.orient();if(E[I]=N,k<0){o=D;continue e}else D.boundary?D.lastVisited=-w:D.lastVisited=w}}return}return o},c.addPeaks=function(d,b){var w=this.vertices.length-1,C=this.dimension,y=this.vertices,E=this.tuple,A=this.interior,o=this.simplices,M=[b];b.lastVisited=w,b.vertices[b.vertices.indexOf(-1)]=w,b.boundary=!1,A.push(b);for(var x=[];M.length>0;){var b=M.pop(),I=b.vertices,D=b.adjacent,N=I.indexOf(w);if(!(N<0)){for(var k=0;k<=C;++k)if(k!==N){var O=D[k];if(!(!O.boundary||O.lastVisited>=w)){var F=O.vertices;if(O.lastVisited!==-w){for(var z=0,B=0;B<=C;++B)F[B]<0?(z=B,E[B]=d):E[B]=y[F[B]];var W=this.orient();if(W>0){F[z]=w,O.boundary=!1,A.push(O),M.push(O),O.lastVisited=w;continue}else O.lastVisited=-w}var J=O.adjacent,re=I.slice(),ne=D.slice(),le=new n(re,ne,!0);o.push(le);var $=J.indexOf(b);if(!($<0)){J[$]=le,ne[N]=O,re[k]=-1,ne[k]=b,D[k]=le,le.flip();for(var B=0;B<=C;++B){var Z=re[B];if(!(Z<0||Z===w)){for(var ie=new Array(C-1),X=0,Q=0;Q<=C;++Q){var oe=re[Q];oe<0||Q===B||(ie[X++]=oe)}x.push(new f(ie,le,B))}}}}}}}x.sort(u);for(var k=0;k+1<x.length;k+=2){var j=x[k],Y=x[k+1],se=j.index,te=Y.index;se<0||te<0||(j.cell.adjacent[j.index]=Y.cell,Y.cell.adjacent[Y.index]=j.cell)}},c.insert=function(d,b){var w=this.vertices;w.push(d);var C=this.walk(d,b);if(C){for(var y=this.dimension,E=this.tuple,A=0;A<=y;++A){var o=C.vertices[A];o<0?E[A]=d:E[A]=w[o]}var M=this.orient(E);M<0||M===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,b=[],w=this.simplices,C=w.length,y=0;y<C;++y){var E=w[y];if(E.boundary){for(var A=new Array(d),o=E.vertices,M=0,x=0,I=0;I<=d;++I)o[I]>=0?A[M++]=o[I]:x=I&1;if(x===(d&1)){var D=A[0];A[0]=A[1],A[1]=D}b.push(A)}}return b};function i(d,b){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(w<=C)throw new Error("Must input at least d+1 points");var y=d.slice(0,C+1),E=t.apply(void 0,y);if(E===0)throw new Error("Input not in general position");for(var A=new Array(C+1),o=0;o<=C;++o)A[o]=o;E<0&&(A[0]=1,A[1]=0);for(var M=new n(A,new Array(C+1),!1),x=M.adjacent,I=new Array(C+2),o=0;o<=C;++o){for(var D=A.slice(),N=0;N<=C;++N)N===o&&(D[N]=-1);var k=D[0];D[0]=D[1],D[1]=k;var O=new n(D,new Array(C+1),!0);x[o]=O,I[o]=O}I[C+1]=M;for(var o=0;o<=C;++o)for(var D=x[o].vertices,F=x[o].adjacent,N=0;N<=C;++N){var z=D[N];if(z<0){F[N]=M;continue}for(var B=0;B<=C;++B)x[B].vertices.indexOf(z)<0&&(F[N]=x[B])}for(var W=new T(C,y,I),J=!!b,o=C+1;o<w;++o)W.insert(d[o],J);return W.boundary()}},3352:function(v,p,r){var t=r(2478),a=0,n=1,f=2;v.exports=M;function u(x,I,D,N,k){this.mid=x,this.left=I,this.right=D,this.leftPoints=N,this.rightPoints=k,this.count=(I?I.count:0)+(D?D.count:0)+N.length}var l=u.prototype;function g(x,I){x.mid=I.mid,x.left=I.left,x.right=I.right,x.leftPoints=I.leftPoints,x.rightPoints=I.rightPoints,x.count=I.count}function h(x,I){var D=E(I);x.mid=D.mid,x.left=D.left,x.right=D.right,x.leftPoints=D.leftPoints,x.rightPoints=D.rightPoints,x.count=D.count}function T(x,I){var D=x.intervals([]);D.push(I),h(x,D)}function c(x,I){var D=x.intervals([]),N=D.indexOf(I);return N<0?a:(D.splice(N,1),h(x,D),n)}l.intervals=function(x){return x.push.apply(x,this.leftPoints),this.left&&this.left.intervals(x),this.right&&this.right.intervals(x),x},l.insert=function(x){var I=this.count-this.leftPoints.length;if(this.count+=1,x[1]<this.mid)this.left?4*(this.left.count+1)>3*(I+1)?T(this,x):this.left.insert(x):this.left=E([x]);else if(x[0]>this.mid)this.right?4*(this.right.count+1)>3*(I+1)?T(this,x):this.right.insert(x):this.right=E([x]);else{var D=t.ge(this.leftPoints,x,C),N=t.ge(this.rightPoints,x,y);this.leftPoints.splice(D,0,x),this.rightPoints.splice(N,0,x)}},l.remove=function(x){var I=this.count-this.leftPoints;if(x[1]<this.mid){if(!this.left)return a;var D=this.right?this.right.count:0;if(4*D>3*(I-1))return c(this,x);var N=this.left.remove(x);return N===f?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(x[0]>this.mid){if(!this.right)return a;var k=this.left?this.left.count:0;if(4*k>3*(I-1))return c(this,x);var N=this.right.remove(x);return N===f?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===x?f:a;if(this.leftPoints.length===1&&this.leftPoints[0]===x){if(this.left&&this.right){for(var O=this,F=this.left;F.right;)O=F,F=F.right;if(O===this)F.right=this.right;else{var z=this.left,N=this.right;O.count-=F.count,O.right=F.left,F.left=z,F.right=N}g(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var z=t.ge(this.leftPoints,x,C);z<this.leftPoints.length&&this.leftPoints[z][0]===x[0];++z)if(this.leftPoints[z]===x){this.count-=1,this.leftPoints.splice(z,1);for(var N=t.ge(this.rightPoints,x,y);N<this.rightPoints.length&&this.rightPoints[N][1]===x[1];++N)if(this.rightPoints[N]===x)return this.rightPoints.splice(N,1),n}return a}};function i(x,I,D){for(var N=0;N<x.length&&x[N][0]<=I;++N){var k=D(x[N]);if(k)return k}}function d(x,I,D){for(var N=x.length-1;N>=0&&x[N][1]>=I;--N){var k=D(x[N]);if(k)return k}}function b(x,I){for(var D=0;D<x.length;++D){var N=I(x[D]);if(N)return N}}l.queryPoint=function(x,I){if(x<this.mid){if(this.left){var D=this.left.queryPoint(x,I);if(D)return D}return i(this.leftPoints,x,I)}else if(x>this.mid){if(this.right){var D=this.right.queryPoint(x,I);if(D)return D}return d(this.rightPoints,x,I)}else return b(this.leftPoints,I)},l.queryInterval=function(x,I,D){if(x<this.mid&&this.left){var N=this.left.queryInterval(x,I,D);if(N)return N}if(I>this.mid&&this.right){var N=this.right.queryInterval(x,I,D);if(N)return N}return I<this.mid?i(this.leftPoints,I,D):x>this.mid?d(this.rightPoints,x,D):b(this.leftPoints,D)};function w(x,I){return x-I}function C(x,I){var D=x[0]-I[0];return D||x[1]-I[1]}function y(x,I){var D=x[1]-I[1];return D||x[0]-I[0]}function E(x){if(x.length===0)return null;for(var I=[],D=0;D<x.length;++D)I.push(x[D][0],x[D][1]);I.sort(w);for(var N=I[I.length>>1],k=[],O=[],F=[],D=0;D<x.length;++D){var z=x[D];z[1]<N?k.push(z):N<z[0]?O.push(z):F.push(z)}var B=F,W=F.slice();return B.sort(C),W.sort(y),new u(N,E(k),E(O),B,W)}function A(x){this.root=x}var o=A.prototype;o.insert=function(x){this.root?this.root.insert(x):this.root=new u(x[0],null,null,[x],[x])},o.remove=function(x){if(this.root){var I=this.root.remove(x);return I===f&&(this.root=null),I!==a}return!1},o.queryPoint=function(x,I){if(this.root)return this.root.queryPoint(x,I)},o.queryInterval=function(x,I,D){if(x<=I&&this.root)return this.root.queryInterval(x,I,D)},Object.defineProperty(o,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(o,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function M(x){return!x||x.length===0?new A(null):new A(E(x))}},7762:function(v){function p(r){for(var t=new Array(r),a=0;a<r;++a)t[a]=a;return t}v.exports=p},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},5219:function(v){v.exports=function(p){for(var r=p.length,t,a=0;a<r;a++)if(t=p.charCodeAt(a),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function p(r,t,a){return r*(1-a)+t*a}v.exports=p},2652:function(v,p,r){var t=r(4335),a=r(6864),n=r(1903),f=r(9921),u=r(7608),l=r(5665),g={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=a(),T=a(),c=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(E,A,o,M,x,I){if(A||(A=[0,0,0]),o||(o=[0,0,0]),M||(M=[0,0,0]),x||(x=[0,0,0,1]),I||(I=[0,0,0,1]),!t(h,E)||(n(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(f(T)<1e-8)))return!1;var D=h[3],N=h[7],k=h[11],O=h[12],F=h[13],z=h[14],B=h[15];if(D!==0||N!==0||k!==0){c[0]=D,c[1]=N,c[2]=k,c[3]=B;var W=u(T,T);if(!W)return!1;l(T,T),b(x,c,T)}else x[0]=x[1]=x[2]=0,x[3]=1;if(A[0]=O,A[1]=F,A[2]=z,w(i,h),o[0]=g.length(i[0]),g.normalize(i[0],i[0]),M[0]=g.dot(i[0],i[1]),C(i[1],i[1],i[0],1,-M[0]),o[1]=g.length(i[1]),g.normalize(i[1],i[1]),M[0]/=o[1],M[1]=g.dot(i[0],i[2]),C(i[2],i[2],i[0],1,-M[1]),M[2]=g.dot(i[1],i[2]),C(i[2],i[2],i[1],1,-M[2]),o[2]=g.length(i[2]),g.normalize(i[2],i[2]),M[1]/=o[2],M[2]/=o[2],g.cross(d,i[1],i[2]),g.dot(i[0],d)<0)for(var J=0;J<3;J++)o[J]*=-1,i[J][0]*=-1,i[J][1]*=-1,i[J][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(I[0]=-I[0]),i[0][2]>i[2][0]&&(I[1]=-I[1]),i[1][0]>i[0][1]&&(I[2]=-I[2]),!0};function b(y,E,A){var o=E[0],M=E[1],x=E[2],I=E[3];return y[0]=A[0]*o+A[4]*M+A[8]*x+A[12]*I,y[1]=A[1]*o+A[5]*M+A[9]*x+A[13]*I,y[2]=A[2]*o+A[6]*M+A[10]*x+A[14]*I,y[3]=A[3]*o+A[7]*M+A[11]*x+A[15]*I,y}function w(y,E){y[0][0]=E[0],y[0][1]=E[1],y[0][2]=E[2],y[1][0]=E[4],y[1][1]=E[5],y[1][2]=E[6],y[2][0]=E[8],y[2][1]=E[9],y[2][2]=E[10]}function C(y,E,A,o,M){y[0]=E[0]*o+A[0]*M,y[1]=E[1]*o+A[1]*M,y[2]=E[2]*o+A[2]*M}},4335:function(v){v.exports=function(r,t){var a=t[15];if(a===0)return!1;for(var n=1/a,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7442:function(v,p,r){var t=r(6658),a=r(7182),n=r(2652),f=r(9921),u=r(8648),l=c(),g=c(),h=c();v.exports=T;function T(b,w,C,y){if(f(w)===0||f(C)===0)return!1;var E=n(w,l.translate,l.scale,l.skew,l.perspective,l.quaternion),A=n(C,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!E||!A?!1:(t(h.translate,l.translate,g.translate,y),t(h.skew,l.skew,g.skew,y),t(h.scale,l.scale,g.scale,y),t(h.perspective,l.perspective,g.perspective,y),u(h.quaternion,l.quaternion,g.quaternion,y),a(b,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:i(),scale:i(1),skew:i(),perspective:d(),quaternion:d()}}function i(b){return[b||0,b||0,b||0]}function d(){return[0,0,0,1]}},7182:function(v,p,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var a=t.create();v.exports=function(f,u,l,g,h,T){return t.identity(f),t.fromRotationTranslation(f,T,u),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(a),g[2]!==0&&(a[9]=g[2],t.multiply(f,f,a)),g[1]!==0&&(a[9]=0,a[8]=g[1],t.multiply(f,f,a)),g[0]!==0&&(a[8]=0,a[4]=g[0],t.multiply(f,f,a)),t.scale(f,f,l),f}},4192:function(v,p,r){var t=r(2478),a=r(7442),n=r(7608),f=r(5567),u=r(2408),l=r(7089),g=r(6582),h=r(7656);r(2504);var T=r(3536),c=[0,0,0];v.exports=w;function i(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=i.prototype;d.recalcMatrix=function(C){var y=this._time,E=t.le(y,C),A=this.computedMatrix;if(!(E<0)){var o=this._components;if(E===y.length-1)for(var M=16*E,x=0;x<16;++x)A[x]=o[M++];else{for(var I=y[E+1]-y[E],M=16*E,D=this.prevMatrix,N=!0,x=0;x<16;++x)D[x]=o[M++];for(var k=this.nextMatrix,x=0;x<16;++x)k[x]=o[M++],N=N&&D[x]===k[x];if(I<1e-6||N)for(var x=0;x<16;++x)A[x]=D[x];else a(A,D,k,(C-y[E])/I)}var O=this.computedUp;O[0]=A[1],O[1]=A[5],O[2]=A[9],T(O,O);var F=this.computedInverse;n(F,A);var z=this.computedEye,B=F[15];z[0]=F[12]/B,z[1]=F[13]/B,z[2]=F[14]/B;for(var W=this.computedCenter,J=Math.exp(this.computedRadius[0]),x=0;x<3;++x)W[x]=z[x]-A[2+4*x]*J}},d.idle=function(C){if(!(C<this.lastT())){for(var y=this._components,E=y.length-16,A=0;A<16;++A)y.push(y[E++]);this._time.push(C)}},d.flush=function(C){var y=t.gt(this._time,C)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,y,E,A){this.recalcMatrix(C),y=y||this.computedEye,E=E||c,A=A||this.computedUp,this.setMatrix(C,g(this.computedMatrix,y,E,A));for(var o=0,M=0;M<3;++M)o+=Math.pow(E[M]-y[M],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},d.rotate=function(C,y,E,A){this.recalcMatrix(C);var o=this.computedInverse;y&&u(o,o,y),E&&f(o,o,E),A&&l(o,o,A),this.setMatrix(C,n(this.computedMatrix,o))};var b=[0,0,0];d.pan=function(C,y,E,A){b[0]=-(y||0),b[1]=-(E||0),b[2]=-(A||0),this.recalcMatrix(C);var o=this.computedInverse;h(o,o,b),this.setMatrix(C,n(o,o))},d.translate=function(C,y,E,A){b[0]=y||0,b[1]=E||0,b[2]=A||0,this.recalcMatrix(C);var o=this.computedMatrix;h(o,o,b),this.setMatrix(C,o)},d.setMatrix=function(C,y){if(!(C<this.lastT())){this._time.push(C);for(var E=0;E<16;++E)this._components.push(y[E])}},d.setDistance=function(C,y){this.computedRadius[0]=y},d.setDistanceLimits=function(C,y){var E=this._limits;E[0]=C,E[1]=y},d.getDistanceLimits=function(C){var y=this._limits;return C?(C[0]=y[0],C[1]=y[1],C):y};function w(C){C=C||{};var y=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(y)}},3090:function(v,p,r){v.exports=a;var t=r(3250)[3];function a(n){var f=n.length;if(f<3){for(var d=new Array(f),u=0;u<f;++u)d[u]=u;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(y,E){var A=n[y][0]-n[E][0];return A||n[y][1]-n[E][1]});for(var g=[l[0],l[1]],h=[l[0],l[1]],u=2;u<f;++u){for(var T=l[u],c=n[T],i=g.length;i>1&&t(n[g[i-2]],n[g[i-1]],c)<=0;)i-=1,g.pop();for(g.push(T),i=h.length;i>1&&t(n[h[i-2]],n[h[i-1]],c)>=0;)i-=1,h.pop();h.push(T)}for(var d=new Array(h.length+g.length-2),b=0,u=0,w=g.length;u<w;++u)d[b++]=g[u];for(var C=h.length-2;C>0;--C)d[b++]=h[C];return d}},351:function(v,p,r){v.exports=a;var t=r(4687);function a(n,f){f||(f=n,n=window);var u=0,l=0,g=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function c(x){var I=!1;return"altKey"in x&&(I=I||x.altKey!==h.alt,h.alt=!!x.altKey),"shiftKey"in x&&(I=I||x.shiftKey!==h.shift,h.shift=!!x.shiftKey),"ctrlKey"in x&&(I=I||x.ctrlKey!==h.control,h.control=!!x.ctrlKey),"metaKey"in x&&(I=I||x.metaKey!==h.meta,h.meta=!!x.metaKey),I}function i(x,I){var D=t.x(I),N=t.y(I);"buttons"in I&&(x=I.buttons|0),(x!==u||D!==l||N!==g||c(I))&&(u=x|0,l=D||0,g=N||0,f&&f(u,l,g,h))}function d(x){i(0,x)}function b(){(u||l||g||h.shift||h.alt||h.meta||h.control)&&(l=g=0,u=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function w(x){c(x)&&f&&f(u,l,g,h)}function C(x){t.buttons(x)===0?i(0,x):i(u,x)}function y(x){i(u|t.buttons(x),x)}function E(x){i(u&~t.buttons(x),x)}function A(){T||(T=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",y),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",b),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",b),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function o(){T&&(T=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",y),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",b),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",b),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}A();var M={element:n};return Object.defineProperties(M,{enabled:{get:function(){return T},set:function(x){x?A():o()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),M}},24:function(v){var p={left:0,top:0};v.exports=r;function r(a,n,f){n=n||a.currentTarget||a.srcElement,Array.isArray(f)||(f=[0,0]);var u=a.clientX||0,l=a.clientY||0,g=t(n);return f[0]=u-g.left,f[1]=l-g.top,f}function t(a){return a===window||a===document||a===document.body?p:a.getBoundingClientRect()}},4687:function(v,p){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(f){return f.target||f.srcElement||window}p.element=t;function a(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}p.x=a;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}p.y=n},8512:function(v,p,r){var t=r(665);v.exports=a;function a(n,f,u){typeof n=="function"&&(u=!!f,f=n,n=window);var l=t("ex",n),g=function(h){u&&h.preventDefault();var T=h.deltaX||0,c=h.deltaY||0,i=h.deltaZ||0,d=h.deltaMode,b=1;switch(d){case 1:b=l;break;case 2:b=window.innerHeight;break}if(T*=b,c*=b,i*=b,T||c||i)return f(T,c,i,h)};return n.addEventListener("wheel",g),g}},2640:function(v,p,r){var t=r(1888);v.exports=f;var a={"false,0,1":function(l,g,h,T,c){return function(d,b,w,C){var y=d.shape[0]|0,E=d.shape[1]|0,A=d.data,o=d.offset|0,M=d.stride[0]|0,x=d.stride[1]|0,I=o,D,N=-M|0,k=0,O=-x|0,F=0,z=-M-x|0,B=0,W=M|0,J=x-M*y|0,re=0,ne=0,le=0,$=2*y|0,Z=T($),ie=T($),X=0,Q=0,oe=-1,j=-1,Y=0,se=-y|0,te=y|0,fe=0,ge=-y-1|0,be=y-1|0,xe=0,_e=0,De=0;for(re=0;re<y;++re)Z[X++]=h(A[I],b,w,C),I+=W;if(I+=J,E>0){if(ne=1,Z[X++]=h(A[I],b,w,C),I+=W,y>0)for(re=1,D=A[I],Q=Z[X]=h(D,b,w,C),Y=Z[X+oe],fe=Z[X+se],xe=Z[X+ge],(Q!==Y||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,Y,fe,xe,b,w,C),_e=ie[X]=le++),X+=1,I+=W,re=2;re<y;++re)D=A[I],Q=Z[X]=h(D,b,w,C),Y=Z[X+oe],fe=Z[X+se],xe=Z[X+ge],(Q!==Y||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,Y,fe,xe,b,w,C),_e=ie[X]=le++,xe!==Y&&g(ie[X+oe],_e,B,k,xe,Y,b,w,C)),X+=1,I+=W;for(I+=J,X=0,De=oe,oe=j,j=De,De=se,se=te,te=De,De=ge,ge=be,be=De,ne=2;ne<E;++ne){if(Z[X++]=h(A[I],b,w,C),I+=W,y>0)for(re=1,D=A[I],Q=Z[X]=h(D,b,w,C),Y=Z[X+oe],fe=Z[X+se],xe=Z[X+ge],(Q!==Y||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,Y,fe,xe,b,w,C),_e=ie[X]=le++,xe!==fe&&g(ie[X+se],_e,F,B,fe,xe,b,w,C)),X+=1,I+=W,re=2;re<y;++re)D=A[I],Q=Z[X]=h(D,b,w,C),Y=Z[X+oe],fe=Z[X+se],xe=Z[X+ge],(Q!==Y||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,Y,fe,xe,b,w,C),_e=ie[X]=le++,xe!==fe&&g(ie[X+se],_e,F,B,fe,xe,b,w,C),xe!==Y&&g(ie[X+oe],_e,B,k,xe,Y,b,w,C)),X+=1,I+=W;ne&1&&(X=0),De=oe,oe=j,j=De,De=se,se=te,te=De,De=ge,ge=be,be=De,I+=J}}c(ie),c(Z)}},"false,1,0":function(l,g,h,T,c){return function(d,b,w,C){var y=d.shape[0]|0,E=d.shape[1]|0,A=d.data,o=d.offset|0,M=d.stride[0]|0,x=d.stride[1]|0,I=o,D,N=-M|0,k=0,O=-x|0,F=0,z=-M-x|0,B=0,W=x|0,J=M-x*E|0,re=0,ne=0,le=0,$=2*E|0,Z=T($),ie=T($),X=0,Q=0,oe=-1,j=-1,Y=0,se=-E|0,te=E|0,fe=0,ge=-E-1|0,be=E-1|0,xe=0,_e=0,De=0;for(ne=0;ne<E;++ne)Z[X++]=h(A[I],b,w,C),I+=W;if(I+=J,y>0){if(re=1,Z[X++]=h(A[I],b,w,C),I+=W,E>0)for(ne=1,D=A[I],Q=Z[X]=h(D,b,w,C),fe=Z[X+se],Y=Z[X+oe],xe=Z[X+ge],(Q!==fe||Q!==Y||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,Y,xe,b,w,C),_e=ie[X]=le++),X+=1,I+=W,ne=2;ne<E;++ne)D=A[I],Q=Z[X]=h(D,b,w,C),fe=Z[X+se],Y=Z[X+oe],xe=Z[X+ge],(Q!==fe||Q!==Y||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,Y,xe,b,w,C),_e=ie[X]=le++,xe!==Y&&g(ie[X+oe],_e,F,B,Y,xe,b,w,C)),X+=1,I+=W;for(I+=J,X=0,De=se,se=te,te=De,De=oe,oe=j,j=De,De=ge,ge=be,be=De,re=2;re<y;++re){if(Z[X++]=h(A[I],b,w,C),I+=W,E>0)for(ne=1,D=A[I],Q=Z[X]=h(D,b,w,C),fe=Z[X+se],Y=Z[X+oe],xe=Z[X+ge],(Q!==fe||Q!==Y||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,Y,xe,b,w,C),_e=ie[X]=le++,xe!==fe&&g(ie[X+se],_e,B,k,xe,fe,b,w,C)),X+=1,I+=W,ne=2;ne<E;++ne)D=A[I],Q=Z[X]=h(D,b,w,C),fe=Z[X+se],Y=Z[X+oe],xe=Z[X+ge],(Q!==fe||Q!==Y||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,Y,xe,b,w,C),_e=ie[X]=le++,xe!==Y&&g(ie[X+oe],_e,F,B,Y,xe,b,w,C),xe!==fe&&g(ie[X+se],_e,B,k,xe,fe,b,w,C)),X+=1,I+=W;re&1&&(X=0),De=se,se=te,te=De,De=oe,oe=j,j=De,De=ge,ge=be,be=De,I+=J}}c(ie),c(Z)}}};function n(u,l,g,h,T,c){var i=[c,T].join(","),d=a[i];return d(u,l,g,t.mallocUint32,t.freeUint32)}function f(u){function l(b){throw new Error("ndarray-extract-contour: "+b)}typeof u!="object"&&l("Must specify arguments");var g=u.order;Array.isArray(g)||l("Must specify order");var h=u.arrayArguments||1;h<1&&l("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var c=u.getters||[],i=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?i[d]=!0:i[d]=!1;return n(u.vertex,u.cell,u.phase,T,g,i)}},6199:function(v,p,r){var t=r(1338),a={zero:function(w,C,y,E){var A=w[0],o=y[0];E|=0;var M=0,x=o;for(M=0;M<A;++M)C[E]=0,E+=x},fdTemplate1:function(w,C,y,E,A,o,M){var x=w[0],I=y[0],D=o[0],N=-1*I,k=I;E|=0,M|=0;var O=0,F=I,z=D;for(O=0;O<x;++O)A[M]=.5*(C[E+N]-C[E+k]),E+=F,M+=z},fdTemplate2:function(w,C,y,E,A,o,M,x,I,D){var N=w[0],k=w[1],O=y[0],F=y[1],z=o[0],B=o[1],W=I[0],J=I[1],re=-1*O,ne=O,le=-1*F,$=F;E|=0,M|=0,D|=0;var Z=0,ie=0,X=F,Q=O-k*F,oe=B,j=z-k*B,Y=J,se=W-k*J;for(ie=0;ie<N;++ie){for(Z=0;Z<k;++Z)A[M]=.5*(C[E+re]-C[E+ne]),x[D]=.5*(C[E+le]-C[E+$]),E+=X,M+=oe,D+=Y;E+=Q,M+=j,D+=se}}},n={cdiff:function(w){var C={};return function(E,A,o){var M=E.dtype,x=E.order,I=A.dtype,D=A.order,N=o.dtype,k=o.order,O=[M,x.join(),I,D.join(),N,k.join()].join(),F=C[O];return F||(C[O]=F=w([M,x,I,D,N,k])),F(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0,o.data,o.stride,o.offset|0)}},zero:function(w){var C={};return function(E){var A=E.dtype,o=E.order,M=[A,o.join()].join(),x=C[M];return x||(C[M]=x=w([A,o])),x(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(w){var C={};return function(E,A){var o=E.dtype,M=E.order,x=A.dtype,I=A.order,D=[o,M.join(),x,I.join()].join(),N=C[D];return N||(C[D]=N=w([o,M,x,I])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(w){var C={};return function(E,A,o){var M=E.dtype,x=E.order,I=A.dtype,D=A.order,N=o.dtype,k=o.order,O=[M,x.join(),I,D.join(),N,k.join()].join(),F=C[O];return F||(C[O]=F=w([M,x,I,D,N,k])),F(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0,o.data,o.stride,o.offset|0)}}};function f(w){var C=n[w.funcName];return C(u.bind(void 0,w))}function u(w){return a[w.funcName]}function l(w){return f({funcName:w.funcName})}var g={},h={},T=l({funcName:"cdiff"}),c=l({funcName:"zero"});function i(w){return w in g?g[w]:g[w]=l({funcName:"fdTemplate"+w})}function d(w,C,y,E){return function(A,o){var M=o.shape.slice();return M[0]>2&&M[1]>2&&E(o.pick(-1,-1).lo(1,1).hi(M[0]-2,M[1]-2),A.pick(-1,-1,0).lo(1,1).hi(M[0]-2,M[1]-2),A.pick(-1,-1,1).lo(1,1).hi(M[0]-2,M[1]-2)),M[1]>2&&(y(o.pick(0,-1).lo(1).hi(M[1]-2),A.pick(0,-1,1).lo(1).hi(M[1]-2)),C(A.pick(0,-1,0).lo(1).hi(M[1]-2))),M[1]>2&&(y(o.pick(M[0]-1,-1).lo(1).hi(M[1]-2),A.pick(M[0]-1,-1,1).lo(1).hi(M[1]-2)),C(A.pick(M[0]-1,-1,0).lo(1).hi(M[1]-2))),M[0]>2&&(y(o.pick(-1,0).lo(1).hi(M[0]-2),A.pick(-1,0,0).lo(1).hi(M[0]-2)),C(A.pick(-1,0,1).lo(1).hi(M[0]-2))),M[0]>2&&(y(o.pick(-1,M[1]-1).lo(1).hi(M[0]-2),A.pick(-1,M[1]-1,0).lo(1).hi(M[0]-2)),C(A.pick(-1,M[1]-1,1).lo(1).hi(M[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(M[0]-1,0,0,0),A.set(M[0]-1,0,1,0),A.set(0,M[1]-1,0,0),A.set(0,M[1]-1,1,0),A.set(M[0]-1,M[1]-1,0,0),A.set(M[0]-1,M[1]-1,1,0),A}}function b(w){var C=w.join(),M=h[C];if(M)return M;for(var y=w.length,E=[T,c],A=1;A<=y;++A)E.push(i(A));var o=d,M=o.apply(void 0,E);return h[C]=M,M}v.exports=function(C,y,E){if(Array.isArray(E)||(typeof E=="string"?E=t(y.dimension,E):E=t(y.dimension,"clamp")),y.size===0)return C;if(y.dimension===0)return C.set(0),C;var A=b(E);return A(C,y)}},4317:function(v){function p(f,u){var l=Math.floor(u),g=u-l,h=0<=l&&l<f.shape[0],T=0<=l+1&&l+1<f.shape[0],c=h?+f.get(l):0,i=T?+f.get(l+1):0;return(1-g)*c+g*i}function r(f,u,l){var g=Math.floor(u),h=u-g,T=0<=g&&g<f.shape[0],c=0<=g+1&&g+1<f.shape[0],i=Math.floor(l),d=l-i,b=0<=i&&i<f.shape[1],w=0<=i+1&&i+1<f.shape[1],C=T&&b?f.get(g,i):0,y=T&&w?f.get(g,i+1):0,E=c&&b?f.get(g+1,i):0,A=c&&w?f.get(g+1,i+1):0;return(1-d)*((1-h)*C+h*E)+d*((1-h)*y+h*A)}function t(f,u,l,g){var h=Math.floor(u),T=u-h,c=0<=h&&h<f.shape[0],i=0<=h+1&&h+1<f.shape[0],d=Math.floor(l),b=l-d,w=0<=d&&d<f.shape[1],C=0<=d+1&&d+1<f.shape[1],y=Math.floor(g),E=g-y,A=0<=y&&y<f.shape[2],o=0<=y+1&&y+1<f.shape[2],M=c&&w&&A?f.get(h,d,y):0,x=c&&C&&A?f.get(h,d+1,y):0,I=i&&w&&A?f.get(h+1,d,y):0,D=i&&C&&A?f.get(h+1,d+1,y):0,N=c&&w&&o?f.get(h,d,y+1):0,k=c&&C&&o?f.get(h,d+1,y+1):0,O=i&&w&&o?f.get(h+1,d,y+1):0,F=i&&C&&o?f.get(h+1,d+1,y+1):0;return(1-E)*((1-b)*((1-T)*M+T*I)+b*((1-T)*x+T*D))+E*((1-b)*((1-T)*N+T*O)+b*((1-T)*k+T*F))}function a(f){var u=f.shape.length|0,l=new Array(u),g=new Array(u),h=new Array(u),T=new Array(u),c,i;for(c=0;c<u;++c)i=+arguments[c+1],l[c]=Math.floor(i),g[c]=i-l[c],h[c]=0<=l[c]&&l[c]<f.shape[c],T[c]=0<=l[c]+1&&l[c]+1<f.shape[c];var d=0,b,w,C;e:for(c=0;c<1<<u;++c){for(w=1,C=f.offset,b=0;b<u;++b)if(c&1<<b){if(!T[b])continue e;w*=g[b],C+=f.stride[b]*(l[b]+1)}else{if(!h[b])continue e;w*=1-g[b],C+=f.stride[b]*l[b]}d+=w*f.data[C]}return d}function n(f,u,l,g){switch(f.shape.length){case 0:return 0;case 1:return p(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,g);default:return a.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},5298:function(v,p){var r={"float64,2,1,0":function(){return function(h,T,c,i,d){var b=h[0],w=h[1],C=h[2],y=c[0],E=c[1],A=c[2];i|=0;var o=0,M=0,x=0,I=A,D=E-C*A,N=y-w*E;for(x=0;x<b;++x){for(M=0;M<w;++M){for(o=0;o<C;++o)T[i]/=d,i+=I;i+=D}i+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,c,i,d,b,w,C){var y=h[0],E=h[1],A=h[2],o=c[0],M=c[1],x=c[2],I=b[0],D=b[1],N=b[2];i|=0,w|=0;for(var k=i,O=w,F=h[0]|0;F>0;){F<64?(y=F,F=0):(y=64,F-=64);for(var z=h[1]|0;z>0;){z<64?(E=z,z=0):(E=64,z-=64),i=k+F*o+z*M,w=O+F*I+z*D;var B=0,W=0,J=0,re=x,ne=o-A*x,le=M-y*o,$=N,Z=I-A*N,ie=D-y*I;for(J=0;J<E;++J){for(W=0;W<y;++W){for(B=0;B<A;++B)T[i]=d[w]*C,i+=re,w+=$;i+=ne,w+=Z}i+=le,w+=ie}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,c,i,d,b,w){var C=h[0],y=h[1],E=c[0],A=c[1],o=b[0],M=b[1];i|=0,w|=0;var x=0,I=0,D=A,N=E-y*A,k=M,O=o-y*M;for(I=0;I<C;++I){for(x=0;x<y;++x)T[i]=d[w],i+=D,w+=k;i+=N,w+=O}}},"float32,1,0,float32,0,1":function(){return function(h,T,c,i,d,b,w){var C=h[0],y=h[1],E=c[0],A=c[1],o=b[0],M=b[1];i|=0,w|=0;for(var x=i,I=w,D=h[1]|0;D>0;){D<64?(y=D,D=0):(y=64,D-=64);for(var N=h[0]|0;N>0;){N<64?(C=N,N=0):(C=64,N-=64),i=x+D*A+N*E,w=I+D*M+N*o;var k=0,O=0,F=A,z=E-y*A,B=M,W=o-y*M;for(O=0;O<C;++O){for(k=0;k<y;++k)T[i]=d[w],i+=F,w+=B;i+=z,w+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,c,i,d,b,w){var C=h[0],y=h[1],E=h[2],A=c[0],o=c[1],M=c[2],x=b[0],I=b[1],D=b[2];i|=0,w|=0;for(var N=i,k=w,O=h[2]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64);for(var F=h[0]|0;F>0;){F<64?(C=F,F=0):(C=64,F-=64);for(var z=h[1]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64),i=N+O*M+F*A+z*o,w=k+O*D+F*x+z*I;var B=0,W=0,J=0,re=M,ne=A-E*M,le=o-C*A,$=D,Z=x-E*D,ie=I-C*x;for(J=0;J<y;++J){for(W=0;W<C;++W){for(B=0;B<E;++B)T[i]=d[w],i+=re,w+=$;i+=ne,w+=Z}i+=le,w+=ie}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,c,i,d,b,w){var C=h[0],y=h[1],E=h[2],A=c[0],o=c[1],M=c[2],x=b[0],I=b[1],D=b[2];i|=0,w|=0;var N=0,k=0,O=0,F=M,z=A-E*M,B=o-C*A,W=D,J=x-E*D,re=I-C*x;for(O=0;O<y;++O){for(k=0;k<C;++k){for(N=0;N<E;++N)T[i]=d[w],i+=F,w+=W;i+=z,w+=J}i+=B,w+=re}}}};function t(g,h){var T=h.join(","),c=r[T];return c()}var a=t,n={mul:function(g){var h={};return function(c,i,d){var b=c.dtype,w=c.order,C=i.dtype,y=i.order,E=d.dtype,A=d.order,o=[b,w.join(),C,y.join(),E,A.join()].join(),M=h[o];return M||(h[o]=M=g([b,w,C,y,E,A])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},muls:function(g){var h={};return function(c,i,d){var b=c.dtype,w=c.order,C=i.dtype,y=i.order,E=[b,w.join(),C,y.join()].join(),A=h[E];return A||(h[E]=A=g([b,w,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},mulseq:function(g){var h={};return function(c,i){var d=c.dtype,b=c.order,w=[d,b.join()].join(),C=h[w];return C||(h[w]=C=g([d,b])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},div:function(g){var h={};return function(c,i,d){var b=c.dtype,w=c.order,C=i.dtype,y=i.order,E=d.dtype,A=d.order,o=[b,w.join(),C,y.join(),E,A.join()].join(),M=h[o];return M||(h[o]=M=g([b,w,C,y,E,A])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},divs:function(g){var h={};return function(c,i,d){var b=c.dtype,w=c.order,C=i.dtype,y=i.order,E=[b,w.join(),C,y.join()].join(),A=h[E];return A||(h[E]=A=g([b,w,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},divseq:function(g){var h={};return function(c,i){var d=c.dtype,b=c.order,w=[d,b.join()].join(),C=h[w];return C||(h[w]=C=g([d,b])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},assign:function(g){var h={};return function(c,i){var d=c.dtype,b=c.order,w=i.dtype,C=i.order,y=[d,b.join(),w,C.join()].join(),E=h[y];return E||(h[y]=E=g([d,b,w,C])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0)}}};function f(g){var h=n[g.funcName];return h(a.bind(void 0,g))}function u(g){return f({funcName:g.funcName})}var l={mul:"*",div:"/"};(function(){for(var g in l)p[g]=u({funcName:g}),p[g+"s"]=u({funcName:g+"s"}),p[g+"seq"]=u({funcName:g+"seq"})})(),p.assign=u({funcName:"assign"})},9994:function(v,p,r){var t=r(9618),a=r(8277);v.exports=function(f,u){for(var l=[],g=f,h=1;Array.isArray(g);)l.push(g.length),h*=g.length,g=g[0];return l.length===0?t():(u||(u=t(new Float64Array(h),l)),a(u,f),u)}},8277:function(v){function p(){return function(u,l,g,h,T){var c=u[0],i=u[1],d=u[2],b=g[0],w=g[1],C=g[2],y=[0,0,0];h|=0;var E=0,A=0,o=0,M=C,x=w-d*C,I=b-i*w;for(o=0;o<c;++o){for(A=0;A<i;++A){for(E=0;E<d;++E){{var D=T,N;for(N=0;N<y.length-1;++N)D=D[y[N]];l[h]=D[y[y.length-1]]}h+=M,++y[2]}h+=x,y[2]-=d,++y[1]}h+=I,y[1]-=i,++y[0]}}}function r(){return p()}var t=r;function a(u){var l={};return function(h,T){var c=h.dtype,i=h.order,d=[c,i.join()].join(),b=l[d];return b||(l[d]=b=u([c,i])),b(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function n(u){return a(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"convert"})},7640:function(v,p,r){var t=r(1888);function a(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,c){return function(d,b,w,C,y,E,A,o,M,x,I){var D,N,k,O=d*y+C,F,z=T(o),B,W,J,re;for(D=d+1;D<=b;++D){for(N=D,O+=y,k=O,B=0,W=O,F=0;F<o;++F)z[B++]=w[W],W+=M;e:for(;N-- >d;){B=0,W=k-y;t:for(F=0;F<o;++F){if(J=w[W],re=z[B],J<re)break e;if(J>re)break t;W+=x,B+=I}for(B=k,W=k-y,F=0;F<o;++F)w[B]=w[W],B+=M,W+=M;k-=y}for(B=k,W=0,F=0;F<o;++F)w[B]=z[W++],B+=M}c(z)}}};function f(T,c){var i=a(c),d=[c,T].join(","),b=n[d];return i?b(i[0],i[1]):b()}var u={"uint32,1,0":function(T,c,i){return function d(b,w,C,y,E,A,o,M,x,I,D){var N=(w-b+1)/6|0,k=b+N,O=w-N,F=b+w>>1,z=F-N,B=F+N,W=k,J=z,re=F,ne=B,le=O,$=b+1,Z=w-1,ie=!0,X,Q,oe,j,Y,se,te,fe,ge,be=0,xe=0,_e=0,De,Fe,Te,Re,Se,ke,Me,Ve,tt,it,Je,Qe,ct,ht,dt,Tt,Et=M,rt=c(Et),ze=c(Et);Fe=E*W,Te=E*J,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=W,W=J,J=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*ne,Te=E*le,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=ne,ne=le,le=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*W,Te=E*re,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=W,W=re,re=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*J,Te=E*re,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=J,J=re,re=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*W,Te=E*ne,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=W,W=ne,ne=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*re,Te=E*ne,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=re,re=ne,ne=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*J,Te=E*le,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=J,J=le,le=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*J,Te=E*re,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=J,J=re,re=Q;break e}if(_e<0)break e;Tt+=I}Fe=E*ne,Te=E*le,Tt=y;e:for(De=0;De<M;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=ne,ne=le,le=Q;break e}if(_e<0)break e;Tt+=I}for(Fe=E*W,Te=E*J,Re=E*re,Se=E*ne,ke=E*le,Me=E*k,Ve=E*F,tt=E*O,dt=0,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,it=Se+Tt,Je=ke+Tt,Qe=Me+Tt,ct=Ve+Tt,ht=tt+Tt,rt[dt]=C[fe],ze[dt]=C[it],ie=ie&&rt[dt]===ze[dt],oe=C[te],j=C[ge],Y=C[Je],C[Qe]=oe,C[ct]=j,C[ht]=Y,++dt,Tt+=x;for(Fe=E*z,Te=E*b,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],Tt+=x;for(Fe=E*B,Te=E*w,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],Tt+=x;if(ie)for(se=$;se<=Z;++se){te=y+se*E,dt=0;e:for(De=0;De<M;++De){if(_e=C[te]-rt[dt],_e!==0)break e;dt+=D,te+=I}if(_e!==0)if(_e<0){if(se!==$)for(Fe=E*se,Te=E*$,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,X=C[te],C[te]=C[fe],C[fe]=X,Tt+=x;++$}else for(;;){te=y+Z*E,dt=0;e:for(De=0;De<M;++De){if(_e=C[te]-rt[dt],_e!==0)break e;dt+=D,te+=I}if(_e>0)Z--;else if(_e<0){for(Fe=E*se,Te=E*$,Re=E*Z,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,X=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=X,Tt+=x;++$,--Z;break}else{for(Fe=E*se,Te=E*Z,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,X=C[te],C[te]=C[fe],C[fe]=X,Tt+=x;--Z;break}}}else for(se=$;se<=Z;++se){te=y+se*E,dt=0;e:for(De=0;De<M;++De){if(be=C[te]-rt[dt],be!==0)break e;dt+=D,te+=I}if(be<0){if(se!==$)for(Fe=E*se,Te=E*$,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,X=C[te],C[te]=C[fe],C[fe]=X,Tt+=x;++$}else{te=y+se*E,dt=0;e:for(De=0;De<M;++De){if(xe=C[te]-ze[dt],xe!==0)break e;dt+=D,te+=I}if(xe>0)for(;;){te=y+Z*E,dt=0;e:for(De=0;De<M;++De){if(_e=C[te]-ze[dt],_e!==0)break e;dt+=D,te+=I}if(_e>0){if(--Z<se)break;continue}else{te=y+Z*E,dt=0;e:for(De=0;De<M;++De){if(_e=C[te]-rt[dt],_e!==0)break e;dt+=D,te+=I}if(_e<0){for(Fe=E*se,Te=E*$,Re=E*Z,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,X=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=X,Tt+=x;++$,--Z}else{for(Fe=E*se,Te=E*Z,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,X=C[te],C[te]=C[fe],C[fe]=X,Tt+=x;--Z}break}}}}for(Fe=E*b,Te=E*($-1),dt=0,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],C[fe]=rt[dt],++dt,Tt+=x;for(Fe=E*w,Te=E*(Z+1),dt=0,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],C[fe]=ze[dt],++dt,Tt+=x;if($-2-b<=32?T(b,$-2,C,y,E,A,o,M,x,I,D):d(b,$-2,C,y,E,A,o,M,x,I,D),w-(Z+2)<=32?T(Z+2,w,C,y,E,A,o,M,x,I,D):d(Z+2,w,C,y,E,A,o,M,x,I,D),ie){i(rt),i(ze);return}if($<k&&Z>O){e:for(;;){for(te=y+$*E,dt=0,Tt=y,De=0;De<M;++De){if(C[te]!==rt[dt])break e;++dt,te+=x}++$}e:for(;;){for(te=y+Z*E,dt=0,Tt=y,De=0;De<M;++De){if(C[te]!==ze[dt])break e;++dt,te+=x}--Z}for(se=$;se<=Z;++se){te=y+se*E,dt=0;e:for(De=0;De<M;++De){if(be=C[te]-rt[dt],be!==0)break e;dt+=D,te+=I}if(be===0){if(se!==$)for(Fe=E*se,Te=E*$,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,X=C[te],C[te]=C[fe],C[fe]=X,Tt+=x;++$}else{te=y+se*E,dt=0;e:for(De=0;De<M;++De){if(xe=C[te]-ze[dt],xe!==0)break e;dt+=D,te+=I}if(xe===0)for(;;){te=y+Z*E,dt=0;e:for(De=0;De<M;++De){if(_e=C[te]-ze[dt],_e!==0)break e;dt+=D,te+=I}if(_e===0){if(--Z<se)break;continue}else{te=y+Z*E,dt=0;e:for(De=0;De<M;++De){if(_e=C[te]-rt[dt],_e!==0)break e;dt+=D,te+=I}if(_e<0){for(Fe=E*se,Te=E*$,Re=E*Z,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,X=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=X,Tt+=x;++$,--Z}else{for(Fe=E*se,Te=E*Z,Tt=y,De=0;De<M;++De)te=Fe+Tt,fe=Te+Tt,X=C[te],C[te]=C[fe],C[fe]=X,Tt+=x;--Z}break}}}}}i(rt),i(ze),Z-$<=32?T($,Z,C,y,E,A,o,M,x,I,D):d($,Z,C,y,E,A,o,M,x,I,D)}}};function l(T,c,i){var d=a(c),b=[c,T].join(","),w=u[b];return T.length>1&&d?w(i,d[0],d[1]):w(i)}var g={"uint32,1,0":function(T,c){return function(i){var d=i.data,b=i.offset|0,w=i.shape,C=i.stride,y=C[0]|0,E=w[0]|0,A=C[1]|0,o=w[1]|0,M=A,x=A,I=1;E<=32?T(0,E-1,d,b,y,A,E,o,M,x,I):c(0,E-1,d,b,y,A,E,o,M,x,I)}}};function h(T,c){var i=[c,T].join(","),d=g[i],b=f(T,c),w=l(T,c,b);return d(b,w)}v.exports=h},446:function(v,p,r){var t=r(7640),a={};function n(f){var u=f.order,l=f.dtype,g=[u,l],h=g.join(":"),T=a[h];return T||(a[h]=T=t(u,l)),T(f),f}v.exports=n},9618:function(v,p,r){var t=r(7163),a=typeof Float64Array<"u";function n(c,i){return c[0]-i[0]}function f(){var c=this.stride,i=new Array(c.length),d;for(d=0;d<i.length;++d)i[d]=[Math.abs(c[d]),d];i.sort(n);var b=new Array(i.length);for(d=0;d<b.length;++d)b[d]=i[d][1];return b}var u={T:function(c){function i(b){this.data=b}var d=i.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new i(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new i(w)}},0:function(c,i){function d(w,C){this.data=w,this.offset=C}var b=d.prototype;return b.dtype=c,b.index=function(){return this.offset},b.dimension=0,b.size=1,b.shape=b.stride=b.order=[],b.lo=b.hi=b.transpose=b.step=function(){return new d(this.data,this.offset)},b.pick=function(){return i(this.data)},b.valueOf=b.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},b.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,y,E,A){return new d(C,A)}},1:function(c,i,d){function b(C,y,E,A){this.data=C,this.shape=[y],this.stride=[E],this.offset=A|0}var w=b.prototype;return w.dtype=c,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(y,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,E):this.data[this.offset+this.stride[0]*y]=E},w.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},w.index=function(y){return this.offset+this.stride[0]*y},w.hi=function(y){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},w.lo=function(y){var E=this.offset,A=0,o=this.shape[0],M=this.stride[0];return typeof y=="number"&&y>=0&&(A=y|0,E+=M*A,o-=A),new b(this.data,o,M,E)},w.step=function(y){var E=this.shape[0],A=this.stride[0],o=this.offset,M=0,x=Math.ceil;return typeof y=="number"&&(M=y|0,M<0?(o+=A*(E-1),E=x(-E/M)):E=x(E/M),A*=M),new b(this.data,E,A,o)},w.transpose=function(y){y=y===void 0?0:y|0;var E=this.shape,A=this.stride;return new b(this.data,E[y],A[y],this.offset)},w.pick=function(y){var E=[],A=[],o=this.offset;typeof y=="number"&&y>=0?o=o+this.stride[0]*y|0:(E.push(this.shape[0]),A.push(this.stride[0]));var M=i[E.length+1];return M(this.data,E,A,o)},function(y,E,A,o){return new b(y,E[0],A[0],o)}},2:function(c,i,d){function b(C,y,E,A,o,M){this.data=C,this.shape=[y,E],this.stride=[A,o],this.offset=M|0}var w=b.prototype;return w.dtype=c,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(y,E,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*E,A):this.data[this.offset+this.stride[0]*y+this.stride[1]*E]=A},w.get=function(y,E){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*E):this.data[this.offset+this.stride[0]*y+this.stride[1]*E]},w.index=function(y,E){return this.offset+this.stride[0]*y+this.stride[1]*E},w.hi=function(y,E){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(y,E){var A=this.offset,o=0,M=this.shape[0],x=this.shape[1],I=this.stride[0],D=this.stride[1];return typeof y=="number"&&y>=0&&(o=y|0,A+=I*o,M-=o),typeof E=="number"&&E>=0&&(o=E|0,A+=D*o,x-=o),new b(this.data,M,x,I,D,A)},w.step=function(y,E){var A=this.shape[0],o=this.shape[1],M=this.stride[0],x=this.stride[1],I=this.offset,D=0,N=Math.ceil;return typeof y=="number"&&(D=y|0,D<0?(I+=M*(A-1),A=N(-A/D)):A=N(A/D),M*=D),typeof E=="number"&&(D=E|0,D<0?(I+=x*(o-1),o=N(-o/D)):o=N(o/D),x*=D),new b(this.data,A,o,M,x,I)},w.transpose=function(y,E){y=y===void 0?0:y|0,E=E===void 0?1:E|0;var A=this.shape,o=this.stride;return new b(this.data,A[y],A[E],o[y],o[E],this.offset)},w.pick=function(y,E){var A=[],o=[],M=this.offset;typeof y=="number"&&y>=0?M=M+this.stride[0]*y|0:(A.push(this.shape[0]),o.push(this.stride[0])),typeof E=="number"&&E>=0?M=M+this.stride[1]*E|0:(A.push(this.shape[1]),o.push(this.stride[1]));var x=i[A.length+1];return x(this.data,A,o,M)},function(y,E,A,o){return new b(y,E[0],E[1],A[0],A[1],o)}},3:function(c,i,d){function b(C,y,E,A,o,M,x,I){this.data=C,this.shape=[y,E,A],this.stride=[o,M,x],this.offset=I|0}var w=b.prototype;return w.dtype=c,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var y=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return y>E?E>A?[2,1,0]:y>A?[1,2,0]:[1,0,2]:y>A?[2,0,1]:A>E?[0,1,2]:[0,2,1]}}),w.set=function(y,E,A,o){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A,o):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A]=o},w.get=function(y,E,A){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A]},w.index=function(y,E,A){return this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A},w.hi=function(y,E,A){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(y,E,A){var o=this.offset,M=0,x=this.shape[0],I=this.shape[1],D=this.shape[2],N=this.stride[0],k=this.stride[1],O=this.stride[2];return typeof y=="number"&&y>=0&&(M=y|0,o+=N*M,x-=M),typeof E=="number"&&E>=0&&(M=E|0,o+=k*M,I-=M),typeof A=="number"&&A>=0&&(M=A|0,o+=O*M,D-=M),new b(this.data,x,I,D,N,k,O,o)},w.step=function(y,E,A){var o=this.shape[0],M=this.shape[1],x=this.shape[2],I=this.stride[0],D=this.stride[1],N=this.stride[2],k=this.offset,O=0,F=Math.ceil;return typeof y=="number"&&(O=y|0,O<0?(k+=I*(o-1),o=F(-o/O)):o=F(o/O),I*=O),typeof E=="number"&&(O=E|0,O<0?(k+=D*(M-1),M=F(-M/O)):M=F(M/O),D*=O),typeof A=="number"&&(O=A|0,O<0?(k+=N*(x-1),x=F(-x/O)):x=F(x/O),N*=O),new b(this.data,o,M,x,I,D,N,k)},w.transpose=function(y,E,A){y=y===void 0?0:y|0,E=E===void 0?1:E|0,A=A===void 0?2:A|0;var o=this.shape,M=this.stride;return new b(this.data,o[y],o[E],o[A],M[y],M[E],M[A],this.offset)},w.pick=function(y,E,A){var o=[],M=[],x=this.offset;typeof y=="number"&&y>=0?x=x+this.stride[0]*y|0:(o.push(this.shape[0]),M.push(this.stride[0])),typeof E=="number"&&E>=0?x=x+this.stride[1]*E|0:(o.push(this.shape[1]),M.push(this.stride[1])),typeof A=="number"&&A>=0?x=x+this.stride[2]*A|0:(o.push(this.shape[2]),M.push(this.stride[2]));var I=i[o.length+1];return I(this.data,o,M,x)},function(y,E,A,o){return new b(y,E[0],E[1],E[2],A[0],A[1],A[2],o)}},4:function(c,i,d){function b(C,y,E,A,o,M,x,I,D,N){this.data=C,this.shape=[y,E,A,o],this.stride=[M,x,I,D],this.offset=N|0}var w=b.prototype;return w.dtype=c,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(y,E,A,o,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A+this.stride[3]*o,M):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A+this.stride[3]*o]=M},w.get=function(y,E,A,o){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A+this.stride[3]*o):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A+this.stride[3]*o]},w.index=function(y,E,A,o){return this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*A+this.stride[3]*o},w.hi=function(y,E,A,o){return new b(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof o!="number"||o<0?this.shape[3]:o|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(y,E,A,o){var M=this.offset,x=0,I=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.stride[0],F=this.stride[1],z=this.stride[2],B=this.stride[3];return typeof y=="number"&&y>=0&&(x=y|0,M+=O*x,I-=x),typeof E=="number"&&E>=0&&(x=E|0,M+=F*x,D-=x),typeof A=="number"&&A>=0&&(x=A|0,M+=z*x,N-=x),typeof o=="number"&&o>=0&&(x=o|0,M+=B*x,k-=x),new b(this.data,I,D,N,k,O,F,z,B,M)},w.step=function(y,E,A,o){var M=this.shape[0],x=this.shape[1],I=this.shape[2],D=this.shape[3],N=this.stride[0],k=this.stride[1],O=this.stride[2],F=this.stride[3],z=this.offset,B=0,W=Math.ceil;return typeof y=="number"&&(B=y|0,B<0?(z+=N*(M-1),M=W(-M/B)):M=W(M/B),N*=B),typeof E=="number"&&(B=E|0,B<0?(z+=k*(x-1),x=W(-x/B)):x=W(x/B),k*=B),typeof A=="number"&&(B=A|0,B<0?(z+=O*(I-1),I=W(-I/B)):I=W(I/B),O*=B),typeof o=="number"&&(B=o|0,B<0?(z+=F*(D-1),D=W(-D/B)):D=W(D/B),F*=B),new b(this.data,M,x,I,D,N,k,O,F,z)},w.transpose=function(y,E,A,o){y=y===void 0?0:y|0,E=E===void 0?1:E|0,A=A===void 0?2:A|0,o=o===void 0?3:o|0;var M=this.shape,x=this.stride;return new b(this.data,M[y],M[E],M[A],M[o],x[y],x[E],x[A],x[o],this.offset)},w.pick=function(y,E,A,o){var M=[],x=[],I=this.offset;typeof y=="number"&&y>=0?I=I+this.stride[0]*y|0:(M.push(this.shape[0]),x.push(this.stride[0])),typeof E=="number"&&E>=0?I=I+this.stride[1]*E|0:(M.push(this.shape[1]),x.push(this.stride[1])),typeof A=="number"&&A>=0?I=I+this.stride[2]*A|0:(M.push(this.shape[2]),x.push(this.stride[2])),typeof o=="number"&&o>=0?I=I+this.stride[3]*o|0:(M.push(this.shape[3]),x.push(this.stride[3]));var D=i[M.length+1];return D(this.data,M,x,I)},function(y,E,A,o){return new b(y,E[0],E[1],E[2],E[3],A[0],A[1],A[2],A[3],o)}},5:function(i,d,b){function w(y,E,A,o,M,x,I,D,N,k,O,F){this.data=y,this.shape=[E,A,o,M,x],this.stride=[I,D,N,k,O],this.offset=F|0}var C=w.prototype;return C.dtype=i,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:b}),C.set=function(E,A,o,M,x,I){return i==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*o+this.stride[3]*M+this.stride[4]*x,I):this.data[this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*o+this.stride[3]*M+this.stride[4]*x]=I},C.get=function(E,A,o,M,x){return i==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*o+this.stride[3]*M+this.stride[4]*x):this.data[this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*o+this.stride[3]*M+this.stride[4]*x]},C.index=function(E,A,o,M,x){return this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*o+this.stride[3]*M+this.stride[4]*x},C.hi=function(E,A,o,M,x){return new w(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof o!="number"||o<0?this.shape[2]:o|0,typeof M!="number"||M<0?this.shape[3]:M|0,typeof x!="number"||x<0?this.shape[4]:x|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(E,A,o,M,x){var I=this.offset,D=0,N=this.shape[0],k=this.shape[1],O=this.shape[2],F=this.shape[3],z=this.shape[4],B=this.stride[0],W=this.stride[1],J=this.stride[2],re=this.stride[3],ne=this.stride[4];return typeof E=="number"&&E>=0&&(D=E|0,I+=B*D,N-=D),typeof A=="number"&&A>=0&&(D=A|0,I+=W*D,k-=D),typeof o=="number"&&o>=0&&(D=o|0,I+=J*D,O-=D),typeof M=="number"&&M>=0&&(D=M|0,I+=re*D,F-=D),typeof x=="number"&&x>=0&&(D=x|0,I+=ne*D,z-=D),new w(this.data,N,k,O,F,z,B,W,J,re,ne,I)},C.step=function(E,A,o,M,x){var I=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.shape[4],F=this.stride[0],z=this.stride[1],B=this.stride[2],W=this.stride[3],J=this.stride[4],re=this.offset,ne=0,le=Math.ceil;return typeof E=="number"&&(ne=E|0,ne<0?(re+=F*(I-1),I=le(-I/ne)):I=le(I/ne),F*=ne),typeof A=="number"&&(ne=A|0,ne<0?(re+=z*(D-1),D=le(-D/ne)):D=le(D/ne),z*=ne),typeof o=="number"&&(ne=o|0,ne<0?(re+=B*(N-1),N=le(-N/ne)):N=le(N/ne),B*=ne),typeof M=="number"&&(ne=M|0,ne<0?(re+=W*(k-1),k=le(-k/ne)):k=le(k/ne),W*=ne),typeof x=="number"&&(ne=x|0,ne<0?(re+=J*(O-1),O=le(-O/ne)):O=le(O/ne),J*=ne),new w(this.data,I,D,N,k,O,F,z,B,W,J,re)},C.transpose=function(E,A,o,M,x){E=E===void 0?0:E|0,A=A===void 0?1:A|0,o=o===void 0?2:o|0,M=M===void 0?3:M|0,x=x===void 0?4:x|0;var I=this.shape,D=this.stride;return new w(this.data,I[E],I[A],I[o],I[M],I[x],D[E],D[A],D[o],D[M],D[x],this.offset)},C.pick=function(E,A,o,M,x){var I=[],D=[],N=this.offset;typeof E=="number"&&E>=0?N=N+this.stride[0]*E|0:(I.push(this.shape[0]),D.push(this.stride[0])),typeof A=="number"&&A>=0?N=N+this.stride[1]*A|0:(I.push(this.shape[1]),D.push(this.stride[1])),typeof o=="number"&&o>=0?N=N+this.stride[2]*o|0:(I.push(this.shape[2]),D.push(this.stride[2])),typeof M=="number"&&M>=0?N=N+this.stride[3]*M|0:(I.push(this.shape[3]),D.push(this.stride[3])),typeof x=="number"&&x>=0?N=N+this.stride[4]*x|0:(I.push(this.shape[4]),D.push(this.stride[4]));var k=d[I.length+1];return k(this.data,I,D,N)},function(E,A,o,M){return new w(E,A[0],A[1],A[2],A[3],A[4],o[0],o[1],o[2],o[3],o[4],M)}}};function l(c,i){var d=i===-1?"T":String(i),b=u[d];return i===-1?b(c):i===0?b(c,h[c][0]):b(c,h[c],f)}function g(c){if(t(c))return"buffer";if(a)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(c,i,d,b){if(c===void 0){var o=h.array[0];return o([])}else typeof c=="number"&&(c=[c]);i===void 0&&(i=[c.length]);var w=i.length;if(d===void 0){d=new Array(w);for(var C=w-1,y=1;C>=0;--C)d[C]=y,y*=i[C]}if(b===void 0){b=0;for(var C=0;C<w;++C)d[C]<0&&(b-=(i[C]-1)*d[C])}for(var E=g(c),A=h[E];A.length<=w+1;)A.push(l(E,A.length-1));var o=A[w+1];return o(c,i,d,b)}v.exports=T},1278:function(v,p,r){var t=r(2361),a=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-a:a;var g=t.hi(u),h=t.lo(u);return l>u==u>0?h===n?(g+=1,h=0):h+=1:h===0?(h=n,g-=1):h-=1,t.pack(h,g)}},8406:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(a,n,f){for(var u=n.length,l=new Array(u),g=f===void 0?r:f,h=0;h<u;++h)l[h]=[0,0,0];for(var h=0;h<a.length;++h)for(var T=a[h],c=0,i=T[T.length-1],d=T[0],b=0;b<T.length;++b){c=i,i=d,d=T[(b+1)%T.length];for(var w=n[c],C=n[i],y=n[d],E=new Array(3),A=0,o=new Array(3),M=0,x=0;x<3;++x)E[x]=w[x]-C[x],A+=E[x]*E[x],o[x]=y[x]-C[x],M+=o[x]*o[x];if(A*M>g)for(var I=l[i],D=1/Math.sqrt(A*M),x=0;x<3;++x){var N=(x+1)%3,k=(x+2)%3;I[x]+=D*(o[N]*E[k]-o[k]*E[N])}}for(var h=0;h<u;++h){for(var I=l[h],O=0,x=0;x<3;++x)O+=I[x]*I[x];if(O>g)for(var D=1/Math.sqrt(O),x=0;x<3;++x)I[x]*=D;else for(var x=0;x<3;++x)I[x]=0}return l},p.faceNormals=function(a,n,f){for(var u=a.length,l=new Array(u),g=f===void 0?t:f,h=0;h<u;++h){for(var T=a[h],c=new Array(3),i=0;i<3;++i)c[i]=n[T[i]];for(var d=new Array(3),b=new Array(3),i=0;i<3;++i)d[i]=c[1][i]-c[0][i],b[i]=c[2][i]-c[0][i];for(var w=new Array(3),C=0,i=0;i<3;++i){var y=(i+1)%3,E=(i+2)%3;w[i]=d[y]*b[E]-d[E]*b[y],C+=w[i]*w[i]}C>g?C=1/Math.sqrt(C):C=0;for(var i=0;i<3;++i)w[i]*=C;l[h]=w}return l}},4081:function(v){v.exports=p;function p(r,t,a,n,f,u,l,g,h,T){var c=t+u+T;if(i>0){var i=Math.sqrt(c+1);r[0]=.5*(l-h)/i,r[1]=.5*(g-n)/i,r[2]=.5*(a-u)/i,r[3]=.5*i}else{var d=Math.max(t,u,T),i=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*i,r[1]=.5*(f+a)/i,r[2]=.5*(g+n)/i,r[3]=.5*(l-h)/i):u>=d?(r[0]=.5*(a+f)/i,r[1]=.5*i,r[2]=.5*(h+l)/i,r[3]=.5*(g-n)/i):(r[0]=.5*(n+g)/i,r[1]=.5*(l+h)/i,r[2]=.5*i,r[3]=.5*(a-f)/i)}return r}},9977:function(v,p,r){v.exports=i;var t=r(9215),a=r(6582),n=r(7399),f=r(7608),u=r(4081);function l(d,b,w){return Math.sqrt(Math.pow(d,2)+Math.pow(b,2)+Math.pow(w,2))}function g(d,b,w,C){return Math.sqrt(Math.pow(d,2)+Math.pow(b,2)+Math.pow(w,2)+Math.pow(C,2))}function h(d,b){var w=b[0],C=b[1],y=b[2],E=b[3],A=g(w,C,y,E);A>1e-6?(d[0]=w/A,d[1]=C/A,d[2]=y/A,d[3]=E/A):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,b,w){this.radius=t([w]),this.center=t(b),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=T.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var b=this.computedRotation;h(b,b);var w=this.computedMatrix;n(w,b);var C=this.computedCenter,y=this.computedEye,E=this.computedUp,A=Math.exp(this.computedRadius[0]);y[0]=C[0]+A*w[2],y[1]=C[1]+A*w[6],y[2]=C[2]+A*w[10],E[0]=w[1],E[1]=w[5],E[2]=w[9];for(var o=0;o<3;++o){for(var M=0,x=0;x<3;++x)M+=w[o+4*x]*y[x];w[12+o]=-M}},c.getMatrix=function(d,b){this.recalcMatrix(d);var w=this.computedMatrix;if(b){for(var C=0;C<16;++C)b[C]=w[C];return b}return w},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,b,w,C){b=b||0,w=w||0,C=C||0,this.recalcMatrix(d);var y=this.computedMatrix,E=y[1],A=y[5],o=y[9],M=l(E,A,o);E/=M,A/=M,o/=M;var x=y[0],I=y[4],D=y[8],N=x*E+I*A+D*o;x-=E*N,I-=A*N,D-=o*N;var k=l(x,I,D);x/=k,I/=k,D/=k,y[2],y[6],y[10];var O=x*b+E*w,F=I*b+A*w,z=D*b+o*w;this.center.move(d,O,F,z);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+C),this.radius.set(d,Math.log(B))},c.rotate=function(d,b,w,C){this.recalcMatrix(d),b=b||0,w=w||0;var y=this.computedMatrix,E=y[0],A=y[4],o=y[8],M=y[1],x=y[5],I=y[9],D=y[2],N=y[6],k=y[10],O=b*E+w*M,F=b*A+w*x,z=b*o+w*I,B=-(N*z-k*F),W=-(k*O-D*z),J=-(D*F-N*O),re=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(W,2)-Math.pow(J,2))),ne=g(B,W,J,re);ne>1e-6?(B/=ne,W/=ne,J/=ne,re/=ne):(B=W=J=0,re=1);var le=this.computedRotation,$=le[0],Z=le[1],ie=le[2],X=le[3],Q=$*re+X*B+Z*J-ie*W,oe=Z*re+X*W+ie*B-$*J,j=ie*re+X*J+$*W-Z*B,Y=X*re-$*B-Z*W-ie*J;if(C){B=D,W=N,J=k;var se=Math.sin(C)/l(B,W,J);B*=se,W*=se,J*=se,re=Math.cos(b),Q=Q*re+Y*B+oe*J-j*W,oe=oe*re+Y*W+j*B-Q*J,j=j*re+Y*J+Q*W-oe*B,Y=Y*re-Q*B-oe*W-j*J}var te=g(Q,oe,j,Y);te>1e-6?(Q/=te,oe/=te,j/=te,Y/=te):(Q=oe=j=0,Y=1),this.rotation.set(d,Q,oe,j,Y)},c.lookAt=function(d,b,w,C){this.recalcMatrix(d),w=w||this.computedCenter,b=b||this.computedEye,C=C||this.computedUp;var y=this.computedMatrix;a(y,b,w,C);var E=this.computedRotation;u(E,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(E,E),this.rotation.set(d,E[0],E[1],E[2],E[3]);for(var A=0,o=0;o<3;++o)A+=Math.pow(w[o]-b[o],2);this.radius.set(d,.5*Math.log(Math.max(A,1e-6))),this.center.set(d,w[0],w[1],w[2])},c.translate=function(d,b,w,C){this.center.move(d,b||0,w||0,C||0)},c.setMatrix=function(d,b){var w=this.computedRotation;u(w,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),h(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var C=this.computedMatrix;f(C,b);var y=C[15];if(Math.abs(y)>1e-6){var E=C[12]/y,A=C[13]/y,o=C[14]/y;this.recalcMatrix(d);var M=Math.exp(this.computedRadius[0]);this.center.set(d,E-C[2]*M,A-C[6]*M,o-C[10]*M),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,b){b>0&&this.radius.set(d,Math.log(b))},c.setDistanceLimits=function(d,b){d>0?d=Math.log(d):d=-1/0,b>0?b=Math.log(b):b=1/0,b=Math.max(b,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=b},c.getDistanceLimits=function(d){var b=this.radius.bounds;return d?(d[0]=Math.exp(b[0][0]),d[1]=Math.exp(b[1][0]),d):[Math.exp(b[0][0]),Math.exp(b[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var b=this.lastT(),w=d.center;w&&this.center.set(b,w[0],w[1],w[2]);var C=d.rotation;C&&this.rotation.set(b,C[0],C[1],C[2],C[3]);var y=d.distance;y&&y>0&&this.radius.set(b,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function i(d){d=d||{};var b=d.center||[0,0,0],w=d.rotation||[0,0,0,1],C=d.radius||1;b=[].slice.call(b,0,3),w=[].slice.call(w,0,4),h(w,w);var y=new T(w,b,Math.log(C));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},1371:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,f,u){return u=typeof u<"u"?u+"":" ",t(u,f)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var a=parseFloat(r,10);return t[0]=a,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,p,r){v.exports=a;var t=r(3140);function a(n,f){for(var u=f.length|0,l=n.length,g=[new Array(u),new Array(u)],h=0;h<u;++h)g[0][h]=[],g[1][h]=[];for(var h=0;h<l;++h){var T=n[h];g[0][T[0]].push(T),g[1][T[1]].push(T)}for(var c=[],h=0;h<u;++h)g[0][h].length+g[1][h].length===0&&c.push([h]);function i(A,o){var M=g[o][A[o]];M.splice(M.indexOf(A),1)}function d(A,o,M){for(var x,I,D,N=0;N<2;++N)if(g[N][o].length>0){x=g[N][o][0],D=N;break}I=x[D^1];for(var k=0;k<2;++k)for(var O=g[k][o],F=0;F<O.length;++F){var z=O[F],B=z[k^1],W=t(f[A],f[o],f[I],f[B]);W>0&&(x=z,I=B,D=k)}return M||x&&i(x,D),I}function b(A,o){var M=g[o][A][0],x=[A];i(M,o);for(var I=M[o^1];;){for(;I!==A;)x.push(I),I=d(x[x.length-2],I,!1);if(g[0][A].length+g[1][A].length===0)break;var D=x[x.length-1],N=A,k=x[1],O=d(D,N,!0);if(t(f[D],f[N],f[k],f[O])<0)break;x.push(A),I=d(D,N)}return x}function w(A,o){return o[1]===o[o.length-1]}for(var h=0;h<u;++h)for(var C=0;C<2;++C){for(var y=[];g[C][h].length>0;){g[0][h].length;var E=b(h,C);w(y,E)?y.push.apply(y,E):(y.length>0&&c.push(y),y=E)}y.length>0&&c.push(y)}return c}},5609:function(v,p,r){v.exports=a;var t=r(3134);function a(n,f){for(var u=t(n,f.length),l=new Array(f.length),g=new Array(f.length),h=[],T=0;T<f.length;++T){var c=u[T].length;g[T]=c,l[T]=!0,c<=1&&h.push(T)}for(;h.length>0;){var i=h.pop();l[i]=!1;for(var d=u[i],T=0;T<d.length;++T){var b=d[T];--g[b]===0&&h.push(b)}}for(var w=new Array(f.length),C=[],T=0;T<f.length;++T)if(l[T]){var i=C.length;w[T]=i,C.push(f[T])}else w[T]=-1;for(var y=[],T=0;T<n.length;++T){var E=n[T];l[E[0]]&&l[E[1]]&&y.push([w[E[0]],w[E[1]]])}return[y,C]}},2095:function(v,p,r){v.exports=c;var t=r(3134),a=r(3088),n=r(5085),f=r(5250),u=r(8210),l=r(1682),g=r(5609);function h(i,d){for(var b=new Array(i),w=0;w<i;++w)b[w]=d;return b}function T(i){for(var d=new Array(i),b=0;b<i;++b)d[b]=[];return d}function c(i,d){var Y=g(i,d);i=Y[0],d=Y[1];var b=d.length;i.length;for(var w=t(i,d.length),C=0;C<b;++C)if(w[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=a(i,d);function E(_e){for(var De=_e.length,Fe=[0],Te=0;Te<De;++Te){var Re=d[_e[Te]],Se=d[_e[(Te+1)%De]],ke=f(-Re[0],Re[1]),Me=f(-Re[0],Se[1]),Ve=f(Se[0],Re[1]),tt=f(Se[0],Se[1]);Fe=u(Fe,u(u(ke,Me),u(Ve,tt)))}return Fe[Fe.length-1]>0}y=y.filter(E);for(var A=y.length,o=new Array(A),M=new Array(A),C=0;C<A;++C){o[C]=C;var x=new Array(A),I=y[C].map(function(De){return d[De]}),D=n([I]),N=0;e:for(var k=0;k<A;++k)if(x[k]=0,C!==k){for(var O=y[k],F=O.length,z=0;z<F;++z){var B=D(d[O[z]]);if(B!==0){B<0&&(x[k]=1,N+=1);continue e}}x[k]=1,N+=1}M[C]=[N,C,x]}M.sort(function(_e,De){return De[0]-_e[0]});for(var C=0;C<A;++C)for(var x=M[C],W=x[1],J=x[2],k=0;k<A;++k)J[k]&&(o[k]=W);for(var re=T(A),C=0;C<A;++C)re[C].push(o[C]),re[o[C]].push(C);for(var ne={},le=h(b,!1),C=0;C<A;++C)for(var O=y[C],F=O.length,k=0;k<F;++k){var $=O[k],Z=O[(k+1)%F],ie=Math.min($,Z)+":"+Math.max($,Z);if(ie in ne){var X=ne[ie];re[X].push(C),re[C].push(X),le[$]=le[Z]=!0}else ne[ie]=C}function Q(_e){for(var De=_e.length,Fe=0;Fe<De;++Fe)if(!le[_e[Fe]])return!1;return!0}for(var oe=[],j=h(A,-1),C=0;C<A;++C)o[C]===C&&!Q(y[C])?(oe.push(C),j[C]=0):j[C]=-1;for(var Y=[];oe.length>0;){var se=oe.pop(),te=re[se];l(te,function(_e,De){return _e-De});var fe=te.length,ge=j[se],be;if(ge===0){var O=y[se];be=[O]}for(var C=0;C<fe;++C){var xe=te[C];if(!(j[xe]>=0)&&(j[xe]=ge^1,oe.push(xe),ge===0)){var O=y[xe];Q(O)||(O.reverse(),be.push(O))}}ge===0&&Y.push(be)}return Y}},5085:function(v,p,r){v.exports=d;var t=r(3250)[3],a=r(4209),n=r(3352),f=r(2478);function u(){return!0}function l(b){return function(w,C){var y=b[w];return y?!!y.queryPoint(C,u):!1}}function g(b){for(var w={},C=0;C<b.length;++C){var y=b[C],E=y[0][0],A=y[0][1],o=y[1][1],M=[Math.min(A,o),Math.max(A,o)];E in w?w[E].push(M):w[E]=[M]}for(var x={},I=Object.keys(w),C=0;C<I.length;++C){var D=w[I[C]];x[I[C]]=n(D)}return l(x)}function h(b,w){return function(C){var y=f.le(w,C[0]);if(y<0)return 1;var E=b[y];if(!E)if(y>0&&w[y]===C[0])E=b[y-1];else return 1;for(var A=1;E;){var o=E.key,M=t(C,o[0],o[1]);if(o[0][0]<o[1][0])if(M<0)E=E.left;else if(M>0)A=-1,E=E.right;else return 0;else if(M>0)E=E.left;else if(M<0)A=1,E=E.right;else return 0}return A}}function T(b){return 1}function c(b){return function(C){return b(C[0],C[1])?0:1}}function i(b,w){return function(y){return b(y[0],y[1])?0:w(y)}}function d(b){for(var w=b.length,C=[],y=[],E=0;E<w;++E)for(var A=b[E],o=A.length,M=o-1,x=0;x<o;M=x++){var I=A[M],D=A[x];I[0]===D[0]?y.push([I,D]):C.push([I,D])}if(C.length===0)return y.length===0?T:c(g(y));var N=a(C),k=h(N.slabs,N.coordinates);return y.length===0?k:i(g(y),k)}},9346:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function a(n,f,u,l,g){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)p[h]=n[h]-l[h],r[h]=f[h]-n[h],t[h]=u[h]-n[h];for(var T=0,c=0,i=0,d=0,b=0,w=0,h=0;h<l.length;++h){var C=r[h],y=t[h],E=p[h];T+=C*C,c+=C*y,i+=y*y,d+=E*C,b+=E*y,w+=E*E}var A=Math.abs(T*i-c*c),o=c*b-i*d,M=c*d-T*b,x;if(o+M<=A)if(o<0)M<0&&d<0?(M=0,-d>=T?(o=1,x=T+2*d+w):(o=-d/T,x=d*o+w)):(o=0,b>=0?(M=0,x=w):-b>=i?(M=1,x=i+2*b+w):(M=-b/i,x=b*M+w));else if(M<0)M=0,d>=0?(o=0,x=w):-d>=T?(o=1,x=T+2*d+w):(o=-d/T,x=d*o+w);else{var I=1/A;o*=I,M*=I,x=o*(T*o+c*M+2*d)+M*(c*o+i*M+2*b)+w}else{var D,N,k,O;o<0?(D=c+d,N=i+b,N>D?(k=N-D,O=T-2*c+i,k>=O?(o=1,M=0,x=T+2*d+w):(o=k/O,M=1-o,x=o*(T*o+c*M+2*d)+M*(c*o+i*M+2*b)+w)):(o=0,N<=0?(M=1,x=i+2*b+w):b>=0?(M=0,x=w):(M=-b/i,x=b*M+w))):M<0?(D=c+b,N=T+d,N>D?(k=N-D,O=T-2*c+i,k>=O?(M=1,o=0,x=i+2*b+w):(M=k/O,o=1-M,x=o*(T*o+c*M+2*d)+M*(c*o+i*M+2*b)+w)):(M=0,N<=0?(o=1,x=T+2*d+w):d>=0?(o=0,x=w):(o=-d/T,x=d*o+w))):(k=i+b-c-d,k<=0?(o=0,M=1,x=i+2*b+w):(O=T-2*c+i,k>=O?(o=1,M=0,x=T+2*d+w):(o=k/O,M=1-o,x=o*(T*o+c*M+2*d)+M*(c*o+i*M+2*b)+w)))}for(var F=1-o-M,h=0;h<l.length;++h)g[h]=F*n[h]+o*f[h]+M*u[h];return x<0?0:x}v.exports=a},8648:function(v,p,r){v.exports=r(783)},2653:function(v,p,r){var t=r(3865);v.exports=a;function a(n,f){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],f[g]);return l}},5838:function(v,p,r){v.exports=a;var t=r(7842);function a(n){for(var f=new Array(n.length),u=0;u<n.length;++u)f[u]=t(n[u]);return f}},8987:function(v,p,r){var t=r(7842),a=r(6504);v.exports=n;function n(f,u){for(var l=t(u),g=f.length,h=new Array(g),T=0;T<g;++T)h[T]=a(f[T],l);return h}},544:function(v,p,r){var t=r(5572);v.exports=a;function a(n,f){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],f[g]);return l}},5771:function(v,p,r){var t=r(8507),a=r(3788),n=r(2419);v.exports=f;function f(u){u.sort(a);for(var l=u.length,g=0,h=0;h<l;++h){var T=u[h],c=n(T);if(c!==0){if(g>0){var i=u[g-1];if(t(T,i)===0&&n(i)!==c){g-=1;continue}}u[g++]=T}}return u.length=g,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(a,n){if(typeof a!="string")throw new TypeError("expected a string");if(n===1)return a;if(n===2)return a+a;var f=a.length*n;if(r!==a||typeof r>"u")r=a,p="";else if(p.length>=f)return p.substr(0,f);for(;f>p.length&&n>1;)n&1&&(p+=a),n>>=1,a+=a;return p+=a,p=p.substr(0,f),p}},3025:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=p;function p(r){for(var t=r.length,a=r[r.length-1],n=t,f=t-2;f>=0;--f){var u=a,l=r[f];a=u+l;var g=a-u,h=l-g;h&&(r[--n]=a,a=h)}for(var T=0,f=n;f<t;++f){var u=r[f],l=a;a=u+l;var g=a-u,h=l-g;h&&(r[T++]=h)}return r[T++]=a,r.length=T,r}},2962:function(v,p,r){var t=r(5250),a=r(8210),n=r(3012),f=r(7004),u=6;function l(w,C,y,E){return function(o){return E(w(y(o[0][0],o[1][1]),y(-o[0][1],o[1][0])))}}function g(w,C,y,E){return function(o){return E(w(C(w(y(o[1][1],o[2][2]),y(-o[1][2],o[2][1])),o[0][0]),w(C(w(y(o[1][0],o[2][2]),y(-o[1][2],o[2][0])),-o[0][1]),C(w(y(o[1][0],o[2][1]),y(-o[1][1],o[2][0])),o[0][2]))))}}function h(w,C,y,E){return function(o){return E(w(w(C(w(C(w(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][1]),w(C(w(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),-o[1][2]),C(w(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][3]))),o[0][0]),C(w(C(w(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][0]),w(C(w(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][2]),C(w(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),o[1][3]))),-o[0][1])),w(C(w(C(w(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),o[1][0]),w(C(w(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][1]),C(w(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][3]))),o[0][2]),C(w(C(w(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][0]),w(C(w(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),-o[1][1]),C(w(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][2]))),-o[0][3]))))}}function T(w,C,y,E){return function(o){return E(w(w(C(w(w(C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][1]),C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),-o[1][2])),w(C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][3]),C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),-o[1][4]))),o[0][0]),C(w(w(C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][0]),C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][2])),w(C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),o[1][3]),C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][4]))),-o[0][1])),w(C(w(w(C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),o[1][0]),C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][1])),w(C(w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][3]),C(w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),-o[1][4]))),o[0][2]),w(C(w(w(C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][0]),C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),-o[1][1])),w(C(w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][2]),C(w(C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][4]))),-o[0][3]),C(w(w(C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),o[1][0]),C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][1])),w(C(w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),o[1][2]),C(w(C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][3]))),o[0][4])))))}}function c(w){var C=w===2?l:w===3?g:w===4?h:w===5?T:void 0;return C(a,n,t,f)}var i=[function(){return[0]},function(C){return[C[0][0]]}];function d(w,C,y,E,A,o,M,x){return function(D){switch(D.length){case 0:return w(D);case 1:return C(D);case 2:return y(D);case 3:return E(D);case 4:return A(D);case 5:return o(D)}var N=M[D.length];return N||(N=M[D.length]=x(D.length)),N(D)}}function b(){for(;i.length<u;)i.push(c(i.length));v.exports=d.apply(void 0,i.concat([i,c]));for(var w=0;w<i.length;++w)v.exports[w]=i[w]}b()},1944:function(v,p,r){var t=r(5250),a=r(8210);v.exports=n;function n(f,u){for(var l=t(f[0],u[0]),g=1;g<f.length;++g)l=a(l,t(f[g],u[g]));return l}},2646:function(v,p,r){var t=r(5250),a=r(8210),n=r(8545),f=r(3012),u=6;function l(A){var o=A===3?c:A===4?i:A===5?d:b;return o(a,n,t,f)}function g(){return 0}function h(){return 0}function T(){return 0}function c(A,o,M,x){function I(D,N,k){var O=M(D[0],D[0]),F=x(O,N[0]),z=x(O,k[0]),B=M(N[0],N[0]),W=x(B,D[0]),J=x(B,k[0]),re=M(k[0],k[0]),ne=x(re,D[0]),le=x(re,N[0]),$=A(o(le,J),o(W,F)),Z=o(ne,z),ie=o($,Z);return ie[ie.length-1]}return I}function i(A,o,M,x){function I(D,N,k,O){var F=A(M(D[0],D[0]),M(D[1],D[1])),z=x(F,N[0]),B=x(F,k[0]),W=x(F,O[0]),J=A(M(N[0],N[0]),M(N[1],N[1])),re=x(J,D[0]),ne=x(J,k[0]),le=x(J,O[0]),$=A(M(k[0],k[0]),M(k[1],k[1])),Z=x($,D[0]),ie=x($,N[0]),X=x($,O[0]),Q=A(M(O[0],O[0]),M(O[1],O[1])),oe=x(Q,D[0]),j=x(Q,N[0]),Y=x(Q,k[0]),se=A(A(x(o(Y,X),N[1]),A(x(o(j,le),-k[1]),x(o(ie,ne),O[1]))),A(x(o(j,le),D[1]),A(x(o(oe,W),-N[1]),x(o(re,z),O[1])))),te=A(A(x(o(Y,X),D[1]),A(x(o(oe,W),-k[1]),x(o(Z,B),O[1]))),A(x(o(ie,ne),D[1]),A(x(o(Z,B),-N[1]),x(o(re,z),k[1])))),fe=o(se,te);return fe[fe.length-1]}return I}function d(A,o,M,x){function I(D,N,k,O,F){var z=A(M(D[0],D[0]),A(M(D[1],D[1]),M(D[2],D[2]))),B=x(z,N[0]),W=x(z,k[0]),J=x(z,O[0]),re=x(z,F[0]),ne=A(M(N[0],N[0]),A(M(N[1],N[1]),M(N[2],N[2]))),le=x(ne,D[0]),$=x(ne,k[0]),Z=x(ne,O[0]),ie=x(ne,F[0]),X=A(M(k[0],k[0]),A(M(k[1],k[1]),M(k[2],k[2]))),Q=x(X,D[0]),oe=x(X,N[0]),j=x(X,O[0]),Y=x(X,F[0]),se=A(M(O[0],O[0]),A(M(O[1],O[1]),M(O[2],O[2]))),te=x(se,D[0]),fe=x(se,N[0]),ge=x(se,k[0]),be=x(se,F[0]),xe=A(M(F[0],F[0]),A(M(F[1],F[1]),M(F[2],F[2]))),_e=x(xe,D[0]),De=x(xe,N[0]),Fe=x(xe,k[0]),Te=x(xe,O[0]),Re=A(A(A(x(A(x(o(Te,be),k[1]),A(x(o(Fe,Y),-O[1]),x(o(ge,j),F[1]))),N[2]),A(x(A(x(o(Te,be),N[1]),A(x(o(De,ie),-O[1]),x(o(fe,Z),F[1]))),-k[2]),x(A(x(o(Fe,Y),N[1]),A(x(o(De,ie),-k[1]),x(o(oe,$),F[1]))),O[2]))),A(x(A(x(o(ge,j),N[1]),A(x(o(fe,Z),-k[1]),x(o(oe,$),O[1]))),-F[2]),A(x(A(x(o(Te,be),N[1]),A(x(o(De,ie),-O[1]),x(o(fe,Z),F[1]))),D[2]),x(A(x(o(Te,be),D[1]),A(x(o(_e,re),-O[1]),x(o(te,J),F[1]))),-N[2])))),A(A(x(A(x(o(De,ie),D[1]),A(x(o(_e,re),-N[1]),x(o(le,B),F[1]))),O[2]),A(x(A(x(o(fe,Z),D[1]),A(x(o(te,J),-N[1]),x(o(le,B),O[1]))),-F[2]),x(A(x(o(ge,j),N[1]),A(x(o(fe,Z),-k[1]),x(o(oe,$),O[1]))),D[2]))),A(x(A(x(o(ge,j),D[1]),A(x(o(te,J),-k[1]),x(o(Q,W),O[1]))),-N[2]),A(x(A(x(o(fe,Z),D[1]),A(x(o(te,J),-N[1]),x(o(le,B),O[1]))),k[2]),x(A(x(o(oe,$),D[1]),A(x(o(Q,W),-N[1]),x(o(le,B),k[1]))),-O[2]))))),Se=A(A(A(x(A(x(o(Te,be),k[1]),A(x(o(Fe,Y),-O[1]),x(o(ge,j),F[1]))),D[2]),x(A(x(o(Te,be),D[1]),A(x(o(_e,re),-O[1]),x(o(te,J),F[1]))),-k[2])),A(x(A(x(o(Fe,Y),D[1]),A(x(o(_e,re),-k[1]),x(o(Q,W),F[1]))),O[2]),x(A(x(o(ge,j),D[1]),A(x(o(te,J),-k[1]),x(o(Q,W),O[1]))),-F[2]))),A(A(x(A(x(o(Fe,Y),N[1]),A(x(o(De,ie),-k[1]),x(o(oe,$),F[1]))),D[2]),x(A(x(o(Fe,Y),D[1]),A(x(o(_e,re),-k[1]),x(o(Q,W),F[1]))),-N[2])),A(x(A(x(o(De,ie),D[1]),A(x(o(_e,re),-N[1]),x(o(le,B),F[1]))),k[2]),x(A(x(o(oe,$),D[1]),A(x(o(Q,W),-N[1]),x(o(le,B),k[1]))),-F[2])))),ke=o(Re,Se);return ke[ke.length-1]}return I}function b(A,o,M,x){function I(D,N,k,O,F,z){var B=A(A(M(D[0],D[0]),M(D[1],D[1])),A(M(D[2],D[2]),M(D[3],D[3]))),W=x(B,N[0]),J=x(B,k[0]),re=x(B,O[0]),ne=x(B,F[0]),le=x(B,z[0]),$=A(A(M(N[0],N[0]),M(N[1],N[1])),A(M(N[2],N[2]),M(N[3],N[3]))),Z=x($,D[0]),ie=x($,k[0]),X=x($,O[0]),Q=x($,F[0]),oe=x($,z[0]),j=A(A(M(k[0],k[0]),M(k[1],k[1])),A(M(k[2],k[2]),M(k[3],k[3]))),Y=x(j,D[0]),se=x(j,N[0]),te=x(j,O[0]),fe=x(j,F[0]),ge=x(j,z[0]),be=A(A(M(O[0],O[0]),M(O[1],O[1])),A(M(O[2],O[2]),M(O[3],O[3]))),xe=x(be,D[0]),_e=x(be,N[0]),De=x(be,k[0]),Fe=x(be,F[0]),Te=x(be,z[0]),Re=A(A(M(F[0],F[0]),M(F[1],F[1])),A(M(F[2],F[2]),M(F[3],F[3]))),Se=x(Re,D[0]),ke=x(Re,N[0]),Me=x(Re,k[0]),Ve=x(Re,O[0]),tt=x(Re,z[0]),it=A(A(M(z[0],z[0]),M(z[1],z[1])),A(M(z[2],z[2]),M(z[3],z[3]))),Je=x(it,D[0]),Qe=x(it,N[0]),ct=x(it,k[0]),ht=x(it,O[0]),dt=x(it,F[0]),Tt=A(A(A(x(A(A(x(A(x(o(dt,tt),O[1]),A(x(o(ht,Te),-F[1]),x(o(Ve,Fe),z[1]))),k[2]),x(A(x(o(dt,tt),k[1]),A(x(o(ct,ge),-F[1]),x(o(Me,fe),z[1]))),-O[2])),A(x(A(x(o(ht,Te),k[1]),A(x(o(ct,ge),-O[1]),x(o(De,te),z[1]))),F[2]),x(A(x(o(Ve,Fe),k[1]),A(x(o(Me,fe),-O[1]),x(o(De,te),F[1]))),-z[2]))),N[3]),A(x(A(A(x(A(x(o(dt,tt),O[1]),A(x(o(ht,Te),-F[1]),x(o(Ve,Fe),z[1]))),N[2]),x(A(x(o(dt,tt),N[1]),A(x(o(Qe,oe),-F[1]),x(o(ke,Q),z[1]))),-O[2])),A(x(A(x(o(ht,Te),N[1]),A(x(o(Qe,oe),-O[1]),x(o(_e,X),z[1]))),F[2]),x(A(x(o(Ve,Fe),N[1]),A(x(o(ke,Q),-O[1]),x(o(_e,X),F[1]))),-z[2]))),-k[3]),x(A(A(x(A(x(o(dt,tt),k[1]),A(x(o(ct,ge),-F[1]),x(o(Me,fe),z[1]))),N[2]),x(A(x(o(dt,tt),N[1]),A(x(o(Qe,oe),-F[1]),x(o(ke,Q),z[1]))),-k[2])),A(x(A(x(o(ct,ge),N[1]),A(x(o(Qe,oe),-k[1]),x(o(se,ie),z[1]))),F[2]),x(A(x(o(Me,fe),N[1]),A(x(o(ke,Q),-k[1]),x(o(se,ie),F[1]))),-z[2]))),O[3]))),A(A(x(A(A(x(A(x(o(ht,Te),k[1]),A(x(o(ct,ge),-O[1]),x(o(De,te),z[1]))),N[2]),x(A(x(o(ht,Te),N[1]),A(x(o(Qe,oe),-O[1]),x(o(_e,X),z[1]))),-k[2])),A(x(A(x(o(ct,ge),N[1]),A(x(o(Qe,oe),-k[1]),x(o(se,ie),z[1]))),O[2]),x(A(x(o(De,te),N[1]),A(x(o(_e,X),-k[1]),x(o(se,ie),O[1]))),-z[2]))),-F[3]),x(A(A(x(A(x(o(Ve,Fe),k[1]),A(x(o(Me,fe),-O[1]),x(o(De,te),F[1]))),N[2]),x(A(x(o(Ve,Fe),N[1]),A(x(o(ke,Q),-O[1]),x(o(_e,X),F[1]))),-k[2])),A(x(A(x(o(Me,fe),N[1]),A(x(o(ke,Q),-k[1]),x(o(se,ie),F[1]))),O[2]),x(A(x(o(De,te),N[1]),A(x(o(_e,X),-k[1]),x(o(se,ie),O[1]))),-F[2]))),z[3])),A(x(A(A(x(A(x(o(dt,tt),O[1]),A(x(o(ht,Te),-F[1]),x(o(Ve,Fe),z[1]))),N[2]),x(A(x(o(dt,tt),N[1]),A(x(o(Qe,oe),-F[1]),x(o(ke,Q),z[1]))),-O[2])),A(x(A(x(o(ht,Te),N[1]),A(x(o(Qe,oe),-O[1]),x(o(_e,X),z[1]))),F[2]),x(A(x(o(Ve,Fe),N[1]),A(x(o(ke,Q),-O[1]),x(o(_e,X),F[1]))),-z[2]))),D[3]),x(A(A(x(A(x(o(dt,tt),O[1]),A(x(o(ht,Te),-F[1]),x(o(Ve,Fe),z[1]))),D[2]),x(A(x(o(dt,tt),D[1]),A(x(o(Je,le),-F[1]),x(o(Se,ne),z[1]))),-O[2])),A(x(A(x(o(ht,Te),D[1]),A(x(o(Je,le),-O[1]),x(o(xe,re),z[1]))),F[2]),x(A(x(o(Ve,Fe),D[1]),A(x(o(Se,ne),-O[1]),x(o(xe,re),F[1]))),-z[2]))),-N[3])))),A(A(A(x(A(A(x(A(x(o(dt,tt),N[1]),A(x(o(Qe,oe),-F[1]),x(o(ke,Q),z[1]))),D[2]),x(A(x(o(dt,tt),D[1]),A(x(o(Je,le),-F[1]),x(o(Se,ne),z[1]))),-N[2])),A(x(A(x(o(Qe,oe),D[1]),A(x(o(Je,le),-N[1]),x(o(Z,W),z[1]))),F[2]),x(A(x(o(ke,Q),D[1]),A(x(o(Se,ne),-N[1]),x(o(Z,W),F[1]))),-z[2]))),O[3]),x(A(A(x(A(x(o(ht,Te),N[1]),A(x(o(Qe,oe),-O[1]),x(o(_e,X),z[1]))),D[2]),x(A(x(o(ht,Te),D[1]),A(x(o(Je,le),-O[1]),x(o(xe,re),z[1]))),-N[2])),A(x(A(x(o(Qe,oe),D[1]),A(x(o(Je,le),-N[1]),x(o(Z,W),z[1]))),O[2]),x(A(x(o(_e,X),D[1]),A(x(o(xe,re),-N[1]),x(o(Z,W),O[1]))),-z[2]))),-F[3])),A(x(A(A(x(A(x(o(Ve,Fe),N[1]),A(x(o(ke,Q),-O[1]),x(o(_e,X),F[1]))),D[2]),x(A(x(o(Ve,Fe),D[1]),A(x(o(Se,ne),-O[1]),x(o(xe,re),F[1]))),-N[2])),A(x(A(x(o(ke,Q),D[1]),A(x(o(Se,ne),-N[1]),x(o(Z,W),F[1]))),O[2]),x(A(x(o(_e,X),D[1]),A(x(o(xe,re),-N[1]),x(o(Z,W),O[1]))),-F[2]))),z[3]),x(A(A(x(A(x(o(ht,Te),k[1]),A(x(o(ct,ge),-O[1]),x(o(De,te),z[1]))),N[2]),x(A(x(o(ht,Te),N[1]),A(x(o(Qe,oe),-O[1]),x(o(_e,X),z[1]))),-k[2])),A(x(A(x(o(ct,ge),N[1]),A(x(o(Qe,oe),-k[1]),x(o(se,ie),z[1]))),O[2]),x(A(x(o(De,te),N[1]),A(x(o(_e,X),-k[1]),x(o(se,ie),O[1]))),-z[2]))),D[3]))),A(A(x(A(A(x(A(x(o(ht,Te),k[1]),A(x(o(ct,ge),-O[1]),x(o(De,te),z[1]))),D[2]),x(A(x(o(ht,Te),D[1]),A(x(o(Je,le),-O[1]),x(o(xe,re),z[1]))),-k[2])),A(x(A(x(o(ct,ge),D[1]),A(x(o(Je,le),-k[1]),x(o(Y,J),z[1]))),O[2]),x(A(x(o(De,te),D[1]),A(x(o(xe,re),-k[1]),x(o(Y,J),O[1]))),-z[2]))),-N[3]),x(A(A(x(A(x(o(ht,Te),N[1]),A(x(o(Qe,oe),-O[1]),x(o(_e,X),z[1]))),D[2]),x(A(x(o(ht,Te),D[1]),A(x(o(Je,le),-O[1]),x(o(xe,re),z[1]))),-N[2])),A(x(A(x(o(Qe,oe),D[1]),A(x(o(Je,le),-N[1]),x(o(Z,W),z[1]))),O[2]),x(A(x(o(_e,X),D[1]),A(x(o(xe,re),-N[1]),x(o(Z,W),O[1]))),-z[2]))),k[3])),A(x(A(A(x(A(x(o(ct,ge),N[1]),A(x(o(Qe,oe),-k[1]),x(o(se,ie),z[1]))),D[2]),x(A(x(o(ct,ge),D[1]),A(x(o(Je,le),-k[1]),x(o(Y,J),z[1]))),-N[2])),A(x(A(x(o(Qe,oe),D[1]),A(x(o(Je,le),-N[1]),x(o(Z,W),z[1]))),k[2]),x(A(x(o(se,ie),D[1]),A(x(o(Y,J),-N[1]),x(o(Z,W),k[1]))),-z[2]))),-O[3]),x(A(A(x(A(x(o(De,te),N[1]),A(x(o(_e,X),-k[1]),x(o(se,ie),O[1]))),D[2]),x(A(x(o(De,te),D[1]),A(x(o(xe,re),-k[1]),x(o(Y,J),O[1]))),-N[2])),A(x(A(x(o(_e,X),D[1]),A(x(o(xe,re),-N[1]),x(o(Z,W),O[1]))),k[2]),x(A(x(o(se,ie),D[1]),A(x(o(Y,J),-N[1]),x(o(Z,W),k[1]))),-O[2]))),z[3]))))),Et=A(A(A(x(A(A(x(A(x(o(dt,tt),O[1]),A(x(o(ht,Te),-F[1]),x(o(Ve,Fe),z[1]))),k[2]),x(A(x(o(dt,tt),k[1]),A(x(o(ct,ge),-F[1]),x(o(Me,fe),z[1]))),-O[2])),A(x(A(x(o(ht,Te),k[1]),A(x(o(ct,ge),-O[1]),x(o(De,te),z[1]))),F[2]),x(A(x(o(Ve,Fe),k[1]),A(x(o(Me,fe),-O[1]),x(o(De,te),F[1]))),-z[2]))),D[3]),A(x(A(A(x(A(x(o(dt,tt),O[1]),A(x(o(ht,Te),-F[1]),x(o(Ve,Fe),z[1]))),D[2]),x(A(x(o(dt,tt),D[1]),A(x(o(Je,le),-F[1]),x(o(Se,ne),z[1]))),-O[2])),A(x(A(x(o(ht,Te),D[1]),A(x(o(Je,le),-O[1]),x(o(xe,re),z[1]))),F[2]),x(A(x(o(Ve,Fe),D[1]),A(x(o(Se,ne),-O[1]),x(o(xe,re),F[1]))),-z[2]))),-k[3]),x(A(A(x(A(x(o(dt,tt),k[1]),A(x(o(ct,ge),-F[1]),x(o(Me,fe),z[1]))),D[2]),x(A(x(o(dt,tt),D[1]),A(x(o(Je,le),-F[1]),x(o(Se,ne),z[1]))),-k[2])),A(x(A(x(o(ct,ge),D[1]),A(x(o(Je,le),-k[1]),x(o(Y,J),z[1]))),F[2]),x(A(x(o(Me,fe),D[1]),A(x(o(Se,ne),-k[1]),x(o(Y,J),F[1]))),-z[2]))),O[3]))),A(A(x(A(A(x(A(x(o(ht,Te),k[1]),A(x(o(ct,ge),-O[1]),x(o(De,te),z[1]))),D[2]),x(A(x(o(ht,Te),D[1]),A(x(o(Je,le),-O[1]),x(o(xe,re),z[1]))),-k[2])),A(x(A(x(o(ct,ge),D[1]),A(x(o(Je,le),-k[1]),x(o(Y,J),z[1]))),O[2]),x(A(x(o(De,te),D[1]),A(x(o(xe,re),-k[1]),x(o(Y,J),O[1]))),-z[2]))),-F[3]),x(A(A(x(A(x(o(Ve,Fe),k[1]),A(x(o(Me,fe),-O[1]),x(o(De,te),F[1]))),D[2]),x(A(x(o(Ve,Fe),D[1]),A(x(o(Se,ne),-O[1]),x(o(xe,re),F[1]))),-k[2])),A(x(A(x(o(Me,fe),D[1]),A(x(o(Se,ne),-k[1]),x(o(Y,J),F[1]))),O[2]),x(A(x(o(De,te),D[1]),A(x(o(xe,re),-k[1]),x(o(Y,J),O[1]))),-F[2]))),z[3])),A(x(A(A(x(A(x(o(dt,tt),k[1]),A(x(o(ct,ge),-F[1]),x(o(Me,fe),z[1]))),N[2]),x(A(x(o(dt,tt),N[1]),A(x(o(Qe,oe),-F[1]),x(o(ke,Q),z[1]))),-k[2])),A(x(A(x(o(ct,ge),N[1]),A(x(o(Qe,oe),-k[1]),x(o(se,ie),z[1]))),F[2]),x(A(x(o(Me,fe),N[1]),A(x(o(ke,Q),-k[1]),x(o(se,ie),F[1]))),-z[2]))),D[3]),x(A(A(x(A(x(o(dt,tt),k[1]),A(x(o(ct,ge),-F[1]),x(o(Me,fe),z[1]))),D[2]),x(A(x(o(dt,tt),D[1]),A(x(o(Je,le),-F[1]),x(o(Se,ne),z[1]))),-k[2])),A(x(A(x(o(ct,ge),D[1]),A(x(o(Je,le),-k[1]),x(o(Y,J),z[1]))),F[2]),x(A(x(o(Me,fe),D[1]),A(x(o(Se,ne),-k[1]),x(o(Y,J),F[1]))),-z[2]))),-N[3])))),A(A(A(x(A(A(x(A(x(o(dt,tt),N[1]),A(x(o(Qe,oe),-F[1]),x(o(ke,Q),z[1]))),D[2]),x(A(x(o(dt,tt),D[1]),A(x(o(Je,le),-F[1]),x(o(Se,ne),z[1]))),-N[2])),A(x(A(x(o(Qe,oe),D[1]),A(x(o(Je,le),-N[1]),x(o(Z,W),z[1]))),F[2]),x(A(x(o(ke,Q),D[1]),A(x(o(Se,ne),-N[1]),x(o(Z,W),F[1]))),-z[2]))),k[3]),x(A(A(x(A(x(o(ct,ge),N[1]),A(x(o(Qe,oe),-k[1]),x(o(se,ie),z[1]))),D[2]),x(A(x(o(ct,ge),D[1]),A(x(o(Je,le),-k[1]),x(o(Y,J),z[1]))),-N[2])),A(x(A(x(o(Qe,oe),D[1]),A(x(o(Je,le),-N[1]),x(o(Z,W),z[1]))),k[2]),x(A(x(o(se,ie),D[1]),A(x(o(Y,J),-N[1]),x(o(Z,W),k[1]))),-z[2]))),-F[3])),A(x(A(A(x(A(x(o(Me,fe),N[1]),A(x(o(ke,Q),-k[1]),x(o(se,ie),F[1]))),D[2]),x(A(x(o(Me,fe),D[1]),A(x(o(Se,ne),-k[1]),x(o(Y,J),F[1]))),-N[2])),A(x(A(x(o(ke,Q),D[1]),A(x(o(Se,ne),-N[1]),x(o(Z,W),F[1]))),k[2]),x(A(x(o(se,ie),D[1]),A(x(o(Y,J),-N[1]),x(o(Z,W),k[1]))),-F[2]))),z[3]),x(A(A(x(A(x(o(Ve,Fe),k[1]),A(x(o(Me,fe),-O[1]),x(o(De,te),F[1]))),N[2]),x(A(x(o(Ve,Fe),N[1]),A(x(o(ke,Q),-O[1]),x(o(_e,X),F[1]))),-k[2])),A(x(A(x(o(Me,fe),N[1]),A(x(o(ke,Q),-k[1]),x(o(se,ie),F[1]))),O[2]),x(A(x(o(De,te),N[1]),A(x(o(_e,X),-k[1]),x(o(se,ie),O[1]))),-F[2]))),D[3]))),A(A(x(A(A(x(A(x(o(Ve,Fe),k[1]),A(x(o(Me,fe),-O[1]),x(o(De,te),F[1]))),D[2]),x(A(x(o(Ve,Fe),D[1]),A(x(o(Se,ne),-O[1]),x(o(xe,re),F[1]))),-k[2])),A(x(A(x(o(Me,fe),D[1]),A(x(o(Se,ne),-k[1]),x(o(Y,J),F[1]))),O[2]),x(A(x(o(De,te),D[1]),A(x(o(xe,re),-k[1]),x(o(Y,J),O[1]))),-F[2]))),-N[3]),x(A(A(x(A(x(o(Ve,Fe),N[1]),A(x(o(ke,Q),-O[1]),x(o(_e,X),F[1]))),D[2]),x(A(x(o(Ve,Fe),D[1]),A(x(o(Se,ne),-O[1]),x(o(xe,re),F[1]))),-N[2])),A(x(A(x(o(ke,Q),D[1]),A(x(o(Se,ne),-N[1]),x(o(Z,W),F[1]))),O[2]),x(A(x(o(_e,X),D[1]),A(x(o(xe,re),-N[1]),x(o(Z,W),O[1]))),-F[2]))),k[3])),A(x(A(A(x(A(x(o(Me,fe),N[1]),A(x(o(ke,Q),-k[1]),x(o(se,ie),F[1]))),D[2]),x(A(x(o(Me,fe),D[1]),A(x(o(Se,ne),-k[1]),x(o(Y,J),F[1]))),-N[2])),A(x(A(x(o(ke,Q),D[1]),A(x(o(Se,ne),-N[1]),x(o(Z,W),F[1]))),k[2]),x(A(x(o(se,ie),D[1]),A(x(o(Y,J),-N[1]),x(o(Z,W),k[1]))),-F[2]))),-O[3]),x(A(A(x(A(x(o(De,te),N[1]),A(x(o(_e,X),-k[1]),x(o(se,ie),O[1]))),D[2]),x(A(x(o(De,te),D[1]),A(x(o(xe,re),-k[1]),x(o(Y,J),O[1]))),-N[2])),A(x(A(x(o(_e,X),D[1]),A(x(o(xe,re),-N[1]),x(o(Z,W),O[1]))),k[2]),x(A(x(o(se,ie),D[1]),A(x(o(Y,J),-N[1]),x(o(Z,W),k[1]))),-O[2]))),F[3]))))),rt=o(Tt,Et);return rt[rt.length-1]}return I}var w=[g,h,T];function C(A){var o=w[A.length];return o||(o=w[A.length]=l(A.length)),o.apply(void 0,A)}function y(A,o,M,x,I,D,N,k){function O(F,z,B,W,J,re){switch(arguments.length){case 0:case 1:return 0;case 2:return x(F,z);case 3:return I(F,z,B);case 4:return D(F,z,B,W);case 5:return N(F,z,B,W,J);case 6:return k(F,z,B,W,J,re)}for(var ne=new Array(arguments.length),le=0;le<arguments.length;++le)ne[le]=arguments[le];return A(ne)}return O}function E(){for(;w.length<=u;)w.push(l(w.length));v.exports=y.apply(void 0,[C].concat(w));for(var A=0;A<=u;++A)v.exports[A]=w[A]}E()},727:function(v,p,r){var t=r(2962),a=6;function n(w){var C=w===2?l:w===3?g:w===4?h:w===5?T:c;return w<6?C(t[w]):C(t)}function f(){return[[0]]}function u(w,C){return[[C[0]],[w[0][0]]]}function l(w){return function(y,E){return[w([[+E[0],+y[0][1]],[+E[1],+y[1][1]]]),w([[+y[0][0],+E[0]],[+y[1][0],+E[1]]]),w(y)]}}function g(w){return function(y,E){return[w([[+E[0],+y[0][1],+y[0][2]],[+E[1],+y[1][1],+y[1][2]],[+E[2],+y[2][1],+y[2][2]]]),w([[+y[0][0],+E[0],+y[0][2]],[+y[1][0],+E[1],+y[1][2]],[+y[2][0],+E[2],+y[2][2]]]),w([[+y[0][0],+y[0][1],+E[0]],[+y[1][0],+y[1][1],+E[1]],[+y[2][0],+y[2][1],+E[2]]]),w(y)]}}function h(w){return function(y,E){return[w([[+E[0],+y[0][1],+y[0][2],+y[0][3]],[+E[1],+y[1][1],+y[1][2],+y[1][3]],[+E[2],+y[2][1],+y[2][2],+y[2][3]],[+E[3],+y[3][1],+y[3][2],+y[3][3]]]),w([[+y[0][0],+E[0],+y[0][2],+y[0][3]],[+y[1][0],+E[1],+y[1][2],+y[1][3]],[+y[2][0],+E[2],+y[2][2],+y[2][3]],[+y[3][0],+E[3],+y[3][2],+y[3][3]]]),w([[+y[0][0],+y[0][1],+E[0],+y[0][3]],[+y[1][0],+y[1][1],+E[1],+y[1][3]],[+y[2][0],+y[2][1],+E[2],+y[2][3]],[+y[3][0],+y[3][1],+E[3],+y[3][3]]]),w([[+y[0][0],+y[0][1],+y[0][2],+E[0]],[+y[1][0],+y[1][1],+y[1][2],+E[1]],[+y[2][0],+y[2][1],+y[2][2],+E[2]],[+y[3][0],+y[3][1],+y[3][2],+E[3]]]),w(y)]}}function T(w){return function(y,E){return[w([[+E[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+E[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+E[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+E[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+E[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+E[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+E[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+E[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+E[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+E[4],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+E[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+E[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+E[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+E[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+E[4],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+E[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+E[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+E[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+E[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+E[4],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+E[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+E[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+E[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+E[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+E[4]]]),w(y)]}}function c(w){return function(y,E){return[w([[+E[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+E[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+E[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+E[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+E[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+E[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+E[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+E[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+E[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+E[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+E[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+E[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+E[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+E[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+E[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+E[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+E[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+E[5],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+E[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+E[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+E[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+E[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+E[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+E[5],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+E[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+E[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+E[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+E[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+E[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+E[5],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+E[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+E[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+E[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+E[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+E[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+E[5]]]),w(y)]}}var i=[f,u];function d(w,C,y,E,A,o,M,x){return function(D,N){switch(D.length){case 0:return w(D,N);case 1:return C(D,N);case 2:return y(D,N);case 3:return E(D,N);case 4:return A(D,N);case 5:return o(D,N)}var k=M[D.length];return k||(k=M[D.length]=x(D.length)),k(D,N)}}function b(){for(;i.length<a;)i.push(n(i.length));v.exports=d.apply(void 0,i.concat([i,n]));for(var w=0;w<a;++w)v.exports[w]=i[w]}b()},3250:function(v,p,r){var t=r(5250),a=r(8210),n=r(3012),f=r(8545),u=5,l=11102230246251565e-32,g=(3+16*l)*l,h=(7+56*l)*l;function T(o,M,x,I){return function(N,k,O){var F=o(o(M(k[1],O[0]),M(-O[1],k[0])),o(M(N[1],k[0]),M(-k[1],N[0]))),z=o(M(N[1],O[0]),M(-O[1],N[0])),B=I(F,z);return B[B.length-1]}}function c(o,M,x,I){return function(N,k,O,F){var z=o(o(x(o(M(O[1],F[0]),M(-F[1],O[0])),k[2]),o(x(o(M(k[1],F[0]),M(-F[1],k[0])),-O[2]),x(o(M(k[1],O[0]),M(-O[1],k[0])),F[2]))),o(x(o(M(k[1],F[0]),M(-F[1],k[0])),N[2]),o(x(o(M(N[1],F[0]),M(-F[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),F[2])))),B=o(o(x(o(M(O[1],F[0]),M(-F[1],O[0])),N[2]),o(x(o(M(N[1],F[0]),M(-F[1],N[0])),-O[2]),x(o(M(N[1],O[0]),M(-O[1],N[0])),F[2]))),o(x(o(M(k[1],O[0]),M(-O[1],k[0])),N[2]),o(x(o(M(N[1],O[0]),M(-O[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),O[2])))),W=I(z,B);return W[W.length-1]}}function i(o,M,x,I){return function(N,k,O,F,z){var B=o(o(o(x(o(x(o(M(F[1],z[0]),M(-z[1],F[0])),O[2]),o(x(o(M(O[1],z[0]),M(-z[1],O[0])),-F[2]),x(o(M(O[1],F[0]),M(-F[1],O[0])),z[2]))),k[3]),o(x(o(x(o(M(F[1],z[0]),M(-z[1],F[0])),k[2]),o(x(o(M(k[1],z[0]),M(-z[1],k[0])),-F[2]),x(o(M(k[1],F[0]),M(-F[1],k[0])),z[2]))),-O[3]),x(o(x(o(M(O[1],z[0]),M(-z[1],O[0])),k[2]),o(x(o(M(k[1],z[0]),M(-z[1],k[0])),-O[2]),x(o(M(k[1],O[0]),M(-O[1],k[0])),z[2]))),F[3]))),o(x(o(x(o(M(O[1],F[0]),M(-F[1],O[0])),k[2]),o(x(o(M(k[1],F[0]),M(-F[1],k[0])),-O[2]),x(o(M(k[1],O[0]),M(-O[1],k[0])),F[2]))),-z[3]),o(x(o(x(o(M(F[1],z[0]),M(-z[1],F[0])),k[2]),o(x(o(M(k[1],z[0]),M(-z[1],k[0])),-F[2]),x(o(M(k[1],F[0]),M(-F[1],k[0])),z[2]))),N[3]),x(o(x(o(M(F[1],z[0]),M(-z[1],F[0])),N[2]),o(x(o(M(N[1],z[0]),M(-z[1],N[0])),-F[2]),x(o(M(N[1],F[0]),M(-F[1],N[0])),z[2]))),-k[3])))),o(o(x(o(x(o(M(k[1],z[0]),M(-z[1],k[0])),N[2]),o(x(o(M(N[1],z[0]),M(-z[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),z[2]))),F[3]),o(x(o(x(o(M(k[1],F[0]),M(-F[1],k[0])),N[2]),o(x(o(M(N[1],F[0]),M(-F[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),F[2]))),-z[3]),x(o(x(o(M(O[1],F[0]),M(-F[1],O[0])),k[2]),o(x(o(M(k[1],F[0]),M(-F[1],k[0])),-O[2]),x(o(M(k[1],O[0]),M(-O[1],k[0])),F[2]))),N[3]))),o(x(o(x(o(M(O[1],F[0]),M(-F[1],O[0])),N[2]),o(x(o(M(N[1],F[0]),M(-F[1],N[0])),-O[2]),x(o(M(N[1],O[0]),M(-O[1],N[0])),F[2]))),-k[3]),o(x(o(x(o(M(k[1],F[0]),M(-F[1],k[0])),N[2]),o(x(o(M(N[1],F[0]),M(-F[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),F[2]))),O[3]),x(o(x(o(M(k[1],O[0]),M(-O[1],k[0])),N[2]),o(x(o(M(N[1],O[0]),M(-O[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),O[2]))),-F[3]))))),W=o(o(o(x(o(x(o(M(F[1],z[0]),M(-z[1],F[0])),O[2]),o(x(o(M(O[1],z[0]),M(-z[1],O[0])),-F[2]),x(o(M(O[1],F[0]),M(-F[1],O[0])),z[2]))),N[3]),x(o(x(o(M(F[1],z[0]),M(-z[1],F[0])),N[2]),o(x(o(M(N[1],z[0]),M(-z[1],N[0])),-F[2]),x(o(M(N[1],F[0]),M(-F[1],N[0])),z[2]))),-O[3])),o(x(o(x(o(M(O[1],z[0]),M(-z[1],O[0])),N[2]),o(x(o(M(N[1],z[0]),M(-z[1],N[0])),-O[2]),x(o(M(N[1],O[0]),M(-O[1],N[0])),z[2]))),F[3]),x(o(x(o(M(O[1],F[0]),M(-F[1],O[0])),N[2]),o(x(o(M(N[1],F[0]),M(-F[1],N[0])),-O[2]),x(o(M(N[1],O[0]),M(-O[1],N[0])),F[2]))),-z[3]))),o(o(x(o(x(o(M(O[1],z[0]),M(-z[1],O[0])),k[2]),o(x(o(M(k[1],z[0]),M(-z[1],k[0])),-O[2]),x(o(M(k[1],O[0]),M(-O[1],k[0])),z[2]))),N[3]),x(o(x(o(M(O[1],z[0]),M(-z[1],O[0])),N[2]),o(x(o(M(N[1],z[0]),M(-z[1],N[0])),-O[2]),x(o(M(N[1],O[0]),M(-O[1],N[0])),z[2]))),-k[3])),o(x(o(x(o(M(k[1],z[0]),M(-z[1],k[0])),N[2]),o(x(o(M(N[1],z[0]),M(-z[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),z[2]))),O[3]),x(o(x(o(M(k[1],O[0]),M(-O[1],k[0])),N[2]),o(x(o(M(N[1],O[0]),M(-O[1],N[0])),-k[2]),x(o(M(N[1],k[0]),M(-k[1],N[0])),O[2]))),-z[3])))),J=I(B,W);return J[J.length-1]}}function d(o){var M=o===3?T:o===4?c:i;return M(a,t,n,f)}var b=d(3),w=d(4),C=[function(){return 0},function(){return 0},function(M,x){return x[0]-M[0]},function(M,x,I){var D=(M[1]-I[1])*(x[0]-I[0]),N=(M[0]-I[0])*(x[1]-I[1]),k=D-N,O;if(D>0){if(N<=0)return k;O=D+N}else if(D<0){if(N>=0)return k;O=-(D+N)}else return k;var F=g*O;return k>=F||k<=-F?k:b(M,x,I)},function(M,x,I,D){var N=M[0]-D[0],k=x[0]-D[0],O=I[0]-D[0],F=M[1]-D[1],z=x[1]-D[1],B=I[1]-D[1],W=M[2]-D[2],J=x[2]-D[2],re=I[2]-D[2],ne=k*B,le=O*z,$=O*F,Z=N*B,ie=N*z,X=k*F,Q=W*(ne-le)+J*($-Z)+re*(ie-X),oe=(Math.abs(ne)+Math.abs(le))*Math.abs(W)+(Math.abs($)+Math.abs(Z))*Math.abs(J)+(Math.abs(ie)+Math.abs(X))*Math.abs(re),j=h*oe;return Q>j||-Q>j?Q:w(M,x,I,D)}];function y(o){var M=C[o.length];return M||(M=C[o.length]=d(o.length)),M.apply(void 0,o)}function E(o,M,x,I,D,N,k){return function(F,z,B,W,J){switch(arguments.length){case 0:case 1:return 0;case 2:return I(F,z);case 3:return D(F,z,B);case 4:return N(F,z,B,W);case 5:return k(F,z,B,W,J)}for(var re=new Array(arguments.length),ne=0;ne<arguments.length;++ne)re[ne]=arguments[ne];return o(re)}}function A(){for(;C.length<=u;)C.push(d(C.length));v.exports=E.apply(void 0,[y].concat(C));for(var o=0;o<=u;++o)v.exports[o]=C[o]}A()},5382:function(v,p,r){var t=r(8210),a=r(3012);v.exports=n;function n(f,u){if(f.length===1)return a(u,f[0]);if(u.length===1)return a(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var g=0;g<f.length;++g)l=t(l,a(u,f[g]));else for(var g=0;g<u.length;++g)l=t(l,a(f,u[g]));return l}},3012:function(v,p,r){var t=r(5250),a=r(9362);v.exports=n;function n(f,u){var l=f.length;if(l===1){var g=t(f[0],u);return g[0]?g:[g[1]]}var h=new Array(2*l),T=[.1,.1],c=[.1,.1],i=0;t(f[0],u,T),T[0]&&(h[i++]=T[0]);for(var d=1;d<l;++d){t(f[d],u,c);var b=T[1];a(b,c[0],T),T[0]&&(h[i++]=T[0]);var w=c[1],C=T[1],y=w+C,E=y-w,A=C-E;T[1]=y,A&&(h[i++]=A)}return T[1]&&(h[i++]=T[1]),i===0&&(h[i++]=0),h.length=i,h}},1125:function(v,p,r){v.exports=n;var t=r(3250)[3];function a(f,u,l,g){for(var h=0;h<2;++h){var T=f[h],c=u[h],i=Math.min(T,c),d=Math.max(T,c),b=l[h],w=g[h],C=Math.min(b,w),y=Math.max(b,w);if(y<i||d<C)return!1}return!0}function n(f,u,l,g){var h=t(f,l,g),T=t(u,l,g);if(h>0&&T>0||h<0&&T<0)return!1;var c=t(l,f,u),i=t(g,f,u);return c>0&&i>0||c<0&&i<0?!1:h===0&&T===0&&c===0&&i===0?a(f,u,l,g):!0}},8545:function(v){v.exports=r;function p(t,a){var n=t+a,f=n-t,u=n-f,l=a-f,g=t-u,h=g+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return p(t[0],-a[0]);var u=n+f,l=new Array(u),g=0,h=0,T=0,c=Math.abs,i=t[h],d=c(i),b=-a[T],w=c(b),C,y;d<w?(y=i,h+=1,h<n&&(i=t[h],d=c(i))):(y=b,T+=1,T<f&&(b=-a[T],w=c(b))),h<n&&d<w||T>=f?(C=i,h+=1,h<n&&(i=t[h],d=c(i))):(C=b,T+=1,T<f&&(b=-a[T],w=c(b)));for(var E=C+y,A=E-C,o=y-A,M=o,x=E,I,D,N,k,O;h<n&&T<f;)d<w?(C=i,h+=1,h<n&&(i=t[h],d=c(i))):(C=b,T+=1,T<f&&(b=-a[T],w=c(b))),y=M,E=C+y,A=E-C,o=y-A,o&&(l[g++]=o),I=x+E,D=I-x,N=I-D,k=E-D,O=x-N,M=O+k,x=I;for(;h<n;)C=i,y=M,E=C+y,A=E-C,o=y-A,o&&(l[g++]=o),I=x+E,D=I-x,N=I-D,k=E-D,O=x-N,M=O+k,x=I,h+=1,h<n&&(i=t[h]);for(;T<f;)C=b,y=M,E=C+y,A=E-C,o=y-A,o&&(l[g++]=o),I=x+E,D=I-x,N=I-D,k=E-D,O=x-N,M=O+k,x=I,T+=1,T<f&&(b=-a[T]);return M&&(l[g++]=M),x&&(l[g++]=x),g||(l[g++]=0),l.length=g,l}},8210:function(v){v.exports=r;function p(t,a){var n=t+a,f=n-t,u=n-f,l=a-f,g=t-u,h=g+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return p(t[0],a[0]);var u=n+f,l=new Array(u),g=0,h=0,T=0,c=Math.abs,i=t[h],d=c(i),b=a[T],w=c(b),C,y;d<w?(y=i,h+=1,h<n&&(i=t[h],d=c(i))):(y=b,T+=1,T<f&&(b=a[T],w=c(b))),h<n&&d<w||T>=f?(C=i,h+=1,h<n&&(i=t[h],d=c(i))):(C=b,T+=1,T<f&&(b=a[T],w=c(b)));for(var E=C+y,A=E-C,o=y-A,M=o,x=E,I,D,N,k,O;h<n&&T<f;)d<w?(C=i,h+=1,h<n&&(i=t[h],d=c(i))):(C=b,T+=1,T<f&&(b=a[T],w=c(b))),y=M,E=C+y,A=E-C,o=y-A,o&&(l[g++]=o),I=x+E,D=I-x,N=I-D,k=E-D,O=x-N,M=O+k,x=I;for(;h<n;)C=i,y=M,E=C+y,A=E-C,o=y-A,o&&(l[g++]=o),I=x+E,D=I-x,N=I-D,k=E-D,O=x-N,M=O+k,x=I,h+=1,h<n&&(i=t[h]);for(;T<f;)C=b,y=M,E=C+y,A=E-C,o=y-A,o&&(l[g++]=o),I=x+E,D=I-x,N=I-D,k=E-D,O=x-N,M=O+k,x=I,T+=1,T<f&&(b=a[T]);return M&&(l[g++]=M),x&&(l[g++]=x),g||(l[g++]=0),l.length=g,l}},9127:function(v,p,r){v.exports=n;var t=r(6204),a=r(5771);function n(f){return a(t(f))}},7765:function(v,p,r){v.exports=i;var t=r(9618),a=r(1888),n=r(446),f=r(1570);function u(d){for(var b=d.length,w=0,C=0;C<b;++C)w=Math.max(w,d[C].length)|0;return w-1}function l(d,b){for(var w=d.length,C=a.mallocUint8(w),y=0;y<w;++y)C[y]=d[y]<b|0;return C}function g(d,b){for(var w=d.length,C=b*(b+1)/2*w|0,y=a.mallocUint32(C*2),E=0,A=0;A<w;++A)for(var o=d[A],b=o.length,M=0;M<b;++M)for(var x=0;x<M;++x){var I=o[x],D=o[M];y[E++]=Math.min(I,D)|0,y[E++]=Math.max(I,D)|0}var N=E/2|0;n(t(y,[N,2]));for(var k=2,A=2;A<E;A+=2)y[A-2]===y[A]&&y[A-1]===y[A+1]||(y[k++]=y[A],y[k++]=y[A+1]);return t(y,[k/2|0,2])}function h(d,b,w,C){for(var y=d.data,E=d.shape[0],A=a.mallocDouble(E),o=0,M=0;M<E;++M){var x=y[2*M],I=y[2*M+1];if(w[x]!==w[I]){var D=b[x],N=b[I];y[2*o]=x,y[2*o+1]=I,A[o++]=(N-C)/(N-D)}}return d.shape[0]=o,t(A,[o])}function T(d,b){var w=a.mallocInt32(b*2),C=d.shape[0],y=d.data;w[0]=0;for(var E=0,A=0;A<C;++A){var o=y[2*A];if(o!==E){for(w[2*E+1]=A;++E<o;)w[2*E]=A,w[2*E+1]=A;w[2*E]=A}}for(w[2*E+1]=C;++E<b;)w[2*E]=w[2*E+1]=C;return w}function c(d){for(var b=d.shape[0]|0,w=d.data,C=new Array(b),y=0;y<b;++y)C[y]=[w[2*y],w[2*y+1]];return C}function i(d,b,w,C){w=w||0,typeof C>"u"&&(C=u(d));var y=d.length;if(y===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=l(b,+w),A=g(d,C),o=h(A,b,E,+w),M=T(A,b.length|0),x=f(C)(d,A.data,M,E),I=c(A),D=[].slice.call(o.data,0,o.shape[0]);return a.free(E),a.free(A.data),a.free(o.data),a.free(M),{cells:x,vertexIds:I,vertexWeights:D}}},1570:function(v){v.exports=r;var p=[function(){function a(n,f,u,l){for(var g=n.length,h=[],T=0;T<g;++T){var c=n[T];c.length}return h}return a},function(){function a(f,u,l,g){for(var h=Math.min(l,g)|0,T=Math.max(l,g)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,b=u[2*d+1];if(b===T)return d;T<b?i=d:c=d+1}return c}function n(f,u,l,g){for(var h=f.length,T=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===2){var b=(g[i[0]]<<0)+(g[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:T.push([a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0])]);break}}}return T}return n},function(){function a(f,u,l,g){for(var h=Math.min(l,g)|0,T=Math.max(l,g)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,b=u[2*d+1];if(b===T)return d;T<b?i=d:c=d+1}return c}function n(f,u,l,g){for(var h=f.length,T=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===3){var b=(g[i[0]]<<0)+(g[i[1]]<<1)+(g[i[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:T.push([a(l,u,i[0],i[2]),a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0]),a(l,u,i[1],i[2])]);break;case 3:T.push([a(l,u,i[0],i[2]),a(l,u,i[1],i[2])]);break;case 4:T.push([a(l,u,i[2],i[1]),a(l,u,i[2],i[0])]);break;case 5:T.push([a(l,u,i[2],i[1]),a(l,u,i[0],i[1])]);break;case 6:T.push([a(l,u,i[1],i[0]),a(l,u,i[2],i[0])]);break}}else if(d===2){var b=(g[i[0]]<<0)+(g[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:T.push([a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0])]);break}}}return T}return n},function(){function a(f,u,l,g){for(var h=Math.min(l,g)|0,T=Math.max(l,g)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,b=u[2*d+1];if(b===T)return d;T<b?i=d:c=d+1}return c}function n(f,u,l,g){for(var h=f.length,T=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===4){var b=(g[i[0]]<<0)+(g[i[1]]<<1)+(g[i[2]]<<2)+(g[i[3]]<<3);if(b===0||b===15)continue;switch(b){case 0:break;case 1:T.push([a(l,u,i[0],i[1]),a(l,u,i[0],i[2]),a(l,u,i[0],i[3])]);break;case 2:T.push([a(l,u,i[1],i[2]),a(l,u,i[1],i[0]),a(l,u,i[1],i[3])]);break;case 3:T.push([a(l,u,i[1],i[2]),a(l,u,i[0],i[2]),a(l,u,i[0],i[3])],[a(l,u,i[1],i[3]),a(l,u,i[1],i[2]),a(l,u,i[0],i[3])]);break;case 4:T.push([a(l,u,i[2],i[0]),a(l,u,i[2],i[1]),a(l,u,i[2],i[3])]);break;case 5:T.push([a(l,u,i[0],i[1]),a(l,u,i[2],i[1]),a(l,u,i[0],i[3])],[a(l,u,i[2],i[1]),a(l,u,i[2],i[3]),a(l,u,i[0],i[3])]);break;case 6:T.push([a(l,u,i[2],i[0]),a(l,u,i[1],i[0]),a(l,u,i[1],i[3])],[a(l,u,i[2],i[3]),a(l,u,i[2],i[0]),a(l,u,i[1],i[3])]);break;case 7:T.push([a(l,u,i[0],i[3]),a(l,u,i[1],i[3]),a(l,u,i[2],i[3])]);break;case 8:T.push([a(l,u,i[3],i[1]),a(l,u,i[3],i[0]),a(l,u,i[3],i[2])]);break;case 9:T.push([a(l,u,i[3],i[1]),a(l,u,i[0],i[1]),a(l,u,i[0],i[2])],[a(l,u,i[3],i[2]),a(l,u,i[3],i[1]),a(l,u,i[0],i[2])]);break;case 10:T.push([a(l,u,i[1],i[0]),a(l,u,i[3],i[0]),a(l,u,i[1],i[2])],[a(l,u,i[3],i[0]),a(l,u,i[3],i[2]),a(l,u,i[1],i[2])]);break;case 11:T.push([a(l,u,i[1],i[2]),a(l,u,i[0],i[2]),a(l,u,i[3],i[2])]);break;case 12:T.push([a(l,u,i[3],i[0]),a(l,u,i[2],i[0]),a(l,u,i[2],i[1])],[a(l,u,i[3],i[1]),a(l,u,i[3],i[0]),a(l,u,i[2],i[1])]);break;case 13:T.push([a(l,u,i[0],i[1]),a(l,u,i[2],i[1]),a(l,u,i[3],i[1])]);break;case 14:T.push([a(l,u,i[2],i[0]),a(l,u,i[1],i[0]),a(l,u,i[3],i[0])]);break}}else if(d===3){var b=(g[i[0]]<<0)+(g[i[1]]<<1)+(g[i[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:T.push([a(l,u,i[0],i[2]),a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0]),a(l,u,i[1],i[2])]);break;case 3:T.push([a(l,u,i[0],i[2]),a(l,u,i[1],i[2])]);break;case 4:T.push([a(l,u,i[2],i[1]),a(l,u,i[2],i[0])]);break;case 5:T.push([a(l,u,i[2],i[1]),a(l,u,i[0],i[1])]);break;case 6:T.push([a(l,u,i[1],i[0]),a(l,u,i[2],i[0])]);break}}else if(d===2){var b=(g[i[0]]<<0)+(g[i[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:T.push([a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0])]);break}}}return T}return n}];function r(t){return p[t]()}},6803:function(v,p,r){r(8828),r(1755);function t(a,n){var f=a.length,u=a.length-n.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:var i=a[0]+a[1]-n[0]-n[1];return i||l(a[0],a[1])-l(n[0],n[1]);case 3:var g=a[0]+a[1],h=n[0]+n[1];if(i=g+a[2]-(h+n[2]),i)return i;var T=l(a[0],a[1]),c=l(n[0],n[1]),i=l(T,a[2])-l(c,n[2]);return i||l(T+a[2],g)-l(c+n[2],h);default:var d=a.slice(0);d.sort();var b=n.slice(0);b.sort();for(var w=0;w<f;++w)if(u=d[w]-b[w],u)return u;return 0}}p.Fw=t},3105:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[f]=l<<g&255}})(a),p.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},2014:function(v,p,r){"use restrict";var t=r(3105),a=r(4623);function n(o){for(var M=0,x=Math.max,I=0,D=o.length;I<D;++I)M=x(M,o[I].length);return M-1}p.dimension=n;function f(o){for(var M=-1,x=Math.max,I=0,D=o.length;I<D;++I)for(var N=o[I],k=0,O=N.length;k<O;++k)M=x(M,N[k]);return M+1}p.countVertices=f;function u(o){for(var M=new Array(o.length),x=0,I=o.length;x<I;++x)M[x]=o[x].slice(0);return M}p.cloneCells=u;function l(o,M){var x=o.length,I=o.length-M.length,D=Math.min;if(I)return I;switch(x){case 0:return 0;case 1:return o[0]-M[0];case 2:var z=o[0]+o[1]-M[0]-M[1];return z||D(o[0],o[1])-D(M[0],M[1]);case 3:var N=o[0]+o[1],k=M[0]+M[1];if(z=N+o[2]-(k+M[2]),z)return z;var O=D(o[0],o[1]),F=D(M[0],M[1]),z=D(O,o[2])-D(F,M[2]);return z||D(O+o[2],N)-D(F+M[2],k);default:var B=o.slice(0);B.sort();var W=M.slice(0);W.sort();for(var J=0;J<x;++J)if(I=B[J]-W[J],I)return I;return 0}}p.compareCells=l;function g(o,M){return l(o[0],M[0])}function h(o,M){if(M){for(var x=o.length,I=new Array(x),D=0;D<x;++D)I[D]=[o[D],M[D]];I.sort(g);for(var D=0;D<x;++D)o[D]=I[D][0],M[D]=I[D][1];return o}else return o.sort(l),o}p.normalize=h;function T(o){if(o.length===0)return[];for(var M=1,x=o.length,I=1;I<x;++I){var D=o[I];if(l(D,o[I-1])){if(I===M){M++;continue}o[M++]=D}}return o.length=M,o}p.unique=T;function c(o,M){for(var x=0,I=o.length-1,D=-1;x<=I;){var N=x+I>>1,k=l(o[N],M);k<=0?(k===0&&(D=N),x=N+1):k>0&&(I=N-1)}return D}p.findCell=c;function i(o,M){for(var x=new Array(o.length),I=0,D=x.length;I<D;++I)x[I]=[];for(var N=[],I=0,k=M.length;I<k;++I)for(var O=M[I],F=O.length,z=1,B=1<<F;z<B;++z){N.length=t.popCount(z);for(var W=0,J=0;J<F;++J)z&1<<J&&(N[W++]=O[J]);var re=c(o,N);if(!(re<0))for(;x[re++].push(I),!(re>=o.length||l(o[re],N)!==0););}return x}p.incidence=i;function d(o,M){if(!M)return i(T(w(o,0)),o);for(var x=new Array(M),I=0;I<M;++I)x[I]=[];for(var I=0,D=o.length;I<D;++I)for(var N=o[I],k=0,O=N.length;k<O;++k)x[N[k]].push(I);return x}p.dual=d;function b(o){for(var M=[],x=0,I=o.length;x<I;++x)for(var D=o[x],N=D.length|0,k=1,O=1<<N;k<O;++k){for(var F=[],z=0;z<N;++z)k>>>z&1&&F.push(D[z]);M.push(F)}return h(M)}p.explode=b;function w(o,M){if(M<0)return[];for(var x=[],I=(1<<M+1)-1,D=0;D<o.length;++D)for(var N=o[D],k=I;k<1<<N.length;k=t.nextCombination(k)){for(var O=new Array(M+1),F=0,z=0;z<N.length;++z)k&1<<z&&(O[F++]=N[z]);x.push(O)}return h(x)}p.skeleton=w;function C(o){for(var M=[],x=0,I=o.length;x<I;++x)for(var D=o[x],N=0,k=D.length;N<k;++N){for(var O=new Array(D.length-1),F=0,z=0;F<k;++F)F!==N&&(O[z++]=D[F]);M.push(O)}return h(M)}p.boundary=C;function y(o,M){for(var x=new a(M),I=0;I<o.length;++I)for(var D=o[I],N=0;N<D.length;++N)for(var k=N+1;k<D.length;++k)x.link(D[N],D[k]);for(var O=[],F=x.ranks,I=0;I<F.length;++I)F[I]=-1;for(var I=0;I<o.length;++I){var z=x.find(o[I][0]);F[z]<0?(F[z]=O.length,O.push([o[I].slice(0)])):O[F[z]].push(o[I].slice(0))}return O}function E(o){for(var M=T(h(w(o,0))),x=new a(M.length),I=0;I<o.length;++I)for(var D=o[I],N=0;N<D.length;++N)for(var k=c(M,[D[N]]),O=N+1;O<D.length;++O)x.link(k,c(M,[D[O]]));for(var F=[],z=x.ranks,I=0;I<z.length;++I)z[I]=-1;for(var I=0;I<o.length;++I){var B=x.find(c(M,[o[I][0]]));z[B]<0?(z[B]=F.length,F.push([o[I].slice(0)])):F[z[B]].push(o[I].slice(0))}return F}function A(o,M){return M?y(o,M):E(o)}p.connectedComponents=A},4623:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var a=t[r];t[r]=t[a],r=a}return r},p.prototype.link=function(r,t){var a=this.find(r),n=this.find(t);if(a!==n){var f=this.ranks,u=this.roots,l=f[a],g=f[n];l<g?u[a]=n:g<l?u[n]=a:(u[n]=a,++f[a])}}},5878:function(v,p,r){v.exports=f;var t=r(3250),a=r(2014);function n(u,l,g){var h=Math.abs(t(u,l,g)),T=Math.sqrt(Math.pow(l[0]-g[0],2)+Math.pow(l[1]-g[1],2));return h/T}function f(u,l,g){for(var h=l.length,T=u.length,c=new Array(h),i=new Array(h),d=new Array(h),b=new Array(h),w=0;w<h;++w)c[w]=i[w]=-1,d[w]=1/0,b[w]=!1;for(var w=0;w<T;++w){var C=u[w];if(C.length!==2)throw new Error("Input must be a graph");var y=C[1],E=C[0];i[E]!==-1?i[E]=-2:i[E]=y,c[y]!==-1?c[y]=-2:c[y]=E}function A($){if(b[$])return 1/0;var Z=c[$],ie=i[$];return Z<0||ie<0?1/0:n(l[$],l[Z],l[ie])}function o($,Z){var ie=F[$],X=F[Z];F[$]=X,F[Z]=ie,z[ie]=Z,z[X]=$}function M($){return d[F[$]]}function x($){return $&1?$-1>>1:($>>1)-1}function I($){for(var Z=M($);;){var ie=Z,X=2*$+1,Q=2*($+1),oe=$;if(X<W){var j=M(X);j<ie&&(oe=X,ie=j)}if(Q<W){var Y=M(Q);Y<ie&&(oe=Q)}if(oe===$)return $;o($,oe),$=oe}}function D($){for(var Z=M($);$>0;){var ie=x($);if(ie>=0){var X=M(ie);if(Z<X){o($,ie),$=ie;continue}}return $}}function N(){if(W>0){var $=F[0];return o(0,W-1),W-=1,I(0),$}return-1}function k($,Z){var ie=F[$];return d[ie]===Z?$:(d[ie]=-1/0,D($),N(),d[ie]=Z,W+=1,D(W-1))}function O($){if(!b[$]){b[$]=!0;var Z=c[$],ie=i[$];c[ie]>=0&&(c[ie]=Z),i[Z]>=0&&(i[Z]=ie),z[Z]>=0&&k(z[Z],A(Z)),z[ie]>=0&&k(z[ie],A(ie))}}for(var F=[],z=new Array(h),w=0;w<h;++w){var B=d[w]=A(w);B<1/0?(z[w]=F.length,F.push(w)):z[w]=-1}for(var W=F.length,w=W>>1;w>=0;--w)I(w);for(;;){var J=N();if(J<0||d[J]>g)break;O(J)}for(var re=[],w=0;w<h;++w)b[w]||(z[w]=re.length,re.push(l[w].slice()));re.length;function ne($,Z){if($[Z]<0)return Z;var ie=Z,X=Z;do{var Q=$[X];if(!b[X]||Q<0||Q===X||(X=Q,Q=$[X],!b[X]||Q<0||Q===X))break;X=Q,ie=$[ie]}while(ie!==X);for(var oe=Z;oe!==X;oe=$[oe])$[oe]=X;return X}var le=[];return u.forEach(function($){var Z=ne(c,$[0]),ie=ne(i,$[1]);if(Z>=0&&ie>=0&&Z!==ie){var X=z[Z],Q=z[ie];X!==Q&&le.push([X,Q])}}),a.unique(a.normalize(le)),{positions:re,edges:le}}},1303:function(v,p,r){v.exports=n;var t=r(3250);function a(f,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else{var h=Math.min(f[0][1],f[1][1]),T=Math.max(f[0][1],f[1][1]),c=Math.min(u[0][1],u[1][1]),i=Math.max(u[0][1],u[1][1]);return T<c?T-c:h>i?h-i:T-i}var d,b;f[0][1]<f[1][1]?(d=f[0],b=f[1]):(d=f[1],b=f[0]);var w=t(g,l,d);return w||(w=t(g,l,b),w)?w:b-g}function n(f,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else return a(u,f);var h,T;if(f[0][0]<f[1][0])h=f[0],T=f[1];else if(f[0][0]>f[1][0])h=f[1],T=f[0];else return-a(f,u);var c=t(l,g,T),i=t(l,g,h);if(c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;if(c=t(T,h,g),i=t(T,h,l),c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;return g[0]-T[0]}},4209:function(v,p,r){v.exports=i;var t=r(2478),a=r(3840),n=r(3250),f=r(1303);function u(d,b,w){this.slabs=d,this.coordinates=b,this.horizontal=w}var l=u.prototype;function g(d,b){return d.y-b}function h(d,b){for(var w=null;d;){var C=d.key,y,E;C[0][0]<C[1][0]?(y=C[0],E=C[1]):(y=C[1],E=C[0]);var A=n(y,E,b);if(A<0)d=d.left;else if(A>0)if(b[0]!==C[1][0])w=d,d=d.right;else{var o=h(d.right,b);if(o)return o;d=d.left}else{if(b[0]!==C[1][0])return d;var o=h(d.right,b);if(o)return o;d=d.left}}return w}l.castUp=function(d){var b=t.le(this.coordinates,d[0]);if(b<0)return-1;this.slabs[b];var w=h(this.slabs[b],d),C=-1;if(w&&(C=w.value),this.coordinates[b]===d[0]){var y=null;if(w&&(y=w.key),b>0){var E=h(this.slabs[b-1],d);E&&(y?f(E.key,y)>0&&(y=E.key,C=E.value):(C=E.value,y=E.key))}var A=this.horizontal[b];if(A.length>0){var o=t.ge(A,d[1],g);if(o<A.length){var M=A[o];if(d[1]===M.y){if(M.closed)return M.index;for(;o<A.length-1&&A[o+1].y===d[1];)if(o=o+1,M=A[o],M.closed)return M.index;if(M.y===d[1]&&!M.start){if(o=o+1,o>=A.length)return C;M=A[o]}}if(M.start)if(y){var x=n(y[0],y[1],[d[0],M.y]);y[0][0]>y[1][0]&&(x=-x),x>0&&(C=M.index)}else C=M.index;else M.y!==d[1]&&(C=M.index)}}}return C};function T(d,b,w,C){this.y=d,this.index=b,this.start=w,this.closed=C}function c(d,b,w,C){this.x=d,this.segment=b,this.create=w,this.index=C}function i(d){for(var b=d.length,w=2*b,C=new Array(w),y=0;y<b;++y){var E=d[y],A=E[0][0]<E[1][0];C[2*y]=new c(E[0][0],E,A,y),C[2*y+1]=new c(E[1][0],E,!A,y)}C.sort(function(O,F){var z=O.x-F.x;return z||(z=O.create-F.create,z)?z:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});for(var o=a(f),M=[],x=[],I=[],y=0;y<w;){for(var D=C[y].x,N=[];y<w;){var k=C[y];if(k.x!==D)break;y+=1,k.segment[0][0]===k.x&&k.segment[1][0]===k.x?k.create&&(k.segment[0][1]<k.segment[1][1]?(N.push(new T(k.segment[0][1],k.index,!0,!0)),N.push(new T(k.segment[1][1],k.index,!1,!1))):(N.push(new T(k.segment[1][1],k.index,!0,!1)),N.push(new T(k.segment[0][1],k.index,!1,!0)))):k.create?o=o.insert(k.segment,k.index):o=o.remove(k.segment)}M.push(o.root),x.push(D),I.push(N)}return new u(M,x,I)}},5202:function(v,p,r){var t=r(1944),a=r(8210);v.exports=u,v.exports.positive=l,v.exports.negative=g;function n(h,T){var c=a(t(h,T),[T[T.length-1]]);return c[c.length-1]}function f(h,T,c,i){var d=i-T,b=-T/d;b<0?b=0:b>1&&(b=1);for(var w=1-b,C=h.length,y=new Array(C),E=0;E<C;++E)y[E]=b*h[E]+w*c[E];return y}function u(h,T){for(var c=[],i=[],d=n(h[h.length-1],T),b=h[h.length-1],w=h[0],C=0;C<h.length;++C,b=w){w=h[C];var y=n(w,T);if(d<0&&y>0||d>0&&y<0){var E=f(b,y,w,d);c.push(E),i.push(E.slice())}y<0?i.push(w.slice()):y>0?c.push(w.slice()):(c.push(w.slice()),i.push(w.slice())),d=y}return{positive:c,negative:i}}function l(h,T){for(var c=[],i=n(h[h.length-1],T),d=h[h.length-1],b=h[0],w=0;w<h.length;++w,d=b){b=h[w];var C=n(b,T);(i<0&&C>0||i>0&&C<0)&&c.push(f(d,C,b,i)),C>=0&&c.push(b.slice()),i=C}return c}function g(h,T){for(var c=[],i=n(h[h.length-1],T),d=h[h.length-1],b=h[0],w=0;w<h.length;++w,d=b){b=h[w];var C=n(b,T);(i<0&&C>0||i>0&&C<0)&&c.push(f(d,C,b,i)),C<=0&&c.push(b.slice()),i=C}return c}},3387:function(v,p,r){var t;(function(){var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return u(g(h),arguments)}function f(h,T){return n.apply(null,[h].concat(T||[]))}function u(h,T){var c=1,i=h.length,d,b="",w,C,y,E,A,o,M,x;for(w=0;w<i;w++)if(typeof h[w]=="string")b+=h[w];else if(typeof h[w]=="object"){if(y=h[w],y.keys)for(d=T[c],C=0;C<y.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[C],y.keys[C-1]));d=d[y.keys[C]]}else y.param_no?d=T[y.param_no]:d=T[c++];if(a.not_type.test(y.type)&&a.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),a.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(a.number.test(y.type)&&(M=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}a.json.test(y.type)?b+=d:(a.number.test(y.type)&&(!M||y.sign)?(x=M?"+":"-",d=d.toString().replace(a.sign,"")):x="",A=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",o=y.width-(x+d).length,E=y.width&&o>0?A.repeat(o):"",b+=y.align?x+d+E:A==="0"?x+E+d:E+x+d)}return b}var l=Object.create(null);function g(h){if(l[h])return l[h];for(var T=h,c,i=[],d=0;T;){if((c=a.text.exec(T))!==null)i.push(c[0]);else if((c=a.modulo.exec(T))!==null)i.push("%");else if((c=a.placeholder.exec(T))!==null){if(c[2]){d|=1;var b=[],w=c[2],C=[];if((C=a.key.exec(w))!==null)for(b.push(C[1]);(w=w.substring(C[0].length))!=="";)if((C=a.key_access.exec(w))!==null)b.push(C[1]);else if((C=a.index_access.exec(w))!==null)b.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=b}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(c[0].length)}return l[h]=i}p.sprintf=n,p.vsprintf=f,typeof window<"u"&&(window.sprintf=n,window.vsprintf=f,t=(function(){return{sprintf:n,vsprintf:f}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},3711:function(v,p,r){v.exports=g;var t=r(2640),a=r(781),n={"2d":function(h,T,c){var i=h({order:T,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(b,w,C,y){return b>y|0},vertex:function(b,w,C,y,E,A,o,M,x,I,D,N,k){var O=(o<<0)+(M<<1)+(x<<2)+(I<<3)|0;if(!(O===0||O===15))switch(O){case 0:D.push([b-.5,w-.5]);break;case 1:D.push([b-.25-.25*(y+C-2*k)/(C-y),w-.25-.25*(E+C-2*k)/(C-E)]);break;case 2:D.push([b-.75-.25*(-y-C+2*k)/(y-C),w-.25-.25*(A+y-2*k)/(y-A)]);break;case 3:D.push([b-.5,w-.5-.5*(E+C+A+y-4*k)/(C-E+y-A)]);break;case 4:D.push([b-.25-.25*(A+E-2*k)/(E-A),w-.75-.25*(-E-C+2*k)/(E-C)]);break;case 5:D.push([b-.5-.5*(y+C+A+E-4*k)/(C-y+E-A),w-.5]);break;case 6:D.push([b-.5-.25*(-y-C+A+E)/(y-C+E-A),w-.5-.25*(-E-C+A+y)/(E-C+y-A)]);break;case 7:D.push([b-.75-.25*(A+E-2*k)/(E-A),w-.75-.25*(A+y-2*k)/(y-A)]);break;case 8:D.push([b-.75-.25*(-A-E+2*k)/(A-E),w-.75-.25*(-A-y+2*k)/(A-y)]);break;case 9:D.push([b-.5-.25*(y+C+-A-E)/(C-y+A-E),w-.5-.25*(E+C+-A-y)/(C-E+A-y)]);break;case 10:D.push([b-.5-.5*(-y-C+-A-E+4*k)/(y-C+A-E),w-.5]);break;case 11:D.push([b-.25-.25*(-A-E+2*k)/(A-E),w-.75-.25*(E+C-2*k)/(C-E)]);break;case 12:D.push([b-.5,w-.5-.5*(-E-C+-A-y+4*k)/(E-C+A-y)]);break;case 13:D.push([b-.75-.25*(y+C-2*k)/(C-y),w-.25-.25*(-A-y+2*k)/(A-y)]);break;case 14:D.push([b-.25-.25*(-y-C+2*k)/(y-C),w-.25-.25*(-E-C+2*k)/(E-C)]);break;case 15:D.push([b-.5,w-.5]);break}},cell:function(b,w,C,y,E,A,o,M,x){E?M.push([b,w]):M.push([w,b])}});return function(d,b){var w=[],C=[];return i(d,w,C,b),{positions:w,cells:C}}}};function f(h,T){var c=h.length+"d",i=n[c];if(i)return i(t,h,T)}function u(h,T){for(var c=a(h,T),i=c.length,d=new Array(i),b=new Array(i),w=0;w<i;++w)d[w]=[c[w]],b[w]=[w];return{positions:d,cells:b}}var l={};function g(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,d);var c=h.order.join()+"-"+h.dtype,i=l[c],d=+d||0;return i||(i=l[c]=f(h.order,h.dtype)),i(h,d)}},529:function(v,p,r){v.exports=u;var t=r(4359),a=window||m.global||{},n=a.__TEXT_CACHE||{};a.__TEXT_CACHE={};function f(l){for(var g=l.cells,h=l.positions,T=new Float32Array(g.length*6),c=0,i=0,d=0;d<g.length;++d)for(var b=g[d],w=0;w<3;++w){var C=h[b[w]];T[c++]=C[0],T[c++]=C[1]+1.4,i=Math.max(C[0],i)}return{data:T,shape:i}}function u(l,g,T){var T=T||{},c=T.fontStyle||"normal",i=T.fontWeight||"normal",d=T.fontVariant||"normal",b=[c,i,d,l].join("_"),w=n[b];w||(w=n[b]={" ":{data:new Float32Array(0),shape:.2}});var C=w[g];if(!C)if(g.length<=1||!/\d/.test(g))C=w[g]=f(t(g,{triangles:!0,font:l,fontStyle:c,fontWeight:i,fontVariant:d,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=g.split(/(\d|\s)/),E=new Array(y.length),A=0,o=0,M=0;M<y.length;++M)E[M]=u(l,y[M]),A+=E[M].data.length,o+=E[M].shape,M>0&&(o+=.02);for(var x=new Float32Array(A),I=0,D=-.5*o,M=0;M<E.length;++M){for(var N=E[M].data,k=0;k<N.length;k+=2)x[I++]=N[k]+D,x[I++]=N[k+1];D+=E[M].shape+.02}C=w[g]={data:x,shape:o}}return C}},665:function(v,p,r){var t=r(3202);v.exports=u;var a=96;function n(l,g){var h=t(getComputedStyle(l).getPropertyValue(g));return h[0]*u(h[1],l)}function f(l,g){var h=document.createElement("div");h.style["font-size"]="128"+l,g.appendChild(h);var T=n(h,"font-size")/128;return g.removeChild(h),T}function u(l,g){switch(g=g||document.body,l=(l||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),l){case"%":return g.clientHeight/100;case"ch":case"ex":return f(l,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},7261:function(v,p,r){v.exports=b;var t=r(9215),a=r(7608),n=r(6079),f=r(5911),u=r(3536),l=r(244);function g(w,C,y){return Math.sqrt(Math.pow(w,2)+Math.pow(C,2)+Math.pow(y,2))}function h(w){return Math.min(1,Math.max(-1,w))}function T(w){var C=Math.abs(w[0]),y=Math.abs(w[1]),E=Math.abs(w[2]),A=[0,0,0];C>Math.max(y,E)?A[2]=1:y>Math.max(C,E)?A[0]=1:A[1]=1;for(var o=0,M=0,x=0;x<3;++x)o+=w[x]*w[x],M+=A[x]*w[x];for(var x=0;x<3;++x)A[x]-=M/o*w[x];return u(A,A),A}function c(w,C,y,E,A,o,M,x){this.center=t(y),this.up=t(E),this.right=t(A),this.radius=t([o]),this.angle=t([M,x]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var I=0;I<16;++I)this.computedMatrix[I]=.5;this.recalcMatrix(0)}var i=c.prototype;i.setDistanceLimits=function(w,C){w>0?w=Math.log(w):w=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=C},i.getDistanceLimits=function(w){var C=this.radius.bounds[0];return w?(w[0]=Math.exp(C[0][0]),w[1]=Math.exp(C[1][0]),w):[Math.exp(C[0][0]),Math.exp(C[1][0])]},i.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var C=this.computedUp,y=this.computedRight,E=0,A=0,o=0;o<3;++o)A+=C[o]*y[o],E+=C[o]*C[o];for(var M=Math.sqrt(E),x=0,o=0;o<3;++o)y[o]-=C[o]*A/E,x+=y[o]*y[o],C[o]/=M;for(var I=Math.sqrt(x),o=0;o<3;++o)y[o]/=I;var D=this.computedToward;f(D,C,y),u(D,D);for(var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],O=this.computedAngle[1],F=Math.cos(k),z=Math.sin(k),B=Math.cos(O),W=Math.sin(O),J=this.computedCenter,re=F*B,ne=z*B,le=W,$=-F*W,Z=-z*W,ie=B,X=this.computedEye,Q=this.computedMatrix,o=0;o<3;++o){var oe=re*y[o]+ne*D[o]+le*C[o];Q[4*o+1]=$*y[o]+Z*D[o]+ie*C[o],Q[4*o+2]=oe,Q[4*o+3]=0}var j=Q[1],Y=Q[5],se=Q[9],te=Q[2],fe=Q[6],ge=Q[10],be=Y*ge-se*fe,xe=se*te-j*ge,_e=j*fe-Y*te,De=g(be,xe,_e);be/=De,xe/=De,_e/=De,Q[0]=be,Q[4]=xe,Q[8]=_e;for(var o=0;o<3;++o)X[o]=J[o]+Q[2+4*o]*N;for(var o=0;o<3;++o){for(var x=0,Fe=0;Fe<3;++Fe)x+=Q[o+4*Fe]*X[Fe];Q[12+o]=-x}Q[15]=1},i.getMatrix=function(w,C){this.recalcMatrix(w);var y=this.computedMatrix;if(C){for(var E=0;E<16;++E)C[E]=y[E];return C}return y};var d=[0,0,0];i.rotate=function(w,C,y,E){if(this.angle.move(w,C,y),E){this.recalcMatrix(w);var A=this.computedMatrix;d[0]=A[2],d[1]=A[6],d[2]=A[10];for(var o=this.computedUp,M=this.computedRight,x=this.computedToward,I=0;I<3;++I)A[4*I]=o[I],A[4*I+1]=M[I],A[4*I+2]=x[I];n(A,A,E,d);for(var I=0;I<3;++I)o[I]=A[4*I],M[I]=A[4*I+1];this.up.set(w,o[0],o[1],o[2]),this.right.set(w,M[0],M[1],M[2])}},i.pan=function(w,C,y,E){C=C||0,y=y||0,E=E||0,this.recalcMatrix(w);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var o=A[1],M=A[5],x=A[9],I=g(o,M,x);o/=I,M/=I,x/=I;var D=A[0],N=A[4],k=A[8],O=D*o+N*M+k*x;D-=o*O,N-=M*O,k-=x*O;var F=g(D,N,k);D/=F,N/=F,k/=F;var z=D*C+o*y,B=N*C+M*y,W=k*C+x*y;this.center.move(w,z,B,W);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+E),this.radius.set(w,Math.log(J))},i.translate=function(w,C,y,E){this.center.move(w,C||0,y||0,E||0)},i.setMatrix=function(w,C,y,E){var A=1;typeof y=="number"&&(A=y|0),(A<0||A>3)&&(A=1);var o=(A+2)%3;C||(this.recalcMatrix(w),C=this.computedMatrix);var M=C[A],x=C[A+4],I=C[A+8];if(E){var N=Math.abs(M),k=Math.abs(x),O=Math.abs(I),F=Math.max(N,k,O);N===F?(M=M<0?-1:1,x=I=0):O===F?(I=I<0?-1:1,M=x=0):(x=x<0?-1:1,M=I=0)}else{var D=g(M,x,I);M/=D,x/=D,I/=D}var z=C[o],B=C[o+4],W=C[o+8],J=z*M+B*x+W*I;z-=M*J,B-=x*J,W-=I*J;var re=g(z,B,W);z/=re,B/=re,W/=re;var ne=x*W-I*B,le=I*z-M*W,$=M*B-x*z,Z=g(ne,le,$);ne/=Z,le/=Z,$/=Z,this.center.jump(w,ke,Me,Ve),this.radius.idle(w),this.up.jump(w,M,x,I),this.right.jump(w,z,B,W);var ie,X;if(A===2){var Q=C[1],oe=C[5],j=C[9],Y=Q*z+oe*B+j*W,se=Q*ne+oe*le+j*$;be<0?ie=-Math.PI/2:ie=Math.PI/2,X=Math.atan2(se,Y)}else{var te=C[2],fe=C[6],ge=C[10],be=te*M+fe*x+ge*I,xe=te*z+fe*B+ge*W,_e=te*ne+fe*le+ge*$;ie=Math.asin(h(be)),X=Math.atan2(_e,xe)}this.angle.jump(w,X,ie),this.recalcMatrix(w);var De=C[2],Fe=C[6],Te=C[10],Re=this.computedMatrix;a(Re,C);var Se=Re[15],ke=Re[12]/Se,Me=Re[13]/Se,Ve=Re[14]/Se,tt=Math.exp(this.computedRadius[0]);this.center.jump(w,ke-De*tt,Me-Fe*tt,Ve-Te*tt)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},i.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},i.setDistance=function(w,C){C>0&&this.radius.set(w,Math.log(C))},i.lookAt=function(w,C,y,E){this.recalcMatrix(w),C=C||this.computedEye,y=y||this.computedCenter,E=E||this.computedUp;var A=E[0],o=E[1],M=E[2],x=g(A,o,M);if(!(x<1e-6)){A/=x,o/=x,M/=x;var I=C[0]-y[0],D=C[1]-y[1],N=C[2]-y[2],k=g(I,D,N);if(!(k<1e-6)){I/=k,D/=k,N/=k;var O=this.computedRight,F=O[0],z=O[1],B=O[2],W=A*F+o*z+M*B;F-=W*A,z-=W*o,B-=W*M;var J=g(F,z,B);if(!(J<.01&&(F=o*N-M*D,z=M*I-A*N,B=A*D-o*I,J=g(F,z,B),J<1e-6))){F/=J,z/=J,B/=J,this.up.set(w,A,o,M),this.right.set(w,F,z,B),this.center.set(w,y[0],y[1],y[2]),this.radius.set(w,Math.log(k));var re=o*B-M*z,ne=M*F-A*B,le=A*z-o*F,$=g(re,ne,le);re/=$,ne/=$,le/=$;var Z=A*I+o*D+M*N,ie=F*I+z*D+B*N,X=re*I+ne*D+le*N,Q=Math.asin(h(Z)),oe=Math.atan2(X,ie),j=this.angle._state,Y=j[j.length-1],se=j[j.length-2];Y=Y%(2*Math.PI);var te=Math.abs(Y+2*Math.PI-oe),fe=Math.abs(Y-oe),ge=Math.abs(Y-2*Math.PI-oe);te<fe&&(Y+=2*Math.PI),ge<fe&&(Y-=2*Math.PI),this.angle.jump(this.angle.lastT(),Y,se),this.angle.set(w,oe,Q)}}}};function b(w){w=w||{};var C=w.center||[0,0,0],y=w.up||[0,1,0],E=w.right||T(y),A=w.radius||1,o=w.theta||0,M=w.phi||0;if(C=[].slice.call(C,0,3),y=[].slice.call(y,0,3),u(y,y),E=[].slice.call(E,0,3),u(E,E),"eye"in w){var x=w.eye,I=[x[0]-C[0],x[1]-C[1],x[2]-C[2]];f(E,I,y),g(E[0],E[1],E[2])<1e-6?E=T(y):u(E,E),A=g(I[0],I[1],I[2]);var D=l(y,I)/A,N=l(E,I)/A;M=Math.acos(D),o=Math.acos(N)}return A=Math.log(A),new c(w.zoomMin,w.zoomMax,C,y,E,A,o,M)}},5250:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,a,n){var f=t*a,u=p*t,l=u-t,g=u-l,h=t-g,T=p*a,c=T-a,i=T-c,d=a-i,b=f-g*i,w=b-h*i,C=w-g*d,y=h*d-C;return n?(n[0]=y,n[1]=f,n):[y,f]}},9362:function(v){v.exports=p;function p(r,t,a){var n=r+t,f=n-r,u=n-f,l=t-f,g=r-u;return a?(a[0]=g+l,a[1]=n,a):[g+l,n]}},1888:function(v,p,r){var t=r(8828),a=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var f=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=a([32,0])),g.BIGUINT64||(g.BIGUINT64=a([32,0])),g.BIGINT64||(g.BIGINT64=a([32,0])),g.BUFFER||(g.BUFFER=a([32,0]));var h=g.DATA,T=g.BUFFER;p.free=function(F){if(n.isBuffer(F))T[t.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var z=F.length||F.byteLength,B=t.log2(z)|0;h[B].push(F)}};function c(O){if(O){var F=O.length||O.byteLength,z=t.log2(F);h[z].push(O)}}function i(O){c(O.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=i,p.freeArrayBuffer=c,p.freeBuffer=function(F){T[t.log2(F.length)].push(F)},p.malloc=function(F,z){if(z===void 0||z==="arraybuffer")return d(F);switch(z){case"uint8":return b(F);case"uint16":return w(F);case"uint32":return C(F);case"int8":return y(F);case"int16":return E(F);case"int32":return A(F);case"float":case"float32":return o(F);case"double":case"float64":return M(F);case"uint8_clamped":return x(F);case"bigint64":return D(F);case"biguint64":return I(F);case"buffer":return k(F);case"data":case"dataview":return N(F);default:return null}return null};function d(F){var F=t.nextPow2(F),z=t.log2(F),B=h[z];return B.length>0?B.pop():new ArrayBuffer(F)}p.mallocArrayBuffer=d;function b(O){return new Uint8Array(d(O),0,O)}p.mallocUint8=b;function w(O){return new Uint16Array(d(2*O),0,O)}p.mallocUint16=w;function C(O){return new Uint32Array(d(4*O),0,O)}p.mallocUint32=C;function y(O){return new Int8Array(d(O),0,O)}p.mallocInt8=y;function E(O){return new Int16Array(d(2*O),0,O)}p.mallocInt16=E;function A(O){return new Int32Array(d(4*O),0,O)}p.mallocInt32=A;function o(O){return new Float32Array(d(4*O),0,O)}p.mallocFloat32=p.mallocFloat=o;function M(O){return new Float64Array(d(8*O),0,O)}p.mallocFloat64=p.mallocDouble=M;function x(O){return f?new Uint8ClampedArray(d(O),0,O):b(O)}p.mallocUint8Clamped=x;function I(O){return u?new BigUint64Array(d(8*O),0,O):null}p.mallocBigUint64=I;function D(O){return l?new BigInt64Array(d(8*O),0,O):null}p.mallocBigInt64=D;function N(O){return new DataView(d(O),0,O)}p.mallocDataView=N;function k(O){O=t.nextPow2(O);var F=t.log2(O),z=T[F];return z.length>0?z.pop():new n(O)}p.mallocBuffer=k,p.clearCache=function(){for(var F=0;F<32;++F)g.UINT8[F].length=0,g.UINT16[F].length=0,g.UINT32[F].length=0,g.INT8[F].length=0,g.INT16[F].length=0,g.INT32[F].length=0,g.FLOAT[F].length=0,g.DOUBLE[F].length=0,g.BIGUINT64[F].length=0,g.BIGINT64[F].length=0,g.UINT8C[F].length=0,h[F].length=0,T[F].length=0}},1755:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var a=0;a<t;++a)this.roots[a]=a,this.ranks[a]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var a=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[a]!==t;){var f=n[a];n[a]=t,a=f}return t},r.link=function(t,a){var n=this.find(t),f=this.find(a);if(n!==f){var u=this.ranks,l=this.roots,g=u[n],h=u[f];g<h?l[n]=f:h<g?l[f]=n:(l[f]=n,++u[n])}}},1682:function(v){function p(a,n){for(var f=1,u=a.length,l=a[0],g=a[0],h=1;h<u;++h)if(g=l,l=a[h],n(l,g)){if(h===f){f++;continue}a[f++]=l}return a.length=f,a}function r(a){for(var n=1,f=a.length,u=a[0],l=a[0],g=1;g<f;++g,l=u)if(l=u,u=a[g],u!==l){if(g===n){n++;continue}a[n++]=u}return a.length=n,a}function t(a,n,f){return a.length===0?a:n?(f||a.sort(n),p(a,n)):(f||a.sort(),r(a))}v.exports=t},4359:function(v,p,r){v.exports=f;var t=r(7718),a=null,n=null;typeof document<"u"&&(a=document.createElement("canvas"),a.width=8192,a.height=1024,n=a.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||a,l.context||n,l)}},7718:function(v,p,r){v.exports=D,v.exports.processPixels=I;var t=r(3711),a=r(9618),n=r(5878),f=r(332),u=r(2538),l=r(2095),g="b",h="b|",T="i",c="i|",i="sup",d="+",b="+1",w="sub",C="-",y="-1";function E(N,k,O,F){for(var z="<"+N+">",B="</"+N+">",W=z.length,J=B.length,re=k[0]===d||k[0]===C,ne=0,le=-J;ne>-1&&(ne=O.indexOf(z,ne),!(ne===-1||(le=O.indexOf(B,ne+W),le===-1)||le<=ne));){for(var $=ne;$<le+J;++$)if($<ne+W||$>=le)F[$]=null,O=O.substr(0,$)+" "+O.substr($+1);else if(F[$]!==null){var Z=F[$].indexOf(k[0]);Z===-1?F[$]+=k:re&&(F[$]=F[$].substr(0,Z+1)+(1+parseInt(F[$][Z+1]))+F[$].substr(Z+2))}var ie=ne+W,X=O.substr(ie,le-ie),Q=X.indexOf(z);Q!==-1?ne=Q:ne=le+J}return F}function A(N,k,O){for(var F=k.textAlign||"start",z=k.textBaseline||"alphabetic",B=[1<<30,1<<30],W=[0,0],J=N.length,re=0;re<J;++re)for(var ne=N[re],le=0;le<2;++le)B[le]=Math.min(B[le],ne[le])|0,W[le]=Math.max(W[le],ne[le])|0;var $=0;switch(F){case"center":$=-.5*(B[0]+W[0]);break;case"right":case"end":$=-W[0];break;case"left":case"start":$=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var Z=0;switch(z){case"hanging":case"top":Z=-B[1];break;case"middle":Z=-.5*(B[1]+W[1]);break;case"alphabetic":case"ideographic":Z=-3*O;break;case"bottom":Z=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var ie=1/O;return"lineHeight"in k?ie*=+k.lineHeight:"width"in k?ie=k.width/(W[0]-B[0]):"height"in k&&(ie=k.height/(W[1]-B[1])),N.map(function(X){return[ie*(X[0]+$),ie*(X[1]+Z)]})}function o(N,k,O,F,z,B){O=O.replace(/\n/g,""),B.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var W="",J=[];for(Y=0;Y<O.length;++Y)J[Y]=W;B.bolds===!0&&(J=E(g,h,O,J)),B.italics===!0&&(J=E(T,c,O,J)),B.superscripts===!0&&(J=E(i,b,O,J)),B.subscripts===!0&&(J=E(w,y,O,J));var re=[],ne="";for(Y=0;Y<O.length;++Y)J[Y]!==null&&(ne+=O[Y],re.push(J[Y]));var le=ne.split(`
`),$=le.length,Z=Math.round(z*F),ie=F,X=F*2,Q=0,oe=$*Z+X;N.height<oe&&(N.height=oe),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var j,Y,se,te,fe,ge=0,be="";function xe(){if(be!==""){var Ve=k.measureText(be).width;k.fillText(be,ie+se,X+te),se+=Ve}}function _e(){return""+Math.round(fe)+"px "}function De(Ve,tt){var it=""+k.font;if(B.subscripts===!0){var Je=Ve.indexOf(C),Qe=tt.indexOf(C),ct=Je>-1?parseInt(Ve[1+Je]):0,ht=Qe>-1?parseInt(tt[1+Qe]):0;ct!==ht&&(it=it.replace(_e(),"?px "),fe*=Math.pow(.75,ht-ct),it=it.replace("?px ",_e())),te+=.25*Z*(ht-ct)}if(B.superscripts===!0){var dt=Ve.indexOf(d),Tt=tt.indexOf(d),Et=dt>-1?parseInt(Ve[1+dt]):0,rt=Tt>-1?parseInt(tt[1+Tt]):0;Et!==rt&&(it=it.replace(_e(),"?px "),fe*=Math.pow(.75,rt-Et),it=it.replace("?px ",_e())),te-=.25*Z*(rt-Et)}if(B.bolds===!0){var ze=Ve.indexOf(h)>-1,Ge=tt.indexOf(h)>-1;!ze&&Ge&&(je?it=it.replace("italic ","italic bold "):it="bold "+it),ze&&!Ge&&(it=it.replace("bold ",""))}if(B.italics===!0){var je=Ve.indexOf(c)>-1,We=tt.indexOf(c)>-1;!je&&We&&(it="italic "+it),je&&!We&&(it=it.replace("italic ",""))}k.font=it}for(j=0;j<$;++j){var Fe=le[j]+`
`;for(se=0,te=j*Z,fe=F,be="",Y=0;Y<Fe.length;++Y){var Te=Y+ge<re.length?re[Y+ge]:re[re.length-1];W===Te?be+=Fe[Y]:(xe(),be=Fe[Y],Te!==void 0&&(De(W,Te),W=Te))}xe(),ge+=Fe.length;var Re=Math.round(se+2*ie)|0;Q<Re&&(Q=Re)}var Se=Q,ke=X+Z*$,Me=a(k.getImageData(0,0,Se,ke).data,[ke,Se,4]);return Me.pick(-1,-1,0).transpose(1,0)}function M(N,k){var O=t(N,128);return k?n(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function x(N,k,O,F){var z=M(N,F),B=A(z.positions,k,O),W=z.edges,J=k.orientation==="ccw";if(f(B,W),k.polygons||k.polygon||k.polyline){for(var re=l(W,B),ne=new Array(re.length),le=0;le<re.length;++le){for(var $=re[le],Z=new Array($.length),ie=0;ie<$.length;++ie){for(var X=$[ie],Q=new Array(X.length),oe=0;oe<X.length;++oe)Q[oe]=B[X[oe]].slice();J&&Q.reverse(),Z[ie]=Q}ne[le]=Z}return ne}else return k.triangles||k.triangulate||k.triangle?{cells:u(B,W,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:W,positions:B}}function I(N,k,O){try{return x(N,k,O,!0)}catch{}try{return x(N,k,O,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function D(N,k,O,F){var z=64,B=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(z=F.size),F.lineSpacing&&F.lineSpacing>0&&(B=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(W.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(W.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(W.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(W.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(W.superscripts=!!F.styletags.superscripts)),O.font=[F.fontStyle,F.fontVariant,F.fontWeight,z+"px",F.font].filter(function(re){return re}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var J=o(k,O,N,z,B,W);return I(J,F,z)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(M){M.permitHostObjects___&&M.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var a=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new a,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,g=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),i=new Uint8Array(c);crypto.getRandomValues(i),T=h+"rand:"+Array.prototype.map.call(i,function(M){return(M%36).toString(36)}).join("")+"___"}function d(M){return!(M.substr(0,h.length)==h&&M.substr(M.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(x){return u(x).filter(d)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(x){return b(x).filter(d)}})}function w(M){if(M!==Object(M))throw new TypeError("Not an object: "+M);var x=M[T];if(x&&x.key===M)return x;if(g(M)){x={key:M};try{return l(M,T,{value:x,writable:!1,enumerable:!1,configurable:!1}),x}catch{return}}}(function(){var M=Object.freeze;l(Object,"freeze",{value:function(N){return w(N),M(N)}});var x=Object.seal;l(Object,"seal",{value:function(N){return w(N),x(N)}});var I=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return w(N),I(N)}})})();function C(M){return M.prototype=null,Object.freeze(M)}var y=!1;function E(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,o=function(){this instanceof o||E();var M=[],x=[],I=A++;function D(F,z){var B,W=w(F);return W?I in W?W[I]:z:(B=M.indexOf(F),B>=0?x[B]:z)}function N(F){var z=w(F);return z?I in z:M.indexOf(F)>=0}function k(F,z){var B,W=w(F);return W?W[I]=z:(B=M.indexOf(F),B>=0?x[B]=z:(B=M.length,x[B]=z,M[B]=F)),this}function O(F){var z=w(F),B,W;return z?I in z&&delete z[I]:(B=M.indexOf(F),B<0?!1:(W=M.length-1,M[B]=void 0,x[B]=x[W],M[B]=M[W],M.length=W,x.length=W,!0))}return Object.create(o.prototype,{get___:{value:C(D)},has___:{value:C(N)},set___:{value:C(k)},delete___:{value:C(O)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(x,I){return this.get___(x,I)},writable:!0,configurable:!0},has:{value:function(x){return this.has___(x)},writable:!0,configurable:!0},set:{value:function(x,I){return this.set___(x,I)},writable:!0,configurable:!0},delete:{value:function(x){return this.delete___(x)},writable:!0,configurable:!0}}),typeof a=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function M(){this instanceof o||E();var x=new a,I=void 0,D=!1;function N(z,B){return I?x.has(z)?x.get(z):I.get___(z,B):x.get(z,B)}function k(z){return x.has(z)||(I?I.has___(z):!1)}var O;t?O=function(z,B){return x.set(z,B),x.has(z)||(I||(I=new o),I.set(z,B)),this}:O=function(z,B){if(D)try{x.set(z,B)}catch{I||(I=new o),I.set___(z,B)}else x.set(z,B);return this};function F(z){var B=!!x.delete(z);return I&&I.delete___(z)||B}return Object.create(o.prototype,{get___:{value:C(N)},has___:{value:C(k)},set___:{value:C(O)},delete___:{value:C(F)},permitHostObjects___:{value:C(function(z){if(z===r)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}M.prototype=o.prototype,v.exports=M,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=o)})()},236:function(v,p,r){var t=r(8284);v.exports=a;function a(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(n);return u&&u.identity===n?u:t(f,n)}}},8284:function(v){v.exports=p;function p(r,t){var a={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):a},writable:!0}),a}},606:function(v,p,r){var t=r(236);v.exports=a;function a(){var n=t();return{get:function(f,u){var l=n(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return n(f).value=u,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},3349:function(v){function p(){return function(u,l,g,h,T,c){var i=u[0],d=g[0],b=[0],w=d;h|=0;var C=0,y=d;for(C=0;C<i;++C){{var E=l[h]-c,A=l[h+w]-c;E>=0!=A>=0&&T.push(b[0]+.5+.5*(E+A)/(E-A))}h+=y,++b[0]}}}function r(){return p()}var t=r;function a(u){var l={};return function(h,T,c){var i=h.dtype,d=h.order,b=[i,d.join()].join(),w=l[b];return w||(l[b]=w=u([i,d])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,T,c)}}function n(u){return a(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},781:function(v,p,r){v.exports=a;var t=r(3349);function a(n,f){var u=[];return f=+f||0,t(n.hi(n.shape[0]-1),u,f),u}},7790:function(){}},s={};function L(v){var p=s[v];if(p!==void 0)return p.exports;var r=s[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var S=L(1964);G.exports=S})()},33576:function(G,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function m(rt,ze){if(!(rt instanceof ze))throw new TypeError("Cannot call a class as a function")}function P(rt,ze){for(var Ge=0;Ge<ze.length;Ge++){var je=ze[Ge];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(rt,L(je.key),je)}}function s(rt,ze,Ge){return ze&&P(rt.prototype,ze),Object.defineProperty(rt,"prototype",{writable:!1}),rt}function L(rt){var ze=S(rt,"string");return f(ze)==="symbol"?ze:String(ze)}function S(rt,ze){if(f(rt)!=="object"||rt===null)return rt;var Ge=rt[Symbol.toPrimitive];if(Ge!==void 0){var je=Ge.call(rt,ze);if(f(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rt)}function v(rt,ze,Ge){function je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return ze=r(ze),p(rt,je()?Reflect.construct(ze,[],r(rt).constructor):ze.apply(rt,Ge))}function p(rt,ze){if(ze&&(f(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(rt)}function r(rt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},r(rt)}function t(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function a(rt,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(ze&&ze.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),ze&&n(rt,ze)}function n(rt,ze){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(je,We){return je.__proto__=We,je},n(rt,ze)}function f(rt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ze){return typeof ze}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},f(rt)}var u=e(59968),l=e(35984),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=i,H.SlowBuffer=I,H.INSPECT_MAX_BYTES=50;var h=2147483647;H.kMaxLength=h,i.TYPED_ARRAY_SUPPORT=T(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var rt=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(rt,ze),rt.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function c(rt){if(rt>h)throw new RangeError('The value "'+rt+'" is invalid for option "size"');var ze=new Uint8Array(rt);return Object.setPrototypeOf(ze,i.prototype),ze}function i(rt,ze,Ge){if(typeof rt=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(rt)}return d(rt,ze,Ge)}i.poolSize=8192;function d(rt,ze,Ge){if(typeof rt=="string")return y(rt,ze);if(ArrayBuffer.isView(rt))return A(rt);if(rt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(rt));if(ct(rt,ArrayBuffer)||rt&&ct(rt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(rt,SharedArrayBuffer)||rt&&ct(rt.buffer,SharedArrayBuffer)))return o(rt,ze,Ge);if(typeof rt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var je=rt.valueOf&&rt.valueOf();if(je!=null&&je!==rt)return i.from(je,ze,Ge);var We=M(rt);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof rt[Symbol.toPrimitive]=="function")return i.from(rt[Symbol.toPrimitive]("string"),ze,Ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(rt))}i.from=function(rt,ze,Ge){return d(rt,ze,Ge)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function b(rt){if(typeof rt!="number")throw new TypeError('"size" argument must be of type number');if(rt<0)throw new RangeError('The value "'+rt+'" is invalid for option "size"')}function w(rt,ze,Ge){return b(rt),rt<=0?c(rt):ze!==void 0?typeof Ge=="string"?c(rt).fill(ze,Ge):c(rt).fill(ze):c(rt)}i.alloc=function(rt,ze,Ge){return w(rt,ze,Ge)};function C(rt){return b(rt),c(rt<0?0:x(rt)|0)}i.allocUnsafe=function(rt){return C(rt)},i.allocUnsafeSlow=function(rt){return C(rt)};function y(rt,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!i.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var Ge=D(rt,ze)|0,je=c(Ge),We=je.write(rt,ze);return We!==Ge&&(je=je.slice(0,We)),je}function E(rt){for(var ze=rt.length<0?0:x(rt.length)|0,Ge=c(ze),je=0;je<ze;je+=1)Ge[je]=rt[je]&255;return Ge}function A(rt){if(ct(rt,Uint8Array)){var ze=new Uint8Array(rt);return o(ze.buffer,ze.byteOffset,ze.byteLength)}return E(rt)}function o(rt,ze,Ge){if(ze<0||rt.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(rt.byteLength<ze+(Ge||0))throw new RangeError('"length" is outside of buffer bounds');var je;return ze===void 0&&Ge===void 0?je=new Uint8Array(rt):Ge===void 0?je=new Uint8Array(rt,ze):je=new Uint8Array(rt,ze,Ge),Object.setPrototypeOf(je,i.prototype),je}function M(rt){if(i.isBuffer(rt)){var ze=x(rt.length)|0,Ge=c(ze);return Ge.length===0||rt.copy(Ge,0,0,ze),Ge}if(rt.length!==void 0)return typeof rt.length!="number"||ht(rt.length)?c(0):E(rt);if(rt.type==="Buffer"&&Array.isArray(rt.data))return E(rt.data)}function x(rt){if(rt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return rt|0}function I(rt){return+rt!=rt&&(rt=0),i.alloc(+rt)}i.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==i.prototype},i.compare=function(ze,Ge){if(ct(ze,Uint8Array)&&(ze=i.from(ze,ze.offset,ze.byteLength)),ct(Ge,Uint8Array)&&(Ge=i.from(Ge,Ge.offset,Ge.byteLength)),!i.isBuffer(ze)||!i.isBuffer(Ge))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===Ge)return 0;for(var je=ze.length,We=Ge.length,Le=0,Pe=Math.min(je,We);Le<Pe;++Le)if(ze[Le]!==Ge[Le]){je=ze[Le],We=Ge[Le];break}return je<We?-1:We<je?1:0},i.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(ze,Ge){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return i.alloc(0);var je;if(Ge===void 0)for(Ge=0,je=0;je<ze.length;++je)Ge+=ze[je].length;var We=i.allocUnsafe(Ge),Le=0;for(je=0;je<ze.length;++je){var Pe=ze[je];if(ct(Pe,Uint8Array))Le+Pe.length>We.length?(i.isBuffer(Pe)||(Pe=i.from(Pe)),Pe.copy(We,Le)):Uint8Array.prototype.set.call(We,Pe,Le);else if(i.isBuffer(Pe))Pe.copy(We,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Pe.length}return We};function D(rt,ze){if(i.isBuffer(rt))return rt.length;if(ArrayBuffer.isView(rt)||ct(rt,ArrayBuffer))return rt.byteLength;if(typeof rt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(rt));var Ge=rt.length,je=arguments.length>2&&arguments[2]===!0;if(!je&&Ge===0)return 0;for(var We=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return Ge;case"utf8":case"utf-8":return Ve(rt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge*2;case"hex":return Ge>>>1;case"base64":return Je(rt).length;default:if(We)return je?-1:Ve(rt).length;ze=(""+ze).toLowerCase(),We=!0}}i.byteLength=D;function N(rt,ze,Ge){var je=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((Ge===void 0||Ge>this.length)&&(Ge=this.length),Ge<=0)||(Ge>>>=0,ze>>>=0,Ge<=ze))return"";for(rt||(rt="utf8");;)switch(rt){case"hex":return Q(this,ze,Ge);case"utf8":case"utf-8":return le(this,ze,Ge);case"ascii":return ie(this,ze,Ge);case"latin1":case"binary":return X(this,ze,Ge);case"base64":return ne(this,ze,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,ze,Ge);default:if(je)throw new TypeError("Unknown encoding: "+rt);rt=(rt+"").toLowerCase(),je=!0}}i.prototype._isBuffer=!0;function k(rt,ze,Ge){var je=rt[ze];rt[ze]=rt[Ge],rt[Ge]=je}i.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ge=0;Ge<ze;Ge+=2)k(this,Ge,Ge+1);return this},i.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ge=0;Ge<ze;Ge+=4)k(this,Ge,Ge+3),k(this,Ge+1,Ge+2);return this},i.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ge=0;Ge<ze;Ge+=8)k(this,Ge,Ge+7),k(this,Ge+1,Ge+6),k(this,Ge+2,Ge+5),k(this,Ge+3,Ge+4);return this},i.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?le(this,0,ze):N.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(ze){if(!i.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:i.compare(this,ze)===0},i.prototype.inspect=function(){var ze="",Ge=H.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,Ge).replace(/(.{2})/g,"$1 ").trim(),this.length>Ge&&(ze+=" ... "),"<Buffer "+ze+">"},g&&(i.prototype[g]=i.prototype.inspect),i.prototype.compare=function(ze,Ge,je,We,Le){if(ct(ze,Uint8Array)&&(ze=i.from(ze,ze.offset,ze.byteLength)),!i.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(ze));if(Ge===void 0&&(Ge=0),je===void 0&&(je=ze?ze.length:0),We===void 0&&(We=0),Le===void 0&&(Le=this.length),Ge<0||je>ze.length||We<0||Le>this.length)throw new RangeError("out of range index");if(We>=Le&&Ge>=je)return 0;if(We>=Le)return-1;if(Ge>=je)return 1;if(Ge>>>=0,je>>>=0,We>>>=0,Le>>>=0,this===ze)return 0;for(var Pe=Le-We,Ye=je-Ge,Ce=Math.min(Pe,Ye),he=this.slice(We,Le),me=ze.slice(Ge,je),Ne=0;Ne<Ce;++Ne)if(he[Ne]!==me[Ne]){Pe=he[Ne],Ye=me[Ne];break}return Pe<Ye?-1:Ye<Pe?1:0};function O(rt,ze,Ge,je,We){if(rt.length===0)return-1;if(typeof Ge=="string"?(je=Ge,Ge=0):Ge>2147483647?Ge=2147483647:Ge<-2147483648&&(Ge=-2147483648),Ge=+Ge,ht(Ge)&&(Ge=We?0:rt.length-1),Ge<0&&(Ge=rt.length+Ge),Ge>=rt.length){if(We)return-1;Ge=rt.length-1}else if(Ge<0)if(We)Ge=0;else return-1;if(typeof ze=="string"&&(ze=i.from(ze,je)),i.isBuffer(ze))return ze.length===0?-1:F(rt,ze,Ge,je,We);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(rt,ze,Ge):Uint8Array.prototype.lastIndexOf.call(rt,ze,Ge):F(rt,[ze],Ge,je,We);throw new TypeError("val must be string, number or Buffer")}function F(rt,ze,Ge,je,We){var Le=1,Pe=rt.length,Ye=ze.length;if(je!==void 0&&(je=String(je).toLowerCase(),je==="ucs2"||je==="ucs-2"||je==="utf16le"||je==="utf-16le")){if(rt.length<2||ze.length<2)return-1;Le=2,Pe/=2,Ye/=2,Ge/=2}function Ce(ot,st){return Le===1?ot[st]:ot.readUInt16BE(st*Le)}var he;if(We){var me=-1;for(he=Ge;he<Pe;he++)if(Ce(rt,he)===Ce(ze,me===-1?0:he-me)){if(me===-1&&(me=he),he-me+1===Ye)return me*Le}else me!==-1&&(he-=he-me),me=-1}else for(Ge+Ye>Pe&&(Ge=Pe-Ye),he=Ge;he>=0;he--){for(var Ne=!0,$e=0;$e<Ye;$e++)if(Ce(rt,he+$e)!==Ce(ze,$e)){Ne=!1;break}if(Ne)return he}return-1}i.prototype.includes=function(ze,Ge,je){return this.indexOf(ze,Ge,je)!==-1},i.prototype.indexOf=function(ze,Ge,je){return O(this,ze,Ge,je,!0)},i.prototype.lastIndexOf=function(ze,Ge,je){return O(this,ze,Ge,je,!1)};function z(rt,ze,Ge,je){Ge=Number(Ge)||0;var We=rt.length-Ge;je?(je=Number(je),je>We&&(je=We)):je=We;var Le=ze.length;je>Le/2&&(je=Le/2);var Pe;for(Pe=0;Pe<je;++Pe){var Ye=parseInt(ze.substr(Pe*2,2),16);if(ht(Ye))return Pe;rt[Ge+Pe]=Ye}return Pe}function B(rt,ze,Ge,je){return Qe(Ve(ze,rt.length-Ge),rt,Ge,je)}function W(rt,ze,Ge,je){return Qe(tt(ze),rt,Ge,je)}function J(rt,ze,Ge,je){return Qe(Je(ze),rt,Ge,je)}function re(rt,ze,Ge,je){return Qe(it(ze,rt.length-Ge),rt,Ge,je)}i.prototype.write=function(ze,Ge,je,We){if(Ge===void 0)We="utf8",je=this.length,Ge=0;else if(je===void 0&&typeof Ge=="string")We=Ge,je=this.length,Ge=0;else if(isFinite(Ge))Ge=Ge>>>0,isFinite(je)?(je=je>>>0,We===void 0&&(We="utf8")):(We=je,je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Le=this.length-Ge;if((je===void 0||je>Le)&&(je=Le),ze.length>0&&(je<0||Ge<0)||Ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var Pe=!1;;)switch(We){case"hex":return z(this,ze,Ge,je);case"utf8":case"utf-8":return B(this,ze,Ge,je);case"ascii":case"latin1":case"binary":return W(this,ze,Ge,je);case"base64":return J(this,ze,Ge,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,ze,Ge,je);default:if(Pe)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Pe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(rt,ze,Ge){return ze===0&&Ge===rt.length?u.fromByteArray(rt):u.fromByteArray(rt.slice(ze,Ge))}function le(rt,ze,Ge){Ge=Math.min(rt.length,Ge);for(var je=[],We=ze;We<Ge;){var Le=rt[We],Pe=null,Ye=Le>239?4:Le>223?3:Le>191?2:1;if(We+Ye<=Ge){var Ce=void 0,he=void 0,me=void 0,Ne=void 0;switch(Ye){case 1:Le<128&&(Pe=Le);break;case 2:Ce=rt[We+1],(Ce&192)===128&&(Ne=(Le&31)<<6|Ce&63,Ne>127&&(Pe=Ne));break;case 3:Ce=rt[We+1],he=rt[We+2],(Ce&192)===128&&(he&192)===128&&(Ne=(Le&15)<<12|(Ce&63)<<6|he&63,Ne>2047&&(Ne<55296||Ne>57343)&&(Pe=Ne));break;case 4:Ce=rt[We+1],he=rt[We+2],me=rt[We+3],(Ce&192)===128&&(he&192)===128&&(me&192)===128&&(Ne=(Le&15)<<18|(Ce&63)<<12|(he&63)<<6|me&63,Ne>65535&&Ne<1114112&&(Pe=Ne))}}Pe===null?(Pe=65533,Ye=1):Pe>65535&&(Pe-=65536,je.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),je.push(Pe),We+=Ye}return Z(je)}var $=4096;function Z(rt){var ze=rt.length;if(ze<=$)return String.fromCharCode.apply(String,rt);for(var Ge="",je=0;je<ze;)Ge+=String.fromCharCode.apply(String,rt.slice(je,je+=$));return Ge}function ie(rt,ze,Ge){var je="";Ge=Math.min(rt.length,Ge);for(var We=ze;We<Ge;++We)je+=String.fromCharCode(rt[We]&127);return je}function X(rt,ze,Ge){var je="";Ge=Math.min(rt.length,Ge);for(var We=ze;We<Ge;++We)je+=String.fromCharCode(rt[We]);return je}function Q(rt,ze,Ge){var je=rt.length;(!ze||ze<0)&&(ze=0),(!Ge||Ge<0||Ge>je)&&(Ge=je);for(var We="",Le=ze;Le<Ge;++Le)We+=dt[rt[Le]];return We}function oe(rt,ze,Ge){for(var je=rt.slice(ze,Ge),We="",Le=0;Le<je.length-1;Le+=2)We+=String.fromCharCode(je[Le]+je[Le+1]*256);return We}i.prototype.slice=function(ze,Ge){var je=this.length;ze=~~ze,Ge=Ge===void 0?je:~~Ge,ze<0?(ze+=je,ze<0&&(ze=0)):ze>je&&(ze=je),Ge<0?(Ge+=je,Ge<0&&(Ge=0)):Ge>je&&(Ge=je),Ge<ze&&(Ge=ze);var We=this.subarray(ze,Ge);return Object.setPrototypeOf(We,i.prototype),We};function j(rt,ze,Ge){if(rt%1!==0||rt<0)throw new RangeError("offset is not uint");if(rt+ze>Ge)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(ze,Ge,je){ze=ze>>>0,Ge=Ge>>>0,je||j(ze,Ge,this.length);for(var We=this[ze],Le=1,Pe=0;++Pe<Ge&&(Le*=256);)We+=this[ze+Pe]*Le;return We},i.prototype.readUintBE=i.prototype.readUIntBE=function(ze,Ge,je){ze=ze>>>0,Ge=Ge>>>0,je||j(ze,Ge,this.length);for(var We=this[ze+--Ge],Le=1;Ge>0&&(Le*=256);)We+=this[ze+--Ge]*Le;return We},i.prototype.readUint8=i.prototype.readUInt8=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,1,this.length),this[ze]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,2,this.length),this[ze]|this[ze+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,2,this.length),this[ze]<<8|this[ze+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},i.prototype.readBigUInt64LE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var Ge=this[ze],je=this[ze+7];(Ge===void 0||je===void 0)&&Se(ze,this.length-8);var We=Ge+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24),Le=this[++ze]+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+je*Math.pow(2,24);return BigInt(We)+(BigInt(Le)<<BigInt(32))}),i.prototype.readBigUInt64BE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var Ge=this[ze],je=this[ze+7];(Ge===void 0||je===void 0)&&Se(ze,this.length-8);var We=Ge*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze],Le=this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+je;return(BigInt(We)<<BigInt(32))+BigInt(Le)}),i.prototype.readIntLE=function(ze,Ge,je){ze=ze>>>0,Ge=Ge>>>0,je||j(ze,Ge,this.length);for(var We=this[ze],Le=1,Pe=0;++Pe<Ge&&(Le*=256);)We+=this[ze+Pe]*Le;return Le*=128,We>=Le&&(We-=Math.pow(2,8*Ge)),We},i.prototype.readIntBE=function(ze,Ge,je){ze=ze>>>0,Ge=Ge>>>0,je||j(ze,Ge,this.length);for(var We=Ge,Le=1,Pe=this[ze+--We];We>0&&(Le*=256);)Pe+=this[ze+--We]*Le;return Le*=128,Pe>=Le&&(Pe-=Math.pow(2,8*Ge)),Pe},i.prototype.readInt8=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},i.prototype.readInt16LE=function(ze,Ge){ze=ze>>>0,Ge||j(ze,2,this.length);var je=this[ze]|this[ze+1]<<8;return je&32768?je|4294901760:je},i.prototype.readInt16BE=function(ze,Ge){ze=ze>>>0,Ge||j(ze,2,this.length);var je=this[ze+1]|this[ze]<<8;return je&32768?je|4294901760:je},i.prototype.readInt32LE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},i.prototype.readInt32BE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},i.prototype.readBigInt64LE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var Ge=this[ze],je=this[ze+7];(Ge===void 0||je===void 0)&&Se(ze,this.length-8);var We=this[ze+4]+this[ze+5]*Math.pow(2,8)+this[ze+6]*Math.pow(2,16)+(je<<24);return(BigInt(We)<<BigInt(32))+BigInt(Ge+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24))}),i.prototype.readBigInt64BE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var Ge=this[ze],je=this[ze+7];(Ge===void 0||je===void 0)&&Se(ze,this.length-8);var We=(Ge<<24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze];return(BigInt(We)<<BigInt(32))+BigInt(this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+je)}),i.prototype.readFloatLE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,4,this.length),l.read(this,ze,!0,23,4)},i.prototype.readFloatBE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,4,this.length),l.read(this,ze,!1,23,4)},i.prototype.readDoubleLE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,8,this.length),l.read(this,ze,!0,52,8)},i.prototype.readDoubleBE=function(ze,Ge){return ze=ze>>>0,Ge||j(ze,8,this.length),l.read(this,ze,!1,52,8)};function Y(rt,ze,Ge,je,We,Le){if(!i.isBuffer(rt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>We||ze<Le)throw new RangeError('"value" argument is out of bounds');if(Ge+je>rt.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(ze,Ge,je,We){if(ze=+ze,Ge=Ge>>>0,je=je>>>0,!We){var Le=Math.pow(2,8*je)-1;Y(this,ze,Ge,je,Le,0)}var Pe=1,Ye=0;for(this[Ge]=ze&255;++Ye<je&&(Pe*=256);)this[Ge+Ye]=ze/Pe&255;return Ge+je},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(ze,Ge,je,We){if(ze=+ze,Ge=Ge>>>0,je=je>>>0,!We){var Le=Math.pow(2,8*je)-1;Y(this,ze,Ge,je,Le,0)}var Pe=je-1,Ye=1;for(this[Ge+Pe]=ze&255;--Pe>=0&&(Ye*=256);)this[Ge+Pe]=ze/Ye&255;return Ge+je},i.prototype.writeUint8=i.prototype.writeUInt8=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,1,255,0),this[Ge]=ze&255,Ge+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,2,65535,0),this[Ge]=ze&255,this[Ge+1]=ze>>>8,Ge+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,2,65535,0),this[Ge]=ze>>>8,this[Ge+1]=ze&255,Ge+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,4,4294967295,0),this[Ge+3]=ze>>>24,this[Ge+2]=ze>>>16,this[Ge+1]=ze>>>8,this[Ge]=ze&255,Ge+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,4,4294967295,0),this[Ge]=ze>>>24,this[Ge+1]=ze>>>16,this[Ge+2]=ze>>>8,this[Ge+3]=ze&255,Ge+4};function se(rt,ze,Ge,je,We){Te(ze,je,We,rt,Ge,7);var Le=Number(ze&BigInt(4294967295));rt[Ge++]=Le,Le=Le>>8,rt[Ge++]=Le,Le=Le>>8,rt[Ge++]=Le,Le=Le>>8,rt[Ge++]=Le;var Pe=Number(ze>>BigInt(32)&BigInt(4294967295));return rt[Ge++]=Pe,Pe=Pe>>8,rt[Ge++]=Pe,Pe=Pe>>8,rt[Ge++]=Pe,Pe=Pe>>8,rt[Ge++]=Pe,Ge}function te(rt,ze,Ge,je,We){Te(ze,je,We,rt,Ge,7);var Le=Number(ze&BigInt(4294967295));rt[Ge+7]=Le,Le=Le>>8,rt[Ge+6]=Le,Le=Le>>8,rt[Ge+5]=Le,Le=Le>>8,rt[Ge+4]=Le;var Pe=Number(ze>>BigInt(32)&BigInt(4294967295));return rt[Ge+3]=Pe,Pe=Pe>>8,rt[Ge+2]=Pe,Pe=Pe>>8,rt[Ge+1]=Pe,Pe=Pe>>8,rt[Ge]=Pe,Ge+8}i.prototype.writeBigUInt64LE=Tt(function(ze){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ze,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=Tt(function(ze){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,ze,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(ze,Ge,je,We){if(ze=+ze,Ge=Ge>>>0,!We){var Le=Math.pow(2,8*je-1);Y(this,ze,Ge,je,Le-1,-Le)}var Pe=0,Ye=1,Ce=0;for(this[Ge]=ze&255;++Pe<je&&(Ye*=256);)ze<0&&Ce===0&&this[Ge+Pe-1]!==0&&(Ce=1),this[Ge+Pe]=(ze/Ye>>0)-Ce&255;return Ge+je},i.prototype.writeIntBE=function(ze,Ge,je,We){if(ze=+ze,Ge=Ge>>>0,!We){var Le=Math.pow(2,8*je-1);Y(this,ze,Ge,je,Le-1,-Le)}var Pe=je-1,Ye=1,Ce=0;for(this[Ge+Pe]=ze&255;--Pe>=0&&(Ye*=256);)ze<0&&Ce===0&&this[Ge+Pe+1]!==0&&(Ce=1),this[Ge+Pe]=(ze/Ye>>0)-Ce&255;return Ge+je},i.prototype.writeInt8=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,1,127,-128),ze<0&&(ze=255+ze+1),this[Ge]=ze&255,Ge+1},i.prototype.writeInt16LE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,2,32767,-32768),this[Ge]=ze&255,this[Ge+1]=ze>>>8,Ge+2},i.prototype.writeInt16BE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,2,32767,-32768),this[Ge]=ze>>>8,this[Ge+1]=ze&255,Ge+2},i.prototype.writeInt32LE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,4,2147483647,-2147483648),this[Ge]=ze&255,this[Ge+1]=ze>>>8,this[Ge+2]=ze>>>16,this[Ge+3]=ze>>>24,Ge+4},i.prototype.writeInt32BE=function(ze,Ge,je){return ze=+ze,Ge=Ge>>>0,je||Y(this,ze,Ge,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[Ge]=ze>>>24,this[Ge+1]=ze>>>16,this[Ge+2]=ze>>>8,this[Ge+3]=ze&255,Ge+4},i.prototype.writeBigInt64LE=Tt(function(ze){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ze,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=Tt(function(ze){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,ze,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(rt,ze,Ge,je,We,Le){if(Ge+je>rt.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("Index out of range")}function ge(rt,ze,Ge,je,We){return ze=+ze,Ge=Ge>>>0,We||fe(rt,ze,Ge,4),l.write(rt,ze,Ge,je,23,4),Ge+4}i.prototype.writeFloatLE=function(ze,Ge,je){return ge(this,ze,Ge,!0,je)},i.prototype.writeFloatBE=function(ze,Ge,je){return ge(this,ze,Ge,!1,je)};function be(rt,ze,Ge,je,We){return ze=+ze,Ge=Ge>>>0,We||fe(rt,ze,Ge,8),l.write(rt,ze,Ge,je,52,8),Ge+8}i.prototype.writeDoubleLE=function(ze,Ge,je){return be(this,ze,Ge,!0,je)},i.prototype.writeDoubleBE=function(ze,Ge,je){return be(this,ze,Ge,!1,je)},i.prototype.copy=function(ze,Ge,je,We){if(!i.isBuffer(ze))throw new TypeError("argument should be a Buffer");if(je||(je=0),!We&&We!==0&&(We=this.length),Ge>=ze.length&&(Ge=ze.length),Ge||(Ge=0),We>0&&We<je&&(We=je),We===je||ze.length===0||this.length===0)return 0;if(Ge<0)throw new RangeError("targetStart out of bounds");if(je<0||je>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),ze.length-Ge<We-je&&(We=ze.length-Ge+je);var Le=We-je;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ge,je,We):Uint8Array.prototype.set.call(ze,this.subarray(je,We),Ge),Le},i.prototype.fill=function(ze,Ge,je,We){if(typeof ze=="string"){if(typeof Ge=="string"?(We=Ge,Ge=0,je=this.length):typeof je=="string"&&(We=je,je=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!i.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(ze.length===1){var Le=ze.charCodeAt(0);(We==="utf8"&&Le<128||We==="latin1")&&(ze=Le)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(Ge<0||this.length<Ge||this.length<je)throw new RangeError("Out of range index");if(je<=Ge)return this;Ge=Ge>>>0,je=je===void 0?this.length:je>>>0,ze||(ze=0);var Pe;if(typeof ze=="number")for(Pe=Ge;Pe<je;++Pe)this[Pe]=ze;else{var Ye=i.isBuffer(ze)?ze:i.from(ze,We),Ce=Ye.length;if(Ce===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(Pe=0;Pe<je-Ge;++Pe)this[Pe+Ge]=Ye[Pe%Ce]}return this};var xe={};function _e(rt,ze,Ge){xe[rt]=function(je){a(We,je);function We(){var Le;return m(this,We),Le=v(this,We),Object.defineProperty(t(Le),"message",{value:ze.apply(t(Le),arguments),writable:!0,configurable:!0}),Le.name="".concat(Le.name," [").concat(rt,"]"),Le.stack,delete Le.name,Le}return s(We,[{key:"code",get:function(){return rt},set:function(Pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Pe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(rt,"]: ").concat(this.message)}}]),We}(Ge)}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(rt){return rt?"".concat(rt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(rt,ze){return'The "'.concat(rt,'" argument must be of type number. Received type ').concat(f(ze))},TypeError),_e("ERR_OUT_OF_RANGE",function(rt,ze,Ge){var je='The value of "'.concat(rt,'" is out of range.'),We=Ge;return Number.isInteger(Ge)&&Math.abs(Ge)>Math.pow(2,32)?We=De(String(Ge)):typeof Ge=="bigint"&&(We=String(Ge),(Ge>Math.pow(BigInt(2),BigInt(32))||Ge<-Math.pow(BigInt(2),BigInt(32)))&&(We=De(We)),We+="n"),je+=" It must be ".concat(ze,". Received ").concat(We),je},RangeError);function De(rt){for(var ze="",Ge=rt.length,je=rt[0]==="-"?1:0;Ge>=je+4;Ge-=3)ze="_".concat(rt.slice(Ge-3,Ge)).concat(ze);return"".concat(rt.slice(0,Ge)).concat(ze)}function Fe(rt,ze,Ge){Re(ze,"offset"),(rt[ze]===void 0||rt[ze+Ge]===void 0)&&Se(ze,rt.length-(Ge+1))}function Te(rt,ze,Ge,je,We,Le){if(rt>Ge||rt<ze){var Pe=typeof ze=="bigint"?"n":"",Ye;throw ze===0||ze===BigInt(0)?Ye=">= 0".concat(Pe," and < 2").concat(Pe," ** ").concat((Le+1)*8).concat(Pe):Ye=">= -(2".concat(Pe," ** ").concat((Le+1)*8-1).concat(Pe,") and < 2 ** ")+"".concat((Le+1)*8-1).concat(Pe),new xe.ERR_OUT_OF_RANGE("value",Ye,rt)}Fe(je,We,Le)}function Re(rt,ze){if(typeof rt!="number")throw new xe.ERR_INVALID_ARG_TYPE(ze,"number",rt)}function Se(rt,ze,Ge){throw Math.floor(rt)!==rt?(Re(rt,Ge),new xe.ERR_OUT_OF_RANGE("offset","an integer",rt)):ze<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(ze),rt)}var ke=/[^+/0-9A-Za-z-_]/g;function Me(rt){if(rt=rt.split("=")[0],rt=rt.trim().replace(ke,""),rt.length<2)return"";for(;rt.length%4!==0;)rt=rt+"=";return rt}function Ve(rt,ze){ze=ze||1/0;for(var Ge,je=rt.length,We=null,Le=[],Pe=0;Pe<je;++Pe){if(Ge=rt.charCodeAt(Pe),Ge>55295&&Ge<57344){if(!We){if(Ge>56319){(ze-=3)>-1&&Le.push(239,191,189);continue}else if(Pe+1===je){(ze-=3)>-1&&Le.push(239,191,189);continue}We=Ge;continue}if(Ge<56320){(ze-=3)>-1&&Le.push(239,191,189),We=Ge;continue}Ge=(We-55296<<10|Ge-56320)+65536}else We&&(ze-=3)>-1&&Le.push(239,191,189);if(We=null,Ge<128){if((ze-=1)<0)break;Le.push(Ge)}else if(Ge<2048){if((ze-=2)<0)break;Le.push(Ge>>6|192,Ge&63|128)}else if(Ge<65536){if((ze-=3)<0)break;Le.push(Ge>>12|224,Ge>>6&63|128,Ge&63|128)}else if(Ge<1114112){if((ze-=4)<0)break;Le.push(Ge>>18|240,Ge>>12&63|128,Ge>>6&63|128,Ge&63|128)}else throw new Error("Invalid code point")}return Le}function tt(rt){for(var ze=[],Ge=0;Ge<rt.length;++Ge)ze.push(rt.charCodeAt(Ge)&255);return ze}function it(rt,ze){for(var Ge,je,We,Le=[],Pe=0;Pe<rt.length&&!((ze-=2)<0);++Pe)Ge=rt.charCodeAt(Pe),je=Ge>>8,We=Ge%256,Le.push(We),Le.push(je);return Le}function Je(rt){return u.toByteArray(Me(rt))}function Qe(rt,ze,Ge,je){var We;for(We=0;We<je&&!(We+Ge>=ze.length||We>=rt.length);++We)ze[We+Ge]=rt[We];return We}function ct(rt,ze){return rt instanceof ze||rt!=null&&rt.constructor!=null&&rt.constructor.name!=null&&rt.constructor.name===ze.name}function ht(rt){return rt!==rt}var dt=function(){for(var rt="0123456789abcdef",ze=new Array(256),Ge=0;Ge<16;++Ge)for(var je=Ge*16,We=0;We<16;++We)ze[je+We]=rt[Ge]+rt[We];return ze}();function Tt(rt){return typeof BigInt>"u"?Et:rt}function Et(){throw new Error("BigInt not supported")}},25928:function(G){G.exports=P,G.exports.isMobile=P,G.exports.default=P;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,m=/android|ipad|playbook|silk/i;function P(s){s||(s={});var L=s.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var S=H.test(L)&&!e.test(L)||!!s.tablet&&m.test(L);return!S&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(S=!0),S}},48932:function(G,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return a},sankeyCircular:function(){return M},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var m=e(84706),P=e(34712),s=e(10132),L=e(6688),S=e.n(L);function v(xe){return xe.target.depth}function p(xe){return xe.depth}function r(xe,_e){return _e-1-xe.height}function t(xe,_e){return xe.sourceLinks.length?xe.depth:_e-1}function a(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,m.SY)(xe.sourceLinks,v)-1:0}function n(xe){return function(){return xe}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function u(xe,_e){return g(xe.source,_e.source)||xe.index-_e.index}function l(xe,_e){return g(xe.target,_e.target)||xe.index-_e.index}function g(xe,_e){return xe.partOfCycle===_e.partOfCycle?xe.y0-_e.y0:xe.circularLinkType==="top"||_e.circularLinkType==="bottom"?-1:1}function h(xe){return xe.value}function T(xe){return(xe.y0+xe.y1)/2}function c(xe){return T(xe.source)}function i(xe){return T(xe.target)}function d(xe){return xe.index}function b(xe){return xe.nodes}function w(xe){return xe.links}function C(xe,_e){var De=xe.get(_e);if(!De)throw new Error("missing: "+_e);return De}function y(xe,_e){return _e(xe)}var E=25,A=10,o=.3;function M(){var xe=0,_e=0,De=1,Fe=1,Te=24,Re,Se=d,ke=t,Me=b,Ve=w,tt=32,it=2,Je,Qe=null;function ct(){var je={nodes:Me.apply(null,arguments),links:Ve.apply(null,arguments)};ht(je),x(je,Se,Qe),dt(je),rt(je),I(je,Se),ze(je,tt,Se),Ge(je);for(var We=4,Le=0;Le<We;Le++)Y(je,Fe,Se),se(je,Fe,Se),Q(je,_e,Fe,Se),Y(je,Fe,Se),se(je,Fe,Se);return be(je,_e,Fe),z(je,it,Fe,Se),je}ct.nodeId=function(je){return arguments.length?(Se=typeof je=="function"?je:n(je),ct):Se},ct.nodeAlign=function(je){return arguments.length?(ke=typeof je=="function"?je:n(je),ct):ke},ct.nodeWidth=function(je){return arguments.length?(Te=+je,ct):Te},ct.nodePadding=function(je){return arguments.length?(Re=+je,ct):Re},ct.nodes=function(je){return arguments.length?(Me=typeof je=="function"?je:n(je),ct):Me},ct.links=function(je){return arguments.length?(Ve=typeof je=="function"?je:n(je),ct):Ve},ct.size=function(je){return arguments.length?(xe=_e=0,De=+je[0],Fe=+je[1],ct):[De-xe,Fe-_e]},ct.extent=function(je){return arguments.length?(xe=+je[0][0],De=+je[1][0],_e=+je[0][1],Fe=+je[1][1],ct):[[xe,_e],[De,Fe]]},ct.iterations=function(je){return arguments.length?(tt=+je,ct):tt},ct.circularLinkGap=function(je){return arguments.length?(it=+je,ct):it},ct.nodePaddingRatio=function(je){return arguments.length?(Je=+je,ct):Je},ct.sortNodes=function(je){return arguments.length?(Qe=je,ct):Qe},ct.update=function(je){return I(je,Se),Ge(je),je.links.forEach(function(We){We.circular&&(We.circularLinkType=We.y0+We.y1<Fe?"top":"bottom",We.source.circularLinkType=We.circularLinkType,We.target.circularLinkType=We.circularLinkType)}),Y(je,Fe,Se,!1),se(je,Fe,Se),z(je,it,Fe,Se),je};function ht(je){je.nodes.forEach(function(Le,Pe){Le.index=Pe,Le.sourceLinks=[],Le.targetLinks=[]});var We=(0,P.kH)(je.nodes,Se);return je.links.forEach(function(Le,Pe){Le.index=Pe;var Ye=Le.source,Ce=Le.target;(typeof Ye>"u"?"undefined":f(Ye))!=="object"&&(Ye=Le.source=C(We,Ye)),(typeof Ce>"u"?"undefined":f(Ce))!=="object"&&(Ce=Le.target=C(We,Ce)),Ye.sourceLinks.push(Le),Ce.targetLinks.push(Le)}),je}function dt(je){je.nodes.forEach(function(We){We.partOfCycle=!1,We.value=Math.max((0,m.oh)(We.sourceLinks,h),(0,m.oh)(We.targetLinks,h)),We.sourceLinks.forEach(function(Le){Le.circular&&(We.partOfCycle=!0,We.circularLinkType=Le.circularLinkType)}),We.targetLinks.forEach(function(Le){Le.circular&&(We.partOfCycle=!0,We.circularLinkType=Le.circularLinkType)})})}function Tt(je){var We=0,Le=0,Pe=0,Ye=0,Ce=(0,m.kv)(je.nodes,function(he){return he.column});return je.links.forEach(function(he){he.circular&&(he.circularLinkType=="top"?We=We+he.width:Le=Le+he.width,he.target.column==0&&(Ye=Ye+he.width),he.source.column==Ce&&(Pe=Pe+he.width))}),We=We>0?We+E+A:We,Le=Le>0?Le+E+A:Le,Pe=Pe>0?Pe+E+A:Pe,Ye=Ye>0?Ye+E+A:Ye,{top:We,bottom:Le,left:Ye,right:Pe}}function Et(je,We){var Le=(0,m.kv)(je.nodes,function($e){return $e.column}),Pe=De-xe,Ye=Fe-_e,Ce=Pe+We.right+We.left,he=Ye+We.top+We.bottom,me=Pe/Ce,Ne=Ye/he;return xe=xe*me+We.left,De=We.right==0?De:De*me,_e=_e*Ne+We.top,Fe=Fe*Ne,je.nodes.forEach(function($e){$e.x0=xe+$e.column*((De-xe-Te)/Le),$e.x1=$e.x0+Te}),Ne}function rt(je){var We,Le,Pe;for(We=je.nodes,Le=[],Pe=0;We.length;++Pe,We=Le,Le=[])We.forEach(function(Ye){Ye.depth=Pe,Ye.sourceLinks.forEach(function(Ce){Le.indexOf(Ce.target)<0&&!Ce.circular&&Le.push(Ce.target)})});for(We=je.nodes,Le=[],Pe=0;We.length;++Pe,We=Le,Le=[])We.forEach(function(Ye){Ye.height=Pe,Ye.targetLinks.forEach(function(Ce){Le.indexOf(Ce.source)<0&&!Ce.circular&&Le.push(Ce.source)})});je.nodes.forEach(function(Ye){Ye.column=Math.floor(ke.call(null,Ye,Pe))})}function ze(je,We,Le){var Pe=(0,P.UJ)().key(function($e){return $e.column}).sortKeys(m.XE).entries(je.nodes).map(function($e){return $e.values});he(Le),Ne();for(var Ye=1,Ce=We;Ce>0;--Ce)me(Ye*=.99,Le),Ne();function he($e){if(Je){var ot=1/0;Pe.forEach(function(At){var Rt=Fe*Je/(At.length+1);ot=Rt<ot?Rt:ot}),Re=ot}var st=(0,m.SY)(Pe,function(At){return(Fe-_e-(At.length-1)*Re)/(0,m.oh)(At,h)});st=st*o,je.links.forEach(function(At){At.width=At.value*st});var Wt=Tt(je),Zt=Et(je,Wt);st=st*Zt,je.links.forEach(function(At){At.width=At.value*st}),Pe.forEach(function(At){var Rt=At.length;At.forEach(function(Xt,ir){Xt.depth==Pe.length-1&&Rt==1||Xt.depth==0&&Rt==1?(Xt.y0=Fe/2-Xt.value*st,Xt.y1=Xt.y0+Xt.value*st):Xt.partOfCycle?k(Xt,$e)==0?(Xt.y0=Fe/2+ir,Xt.y1=Xt.y0+Xt.value*st):Xt.circularLinkType=="top"?(Xt.y0=_e+ir,Xt.y1=Xt.y0+Xt.value*st):(Xt.y0=Fe-Xt.value*st-ir,Xt.y1=Xt.y0+Xt.value*st):Wt.top==0||Wt.bottom==0?(Xt.y0=(Fe-_e)/Rt*ir,Xt.y1=Xt.y0+Xt.value*st):(Xt.y0=(Fe-_e)/2-Rt/2+ir,Xt.y1=Xt.y0+Xt.value*st)})})}function me($e,ot){var st=Pe.length;Pe.forEach(function(Wt){var Zt=Wt.length,At=Wt[0].depth;Wt.forEach(function(Rt){var Xt;if((Rt.sourceLinks.length||Rt.targetLinks.length)&&!(Rt.partOfCycle&&k(Rt,ot)>0))if(At==0&&Zt==1)Xt=Rt.y1-Rt.y0,Rt.y0=Fe/2-Xt/2,Rt.y1=Fe/2+Xt/2;else if(At==st-1&&Zt==1)Xt=Rt.y1-Rt.y0,Rt.y0=Fe/2-Xt/2,Rt.y1=Fe/2+Xt/2;else{var ir=0,pt=(0,m.mo)(Rt.sourceLinks,i),Kt=(0,m.mo)(Rt.targetLinks,c);pt&&Kt?ir=(pt+Kt)/2:ir=pt||Kt;var Qt=(ir-T(Rt))*$e;Rt.y0+=Qt,Rt.y1+=Qt}})})}function Ne(){Pe.forEach(function($e){var ot,st,Wt=_e,Zt=$e.length,At;for($e.sort(g),At=0;At<Zt;++At)ot=$e[At],st=Wt-ot.y0,st>0&&(ot.y0+=st,ot.y1+=st),Wt=ot.y1+Re;if(st=Wt-Re-Fe,st>0)for(Wt=ot.y0-=st,ot.y1-=st,At=Zt-2;At>=0;--At)ot=$e[At],st=ot.y1+Re-Wt,st>0&&(ot.y0-=st,ot.y1-=st),Wt=ot.y0})}}function Ge(je){je.nodes.forEach(function(We){We.sourceLinks.sort(l),We.targetLinks.sort(u)}),je.nodes.forEach(function(We){var Le=We.y0,Pe=Le,Ye=We.y1,Ce=Ye;We.sourceLinks.forEach(function(he){he.circular?(he.y0=Ye-he.width/2,Ye=Ye-he.width):(he.y0=Le+he.width/2,Le+=he.width)}),We.targetLinks.forEach(function(he){he.circular?(he.y1=Ce-he.width/2,Ce=Ce-he.width):(he.y1=Pe+he.width/2,Pe+=he.width)})})}return ct}function x(xe,_e,De){var Fe=0;if(De===null){for(var Te=[],Re=0;Re<xe.links.length;Re++){var Se=xe.links[Re],ke=Se.source.index,Me=Se.target.index;Te[ke]||(Te[ke]=[]),Te[Me]||(Te[Me]=[]),Te[ke].indexOf(Me)===-1&&Te[ke].push(Me)}var Ve=S()(Te);Ve.sort(function(Qe,ct){return Qe.length-ct.length});var tt={};for(Re=0;Re<Ve.length;Re++){var it=Ve[Re],Je=it.slice(-2);tt[Je[0]]||(tt[Je[0]]={}),tt[Je[0]][Je[1]]=!0}xe.links.forEach(function(Qe){var ct=Qe.target.index,ht=Qe.source.index;ct===ht||tt[ht]&&tt[ht][ct]?(Qe.circular=!0,Qe.circularLinkID=Fe,Fe=Fe+1):Qe.circular=!1})}else xe.links.forEach(function(Qe){Qe.source[De]<Qe.target[De]?Qe.circular=!1:(Qe.circular=!0,Qe.circularLinkID=Fe,Fe=Fe+1)})}function I(xe,_e){var De=0,Fe=0;xe.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=De<Fe?"top":"bottom",Te.circularLinkType=="top"?De=De+1:Fe=Fe+1,xe.nodes.forEach(function(Re){(y(Re,_e)==y(Te.source,_e)||y(Re,_e)==y(Te.target,_e))&&(Re.circularLinkType=Te.circularLinkType)}))}),xe.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),ge(Te,_e)&&(Te.circularLinkType=Te.source.circularLinkType))})}function D(xe){var _e=Math.abs(xe.y1-xe.y0),De=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(De/_e)}function N(xe,_e){return xe.source.column<_e.target.column?!1:!(xe.target.column>_e.source.column)}function k(xe,_e){var De=0;xe.sourceLinks.forEach(function(Te){De=Te.circular&&!ge(Te,_e)?De+1:De});var Fe=0;return xe.targetLinks.forEach(function(Te){Fe=Te.circular&&!ge(Te,_e)?Fe+1:Fe}),De+Fe}function O(xe){var _e=xe.source.sourceLinks,De=0;_e.forEach(function(Re){De=Re.circular?De+1:De});var Fe=xe.target.targetLinks,Te=0;return Fe.forEach(function(Re){Te=Re.circular?Te+1:Te}),!(De>1||Te>1)}function F(xe,_e,De){return xe.sort(W),xe.forEach(function(Fe,Te){var Re=0;if(ge(Fe,De)&&O(Fe))Fe.circularPathData.verticalBuffer=Re+Fe.width/2;else{var Se=0;for(Se;Se<Te;Se++)if(N(xe[Te],xe[Se])){var ke=xe[Se].circularPathData.verticalBuffer+xe[Se].width/2+_e;Re=ke>Re?ke:Re}Fe.circularPathData.verticalBuffer=Re+Fe.width/2}}),xe}function z(xe,_e,De,Fe){var Te=5,Re=(0,m.SY)(xe.links,function(Me){return Me.source.y0});xe.links.forEach(function(Me){Me.circular&&(Me.circularPathData={})});var Se=xe.links.filter(function(Me){return Me.circularLinkType=="top"});F(Se,_e,Fe);var ke=xe.links.filter(function(Me){return Me.circularLinkType=="bottom"});F(ke,_e,Fe),xe.links.forEach(function(Me){if(Me.circular){if(Me.circularPathData.arcRadius=Me.width+A,Me.circularPathData.leftNodeBuffer=Te,Me.circularPathData.rightNodeBuffer=Te,Me.circularPathData.sourceWidth=Me.source.x1-Me.source.x0,Me.circularPathData.sourceX=Me.source.x0+Me.circularPathData.sourceWidth,Me.circularPathData.targetX=Me.target.x0,Me.circularPathData.sourceY=Me.y0,Me.circularPathData.targetY=Me.y1,ge(Me,Fe)&&O(Me))Me.circularPathData.leftSmallArcRadius=A+Me.width/2,Me.circularPathData.leftLargeArcRadius=A+Me.width/2,Me.circularPathData.rightSmallArcRadius=A+Me.width/2,Me.circularPathData.rightLargeArcRadius=A+Me.width/2,Me.circularLinkType=="bottom"?(Me.circularPathData.verticalFullExtent=Me.source.y1+E+Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.rightLargeArcRadius):(Me.circularPathData.verticalFullExtent=Me.source.y0-E-Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.rightLargeArcRadius);else{var Ve=Me.source.column,tt=Me.circularLinkType,it=xe.links.filter(function(ct){return ct.source.column==Ve&&ct.circularLinkType==tt});Me.circularLinkType=="bottom"?it.sort(re):it.sort(J);var Je=0;it.forEach(function(ct,ht){ct.circularLinkID==Me.circularLinkID&&(Me.circularPathData.leftSmallArcRadius=A+Me.width/2+Je,Me.circularPathData.leftLargeArcRadius=A+Me.width/2+ht*_e+Je),Je=Je+ct.width}),Ve=Me.target.column,it=xe.links.filter(function(ct){return ct.target.column==Ve&&ct.circularLinkType==tt}),Me.circularLinkType=="bottom"?it.sort(le):it.sort(ne),Je=0,it.forEach(function(ct,ht){ct.circularLinkID==Me.circularLinkID&&(Me.circularPathData.rightSmallArcRadius=A+Me.width/2+Je,Me.circularPathData.rightLargeArcRadius=A+Me.width/2+ht*_e+Je),Je=Je+ct.width}),Me.circularLinkType=="bottom"?(Me.circularPathData.verticalFullExtent=Math.max(De,Me.source.y1,Me.target.y1)+E+Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.rightLargeArcRadius):(Me.circularPathData.verticalFullExtent=Re-E-Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.rightLargeArcRadius)}Me.circularPathData.leftInnerExtent=Me.circularPathData.sourceX+Me.circularPathData.leftNodeBuffer,Me.circularPathData.rightInnerExtent=Me.circularPathData.targetX-Me.circularPathData.rightNodeBuffer,Me.circularPathData.leftFullExtent=Me.circularPathData.sourceX+Me.circularPathData.leftLargeArcRadius+Me.circularPathData.leftNodeBuffer,Me.circularPathData.rightFullExtent=Me.circularPathData.targetX-Me.circularPathData.rightLargeArcRadius-Me.circularPathData.rightNodeBuffer}if(Me.circular)Me.path=B(Me);else{var Qe=(0,s.ak)().source(function(ct){var ht=ct.source.x0+(ct.source.x1-ct.source.x0),dt=ct.y0;return[ht,dt]}).target(function(ct){var ht=ct.target.x0,dt=ct.y1;return[ht,dt]});Me.path=Qe(Me)}})}function B(xe){var _e="";return xe.circularLinkType=="top"?_e="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 0 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY-xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 0 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 0 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY-xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 0 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY:_e="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 1 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY+xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 1 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 1 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY+xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 1 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY,_e}function W(xe,_e){return $(xe)==$(_e)?xe.circularLinkType=="bottom"?re(xe,_e):J(xe,_e):$(_e)-$(xe)}function J(xe,_e){return xe.y0-_e.y0}function re(xe,_e){return _e.y0-xe.y0}function ne(xe,_e){return xe.y1-_e.y1}function le(xe,_e){return _e.y1-xe.y1}function $(xe){return xe.target.column-xe.source.column}function Z(xe){return xe.target.x0-xe.source.x1}function ie(xe,_e){var De=D(xe),Fe=Z(_e)/Math.tan(De),Te=fe(xe)=="up"?xe.y1+Fe:xe.y1-Fe;return Te}function X(xe,_e){var De=D(xe),Fe=Z(_e)/Math.tan(De),Te=fe(xe)=="up"?xe.y1-Fe:xe.y1+Fe;return Te}function Q(xe,_e,De,Fe){xe.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var Re=Te.source.column+1,Se=Te.target.column-1,ke=1,Me=Se-Re+1;for(ke=1;Re<=Se;Re++,ke++)xe.nodes.forEach(function(Ve){if(Ve.column==Re){var tt=ke/(Me+1),it=Math.pow(1-tt,3),Je=3*tt*Math.pow(1-tt,2),Qe=3*Math.pow(tt,2)*(1-tt),ct=Math.pow(tt,3),ht=it*Te.y0+Je*Te.y0+Qe*Te.y1+ct*Te.y1,dt=ht-Te.width/2,Tt=ht+Te.width/2,Et;dt>Ve.y0&&dt<Ve.y1?(Et=Ve.y1-dt+10,Et=Ve.circularLinkType=="bottom"?Et:-Et,Ve=j(Ve,Et,_e,De),xe.nodes.forEach(function(rt){y(rt,Fe)==y(Ve,Fe)||rt.column!=Ve.column||oe(Ve,rt)&&j(rt,Et,_e,De)})):Tt>Ve.y0&&Tt<Ve.y1?(Et=Tt-Ve.y0+10,Ve=j(Ve,Et,_e,De),xe.nodes.forEach(function(rt){y(rt,Fe)==y(Ve,Fe)||rt.column!=Ve.column||rt.y0<Ve.y1&&rt.y1>Ve.y1&&j(rt,Et,_e,De)})):dt<Ve.y0&&Tt>Ve.y1&&(Et=Tt-Ve.y0+10,Ve=j(Ve,Et,_e,De),xe.nodes.forEach(function(rt){y(rt,Fe)==y(Ve,Fe)||rt.column!=Ve.column||rt.y0<Ve.y1&&rt.y1>Ve.y1&&j(rt,Et,_e,De)}))}})}})}function oe(xe,_e){return xe.y0>_e.y0&&xe.y0<_e.y1||xe.y1>_e.y0&&xe.y1<_e.y1?!0:xe.y0<_e.y0&&xe.y1>_e.y1}function j(xe,_e,De,Fe){return xe.y0+_e>=De&&xe.y1+_e<=Fe&&(xe.y0=xe.y0+_e,xe.y1=xe.y1+_e,xe.targetLinks.forEach(function(Te){Te.y1=Te.y1+_e}),xe.sourceLinks.forEach(function(Te){Te.y0=Te.y0+_e})),xe}function Y(xe,_e,De,Fe){xe.nodes.forEach(function(Te){Fe&&Te.y+(Te.y1-Te.y0)>_e&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-_e));var Re=xe.links.filter(function(Me){return y(Me.source,De)==y(Te,De)}),Se=Re.length;Se>1&&Re.sort(function(Me,Ve){if(!Me.circular&&!Ve.circular){if(Me.target.column==Ve.target.column)return Me.y1-Ve.y1;if(te(Me,Ve)){if(Me.target.column>Ve.target.column){var tt=X(Ve,Me);return Me.y1-tt}if(Ve.target.column>Me.target.column){var it=X(Me,Ve);return it-Ve.y1}}else return Me.y1-Ve.y1}if(Me.circular&&!Ve.circular)return Me.circularLinkType=="top"?-1:1;if(Ve.circular&&!Me.circular)return Ve.circularLinkType=="top"?1:-1;if(Me.circular&&Ve.circular)return Me.circularLinkType===Ve.circularLinkType&&Me.circularLinkType=="top"?Me.target.column===Ve.target.column?Me.target.y1-Ve.target.y1:Ve.target.column-Me.target.column:Me.circularLinkType===Ve.circularLinkType&&Me.circularLinkType=="bottom"?Me.target.column===Ve.target.column?Ve.target.y1-Me.target.y1:Me.target.column-Ve.target.column:Me.circularLinkType=="top"?-1:1});var ke=Te.y0;Re.forEach(function(Me){Me.y0=ke+Me.width/2,ke=ke+Me.width}),Re.forEach(function(Me,Ve){if(Me.circularLinkType=="bottom"){var tt=Ve+1,it=0;for(tt;tt<Se;tt++)it=it+Re[tt].width;Me.y0=Te.y1-it-Me.width/2}})})}function se(xe,_e,De){xe.nodes.forEach(function(Fe){var Te=xe.links.filter(function(ke){return y(ke.target,De)==y(Fe,De)}),Re=Te.length;Re>1&&Te.sort(function(ke,Me){if(!ke.circular&&!Me.circular){if(ke.source.column==Me.source.column)return ke.y0-Me.y0;if(te(ke,Me)){if(Me.source.column<ke.source.column){var Ve=ie(Me,ke);return ke.y0-Ve}if(ke.source.column<Me.source.column){var tt=ie(ke,Me);return tt-Me.y0}}else return ke.y0-Me.y0}if(ke.circular&&!Me.circular)return ke.circularLinkType=="top"?-1:1;if(Me.circular&&!ke.circular)return Me.circularLinkType=="top"?1:-1;if(ke.circular&&Me.circular)return ke.circularLinkType===Me.circularLinkType&&ke.circularLinkType=="top"?ke.source.column===Me.source.column?ke.source.y1-Me.source.y1:ke.source.column-Me.source.column:ke.circularLinkType===Me.circularLinkType&&ke.circularLinkType=="bottom"?ke.source.column===Me.source.column?ke.source.y1-Me.source.y1:Me.source.column-ke.source.column:ke.circularLinkType=="top"?-1:1});var Se=Fe.y0;Te.forEach(function(ke){ke.y1=Se+ke.width/2,Se=Se+ke.width}),Te.forEach(function(ke,Me){if(ke.circularLinkType=="bottom"){var Ve=Me+1,tt=0;for(Ve;Ve<Re;Ve++)tt=tt+Te[Ve].width;ke.y1=Fe.y1-tt-ke.width/2}})})}function te(xe,_e){return fe(xe)==fe(_e)}function fe(xe){return xe.y0-xe.y1>0?"up":"down"}function ge(xe,_e){return y(xe.source,_e)==y(xe.target,_e)}function be(xe,_e,De){var Fe=xe.nodes,Te=xe.links,Re=!1,Se=!1;if(Te.forEach(function(Je){Je.circularLinkType=="top"?Re=!0:Je.circularLinkType=="bottom"&&(Se=!0)}),Re==!1||Se==!1){var ke=(0,m.SY)(Fe,function(Je){return Je.y0}),Me=(0,m.kv)(Fe,function(Je){return Je.y1}),Ve=Me-ke,tt=De-_e,it=tt/Ve;Fe.forEach(function(Je){var Qe=(Je.y1-Je.y0)*it;Je.y0=(Je.y0-ke)*it,Je.y1=Je.y0+Qe}),Te.forEach(function(Je){Je.y0=(Je.y0-ke)*it,Je.y1=(Je.y1-ke)*it,Je.width=Je.width*it})}}},26800:function(G,H,e){e.r(H),e.d(H,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return S}});var m=e(84706),P=e(34712);function s(E){return E.target.depth}function L(E){return E.depth}function S(E,A){return A-1-E.height}function v(E,A){return E.sourceLinks.length?E.depth:A-1}function p(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,m.SY)(E.sourceLinks,s)-1:0}function r(E){return function(){return E}}function t(E,A){return n(E.source,A.source)||E.index-A.index}function a(E,A){return n(E.target,A.target)||E.index-A.index}function n(E,A){return E.y0-A.y0}function f(E){return E.value}function u(E){return(E.y0+E.y1)/2}function l(E){return u(E.source)*E.value}function g(E){return u(E.target)*E.value}function h(E){return E.index}function T(E){return E.nodes}function c(E){return E.links}function i(E,A){var o=E.get(A);if(!o)throw new Error("missing: "+A);return o}function d(){var E=0,A=0,o=1,M=1,x=24,I=8,D=h,N=v,k=T,O=c,F=32,z=2/3;function B(){var $={nodes:k.apply(null,arguments),links:O.apply(null,arguments)};return W($),J($),re($),ne($),le($),$}B.update=function($){return le($),$},B.nodeId=function($){return arguments.length?(D=typeof $=="function"?$:r($),B):D},B.nodeAlign=function($){return arguments.length?(N=typeof $=="function"?$:r($),B):N},B.nodeWidth=function($){return arguments.length?(x=+$,B):x},B.nodePadding=function($){return arguments.length?(I=+$,B):I},B.nodes=function($){return arguments.length?(k=typeof $=="function"?$:r($),B):k},B.links=function($){return arguments.length?(O=typeof $=="function"?$:r($),B):O},B.size=function($){return arguments.length?(E=A=0,o=+$[0],M=+$[1],B):[o-E,M-A]},B.extent=function($){return arguments.length?(E=+$[0][0],o=+$[1][0],A=+$[0][1],M=+$[1][1],B):[[E,A],[o,M]]},B.iterations=function($){return arguments.length?(F=+$,B):F};function W($){$.nodes.forEach(function(ie,X){ie.index=X,ie.sourceLinks=[],ie.targetLinks=[]});var Z=(0,P.kH)($.nodes,D);$.links.forEach(function(ie,X){ie.index=X;var Q=ie.source,oe=ie.target;typeof Q!="object"&&(Q=ie.source=i(Z,Q)),typeof oe!="object"&&(oe=ie.target=i(Z,oe)),Q.sourceLinks.push(ie),oe.targetLinks.push(ie)})}function J($){$.nodes.forEach(function(Z){Z.value=Math.max((0,m.oh)(Z.sourceLinks,f),(0,m.oh)(Z.targetLinks,f))})}function re($){var Z,ie,X;for(Z=$.nodes,ie=[],X=0;Z.length;++X,Z=ie,ie=[])Z.forEach(function(oe){oe.depth=X,oe.sourceLinks.forEach(function(j){ie.indexOf(j.target)<0&&ie.push(j.target)})});for(Z=$.nodes,ie=[],X=0;Z.length;++X,Z=ie,ie=[])Z.forEach(function(oe){oe.height=X,oe.targetLinks.forEach(function(j){ie.indexOf(j.source)<0&&ie.push(j.source)})});var Q=(o-E-x)/(X-1);$.nodes.forEach(function(oe){oe.x1=(oe.x0=E+Math.max(0,Math.min(X-1,Math.floor(N.call(null,oe,X))))*Q)+x})}function ne($){var Z=(0,P.UJ)().key(function(se){return se.x0}).sortKeys(m.XE).entries($.nodes).map(function(se){return se.values});Q(),Y();for(var ie=1,X=F;X>0;--X)j(ie*=.99),Y(),oe(ie),Y();function Q(){var se=(0,m.kv)(Z,function(ge){return ge.length}),te=z*(M-A)/(se-1);I>te&&(I=te);var fe=(0,m.SY)(Z,function(ge){return(M-A-(ge.length-1)*I)/(0,m.oh)(ge,f)});Z.forEach(function(ge){ge.forEach(function(be,xe){be.y1=(be.y0=xe)+be.value*fe})}),$.links.forEach(function(ge){ge.width=ge.value*fe})}function oe(se){Z.forEach(function(te){te.forEach(function(fe){if(fe.targetLinks.length){var ge=((0,m.oh)(fe.targetLinks,l)/(0,m.oh)(fe.targetLinks,f)-u(fe))*se;fe.y0+=ge,fe.y1+=ge}})})}function j(se){Z.slice().reverse().forEach(function(te){te.forEach(function(fe){if(fe.sourceLinks.length){var ge=((0,m.oh)(fe.sourceLinks,g)/(0,m.oh)(fe.sourceLinks,f)-u(fe))*se;fe.y0+=ge,fe.y1+=ge}})})}function Y(){Z.forEach(function(se){var te,fe,ge=A,be=se.length,xe;for(se.sort(n),xe=0;xe<be;++xe)te=se[xe],fe=ge-te.y0,fe>0&&(te.y0+=fe,te.y1+=fe),ge=te.y1+I;if(fe=ge-I-M,fe>0)for(ge=te.y0-=fe,te.y1-=fe,xe=be-2;xe>=0;--xe)te=se[xe],fe=te.y1+I-ge,fe>0&&(te.y0-=fe,te.y1-=fe),ge=te.y0})}}function le($){$.nodes.forEach(function(Z){Z.sourceLinks.sort(a),Z.targetLinks.sort(t)}),$.nodes.forEach(function(Z){var ie=Z.y0,X=ie;Z.sourceLinks.forEach(function(Q){Q.y0=ie+Q.width/2,ie+=Q.width}),Z.targetLinks.forEach(function(Q){Q.y1=X+Q.width/2,X+=Q.width})})}return B}var b=e(10132);function w(E){return[E.source.x1,E.y0]}function C(E){return[E.target.x0,E.y1]}function y(){return(0,b.ak)().source(w).target(C)}},33428:function(G,H,e){var m,P;(function(){var s={version:"3.8.2"},L=[].slice,S=function(ue){return L.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function r(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{S(v.documentElement.childNodes)[0].nodeType}catch{S=function(Ae){for(var Be=Ae.length,et=new Array(Be);Be--;)et[Be]=Ae[Be];return et}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,a=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Ae,Be){a.call(this,Ae,Be+"")},t.setAttributeNS=function(Ae,Be,et){n.call(this,Ae,Be,et+"")},f.setProperty=function(Ae,Be,et){u.call(this,Ae,Be+"",et)}}s.ascending=l;function l(ue,Ae){return ue<Ae?-1:ue>Ae?1:ue>=Ae?0:NaN}s.descending=function(ue,Ae){return Ae<ue?-1:Ae>ue?1:Ae>=ue?0:NaN},s.min=function(ue,Ae){var Be=-1,et=ue.length,nt,ft;if(arguments.length===1){for(;++Be<et;)if((ft=ue[Be])!=null&&ft>=ft){nt=ft;break}for(;++Be<et;)(ft=ue[Be])!=null&&nt>ft&&(nt=ft)}else{for(;++Be<et;)if((ft=Ae.call(ue,ue[Be],Be))!=null&&ft>=ft){nt=ft;break}for(;++Be<et;)(ft=Ae.call(ue,ue[Be],Be))!=null&&nt>ft&&(nt=ft)}return nt},s.max=function(ue,Ae){var Be=-1,et=ue.length,nt,ft;if(arguments.length===1){for(;++Be<et;)if((ft=ue[Be])!=null&&ft>=ft){nt=ft;break}for(;++Be<et;)(ft=ue[Be])!=null&&ft>nt&&(nt=ft)}else{for(;++Be<et;)if((ft=Ae.call(ue,ue[Be],Be))!=null&&ft>=ft){nt=ft;break}for(;++Be<et;)(ft=Ae.call(ue,ue[Be],Be))!=null&&ft>nt&&(nt=ft)}return nt},s.extent=function(ue,Ae){var Be=-1,et=ue.length,nt,ft,Pt;if(arguments.length===1){for(;++Be<et;)if((ft=ue[Be])!=null&&ft>=ft){nt=Pt=ft;break}for(;++Be<et;)(ft=ue[Be])!=null&&(nt>ft&&(nt=ft),Pt<ft&&(Pt=ft))}else{for(;++Be<et;)if((ft=Ae.call(ue,ue[Be],Be))!=null&&ft>=ft){nt=Pt=ft;break}for(;++Be<et;)(ft=Ae.call(ue,ue[Be],Be))!=null&&(nt>ft&&(nt=ft),Pt<ft&&(Pt=ft))}return[nt,Pt]};function g(ue){return ue===null?NaN:+ue}function h(ue){return!isNaN(ue)}s.sum=function(ue,Ae){var Be=0,et=ue.length,nt,ft=-1;if(arguments.length===1)for(;++ft<et;)h(nt=+ue[ft])&&(Be+=nt);else for(;++ft<et;)h(nt=+Ae.call(ue,ue[ft],ft))&&(Be+=nt);return Be},s.mean=function(ue,Ae){var Be=0,et=ue.length,nt,ft=-1,Pt=et;if(arguments.length===1)for(;++ft<et;)h(nt=g(ue[ft]))?Be+=nt:--Pt;else for(;++ft<et;)h(nt=g(Ae.call(ue,ue[ft],ft)))?Be+=nt:--Pt;if(Pt)return Be/Pt},s.quantile=function(ue,Ae){var Be=(ue.length-1)*Ae+1,et=Math.floor(Be),nt=+ue[et-1],ft=Be-et;return ft?nt+ft*(ue[et]-nt):nt},s.median=function(ue,Ae){var Be=[],et=ue.length,nt,ft=-1;if(arguments.length===1)for(;++ft<et;)h(nt=g(ue[ft]))&&Be.push(nt);else for(;++ft<et;)h(nt=g(Ae.call(ue,ue[ft],ft)))&&Be.push(nt);if(Be.length)return s.quantile(Be.sort(l),.5)},s.variance=function(ue,Ae){var Be=ue.length,et=0,nt,ft,Pt=0,St=-1,Gt=0;if(arguments.length===1)for(;++St<Be;)h(nt=g(ue[St]))&&(ft=nt-et,et+=ft/++Gt,Pt+=ft*(nt-et));else for(;++St<Be;)h(nt=g(Ae.call(ue,ue[St],St)))&&(ft=nt-et,et+=ft/++Gt,Pt+=ft*(nt-et));if(Gt>1)return Pt/(Gt-1)},s.deviation=function(){var ue=s.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function T(ue){return{left:function(Ae,Be,et,nt){for(arguments.length<3&&(et=0),arguments.length<4&&(nt=Ae.length);et<nt;){var ft=et+nt>>>1;ue(Ae[ft],Be)<0?et=ft+1:nt=ft}return et},right:function(Ae,Be,et,nt){for(arguments.length<3&&(et=0),arguments.length<4&&(nt=Ae.length);et<nt;){var ft=et+nt>>>1;ue(Ae[ft],Be)>0?nt=ft:et=ft+1}return et}}}var c=T(l);s.bisectLeft=c.left,s.bisect=s.bisectRight=c.right,s.bisector=function(ue){return T(ue.length===1?function(Ae,Be){return l(ue(Ae),Be)}:ue)},s.shuffle=function(ue,Ae,Be){(et=arguments.length)<3&&(Be=ue.length,et<2&&(Ae=0));for(var et=Be-Ae,nt,ft;et;)ft=Math.random()*et--|0,nt=ue[et+Ae],ue[et+Ae]=ue[ft+Ae],ue[ft+Ae]=nt;return ue},s.permute=function(ue,Ae){for(var Be=Ae.length,et=new Array(Be);Be--;)et[Be]=ue[Ae[Be]];return et},s.pairs=function(ue){for(var Ae=0,Be=ue.length-1,et=ue[0],nt=new Array(Be<0?0:Be);Ae<Be;)nt[Ae]=[et,et=ue[++Ae]];return nt},s.transpose=function(ue){if(!(ft=ue.length))return[];for(var Ae=-1,Be=s.min(ue,i),et=new Array(Be);++Ae<Be;)for(var nt=-1,ft,Pt=et[Ae]=new Array(ft);++nt<ft;)Pt[nt]=ue[nt][Ae];return et};function i(ue){return ue.length}s.zip=function(){return s.transpose(arguments)},s.keys=function(ue){var Ae=[];for(var Be in ue)Ae.push(Be);return Ae},s.values=function(ue){var Ae=[];for(var Be in ue)Ae.push(ue[Be]);return Ae},s.entries=function(ue){var Ae=[];for(var Be in ue)Ae.push({key:Be,value:ue[Be]});return Ae},s.merge=function(ue){for(var Ae=ue.length,Be,et=-1,nt=0,ft,Pt;++et<Ae;)nt+=ue[et].length;for(ft=new Array(nt);--Ae>=0;)for(Pt=ue[Ae],Be=Pt.length;--Be>=0;)ft[--nt]=Pt[Be];return ft};var d=Math.abs;s.range=function(ue,Ae,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(Ae=ue,ue=0)),(Ae-ue)/Be===1/0)throw new Error("infinite range");var et=[],nt=b(d(Be)),ft=-1,Pt;if(ue*=nt,Ae*=nt,Be*=nt,Be<0)for(;(Pt=ue+Be*++ft)>Ae;)et.push(Pt/nt);else for(;(Pt=ue+Be*++ft)<Ae;)et.push(Pt/nt);return et};function b(ue){for(var Ae=1;ue*Ae%1;)Ae*=10;return Ae}function w(ue,Ae){for(var Be in Ae)Object.defineProperty(ue.prototype,Be,{value:Ae[Be],enumerable:!1})}s.map=function(ue,Ae){var Be=new C;if(ue instanceof C)ue.forEach(function(St,Gt){Be.set(St,Gt)});else if(Array.isArray(ue)){var et=-1,nt=ue.length,ft;if(arguments.length===1)for(;++et<nt;)Be.set(et,ue[et]);else for(;++et<nt;)Be.set(Ae.call(ue,ft=ue[et],et),ft)}else for(var Pt in ue)Be.set(Pt,ue[Pt]);return Be};function C(){this._=Object.create(null)}var y="__proto__",E="\0";w(C,{has:M,get:function(ue){return this._[A(ue)]},set:function(ue,Ae){return this._[A(ue)]=Ae},remove:x,keys:I,values:function(){var ue=[];for(var Ae in this._)ue.push(this._[Ae]);return ue},entries:function(){var ue=[];for(var Ae in this._)ue.push({key:o(Ae),value:this._[Ae]});return ue},size:D,empty:N,forEach:function(ue){for(var Ae in this._)ue.call(this,o(Ae),this._[Ae])}});function A(ue){return(ue+="")===y||ue[0]===E?E+ue:ue}function o(ue){return(ue+="")[0]===E?ue.slice(1):ue}function M(ue){return A(ue)in this._}function x(ue){return(ue=A(ue))in this._&&delete this._[ue]}function I(){var ue=[];for(var Ae in this._)ue.push(o(Ae));return ue}function D(){var ue=0;for(var Ae in this._)++ue;return ue}function N(){for(var ue in this._)return!1;return!0}s.nest=function(){var ue={},Ae=[],Be=[],et,nt;function ft(St,Gt,jt){if(jt>=Ae.length)return nt?nt.call(ue,Gt):et?Gt.sort(et):Gt;for(var nr=-1,Lr=Gt.length,Pr=Ae[jt++],$r,sn,Rr,Vr=new C,Kr;++nr<Lr;)(Kr=Vr.get($r=Pr(sn=Gt[nr])))?Kr.push(sn):Vr.set($r,[sn]);return St?(sn=St(),Rr=function(hn,pn){sn.set(hn,ft(St,pn,jt))}):(sn={},Rr=function(hn,pn){sn[hn]=ft(St,pn,jt)}),Vr.forEach(Rr),sn}function Pt(St,Gt){if(Gt>=Ae.length)return St;var jt=[],nr=Be[Gt++];return St.forEach(function(Lr,Pr){jt.push({key:Lr,values:Pt(Pr,Gt)})}),nr?jt.sort(function(Lr,Pr){return nr(Lr.key,Pr.key)}):jt}return ue.map=function(St,Gt){return ft(Gt,St,0)},ue.entries=function(St){return Pt(ft(s.map,St,0),0)},ue.key=function(St){return Ae.push(St),ue},ue.sortKeys=function(St){return Be[Ae.length-1]=St,ue},ue.sortValues=function(St){return et=St,ue},ue.rollup=function(St){return nt=St,ue},ue},s.set=function(ue){var Ae=new k;if(ue)for(var Be=0,et=ue.length;Be<et;++Be)Ae.add(ue[Be]);return Ae};function k(){this._=Object.create(null)}w(k,{has:M,add:function(ue){return this._[A(ue+="")]=!0,ue},remove:x,values:I,size:D,empty:N,forEach:function(ue){for(var Ae in this._)ue.call(this,o(Ae))}}),s.behavior={};function O(ue){return ue}s.rebind=function(ue,Ae){for(var Be=1,et=arguments.length,nt;++Be<et;)ue[nt=arguments[Be]]=F(ue,Ae,Ae[nt]);return ue};function F(ue,Ae,Be){return function(){var et=Be.apply(Ae,arguments);return et===Ae?ue:et}}function z(ue,Ae){if(Ae in ue)return Ae;Ae=Ae.charAt(0).toUpperCase()+Ae.slice(1);for(var Be=0,et=B.length;Be<et;++Be){var nt=B[Be]+Ae;if(nt in ue)return nt}}var B=["webkit","ms","moz","Moz","o","O"];function W(){}s.dispatch=function(){for(var ue=new J,Ae=-1,Be=arguments.length;++Ae<Be;)ue[arguments[Ae]]=re(ue);return ue};function J(){}J.prototype.on=function(ue,Ae){var Be=ue.indexOf("."),et="";if(Be>=0&&(et=ue.slice(Be+1),ue=ue.slice(0,Be)),ue)return arguments.length<2?this[ue].on(et):this[ue].on(et,Ae);if(arguments.length===2){if(Ae==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(et,null);return this}};function re(ue){var Ae=[],Be=new C;function et(){for(var nt=Ae,ft=-1,Pt=nt.length,St;++ft<Pt;)(St=nt[ft].on)&&St.apply(this,arguments);return ue}return et.on=function(nt,ft){var Pt=Be.get(nt),St;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Ae=Ae.slice(0,St=Ae.indexOf(Pt)).concat(Ae.slice(St+1)),Be.remove(nt)),ft&&Ae.push(Be.set(nt,{on:ft})),ue)},et}s.event=null;function ne(){s.event.preventDefault()}function le(){for(var ue=s.event,Ae;Ae=ue.sourceEvent;)ue=Ae;return ue}function $(ue){for(var Ae=new J,Be=0,et=arguments.length;++Be<et;)Ae[arguments[Be]]=re(Ae);return Ae.of=function(nt,ft){return function(Pt){try{var St=Pt.sourceEvent=s.event;Pt.target=ue,s.event=Pt,Ae[Pt.type].apply(nt,ft)}finally{s.event=St}}},Ae}s.requote=function(ue){return ue.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ie={}.__proto__?function(ue,Ae){ue.__proto__=Ae}:function(ue,Ae){for(var Be in Ae)ue[Be]=Ae[Be]};function X(ue){return ie(ue,Y),ue}var Q=function(ue,Ae){return Ae.querySelector(ue)},oe=function(ue,Ae){return Ae.querySelectorAll(ue)},j=function(ue,Ae){var Be=ue.matches||ue[z(ue,"matchesSelector")];return j=function(et,nt){return Be.call(et,nt)},j(ue,Ae)};typeof Sizzle=="function"&&(Q=function(ue,Ae){return Sizzle(ue,Ae)[0]||null},oe=Sizzle,j=Sizzle.matchesSelector),s.selection=function(){return s.select(v.documentElement)};var Y=s.selection.prototype=[];Y.select=function(ue){var Ae=[],Be,et,nt,ft;ue=se(ue);for(var Pt=-1,St=this.length;++Pt<St;){Ae.push(Be=[]),Be.parentNode=(nt=this[Pt]).parentNode;for(var Gt=-1,jt=nt.length;++Gt<jt;)(ft=nt[Gt])?(Be.push(et=ue.call(ft,ft.__data__,Gt,Pt)),et&&"__data__"in ft&&(et.__data__=ft.__data__)):Be.push(null)}return X(Ae)};function se(ue){return typeof ue=="function"?ue:function(){return Q(ue,this)}}Y.selectAll=function(ue){var Ae=[],Be,et;ue=te(ue);for(var nt=-1,ft=this.length;++nt<ft;)for(var Pt=this[nt],St=-1,Gt=Pt.length;++St<Gt;)(et=Pt[St])&&(Ae.push(Be=S(ue.call(et,et.__data__,St,nt))),Be.parentNode=et);return X(Ae)};function te(ue){return typeof ue=="function"?ue:function(){return oe(ue,this)}}var fe="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:ge,qualify:function(ue){var Ae=ue.indexOf(":"),Be=ue;return Ae>=0&&(Be=ue.slice(0,Ae))!=="xmlns"&&(ue=ue.slice(Ae+1)),ge.hasOwnProperty(Be)?{space:ge[Be],local:ue}:ue}},Y.attr=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string"){var Be=this.node();return ue=s.ns.qualify(ue),ue.local?Be.getAttributeNS(ue.space,ue.local):Be.getAttribute(ue)}for(Ae in ue)this.each(be(Ae,ue[Ae]));return this}return this.each(be(ue,Ae))};function be(ue,Ae){ue=s.ns.qualify(ue);function Be(){this.removeAttribute(ue)}function et(){this.removeAttributeNS(ue.space,ue.local)}function nt(){this.setAttribute(ue,Ae)}function ft(){this.setAttributeNS(ue.space,ue.local,Ae)}function Pt(){var Gt=Ae.apply(this,arguments);Gt==null?this.removeAttribute(ue):this.setAttribute(ue,Gt)}function St(){var Gt=Ae.apply(this,arguments);Gt==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Gt)}return Ae==null?ue.local?et:Be:typeof Ae=="function"?ue.local?St:Pt:ue.local?ft:nt}function xe(ue){return ue.trim().replace(/\s+/g," ")}Y.classed=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string"){var Be=this.node(),et=(ue=De(ue)).length,nt=-1;if(Ae=Be.classList){for(;++nt<et;)if(!Ae.contains(ue[nt]))return!1}else for(Ae=Be.getAttribute("class");++nt<et;)if(!_e(ue[nt]).test(Ae))return!1;return!0}for(Ae in ue)this.each(Fe(Ae,ue[Ae]));return this}return this.each(Fe(ue,Ae))};function _e(ue){return new RegExp("(?:^|\\s+)"+s.requote(ue)+"(?:\\s+|$)","g")}function De(ue){return(ue+"").trim().split(/^|\s+/)}function Fe(ue,Ae){ue=De(ue).map(Te);var Be=ue.length;function et(){for(var ft=-1;++ft<Be;)ue[ft](this,Ae)}function nt(){for(var ft=-1,Pt=Ae.apply(this,arguments);++ft<Be;)ue[ft](this,Pt)}return typeof Ae=="function"?nt:et}function Te(ue){var Ae=_e(ue);return function(Be,et){if(nt=Be.classList)return et?nt.add(ue):nt.remove(ue);var nt=Be.getAttribute("class")||"";et?(Ae.lastIndex=0,Ae.test(nt)||Be.setAttribute("class",xe(nt+" "+ue))):Be.setAttribute("class",xe(nt.replace(Ae," ")))}}Y.style=function(ue,Ae,Be){var et=arguments.length;if(et<3){if(typeof ue!="string"){et<2&&(Ae="");for(Be in ue)this.each(Re(Be,ue[Be],Ae));return this}if(et<2){var nt=this.node();return r(nt).getComputedStyle(nt,null).getPropertyValue(ue)}Be=""}return this.each(Re(ue,Ae,Be))};function Re(ue,Ae,Be){function et(){this.style.removeProperty(ue)}function nt(){this.style.setProperty(ue,Ae,Be)}function ft(){var Pt=Ae.apply(this,arguments);Pt==null?this.style.removeProperty(ue):this.style.setProperty(ue,Pt,Be)}return Ae==null?et:typeof Ae=="function"?ft:nt}Y.property=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Ae in ue)this.each(Se(Ae,ue[Ae]));return this}return this.each(Se(ue,Ae))};function Se(ue,Ae){function Be(){delete this[ue]}function et(){this[ue]=Ae}function nt(){var ft=Ae.apply(this,arguments);ft==null?delete this[ue]:this[ue]=ft}return Ae==null?Be:typeof Ae=="function"?nt:et}Y.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ae=ue.apply(this,arguments);this.textContent=Ae??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},Y.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ae=ue.apply(this,arguments);this.innerHTML=Ae??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},Y.append=function(ue){return ue=ke(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function ke(ue){function Ae(){var et=this.ownerDocument,nt=this.namespaceURI;return nt===fe&&et.documentElement.namespaceURI===fe?et.createElement(ue):et.createElementNS(nt,ue)}function Be(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=s.ns.qualify(ue)).local?Be:Ae}Y.insert=function(ue,Ae){return ue=ke(ue),Ae=se(Ae),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Ae.apply(this,arguments)||null)})},Y.remove=function(){return this.each(Me)};function Me(){var ue=this.parentNode;ue&&ue.removeChild(this)}Y.data=function(ue,Ae){var Be=-1,et=this.length,nt,ft;if(!arguments.length){for(ue=new Array(et=(nt=this[0]).length);++Be<et;)(ft=nt[Be])&&(ue[Be]=ft.__data__);return ue}function Pt(nr,Lr){var Pr,$r=nr.length,sn=Lr.length,Rr=Math.min($r,sn),Vr=new Array(sn),Kr=new Array(sn),hn=new Array($r),pn,rn;if(Ae){var Gn=new C,ra=new Array($r),fa;for(Pr=-1;++Pr<$r;)(pn=nr[Pr])&&(Gn.has(fa=Ae.call(pn,pn.__data__,Pr))?hn[Pr]=pn:Gn.set(fa,pn),ra[Pr]=fa);for(Pr=-1;++Pr<sn;)(pn=Gn.get(fa=Ae.call(Lr,rn=Lr[Pr],Pr)))?pn!==!0&&(Vr[Pr]=pn,pn.__data__=rn):Kr[Pr]=Ve(rn),Gn.set(fa,!0);for(Pr=-1;++Pr<$r;)Pr in ra&&Gn.get(ra[Pr])!==!0&&(hn[Pr]=nr[Pr])}else{for(Pr=-1;++Pr<Rr;)pn=nr[Pr],rn=Lr[Pr],pn?(pn.__data__=rn,Vr[Pr]=pn):Kr[Pr]=Ve(rn);for(;Pr<sn;++Pr)Kr[Pr]=Ve(Lr[Pr]);for(;Pr<$r;++Pr)hn[Pr]=nr[Pr]}Kr.update=Vr,Kr.parentNode=Vr.parentNode=hn.parentNode=nr.parentNode,St.push(Kr),Gt.push(Vr),jt.push(hn)}var St=Qe([]),Gt=X([]),jt=X([]);if(typeof ue=="function")for(;++Be<et;)Pt(nt=this[Be],ue.call(nt,nt.parentNode.__data__,Be));else for(;++Be<et;)Pt(nt=this[Be],ue);return Gt.enter=function(){return St},Gt.exit=function(){return jt},Gt};function Ve(ue){return{__data__:ue}}Y.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},Y.filter=function(ue){var Ae=[],Be,et,nt;typeof ue!="function"&&(ue=tt(ue));for(var ft=0,Pt=this.length;ft<Pt;ft++){Ae.push(Be=[]),Be.parentNode=(et=this[ft]).parentNode;for(var St=0,Gt=et.length;St<Gt;St++)(nt=et[St])&&ue.call(nt,nt.__data__,St,ft)&&Be.push(nt)}return X(Ae)};function tt(ue){return function(){return j(this,ue)}}Y.order=function(){for(var ue=-1,Ae=this.length;++ue<Ae;)for(var Be=this[ue],et=Be.length-1,nt=Be[et],ft;--et>=0;)(ft=Be[et])&&(nt&&nt!==ft.nextSibling&&nt.parentNode.insertBefore(ft,nt),nt=ft);return this},Y.sort=function(ue){ue=it.apply(this,arguments);for(var Ae=-1,Be=this.length;++Ae<Be;)this[Ae].sort(ue);return this.order()};function it(ue){return arguments.length||(ue=l),function(Ae,Be){return Ae&&Be?ue(Ae.__data__,Be.__data__):!Ae-!Be}}Y.each=function(ue){return Je(this,function(Ae,Be,et){ue.call(Ae,Ae.__data__,Be,et)})};function Je(ue,Ae){for(var Be=0,et=ue.length;Be<et;Be++)for(var nt=ue[Be],ft=0,Pt=nt.length,St;ft<Pt;ft++)(St=nt[ft])&&Ae(St,ft,Be);return ue}Y.call=function(ue){var Ae=S(arguments);return ue.apply(Ae[0]=this,Ae),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var ue=0,Ae=this.length;ue<Ae;ue++)for(var Be=this[ue],et=0,nt=Be.length;et<nt;et++){var ft=Be[et];if(ft)return ft}return null},Y.size=function(){var ue=0;return Je(this,function(){++ue}),ue};function Qe(ue){return ie(ue,ct),ue}var ct=[];s.selection.enter=Qe,s.selection.enter.prototype=ct,ct.append=Y.append,ct.empty=Y.empty,ct.node=Y.node,ct.call=Y.call,ct.size=Y.size,ct.select=function(ue){for(var Ae=[],Be,et,nt,ft,Pt,St=-1,Gt=this.length;++St<Gt;){nt=(ft=this[St]).update,Ae.push(Be=[]),Be.parentNode=ft.parentNode;for(var jt=-1,nr=ft.length;++jt<nr;)(Pt=ft[jt])?(Be.push(nt[jt]=et=ue.call(ft.parentNode,Pt.__data__,jt,St)),et.__data__=Pt.__data__):Be.push(null)}return X(Ae)},ct.insert=function(ue,Ae){return arguments.length<2&&(Ae=ht(this)),Y.insert.call(this,ue,Ae)};function ht(ue){var Ae,Be;return function(et,nt,ft){var Pt=ue[ft].update,St=Pt.length,Gt;for(ft!=Be&&(Be=ft,Ae=0),nt>=Ae&&(Ae=nt+1);!(Gt=Pt[Ae])&&++Ae<St;);return Gt}}s.select=function(ue){var Ae;return typeof ue=="string"?(Ae=[Q(ue,v)],Ae.parentNode=v.documentElement):(Ae=[ue],Ae.parentNode=p(ue)),X([Ae])},s.selectAll=function(ue){var Ae;return typeof ue=="string"?(Ae=S(oe(ue,v)),Ae.parentNode=v.documentElement):(Ae=S(ue),Ae.parentNode=null),X([Ae])},Y.on=function(ue,Ae,Be){var et=arguments.length;if(et<3){if(typeof ue!="string"){et<2&&(Ae=!1);for(Be in ue)this.each(dt(Be,ue[Be],Ae));return this}if(et<2)return(et=this.node()["__on"+ue])&&et._;Be=!1}return this.each(dt(ue,Ae,Be))};function dt(ue,Ae,Be){var et="__on"+ue,nt=ue.indexOf("."),ft=Et;nt>0&&(ue=ue.slice(0,nt));var Pt=Tt.get(ue);Pt&&(ue=Pt,ft=rt);function St(){var nr=this[et];nr&&(this.removeEventListener(ue,nr,nr.$),delete this[et])}function Gt(){var nr=ft(Ae,S(arguments));St.call(this),this.addEventListener(ue,this[et]=nr,nr.$=Be),nr._=Ae}function jt(){var nr=new RegExp("^__on([^.]+)"+s.requote(ue)+"$"),Lr;for(var Pr in this)if(Lr=Pr.match(nr)){var $r=this[Pr];this.removeEventListener(Lr[1],$r,$r.$),delete this[Pr]}}return nt?Ae?Gt:St:Ae?W:jt}var Tt=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Tt.forEach(function(ue){"on"+ue in v&&Tt.remove(ue)});function Et(ue,Ae){return function(Be){var et=s.event;s.event=Be,Ae[0]=this.__data__;try{ue.apply(this,Ae)}finally{s.event=et}}}function rt(ue,Ae){var Be=Et(ue,Ae);return function(et){var nt=this,ft=et.relatedTarget;(!ft||ft!==nt&&!(ft.compareDocumentPosition(nt)&8))&&Be.call(nt,et)}}var ze,Ge=0;function je(ue){var Ae=".dragsuppress-"+ ++Ge,Be="click"+Ae,et=s.select(r(ue)).on("touchmove"+Ae,ne).on("dragstart"+Ae,ne).on("selectstart"+Ae,ne);if(ze==null&&(ze="onselectstart"in ue?!1:z(ue.style,"userSelect")),ze){var nt=p(ue).style,ft=nt[ze];nt[ze]="none"}return function(Pt){if(et.on(Ae,null),ze&&(nt[ze]=ft),Pt){var St=function(){et.on(Be,null)};et.on(Be,function(){ne(),St()},!0),setTimeout(St,0)}}}s.mouse=function(ue){return Le(ue,le())};var We=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Le(ue,Ae){Ae.changedTouches&&(Ae=Ae.changedTouches[0]);var Be=ue.ownerSVGElement||ue;if(Be.createSVGPoint){var et=Be.createSVGPoint();if(We<0){var nt=r(ue);if(nt.scrollX||nt.scrollY){Be=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=Be[0][0].getScreenCTM();We=!(ft.f||ft.e),Be.remove()}}return We?(et.x=Ae.pageX,et.y=Ae.pageY):(et.x=Ae.clientX,et.y=Ae.clientY),et=et.matrixTransform(ue.getScreenCTM().inverse()),[et.x,et.y]}var Pt=ue.getBoundingClientRect();return[Ae.clientX-Pt.left-ue.clientLeft,Ae.clientY-Pt.top-ue.clientTop]}s.touch=function(ue,Ae,Be){if(arguments.length<3&&(Be=Ae,Ae=le().changedTouches),Ae){for(var et=0,nt=Ae.length,ft;et<nt;++et)if((ft=Ae[et]).identifier===Be)return Le(ue,ft)}},s.behavior.drag=function(){var ue=$(nt,"drag","dragstart","dragend"),Ae=null,Be=ft(W,s.mouse,r,"mousemove","mouseup"),et=ft(Pe,s.touch,O,"touchmove","touchend");function nt(){this.on("mousedown.drag",Be).on("touchstart.drag",et)}function ft(Pt,St,Gt,jt,nr){return function(){var Lr=this,Pr=s.event.target.correspondingElement||s.event.target,$r=Lr.parentNode,sn=ue.of(Lr,arguments),Rr=0,Vr=Pt(),Kr=".drag"+(Vr==null?"":"-"+Vr),hn,pn=s.select(Gt(Pr)).on(jt+Kr,ra).on(nr+Kr,fa),rn=je(Pr),Gn=St($r,Vr);Ae?(hn=Ae.apply(Lr,arguments),hn=[hn.x-Gn[0],hn.y-Gn[1]]):hn=[0,0],sn({type:"dragstart"});function ra(){var ea=St($r,Vr),oa,ca;ea&&(oa=ea[0]-Gn[0],ca=ea[1]-Gn[1],Rr|=oa|ca,Gn=ea,sn({type:"drag",x:ea[0]+hn[0],y:ea[1]+hn[1],dx:oa,dy:ca}))}function fa(){St($r,Vr)&&(pn.on(jt+Kr,null).on(nr+Kr,null),rn(Rr),sn({type:"dragend"}))}}}return nt.origin=function(Pt){return arguments.length?(Ae=Pt,nt):Ae},s.rebind(nt,ue,"on")};function Pe(){return s.event.changedTouches[0].identifier}s.touches=function(ue,Ae){return arguments.length<2&&(Ae=le().touches),Ae?S(Ae).map(function(Be){var et=Le(ue,Be);return et.identifier=Be.identifier,et}):[]};var Ye=1e-6,Ce=Ye*Ye,he=Math.PI,me=2*he,Ne=me-Ye,$e=he/2,ot=he/180,st=180/he;function Wt(ue,Ae,Be){return(Ae[0]-ue[0])*(Be[1]-ue[1])-(Ae[1]-ue[1])*(Be[0]-ue[0])}function Zt(ue){return ue>1?$e:ue<-1?-$e:Math.asin(ue)}function At(ue){return((ue=Math.exp(ue))-1/ue)/2}function Rt(ue){return((ue=Math.exp(ue))+1/ue)/2}function Xt(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var ir=Math.SQRT2,pt=2,Kt=4;s.interpolateZoom=function(ue,Ae){var Be=ue[0],et=ue[1],nt=ue[2],ft=Ae[0],Pt=Ae[1],St=Ae[2],Gt=ft-Be,jt=Pt-et,nr=Gt*Gt+jt*jt,Lr,Pr;if(nr<Ce)Pr=Math.log(St/nt)/ir,Lr=function(hn){return[Be+hn*Gt,et+hn*jt,nt*Math.exp(ir*hn*Pr)]};else{var $r=Math.sqrt(nr),sn=(St*St-nt*nt+Kt*nr)/(2*nt*pt*$r),Rr=(St*St-nt*nt-Kt*nr)/(2*St*pt*$r),Vr=Math.log(Math.sqrt(sn*sn+1)-sn),Kr=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Pr=(Kr-Vr)/ir,Lr=function(hn){var pn=hn*Pr,rn=Rt(Vr),Gn=nt/(pt*$r)*(rn*Xt(ir*pn+Vr)-At(Vr));return[Be+Gn*Gt,et+Gn*jt,nt*rn/Rt(ir*pn+Vr)]}}return Lr.duration=Pr*1e3,Lr},s.behavior.zoom=function(){var ue={x:0,y:0,k:1},Ae,Be,et,nt=[960,500],ft=Qt,Pt=250,St=0,Gt="mousedown.zoom",jt="mousemove.zoom",nr="mouseup.zoom",Lr,Pr="touchstart.zoom",$r,sn=$(pn,"zoomstart","zoom","zoomend"),Rr,Vr,Kr,hn;ur||(ur="onwheel"in v?(yr=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return s.event.wheelDelta},"mousewheel"):(yr=function(){return-s.event.detail},"MozMousePixelScroll"));function pn(qn){qn.on(Gt,Oa).on(ur+".zoom",Fi).on("dblclick.zoom",ci).on(Pr,ii)}pn.event=function(qn){qn.each(function(){var Ha=sn.of(this,arguments),Ma=ue;Ir?s.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},ca(Ha)}).tween("zoom:zoom",function(){var Ja=nt[0],wi=nt[1],oi=Be?Be[0]:Ja/2,$i=Be?Be[1]:wi/2,qi=s.interpolateZoom([(oi-ue.x)/ue.k,($i-ue.y)/ue.k,Ja/ue.k],[(oi-Ma.x)/Ma.k,($i-Ma.y)/Ma.k,Ja/Ma.k]);return function(ao){var Ti=qi(ao),go=Ja/Ti[2];this.__chart__=ue={x:oi-Ti[0]*go,y:$i-Ti[1]*go,k:go},Ua(Ha)}}).each("interrupt.zoom",function(){Ca(Ha)}).each("end.zoom",function(){Ca(Ha)}):(this.__chart__=ue,ca(Ha),Ua(Ha),Ca(Ha))})},pn.translate=function(qn){return arguments.length?(ue={x:+qn[0],y:+qn[1],k:ue.k},oa(),pn):[ue.x,ue.y]},pn.scale=function(qn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},ra(+qn),oa(),pn):ue.k},pn.scaleExtent=function(qn){return arguments.length?(ft=qn==null?Qt:[+qn[0],+qn[1]],pn):ft},pn.center=function(qn){return arguments.length?(et=qn&&[+qn[0],+qn[1]],pn):et},pn.size=function(qn){return arguments.length?(nt=qn&&[+qn[0],+qn[1]],pn):nt},pn.duration=function(qn){return arguments.length?(Pt=+qn,pn):Pt},pn.x=function(qn){return arguments.length?(Vr=qn,Rr=qn.copy(),ue={x:0,y:0,k:1},pn):Vr},pn.y=function(qn){return arguments.length?(hn=qn,Kr=qn.copy(),ue={x:0,y:0,k:1},pn):hn};function rn(qn){return[(qn[0]-ue.x)/ue.k,(qn[1]-ue.y)/ue.k]}function Gn(qn){return[qn[0]*ue.k+ue.x,qn[1]*ue.k+ue.y]}function ra(qn){ue.k=Math.max(ft[0],Math.min(ft[1],qn))}function fa(qn,Ha){Ha=Gn(Ha),ue.x+=qn[0]-Ha[0],ue.y+=qn[1]-Ha[1]}function ea(qn,Ha,Ma,Ja){qn.__chart__={x:ue.x,y:ue.y,k:ue.k},ra(Math.pow(2,Ja)),fa(Be=Ha,Ma),qn=s.select(qn),Pt>0&&(qn=qn.transition().duration(Pt)),qn.call(pn.event)}function oa(){Vr&&Vr.domain(Rr.range().map(function(qn){return(qn-ue.x)/ue.k}).map(Rr.invert)),hn&&hn.domain(Kr.range().map(function(qn){return(qn-ue.y)/ue.k}).map(Kr.invert))}function ca(qn){St++||qn({type:"zoomstart"})}function Ua(qn){oa(),qn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Ca(qn){--St||(qn({type:"zoomend"}),Be=null)}function Oa(){var qn=this,Ha=sn.of(qn,arguments),Ma=0,Ja=s.select(r(qn)).on(jt,$i).on(nr,qi),wi=rn(s.mouse(qn)),oi=je(qn);Ft.call(qn),ca(Ha);function $i(){Ma=1,fa(s.mouse(qn),wi),Ua(Ha)}function qi(){Ja.on(jt,null).on(nr,null),oi(Ma),Ca(Ha)}}function ii(){var qn=this,Ha=sn.of(qn,arguments),Ma={},Ja=0,wi,oi=".zoom-"+s.event.changedTouches[0].identifier,$i="touchmove"+oi,qi="touchend"+oi,ao=[],Ti=s.select(qn),go=je(qn);Pa(),ca(Ha),Ti.on(Gt,null).on(Pr,Pa);function la(){var io=s.touches(qn);return wi=ue.k,io.forEach(function(hi){hi.identifier in Ma&&(Ma[hi.identifier]=rn(hi))}),io}function Pa(){var io=s.event.target;s.select(io).on($i,Ro).on(qi,Fo),ao.push(io);for(var hi=s.event.changedTouches,Wi=0,Ni=hi.length;Wi<Ni;++Wi)Ma[hi[Wi].identifier]=null;var ps=la(),Ds=Date.now();if(ps.length===1){if(Ds-$r<500){var Li=ps[0];ea(qn,Li,Ma[Li.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),ne()}$r=Ds}else if(ps.length>1){var Li=ps[0],Gl=ps[1],Qa=Li[0]-Gl[0],Pi=Li[1]-Gl[1];Ja=Qa*Qa+Pi*Pi}}function Ro(){var io=s.touches(qn),hi,Wi,Ni,ps;Ft.call(qn);for(var Ds=0,Li=io.length;Ds<Li;++Ds,ps=null)if(Ni=io[Ds],ps=Ma[Ni.identifier]){if(Wi)break;hi=Ni,Wi=ps}if(ps){var Gl=(Gl=Ni[0]-hi[0])*Gl+(Gl=Ni[1]-hi[1])*Gl,Qa=Ja&&Math.sqrt(Gl/Ja);hi=[(hi[0]+Ni[0])/2,(hi[1]+Ni[1])/2],Wi=[(Wi[0]+ps[0])/2,(Wi[1]+ps[1])/2],ra(Qa*wi)}$r=null,fa(hi,Wi),Ua(Ha)}function Fo(){if(s.event.touches.length){for(var io=s.event.changedTouches,hi=0,Wi=io.length;hi<Wi;++hi)delete Ma[io[hi].identifier];for(var Ni in Ma)return void la()}s.selectAll(ao).on(oi,null),Ti.on(Gt,Oa).on(Pr,ii),go(),Ca(Ha)}}function Fi(){var qn=sn.of(this,arguments);Lr?clearTimeout(Lr):(Ft.call(this),Ae=rn(Be=et||s.mouse(this)),ca(qn)),Lr=setTimeout(function(){Lr=null,Ca(qn)},50),ne(),ra(Math.pow(2,yr()*.002)*ue.k),fa(Be,Ae),Ua(qn)}function ci(){var qn=s.mouse(this),Ha=Math.log(ue.k)/Math.LN2;ea(this,qn,rn(qn),s.event.shiftKey?Math.ceil(Ha)-1:Math.floor(Ha)+1)}return s.rebind(pn,sn,"on")};var Qt=[0,1/0],yr,ur;s.color=mt;function mt(){}mt.prototype.toString=function(){return this.rgb()+""},s.hsl=lt;function lt(ue,Ae,Be){return this instanceof lt?(this.h=+ue,this.s=+Ae,void(this.l=+Be)):arguments.length<2?ue instanceof lt?new lt(ue.h,ue.s,ue.l):xr(""+ue,pr,lt):new lt(ue,Ae,Be)}var bt=lt.prototype=new mt;bt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new lt(this.h,this.s,this.l/ue)},bt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new lt(this.h,this.s,ue*this.l)},bt.rgb=function(){return Ct(this.h,this.s,this.l)};function Ct(ue,Ae,Be){var et,nt;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Ae=isNaN(Ae)||Ae<0?0:Ae>1?1:Ae,Be=Be<0?0:Be>1?1:Be,nt=Be<=.5?Be*(1+Ae):Be+Ae-Be*Ae,et=2*Be-nt;function ft(St){return St>360?St-=360:St<0&&(St+=360),St<60?et+(nt-et)*St/60:St<180?nt:St<240?et+(nt-et)*(240-St)/60:et}function Pt(St){return Math.round(ft(St)*255)}return new vr(Pt(ue+120),Pt(ue),Pt(ue-120))}s.hcl=Dt;function Dt(ue,Ae,Be){return this instanceof Dt?(this.h=+ue,this.c=+Ae,void(this.l=+Be)):arguments.length<2?ue instanceof Dt?new Dt(ue.h,ue.c,ue.l):ue instanceof xt?Ot(ue.l,ue.a,ue.b):Ot((ue=Hr((ue=s.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new Dt(ue,Ae,Be)}var Ht=Dt.prototype=new mt;Ht.brighter=function(ue){return new Dt(this.h,this.c,Math.min(100,this.l+Ut*(arguments.length?ue:1)))},Ht.darker=function(ue){return new Dt(this.h,this.c,Math.max(0,this.l-Ut*(arguments.length?ue:1)))},Ht.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(ue,Ae,Be){return isNaN(ue)&&(ue=0),isNaN(Ae)&&(Ae=0),new xt(Be,Math.cos(ue*=ot)*Ae,Math.sin(ue)*Ae)}s.lab=xt;function xt(ue,Ae,Be){return this instanceof xt?(this.l=+ue,this.a=+Ae,void(this.b=+Be)):arguments.length<2?ue instanceof xt?new xt(ue.l,ue.a,ue.b):ue instanceof Dt?Bt(ue.h,ue.c,ue.l):Hr((ue=vr(ue)).r,ue.g,ue.b):new xt(ue,Ae,Be)}var Ut=18,qt=.95047,or=1,rr=1.08883,He=xt.prototype=new mt;He.brighter=function(ue){return new xt(Math.min(100,this.l+Ut*(arguments.length?ue:1)),this.a,this.b)},He.darker=function(ue){return new xt(Math.max(0,this.l-Ut*(arguments.length?ue:1)),this.a,this.b)},He.rgb=function(){return Ue(this.l,this.a,this.b)};function Ue(ue,Ae,Be){var et=(ue+16)/116,nt=et+Ae/500,ft=et-Be/200;return nt=It(nt)*qt,et=It(et)*or,ft=It(ft)*rr,new vr(cr(3.2404542*nt-1.5371385*et-.4985314*ft),cr(-.969266*nt+1.8760108*et+.041556*ft),cr(.0556434*nt-.2040259*et+1.0572252*ft))}function Ot(ue,Ae,Be){return ue>0?new Dt(Math.atan2(Be,Ae)*st,Math.sqrt(Ae*Ae+Be*Be),ue):new Dt(NaN,NaN,ue)}function It(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Jt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function cr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}s.rgb=vr;function vr(ue,Ae,Be){return this instanceof vr?(this.r=~~ue,this.g=~~Ae,void(this.b=~~Be)):arguments.length<2?ue instanceof vr?new vr(ue.r,ue.g,ue.b):xr(""+ue,vr,Ct):new vr(ue,Ae,Be)}function tr(ue){return new vr(ue>>16,ue>>8&255,ue&255)}function Nt(ue){return tr(ue)+""}var sr=vr.prototype=new mt;sr.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Ae=this.r,Be=this.g,et=this.b,nt=30;return!Ae&&!Be&&!et?new vr(nt,nt,nt):(Ae&&Ae<nt&&(Ae=nt),Be&&Be<nt&&(Be=nt),et&&et<nt&&(et=nt),new vr(Math.min(255,Ae/ue),Math.min(255,Be/ue),Math.min(255,et/ue)))},sr.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new vr(ue*this.r,ue*this.g,ue*this.b)},sr.hsl=function(){return pr(this.r,this.g,this.b)},sr.toString=function(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)};function dr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function xr(ue,Ae,Be){var et=0,nt=0,ft=0,Pt,St,Gt;if(Pt=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),Pt)switch(St=Pt[2].split(","),Pt[1]){case"hsl":return Be(parseFloat(St[0]),parseFloat(St[1])/100,parseFloat(St[2])/100);case"rgb":return Ae(Dr(St[0]),Dr(St[1]),Dr(St[2]))}return(Gt=an.get(ue))?Ae(Gt.r,Gt.g,Gt.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Gt=parseInt(ue.slice(1),16))&&(ue.length===4?(et=(Gt&3840)>>4,et=et>>4|et,nt=Gt&240,nt=nt>>4|nt,ft=Gt&15,ft=ft<<4|ft):ue.length===7&&(et=(Gt&16711680)>>16,nt=(Gt&65280)>>8,ft=Gt&255)),Ae(et,nt,ft))}function pr(ue,Ae,Be){var et=Math.min(ue/=255,Ae/=255,Be/=255),nt=Math.max(ue,Ae,Be),ft=nt-et,Pt,St,Gt=(nt+et)/2;return ft?(St=Gt<.5?ft/(nt+et):ft/(2-nt-et),ue==nt?Pt=(Ae-Be)/ft+(Ae<Be?6:0):Ae==nt?Pt=(Be-ue)/ft+2:Pt=(ue-Ae)/ft+4,Pt*=60):(Pt=NaN,St=Gt>0&&Gt<1?0:Pt),new lt(Pt,St,Gt)}function Hr(ue,Ae,Be){ue=_r(ue),Ae=_r(Ae),Be=_r(Be);var et=Jt((.4124564*ue+.3575761*Ae+.1804375*Be)/qt),nt=Jt((.2126729*ue+.7151522*Ae+.072175*Be)/or),ft=Jt((.0193339*ue+.119192*Ae+.9503041*Be)/rr);return xt(116*nt-16,500*(et-nt),200*(nt-ft))}function _r(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Dr(ue){var Ae=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Ae*2.55):Ae}var an=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});an.forEach(function(ue,Ae){an.set(ue,tr(Ae))});function tn(ue){return typeof ue=="function"?ue:function(){return ue}}s.functor=tn,s.xhr=Sn(O);function Sn(ue){return function(Ae,Be,et){return arguments.length===2&&typeof Be=="function"&&(et=Be,Be=null),Tn(Ae,Be,ue,et)}}function Tn(ue,Ae,Be,et){var nt={},ft=s.dispatch("beforesend","progress","load","error"),Pt={},St=new XMLHttpRequest,Gt=null;self.XDomainRequest&&!("withCredentials"in St)&&/^(http(s)?:)?\/\//.test(ue)&&(St=new XDomainRequest),"onload"in St?St.onload=St.onerror=jt:St.onreadystatechange=function(){St.readyState>3&&jt()};function jt(){var nr=St.status,Lr;if(!nr&&zr(St)||nr>=200&&nr<300||nr===304){try{Lr=Be.call(nt,St)}catch(Pr){ft.error.call(nt,Pr);return}ft.load.call(nt,Lr)}else ft.error.call(nt,St)}return St.onprogress=function(nr){var Lr=s.event;s.event=nr;try{ft.progress.call(nt,St)}finally{s.event=Lr}},nt.header=function(nr,Lr){return nr=(nr+"").toLowerCase(),arguments.length<2?Pt[nr]:(Lr==null?delete Pt[nr]:Pt[nr]=Lr+"",nt)},nt.mimeType=function(nr){return arguments.length?(Ae=nr==null?null:nr+"",nt):Ae},nt.responseType=function(nr){return arguments.length?(Gt=nr,nt):Gt},nt.response=function(nr){return Be=nr,nt},["get","post"].forEach(function(nr){nt[nr]=function(){return nt.send.apply(nt,[nr].concat(S(arguments)))}}),nt.send=function(nr,Lr,Pr){if(arguments.length===2&&typeof Lr=="function"&&(Pr=Lr,Lr=null),St.open(nr,ue,!0),Ae!=null&&!("accept"in Pt)&&(Pt.accept=Ae+",*/*"),St.setRequestHeader)for(var $r in Pt)St.setRequestHeader($r,Pt[$r]);return Ae!=null&&St.overrideMimeType&&St.overrideMimeType(Ae),Gt!=null&&(St.responseType=Gt),Pr!=null&&nt.on("error",Pr).on("load",function(sn){Pr(null,sn)}),ft.beforesend.call(nt,St),St.send(Lr??null),nt},nt.abort=function(){return St.abort(),nt},s.rebind(nt,ft,"on"),et==null?nt:nt.get(Tr(et))}function Tr(ue){return ue.length===1?function(Ae,Be){ue(Ae==null?Be:null)}:ue}function zr(ue){var Ae=ue.responseType;return Ae&&Ae!=="text"?ue.response:ue.responseText}s.dsv=function(ue,Ae){var Be=new RegExp('["'+ue+`
]`),et=ue.charCodeAt(0);function nt(jt,nr,Lr){arguments.length<3&&(Lr=nr,nr=null);var Pr=Tn(jt,Ae,nr==null?ft:Pt(nr),Lr);return Pr.row=function($r){return arguments.length?Pr.response((nr=$r)==null?ft:Pt($r)):nr},Pr}function ft(jt){return nt.parse(jt.responseText)}function Pt(jt){return function(nr){return nt.parse(nr.responseText,jt)}}nt.parse=function(jt,nr){var Lr;return nt.parseRows(jt,function(Pr,$r){if(Lr)return Lr(Pr,$r-1);var sn=function(Rr){for(var Vr={},Kr=Pr.length,hn=0;hn<Kr;++hn)Vr[Pr[hn]]=Rr[hn];return Vr};Lr=nr?function(Rr,Vr){return nr(sn(Rr),Vr)}:sn})},nt.parseRows=function(jt,nr){var Lr={},Pr={},$r=[],sn=jt.length,Rr=0,Vr=0,Kr,hn;function pn(){if(Rr>=sn)return Pr;if(hn)return hn=!1,Lr;var Gn=Rr;if(jt.charCodeAt(Gn)===34){for(var ra=Gn;ra++<sn;)if(jt.charCodeAt(ra)===34){if(jt.charCodeAt(ra+1)!==34)break;++ra}Rr=ra+2;var fa=jt.charCodeAt(ra+1);return fa===13?(hn=!0,jt.charCodeAt(ra+2)===10&&++Rr):fa===10&&(hn=!0),jt.slice(Gn+1,ra).replace(/""/g,'"')}for(;Rr<sn;){var fa=jt.charCodeAt(Rr++),ea=1;if(fa===10)hn=!0;else if(fa===13)hn=!0,jt.charCodeAt(Rr)===10&&(++Rr,++ea);else if(fa!==et)continue;return jt.slice(Gn,Rr-ea)}return jt.slice(Gn)}for(;(Kr=pn())!==Pr;){for(var rn=[];Kr!==Lr&&Kr!==Pr;)rn.push(Kr),Kr=pn();nr&&(rn=nr(rn,Vr++))==null||$r.push(rn)}return $r},nt.format=function(jt){if(Array.isArray(jt[0]))return nt.formatRows(jt);var nr=new k,Lr=[];return jt.forEach(function(Pr){for(var $r in Pr)nr.has($r)||Lr.push(nr.add($r))}),[Lr.map(Gt).join(ue)].concat(jt.map(function(Pr){return Lr.map(function($r){return Gt(Pr[$r])}).join(ue)})).join(`
`)},nt.formatRows=function(jt){return jt.map(St).join(`
`)};function St(jt){return jt.map(Gt).join(ue)}function Gt(jt){return Be.test(jt)?'"'+jt.replace(/\"/g,'""')+'"':jt}return nt},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("	","text/tab-separated-values");var jr,Or,ln,fn,Mn=this[z(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};s.timer=function(){Pn.apply(this,arguments)};function Pn(ue,Ae,Be){var et=arguments.length;et<2&&(Ae=0),et<3&&(Be=Date.now());var nt=Be+Ae,ft={c:ue,t:nt,n:null};return Or?Or.n=ft:jr=ft,Or=ft,ln||(fn=clearTimeout(fn),ln=1,Mn(Hn)),ft}function Hn(){var ue=ia(),Ae=ya()-ue;Ae>24?(isFinite(Ae)&&(clearTimeout(fn),fn=setTimeout(Hn,Ae)),ln=0):(ln=1,Mn(Hn))}s.timer.flush=function(){ia(),ya()};function ia(){for(var ue=Date.now(),Ae=jr;Ae;)ue>=Ae.t&&Ae.c(ue-Ae.t)&&(Ae.c=null),Ae=Ae.n;return ue}function ya(){for(var ue,Ae=jr,Be=1/0;Ae;)Ae.c?(Ae.t<Be&&(Be=Ae.t),Ae=(ue=Ae).n):Ae=ue?ue.n=Ae.n:jr=Ae.n;return Or=ue,Be}s.round=function(ue,Ae){return Ae?Math.round(ue*(Ae=Math.pow(10,Ae)))/Ae:Math.round(ue)},s.geom={};function wa(ue){return ue[0]}function Wn(ue){return ue[1]}s.geom.hull=function(ue){var Ae=wa,Be=Wn;if(arguments.length)return et(ue);function et(nt){if(nt.length<3)return[];var ft=tn(Ae),Pt=tn(Be),St,Gt=nt.length,jt=[],nr=[];for(St=0;St<Gt;St++)jt.push([+ft.call(this,nt[St],St),+Pt.call(this,nt[St],St),St]);for(jt.sort(mr),St=0;St<Gt;St++)nr.push([jt[St][0],-jt[St][1]]);var Lr=Qn(jt),Pr=Qn(nr),$r=Pr[0]===Lr[0],sn=Pr[Pr.length-1]===Lr[Lr.length-1],Rr=[];for(St=Lr.length-1;St>=0;--St)Rr.push(nt[jt[Lr[St]][2]]);for(St=+$r;St<Pr.length-sn;++St)Rr.push(nt[jt[Pr[St]][2]]);return Rr}return et.x=function(nt){return arguments.length?(Ae=nt,et):Ae},et.y=function(nt){return arguments.length?(Be=nt,et):Be},et};function Qn(ue){for(var Ae=ue.length,Be=[0,1],et=2,nt=2;nt<Ae;nt++){for(;et>1&&Wt(ue[Be[et-2]],ue[Be[et-1]],ue[nt])<=0;)--et;Be[et++]=nt}return Be.slice(0,et)}function mr(ue,Ae){return ue[0]-Ae[0]||ue[1]-Ae[1]}s.geom.polygon=function(ue){return ie(ue,en),ue};var en=s.geom.polygon.prototype=[];en.area=function(){for(var ue=-1,Ae=this.length,Be,et=this[Ae-1],nt=0;++ue<Ae;)Be=et,et=this[ue],nt+=Be[1]*et[0]-Be[0]*et[1];return nt*.5},en.centroid=function(ue){var Ae=-1,Be=this.length,et=0,nt=0,ft,Pt=this[Be-1],St;for(arguments.length||(ue=-1/(6*this.area()));++Ae<Be;)ft=Pt,Pt=this[Ae],St=ft[0]*Pt[1]-Pt[0]*ft[1],et+=(ft[0]+Pt[0])*St,nt+=(ft[1]+Pt[1])*St;return[et*ue,nt*ue]},en.clip=function(ue){for(var Ae,Be=On(ue),et=-1,nt=this.length-On(this),ft,Pt,St=this[nt-1],Gt,jt,nr;++et<nt;){for(Ae=ue.slice(),ue.length=0,Gt=this[et],jt=Ae[(Pt=Ae.length-Be)-1],ft=-1;++ft<Pt;)nr=Ae[ft],Jr(nr,St,Gt)?(Jr(jt,St,Gt)||ue.push(vn(jt,nr,St,Gt)),ue.push(nr)):Jr(jt,St,Gt)&&ue.push(vn(jt,nr,St,Gt)),jt=nr;Be&&ue.push(ue[0]),St=Gt}return ue};function Jr(ue,Ae,Be){return(Be[0]-Ae[0])*(ue[1]-Ae[1])<(Be[1]-Ae[1])*(ue[0]-Ae[0])}function vn(ue,Ae,Be,et){var nt=ue[0],ft=Be[0],Pt=Ae[0]-nt,St=et[0]-ft,Gt=ue[1],jt=Be[1],nr=Ae[1]-Gt,Lr=et[1]-jt,Pr=(St*(Gt-jt)-Lr*(nt-ft))/(Lr*Pt-St*nr);return[nt+Pr*Pt,Gt+Pr*nr]}function On(ue){var Ae=ue[0],Be=ue[ue.length-1];return!(Ae[0]-Be[0]||Ae[1]-Be[1])}var bn,An,Nn,$n=[],ha,Ia,Mr=[];function Fr(){ko(this),this.edge=this.site=this.circle=null}function Ar(ue){var Ae=$n.pop()||new Fr;return Ae.site=ue,Ae}function Nr(ue){zn(ue),Nn.remove(ue),$n.push(ue),ko(ue)}function mn(ue){var Ae=ue.circle,Be=Ae.x,et=Ae.cy,nt={x:Be,y:et},ft=ue.P,Pt=ue.N,St=[ue];Nr(ue);for(var Gt=ft;Gt.circle&&d(Be-Gt.circle.x)<Ye&&d(et-Gt.circle.cy)<Ye;)ft=Gt.P,St.unshift(Gt),Nr(Gt),Gt=ft;St.unshift(Gt),zn(Gt);for(var jt=Pt;jt.circle&&d(Be-jt.circle.x)<Ye&&d(et-jt.circle.cy)<Ye;)Pt=jt.N,St.push(jt),Nr(jt),jt=Pt;St.push(jt),zn(jt);var nr=St.length,Lr;for(Lr=1;Lr<nr;++Lr)jt=St[Lr],Gt=St[Lr-1],_a(jt.edge,Gt.site,jt.site,nt);Gt=St[0],jt=St[nr-1],jt.edge=sa(Gt.site,jt.site,null,nt),wn(Gt),wn(jt)}function Rn(ue){for(var Ae=ue.x,Be=ue.y,et,nt,ft,Pt,St=Nn._;St;)if(ft=gn(St,Be)-Ae,ft>Ye)St=St.L;else if(Pt=Ae-un(St,Be),Pt>Ye){if(!St.R){et=St;break}St=St.R}else{ft>-Ye?(et=St.P,nt=St):Pt>-Ye?(et=St,nt=St.N):et=nt=St;break}var Gt=Ar(ue);if(Nn.insert(et,Gt),!(!et&&!nt)){if(et===nt){zn(et),nt=Ar(et.site),Nn.insert(Gt,nt),Gt.edge=nt.edge=sa(et.site,Gt.site),wn(et),wn(nt);return}if(!nt){Gt.edge=sa(et.site,Gt.site);return}zn(et),zn(nt);var jt=et.site,nr=jt.x,Lr=jt.y,Pr=ue.x-nr,$r=ue.y-Lr,sn=nt.site,Rr=sn.x-nr,Vr=sn.y-Lr,Kr=2*(Pr*Vr-$r*Rr),hn=Pr*Pr+$r*$r,pn=Rr*Rr+Vr*Vr,rn={x:(Vr*hn-$r*pn)/Kr+nr,y:(Pr*pn-Rr*hn)/Kr+Lr};_a(nt.edge,jt,sn,rn),Gt.edge=sa(jt,ue,null,rn),nt.edge=sa(ue,sn,null,rn),wn(et),wn(nt)}}function gn(ue,Ae){var Be=ue.site,et=Be.x,nt=Be.y,ft=nt-Ae;if(!ft)return et;var Pt=ue.P;if(!Pt)return-1/0;Be=Pt.site;var St=Be.x,Gt=Be.y,jt=Gt-Ae;if(!jt)return St;var nr=St-et,Lr=1/ft-1/jt,Pr=nr/jt;return Lr?(-Pr+Math.sqrt(Pr*Pr-2*Lr*(nr*nr/(-2*jt)-Gt+jt/2+nt-ft/2)))/Lr+et:(et+St)/2}function un(ue,Ae){var Be=ue.N;if(Be)return gn(Be,Ae);var et=ue.site;return et.y===Ae?et.x:1/0}function Cr(ue){this.site=ue,this.edges=[]}Cr.prototype.prepare=function(){for(var ue=this.edges,Ae=ue.length,Be;Ae--;)Be=ue[Ae].edge,(!Be.b||!Be.a)&&ue.splice(Ae,1);return ue.sort(Gr),ue.length};function Zr(ue){for(var Ae=ue[0][0],Be=ue[1][0],et=ue[0][1],nt=ue[1][1],ft,Pt,St,Gt,jt=An,nr=jt.length,Lr,Pr,$r,sn,Rr,Vr;nr--;)if(Lr=jt[nr],!(!Lr||!Lr.prepare()))for($r=Lr.edges,sn=$r.length,Pr=0;Pr<sn;)Vr=$r[Pr].end(),St=Vr.x,Gt=Vr.y,Rr=$r[++Pr%sn].start(),ft=Rr.x,Pt=Rr.y,(d(St-ft)>Ye||d(Gt-Pt)>Ye)&&($r.splice(Pr,0,new gi(ga(Lr.site,Vr,d(St-Ae)<Ye&&nt-Gt>Ye?{x:Ae,y:d(ft-Ae)<Ye?Pt:nt}:d(Gt-nt)<Ye&&Be-St>Ye?{x:d(Pt-nt)<Ye?ft:Be,y:nt}:d(St-Be)<Ye&&Gt-et>Ye?{x:Be,y:d(ft-Be)<Ye?Pt:et}:d(Gt-et)<Ye&&St-Ae>Ye?{x:d(Pt-et)<Ye?ft:Ae,y:et}:null),Lr.site,null)),++sn)}function Gr(ue,Ae){return Ae.angle-ue.angle}function qr(){ko(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(ue){var Ae=ue.P,Be=ue.N;if(!(!Ae||!Be)){var et=Ae.site,nt=ue.site,ft=Be.site;if(et!==ft){var Pt=nt.x,St=nt.y,Gt=et.x-Pt,jt=et.y-St,nr=ft.x-Pt,Vr=ft.y-St,Lr=2*(Gt*Vr-jt*nr);if(!(Lr>=-Ce)){var Pr=Gt*Gt+jt*jt,$r=nr*nr+Vr*Vr,sn=(Vr*Pr-jt*$r)/Lr,Rr=(Gt*$r-nr*Pr)/Lr,Vr=Rr+St,Kr=Mr.pop()||new qr;Kr.arc=ue,Kr.site=nt,Kr.x=sn+Pt,Kr.y=Vr+Math.sqrt(sn*sn+Rr*Rr),Kr.cy=Vr,ue.circle=Kr;for(var hn=null,pn=Ia._;pn;)if(Kr.y<pn.y||Kr.y===pn.y&&Kr.x<=pn.x)if(pn.L)pn=pn.L;else{hn=pn.P;break}else if(pn.R)pn=pn.R;else{hn=pn;break}Ia.insert(hn,Kr),hn||(ha=Kr)}}}}function zn(ue){var Ae=ue.circle;Ae&&(Ae.P||(ha=Ae.N),Ia.remove(Ae),Mr.push(Ae),ko(Ae),ue.circle=null)}function En(ue,Ae,Be,et){return function(nt){var ft=nt.a,Pt=nt.b,St=ft.x,Gt=ft.y,jt=Pt.x,nr=Pt.y,Lr=0,Pr=1,$r=jt-St,sn=nr-Gt,Rr;if(Rr=ue-St,!(!$r&&Rr>0)){if(Rr/=$r,$r<0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}else if($r>0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}if(Rr=Be-St,!(!$r&&Rr<0)){if(Rr/=$r,$r<0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}else if($r>0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}if(Rr=Ae-Gt,!(!sn&&Rr>0)){if(Rr/=sn,sn<0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}else if(sn>0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}if(Rr=et-Gt,!(!sn&&Rr<0)){if(Rr/=sn,sn<0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}else if(sn>0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}return Lr>0&&(nt.a={x:St+Lr*$r,y:Gt+Lr*sn}),Pr<1&&(nt.b={x:St+Pr*$r,y:Gt+Pr*sn}),nt}}}}}}function Vn(ue){for(var Ae=bn,Be=En(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),et=Ae.length,nt;et--;)nt=Ae[et],(!Bn(nt,ue)||!Be(nt)||d(nt.a.x-nt.b.x)<Ye&&d(nt.a.y-nt.b.y)<Ye)&&(nt.a=nt.b=null,Ae.splice(et,1))}function Bn(ue,Ae){var Be=ue.b;if(Be)return!0;var et=ue.a,nt=Ae[0][0],ft=Ae[1][0],Pt=Ae[0][1],St=Ae[1][1],Gt=ue.l,jt=ue.r,nr=Gt.x,Lr=Gt.y,Pr=jt.x,$r=jt.y,sn=(nr+Pr)/2,Rr=(Lr+$r)/2,Vr,Kr;if($r===Lr){if(sn<nt||sn>=ft)return;if(nr>Pr){if(!et)et={x:sn,y:Pt};else if(et.y>=St)return;Be={x:sn,y:St}}else{if(!et)et={x:sn,y:St};else if(et.y<Pt)return;Be={x:sn,y:Pt}}}else if(Vr=(nr-Pr)/($r-Lr),Kr=Rr-Vr*sn,Vr<-1||Vr>1)if(nr>Pr){if(!et)et={x:(Pt-Kr)/Vr,y:Pt};else if(et.y>=St)return;Be={x:(St-Kr)/Vr,y:St}}else{if(!et)et={x:(St-Kr)/Vr,y:St};else if(et.y<Pt)return;Be={x:(Pt-Kr)/Vr,y:Pt}}else if(Lr<$r){if(!et)et={x:nt,y:Vr*nt+Kr};else if(et.x>=ft)return;Be={x:ft,y:Vr*ft+Kr}}else{if(!et)et={x:ft,y:Vr*ft+Kr};else if(et.x<nt)return;Be={x:nt,y:Vr*nt+Kr}}return ue.a=et,ue.b=Be,!0}function va(ue,Ae){this.l=ue,this.r=Ae,this.a=this.b=null}function sa(ue,Ae,Be,et){var nt=new va(ue,Ae);return bn.push(nt),Be&&_a(nt,ue,Ae,Be),et&&_a(nt,Ae,ue,et),An[ue.i].edges.push(new gi(nt,ue,Ae)),An[Ae.i].edges.push(new gi(nt,Ae,ue)),nt}function ga(ue,Ae,Be){var et=new va(ue,null);return et.a=Ae,et.b=Be,bn.push(et),et}function _a(ue,Ae,Be,et){!ue.a&&!ue.b?(ue.a=et,ue.l=Ae,ue.r=Be):ue.l===Be?ue.b=et:ue.a=et}function gi(ue,Ae,Be){var et=ue.a,nt=ue.b;this.edge=ue,this.site=Ae,this.angle=Be?Math.atan2(Be.y-Ae.y,Be.x-Ae.x):ue.l===Ae?Math.atan2(nt.x-et.x,et.y-nt.y):Math.atan2(et.x-nt.x,nt.y-et.y)}gi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ai(){this._=null}function ko(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}ai.prototype={insert:function(ue,Ae){var Be,et,nt;if(ue){if(Ae.P=ue,Ae.N=ue.N,ue.N&&(ue.N.P=Ae),ue.N=Ae,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Ae}else ue.R=Ae;Be=ue}else this._?(ue=Sl(this._),Ae.P=null,Ae.N=ue,ue.P=ue.L=Ae,Be=ue):(Ae.P=Ae.N=null,this._=Ae,Be=null);for(Ae.L=Ae.R=null,Ae.U=Be,Ae.C=!0,ue=Ae;Be&&Be.C;)et=Be.U,Be===et.L?(nt=et.R,nt&&nt.C?(Be.C=nt.C=!1,et.C=!0,ue=et):(ue===Be.R&&(Co(this,Be),ue=Be,Be=ue.U),Be.C=!1,et.C=!0,to(this,et))):(nt=et.L,nt&&nt.C?(Be.C=nt.C=!1,et.C=!0,ue=et):(ue===Be.L&&(to(this,Be),ue=Be,Be=ue.U),Be.C=!1,et.C=!0,Co(this,et))),Be=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Ae=ue.U,Be,et=ue.L,nt=ue.R,ft,Pt;if(et?nt?ft=Sl(nt):ft=et:ft=nt,Ae?Ae.L===ue?Ae.L=ft:Ae.R=ft:this._=ft,et&&nt?(Pt=ft.C,ft.C=ue.C,ft.L=et,et.U=ft,ft!==nt?(Ae=ft.U,ft.U=ue.U,ue=ft.R,Ae.L=ue,ft.R=nt,nt.U=ft):(ft.U=Ae,Ae=ft,ue=ft.R)):(Pt=ue.C,ue=ft),ue&&(ue.U=Ae),!Pt){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Ae.L){if(Be=Ae.R,Be.C&&(Be.C=!1,Ae.C=!0,Co(this,Ae),Be=Ae.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,to(this,Be),Be=Ae.R),Be.C=Ae.C,Ae.C=Be.R.C=!1,Co(this,Ae),ue=this._;break}}else if(Be=Ae.L,Be.C&&(Be.C=!1,Ae.C=!0,to(this,Ae),Be=Ae.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,Co(this,Be),Be=Ae.L),Be.C=Ae.C,Ae.C=Be.L.C=!1,to(this,Ae),ue=this._;break}Be.C=!0,ue=Ae,Ae=Ae.U}while(!ue.C);ue&&(ue.C=!1)}}};function Co(ue,Ae){var Be=Ae,et=Ae.R,nt=Be.U;nt?nt.L===Be?nt.L=et:nt.R=et:ue._=et,et.U=nt,Be.U=et,Be.R=et.L,Be.R&&(Be.R.U=Be),et.L=Be}function to(ue,Ae){var Be=Ae,et=Ae.L,nt=Be.U;nt?nt.L===Be?nt.L=et:nt.R=et:ue._=et,et.U=nt,Be.U=et,Be.L=et.R,Be.L&&(Be.L.U=Be),et.R=Be}function Sl(ue){for(;ue.L;)ue=ue.L;return ue}function af(ue,Ae){var Be=ue.sort(Vf).pop(),et,nt,ft;for(bn=[],An=new Array(ue.length),Nn=new ai,Ia=new ai;;)if(ft=ha,Be&&(!ft||Be.y<ft.y||Be.y===ft.y&&Be.x<ft.x))(Be.x!==et||Be.y!==nt)&&(An[Be.i]=new Cr(Be),Rn(Be),et=Be.x,nt=Be.y),Be=ue.pop();else if(ft)mn(ft.arc);else break;Ae&&(Vn(Ae),Zr(Ae));var Pt={cells:An,edges:bn};return Nn=Ia=bn=An=null,Pt}function Vf(ue,Ae){return Ae.y-ue.y||Ae.x-ue.x}s.geom.voronoi=function(ue){var Ae=wa,Be=Wn,et=Ae,nt=Be,ft=ti;if(ue)return Pt(ue);function Pt(Gt){var jt=new Array(Gt.length),nr=ft[0][0],Lr=ft[0][1],Pr=ft[1][0],$r=ft[1][1];return af(St(Gt),ft).cells.forEach(function(sn,Rr){var Vr=sn.edges,Kr=sn.site,hn=jt[Rr]=Vr.length?Vr.map(function(pn){var rn=pn.start();return[rn.x,rn.y]}):Kr.x>=nr&&Kr.x<=Pr&&Kr.y>=Lr&&Kr.y<=$r?[[nr,$r],[Pr,$r],[Pr,Lr],[nr,Lr]]:[];hn.point=Gt[Rr]}),jt}function St(Gt){return Gt.map(function(jt,nr){return{x:Math.round(et(jt,nr)/Ye)*Ye,y:Math.round(nt(jt,nr)/Ye)*Ye,i:nr}})}return Pt.links=function(Gt){return af(St(Gt)).edges.filter(function(jt){return jt.l&&jt.r}).map(function(jt){return{source:Gt[jt.l.i],target:Gt[jt.r.i]}})},Pt.triangles=function(Gt){var jt=[];return af(St(Gt)).cells.forEach(function(nr,Lr){for(var Pr=nr.site,$r=nr.edges.sort(Gr),sn=-1,Rr=$r.length,Vr,Kr=$r[Rr-1].edge,hn=Kr.l===Pr?Kr.r:Kr.l;++sn<Rr;)Vr=hn,Kr=$r[sn].edge,hn=Kr.l===Pr?Kr.r:Kr.l,Lr<Vr.i&&Lr<hn.i&&eu(Pr,Vr,hn)<0&&jt.push([Gt[Lr],Gt[Vr.i],Gt[hn.i]])}),jt},Pt.x=function(Gt){return arguments.length?(et=tn(Ae=Gt),Pt):Ae},Pt.y=function(Gt){return arguments.length?(nt=tn(Be=Gt),Pt):Be},Pt.clipExtent=function(Gt){return arguments.length?(ft=Gt??ti,Pt):ft===ti?null:ft},Pt.size=function(Gt){return arguments.length?Pt.clipExtent(Gt&&[[0,0],Gt]):ft===ti?null:ft&&ft[1]},Pt};var ti=[[-1e6,-1e6],[1e6,1e6]];function eu(ue,Ae,Be){return(ue.x-Be.x)*(Ae.y-ue.y)-(ue.x-Ae.x)*(Be.y-ue.y)}s.geom.delaunay=function(ue){return s.geom.voronoi().triangles(ue)},s.geom.quadtree=function(ue,Ae,Be,et,nt){var ft=wa,Pt=Wn,St;if(St=arguments.length)return ft=of,Pt=Ki,St===3&&(nt=Be,et=Ae,Be=Ae=0),Gt(ue);function Gt(jt){var nr,Lr=tn(ft),Pr=tn(Pt),$r,sn,Rr,Vr,Kr,hn,pn,rn;if(Ae!=null)Kr=Ae,hn=Be,pn=et,rn=nt;else if(pn=rn=-(Kr=hn=1/0),$r=[],sn=[],Vr=jt.length,St)for(Rr=0;Rr<Vr;++Rr)nr=jt[Rr],nr.x<Kr&&(Kr=nr.x),nr.y<hn&&(hn=nr.y),nr.x>pn&&(pn=nr.x),nr.y>rn&&(rn=nr.y),$r.push(nr.x),sn.push(nr.y);else for(Rr=0;Rr<Vr;++Rr){var Gn=+Lr(nr=jt[Rr],Rr),ra=+Pr(nr,Rr);Gn<Kr&&(Kr=Gn),ra<hn&&(hn=ra),Gn>pn&&(pn=Gn),ra>rn&&(rn=ra),$r.push(Gn),sn.push(ra)}var fa=pn-Kr,ea=rn-hn;fa>ea?rn=hn+fa:pn=Kr+ea;function oa(Ca,Oa,ii,Fi,ci,qn,Ha,Ma){if(!(isNaN(ii)||isNaN(Fi)))if(Ca.leaf){var Ja=Ca.x,wi=Ca.y;if(Ja!=null)if(d(Ja-ii)+d(wi-Fi)<.01)ca(Ca,Oa,ii,Fi,ci,qn,Ha,Ma);else{var oi=Ca.point;Ca.x=Ca.y=Ca.point=null,ca(Ca,oi,Ja,wi,ci,qn,Ha,Ma),ca(Ca,Oa,ii,Fi,ci,qn,Ha,Ma)}else Ca.x=ii,Ca.y=Fi,Ca.point=Oa}else ca(Ca,Oa,ii,Fi,ci,qn,Ha,Ma)}function ca(Ca,Oa,ii,Fi,ci,qn,Ha,Ma){var Ja=(ci+Ha)*.5,wi=(qn+Ma)*.5,oi=ii>=Ja,$i=Fi>=wi,qi=$i<<1|oi;Ca.leaf=!1,Ca=Ca.nodes[qi]||(Ca.nodes[qi]=bo()),oi?ci=Ja:Ha=Ja,$i?qn=wi:Ma=wi,oa(Ca,Oa,ii,Fi,ci,qn,Ha,Ma)}var Ua=bo();if(Ua.add=function(Ca){oa(Ua,Ca,+Lr(Ca,++Rr),+Pr(Ca,Rr),Kr,hn,pn,rn)},Ua.visit=function(Ca){Ml(Ca,Ua,Kr,hn,pn,rn)},Ua.find=function(Ca){return Iu(Ua,Ca[0],Ca[1],Kr,hn,pn,rn)},Rr=-1,Ae==null){for(;++Rr<Vr;)oa(Ua,jt[Rr],$r[Rr],sn[Rr],Kr,hn,pn,rn);--Rr}else jt.forEach(Ua.add);return $r=sn=jt=nr=null,Ua}return Gt.x=function(jt){return arguments.length?(ft=jt,Gt):ft},Gt.y=function(jt){return arguments.length?(Pt=jt,Gt):Pt},Gt.extent=function(jt){return arguments.length?(jt==null?Ae=Be=et=nt=null:(Ae=+jt[0][0],Be=+jt[0][1],et=+jt[1][0],nt=+jt[1][1]),Gt):Ae==null?null:[[Ae,Be],[et,nt]]},Gt.size=function(jt){return arguments.length?(jt==null?Ae=Be=et=nt=null:(Ae=Be=0,et=+jt[0],nt=+jt[1]),Gt):Ae==null?null:[et-Ae,nt-Be]},Gt};function of(ue){return ue.x}function Ki(ue){return ue.y}function bo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ml(ue,Ae,Be,et,nt,ft){if(!ue(Ae,Be,et,nt,ft)){var Pt=(Be+nt)*.5,St=(et+ft)*.5,Gt=Ae.nodes;Gt[0]&&Ml(ue,Gt[0],Be,et,Pt,St),Gt[1]&&Ml(ue,Gt[1],Pt,et,nt,St),Gt[2]&&Ml(ue,Gt[2],Be,St,Pt,ft),Gt[3]&&Ml(ue,Gt[3],Pt,St,nt,ft)}}function Iu(ue,Ae,Be,et,nt,ft,Pt){var St=1/0,Gt;return function jt(nr,Lr,Pr,$r,sn){if(!(Lr>ft||Pr>Pt||$r<et||sn<nt)){if(Rr=nr.point){var Rr,Vr=Ae-nr.x,Kr=Be-nr.y,hn=Vr*Vr+Kr*Kr;if(hn<St){var pn=Math.sqrt(St=hn);et=Ae-pn,nt=Be-pn,ft=Ae+pn,Pt=Be+pn,Gt=Rr}}for(var rn=nr.nodes,Gn=(Lr+$r)*.5,ra=(Pr+sn)*.5,fa=Ae>=Gn,ea=Be>=ra,oa=ea<<1|fa,ca=oa+4;oa<ca;++oa)if(nr=rn[oa&3])switch(oa&3){case 0:jt(nr,Lr,Pr,Gn,ra);break;case 1:jt(nr,Gn,Pr,$r,ra);break;case 2:jt(nr,Lr,ra,Gn,sn);break;case 3:jt(nr,Gn,ra,$r,sn);break}}}(ue,et,nt,ft,Pt),Gt}s.interpolateRgb=Ii;function Ii(ue,Ae){ue=s.rgb(ue),Ae=s.rgb(Ae);var Be=ue.r,et=ue.g,nt=ue.b,ft=Ae.r-Be,Pt=Ae.g-et,St=Ae.b-nt;return function(Gt){return"#"+dr(Math.round(Be+ft*Gt))+dr(Math.round(et+Pt*Gt))+dr(Math.round(nt+St*Gt))}}s.interpolateObject=El;function El(ue,Ae){var Be={},et={},nt;for(nt in ue)nt in Ae?Be[nt]=no(ue[nt],Ae[nt]):et[nt]=ue[nt];for(nt in Ae)nt in ue||(et[nt]=Ae[nt]);return function(ft){for(nt in Be)et[nt]=Be[nt](ft);return et}}s.interpolateNumber=Oi;function Oi(ue,Ae){return ue=+ue,Ae=+Ae,function(Be){return ue*(1-Be)+Ae*Be}}s.interpolateString=Hi;function Hi(ue,Ae){var Be=Cl.lastIndex=ro.lastIndex=0,et,nt,ft,Pt=-1,St=[],Gt=[];for(ue=ue+"",Ae=Ae+"";(et=Cl.exec(ue))&&(nt=ro.exec(Ae));)(ft=nt.index)>Be&&(ft=Ae.slice(Be,ft),St[Pt]?St[Pt]+=ft:St[++Pt]=ft),(et=et[0])===(nt=nt[0])?St[Pt]?St[Pt]+=nt:St[++Pt]=nt:(St[++Pt]=null,Gt.push({i:Pt,x:Oi(et,nt)})),Be=ro.lastIndex;return Be<Ae.length&&(ft=Ae.slice(Be),St[Pt]?St[Pt]+=ft:St[++Pt]=ft),St.length<2?Gt[0]?(Ae=Gt[0].x,function(jt){return Ae(jt)+""}):function(){return Ae}:(Ae=Gt.length,function(jt){for(var nr=0,Lr;nr<Ae;++nr)St[(Lr=Gt[nr]).i]=Lr.x(jt);return St.join("")})}var Cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ro=new RegExp(Cl.source,"g");s.interpolate=no;function no(ue,Ae){for(var Be=s.interpolators.length,et;--Be>=0&&!(et=s.interpolators[Be](ue,Ae)););return et}s.interpolators=[function(ue,Ae){var Be=typeof Ae;return(Be==="string"?an.has(Ae.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ae)?Ii:Hi:Ae instanceof mt?Ii:Array.isArray(Ae)?zo:Be==="object"&&isNaN(Ae)?El:Oi)(ue,Ae)}],s.interpolateArray=zo;function zo(ue,Ae){var Be=[],et=[],nt=ue.length,ft=Ae.length,Pt=Math.min(ue.length,Ae.length),St;for(St=0;St<Pt;++St)Be.push(no(ue[St],Ae[St]));for(;St<nt;++St)et[St]=ue[St];for(;St<ft;++St)et[St]=Ae[St];return function(Gt){for(St=0;St<Pt;++St)et[St]=Be[St](Gt);return et}}var Hf=function(){return O},Lo=s.map({linear:Hf,poly:Gf,quad:function(){return Bs},cubic:function(){return hs},sin:function(){return Xc},exp:function(){return ku},circle:function(){return Zc},elastic:Kc,back:Jc,bounce:function(){return uf}}),Yc=s.map({in:O,out:Ji,"in-out":sf,"out-in":function(ue){return sf(Ji(ue))}});s.ease=function(ue){var Ae=ue.indexOf("-"),Be=Ae>=0?ue.slice(0,Ae):ue,et=Ae>=0?ue.slice(Ae+1):"in";return Be=Lo.get(Be)||Hf,et=Yc.get(et)||O,cs(et(Be.apply(null,L.call(arguments,1))))};function cs(ue){return function(Ae){return Ae<=0?0:Ae>=1?1:ue(Ae)}}function Ji(ue){return function(Ae){return 1-ue(1-Ae)}}function sf(ue){return function(Ae){return .5*(Ae<.5?ue(2*Ae):2-ue(2-2*Ae))}}function Bs(ue){return ue*ue}function hs(ue){return ue*ue*ue}function lf(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Ae=ue*ue,Be=Ae*ue;return 4*(ue<.5?Be:3*(ue-Ae)+Be-.75)}function Gf(ue){return function(Ae){return Math.pow(Ae,ue)}}function Xc(ue){return 1-Math.cos(ue*$e)}function ku(ue){return Math.pow(2,10*(ue-1))}function Zc(ue){return 1-Math.sqrt(1-ue*ue)}function Kc(ue,Ae){var Be;return arguments.length<2&&(Ae=.45),arguments.length?Be=Ae/me*Math.asin(1/ue):(ue=1,Be=Ae/4),function(et){return 1+ue*Math.pow(2,-10*et)*Math.sin((et-Be)*me/Ae)}}function Jc(ue){return ue||(ue=1.70158),function(Ae){return Ae*Ae*((ue+1)*Ae-ue)}}function uf(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}s.interpolateHcl=Qc;function Qc(ue,Ae){ue=s.hcl(ue),Ae=s.hcl(Ae);var Be=ue.h,et=ue.c,nt=ue.l,ft=Ae.h-Be,Pt=Ae.c-et,St=Ae.l-nt;return isNaN(Pt)&&(Pt=0,et=isNaN(et)?Ae.c:et),isNaN(ft)?(ft=0,Be=isNaN(Be)?Ae.h:Be):ft>180?ft-=360:ft<-180&&(ft+=360),function(Gt){return Bt(Be+ft*Gt,et+Pt*Gt,nt+St*Gt)+""}}s.interpolateHsl=$c;function $c(ue,Ae){ue=s.hsl(ue),Ae=s.hsl(Ae);var Be=ue.h,et=ue.s,nt=ue.l,ft=Ae.h-Be,Pt=Ae.s-et,St=Ae.l-nt;return isNaN(Pt)&&(Pt=0,et=isNaN(et)?Ae.s:et),isNaN(ft)?(ft=0,Be=isNaN(Be)?Ae.h:Be):ft>180?ft-=360:ft<-180&&(ft+=360),function(Gt){return Ct(Be+ft*Gt,et+Pt*Gt,nt+St*Gt)+""}}s.interpolateLab=Wf;function Wf(ue,Ae){ue=s.lab(ue),Ae=s.lab(Ae);var Be=ue.l,et=ue.a,nt=ue.b,ft=Ae.l-Be,Pt=Ae.a-et,St=Ae.b-nt;return function(Gt){return Ue(Be+ft*Gt,et+Pt*Gt,nt+St*Gt)+""}}s.interpolateRound=jf;function jf(ue,Ae){return Ae-=ue,function(Be){return Math.round(ue+Ae*Be)}}s.transform=function(ue){var Ae=v.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(Be){if(Be!=null){Ae.setAttribute("transform",Be);var et=Ae.transform.baseVal.consolidate()}return new al(et?et.matrix:Yf)})(ue)};function al(ue){var Ae=[ue.a,ue.b],Be=[ue.c,ue.d],et=tu(Ae),nt=Ll(Ae,Be),ft=tu(ru(Be,Ae,-nt))||0;Ae[0]*Be[1]<Be[0]*Ae[1]&&(Ae[0]*=-1,Ae[1]*=-1,et*=-1,nt*=-1),this.rotate=(et?Math.atan2(Ae[1],Ae[0]):Math.atan2(-Be[0],Be[1]))*st,this.translate=[ue.e,ue.f],this.scale=[et,ft],this.skew=ft?Math.atan2(nt,ft)*st:0}al.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ll(ue,Ae){return ue[0]*Ae[0]+ue[1]*Ae[1]}function tu(ue){var Ae=Math.sqrt(Ll(ue,ue));return Ae&&(ue[0]/=Ae,ue[1]/=Ae),Ae}function ru(ue,Ae,Be){return ue[0]+=Be*Ae[0],ue[1]+=Be*Ae[1],ue}var Yf={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=Ou;function Ms(ue){return ue.length?ue.pop()+",":""}function qc(ue,Ae,Be,et){if(ue[0]!==Ae[0]||ue[1]!==Ae[1]){var nt=Be.push("translate(",null,",",null,")");et.push({i:nt-4,x:Oi(ue[0],Ae[0])},{i:nt-2,x:Oi(ue[1],Ae[1])})}else(Ae[0]||Ae[1])&&Be.push("translate("+Ae+")")}function zu(ue,Ae,Be,et){ue!==Ae?(ue-Ae>180?Ae+=360:Ae-ue>180&&(ue+=360),et.push({i:Be.push(Ms(Be)+"rotate(",null,")")-2,x:Oi(ue,Ae)})):Ae&&Be.push(Ms(Be)+"rotate("+Ae+")")}function Xf(ue,Ae,Be,et){ue!==Ae?et.push({i:Be.push(Ms(Be)+"skewX(",null,")")-2,x:Oi(ue,Ae)}):Ae&&Be.push(Ms(Be)+"skewX("+Ae+")")}function Zf(ue,Ae,Be,et){if(ue[0]!==Ae[0]||ue[1]!==Ae[1]){var nt=Be.push(Ms(Be)+"scale(",null,",",null,")");et.push({i:nt-4,x:Oi(ue[0],Ae[0])},{i:nt-2,x:Oi(ue[1],Ae[1])})}else(Ae[0]!==1||Ae[1]!==1)&&Be.push(Ms(Be)+"scale("+Ae+")")}function Ou(ue,Ae){var Be=[],et=[];return ue=s.transform(ue),Ae=s.transform(Ae),qc(ue.translate,Ae.translate,Be,et),zu(ue.rotate,Ae.rotate,Be,et),Xf(ue.skew,Ae.skew,Be,et),Zf(ue.scale,Ae.scale,Be,et),ue=Ae=null,function(nt){for(var ft=-1,Pt=et.length,St;++ft<Pt;)Be[(St=et[ft]).i]=St.x(nt);return Be.join("")}}function Zo(ue,Ae){return Ae=(Ae-=ue=+ue)||1/Ae,function(Be){return(Be-ue)/Ae}}function Pl(ue,Ae){return Ae=(Ae-=ue=+ue)||1/Ae,function(Be){return Math.max(0,Math.min(1,(Be-ue)/Ae))}}s.layout={},s.layout.bundle=function(){return function(ue){for(var Ae=[],Be=-1,et=ue.length;++Be<et;)Ae.push(il(ue[Be]));return Ae}};function il(ue){for(var Ae=ue.source,Be=ue.target,et=Us(Ae,Be),nt=[Ae];Ae!==et;)Ae=Ae.parent,nt.push(Ae);for(var ft=nt.length;Be!==et;)nt.splice(ft,0,Be),Be=Be.parent;return nt}function nu(ue){for(var Ae=[],Be=ue.parent;Be!=null;)Ae.push(ue),ue=Be,Be=Be.parent;return Ae.push(ue),Ae}function Us(ue,Ae){if(ue===Ae)return ue;for(var Be=nu(ue),et=nu(Ae),nt=Be.pop(),ft=et.pop(),Pt=null;nt===ft;)Pt=nt,nt=Be.pop(),ft=et.pop();return Pt}s.layout.chord=function(){var ue={},Ae,Be,et,nt,ft=0,Pt,St,Gt;function jt(){var Lr={},Pr=[],$r=s.range(nt),sn=[],Rr,Vr,Kr,hn,pn;for(Ae=[],Be=[],Rr=0,hn=-1;++hn<nt;){for(Vr=0,pn=-1;++pn<nt;)Vr+=et[hn][pn];Pr.push(Vr),sn.push(s.range(nt)),Rr+=Vr}for(Pt&&$r.sort(function(Ua,Ca){return Pt(Pr[Ua],Pr[Ca])}),St&&sn.forEach(function(Ua,Ca){Ua.sort(function(Oa,ii){return St(et[Ca][Oa],et[Ca][ii])})}),Rr=(me-ft*nt)/Rr,Vr=0,hn=-1;++hn<nt;){for(Kr=Vr,pn=-1;++pn<nt;){var rn=$r[hn],Gn=sn[rn][pn],ra=et[rn][Gn],fa=Vr,ea=Vr+=ra*Rr;Lr[rn+"-"+Gn]={index:rn,subindex:Gn,startAngle:fa,endAngle:ea,value:ra}}Be[rn]={index:rn,startAngle:Kr,endAngle:Vr,value:Pr[rn]},Vr+=ft}for(hn=-1;++hn<nt;)for(pn=hn-1;++pn<nt;){var oa=Lr[hn+"-"+pn],ca=Lr[pn+"-"+hn];(oa.value||ca.value)&&Ae.push(oa.value<ca.value?{source:ca,target:oa}:{source:oa,target:ca})}Gt&&nr()}function nr(){Ae.sort(function(Lr,Pr){return Gt((Lr.source.value+Lr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return ue.matrix=function(Lr){return arguments.length?(nt=(et=Lr)&&et.length,Ae=Be=null,ue):et},ue.padding=function(Lr){return arguments.length?(ft=Lr,Ae=Be=null,ue):ft},ue.sortGroups=function(Lr){return arguments.length?(Pt=Lr,Ae=Be=null,ue):Pt},ue.sortSubgroups=function(Lr){return arguments.length?(St=Lr,Ae=null,ue):St},ue.sortChords=function(Lr){return arguments.length?(Gt=Lr,Ae&&nr(),ue):Gt},ue.chords=function(){return Ae||jt(),Ae},ue.groups=function(){return Be||jt(),Be},ue},s.layout.force=function(){var ue={},Ae=s.dispatch("start","tick","end"),Be,et=[1,1],nt,ft,Pt=.9,St=cf,Gt=eh,jt=-30,nr=Fu,Lr=.1,Pr=.64,$r=[],sn=[],Rr,Vr,Kr;function hn(rn){return function(Gn,ra,fa,ea){if(Gn.point!==rn){var oa=Gn.cx-rn.x,ca=Gn.cy-rn.y,Ua=ea-ra,Ca=oa*oa+ca*ca;if(Ua*Ua/Pr<Ca){if(Ca<nr){var Oa=Gn.charge/Ca;rn.px-=oa*Oa,rn.py-=ca*Oa}return!0}if(Gn.point&&Ca&&Ca<nr){var Oa=Gn.pointCharge/Ca;rn.px-=oa*Oa,rn.py-=ca*Oa}}return!Gn.charge}}ue.tick=function(){if((ft*=.99)<.005)return Be=null,Ae.end({type:"end",alpha:ft=0}),!0;var rn=$r.length,Gn=sn.length,ra,fa,ea,oa,ca,Ua,Ca,Oa,ii;for(fa=0;fa<Gn;++fa)ea=sn[fa],oa=ea.source,ca=ea.target,Oa=ca.x-oa.x,ii=ca.y-oa.y,(Ua=Oa*Oa+ii*ii)&&(Ua=ft*Vr[fa]*((Ua=Math.sqrt(Ua))-Rr[fa])/Ua,Oa*=Ua,ii*=Ua,ca.x-=Oa*(Ca=oa.weight+ca.weight?oa.weight/(oa.weight+ca.weight):.5),ca.y-=ii*Ca,oa.x+=Oa*(Ca=1-Ca),oa.y+=ii*Ca);if((Ca=ft*Lr)&&(Oa=et[0]/2,ii=et[1]/2,fa=-1,Ca))for(;++fa<rn;)ea=$r[fa],ea.x+=(Oa-ea.x)*Ca,ea.y+=(ii-ea.y)*Ca;if(jt)for(_i(ra=s.geom.quadtree($r),ft,Kr),fa=-1;++fa<rn;)(ea=$r[fa]).fixed||ra.visit(hn(ea));for(fa=-1;++fa<rn;)ea=$r[fa],ea.fixed?(ea.x=ea.px,ea.y=ea.py):(ea.x-=(ea.px-(ea.px=ea.x))*Pt,ea.y-=(ea.py-(ea.py=ea.y))*Pt);Ae.tick({type:"tick",alpha:ft})},ue.nodes=function(rn){return arguments.length?($r=rn,ue):$r},ue.links=function(rn){return arguments.length?(sn=rn,ue):sn},ue.size=function(rn){return arguments.length?(et=rn,ue):et},ue.linkDistance=function(rn){return arguments.length?(St=typeof rn=="function"?rn:+rn,ue):St},ue.distance=ue.linkDistance,ue.linkStrength=function(rn){return arguments.length?(Gt=typeof rn=="function"?rn:+rn,ue):Gt},ue.friction=function(rn){return arguments.length?(Pt=+rn,ue):Pt},ue.charge=function(rn){return arguments.length?(jt=typeof rn=="function"?rn:+rn,ue):jt},ue.chargeDistance=function(rn){return arguments.length?(nr=rn*rn,ue):Math.sqrt(nr)},ue.gravity=function(rn){return arguments.length?(Lr=+rn,ue):Lr},ue.theta=function(rn){return arguments.length?(Pr=rn*rn,ue):Math.sqrt(Pr)},ue.alpha=function(rn){return arguments.length?(rn=+rn,ft?rn>0?ft=rn:(Be.c=null,Be.t=NaN,Be=null,Ae.end({type:"end",alpha:ft=0})):rn>0&&(Ae.start({type:"start",alpha:ft=rn}),Be=Pn(ue.tick)),ue):ft},ue.start=function(){var rn,Gn=$r.length,ra=sn.length,fa=et[0],ea=et[1],oa,ca;for(rn=0;rn<Gn;++rn)(ca=$r[rn]).index=rn,ca.weight=0;for(rn=0;rn<ra;++rn)ca=sn[rn],typeof ca.source=="number"&&(ca.source=$r[ca.source]),typeof ca.target=="number"&&(ca.target=$r[ca.target]),++ca.source.weight,++ca.target.weight;for(rn=0;rn<Gn;++rn)ca=$r[rn],isNaN(ca.x)&&(ca.x=Ua("x",fa)),isNaN(ca.y)&&(ca.y=Ua("y",ea)),isNaN(ca.px)&&(ca.px=ca.x),isNaN(ca.py)&&(ca.py=ca.y);if(Rr=[],typeof St=="function")for(rn=0;rn<ra;++rn)Rr[rn]=+St.call(this,sn[rn],rn);else for(rn=0;rn<ra;++rn)Rr[rn]=St;if(Vr=[],typeof Gt=="function")for(rn=0;rn<ra;++rn)Vr[rn]=+Gt.call(this,sn[rn],rn);else for(rn=0;rn<ra;++rn)Vr[rn]=Gt;if(Kr=[],typeof jt=="function")for(rn=0;rn<Gn;++rn)Kr[rn]=+jt.call(this,$r[rn],rn);else for(rn=0;rn<Gn;++rn)Kr[rn]=jt;function Ua(Ca,Oa){if(!oa){for(oa=new Array(Gn),ci=0;ci<Gn;++ci)oa[ci]=[];for(ci=0;ci<ra;++ci){var ii=sn[ci];oa[ii.source.index].push(ii.target),oa[ii.target.index].push(ii.source)}}for(var Fi=oa[rn],ci=-1,qn=Fi.length,Ha;++ci<qn;)if(!isNaN(Ha=Fi[ci][Ca]))return Ha;return Math.random()*Oa}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(nt||(nt=s.behavior.drag().origin(O).on("dragstart.force",vs).on("drag.force",pn).on("dragend.force",ff)),!arguments.length)return nt;this.on("mouseover.force",_l).on("mouseout.force",Ko).call(nt)};function pn(rn){rn.px=s.event.x,rn.py=s.event.y,ue.resume()}return s.rebind(ue,Ae,"on")};function vs(ue){ue.fixed|=2}function ff(ue){ue.fixed&=-7}function _l(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function Ko(ue){ue.fixed&=-5}function _i(ue,Ae,Be){var et=0,nt=0;if(ue.charge=0,!ue.leaf)for(var ft=ue.nodes,Pt=ft.length,St=-1,Gt;++St<Pt;)Gt=ft[St],Gt!=null&&(_i(Gt,Ae,Be),ue.charge+=Gt.charge,et+=Gt.charge*Gt.cx,nt+=Gt.charge*Gt.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var jt=Ae*Be[ue.point.index];ue.charge+=ue.pointCharge=jt,et+=jt*ue.point.x,nt+=jt*ue.point.y}ue.cx=et/ue.charge,ue.cy=nt/ue.charge}var cf=20,eh=1,Fu=1/0;s.layout.hierarchy=function(){var ue=Bu,Ae=Nu,Be=Il;function et(nt){var ft=[nt],Pt=[],St;for(nt.depth=0;(St=ft.pop())!=null;)if(Pt.push(St),(jt=Ae.call(et,St,St.depth))&&(Gt=jt.length)){for(var Gt,jt,nr;--Gt>=0;)ft.push(nr=jt[Gt]),nr.parent=St,nr.depth=St.depth+1;Be&&(St.value=0),St.children=jt}else Be&&(St.value=+Be.call(et,St,St.depth)||0),delete St.children;return Po(nt,function(Lr){var Pr,$r;ue&&(Pr=Lr.children)&&Pr.sort(ue),Be&&($r=Lr.parent)&&($r.value+=Lr.value)}),Pt}return et.sort=function(nt){return arguments.length?(ue=nt,et):ue},et.children=function(nt){return arguments.length?(Ae=nt,et):Ae},et.value=function(nt){return arguments.length?(Be=nt,et):Be},et.revalue=function(nt){return Be&&(Dl(nt,function(ft){ft.children&&(ft.value=0)}),Po(nt,function(ft){var Pt;ft.children||(ft.value=+Be.call(et,ft,ft.depth)||0),(Pt=ft.parent)&&(Pt.value+=ft.value)})),nt},et};function Rl(ue,Ae){return s.rebind(ue,Ae,"sort","children","value"),ue.nodes=ue,ue.links=th,ue}function Dl(ue,Ae){for(var Be=[ue];(ue=Be.pop())!=null;)if(Ae(ue),(nt=ue.children)&&(et=nt.length))for(var et,nt;--et>=0;)Be.push(nt[et])}function Po(ue,Ae){for(var Be=[ue],et=[];(ue=Be.pop())!=null;)if(et.push(ue),(Pt=ue.children)&&(ft=Pt.length))for(var nt=-1,ft,Pt;++nt<ft;)Be.push(Pt[nt]);for(;(ue=et.pop())!=null;)Ae(ue)}function Nu(ue){return ue.children}function Il(ue){return ue.value}function Bu(ue,Ae){return Ae.value-ue.value}function th(ue){return s.merge(ue.map(function(Ae){return(Ae.children||[]).map(function(Be){return{source:Ae,target:Be}})}))}s.layout.partition=function(){var ue=s.layout.hierarchy(),Ae=[1,1];function Be(ft,Pt,St,Gt){var jt=ft.children;if(ft.x=Pt,ft.y=ft.depth*Gt,ft.dx=St,ft.dy=Gt,jt&&(Lr=jt.length)){var nr=-1,Lr,Pr,$r;for(St=ft.value?St/ft.value:0;++nr<Lr;)Be(Pr=jt[nr],Pt,$r=Pr.value*St,Gt),Pt+=$r}}function et(ft){var Pt=ft.children,St=0;if(Pt&&(jt=Pt.length))for(var Gt=-1,jt;++Gt<jt;)St=Math.max(St,et(Pt[Gt]));return 1+St}function nt(ft,Pt){var St=ue.call(this,ft,Pt);return Be(St[0],0,Ae[0],Ae[1]/et(St[0])),St}return nt.size=function(ft){return arguments.length?(Ae=ft,nt):Ae},Rl(nt,ue)},s.layout.pie=function(){var ue=Number,Ae=Kf,Be=0,et=me,nt=0;function ft(Pt){var St=Pt.length,Gt=Pt.map(function(hn,pn){return+ue.call(ft,hn,pn)}),jt=+(typeof Be=="function"?Be.apply(this,arguments):Be),nr=(typeof et=="function"?et.apply(this,arguments):et)-jt,Lr=Math.min(Math.abs(nr)/St,+(typeof nt=="function"?nt.apply(this,arguments):nt)),Pr=Lr*(nr<0?-1:1),$r=s.sum(Gt),sn=$r?(nr-St*Pr)/$r:0,Rr=s.range(St),Vr=[],Kr;return Ae!=null&&Rr.sort(Ae===Kf?function(hn,pn){return Gt[pn]-Gt[hn]}:function(hn,pn){return Ae(Pt[hn],Pt[pn])}),Rr.forEach(function(hn){Vr[hn]={data:Pt[hn],value:Kr=Gt[hn],startAngle:jt,endAngle:jt+=Kr*sn+Pr,padAngle:Lr}}),Vr}return ft.value=function(Pt){return arguments.length?(ue=Pt,ft):ue},ft.sort=function(Pt){return arguments.length?(Ae=Pt,ft):Ae},ft.startAngle=function(Pt){return arguments.length?(Be=Pt,ft):Be},ft.endAngle=function(Pt){return arguments.length?(et=Pt,ft):et},ft.padAngle=function(Pt){return arguments.length?(nt=Pt,ft):nt},ft};var Kf={};s.layout.stack=function(){var ue=O,Ae=au,Be=Vu,et=df,nt=hf,ft=vf;function Pt(St,Gt){if(!(sn=St.length))return St;var jt=St.map(function(hn,pn){return ue.call(Pt,hn,pn)}),nr=jt.map(function(hn){return hn.map(function(pn,rn){return[nt.call(Pt,pn,rn),ft.call(Pt,pn,rn)]})}),Lr=Ae.call(Pt,nr,Gt);jt=s.permute(jt,Lr),nr=s.permute(nr,Lr);var Pr=Be.call(Pt,nr,Gt),$r=jt[0].length,sn,Rr,Vr,Kr;for(Vr=0;Vr<$r;++Vr)for(et.call(Pt,jt[0][Vr],Kr=Pr[Vr],nr[0][Vr][1]),Rr=1;Rr<sn;++Rr)et.call(Pt,jt[Rr][Vr],Kr+=nr[Rr-1][Vr][1],nr[Rr][Vr][1]);return St}return Pt.values=function(St){return arguments.length?(ue=St,Pt):ue},Pt.order=function(St){return arguments.length?(Ae=typeof St=="function"?St:kl.get(St)||au,Pt):Ae},Pt.offset=function(St){return arguments.length?(Be=typeof St=="function"?St:Uu.get(St)||Vu,Pt):Be},Pt.x=function(St){return arguments.length?(nt=St,Pt):nt},Pt.y=function(St){return arguments.length?(ft=St,Pt):ft},Pt.out=function(St){return arguments.length?(et=St,Pt):et},Pt};function hf(ue){return ue.x}function vf(ue){return ue.y}function df(ue,Ae,Be){ue.y0=Ae,ue.y=Be}var kl=s.map({"inside-out":function(ue){var Ae=ue.length,Be,et,nt=ue.map(yi),ft=ue.map(Jf),Pt=s.range(Ae).sort(function(Lr,Pr){return nt[Lr]-nt[Pr]}),St=0,Gt=0,jt=[],nr=[];for(Be=0;Be<Ae;++Be)et=Pt[Be],St<Gt?(St+=ft[et],jt.push(et)):(Gt+=ft[et],nr.push(et));return nr.reverse().concat(jt)},reverse:function(ue){return s.range(ue.length).reverse()},default:au}),Uu=s.map({silhouette:function(ue){var Ae=ue.length,Be=ue[0].length,et=[],nt=0,ft,Pt,St,Gt=[];for(Pt=0;Pt<Be;++Pt){for(ft=0,St=0;ft<Ae;ft++)St+=ue[ft][Pt][1];St>nt&&(nt=St),et.push(St)}for(Pt=0;Pt<Be;++Pt)Gt[Pt]=(nt-et[Pt])/2;return Gt},wiggle:function(ue){var Ae=ue.length,Be=ue[0],et=Be.length,nt,ft,Pt,St,Gt,jt,nr,Lr,Pr,$r=[];for($r[0]=Lr=Pr=0,ft=1;ft<et;++ft){for(nt=0,St=0;nt<Ae;++nt)St+=ue[nt][ft][1];for(nt=0,Gt=0,nr=Be[ft][0]-Be[ft-1][0];nt<Ae;++nt){for(Pt=0,jt=(ue[nt][ft][1]-ue[nt][ft-1][1])/(2*nr);Pt<nt;++Pt)jt+=(ue[Pt][ft][1]-ue[Pt][ft-1][1])/nr;Gt+=jt*ue[nt][ft][1]}$r[ft]=Lr-=St?Gt/St*nr:0,Lr<Pr&&(Pr=Lr)}for(ft=0;ft<et;++ft)$r[ft]-=Pr;return $r},expand:function(ue){var Ae=ue.length,Be=ue[0].length,et=1/Ae,nt,ft,Pt,St=[];for(ft=0;ft<Be;++ft){for(nt=0,Pt=0;nt<Ae;nt++)Pt+=ue[nt][ft][1];if(Pt)for(nt=0;nt<Ae;nt++)ue[nt][ft][1]/=Pt;else for(nt=0;nt<Ae;nt++)ue[nt][ft][1]=et}for(ft=0;ft<Be;++ft)St[ft]=0;return St},zero:Vu});function au(ue){return s.range(ue.length)}function Vu(ue){for(var Ae=-1,Be=ue[0].length,et=[];++Ae<Be;)et[Ae]=0;return et}function yi(ue){for(var Ae=1,Be=0,et=ue[0][1],nt,ft=ue.length;Ae<ft;++Ae)(nt=ue[Ae][1])>et&&(Be=Ae,et=nt);return Be}function Jf(ue){return ue.reduce(Jo,0)}function Jo(ue,Ae){return ue+Ae[1]}s.layout.histogram=function(){var ue=!0,Ae=Number,Be=ol,et=Qf;function nt(ft,Pr){for(var St=[],Gt=ft.map(Ae,this),jt=Be.call(this,Gt,Pr),nr=et.call(this,jt,Gt,Pr),Lr,Pr=-1,$r=Gt.length,sn=nr.length-1,Rr=ue?1:1/$r,Vr;++Pr<sn;)Lr=St[Pr]=[],Lr.dx=nr[Pr+1]-(Lr.x=nr[Pr]),Lr.y=0;if(sn>0)for(Pr=-1;++Pr<$r;)Vr=Gt[Pr],Vr>=jt[0]&&Vr<=jt[1]&&(Lr=St[s.bisect(nr,Vr,1,sn)-1],Lr.y+=Rr,Lr.push(ft[Pr]));return St}return nt.value=function(ft){return arguments.length?(Ae=ft,nt):Ae},nt.range=function(ft){return arguments.length?(Be=tn(ft),nt):Be},nt.bins=function(ft){return arguments.length?(et=typeof ft=="number"?function(Pt){return pf(Pt,ft)}:tn(ft),nt):et},nt.frequency=function(ft){return arguments.length?(ue=!!ft,nt):ue},nt};function Qf(ue,Ae){return pf(ue,Math.ceil(Math.log(Ae.length)/Math.LN2+1))}function pf(ue,Ae){for(var Be=-1,et=+ue[0],nt=(ue[1]-et)/Ae,ft=[];++Be<=Ae;)ft[Be]=nt*Be+et;return ft}function ol(ue){return[s.min(ue),s.max(ue)]}s.layout.pack=function(){var ue=s.layout.hierarchy().sort(Vs),Ae=0,Be=[1,1],et;function nt(ft,Pt){var St=ue.call(this,ft,Pt),Gt=St[0],jt=Be[0],nr=Be[1],Lr=et==null?Math.sqrt:typeof et=="function"?et:function(){return et};if(Gt.x=Gt.y=0,Po(Gt,function($r){$r.r=+Lr($r.value)}),Po(Gt,Qo),Ae){var Pr=Ae*(et?1:Math.max(2*Gt.r/jt,2*Gt.r/nr))/2;Po(Gt,function($r){$r.r+=Pr}),Po(Gt,Qo),Po(Gt,function($r){$r.r-=Pr})}return Hs(Gt,jt/2,nr/2,et?1:1/Math.max(2*Gt.r/jt,2*Gt.r/nr)),St}return nt.size=function(ft){return arguments.length?(Be=ft,nt):Be},nt.radius=function(ft){return arguments.length?(et=ft==null||typeof ft=="function"?ft:+ft,nt):et},nt.padding=function(ft){return arguments.length?(Ae=+ft,nt):Ae},Rl(nt,ue)};function Vs(ue,Ae){return ue.value-Ae.value}function Hu(ue,Ae){var Be=ue._pack_next;ue._pack_next=Ae,Ae._pack_prev=ue,Ae._pack_next=Be,Be._pack_prev=Ae}function ki(ue,Ae){ue._pack_next=Ae,Ae._pack_prev=ue}function iu(ue,Ae){var Be=Ae.x-ue.x,et=Ae.y-ue.y,nt=ue.r+Ae.r;return .999*nt*nt>Be*Be+et*et}function Qo(ue){if(!(Ae=ue.children)||!(Pr=Ae.length))return;var Ae,Be=1/0,et=-1/0,nt=1/0,ft=-1/0,Pt,St,Gt,jt,nr,Lr,Pr;function $r(rn){Be=Math.min(rn.x-rn.r,Be),et=Math.max(rn.x+rn.r,et),nt=Math.min(rn.y-rn.r,nt),ft=Math.max(rn.y+rn.r,ft)}if(Ae.forEach(Es),Pt=Ae[0],Pt.x=-Pt.r,Pt.y=0,$r(Pt),Pr>1&&(St=Ae[1],St.x=St.r,St.y=0,$r(St),Pr>2))for(Gt=Ae[2],$o(Pt,St,Gt),$r(Gt),Hu(Pt,Gt),Pt._pack_prev=Gt,Hu(Gt,St),St=Pt._pack_next,jt=3;jt<Pr;jt++){$o(Pt,St,Gt=Ae[jt]);var sn=0,Rr=1,Vr=1;for(nr=St._pack_next;nr!==St;nr=nr._pack_next,Rr++)if(iu(nr,Gt)){sn=1;break}if(sn==1)for(Lr=Pt._pack_prev;Lr!==nr._pack_prev&&!iu(Lr,Gt);Lr=Lr._pack_prev,Vr++);sn?(Rr<Vr||Rr==Vr&&St.r<Pt.r?ki(Pt,St=nr):ki(Pt=Lr,St),jt--):(Hu(Pt,Gt),St=Gt,$r(Gt))}var Kr=(Be+et)/2,hn=(nt+ft)/2,pn=0;for(jt=0;jt<Pr;jt++)Gt=Ae[jt],Gt.x-=Kr,Gt.y-=hn,pn=Math.max(pn,Gt.r+Math.sqrt(Gt.x*Gt.x+Gt.y*Gt.y));ue.r=pn,Ae.forEach(sl)}function Es(ue){ue._pack_next=ue._pack_prev=ue}function sl(ue){delete ue._pack_next,delete ue._pack_prev}function Hs(ue,Ae,Be,et){var nt=ue.children;if(ue.x=Ae+=et*ue.x,ue.y=Be+=et*ue.y,ue.r*=et,nt)for(var ft=-1,Pt=nt.length;++ft<Pt;)Hs(nt[ft],Ae,Be,et)}function $o(ue,Ae,Be){var et=ue.r+Be.r,nt=Ae.x-ue.x,ft=Ae.y-ue.y;if(et&&(nt||ft)){var Pt=Ae.r+Be.r,St=nt*nt+ft*ft;Pt*=Pt,et*=et;var Gt=.5+(et-Pt)/(2*St),jt=Math.sqrt(Math.max(0,2*Pt*(et+St)-(et-=St)*et-Pt*Pt))/(2*St);Be.x=ue.x+Gt*nt+jt*ft,Be.y=ue.y+Gt*ft-jt*nt}else Be.x=ue.x+et,Be.y=ue.y}s.layout.tree=function(){var ue=s.layout.hierarchy().sort(null).value(null),Ae=Cs,Be=[1,1],et=null;function nt(nr,Lr){var Pr=ue.call(this,nr,Lr),$r=Pr[0],sn=ft($r);if(Po(sn,Pt),sn.parent.m=-sn.z,Dl(sn,St),et)Dl($r,jt);else{var Rr=$r,Vr=$r,Kr=$r;Dl($r,function(Gn){Gn.x<Rr.x&&(Rr=Gn),Gn.x>Vr.x&&(Vr=Gn),Gn.depth>Kr.depth&&(Kr=Gn)});var hn=Ae(Rr,Vr)/2-Rr.x,pn=Be[0]/(Vr.x+Ae(Vr,Rr)/2+hn),rn=Be[1]/(Kr.depth||1);Dl($r,function(Gn){Gn.x=(Gn.x+hn)*pn,Gn.y=Gn.depth*rn})}return Pr}function ft(nr){for(var Lr={A:null,children:[nr]},Pr=[Lr],$r;($r=Pr.pop())!=null;)for(var sn=$r.children,Rr,Vr=0,Kr=sn.length;Vr<Kr;++Vr)Pr.push((sn[Vr]=Rr={_:sn[Vr],parent:$r,children:(Rr=sn[Vr].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Vr}).a=Rr);return Lr.children[0]}function Pt(nr){var Lr=nr.children,Pr=nr.parent.children,$r=nr.i?Pr[nr.i-1]:null;if(Lr.length){rh(nr);var sn=(Lr[0].z+Lr[Lr.length-1].z)/2;$r?(nr.z=$r.z+Ae(nr._,$r._),nr.m=nr.z-sn):nr.z=sn}else $r&&(nr.z=$r.z+Ae(nr._,$r._));nr.parent.A=Gt(nr,$r,nr.parent.A||Pr[0])}function St(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Gt(nr,Lr,Pr){if(Lr){for(var $r=nr,sn=nr,Rr=Lr,Vr=$r.parent.children[0],Kr=$r.m,hn=sn.m,pn=Rr.m,rn=Vr.m,Gn;Rr=Vo(Rr),$r=qo($r),Rr&&$r;)Vr=qo(Vr),sn=Vo(sn),sn.a=nr,Gn=Rr.z+pn-$r.z-Kr+Ae(Rr._,$r._),Gn>0&&(ou(nh(Rr,nr,Pr),nr,Gn),Kr+=Gn,hn+=Gn),pn+=Rr.m,Kr+=$r.m,rn+=Vr.m,hn+=sn.m;Rr&&!Vo(sn)&&(sn.t=Rr,sn.m+=pn-hn),$r&&!qo(Vr)&&(Vr.t=$r,Vr.m+=Kr-rn,Pr=nr)}return Pr}function jt(nr){nr.x*=Be[0],nr.y=nr.depth*Be[1]}return nt.separation=function(nr){return arguments.length?(Ae=nr,nt):Ae},nt.size=function(nr){return arguments.length?(et=(Be=nr)==null?jt:null,nt):et?null:Be},nt.nodeSize=function(nr){return arguments.length?(et=(Be=nr)==null?null:jt,nt):et?Be:null},Rl(nt,ue)};function Cs(ue,Ae){return ue.parent==Ae.parent?1:2}function qo(ue){var Ae=ue.children;return Ae.length?Ae[0]:ue.t}function Vo(ue){var Ae=ue.children,Be;return(Be=Ae.length)?Ae[Be-1]:ue.t}function ou(ue,Ae,Be){var et=Be/(Ae.i-ue.i);Ae.c-=et,Ae.s+=Be,ue.c+=et,Ae.z+=Be,Ae.m+=Be}function rh(ue){for(var Ae=0,Be=0,et=ue.children,nt=et.length,ft;--nt>=0;)ft=et[nt],ft.z+=Ae,ft.m+=Ae,Ae+=ft.s+(Be+=ft.c)}function nh(ue,Ae,Be){return ue.a.parent===Ae.parent?ue.a:Be}s.layout.cluster=function(){var ue=s.layout.hierarchy().sort(null).value(null),Ae=Cs,Be=[1,1],et=!1;function nt(ft,Pt){var St=ue.call(this,ft,Pt),Gt=St[0],jt,nr=0;Po(Gt,function(Rr){var Vr=Rr.children;Vr&&Vr.length?(Rr.x=ih(Vr),Rr.y=ah(Vr)):(Rr.x=jt?nr+=Ae(Rr,jt):0,Rr.y=0,jt=Rr)});var Lr=gf(Gt),Pr=$f(Gt),$r=Lr.x-Ae(Lr,Pr)/2,sn=Pr.x+Ae(Pr,Lr)/2;return Po(Gt,et?function(Rr){Rr.x=(Rr.x-Gt.x)*Be[0],Rr.y=(Gt.y-Rr.y)*Be[1]}:function(Rr){Rr.x=(Rr.x-$r)/(sn-$r)*Be[0],Rr.y=(1-(Gt.y?Rr.y/Gt.y:1))*Be[1]}),St}return nt.separation=function(ft){return arguments.length?(Ae=ft,nt):Ae},nt.size=function(ft){return arguments.length?(et=(Be=ft)==null,nt):et?null:Be},nt.nodeSize=function(ft){return arguments.length?(et=(Be=ft)!=null,nt):et?Be:null},Rl(nt,ue)};function ah(ue){return 1+s.max(ue,function(Ae){return Ae.y})}function ih(ue){return ue.reduce(function(Ae,Be){return Ae+Be.x},0)/ue.length}function gf(ue){var Ae=ue.children;return Ae&&Ae.length?gf(Ae[0]):ue}function $f(ue){var Ae=ue.children,Be;return Ae&&(Be=Ae.length)?$f(Ae[Be-1]):ue}s.layout.treemap=function(){var ue=s.layout.hierarchy(),Ae=Math.round,Be=[1,1],et=null,nt=zl,ft=!1,Pt,St="squarify",Gt=.5*(1+Math.sqrt(5));function jt(Rr,Vr){for(var Kr=-1,hn=Rr.length,pn,rn;++Kr<hn;)rn=(pn=Rr[Kr]).value*(Vr<0?0:Vr),pn.area=isNaN(rn)||rn<=0?0:rn}function nr(Rr){var Vr=Rr.children;if(Vr&&Vr.length){var Kr=nt(Rr),hn=[],pn=Vr.slice(),rn,Gn=1/0,ra,fa=St==="slice"?Kr.dx:St==="dice"?Kr.dy:St==="slice-dice"?Rr.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),ea;for(jt(pn,Kr.dx*Kr.dy/Rr.value),hn.area=0;(ea=pn.length)>0;)hn.push(rn=pn[ea-1]),hn.area+=rn.area,St!=="squarify"||(ra=Pr(hn,fa))<=Gn?(pn.pop(),Gn=ra):(hn.area-=hn.pop().area,$r(hn,fa,Kr,!1),fa=Math.min(Kr.dx,Kr.dy),hn.length=hn.area=0,Gn=1/0);hn.length&&($r(hn,fa,Kr,!0),hn.length=hn.area=0),Vr.forEach(nr)}}function Lr(Rr){var Vr=Rr.children;if(Vr&&Vr.length){var Kr=nt(Rr),hn=Vr.slice(),pn,rn=[];for(jt(hn,Kr.dx*Kr.dy/Rr.value),rn.area=0;pn=hn.pop();)rn.push(pn),rn.area+=pn.area,pn.z!=null&&($r(rn,pn.z?Kr.dx:Kr.dy,Kr,!hn.length),rn.length=rn.area=0);Vr.forEach(Lr)}}function Pr(Rr,Vr){for(var Kr=Rr.area,hn,pn=0,rn=1/0,Gn=-1,ra=Rr.length;++Gn<ra;)(hn=Rr[Gn].area)&&(hn<rn&&(rn=hn),hn>pn&&(pn=hn));return Kr*=Kr,Vr*=Vr,Kr?Math.max(Vr*pn*Gt/Kr,Kr/(Vr*rn*Gt)):1/0}function $r(Rr,Vr,Kr,hn){var pn=-1,rn=Rr.length,Gn=Kr.x,ra=Kr.y,fa=Vr?Ae(Rr.area/Vr):0,ea;if(Vr==Kr.dx){for((hn||fa>Kr.dy)&&(fa=Kr.dy);++pn<rn;)ea=Rr[pn],ea.x=Gn,ea.y=ra,ea.dy=fa,Gn+=ea.dx=Math.min(Kr.x+Kr.dx-Gn,fa?Ae(ea.area/fa):0);ea.z=!0,ea.dx+=Kr.x+Kr.dx-Gn,Kr.y+=fa,Kr.dy-=fa}else{for((hn||fa>Kr.dx)&&(fa=Kr.dx);++pn<rn;)ea=Rr[pn],ea.x=Gn,ea.y=ra,ea.dx=fa,ra+=ea.dy=Math.min(Kr.y+Kr.dy-ra,fa?Ae(ea.area/fa):0);ea.z=!1,ea.dy+=Kr.y+Kr.dy-ra,Kr.x+=fa,Kr.dx-=fa}}function sn(Rr){var Vr=Pt||ue(Rr),Kr=Vr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Be[0],Kr.dy=Be[1]):Kr.dx=Kr.dy=0,Pt&&ue.revalue(Kr),jt([Kr],Kr.dx*Kr.dy/Kr.value),(Pt?Lr:nr)(Kr),ft&&(Pt=Vr),Vr}return sn.size=function(Rr){return arguments.length?(Be=Rr,sn):Be},sn.padding=function(Rr){if(!arguments.length)return et;function Vr(pn){var rn=Rr.call(sn,pn,pn.depth);return rn==null?zl(pn):Qi(pn,typeof rn=="number"?[rn,rn,rn,rn]:rn)}function Kr(pn){return Qi(pn,Rr)}var hn;return nt=(et=Rr)==null?zl:(hn=typeof Rr)=="function"?Vr:(hn==="number"&&(Rr=[Rr,Rr,Rr,Rr]),Kr),sn},sn.round=function(Rr){return arguments.length?(Ae=Rr?Math.round:Number,sn):Ae!=Number},sn.sticky=function(Rr){return arguments.length?(ft=Rr,Pt=null,sn):ft},sn.ratio=function(Rr){return arguments.length?(Gt=Rr,sn):Gt},sn.mode=function(Rr){return arguments.length?(St=Rr+"",sn):St},Rl(sn,ue)};function zl(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function Qi(ue,Ae){var Be=ue.x+Ae[3],et=ue.y+Ae[0],nt=ue.dx-Ae[1]-Ae[3],ft=ue.dy-Ae[0]-Ae[2];return nt<0&&(Be+=nt/2,nt=0),ft<0&&(et+=ft/2,ft=0),{x:Be,y:et,dx:nt,dy:ft}}s.random={normal:function(ue,Ae){var Be=arguments.length;return Be<2&&(Ae=1),Be<1&&(ue=0),function(){var et,nt,ft;do et=Math.random()*2-1,nt=Math.random()*2-1,ft=et*et+nt*nt;while(!ft||ft>1);return ue+Ae*et*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var ue=s.random.normal.apply(s,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Ae=s.random.irwinHall(ue);return function(){return Ae()/ue}},irwinHall:function(ue){return function(){for(var Ae=0,Be=0;Be<ue;Be++)Ae+=Math.random();return Ae}}},s.scale={};function Oo(ue){var Ae=ue[0],Be=ue[ue.length-1];return Ae<Be?[Ae,Be]:[Be,Ae]}function Ol(ue){return ue.rangeExtent?ue.rangeExtent():Oo(ue.range())}function qf(ue,Ae,Be,et){var nt=Be(ue[0],ue[1]),ft=et(Ae[0],Ae[1]);return function(Pt){return ft(nt(Pt))}}function su(ue,Ae){var Be=0,et=ue.length-1,nt=ue[Be],ft=ue[et],Pt;return ft<nt&&(Pt=Be,Be=et,et=Pt,Pt=nt,nt=ft,ft=Pt),ue[Be]=Ae.floor(nt),ue[et]=Ae.ceil(ft),ue}function Ls(ue){return ue?{floor:function(Ae){return Math.floor(Ae/ue)*ue},ceil:function(Ae){return Math.ceil(Ae/ue)*ue}}:oh}var oh={floor:O,ceil:O};function ec(ue,Ae,Be,et){var nt=[],ft=[],Pt=0,St=Math.min(ue.length,Ae.length)-1;for(ue[St]<ue[0]&&(ue=ue.slice().reverse(),Ae=Ae.slice().reverse());++Pt<=St;)nt.push(Be(ue[Pt-1],ue[Pt])),ft.push(et(Ae[Pt-1],Ae[Pt]));return function(Gt){var jt=s.bisect(ue,Gt,1,St)-1;return ft[jt](nt[jt](Gt))}}s.scale.linear=function(){return tc([0,1],[0,1],no,!1)};function tc(ue,Ae,Be,et){var nt,ft;function Pt(){var Gt=Math.min(ue.length,Ae.length)>2?ec:qf,jt=et?Pl:Zo;return nt=Gt(ue,Ae,jt,Be),ft=Gt(Ae,ue,jt,no),St}function St(Gt){return nt(Gt)}return St.invert=function(Gt){return ft(Gt)},St.domain=function(Gt){return arguments.length?(ue=Gt.map(Number),Pt()):ue},St.range=function(Gt){return arguments.length?(Ae=Gt,Pt()):Ae},St.rangeRound=function(Gt){return St.range(Gt).interpolate(jf)},St.clamp=function(Gt){return arguments.length?(et=Gt,Pt()):et},St.interpolate=function(Gt){return arguments.length?(Be=Gt,Pt()):Be},St.ticks=function(Gt){return es(ue,Gt)},St.tickFormat=function(Gt,jt){return d3_scale_linearTickFormat(ue,Gt,jt)},St.nice=function(Gt){return rc(ue,Gt),Pt()},St.copy=function(){return tc(ue,Ae,Be,et)},Pt()}function yf(ue,Ae){return s.rebind(ue,Ae,"range","rangeRound","interpolate","clamp")}function rc(ue,Ae){return su(ue,Ls(wo(ue,Ae)[2])),su(ue,Ls(wo(ue,Ae)[2])),ue}function wo(ue,Ae){Ae==null&&(Ae=10);var Be=Oo(ue),et=Be[1]-Be[0],nt=Math.pow(10,Math.floor(Math.log(et/Ae)/Math.LN10)),ft=Ae/et*nt;return ft<=.15?nt*=10:ft<=.35?nt*=5:ft<=.75&&(nt*=2),Be[0]=Math.ceil(Be[0]/nt)*nt,Be[1]=Math.floor(Be[1]/nt)*nt+nt*.5,Be[2]=nt,Be}function es(ue,Ae){return s.range.apply(s,wo(ue,Ae))}s.scale.log=function(){return Gs(s.scale.linear().domain([0,1]),10,!0,[1,10])};function Gs(ue,Ae,Be,et){function nt(St){return(Be?Math.log(St<0?0:St):-Math.log(St>0?0:-St))/Math.log(Ae)}function ft(St){return Be?Math.pow(Ae,St):-Math.pow(Ae,-St)}function Pt(St){return ue(nt(St))}return Pt.invert=function(St){return ft(ue.invert(St))},Pt.domain=function(St){return arguments.length?(Be=St[0]>=0,ue.domain((et=St.map(Number)).map(nt)),Pt):et},Pt.base=function(St){return arguments.length?(Ae=+St,ue.domain(et.map(nt)),Pt):Ae},Pt.nice=function(){var St=su(et.map(nt),Be?Math:Fl);return ue.domain(St),et=St.map(ft),Pt},Pt.ticks=function(){var St=Oo(et),Gt=[],jt=St[0],nr=St[1],Lr=Math.floor(nt(jt)),Pr=Math.ceil(nt(nr)),$r=Ae%1?2:Ae;if(isFinite(Pr-Lr)){if(Be){for(;Lr<Pr;Lr++)for(var sn=1;sn<$r;sn++)Gt.push(ft(Lr)*sn);Gt.push(ft(Lr))}else for(Gt.push(ft(Lr));Lr++<Pr;)for(var sn=$r-1;sn>0;sn--)Gt.push(ft(Lr)*sn);for(Lr=0;Gt[Lr]<jt;Lr++);for(Pr=Gt.length;Gt[Pr-1]>nr;Pr--);Gt=Gt.slice(Lr,Pr)}return Gt},Pt.copy=function(){return Gs(ue.copy(),Ae,Be,et)},yf(Pt,ue)}var Fl={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};s.scale.pow=function(){return Gu(s.scale.linear(),1,[0,1])};function Gu(ue,Ae,Be){var et=ll(Ae),nt=ll(1/Ae);function ft(Pt){return ue(et(Pt))}return ft.invert=function(Pt){return nt(ue.invert(Pt))},ft.domain=function(Pt){return arguments.length?(ue.domain((Be=Pt.map(Number)).map(et)),ft):Be},ft.ticks=function(Pt){return es(Be,Pt)},ft.tickFormat=function(Pt,St){return d3_scale_linearTickFormat(Be,Pt,St)},ft.nice=function(Pt){return ft.domain(rc(Be,Pt))},ft.exponent=function(Pt){return arguments.length?(et=ll(Ae=Pt),nt=ll(1/Ae),ue.domain(Be.map(et)),ft):Ae},ft.copy=function(){return Gu(ue.copy(),Ae,Be)},yf(ft,ue)}function ll(ue){return function(Ae){return Ae<0?-Math.pow(-Ae,ue):Math.pow(Ae,ue)}}s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return ul([],{t:"range",a:[[]]})};function ul(ue,Ae){var Be,et,nt;function ft(St){return et[((Be.get(St)||(Ae.t==="range"?Be.set(St,ue.push(St)):NaN))-1)%et.length]}function Pt(St,Gt){return s.range(ue.length).map(function(jt){return St+Gt*jt})}return ft.domain=function(St){if(!arguments.length)return ue;ue=[],Be=new C;for(var Gt=-1,jt=St.length,nr;++Gt<jt;)Be.has(nr=St[Gt])||Be.set(nr,ue.push(nr));return ft[Ae.t].apply(ft,Ae.a)},ft.range=function(St){return arguments.length?(et=St,nt=0,Ae={t:"range",a:arguments},ft):et},ft.rangePoints=function(St,Gt){arguments.length<2&&(Gt=0);var jt=St[0],nr=St[1],Lr=ue.length<2?(jt=(jt+nr)/2,0):(nr-jt)/(ue.length-1+Gt);return et=Pt(jt+Lr*Gt/2,Lr),nt=0,Ae={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(St,Gt){arguments.length<2&&(Gt=0);var jt=St[0],nr=St[1],Lr=ue.length<2?(jt=nr=Math.round((jt+nr)/2),0):(nr-jt)/(ue.length-1+Gt)|0;return et=Pt(jt+Math.round(Lr*Gt/2+(nr-jt-(ue.length-1+Gt)*Lr)/2),Lr),nt=0,Ae={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(St,Gt,jt){arguments.length<2&&(Gt=0),arguments.length<3&&(jt=Gt);var nr=St[1]<St[0],Lr=St[nr-0],Pr=St[1-nr],$r=(Pr-Lr)/(ue.length-Gt+2*jt);return et=Pt(Lr+$r*jt,$r),nr&&et.reverse(),nt=$r*(1-Gt),Ae={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(St,Gt,jt){arguments.length<2&&(Gt=0),arguments.length<3&&(jt=Gt);var nr=St[1]<St[0],Lr=St[nr-0],Pr=St[1-nr],$r=Math.floor((Pr-Lr)/(ue.length-Gt+2*jt));return et=Pt(Lr+Math.round((Pr-Lr-(ue.length-Gt)*$r)/2),$r),nr&&et.reverse(),nt=Math.round($r*(1-Gt)),Ae={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return nt},ft.rangeExtent=function(){return Oo(Ae.a[0])},ft.copy=function(){return ul(ue,Ae)},ft.domain(ue)}s.scale.category10=function(){return s.scale.ordinal().range(nc)},s.scale.category20=function(){return s.scale.ordinal().range(Ps)},s.scale.category20b=function(){return s.scale.ordinal().range(Nl)},s.scale.category20c=function(){return s.scale.ordinal().range(Ws)};var nc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),Ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),Nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),Ws=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);s.scale.quantile=function(){return _s([],[])};function _s(ue,Ae){var Be;function et(){var ft=0,Pt=Ae.length;for(Be=[];++ft<Pt;)Be[ft-1]=s.quantile(ue,ft/Pt);return nt}function nt(ft){if(!isNaN(ft=+ft))return Ae[s.bisect(Be,ft)]}return nt.domain=function(ft){return arguments.length?(ue=ft.map(g).filter(h).sort(l),et()):ue},nt.range=function(ft){return arguments.length?(Ae=ft,et()):Ae},nt.quantiles=function(){return Be},nt.invertExtent=function(ft){return ft=Ae.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?Be[ft-1]:ue[0],ft<Be.length?Be[ft]:ue[ue.length-1]]},nt.copy=function(){return _s(ue,Ae)},et()}s.scale.quantize=function(){return lu(0,1,[0,1])};function lu(ue,Ae,Be){var et,nt;function ft(St){return Be[Math.max(0,Math.min(nt,Math.floor(et*(St-ue))))]}function Pt(){return et=Be.length/(Ae-ue),nt=Be.length-1,ft}return ft.domain=function(St){return arguments.length?(ue=+St[0],Ae=+St[St.length-1],Pt()):[ue,Ae]},ft.range=function(St){return arguments.length?(Be=St,Pt()):Be},ft.invertExtent=function(St){return St=Be.indexOf(St),St=St<0?NaN:St/et+ue,[St,St+1/et]},ft.copy=function(){return lu(ue,Ae,Be)},Pt()}s.scale.threshold=function(){return Bl([.5],[0,1])};function Bl(ue,Ae){function Be(et){if(et<=et)return Ae[s.bisect(ue,et)]}return Be.domain=function(et){return arguments.length?(ue=et,Be):ue},Be.range=function(et){return arguments.length?(Ae=et,Be):Ae},Be.invertExtent=function(et){return et=Ae.indexOf(et),[ue[et-1],ue[et]]},Be.copy=function(){return Bl(ue,Ae)},Be}s.scale.identity=function(){return vi([0,1])};function vi(ue){function Ae(Be){return+Be}return Ae.invert=Ae,Ae.domain=Ae.range=function(Be){return arguments.length?(ue=Be.map(Ae),Ae):ue},Ae.ticks=function(Be){return es(ue,Be)},Ae.tickFormat=function(Be,et){return d3_scale_linearTickFormat(ue,Be,et)},Ae.copy=function(){return vi(ue)},Ae}s.svg={};function Ul(){return 0}s.svg.arc=function(){var ue=ac,Ae=Vl,Be=Ul,et=Wu,nt=uu,ft=ju,Pt=mf;function St(){var jt=Math.max(0,+ue.apply(this,arguments)),nr=Math.max(0,+Ae.apply(this,arguments)),Lr=nt.apply(this,arguments)-$e,Pr=ft.apply(this,arguments)-$e,$r=Math.abs(Pr-Lr),sn=Lr>Pr?0:1;if(nr<jt&&(Rr=nr,nr=jt,jt=Rr),$r>=Ne)return Gt(nr,sn)+(jt?Gt(jt,1-sn):"")+"Z";var Rr,Vr,Kr,hn,pn=0,rn=0,Gn,ra,fa,ea,oa,ca,Ua,Ca,Oa=[];if((hn=(+Pt.apply(this,arguments)||0)/2)&&(Kr=et===Wu?Math.sqrt(jt*jt+nr*nr):+et.apply(this,arguments),sn||(rn*=-1),nr&&(rn=Zt(Kr/nr*Math.sin(hn))),jt&&(pn=Zt(Kr/jt*Math.sin(hn)))),nr){Gn=nr*Math.cos(Lr+rn),ra=nr*Math.sin(Lr+rn),fa=nr*Math.cos(Pr-rn),ea=nr*Math.sin(Pr-rn);var ii=Math.abs(Pr-Lr-2*rn)<=he?0:1;if(rn&&fu(Gn,ra,fa,ea)===sn^ii){var Fi=(Lr+Pr)/2;Gn=nr*Math.cos(Fi),ra=nr*Math.sin(Fi),fa=ea=null}}else Gn=ra=0;if(jt){oa=jt*Math.cos(Pr-pn),ca=jt*Math.sin(Pr-pn),Ua=jt*Math.cos(Lr+pn),Ca=jt*Math.sin(Lr+pn);var ci=Math.abs(Lr-Pr+2*pn)<=he?0:1;if(pn&&fu(oa,ca,Ua,Ca)===1-sn^ci){var qn=(Lr+Pr)/2;oa=jt*Math.cos(qn),ca=jt*Math.sin(qn),Ua=Ca=null}}else oa=ca=0;if($r>Ye&&(Rr=Math.min(Math.abs(nr-jt)/2,+Be.apply(this,arguments)))>.001){Vr=jt<nr^sn?0:1;var Ha=Rr,Ma=Rr;if($r<he){var Ja=Ua==null?[oa,ca]:fa==null?[Gn,ra]:vn([Gn,ra],[Ua,Ca],[fa,ea],[oa,ca]),wi=Gn-Ja[0],oi=ra-Ja[1],$i=fa-Ja[0],qi=ea-Ja[1],ao=1/Math.sin(Math.acos((wi*$i+oi*qi)/(Math.sqrt(wi*wi+oi*oi)*Math.sqrt($i*$i+qi*qi)))/2),Ti=Math.sqrt(Ja[0]*Ja[0]+Ja[1]*Ja[1]);Ma=Math.min(Rr,(jt-Ti)/(ao-1)),Ha=Math.min(Rr,(nr-Ti)/(ao+1))}if(fa!=null){var go=cu(Ua==null?[oa,ca]:[Ua,Ca],[Gn,ra],nr,Ha,sn),la=cu([fa,ea],[oa,ca],nr,Ha,sn);Rr===Ha?Oa.push("M",go[0],"A",Ha,",",Ha," 0 0,",Vr," ",go[1],"A",nr,",",nr," 0 ",1-sn^fu(go[1][0],go[1][1],la[1][0],la[1][1]),",",sn," ",la[1],"A",Ha,",",Ha," 0 0,",Vr," ",la[0]):Oa.push("M",go[0],"A",Ha,",",Ha," 0 1,",Vr," ",la[0])}else Oa.push("M",Gn,",",ra);if(Ua!=null){var Pa=cu([Gn,ra],[Ua,Ca],jt,-Ma,sn),Ro=cu([oa,ca],fa==null?[Gn,ra]:[fa,ea],jt,-Ma,sn);Rr===Ma?Oa.push("L",Ro[0],"A",Ma,",",Ma," 0 0,",Vr," ",Ro[1],"A",jt,",",jt," 0 ",sn^fu(Ro[1][0],Ro[1][1],Pa[1][0],Pa[1][1]),",",1-sn," ",Pa[1],"A",Ma,",",Ma," 0 0,",Vr," ",Pa[0]):Oa.push("L",Ro[0],"A",Ma,",",Ma," 0 0,",Vr," ",Pa[0])}else Oa.push("L",oa,",",ca)}else Oa.push("M",Gn,",",ra),fa!=null&&Oa.push("A",nr,",",nr," 0 ",ii,",",sn," ",fa,",",ea),Oa.push("L",oa,",",ca),Ua!=null&&Oa.push("A",jt,",",jt," 0 ",ci,",",1-sn," ",Ua,",",Ca);return Oa.push("Z"),Oa.join("")}function Gt(jt,nr){return"M0,"+jt+"A"+jt+","+jt+" 0 1,"+nr+" 0,"+-jt+"A"+jt+","+jt+" 0 1,"+nr+" 0,"+jt}return St.innerRadius=function(jt){return arguments.length?(ue=tn(jt),St):ue},St.outerRadius=function(jt){return arguments.length?(Ae=tn(jt),St):Ae},St.cornerRadius=function(jt){return arguments.length?(Be=tn(jt),St):Be},St.padRadius=function(jt){return arguments.length?(et=jt==Wu?Wu:tn(jt),St):et},St.startAngle=function(jt){return arguments.length?(nt=tn(jt),St):nt},St.endAngle=function(jt){return arguments.length?(ft=tn(jt),St):ft},St.padAngle=function(jt){return arguments.length?(Pt=tn(jt),St):Pt},St.centroid=function(){var jt=(+ue.apply(this,arguments)+ +Ae.apply(this,arguments))/2,nr=(+nt.apply(this,arguments)+ +ft.apply(this,arguments))/2-$e;return[Math.cos(nr)*jt,Math.sin(nr)*jt]},St};var Wu="auto";function ac(ue){return ue.innerRadius}function Vl(ue){return ue.outerRadius}function uu(ue){return ue.startAngle}function ju(ue){return ue.endAngle}function mf(ue){return ue&&ue.padAngle}function fu(ue,Ae,Be,et){return(ue-Be)*Ae-(Ae-et)*ue>0?0:1}function cu(ue,Ae,Be,et,nt){var ft=ue[0]-Ae[0],Pt=ue[1]-Ae[1],St=(nt?et:-et)/Math.sqrt(ft*ft+Pt*Pt),Gt=St*Pt,jt=-St*ft,nr=ue[0]+Gt,Lr=ue[1]+jt,Pr=Ae[0]+Gt,$r=Ae[1]+jt,sn=(nr+Pr)/2,Rr=(Lr+$r)/2,Vr=Pr-nr,Kr=$r-Lr,hn=Vr*Vr+Kr*Kr,pn=Be-et,rn=nr*$r-Pr*Lr,Gn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,pn*pn*hn-rn*rn)),ra=(rn*Kr-Vr*Gn)/hn,fa=(-rn*Vr-Kr*Gn)/hn,ea=(rn*Kr+Vr*Gn)/hn,oa=(-rn*Vr+Kr*Gn)/hn,ca=ra-sn,Ua=fa-Rr,Ca=ea-sn,Oa=oa-Rr;return ca*ca+Ua*Ua>Ca*Ca+Oa*Oa&&(ra=ea,fa=oa),[[ra-Gt,fa-jt],[ra*Be/pn,fa*Be/pn]]}function js(){return!0}function hu(ue){var Ae=wa,Be=Wn,et=js,nt=Gi,ft=nt.key,Pt=.7;function St(Gt){var jt=[],nr=[],Lr=-1,Pr=Gt.length,$r,sn=tn(Ae),Rr=tn(Be);function Vr(){jt.push("M",nt(ue(nr),Pt))}for(;++Lr<Pr;)et.call(this,$r=Gt[Lr],Lr)?nr.push([+sn.call(this,$r,Lr),+Rr.call(this,$r,Lr)]):nr.length&&(Vr(),nr=[]);return nr.length&&Vr(),jt.length?jt.join(""):null}return St.x=function(Gt){return arguments.length?(Ae=Gt,St):Ae},St.y=function(Gt){return arguments.length?(Be=Gt,St):Be},St.defined=function(Gt){return arguments.length?(et=Gt,St):et},St.interpolate=function(Gt){return arguments.length?(typeof Gt=="function"?ft=nt=Gt:ft=(nt=Ys.get(Gt)||Gi).key,St):ft},St.tension=function(Gt){return arguments.length?(Pt=Gt,St):Pt},St}s.svg.line=function(){return hu(O)};var Ys=s.map({linear:Gi,"linear-closed":ds,step:xf,"step-before":fl,"step-after":Yu,basis:Hl,"basis-open":oc,"basis-closed":Xs,bundle:lh,cardinal:ic,"cardinal-open":vu,"cardinal-closed":sh,monotone:Zu});Ys.forEach(function(ue,Ae){Ae.key=ue,Ae.closed=/-closed$/.test(ue)});function Gi(ue){return ue.length>1?ue.join("L"):ue+"Z"}function ds(ue){return ue.join("L")+"Z"}function xf(ue){for(var Ae=0,Be=ue.length,et=ue[0],nt=[et[0],",",et[1]];++Ae<Be;)nt.push("H",(et[0]+(et=ue[Ae])[0])/2,"V",et[1]);return Be>1&&nt.push("H",et[0]),nt.join("")}function fl(ue){for(var Ae=0,Be=ue.length,et=ue[0],nt=[et[0],",",et[1]];++Ae<Be;)nt.push("V",(et=ue[Ae])[1],"H",et[0]);return nt.join("")}function Yu(ue){for(var Ae=0,Be=ue.length,et=ue[0],nt=[et[0],",",et[1]];++Ae<Be;)nt.push("H",(et=ue[Ae])[0],"V",et[1]);return nt.join("")}function vu(ue,Ae){return ue.length<4?Gi(ue):ue[1]+po(ue.slice(1,-1),du(ue,Ae))}function sh(ue,Ae){return ue.length<3?ds(ue):ue[0]+po((ue.push(ue[0]),ue),du([ue[ue.length-2]].concat(ue,[ue[1]]),Ae))}function ic(ue,Ae){return ue.length<3?Gi(ue):ue[0]+po(ue,du(ue,Ae))}function po(ue,Ae){if(Ae.length<1||ue.length!=Ae.length&&ue.length!=Ae.length+2)return Gi(ue);var Be=ue.length!=Ae.length,et="",nt=ue[0],ft=ue[1],Pt=Ae[0],St=Pt,Gt=1;if(Be&&(et+="Q"+(ft[0]-Pt[0]*2/3)+","+(ft[1]-Pt[1]*2/3)+","+ft[0]+","+ft[1],nt=ue[1],Gt=2),Ae.length>1){St=Ae[1],ft=ue[Gt],Gt++,et+="C"+(nt[0]+Pt[0])+","+(nt[1]+Pt[1])+","+(ft[0]-St[0])+","+(ft[1]-St[1])+","+ft[0]+","+ft[1];for(var jt=2;jt<Ae.length;jt++,Gt++)ft=ue[Gt],St=Ae[jt],et+="S"+(ft[0]-St[0])+","+(ft[1]-St[1])+","+ft[0]+","+ft[1]}if(Be){var nr=ue[Gt];et+="Q"+(ft[0]+St[0]*2/3)+","+(ft[1]+St[1]*2/3)+","+nr[0]+","+nr[1]}return et}function du(ue,Ae){for(var Be=[],et=(1-Ae)/2,nt,ft=ue[0],Pt=ue[1],St=1,Gt=ue.length;++St<Gt;)nt=ft,ft=Pt,Pt=ue[St],Be.push([et*(Pt[0]-nt[0]),et*(Pt[1]-nt[1])]);return Be}function Hl(ue){if(ue.length<3)return Gi(ue);var Ae=1,Be=ue.length,et=ue[0],nt=et[0],ft=et[1],Pt=[nt,nt,nt,(et=ue[1])[0]],St=[ft,ft,ft,et[1]],Gt=[nt,",",ft,"L",_o(Rs,Pt),",",_o(Rs,St)];for(ue.push(ue[Be-1]);++Ae<=Be;)et=ue[Ae],Pt.shift(),Pt.push(et[0]),St.shift(),St.push(et[1]),Zs(Gt,Pt,St);return ue.pop(),Gt.push("L",et),Gt.join("")}function oc(ue){if(ue.length<4)return Gi(ue);for(var Ae=[],Be=-1,et=ue.length,nt,ft=[0],Pt=[0];++Be<3;)nt=ue[Be],ft.push(nt[0]),Pt.push(nt[1]);for(Ae.push(_o(Rs,ft)+","+_o(Rs,Pt)),--Be;++Be<et;)nt=ue[Be],ft.shift(),ft.push(nt[0]),Pt.shift(),Pt.push(nt[1]),Zs(Ae,ft,Pt);return Ae.join("")}function Xs(ue){for(var Ae,Be=-1,et=ue.length,nt=et+4,ft,Pt=[],St=[];++Be<4;)ft=ue[Be%et],Pt.push(ft[0]),St.push(ft[1]);for(Ae=[_o(Rs,Pt),",",_o(Rs,St)],--Be;++Be<nt;)ft=ue[Be%et],Pt.shift(),Pt.push(ft[0]),St.shift(),St.push(ft[1]),Zs(Ae,Pt,St);return Ae.join("")}function lh(ue,Ae){var Be=ue.length-1;if(Be)for(var et=ue[0][0],nt=ue[0][1],ft=ue[Be][0]-et,Pt=ue[Be][1]-nt,St=-1,Gt,jt;++St<=Be;)Gt=ue[St],jt=St/Be,Gt[0]=Ae*Gt[0]+(1-Ae)*(et+jt*ft),Gt[1]=Ae*Gt[1]+(1-Ae)*(nt+jt*Pt);return Hl(ue)}function _o(ue,Ae){return ue[0]*Ae[0]+ue[1]*Ae[1]+ue[2]*Ae[2]+ue[3]*Ae[3]}var pu=[0,2/3,1/3,0],Xu=[0,1/3,2/3,0],Rs=[0,1/6,2/3,1/6];function Zs(ue,Ae,Be){ue.push("C",_o(pu,Ae),",",_o(pu,Be),",",_o(Xu,Ae),",",_o(Xu,Be),",",_o(Rs,Ae),",",_o(Rs,Be))}function bf(ue,Ae){return(Ae[1]-ue[1])/(Ae[0]-ue[0])}function gu(ue){for(var Ae=0,Be=ue.length-1,et=[],nt=ue[0],ft=ue[1],Pt=et[0]=bf(nt,ft);++Ae<Be;)et[Ae]=(Pt+(Pt=bf(nt=ft,ft=ue[Ae+1])))/2;return et[Ae]=Pt,et}function yu(ue){for(var Ae=[],Be,et,nt,ft,Pt=gu(ue),St=-1,Gt=ue.length-1;++St<Gt;)Be=bf(ue[St],ue[St+1]),d(Be)<Ye?Pt[St]=Pt[St+1]=0:(et=Pt[St]/Be,nt=Pt[St+1]/Be,ft=et*et+nt*nt,ft>9&&(ft=Be*3/Math.sqrt(ft),Pt[St]=ft*et,Pt[St+1]=ft*nt));for(St=-1;++St<=Gt;)ft=(ue[Math.min(Gt,St+1)][0]-ue[Math.max(0,St-1)][0])/(6*(1+Pt[St]*Pt[St])),Ae.push([ft||0,Pt[St]*ft||0]);return Ae}function Zu(ue){return ue.length<3?Gi(ue):ue[0]+po(ue,yu(ue))}s.svg.line.radial=function(){var ue=hu(sc);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function sc(ue){for(var Ae,Be=-1,et=ue.length,nt,ft;++Be<et;)Ae=ue[Be],nt=Ae[0],ft=Ae[1]-$e,Ae[0]=nt*Math.cos(ft),Ae[1]=nt*Math.sin(ft);return ue}function mu(ue){var Ae=wa,Be=wa,et=0,nt=Wn,ft=js,Pt=Gi,St=Pt.key,Gt=Pt,jt="L",nr=.7;function Lr(Pr){var $r=[],sn=[],Rr=[],Vr=-1,Kr=Pr.length,hn,pn=tn(Ae),rn=tn(et),Gn=Ae===Be?function(){return fa}:tn(Be),ra=et===nt?function(){return ea}:tn(nt),fa,ea;function oa(){$r.push("M",Pt(ue(Rr),nr),jt,Gt(ue(sn.reverse()),nr),"Z")}for(;++Vr<Kr;)ft.call(this,hn=Pr[Vr],Vr)?(sn.push([fa=+pn.call(this,hn,Vr),ea=+rn.call(this,hn,Vr)]),Rr.push([+Gn.call(this,hn,Vr),+ra.call(this,hn,Vr)])):sn.length&&(oa(),sn=[],Rr=[]);return sn.length&&oa(),$r.length?$r.join(""):null}return Lr.x=function(Pr){return arguments.length?(Ae=Be=Pr,Lr):Be},Lr.x0=function(Pr){return arguments.length?(Ae=Pr,Lr):Ae},Lr.x1=function(Pr){return arguments.length?(Be=Pr,Lr):Be},Lr.y=function(Pr){return arguments.length?(et=nt=Pr,Lr):nt},Lr.y0=function(Pr){return arguments.length?(et=Pr,Lr):et},Lr.y1=function(Pr){return arguments.length?(nt=Pr,Lr):nt},Lr.defined=function(Pr){return arguments.length?(ft=Pr,Lr):ft},Lr.interpolate=function(Pr){return arguments.length?(typeof Pr=="function"?St=Pt=Pr:St=(Pt=Ys.get(Pr)||Gi).key,Gt=Pt.reverse||Pt,jt=Pt.closed?"M":"L",Lr):St},Lr.tension=function(Pr){return arguments.length?(nr=Pr,Lr):nr},Lr}fl.reverse=Yu,Yu.reverse=fl,s.svg.area=function(){return mu(O)},s.svg.area.radial=function(){var ue=mu(sc);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function wf(ue){return ue.source}function cl(ue){return ue.target}s.svg.chord=function(){var ue=wf,Ae=cl,Be=Tf,et=uu,nt=ju;function ft(nr,Lr){var Pr=Pt(this,ue,nr,Lr),$r=Pt(this,Ae,nr,Lr);return"M"+Pr.p0+Gt(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(St(Pr,$r)?jt(Pr.r,Pr.p1,Pr.r,Pr.p0):jt(Pr.r,Pr.p1,$r.r,$r.p0)+Gt($r.r,$r.p1,$r.a1-$r.a0)+jt($r.r,$r.p1,Pr.r,Pr.p0))+"Z"}function Pt(nr,Lr,Pr,$r){var sn=Lr.call(nr,Pr,$r),Rr=Be.call(nr,sn,$r),Vr=et.call(nr,sn,$r)-$e,Kr=nt.call(nr,sn,$r)-$e;return{r:Rr,a0:Vr,a1:Kr,p0:[Rr*Math.cos(Vr),Rr*Math.sin(Vr)],p1:[Rr*Math.cos(Kr),Rr*Math.sin(Kr)]}}function St(nr,Lr){return nr.a0==Lr.a0&&nr.a1==Lr.a1}function Gt(nr,Lr,Pr){return"A"+nr+","+nr+" 0 "+ +(Pr>he)+",1 "+Lr}function jt(nr,Lr,Pr,$r){return"Q 0,0 "+$r}return ft.radius=function(nr){return arguments.length?(Be=tn(nr),ft):Be},ft.source=function(nr){return arguments.length?(ue=tn(nr),ft):ue},ft.target=function(nr){return arguments.length?(Ae=tn(nr),ft):Ae},ft.startAngle=function(nr){return arguments.length?(et=tn(nr),ft):et},ft.endAngle=function(nr){return arguments.length?(nt=tn(nr),ft):nt},ft};function Tf(ue){return ue.radius}s.svg.diagonal=function(){var ue=wf,Ae=cl,Be=xu;function et(nt,ft){var Pt=ue.call(this,nt,ft),St=Ae.call(this,nt,ft),Gt=(Pt.y+St.y)/2,jt=[Pt,{x:Pt.x,y:Gt},{x:St.x,y:Gt},St];return jt=jt.map(Be),"M"+jt[0]+"C"+jt[1]+" "+jt[2]+" "+jt[3]}return et.source=function(nt){return arguments.length?(ue=tn(nt),et):ue},et.target=function(nt){return arguments.length?(Ae=tn(nt),et):Ae},et.projection=function(nt){return arguments.length?(Be=nt,et):Be},et};function xu(ue){return[ue.x,ue.y]}s.svg.diagonal.radial=function(){var ue=s.svg.diagonal(),Ae=xu,Be=ue.projection;return ue.projection=function(et){return arguments.length?Be(lc(Ae=et)):Ae},ue};function lc(ue){return function(){var Ae=ue.apply(this,arguments),Be=Ae[0],et=Ae[1]-$e;return[Be*Math.cos(et),Be*Math.sin(et)]}}s.svg.symbol=function(){var ue=at,Ae=Ze;function Be(et,nt){return(wt.get(ue.call(this,et,nt))||gt)(Ae.call(this,et,nt))}return Be.type=function(et){return arguments.length?(ue=tn(et),Be):ue},Be.size=function(et){return arguments.length?(Ae=tn(et),Be):Ae},Be};function Ze(){return 64}function at(){return"circle"}function gt(ue){var Ae=Math.sqrt(ue/he);return"M0,"+Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+-Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+Ae+"Z"}var wt=s.map({circle:gt,cross:function(ue){var Ae=Math.sqrt(ue/5)/2;return"M"+-3*Ae+","+-Ae+"H"+-Ae+"V"+-3*Ae+"H"+Ae+"V"+-Ae+"H"+3*Ae+"V"+Ae+"H"+Ae+"V"+3*Ae+"H"+-Ae+"V"+Ae+"H"+-3*Ae+"Z"},diamond:function(ue){var Ae=Math.sqrt(ue/(2*kt)),Be=Ae*kt;return"M0,"+-Ae+"L"+Be+",0 0,"+Ae+" "+-Be+",0Z"},square:function(ue){var Ae=Math.sqrt(ue)/2;return"M"+-Ae+","+-Ae+"L"+Ae+","+-Ae+" "+Ae+","+Ae+" "+-Ae+","+Ae+"Z"},"triangle-down":function(ue){var Ae=Math.sqrt(ue/zt),Be=Ae*zt/2;return"M0,"+Be+"L"+Ae+","+-Be+" "+-Ae+","+-Be+"Z"},"triangle-up":function(ue){var Ae=Math.sqrt(ue/zt),Be=Ae*zt/2;return"M0,"+-Be+"L"+Ae+","+Be+" "+-Ae+","+Be+"Z"}});s.svg.symbolTypes=wt.keys();var zt=Math.sqrt(3),kt=Math.tan(30*ot);Y.transition=function(ue){for(var Ae=Ir||++Sr,Be=_n(ue),et=[],nt,ft,Pt=Ur||{time:Date.now(),ease:lf,delay:0,duration:250},St=-1,Gt=this.length;++St<Gt;){et.push(nt=[]);for(var jt=this[St],nr=-1,Lr=jt.length;++nr<Lr;)(ft=jt[nr])&&Dn(ft,nr,Be,Ae,Pt),nt.push(ft)}return wr(et,Be,Ae)},Y.interrupt=function(ue){return this.each(ue==null?Ft:gr(_n(ue)))};var Ft=gr(_n());function gr(ue){return function(){var Ae,Be,et;(Ae=this[ue])&&(et=Ae[Be=Ae.active])&&(et.timer.c=null,et.timer.t=NaN,--Ae.count?delete Ae[Be]:delete this[ue],Ae.active+=.5,et.event&&et.event.interrupt.call(this,this.__data__,et.index))}}function wr(ue,Ae,Be){return ie(ue,lr),ue.namespace=Ae,ue.id=Be,ue}var lr=[],Sr=0,Ir,Ur;lr.call=Y.call,lr.empty=Y.empty,lr.node=Y.node,lr.size=Y.size,s.transition=function(ue,Ae){return ue&&ue.transition?Ir?ue.transition(Ae):ue:s.selection().transition(ue)},s.transition.prototype=lr,lr.select=function(ue){var Ae=this.id,Be=this.namespace,et=[],nt,ft,Pt;ue=se(ue);for(var St=-1,Gt=this.length;++St<Gt;){et.push(nt=[]);for(var jt=this[St],nr=-1,Lr=jt.length;++nr<Lr;)(Pt=jt[nr])&&(ft=ue.call(Pt,Pt.__data__,nr,St))?("__data__"in Pt&&(ft.__data__=Pt.__data__),Dn(ft,nr,Be,Ae,Pt[Be][Ae]),nt.push(ft)):nt.push(null)}return wr(et,Be,Ae)},lr.selectAll=function(ue){var Ae=this.id,Be=this.namespace,et=[],nt,ft,Pt,St,Gt;ue=te(ue);for(var jt=-1,nr=this.length;++jt<nr;)for(var Lr=this[jt],Pr=-1,$r=Lr.length;++Pr<$r;)if(Pt=Lr[Pr]){Gt=Pt[Be][Ae],ft=ue.call(Pt,Pt.__data__,Pr,jt),et.push(nt=[]);for(var sn=-1,Rr=ft.length;++sn<Rr;)(St=ft[sn])&&Dn(St,sn,Be,Ae,Gt),nt.push(St)}return wr(et,Be,Ae)},lr.filter=function(ue){var Ae=[],Be,et,nt;typeof ue!="function"&&(ue=tt(ue));for(var ft=0,Pt=this.length;ft<Pt;ft++){Ae.push(Be=[]);for(var et=this[ft],St=0,Gt=et.length;St<Gt;St++)(nt=et[St])&&ue.call(nt,nt.__data__,St,ft)&&Be.push(nt)}return wr(Ae,this.namespace,this.id)},lr.tween=function(ue,Ae){var Be=this.id,et=this.namespace;return arguments.length<2?this.node()[et][Be].tween.get(ue):Je(this,Ae==null?function(nt){nt[et][Be].tween.remove(ue)}:function(nt){nt[et][Be].tween.set(ue,Ae)})};function on(ue,Ae,Be,et){var nt=ue.id,ft=ue.namespace;return Je(ue,typeof Be=="function"?function(Pt,St,Gt){Pt[ft][nt].tween.set(Ae,et(Be.call(Pt,Pt.__data__,St,Gt)))}:(Be=et(Be),function(Pt){Pt[ft][nt].tween.set(Ae,Be)}))}lr.attr=function(ue,Ae){if(arguments.length<2){for(Ae in ue)this.attr(Ae,ue[Ae]);return this}var Be=ue=="transform"?Ou:no,et=s.ns.qualify(ue);function nt(){this.removeAttribute(et)}function ft(){this.removeAttributeNS(et.space,et.local)}function Pt(Gt){return Gt==null?nt:(Gt+="",function(){var jt=this.getAttribute(et),nr;return jt!==Gt&&(nr=Be(jt,Gt),function(Lr){this.setAttribute(et,nr(Lr))})})}function St(Gt){return Gt==null?ft:(Gt+="",function(){var jt=this.getAttributeNS(et.space,et.local),nr;return jt!==Gt&&(nr=Be(jt,Gt),function(Lr){this.setAttributeNS(et.space,et.local,nr(Lr))})})}return on(this,"attr."+ue,Ae,et.local?St:Pt)},lr.attrTween=function(ue,Ae){var Be=s.ns.qualify(ue);function et(ft,Pt){var St=Ae.call(this,ft,Pt,this.getAttribute(Be));return St&&function(Gt){this.setAttribute(Be,St(Gt))}}function nt(ft,Pt){var St=Ae.call(this,ft,Pt,this.getAttributeNS(Be.space,Be.local));return St&&function(Gt){this.setAttributeNS(Be.space,Be.local,St(Gt))}}return this.tween("attr."+ue,Be.local?nt:et)},lr.style=function(ue,Ae,Be){var et=arguments.length;if(et<3){if(typeof ue!="string"){et<2&&(Ae="");for(Be in ue)this.style(Be,ue[Be],Ae);return this}Be=""}function nt(){this.style.removeProperty(ue)}function ft(Pt){return Pt==null?nt:(Pt+="",function(){var St=r(this).getComputedStyle(this,null).getPropertyValue(ue),Gt;return St!==Pt&&(Gt=no(St,Pt),function(jt){this.style.setProperty(ue,Gt(jt),Be)})})}return on(this,"style."+ue,Ae,ft)},lr.styleTween=function(ue,Ae,Be){arguments.length<3&&(Be="");function et(nt,ft){var Pt=Ae.call(this,nt,ft,r(this).getComputedStyle(this,null).getPropertyValue(ue));return Pt&&function(St){this.style.setProperty(ue,Pt(St),Be)}}return this.tween("style."+ue,et)},lr.text=function(ue){return on(this,"text",ue,xn)};function xn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}lr.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Ae;this[ue].count<2&&(Ae=this.parentNode)&&Ae.removeChild(this)})},lr.ease=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].ease:(typeof ue!="function"&&(ue=s.ease.apply(s,arguments)),Je(this,function(et){et[Be][Ae].ease=ue}))},lr.delay=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].delay:Je(this,typeof ue=="function"?function(et,nt,ft){et[Be][Ae].delay=+ue.call(et,et.__data__,nt,ft)}:(ue=+ue,function(et){et[Be][Ae].delay=ue}))},lr.duration=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].duration:Je(this,typeof ue=="function"?function(et,nt,ft){et[Be][Ae].duration=Math.max(1,ue.call(et,et.__data__,nt,ft))}:(ue=Math.max(1,ue),function(et){et[Be][Ae].duration=ue}))},lr.each=function(ue,Ae){var Be=this.id,et=this.namespace;if(arguments.length<2){var nt=Ur,ft=Ir;try{Ir=Be,Je(this,function(Pt,St,Gt){Ur=Pt[et][Be],ue.call(Pt,Pt.__data__,St,Gt)})}finally{Ur=nt,Ir=ft}}else Je(this,function(Pt){var St=Pt[et][Be];(St.event||(St.event=s.dispatch("start","end","interrupt"))).on(ue,Ae)});return this},lr.transition=function(){for(var ue=this.id,Ae=++Sr,Be=this.namespace,et=[],nt,ft,Pt,St,Gt=0,jt=this.length;Gt<jt;Gt++){et.push(nt=[]);for(var ft=this[Gt],nr=0,Lr=ft.length;nr<Lr;nr++)(Pt=ft[nr])&&(St=Pt[Be][ue],Dn(Pt,nr,Be,Ae,{time:St.time,ease:St.ease,delay:St.delay+St.duration,duration:St.duration})),nt.push(Pt)}return wr(et,Be,Ae)};function _n(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function Dn(ue,Ae,Be,et,nt){var ft=ue[Be]||(ue[Be]={active:0,count:0}),Pt=ft[et],St,Gt,jt,nr,Lr;function Pr(Rr){var Vr=Pt.delay;if(Gt.t=Vr+St,Vr<=Rr)return $r(Rr-Vr);Gt.c=$r}function $r(Rr){var Vr=ft.active,Kr=ft[Vr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ft.count,delete ft[Vr],Kr.event&&Kr.event.interrupt.call(ue,ue.__data__,Kr.index));for(var hn in ft)if(+hn<et){var pn=ft[hn];pn.timer.c=null,pn.timer.t=NaN,--ft.count,delete ft[hn]}Gt.c=sn,Pn(function(){return Gt.c&&sn(Rr||1)&&(Gt.c=null,Gt.t=NaN),1},0,St),ft.active=et,Pt.event&&Pt.event.start.call(ue,ue.__data__,Ae),Lr=[],Pt.tween.forEach(function(rn,Gn){(Gn=Gn.call(ue,ue.__data__,Ae))&&Lr.push(Gn)}),nr=Pt.ease,jt=Pt.duration}function sn(Rr){for(var Vr=Rr/jt,Kr=nr(Vr),hn=Lr.length;hn>0;)Lr[--hn].call(ue,Kr);if(Vr>=1)return Pt.event&&Pt.event.end.call(ue,ue.__data__,Ae),--ft.count?delete ft[et]:delete ue[Be],1}Pt||(St=nt.time,Gt=Pn(Pr,0,St),Pt=ft[et]={tween:new C,time:St,timer:Gt,delay:nt.delay,duration:nt.duration,ease:nt.ease,index:Ae},nt=null,++ft.count)}s.svg.axis=function(){var ue=s.scale.linear(),Ae=Kn,Be=6,et=6,nt=3,ft=[10],Pt=null,St;function Gt(jt){jt.each(function(){var nr=s.select(this),Lr=this.__chart__||ue,Pr=this.__chart__=ue.copy(),$r=Pt??(Pr.ticks?Pr.ticks.apply(Pr,ft):Pr.domain()),sn=St??(Pr.tickFormat?Pr.tickFormat.apply(Pr,ft):O),Rr=nr.selectAll(".tick").data($r,Pr),Vr=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",Ye),Kr=s.transition(Rr.exit()).style("opacity",Ye).remove(),hn=s.transition(Rr.order()).style("opacity",1),pn=Math.max(Be,0)+nt,rn,Gn=Ol(Pr),ra=nr.selectAll(".domain").data([0]),fa=(ra.enter().append("path").attr("class","domain"),s.transition(ra));Vr.append("line"),Vr.append("text");var ea=Vr.select("line"),oa=hn.select("line"),ca=Rr.select("text").text(sn),Ua=Vr.select("text"),Ca=hn.select("text"),Oa=Ae==="top"||Ae==="left"?-1:1,ii,Fi,ci,qn;if(Ae==="bottom"||Ae==="top"?(rn=Da,ii="x",ci="y",Fi="x2",qn="y2",ca.attr("dy",Oa<0?"0em":".71em").style("text-anchor","middle"),fa.attr("d","M"+Gn[0]+","+Oa*et+"V0H"+Gn[1]+"V"+Oa*et)):(rn=ka,ii="y",ci="x",Fi="y2",qn="x2",ca.attr("dy",".32em").style("text-anchor",Oa<0?"end":"start"),fa.attr("d","M"+Oa*et+","+Gn[0]+"H0V"+Gn[1]+"H"+Oa*et)),ea.attr(qn,Oa*Be),Ua.attr(ci,Oa*pn),oa.attr(Fi,0).attr(qn,Oa*Be),Ca.attr(ii,0).attr(ci,Oa*pn),Pr.rangeBand){var Ha=Pr,Ma=Ha.rangeBand()/2;Lr=Pr=function(Ja){return Ha(Ja)+Ma}}else Lr.rangeBand?Lr=Pr:Kr.call(rn,Pr,Lr);Vr.call(rn,Lr,Pr),hn.call(rn,Pr,Pr)})}return Gt.scale=function(jt){return arguments.length?(ue=jt,Gt):ue},Gt.orient=function(jt){return arguments.length?(Ae=jt in Ra?jt+"":Kn,Gt):Ae},Gt.ticks=function(){return arguments.length?(ft=S(arguments),Gt):ft},Gt.tickValues=function(jt){return arguments.length?(Pt=jt,Gt):Pt},Gt.tickFormat=function(jt){return arguments.length?(St=jt,Gt):St},Gt.tickSize=function(jt){var nr=arguments.length;return nr?(Be=+jt,et=+arguments[nr-1],Gt):Be},Gt.innerTickSize=function(jt){return arguments.length?(Be=+jt,Gt):Be},Gt.outerTickSize=function(jt){return arguments.length?(et=+jt,Gt):et},Gt.tickPadding=function(jt){return arguments.length?(nt=+jt,Gt):nt},Gt.tickSubdivide=function(){return arguments.length&&Gt},Gt};var Kn="bottom",Ra={top:1,right:1,bottom:1,left:1};function Da(ue,Ae,Be){ue.attr("transform",function(et){var nt=Ae(et);return"translate("+(isFinite(nt)?nt:Be(et))+",0)"})}function ka(ue,Ae,Be){ue.attr("transform",function(et){var nt=Ae(et);return"translate(0,"+(isFinite(nt)?nt:Be(et))+")"})}s.svg.brush=function(){var ue=$(nr,"brushstart","brush","brushend"),Ae=null,Be=null,et=[0,0],nt=[0,0],ft,Pt,St=!0,Gt=!0,jt=Ka[0];function nr(Rr){Rr.each(function(){var Vr=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sn).on("touchstart.brush",sn),Kr=Vr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Vr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var hn=Vr.selectAll(".resize").data(jt,O);hn.exit().remove(),hn.enter().append("g").attr("class",function(ra){return"resize "+ra}).style("cursor",function(ra){return Na[ra]}).append("rect").attr("x",function(ra){return/[ew]$/.test(ra)?-3:null}).attr("y",function(ra){return/^[ns]/.test(ra)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),hn.style("display",nr.empty()?"none":null);var pn=s.transition(Vr),rn=s.transition(Kr),Gn;Ae&&(Gn=Ol(Ae),rn.attr("x",Gn[0]).attr("width",Gn[1]-Gn[0]),Pr(pn)),Be&&(Gn=Ol(Be),rn.attr("y",Gn[0]).attr("height",Gn[1]-Gn[0]),$r(pn)),Lr(pn)})}nr.event=function(Rr){Rr.each(function(){var Vr=ue.of(this,arguments),Kr={x:et,y:nt,i:ft,j:Pt},hn=this.__chart__||Kr;this.__chart__=Kr,Ir?s.select(this).transition().each("start.brush",function(){ft=hn.i,Pt=hn.j,et=hn.x,nt=hn.y,Vr({type:"brushstart"})}).tween("brush:brush",function(){var pn=zo(et,Kr.x),rn=zo(nt,Kr.y);return ft=Pt=null,function(Gn){et=Kr.x=pn(Gn),nt=Kr.y=rn(Gn),Vr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=Kr.i,Pt=Kr.j,Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"})}):(Vr({type:"brushstart"}),Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"}))})};function Lr(Rr){Rr.selectAll(".resize").attr("transform",function(Vr){return"translate("+et[+/e$/.test(Vr)]+","+nt[+/^s/.test(Vr)]+")"})}function Pr(Rr){Rr.select(".extent").attr("x",et[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",et[1]-et[0])}function $r(Rr){Rr.select(".extent").attr("y",nt[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",nt[1]-nt[0])}function sn(){var Rr=this,Vr=s.select(s.event.target),Kr=ue.of(Rr,arguments),hn=s.select(Rr),pn=Vr.datum(),rn=!/^(n|s)$/.test(pn)&&Ae,Gn=!/^(e|w)$/.test(pn)&&Be,ra=Vr.classed("extent"),fa=je(Rr),ea,oa=s.mouse(Rr),ca,Ua=s.select(r(Rr)).on("keydown.brush",ii).on("keyup.brush",Fi);if(s.event.changedTouches?Ua.on("touchmove.brush",ci).on("touchend.brush",Ha):Ua.on("mousemove.brush",ci).on("mouseup.brush",Ha),hn.interrupt().selectAll("*").interrupt(),ra)oa[0]=et[0]-oa[0],oa[1]=nt[0]-oa[1];else if(pn){var Ca=+/w$/.test(pn),Oa=+/^n/.test(pn);ca=[et[1-Ca]-oa[0],nt[1-Oa]-oa[1]],oa[0]=et[Ca],oa[1]=nt[Oa]}else s.event.altKey&&(ea=oa.slice());hn.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",Vr.style("cursor")),Kr({type:"brushstart"}),ci();function ii(){s.event.keyCode==32&&(ra||(ea=null,oa[0]-=et[1],oa[1]-=nt[1],ra=2),ne())}function Fi(){s.event.keyCode==32&&ra==2&&(oa[0]+=et[1],oa[1]+=nt[1],ra=0,ne())}function ci(){var Ma=s.mouse(Rr),Ja=!1;ca&&(Ma[0]+=ca[0],Ma[1]+=ca[1]),ra||(s.event.altKey?(ea||(ea=[(et[0]+et[1])/2,(nt[0]+nt[1])/2]),oa[0]=et[+(Ma[0]<ea[0])],oa[1]=nt[+(Ma[1]<ea[1])]):ea=null),rn&&qn(Ma,Ae,0)&&(Pr(hn),Ja=!0),Gn&&qn(Ma,Be,1)&&($r(hn),Ja=!0),Ja&&(Lr(hn),Kr({type:"brush",mode:ra?"move":"resize"}))}function qn(Ma,Ja,wi){var oi=Ol(Ja),$i=oi[0],qi=oi[1],ao=oa[wi],Ti=wi?nt:et,go=Ti[1]-Ti[0],la,Pa;if(ra&&($i-=ao,qi-=go+ao),la=(wi?Gt:St)?Math.max($i,Math.min(qi,Ma[wi])):Ma[wi],ra?Pa=(la+=ao)+go:(ea&&(ao=Math.max($i,Math.min(qi,2*ea[wi]-la))),ao<la?(Pa=la,la=ao):Pa=ao),Ti[0]!=la||Ti[1]!=Pa)return wi?Pt=null:ft=null,Ti[0]=la,Ti[1]=Pa,!0}function Ha(){ci(),hn.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),s.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fa(),Kr({type:"brushend"})}}return nr.x=function(Rr){return arguments.length?(Ae=Rr,jt=Ka[!Ae<<1|!Be],nr):Ae},nr.y=function(Rr){return arguments.length?(Be=Rr,jt=Ka[!Ae<<1|!Be],nr):Be},nr.clamp=function(Rr){return arguments.length?(Ae&&Be?(St=!!Rr[0],Gt=!!Rr[1]):Ae?St=!!Rr:Be&&(Gt=!!Rr),nr):Ae&&Be?[St,Gt]:Ae?St:Be?Gt:null},nr.extent=function(Rr){var Vr,Kr,hn,pn,rn;return arguments.length?(Ae&&(Vr=Rr[0],Kr=Rr[1],Be&&(Vr=Vr[0],Kr=Kr[0]),ft=[Vr,Kr],Ae.invert&&(Vr=Ae(Vr),Kr=Ae(Kr)),Kr<Vr&&(rn=Vr,Vr=Kr,Kr=rn),(Vr!=et[0]||Kr!=et[1])&&(et=[Vr,Kr])),Be&&(hn=Rr[0],pn=Rr[1],Ae&&(hn=hn[1],pn=pn[1]),Pt=[hn,pn],Be.invert&&(hn=Be(hn),pn=Be(pn)),pn<hn&&(rn=hn,hn=pn,pn=rn),(hn!=nt[0]||pn!=nt[1])&&(nt=[hn,pn])),nr):(Ae&&(ft?(Vr=ft[0],Kr=ft[1]):(Vr=et[0],Kr=et[1],Ae.invert&&(Vr=Ae.invert(Vr),Kr=Ae.invert(Kr)),Kr<Vr&&(rn=Vr,Vr=Kr,Kr=rn))),Be&&(Pt?(hn=Pt[0],pn=Pt[1]):(hn=nt[0],pn=nt[1],Be.invert&&(hn=Be.invert(hn),pn=Be.invert(pn)),pn<hn&&(rn=hn,hn=pn,pn=rn))),Ae&&Be?[[Vr,hn],[Kr,pn]]:Ae?[Vr,Kr]:Be&&[hn,pn])},nr.clear=function(){return nr.empty()||(et=[0,0],nt=[0,0],ft=Pt=null),nr},nr.empty=function(){return!!Ae&&et[0]==et[1]||!!Be&&nt[0]==nt[1]},s.rebind(nr,ue,"on")};var Na={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ka=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];s.text=Sn(function(ue){return ue.responseText}),s.json=function(ue,Ae){return Tn(ue,"application/json",di,Ae)};function di(ue){return JSON.parse(ue.responseText)}s.html=function(ue,Ae){return Tn(ue,"text/html",zi,Ae)};function zi(ue){var Ae=v.createRange();return Ae.selectNode(v.body),Ae.createContextualFragment(ue.responseText)}s.xml=Sn(function(ue){return ue.responseXML}),m=s,P=typeof m=="function"?m.call(H,e,H,G):m,P!==void 0&&(G.exports=P)}).apply(self)},3480:function(G){(function(H,e){G.exports=e()})(this,function(){var H,e,m;function P(s,L){if(!H)H=L;else if(!e)e=L;else{var S="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),m=L(v),typeof window<"u"&&(m.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return P(["exports"],function(s){function L(_,R){return R={exports:{}},_(R,R.exports),R.exports}var S="1.13.4",v=p;function p(_,R,V,ae){this.cx=3*_,this.bx=3*(V-_)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(ae-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_,this.p1y=ae,this.p2x=V,this.p2y=ae}p.prototype.sampleCurveX=function(_){return((this.ax*_+this.bx)*_+this.cx)*_},p.prototype.sampleCurveY=function(_){return((this.ay*_+this.by)*_+this.cy)*_},p.prototype.sampleCurveDerivativeX=function(_){return(3*this.ax*_+2*this.bx)*_+this.cx},p.prototype.solveCurveX=function(_,R){typeof R>"u"&&(R=1e-6);var V,ae,ve,we,Ee;for(ve=_,Ee=0;Ee<8;Ee++){if(we=this.sampleCurveX(ve)-_,Math.abs(we)<R)return ve;var Ke=this.sampleCurveDerivativeX(ve);if(Math.abs(Ke)<1e-6)break;ve=ve-we/Ke}if(V=0,ae=1,ve=_,ve<V)return V;if(ve>ae)return ae;for(;V<ae;){if(we=this.sampleCurveX(ve),Math.abs(we-_)<R)return ve;_>we?V=ve:ae=ve,ve=(ae-V)*.5+V}return ve},p.prototype.solve=function(_,R){return this.sampleCurveY(this.solveCurveX(_,R))};var r=t;function t(_,R){this.x=_,this.y=R}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(_){return this.clone()._add(_)},sub:function(_){return this.clone()._sub(_)},multByPoint:function(_){return this.clone()._multByPoint(_)},divByPoint:function(_){return this.clone()._divByPoint(_)},mult:function(_){return this.clone()._mult(_)},div:function(_){return this.clone()._div(_)},rotate:function(_){return this.clone()._rotate(_)},rotateAround:function(_,R){return this.clone()._rotateAround(_,R)},matMult:function(_){return this.clone()._matMult(_)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_){return this.x===_.x&&this.y===_.y},dist:function(_){return Math.sqrt(this.distSqr(_))},distSqr:function(_){var R=_.x-this.x,V=_.y-this.y;return R*R+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_){return Math.atan2(this.y-_.y,this.x-_.x)},angleWith:function(_){return this.angleWithSep(_.x,_.y)},angleWithSep:function(_,R){return Math.atan2(this.x*R-this.y*_,this.x*_+this.y*R)},_matMult:function(_){var R=_[0]*this.x+_[1]*this.y,V=_[2]*this.x+_[3]*this.y;return this.x=R,this.y=V,this},_add:function(_){return this.x+=_.x,this.y+=_.y,this},_sub:function(_){return this.x-=_.x,this.y-=_.y,this},_mult:function(_){return this.x*=_,this.y*=_,this},_div:function(_){return this.x/=_,this.y/=_,this},_multByPoint:function(_){return this.x*=_.x,this.y*=_.y,this},_divByPoint:function(_){return this.x/=_.x,this.y/=_.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _=this.y;return this.y=this.x,this.x=-_,this},_rotate:function(_){var R=Math.cos(_),V=Math.sin(_),ae=R*this.x-V*this.y,ve=V*this.x+R*this.y;return this.x=ae,this.y=ve,this},_rotateAround:function(_,R){var V=Math.cos(_),ae=Math.sin(_),ve=R.x+V*(this.x-R.x)-ae*(this.y-R.y),we=R.y+ae*(this.x-R.x)+V*(this.y-R.y);return this.x=ve,this.y=we,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(_){return _ instanceof t?_:Array.isArray(_)?new t(_[0],_[1]):_};var a=typeof self<"u"?self:{};function n(_,R){if(Array.isArray(_)){if(!Array.isArray(R)||_.length!==R.length)return!1;for(var V=0;V<_.length;V++)if(!n(_[V],R[V]))return!1;return!0}if(typeof _=="object"&&_!==null&&R!==null){if(typeof R!="object")return!1;var ae=Object.keys(_);if(ae.length!==Object.keys(R).length)return!1;for(var ve in _)if(!n(_[ve],R[ve]))return!1;return!0}return _===R}var f=Math.pow(2,53)-1;function u(_){if(_<=0)return 0;if(_>=1)return 1;var R=_*_,V=R*_;return 4*(_<.5?V:3*(_-R)+V-.75)}function l(_,R,V,ae){var ve=new v(_,R,V,ae);return function(we){return ve.solve(we)}}var g=l(.25,.1,.25,1);function h(_,R,V){return Math.min(V,Math.max(R,_))}function T(_,R,V){var ae=V-R,ve=((_-R)%ae+ae)%ae+R;return ve===R?V:ve}function c(_,R,V){if(!_.length)return V(null,[]);var ae=_.length,ve=new Array(_.length),we=null;_.forEach(function(Ee,Ke){R(Ee,function(vt,Mt){vt&&(we=vt),ve[Ke]=Mt,--ae===0&&V(we,ve)})})}function i(_){var R=[];for(var V in _)R.push(_[V]);return R}function d(_,R){var V=[];for(var ae in _)ae in R||V.push(ae);return V}function b(_){for(var R=[],V=arguments.length-1;V-- >0;)R[V]=arguments[V+1];for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];for(var Ee in we)_[Ee]=we[Ee]}return _}function w(_,R){for(var V={},ae=0;ae<R.length;ae++){var ve=R[ae];ve in _&&(V[ve]=_[ve])}return V}var C=1;function y(){return C++}function E(){function _(R){return R?(R^Math.random()*16>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,_)}return _()}function A(_){return _<=1?1:Math.pow(2,Math.ceil(Math.log(_)/Math.LN2))}function o(_){return _?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_):!1}function M(_,R){_.forEach(function(V){R[V]&&(R[V]=R[V].bind(R))})}function x(_,R){return _.indexOf(R,_.length-R.length)!==-1}function I(_,R,V){var ae={};for(var ve in _)ae[ve]=R.call(V||this,_[ve],ve,_);return ae}function D(_,R,V){var ae={};for(var ve in _)R.call(V||this,_[ve],ve,_)&&(ae[ve]=_[ve]);return ae}function N(_){return Array.isArray(_)?_.map(N):typeof _=="object"&&_?I(_,N):_}function k(_,R){for(var V=0;V<_.length;V++)if(R.indexOf(_[V])>=0)return!0;return!1}var O={};function F(_){O[_]||(typeof console<"u"&&console.warn(_),O[_]=!0)}function z(_,R,V){return(V.y-_.y)*(R.x-_.x)>(R.y-_.y)*(V.x-_.x)}function B(_){for(var R=0,V=0,ae=_.length,ve=ae-1,we=void 0,Ee=void 0;V<ae;ve=V++)we=_[V],Ee=_[ve],R+=(Ee.x-we.x)*(we.y+Ee.y);return R}function W(_){var R=_[0],V=_[1],ae=_[2];return V+=90,V*=Math.PI/180,ae*=Math.PI/180,{x:R*Math.cos(V)*Math.sin(ae),y:R*Math.sin(V)*Math.sin(ae),z:R*Math.cos(ae)}}function J(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function re(_){var R=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,V={};if(_.replace(R,function(ve,we,Ee,Ke){var vt=Ee||Ke;return V[we]=vt?vt.toLowerCase():!0,""}),V["max-age"]){var ae=parseInt(V["max-age"],10);isNaN(ae)?delete V["max-age"]:V["max-age"]=ae}return V}var ne=null;function le(_){if(ne==null){var R=_.navigator?_.navigator.userAgent:null;ne=!!_.safari||!!(R&&(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return ne}function $(_){try{var R=a[_];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}function Z(_){return a.btoa(encodeURIComponent(_).replace(/%([0-9A-F]{2})/g,function(R,V){return String.fromCharCode(+("0x"+V))}))}function ie(_){return decodeURIComponent(a.atob(_).split("").map(function(R){return"%"+("00"+R.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var X=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),Q=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,oe=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,j,Y,se={now:X,frame:function(R){var V=Q(R);return{cancel:function(){return oe(V)}}},getImageData:function(R,V){V===void 0&&(V=0);var ae=a.document.createElement("canvas"),ve=ae.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ae.width=R.width,ae.height=R.height,ve.drawImage(R,0,0,R.width,R.height),ve.getImageData(-V,-V,R.width+2*V,R.height+2*V)},resolveURL:function(R){return j||(j=a.document.createElement("a")),j.href=R,j.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return a.matchMedia?(Y==null&&(Y=a.matchMedia("(prefers-reduced-motion: reduce)")),Y.matches):!1}},te={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:De},ge,be=!1,xe,_e=!1;a.document&&(xe=a.document.createElement("img"),xe.onload=function(){ge&&Fe(ge),ge=null,_e=!0},xe.onerror=function(){be=!0,ge=null},xe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function De(_){be||!xe||(_e?Fe(_):ge=_)}function Fe(_){var R=_.createTexture();_.bindTexture(_.TEXTURE_2D,R);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,xe),_.isContextLost())return;fe.supported=!0}catch{}_.deleteTexture(R),be=!0}var Te="01";function Re(){for(var _="1",R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="",ae=0;ae<10;ae++)V+=R[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,we=[_,Te,V].join(""),Ee=Date.now()+ve;return{token:we,tokenExpiresAt:Ee}}var Se=function(R,V){this._transformRequestFn=R,this._customAccessToken=V,this._createSkuToken()};Se.prototype._createSkuToken=function(){var R=Re();this._skuToken=R.token,this._skuTokenExpiresAt=R.tokenExpiresAt},Se.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Se.prototype.transformRequest=function(R,V){return this._transformRequestFn?this._transformRequestFn(R,V)||{url:R}:{url:R}},Se.prototype.normalizeStyleURL=function(R,V){if(!ke(R))return R;var ae=Qe(R);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||V)},Se.prototype.normalizeGlyphsURL=function(R,V){if(!ke(R))return R;var ae=Qe(R);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||V)},Se.prototype.normalizeSourceURL=function(R,V){if(!ke(R))return R;var ae=Qe(R);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||V)},Se.prototype.normalizeSpriteURL=function(R,V,ae,ve){var we=Qe(R);return ke(R)?(we.path="/styles/v1"+we.path+"/sprite"+V+ae,this._makeAPIURL(we,this._customAccessToken||ve)):(we.path+=""+V+ae,ct(we))},Se.prototype.normalizeTileURL=function(R,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),R&&!ke(R))return R;var ae=Qe(R),ve=/(\.(png|jpg)\d*)(?=$)/,we=/^.+\/v4\//,Ee=se.devicePixelRatio>=2||V===512?"@2x":"",Ke=fe.supported?".webp":"$1";ae.path=ae.path.replace(ve,""+Ee+Ke),ae.path=ae.path.replace(we,"/"),ae.path="/v4"+ae.path;var vt=this._customAccessToken||it(ae.params)||te.ACCESS_TOKEN;return te.REQUIRE_ACCESS_TOKEN&&vt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,vt)},Se.prototype.canonicalizeTileURL=function(R,V){var ae="/v4/",ve=/\.[\w]+$/,we=Qe(R);if(!we.path.match(/(^\/v4\/)/)||!we.path.match(ve))return R;var Ee="mapbox://tiles/";Ee+=we.path.replace(ae,"");var Ke=we.params;return V&&(Ke=Ke.filter(function(vt){return!vt.match(/^access_token=/)})),Ke.length&&(Ee+="?"+Ke.join("&")),Ee},Se.prototype.canonicalizeTileset=function(R,V){for(var ae=V?ke(V):!1,ve=[],we=0,Ee=R.tiles||[];we<Ee.length;we+=1){var Ke=Ee[we];Ve(Ke)?ve.push(this.canonicalizeTileURL(Ke,ae)):ve.push(Ke)}return ve},Se.prototype._makeAPIURL=function(R,V){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=Qe(te.API_URL);if(R.protocol=ve.protocol,R.authority=ve.authority,R.protocol==="http"){var we=R.params.indexOf("secure");we>=0&&R.params.splice(we,1)}if(ve.path!=="/"&&(R.path=""+ve.path+R.path),!te.REQUIRE_ACCESS_TOKEN)return ct(R);if(V=V||te.ACCESS_TOKEN,!V)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(V[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return R.params=R.params.filter(function(Ee){return Ee.indexOf("access_token")===-1}),R.params.push("access_token="+V),ct(R)};function ke(_){return _.indexOf("mapbox:")===0}var Me=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ve(_){return Me.test(_)}function tt(_){return _.indexOf("sku=")>0&&Ve(_)}function it(_){for(var R=0,V=_;R<V.length;R+=1){var ae=V[R],ve=ae.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var Je=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Qe(_){var R=_.match(Je);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function ct(_){var R=_.params.length?"?"+_.params.join("&"):"";return _.protocol+"://"+_.authority+_.path+R}var ht="mapbox.eventData";function dt(_){if(!_)return null;var R=_.split(".");if(!R||R.length!==3)return null;try{var V=JSON.parse(ie(R[1]));return V}catch{return null}}var Tt=function(R){this.type=R,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Tt.prototype.getStorageKey=function(R){var V=dt(te.ACCESS_TOKEN),ae="";return V&&V.u?ae=Z(V.u):ae=te.ACCESS_TOKEN||"",R?ht+"."+R+":"+ae:ht+":"+ae},Tt.prototype.fetchEventData=function(){var R=$("localStorage"),V=this.getStorageKey(),ae=this.getStorageKey("uuid");if(R)try{var ve=a.localStorage.getItem(V);ve&&(this.eventData=JSON.parse(ve));var we=a.localStorage.getItem(ae);we&&(this.anonId=we)}catch{F("Unable to read from LocalStorage")}},Tt.prototype.saveEventData=function(){var R=$("localStorage"),V=this.getStorageKey(),ae=this.getStorageKey("uuid");if(R)try{a.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(V,JSON.stringify(this.eventData))}catch{F("Unable to write to LocalStorage")}},Tt.prototype.processRequests=function(R){},Tt.prototype.postEvent=function(R,V,ae,ve){var we=this;if(te.EVENTS_URL){var Ee=Qe(te.EVENTS_URL);Ee.params.push("access_token="+(ve||te.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(R).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:S,skuId:Te,userId:this.anonId},vt=V?b(Ke,V):Ke,Mt={url:ct(Ee),headers:{"Content-Type":"text/plain"},body:JSON.stringify([vt])};this.pendingRequest=xt(Mt,function(_t){we.pendingRequest=null,ae(_t),we.saveEventData(),we.processRequests(ve)})}},Tt.prototype.queueRequest=function(R,V){this.queue.push(R),this.processRequests(V)};var Et=function(_){function R(){_.call(this,"map.load"),this.success={},this.skuToken=""}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(ae,ve,we,Ee){this.skuToken=we,(te.EVENTS_URL&&Ee||te.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Ke){return ke(Ke)||Ve(Ke)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Ee)},R.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var we=this.queue.shift(),Ee=we.id,Ke=we.timestamp;Ee&&this.success[Ee]||(this.anonId||this.fetchEventData(),o(this.anonId)||(this.anonId=E()),this.postEvent(Ke,{skuToken:this.skuToken},function(vt){vt||Ee&&(ve.success[Ee]=!0)},ae))}},R}(Tt),rt=function(_){function R(V){_.call(this,"appUserTurnstile"),this._customAccessToken=V}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(ae,ve){te.EVENTS_URL&&te.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(we){return ke(we)||Ve(we)})&&this.queueRequest(Date.now(),ve)},R.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var we=dt(te.ACCESS_TOKEN),Ee=we?we.u:te.ACCESS_TOKEN,Ke=Ee!==this.eventData.tokenU;o(this.anonId)||(this.anonId=E(),Ke=!0);var vt=this.queue.shift();if(this.eventData.lastSuccess){var Mt=new Date(this.eventData.lastSuccess),_t=new Date(vt),Yt=(vt-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||Yt>=1||Yt<-1||Mt.getDate()!==_t.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(vt,{"enabled.telemetry":!1},function(ar){ar||(ve.eventData.lastSuccess=vt,ve.eventData.tokenU=Ee)},ae)}},R}(Tt),ze=new rt,Ge=ze.postTurnstileEvent.bind(ze),je=new Et,We=je.postMapLoadEvent.bind(je),Le="mapbox-tiles",Pe=500,Ye=50,Ce=1e3*60*7,he;function me(){a.caches&&!he&&(he=a.caches.open(Le))}var Ne;function $e(_,R){if(Ne===void 0)try{new Response(new ReadableStream),Ne=!0}catch{Ne=!1}Ne?R(_.body):_.blob().then(R)}function ot(_,R,V){if(me(),!!he){var ae={status:R.status,statusText:R.statusText,headers:new a.Headers};R.headers.forEach(function(Ee,Ke){return ae.headers.set(Ke,Ee)});var ve=re(R.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ae.headers.set("Expires",new Date(V+ve["max-age"]*1e3).toUTCString());var we=new Date(ae.headers.get("Expires")).getTime()-V;we<Ce||$e(R,function(Ee){var Ke=new a.Response(Ee,ae);me(),he&&he.then(function(vt){return vt.put(st(_.url),Ke)}).catch(function(vt){return F(vt.message)})})}}}function st(_){var R=_.indexOf("?");return R<0?_:_.slice(0,R)}function Wt(_,R){if(me(),!he)return R(null);var V=st(_.url);he.then(function(ae){ae.match(V).then(function(ve){var we=Zt(ve);ae.delete(V),we&&ae.put(V,ve.clone()),R(null,ve,we)}).catch(R)}).catch(R)}function Zt(_){if(!_)return!1;var R=new Date(_.headers.get("Expires")||0),V=re(_.headers.get("Cache-Control")||"");return R>Date.now()&&!V["no-cache"]}var At=1/0;function Rt(_){At++,At>Ye&&(_.getActor().send("enforceCacheSizeLimit",Pe),At=0)}function Xt(_){me(),he&&he.then(function(R){R.keys().then(function(V){for(var ae=0;ae<V.length-_;ae++)R.delete(V[ae])})})}function ir(_){var R=a.caches.delete(Le);_&&R.catch(_).then(function(){return _()})}function pt(_,R){Pe=_,Ye=R}var Kt;function Qt(){return Kt==null&&(Kt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&typeof a.createImageBitmap=="function"),Kt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var ur=function(_){function R(V,ae,ve){ae===401&&Ve(ve)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),_.call(this,V),this.status=ae,this.url=ve,this.name=this.constructor.name,this.message=V}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),mt=J()?function(){return self.worker&&self.worker.referrer}:function(){return(a.location.protocol==="blob:"?a.parent:a).location.href},lt=function(_){return/^file:/.test(_)||/^file:/.test(mt())&&!/^\w+:/.test(_)};function bt(_,R){var V=new a.AbortController,ae=new a.Request(_.url,{method:_.method||"GET",body:_.body,credentials:_.credentials,headers:_.headers,referrer:mt(),signal:V.signal}),ve=!1,we=!1,Ee=tt(ae.url);_.type==="json"&&ae.headers.set("Accept","application/json");var Ke=function(Mt,_t,Yt){if(!we){if(Mt&&Mt.message!=="SecurityError"&&F(Mt),_t&&Yt)return vt(_t);var ar=Date.now();a.fetch(ae).then(function(er){if(er.ok){var br=Ee?er.clone():null;return vt(er,br,ar)}else return R(new ur(er.statusText,er.status,_.url))}).catch(function(er){er.code!==20&&R(new Error(er.message))})}},vt=function(Mt,_t,Yt){(_.type==="arrayBuffer"?Mt.arrayBuffer():_.type==="json"?Mt.json():Mt.text()).then(function(ar){we||(_t&&Yt&&ot(ae,_t,Yt),ve=!0,R(null,ar,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(ar){we||R(new Error(ar.message))})};return Ee?Wt(ae,Ke):Ke(null,null),{cancel:function(){we=!0,ve||V.abort()}}}function Ct(_,R){var V=new a.XMLHttpRequest;V.open(_.method||"GET",_.url,!0),_.type==="arrayBuffer"&&(V.responseType="arraybuffer");for(var ae in _.headers)V.setRequestHeader(ae,_.headers[ae]);return _.type==="json"&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials=_.credentials==="include",V.onerror=function(){R(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){var ve=V.response;if(_.type==="json")try{ve=JSON.parse(V.response)}catch(we){return R(we)}R(null,ve,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else R(new ur(V.statusText,V.status,_.url))},V.send(_.body),{cancel:function(){return V.abort()}}}var Dt=function(_,R){if(!lt(_.url)){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return bt(_,R);if(J()&&self.worker&&self.worker.actor){var V=!0;return self.worker.actor.send("getResource",_,R,void 0,V)}}return Ct(_,R)},Ht=function(_,R){return Dt(b(_,{type:"json"}),R)},Bt=function(_,R){return Dt(b(_,{type:"arrayBuffer"}),R)},xt=function(_,R){return Dt(b(_,{method:"POST"}),R)};function Ut(_){var R=a.document.createElement("a");return R.href=_,R.protocol===a.document.location.protocol&&R.host===a.document.location.host}var qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function or(_,R,V,ae){var ve=new a.Image,we=a.URL;ve.onload=function(){R(null,ve),we.revokeObjectURL(ve.src),ve.onload=null,a.requestAnimationFrame(function(){ve.src=qt})},ve.onerror=function(){return R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ee=new a.Blob([new Uint8Array(_)],{type:"image/png"});ve.cacheControl=V,ve.expires=ae,ve.src=_.byteLength?we.createObjectURL(Ee):qt}function rr(_,R){var V=new a.Blob([new Uint8Array(_)],{type:"image/png"});a.createImageBitmap(V).then(function(ae){R(null,ae)}).catch(function(ae){R(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var He,Ue,Ot=function(){He=[],Ue=0};Ot();var It=function(_,R){if(fe.supported&&(_.headers||(_.headers={}),_.headers.accept="image/webp,*/*"),Ue>=te.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:_,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return He.push(V),V}Ue++;var ae=!1,ve=function(){if(!ae)for(ae=!0,Ue--;He.length&&Ue<te.MAX_PARALLEL_IMAGE_REQUESTS;){var Ee=He.shift(),Ke=Ee.requestParameters,vt=Ee.callback,Mt=Ee.cancelled;Mt||(Ee.cancel=It(Ke,vt).cancel)}},we=Bt(_,function(Ee,Ke,vt,Mt){ve(),Ee?R(Ee):Ke&&(Qt()?rr(Ke,R):or(Ke,R,vt,Mt))});return{cancel:function(){we.cancel(),ve()}}},Jt=function(_,R){var V=a.document.createElement("video");V.muted=!0,V.onloadstart=function(){R(null,V)};for(var ae=0;ae<_.length;ae++){var ve=a.document.createElement("source");Ut(_[ae])||(V.crossOrigin="Anonymous"),ve.src=_[ae],V.appendChild(ve)}return{cancel:function(){}}};function cr(_,R,V){var ae=V[_]&&V[_].indexOf(R)!==-1;ae||(V[_]=V[_]||[],V[_].push(R))}function vr(_,R,V){if(V&&V[_]){var ae=V[_].indexOf(R);ae!==-1&&V[_].splice(ae,1)}}var tr=function(R,V){V===void 0&&(V={}),b(this,V),this.type=R},Nt=function(_){function R(V,ae){ae===void 0&&(ae={}),_.call(this,"error",b({error:V},ae))}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(tr),sr=function(){};sr.prototype.on=function(R,V){return this._listeners=this._listeners||{},cr(R,V,this._listeners),this},sr.prototype.off=function(R,V){return vr(R,V,this._listeners),vr(R,V,this._oneTimeListeners),this},sr.prototype.once=function(R,V){return this._oneTimeListeners=this._oneTimeListeners||{},cr(R,V,this._oneTimeListeners),this},sr.prototype.fire=function(R,V){typeof R=="string"&&(R=new tr(R,V||{}));var ae=R.type;if(this.listens(ae)){R.target=this;for(var ve=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],we=0,Ee=ve;we<Ee.length;we+=1){var Ke=Ee[we];Ke.call(this,R)}for(var vt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],Mt=0,_t=vt;Mt<_t.length;Mt+=1){var Yt=_t[Mt];vr(ae,Yt,this._oneTimeListeners),Yt.call(this,R)}var ar=this._eventedParent;ar&&(b(R,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(R))}else R instanceof Nt&&console.error(R.error);return this},sr.prototype.listens=function(R){return this._listeners&&this._listeners[R]&&this._listeners[R].length>0||this._oneTimeListeners&&this._oneTimeListeners[R]&&this._oneTimeListeners[R].length>0||this._eventedParent&&this._eventedParent.listens(R)},sr.prototype.setEventedParent=function(R,V){return this._eventedParent=R,this._eventedParentData=V,this};var dr=8,xr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},pr={"*":{type:"source"}},Hr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],_r={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Dr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},an={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},tn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Sn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},zr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],jr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Or={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ln={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},fn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ia={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ya={type:"array",value:"*"},wa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Wn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Qn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},mr={type:"array",value:"*",minimum:1},en={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Jr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],vn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},On={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},bn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},An={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},$n={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ha={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Mr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Fr={"*":{type:"string"}},Ar={$version:dr,$root:xr,sources:pr,source:Hr,source_vector:_r,source_raster:Dr,source_raster_dem:an,source_geojson:tn,source_video:Sn,source_image:Tn,layer:Tr,layout:zr,layout_background:jr,layout_fill:Or,layout_circle:ln,layout_heatmap:fn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Mn,layout_symbol:Pn,layout_raster:Hn,layout_hillshade:ia,filter:ya,filter_operator:wa,geometry_type:Wn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Qn,expression:mr,light:en,paint:Jr,paint_fill:vn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:On,paint_circle:bn,paint_heatmap:An,paint_symbol:Nn,paint_raster:$n,paint_hillshade:ha,paint_background:Ia,transition:Mr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Fr},Nr=function(R,V,ae,ve){this.message=(R?R+": ":"")+ae,ve&&(this.identifier=ve),V!=null&&V.__line__&&(this.line=V.__line__)};function mn(_){var R=_.key,V=_.value;return V?[new Nr(R,V,"constants have been deprecated as of v8")]:[]}function Rn(_){for(var R=[],V=arguments.length-1;V-- >0;)R[V]=arguments[V+1];for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];for(var Ee in we)_[Ee]=we[Ee]}return _}function gn(_){return _ instanceof Number||_ instanceof String||_ instanceof Boolean?_.valueOf():_}function un(_){if(Array.isArray(_))return _.map(un);if(_ instanceof Object&&!(_ instanceof Number||_ instanceof String||_ instanceof Boolean)){var R={};for(var V in _)R[V]=un(_[V]);return R}return gn(_)}var Cr=function(_){function R(V,ae){_.call(this,ae),this.message=ae,this.key=V}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(Error),Zr=function(R,V){V===void 0&&(V=[]),this.parent=R,this.bindings={};for(var ae=0,ve=V;ae<ve.length;ae+=1){var we=ve[ae],Ee=we[0],Ke=we[1];this.bindings[Ee]=Ke}};Zr.prototype.concat=function(R){return new Zr(this,R)},Zr.prototype.get=function(R){if(this.bindings[R])return this.bindings[R];if(this.parent)return this.parent.get(R);throw new Error(R+" not found in scope.")},Zr.prototype.has=function(R){return this.bindings[R]?!0:this.parent?this.parent.has(R):!1};var Gr={kind:"null"},qr={kind:"number"},wn={kind:"string"},zn={kind:"boolean"},En={kind:"color"},Vn={kind:"object"},Bn={kind:"value"},va={kind:"error"},sa={kind:"collator"},ga={kind:"formatted"},_a={kind:"resolvedImage"};function gi(_,R){return{kind:"array",itemType:_,N:R}}function ai(_){if(_.kind==="array"){var R=ai(_.itemType);return typeof _.N=="number"?"array<"+R+", "+_.N+">":_.itemType.kind==="value"?"array":"array<"+R+">"}else return _.kind}var ko=[Gr,qr,wn,zn,En,ga,Vn,gi(Bn),_a];function Co(_,R){if(R.kind==="error")return null;if(_.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!Co(_.itemType,R.itemType))&&(typeof _.N!="number"||_.N===R.N))return null}else{if(_.kind===R.kind)return null;if(_.kind==="value")for(var V=0,ae=ko;V<ae.length;V+=1){var ve=ae[V];if(!Co(ve,R))return null}}return"Expected "+ai(_)+" but found "+ai(R)+" instead."}function to(_,R){return R.some(function(V){return V.kind===_.kind})}function Sl(_,R){return R.some(function(V){return V==="null"?_===null:V==="array"?Array.isArray(_):V==="object"?_&&!Array.isArray(_)&&typeof _=="object":V===typeof _})}var af=L(function(_,R){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Mt){return Mt=Math.round(Mt),Mt<0?0:Mt>255?255:Mt}function ve(Mt){return Mt<0?0:Mt>1?1:Mt}function we(Mt){return Mt[Mt.length-1]==="%"?ae(parseFloat(Mt)/100*255):ae(parseInt(Mt))}function Ee(Mt){return Mt[Mt.length-1]==="%"?ve(parseFloat(Mt)/100):ve(parseFloat(Mt))}function Ke(Mt,_t,Yt){return Yt<0?Yt+=1:Yt>1&&(Yt-=1),Yt*6<1?Mt+(_t-Mt)*Yt*6:Yt*2<1?_t:Yt*3<2?Mt+(_t-Mt)*(2/3-Yt)*6:Mt}function vt(Mt){var _t=Mt.replace(/ /g,"").toLowerCase();if(_t in V)return V[_t].slice();if(_t[0]==="#"){if(_t.length===4){var Yt=parseInt(_t.substr(1),16);return Yt>=0&&Yt<=4095?[(Yt&3840)>>4|(Yt&3840)>>8,Yt&240|(Yt&240)>>4,Yt&15|(Yt&15)<<4,1]:null}else if(_t.length===7){var Yt=parseInt(_t.substr(1),16);return Yt>=0&&Yt<=16777215?[(Yt&16711680)>>16,(Yt&65280)>>8,Yt&255,1]:null}return null}var ar=_t.indexOf("("),er=_t.indexOf(")");if(ar!==-1&&er+1===_t.length){var br=_t.substr(0,ar),Br=_t.substr(ar+1,er-(ar+1)).split(","),cn=1;switch(br){case"rgba":if(Br.length!==4)return null;cn=Ee(Br.pop());case"rgb":return Br.length!==3?null:[we(Br[0]),we(Br[1]),we(Br[2]),cn];case"hsla":if(Br.length!==4)return null;cn=Ee(Br.pop());case"hsl":if(Br.length!==3)return null;var nn=(parseFloat(Br[0])%360+360)%360/360,Ln=Ee(Br[1]),yn=Ee(Br[2]),Cn=yn<=.5?yn*(Ln+1):yn+Ln-yn*Ln,kn=yn*2-Cn;return[ae(Ke(kn,Cn,nn+1/3)*255),ae(Ke(kn,Cn,nn)*255),ae(Ke(kn,Cn,nn-1/3)*255),cn];default:return null}}return null}try{R.parseCSSColor=vt}catch{}}),Vf=af.parseCSSColor,ti=function(R,V,ae,ve){ve===void 0&&(ve=1),this.r=R,this.g=V,this.b=ae,this.a=ve};ti.parse=function(R){if(R){if(R instanceof ti)return R;if(typeof R=="string"){var V=Vf(R);if(V)return new ti(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},ti.prototype.toString=function(){var R=this.toArray(),V=R[0],ae=R[1],ve=R[2],we=R[3];return"rgba("+Math.round(V)+","+Math.round(ae)+","+Math.round(ve)+","+we+")"},ti.prototype.toArray=function(){var R=this,V=R.r,ae=R.g,ve=R.b,we=R.a;return we===0?[0,0,0,0]:[V*255/we,ae*255/we,ve*255/we,we]},ti.black=new ti(0,0,0,1),ti.white=new ti(1,1,1,1),ti.transparent=new ti(0,0,0,0),ti.red=new ti(1,0,0,1);var eu=function(R,V,ae){R?this.sensitivity=V?"variant":"case":this.sensitivity=V?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};eu.prototype.compare=function(R,V){return this.collator.compare(R,V)},eu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var of=function(R,V,ae,ve,we){this.text=R,this.image=V,this.scale=ae,this.fontStack=ve,this.textColor=we},Ki=function(R){this.sections=R};Ki.fromString=function(R){return new Ki([new of(R,null,null,null,null)])},Ki.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(R){return R.text.length!==0||R.image&&R.image.name.length!==0})},Ki.factory=function(R){return R instanceof Ki?R:Ki.fromString(R)},Ki.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(R){return R.text}).join("")},Ki.prototype.serialize=function(){for(var R=["format"],V=0,ae=this.sections;V<ae.length;V+=1){var ve=ae[V];if(ve.image){R.push(["image",ve.image.name]);continue}R.push(ve.text);var we={};ve.fontStack&&(we["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(we["font-scale"]=ve.scale),ve.textColor&&(we["text-color"]=["rgba"].concat(ve.textColor.toArray())),R.push(we)}return R};var bo=function(R){this.name=R.name,this.available=R.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(R){return R?new bo({name:R,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function Ml(_,R,V,ae){if(!(typeof _=="number"&&_>=0&&_<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof V=="number"&&V>=0&&V<=255)){var ve=typeof ae=="number"?[_,R,V,ae]:[_,R,V];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[_,R,V,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Iu(_){if(_===null)return!0;if(typeof _=="string")return!0;if(typeof _=="boolean")return!0;if(typeof _=="number")return!0;if(_ instanceof ti)return!0;if(_ instanceof eu)return!0;if(_ instanceof Ki)return!0;if(_ instanceof bo)return!0;if(Array.isArray(_)){for(var R=0,V=_;R<V.length;R+=1){var ae=V[R];if(!Iu(ae))return!1}return!0}else if(typeof _=="object"){for(var ve in _)if(!Iu(_[ve]))return!1;return!0}else return!1}function Ii(_){if(_===null)return Gr;if(typeof _=="string")return wn;if(typeof _=="boolean")return zn;if(typeof _=="number")return qr;if(_ instanceof ti)return En;if(_ instanceof eu)return sa;if(_ instanceof Ki)return ga;if(_ instanceof bo)return _a;if(Array.isArray(_)){for(var R=_.length,V,ae=0,ve=_;ae<ve.length;ae+=1){var we=ve[ae],Ee=Ii(we);if(!V)V=Ee;else{if(V===Ee)continue;V=Bn;break}}return gi(V||Bn,R)}else return Vn}function El(_){var R=typeof _;return _===null?"":R==="string"||R==="number"||R==="boolean"?String(_):_ instanceof ti||_ instanceof Ki||_ instanceof bo?_.toString():JSON.stringify(_)}var Oi=function(R,V){this.type=R,this.value=V};Oi.parse=function(R,V){if(R.length!==2)return V.error("'literal' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(!Iu(R[1]))return V.error("invalid value");var ae=R[1],ve=Ii(ae),we=V.expectedType;return ve.kind==="array"&&ve.N===0&&we&&we.kind==="array"&&(typeof we.N!="number"||we.N===0)&&(ve=we),new Oi(ve,ae)},Oi.prototype.evaluate=function(){return this.value},Oi.prototype.eachChild=function(){},Oi.prototype.outputDefined=function(){return!0},Oi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ti?["rgba"].concat(this.value.toArray()):this.value instanceof Ki?this.value.serialize():this.value};var Hi=function(R){this.name="ExpressionEvaluationError",this.message=R};Hi.prototype.toJSON=function(){return this.message};var Cl={string:wn,number:qr,boolean:zn,object:Vn},ro=function(R,V){this.type=R,this.args=V};ro.parse=function(R,V){if(R.length<2)return V.error("Expected at least one argument.");var ae=1,ve,we=R[0];if(we==="array"){var Ee;if(R.length>2){var Ke=R[1];if(typeof Ke!="string"||!(Ke in Cl)||Ke==="object")return V.error('The item type argument of "array" must be one of string, number, boolean',1);Ee=Cl[Ke],ae++}else Ee=Bn;var vt;if(R.length>3){if(R[2]!==null&&(typeof R[2]!="number"||R[2]<0||R[2]!==Math.floor(R[2])))return V.error('The length argument to "array" must be a positive integer literal',2);vt=R[2],ae++}ve=gi(Ee,vt)}else ve=Cl[we];for(var Mt=[];ae<R.length;ae++){var _t=V.parse(R[ae],ae,Bn);if(!_t)return null;Mt.push(_t)}return new ro(ve,Mt)},ro.prototype.evaluate=function(R){for(var V=0;V<this.args.length;V++){var ae=this.args[V].evaluate(R),ve=Co(this.type,Ii(ae));if(ve){if(V===this.args.length-1)throw new Hi("Expected value to be of type "+ai(this.type)+", but found "+ai(Ii(ae))+" instead.")}else return ae}return null},ro.prototype.eachChild=function(R){this.args.forEach(R)},ro.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},ro.prototype.serialize=function(){var R=this.type,V=[R.kind];if(R.kind==="array"){var ae=R.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){V.push(ae.kind);var ve=R.N;(typeof ve=="number"||this.args.length>1)&&V.push(ve)}}return V.concat(this.args.map(function(we){return we.serialize()}))};var no=function(R){this.type=ga,this.sections=R};no.parse=function(R,V){if(R.length<2)return V.error("Expected at least one argument.");var ae=R[1];if(!Array.isArray(ae)&&typeof ae=="object")return V.error("First argument must be an image or text section.");for(var ve=[],we=!1,Ee=1;Ee<=R.length-1;++Ee){var Ke=R[Ee];if(we&&typeof Ke=="object"&&!Array.isArray(Ke)){we=!1;var vt=null;if(Ke["font-scale"]&&(vt=V.parse(Ke["font-scale"],1,qr),!vt))return null;var Mt=null;if(Ke["text-font"]&&(Mt=V.parse(Ke["text-font"],1,gi(wn)),!Mt))return null;var _t=null;if(Ke["text-color"]&&(_t=V.parse(Ke["text-color"],1,En),!_t))return null;var Yt=ve[ve.length-1];Yt.scale=vt,Yt.font=Mt,Yt.textColor=_t}else{var ar=V.parse(R[Ee],1,Bn);if(!ar)return null;var er=ar.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");we=!0,ve.push({content:ar,scale:null,font:null,textColor:null})}}return new no(ve)},no.prototype.evaluate=function(R){var V=function(ae){var ve=ae.content.evaluate(R);return Ii(ve)===_a?new of("",ve,null,null,null):new of(El(ve),null,ae.scale?ae.scale.evaluate(R):null,ae.font?ae.font.evaluate(R).join(","):null,ae.textColor?ae.textColor.evaluate(R):null)};return new Ki(this.sections.map(V))},no.prototype.eachChild=function(R){for(var V=0,ae=this.sections;V<ae.length;V+=1){var ve=ae[V];R(ve.content),ve.scale&&R(ve.scale),ve.font&&R(ve.font),ve.textColor&&R(ve.textColor)}},no.prototype.outputDefined=function(){return!1},no.prototype.serialize=function(){for(var R=["format"],V=0,ae=this.sections;V<ae.length;V+=1){var ve=ae[V];R.push(ve.content.serialize());var we={};ve.scale&&(we["font-scale"]=ve.scale.serialize()),ve.font&&(we["text-font"]=ve.font.serialize()),ve.textColor&&(we["text-color"]=ve.textColor.serialize()),R.push(we)}return R};var zo=function(R){this.type=_a,this.input=R};zo.parse=function(R,V){if(R.length!==2)return V.error("Expected two arguments.");var ae=V.parse(R[1],1,wn);return ae?new zo(ae):V.error("No image name provided.")},zo.prototype.evaluate=function(R){var V=this.input.evaluate(R),ae=bo.fromString(V);return ae&&R.availableImages&&(ae.available=R.availableImages.indexOf(V)>-1),ae},zo.prototype.eachChild=function(R){R(this.input)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){return["image",this.input.serialize()]};var Hf={"to-boolean":zn,"to-color":En,"to-number":qr,"to-string":wn},Lo=function(R,V){this.type=R,this.args=V};Lo.parse=function(R,V){if(R.length<2)return V.error("Expected at least one argument.");var ae=R[0];if((ae==="to-boolean"||ae==="to-string")&&R.length!==2)return V.error("Expected one argument.");for(var ve=Hf[ae],we=[],Ee=1;Ee<R.length;Ee++){var Ke=V.parse(R[Ee],Ee,Bn);if(!Ke)return null;we.push(Ke)}return new Lo(ve,we)},Lo.prototype.evaluate=function(R){if(this.type.kind==="boolean")return!!this.args[0].evaluate(R);if(this.type.kind==="color"){for(var V,ae,ve=0,we=this.args;ve<we.length;ve+=1){var Ee=we[ve];if(V=Ee.evaluate(R),ae=null,V instanceof ti)return V;if(typeof V=="string"){var Ke=R.parseColor(V);if(Ke)return Ke}else if(Array.isArray(V)&&(V.length<3||V.length>4?ae="Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":ae=Ml(V[0],V[1],V[2],V[3]),!ae))return new ti(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new Hi(ae||"Could not parse color from value '"+(typeof V=="string"?V:String(JSON.stringify(V)))+"'")}else if(this.type.kind==="number"){for(var vt=null,Mt=0,_t=this.args;Mt<_t.length;Mt+=1){var Yt=_t[Mt];if(vt=Yt.evaluate(R),vt===null)return 0;var ar=Number(vt);if(!isNaN(ar))return ar}throw new Hi("Could not convert "+JSON.stringify(vt)+" to number.")}else return this.type.kind==="formatted"?Ki.fromString(El(this.args[0].evaluate(R))):this.type.kind==="resolvedImage"?bo.fromString(El(this.args[0].evaluate(R))):El(this.args[0].evaluate(R))},Lo.prototype.eachChild=function(R){this.args.forEach(R)},Lo.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Lo.prototype.serialize=function(){if(this.type.kind==="formatted")return new no([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new zo(this.args[0]).serialize();var R=["to-"+this.type.kind];return this.eachChild(function(V){R.push(V.serialize())}),R};var Yc=["Unknown","Point","LineString","Polygon"],cs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};cs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},cs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Yc[this.feature.type]:this.feature.type:null},cs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},cs.prototype.canonicalID=function(){return this.canonical},cs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},cs.prototype.parseColor=function(R){var V=this._parseColorCache[R];return V||(V=this._parseColorCache[R]=ti.parse(R)),V};var Ji=function(R,V,ae,ve){this.name=R,this.type=V,this._evaluate=ae,this.args=ve};Ji.prototype.evaluate=function(R){return this._evaluate(R,this.args)},Ji.prototype.eachChild=function(R){this.args.forEach(R)},Ji.prototype.outputDefined=function(){return!1},Ji.prototype.serialize=function(){return[this.name].concat(this.args.map(function(R){return R.serialize()}))},Ji.parse=function(R,V){var ae,ve=R[0],we=Ji.definitions[ve];if(!we)return V.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ee=Array.isArray(we)?we[0]:we.type,Ke=Array.isArray(we)?[[we[1],we[2]]]:we.overloads,vt=Ke.filter(function(Aa){var La=Aa[0];return!Array.isArray(La)||La.length===R.length-1}),Mt=null,_t=0,Yt=vt;_t<Yt.length;_t+=1){var ar=Yt[_t],er=ar[0],br=ar[1];Mt=new vs(V.registry,V.path,null,V.scope);for(var Br=[],cn=!1,nn=1;nn<R.length;nn++){var Ln=R[nn],yn=Array.isArray(er)?er[nn-1]:er.type,Cn=Mt.parse(Ln,1+Br.length,yn);if(!Cn){cn=!0;break}Br.push(Cn)}if(!cn){if(Array.isArray(er)&&er.length!==Br.length){Mt.error("Expected "+er.length+" arguments, but found "+Br.length+" instead.");continue}for(var kn=0;kn<Br.length;kn++){var Yn=Array.isArray(er)?er[kn]:er.type,aa=Br[kn];Mt.concat(kn+1).checkSubtype(Yn,aa.type)}if(Mt.errors.length===0)return new Ji(ve,Ee,br,Br)}}if(vt.length===1)(ae=V.errors).push.apply(ae,Mt.errors);else{for(var ta=vt.length?vt:Ke,Ta=ta.map(function(Aa){var La=Aa[0];return sf(La)}).join(" | "),pa=[],ba=1;ba<R.length;ba++){var Va=V.parse(R[ba],1+pa.length);if(!Va)return null;pa.push(ai(Va.type))}V.error("Expected arguments of type "+Ta+", but found ("+pa.join(", ")+") instead.")}return null},Ji.register=function(R,V){Ji.definitions=V;for(var ae in V)R[ae]=Ji};function sf(_){return Array.isArray(_)?"("+_.map(ai).join(", ")+")":"("+ai(_.type)+"...)"}var Bs=function(R,V,ae){this.type=sa,this.locale=ae,this.caseSensitive=R,this.diacriticSensitive=V};Bs.parse=function(R,V){if(R.length!==2)return V.error("Expected one argument.");var ae=R[1];if(typeof ae!="object"||Array.isArray(ae))return V.error("Collator options argument must be an object.");var ve=V.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,zn);if(!ve)return null;var we=V.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,zn);if(!we)return null;var Ee=null;return ae.locale&&(Ee=V.parse(ae.locale,1,wn),!Ee)?null:new Bs(ve,we,Ee)},Bs.prototype.evaluate=function(R){return new eu(this.caseSensitive.evaluate(R),this.diacriticSensitive.evaluate(R),this.locale?this.locale.evaluate(R):null)},Bs.prototype.eachChild=function(R){R(this.caseSensitive),R(this.diacriticSensitive),this.locale&&R(this.locale)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){var R={};return R["case-sensitive"]=this.caseSensitive.serialize(),R["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(R.locale=this.locale.serialize()),["collator",R]};var hs=8192;function lf(_,R){_[0]=Math.min(_[0],R[0]),_[1]=Math.min(_[1],R[1]),_[2]=Math.max(_[2],R[0]),_[3]=Math.max(_[3],R[1])}function Gf(_){return(180+_)/360}function Xc(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function ku(_,R){return!(_[0]<=R[0]||_[2]>=R[2]||_[1]<=R[1]||_[3]>=R[3])}function Zc(_,R){var V=Gf(_[0]),ae=Xc(_[1]),ve=Math.pow(2,R.z);return[Math.round(V*ve*hs),Math.round(ae*ve*hs)]}function Kc(_,R,V){var ae=_[0]-R[0],ve=_[1]-R[1],we=_[0]-V[0],Ee=_[1]-V[1];return ae*Ee-we*ve===0&&ae*we<=0&&ve*Ee<=0}function Jc(_,R,V){return R[1]>_[1]!=V[1]>_[1]&&_[0]<(V[0]-R[0])*(_[1]-R[1])/(V[1]-R[1])+R[0]}function uf(_,R){for(var V=!1,ae=0,ve=R.length;ae<ve;ae++)for(var we=R[ae],Ee=0,Ke=we.length;Ee<Ke-1;Ee++){if(Kc(_,we[Ee],we[Ee+1]))return!1;Jc(_,we[Ee],we[Ee+1])&&(V=!V)}return V}function Qc(_,R){for(var V=0;V<R.length;V++)if(uf(_,R[V]))return!0;return!1}function $c(_,R){return _[0]*R[1]-_[1]*R[0]}function Wf(_,R,V,ae){var ve=_[0]-V[0],we=_[1]-V[1],Ee=R[0]-V[0],Ke=R[1]-V[1],vt=ae[0]-V[0],Mt=ae[1]-V[1],_t=ve*Mt-vt*we,Yt=Ee*Mt-vt*Ke;return _t>0&&Yt<0||_t<0&&Yt>0}function jf(_,R,V,ae){var ve=[R[0]-_[0],R[1]-_[1]],we=[ae[0]-V[0],ae[1]-V[1]];return $c(we,ve)===0?!1:!!(Wf(_,R,V,ae)&&Wf(V,ae,_,R))}function al(_,R,V){for(var ae=0,ve=V;ae<ve.length;ae+=1)for(var we=ve[ae],Ee=0;Ee<we.length-1;++Ee)if(jf(_,R,we[Ee],we[Ee+1]))return!0;return!1}function Ll(_,R){for(var V=0;V<_.length;++V)if(!uf(_[V],R))return!1;for(var ae=0;ae<_.length-1;++ae)if(al(_[ae],_[ae+1],R))return!1;return!0}function tu(_,R){for(var V=0;V<R.length;V++)if(Ll(_,R[V]))return!0;return!1}function ru(_,R,V){for(var ae=[],ve=0;ve<_.length;ve++){for(var we=[],Ee=0;Ee<_[ve].length;Ee++){var Ke=Zc(_[ve][Ee],V);lf(R,Ke),we.push(Ke)}ae.push(we)}return ae}function Yf(_,R,V){for(var ae=[],ve=0;ve<_.length;ve++){var we=ru(_[ve],R,V);ae.push(we)}return ae}function Ms(_,R,V,ae){if(_[0]<V[0]||_[0]>V[2]){var ve=ae*.5,we=_[0]-V[0]>ve?-ae:V[0]-_[0]>ve?ae:0;we===0&&(we=_[0]-V[2]>ve?-ae:V[2]-_[0]>ve?ae:0),_[0]+=we}lf(R,_)}function qc(_){_[0]=_[1]=1/0,_[2]=_[3]=-1/0}function zu(_,R,V,ae){for(var ve=Math.pow(2,ae.z)*hs,we=[ae.x*hs,ae.y*hs],Ee=[],Ke=0,vt=_;Ke<vt.length;Ke+=1)for(var Mt=vt[Ke],_t=0,Yt=Mt;_t<Yt.length;_t+=1){var ar=Yt[_t],er=[ar.x+we[0],ar.y+we[1]];Ms(er,R,V,ve),Ee.push(er)}return Ee}function Xf(_,R,V,ae){for(var ve=Math.pow(2,ae.z)*hs,we=[ae.x*hs,ae.y*hs],Ee=[],Ke=0,vt=_;Ke<vt.length;Ke+=1){for(var Mt=vt[Ke],_t=[],Yt=0,ar=Mt;Yt<ar.length;Yt+=1){var er=ar[Yt],br=[er.x+we[0],er.y+we[1]];lf(R,br),_t.push(br)}Ee.push(_t)}if(R[2]-R[0]<=ve/2){qc(R);for(var Br=0,cn=Ee;Br<cn.length;Br+=1)for(var nn=cn[Br],Ln=0,yn=nn;Ln<yn.length;Ln+=1){var Cn=yn[Ln];Ms(Cn,R,V,ve)}}return Ee}function Zf(_,R){var V=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=_.canonicalID();if(R.type==="Polygon"){var we=ru(R.coordinates,ae,ve),Ee=zu(_.geometry(),V,ae,ve);if(!ku(V,ae))return!1;for(var Ke=0,vt=Ee;Ke<vt.length;Ke+=1){var Mt=vt[Ke];if(!uf(Mt,we))return!1}}if(R.type==="MultiPolygon"){var _t=Yf(R.coordinates,ae,ve),Yt=zu(_.geometry(),V,ae,ve);if(!ku(V,ae))return!1;for(var ar=0,er=Yt;ar<er.length;ar+=1){var br=er[ar];if(!Qc(br,_t))return!1}}return!0}function Ou(_,R){var V=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=_.canonicalID();if(R.type==="Polygon"){var we=ru(R.coordinates,ae,ve),Ee=Xf(_.geometry(),V,ae,ve);if(!ku(V,ae))return!1;for(var Ke=0,vt=Ee;Ke<vt.length;Ke+=1){var Mt=vt[Ke];if(!Ll(Mt,we))return!1}}if(R.type==="MultiPolygon"){var _t=Yf(R.coordinates,ae,ve),Yt=Xf(_.geometry(),V,ae,ve);if(!ku(V,ae))return!1;for(var ar=0,er=Yt;ar<er.length;ar+=1){var br=er[ar];if(!tu(br,_t))return!1}}return!0}var Zo=function(R,V){this.type=zn,this.geojson=R,this.geometries=V};Zo.parse=function(R,V){if(R.length!==2)return V.error("'within' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(Iu(R[1])){var ae=R[1];if(ae.type==="FeatureCollection")for(var ve=0;ve<ae.features.length;++ve){var we=ae.features[ve].geometry.type;if(we==="Polygon"||we==="MultiPolygon")return new Zo(ae,ae.features[ve].geometry)}else if(ae.type==="Feature"){var Ee=ae.geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new Zo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new Zo(ae,ae)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Zo.prototype.evaluate=function(R){if(R.geometry()!=null&&R.canonicalID()!=null){if(R.geometryType()==="Point")return Zf(R,this.geometries);if(R.geometryType()==="LineString")return Ou(R,this.geometries)}return!1},Zo.prototype.eachChild=function(){},Zo.prototype.outputDefined=function(){return!0},Zo.prototype.serialize=function(){return["within",this.geojson]};function Pl(_){if(_ instanceof Ji){if(_.name==="get"&&_.args.length===1)return!1;if(_.name==="feature-state")return!1;if(_.name==="has"&&_.args.length===1)return!1;if(_.name==="properties"||_.name==="geometry-type"||_.name==="id")return!1;if(/^filter-/.test(_.name))return!1}if(_ instanceof Zo)return!1;var R=!0;return _.eachChild(function(V){R&&!Pl(V)&&(R=!1)}),R}function il(_){if(_ instanceof Ji&&_.name==="feature-state")return!1;var R=!0;return _.eachChild(function(V){R&&!il(V)&&(R=!1)}),R}function nu(_,R){if(_ instanceof Ji&&R.indexOf(_.name)>=0)return!1;var V=!0;return _.eachChild(function(ae){V&&!nu(ae,R)&&(V=!1)}),V}var Us=function(R,V){this.type=V.type,this.name=R,this.boundExpression=V};Us.parse=function(R,V){if(R.length!==2||typeof R[1]!="string")return V.error("'var' expression requires exactly one string literal argument.");var ae=R[1];return V.scope.has(ae)?new Us(ae,V.scope.get(ae)):V.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Us.prototype.evaluate=function(R){return this.boundExpression.evaluate(R)},Us.prototype.eachChild=function(){},Us.prototype.outputDefined=function(){return!1},Us.prototype.serialize=function(){return["var",this.name]};var vs=function(R,V,ae,ve,we){V===void 0&&(V=[]),ve===void 0&&(ve=new Zr),we===void 0&&(we=[]),this.registry=R,this.path=V,this.key=V.map(function(Ee){return"["+Ee+"]"}).join(""),this.scope=ve,this.errors=we,this.expectedType=ae};vs.prototype.parse=function(R,V,ae,ve,we){return we===void 0&&(we={}),V?this.concat(V,ae,ve)._parse(R,we):this._parse(R,we)},vs.prototype._parse=function(R,V){(R===null||typeof R=="string"||typeof R=="boolean"||typeof R=="number")&&(R=["literal",R]);function ae(_t,Yt,ar){return ar==="assert"?new ro(Yt,[_t]):ar==="coerce"?new Lo(Yt,[_t]):_t}if(Array.isArray(R)){if(R.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=R[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var we=this.registry[ve];if(we){var Ee=we.parse(R,this);if(!Ee)return null;if(this.expectedType){var Ke=this.expectedType,vt=Ee.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&vt.kind==="value")Ee=ae(Ee,Ke,V.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(vt.kind==="value"||vt.kind==="string"))Ee=ae(Ee,Ke,V.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,vt))return null}if(!(Ee instanceof Oi)&&Ee.type.kind!=="resolvedImage"&&ff(Ee)){var Mt=new cs;try{Ee=new Oi(Ee.type,Ee.evaluate(Mt))}catch(_t){return this.error(_t.message),null}}return Ee}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof R>"u"?this.error("'undefined' value invalid. Use null instead."):typeof R=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof R+" instead.")},vs.prototype.concat=function(R,V,ae){var ve=typeof R=="number"?this.path.concat(R):this.path,we=ae?this.scope.concat(ae):this.scope;return new vs(this.registry,ve,V||null,we,this.errors)},vs.prototype.error=function(R){for(var V=[],ae=arguments.length-1;ae-- >0;)V[ae]=arguments[ae+1];var ve=""+this.key+V.map(function(we){return"["+we+"]"}).join("");this.errors.push(new Cr(ve,R))},vs.prototype.checkSubtype=function(R,V){var ae=Co(R,V);return ae&&this.error(ae),ae};function ff(_){if(_ instanceof Us)return ff(_.boundExpression);if(_ instanceof Ji&&_.name==="error")return!1;if(_ instanceof Bs)return!1;if(_ instanceof Zo)return!1;var R=_ instanceof Lo||_ instanceof ro,V=!0;return _.eachChild(function(ae){R?V=V&&ff(ae):V=V&&ae instanceof Oi}),V?Pl(_)&&nu(_,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function _l(_,R){for(var V=_.length-1,ae=0,ve=V,we=0,Ee,Ke;ae<=ve;)if(we=Math.floor((ae+ve)/2),Ee=_[we],Ke=_[we+1],Ee<=R){if(we===V||R<Ke)return we;ae=we+1}else if(Ee>R)ve=we-1;else throw new Hi("Input is not a number.");return 0}var Ko=function(R,V,ae){this.type=R,this.input=V,this.labels=[],this.outputs=[];for(var ve=0,we=ae;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee[0],vt=Ee[1];this.labels.push(Ke),this.outputs.push(vt)}};Ko.parse=function(R,V){if(R.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return V.error("Expected an even number of arguments.");var ae=V.parse(R[1],1,qr);if(!ae)return null;var ve=[],we=null;V.expectedType&&V.expectedType.kind!=="value"&&(we=V.expectedType);for(var Ee=1;Ee<R.length;Ee+=2){var Ke=Ee===1?-1/0:R[Ee],vt=R[Ee+1],Mt=Ee,_t=Ee+1;if(typeof Ke!="number")return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mt);if(ve.length&&ve[ve.length-1][0]>=Ke)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Mt);var Yt=V.parse(vt,_t,we);if(!Yt)return null;we=we||Yt.type,ve.push([Ke,Yt])}return new Ko(we,ae,ve)},Ko.prototype.evaluate=function(R){var V=this.labels,ae=this.outputs;if(V.length===1)return ae[0].evaluate(R);var ve=this.input.evaluate(R);if(ve<=V[0])return ae[0].evaluate(R);var we=V.length;if(ve>=V[we-1])return ae[we-1].evaluate(R);var Ee=_l(V,ve);return ae[Ee].evaluate(R)},Ko.prototype.eachChild=function(R){R(this.input);for(var V=0,ae=this.outputs;V<ae.length;V+=1){var ve=ae[V];R(ve)}},Ko.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},Ko.prototype.serialize=function(){for(var R=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&R.push(this.labels[V]),R.push(this.outputs[V].serialize());return R};function _i(_,R,V){return _*(1-V)+R*V}function cf(_,R,V){return new ti(_i(_.r,R.r,V),_i(_.g,R.g,V),_i(_.b,R.b,V),_i(_.a,R.a,V))}function eh(_,R,V){return _.map(function(ae,ve){return _i(ae,R[ve],V)})}var Fu=Object.freeze({__proto__:null,number:_i,color:cf,array:eh}),Rl=.95047,Dl=1,Po=1.08883,Nu=4/29,Il=6/29,Bu=3*Il*Il,th=Il*Il*Il,Kf=Math.PI/180,hf=180/Math.PI;function vf(_){return _>th?Math.pow(_,.3333333333333333):_/Bu+Nu}function df(_){return _>Il?_*_*_:Bu*(_-Nu)}function kl(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,.4166666666666667)-.055)}function Uu(_){return _/=255,_<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function au(_){var R=Uu(_.r),V=Uu(_.g),ae=Uu(_.b),ve=vf((.4124564*R+.3575761*V+.1804375*ae)/Rl),we=vf((.2126729*R+.7151522*V+.072175*ae)/Dl),Ee=vf((.0193339*R+.119192*V+.9503041*ae)/Po);return{l:116*we-16,a:500*(ve-we),b:200*(we-Ee),alpha:_.a}}function Vu(_){var R=(_.l+16)/116,V=isNaN(_.a)?R:R+_.a/500,ae=isNaN(_.b)?R:R-_.b/200;return R=Dl*df(R),V=Rl*df(V),ae=Po*df(ae),new ti(kl(3.2404542*V-1.5371385*R-.4985314*ae),kl(-.969266*V+1.8760108*R+.041556*ae),kl(.0556434*V-.2040259*R+1.0572252*ae),_.alpha)}function yi(_,R,V){return{l:_i(_.l,R.l,V),a:_i(_.a,R.a,V),b:_i(_.b,R.b,V),alpha:_i(_.alpha,R.alpha,V)}}function Jf(_){var R=au(_),V=R.l,ae=R.a,ve=R.b,we=Math.atan2(ve,ae)*hf;return{h:we<0?we+360:we,c:Math.sqrt(ae*ae+ve*ve),l:V,alpha:_.a}}function Jo(_){var R=_.h*Kf,V=_.c,ae=_.l;return Vu({l:ae,a:Math.cos(R)*V,b:Math.sin(R)*V,alpha:_.alpha})}function Qf(_,R,V){var ae=R-_;return _+V*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function pf(_,R,V){return{h:Qf(_.h,R.h,V),c:_i(_.c,R.c,V),l:_i(_.l,R.l,V),alpha:_i(_.alpha,R.alpha,V)}}var ol={forward:au,reverse:Vu,interpolate:yi},Vs={forward:Jf,reverse:Jo,interpolate:pf},Hu=Object.freeze({__proto__:null,lab:ol,hcl:Vs}),ki=function(R,V,ae,ve,we){this.type=R,this.operator=V,this.interpolation=ae,this.input=ve,this.labels=[],this.outputs=[];for(var Ee=0,Ke=we;Ee<Ke.length;Ee+=1){var vt=Ke[Ee],Mt=vt[0],_t=vt[1];this.labels.push(Mt),this.outputs.push(_t)}};ki.interpolationFactor=function(R,V,ae,ve){var we=0;if(R.name==="exponential")we=iu(V,R.base,ae,ve);else if(R.name==="linear")we=iu(V,1,ae,ve);else if(R.name==="cubic-bezier"){var Ee=R.controlPoints,Ke=new v(Ee[0],Ee[1],Ee[2],Ee[3]);we=Ke.solve(iu(V,1,ae,ve))}return we},ki.parse=function(R,V){var ae=R[0],ve=R[1],we=R[2],Ee=R.slice(3);if(!Array.isArray(ve)||ve.length===0)return V.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Ke=ve[1];if(typeof Ke!="number")return V.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Ke}}else if(ve[0]==="cubic-bezier"){var vt=ve.slice(1);if(vt.length!==4||vt.some(function(nn){return typeof nn!="number"||nn<0||nn>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:vt}}else return V.error("Unknown interpolation type "+String(ve[0]),1,0);if(R.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return V.error("Expected an even number of arguments.");if(we=V.parse(we,2,qr),!we)return null;var Mt=[],_t=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?_t=En:V.expectedType&&V.expectedType.kind!=="value"&&(_t=V.expectedType);for(var Yt=0;Yt<Ee.length;Yt+=2){var ar=Ee[Yt],er=Ee[Yt+1],br=Yt+3,Br=Yt+4;if(typeof ar!="number")return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(Mt.length&&Mt[Mt.length-1][0]>=ar)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var cn=V.parse(er,Br,_t);if(!cn)return null;_t=_t||cn.type,Mt.push([ar,cn])}return _t.kind!=="number"&&_t.kind!=="color"&&!(_t.kind==="array"&&_t.itemType.kind==="number"&&typeof _t.N=="number")?V.error("Type "+ai(_t)+" is not interpolatable."):new ki(_t,ae,ve,we,Mt)},ki.prototype.evaluate=function(R){var V=this.labels,ae=this.outputs;if(V.length===1)return ae[0].evaluate(R);var ve=this.input.evaluate(R);if(ve<=V[0])return ae[0].evaluate(R);var we=V.length;if(ve>=V[we-1])return ae[we-1].evaluate(R);var Ee=_l(V,ve),Ke=V[Ee],vt=V[Ee+1],Mt=ki.interpolationFactor(this.interpolation,ve,Ke,vt),_t=ae[Ee].evaluate(R),Yt=ae[Ee+1].evaluate(R);return this.operator==="interpolate"?Fu[this.type.kind.toLowerCase()](_t,Yt,Mt):this.operator==="interpolate-hcl"?Vs.reverse(Vs.interpolate(Vs.forward(_t),Vs.forward(Yt),Mt)):ol.reverse(ol.interpolate(ol.forward(_t),ol.forward(Yt),Mt))},ki.prototype.eachChild=function(R){R(this.input);for(var V=0,ae=this.outputs;V<ae.length;V+=1){var ve=ae[V];R(ve)}},ki.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},ki.prototype.serialize=function(){var R;this.interpolation.name==="linear"?R=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?R=["linear"]:R=["exponential",this.interpolation.base]:R=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,R,this.input.serialize()],ae=0;ae<this.labels.length;ae++)V.push(this.labels[ae],this.outputs[ae].serialize());return V};function iu(_,R,V,ae){var ve=ae-V,we=_-V;return ve===0?0:R===1?we/ve:(Math.pow(R,we)-1)/(Math.pow(R,ve)-1)}var Qo=function(R,V){this.type=R,this.args=V};Qo.parse=function(R,V){if(R.length<2)return V.error("Expectected at least one argument.");var ae=null,ve=V.expectedType;ve&&ve.kind!=="value"&&(ae=ve);for(var we=[],Ee=0,Ke=R.slice(1);Ee<Ke.length;Ee+=1){var vt=Ke[Ee],Mt=V.parse(vt,1+we.length,ae,void 0,{typeAnnotation:"omit"});if(!Mt)return null;ae=ae||Mt.type,we.push(Mt)}var _t=ve&&we.some(function(Yt){return Co(ve,Yt.type)});return _t?new Qo(Bn,we):new Qo(ae,we)},Qo.prototype.evaluate=function(R){for(var V=null,ae=0,ve,we=0,Ee=this.args;we<Ee.length;we+=1){var Ke=Ee[we];if(ae++,V=Ke.evaluate(R),V&&V instanceof bo&&!V.available&&(ve||(ve=V.name),V=null,ae===this.args.length&&(V=ve)),V!==null)break}return V},Qo.prototype.eachChild=function(R){this.args.forEach(R)},Qo.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Qo.prototype.serialize=function(){var R=["coalesce"];return this.eachChild(function(V){R.push(V.serialize())}),R};var Es=function(R,V){this.type=V.type,this.bindings=[].concat(R),this.result=V};Es.prototype.evaluate=function(R){return this.result.evaluate(R)},Es.prototype.eachChild=function(R){for(var V=0,ae=this.bindings;V<ae.length;V+=1){var ve=ae[V];R(ve[1])}R(this.result)},Es.parse=function(R,V){if(R.length<4)return V.error("Expected at least 3 arguments, but found "+(R.length-1)+" instead.");for(var ae=[],ve=1;ve<R.length-1;ve+=2){var we=R[ve];if(typeof we!="string")return V.error("Expected string, but found "+typeof we+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(we))return V.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Ee=V.parse(R[ve+1],ve+1);if(!Ee)return null;ae.push([we,Ee])}var Ke=V.parse(R[R.length-1],R.length-1,V.expectedType,ae);return Ke?new Es(ae,Ke):null},Es.prototype.outputDefined=function(){return this.result.outputDefined()},Es.prototype.serialize=function(){for(var R=["let"],V=0,ae=this.bindings;V<ae.length;V+=1){var ve=ae[V],we=ve[0],Ee=ve[1];R.push(we,Ee.serialize())}return R.push(this.result.serialize()),R};var sl=function(R,V,ae){this.type=R,this.index=V,this.input=ae};sl.parse=function(R,V){if(R.length!==3)return V.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ae=V.parse(R[1],1,qr),ve=V.parse(R[2],2,gi(V.expectedType||Bn));if(!ae||!ve)return null;var we=ve.type;return new sl(we.itemType,ae,ve)},sl.prototype.evaluate=function(R){var V=this.index.evaluate(R),ae=this.input.evaluate(R);if(V<0)throw new Hi("Array index out of bounds: "+V+" < 0.");if(V>=ae.length)throw new Hi("Array index out of bounds: "+V+" > "+(ae.length-1)+".");if(V!==Math.floor(V))throw new Hi("Array index must be an integer, but found "+V+" instead.");return ae[V]},sl.prototype.eachChild=function(R){R(this.index),R(this.input)},sl.prototype.outputDefined=function(){return!1},sl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Hs=function(R,V){this.type=zn,this.needle=R,this.haystack=V};Hs.parse=function(R,V){if(R.length!==3)return V.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ae=V.parse(R[1],1,Bn),ve=V.parse(R[2],2,Bn);return!ae||!ve?null:to(ae.type,[zn,wn,qr,Gr,Bn])?new Hs(ae,ve):V.error("Expected first argument to be of type boolean, string, number or null, but found "+ai(ae.type)+" instead")},Hs.prototype.evaluate=function(R){var V=this.needle.evaluate(R),ae=this.haystack.evaluate(R);if(!ae)return!1;if(!Sl(V,["boolean","string","number","null"]))throw new Hi("Expected first argument to be of type boolean, string, number or null, but found "+ai(Ii(V))+" instead.");if(!Sl(ae,["string","array"]))throw new Hi("Expected second argument to be of type array or string, but found "+ai(Ii(ae))+" instead.");return ae.indexOf(V)>=0},Hs.prototype.eachChild=function(R){R(this.needle),R(this.haystack)},Hs.prototype.outputDefined=function(){return!0},Hs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var $o=function(R,V,ae){this.type=qr,this.needle=R,this.haystack=V,this.fromIndex=ae};$o.parse=function(R,V){if(R.length<=2||R.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ae=V.parse(R[1],1,Bn),ve=V.parse(R[2],2,Bn);if(!ae||!ve)return null;if(!to(ae.type,[zn,wn,qr,Gr,Bn]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+ai(ae.type)+" instead");if(R.length===4){var we=V.parse(R[3],3,qr);return we?new $o(ae,ve,we):null}else return new $o(ae,ve)},$o.prototype.evaluate=function(R){var V=this.needle.evaluate(R),ae=this.haystack.evaluate(R);if(!Sl(V,["boolean","string","number","null"]))throw new Hi("Expected first argument to be of type boolean, string, number or null, but found "+ai(Ii(V))+" instead.");if(!Sl(ae,["string","array"]))throw new Hi("Expected second argument to be of type array or string, but found "+ai(Ii(ae))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(R);return ae.indexOf(V,ve)}return ae.indexOf(V)},$o.prototype.eachChild=function(R){R(this.needle),R(this.haystack),this.fromIndex&&R(this.fromIndex)},$o.prototype.outputDefined=function(){return!1},$o.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var R=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),R]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Cs=function(R,V,ae,ve,we,Ee){this.inputType=R,this.type=V,this.input=ae,this.cases=ve,this.outputs=we,this.otherwise=Ee};Cs.parse=function(R,V){if(R.length<5)return V.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if(R.length%2!==1)return V.error("Expected an even number of arguments.");var ae,ve;V.expectedType&&V.expectedType.kind!=="value"&&(ve=V.expectedType);for(var we={},Ee=[],Ke=2;Ke<R.length-1;Ke+=2){var vt=R[Ke],Mt=R[Ke+1];Array.isArray(vt)||(vt=[vt]);var _t=V.concat(Ke);if(vt.length===0)return _t.error("Expected at least one branch label.");for(var Yt=0,ar=vt;Yt<ar.length;Yt+=1){var er=ar[Yt];if(typeof er!="number"&&typeof er!="string")return _t.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return _t.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return _t.error("Numeric branch labels must be integer values.");if(!ae)ae=Ii(er);else if(_t.checkSubtype(ae,Ii(er)))return null;if(typeof we[String(er)]<"u")return _t.error("Branch labels must be unique.");we[String(er)]=Ee.length}var br=V.parse(Mt,Ke,ve);if(!br)return null;ve=ve||br.type,Ee.push(br)}var Br=V.parse(R[1],1,Bn);if(!Br)return null;var cn=V.parse(R[R.length-1],R.length-1,ve);return!cn||Br.type.kind!=="value"&&V.concat(1).checkSubtype(ae,Br.type)?null:new Cs(ae,ve,Br,we,Ee,cn)},Cs.prototype.evaluate=function(R){var V=this.input.evaluate(R),ae=Ii(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise;return ae.evaluate(R)},Cs.prototype.eachChild=function(R){R(this.input),this.outputs.forEach(R),R(this.otherwise)},Cs.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})&&this.otherwise.outputDefined()},Cs.prototype.serialize=function(){for(var R=this,V=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),ve=[],we={},Ee=0,Ke=ae;Ee<Ke.length;Ee+=1){var vt=Ke[Ee],Mt=we[this.cases[vt]];Mt===void 0?(we[this.cases[vt]]=ve.length,ve.push([this.cases[vt],[vt]])):ve[Mt][1].push(vt)}for(var _t=function(Br){return R.inputType.kind==="number"?Number(Br):Br},Yt=0,ar=ve;Yt<ar.length;Yt+=1){var er=ar[Yt],Mt=er[0],br=er[1];br.length===1?V.push(_t(br[0])):V.push(br.map(_t)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var qo=function(R,V,ae){this.type=R,this.branches=V,this.otherwise=ae};qo.parse=function(R,V){if(R.length<4)return V.error("Expected at least 3 arguments, but found only "+(R.length-1)+".");if(R.length%2!==0)return V.error("Expected an odd number of arguments.");var ae;V.expectedType&&V.expectedType.kind!=="value"&&(ae=V.expectedType);for(var ve=[],we=1;we<R.length-1;we+=2){var Ee=V.parse(R[we],we,zn);if(!Ee)return null;var Ke=V.parse(R[we+1],we+1,ae);if(!Ke)return null;ve.push([Ee,Ke]),ae=ae||Ke.type}var vt=V.parse(R[R.length-1],R.length-1,ae);return vt?new qo(ae,ve,vt):null},qo.prototype.evaluate=function(R){for(var V=0,ae=this.branches;V<ae.length;V+=1){var ve=ae[V],we=ve[0],Ee=ve[1];if(we.evaluate(R))return Ee.evaluate(R)}return this.otherwise.evaluate(R)},qo.prototype.eachChild=function(R){for(var V=0,ae=this.branches;V<ae.length;V+=1){var ve=ae[V],we=ve[0],Ee=ve[1];R(we),R(Ee)}R(this.otherwise)},qo.prototype.outputDefined=function(){return this.branches.every(function(R){R[0];var V=R[1];return V.outputDefined()})&&this.otherwise.outputDefined()},qo.prototype.serialize=function(){var R=["case"];return this.eachChild(function(V){R.push(V.serialize())}),R};var Vo=function(R,V,ae,ve){this.type=R,this.input=V,this.beginIndex=ae,this.endIndex=ve};Vo.parse=function(R,V){if(R.length<=2||R.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ae=V.parse(R[1],1,Bn),ve=V.parse(R[2],2,qr);if(!ae||!ve)return null;if(!to(ae.type,[gi(Bn),wn,Bn]))return V.error("Expected first argument to be of type array or string, but found "+ai(ae.type)+" instead");if(R.length===4){var we=V.parse(R[3],3,qr);return we?new Vo(ae.type,ae,ve,we):null}else return new Vo(ae.type,ae,ve)},Vo.prototype.evaluate=function(R){var V=this.input.evaluate(R),ae=this.beginIndex.evaluate(R);if(!Sl(V,["string","array"]))throw new Hi("Expected first argument to be of type array or string, but found "+ai(Ii(V))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(R);return V.slice(ae,ve)}return V.slice(ae)},Vo.prototype.eachChild=function(R){R(this.input),R(this.beginIndex),this.endIndex&&R(this.endIndex)},Vo.prototype.outputDefined=function(){return!1},Vo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var R=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),R]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function ou(_,R){return _==="=="||_==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function rh(_,R,V){return R===V}function nh(_,R,V){return R!==V}function ah(_,R,V){return R<V}function ih(_,R,V){return R>V}function gf(_,R,V){return R<=V}function $f(_,R,V){return R>=V}function zl(_,R,V,ae){return ae.compare(R,V)===0}function Qi(_,R,V,ae){return!zl(_,R,V,ae)}function Oo(_,R,V,ae){return ae.compare(R,V)<0}function Ol(_,R,V,ae){return ae.compare(R,V)>0}function qf(_,R,V,ae){return ae.compare(R,V)<=0}function su(_,R,V,ae){return ae.compare(R,V)>=0}function Ls(_,R,V){var ae=_!=="=="&&_!=="!=";return function(){function ve(we,Ee,Ke){this.type=zn,this.lhs=we,this.rhs=Ee,this.collator=Ke,this.hasUntypedArgument=we.type.kind==="value"||Ee.type.kind==="value"}return ve.parse=function(Ee,Ke){if(Ee.length!==3&&Ee.length!==4)return Ke.error("Expected two or three arguments.");var vt=Ee[0],Mt=Ke.parse(Ee[1],1,Bn);if(!Mt)return null;if(!ou(vt,Mt.type))return Ke.concat(1).error('"'+vt+`" comparisons are not supported for type '`+ai(Mt.type)+"'.");var _t=Ke.parse(Ee[2],2,Bn);if(!_t)return null;if(!ou(vt,_t.type))return Ke.concat(2).error('"'+vt+`" comparisons are not supported for type '`+ai(_t.type)+"'.");if(Mt.type.kind!==_t.type.kind&&Mt.type.kind!=="value"&&_t.type.kind!=="value")return Ke.error("Cannot compare types '"+ai(Mt.type)+"' and '"+ai(_t.type)+"'.");ae&&(Mt.type.kind==="value"&&_t.type.kind!=="value"?Mt=new ro(_t.type,[Mt]):Mt.type.kind!=="value"&&_t.type.kind==="value"&&(_t=new ro(Mt.type,[_t])));var Yt=null;if(Ee.length===4){if(Mt.type.kind!=="string"&&_t.type.kind!=="string"&&Mt.type.kind!=="value"&&_t.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(Yt=Ke.parse(Ee[3],3,sa),!Yt)return null}return new ve(Mt,_t,Yt)},ve.prototype.evaluate=function(Ee){var Ke=this.lhs.evaluate(Ee),vt=this.rhs.evaluate(Ee);if(ae&&this.hasUntypedArgument){var Mt=Ii(Ke),_t=Ii(vt);if(Mt.kind!==_t.kind||!(Mt.kind==="string"||Mt.kind==="number"))throw new Hi('Expected arguments for "'+_+'" to be (string, string) or (number, number), but found ('+Mt.kind+", "+_t.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Yt=Ii(Ke),ar=Ii(vt);if(Yt.kind!=="string"||ar.kind!=="string")return R(Ee,Ke,vt)}return this.collator?V(Ee,Ke,vt,this.collator.evaluate(Ee)):R(Ee,Ke,vt)},ve.prototype.eachChild=function(Ee){Ee(this.lhs),Ee(this.rhs),this.collator&&Ee(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Ee=[_];return this.eachChild(function(Ke){Ee.push(Ke.serialize())}),Ee},ve}()}var oh=Ls("==",rh,zl),ec=Ls("!=",nh,Qi),tc=Ls("<",ah,Oo),yf=Ls(">",ih,Ol),rc=Ls("<=",gf,qf),wo=Ls(">=",$f,su),es=function(R,V,ae,ve,we){this.type=wn,this.number=R,this.locale=V,this.currency=ae,this.minFractionDigits=ve,this.maxFractionDigits=we};es.parse=function(R,V){if(R.length!==3)return V.error("Expected two arguments.");var ae=V.parse(R[1],1,qr);if(!ae)return null;var ve=R[2];if(typeof ve!="object"||Array.isArray(ve))return V.error("NumberFormat options argument must be an object.");var we=null;if(ve.locale&&(we=V.parse(ve.locale,1,wn),!we))return null;var Ee=null;if(ve.currency&&(Ee=V.parse(ve.currency,1,wn),!Ee))return null;var Ke=null;if(ve["min-fraction-digits"]&&(Ke=V.parse(ve["min-fraction-digits"],1,qr),!Ke))return null;var vt=null;return ve["max-fraction-digits"]&&(vt=V.parse(ve["max-fraction-digits"],1,qr),!vt)?null:new es(ae,we,Ee,Ke,vt)},es.prototype.evaluate=function(R){return new Intl.NumberFormat(this.locale?this.locale.evaluate(R):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(R):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(R):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(R):void 0}).format(this.number.evaluate(R))},es.prototype.eachChild=function(R){R(this.number),this.locale&&R(this.locale),this.currency&&R(this.currency),this.minFractionDigits&&R(this.minFractionDigits),this.maxFractionDigits&&R(this.maxFractionDigits)},es.prototype.outputDefined=function(){return!1},es.prototype.serialize=function(){var R={};return this.locale&&(R.locale=this.locale.serialize()),this.currency&&(R.currency=this.currency.serialize()),this.minFractionDigits&&(R["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(R["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),R]};var Gs=function(R){this.type=qr,this.input=R};Gs.parse=function(R,V){if(R.length!==2)return V.error("Expected 1 argument, but found "+(R.length-1)+" instead.");var ae=V.parse(R[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?V.error("Expected argument of type string or array, but found "+ai(ae.type)+" instead."):new Gs(ae):null},Gs.prototype.evaluate=function(R){var V=this.input.evaluate(R);if(typeof V=="string")return V.length;if(Array.isArray(V))return V.length;throw new Hi("Expected value to be of type string or array, but found "+ai(Ii(V))+" instead.")},Gs.prototype.eachChild=function(R){R(this.input)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){var R=["length"];return this.eachChild(function(V){R.push(V.serialize())}),R};var Fl={"==":oh,"!=":ec,">":yf,"<":tc,">=":wo,"<=":rc,array:ro,at:sl,boolean:ro,case:qo,coalesce:Qo,collator:Bs,format:no,image:zo,in:Hs,"index-of":$o,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Gs,let:Es,literal:Oi,match:Cs,number:ro,"number-format":es,object:ro,slice:Vo,step:Ko,string:ro,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Us,within:Zo};function Gu(_,R){var V=R[0],ae=R[1],ve=R[2],we=R[3];V=V.evaluate(_),ae=ae.evaluate(_),ve=ve.evaluate(_);var Ee=we?we.evaluate(_):1,Ke=Ml(V,ae,ve,Ee);if(Ke)throw new Hi(Ke);return new ti(V/255*Ee,ae/255*Ee,ve/255*Ee,Ee)}function ll(_,R){return _ in R}function ul(_,R){var V=R[_];return typeof V>"u"?null:V}function nc(_,R,V,ae){for(;V<=ae;){var ve=V+ae>>1;if(R[ve]===_)return!0;R[ve]>_?ae=ve-1:V=ve+1}return!1}function Ps(_){return{type:_}}Ji.register(Fl,{error:[va,[wn],function(_,R){var V=R[0];throw new Hi(V.evaluate(_))}],typeof:[wn,[Bn],function(_,R){var V=R[0];return ai(Ii(V.evaluate(_)))}],"to-rgba":[gi(qr,4),[En],function(_,R){var V=R[0];return V.evaluate(_).toArray()}],rgb:[En,[qr,qr,qr],Gu],rgba:[En,[qr,qr,qr,qr],Gu],has:{type:zn,overloads:[[[wn],function(_,R){var V=R[0];return ll(V.evaluate(_),_.properties())}],[[wn,Vn],function(_,R){var V=R[0],ae=R[1];return ll(V.evaluate(_),ae.evaluate(_))}]]},get:{type:Bn,overloads:[[[wn],function(_,R){var V=R[0];return ul(V.evaluate(_),_.properties())}],[[wn,Vn],function(_,R){var V=R[0],ae=R[1];return ul(V.evaluate(_),ae.evaluate(_))}]]},"feature-state":[Bn,[wn],function(_,R){var V=R[0];return ul(V.evaluate(_),_.featureState||{})}],properties:[Vn,[],function(_){return _.properties()}],"geometry-type":[wn,[],function(_){return _.geometryType()}],id:[Bn,[],function(_){return _.id()}],zoom:[qr,[],function(_){return _.globals.zoom}],"heatmap-density":[qr,[],function(_){return _.globals.heatmapDensity||0}],"line-progress":[qr,[],function(_){return _.globals.lineProgress||0}],accumulated:[Bn,[],function(_){return _.globals.accumulated===void 0?null:_.globals.accumulated}],"+":[qr,Ps(qr),function(_,R){for(var V=0,ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];V+=we.evaluate(_)}return V}],"*":[qr,Ps(qr),function(_,R){for(var V=1,ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];V*=we.evaluate(_)}return V}],"-":{type:qr,overloads:[[[qr,qr],function(_,R){var V=R[0],ae=R[1];return V.evaluate(_)-ae.evaluate(_)}],[[qr],function(_,R){var V=R[0];return-V.evaluate(_)}]]},"/":[qr,[qr,qr],function(_,R){var V=R[0],ae=R[1];return V.evaluate(_)/ae.evaluate(_)}],"%":[qr,[qr,qr],function(_,R){var V=R[0],ae=R[1];return V.evaluate(_)%ae.evaluate(_)}],ln2:[qr,[],function(){return Math.LN2}],pi:[qr,[],function(){return Math.PI}],e:[qr,[],function(){return Math.E}],"^":[qr,[qr,qr],function(_,R){var V=R[0],ae=R[1];return Math.pow(V.evaluate(_),ae.evaluate(_))}],sqrt:[qr,[qr],function(_,R){var V=R[0];return Math.sqrt(V.evaluate(_))}],log10:[qr,[qr],function(_,R){var V=R[0];return Math.log(V.evaluate(_))/Math.LN10}],ln:[qr,[qr],function(_,R){var V=R[0];return Math.log(V.evaluate(_))}],log2:[qr,[qr],function(_,R){var V=R[0];return Math.log(V.evaluate(_))/Math.LN2}],sin:[qr,[qr],function(_,R){var V=R[0];return Math.sin(V.evaluate(_))}],cos:[qr,[qr],function(_,R){var V=R[0];return Math.cos(V.evaluate(_))}],tan:[qr,[qr],function(_,R){var V=R[0];return Math.tan(V.evaluate(_))}],asin:[qr,[qr],function(_,R){var V=R[0];return Math.asin(V.evaluate(_))}],acos:[qr,[qr],function(_,R){var V=R[0];return Math.acos(V.evaluate(_))}],atan:[qr,[qr],function(_,R){var V=R[0];return Math.atan(V.evaluate(_))}],min:[qr,Ps(qr),function(_,R){return Math.min.apply(Math,R.map(function(V){return V.evaluate(_)}))}],max:[qr,Ps(qr),function(_,R){return Math.max.apply(Math,R.map(function(V){return V.evaluate(_)}))}],abs:[qr,[qr],function(_,R){var V=R[0];return Math.abs(V.evaluate(_))}],round:[qr,[qr],function(_,R){var V=R[0],ae=V.evaluate(_);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[qr,[qr],function(_,R){var V=R[0];return Math.floor(V.evaluate(_))}],ceil:[qr,[qr],function(_,R){var V=R[0];return Math.ceil(V.evaluate(_))}],"filter-==":[zn,[wn,Bn],function(_,R){var V=R[0],ae=R[1];return _.properties()[V.value]===ae.value}],"filter-id-==":[zn,[Bn],function(_,R){var V=R[0];return _.id()===V.value}],"filter-type-==":[zn,[wn],function(_,R){var V=R[0];return _.geometryType()===V.value}],"filter-<":[zn,[wn,Bn],function(_,R){var V=R[0],ae=R[1],ve=_.properties()[V.value],we=ae.value;return typeof ve==typeof we&&ve<we}],"filter-id-<":[zn,[Bn],function(_,R){var V=R[0],ae=_.id(),ve=V.value;return typeof ae==typeof ve&&ae<ve}],"filter->":[zn,[wn,Bn],function(_,R){var V=R[0],ae=R[1],ve=_.properties()[V.value],we=ae.value;return typeof ve==typeof we&&ve>we}],"filter-id->":[zn,[Bn],function(_,R){var V=R[0],ae=_.id(),ve=V.value;return typeof ae==typeof ve&&ae>ve}],"filter-<=":[zn,[wn,Bn],function(_,R){var V=R[0],ae=R[1],ve=_.properties()[V.value],we=ae.value;return typeof ve==typeof we&&ve<=we}],"filter-id-<=":[zn,[Bn],function(_,R){var V=R[0],ae=_.id(),ve=V.value;return typeof ae==typeof ve&&ae<=ve}],"filter->=":[zn,[wn,Bn],function(_,R){var V=R[0],ae=R[1],ve=_.properties()[V.value],we=ae.value;return typeof ve==typeof we&&ve>=we}],"filter-id->=":[zn,[Bn],function(_,R){var V=R[0],ae=_.id(),ve=V.value;return typeof ae==typeof ve&&ae>=ve}],"filter-has":[zn,[Bn],function(_,R){var V=R[0];return V.value in _.properties()}],"filter-has-id":[zn,[],function(_){return _.id()!==null&&_.id()!==void 0}],"filter-type-in":[zn,[gi(wn)],function(_,R){var V=R[0];return V.value.indexOf(_.geometryType())>=0}],"filter-id-in":[zn,[gi(Bn)],function(_,R){var V=R[0];return V.value.indexOf(_.id())>=0}],"filter-in-small":[zn,[wn,gi(Bn)],function(_,R){var V=R[0],ae=R[1];return ae.value.indexOf(_.properties()[V.value])>=0}],"filter-in-large":[zn,[wn,gi(Bn)],function(_,R){var V=R[0],ae=R[1];return nc(_.properties()[V.value],ae.value,0,ae.value.length-1)}],all:{type:zn,overloads:[[[zn,zn],function(_,R){var V=R[0],ae=R[1];return V.evaluate(_)&&ae.evaluate(_)}],[Ps(zn),function(_,R){for(var V=0,ae=R;V<ae.length;V+=1){var ve=ae[V];if(!ve.evaluate(_))return!1}return!0}]]},any:{type:zn,overloads:[[[zn,zn],function(_,R){var V=R[0],ae=R[1];return V.evaluate(_)||ae.evaluate(_)}],[Ps(zn),function(_,R){for(var V=0,ae=R;V<ae.length;V+=1){var ve=ae[V];if(ve.evaluate(_))return!0}return!1}]]},"!":[zn,[zn],function(_,R){var V=R[0];return!V.evaluate(_)}],"is-supported-script":[zn,[wn],function(_,R){var V=R[0],ae=_.globals&&_.globals.isSupportedScript;return ae?ae(V.evaluate(_)):!0}],upcase:[wn,[wn],function(_,R){var V=R[0];return V.evaluate(_).toUpperCase()}],downcase:[wn,[wn],function(_,R){var V=R[0];return V.evaluate(_).toLowerCase()}],concat:[wn,Ps(Bn),function(_,R){return R.map(function(V){return El(V.evaluate(_))}).join("")}],"resolved-locale":[wn,[sa],function(_,R){var V=R[0];return V.evaluate(_).resolvedLocale()}]});function Nl(_){return{result:"success",value:_}}function Ws(_){return{result:"error",value:_}}function _s(_){return _["property-type"]==="data-driven"||_["property-type"]==="cross-faded-data-driven"}function lu(_){return!!_.expression&&_.expression.parameters.indexOf("zoom")>-1}function Bl(_){return!!_.expression&&_.expression.interpolated}function vi(_){return _ instanceof Number?"number":_ instanceof String?"string":_ instanceof Boolean?"boolean":Array.isArray(_)?"array":_===null?"null":typeof _}function Ul(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}function Wu(_){return _}function ac(_,R){var V=R.type==="color",ae=_.stops&&typeof _.stops[0][0]=="object",ve=ae||_.property!==void 0,we=ae||!ve,Ee=_.type||(Bl(R)?"exponential":"interval");if(V&&(_=Rn({},_),_.stops&&(_.stops=_.stops.map(function(ta){return[ta[0],ti.parse(ta[1])]})),_.default?_.default=ti.parse(_.default):_.default=ti.parse(R.default)),_.colorSpace&&_.colorSpace!=="rgb"&&!Hu[_.colorSpace])throw new Error("Unknown color space: "+_.colorSpace);var Ke,vt,Mt;if(Ee==="exponential")Ke=mf;else if(Ee==="interval")Ke=ju;else if(Ee==="categorical"){Ke=uu,vt=Object.create(null);for(var _t=0,Yt=_.stops;_t<Yt.length;_t+=1){var ar=Yt[_t];vt[ar[0]]=ar[1]}Mt=typeof _.stops[0][0]}else if(Ee==="identity")Ke=fu;else throw new Error('Unknown function type "'+Ee+'"');if(ae){for(var er={},br=[],Br=0;Br<_.stops.length;Br++){var cn=_.stops[Br],nn=cn[0].zoom;er[nn]===void 0&&(er[nn]={zoom:nn,type:_.type,property:_.property,default:_.default,stops:[]},br.push(nn)),er[nn].stops.push([cn[0].value,cn[1]])}for(var Ln=[],yn=0,Cn=br;yn<Cn.length;yn+=1){var kn=Cn[yn];Ln.push([er[kn].zoom,ac(er[kn],R)])}var Yn={name:"linear"};return{kind:"composite",interpolationType:Yn,interpolationFactor:ki.interpolationFactor.bind(void 0,Yn),zoomStops:Ln.map(function(ta){return ta[0]}),evaluate:function(Ta,pa){var ba=Ta.zoom;return mf({stops:Ln,base:_.base},R,ba).evaluate(ba,pa)}}}else if(we){var aa=Ee==="exponential"?{name:"exponential",base:_.base!==void 0?_.base:1}:null;return{kind:"camera",interpolationType:aa,interpolationFactor:ki.interpolationFactor.bind(void 0,aa),zoomStops:_.stops.map(function(ta){return ta[0]}),evaluate:function(ta){var Ta=ta.zoom;return Ke(_,R,Ta,vt,Mt)}}}else return{kind:"source",evaluate:function(Ta,pa){var ba=pa&&pa.properties?pa.properties[_.property]:void 0;return ba===void 0?Vl(_.default,R.default):Ke(_,R,ba,vt,Mt)}}}function Vl(_,R,V){if(_!==void 0)return _;if(R!==void 0)return R;if(V!==void 0)return V}function uu(_,R,V,ae,ve){var we=typeof V===ve?ae[V]:void 0;return Vl(we,_.default,R.default)}function ju(_,R,V){if(vi(V)!=="number")return Vl(_.default,R.default);var ae=_.stops.length;if(ae===1||V<=_.stops[0][0])return _.stops[0][1];if(V>=_.stops[ae-1][0])return _.stops[ae-1][1];var ve=_l(_.stops.map(function(we){return we[0]}),V);return _.stops[ve][1]}function mf(_,R,V){var ae=_.base!==void 0?_.base:1;if(vi(V)!=="number")return Vl(_.default,R.default);var ve=_.stops.length;if(ve===1||V<=_.stops[0][0])return _.stops[0][1];if(V>=_.stops[ve-1][0])return _.stops[ve-1][1];var we=_l(_.stops.map(function(Yt){return Yt[0]}),V),Ee=cu(V,ae,_.stops[we][0],_.stops[we+1][0]),Ke=_.stops[we][1],vt=_.stops[we+1][1],Mt=Fu[R.type]||Wu;if(_.colorSpace&&_.colorSpace!=="rgb"){var _t=Hu[_.colorSpace];Mt=function(Yt,ar){return _t.reverse(_t.interpolate(_t.forward(Yt),_t.forward(ar),Ee))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var ar=[],er=arguments.length;er--;)ar[er]=arguments[er];var br=Ke.evaluate.apply(void 0,ar),Br=vt.evaluate.apply(void 0,ar);if(!(br===void 0||Br===void 0))return Mt(br,Br,Ee)}}:Mt(Ke,vt,Ee)}function fu(_,R,V){return R.type==="color"?V=ti.parse(V):R.type==="formatted"?V=Ki.fromString(V.toString()):R.type==="resolvedImage"?V=bo.fromString(V.toString()):vi(V)!==R.type&&(R.type!=="enum"||!R.values[V])&&(V=void 0),Vl(V,_.default,R.default)}function cu(_,R,V,ae){var ve=ae-V,we=_-V;return ve===0?0:R===1?we/ve:(Math.pow(R,we)-1)/(Math.pow(R,ve)-1)}var js=function(R,V){this.expression=R,this._warningHistory={},this._evaluator=new cs,this._defaultValue=V?ic(V):null,this._enumValues=V&&V.type==="enum"?V.values:null};js.prototype.evaluateWithoutErrorHandling=function(R,V,ae,ve,we,Ee){return this._evaluator.globals=R,this._evaluator.feature=V,this._evaluator.featureState=ae,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ee,this.expression.evaluate(this._evaluator)},js.prototype.evaluate=function(R,V,ae,ve,we,Ee){this._evaluator.globals=R,this._evaluator.feature=V||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ee||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new Hi("Expected value to be one of "+Object.keys(this._enumValues).map(function(vt){return JSON.stringify(vt)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(vt){return this._warningHistory[vt.message]||(this._warningHistory[vt.message]=!0,typeof console<"u"&&console.warn(vt.message)),this._defaultValue}};function hu(_){return Array.isArray(_)&&_.length>0&&typeof _[0]=="string"&&_[0]in Fl}function Ys(_,R){var V=new vs(Fl,[],R?sh(R):void 0),ae=V.parse(_,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?Nl(new js(ae,R)):Ws(V.errors)}var Gi=function(R,V){this.kind=R,this._styleExpression=V,this.isStateDependent=R!=="constant"&&!il(V.expression)};Gi.prototype.evaluateWithoutErrorHandling=function(R,V,ae,ve,we,Ee){return this._styleExpression.evaluateWithoutErrorHandling(R,V,ae,ve,we,Ee)},Gi.prototype.evaluate=function(R,V,ae,ve,we,Ee){return this._styleExpression.evaluate(R,V,ae,ve,we,Ee)};var ds=function(R,V,ae,ve){this.kind=R,this.zoomStops=ae,this._styleExpression=V,this.isStateDependent=R!=="camera"&&!il(V.expression),this.interpolationType=ve};ds.prototype.evaluateWithoutErrorHandling=function(R,V,ae,ve,we,Ee){return this._styleExpression.evaluateWithoutErrorHandling(R,V,ae,ve,we,Ee)},ds.prototype.evaluate=function(R,V,ae,ve,we,Ee){return this._styleExpression.evaluate(R,V,ae,ve,we,Ee)},ds.prototype.interpolationFactor=function(R,V,ae){return this.interpolationType?ki.interpolationFactor(this.interpolationType,R,V,ae):0};function xf(_,R){if(_=Ys(_,R),_.result==="error")return _;var V=_.value.expression,ae=Pl(V);if(!ae&&!_s(R))return Ws([new Cr("","data expressions not supported")]);var ve=nu(V,["zoom"]);if(!ve&&!lu(R))return Ws([new Cr("","zoom expressions not supported")]);var we=vu(V);if(!we&&!ve)return Ws([new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(we instanceof Cr)return Ws([we]);if(we instanceof ki&&!Bl(R))return Ws([new Cr("",'"interpolate" expressions cannot be used with this property')]);if(!we)return Nl(ae?new Gi("constant",_.value):new Gi("source",_.value));var Ee=we instanceof ki?we.interpolation:void 0;return Nl(ae?new ds("camera",_.value,we.labels,Ee):new ds("composite",_.value,we.labels,Ee))}var fl=function(R,V){this._parameters=R,this._specification=V,Rn(this,ac(this._parameters,this._specification))};fl.deserialize=function(R){return new fl(R._parameters,R._specification)},fl.serialize=function(R){return{_parameters:R._parameters,_specification:R._specification}};function Yu(_,R){if(Ul(_))return new fl(_,R);if(hu(_)){var V=xf(_,R);if(V.result==="error")throw new Error(V.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return V.value}else{var ae=_;return typeof _=="string"&&R.type==="color"&&(ae=ti.parse(_)),{kind:"constant",evaluate:function(){return ae}}}}function vu(_){var R=null;if(_ instanceof Es)R=vu(_.result);else if(_ instanceof Qo)for(var V=0,ae=_.args;V<ae.length;V+=1){var ve=ae[V];if(R=vu(ve),R)break}else(_ instanceof Ko||_ instanceof ki)&&_.input instanceof Ji&&_.input.name==="zoom"&&(R=_);return R instanceof Cr||_.eachChild(function(we){var Ee=vu(we);Ee instanceof Cr?R=Ee:!R&&Ee?R=new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&Ee&&R!==Ee&&(R=new Cr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function sh(_){var R={color:En,string:wn,number:qr,enum:wn,boolean:zn,formatted:ga,resolvedImage:_a};return _.type==="array"?gi(R[_.value]||Bn,_.length):R[_.type]}function ic(_){return _.type==="color"&&Ul(_.default)?new ti(0,0,0,0):_.type==="color"?ti.parse(_.default)||null:_.default===void 0?null:_.default}function po(_){var R=_.key,V=_.value,ae=_.valueSpec||{},ve=_.objectElementValidators||{},we=_.style,Ee=_.styleSpec,Ke=[],vt=vi(V);if(vt!=="object")return[new Nr(R,V,"object expected, "+vt+" found")];for(var Mt in V){var _t=Mt.split(".")[0],Yt=ae[_t]||ae["*"],ar=void 0;if(ve[_t])ar=ve[_t];else if(ae[_t])ar=Ir;else if(ve["*"])ar=ve["*"];else if(ae["*"])ar=Ir;else{Ke.push(new Nr(R,V[Mt],'unknown property "'+Mt+'"'));continue}Ke=Ke.concat(ar({key:(R&&R+".")+Mt,value:V[Mt],valueSpec:Yt,style:we,styleSpec:Ee,object:V,objectKey:Mt},V))}for(var er in ae)ve[er]||ae[er].required&&ae[er].default===void 0&&V[er]===void 0&&Ke.push(new Nr(R,V,'missing required property "'+er+'"'));return Ke}function du(_){var R=_.value,V=_.valueSpec,ae=_.style,ve=_.styleSpec,we=_.key,Ee=_.arrayElementValidator||Ir;if(vi(R)!=="array")return[new Nr(we,R,"array expected, "+vi(R)+" found")];if(V.length&&R.length!==V.length)return[new Nr(we,R,"array length "+V.length+" expected, length "+R.length+" found")];if(V["min-length"]&&R.length<V["min-length"])return[new Nr(we,R,"array length at least "+V["min-length"]+" expected, length "+R.length+" found")];var Ke={type:V.value,values:V.values};ve.$version<7&&(Ke.function=V.function),vi(V.value)==="object"&&(Ke=V.value);for(var vt=[],Mt=0;Mt<R.length;Mt++)vt=vt.concat(Ee({array:R,arrayIndex:Mt,value:R[Mt],valueSpec:Ke,style:ae,styleSpec:ve,key:we+"["+Mt+"]"}));return vt}function Hl(_){var R=_.key,V=_.value,ae=_.valueSpec,ve=vi(V);return ve==="number"&&V!==V&&(ve="NaN"),ve!=="number"?[new Nr(R,V,"number expected, "+ve+" found")]:"minimum"in ae&&V<ae.minimum?[new Nr(R,V,V+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&V>ae.maximum?[new Nr(R,V,V+" is greater than the maximum value "+ae.maximum)]:[]}function oc(_){var R=_.valueSpec,V=gn(_.value.type),ae,ve={},we,Ee,Ke=V!=="categorical"&&_.value.property===void 0,vt=!Ke,Mt=vi(_.value.stops)==="array"&&vi(_.value.stops[0])==="array"&&vi(_.value.stops[0][0])==="object",_t=po({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:Yt,default:br}});return V==="identity"&&Ke&&_t.push(new Nr(_.key,_.value,'missing required property "property"')),V!=="identity"&&!_.value.stops&&_t.push(new Nr(_.key,_.value,'missing required property "stops"')),V==="exponential"&&_.valueSpec.expression&&!Bl(_.valueSpec)&&_t.push(new Nr(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(vt&&!_s(_.valueSpec)?_t.push(new Nr(_.key,_.value,"property functions not supported")):Ke&&!lu(_.valueSpec)&&_t.push(new Nr(_.key,_.value,"zoom functions not supported"))),(V==="categorical"||Mt)&&_.value.property===void 0&&_t.push(new Nr(_.key,_.value,'"property" property is required')),_t;function Yt(Br){if(V==="identity")return[new Nr(Br.key,Br.value,'identity function may not have a "stops" property')];var cn=[],nn=Br.value;return cn=cn.concat(du({key:Br.key,value:nn,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:ar})),vi(nn)==="array"&&nn.length===0&&cn.push(new Nr(Br.key,nn,"array must have at least one stop")),cn}function ar(Br){var cn=[],nn=Br.value,Ln=Br.key;if(vi(nn)!=="array")return[new Nr(Ln,nn,"array expected, "+vi(nn)+" found")];if(nn.length!==2)return[new Nr(Ln,nn,"array length 2 expected, length "+nn.length+" found")];if(Mt){if(vi(nn[0])!=="object")return[new Nr(Ln,nn,"object expected, "+vi(nn[0])+" found")];if(nn[0].zoom===void 0)return[new Nr(Ln,nn,"object stop key must have zoom")];if(nn[0].value===void 0)return[new Nr(Ln,nn,"object stop key must have value")];if(Ee&&Ee>gn(nn[0].zoom))return[new Nr(Ln,nn[0].zoom,"stop zoom values must appear in ascending order")];gn(nn[0].zoom)!==Ee&&(Ee=gn(nn[0].zoom),we=void 0,ve={}),cn=cn.concat(po({key:Ln+"[0]",value:nn[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:Hl,value:er}}))}else cn=cn.concat(er({key:Ln+"[0]",value:nn[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},nn));return hu(un(nn[1]))?cn.concat([new Nr(Ln+"[1]",nn[1],"expressions are not allowed in function stops.")]):cn.concat(Ir({key:Ln+"[1]",value:nn[1],valueSpec:R,style:Br.style,styleSpec:Br.styleSpec}))}function er(Br,cn){var nn=vi(Br.value),Ln=gn(Br.value),yn=Br.value!==null?Br.value:cn;if(!ae)ae=nn;else if(nn!==ae)return[new Nr(Br.key,yn,nn+" stop domain type must match previous stop domain type "+ae)];if(nn!=="number"&&nn!=="string"&&nn!=="boolean")return[new Nr(Br.key,yn,"stop domain value must be a number, string, or boolean")];if(nn!=="number"&&V!=="categorical"){var Cn="number expected, "+nn+" found";return _s(R)&&V===void 0&&(Cn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Br.key,yn,Cn)]}return V==="categorical"&&nn==="number"&&(!isFinite(Ln)||Math.floor(Ln)!==Ln)?[new Nr(Br.key,yn,"integer expected, found "+Ln)]:V!=="categorical"&&nn==="number"&&we!==void 0&&Ln<we?[new Nr(Br.key,yn,"stop domain values must appear in ascending order")]:(we=Ln,V==="categorical"&&Ln in ve?[new Nr(Br.key,yn,"stop domain values must be unique")]:(ve[Ln]=!0,[]))}function br(Br){return Ir({key:Br.key,value:Br.value,valueSpec:R,style:Br.style,styleSpec:Br.styleSpec})}}function Xs(_){var R=(_.expressionContext==="property"?xf:Ys)(un(_.value),_.valueSpec);if(R.result==="error")return R.value.map(function(ae){return new Nr(""+_.key+ae.key,_.value,ae.message)});var V=R.value.expression||R.value._styleExpression.expression;if(_.expressionContext==="property"&&_.propertyKey==="text-font"&&!V.outputDefined())return[new Nr(_.key,_.value,'Invalid data expression for "'+_.propertyKey+'". Output values must be contained as literals within the expression.')];if(_.expressionContext==="property"&&_.propertyType==="layout"&&!il(V))return[new Nr(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if(_.expressionContext==="filter"&&!il(V))return[new Nr(_.key,_.value,'"feature-state" data expressions are not supported with filters.')];if(_.expressionContext&&_.expressionContext.indexOf("cluster")===0){if(!nu(V,["zoom","feature-state"]))return[new Nr(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(_.expressionContext==="cluster-initial"&&!Pl(V))return[new Nr(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function lh(_){var R=_.value,V=_.key,ae=vi(R);return ae!=="boolean"?[new Nr(V,R,"boolean expected, "+ae+" found")]:[]}function _o(_){var R=_.key,V=_.value,ae=vi(V);return ae!=="string"?[new Nr(R,V,"color expected, "+ae+" found")]:Vf(V)===null?[new Nr(R,V,'color expected, "'+V+'" found')]:[]}function pu(_){var R=_.key,V=_.value,ae=_.valueSpec,ve=[];return Array.isArray(ae.values)?ae.values.indexOf(gn(V))===-1&&ve.push(new Nr(R,V,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(V)+" found")):Object.keys(ae.values).indexOf(gn(V))===-1&&ve.push(new Nr(R,V,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(V)+" found")),ve}function Xu(_){if(_===!0||_===!1)return!0;if(!Array.isArray(_)||_.length===0)return!1;switch(_[0]){case"has":return _.length>=2&&_[1]!=="$id"&&_[1]!=="$type";case"in":return _.length>=3&&(typeof _[1]!="string"||Array.isArray(_[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return _.length!==3||Array.isArray(_[1])||Array.isArray(_[2]);case"any":case"all":for(var R=0,V=_.slice(1);R<V.length;R+=1){var ae=V[R];if(!Xu(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var Rs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Zs(_){if(_==null)return{filter:function(){return!0},needGeometry:!1};Xu(_)||(_=yu(_));var R=Ys(_,Rs);if(R.result==="error")throw new Error(R.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var V=gu(_);return{filter:function(ae,ve,we){return R.value.evaluate(ae,ve,{},we)},needGeometry:V}}function bf(_,R){return _<R?-1:_>R?1:0}function gu(_){if(!Array.isArray(_))return!1;if(_[0]==="within")return!0;for(var R=1;R<_.length;R++)if(gu(_[R]))return!0;return!1}function yu(_){if(!_)return!0;var R=_[0];if(_.length<=1)return R!=="any";var V=R==="=="?Zu(_[1],_[2],"=="):R==="!="?cl(Zu(_[1],_[2],"==")):R==="<"||R===">"||R==="<="||R===">="?Zu(_[1],_[2],R):R==="any"?sc(_.slice(1)):R==="all"?["all"].concat(_.slice(1).map(yu)):R==="none"?["all"].concat(_.slice(1).map(yu).map(cl)):R==="in"?mu(_[1],_.slice(2)):R==="!in"?cl(mu(_[1],_.slice(2))):R==="has"?wf(_[1]):R==="!has"?cl(wf(_[1])):R==="within"?_:!0;return V}function Zu(_,R,V){switch(_){case"$type":return["filter-type-"+V,R];case"$id":return["filter-id-"+V,R];default:return["filter-"+V,_,R]}}function sc(_){return["any"].concat(_.map(yu))}function mu(_,R){if(R.length===0)return!1;switch(_){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(V){return typeof V!=typeof R[0]})?["filter-in-large",_,["literal",R.sort(bf)]]:["filter-in-small",_,["literal",R]]}}function wf(_){switch(_){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_]}}function cl(_){return["!",_]}function Tf(_){return Xu(un(_.value))?Xs(Rn({},_,{expressionContext:"filter",valueSpec:{value:"boolean"}})):xu(_)}function xu(_){var R=_.value,V=_.key;if(vi(R)!=="array")return[new Nr(V,R,"array expected, "+vi(R)+" found")];var ae=_.styleSpec,ve,we=[];if(R.length<1)return[new Nr(V,R,"filter array must have at least 1 element")];switch(we=we.concat(pu({key:V+"[0]",value:R[0],valueSpec:ae.filter_operator,style:_.style,styleSpec:_.styleSpec})),gn(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&gn(R[1])==="$type"&&we.push(new Nr(V,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&we.push(new Nr(V,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(ve=vi(R[1]),ve!=="string"&&we.push(new Nr(V+"[1]",R[1],"string expected, "+ve+" found")));for(var Ee=2;Ee<R.length;Ee++)ve=vi(R[Ee]),gn(R[1])==="$type"?we=we.concat(pu({key:V+"["+Ee+"]",value:R[Ee],valueSpec:ae.geometry_type,style:_.style,styleSpec:_.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&we.push(new Nr(V+"["+Ee+"]",R[Ee],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<R.length;Ke++)we=we.concat(xu({key:V+"["+Ke+"]",value:R[Ke],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":ve=vi(R[1]),R.length!==2?we.push(new Nr(V,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ve!=="string"&&we.push(new Nr(V+"[1]",R[1],"string expected, "+ve+" found"));break;case"within":ve=vi(R[1]),R.length!==2?we.push(new Nr(V,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ve!=="object"&&we.push(new Nr(V+"[1]",R[1],"object expected, "+ve+" found"));break}return we}function lc(_,R){var V=_.key,ae=_.style,ve=_.styleSpec,we=_.value,Ee=_.objectKey,Ke=ve[R+"_"+_.layerType];if(!Ke)return[];var vt=Ee.match(/^(.*)-transition$/);if(R==="paint"&&vt&&Ke[vt[1]]&&Ke[vt[1]].transition)return Ir({key:V,value:we,valueSpec:ve.transition,style:ae,styleSpec:ve});var Mt=_.valueSpec||Ke[Ee];if(!Mt)return[new Nr(V,we,'unknown property "'+Ee+'"')];var _t;if(vi(we)==="string"&&_s(Mt)&&!Mt.tokens&&(_t=/^{([^}]+)}$/.exec(we)))return[new Nr(V,we,'"'+Ee+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(_t[1])+" }`.")];var Yt=[];return _.layerType==="symbol"&&(Ee==="text-field"&&ae&&!ae.glyphs&&Yt.push(new Nr(V,we,'use of "text-field" requires a style "glyphs" property')),Ee==="text-font"&&Ul(un(we))&&gn(we.type)==="identity"&&Yt.push(new Nr(V,we,'"text-font" does not support identity functions'))),Yt.concat(Ir({key:_.key,value:we,valueSpec:Mt,style:ae,styleSpec:ve,expressionContext:"property",propertyType:R,propertyKey:Ee}))}function Ze(_){return lc(_,"paint")}function at(_){return lc(_,"layout")}function gt(_){var R=[],V=_.value,ae=_.key,ve=_.style,we=_.styleSpec;!V.type&&!V.ref&&R.push(new Nr(ae,V,'either "type" or "ref" is required'));var Ee=gn(V.type),Ke=gn(V.ref);if(V.id)for(var vt=gn(V.id),Mt=0;Mt<_.arrayIndex;Mt++){var _t=ve.layers[Mt];gn(_t.id)===vt&&R.push(new Nr(ae,V.id,'duplicate layer id "'+V.id+'", previously used at line '+_t.id.__line__))}if("ref"in V){["type","source","source-layer","filter","layout"].forEach(function(br){br in V&&R.push(new Nr(ae,V[br],'"'+br+'" is prohibited for ref layers'))});var Yt;ve.layers.forEach(function(br){gn(br.id)===Ke&&(Yt=br)}),Yt?Yt.ref?R.push(new Nr(ae,V.ref,"ref cannot reference another ref layer")):Ee=gn(Yt.type):R.push(new Nr(ae,V.ref,'ref layer "'+Ke+'" not found'))}else if(Ee!=="background")if(!V.source)R.push(new Nr(ae,V,'missing required property "source"'));else{var ar=ve.sources&&ve.sources[V.source],er=ar&&gn(ar.type);ar?er==="vector"&&Ee==="raster"?R.push(new Nr(ae,V.source,'layer "'+V.id+'" requires a raster source')):er==="raster"&&Ee!=="raster"?R.push(new Nr(ae,V.source,'layer "'+V.id+'" requires a vector source')):er==="vector"&&!V["source-layer"]?R.push(new Nr(ae,V,'layer "'+V.id+'" must specify a "source-layer"')):er==="raster-dem"&&Ee!=="hillshade"?R.push(new Nr(ae,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ee==="line"&&V.paint&&V.paint["line-gradient"]&&(er!=="geojson"||!ar.lineMetrics)&&R.push(new Nr(ae,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new Nr(ae,V.source,'source "'+V.source+'" not found'))}return R=R.concat(po({key:ae,value:V,valueSpec:we.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ir({key:ae+".type",value:V.type,valueSpec:we.layer.type,style:_.style,styleSpec:_.styleSpec,object:V,objectKey:"type"})},filter:Tf,layout:function(Br){return po({layer:V,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(nn){return at(Rn({layerType:Ee},nn))}}})},paint:function(Br){return po({layer:V,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(nn){return Ze(Rn({layerType:Ee},nn))}}})}}})),R}function wt(_){var R=_.value,V=_.key,ae=vi(R);return ae!=="string"?[new Nr(V,R,"string expected, "+ae+" found")]:[]}var zt={promoteId:Ft};function kt(_){var R=_.value,V=_.key,ae=_.styleSpec,ve=_.style;if(!R.type)return[new Nr(V,R,'"type" is required')];var we=gn(R.type),Ee;switch(we){case"vector":case"raster":case"raster-dem":return Ee=po({key:V,value:R,valueSpec:ae["source_"+we.replace("-","_")],style:_.style,styleSpec:ae,objectElementValidators:zt}),Ee;case"geojson":if(Ee=po({key:V,value:R,valueSpec:ae.source_geojson,style:ve,styleSpec:ae,objectElementValidators:zt}),R.cluster)for(var Ke in R.clusterProperties){var vt=R.clusterProperties[Ke],Mt=vt[0],_t=vt[1],Yt=typeof Mt=="string"?[Mt,["accumulated"],["get",Ke]]:Mt;Ee.push.apply(Ee,Xs({key:V+"."+Ke+".map",value:_t,expressionContext:"cluster-map"})),Ee.push.apply(Ee,Xs({key:V+"."+Ke+".reduce",value:Yt,expressionContext:"cluster-reduce"}))}return Ee;case"video":return po({key:V,value:R,valueSpec:ae.source_video,style:ve,styleSpec:ae});case"image":return po({key:V,value:R,valueSpec:ae.source_image,style:ve,styleSpec:ae});case"canvas":return[new Nr(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return pu({key:V+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ae})}}function Ft(_){var R=_.key,V=_.value;if(vi(V)==="string")return wt({key:R,value:V});var ae=[];for(var ve in V)ae.push.apply(ae,wt({key:R+"."+ve,value:V[ve]}));return ae}function gr(_){var R=_.value,V=_.styleSpec,ae=V.light,ve=_.style,we=[],Ee=vi(R);if(R===void 0)return we;if(Ee!=="object")return we=we.concat([new Nr("light",R,"object expected, "+Ee+" found")]),we;for(var Ke in R){var vt=Ke.match(/^(.*)-transition$/);vt&&ae[vt[1]]&&ae[vt[1]].transition?we=we.concat(Ir({key:Ke,value:R[Ke],valueSpec:V.transition,style:ve,styleSpec:V})):ae[Ke]?we=we.concat(Ir({key:Ke,value:R[Ke],valueSpec:ae[Ke],style:ve,styleSpec:V})):we=we.concat([new Nr(Ke,R[Ke],'unknown property "'+Ke+'"')])}return we}function wr(_){return wt(_).length===0?[]:Xs(_)}function lr(_){return wt(_).length===0?[]:Xs(_)}var Sr={"*":function(){return[]},array:du,boolean:lh,number:Hl,color:_o,constants:mn,enum:pu,filter:Tf,function:oc,layer:gt,object:po,source:kt,light:gr,string:wt,formatted:wr,resolvedImage:lr};function Ir(_){var R=_.value,V=_.valueSpec,ae=_.styleSpec;if(V.expression&&Ul(gn(R)))return oc(_);if(V.expression&&hu(un(R)))return Xs(_);if(V.type&&Sr[V.type])return Sr[V.type](_);var ve=po(Rn({},_,{valueSpec:V.type?ae[V.type]:V}));return ve}function Ur(_){var R=_.value,V=_.key,ae=wt(_);return ae.length||(R.indexOf("{fontstack}")===-1&&ae.push(new Nr(V,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&ae.push(new Nr(V,R,'"glyphs" url must include a "{range}" token'))),ae}function on(_,R){R===void 0&&(R=Ar);var V=[];return V=V.concat(Ir({key:"",value:_,valueSpec:R.$root,styleSpec:R,style:_,objectElementValidators:{glyphs:Ur,"*":function(){return[]}}})),_.constants&&(V=V.concat(mn({key:"constants",value:_.constants,style:_,styleSpec:R}))),xn(V)}on.source=_n(kt),on.light=_n(gr),on.layer=_n(gt),on.filter=_n(Tf),on.paintProperty=_n(Ze),on.layoutProperty=_n(at);function xn(_){return[].concat(_).sort(function(R,V){return R.line-V.line})}function _n(_){return function(){for(var R=[],V=arguments.length;V--;)R[V]=arguments[V];return xn(_.apply(this,R))}}var Dn=on,Kn=Dn.light,Ra=Dn.paintProperty,Da=Dn.layoutProperty;function ka(_,R){var V=!1;if(R&&R.length)for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];_.fire(new Nt(new Error(we.message))),V=!0}return V}var Na=di,Ka=3;function di(_,R,V){var ae=this.cells=[];if(_ instanceof ArrayBuffer){this.arrayBuffer=_;var ve=new Int32Array(this.arrayBuffer);_=ve[0],R=ve[1],V=ve[2],this.d=R+2*V;for(var we=0;we<this.d*this.d;we++){var Ee=ve[Ka+we],Ke=ve[Ka+we+1];ae.push(Ee===Ke?null:ve.subarray(Ee,Ke))}var vt=ve[Ka+ae.length],Mt=ve[Ka+ae.length+1];this.keys=ve.subarray(vt,Mt),this.bboxes=ve.subarray(Mt),this.insert=this._insertReadonly}else{this.d=R+2*V;for(var _t=0;_t<this.d*this.d;_t++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=_,this.padding=V,this.scale=R/_,this.uid=0;var Yt=V/R*_;this.min=-Yt,this.max=_+Yt}di.prototype.insert=function(_,R,V,ae,ve){this._forEachCell(R,V,ae,ve,this._insertCell,this.uid++),this.keys.push(_),this.bboxes.push(R),this.bboxes.push(V),this.bboxes.push(ae),this.bboxes.push(ve)},di.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},di.prototype._insertCell=function(_,R,V,ae,ve,we){this.cells[ve].push(we)},di.prototype.query=function(_,R,V,ae,ve){var we=this.min,Ee=this.max;if(_<=we&&R<=we&&Ee<=V&&Ee<=ae&&!ve)return Array.prototype.slice.call(this.keys);var Ke=[],vt={};return this._forEachCell(_,R,V,ae,this._queryCell,Ke,vt,ve),Ke},di.prototype._queryCell=function(_,R,V,ae,ve,we,Ee,Ke){var vt=this.cells[ve];if(vt!==null)for(var Mt=this.keys,_t=this.bboxes,Yt=0;Yt<vt.length;Yt++){var ar=vt[Yt];if(Ee[ar]===void 0){var er=ar*4;(Ke?Ke(_t[er+0],_t[er+1],_t[er+2],_t[er+3]):_<=_t[er+2]&&R<=_t[er+3]&&V>=_t[er+0]&&ae>=_t[er+1])?(Ee[ar]=!0,we.push(Mt[ar])):Ee[ar]=!1}}},di.prototype._forEachCell=function(_,R,V,ae,ve,we,Ee,Ke){for(var vt=this._convertToCellCoord(_),Mt=this._convertToCellCoord(R),_t=this._convertToCellCoord(V),Yt=this._convertToCellCoord(ae),ar=vt;ar<=_t;ar++)for(var er=Mt;er<=Yt;er++){var br=this.d*er+ar;if(!(Ke&&!Ke(this._convertFromCellCoord(ar),this._convertFromCellCoord(er),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(er+1)))&&ve.call(this,_,R,V,ae,br,we,Ee,Ke))return}},di.prototype._convertFromCellCoord=function(_){return(_-this.padding)/this.scale},di.prototype._convertToCellCoord=function(_){return Math.max(0,Math.min(this.d-1,Math.floor(_*this.scale)+this.padding))},di.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _=this.cells,R=Ka+this.cells.length+1+1,V=0,ae=0;ae<this.cells.length;ae++)V+=this.cells[ae].length;var ve=new Int32Array(R+V+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var we=R,Ee=0;Ee<_.length;Ee++){var Ke=_[Ee];ve[Ka+Ee]=we,ve.set(Ke,we),we+=Ke.length}return ve[Ka+_.length]=we,ve.set(this.keys,we),we+=this.keys.length,ve[Ka+_.length+1]=we,ve.set(this.bboxes,we),we+=this.bboxes.length,ve.buffer};var zi=a.ImageData,ue=a.ImageBitmap,Ae={};function Be(_,R,V){V===void 0&&(V={}),Object.defineProperty(R,"_classRegistryKey",{value:_,writeable:!1}),Ae[_]={klass:R,omit:V.omit||[],shallow:V.shallow||[]}}Be("Object",Object),Na.serialize=function(R,V){var ae=R.toArrayBuffer();return V&&V.push(ae),{buffer:ae}},Na.deserialize=function(R){return new Na(R.buffer)},Be("Grid",Na),Be("Color",ti),Be("Error",Error),Be("ResolvedImage",bo),Be("StylePropertyFunction",fl),Be("StyleExpression",js,{omit:["_evaluator"]}),Be("ZoomDependentExpression",ds),Be("ZoomConstantExpression",Gi),Be("CompoundExpression",Ji,{omit:["_evaluate"]});for(var et in Fl)Fl[et]._classRegistryKey||Be("Expression_"+et,Fl[et]);function nt(_){return _&&typeof ArrayBuffer<"u"&&(_ instanceof ArrayBuffer||_.constructor&&_.constructor.name==="ArrayBuffer")}function ft(_){return ue&&_ instanceof ue}function Pt(_,R){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp)return _;if(nt(_)||ft(_))return R&&R.push(_),_;if(ArrayBuffer.isView(_)){var V=_;return R&&R.push(V.buffer),V}if(_ instanceof zi)return R&&R.push(_.data.buffer),_;if(Array.isArray(_)){for(var ae=[],ve=0,we=_;ve<we.length;ve+=1){var Ee=we[ve];ae.push(Pt(Ee,R))}return ae}if(typeof _=="object"){var Ke=_.constructor,vt=Ke._classRegistryKey;if(!vt)throw new Error("can't serialize object of unregistered class");var Mt=Ke.serialize?Ke.serialize(_,R):{};if(!Ke.serialize){for(var _t in _)if(_.hasOwnProperty(_t)&&!(Ae[vt].omit.indexOf(_t)>=0)){var Yt=_[_t];Mt[_t]=Ae[vt].shallow.indexOf(_t)>=0?Yt:Pt(Yt,R)}_ instanceof Error&&(Mt.message=_.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return vt!=="Object"&&(Mt.$name=vt),Mt}throw new Error("can't serialize object of type "+typeof _)}function St(_){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp||nt(_)||ft(_)||ArrayBuffer.isView(_)||_ instanceof zi)return _;if(Array.isArray(_))return _.map(St);if(typeof _=="object"){var R=_.$name||"Object",V=Ae[R],ae=V.klass;if(!ae)throw new Error("can't deserialize unregistered class "+R);if(ae.deserialize)return ae.deserialize(_);for(var ve=Object.create(ae.prototype),we=0,Ee=Object.keys(_);we<Ee.length;we+=1){var Ke=Ee[we];if(Ke!=="$name"){var vt=_[Ke];ve[Ke]=Ae[R].shallow.indexOf(Ke)>=0?vt:St(vt)}}return ve}throw new Error("can't deserialize object of type "+typeof _)}var Gt=function(){this.first=!0};Gt.prototype.update=function(R,V){var ae=Math.floor(R);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=R,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=V),R!==this.lastZoom?(this.lastZoom=R,this.lastFloorZoom=ae,!0):!1)};var jt={"Latin-1 Supplement":function(_){return _>=128&&_<=255},Arabic:function(_){return _>=1536&&_<=1791},"Arabic Supplement":function(_){return _>=1872&&_<=1919},"Arabic Extended-A":function(_){return _>=2208&&_<=2303},"Hangul Jamo":function(_){return _>=4352&&_<=4607},"Unified Canadian Aboriginal Syllabics":function(_){return _>=5120&&_<=5759},Khmer:function(_){return _>=6016&&_<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(_){return _>=6320&&_<=6399},"General Punctuation":function(_){return _>=8192&&_<=8303},"Letterlike Symbols":function(_){return _>=8448&&_<=8527},"Number Forms":function(_){return _>=8528&&_<=8591},"Miscellaneous Technical":function(_){return _>=8960&&_<=9215},"Control Pictures":function(_){return _>=9216&&_<=9279},"Optical Character Recognition":function(_){return _>=9280&&_<=9311},"Enclosed Alphanumerics":function(_){return _>=9312&&_<=9471},"Geometric Shapes":function(_){return _>=9632&&_<=9727},"Miscellaneous Symbols":function(_){return _>=9728&&_<=9983},"Miscellaneous Symbols and Arrows":function(_){return _>=11008&&_<=11263},"CJK Radicals Supplement":function(_){return _>=11904&&_<=12031},"Kangxi Radicals":function(_){return _>=12032&&_<=12255},"Ideographic Description Characters":function(_){return _>=12272&&_<=12287},"CJK Symbols and Punctuation":function(_){return _>=12288&&_<=12351},Hiragana:function(_){return _>=12352&&_<=12447},Katakana:function(_){return _>=12448&&_<=12543},Bopomofo:function(_){return _>=12544&&_<=12591},"Hangul Compatibility Jamo":function(_){return _>=12592&&_<=12687},Kanbun:function(_){return _>=12688&&_<=12703},"Bopomofo Extended":function(_){return _>=12704&&_<=12735},"CJK Strokes":function(_){return _>=12736&&_<=12783},"Katakana Phonetic Extensions":function(_){return _>=12784&&_<=12799},"Enclosed CJK Letters and Months":function(_){return _>=12800&&_<=13055},"CJK Compatibility":function(_){return _>=13056&&_<=13311},"CJK Unified Ideographs Extension A":function(_){return _>=13312&&_<=19903},"Yijing Hexagram Symbols":function(_){return _>=19904&&_<=19967},"CJK Unified Ideographs":function(_){return _>=19968&&_<=40959},"Yi Syllables":function(_){return _>=40960&&_<=42127},"Yi Radicals":function(_){return _>=42128&&_<=42191},"Hangul Jamo Extended-A":function(_){return _>=43360&&_<=43391},"Hangul Syllables":function(_){return _>=44032&&_<=55215},"Hangul Jamo Extended-B":function(_){return _>=55216&&_<=55295},"Private Use Area":function(_){return _>=57344&&_<=63743},"CJK Compatibility Ideographs":function(_){return _>=63744&&_<=64255},"Arabic Presentation Forms-A":function(_){return _>=64336&&_<=65023},"Vertical Forms":function(_){return _>=65040&&_<=65055},"CJK Compatibility Forms":function(_){return _>=65072&&_<=65103},"Small Form Variants":function(_){return _>=65104&&_<=65135},"Arabic Presentation Forms-B":function(_){return _>=65136&&_<=65279},"Halfwidth and Fullwidth Forms":function(_){return _>=65280&&_<=65519}};function nr(_){for(var R=0,V=_;R<V.length;R+=1){var ae=V[R];if(sn(ae.charCodeAt(0)))return!0}return!1}function Lr(_){for(var R=0,V=_;R<V.length;R+=1){var ae=V[R];if(!Pr(ae.charCodeAt(0)))return!1}return!0}function Pr(_){return!(jt.Arabic(_)||jt["Arabic Supplement"](_)||jt["Arabic Extended-A"](_)||jt["Arabic Presentation Forms-A"](_)||jt["Arabic Presentation Forms-B"](_))}function $r(_){return _<11904?!1:!!(jt["Bopomofo Extended"](_)||jt.Bopomofo(_)||jt["CJK Compatibility Forms"](_)||jt["CJK Compatibility Ideographs"](_)||jt["CJK Compatibility"](_)||jt["CJK Radicals Supplement"](_)||jt["CJK Strokes"](_)||jt["CJK Symbols and Punctuation"](_)||jt["CJK Unified Ideographs Extension A"](_)||jt["CJK Unified Ideographs"](_)||jt["Enclosed CJK Letters and Months"](_)||jt["Halfwidth and Fullwidth Forms"](_)||jt.Hiragana(_)||jt["Ideographic Description Characters"](_)||jt["Kangxi Radicals"](_)||jt["Katakana Phonetic Extensions"](_)||jt.Katakana(_)||jt["Vertical Forms"](_)||jt["Yi Radicals"](_)||jt["Yi Syllables"](_))}function sn(_){return _===746||_===747?!0:_<4352?!1:!!(jt["Bopomofo Extended"](_)||jt.Bopomofo(_)||jt["CJK Compatibility Forms"](_)&&!(_>=65097&&_<=65103)||jt["CJK Compatibility Ideographs"](_)||jt["CJK Compatibility"](_)||jt["CJK Radicals Supplement"](_)||jt["CJK Strokes"](_)||jt["CJK Symbols and Punctuation"](_)&&!(_>=12296&&_<=12305)&&!(_>=12308&&_<=12319)&&_!==12336||jt["CJK Unified Ideographs Extension A"](_)||jt["CJK Unified Ideographs"](_)||jt["Enclosed CJK Letters and Months"](_)||jt["Hangul Compatibility Jamo"](_)||jt["Hangul Jamo Extended-A"](_)||jt["Hangul Jamo Extended-B"](_)||jt["Hangul Jamo"](_)||jt["Hangul Syllables"](_)||jt.Hiragana(_)||jt["Ideographic Description Characters"](_)||jt.Kanbun(_)||jt["Kangxi Radicals"](_)||jt["Katakana Phonetic Extensions"](_)||jt.Katakana(_)&&_!==12540||jt["Halfwidth and Fullwidth Forms"](_)&&_!==65288&&_!==65289&&_!==65293&&!(_>=65306&&_<=65310)&&_!==65339&&_!==65341&&_!==65343&&!(_>=65371&&_<=65503)&&_!==65507&&!(_>=65512&&_<=65519)||jt["Small Form Variants"](_)&&!(_>=65112&&_<=65118)&&!(_>=65123&&_<=65126)||jt["Unified Canadian Aboriginal Syllabics"](_)||jt["Unified Canadian Aboriginal Syllabics Extended"](_)||jt["Vertical Forms"](_)||jt["Yijing Hexagram Symbols"](_)||jt["Yi Syllables"](_)||jt["Yi Radicals"](_))}function Rr(_){return!!(jt["Latin-1 Supplement"](_)&&(_===167||_===169||_===174||_===177||_===188||_===189||_===190||_===215||_===247)||jt["General Punctuation"](_)&&(_===8214||_===8224||_===8225||_===8240||_===8241||_===8251||_===8252||_===8258||_===8263||_===8264||_===8265||_===8273)||jt["Letterlike Symbols"](_)||jt["Number Forms"](_)||jt["Miscellaneous Technical"](_)&&(_>=8960&&_<=8967||_>=8972&&_<=8991||_>=8996&&_<=9e3||_===9003||_>=9085&&_<=9114||_>=9150&&_<=9165||_===9167||_>=9169&&_<=9179||_>=9186&&_<=9215)||jt["Control Pictures"](_)&&_!==9251||jt["Optical Character Recognition"](_)||jt["Enclosed Alphanumerics"](_)||jt["Geometric Shapes"](_)||jt["Miscellaneous Symbols"](_)&&!(_>=9754&&_<=9759)||jt["Miscellaneous Symbols and Arrows"](_)&&(_>=11026&&_<=11055||_>=11088&&_<=11097||_>=11192&&_<=11243)||jt["CJK Symbols and Punctuation"](_)||jt.Katakana(_)||jt["Private Use Area"](_)||jt["CJK Compatibility Forms"](_)||jt["Small Form Variants"](_)||jt["Halfwidth and Fullwidth Forms"](_)||_===8734||_===8756||_===8757||_>=9984&&_<=10087||_>=10102&&_<=10131||_===65532||_===65533)}function Vr(_){return!(sn(_)||Rr(_))}function Kr(_){return jt.Arabic(_)||jt["Arabic Supplement"](_)||jt["Arabic Extended-A"](_)||jt["Arabic Presentation Forms-A"](_)||jt["Arabic Presentation Forms-B"](_)}function hn(_){return _>=1424&&_<=2303||jt["Arabic Presentation Forms-A"](_)||jt["Arabic Presentation Forms-B"](_)}function pn(_,R){return!(!R&&hn(_)||_>=2304&&_<=3583||_>=3840&&_<=4255||jt.Khmer(_))}function rn(_){for(var R=0,V=_;R<V.length;R+=1){var ae=V[R];if(hn(ae.charCodeAt(0)))return!0}return!1}function Gn(_,R){for(var V=0,ae=_;V<ae.length;V+=1){var ve=ae[V];if(!pn(ve.charCodeAt(0),R))return!1}return!0}var ra={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fa=null,ea=ra.unavailable,oa=null,ca=function(_){_&&typeof _=="string"&&_.indexOf("NetworkError")>-1&&(ea=ra.error),fa&&fa(_)};function Ua(){Ca.fire(new tr("pluginStateChange",{pluginStatus:ea,pluginURL:oa}))}var Ca=new sr,Oa=function(){return ea},ii=function(_){return _({pluginStatus:ea,pluginURL:oa}),Ca.on("pluginStateChange",_),_},Fi=function(_,R,V){if(V===void 0&&(V=!1),ea===ra.deferred||ea===ra.loading||ea===ra.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");oa=se.resolveURL(_),ea=ra.deferred,fa=R,Ua(),V||ci()},ci=function(){if(ea!==ra.deferred||!oa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ea=ra.loading,Ua(),oa&&Bt({url:oa},function(_){_?ca(_):(ea=ra.loaded,Ua())})},qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ea===ra.loaded||qn.applyArabicShaping!=null},isLoading:function(){return ea===ra.loading},setState:function(R){ea=R.pluginStatus,oa=R.pluginURL},isParsed:function(){return qn.applyArabicShaping!=null&&qn.processBidirectionalText!=null&&qn.processStyledBidirectionalText!=null},getPluginURL:function(){return oa}},Ha=function(){!qn.isLoading()&&!qn.isLoaded()&&Oa()==="deferred"&&ci()},Ma=function(R,V){this.zoom=R,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gt,this.transition={})};Ma.prototype.isSupportedScript=function(R){return Gn(R,qn.isLoaded())},Ma.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ma.prototype.getCrossfadeParameters=function(){var R=this.zoom,V=R-Math.floor(R),ae=this.crossFadingFactor();return R>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*V}};var Ja=function(R,V){this.property=R,this.value=V,this.expression=Yu(V===void 0?R.specification.default:V,R.specification)};Ja.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ja.prototype.possiblyEvaluate=function(R,V,ae){return this.property.possiblyEvaluate(this,R,V,ae)};var wi=function(R){this.property=R,this.value=new Ja(R,void 0)};wi.prototype.transitioned=function(R,V){return new $i(this.property,this.value,V,b({},R.transition,this.transition),R.now)},wi.prototype.untransitioned=function(){return new $i(this.property,this.value,null,{},0)};var oi=function(R){this._properties=R,this._values=Object.create(R.defaultTransitionablePropertyValues)};oi.prototype.getValue=function(R){return N(this._values[R].value.value)},oi.prototype.setValue=function(R,V){this._values.hasOwnProperty(R)||(this._values[R]=new wi(this._values[R].property)),this._values[R].value=new Ja(this._values[R].property,V===null?void 0:N(V))},oi.prototype.getTransition=function(R){return N(this._values[R].transition)},oi.prototype.setTransition=function(R,V){this._values.hasOwnProperty(R)||(this._values[R]=new wi(this._values[R].property)),this._values[R].transition=N(V)||void 0},oi.prototype.serialize=function(){for(var R={},V=0,ae=Object.keys(this._values);V<ae.length;V+=1){var ve=ae[V],we=this.getValue(ve);we!==void 0&&(R[ve]=we);var Ee=this.getTransition(ve);Ee!==void 0&&(R[ve+"-transition"]=Ee)}return R},oi.prototype.transitioned=function(R,V){for(var ae=new qi(this._properties),ve=0,we=Object.keys(this._values);ve<we.length;ve+=1){var Ee=we[ve];ae._values[Ee]=this._values[Ee].transitioned(R,V._values[Ee])}return ae},oi.prototype.untransitioned=function(){for(var R=new qi(this._properties),V=0,ae=Object.keys(this._values);V<ae.length;V+=1){var ve=ae[V];R._values[ve]=this._values[ve].untransitioned()}return R};var $i=function(R,V,ae,ve,we){this.property=R,this.value=V,this.begin=we+ve.delay||0,this.end=this.begin+ve.duration||0,R.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ae)};$i.prototype.possiblyEvaluate=function(R,V,ae){var ve=R.now||0,we=this.value.possiblyEvaluate(R,V,ae),Ee=this.prior;if(Ee){if(ve>this.end)return this.prior=null,we;if(this.value.isDataDriven())return this.prior=null,we;if(ve<this.begin)return Ee.possiblyEvaluate(R,V,ae);var Ke=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Ee.possiblyEvaluate(R,V,ae),we,u(Ke))}else return we};var qi=function(R){this._properties=R,this._values=Object.create(R.defaultTransitioningPropertyValues)};qi.prototype.possiblyEvaluate=function(R,V,ae){for(var ve=new go(this._properties),we=0,Ee=Object.keys(this._values);we<Ee.length;we+=1){var Ke=Ee[we];ve._values[Ke]=this._values[Ke].possiblyEvaluate(R,V,ae)}return ve},qi.prototype.hasTransition=function(){for(var R=0,V=Object.keys(this._values);R<V.length;R+=1){var ae=V[R];if(this._values[ae].prior)return!0}return!1};var ao=function(R){this._properties=R,this._values=Object.create(R.defaultPropertyValues)};ao.prototype.getValue=function(R){return N(this._values[R].value)},ao.prototype.setValue=function(R,V){this._values[R]=new Ja(this._values[R].property,V===null?void 0:N(V))},ao.prototype.serialize=function(){for(var R={},V=0,ae=Object.keys(this._values);V<ae.length;V+=1){var ve=ae[V],we=this.getValue(ve);we!==void 0&&(R[ve]=we)}return R},ao.prototype.possiblyEvaluate=function(R,V,ae){for(var ve=new go(this._properties),we=0,Ee=Object.keys(this._values);we<Ee.length;we+=1){var Ke=Ee[we];ve._values[Ke]=this._values[Ke].possiblyEvaluate(R,V,ae)}return ve};var Ti=function(R,V,ae){this.property=R,this.value=V,this.parameters=ae};Ti.prototype.isConstant=function(){return this.value.kind==="constant"},Ti.prototype.constantOr=function(R){return this.value.kind==="constant"?this.value.value:R},Ti.prototype.evaluate=function(R,V,ae,ve){return this.property.evaluate(this.value,this.parameters,R,V,ae,ve)};var go=function(R){this._properties=R,this._values=Object.create(R.defaultPossiblyEvaluatedValues)};go.prototype.get=function(R){return this._values[R]};var la=function(R){this.specification=R};la.prototype.possiblyEvaluate=function(R,V){return R.expression.evaluate(V)},la.prototype.interpolate=function(R,V,ae){var ve=Fu[this.specification.type];return ve?ve(R,V,ae):R};var Pa=function(R,V){this.specification=R,this.overrides=V};Pa.prototype.possiblyEvaluate=function(R,V,ae,ve){return R.expression.kind==="constant"||R.expression.kind==="camera"?new Ti(this,{kind:"constant",value:R.expression.evaluate(V,null,{},ae,ve)},V):new Ti(this,R.expression,V)},Pa.prototype.interpolate=function(R,V,ae){if(R.value.kind!=="constant"||V.value.kind!=="constant")return R;if(R.value.value===void 0||V.value.value===void 0)return new Ti(this,{kind:"constant",value:void 0},R.parameters);var ve=Fu[this.specification.type];return ve?new Ti(this,{kind:"constant",value:ve(R.value.value,V.value.value,ae)},R.parameters):R},Pa.prototype.evaluate=function(R,V,ae,ve,we,Ee){return R.kind==="constant"?R.value:R.evaluate(V,ae,ve,we,Ee)};var Ro=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ae,ve,we,Ee){if(ae.value===void 0)return new Ti(this,{kind:"constant",value:void 0},ve);if(ae.expression.kind==="constant"){var Ke=ae.expression.evaluate(ve,null,{},we,Ee),vt=ae.property.specification.type==="resolvedImage",Mt=vt&&typeof Ke!="string"?Ke.name:Ke,_t=this._calculate(Mt,Mt,Mt,ve);return new Ti(this,{kind:"constant",value:_t},ve)}else if(ae.expression.kind==="camera"){var Yt=this._calculate(ae.expression.evaluate({zoom:ve.zoom-1}),ae.expression.evaluate({zoom:ve.zoom}),ae.expression.evaluate({zoom:ve.zoom+1}),ve);return new Ti(this,{kind:"constant",value:Yt},ve)}else return new Ti(this,ae.expression,ve)},R.prototype.evaluate=function(ae,ve,we,Ee,Ke,vt){if(ae.kind==="source"){var Mt=ae.evaluate(ve,we,Ee,Ke,vt);return this._calculate(Mt,Mt,Mt,ve)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(ve.zoom)-1},we,Ee),ae.evaluate({zoom:Math.floor(ve.zoom)},we,Ee),ae.evaluate({zoom:Math.floor(ve.zoom)+1},we,Ee),ve):ae.value},R.prototype._calculate=function(ae,ve,we,Ee){var Ke=Ee.zoom;return Ke>Ee.zoomHistory.lastIntegerZoom?{from:ae,to:ve}:{from:we,to:ve}},R.prototype.interpolate=function(ae){return ae},R}(Pa),Fo=function(R){this.specification=R};Fo.prototype.possiblyEvaluate=function(R,V,ae,ve){if(R.value!==void 0)if(R.expression.kind==="constant"){var we=R.expression.evaluate(V,null,{},ae,ve);return this._calculate(we,we,we,V)}else return this._calculate(R.expression.evaluate(new Ma(Math.floor(V.zoom-1),V)),R.expression.evaluate(new Ma(Math.floor(V.zoom),V)),R.expression.evaluate(new Ma(Math.floor(V.zoom+1),V)),V)},Fo.prototype._calculate=function(R,V,ae,ve){var we=ve.zoom;return we>ve.zoomHistory.lastIntegerZoom?{from:R,to:V}:{from:ae,to:V}},Fo.prototype.interpolate=function(R){return R};var io=function(R){this.specification=R};io.prototype.possiblyEvaluate=function(R,V,ae,ve){return!!R.expression.evaluate(V,null,{},ae,ve)},io.prototype.interpolate=function(){return!1};var hi=function(R){this.properties=R,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var V in R){var ae=R[V];ae.specification.overridable&&this.overridableProperties.push(V);var ve=this.defaultPropertyValues[V]=new Ja(ae,void 0),we=this.defaultTransitionablePropertyValues[V]=new wi(ae);this.defaultTransitioningPropertyValues[V]=we.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=ve.possiblyEvaluate({})}};Be("DataDrivenProperty",Pa),Be("DataConstantProperty",la),Be("CrossFadedDataDrivenProperty",Ro),Be("CrossFadedProperty",Fo),Be("ColorRampProperty",io);var Wi="-transition",Ni=function(_){function R(V,ae){if(_.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},V.type!=="custom"&&(V=V,this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,V.type!=="background"&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),ae.layout&&(this._unevaluatedLayout=new ao(ae.layout)),ae.paint)){this._transitionablePaint=new oi(ae.paint);for(var ve in V.paint)this.setPaintProperty(ve,V.paint[ve],{validate:!1});for(var we in V.layout)this.setLayoutProperty(we,V.layout[we],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new go(ae.paint)}}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},R.prototype.setLayoutProperty=function(ae,ve,we){if(we===void 0&&(we={}),ve!=null){var Ee="layers."+this.id+".layout."+ae;if(this._validate(Da,Ee,ae,ve,we))return}if(ae==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ae,ve)},R.prototype.getPaintProperty=function(ae){return x(ae,Wi)?this._transitionablePaint.getTransition(ae.slice(0,-Wi.length)):this._transitionablePaint.getValue(ae)},R.prototype.setPaintProperty=function(ae,ve,we){if(we===void 0&&(we={}),ve!=null){var Ee="layers."+this.id+".paint."+ae;if(this._validate(Ra,Ee,ae,ve,we))return!1}if(x(ae,Wi))return this._transitionablePaint.setTransition(ae.slice(0,-Wi.length),ve||void 0),!1;var Ke=this._transitionablePaint._values[ae],vt=Ke.property.specification["property-type"]==="cross-faded-data-driven",Mt=Ke.value.isDataDriven(),_t=Ke.value;this._transitionablePaint.setValue(ae,ve),this._handleSpecialPaintPropertyUpdate(ae);var Yt=this._transitionablePaint._values[ae].value,ar=Yt.isDataDriven();return ar||Mt||vt||this._handleOverridablePaintPropertyUpdate(ae,_t,Yt)},R.prototype._handleSpecialPaintPropertyUpdate=function(ae){},R.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,we){return!1},R.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},R.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(ae,ve){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,ve)},R.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),D(ae,function(ve,we){return ve!==void 0&&!(we==="layout"&&!Object.keys(ve).length)&&!(we==="paint"&&!Object.keys(ve).length)})},R.prototype._validate=function(ae,ve,we,Ee,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:ka(this,ae.call(Dn,{key:ve,layerType:this.type,objectKey:we,value:Ee,styleSpec:Ar,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var ae in this.paint._values){var ve=this.paint.get(ae);if(!(!(ve instanceof Ti)||!_s(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},R}(sr),ps={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ds=function(R,V){this._structArray=R,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Li=128,Gl=5,Qa=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Qa.serialize=function(R,V){return R._trim(),V&&(R.isTransferred=!0,V.push(R.arrayBuffer)),{length:R.length,arrayBuffer:R.arrayBuffer}},Qa.deserialize=function(R){var V=Object.create(this.prototype);return V.arrayBuffer=R.arrayBuffer,V.length=R.length,V.capacity=R.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},Qa.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Qa.prototype.clear=function(){this.length=0},Qa.prototype.resize=function(R){this.reserve(R),this.length=R},Qa.prototype.reserve=function(R){if(R>this.capacity){this.capacity=Math.max(R,Math.floor(this.capacity*Gl),Li),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},Qa.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Pi(_,R){R===void 0&&(R=1);var V=0,ae=0,ve=_.map(function(Ee){var Ke=uh(Ee.type),vt=V=Jd(V,Math.max(R,Ke)),Mt=Ee.components||1;return ae=Math.max(ae,Ke),V+=Ke*Mt,{name:Ee.name,type:Ee.type,components:Mt,offset:vt}}),we=Jd(V,Math.max(ae,R));return{members:ve,size:we,alignment:R}}function uh(_){return ps[_].BYTES_PER_ELEMENT}function Jd(_,R){return Math.ceil(_/R)*R}var Af=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ve)},R.prototype.emplace=function(ae,ve,we){var Ee=ae*2;return this.int16[Ee+0]=ve,this.int16[Ee+1]=we,ae},R}(Qa);Af.prototype.bytesPerElement=4,Be("StructArrayLayout2i4",Af);var Fv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,ve,we,Ee)},R.prototype.emplace=function(ae,ve,we,Ee,Ke){var vt=ae*4;return this.int16[vt+0]=ve,this.int16[vt+1]=we,this.int16[vt+2]=Ee,this.int16[vt+3]=Ke,ae},R}(Qa);Fv.prototype.bytesPerElement=8,Be("StructArrayLayout4i8",Fv);var Ku=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,ve,we,Ee,Ke,vt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt){var _t=ae*6;return this.int16[_t+0]=ve,this.int16[_t+1]=we,this.int16[_t+2]=Ee,this.int16[_t+3]=Ke,this.int16[_t+4]=vt,this.int16[_t+5]=Mt,ae},R}(Qa);Ku.prototype.bytesPerElement=12,Be("StructArrayLayout2i4i12",Ku);var uc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,ve,we,Ee,Ke,vt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt){var _t=ae*4,Yt=ae*8;return this.int16[_t+0]=ve,this.int16[_t+1]=we,this.uint8[Yt+4]=Ee,this.uint8[Yt+5]=Ke,this.uint8[Yt+6]=vt,this.uint8[Yt+7]=Mt,ae},R}(Qa);uc.prototype.bytesPerElement=8,Be("StructArrayLayout2i4ub8",uc);var fc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ve)},R.prototype.emplace=function(ae,ve,we){var Ee=ae*2;return this.float32[Ee+0]=ve,this.float32[Ee+1]=we,ae},R}(Qa);fc.prototype.bytesPerElement=8,Be("StructArrayLayout2f8",fc);var ts=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar){var er=this.length;return this.resize(er+1),this.emplace(er,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er){var br=ae*10;return this.uint16[br+0]=ve,this.uint16[br+1]=we,this.uint16[br+2]=Ee,this.uint16[br+3]=Ke,this.uint16[br+4]=vt,this.uint16[br+5]=Mt,this.uint16[br+6]=_t,this.uint16[br+7]=Yt,this.uint16[br+8]=ar,this.uint16[br+9]=er,ae},R}(Qa);ts.prototype.bytesPerElement=20,Be("StructArrayLayout10ui20",ts);var Ju=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br){var cn=ae*12;return this.int16[cn+0]=ve,this.int16[cn+1]=we,this.int16[cn+2]=Ee,this.int16[cn+3]=Ke,this.uint16[cn+4]=vt,this.uint16[cn+5]=Mt,this.uint16[cn+6]=_t,this.uint16[cn+7]=Yt,this.int16[cn+8]=ar,this.int16[cn+9]=er,this.int16[cn+10]=br,this.int16[cn+11]=Br,ae},R}(Qa);Ju.prototype.bytesPerElement=24,Be("StructArrayLayout4i4ui4i24",Ju);var Nv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*3;return this.float32[Ke+0]=ve,this.float32[Ke+1]=we,this.float32[Ke+2]=Ee,ae},R}(Qa);Nv.prototype.bytesPerElement=12,Be("StructArrayLayout3f12",Nv);var Bv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var we=ae*1;return this.uint32[we+0]=ve,ae},R}(Qa);Bv.prototype.bytesPerElement=4,Be("StructArrayLayout1ul4",Bv);var fh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt){var ar=this.length;return this.resize(ar+1),this.emplace(ar,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar){var er=ae*10,br=ae*5;return this.int16[er+0]=ve,this.int16[er+1]=we,this.int16[er+2]=Ee,this.int16[er+3]=Ke,this.int16[er+4]=vt,this.int16[er+5]=Mt,this.uint32[br+3]=_t,this.uint16[er+8]=Yt,this.uint16[er+9]=ar,ae},R}(Qa);fh.prototype.bytesPerElement=20,Be("StructArrayLayout6i1ul2ui20",fh);var kh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,ve,we,Ee,Ke,vt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt){var _t=ae*6;return this.int16[_t+0]=ve,this.int16[_t+1]=we,this.int16[_t+2]=Ee,this.int16[_t+3]=Ke,this.int16[_t+4]=vt,this.int16[_t+5]=Mt,ae},R}(Qa);kh.prototype.bytesPerElement=12,Be("StructArrayLayout2i2i2i12",kh);var bu=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke){var vt=this.length;return this.resize(vt+1),this.emplace(vt,ae,ve,we,Ee,Ke)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt){var Mt=ae*4,_t=ae*8;return this.float32[Mt+0]=ve,this.float32[Mt+1]=we,this.float32[Mt+2]=Ee,this.int16[_t+6]=Ke,this.int16[_t+7]=vt,ae},R}(Qa);bu.prototype.bytesPerElement=16,Be("StructArrayLayout2f1f2i16",bu);var gs=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,ve,we,Ee)},R.prototype.emplace=function(ae,ve,we,Ee,Ke){var vt=ae*12,Mt=ae*3;return this.uint8[vt+0]=ve,this.uint8[vt+1]=we,this.float32[Mt+1]=Ee,this.float32[Mt+2]=Ke,ae},R}(Qa);gs.prototype.bytesPerElement=12,Be("StructArrayLayout2ub2f12",gs);var wu=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*3;return this.uint16[Ke+0]=ve,this.uint16[Ke+1]=we,this.uint16[Ke+2]=Ee,ae},R}(Qa);wu.prototype.bytesPerElement=6,Be("StructArrayLayout3ui6",wu);var ch=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn){var Cn=this.length;return this.resize(Cn+1),this.emplace(Cn,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn,Cn){var kn=ae*24,Yn=ae*12,aa=ae*48;return this.int16[kn+0]=ve,this.int16[kn+1]=we,this.uint16[kn+2]=Ee,this.uint16[kn+3]=Ke,this.uint32[Yn+2]=vt,this.uint32[Yn+3]=Mt,this.uint32[Yn+4]=_t,this.uint16[kn+10]=Yt,this.uint16[kn+11]=ar,this.uint16[kn+12]=er,this.float32[Yn+7]=br,this.float32[Yn+8]=Br,this.uint8[aa+36]=cn,this.uint8[aa+37]=nn,this.uint8[aa+38]=Ln,this.uint32[Yn+10]=yn,this.int16[kn+22]=Cn,ae},R}(Qa);ch.prototype.bytesPerElement=48,Be("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ch);var zh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta,Ta,pa,ba,Va,Aa,La){var Ya=this.length;return this.resize(Ya+1),this.emplace(Ya,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta,Ta,pa,ba,Va,Aa,La)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta,Ta,pa,ba,Va,Aa,La,Ya){var Ba=ae*34,li=ae*17;return this.int16[Ba+0]=ve,this.int16[Ba+1]=we,this.int16[Ba+2]=Ee,this.int16[Ba+3]=Ke,this.int16[Ba+4]=vt,this.int16[Ba+5]=Mt,this.int16[Ba+6]=_t,this.int16[Ba+7]=Yt,this.uint16[Ba+8]=ar,this.uint16[Ba+9]=er,this.uint16[Ba+10]=br,this.uint16[Ba+11]=Br,this.uint16[Ba+12]=cn,this.uint16[Ba+13]=nn,this.uint16[Ba+14]=Ln,this.uint16[Ba+15]=yn,this.uint16[Ba+16]=Cn,this.uint16[Ba+17]=kn,this.uint16[Ba+18]=Yn,this.uint16[Ba+19]=aa,this.uint16[Ba+20]=ta,this.uint16[Ba+21]=Ta,this.uint16[Ba+22]=pa,this.uint32[li+12]=ba,this.float32[li+13]=Va,this.float32[li+14]=Aa,this.float32[li+15]=La,this.float32[li+16]=Ya,ae},R}(Qa);zh.prototype.bytesPerElement=68,Be("StructArrayLayout8i15ui1ul4f68",zh);var cc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var we=ae*1;return this.float32[we+0]=ve,ae},R}(Qa);cc.prototype.bytesPerElement=4,Be("StructArrayLayout1f4",cc);var Uv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*3;return this.int16[Ke+0]=ve,this.int16[Ke+1]=we,this.int16[Ke+2]=Ee,ae},R}(Qa);Uv.prototype.bytesPerElement=6,Be("StructArrayLayout3i6",Uv);var Qu=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*2,vt=ae*4;return this.uint32[Ke+0]=ve,this.uint16[vt+2]=we,this.uint16[vt+3]=Ee,ae},R}(Qa);Qu.prototype.bytesPerElement=8,Be("StructArrayLayout1ul2ui8",Qu);var hh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ve)},R.prototype.emplace=function(ae,ve,we){var Ee=ae*2;return this.uint16[Ee+0]=ve,this.uint16[Ee+1]=we,ae},R}(Qa);hh.prototype.bytesPerElement=4,Be("StructArrayLayout2ui4",hh);var hc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var we=ae*1;return this.uint16[we+0]=ve,ae},R}(Qa);hc.prototype.bytesPerElement=2,Be("StructArrayLayout1ui2",hc);var Sf=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,ve,we,Ee)},R.prototype.emplace=function(ae,ve,we,Ee,Ke){var vt=ae*4;return this.float32[vt+0]=ve,this.float32[vt+1]=we,this.float32[vt+2]=Ee,this.float32[vt+3]=Ke,ae},R}(Qa);Sf.prototype.bytesPerElement=16,Be("StructArrayLayout4f16",Sf);var Qd=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,V),R}(Ds);Qd.prototype.size=20;var Vv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new Qd(this,ae)},R}(fh);Be("CollisionBoxArray",Vv);var Mf=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,V),R}(Ds);Mf.prototype.size=48;var Hv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new Mf(this,ae)},R}(ch);Be("PlacedSymbolArray",Hv);var vc=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,V),R}(Ds);vc.prototype.size=68;var $d=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new vc(this,ae)},R}(zh);Be("SymbolInstanceArray",$d);var qd=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},R}(cc);Be("GlyphOffsetArray",qd);var hl=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.getx=function(ae){return this.int16[ae*3+0]},R.prototype.gety=function(ae){return this.int16[ae*3+1]},R.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},R}(Uv);Be("SymbolLineVertexArray",hl);var ep=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,V),R}(Ds);ep.prototype.size=8;var tp=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new ep(this,ae)},R}(Qu);Be("FeatureIndexArray",tp);var j0=Pi([{name:"a_pos",components:2,type:"Int16"}],4),rp=j0.members,oo=function(R){R===void 0&&(R=[]),this.segments=R};oo.prototype.prepareSegment=function(R,V,ae,ve){var we=this.segments[this.segments.length-1];return R>oo.MAX_VERTEX_ARRAY_LENGTH&&F("Max vertices per segment is "+oo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+R),(!we||we.vertexLength+R>oo.MAX_VERTEX_ARRAY_LENGTH||we.sortKey!==ve)&&(we={vertexOffset:V.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(we.sortKey=ve),this.segments.push(we)),we},oo.prototype.get=function(){return this.segments},oo.prototype.destroy=function(){for(var R=0,V=this.segments;R<V.length;R+=1){var ae=V[R];for(var ve in ae.vaos)ae.vaos[ve].destroy()}},oo.simpleSegment=function(R,V,ae,ve){return new oo([{vertexOffset:R,primitiveOffset:V,vertexLength:ae,primitiveLength:ve,vaos:{},sortKey:0}])},oo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Be("SegmentVector",oo);function ce(_,R){return _=h(Math.floor(_),0,255),R=h(Math.floor(R),0,255),256*_+R}var K=Pi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=L(function(_){function R(V,ae){var ve,we,Ee,Ke,vt,Mt,_t,Yt;for(ve=V.length&3,we=V.length-ve,Ee=ae,vt=3432918353,Mt=461845907,Yt=0;Yt<we;)_t=V.charCodeAt(Yt)&255|(V.charCodeAt(++Yt)&255)<<8|(V.charCodeAt(++Yt)&255)<<16|(V.charCodeAt(++Yt)&255)<<24,++Yt,_t=(_t&65535)*vt+(((_t>>>16)*vt&65535)<<16)&4294967295,_t=_t<<15|_t>>>17,_t=(_t&65535)*Mt+(((_t>>>16)*Mt&65535)<<16)&4294967295,Ee^=_t,Ee=Ee<<13|Ee>>>19,Ke=(Ee&65535)*5+(((Ee>>>16)*5&65535)<<16)&4294967295,Ee=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(_t=0,ve){case 3:_t^=(V.charCodeAt(Yt+2)&255)<<16;case 2:_t^=(V.charCodeAt(Yt+1)&255)<<8;case 1:_t^=V.charCodeAt(Yt)&255,_t=(_t&65535)*vt+(((_t>>>16)*vt&65535)<<16)&4294967295,_t=_t<<15|_t>>>17,_t=(_t&65535)*Mt+(((_t>>>16)*Mt&65535)<<16)&4294967295,Ee^=_t}return Ee^=V.length,Ee^=Ee>>>16,Ee=(Ee&65535)*2246822507+(((Ee>>>16)*2246822507&65535)<<16)&4294967295,Ee^=Ee>>>13,Ee=(Ee&65535)*3266489909+(((Ee>>>16)*3266489909&65535)<<16)&4294967295,Ee^=Ee>>>16,Ee>>>0}_.exports=R}),ee=L(function(_){function R(V,ae){for(var ve=V.length,we=ae^ve,Ee=0,Ke;ve>=4;)Ke=V.charCodeAt(Ee)&255|(V.charCodeAt(++Ee)&255)<<8|(V.charCodeAt(++Ee)&255)<<16|(V.charCodeAt(++Ee)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)^Ke,ve-=4,++Ee;switch(ve){case 3:we^=(V.charCodeAt(Ee+2)&255)<<16;case 2:we^=(V.charCodeAt(Ee+1)&255)<<8;case 1:we^=V.charCodeAt(Ee)&255,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)}return we^=we>>>13,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16),we^=we>>>15,we>>>0}_.exports=R}),pe=de,Oe=de,Xe=ee;pe.murmur3=Oe,pe.murmur2=Xe;var ut=function(){this.ids=[],this.positions=[],this.indexed=!1};ut.prototype.add=function(R,V,ae,ve){this.ids.push(Vt(R)),this.positions.push(V,ae,ve)},ut.prototype.getPositions=function(R){for(var V=Vt(R),ae=0,ve=this.ids.length-1;ae<ve;){var we=ae+ve>>1;this.ids[we]>=V?ve=we:ae=we+1}for(var Ee=[];this.ids[ae]===V;){var Ke=this.positions[3*ae],vt=this.positions[3*ae+1],Mt=this.positions[3*ae+2];Ee.push({index:Ke,start:vt,end:Mt}),ae++}return Ee},ut.serialize=function(R,V){var ae=new Float64Array(R.ids),ve=new Uint32Array(R.positions);return $t(ae,ve,0,ae.length-1),V&&V.push(ae.buffer,ve.buffer),{ids:ae,positions:ve}},ut.deserialize=function(R){var V=new ut;return V.ids=R.ids,V.positions=R.positions,V.indexed=!0,V};var Lt=Math.pow(2,53)-1;function Vt(_){var R=+_;return!isNaN(R)&&R<=Lt?R:pe(String(_))}function $t(_,R,V,ae){for(;V<ae;){for(var ve=_[V+ae>>1],we=V-1,Ee=ae+1;;){do we++;while(_[we]<ve);do Ee--;while(_[Ee]>ve);if(we>=Ee)break;hr(_,we,Ee),hr(R,3*we,3*Ee),hr(R,3*we+1,3*Ee+1),hr(R,3*we+2,3*Ee+2)}Ee-V<ae-Ee?($t(_,R,V,Ee),V=Ee+1):($t(_,R,Ee+1,ae),ae=Ee)}}function hr(_,R,V){var ae=_[R];_[R]=_[V],_[V]=ae}Be("FeaturePositionMap",ut);var fr=function(R,V){this.gl=R.gl,this.location=V},kr=function(_){function R(V,ae){_.call(this,V,ae),this.current=0}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},R}(fr),Xr=function(_){function R(V,ae){_.call(this,V,ae),this.current=0}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},R}(fr),Yr=function(_){function R(V,ae){_.call(this,V,ae),this.current=[0,0]}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},R}(fr),Wr=function(_){function R(V,ae){_.call(this,V,ae),this.current=[0,0,0]}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},R}(fr),Qr=function(_){function R(V,ae){_.call(this,V,ae),this.current=[0,0,0,0]}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},R}(fr),dn=function(_){function R(V,ae){_.call(this,V,ae),this.current=ti.transparent}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},R}(fr),In=new Float32Array(16),Un=function(_){function R(V,ae){_.call(this,V,ae),this.current=In}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var ve=1;ve<16;ve++)if(ae[ve]!==this.current[ve]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},R}(fr);function Xn(_){return[ce(255*_.r,255*_.g),ce(255*_.b,255*_.a)]}var Zn=function(R,V,ae){this.value=R,this.uniformNames=V.map(function(ve){return"u_"+ve}),this.type=ae};Zn.prototype.setUniform=function(R,V,ae){R.set(ae.constantOr(this.value))},Zn.prototype.getBinding=function(R,V,ae){return this.type==="color"?new dn(R,V):new Xr(R,V)};var jn=function(R,V){this.uniformNames=V.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jn.prototype.setConstantPatternPositions=function(R,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=R.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=R.tlbr},jn.prototype.setUniform=function(R,V,ae,ve){var we=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;we&&R.set(we)},jn.prototype.getBinding=function(R,V,ae){return ae.substr(0,9)==="u_pattern"?new Qr(R,V):new Xr(R,V)};var Jn=function(R,V,ae,ve){this.expression=R,this.type=ae,this.maxValue=0,this.paintVertexAttributes=V.map(function(we){return{name:"a_"+we,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};Jn.prototype.populatePaintArray=function(R,V,ae,ve,we){var Ee=this.paintVertexArray.length,Ke=this.expression.evaluate(new Ma(0),V,{},ve,[],we);this.paintVertexArray.resize(R),this._setPaintValue(Ee,R,Ke)},Jn.prototype.updatePaintArray=function(R,V,ae,ve){var we=this.expression.evaluate({zoom:0},ae,ve);this._setPaintValue(R,V,we)},Jn.prototype._setPaintValue=function(R,V,ae){if(this.type==="color")for(var ve=Xn(ae),we=R;we<V;we++)this.paintVertexArray.emplace(we,ve[0],ve[1]);else{for(var Ee=R;Ee<V;Ee++)this.paintVertexArray.emplace(Ee,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},Jn.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var na=function(R,V,ae,ve,we,Ee){this.expression=R,this.uniformNames=V.map(function(Ke){return"u_"+Ke+"_t"}),this.type=ae,this.useIntegerZoom=ve,this.zoom=we,this.maxValue=0,this.paintVertexAttributes=V.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new Ee};na.prototype.populatePaintArray=function(R,V,ae,ve,we){var Ee=this.expression.evaluate(new Ma(this.zoom),V,{},ve,[],we),Ke=this.expression.evaluate(new Ma(this.zoom+1),V,{},ve,[],we),vt=this.paintVertexArray.length;this.paintVertexArray.resize(R),this._setPaintValue(vt,R,Ee,Ke)},na.prototype.updatePaintArray=function(R,V,ae,ve){var we=this.expression.evaluate({zoom:this.zoom},ae,ve),Ee=this.expression.evaluate({zoom:this.zoom+1},ae,ve);this._setPaintValue(R,V,we,Ee)},na.prototype._setPaintValue=function(R,V,ae,ve){if(this.type==="color")for(var we=Xn(ae),Ee=Xn(ve),Ke=R;Ke<V;Ke++)this.paintVertexArray.emplace(Ke,we[0],we[1],Ee[0],Ee[1]);else{for(var vt=R;vt<V;vt++)this.paintVertexArray.emplace(vt,ae,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(ve))}},na.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},na.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},na.prototype.setUniform=function(R,V){var ae=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,ve=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);R.set(ve)},na.prototype.getBinding=function(R,V,ae){return new Xr(R,V)};var ua=function(R,V,ae,ve,we,Ee){this.expression=R,this.type=V,this.useIntegerZoom=ae,this.zoom=ve,this.layerId=Ee,this.zoomInPaintVertexArray=new we,this.zoomOutPaintVertexArray=new we};ua.prototype.populatePaintArray=function(R,V,ae){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(R),this.zoomOutPaintVertexArray.resize(R),this._setPaintValues(ve,R,V.patterns&&V.patterns[this.layerId],ae)},ua.prototype.updatePaintArray=function(R,V,ae,ve,we){this._setPaintValues(R,V,ae.patterns&&ae.patterns[this.layerId],we)},ua.prototype._setPaintValues=function(R,V,ae,ve){if(!(!ve||!ae)){var we=ae.min,Ee=ae.mid,Ke=ae.max,vt=ve[we],Mt=ve[Ee],_t=ve[Ke];if(!(!vt||!Mt||!_t))for(var Yt=R;Yt<V;Yt++)this.zoomInPaintVertexArray.emplace(Yt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],Mt.pixelRatio,vt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Yt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],_t.tl[0],_t.tl[1],_t.br[0],_t.br[1],Mt.pixelRatio,_t.pixelRatio)}},ua.prototype.upload=function(R){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=R.createVertexBuffer(this.zoomInPaintVertexArray,K.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=R.createVertexBuffer(this.zoomOutPaintVertexArray,K.members,this.expression.isStateDependent))},ua.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var xa=function(R,V,ae){this.binders={},this._buffers=[];var ve=[];for(var we in R.paint._values)if(ae(we)){var Ee=R.paint.get(we);if(!(!(Ee instanceof Ti)||!_s(Ee.property.specification))){var Ke=Fa(we,R.type),vt=Ee.value,Mt=Ee.property.specification.type,_t=Ee.property.useIntegerZoom,Yt=Ee.property.specification["property-type"],ar=Yt==="cross-faded"||Yt==="cross-faded-data-driven";if(vt.kind==="constant")this.binders[we]=ar?new jn(vt.value,Ke):new Zn(vt.value,Ke,Mt),ve.push("/u_"+we);else if(vt.kind==="source"||ar){var er=Xa(we,Mt,"source");this.binders[we]=ar?new ua(vt,Mt,_t,V,er,R.id):new Jn(vt,Ke,Mt,er),ve.push("/a_"+we)}else{var br=Xa(we,Mt,"composite");this.binders[we]=new na(vt,Ke,Mt,_t,V,br),ve.push("/z_"+we)}}}this.cacheKey=ve.sort().join("")};xa.prototype.getMaxValue=function(R){var V=this.binders[R];return V instanceof Jn||V instanceof na?V.maxValue:0},xa.prototype.populatePaintArrays=function(R,V,ae,ve,we){for(var Ee in this.binders){var Ke=this.binders[Ee];(Ke instanceof Jn||Ke instanceof na||Ke instanceof ua)&&Ke.populatePaintArray(R,V,ae,ve,we)}},xa.prototype.setConstantPatternPositions=function(R,V){for(var ae in this.binders){var ve=this.binders[ae];ve instanceof jn&&ve.setConstantPatternPositions(R,V)}},xa.prototype.updatePaintArrays=function(R,V,ae,ve,we){var Ee=!1;for(var Ke in R)for(var vt=V.getPositions(Ke),Mt=0,_t=vt;Mt<_t.length;Mt+=1){var Yt=_t[Mt],ar=ae.feature(Yt.index);for(var er in this.binders){var br=this.binders[er];if((br instanceof Jn||br instanceof na||br instanceof ua)&&br.expression.isStateDependent===!0){var Br=ve.paint.get(er);br.expression=Br.value,br.updatePaintArray(Yt.start,Yt.end,ar,R[Ke],we),Ee=!0}}}return Ee},xa.prototype.defines=function(){var R=[];for(var V in this.binders){var ae=this.binders[V];(ae instanceof Zn||ae instanceof jn)&&R.push.apply(R,ae.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return R},xa.prototype.getBinderAttributes=function(){var R=[];for(var V in this.binders){var ae=this.binders[V];if(ae instanceof Jn||ae instanceof na)for(var ve=0;ve<ae.paintVertexAttributes.length;ve++)R.push(ae.paintVertexAttributes[ve].name);else if(ae instanceof ua)for(var we=0;we<K.members.length;we++)R.push(K.members[we].name)}return R},xa.prototype.getBinderUniforms=function(){var R=[];for(var V in this.binders){var ae=this.binders[V];if(ae instanceof Zn||ae instanceof jn||ae instanceof na)for(var ve=0,we=ae.uniformNames;ve<we.length;ve+=1){var Ee=we[ve];R.push(Ee)}}return R},xa.prototype.getPaintVertexBuffers=function(){return this._buffers},xa.prototype.getUniforms=function(R,V){var ae=[];for(var ve in this.binders){var we=this.binders[ve];if(we instanceof Zn||we instanceof jn||we instanceof na)for(var Ee=0,Ke=we.uniformNames;Ee<Ke.length;Ee+=1){var vt=Ke[Ee];if(V[vt]){var Mt=we.getBinding(R,V[vt],vt);ae.push({name:vt,property:ve,binding:Mt})}}}return ae},xa.prototype.setUniforms=function(R,V,ae,ve){for(var we=0,Ee=V;we<Ee.length;we+=1){var Ke=Ee[we],vt=Ke.name,Mt=Ke.property,_t=Ke.binding;this.binders[Mt].setUniform(_t,ve,ae.get(Mt),vt)}},xa.prototype.updatePaintBuffers=function(R){this._buffers=[];for(var V in this.binders){var ae=this.binders[V];if(R&&ae instanceof ua){var ve=R.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ae instanceof Jn||ae instanceof na)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},xa.prototype.upload=function(R){for(var V in this.binders){var ae=this.binders[V];(ae instanceof Jn||ae instanceof na||ae instanceof ua)&&ae.upload(R)}this.updatePaintBuffers()},xa.prototype.destroy=function(){for(var R in this.binders){var V=this.binders[R];(V instanceof Jn||V instanceof na||V instanceof ua)&&V.destroy()}};var da=function(R,V,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var ve=0,we=R;ve<we.length;ve+=1){var Ee=we[ve];this.programConfigurations[Ee.id]=new xa(Ee,V,ae)}this.needsUpload=!1,this._featureMap=new ut,this._bufferOffset=0};da.prototype.populatePaintArrays=function(R,V,ae,ve,we,Ee){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(R,V,ve,we,Ee);V.id!==void 0&&this._featureMap.add(V.id,ae,this._bufferOffset,R),this._bufferOffset=R,this.needsUpload=!0},da.prototype.updatePaintArrays=function(R,V,ae,ve){for(var we=0,Ee=ae;we<Ee.length;we+=1){var Ke=Ee[we];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(R,this._featureMap,V,Ke,ve)||this.needsUpload}},da.prototype.get=function(R){return this.programConfigurations[R]},da.prototype.upload=function(R){if(this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(R);this.needsUpload=!1}},da.prototype.destroy=function(){for(var R in this.programConfigurations)this.programConfigurations[R].destroy()};function Fa(_,R){var V={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return V[_]||[_.replace(R+"-","").replace(/-/g,"_")]}function qa(_){var R={"line-pattern":{source:ts,composite:ts},"fill-pattern":{source:ts,composite:ts},"fill-extrusion-pattern":{source:ts,composite:ts}};return R[_]}function Xa(_,R,V){var ae={color:{source:fc,composite:Sf},number:{source:cc,composite:fc}},ve=qa(_);return ve&&ve[V]||ae[R][V]}Be("ConstantBinder",Zn),Be("CrossFadedConstantBinder",jn),Be("SourceExpressionBinder",Jn),Be("CrossFadedCompositeBinder",ua),Be("CompositeExpressionBinder",na),Be("ProgramConfiguration",xa,{omit:["_buffers"]}),Be("ProgramConfigurationSet",da);var Ea=8192,Za=15,Ga=Math.pow(2,Za-1)-1,si=-Ga-1;function ri(_){for(var R=Ea/_.extent,V=_.loadGeometry(),ae=0;ae<V.length;ae++)for(var ve=V[ae],we=0;we<ve.length;we++){var Ee=ve[we],Ke=Math.round(Ee.x*R),vt=Math.round(Ee.y*R);Ee.x=h(Ke,si,Ga),Ee.y=h(vt,si,Ga),(Ke<Ee.x||Ke>Ee.x+1||vt<Ee.y||vt>Ee.y+1)&&F("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return V}function Si(_,R){return{type:_.type,id:_.id,properties:_.properties,geometry:R?ri(_):[]}}function $a(_,R,V,ae,ve){_.emplaceBack(R*2+(ae+1)/2,V*2+(ve+1)/2)}var mi=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Af,this.indexArray=new wu,this.segments=new oo,this.programConfigurations=new da(R.layers,R.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};mi.prototype.populate=function(R,V,ae){var ve=this.layers[0],we=[],Ee=null;ve.type==="circle"&&(Ee=ve.layout.get("circle-sort-key"));for(var Ke=0,vt=R;Ke<vt.length;Ke+=1){var Mt=vt[Ke],_t=Mt.feature,Yt=Mt.id,ar=Mt.index,er=Mt.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Br=Si(_t,br);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Br,ae)){var cn=Ee?Ee.evaluate(Br,{},ae):void 0,nn={id:Yt,properties:_t.properties,type:_t.type,sourceLayerIndex:er,index:ar,geometry:br?Br.geometry:ri(_t),patterns:{},sortKey:cn};we.push(nn)}}Ee&&we.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var Ln=0,yn=we;Ln<yn.length;Ln+=1){var Cn=yn[Ln],kn=Cn,Yn=kn.geometry,aa=kn.index,ta=kn.sourceLayerIndex,Ta=R[aa].feature;this.addFeature(Cn,Yn,aa,ae),V.featureIndex.insert(Ta,Yn,aa,ta,this.index)}},mi.prototype.update=function(R,V,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,V,this.stateDependentLayers,ae)},mi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},mi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},mi.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,rp),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},mi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},mi.prototype.addFeature=function(R,V,ae,ve){for(var we=0,Ee=V;we<Ee.length;we+=1)for(var Ke=Ee[we],vt=0,Mt=Ke;vt<Mt.length;vt+=1){var _t=Mt[vt],Yt=_t.x,ar=_t.y;if(!(Yt<0||Yt>=Ea||ar<0||ar>=Ea)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,R.sortKey),br=er.vertexLength;$a(this.layoutVertexArray,Yt,ar,-1,-1),$a(this.layoutVertexArray,Yt,ar,1,-1),$a(this.layoutVertexArray,Yt,ar,1,1),$a(this.layoutVertexArray,Yt,ar,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,{},ve)},Be("CircleBucket",mi,{omit:["layers"]});function Wa(_,R){for(var V=0;V<_.length;V++)if(rs(R,_[V]))return!0;for(var ae=0;ae<R.length;ae++)if(rs(_,R[ae]))return!0;return!!Js(_,R)}function ei(_,R,V){return!!(rs(_,R)||Wl(R,_,V))}function Bi(_,R){if(_.length===1)return jl(R,_[0]);for(var V=0;V<R.length;V++)for(var ae=R[V],ve=0;ve<ae.length;ve++)if(rs(_,ae[ve]))return!0;for(var we=0;we<_.length;we++)if(jl(R,_[we]))return!0;for(var Ee=0;Ee<R.length;Ee++)if(Js(_,R[Ee]))return!0;return!1}function yo(_,R,V){for(var ae=0;ae<R.length;ae++){var ve=R[ae];if(_.length>=3){for(var we=0;we<ve.length;we++)if(rs(_,ve[we]))return!0}if(Ks(_,ve,V))return!0}return!1}function Ks(_,R,V){if(_.length>1){if(Js(_,R))return!0;for(var ae=0;ae<R.length;ae++)if(Wl(R[ae],_,V))return!0}for(var ve=0;ve<_.length;ve++)if(Wl(_[ve],R,V))return!0;return!1}function Js(_,R){if(_.length===0||R.length===0)return!1;for(var V=0;V<_.length-1;V++)for(var ae=_[V],ve=_[V+1],we=0;we<R.length-1;we++){var Ee=R[we],Ke=R[we+1];if(vl(ae,ve,Ee,Ke))return!0}return!1}function vl(_,R,V,ae){return z(_,V,ae)!==z(R,V,ae)&&z(_,R,V)!==z(_,R,ae)}function Wl(_,R,V){var ae=V*V;if(R.length===1)return _.distSqr(R[0])<ae;for(var ve=1;ve<R.length;ve++){var we=R[ve-1],Ee=R[ve];if(Ef(_,we,Ee)<ae)return!0}return!1}function Ef(_,R,V){var ae=R.distSqr(V);if(ae===0)return _.distSqr(R);var ve=((_.x-R.x)*(V.x-R.x)+(_.y-R.y)*(V.y-R.y))/ae;return ve<0?_.distSqr(R):ve>1?_.distSqr(V):_.distSqr(V.sub(R)._mult(ve)._add(R))}function jl(_,R){for(var V=!1,ae,ve,we,Ee=0;Ee<_.length;Ee++){ae=_[Ee];for(var Ke=0,vt=ae.length-1;Ke<ae.length;vt=Ke++)ve=ae[Ke],we=ae[vt],ve.y>R.y!=we.y>R.y&&R.x<(we.x-ve.x)*(R.y-ve.y)/(we.y-ve.y)+ve.x&&(V=!V)}return V}function rs(_,R){for(var V=!1,ae=0,ve=_.length-1;ae<_.length;ve=ae++){var we=_[ae],Ee=_[ve];we.y>R.y!=Ee.y>R.y&&R.x<(Ee.x-we.x)*(R.y-we.y)/(Ee.y-we.y)+we.x&&(V=!V)}return V}function Yl(_,R,V,ae,ve){for(var we=0,Ee=_;we<Ee.length;we+=1){var Ke=Ee[we];if(R<=Ke.x&&V<=Ke.y&&ae>=Ke.x&&ve>=Ke.y)return!0}var vt=[new r(R,V),new r(R,ve),new r(ae,ve),new r(ae,V)];if(_.length>2)for(var Mt=0,_t=vt;Mt<_t.length;Mt+=1){var Yt=_t[Mt];if(rs(_,Yt))return!0}for(var ar=0;ar<_.length-1;ar++){var er=_[ar],br=_[ar+1];if(ys(er,br,vt))return!0}return!1}function ys(_,R,V){var ae=V[0],ve=V[2];if(_.x<ae.x&&R.x<ae.x||_.x>ve.x&&R.x>ve.x||_.y<ae.y&&R.y<ae.y||_.y>ve.y&&R.y>ve.y)return!1;var we=z(_,R,V[0]);return we!==z(_,R,V[1])||we!==z(_,R,V[2])||we!==z(_,R,V[3])}function ns(_,R,V){var ae=R.paint.get(_).value;return ae.kind==="constant"?ae.value:V.programConfigurations.get(R.id).getMaxValue(_)}function dl(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function Tu(_,R,V,ae,ve){if(!R[0]&&!R[1])return _;var we=r.convert(R)._mult(ve);V==="viewport"&&we._rotate(-ae);for(var Ee=[],Ke=0;Ke<_.length;Ke++){var vt=_[Ke];Ee.push(vt.sub(we))}return Ee}var pl=new hi({"circle-sort-key":new Pa(Ar.layout_circle["circle-sort-key"])}),Oh=new hi({"circle-radius":new Pa(Ar.paint_circle["circle-radius"]),"circle-color":new Pa(Ar.paint_circle["circle-color"]),"circle-blur":new Pa(Ar.paint_circle["circle-blur"]),"circle-opacity":new Pa(Ar.paint_circle["circle-opacity"]),"circle-translate":new la(Ar.paint_circle["circle-translate"]),"circle-translate-anchor":new la(Ar.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new la(Ar.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new la(Ar.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pa(Ar.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pa(Ar.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pa(Ar.paint_circle["circle-stroke-opacity"])}),dc={paint:Oh,layout:pl},To=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var _=arguments,R=0,V=arguments.length;V--;)R+=_[V]*_[V];return Math.sqrt(R)});function Fh(){var _=new To(4);return To!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}function vh(_,R,V){var ae=R[0],ve=R[1],we=R[2],Ee=R[3],Ke=Math.sin(V),vt=Math.cos(V);return _[0]=ae*vt+we*Ke,_[1]=ve*vt+Ee*Ke,_[2]=ae*-Ke+we*vt,_[3]=ve*-Ke+Ee*vt,_}function Ho(){var _=new To(9);return To!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function pc(_,R){var V=Math.sin(R),ae=Math.cos(R);return _[0]=ae,_[1]=V,_[2]=0,_[3]=-V,_[4]=ae,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function Nh(){var _=new To(16);return To!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_}function Bh(_){var R=new To(16);return R[0]=_[0],R[1]=_[1],R[2]=_[2],R[3]=_[3],R[4]=_[4],R[5]=_[5],R[6]=_[6],R[7]=_[7],R[8]=_[8],R[9]=_[9],R[10]=_[10],R[11]=_[11],R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15],R}function Uh(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function gc(_,R){var V=R[0],ae=R[1],ve=R[2],we=R[3],Ee=R[4],Ke=R[5],vt=R[6],Mt=R[7],_t=R[8],Yt=R[9],ar=R[10],er=R[11],br=R[12],Br=R[13],cn=R[14],nn=R[15],Ln=V*Ke-ae*Ee,yn=V*vt-ve*Ee,Cn=V*Mt-we*Ee,kn=ae*vt-ve*Ke,Yn=ae*Mt-we*Ke,aa=ve*Mt-we*vt,ta=_t*Br-Yt*br,Ta=_t*cn-ar*br,pa=_t*nn-er*br,ba=Yt*cn-ar*Br,Va=Yt*nn-er*Br,Aa=ar*nn-er*cn,La=Ln*Aa-yn*Va+Cn*ba+kn*pa-Yn*Ta+aa*ta;return La?(La=1/La,_[0]=(Ke*Aa-vt*Va+Mt*ba)*La,_[1]=(ve*Va-ae*Aa-we*ba)*La,_[2]=(Br*aa-cn*Yn+nn*kn)*La,_[3]=(ar*Yn-Yt*aa-er*kn)*La,_[4]=(vt*pa-Ee*Aa-Mt*Ta)*La,_[5]=(V*Aa-ve*pa+we*Ta)*La,_[6]=(cn*Cn-br*aa-nn*yn)*La,_[7]=(_t*aa-ar*Cn+er*yn)*La,_[8]=(Ee*Va-Ke*pa+Mt*ta)*La,_[9]=(ae*pa-V*Va-we*ta)*La,_[10]=(br*Yn-Br*Cn+nn*Ln)*La,_[11]=(Yt*Cn-_t*Yn-er*Ln)*La,_[12]=(Ke*Ta-Ee*ba-vt*ta)*La,_[13]=(V*ba-ae*Ta+ve*ta)*La,_[14]=(Br*yn-br*kn-cn*Ln)*La,_[15]=(_t*kn-Yt*yn+ar*Ln)*La,_):null}function yc(_,R,V){var ae=R[0],ve=R[1],we=R[2],Ee=R[3],Ke=R[4],vt=R[5],Mt=R[6],_t=R[7],Yt=R[8],ar=R[9],er=R[10],br=R[11],Br=R[12],cn=R[13],nn=R[14],Ln=R[15],yn=V[0],Cn=V[1],kn=V[2],Yn=V[3];return _[0]=yn*ae+Cn*Ke+kn*Yt+Yn*Br,_[1]=yn*ve+Cn*vt+kn*ar+Yn*cn,_[2]=yn*we+Cn*Mt+kn*er+Yn*nn,_[3]=yn*Ee+Cn*_t+kn*br+Yn*Ln,yn=V[4],Cn=V[5],kn=V[6],Yn=V[7],_[4]=yn*ae+Cn*Ke+kn*Yt+Yn*Br,_[5]=yn*ve+Cn*vt+kn*ar+Yn*cn,_[6]=yn*we+Cn*Mt+kn*er+Yn*nn,_[7]=yn*Ee+Cn*_t+kn*br+Yn*Ln,yn=V[8],Cn=V[9],kn=V[10],Yn=V[11],_[8]=yn*ae+Cn*Ke+kn*Yt+Yn*Br,_[9]=yn*ve+Cn*vt+kn*ar+Yn*cn,_[10]=yn*we+Cn*Mt+kn*er+Yn*nn,_[11]=yn*Ee+Cn*_t+kn*br+Yn*Ln,yn=V[12],Cn=V[13],kn=V[14],Yn=V[15],_[12]=yn*ae+Cn*Ke+kn*Yt+Yn*Br,_[13]=yn*ve+Cn*vt+kn*ar+Yn*cn,_[14]=yn*we+Cn*Mt+kn*er+Yn*nn,_[15]=yn*Ee+Cn*_t+kn*br+Yn*Ln,_}function ji(_,R,V){var ae=V[0],ve=V[1],we=V[2],Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn;return R===_?(_[12]=R[0]*ae+R[4]*ve+R[8]*we+R[12],_[13]=R[1]*ae+R[5]*ve+R[9]*we+R[13],_[14]=R[2]*ae+R[6]*ve+R[10]*we+R[14],_[15]=R[3]*ae+R[7]*ve+R[11]*we+R[15]):(Ee=R[0],Ke=R[1],vt=R[2],Mt=R[3],_t=R[4],Yt=R[5],ar=R[6],er=R[7],br=R[8],Br=R[9],cn=R[10],nn=R[11],_[0]=Ee,_[1]=Ke,_[2]=vt,_[3]=Mt,_[4]=_t,_[5]=Yt,_[6]=ar,_[7]=er,_[8]=br,_[9]=Br,_[10]=cn,_[11]=nn,_[12]=Ee*ae+_t*ve+br*we+R[12],_[13]=Ke*ae+Yt*ve+Br*we+R[13],_[14]=vt*ae+ar*ve+cn*we+R[14],_[15]=Mt*ae+er*ve+nn*we+R[15]),_}function ms(_,R,V){var ae=V[0],ve=V[1],we=V[2];return _[0]=R[0]*ae,_[1]=R[1]*ae,_[2]=R[2]*ae,_[3]=R[3]*ae,_[4]=R[4]*ve,_[5]=R[5]*ve,_[6]=R[6]*ve,_[7]=R[7]*ve,_[8]=R[8]*we,_[9]=R[9]*we,_[10]=R[10]*we,_[11]=R[11]*we,_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15],_}function xs(_,R,V){var ae=Math.sin(V),ve=Math.cos(V),we=R[4],Ee=R[5],Ke=R[6],vt=R[7],Mt=R[8],_t=R[9],Yt=R[10],ar=R[11];return R!==_&&(_[0]=R[0],_[1]=R[1],_[2]=R[2],_[3]=R[3],_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15]),_[4]=we*ve+Mt*ae,_[5]=Ee*ve+_t*ae,_[6]=Ke*ve+Yt*ae,_[7]=vt*ve+ar*ae,_[8]=Mt*ve-we*ae,_[9]=_t*ve-Ee*ae,_[10]=Yt*ve-Ke*ae,_[11]=ar*ve-vt*ae,_}function Vh(_,R,V){var ae=Math.sin(V),ve=Math.cos(V),we=R[0],Ee=R[1],Ke=R[2],vt=R[3],Mt=R[4],_t=R[5],Yt=R[6],ar=R[7];return R!==_&&(_[8]=R[8],_[9]=R[9],_[10]=R[10],_[11]=R[11],_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15]),_[0]=we*ve+Mt*ae,_[1]=Ee*ve+_t*ae,_[2]=Ke*ve+Yt*ae,_[3]=vt*ve+ar*ae,_[4]=Mt*ve-we*ae,_[5]=_t*ve-Ee*ae,_[6]=Yt*ve-Ke*ae,_[7]=ar*ve-vt*ae,_}function Gv(_,R,V,ae,ve){var we=1/Math.tan(R/2),Ee;return _[0]=we/V,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=we,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,ve!=null&&ve!==1/0?(Ee=1/(ae-ve),_[10]=(ve+ae)*Ee,_[14]=2*ve*ae*Ee):(_[10]=-1,_[14]=-2*ae),_}function Y0(_,R,V,ae,ve,we,Ee){var Ke=1/(R-V),vt=1/(ae-ve),Mt=1/(we-Ee);return _[0]=-2*Ke,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*vt,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*Mt,_[11]=0,_[12]=(R+V)*Ke,_[13]=(ve+ae)*vt,_[14]=(Ee+we)*Mt,_[15]=1,_}var X0=yc;function dh(){var _=new To(3);return To!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function Z0(_){var R=new To(3);return R[0]=_[0],R[1]=_[1],R[2]=_[2],R}function Hh(_,R,V){return _[0]=R[0]+V[0],_[1]=R[1]+V[1],_[2]=R[2]+V[2],_}function K0(_,R,V){return _[0]=R[0]-V[0],_[1]=R[1]-V[1],_[2]=R[2]-V[2],_}function J0(_,R,V){return _[0]=R[0]*V,_[1]=R[1]*V,_[2]=R[2]*V,_}function Wv(_,R){var V=R[0],ae=R[1],ve=R[2],we=V*V+ae*ae+ve*ve;return we>0&&(we=1/Math.sqrt(we)),_[0]=R[0]*we,_[1]=R[1]*we,_[2]=R[2]*we,_}function jw(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]}function Yw(_,R,V){var ae=R[0],ve=R[1],we=R[2],Ee=V[0],Ke=V[1],vt=V[2];return _[0]=ve*vt-we*Ke,_[1]=we*Ee-ae*vt,_[2]=ae*Ke-ve*Ee,_}function Xw(_,R,V){var ae=R[0],ve=R[1],we=R[2];return _[0]=ae*V[0]+ve*V[3]+we*V[6],_[1]=ae*V[1]+ve*V[4]+we*V[7],_[2]=ae*V[2]+ve*V[5]+we*V[8],_}var Zw=K0;(function(){var _=dh();return function(R,V,ae,ve,we,Ee){var Ke,vt;for(V||(V=3),ae||(ae=0),ve?vt=Math.min(ve*V+ae,R.length):vt=R.length,Ke=ae;Ke<vt;Ke+=V)_[0]=R[Ke],_[1]=R[Ke+1],_[2]=R[Ke+2],we(_,_,Ee),R[Ke]=_[0],R[Ke+1]=_[1],R[Ke+2]=_[2];return R}})();function Kw(){var _=new To(4);return To!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0,_[3]=0),_}function Jw(_,R,V){return _[0]=R[0]*V,_[1]=R[1]*V,_[2]=R[2]*V,_[3]=R[3]*V,_}function Qw(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]+_[3]*R[3]}function np(_,R,V){var ae=R[0],ve=R[1],we=R[2],Ee=R[3];return _[0]=V[0]*ae+V[4]*ve+V[8]*we+V[12]*Ee,_[1]=V[1]*ae+V[5]*ve+V[9]*we+V[13]*Ee,_[2]=V[2]*ae+V[6]*ve+V[10]*we+V[14]*Ee,_[3]=V[3]*ae+V[7]*ve+V[11]*we+V[15]*Ee,_}(function(){var _=Kw();return function(R,V,ae,ve,we,Ee){var Ke,vt;for(V||(V=4),ae||(ae=0),ve?vt=Math.min(ve*V+ae,R.length):vt=R.length,Ke=ae;Ke<vt;Ke+=V)_[0]=R[Ke],_[1]=R[Ke+1],_[2]=R[Ke+2],_[3]=R[Ke+3],we(_,_,Ee),R[Ke]=_[0],R[Ke+1]=_[1],R[Ke+2]=_[2],R[Ke+3]=_[3];return R}})();function $w(){var _=new To(2);return To!=Float32Array&&(_[0]=0,_[1]=0),_}function qw(_){var R=_[0],V=_[1];return R*R+V*V}var e2=qw;(function(){var _=$w();return function(R,V,ae,ve,we,Ee){var Ke,vt;for(V||(V=2),ae||(ae=0),ve?vt=Math.min(ve*V+ae,R.length):vt=R.length,Ke=ae;Ke<vt;Ke+=V)_[0]=R[Ke],_[1]=R[Ke+1],we(_,_,Ee),R[Ke]=_[0],R[Ke+1]=_[1];return R}})();var t2=function(_){function R(V){_.call(this,V,dc)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new mi(ae)},R.prototype.queryRadius=function(ae){var ve=ae;return ns("circle-radius",this,ve)+ns("circle-stroke-width",this,ve)+dl(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,vt,Mt,_t){for(var Yt=Tu(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),vt.angle,Mt),ar=this.paint.get("circle-radius").evaluate(ve,we),er=this.paint.get("circle-stroke-width").evaluate(ve,we),br=ar+er,Br=this.paint.get("circle-pitch-alignment")==="map",cn=Br?Yt:r2(Yt,_t),nn=Br?br*Mt:br,Ln=0,yn=Ee;Ln<yn.length;Ln+=1)for(var Cn=yn[Ln],kn=0,Yn=Cn;kn<Yn.length;kn+=1){var aa=Yn[kn],ta=Br?aa:Vm(aa,_t),Ta=nn,pa=np([],[aa.x,aa.y,0,1],_t);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ta*=pa[3]/vt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ta*=vt.cameraToCenterDistance/pa[3]),ei(cn,ta,Ta))return!0}return!1},R}(Ni);function Vm(_,R){var V=np([],[_.x,_.y,0,1],R);return new r(V[0]/V[3],V[1]/V[3])}function r2(_,R){return _.map(function(V){return Vm(V,R)})}var Hm=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(mi);Be("HeatmapBucket",Hm,{omit:["layers"]});function Q0(_,R,V,ae){var ve=R.width,we=R.height;if(!ae)ae=new Uint8Array(ve*we*V);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==ve*we*V)throw new RangeError("mismatched image size");return _.width=ve,_.height=we,_.data=ae,_}function Gm(_,R,V){var ae=R.width,ve=R.height;if(!(ae===_.width&&ve===_.height)){var we=Q0({},{width:ae,height:ve},V);$0(_,we,{x:0,y:0},{x:0,y:0},{width:Math.min(_.width,ae),height:Math.min(_.height,ve)},V),_.width=ae,_.height=ve,_.data=we.data}}function $0(_,R,V,ae,ve,we){if(ve.width===0||ve.height===0)return R;if(ve.width>_.width||ve.height>_.height||V.x>_.width-ve.width||V.y>_.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>R.width||ve.height>R.height||ae.x>R.width-ve.width||ae.y>R.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ee=_.data,Ke=R.data,vt=0;vt<ve.height;vt++)for(var Mt=((V.y+vt)*_.width+V.x)*we,_t=((ae.y+vt)*R.width+ae.x)*we,Yt=0;Yt<ve.width*we;Yt++)Ke[_t+Yt]=Ee[Mt+Yt];return R}var ph=function(R,V){Q0(this,R,1,V)};ph.prototype.resize=function(R){Gm(this,R,1)},ph.prototype.clone=function(){return new ph({width:this.width,height:this.height},new Uint8Array(this.data))},ph.copy=function(R,V,ae,ve,we){$0(R,V,ae,ve,we,1)};var bs=function(R,V){Q0(this,R,4,V)};bs.prototype.resize=function(R){Gm(this,R,4)},bs.prototype.replace=function(R,V){V?this.data.set(R):R instanceof Uint8ClampedArray?this.data=new Uint8Array(R.buffer):this.data=R},bs.prototype.clone=function(){return new bs({width:this.width,height:this.height},new Uint8Array(this.data))},bs.copy=function(R,V,ae,ve,we){$0(R,V,ae,ve,we,4)},Be("AlphaImage",ph),Be("RGBAImage",bs);var n2=new hi({"heatmap-radius":new Pa(Ar.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pa(Ar.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new la(Ar.paint_heatmap["heatmap-intensity"]),"heatmap-color":new io(Ar.paint_heatmap["heatmap-color"]),"heatmap-opacity":new la(Ar.paint_heatmap["heatmap-opacity"])}),a2={paint:n2};function Wm(_){var R={},V=_.resolution||256,ae=_.clips?_.clips.length:1,ve=_.image||new bs({width:V,height:ae}),we=function(Ln,yn,Cn){R[_.evaluationKey]=Cn;var kn=_.expression.evaluate(R);ve.data[Ln+yn+0]=Math.floor(kn.r*255/kn.a),ve.data[Ln+yn+1]=Math.floor(kn.g*255/kn.a),ve.data[Ln+yn+2]=Math.floor(kn.b*255/kn.a),ve.data[Ln+yn+3]=Math.floor(kn.a*255)};if(_.clips)for(var Mt=0,_t=0;Mt<ae;++Mt,_t+=V*4)for(var Yt=0,ar=0;Yt<V;Yt++,ar+=4){var er=Yt/(V-1),br=_.clips[Mt],Br=br.start,cn=br.end,nn=Br*(1-er)+cn*er;we(_t,ar,nn)}else for(var Ee=0,Ke=0;Ee<V;Ee++,Ke+=4){var vt=Ee/(V-1);we(0,Ke,vt)}return ve}var i2=function(_){function R(V){_.call(this,V,a2),this._updateColorRamp()}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new Hm(ae)},R.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Wm({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(Ni),o2=new hi({"hillshade-illumination-direction":new la(Ar.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new la(Ar.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new la(Ar.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new la(Ar.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new la(Ar.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new la(Ar.paint_hillshade["hillshade-accent-color"])}),s2={paint:o2},l2=function(_){function R(V){_.call(this,V,s2)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(Ni),u2=Pi([{name:"a_pos",components:2,type:"Int16"}],4),f2=u2.members,q0=ap,c2=ap;function ap(_,R,V){V=V||2;var ae=R&&R.length,ve=ae?R[0]*V:_.length,we=jm(_,0,ve,V,!0),Ee=[];if(!we||we.next===we.prev)return Ee;var Ke,vt,Mt,_t,Yt,ar,er;if(ae&&(we=g2(_,R,we,V)),_.length>80*V){Ke=Mt=_[0],vt=_t=_[1];for(var br=V;br<ve;br+=V)Yt=_[br],ar=_[br+1],Yt<Ke&&(Ke=Yt),ar<vt&&(vt=ar),Yt>Mt&&(Mt=Yt),ar>_t&&(_t=ar);er=Math.max(Mt-Ke,_t-vt),er=er!==0?1/er:0}return jv(we,Ee,V,Ke,vt,er),Ee}function jm(_,R,V,ae,ve){var we,Ee;if(ve===rg(_,R,V,ae)>0)for(we=R;we<V;we+=ae)Ee=Zm(we,_[we],_[we+1],Ee);else for(we=V-ae;we>=R;we-=ae)Ee=Zm(we,_[we],_[we+1],Ee);return Ee&&ip(Ee,Ee.next)&&(Xv(Ee),Ee=Ee.next),Ee}function mc(_,R){if(!_)return _;R||(R=_);var V=_,ae;do if(ae=!1,!V.steiner&&(ip(V,V.next)||so(V.prev,V,V.next)===0)){if(Xv(V),V=R=V.prev,V===V.next)break;ae=!0}else V=V.next;while(ae||V!==R);return R}function jv(_,R,V,ae,ve,we,Ee){if(_){!Ee&&we&&w2(_,ae,ve,we);for(var Ke=_,vt,Mt;_.prev!==_.next;){if(vt=_.prev,Mt=_.next,we?v2(_,ae,ve,we):h2(_)){R.push(vt.i/V),R.push(_.i/V),R.push(Mt.i/V),Xv(_),_=Mt.next,Ke=Mt.next;continue}if(_=Mt,_===Ke){Ee?Ee===1?(_=d2(mc(_),R,V),jv(_,R,V,ae,ve,we,2)):Ee===2&&p2(_,R,V,ae,ve,we):jv(mc(_),R,V,ae,ve,we,1);break}}}}function h2(_){var R=_.prev,V=_,ae=_.next;if(so(R,V,ae)>=0)return!1;for(var ve=_.next.next;ve!==_.prev;){if(Gh(R.x,R.y,V.x,V.y,ae.x,ae.y,ve.x,ve.y)&&so(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function v2(_,R,V,ae){var ve=_.prev,we=_,Ee=_.next;if(so(ve,we,Ee)>=0)return!1;for(var Ke=ve.x<we.x?ve.x<Ee.x?ve.x:Ee.x:we.x<Ee.x?we.x:Ee.x,vt=ve.y<we.y?ve.y<Ee.y?ve.y:Ee.y:we.y<Ee.y?we.y:Ee.y,Mt=ve.x>we.x?ve.x>Ee.x?ve.x:Ee.x:we.x>Ee.x?we.x:Ee.x,_t=ve.y>we.y?ve.y>Ee.y?ve.y:Ee.y:we.y>Ee.y?we.y:Ee.y,Yt=eg(Ke,vt,R,V,ae),ar=eg(Mt,_t,R,V,ae),er=_.prevZ,br=_.nextZ;er&&er.z>=Yt&&br&&br.z<=ar;){if(er!==_.prev&&er!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,er.x,er.y)&&so(er.prev,er,er.next)>=0||(er=er.prevZ,br!==_.prev&&br!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,br.x,br.y)&&so(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;er&&er.z>=Yt;){if(er!==_.prev&&er!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,er.x,er.y)&&so(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;br&&br.z<=ar;){if(br!==_.prev&&br!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,br.x,br.y)&&so(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function d2(_,R,V){var ae=_;do{var ve=ae.prev,we=ae.next.next;!ip(ve,we)&&Ym(ve,ae,ae.next,we)&&Yv(ve,we)&&Yv(we,ve)&&(R.push(ve.i/V),R.push(ae.i/V),R.push(we.i/V),Xv(ae),Xv(ae.next),ae=_=we),ae=ae.next}while(ae!==_);return mc(ae)}function p2(_,R,V,ae,ve,we){var Ee=_;do{for(var Ke=Ee.next.next;Ke!==Ee.prev;){if(Ee.i!==Ke.i&&S2(Ee,Ke)){var vt=Xm(Ee,Ke);Ee=mc(Ee,Ee.next),vt=mc(vt,vt.next),jv(Ee,R,V,ae,ve,we),jv(vt,R,V,ae,ve,we);return}Ke=Ke.next}Ee=Ee.next}while(Ee!==_)}function g2(_,R,V,ae){var ve=[],we,Ee,Ke,vt,Mt;for(we=0,Ee=R.length;we<Ee;we++)Ke=R[we]*ae,vt=we<Ee-1?R[we+1]*ae:_.length,Mt=jm(_,Ke,vt,ae,!1),Mt===Mt.next&&(Mt.steiner=!0),ve.push(A2(Mt));for(ve.sort(y2),we=0;we<ve.length;we++)m2(ve[we],V),V=mc(V,V.next);return V}function y2(_,R){return _.x-R.x}function m2(_,R){if(R=x2(_,R),R){var V=Xm(R,_);mc(R,R.next),mc(V,V.next)}}function x2(_,R){var V=R,ae=_.x,ve=_.y,we=-1/0,Ee;do{if(ve<=V.y&&ve>=V.next.y&&V.next.y!==V.y){var Ke=V.x+(ve-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Ke<=ae&&Ke>we){if(we=Ke,Ke===ae){if(ve===V.y)return V;if(ve===V.next.y)return V.next}Ee=V.x<V.next.x?V:V.next}}V=V.next}while(V!==R);if(!Ee)return null;if(ae===we)return Ee;var vt=Ee,Mt=Ee.x,_t=Ee.y,Yt=1/0,ar;V=Ee;do ae>=V.x&&V.x>=Mt&&ae!==V.x&&Gh(ve<_t?ae:we,ve,Mt,_t,ve<_t?we:ae,ve,V.x,V.y)&&(ar=Math.abs(ve-V.y)/(ae-V.x),Yv(V,_)&&(ar<Yt||ar===Yt&&(V.x>Ee.x||V.x===Ee.x&&b2(Ee,V)))&&(Ee=V,Yt=ar)),V=V.next;while(V!==vt);return Ee}function b2(_,R){return so(_.prev,_,R.prev)<0&&so(R.next,_,_.next)<0}function w2(_,R,V,ae){var ve=_;do ve.z===null&&(ve.z=eg(ve.x,ve.y,R,V,ae)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==_);ve.prevZ.nextZ=null,ve.prevZ=null,T2(ve)}function T2(_){var R,V,ae,ve,we,Ee,Ke,vt,Mt=1;do{for(V=_,_=null,we=null,Ee=0;V;){for(Ee++,ae=V,Ke=0,R=0;R<Mt&&(Ke++,ae=ae.nextZ,!!ae);R++);for(vt=Mt;Ke>0||vt>0&&ae;)Ke!==0&&(vt===0||!ae||V.z<=ae.z)?(ve=V,V=V.nextZ,Ke--):(ve=ae,ae=ae.nextZ,vt--),we?we.nextZ=ve:_=ve,ve.prevZ=we,we=ve;V=ae}we.nextZ=null,Mt*=2}while(Ee>1);return _}function eg(_,R,V,ae,ve){return _=32767*(_-V)*ve,R=32767*(R-ae)*ve,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,_|R<<1}function A2(_){var R=_,V=_;do(R.x<V.x||R.x===V.x&&R.y<V.y)&&(V=R),R=R.next;while(R!==_);return V}function Gh(_,R,V,ae,ve,we,Ee,Ke){return(ve-Ee)*(R-Ke)-(_-Ee)*(we-Ke)>=0&&(_-Ee)*(ae-Ke)-(V-Ee)*(R-Ke)>=0&&(V-Ee)*(we-Ke)-(ve-Ee)*(ae-Ke)>=0}function S2(_,R){return _.next.i!==R.i&&_.prev.i!==R.i&&!M2(_,R)&&(Yv(_,R)&&Yv(R,_)&&E2(_,R)&&(so(_.prev,_,R.prev)||so(_,R.prev,R))||ip(_,R)&&so(_.prev,_,_.next)>0&&so(R.prev,R,R.next)>0)}function so(_,R,V){return(R.y-_.y)*(V.x-R.x)-(R.x-_.x)*(V.y-R.y)}function ip(_,R){return _.x===R.x&&_.y===R.y}function Ym(_,R,V,ae){var ve=sp(so(_,R,V)),we=sp(so(_,R,ae)),Ee=sp(so(V,ae,_)),Ke=sp(so(V,ae,R));return!!(ve!==we&&Ee!==Ke||ve===0&&op(_,V,R)||we===0&&op(_,ae,R)||Ee===0&&op(V,_,ae)||Ke===0&&op(V,R,ae))}function op(_,R,V){return R.x<=Math.max(_.x,V.x)&&R.x>=Math.min(_.x,V.x)&&R.y<=Math.max(_.y,V.y)&&R.y>=Math.min(_.y,V.y)}function sp(_){return _>0?1:_<0?-1:0}function M2(_,R){var V=_;do{if(V.i!==_.i&&V.next.i!==_.i&&V.i!==R.i&&V.next.i!==R.i&&Ym(V,V.next,_,R))return!0;V=V.next}while(V!==_);return!1}function Yv(_,R){return so(_.prev,_,_.next)<0?so(_,R,_.next)>=0&&so(_,_.prev,R)>=0:so(_,R,_.prev)<0||so(_,_.next,R)<0}function E2(_,R){var V=_,ae=!1,ve=(_.x+R.x)/2,we=(_.y+R.y)/2;do V.y>we!=V.next.y>we&&V.next.y!==V.y&&ve<(V.next.x-V.x)*(we-V.y)/(V.next.y-V.y)+V.x&&(ae=!ae),V=V.next;while(V!==_);return ae}function Xm(_,R){var V=new tg(_.i,_.x,_.y),ae=new tg(R.i,R.x,R.y),ve=_.next,we=R.prev;return _.next=R,R.prev=_,V.next=ve,ve.prev=V,ae.next=V,V.prev=ae,we.next=ae,ae.prev=we,ae}function Zm(_,R,V,ae){var ve=new tg(_,R,V);return ae?(ve.next=ae.next,ve.prev=ae,ae.next.prev=ve,ae.next=ve):(ve.prev=ve,ve.next=ve),ve}function Xv(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function tg(_,R,V){this.i=_,this.x=R,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}ap.deviation=function(_,R,V,ae){var ve=R&&R.length,we=ve?R[0]*V:_.length,Ee=Math.abs(rg(_,0,we,V));if(ve)for(var Ke=0,vt=R.length;Ke<vt;Ke++){var Mt=R[Ke]*V,_t=Ke<vt-1?R[Ke+1]*V:_.length;Ee-=Math.abs(rg(_,Mt,_t,V))}var Yt=0;for(Ke=0;Ke<ae.length;Ke+=3){var ar=ae[Ke]*V,er=ae[Ke+1]*V,br=ae[Ke+2]*V;Yt+=Math.abs((_[ar]-_[br])*(_[er+1]-_[ar+1])-(_[ar]-_[er])*(_[br+1]-_[ar+1]))}return Ee===0&&Yt===0?0:Math.abs((Yt-Ee)/Ee)};function rg(_,R,V,ae){for(var ve=0,we=R,Ee=V-ae;we<V;we+=ae)ve+=(_[Ee]-_[we])*(_[we+1]+_[Ee+1]),Ee=we;return ve}ap.flatten=function(_){for(var R=_[0][0].length,V={vertices:[],holes:[],dimensions:R},ae=0,ve=0;ve<_.length;ve++){for(var we=0;we<_[ve].length;we++)for(var Ee=0;Ee<R;Ee++)V.vertices.push(_[ve][we][Ee]);ve>0&&(ae+=_[ve-1].length,V.holes.push(ae))}return V},q0.default=c2;function C2(_,R,V,ae,ve){Km(_,R,V,ae||_.length-1,ve||L2)}function Km(_,R,V,ae,ve){for(;ae>V;){if(ae-V>600){var we=ae-V+1,Ee=R-V+1,Ke=Math.log(we),vt=.5*Math.exp(2*Ke/3),Mt=.5*Math.sqrt(Ke*vt*(we-vt)/we)*(Ee-we/2<0?-1:1),_t=Math.max(V,Math.floor(R-Ee*vt/we+Mt)),Yt=Math.min(ae,Math.floor(R+(we-Ee)*vt/we+Mt));Km(_,R,_t,Yt,ve)}var ar=_[R],er=V,br=ae;for(Zv(_,V,R),ve(_[ae],ar)>0&&Zv(_,V,ae);er<br;){for(Zv(_,er,br),er++,br--;ve(_[er],ar)<0;)er++;for(;ve(_[br],ar)>0;)br--}ve(_[V],ar)===0?Zv(_,V,br):(br++,Zv(_,br,ae)),br<=R&&(V=br+1),R<=br&&(ae=br-1)}}function Zv(_,R,V){var ae=_[R];_[R]=_[V],_[V]=ae}function L2(_,R){return _<R?-1:_>R?1:0}function ng(_,R){var V=_.length;if(V<=1)return[_];for(var ae=[],ve,we,Ee=0;Ee<V;Ee++){var Ke=B(_[Ee]);Ke!==0&&(_[Ee].area=Math.abs(Ke),we===void 0&&(we=Ke<0),we===Ke<0?(ve&&ae.push(ve),ve=[_[Ee]]):ve.push(_[Ee]))}if(ve&&ae.push(ve),R>1)for(var vt=0;vt<ae.length;vt++)ae[vt].length<=R||(C2(ae[vt],R,1,ae[vt].length-1,P2),ae[vt]=ae[vt].slice(0,R));return ae}function P2(_,R){return R.area-_.area}function ag(_,R,V){for(var ae=V.patternDependencies,ve=!1,we=0,Ee=R;we<Ee.length;we+=1){var Ke=Ee[we],vt=Ke.paint.get(_+"-pattern");vt.isConstant()||(ve=!0);var Mt=vt.constantOr(null);Mt&&(ve=!0,ae[Mt.to]=!0,ae[Mt.from]=!0)}return ve}function ig(_,R,V,ae,ve){for(var we=ve.patternDependencies,Ee=0,Ke=R;Ee<Ke.length;Ee+=1){var vt=Ke[Ee],Mt=vt.paint.get(_+"-pattern"),_t=Mt.value;if(_t.kind!=="constant"){var Yt=_t.evaluate({zoom:ae-1},V,{},ve.availableImages),ar=_t.evaluate({zoom:ae},V,{},ve.availableImages),er=_t.evaluate({zoom:ae+1},V,{},ve.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,ar=ar&&ar.name?ar.name:ar,er=er&&er.name?er.name:er,we[Yt]=!0,we[ar]=!0,we[er]=!0,V.patterns[vt.id]={min:Yt,mid:ar,max:er}}}return V}var _2=500,Au=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Af,this.indexArray=new wu,this.indexArray2=new hh,this.programConfigurations=new da(R.layers,R.zoom),this.segments=new oo,this.segments2=new oo,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Au.prototype.populate=function(R,V,ae){this.hasPattern=ag("fill",this.layers,V);for(var ve=this.layers[0].layout.get("fill-sort-key"),we=[],Ee=0,Ke=R;Ee<Ke.length;Ee+=1){var vt=Ke[Ee],Mt=vt.feature,_t=vt.id,Yt=vt.index,ar=vt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,br=Si(Mt,er);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),br,ae)){var Br=ve?ve.evaluate(br,{},ae,V.availableImages):void 0,cn={id:_t,properties:Mt.properties,type:Mt.type,sourceLayerIndex:ar,index:Yt,geometry:er?br.geometry:ri(Mt),patterns:{},sortKey:Br};we.push(cn)}}ve&&we.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var nn=0,Ln=we;nn<Ln.length;nn+=1){var yn=Ln[nn],Cn=yn,kn=Cn.geometry,Yn=Cn.index,aa=Cn.sourceLayerIndex;if(this.hasPattern){var ta=ig("fill",this.layers,yn,this.zoom,V);this.patternFeatures.push(ta)}else this.addFeature(yn,kn,Yn,ae,{});var Ta=R[Yn].feature;V.featureIndex.insert(Ta,kn,Yn,aa,this.index)}},Au.prototype.update=function(R,V,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,V,this.stateDependentLayers,ae)},Au.prototype.addFeatures=function(R,V,ae){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Ee=we[ve];this.addFeature(Ee,Ee.geometry,Ee.index,V,ae)}},Au.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Au.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Au.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,f2),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.indexBuffer2=R.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(R),this.uploaded=!0},Au.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Au.prototype.addFeature=function(R,V,ae,ve,we){for(var Ee=0,Ke=ng(V,_2);Ee<Ke.length;Ee+=1){for(var vt=Ke[Ee],Mt=0,_t=0,Yt=vt;_t<Yt.length;_t+=1){var ar=Yt[_t];Mt+=ar.length}for(var er=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray),br=er.vertexLength,Br=[],cn=[],nn=0,Ln=vt;nn<Ln.length;nn+=1){var yn=Ln[nn];if(yn.length!==0){yn!==vt[0]&&cn.push(Br.length/2);var Cn=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),kn=Cn.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(kn+yn.length-1,kn),Br.push(yn[0].x),Br.push(yn[0].y);for(var Yn=1;Yn<yn.length;Yn++)this.layoutVertexArray.emplaceBack(yn[Yn].x,yn[Yn].y),this.indexArray2.emplaceBack(kn+Yn-1,kn+Yn),Br.push(yn[Yn].x),Br.push(yn[Yn].y);Cn.vertexLength+=yn.length,Cn.primitiveLength+=yn.length}}for(var aa=q0(Br,cn),ta=0;ta<aa.length;ta+=3)this.indexArray.emplaceBack(br+aa[ta],br+aa[ta+1],br+aa[ta+2]);er.vertexLength+=Mt,er.primitiveLength+=aa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,we,ve)},Be("FillBucket",Au,{omit:["layers","patternFeatures"]});var R2=new hi({"fill-sort-key":new Pa(Ar.layout_fill["fill-sort-key"])}),D2=new hi({"fill-antialias":new la(Ar.paint_fill["fill-antialias"]),"fill-opacity":new Pa(Ar.paint_fill["fill-opacity"]),"fill-color":new Pa(Ar.paint_fill["fill-color"]),"fill-outline-color":new Pa(Ar.paint_fill["fill-outline-color"]),"fill-translate":new la(Ar.paint_fill["fill-translate"]),"fill-translate-anchor":new la(Ar.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ro(Ar.paint_fill["fill-pattern"])}),I2={paint:D2,layout:R2},k2=function(_){function R(V){_.call(this,V,I2)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ae,ve){_.prototype.recalculate.call(this,ae,ve);var we=this.paint._values["fill-outline-color"];we.value.kind==="constant"&&we.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(ae){return new Au(ae)},R.prototype.queryRadius=function(){return dl(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,vt,Mt){var _t=Tu(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),vt.angle,Mt);return Bi(_t,Ee)},R.prototype.isTileClipped=function(){return!0},R}(Ni),z2=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),O2=z2.members,Jm=Wh;function Wh(_,R,V,ae,ve){this.properties={},this.extent=V,this.type=0,this._pbf=_,this._geometry=-1,this._keys=ae,this._values=ve,_.readFields(F2,this,R)}function F2(_,R,V){_==1?R.id=V.readVarint():_==2?N2(V,R):_==3?R.type=V.readVarint():_==4&&(R._geometry=V.pos)}function N2(_,R){for(var V=_.readVarint()+_.pos;_.pos<V;){var ae=R._keys[_.readVarint()],ve=R._values[_.readVarint()];R.properties[ae]=ve}}Wh.types=["Unknown","Point","LineString","Polygon"],Wh.prototype.loadGeometry=function(){var _=this._pbf;_.pos=this._geometry;for(var R=_.readVarint()+_.pos,V=1,ae=0,ve=0,we=0,Ee=[],Ke;_.pos<R;){if(ae<=0){var vt=_.readVarint();V=vt&7,ae=vt>>3}if(ae--,V===1||V===2)ve+=_.readSVarint(),we+=_.readSVarint(),V===1&&(Ke&&Ee.push(Ke),Ke=[]),Ke.push(new r(ve,we));else if(V===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+V)}return Ke&&Ee.push(Ke),Ee},Wh.prototype.bbox=function(){var _=this._pbf;_.pos=this._geometry;for(var R=_.readVarint()+_.pos,V=1,ae=0,ve=0,we=0,Ee=1/0,Ke=-1/0,vt=1/0,Mt=-1/0;_.pos<R;){if(ae<=0){var _t=_.readVarint();V=_t&7,ae=_t>>3}if(ae--,V===1||V===2)ve+=_.readSVarint(),we+=_.readSVarint(),ve<Ee&&(Ee=ve),ve>Ke&&(Ke=ve),we<vt&&(vt=we),we>Mt&&(Mt=we);else if(V!==7)throw new Error("unknown command "+V)}return[Ee,vt,Ke,Mt]},Wh.prototype.toGeoJSON=function(_,R,V){var ae=this.extent*Math.pow(2,V),ve=this.extent*_,we=this.extent*R,Ee=this.loadGeometry(),Ke=Wh.types[this.type],vt,Mt;function _t(er){for(var br=0;br<er.length;br++){var Br=er[br],cn=180-(Br.y+we)*360/ae;er[br]=[(Br.x+ve)*360/ae-180,360/Math.PI*Math.atan(Math.exp(cn*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(vt=0;vt<Ee.length;vt++)Yt[vt]=Ee[vt][0];Ee=Yt,_t(Ee);break;case 2:for(vt=0;vt<Ee.length;vt++)_t(Ee[vt]);break;case 3:for(Ee=B2(Ee),vt=0;vt<Ee.length;vt++)for(Mt=0;Mt<Ee[vt].length;Mt++)_t(Ee[vt][Mt]);break}Ee.length===1?Ee=Ee[0]:Ke="Multi"+Ke;var ar={type:"Feature",geometry:{type:Ke,coordinates:Ee},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function B2(_){var R=_.length;if(R<=1)return[_];for(var V=[],ae,ve,we=0;we<R;we++){var Ee=U2(_[we]);Ee!==0&&(ve===void 0&&(ve=Ee<0),ve===Ee<0?(ae&&V.push(ae),ae=[_[we]]):ae.push(_[we]))}return ae&&V.push(ae),V}function U2(_){for(var R=0,V=0,ae=_.length,ve=ae-1,we,Ee;V<ae;ve=V++)we=_[V],Ee=_[ve],R+=(Ee.x-we.x)*(we.y+Ee.y);return R}var Qm=$m;function $m(_,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(V2,this,R),this.length=this._features.length}function V2(_,R,V){_===15?R.version=V.readVarint():_===1?R.name=V.readString():_===5?R.extent=V.readVarint():_===2?R._features.push(V.pos):_===3?R._keys.push(V.readString()):_===4&&R._values.push(H2(V))}function H2(_){for(var R=null,V=_.readVarint()+_.pos;_.pos<V;){var ae=_.readVarint()>>3;R=ae===1?_.readString():ae===2?_.readFloat():ae===3?_.readDouble():ae===4?_.readVarint64():ae===5?_.readVarint():ae===6?_.readSVarint():ae===7?_.readBoolean():null}return R}$m.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var R=this._pbf.readVarint()+this._pbf.pos;return new Jm(this._pbf,R,this.extent,this._keys,this._values)};var G2=W2;function W2(_,R){this.layers=_.readFields(j2,{},R)}function j2(_,R,V){if(_===3){var ae=new Qm(V,V.readVarint()+V.pos);ae.length&&(R[ae.name]=ae)}}var Y2=G2,X2=Jm,Z2=Qm,jh={VectorTile:Y2,VectorTileFeature:X2,VectorTileLayer:Z2},K2=jh.VectorTileFeature.types,J2=500,og=Math.pow(2,13);function Kv(_,R,V,ae,ve,we,Ee,Ke){_.emplaceBack(R,V,Math.floor(ae*og)*2+Ee,ve*og*2,we*og*2,Math.round(Ke))}var Su=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Ku,this.indexArray=new wu,this.programConfigurations=new da(R.layers,R.zoom),this.segments=new oo,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Su.prototype.populate=function(R,V,ae){this.features=[],this.hasPattern=ag("fill-extrusion",this.layers,V);for(var ve=0,we=R;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee.feature,vt=Ee.id,Mt=Ee.index,_t=Ee.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,ar=Si(Ke,Yt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),ar,ae)){var er={id:vt,sourceLayerIndex:_t,index:Mt,geometry:Yt?ar.geometry:ri(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};this.hasPattern?this.features.push(ig("fill-extrusion",this.layers,er,this.zoom,V)):this.addFeature(er,er.geometry,Mt,ae,{}),V.featureIndex.insert(Ke,er.geometry,Mt,_t,this.index,!0)}}},Su.prototype.addFeatures=function(R,V,ae){for(var ve=0,we=this.features;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee.geometry;this.addFeature(Ee,Ke,Ee.index,V,ae)}},Su.prototype.update=function(R,V,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,V,this.stateDependentLayers,ae)},Su.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Su.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Su.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,O2),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},Su.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Su.prototype.addFeature=function(R,V,ae,ve,we){for(var Ee=0,Ke=ng(V,J2);Ee<Ke.length;Ee+=1){for(var vt=Ke[Ee],Mt=0,_t=0,Yt=vt;_t<Yt.length;_t+=1){var ar=Yt[_t];Mt+=ar.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Br=vt;br<Br.length;br+=1){var cn=Br[br];if(cn.length!==0&&!$2(cn))for(var nn=0,Ln=0;Ln<cn.length;Ln++){var yn=cn[Ln];if(Ln>=1){var Cn=cn[Ln-1];if(!Q2(yn,Cn)){er.vertexLength+4>oo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=yn.sub(Cn)._perp()._unit(),Yn=Cn.dist(yn);nn+Yn>32768&&(nn=0),Kv(this.layoutVertexArray,yn.x,yn.y,kn.x,kn.y,0,0,nn),Kv(this.layoutVertexArray,yn.x,yn.y,kn.x,kn.y,0,1,nn),nn+=Yn,Kv(this.layoutVertexArray,Cn.x,Cn.y,kn.x,kn.y,0,0,nn),Kv(this.layoutVertexArray,Cn.x,Cn.y,kn.x,kn.y,0,1,nn);var aa=er.vertexLength;this.indexArray.emplaceBack(aa,aa+2,aa+1),this.indexArray.emplaceBack(aa+1,aa+2,aa+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+Mt>oo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray)),K2[R.type]==="Polygon"){for(var ta=[],Ta=[],pa=er.vertexLength,ba=0,Va=vt;ba<Va.length;ba+=1){var Aa=Va[ba];if(Aa.length!==0){Aa!==vt[0]&&Ta.push(ta.length/2);for(var La=0;La<Aa.length;La++){var Ya=Aa[La];Kv(this.layoutVertexArray,Ya.x,Ya.y,0,0,1,1,0),ta.push(Ya.x),ta.push(Ya.y)}}}for(var Ba=q0(ta,Ta),li=0;li<Ba.length;li+=3)this.indexArray.emplaceBack(pa+Ba[li],pa+Ba[li+2],pa+Ba[li+1]);er.primitiveLength+=Ba.length/3,er.vertexLength+=Mt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,we,ve)},Be("FillExtrusionBucket",Su,{omit:["layers","features"]});function Q2(_,R){return _.x===R.x&&(_.x<0||_.x>Ea)||_.y===R.y&&(_.y<0||_.y>Ea)}function $2(_){return _.every(function(R){return R.x<0})||_.every(function(R){return R.x>Ea})||_.every(function(R){return R.y<0})||_.every(function(R){return R.y>Ea})}var q2=new hi({"fill-extrusion-opacity":new la(Ar["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pa(Ar["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new la(Ar["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new la(Ar["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ro(Ar["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pa(Ar["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pa(Ar["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new la(Ar["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),e4={paint:q2},t4=function(_){function R(V){_.call(this,V,e4)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new Su(ae)},R.prototype.queryRadius=function(){return dl(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,vt,Mt,_t){var Yt=Tu(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),vt.angle,Mt),ar=this.paint.get("fill-extrusion-height").evaluate(ve,we),er=this.paint.get("fill-extrusion-base").evaluate(ve,we),br=a4(Yt,_t,vt,0),Br=n4(Ee,er,ar,_t),cn=Br[0],nn=Br[1];return r4(cn,nn,br)},R}(Ni);function Jv(_,R){return _.x*R.x+_.y*R.y}function qm(_,R){if(_.length===1){for(var V=0,ae=R[V++],ve;!ve||ae.equals(ve);)if(ve=R[V++],!ve)return 1/0;for(;V<R.length;V++){var we=R[V],Ee=_[0],Ke=ve.sub(ae),vt=we.sub(ae),Mt=Ee.sub(ae),_t=Jv(Ke,Ke),Yt=Jv(Ke,vt),ar=Jv(vt,vt),er=Jv(Mt,Ke),br=Jv(Mt,vt),Br=_t*ar-Yt*Yt,cn=(ar*er-Yt*br)/Br,nn=(_t*br-Yt*er)/Br,Ln=1-cn-nn,yn=ae.z*Ln+ve.z*cn+we.z*nn;if(isFinite(yn))return yn}return 1/0}else{for(var Cn=1/0,kn=0,Yn=R;kn<Yn.length;kn+=1){var aa=Yn[kn];Cn=Math.min(Cn,aa.z)}return Cn}}function r4(_,R,V){var ae=1/0;Bi(V,R)&&(ae=qm(V,R[0]));for(var ve=0;ve<R.length;ve++)for(var we=R[ve],Ee=_[ve],Ke=0;Ke<we.length-1;Ke++){var vt=we[Ke],Mt=we[Ke+1],_t=Ee[Ke],Yt=Ee[Ke+1],ar=[vt,Mt,Yt,_t,vt];Wa(V,ar)&&(ae=Math.min(ae,qm(V,ar)))}return ae===1/0?!1:ae}function n4(_,R,V,ae){for(var ve=[],we=[],Ee=ae[8]*R,Ke=ae[9]*R,vt=ae[10]*R,Mt=ae[11]*R,_t=ae[8]*V,Yt=ae[9]*V,ar=ae[10]*V,er=ae[11]*V,br=0,Br=_;br<Br.length;br+=1){for(var cn=Br[br],nn=[],Ln=[],yn=0,Cn=cn;yn<Cn.length;yn+=1){var kn=Cn[yn],Yn=kn.x,aa=kn.y,ta=ae[0]*Yn+ae[4]*aa+ae[12],Ta=ae[1]*Yn+ae[5]*aa+ae[13],pa=ae[2]*Yn+ae[6]*aa+ae[14],ba=ae[3]*Yn+ae[7]*aa+ae[15],Va=ta+Ee,Aa=Ta+Ke,La=pa+vt,Ya=ba+Mt,Ba=ta+_t,li=Ta+Yt,bi=pa+ar,ui=ba+er,fi=new r(Va/Ya,Aa/Ya);fi.z=La/Ya,nn.push(fi);var ni=new r(Ba/ui,li/ui);ni.z=bi/ui,Ln.push(ni)}ve.push(nn),we.push(Ln)}return[ve,we]}function a4(_,R,V,ae){for(var ve=[],we=0,Ee=_;we<Ee.length;we+=1){var Ke=Ee[we],vt=[Ke.x,Ke.y,ae,1];np(vt,vt,R),ve.push(new r(vt[0]/vt[3],vt[1]/vt[3]))}return ve}var i4=Pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),o4=i4.members,s4=Pi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),l4=s4.members,u4=jh.VectorTileFeature.types,e1=63,f4=Math.cos(75/2*(Math.PI/180)),c4=15,h4=20,v4=15,t1=1/2,r1=Math.pow(2,v4-1)/t1,as=function(R){var V=this;this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){V.gradients[ae.id]={}}),this.layoutVertexArray=new uc,this.layoutVertexArray2=new fc,this.indexArray=new wu,this.programConfigurations=new da(R.layers,R.zoom),this.segments=new oo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};as.prototype.populate=function(R,V,ae){this.hasPattern=ag("line",this.layers,V);for(var ve=this.layers[0].layout.get("line-sort-key"),we=[],Ee=0,Ke=R;Ee<Ke.length;Ee+=1){var vt=Ke[Ee],Mt=vt.feature,_t=vt.id,Yt=vt.index,ar=vt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,br=Si(Mt,er);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),br,ae)){var Br=ve?ve.evaluate(br,{},ae):void 0,cn={id:_t,properties:Mt.properties,type:Mt.type,sourceLayerIndex:ar,index:Yt,geometry:er?br.geometry:ri(Mt),patterns:{},sortKey:Br};we.push(cn)}}ve&&we.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var nn=0,Ln=we;nn<Ln.length;nn+=1){var yn=Ln[nn],Cn=yn,kn=Cn.geometry,Yn=Cn.index,aa=Cn.sourceLayerIndex;if(this.hasPattern){var ta=ig("line",this.layers,yn,this.zoom,V);this.patternFeatures.push(ta)}else this.addFeature(yn,kn,Yn,ae,{});var Ta=R[Yn].feature;V.featureIndex.insert(Ta,kn,Yn,aa,this.index)}},as.prototype.update=function(R,V,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,V,this.stateDependentLayers,ae)},as.prototype.addFeatures=function(R,V,ae){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Ee=we[ve];this.addFeature(Ee,Ee.geometry,Ee.index,V,ae)}},as.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=function(R){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=R.createVertexBuffer(this.layoutVertexArray2,l4)),this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,o4),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},as.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},as.prototype.lineFeatureClips=function(R){if(R.properties&&R.properties.hasOwnProperty("mapbox_clip_start")&&R.properties.hasOwnProperty("mapbox_clip_end")){var V=+R.properties.mapbox_clip_start,ae=+R.properties.mapbox_clip_end;return{start:V,end:ae}}},as.prototype.addFeature=function(R,V,ae,ve,we){var Ee=this.layers[0].layout,Ke=Ee.get("line-join").evaluate(R,{}),vt=Ee.get("line-cap"),Mt=Ee.get("line-miter-limit"),_t=Ee.get("line-round-limit");this.lineClips=this.lineFeatureClips(R);for(var Yt=0,ar=V;Yt<ar.length;Yt+=1){var er=ar[Yt];this.addLine(er,R,Ke,vt,Mt,_t)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,we,ve)},as.prototype.addLine=function(R,V,ae,ve,we,Ee){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ke=0;Ke<R.length-1;Ke++)this.totalDistance+=R[Ke].dist(R[Ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var vt=u4[V.type]==="Polygon",Mt=R.length;Mt>=2&&R[Mt-1].equals(R[Mt-2]);)Mt--;for(var _t=0;_t<Mt-1&&R[_t].equals(R[_t+1]);)_t++;if(!(Mt<(vt?3:2))){ae==="bevel"&&(we=1.05);var Yt=this.overscaling<=16?c4*Ea/(512*this.overscaling):0,ar=this.segments.prepareSegment(Mt*10,this.layoutVertexArray,this.indexArray),er,br=void 0,Br=void 0,cn=void 0,nn=void 0;this.e1=this.e2=-1,vt&&(er=R[Mt-2],nn=R[_t].sub(er)._unit()._perp());for(var Ln=_t;Ln<Mt;Ln++)if(Br=Ln===Mt-1?vt?R[_t+1]:void 0:R[Ln+1],!(Br&&R[Ln].equals(Br))){nn&&(cn=nn),er&&(br=er),er=R[Ln],nn=Br?Br.sub(er)._unit()._perp():cn,cn=cn||nn;var yn=cn.add(nn);(yn.x!==0||yn.y!==0)&&yn._unit();var Cn=cn.x*nn.x+cn.y*nn.y,kn=yn.x*nn.x+yn.y*nn.y,Yn=kn!==0?1/kn:1/0,aa=2*Math.sqrt(2-2*kn),ta=kn<f4&&br&&Br,Ta=cn.x*nn.y-cn.y*nn.x>0;if(ta&&Ln>_t){var pa=er.dist(br);if(pa>2*Yt){var ba=er.sub(er.sub(br)._mult(Yt/pa)._round());this.updateDistance(br,ba),this.addCurrentVertex(ba,cn,0,0,ar),br=ba}}var Va=br&&Br,Aa=Va?ae:vt?"butt":ve;if(Va&&Aa==="round"&&(Yn<Ee?Aa="miter":Yn<=2&&(Aa="fakeround")),Aa==="miter"&&Yn>we&&(Aa="bevel"),Aa==="bevel"&&(Yn>2&&(Aa="flipbevel"),Yn<we&&(Aa="miter")),br&&this.updateDistance(br,er),Aa==="miter")yn._mult(Yn),this.addCurrentVertex(er,yn,0,0,ar);else if(Aa==="flipbevel"){if(Yn>100)yn=nn.mult(-1);else{var La=Yn*cn.add(nn).mag()/cn.sub(nn).mag();yn._perp()._mult(La*(Ta?-1:1))}this.addCurrentVertex(er,yn,0,0,ar),this.addCurrentVertex(er,yn.mult(-1),0,0,ar)}else if(Aa==="bevel"||Aa==="fakeround"){var Ya=-Math.sqrt(Yn*Yn-1),Ba=Ta?Ya:0,li=Ta?0:Ya;if(br&&this.addCurrentVertex(er,cn,Ba,li,ar),Aa==="fakeround")for(var bi=Math.round(aa*180/Math.PI/h4),ui=1;ui<bi;ui++){var fi=ui/bi;if(fi!==.5){var ni=fi-.5,Mi=1.0904+Cn*(-3.2452+Cn*(3.55645-Cn*1.43519)),Ci=.848013+Cn*(-1.06021+Cn*.215638);fi=fi+fi*ni*(fi-1)*(Mi*ni*ni+Ci)}var Ui=nn.sub(cn)._mult(fi)._add(cn)._unit()._mult(Ta?-1:1);this.addHalfVertex(er,Ui.x,Ui.y,!1,Ta,0,ar)}Br&&this.addCurrentVertex(er,nn,-Ba,-li,ar)}else if(Aa==="butt")this.addCurrentVertex(er,yn,0,0,ar);else if(Aa==="square"){var Yi=br?1:-1;this.addCurrentVertex(er,yn,Yi,Yi,ar)}else Aa==="round"&&(br&&(this.addCurrentVertex(er,cn,0,0,ar),this.addCurrentVertex(er,cn,1,1,ar,!0)),Br&&(this.addCurrentVertex(er,nn,-1,-1,ar,!0),this.addCurrentVertex(er,nn,0,0,ar)));if(ta&&Ln<Mt-1){var So=er.dist(Br);if(So>2*Yt){var fo=er.add(Br.sub(er)._mult(Yt/So)._round());this.updateDistance(er,fo),this.addCurrentVertex(fo,nn,0,0,ar),er=fo}}}}},as.prototype.addCurrentVertex=function(R,V,ae,ve,we,Ee){Ee===void 0&&(Ee=!1);var Ke=V.x+V.y*ae,vt=V.y-V.x*ae,Mt=-V.x+V.y*ve,_t=-V.y-V.x*ve;this.addHalfVertex(R,Ke,vt,Ee,!1,ae,we),this.addHalfVertex(R,Mt,_t,Ee,!0,-ve,we),this.distance>r1/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(R,V,ae,ve,we,Ee))},as.prototype.addHalfVertex=function(R,V,ae,ve,we,Ee,Ke){var vt=R.x,Mt=R.y,_t=this.lineClips?this.scaledDistance*(r1-1):this.scaledDistance,Yt=_t*t1;if(this.layoutVertexArray.emplaceBack((vt<<1)+(ve?1:0),(Mt<<1)+(we?1:0),Math.round(e1*V)+128,Math.round(e1*ae)+128,(Ee===0?0:Ee<0?-1:1)+1|(Yt&63)<<2,Yt>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,er=this.lineClips.end-this.lineClips.start,br=ar/er;this.layoutVertexArray2.emplaceBack(br,this.lineClipsArray.length)}var Br=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Br),Ke.primitiveLength++),we?this.e2=Br:this.e1=Br},as.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},as.prototype.updateDistance=function(R,V){this.distance+=R.dist(V),this.updateScaledDistance()},Be("LineBucket",as,{omit:["layers","patternFeatures"]});var d4=new hi({"line-cap":new la(Ar.layout_line["line-cap"]),"line-join":new Pa(Ar.layout_line["line-join"]),"line-miter-limit":new la(Ar.layout_line["line-miter-limit"]),"line-round-limit":new la(Ar.layout_line["line-round-limit"]),"line-sort-key":new Pa(Ar.layout_line["line-sort-key"])}),p4=new hi({"line-opacity":new Pa(Ar.paint_line["line-opacity"]),"line-color":new Pa(Ar.paint_line["line-color"]),"line-translate":new la(Ar.paint_line["line-translate"]),"line-translate-anchor":new la(Ar.paint_line["line-translate-anchor"]),"line-width":new Pa(Ar.paint_line["line-width"]),"line-gap-width":new Pa(Ar.paint_line["line-gap-width"]),"line-offset":new Pa(Ar.paint_line["line-offset"]),"line-blur":new Pa(Ar.paint_line["line-blur"]),"line-dasharray":new Fo(Ar.paint_line["line-dasharray"]),"line-pattern":new Ro(Ar.paint_line["line-pattern"]),"line-gradient":new io(Ar.paint_line["line-gradient"])}),n1={paint:p4,layout:d4},g4=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ae,ve){return ve=new Ma(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),_.prototype.possiblyEvaluate.call(this,ae,ve)},R.prototype.evaluate=function(ae,ve,we,Ee){return ve=b({},ve,{zoom:Math.floor(ve.zoom)}),_.prototype.evaluate.call(this,ae,ve,we,Ee)},R}(Pa),a1=new g4(n1.paint.properties["line-width"].specification);a1.useIntegerZoom=!0;var y4=function(_){function R(V){_.call(this,V,n1),this.gradientVersion=0}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var ve=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ve._styleExpression.expression instanceof Ko,this.gradientVersion=(this.gradientVersion+1)%f}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(ae,ve){_.prototype.recalculate.call(this,ae,ve),this.paint._values["line-floorwidth"]=a1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},R.prototype.createBucket=function(ae){return new as(ae)},R.prototype.queryRadius=function(ae){var ve=ae,we=i1(ns("line-width",this,ve),ns("line-gap-width",this,ve)),Ee=ns("line-offset",this,ve);return we/2+Math.abs(Ee)+dl(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,vt,Mt){var _t=Tu(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),vt.angle,Mt),Yt=Mt/2*i1(this.paint.get("line-width").evaluate(ve,we),this.paint.get("line-gap-width").evaluate(ve,we)),ar=this.paint.get("line-offset").evaluate(ve,we);return ar&&(Ee=m4(Ee,ar*Mt)),yo(_t,Ee,Yt)},R.prototype.isTileClipped=function(){return!0},R}(Ni);function i1(_,R){return R>0?R+2*_:_}function m4(_,R){for(var V=[],ae=new r(0,0),ve=0;ve<_.length;ve++){for(var we=_[ve],Ee=[],Ke=0;Ke<we.length;Ke++){var vt=we[Ke-1],Mt=we[Ke],_t=we[Ke+1],Yt=Ke===0?ae:Mt.sub(vt)._unit()._perp(),ar=Ke===we.length-1?ae:_t.sub(Mt)._unit()._perp(),er=Yt._add(ar)._unit(),br=er.x*ar.x+er.y*ar.y;er._mult(1/br),Ee.push(er._mult(R)._add(Mt))}V.push(Ee)}return V}var x4=Pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),b4=Pi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var w4=Pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var o1=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),T4=Pi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Pi([{name:"triangle",components:3,type:"Uint16"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Pi([{type:"Float32",name:"offsetX"}]),Pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function A4(_,R,V){var ae=R.layout.get("text-transform").evaluate(V,{});return ae==="uppercase"?_=_.toLocaleUpperCase():ae==="lowercase"&&(_=_.toLocaleLowerCase()),qn.applyArabicShaping&&(_=qn.applyArabicShaping(_)),_}function S4(_,R,V){return _.sections.forEach(function(ae){ae.text=A4(ae.text,R,V)}),_}function M4(_){var R={},V={},ae=[],ve=0;function we(nn){ae.push(_[nn]),ve++}function Ee(nn,Ln,yn){var Cn=V[nn];return delete V[nn],V[Ln]=Cn,ae[Cn].geometry[0].pop(),ae[Cn].geometry[0]=ae[Cn].geometry[0].concat(yn[0]),Cn}function Ke(nn,Ln,yn){var Cn=R[Ln];return delete R[Ln],R[nn]=Cn,ae[Cn].geometry[0].shift(),ae[Cn].geometry[0]=yn[0].concat(ae[Cn].geometry[0]),Cn}function vt(nn,Ln,yn){var Cn=yn?Ln[0][Ln[0].length-1]:Ln[0][0];return nn+":"+Cn.x+":"+Cn.y}for(var Mt=0;Mt<_.length;Mt++){var _t=_[Mt],Yt=_t.geometry,ar=_t.text?_t.text.toString():null;if(!ar){we(Mt);continue}var er=vt(ar,Yt),br=vt(ar,Yt,!0);if(er in V&&br in R&&V[er]!==R[br]){var Br=Ke(er,br,Yt),cn=Ee(er,br,ae[Br].geometry);delete R[er],delete V[br],V[vt(ar,ae[cn].geometry,!0)]=cn,ae[Br].geometry=null}else er in V?Ee(er,br,Yt):br in R?Ke(er,br,Yt):(we(Mt),R[er]=ve-1,V[br]=ve-1)}return ae.filter(function(nn){return nn.geometry})}var Qv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function E4(_){for(var R="",V=0;V<_.length;V++){var ae=_.charCodeAt(V+1)||null,ve=_.charCodeAt(V-1)||null,we=(!ae||!Vr(ae)||Qv[_[V+1]])&&(!ve||!Vr(ve)||Qv[_[V-1]]);we&&Qv[_[V]]?R+=Qv[_[V]]:R+=_[V]}return R}var Do=24,C4=function(_,R,V,ae,ve){var we,Ee,Ke=ve*8-ae-1,vt=(1<<Ke)-1,Mt=vt>>1,_t=-7,Yt=V?ve-1:0,ar=V?-1:1,er=_[R+Yt];for(Yt+=ar,we=er&(1<<-_t)-1,er>>=-_t,_t+=Ke;_t>0;we=we*256+_[R+Yt],Yt+=ar,_t-=8);for(Ee=we&(1<<-_t)-1,we>>=-_t,_t+=ae;_t>0;Ee=Ee*256+_[R+Yt],Yt+=ar,_t-=8);if(we===0)we=1-Mt;else{if(we===vt)return Ee?NaN:(er?-1:1)*(1/0);Ee=Ee+Math.pow(2,ae),we=we-Mt}return(er?-1:1)*Ee*Math.pow(2,we-ae)},L4=function(_,R,V,ae,ve,we){var Ee,Ke,vt,Mt=we*8-ve-1,_t=(1<<Mt)-1,Yt=_t>>1,ar=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=ae?0:we-1,br=ae?1:-1,Br=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(Ke=isNaN(R)?1:0,Ee=_t):(Ee=Math.floor(Math.log(R)/Math.LN2),R*(vt=Math.pow(2,-Ee))<1&&(Ee--,vt*=2),Ee+Yt>=1?R+=ar/vt:R+=ar*Math.pow(2,1-Yt),R*vt>=2&&(Ee++,vt/=2),Ee+Yt>=_t?(Ke=0,Ee=_t):Ee+Yt>=1?(Ke=(R*vt-1)*Math.pow(2,ve),Ee=Ee+Yt):(Ke=R*Math.pow(2,Yt-1)*Math.pow(2,ve),Ee=0));ve>=8;_[V+er]=Ke&255,er+=br,Ke/=256,ve-=8);for(Ee=Ee<<ve|Ke,Mt+=ve;Mt>0;_[V+er]=Ee&255,er+=br,Ee/=256,Mt-=8);_[V+er-br]|=Br*128},lp={read:C4,write:L4},up=Ei;function Ei(_){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_)?_:new Uint8Array(_||0),this.pos=0,this.type=0,this.length=this.buf.length}Ei.Varint=0,Ei.Fixed64=1,Ei.Bytes=2,Ei.Fixed32=5;var sg=65536*65536,s1=1/sg,P4=12,l1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ei.prototype={destroy:function(){this.buf=null},readFields:function(_,R,V){for(V=V||this.length;this.pos<V;){var ae=this.readVarint(),ve=ae>>3,we=this.pos;this.type=ae&7,_(ve,R,this),this.pos===we&&this.skip(ae)}return R},readMessage:function(_,R){return this.readFields(_,R,this.readVarint()+this.pos)},readFixed32:function(){var _=fp(this.buf,this.pos);return this.pos+=4,_},readSFixed32:function(){var _=f1(this.buf,this.pos);return this.pos+=4,_},readFixed64:function(){var _=fp(this.buf,this.pos)+fp(this.buf,this.pos+4)*sg;return this.pos+=8,_},readSFixed64:function(){var _=fp(this.buf,this.pos)+f1(this.buf,this.pos+4)*sg;return this.pos+=8,_},readFloat:function(){var _=lp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,_},readDouble:function(){var _=lp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,_},readVarint:function(_){var R=this.buf,V,ae;return ae=R[this.pos++],V=ae&127,ae<128||(ae=R[this.pos++],V|=(ae&127)<<7,ae<128)||(ae=R[this.pos++],V|=(ae&127)<<14,ae<128)||(ae=R[this.pos++],V|=(ae&127)<<21,ae<128)?V:(ae=R[this.pos],V|=(ae&15)<<28,_4(V,_,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _=this.readVarint();return _%2===1?(_+1)/-2:_/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var _=this.readVarint()+this.pos,R=this.pos;return this.pos=_,_-R>=P4&&l1?W4(this.buf,R,_):G4(this.buf,R,_)},readBytes:function(){var _=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,_);return this.pos=_,R},readPackedVarint:function(_,R){if(this.type!==Ei.Bytes)return _.push(this.readVarint(R));var V=Cf(this);for(_=_||[];this.pos<V;)_.push(this.readVarint(R));return _},readPackedSVarint:function(_){if(this.type!==Ei.Bytes)return _.push(this.readSVarint());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readSVarint());return _},readPackedBoolean:function(_){if(this.type!==Ei.Bytes)return _.push(this.readBoolean());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readBoolean());return _},readPackedFloat:function(_){if(this.type!==Ei.Bytes)return _.push(this.readFloat());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readFloat());return _},readPackedDouble:function(_){if(this.type!==Ei.Bytes)return _.push(this.readDouble());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readDouble());return _},readPackedFixed32:function(_){if(this.type!==Ei.Bytes)return _.push(this.readFixed32());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readFixed32());return _},readPackedSFixed32:function(_){if(this.type!==Ei.Bytes)return _.push(this.readSFixed32());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readSFixed32());return _},readPackedFixed64:function(_){if(this.type!==Ei.Bytes)return _.push(this.readFixed64());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readFixed64());return _},readPackedSFixed64:function(_){if(this.type!==Ei.Bytes)return _.push(this.readSFixed64());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readSFixed64());return _},skip:function(_){var R=_&7;if(R===Ei.Varint)for(;this.buf[this.pos++]>127;);else if(R===Ei.Bytes)this.pos=this.readVarint()+this.pos;else if(R===Ei.Fixed32)this.pos+=4;else if(R===Ei.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+R)},writeTag:function(_,R){this.writeVarint(_<<3|R)},realloc:function(_){for(var R=this.length||16;R<this.pos+_;)R*=2;if(R!==this.length){var V=new Uint8Array(R);V.set(this.buf),this.buf=V,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_){this.realloc(4),Xh(this.buf,_,this.pos),this.pos+=4},writeSFixed32:function(_){this.realloc(4),Xh(this.buf,_,this.pos),this.pos+=4},writeFixed64:function(_){this.realloc(8),Xh(this.buf,_&-1,this.pos),Xh(this.buf,Math.floor(_*s1),this.pos+4),this.pos+=8},writeSFixed64:function(_){this.realloc(8),Xh(this.buf,_&-1,this.pos),Xh(this.buf,Math.floor(_*s1),this.pos+4),this.pos+=8},writeVarint:function(_){if(_=+_||0,_>268435455||_<0){R4(_,this);return}this.realloc(4),this.buf[this.pos++]=_&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=(_>>>=7)&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=(_>>>=7)&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=_>>>7&127)))},writeSVarint:function(_){this.writeVarint(_<0?-_*2-1:_*2)},writeBoolean:function(_){this.writeVarint(!!_)},writeString:function(_){_=String(_),this.realloc(_.length*4),this.pos++;var R=this.pos;this.pos=j4(this.buf,_,this.pos);var V=this.pos-R;V>=128&&u1(R,V,this),this.pos=R-1,this.writeVarint(V),this.pos+=V},writeFloat:function(_){this.realloc(4),lp.write(this.buf,_,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_){this.realloc(8),lp.write(this.buf,_,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_){var R=_.length;this.writeVarint(R),this.realloc(R);for(var V=0;V<R;V++)this.buf[this.pos++]=_[V]},writeRawMessage:function(_,R){this.pos++;var V=this.pos;_(R,this);var ae=this.pos-V;ae>=128&&u1(V,ae,this),this.pos=V-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(_,R,V){this.writeTag(_,Ei.Bytes),this.writeRawMessage(R,V)},writePackedVarint:function(_,R){R.length&&this.writeMessage(_,k4,R)},writePackedSVarint:function(_,R){R.length&&this.writeMessage(_,z4,R)},writePackedBoolean:function(_,R){R.length&&this.writeMessage(_,N4,R)},writePackedFloat:function(_,R){R.length&&this.writeMessage(_,O4,R)},writePackedDouble:function(_,R){R.length&&this.writeMessage(_,F4,R)},writePackedFixed32:function(_,R){R.length&&this.writeMessage(_,B4,R)},writePackedSFixed32:function(_,R){R.length&&this.writeMessage(_,U4,R)},writePackedFixed64:function(_,R){R.length&&this.writeMessage(_,V4,R)},writePackedSFixed64:function(_,R){R.length&&this.writeMessage(_,H4,R)},writeBytesField:function(_,R){this.writeTag(_,Ei.Bytes),this.writeBytes(R)},writeFixed32Field:function(_,R){this.writeTag(_,Ei.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(_,R){this.writeTag(_,Ei.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(_,R){this.writeTag(_,Ei.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(_,R){this.writeTag(_,Ei.Fixed64),this.writeSFixed64(R)},writeVarintField:function(_,R){this.writeTag(_,Ei.Varint),this.writeVarint(R)},writeSVarintField:function(_,R){this.writeTag(_,Ei.Varint),this.writeSVarint(R)},writeStringField:function(_,R){this.writeTag(_,Ei.Bytes),this.writeString(R)},writeFloatField:function(_,R){this.writeTag(_,Ei.Fixed32),this.writeFloat(R)},writeDoubleField:function(_,R){this.writeTag(_,Ei.Fixed64),this.writeDouble(R)},writeBooleanField:function(_,R){this.writeVarintField(_,!!R)}};function _4(_,R,V){var ae=V.buf,ve,we;if(we=ae[V.pos++],ve=(we&112)>>4,we<128||(we=ae[V.pos++],ve|=(we&127)<<3,we<128)||(we=ae[V.pos++],ve|=(we&127)<<10,we<128)||(we=ae[V.pos++],ve|=(we&127)<<17,we<128)||(we=ae[V.pos++],ve|=(we&127)<<24,we<128)||(we=ae[V.pos++],ve|=(we&1)<<31,we<128))return Yh(_,ve,R);throw new Error("Expected varint not more than 10 bytes")}function Cf(_){return _.type===Ei.Bytes?_.readVarint()+_.pos:_.pos+1}function Yh(_,R,V){return V?R*4294967296+(_>>>0):(R>>>0)*4294967296+(_>>>0)}function R4(_,R){var V,ae;if(_>=0?(V=_%4294967296|0,ae=_/4294967296|0):(V=~(-_%4294967296),ae=~(-_/4294967296),V^4294967295?V=V+1|0:(V=0,ae=ae+1|0)),_>=18446744073709552e3||_<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");R.realloc(10),D4(V,ae,R),I4(ae,R)}function D4(_,R,V){V.buf[V.pos++]=_&127|128,_>>>=7,V.buf[V.pos++]=_&127|128,_>>>=7,V.buf[V.pos++]=_&127|128,_>>>=7,V.buf[V.pos++]=_&127|128,_>>>=7,V.buf[V.pos]=_&127}function I4(_,R){var V=(_&7)<<4;R.buf[R.pos++]|=V|((_>>>=3)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127)))))}function u1(_,R,V){var ae=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(Math.LN2*7));V.realloc(ae);for(var ve=V.pos-1;ve>=_;ve--)V.buf[ve+ae]=V.buf[ve]}function k4(_,R){for(var V=0;V<_.length;V++)R.writeVarint(_[V])}function z4(_,R){for(var V=0;V<_.length;V++)R.writeSVarint(_[V])}function O4(_,R){for(var V=0;V<_.length;V++)R.writeFloat(_[V])}function F4(_,R){for(var V=0;V<_.length;V++)R.writeDouble(_[V])}function N4(_,R){for(var V=0;V<_.length;V++)R.writeBoolean(_[V])}function B4(_,R){for(var V=0;V<_.length;V++)R.writeFixed32(_[V])}function U4(_,R){for(var V=0;V<_.length;V++)R.writeSFixed32(_[V])}function V4(_,R){for(var V=0;V<_.length;V++)R.writeFixed64(_[V])}function H4(_,R){for(var V=0;V<_.length;V++)R.writeSFixed64(_[V])}function fp(_,R){return(_[R]|_[R+1]<<8|_[R+2]<<16)+_[R+3]*16777216}function Xh(_,R,V){_[V]=R,_[V+1]=R>>>8,_[V+2]=R>>>16,_[V+3]=R>>>24}function f1(_,R){return(_[R]|_[R+1]<<8|_[R+2]<<16)+(_[R+3]<<24)}function G4(_,R,V){for(var ae="",ve=R;ve<V;){var we=_[ve],Ee=null,Ke=we>239?4:we>223?3:we>191?2:1;if(ve+Ke>V)break;var vt,Mt,_t;Ke===1?we<128&&(Ee=we):Ke===2?(vt=_[ve+1],(vt&192)===128&&(Ee=(we&31)<<6|vt&63,Ee<=127&&(Ee=null))):Ke===3?(vt=_[ve+1],Mt=_[ve+2],(vt&192)===128&&(Mt&192)===128&&(Ee=(we&15)<<12|(vt&63)<<6|Mt&63,(Ee<=2047||Ee>=55296&&Ee<=57343)&&(Ee=null))):Ke===4&&(vt=_[ve+1],Mt=_[ve+2],_t=_[ve+3],(vt&192)===128&&(Mt&192)===128&&(_t&192)===128&&(Ee=(we&15)<<18|(vt&63)<<12|(Mt&63)<<6|_t&63,(Ee<=65535||Ee>=1114112)&&(Ee=null))),Ee===null?(Ee=65533,Ke=1):Ee>65535&&(Ee-=65536,ae+=String.fromCharCode(Ee>>>10&1023|55296),Ee=56320|Ee&1023),ae+=String.fromCharCode(Ee),ve+=Ke}return ae}function W4(_,R,V){return l1.decode(_.subarray(R,V))}function j4(_,R,V){for(var ae=0,ve,we;ae<R.length;ae++){if(ve=R.charCodeAt(ae),ve>55295&&ve<57344)if(we)if(ve<56320){_[V++]=239,_[V++]=191,_[V++]=189,we=ve;continue}else ve=we-55296<<10|ve-56320|65536,we=null;else{ve>56319||ae+1===R.length?(_[V++]=239,_[V++]=191,_[V++]=189):we=ve;continue}else we&&(_[V++]=239,_[V++]=191,_[V++]=189,we=null);ve<128?_[V++]=ve:(ve<2048?_[V++]=ve>>6|192:(ve<65536?_[V++]=ve>>12|224:(_[V++]=ve>>18|240,_[V++]=ve>>12&63|128),_[V++]=ve>>6&63|128),_[V++]=ve&63|128)}return V}var lg=3;function Y4(_,R,V){_===1&&V.readMessage(X4,R)}function X4(_,R,V){if(_===3){var ae=V.readMessage(Z4,{}),ve=ae.id,we=ae.bitmap,Ee=ae.width,Ke=ae.height,vt=ae.left,Mt=ae.top,_t=ae.advance;R.push({id:ve,bitmap:new ph({width:Ee+2*lg,height:Ke+2*lg},we),metrics:{width:Ee,height:Ke,left:vt,top:Mt,advance:_t}})}}function Z4(_,R,V){_===1?R.id=V.readVarint():_===2?R.bitmap=V.readBytes():_===3?R.width=V.readVarint():_===4?R.height=V.readVarint():_===5?R.left=V.readSVarint():_===6?R.top=V.readSVarint():_===7&&(R.advance=V.readVarint())}function K4(_){return new up(_).readFields(Y4,[])}var c1=lg;function h1(_){for(var R=0,V=0,ae=0,ve=_;ae<ve.length;ae+=1){var we=ve[ae];R+=we.w*we.h,V=Math.max(V,we.w)}_.sort(function(cn,nn){return nn.h-cn.h});for(var Ee=Math.max(Math.ceil(Math.sqrt(R/.95)),V),Ke=[{x:0,y:0,w:Ee,h:1/0}],vt=0,Mt=0,_t=0,Yt=_;_t<Yt.length;_t+=1)for(var ar=Yt[_t],er=Ke.length-1;er>=0;er--){var br=Ke[er];if(!(ar.w>br.w||ar.h>br.h)){if(ar.x=br.x,ar.y=br.y,Mt=Math.max(Mt,ar.y+ar.h),vt=Math.max(vt,ar.x+ar.w),ar.w===br.w&&ar.h===br.h){var Br=Ke.pop();er<Ke.length&&(Ke[er]=Br)}else ar.h===br.h?(br.x+=ar.w,br.w-=ar.w):ar.w===br.w?(br.y+=ar.h,br.h-=ar.h):(Ke.push({x:br.x+ar.w,y:br.y,w:br.w-ar.w,h:ar.h}),br.y+=ar.h,br.h-=ar.h);break}}return{w:vt,h:Mt,fill:R/(vt*Mt)||0}}var Is=1,cp=function(R,V){var ae=V.pixelRatio,ve=V.version,we=V.stretchX,Ee=V.stretchY,Ke=V.content;this.paddedRect=R,this.pixelRatio=ae,this.stretchX=we,this.stretchY=Ee,this.content=Ke,this.version=ve},$v={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};$v.tl.get=function(){return[this.paddedRect.x+Is,this.paddedRect.y+Is]},$v.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Is,this.paddedRect.y+this.paddedRect.h-Is]},$v.tlbr.get=function(){return this.tl.concat(this.br)},$v.displaySize.get=function(){return[(this.paddedRect.w-Is*2)/this.pixelRatio,(this.paddedRect.h-Is*2)/this.pixelRatio]},Object.defineProperties(cp.prototype,$v);var qv=function(R,V){var ae={},ve={};this.haveRenderCallbacks=[];var we=[];this.addImages(R,ae,we),this.addImages(V,ve,we);var Ee=h1(we),Ke=Ee.w,vt=Ee.h,Mt=new bs({width:Ke||1,height:vt||1});for(var _t in R){var Yt=R[_t],ar=ae[_t].paddedRect;bs.copy(Yt.data,Mt,{x:0,y:0},{x:ar.x+Is,y:ar.y+Is},Yt.data)}for(var er in V){var br=V[er],Br=ve[er].paddedRect,cn=Br.x+Is,nn=Br.y+Is,Ln=br.data.width,yn=br.data.height;bs.copy(br.data,Mt,{x:0,y:0},{x:cn,y:nn},br.data),bs.copy(br.data,Mt,{x:0,y:yn-1},{x:cn,y:nn-1},{width:Ln,height:1}),bs.copy(br.data,Mt,{x:0,y:0},{x:cn,y:nn+yn},{width:Ln,height:1}),bs.copy(br.data,Mt,{x:Ln-1,y:0},{x:cn-1,y:nn},{width:1,height:yn}),bs.copy(br.data,Mt,{x:0,y:0},{x:cn+Ln,y:nn},{width:1,height:yn})}this.image=Mt,this.iconPositions=ae,this.patternPositions=ve};qv.prototype.addImages=function(R,V,ae){for(var ve in R){var we=R[ve],Ee={x:0,y:0,w:we.data.width+2*Is,h:we.data.height+2*Is};ae.push(Ee),V[ve]=new cp(Ee,we),we.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},qv.prototype.patchUpdatedImages=function(R,V){R.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in R.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],R.getImage(ae),V),this.patchUpdatedImage(this.patternPositions[ae],R.getImage(ae),V)},qv.prototype.patchUpdatedImage=function(R,V,ae){if(!(!R||!V)&&R.version!==V.version){R.version=V.version;var ve=R.tl,we=ve[0],Ee=ve[1];ae.update(V.data,void 0,{x:we,y:Ee})}},Be("ImagePosition",cp),Be("ImageAtlas",qv);var Qs={horizontal:1,vertical:2,horizontalOnly:3},ed=-17;function J4(_){for(var R=0,V=_;R<V.length;R+=1){var ae=V[R];if(ae.positionedGlyphs.length!==0)return!1}return!0}var v1=57344,d1=63743,Zh=function(){this.scale=1,this.fontStack="",this.imageName=null};Zh.forText=function(R,V){var ae=new Zh;return ae.scale=R||1,ae.fontStack=V,ae},Zh.forImage=function(R){var V=new Zh;return V.imageName=R,V};var Go=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Go.fromFeature=function(R,V){for(var ae=new Go,ve=0;ve<R.sections.length;ve++){var we=R.sections[ve];we.image?ae.addImageSection(we):ae.addTextSection(we,V)}return ae},Go.prototype.length=function(){return this.text.length},Go.prototype.getSection=function(R){return this.sections[this.sectionIndex[R]]},Go.prototype.getSectionIndex=function(R){return this.sectionIndex[R]},Go.prototype.getCharCode=function(R){return this.text.charCodeAt(R)},Go.prototype.verticalizePunctuation=function(){this.text=E4(this.text)},Go.prototype.trim=function(){for(var R=0,V=0;V<this.text.length&&$u[this.text.charCodeAt(V)];V++)R++;for(var ae=this.text.length,ve=this.text.length-1;ve>=0&&ve>=R&&$u[this.text.charCodeAt(ve)];ve--)ae--;this.text=this.text.substring(R,ae),this.sectionIndex=this.sectionIndex.slice(R,ae)},Go.prototype.substring=function(R,V){var ae=new Go;return ae.text=this.text.substring(R,V),ae.sectionIndex=this.sectionIndex.slice(R,V),ae.sections=this.sections,ae},Go.prototype.toString=function(){return this.text},Go.prototype.getMaxScale=function(){var R=this;return this.sectionIndex.reduce(function(V,ae){return Math.max(V,R.sections[ae].scale)},0)},Go.prototype.addTextSection=function(R,V){this.text+=R.text,this.sections.push(Zh.forText(R.scale,R.fontStack||V));for(var ae=this.sections.length-1,ve=0;ve<R.text.length;++ve)this.sectionIndex.push(ae)},Go.prototype.addImageSection=function(R){var V=R.image?R.image.name:"";if(V.length===0){F("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){F("Reached maximum number of images "+(d1-v1+2));return}this.text+=String.fromCharCode(ae),this.sections.push(Zh.forImage(V)),this.sectionIndex.push(this.sections.length-1)},Go.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=d1?null:++this.imageSectionID:(this.imageSectionID=v1,this.imageSectionID)};function Q4(_,R){for(var V=[],ae=_.text,ve=0,we=0,Ee=R;we<Ee.length;we+=1){var Ke=Ee[we];V.push(_.substring(ve,Ke)),ve=Ke}return ve<ae.length&&V.push(_.substring(ve,ae.length)),V}function hp(_,R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br){var cn=Go.fromFeature(_,ve);Yt===Qs.vertical&&cn.verticalizePunctuation();var nn,Ln=qn.processBidirectionalText,yn=qn.processStyledBidirectionalText;if(Ln&&cn.sections.length===1){nn=[];for(var Cn=Ln(cn.toString(),ug(cn,Mt,we,R,ae,er,br)),kn=0,Yn=Cn;kn<Yn.length;kn+=1){var aa=Yn[kn],ta=new Go;ta.text=aa,ta.sections=cn.sections;for(var Ta=0;Ta<aa.length;Ta++)ta.sectionIndex.push(0);nn.push(ta)}}else if(yn){nn=[];for(var pa=yn(cn.text,cn.sectionIndex,ug(cn,Mt,we,R,ae,er,br)),ba=0,Va=pa;ba<Va.length;ba+=1){var Aa=Va[ba],La=new Go;La.text=Aa[0],La.sectionIndex=Aa[1],La.sections=cn.sections,nn.push(La)}}else nn=Q4(cn,ug(cn,Mt,we,R,ae,er,br));var Ya=[],Ba={positionedLines:Ya,text:cn.toString(),top:_t[1],bottom:_t[1],left:_t[0],right:_t[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return eT(Ba,R,V,ae,nn,Ee,Ke,vt,Yt,Mt,ar,Br),J4(Ya)?!1:Ba}var $u={};$u[9]=!0,$u[10]=!0,$u[11]=!0,$u[12]=!0,$u[13]=!0,$u[32]=!0;var ks={};ks[10]=!0,ks[32]=!0,ks[38]=!0,ks[40]=!0,ks[41]=!0,ks[43]=!0,ks[45]=!0,ks[47]=!0,ks[173]=!0,ks[183]=!0,ks[8203]=!0,ks[8208]=!0,ks[8211]=!0,ks[8231]=!0;function p1(_,R,V,ae,ve,we){if(R.imageName){var vt=ae[R.imageName];return vt?vt.displaySize[0]*R.scale*Do/we+ve:0}else{var Ee=V[R.fontStack],Ke=Ee&&Ee[_];return Ke?Ke.metrics.advance*R.scale+ve:0}}function $4(_,R,V,ae,ve,we){for(var Ee=0,Ke=0;Ke<_.length();Ke++){var vt=_.getSection(Ke);Ee+=p1(_.getCharCode(Ke),vt,ae,ve,R,we)}var Mt=Math.max(1,Math.ceil(Ee/V));return Ee/Mt}function g1(_,R,V,ae){var ve=Math.pow(_-R,2);return ae?_<R?ve/2:ve*2:ve+Math.abs(V)*V}function q4(_,R,V){var ae=0;return _===10&&(ae-=1e4),V&&(ae+=150),(_===40||_===65288)&&(ae+=50),(R===41||R===65289)&&(ae+=50),ae}function y1(_,R,V,ae,ve,we){for(var Ee=null,Ke=g1(R,V,ve,we),vt=0,Mt=ae;vt<Mt.length;vt+=1){var _t=Mt[vt],Yt=R-_t.x,ar=g1(Yt,V,ve,we)+_t.badness;ar<=Ke&&(Ee=_t,Ke=ar)}return{index:_,x:R,priorBreak:Ee,badness:Ke}}function m1(_){return _?m1(_.priorBreak).concat(_.index):[]}function ug(_,R,V,ae,ve,we,Ee){if(we!=="point")return[];if(!_)return[];for(var Ke=[],vt=$4(_,R,V,ae,ve,Ee),Mt=_.text.indexOf("​")>=0,_t=0,Yt=0;Yt<_.length();Yt++){var ar=_.getSection(Yt),er=_.getCharCode(Yt);if($u[er]||(_t+=p1(er,ar,ae,ve,R,Ee)),Yt<_.length()-1){var br=$r(er);(ks[er]||br||ar.imageName)&&Ke.push(y1(Yt+1,_t,vt,Ke,q4(er,_.getCharCode(Yt+1),br&&Mt),!1))}}return m1(y1(_.length(),_t,vt,Ke,0,!0))}function fg(_){var R=.5,V=.5;switch(_){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0;break}switch(_){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0;break}return{horizontalAlign:R,verticalAlign:V}}function eT(_,R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt){for(var ar=0,er=ed,br=0,Br=0,cn=Ke==="right"?1:Ke==="left"?0:.5,nn=0,Ln=0,yn=ve;Ln<yn.length;Ln+=1){var Cn=yn[Ln];Cn.trim();var kn=Cn.getMaxScale(),Yn=(kn-1)*Do,aa={positionedGlyphs:[],lineOffset:0};_.positionedLines[nn]=aa;var ta=aa.positionedGlyphs,Ta=0;if(!Cn.length()){er+=we,++nn;continue}for(var pa=0;pa<Cn.length();pa++){var ba=Cn.getSection(pa),Va=Cn.getSectionIndex(pa),Aa=Cn.getCharCode(pa),La=0,Ya=null,Ba=null,li=null,bi=Do,ui=!(vt===Qs.horizontal||!_t&&!sn(Aa)||_t&&($u[Aa]||Kr(Aa)));if(ba.imageName){var Ui=ae[ba.imageName];if(!Ui)continue;li=ba.imageName,_.iconsInText=_.iconsInText||!0,Ba=Ui.paddedRect;var Yi=Ui.displaySize;ba.scale=ba.scale*Do/Yt,Ya={width:Yi[0],height:Yi[1],left:Is,top:-c1,advance:ui?Yi[1]:Yi[0]};var So=Do-Yi[1]*ba.scale;La=Yn+So,bi=Ya.advance;var fo=ui?Yi[0]*ba.scale-Do*kn:Yi[1]*ba.scale-Do*kn;fo>0&&fo>Ta&&(Ta=fo)}else{var fi=V[ba.fontStack],ni=fi&&fi[Aa];if(ni&&ni.rect)Ba=ni.rect,Ya=ni.metrics;else{var Mi=R[ba.fontStack],Ci=Mi&&Mi[Aa];if(!Ci)continue;Ya=Ci.metrics}La=(kn-ba.scale)*Do}ui?(_.verticalizable=!0,ta.push({glyph:Aa,imageName:li,x:ar,y:er+La,vertical:ui,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Va,metrics:Ya,rect:Ba}),ar+=bi*ba.scale+Mt):(ta.push({glyph:Aa,imageName:li,x:ar,y:er+La,vertical:ui,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Va,metrics:Ya,rect:Ba}),ar+=Ya.advance*ba.scale+Mt)}if(ta.length!==0){var Wo=ar-Mt;br=Math.max(Wo,br),tT(ta,0,ta.length-1,cn,Ta)}ar=0;var jo=we*kn+Ta;aa.lineOffset=Math.max(Ta,Yn),er+=jo,Br=Math.max(jo,Br),++nn}var Mo=er-ed,is=fg(Ee),os=is.horizontalAlign,mo=is.verticalAlign;rT(_.positionedLines,cn,os,mo,br,Br,we,Mo,ve.length),_.top+=-mo*Mo,_.bottom=_.top+Mo,_.left+=-os*br,_.right=_.left+br}function tT(_,R,V,ae,ve){if(!(!ae&&!ve))for(var we=_[V],Ee=we.metrics.advance*we.scale,Ke=(_[V].x+Ee)*ae,vt=R;vt<=V;vt++)_[vt].x-=Ke,_[vt].y+=ve}function rT(_,R,V,ae,ve,we,Ee,Ke,vt){var Mt=(R-V)*ve,_t=0;we!==Ee?_t=-Ke*ae-ed:_t=(-ae*vt+.5)*Ee;for(var Yt=0,ar=_;Yt<ar.length;Yt+=1)for(var er=ar[Yt],br=0,Br=er.positionedGlyphs;br<Br.length;br+=1){var cn=Br[br];cn.x+=Mt,cn.y+=_t}}function nT(_,R,V){var ae=fg(V),ve=ae.horizontalAlign,we=ae.verticalAlign,Ee=R[0],Ke=R[1],vt=Ee-_.displaySize[0]*ve,Mt=vt+_.displaySize[0],_t=Ke-_.displaySize[1]*we,Yt=_t+_.displaySize[1];return{image:_,top:_t,bottom:Yt,left:vt,right:Mt}}function x1(_,R,V,ae,ve,we){var Ee=_.image,Ke;if(Ee.content){var vt=Ee.content,Mt=Ee.pixelRatio||1;Ke=[vt[0]/Mt,vt[1]/Mt,Ee.displaySize[0]-vt[2]/Mt,Ee.displaySize[1]-vt[3]/Mt]}var _t=R.left*we,Yt=R.right*we,ar,er,br,Br;V==="width"||V==="both"?(Br=ve[0]+_t-ae[3],er=ve[0]+Yt+ae[1]):(Br=ve[0]+(_t+Yt-Ee.displaySize[0])/2,er=Br+Ee.displaySize[0]);var cn=R.top*we,nn=R.bottom*we;return V==="height"||V==="both"?(ar=ve[1]+cn-ae[0],br=ve[1]+nn+ae[2]):(ar=ve[1]+(cn+nn-Ee.displaySize[1])/2,br=ar+Ee.displaySize[1]),{image:Ee,top:ar,right:er,bottom:br,left:Br,collisionPadding:Ke}}var Kh=function(_){function R(V,ae,ve,we){_.call(this,V,ae),this.angle=ve,we!==void 0&&(this.segment=we)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(r);Be("Anchor",Kh);var Mu=128;function cg(_,R){var V=R.expression;if(V.kind==="constant"){var ae=V.evaluate(new Ma(_+1));return{kind:"constant",layoutSize:ae}}else{if(V.kind==="source")return{kind:"source"};for(var ve=V.zoomStops,we=V.interpolationType,Ee=0;Ee<ve.length&&ve[Ee]<=_;)Ee++;Ee=Math.max(0,Ee-1);for(var Ke=Ee;Ke<ve.length&&ve[Ke]<_+1;)Ke++;Ke=Math.min(ve.length-1,Ke);var vt=ve[Ee],Mt=ve[Ke];if(V.kind==="composite")return{kind:"composite",minZoom:vt,maxZoom:Mt,interpolationType:we};var _t=V.evaluate(new Ma(vt)),Yt=V.evaluate(new Ma(Mt));return{kind:"camera",minZoom:vt,maxZoom:Mt,minSize:_t,maxSize:Yt,interpolationType:we}}}function b1(_,R,V){var ae=R.uSize,ve=R.uSizeT,we=V.lowerSize,Ee=V.upperSize;return _.kind==="source"?we/Mu:_.kind==="composite"?_i(we/Mu,Ee/Mu,ve):ae}function w1(_,R){var V=0,ae=0;if(_.kind==="constant")ae=_.layoutSize;else if(_.kind!=="source"){var ve=_.interpolationType,we=_.minZoom,Ee=_.maxZoom,Ke=ve?h(ki.interpolationFactor(ve,R,we,Ee),0,1):0;_.kind==="camera"?ae=_i(_.minSize,_.maxSize,Ke):V=Ke}return{uSizeT:V,uSize:ae}}var aT=Object.freeze({__proto__:null,getSizeData:cg,evaluateSizeForFeature:b1,evaluateSizeForZoom:w1,SIZE_PACK_FACTOR:Mu});function T1(_,R,V,ae,ve){if(R.segment===void 0)return!0;for(var we=R,Ee=R.segment+1,Ke=0;Ke>-V/2;){if(Ee--,Ee<0)return!1;Ke-=_[Ee].dist(we),we=_[Ee]}Ke+=_[Ee].dist(_[Ee+1]),Ee++;for(var vt=[],Mt=0;Ke<V/2;){var _t=_[Ee-1],Yt=_[Ee],ar=_[Ee+1];if(!ar)return!1;var er=_t.angleTo(Yt)-Yt.angleTo(ar);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),vt.push({distance:Ke,angleDelta:er}),Mt+=er;Ke-vt[0].distance>ae;)Mt-=vt.shift().angleDelta;if(Mt>ve)return!1;Ee++,Ke+=Yt.dist(ar)}return!0}function A1(_){for(var R=0,V=0;V<_.length-1;V++)R+=_[V].dist(_[V+1]);return R}function S1(_,R,V){return _?.6*R*V:0}function M1(_,R){return Math.max(_?_.right-_.left:0,R?R.right-R.left:0)}function iT(_,R,V,ae,ve,we){for(var Ee=S1(V,ve,we),Ke=M1(V,ae)*we,vt=0,Mt=A1(_)/2,_t=0;_t<_.length-1;_t++){var Yt=_[_t],ar=_[_t+1],er=Yt.dist(ar);if(vt+er>Mt){var br=(Mt-vt)/er,Br=_i(Yt.x,ar.x,br),cn=_i(Yt.y,ar.y,br),nn=new Kh(Br,cn,ar.angleTo(Yt),_t);return nn._round(),!Ee||T1(_,nn,Ke,Ee,R)?nn:void 0}vt+=er}}function oT(_,R,V,ae,ve,we,Ee,Ke,vt){var Mt=S1(ae,we,Ee),_t=M1(ae,ve),Yt=_t*Ee,ar=_[0].x===0||_[0].x===vt||_[0].y===0||_[0].y===vt;R-Yt<R/4&&(R=Yt+R/4);var er=we*2,br=ar?R/2*Ke%R:(_t/2+er)*Ee*Ke%R;return E1(_,br,R,Mt,V,Yt,ar,!1,vt)}function E1(_,R,V,ae,ve,we,Ee,Ke,vt){for(var Mt=we/2,_t=A1(_),Yt=0,ar=R-V,er=[],br=0;br<_.length-1;br++){for(var Br=_[br],cn=_[br+1],nn=Br.dist(cn),Ln=cn.angleTo(Br);ar+V<Yt+nn;){ar+=V;var yn=(ar-Yt)/nn,Cn=_i(Br.x,cn.x,yn),kn=_i(Br.y,cn.y,yn);if(Cn>=0&&Cn<vt&&kn>=0&&kn<vt&&ar-Mt>=0&&ar+Mt<=_t){var Yn=new Kh(Cn,kn,Ln,br);Yn._round(),(!ae||T1(_,Yn,we,ae,ve))&&er.push(Yn)}}Yt+=nn}return!Ke&&!er.length&&!Ee&&(er=E1(_,Yt/2,V,ae,ve,we,Ee,!0,vt)),er}function C1(_,R,V,ae,ve){for(var we=[],Ee=0;Ee<_.length;Ee++)for(var Ke=_[Ee],vt=void 0,Mt=0;Mt<Ke.length-1;Mt++){var _t=Ke[Mt],Yt=Ke[Mt+1];_t.x<R&&Yt.x<R||(_t.x<R?_t=new r(R,_t.y+(Yt.y-_t.y)*((R-_t.x)/(Yt.x-_t.x)))._round():Yt.x<R&&(Yt=new r(R,_t.y+(Yt.y-_t.y)*((R-_t.x)/(Yt.x-_t.x)))._round()),!(_t.y<V&&Yt.y<V)&&(_t.y<V?_t=new r(_t.x+(Yt.x-_t.x)*((V-_t.y)/(Yt.y-_t.y)),V)._round():Yt.y<V&&(Yt=new r(_t.x+(Yt.x-_t.x)*((V-_t.y)/(Yt.y-_t.y)),V)._round()),!(_t.x>=ae&&Yt.x>=ae)&&(_t.x>=ae?_t=new r(ae,_t.y+(Yt.y-_t.y)*((ae-_t.x)/(Yt.x-_t.x)))._round():Yt.x>=ae&&(Yt=new r(ae,_t.y+(Yt.y-_t.y)*((ae-_t.x)/(Yt.x-_t.x)))._round()),!(_t.y>=ve&&Yt.y>=ve)&&(_t.y>=ve?_t=new r(_t.x+(Yt.x-_t.x)*((ve-_t.y)/(Yt.y-_t.y)),ve)._round():Yt.y>=ve&&(Yt=new r(_t.x+(Yt.x-_t.x)*((ve-_t.y)/(Yt.y-_t.y)),ve)._round()),(!vt||!_t.equals(vt[vt.length-1]))&&(vt=[_t],we.push(vt)),vt.push(Yt)))))}return we}var Jh=Is;function L1(_,R,V,ae){var ve=[],we=_.image,Ee=we.pixelRatio,Ke=we.paddedRect.w-2*Jh,vt=we.paddedRect.h-2*Jh,Mt=_.right-_.left,_t=_.bottom-_.top,Yt=we.stretchX||[[0,Ke]],ar=we.stretchY||[[0,vt]],er=function(fi,ni){return fi+ni[1]-ni[0]},br=Yt.reduce(er,0),Br=ar.reduce(er,0),cn=Ke-br,nn=vt-Br,Ln=0,yn=br,Cn=0,kn=Br,Yn=0,aa=cn,ta=0,Ta=nn;if(we.content&&ae){var pa=we.content;Ln=vp(Yt,0,pa[0]),Cn=vp(ar,0,pa[1]),yn=vp(Yt,pa[0],pa[2]),kn=vp(ar,pa[1],pa[3]),Yn=pa[0]-Ln,ta=pa[1]-Cn,aa=pa[2]-pa[0]-yn,Ta=pa[3]-pa[1]-kn}var ba=function(fi,ni,Mi,Ci){var Ui=dp(fi.stretch-Ln,yn,Mt,_.left),Yi=pp(fi.fixed-Yn,aa,fi.stretch,br),So=dp(ni.stretch-Cn,kn,_t,_.top),fo=pp(ni.fixed-ta,Ta,ni.stretch,Br),Wo=dp(Mi.stretch-Ln,yn,Mt,_.left),jo=pp(Mi.fixed-Yn,aa,Mi.stretch,br),Mo=dp(Ci.stretch-Cn,kn,_t,_.top),is=pp(Ci.fixed-ta,Ta,Ci.stretch,Br),os=new r(Ui,So),mo=new r(Wo,So),ss=new r(Wo,Mo),$s=new r(Ui,Mo),_f=new r(Yi/Ee,fo/Ee),wc=new r(jo/Ee,is/Ee),Tc=R*Math.PI/180;if(Tc){var Ac=Math.sin(Tc),av=Math.cos(Tc),Xl=[av,-Ac,Ac,av];os._matMult(Xl),mo._matMult(Xl),$s._matMult(Xl),ss._matMult(Xl)}var wp=fi.stretch+fi.fixed,xg=Mi.stretch+Mi.fixed,Tp=ni.stretch+ni.fixed,bg=Ci.stretch+Ci.fixed,yl={x:we.paddedRect.x+Jh+wp,y:we.paddedRect.y+Jh+Tp,w:xg-wp,h:bg-Tp},iv=aa/Ee/Mt,Ap=Ta/Ee/_t;return{tl:os,tr:mo,bl:$s,br:ss,tex:yl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:_f,pixelOffsetBR:wc,minFontScaleX:iv,minFontScaleY:Ap,isSDF:V}};if(!ae||!we.stretchX&&!we.stretchY)ve.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:vt+1}));else for(var Va=P1(Yt,cn,br),Aa=P1(ar,nn,Br),La=0;La<Va.length-1;La++)for(var Ya=Va[La],Ba=Va[La+1],li=0;li<Aa.length-1;li++){var bi=Aa[li],ui=Aa[li+1];ve.push(ba(Ya,bi,Ba,ui))}return ve}function vp(_,R,V){for(var ae=0,ve=0,we=_;ve<we.length;ve+=1){var Ee=we[ve];ae+=Math.max(R,Math.min(V,Ee[1]))-Math.max(R,Math.min(V,Ee[0]))}return ae}function P1(_,R,V){for(var ae=[{fixed:-Jh,stretch:0}],ve=0,we=_;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee[0],vt=Ee[1],Mt=ae[ae.length-1];ae.push({fixed:Ke-Mt.stretch,stretch:Mt.stretch}),ae.push({fixed:Ke-Mt.stretch,stretch:Mt.stretch+(vt-Ke)})}return ae.push({fixed:R+Jh,stretch:V}),ae}function dp(_,R,V,ae){return _/R*V+ae}function pp(_,R,V,ae){return _-R*V/ae}function sT(_,R,V,ae,ve,we,Ee,Ke){for(var vt=ae.layout.get("text-rotate").evaluate(we,{})*Math.PI/180,Mt=[],_t=0,Yt=R.positionedLines;_t<Yt.length;_t+=1)for(var ar=Yt[_t],er=0,br=ar.positionedGlyphs;er<br.length;er+=1){var Br=br[er];if(Br.rect){var cn=Br.rect||{},nn=1,Ln=c1+nn,yn=!0,Cn=1,kn=0,Yn=(ve||Ke)&&Br.vertical,aa=Br.metrics.advance*Br.scale/2;if(Ke&&R.verticalizable){var ta=(Br.scale-1)*Do,Ta=(Do-Br.metrics.width*Br.scale)/2;kn=ar.lineOffset/2-(Br.imageName?-Ta:ta)}if(Br.imageName){var pa=Ee[Br.imageName];yn=pa.sdf,Cn=pa.pixelRatio,Ln=Is/Cn}var ba=ve?[Br.x+aa,Br.y]:[0,0],Va=ve?[0,0]:[Br.x+aa+V[0],Br.y+V[1]-kn],Aa=[0,0];Yn&&(Aa=Va,Va=[0,0]);var La=(Br.metrics.left-Ln)*Br.scale-aa+Va[0],Ya=(-Br.metrics.top-Ln)*Br.scale+Va[1],Ba=La+cn.w*Br.scale/Cn,li=Ya+cn.h*Br.scale/Cn,bi=new r(La,Ya),ui=new r(Ba,Ya),fi=new r(La,li),ni=new r(Ba,li);if(Yn){var Mi=new r(-aa,aa-ed),Ci=-Math.PI/2,Ui=Do/2-aa,Yi=Br.imageName?Ui:0,So=new r(5-ed-Ui,-Yi),fo=new(Function.prototype.bind.apply(r,[null].concat(Aa)));bi._rotateAround(Ci,Mi)._add(So)._add(fo),ui._rotateAround(Ci,Mi)._add(So)._add(fo),fi._rotateAround(Ci,Mi)._add(So)._add(fo),ni._rotateAround(Ci,Mi)._add(So)._add(fo)}if(vt){var Wo=Math.sin(vt),jo=Math.cos(vt),Mo=[jo,-Wo,Wo,jo];bi._matMult(Mo),ui._matMult(Mo),fi._matMult(Mo),ni._matMult(Mo)}var is=new r(0,0),os=new r(0,0),mo=0,ss=0;Mt.push({tl:bi,tr:ui,bl:fi,br:ni,tex:cn,writingMode:R.writingMode,glyphOffset:ba,sectionIndex:Br.sectionIndex,isSDF:yn,pixelOffsetTL:is,pixelOffsetBR:os,minFontScaleX:mo,minFontScaleY:ss})}}return Mt}var gp=function(R,V,ae,ve,we,Ee,Ke,vt,Mt,_t){if(this.boxStartIndex=R.length,Mt){var Yt=Ee.top,ar=Ee.bottom,er=Ee.collisionPadding;er&&(Yt-=er[1],ar+=er[3]);var br=ar-Yt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Br=Ee.top*Ke-vt,cn=Ee.bottom*Ke+vt,nn=Ee.left*Ke-vt,Ln=Ee.right*Ke+vt,yn=Ee.collisionPadding;if(yn&&(nn-=yn[0]*Ke,Br-=yn[1]*Ke,Ln+=yn[2]*Ke,cn+=yn[3]*Ke),_t){var Cn=new r(nn,Br),kn=new r(Ln,Br),Yn=new r(nn,cn),aa=new r(Ln,cn),ta=_t*Math.PI/180;Cn._rotate(ta),kn._rotate(ta),Yn._rotate(ta),aa._rotate(ta),nn=Math.min(Cn.x,kn.x,Yn.x,aa.x),Ln=Math.max(Cn.x,kn.x,Yn.x,aa.x),Br=Math.min(Cn.y,kn.y,Yn.y,aa.y),cn=Math.max(Cn.y,kn.y,Yn.y,aa.y)}R.emplaceBack(V.x,V.y,nn,Br,Ln,cn,ae,ve,we)}this.boxEndIndex=R.length},Qh=function(R,V){if(R===void 0&&(R=[]),V===void 0&&(V=lT),this.data=R,this.length=this.data.length,this.compare=V,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};Qh.prototype.push=function(R){this.data.push(R),this.length++,this._up(this.length-1)},Qh.prototype.pop=function(){if(this.length!==0){var R=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),R}},Qh.prototype.peek=function(){return this.data[0]},Qh.prototype._up=function(R){for(var V=this,ae=V.data,ve=V.compare,we=ae[R];R>0;){var Ee=R-1>>1,Ke=ae[Ee];if(ve(we,Ke)>=0)break;ae[R]=Ke,R=Ee}ae[R]=we},Qh.prototype._down=function(R){for(var V=this,ae=V.data,ve=V.compare,we=this.length>>1,Ee=ae[R];R<we;){var Ke=(R<<1)+1,vt=ae[Ke],Mt=Ke+1;if(Mt<this.length&&ve(ae[Mt],vt)<0&&(Ke=Mt,vt=ae[Mt]),ve(vt,Ee)>=0)break;ae[R]=vt,R=Ke}ae[R]=Ee};function lT(_,R){return _<R?-1:_>R?1:0}function uT(_,R,V){V===void 0&&(V=!1);for(var ae=1/0,ve=1/0,we=-1/0,Ee=-1/0,Ke=_[0],vt=0;vt<Ke.length;vt++){var Mt=Ke[vt];(!vt||Mt.x<ae)&&(ae=Mt.x),(!vt||Mt.y<ve)&&(ve=Mt.y),(!vt||Mt.x>we)&&(we=Mt.x),(!vt||Mt.y>Ee)&&(Ee=Mt.y)}var _t=we-ae,Yt=Ee-ve,ar=Math.min(_t,Yt),er=ar/2,br=new Qh([],fT);if(ar===0)return new r(ae,ve);for(var Br=ae;Br<we;Br+=ar)for(var cn=ve;cn<Ee;cn+=ar)br.push(new $h(Br+er,cn+er,er,_));for(var nn=hT(_),Ln=br.length;br.length;){var yn=br.pop();(yn.d>nn.d||!nn.d)&&(nn=yn,V&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Ln)),!(yn.max-nn.d<=R)&&(er=yn.h/2,br.push(new $h(yn.p.x-er,yn.p.y-er,er,_)),br.push(new $h(yn.p.x+er,yn.p.y-er,er,_)),br.push(new $h(yn.p.x-er,yn.p.y+er,er,_)),br.push(new $h(yn.p.x+er,yn.p.y+er,er,_)),Ln+=4)}return V&&(console.log("num probes: "+Ln),console.log("best distance: "+nn.d)),nn.p}function fT(_,R){return R.max-_.max}function $h(_,R,V,ae){this.p=new r(_,R),this.h=V,this.d=cT(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function cT(_,R){for(var V=!1,ae=1/0,ve=0;ve<R.length;ve++)for(var we=R[ve],Ee=0,Ke=we.length,vt=Ke-1;Ee<Ke;vt=Ee++){var Mt=we[Ee],_t=we[vt];Mt.y>_.y!=_t.y>_.y&&_.x<(_t.x-Mt.x)*(_.y-Mt.y)/(_t.y-Mt.y)+Mt.x&&(V=!V),ae=Math.min(ae,Ef(_,Mt,_t))}return(V?1:-1)*Math.sqrt(ae)}function hT(_){for(var R=0,V=0,ae=0,ve=_[0],we=0,Ee=ve.length,Ke=Ee-1;we<Ee;Ke=we++){var vt=ve[we],Mt=ve[Ke],_t=vt.x*Mt.y-Mt.x*vt.y;V+=(vt.x+Mt.x)*_t,ae+=(vt.y+Mt.y)*_t,R+=_t*3}return new $h(V/R,ae/R,0,_)}var qh=7,hg=Number.POSITIVE_INFINITY;function _1(_,R){function V(ve,we){var Ee=0,Ke=0;we<0&&(we=0);var vt=we/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Ke=vt-qh;break;case"bottom-right":case"bottom-left":Ke=-vt+qh;break;case"bottom":Ke=-we+qh;break;case"top":Ke=we-qh;break}switch(ve){case"top-right":case"bottom-right":Ee=-vt;break;case"top-left":case"bottom-left":Ee=vt;break;case"left":Ee=we;break;case"right":Ee=-we;break}return[Ee,Ke]}function ae(ve,we,Ee){var Ke=0,vt=0;switch(we=Math.abs(we),Ee=Math.abs(Ee),ve){case"top-right":case"top-left":case"top":vt=Ee-qh;break;case"bottom-right":case"bottom-left":case"bottom":vt=-Ee+qh;break}switch(ve){case"top-right":case"bottom-right":case"right":Ke=-we;break;case"top-left":case"bottom-left":case"left":Ke=we;break}return[Ke,vt]}return R[1]!==hg?ae(_,R[0],R[1]):V(_,R[0])}function vT(_,R,V,ae,ve,we,Ee){_.createArrays();var Ke=512*_.overscaling;_.tilePixelRatio=Ea/Ke,_.compareText={},_.iconsNeedLinear=!1;var vt=_.layers[0].layout,Mt=_.layers[0]._unevaluatedLayout._values,_t={};if(_.textSizeData.kind==="composite"){var Yt=_.textSizeData,ar=Yt.minZoom,er=Yt.maxZoom;_t.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new Ma(ar),Ee),Mt["text-size"].possiblyEvaluate(new Ma(er),Ee)]}if(_.iconSizeData.kind==="composite"){var br=_.iconSizeData,Br=br.minZoom,cn=br.maxZoom;_t.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new Ma(Br),Ee),Mt["icon-size"].possiblyEvaluate(new Ma(cn),Ee)]}_t.layoutTextSize=Mt["text-size"].possiblyEvaluate(new Ma(_.zoom+1),Ee),_t.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new Ma(_.zoom+1),Ee),_t.textMaxSize=Mt["text-size"].possiblyEvaluate(new Ma(18));for(var nn=vt.get("text-line-height")*Do,Ln=vt.get("text-rotation-alignment")==="map"&&vt.get("symbol-placement")!=="point",yn=vt.get("text-keep-upright"),Cn=vt.get("text-size"),kn=function(){var ta=aa[Yn],Ta=vt.get("text-font").evaluate(ta,{},Ee).join(","),pa=Cn.evaluate(ta,{},Ee),ba=_t.layoutTextSize.evaluate(ta,{},Ee),Va=_t.layoutIconSize.evaluate(ta,{},Ee),Aa={horizontal:{},vertical:void 0},La=ta.text,Ya=[0,0];if(La){var Ba=La.toString(),li=vt.get("text-letter-spacing").evaluate(ta,{},Ee)*Do,bi=Lr(Ba)?li:0,ui=vt.get("text-anchor").evaluate(ta,{},Ee),fi=vt.get("text-variable-anchor");if(!fi){var ni=vt.get("text-radial-offset").evaluate(ta,{},Ee);ni?Ya=_1(ui,[ni*Do,hg]):Ya=vt.get("text-offset").evaluate(ta,{},Ee).map(function(_f){return _f*Do})}var Mi=Ln?"center":vt.get("text-justify").evaluate(ta,{},Ee),Ci=vt.get("symbol-placement"),Ui=Ci==="point"?vt.get("text-max-width").evaluate(ta,{},Ee)*Do:0,Yi=function(){_.allowVerticalPlacement&&nr(Ba)&&(Aa.vertical=hp(La,R,V,ve,Ta,Ui,nn,ui,"left",bi,Ya,Qs.vertical,!0,Ci,ba,pa))};if(!Ln&&fi){for(var So=Mi==="auto"?fi.map(function(_f){return vg(_f)}):[Mi],fo=!1,Wo=0;Wo<So.length;Wo++){var jo=So[Wo];if(!Aa.horizontal[jo])if(fo)Aa.horizontal[jo]=Aa.horizontal[0];else{var Mo=hp(La,R,V,ve,Ta,Ui,nn,"center",jo,bi,Ya,Qs.horizontal,!1,Ci,ba,pa);Mo&&(Aa.horizontal[jo]=Mo,fo=Mo.positionedLines.length===1)}}Yi()}else{Mi==="auto"&&(Mi=vg(ui));var is=hp(La,R,V,ve,Ta,Ui,nn,ui,Mi,bi,Ya,Qs.horizontal,!1,Ci,ba,pa);is&&(Aa.horizontal[Mi]=is),Yi(),nr(Ba)&&Ln&&yn&&(Aa.vertical=hp(La,R,V,ve,Ta,Ui,nn,ui,Mi,bi,Ya,Qs.vertical,!1,Ci,ba,pa))}}var os=void 0,mo=!1;if(ta.icon&&ta.icon.name){var ss=ae[ta.icon.name];ss&&(os=nT(ve[ta.icon.name],vt.get("icon-offset").evaluate(ta,{},Ee),vt.get("icon-anchor").evaluate(ta,{},Ee)),mo=ss.sdf,_.sdfIcons===void 0?_.sdfIcons=ss.sdf:_.sdfIcons!==ss.sdf&&F("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ss.pixelRatio!==_.pixelRatio||vt.get("icon-rotate").constantOr(1)!==0)&&(_.iconsNeedLinear=!0))}var $s=D1(Aa.horizontal)||Aa.vertical;_.iconsInText=$s?$s.iconsInText:!1,($s||os)&&dT(_,ta,Aa,os,ae,_t,ba,Va,Ya,mo,Ee)},Yn=0,aa=_.features;Yn<aa.length;Yn+=1)kn();we&&_.generateCollisionDebugBuffers()}function vg(_){switch(_){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function dT(_,R,V,ae,ve,we,Ee,Ke,vt,Mt,_t){var Yt=we.textMaxSize.evaluate(R,{});Yt===void 0&&(Yt=Ee);var ar=_.layers[0].layout,er=ar.get("icon-offset").evaluate(R,{},_t),br=D1(V.horizontal),Br=24,cn=Ee/Br,nn=_.tilePixelRatio*cn,Ln=_.tilePixelRatio*Yt/Br,yn=_.tilePixelRatio*Ke,Cn=_.tilePixelRatio*ar.get("symbol-spacing"),kn=ar.get("text-padding")*_.tilePixelRatio,Yn=ar.get("icon-padding")*_.tilePixelRatio,aa=ar.get("text-max-angle")/180*Math.PI,ta=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",Ta=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",pa=ar.get("symbol-placement"),ba=Cn/2,Va=ar.get("icon-text-fit"),Aa;ae&&Va!=="none"&&(_.allowVerticalPlacement&&V.vertical&&(Aa=x1(ae,V.vertical,Va,ar.get("icon-text-fit-padding"),er,cn)),br&&(ae=x1(ae,br,Va,ar.get("icon-text-fit-padding"),er,cn)));var La=function(av,Xl){Xl.x<0||Xl.x>=Ea||Xl.y<0||Xl.y>=Ea||pT(_,Xl,av,V,ae,ve,Aa,_.layers[0],_.collisionBoxArray,R.index,R.sourceLayerIndex,_.index,nn,kn,ta,vt,yn,Yn,Ta,er,R,we,Mt,_t,Ee)};if(pa==="line")for(var Ya=0,Ba=C1(R.geometry,0,0,Ea,Ea);Ya<Ba.length;Ya+=1)for(var li=Ba[Ya],bi=oT(li,Cn,aa,V.vertical||br,ae,Br,Ln,_.overscaling,Ea),ui=0,fi=bi;ui<fi.length;ui+=1){var ni=fi[ui],Mi=br;(!Mi||!gT(_,Mi.text,ba,ni))&&La(li,ni)}else if(pa==="line-center")for(var Ci=0,Ui=R.geometry;Ci<Ui.length;Ci+=1){var Yi=Ui[Ci];if(Yi.length>1){var So=iT(Yi,aa,V.vertical||br,ae,Br,Ln);So&&La(Yi,So)}}else if(R.type==="Polygon")for(var fo=0,Wo=ng(R.geometry,0);fo<Wo.length;fo+=1){var jo=Wo[fo],Mo=uT(jo,16);La(jo[0],new Kh(Mo.x,Mo.y,0))}else if(R.type==="LineString")for(var is=0,os=R.geometry;is<os.length;is+=1){var mo=os[is];La(mo,new Kh(mo[0].x,mo[0].y,0))}else if(R.type==="Point")for(var ss=0,$s=R.geometry;ss<$s.length;ss+=1)for(var _f=$s[ss],wc=0,Tc=_f;wc<Tc.length;wc+=1){var Ac=Tc[wc];La([Ac],new Kh(Ac.x,Ac.y,0))}}var td=255,xc=td*Mu;function R1(_,R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br){var Br=sT(R,V,Ke,ve,we,Ee,ae,_.allowVerticalPlacement),cn=_.textSizeData,nn=null;cn.kind==="source"?(nn=[Mu*ve.layout.get("text-size").evaluate(Ee,{})],nn[0]>xc&&F(_.layerIds[0]+': Value for "text-size" is >= '+td+'. Reduce your "text-size".')):cn.kind==="composite"&&(nn=[Mu*er.compositeTextSizes[0].evaluate(Ee,{},br),Mu*er.compositeTextSizes[1].evaluate(Ee,{},br)],(nn[0]>xc||nn[1]>xc)&&F(_.layerIds[0]+': Value for "text-size" is >= '+td+'. Reduce your "text-size".')),_.addSymbols(_.text,Br,nn,Ke,we,Ee,Mt,R,vt.lineStartIndex,vt.lineLength,ar,br);for(var Ln=0,yn=_t;Ln<yn.length;Ln+=1){var Cn=yn[Ln];Yt[Cn]=_.text.placedSymbolArray.length-1}return Br.length*4}function D1(_){for(var R in _)return _[R];return null}function pT(_,R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar,er,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta){var Ta,pa=_.addToLineVertexArray(R,V),ba,Va,Aa,La,Ya=0,Ba=0,li=0,bi=0,ui=-1,fi=-1,ni={},Mi=pe(""),Ci=0,Ui=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ta=Ke.layout.get("text-offset").evaluate(Cn,{},aa).map(function(ad){return ad*Do}),Ci=Ta[0],Ui=Ta[1]):(Ci=Ke.layout.get("text-radial-offset").evaluate(Cn,{},aa)*Do,Ui=hg),_.allowVerticalPlacement&&ae.vertical){var Yi=Ke.layout.get("text-rotate").evaluate(Cn,{},aa),So=Yi+90,fo=ae.vertical;Aa=new gp(vt,R,Mt,_t,Yt,fo,ar,er,br,So),Ee&&(La=new gp(vt,R,Mt,_t,Yt,Ee,cn,nn,br,So))}if(ve){var Wo=Ke.layout.get("icon-rotate").evaluate(Cn,{}),jo=Ke.layout.get("icon-text-fit")!=="none",Mo=L1(ve,Wo,Yn,jo),is=Ee?L1(Ee,Wo,Yn,jo):void 0;Va=new gp(vt,R,Mt,_t,Yt,ve,cn,nn,!1,Wo),Ya=Mo.length*4;var os=_.iconSizeData,mo=null;os.kind==="source"?(mo=[Mu*Ke.layout.get("icon-size").evaluate(Cn,{})],mo[0]>xc&&F(_.layerIds[0]+': Value for "icon-size" is >= '+td+'. Reduce your "icon-size".')):os.kind==="composite"&&(mo=[Mu*kn.compositeIconSizes[0].evaluate(Cn,{},aa),Mu*kn.compositeIconSizes[1].evaluate(Cn,{},aa)],(mo[0]>xc||mo[1]>xc)&&F(_.layerIds[0]+': Value for "icon-size" is >= '+td+'. Reduce your "icon-size".')),_.addSymbols(_.icon,Mo,mo,yn,Ln,Cn,!1,R,pa.lineStartIndex,pa.lineLength,-1,aa),ui=_.icon.placedSymbolArray.length-1,is&&(Ba=is.length*4,_.addSymbols(_.icon,is,mo,yn,Ln,Cn,Qs.vertical,R,pa.lineStartIndex,pa.lineLength,-1,aa),fi=_.icon.placedSymbolArray.length-1)}for(var ss in ae.horizontal){var $s=ae.horizontal[ss];if(!ba){Mi=pe($s.text);var _f=Ke.layout.get("text-rotate").evaluate(Cn,{},aa);ba=new gp(vt,R,Mt,_t,Yt,$s,ar,er,br,_f)}var wc=$s.positionedLines.length===1;if(li+=R1(_,R,$s,we,Ke,br,Cn,Br,pa,ae.vertical?Qs.horizontal:Qs.horizontalOnly,wc?Object.keys(ae.horizontal):[ss],ni,ui,kn,aa),wc)break}ae.vertical&&(bi+=R1(_,R,ae.vertical,we,Ke,br,Cn,Br,pa,Qs.vertical,["vertical"],ni,fi,kn,aa));var Tc=ba?ba.boxStartIndex:_.collisionBoxArray.length,Ac=ba?ba.boxEndIndex:_.collisionBoxArray.length,av=Aa?Aa.boxStartIndex:_.collisionBoxArray.length,Xl=Aa?Aa.boxEndIndex:_.collisionBoxArray.length,wp=Va?Va.boxStartIndex:_.collisionBoxArray.length,xg=Va?Va.boxEndIndex:_.collisionBoxArray.length,Tp=La?La.boxStartIndex:_.collisionBoxArray.length,bg=La?La.boxEndIndex:_.collisionBoxArray.length,yl=-1,iv=function(ad,Z1){return ad&&ad.circleDiameter?Math.max(ad.circleDiameter,Z1):Z1};yl=iv(ba,yl),yl=iv(Aa,yl),yl=iv(Va,yl),yl=iv(La,yl);var Ap=yl>-1?1:0;Ap&&(yl*=ta/Do),_.glyphOffsetArray.length>=xi.MAX_GLYPHS&&F("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cn.sortKey!==void 0&&_.addToSortKeyRanges(_.symbolInstances.length,Cn.sortKey),_.symbolInstances.emplaceBack(R.x,R.y,ni.right>=0?ni.right:-1,ni.center>=0?ni.center:-1,ni.left>=0?ni.left:-1,ni.vertical||-1,ui,fi,Mi,Tc,Ac,av,Xl,wp,xg,Tp,bg,Mt,li,bi,Ya,Ba,Ap,0,ar,Ci,Ui,yl)}function gT(_,R,V,ae){var ve=_.compareText;if(!(R in ve))ve[R]=[];else for(var we=ve[R],Ee=we.length-1;Ee>=0;Ee--)if(ae.dist(we[Ee])<V)return!0;return ve[R].push(ae),!1}var yT=jh.VectorTileFeature.types,mT=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function yp(_,R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar){var er=Ke?Math.min(xc,Math.round(Ke[0])):0,br=Ke?Math.min(xc,Math.round(Ke[1])):0;_.emplaceBack(R,V,Math.round(ae*32),Math.round(ve*32),we,Ee,(er<<1)+(vt?1:0),br,Mt*16,_t*16,Yt*256,ar*256)}function dg(_,R,V){_.emplaceBack(R.x,R.y,V),_.emplaceBack(R.x,R.y,V),_.emplaceBack(R.x,R.y,V),_.emplaceBack(R.x,R.y,V)}function xT(_){for(var R=0,V=_.sections;R<V.length;R+=1){var ae=V[R];if(rn(ae.text))return!0}return!1}var ev=function(R){this.layoutVertexArray=new Ju,this.indexArray=new wu,this.programConfigurations=R,this.segments=new oo,this.dynamicLayoutVertexArray=new Nv,this.opacityVertexArray=new Bv,this.placedSymbolArray=new Hv};ev.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},ev.prototype.upload=function(R,V,ae,ve){this.isEmpty()||(ae&&(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,x4.members),this.indexBuffer=R.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=R.createVertexBuffer(this.dynamicLayoutVertexArray,b4.members,!0),this.opacityVertexBuffer=R.createVertexBuffer(this.opacityVertexArray,mT,!0),this.opacityVertexBuffer.itemSize=1),(ae||ve)&&this.programConfigurations.upload(R))},ev.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Be("SymbolBuffers",ev);var rd=function(R,V,ae){this.layoutVertexArray=new R,this.layoutAttributes=V,this.indexArray=new ae,this.segments=new oo,this.collisionVertexArray=new gs};rd.prototype.upload=function(R){this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=R.createVertexBuffer(this.collisionVertexArray,w4.members,!0)},rd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Be("CollisionBuffers",rd);var xi=function(R){this.collisionBoxArray=R.collisionBoxArray,this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(vt){return vt.id}),this.index=R.index,this.pixelRatio=R.pixelRatio,this.sourceLayerIndex=R.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Uh([]),this.placementViewportMatrix=Uh([]);var V=this.layers[0],ae=V._unevaluatedLayout._values;this.textSizeData=cg(this.zoom,ae["text-size"]),this.iconSizeData=cg(this.zoom,ae["icon-size"]);var ve=this.layers[0].layout,we=ve.get("symbol-sort-key"),Ee=ve.get("symbol-z-order");this.canOverlap=ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement"),this.sortFeaturesByKey=Ee!=="viewport-y"&&we.constantOr(1)!==void 0;var Ke=Ee==="viewport-y"||Ee==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&this.canOverlap,ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(vt){return Qs[vt]})),this.stateDependentLayerIds=this.layers.filter(function(vt){return vt.isStateDependent()}).map(function(vt){return vt.id}),this.sourceID=R.sourceID};xi.prototype.createArrays=function(){this.text=new ev(new da(this.layers,this.zoom,function(R){return/^text/.test(R)})),this.icon=new ev(new da(this.layers,this.zoom,function(R){return/^icon/.test(R)})),this.glyphOffsetArray=new qd,this.lineVertexArray=new hl,this.symbolInstances=new $d},xi.prototype.calculateGlyphDependencies=function(R,V,ae,ve,we){for(var Ee=0;Ee<R.length;Ee++)if(V[R.charCodeAt(Ee)]=!0,(ae||ve)&&we){var Ke=Qv[R.charAt(Ee)];Ke&&(V[Ke.charCodeAt(0)]=!0)}},xi.prototype.populate=function(R,V,ae){var ve=this.layers[0],we=ve.layout,Ee=we.get("text-font"),Ke=we.get("text-field"),vt=we.get("icon-image"),Mt=(Ke.value.kind!=="constant"||Ke.value.value instanceof Ki&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(Ee.value.kind!=="constant"||Ee.value.value.length>0),_t=vt.value.kind!=="constant"||!!vt.value.value||Object.keys(vt.parameters).length>0,Yt=we.get("symbol-sort-key");if(this.features=[],!(!Mt&&!_t)){for(var ar=V.iconDependencies,er=V.glyphDependencies,br=V.availableImages,Br=new Ma(this.zoom),cn=0,nn=R;cn<nn.length;cn+=1){var Ln=nn[cn],yn=Ln.feature,Cn=Ln.id,kn=Ln.index,Yn=Ln.sourceLayerIndex,aa=ve._featureFilter.needGeometry,ta=Si(yn,aa);if(ve._featureFilter.filter(Br,ta,ae)){aa||(ta.geometry=ri(yn));var Ta=void 0;if(Mt){var pa=ve.getValueAndResolveTokens("text-field",ta,ae,br),ba=Ki.factory(pa);xT(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||Oa()==="unavailable"||this.hasRTLText&&qn.isParsed())&&(Ta=S4(ba,ve,ta))}var Va=void 0;if(_t){var Aa=ve.getValueAndResolveTokens("icon-image",ta,ae,br);Aa instanceof bo?Va=Aa:Va=bo.fromString(Aa)}if(!(!Ta&&!Va)){var La=this.sortFeaturesByKey?Yt.evaluate(ta,{},ae):void 0,Ya={id:Cn,text:Ta,icon:Va,index:kn,sourceLayerIndex:Yn,geometry:ta.geometry,properties:yn.properties,type:yT[yn.type],sortKey:La};if(this.features.push(Ya),Va&&(ar[Va.name]=!0),Ta){var Ba=Ee.evaluate(ta,{},ae).join(","),li=we.get("text-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qs.vertical)>=0;for(var bi=0,ui=Ta.sections;bi<ui.length;bi+=1){var fi=ui[bi];if(fi.image)ar[fi.image.name]=!0;else{var ni=nr(Ta.toString()),Mi=fi.fontStack||Ba,Ci=er[Mi]=er[Mi]||{};this.calculateGlyphDependencies(fi.text,Ci,li,this.allowVerticalPlacement,ni)}}}}}}we.get("symbol-placement")==="line"&&(this.features=M4(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ui,Yi){return Ui.sortKey-Yi.sortKey})}},xi.prototype.update=function(R,V,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(R,V,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(R,V,this.layers,ae))},xi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},xi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},xi.prototype.upload=function(R){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(R),this.iconCollisionBox.upload(R)),this.text.upload(R,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(R,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},xi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},xi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},xi.prototype.addToLineVertexArray=function(R,V){var ae=this.lineVertexArray.length;if(R.segment!==void 0){for(var ve=R.dist(V[R.segment+1]),we=R.dist(V[R.segment]),Ee={},Ke=R.segment+1;Ke<V.length;Ke++)Ee[Ke]={x:V[Ke].x,y:V[Ke].y,tileUnitDistanceFromAnchor:ve},Ke<V.length-1&&(ve+=V[Ke+1].dist(V[Ke]));for(var vt=R.segment||0;vt>=0;vt--)Ee[vt]={x:V[vt].x,y:V[vt].y,tileUnitDistanceFromAnchor:we},vt>0&&(we+=V[vt-1].dist(V[vt]));for(var Mt=0;Mt<V.length;Mt++){var _t=Ee[Mt];this.lineVertexArray.emplaceBack(_t.x,_t.y,_t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},xi.prototype.addSymbols=function(R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt,ar){for(var er=R.indexArray,br=R.layoutVertexArray,Br=R.segments.prepareSegment(4*V.length,br,er,this.canOverlap?Ee.sortKey:void 0),cn=this.glyphOffsetArray.length,nn=Br.vertexLength,Ln=this.allowVerticalPlacement&&Ke===Qs.vertical?Math.PI/2:0,yn=Ee.text&&Ee.text.sections,Cn=0;Cn<V.length;Cn++){var kn=V[Cn],Yn=kn.tl,aa=kn.tr,ta=kn.bl,Ta=kn.br,pa=kn.tex,ba=kn.pixelOffsetTL,Va=kn.pixelOffsetBR,Aa=kn.minFontScaleX,La=kn.minFontScaleY,Ya=kn.glyphOffset,Ba=kn.isSDF,li=kn.sectionIndex,bi=Br.vertexLength,ui=Ya[1];yp(br,vt.x,vt.y,Yn.x,ui+Yn.y,pa.x,pa.y,ae,Ba,ba.x,ba.y,Aa,La),yp(br,vt.x,vt.y,aa.x,ui+aa.y,pa.x+pa.w,pa.y,ae,Ba,Va.x,ba.y,Aa,La),yp(br,vt.x,vt.y,ta.x,ui+ta.y,pa.x,pa.y+pa.h,ae,Ba,ba.x,Va.y,Aa,La),yp(br,vt.x,vt.y,Ta.x,ui+Ta.y,pa.x+pa.w,pa.y+pa.h,ae,Ba,Va.x,Va.y,Aa,La),dg(R.dynamicLayoutVertexArray,vt,Ln),er.emplaceBack(bi,bi+1,bi+2),er.emplaceBack(bi+1,bi+2,bi+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ya[0]),(Cn===V.length-1||li!==V[Cn+1].sectionIndex)&&R.programConfigurations.populatePaintArrays(br.length,Ee,Ee.index,{},ar,yn&&yn[li])}R.placedSymbolArray.emplaceBack(vt.x,vt.y,cn,this.glyphOffsetArray.length-cn,nn,Mt,_t,vt.segment,ae?ae[0]:0,ae?ae[1]:0,ve[0],ve[1],Ke,0,!1,0,Yt)},xi.prototype._addCollisionDebugVertex=function(R,V,ae,ve,we,Ee){return V.emplaceBack(0,0),R.emplaceBack(ae.x,ae.y,ve,we,Math.round(Ee.x),Math.round(Ee.y))},xi.prototype.addCollisionDebugVertices=function(R,V,ae,ve,we,Ee,Ke){var vt=we.segments.prepareSegment(4,we.layoutVertexArray,we.indexArray),Mt=vt.vertexLength,_t=we.layoutVertexArray,Yt=we.collisionVertexArray,ar=Ke.anchorX,er=Ke.anchorY;this._addCollisionDebugVertex(_t,Yt,Ee,ar,er,new r(R,V)),this._addCollisionDebugVertex(_t,Yt,Ee,ar,er,new r(ae,V)),this._addCollisionDebugVertex(_t,Yt,Ee,ar,er,new r(ae,ve)),this._addCollisionDebugVertex(_t,Yt,Ee,ar,er,new r(R,ve)),vt.vertexLength+=4;var br=we.indexArray;br.emplaceBack(Mt,Mt+1),br.emplaceBack(Mt+1,Mt+2),br.emplaceBack(Mt+2,Mt+3),br.emplaceBack(Mt+3,Mt),vt.primitiveLength+=4},xi.prototype.addDebugCollisionBoxes=function(R,V,ae,ve){for(var we=R;we<V;we++){var Ee=this.collisionBoxArray.get(we),Ke=Ee.x1,vt=Ee.y1,Mt=Ee.x2,_t=Ee.y2;this.addCollisionDebugVertices(Ke,vt,Mt,_t,ve?this.textCollisionBox:this.iconCollisionBox,Ee.anchorPoint,ae)}},xi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new rd(kh,o1.members,hh),this.iconCollisionBox=new rd(kh,o1.members,hh);for(var R=0;R<this.symbolInstances.length;R++){var V=this.symbolInstances.get(R);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},xi.prototype._deserializeCollisionBoxesForSymbol=function(R,V,ae,ve,we,Ee,Ke,vt,Mt){for(var _t={},Yt=V;Yt<ae;Yt++){var ar=R.get(Yt);_t.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},_t.textFeatureIndex=ar.featureIndex;break}for(var er=ve;er<we;er++){var br=R.get(er);_t.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},_t.verticalTextFeatureIndex=br.featureIndex;break}for(var Br=Ee;Br<Ke;Br++){var cn=R.get(Br);_t.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},_t.iconFeatureIndex=cn.featureIndex;break}for(var nn=vt;nn<Mt;nn++){var Ln=R.get(nn);_t.verticalIconBox={x1:Ln.x1,y1:Ln.y1,x2:Ln.x2,y2:Ln.y2,anchorPointX:Ln.anchorPointX,anchorPointY:Ln.anchorPointY},_t.verticalIconFeatureIndex=Ln.featureIndex;break}return _t},xi.prototype.deserializeCollisionBoxes=function(R){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var ae=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(R,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},xi.prototype.hasTextData=function(){return this.text.segments.get().length>0},xi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},xi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},xi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},xi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},xi.prototype.addIndicesForPlacedSymbol=function(R,V){for(var ae=R.placedSymbolArray.get(V),ve=ae.vertexStartIndex+ae.numGlyphs*4,we=ae.vertexStartIndex;we<ve;we+=4)R.indexArray.emplaceBack(we,we+1,we+2),R.indexArray.emplaceBack(we+1,we+2,we+3)},xi.prototype.getSortedSymbolIndexes=function(R){if(this.sortedAngle===R&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var V=Math.sin(R),ae=Math.cos(R),ve=[],we=[],Ee=[],Ke=0;Ke<this.symbolInstances.length;++Ke){Ee.push(Ke);var vt=this.symbolInstances.get(Ke);ve.push(Math.round(V*vt.anchorX+ae*vt.anchorY)|0),we.push(vt.featureIndex)}return Ee.sort(function(Mt,_t){return ve[Mt]-ve[_t]||we[_t]-we[Mt]}),Ee},xi.prototype.addToSortKeyRanges=function(R,V){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===V?ae.symbolInstanceEnd=R+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:R,symbolInstanceEnd:R+1})},xi.prototype.sortFeatures=function(R){var V=this;if(this.sortFeaturesByY&&this.sortedAngle!==R&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(R),this.sortedAngle=R,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,ve=this.symbolInstanceIndexes;ae<ve.length;ae+=1){var we=ve[ae],Ee=this.symbolInstances.get(we);this.featureSortOrder.push(Ee.featureIndex),[Ee.rightJustifiedTextSymbolIndex,Ee.centerJustifiedTextSymbolIndex,Ee.leftJustifiedTextSymbolIndex].forEach(function(Ke,vt,Mt){Ke>=0&&Mt.indexOf(Ke)===vt&&V.addIndicesForPlacedSymbol(V.text,Ke)}),Ee.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ee.verticalPlacedTextSymbolIndex),Ee.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ee.placedIconSymbolIndex),Ee.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ee.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Be("SymbolBucket",xi,{omit:["layers","collisionBoxArray","features","compareText"]}),xi.MAX_GLYPHS=65535,xi.addDynamicAttributes=dg;function bT(_,R){return R.replace(/{([^{}]+)}/g,function(V,ae){return ae in _?String(_[ae]):""})}var wT=new hi({"symbol-placement":new la(Ar.layout_symbol["symbol-placement"]),"symbol-spacing":new la(Ar.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new la(Ar.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pa(Ar.layout_symbol["symbol-sort-key"]),"symbol-z-order":new la(Ar.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new la(Ar.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new la(Ar.layout_symbol["icon-ignore-placement"]),"icon-optional":new la(Ar.layout_symbol["icon-optional"]),"icon-rotation-alignment":new la(Ar.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pa(Ar.layout_symbol["icon-size"]),"icon-text-fit":new la(Ar.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new la(Ar.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pa(Ar.layout_symbol["icon-image"]),"icon-rotate":new Pa(Ar.layout_symbol["icon-rotate"]),"icon-padding":new la(Ar.layout_symbol["icon-padding"]),"icon-keep-upright":new la(Ar.layout_symbol["icon-keep-upright"]),"icon-offset":new Pa(Ar.layout_symbol["icon-offset"]),"icon-anchor":new Pa(Ar.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new la(Ar.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new la(Ar.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new la(Ar.layout_symbol["text-rotation-alignment"]),"text-field":new Pa(Ar.layout_symbol["text-field"]),"text-font":new Pa(Ar.layout_symbol["text-font"]),"text-size":new Pa(Ar.layout_symbol["text-size"]),"text-max-width":new Pa(Ar.layout_symbol["text-max-width"]),"text-line-height":new la(Ar.layout_symbol["text-line-height"]),"text-letter-spacing":new Pa(Ar.layout_symbol["text-letter-spacing"]),"text-justify":new Pa(Ar.layout_symbol["text-justify"]),"text-radial-offset":new Pa(Ar.layout_symbol["text-radial-offset"]),"text-variable-anchor":new la(Ar.layout_symbol["text-variable-anchor"]),"text-anchor":new Pa(Ar.layout_symbol["text-anchor"]),"text-max-angle":new la(Ar.layout_symbol["text-max-angle"]),"text-writing-mode":new la(Ar.layout_symbol["text-writing-mode"]),"text-rotate":new Pa(Ar.layout_symbol["text-rotate"]),"text-padding":new la(Ar.layout_symbol["text-padding"]),"text-keep-upright":new la(Ar.layout_symbol["text-keep-upright"]),"text-transform":new Pa(Ar.layout_symbol["text-transform"]),"text-offset":new Pa(Ar.layout_symbol["text-offset"]),"text-allow-overlap":new la(Ar.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new la(Ar.layout_symbol["text-ignore-placement"]),"text-optional":new la(Ar.layout_symbol["text-optional"])}),TT=new hi({"icon-opacity":new Pa(Ar.paint_symbol["icon-opacity"]),"icon-color":new Pa(Ar.paint_symbol["icon-color"]),"icon-halo-color":new Pa(Ar.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pa(Ar.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pa(Ar.paint_symbol["icon-halo-blur"]),"icon-translate":new la(Ar.paint_symbol["icon-translate"]),"icon-translate-anchor":new la(Ar.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pa(Ar.paint_symbol["text-opacity"]),"text-color":new Pa(Ar.paint_symbol["text-color"],{runtimeType:En,getOverride:function(_){return _.textColor},hasOverride:function(_){return!!_.textColor}}),"text-halo-color":new Pa(Ar.paint_symbol["text-halo-color"]),"text-halo-width":new Pa(Ar.paint_symbol["text-halo-width"]),"text-halo-blur":new Pa(Ar.paint_symbol["text-halo-blur"]),"text-translate":new la(Ar.paint_symbol["text-translate"]),"text-translate-anchor":new la(Ar.paint_symbol["text-translate-anchor"])}),pg={paint:TT,layout:wT},tv=function(R){this.type=R.property.overrides?R.property.overrides.runtimeType:Gr,this.defaultValue=R};tv.prototype.evaluate=function(R){if(R.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(R.formattedSection))return V.getOverride(R.formattedSection)}return R.feature&&R.featureState?this.defaultValue.evaluate(R.feature,R.featureState):this.defaultValue.property.specification.default},tv.prototype.eachChild=function(R){if(!this.defaultValue.isConstant()){var V=this.defaultValue.value;R(V._styleExpression.expression)}},tv.prototype.outputDefined=function(){return!1},tv.prototype.serialize=function(){return null},Be("FormatSectionOverride",tv,{omit:["defaultValue"]});var AT=function(_){function R(V){_.call(this,V,pg)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ae,ve){if(_.prototype.recalculate.call(this,ae,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var we=this.layout.get("text-writing-mode");if(we){for(var Ee=[],Ke=0,vt=we;Ke<vt.length;Ke+=1){var Mt=vt[Ke];Ee.indexOf(Mt)<0&&Ee.push(Mt)}this.layout._values["text-writing-mode"]=Ee}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(ae,ve,we,Ee){var Ke=this.layout.get(ae).evaluate(ve,{},we,Ee),vt=this._unevaluatedLayout._values[ae];return!vt.isDataDriven()&&!hu(vt.value)&&Ke?bT(ve.properties,Ke):Ke},R.prototype.createBucket=function(ae){return new xi(ae)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var ae=0,ve=pg.paint.overridableProperties;ae<ve.length;ae+=1){var we=ve[ae];if(R.hasPaintOverride(this.layout,we)){var Ee=this.paint.get(we),Ke=new tv(Ee),vt=new js(Ke,Ee.property.specification),Mt=null;Ee.value.kind==="constant"||Ee.value.kind==="source"?Mt=new Gi("source",vt):Mt=new ds("composite",vt,Ee.value.zoomStops,Ee.value._interpolationType),this.paint._values[we]=new Ti(Ee.property,Mt,Ee.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,we){return!this.layout||ve.isDataDriven()||we.isDataDriven()?!1:R.hasPaintOverride(this.layout,ae)},R.hasPaintOverride=function(ae,ve){var we=ae.get("text-field"),Ee=pg.paint.properties[ve],Ke=!1,vt=function(Yt){for(var ar=0,er=Yt;ar<er.length;ar+=1){var br=er[ar];if(Ee.overrides&&Ee.overrides.hasOverride(br)){Ke=!0;return}}};if(we.value.kind==="constant"&&we.value.value instanceof Ki)vt(we.value.value.sections);else if(we.value.kind==="source"){var Mt=function(Yt){if(!Ke)if(Yt instanceof Oi&&Ii(Yt.value)===ga){var ar=Yt.value;vt(ar.sections)}else Yt instanceof no?vt(Yt.sections):Yt.eachChild(Mt)},_t=we.value;_t._styleExpression&&Mt(_t._styleExpression.expression)}return Ke},R}(Ni),ST=new hi({"background-color":new la(Ar.paint_background["background-color"]),"background-pattern":new Fo(Ar.paint_background["background-pattern"]),"background-opacity":new la(Ar.paint_background["background-opacity"])}),MT={paint:ST},ET=function(_){function R(V){_.call(this,V,MT)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(Ni),CT=new hi({"raster-opacity":new la(Ar.paint_raster["raster-opacity"]),"raster-hue-rotate":new la(Ar.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new la(Ar.paint_raster["raster-brightness-min"]),"raster-brightness-max":new la(Ar.paint_raster["raster-brightness-max"]),"raster-saturation":new la(Ar.paint_raster["raster-saturation"]),"raster-contrast":new la(Ar.paint_raster["raster-contrast"]),"raster-resampling":new la(Ar.paint_raster["raster-resampling"]),"raster-fade-duration":new la(Ar.paint_raster["raster-fade-duration"])}),LT={paint:CT},PT=function(_){function R(V){_.call(this,V,LT)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(Ni);function _T(_){var R=[],V=_.id;return V===void 0&&R.push({message:"layers."+V+': missing required property "id"'}),_.render===void 0&&R.push({message:"layers."+V+': missing required method "render"'}),_.renderingMode&&_.renderingMode!=="2d"&&_.renderingMode!=="3d"&&R.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),R}var RT=function(_){function R(V){_.call(this,V,{}),this.implementation=V}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},R.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},R}(Ni),DT={circle:t2,heatmap:i2,hillshade:l2,fill:k2,"fill-extrusion":t4,line:y4,symbol:AT,background:ET,raster:PT};function IT(_){return _.type==="custom"?new RT(_):new DT[_.type](_)}var I1=a.HTMLImageElement,k1=a.HTMLCanvasElement,z1=a.HTMLVideoElement,O1=a.ImageData,mp=a.ImageBitmap,gh=function(R,V,ae,ve){this.context=R,this.format=ae,this.texture=R.gl.createTexture(),this.update(V,ve)};gh.prototype.update=function(R,V,ae){var ve=R.width,we=R.height,Ee=(!this.size||this.size[0]!==ve||this.size[1]!==we)&&!ae,Ke=this,vt=Ke.context,Mt=vt.gl;if(this.useMipmap=!!(V&&V.useMipmap),Mt.bindTexture(Mt.TEXTURE_2D,this.texture),vt.pixelStoreUnpackFlipY.set(!1),vt.pixelStoreUnpack.set(1),vt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Mt.RGBA&&(!V||V.premultiply!==!1)),Ee)this.size=[ve,we],R instanceof I1||R instanceof k1||R instanceof z1||R instanceof O1||mp&&R instanceof mp?Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,this.format,Mt.UNSIGNED_BYTE,R):Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,ve,we,0,this.format,Mt.UNSIGNED_BYTE,R.data);else{var _t=ae||{x:0,y:0},Yt=_t.x,ar=_t.y;R instanceof I1||R instanceof k1||R instanceof z1||R instanceof O1||mp&&R instanceof mp?Mt.texSubImage2D(Mt.TEXTURE_2D,0,Yt,ar,Mt.RGBA,Mt.UNSIGNED_BYTE,R):Mt.texSubImage2D(Mt.TEXTURE_2D,0,Yt,ar,ve,we,Mt.RGBA,Mt.UNSIGNED_BYTE,R.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Mt.generateMipmap(Mt.TEXTURE_2D)},gh.prototype.bind=function(R,V,ae){var ve=this,we=ve.context,Ee=we.gl;Ee.bindTexture(Ee.TEXTURE_2D,this.texture),ae===Ee.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Ee.LINEAR),R!==this.filter&&(Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MAG_FILTER,R),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MIN_FILTER,ae||R),this.filter=R),V!==this.wrap&&(Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_S,V),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_T,V),this.wrap=V)},gh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},gh.prototype.destroy=function(){var R=this.context,V=R.gl;V.deleteTexture(this.texture),this.texture=null};var gg=function(R){var V=this;this._callback=R,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};gg.prototype.trigger=function(){var R=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){R._triggered=!1,R._callback()},0))},gg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var rv=function(R,V,ae){this.target=R,this.parent=V,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new gg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=J()?R:a};rv.prototype.send=function(R,V,ae,ve,we){var Ee=this;we===void 0&&(we=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Ke]=ae);var vt=le(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:R,hasCallback:!!ae,targetMapId:ve,mustQueue:we,sourceMapId:this.mapId,data:Pt(V,vt)},vt),{cancel:function(){ae&&delete Ee.callbacks[Ke],Ee.target.postMessage({id:Ke,type:"<cancel>",targetMapId:ve,sourceMapId:Ee.mapId})}}},rv.prototype.receive=function(R){var V=R.data,ae=V.id;if(ae&&!(V.targetMapId&&this.mapId!==V.targetMapId))if(V.type==="<cancel>"){delete this.tasks[ae];var ve=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],ve&&ve()}else J()||V.mustQueue?(this.tasks[ae]=V,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,V)},rv.prototype.process=function(){if(this.taskQueue.length){var R=this.taskQueue.shift(),V=this.tasks[R];delete this.tasks[R],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(R,V)}},rv.prototype.processTask=function(R,V){var ae=this;if(V.type==="<response>"){var ve=this.callbacks[R];delete this.callbacks[R],ve&&(V.error?ve(St(V.error)):ve(null,St(V.data)))}else{var we=!1,Ee=le(this.globalScope)?void 0:[],Ke=V.hasCallback?function(ar,er){we=!0,delete ae.cancelCallbacks[R],ae.target.postMessage({id:R,type:"<response>",sourceMapId:ae.mapId,error:ar?Pt(ar):null,data:Pt(er,Ee)},Ee)}:function(ar){we=!0},vt=null,Mt=St(V.data);if(this.parent[V.type])vt=this.parent[V.type](V.sourceMapId,Mt,Ke);else if(this.parent.getWorkerSource){var _t=V.type.split("."),Yt=this.parent.getWorkerSource(V.sourceMapId,_t[0],Mt.source);vt=Yt[_t[1]](Mt,Ke)}else Ke(new Error("Could not find function "+V.type));!we&&vt&&vt.cancel&&(this.cancelCallbacks[R]=vt.cancel)}},rv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function kT(_,R,V){R=Math.pow(2,V)-R-1;var ae=F1(_*256,R*256,V),ve=F1((_+1)*256,(R+1)*256,V);return ae[0]+","+ae[1]+","+ve[0]+","+ve[1]}function F1(_,R,V){var ae=2*Math.PI*6378137/256/Math.pow(2,V),ve=_*ae-2*Math.PI*6378137/2,we=R*ae-2*Math.PI*6378137/2;return[ve,we]}var lo=function(R,V){R&&(V?this.setSouthWest(R).setNorthEast(V):R.length===4?this.setSouthWest([R[0],R[1]]).setNorthEast([R[2],R[3]]):this.setSouthWest(R[0]).setNorthEast(R[1]))};lo.prototype.setNorthEast=function(R){return this._ne=R instanceof Ri?new Ri(R.lng,R.lat):Ri.convert(R),this},lo.prototype.setSouthWest=function(R){return this._sw=R instanceof Ri?new Ri(R.lng,R.lat):Ri.convert(R),this},lo.prototype.extend=function(R){var V=this._sw,ae=this._ne,ve,we;if(R instanceof Ri)ve=R,we=R;else if(R instanceof lo){if(ve=R._sw,we=R._ne,!ve||!we)return this}else{if(Array.isArray(R))if(R.length===4||R.every(Array.isArray)){var Ee=R;return this.extend(lo.convert(Ee))}else{var Ke=R;return this.extend(Ri.convert(Ke))}return this}return!V&&!ae?(this._sw=new Ri(ve.lng,ve.lat),this._ne=new Ri(we.lng,we.lat)):(V.lng=Math.min(ve.lng,V.lng),V.lat=Math.min(ve.lat,V.lat),ae.lng=Math.max(we.lng,ae.lng),ae.lat=Math.max(we.lat,ae.lat)),this},lo.prototype.getCenter=function(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},lo.prototype.getSouthWest=function(){return this._sw},lo.prototype.getNorthEast=function(){return this._ne},lo.prototype.getNorthWest=function(){return new Ri(this.getWest(),this.getNorth())},lo.prototype.getSouthEast=function(){return new Ri(this.getEast(),this.getSouth())},lo.prototype.getWest=function(){return this._sw.lng},lo.prototype.getSouth=function(){return this._sw.lat},lo.prototype.getEast=function(){return this._ne.lng},lo.prototype.getNorth=function(){return this._ne.lat},lo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},lo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},lo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},lo.prototype.contains=function(R){var V=Ri.convert(R),ae=V.lng,ve=V.lat,we=this._sw.lat<=ve&&ve<=this._ne.lat,Ee=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ee=this._sw.lng>=ae&&ae>=this._ne.lng),we&&Ee},lo.convert=function(R){return!R||R instanceof lo?R:new lo(R)};var N1=63710088e-1,Ri=function(R,V){if(isNaN(R)||isNaN(V))throw new Error("Invalid LngLat object: ("+R+", "+V+")");if(this.lng=+R,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ri.prototype.wrap=function(){return new Ri(T(this.lng,-180,180),this.lat)},Ri.prototype.toArray=function(){return[this.lng,this.lat]},Ri.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ri.prototype.distanceTo=function(R){var V=Math.PI/180,ae=this.lat*V,ve=R.lat*V,we=Math.sin(ae)*Math.sin(ve)+Math.cos(ae)*Math.cos(ve)*Math.cos((R.lng-this.lng)*V),Ee=N1*Math.acos(Math.min(we,1));return Ee},Ri.prototype.toBounds=function(R){R===void 0&&(R=0);var V=40075017,ae=360*R/V,ve=ae/Math.cos(Math.PI/180*this.lat);return new lo(new Ri(this.lng-ve,this.lat-ae),new Ri(this.lng+ve,this.lat+ae))},Ri.convert=function(R){if(R instanceof Ri)return R;if(Array.isArray(R)&&(R.length===2||R.length===3))return new Ri(Number(R[0]),Number(R[1]));if(!Array.isArray(R)&&typeof R=="object"&&R!==null)return new Ri(Number("lng"in R?R.lng:R.lon),Number(R.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var B1=2*Math.PI*N1;function U1(_){return B1*Math.cos(_*Math.PI/180)}function V1(_){return(180+_)/360}function H1(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function G1(_,R){return _/U1(R)}function zT(_){return _*360-180}function yg(_){var R=180-_*360;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}function OT(_,R){return _*U1(yg(R))}function FT(_){return 1/Math.cos(_*Math.PI/180)}var yh=function(R,V,ae){ae===void 0&&(ae=0),this.x=+R,this.y=+V,this.z=+ae};yh.fromLngLat=function(R,V){V===void 0&&(V=0);var ae=Ri.convert(R);return new yh(V1(ae.lng),H1(ae.lat),G1(V,ae.lat))},yh.prototype.toLngLat=function(){return new Ri(zT(this.x),yg(this.y))},yh.prototype.toAltitude=function(){return OT(this.z,this.y)},yh.prototype.meterInMercatorCoordinateUnits=function(){return 1/B1*FT(yg(this.y))};var mh=function(R,V,ae){this.z=R,this.x=V,this.y=ae,this.key=nd(0,R,R,V,ae)};mh.prototype.equals=function(R){return this.z===R.z&&this.x===R.x&&this.y===R.y},mh.prototype.url=function(R,V){var ae=kT(this.x,this.y,this.z),ve=NT(this.z,this.x,this.y);return R[(this.x+this.y)%R.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(V==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ae)},mh.prototype.getTilePoint=function(R){var V=Math.pow(2,this.z);return new r((R.x*V-this.x)*Ea,(R.y*V-this.y)*Ea)},mh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var W1=function(R,V){this.wrap=R,this.canonical=V,this.key=nd(R,V.z,V.z,V.x,V.y)},uo=function(R,V,ae,ve,we){this.overscaledZ=R,this.wrap=V,this.canonical=new mh(ae,+ve,+we),this.key=nd(V,R,ae,ve,we)};uo.prototype.equals=function(R){return this.overscaledZ===R.overscaledZ&&this.wrap===R.wrap&&this.canonical.equals(R.canonical)},uo.prototype.scaledTo=function(R){var V=this.canonical.z-R;return R>this.canonical.z?new uo(R,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new uo(R,this.wrap,R,this.canonical.x>>V,this.canonical.y>>V)},uo.prototype.calculateScaledKey=function(R,V){var ae=this.canonical.z-R;return R>this.canonical.z?nd(this.wrap*+V,R,this.canonical.z,this.canonical.x,this.canonical.y):nd(this.wrap*+V,R,R,this.canonical.x>>ae,this.canonical.y>>ae)},uo.prototype.isChildOf=function(R){if(R.wrap!==this.wrap)return!1;var V=this.canonical.z-R.canonical.z;return R.overscaledZ===0||R.overscaledZ<this.overscaledZ&&R.canonical.x===this.canonical.x>>V&&R.canonical.y===this.canonical.y>>V},uo.prototype.children=function(R){if(this.overscaledZ>=R)return[new uo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,ae=this.canonical.x*2,ve=this.canonical.y*2;return[new uo(V,this.wrap,V,ae,ve),new uo(V,this.wrap,V,ae+1,ve),new uo(V,this.wrap,V,ae,ve+1),new uo(V,this.wrap,V,ae+1,ve+1)]},uo.prototype.isLessThan=function(R){return this.wrap<R.wrap?!0:this.wrap>R.wrap?!1:this.overscaledZ<R.overscaledZ?!0:this.overscaledZ>R.overscaledZ?!1:this.canonical.x<R.canonical.x?!0:this.canonical.x>R.canonical.x?!1:this.canonical.y<R.canonical.y},uo.prototype.wrapped=function(){return new uo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},uo.prototype.unwrapTo=function(R){return new uo(this.overscaledZ,R,this.canonical.z,this.canonical.x,this.canonical.y)},uo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},uo.prototype.toUnwrapped=function(){return new W1(this.wrap,this.canonical)},uo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},uo.prototype.getTilePoint=function(R){return this.canonical.getTilePoint(new yh(R.x-this.wrap,R.y))};function nd(_,R,V,ae,ve){_*=2,_<0&&(_=_*-1-1);var we=1<<V;return(we*we*_+we*ve+ae).toString(36)+V.toString(36)+R.toString(36)}function NT(_,R,V){for(var ae="",ve,we=_;we>0;we--)ve=1<<we-1,ae+=(R&ve?1:0)+(V&ve?2:0);return ae}Be("CanonicalTileID",mh),Be("OverscaledTileID",uo,{omit:["posMatrix"]});var Lf=function(R,V,ae){if(this.uid=R,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return F('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var ve=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=ae||"mapbox";for(var we=0;we<ve;we++)this.data[this._idx(-1,we)]=this.data[this._idx(0,we)],this.data[this._idx(ve,we)]=this.data[this._idx(ve-1,we)],this.data[this._idx(we,-1)]=this.data[this._idx(we,0)],this.data[this._idx(we,ve)]=this.data[this._idx(we,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Lf.prototype.get=function(R,V){var ae=new Uint8Array(this.data.buffer),ve=this._idx(R,V)*4,we=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return we(ae[ve],ae[ve+1],ae[ve+2])},Lf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Lf.prototype._idx=function(R,V){if(R<-1||R>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(R+1)},Lf.prototype._unpackMapbox=function(R,V,ae){return(R*256*256+V*256+ae)/10-1e4},Lf.prototype._unpackTerrarium=function(R,V,ae){return R*256+V+ae/256-32768},Lf.prototype.getPixels=function(){return new bs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Lf.prototype.backfillBorder=function(R,V,ae){if(this.dim!==R.dim)throw new Error("dem dimension mismatch");var ve=V*this.dim,we=V*this.dim+this.dim,Ee=ae*this.dim,Ke=ae*this.dim+this.dim;switch(V){case-1:ve=we-1;break;case 1:we=ve+1;break}switch(ae){case-1:Ee=Ke-1;break;case 1:Ke=Ee+1;break}for(var vt=-V*this.dim,Mt=-ae*this.dim,_t=Ee;_t<Ke;_t++)for(var Yt=ve;Yt<we;Yt++)this.data[this._idx(Yt,_t)]=R.data[this._idx(Yt+vt,_t+Mt)]},Be("DEMData",Lf);function BT(_,R){var V={};if(!R)return V;for(var ae=function(){var Ee=we[ve],Ke=Ee.layerIds.map(function(Yt){return R.getLayer(Yt)}).filter(Boolean);if(Ke.length!==0){Ee.layers=Ke,Ee.stateDependentLayerIds&&(Ee.stateDependentLayers=Ee.stateDependentLayerIds.map(function(Yt){return Ke.filter(function(ar){return ar.id===Yt})[0]}));for(var vt=0,Mt=Ke;vt<Mt.length;vt+=1){var _t=Mt[vt];V[_t.id]=Ee}}},ve=0,we=_;ve<we.length;ve+=1)ae();return V}var xp=function(R){this._stringToNumber={},this._numberToString=[];for(var V=0;V<R.length;V++){var ae=R[V];this._stringToNumber[ae]=V,this._numberToString[V]=ae}};xp.prototype.encode=function(R){return this._stringToNumber[R]},xp.prototype.decode=function(R){return this._numberToString[R]};var bp=function(R,V,ae,ve,we){this.type="Feature",this._vectorTileFeature=R,R._z=V,R._x=ae,R._y=ve,this.properties=R.properties,this.id=we},mg={geometry:{configurable:!0}};mg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},mg.geometry.set=function(_){this._geometry=_},bp.prototype.toJSON=function(){var R={geometry:this.geometry};for(var V in this)V==="_geometry"||V==="_vectorTileFeature"||(R[V]=this[V]);return R},Object.defineProperties(bp.prototype,mg);var nv=function(){this.state={},this.stateChanges={},this.deletedStates={}};nv.prototype.updateState=function(R,V,ae){var ve=String(V);if(this.stateChanges[R]=this.stateChanges[R]||{},this.stateChanges[R][ve]=this.stateChanges[R][ve]||{},b(this.stateChanges[R][ve],ae),this.deletedStates[R]===null){this.deletedStates[R]={};for(var we in this.state[R])we!==ve&&(this.deletedStates[R][we]=null)}else{var Ee=this.deletedStates[R]&&this.deletedStates[R][ve]===null;if(Ee){this.deletedStates[R][ve]={};for(var Ke in this.state[R][ve])ae[Ke]||(this.deletedStates[R][ve][Ke]=null)}else for(var vt in ae){var Mt=this.deletedStates[R]&&this.deletedStates[R][ve]&&this.deletedStates[R][ve][vt]===null;Mt&&delete this.deletedStates[R][ve][vt]}}},nv.prototype.removeFeatureState=function(R,V,ae){var ve=this.deletedStates[R]===null;if(!ve){var we=String(V);if(this.deletedStates[R]=this.deletedStates[R]||{},ae&&V!==void 0)this.deletedStates[R][we]!==null&&(this.deletedStates[R][we]=this.deletedStates[R][we]||{},this.deletedStates[R][we][ae]=null);else if(V!==void 0){var Ee=this.stateChanges[R]&&this.stateChanges[R][we];if(Ee){this.deletedStates[R][we]={};for(ae in this.stateChanges[R][we])this.deletedStates[R][we][ae]=null}else this.deletedStates[R][we]=null}else this.deletedStates[R]=null}},nv.prototype.getState=function(R,V){var ae=String(V),ve=this.state[R]||{},we=this.stateChanges[R]||{},Ee=b({},ve[ae],we[ae]);if(this.deletedStates[R]===null)return{};if(this.deletedStates[R]){var Ke=this.deletedStates[R][V];if(Ke===null)return{};for(var vt in Ke)delete Ee[vt]}return Ee},nv.prototype.initializeTileState=function(R,V){R.setFeatureState(this.state,V)},nv.prototype.coalesceChanges=function(R,V){var ae={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var we={};for(var Ee in this.stateChanges[ve])this.state[ve][Ee]||(this.state[ve][Ee]={}),b(this.state[ve][Ee],this.stateChanges[ve][Ee]),we[Ee]=this.state[ve][Ee];ae[ve]=we}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var vt={};if(this.deletedStates[Ke]===null)for(var Mt in this.state[Ke])vt[Mt]={},this.state[Ke][Mt]={};else for(var _t in this.deletedStates[Ke]){var Yt=this.deletedStates[Ke][_t]===null;if(Yt)this.state[Ke][_t]={};else for(var ar=0,er=Object.keys(this.deletedStates[Ke][_t]);ar<er.length;ar+=1){var br=er[ar];delete this.state[Ke][_t][br]}vt[_t]=this.state[Ke][_t]}ae[Ke]=ae[Ke]||{},b(ae[Ke],vt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Br in R){var cn=R[Br];cn.setFeatureState(ae,V)}};var Pf=function(R,V){this.tileID=R,this.x=R.canonical.x,this.y=R.canonical.y,this.z=R.canonical.z,this.grid=new Na(Ea,16,0),this.grid3D=new Na(Ea,16,0),this.featureIndexArray=new tp,this.promoteId=V};Pf.prototype.insert=function(R,V,ae,ve,we,Ee){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,ve,we);for(var vt=Ee?this.grid3D:this.grid,Mt=0;Mt<V.length;Mt++){for(var _t=V[Mt],Yt=[1/0,1/0,-1/0,-1/0],ar=0;ar<_t.length;ar++){var er=_t[ar];Yt[0]=Math.min(Yt[0],er.x),Yt[1]=Math.min(Yt[1],er.y),Yt[2]=Math.max(Yt[2],er.x),Yt[3]=Math.max(Yt[3],er.y)}Yt[0]<Ea&&Yt[1]<Ea&&Yt[2]>=0&&Yt[3]>=0&&vt.insert(Ke,Yt[0],Yt[1],Yt[2],Yt[3])}},Pf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new jh.VectorTile(new up(this.rawTileData)).layers,this.sourceLayerCoder=new xp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Pf.prototype.query=function(R,V,ae,ve){var we=this;this.loadVTLayers();for(var Ee=R.params||{},Ke=Ea/R.tileSize/R.scale,vt=Zs(Ee.filter),Mt=R.queryGeometry,_t=R.queryPadding*Ke,Yt=Y1(Mt),ar=this.grid.query(Yt.minX-_t,Yt.minY-_t,Yt.maxX+_t,Yt.maxY+_t),er=Y1(R.cameraQueryGeometry),br=this.grid3D.query(er.minX-_t,er.minY-_t,er.maxX+_t,er.maxY+_t,function(Yn,aa,ta,Ta){return Yl(R.cameraQueryGeometry,Yn-_t,aa-_t,ta+_t,Ta+_t)}),Br=0,cn=br;Br<cn.length;Br+=1){var nn=cn[Br];ar.push(nn)}ar.sort(UT);for(var Ln={},yn,Cn=function(Yn){var aa=ar[Yn];if(aa!==yn){yn=aa;var ta=we.featureIndexArray.get(aa),Ta=null;we.loadMatchingFeature(Ln,ta.bucketIndex,ta.sourceLayerIndex,ta.featureIndex,vt,Ee.layers,Ee.availableImages,V,ae,ve,function(pa,ba,Va){return Ta||(Ta=ri(pa)),ba.queryIntersectsFeature(Mt,pa,Va,Ta,we.z,R.transform,Ke,R.pixelPosMatrix)})}},kn=0;kn<ar.length;kn++)Cn(kn);return Ln},Pf.prototype.loadMatchingFeature=function(R,V,ae,ve,we,Ee,Ke,vt,Mt,_t,Yt){var ar=this.bucketLayerIDs[V];if(!(Ee&&!k(Ee,ar))){var er=this.sourceLayerCoder.decode(ae),br=this.vtLayers[er],Br=br.feature(ve);if(we.needGeometry){var cn=Si(Br,!0);if(!we.filter(new Ma(this.tileID.overscaledZ),cn,this.tileID.canonical))return}else if(!we.filter(new Ma(this.tileID.overscaledZ),Br))return;for(var nn=this.getId(Br,er),Ln=0;Ln<ar.length;Ln++){var yn=ar[Ln];if(!(Ee&&Ee.indexOf(yn)<0)){var Cn=vt[yn];if(Cn){var kn={};nn!==void 0&&_t&&(kn=_t.getState(Cn.sourceLayer||"_geojsonTileLayer",nn));var Yn=b({},Mt[yn]);Yn.paint=j1(Yn.paint,Cn.paint,Br,kn,Ke),Yn.layout=j1(Yn.layout,Cn.layout,Br,kn,Ke);var aa=!Yt||Yt(Br,Cn,kn);if(aa){var ta=new bp(Br,this.z,this.x,this.y,nn);ta.layer=Yn;var Ta=R[yn];Ta===void 0&&(Ta=R[yn]=[]),Ta.push({featureIndex:ve,feature:ta,intersectionZ:aa})}}}}}},Pf.prototype.lookupSymbolFeatures=function(R,V,ae,ve,we,Ee,Ke,vt){var Mt={};this.loadVTLayers();for(var _t=Zs(we),Yt=0,ar=R;Yt<ar.length;Yt+=1){var er=ar[Yt];this.loadMatchingFeature(Mt,ae,ve,er,_t,Ee,Ke,vt,V)}return Mt},Pf.prototype.hasLayer=function(R){for(var V=0,ae=this.bucketLayerIDs;V<ae.length;V+=1)for(var ve=ae[V],we=0,Ee=ve;we<Ee.length;we+=1){var Ke=Ee[we];if(R===Ke)return!0}return!1},Pf.prototype.getId=function(R,V){var ae=R.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[V];ae=R.properties[ve],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Be("FeatureIndex",Pf,{omit:["rawTileData","sourceLayerCoder"]});function j1(_,R,V,ae,ve){return I(_,function(we,Ee){var Ke=R instanceof go?R.get(Ee):null;return Ke&&Ke.evaluate?Ke.evaluate(V,ae,ve):Ke})}function Y1(_){for(var R=1/0,V=1/0,ae=-1/0,ve=-1/0,we=0,Ee=_;we<Ee.length;we+=1){var Ke=Ee[we];R=Math.min(R,Ke.x),V=Math.min(V,Ke.y),ae=Math.max(ae,Ke.x),ve=Math.max(ve,Ke.y)}return{minX:R,minY:V,maxX:ae,maxY:ve}}function UT(_,R){return R-_}var VT=3e4,Ao=function(R,V){this.tileID=R,this.uid=y(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ao.prototype.registerFadeDuration=function(R){var V=R+this.timeAdded;V<se.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},Ao.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ao.prototype.loadVectorData=function(R,V,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!R){this.collisionBoxArray=new Vv;return}R.featureIndex&&(this.latestFeatureIndex=R.featureIndex,R.rawTileData?(this.latestRawTileData=R.rawTileData,this.latestFeatureIndex.rawTileData=R.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=R.collisionBoxArray,this.buckets=BT(R.buckets,V.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var we=this.buckets[ve];if(we instanceof xi)if(this.hasSymbolBuckets=!0,ae)we.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ee in this.buckets){var Ke=this.buckets[Ee];if(Ke instanceof xi&&Ke.hasRTLText){this.hasRTLText=!0,Ha();break}}this.queryPadding=0;for(var vt in this.buckets){var Mt=this.buckets[vt];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(vt).queryRadius(Mt))}R.imageAtlas&&(this.imageAtlas=R.imageAtlas),R.glyphAtlasImage&&(this.glyphAtlasImage=R.glyphAtlasImage)},Ao.prototype.unloadVectorData=function(){for(var R in this.buckets)this.buckets[R].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ao.prototype.getBucket=function(R){return this.buckets[R.id]},Ao.prototype.upload=function(R){for(var V in this.buckets){var ae=this.buckets[V];ae.uploadPending()&&ae.upload(R)}var ve=R.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new gh(R,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new gh(R,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},Ao.prototype.prepare=function(R){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(R,this.imageAtlasTexture)},Ao.prototype.queryRenderedFeatures=function(R,V,ae,ve,we,Ee,Ke,vt,Mt,_t){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:we,scale:Ee,tileSize:this.tileSize,pixelPosMatrix:_t,transform:vt,params:Ke,queryPadding:this.queryPadding*Mt},R,V,ae)},Ao.prototype.querySourceFeatures=function(R,V){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var ve=ae.loadVTLayers(),we=V?V.sourceLayer:"",Ee=ve._geojsonTileLayer||ve[we];if(Ee)for(var Ke=Zs(V&&V.filter),vt=this.tileID.canonical,Mt=vt.z,_t=vt.x,Yt=vt.y,ar={z:Mt,x:_t,y:Yt},er=0;er<Ee.length;er++){var br=Ee.feature(er);if(Ke.needGeometry){var Br=Si(br,!0);if(!Ke.filter(new Ma(this.tileID.overscaledZ),Br,this.tileID.canonical))continue}else if(!Ke.filter(new Ma(this.tileID.overscaledZ),br))continue;var cn=ae.getId(br,we),nn=new bp(br,Mt,_t,Yt,cn);nn.tile=ar,R.push(nn)}}},Ao.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ao.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ao.prototype.setExpiryData=function(R){var V=this.expirationTime;if(R.cacheControl){var ae=re(R.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else R.expires&&(this.expirationTime=new Date(R.expires).getTime());if(this.expirationTime){var ve=Date.now(),we=!1;if(this.expirationTime>ve)we=!1;else if(!V)we=!0;else if(this.expirationTime<V)we=!0;else{var Ee=this.expirationTime-V;Ee?this.expirationTime=ve+Math.max(Ee,VT):we=!0}we?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ao.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ao.prototype.setFeatureState=function(R,V){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(R).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(V.style.hasLayer(ve)){var we=this.buckets[ve],Ee=we.layers[0].sourceLayer||"_geojsonTileLayer",Ke=ae[Ee],vt=R[Ee];if(!(!Ke||!vt||Object.keys(vt).length===0)){we.update(vt,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Mt=V&&V.style&&V.style.getLayer(ve);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(we)))}}}},Ao.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ao.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Ao.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ao.prototype.setHoldDuration=function(R){this.symbolFadeHoldUntil=se.now()+R},Ao.prototype.setDependencies=function(R,V){for(var ae={},ve=0,we=V;ve<we.length;ve+=1){var Ee=we[ve];ae[Ee]=!0}this.dependencies[R]=ae},Ao.prototype.hasDependency=function(R,V){for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae],Ee=this.dependencies[we];if(Ee)for(var Ke=0,vt=V;Ke<vt.length;Ke+=1){var Mt=vt[Ke];if(Ee[Mt])return!0}}return!1};var HT=["type","source","source-layer","minzoom","maxzoom","filter","layout"],bc=a.performance,X1=function(R){this._marks={start:[R.url,"start"].join("#"),end:[R.url,"end"].join("#"),measure:R.url.toString()},bc.mark(this._marks.start)};X1.prototype.finish=function(){bc.mark(this._marks.end);var R=bc.getEntriesByName(this._marks.measure);return R.length===0&&(bc.measure(this._marks.measure,this._marks.start,this._marks.end),R=bc.getEntriesByName(this._marks.measure),bc.clearMarks(this._marks.start),bc.clearMarks(this._marks.end),bc.clearMeasures(this._marks.measure)),R},s.Actor=rv,s.AlphaImage=ph,s.CanonicalTileID=mh,s.CollisionBoxArray=Vv,s.Color=ti,s.DEMData=Lf,s.DataConstantProperty=la,s.DictionaryCoder=xp,s.EXTENT=Ea,s.ErrorEvent=Nt,s.EvaluationParameters=Ma,s.Event=tr,s.Evented=sr,s.FeatureIndex=Pf,s.FillBucket=Au,s.FillExtrusionBucket=Su,s.ImageAtlas=qv,s.ImagePosition=cp,s.LineBucket=as,s.LngLat=Ri,s.LngLatBounds=lo,s.MercatorCoordinate=yh,s.ONE_EM=Do,s.OverscaledTileID=uo,s.Point=r,s.Point$1=r,s.Properties=hi,s.Protobuf=up,s.RGBAImage=bs,s.RequestManager=Se,s.RequestPerformance=X1,s.ResourceType=yr,s.SegmentVector=oo,s.SourceFeatureState=nv,s.StructArrayLayout1ui2=hc,s.StructArrayLayout2f1f2i16=bu,s.StructArrayLayout2i4=Af,s.StructArrayLayout3ui6=wu,s.StructArrayLayout4i8=Fv,s.SymbolBucket=xi,s.Texture=gh,s.Tile=Ao,s.Transitionable=oi,s.Uniform1f=Xr,s.Uniform1i=kr,s.Uniform2f=Yr,s.Uniform3f=Wr,s.Uniform4f=Qr,s.UniformColor=dn,s.UniformMatrix4f=Un,s.UnwrappedTileID=W1,s.ValidationError=Nr,s.WritingMode=Qs,s.ZoomHistory=Gt,s.add=Hh,s.addDynamicAttributes=dg,s.asyncAll=c,s.bezier=l,s.bindAll=M,s.browser=se,s.cacheEntryPossiblyAdded=Rt,s.clamp=h,s.clearTileCache=ir,s.clipLine=C1,s.clone=Bh,s.clone$1=N,s.clone$2=Z0,s.collisionCircleLayout=T4,s.config=te,s.create=Nh,s.create$1=Ho,s.create$2=Fh,s.createCommonjsModule=L,s.createExpression=Ys,s.createLayout=Pi,s.createStyleLayer=IT,s.cross=Yw,s.deepEqual=n,s.dot=jw,s.dot$1=Qw,s.ease=g,s.emitValidationErrors=ka,s.endsWith=x,s.enforceCacheSizeLimit=Xt,s.evaluateSizeForFeature=b1,s.evaluateSizeForZoom=w1,s.evaluateVariableOffset=_1,s.evented=Ca,s.extend=b,s.featureFilter=Zs,s.filterObject=D,s.fromRotation=pc,s.getAnchorAlignment=fg,s.getAnchorJustification=vg,s.getArrayBuffer=Bt,s.getImage=It,s.getJSON=Ht,s.getRTLTextPluginStatus=Oa,s.getReferrer=mt,s.getVideo=Jt,s.identity=Uh,s.invert=gc,s.isChar=jt,s.isMapboxURL=ke,s.keysDifference=d,s.makeRequest=Dt,s.mapObject=I,s.mercatorXfromLng=V1,s.mercatorYfromLat=H1,s.mercatorZfromAltitude=G1,s.mul=X0,s.multiply=yc,s.mvt=jh,s.nextPowerOfTwo=A,s.normalize=Wv,s.number=_i,s.offscreenCanvasSupported=Qt,s.ortho=Y0,s.parseGlyphPBF=K4,s.pbf=up,s.performSymbolLayout=vT,s.perspective=Gv,s.pick=w,s.plugin=qn,s.polygonIntersectsPolygon=Wa,s.postMapLoadEvent=We,s.postTurnstileEvent=Ge,s.potpack=h1,s.refProperties=HT,s.register=Be,s.registerForPluginStateChange=ii,s.renderColorRamp=Wm,s.rotate=vh,s.rotateX=xs,s.rotateZ=Vh,s.scale=ms,s.scale$1=Jw,s.scale$2=J0,s.setCacheLimits=pt,s.setRTLTextPlugin=Fi,s.sphericalToCartesian=W,s.sqrLen=e2,s.styleSpec=Ar,s.sub=Zw,s.symbolSize=aT,s.transformMat3=Xw,s.transformMat4=np,s.translate=ji,s.triggerPluginCompletionEvent=ca,s.uniqueId=y,s.validateCustomStyleLayer=_T,s.validateLight=Kn,s.validateStyle=Dn,s.values=i,s.vectorTile=jh,s.version=S,s.warnOnce=F,s.webpSupported=fe,s.window=a,s.wrap=T}),P(["./shared"],function(s){function L(mt){var lt=typeof mt;if(lt==="number"||lt==="boolean"||lt==="string"||mt===void 0||mt===null)return JSON.stringify(mt);if(Array.isArray(mt)){for(var bt="[",Ct=0,Dt=mt;Ct<Dt.length;Ct+=1){var Ht=Dt[Ct];bt+=L(Ht)+","}return bt+"]"}for(var Bt=Object.keys(mt).sort(),xt="{",Ut=0;Ut<Bt.length;Ut++)xt+=JSON.stringify(Bt[Ut])+":"+L(mt[Bt[Ut]])+",";return xt+"}"}function S(mt){for(var lt="",bt=0,Ct=s.refProperties;bt<Ct.length;bt+=1){var Dt=Ct[bt];lt+="/"+L(mt[Dt])}return lt}function v(mt,lt){for(var bt={},Ct=0;Ct<mt.length;Ct++){var Dt=lt&&lt[mt[Ct].id]||S(mt[Ct]);lt&&(lt[mt[Ct].id]=Dt);var Ht=bt[Dt];Ht||(Ht=bt[Dt]=[]),Ht.push(mt[Ct])}var Bt=[];for(var xt in bt)Bt.push(bt[xt]);return Bt}var p=function(lt){this.keyCache={},lt&&this.replace(lt)};p.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},p.prototype.update=function(lt,bt){for(var Ct=this,Dt=0,Ht=lt;Dt<Ht.length;Dt+=1){var Bt=Ht[Dt];this._layerConfigs[Bt.id]=Bt;var xt=this._layers[Bt.id]=s.createStyleLayer(Bt);xt._featureFilter=s.featureFilter(xt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Ut=0,qt=bt;Ut<qt.length;Ut+=1){var or=qt[Ut];delete this.keyCache[or],delete this._layerConfigs[or],delete this._layers[or]}this.familiesBySource={};for(var rr=v(s.values(this._layerConfigs),this.keyCache),He=0,Ue=rr;He<Ue.length;He+=1){var Ot=Ue[He],It=Ot.map(function(sr){return Ct._layers[sr.id]}),Jt=It[0];if(Jt.visibility!=="none"){var cr=Jt.source||"",vr=this.familiesBySource[cr];vr||(vr=this.familiesBySource[cr]={});var tr=Jt.sourceLayer||"_geojsonTileLayer",Nt=vr[tr];Nt||(Nt=vr[tr]=[]),Nt.push(It)}}};var r=1,t=function(lt){var bt={},Ct=[];for(var Dt in lt){var Ht=lt[Dt],Bt=bt[Dt]={};for(var xt in Ht){var Ut=Ht[+xt];if(!(!Ut||Ut.bitmap.width===0||Ut.bitmap.height===0)){var qt={x:0,y:0,w:Ut.bitmap.width+2*r,h:Ut.bitmap.height+2*r};Ct.push(qt),Bt[xt]={rect:qt,metrics:Ut.metrics}}}}var or=s.potpack(Ct),rr=or.w,He=or.h,Ue=new s.AlphaImage({width:rr||1,height:He||1});for(var Ot in lt){var It=lt[Ot];for(var Jt in It){var cr=It[+Jt];if(!(!cr||cr.bitmap.width===0||cr.bitmap.height===0)){var vr=bt[Ot][Jt].rect;s.AlphaImage.copy(cr.bitmap,Ue,{x:0,y:0},{x:vr.x+r,y:vr.y+r},cr.bitmap)}}}this.image=Ue,this.positions=bt};s.register("GlyphAtlas",t);var a=function(lt){this.tileID=new s.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};a.prototype.parse=function(lt,bt,Ct,Dt,Ht){var Bt=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new s.CollisionBoxArray;var xt=new s.DictionaryCoder(Object.keys(lt.layers).sort()),Ut=new s.FeatureIndex(this.tileID,this.promoteId);Ut.bucketLayerIDs=[];var qt={},or={featureIndex:Ut,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ct},rr=bt.familiesBySource[this.source];for(var He in rr){var Ue=lt.layers[He];if(Ue){Ue.version===1&&s.warnOnce('Vector tile source "'+this.source+'" layer "'+He+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=xt.encode(He),It=[],Jt=0;Jt<Ue.length;Jt++){var cr=Ue.feature(Jt),vr=Ut.getId(cr,He);It.push({feature:cr,id:vr,index:Jt,sourceLayerIndex:Ot})}for(var tr=0,Nt=rr[He];tr<Nt.length;tr+=1){var sr=Nt[tr],dr=sr[0];if(!(dr.minzoom&&this.zoom<Math.floor(dr.minzoom))&&!(dr.maxzoom&&this.zoom>=dr.maxzoom)&&dr.visibility!=="none"){n(sr,this.zoom,Ct);var xr=qt[dr.id]=dr.createBucket({index:Ut.bucketLayerIDs.length,layers:sr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source});xr.populate(It,or,this.tileID.canonical),Ut.bucketLayerIDs.push(sr.map(function(Tr){return Tr.id}))}}}}var pr,Hr,_r,Dr,an=s.mapObject(or.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys(an).length?Dt.send("getGlyphs",{uid:this.uid,stacks:an},function(Tr,zr){pr||(pr=Tr,Hr=zr,Tn.call(Bt))}):Hr={};var tn=Object.keys(or.iconDependencies);tn.length?Dt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,zr){pr||(pr=Tr,_r=zr,Tn.call(Bt))}):_r={};var Sn=Object.keys(or.patternDependencies);Sn.length?Dt.send("getImages",{icons:Sn,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,zr){pr||(pr=Tr,Dr=zr,Tn.call(Bt))}):Dr={},Tn.call(this);function Tn(){if(pr)return Ht(pr);if(Hr&&_r&&Dr){var Tr=new t(Hr),zr=new s.ImageAtlas(_r,Dr);for(var jr in qt){var Or=qt[jr];Or instanceof s.SymbolBucket?(n(Or.layers,this.zoom,Ct),s.performSymbolLayout(Or,Hr,Tr.positions,_r,zr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Or.hasPattern&&(Or instanceof s.LineBucket||Or instanceof s.FillBucket||Or instanceof s.FillExtrusionBucket)&&(n(Or.layers,this.zoom,Ct),Or.addFeatures(or,this.tileID.canonical,zr.patternPositions))}this.status="done",Ht(null,{buckets:s.values(qt).filter(function(ln){return!ln.isEmpty()}),featureIndex:Ut,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:zr,glyphMap:this.returnDependencies?Hr:null,iconMap:this.returnDependencies?_r:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}};function n(mt,lt,bt){for(var Ct=new s.EvaluationParameters(lt),Dt=0,Ht=mt;Dt<Ht.length;Dt+=1){var Bt=Ht[Dt];Bt.recalculate(Ct,bt)}}function f(mt,lt){var bt=s.getArrayBuffer(mt.request,function(Ct,Dt,Ht,Bt){Ct?lt(Ct):Dt&&lt(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(Dt)),rawData:Dt,cacheControl:Ht,expires:Bt})});return function(){bt.cancel(),lt()}}var u=function(lt,bt,Ct,Dt){this.actor=lt,this.layerIndex=bt,this.availableImages=Ct,this.loadVectorData=Dt||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(lt,bt){var Ct=this,Dt=lt.uid;this.loading||(this.loading={});var Ht=lt&&lt.request&&lt.request.collectResourceTiming?new s.RequestPerformance(lt.request):!1,Bt=this.loading[Dt]=new a(lt);Bt.abort=this.loadVectorData(lt,function(xt,Ut){if(delete Ct.loading[Dt],xt||!Ut)return Bt.status="done",Ct.loaded[Dt]=Bt,bt(xt);var qt=Ut.rawData,or={};Ut.expires&&(or.expires=Ut.expires),Ut.cacheControl&&(or.cacheControl=Ut.cacheControl);var rr={};if(Ht){var He=Ht.finish();He&&(rr.resourceTiming=JSON.parse(JSON.stringify(He)))}Bt.vectorTile=Ut.vectorTile,Bt.parse(Ut.vectorTile,Ct.layerIndex,Ct.availableImages,Ct.actor,function(Ue,Ot){if(Ue||!Ot)return bt(Ue);bt(null,s.extend({rawTileData:qt.slice(0)},Ot,or,rr))}),Ct.loaded=Ct.loaded||{},Ct.loaded[Dt]=Bt})},u.prototype.reloadTile=function(lt,bt){var Ct=this,Dt=this.loaded,Ht=lt.uid,Bt=this;if(Dt&&Dt[Ht]){var xt=Dt[Ht];xt.showCollisionBoxes=lt.showCollisionBoxes;var Ut=function(qt,or){var rr=xt.reloadCallback;rr&&(delete xt.reloadCallback,xt.parse(xt.vectorTile,Bt.layerIndex,Ct.availableImages,Bt.actor,rr)),bt(qt,or)};xt.status==="parsing"?xt.reloadCallback=Ut:xt.status==="done"&&(xt.vectorTile?xt.parse(xt.vectorTile,this.layerIndex,this.availableImages,this.actor,Ut):Ut())}},u.prototype.abortTile=function(lt,bt){var Ct=this.loading,Dt=lt.uid;Ct&&Ct[Dt]&&Ct[Dt].abort&&(Ct[Dt].abort(),delete Ct[Dt]),bt()},u.prototype.removeTile=function(lt,bt){var Ct=this.loaded,Dt=lt.uid;Ct&&Ct[Dt]&&delete Ct[Dt],bt()};var l=s.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(lt,bt){var Ct=lt.uid,Dt=lt.encoding,Ht=lt.rawImageData,Bt=l&&Ht instanceof l?this.getImageData(Ht):Ht,xt=new s.DEMData(Ct,Bt,Dt);this.loaded=this.loaded||{},this.loaded[Ct]=xt,bt(null,xt)},g.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:bt.width,height:bt.height},bt.data)},g.prototype.removeTile=function(lt){var bt=this.loaded,Ct=lt.uid;bt&&bt[Ct]&&delete bt[Ct]};var h=T;function T(mt,lt){var bt=mt&&mt.type,Ct;if(bt==="FeatureCollection")for(Ct=0;Ct<mt.features.length;Ct++)T(mt.features[Ct],lt);else if(bt==="GeometryCollection")for(Ct=0;Ct<mt.geometries.length;Ct++)T(mt.geometries[Ct],lt);else if(bt==="Feature")T(mt.geometry,lt);else if(bt==="Polygon")c(mt.coordinates,lt);else if(bt==="MultiPolygon")for(Ct=0;Ct<mt.coordinates.length;Ct++)c(mt.coordinates[Ct],lt);return mt}function c(mt,lt){if(mt.length!==0){i(mt[0],lt);for(var bt=1;bt<mt.length;bt++)i(mt[bt],!lt)}}function i(mt,lt){for(var bt=0,Ct=0,Dt=mt.length,Ht=Dt-1;Ct<Dt;Ht=Ct++)bt+=(mt[Ct][0]-mt[Ht][0])*(mt[Ht][1]+mt[Ct][1]);bt>=0!=!!lt&&mt.reverse()}var d=s.vectorTile.VectorTileFeature.prototype.toGeoJSON,b=function(lt){this._feature=lt,this.extent=s.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};b.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],bt=0,Ct=this._feature.geometry;bt<Ct.length;bt+=1){var Dt=Ct[bt];lt.push([new s.Point$1(Dt[0],Dt[1])])}return lt}else{for(var Ht=[],Bt=0,xt=this._feature.geometry;Bt<xt.length;Bt+=1){for(var Ut=xt[Bt],qt=[],or=0,rr=Ut;or<rr.length;or+=1){var He=rr[or];qt.push(new s.Point$1(He[0],He[1]))}Ht.push(qt)}return Ht}},b.prototype.toGeoJSON=function(lt,bt,Ct){return d.call(this,lt,bt,Ct)};var w=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=lt.length,this._features=lt};w.prototype.feature=function(lt){return new b(this._features[lt])};var C=s.vectorTile.VectorTileFeature,y=E;function E(mt,lt){this.options=lt||{},this.features=mt,this.length=mt.length}E.prototype.feature=function(mt){return new A(this.features[mt],this.options.extent)};function A(mt,lt){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=lt||4096}A.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<mt.length;lt++){for(var bt=mt[lt],Ct=[],Dt=0;Dt<bt.length;Dt++)Ct.push(new s.Point$1(bt[Dt][0],bt[Dt][1]));this.geometry.push(Ct)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,lt=1/0,bt=-1/0,Ct=1/0,Dt=-1/0,Ht=0;Ht<mt.length;Ht++)for(var Bt=mt[Ht],xt=0;xt<Bt.length;xt++){var Ut=Bt[xt];lt=Math.min(lt,Ut.x),bt=Math.max(bt,Ut.x),Ct=Math.min(Ct,Ut.y),Dt=Math.max(Dt,Ut.y)}return[lt,Ct,bt,Dt]},A.prototype.toGeoJSON=C.prototype.toGeoJSON;var o=D,M=D,x=N,I=y;function D(mt){var lt=new s.pbf;return k(mt,lt),lt.finish()}function N(mt,lt){lt=lt||{};var bt={};for(var Ct in mt)bt[Ct]=new y(mt[Ct].features,lt),bt[Ct].name=Ct,bt[Ct].version=lt.version,bt[Ct].extent=lt.extent;return D({layers:bt})}function k(mt,lt){for(var bt in mt.layers)lt.writeMessage(3,O,mt.layers[bt])}function O(mt,lt){lt.writeVarintField(15,mt.version||1),lt.writeStringField(1,mt.name||""),lt.writeVarintField(5,mt.extent||4096);var bt,Ct={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<mt.length;bt++)Ct.feature=mt.feature(bt),lt.writeMessage(2,F,Ct);var Dt=Ct.keys;for(bt=0;bt<Dt.length;bt++)lt.writeStringField(3,Dt[bt]);var Ht=Ct.values;for(bt=0;bt<Ht.length;bt++)lt.writeMessage(4,re,Ht[bt])}function F(mt,lt){var bt=mt.feature;bt.id!==void 0&&lt.writeVarintField(1,bt.id),lt.writeMessage(2,z,mt),lt.writeVarintField(3,bt.type),lt.writeMessage(4,J,bt)}function z(mt,lt){var bt=mt.feature,Ct=mt.keys,Dt=mt.values,Ht=mt.keycache,Bt=mt.valuecache;for(var xt in bt.properties){var Ut=Ht[xt];typeof Ut>"u"&&(Ct.push(xt),Ut=Ct.length-1,Ht[xt]=Ut),lt.writeVarint(Ut);var qt=bt.properties[xt],or=typeof qt;or!=="string"&&or!=="boolean"&&or!=="number"&&(qt=JSON.stringify(qt));var rr=or+":"+qt,He=Bt[rr];typeof He>"u"&&(Dt.push(qt),He=Dt.length-1,Bt[rr]=He),lt.writeVarint(He)}}function B(mt,lt){return(lt<<3)+(mt&7)}function W(mt){return mt<<1^mt>>31}function J(mt,lt){for(var bt=mt.loadGeometry(),Ct=mt.type,Dt=0,Ht=0,Bt=bt.length,xt=0;xt<Bt;xt++){var Ut=bt[xt],qt=1;Ct===1&&(qt=Ut.length),lt.writeVarint(B(1,qt));for(var or=Ct===3?Ut.length-1:Ut.length,rr=0;rr<or;rr++){rr===1&&Ct!==1&&lt.writeVarint(B(2,or-1));var He=Ut[rr].x-Dt,Ue=Ut[rr].y-Ht;lt.writeVarint(W(He)),lt.writeVarint(W(Ue)),Dt+=He,Ht+=Ue}Ct===3&&lt.writeVarint(B(7,1))}}function re(mt,lt){var bt=typeof mt;bt==="string"?lt.writeStringField(1,mt):bt==="boolean"?lt.writeBooleanField(7,mt):bt==="number"&&(mt%1!==0?lt.writeDoubleField(3,mt):mt<0?lt.writeSVarintField(6,mt):lt.writeVarintField(5,mt))}o.fromVectorTileJs=M,o.fromGeojsonVt=x,o.GeoJSONWrapper=I;function ne(mt,lt,bt,Ct,Dt,Ht){if(!(Dt-Ct<=bt)){var Bt=Ct+Dt>>1;le(mt,lt,Bt,Ct,Dt,Ht%2),ne(mt,lt,bt,Ct,Bt-1,Ht+1),ne(mt,lt,bt,Bt+1,Dt,Ht+1)}}function le(mt,lt,bt,Ct,Dt,Ht){for(;Dt>Ct;){if(Dt-Ct>600){var Bt=Dt-Ct+1,xt=bt-Ct+1,Ut=Math.log(Bt),qt=.5*Math.exp(2*Ut/3),or=.5*Math.sqrt(Ut*qt*(Bt-qt)/Bt)*(xt-Bt/2<0?-1:1),rr=Math.max(Ct,Math.floor(bt-xt*qt/Bt+or)),He=Math.min(Dt,Math.floor(bt+(Bt-xt)*qt/Bt+or));le(mt,lt,bt,rr,He,Ht)}var Ue=lt[2*bt+Ht],Ot=Ct,It=Dt;for($(mt,lt,Ct,bt),lt[2*Dt+Ht]>Ue&&$(mt,lt,Ct,Dt);Ot<It;){for($(mt,lt,Ot,It),Ot++,It--;lt[2*Ot+Ht]<Ue;)Ot++;for(;lt[2*It+Ht]>Ue;)It--}lt[2*Ct+Ht]===Ue?$(mt,lt,Ct,It):(It++,$(mt,lt,It,Dt)),It<=bt&&(Ct=It+1),bt<=It&&(Dt=It-1)}}function $(mt,lt,bt,Ct){Z(mt,bt,Ct),Z(lt,2*bt,2*Ct),Z(lt,2*bt+1,2*Ct+1)}function Z(mt,lt,bt){var Ct=mt[lt];mt[lt]=mt[bt],mt[bt]=Ct}function ie(mt,lt,bt,Ct,Dt,Ht,Bt){for(var xt=[0,mt.length-1,0],Ut=[],qt,or;xt.length;){var rr=xt.pop(),He=xt.pop(),Ue=xt.pop();if(He-Ue<=Bt){for(var Ot=Ue;Ot<=He;Ot++)qt=lt[2*Ot],or=lt[2*Ot+1],qt>=bt&&qt<=Dt&&or>=Ct&&or<=Ht&&Ut.push(mt[Ot]);continue}var It=Math.floor((Ue+He)/2);qt=lt[2*It],or=lt[2*It+1],qt>=bt&&qt<=Dt&&or>=Ct&&or<=Ht&&Ut.push(mt[It]);var Jt=(rr+1)%2;(rr===0?bt<=qt:Ct<=or)&&(xt.push(Ue),xt.push(It-1),xt.push(Jt)),(rr===0?Dt>=qt:Ht>=or)&&(xt.push(It+1),xt.push(He),xt.push(Jt))}return Ut}function X(mt,lt,bt,Ct,Dt,Ht){for(var Bt=[0,mt.length-1,0],xt=[],Ut=Dt*Dt;Bt.length;){var qt=Bt.pop(),or=Bt.pop(),rr=Bt.pop();if(or-rr<=Ht){for(var He=rr;He<=or;He++)Q(lt[2*He],lt[2*He+1],bt,Ct)<=Ut&&xt.push(mt[He]);continue}var Ue=Math.floor((rr+or)/2),Ot=lt[2*Ue],It=lt[2*Ue+1];Q(Ot,It,bt,Ct)<=Ut&&xt.push(mt[Ue]);var Jt=(qt+1)%2;(qt===0?bt-Dt<=Ot:Ct-Dt<=It)&&(Bt.push(rr),Bt.push(Ue-1),Bt.push(Jt)),(qt===0?bt+Dt>=Ot:Ct+Dt>=It)&&(Bt.push(Ue+1),Bt.push(or),Bt.push(Jt))}return xt}function Q(mt,lt,bt,Ct){var Dt=mt-bt,Ht=lt-Ct;return Dt*Dt+Ht*Ht}var oe=function(mt){return mt[0]},j=function(mt){return mt[1]},Y=function(lt,bt,Ct,Dt,Ht){bt===void 0&&(bt=oe),Ct===void 0&&(Ct=j),Dt===void 0&&(Dt=64),Ht===void 0&&(Ht=Float64Array),this.nodeSize=Dt,this.points=lt;for(var Bt=lt.length<65536?Uint16Array:Uint32Array,xt=this.ids=new Bt(lt.length),Ut=this.coords=new Ht(lt.length*2),qt=0;qt<lt.length;qt++)xt[qt]=qt,Ut[2*qt]=bt(lt[qt]),Ut[2*qt+1]=Ct(lt[qt]);ne(xt,Ut,Dt,0,xt.length-1,0)};Y.prototype.range=function(lt,bt,Ct,Dt){return ie(this.ids,this.coords,lt,bt,Ct,Dt,this.nodeSize)},Y.prototype.within=function(lt,bt,Ct){return X(this.ids,this.coords,lt,bt,Ct,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(mt){return mt}},te=function(lt){this.options=Re(Object.create(se),lt),this.trees=new Array(this.options.maxZoom+1)};te.prototype.load=function(lt){var bt=this.options,Ct=bt.log,Dt=bt.minZoom,Ht=bt.maxZoom,Bt=bt.nodeSize;Ct&&console.time("total time");var xt="prepare "+lt.length+" points";Ct&&console.time(xt),this.points=lt;for(var Ut=[],qt=0;qt<lt.length;qt++)lt[qt].geometry&&Ut.push(ge(lt[qt],qt));this.trees[Ht+1]=new Y(Ut,Se,ke,Bt,Float32Array),Ct&&console.timeEnd(xt);for(var or=Ht;or>=Dt;or--){var rr=+Date.now();Ut=this._cluster(Ut,or),this.trees[or]=new Y(Ut,Se,ke,Bt,Float32Array),Ct&&console.log("z%d: %d clusters in %dms",or,Ut.length,+Date.now()-rr)}return Ct&&console.timeEnd("total time"),this},te.prototype.getClusters=function(lt,bt){var Ct=((lt[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,lt[1])),Ht=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Ct=-180,Ht=180;else if(Ct>Ht){var xt=this.getClusters([Ct,Dt,180,Bt],bt),Ut=this.getClusters([-180,Dt,Ht,Bt],bt);return xt.concat(Ut)}for(var qt=this.trees[this._limitZoom(bt)],or=qt.range(_e(Ct),De(Bt),_e(Ht),De(Dt)),rr=[],He=0,Ue=or;He<Ue.length;He+=1){var Ot=Ue[He],It=qt.points[Ot];rr.push(It.numPoints?be(It):this.points[It.index])}return rr},te.prototype.getChildren=function(lt){var bt=this._getOriginId(lt),Ct=this._getOriginZoom(lt),Dt="No cluster with the specified id.",Ht=this.trees[Ct];if(!Ht)throw new Error(Dt);var Bt=Ht.points[bt];if(!Bt)throw new Error(Dt);for(var xt=this.options.radius/(this.options.extent*Math.pow(2,Ct-1)),Ut=Ht.within(Bt.x,Bt.y,xt),qt=[],or=0,rr=Ut;or<rr.length;or+=1){var He=rr[or],Ue=Ht.points[He];Ue.parentId===lt&&qt.push(Ue.numPoints?be(Ue):this.points[Ue.index])}if(qt.length===0)throw new Error(Dt);return qt},te.prototype.getLeaves=function(lt,bt,Ct){bt=bt||10,Ct=Ct||0;var Dt=[];return this._appendLeaves(Dt,lt,bt,Ct,0),Dt},te.prototype.getTile=function(lt,bt,Ct){var Dt=this.trees[this._limitZoom(lt)],Ht=Math.pow(2,lt),Bt=this.options,xt=Bt.extent,Ut=Bt.radius,qt=Ut/xt,or=(Ct-qt)/Ht,rr=(Ct+1+qt)/Ht,He={features:[]};return this._addTileFeatures(Dt.range((bt-qt)/Ht,or,(bt+1+qt)/Ht,rr),Dt.points,bt,Ct,Ht,He),bt===0&&this._addTileFeatures(Dt.range(1-qt/Ht,or,1,rr),Dt.points,Ht,Ct,Ht,He),bt===Ht-1&&this._addTileFeatures(Dt.range(0,or,qt/Ht,rr),Dt.points,-1,Ct,Ht,He),He.features.length?He:null},te.prototype.getClusterExpansionZoom=function(lt){for(var bt=this._getOriginZoom(lt)-1;bt<=this.options.maxZoom;){var Ct=this.getChildren(lt);if(bt++,Ct.length!==1)break;lt=Ct[0].properties.cluster_id}return bt},te.prototype._appendLeaves=function(lt,bt,Ct,Dt,Ht){for(var Bt=this.getChildren(bt),xt=0,Ut=Bt;xt<Ut.length;xt+=1){var qt=Ut[xt],or=qt.properties;if(or&&or.cluster?Ht+or.point_count<=Dt?Ht+=or.point_count:Ht=this._appendLeaves(lt,or.cluster_id,Ct,Dt,Ht):Ht<Dt?Ht++:lt.push(qt),lt.length===Ct)break}return Ht},te.prototype._addTileFeatures=function(lt,bt,Ct,Dt,Ht,Bt){for(var xt=0,Ut=lt;xt<Ut.length;xt+=1){var qt=Ut[xt],or=bt[qt],rr=or.numPoints,He={type:1,geometry:[[Math.round(this.options.extent*(or.x*Ht-Ct)),Math.round(this.options.extent*(or.y*Ht-Dt))]],tags:rr?xe(or):this.points[or.index].properties},Ue=void 0;rr?Ue=or.id:this.options.generateId?Ue=or.index:this.points[or.index].id&&(Ue=this.points[or.index].id),Ue!==void 0&&(He.id=Ue),Bt.features.push(He)}},te.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},te.prototype._cluster=function(lt,bt){for(var Ct=[],Dt=this.options,Ht=Dt.radius,Bt=Dt.extent,xt=Dt.reduce,Ut=Dt.minPoints,qt=Ht/(Bt*Math.pow(2,bt)),or=0;or<lt.length;or++){var rr=lt[or];if(!(rr.zoom<=bt)){rr.zoom=bt;for(var He=this.trees[bt+1],Ue=He.within(rr.x,rr.y,qt),Ot=rr.numPoints||1,It=Ot,Jt=0,cr=Ue;Jt<cr.length;Jt+=1){var vr=cr[Jt],tr=He.points[vr];tr.zoom>bt&&(It+=tr.numPoints||1)}if(It>=Ut){for(var Nt=rr.x*Ot,sr=rr.y*Ot,dr=xt&&Ot>1?this._map(rr,!0):null,xr=(or<<5)+(bt+1)+this.points.length,pr=0,Hr=Ue;pr<Hr.length;pr+=1){var _r=Hr[pr],Dr=He.points[_r];if(!(Dr.zoom<=bt)){Dr.zoom=bt;var an=Dr.numPoints||1;Nt+=Dr.x*an,sr+=Dr.y*an,Dr.parentId=xr,xt&&(dr||(dr=this._map(rr,!0)),xt(dr,this._map(Dr)))}}rr.parentId=xr,Ct.push(fe(Nt/It,sr/It,xr,It,dr))}else if(Ct.push(rr),It>1)for(var tn=0,Sn=Ue;tn<Sn.length;tn+=1){var Tn=Sn[tn],Tr=He.points[Tn];Tr.zoom<=bt||(Tr.zoom=bt,Ct.push(Tr))}}}return Ct},te.prototype._getOriginId=function(lt){return lt-this.points.length>>5},te.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},te.prototype._map=function(lt,bt){if(lt.numPoints)return bt?Re({},lt.properties):lt.properties;var Ct=this.points[lt.index].properties,Dt=this.options.map(Ct);return bt&&Dt===Ct?Re({},Dt):Dt};function fe(mt,lt,bt,Ct,Dt){return{x:mt,y:lt,zoom:1/0,id:bt,parentId:-1,numPoints:Ct,properties:Dt}}function ge(mt,lt){var bt=mt.geometry.coordinates,Ct=bt[0],Dt=bt[1];return{x:_e(Ct),y:De(Dt),zoom:1/0,index:lt,parentId:-1}}function be(mt){return{type:"Feature",id:mt.id,properties:xe(mt),geometry:{type:"Point",coordinates:[Fe(mt.x),Te(mt.y)]}}}function xe(mt){var lt=mt.numPoints,bt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Re(Re({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:lt,point_count_abbreviated:bt})}function _e(mt){return mt/360+.5}function De(mt){var lt=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function Fe(mt){return(mt-.5)*360}function Te(mt){var lt=(180-mt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Re(mt,lt){for(var bt in lt)mt[bt]=lt[bt];return mt}function Se(mt){return mt.x}function ke(mt){return mt.y}function Me(mt,lt,bt,Ct){for(var Dt=Ct,Ht=bt-lt>>1,Bt=bt-lt,xt,Ut=mt[lt],qt=mt[lt+1],or=mt[bt],rr=mt[bt+1],He=lt+3;He<bt;He+=3){var Ue=Ve(mt[He],mt[He+1],Ut,qt,or,rr);if(Ue>Dt)xt=He,Dt=Ue;else if(Ue===Dt){var Ot=Math.abs(He-Ht);Ot<Bt&&(xt=He,Bt=Ot)}}Dt>Ct&&(xt-lt>3&&Me(mt,lt,xt,Ct),mt[xt+2]=Dt,bt-xt>3&&Me(mt,xt,bt,Ct))}function Ve(mt,lt,bt,Ct,Dt,Ht){var Bt=Dt-bt,xt=Ht-Ct;if(Bt!==0||xt!==0){var Ut=((mt-bt)*Bt+(lt-Ct)*xt)/(Bt*Bt+xt*xt);Ut>1?(bt=Dt,Ct=Ht):Ut>0&&(bt+=Bt*Ut,Ct+=xt*Ut)}return Bt=mt-bt,xt=lt-Ct,Bt*Bt+xt*xt}function tt(mt,lt,bt,Ct){var Dt={id:typeof mt>"u"?null:mt,type:lt,geometry:bt,tags:Ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return it(Dt),Dt}function it(mt){var lt=mt.geometry,bt=mt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")Je(mt,lt);else if(bt==="Polygon"||bt==="MultiLineString")for(var Ct=0;Ct<lt.length;Ct++)Je(mt,lt[Ct]);else if(bt==="MultiPolygon")for(Ct=0;Ct<lt.length;Ct++)for(var Dt=0;Dt<lt[Ct].length;Dt++)Je(mt,lt[Ct][Dt])}function Je(mt,lt){for(var bt=0;bt<lt.length;bt+=3)mt.minX=Math.min(mt.minX,lt[bt]),mt.minY=Math.min(mt.minY,lt[bt+1]),mt.maxX=Math.max(mt.maxX,lt[bt]),mt.maxY=Math.max(mt.maxY,lt[bt+1])}function Qe(mt,lt){var bt=[];if(mt.type==="FeatureCollection")for(var Ct=0;Ct<mt.features.length;Ct++)ct(bt,mt.features[Ct],lt,Ct);else mt.type==="Feature"?ct(bt,mt,lt):ct(bt,{geometry:mt},lt);return bt}function ct(mt,lt,bt,Ct){if(lt.geometry){var Dt=lt.geometry.coordinates,Ht=lt.geometry.type,Bt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),xt=[],Ut=lt.id;if(bt.promoteId?Ut=lt.properties[bt.promoteId]:bt.generateId&&(Ut=Ct||0),Ht==="Point")ht(Dt,xt);else if(Ht==="MultiPoint")for(var qt=0;qt<Dt.length;qt++)ht(Dt[qt],xt);else if(Ht==="LineString")dt(Dt,xt,Bt,!1);else if(Ht==="MultiLineString")if(bt.lineMetrics){for(qt=0;qt<Dt.length;qt++)xt=[],dt(Dt[qt],xt,Bt,!1),mt.push(tt(Ut,"LineString",xt,lt.properties));return}else Tt(Dt,xt,Bt,!1);else if(Ht==="Polygon")Tt(Dt,xt,Bt,!0);else if(Ht==="MultiPolygon")for(qt=0;qt<Dt.length;qt++){var or=[];Tt(Dt[qt],or,Bt,!0),xt.push(or)}else if(Ht==="GeometryCollection"){for(qt=0;qt<lt.geometry.geometries.length;qt++)ct(mt,{id:Ut,geometry:lt.geometry.geometries[qt],properties:lt.properties},bt,Ct);return}else throw new Error("Input data is not a valid GeoJSON object.");mt.push(tt(Ut,Ht,xt,lt.properties))}}function ht(mt,lt){lt.push(Et(mt[0])),lt.push(rt(mt[1])),lt.push(0)}function dt(mt,lt,bt,Ct){for(var Dt,Ht,Bt=0,xt=0;xt<mt.length;xt++){var Ut=Et(mt[xt][0]),qt=rt(mt[xt][1]);lt.push(Ut),lt.push(qt),lt.push(0),xt>0&&(Ct?Bt+=(Dt*qt-Ut*Ht)/2:Bt+=Math.sqrt(Math.pow(Ut-Dt,2)+Math.pow(qt-Ht,2))),Dt=Ut,Ht=qt}var or=lt.length-3;lt[2]=1,Me(lt,0,or,bt),lt[or+2]=1,lt.size=Math.abs(Bt),lt.start=0,lt.end=lt.size}function Tt(mt,lt,bt,Ct){for(var Dt=0;Dt<mt.length;Dt++){var Ht=[];dt(mt[Dt],Ht,bt,Ct),lt.push(Ht)}}function Et(mt){return mt/360+.5}function rt(mt){var lt=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function ze(mt,lt,bt,Ct,Dt,Ht,Bt,xt){if(bt/=lt,Ct/=lt,Ht>=bt&&Bt<Ct)return mt;if(Bt<bt||Ht>=Ct)return null;for(var Ut=[],qt=0;qt<mt.length;qt++){var or=mt[qt],rr=or.geometry,He=or.type,Ue=Dt===0?or.minX:or.minY,Ot=Dt===0?or.maxX:or.maxY;if(Ue>=bt&&Ot<Ct){Ut.push(or);continue}else if(Ot<bt||Ue>=Ct)continue;var It=[];if(He==="Point"||He==="MultiPoint")Ge(rr,It,bt,Ct,Dt);else if(He==="LineString")je(rr,It,bt,Ct,Dt,!1,xt.lineMetrics);else if(He==="MultiLineString")Le(rr,It,bt,Ct,Dt,!1);else if(He==="Polygon")Le(rr,It,bt,Ct,Dt,!0);else if(He==="MultiPolygon")for(var Jt=0;Jt<rr.length;Jt++){var cr=[];Le(rr[Jt],cr,bt,Ct,Dt,!0),cr.length&&It.push(cr)}if(It.length){if(xt.lineMetrics&&He==="LineString"){for(Jt=0;Jt<It.length;Jt++)Ut.push(tt(or.id,He,It[Jt],or.tags));continue}(He==="LineString"||He==="MultiLineString")&&(It.length===1?(He="LineString",It=It[0]):He="MultiLineString"),(He==="Point"||He==="MultiPoint")&&(He=It.length===3?"Point":"MultiPoint"),Ut.push(tt(or.id,He,It,or.tags))}}return Ut.length?Ut:null}function Ge(mt,lt,bt,Ct,Dt){for(var Ht=0;Ht<mt.length;Ht+=3){var Bt=mt[Ht+Dt];Bt>=bt&&Bt<=Ct&&(lt.push(mt[Ht]),lt.push(mt[Ht+1]),lt.push(mt[Ht+2]))}}function je(mt,lt,bt,Ct,Dt,Ht,Bt){for(var xt=We(mt),Ut=Dt===0?Ye:Ce,qt=mt.start,or,rr,He=0;He<mt.length-3;He+=3){var Ue=mt[He],Ot=mt[He+1],It=mt[He+2],Jt=mt[He+3],cr=mt[He+4],vr=Dt===0?Ue:Ot,tr=Dt===0?Jt:cr,Nt=!1;Bt&&(or=Math.sqrt(Math.pow(Ue-Jt,2)+Math.pow(Ot-cr,2))),vr<bt?tr>bt&&(rr=Ut(xt,Ue,Ot,Jt,cr,bt),Bt&&(xt.start=qt+or*rr)):vr>Ct?tr<Ct&&(rr=Ut(xt,Ue,Ot,Jt,cr,Ct),Bt&&(xt.start=qt+or*rr)):Pe(xt,Ue,Ot,It),tr<bt&&vr>=bt&&(rr=Ut(xt,Ue,Ot,Jt,cr,bt),Nt=!0),tr>Ct&&vr<=Ct&&(rr=Ut(xt,Ue,Ot,Jt,cr,Ct),Nt=!0),!Ht&&Nt&&(Bt&&(xt.end=qt+or*rr),lt.push(xt),xt=We(mt)),Bt&&(qt+=or)}var sr=mt.length-3;Ue=mt[sr],Ot=mt[sr+1],It=mt[sr+2],vr=Dt===0?Ue:Ot,vr>=bt&&vr<=Ct&&Pe(xt,Ue,Ot,It),sr=xt.length-3,Ht&&sr>=3&&(xt[sr]!==xt[0]||xt[sr+1]!==xt[1])&&Pe(xt,xt[0],xt[1],xt[2]),xt.length&&lt.push(xt)}function We(mt){var lt=[];return lt.size=mt.size,lt.start=mt.start,lt.end=mt.end,lt}function Le(mt,lt,bt,Ct,Dt,Ht){for(var Bt=0;Bt<mt.length;Bt++)je(mt[Bt],lt,bt,Ct,Dt,Ht,!1)}function Pe(mt,lt,bt,Ct){mt.push(lt),mt.push(bt),mt.push(Ct)}function Ye(mt,lt,bt,Ct,Dt,Ht){var Bt=(Ht-lt)/(Ct-lt);return mt.push(Ht),mt.push(bt+(Dt-bt)*Bt),mt.push(1),Bt}function Ce(mt,lt,bt,Ct,Dt,Ht){var Bt=(Ht-bt)/(Dt-bt);return mt.push(lt+(Ct-lt)*Bt),mt.push(Ht),mt.push(1),Bt}function he(mt,lt){var bt=lt.buffer/lt.extent,Ct=mt,Dt=ze(mt,1,-1-bt,bt,0,-1,2,lt),Ht=ze(mt,1,1-bt,2+bt,0,-1,2,lt);return(Dt||Ht)&&(Ct=ze(mt,1,-bt,1+bt,0,-1,2,lt)||[],Dt&&(Ct=me(Dt,1).concat(Ct)),Ht&&(Ct=Ct.concat(me(Ht,-1)))),Ct}function me(mt,lt){for(var bt=[],Ct=0;Ct<mt.length;Ct++){var Dt=mt[Ct],Ht=Dt.type,Bt;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Bt=Ne(Dt.geometry,lt);else if(Ht==="MultiLineString"||Ht==="Polygon"){Bt=[];for(var xt=0;xt<Dt.geometry.length;xt++)Bt.push(Ne(Dt.geometry[xt],lt))}else if(Ht==="MultiPolygon")for(Bt=[],xt=0;xt<Dt.geometry.length;xt++){for(var Ut=[],qt=0;qt<Dt.geometry[xt].length;qt++)Ut.push(Ne(Dt.geometry[xt][qt],lt));Bt.push(Ut)}bt.push(tt(Dt.id,Ht,Bt,Dt.tags))}return bt}function Ne(mt,lt){var bt=[];bt.size=mt.size,mt.start!==void 0&&(bt.start=mt.start,bt.end=mt.end);for(var Ct=0;Ct<mt.length;Ct+=3)bt.push(mt[Ct]+lt,mt[Ct+1],mt[Ct+2]);return bt}function $e(mt,lt){if(mt.transformed)return mt;var bt=1<<mt.z,Ct=mt.x,Dt=mt.y,Ht,Bt,xt;for(Ht=0;Ht<mt.features.length;Ht++){var Ut=mt.features[Ht],qt=Ut.geometry,or=Ut.type;if(Ut.geometry=[],or===1)for(Bt=0;Bt<qt.length;Bt+=2)Ut.geometry.push(ot(qt[Bt],qt[Bt+1],lt,bt,Ct,Dt));else for(Bt=0;Bt<qt.length;Bt++){var rr=[];for(xt=0;xt<qt[Bt].length;xt+=2)rr.push(ot(qt[Bt][xt],qt[Bt][xt+1],lt,bt,Ct,Dt));Ut.geometry.push(rr)}}return mt.transformed=!0,mt}function ot(mt,lt,bt,Ct,Dt,Ht){return[Math.round(bt*(mt*Ct-Dt)),Math.round(bt*(lt*Ct-Ht))]}function st(mt,lt,bt,Ct,Dt){for(var Ht=lt===Dt.maxZoom?0:Dt.tolerance/((1<<lt)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Ct,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},xt=0;xt<mt.length;xt++){Bt.numFeatures++,Wt(Bt,mt[xt],Ht,Dt);var Ut=mt[xt].minX,qt=mt[xt].minY,or=mt[xt].maxX,rr=mt[xt].maxY;Ut<Bt.minX&&(Bt.minX=Ut),qt<Bt.minY&&(Bt.minY=qt),or>Bt.maxX&&(Bt.maxX=or),rr>Bt.maxY&&(Bt.maxY=rr)}return Bt}function Wt(mt,lt,bt,Ct){var Dt=lt.geometry,Ht=lt.type,Bt=[];if(Ht==="Point"||Ht==="MultiPoint")for(var xt=0;xt<Dt.length;xt+=3)Bt.push(Dt[xt]),Bt.push(Dt[xt+1]),mt.numPoints++,mt.numSimplified++;else if(Ht==="LineString")Zt(Bt,Dt,mt,bt,!1,!1);else if(Ht==="MultiLineString"||Ht==="Polygon")for(xt=0;xt<Dt.length;xt++)Zt(Bt,Dt[xt],mt,bt,Ht==="Polygon",xt===0);else if(Ht==="MultiPolygon")for(var Ut=0;Ut<Dt.length;Ut++){var qt=Dt[Ut];for(xt=0;xt<qt.length;xt++)Zt(Bt,qt[xt],mt,bt,!0,xt===0)}if(Bt.length){var or=lt.tags||null;if(Ht==="LineString"&&Ct.lineMetrics){or={};for(var rr in lt.tags)or[rr]=lt.tags[rr];or.mapbox_clip_start=Dt.start/Dt.size,or.mapbox_clip_end=Dt.end/Dt.size}var He={geometry:Bt,type:Ht==="Polygon"||Ht==="MultiPolygon"?3:Ht==="LineString"||Ht==="MultiLineString"?2:1,tags:or};lt.id!==null&&(He.id=lt.id),mt.features.push(He)}}function Zt(mt,lt,bt,Ct,Dt,Ht){var Bt=Ct*Ct;if(Ct>0&&lt.size<(Dt?Bt:Ct)){bt.numPoints+=lt.length/3;return}for(var xt=[],Ut=0;Ut<lt.length;Ut+=3)(Ct===0||lt[Ut+2]>Bt)&&(bt.numSimplified++,xt.push(lt[Ut]),xt.push(lt[Ut+1])),bt.numPoints++;Dt&&At(xt,Ht),mt.push(xt)}function At(mt,lt){for(var bt=0,Ct=0,Dt=mt.length,Ht=Dt-2;Ct<Dt;Ht=Ct,Ct+=2)bt+=(mt[Ct]-mt[Ht])*(mt[Ct+1]+mt[Ht+1]);if(bt>0===lt)for(Ct=0,Dt=mt.length;Ct<Dt/2;Ct+=2){var Bt=mt[Ct],xt=mt[Ct+1];mt[Ct]=mt[Dt-2-Ct],mt[Ct+1]=mt[Dt-1-Ct],mt[Dt-2-Ct]=Bt,mt[Dt-1-Ct]=xt}}function Rt(mt,lt){return new Xt(mt,lt)}function Xt(mt,lt){lt=this.options=pt(Object.create(this.options),lt);var bt=lt.debug;if(bt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct=Qe(mt,lt);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ct=he(Ct,lt),Ct.length&&this.splitTile(Ct,0,0,0),bt&&(Ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Xt.prototype.splitTile=function(mt,lt,bt,Ct,Dt,Ht,Bt){for(var xt=[mt,lt,bt,Ct],Ut=this.options,qt=Ut.debug;xt.length;){Ct=xt.pop(),bt=xt.pop(),lt=xt.pop(),mt=xt.pop();var or=1<<lt,rr=ir(lt,bt,Ct),He=this.tiles[rr];if(!He&&(qt>1&&console.time("creation"),He=this.tiles[rr]=st(mt,lt,bt,Ct,Ut),this.tileCoords.push({z:lt,x:bt,y:Ct}),qt)){qt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,bt,Ct,He.numFeatures,He.numPoints,He.numSimplified),console.timeEnd("creation"));var Ue="z"+lt;this.stats[Ue]=(this.stats[Ue]||0)+1,this.total++}if(He.source=mt,Dt){if(lt===Ut.maxZoom||lt===Dt)continue;var Ot=1<<Dt-lt;if(bt!==Math.floor(Ht/Ot)||Ct!==Math.floor(Bt/Ot))continue}else if(lt===Ut.indexMaxZoom||He.numPoints<=Ut.indexMaxPoints)continue;if(He.source=null,mt.length!==0){qt>1&&console.time("clipping");var It=.5*Ut.buffer/Ut.extent,Jt=.5-It,cr=.5+It,vr=1+It,tr,Nt,sr,dr,xr,pr;tr=Nt=sr=dr=null,xr=ze(mt,or,bt-It,bt+cr,0,He.minX,He.maxX,Ut),pr=ze(mt,or,bt+Jt,bt+vr,0,He.minX,He.maxX,Ut),mt=null,xr&&(tr=ze(xr,or,Ct-It,Ct+cr,1,He.minY,He.maxY,Ut),Nt=ze(xr,or,Ct+Jt,Ct+vr,1,He.minY,He.maxY,Ut),xr=null),pr&&(sr=ze(pr,or,Ct-It,Ct+cr,1,He.minY,He.maxY,Ut),dr=ze(pr,or,Ct+Jt,Ct+vr,1,He.minY,He.maxY,Ut),pr=null),qt>1&&console.timeEnd("clipping"),xt.push(tr||[],lt+1,bt*2,Ct*2),xt.push(Nt||[],lt+1,bt*2,Ct*2+1),xt.push(sr||[],lt+1,bt*2+1,Ct*2),xt.push(dr||[],lt+1,bt*2+1,Ct*2+1)}}},Xt.prototype.getTile=function(mt,lt,bt){var Ct=this.options,Dt=Ct.extent,Ht=Ct.debug;if(mt<0||mt>24)return null;var Bt=1<<mt;lt=(lt%Bt+Bt)%Bt;var xt=ir(mt,lt,bt);if(this.tiles[xt])return $e(this.tiles[xt],Dt);Ht>1&&console.log("drilling down to z%d-%d-%d",mt,lt,bt);for(var Ut=mt,qt=lt,or=bt,rr;!rr&&Ut>0;)Ut--,qt=Math.floor(qt/2),or=Math.floor(or/2),rr=this.tiles[ir(Ut,qt,or)];return!rr||!rr.source?null:(Ht>1&&console.log("found parent tile z%d-%d-%d",Ut,qt,or),Ht>1&&console.time("drilling down"),this.splitTile(rr.source,Ut,qt,or,mt,lt,bt),Ht>1&&console.timeEnd("drilling down"),this.tiles[xt]?$e(this.tiles[xt],Dt):null)};function ir(mt,lt,bt){return((1<<mt)*bt+lt)*32+mt}function pt(mt,lt){for(var bt in lt)mt[bt]=lt[bt];return mt}function Kt(mt,lt){var bt=mt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Ct=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Ct)return lt(null,null);var Dt=new w(Ct.features),Ht=o(Dt);(Ht.byteOffset!==0||Ht.byteLength!==Ht.buffer.byteLength)&&(Ht=new Uint8Array(Ht)),lt(null,{vectorTile:Dt,rawData:Ht.buffer})}var Qt=function(mt){function lt(bt,Ct,Dt,Ht){mt.call(this,bt,Ct,Dt,Kt),Ht&&(this.loadGeoJSON=Ht)}return mt&&(lt.__proto__=mt),lt.prototype=Object.create(mt&&mt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Ct,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Ct,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Ct=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Ht=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Ht&&Ht.request&&Ht.request.collectResourceTiming?new s.RequestPerformance(Ht.request):!1;this.loadGeoJSON(Ht,function(xt,Ut){if(xt||!Ut)return Dt(xt);if(typeof Ut!="object")return Dt(new Error("Input data given to '"+Ht.source+"' is not a valid GeoJSON object."));h(Ut,!0);try{if(Ht.filter){var qt=s.createExpression(Ht.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(qt.result==="error")throw new Error(qt.value.map(function(Ue){return Ue.key+": "+Ue.message}).join(", "));var or=Ut.features.filter(function(Ue){return qt.value.evaluate({zoom:0},Ue)});Ut={type:"FeatureCollection",features:or}}Ct._geoJSONIndex=Ht.cluster?new te(yr(Ht)).load(Ut.features):Rt(Ut,Ht.geojsonVtOptions)}catch(Ue){return Dt(Ue)}Ct.loaded={};var rr={};if(Bt){var He=Bt.finish();He&&(rr.resourceTiming={},rr.resourceTiming[Ht.source]=JSON.parse(JSON.stringify(He)))}Dt(null,rr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Ct,Dt){var Ht=this.loaded,Bt=Ct.uid;return Ht&&Ht[Bt]?mt.prototype.reloadTile.call(this,Ct,Dt):this.loadTile(Ct,Dt)},lt.prototype.loadGeoJSON=function(Ct,Dt){if(Ct.request)s.getJSON(Ct.request,Dt);else if(typeof Ct.data=="string")try{return Dt(null,JSON.parse(Ct.data))}catch{return Dt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Ct,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},lt.prototype.getClusterExpansionZoom=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Ct.clusterId))}catch(Ht){Dt(Ht)}},lt.prototype.getClusterChildren=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Ct.clusterId))}catch(Ht){Dt(Ht)}},lt.prototype.getClusterLeaves=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Ct.clusterId,Ct.limit,Ct.offset))}catch(Ht){Dt(Ht)}},lt}(u);function yr(mt){var lt=mt.superclusterOptions,bt=mt.clusterProperties;if(!bt||!lt)return lt;for(var Ct={},Dt={},Ht={accumulated:null,zoom:0},Bt={properties:null},xt=Object.keys(bt),Ut=0,qt=xt;Ut<qt.length;Ut+=1){var or=qt[Ut],rr=bt[or],He=rr[0],Ue=rr[1],Ot=s.createExpression(Ue),It=s.createExpression(typeof He=="string"?[He,["accumulated"],["get",or]]:He);Ct[or]=Ot.value,Dt[or]=It.value}return lt.map=function(Jt){Bt.properties=Jt;for(var cr={},vr=0,tr=xt;vr<tr.length;vr+=1){var Nt=tr[vr];cr[Nt]=Ct[Nt].evaluate(Ht,Bt)}return cr},lt.reduce=function(Jt,cr){Bt.properties=cr;for(var vr=0,tr=xt;vr<tr.length;vr+=1){var Nt=tr[vr];Ht.accumulated=Jt[Nt],Jt[Nt]=Dt[Nt].evaluate(Ht,Bt)}},lt}var ur=function(lt){var bt=this;this.self=lt,this.actor=new s.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ct,Dt){if(bt.workerSourceTypes[Ct])throw new Error('Worker source with name "'+Ct+'" already registered.');bt.workerSourceTypes[Ct]=Dt},this.self.registerRTLTextPlugin=function(Ct){if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ct.applyArabicShaping,s.plugin.processBidirectionalText=Ct.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ct.processStyledBidirectionalText}};return ur.prototype.setReferrer=function(lt,bt){this.referrer=bt},ur.prototype.setImages=function(lt,bt,Ct){this.availableImages[lt]=bt;for(var Dt in this.workerSources[lt]){var Ht=this.workerSources[lt][Dt];for(var Bt in Ht)Ht[Bt].availableImages=bt}Ct()},ur.prototype.setLayers=function(lt,bt,Ct){this.getLayerIndex(lt).replace(bt),Ct()},ur.prototype.updateLayers=function(lt,bt,Ct){this.getLayerIndex(lt).update(bt.layers,bt.removedIds),Ct()},ur.prototype.loadTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).loadTile(bt,Ct)},ur.prototype.loadDEMTile=function(lt,bt,Ct){this.getDEMWorkerSource(lt,bt.source).loadTile(bt,Ct)},ur.prototype.reloadTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).reloadTile(bt,Ct)},ur.prototype.abortTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).abortTile(bt,Ct)},ur.prototype.removeTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).removeTile(bt,Ct)},ur.prototype.removeDEMTile=function(lt,bt){this.getDEMWorkerSource(lt,bt.source).removeTile(bt)},ur.prototype.removeSource=function(lt,bt,Ct){if(!(!this.workerSources[lt]||!this.workerSources[lt][bt.type]||!this.workerSources[lt][bt.type][bt.source])){var Dt=this.workerSources[lt][bt.type][bt.source];delete this.workerSources[lt][bt.type][bt.source],Dt.removeSource!==void 0?Dt.removeSource(bt,Ct):Ct()}},ur.prototype.loadWorkerSource=function(lt,bt,Ct){try{this.self.importScripts(bt.url),Ct()}catch(Dt){Ct(Dt.toString())}},ur.prototype.syncRTLPluginState=function(lt,bt,Ct){try{s.plugin.setState(bt);var Dt=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Ht=s.plugin.isParsed(),Bt=Ht?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Ct(Bt,Ht)}}catch(xt){Ct(xt.toString())}},ur.prototype.getAvailableImages=function(lt){var bt=this.availableImages[lt];return bt||(bt=[]),bt},ur.prototype.getLayerIndex=function(lt){var bt=this.layerIndexes[lt];return bt||(bt=this.layerIndexes[lt]=new p),bt},ur.prototype.getWorkerSource=function(lt,bt,Ct){var Dt=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][bt]||(this.workerSources[lt][bt]={}),!this.workerSources[lt][bt][Ct]){var Ht={send:function(Bt,xt,Ut){Dt.actor.send(Bt,xt,Ut,lt)}};this.workerSources[lt][bt][Ct]=new this.workerSourceTypes[bt](Ht,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][bt][Ct]},ur.prototype.getDEMWorkerSource=function(lt,bt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][bt]||(this.demWorkerSources[lt][bt]=new g),this.demWorkerSources[lt][bt]},ur.prototype.enforceCacheSizeLimit=function(lt,bt){s.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new ur(self)),ur}),P(["./shared"],function(s){var L=s.createCommonjsModule(function(ce){ce.exports?ce.exports=K:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=K,window.mapboxgl.notSupportedReason=de);function K(Wr){return!de(Wr)}function de(Wr){if(!ee())return"not a browser";if(!pe())return"insufficent Array support";if(!Oe())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!ut())return"insufficient JSON support";if(!Lt())return"insufficient worker support";if(!Vt())return"insufficient Uint8ClampedArray support";if(!$t())return"insufficient ArrayBuffer support";if(!hr())return"insufficient Canvas/getImageData support";if(!kr(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ee(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Oe(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ut(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Lt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(Wr),dn,In;try{In=new Worker(Qr),dn=!0}catch{dn=!1}return In&&In.terminate(),URL.revokeObjectURL(Qr),dn}function Vt(){return"Uint8ClampedArray"in window}function $t(){return ArrayBuffer.isView}function hr(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var Qr=Wr.getContext("2d");if(!Qr)return!1;var dn=Qr.getImageData(0,0,1,1);return dn&&dn.width===Wr.width}var fr={};function kr(Wr){return fr[Wr]===void 0&&(fr[Wr]=Yr(Wr)),fr[Wr]}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Wr){var Qr=document.createElement("canvas"),dn=Object.create(K.webGLContextAttributes);return dn.failIfMajorPerformanceCaveat=Wr,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",dn)||Qr.probablySupportsContext("experimental-webgl",dn):Qr.supportsContext?Qr.supportsContext("webgl",dn)||Qr.supportsContext("experimental-webgl",dn):Qr.getContext("webgl",dn)||Qr.getContext("experimental-webgl",dn)}function Yr(Wr){var Qr=Xr(Wr);if(!Qr)return!1;var dn=Qr.createShader(Qr.VERTEX_SHADER);return!dn||Qr.isContextLost()?!1:(Qr.shaderSource(dn,"void main() {}"),Qr.compileShader(dn),Qr.getShaderParameter(dn,Qr.COMPILE_STATUS)===!0)}}),S={};S.create=function(ce,K,de){var ee=s.window.document.createElement(ce);return K!==void 0&&(ee.className=K),de&&de.appendChild(ee),ee},S.createNS=function(ce,K){var de=s.window.document.createElementNS(ce,K);return de};var v=s.window.document&&s.window.document.documentElement.style;function p(ce){if(!v)return ce[0];for(var K=0;K<ce.length;K++)if(ce[K]in v)return ce[K];return ce[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;S.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},S.enableDrag=function(){v&&r&&(v[r]=t)};var a=p(["transform","WebkitTransform"]);S.setTransform=function(ce,K){ce.style[a]=K};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});s.window.addEventListener("test",f,f),s.window.removeEventListener("test",f,f)}catch{n=!1}S.addEventListener=function(ce,K,de,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ce.addEventListener(K,de,ee):ce.addEventListener(K,de,ee.capture)},S.removeEventListener=function(ce,K,de,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ce.removeEventListener(K,de,ee):ce.removeEventListener(K,de,ee.capture)};var u=function(ce){ce.preventDefault(),ce.stopPropagation(),s.window.removeEventListener("click",u,!0)};S.suppressClick=function(){s.window.addEventListener("click",u,!0),s.window.setTimeout(function(){s.window.removeEventListener("click",u,!0)},0)},S.mousePos=function(ce,K){var de=ce.getBoundingClientRect();return new s.Point(K.clientX-de.left-ce.clientLeft,K.clientY-de.top-ce.clientTop)},S.touchPos=function(ce,K){for(var de=ce.getBoundingClientRect(),ee=[],pe=0;pe<K.length;pe++)ee.push(new s.Point(K[pe].clientX-de.left-ce.clientLeft,K[pe].clientY-de.top-ce.clientTop));return ee},S.mouseButton=function(ce){return typeof s.window.InstallTrigger<"u"&&ce.button===2&&ce.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ce.button},S.remove=function(ce){ce.parentNode&&ce.parentNode.removeChild(ce)};function l(ce,K,de){var ee,pe,Oe,Xe=s.browser.devicePixelRatio>1?"@2x":"",ut=s.getJSON(K.transformRequest(K.normalizeSpriteURL(ce,Xe,".json"),s.ResourceType.SpriteJSON),function($t,hr){ut=null,Oe||(Oe=$t,ee=hr,Vt())}),Lt=s.getImage(K.transformRequest(K.normalizeSpriteURL(ce,Xe,".png"),s.ResourceType.SpriteImage),function($t,hr){Lt=null,Oe||(Oe=$t,pe=hr,Vt())});function Vt(){if(Oe)de(Oe);else if(ee&&pe){var $t=s.browser.getImageData(pe),hr={};for(var fr in ee){var kr=ee[fr],Xr=kr.width,Yr=kr.height,Wr=kr.x,Qr=kr.y,dn=kr.sdf,In=kr.pixelRatio,Un=kr.stretchX,Xn=kr.stretchY,Zn=kr.content,jn=new s.RGBAImage({width:Xr,height:Yr});s.RGBAImage.copy($t,jn,{x:Wr,y:Qr},{x:0,y:0},{width:Xr,height:Yr}),hr[fr]={data:jn,pixelRatio:In,sdf:dn,stretchX:Un,stretchY:Xn,content:Zn}}de(null,hr)}}return{cancel:function(){ut&&(ut.cancel(),ut=null),Lt&&(Lt.cancel(),Lt=null)}}}function g(ce){var K=ce.userImage;if(K&&K.render){var de=K.render();if(de)return ce.data.replace(new Uint8Array(K.data.buffer)),!0}return!1}var h=1,T=function(ce){function K(){ce.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.isLoaded=function(){return this.loaded},K.prototype.setLoaded=function(ee){if(this.loaded!==ee&&(this.loaded=ee,ee)){for(var pe=0,Oe=this.requestors;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe.ids,Lt=Xe.callback;this._notify(ut,Lt)}this.requestors=[]}},K.prototype.getImage=function(ee){return this.images[ee]},K.prototype.addImage=function(ee,pe){this._validate(ee,pe)&&(this.images[ee]=pe)},K.prototype._validate=function(ee,pe){var Oe=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new s.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchX" value'))),Oe=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new s.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchY" value'))),Oe=!1),this._validateContent(pe.content,pe)||(this.fire(new s.ErrorEvent(new Error('Image "'+ee+'" has invalid "content" value'))),Oe=!1),Oe},K.prototype._validateStretch=function(ee,pe){if(!ee)return!0;for(var Oe=0,Xe=0,ut=ee;Xe<ut.length;Xe+=1){var Lt=ut[Xe];if(Lt[0]<Oe||Lt[1]<Lt[0]||pe<Lt[1])return!1;Oe=Lt[1]}return!0},K.prototype._validateContent=function(ee,pe){return ee?!(ee.length!==4||ee[0]<0||pe.data.width<ee[0]||ee[1]<0||pe.data.height<ee[1]||ee[2]<0||pe.data.width<ee[2]||ee[3]<0||pe.data.height<ee[3]||ee[2]<ee[0]||ee[3]<ee[1]):!0},K.prototype.updateImage=function(ee,pe){var Oe=this.images[ee];pe.version=Oe.version+1,this.images[ee]=pe,this.updatedImages[ee]=!0},K.prototype.removeImage=function(ee){var pe=this.images[ee];delete this.images[ee],delete this.patterns[ee],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},K.prototype.listImages=function(){return Object.keys(this.images)},K.prototype.getImages=function(ee,pe){var Oe=!0;if(!this.isLoaded())for(var Xe=0,ut=ee;Xe<ut.length;Xe+=1){var Lt=ut[Xe];this.images[Lt]||(Oe=!1)}this.isLoaded()||Oe?this._notify(ee,pe):this.requestors.push({ids:ee,callback:pe})},K.prototype._notify=function(ee,pe){for(var Oe={},Xe=0,ut=ee;Xe<ut.length;Xe+=1){var Lt=ut[Xe];this.images[Lt]||this.fire(new s.Event("styleimagemissing",{id:Lt}));var Vt=this.images[Lt];Vt?Oe[Lt]={data:Vt.data.clone(),pixelRatio:Vt.pixelRatio,sdf:Vt.sdf,version:Vt.version,stretchX:Vt.stretchX,stretchY:Vt.stretchY,content:Vt.content,hasRenderCallback:!!(Vt.userImage&&Vt.userImage.render)}:s.warnOnce('Image "'+Lt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,Oe)},K.prototype.getPixelSize=function(){var ee=this.atlasImage,pe=ee.width,Oe=ee.height;return{width:pe,height:Oe}},K.prototype.getPattern=function(ee){var pe=this.patterns[ee],Oe=this.getImage(ee);if(!Oe)return null;if(pe&&pe.position.version===Oe.version)return pe.position;if(pe)pe.position.version=Oe.version;else{var Xe=Oe.data.width+h*2,ut=Oe.data.height+h*2,Lt={w:Xe,h:ut,x:0,y:0},Vt=new s.ImagePosition(Lt,Oe);this.patterns[ee]={bin:Lt,position:Vt}}return this._updatePatternAtlas(),this.patterns[ee].position},K.prototype.bind=function(ee){var pe=ee.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(ee,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},K.prototype._updatePatternAtlas=function(){var ee=[];for(var pe in this.patterns)ee.push(this.patterns[pe].bin);var Oe=s.potpack(ee),Xe=Oe.w,ut=Oe.h,Lt=this.atlasImage;Lt.resize({width:Xe||1,height:ut||1});for(var Vt in this.patterns){var $t=this.patterns[Vt],hr=$t.bin,fr=hr.x+h,kr=hr.y+h,Xr=this.images[Vt].data,Yr=Xr.width,Wr=Xr.height;s.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:fr,y:kr},{width:Yr,height:Wr}),s.RGBAImage.copy(Xr,Lt,{x:0,y:Wr-1},{x:fr,y:kr-1},{width:Yr,height:1}),s.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:fr,y:kr+Wr},{width:Yr,height:1}),s.RGBAImage.copy(Xr,Lt,{x:Yr-1,y:0},{x:fr-1,y:kr},{width:1,height:Wr}),s.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:fr+Yr,y:kr},{width:1,height:Wr})}this.dirty=!0},K.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},K.prototype.dispatchRenderCallbacks=function(ee){for(var pe=0,Oe=ee;pe<Oe.length;pe+=1){var Xe=Oe[pe];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var ut=this.images[Xe],Lt=g(ut);Lt&&this.updateImage(Xe,ut)}}},K}(s.Evented);function c(ce,K,de,ee,pe){var Oe=K*256,Xe=Oe+255,ut=ee.transformRequest(ee.normalizeGlyphsURL(de).replace("{fontstack}",ce).replace("{range}",Oe+"-"+Xe),s.ResourceType.Glyphs);s.getArrayBuffer(ut,function(Lt,Vt){if(Lt)pe(Lt);else if(Vt){for(var $t={},hr=0,fr=s.parseGlyphPBF(Vt);hr<fr.length;hr+=1){var kr=fr[hr];$t[kr.id]=kr}pe(null,$t)}})}var i=w,d=w,b=1e20;function w(ce,K,de,ee,pe,Oe){this.fontSize=ce||24,this.buffer=K===void 0?3:K,this.cutoff=ee||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=Oe||"normal",this.radius=de||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(ce){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ce,this.buffer,this.middle);for(var K=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var pe=K.data[ee*4+3]/255;this.gridOuter[ee]=pe===1?0:pe===0?b:Math.pow(Math.max(0,.5-pe),2),this.gridInner[ee]=pe===1?b:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++){var Oe=this.gridOuter[ee]-this.gridInner[ee];de[ee]=Math.max(0,Math.min(255,Math.round(255-255*(Oe/this.radius+this.cutoff))))}return de};function C(ce,K,de,ee,pe,Oe,Xe){for(var ut=0;ut<K;ut++){for(var Lt=0;Lt<de;Lt++)ee[Lt]=ce[Lt*K+ut];for(y(ee,pe,Oe,Xe,de),Lt=0;Lt<de;Lt++)ce[Lt*K+ut]=pe[Lt]}for(Lt=0;Lt<de;Lt++){for(ut=0;ut<K;ut++)ee[ut]=ce[Lt*K+ut];for(y(ee,pe,Oe,Xe,K),ut=0;ut<K;ut++)ce[Lt*K+ut]=Math.sqrt(pe[ut])}}function y(ce,K,de,ee,pe){de[0]=0,ee[0]=-b,ee[1]=+b;for(var Oe=1,Xe=0;Oe<pe;Oe++){for(var ut=(ce[Oe]+Oe*Oe-(ce[de[Xe]]+de[Xe]*de[Xe]))/(2*Oe-2*de[Xe]);ut<=ee[Xe];)Xe--,ut=(ce[Oe]+Oe*Oe-(ce[de[Xe]]+de[Xe]*de[Xe]))/(2*Oe-2*de[Xe]);Xe++,de[Xe]=Oe,ee[Xe]=ut,ee[Xe+1]=+b}for(Oe=0,Xe=0;Oe<pe;Oe++){for(;ee[Xe+1]<Oe;)Xe++;K[Oe]=(Oe-de[Xe])*(Oe-de[Xe])+ce[de[Xe]]}}i.default=d;var E=function(K,de){this.requestManager=K,this.localIdeographFontFamily=de,this.entries={}};E.prototype.setURL=function(K){this.url=K},E.prototype.getGlyphs=function(K,de){var ee=this,pe=[];for(var Oe in K)for(var Xe=0,ut=K[Oe];Xe<ut.length;Xe+=1){var Lt=ut[Xe];pe.push({stack:Oe,id:Lt})}s.asyncAll(pe,function(Vt,$t){var hr=Vt.stack,fr=Vt.id,kr=ee.entries[hr];kr||(kr=ee.entries[hr]={glyphs:{},requests:{},ranges:{}});var Xr=kr.glyphs[fr];if(Xr!==void 0){$t(null,{stack:hr,id:fr,glyph:Xr});return}if(Xr=ee._tinySDF(kr,hr,fr),Xr){kr.glyphs[fr]=Xr,$t(null,{stack:hr,id:fr,glyph:Xr});return}var Yr=Math.floor(fr/256);if(Yr*256>65535){$t(new Error("glyphs > 65535 not supported"));return}if(kr.ranges[Yr]){$t(null,{stack:hr,id:fr,glyph:Xr});return}var Wr=kr.requests[Yr];Wr||(Wr=kr.requests[Yr]=[],E.loadGlyphRange(hr,Yr,ee.url,ee.requestManager,function(Qr,dn){if(dn){for(var In in dn)ee._doesCharSupportLocalGlyph(+In)||(kr.glyphs[+In]=dn[+In]);kr.ranges[Yr]=!0}for(var Un=0,Xn=Wr;Un<Xn.length;Un+=1){var Zn=Xn[Un];Zn(Qr,dn)}delete kr.requests[Yr]})),Wr.push(function(Qr,dn){Qr?$t(Qr):dn&&$t(null,{stack:hr,id:fr,glyph:dn[fr]||null})})},function(Vt,$t){if(Vt)de(Vt);else if($t){for(var hr={},fr=0,kr=$t;fr<kr.length;fr+=1){var Xr=kr[fr],Yr=Xr.stack,Wr=Xr.id,Qr=Xr.glyph;(hr[Yr]||(hr[Yr]={}))[Wr]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}de(null,hr)}})},E.prototype._doesCharSupportLocalGlyph=function(K){return!!this.localIdeographFontFamily&&(s.isChar["CJK Unified Ideographs"](K)||s.isChar["Hangul Syllables"](K)||s.isChar.Hiragana(K)||s.isChar.Katakana(K))},E.prototype._tinySDF=function(K,de,ee){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(ee)){var Oe=K.tinySDF;if(!Oe){var Xe="400";/bold/i.test(de)?Xe="900":/medium/i.test(de)?Xe="500":/light/i.test(de)&&(Xe="200"),Oe=K.tinySDF=new E.TinySDF(24,3,8,.25,pe,Xe)}return{id:ee,bitmap:new s.AlphaImage({width:30,height:30},Oe.draw(String.fromCharCode(ee))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=c,E.TinySDF=i;var A=function(){this.specification=s.styleSpec.light.position};A.prototype.possiblyEvaluate=function(K,de){return s.sphericalToCartesian(K.expression.evaluate(de))},A.prototype.interpolate=function(K,de,ee){return{x:s.number(K.x,de.x,ee),y:s.number(K.y,de.y,ee),z:s.number(K.z,de.z,ee)}};var o=new s.Properties({anchor:new s.DataConstantProperty(s.styleSpec.light.anchor),position:new A,color:new s.DataConstantProperty(s.styleSpec.light.color),intensity:new s.DataConstantProperty(s.styleSpec.light.intensity)}),M="-transition",x=function(ce){function K(de){ce.call(this),this._transitionable=new s.Transitionable(o),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getLight=function(){return this._transitionable.serialize()},K.prototype.setLight=function(ee,pe){if(pe===void 0&&(pe={}),!this._validate(s.validateLight,ee,pe))for(var Oe in ee){var Xe=ee[Oe];s.endsWith(Oe,M)?this._transitionable.setTransition(Oe.slice(0,-M.length),Xe):this._transitionable.setValue(Oe,Xe)}},K.prototype.updateTransitions=function(ee){this._transitioning=this._transitionable.transitioned(ee,this._transitioning)},K.prototype.hasTransition=function(){return this._transitioning.hasTransition()},K.prototype.recalculate=function(ee){this.properties=this._transitioning.possiblyEvaluate(ee)},K.prototype._validate=function(ee,pe,Oe){return Oe&&Oe.validate===!1?!1:s.emitValidationErrors(this,ee.call(s.validateStyle,s.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:s.styleSpec})))},K}(s.Evented),I=function(K,de){this.width=K,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(K,de){var ee=K.join(",")+String(de);return this.dashEntry[ee]||(this.dashEntry[ee]=this.addDash(K,de)),this.dashEntry[ee]},I.prototype.getDashRanges=function(K,de,ee){var pe=K.length%2===1,Oe=[],Xe=pe?-K[K.length-1]*ee:0,ut=K[0]*ee,Lt=!0;Oe.push({left:Xe,right:ut,isDash:Lt,zeroLength:K[0]===0});for(var Vt=K[0],$t=1;$t<K.length;$t++){Lt=!Lt;var hr=K[$t];Xe=Vt*ee,Vt+=hr,ut=Vt*ee,Oe.push({left:Xe,right:ut,isDash:Lt,zeroLength:hr===0})}return Oe},I.prototype.addRoundDash=function(K,de,ee){for(var pe=de/2,Oe=-ee;Oe<=ee;Oe++)for(var Xe=this.nextRow+ee+Oe,ut=this.width*Xe,Lt=0,Vt=K[Lt],$t=0;$t<this.width;$t++){$t/Vt.right>1&&(Vt=K[++Lt]);var hr=Math.abs($t-Vt.left),fr=Math.abs($t-Vt.right),kr=Math.min(hr,fr),Xr=void 0,Yr=Oe/ee*(pe+1);if(Vt.isDash){var Wr=pe-Math.abs(Yr);Xr=Math.sqrt(kr*kr+Wr*Wr)}else Xr=pe-Math.sqrt(kr*kr+Yr*Yr);this.data[ut+$t]=Math.max(0,Math.min(255,Xr+128))}},I.prototype.addRegularDash=function(K){for(var de=K.length-1;de>=0;--de){var ee=K[de],pe=K[de+1];ee.zeroLength?K.splice(de,1):pe&&pe.isDash===ee.isDash&&(pe.left=ee.left,K.splice(de,1))}var Oe=K[0],Xe=K[K.length-1];Oe.isDash===Xe.isDash&&(Oe.left=Xe.left-this.width,Xe.right=Oe.right+this.width);for(var ut=this.width*this.nextRow,Lt=0,Vt=K[Lt],$t=0;$t<this.width;$t++){$t/Vt.right>1&&(Vt=K[++Lt]);var hr=Math.abs($t-Vt.left),fr=Math.abs($t-Vt.right),kr=Math.min(hr,fr),Xr=Vt.isDash?kr:-kr;this.data[ut+$t]=Math.max(0,Math.min(255,Xr+128))}},I.prototype.addDash=function(K,de){var ee=de?7:0,pe=2*ee+1;if(this.nextRow+pe>this.height)return s.warnOnce("LineAtlas out of space"),null;for(var Oe=0,Xe=0;Xe<K.length;Xe++)Oe+=K[Xe];if(Oe!==0){var ut=this.width/Oe,Lt=this.getDashRanges(K,this.width,ut);de?this.addRoundDash(Lt,ut,ee):this.addRegularDash(Lt)}var Vt={y:(this.nextRow+ee+.5)/this.height,height:2*ee/this.height,width:Oe};return this.nextRow+=pe,this.dirty=!0,Vt},I.prototype.bind=function(K){var de=K.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var D=function ce(K,de){this.workerPool=K,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var ee=this.workerPool.acquire(this.id),pe=0;pe<ee.length;pe++){var Oe=ee[pe],Xe=new ce.Actor(Oe,de,this.id);Xe.name="Worker "+pe,this.actors.push(Xe)}};D.prototype.broadcast=function(K,de,ee){ee=ee||function(){},s.asyncAll(this.actors,function(pe,Oe){pe.send(K,de,Oe)},ee)},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function(K){K.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=s.Actor;function N(ce,K,de){var ee=function(pe,Oe){if(pe)return de(pe);if(Oe){var Xe=s.pick(s.extend(Oe,ce),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Oe.vector_layers&&(Xe.vectorLayers=Oe.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(ut){return ut.id})),Xe.tiles=K.canonicalizeTileset(Xe,ce.url),de(null,Xe)}};return ce.url?s.getJSON(K.transformRequest(K.normalizeSourceURL(ce.url),s.ResourceType.Source),ee):s.browser.frame(function(){return ee(null,ce)})}var k=function(K,de,ee){this.bounds=s.LngLatBounds.convert(this.validateBounds(K)),this.minzoom=de||0,this.maxzoom=ee||24};k.prototype.validateBounds=function(K){return!Array.isArray(K)||K.length!==4?[-180,-90,180,90]:[Math.max(-180,K[0]),Math.max(-90,K[1]),Math.min(180,K[2]),Math.min(90,K[3])]},k.prototype.contains=function(K){var de=Math.pow(2,K.z),ee={minX:Math.floor(s.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*de)},pe=K.x>=ee.minX&&K.x<ee.maxX&&K.y>=ee.minY&&K.y<ee.maxY;return pe};var O=function(ce){function K(de,ee,pe,Oe){if(ce.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Oe)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(pe,Oe){ee._tileJSONRequest=null,ee._loaded=!0,pe?ee.fire(new s.ErrorEvent(pe)):Oe&&(s.extend(ee,Oe),Oe.bounds&&(ee.tileBounds=new k(Oe.bounds,ee.minzoom,ee.maxzoom)),s.postTurnstileEvent(Oe.tiles,ee.map._requestManager._customAccessToken),s.postMapLoadEvent(Oe.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken,ee.map._requestManager._customAccessToken),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.setSourceProperty=function(ee){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ee();var pe=this.map.style.sourceCaches[this.id];pe.clearTiles(),this.load()},K.prototype.setTiles=function(ee){var pe=this;return this.setSourceProperty(function(){pe._options.tiles=ee}),this},K.prototype.setUrl=function(ee){var pe=this;return this.setSourceProperty(function(){pe.url=ee,pe._options.url=ee}),this},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return s.extend({},this._options)},K.prototype.loadTile=function(ee,pe){var Oe=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(Oe,s.ResourceType.Tile),uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,tileSize:this.tileSize*ee.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!ee.actor||ee.state==="expired"?(ee.actor=this.dispatcher.getActor(),ee.request=ee.actor.send("loadTile",Xe,ut.bind(this))):ee.state==="loading"?ee.reloadCallback=pe:ee.request=ee.actor.send("reloadTile",Xe,ut.bind(this));function ut(Lt,Vt){if(delete ee.request,ee.aborted)return pe(null);if(Lt&&Lt.status!==404)return pe(Lt);Vt&&Vt.resourceTiming&&(ee.resourceTiming=Vt.resourceTiming),this.map._refreshExpiredTiles&&Vt&&ee.setExpiryData(Vt),ee.loadVectorData(Vt,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),pe(null),ee.reloadCallback&&(this.loadTile(ee,ee.reloadCallback),ee.reloadCallback=null)}},K.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.actor&&ee.actor.send("abortTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},K.prototype.unloadTile=function(ee){ee.unloadVectorData(),ee.actor&&ee.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},K.prototype.hasTransition=function(){return!1},K}(s.Evented),F=function(ce){function K(de,ee,pe,Oe){ce.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(Oe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},ee),s.extend(this,s.pick(ee,["url","scheme","tileSize"]))}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(pe,Oe){ee._tileJSONRequest=null,ee._loaded=!0,pe?ee.fire(new s.ErrorEvent(pe)):Oe&&(s.extend(ee,Oe),Oe.bounds&&(ee.tileBounds=new k(Oe.bounds,ee.minzoom,ee.maxzoom)),s.postTurnstileEvent(Oe.tiles),s.postMapLoadEvent(Oe.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return s.extend({},this._options)},K.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},K.prototype.loadTile=function(ee,pe){var Oe=this,Xe=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=s.getImage(this.map._requestManager.transformRequest(Xe,s.ResourceType.Tile),function(ut,Lt){if(delete ee.request,ee.aborted)ee.state="unloaded",pe(null);else if(ut)ee.state="errored",pe(ut);else if(Lt){Oe.map._refreshExpiredTiles&&ee.setExpiryData(Lt),delete Lt.cacheControl,delete Lt.expires;var Vt=Oe.map.painter.context,$t=Vt.gl;ee.texture=Oe.map.painter.getTileTexture(Lt.width),ee.texture?ee.texture.update(Lt,{useMipmap:!0}):(ee.texture=new s.Texture(Vt,Lt,$t.RGBA,{useMipmap:!0}),ee.texture.bind($t.LINEAR,$t.CLAMP_TO_EDGE,$t.LINEAR_MIPMAP_NEAREST),Vt.extTextureFilterAnisotropic&&$t.texParameterf($t.TEXTURE_2D,Vt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Vt.extTextureFilterAnisotropicMax)),ee.state="loaded",s.cacheEntryPossiblyAdded(Oe.dispatcher),pe(null)}})},K.prototype.abortTile=function(ee,pe){ee.request&&(ee.request.cancel(),delete ee.request),pe()},K.prototype.unloadTile=function(ee,pe){ee.texture&&this.map.painter.saveTileTexture(ee.texture),pe()},K.prototype.hasTransition=function(){return!1},K}(s.Evented),z=function(ce){function K(de,ee,pe,Oe){ce.call(this,de,ee,pe,Oe),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},K.prototype.loadTile=function(ee,pe){var Oe=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=s.getImage(this.map._requestManager.transformRequest(Oe,s.ResourceType.Tile),Xe.bind(this)),ee.neighboringTiles=this._getNeighboringTiles(ee.tileID);function Xe(Lt,Vt){if(delete ee.request,ee.aborted)ee.state="unloaded",pe(null);else if(Lt)ee.state="errored",pe(Lt);else if(Vt){this.map._refreshExpiredTiles&&ee.setExpiryData(Vt),delete Vt.cacheControl,delete Vt.expires;var $t=s.window.ImageBitmap&&Vt instanceof s.window.ImageBitmap&&s.offscreenCanvasSupported(),hr=$t?Vt:s.browser.getImageData(Vt,1),fr={uid:ee.uid,coord:ee.tileID,source:this.id,rawImageData:hr,encoding:this.encoding};(!ee.actor||ee.state==="expired")&&(ee.actor=this.dispatcher.getActor(),ee.actor.send("loadDEMTile",fr,ut.bind(this)))}}function ut(Lt,Vt){Lt&&(ee.state="errored",pe(Lt)),Vt&&(ee.dem=Vt,ee.needsHillshadePrepare=!0,ee.state="loaded",pe(null))}},K.prototype._getNeighboringTiles=function(ee){var pe=ee.canonical,Oe=Math.pow(2,pe.z),Xe=(pe.x-1+Oe)%Oe,ut=pe.x===0?ee.wrap-1:ee.wrap,Lt=(pe.x+1+Oe)%Oe,Vt=pe.x+1===Oe?ee.wrap+1:ee.wrap,$t={};return $t[new s.OverscaledTileID(ee.overscaledZ,ut,pe.z,Xe,pe.y).key]={backfilled:!1},$t[new s.OverscaledTileID(ee.overscaledZ,Vt,pe.z,Lt,pe.y).key]={backfilled:!1},pe.y>0&&($t[new s.OverscaledTileID(ee.overscaledZ,ut,pe.z,Xe,pe.y-1).key]={backfilled:!1},$t[new s.OverscaledTileID(ee.overscaledZ,ee.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},$t[new s.OverscaledTileID(ee.overscaledZ,Vt,pe.z,Lt,pe.y-1).key]={backfilled:!1}),pe.y+1<Oe&&($t[new s.OverscaledTileID(ee.overscaledZ,ut,pe.z,Xe,pe.y+1).key]={backfilled:!1},$t[new s.OverscaledTileID(ee.overscaledZ,ee.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},$t[new s.OverscaledTileID(ee.overscaledZ,Vt,pe.z,Lt,pe.y+1).key]={backfilled:!1}),$t},K.prototype.unloadTile=function(ee){ee.demTexture&&this.map.painter.saveTileTexture(ee.demTexture),ee.fbo&&(ee.fbo.destroy(),delete ee.fbo),ee.dem&&delete ee.dem,delete ee.neighboringTiles,ee.state="unloaded",ee.actor&&ee.actor.send("removeDEMTile",{uid:ee.uid,source:this.id})},K}(F),B=function(ce){function K(de,ee,pe,Oe){ce.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(Oe),this._data=ee.data,this._options=s.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],ee.maxzoom!==void 0&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var Xe=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(ee.buffer!==void 0?ee.buffer:128)*Xe,tolerance:(ee.tolerance!==void 0?ee.tolerance:.375)*Xe,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:ee.clusterMaxZoom!==void 0?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ee.clusterMinPoints||2),extent:s.EXTENT,radius:(ee.clusterRadius||50)*Xe,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties,filter:ee.filter},ee.workerOptions)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){ee.fire(new s.ErrorEvent(pe));return}var Oe={dataType:"source",sourceDataType:"metadata"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(Oe.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new s.Event("data",Oe))})},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.setData=function(ee){var pe=this;return this._data=ee,this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Oe){if(Oe){pe.fire(new s.ErrorEvent(Oe));return}var Xe={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Xe.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new s.Event("data",Xe))}),this},K.prototype.getClusterExpansionZoom=function(ee,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ee,source:this.id},pe),this},K.prototype.getClusterChildren=function(ee,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:ee,source:this.id},pe),this},K.prototype.getClusterLeaves=function(ee,pe,Oe,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ee,limit:pe,offset:Oe},Xe),this},K.prototype._updateWorkerData=function(ee){var pe=this;this._loaded=!1;var Oe=s.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(Oe.request=this.map._requestManager.transformRequest(s.browser.resolveURL(Xe),s.ResourceType.Source),Oe.request.collectResourceTiming=this._collectResourceTiming):Oe.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",Oe,function(ut,Lt){pe._removed||Lt&&Lt.abandoned||(pe._loaded=!0,Lt&&Lt.resourceTiming&&Lt.resourceTiming[pe.id]&&(pe._resourceTiming=Lt.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:Oe.source},null),ee(ut))})},K.prototype.loaded=function(){return this._loaded},K.prototype.loadTile=function(ee,pe){var Oe=this,Xe=ee.actor?"reloadTile":"loadTile";ee.actor=this.actor;var ut={type:this.type,uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ee.request=this.actor.send(Xe,ut,function(Lt,Vt){return delete ee.request,ee.unloadVectorData(),ee.aborted?pe(null):Lt?pe(Lt):(ee.loadVectorData(Vt,Oe.map.painter,Xe==="reloadTile"),pe(null))})},K.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.aborted=!0},K.prototype.unloadTile=function(ee){ee.unloadVectorData(),this.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id})},K.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},K.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},K.prototype.hasTransition=function(){return!1},K}(s.Evented),W=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(ce){function K(de,ee,pe,Oe){ce.call(this),this.id=de,this.dispatcher=pe,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Oe),this.options=ee}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.load=function(ee,pe){var Oe=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),function(Xe,ut){Oe._loaded=!0,Xe?Oe.fire(new s.ErrorEvent(Xe)):ut&&(Oe.image=ut,ee&&(Oe.coordinates=ee),pe&&pe(),Oe._finishLoading())})},K.prototype.loaded=function(){return this._loaded},K.prototype.updateImage=function(ee){var pe=this;return!this.image||!ee.url?this:(this.options.url=ee.url,this.load(ee.coordinates,function(){pe.texture=null}),this)},K.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))},K.prototype.onAdd=function(ee){this.map=ee,this.load()},K.prototype.setCoordinates=function(ee){var pe=this;this.coordinates=ee;var Oe=ee.map(s.MercatorCoordinate.fromLngLat);this.tileID=re(Oe),this.minzoom=this.maxzoom=this.tileID.z;var Xe=Oe.map(function(ut){return pe.tileID.getTilePoint(ut)._round()});return this._boundsArray=new s.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ee=this.map.painter.context,pe=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new s.Texture(ee,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var Oe in this.tiles){var Xe=this.tiles[Oe];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},K.prototype.loadTile=function(ee,pe){this.tileID&&this.tileID.equals(ee.tileID.canonical)?(this.tiles[String(ee.tileID.wrap)]=ee,ee.buckets={},pe(null)):(ee.state="errored",pe(null))},K.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return!1},K}(s.Evented);function re(ce){for(var K=1/0,de=1/0,ee=-1/0,pe=-1/0,Oe=0,Xe=ce;Oe<Xe.length;Oe+=1){var ut=Xe[Oe];K=Math.min(K,ut.x),de=Math.min(de,ut.y),ee=Math.max(ee,ut.x),pe=Math.max(pe,ut.y)}var Lt=ee-K,Vt=pe-de,$t=Math.max(Lt,Vt),hr=Math.max(0,Math.floor(-Math.log($t)/Math.LN2)),fr=Math.pow(2,hr);return new s.CanonicalTileID(hr,Math.floor((K+ee)/2*fr),Math.floor((de+pe)/2*fr))}var ne=function(ce){function K(de,ee,pe,Oe){ce.call(this,de,ee,pe,Oe),this.roundZoom=!0,this.type="video",this.options=ee}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.load=function(){var ee=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var Oe=0,Xe=pe.urls;Oe<Xe.length;Oe+=1){var ut=Xe[Oe];this.urls.push(this.map._requestManager.transformRequest(ut,s.ResourceType.Source).url)}s.getVideo(this.urls,function(Lt,Vt){ee._loaded=!0,Lt?ee.fire(new s.ErrorEvent(Lt)):Vt&&(ee.video=Vt,ee.video.loop=!0,ee.video.addEventListener("playing",function(){ee.map.triggerRepaint()}),ee.map&&ee.video.play(),ee._finishLoading())})},K.prototype.pause=function(){this.video&&this.video.pause()},K.prototype.play=function(){this.video&&this.video.play()},K.prototype.seek=function(ee){if(this.video){var pe=this.video.seekable;ee<pe.start(0)||ee>pe.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=ee}},K.prototype.getVideo=function(){return this.video},K.prototype.onAdd=function(ee){this.map||(this.map=ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ee=this.map.painter.context,pe=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(ee,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var Oe in this.tiles){var Xe=this.tiles[Oe];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this.video&&!this.video.paused},K}(J),le=function(ce){function K(de,ee,pe,Oe){ce.call(this,de,ee,pe,Oe),ee.coordinates?(!Array.isArray(ee.coordinates)||ee.coordinates.length!==4||ee.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(ut){return typeof ut!="number"})}))&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'missing required property "coordinates"'))),ee.animate&&typeof ee.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),ee.canvas?typeof ee.canvas!="string"&&!(ee.canvas instanceof s.window.HTMLCanvasElement)&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=ee,this.animate=ee.animate!==void 0?ee.animate:!0}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},K.prototype.getCanvas=function(){return this.canvas},K.prototype.onAdd=function(ee){this.map=ee,this.load(),this.canvas&&this.animate&&this.play()},K.prototype.onRemove=function(){this.pause()},K.prototype.prepare=function(){var ee=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ee=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ee=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,Oe=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ee||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(pe,this.canvas,Oe.RGBA,{premultiply:!0});for(var Xe in this.tiles){var ut=this.tiles[Xe];ut.state!=="loaded"&&(ut.state="loaded",ut.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this._playing},K.prototype._hasInvalidDimensions=function(){for(var ee=0,pe=[this.canvas.width,this.canvas.height];ee<pe.length;ee+=1){var Oe=pe[ee];if(isNaN(Oe)||Oe<=0)return!0}return!1},K}(J),$={vector:O,raster:F,"raster-dem":z,geojson:B,video:ne,image:J,canvas:le},Z=function(ce,K,de,ee){var pe=new $[K.type](ce,K,de,ee);if(pe.id!==ce)throw new Error("Expected Source id to be "+ce+" instead of "+pe.id);return s.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},ie=function(ce){return $[ce]},X=function(ce,K){$[ce]=K};function Q(ce,K){var de=s.identity([]);return s.translate(de,de,[1,1,0]),s.scale(de,de,[ce.width*.5,ce.height*.5,1]),s.multiply(de,de,ce.calculatePosMatrix(K.toUnwrapped()))}function oe(ce,K,de){if(ce)for(var ee=0,pe=ce;ee<pe.length;ee+=1){var Oe=pe[ee],Xe=K[Oe];if(Xe&&Xe.source===de&&Xe.type==="fill-extrusion")return!0}else for(var ut in K){var Lt=K[ut];if(Lt.source===de&&Lt.type==="fill-extrusion")return!0}return!1}function j(ce,K,de,ee,pe,Oe){var Xe=oe(pe&&pe.layers,K,ce.id),ut=Oe.maxPitchScaleFactor(),Lt=ce.tilesIn(ee,ut,Xe);Lt.sort(te);for(var Vt=[],$t=0,hr=Lt;$t<hr.length;$t+=1){var fr=hr[$t];Vt.push({wrappedTileID:fr.tileID.wrapped().key,queryResults:fr.tile.queryRenderedFeatures(K,de,ce._state,fr.queryGeometry,fr.cameraQueryGeometry,fr.scale,pe,Oe,ut,Q(ce.transform,fr.tileID))})}var kr=fe(Vt);for(var Xr in kr)kr[Xr].forEach(function(Yr){var Wr=Yr.feature,Qr=ce.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=Qr});return kr}function Y(ce,K,de,ee,pe,Oe,Xe){for(var ut={},Lt=Oe.queryRenderedSymbols(ee),Vt=[],$t=0,hr=Object.keys(Lt).map(Number);$t<hr.length;$t+=1){var fr=hr[$t];Vt.push(Xe[fr])}Vt.sort(te);for(var kr=function(){var dn=Yr[Xr],In=dn.featureIndex.lookupSymbolFeatures(Lt[dn.bucketInstanceId],K,dn.bucketIndex,dn.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,ce);for(var Un in In){var Xn=ut[Un]=ut[Un]||[],Zn=In[Un];Zn.sort(function(ua,xa){var da=dn.featureSortOrder;if(da){var Fa=da.indexOf(ua.featureIndex),qa=da.indexOf(xa.featureIndex);return qa-Fa}else return xa.featureIndex-ua.featureIndex});for(var jn=0,Jn=Zn;jn<Jn.length;jn+=1){var na=Jn[jn];Xn.push(na)}}},Xr=0,Yr=Vt;Xr<Yr.length;Xr+=1)kr();var Wr=function(dn){ut[dn].forEach(function(In){var Un=In.feature,Xn=ce[dn],Zn=de[Xn.source],jn=Zn.getFeatureState(Un.layer["source-layer"],Un.id);Un.source=Un.layer.source,Un.layer["source-layer"]&&(Un.sourceLayer=Un.layer["source-layer"]),Un.state=jn})};for(var Qr in ut)Wr(Qr);return ut}function se(ce,K){for(var de=ce.getRenderableIds().map(function(Lt){return ce.getTileByID(Lt)}),ee=[],pe={},Oe=0;Oe<de.length;Oe++){var Xe=de[Oe],ut=Xe.tileID.canonical.key;pe[ut]||(pe[ut]=!0,Xe.querySourceFeatures(ee,K))}return ee}function te(ce,K){var de=ce.tileID,ee=K.tileID;return de.overscaledZ-ee.overscaledZ||de.canonical.y-ee.canonical.y||de.wrap-ee.wrap||de.canonical.x-ee.canonical.x}function fe(ce){for(var K={},de={},ee=0,pe=ce;ee<pe.length;ee+=1){var Oe=pe[ee],Xe=Oe.queryResults,ut=Oe.wrappedTileID,Lt=de[ut]=de[ut]||{};for(var Vt in Xe)for(var $t=Xe[Vt],hr=Lt[Vt]=Lt[Vt]||{},fr=K[Vt]=K[Vt]||[],kr=0,Xr=$t;kr<Xr.length;kr+=1){var Yr=Xr[kr];hr[Yr.featureIndex]||(hr[Yr.featureIndex]=!0,fr.push(Yr))}}return K}var ge=function(K,de){this.max=K,this.onRemove=de,this.reset()};ge.prototype.reset=function(){for(var K in this.data)for(var de=0,ee=this.data[K];de<ee.length;de+=1){var pe=ee[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},ge.prototype.add=function(K,de,ee){var pe=this,Oe=K.wrapped().key;this.data[Oe]===void 0&&(this.data[Oe]=[]);var Xe={value:de,timeout:void 0};if(ee!==void 0&&(Xe.timeout=setTimeout(function(){pe.remove(K,Xe)},ee)),this.data[Oe].push(Xe),this.order.push(Oe),this.order.length>this.max){var ut=this._getAndRemoveByKey(this.order[0]);ut&&this.onRemove(ut)}return this},ge.prototype.has=function(K){return K.wrapped().key in this.data},ge.prototype.getAndRemove=function(K){return this.has(K)?this._getAndRemoveByKey(K.wrapped().key):null},ge.prototype._getAndRemoveByKey=function(K){var de=this.data[K].shift();return de.timeout&&clearTimeout(de.timeout),this.data[K].length===0&&delete this.data[K],this.order.splice(this.order.indexOf(K),1),de.value},ge.prototype.getByKey=function(K){var de=this.data[K];return de?de[0].value:null},ge.prototype.get=function(K){if(!this.has(K))return null;var de=this.data[K.wrapped().key][0];return de.value},ge.prototype.remove=function(K,de){if(!this.has(K))return this;var ee=K.wrapped().key,pe=de===void 0?0:this.data[ee].indexOf(de),Oe=this.data[ee][pe];return this.data[ee].splice(pe,1),Oe.timeout&&clearTimeout(Oe.timeout),this.data[ee].length===0&&delete this.data[ee],this.onRemove(Oe.value),this.order.splice(this.order.indexOf(ee),1),this},ge.prototype.setMaxSize=function(K){for(this.max=K;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ge.prototype.filter=function(K){var de=[];for(var ee in this.data)for(var pe=0,Oe=this.data[ee];pe<Oe.length;pe+=1){var Xe=Oe[pe];K(Xe.value)||de.push(Xe)}for(var ut=0,Lt=de;ut<Lt.length;ut+=1){var Vt=Lt[ut];this.remove(Vt.value.tileID,Vt)}};var be=function(K,de,ee){this.context=K;var pe=K.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!ee,this.context.unbindVAO(),K.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};be.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},be.prototype.updateData=function(K){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,K.arrayBuffer)},be.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},_e=function(K,de,ee,pe){this.length=de.length,this.attributes=ee,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=K;var Oe=K.gl;this.buffer=Oe.createBuffer(),K.bindVertexBuffer.set(this.buffer),Oe.bufferData(Oe.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?Oe.DYNAMIC_DRAW:Oe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};_e.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},_e.prototype.updateData=function(K){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,K.arrayBuffer)},_e.prototype.enableAttributes=function(K,de){for(var ee=0;ee<this.attributes.length;ee++){var pe=this.attributes[ee],Oe=de.attributes[pe.name];Oe!==void 0&&K.enableVertexAttribArray(Oe)}},_e.prototype.setVertexAttribPointers=function(K,de,ee){for(var pe=0;pe<this.attributes.length;pe++){var Oe=this.attributes[pe],Xe=de.attributes[Oe.name];Xe!==void 0&&K.vertexAttribPointer(Xe,Oe.components,K[xe[Oe.type]],!1,this.itemSize,Oe.offset+this.itemSize*(ee||0))}},_e.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var De=function(K){this.gl=K.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};De.prototype.get=function(){return this.current},De.prototype.set=function(K){},De.prototype.getDefault=function(){return this.default},De.prototype.setDefault=function(){this.set(this.default)};var Fe=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return s.Color.transparent},K.prototype.set=function(ee){var pe=this.current;ee.r===pe.r&&ee.g===pe.g&&ee.b===pe.b&&ee.a===pe.a&&!this.dirty||(this.gl.clearColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},K}(De),Te=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 1},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearDepth(ee),this.current=ee,this.dirty=!1)},K}(De),Re=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 0},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearStencil(ee),this.current=ee,this.dirty=!1)},K}(De),Se=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[!0,!0,!0,!0]},K.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&ee[3]===pe[3]&&!this.dirty||(this.gl.colorMask(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},K}(De),ke=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!0},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthMask(ee),this.current=ee,this.dirty=!1)},K}(De),Me=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 255},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.stencilMask(ee),this.current=ee,this.dirty=!1)},K}(De),Ve=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},K.prototype.set=function(ee){var pe=this.current;ee.func===pe.func&&ee.ref===pe.ref&&ee.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(ee.func,ee.ref,ee.mask),this.current=ee,this.dirty=!1)},K}(De),tt=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var ee=this.gl;return[ee.KEEP,ee.KEEP,ee.KEEP]},K.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(ee[0],ee[1],ee[2]),this.current=ee,this.dirty=!1)},K}(De),it=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=ee,this.dirty=!1}},K}(De),Je=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[0,1]},K.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&!this.dirty||(this.gl.depthRange(ee[0],ee[1]),this.current=ee,this.dirty=!1)},K}(De),Qe=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=ee,this.dirty=!1}},K}(De),ct=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.LESS},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthFunc(ee),this.current=ee,this.dirty=!1)},K}(De),ht=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=ee,this.dirty=!1}},K}(De),dt=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var ee=this.gl;return[ee.ONE,ee.ZERO]},K.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(ee[0],ee[1]),this.current=ee,this.dirty=!1)},K}(De),Tt=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return s.Color.transparent},K.prototype.set=function(ee){var pe=this.current;ee.r===pe.r&&ee.g===pe.g&&ee.b===pe.b&&ee.a===pe.a&&!this.dirty||(this.gl.blendColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},K}(De),Et=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.FUNC_ADD},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.blendEquation(ee),this.current=ee,this.dirty=!1)},K}(De),rt=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=ee,this.dirty=!1}},K}(De),ze=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.BACK},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.cullFace(ee),this.current=ee,this.dirty=!1)},K}(De),Ge=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.CCW},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.frontFace(ee),this.current=ee,this.dirty=!1)},K}(De),je=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.useProgram(ee),this.current=ee,this.dirty=!1)},K}(De),We=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.TEXTURE0},K.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.activeTexture(ee),this.current=ee,this.dirty=!1)},K}(De),Le=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var ee=this.gl;return[0,0,ee.drawingBufferWidth,ee.drawingBufferHeight]},K.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&ee[3]===pe[3]&&!this.dirty||(this.gl.viewport(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},K}(De),Pe=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,ee),this.current=ee,this.dirty=!1}},K}(De),Ye=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},K}(De),Ce=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,ee),this.current=ee,this.dirty=!1}},K}(De),he=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1}},K}(De),me=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1},K}(De),Ne=function(ce){function K(de){ce.call(this,de),this.vao=de.extVertexArrayObject}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(ee){!this.vao||ee===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ee),this.current=ee,this.dirty=!1)},K}(De),$e=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 4},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,ee),this.current=ee,this.dirty=!1}},K}(De),ot=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee),this.current=ee,this.dirty=!1}},K}(De),st=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,ee),this.current=ee,this.dirty=!1}},K}(De),Wt=function(ce){function K(de,ee){ce.call(this,de),this.context=de,this.parent=ee}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K}(De),Zt=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.setDirty=function(){this.dirty=!0},K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,ee,0),this.current=ee,this.dirty=!1}},K}(Wt),At=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},K}(Wt),Rt=function(K,de,ee,pe){this.context=K,this.width=de,this.height=ee;var Oe=K.gl,Xe=this.framebuffer=Oe.createFramebuffer();this.colorAttachment=new Zt(K,Xe),pe&&(this.depthAttachment=new At(K,Xe))};Rt.prototype.destroy=function(){var K=this.context.gl,de=this.colorAttachment.get();if(de&&K.deleteTexture(de),this.depthAttachment){var ee=this.depthAttachment.get();ee&&K.deleteRenderbuffer(ee)}K.deleteFramebuffer(this.framebuffer)};var Xt=519,ir=function(K,de,ee){this.func=K,this.mask=de,this.range=ee};ir.ReadOnly=!1,ir.ReadWrite=!0,ir.disabled=new ir(Xt,ir.ReadOnly,[0,1]);var pt=519,Kt=7680,Qt=function(K,de,ee,pe,Oe,Xe){this.test=K,this.ref=de,this.mask=ee,this.fail=pe,this.depthFail=Oe,this.pass=Xe};Qt.disabled=new Qt({func:pt,mask:0},0,0,Kt,Kt,Kt);var yr=0,ur=1,mt=771,lt=function(K,de,ee){this.blendFunction=K,this.blendColor=de,this.mask=ee};lt.Replace=[ur,yr],lt.disabled=new lt(lt.Replace,s.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,s.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([ur,mt],s.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Ct=2305,Dt=function(K,de,ee){this.enable=K,this.mode=de,this.frontFace=ee};Dt.disabled=new Dt(!1,bt,Ct),Dt.backCCW=new Dt(!0,bt,Ct);var Ht=function(K){this.gl=K,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Fe(this),this.clearDepth=new Te(this),this.clearStencil=new Re(this),this.colorMask=new Se(this),this.depthMask=new ke(this),this.stencilMask=new Me(this),this.stencilFunc=new Ve(this),this.stencilOp=new tt(this),this.stencilTest=new it(this),this.depthRange=new Je(this),this.depthTest=new Qe(this),this.depthFunc=new ct(this),this.blend=new ht(this),this.blendFunc=new dt(this),this.blendColor=new Tt(this),this.blendEquation=new Et(this),this.cullFace=new rt(this),this.cullFaceSide=new ze(this),this.frontFace=new Ge(this),this.program=new je(this),this.activeTexture=new We(this),this.viewport=new Le(this),this.bindFramebuffer=new Pe(this),this.bindRenderbuffer=new Ye(this),this.bindTexture=new Ce(this),this.bindVertexBuffer=new he(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ne(this),this.pixelStoreUnpack=new $e(this),this.pixelStoreUnpackPremultiplyAlpha=new ot(this),this.pixelStoreUnpackFlipY=new st(this),this.extTextureFilterAnisotropic=K.getExtension("EXT_texture_filter_anisotropic")||K.getExtension("MOZ_EXT_texture_filter_anisotropic")||K.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=K.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=K.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(K.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=K.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=K.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)};Ht.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ht.prototype.createIndexBuffer=function(K,de){return new be(this,K,de)},Ht.prototype.createVertexBuffer=function(K,de,ee){return new _e(this,K,de,ee)},Ht.prototype.createRenderbuffer=function(K,de,ee){var pe=this.gl,Oe=pe.createRenderbuffer();return this.bindRenderbuffer.set(Oe),pe.renderbufferStorage(pe.RENDERBUFFER,K,de,ee),this.bindRenderbuffer.set(null),Oe},Ht.prototype.createFramebuffer=function(K,de,ee){return new Rt(this,K,de,ee)},Ht.prototype.clear=function(K){var de=K.color,ee=K.depth,pe=this.gl,Oe=0;de&&(Oe|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof ee<"u"&&(Oe|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ee),this.depthMask.set(!0)),pe.clear(Oe)},Ht.prototype.setCullFace=function(K){K.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(K.mode),this.frontFace.set(K.frontFace))},Ht.prototype.setDepthMode=function(K){K.func===this.gl.ALWAYS&&!K.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(K.func),this.depthMask.set(K.mask),this.depthRange.set(K.range))},Ht.prototype.setStencilMode=function(K){K.test.func===this.gl.ALWAYS&&!K.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(K.mask),this.stencilOp.set([K.fail,K.depthFail,K.pass]),this.stencilFunc.set({func:K.test.func,ref:K.ref,mask:K.test.mask}))},Ht.prototype.setColorMode=function(K){s.deepEqual(K.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(K.blendFunction),this.blendColor.set(K.blendColor)),this.colorMask.set(K.mask)},Ht.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(ce){function K(de,ee,pe){var Oe=this;ce.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(Oe._sourceLoaded=!0),Oe._sourceLoaded&&!Oe._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(Oe.reload(),Oe.transform&&Oe.update(Oe.transform))}),this.on("error",function(){Oe._sourceErrored=!0}),this._source=Z(de,ee,pe,this),this._tiles={},this._cache=new ge(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new s.SourceFeatureState}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(ee){this.map=ee,this._maxTileCacheSize=ee?ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ee)},K.prototype.onRemove=function(ee){this._source&&this._source.onRemove&&this._source.onRemove(ee)},K.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ee in this._tiles){var pe=this._tiles[ee];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},K.prototype.getSource=function(){return this._source},K.prototype.pause=function(){this._paused=!0},K.prototype.resume=function(){if(this._paused){var ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ee&&this.reload(),this.transform&&this.update(this.transform)}},K.prototype._loadTile=function(ee,pe){return this._source.loadTile(ee,pe)},K.prototype._unloadTile=function(ee){if(this._source.unloadTile)return this._source.unloadTile(ee,function(){})},K.prototype._abortTile=function(ee){if(this._source.abortTile)return this._source.abortTile(ee,function(){})},K.prototype.serialize=function(){return this._source.serialize()},K.prototype.prepare=function(ee){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var Oe=this._tiles[pe];Oe.upload(ee),Oe.prepare(this.map.style.imageManager)}},K.prototype.getIds=function(){return s.values(this._tiles).map(function(ee){return ee.tileID}).sort(xt).map(function(ee){return ee.key})},K.prototype.getRenderableIds=function(ee){var pe=this,Oe=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,ee)&&Oe.push(this._tiles[Xe]);return ee?Oe.sort(function(ut,Lt){var Vt=ut.tileID,$t=Lt.tileID,hr=new s.Point(Vt.canonical.x,Vt.canonical.y)._rotate(pe.transform.angle),fr=new s.Point($t.canonical.x,$t.canonical.y)._rotate(pe.transform.angle);return Vt.overscaledZ-$t.overscaledZ||fr.y-hr.y||fr.x-hr.x}).map(function(ut){return ut.tileID.key}):Oe.map(function(ut){return ut.tileID}).sort(xt).map(function(ut){return ut.key})},K.prototype.hasRenderableParent=function(ee){var pe=this.findLoadedParent(ee,0);return pe?this._isIdRenderable(pe.tileID.key):!1},K.prototype._isIdRenderable=function(ee,pe){return this._tiles[ee]&&this._tiles[ee].hasData()&&!this._coveredTiles[ee]&&(pe||!this._tiles[ee].holdingForFade())},K.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ee in this._tiles)this._tiles[ee].state!=="errored"&&this._reloadTile(ee,"reloading")},K.prototype._reloadTile=function(ee,pe){var Oe=this._tiles[ee];Oe&&(Oe.state!=="loading"&&(Oe.state=pe),this._loadTile(Oe,this._tileLoaded.bind(this,Oe,ee,pe)))},K.prototype._tileLoaded=function(ee,pe,Oe,Xe){if(Xe){ee.state="errored",Xe.status!==404?this._source.fire(new s.ErrorEvent(Xe,{tile:ee})):this.update(this.transform);return}ee.timeAdded=s.browser.now(),Oe==="expired"&&(ee.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,ee),this.getSource().type==="raster-dem"&&ee.dem&&this._backfillDEM(ee),this._state.initializeTileState(ee,this.map?this.map.painter:null),this._source.fire(new s.Event("data",{dataType:"source",tile:ee,coord:ee.tileID}))},K.prototype._backfillDEM=function(ee){for(var pe=this.getRenderableIds(),Oe=0;Oe<pe.length;Oe++){var Xe=pe[Oe];if(ee.neighboringTiles&&ee.neighboringTiles[Xe]){var ut=this.getTileByID(Xe);Lt(ee,ut),Lt(ut,ee)}}function Lt(Vt,$t){Vt.needsHillshadePrepare=!0;var hr=$t.tileID.canonical.x-Vt.tileID.canonical.x,fr=$t.tileID.canonical.y-Vt.tileID.canonical.y,kr=Math.pow(2,Vt.tileID.canonical.z),Xr=$t.tileID.key;hr===0&&fr===0||Math.abs(fr)>1||(Math.abs(hr)>1&&(Math.abs(hr+kr)===1?hr+=kr:Math.abs(hr-kr)===1&&(hr-=kr)),!(!$t.dem||!Vt.dem)&&(Vt.dem.backfillBorder($t.dem,hr,fr),Vt.neighboringTiles&&Vt.neighboringTiles[Xr]&&(Vt.neighboringTiles[Xr].backfilled=!0)))}},K.prototype.getTile=function(ee){return this.getTileByID(ee.key)},K.prototype.getTileByID=function(ee){return this._tiles[ee]},K.prototype._retainLoadedChildren=function(ee,pe,Oe,Xe){for(var ut in this._tiles){var Lt=this._tiles[ut];if(!(Xe[ut]||!Lt.hasData()||Lt.tileID.overscaledZ<=pe||Lt.tileID.overscaledZ>Oe)){for(var Vt=Lt.tileID;Lt&&Lt.tileID.overscaledZ>pe+1;){var $t=Lt.tileID.scaledTo(Lt.tileID.overscaledZ-1);Lt=this._tiles[$t.key],Lt&&Lt.hasData()&&(Vt=$t)}for(var hr=Vt;hr.overscaledZ>pe;)if(hr=hr.scaledTo(hr.overscaledZ-1),ee[hr.key]){Xe[Vt.key]=Vt;break}}}},K.prototype.findLoadedParent=function(ee,pe){if(ee.key in this._loadedParentTiles){var Oe=this._loadedParentTiles[ee.key];return Oe&&Oe.tileID.overscaledZ>=pe?Oe:null}for(var Xe=ee.overscaledZ-1;Xe>=pe;Xe--){var ut=ee.scaledTo(Xe),Lt=this._getLoadedTile(ut);if(Lt)return Lt}},K.prototype._getLoadedTile=function(ee){var pe=this._tiles[ee.key];if(pe&&pe.hasData())return pe;var Oe=this._cache.getByKey(ee.wrapped().key);return Oe},K.prototype.updateCacheSize=function(ee){var pe=Math.ceil(ee.width/this._source.tileSize)+1,Oe=Math.ceil(ee.height/this._source.tileSize)+1,Xe=pe*Oe,ut=5,Lt=Math.floor(Xe*ut),Vt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Lt):Lt;this._cache.setMaxSize(Vt)},K.prototype.handleWrapJump=function(ee){var pe=this._prevLng===void 0?ee:this._prevLng,Oe=ee-pe,Xe=Oe/360,ut=Math.round(Xe);if(this._prevLng=ee,ut){var Lt={};for(var Vt in this._tiles){var $t=this._tiles[Vt];$t.tileID=$t.tileID.unwrapTo($t.tileID.wrap+ut),Lt[$t.tileID.key]=$t}this._tiles=Lt;for(var hr in this._timers)clearTimeout(this._timers[hr]),delete this._timers[hr];for(var fr in this._tiles){var kr=this._tiles[fr];this._setTileReloadTimer(fr,kr)}}},K.prototype.update=function(ee){var pe=this;if(this.transform=ee,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ee),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Oe;this.used?this._source.tileID?Oe=ee.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ua){return new s.OverscaledTileID(ua.canonical.z,ua.wrap,ua.canonical.z,ua.canonical.x,ua.canonical.y)}):(Oe=ee.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Oe=Oe.filter(function(ua){return pe._source.hasTile(ua)}))):Oe=[];var Xe=ee.coveringZoomLevel(this._source),ut=Math.max(Xe-K.maxOverzooming,this._source.minzoom),Lt=Math.max(Xe+K.maxUnderzooming,this._source.minzoom),Vt=this._updateRetainedTiles(Oe,Xe);if(Ut(this._source.type)){for(var $t={},hr={},fr=Object.keys(Vt),kr=0,Xr=fr;kr<Xr.length;kr+=1){var Yr=Xr[kr],Wr=Vt[Yr],Qr=this._tiles[Yr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=s.browser.now())){var dn=this.findLoadedParent(Wr,ut);dn&&(this._addTile(dn.tileID),$t[dn.tileID.key]=dn.tileID),hr[Yr]=Wr}}this._retainLoadedChildren(hr,Xe,Lt,Vt);for(var In in $t)Vt[In]||(this._coveredTiles[In]=!0,Vt[In]=$t[In])}for(var Un in Vt)this._tiles[Un].clearFadeHold();for(var Xn=s.keysDifference(this._tiles,Vt),Zn=0,jn=Xn;Zn<jn.length;Zn+=1){var Jn=jn[Zn],na=this._tiles[Jn];na.hasSymbolBuckets&&!na.holdingForFade()?na.setHoldDuration(this.map._fadeDuration):(!na.hasSymbolBuckets||na.symbolFadeFinished())&&this._removeTile(Jn)}this._updateLoadedParentTileCache()}},K.prototype.releaseSymbolFadeTiles=function(){for(var ee in this._tiles)this._tiles[ee].holdingForFade()&&this._removeTile(ee)},K.prototype._updateRetainedTiles=function(ee,pe){for(var Oe={},Xe={},ut=Math.max(pe-K.maxOverzooming,this._source.minzoom),Lt=Math.max(pe+K.maxUnderzooming,this._source.minzoom),Vt={},$t=0,hr=ee;$t<hr.length;$t+=1){var fr=hr[$t],kr=this._addTile(fr);Oe[fr.key]=fr,!kr.hasData()&&pe<this._source.maxzoom&&(Vt[fr.key]=fr)}this._retainLoadedChildren(Vt,pe,Lt,Oe);for(var Xr=0,Yr=ee;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr],Qr=this._tiles[Wr.key];if(!Qr.hasData()){if(pe+1>this._source.maxzoom){var dn=Wr.children(this._source.maxzoom)[0],In=this.getTile(dn);if(In&&In.hasData()){Oe[dn.key]=dn;continue}}else{var Un=Wr.children(this._source.maxzoom);if(Oe[Un[0].key]&&Oe[Un[1].key]&&Oe[Un[2].key]&&Oe[Un[3].key])continue}for(var Xn=Qr.wasRequested(),Zn=Wr.overscaledZ-1;Zn>=ut;--Zn){var jn=Wr.scaledTo(Zn);if(Xe[jn.key]||(Xe[jn.key]=!0,Qr=this.getTile(jn),!Qr&&Xn&&(Qr=this._addTile(jn)),Qr&&(Oe[jn.key]=jn,Xn=Qr.wasRequested(),Qr.hasData())))break}}}return Oe},K.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ee in this._tiles){for(var pe=[],Oe=void 0,Xe=this._tiles[ee].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){Oe=this._loadedParentTiles[Xe.key];break}pe.push(Xe.key);var ut=Xe.scaledTo(Xe.overscaledZ-1);if(Oe=this._getLoadedTile(ut),Oe)break;Xe=ut}for(var Lt=0,Vt=pe;Lt<Vt.length;Lt+=1){var $t=Vt[Lt];this._loadedParentTiles[$t]=Oe}}},K.prototype._addTile=function(ee){var pe=this._tiles[ee.key];if(pe)return pe;pe=this._cache.getAndRemove(ee),pe&&(this._setTileReloadTimer(ee.key,pe),pe.tileID=ee,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[ee.key]&&(clearTimeout(this._cacheTimers[ee.key]),delete this._cacheTimers[ee.key],this._setTileReloadTimer(ee.key,pe)));var Oe=!!pe;return Oe||(pe=new s.Tile(ee,this._source.tileSize*ee.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,ee.key,pe.state))),pe?(pe.uses++,this._tiles[ee.key]=pe,Oe||this._source.fire(new s.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},K.prototype._setTileReloadTimer=function(ee,pe){var Oe=this;ee in this._timers&&(clearTimeout(this._timers[ee]),delete this._timers[ee]);var Xe=pe.getExpiryTimeout();Xe&&(this._timers[ee]=setTimeout(function(){Oe._reloadTile(ee,"expired"),delete Oe._timers[ee]},Xe))},K.prototype._removeTile=function(ee){var pe=this._tiles[ee];pe&&(pe.uses--,delete this._tiles[ee],this._timers[ee]&&(clearTimeout(this._timers[ee]),delete this._timers[ee]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},K.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ee in this._tiles)this._removeTile(ee);this._cache.reset()},K.prototype.tilesIn=function(ee,pe,Oe){var Xe=this,ut=[],Lt=this.transform;if(!Lt)return ut;for(var Vt=Oe?Lt.getCameraQueryGeometry(ee):ee,$t=ee.map(function(Zn){return Lt.pointCoordinate(Zn)}),hr=Vt.map(function(Zn){return Lt.pointCoordinate(Zn)}),fr=this.getIds(),kr=1/0,Xr=1/0,Yr=-1/0,Wr=-1/0,Qr=0,dn=hr;Qr<dn.length;Qr+=1){var In=dn[Qr];kr=Math.min(kr,In.x),Xr=Math.min(Xr,In.y),Yr=Math.max(Yr,In.x),Wr=Math.max(Wr,In.y)}for(var Un=function(Zn){var jn=Xe._tiles[fr[Zn]];if(!jn.holdingForFade()){var Jn=jn.tileID,na=Math.pow(2,Lt.zoom-jn.tileID.overscaledZ),ua=pe*jn.queryPadding*s.EXTENT/jn.tileSize/na,xa=[Jn.getTilePoint(new s.MercatorCoordinate(kr,Xr)),Jn.getTilePoint(new s.MercatorCoordinate(Yr,Wr))];if(xa[0].x-ua<s.EXTENT&&xa[0].y-ua<s.EXTENT&&xa[1].x+ua>=0&&xa[1].y+ua>=0){var da=$t.map(function(qa){return Jn.getTilePoint(qa)}),Fa=hr.map(function(qa){return Jn.getTilePoint(qa)});ut.push({tile:jn,tileID:Jn,queryGeometry:da,cameraQueryGeometry:Fa,scale:na})}}},Xn=0;Xn<fr.length;Xn++)Un(Xn);return ut},K.prototype.getVisibleCoordinates=function(ee){for(var pe=this,Oe=this.getRenderableIds(ee).map(function(Vt){return pe._tiles[Vt].tileID}),Xe=0,ut=Oe;Xe<ut.length;Xe+=1){var Lt=ut[Xe];Lt.posMatrix=this.transform.calculatePosMatrix(Lt.toUnwrapped())}return Oe},K.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ut(this._source.type))for(var ee in this._tiles){var pe=this._tiles[ee];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=s.browser.now())return!0}return!1},K.prototype.setFeatureState=function(ee,pe,Oe){ee=ee||"_geojsonTileLayer",this._state.updateState(ee,pe,Oe)},K.prototype.removeFeatureState=function(ee,pe,Oe){ee=ee||"_geojsonTileLayer",this._state.removeFeatureState(ee,pe,Oe)},K.prototype.getFeatureState=function(ee,pe){return ee=ee||"_geojsonTileLayer",this._state.getState(ee,pe)},K.prototype.setDependencies=function(ee,pe,Oe){var Xe=this._tiles[ee];Xe&&Xe.setDependencies(pe,Oe)},K.prototype.reloadTilesForDependencies=function(ee,pe){for(var Oe in this._tiles){var Xe=this._tiles[Oe];Xe.hasDependency(ee,pe)&&this._reloadTile(Oe,"reloading")}this._cache.filter(function(ut){return!ut.hasDependency(ee,pe)})},K}(s.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function xt(ce,K){var de=Math.abs(ce.wrap*2)-+(ce.wrap<0),ee=Math.abs(K.wrap*2)-+(K.wrap<0);return ce.overscaledZ-K.overscaledZ||ee-de||K.canonical.y-ce.canonical.y||K.canonical.x-ce.canonical.x}function Ut(ce){return ce==="raster"||ce==="image"||ce==="video"}function qt(){return new s.window.Worker(oo.workerUrl)}var or="mapboxgl_preloaded_worker_pool",rr=function(){this.active={}};rr.prototype.acquire=function(K){if(!this.workers)for(this.workers=[];this.workers.length<rr.workerCount;)this.workers.push(new qt);return this.active[K]=!0,this.workers.slice()},rr.prototype.release=function(K){delete this.active[K],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},rr.prototype.isPreloaded=function(){return!!this.active[or]},rr.prototype.numActive=function(){return Object.keys(this.active).length};var He=Math.floor(s.browser.hardwareConcurrency/2);rr.workerCount=Math.max(Math.min(He,6),1);var Ue;function Ot(){return Ue||(Ue=new rr),Ue}function It(){var ce=Ot();ce.acquire(or)}function Jt(){var ce=Ue;ce&&(ce.isPreloaded()&&ce.numActive()===1?(ce.release(or),Ue=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function cr(ce,K){var de={};for(var ee in ce)ee!=="ref"&&(de[ee]=ce[ee]);return s.refProperties.forEach(function(pe){pe in K&&(de[pe]=K[pe])}),de}function vr(ce){ce=ce.slice();for(var K=Object.create(null),de=0;de<ce.length;de++)K[ce[de].id]=ce[de];for(var ee=0;ee<ce.length;ee++)"ref"in ce[ee]&&(ce[ee]=cr(ce[ee],K[ce[ee].ref]));return ce}function tr(){var ce={},K=s.styleSpec.$version;for(var de in s.styleSpec.$root){var ee=s.styleSpec.$root[de];if(ee.required){var pe=null;de==="version"?pe=K:ee.type==="array"?pe=[]:pe={},pe!=null&&(ce[de]=pe)}}return ce}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function sr(ce,K,de){de.push({command:Nt.addSource,args:[ce,K[ce]]})}function dr(ce,K,de){K.push({command:Nt.removeSource,args:[ce]}),de[ce]=!0}function xr(ce,K,de,ee){dr(ce,de,ee),sr(ce,K,de)}function pr(ce,K,de){var ee;for(ee in ce[de])if(ce[de].hasOwnProperty(ee)&&ee!=="data"&&!s.deepEqual(ce[de][ee],K[de][ee]))return!1;for(ee in K[de])if(K[de].hasOwnProperty(ee)&&ee!=="data"&&!s.deepEqual(ce[de][ee],K[de][ee]))return!1;return!0}function Hr(ce,K,de,ee){ce=ce||{},K=K||{};var pe;for(pe in ce)ce.hasOwnProperty(pe)&&(K.hasOwnProperty(pe)||dr(pe,de,ee));for(pe in K)K.hasOwnProperty(pe)&&(ce.hasOwnProperty(pe)?s.deepEqual(ce[pe],K[pe])||(ce[pe].type==="geojson"&&K[pe].type==="geojson"&&pr(ce,K,pe)?de.push({command:Nt.setGeoJSONSourceData,args:[pe,K[pe].data]}):xr(pe,K,de,ee)):sr(pe,K,de))}function _r(ce,K,de,ee,pe,Oe){ce=ce||{},K=K||{};var Xe;for(Xe in ce)ce.hasOwnProperty(Xe)&&(s.deepEqual(ce[Xe],K[Xe])||de.push({command:Oe,args:[ee,Xe,K[Xe],pe]}));for(Xe in K)!K.hasOwnProperty(Xe)||ce.hasOwnProperty(Xe)||s.deepEqual(ce[Xe],K[Xe])||de.push({command:Oe,args:[ee,Xe,K[Xe],pe]})}function Dr(ce){return ce.id}function an(ce,K){return ce[K.id]=K,ce}function tn(ce,K,de){ce=ce||[],K=K||[];var ee=ce.map(Dr),pe=K.map(Dr),Oe=ce.reduce(an,{}),Xe=K.reduce(an,{}),ut=ee.slice(),Lt=Object.create(null),Vt,$t,hr,fr,kr,Xr,Yr;for(Vt=0,$t=0;Vt<ee.length;Vt++)hr=ee[Vt],Xe.hasOwnProperty(hr)?$t++:(de.push({command:Nt.removeLayer,args:[hr]}),ut.splice(ut.indexOf(hr,$t),1));for(Vt=0,$t=0;Vt<pe.length;Vt++)hr=pe[pe.length-1-Vt],ut[ut.length-1-Vt]!==hr&&(Oe.hasOwnProperty(hr)?(de.push({command:Nt.removeLayer,args:[hr]}),ut.splice(ut.lastIndexOf(hr,ut.length-$t),1)):$t++,Xr=ut[ut.length-Vt],de.push({command:Nt.addLayer,args:[Xe[hr],Xr]}),ut.splice(ut.length-Vt,0,hr),Lt[hr]=!0);for(Vt=0;Vt<pe.length;Vt++)if(hr=pe[Vt],fr=Oe[hr],kr=Xe[hr],!(Lt[hr]||s.deepEqual(fr,kr))){if(!s.deepEqual(fr.source,kr.source)||!s.deepEqual(fr["source-layer"],kr["source-layer"])||!s.deepEqual(fr.type,kr.type)){de.push({command:Nt.removeLayer,args:[hr]}),Xr=ut[ut.lastIndexOf(hr)+1],de.push({command:Nt.addLayer,args:[kr,Xr]});continue}_r(fr.layout,kr.layout,de,hr,null,Nt.setLayoutProperty),_r(fr.paint,kr.paint,de,hr,null,Nt.setPaintProperty),s.deepEqual(fr.filter,kr.filter)||de.push({command:Nt.setFilter,args:[hr,kr.filter]}),(!s.deepEqual(fr.minzoom,kr.minzoom)||!s.deepEqual(fr.maxzoom,kr.maxzoom))&&de.push({command:Nt.setLayerZoomRange,args:[hr,kr.minzoom,kr.maxzoom]});for(Yr in fr)fr.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?_r(fr[Yr],kr[Yr],de,hr,Yr.slice(6),Nt.setPaintProperty):s.deepEqual(fr[Yr],kr[Yr])||de.push({command:Nt.setLayerProperty,args:[hr,Yr,kr[Yr]]})));for(Yr in kr)!kr.hasOwnProperty(Yr)||fr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?_r(fr[Yr],kr[Yr],de,hr,Yr.slice(6),Nt.setPaintProperty):s.deepEqual(fr[Yr],kr[Yr])||de.push({command:Nt.setLayerProperty,args:[hr,Yr,kr[Yr]]}))}}function Sn(ce,K){if(!ce)return[{command:Nt.setStyle,args:[K]}];var de=[];try{if(!s.deepEqual(ce.version,K.version))return[{command:Nt.setStyle,args:[K]}];s.deepEqual(ce.center,K.center)||de.push({command:Nt.setCenter,args:[K.center]}),s.deepEqual(ce.zoom,K.zoom)||de.push({command:Nt.setZoom,args:[K.zoom]}),s.deepEqual(ce.bearing,K.bearing)||de.push({command:Nt.setBearing,args:[K.bearing]}),s.deepEqual(ce.pitch,K.pitch)||de.push({command:Nt.setPitch,args:[K.pitch]}),s.deepEqual(ce.sprite,K.sprite)||de.push({command:Nt.setSprite,args:[K.sprite]}),s.deepEqual(ce.glyphs,K.glyphs)||de.push({command:Nt.setGlyphs,args:[K.glyphs]}),s.deepEqual(ce.transition,K.transition)||de.push({command:Nt.setTransition,args:[K.transition]}),s.deepEqual(ce.light,K.light)||de.push({command:Nt.setLight,args:[K.light]});var ee={},pe=[];Hr(ce.sources,K.sources,pe,ee);var Oe=[];ce.layers&&ce.layers.forEach(function(Xe){ee[Xe.source]?de.push({command:Nt.removeLayer,args:[Xe.id]}):Oe.push(Xe)}),de=de.concat(pe),tn(Oe,K.layers,de)}catch(Xe){console.warn("Unable to compute style diff:",Xe),de=[{command:Nt.setStyle,args:[K]}]}return de}var Tn=function(K,de){this.reset(K,de)};Tn.prototype.reset=function(K,de){this.points=K||[],this._distances=[0];for(var ee=1;ee<this.points.length;ee++)this._distances[ee]=this._distances[ee-1]+this.points[ee].dist(this.points[ee-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Tn.prototype.lerp=function(K){if(this.points.length===1)return this.points[0];K=s.clamp(K,0,1);for(var de=1,ee=this._distances[de],pe=K*this.paddedLength+this.padding;ee<pe&&de<this._distances.length;)ee=this._distances[++de];var Oe=de-1,Xe=this._distances[Oe],ut=ee-Xe,Lt=ut>0?(pe-Xe)/ut:0;return this.points[Oe].mult(1-Lt).add(this.points[de].mult(Lt))};var Tr=function(K,de,ee){var pe=this.boxCells=[],Oe=this.circleCells=[];this.xCellCount=Math.ceil(K/ee),this.yCellCount=Math.ceil(de/ee);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)pe.push([]),Oe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=K,this.height=de,this.xScale=this.xCellCount/K,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(K,de,ee,pe,Oe){this._forEachCell(de,ee,pe,Oe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(K),this.bboxes.push(de),this.bboxes.push(ee),this.bboxes.push(pe),this.bboxes.push(Oe)},Tr.prototype.insertCircle=function(K,de,ee,pe){this._forEachCell(de-pe,ee-pe,de+pe,ee+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(K),this.circles.push(de),this.circles.push(ee),this.circles.push(pe)},Tr.prototype._insertBoxCell=function(K,de,ee,pe,Oe,Xe){this.boxCells[Oe].push(Xe)},Tr.prototype._insertCircleCell=function(K,de,ee,pe,Oe,Xe){this.circleCells[Oe].push(Xe)},Tr.prototype._query=function(K,de,ee,pe,Oe,Xe){if(ee<0||K>this.width||pe<0||de>this.height)return Oe?!1:[];var ut=[];if(K<=0&&de<=0&&this.width<=ee&&this.height<=pe){if(Oe)return!0;for(var Lt=0;Lt<this.boxKeys.length;Lt++)ut.push({key:this.boxKeys[Lt],x1:this.bboxes[Lt*4],y1:this.bboxes[Lt*4+1],x2:this.bboxes[Lt*4+2],y2:this.bboxes[Lt*4+3]});for(var Vt=0;Vt<this.circleKeys.length;Vt++){var $t=this.circles[Vt*3],hr=this.circles[Vt*3+1],fr=this.circles[Vt*3+2];ut.push({key:this.circleKeys[Vt],x1:$t-fr,y1:hr-fr,x2:$t+fr,y2:hr+fr})}return Xe?ut.filter(Xe):ut}else{var kr={hitTest:Oe,seenUids:{box:{},circle:{}}};return this._forEachCell(K,de,ee,pe,this._queryCell,ut,kr,Xe),Oe?ut.length>0:ut}},Tr.prototype._queryCircle=function(K,de,ee,pe,Oe){var Xe=K-ee,ut=K+ee,Lt=de-ee,Vt=de+ee;if(ut<0||Xe>this.width||Vt<0||Lt>this.height)return pe?!1:[];var $t=[],hr={hitTest:pe,circle:{x:K,y:de,radius:ee},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,Lt,ut,Vt,this._queryCellCircle,$t,hr,Oe),pe?$t.length>0:$t},Tr.prototype.query=function(K,de,ee,pe,Oe){return this._query(K,de,ee,pe,!1,Oe)},Tr.prototype.hitTest=function(K,de,ee,pe,Oe){return this._query(K,de,ee,pe,!0,Oe)},Tr.prototype.hitTestCircle=function(K,de,ee,pe){return this._queryCircle(K,de,ee,!0,pe)},Tr.prototype._queryCell=function(K,de,ee,pe,Oe,Xe,ut,Lt){var Vt=ut.seenUids,$t=this.boxCells[Oe];if($t!==null)for(var hr=this.bboxes,fr=0,kr=$t;fr<kr.length;fr+=1){var Xr=kr[fr];if(!Vt.box[Xr]){Vt.box[Xr]=!0;var Yr=Xr*4;if(K<=hr[Yr+2]&&de<=hr[Yr+3]&&ee>=hr[Yr+0]&&pe>=hr[Yr+1]&&(!Lt||Lt(this.boxKeys[Xr]))){if(ut.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Xr],x1:hr[Yr],y1:hr[Yr+1],x2:hr[Yr+2],y2:hr[Yr+3]})}}}var Wr=this.circleCells[Oe];if(Wr!==null)for(var Qr=this.circles,dn=0,In=Wr;dn<In.length;dn+=1){var Un=In[dn];if(!Vt.circle[Un]){Vt.circle[Un]=!0;var Xn=Un*3;if(this._circleAndRectCollide(Qr[Xn],Qr[Xn+1],Qr[Xn+2],K,de,ee,pe)&&(!Lt||Lt(this.circleKeys[Un]))){if(ut.hitTest)return Xe.push(!0),!0;var Zn=Qr[Xn],jn=Qr[Xn+1],Jn=Qr[Xn+2];Xe.push({key:this.circleKeys[Un],x1:Zn-Jn,y1:jn-Jn,x2:Zn+Jn,y2:jn+Jn})}}}},Tr.prototype._queryCellCircle=function(K,de,ee,pe,Oe,Xe,ut,Lt){var Vt=ut.circle,$t=ut.seenUids,hr=this.boxCells[Oe];if(hr!==null)for(var fr=this.bboxes,kr=0,Xr=hr;kr<Xr.length;kr+=1){var Yr=Xr[kr];if(!$t.box[Yr]){$t.box[Yr]=!0;var Wr=Yr*4;if(this._circleAndRectCollide(Vt.x,Vt.y,Vt.radius,fr[Wr+0],fr[Wr+1],fr[Wr+2],fr[Wr+3])&&(!Lt||Lt(this.boxKeys[Yr])))return Xe.push(!0),!0}}var Qr=this.circleCells[Oe];if(Qr!==null)for(var dn=this.circles,In=0,Un=Qr;In<Un.length;In+=1){var Xn=Un[In];if(!$t.circle[Xn]){$t.circle[Xn]=!0;var Zn=Xn*3;if(this._circlesCollide(dn[Zn],dn[Zn+1],dn[Zn+2],Vt.x,Vt.y,Vt.radius)&&(!Lt||Lt(this.circleKeys[Xn])))return Xe.push(!0),!0}}},Tr.prototype._forEachCell=function(K,de,ee,pe,Oe,Xe,ut,Lt){for(var Vt=this._convertToXCellCoord(K),$t=this._convertToYCellCoord(de),hr=this._convertToXCellCoord(ee),fr=this._convertToYCellCoord(pe),kr=Vt;kr<=hr;kr++)for(var Xr=$t;Xr<=fr;Xr++){var Yr=this.xCellCount*Xr+kr;if(Oe.call(this,K,de,ee,pe,Yr,Xe,ut,Lt))return}},Tr.prototype._convertToXCellCoord=function(K){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(K*this.xScale)))},Tr.prototype._convertToYCellCoord=function(K){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(K*this.yScale)))},Tr.prototype._circlesCollide=function(K,de,ee,pe,Oe,Xe){var ut=pe-K,Lt=Oe-de,Vt=ee+Xe;return Vt*Vt>ut*ut+Lt*Lt},Tr.prototype._circleAndRectCollide=function(K,de,ee,pe,Oe,Xe,ut){var Lt=(Xe-pe)/2,Vt=Math.abs(K-(pe+Lt));if(Vt>Lt+ee)return!1;var $t=(ut-Oe)/2,hr=Math.abs(de-(Oe+$t));if(hr>$t+ee)return!1;if(Vt<=Lt||hr<=$t)return!0;var fr=Vt-Lt,kr=hr-$t;return fr*fr+kr*kr<=ee*ee};function zr(ce,K,de,ee,pe){var Oe=s.create();return K?(s.scale(Oe,Oe,[1/pe,1/pe,1]),de||s.rotateZ(Oe,Oe,ee.angle)):s.multiply(Oe,ee.labelPlaneMatrix,ce),Oe}function jr(ce,K,de,ee,pe){if(K){var Oe=s.clone(ce);return s.scale(Oe,Oe,[pe,pe,1]),de||s.rotateZ(Oe,Oe,-ee.angle),Oe}else return ee.glCoordMatrix}function Or(ce,K){var de=[ce.x,ce.y,0,1];mr(de,de,K);var ee=de[3];return{point:new s.Point(de[0]/ee,de[1]/ee),signedDistanceFromCamera:ee}}function ln(ce,K){return .5+.5*(ce/K)}function fn(ce,K){var de=ce[0]/ce[3],ee=ce[1]/ce[3],pe=de>=-K[0]&&de<=K[0]&&ee>=-K[1]&&ee<=K[1];return pe}function Mn(ce,K,de,ee,pe,Oe,Xe,ut){var Lt=ee?ce.textSizeData:ce.iconSizeData,Vt=s.evaluateSizeForZoom(Lt,de.transform.zoom),$t=[256/de.width*2+1,256/de.height*2+1],hr=ee?ce.text.dynamicLayoutVertexArray:ce.icon.dynamicLayoutVertexArray;hr.clear();for(var fr=ce.lineVertexArray,kr=ee?ce.text.placedSymbolArray:ce.icon.placedSymbolArray,Xr=de.transform.width/de.transform.height,Yr=!1,Wr=0;Wr<kr.length;Wr++){var Qr=kr.get(Wr);if(Qr.hidden||Qr.writingMode===s.WritingMode.vertical&&!Yr){Qn(Qr.numGlyphs,hr);continue}Yr=!1;var dn=[Qr.anchorX,Qr.anchorY,0,1];if(s.transformMat4(dn,dn,K),!fn(dn,$t)){Qn(Qr.numGlyphs,hr);continue}var In=dn[3],Un=ln(de.transform.cameraToCenterDistance,In),Xn=s.evaluateSizeForFeature(Lt,Vt,Qr),Zn=Xe?Xn/Un:Xn*Un,jn=new s.Point(Qr.anchorX,Qr.anchorY),Jn=Or(jn,pe).point,na={},ua=ia(Qr,Zn,!1,ut,K,pe,Oe,ce.glyphOffsetArray,fr,hr,Jn,jn,na,Xr);Yr=ua.useVertical,(ua.notEnoughRoom||Yr||ua.needsFlipping&&ia(Qr,Zn,!0,ut,K,pe,Oe,ce.glyphOffsetArray,fr,hr,Jn,jn,na,Xr).notEnoughRoom)&&Qn(Qr.numGlyphs,hr)}ee?ce.text.dynamicLayoutVertexBuffer.updateData(hr):ce.icon.dynamicLayoutVertexBuffer.updateData(hr)}function Pn(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t){var hr=ut.glyphStartIndex+ut.numGlyphs,fr=ut.lineStartIndex,kr=ut.lineStartIndex+ut.lineLength,Xr=K.getoffsetX(ut.glyphStartIndex),Yr=K.getoffsetX(hr-1),Wr=wa(ce*Xr,de,ee,pe,Oe,Xe,ut.segment,fr,kr,Lt,Vt,$t);if(!Wr)return null;var Qr=wa(ce*Yr,de,ee,pe,Oe,Xe,ut.segment,fr,kr,Lt,Vt,$t);return Qr?{first:Wr,last:Qr}:null}function Hn(ce,K,de,ee){if(ce===s.WritingMode.horizontal){var pe=Math.abs(de.y-K.y),Oe=Math.abs(de.x-K.x)*ee;if(pe>Oe)return{useVertical:!0}}return(ce===s.WritingMode.vertical?K.y<de.y:K.x>de.x)?{needsFlipping:!0}:null}function ia(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t,hr,fr,kr){var Xr=K/24,Yr=ce.lineOffsetX*Xr,Wr=ce.lineOffsetY*Xr,Qr;if(ce.numGlyphs>1){var dn=ce.glyphStartIndex+ce.numGlyphs,In=ce.lineStartIndex,Un=ce.lineStartIndex+ce.lineLength,Xn=Pn(Xr,ut,Yr,Wr,de,$t,hr,ce,Lt,Oe,fr);if(!Xn)return{notEnoughRoom:!0};var Zn=Or(Xn.first.point,Xe).point,jn=Or(Xn.last.point,Xe).point;if(ee&&!de){var Jn=Hn(ce.writingMode,Zn,jn,kr);if(Jn)return Jn}Qr=[Xn.first];for(var na=ce.glyphStartIndex+1;na<dn-1;na++)Qr.push(wa(Xr*ut.getoffsetX(na),Yr,Wr,de,$t,hr,ce.segment,In,Un,Lt,Oe,fr));Qr.push(Xn.last)}else{if(ee&&!de){var ua=Or(hr,pe).point,xa=ce.lineStartIndex+ce.segment+1,da=new s.Point(Lt.getx(xa),Lt.gety(xa)),Fa=Or(da,pe),qa=Fa.signedDistanceFromCamera>0?Fa.point:ya(hr,da,ua,1,pe),Xa=Hn(ce.writingMode,ua,qa,kr);if(Xa)return Xa}var Ea=wa(Xr*ut.getoffsetX(ce.glyphStartIndex),Yr,Wr,de,$t,hr,ce.segment,ce.lineStartIndex,ce.lineStartIndex+ce.lineLength,Lt,Oe,fr);if(!Ea)return{notEnoughRoom:!0};Qr=[Ea]}for(var Za=0,Ga=Qr;Za<Ga.length;Za+=1){var si=Ga[Za];s.addDynamicAttributes(Vt,si.point,si.angle)}return{}}function ya(ce,K,de,ee,pe){var Oe=Or(ce.add(ce.sub(K)._unit()),pe).point,Xe=de.sub(Oe);return de.add(Xe._mult(ee/Xe.mag()))}function wa(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t,hr){var fr=ee?ce-K:ce+K,kr=fr>0?1:-1,Xr=0;ee&&(kr*=-1,Xr=Math.PI),kr<0&&(Xr+=Math.PI);for(var Yr=kr>0?ut+Xe:ut+Xe+1,Wr=pe,Qr=pe,dn=0,In=0,Un=Math.abs(fr),Xn=[];dn+In<=Un;){if(Yr+=kr,Yr<ut||Yr>=Lt)return null;if(Qr=Wr,Xn.push(Wr),Wr=hr[Yr],Wr===void 0){var Zn=new s.Point(Vt.getx(Yr),Vt.gety(Yr)),jn=Or(Zn,$t);if(jn.signedDistanceFromCamera>0)Wr=hr[Yr]=jn.point;else{var Jn=Yr-kr,na=dn===0?Oe:new s.Point(Vt.getx(Jn),Vt.gety(Jn));Wr=ya(na,Zn,Qr,Un-dn+1,$t)}}dn+=In,In=Qr.dist(Wr)}var ua=(Un-dn)/In,xa=Wr.sub(Qr),da=xa.mult(ua)._add(Qr);da._add(xa._unit()._perp()._mult(de*kr));var Fa=Xr+Math.atan2(Wr.y-Qr.y,Wr.x-Qr.x);return Xn.push(da),{point:da,angle:Fa,path:Xn}}var Wn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ce,K){for(var de=0;de<ce;de++){var ee=K.length;K.resize(ee+4),K.float32.set(Wn,ee*3)}}function mr(ce,K,de){var ee=K[0],pe=K[1];return ce[0]=de[0]*ee+de[4]*pe+de[12],ce[1]=de[1]*ee+de[5]*pe+de[13],ce[3]=de[3]*ee+de[7]*pe+de[15],ce}var en=100,Jr=function(K,de,ee){de===void 0&&(de=new Tr(K.width+2*en,K.height+2*en,25)),ee===void 0&&(ee=new Tr(K.width+2*en,K.height+2*en,25)),this.transform=K,this.grid=de,this.ignoredGrid=ee,this.pitchfactor=Math.cos(K._pitch)*K.cameraToCenterDistance,this.screenRightBoundary=K.width+en,this.screenBottomBoundary=K.height+en,this.gridRightBoundary=K.width+2*en,this.gridBottomBoundary=K.height+2*en};Jr.prototype.placeCollisionBox=function(K,de,ee,pe,Oe){var Xe=this.projectAndGetPerspectiveRatio(pe,K.anchorPointX,K.anchorPointY),ut=ee*Xe.perspectiveRatio,Lt=K.x1*ut+Xe.point.x,Vt=K.y1*ut+Xe.point.y,$t=K.x2*ut+Xe.point.x,hr=K.y2*ut+Xe.point.y;return!this.isInsideGrid(Lt,Vt,$t,hr)||!de&&this.grid.hitTest(Lt,Vt,$t,hr,Oe)?{box:[],offscreen:!1}:{box:[Lt,Vt,$t,hr],offscreen:this.isOffscreen(Lt,Vt,$t,hr)}},Jr.prototype.placeCollisionCircles=function(K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t,hr,fr,kr){var Xr=[],Yr=new s.Point(de.anchorX,de.anchorY),Wr=Or(Yr,Xe),Qr=ln(this.transform.cameraToCenterDistance,Wr.signedDistanceFromCamera),dn=$t?Oe/Qr:Oe*Qr,In=dn/s.ONE_EM,Un=Or(Yr,ut).point,Xn={},Zn=de.lineOffsetX*In,jn=de.lineOffsetY*In,Jn=Pn(In,pe,Zn,jn,!1,Un,Yr,de,ee,ut,Xn),na=!1,ua=!1,xa=!0;if(Jn){for(var da=fr*.5*Qr+kr,Fa=new s.Point(-en,-en),qa=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),Xa=new Tn,Ea=Jn.first,Za=Jn.last,Ga=[],si=Ea.path.length-1;si>=1;si--)Ga.push(Ea.path[si]);for(var ri=1;ri<Za.path.length;ri++)Ga.push(Za.path[ri]);var Si=da*2.5;if(Lt){var $a=Ga.map(function(pl){return Or(pl,Lt)});$a.some(function(pl){return pl.signedDistanceFromCamera<=0})?Ga=[]:Ga=$a.map(function(pl){return pl.point})}var mi=[];if(Ga.length>0){for(var Wa=Ga[0].clone(),ei=Ga[0].clone(),Bi=1;Bi<Ga.length;Bi++)Wa.x=Math.min(Wa.x,Ga[Bi].x),Wa.y=Math.min(Wa.y,Ga[Bi].y),ei.x=Math.max(ei.x,Ga[Bi].x),ei.y=Math.max(ei.y,Ga[Bi].y);Wa.x>=Fa.x&&ei.x<=qa.x&&Wa.y>=Fa.y&&ei.y<=qa.y?mi=[Ga]:ei.x<Fa.x||Wa.x>qa.x||ei.y<Fa.y||Wa.y>qa.y?mi=[]:mi=s.clipLine([Ga],Fa.x,Fa.y,qa.x,qa.y)}for(var yo=0,Ks=mi;yo<Ks.length;yo+=1){var Js=Ks[yo];Xa.reset(Js,da*.25);var vl=0;Xa.length<=.5*da?vl=1:vl=Math.ceil(Xa.paddedLength/Si)+1;for(var Wl=0;Wl<vl;Wl++){var Ef=Wl/Math.max(vl-1,1),jl=Xa.lerp(Ef),rs=jl.x+en,Yl=jl.y+en;Xr.push(rs,Yl,da,0);var ys=rs-da,ns=Yl-da,dl=rs+da,Tu=Yl+da;if(xa=xa&&this.isOffscreen(ys,ns,dl,Tu),ua=ua||this.isInsideGrid(ys,ns,dl,Tu),!K&&this.grid.hitTestCircle(rs,Yl,da,hr)&&(na=!0,!Vt))return{circles:[],offscreen:!1,collisionDetected:na}}}}return{circles:!Vt&&na||!ua?[]:Xr,offscreen:xa,collisionDetected:na}},Jr.prototype.queryRenderedSymbols=function(K){if(K.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],ee=1/0,pe=1/0,Oe=-1/0,Xe=-1/0,ut=0,Lt=K;ut<Lt.length;ut+=1){var Vt=Lt[ut],$t=new s.Point(Vt.x+en,Vt.y+en);ee=Math.min(ee,$t.x),pe=Math.min(pe,$t.y),Oe=Math.max(Oe,$t.x),Xe=Math.max(Xe,$t.y),de.push($t)}for(var hr=this.grid.query(ee,pe,Oe,Xe).concat(this.ignoredGrid.query(ee,pe,Oe,Xe)),fr={},kr={},Xr=0,Yr=hr;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr],Qr=Wr.key;if(fr[Qr.bucketInstanceId]===void 0&&(fr[Qr.bucketInstanceId]={}),!fr[Qr.bucketInstanceId][Qr.featureIndex]){var dn=[new s.Point(Wr.x1,Wr.y1),new s.Point(Wr.x2,Wr.y1),new s.Point(Wr.x2,Wr.y2),new s.Point(Wr.x1,Wr.y2)];s.polygonIntersectsPolygon(de,dn)&&(fr[Qr.bucketInstanceId][Qr.featureIndex]=!0,kr[Qr.bucketInstanceId]===void 0&&(kr[Qr.bucketInstanceId]=[]),kr[Qr.bucketInstanceId].push(Qr.featureIndex))}}return kr},Jr.prototype.insertCollisionBox=function(K,de,ee,pe,Oe){var Xe=de?this.ignoredGrid:this.grid,ut={bucketInstanceId:ee,featureIndex:pe,collisionGroupID:Oe};Xe.insert(ut,K[0],K[1],K[2],K[3])},Jr.prototype.insertCollisionCircles=function(K,de,ee,pe,Oe){for(var Xe=de?this.ignoredGrid:this.grid,ut={bucketInstanceId:ee,featureIndex:pe,collisionGroupID:Oe},Lt=0;Lt<K.length;Lt+=4)Xe.insertCircle(ut,K[Lt],K[Lt+1],K[Lt+2])},Jr.prototype.projectAndGetPerspectiveRatio=function(K,de,ee){var pe=[de,ee,0,1];mr(pe,pe,K);var Oe=new s.Point((pe[0]/pe[3]+1)/2*this.transform.width+en,(-pe[1]/pe[3]+1)/2*this.transform.height+en);return{point:Oe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},Jr.prototype.isOffscreen=function(K,de,ee,pe){return ee<en||K>=this.screenRightBoundary||pe<en||de>this.screenBottomBoundary},Jr.prototype.isInsideGrid=function(K,de,ee,pe){return ee>=0&&K<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},Jr.prototype.getViewportMatrix=function(){var K=s.identity([]);return s.translate(K,K,[-en,-en,0]),K};function vn(ce,K,de){return K*(s.EXTENT/(ce.tileSize*Math.pow(2,de-ce.tileID.overscaledZ)))}var On=function(K,de,ee,pe){K?this.opacity=Math.max(0,Math.min(1,K.opacity+(K.placed?de:-de))):this.opacity=pe&&ee?1:0,this.placed=ee};On.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var bn=function(K,de,ee,pe,Oe){this.text=new On(K?K.text:null,de,ee,Oe),this.icon=new On(K?K.icon:null,de,pe,Oe)};bn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var An=function(K,de,ee){this.text=K,this.icon=de,this.skipFade=ee},Nn=function(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]},$n=function(K,de,ee,pe,Oe){this.bucketInstanceId=K,this.featureIndex=de,this.sourceLayerIndex=ee,this.bucketIndex=pe,this.tileID=Oe},ha=function(K){this.crossSourceCollisions=K,this.maxGroupID=0,this.collisionGroups={}};ha.prototype.get=function(K){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[K]){var de=++this.maxGroupID;this.collisionGroups[K]={ID:de,predicate:function(ee){return ee.collisionGroupID===de}}}return this.collisionGroups[K]};function Ia(ce,K,de,ee,pe){var Oe=s.getAnchorAlignment(ce),Xe=Oe.horizontalAlign,ut=Oe.verticalAlign,Lt=-(Xe-.5)*K,Vt=-(ut-.5)*de,$t=s.evaluateVariableOffset(ce,ee);return new s.Point(Lt+$t[0]*pe,Vt+$t[1]*pe)}function Mr(ce,K,de,ee,pe,Oe){var Xe=ce.x1,ut=ce.x2,Lt=ce.y1,Vt=ce.y2,$t=ce.anchorPointX,hr=ce.anchorPointY,fr=new s.Point(K,de);return ee&&fr._rotate(pe?Oe:-Oe),{x1:Xe+fr.x,y1:Lt+fr.y,x2:ut+fr.x,y2:Vt+fr.y,anchorPointX:$t,anchorPointY:hr}}var Fr=function(K,de,ee,pe){this.transform=K.clone(),this.collisionIndex=new Jr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new ha(ee),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};Fr.prototype.getBucketParts=function(K,de,ee,pe){var Oe=ee.getBucket(de),Xe=ee.latestFeatureIndex;if(!(!Oe||!Xe||de.id!==Oe.layerIds[0])){var ut=ee.collisionBoxArray,Lt=Oe.layers[0].layout,Vt=Math.pow(2,this.transform.zoom-ee.tileID.overscaledZ),$t=ee.tileSize/s.EXTENT,hr=this.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),fr=Lt.get("text-pitch-alignment")==="map",kr=Lt.get("text-rotation-alignment")==="map",Xr=vn(ee,1,this.transform.zoom),Yr=zr(hr,fr,kr,this.transform,Xr),Wr=null;if(fr){var Qr=jr(hr,fr,kr,this.transform,Xr);Wr=s.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[Oe.bucketInstanceId]=new $n(Oe.bucketInstanceId,Xe,Oe.sourceLayerIndex,Oe.index,ee.tileID);var dn={bucket:Oe,layout:Lt,posMatrix:hr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Wr,scale:Vt,textPixelRatio:$t,holdingForFade:ee.holdingForFade(),collisionBoxArray:ut,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(Oe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Oe.sourceID)};if(pe)for(var In=0,Un=Oe.sortKeyRanges;In<Un.length;In+=1){var Xn=Un[In],Zn=Xn.sortKey,jn=Xn.symbolInstanceStart,Jn=Xn.symbolInstanceEnd;K.push({sortKey:Zn,symbolInstanceStart:jn,symbolInstanceEnd:Jn,parameters:dn})}else K.push({symbolInstanceStart:0,symbolInstanceEnd:Oe.symbolInstances.length,parameters:dn})}},Fr.prototype.attemptAnchorPlacement=function(K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t,hr,fr,kr,Xr,Yr){var Wr=[fr.textOffset0,fr.textOffset1],Qr=Ia(K,ee,pe,Wr,Oe),dn=this.collisionIndex.placeCollisionBox(Mr(de,Qr.x,Qr.y,Xe,ut,this.transform.angle),hr,Lt,Vt,$t.predicate);if(Yr){var In=this.collisionIndex.placeCollisionBox(Mr(Yr,Qr.x,Qr.y,Xe,ut,this.transform.angle),hr,Lt,Vt,$t.predicate);if(In.box.length===0)return}if(dn.box.length>0){var Un;return this.prevPlacement&&this.prevPlacement.variableOffsets[fr.crossTileID]&&this.prevPlacement.placements[fr.crossTileID]&&this.prevPlacement.placements[fr.crossTileID].text&&(Un=this.prevPlacement.variableOffsets[fr.crossTileID].anchor),this.variableOffsets[fr.crossTileID]={textOffset:Wr,width:ee,height:pe,anchor:K,textBoxScale:Oe,prevAnchor:Un},this.markUsedJustification(kr,K,fr,Xr),kr.allowVerticalPlacement&&(this.markUsedOrientation(kr,Xr,fr),this.placedOrientations[fr.crossTileID]=Xr),{shift:Qr,placedGlyphBoxes:dn}}},Fr.prototype.placeLayerBucketPart=function(K,de,ee){var pe=this,Oe=K.parameters,Xe=Oe.bucket,ut=Oe.layout,Lt=Oe.posMatrix,Vt=Oe.textLabelPlaneMatrix,$t=Oe.labelToScreenMatrix,hr=Oe.textPixelRatio,fr=Oe.holdingForFade,kr=Oe.collisionBoxArray,Xr=Oe.partiallyEvaluatedTextSize,Yr=Oe.collisionGroup,Wr=ut.get("text-optional"),Qr=ut.get("icon-optional"),dn=ut.get("text-allow-overlap"),In=ut.get("icon-allow-overlap"),Un=ut.get("text-rotation-alignment")==="map",Xn=ut.get("text-pitch-alignment")==="map",Zn=ut.get("icon-text-fit")!=="none",jn=ut.get("symbol-z-order")==="viewport-y",Jn=dn&&(In||!Xe.hasIconData()||Qr),na=In&&(dn||!Xe.hasTextData()||Wr);!Xe.collisionArrays&&kr&&Xe.deserializeCollisionBoxes(kr);var ua=function(Ea,Za){if(!de[Ea.crossTileID]){if(fr){pe.placements[Ea.crossTileID]=new An(!1,!1,!1);return}var Ga=!1,si=!1,ri=!0,Si=null,$a={box:null,offscreen:null},mi={box:null,offscreen:null},Wa=null,ei=null,Bi=null,yo=0,Ks=0,Js=0;Za.textFeatureIndex?yo=Za.textFeatureIndex:Ea.useRuntimeCollisionCircles&&(yo=Ea.featureIndex),Za.verticalTextFeatureIndex&&(Ks=Za.verticalTextFeatureIndex);var vl=Za.textBox;if(vl){var Wl=function(ji){var ms=s.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!ji&&pe.prevPlacement){var xs=pe.prevPlacement.placedOrientations[Ea.crossTileID];xs&&(pe.placedOrientations[Ea.crossTileID]=xs,ms=xs,pe.markUsedOrientation(Xe,ms,Ea))}return ms},Ef=function(ji,ms){if(Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&Za.verticalTextBox)for(var xs=0,Vh=Xe.writingModes;xs<Vh.length;xs+=1){var Gv=Vh[xs];if(Gv===s.WritingMode.vertical?($a=ms(),mi=$a):$a=ji(),$a&&$a.box&&$a.box.length)break}else $a=ji()};if(ut.get("text-variable-anchor")){var ys=ut.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Ea.crossTileID]){var ns=pe.prevPlacement.variableOffsets[Ea.crossTileID];ys.indexOf(ns.anchor)>0&&(ys=ys.filter(function(ji){return ji!==ns.anchor}),ys.unshift(ns.anchor))}var dl=function(ji,ms,xs){for(var Vh=ji.x2-ji.x1,Gv=ji.y2-ji.y1,Y0=Ea.textBoxScale,X0=Zn&&!In?ms:null,dh={box:[],offscreen:!1},Z0=dn?ys.length*2:ys.length,Hh=0;Hh<Z0;++Hh){var K0=ys[Hh%ys.length],J0=Hh>=ys.length,Wv=pe.attemptAnchorPlacement(K0,ji,Vh,Gv,Y0,Un,Xn,hr,Lt,Yr,J0,Ea,Xe,xs,X0);if(Wv&&(dh=Wv.placedGlyphBoxes,dh&&dh.box&&dh.box.length)){Ga=!0,Si=Wv.shift;break}}return dh},Tu=function(){return dl(vl,Za.iconBox,s.WritingMode.horizontal)},pl=function(){var ji=Za.verticalTextBox,ms=$a&&$a.box&&$a.box.length;return Xe.allowVerticalPlacement&&!ms&&Ea.numVerticalGlyphVertices>0&&ji?dl(ji,Za.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}};Ef(Tu,pl),$a&&(Ga=$a.box,ri=$a.offscreen);var Oh=Wl($a&&$a.box);if(!Ga&&pe.prevPlacement){var dc=pe.prevPlacement.variableOffsets[Ea.crossTileID];dc&&(pe.variableOffsets[Ea.crossTileID]=dc,pe.markUsedJustification(Xe,dc.anchor,Ea,Oh))}}else{var jl=function(ji,ms){var xs=pe.collisionIndex.placeCollisionBox(ji,dn,hr,Lt,Yr.predicate);return xs&&xs.box&&xs.box.length&&(pe.markUsedOrientation(Xe,ms,Ea),pe.placedOrientations[Ea.crossTileID]=ms),xs},rs=function(){return jl(vl,s.WritingMode.horizontal)},Yl=function(){var ji=Za.verticalTextBox;return Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&ji?jl(ji,s.WritingMode.vertical):{box:null,offscreen:null}};Ef(rs,Yl),Wl($a&&$a.box&&$a.box.length)}}if(Wa=$a,Ga=Wa&&Wa.box&&Wa.box.length>0,ri=Wa&&Wa.offscreen,Ea.useRuntimeCollisionCircles){var To=Xe.text.placedSymbolArray.get(Ea.centerJustifiedTextSymbolIndex),Fh=s.evaluateSizeForFeature(Xe.textSizeData,Xr,To),vh=ut.get("text-padding"),Ho=Ea.collisionCircleDiameter;ei=pe.collisionIndex.placeCollisionCircles(dn,To,Xe.lineVertexArray,Xe.glyphOffsetArray,Fh,Lt,Vt,$t,ee,Xn,Yr.predicate,Ho,vh),Ga=dn||ei.circles.length>0&&!ei.collisionDetected,ri=ri&&ei.offscreen}if(Za.iconFeatureIndex&&(Js=Za.iconFeatureIndex),Za.iconBox){var pc=function(ji){var ms=Zn&&Si?Mr(ji,Si.x,Si.y,Un,Xn,pe.transform.angle):ji;return pe.collisionIndex.placeCollisionBox(ms,In,hr,Lt,Yr.predicate)};mi&&mi.box&&mi.box.length&&Za.verticalIconBox?(Bi=pc(Za.verticalIconBox),si=Bi.box.length>0):(Bi=pc(Za.iconBox),si=Bi.box.length>0),ri=ri&&Bi.offscreen}var Nh=Wr||Ea.numHorizontalGlyphVertices===0&&Ea.numVerticalGlyphVertices===0,Bh=Qr||Ea.numIconVertices===0;if(!Nh&&!Bh?si=Ga=si&&Ga:Bh?Nh||(si=si&&Ga):Ga=si&&Ga,Ga&&Wa&&Wa.box&&(mi&&mi.box&&Ks?pe.collisionIndex.insertCollisionBox(Wa.box,ut.get("text-ignore-placement"),Xe.bucketInstanceId,Ks,Yr.ID):pe.collisionIndex.insertCollisionBox(Wa.box,ut.get("text-ignore-placement"),Xe.bucketInstanceId,yo,Yr.ID)),si&&Bi&&pe.collisionIndex.insertCollisionBox(Bi.box,ut.get("icon-ignore-placement"),Xe.bucketInstanceId,Js,Yr.ID),ei&&(Ga&&pe.collisionIndex.insertCollisionCircles(ei.circles,ut.get("text-ignore-placement"),Xe.bucketInstanceId,yo,Yr.ID),ee)){var Uh=Xe.bucketInstanceId,gc=pe.collisionCircleArrays[Uh];gc===void 0&&(gc=pe.collisionCircleArrays[Uh]=new Nn);for(var yc=0;yc<ei.circles.length;yc+=4)gc.circles.push(ei.circles[yc+0]),gc.circles.push(ei.circles[yc+1]),gc.circles.push(ei.circles[yc+2]),gc.circles.push(ei.collisionDetected?1:0)}pe.placements[Ea.crossTileID]=new An(Ga||Jn,si||na,ri||Xe.justReloaded),de[Ea.crossTileID]=!0}};if(jn)for(var xa=Xe.getSortedSymbolIndexes(this.transform.angle),da=xa.length-1;da>=0;--da){var Fa=xa[da];ua(Xe.symbolInstances.get(Fa),Xe.collisionArrays[Fa])}else for(var qa=K.symbolInstanceStart;qa<K.symbolInstanceEnd;qa++)ua(Xe.symbolInstances.get(qa),Xe.collisionArrays[qa]);if(ee&&Xe.bucketInstanceId in this.collisionCircleArrays){var Xa=this.collisionCircleArrays[Xe.bucketInstanceId];s.invert(Xa.invProjMatrix,Lt),Xa.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Fr.prototype.markUsedJustification=function(K,de,ee,pe){var Oe={left:ee.leftJustifiedTextSymbolIndex,center:ee.centerJustifiedTextSymbolIndex,right:ee.rightJustifiedTextSymbolIndex},Xe;pe===s.WritingMode.vertical?Xe=ee.verticalPlacedTextSymbolIndex:Xe=Oe[s.getAnchorJustification(de)];for(var ut=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex,ee.verticalPlacedTextSymbolIndex],Lt=0,Vt=ut;Lt<Vt.length;Lt+=1){var $t=Vt[Lt];$t>=0&&(Xe>=0&&$t!==Xe?K.text.placedSymbolArray.get($t).crossTileID=0:K.text.placedSymbolArray.get($t).crossTileID=ee.crossTileID)}},Fr.prototype.markUsedOrientation=function(K,de,ee){for(var pe=de===s.WritingMode.horizontal||de===s.WritingMode.horizontalOnly?de:0,Oe=de===s.WritingMode.vertical?de:0,Xe=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex],ut=0,Lt=Xe;ut<Lt.length;ut+=1){var Vt=Lt[ut];K.text.placedSymbolArray.get(Vt).placedOrientation=pe}ee.verticalPlacedTextSymbolIndex&&(K.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).placedOrientation=Oe)},Fr.prototype.commit=function(K){this.commitTime=K,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,ee=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(K):1,Oe=de?de.opacities:{},Xe=de?de.variableOffsets:{},ut=de?de.placedOrientations:{};for(var Lt in this.placements){var Vt=this.placements[Lt],$t=Oe[Lt];$t?(this.opacities[Lt]=new bn($t,pe,Vt.text,Vt.icon),ee=ee||Vt.text!==$t.text.placed||Vt.icon!==$t.icon.placed):(this.opacities[Lt]=new bn(null,pe,Vt.text,Vt.icon,Vt.skipFade),ee=ee||Vt.text||Vt.icon)}for(var hr in Oe){var fr=Oe[hr];if(!this.opacities[hr]){var kr=new bn(fr,pe,!1,!1);kr.isHidden()||(this.opacities[hr]=kr,ee=ee||fr.text.placed||fr.icon.placed)}}for(var Xr in Xe)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=Xe[Xr]);for(var Yr in ut)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=ut[Yr]);ee?this.lastPlacementChangeTime=K:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:K)},Fr.prototype.updateLayerOpacities=function(K,de){for(var ee={},pe=0,Oe=de;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe.getBucket(K);ut&&Xe.latestFeatureIndex&&K.id===ut.layerIds[0]&&this.updateBucketOpacities(ut,ee,Xe.collisionBoxArray)}},Fr.prototype.updateBucketOpacities=function(K,de,ee){var pe=this;K.hasTextData()&&K.text.opacityVertexArray.clear(),K.hasIconData()&&K.icon.opacityVertexArray.clear(),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexArray.clear(),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexArray.clear();var Oe=K.layers[0].layout,Xe=new bn(null,0,!1,!1,!0),ut=Oe.get("text-allow-overlap"),Lt=Oe.get("icon-allow-overlap"),Vt=Oe.get("text-variable-anchor"),$t=Oe.get("text-rotation-alignment")==="map",hr=Oe.get("text-pitch-alignment")==="map",fr=Oe.get("icon-text-fit")!=="none",kr=new bn(null,0,ut&&(Lt||!K.hasIconData()||Oe.get("icon-optional")),Lt&&(ut||!K.hasTextData()||Oe.get("text-optional")),!0);!K.collisionArrays&&ee&&(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData())&&K.deserializeCollisionBoxes(ee);for(var Xr=function(dn,In,Un){for(var Xn=0;Xn<In/4;Xn++)dn.opacityVertexArray.emplaceBack(Un)},Yr=function(dn){var In=K.symbolInstances.get(dn),Un=In.numHorizontalGlyphVertices,Xn=In.numVerticalGlyphVertices,Zn=In.crossTileID,jn=de[Zn],Jn=pe.opacities[Zn];jn?Jn=Xe:Jn||(Jn=kr,pe.opacities[Zn]=Jn),de[Zn]=!0;var na=Un>0||Xn>0,ua=In.numIconVertices>0,xa=pe.placedOrientations[In.crossTileID],da=xa===s.WritingMode.vertical,Fa=xa===s.WritingMode.horizontal||xa===s.WritingMode.horizontalOnly;if(na){var qa=Gr(Jn.text),Xa=da?qr:qa;Xr(K.text,Un,Xa);var Ea=Fa?qr:qa;Xr(K.text,Xn,Ea);var Za=Jn.text.isHidden();[In.rightJustifiedTextSymbolIndex,In.centerJustifiedTextSymbolIndex,In.leftJustifiedTextSymbolIndex].forEach(function(Js){Js>=0&&(K.text.placedSymbolArray.get(Js).hidden=Za||da?1:0)}),In.verticalPlacedTextSymbolIndex>=0&&(K.text.placedSymbolArray.get(In.verticalPlacedTextSymbolIndex).hidden=Za||Fa?1:0);var Ga=pe.variableOffsets[In.crossTileID];Ga&&pe.markUsedJustification(K,Ga.anchor,In,xa);var si=pe.placedOrientations[In.crossTileID];si&&(pe.markUsedJustification(K,"left",In,si),pe.markUsedOrientation(K,si,In))}if(ua){var ri=Gr(Jn.icon),Si=!(fr&&In.verticalPlacedIconSymbolIndex&&da);if(In.placedIconSymbolIndex>=0){var $a=Si?ri:qr;Xr(K.icon,In.numIconVertices,$a),K.icon.placedSymbolArray.get(In.placedIconSymbolIndex).hidden=Jn.icon.isHidden()}if(In.verticalPlacedIconSymbolIndex>=0){var mi=Si?qr:ri;Xr(K.icon,In.numVerticalIconVertices,mi),K.icon.placedSymbolArray.get(In.verticalPlacedIconSymbolIndex).hidden=Jn.icon.isHidden()}}if(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData()){var Wa=K.collisionArrays[dn];if(Wa){var ei=new s.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var Bi=!0;if(Vt){var yo=pe.variableOffsets[Zn];yo?(ei=Ia(yo.anchor,yo.width,yo.height,yo.textOffset,yo.textBoxScale),$t&&ei._rotate(hr?pe.transform.angle:-pe.transform.angle)):Bi=!1}Wa.textBox&&Ar(K.textCollisionBox.collisionVertexArray,Jn.text.placed,!Bi||da,ei.x,ei.y),Wa.verticalTextBox&&Ar(K.textCollisionBox.collisionVertexArray,Jn.text.placed,!Bi||Fa,ei.x,ei.y)}var Ks=!!(!Fa&&Wa.verticalIconBox);Wa.iconBox&&Ar(K.iconCollisionBox.collisionVertexArray,Jn.icon.placed,Ks,fr?ei.x:0,fr?ei.y:0),Wa.verticalIconBox&&Ar(K.iconCollisionBox.collisionVertexArray,Jn.icon.placed,!Ks,fr?ei.x:0,fr?ei.y:0)}}},Wr=0;Wr<K.symbolInstances.length;Wr++)Yr(Wr);if(K.sortFeatures(this.transform.angle),this.retainedQueryData[K.bucketInstanceId]&&(this.retainedQueryData[K.bucketInstanceId].featureSortOrder=K.featureSortOrder),K.hasTextData()&&K.text.opacityVertexBuffer&&K.text.opacityVertexBuffer.updateData(K.text.opacityVertexArray),K.hasIconData()&&K.icon.opacityVertexBuffer&&K.icon.opacityVertexBuffer.updateData(K.icon.opacityVertexArray),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexBuffer&&K.iconCollisionBox.collisionVertexBuffer.updateData(K.iconCollisionBox.collisionVertexArray),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexBuffer&&K.textCollisionBox.collisionVertexBuffer.updateData(K.textCollisionBox.collisionVertexArray),K.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[K.bucketInstanceId];K.placementInvProjMatrix=Qr.invProjMatrix,K.placementViewportMatrix=Qr.viewportMatrix,K.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[K.bucketInstanceId]}},Fr.prototype.symbolFadeChange=function(K){return this.fadeDuration===0?1:(K-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Fr.prototype.zoomAdjustment=function(K){return Math.max(0,(this.transform.zoom-K)/1.5)},Fr.prototype.hasTransitions=function(K){return this.stale||K-this.lastPlacementChangeTime<this.fadeDuration},Fr.prototype.stillRecent=function(K,de){var ee=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*ee>K},Fr.prototype.setStale=function(){this.stale=!0};function Ar(ce,K,de,ee,pe){ce.emplaceBack(K?1:0,de?1:0,ee||0,pe||0),ce.emplaceBack(K?1:0,de?1:0,ee||0,pe||0),ce.emplaceBack(K?1:0,de?1:0,ee||0,pe||0),ce.emplaceBack(K?1:0,de?1:0,ee||0,pe||0)}var Nr=Math.pow(2,25),mn=Math.pow(2,24),Rn=Math.pow(2,17),gn=Math.pow(2,16),un=Math.pow(2,9),Cr=Math.pow(2,8),Zr=Math.pow(2,1);function Gr(ce){if(ce.opacity===0&&!ce.placed)return 0;if(ce.opacity===1&&ce.placed)return 4294967295;var K=ce.placed?1:0,de=Math.floor(ce.opacity*127);return de*Nr+K*mn+de*Rn+K*gn+de*un+K*Cr+de*Zr+K}var qr=0,wn=function(K){this._sortAcrossTiles=K.layout.get("symbol-z-order")!=="viewport-y"&&K.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(K,de,ee,pe,Oe){for(var Xe=this._bucketParts;this._currentTileIndex<K.length;){var ut=K[this._currentTileIndex];if(de.getBucketParts(Xe,pe,ut,this._sortAcrossTiles),this._currentTileIndex++,Oe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Vt,$t){return Vt.sortKey-$t.sortKey}));this._currentPartIndex<Xe.length;){var Lt=Xe[this._currentPartIndex];if(de.placeLayerBucketPart(Lt,this._seenCrossTileIDs,ee),this._currentPartIndex++,Oe())return!0}return!1};var zn=function(K,de,ee,pe,Oe,Xe,ut){this.placement=new Fr(K,Oe,Xe,ut),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=ee,this._showCollisionBoxes=pe,this._done=!1};zn.prototype.isDone=function(){return this._done},zn.prototype.continuePlacement=function(K,de,ee){for(var pe=this,Oe=s.browser.now(),Xe=function(){var hr=s.browser.now()-Oe;return pe._forceFullPlacement?!1:hr>2};this._currentPlacementIndex>=0;){var ut=K[this._currentPlacementIndex],Lt=de[ut],Vt=this.placement.collisionIndex.transform.zoom;if(Lt.type==="symbol"&&(!Lt.minzoom||Lt.minzoom<=Vt)&&(!Lt.maxzoom||Lt.maxzoom>Vt)){this._inProgressLayer||(this._inProgressLayer=new wn(Lt));var $t=this._inProgressLayer.continuePlacement(ee[Lt.source],this.placement,this._showCollisionBoxes,Lt,Xe);if($t)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},zn.prototype.commit=function(K){return this.placement.commit(K),this.placement};var En=512/s.EXTENT/2,Vn=function(K,de,ee){this.tileID=K,this.indexedSymbolInstances={},this.bucketInstanceId=ee;for(var pe=0;pe<de.length;pe++){var Oe=de.get(pe),Xe=Oe.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:Oe.crossTileID,coord:this.getScaledCoordinates(Oe,K)})}};Vn.prototype.getScaledCoordinates=function(K,de){var ee=de.canonical.z-this.tileID.canonical.z,pe=En/Math.pow(2,ee);return{x:Math.floor((de.canonical.x*s.EXTENT+K.anchorX)*pe),y:Math.floor((de.canonical.y*s.EXTENT+K.anchorY)*pe)}},Vn.prototype.findMatches=function(K,de,ee){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),Oe=0;Oe<K.length;Oe++){var Xe=K.get(Oe);if(!Xe.crossTileID){var ut=this.indexedSymbolInstances[Xe.key];if(ut)for(var Lt=this.getScaledCoordinates(Xe,de),Vt=0,$t=ut;Vt<$t.length;Vt+=1){var hr=$t[Vt];if(Math.abs(hr.coord.x-Lt.x)<=pe&&Math.abs(hr.coord.y-Lt.y)<=pe&&!ee[hr.crossTileID]){ee[hr.crossTileID]=!0,Xe.crossTileID=hr.crossTileID;break}}}}};var Bn=function(){this.maxCrossTileID=0};Bn.prototype.generate=function(){return++this.maxCrossTileID};var va=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};va.prototype.handleWrapJump=function(K){var de=Math.round((K-this.lng)/360);if(de!==0)for(var ee in this.indexes){var pe=this.indexes[ee],Oe={};for(var Xe in pe){var ut=pe[Xe];ut.tileID=ut.tileID.unwrapTo(ut.tileID.wrap+de),Oe[ut.tileID.key]=ut}this.indexes[ee]=Oe}this.lng=K},va.prototype.addBucket=function(K,de,ee){if(this.indexes[K.overscaledZ]&&this.indexes[K.overscaledZ][K.key]){if(this.indexes[K.overscaledZ][K.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(K.overscaledZ,this.indexes[K.overscaledZ][K.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var Oe=de.symbolInstances.get(pe);Oe.crossTileID=0}this.usedCrossTileIDs[K.overscaledZ]||(this.usedCrossTileIDs[K.overscaledZ]={});var Xe=this.usedCrossTileIDs[K.overscaledZ];for(var ut in this.indexes){var Lt=this.indexes[ut];if(Number(ut)>K.overscaledZ)for(var Vt in Lt){var $t=Lt[Vt];$t.tileID.isChildOf(K)&&$t.findMatches(de.symbolInstances,K,Xe)}else{var hr=K.scaledTo(Number(ut)),fr=Lt[hr.key];fr&&fr.findMatches(de.symbolInstances,K,Xe)}}for(var kr=0;kr<de.symbolInstances.length;kr++){var Xr=de.symbolInstances.get(kr);Xr.crossTileID||(Xr.crossTileID=ee.generate(),Xe[Xr.crossTileID]=!0)}return this.indexes[K.overscaledZ]===void 0&&(this.indexes[K.overscaledZ]={}),this.indexes[K.overscaledZ][K.key]=new Vn(K,de.symbolInstances,de.bucketInstanceId),!0},va.prototype.removeBucketCrossTileIDs=function(K,de){for(var ee in de.indexedSymbolInstances)for(var pe=0,Oe=de.indexedSymbolInstances[ee];pe<Oe.length;pe+=1){var Xe=Oe[pe];delete this.usedCrossTileIDs[K][Xe.crossTileID]}},va.prototype.removeStaleBuckets=function(K){var de=!1;for(var ee in this.indexes){var pe=this.indexes[ee];for(var Oe in pe)K[pe[Oe].bucketInstanceId]||(this.removeBucketCrossTileIDs(ee,pe[Oe]),delete pe[Oe],de=!0)}return de};var sa=function(){this.layerIndexes={},this.crossTileIDs=new Bn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sa.prototype.addLayer=function(K,de,ee){var pe=this.layerIndexes[K.id];pe===void 0&&(pe=this.layerIndexes[K.id]=new va);var Oe=!1,Xe={};pe.handleWrapJump(ee);for(var ut=0,Lt=de;ut<Lt.length;ut+=1){var Vt=Lt[ut],$t=Vt.getBucket(K);!$t||K.id!==$t.layerIds[0]||($t.bucketInstanceId||($t.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Vt.tileID,$t,this.crossTileIDs)&&(Oe=!0),Xe[$t.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Xe)&&(Oe=!0),Oe},sa.prototype.pruneUnusedLayers=function(K){var de={};K.forEach(function(pe){de[pe]=!0});for(var ee in this.layerIndexes)de[ee]||delete this.layerIndexes[ee]};var ga=function(ce,K){return s.emitValidationErrors(ce,K&&K.filter(function(de){return de.identifier!=="source.canvas"}))},_a=s.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),gi=s.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ai=tr(),ko=function(ce){function K(de,ee){var pe=this;ee===void 0&&(ee={}),ce.call(this),this.map=de,this.dispatcher=new D(Ot(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new E(de._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new sa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());var Oe=this;this._rtlTextPluginCallback=K.registerForPluginStateChange(function(Xe){var ut={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};Oe.dispatcher.broadcast("syncRTLPluginState",ut,function(Lt,Vt){if(s.triggerPluginCompletionEvent(Lt),Vt){var $t=Vt.every(function(fr){return fr});if($t)for(var hr in Oe.sourceCaches)Oe.sourceCaches[hr].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var ut=pe.sourceCaches[Xe.sourceId];if(ut){var Lt=ut.getSource();if(!(!Lt||!Lt.vectorLayerIds))for(var Vt in pe._layers){var $t=pe._layers[Vt];$t.source===Lt.id&&pe._validateLayer($t)}}}})}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.loadURL=function(ee,pe){var Oe=this;pe===void 0&&(pe={}),this.fire(new s.Event("dataloading",{dataType:"style"}));var Xe=typeof pe.validate=="boolean"?pe.validate:!s.isMapboxURL(ee);ee=this.map._requestManager.normalizeStyleURL(ee,pe.accessToken);var ut=this.map._requestManager.transformRequest(ee,s.ResourceType.Style);this._request=s.getJSON(ut,function(Lt,Vt){Oe._request=null,Lt?Oe.fire(new s.ErrorEvent(Lt)):Vt&&Oe._load(Vt,Xe)})},K.prototype.loadJSON=function(ee,pe){var Oe=this;pe===void 0&&(pe={}),this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.browser.frame(function(){Oe._request=null,Oe._load(ee,pe.validate!==!1)})},K.prototype.loadEmpty=function(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(ai,!1)},K.prototype._load=function(ee,pe){if(!(pe&&ga(this,s.validateStyle(ee)))){this._loaded=!0,this.stylesheet=ee;for(var Oe in ee.sources)this.addSource(Oe,ee.sources[Oe],{validate:!1});ee.sprite?this._loadSprite(ee.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ee.glyphs);var Xe=vr(this.stylesheet.layers);this._order=Xe.map(function($t){return $t.id}),this._layers={},this._serializedLayers={};for(var ut=0,Lt=Xe;ut<Lt.length;ut+=1){var Vt=Lt[ut];Vt=s.createStyleLayer(Vt),Vt.setEventedParent(this,{layer:{id:Vt.id}}),this._layers[Vt.id]=Vt,this._serializedLayers[Vt.id]=Vt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}},K.prototype._loadSprite=function(ee){var pe=this;this._spriteRequest=l(ee,this.map._requestManager,function(Oe,Xe){if(pe._spriteRequest=null,Oe)pe.fire(new s.ErrorEvent(Oe));else if(Xe)for(var ut in Xe)pe.imageManager.addImage(ut,Xe[ut]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new s.Event("data",{dataType:"style"}))})},K.prototype._validateLayer=function(ee){var pe=this.sourceCaches[ee.source];if(pe){var Oe=ee.sourceLayer;if(Oe){var Xe=pe.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(Oe)===-1)&&this.fire(new s.ErrorEvent(new Error('Source layer "'+Oe+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+ee.id+'"')))}}},K.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ee in this.sourceCaches)if(!this.sourceCaches[ee].loaded())return!1;return!!this.imageManager.isLoaded()},K.prototype._serializeLayers=function(ee){for(var pe=[],Oe=0,Xe=ee;Oe<Xe.length;Oe+=1){var ut=Xe[Oe],Lt=this._layers[ut];Lt.type!=="custom"&&pe.push(Lt.serialize())}return pe},K.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ee in this.sourceCaches)if(this.sourceCaches[ee].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},K.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},K.prototype.update=function(ee){if(this._loaded){var pe=this._changed;if(this._changed){var Oe=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(Oe.length||Xe.length)&&this._updateWorkerLayers(Oe,Xe);for(var ut in this._updatedSources){var Lt=this._updatedSources[ut];Lt==="reload"?this._reloadSource(ut):Lt==="clear"&&this._clearSource(ut)}this._updateTilesForChangedImages();for(var Vt in this._updatedPaintProps)this._layers[Vt].updateTransitions(ee);this.light.updateTransitions(ee),this._resetUpdates()}var $t={};for(var hr in this.sourceCaches){var fr=this.sourceCaches[hr];$t[hr]=fr.used,fr.used=!1}for(var kr=0,Xr=this._order;kr<Xr.length;kr+=1){var Yr=Xr[kr],Wr=this._layers[Yr];Wr.recalculate(ee,this._availableImages),!Wr.isHidden(ee.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}for(var Qr in $t){var dn=this.sourceCaches[Qr];$t[Qr]!==dn.used&&dn.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Qr}))}this.light.recalculate(ee),this.z=ee.zoom,pe&&this.fire(new s.Event("data",{dataType:"style"}))}},K.prototype._updateTilesForChangedImages=function(){var ee=Object.keys(this._changedImages);if(ee.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],ee);this._changedImages={}}},K.prototype._updateWorkerLayers=function(ee,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ee),removedIds:pe})},K.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},K.prototype.setState=function(ee){var pe=this;if(this._checkLoaded(),ga(this,s.validateStyle(ee)))return!1;ee=s.clone$1(ee),ee.layers=vr(ee.layers);var Oe=Sn(this.serialize(),ee).filter(function(ut){return!(ut.command in gi)});if(Oe.length===0)return!1;var Xe=Oe.filter(function(ut){return!(ut.command in _a)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(ut){return ut.command}).join(", ")+".");return Oe.forEach(function(ut){ut.command!=="setTransition"&&pe[ut.command].apply(pe,ut.args)}),this.stylesheet=ee,!0},K.prototype.addImage=function(ee,pe){if(this.getImage(ee))return this.fire(new s.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ee,pe),this._afterImageUpdated(ee)},K.prototype.updateImage=function(ee,pe){this.imageManager.updateImage(ee,pe)},K.prototype.getImage=function(ee){return this.imageManager.getImage(ee)},K.prototype.removeImage=function(ee){if(!this.getImage(ee))return this.fire(new s.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ee),this._afterImageUpdated(ee)},K.prototype._afterImageUpdated=function(ee){this._availableImages=this.imageManager.listImages(),this._changedImages[ee]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))},K.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},K.prototype.addSource=function(ee,pe,Oe){var Xe=this;if(Oe===void 0&&(Oe={}),this._checkLoaded(),this.sourceCaches[ee]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(pe).join(", ")+".");var ut=["vector","raster","geojson","video","image"],Lt=ut.indexOf(pe.type)>=0;if(!(Lt&&this._validate(s.validateStyle.source,"sources."+ee,pe,null,Oe))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Vt=this.sourceCaches[ee]=new Bt(ee,pe,this.dispatcher);Vt.style=this,Vt.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Vt.serialize(),sourceId:ee}}),Vt.onAdd(this.map),this._changed=!0}},K.prototype.removeSource=function(ee){if(this._checkLoaded(),this.sourceCaches[ee]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===ee)return this.fire(new s.ErrorEvent(new Error('Source "'+ee+'" cannot be removed while layer "'+pe+'" is using it.')));var Oe=this.sourceCaches[ee];delete this.sourceCaches[ee],delete this._updatedSources[ee],Oe.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ee})),Oe.setEventedParent(null),Oe.clearTiles(),Oe.onRemove&&Oe.onRemove(this.map),this._changed=!0},K.prototype.setGeoJSONSourceData=function(ee,pe){this._checkLoaded();var Oe=this.sourceCaches[ee].getSource();Oe.setData(pe),this._changed=!0},K.prototype.getSource=function(ee){return this.sourceCaches[ee]&&this.sourceCaches[ee].getSource()},K.prototype.addLayer=function(ee,pe,Oe){Oe===void 0&&(Oe={}),this._checkLoaded();var Xe=ee.id;if(this.getLayer(Xe)){this.fire(new s.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var ut;if(ee.type==="custom"){if(ga(this,s.validateCustomStyleLayer(ee)))return;ut=s.createStyleLayer(ee)}else{if(typeof ee.source=="object"&&(this.addSource(Xe,ee.source),ee=s.clone$1(ee),ee=s.extend(ee,{source:Xe})),this._validate(s.validateStyle.layer,"layers."+Xe,ee,{arrayIndex:-1},Oe))return;ut=s.createStyleLayer(ee),this._validateLayer(ut),ut.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[ut.id]=ut.serialize()}var Lt=pe?this._order.indexOf(pe):this._order.length;if(pe&&Lt===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(Lt,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=ut,this._removedLayers[Xe]&&ut.source&&ut.type!=="custom"){var Vt=this._removedLayers[Xe];delete this._removedLayers[Xe],Vt.type!==ut.type?this._updatedSources[ut.source]="clear":(this._updatedSources[ut.source]="reload",this.sourceCaches[ut.source].pause())}this._updateLayer(ut),ut.onAdd&&ut.onAdd(this.map)},K.prototype.moveLayer=function(ee,pe){this._checkLoaded(),this._changed=!0;var Oe=this._layers[ee];if(!Oe){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be moved.")));return}if(ee!==pe){var Xe=this._order.indexOf(ee);this._order.splice(Xe,1);var ut=pe?this._order.indexOf(pe):this._order.length;if(pe&&ut===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(ut,0,ee),this._layerOrderChanged=!0}},K.prototype.removeLayer=function(ee){this._checkLoaded();var pe=this._layers[ee];if(!pe){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var Oe=this._order.indexOf(ee);this._order.splice(Oe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ee]=pe,delete this._layers[ee],delete this._serializedLayers[ee],delete this._updatedLayers[ee],delete this._updatedPaintProps[ee],pe.onRemove&&pe.onRemove(this.map)},K.prototype.getLayer=function(ee){return this._layers[ee]},K.prototype.hasLayer=function(ee){return ee in this._layers},K.prototype.setLayerZoomRange=function(ee,pe,Oe){this._checkLoaded();var Xe=this.getLayer(ee);if(!Xe){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===pe&&Xe.maxzoom===Oe||(pe!=null&&(Xe.minzoom=pe),Oe!=null&&(Xe.maxzoom=Oe),this._updateLayer(Xe))},K.prototype.setFilter=function(ee,pe,Oe){Oe===void 0&&(Oe={}),this._checkLoaded();var Xe=this.getLayer(ee);if(!Xe){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be filtered.")));return}if(!s.deepEqual(Xe.filter,pe)){if(pe==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(s.validateStyle.filter,"layers."+Xe.id+".filter",pe,null,Oe)||(Xe.filter=s.clone$1(pe),this._updateLayer(Xe))}},K.prototype.getFilter=function(ee){return s.clone$1(this.getLayer(ee).filter)},K.prototype.setLayoutProperty=function(ee,pe,Oe,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ut=this.getLayer(ee);if(!ut){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}s.deepEqual(ut.getLayoutProperty(pe),Oe)||(ut.setLayoutProperty(pe,Oe,Xe),this._updateLayer(ut))},K.prototype.getLayoutProperty=function(ee,pe){var Oe=this.getLayer(ee);if(!Oe){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style.")));return}return Oe.getLayoutProperty(pe)},K.prototype.setPaintProperty=function(ee,pe,Oe,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ut=this.getLayer(ee);if(!ut){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}if(!s.deepEqual(ut.getPaintProperty(pe),Oe)){var Lt=ut.setPaintProperty(pe,Oe,Xe);Lt&&this._updateLayer(ut),this._changed=!0,this._updatedPaintProps[ee]=!0}},K.prototype.getPaintProperty=function(ee,pe){return this.getLayer(ee).getPaintProperty(pe)},K.prototype.setFeatureState=function(ee,pe){this._checkLoaded();var Oe=ee.source,Xe=ee.sourceLayer,ut=this.sourceCaches[Oe];if(ut===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+Oe+"' does not exist in the map's style.")));return}var Lt=ut.getSource().type;if(Lt==="geojson"&&Xe){this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Lt==="vector"&&!Xe){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ee.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),ut.setFeatureState(Xe,ee.id,pe)},K.prototype.removeFeatureState=function(ee,pe){this._checkLoaded();var Oe=ee.source,Xe=this.sourceCaches[Oe];if(Xe===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+Oe+"' does not exist in the map's style.")));return}var ut=Xe.getSource().type,Lt=ut==="vector"?ee.sourceLayer:void 0;if(ut==="vector"&&!Lt){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof ee.id!="string"&&typeof ee.id!="number"){this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xe.removeFeatureState(Lt,ee.id,pe)},K.prototype.getFeatureState=function(ee){this._checkLoaded();var pe=ee.source,Oe=ee.sourceLayer,Xe=this.sourceCaches[pe];if(Xe===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var ut=Xe.getSource().type;if(ut==="vector"&&!Oe){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ee.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(Oe,ee.id)},K.prototype.getTransition=function(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},K.prototype.serialize=function(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,function(ee){return ee.serialize()}),layers:this._serializeLayers(this._order)},function(ee){return ee!==void 0})},K.prototype._updateLayer=function(ee){this._updatedLayers[ee.id]=!0,ee.source&&!this._updatedSources[ee.source]&&this.sourceCaches[ee.source].getSource().type!=="raster"&&(this._updatedSources[ee.source]="reload",this.sourceCaches[ee.source].pause()),this._changed=!0},K.prototype._flattenAndSortRenderedFeatures=function(ee){for(var pe=this,Oe=function(Fa){return pe._layers[Fa].type==="fill-extrusion"},Xe={},ut=[],Lt=this._order.length-1;Lt>=0;Lt--){var Vt=this._order[Lt];if(Oe(Vt)){Xe[Vt]=Lt;for(var $t=0,hr=ee;$t<hr.length;$t+=1){var fr=hr[$t],kr=fr[Vt];if(kr)for(var Xr=0,Yr=kr;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr];ut.push(Wr)}}}}ut.sort(function(Fa,qa){return qa.intersectionZ-Fa.intersectionZ});for(var Qr=[],dn=this._order.length-1;dn>=0;dn--){var In=this._order[dn];if(Oe(In))for(var Un=ut.length-1;Un>=0;Un--){var Xn=ut[Un].feature;if(Xe[Xn.layer.id]<dn)break;Qr.push(Xn),ut.pop()}else for(var Zn=0,jn=ee;Zn<jn.length;Zn+=1){var Jn=jn[Zn],na=Jn[In];if(na)for(var ua=0,xa=na;ua<xa.length;ua+=1){var da=xa[ua];Qr.push(da.feature)}}}return Qr},K.prototype.queryRenderedFeatures=function(ee,pe,Oe){pe&&pe.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Xe={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ut=0,Lt=pe.layers;ut<Lt.length;ut+=1){var Vt=Lt[ut],$t=this._layers[Vt];if(!$t)return this.fire(new s.ErrorEvent(new Error("The layer '"+Vt+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[$t.source]=!0}}var hr=[];pe.availableImages=this._availableImages;for(var fr in this.sourceCaches)pe.layers&&!Xe[fr]||hr.push(j(this.sourceCaches[fr],this._layers,this._serializedLayers,ee,pe,Oe));return this.placement&&hr.push(Y(this._layers,this._serializedLayers,this.sourceCaches,ee,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(hr)},K.prototype.querySourceFeatures=function(ee,pe){pe&&pe.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var Oe=this.sourceCaches[ee];return Oe?se(Oe,pe):[]},K.prototype.addSourceType=function(ee,pe,Oe){if(K.getSourceType(ee))return Oe(new Error('A source type called "'+ee+'" already exists.'));if(K.setSourceType(ee,pe),!pe.workerSourceURL)return Oe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ee,url:pe.workerSourceURL},Oe)},K.prototype.getLight=function(){return this.light.getLight()},K.prototype.setLight=function(ee,pe){pe===void 0&&(pe={}),this._checkLoaded();var Oe=this.light.getLight(),Xe=!1;for(var ut in ee)if(!s.deepEqual(ee[ut],Oe[ut])){Xe=!0;break}if(Xe){var Lt={now:s.browser.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ee,pe),this.light.updateTransitions(Lt)}},K.prototype._validate=function(ee,pe,Oe,Xe,ut){return ut===void 0&&(ut={}),ut&&ut.validate===!1?!1:ga(this,ee.call(s.validateStyle,s.extend({key:pe,style:this.serialize(),value:Oe,styleSpec:s.styleSpec},Xe)))},K.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ee in this._layers){var pe=this._layers[ee];pe.setEventedParent(null)}for(var Oe in this.sourceCaches)this.sourceCaches[Oe].clearTiles(),this.sourceCaches[Oe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},K.prototype._clearSource=function(ee){this.sourceCaches[ee].clearTiles()},K.prototype._reloadSource=function(ee){this.sourceCaches[ee].resume(),this.sourceCaches[ee].reload()},K.prototype._updateSources=function(ee){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(ee)},K.prototype._generateCollisionBoxes=function(){for(var ee in this.sourceCaches)this._reloadSource(ee)},K.prototype._updatePlacement=function(ee,pe,Oe,Xe,ut){ut===void 0&&(ut=!1);for(var Lt=!1,Vt=!1,$t={},hr=0,fr=this._order;hr<fr.length;hr+=1){var kr=fr[hr],Xr=this._layers[kr];if(Xr.type==="symbol"){if(!$t[Xr.source]){var Yr=this.sourceCaches[Xr.source];$t[Xr.source]=Yr.getRenderableIds(!0).map(function(Zn){return Yr.getTileByID(Zn)}).sort(function(Zn,jn){return jn.tileID.overscaledZ-Zn.tileID.overscaledZ||(Zn.tileID.isLessThan(jn.tileID)?-1:1)})}var Wr=this.crossTileSymbolIndex.addLayer(Xr,$t[Xr.source],ee.center.lng);Lt=Lt||Wr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ut=ut||this._layerOrderChanged||Oe===0,(ut||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.browser.now(),ee.zoom))&&(this.pauseablePlacement=new zn(ee,this._order,ut,pe,Oe,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,$t),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.browser.now()),Vt=!0),Lt&&this.pauseablePlacement.placement.setStale()),Vt||Lt)for(var Qr=0,dn=this._order;Qr<dn.length;Qr+=1){var In=dn[Qr],Un=this._layers[In];Un.type==="symbol"&&this.placement.updateLayerOpacities(Un,$t[Un.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.browser.now());return Xn},K.prototype._releaseSymbolFadeTiles=function(){for(var ee in this.sourceCaches)this.sourceCaches[ee].releaseSymbolFadeTiles()},K.prototype.getImages=function(ee,pe,Oe){this.imageManager.getImages(pe.icons,Oe),this._updateTilesForChangedImages();var Xe=this.sourceCaches[pe.source];Xe&&Xe.setDependencies(pe.tileID.key,pe.type,pe.icons)},K.prototype.getGlyphs=function(ee,pe,Oe){this.glyphManager.getGlyphs(pe.stacks,Oe)},K.prototype.getResource=function(ee,pe,Oe){return s.makeRequest(pe,Oe)},K}(s.Evented);ko.getSourceType=ie,ko.setSourceType=X,ko.registerForPluginStateChange=s.registerForPluginStateChange;var Co=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),to=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Sl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,af=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vf="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ti=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",of=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ki=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,bo="void main() {gl_FragColor=vec4(1.0);}",Ml="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Iu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ii=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,El=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Oi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Hi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Cl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ro="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",no="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",zo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Hf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Lo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yc=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,cs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ji=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,sf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,hs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Gf=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xc=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,ku=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Kc=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",uf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",$c=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,jf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,al=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Ll=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,ru=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ms=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",zu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Zf=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ou=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Zo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,il=yi(to,Sl),nu=yi(af,Vf),Us=yi(ti,eu),vs=yi(of,Ki),ff=yi(bo,Ml),_l=yi(Iu,Ii),Ko=yi(El,Oi),_i=yi(Hi,Cl),cf=yi(ro,no),eh=yi(zo,Hf),Fu=yi(Lo,Yc),Rl=yi(cs,Ji),Dl=yi(sf,Bs),Po=yi(hs,lf),Nu=yi(Gf,Xc),Il=yi(ku,Zc),Bu=yi(Kc,Jc),th=yi(uf,Qc),Kf=yi($c,Wf),hf=yi(jf,al),vf=yi(Ll,tu),df=yi(ru,Yf),kl=yi(Ms,qc),Uu=yi(zu,Xf),au=yi(Zf,Ou),Vu=yi(Zo,Pl);function yi(ce,K){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee=K.match(/attribute ([\w]+) ([\w]+)/g),pe=ce.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Oe=K.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xe=Oe?Oe.concat(pe):pe,ut={};return ce=ce.replace(de,function(Lt,Vt,$t,hr,fr){return ut[fr]=!0,Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+fr+`
varying `+$t+" "+hr+" "+fr+`;
#else
uniform `+$t+" "+hr+" u_"+fr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+fr+`
    `+$t+" "+hr+" "+fr+" = u_"+fr+`;
#endif
`}),K=K.replace(de,function(Lt,Vt,$t,hr,fr){var kr=hr==="float"?"vec2":"vec4",Xr=fr.match(/color/)?"color":kr;return ut[fr]?Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+fr+`
uniform lowp float u_`+fr+`_t;
attribute `+$t+" "+kr+" a_"+fr+`;
varying `+$t+" "+hr+" "+fr+`;
#else
uniform `+$t+" "+hr+" u_"+fr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+fr+" = a_"+fr+`;
#else
    `+$t+" "+hr+" "+fr+" = u_"+fr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+fr+" = unpack_mix_"+Xr+"(a_"+fr+", u_"+fr+`_t);
#else
    `+$t+" "+hr+" "+fr+" = u_"+fr+`;
#endif
`:Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+fr+`
uniform lowp float u_`+fr+`_t;
attribute `+$t+" "+kr+" a_"+fr+`;
#else
uniform `+$t+" "+hr+" u_"+fr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+$t+" "+hr+" "+fr+" = a_"+fr+`;
#else
    `+$t+" "+hr+" "+fr+" = u_"+fr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+$t+" "+hr+" "+fr+" = unpack_mix_"+Xr+"(a_"+fr+", u_"+fr+`_t);
#else
    `+$t+" "+hr+" "+fr+" = u_"+fr+`;
#endif
`}),{fragmentSource:ce,vertexSource:K,staticAttributes:ee,staticUniforms:Xe}}var Jf=Object.freeze({__proto__:null,prelude:il,background:nu,backgroundPattern:Us,circle:vs,clippingMask:ff,heatmap:_l,heatmapTexture:Ko,collisionBox:_i,collisionCircle:cf,debug:eh,fill:Fu,fillOutline:Rl,fillOutlinePattern:Dl,fillPattern:Po,fillExtrusion:Nu,fillExtrusionPattern:Il,hillshadePrepare:Bu,hillshade:th,line:Kf,lineGradient:hf,linePattern:vf,lineSDF:df,raster:kl,symbolIcon:Uu,symbolSDF:au,symbolTextAndIcon:Vu}),Jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Jo.prototype.bind=function(K,de,ee,pe,Oe,Xe,ut,Lt){this.context=K;for(var Vt=this.boundPaintVertexBuffers.length!==pe.length,$t=0;!Vt&&$t<pe.length;$t++)this.boundPaintVertexBuffers[$t]!==pe[$t]&&(Vt=!0);var hr=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==ee||Vt||this.boundIndexBuffer!==Oe||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==ut||this.boundDynamicVertexBuffer2!==Lt;!K.extVertexArrayObject||hr?this.freshBind(de,ee,pe,Oe,Xe,ut,Lt):(K.bindVertexArrayOES.set(this.vao),ut&&ut.bind(),Oe&&Oe.dynamicDraw&&Oe.bind(),Lt&&Lt.bind())},Jo.prototype.freshBind=function(K,de,ee,pe,Oe,Xe,ut){var Lt,Vt=K.numAttributes,$t=this.context,hr=$t.gl;if($t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$t.extVertexArrayObject.createVertexArrayOES(),$t.bindVertexArrayOES.set(this.vao),Lt=0,this.boundProgram=K,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=ee,this.boundIndexBuffer=pe,this.boundVertexOffset=Oe,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=ut;else{Lt=$t.currentNumAttributes||0;for(var fr=Vt;fr<Lt;fr++)hr.disableVertexAttribArray(fr)}de.enableAttributes(hr,K);for(var kr=0,Xr=ee;kr<Xr.length;kr+=1){var Yr=Xr[kr];Yr.enableAttributes(hr,K)}Xe&&Xe.enableAttributes(hr,K),ut&&ut.enableAttributes(hr,K),de.bind(),de.setVertexAttribPointers(hr,K,Oe);for(var Wr=0,Qr=ee;Wr<Qr.length;Wr+=1){var dn=Qr[Wr];dn.bind(),dn.setVertexAttribPointers(hr,K,Oe)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(hr,K,Oe)),pe&&pe.bind(),ut&&(ut.bind(),ut.setVertexAttribPointers(hr,K,Oe)),$t.currentNumAttributes=Vt},Jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Qf(ce){for(var K=[],de=0;de<ce.length;de++)if(ce[de]!==null){var ee=ce[de].split(" ");K.push(ee.pop())}return K}var pf=function(K,de,ee,pe,Oe,Xe){var ut=K.gl;this.program=ut.createProgram();for(var Lt=Qf(ee.staticAttributes),Vt=pe?pe.getBinderAttributes():[],$t=Lt.concat(Vt),hr=ee.staticUniforms?Qf(ee.staticUniforms):[],fr=pe?pe.getBinderUniforms():[],kr=hr.concat(fr),Xr=[],Yr=0,Wr=kr;Yr<Wr.length;Yr+=1){var Qr=Wr[Yr];Xr.indexOf(Qr)<0&&Xr.push(Qr)}var dn=pe?pe.defines():[];Xe&&dn.push("#define OVERDRAW_INSPECTOR;");var In=dn.concat(il.fragmentSource,ee.fragmentSource).join(`
`),Un=dn.concat(il.vertexSource,ee.vertexSource).join(`
`),Xn=ut.createShader(ut.FRAGMENT_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Xn,In),ut.compileShader(Xn),ut.attachShader(this.program,Xn);var Zn=ut.createShader(ut.VERTEX_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Zn,Un),ut.compileShader(Zn),ut.attachShader(this.program,Zn),this.attributes={};var jn={};this.numAttributes=$t.length;for(var Jn=0;Jn<this.numAttributes;Jn++)$t[Jn]&&(ut.bindAttribLocation(this.program,Jn,$t[Jn]),this.attributes[$t[Jn]]=Jn);ut.linkProgram(this.program),ut.deleteShader(Zn),ut.deleteShader(Xn);for(var na=0;na<Xr.length;na++){var ua=Xr[na];if(ua&&!jn[ua]){var xa=ut.getUniformLocation(this.program,ua);xa&&(jn[ua]=xa)}}this.fixedUniforms=Oe(K,jn),this.binderUniforms=pe?pe.getUniforms(K,jn):[]};pf.prototype.draw=function(K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t,hr,fr,kr,Xr,Yr,Wr){var Qr,dn=K.gl;if(!this.failedToCreate){K.program.set(this.program),K.setDepthMode(ee),K.setStencilMode(pe),K.setColorMode(Oe),K.setCullFace(Xe);for(var In in this.fixedUniforms)this.fixedUniforms[In].set(ut[In]);Xr&&Xr.setUniforms(K,this.binderUniforms,fr,{zoom:kr});for(var Un=(Qr={},Qr[dn.LINES]=2,Qr[dn.TRIANGLES]=3,Qr[dn.LINE_STRIP]=1,Qr)[de],Xn=0,Zn=hr.get();Xn<Zn.length;Xn+=1){var jn=Zn[Xn],Jn=jn.vaos||(jn.vaos={}),na=Jn[Lt]||(Jn[Lt]=new Jo);na.bind(K,this,Vt,Xr?Xr.getPaintVertexBuffers():[],$t,jn.vertexOffset,Yr,Wr),dn.drawElements(de,jn.primitiveLength*Un,dn.UNSIGNED_SHORT,jn.primitiveOffset*Un*2)}}};function ol(ce,K,de){var ee=1/vn(de,1,K.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),Oe=de.tileSize*Math.pow(2,K.transform.tileZoom)/pe,Xe=Oe*(de.tileID.canonical.x+de.tileID.wrap*pe),ut=Oe*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[ee,ce.fromScale,ce.toScale],u_fade:ce.t,u_pixel_coord_upper:[Xe>>16,ut>>16],u_pixel_coord_lower:[Xe&65535,ut&65535]}}function Vs(ce,K,de,ee){var pe=de.imageManager.getPattern(ce.from.toString()),Oe=de.imageManager.getPattern(ce.to.toString()),Xe=de.imageManager.getPixelSize(),ut=Xe.width,Lt=Xe.height,Vt=Math.pow(2,ee.tileID.overscaledZ),$t=ee.tileSize*Math.pow(2,de.transform.tileZoom)/Vt,hr=$t*(ee.tileID.canonical.x+ee.tileID.wrap*Vt),fr=$t*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:Oe.tl,u_pattern_br_b:Oe.br,u_texsize:[ut,Lt],u_mix:K.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:Oe.displaySize,u_scale_a:K.fromScale,u_scale_b:K.toScale,u_tile_units_to_pixels:1/vn(ee,1,de.transform.tileZoom),u_pixel_coord_upper:[hr>>16,fr>>16],u_pixel_coord_lower:[hr&65535,fr&65535]}}var Hu=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_lightpos:new s.Uniform3f(ce,K.u_lightpos),u_lightintensity:new s.Uniform1f(ce,K.u_lightintensity),u_lightcolor:new s.Uniform3f(ce,K.u_lightcolor),u_vertical_gradient:new s.Uniform1f(ce,K.u_vertical_gradient),u_opacity:new s.Uniform1f(ce,K.u_opacity)}},ki=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_lightpos:new s.Uniform3f(ce,K.u_lightpos),u_lightintensity:new s.Uniform1f(ce,K.u_lightintensity),u_lightcolor:new s.Uniform3f(ce,K.u_lightcolor),u_vertical_gradient:new s.Uniform1f(ce,K.u_vertical_gradient),u_height_factor:new s.Uniform1f(ce,K.u_height_factor),u_image:new s.Uniform1i(ce,K.u_image),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,K.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,K.u_scale),u_fade:new s.Uniform1f(ce,K.u_fade),u_opacity:new s.Uniform1f(ce,K.u_opacity)}},iu=function(ce,K,de,ee){var pe=K.style.light,Oe=pe.properties.get("position"),Xe=[Oe.x,Oe.y,Oe.z],ut=s.create$1();pe.properties.get("anchor")==="viewport"&&s.fromRotation(ut,-K.transform.angle),s.transformMat3(Xe,Xe,ut);var Lt=pe.properties.get("color");return{u_matrix:ce,u_lightpos:Xe,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[Lt.r,Lt.g,Lt.b],u_vertical_gradient:+de,u_opacity:ee}},Qo=function(ce,K,de,ee,pe,Oe,Xe){return s.extend(iu(ce,K,de,ee),ol(Oe,K,Xe),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Xe.tileSize/8})},Es=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix)}},sl=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_image:new s.Uniform1i(ce,K.u_image),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,K.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,K.u_scale),u_fade:new s.Uniform1f(ce,K.u_fade)}},Hs=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_world:new s.Uniform2f(ce,K.u_world)}},$o=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_world:new s.Uniform2f(ce,K.u_world),u_image:new s.Uniform1i(ce,K.u_image),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,K.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,K.u_scale),u_fade:new s.Uniform1f(ce,K.u_fade)}},Cs=function(ce){return{u_matrix:ce}},qo=function(ce,K,de,ee){return s.extend(Cs(ce),ol(de,K,ee))},Vo=function(ce,K){return{u_matrix:ce,u_world:K}},ou=function(ce,K,de,ee,pe){return s.extend(qo(ce,K,de,ee),{u_world:pe})},rh=function(ce,K){return{u_camera_to_center_distance:new s.Uniform1f(ce,K.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(ce,K.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(ce,K.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(ce,K.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(ce,K.u_matrix)}},nh=function(ce,K,de,ee){var pe=ce.transform,Oe,Xe;if(ee.paint.get("circle-pitch-alignment")==="map"){var ut=vn(de,1,pe.zoom);Oe=!0,Xe=[ut,ut]}else Oe=!1,Xe=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(ee.paint.get("circle-pitch-scale")==="map"),u_matrix:ce.translatePosMatrix(K.posMatrix,de,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+Oe,u_device_pixel_ratio:s.browser.devicePixelRatio,u_extrude_scale:Xe}},ah=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_camera_to_center_distance:new s.Uniform1f(ce,K.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(ce,K.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(ce,K.u_extrude_scale),u_overscale_factor:new s.Uniform1f(ce,K.u_overscale_factor)}},ih=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_inv_matrix:new s.UniformMatrix4f(ce,K.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(ce,K.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(ce,K.u_viewport_size)}},gf=function(ce,K,de){var ee=vn(de,1,K.zoom),pe=Math.pow(2,K.zoom-de.tileID.overscaledZ),Oe=de.tileID.overscaleFactor();return{u_matrix:ce,u_camera_to_center_distance:K.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[K.pixelsToGLUnits[0]/(ee*pe),K.pixelsToGLUnits[1]/(ee*pe)],u_overscale_factor:Oe}},$f=function(ce,K,de){return{u_matrix:ce,u_inv_matrix:K,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},zl=function(ce,K){return{u_color:new s.UniformColor(ce,K.u_color),u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_overlay:new s.Uniform1i(ce,K.u_overlay),u_overlay_scale:new s.Uniform1f(ce,K.u_overlay_scale)}},Qi=function(ce,K,de){return de===void 0&&(de=1),{u_matrix:ce,u_color:K,u_overlay:0,u_overlay_scale:de}},Oo=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix)}},Ol=function(ce){return{u_matrix:ce}},qf=function(ce,K){return{u_extrude_scale:new s.Uniform1f(ce,K.u_extrude_scale),u_intensity:new s.Uniform1f(ce,K.u_intensity),u_matrix:new s.UniformMatrix4f(ce,K.u_matrix)}},su=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_world:new s.Uniform2f(ce,K.u_world),u_image:new s.Uniform1i(ce,K.u_image),u_color_ramp:new s.Uniform1i(ce,K.u_color_ramp),u_opacity:new s.Uniform1f(ce,K.u_opacity)}},Ls=function(ce,K,de,ee){return{u_matrix:ce,u_extrude_scale:vn(K,1,de),u_intensity:ee}},oh=function(ce,K,de,ee){var pe=s.create();s.ortho(pe,0,ce.width,ce.height,0,0,1);var Oe=ce.context.gl;return{u_matrix:pe,u_world:[Oe.drawingBufferWidth,Oe.drawingBufferHeight],u_image:de,u_color_ramp:ee,u_opacity:K.paint.get("heatmap-opacity")}},ec=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_image:new s.Uniform1i(ce,K.u_image),u_latrange:new s.Uniform2f(ce,K.u_latrange),u_light:new s.Uniform2f(ce,K.u_light),u_shadow:new s.UniformColor(ce,K.u_shadow),u_highlight:new s.UniformColor(ce,K.u_highlight),u_accent:new s.UniformColor(ce,K.u_accent)}},tc=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_image:new s.Uniform1i(ce,K.u_image),u_dimension:new s.Uniform2f(ce,K.u_dimension),u_zoom:new s.Uniform1f(ce,K.u_zoom),u_unpack:new s.Uniform4f(ce,K.u_unpack)}},yf=function(ce,K,de){var ee=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),Oe=de.paint.get("hillshade-accent-color"),Xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ce.transform.angle);var ut=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(K.tileID.toUnwrapped(),ut),u_image:0,u_latrange:wo(ce,K.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Xe],u_shadow:ee,u_highlight:pe,u_accent:Oe}},rc=function(ce,K){var de=K.stride,ee=s.create();return s.ortho(ee,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(ee,ee,[0,-s.EXTENT,0]),{u_matrix:ee,u_image:1,u_dimension:[de,de],u_zoom:ce.overscaledZ,u_unpack:K.getUnpackVector()}};function wo(ce,K){var de=Math.pow(2,K.canonical.z),ee=K.canonical.y;return[new s.MercatorCoordinate(0,ee/de).toLngLat().lat,new s.MercatorCoordinate(0,(ee+1)/de).toLngLat().lat]}var es=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_ratio:new s.Uniform1f(ce,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,K.u_units_to_pixels)}},Gs=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_ratio:new s.Uniform1f(ce,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,K.u_units_to_pixels),u_image:new s.Uniform1i(ce,K.u_image),u_image_height:new s.Uniform1f(ce,K.u_image_height)}},Fl=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_ratio:new s.Uniform1f(ce,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_image:new s.Uniform1i(ce,K.u_image),u_units_to_pixels:new s.Uniform2f(ce,K.u_units_to_pixels),u_scale:new s.Uniform3f(ce,K.u_scale),u_fade:new s.Uniform1f(ce,K.u_fade)}},Gu=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_ratio:new s.Uniform1f(ce,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,K.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(ce,K.u_patternscale_a),u_patternscale_b:new s.Uniform2f(ce,K.u_patternscale_b),u_sdfgamma:new s.Uniform1f(ce,K.u_sdfgamma),u_image:new s.Uniform1i(ce,K.u_image),u_tex_y_a:new s.Uniform1f(ce,K.u_tex_y_a),u_tex_y_b:new s.Uniform1f(ce,K.u_tex_y_b),u_mix:new s.Uniform1f(ce,K.u_mix)}},ll=function(ce,K,de){var ee=ce.transform;return{u_matrix:Ws(ce,K,de),u_ratio:1/vn(K,1,ee.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},ul=function(ce,K,de,ee){return s.extend(ll(ce,K,de),{u_image:0,u_image_height:ee})},nc=function(ce,K,de,ee){var pe=ce.transform,Oe=Nl(K,pe);return{u_matrix:Ws(ce,K,de),u_texsize:K.imageAtlasTexture.size,u_ratio:1/vn(K,1,pe.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_image:0,u_scale:[Oe,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Ps=function(ce,K,de,ee,pe){var Oe=ce.transform,Xe=ce.lineAtlas,ut=Nl(K,Oe),Lt=de.layout.get("line-cap")==="round",Vt=Xe.getDash(ee.from,Lt),$t=Xe.getDash(ee.to,Lt),hr=Vt.width*pe.fromScale,fr=$t.width*pe.toScale;return s.extend(ll(ce,K,de),{u_patternscale_a:[ut/hr,-Vt.height/2],u_patternscale_b:[ut/fr,-$t.height/2],u_sdfgamma:Xe.width/(Math.min(hr,fr)*256*s.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Vt.y,u_tex_y_b:$t.y,u_mix:pe.t})};function Nl(ce,K){return 1/vn(ce,1,K.tileZoom)}function Ws(ce,K,de){return ce.translatePosMatrix(K.tileID.posMatrix,K,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var _s=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_tl_parent:new s.Uniform2f(ce,K.u_tl_parent),u_scale_parent:new s.Uniform1f(ce,K.u_scale_parent),u_buffer_scale:new s.Uniform1f(ce,K.u_buffer_scale),u_fade_t:new s.Uniform1f(ce,K.u_fade_t),u_opacity:new s.Uniform1f(ce,K.u_opacity),u_image0:new s.Uniform1i(ce,K.u_image0),u_image1:new s.Uniform1i(ce,K.u_image1),u_brightness_low:new s.Uniform1f(ce,K.u_brightness_low),u_brightness_high:new s.Uniform1f(ce,K.u_brightness_high),u_saturation_factor:new s.Uniform1f(ce,K.u_saturation_factor),u_contrast_factor:new s.Uniform1f(ce,K.u_contrast_factor),u_spin_weights:new s.Uniform3f(ce,K.u_spin_weights)}},lu=function(ce,K,de,ee,pe){return{u_matrix:ce,u_tl_parent:K,u_scale_parent:de,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Ul(pe.paint.get("raster-saturation")),u_contrast_factor:vi(pe.paint.get("raster-contrast")),u_spin_weights:Bl(pe.paint.get("raster-hue-rotate"))}};function Bl(ce){ce*=Math.PI/180;var K=Math.sin(ce),de=Math.cos(ce);return[(2*de+1)/3,(-Math.sqrt(3)*K-de+1)/3,(Math.sqrt(3)*K-de+1)/3]}function vi(ce){return ce>0?1/(1-ce):1+ce}function Ul(ce){return ce>0?1-1/(1.001-ce):-ce}var Wu=function(ce,K){return{u_is_size_zoom_constant:new s.Uniform1i(ce,K.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,K.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,K.u_size_t),u_size:new s.Uniform1f(ce,K.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,K.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,K.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,K.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,K.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,K.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,K.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,K.u_coord_matrix),u_is_text:new s.Uniform1i(ce,K.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,K.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_texture:new s.Uniform1i(ce,K.u_texture)}},ac=function(ce,K){return{u_is_size_zoom_constant:new s.Uniform1i(ce,K.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,K.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,K.u_size_t),u_size:new s.Uniform1f(ce,K.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,K.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,K.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,K.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,K.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,K.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,K.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,K.u_coord_matrix),u_is_text:new s.Uniform1i(ce,K.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,K.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_texture:new s.Uniform1i(ce,K.u_texture),u_gamma_scale:new s.Uniform1f(ce,K.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(ce,K.u_is_halo)}},Vl=function(ce,K){return{u_is_size_zoom_constant:new s.Uniform1i(ce,K.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,K.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,K.u_size_t),u_size:new s.Uniform1f(ce,K.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,K.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,K.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,K.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,K.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,K.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,K.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,K.u_coord_matrix),u_is_text:new s.Uniform1i(ce,K.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,K.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_texsize_icon:new s.Uniform2f(ce,K.u_texsize_icon),u_texture:new s.Uniform1i(ce,K.u_texture),u_texture_icon:new s.Uniform1i(ce,K.u_texture_icon),u_gamma_scale:new s.Uniform1f(ce,K.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(ce,K.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(ce,K.u_is_halo)}},uu=function(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt){var $t=pe.transform;return{u_is_size_zoom_constant:+(ce==="constant"||ce==="source"),u_is_size_feature_constant:+(ce==="constant"||ce==="camera"),u_size_t:K?K.uSizeT:0,u_size:K?K.uSize:0,u_camera_to_center_distance:$t.cameraToCenterDistance,u_pitch:$t.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:$t.width/$t.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:Oe,u_label_plane_matrix:Xe,u_coord_matrix:ut,u_is_text:+Lt,u_pitch_with_map:+ee,u_texsize:Vt,u_texture:0}},ju=function(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t){var hr=pe.transform;return s.extend(uu(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt),{u_gamma_scale:ee?Math.cos(hr._pitch)*hr.cameraToCenterDistance:1,u_device_pixel_ratio:s.browser.devicePixelRatio,u_is_halo:+$t})},mf=function(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt){return s.extend(ju(ce,K,de,ee,pe,Oe,Xe,ut,!0,Lt,!0),{u_texsize_icon:Vt,u_texture_icon:1})},fu=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_opacity:new s.Uniform1f(ce,K.u_opacity),u_color:new s.UniformColor(ce,K.u_color)}},cu=function(ce,K){return{u_matrix:new s.UniformMatrix4f(ce,K.u_matrix),u_opacity:new s.Uniform1f(ce,K.u_opacity),u_image:new s.Uniform1i(ce,K.u_image),u_pattern_tl_a:new s.Uniform2f(ce,K.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(ce,K.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(ce,K.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(ce,K.u_pattern_br_b),u_texsize:new s.Uniform2f(ce,K.u_texsize),u_mix:new s.Uniform1f(ce,K.u_mix),u_pattern_size_a:new s.Uniform2f(ce,K.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(ce,K.u_pattern_size_b),u_scale_a:new s.Uniform1f(ce,K.u_scale_a),u_scale_b:new s.Uniform1f(ce,K.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(ce,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,K.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(ce,K.u_tile_units_to_pixels)}},js=function(ce,K,de){return{u_matrix:ce,u_opacity:K,u_color:de}},hu=function(ce,K,de,ee,pe,Oe){return s.extend(Vs(ee,Oe,de,pe),{u_matrix:ce,u_opacity:K})},Ys={fillExtrusion:Hu,fillExtrusionPattern:ki,fill:Es,fillPattern:sl,fillOutline:Hs,fillOutlinePattern:$o,circle:rh,collisionBox:ah,collisionCircle:ih,debug:zl,clippingMask:Oo,heatmap:qf,heatmapTexture:su,hillshade:ec,hillshadePrepare:tc,line:es,lineGradient:Gs,linePattern:Fl,lineSDF:Gu,raster:_s,symbolIcon:Wu,symbolSDF:ac,symbolTextAndIcon:Vl,background:fu,backgroundPattern:cu},Gi;function ds(ce,K,de,ee,pe,Oe,Xe){for(var ut=ce.context,Lt=ut.gl,Vt=ce.useProgram("collisionBox"),$t=[],hr=0,fr=0,kr=0;kr<ee.length;kr++){var Xr=ee[kr],Yr=K.getTile(Xr),Wr=Yr.getBucket(de);if(Wr){var Qr=Xr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Qr=ce.translatePosMatrix(Xr.posMatrix,Yr,pe,Oe));var dn=Xe?Wr.textCollisionBox:Wr.iconCollisionBox,In=Wr.collisionCircleArray;if(In.length>0){var Un=s.create(),Xn=Qr;s.mul(Un,Wr.placementInvProjMatrix,ce.transform.glCoordMatrix),s.mul(Un,Un,Wr.placementViewportMatrix),$t.push({circleArray:In,circleOffset:fr,transform:Xn,invTransform:Un}),hr+=In.length/4,fr=hr}dn&&Vt.draw(ut,Lt.LINES,ir.disabled,Qt.disabled,ce.colorModeForRenderPass(),Dt.disabled,gf(Qr,ce.transform,Yr),de.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,ce.transform.zoom,null,null,dn.collisionVertexBuffer)}}if(!(!Xe||!$t.length)){var Zn=ce.useProgram("collisionCircle"),jn=new s.StructArrayLayout2f1f2i16;jn.resize(hr*4),jn._trim();for(var Jn=0,na=0,ua=$t;na<ua.length;na+=1)for(var xa=ua[na],da=0;da<xa.circleArray.length/4;da++){var Fa=da*4,qa=xa.circleArray[Fa+0],Xa=xa.circleArray[Fa+1],Ea=xa.circleArray[Fa+2],Za=xa.circleArray[Fa+3];jn.emplace(Jn++,qa,Xa,Ea,Za,0),jn.emplace(Jn++,qa,Xa,Ea,Za,1),jn.emplace(Jn++,qa,Xa,Ea,Za,2),jn.emplace(Jn++,qa,Xa,Ea,Za,3)}(!Gi||Gi.length<hr*2)&&(Gi=xf(hr));for(var Ga=ut.createIndexBuffer(Gi,!0),si=ut.createVertexBuffer(jn,s.collisionCircleLayout.members,!0),ri=0,Si=$t;ri<Si.length;ri+=1){var $a=Si[ri],mi=$f($a.transform,$a.invTransform,ce.transform);Zn.draw(ut,Lt.TRIANGLES,ir.disabled,Qt.disabled,ce.colorModeForRenderPass(),Dt.disabled,mi,de.id,si,Ga,s.SegmentVector.simpleSegment(0,$a.circleOffset*2,$a.circleArray.length,$a.circleArray.length/2),null,ce.transform.zoom,null,null,null)}si.destroy(),Ga.destroy()}}function xf(ce){var K=ce*2,de=new s.StructArrayLayout3ui6;de.resize(K),de._trim();for(var ee=0;ee<K;ee++){var pe=ee*6;de.uint16[pe+0]=ee*4+0,de.uint16[pe+1]=ee*4+1,de.uint16[pe+2]=ee*4+2,de.uint16[pe+3]=ee*4+2,de.uint16[pe+4]=ee*4+3,de.uint16[pe+5]=ee*4+0}return de}var fl=s.identity(new Float32Array(16));function Yu(ce,K,de,ee,pe){if(ce.renderPass==="translucent"){var Oe=Qt.disabled,Xe=ce.colorModeForRenderPass(),ut=de.layout.get("text-variable-anchor");ut&&sh(ee,ce,de,K,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&du(ce,K,de,ee,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),Oe,Xe),de.paint.get("text-opacity").constantOr(1)!==0&&du(ce,K,de,ee,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),Oe,Xe),K.map.showCollisionBoxes&&(ds(ce,K,de,ee,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),ds(ce,K,de,ee,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function vu(ce,K,de,ee,pe,Oe){var Xe=s.getAnchorAlignment(ce),ut=Xe.horizontalAlign,Lt=Xe.verticalAlign,Vt=-(ut-.5)*K,$t=-(Lt-.5)*de,hr=s.evaluateVariableOffset(ce,ee);return new s.Point((Vt/pe+hr[0])*Oe,($t/pe+hr[1])*Oe)}function sh(ce,K,de,ee,pe,Oe,Xe){for(var ut=K.transform,Lt=pe==="map",Vt=Oe==="map",$t=0,hr=ce;$t<hr.length;$t+=1){var fr=hr[$t],kr=ee.getTile(fr),Xr=kr.getBucket(de);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var Yr=Xr.textSizeData,Wr=s.evaluateSizeForZoom(Yr,ut.zoom),Qr=vn(kr,1,K.transform.zoom),dn=zr(fr.posMatrix,Vt,Lt,K.transform,Qr),In=de.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Wr){var Un=Math.pow(2,ut.zoom-kr.tileID.overscaledZ);ic(Xr,Lt,Vt,Xe,s.symbolSize,ut,dn,fr.posMatrix,Un,Wr,In)}}}}function ic(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t){var hr=ce.text.placedSymbolArray,fr=ce.text.dynamicLayoutVertexArray,kr=ce.icon.dynamicLayoutVertexArray,Xr={};fr.clear();for(var Yr=0;Yr<hr.length;Yr++){var Wr=hr.get(Yr),Qr=ce.allowVerticalPlacement&&!Wr.placedOrientation,dn=!Wr.hidden&&Wr.crossTileID&&!Qr?ee[Wr.crossTileID]:null;if(!dn)Qn(Wr.numGlyphs,fr);else{var In=new s.Point(Wr.anchorX,Wr.anchorY),Un=Or(In,de?ut:Xe),Xn=ln(Oe.cameraToCenterDistance,Un.signedDistanceFromCamera),Zn=pe.evaluateSizeForFeature(ce.textSizeData,Vt,Wr)*Xn/s.ONE_EM;de&&(Zn*=ce.tilePixelRatio/Lt);for(var jn=dn.width,Jn=dn.height,na=dn.anchor,ua=dn.textOffset,xa=dn.textBoxScale,da=vu(na,jn,Jn,ua,xa,Zn),Fa=de?Or(In.add(da),Xe).point:Un.point.add(K?da.rotate(-Oe.angle):da),qa=ce.allowVerticalPlacement&&Wr.placedOrientation===s.WritingMode.vertical?Math.PI/2:0,Xa=0;Xa<Wr.numGlyphs;Xa++)s.addDynamicAttributes(fr,Fa,qa);$t&&Wr.associatedIconIndex>=0&&(Xr[Wr.associatedIconIndex]={shiftedAnchor:Fa,angle:qa})}}if($t){kr.clear();for(var Ea=ce.icon.placedSymbolArray,Za=0;Za<Ea.length;Za++){var Ga=Ea.get(Za);if(Ga.hidden)Qn(Ga.numGlyphs,kr);else{var si=Xr[Za];if(!si)Qn(Ga.numGlyphs,kr);else for(var ri=0;ri<Ga.numGlyphs;ri++)s.addDynamicAttributes(kr,si.shiftedAnchor,si.angle)}}ce.icon.dynamicLayoutVertexBuffer.updateData(kr)}ce.text.dynamicLayoutVertexBuffer.updateData(fr)}function po(ce,K,de){return de.iconsInText&&K?"symbolTextAndIcon":ce?"symbolSDF":"symbolIcon"}function du(ce,K,de,ee,pe,Oe,Xe,ut,Lt,Vt,$t,hr){for(var fr=ce.context,kr=fr.gl,Xr=ce.transform,Yr=ut==="map",Wr=Lt==="map",Qr=Yr&&de.layout.get("symbol-placement")!=="point",dn=Yr&&!Wr&&!Qr,In=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Un=!1,Xn=ce.depthModeForSublayer(0,ir.ReadOnly),Zn=de.layout.get("text-variable-anchor"),jn=[],Jn=0,na=ee;Jn<na.length;Jn+=1){var ua=na[Jn],xa=K.getTile(ua),da=xa.getBucket(de);if(da){var Fa=pe?da.text:da.icon;if(!(!Fa||!Fa.segments.get().length)){var qa=Fa.programConfigurations.get(de.id),Xa=pe||da.sdfIcons,Ea=pe?da.textSizeData:da.iconSizeData,Za=Wr||Xr.pitch!==0,Ga=ce.useProgram(po(Xa,pe,da),qa),si=s.evaluateSizeForZoom(Ea,Xr.zoom),ri=void 0,Si=[0,0],$a=void 0,mi=void 0,Wa=null,ei=void 0;if(pe){if($a=xa.glyphAtlasTexture,mi=kr.LINEAR,ri=xa.glyphAtlasTexture.size,da.iconsInText){Si=xa.imageAtlasTexture.size,Wa=xa.imageAtlasTexture;var Bi=Ea.kind==="composite"||Ea.kind==="camera";ei=Za||ce.options.rotating||ce.options.zooming||Bi?kr.LINEAR:kr.NEAREST}}else{var yo=de.layout.get("icon-size").constantOr(0)!==1||da.iconsNeedLinear;$a=xa.imageAtlasTexture,mi=Xa||ce.options.rotating||ce.options.zooming||yo||Za?kr.LINEAR:kr.NEAREST,ri=xa.imageAtlasTexture.size}var Ks=vn(xa,1,ce.transform.zoom),Js=zr(ua.posMatrix,Wr,Yr,ce.transform,Ks),vl=jr(ua.posMatrix,Wr,Yr,ce.transform,Ks),Wl=Zn&&da.hasTextData(),Ef=de.layout.get("icon-text-fit")!=="none"&&Wl&&da.hasIconData();Qr&&Mn(da,ua.posMatrix,ce,pe,Js,vl,Wr,Vt);var jl=ce.translatePosMatrix(ua.posMatrix,xa,Oe,Xe),rs=Qr||pe&&Zn||Ef?fl:Js,Yl=ce.translatePosMatrix(vl,xa,Oe,Xe,!0),ys=Xa&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ns=void 0;Xa?da.iconsInText?ns=mf(Ea.kind,si,dn,Wr,ce,jl,rs,Yl,ri,Si):ns=ju(Ea.kind,si,dn,Wr,ce,jl,rs,Yl,pe,ri,!0):ns=uu(Ea.kind,si,dn,Wr,ce,jl,rs,Yl,pe,ri);var dl={program:Ga,buffers:Fa,uniformValues:ns,atlasTexture:$a,atlasTextureIcon:Wa,atlasInterpolation:mi,atlasInterpolationIcon:ei,isSDF:Xa,hasHalo:ys};if(In&&da.canOverlap){Un=!0;for(var Tu=Fa.segments.get(),pl=0,Oh=Tu;pl<Oh.length;pl+=1){var dc=Oh[pl];jn.push({segments:new s.SegmentVector([dc]),sortKey:dc.sortKey,state:dl})}}else jn.push({segments:Fa.segments,sortKey:0,state:dl})}}}Un&&jn.sort(function(Nh,Bh){return Nh.sortKey-Bh.sortKey});for(var To=0,Fh=jn;To<Fh.length;To+=1){var vh=Fh[To],Ho=vh.state;if(fr.activeTexture.set(kr.TEXTURE0),Ho.atlasTexture.bind(Ho.atlasInterpolation,kr.CLAMP_TO_EDGE),Ho.atlasTextureIcon&&(fr.activeTexture.set(kr.TEXTURE1),Ho.atlasTextureIcon&&Ho.atlasTextureIcon.bind(Ho.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),Ho.isSDF){var pc=Ho.uniformValues;Ho.hasHalo&&(pc.u_is_halo=1,Hl(Ho.buffers,vh.segments,de,ce,Ho.program,Xn,$t,hr,pc)),pc.u_is_halo=0}Hl(Ho.buffers,vh.segments,de,ce,Ho.program,Xn,$t,hr,Ho.uniformValues)}}function Hl(ce,K,de,ee,pe,Oe,Xe,ut,Lt){var Vt=ee.context,$t=Vt.gl;pe.draw(Vt,$t.TRIANGLES,Oe,Xe,ut,Dt.disabled,Lt,de.id,ce.layoutVertexBuffer,ce.indexBuffer,K,de.paint,ee.transform.zoom,ce.programConfigurations.get(de.id),ce.dynamicLayoutVertexBuffer,ce.opacityVertexBuffer)}function oc(ce,K,de,ee){if(ce.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),Oe=de.paint.get("circle-stroke-width"),Xe=de.paint.get("circle-stroke-opacity"),ut=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(Oe.constantOr(1)===0||Xe.constantOr(1)===0))){for(var Lt=ce.context,Vt=Lt.gl,$t=ce.depthModeForSublayer(0,ir.ReadOnly),hr=Qt.disabled,fr=ce.colorModeForRenderPass(),kr=[],Xr=0;Xr<ee.length;Xr++){var Yr=ee[Xr],Wr=K.getTile(Yr),Qr=Wr.getBucket(de);if(Qr){var dn=Qr.programConfigurations.get(de.id),In=ce.useProgram("circle",dn),Un=Qr.layoutVertexBuffer,Xn=Qr.indexBuffer,Zn=nh(ce,Yr,Wr,de),jn={programConfiguration:dn,program:In,layoutVertexBuffer:Un,indexBuffer:Xn,uniformValues:Zn};if(ut)for(var Jn=Qr.segments.get(),na=0,ua=Jn;na<ua.length;na+=1){var xa=ua[na];kr.push({segments:new s.SegmentVector([xa]),sortKey:xa.sortKey,state:jn})}else kr.push({segments:Qr.segments,sortKey:0,state:jn})}}ut&&kr.sort(function($a,mi){return $a.sortKey-mi.sortKey});for(var da=0,Fa=kr;da<Fa.length;da+=1){var qa=Fa[da],Xa=qa.state,Ea=Xa.programConfiguration,Za=Xa.program,Ga=Xa.layoutVertexBuffer,si=Xa.indexBuffer,ri=Xa.uniformValues,Si=qa.segments;Za.draw(Lt,Vt.TRIANGLES,$t,hr,fr,Dt.disabled,ri,de.id,Ga,si,Si,de.paint,ce.transform.zoom,Ea)}}}}function Xs(ce,K,de,ee){if(de.paint.get("heatmap-opacity")!==0)if(ce.renderPass==="offscreen"){var pe=ce.context,Oe=pe.gl,Xe=Qt.disabled,ut=new lt([Oe.ONE,Oe.ONE],s.Color.transparent,[!0,!0,!0,!0]);lh(pe,ce,de),pe.clear({color:s.Color.transparent});for(var Lt=0;Lt<ee.length;Lt++){var Vt=ee[Lt];if(!K.hasRenderableParent(Vt)){var $t=K.getTile(Vt),hr=$t.getBucket(de);if(hr){var fr=hr.programConfigurations.get(de.id),kr=ce.useProgram("heatmap",fr),Xr=ce.transform,Yr=Xr.zoom;kr.draw(pe,Oe.TRIANGLES,ir.disabled,Xe,ut,Dt.disabled,Ls(Vt.posMatrix,$t,Yr,de.paint.get("heatmap-intensity")),de.id,hr.layoutVertexBuffer,hr.indexBuffer,hr.segments,de.paint,ce.transform.zoom,fr)}}}pe.viewport.set([0,0,ce.width,ce.height])}else ce.renderPass==="translucent"&&(ce.context.setColorMode(ce.colorModeForRenderPass()),pu(ce,de))}function lh(ce,K,de){var ee=ce.gl;ce.activeTexture.set(ee.TEXTURE1),ce.viewport.set([0,0,K.width/4,K.height/4]);var pe=de.heatmapFbo;if(pe)ee.bindTexture(ee.TEXTURE_2D,pe.colorAttachment.get()),ce.bindFramebuffer.set(pe.framebuffer);else{var Oe=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,Oe),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),pe=de.heatmapFbo=ce.createFramebuffer(K.width/4,K.height/4,!1),_o(ce,K,Oe,pe)}}function _o(ce,K,de,ee){var pe=ce.gl,Oe=ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,K.width/4,K.height/4,0,pe.RGBA,Oe,null),ee.colorAttachment.set(de)}function pu(ce,K){var de=ce.context,ee=de.gl,pe=K.heatmapFbo;if(pe){de.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(ee.TEXTURE1);var Oe=K.colorRampTexture;Oe||(Oe=K.colorRampTexture=new s.Texture(de,K.colorRamp,ee.RGBA)),Oe.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),ce.useProgram("heatmapTexture").draw(de,ee.TRIANGLES,ir.disabled,Qt.disabled,ce.colorModeForRenderPass(),Dt.disabled,oh(ce,K,0,1),K.id,ce.viewportBuffer,ce.quadTriangleIndexBuffer,ce.viewportSegments,K.paint,ce.transform.zoom)}}function Xu(ce,K,de,ee){if(ce.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),Oe=de.paint.get("line-width");if(!(pe.constantOr(1)===0||Oe.constantOr(1)===0))for(var Xe=ce.depthModeForSublayer(0,ir.ReadOnly),ut=ce.colorModeForRenderPass(),Lt=de.paint.get("line-dasharray"),Vt=de.paint.get("line-pattern"),$t=Vt.constantOr(1),hr=de.paint.get("line-gradient"),fr=de.getCrossfadeParameters(),kr=$t?"linePattern":Lt?"lineSDF":hr?"lineGradient":"line",Xr=ce.context,Yr=Xr.gl,Wr=!0,Qr=0,dn=ee;Qr<dn.length;Qr+=1){var In=dn[Qr],Un=K.getTile(In);if(!($t&&!Un.patternsLoaded())){var Xn=Un.getBucket(de);if(Xn){var Zn=Xn.programConfigurations.get(de.id),jn=ce.context.program.get(),Jn=ce.useProgram(kr,Zn),na=Wr||Jn.program!==jn,ua=Vt.constantOr(null);if(ua&&Un.imageAtlas){var xa=Un.imageAtlas,da=xa.patternPositions[ua.to.toString()],Fa=xa.patternPositions[ua.from.toString()];da&&Fa&&Zn.setConstantPatternPositions(da,Fa)}var qa=$t?nc(ce,Un,de,fr):Lt?Ps(ce,Un,de,Lt,fr):hr?ul(ce,Un,de,Xn.lineClipsArray.length):ll(ce,Un,de);if($t)Xr.activeTexture.set(Yr.TEXTURE0),Un.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Zn.updatePaintBuffers(fr);else if(Lt&&(na||ce.lineAtlas.dirty))Xr.activeTexture.set(Yr.TEXTURE0),ce.lineAtlas.bind(Xr);else if(hr){var Xa=Xn.gradients[de.id],Ea=Xa.texture;if(de.gradientVersion!==Xa.version){var Za=256;if(de.stepInterpolant){var Ga=K.getSource().maxzoom,si=In.canonical.z===Ga?Math.ceil(1<<ce.transform.maxZoom-In.canonical.z):1,ri=Xn.maxLineLength/s.EXTENT,Si=1024,$a=ri*Si*si;Za=s.clamp(s.nextPowerOfTwo($a),256,Xr.maxTextureSize)}Xa.gradient=s.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:Za,image:Xa.gradient||void 0,clips:Xn.lineClipsArray}),Xa.texture?Xa.texture.update(Xa.gradient):Xa.texture=new s.Texture(Xr,Xa.gradient,Yr.RGBA),Xa.version=de.gradientVersion,Ea=Xa.texture}Xr.activeTexture.set(Yr.TEXTURE0),Ea.bind(de.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}Jn.draw(Xr,Yr.TRIANGLES,Xe,ce.stencilModeForClipping(In),ut,Dt.disabled,qa,de.id,Xn.layoutVertexBuffer,Xn.indexBuffer,Xn.segments,de.paint,ce.transform.zoom,Zn,Xn.layoutVertexBuffer2),Wr=!1}}}}}function Rs(ce,K,de,ee){var pe=de.paint.get("fill-color"),Oe=de.paint.get("fill-opacity");if(Oe.constantOr(1)!==0){var Xe=ce.colorModeForRenderPass(),ut=de.paint.get("fill-pattern"),Lt=ce.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&pe.constantOr(s.Color.transparent).a===1&&Oe.constantOr(0)===1?"opaque":"translucent";if(ce.renderPass===Lt){var Vt=ce.depthModeForSublayer(1,ce.renderPass==="opaque"?ir.ReadWrite:ir.ReadOnly);Zs(ce,K,de,ee,Vt,Xe,!1)}if(ce.renderPass==="translucent"&&de.paint.get("fill-antialias")){var $t=ce.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,ir.ReadOnly);Zs(ce,K,de,ee,$t,Xe,!0)}}}function Zs(ce,K,de,ee,pe,Oe,Xe){var ut=ce.context.gl,Lt=de.paint.get("fill-pattern"),Vt=Lt&&Lt.constantOr(1),$t=de.getCrossfadeParameters(),hr,fr,kr,Xr,Yr;Xe?(fr=Vt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",hr=ut.LINES):(fr=Vt?"fillPattern":"fill",hr=ut.TRIANGLES);for(var Wr=0,Qr=ee;Wr<Qr.length;Wr+=1){var dn=Qr[Wr],In=K.getTile(dn);if(!(Vt&&!In.patternsLoaded())){var Un=In.getBucket(de);if(Un){var Xn=Un.programConfigurations.get(de.id),Zn=ce.useProgram(fr,Xn);Vt&&(ce.context.activeTexture.set(ut.TEXTURE0),In.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Xn.updatePaintBuffers($t));var jn=Lt.constantOr(null);if(jn&&In.imageAtlas){var Jn=In.imageAtlas,na=Jn.patternPositions[jn.to.toString()],ua=Jn.patternPositions[jn.from.toString()];na&&ua&&Xn.setConstantPatternPositions(na,ua)}var xa=ce.translatePosMatrix(dn.posMatrix,In,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Xe)Xr=Un.indexBuffer,Yr=Un.segments,kr=Vt?qo(xa,ce,$t,In):Cs(xa);else{Xr=Un.indexBuffer2,Yr=Un.segments2;var da=[ut.drawingBufferWidth,ut.drawingBufferHeight];kr=fr==="fillOutlinePattern"&&Vt?ou(xa,ce,$t,In,da):Vo(xa,da)}Zn.draw(ce.context,hr,pe,ce.stencilModeForClipping(dn),Oe,Dt.disabled,kr,de.id,Un.layoutVertexBuffer,Xr,Yr,de.paint,ce.transform.zoom,Xn)}}}}function bf(ce,K,de,ee){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&ce.renderPass==="translucent"){var Oe=new ir(ce.context.gl.LEQUAL,ir.ReadWrite,ce.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ce.colorModeForRenderPass();gu(ce,K,de,ee,Oe,Qt.disabled,Xe)}else gu(ce,K,de,ee,Oe,Qt.disabled,lt.disabled),gu(ce,K,de,ee,Oe,ce.stencilModeFor3D(),ce.colorModeForRenderPass())}}function gu(ce,K,de,ee,pe,Oe,Xe){for(var ut=ce.context,Lt=ut.gl,Vt=de.paint.get("fill-extrusion-pattern"),$t=Vt.constantOr(1),hr=de.getCrossfadeParameters(),fr=de.paint.get("fill-extrusion-opacity"),kr=0,Xr=ee;kr<Xr.length;kr+=1){var Yr=Xr[kr],Wr=K.getTile(Yr),Qr=Wr.getBucket(de);if(Qr){var dn=Qr.programConfigurations.get(de.id),In=ce.useProgram($t?"fillExtrusionPattern":"fillExtrusion",dn);$t&&(ce.context.activeTexture.set(Lt.TEXTURE0),Wr.imageAtlasTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),dn.updatePaintBuffers(hr));var Un=Vt.constantOr(null);if(Un&&Wr.imageAtlas){var Xn=Wr.imageAtlas,Zn=Xn.patternPositions[Un.to.toString()],jn=Xn.patternPositions[Un.from.toString()];Zn&&jn&&dn.setConstantPatternPositions(Zn,jn)}var Jn=ce.translatePosMatrix(Yr.posMatrix,Wr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),na=de.paint.get("fill-extrusion-vertical-gradient"),ua=$t?Qo(Jn,ce,na,fr,Yr,hr,Wr):iu(Jn,ce,na,fr);In.draw(ut,ut.gl.TRIANGLES,pe,Oe,Xe,Dt.backCCW,ua,de.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,de.paint,ce.transform.zoom,dn)}}}function yu(ce,K,de,ee){if(!(ce.renderPass!=="offscreen"&&ce.renderPass!=="translucent")){for(var pe=ce.context,Oe=ce.depthModeForSublayer(0,ir.ReadOnly),Xe=ce.colorModeForRenderPass(),ut=ce.renderPass==="translucent"?ce.stencilConfigForOverlap(ee):[{},ee],Lt=ut[0],Vt=ut[1],$t=0,hr=Vt;$t<hr.length;$t+=1){var fr=hr[$t],kr=K.getTile(fr);kr.needsHillshadePrepare&&ce.renderPass==="offscreen"?sc(ce,kr,de,Oe,Qt.disabled,Xe):ce.renderPass==="translucent"&&Zu(ce,kr,de,Oe,Lt[fr.overscaledZ],Xe)}pe.viewport.set([0,0,ce.width,ce.height])}}function Zu(ce,K,de,ee,pe,Oe){var Xe=ce.context,ut=Xe.gl,Lt=K.fbo;if(Lt){var Vt=ce.useProgram("hillshade");Xe.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,Lt.colorAttachment.get());var $t=yf(ce,K,de);Vt.draw(Xe,ut.TRIANGLES,ee,pe,Oe,Dt.disabled,$t,de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function sc(ce,K,de,ee,pe,Oe){var Xe=ce.context,ut=Xe.gl,Lt=K.dem;if(Lt&&Lt.data){var Vt=Lt.dim,$t=Lt.stride,hr=Lt.getPixels();if(Xe.activeTexture.set(ut.TEXTURE1),Xe.pixelStoreUnpackPremultiplyAlpha.set(!1),K.demTexture=K.demTexture||ce.getTileTexture($t),K.demTexture){var fr=K.demTexture;fr.update(hr,{premultiply:!1}),fr.bind(ut.NEAREST,ut.CLAMP_TO_EDGE)}else K.demTexture=new s.Texture(Xe,hr,ut.RGBA,{premultiply:!1}),K.demTexture.bind(ut.NEAREST,ut.CLAMP_TO_EDGE);Xe.activeTexture.set(ut.TEXTURE0);var kr=K.fbo;if(!kr){var Xr=new s.Texture(Xe,{width:Vt,height:Vt,data:null},ut.RGBA);Xr.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),kr=K.fbo=Xe.createFramebuffer(Vt,Vt,!0),kr.colorAttachment.set(Xr.texture)}Xe.bindFramebuffer.set(kr.framebuffer),Xe.viewport.set([0,0,Vt,Vt]),ce.useProgram("hillshadePrepare").draw(Xe,ut.TRIANGLES,ee,pe,Oe,Dt.disabled,rc(K.tileID,Lt),de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),K.needsHillshadePrepare=!1}}function mu(ce,K,de,ee){if(ce.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&ee.length)for(var pe=ce.context,Oe=pe.gl,Xe=K.getSource(),ut=ce.useProgram("raster"),Lt=ce.colorModeForRenderPass(),Vt=Xe instanceof J?[{},ee]:ce.stencilConfigForOverlap(ee),$t=Vt[0],hr=Vt[1],fr=hr[hr.length-1].overscaledZ,kr=!ce.options.moving,Xr=0,Yr=hr;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr],Qr=ce.depthModeForSublayer(Wr.overscaledZ-fr,de.paint.get("raster-opacity")===1?ir.ReadWrite:ir.ReadOnly,Oe.LESS),dn=K.getTile(Wr),In=ce.transform.calculatePosMatrix(Wr.toUnwrapped(),kr);dn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Un=K.findLoadedParent(Wr,0),Xn=wf(dn,Un,K,de,ce.transform),Zn=void 0,jn=void 0,Jn=de.paint.get("raster-resampling")==="nearest"?Oe.NEAREST:Oe.LINEAR;pe.activeTexture.set(Oe.TEXTURE0),dn.texture.bind(Jn,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(Oe.TEXTURE1),Un?(Un.texture.bind(Jn,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),Zn=Math.pow(2,Un.tileID.overscaledZ-dn.tileID.overscaledZ),jn=[dn.tileID.canonical.x*Zn%1,dn.tileID.canonical.y*Zn%1]):dn.texture.bind(Jn,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST);var na=lu(In,jn||[0,0],Zn||1,Xn,de);Xe instanceof J?ut.draw(pe,Oe.TRIANGLES,Qr,Qt.disabled,Lt,Dt.disabled,na,de.id,Xe.boundsBuffer,ce.quadTriangleIndexBuffer,Xe.boundsSegments):ut.draw(pe,Oe.TRIANGLES,Qr,$t[Wr.overscaledZ],Lt,Dt.disabled,na,de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function wf(ce,K,de,ee,pe){var Oe=ee.paint.get("raster-fade-duration");if(Oe>0){var Xe=s.browser.now(),ut=(Xe-ce.timeAdded)/Oe,Lt=K?(Xe-K.timeAdded)/Oe:-1,Vt=de.getSource(),$t=pe.coveringZoomLevel({tileSize:Vt.tileSize,roundZoom:Vt.roundZoom}),hr=!K||Math.abs(K.tileID.overscaledZ-$t)>Math.abs(ce.tileID.overscaledZ-$t),fr=hr&&ce.refreshedUponExpiration?1:s.clamp(hr?ut:1-Lt,0,1);return ce.refreshedUponExpiration&&ut>=1&&(ce.refreshedUponExpiration=!1),K?{opacity:1,mix:1-fr}:{opacity:fr,mix:0}}else return{opacity:1,mix:0}}function cl(ce,K,de){var ee=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var Oe=ce.context,Xe=Oe.gl,ut=ce.transform,Lt=ut.tileSize,Vt=de.paint.get("background-pattern");if(!ce.isPatternMissing(Vt)){var $t=!Vt&&ee.a===1&&pe===1&&ce.opaquePassEnabledForLayer()?"opaque":"translucent";if(ce.renderPass===$t){var hr=Qt.disabled,fr=ce.depthModeForSublayer(0,$t==="opaque"?ir.ReadWrite:ir.ReadOnly),kr=ce.colorModeForRenderPass(),Xr=ce.useProgram(Vt?"backgroundPattern":"background"),Yr=ut.coveringTiles({tileSize:Lt});Vt&&(Oe.activeTexture.set(Xe.TEXTURE0),ce.imageManager.bind(ce.context));for(var Wr=de.getCrossfadeParameters(),Qr=0,dn=Yr;Qr<dn.length;Qr+=1){var In=dn[Qr],Un=ce.transform.calculatePosMatrix(In.toUnwrapped()),Xn=Vt?hu(Un,pe,ce,Vt,{tileID:In,tileSize:Lt},Wr):js(Un,pe,ee);Xr.draw(Oe,Xe.TRIANGLES,fr,hr,kr,Dt.disabled,Xn,de.id,ce.tileExtentBuffer,ce.quadTriangleIndexBuffer,ce.tileExtentSegments)}}}}}var Tf=new s.Color(1,0,0,1),xu=new s.Color(0,1,0,1),lc=new s.Color(0,0,1,1),Ze=new s.Color(1,0,1,1),at=new s.Color(0,1,1,1);function gt(ce){var K=ce.transform.padding,de=3;zt(ce,ce.transform.height-(K.top||0),de,Tf),zt(ce,K.bottom||0,de,xu),kt(ce,K.left||0,de,lc),kt(ce,ce.transform.width-(K.right||0),de,Ze);var ee=ce.transform.centerPoint;wt(ce,ee.x,ce.transform.height-ee.y,at)}function wt(ce,K,de,ee){var pe=20,Oe=2;Ft(ce,K-Oe/2,de-pe/2,Oe,pe,ee),Ft(ce,K-pe/2,de-Oe/2,pe,Oe,ee)}function zt(ce,K,de,ee){Ft(ce,0,K+de/2,ce.transform.width,de,ee)}function kt(ce,K,de,ee){Ft(ce,K-de/2,0,de,ce.transform.height,ee)}function Ft(ce,K,de,ee,pe,Oe){var Xe=ce.context,ut=Xe.gl;ut.enable(ut.SCISSOR_TEST),ut.scissor(K*s.browser.devicePixelRatio,de*s.browser.devicePixelRatio,ee*s.browser.devicePixelRatio,pe*s.browser.devicePixelRatio),Xe.clear({color:Oe}),ut.disable(ut.SCISSOR_TEST)}function gr(ce,K,de){for(var ee=0;ee<de.length;ee++)wr(ce,K,de[ee])}function wr(ce,K,de){var ee=ce.context,pe=ee.gl,Oe=de.posMatrix,Xe=ce.useProgram("debug"),ut=ir.disabled,Lt=Qt.disabled,Vt=ce.colorModeForRenderPass(),$t="$debug";ee.activeTexture.set(pe.TEXTURE0),ce.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Xe.draw(ee,pe.LINE_STRIP,ut,Lt,Vt,Dt.disabled,Qi(Oe,s.Color.red),$t,ce.debugBuffer,ce.tileBorderIndexBuffer,ce.debugSegments);var hr=K.getTileByID(de.key).latestRawTileData,fr=hr&&hr.byteLength||0,kr=Math.floor(fr/1024),Xr=K.getTile(de).tileSize,Yr=512/Math.min(Xr,512)*(de.overscaledZ/ce.transform.zoom)*.5,Wr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Wr+=" => "+de.overscaledZ);var Qr=Wr+" "+kr+"kb";lr(ce,Qr),Xe.draw(ee,pe.TRIANGLES,ut,Lt,lt.alphaBlended,Dt.disabled,Qi(Oe,s.Color.transparent,Yr),$t,ce.debugBuffer,ce.quadTriangleIndexBuffer,ce.debugSegments)}function lr(ce,K){ce.initDebugOverlayCanvas();var de=ce.debugOverlayCanvas,ee=ce.context.gl,pe=ce.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(K,5,5),pe.strokeText(K,5,5),ce.debugOverlayTexture.update(de),ce.debugOverlayTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)}function Sr(ce,K,de){var ee=ce.context,pe=de.implementation;if(ce.renderPass==="offscreen"){var Oe=pe.prerender;Oe&&(ce.setCustomLayerDefaults(),ee.setColorMode(ce.colorModeForRenderPass()),Oe.call(pe,ee.gl,ce.transform.customLayerMatrix()),ee.setDirty(),ce.setBaseState())}else if(ce.renderPass==="translucent"){ce.setCustomLayerDefaults(),ee.setColorMode(ce.colorModeForRenderPass()),ee.setStencilMode(Qt.disabled);var Xe=pe.renderingMode==="3d"?new ir(ce.context.gl.LEQUAL,ir.ReadWrite,ce.depthRangeFor3D):ce.depthModeForSublayer(0,ir.ReadOnly);ee.setDepthMode(Xe),pe.render(ee.gl,ce.transform.customLayerMatrix()),ee.setDirty(),ce.setBaseState(),ee.bindFramebuffer.set(null)}}var Ir={symbol:Yu,circle:oc,heatmap:Xs,line:Xu,fill:Rs,"fill-extrusion":bf,hillshade:yu,raster:mu,background:cl,debug:gr,custom:Sr},Ur=function(K,de){this.context=new Ht(K),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sa,this.gpuTimers={}};Ur.prototype.resize=function(K,de){if(this.width=K*s.browser.devicePixelRatio,this.height=de*s.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ee=0,pe=this.style._order;ee<pe.length;ee+=1){var Oe=pe[ee];this.style._layers[Oe].resize()}},Ur.prototype.setup=function(){var K=this.context,de=new s.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(s.EXTENT,0),de.emplaceBack(0,s.EXTENT),de.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=K.createVertexBuffer(de,Co.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);var ee=new s.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(s.EXTENT,0),ee.emplaceBack(0,s.EXTENT),ee.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=K.createVertexBuffer(ee,Co.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);var pe=new s.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(s.EXTENT,0,s.EXTENT,0),pe.emplaceBack(0,s.EXTENT,0,s.EXTENT),pe.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=K.createVertexBuffer(pe,W.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Oe=new s.StructArrayLayout2i4;Oe.emplaceBack(0,0),Oe.emplaceBack(1,0),Oe.emplaceBack(0,1),Oe.emplaceBack(1,1),this.viewportBuffer=K.createVertexBuffer(Oe,Co.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Xe=new s.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=K.createIndexBuffer(Xe);var ut=new s.StructArrayLayout3ui6;ut.emplaceBack(0,1,2),ut.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=K.createIndexBuffer(ut),this.emptyTexture=new s.Texture(K,{width:1,height:1,data:new Uint8Array([0,0,0,0])},K.gl.RGBA);var Lt=this.context.gl;this.stencilClearMode=new Qt({func:Lt.ALWAYS,mask:0},0,255,Lt.ZERO,Lt.ZERO,Lt.ZERO)},Ur.prototype.clearStencil=function(){var K=this.context,de=K.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ee=s.create();s.ortho(ee,0,this.width,this.height,0,0,1),s.scale(ee,ee,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(K,de.TRIANGLES,ir.disabled,this.stencilClearMode,lt.disabled,Dt.disabled,Ol(ee),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ur.prototype._renderTileClippingMasks=function(K,de){if(!(this.currentStencilSource===K.source||!K.isTileClipped()||!de||!de.length)){this.currentStencilSource=K.source;var ee=this.context,pe=ee.gl;this.nextStencilID+de.length>256&&this.clearStencil(),ee.setColorMode(lt.disabled),ee.setDepthMode(ir.disabled);var Oe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,ut=de;Xe<ut.length;Xe+=1){var Lt=ut[Xe],Vt=this._tileClippingMaskIDs[Lt.key]=this.nextStencilID++;Oe.draw(ee,pe.TRIANGLES,ir.disabled,new Qt({func:pe.ALWAYS,mask:0},Vt,255,pe.KEEP,pe.KEEP,pe.REPLACE),lt.disabled,Dt.disabled,Ol(Lt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ur.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var K=this.nextStencilID++,de=this.context.gl;return new Qt({func:de.NOTEQUAL,mask:255},K,255,de.KEEP,de.KEEP,de.REPLACE)},Ur.prototype.stencilModeForClipping=function(K){var de=this.context.gl;return new Qt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[K.key],0,de.KEEP,de.KEEP,de.REPLACE)},Ur.prototype.stencilConfigForOverlap=function(K){var de,ee=this.context.gl,pe=K.sort(function(Vt,$t){return $t.overscaledZ-Vt.overscaledZ}),Oe=pe[pe.length-1].overscaledZ,Xe=pe[0].overscaledZ-Oe+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var ut={},Lt=0;Lt<Xe;Lt++)ut[Lt+Oe]=new Qt({func:ee.GEQUAL,mask:255},Lt+this.nextStencilID,255,ee.KEEP,ee.KEEP,ee.REPLACE);return this.nextStencilID+=Xe,[ut,pe]}return[(de={},de[Oe]=Qt.disabled,de),pe]},Ur.prototype.colorModeForRenderPass=function(){var K=this.context.gl;if(this._showOverdrawInspector){var de=8,ee=1/de;return new lt([K.CONSTANT_COLOR,K.ONE],new s.Color(ee,ee,ee,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Ur.prototype.depthModeForSublayer=function(K,de,ee){if(!this.opaquePassEnabledForLayer())return ir.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+K)*this.depthEpsilon;return new ir(ee||this.context.gl.LEQUAL,de,[pe,pe])},Ur.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ur.prototype.render=function(K,de){var ee=this;this.style=K,this.options=de,this.lineAtlas=K.lineAtlas,this.imageManager=K.imageManager,this.glyphManager=K.glyphManager,this.symbolFadeChange=K.placement.symbolFadeChange(s.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,Oe=this.style.sourceCaches;for(var Xe in Oe){var ut=Oe[Xe];ut.used&&ut.prepare(this.context)}var Lt={},Vt={},$t={};for(var hr in Oe){var fr=Oe[hr];Lt[hr]=fr.getVisibleCoordinates(),Vt[hr]=Lt[hr].slice().reverse(),$t[hr]=fr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var kr=0;kr<pe.length;kr++){var Xr=pe[kr];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=kr;break}}this.renderPass="offscreen";for(var Yr=0,Wr=pe;Yr<Wr.length;Yr+=1){var Qr=Wr[Yr],dn=this.style._layers[Qr];if(!(!dn.hasOffscreenPass()||dn.isHidden(this.transform.zoom))){var In=Vt[dn.source];dn.type!=="custom"&&!In.length||this.renderLayer(this,Oe[dn.source],dn,In)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(K._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var Un=this.style._layers[pe[this.currentLayer]],Xn=Oe[Un.source],Zn=Lt[Un.source];this._renderTileClippingMasks(Un,Zn),this.renderLayer(this,Xn,Un,Zn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var jn=this.style._layers[pe[this.currentLayer]],Jn=Oe[jn.source],na=(jn.type==="symbol"?$t:Vt)[jn.source];this._renderTileClippingMasks(jn,Lt[jn.source]),this.renderLayer(this,Jn,jn,na)}if(this.options.showTileBoundaries){var ua,xa,da=s.values(this.style._layers);da.forEach(function(Fa){Fa.source&&!Fa.isHidden(ee.transform.zoom)&&(Fa.source!==(xa&&xa.id)&&(xa=ee.style.sourceCaches[Fa.source]),(!ua||ua.getSource().maxzoom<xa.getSource().maxzoom)&&(ua=xa))}),ua&&Ir.debug(this,ua,ua.getVisibleCoordinates())}this.options.showPadding&&gt(this),this.context.setDefault()},Ur.prototype.renderLayer=function(K,de,ee,pe){ee.isHidden(this.transform.zoom)||ee.type!=="background"&&ee.type!=="custom"&&!pe.length||(this.id=ee.id,this.gpuTimingStart(ee),Ir[ee.type](K,de,ee,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ur.prototype.gpuTimingStart=function(K){if(this.options.gpuTiming){var de=this.context.extTimerQuery,ee=this.gpuTimers[K.id];ee||(ee=this.gpuTimers[K.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),ee.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,ee.query)}},Ur.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var K=this.context.extTimerQuery;K.endQueryEXT(K.TIME_ELAPSED_EXT)}},Ur.prototype.collectGpuTimers=function(){var K=this.gpuTimers;return this.gpuTimers={},K},Ur.prototype.queryGpuTimers=function(K){var de={};for(var ee in K){var pe=K[ee],Oe=this.context.extTimerQuery,Xe=Oe.getQueryObjectEXT(pe.query,Oe.QUERY_RESULT_EXT)/(1e3*1e3);Oe.deleteQueryEXT(pe.query),de[ee]=Xe}return de},Ur.prototype.translatePosMatrix=function(K,de,ee,pe,Oe){if(!ee[0]&&!ee[1])return K;var Xe=Oe?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Xe){var ut=Math.sin(Xe),Lt=Math.cos(Xe);ee=[ee[0]*Lt-ee[1]*ut,ee[0]*ut+ee[1]*Lt]}var Vt=[Oe?ee[0]:vn(de,ee[0],this.transform.zoom),Oe?ee[1]:vn(de,ee[1],this.transform.zoom),0],$t=new Float32Array(16);return s.translate($t,K,Vt),$t},Ur.prototype.saveTileTexture=function(K){var de=this._tileTextures[K.size[0]];de?de.push(K):this._tileTextures[K.size[0]]=[K]},Ur.prototype.getTileTexture=function(K){var de=this._tileTextures[K];return de&&de.length>0?de.pop():null},Ur.prototype.isPatternMissing=function(K){if(!K)return!1;if(!K.from||!K.to)return!0;var de=this.imageManager.getPattern(K.from.toString()),ee=this.imageManager.getPattern(K.to.toString());return!de||!ee},Ur.prototype.useProgram=function(K,de){this.cache=this.cache||{};var ee=""+K+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ee]||(this.cache[ee]=new pf(this.context,K,Jf[K],de,Ys[K],this._showOverdrawInspector)),this.cache[ee]},Ur.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ur.prototype.setBaseState=function(){var K=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(K.FUNC_ADD)},Ur.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var K=this.context.gl;this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,K.RGBA)}},Ur.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var on=function(K,de){this.points=K,this.planes=de};on.fromInvProjectionMatrix=function(K,de,ee){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Oe=Math.pow(2,ee),Xe=pe.map(function(Vt){return s.transformMat4([],Vt,K)}).map(function(Vt){return s.scale$1([],Vt,1/Vt[3]/de*Oe)}),ut=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Lt=ut.map(function(Vt){var $t=s.sub([],Xe[Vt[0]],Xe[Vt[1]]),hr=s.sub([],Xe[Vt[2]],Xe[Vt[1]]),fr=s.normalize([],s.cross([],$t,hr)),kr=-s.dot(fr,Xe[Vt[1]]);return fr.concat(kr)});return new on(Xe,Lt)};var xn=function(K,de){this.min=K,this.max=de,this.center=s.scale$2([],s.add([],this.min,this.max),.5)};xn.prototype.quadrant=function(K){for(var de=[K%2===0,K<2],ee=s.clone$2(this.min),pe=s.clone$2(this.max),Oe=0;Oe<de.length;Oe++)ee[Oe]=de[Oe]?this.min[Oe]:this.center[Oe],pe[Oe]=de[Oe]?this.center[Oe]:this.max[Oe];return pe[2]=this.max[2],new xn(ee,pe)},xn.prototype.distanceX=function(K){var de=Math.max(Math.min(this.max[0],K[0]),this.min[0]);return de-K[0]},xn.prototype.distanceY=function(K){var de=Math.max(Math.min(this.max[1],K[1]),this.min[1]);return de-K[1]},xn.prototype.intersects=function(K){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ee=!0,pe=0;pe<K.planes.length;pe++){for(var Oe=K.planes[pe],Xe=0,ut=0;ut<de.length;ut++)Xe+=s.dot$1(Oe,de[ut])>=0;if(Xe===0)return 0;Xe!==de.length&&(ee=!1)}if(ee)return 2;for(var Lt=0;Lt<3;Lt++){for(var Vt=Number.MAX_VALUE,$t=-Number.MAX_VALUE,hr=0;hr<K.points.length;hr++){var fr=K.points[hr][Lt]-this.min[Lt];Vt=Math.min(Vt,fr),$t=Math.max($t,fr)}if($t<0||Vt>this.max[Lt]-this.min[Lt])return 0}return 1};var _n=function(K,de,ee,pe){if(K===void 0&&(K=0),de===void 0&&(de=0),ee===void 0&&(ee=0),pe===void 0&&(pe=0),isNaN(K)||K<0||isNaN(de)||de<0||isNaN(ee)||ee<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=K,this.bottom=de,this.left=ee,this.right=pe};_n.prototype.interpolate=function(K,de,ee){return de.top!=null&&K.top!=null&&(this.top=s.number(K.top,de.top,ee)),de.bottom!=null&&K.bottom!=null&&(this.bottom=s.number(K.bottom,de.bottom,ee)),de.left!=null&&K.left!=null&&(this.left=s.number(K.left,de.left,ee)),de.right!=null&&K.right!=null&&(this.right=s.number(K.right,de.right,ee)),this},_n.prototype.getCenter=function(K,de){var ee=s.clamp((this.left+K-this.right)/2,0,K),pe=s.clamp((this.top+de-this.bottom)/2,0,de);return new s.Point(ee,pe)},_n.prototype.equals=function(K){return this.top===K.top&&this.bottom===K.bottom&&this.left===K.left&&this.right===K.right},_n.prototype.clone=function(){return new _n(this.top,this.bottom,this.left,this.right)},_n.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Dn=function(K,de,ee,pe,Oe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Oe===void 0?!0:Oe,this._minZoom=K||0,this._maxZoom=de||22,this._minPitch=ee??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new _n,this._posMatrixCache={},this._alignedPosMatrixCache={}},Kn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Dn.prototype.clone=function(){var K=new Dn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return K.tileSize=this.tileSize,K.latRange=this.latRange,K.width=this.width,K.height=this.height,K._center=this._center,K.zoom=this.zoom,K.angle=this.angle,K._fov=this._fov,K._pitch=this._pitch,K._unmodified=this._unmodified,K._edgeInsets=this._edgeInsets.clone(),K._calcMatrices(),K},Kn.minZoom.get=function(){return this._minZoom},Kn.minZoom.set=function(ce){this._minZoom!==ce&&(this._minZoom=ce,this.zoom=Math.max(this.zoom,ce))},Kn.maxZoom.get=function(){return this._maxZoom},Kn.maxZoom.set=function(ce){this._maxZoom!==ce&&(this._maxZoom=ce,this.zoom=Math.min(this.zoom,ce))},Kn.minPitch.get=function(){return this._minPitch},Kn.minPitch.set=function(ce){this._minPitch!==ce&&(this._minPitch=ce,this.pitch=Math.max(this.pitch,ce))},Kn.maxPitch.get=function(){return this._maxPitch},Kn.maxPitch.set=function(ce){this._maxPitch!==ce&&(this._maxPitch=ce,this.pitch=Math.min(this.pitch,ce))},Kn.renderWorldCopies.get=function(){return this._renderWorldCopies},Kn.renderWorldCopies.set=function(ce){ce===void 0?ce=!0:ce===null&&(ce=!1),this._renderWorldCopies=ce},Kn.worldSize.get=function(){return this.tileSize*this.scale},Kn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Kn.size.get=function(){return new s.Point(this.width,this.height)},Kn.bearing.get=function(){return-this.angle/Math.PI*180},Kn.bearing.set=function(ce){var K=-s.wrap(ce,-180,180)*Math.PI/180;this.angle!==K&&(this._unmodified=!1,this.angle=K,this._calcMatrices(),this.rotationMatrix=s.create$2(),s.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Kn.pitch.get=function(){return this._pitch/Math.PI*180},Kn.pitch.set=function(ce){var K=s.clamp(ce,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==K&&(this._unmodified=!1,this._pitch=K,this._calcMatrices())},Kn.fov.get=function(){return this._fov/Math.PI*180},Kn.fov.set=function(ce){ce=Math.max(.01,Math.min(60,ce)),this._fov!==ce&&(this._unmodified=!1,this._fov=ce/180*Math.PI,this._calcMatrices())},Kn.zoom.get=function(){return this._zoom},Kn.zoom.set=function(ce){var K=Math.min(Math.max(ce,this.minZoom),this.maxZoom);this._zoom!==K&&(this._unmodified=!1,this._zoom=K,this.scale=this.zoomScale(K),this.tileZoom=Math.floor(K),this.zoomFraction=K-this.tileZoom,this._constrain(),this._calcMatrices())},Kn.center.get=function(){return this._center},Kn.center.set=function(ce){ce.lat===this._center.lat&&ce.lng===this._center.lng||(this._unmodified=!1,this._center=ce,this._constrain(),this._calcMatrices())},Kn.padding.get=function(){return this._edgeInsets.toJSON()},Kn.padding.set=function(ce){this._edgeInsets.equals(ce)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ce,1),this._calcMatrices())},Kn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Dn.prototype.isPaddingEqual=function(K){return this._edgeInsets.equals(K)},Dn.prototype.interpolatePadding=function(K,de,ee){this._unmodified=!1,this._edgeInsets.interpolate(K,de,ee),this._constrain(),this._calcMatrices()},Dn.prototype.coveringZoomLevel=function(K){var de=(K.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/K.tileSize));return Math.max(0,de)},Dn.prototype.getVisibleUnwrappedCoordinates=function(K){var de=[new s.UnwrappedTileID(0,K)];if(this._renderWorldCopies)for(var ee=this.pointCoordinate(new s.Point(0,0)),pe=this.pointCoordinate(new s.Point(this.width,0)),Oe=this.pointCoordinate(new s.Point(this.width,this.height)),Xe=this.pointCoordinate(new s.Point(0,this.height)),ut=Math.floor(Math.min(ee.x,pe.x,Oe.x,Xe.x)),Lt=Math.floor(Math.max(ee.x,pe.x,Oe.x,Xe.x)),Vt=1,$t=ut-Vt;$t<=Lt+Vt;$t++)$t!==0&&de.push(new s.UnwrappedTileID($t,K));return de},Dn.prototype.coveringTiles=function(K){var de=this.coveringZoomLevel(K),ee=de;if(K.minzoom!==void 0&&de<K.minzoom)return[];K.maxzoom!==void 0&&de>K.maxzoom&&(de=K.maxzoom);var pe=s.MercatorCoordinate.fromLngLat(this.center),Oe=Math.pow(2,de),Xe=[Oe*pe.x,Oe*pe.y,0],ut=on.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Lt=K.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Lt=de);var Vt=3,$t=function(da){return{aabb:new xn([da*Oe,0,0],[(da+1)*Oe,Oe,0]),zoom:0,x:0,y:0,wrap:da,fullyVisible:!1}},hr=[],fr=[],kr=de,Xr=K.reparseOverscaled?ee:de;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)hr.push($t(-Yr)),hr.push($t(Yr));for(hr.push($t(0));hr.length>0;){var Wr=hr.pop(),Qr=Wr.x,dn=Wr.y,In=Wr.fullyVisible;if(!In){var Un=Wr.aabb.intersects(ut);if(Un===0)continue;In=Un===2}var Xn=Wr.aabb.distanceX(Xe),Zn=Wr.aabb.distanceY(Xe),jn=Math.max(Math.abs(Xn),Math.abs(Zn)),Jn=Vt+(1<<kr-Wr.zoom)-2;if(Wr.zoom===kr||jn>Jn&&Wr.zoom>=Lt){fr.push({tileID:new s.OverscaledTileID(Wr.zoom===kr?Xr:Wr.zoom,Wr.wrap,Wr.zoom,Qr,dn),distanceSq:s.sqrLen([Xe[0]-.5-Qr,Xe[1]-.5-dn])});continue}for(var na=0;na<4;na++){var ua=(Qr<<1)+na%2,xa=(dn<<1)+(na>>1);hr.push({aabb:Wr.aabb.quadrant(na),zoom:Wr.zoom+1,x:ua,y:xa,wrap:Wr.wrap,fullyVisible:In})}}return fr.sort(function(da,Fa){return da.distanceSq-Fa.distanceSq}).map(function(da){return da.tileID})},Dn.prototype.resize=function(K,de){this.width=K,this.height=de,this.pixelsToGLUnits=[2/K,-2/de],this._constrain(),this._calcMatrices()},Kn.unmodified.get=function(){return this._unmodified},Dn.prototype.zoomScale=function(K){return Math.pow(2,K)},Dn.prototype.scaleZoom=function(K){return Math.log(K)/Math.LN2},Dn.prototype.project=function(K){var de=s.clamp(K.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.Point(s.mercatorXfromLng(K.lng)*this.worldSize,s.mercatorYfromLat(de)*this.worldSize)},Dn.prototype.unproject=function(K){return new s.MercatorCoordinate(K.x/this.worldSize,K.y/this.worldSize).toLngLat()},Kn.point.get=function(){return this.project(this.center)},Dn.prototype.setLocationAtPoint=function(K,de){var ee=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),Oe=this.locationCoordinate(K),Xe=new s.MercatorCoordinate(Oe.x-(ee.x-pe.x),Oe.y-(ee.y-pe.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},Dn.prototype.locationPoint=function(K){return this.coordinatePoint(this.locationCoordinate(K))},Dn.prototype.pointLocation=function(K){return this.coordinateLocation(this.pointCoordinate(K))},Dn.prototype.locationCoordinate=function(K){return s.MercatorCoordinate.fromLngLat(K)},Dn.prototype.coordinateLocation=function(K){return K.toLngLat()},Dn.prototype.pointCoordinate=function(K){var de=0,ee=[K.x,K.y,0,1],pe=[K.x,K.y,1,1];s.transformMat4(ee,ee,this.pixelMatrixInverse),s.transformMat4(pe,pe,this.pixelMatrixInverse);var Oe=ee[3],Xe=pe[3],ut=ee[0]/Oe,Lt=pe[0]/Xe,Vt=ee[1]/Oe,$t=pe[1]/Xe,hr=ee[2]/Oe,fr=pe[2]/Xe,kr=hr===fr?0:(de-hr)/(fr-hr);return new s.MercatorCoordinate(s.number(ut,Lt,kr)/this.worldSize,s.number(Vt,$t,kr)/this.worldSize)},Dn.prototype.coordinatePoint=function(K){var de=[K.x*this.worldSize,K.y*this.worldSize,0,1];return s.transformMat4(de,de,this.pixelMatrix),new s.Point(de[0]/de[3],de[1]/de[3])},Dn.prototype.getBounds=function(){return new s.LngLatBounds().extend(this.pointLocation(new s.Point(0,0))).extend(this.pointLocation(new s.Point(this.width,0))).extend(this.pointLocation(new s.Point(this.width,this.height))).extend(this.pointLocation(new s.Point(0,this.height)))},Dn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Dn.prototype.setMaxBounds=function(K){K?(this.lngRange=[K.getWest(),K.getEast()],this.latRange=[K.getSouth(),K.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Dn.prototype.calculatePosMatrix=function(K,de){de===void 0&&(de=!1);var ee=K.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[ee])return pe[ee];var Oe=K.canonical,Xe=this.worldSize/this.zoomScale(Oe.z),ut=Oe.x+Math.pow(2,Oe.z)*K.wrap,Lt=s.identity(new Float64Array(16));return s.translate(Lt,Lt,[ut*Xe,Oe.y*Xe,0]),s.scale(Lt,Lt,[Xe/s.EXTENT,Xe/s.EXTENT,1]),s.multiply(Lt,de?this.alignedProjMatrix:this.projMatrix,Lt),pe[ee]=new Float32Array(Lt),pe[ee]},Dn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Dn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var K=-90,de=90,ee=-180,pe=180,Oe,Xe,ut,Lt,Vt=this.size,$t=this._unmodified;if(this.latRange){var hr=this.latRange;K=s.mercatorYfromLat(hr[1])*this.worldSize,de=s.mercatorYfromLat(hr[0])*this.worldSize,Oe=de-K<Vt.y?Vt.y/(de-K):0}if(this.lngRange){var fr=this.lngRange;ee=s.mercatorXfromLng(fr[0])*this.worldSize,pe=s.mercatorXfromLng(fr[1])*this.worldSize,Xe=pe-ee<Vt.x?Vt.x/(pe-ee):0}var kr=this.point,Xr=Math.max(Xe||0,Oe||0);if(Xr){this.center=this.unproject(new s.Point(Xe?(pe+ee)/2:kr.x,Oe?(de+K)/2:kr.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=$t,this._constraining=!1;return}if(this.latRange){var Yr=kr.y,Wr=Vt.y/2;Yr-Wr<K&&(Lt=K+Wr),Yr+Wr>de&&(Lt=de-Wr)}if(this.lngRange){var Qr=kr.x,dn=Vt.x/2;Qr-dn<ee&&(ut=ee+dn),Qr+dn>pe&&(ut=pe-dn)}(ut!==void 0||Lt!==void 0)&&(this.center=this.unproject(new s.Point(ut!==void 0?ut:kr.x,Lt!==void 0?Lt:kr.y))),this._unmodified=$t,this._constraining=!1}},Dn.prototype._calcMatrices=function(){if(this.height){var K=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(K)*this.height;var ee=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),Oe=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(s.clamp(Math.PI-ee-pe,.01,Math.PI-.01)),Xe=this.point,ut=Xe.x,Lt=Xe.y,Vt=Math.cos(Math.PI/2-this._pitch)*Oe+this.cameraToCenterDistance,$t=Vt*1.01,hr=this.height/50,fr=new Float64Array(16);s.perspective(fr,this._fov,this.width/this.height,hr,$t),fr[8]=-de.x*2/this.width,fr[9]=de.y*2/this.height,s.scale(fr,fr,[1,-1,1]),s.translate(fr,fr,[0,0,-this.cameraToCenterDistance]),s.rotateX(fr,fr,this._pitch),s.rotateZ(fr,fr,this.angle),s.translate(fr,fr,[-ut,-Lt,0]),this.mercatorMatrix=s.scale([],fr,[this.worldSize,this.worldSize,this.worldSize]),s.scale(fr,fr,[1,1,s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=fr,this.invProjMatrix=s.invert([],this.projMatrix);var kr=this.width%2/2,Xr=this.height%2/2,Yr=Math.cos(this.angle),Wr=Math.sin(this.angle),Qr=ut-Math.round(ut)+Yr*kr+Wr*Xr,dn=Lt-Math.round(Lt)+Yr*Xr+Wr*kr,In=new Float64Array(fr);if(s.translate(In,In,[Qr>.5?Qr-1:Qr,dn>.5?dn-1:dn,0]),this.alignedProjMatrix=In,fr=s.create(),s.scale(fr,fr,[this.width/2,-this.height/2,1]),s.translate(fr,fr,[1,-1,0]),this.labelPlaneMatrix=fr,fr=s.create(),s.scale(fr,fr,[1,-1,1]),s.translate(fr,fr,[-1,-1,0]),s.scale(fr,fr,[2/this.width,2/this.height,1]),this.glCoordMatrix=fr,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),fr=s.invert(new Float64Array(16),this.pixelMatrix),!fr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=fr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Dn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var K=this.pointCoordinate(new s.Point(0,0)),de=[K.x*this.worldSize,K.y*this.worldSize,0,1],ee=s.transformMat4(de,de,this.pixelMatrix);return ee[3]/this.cameraToCenterDistance},Dn.prototype.getCameraPoint=function(){var K=this._pitch,de=Math.tan(K)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,de))},Dn.prototype.getCameraQueryGeometry=function(K){var de=this.getCameraPoint();if(K.length===1)return[K[0],de];for(var ee=de.x,pe=de.y,Oe=de.x,Xe=de.y,ut=0,Lt=K;ut<Lt.length;ut+=1){var Vt=Lt[ut];ee=Math.min(ee,Vt.x),pe=Math.min(pe,Vt.y),Oe=Math.max(Oe,Vt.x),Xe=Math.max(Xe,Vt.y)}return[new s.Point(ee,pe),new s.Point(Oe,pe),new s.Point(Oe,Xe),new s.Point(ee,Xe),new s.Point(ee,pe)]},Object.defineProperties(Dn.prototype,Kn);function Ra(ce,K){var de=!1,ee=null,pe=function(){ee=null,de&&(ce(),ee=setTimeout(pe,K),de=!1)};return function(){return de=!0,ee||pe(),ee}}var Da=function(K){this._hashName=K&&encodeURIComponent(K),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ra(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(K){return this._map=K,s.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return s.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(K){var de=this._map.getCenter(),ee=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((ee*Math.LN2+Math.log(512/360/.5))/Math.LN10),Oe=Math.pow(10,pe),Xe=Math.round(de.lng*Oe)/Oe,ut=Math.round(de.lat*Oe)/Oe,Lt=this._map.getBearing(),Vt=this._map.getPitch(),$t="";if(K?$t+="/"+Xe+"/"+ut+"/"+ee:$t+=ee+"/"+ut+"/"+Xe,(Lt||Vt)&&($t+="/"+Math.round(Lt*10)/10),Vt&&($t+="/"+Math.round(Vt)),this._hashName){var hr=this._hashName,fr=!1,kr=s.window.location.hash.slice(1).split("&").map(function(Xr){var Yr=Xr.split("=")[0];return Yr===hr?(fr=!0,Yr+"="+$t):Xr}).filter(function(Xr){return Xr});return fr||kr.push(hr+"="+$t),"#"+kr.join("&")}return"#"+$t},Da.prototype._getCurrentHash=function(){var K=this,de=s.window.location.hash.replace("#","");if(this._hashName){var ee;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===K._hashName&&(ee=pe)}),(ee&&ee[1]||"").split("/")}return de.split("/")},Da.prototype._onHashChange=function(){var K=this._getCurrentHash();if(K.length>=3&&!K.some(function(ee){return isNaN(ee)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(K[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+K[2],+K[1]],zoom:+K[0],bearing:de,pitch:+(K[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var K=s.window.location.href.replace(/(#.+)?$/,this.getHashString());try{s.window.history.replaceState(s.window.history.state,null,K)}catch{}};var ka={linearity:.3,easing:s.bezier(0,0,.3,1)},Na=s.extend({deceleration:2500,maxSpeed:1400},ka),Ka=s.extend({deceleration:20,maxSpeed:1400},ka),di=s.extend({deceleration:1e3,maxSpeed:360},ka),zi=s.extend({deceleration:1e3,maxSpeed:90},ka),ue=function(K){this._map=K,this.clear()};ue.prototype.clear=function(){this._inertiaBuffer=[]},ue.prototype.record=function(K){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.browser.now(),settings:K})},ue.prototype._drainInertiaBuffer=function(){for(var K=this._inertiaBuffer,de=s.browser.now(),ee=160;K.length>0&&de-K[0].time>ee;)K.shift()},ue.prototype._onMoveEnd=function(K){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0},ee=0,pe=this._inertiaBuffer;ee<pe.length;ee+=1){var Oe=pe[ee],Xe=Oe.settings;de.zoom+=Xe.zoomDelta||0,de.bearing+=Xe.bearingDelta||0,de.pitch+=Xe.pitchDelta||0,Xe.panDelta&&de.pan._add(Xe.panDelta),Xe.around&&(de.around=Xe.around),Xe.pinchAround&&(de.pinchAround=Xe.pinchAround)}var ut=this._inertiaBuffer[this._inertiaBuffer.length-1],Lt=ut.time-this._inertiaBuffer[0].time,Vt={};if(de.pan.mag()){var $t=Be(de.pan.mag(),Lt,s.extend({},Na,K||{}));Vt.offset=de.pan.mult($t.amount/de.pan.mag()),Vt.center=this._map.transform.center,Ae(Vt,$t)}if(de.zoom){var hr=Be(de.zoom,Lt,Ka);Vt.zoom=this._map.transform.zoom+hr.amount,Ae(Vt,hr)}if(de.bearing){var fr=Be(de.bearing,Lt,di);Vt.bearing=this._map.transform.bearing+s.clamp(fr.amount,-179,179),Ae(Vt,fr)}if(de.pitch){var kr=Be(de.pitch,Lt,zi);Vt.pitch=this._map.transform.pitch+kr.amount,Ae(Vt,kr)}if(Vt.zoom||Vt.bearing){var Xr=de.pinchAround===void 0?de.around:de.pinchAround;Vt.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),s.extend(Vt,{noMoveStart:!0})}};function Ae(ce,K){(!ce.duration||ce.duration<K.duration)&&(ce.duration=K.duration,ce.easing=K.easing)}function Be(ce,K,de){var ee=de.maxSpeed,pe=de.linearity,Oe=de.deceleration,Xe=s.clamp(ce*pe/(K/1e3),-ee,ee),ut=Math.abs(Xe)/(Oe*pe);return{easing:de.easing,duration:ut*1e3,amount:Xe*(ut/2)}}var et=function(ce){function K(ee,pe,Oe,Xe){Xe===void 0&&(Xe={});var ut=S.mousePos(pe.getCanvasContainer(),Oe),Lt=pe.unproject(ut);ce.call(this,ee,s.extend({point:ut,lngLat:Lt,originalEvent:Oe},Xe)),this._defaultPrevented=!1,this.target=pe}ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K;var de={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,de),K}(s.Event),nt=function(ce){function K(ee,pe,Oe){var Xe=ee==="touchend"?Oe.changedTouches:Oe.touches,ut=S.touchPos(pe.getCanvasContainer(),Xe),Lt=ut.map(function(hr){return pe.unproject(hr)}),Vt=ut.reduce(function(hr,fr,kr,Xr){return hr.add(fr.div(Xr.length))},new s.Point(0,0)),$t=pe.unproject(Vt);ce.call(this,ee,{points:ut,point:Vt,lngLats:Lt,lngLat:$t,originalEvent:Oe}),this._defaultPrevented=!1}ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K;var de={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,de),K}(s.Event),ft=function(ce){function K(ee,pe,Oe){ce.call(this,ee,{originalEvent:Oe}),this._defaultPrevented=!1}ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K;var de={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,de),K}(s.Event),Pt=function(K,de){this._map=K,this._clickTolerance=de.clickTolerance};Pt.prototype.reset=function(){delete this._mousedownPos},Pt.prototype.wheel=function(K){return this._firePreventable(new ft(K.type,this._map,K))},Pt.prototype.mousedown=function(K,de){return this._mousedownPos=de,this._firePreventable(new et(K.type,this._map,K))},Pt.prototype.mouseup=function(K){this._map.fire(new et(K.type,this._map,K))},Pt.prototype.click=function(K,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new et(K.type,this._map,K))},Pt.prototype.dblclick=function(K){return this._firePreventable(new et(K.type,this._map,K))},Pt.prototype.mouseover=function(K){this._map.fire(new et(K.type,this._map,K))},Pt.prototype.mouseout=function(K){this._map.fire(new et(K.type,this._map,K))},Pt.prototype.touchstart=function(K){return this._firePreventable(new nt(K.type,this._map,K))},Pt.prototype.touchmove=function(K){this._map.fire(new nt(K.type,this._map,K))},Pt.prototype.touchend=function(K){this._map.fire(new nt(K.type,this._map,K))},Pt.prototype.touchcancel=function(K){this._map.fire(new nt(K.type,this._map,K))},Pt.prototype._firePreventable=function(K){if(this._map.fire(K),K.defaultPrevented)return{}},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var St=function(K){this._map=K};St.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},St.prototype.mousemove=function(K){this._map.fire(new et(K.type,this._map,K))},St.prototype.mousedown=function(){this._delayContextMenu=!0},St.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new et("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},St.prototype.contextmenu=function(K){this._delayContextMenu?this._contextMenuEvent=K:this._map.fire(new et(K.type,this._map,K)),this._map.listens("contextmenu")&&K.preventDefault()},St.prototype.isEnabled=function(){return!0},St.prototype.isActive=function(){return!1},St.prototype.enable=function(){},St.prototype.disable=function(){};var Gt=function(K,de){this._map=K,this._el=K.getCanvasContainer(),this._container=K.getContainer(),this._clickTolerance=de.clickTolerance||1};Gt.prototype.isEnabled=function(){return!!this._enabled},Gt.prototype.isActive=function(){return!!this._active},Gt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Gt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Gt.prototype.mousedown=function(K,de){this.isEnabled()&&K.shiftKey&&K.button===0&&(S.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},Gt.prototype.mousemoveWindow=function(K,de){if(this._active){var ee=de;if(!(this._lastPos.equals(ee)||!this._box&&ee.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=ee,this._box||(this._box=S.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",K));var Oe=Math.min(pe.x,ee.x),Xe=Math.max(pe.x,ee.x),ut=Math.min(pe.y,ee.y),Lt=Math.max(pe.y,ee.y);S.setTransform(this._box,"translate("+Oe+"px,"+ut+"px)"),this._box.style.width=Xe-Oe+"px",this._box.style.height=Lt-ut+"px"}}},Gt.prototype.mouseupWindow=function(K,de){var ee=this;if(this._active&&K.button===0){var pe=this._startPos,Oe=de;if(this.reset(),S.suppressClick(),pe.x===Oe.x&&pe.y===Oe.y)this._fireEvent("boxzoomcancel",K);else return this._map.fire(new s.Event("boxzoomend",{originalEvent:K})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(pe,Oe,ee._map.getBearing(),{linear:!0})}}}},Gt.prototype.keydown=function(K){this._active&&K.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",K))},Gt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},Gt.prototype._fireEvent=function(K,de){return this._map.fire(new s.Event(K,{originalEvent:de}))};function jt(ce,K){for(var de={},ee=0;ee<ce.length;ee++)de[ce[ee].identifier]=K[ee];return de}function nr(ce){for(var K=new s.Point(0,0),de=0,ee=ce;de<ee.length;de+=1){var pe=ee[de];K._add(pe)}return K.div(ce.length)}var Lr=500,Pr=500,$r=30,sn=function(K){this.reset(),this.numTouches=K.numTouches};sn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},sn.prototype.touchstart=function(K,de,ee){(this.centroid||ee.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=K.timeStamp),ee.length===this.numTouches&&(this.centroid=nr(de),this.touches=jt(ee,de)))},sn.prototype.touchmove=function(K,de,ee){if(!(this.aborted||!this.centroid)){var pe=jt(ee,de);for(var Oe in this.touches){var Xe=this.touches[Oe],ut=pe[Oe];(!ut||ut.dist(Xe)>$r)&&(this.aborted=!0)}}},sn.prototype.touchend=function(K,de,ee){if((!this.centroid||K.timeStamp-this.startTime>Pr)&&(this.aborted=!0),ee.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var Rr=function(K){this.singleTap=new sn(K),this.numTaps=K.numTaps,this.reset()};Rr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Rr.prototype.touchstart=function(K,de,ee){this.singleTap.touchstart(K,de,ee)},Rr.prototype.touchmove=function(K,de,ee){this.singleTap.touchmove(K,de,ee)},Rr.prototype.touchend=function(K,de,ee){var pe=this.singleTap.touchend(K,de,ee);if(pe){var Oe=K.timeStamp-this.lastTime<Lr,Xe=!this.lastTap||this.lastTap.dist(pe)<$r;if((!Oe||!Xe)&&this.reset(),this.count++,this.lastTime=K.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Vr=function(){this._zoomIn=new Rr({numTouches:1,numTaps:2}),this._zoomOut=new Rr({numTouches:2,numTaps:1}),this.reset()};Vr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vr.prototype.touchstart=function(K,de,ee){this._zoomIn.touchstart(K,de,ee),this._zoomOut.touchstart(K,de,ee)},Vr.prototype.touchmove=function(K,de,ee){this._zoomIn.touchmove(K,de,ee),this._zoomOut.touchmove(K,de,ee)},Vr.prototype.touchend=function(K,de,ee){var pe=this,Oe=this._zoomIn.touchend(K,de,ee),Xe=this._zoomOut.touchend(K,de,ee);if(Oe)return this._active=!0,K.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()+1,around:ut.unproject(Oe)},{originalEvent:K})}};if(Xe)return this._active=!0,K.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()-1,around:ut.unproject(Xe)},{originalEvent:K})}}},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Kr=0,hn=2,pn={};pn[Kr]=1,pn[hn]=2;function rn(ce,K){var de=pn[K];return ce.buttons===void 0||(ce.buttons&de)!==de}var Gn=function(K){this.reset(),this._clickTolerance=K.clickTolerance||1};Gn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Gn.prototype._correctButton=function(K,de){return!1},Gn.prototype._move=function(K,de){return{}},Gn.prototype.mousedown=function(K,de){if(!this._lastPoint){var ee=S.mouseButton(K);this._correctButton(K,ee)&&(this._lastPoint=de,this._eventButton=ee)}},Gn.prototype.mousemoveWindow=function(K,de){var ee=this._lastPoint;if(ee){if(K.preventDefault(),rn(K,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(ee)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(ee,de)}},Gn.prototype.mouseupWindow=function(K){if(this._lastPoint){var de=S.mouseButton(K);de===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}},Gn.prototype.enable=function(){this._enabled=!0},Gn.prototype.disable=function(){this._enabled=!1,this.reset()},Gn.prototype.isEnabled=function(){return this._enabled},Gn.prototype.isActive=function(){return this._active};var ra=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.mousedown=function(ee,pe){ce.prototype.mousedown.call(this,ee,pe),this._lastPoint&&(this._active=!0)},K.prototype._correctButton=function(ee,pe){return pe===Kr&&!ee.ctrlKey},K.prototype._move=function(ee,pe){return{around:pe,panDelta:pe.sub(ee)}},K}(Gn),fa=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(ee,pe){return pe===Kr&&ee.ctrlKey||pe===hn},K.prototype._move=function(ee,pe){var Oe=.8,Xe=(pe.x-ee.x)*Oe;if(Xe)return this._active=!0,{bearingDelta:Xe}},K.prototype.contextmenu=function(ee){ee.preventDefault()},K}(Gn),ea=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(ee,pe){return pe===Kr&&ee.ctrlKey||pe===hn},K.prototype._move=function(ee,pe){var Oe=-.5,Xe=(pe.y-ee.y)*Oe;if(Xe)return this._active=!0,{pitchDelta:Xe}},K.prototype.contextmenu=function(ee){ee.preventDefault()},K}(Gn),oa=function(K){this._minTouches=1,this._clickTolerance=K.clickTolerance||1,this.reset()};oa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)},oa.prototype.touchstart=function(K,de,ee){return this._calculateTransform(K,de,ee)},oa.prototype.touchmove=function(K,de,ee){if(!(!this._active||ee.length<this._minTouches))return K.preventDefault(),this._calculateTransform(K,de,ee)},oa.prototype.touchend=function(K,de,ee){this._calculateTransform(K,de,ee),this._active&&ee.length<this._minTouches&&this.reset()},oa.prototype.touchcancel=function(){this.reset()},oa.prototype._calculateTransform=function(K,de,ee){ee.length>0&&(this._active=!0);var pe=jt(ee,de),Oe=new s.Point(0,0),Xe=new s.Point(0,0),ut=0;for(var Lt in pe){var Vt=pe[Lt],$t=this._touches[Lt];$t&&(Oe._add(Vt),Xe._add(Vt.sub($t)),ut++,pe[Lt]=Vt)}if(this._touches=pe,!(ut<this._minTouches||!Xe.mag())){var hr=Xe.div(ut);if(this._sum._add(hr),!(this._sum.mag()<this._clickTolerance)){var fr=Oe.div(ut);return{around:fr,panDelta:hr}}}},oa.prototype.enable=function(){this._enabled=!0},oa.prototype.disable=function(){this._enabled=!1,this.reset()},oa.prototype.isEnabled=function(){return this._enabled},oa.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(K){},ca.prototype._move=function(K,de,ee){return{}},ca.prototype.touchstart=function(K,de,ee){this._firstTwoTouches||ee.length<2||(this._firstTwoTouches=[ee[0].identifier,ee[1].identifier],this._start([de[0],de[1]]))},ca.prototype.touchmove=function(K,de,ee){if(this._firstTwoTouches){K.preventDefault();var pe=this._firstTwoTouches,Oe=pe[0],Xe=pe[1],ut=Ua(ee,de,Oe),Lt=Ua(ee,de,Xe);if(!(!ut||!Lt)){var Vt=this._aroundCenter?null:ut.add(Lt).div(2);return this._move([ut,Lt],Vt,K)}}},ca.prototype.touchend=function(K,de,ee){if(this._firstTwoTouches){var pe=this._firstTwoTouches,Oe=pe[0],Xe=pe[1],ut=Ua(ee,de,Oe),Lt=Ua(ee,de,Xe);ut&&Lt||(this._active&&S.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(K){this._enabled=!0,this._aroundCenter=!!K&&K.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function Ua(ce,K,de){for(var ee=0;ee<ce.length;ee++)if(ce[ee].identifier===de)return K[ee]}var Ca=.1;function Oa(ce,K){return Math.log(ce/K)/Math.LN2}var ii=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ce.prototype.reset.call(this),delete this._distance,delete this._startDistance},K.prototype._start=function(ee){this._startDistance=this._distance=ee[0].dist(ee[1])},K.prototype._move=function(ee,pe){var Oe=this._distance;if(this._distance=ee[0].dist(ee[1]),!(!this._active&&Math.abs(Oa(this._distance,this._startDistance))<Ca))return this._active=!0,{zoomDelta:Oa(this._distance,Oe),pinchAround:pe}},K}(ca),Fi=25;function ci(ce,K){return ce.angleWith(K)*180/Math.PI}var qn=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ce.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},K.prototype._start=function(ee){this._startVector=this._vector=ee[0].sub(ee[1]),this._minDiameter=ee[0].dist(ee[1])},K.prototype._move=function(ee,pe){var Oe=this._vector;if(this._vector=ee[0].sub(ee[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ci(this._vector,Oe),pinchAround:pe}},K.prototype._isBelowThreshold=function(ee){this._minDiameter=Math.min(this._minDiameter,ee.mag());var pe=Math.PI*this._minDiameter,Oe=Fi/pe*360,Xe=ci(ee,this._startVector);return Math.abs(Xe)<Oe},K}(ca);function Ha(ce){return Math.abs(ce.y)>Math.abs(ce.x)}var Ma=100,Ja=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.reset=function(){ce.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},K.prototype._start=function(ee){this._lastPoints=ee,Ha(ee[0].sub(ee[1]))&&(this._valid=!1)},K.prototype._move=function(ee,pe,Oe){var Xe=ee[0].sub(this._lastPoints[0]),ut=ee[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,ut,Oe.timeStamp),!!this._valid){this._lastPoints=ee,this._active=!0;var Lt=(Xe.y+ut.y)/2,Vt=-.5;return{pitchDelta:Lt*Vt}}},K.prototype.gestureBeginsVertically=function(ee,pe,Oe){if(this._valid!==void 0)return this._valid;var Xe=2,ut=ee.mag()>=Xe,Lt=pe.mag()>=Xe;if(!(!ut&&!Lt)){if(!ut||!Lt)return this._firstMove===void 0&&(this._firstMove=Oe),Oe-this._firstMove<Ma?void 0:!1;var Vt=ee.y>0==pe.y>0;return Ha(ee)&&Ha(pe)&&Vt}},K}(ca),wi={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var K=wi;this._panStep=K.panStep,this._bearingStep=K.bearingStep,this._pitchStep=K.pitchStep,this._rotationDisabled=!1};oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(K){var de=this;if(!(K.altKey||K.ctrlKey||K.metaKey)){var ee=0,pe=0,Oe=0,Xe=0,ut=0;switch(K.keyCode){case 61:case 107:case 171:case 187:ee=1;break;case 189:case 109:case 173:ee=-1;break;case 37:K.shiftKey?pe=-1:(K.preventDefault(),Xe=-1);break;case 39:K.shiftKey?pe=1:(K.preventDefault(),Xe=1);break;case 38:K.shiftKey?Oe=1:(K.preventDefault(),ut=-1);break;case 40:K.shiftKey?Oe=-1:(K.preventDefault(),ut=1);break;default:return}return this._rotationDisabled&&(pe=0,Oe=0),{cameraAnimation:function(Lt){var Vt=Lt.getZoom();Lt.easeTo({duration:300,easeId:"keyboardHandler",easing:$i,zoom:ee?Math.round(Vt)+ee*(K.shiftKey?2:1):Vt,bearing:Lt.getBearing()+pe*de._bearingStep,pitch:Lt.getPitch()+Oe*de._pitchStep,offset:[-Xe*de._panStep,-ut*de._panStep],center:Lt.getCenter()},{originalEvent:K})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};function $i(ce){return ce*(2-ce)}var qi=4.000244140625,ao=1/100,Ti=1/450,go=2,la=function(K,de){this._map=K,this._el=K.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=ao,this._wheelZoomRate=Ti,s.bindAll(["_onTimeout"],this)};la.prototype.setZoomRate=function(K){this._defaultZoomRate=K},la.prototype.setWheelZoomRate=function(K){this._wheelZoomRate=K},la.prototype.isEnabled=function(){return!!this._enabled},la.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},la.prototype.isZooming=function(){return!!this._zooming},la.prototype.enable=function(K){this.isEnabled()||(this._enabled=!0,this._aroundCenter=K&&K.around==="center")},la.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},la.prototype.wheel=function(K){if(this.isEnabled()){var de=K.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?K.deltaY*40:K.deltaY,ee=s.browser.now(),pe=ee-(this._lastWheelEventTime||0);this._lastWheelEventTime=ee,de!==0&&de%qi===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,K)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),K.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=K,this._delta-=de,this._active||this._start(K)),K.preventDefault()}},la.prototype._onTimeout=function(K){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(K)},la.prototype._start=function(K){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=S.mousePos(this._el,K);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},la.prototype.renderFrame=function(){var K=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var ee=this._type==="wheel"&&Math.abs(this._delta)>qi?this._wheelZoomRate:this._defaultZoomRate,pe=go/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&pe!==0&&(pe=1/pe);var Oe=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(Oe*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ut=this._startZoom,Lt=this._easing,Vt=!1,$t;if(this._type==="wheel"&&ut&&Lt){var hr=Math.min((s.browser.now()-this._lastWheelEventTime)/200,1),fr=Lt(hr);$t=s.number(ut,Xe,fr),hr<1?this._frameId||(this._frameId=!0):Vt=!0}else $t=Xe,Vt=!0;return this._active=!0,Vt&&(this._active=!1,this._finishTimeout=setTimeout(function(){K._zooming=!1,K._handler._triggerRenderFrame(),delete K._targetZoom,delete K._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Vt,zoomDelta:$t-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},la.prototype._smoothOutEasing=function(K){var de=s.ease;if(this._prevEase){var ee=this._prevEase,pe=(s.browser.now()-ee.start)/ee.duration,Oe=ee.easing(pe+.01)-ee.easing(pe),Xe=.27/Math.sqrt(Oe*Oe+1e-4)*.01,ut=Math.sqrt(.27*.27-Xe*Xe);de=s.bezier(Xe,ut,.25,1)}return this._prevEase={start:s.browser.now(),duration:K,easing:de},de},la.prototype.reset=function(){this._active=!1};var Pa=function(K,de){this._clickZoom=K,this._tapZoom=de};Pa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Pa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Pa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Pa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ro=function(){this.reset()};Ro.prototype.reset=function(){this._active=!1},Ro.prototype.dblclick=function(K,de){return K.preventDefault(),{cameraAnimation:function(ee){ee.easeTo({duration:300,zoom:ee.getZoom()+(K.shiftKey?-1:1),around:ee.unproject(de)},{originalEvent:K})}}},Ro.prototype.enable=function(){this._enabled=!0},Ro.prototype.disable=function(){this._enabled=!1,this.reset()},Ro.prototype.isEnabled=function(){return this._enabled},Ro.prototype.isActive=function(){return this._active};var Fo=function(){this._tap=new Rr({numTouches:1,numTaps:1}),this.reset()};Fo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Fo.prototype.touchstart=function(K,de,ee){this._swipePoint||(this._tapTime&&K.timeStamp-this._tapTime>Lr&&this.reset(),this._tapTime?ee.length>0&&(this._swipePoint=de[0],this._swipeTouch=ee[0].identifier):this._tap.touchstart(K,de,ee))},Fo.prototype.touchmove=function(K,de,ee){if(!this._tapTime)this._tap.touchmove(K,de,ee);else if(this._swipePoint){if(ee[0].identifier!==this._swipeTouch)return;var pe=de[0],Oe=pe.y-this._swipePoint.y;return this._swipePoint=pe,K.preventDefault(),this._active=!0,{zoomDelta:Oe/128}}},Fo.prototype.touchend=function(K,de,ee){if(this._tapTime)this._swipePoint&&ee.length===0&&this.reset();else{var pe=this._tap.touchend(K,de,ee);pe&&(this._tapTime=K.timeStamp)}},Fo.prototype.touchcancel=function(){this.reset()},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var io=function(K,de,ee){this._el=K,this._mousePan=de,this._touchPan=ee};io.prototype.enable=function(K){this._inertiaOptions=K||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},io.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},io.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},io.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var hi=function(K,de,ee){this._pitchWithRotate=K.pitchWithRotate,this._mouseRotate=de,this._mousePitch=ee};hi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},hi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},hi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},hi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Wi=function(K,de,ee,pe){this._el=K,this._touchZoom=de,this._touchRotate=ee,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Wi.prototype.enable=function(K){this._touchZoom.enable(K),this._rotationDisabled||this._touchRotate.enable(K),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Wi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Wi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Wi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Wi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Wi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ni=function(ce){return ce.zoom||ce.drag||ce.pitch||ce.rotate},ps=function(ce){function K(){ce.apply(this,arguments)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K}(s.Event);function Ds(ce){return ce.panDelta&&ce.panDelta.mag()||ce.zoomDelta||ce.bearingDelta||ce.pitchDelta}var Li=function(K,de){this._map=K,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ue(K),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),s.bindAll(["handleEvent","handleWindowEvent"],this);var ee=this._el;this._listeners=[[ee,"touchstart",{passive:!0}],[ee,"touchmove",{passive:!1}],[ee,"touchend",void 0],[ee,"touchcancel",void 0],[ee,"mousedown",void 0],[ee,"mousemove",void 0],[ee,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[ee,"mouseover",void 0],[ee,"mouseout",void 0],[ee,"dblclick",void 0],[ee,"click",void 0],[ee,"keydown",{capture:!1}],[ee,"keyup",void 0],[ee,"wheel",{passive:!1}],[ee,"contextmenu",void 0],[s.window,"blur",void 0]];for(var pe=0,Oe=this._listeners;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe[0],Lt=Xe[1],Vt=Xe[2];S.addEventListener(ut,Lt,ut===s.window.document?this.handleWindowEvent:this.handleEvent,Vt)}};Li.prototype.destroy=function(){for(var K=0,de=this._listeners;K<de.length;K+=1){var ee=de[K],pe=ee[0],Oe=ee[1],Xe=ee[2];S.removeEventListener(pe,Oe,pe===s.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},Li.prototype._addDefaultHandlers=function(K){var de=this._map,ee=de.getCanvasContainer();this._add("mapEvent",new Pt(de,K));var pe=de.boxZoom=new Gt(de,K);this._add("boxZoom",pe);var Oe=new Vr,Xe=new Ro;de.doubleClickZoom=new Pa(Xe,Oe),this._add("tapZoom",Oe),this._add("clickZoom",Xe);var ut=new Fo;this._add("tapDragZoom",ut);var Lt=de.touchPitch=new Ja;this._add("touchPitch",Lt);var Vt=new fa(K),$t=new ea(K);de.dragRotate=new hi(K,Vt,$t),this._add("mouseRotate",Vt,["mousePitch"]),this._add("mousePitch",$t,["mouseRotate"]);var hr=new ra(K),fr=new oa(K);de.dragPan=new io(ee,hr,fr),this._add("mousePan",hr),this._add("touchPan",fr,["touchZoom","touchRotate"]);var kr=new qn,Xr=new ii;de.touchZoomRotate=new Wi(ee,Xr,kr,ut),this._add("touchRotate",kr,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var Yr=de.scrollZoom=new la(de,this);this._add("scrollZoom",Yr,["mousePan"]);var Wr=de.keyboard=new oi;this._add("keyboard",Wr),this._add("blockableMapEvent",new St(de));for(var Qr=0,dn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<dn.length;Qr+=1){var In=dn[Qr];K.interactive&&K[In]&&de[In].enable(K[In])}},Li.prototype._add=function(K,de,ee){this._handlers.push({handlerName:K,handler:de,allowed:ee}),this._handlersById[K]=de},Li.prototype.stop=function(K){if(!this._updatingCamera){for(var de=0,ee=this._handlers;de<ee.length;de+=1){var pe=ee[de],Oe=pe.handler;Oe.reset()}this._inertia.clear(),this._fireEvents({},{},K),this._changes=[]}},Li.prototype.isActive=function(){for(var K=0,de=this._handlers;K<de.length;K+=1){var ee=de[K],pe=ee.handler;if(pe.isActive())return!0}return!1},Li.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Li.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Li.prototype.isMoving=function(){return!!Ni(this._eventsInProgress)||this.isZooming()},Li.prototype._blockedByActive=function(K,de,ee){for(var pe in K)if(pe!==ee&&(!de||de.indexOf(pe)<0))return!0;return!1},Li.prototype.handleWindowEvent=function(K){this.handleEvent(K,K.type+"Window")},Li.prototype._getMapTouches=function(K){for(var de=[],ee=0,pe=K;ee<pe.length;ee+=1){var Oe=pe[ee],Xe=Oe.target;this._el.contains(Xe)&&de.push(Oe)}return de},Li.prototype.handleEvent=function(K,de){if(K.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ee=K.type==="renderFrame"?void 0:K,pe={needsRenderFrame:!1},Oe={},Xe={},ut=K.touches?this._getMapTouches(K.touches):void 0,Lt=ut?S.touchPos(this._el,ut):S.mousePos(this._el,K),Vt=0,$t=this._handlers;Vt<$t.length;Vt+=1){var hr=$t[Vt],fr=hr.handlerName,kr=hr.handler,Xr=hr.allowed;if(kr.isEnabled()){var Yr=void 0;this._blockedByActive(Xe,Xr,fr)?kr.reset():kr[de||K.type]&&(Yr=kr[de||K.type](K,Lt,ut),this.mergeHandlerResult(pe,Oe,Yr,fr,ee),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||kr.isActive())&&(Xe[fr]=kr)}}var Wr={};for(var Qr in this._previousActiveHandlers)Xe[Qr]||(Wr[Qr]=ee);this._previousActiveHandlers=Xe,(Object.keys(Wr).length||Ds(pe))&&(this._changes.push([pe,Oe,Wr]),this._triggerRenderFrame()),(Object.keys(Xe).length||Ds(pe))&&this._map._stop(!0),this._updatingCamera=!1;var dn=pe.cameraAnimation;dn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],dn(this._map))},Li.prototype.mergeHandlerResult=function(K,de,ee,pe,Oe){if(ee){s.extend(K,ee);var Xe={handlerName:pe,originalEvent:ee.originalEvent||Oe};ee.zoomDelta!==void 0&&(de.zoom=Xe),ee.panDelta!==void 0&&(de.drag=Xe),ee.pitchDelta!==void 0&&(de.pitch=Xe),ee.bearingDelta!==void 0&&(de.rotate=Xe)}},Li.prototype._applyChanges=function(){for(var K={},de={},ee={},pe=0,Oe=this._changes;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe[0],Lt=Xe[1],Vt=Xe[2];ut.panDelta&&(K.panDelta=(K.panDelta||new s.Point(0,0))._add(ut.panDelta)),ut.zoomDelta&&(K.zoomDelta=(K.zoomDelta||0)+ut.zoomDelta),ut.bearingDelta&&(K.bearingDelta=(K.bearingDelta||0)+ut.bearingDelta),ut.pitchDelta&&(K.pitchDelta=(K.pitchDelta||0)+ut.pitchDelta),ut.around!==void 0&&(K.around=ut.around),ut.pinchAround!==void 0&&(K.pinchAround=ut.pinchAround),ut.noInertia&&(K.noInertia=ut.noInertia),s.extend(de,Lt),s.extend(ee,Vt)}this._updateMapTransform(K,de,ee),this._changes=[]},Li.prototype._updateMapTransform=function(K,de,ee){var pe=this._map,Oe=pe.transform;if(!Ds(K))return this._fireEvents(de,ee,!0);var Xe=K.panDelta,ut=K.zoomDelta,Lt=K.bearingDelta,Vt=K.pitchDelta,$t=K.around,hr=K.pinchAround;hr!==void 0&&($t=hr),pe._stop(!0),$t=$t||pe.transform.centerPoint;var fr=Oe.pointLocation(Xe?$t.sub(Xe):$t);Lt&&(Oe.bearing+=Lt),Vt&&(Oe.pitch+=Vt),ut&&(Oe.zoom+=ut),Oe.setLocationAtPoint(fr,$t),this._map._update(),K.noInertia||this._inertia.record(K),this._fireEvents(de,ee,!0)},Li.prototype._fireEvents=function(K,de,ee){var pe=this,Oe=Ni(this._eventsInProgress),Xe=Ni(K),ut={};for(var Lt in K){var Vt=K[Lt],$t=Vt.originalEvent;this._eventsInProgress[Lt]||(ut[Lt+"start"]=$t),this._eventsInProgress[Lt]=K[Lt]}!Oe&&Xe&&this._fireEvent("movestart",Xe.originalEvent);for(var hr in ut)this._fireEvent(hr,ut[hr]);Xe&&this._fireEvent("move",Xe.originalEvent);for(var fr in K){var kr=K[fr],Xr=kr.originalEvent;this._fireEvent(fr,Xr)}var Yr={},Wr;for(var Qr in this._eventsInProgress){var dn=this._eventsInProgress[Qr],In=dn.handlerName,Un=dn.originalEvent;this._handlersById[In].isActive()||(delete this._eventsInProgress[Qr],Wr=de[In]||Un,Yr[Qr+"end"]=Wr)}for(var Xn in Yr)this._fireEvent(Xn,Yr[Xn]);var Zn=Ni(this._eventsInProgress);if(ee&&(Oe||Xe)&&!Zn){this._updatingCamera=!0;var jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jn=function(na){return na!==0&&-pe._bearingSnap<na&&na<pe._bearingSnap};jn?(Jn(jn.bearing||this._map.getBearing())&&(jn.bearing=0),this._map.easeTo(jn,{originalEvent:Wr})):(this._map.fire(new s.Event("moveend",{originalEvent:Wr})),Jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Li.prototype._fireEvent=function(K,de){this._map.fire(new s.Event(K,de?{originalEvent:de}:{}))},Li.prototype._requestFrame=function(){var K=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete K._frameId,K.handleEvent(new ps("renderFrame",{timeStamp:de})),K._applyChanges()})},Li.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Gl=function(ce){function K(de,ee){ce.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=ee.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.getCenter=function(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)},K.prototype.setCenter=function(ee,pe){return this.jumpTo({center:ee},pe)},K.prototype.panBy=function(ee,pe,Oe){return ee=s.Point.convert(ee).mult(-1),this.panTo(this.transform.center,s.extend({offset:ee},pe),Oe)},K.prototype.panTo=function(ee,pe,Oe){return this.easeTo(s.extend({center:ee},pe),Oe)},K.prototype.getZoom=function(){return this.transform.zoom},K.prototype.setZoom=function(ee,pe){return this.jumpTo({zoom:ee},pe),this},K.prototype.zoomTo=function(ee,pe,Oe){return this.easeTo(s.extend({zoom:ee},pe),Oe)},K.prototype.zoomIn=function(ee,pe){return this.zoomTo(this.getZoom()+1,ee,pe),this},K.prototype.zoomOut=function(ee,pe){return this.zoomTo(this.getZoom()-1,ee,pe),this},K.prototype.getBearing=function(){return this.transform.bearing},K.prototype.setBearing=function(ee,pe){return this.jumpTo({bearing:ee},pe),this},K.prototype.getPadding=function(){return this.transform.padding},K.prototype.setPadding=function(ee,pe){return this.jumpTo({padding:ee},pe),this},K.prototype.rotateTo=function(ee,pe,Oe){return this.easeTo(s.extend({bearing:ee},pe),Oe)},K.prototype.resetNorth=function(ee,pe){return this.rotateTo(0,s.extend({duration:1e3},ee),pe),this},K.prototype.resetNorthPitch=function(ee,pe){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},ee),pe),this},K.prototype.snapToNorth=function(ee,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ee,pe):this},K.prototype.getPitch=function(){return this.transform.pitch},K.prototype.setPitch=function(ee,pe){return this.jumpTo({pitch:ee},pe),this},K.prototype.cameraForBounds=function(ee,pe){ee=s.LngLatBounds.convert(ee);var Oe=pe&&pe.bearing||0;return this._cameraForBoxAndBearing(ee.getNorthWest(),ee.getSouthEast(),Oe,pe)},K.prototype._cameraForBoxAndBearing=function(ee,pe,Oe,Xe){var ut={top:0,bottom:0,right:0,left:0};if(Xe=s.extend({padding:ut,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var Lt=Xe.padding;Xe.padding={top:Lt,bottom:Lt,right:Lt,left:Lt}}Xe.padding=s.extend(ut,Xe.padding);var Vt=this.transform,$t=Vt.padding,hr=Vt.project(s.LngLat.convert(ee)),fr=Vt.project(s.LngLat.convert(pe)),kr=hr.rotate(-Oe*Math.PI/180),Xr=fr.rotate(-Oe*Math.PI/180),Yr=new s.Point(Math.max(kr.x,Xr.x),Math.max(kr.y,Xr.y)),Wr=new s.Point(Math.min(kr.x,Xr.x),Math.min(kr.y,Xr.y)),Qr=Yr.sub(Wr),dn=(Vt.width-($t.left+$t.right+Xe.padding.left+Xe.padding.right))/Qr.x,In=(Vt.height-($t.top+$t.bottom+Xe.padding.top+Xe.padding.bottom))/Qr.y;if(In<0||dn<0){s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Un=Math.min(Vt.scaleZoom(Vt.scale*Math.min(dn,In)),Xe.maxZoom),Xn=typeof Xe.offset.x=="number"?new s.Point(Xe.offset.x,Xe.offset.y):s.Point.convert(Xe.offset),Zn=(Xe.padding.left-Xe.padding.right)/2,jn=(Xe.padding.top-Xe.padding.bottom)/2,Jn=new s.Point(Zn,jn),na=Jn.rotate(Oe*Math.PI/180),ua=Xn.add(na),xa=ua.mult(Vt.scale/Vt.zoomScale(Un)),da=Vt.unproject(hr.add(fr).div(2).sub(xa));return{center:da,zoom:Un,bearing:Oe}},K.prototype.fitBounds=function(ee,pe,Oe){return this._fitInternal(this.cameraForBounds(ee,pe),pe,Oe)},K.prototype.fitScreenCoordinates=function(ee,pe,Oe,Xe,ut){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.Point.convert(ee)),this.transform.pointLocation(s.Point.convert(pe)),Oe,Xe),Xe,ut)},K.prototype._fitInternal=function(ee,pe,Oe){return ee?(pe=s.extend(ee,pe),delete pe.padding,pe.linear?this.easeTo(pe,Oe):this.flyTo(pe,Oe)):this},K.prototype.jumpTo=function(ee,pe){this.stop();var Oe=this.transform,Xe=!1,ut=!1,Lt=!1;return"zoom"in ee&&Oe.zoom!==+ee.zoom&&(Xe=!0,Oe.zoom=+ee.zoom),ee.center!==void 0&&(Oe.center=s.LngLat.convert(ee.center)),"bearing"in ee&&Oe.bearing!==+ee.bearing&&(ut=!0,Oe.bearing=+ee.bearing),"pitch"in ee&&Oe.pitch!==+ee.pitch&&(Lt=!0,Oe.pitch=+ee.pitch),ee.padding!=null&&!Oe.isPaddingEqual(ee.padding)&&(Oe.padding=ee.padding),this.fire(new s.Event("movestart",pe)).fire(new s.Event("move",pe)),Xe&&this.fire(new s.Event("zoomstart",pe)).fire(new s.Event("zoom",pe)).fire(new s.Event("zoomend",pe)),ut&&this.fire(new s.Event("rotatestart",pe)).fire(new s.Event("rotate",pe)).fire(new s.Event("rotateend",pe)),Lt&&this.fire(new s.Event("pitchstart",pe)).fire(new s.Event("pitch",pe)).fire(new s.Event("pitchend",pe)),this.fire(new s.Event("moveend",pe))},K.prototype.easeTo=function(ee,pe){var Oe=this;this._stop(!1,ee.easeId),ee=s.extend({offset:[0,0],duration:500,easing:s.ease},ee),(ee.animate===!1||!ee.essential&&s.browser.prefersReducedMotion)&&(ee.duration=0);var Xe=this.transform,ut=this.getZoom(),Lt=this.getBearing(),Vt=this.getPitch(),$t=this.getPadding(),hr="zoom"in ee?+ee.zoom:ut,fr="bearing"in ee?this._normalizeBearing(ee.bearing,Lt):Lt,kr="pitch"in ee?+ee.pitch:Vt,Xr="padding"in ee?ee.padding:Xe.padding,Yr=s.Point.convert(ee.offset),Wr=Xe.centerPoint.add(Yr),Qr=Xe.pointLocation(Wr),dn=s.LngLat.convert(ee.center||Qr);this._normalizeCenter(dn);var In=Xe.project(Qr),Un=Xe.project(dn).sub(In),Xn=Xe.zoomScale(hr-ut),Zn,jn;ee.around&&(Zn=s.LngLat.convert(ee.around),jn=Xe.locationPoint(Zn));var Jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||hr!==ut,this._rotating=this._rotating||Lt!==fr,this._pitching=this._pitching||kr!==Vt,this._padding=!Xe.isPaddingEqual(Xr),this._easeId=ee.easeId,this._prepareEase(pe,ee.noMoveStart,Jn),this._ease(function(na){if(Oe._zooming&&(Xe.zoom=s.number(ut,hr,na)),Oe._rotating&&(Xe.bearing=s.number(Lt,fr,na)),Oe._pitching&&(Xe.pitch=s.number(Vt,kr,na)),Oe._padding&&(Xe.interpolatePadding($t,Xr,na),Wr=Xe.centerPoint.add(Yr)),Zn)Xe.setLocationAtPoint(Zn,jn);else{var ua=Xe.zoomScale(Xe.zoom-ut),xa=hr>ut?Math.min(2,Xn):Math.max(.5,Xn),da=Math.pow(xa,1-na),Fa=Xe.unproject(In.add(Un.mult(na*da)).mult(ua));Xe.setLocationAtPoint(Xe.renderWorldCopies?Fa.wrap():Fa,Wr)}Oe._fireMoveEvents(pe)},function(na){Oe._afterEase(pe,na)},ee),this},K.prototype._prepareEase=function(ee,pe,Oe){Oe===void 0&&(Oe={}),this._moving=!0,!pe&&!Oe.moving&&this.fire(new s.Event("movestart",ee)),this._zooming&&!Oe.zooming&&this.fire(new s.Event("zoomstart",ee)),this._rotating&&!Oe.rotating&&this.fire(new s.Event("rotatestart",ee)),this._pitching&&!Oe.pitching&&this.fire(new s.Event("pitchstart",ee))},K.prototype._fireMoveEvents=function(ee){this.fire(new s.Event("move",ee)),this._zooming&&this.fire(new s.Event("zoom",ee)),this._rotating&&this.fire(new s.Event("rotate",ee)),this._pitching&&this.fire(new s.Event("pitch",ee))},K.prototype._afterEase=function(ee,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var Oe=this._zooming,Xe=this._rotating,ut=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Oe&&this.fire(new s.Event("zoomend",ee)),Xe&&this.fire(new s.Event("rotateend",ee)),ut&&this.fire(new s.Event("pitchend",ee)),this.fire(new s.Event("moveend",ee))}},K.prototype.flyTo=function(ee,pe){var Oe=this;if(!ee.essential&&s.browser.prefersReducedMotion){var Xe=s.pick(ee,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,pe)}this.stop(),ee=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},ee);var ut=this.transform,Lt=this.getZoom(),Vt=this.getBearing(),$t=this.getPitch(),hr=this.getPadding(),fr="zoom"in ee?s.clamp(+ee.zoom,ut.minZoom,ut.maxZoom):Lt,kr="bearing"in ee?this._normalizeBearing(ee.bearing,Vt):Vt,Xr="pitch"in ee?+ee.pitch:$t,Yr="padding"in ee?ee.padding:ut.padding,Wr=ut.zoomScale(fr-Lt),Qr=s.Point.convert(ee.offset),dn=ut.centerPoint.add(Qr),In=ut.pointLocation(dn),Un=s.LngLat.convert(ee.center||In);this._normalizeCenter(Un);var Xn=ut.project(In),Zn=ut.project(Un).sub(Xn),jn=ee.curve,Jn=Math.max(ut.width,ut.height),na=Jn/Wr,ua=Zn.mag();if("minZoom"in ee){var xa=s.clamp(Math.min(ee.minZoom,Lt,fr),ut.minZoom,ut.maxZoom),da=Jn/ut.zoomScale(xa-Lt);jn=Math.sqrt(da/ua*2)}var Fa=jn*jn;function qa(Wa){var ei=(na*na-Jn*Jn+(Wa?-1:1)*Fa*Fa*ua*ua)/(2*(Wa?na:Jn)*Fa*ua);return Math.log(Math.sqrt(ei*ei+1)-ei)}function Xa(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ea(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Za(Wa){return Xa(Wa)/Ea(Wa)}var Ga=qa(0),si=function(Wa){return Ea(Ga)/Ea(Ga+jn*Wa)},ri=function(Wa){return Jn*((Ea(Ga)*Za(Ga+jn*Wa)-Xa(Ga))/Fa)/ua},Si=(qa(1)-Ga)/jn;if(Math.abs(ua)<1e-6||!isFinite(Si)){if(Math.abs(Jn-na)<1e-6)return this.easeTo(ee,pe);var $a=na<Jn?-1:1;Si=Math.abs(Math.log(na/Jn))/jn,ri=function(){return 0},si=function(Wa){return Math.exp($a*jn*Wa)}}if("duration"in ee)ee.duration=+ee.duration;else{var mi="screenSpeed"in ee?+ee.screenSpeed/jn:+ee.speed;ee.duration=1e3*Si/mi}return ee.maxDuration&&ee.duration>ee.maxDuration&&(ee.duration=0),this._zooming=!0,this._rotating=Vt!==kr,this._pitching=Xr!==$t,this._padding=!ut.isPaddingEqual(Yr),this._prepareEase(pe,!1),this._ease(function(Wa){var ei=Wa*Si,Bi=1/si(ei);ut.zoom=Wa===1?fr:Lt+ut.scaleZoom(Bi),Oe._rotating&&(ut.bearing=s.number(Vt,kr,Wa)),Oe._pitching&&(ut.pitch=s.number($t,Xr,Wa)),Oe._padding&&(ut.interpolatePadding(hr,Yr,Wa),dn=ut.centerPoint.add(Qr));var yo=Wa===1?Un:ut.unproject(Xn.add(Zn.mult(ri(ei))).mult(Bi));ut.setLocationAtPoint(ut.renderWorldCopies?yo.wrap():yo,dn),Oe._fireMoveEvents(pe)},function(){return Oe._afterEase(pe)},ee),this},K.prototype.isEasing=function(){return!!this._easeFrameId},K.prototype.stop=function(){return this._stop()},K.prototype._stop=function(ee,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Oe=this._onEaseEnd;delete this._onEaseEnd,Oe.call(this,pe)}if(!ee){var Xe=this.handlers;Xe&&Xe.stop(!1)}return this},K.prototype._ease=function(ee,pe,Oe){Oe.animate===!1||Oe.duration===0?(ee(1),pe()):(this._easeStart=s.browser.now(),this._easeOptions=Oe,this._onEaseFrame=ee,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},K.prototype._renderFrameCallback=function(){var ee=Math.min((s.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ee)),ee<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},K.prototype._normalizeBearing=function(ee,pe){ee=s.wrap(ee,-180,180);var Oe=Math.abs(ee-pe);return Math.abs(ee-360-pe)<Oe&&(ee-=360),Math.abs(ee+360-pe)<Oe&&(ee+=360),ee},K.prototype._normalizeCenter=function(ee){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var Oe=ee.lng-pe.center.lng;ee.lng+=Oe>180?-360:Oe<-180?360:0}},K}(s.Evented),Qa=function(K){K===void 0&&(K={}),this.options=K,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Qa.prototype.getDefaultPosition=function(){return"bottom-right"},Qa.prototype.onAdd=function(K){var de=this.options&&this.options.compact;return this._map=K,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Qa.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Qa.prototype._setElementTitle=function(K,de){var ee=this._map._getUIString("AttributionControl."+de);K.title=ee,K.setAttribute("aria-label",ee)},Qa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Qa.prototype._updateEditLink=function(){var K=this._editLink;K||(K=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(K){var ee=de.reduce(function(pe,Oe,Xe){return Oe.value&&(pe+=Oe.key+"="+Oe.value+(Xe<de.length-1?"&":"")),pe},"?");K.href=s.config.FEEDBACK_URL+"/"+ee+(this._map._hash?this._map._hash.getHashString(!0):""),K.rel="noopener nofollow",this._setElementTitle(K,"MapFeedback")}},Qa.prototype._updateData=function(K){K&&(K.sourceDataType==="metadata"||K.sourceDataType==="visibility"||K.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Qa.prototype._updateAttributions=function(){if(this._map.style){var K=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?K=K.concat(this.options.customAttribution.map(function(Lt){return typeof Lt!="string"?"":Lt})):typeof this.options.customAttribution=="string"&&K.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var ee=this._map.style.sourceCaches;for(var pe in ee){var Oe=ee[pe];if(Oe.used){var Xe=Oe.getSource();Xe.attribution&&K.indexOf(Xe.attribution)<0&&K.push(Xe.attribution)}}K.sort(function(Lt,Vt){return Lt.length-Vt.length}),K=K.filter(function(Lt,Vt){for(var $t=Vt+1;$t<K.length;$t++)if(K[$t].indexOf(Lt)>=0)return!1;return!0});var ut=K.join(" | ");ut!==this._attribHTML&&(this._attribHTML=ut,K.length?(this._innerContainer.innerHTML=ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Qa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Pi=function(){s.bindAll(["_updateLogo"],this),s.bindAll(["_updateCompact"],this)};Pi.prototype.onAdd=function(K){this._map=K,this._container=S.create("div","mapboxgl-ctrl");var de=S.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Pi.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Pi.prototype.getDefaultPosition=function(){return"bottom-left"},Pi.prototype._updateLogo=function(K){(!K||K.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Pi.prototype._logoRequired=function(){if(this._map.style){var K=this._map.style.sourceCaches;for(var de in K){var ee=K[de].getSource();if(ee.mapbox_logo)return!0}return!1}},Pi.prototype._updateCompact=function(){var K=this._container.children;if(K.length){var de=K[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var uh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};uh.prototype.add=function(K){var de=++this._id,ee=this._queue;return ee.push({callback:K,id:de,cancelled:!1}),de},uh.prototype.remove=function(K){for(var de=this._currentlyRunning,ee=de?this._queue.concat(de):this._queue,pe=0,Oe=ee;pe<Oe.length;pe+=1){var Xe=Oe[pe];if(Xe.id===K){Xe.cancelled=!0;return}}},uh.prototype.run=function(K){K===void 0&&(K=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var ee=0,pe=de;ee<pe.length;ee+=1){var Oe=pe[ee];if(!Oe.cancelled&&(Oe.callback(K),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},uh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Jd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Af=s.window.HTMLImageElement,Fv=s.window.HTMLElement,Ku=s.window.ImageBitmap,uc=-2,fc=22,ts=0,Ju=60,Nv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:uc,maxZoom:fc,minPitch:ts,maxPitch:Ju,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Bv=function(ce){function K(ee){var pe=this;if(ee=s.extend({},Nv,ee),ee.minZoom!=null&&ee.maxZoom!=null&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ee.minPitch!=null&&ee.maxPitch!=null&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ee.minPitch!=null&&ee.minPitch<ts)throw new Error("minPitch must be greater than or equal to "+ts);if(ee.maxPitch!=null&&ee.maxPitch>Ju)throw new Error("maxPitch must be less than or equal to "+Ju);var Oe=new Dn(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(ce.call(this,Oe,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new uh,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Jd,ee.locale),this._clickTolerance=ee.clickTolerance,this._requestManager=new s.RequestManager(ee.transformRequest,ee.accessToken),typeof ee.container=="string"){if(this._container=s.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else if(ee.container instanceof Fv)this._container=ee.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof s.window<"u"&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Li(this,ee);var Xe=typeof ee.hash=="string"&&ee.hash||void 0;this._hash=ee.hash&&new Da(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,s.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new Qa({customAttribution:ee.customAttribution})),this.addControl(new Pi,ee.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(ut){pe._update(ut.dataType==="style"),pe.fire(new s.Event(ut.dataType+"data",ut))}),this.on("dataloading",function(ut){pe.fire(new s.Event(ut.dataType+"dataloading",ut))})}ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return K.prototype._getMapId=function(){return this._mapId},K.prototype.addControl=function(pe,Oe){if(Oe===void 0&&(pe.getDefaultPosition?Oe=pe.getDefaultPosition():Oe="top-right"),!pe||!pe.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=pe.onAdd(this);this._controls.push(pe);var ut=this._controlPositions[Oe];return Oe.indexOf("bottom")!==-1?ut.insertBefore(Xe,ut.firstChild):ut.appendChild(Xe),this},K.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Oe=this._controls.indexOf(pe);return Oe>-1&&this._controls.splice(Oe,1),pe.onRemove(this),this},K.prototype.hasControl=function(pe){return this._controls.indexOf(pe)>-1},K.prototype.resize=function(pe){var Oe=this._containerDimensions(),Xe=Oe[0],ut=Oe[1];this._resizeCanvas(Xe,ut),this.transform.resize(Xe,ut),this.painter.resize(Xe,ut);var Lt=!this._moving;return Lt&&(this.stop(),this.fire(new s.Event("movestart",pe)).fire(new s.Event("move",pe))),this.fire(new s.Event("resize",pe)),Lt&&this.fire(new s.Event("moveend",pe)),this},K.prototype.getBounds=function(){return this.transform.getBounds()},K.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},K.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(s.LngLatBounds.convert(pe)),this._update()},K.prototype.setMinZoom=function(pe){if(pe=pe??uc,pe>=uc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+uc+" and the current maxZoom, inclusive")},K.prototype.getMinZoom=function(){return this.transform.minZoom},K.prototype.setMaxZoom=function(pe){if(pe=pe??fc,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},K.prototype.getMaxZoom=function(){return this.transform.maxZoom},K.prototype.setMinPitch=function(pe){if(pe=pe??ts,pe<ts)throw new Error("minPitch must be greater than or equal to "+ts);if(pe>=ts&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+ts+" and the current maxPitch, inclusive")},K.prototype.getMinPitch=function(){return this.transform.minPitch},K.prototype.setMaxPitch=function(pe){if(pe=pe??Ju,pe>Ju)throw new Error("maxPitch must be less than or equal to "+Ju);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},K.prototype.getMaxPitch=function(){return this.transform.maxPitch},K.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},K.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},K.prototype.project=function(pe){return this.transform.locationPoint(s.LngLat.convert(pe))},K.prototype.unproject=function(pe){return this.transform.pointLocation(s.Point.convert(pe))},K.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},K.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},K.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},K.prototype._createDelegatedListener=function(pe,Oe,Xe){var ut=this,Lt;if(pe==="mouseenter"||pe==="mouseover"){var Vt=!1,$t=function(Wr){var Qr=ut.getLayer(Oe)?ut.queryRenderedFeatures(Wr.point,{layers:[Oe]}):[];Qr.length?Vt||(Vt=!0,Xe.call(ut,new et(pe,ut,Wr.originalEvent,{features:Qr}))):Vt=!1},hr=function(){Vt=!1};return{layer:Oe,listener:Xe,delegates:{mousemove:$t,mouseout:hr}}}else if(pe==="mouseleave"||pe==="mouseout"){var fr=!1,kr=function(Wr){var Qr=ut.getLayer(Oe)?ut.queryRenderedFeatures(Wr.point,{layers:[Oe]}):[];Qr.length?fr=!0:fr&&(fr=!1,Xe.call(ut,new et(pe,ut,Wr.originalEvent)))},Xr=function(Wr){fr&&(fr=!1,Xe.call(ut,new et(pe,ut,Wr.originalEvent)))};return{layer:Oe,listener:Xe,delegates:{mousemove:kr,mouseout:Xr}}}else{var Yr=function(Wr){var Qr=ut.getLayer(Oe)?ut.queryRenderedFeatures(Wr.point,{layers:[Oe]}):[];Qr.length&&(Wr.features=Qr,Xe.call(ut,Wr),delete Wr.features)};return{layer:Oe,listener:Xe,delegates:(Lt={},Lt[pe]=Yr,Lt)}}},K.prototype.on=function(pe,Oe,Xe){if(Xe===void 0)return ce.prototype.on.call(this,pe,Oe);var ut=this._createDelegatedListener(pe,Oe,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(ut);for(var Lt in ut.delegates)this.on(Lt,ut.delegates[Lt]);return this},K.prototype.once=function(pe,Oe,Xe){if(Xe===void 0)return ce.prototype.once.call(this,pe,Oe);var ut=this._createDelegatedListener(pe,Oe,Xe);for(var Lt in ut.delegates)this.once(Lt,ut.delegates[Lt]);return this},K.prototype.off=function(pe,Oe,Xe){var ut=this;if(Xe===void 0)return ce.prototype.off.call(this,pe,Oe);var Lt=function(Vt){for(var $t=Vt[pe],hr=0;hr<$t.length;hr++){var fr=$t[hr];if(fr.layer===Oe&&fr.listener===Xe){for(var kr in fr.delegates)ut.off(kr,fr.delegates[kr]);return $t.splice(hr,1),ut}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&Lt(this._delegatedListeners),this},K.prototype.queryRenderedFeatures=function(pe,Oe){if(!this.style)return[];Oe===void 0&&pe!==void 0&&!(pe instanceof s.Point)&&!Array.isArray(pe)&&(Oe=pe,pe=void 0),Oe=Oe||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(pe instanceof s.Point||typeof pe[0]=="number")Xe=[s.Point.convert(pe)];else{var ut=s.Point.convert(pe[0]),Lt=s.Point.convert(pe[1]);Xe=[ut,new s.Point(Lt.x,ut.y),Lt,new s.Point(ut.x,Lt.y),ut]}return this.style.queryRenderedFeatures(Xe,Oe,this.transform)},K.prototype.querySourceFeatures=function(pe,Oe){return this.style.querySourceFeatures(pe,Oe)},K.prototype.setStyle=function(pe,Oe){return Oe=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Oe),Oe.diff!==!1&&Oe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,Oe),this):(this._localIdeographFontFamily=Oe.localIdeographFontFamily,this._updateStyle(pe,Oe))},K.prototype._getUIString=function(pe){var Oe=this._locale[pe];if(Oe==null)throw new Error("Missing UI string '"+pe+"'");return Oe},K.prototype._updateStyle=function(pe,Oe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new ko(this,Oe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},K.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ko(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},K.prototype._diffStyle=function(pe,Oe){var Xe=this;if(typeof pe=="string"){var ut=this._requestManager.normalizeStyleURL(pe),Lt=this._requestManager.transformRequest(ut,s.ResourceType.Style);s.getJSON(Lt,function(Vt,$t){Vt?Xe.fire(new s.ErrorEvent(Vt)):$t&&Xe._updateDiff($t,Oe)})}else typeof pe=="object"&&this._updateDiff(pe,Oe)},K.prototype._updateDiff=function(pe,Oe){try{this.style.setState(pe)&&this._update(!0)}catch(Xe){s.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(pe,Oe)}},K.prototype.getStyle=function(){if(this.style)return this.style.serialize()},K.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")},K.prototype.addSource=function(pe,Oe){return this._lazyInitEmptyStyle(),this.style.addSource(pe,Oe),this._update(!0)},K.prototype.isSourceLoaded=function(pe){var Oe=this.style&&this.style.sourceCaches[pe];if(Oe===void 0){this.fire(new s.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return Oe.loaded()},K.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var Oe in pe){var Xe=pe[Oe],ut=Xe._tiles;for(var Lt in ut){var Vt=ut[Lt];if(!(Vt.state==="loaded"||Vt.state==="errored"))return!1}}return!0},K.prototype.addSourceType=function(pe,Oe,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,Oe,Xe)},K.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},K.prototype.getSource=function(pe){return this.style.getSource(pe)},K.prototype.addImage=function(pe,Oe,Xe){Xe===void 0&&(Xe={});var ut=Xe.pixelRatio;ut===void 0&&(ut=1);var Lt=Xe.sdf;Lt===void 0&&(Lt=!1);var Vt=Xe.stretchX,$t=Xe.stretchY,hr=Xe.content;this._lazyInitEmptyStyle();var fr=0;if(Oe instanceof Af||Ku&&Oe instanceof Ku){var kr=s.browser.getImageData(Oe),Xr=kr.width,Yr=kr.height,Wr=kr.data;this.style.addImage(pe,{data:new s.RGBAImage({width:Xr,height:Yr},Wr),pixelRatio:ut,stretchX:Vt,stretchY:$t,content:hr,sdf:Lt,version:fr})}else{if(Oe.width===void 0||Oe.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=Oe.width,dn=Oe.height,In=Oe.data,Un=Oe;this.style.addImage(pe,{data:new s.RGBAImage({width:Qr,height:dn},new Uint8Array(In)),pixelRatio:ut,stretchX:Vt,stretchY:$t,content:hr,sdf:Lt,version:fr,userImage:Un}),Un.onAdd&&Un.onAdd(this,pe)}},K.prototype.updateImage=function(pe,Oe){var Xe=this.style.getImage(pe);if(!Xe)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ut=Oe instanceof Af||Ku&&Oe instanceof Ku?s.browser.getImageData(Oe):Oe,Lt=ut.width,Vt=ut.height,$t=ut.data;if(Lt===void 0||Vt===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Lt!==Xe.data.width||Vt!==Xe.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var hr=!(Oe instanceof Af||Ku&&Oe instanceof Ku);Xe.data.replace($t,hr),this.style.updateImage(pe,Xe)},K.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)},K.prototype.removeImage=function(pe){this.style.removeImage(pe)},K.prototype.loadImage=function(pe,Oe){s.getImage(this._requestManager.transformRequest(pe,s.ResourceType.Image),Oe)},K.prototype.listImages=function(){return this.style.listImages()},K.prototype.addLayer=function(pe,Oe){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,Oe),this._update(!0)},K.prototype.moveLayer=function(pe,Oe){return this.style.moveLayer(pe,Oe),this._update(!0)},K.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},K.prototype.getLayer=function(pe){return this.style.getLayer(pe)},K.prototype.setLayerZoomRange=function(pe,Oe,Xe){return this.style.setLayerZoomRange(pe,Oe,Xe),this._update(!0)},K.prototype.setFilter=function(pe,Oe,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(pe,Oe,Xe),this._update(!0)},K.prototype.getFilter=function(pe){return this.style.getFilter(pe)},K.prototype.setPaintProperty=function(pe,Oe,Xe,ut){return ut===void 0&&(ut={}),this.style.setPaintProperty(pe,Oe,Xe,ut),this._update(!0)},K.prototype.getPaintProperty=function(pe,Oe){return this.style.getPaintProperty(pe,Oe)},K.prototype.setLayoutProperty=function(pe,Oe,Xe,ut){return ut===void 0&&(ut={}),this.style.setLayoutProperty(pe,Oe,Xe,ut),this._update(!0)},K.prototype.getLayoutProperty=function(pe,Oe){return this.style.getLayoutProperty(pe,Oe)},K.prototype.setLight=function(pe,Oe){return Oe===void 0&&(Oe={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,Oe),this._update(!0)},K.prototype.getLight=function(){return this.style.getLight()},K.prototype.setFeatureState=function(pe,Oe){return this.style.setFeatureState(pe,Oe),this._update()},K.prototype.removeFeatureState=function(pe,Oe){return this.style.removeFeatureState(pe,Oe),this._update()},K.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},K.prototype.getContainer=function(){return this._container},K.prototype.getCanvasContainer=function(){return this._canvasContainer},K.prototype.getCanvas=function(){return this._canvas},K.prototype._containerDimensions=function(){var pe=0,Oe=0;return this._container&&(pe=this._container.clientWidth||400,Oe=this._container.clientHeight||300),[pe,Oe]},K.prototype._detectMissingCSS=function(){var pe=s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},K.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var Oe=this._missingCSSCanary=S.create("div","mapboxgl-canary",pe);Oe.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=S.create("div","mapboxgl-canvas-container",pe);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=S.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ut=this._containerDimensions();this._resizeCanvas(ut[0],ut[1]);var Lt=this._controlContainer=S.create("div","mapboxgl-control-container",pe),Vt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function($t){Vt[$t]=S.create("div","mapboxgl-ctrl-"+$t,Lt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},K.prototype._resizeCanvas=function(pe,Oe){var Xe=s.browser.devicePixelRatio||1;this._canvas.width=Xe*pe,this._canvas.height=Xe*Oe,this._canvas.style.width=pe+"px",this._canvas.style.height=Oe+"px"},K.prototype._setupPainter=function(){var pe=s.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Oe=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!Oe){this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Ur(Oe,this.transform),s.webpSupported.testSupport(Oe)},K.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:pe}))},K.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:pe}))},K.prototype._onMapScroll=function(pe){if(pe.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},K.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},K.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},K.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},K.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},K.prototype._render=function(pe){var Oe=this,Xe,ut=0,Lt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=Lt.createQueryEXT(),Lt.beginQueryEXT(Lt.TIME_ELAPSED_EXT,Xe),ut=s.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Vt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var $t=this.transform.zoom,hr=s.browser.now();this.style.zoomHistory.update($t,hr);var fr=new s.EvaluationParameters($t,{now:hr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kr=fr.crossFadingFactor();(kr!==1||kr!==this._crossFadingFactor)&&(Vt=!0,this._crossFadingFactor=kr),this.style.update(fr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||Vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=s.browser.now()-ut;Lt.endQueryEXT(Lt.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var Qr=Lt.getQueryObjectEXT(Xe,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(Xe),Oe.fire(new s.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=Oe.painter.queryGpuTimers(Yr);Oe.fire(new s.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var Wr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Wr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),this._loaded&&!this._fullyLoaded&&!Wr&&(this._fullyLoaded=!0),this}},K.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,Oe=this._controls;pe<Oe.length;pe+=1){var Xe=Oe[pe];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof s.window<"u"&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));var ut=this.painter.context.gl.getExtension("WEBGL_lose_context");ut&&ut.loseContext&&ut.loseContext(),fh(this._canvasContainer),fh(this._controlContainer),fh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new s.Event("remove"))},K.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=s.browser.frame(function(Oe){pe._frame=null,pe._render(Oe)}))},K.prototype._onWindowOnline=function(){this._update()},K.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(ee){this._vertices=ee,this._update()},K.prototype._setCacheLimits=function(pe,Oe){s.setCacheLimits(pe,Oe)},de.version.get=function(){return s.version},Object.defineProperties(K.prototype,de),K}(Gl);function fh(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}var kh={showCompass:!0,showZoom:!0,visualizePitch:!1},bu=function(K){var de=this;this.options=s.extend({},kh,K),this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ee){return ee.preventDefault()}),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ee){return de._map.zoomIn({},{originalEvent:ee})}),S.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ee){return de._map.zoomOut({},{originalEvent:ee})}),S.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ee){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:ee}):de._map.resetNorth({},{originalEvent:ee})}),this._compassIcon=S.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};bu.prototype._updateZoomButtons=function(){var K=this._map.getZoom(),de=K===this._map.getMaxZoom(),ee=K===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=ee,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",ee.toString())},bu.prototype._rotateCompassArrow=function(){var K=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=K},bu.prototype.onAdd=function(K){return this._map=K,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},bu.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},bu.prototype._createButton=function(K,de){var ee=S.create("button",K,this._container);return ee.type="button",ee.addEventListener("click",de),ee},bu.prototype._setButtonTitle=function(K,de){var ee=this._map._getUIString("NavigationControl."+de);K.title=ee,K.setAttribute("aria-label",ee)};var gs=function(K,de,ee){ee===void 0&&(ee=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new fa({clickTolerance:K.dragRotate._mouseRotate._clickTolerance}),this.map=K,ee&&(this.mousePitch=new ea({clickTolerance:K.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(de,"mousedown",this.mousedown),S.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(de,"touchmove",this.touchmove),S.addEventListener(de,"touchend",this.touchend),S.addEventListener(de,"touchcancel",this.reset)};gs.prototype.down=function(K,de){this.mouseRotate.mousedown(K,de),this.mousePitch&&this.mousePitch.mousedown(K,de),S.disableDrag()},gs.prototype.move=function(K,de){var ee=this.map,pe=this.mouseRotate.mousemoveWindow(K,de);if(pe&&pe.bearingDelta&&ee.setBearing(ee.getBearing()+pe.bearingDelta),this.mousePitch){var Oe=this.mousePitch.mousemoveWindow(K,de);Oe&&Oe.pitchDelta&&ee.setPitch(ee.getPitch()+Oe.pitchDelta)}},gs.prototype.off=function(){var K=this.element;S.removeEventListener(K,"mousedown",this.mousedown),S.removeEventListener(K,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(K,"touchmove",this.touchmove),S.removeEventListener(K,"touchend",this.touchend),S.removeEventListener(K,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(s.window,"mousemove",this.mousemove),S.removeEventListener(s.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(K){this.down(s.extend({},K,{ctrlKey:!0,preventDefault:function(){return K.preventDefault()}}),S.mousePos(this.element,K)),S.addEventListener(s.window,"mousemove",this.mousemove),S.addEventListener(s.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(K){this.move(K,S.mousePos(this.element,K))},gs.prototype.mouseup=function(K){this.mouseRotate.mouseupWindow(K),this.mousePitch&&this.mousePitch.mouseupWindow(K),this.offTemp()},gs.prototype.touchstart=function(K){K.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,K.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return K.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(K){K.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,K.targetTouches)[0],this.move({preventDefault:function(){return K.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(K){K.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function wu(ce,K,de){if(ce=new s.LngLat(ce.lng,ce.lat),K){var ee=new s.LngLat(ce.lng-360,ce.lat),pe=new s.LngLat(ce.lng+360,ce.lat),Oe=de.locationPoint(ce).distSqr(K);de.locationPoint(ee).distSqr(K)<Oe?ce=ee:de.locationPoint(pe).distSqr(K)<Oe&&(ce=pe)}for(;Math.abs(ce.lng-de.center.lng)>180;){var Xe=de.locationPoint(ce);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=de.width&&Xe.y<=de.height)break;ce.lng>de.center.lng?ce.lng-=360:ce.lng+=360}return ce}var ch={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zh(ce,K,de){var ee=ce.classList;for(var pe in ch)ee.remove("mapboxgl-"+de+"-anchor-"+pe);ee.add("mapboxgl-"+de+"-anchor-"+K)}var cc=function(ce){function K(de,ee){if(ce.call(this),(de instanceof s.window.HTMLElement||ee)&&(de=s.extend({element:de},ee)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var pe=S.createNS("http://www.w3.org/2000/svg","svg"),Oe=41,Xe=27;pe.setAttributeNS(null,"display","block"),pe.setAttributeNS(null,"height",Oe+"px"),pe.setAttributeNS(null,"width",Xe+"px"),pe.setAttributeNS(null,"viewBox","0 0 "+Xe+" "+Oe);var ut=S.createNS("http://www.w3.org/2000/svg","g");ut.setAttributeNS(null,"stroke","none"),ut.setAttributeNS(null,"stroke-width","1"),ut.setAttributeNS(null,"fill","none"),ut.setAttributeNS(null,"fill-rule","evenodd");var Lt=S.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"fill-rule","nonzero");var Vt=S.createNS("http://www.w3.org/2000/svg","g");Vt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Vt.setAttributeNS(null,"fill","#000000");for(var $t=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],hr=0,fr=$t;hr<fr.length;hr+=1){var kr=fr[hr],Xr=S.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",kr.rx),Xr.setAttributeNS(null,"ry",kr.ry),Vt.appendChild(Xr)}var Yr=S.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Wr=S.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Wr);var Qr=S.createNS("http://www.w3.org/2000/svg","g");Qr.setAttributeNS(null,"opacity","0.25"),Qr.setAttributeNS(null,"fill","#000000");var dn=S.createNS("http://www.w3.org/2000/svg","path");dn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Qr.appendChild(dn);var In=S.createNS("http://www.w3.org/2000/svg","g");In.setAttributeNS(null,"transform","translate(6.0, 7.0)"),In.setAttributeNS(null,"fill","#FFFFFF");var Un=S.createNS("http://www.w3.org/2000/svg","g");Un.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Xn=S.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#000000"),Xn.setAttributeNS(null,"opacity","0.25"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962");var Zn=S.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#FFFFFF"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962"),Un.appendChild(Xn),Un.appendChild(Zn),Lt.appendChild(Vt),Lt.appendChild(Yr),Lt.appendChild(Qr),Lt.appendChild(In),Lt.appendChild(Un),pe.appendChild(Lt),pe.setAttributeNS(null,"height",Oe*this._scale+"px"),pe.setAttributeNS(null,"width",Xe*this._scale+"px"),this._element.appendChild(pe),this._offset=s.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=s.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jn){jn.preventDefault()}),this._element.addEventListener("mousedown",function(jn){jn.preventDefault()}),zh(this._element,this._anchor,"marker"),this._popup=null}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.addTo=function(ee){return this.remove(),this._map=ee,ee.getCanvasContainer().appendChild(this._element),ee.on("move",this._update),ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},K.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(ee){return this._lngLat=s.LngLat.convert(ee),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},K.prototype.getElement=function(){return this._element},K.prototype.setPopup=function(ee){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ee){if(!("offset"in ee.options)){var pe=38.1,Oe=13.5,Xe=Math.sqrt(Math.pow(Oe,2)/2);ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Xe,(pe-Oe+Xe)*-1],"bottom-right":[-Xe,(pe-Oe+Xe)*-1],left:[Oe,(pe-Oe)*-1],right:[-Oe,(pe-Oe)*-1]}:this._offset}this._popup=ee,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},K.prototype._onKeyPress=function(ee){var pe=ee.code,Oe=ee.charCode||ee.keyCode;(pe==="Space"||pe==="Enter"||Oe===32||Oe===13)&&this.togglePopup()},K.prototype._onMapClick=function(ee){var pe=ee.originalEvent.target,Oe=this._element;this._popup&&(pe===Oe||Oe.contains(pe))&&this.togglePopup()},K.prototype.getPopup=function(){return this._popup},K.prototype.togglePopup=function(){var ee=this._popup;if(ee)ee.isOpen()?ee.remove():ee.addTo(this._map);else return this;return this},K.prototype._update=function(ee){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=wu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Oe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Oe="rotateX(0deg)":this._pitchAlignment==="map"&&(Oe="rotateX("+this._map.getPitch()+"deg)"),(!ee||ee.type==="moveend")&&(this._pos=this._pos.round()),S.setTransform(this._element,ch[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Oe+" "+pe)}},K.prototype.getOffset=function(){return this._offset},K.prototype.setOffset=function(ee){return this._offset=s.Point.convert(ee),this._update(),this},K.prototype._onMove=function(ee){if(!this._isDragging){var pe=this._clickTolerance||this._map._clickTolerance;this._isDragging=ee.point.dist(this._pointerdownPos)>=pe}this._isDragging&&(this._pos=ee.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))},K.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"},K.prototype._addDragHandler=function(ee){this._element.contains(ee.originalEvent.target)&&(ee.preventDefault(),this._positionDelta=ee.point.sub(this._pos).add(this._offset),this._pointerdownPos=ee.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},K.prototype.setDraggable=function(ee){return this._draggable=!!ee,this._map&&(ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},K.prototype.isDraggable=function(){return this._draggable},K.prototype.setRotation=function(ee){return this._rotation=ee||0,this._update(),this},K.prototype.getRotation=function(){return this._rotation},K.prototype.setRotationAlignment=function(ee){return this._rotationAlignment=ee||"auto",this._update(),this},K.prototype.getRotationAlignment=function(){return this._rotationAlignment},K.prototype.setPitchAlignment=function(ee){return this._pitchAlignment=ee&&ee!=="auto"?ee:this._rotationAlignment,this._update(),this},K.prototype.getPitchAlignment=function(){return this._pitchAlignment},K}(s.Evented),Uv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Qu;function hh(ce){Qu!==void 0?ce(Qu):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(function(K){Qu=K.state!=="denied",ce(Qu)}):(Qu=!!s.window.navigator.geolocation,ce(Qu))}var hc=0,Sf=!1,Qd=function(ce){function K(de){ce.call(this),this.options=s.extend({},Uv,de),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(ee){return this._map=ee,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),hh(this._setupUI),this._container},K.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,hc=0,Sf=!1},K.prototype._isOutOfMapMaxBounds=function(ee){var pe=this._map.getMaxBounds(),Oe=ee.coords;return pe&&(Oe.longitude<pe.getWest()||Oe.longitude>pe.getEast()||Oe.latitude<pe.getSouth()||Oe.latitude>pe.getNorth())},K.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},K.prototype._onSuccess=function(ee){if(this._map){if(this._isOutOfMapMaxBounds(ee)){this._setErrorState(),this.fire(new s.Event("outofmaxbounds",ee)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ee,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ee),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ee),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",ee)),this._finish()}},K.prototype._updateCamera=function(ee){var pe=new s.LngLat(ee.coords.longitude,ee.coords.latitude),Oe=ee.coords.accuracy,Xe=this._map.getBearing(),ut=s.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(Oe),ut,{geolocateSource:!0})},K.prototype._updateMarker=function(ee){if(ee){var pe=new s.LngLat(ee.coords.longitude,ee.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=ee.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},K.prototype._updateCircleRadius=function(){var ee=this._map._container.clientHeight/2,pe=this._map.unproject([0,ee]),Oe=this._map.unproject([1,ee]),Xe=pe.distanceTo(Oe),ut=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=ut+"px",this._circleElement.style.height=ut+"px"},K.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},K.prototype._onError=function(ee){if(this._map){if(this.options.trackUserLocation)if(ee.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ee.code===3&&Sf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",ee)),this._finish()}},K.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},K.prototype._setupUI=function(ee){var pe=this;if(this._container.addEventListener("contextmenu",function(ut){return ut.preventDefault()}),this._geolocateButton=S.create("button","mapboxgl-ctrl-geolocate",this._container),S.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ee===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Oe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Oe,this._geolocateButton.setAttribute("aria-label",Oe)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new cc(this._dotElement),this._circleElement=S.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ut){var Lt=ut.originalEvent&&ut.originalEvent.type==="resize";!ut.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!Lt&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new s.Event("trackuserlocationend")))})},K.prototype.trigger=function(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":hc--,Sf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),hc++;var ee;hc>1?(ee={maximumAge:6e5,timeout:0},Sf=!0):(ee=this.options.positionOptions,Sf=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ee)}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},K.prototype._clearWatch=function(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},K}(s.Evented),Vv={maxWidth:100,unit:"metric"},Mf=function(K){this.options=s.extend({},Vv,K),s.bindAll(["_onMove","setUnit"],this)};Mf.prototype.getDefaultPosition=function(){return"bottom-left"},Mf.prototype._onMove=function(){Hv(this._map,this._container,this.options)},Mf.prototype.onAdd=function(K){return this._map=K,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",K.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Mf.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Mf.prototype.setUnit=function(K){this.options.unit=K,Hv(this._map,this._container,this.options)};function Hv(ce,K,de){var ee=de&&de.maxWidth||100,pe=ce._container.clientHeight/2,Oe=ce.unproject([0,pe]),Xe=ce.unproject([ee,pe]),ut=Oe.distanceTo(Xe);if(de&&de.unit==="imperial"){var Lt=3.2808*ut;if(Lt>5280){var Vt=Lt/5280;vc(K,ee,Vt,ce._getUIString("ScaleControl.Miles"))}else vc(K,ee,Lt,ce._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var $t=ut/1852;vc(K,ee,$t,ce._getUIString("ScaleControl.NauticalMiles"))}else ut>=1e3?vc(K,ee,ut/1e3,ce._getUIString("ScaleControl.Kilometers")):vc(K,ee,ut,ce._getUIString("ScaleControl.Meters"))}function vc(ce,K,de,ee){var pe=qd(de),Oe=pe/de;ce.style.width=K*Oe+"px",ce.innerHTML=pe+"&nbsp;"+ee}function $d(ce){var K=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*K)/K}function qd(ce){var K=Math.pow(10,(""+Math.floor(ce)).length-1),de=ce/K;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:$d(de),K*de}var hl=function(K){this._fullscreen=!1,K&&K.container&&(K.container instanceof s.window.HTMLElement?this._container=K.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in s.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in s.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in s.window.document&&(this._fullscreenchange="MSFullscreenChange")};hl.prototype.onAdd=function(K){return this._map=K,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},hl.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},hl.prototype._checkFullscreenSupport=function(){return!!(s.window.document.fullscreenEnabled||s.window.document.mozFullScreenEnabled||s.window.document.msFullscreenEnabled||s.window.document.webkitFullscreenEnabled)},hl.prototype._setupUI=function(){var K=this._fullscreenButton=S.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","mapboxgl-ctrl-icon",K).setAttribute("aria-hidden",!0),K.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},hl.prototype._updateTitle=function(){var K=this._getTitle();this._fullscreenButton.setAttribute("aria-label",K),this._fullscreenButton.title=K},hl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},hl.prototype._isFullscreen=function(){return this._fullscreen},hl.prototype._changeIcon=function(){var K=s.window.document.fullscreenElement||s.window.document.mozFullScreenElement||s.window.document.webkitFullscreenElement||s.window.document.msFullscreenElement;K===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},hl.prototype._onClickFullscreen=function(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.mozCancelFullScreen?s.window.document.mozCancelFullScreen():s.window.document.msExitFullscreen?s.window.document.msExitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ep={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},tp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),j0=function(ce){function K(de){ce.call(this),this.options=s.extend(Object.create(ep),de),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ce&&(K.__proto__=ce),K.prototype=Object.create(ce&&ce.prototype),K.prototype.constructor=K,K.prototype.addTo=function(ee){return this._map&&this.remove(),this._map=ee,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this},K.prototype.isOpen=function(){return!!this._map},K.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(ee){return this._lngLat=s.LngLat.convert(ee),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},K.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},K.prototype.getElement=function(){return this._container},K.prototype.setText=function(ee){return this.setDOMContent(s.window.document.createTextNode(ee))},K.prototype.setHTML=function(ee){var pe=s.window.document.createDocumentFragment(),Oe=s.window.document.createElement("body"),Xe;for(Oe.innerHTML=ee;Xe=Oe.firstChild,!!Xe;)pe.appendChild(Xe);return this.setDOMContent(pe)},K.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},K.prototype.setMaxWidth=function(ee){return this.options.maxWidth=ee,this._update(),this},K.prototype.setDOMContent=function(ee){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ee),this._createCloseButton(),this._update(),this._focusFirstElement(),this},K.prototype.addClassName=function(ee){this._container&&this._container.classList.add(ee)},K.prototype.removeClassName=function(ee){this._container&&this._container.classList.remove(ee)},K.prototype.setOffset=function(ee){return this.options.offset=ee,this._update(),this},K.prototype.toggleClassName=function(ee){if(this._container)return this._container.classList.toggle(ee)},K.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},K.prototype._onMouseUp=function(ee){this._update(ee.point)},K.prototype._onMouseMove=function(ee){this._update(ee.point)},K.prototype._onDrag=function(ee){this._update(ee.point)},K.prototype._update=function(ee){var pe=this,Oe=this._lngLat||this._trackPointer;if(!(!this._map||!Oe||!this._content)&&(this._container||(this._container=S.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(kr){return pe._container.classList.add(kr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=wu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ee))){var Xe=this._pos=this._trackPointer&&ee?ee:this._map.project(this._lngLat),ut=this.options.anchor,Lt=rp(this.options.offset);if(!ut){var Vt=this._container.offsetWidth,$t=this._container.offsetHeight,hr;Xe.y+Lt.bottom.y<$t?hr=["top"]:Xe.y>this._map.transform.height-$t?hr=["bottom"]:hr=[],Xe.x<Vt/2?hr.push("left"):Xe.x>this._map.transform.width-Vt/2&&hr.push("right"),hr.length===0?ut="bottom":ut=hr.join("-")}var fr=Xe.add(Lt[ut]).round();S.setTransform(this._container,ch[ut]+" translate("+fr.x+"px,"+fr.y+"px)"),zh(this._container,ut,"popup")}},K.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ee=this._container.querySelector(tp);ee&&ee.focus()}},K.prototype._onClose=function(){this.remove()},K}(s.Evented);function rp(ce){if(ce)if(typeof ce=="number"){var K=Math.round(Math.sqrt(.5*Math.pow(ce,2)));return{center:new s.Point(0,0),top:new s.Point(0,ce),"top-left":new s.Point(K,K),"top-right":new s.Point(-K,K),bottom:new s.Point(0,-ce),"bottom-left":new s.Point(K,-K),"bottom-right":new s.Point(-K,-K),left:new s.Point(ce,0),right:new s.Point(-ce,0)}}else if(ce instanceof s.Point||Array.isArray(ce)){var de=s.Point.convert(ce);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:s.Point.convert(ce.center||[0,0]),top:s.Point.convert(ce.top||[0,0]),"top-left":s.Point.convert(ce["top-left"]||[0,0]),"top-right":s.Point.convert(ce["top-right"]||[0,0]),bottom:s.Point.convert(ce.bottom||[0,0]),"bottom-left":s.Point.convert(ce["bottom-left"]||[0,0]),"bottom-right":s.Point.convert(ce["bottom-right"]||[0,0]),left:s.Point.convert(ce.left||[0,0]),right:s.Point.convert(ce.right||[0,0])};else return rp(new s.Point(0,0))}var oo={version:s.version,supported:L,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:Bv,NavigationControl:bu,GeolocateControl:Qd,AttributionControl:Qa,ScaleControl:Mf,FullscreenControl:hl,Popup:j0,Marker:cc,Style:ko,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,config:s.config,prewarm:It,clearPrewarmedResources:Jt,get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(ce){s.config.ACCESS_TOKEN=ce},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(ce){s.config.API_URL=ce},get workerCount(){return rr.workerCount},set workerCount(ce){rr.workerCount=ce},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ce){s.config.MAX_PARALLEL_IMAGE_REQUESTS=ce},clearStorage:function(K){s.clearTileCache(K)},workerUrl:""};return oo}),m})},3108:function(G,H,e){G.exports=e(26099)},26099:function(G,H,e){var m=e(64928),P=e(32420),s=e(51160),L=e(76752),S=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),a=e(76244),n=1073741824;G.exports=function(l,g){g||(g={}),l=p(l,"float64"),g=S(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(g.maxDepth,255),T=v(g.bounds,L(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var c=f(l,T),i=l.length>>>1,d;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?d=new(t(g.dtype))(i):g.dtype&&(d=g.dtype,Array.isArray(d)&&(d.length=i));for(var b=0;b<i;++b)d[b]=b;var w=[],C=[],y=[],E=[];N(0,0,1,d,0,1);for(var A=0,o=0;o<w.length;o++){var M=w[o];if(d.set)d.set(M,A);else for(var x=0,I=M.length;x<I;x++)d[x+A]=M[x];var D=A+w[o].length;E[o]=[A,D],A=D}return d.range=k,d;function N(z,B,W,J,re,ne){if(!J.length)return null;var le=w[re]||(w[re]=[]),$=y[re]||(y[re]=[]),Z=C[re]||(C[re]=[]),ie=le.length;if(re++,re>h||ne>n){for(var X=0;X<J.length;X++)le.push(J[X]),$.push(ne),Z.push(null,null,null,null);return ie}if(le.push(J[0]),$.push(ne),J.length<=1)return Z.push(null,null,null,null),ie;for(var Q=W*.5,oe=z+Q,j=B+Q,Y=[],se=[],te=[],fe=[],ge=1,be=J.length;ge<be;ge++){var xe=J[ge],_e=c[xe*2],De=c[xe*2+1];_e<oe?De<j?Y.push(xe):se.push(xe):De<j?te.push(xe):fe.push(xe)}return ne<<=2,Z.push(N(z,B,Q,Y,re,ne),N(z,j,Q,se,re,ne+1),N(oe,B,Q,te,re,ne+2),N(oe,j,Q,fe,re,ne+3)),ie}function k(){for(var z=[],B=arguments.length;B--;)z[B]=arguments[B];var W;if(r(z[z.length-1])){var J=z.pop();!z.length&&(J.x!=null||J.l!=null||J.left!=null)&&(z=[J],W={}),W=S(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};z.length||(z=T);var re=s.apply(void 0,z),ne=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],le=ne[0],$=ne[1],Z=ne[2],ie=ne[3],X=f([le,$,Z,ie],T),Q=X[0],oe=X[1],j=X[2],Y=X[3],se=v(W.level,w.length);if(W.d!=null){var te;typeof W.d=="number"?te=[W.d,W.d]:W.d.length&&(te=W.d),se=Math.min(Math.max(Math.ceil(-a(Math.abs(te[0])/(T[2]-T[0]))),Math.ceil(-a(Math.abs(te[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,w.length),W.lod)return O(Q,oe,j,Y,se);var fe=[];ge(0,0,1,0,0,1);function ge(xe,_e,De,Fe,Te,Re){if(!(Te===null||Re===null)){var Se=xe+De,ke=_e+De;if(!(Q>Se||oe>ke||j<xe||Y<_e)&&!(Fe>=se)&&Te!==Re){var Me=w[Fe];Re===void 0&&(Re=Me.length);for(var Ve=Te;Ve<Re;Ve++){var tt=Me[Ve],it=l[tt*2],Je=l[tt*2+1];it>=le&&it<=Z&&Je>=$&&Je<=ie&&fe.push(tt)}var Qe=C[Fe],ct=Qe[Te*4+0],ht=Qe[Te*4+1],dt=Qe[Te*4+2],Tt=Qe[Te*4+3],Et=be(Qe,Te+1),rt=De*.5,ze=Fe+1;ge(xe,_e,rt,ze,ct,ht||dt||Tt||Et),ge(xe,_e+rt,rt,ze,ht,dt||Tt||Et),ge(xe+rt,_e,rt,ze,dt,Tt||Et),ge(xe+rt,_e+rt,rt,ze,Tt,Et)}}}function be(xe,_e){for(var De=null,Fe=0;De===null;)if(De=xe[_e*4+Fe],Fe++,Fe>xe.length)return null;return De}return fe}function O(z,B,W,J,re){for(var ne=[],le=0;le<re;le++){var $=y[le],Z=E[le][0],ie=F(z,B,le),X=F(W,J,le),Q=m.ge($,ie),oe=m.gt($,X,Q,$.length-1);ne[le]=[Q+Z,oe+Z]}return ne}function F(z,B,W){for(var J=1,re=.5,ne=.5,le=.5,$=0;$<W;$++)J<<=2,J+=z<re?B<ne?0:1:B<ne?2:3,le*=.5,re+=z<re?-le:le,ne+=B<ne?-le:le;return J}};function f(u,l){for(var g=l[0],h=l[1],T=l[2],c=l[3],i=1/(T-g),d=1/(c-h),b=new Array(u.length),w=0,C=u.length/2;w<C;w++)b[2*w]=P((u[2*w]-g)*i,0,1),b[2*w+1]=P((u[2*w+1]-h)*d,0,1);return b}},40440:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(3256),P=6378137;function s(r){return m.geomReduce(r,function(t,a){return t+L(a)},0)}H.default=s;function L(r){var t=0,a;switch(r.type){case"Polygon":return S(r.coordinates);case"MultiPolygon":for(a=0;a<r.coordinates.length;a++)t+=S(r.coordinates[a]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function S(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var a=1;a<r.length;a++)t-=Math.abs(v(r[a]))}return t}function v(r){var t,a,n,f,u,l,g,h=0,T=r.length;if(T>2){for(g=0;g<T;g++)g===T-2?(f=T-2,u=T-1,l=0):g===T-1?(f=T-1,u=0,l=1):(f=g,u=g+1,l=g+2),t=r[f],a=r[u],n=r[l],h+=(p(n[0])-p(t[0]))*Math.sin(p(a[1]));h=h*P*P/2}return h}function p(r){return r*Math.PI/180}},46284:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,o,M){M===void 0&&(M={});var x={type:"Feature"};return(M.id===0||M.id)&&(x.id=M.id),M.bbox&&(x.bbox=M.bbox),x.properties=o||{},x.geometry=A,x}H.feature=e;function m(A,o,M){switch(A){case"Point":return P(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return L(o).geometry;case"MultiPoint":return a(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(A+" is invalid")}}H.geometry=m;function P(A,o,M){if(M===void 0&&(M={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:A};return e(x,o,M)}H.point=P;function s(A,o,M){return M===void 0&&(M={}),r(A.map(function(x){return P(x,o)}),M)}H.points=s;function L(A,o,M){M===void 0&&(M={});for(var x=0,I=A;x<I.length;x++){var D=I[x];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:A};return e(k,o,M)}H.polygon=L;function S(A,o,M){return M===void 0&&(M={}),r(A.map(function(x){return L(x,o)}),M)}H.polygons=S;function v(A,o,M){if(M===void 0&&(M={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:A};return e(x,o,M)}H.lineString=v;function p(A,o,M){return M===void 0&&(M={}),r(A.map(function(x){return v(x,o)}),M)}H.lineStrings=p;function r(A,o){o===void 0&&(o={});var M={type:"FeatureCollection"};return o.id&&(M.id=o.id),o.bbox&&(M.bbox=o.bbox),M.features=A,M}H.featureCollection=r;function t(A,o,M){M===void 0&&(M={});var x={type:"MultiLineString",coordinates:A};return e(x,o,M)}H.multiLineString=t;function a(A,o,M){M===void 0&&(M={});var x={type:"MultiPoint",coordinates:A};return e(x,o,M)}H.multiPoint=a;function n(A,o,M){M===void 0&&(M={});var x={type:"MultiPolygon",coordinates:A};return e(x,o,M)}H.multiPolygon=n;function f(A,o,M){M===void 0&&(M={});var x={type:"GeometryCollection",geometries:A};return e(x,o,M)}H.geometryCollection=f;function u(A,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,o||0);return Math.round(A*M)/M}H.round=u;function l(A,o){o===void 0&&(o="kilometers");var M=H.factors[o];if(!M)throw new Error(o+" units is invalid");return A*M}H.radiansToLength=l;function g(A,o){o===void 0&&(o="kilometers");var M=H.factors[o];if(!M)throw new Error(o+" units is invalid");return A/M}H.lengthToRadians=g;function h(A,o){return c(g(A,o))}H.lengthToDegrees=h;function T(A){var o=A%360;return o<0&&(o+=360),o}H.bearingToAzimuth=T;function c(A){var o=A%(2*Math.PI);return o*180/Math.PI}H.radiansToDegrees=c;function i(A){var o=A%360;return o*Math.PI/180}H.degreesToRadians=i;function d(A,o,M){if(o===void 0&&(o="kilometers"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("length must be a positive number");return l(g(A,o),M)}H.convertLength=d;function b(A,o,M){if(o===void 0&&(o="meters"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("area must be a positive number");var x=H.areaFactors[o];if(!x)throw new Error("invalid original units");var I=H.areaFactors[M];if(!I)throw new Error("invalid final units");return A/x*I}H.convertArea=b;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}H.isNumber=w;function C(A){return!!A&&A.constructor===Object}H.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(o){if(!w(o))throw new Error("bbox must only contain numbers")})}H.validateBBox=y;function E(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}H.validateId=E},3256:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(46284);function P(i,d,b){if(i!==null)for(var w,C,y,E,A,o,M,x=0,I=0,D,N=i.type,k=N==="FeatureCollection",O=N==="Feature",F=k?i.features.length:1,z=0;z<F;z++){M=k?i.features[z].geometry:O?i.geometry:i,D=M?M.type==="GeometryCollection":!1,A=D?M.geometries.length:1;for(var B=0;B<A;B++){var W=0,J=0;if(E=D?M.geometries[B]:M,E!==null){o=E.coordinates;var re=E.type;switch(x=b&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,I,z,W,J)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],I,z,W,J)===!1)return!1;I++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(C=0;C<o[w].length-x;C++){if(d(o[w][C],I,z,W,J)===!1)return!1;I++}re==="MultiLineString"&&W++,re==="Polygon"&&J++}re==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(J=0,C=0;C<o[w].length;C++){for(y=0;y<o[w][C].length-x;y++){if(d(o[w][C][y],I,z,W,J)===!1)return!1;I++}J++}W++}break;case"GeometryCollection":for(w=0;w<E.geometries.length;w++)if(P(E.geometries[w],d,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(i,d,b,w){var C=b;return P(i,function(y,E,A,o,M){E===0&&b===void 0?C=y:C=d(C,y,E,A,o,M)},w),C}function L(i,d){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&d(i.features[b].properties,b)!==!1;b++);break;case"Feature":d(i.properties,0);break}}function S(i,d,b){var w=b;return L(i,function(C,y){y===0&&b===void 0?w=C:w=d(w,C,y)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&d(i.features[b],b)!==!1;b++);}function p(i,d,b){var w=b;return v(i,function(C,y){y===0&&b===void 0?w=C:w=d(w,C,y)}),w}function r(i){var d=[];return P(i,function(b){d.push(b)}),d}function t(i,d){var b,w,C,y,E,A,o,M,x,I,D=0,N=i.type==="FeatureCollection",k=i.type==="Feature",O=N?i.features.length:1;for(b=0;b<O;b++){for(A=N?i.features[b].geometry:k?i.geometry:i,M=N?i.features[b].properties:k?i.properties:{},x=N?i.features[b].bbox:k?i.bbox:void 0,I=N?i.features[b].id:k?i.id:void 0,o=A?A.type==="GeometryCollection":!1,E=o?A.geometries.length:1,C=0;C<E;C++){if(y=o?A.geometries[C]:A,y===null){if(d(null,D,M,x,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,M,x,I)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],D,M,x,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function a(i,d,b){var w=b;return t(i,function(C,y,E,A,o){y===0&&b===void 0?w=C:w=d(w,C,y,E,A,o)}),w}function n(i,d){t(i,function(b,w,C,y,E){var A=b===null?null:b.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(b,C,{bbox:y,id:E}),w,0)===!1?!1:void 0}var o;switch(A){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var M=0;M<b.coordinates.length;M++){var x=b.coordinates[M],I={type:o,coordinates:x};if(d(m.feature(I,C),w,M)===!1)return!1}})}function f(i,d,b){var w=b;return n(i,function(C,y,E){y===0&&E===0&&b===void 0?w=C:w=d(w,C,y,E)}),w}function u(i,d){n(i,function(b,w,C){var y=0;if(b.geometry){var E=b.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,o=0,M=0,x=0;if(P(b,function(I,D,N,k,O){if(A===void 0||w>o||k>M||O>x){A=I,o=w,M=k,x=O,y=0;return}var F=m.lineString([A,I],b.properties);if(d(F,w,C,O,y)===!1)return!1;y++,A=I})===!1)return!1}}})}function l(i,d,b){var w=b,C=!1;return u(i,function(y,E,A,o,M){C===!1&&b===void 0?w=y:w=d(w,y,E,A,o,M),C=!0}),w}function g(i,d){if(!i)throw new Error("geojson is required");n(i,function(b,w,C){if(b.geometry!==null){var y=b.geometry.type,E=b.geometry.coordinates;switch(y){case"LineString":if(d(b,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(d(m.lineString(E[A],b.properties),w,C,A)===!1)return!1;break}}})}function h(i,d,b){var w=b;return g(i,function(C,y,E,A){y===0&&b===void 0?w=C:w=d(w,C,y,E,A)}),w}function T(i,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),E=E||i.features[b].properties,A=i.features[b].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),m.lineString([o[y],o[y+1]],E,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y-1),m.lineString([o[C][y],o[C][y+1]],E,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),m.lineString([o[w][y],o[w][y+1]],E,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y-1),m.lineString([o[w][C][y],o[w][C][y+1]],E,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),E=E||i.features[b].properties,A=i.features[b].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":return m.point(o,E,d);case"MultiPoint":return w<0&&(w=o.length+w),m.point(o[w],E,d);case"LineString":return y<0&&(y=o.length+y),m.point(o[y],E,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y),m.point(o[C][y],E,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),m.point(o[w][y],E,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y),m.point(o[w][C][y],E,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=s,H.propEach=L,H.propReduce=S,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=a,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=h,H.findSegment=T,H.findPoint=c},42428:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(84880);function P(s){var L=[1/0,1/0,-1/0,-1/0];return m.coordEach(s,function(S){L[0]>S[0]&&(L[0]=S[0]),L[1]>S[1]&&(L[1]=S[1]),L[2]<S[0]&&(L[2]=S[0]),L[3]<S[1]&&(L[3]=S[1])}),L}P.default=P,H.default=P},76796:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,o,M){M===void 0&&(M={});var x={type:"Feature"};return(M.id===0||M.id)&&(x.id=M.id),M.bbox&&(x.bbox=M.bbox),x.properties=o||{},x.geometry=A,x}H.feature=e;function m(A,o,M){switch(A){case"Point":return P(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return L(o).geometry;case"MultiPoint":return a(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(A+" is invalid")}}H.geometry=m;function P(A,o,M){if(M===void 0&&(M={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:A};return e(x,o,M)}H.point=P;function s(A,o,M){return M===void 0&&(M={}),r(A.map(function(x){return P(x,o)}),M)}H.points=s;function L(A,o,M){M===void 0&&(M={});for(var x=0,I=A;x<I.length;x++){var D=I[x];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:A};return e(k,o,M)}H.polygon=L;function S(A,o,M){return M===void 0&&(M={}),r(A.map(function(x){return L(x,o)}),M)}H.polygons=S;function v(A,o,M){if(M===void 0&&(M={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:A};return e(x,o,M)}H.lineString=v;function p(A,o,M){return M===void 0&&(M={}),r(A.map(function(x){return v(x,o)}),M)}H.lineStrings=p;function r(A,o){o===void 0&&(o={});var M={type:"FeatureCollection"};return o.id&&(M.id=o.id),o.bbox&&(M.bbox=o.bbox),M.features=A,M}H.featureCollection=r;function t(A,o,M){M===void 0&&(M={});var x={type:"MultiLineString",coordinates:A};return e(x,o,M)}H.multiLineString=t;function a(A,o,M){M===void 0&&(M={});var x={type:"MultiPoint",coordinates:A};return e(x,o,M)}H.multiPoint=a;function n(A,o,M){M===void 0&&(M={});var x={type:"MultiPolygon",coordinates:A};return e(x,o,M)}H.multiPolygon=n;function f(A,o,M){M===void 0&&(M={});var x={type:"GeometryCollection",geometries:A};return e(x,o,M)}H.geometryCollection=f;function u(A,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,o||0);return Math.round(A*M)/M}H.round=u;function l(A,o){o===void 0&&(o="kilometers");var M=H.factors[o];if(!M)throw new Error(o+" units is invalid");return A*M}H.radiansToLength=l;function g(A,o){o===void 0&&(o="kilometers");var M=H.factors[o];if(!M)throw new Error(o+" units is invalid");return A/M}H.lengthToRadians=g;function h(A,o){return c(g(A,o))}H.lengthToDegrees=h;function T(A){var o=A%360;return o<0&&(o+=360),o}H.bearingToAzimuth=T;function c(A){var o=A%(2*Math.PI);return o*180/Math.PI}H.radiansToDegrees=c;function i(A){var o=A%360;return o*Math.PI/180}H.degreesToRadians=i;function d(A,o,M){if(o===void 0&&(o="kilometers"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("length must be a positive number");return l(g(A,o),M)}H.convertLength=d;function b(A,o,M){if(o===void 0&&(o="meters"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("area must be a positive number");var x=H.areaFactors[o];if(!x)throw new Error("invalid original units");var I=H.areaFactors[M];if(!I)throw new Error("invalid final units");return A/x*I}H.convertArea=b;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}H.isNumber=w;function C(A){return!!A&&A.constructor===Object}H.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(o){if(!w(o))throw new Error("bbox must only contain numbers")})}H.validateBBox=y;function E(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}H.validateId=E},84880:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(76796);function P(i,d,b){if(i!==null)for(var w,C,y,E,A,o,M,x=0,I=0,D,N=i.type,k=N==="FeatureCollection",O=N==="Feature",F=k?i.features.length:1,z=0;z<F;z++){M=k?i.features[z].geometry:O?i.geometry:i,D=M?M.type==="GeometryCollection":!1,A=D?M.geometries.length:1;for(var B=0;B<A;B++){var W=0,J=0;if(E=D?M.geometries[B]:M,E!==null){o=E.coordinates;var re=E.type;switch(x=b&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,I,z,W,J)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],I,z,W,J)===!1)return!1;I++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(C=0;C<o[w].length-x;C++){if(d(o[w][C],I,z,W,J)===!1)return!1;I++}re==="MultiLineString"&&W++,re==="Polygon"&&J++}re==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(J=0,C=0;C<o[w].length;C++){for(y=0;y<o[w][C].length-x;y++){if(d(o[w][C][y],I,z,W,J)===!1)return!1;I++}J++}W++}break;case"GeometryCollection":for(w=0;w<E.geometries.length;w++)if(P(E.geometries[w],d,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(i,d,b,w){var C=b;return P(i,function(y,E,A,o,M){E===0&&b===void 0?C=y:C=d(C,y,E,A,o,M)},w),C}function L(i,d){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&d(i.features[b].properties,b)!==!1;b++);break;case"Feature":d(i.properties,0);break}}function S(i,d,b){var w=b;return L(i,function(C,y){y===0&&b===void 0?w=C:w=d(w,C,y)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&d(i.features[b],b)!==!1;b++);}function p(i,d,b){var w=b;return v(i,function(C,y){y===0&&b===void 0?w=C:w=d(w,C,y)}),w}function r(i){var d=[];return P(i,function(b){d.push(b)}),d}function t(i,d){var b,w,C,y,E,A,o,M,x,I,D=0,N=i.type==="FeatureCollection",k=i.type==="Feature",O=N?i.features.length:1;for(b=0;b<O;b++){for(A=N?i.features[b].geometry:k?i.geometry:i,M=N?i.features[b].properties:k?i.properties:{},x=N?i.features[b].bbox:k?i.bbox:void 0,I=N?i.features[b].id:k?i.id:void 0,o=A?A.type==="GeometryCollection":!1,E=o?A.geometries.length:1,C=0;C<E;C++){if(y=o?A.geometries[C]:A,y===null){if(d(null,D,M,x,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,M,x,I)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],D,M,x,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function a(i,d,b){var w=b;return t(i,function(C,y,E,A,o){y===0&&b===void 0?w=C:w=d(w,C,y,E,A,o)}),w}function n(i,d){t(i,function(b,w,C,y,E){var A=b===null?null:b.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(b,C,{bbox:y,id:E}),w,0)===!1?!1:void 0}var o;switch(A){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var M=0;M<b.coordinates.length;M++){var x=b.coordinates[M],I={type:o,coordinates:x};if(d(m.feature(I,C),w,M)===!1)return!1}})}function f(i,d,b){var w=b;return n(i,function(C,y,E){y===0&&E===0&&b===void 0?w=C:w=d(w,C,y,E)}),w}function u(i,d){n(i,function(b,w,C){var y=0;if(b.geometry){var E=b.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,o=0,M=0,x=0;if(P(b,function(I,D,N,k,O){if(A===void 0||w>o||k>M||O>x){A=I,o=w,M=k,x=O,y=0;return}var F=m.lineString([A,I],b.properties);if(d(F,w,C,O,y)===!1)return!1;y++,A=I})===!1)return!1}}})}function l(i,d,b){var w=b,C=!1;return u(i,function(y,E,A,o,M){C===!1&&b===void 0?w=y:w=d(w,y,E,A,o,M),C=!0}),w}function g(i,d){if(!i)throw new Error("geojson is required");n(i,function(b,w,C){if(b.geometry!==null){var y=b.geometry.type,E=b.geometry.coordinates;switch(y){case"LineString":if(d(b,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(d(m.lineString(E[A],b.properties),w,C,A)===!1)return!1;break}}})}function h(i,d,b){var w=b;return g(i,function(C,y,E,A){y===0&&b===void 0?w=C:w=d(w,C,y,E,A)}),w}function T(i,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),E=E||i.features[b].properties,A=i.features[b].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),m.lineString([o[y],o[y+1]],E,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y-1),m.lineString([o[C][y],o[C][y+1]],E,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),m.lineString([o[w][y],o[w][y+1]],E,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y-1),m.lineString([o[w][C][y],o[w][C][y+1]],E,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),E=E||i.features[b].properties,A=i.features[b].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":return m.point(o,E,d);case"MultiPoint":return w<0&&(w=o.length+w),m.point(o[w],E,d);case"LineString":return y<0&&(y=o.length+y),m.point(o[y],E,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y),m.point(o[C][y],E,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),m.point(o[w][y],E,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y),m.point(o[w][C][y],E,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=s,H.propEach=L,H.propReduce=S,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=a,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=h,H.findSegment=T,H.findPoint=c},77844:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(43752),P=e(49840);function s(L,S){S===void 0&&(S={});var v=0,p=0,r=0;return m.coordEach(L,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],S.properties)}H.default=s},49840:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(k,O,F){F===void 0&&(F={});var z={type:"Feature"};return(F.id===0||F.id)&&(z.id=F.id),F.bbox&&(z.bbox=F.bbox),z.properties=O||{},z.geometry=k,z}H.feature=e;function m(k,O,F){switch(k){case"Point":return P(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return L(O).geometry;case"MultiPoint":return a(O).geometry;case"MultiLineString":return t(O).geometry;case"MultiPolygon":return n(O).geometry;default:throw new Error(k+" is invalid")}}H.geometry=m;function P(k,O,F){F===void 0&&(F={});var z={type:"Point",coordinates:k};return e(z,O,F)}H.point=P;function s(k,O,F){return F===void 0&&(F={}),r(k.map(function(z){return P(z,O)}),F)}H.points=s;function L(k,O,F){F===void 0&&(F={});for(var z=0,B=k;z<B.length;z++){var W=B[z];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<W[W.length-1].length;J++)if(W[W.length-1][J]!==W[0][J])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:k};return e(re,O,F)}H.polygon=L;function S(k,O,F){return F===void 0&&(F={}),r(k.map(function(z){return L(z,O)}),F)}H.polygons=S;function v(k,O,F){if(F===void 0&&(F={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:k};return e(z,O,F)}H.lineString=v;function p(k,O,F){return F===void 0&&(F={}),r(k.map(function(z){return v(z,O)}),F)}H.lineStrings=p;function r(k,O){O===void 0&&(O={});var F={type:"FeatureCollection"};return O.id&&(F.id=O.id),O.bbox&&(F.bbox=O.bbox),F.features=k,F}H.featureCollection=r;function t(k,O,F){F===void 0&&(F={});var z={type:"MultiLineString",coordinates:k};return e(z,O,F)}H.multiLineString=t;function a(k,O,F){F===void 0&&(F={});var z={type:"MultiPoint",coordinates:k};return e(z,O,F)}H.multiPoint=a;function n(k,O,F){F===void 0&&(F={});var z={type:"MultiPolygon",coordinates:k};return e(z,O,F)}H.multiPolygon=n;function f(k,O,F){F===void 0&&(F={});var z={type:"GeometryCollection",geometries:k};return e(z,O,F)}H.geometryCollection=f;function u(k,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,O||0);return Math.round(k*F)/F}H.round=u;function l(k,O){O===void 0&&(O="kilometers");var F=H.factors[O];if(!F)throw new Error(O+" units is invalid");return k*F}H.radiansToLength=l;function g(k,O){O===void 0&&(O="kilometers");var F=H.factors[O];if(!F)throw new Error(O+" units is invalid");return k/F}H.lengthToRadians=g;function h(k,O){return c(g(k,O))}H.lengthToDegrees=h;function T(k){var O=k%360;return O<0&&(O+=360),O}H.bearingToAzimuth=T;function c(k){var O=k%(2*Math.PI);return O*180/Math.PI}H.radiansToDegrees=c;function i(k){var O=k%360;return O*Math.PI/180}H.degreesToRadians=i;function d(k,O,F){if(O===void 0&&(O="kilometers"),F===void 0&&(F="kilometers"),!(k>=0))throw new Error("length must be a positive number");return l(g(k,O),F)}H.convertLength=d;function b(k,O,F){if(O===void 0&&(O="meters"),F===void 0&&(F="kilometers"),!(k>=0))throw new Error("area must be a positive number");var z=H.areaFactors[O];if(!z)throw new Error("invalid original units");var B=H.areaFactors[F];if(!B)throw new Error("invalid final units");return k/z*B}H.convertArea=b;function w(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)&&!/^\s*$/.test(k)}H.isNumber=w;function C(k){return!!k&&k.constructor===Object}H.isObject=C;function y(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(O){if(!w(O))throw new Error("bbox must only contain numbers")})}H.validateBBox=y;function E(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}H.validateId=E;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=A;function o(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=o;function M(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=M;function x(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=x;function I(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=I;function D(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=D;function N(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=N},43752:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(49840);function P(i,d,b){if(i!==null)for(var w,C,y,E,A,o,M,x=0,I=0,D,N=i.type,k=N==="FeatureCollection",O=N==="Feature",F=k?i.features.length:1,z=0;z<F;z++){M=k?i.features[z].geometry:O?i.geometry:i,D=M?M.type==="GeometryCollection":!1,A=D?M.geometries.length:1;for(var B=0;B<A;B++){var W=0,J=0;if(E=D?M.geometries[B]:M,E!==null){o=E.coordinates;var re=E.type;switch(x=b&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,I,z,W,J)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],I,z,W,J)===!1)return!1;I++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(C=0;C<o[w].length-x;C++){if(d(o[w][C],I,z,W,J)===!1)return!1;I++}re==="MultiLineString"&&W++,re==="Polygon"&&J++}re==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(J=0,C=0;C<o[w].length;C++){for(y=0;y<o[w][C].length-x;y++){if(d(o[w][C][y],I,z,W,J)===!1)return!1;I++}J++}W++}break;case"GeometryCollection":for(w=0;w<E.geometries.length;w++)if(P(E.geometries[w],d,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(i,d,b,w){var C=b;return P(i,function(y,E,A,o,M){E===0&&b===void 0?C=y:C=d(C,y,E,A,o,M)},w),C}function L(i,d){var b;switch(i.type){case"FeatureCollection":for(b=0;b<i.features.length&&d(i.features[b].properties,b)!==!1;b++);break;case"Feature":d(i.properties,0);break}}function S(i,d,b){var w=b;return L(i,function(C,y){y===0&&b===void 0?w=C:w=d(w,C,y)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var b=0;b<i.features.length&&d(i.features[b],b)!==!1;b++);}function p(i,d,b){var w=b;return v(i,function(C,y){y===0&&b===void 0?w=C:w=d(w,C,y)}),w}function r(i){var d=[];return P(i,function(b){d.push(b)}),d}function t(i,d){var b,w,C,y,E,A,o,M,x,I,D=0,N=i.type==="FeatureCollection",k=i.type==="Feature",O=N?i.features.length:1;for(b=0;b<O;b++){for(A=N?i.features[b].geometry:k?i.geometry:i,M=N?i.features[b].properties:k?i.properties:{},x=N?i.features[b].bbox:k?i.bbox:void 0,I=N?i.features[b].id:k?i.id:void 0,o=A?A.type==="GeometryCollection":!1,E=o?A.geometries.length:1,C=0;C<E;C++){if(y=o?A.geometries[C]:A,y===null){if(d(null,D,M,x,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,M,x,I)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],D,M,x,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function a(i,d,b){var w=b;return t(i,function(C,y,E,A,o){y===0&&b===void 0?w=C:w=d(w,C,y,E,A,o)}),w}function n(i,d){t(i,function(b,w,C,y,E){var A=b===null?null:b.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(b,C,{bbox:y,id:E}),w,0)===!1?!1:void 0}var o;switch(A){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var M=0;M<b.coordinates.length;M++){var x=b.coordinates[M],I={type:o,coordinates:x};if(d(m.feature(I,C),w,M)===!1)return!1}})}function f(i,d,b){var w=b;return n(i,function(C,y,E){y===0&&E===0&&b===void 0?w=C:w=d(w,C,y,E)}),w}function u(i,d){n(i,function(b,w,C){var y=0;if(b.geometry){var E=b.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,o=0,M=0,x=0;if(P(b,function(I,D,N,k,O){if(A===void 0||w>o||k>M||O>x){A=I,o=w,M=k,x=O,y=0;return}var F=m.lineString([A,I],b.properties);if(d(F,w,C,O,y)===!1)return!1;y++,A=I})===!1)return!1}}})}function l(i,d,b){var w=b,C=!1;return u(i,function(y,E,A,o,M){C===!1&&b===void 0?w=y:w=d(w,y,E,A,o,M),C=!0}),w}function g(i,d){if(!i)throw new Error("geojson is required");n(i,function(b,w,C){if(b.geometry!==null){var y=b.geometry.type,E=b.geometry.coordinates;switch(y){case"LineString":if(d(b,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(d(m.lineString(E[A],b.properties),w,C,A)===!1)return!1;break}}})}function h(i,d,b){var w=b;return g(i,function(C,y,E,A){y===0&&b===void 0?w=C:w=d(w,C,y,E,A)}),w}function T(i,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),E=E||i.features[b].properties,A=i.features[b].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),m.lineString([o[y],o[y+1]],E,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y-1),m.lineString([o[C][y],o[C][y+1]],E,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),m.lineString([o[w][y],o[w][y+1]],E,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y-1),m.lineString([o[w][C][y],o[w][C][y+1]],E,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var b=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":b<0&&(b=i.features.length+b),E=E||i.features[b].properties,A=i.features[b].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":return m.point(o,E,d);case"MultiPoint":return w<0&&(w=o.length+w),m.point(o[w],E,d);case"LineString":return y<0&&(y=o.length+y),m.point(o[y],E,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y),m.point(o[C][y],E,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),m.point(o[w][y],E,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y),m.point(o[w][C][y],E,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=s,H.propEach=L,H.propReduce=S,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=a,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=h,H.findSegment=T,H.findPoint=c},49972:function(G){G.exports=H;function H(e){var m=0,P=0,s=0,L=0;return e.map(function(S){S=S.slice();var v=S[0],p=v.toUpperCase();if(v!=p)switch(S[0]=p,v){case"a":S[6]+=s,S[7]+=L;break;case"v":S[1]+=L;break;case"h":S[1]+=s;break;default:for(var r=1;r<S.length;)S[r++]+=s,S[r++]+=L}switch(p){case"Z":s=m,L=P;break;case"H":s=S[1];break;case"V":L=S[1];break;case"M":s=m=S[1],L=P=S[2];break;default:s=S[S.length-2],L=S[S.length-1]}return S})}},76752:function(G){G.exports=H;function H(e,m){if(!e||e.length==null)throw Error("Argument should be an array");m==null?m=1:m=Math.floor(m);for(var P=Array(m*2),s=0;s<m;s++){for(var L=-1/0,S=1/0,v=s,p=e.length;v<p;v+=m)e[v]>L&&(L=e[v]),e[v]<S&&(S=e[v]);P[s]=S,P[m+s]=L}return P}},10272:function(G){G.exports=function(H,e,m){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,m);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(H),s=P.length;if(s===0)return-1;for(var L=0;L<s;L++)if(e.call(m,P[L],L,P))return L;return-1}},71152:function(G,H,e){var m=e(76752);G.exports=P;function P(s,L,S){if(!s||s.length==null)throw Error("Argument should be an array");L==null&&(L=1),S==null&&(S=m(s,L));for(var v=0;v<L;v++){var p=S[L+v],r=S[v],t=v,a=s.length;if(p===1/0&&r===-1/0)for(t=v;t<a;t+=L)s[t]=s[t]===p?1:s[t]===r?0:.5;else if(p===1/0)for(t=v;t<a;t+=L)s[t]=s[t]===p?1:0;else if(r===-1/0)for(t=v;t<a;t+=L)s[t]=s[t]===r?0:1;else{var n=p-r;for(t=v;t<a;t+=L)isNaN(s[t])||(s[t]=n===0?.5:(s[t]-r)/n)}}return s}},67752:function(G){G.exports=function(e,m){var P=typeof e=="number",s=typeof m=="number";P&&!s?(m=e,e=0):!P&&!s&&(e=0,m=0),e=e|0,m=m|0;var L=m-e;if(L<0)throw new Error("array length must be positive");for(var S=new Array(L),v=0,p=e;v<L;v++,p++)S[v]=p;return S}},45408:function(G,H,e){var m=e(4168);function P(J){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ne){return typeof ne}:P=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},P(J)}function s(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}var L=e(86832),S=L.codes,v=S.ERR_AMBIGUOUS_ARGUMENT,p=S.ERR_INVALID_ARG_TYPE,r=S.ERR_INVALID_ARG_VALUE,t=S.ERR_INVALID_RETURN_VALUE,a=S.ERR_MISSING_ARGS,n=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,g=l.isPromise,h=l.isRegExp,T=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),i,d;function b(){var J=e(25116);i=J.isDeepEqual,d=J.isDeepStrictEqual}var w=!1,C=G.exports=M,y={};function E(J){throw J.message instanceof Error?J.message:new n(J)}function A(J,re,ne,le,$){var Z=arguments.length,ie;if(Z===0)ie="Failed";else if(Z===1)ne=J,J=void 0;else{if(w===!1){w=!0;var X=m.emitWarning?m.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(le="!=")}if(ne instanceof Error)throw ne;var Q={actual:J,expected:re,operator:le===void 0?"fail":le,stackStartFn:$||A};ne!==void 0&&(Q.message=ne);var oe=new n(Q);throw ie&&(oe.message=ie,oe.generatedMessage=!0),oe}C.fail=A,C.AssertionError=n;function o(J,re,ne,le){if(!ne){var $=!1;if(re===0)$=!0,le="No value argument passed to `assert.ok()`";else if(le instanceof Error)throw le;var Z=new n({actual:ne,expected:!0,message:le,operator:"==",stackStartFn:J});throw Z.generatedMessage=$,Z}}function M(){for(var J=arguments.length,re=new Array(J),ne=0;ne<J;ne++)re[ne]=arguments[ne];o.apply(void 0,[M,re.length].concat(re))}C.ok=M,C.equal=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");re!=ne&&E({actual:re,expected:ne,message:le,operator:"==",stackStartFn:J})},C.notEqual=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");re==ne&&E({actual:re,expected:ne,message:le,operator:"!=",stackStartFn:J})},C.deepEqual=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");i===void 0&&b(),i(re,ne)||E({actual:re,expected:ne,message:le,operator:"deepEqual",stackStartFn:J})},C.notDeepEqual=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");i===void 0&&b(),i(re,ne)&&E({actual:re,expected:ne,message:le,operator:"notDeepEqual",stackStartFn:J})},C.deepStrictEqual=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");i===void 0&&b(),d(re,ne)||E({actual:re,expected:ne,message:le,operator:"deepStrictEqual",stackStartFn:J})},C.notDeepStrictEqual=x;function x(J,re,ne){if(arguments.length<2)throw new a("actual","expected");i===void 0&&b(),d(J,re)&&E({actual:J,expected:re,message:ne,operator:"notDeepStrictEqual",stackStartFn:x})}C.strictEqual=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");c(re,ne)||E({actual:re,expected:ne,message:le,operator:"strictEqual",stackStartFn:J})},C.notStrictEqual=function J(re,ne,le){if(arguments.length<2)throw new a("actual","expected");c(re,ne)&&E({actual:re,expected:ne,message:le,operator:"notStrictEqual",stackStartFn:J})};var I=function J(re,ne,le){var $=this;s(this,J),ne.forEach(function(Z){Z in re&&(le!==void 0&&typeof le[Z]=="string"&&h(re[Z])&&re[Z].test(le[Z])?$[Z]=le[Z]:$[Z]=re[Z])})};function D(J,re,ne,le,$,Z){if(!(ne in J)||!d(J[ne],re[ne])){if(!le){var ie=new I(J,$),X=new I(re,$,J),Q=new n({actual:ie,expected:X,operator:"deepStrictEqual",stackStartFn:Z});throw Q.actual=J,Q.expected=re,Q.operator=Z.name,Q}E({actual:J,expected:re,message:le,operator:Z.name,stackStartFn:Z})}}function N(J,re,ne,le){if(typeof re!="function"){if(h(re))return re.test(J);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(P(J)!=="object"||J===null){var $=new n({actual:J,expected:re,message:ne,operator:"deepStrictEqual",stackStartFn:le});throw $.operator=le.name,$}var Z=Object.keys(re);if(re instanceof Error)Z.push("name","message");else if(Z.length===0)throw new r("error",re,"may not be an empty object");return i===void 0&&b(),Z.forEach(function(ie){typeof J[ie]=="string"&&h(re[ie])&&re[ie].test(J[ie])||D(J,re,ie,ne,Z,le)}),!0}return re.prototype!==void 0&&J instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},J)===!0}function k(J){if(typeof J!="function")throw new p("fn","Function",J);try{J()}catch(re){return re}return y}function O(J){return g(J)||J!==null&&P(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"}function F(J){return Promise.resolve().then(function(){var re;if(typeof J=="function"){if(re=J(),!O(re))throw new t("instance of Promise","promiseFn",re)}else if(O(J))re=J;else throw new p("promiseFn",["Function","Promise"],J);return Promise.resolve().then(function(){return re}).then(function(){return y}).catch(function(ne){return ne})})}function z(J,re,ne,le){if(typeof ne=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ne);if(P(re)==="object"&&re!==null){if(re.message===ne)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ne)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));le=ne,ne=void 0}else if(ne!=null&&P(ne)!=="object"&&typeof ne!="function")throw new p("error",["Object","Error","Function","RegExp"],ne);if(re===y){var $="";ne&&ne.name&&($+=" (".concat(ne.name,")")),$+=le?": ".concat(le):".";var Z=J.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:ne,operator:J.name,message:"Missing expected ".concat(Z).concat($),stackStartFn:J})}if(ne&&!N(re,ne,le,J))throw re}function B(J,re,ne,le){if(re!==y){if(typeof ne=="string"&&(le=ne,ne=void 0),!ne||N(re,ne)){var $=le?": ".concat(le):".",Z=J.name==="doesNotReject"?"rejection":"exception";E({actual:re,expected:ne,operator:J.name,message:"Got unwanted ".concat(Z).concat($,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:J})}throw re}}C.throws=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];z.apply(void 0,[J,k(re)].concat(le))},C.rejects=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];return F(re).then(function(Z){return z.apply(void 0,[J,Z].concat(le))})},C.doesNotThrow=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];B.apply(void 0,[J,k(re)].concat(le))},C.doesNotReject=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];return F(re).then(function(Z){return B.apply(void 0,[J,Z].concat(le))})},C.ifError=function J(re){if(re!=null){var ne="ifError got unwanted exception: ";P(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ne+=re.constructor.name:ne+=re.message:ne+=u(re);var le=new n({actual:re,expected:null,operator:"ifError",message:ne,stackStartFn:J}),$=re.stack;if(typeof $=="string"){var Z=$.split(`
`);Z.shift();for(var ie=le.stack.split(`
`),X=0;X<Z.length;X++){var Q=ie.indexOf(Z[X]);if(Q!==-1){ie=ie.slice(0,Q);break}}le.stack="".concat(ie.join(`
`),`
`).concat(Z.join(`
`))}throw le}};function W(){for(var J=arguments.length,re=new Array(J),ne=0;ne<J;ne++)re[ne]=arguments[ne];o.apply(void 0,[W,re.length].concat(re))}C.strict=T(W,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(G,H,e){var m=e(4168);function P(k){for(var O=1;O<arguments.length;O++){var F=arguments[O]!=null?arguments[O]:{},z=Object.keys(F);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(F).filter(function(B){return Object.getOwnPropertyDescriptor(F,B).enumerable}))),z.forEach(function(B){s(k,B,F[B])})}return k}function s(k,O,F){return O in k?Object.defineProperty(k,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[O]=F,k}function L(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function S(k,O){for(var F=0;F<O.length;F++){var z=O[F];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(k,z.key,z)}}function v(k,O,F){return O&&S(k.prototype,O),k}function p(k,O){return O&&(h(O)==="object"||typeof O=="function")?O:r(k)}function r(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function t(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),O&&l(k,O)}function a(k){var O=typeof Map=="function"?new Map:void 0;return a=function(z){if(z===null||!u(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(z))return O.get(z);O.set(z,B)}function B(){return f(z,arguments,g(this).constructor)}return B.prototype=Object.create(z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),l(B,z)},a(k)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(k,O,F){return n()?f=Reflect.construct:f=function(B,W,J){var re=[null];re.push.apply(re,W);var ne=Function.bind.apply(B,re),le=new ne;return J&&l(le,J.prototype),le},f.apply(null,arguments)}function u(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function l(k,O){return l=Object.setPrototypeOf||function(z,B){return z.__proto__=B,z},l(k,O)}function g(k){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},g(k)}function h(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(F){return typeof F}:h=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h(k)}var T=e(35840),c=T.inspect,i=e(86832),d=i.codes.ERR_INVALID_ARG_TYPE;function b(k,O,F){return(F===void 0||F>k.length)&&(F=k.length),k.substring(F-O.length,F)===O}function w(k,O){if(O=Math.floor(O),k.length==0||O==0)return"";var F=k.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)k+=k,O--;return k+=k.substring(0,F-k.length),k}var C="",y="",E="",A="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},M=10;function x(k){var O=Object.keys(k),F=Object.create(Object.getPrototypeOf(k));return O.forEach(function(z){F[z]=k[z]}),Object.defineProperty(F,"message",{value:k.message}),F}function I(k){return c(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(k,O,F){var z="",B="",W=0,J="",re=!1,ne=I(k),le=ne.split(`
`),$=I(O).split(`
`),Z=0,ie="";if(F==="strictEqual"&&h(k)==="object"&&h(O)==="object"&&k!==null&&O!==null&&(F="strictEqualObject"),le.length===1&&$.length===1&&le[0]!==$[0]){var X=le[0].length+$[0].length;if(X<=M){if((h(k)!=="object"||k===null)&&(h(O)!=="object"||O===null)&&(k!==0||O!==0))return"".concat(o[F],`

`)+"".concat(le[0]," !== ").concat($[0],`
`)}else if(F!=="strictEqualObject"){var Q=m.stderr&&m.stderr.isTTY?m.stderr.columns:80;if(X<Q){for(;le[0][Z]===$[0][Z];)Z++;Z>2&&(ie=`
  `.concat(w(" ",Z),"^"),Z=0)}}}for(var oe=le[le.length-1],j=$[$.length-1];oe===j&&(Z++<2?J=`
  `.concat(oe).concat(J):z=oe,le.pop(),$.pop(),!(le.length===0||$.length===0));)oe=le[le.length-1],j=$[$.length-1];var Y=Math.max(le.length,$.length);if(Y===0){var se=ne.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(A);se.length>27;)se.pop();return"".concat(o.notIdentical,`

`).concat(se.join(`
`),`
`)}Z>3&&(J=`
`.concat(C,"...").concat(A).concat(J),re=!0),z!==""&&(J=`
  `.concat(z).concat(J),z="");var te=0,fe=o[F]+`
`.concat(y,"+ actual").concat(A," ").concat(E,"- expected").concat(A),ge=" ".concat(C,"...").concat(A," Lines skipped");for(Z=0;Z<Y;Z++){var be=Z-W;if(le.length<Z+1)be>1&&Z>2&&(be>4?(B+=`
`.concat(C,"...").concat(A),re=!0):be>3&&(B+=`
  `.concat($[Z-2]),te++),B+=`
  `.concat($[Z-1]),te++),W=Z,z+=`
`.concat(E,"-").concat(A," ").concat($[Z]),te++;else if($.length<Z+1)be>1&&Z>2&&(be>4?(B+=`
`.concat(C,"...").concat(A),re=!0):be>3&&(B+=`
  `.concat(le[Z-2]),te++),B+=`
  `.concat(le[Z-1]),te++),W=Z,B+=`
`.concat(y,"+").concat(A," ").concat(le[Z]),te++;else{var xe=$[Z],_e=le[Z],De=_e!==xe&&(!b(_e,",")||_e.slice(0,-1)!==xe);De&&b(xe,",")&&xe.slice(0,-1)===_e&&(De=!1,_e+=","),De?(be>1&&Z>2&&(be>4?(B+=`
`.concat(C,"...").concat(A),re=!0):be>3&&(B+=`
  `.concat(le[Z-2]),te++),B+=`
  `.concat(le[Z-1]),te++),W=Z,B+=`
`.concat(y,"+").concat(A," ").concat(_e),z+=`
`.concat(E,"-").concat(A," ").concat(xe),te+=2):(B+=z,z="",(be===1||Z===0)&&(B+=`
  `.concat(_e),te++))}if(te>20&&Z<Y-2)return"".concat(fe).concat(ge,`
`).concat(B,`
`).concat(C,"...").concat(A).concat(z,`
`)+"".concat(C,"...").concat(A)}return"".concat(fe).concat(re?ge:"",`
`).concat(B).concat(z).concat(J).concat(ie)}var N=function(k){t(O,k);function O(F){var z;if(L(this,O),h(F)!=="object"||F===null)throw new d("options","Object",F);var B=F.message,W=F.operator,J=F.stackStartFn,re=F.actual,ne=F.expected,le=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)z=p(this,g(O).call(this,String(B)));else if(m.stderr&&m.stderr.isTTY&&(m.stderr&&m.stderr.getColorDepth&&m.stderr.getColorDepth()!==1?(C="\x1B[34m",y="\x1B[32m",A="\x1B[39m",E="\x1B[31m"):(C="",y="",A="",E="")),h(re)==="object"&&re!==null&&h(ne)==="object"&&ne!==null&&"stack"in re&&re instanceof Error&&"stack"in ne&&ne instanceof Error&&(re=x(re),ne=x(ne)),W==="deepStrictEqual"||W==="strictEqual")z=p(this,g(O).call(this,D(re,ne,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var $=o[W],Z=I(re).split(`
`);if(W==="notStrictEqual"&&h(re)==="object"&&re!==null&&($=o.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(C,"...").concat(A);Z.length>27;)Z.pop();Z.length===1?z=p(this,g(O).call(this,"".concat($," ").concat(Z[0]))):z=p(this,g(O).call(this,"".concat($,`

`).concat(Z.join(`
`),`
`)))}else{var ie=I(re),X="",Q=o[W];W==="notDeepEqual"||W==="notEqual"?(ie="".concat(o[W],`

`).concat(ie),ie.length>1024&&(ie="".concat(ie.slice(0,1021),"..."))):(X="".concat(I(ne)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),W==="deepEqual"||W==="equal"?ie="".concat(Q,`

`).concat(ie,`

should equal

`):X=" ".concat(W," ").concat(X)),z=p(this,g(O).call(this,"".concat(ie).concat(X)))}return Error.stackTraceLimit=le,z.generatedMessage=!B,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=re,z.expected=ne,z.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(z),J),z.stack,z.name="AssertionError",p(z)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,B){return c(this,P({},B,{customInspect:!1,depth:0}))}}]),O}(a(Error));G.exports=N},86832:function(G,H,e){function m(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(c){return typeof c}:m=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},m(h)}function P(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function s(h,T){return T&&(m(T)==="object"||typeof T=="function")?T:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},S(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&p(h,T)}function p(h,T){return p=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},p(h,T)}var r={},t,a;function n(h,T,c){c||(c=Error);function i(b,w,C){return typeof T=="string"?T:T(b,w,C)}var d=function(b){v(w,b);function w(C,y,E){var A;return P(this,w),A=s(this,S(w).call(this,i(C,y,E))),A.code=h,A}return w}(c);r[h]=d}function f(h,T){if(Array.isArray(h)){var c=h.length;return h=h.map(function(i){return String(i)}),c>2?"one of ".concat(T," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function u(h,T,c){return h.substr(0,T.length)===T}function l(h,T,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-T.length,c)===T}function g(h,T,c){return typeof c!="number"&&(c=0),c+T.length>h.length?!1:h.indexOf(T,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,T,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var i;typeof T=="string"&&u(T,"not ")?(i="must not be",T=T.replace(/^not /,"")):i="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(i," ").concat(f(T,"type"));else{var b=g(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(b," ").concat(i," ").concat(f(T,"type"))}return d+=". Received type ".concat(m(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,T){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";a===void 0&&(a=e(35840));var i=a.inspect(T);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(i)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,T,c){var i;return c&&c.constructor&&c.constructor.name?i="instance of ".concat(c.constructor.name):i="type ".concat(m(c)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(i,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),c=0;c<h;c++)T[c]=arguments[c];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var i="The ",d=T.length;switch(T=T.map(function(b){return'"'.concat(b,'"')}),d){case 1:i+="".concat(T[0]," argument");break;case 2:i+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:i+=T.slice(0,d-1).join(", "),i+=", and ".concat(T[d-1]," arguments");break}return"".concat(i," must be specified")},TypeError),G.exports.codes=r},25116:function(G,H,e){function m(Fe,Te){return L(Fe)||s(Fe,Te)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(Fe,Te){var Re=[],Se=!0,ke=!1,Me=void 0;try{for(var Ve=Fe[Symbol.iterator](),tt;!(Se=(tt=Ve.next()).done)&&(Re.push(tt.value),!(Te&&Re.length===Te));Se=!0);}catch(it){ke=!0,Me=it}finally{try{!Se&&Ve.return!=null&&Ve.return()}finally{if(ke)throw Me}}return Re}function L(Fe){if(Array.isArray(Fe))return Fe}function S(Fe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Re){return typeof Re}:S=function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},S(Fe)}var v=/a/g.flags!==void 0,p=function(Te){var Re=[];return Te.forEach(function(Se){return Re.push(Se)}),Re},r=function(Te){var Re=[];return Te.forEach(function(Se,ke){return Re.push([ke,Se])}),Re},t=Object.is?Object.is:e(39896),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Fe){return Fe.call.bind(Fe)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),g=f(Object.prototype.toString),h=e(35840).types,T=h.isAnyArrayBuffer,c=h.isArrayBufferView,i=h.isDate,d=h.isMap,b=h.isRegExp,w=h.isSet,C=h.isNativeError,y=h.isBoxedPrimitive,E=h.isNumberObject,A=h.isStringObject,o=h.isBooleanObject,M=h.isBigIntObject,x=h.isSymbolObject,I=h.isFloat32Array,D=h.isFloat64Array;function N(Fe){if(Fe.length===0||Fe.length>10)return!0;for(var Te=0;Te<Fe.length;Te++){var Re=Fe.charCodeAt(Te);if(Re<48||Re>57)return!0}return Fe.length===10&&Fe>=Math.pow(2,32)}function k(Fe){return Object.keys(Fe).filter(N).concat(a(Fe).filter(Object.prototype.propertyIsEnumerable.bind(Fe)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Fe,Te){if(Fe===Te)return 0;for(var Re=Fe.length,Se=Te.length,ke=0,Me=Math.min(Re,Se);ke<Me;++ke)if(Fe[ke]!==Te[ke]){Re=Fe[ke],Se=Te[ke];break}return Re<Se?-1:Se<Re?1:0}var F=!0,z=!1,B=0,W=1,J=2,re=3;function ne(Fe,Te){return v?Fe.source===Te.source&&Fe.flags===Te.flags:RegExp.prototype.toString.call(Fe)===RegExp.prototype.toString.call(Te)}function le(Fe,Te){if(Fe.byteLength!==Te.byteLength)return!1;for(var Re=0;Re<Fe.byteLength;Re++)if(Fe[Re]!==Te[Re])return!1;return!0}function $(Fe,Te){return Fe.byteLength!==Te.byteLength?!1:O(new Uint8Array(Fe.buffer,Fe.byteOffset,Fe.byteLength),new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength))===0}function Z(Fe,Te){return Fe.byteLength===Te.byteLength&&O(new Uint8Array(Fe),new Uint8Array(Te))===0}function ie(Fe,Te){return E(Fe)?E(Te)&&t(Number.prototype.valueOf.call(Fe),Number.prototype.valueOf.call(Te)):A(Fe)?A(Te)&&String.prototype.valueOf.call(Fe)===String.prototype.valueOf.call(Te):o(Fe)?o(Te)&&Boolean.prototype.valueOf.call(Fe)===Boolean.prototype.valueOf.call(Te):M(Fe)?M(Te)&&BigInt.prototype.valueOf.call(Fe)===BigInt.prototype.valueOf.call(Te):x(Te)&&Symbol.prototype.valueOf.call(Fe)===Symbol.prototype.valueOf.call(Te)}function X(Fe,Te,Re,Se){if(Fe===Te)return Fe!==0?!0:Re?t(Fe,Te):!0;if(Re){if(S(Fe)!=="object")return typeof Fe=="number"&&n(Fe)&&n(Te);if(S(Te)!=="object"||Fe===null||Te===null||Object.getPrototypeOf(Fe)!==Object.getPrototypeOf(Te))return!1}else{if(Fe===null||S(Fe)!=="object")return Te===null||S(Te)!=="object"?Fe==Te:!1;if(Te===null||S(Te)!=="object")return!1}var ke=g(Fe),Me=g(Te);if(ke!==Me)return!1;if(Array.isArray(Fe)){if(Fe.length!==Te.length)return!1;var Ve=k(Fe),tt=k(Te);return Ve.length!==tt.length?!1:oe(Fe,Te,Re,Se,W,Ve)}if(ke==="[object Object]"&&(!d(Fe)&&d(Te)||!w(Fe)&&w(Te)))return!1;if(i(Fe)){if(!i(Te)||Date.prototype.getTime.call(Fe)!==Date.prototype.getTime.call(Te))return!1}else if(b(Fe)){if(!b(Te)||!ne(Fe,Te))return!1}else if(C(Fe)||Fe instanceof Error){if(Fe.message!==Te.message||Fe.name!==Te.name)return!1}else if(c(Fe)){if(!Re&&(I(Fe)||D(Fe))){if(!le(Fe,Te))return!1}else if(!$(Fe,Te))return!1;var it=k(Fe),Je=k(Te);return it.length!==Je.length?!1:oe(Fe,Te,Re,Se,B,it)}else{if(w(Fe))return!w(Te)||Fe.size!==Te.size?!1:oe(Fe,Te,Re,Se,J);if(d(Fe))return!d(Te)||Fe.size!==Te.size?!1:oe(Fe,Te,Re,Se,re);if(T(Fe)){if(!Z(Fe,Te))return!1}else if(y(Fe)&&!ie(Fe,Te))return!1}return oe(Fe,Te,Re,Se,B)}function Q(Fe,Te){return Te.filter(function(Re){return l(Fe,Re)})}function oe(Fe,Te,Re,Se,ke,Me){if(arguments.length===5){Me=Object.keys(Fe);var Ve=Object.keys(Te);if(Me.length!==Ve.length)return!1}for(var tt=0;tt<Me.length;tt++)if(!u(Te,Me[tt]))return!1;if(Re&&arguments.length===5){var it=a(Fe);if(it.length!==0){var Je=0;for(tt=0;tt<it.length;tt++){var Qe=it[tt];if(l(Fe,Qe)){if(!l(Te,Qe))return!1;Me.push(Qe),Je++}else if(l(Te,Qe))return!1}var ct=a(Te);if(it.length!==ct.length&&Q(Te,ct).length!==Je)return!1}else{var ht=a(Te);if(ht.length!==0&&Q(Te,ht).length!==0)return!1}}if(Me.length===0&&(ke===B||ke===W&&Fe.length===0||Fe.size===0))return!0;if(Se===void 0)Se={val1:new Map,val2:new Map,position:0};else{var dt=Se.val1.get(Fe);if(dt!==void 0){var Tt=Se.val2.get(Te);if(Tt!==void 0)return dt===Tt}Se.position++}Se.val1.set(Fe,Se.position),Se.val2.set(Te,Se.position);var Et=xe(Fe,Te,Re,Me,Se,ke);return Se.val1.delete(Fe),Se.val2.delete(Te),Et}function j(Fe,Te,Re,Se){for(var ke=p(Fe),Me=0;Me<ke.length;Me++){var Ve=ke[Me];if(X(Te,Ve,Re,Se))return Fe.delete(Ve),!0}return!1}function Y(Fe){switch(S(Fe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Fe=+Fe;case"number":if(n(Fe))return!1}return!0}function se(Fe,Te,Re){var Se=Y(Re);return Se??(Te.has(Se)&&!Fe.has(Se))}function te(Fe,Te,Re,Se,ke){var Me=Y(Re);if(Me!=null)return Me;var Ve=Te.get(Me);return Ve===void 0&&!Te.has(Me)||!X(Se,Ve,!1,ke)?!1:!Fe.has(Me)&&X(Se,Ve,!1,ke)}function fe(Fe,Te,Re,Se){for(var ke=null,Me=p(Fe),Ve=0;Ve<Me.length;Ve++){var tt=Me[Ve];if(S(tt)==="object"&&tt!==null)ke===null&&(ke=new Set),ke.add(tt);else if(!Te.has(tt)){if(Re||!se(Fe,Te,tt))return!1;ke===null&&(ke=new Set),ke.add(tt)}}if(ke!==null){for(var it=p(Te),Je=0;Je<it.length;Je++){var Qe=it[Je];if(S(Qe)==="object"&&Qe!==null){if(!j(ke,Qe,Re,Se))return!1}else if(!Re&&!Fe.has(Qe)&&!j(ke,Qe,Re,Se))return!1}return ke.size===0}return!0}function ge(Fe,Te,Re,Se,ke,Me){for(var Ve=p(Fe),tt=0;tt<Ve.length;tt++){var it=Ve[tt];if(X(Re,it,ke,Me)&&X(Se,Te.get(it),ke,Me))return Fe.delete(it),!0}return!1}function be(Fe,Te,Re,Se){for(var ke=null,Me=r(Fe),Ve=0;Ve<Me.length;Ve++){var tt=m(Me[Ve],2),it=tt[0],Je=tt[1];if(S(it)==="object"&&it!==null)ke===null&&(ke=new Set),ke.add(it);else{var Qe=Te.get(it);if(Qe===void 0&&!Te.has(it)||!X(Je,Qe,Re,Se)){if(Re||!te(Fe,Te,it,Je,Se))return!1;ke===null&&(ke=new Set),ke.add(it)}}}if(ke!==null){for(var ct=r(Te),ht=0;ht<ct.length;ht++){var dt=m(ct[ht],2),it=dt[0],Tt=dt[1];if(S(it)==="object"&&it!==null){if(!ge(ke,Fe,it,Tt,Re,Se))return!1}else if(!Re&&(!Fe.has(it)||!X(Fe.get(it),Tt,!1,Se))&&!ge(ke,Fe,it,Tt,!1,Se))return!1}return ke.size===0}return!0}function xe(Fe,Te,Re,Se,ke,Me){var Ve=0;if(Me===J){if(!fe(Fe,Te,Re,ke))return!1}else if(Me===re){if(!be(Fe,Te,Re,ke))return!1}else if(Me===W)for(;Ve<Fe.length;Ve++)if(u(Fe,Ve)){if(!u(Te,Ve)||!X(Fe[Ve],Te[Ve],Re,ke))return!1}else{if(u(Te,Ve))return!1;for(var tt=Object.keys(Fe);Ve<tt.length;Ve++){var it=tt[Ve];if(!u(Te,it)||!X(Fe[it],Te[it],Re,ke))return!1}return tt.length===Object.keys(Te).length}for(Ve=0;Ve<Se.length;Ve++){var Je=Se[Ve];if(!X(Fe[Je],Te[Je],Re,ke))return!1}return!0}function _e(Fe,Te){return X(Fe,Te,z)}function De(Fe,Te){return X(Fe,Te,F)}G.exports={isDeepEqual:_e,isDeepStrictEqual:De}},83160:function(G,H,e){e.r(H),e.d(H,{decode:function(){return S},encode:function(){return L}});for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),s=0;s<m.length;s++)P[m.charCodeAt(s)]=s;var L=function(v){var p=new Uint8Array(v),r,t=p.length,a="";for(r=0;r<t;r+=3)a+=m[p[r]>>2],a+=m[(p[r]&3)<<4|p[r+1]>>4],a+=m[(p[r+1]&15)<<2|p[r+2]>>6],a+=m[p[r+2]&63];return t%3===2?a=a.substring(0,a.length-1)+"=":t%3===1&&(a=a.substring(0,a.length-2)+"=="),a},S=function(v){var p=v.length*.75,r=v.length,t,a=0,n,f,u,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var g=new ArrayBuffer(p),h=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],f=P[v.charCodeAt(t+1)],u=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],h[a++]=n<<2|f>>4,h[a++]=(f&15)<<4|u>>2,h[a++]=(u&3)<<6|l&63;return g}},59968:function(G,H){H.byteLength=p,H.toByteArray=t,H.fromByteArray=f;for(var e=[],m=[],P=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,S=s.length;L<S;++L)e[L]=s[L],m[s.charCodeAt(L)]=L;m[45]=62,m[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.indexOf("=");g===-1&&(g=l);var h=g===l?0:4-g%4;return[g,h]}function p(u){var l=v(u),g=l[0],h=l[1];return(g+h)*3/4-h}function r(u,l,g){return(l+g)*3/4-g}function t(u){var l,g=v(u),h=g[0],T=g[1],c=new P(r(u,h,T)),i=0,d=T>0?h-4:h,b;for(b=0;b<d;b+=4)l=m[u.charCodeAt(b)]<<18|m[u.charCodeAt(b+1)]<<12|m[u.charCodeAt(b+2)]<<6|m[u.charCodeAt(b+3)],c[i++]=l>>16&255,c[i++]=l>>8&255,c[i++]=l&255;return T===2&&(l=m[u.charCodeAt(b)]<<2|m[u.charCodeAt(b+1)]>>4,c[i++]=l&255),T===1&&(l=m[u.charCodeAt(b)]<<10|m[u.charCodeAt(b+1)]<<4|m[u.charCodeAt(b+2)]>>2,c[i++]=l>>8&255,c[i++]=l&255),c}function a(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,g){for(var h,T=[],c=l;c<g;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),T.push(a(h));return T.join("")}function f(u){for(var l,g=u.length,h=g%3,T=[],c=16383,i=0,d=g-h;i<d;i+=c)T.push(n(u,i,i+c>d?d:i+c));return h===1?(l=u[g-1],T.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(u[g-2]<<8)+u[g-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},64928:function(G){function H(S,v,p,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u>=0?(a=n,t=n-1):r=n+1}return a}function e(S,v,p,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u>0?(a=n,t=n-1):r=n+1}return a}function m(S,v,p,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u<0?(a=n,r=n+1):t=n-1}return a}function P(S,v,p,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u<=0?(a=n,r=n+1):t=n-1}return a}function s(S,v,p,r,t){for(;r<=t;){var a=r+t>>>1,n=S[a],f=p!==void 0?p(n,v):n-v;if(f===0)return a;f<=0?r=a+1:t=a-1}return-1}function L(S,v,p,r,t,a){return typeof p=="function"?a(S,v,p,r===void 0?0:r|0,t===void 0?S.length-1:t|0):a(S,v,void 0,p===void 0?0:p|0,r===void 0?S.length-1:r|0)}G.exports={ge:function(S,v,p,r,t){return L(S,v,p,r,t,H)},gt:function(S,v,p,r,t){return L(S,v,p,r,t,e)},lt:function(S,v,p,r,t){return L(S,v,p,r,t,m)},le:function(S,v,p,r,t){return L(S,v,p,r,t,P)},eq:function(S,v,p,r,t){return L(S,v,p,r,t,s)}}},308:function(G,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(s){return(s>0)-(s<0)},H.abs=function(s){var L=s>>e-1;return(s^L)-L},H.min=function(s,L){return L^(s^L)&-(s<L)},H.max=function(s,L){return s^(s^L)&-(s<L)},H.isPow2=function(s){return!(s&s-1)&&!!s},H.log2=function(s){var L,S;return L=(s>65535)<<4,s>>>=L,S=(s>255)<<3,s>>>=S,L|=S,S=(s>15)<<2,s>>>=S,L|=S,S=(s>3)<<1,s>>>=S,L|=S,L|s>>1},H.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},H.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function m(s){var L=32;return s&=-s,s&&L--,s&65535&&(L-=16),s&16711935&&(L-=8),s&252645135&&(L-=4),s&858993459&&(L-=2),s&1431655765&&(L-=1),L}H.countTrailingZeros=m,H.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},H.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},H.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var P=new Array(256);(function(s){for(var L=0;L<256;++L){var S=L,v=L,p=7;for(S>>>=1;S;S>>>=1)v<<=1,v|=S&1,--p;s[L]=v<<p&255}})(P),H.reverse=function(s){return P[s&255]<<24|P[s>>>8&255]<<16|P[s>>>16&255]<<8|P[s>>>24&255]},H.interleave2=function(s,L){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,s|L<<1},H.deinterleave2=function(s,L){return s=s>>>L&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},H.interleave3=function(s,L,S){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,s|=L<<1,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,s|S<<2},H.deinterleave3=function(s,L){return s=s>>>L&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},H.nextCombination=function(s){var L=s|s-1;return L+1|(~L&-~L)-1>>>m(s)+1}},29620:function(G,H,e){var m=e(32420);G.exports=s;var P=1e20;function s(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,a=p.channel||0,n,f,u,l,g,h,T,c,i,d,b;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,f=p.height,l=v,p.stride?h=p.stride:h=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,T=c.getContext("2d"),n=c.width,f=c.height,i=T.getImageData(0,0,n,f),l=i.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,T=v,n=c.width,f=c.height,i=T.getImageData(0,0,n,f),l=i.data,h=4):window.ImageData&&v instanceof window.ImageData&&(i=v,n=v.width,f=v.height,l=i.data,h=4);if(u=Math.max(n,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(g=l,l=Array(n*f),d=0,b=g.length;d<b;d++)l[d]=g[d*h+a]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*f),C=Array(n*f),y=Array(u),E=Array(u),A=Array(u+1),o=Array(u);for(d=0,b=n*f;d<b;d++){var M=l[d];w[d]=M===1?0:M===0?P:Math.pow(Math.max(0,.5-M),2),C[d]=M===1?P:M===0?0:Math.pow(Math.max(0,M-.5),2)}L(w,n,f,y,E,o,A),L(C,n,f,y,E,o,A);var x=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(d=0,b=n*f;d<b;d++)x[d]=m(1-((w[d]-C[d])/t+r),0,1);return x}function L(v,p,r,t,a,n,f){for(var u=0;u<p;u++){for(var l=0;l<r;l++)t[l]=v[l*p+u];for(S(t,a,n,f,r),l=0;l<r;l++)v[l*p+u]=a[l]}for(l=0;l<r;l++){for(u=0;u<p;u++)t[u]=v[l*p+u];for(S(t,a,n,f,p),u=0;u<p;u++)v[l*p+u]=Math.sqrt(a[u])}}function S(v,p,r,t,a){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,f=0;n<a;n++){for(var u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);u<=t[f];)f--,u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=u,t[f+1]=+P}for(n=0,f=0;n<a;n++){for(;t[f+1]<n;)f++;p[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(G,H,e){var m=e(53664),P=e(57916),s=P(m("String.prototype.indexOf"));G.exports=function(S,v){var p=m(S,!!v);return typeof p=="function"&&s(S,".prototype.")>-1?P(p):p}},57916:function(G,H,e){var m=e(8844),P=e(53664),s=e(14500),L=P("%TypeError%"),S=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||m.call(v,S),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}G.exports=function(f){if(typeof f!="function")throw new L("a function is required");var u=p(m,v,arguments);return s(u,1+t(0,f.length-(arguments.length-1)),!0)};var a=function(){return p(m,S,arguments)};r?r(G.exports,"apply",{value:a}):G.exports.apply=a},32420:function(G){G.exports=H;function H(e,m,P){return m<P?e<m?m:e>P?P:e:e<P?P:e>m?m:e}},3808:function(G,H,e){var m=e(32420);G.exports=P,G.exports.to=P,G.exports.from=s;function P(L,S){S==null&&(S=!0);var v=L[0],p=L[1],r=L[2],t=L[3];t==null&&(t=S?1:255),S&&(v*=255,p*=255,r*=255,t*=255),v=m(v,0,255)&255,p=m(p,0,255)&255,r=m(r,0,255)&255,t=m(t,0,255)&255;var a=v*16777216+(p<<16)+(r<<8)+t;return a}function s(L,S){L=+L;var v=L>>>24,p=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return S===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(G,H,e){var m=e(96824),P=e(32420),s=e(72512);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=s(p),t=new r(4),a=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=m(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,a&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(a?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function L(S){return!!(S instanceof Uint8Array||S instanceof Uint8ClampedArray||Array.isArray(S)&&(S[0]>1||S[0]===0)&&(S[1]>1||S[1]===0)&&(S[2]>1||S[2]===0)&&(!S[3]||S[3]>1))}},96824:function(G,H,e){var m=e(95532),P=e(53576),s=e(32420);G.exports=function(S){var v,p=m(S);return p.space?(v=Array(3),v[0]=s(p.values[0],0,255),v[1]=s(p.values[1],0,255),v[2]=s(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(s(p.alpha,0,1)),v):[]}},95532:function(G,H,e){var m=e(17592);G.exports=s;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function s(L){var S,v=[],p=1,r;if(typeof L=="string")if(L=L.toLowerCase(),m[L])v=m[L].slice(),r="rgb";else if(L==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var t=L.slice(1),a=t.length,n=a<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],a===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],a===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(S=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var f=S[1],u=f==="rgb",t=f.replace(/a$/,"");r=t;var a=t==="cmyk"?4:t==="gray"?1:3;v=S[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,T){if(/%$/.test(h))return T===a?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[T]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),f===t&&v.push(1),p=u||v[a]===void 0?1:v[a],v=v.slice(0,a)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(v=L.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(v=[L[0],L[1],L[2]],r="rgb",p=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",v=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",v=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),p=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(p/=100)):(r="rgb",v=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:v,alpha:p}}},53576:function(G,H,e){var m=e(19336);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var s=P[0]/360,L=P[1]/100,S=P[2]/100,v,p,r,t,a;if(L===0)return a=S*255,[a,a,a];S<.5?p=S*(1+L):p=S+L-S*L,v=2*S-p,t=[0,0,0];for(var n=0;n<3;n++)r=s+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?a=v+(p-v)*6*r:2*r<1?a=p:3*r<2?a=v+(p-v)*(.6666666666666666-r)*6:a=v,t[n]=a*255;return t}},m.hsl=function(P){var s=P[0]/255,L=P[1]/255,S=P[2]/255,v=Math.min(s,L,S),p=Math.max(s,L,S),r=p-v,t,a,n;return p===v?t=0:s===p?t=(L-S)/r:L===p?t=2+(S-s)/r:S===p&&(t=4+(s-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?a=0:n<=.5?a=r/(p+v):a=r/(2-p-v),[t,a*100,n*100]}},19336:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(G,H,e){G.exports={parse:e(46416),stringify:e(49395)}},8744:function(G,H,e){var m=e(30584);G.exports={isSize:function(s){return/^[\d\.]/.test(s)||s.indexOf("/")!==-1||m.indexOf(s)!==-1}}},46416:function(G,H,e){var m=e(92384),P=e(68194),s=e(3748),L=e(2904),S=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;G.exports=a;var t=a.cache={};function a(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(s.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(f,/\s+/),g;g=l.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=g}),t[f]=u;if(S.indexOf(g)!==-1){u.style=g;continue}if(g==="normal"||g==="small-caps"){u.variant=g;continue}if(v.indexOf(g)!==-1){u.stretch=g;continue}if(L.indexOf(g)!==-1){u.weight=g;continue}if(r(g)){var h=p(g,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=p(l.join(" "),/\s*,\s*/).map(m),t[f]=u}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(G,H,e){var m=e(55616),P=e(8744).isSize,s=f(e(68194)),L=f(e(3748)),S=f(e(2904)),v=f(e(47916)),p=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(l){if(l=m(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,L),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,S),n(l.stretch,p),l.size==null&&(l.size=a.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=a.family),Array.isArray(l.family)&&(l.family.length||(l.family=[a.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var g=[];return g.push(l.style),l.variant!==l.style&&g.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&g.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&g.push(l.stretch),g.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),g.push(l.family),g.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!s[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},g=0;g<u.length;g++)l[u[g]]=1;return l}},27940:function(G,H,e){var m=e(81680),P=e(18496),s=e(87396),L=e(95920),S=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,a;a=function(n,f,u){var l=P(f)&&s(f.value),g;return g=L(f),delete g.writable,delete g.value,g.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(f.value=p.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,f),this[n])},g},G.exports=function(n){var f=S(arguments[1]);return m(f.resolveContext)&&s(f.resolveContext),v(n,function(u,l){return a(l,u,f)})}},21092:function(G,H,e){var m=e(81680),P=e(85488),s=e(38452),L=e(50868),S=e(71056),v=G.exports=function(p,r){var t,a,n,f,u;return arguments.length<2||typeof p!="string"?(f=r,r=p,p=null):f=arguments[2],m(p)?(t=S.call(p,"c"),a=S.call(p,"e"),n=S.call(p,"w")):(t=n=!0,a=!1),u={value:r,configurable:t,enumerable:a,writable:n},f?s(L(f),u):u};v.gs=function(p,r,t){var a,n,f,u;return typeof p!="string"?(f=t,t=r,r=p,p=null):f=arguments[3],m(r)?P(r)?m(t)?P(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,m(p)?(a=S.call(p,"c"),n=S.call(p,"e")):(a=!0,n=!1),u={get:r,set:t,configurable:a,enumerable:n},f?s(L(f),u):u}},84706:function(G,H,e){e.d(H,{XE:function(){return m},kv:function(){return L},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return a}});function m(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function P(n){return n.length===1&&(n=s(n)),{left:function(f,u,l,g){for(l==null&&(l=0),g==null&&(g=f.length);l<g;){var h=l+g>>>1;n(f[h],u)<0?l=h+1:g=h}return l},right:function(f,u,l,g){for(l==null&&(l=0),g==null&&(g=f.length);l<g;){var h=l+g>>>1;n(f[h],u)>0?g=h:l=h+1}return l}}}function s(n){return function(f,u){return m(n(f),u)}}P(m);function L(n,f){var u=n.length,l=-1,g,h;if(f==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(h=g;++l<u;)(g=n[l])!=null&&g>h&&(h=g)}else for(;++l<u;)if((g=f(n[l],l,n))!=null&&g>=g)for(h=g;++l<u;)(g=f(n[l],l,n))!=null&&g>h&&(h=g);return h}function S(n){return n===null?NaN:+n}function v(n,f){var u=n.length,l=u,g=-1,h,T=0;if(f==null)for(;++g<u;)isNaN(h=S(n[g]))?--l:T+=h;else for(;++g<u;)isNaN(h=S(f(n[g],g,n)))?--l:T+=h;if(l)return T/l}function p(n){for(var f=n.length,u,l=-1,g=0,h,T;++l<f;)g+=n[l].length;for(h=new Array(g);--f>=0;)for(T=n[f],u=T.length;--u>=0;)h[--g]=T[u];return h}function r(n,f){var u=n.length,l=-1,g,h;if(f==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(h=g;++l<u;)(g=n[l])!=null&&h>g&&(h=g)}else for(;++l<u;)if((g=f(n[l],l,n))!=null&&g>=g)for(h=g;++l<u;)(g=f(n[l],l,n))!=null&&h>g&&(h=g);return h}function t(n,f,u){n=+n,f=+f,u=(g=arguments.length)<2?(f=n,n=0,1):g<3?1:+u;for(var l=-1,g=Math.max(0,Math.ceil((f-n)/u))|0,h=new Array(g);++l<g;)h[l]=n+l*u;return h}function a(n,f){var u=n.length,l=-1,g,h=0;if(f==null)for(;++l<u;)(g=+n[l])&&(h+=g);else for(;++l<u;)(g=+f(n[l],l,n))&&(h+=g);return h}},34712:function(G,H,e){e.d(H,{kH:function(){return L},UJ:function(){return S}});var m="$";function P(){}P.prototype=s.prototype={constructor:P,has:function(f){return m+f in this},get:function(f){return this[m+f]},set:function(f,u){return this[m+f]=u,this},remove:function(f){var u=m+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===m&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===m&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===m&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===m&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===m&&++f;return f},empty:function(){for(var f in this)if(f[0]===m)return!1;return!0},each:function(f){for(var u in this)u[0]===m&&f(this[u],u.slice(1),this)}};function s(f,u){var l=new P;if(f instanceof P)f.each(function(i,d){l.set(d,i)});else if(Array.isArray(f)){var g=-1,h=f.length,T;if(u==null)for(;++g<h;)l.set(g,f[g]);else for(;++g<h;)l.set(u(T=f[g],g,f),T)}else if(f)for(var c in f)l.set(c,f[c]);return l}var L=s;function S(){var f=[],u=[],l,g,h;function T(i,d,b,w){if(d>=f.length)return l!=null&&i.sort(l),g!=null?g(i):i;for(var C=-1,y=i.length,E=f[d++],A,o,M=L(),x,I=b();++C<y;)(x=M.get(A=E(o=i[C])+""))?x.push(o):M.set(A,[o]);return M.each(function(D,N){w(I,N,T(D,d,b,w))}),I}function c(i,d){if(++d>f.length)return i;var b,w=u[d-1];return g!=null&&d>=f.length?b=i.entries():(b=[],i.each(function(C,y){b.push({key:y,values:c(C,d)})})),w!=null?b.sort(function(C,y){return w(C.key,y.key)}):b}return h={object:function(i){return T(i,0,v,p)},map:function(i){return T(i,0,r,t)},entries:function(i){return c(T(i,0,r,t),0)},key:function(i){return f.push(i),h},sortKeys:function(i){return u[f.length-1]=i,h},sortValues:function(i){return l=i,h},rollup:function(i){return g=i,h}}}function v(){return{}}function p(f,u,l){f[u]=l}function r(){return L()}function t(f,u,l){f.set(u,l)}function a(){}var n=L.prototype;a.prototype={constructor:a,has:n.has,add:function(f){return f+="",this[m+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(G,H,e){e.r(H),e.d(H,{forceCenter:function(){return m},forceCollide:function(){return M},forceLink:function(){return N},forceManyBody:function(){return Ve},forceRadial:function(){return tt},forceSimulation:function(){return Me},forceX:function(){return it},forceY:function(){return Je}});function m(Qe,ct){var ht;Qe==null&&(Qe=0),ct==null&&(ct=0);function dt(){var Tt,Et=ht.length,rt,ze=0,Ge=0;for(Tt=0;Tt<Et;++Tt)rt=ht[Tt],ze+=rt.x,Ge+=rt.y;for(ze=ze/Et-Qe,Ge=Ge/Et-ct,Tt=0;Tt<Et;++Tt)rt=ht[Tt],rt.x-=ze,rt.y-=Ge}return dt.initialize=function(Tt){ht=Tt},dt.x=function(Tt){return arguments.length?(Qe=+Tt,dt):Qe},dt.y=function(Tt){return arguments.length?(ct=+Tt,dt):ct},dt}function P(Qe){return function(){return Qe}}function s(){return(Math.random()-.5)*1e-6}function L(Qe){var ct=+this._x.call(null,Qe),ht=+this._y.call(null,Qe);return S(this.cover(ct,ht),ct,ht,Qe)}function S(Qe,ct,ht,dt){if(isNaN(ct)||isNaN(ht))return Qe;var Tt,Et=Qe._root,rt={data:dt},ze=Qe._x0,Ge=Qe._y0,je=Qe._x1,We=Qe._y1,Le,Pe,Ye,Ce,he,me,Ne,$e;if(!Et)return Qe._root=rt,Qe;for(;Et.length;)if((he=ct>=(Le=(ze+je)/2))?ze=Le:je=Le,(me=ht>=(Pe=(Ge+We)/2))?Ge=Pe:We=Pe,Tt=Et,!(Et=Et[Ne=me<<1|he]))return Tt[Ne]=rt,Qe;if(Ye=+Qe._x.call(null,Et.data),Ce=+Qe._y.call(null,Et.data),ct===Ye&&ht===Ce)return rt.next=Et,Tt?Tt[Ne]=rt:Qe._root=rt,Qe;do Tt=Tt?Tt[Ne]=new Array(4):Qe._root=new Array(4),(he=ct>=(Le=(ze+je)/2))?ze=Le:je=Le,(me=ht>=(Pe=(Ge+We)/2))?Ge=Pe:We=Pe;while((Ne=me<<1|he)===($e=(Ce>=Pe)<<1|Ye>=Le));return Tt[$e]=Et,Tt[Ne]=rt,Qe}function v(Qe){var ct,ht,dt=Qe.length,Tt,Et,rt=new Array(dt),ze=new Array(dt),Ge=1/0,je=1/0,We=-1/0,Le=-1/0;for(ht=0;ht<dt;++ht)isNaN(Tt=+this._x.call(null,ct=Qe[ht]))||isNaN(Et=+this._y.call(null,ct))||(rt[ht]=Tt,ze[ht]=Et,Tt<Ge&&(Ge=Tt),Tt>We&&(We=Tt),Et<je&&(je=Et),Et>Le&&(Le=Et));if(Ge>We||je>Le)return this;for(this.cover(Ge,je).cover(We,Le),ht=0;ht<dt;++ht)S(this,rt[ht],ze[ht],Qe[ht]);return this}function p(Qe,ct){if(isNaN(Qe=+Qe)||isNaN(ct=+ct))return this;var ht=this._x0,dt=this._y0,Tt=this._x1,Et=this._y1;if(isNaN(ht))Tt=(ht=Math.floor(Qe))+1,Et=(dt=Math.floor(ct))+1;else{for(var rt=Tt-ht,ze=this._root,Ge,je;ht>Qe||Qe>=Tt||dt>ct||ct>=Et;)switch(je=(ct<dt)<<1|Qe<ht,Ge=new Array(4),Ge[je]=ze,ze=Ge,rt*=2,je){case 0:Tt=ht+rt,Et=dt+rt;break;case 1:ht=Tt-rt,Et=dt+rt;break;case 2:Tt=ht+rt,dt=Et-rt;break;case 3:ht=Tt-rt,dt=Et-rt;break}this._root&&this._root.length&&(this._root=ze)}return this._x0=ht,this._y0=dt,this._x1=Tt,this._y1=Et,this}function r(){var Qe=[];return this.visit(function(ct){if(!ct.length)do Qe.push(ct.data);while(ct=ct.next)}),Qe}function t(Qe){return arguments.length?this.cover(+Qe[0][0],+Qe[0][1]).cover(+Qe[1][0],+Qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function a(Qe,ct,ht,dt,Tt){this.node=Qe,this.x0=ct,this.y0=ht,this.x1=dt,this.y1=Tt}function n(Qe,ct,ht){var dt,Tt=this._x0,Et=this._y0,rt,ze,Ge,je,We=this._x1,Le=this._y1,Pe=[],Ye=this._root,Ce,he;for(Ye&&Pe.push(new a(Ye,Tt,Et,We,Le)),ht==null?ht=1/0:(Tt=Qe-ht,Et=ct-ht,We=Qe+ht,Le=ct+ht,ht*=ht);Ce=Pe.pop();)if(!(!(Ye=Ce.node)||(rt=Ce.x0)>We||(ze=Ce.y0)>Le||(Ge=Ce.x1)<Tt||(je=Ce.y1)<Et))if(Ye.length){var me=(rt+Ge)/2,Ne=(ze+je)/2;Pe.push(new a(Ye[3],me,Ne,Ge,je),new a(Ye[2],rt,Ne,me,je),new a(Ye[1],me,ze,Ge,Ne),new a(Ye[0],rt,ze,me,Ne)),(he=(ct>=Ne)<<1|Qe>=me)&&(Ce=Pe[Pe.length-1],Pe[Pe.length-1]=Pe[Pe.length-1-he],Pe[Pe.length-1-he]=Ce)}else{var $e=Qe-+this._x.call(null,Ye.data),ot=ct-+this._y.call(null,Ye.data),st=$e*$e+ot*ot;if(st<ht){var Wt=Math.sqrt(ht=st);Tt=Qe-Wt,Et=ct-Wt,We=Qe+Wt,Le=ct+Wt,dt=Ye.data}}return dt}function f(Qe){if(isNaN(We=+this._x.call(null,Qe))||isNaN(Le=+this._y.call(null,Qe)))return this;var ct,ht=this._root,dt,Tt,Et,rt=this._x0,ze=this._y0,Ge=this._x1,je=this._y1,We,Le,Pe,Ye,Ce,he,me,Ne;if(!ht)return this;if(ht.length)for(;;){if((Ce=We>=(Pe=(rt+Ge)/2))?rt=Pe:Ge=Pe,(he=Le>=(Ye=(ze+je)/2))?ze=Ye:je=Ye,ct=ht,!(ht=ht[me=he<<1|Ce]))return this;if(!ht.length)break;(ct[me+1&3]||ct[me+2&3]||ct[me+3&3])&&(dt=ct,Ne=me)}for(;ht.data!==Qe;)if(Tt=ht,!(ht=ht.next))return this;return(Et=ht.next)&&delete ht.next,Tt?(Et?Tt.next=Et:delete Tt.next,this):ct?(Et?ct[me]=Et:delete ct[me],(ht=ct[0]||ct[1]||ct[2]||ct[3])&&ht===(ct[3]||ct[2]||ct[1]||ct[0])&&!ht.length&&(dt?dt[Ne]=ht:this._root=ht),this):(this._root=Et,this)}function u(Qe){for(var ct=0,ht=Qe.length;ct<ht;++ct)this.remove(Qe[ct]);return this}function l(){return this._root}function g(){var Qe=0;return this.visit(function(ct){if(!ct.length)do++Qe;while(ct=ct.next)}),Qe}function h(Qe){var ct=[],ht,dt=this._root,Tt,Et,rt,ze,Ge;for(dt&&ct.push(new a(dt,this._x0,this._y0,this._x1,this._y1));ht=ct.pop();)if(!Qe(dt=ht.node,Et=ht.x0,rt=ht.y0,ze=ht.x1,Ge=ht.y1)&&dt.length){var je=(Et+ze)/2,We=(rt+Ge)/2;(Tt=dt[3])&&ct.push(new a(Tt,je,We,ze,Ge)),(Tt=dt[2])&&ct.push(new a(Tt,Et,We,je,Ge)),(Tt=dt[1])&&ct.push(new a(Tt,je,rt,ze,We)),(Tt=dt[0])&&ct.push(new a(Tt,Et,rt,je,We))}return this}function T(Qe){var ct=[],ht=[],dt;for(this._root&&ct.push(new a(this._root,this._x0,this._y0,this._x1,this._y1));dt=ct.pop();){var Tt=dt.node;if(Tt.length){var Et,rt=dt.x0,ze=dt.y0,Ge=dt.x1,je=dt.y1,We=(rt+Ge)/2,Le=(ze+je)/2;(Et=Tt[0])&&ct.push(new a(Et,rt,ze,We,Le)),(Et=Tt[1])&&ct.push(new a(Et,We,ze,Ge,Le)),(Et=Tt[2])&&ct.push(new a(Et,rt,Le,We,je)),(Et=Tt[3])&&ct.push(new a(Et,We,Le,Ge,je))}ht.push(dt)}for(;dt=ht.pop();)Qe(dt.node,dt.x0,dt.y0,dt.x1,dt.y1);return this}function c(Qe){return Qe[0]}function i(Qe){return arguments.length?(this._x=Qe,this):this._x}function d(Qe){return Qe[1]}function b(Qe){return arguments.length?(this._y=Qe,this):this._y}function w(Qe,ct,ht){var dt=new C(ct??c,ht??d,NaN,NaN,NaN,NaN);return Qe==null?dt:dt.addAll(Qe)}function C(Qe,ct,ht,dt,Tt,Et){this._x=Qe,this._y=ct,this._x0=ht,this._y0=dt,this._x1=Tt,this._y1=Et,this._root=void 0}function y(Qe){for(var ct={data:Qe.data},ht=ct;Qe=Qe.next;)ht=ht.next={data:Qe.data};return ct}var E=w.prototype=C.prototype;E.copy=function(){var Qe=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,ht,dt;if(!ct)return Qe;if(!ct.length)return Qe._root=y(ct),Qe;for(ht=[{source:ct,target:Qe._root=new Array(4)}];ct=ht.pop();)for(var Tt=0;Tt<4;++Tt)(dt=ct.source[Tt])&&(dt.length?ht.push({source:dt,target:ct.target[Tt]=new Array(4)}):ct.target[Tt]=y(dt));return Qe},E.add=L,E.addAll=v,E.cover=p,E.data=r,E.extent=t,E.find=n,E.remove=f,E.removeAll=u,E.root=l,E.size=g,E.visit=h,E.visitAfter=T,E.x=i,E.y=b;function A(Qe){return Qe.x+Qe.vx}function o(Qe){return Qe.y+Qe.vy}function M(Qe){var ct,ht,dt=1,Tt=1;typeof Qe!="function"&&(Qe=P(Qe==null?1:+Qe));function Et(){for(var Ge,je=ct.length,We,Le,Pe,Ye,Ce,he,me=0;me<Tt;++me)for(We=w(ct,A,o).visitAfter(rt),Ge=0;Ge<je;++Ge)Le=ct[Ge],Ce=ht[Le.index],he=Ce*Ce,Pe=Le.x+Le.vx,Ye=Le.y+Le.vy,We.visit(Ne);function Ne($e,ot,st,Wt,Zt){var At=$e.data,Rt=$e.r,Xt=Ce+Rt;if(At){if(At.index>Le.index){var ir=Pe-At.x-At.vx,pt=Ye-At.y-At.vy,Kt=ir*ir+pt*pt;Kt<Xt*Xt&&(ir===0&&(ir=s(),Kt+=ir*ir),pt===0&&(pt=s(),Kt+=pt*pt),Kt=(Xt-(Kt=Math.sqrt(Kt)))/Kt*dt,Le.vx+=(ir*=Kt)*(Xt=(Rt*=Rt)/(he+Rt)),Le.vy+=(pt*=Kt)*Xt,At.vx-=ir*(Xt=1-Xt),At.vy-=pt*Xt)}return}return ot>Pe+Xt||Wt<Pe-Xt||st>Ye+Xt||Zt<Ye-Xt}}function rt(Ge){if(Ge.data)return Ge.r=ht[Ge.data.index];for(var je=Ge.r=0;je<4;++je)Ge[je]&&Ge[je].r>Ge.r&&(Ge.r=Ge[je].r)}function ze(){if(ct){var Ge,je=ct.length,We;for(ht=new Array(je),Ge=0;Ge<je;++Ge)We=ct[Ge],ht[We.index]=+Qe(We,Ge,ct)}}return Et.initialize=function(Ge){ct=Ge,ze()},Et.iterations=function(Ge){return arguments.length?(Tt=+Ge,Et):Tt},Et.strength=function(Ge){return arguments.length?(dt=+Ge,Et):dt},Et.radius=function(Ge){return arguments.length?(Qe=typeof Ge=="function"?Ge:P(+Ge),ze(),Et):Qe},Et}var x=e(34712);function I(Qe){return Qe.index}function D(Qe,ct){var ht=Qe.get(ct);if(!ht)throw new Error("missing: "+ct);return ht}function N(Qe){var ct=I,ht=We,dt,Tt=P(30),Et,rt,ze,Ge,je=1;Qe==null&&(Qe=[]);function We(he){return 1/Math.min(ze[he.source.index],ze[he.target.index])}function Le(he){for(var me=0,Ne=Qe.length;me<je;++me)for(var $e=0,ot,st,Wt,Zt,At,Rt,Xt;$e<Ne;++$e)ot=Qe[$e],st=ot.source,Wt=ot.target,Zt=Wt.x+Wt.vx-st.x-st.vx||s(),At=Wt.y+Wt.vy-st.y-st.vy||s(),Rt=Math.sqrt(Zt*Zt+At*At),Rt=(Rt-Et[$e])/Rt*he*dt[$e],Zt*=Rt,At*=Rt,Wt.vx-=Zt*(Xt=Ge[$e]),Wt.vy-=At*Xt,st.vx+=Zt*(Xt=1-Xt),st.vy+=At*Xt}function Pe(){if(rt){var he,me=rt.length,Ne=Qe.length,$e=(0,x.kH)(rt,ct),ot;for(he=0,ze=new Array(me);he<Ne;++he)ot=Qe[he],ot.index=he,typeof ot.source!="object"&&(ot.source=D($e,ot.source)),typeof ot.target!="object"&&(ot.target=D($e,ot.target)),ze[ot.source.index]=(ze[ot.source.index]||0)+1,ze[ot.target.index]=(ze[ot.target.index]||0)+1;for(he=0,Ge=new Array(Ne);he<Ne;++he)ot=Qe[he],Ge[he]=ze[ot.source.index]/(ze[ot.source.index]+ze[ot.target.index]);dt=new Array(Ne),Ye(),Et=new Array(Ne),Ce()}}function Ye(){if(rt)for(var he=0,me=Qe.length;he<me;++he)dt[he]=+ht(Qe[he],he,Qe)}function Ce(){if(rt)for(var he=0,me=Qe.length;he<me;++he)Et[he]=+Tt(Qe[he],he,Qe)}return Le.initialize=function(he){rt=he,Pe()},Le.links=function(he){return arguments.length?(Qe=he,Pe(),Le):Qe},Le.id=function(he){return arguments.length?(ct=he,Le):ct},Le.iterations=function(he){return arguments.length?(je=+he,Le):je},Le.strength=function(he){return arguments.length?(ht=typeof he=="function"?he:P(+he),Ye(),Le):ht},Le.distance=function(he){return arguments.length?(Tt=typeof he=="function"?he:P(+he),Ce(),Le):Tt},Le}var k={value:function(){}};function O(){for(var Qe=0,ct=arguments.length,ht={},dt;Qe<ct;++Qe){if(!(dt=arguments[Qe]+"")||dt in ht||/[\s.]/.test(dt))throw new Error("illegal type: "+dt);ht[dt]=[]}return new F(ht)}function F(Qe){this._=Qe}function z(Qe,ct){return Qe.trim().split(/^|\s+/).map(function(ht){var dt="",Tt=ht.indexOf(".");if(Tt>=0&&(dt=ht.slice(Tt+1),ht=ht.slice(0,Tt)),ht&&!ct.hasOwnProperty(ht))throw new Error("unknown type: "+ht);return{type:ht,name:dt}})}F.prototype=O.prototype={constructor:F,on:function(Qe,ct){var ht=this._,dt=z(Qe+"",ht),Tt,Et=-1,rt=dt.length;if(arguments.length<2){for(;++Et<rt;)if((Tt=(Qe=dt[Et]).type)&&(Tt=B(ht[Tt],Qe.name)))return Tt;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Et<rt;)if(Tt=(Qe=dt[Et]).type)ht[Tt]=W(ht[Tt],Qe.name,ct);else if(ct==null)for(Tt in ht)ht[Tt]=W(ht[Tt],Qe.name,null);return this},copy:function(){var Qe={},ct=this._;for(var ht in ct)Qe[ht]=ct[ht].slice();return new F(Qe)},call:function(Qe,ct){if((Tt=arguments.length-2)>0)for(var ht=new Array(Tt),dt=0,Tt,Et;dt<Tt;++dt)ht[dt]=arguments[dt+2];if(!this._.hasOwnProperty(Qe))throw new Error("unknown type: "+Qe);for(Et=this._[Qe],dt=0,Tt=Et.length;dt<Tt;++dt)Et[dt].value.apply(ct,ht)},apply:function(Qe,ct,ht){if(!this._.hasOwnProperty(Qe))throw new Error("unknown type: "+Qe);for(var dt=this._[Qe],Tt=0,Et=dt.length;Tt<Et;++Tt)dt[Tt].value.apply(ct,ht)}};function B(Qe,ct){for(var ht=0,dt=Qe.length,Tt;ht<dt;++ht)if((Tt=Qe[ht]).name===ct)return Tt.value}function W(Qe,ct,ht){for(var dt=0,Tt=Qe.length;dt<Tt;++dt)if(Qe[dt].name===ct){Qe[dt]=k,Qe=Qe.slice(0,dt).concat(Qe.slice(dt+1));break}return ht!=null&&Qe.push({name:ct,value:ht}),Qe}var J=O,re=0,ne=0,le=0,$=1e3,Z,ie,X=0,Q=0,oe=0,j=typeof performance=="object"&&performance.now?performance:Date,Y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qe){setTimeout(Qe,17)};function se(){return Q||(Y(te),Q=j.now()+oe)}function te(){Q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=ge.prototype={constructor:fe,restart:function(Qe,ct,ht){if(typeof Qe!="function")throw new TypeError("callback is not a function");ht=(ht==null?se():+ht)+(ct==null?0:+ct),!this._next&&ie!==this&&(ie?ie._next=this:Z=this,ie=this),this._call=Qe,this._time=ht,Fe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fe())}};function ge(Qe,ct,ht){var dt=new fe;return dt.restart(Qe,ct,ht),dt}function be(){se(),++re;for(var Qe=Z,ct;Qe;)(ct=Q-Qe._time)>=0&&Qe._call.call(null,ct),Qe=Qe._next;--re}function xe(){Q=(X=j.now())+oe,re=ne=0;try{be()}finally{re=0,De(),Q=0}}function _e(){var Qe=j.now(),ct=Qe-X;ct>$&&(oe-=ct,X=Qe)}function De(){for(var Qe,ct=Z,ht,dt=1/0;ct;)ct._call?(dt>ct._time&&(dt=ct._time),Qe=ct,ct=ct._next):(ht=ct._next,ct._next=null,ct=Qe?Qe._next=ht:Z=ht);ie=Qe,Fe(dt)}function Fe(Qe){if(!re){ne&&(ne=clearTimeout(ne));var ct=Qe-Q;ct>24?(Qe<1/0&&(ne=setTimeout(xe,Qe-j.now()-oe)),le&&(le=clearInterval(le))):(le||(X=j.now(),le=setInterval(_e,$)),re=1,Y(xe))}}function Te(Qe){return Qe.x}function Re(Qe){return Qe.y}var Se=10,ke=Math.PI*(3-Math.sqrt(5));function Me(Qe){var ct,ht=1,dt=.001,Tt=1-Math.pow(dt,1/300),Et=0,rt=.6,ze=(0,x.kH)(),Ge=ge(We),je=J("tick","end");Qe==null&&(Qe=[]);function We(){Le(),je.call("tick",ct),ht<dt&&(Ge.stop(),je.call("end",ct))}function Le(Ce){var he,me=Qe.length,Ne;Ce===void 0&&(Ce=1);for(var $e=0;$e<Ce;++$e)for(ht+=(Et-ht)*Tt,ze.each(function(ot){ot(ht)}),he=0;he<me;++he)Ne=Qe[he],Ne.fx==null?Ne.x+=Ne.vx*=rt:(Ne.x=Ne.fx,Ne.vx=0),Ne.fy==null?Ne.y+=Ne.vy*=rt:(Ne.y=Ne.fy,Ne.vy=0);return ct}function Pe(){for(var Ce=0,he=Qe.length,me;Ce<he;++Ce){if(me=Qe[Ce],me.index=Ce,me.fx!=null&&(me.x=me.fx),me.fy!=null&&(me.y=me.fy),isNaN(me.x)||isNaN(me.y)){var Ne=Se*Math.sqrt(Ce),$e=Ce*ke;me.x=Ne*Math.cos($e),me.y=Ne*Math.sin($e)}(isNaN(me.vx)||isNaN(me.vy))&&(me.vx=me.vy=0)}}function Ye(Ce){return Ce.initialize&&Ce.initialize(Qe),Ce}return Pe(),ct={tick:Le,restart:function(){return Ge.restart(We),ct},stop:function(){return Ge.stop(),ct},nodes:function(Ce){return arguments.length?(Qe=Ce,Pe(),ze.each(Ye),ct):Qe},alpha:function(Ce){return arguments.length?(ht=+Ce,ct):ht},alphaMin:function(Ce){return arguments.length?(dt=+Ce,ct):dt},alphaDecay:function(Ce){return arguments.length?(Tt=+Ce,ct):+Tt},alphaTarget:function(Ce){return arguments.length?(Et=+Ce,ct):Et},velocityDecay:function(Ce){return arguments.length?(rt=1-Ce,ct):1-rt},force:function(Ce,he){return arguments.length>1?(he==null?ze.remove(Ce):ze.set(Ce,Ye(he)),ct):ze.get(Ce)},find:function(Ce,he,me){var Ne=0,$e=Qe.length,ot,st,Wt,Zt,At;for(me==null?me=1/0:me*=me,Ne=0;Ne<$e;++Ne)Zt=Qe[Ne],ot=Ce-Zt.x,st=he-Zt.y,Wt=ot*ot+st*st,Wt<me&&(At=Zt,me=Wt);return At},on:function(Ce,he){return arguments.length>1?(je.on(Ce,he),ct):je.on(Ce)}}}function Ve(){var Qe,ct,ht,dt=P(-30),Tt,Et=1,rt=1/0,ze=.81;function Ge(Pe){var Ye,Ce=Qe.length,he=w(Qe,Te,Re).visitAfter(We);for(ht=Pe,Ye=0;Ye<Ce;++Ye)ct=Qe[Ye],he.visit(Le)}function je(){if(Qe){var Pe,Ye=Qe.length,Ce;for(Tt=new Array(Ye),Pe=0;Pe<Ye;++Pe)Ce=Qe[Pe],Tt[Ce.index]=+dt(Ce,Pe,Qe)}}function We(Pe){var Ye=0,Ce,he,me=0,Ne,$e,ot;if(Pe.length){for(Ne=$e=ot=0;ot<4;++ot)(Ce=Pe[ot])&&(he=Math.abs(Ce.value))&&(Ye+=Ce.value,me+=he,Ne+=he*Ce.x,$e+=he*Ce.y);Pe.x=Ne/me,Pe.y=$e/me}else{Ce=Pe,Ce.x=Ce.data.x,Ce.y=Ce.data.y;do Ye+=Tt[Ce.data.index];while(Ce=Ce.next)}Pe.value=Ye}function Le(Pe,Ye,Ce,he){if(!Pe.value)return!0;var me=Pe.x-ct.x,Ne=Pe.y-ct.y,$e=he-Ye,ot=me*me+Ne*Ne;if($e*$e/ze<ot)return ot<rt&&(me===0&&(me=s(),ot+=me*me),Ne===0&&(Ne=s(),ot+=Ne*Ne),ot<Et&&(ot=Math.sqrt(Et*ot)),ct.vx+=me*Pe.value*ht/ot,ct.vy+=Ne*Pe.value*ht/ot),!0;if(Pe.length||ot>=rt)return;(Pe.data!==ct||Pe.next)&&(me===0&&(me=s(),ot+=me*me),Ne===0&&(Ne=s(),ot+=Ne*Ne),ot<Et&&(ot=Math.sqrt(Et*ot)));do Pe.data!==ct&&($e=Tt[Pe.data.index]*ht/ot,ct.vx+=me*$e,ct.vy+=Ne*$e);while(Pe=Pe.next)}return Ge.initialize=function(Pe){Qe=Pe,je()},Ge.strength=function(Pe){return arguments.length?(dt=typeof Pe=="function"?Pe:P(+Pe),je(),Ge):dt},Ge.distanceMin=function(Pe){return arguments.length?(Et=Pe*Pe,Ge):Math.sqrt(Et)},Ge.distanceMax=function(Pe){return arguments.length?(rt=Pe*Pe,Ge):Math.sqrt(rt)},Ge.theta=function(Pe){return arguments.length?(ze=Pe*Pe,Ge):Math.sqrt(ze)},Ge}function tt(Qe,ct,ht){var dt,Tt=P(.1),Et,rt;typeof Qe!="function"&&(Qe=P(+Qe)),ct==null&&(ct=0),ht==null&&(ht=0);function ze(je){for(var We=0,Le=dt.length;We<Le;++We){var Pe=dt[We],Ye=Pe.x-ct||1e-6,Ce=Pe.y-ht||1e-6,he=Math.sqrt(Ye*Ye+Ce*Ce),me=(rt[We]-he)*Et[We]*je/he;Pe.vx+=Ye*me,Pe.vy+=Ce*me}}function Ge(){if(dt){var je,We=dt.length;for(Et=new Array(We),rt=new Array(We),je=0;je<We;++je)rt[je]=+Qe(dt[je],je,dt),Et[je]=isNaN(rt[je])?0:+Tt(dt[je],je,dt)}}return ze.initialize=function(je){dt=je,Ge()},ze.strength=function(je){return arguments.length?(Tt=typeof je=="function"?je:P(+je),Ge(),ze):Tt},ze.radius=function(je){return arguments.length?(Qe=typeof je=="function"?je:P(+je),Ge(),ze):Qe},ze.x=function(je){return arguments.length?(ct=+je,ze):ct},ze.y=function(je){return arguments.length?(ht=+je,ze):ht},ze}function it(Qe){var ct=P(.1),ht,dt,Tt;typeof Qe!="function"&&(Qe=P(Qe==null?0:+Qe));function Et(ze){for(var Ge=0,je=ht.length,We;Ge<je;++Ge)We=ht[Ge],We.vx+=(Tt[Ge]-We.x)*dt[Ge]*ze}function rt(){if(ht){var ze,Ge=ht.length;for(dt=new Array(Ge),Tt=new Array(Ge),ze=0;ze<Ge;++ze)dt[ze]=isNaN(Tt[ze]=+Qe(ht[ze],ze,ht))?0:+ct(ht[ze],ze,ht)}}return Et.initialize=function(ze){ht=ze,rt()},Et.strength=function(ze){return arguments.length?(ct=typeof ze=="function"?ze:P(+ze),rt(),Et):ct},Et.x=function(ze){return arguments.length?(Qe=typeof ze=="function"?ze:P(+ze),rt(),Et):Qe},Et}function Je(Qe){var ct=P(.1),ht,dt,Tt;typeof Qe!="function"&&(Qe=P(Qe==null?0:+Qe));function Et(ze){for(var Ge=0,je=ht.length,We;Ge<je;++Ge)We=ht[Ge],We.vy+=(Tt[Ge]-We.y)*dt[Ge]*ze}function rt(){if(ht){var ze,Ge=ht.length;for(dt=new Array(Ge),Tt=new Array(Ge),ze=0;ze<Ge;++ze)dt[ze]=isNaN(Tt[ze]=+Qe(ht[ze],ze,ht))?0:+ct(ht[ze],ze,ht)}}return Et.initialize=function(ze){ht=ze,rt()},Et.strength=function(ze){return arguments.length?(ct=typeof ze=="function"?ze:P(+ze),rt(),Et):ct},Et.y=function(ze){return arguments.length?(Qe=typeof ze=="function"?ze:P(+ze),rt(),Et):Qe},Et}},57624:function(G,H,e){e.d(H,{E9:function(){return i},SO:function(){return T}});function m(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function P(b,w){if((C=(b=w?b.toExponential(w-1):b.toExponential()).indexOf("e"))<0)return null;var C,y=b.slice(0,C);return[y.length>1?y[0]+y.slice(2):y,+b.slice(C+1)]}function s(b){return b=P(Math.abs(b)),b?b[1]:NaN}function L(b,w){return function(C,y){for(var E=C.length,A=[],o=0,M=b[0],x=0;E>0&&M>0&&(x+M+1>y&&(M=Math.max(1,y-x)),A.push(C.substring(E-=M,E+M)),!((x+=M+1)>y));)M=b[o=(o+1)%b.length];return A.reverse().join(w)}}function S(b){return function(w){return w.replace(/[0-9]/g,function(C){return b[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(b){if(!(w=v.exec(b)))throw new Error("invalid format: "+b);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var w=b.length,C=1,y=-1,E;C<w;++C)switch(b[C]){case".":y=E=C;break;case"0":y===0&&(y=C),E=C;break;default:if(!+b[C])break e;y>0&&(y=0);break}return y>0?b.slice(0,y)+b.slice(E+1):b}var a;function n(b,w){var C=P(b,w);if(!C)return b+"";var y=C[0],E=C[1],A=E-(a=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,o=y.length;return A===o?y:A>o?y+new Array(A-o+1).join("0"):A>0?y.slice(0,A)+"."+y.slice(A):"0."+new Array(1-A).join("0")+P(b,Math.max(0,w+A-1))[0]}function f(b,w){var C=P(b,w);if(!C)return b+"";var y=C[0],E=C[1];return E<0?"0."+new Array(-E).join("0")+y:y.length>E+1?y.slice(0,E+1)+"."+y.slice(E+1):y+new Array(E-y.length+2).join("0")}var u={"%":function(b,w){return(b*100).toFixed(w)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:m,e:function(b,w){return b.toExponential(w)},f:function(b,w){return b.toFixed(w)},g:function(b,w){return b.toPrecision(w)},o:function(b){return Math.round(b).toString(8)},p:function(b,w){return f(b*100,w)},r:f,s:n,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function l(b){return b}var g=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T(b){var w=b.grouping===void 0||b.thousands===void 0?l:L(g.call(b.grouping,Number),b.thousands+""),C=b.currency===void 0?"":b.currency[0]+"",y=b.currency===void 0?"":b.currency[1]+"",E=b.decimal===void 0?".":b.decimal+"",A=b.numerals===void 0?l:S(g.call(b.numerals,String)),o=b.percent===void 0?"%":b.percent+"",M=b.minus===void 0?"-":b.minus+"",x=b.nan===void 0?"NaN":b.nan+"";function I(N){N=p(N);var k=N.fill,O=N.align,F=N.sign,z=N.symbol,B=N.zero,W=N.width,J=N.comma,re=N.precision,ne=N.trim,le=N.type;le==="n"?(J=!0,le="g"):u[le]||(re===void 0&&(re=12),ne=!0,le="g"),(B||k==="0"&&O==="=")&&(B=!0,k="0",O="=");var $=z==="$"?C:z==="#"&&/[boxX]/.test(le)?"0"+le.toLowerCase():"",Z=z==="$"?y:/[%p]/.test(le)?o:"",ie=u[le],X=/[defgprs%]/.test(le);re=re===void 0?6:/[gprs]/.test(le)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function Q(oe){var j=$,Y=Z,se,te,fe;if(le==="c")Y=ie(oe)+Y,oe="";else{oe=+oe;var ge=oe<0||1/oe<0;if(oe=isNaN(oe)?x:ie(Math.abs(oe),re),ne&&(oe=t(oe)),ge&&+oe==0&&F!=="+"&&(ge=!1),j=(ge?F==="("?F:M:F==="-"||F==="("?"":F)+j,Y=(le==="s"?h[8+a/3]:"")+Y+(ge&&F==="("?")":""),X){for(se=-1,te=oe.length;++se<te;)if(fe=oe.charCodeAt(se),48>fe||fe>57){Y=(fe===46?E+oe.slice(se+1):oe.slice(se))+Y,oe=oe.slice(0,se);break}}}J&&!B&&(oe=w(oe,1/0));var be=j.length+oe.length+Y.length,xe=be<W?new Array(W-be+1).join(k):"";switch(J&&B&&(oe=w(xe+oe,xe.length?W-Y.length:1/0),xe=""),O){case"<":oe=j+oe+Y+xe;break;case"=":oe=j+xe+oe+Y;break;case"^":oe=xe.slice(0,be=xe.length>>1)+j+oe+Y+xe.slice(be);break;default:oe=xe+j+oe+Y;break}return A(oe)}return Q.toString=function(){return N+""},Q}function D(N,k){var O=I((N=p(N),N.type="f",N)),F=Math.max(-8,Math.min(8,Math.floor(s(k)/3)))*3,z=Math.pow(10,-F),B=h[8+F/3];return function(W){return O(z*W)+B}}return{format:I,formatPrefix:D}}var c,i;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(b){return c=T(b),i=c.format,c.formatPrefix,c}},87108:function(G,H,e){e.r(H),e.d(H,{geoAiry:function(){return B},geoAiryRaw:function(){return z},geoAitoff:function(){return J},geoAitoffRaw:function(){return W},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return re},geoAugust:function(){return $},geoAugustRaw:function(){return le},geoBaker:function(){return Q},geoBakerRaw:function(){return X},geoBerghaus:function(){return Y},geoBerghausRaw:function(){return j},geoBertin1953:function(){return De},geoBertin1953Raw:function(){return _e},geoBoggs:function(){return tt},geoBoggsRaw:function(){return Ve},geoBonne:function(){return ht},geoBonneRaw:function(){return ct},geoBottomley:function(){return Tt},geoBottomleyRaw:function(){return dt},geoBromley:function(){return rt},geoBromleyRaw:function(){return Et},geoChamberlin:function(){return he},geoChamberlinAfrica:function(){return Ce},geoChamberlinRaw:function(){return Pe},geoCollignon:function(){return Ne},geoCollignonRaw:function(){return me},geoCraig:function(){return ot},geoCraigRaw:function(){return $e},geoCraster:function(){return Zt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return Rt},geoCylindricalEqualAreaRaw:function(){return At},geoCylindricalStereographic:function(){return ir},geoCylindricalStereographicRaw:function(){return Xt},geoEckert1:function(){return Kt},geoEckert1Raw:function(){return pt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return mt},geoEckert3Raw:function(){return ur},geoEckert4:function(){return bt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Ct},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Ht},geoEisenlohr:function(){return qt},geoEisenlohrRaw:function(){return Ut},geoFahey:function(){return He},geoFaheyRaw:function(){return rr},geoFoucaut:function(){return Ot},geoFoucautRaw:function(){return Ue},geoFoucautSinusoidal:function(){return Jt},geoFoucautSinusoidalRaw:function(){return It},geoGilbert:function(){return sr},geoGingery:function(){return Hr},geoGingeryRaw:function(){return dr},geoGinzburg4:function(){return an},geoGinzburg4Raw:function(){return Dr},geoGinzburg5:function(){return Sn},geoGinzburg5Raw:function(){return tn},geoGinzburg6:function(){return Tr},geoGinzburg6Raw:function(){return Tn},geoGinzburg8:function(){return jr},geoGinzburg8Raw:function(){return zr},geoGinzburg9:function(){return ln},geoGinzburg9Raw:function(){return Or},geoGringorten:function(){return ia},geoGringortenQuincuncial:function(){return oh},geoGringortenRaw:function(){return Mn},geoGuyou:function(){return vn},geoGuyouRaw:function(){return mr},geoHammer:function(){return ge},geoHammerRaw:function(){return te},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return bn},geoHealpix:function(){return un},geoHealpixRaw:function(){return Ar},geoHill:function(){return Zr},geoHillRaw:function(){return Cr},geoHomolosine:function(){return Vn},geoHomolosineRaw:function(){return En},geoHufnagel:function(){return va},geoHufnagelRaw:function(){return Bn},geoHyperelliptical:function(){return gi},geoHyperellipticalRaw:function(){return _a},geoInterrupt:function(){return to},geoInterruptedBoggs:function(){return af},geoInterruptedHomolosine:function(){return ti},geoInterruptedMollweide:function(){return of},geoInterruptedMollweideHemispheres:function(){return bo},geoInterruptedQuarticAuthalic:function(){return Us},geoInterruptedSinuMollweide:function(){return Iu},geoInterruptedSinusoidal:function(){return El},geoKavrayskiy7:function(){return Hi},geoKavrayskiy7Raw:function(){return Oi},geoLagrange:function(){return ro},geoLagrangeRaw:function(){return Cl},geoLarrivee:function(){return Hf},geoLarriveeRaw:function(){return zo},geoLaskowski:function(){return Yc},geoLaskowskiRaw:function(){return Lo},geoLittrow:function(){return Ji},geoLittrowRaw:function(){return cs},geoLoximuthal:function(){return Bs},geoLoximuthalRaw:function(){return sf},geoMiller:function(){return lf},geoMillerRaw:function(){return hs},geoModifiedStereographic:function(){return al},geoModifiedStereographicAlaska:function(){return uf},geoModifiedStereographicGs48:function(){return Qc},geoModifiedStereographicGs50:function(){return $c},geoModifiedStereographicLee:function(){return jf},geoModifiedStereographicMiller:function(){return Wf},geoModifiedStereographicRaw:function(){return Gf},geoMollweide:function(){return Se},geoMollweideRaw:function(){return Re},geoMtFlatPolarParabolic:function(){return Yf},geoMtFlatPolarParabolicRaw:function(){return ru},geoMtFlatPolarQuartic:function(){return qc},geoMtFlatPolarQuarticRaw:function(){return Ms},geoMtFlatPolarSinusoidal:function(){return Xf},geoMtFlatPolarSinusoidalRaw:function(){return zu},geoNaturalEarth:function(){return Zf.c},geoNaturalEarth2:function(){return Zo},geoNaturalEarth2Raw:function(){return Ou},geoNaturalEarthRaw:function(){return Zf.g},geoNellHammer:function(){return il},geoNellHammerRaw:function(){return Pl},geoNicolosi:function(){return ff},geoNicolosiRaw:function(){return vs},geoPatterson:function(){return Il},geoPattersonRaw:function(){return Nu},geoPeirceQuincuncial:function(){return ec},geoPierceQuincuncial:function(){return ec},geoPolyconic:function(){return th},geoPolyconicRaw:function(){return Bu},geoPolyhedral:function(){return yi},geoPolyhedralButterfly:function(){return iu},geoPolyhedralCollignon:function(){return sl},geoPolyhedralWaterman:function(){return Hs},geoProject:function(){return ah},geoQuantize:function(){return tc},geoQuincuncial:function(){return Ls},geoRectangularPolyconic:function(){return rc},geoRectangularPolyconicRaw:function(){return yf},geoRobinson:function(){return Gs},geoRobinsonRaw:function(){return es},geoSatellite:function(){return ll},geoSatelliteRaw:function(){return Gu},geoSinuMollweide:function(){return zn},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return Qe},geoSinusoidalRaw:function(){return Je},geoStitch:function(){return hu},geoTimes:function(){return Gi},geoTimesRaw:function(){return Ys},geoTwoPointAzimuthal:function(){return Yu},geoTwoPointAzimuthalRaw:function(){return xf},geoTwoPointAzimuthalUsa:function(){return fl},geoTwoPointEquidistant:function(){return ic},geoTwoPointEquidistantRaw:function(){return vu},geoTwoPointEquidistantUsa:function(){return sh},geoVanDerGrinten:function(){return du},geoVanDerGrinten2:function(){return oc},geoVanDerGrinten2Raw:function(){return Hl},geoVanDerGrinten3:function(){return lh},geoVanDerGrinten3Raw:function(){return Xs},geoVanDerGrinten4:function(){return pu},geoVanDerGrinten4Raw:function(){return _o},geoVanDerGrintenRaw:function(){return po},geoWagner:function(){return Zs},geoWagner4:function(){return sc},geoWagner4Raw:function(){return Zu},geoWagner6:function(){return wf},geoWagner6Raw:function(){return mu},geoWagner7:function(){return bf},geoWagnerRaw:function(){return Rs},geoWiechel:function(){return Tf},geoWiechelRaw:function(){return cl},geoWinkel3:function(){return lc},geoWinkel3Raw:function(){return xu}});var m=e(87952),P=Math.abs,s=Math.atan,L=Math.atan2,S=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,a=Math.min,n=Math.pow,f=Math.round,u=Math.sign||function(Ze){return Ze>0?1:Ze<0?-1:0},l=Math.sin,g=Math.tan,h=1e-6,T=1e-12,c=Math.PI,i=c/2,d=c/4,b=Math.SQRT1_2,w=I(2),C=I(c),y=c*2,E=180/c,A=c/180;function o(Ze){return Ze?Ze/Math.sin(Ze):1}function M(Ze){return Ze>1?i:Ze<-1?-i:Math.asin(Ze)}function x(Ze){return Ze>1?0:Ze<-1?c:Math.acos(Ze)}function I(Ze){return Ze>0?Math.sqrt(Ze):0}function D(Ze){return Ze=v(2*Ze),(Ze-1)/(Ze+1)}function N(Ze){return(v(Ze)-v(-Ze))/2}function k(Ze){return(v(Ze)+v(-Ze))/2}function O(Ze){return r(Ze+I(Ze*Ze+1))}function F(Ze){return r(Ze+I(Ze*Ze-1))}function z(Ze){var at=g(Ze/2),gt=2*r(S(Ze/2))/(at*at);function wt(zt,kt){var Ft=S(zt),gr=S(kt),wr=l(kt),lr=gr*Ft,Sr=-((1-lr?r((1+lr)/2)/(1-lr):-.5)+gt/(1+lr));return[Sr*gr*l(zt),Sr*wr]}return wt.invert=function(zt,kt){var Ft=I(zt*zt+kt*kt),gr=-Ze/2,wr=50,lr;if(!Ft)return[0,0];do{var Sr=gr/2,Ir=S(Sr),Ur=l(Sr),on=Ur/Ir,xn=-r(P(Ir));gr-=lr=(2/on*xn-gt*on-Ft)/(-xn/(Ur*Ur)+1-gt/(2*Ir*Ir))*(Ir<0?.7:1)}while(P(lr)>h&&--wr>0);var _n=l(gr);return[L(zt*_n,Ft*S(gr)),M(kt*_n/Ft)]},wt}function B(){var Ze=i,at=(0,m.U)(z),gt=at(Ze);return gt.radius=function(wt){return arguments.length?at(Ze=wt*A):Ze*E},gt.scale(179.976).clipAngle(147)}function W(Ze,at){var gt=S(at),wt=o(x(gt*S(Ze/=2)));return[2*gt*l(Ze)*wt,l(at)*wt]}W.invert=function(Ze,at){if(!(Ze*Ze+4*at*at>c*c+h)){var gt=Ze,wt=at,zt=25;do{var kt=l(gt),Ft=l(gt/2),gr=S(gt/2),wr=l(wt),lr=S(wt),Sr=l(2*wt),Ir=wr*wr,Ur=lr*lr,on=Ft*Ft,xn=1-Ur*gr*gr,_n=xn?x(lr*gr)*I(Dn=1/xn):Dn=0,Dn,Kn=2*_n*lr*Ft-Ze,Ra=_n*wr-at,Da=Dn*(Ur*on+_n*lr*gr*Ir),ka=Dn*(.5*kt*Sr-_n*2*wr*Ft),Na=Dn*.25*(Sr*Ft-_n*wr*Ur*kt),Ka=Dn*(Ir*gr+_n*on*lr),di=ka*Na-Ka*Da;if(!di)break;var zi=(Ra*ka-Kn*Ka)/di,ue=(Kn*Na-Ra*Da)/di;gt-=zi,wt-=ue}while((P(zi)>h||P(ue)>h)&&--zt>0);return[gt,wt]}};function J(){return(0,m.c)(W).scale(152.63)}function re(Ze){var at=l(Ze),gt=S(Ze),wt=Ze>=0?1:-1,zt=g(wt*Ze),kt=(1+at-gt)/2;function Ft(gr,wr){var lr=S(wr),Sr=S(gr/=2);return[(1+lr)*l(gr),(wt*wr>-L(Sr,zt)-.001?0:-wt*10)+kt+l(wr)*gt-(1+lr)*at*Sr]}return Ft.invert=function(gr,wr){var lr=0,Sr=0,Ir=50;do{var Ur=S(lr),on=l(lr),xn=S(Sr),_n=l(Sr),Dn=1+xn,Kn=Dn*on-gr,Ra=kt+_n*gt-Dn*at*Ur-wr,Da=Dn*Ur/2,ka=-on*_n,Na=at*Dn*on/2,Ka=gt*xn+at*Ur*_n,di=ka*Na-Ka*Da,zi=(Ra*ka-Kn*Ka)/di/2,ue=(Kn*Na-Ra*Da)/di;P(ue)>2&&(ue/=2),lr-=zi,Sr-=ue}while((P(zi)>h||P(ue)>h)&&--Ir>0);return wt*Sr>-L(S(lr),zt)-.001?[lr*2,Sr]:null},Ft}function ne(){var Ze=20*A,at=Ze>=0?1:-1,gt=g(at*Ze),wt=(0,m.U)(re),zt=wt(Ze),kt=zt.stream;return zt.parallel=function(Ft){return arguments.length?(gt=g((at=(Ze=Ft*A)>=0?1:-1)*Ze),wt(Ze)):Ze*E},zt.stream=function(Ft){var gr=zt.rotate(),wr=kt(Ft),lr=(zt.rotate([0,0]),kt(Ft)),Sr=zt.precision();return zt.rotate(gr),wr.sphere=function(){lr.polygonStart(),lr.lineStart();for(var Ir=at*-180;at*Ir<180;Ir+=at*90)lr.point(Ir,at*90);if(Ze)for(;at*(Ir-=3*at*Sr)>=-180;)lr.point(Ir,at*-L(S(Ir*A/2),gt)*E);lr.lineEnd(),lr.polygonEnd()},wr},zt.scale(218.695).center([0,28.0974])}function le(Ze,at){var gt=g(at/2),wt=I(1-gt*gt),zt=1+wt*S(Ze/=2),kt=l(Ze)*wt/zt,Ft=gt/zt,gr=kt*kt,wr=Ft*Ft;return[1.3333333333333333*kt*(3+gr-3*wr),1.3333333333333333*Ft*(3+3*gr-wr)]}le.invert=function(Ze,at){if(Ze*=.375,at*=.375,!Ze&&P(at)>1)return null;var gt=Ze*Ze,wt=at*at,zt=1+gt+wt,kt=I((zt-I(zt*zt-4*at*at))/2),Ft=M(kt)/3,gr=kt?F(P(at/kt))/3:O(P(Ze))/3,wr=S(Ft),lr=k(gr),Sr=lr*lr-wr*wr;return[u(Ze)*2*L(N(gr)*wr,.25-Sr),u(at)*2*L(lr*l(Ft),.25+Sr)]};function $(){return(0,m.c)(le).scale(66.1603)}var Z=I(8),ie=r(1+w);function X(Ze,at){var gt=P(at);return gt<d?[Ze,r(g(d+at/2))]:[Ze*S(gt)*(2*w-1/l(gt)),u(at)*(2*w*(gt-d)-r(g(gt/2)))]}X.invert=function(Ze,at){if((kt=P(at))<ie)return[Ze,2*s(v(at))-i];var gt=d,wt=25,zt,kt;do{var Ft=S(gt/2),gr=g(gt/2);gt-=zt=(Z*(gt-d)-r(gr)-kt)/(Z-Ft*Ft/(2*gr))}while(P(zt)>T&&--wt>0);return[Ze/(S(gt)*(Z-1/l(gt))),u(at)*gt]};function Q(){return(0,m.c)(X).scale(112.314)}var oe=e(69020);function j(Ze){var at=2*c/Ze;function gt(wt,zt){var kt=(0,oe.O)(wt,zt);if(P(wt)>i){var Ft=L(kt[1],kt[0]),gr=I(kt[0]*kt[0]+kt[1]*kt[1]),wr=at*f((Ft-i)/at)+i,lr=L(l(Ft-=wr),2-S(Ft));Ft=wr+M(c/gr*l(lr))-lr,kt[0]=gr*S(Ft),kt[1]=gr*l(Ft)}return kt}return gt.invert=function(wt,zt){var kt=I(wt*wt+zt*zt);if(kt>i){var Ft=L(zt,wt),gr=at*f((Ft-i)/at)+i,wr=Ft>gr?-1:1,lr=kt*S(gr-Ft),Sr=1/g(wr*x((lr-c)/I(c*(c-2*lr)+kt*kt)));Ft=gr+2*s((Sr+wr*I(Sr*Sr-3))/3),wt=kt*S(Ft),zt=kt*l(Ft)}return oe.O.invert(wt,zt)},gt}function Y(){var Ze=5,at=(0,m.U)(j),gt=at(Ze),wt=gt.stream,zt=.01,kt=-S(zt*A),Ft=l(zt*A);return gt.lobes=function(gr){return arguments.length?at(Ze=+gr):Ze},gt.stream=function(gr){var wr=gt.rotate(),lr=wt(gr),Sr=(gt.rotate([0,0]),wt(gr));return gt.rotate(wr),lr.sphere=function(){Sr.polygonStart(),Sr.lineStart();for(var Ir=0,Ur=360/Ze,on=2*c/Ze,xn=90-180/Ze,_n=i;Ir<Ze;++Ir,xn-=Ur,_n-=on)Sr.point(L(Ft*S(_n),kt)*E,M(Ft*l(_n))*E),xn<-90?(Sr.point(-90,-180-xn-zt),Sr.point(-90,-180-xn+zt)):(Sr.point(90,xn+zt),Sr.point(90,xn-zt));Sr.lineEnd(),Sr.polygonEnd()},lr},gt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function te(Ze,at){if(arguments.length<2&&(at=Ze),at===1)return se.y;if(at===1/0)return fe;function gt(wt,zt){var kt=(0,se.y)(wt/at,zt);return kt[0]*=Ze,kt}return gt.invert=function(wt,zt){var kt=se.y.invert(wt/Ze,zt);return kt[0]*=at,kt},gt}function fe(Ze,at){return[Ze*S(at)/S(at/=2),2*l(at)]}fe.invert=function(Ze,at){var gt=2*M(at/2);return[Ze*S(gt/2)/S(gt),gt]};function ge(){var Ze=2,at=(0,m.U)(te),gt=at(Ze);return gt.coefficient=function(wt){return arguments.length?at(Ze=+wt):Ze},gt.scale(169.529)}function be(Ze,at,gt){var wt=100,zt,kt,Ft;gt=gt===void 0?0:+gt,at=+at;do kt=Ze(gt),Ft=Ze(gt+h),kt===Ft&&(Ft=kt+h),gt-=zt=-1*h*(kt-at)/(kt-Ft);while(wt-- >0&&P(zt)>h);return wt<0?NaN:gt}function xe(Ze,at,gt){return at===void 0&&(at=40),gt===void 0&&(gt=T),function(wt,zt,kt,Ft){var gr,wr,lr;kt=kt===void 0?0:+kt,Ft=Ft===void 0?0:+Ft;for(var Sr=0;Sr<at;Sr++){var Ir=Ze(kt,Ft),Ur=Ir[0]-wt,on=Ir[1]-zt;if(P(Ur)<gt&&P(on)<gt)break;var xn=Ur*Ur+on*on;if(xn>gr){kt-=wr/=2,Ft-=lr/=2;continue}gr=xn;var _n=(kt>0?-1:1)*gt,Dn=(Ft>0?-1:1)*gt,Kn=Ze(kt+_n,Ft),Ra=Ze(kt,Ft+Dn),Da=(Kn[0]-Ir[0])/_n,ka=(Kn[1]-Ir[1])/_n,Na=(Ra[0]-Ir[0])/Dn,Ka=(Ra[1]-Ir[1])/Dn,di=Ka*Da-ka*Na,zi=(P(di)<.5?.5:1)/di;if(wr=(on*Na-Ur*Ka)*zi,lr=(Ur*ka-on*Da)*zi,kt+=wr,Ft+=lr,P(wr)<gt&&P(lr)<gt)break}return[kt,Ft]}}function _e(){var Ze=te(1.68,2),at=1.4,gt=12;function wt(zt,kt){if(zt+kt<-at){var Ft=(zt-kt+1.6)*(zt+kt+at)/8;zt+=Ft,kt-=.8*Ft*l(kt+c/2)}var gr=Ze(zt,kt),wr=(1-S(zt*kt))/gt;return gr[1]<0&&(gr[0]*=1+wr),gr[1]>0&&(gr[1]*=1+wr/1.5*gr[0]*gr[0]),gr}return wt.invert=xe(wt),wt}function De(){return(0,m.c)(_e()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Fe(Ze,at){var gt=Ze*l(at),wt=30,zt;do at-=zt=(at+l(at)-gt)/(1+S(at));while(P(zt)>h&&--wt>0);return at/2}function Te(Ze,at,gt){function wt(zt,kt){return[Ze*zt*S(kt=Fe(gt,kt)),at*l(kt)]}return wt.invert=function(zt,kt){return kt=M(kt/at),[zt/(Ze*S(kt)),M((2*kt+l(2*kt))/gt)]},wt}var Re=Te(w/i,w,c);function Se(){return(0,m.c)(Re).scale(169.529)}var ke=2.00276,Me=1.11072;function Ve(Ze,at){var gt=Fe(c,at);return[ke*Ze/(1/S(at)+Me/S(gt)),(at+w*l(gt))/ke]}Ve.invert=function(Ze,at){var gt=ke*at,wt=at<0?-d:d,zt=25,kt,Ft;do Ft=gt-w*l(wt),wt-=kt=(l(2*wt)+2*wt-c*l(Ft))/(2*S(2*wt)+2+c*S(Ft)*w*S(wt));while(P(kt)>h&&--zt>0);return Ft=gt-w*l(wt),[Ze*(1/S(Ft)+Me/S(wt))/ke,Ft]};function tt(){return(0,m.c)(Ve).scale(160.857)}function it(Ze){var at=0,gt=(0,m.U)(Ze),wt=gt(at);return wt.parallel=function(zt){return arguments.length?gt(at=zt*A):at*E},wt}function Je(Ze,at){return[Ze*S(at),at]}Je.invert=function(Ze,at){return[Ze/S(at),at]};function Qe(){return(0,m.c)(Je).scale(152.63)}function ct(Ze){if(!Ze)return Je;var at=1/g(Ze);function gt(wt,zt){var kt=at+Ze-zt,Ft=kt&&wt*S(zt)/kt;return[kt*l(Ft),at-kt*S(Ft)]}return gt.invert=function(wt,zt){var kt=I(wt*wt+(zt=at-zt)*zt),Ft=at+Ze-kt;return[kt/S(Ft)*L(wt,zt),Ft]},gt}function ht(){return it(ct).scale(123.082).center([0,26.1441]).parallel(45)}function dt(Ze){function at(gt,wt){var zt=i-wt,kt=zt&&gt*Ze*l(zt)/zt;return[zt*l(kt)/Ze,i-zt*S(kt)]}return at.invert=function(gt,wt){var zt=gt*Ze,kt=i-wt,Ft=I(zt*zt+kt*kt),gr=L(zt,kt);return[(Ft?Ft/l(Ft):1)*gr/Ze,i-Ft]},at}function Tt(){var Ze=.5,at=(0,m.U)(dt),gt=at(Ze);return gt.fraction=function(wt){return arguments.length?at(Ze=+wt):Ze},gt.scale(158.837)}var Et=Te(1,4/c,c);function rt(){return(0,m.c)(Et).scale(152.63)}var ze=e(24052),Ge=e(92992);function je(Ze,at,gt,wt,zt,kt){var Ft=S(kt),gr;if(P(Ze)>1||P(kt)>1)gr=x(gt*zt+at*wt*Ft);else{var wr=l(Ze/2),lr=l(kt/2);gr=2*M(I(wr*wr+at*wt*lr*lr))}return P(gr)>h?[gr,L(wt*l(kt),at*zt-gt*wt*Ft)]:[0,0]}function We(Ze,at,gt){return x((Ze*Ze+at*at-gt*gt)/(2*Ze*at))}function Le(Ze){return Ze-2*c*p((Ze+c)/(2*c))}function Pe(Ze,at,gt){for(var wt=[[Ze[0],Ze[1],l(Ze[1]),S(Ze[1])],[at[0],at[1],l(at[1]),S(at[1])],[gt[0],gt[1],l(gt[1]),S(gt[1])]],zt=wt[2],kt,Ft=0;Ft<3;++Ft,zt=kt)kt=wt[Ft],zt.v=je(kt[1]-zt[1],zt[3],zt[2],kt[3],kt[2],kt[0]-zt[0]),zt.point=[0,0];var gr=We(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=We(wt[0].v[0],wt[1].v[0],wt[2].v[0]),lr=c-gr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Sr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*S(gr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(gr))];function Ir(Ur,on){var xn=l(on),_n=S(on),Dn=new Array(3),Kn;for(Kn=0;Kn<3;++Kn){var Ra=wt[Kn];if(Dn[Kn]=je(on-Ra[1],Ra[3],Ra[2],_n,xn,Ur-Ra[0]),!Dn[Kn][0])return Ra.point;Dn[Kn][1]=Le(Dn[Kn][1]-Ra.v[1])}var Da=Sr.slice();for(Kn=0;Kn<3;++Kn){var ka=Kn==2?0:Kn+1,Na=We(wt[Kn].v[0],Dn[Kn][0],Dn[ka][0]);Dn[Kn][1]<0&&(Na=-Na),Kn?Kn==1?(Na=wr-Na,Da[0]-=Dn[Kn][0]*S(Na),Da[1]-=Dn[Kn][0]*l(Na)):(Na=lr-Na,Da[0]+=Dn[Kn][0]*S(Na),Da[1]+=Dn[Kn][0]*l(Na)):(Da[0]+=Dn[Kn][0]*S(Na),Da[1]-=Dn[Kn][0]*l(Na))}return Da[0]/=3,Da[1]/=3,Da}return Ir}function Ye(Ze){return Ze[0]*=A,Ze[1]*=A,Ze}function Ce(){return he([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function he(Ze,at,gt){var wt=(0,ze.c)({type:"MultiPoint",coordinates:[Ze,at,gt]}),zt=[-wt[0],-wt[1]],kt=(0,Ge.c)(zt),Ft=Pe(Ye(kt(Ze)),Ye(kt(at)),Ye(kt(gt)));Ft.invert=xe(Ft);var gr=(0,m.c)(Ft).rotate(zt),wr=gr.center;return delete gr.rotate,gr.center=function(lr){return arguments.length?wr(kt(lr)):kt.invert(wr())},gr.clipAngle(90)}function me(Ze,at){var gt=I(1-l(at));return[2/C*Ze*gt,C*(1-gt)]}me.invert=function(Ze,at){var gt=(gt=at/C-1)*gt;return[gt>0?Ze*I(c/gt)/2:0,M(1-gt)]};function Ne(){return(0,m.c)(me).scale(95.6464).center([0,30])}function $e(Ze){var at=g(Ze);function gt(wt,zt){return[wt,(wt?wt/l(wt):1)*(l(zt)*S(wt)-at*S(zt))]}return gt.invert=at?function(wt,zt){wt&&(zt*=l(wt)/wt);var kt=S(wt);return[wt,2*L(I(kt*kt+at*at-zt*zt)-kt,at-zt)]}:function(wt,zt){return[wt,M(wt?zt*g(wt)/wt:zt)]},gt}function ot(){return it($e).scale(249.828).clipAngle(90)}var st=I(3);function Wt(Ze,at){return[st*Ze*(2*S(2*at/3)-1)/C,st*C*l(at/3)]}Wt.invert=function(Ze,at){var gt=3*M(at/(st*C));return[C*Ze/(st*(2*S(2*gt/3)-1)),gt]};function Zt(){return(0,m.c)(Wt).scale(156.19)}function At(Ze){var at=S(Ze);function gt(wt,zt){return[wt*at,l(zt)/at]}return gt.invert=function(wt,zt){return[wt/at,M(zt*at)]},gt}function Rt(){return it(At).parallel(38.58).scale(195.044)}function Xt(Ze){var at=S(Ze);function gt(wt,zt){return[wt*at,(1+at)*g(zt/2)]}return gt.invert=function(wt,zt){return[wt/at,s(zt/(1+at))*2]},gt}function ir(){return it(Xt).scale(124.75)}function pt(Ze,at){var gt=I(8/(3*c));return[gt*Ze*(1-P(at)/c),gt*at]}pt.invert=function(Ze,at){var gt=I(8/(3*c)),wt=at/gt;return[Ze/(gt*(1-P(wt)/c)),wt]};function Kt(){return(0,m.c)(pt).scale(165.664)}function Qt(Ze,at){var gt=I(4-3*l(P(at)));return[2/I(6*c)*Ze*gt,u(at)*I(2*c/3)*(2-gt)]}Qt.invert=function(Ze,at){var gt=2-P(at)/I(2*c/3);return[Ze*I(6*c)/(2*gt),u(at)*M((4-gt*gt)/3)]};function yr(){return(0,m.c)(Qt).scale(165.664)}function ur(Ze,at){var gt=I(c*(4+c));return[2/gt*Ze*(1+I(1-4*at*at/(c*c))),4/gt*at]}ur.invert=function(Ze,at){var gt=I(c*(4+c))/2;return[Ze*gt/(1+I(1-at*at*(4+c)/(4*c))),at*gt/2]};function mt(){return(0,m.c)(ur).scale(180.739)}function lt(Ze,at){var gt=(2+i)*l(at);at/=2;for(var wt=0,zt=1/0;wt<10&&P(zt)>h;wt++){var kt=S(at);at-=zt=(at+l(at)*(kt+2)-gt)/(2*kt*(1+kt))}return[2/I(c*(4+c))*Ze*(1+S(at)),2*I(c/(4+c))*l(at)]}lt.invert=function(Ze,at){var gt=at*I((4+c)/c)/2,wt=M(gt),zt=S(wt);return[Ze/(2/I(c*(4+c))*(1+zt)),M((wt+gt*(zt+2))/(2+i))]};function bt(){return(0,m.c)(lt).scale(180.739)}function Ct(Ze,at){return[Ze*(1+S(at))/I(2+c),2*at/I(2+c)]}Ct.invert=function(Ze,at){var gt=I(2+c),wt=at*gt/2;return[gt*Ze/(1+S(wt)),wt]};function Dt(){return(0,m.c)(Ct).scale(173.044)}function Ht(Ze,at){for(var gt=(1+i)*l(at),wt=0,zt=1/0;wt<10&&P(zt)>h;wt++)at-=zt=(at+l(at)-gt)/(1+S(at));return gt=I(2+c),[Ze*(1+S(at))/gt,2*at/gt]}Ht.invert=function(Ze,at){var gt=1+i,wt=I(gt/2);return[Ze*2*wt/(1+S(at*=wt)),M((at+l(at))/gt)]};function Bt(){return(0,m.c)(Ht).scale(173.044)}var xt=3+2*w;function Ut(Ze,at){var gt=l(Ze/=2),wt=S(Ze),zt=I(S(at)),kt=S(at/=2),Ft=l(at)/(kt+w*wt*zt),gr=I(2/(1+Ft*Ft)),wr=I((w*kt+(wt+gt)*zt)/(w*kt+(wt-gt)*zt));return[xt*(gr*(wr-1/wr)-2*r(wr)),xt*(gr*Ft*(wr+1/wr)-2*s(Ft))]}Ut.invert=function(Ze,at){if(!(kt=le.invert(Ze/1.2,at*1.065)))return null;var gt=kt[0],wt=kt[1],zt=20,kt;Ze/=xt,at/=xt;do{var Ft=gt/2,gr=wt/2,wr=l(Ft),lr=S(Ft),Sr=l(gr),Ir=S(gr),Ur=S(wt),on=I(Ur),xn=Sr/(Ir+w*lr*on),_n=xn*xn,Dn=I(2/(1+_n)),Kn=w*Ir+(lr+wr)*on,Ra=w*Ir+(lr-wr)*on,Da=Kn/Ra,ka=I(Da),Na=ka-1/ka,Ka=ka+1/ka,di=Dn*Na-2*r(ka)-Ze,zi=Dn*xn*Ka-2*s(xn)-at,ue=Sr&&b*on*wr*_n/Sr,Ae=(w*lr*Ir+on)/(2*(Ir+w*lr*on)*(Ir+w*lr*on)*on),Be=-.5*xn*Dn*Dn*Dn,et=Be*ue,nt=Be*Ae,ft=(ft=2*Ir+w*on*(lr-wr))*ft*ka,Pt=(w*lr*Ir*on+Ur)/ft,St=-(w*wr*Sr)/(on*ft),Gt=Na*et-2*Pt/ka+Dn*(Pt+Pt/Da),jt=Na*nt-2*St/ka+Dn*(St+St/Da),nr=xn*Ka*et-2*ue/(1+_n)+Dn*Ka*ue+Dn*xn*(Pt-Pt/Da),Lr=xn*Ka*nt-2*Ae/(1+_n)+Dn*Ka*Ae+Dn*xn*(St-St/Da),Pr=jt*nr-Lr*Gt;if(!Pr)break;var $r=(zi*jt-di*Lr)/Pr,sn=(di*nr-zi*Gt)/Pr;gt-=$r,wt=t(-i,a(i,wt-sn))}while((P($r)>h||P(sn)>h)&&--zt>0);return P(P(wt)-i)<h?[0,wt]:zt&&[gt,wt]};function qt(){return(0,m.c)(Ut).scale(62.5271)}var or=S(35*A);function rr(Ze,at){var gt=g(at/2);return[Ze*or*I(1-gt*gt),(1+or)*gt]}rr.invert=function(Ze,at){var gt=at/(1+or);return[Ze&&Ze/(or*I(1-gt*gt)),2*s(gt)]};function He(){return(0,m.c)(rr).scale(137.152)}function Ue(Ze,at){var gt=at/2,wt=S(gt);return[2*Ze/C*S(at)*wt*wt,C*g(gt)]}Ue.invert=function(Ze,at){var gt=s(at/C),wt=S(gt),zt=2*gt;return[Ze*C/2/(S(zt)*wt*wt),zt]};function Ot(){return(0,m.c)(Ue).scale(135.264)}function It(Ze){var at=1-Ze,gt=kt(c,0)[0]-kt(-c,0)[0],wt=kt(0,i)[1]-kt(0,-i)[1],zt=I(2*wt/gt);function kt(wr,lr){var Sr=S(lr),Ir=l(lr);return[Sr/(at+Ze*Sr)*wr,at*lr+Ze*Ir]}function Ft(wr,lr){var Sr=kt(wr,lr);return[Sr[0]*zt,Sr[1]/zt]}function gr(wr){return Ft(0,wr)[1]}return Ft.invert=function(wr,lr){var Sr=be(gr,lr),Ir=wr/zt*(Ze+at/S(Sr));return[Ir,Sr]},Ft}function Jt(){var Ze=.5,at=(0,m.U)(It),gt=at(Ze);return gt.alpha=function(wt){return arguments.length?at(Ze=+wt):Ze},gt.scale(168.725)}var cr=e(4888),vr=e(69604);function tr(Ze){return[Ze[0]/2,M(g(Ze[1]/2*A))*E]}function Nt(Ze){return[Ze[0]*2,2*s(l(Ze[1]*A))*E]}function sr(Ze){Ze==null&&(Ze=cr.c);var at=Ze(),gt=(0,vr.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function wt(kt){return at(tr(kt))}at.invert&&(wt.invert=function(kt){return Nt(at.invert(kt))}),wt.stream=function(kt){var Ft=at.stream(kt),gr=gt.stream({point:function(wr,lr){Ft.point(wr/2,M(g(-lr/2*A))*E)},lineStart:function(){Ft.lineStart()},lineEnd:function(){Ft.lineEnd()},polygonStart:function(){Ft.polygonStart()},polygonEnd:function(){Ft.polygonEnd()}});return gr.sphere=Ft.sphere,gr};function zt(kt){wt[kt]=function(){return arguments.length?(at[kt].apply(at,arguments),wt):at[kt]()}}return wt.rotate=function(kt){return arguments.length?(gt.rotate(kt),wt):gt.rotate()},wt.center=function(kt){return arguments.length?(at.center(tr(kt)),wt):Nt(at.center())},zt("angle"),zt("clipAngle"),zt("clipExtent"),zt("fitExtent"),zt("fitHeight"),zt("fitSize"),zt("fitWidth"),zt("scale"),zt("translate"),zt("precision"),wt.scale(249.5)}function dr(Ze,at){var gt=2*c/at,wt=Ze*Ze;function zt(kt,Ft){var gr=(0,oe.O)(kt,Ft),wr=gr[0],lr=gr[1],Sr=wr*wr+lr*lr;if(Sr>wt){var Ir=I(Sr),Ur=L(lr,wr),on=gt*f(Ur/gt),xn=Ur-on,_n=Ze*S(xn),Dn=(Ze*l(xn)-xn*l(_n))/(i-_n),Kn=xr(xn,Dn),Ra=(c-Ze)/pr(Kn,_n,c);wr=Ir;var Da=50,ka;do wr-=ka=(Ze+pr(Kn,_n,wr)*Ra-Ir)/(Kn(wr)*Ra);while(P(ka)>h&&--Da>0);lr=xn*l(wr),wr<i&&(lr-=Dn*(wr-i));var Na=l(on),Ka=S(on);gr[0]=wr*Ka-lr*Na,gr[1]=wr*Na+lr*Ka}return gr}return zt.invert=function(kt,Ft){var gr=kt*kt+Ft*Ft;if(gr>wt){var wr=I(gr),lr=L(Ft,kt),Sr=gt*f(lr/gt),Ir=lr-Sr;kt=wr*S(Ir),Ft=wr*l(Ir);for(var Ur=kt-i,on=l(kt),xn=Ft/on,_n=kt<i?1/0:0,Dn=10;;){var Kn=Ze*l(xn),Ra=Ze*S(xn),Da=l(Ra),ka=i-Ra,Na=(Kn-xn*Da)/ka,Ka=xr(xn,Na);if(P(_n)<T||!--Dn)break;xn-=_n=(xn*on-Na*Ur-Ft)/(on-Ur*2*(ka*(Ra+xn*Kn*S(Ra)-Da)-Kn*(Kn-xn*Da))/(ka*ka))}wr=Ze+pr(Ka,Ra,kt)*(c-Ze)/pr(Ka,Ra,c),lr=Sr+xn,kt=wr*S(lr),Ft=wr*l(lr)}return oe.O.invert(kt,Ft)},zt}function xr(Ze,at){return function(gt){var wt=Ze*S(gt);return gt<i&&(wt-=at),I(1+wt*wt)}}function pr(Ze,at,gt){for(var wt=50,zt=(gt-at)/wt,kt=Ze(at)+Ze(gt),Ft=1,gr=at;Ft<wt;++Ft)kt+=2*Ze(gr+=zt);return kt*.5*zt}function Hr(){var Ze=6,at=30*A,gt=S(at),wt=l(at),zt=(0,m.U)(dr),kt=zt(at,Ze),Ft=kt.stream,gr=.01,wr=-S(gr*A),lr=l(gr*A);return kt.radius=function(Sr){return arguments.length?(gt=S(at=Sr*A),wt=l(at),zt(at,Ze)):at*E},kt.lobes=function(Sr){return arguments.length?zt(at,Ze=+Sr):Ze},kt.stream=function(Sr){var Ir=kt.rotate(),Ur=Ft(Sr),on=(kt.rotate([0,0]),Ft(Sr));return kt.rotate(Ir),Ur.sphere=function(){on.polygonStart(),on.lineStart();for(var xn=0,_n=2*c/Ze,Dn=0;xn<Ze;++xn,Dn-=_n)on.point(L(lr*S(Dn),wr)*E,M(lr*l(Dn))*E),on.point(L(wt*S(Dn-_n/2),gt)*E,M(wt*l(Dn-_n/2))*E);on.lineEnd(),on.polygonEnd()},Ur},kt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function _r(Ze,at,gt,wt,zt,kt,Ft,gr){arguments.length<8&&(gr=0);function wr(lr,Sr){if(!Sr)return[Ze*lr/c,0];var Ir=Sr*Sr,Ur=Ze+Ir*(at+Ir*(gt+Ir*wt)),on=Sr*(zt-1+Ir*(kt-gr+Ir*Ft)),xn=(Ur*Ur+on*on)/(2*on),_n=lr*M(Ur/xn)/c;return[xn*l(_n),Sr*(1+Ir*gr)+xn*(1-S(_n))]}return wr.invert=function(lr,Sr){var Ir=c*lr/Ze,Ur=Sr,on,xn,_n=50;do{var Dn=Ur*Ur,Kn=Ze+Dn*(at+Dn*(gt+Dn*wt)),Ra=Ur*(zt-1+Dn*(kt-gr+Dn*Ft)),Da=Kn*Kn+Ra*Ra,ka=2*Ra,Na=Da/ka,Ka=Na*Na,di=M(Kn/Na)/c,zi=Ir*di,ue=Kn*Kn,Ae=(2*at+Dn*(4*gt+Dn*6*wt))*Ur,Be=zt+Dn*(3*kt+Dn*5*Ft),et=2*(Kn*Ae+Ra*(Be-1)),nt=2*(Be-1),ft=(et*ka-Da*nt)/(ka*ka),Pt=S(zi),St=l(zi),Gt=Na*Pt,jt=Na*St,nr=Ir/c*(1/I(1-ue/Ka))*(Ae*Na-Kn*ft)/Ka,Lr=jt-lr,Pr=Ur*(1+Dn*gr)+Na-Gt-Sr,$r=ft*St+Gt*nr,sn=Gt*di,Rr=1+ft-(ft*Pt-jt*nr),Vr=jt*di,Kr=$r*Vr-Rr*sn;if(!Kr)break;Ir-=on=(Pr*$r-Lr*Rr)/Kr,Ur-=xn=(Lr*Vr-Pr*sn)/Kr}while((P(on)>h||P(xn)>h)&&--_n>0);return[Ir,Ur]},wr}var Dr=_r(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function an(){return(0,m.c)(Dr).scale(149.995)}var tn=_r(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Sn(){return(0,m.c)(tn).scale(153.93)}var Tn=_r(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Tr(){return(0,m.c)(Tn).scale(130.945)}function zr(Ze,at){var gt=Ze*Ze,wt=at*at;return[Ze*(1-.162388*wt)*(.87-952426e-9*gt*gt),at*(1+wt/12)]}zr.invert=function(Ze,at){var gt=Ze,wt=at,zt=50,kt;do{var Ft=wt*wt;wt-=kt=(wt*(1+Ft/12)-at)/(1+Ft/4)}while(P(kt)>h&&--zt>0);zt=50,Ze/=1-.162388*Ft;do{var gr=(gr=gt*gt)*gr;gt-=kt=(gt*(.87-952426e-9*gr)-Ze)/(.87-.00476213*gr)}while(P(kt)>h&&--zt>0);return[gt,wt]};function jr(){return(0,m.c)(zr).scale(131.747)}var Or=_r(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function ln(){return(0,m.c)(Or).scale(131.087)}function fn(Ze){var at=Ze(i,0)[0]-Ze(-i,0)[0];function gt(wt,zt){var kt=wt>0?-.5:.5,Ft=Ze(wt+kt*c,zt);return Ft[0]-=kt*at,Ft}return Ze.invert&&(gt.invert=function(wt,zt){var kt=wt>0?-.5:.5,Ft=Ze.invert(wt+kt*at,zt),gr=Ft[0]-kt*c;return gr<-c?gr+=2*c:gr>c&&(gr-=2*c),Ft[0]=gr,Ft}),gt}function Mn(Ze,at){var gt=u(Ze),wt=u(at),zt=S(at),kt=S(Ze)*zt,Ft=l(Ze)*zt,gr=l(wt*at);Ze=P(L(Ft,gr)),at=M(kt),P(Ze-i)>h&&(Ze%=i);var wr=Pn(Ze>c/4?i-Ze:Ze,at);return Ze>c/4&&(gr=wr[0],wr[0]=-wr[1],wr[1]=-gr),wr[0]*=gt,wr[1]*=-wt,wr}Mn.invert=function(Ze,at){P(Ze)>1&&(Ze=u(Ze)*2-Ze),P(at)>1&&(at=u(at)*2-at);var gt=u(Ze),wt=u(at),zt=-gt*Ze,kt=-wt*at,Ft=kt/zt<1,gr=Hn(Ft?kt:zt,Ft?zt:kt),wr=gr[0],lr=gr[1],Sr=S(lr);return Ft&&(wr=-i-wr),[gt*(L(l(wr)*Sr,-l(lr))+c),wt*M(S(wr)*Sr)]};function Pn(Ze,at){if(at===i)return[0,0];var gt=l(at),wt=gt*gt,zt=wt*wt,kt=1+zt,Ft=1+3*zt,gr=1-zt,wr=M(1/I(kt)),lr=gr+wt*kt*wr,Sr=(1-gt)/lr,Ir=I(Sr),Ur=Sr*kt,on=I(Ur),xn=Ir*gr,_n,Dn;if(Ze===0)return[0,-(xn+wt*on)];var Kn=S(at),Ra=1/Kn,Da=2*gt*Kn,ka=(-3*wt+wr*Ft)*Da,Na=(-lr*Kn-(1-gt)*ka)/(lr*lr),Ka=.5*Na/Ir,di=gr*Ka-2*wt*Ir*Da,zi=wt*kt*Na+Sr*Ft*Da,ue=-Ra*Da,Ae=-Ra*zi,Be=-2*Ra*di,et=4*Ze/c,nt;if(Ze>.222*c||at<c/4&&Ze>.175*c){if(_n=(xn+wt*I(Ur*(1+zt)-xn*xn))/(1+zt),Ze>c/4)return[_n,_n];var ft=_n,Pt=.5*_n;_n=.5*(Pt+ft),Dn=50;do{var St=I(Ur-_n*_n),Gt=_n*(Be+ue*St)+Ae*M(_n/on)-et;if(!Gt)break;Gt<0?Pt=_n:ft=_n,_n=.5*(Pt+ft)}while(P(ft-Pt)>h&&--Dn>0)}else{_n=h,Dn=25;do{var jt=_n*_n,nr=I(Ur-jt),Lr=Be+ue*nr,Pr=_n*Lr+Ae*M(_n/on)-et,$r=Lr+(Ae-ue*jt)/nr;_n-=nt=nr?Pr/$r:0}while(P(nt)>h&&--Dn>0)}return[_n,-xn-wt*I(Ur-_n*_n)]}function Hn(Ze,at){for(var gt=0,wt=1,zt=.5,kt=50;;){var Ft=zt*zt,gr=I(zt),wr=M(1/I(1+Ft)),lr=1-Ft+zt*(1+Ft)*wr,Sr=(1-gr)/lr,Ir=I(Sr),Ur=Sr*(1+Ft),on=Ir*(1-Ft),xn=Ur-Ze*Ze,_n=I(xn),Dn=at+on+zt*_n;if(P(wt-gt)<T||--kt===0||Dn===0)break;Dn>0?gt=zt:wt=zt,zt=.5*(gt+wt)}if(!kt)return null;var Kn=M(gr),Ra=S(Kn),Da=1/Ra,ka=2*gr*Ra,Na=(-3*zt+wr*(1+3*Ft))*ka,Ka=(-lr*Ra-(1-gr)*Na)/(lr*lr),di=.5*Ka/Ir,zi=(1-Ft)*di-2*zt*Ir*ka,ue=-2*Da*zi,Ae=-Da*ka,Be=-Da*(zt*(1+Ft)*Ka+Sr*(1+3*Ft)*ka);return[c/4*(Ze*(ue+Ae*_n)+Be*M(Ze/I(Ur))),Kn]}function ia(){return(0,m.c)(fn(Mn)).scale(239.75)}function ya(Ze,at,gt){var wt,zt,kt;return Ze?(wt=wa(Ze,gt),at?(zt=wa(at,1-gt),kt=zt[1]*zt[1]+gt*wt[0]*wt[0]*zt[0]*zt[0],[[wt[0]*zt[2]/kt,wt[1]*wt[2]*zt[0]*zt[1]/kt],[wt[1]*zt[1]/kt,-wt[0]*wt[2]*zt[0]*zt[2]/kt],[wt[2]*zt[1]*zt[2]/kt,-gt*wt[0]*wt[1]*zt[0]/kt]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(zt=wa(at,1-gt),[[0,zt[0]/zt[1]],[1/zt[1],0],[zt[2]/zt[1],0]])}function wa(Ze,at){var gt,wt,zt,kt,Ft;if(at<h)return kt=l(Ze),wt=S(Ze),gt=at*(Ze-kt*wt)/4,[kt-gt*wt,wt+gt*kt,1-at*kt*kt/2,Ze-gt];if(at>=1-h)return gt=(1-at)/4,wt=k(Ze),kt=D(Ze),zt=1/wt,Ft=wt*N(Ze),[kt+gt*(Ft-Ze)/(wt*wt),zt-gt*kt*zt*(Ft-Ze),zt+gt*kt*zt*(Ft+Ze),2*s(v(Ze))-i+gt*(Ft-Ze)/wt];var gr=[1,0,0,0,0,0,0,0,0],wr=[I(at),0,0,0,0,0,0,0,0],lr=0;for(wt=I(1-at),Ft=1;P(wr[lr]/gr[lr])>h&&lr<8;)gt=gr[lr++],wr[lr]=(gt-wt)/2,gr[lr]=(gt+wt)/2,wt=I(gt*wt),Ft*=2;zt=Ft*gr[lr]*Ze;do kt=wr[lr]*l(wt=zt)/gr[lr],zt=(M(kt)+zt)/2;while(--lr);return[l(zt),kt=S(zt),kt/S(zt-wt),zt]}function Wn(Ze,at,gt){var wt=P(Ze),zt=P(at),kt=N(zt);if(wt){var Ft=1/l(wt),gr=1/(g(wt)*g(wt)),wr=-(gr+gt*(kt*kt*Ft*Ft)-1+gt),lr=(gt-1)*gr,Sr=(-wr+I(wr*wr-4*lr))/2;return[Qn(s(1/I(Sr)),gt)*u(Ze),Qn(s(I((Sr/gr-1)/gt)),1-gt)*u(at)]}return[0,Qn(s(kt),1-gt)*u(at)]}function Qn(Ze,at){if(!at)return Ze;if(at===1)return r(g(Ze/2+d));for(var gt=1,wt=I(1-at),zt=I(at),kt=0;P(zt)>h;kt++){if(Ze%c){var Ft=s(wt*g(Ze)/gt);Ft<0&&(Ft+=c),Ze+=Ft+~~(Ze/c)*c}else Ze+=Ze;zt=(gt+wt)/2,wt=I(gt*wt),zt=((gt=zt)-wt)/2}return Ze/(n(2,kt)*gt)}function mr(Ze,at){var gt=(w-1)/(w+1),wt=I(1-gt*gt),zt=Qn(i,wt*wt),kt=-1,Ft=r(g(c/4+P(at)/2)),gr=v(kt*Ft)/I(gt),wr=en(gr*S(kt*Ze),gr*l(kt*Ze)),lr=Wn(wr[0],wr[1],wt*wt);return[-lr[1],(at>=0?1:-1)*(.5*zt-lr[0])]}function en(Ze,at){var gt=Ze*Ze,wt=at+1,zt=1-gt-at*at;return[.5*((Ze>=0?i:-i)-L(zt,2*Ze)),-.25*r(zt*zt+4*gt)+.5*r(wt*wt+gt)]}function Jr(Ze,at){var gt=at[0]*at[0]+at[1]*at[1];return[(Ze[0]*at[0]+Ze[1]*at[1])/gt,(Ze[1]*at[0]-Ze[0]*at[1])/gt]}mr.invert=function(Ze,at){var gt=(w-1)/(w+1),wt=I(1-gt*gt),zt=Qn(i,wt*wt),kt=-1,Ft=ya(.5*zt-at,-Ze,wt*wt),gr=Jr(Ft[0],Ft[1]),wr=L(gr[1],gr[0])/kt;return[wr,2*s(v(.5/kt*r(gt*gr[0]*gr[0]+gt*gr[1]*gr[1])))-i]};function vn(){return(0,m.c)(fn(mr)).scale(151.496)}var On=e(61780);function bn(Ze){var at=l(Ze),gt=S(Ze),wt=An(Ze);wt.invert=An(-Ze);function zt(kt,Ft){var gr=wt(kt,Ft);kt=gr[0],Ft=gr[1];var wr=l(Ft),lr=S(Ft),Sr=S(kt),Ir=x(at*wr+gt*lr*Sr),Ur=l(Ir),on=P(Ur)>h?Ir/Ur:1;return[on*gt*l(kt),(P(kt)>i?on:-on)*(at*lr-gt*wr*Sr)]}return zt.invert=function(kt,Ft){var gr=I(kt*kt+Ft*Ft),wr=-l(gr),lr=S(gr),Sr=gr*lr,Ir=-Ft*wr,Ur=gr*at,on=I(Sr*Sr+Ir*Ir-Ur*Ur),xn=L(Sr*Ur+Ir*on,Ir*Ur-Sr*on),_n=(gr>i?-1:1)*L(kt*wr,gr*S(xn)*lr+Ft*l(xn)*wr);return wt.invert(_n,xn)},zt}function An(Ze){var at=l(Ze),gt=S(Ze);return function(wt,zt){var kt=S(zt),Ft=S(wt)*kt,gr=l(wt)*kt,wr=l(zt);return[L(gr,Ft*gt-wr*at),M(wr*gt+Ft*at)]}}function Nn(){var Ze=0,at=(0,m.U)(bn),gt=at(Ze),wt=gt.rotate,zt=gt.stream,kt=(0,On.c)();return gt.parallel=function(Ft){if(!arguments.length)return Ze*E;var gr=gt.rotate();return at(Ze=Ft*A).rotate(gr)},gt.rotate=function(Ft){return arguments.length?(wt.call(gt,[Ft[0],Ft[1]-Ze*E]),kt.center([-Ft[0],-Ft[1]]),gt):(Ft=wt.call(gt),Ft[1]+=Ze*E,Ft)},gt.stream=function(Ft){return Ft=zt(Ft),Ft.sphere=function(){Ft.polygonStart();var gr=.01,wr=kt.radius(90-gr)().coordinates[0],lr=wr.length-1,Sr=-1,Ir;for(Ft.lineStart();++Sr<lr;)Ft.point((Ir=wr[Sr])[0],Ir[1]);for(Ft.lineEnd(),wr=kt.radius(90+gr)().coordinates[0],lr=wr.length-1,Ft.lineStart();--Sr>=0;)Ft.point((Ir=wr[Sr])[0],Ir[1]);Ft.lineEnd(),Ft.polygonEnd()},Ft},gt.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=e(84706),ha=e(16016),Ia=3,Mr=M(1-1/Ia)*E,Fr=At(0);function Ar(Ze){var at=Mr*A,gt=me(c,at)[0]-me(-c,at)[0],wt=Fr(0,at)[1],zt=me(0,at)[1],kt=C-zt,Ft=y/Ze,gr=4/y,wr=wt+kt*kt*4/y;function lr(Sr,Ir){var Ur,on=P(Ir);if(on>at){var xn=a(Ze-1,t(0,p((Sr+c)/Ft)));Sr+=c*(Ze-1)/Ze-xn*Ft,Ur=me(Sr,on),Ur[0]=Ur[0]*y/gt-y*(Ze-1)/(2*Ze)+xn*y/Ze,Ur[1]=wt+(Ur[1]-zt)*4*kt/y,Ir<0&&(Ur[1]=-Ur[1])}else Ur=Fr(Sr,Ir);return Ur[0]*=gr,Ur[1]/=wr,Ur}return lr.invert=function(Sr,Ir){Sr/=gr,Ir*=wr;var Ur=P(Ir);if(Ur>wt){var on=a(Ze-1,t(0,p((Sr+c)/Ft)));Sr=(Sr+c*(Ze-1)/Ze-on*Ft)*gt/y;var xn=me.invert(Sr,.25*(Ur-wt)*y/kt+zt);return xn[0]-=c*(Ze-1)/Ze-on*Ft,Ir<0&&(xn[1]=-xn[1]),xn}return Fr.invert(Sr,Ir)},lr}function Nr(Ze,at){return[Ze,at&1?90-h:Mr]}function mn(Ze,at){return[Ze,at&1?-90+h:-Mr]}function Rn(Ze){return[Ze[0]*(1-h),Ze[1]]}function gn(Ze){var at=[].concat((0,$n.ik)(-180,180+Ze/2,Ze).map(Nr),(0,$n.ik)(180,-180-Ze/2,-Ze).map(mn));return{type:"Polygon",coordinates:[Ze===180?at.map(Rn):at]}}function un(){var Ze=4,at=(0,m.U)(Ar),gt=at(Ze),wt=gt.stream;return gt.lobes=function(zt){return arguments.length?at(Ze=+zt):Ze},gt.stream=function(zt){var kt=gt.rotate(),Ft=wt(zt),gr=(gt.rotate([0,0]),wt(zt));return gt.rotate(kt),Ft.sphere=function(){(0,ha.c)(gn(180/Ze),gr)},Ft},gt.scale(239.75)}function Cr(Ze){var at=1+Ze,gt=l(1/at),wt=M(gt),zt=2*I(c/(kt=c+4*wt*at)),kt,Ft=.5*zt*(at+I(Ze*(2+Ze))),gr=Ze*Ze,wr=at*at;function lr(Sr,Ir){var Ur=1-l(Ir),on,xn;if(Ur&&Ur<2){var _n=i-Ir,Dn=25,Kn;do{var Ra=l(_n),Da=S(_n),ka=wt+L(Ra,at-Da),Na=1+wr-2*at*Da;_n-=Kn=(_n-gr*wt-at*Ra+Na*ka-.5*Ur*kt)/(2*at*Ra*ka)}while(P(Kn)>T&&--Dn>0);on=zt*I(Na),xn=Sr*ka/c}else on=zt*(Ze+Ur),xn=Sr*wt/c;return[on*l(xn),Ft-on*S(xn)]}return lr.invert=function(Sr,Ir){var Ur=Sr*Sr+(Ir-=Ft)*Ir,on=(1+wr-Ur/(zt*zt))/(2*at),xn=x(on),_n=l(xn),Dn=wt+L(_n,at-on);return[M(Sr/I(Ur))*c/Dn,M(1-2*(xn-gr*wt-at*_n+(1+wr-2*at*on)*Dn)/kt)]},lr}function Zr(){var Ze=1,at=(0,m.U)(Cr),gt=at(Ze);return gt.ratio=function(wt){return arguments.length?at(Ze=+wt):Ze},gt.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,qr=.0528035274542;function wn(Ze,at){return at>-Gr?(Ze=Re(Ze,at),Ze[1]+=qr,Ze):Je(Ze,at)}wn.invert=function(Ze,at){return at>-Gr?Re.invert(Ze,at-qr):Je.invert(Ze,at)};function zn(){return(0,m.c)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function En(Ze,at){return P(at)>Gr?(Ze=Re(Ze,at),Ze[1]-=at>0?qr:-qr,Ze):Je(Ze,at)}En.invert=function(Ze,at){return P(at)>Gr?Re.invert(Ze,at+(at>0?qr:-qr)):Je.invert(Ze,at)};function Vn(){return(0,m.c)(En).scale(152.63)}function Bn(Ze,at,gt,wt){var zt=I(4*c/(2*gt+(1+Ze-at/2)*l(2*gt)+(Ze+at)/2*l(4*gt)+at/2*l(6*gt))),kt=I(wt*l(gt)*I((1+Ze*S(2*gt)+at*S(4*gt))/(1+Ze+at))),Ft=gt*wr(1);function gr(Ir){return I(1+Ze*S(2*Ir)+at*S(4*Ir))}function wr(Ir){var Ur=Ir*gt;return(2*Ur+(1+Ze-at/2)*l(2*Ur)+(Ze+at)/2*l(4*Ur)+at/2*l(6*Ur))/gt}function lr(Ir){return gr(Ir)*l(Ir)}var Sr=function(Ir,Ur){var on=gt*be(wr,Ft*l(Ur)/gt,Ur/c);isNaN(on)&&(on=gt*u(Ur));var xn=zt*gr(on);return[xn*kt*Ir/c*S(on),xn/kt*l(on)]};return Sr.invert=function(Ir,Ur){var on=be(lr,Ur*kt/zt);return[Ir*c/(S(on)*zt*kt*gr(on)),M(gt*wr(on/gt)/Ft)]},gt===0&&(zt=I(wt/c),Sr=function(Ir,Ur){return[Ir*zt,l(Ur)/zt]},Sr.invert=function(Ir,Ur){return[Ir/zt,M(Ur*zt)]}),Sr}function va(){var Ze=1,at=0,gt=45*A,wt=2,zt=(0,m.U)(Bn),kt=zt(Ze,at,gt,wt);return kt.a=function(Ft){return arguments.length?zt(Ze=+Ft,at,gt,wt):Ze},kt.b=function(Ft){return arguments.length?zt(Ze,at=+Ft,gt,wt):at},kt.psiMax=function(Ft){return arguments.length?zt(Ze,at,gt=+Ft*A,wt):gt*E},kt.ratio=function(Ft){return arguments.length?zt(Ze,at,gt,wt=+Ft):wt},kt.scale(180.739)}function sa(Ze,at,gt,wt,zt,kt,Ft,gr,wr,lr,Sr){if(Sr.nanEncountered)return NaN;var Ir,Ur,on,xn,_n,Dn,Kn,Ra,Da,ka;if(Ir=gt-at,Ur=Ze(at+Ir*.25),on=Ze(gt-Ir*.25),isNaN(Ur)){Sr.nanEncountered=!0;return}if(isNaN(on)){Sr.nanEncountered=!0;return}return xn=Ir*(wt+4*Ur+zt)/12,_n=Ir*(zt+4*on+kt)/12,Dn=xn+_n,ka=(Dn-Ft)/15,lr>wr?(Sr.maxDepthCount++,Dn+ka):Math.abs(ka)<gr?Dn+ka:(Kn=at+Ir*.5,Ra=sa(Ze,at,Kn,wt,Ur,zt,xn,gr*.5,wr,lr+1,Sr),isNaN(Ra)?(Sr.nanEncountered=!0,NaN):(Da=sa(Ze,Kn,gt,zt,on,kt,_n,gr*.5,wr,lr+1,Sr),isNaN(Da)?(Sr.nanEncountered=!0,NaN):Ra+Da))}function ga(Ze,at,gt,wt,zt){var kt={maxDepthCount:0,nanEncountered:!1};zt===void 0&&(zt=20);var Ft=Ze(at),gr=Ze(.5*(at+gt)),wr=Ze(gt),lr=(Ft+4*gr+wr)*(gt-at)/6,Sr=sa(Ze,at,gt,Ft,gr,wr,lr,wt,zt,1,kt);return Sr}function _a(Ze,at,gt){function wt(on){return Ze+(1-Ze)*n(1-n(on,at),1/at)}function zt(on){return ga(wt,0,on,1e-4)}for(var kt=1/zt(1),Ft=1e3,gr=(1+1e-8)*kt,wr=[],lr=0;lr<=Ft;lr++)wr.push(zt(lr/Ft)*gr);function Sr(on){var xn=0,_n=Ft,Dn=Ft>>1;do wr[Dn]>on?_n=Dn:xn=Dn,Dn=xn+_n>>1;while(Dn>xn);var Kn=wr[Dn+1]-wr[Dn];return Kn&&(Kn=(on-wr[Dn+1])/Kn),(Dn+1+Kn)/Ft}var Ir=2*Sr(1)/c*kt/gt,Ur=function(on,xn){var _n=Sr(P(l(xn))),Dn=wt(_n)*on;return _n/=Ir,[Dn,xn>=0?_n:-_n]};return Ur.invert=function(on,xn){var _n;return xn*=Ir,P(xn)<1&&(_n=u(xn)*M(zt(P(xn))*kt)),[on/wt(P(xn)),_n]},Ur}function gi(){var Ze=0,at=2.5,gt=1.183136,wt=(0,m.U)(_a),zt=wt(Ze,at,gt);return zt.alpha=function(kt){return arguments.length?wt(Ze=+kt,at,gt):Ze},zt.k=function(kt){return arguments.length?wt(Ze,at=+kt,gt):at},zt.gamma=function(kt){return arguments.length?wt(Ze,at,gt=+kt):gt},zt.scale(152.63)}function ai(Ze,at){return P(Ze[0]-at[0])<h&&P(Ze[1]-at[1])<h}function ko(Ze,at){for(var gt=-1,wt=Ze.length,zt=Ze[0],kt,Ft,gr,wr=[];++gt<wt;){kt=Ze[gt],Ft=(kt[0]-zt[0])/at,gr=(kt[1]-zt[1])/at;for(var lr=0;lr<at;++lr)wr.push([zt[0]+lr*Ft,zt[1]+lr*gr]);zt=kt}return wr.push(kt),wr}function Co(Ze){var at=[],gt,wt,zt,kt,Ft,gr,wr,lr=Ze[0].length;for(wr=0;wr<lr;++wr)gt=Ze[0][wr],wt=gt[0][0],zt=gt[0][1],kt=gt[1][1],Ft=gt[2][0],gr=gt[2][1],at.push(ko([[wt+h,zt+h],[wt+h,kt-h],[Ft-h,kt-h],[Ft-h,gr+h]],30));for(wr=Ze[1].length-1;wr>=0;--wr)gt=Ze[1][wr],wt=gt[0][0],zt=gt[0][1],kt=gt[1][1],Ft=gt[2][0],gr=gt[2][1],at.push(ko([[Ft-h,gr-h],[Ft-h,kt+h],[wt+h,kt+h],[wt+h,zt-h]],30));return{type:"Polygon",coordinates:[(0,$n.Uf)(at)]}}function to(Ze,at,gt){var wt,zt;function kt(wr,lr){for(var Sr=lr<0?-1:1,Ir=at[+(lr<0)],Ur=0,on=Ir.length-1;Ur<on&&wr>Ir[Ur][2][0];++Ur);var xn=Ze(wr-Ir[Ur][1][0],lr);return xn[0]+=Ze(Ir[Ur][1][0],Sr*lr>Sr*Ir[Ur][0][1]?Ir[Ur][0][1]:lr)[0],xn}gt?kt.invert=gt(kt):Ze.invert&&(kt.invert=function(wr,lr){for(var Sr=zt[+(lr<0)],Ir=at[+(lr<0)],Ur=0,on=Sr.length;Ur<on;++Ur){var xn=Sr[Ur];if(xn[0][0]<=wr&&wr<xn[1][0]&&xn[0][1]<=lr&&lr<xn[1][1]){var _n=Ze.invert(wr-Ze(Ir[Ur][1][0],0)[0],lr);return _n[0]+=Ir[Ur][1][0],ai(kt(_n[0],_n[1]),[wr,lr])?_n:null}}});var Ft=(0,m.c)(kt),gr=Ft.stream;return Ft.stream=function(wr){var lr=Ft.rotate(),Sr=gr(wr),Ir=(Ft.rotate([0,0]),gr(wr));return Ft.rotate(lr),Sr.sphere=function(){(0,ha.c)(wt,Ir)},Sr},Ft.lobes=function(wr){return arguments.length?(wt=Co(wr),at=wr.map(function(lr){return lr.map(function(Sr){return[[Sr[0][0]*A,Sr[0][1]*A],[Sr[1][0]*A,Sr[1][1]*A],[Sr[2][0]*A,Sr[2][1]*A]]})}),zt=at.map(function(lr){return lr.map(function(Sr){var Ir=Ze(Sr[0][0],Sr[0][1])[0],Ur=Ze(Sr[2][0],Sr[2][1])[0],on=Ze(Sr[1][0],Sr[0][1])[1],xn=Ze(Sr[1][0],Sr[1][1])[1],_n;return on>xn&&(_n=on,on=xn,xn=_n),[[Ir,on],[Ur,xn]]})}),Ft):at.map(function(lr){return lr.map(function(Sr){return[[Sr[0][0]*E,Sr[0][1]*E],[Sr[1][0]*E,Sr[1][1]*E],[Sr[2][0]*E,Sr[2][1]*E]]})})},at!=null&&Ft.lobes(at),Ft}var Sl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function af(){return to(Ve,Sl).scale(160.857)}var Vf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ti(){return to(En,Vf).scale(152.63)}var eu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function of(){return to(Re,eu).scale(169.529)}var Ki=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function bo(){return to(Re,Ki).scale(169.529).rotate([20,0])}var Ml=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Iu(){return to(wn,Ml,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ii=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function El(){return to(Je,Ii).scale(152.63).rotate([-20,0])}function Oi(Ze,at){return[3/y*Ze*I(c*c/3-at*at),at]}Oi.invert=function(Ze,at){return[y/3*Ze/I(c*c/3-at*at),at]};function Hi(){return(0,m.c)(Oi).scale(158.837)}function Cl(Ze){function at(gt,wt){if(P(P(wt)-i)<h)return[0,wt<0?-2:2];var zt=l(wt),kt=n((1+zt)/(1-zt),Ze/2),Ft=.5*(kt+1/kt)+S(gt*=Ze);return[2*l(gt)/Ft,(kt-1/kt)/Ft]}return at.invert=function(gt,wt){var zt=P(wt);if(P(zt-2)<h)return gt?null:[0,u(wt)*i];if(zt>2)return null;gt/=2,wt/=2;var kt=gt*gt,Ft=wt*wt,gr=2*wt/(1+kt+Ft);return gr=n((1+gr)/(1-gr),1/Ze),[L(2*gt,1-kt-Ft)/Ze,M((gr-1)/(gr+1))]},at}function ro(){var Ze=.5,at=(0,m.U)(Cl),gt=at(Ze);return gt.spacing=function(wt){return arguments.length?at(Ze=+wt):Ze},gt.scale(124.75)}var no=c/w;function zo(Ze,at){return[Ze*(1+I(S(at)))/2,at/(S(at/2)*S(Ze/6))]}zo.invert=function(Ze,at){var gt=P(Ze),wt=P(at),zt=h,kt=i;wt<no?kt*=wt/no:zt+=6*x(no/wt);for(var Ft=0;Ft<25;Ft++){var gr=l(kt),wr=I(S(kt)),lr=l(kt/2),Sr=S(kt/2),Ir=l(zt/6),Ur=S(zt/6),on=.5*zt*(1+wr)-gt,xn=kt/(Sr*Ur)-wt,_n=wr?-.25*zt*gr/wr:0,Dn=.5*(1+wr),Kn=(1+.5*kt*lr/Sr)/(Sr*Ur),Ra=kt/Sr*(Ir/6)/(Ur*Ur),Da=_n*Ra-Kn*Dn,ka=(on*Ra-xn*Dn)/Da,Na=(xn*_n-on*Kn)/Da;if(kt-=ka,zt-=Na,P(ka)<h&&P(Na)<h)break}return[Ze<0?-zt:zt,at<0?-kt:kt]};function Hf(){return(0,m.c)(zo).scale(97.2672)}function Lo(Ze,at){var gt=Ze*Ze,wt=at*at;return[Ze*(.975534+wt*(-.119161+gt*-.0143059+wt*-.0547009)),at*(1.00384+gt*(.0802894+wt*-.02855+gt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Lo.invert=function(Ze,at){var gt=u(Ze)*c,wt=at/2,zt=50;do{var kt=gt*gt,Ft=wt*wt,gr=gt*wt,wr=gt*(.975534+Ft*(-.119161+kt*-.0143059+Ft*-.0547009))-Ze,lr=wt*(1.00384+kt*(.0802894+Ft*-.02855+kt*199025e-9)+Ft*(.0998909+Ft*-.0491032))-at,Sr=.975534-Ft*(.119161+3*kt*.0143059+Ft*.0547009),Ir=-gr*(2*.119161+4*.0547009*Ft+2*.0143059*kt),Ur=gr*(2*.0802894+4*199025e-9*kt+2*-.02855*Ft),on=1.00384+kt*(.0802894+199025e-9*kt)+Ft*(3*(.0998909-.02855*kt)-5*.0491032*Ft),xn=Ir*Ur-on*Sr,_n=(lr*Ir-wr*on)/xn,Dn=(wr*Ur-lr*Sr)/xn;gt-=_n,wt-=Dn}while((P(_n)>h||P(Dn)>h)&&--zt>0);return zt&&[gt,wt]};function Yc(){return(0,m.c)(Lo).scale(139.98)}function cs(Ze,at){return[l(Ze)/S(at),g(at)*S(Ze)]}cs.invert=function(Ze,at){var gt=Ze*Ze,wt=at*at,zt=wt+1,kt=gt+zt,Ft=Ze?b*I((kt-I(kt*kt-4*gt))/gt):1/I(zt);return[M(Ze*Ft),u(at)*x(Ft)]};function Ji(){return(0,m.c)(cs).scale(144.049).clipAngle(89.999)}function sf(Ze){var at=S(Ze),gt=g(d+Ze/2);function wt(zt,kt){var Ft=kt-Ze,gr=P(Ft)<h?zt*at:P(gr=d+kt/2)<h||P(P(gr)-i)<h?0:zt*Ft/r(g(gr)/gt);return[gr,Ft]}return wt.invert=function(zt,kt){var Ft,gr=kt+Ze;return[P(kt)<h?zt/at:P(Ft=d+gr/2)<h||P(P(Ft)-i)<h?0:zt*r(g(Ft)/gt)/kt,gr]},wt}function Bs(){return it(sf).parallel(40).scale(158.837)}function hs(Ze,at){return[Ze,1.25*r(g(d+.4*at))]}hs.invert=function(Ze,at){return[Ze,2.5*s(v(.8*at))-.625*c]};function lf(){return(0,m.c)(hs).scale(108.318)}function Gf(Ze){var at=Ze.length-1;function gt(wt,zt){for(var kt=S(zt),Ft=2/(1+kt*S(wt)),gr=Ft*kt*l(wt),wr=Ft*l(zt),lr=at,Sr=Ze[lr],Ir=Sr[0],Ur=Sr[1],on;--lr>=0;)Sr=Ze[lr],Ir=Sr[0]+gr*(on=Ir)-wr*Ur,Ur=Sr[1]+gr*Ur+wr*on;return Ir=gr*(on=Ir)-wr*Ur,Ur=gr*Ur+wr*on,[Ir,Ur]}return gt.invert=function(wt,zt){var kt=20,Ft=wt,gr=zt;do{for(var wr=at,lr=Ze[wr],Sr=lr[0],Ir=lr[1],Ur=0,on=0,xn;--wr>=0;)lr=Ze[wr],Ur=Sr+Ft*(xn=Ur)-gr*on,on=Ir+Ft*on+gr*xn,Sr=lr[0]+Ft*(xn=Sr)-gr*Ir,Ir=lr[1]+Ft*Ir+gr*xn;Ur=Sr+Ft*(xn=Ur)-gr*on,on=Ir+Ft*on+gr*xn,Sr=Ft*(xn=Sr)-gr*Ir-wt,Ir=Ft*Ir+gr*xn-zt;var _n=Ur*Ur+on*on,Dn,Kn;Ft-=Dn=(Sr*Ur+Ir*on)/_n,gr-=Kn=(Ir*Ur-Sr*on)/_n}while(P(Dn)+P(Kn)>h*h&&--kt>0);if(kt){var Ra=I(Ft*Ft+gr*gr),Da=2*s(Ra*.5),ka=l(Da);return[L(Ft*ka,Ra*S(Da)),Ra?M(gr*ka/Ra):0]}},gt}var Xc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ku=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Zc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Kc=[[.9245,0],[0,0],[.01943,0]],Jc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function uf(){return al(Xc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Qc(){return al(ku,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function $c(){return al(Zc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Wf(){return al(Kc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function jf(){return al(Jc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function al(Ze,at){var gt=(0,m.c)(Gf(Ze)).rotate(at).clipAngle(90),wt=(0,Ge.c)(at),zt=gt.center;return delete gt.rotate,gt.center=function(kt){return arguments.length?zt(wt(kt)):wt.invert(zt())},gt}var Ll=I(6),tu=I(7);function ru(Ze,at){var gt=M(7*l(at)/(3*Ll));return[Ll*Ze*(2*S(2*gt/3)-1)/tu,9*l(gt/3)/tu]}ru.invert=function(Ze,at){var gt=3*M(at*tu/9);return[Ze*tu/(Ll*(2*S(2*gt/3)-1)),M(l(gt)*3*Ll/7)]};function Yf(){return(0,m.c)(ru).scale(164.859)}function Ms(Ze,at){for(var gt=(1+b)*l(at),wt=at,zt=0,kt;zt<25&&(wt-=kt=(l(wt/2)+l(wt)-gt)/(.5*S(wt/2)+S(wt)),!(P(kt)<h));zt++);return[Ze*(1+2*S(wt)/S(wt/2))/(3*w),2*I(3)*l(wt/2)/I(2+w)]}Ms.invert=function(Ze,at){var gt=at*I(2+w)/(2*I(3)),wt=2*M(gt);return[3*w*Ze/(1+2*S(wt)/S(wt/2)),M((gt+l(wt))/(1+b))]};function qc(){return(0,m.c)(Ms).scale(188.209)}function zu(Ze,at){for(var gt=I(6/(4+c)),wt=(1+c/4)*l(at),zt=at/2,kt=0,Ft;kt<25&&(zt-=Ft=(zt/2+l(zt)-wt)/(.5+S(zt)),!(P(Ft)<h));kt++);return[gt*(.5+S(zt))*Ze/1.5,gt*zt]}zu.invert=function(Ze,at){var gt=I(6/(4+c)),wt=at/gt;return P(P(wt)-i)<h&&(wt=wt<0?-i:i),[1.5*Ze/(gt*(.5+S(wt))),M((wt/2+l(wt))/(1+c/4))]};function Xf(){return(0,m.c)(zu).scale(166.518)}var Zf=e(47984);function Ou(Ze,at){var gt=at*at,wt=gt*gt,zt=gt*wt;return[Ze*(.84719-.13063*gt+zt*zt*(-.04515+.05494*gt-.02326*wt+.00331*zt)),at*(1.01183+wt*wt*(-.02625+.01926*gt-.00396*wt))]}Ou.invert=function(Ze,at){var gt=at,wt=25,zt,kt,Ft,gr;do kt=gt*gt,Ft=kt*kt,gt-=zt=(gt*(1.01183+Ft*Ft*(-.02625+.01926*kt-.00396*Ft))-at)/(1.01183+Ft*Ft*(-.23625+.21186*kt+-.05148*Ft));while(P(zt)>T&&--wt>0);return kt=gt*gt,Ft=kt*kt,gr=kt*Ft,[Ze/(.84719-.13063*kt+gr*gr*(-.04515+.05494*kt-.02326*Ft+.00331*gr)),gt]};function Zo(){return(0,m.c)(Ou).scale(175.295)}function Pl(Ze,at){return[Ze*(1+S(at))/2,2*(at-g(at/2))]}Pl.invert=function(Ze,at){for(var gt=at/2,wt=0,zt=1/0;wt<10&&P(zt)>h;++wt){var kt=S(at/2);at-=zt=(at-g(at/2)-gt)/(1-.5/(kt*kt))}return[2*Ze/(1+S(at)),at]};function il(){return(0,m.c)(Pl).scale(152.63)}var nu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Us(){return to(te(1/0),nu).rotate([20,0]).scale(152.63)}function vs(Ze,at){var gt=l(at),wt=S(at),zt=u(Ze);if(Ze===0||P(at)===i)return[0,at];if(at===0)return[Ze,0];if(P(Ze)===i)return[Ze*wt,i*gt];var kt=c/(2*Ze)-2*Ze/c,Ft=2*at/c,gr=(1-Ft*Ft)/(gt-Ft),wr=kt*kt,lr=gr*gr,Sr=1+wr/lr,Ir=1+lr/wr,Ur=(kt*gt/gr-kt/2)/Sr,on=(lr*gt/wr+gr/2)/Ir,xn=Ur*Ur+wt*wt/Sr,_n=on*on-(lr*gt*gt/wr+gr*gt-1)/Ir;return[i*(Ur+I(xn)*zt),i*(on+I(_n<0?0:_n)*u(-at*kt)*zt)]}vs.invert=function(Ze,at){Ze/=i,at/=i;var gt=Ze*Ze,wt=at*at,zt=gt+wt,kt=c*c;return[Ze?(zt-1+I((1-zt)*(1-zt)+4*gt))/(2*Ze)*i:0,be(function(Ft){return zt*(c*l(Ft)-2*Ft)*c+4*Ft*Ft*(at-l(Ft))+2*c*Ft-kt*at},0)]};function ff(){return(0,m.c)(vs).scale(127.267)}var _l=1.0148,Ko=.23185,_i=-.14499,cf=.02406,eh=_l,Fu=5*Ko,Rl=7*_i,Dl=9*cf,Po=1.790857183;function Nu(Ze,at){var gt=at*at;return[Ze,at*(_l+gt*gt*(Ko+gt*(_i+cf*gt)))]}Nu.invert=function(Ze,at){at>Po?at=Po:at<-Po&&(at=-Po);var gt=at,wt;do{var zt=gt*gt;gt-=wt=(gt*(_l+zt*zt*(Ko+zt*(_i+cf*zt)))-at)/(eh+zt*zt*(Fu+zt*(Rl+Dl*zt)))}while(P(wt)>h);return[Ze,gt]};function Il(){return(0,m.c)(Nu).scale(139.319)}function Bu(Ze,at){if(P(at)<h)return[Ze,0];var gt=g(at),wt=Ze*l(at);return[l(wt)/gt,at+(1-S(wt))/gt]}Bu.invert=function(Ze,at){if(P(at)<h)return[Ze,0];var gt=Ze*Ze+at*at,wt=at*.5,zt=10,kt;do{var Ft=g(wt),gr=1/S(wt),wr=gt-2*at*wt+wt*wt;wt-=kt=(Ft*wr+2*(wt-at))/(2+wr*gr*gr+2*(wt-at)*Ft)}while(P(kt)>h&&--zt>0);return Ft=g(wt),[(P(at)<P(wt+1/Ft)?M(Ze*Ft):u(at)*u(Ze)*(x(P(Ze*Ft))+i))/l(wt),wt]};function th(){return(0,m.c)(Bu).scale(103.74)}var Kf=e(13696),hf=e(27284);function vf(Ze,at){var gt=Uu(Ze[1],Ze[0]),wt=Uu(at[1],at[0]),zt=Vu(gt,wt),kt=au(gt)/au(wt);return kl([1,0,Ze[0][0],0,1,Ze[0][1]],kl([kt,0,0,0,kt,0],kl([S(zt),l(zt),0,-l(zt),S(zt),0],[1,0,-at[0][0],0,1,-at[0][1]])))}function df(Ze){var at=1/(Ze[0]*Ze[4]-Ze[1]*Ze[3]);return[at*Ze[4],-at*Ze[1],at*(Ze[1]*Ze[5]-Ze[2]*Ze[4]),-at*Ze[3],at*Ze[0],at*(Ze[2]*Ze[3]-Ze[0]*Ze[5])]}function kl(Ze,at){return[Ze[0]*at[0]+Ze[1]*at[3],Ze[0]*at[1]+Ze[1]*at[4],Ze[0]*at[2]+Ze[1]*at[5]+Ze[2],Ze[3]*at[0]+Ze[4]*at[3],Ze[3]*at[1]+Ze[4]*at[4],Ze[3]*at[2]+Ze[4]*at[5]+Ze[5]]}function Uu(Ze,at){return[Ze[0]-at[0],Ze[1]-at[1]]}function au(Ze){return I(Ze[0]*Ze[0]+Ze[1]*Ze[1])}function Vu(Ze,at){return L(Ze[0]*at[1]-Ze[1]*at[0],Ze[0]*at[0]+Ze[1]*at[1])}function yi(Ze,at,gt){wt(Ze,{transform:null});function wt(lr,Sr){if(lr.edges=pf(lr.face),Sr.face){var Ir=lr.shared=Qf(lr.face,Sr.face),Ur=vf(Ir.map(Sr.project),Ir.map(lr.project));lr.transform=Sr.transform?kl(Sr.transform,Ur):Ur;for(var on=Sr.edges,xn=0,_n=on.length;xn<_n;++xn)Jo(Ir[0],on[xn][1])&&Jo(Ir[1],on[xn][0])&&(on[xn]=lr),Jo(Ir[0],on[xn][0])&&Jo(Ir[1],on[xn][1])&&(on[xn]=lr);for(on=lr.edges,xn=0,_n=on.length;xn<_n;++xn)Jo(Ir[0],on[xn][0])&&Jo(Ir[1],on[xn][1])&&(on[xn]=Sr),Jo(Ir[0],on[xn][1])&&Jo(Ir[1],on[xn][0])&&(on[xn]=Sr)}else lr.transform=Sr.transform;return lr.children&&lr.children.forEach(function(Dn){wt(Dn,lr)}),lr}function zt(lr,Sr){var Ir=at(lr,Sr),Ur=Ir.project([lr*E,Sr*E]),on;return(on=Ir.transform)?[on[0]*Ur[0]+on[1]*Ur[1]+on[2],-(on[3]*Ur[0]+on[4]*Ur[1]+on[5])]:(Ur[1]=-Ur[1],Ur)}ol(Ze)&&(zt.invert=function(lr,Sr){var Ir=kt(Ze,[lr,-Sr]);return Ir&&(Ir[0]*=A,Ir[1]*=A,Ir)});function kt(lr,Sr){var Ir=lr.project.invert,Ur=lr.transform,on=Sr;if(Ur&&(Ur=df(Ur),on=[Ur[0]*on[0]+Ur[1]*on[1]+Ur[2],Ur[3]*on[0]+Ur[4]*on[1]+Ur[5]]),Ir&&lr===Ft(xn=Ir(on)))return xn;for(var xn,_n=lr.children,Dn=0,Kn=_n&&_n.length;Dn<Kn;++Dn)if(xn=kt(_n[Dn],Sr))return xn}function Ft(lr){return at(lr[0]*A,lr[1]*A)}var gr=(0,m.c)(zt),wr=gr.stream;return gr.stream=function(lr){var Sr=gr.rotate(),Ir=wr(lr),Ur=(gr.rotate([0,0]),wr(lr));return gr.rotate(Sr),Ir.sphere=function(){Ur.polygonStart(),Ur.lineStart(),Jf(Ur,Ze),Ur.lineEnd(),Ur.polygonEnd()},Ir},gr.angle(gt==null?-30:gt*E)}function Jf(Ze,at,gt){var wt,zt=at.edges,kt=zt.length,Ft,gr={type:"MultiPoint",coordinates:at.face},wr=at.face.filter(function(_n){return P(_n[1])!==90}),lr=(0,Kf.c)({type:"MultiPoint",coordinates:wr}),Sr=!1,Ir=-1,Ur=lr[1][0]-lr[0][0],on=Ur===180||Ur===360?[(lr[0][0]+lr[1][0])/2,(lr[0][1]+lr[1][1])/2]:(0,ze.c)(gr);if(gt)for(;++Ir<kt&&zt[Ir]!==gt;);++Ir;for(var xn=0;xn<kt;++xn)Ft=zt[(xn+Ir)%kt],Array.isArray(Ft)?(Sr||(Ze.point((wt=(0,hf.c)(Ft[0],on)(h))[0],wt[1]),Sr=!0),Ze.point((wt=(0,hf.c)(Ft[1],on)(h))[0],wt[1])):(Sr=!1,Ft!==gt&&Jf(Ze,Ft,at))}function Jo(Ze,at){return Ze&&at&&Ze[0]===at[0]&&Ze[1]===at[1]}function Qf(Ze,at){for(var gt,wt,zt=Ze.length,kt=null,Ft=0;Ft<zt;++Ft){gt=Ze[Ft];for(var gr=at.length;--gr>=0;)if(wt=at[gr],gt[0]===wt[0]&&gt[1]===wt[1]){if(kt)return[kt,gt];kt=gt}}}function pf(Ze){for(var at=Ze.length,gt=[],wt=Ze[at-1],zt=0;zt<at;++zt)gt.push([wt,wt=Ze[zt]]);return gt}function ol(Ze){return Ze.project.invert||Ze.children&&Ze.children.some(ol)}var Vs=e(53285),Hu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ki=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ze){return Ze.map(function(at){return Hu[at]})});function iu(Ze){Ze=Ze||function(gt){var wt=(0,ze.c)({type:"MultiPoint",coordinates:gt});return(0,Vs.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var at=ki.map(function(gt){return{face:gt,project:Ze(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,wt){var zt=at[gt];zt&&(zt.children||(zt.children=[])).push(at[wt])}),yi(at[0],function(gt,wt){return at[gt<-c/2?wt<0?6:4:gt<0?wt<0?2:0:gt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Qo=2/I(3);function Es(Ze,at){var gt=me(Ze,at);return[gt[0]*Qo,gt[1]]}Es.invert=function(Ze,at){return me.invert(Ze/Qo,at)};function sl(Ze){Ze=Ze||function(gt){var wt=(0,ze.c)({type:"MultiPoint",coordinates:gt});return(0,m.c)(Es).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var at=ki.map(function(gt){return{face:gt,project:Ze(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,wt){var zt=at[gt];zt&&(zt.children||(zt.children=[])).push(at[wt])}),yi(at[0],function(gt,wt){return at[gt<-c/2?wt<0?6:4:gt<0?wt<0?2:0:gt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Hs(Ze){Ze=Ze||function(Ft){var gr=Ft.length===6?(0,ze.c)({type:"MultiPoint",coordinates:Ft}):Ft[0];return(0,Vs.c)().scale(1).translate([0,0]).rotate([-gr[0],-gr[1]])};var at=ki.map(function(Ft){for(var gr=Ft.map(Vo),wr=gr.length,lr=gr[wr-1],Sr,Ir=[],Ur=0;Ur<wr;++Ur)Sr=gr[Ur],Ir.push(qo([lr[0]*.9486832980505138+Sr[0]*.31622776601683794,lr[1]*.9486832980505138+Sr[1]*.31622776601683794,lr[2]*.9486832980505138+Sr[2]*.31622776601683794]),qo([Sr[0]*.9486832980505138+lr[0]*.31622776601683794,Sr[1]*.9486832980505138+lr[1]*.31622776601683794,Sr[2]*.9486832980505138+lr[2]*.31622776601683794])),lr=Sr;return Ir}),gt=[],wt=[-1,0,0,1,0,1,4,5];at.forEach(function(Ft,gr){for(var wr=ki[gr],lr=wr.length,Sr=gt[gr]=[],Ir=0;Ir<lr;++Ir)at.push([wr[Ir],Ft[(Ir*2+2)%(2*lr)],Ft[(Ir*2+1)%(2*lr)]]),wt.push(gr),Sr.push(Cs(Vo(Ft[(Ir*2+2)%(2*lr)]),Vo(Ft[(Ir*2+1)%(2*lr)])))});var zt=at.map(function(Ft){return{project:Ze(Ft),face:Ft}});wt.forEach(function(Ft,gr){var wr=zt[Ft];wr&&(wr.children||(wr.children=[])).push(zt[gr])});function kt(Ft,gr){var wr=S(gr),lr=[wr*S(Ft),wr*l(Ft),l(gr)],Sr=Ft<-c/2?gr<0?6:4:Ft<0?gr<0?2:0:Ft<c/2?gr<0?3:1:gr<0?7:5,Ir=gt[Sr];return zt[$o(Ir[0],lr)<0?8+3*Sr:$o(Ir[1],lr)<0?8+3*Sr+1:$o(Ir[2],lr)<0?8+3*Sr+2:Sr]}return yi(zt[0],kt).angle(-30).scale(110.625).center([0,45])}function $o(Ze,at){for(var gt=0,wt=Ze.length,zt=0;gt<wt;++gt)zt+=Ze[gt]*at[gt];return zt}function Cs(Ze,at){return[Ze[1]*at[2]-Ze[2]*at[1],Ze[2]*at[0]-Ze[0]*at[2],Ze[0]*at[1]-Ze[1]*at[0]]}function qo(Ze){return[L(Ze[1],Ze[0])*E,M(t(-1,a(1,Ze[2])))*E]}function Vo(Ze){var at=Ze[0]*A,gt=Ze[1]*A,wt=S(gt);return[wt*S(at),wt*l(at),l(gt)]}function ou(){}function rh(Ze){if((gt=Ze.length)<4)return!1;for(var at=0,gt,wt=Ze[gt-1][1]*Ze[0][0]-Ze[gt-1][0]*Ze[0][1];++at<gt;)wt+=Ze[at-1][1]*Ze[at][0]-Ze[at-1][0]*Ze[at][1];return wt<=0}function nh(Ze,at){for(var gt=at[0],wt=at[1],zt=!1,kt=0,Ft=Ze.length,gr=Ft-1;kt<Ft;gr=kt++){var wr=Ze[kt],lr=wr[0],Sr=wr[1],Ir=Ze[gr],Ur=Ir[0],on=Ir[1];Sr>wt^on>wt&&gt<(Ur-lr)*(wt-Sr)/(on-Sr)+lr&&(zt=!zt)}return zt}function ah(Ze,at){var gt=at.stream,wt;if(!gt)throw new Error("invalid projection");switch(Ze&&Ze.type){case"Feature":wt=gf;break;case"FeatureCollection":wt=ih;break;default:wt=zl;break}return wt(Ze,gt)}function ih(Ze,at){return{type:"FeatureCollection",features:Ze.features.map(function(gt){return gf(gt,at)})}}function gf(Ze,at){return{type:"Feature",id:Ze.id,properties:Ze.properties,geometry:zl(Ze.geometry,at)}}function $f(Ze,at){return{type:"GeometryCollection",geometries:Ze.geometries.map(function(gt){return zl(gt,at)})}}function zl(Ze,at){if(!Ze)return null;if(Ze.type==="GeometryCollection")return $f(Ze,at);var gt;switch(Ze.type){case"Point":gt=Ol;break;case"MultiPoint":gt=Ol;break;case"LineString":gt=qf;break;case"MultiLineString":gt=qf;break;case"Polygon":gt=su;break;case"MultiPolygon":gt=su;break;case"Sphere":gt=su;break;default:return null}return(0,ha.c)(Ze,at(gt)),gt.result()}var Qi=[],Oo=[],Ol={point:function(Ze,at){Qi.push([Ze,at])},result:function(){var Ze=Qi.length?Qi.length<2?{type:"Point",coordinates:Qi[0]}:{type:"MultiPoint",coordinates:Qi}:null;return Qi=[],Ze}},qf={lineStart:ou,point:function(Ze,at){Qi.push([Ze,at])},lineEnd:function(){Qi.length&&(Oo.push(Qi),Qi=[])},result:function(){var Ze=Oo.length?Oo.length<2?{type:"LineString",coordinates:Oo[0]}:{type:"MultiLineString",coordinates:Oo}:null;return Oo=[],Ze}},su={polygonStart:ou,lineStart:ou,point:function(Ze,at){Qi.push([Ze,at])},lineEnd:function(){var Ze=Qi.length;if(Ze){do Qi.push(Qi[0].slice());while(++Ze<4);Oo.push(Qi),Qi=[]}},polygonEnd:ou,result:function(){if(!Oo.length)return null;var Ze=[],at=[];return Oo.forEach(function(gt){rh(gt)?Ze.push([gt]):at.push(gt)}),at.forEach(function(gt){var wt=gt[0];Ze.some(function(zt){if(nh(zt[0],wt))return zt.push(gt),!0})||Ze.push([gt])}),Oo=[],Ze.length?Ze.length>1?{type:"MultiPolygon",coordinates:Ze}:{type:"Polygon",coordinates:Ze[0]}:null}};function Ls(Ze){var at=Ze(i,0)[0]-Ze(-i,0)[0];function gt(wt,zt){var kt=P(wt)<i,Ft=Ze(kt?wt:wt>0?wt-c:wt+c,zt),gr=(Ft[0]-Ft[1])*b,wr=(Ft[0]+Ft[1])*b;if(kt)return[gr,wr];var lr=at*b,Sr=gr>0^wr>0?-1:1;return[Sr*gr-u(wr)*lr,Sr*wr-u(gr)*lr]}return Ze.invert&&(gt.invert=function(wt,zt){var kt=(wt+zt)*b,Ft=(zt-wt)*b,gr=P(kt)<.5*at&&P(Ft)<.5*at;if(!gr){var wr=at*b,lr=kt>0^Ft>0?-1:1,Sr=-lr*wt+(Ft>0?1:-1)*wr,Ir=-lr*zt+(kt>0?1:-1)*wr;kt=(-Sr-Ir)*b,Ft=(Sr-Ir)*b}var Ur=Ze.invert(kt,Ft);return gr||(Ur[0]+=kt>0?c:-c),Ur}),(0,m.c)(gt).rotate([-90,-90,45]).clipAngle(179.999)}function oh(){return Ls(Mn).scale(176.423)}function ec(){return Ls(mr).scale(111.48)}function tc(Ze,at){if(!(0<=(at=+at)&&at<=20))throw new Error("invalid digits");function gt(lr){var Sr=lr.length,Ir=2,Ur=new Array(Sr);for(Ur[0]=+lr[0].toFixed(at),Ur[1]=+lr[1].toFixed(at);Ir<Sr;)Ur[Ir]=lr[Ir],++Ir;return Ur}function wt(lr){return lr.map(gt)}function zt(lr){for(var Sr=gt(lr[0]),Ir=[Sr],Ur=1;Ur<lr.length;Ur++){var on=gt(lr[Ur]);(on.length>2||on[0]!=Sr[0]||on[1]!=Sr[1])&&(Ir.push(on),Sr=on)}return Ir.length===1&&lr.length>1&&Ir.push(gt(lr[lr.length-1])),Ir}function kt(lr){return lr.map(zt)}function Ft(lr){if(lr==null)return lr;var Sr;switch(lr.type){case"GeometryCollection":Sr={type:"GeometryCollection",geometries:lr.geometries.map(Ft)};break;case"Point":Sr={type:"Point",coordinates:gt(lr.coordinates)};break;case"MultiPoint":Sr={type:lr.type,coordinates:wt(lr.coordinates)};break;case"LineString":Sr={type:lr.type,coordinates:zt(lr.coordinates)};break;case"MultiLineString":case"Polygon":Sr={type:lr.type,coordinates:kt(lr.coordinates)};break;case"MultiPolygon":Sr={type:"MultiPolygon",coordinates:lr.coordinates.map(kt)};break;default:return lr}return lr.bbox!=null&&(Sr.bbox=lr.bbox),Sr}function gr(lr){var Sr={type:"Feature",properties:lr.properties,geometry:Ft(lr.geometry)};return lr.id!=null&&(Sr.id=lr.id),lr.bbox!=null&&(Sr.bbox=lr.bbox),Sr}if(Ze!=null)switch(Ze.type){case"Feature":return gr(Ze);case"FeatureCollection":{var wr={type:"FeatureCollection",features:Ze.features.map(gr)};return Ze.bbox!=null&&(wr.bbox=Ze.bbox),wr}default:return Ft(Ze)}return Ze}function yf(Ze){var at=l(Ze);function gt(wt,zt){var kt=at?g(wt*at/2)/at:wt/2;if(!zt)return[2*kt,-Ze];var Ft=2*s(kt*l(zt)),gr=1/g(zt);return[l(Ft)*gr,zt+(1-S(Ft))*gr-Ze]}return gt.invert=function(wt,zt){if(P(zt+=Ze)<h)return[at?2*s(at*wt/2)/at:wt,0];var kt=wt*wt+zt*zt,Ft=0,gr=10,wr;do{var lr=g(Ft),Sr=1/S(Ft),Ir=kt-2*zt*Ft+Ft*Ft;Ft-=wr=(lr*Ir+2*(Ft-zt))/(2+Ir*Sr*Sr+2*(Ft-zt)*lr)}while(P(wr)>h&&--gr>0);var Ur=wt*(lr=g(Ft)),on=g(P(zt)<P(Ft+1/lr)?M(Ur)*.5:x(Ur)*.5+c/4)/l(Ft);return[at?2*s(at*on)/at:2*on,Ft]},gt}function rc(){return it(yf).scale(131.215)}var wo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];wo.forEach(function(Ze){Ze[1]*=1.0144});function es(Ze,at){var gt=a(18,P(at)*36/c),wt=p(gt),zt=gt-wt,kt=(Ir=wo[wt])[0],Ft=Ir[1],gr=(Ir=wo[++wt])[0],wr=Ir[1],lr=(Ir=wo[a(19,++wt)])[0],Sr=Ir[1],Ir;return[Ze*(gr+zt*(lr-kt)/2+zt*zt*(lr-2*gr+kt)/2),(at>0?i:-i)*(wr+zt*(Sr-Ft)/2+zt*zt*(Sr-2*wr+Ft)/2)]}es.invert=function(Ze,at){var gt=at/i,wt=gt*90,zt=a(18,P(wt/5)),kt=t(0,p(zt));do{var Ft=wo[kt][1],gr=wo[kt+1][1],wr=wo[a(19,kt+2)][1],lr=wr-Ft,Sr=wr-2*gr+Ft,Ir=2*(P(gt)-gr)/lr,Ur=Sr/lr,on=Ir*(1-Ur*Ir*(1-2*Ur*Ir));if(on>=0||kt===1){wt=(at>=0?5:-5)*(on+zt);var xn=50,_n;do zt=a(18,P(wt)/5),kt=p(zt),on=zt-kt,Ft=wo[kt][1],gr=wo[kt+1][1],wr=wo[a(19,kt+2)][1],wt-=(_n=(at>=0?i:-i)*(gr+on*(wr-Ft)/2+on*on*(wr-2*gr+Ft)/2)-at)*E;while(P(_n)>T&&--xn>0);break}}while(--kt>=0);var Dn=wo[kt][0],Kn=wo[kt+1][0],Ra=wo[a(19,kt+2)][0];return[Ze/(Kn+on*(Ra-Dn)/2+on*on*(Ra-2*Kn+Dn)/2),wt*A]};function Gs(){return(0,m.c)(es).scale(152.63)}function Fl(Ze){function at(gt,wt){var zt=S(wt),kt=(Ze-1)/(Ze-zt*S(gt));return[kt*zt*l(gt),kt*l(wt)]}return at.invert=function(gt,wt){var zt=gt*gt+wt*wt,kt=I(zt),Ft=(Ze-I(1-zt*(Ze+1)/(Ze-1)))/((Ze-1)/kt+kt/(Ze-1));return[L(gt*Ft,kt*I(1-Ft*Ft)),kt?M(wt*Ft/kt):0]},at}function Gu(Ze,at){var gt=Fl(Ze);if(!at)return gt;var wt=S(at),zt=l(at);function kt(Ft,gr){var wr=gt(Ft,gr),lr=wr[1],Sr=lr*zt/(Ze-1)+wt;return[wr[0]*wt/Sr,lr/Sr]}return kt.invert=function(Ft,gr){var wr=(Ze-1)/(Ze-1-gr*zt);return gt.invert(wr*Ft,wr*gr*wt)},kt}function ll(){var Ze=2,at=0,gt=(0,m.U)(Gu),wt=gt(Ze,at);return wt.distance=function(zt){return arguments.length?gt(Ze=+zt,at):Ze},wt.tilt=function(zt){return arguments.length?gt(Ze,at=zt*A):at*E},wt.scale(432.147).clipAngle(x(1/Ze)*E-1e-6)}var ul=1e-4,nc=1e4,Ps=-180,Nl=Ps+ul,Ws=180,_s=Ws-ul,lu=-90,Bl=lu+ul,vi=90,Ul=vi-ul;function Wu(Ze){return Ze.length>0}function ac(Ze){return Math.floor(Ze*nc)/nc}function Vl(Ze){return Ze===lu||Ze===vi?[0,Ze]:[Ps,ac(Ze)]}function uu(Ze){var at=Ze[0],gt=Ze[1],wt=!1;return at<=Nl?(at=Ps,wt=!0):at>=_s&&(at=Ws,wt=!0),gt<=Bl?(gt=lu,wt=!0):gt>=Ul&&(gt=vi,wt=!0),wt?[at,gt]:Ze}function ju(Ze){return Ze.map(uu)}function mf(Ze,at,gt){for(var wt=0,zt=Ze.length;wt<zt;++wt){var kt=Ze[wt].slice();gt.push({index:-1,polygon:at,ring:kt});for(var Ft=0,gr=kt.length;Ft<gr;++Ft){var wr=kt[Ft],lr=wr[0],Sr=wr[1];if(lr<=Nl||lr>=_s||Sr<=Bl||Sr>=Ul){kt[Ft]=uu(wr);for(var Ir=Ft+1;Ir<gr;++Ir){var Ur=kt[Ir],on=Ur[0],xn=Ur[1];if(on>Nl&&on<_s&&xn>Bl&&xn<Ul)break}if(Ir===Ft+1)continue;if(Ft){var _n={index:-1,polygon:at,ring:kt.slice(0,Ft+1)};_n.ring[_n.ring.length-1]=Vl(Sr),gt[gt.length-1]=_n}else gt.pop();if(Ir>=gr)break;gt.push({index:-1,polygon:at,ring:kt=kt.slice(Ir-1)}),kt[0]=Vl(kt[0][1]),Ft=-1,gr=kt.length}}}}function fu(Ze){var at,gt=Ze.length,wt={},zt={},kt,Ft,gr,wr,lr;for(at=0;at<gt;++at){if(kt=Ze[at],Ft=kt.ring[0],wr=kt.ring[kt.ring.length-1],Ft[0]===wr[0]&&Ft[1]===wr[1]){kt.polygon.push(kt.ring),Ze[at]=null;continue}kt.index=at,wt[Ft]=zt[wr]=kt}for(at=0;at<gt;++at)if(kt=Ze[at],kt){if(Ft=kt.ring[0],wr=kt.ring[kt.ring.length-1],gr=zt[Ft],lr=wt[wr],delete wt[Ft],delete zt[wr],Ft[0]===wr[0]&&Ft[1]===wr[1]){kt.polygon.push(kt.ring);continue}gr?(delete zt[Ft],delete wt[gr.ring[0]],gr.ring.pop(),Ze[gr.index]=null,kt={index:-1,polygon:gr.polygon,ring:gr.ring.concat(kt.ring)},gr===lr?kt.polygon.push(kt.ring):(kt.index=gt++,Ze.push(wt[kt.ring[0]]=zt[kt.ring[kt.ring.length-1]]=kt))):lr?(delete wt[wr],delete zt[lr.ring[lr.ring.length-1]],kt.ring.pop(),kt={index:gt++,polygon:lr.polygon,ring:kt.ring.concat(lr.ring)},Ze[lr.index]=null,Ze.push(wt[kt.ring[0]]=zt[kt.ring[kt.ring.length-1]]=kt)):(kt.ring.push(kt.ring[0]),kt.polygon.push(kt.ring))}}function cu(Ze){var at={type:"Feature",geometry:js(Ze.geometry)};return Ze.id!=null&&(at.id=Ze.id),Ze.bbox!=null&&(at.bbox=Ze.bbox),Ze.properties!=null&&(at.properties=Ze.properties),at}function js(Ze){if(Ze==null)return Ze;var at,gt,wt,zt;switch(Ze.type){case"GeometryCollection":at={type:"GeometryCollection",geometries:Ze.geometries.map(js)};break;case"Point":at={type:"Point",coordinates:uu(Ze.coordinates)};break;case"MultiPoint":case"LineString":at={type:Ze.type,coordinates:ju(Ze.coordinates)};break;case"MultiLineString":at={type:"MultiLineString",coordinates:Ze.coordinates.map(ju)};break;case"Polygon":{var kt=[];mf(Ze.coordinates,kt,gt=[]),fu(gt),at={type:"Polygon",coordinates:kt};break}case"MultiPolygon":{gt=[],wt=-1,zt=Ze.coordinates.length;for(var Ft=new Array(zt);++wt<zt;)mf(Ze.coordinates[wt],Ft[wt]=[],gt);fu(gt),at={type:"MultiPolygon",coordinates:Ft.filter(Wu)};break}default:return Ze}return Ze.bbox!=null&&(at.bbox=Ze.bbox),at}function hu(Ze){if(Ze==null)return Ze;switch(Ze.type){case"Feature":return cu(Ze);case"FeatureCollection":{var at={type:"FeatureCollection",features:Ze.features.map(cu)};return Ze.bbox!=null&&(at.bbox=Ze.bbox),at}default:return js(Ze)}}function Ys(Ze,at){var gt=g(at/2),wt=l(d*gt);return[Ze*(.74482-.34588*wt*wt),1.70711*gt]}Ys.invert=function(Ze,at){var gt=at/1.70711,wt=l(d*gt);return[Ze/(.74482-.34588*wt*wt),2*s(gt)]};function Gi(){return(0,m.c)(Ys).scale(146.153)}function ds(Ze,at,gt){var wt=(0,hf.c)(at,gt),zt=wt(.5),kt=(0,Ge.c)([-zt[0],-zt[1]])(at),Ft=wt.distance/2,gr=-M(l(kt[1]*A)/l(Ft)),wr=[-zt[0],-zt[1],-(kt[0]>0?c-gr:gr)*E],lr=(0,m.c)(Ze(Ft)).rotate(wr),Sr=(0,Ge.c)(wr),Ir=lr.center;return delete lr.rotate,lr.center=function(Ur){return arguments.length?Ir(Sr(Ur)):Sr.invert(Ir())},lr.clipAngle(90)}function xf(Ze){var at=S(Ze);function gt(wt,zt){var kt=(0,Vs.Y)(wt,zt);return kt[0]*=at,kt}return gt.invert=function(wt,zt){return Vs.Y.invert(wt/at,zt)},gt}function fl(){return Yu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Yu(Ze,at){return ds(xf,Ze,at)}function vu(Ze){if(!(Ze*=2))return oe.O;var at=-Ze/2,gt=-at,wt=Ze*Ze,zt=g(gt),kt=.5/l(gt);function Ft(gr,wr){var lr=x(S(wr)*S(gr-at)),Sr=x(S(wr)*S(gr-gt)),Ir=wr<0?-1:1;return lr*=lr,Sr*=Sr,[(lr-Sr)/(2*Ze),Ir*I(4*wt*Sr-(wt-lr+Sr)*(wt-lr+Sr))/(2*Ze)]}return Ft.invert=function(gr,wr){var lr=wr*wr,Sr=S(I(lr+(Ur=gr+at)*Ur)),Ir=S(I(lr+(Ur=gr+gt)*Ur)),Ur,on;return[L(on=Sr-Ir,Ur=(Sr+Ir)*zt),(wr<0?-1:1)*x(I(Ur*Ur+on*on)*kt)]},Ft}function sh(){return ic([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ic(Ze,at){return ds(vu,Ze,at)}function po(Ze,at){if(P(at)<h)return[Ze,0];var gt=P(at/i),wt=M(gt);if(P(Ze)<h||P(P(at)-i)<h)return[0,u(at)*c*g(wt/2)];var zt=S(wt),kt=P(c/Ze-Ze/c)/2,Ft=kt*kt,gr=zt/(gt+zt-1),wr=gr*(2/gt-1),lr=wr*wr,Sr=lr+Ft,Ir=gr-lr,Ur=Ft+gr;return[u(Ze)*c*(kt*Ir+I(Ft*Ir*Ir-Sr*(gr*gr-lr)))/Sr,u(at)*c*(wr*Ur-kt*I((Ft+1)*Sr-Ur*Ur))/Sr]}po.invert=function(Ze,at){if(P(at)<h)return[Ze,0];if(P(Ze)<h)return[0,i*l(2*s(at/c))];var gt=(Ze/=c)*Ze,wt=(at/=c)*at,zt=gt+wt,kt=zt*zt,Ft=-P(at)*(1+zt),gr=Ft-2*wt+gt,wr=-2*Ft+1+2*wt+kt,lr=wt/wr+(2*gr*gr*gr/(wr*wr*wr)-9*Ft*gr/(wr*wr))/27,Sr=(Ft-gr*gr/(3*wr))/wr,Ir=2*I(-Sr/3),Ur=x(3*lr/(Sr*Ir))/3;return[c*(zt-1+I(1+2*(gt-wt)+kt))/(2*Ze),u(at)*c*(-Ir*S(Ur+c/3)-gr/(3*wr))]};function du(){return(0,m.c)(po).scale(79.4183)}function Hl(Ze,at){if(P(at)<h)return[Ze,0];var gt=P(at/i),wt=M(gt);if(P(Ze)<h||P(P(at)-i)<h)return[0,u(at)*c*g(wt/2)];var zt=S(wt),kt=P(c/Ze-Ze/c)/2,Ft=kt*kt,gr=zt*(I(1+Ft)-kt*zt)/(1+Ft*gt*gt);return[u(Ze)*c*gr,u(at)*c*I(1-gr*(2*kt+gr))]}Hl.invert=function(Ze,at){if(!Ze)return[0,i*l(2*s(at/c))];var gt=P(Ze/c),wt=(1-gt*gt-(at/=c)*at)/(2*gt),zt=wt*wt,kt=I(zt+1);return[u(Ze)*c*(kt-wt),u(at)*i*l(2*L(I((1-2*wt*gt)*(wt+kt)-gt),I(kt+wt+gt)))]};function oc(){return(0,m.c)(Hl).scale(79.4183)}function Xs(Ze,at){if(P(at)<h)return[Ze,0];var gt=at/i,wt=M(gt);if(P(Ze)<h||P(P(at)-i)<h)return[0,c*g(wt/2)];var zt=(c/Ze-Ze/c)/2,kt=gt/(1+S(wt));return[c*(u(Ze)*I(zt*zt+1-kt*kt)-zt),c*kt]}Xs.invert=function(Ze,at){if(!at)return[Ze,0];var gt=at/c,wt=(c*c*(1-gt*gt)-Ze*Ze)/(2*c*Ze);return[Ze?c*(u(Ze)*I(wt*wt+1)-wt):0,i*l(2*s(gt))]};function lh(){return(0,m.c)(Xs).scale(79.4183)}function _o(Ze,at){if(!at)return[Ze,0];var gt=P(at);if(!Ze||gt===i)return[0,at];var wt=gt/i,zt=wt*wt,kt=(8*wt-zt*(zt+2)-5)/(2*zt*(wt-1)),Ft=kt*kt,gr=wt*kt,wr=zt+Ft+2*gr,lr=wt+3*kt,Sr=Ze/i,Ir=Sr+1/Sr,Ur=u(P(Ze)-i)*I(Ir*Ir-4),on=Ur*Ur,xn=wr*(zt+Ft*on-1)+(1-zt)*(zt*(lr*lr+4*Ft)+12*gr*Ft+4*Ft*Ft),_n=(Ur*(wr+Ft-1)+2*I(xn))/(4*wr+on);return[u(Ze)*i*_n,u(at)*i*I(1+Ur*P(_n)-_n*_n)]}_o.invert=function(Ze,at){var gt;if(!Ze||!at)return[Ze,at];at/=c;var wt=u(Ze)*Ze/i,zt=(wt*wt-1+4*at*at)/P(wt),kt=zt*zt,Ft=2*at,gr=50;do{var wr=Ft*Ft,lr=(8*Ft-wr*(wr+2)-5)/(2*wr*(Ft-1)),Sr=(3*Ft-wr*Ft-10)/(2*wr*Ft),Ir=lr*lr,Ur=Ft*lr,on=Ft+lr,xn=on*on,_n=Ft+3*lr,Dn=xn*(wr+Ir*kt-1)+(1-wr)*(wr*(_n*_n+4*Ir)+Ir*(12*Ur+4*Ir)),Kn=-2*on*(4*Ur*Ir+(1-4*wr+3*wr*wr)*(1+Sr)+Ir*(-6+14*wr-kt+(-8+8*wr-2*kt)*Sr)+Ur*(-8+12*wr+(-10+10*wr-kt)*Sr)),Ra=I(Dn),Da=zt*(xn+Ir-1)+2*Ra-wt*(4*xn+kt),ka=zt*(2*lr*Sr+2*on*(1+Sr))+Kn/Ra-8*on*(zt*(-1+Ir+xn)+2*Ra)*(1+Sr)/(kt+4*xn);Ft-=gt=Da/ka}while(gt>h&&--gr>0);return[u(Ze)*(I(zt*zt+4)+zt)*c/4,i*Ft]};function pu(){return(0,m.c)(_o).scale(127.16)}function Xu(Ze,at,gt,wt,zt){function kt(Ft,gr){var wr=gt*l(wt*gr),lr=I(1-wr*wr),Sr=I(2/(1+lr*S(Ft*=zt)));return[Ze*lr*Sr*l(Ft),at*wr*Sr]}return kt.invert=function(Ft,gr){var wr=Ft/Ze,lr=gr/at,Sr=I(wr*wr+lr*lr),Ir=2*M(Sr/2);return[L(Ft*g(Ir),Ze*Sr)/zt,Sr&&M(gr*l(Ir)/(at*gt*Sr))/wt]},kt}function Rs(Ze,at,gt,wt){var zt=c/3;Ze=t(Ze,h),at=t(at,h),Ze=a(Ze,i),at=a(at,c-h),gt=t(gt,0),gt=a(gt,100-h),wt=t(wt,h);var kt=gt/100+1,Ft=wt/100,gr=x(kt*S(zt))/zt,wr=l(Ze)/l(gr*i),lr=at/c,Sr=I(Ft*l(Ze/2)/l(at/2)),Ir=Sr/I(lr*wr*gr),Ur=1/(Sr*I(lr*wr*gr));return Xu(Ir,Ur,wr,gr,lr)}function Zs(){var Ze=65*A,at=60*A,gt=20,wt=200,zt=(0,m.U)(Rs),kt=zt(Ze,at,gt,wt);return kt.poleline=function(Ft){return arguments.length?zt(Ze=+Ft*A,at,gt,wt):Ze*E},kt.parallels=function(Ft){return arguments.length?zt(Ze,at=+Ft*A,gt,wt):at*E},kt.inflation=function(Ft){return arguments.length?zt(Ze,at,gt=+Ft,wt):gt},kt.ratio=function(Ft){return arguments.length?zt(Ze,at,gt,wt=+Ft):wt},kt.scale(163.775)}function bf(){return Zs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var gu=4*c+3*I(3),yu=2*I(2*c*I(3)/gu),Zu=Te(yu*I(3)/c,yu,gu/6);function sc(){return(0,m.c)(Zu).scale(176.84)}function mu(Ze,at){return[Ze*I(1-3*at*at/(c*c)),at]}mu.invert=function(Ze,at){return[Ze/I(1-3*at*at/(c*c)),at]};function wf(){return(0,m.c)(mu).scale(152.63)}function cl(Ze,at){var gt=S(at),wt=S(Ze)*gt,zt=1-wt,kt=S(Ze=L(l(Ze)*gt,-l(at))),Ft=l(Ze);return gt=I(1-wt*wt),[Ft*gt-kt*zt,-kt*gt-Ft*zt]}cl.invert=function(Ze,at){var gt=(Ze*Ze+at*at)/-2,wt=I(-gt*(2+gt)),zt=at*gt+Ze*wt,kt=Ze*gt-at*wt,Ft=I(kt*kt+zt*zt);return[L(wt*zt,Ft*(1+gt)),Ft?-M(wt*kt/Ft):0]};function Tf(){return(0,m.c)(cl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function xu(Ze,at){var gt=W(Ze,at);return[(gt[0]+Ze/i)/2,(gt[1]+at)/2]}xu.invert=function(Ze,at){var gt=Ze,wt=at,zt=25;do{var kt=S(wt),Ft=l(wt),gr=l(2*wt),wr=Ft*Ft,lr=kt*kt,Sr=l(gt),Ir=S(gt/2),Ur=l(gt/2),on=Ur*Ur,xn=1-lr*Ir*Ir,_n=xn?x(kt*Ir)*I(Dn=1/xn):Dn=0,Dn,Kn=.5*(2*_n*kt*Ur+gt/i)-Ze,Ra=.5*(_n*Ft+wt)-at,Da=.5*Dn*(lr*on+_n*kt*Ir*wr)+.5/i,ka=Dn*(Sr*gr/4-_n*Ft*Ur),Na=.125*Dn*(gr*Ur-_n*Ft*lr*Sr),Ka=.5*Dn*(wr*Ir+_n*on*kt)+.5,di=ka*Na-Ka*Da,zi=(Ra*ka-Kn*Ka)/di,ue=(Kn*Na-Ra*Da)/di;gt-=zi,wt-=ue}while((P(zi)>h||P(ue)>h)&&--zt>0);return[gt,wt]};function lc(){return(0,m.c)(xu).scale(158.837)}},88728:function(G,H,e){e.d(H,{c:function(){return m}});function m(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(S){L(s,S,this.t),L(this,s.s,this.s),this.s?this.t+=s.t:this.s=s.t},valueOf:function(){return this.s}};var s=new P;function L(S,v,p){var r=S.s=v+p,t=r-v,a=r-t;S.t=v-a+(p-t)}},95384:function(G,H,e){e.d(H,{cp:function(){return T},mQ:function(){return S},oB:function(){return f}});var m=e(88728),P=e(64528),s=e(70932),L=e(16016),S=(0,m.c)(),v=(0,m.c)(),p,r,t,a,n,f={point:s.c,lineStart:s.c,lineEnd:s.c,polygonStart:function(){S.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var c=+S;v.add(c<0?P.kD+c:c),this.lineStart=this.lineEnd=this.point=s.c},sphere:function(){v.add(P.kD)}};function u(){f.point=g}function l(){h(p,r)}function g(c,i){f.point=h,p=c,r=i,c*=P.qw,i*=P.qw,t=c,a=(0,P.W8)(i=i/2+P.wL),n=(0,P.g$)(i)}function h(c,i){c*=P.qw,i*=P.qw,i=i/2+P.wL;var d=c-t,b=d>=0?1:-1,w=b*d,C=(0,P.W8)(i),y=(0,P.g$)(i),E=n*y,A=a*C+E*(0,P.W8)(w),o=E*b*(0,P.g$)(w);S.add((0,P.WE)(o,A)),t=c,a=C,n=y}function T(c){return v.reset(),(0,L.c)(c,f),v*2}},13696:function(G,H,e){e.d(H,{c:function(){return M}});var m=e(88728),P=e(95384),s=e(84220),L=e(64528),S=e(16016),v,p,r,t,a,n,f,u,l=(0,m.c)(),g,h,T={point:c,lineStart:d,lineEnd:b,polygonStart:function(){T.point=w,T.lineStart=C,T.lineEnd=y,l.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),T.point=c,T.lineStart=d,T.lineEnd=b,P.mQ<0?(v=-(r=180),p=-(t=90)):l>L.Gg?t=90:l<-L.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(x,I){g.push(h=[v=x,r=x]),I<p&&(p=I),I>t&&(t=I)}function i(x,I){var D=(0,s.ux)([x*L.qw,I*L.qw]);if(u){var N=(0,s.CW)(u,D),k=[N[1],-N[0],0],O=(0,s.CW)(k,N);(0,s.cJ)(O),O=(0,s.G)(O);var F=x-a,z=F>0?1:-1,B=O[0]*L.oh*z,W,J=(0,L.a2)(F)>180;J^(z*a<B&&B<z*x)?(W=O[1]*L.oh,W>t&&(t=W)):(B=(B+360)%360-180,J^(z*a<B&&B<z*x)?(W=-O[1]*L.oh,W<p&&(p=W)):(I<p&&(p=I),I>t&&(t=I))),J?x<a?E(v,x)>E(v,r)&&(r=x):E(x,r)>E(v,r)&&(v=x):r>=v?(x<v&&(v=x),x>r&&(r=x)):x>a?E(v,x)>E(v,r)&&(r=x):E(x,r)>E(v,r)&&(v=x)}else g.push(h=[v=x,r=x]);I<p&&(p=I),I>t&&(t=I),u=D,a=x}function d(){T.point=i}function b(){h[0]=v,h[1]=r,T.point=c,u=null}function w(x,I){if(u){var D=x-a;l.add((0,L.a2)(D)>180?D+(D>0?360:-360):D)}else n=x,f=I;P.oB.point(x,I),i(x,I)}function C(){P.oB.lineStart()}function y(){w(n,f),P.oB.lineEnd(),(0,L.a2)(l)>L.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function E(x,I){return(I-=x)<0?I+360:I}function A(x,I){return x[0]-I[0]}function o(x,I){return x[0]<=x[1]?x[0]<=I&&I<=x[1]:I<x[0]||x[1]<I}function M(x){var I,D,N,k,O,F,z;if(t=r=-(v=p=1/0),g=[],(0,S.c)(x,T),D=g.length){for(g.sort(A),I=1,N=g[0],O=[N];I<D;++I)k=g[I],o(N,k[0])||o(N,k[1])?(E(N[0],k[1])>E(N[0],N[1])&&(N[1]=k[1]),E(k[0],N[1])>E(N[0],N[1])&&(N[0]=k[0])):O.push(N=k);for(F=-1/0,D=O.length-1,I=0,N=O[D];I<=D;N=k,++I)k=O[I],(z=E(N[1],k[0]))>F&&(F=z,v=k[0],r=N[1])}return g=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(G,H,e){e.d(H,{CW:function(){return S},Ez:function(){return L},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return s},wx:function(){return p}});var m=e(64528);function P(t){return[(0,m.WE)(t[1],t[0]),(0,m.qR)(t[2])]}function s(t){var a=t[0],n=t[1],f=(0,m.W8)(n);return[f*(0,m.W8)(a),f*(0,m.g$)(a),(0,m.g$)(n)]}function L(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]}function S(t,a){return[t[1]*a[2]-t[2]*a[1],t[2]*a[0]-t[0]*a[2],t[0]*a[1]-t[1]*a[0]]}function v(t,a){t[0]+=a[0],t[1]+=a[1],t[2]+=a[2]}function p(t,a){return[t[0]*a,t[1]*a,t[2]*a]}function r(t){var a=(0,m._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=a,t[1]/=a,t[2]/=a}},24052:function(G,H,e){e.d(H,{c:function(){return D}});var m=e(64528),P=e(70932),s=e(16016),L,S,v,p,r,t,a,n,f,u,l,g,h,T,c,i,d={sphere:P.c,point:b,lineStart:C,lineEnd:A,polygonStart:function(){d.lineStart=o,d.lineEnd=M},polygonEnd:function(){d.lineStart=C,d.lineEnd=A}};function b(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k);w(O*(0,m.W8)(N),O*(0,m.g$)(N),(0,m.g$)(k))}function w(N,k,O){++L,v+=(N-v)/L,p+=(k-p)/L,r+=(O-r)/L}function C(){d.point=y}function y(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k);T=O*(0,m.W8)(N),c=O*(0,m.g$)(N),i=(0,m.g$)(k),d.point=E,w(T,c,i)}function E(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k),F=O*(0,m.W8)(N),z=O*(0,m.g$)(N),B=(0,m.g$)(k),W=(0,m.WE)((0,m._I)((W=c*B-i*z)*W+(W=i*F-T*B)*W+(W=T*z-c*F)*W),T*F+c*z+i*B);S+=W,t+=W*(T+(T=F)),a+=W*(c+(c=z)),n+=W*(i+(i=B)),w(T,c,i)}function A(){d.point=b}function o(){d.point=x}function M(){I(g,h),d.point=b}function x(N,k){g=N,h=k,N*=m.qw,k*=m.qw,d.point=I;var O=(0,m.W8)(k);T=O*(0,m.W8)(N),c=O*(0,m.g$)(N),i=(0,m.g$)(k),w(T,c,i)}function I(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k),F=O*(0,m.W8)(N),z=O*(0,m.g$)(N),B=(0,m.g$)(k),W=c*B-i*z,J=i*F-T*B,re=T*z-c*F,ne=(0,m._I)(W*W+J*J+re*re),le=(0,m.qR)(ne),$=ne&&-le/ne;f+=$*W,u+=$*J,l+=$*re,S+=le,t+=le*(T+(T=F)),a+=le*(c+(c=z)),n+=le*(i+(i=B)),w(T,c,i)}function D(N){L=S=v=p=r=t=a=n=f=u=l=0,(0,s.c)(N,d);var k=f,O=u,F=l,z=k*k+O*O+F*F;return z<m.a8&&(k=t,O=a,F=n,S<m.Gg&&(k=v,O=p,F=r),z=k*k+O*O+F*F,z<m.a8)?[NaN,NaN]:[(0,m.WE)(O,k)*m.oh,(0,m.qR)(F/(0,m._I)(z))*m.oh]}},61780:function(G,H,e){e.d(H,{Q:function(){return S},c:function(){return p}});var m=e(84220);function P(r){return function(){return r}}var s=e(64528),L=e(92992);function S(r,t,a,n,f,u){if(a){var l=(0,s.W8)(t),g=(0,s.g$)(t),h=n*a;f==null?(f=t+n*s.kD,u=t-h/2):(f=v(l,f),u=v(l,u),(n>0?f<u:f>u)&&(f+=n*s.kD));for(var T,c=f;n>0?c>u:c<u;c-=h)T=(0,m.G)([l,-g*(0,s.W8)(c),-g*(0,s.g$)(c)]),r.point(T[0],T[1])}}function v(r,t){t=(0,m.ux)(t),t[0]-=r,(0,m.cJ)(t);var a=(0,s.mE)(-t[1]);return((-t[2]<0?-a:a)+s.kD-s.Gg)%s.kD}function p(){var r=P([0,0]),t=P(90),a=P(6),n,f,u={point:l};function l(h,T){n.push(h=f(h,T)),h[0]*=s.oh,h[1]*=s.oh}function g(){var h=r.apply(this,arguments),T=t.apply(this,arguments)*s.qw,c=a.apply(this,arguments)*s.qw;return n=[],f=(0,L.O)(-h[0]*s.qw,-h[1]*s.qw,0).invert,S(u,T,c,1),h={type:"Polygon",coordinates:[n]},n=f=null,h}return g.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),g):r},g.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),g):t},g.precision=function(h){return arguments.length?(a=typeof h=="function"?h:P(+h),g):a},g}},78284:function(G,H,e){var m=e(14229),P=e(64528);H.c=(0,m.c)(function(){return!0},s,S,[-P.pi,-P.or]);function s(v){var p=NaN,r=NaN,t=NaN,a;return{lineStart:function(){v.lineStart(),a=1},point:function(n,f){var u=n>0?P.pi:-P.pi,l=(0,P.a2)(n-p);(0,P.a2)(l-P.pi)<P.Gg?(v.point(p,r=(r+f)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),a=0):t!==u&&l>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-u)<P.Gg&&(n-=u*P.Gg),r=L(p,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),a=0),v.point(p=n,r=f),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-a}}}function L(v,p,r,t){var a,n,f=(0,P.g$)(v-r);return(0,P.a2)(f)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(a=(0,P.W8)(p))*(0,P.g$)(v))/(a*n*f)):(p+t)/2}function S(v,p,r,t){var a;if(v==null)a=r*P.or,t.point(-P.pi,a),t.point(0,a),t.point(P.pi,a),t.point(P.pi,0),t.point(P.pi,-a),t.point(0,-a),t.point(-P.pi,-a),t.point(-P.pi,0),t.point(-P.pi,a);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;a=r*n/2,t.point(-n,a),t.point(0,a),t.point(n,a)}else t.point(p[0],p[1])}},97208:function(G,H,e){e.d(H,{c:function(){return P}});var m=e(70932);function P(){var s=[],L;return{point:function(S,v,p){L.push([S,v,p])},lineStart:function(){s.push(L=[])},lineEnd:m.c,rejoin:function(){s.length>1&&s.push(s.pop().concat(s.shift()))},result:function(){var S=s;return s=[],L=null,S}}}},2728:function(G,H,e){e.d(H,{c:function(){return v}});var m=e(84220),P=e(61780),s=e(64528),L=e(41860),S=e(14229);function v(p){var r=(0,s.W8)(p),t=6*s.qw,a=r>0,n=(0,s.a2)(r)>s.Gg;function f(T,c,i,d){(0,P.Q)(d,p,t,i,T,c)}function u(T,c){return(0,s.W8)(T)*(0,s.W8)(c)>r}function l(T){var c,i,d,b,w;return{lineStart:function(){b=d=!1,w=1},point:function(C,y){var E=[C,y],A,o=u(C,y),M=a?o?0:h(C,y):o?h(C+(C<0?s.pi:-s.pi),y):0;if(!c&&(b=d=o)&&T.lineStart(),o!==d&&(A=g(c,E),(!A||(0,L.c)(c,A)||(0,L.c)(E,A))&&(E[2]=1)),o!==d)w=0,o?(T.lineStart(),A=g(E,c),T.point(A[0],A[1])):(A=g(c,E),T.point(A[0],A[1],2),T.lineEnd()),c=A;else if(n&&c&&a^o){var x;!(M&i)&&(x=g(E,c,!0))&&(w=0,a?(T.lineStart(),T.point(x[0][0],x[0][1]),T.point(x[1][0],x[1][1]),T.lineEnd()):(T.point(x[1][0],x[1][1]),T.lineEnd(),T.lineStart(),T.point(x[0][0],x[0][1],3)))}o&&(!c||!(0,L.c)(c,E))&&T.point(E[0],E[1]),c=E,d=o,i=M},lineEnd:function(){d&&T.lineEnd(),c=null},clean:function(){return w|(b&&d)<<1}}}function g(T,c,i){var d=(0,m.ux)(T),b=(0,m.ux)(c),w=[1,0,0],C=(0,m.CW)(d,b),y=(0,m.Ez)(C,C),E=C[0],A=y-E*E;if(!A)return!i&&T;var o=r*y/A,M=-r*E/A,x=(0,m.CW)(w,C),I=(0,m.wx)(w,o),D=(0,m.wx)(C,M);(0,m.mg)(I,D);var N=x,k=(0,m.Ez)(I,N),O=(0,m.Ez)(N,N),F=k*k-O*((0,m.Ez)(I,I)-1);if(!(F<0)){var z=(0,s._I)(F),B=(0,m.wx)(N,(-k-z)/O);if((0,m.mg)(B,I),B=(0,m.G)(B),!i)return B;var W=T[0],J=c[0],re=T[1],ne=c[1],le;J<W&&(le=W,W=J,J=le);var $=J-W,Z=(0,s.a2)($-s.pi)<s.Gg,ie=Z||$<s.Gg;if(!Z&&ne<re&&(le=re,re=ne,ne=le),ie?Z?re+ne>0^B[1]<((0,s.a2)(B[0]-W)<s.Gg?re:ne):re<=B[1]&&B[1]<=ne:$>s.pi^(W<=B[0]&&B[0]<=J)){var X=(0,m.wx)(N,(-k+z)/O);return(0,m.mg)(X,I),[B,(0,m.G)(X)]}}}function h(T,c){var i=a?p:s.pi-p,d=0;return T<-i?d|=1:T>i&&(d|=2),c<-i?d|=4:c>i&&(d|=8),d}return(0,S.c)(u,l,f,a?[0,-p]:[-s.pi,p-s.pi])}},14229:function(G,H,e){e.d(H,{c:function(){return v}});var m=e(97208),P=e(32232),s=e(64528),L=e(58196),S=e(84706);function v(t,a,n,f){return function(u){var l=a(u),g=(0,m.c)(),h=a(g),T=!1,c,i,d,b={point:w,lineStart:y,lineEnd:E,polygonStart:function(){b.point=A,b.lineStart=o,b.lineEnd=M,i=[],c=[]},polygonEnd:function(){b.point=w,b.lineStart=y,b.lineEnd=E,i=(0,S.Uf)(i);var x=(0,L.c)(c,f);i.length?(T||(u.polygonStart(),T=!0),(0,P.c)(i,r,x,n,u)):x&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),i=c=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(x,I){t(x,I)&&u.point(x,I)}function C(x,I){l.point(x,I)}function y(){b.point=C,l.lineStart()}function E(){b.point=w,l.lineEnd()}function A(x,I){d.push([x,I]),h.point(x,I)}function o(){h.lineStart(),d=[]}function M(){A(d[0][0],d[0][1]),h.lineEnd();var x=h.clean(),I=g.result(),D,N=I.length,k,O,F;if(d.pop(),c.push(d),d=null,!!N){if(x&1){if(O=I[0],(k=O.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),D=0;D<k;++D)u.point((F=O[D])[0],F[1]);u.lineEnd()}return}N>1&&x&2&&I.push(I.pop().concat(I.shift())),i.push(I.filter(p))}}return b}}function p(t){return t.length>1}function r(t,a){return((t=t.x)[0]<0?t[1]-s.or-s.Gg:s.or-t[1])-((a=a.x)[0]<0?a[1]-s.or-s.Gg:s.or-a[1])}},21676:function(G,H,e){e.d(H,{c:function(){return r}});var m=e(64528),P=e(97208);function s(t,a,n,f,u,l){var g=t[0],h=t[1],T=a[0],c=a[1],i=0,d=1,b=T-g,w=c-h,C;if(C=n-g,!(!b&&C>0)){if(C/=b,b<0){if(C<i)return;C<d&&(d=C)}else if(b>0){if(C>d)return;C>i&&(i=C)}if(C=u-g,!(!b&&C<0)){if(C/=b,b<0){if(C>d)return;C>i&&(i=C)}else if(b>0){if(C<i)return;C<d&&(d=C)}if(C=f-h,!(!w&&C>0)){if(C/=w,w<0){if(C<i)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>i&&(i=C)}if(C=l-h,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>i&&(i=C)}else if(w>0){if(C<i)return;C<d&&(d=C)}return i>0&&(t[0]=g+i*b,t[1]=h+i*w),d<1&&(a[0]=g+d*b,a[1]=h+d*w),!0}}}}}var L=e(32232),S=e(84706),v=1e9,p=-v;function r(t,a,n,f){function u(c,i){return t<=c&&c<=n&&a<=i&&i<=f}function l(c,i,d,b){var w=0,C=0;if(c==null||(w=g(c,d))!==(C=g(i,d))||T(c,i)<0^d>0)do b.point(w===0||w===3?t:n,w>1?f:a);while((w=(w+d+4)%4)!==C);else b.point(i[0],i[1])}function g(c,i){return(0,m.a2)(c[0]-t)<m.Gg?i>0?0:3:(0,m.a2)(c[0]-n)<m.Gg?i>0?2:1:(0,m.a2)(c[1]-a)<m.Gg?i>0?1:0:i>0?3:2}function h(c,i){return T(c.x,i.x)}function T(c,i){var d=g(c,1),b=g(i,1);return d!==b?d-b:d===0?i[1]-c[1]:d===1?c[0]-i[0]:d===2?c[1]-i[1]:i[0]-c[0]}return function(c){var i=c,d=(0,P.c)(),b,w,C,y,E,A,o,M,x,I,D,N={point:k,lineStart:B,lineEnd:W,polygonStart:F,polygonEnd:z};function k(re,ne){u(re,ne)&&i.point(re,ne)}function O(){for(var re=0,ne=0,le=w.length;ne<le;++ne)for(var $=w[ne],Z=1,ie=$.length,X=$[0],Q,oe,j=X[0],Y=X[1];Z<ie;++Z)Q=j,oe=Y,X=$[Z],j=X[0],Y=X[1],oe<=f?Y>f&&(j-Q)*(f-oe)>(Y-oe)*(t-Q)&&++re:Y<=f&&(j-Q)*(f-oe)<(Y-oe)*(t-Q)&&--re;return re}function F(){i=d,b=[],w=[],D=!0}function z(){var re=O(),ne=D&&re,le=(b=(0,S.Uf)(b)).length;(ne||le)&&(c.polygonStart(),ne&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),le&&(0,L.c)(b,h,re,l,c),c.polygonEnd()),i=c,b=w=C=null}function B(){N.point=J,w&&w.push(C=[]),I=!0,x=!1,o=M=NaN}function W(){b&&(J(y,E),A&&x&&d.rejoin(),b.push(d.result())),N.point=k,x&&i.lineEnd()}function J(re,ne){var le=u(re,ne);if(w&&C.push([re,ne]),I)y=re,E=ne,A=le,I=!1,le&&(i.lineStart(),i.point(re,ne));else if(le&&x)i.point(re,ne);else{var $=[o=Math.max(p,Math.min(v,o)),M=Math.max(p,Math.min(v,M))],Z=[re=Math.max(p,Math.min(v,re)),ne=Math.max(p,Math.min(v,ne))];s($,Z,t,a,n,f)?(x||(i.lineStart(),i.point($[0],$[1])),i.point(Z[0],Z[1]),le||i.lineEnd(),D=!1):le&&(i.lineStart(),i.point(re,ne),D=!1)}o=re,M=ne,x=le}return N}}},32232:function(G,H,e){e.d(H,{c:function(){return L}});var m=e(41860),P=e(64528);function s(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,p,r,t,a){var n=[],f=[],u,l;if(v.forEach(function(d){if(!((b=d.length-1)<=0)){var b,w=d[0],C=d[b],y;if((0,m.c)(w,C)){if(!w[2]&&!C[2]){for(a.lineStart(),u=0;u<b;++u)a.point((w=d[u])[0],w[1]);a.lineEnd();return}C[0]+=2*P.Gg}n.push(y=new s(w,d,null,!0)),f.push(y.o=new s(w,null,y,!1)),n.push(y=new s(C,d,null,!1)),f.push(y.o=new s(C,null,y,!0))}}),!!n.length){for(f.sort(p),S(n),S(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var g=n[0],h,T;;){for(var c=g,i=!0;c.v;)if((c=c.n)===g)return;h=c.z,a.lineStart();do{if(c.v=c.o.v=!0,c.e){if(i)for(u=0,l=h.length;u<l;++u)a.point((T=h[u])[0],T[1]);else t(c.x,c.n.x,1,a);c=c.n}else{if(i)for(h=c.p.z,u=h.length-1;u>=0;--u)a.point((T=h[u])[0],T[1]);else t(c.x,c.p.x,-1,a);c=c.p}c=c.o,h=c.z,i=!i}while(!c.v);a.lineEnd()}}}function S(v){if(p=v.length){for(var p,r=0,t=v[0],a;++r<p;)t.n=a=v[r],a.p=t,t=a;t.n=a=v[0],a.p=t}}},68120:function(G,H,e){e.d(H,{c:function(){return m}});function m(P,s){function L(S,v){return S=P(S,v),s(S[0],S[1])}return P.invert&&s.invert&&(L.invert=function(S,v){return S=s.invert(S,v),S&&P.invert(S[0],S[1])}),L}},7376:function(G,H,e){e.d(H,{c:function(){return m}});function m(P){return P}},83356:function(G,H,e){e.r(H),e.d(H,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return lt},geoArea:function(){return m.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return P.c},geoCentroid:function(){return s.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return S.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return or},geoConicConformalRaw:function(){return qt},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return Kt},geoConicEquidistant:function(){return Ue},geoConicEquidistantRaw:function(){return He},geoContains:function(){return F},geoDistance:function(){return A},geoEqualEarth:function(){return sr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return rr.c},geoEquirectangularRaw:function(){return rr.u},geoGnomonic:function(){return dr.c},geoGnomonicRaw:function(){return dr.Y},geoGraticule:function(){return J},geoGraticule10:function(){return re},geoIdentity:function(){return pr},geoInterpolate:function(){return ne.c},geoLength:function(){return C},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Ht},geoNaturalEarth1:function(){return Hr.c},geoNaturalEarth1Raw:function(){return Hr.g},geoOrthographic:function(){return _r.c},geoOrthographicRaw:function(){return _r.t},geoPath:function(){return Rt},geoProjection:function(){return Xt.c},geoProjectionMutator:function(){return Xt.U},geoRotation:function(){return Dt.c},geoStereographic:function(){return tn},geoStereographicRaw:function(){return an},geoStream:function(){return u.c},geoTransform:function(){return xr.c},geoTransverseMercator:function(){return Tn},geoTransverseMercatorRaw:function(){return Sn}});var m=e(95384),P=e(13696),s=e(24052),L=e(61780),S=e(78284),v=e(2728),p=e(21676);function r(){var Tr=0,zr=0,jr=960,Or=500,ln,fn,Mn;return Mn={stream:function(Pn){return ln&&fn===Pn?ln:ln=(0,p.c)(Tr,zr,jr,Or)(fn=Pn)},extent:function(Pn){return arguments.length?(Tr=+Pn[0][0],zr=+Pn[0][1],jr=+Pn[1][0],Or=+Pn[1][1],ln=fn=null,Mn):[[Tr,zr],[jr,Or]]}}}var t=e(58196),a=e(88728),n=e(64528),f=e(70932),u=e(16016),l=(0,a.c)(),g,h,T,c={sphere:f.c,point:f.c,lineStart:i,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function i(){c.point=b,c.lineEnd=d}function d(){c.point=c.lineEnd=f.c}function b(Tr,zr){Tr*=n.qw,zr*=n.qw,g=Tr,h=(0,n.g$)(zr),T=(0,n.W8)(zr),c.point=w}function w(Tr,zr){Tr*=n.qw,zr*=n.qw;var jr=(0,n.g$)(zr),Or=(0,n.W8)(zr),ln=(0,n.a2)(Tr-g),fn=(0,n.W8)(ln),Mn=(0,n.g$)(ln),Pn=Or*Mn,Hn=T*jr-h*Or*fn,ia=h*jr+T*Or*fn;l.add((0,n.WE)((0,n._I)(Pn*Pn+Hn*Hn),ia)),g=Tr,h=jr,T=Or}function C(Tr){return l.reset(),(0,u.c)(Tr,c),+l}var y=[null,null],E={type:"LineString",coordinates:y};function A(Tr,zr){return y[0]=Tr,y[1]=zr,C(E)}var o={Feature:function(Tr,zr){return x(Tr.geometry,zr)},FeatureCollection:function(Tr,zr){for(var jr=Tr.features,Or=-1,ln=jr.length;++Or<ln;)if(x(jr[Or].geometry,zr))return!0;return!1}},M={Sphere:function(){return!0},Point:function(Tr,zr){return I(Tr.coordinates,zr)},MultiPoint:function(Tr,zr){for(var jr=Tr.coordinates,Or=-1,ln=jr.length;++Or<ln;)if(I(jr[Or],zr))return!0;return!1},LineString:function(Tr,zr){return D(Tr.coordinates,zr)},MultiLineString:function(Tr,zr){for(var jr=Tr.coordinates,Or=-1,ln=jr.length;++Or<ln;)if(D(jr[Or],zr))return!0;return!1},Polygon:function(Tr,zr){return N(Tr.coordinates,zr)},MultiPolygon:function(Tr,zr){for(var jr=Tr.coordinates,Or=-1,ln=jr.length;++Or<ln;)if(N(jr[Or],zr))return!0;return!1},GeometryCollection:function(Tr,zr){for(var jr=Tr.geometries,Or=-1,ln=jr.length;++Or<ln;)if(x(jr[Or],zr))return!0;return!1}};function x(Tr,zr){return Tr&&M.hasOwnProperty(Tr.type)?M[Tr.type](Tr,zr):!1}function I(Tr,zr){return A(Tr,zr)===0}function D(Tr,zr){for(var jr,Or,ln,fn=0,Mn=Tr.length;fn<Mn;fn++){if(Or=A(Tr[fn],zr),Or===0||fn>0&&(ln=A(Tr[fn],Tr[fn-1]),ln>0&&jr<=ln&&Or<=ln&&(jr+Or-ln)*(1-Math.pow((jr-Or)/ln,2))<n.a8*ln))return!0;jr=Or}return!1}function N(Tr,zr){return!!(0,t.c)(Tr.map(k),O(zr))}function k(Tr){return Tr=Tr.map(O),Tr.pop(),Tr}function O(Tr){return[Tr[0]*n.qw,Tr[1]*n.qw]}function F(Tr,zr){return(Tr&&o.hasOwnProperty(Tr.type)?o[Tr.type]:x)(Tr,zr)}var z=e(84706);function B(Tr,zr,jr){var Or=(0,z.ik)(Tr,zr-n.Gg,jr).concat(zr);return function(ln){return Or.map(function(fn){return[ln,fn]})}}function W(Tr,zr,jr){var Or=(0,z.ik)(Tr,zr-n.Gg,jr).concat(zr);return function(ln){return Or.map(function(fn){return[fn,ln]})}}function J(){var Tr,zr,jr,Or,ln,fn,Mn,Pn,Hn=10,ia=Hn,ya=90,wa=360,Wn,Qn,mr,en,Jr=2.5;function vn(){return{type:"MultiLineString",coordinates:On()}}function On(){return(0,z.ik)((0,n.Km)(Or/ya)*ya,jr,ya).map(mr).concat((0,z.ik)((0,n.Km)(Pn/wa)*wa,Mn,wa).map(en)).concat((0,z.ik)((0,n.Km)(zr/Hn)*Hn,Tr,Hn).filter(function(bn){return(0,n.a2)(bn%ya)>n.Gg}).map(Wn)).concat((0,z.ik)((0,n.Km)(fn/ia)*ia,ln,ia).filter(function(bn){return(0,n.a2)(bn%wa)>n.Gg}).map(Qn))}return vn.lines=function(){return On().map(function(bn){return{type:"LineString",coordinates:bn}})},vn.outline=function(){return{type:"Polygon",coordinates:[mr(Or).concat(en(Mn).slice(1),mr(jr).reverse().slice(1),en(Pn).reverse().slice(1))]}},vn.extent=function(bn){return arguments.length?vn.extentMajor(bn).extentMinor(bn):vn.extentMinor()},vn.extentMajor=function(bn){return arguments.length?(Or=+bn[0][0],jr=+bn[1][0],Pn=+bn[0][1],Mn=+bn[1][1],Or>jr&&(bn=Or,Or=jr,jr=bn),Pn>Mn&&(bn=Pn,Pn=Mn,Mn=bn),vn.precision(Jr)):[[Or,Pn],[jr,Mn]]},vn.extentMinor=function(bn){return arguments.length?(zr=+bn[0][0],Tr=+bn[1][0],fn=+bn[0][1],ln=+bn[1][1],zr>Tr&&(bn=zr,zr=Tr,Tr=bn),fn>ln&&(bn=fn,fn=ln,ln=bn),vn.precision(Jr)):[[zr,fn],[Tr,ln]]},vn.step=function(bn){return arguments.length?vn.stepMajor(bn).stepMinor(bn):vn.stepMinor()},vn.stepMajor=function(bn){return arguments.length?(ya=+bn[0],wa=+bn[1],vn):[ya,wa]},vn.stepMinor=function(bn){return arguments.length?(Hn=+bn[0],ia=+bn[1],vn):[Hn,ia]},vn.precision=function(bn){return arguments.length?(Jr=+bn,Wn=B(fn,ln,90),Qn=W(zr,Tr,Jr),mr=B(Pn,Mn,90),en=W(Or,jr,Jr),vn):Jr},vn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function re(){return J()()}var ne=e(27284),le=e(7376),$=(0,a.c)(),Z=(0,a.c)(),ie,X,Q,oe,j={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){j.lineStart=Y,j.lineEnd=fe},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=f.c,$.add((0,n.a2)(Z)),Z.reset()},result:function(){var Tr=$/2;return $.reset(),Tr}};function Y(){j.point=se}function se(Tr,zr){j.point=te,ie=Q=Tr,X=oe=zr}function te(Tr,zr){Z.add(oe*Tr-Q*zr),Q=Tr,oe=zr}function fe(){te(ie,X)}var ge=j,be=e(73784),xe=0,_e=0,De=0,Fe=0,Te=0,Re=0,Se=0,ke=0,Me=0,Ve,tt,it,Je,Qe={point:ct,lineStart:ht,lineEnd:Et,polygonStart:function(){Qe.lineStart=rt,Qe.lineEnd=ze},polygonEnd:function(){Qe.point=ct,Qe.lineStart=ht,Qe.lineEnd=Et},result:function(){var Tr=Me?[Se/Me,ke/Me]:Re?[Fe/Re,Te/Re]:De?[xe/De,_e/De]:[NaN,NaN];return xe=_e=De=Fe=Te=Re=Se=ke=Me=0,Tr}};function ct(Tr,zr){xe+=Tr,_e+=zr,++De}function ht(){Qe.point=dt}function dt(Tr,zr){Qe.point=Tt,ct(it=Tr,Je=zr)}function Tt(Tr,zr){var jr=Tr-it,Or=zr-Je,ln=(0,n._I)(jr*jr+Or*Or);Fe+=ln*(it+Tr)/2,Te+=ln*(Je+zr)/2,Re+=ln,ct(it=Tr,Je=zr)}function Et(){Qe.point=ct}function rt(){Qe.point=Ge}function ze(){je(Ve,tt)}function Ge(Tr,zr){Qe.point=je,ct(Ve=it=Tr,tt=Je=zr)}function je(Tr,zr){var jr=Tr-it,Or=zr-Je,ln=(0,n._I)(jr*jr+Or*Or);Fe+=ln*(it+Tr)/2,Te+=ln*(Je+zr)/2,Re+=ln,ln=Je*Tr-it*zr,Se+=ln*(it+Tr),ke+=ln*(Je+zr),Me+=ln*3,ct(it=Tr,Je=zr)}var We=Qe;function Le(Tr){this._context=Tr}Le.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Tr,zr){switch(this._point){case 0:{this._context.moveTo(Tr,zr),this._point=1;break}case 1:{this._context.lineTo(Tr,zr);break}default:{this._context.moveTo(Tr+this._radius,zr),this._context.arc(Tr,zr,this._radius,0,n.kD);break}}},result:f.c};var Pe=(0,a.c)(),Ye,Ce,he,me,Ne,$e={point:f.c,lineStart:function(){$e.point=ot},lineEnd:function(){Ye&&st(Ce,he),$e.point=f.c},polygonStart:function(){Ye=!0},polygonEnd:function(){Ye=null},result:function(){var Tr=+Pe;return Pe.reset(),Tr}};function ot(Tr,zr){$e.point=st,Ce=me=Tr,he=Ne=zr}function st(Tr,zr){me-=Tr,Ne-=zr,Pe.add((0,n._I)(me*me+Ne*Ne)),me=Tr,Ne=zr}var Wt=$e;function Zt(){this._string=[]}Zt.prototype={_radius:4.5,_circle:At(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Tr,zr){switch(this._point){case 0:{this._string.push("M",Tr,",",zr),this._point=1;break}case 1:{this._string.push("L",Tr,",",zr);break}default:{this._circle==null&&(this._circle=At(this._radius)),this._string.push("M",Tr,",",zr,this._circle);break}}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}else return null}};function At(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function Rt(Tr,zr){var jr=4.5,Or,ln;function fn(Mn){return Mn&&(typeof jr=="function"&&ln.pointRadius(+jr.apply(this,arguments)),(0,u.c)(Mn,Or(ln))),ln.result()}return fn.area=function(Mn){return(0,u.c)(Mn,Or(ge)),ge.result()},fn.measure=function(Mn){return(0,u.c)(Mn,Or(Wt)),Wt.result()},fn.bounds=function(Mn){return(0,u.c)(Mn,Or(be.c)),be.c.result()},fn.centroid=function(Mn){return(0,u.c)(Mn,Or(We)),We.result()},fn.projection=function(Mn){return arguments.length?(Or=Mn==null?(Tr=null,le.c):(Tr=Mn).stream,fn):Tr},fn.context=function(Mn){return arguments.length?(ln=Mn==null?(zr=null,new Zt):new Le(zr=Mn),typeof jr!="function"&&ln.pointRadius(jr),fn):zr},fn.pointRadius=function(Mn){return arguments.length?(jr=typeof Mn=="function"?Mn:(ln.pointRadius(+Mn),+Mn),fn):jr},fn.projection(Tr).context(zr)}var Xt=e(87952);function ir(Tr){var zr=0,jr=n.pi/3,Or=(0,Xt.U)(Tr),ln=Or(zr,jr);return ln.parallels=function(fn){return arguments.length?Or(zr=fn[0]*n.qw,jr=fn[1]*n.qw):[zr*n.oh,jr*n.oh]},ln}function pt(Tr){var zr=(0,n.W8)(Tr);function jr(Or,ln){return[Or*zr,(0,n.g$)(ln)/zr]}return jr.invert=function(Or,ln){return[Or/zr,(0,n.qR)(ln*zr)]},jr}function Kt(Tr,zr){var jr=(0,n.g$)(Tr),Or=(jr+(0,n.g$)(zr))/2;if((0,n.a2)(Or)<n.Gg)return pt(Tr);var ln=1+jr*(2*Or-jr),fn=(0,n._I)(ln)/Or;function Mn(Pn,Hn){var ia=(0,n._I)(ln-2*Or*(0,n.g$)(Hn))/Or;return[ia*(0,n.g$)(Pn*=Or),fn-ia*(0,n.W8)(Pn)]}return Mn.invert=function(Pn,Hn){var ia=fn-Hn,ya=(0,n.WE)(Pn,(0,n.a2)(ia))*(0,n.kq)(ia);return ia*Or<0&&(ya-=n.pi*(0,n.kq)(Pn)*(0,n.kq)(ia)),[ya/Or,(0,n.qR)((ln-(Pn*Pn+ia*ia)*Or*Or)/(2*Or))]},Mn}function Qt(){return ir(Kt).scale(155.424).center([0,33.6442])}function yr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ur=e(86420);function mt(Tr){var zr=Tr.length;return{point:function(jr,Or){for(var ln=-1;++ln<zr;)Tr[ln].point(jr,Or)},sphere:function(){for(var jr=-1;++jr<zr;)Tr[jr].sphere()},lineStart:function(){for(var jr=-1;++jr<zr;)Tr[jr].lineStart()},lineEnd:function(){for(var jr=-1;++jr<zr;)Tr[jr].lineEnd()},polygonStart:function(){for(var jr=-1;++jr<zr;)Tr[jr].polygonStart()},polygonEnd:function(){for(var jr=-1;++jr<zr;)Tr[jr].polygonEnd()}}}function lt(){var Tr,zr,jr=yr(),Or,ln=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),fn,Mn=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,Hn,ia={point:function(Wn,Qn){Hn=[Wn,Qn]}};function ya(Wn){var Qn=Wn[0],mr=Wn[1];return Hn=null,Or.point(Qn,mr),Hn||(fn.point(Qn,mr),Hn)||(Pn.point(Qn,mr),Hn)}ya.invert=function(Wn){var Qn=jr.scale(),mr=jr.translate(),en=(Wn[0]-mr[0])/Qn,Jr=(Wn[1]-mr[1])/Qn;return(Jr>=.12&&Jr<.234&&en>=-.425&&en<-.214?ln:Jr>=.166&&Jr<.234&&en>=-.214&&en<-.115?Mn:jr).invert(Wn)},ya.stream=function(Wn){return Tr&&zr===Wn?Tr:Tr=mt([jr.stream(zr=Wn),ln.stream(Wn),Mn.stream(Wn)])},ya.precision=function(Wn){return arguments.length?(jr.precision(Wn),ln.precision(Wn),Mn.precision(Wn),wa()):jr.precision()},ya.scale=function(Wn){return arguments.length?(jr.scale(Wn),ln.scale(Wn*.35),Mn.scale(Wn),ya.translate(jr.translate())):jr.scale()},ya.translate=function(Wn){if(!arguments.length)return jr.translate();var Qn=jr.scale(),mr=+Wn[0],en=+Wn[1];return Or=jr.translate(Wn).clipExtent([[mr-.455*Qn,en-.238*Qn],[mr+.455*Qn,en+.238*Qn]]).stream(ia),fn=ln.translate([mr-.307*Qn,en+.201*Qn]).clipExtent([[mr-.425*Qn+n.Gg,en+.12*Qn+n.Gg],[mr-.214*Qn-n.Gg,en+.234*Qn-n.Gg]]).stream(ia),Pn=Mn.translate([mr-.205*Qn,en+.212*Qn]).clipExtent([[mr-.214*Qn+n.Gg,en+.166*Qn+n.Gg],[mr-.115*Qn-n.Gg,en+.234*Qn-n.Gg]]).stream(ia),wa()},ya.fitExtent=function(Wn,Qn){return(0,ur.QX)(ya,Wn,Qn)},ya.fitSize=function(Wn,Qn){return(0,ur.UV)(ya,Wn,Qn)},ya.fitWidth=function(Wn,Qn){return(0,ur.Qx)(ya,Wn,Qn)},ya.fitHeight=function(Wn,Qn){return(0,ur.OW)(ya,Wn,Qn)};function wa(){return Tr=zr=null,ya}return ya.scale(1070)}var bt=e(54724),Ct=e(69020),Dt=e(92992);function Ht(Tr,zr){return[Tr,(0,n.Yz)((0,n.a6)((n.or+zr)/2))]}Ht.invert=function(Tr,zr){return[Tr,2*(0,n.MQ)((0,n.oN)(zr))-n.or]};function Bt(){return xt(Ht).scale(961/n.kD)}function xt(Tr){var zr=(0,Xt.c)(Tr),jr=zr.center,Or=zr.scale,ln=zr.translate,fn=zr.clipExtent,Mn=null,Pn,Hn,ia;zr.scale=function(wa){return arguments.length?(Or(wa),ya()):Or()},zr.translate=function(wa){return arguments.length?(ln(wa),ya()):ln()},zr.center=function(wa){return arguments.length?(jr(wa),ya()):jr()},zr.clipExtent=function(wa){return arguments.length?(wa==null?Mn=Pn=Hn=ia=null:(Mn=+wa[0][0],Pn=+wa[0][1],Hn=+wa[1][0],ia=+wa[1][1]),ya()):Mn==null?null:[[Mn,Pn],[Hn,ia]]};function ya(){var wa=n.pi*Or(),Wn=zr((0,Dt.c)(zr.rotate()).invert([0,0]));return fn(Mn==null?[[Wn[0]-wa,Wn[1]-wa],[Wn[0]+wa,Wn[1]+wa]]:Tr===Ht?[[Math.max(Wn[0]-wa,Mn),Pn],[Math.min(Wn[0]+wa,Hn),ia]]:[[Mn,Math.max(Wn[1]-wa,Pn)],[Hn,Math.min(Wn[1]+wa,ia)]])}return ya()}function Ut(Tr){return(0,n.a6)((n.or+Tr)/2)}function qt(Tr,zr){var jr=(0,n.W8)(Tr),Or=Tr===zr?(0,n.g$)(Tr):(0,n.Yz)(jr/(0,n.W8)(zr))/(0,n.Yz)(Ut(zr)/Ut(Tr)),ln=jr*(0,n.g3)(Ut(Tr),Or)/Or;if(!Or)return Ht;function fn(Mn,Pn){ln>0?Pn<-n.or+n.Gg&&(Pn=-n.or+n.Gg):Pn>n.or-n.Gg&&(Pn=n.or-n.Gg);var Hn=ln/(0,n.g3)(Ut(Pn),Or);return[Hn*(0,n.g$)(Or*Mn),ln-Hn*(0,n.W8)(Or*Mn)]}return fn.invert=function(Mn,Pn){var Hn=ln-Pn,ia=(0,n.kq)(Or)*(0,n._I)(Mn*Mn+Hn*Hn),ya=(0,n.WE)(Mn,(0,n.a2)(Hn))*(0,n.kq)(Hn);return Hn*Or<0&&(ya-=n.pi*(0,n.kq)(Mn)*(0,n.kq)(Hn)),[ya/Or,2*(0,n.MQ)((0,n.g3)(ln/ia,1/Or))-n.or]},fn}function or(){return ir(qt).scale(109.5).parallels([30,30])}var rr=e(69604);function He(Tr,zr){var jr=(0,n.W8)(Tr),Or=Tr===zr?(0,n.g$)(Tr):(jr-(0,n.W8)(zr))/(zr-Tr),ln=jr/Or+Tr;if((0,n.a2)(Or)<n.Gg)return rr.u;function fn(Mn,Pn){var Hn=ln-Pn,ia=Or*Mn;return[Hn*(0,n.g$)(ia),ln-Hn*(0,n.W8)(ia)]}return fn.invert=function(Mn,Pn){var Hn=ln-Pn,ia=(0,n.WE)(Mn,(0,n.a2)(Hn))*(0,n.kq)(Hn);return Hn*Or<0&&(ia-=n.pi*(0,n.kq)(Mn)*(0,n.kq)(Hn)),[ia/Or,ln-(0,n.kq)(Or)*(0,n._I)(Mn*Mn+Hn*Hn)]},fn}function Ue(){return ir(He).scale(131.154).center([0,13.9389])}var Ot=1.340264,It=-.081106,Jt=893e-6,cr=.003796,vr=(0,n._I)(3)/2,tr=12;function Nt(Tr,zr){var jr=(0,n.qR)(vr*(0,n.g$)(zr)),Or=jr*jr,ln=Or*Or*Or;return[Tr*(0,n.W8)(jr)/(vr*(Ot+3*It*Or+ln*(7*Jt+9*cr*Or))),jr*(Ot+It*Or+ln*(Jt+cr*Or))]}Nt.invert=function(Tr,zr){for(var jr=zr,Or=jr*jr,ln=Or*Or*Or,fn=0,Mn,Pn,Hn;fn<tr&&(Pn=jr*(Ot+It*Or+ln*(Jt+cr*Or))-zr,Hn=Ot+3*It*Or+ln*(7*Jt+9*cr*Or),jr-=Mn=Pn/Hn,Or=jr*jr,ln=Or*Or*Or,!((0,n.a2)(Mn)<n.a8));++fn);return[vr*Tr*(Ot+3*It*Or+ln*(7*Jt+9*cr*Or))/(0,n.W8)(jr),(0,n.qR)((0,n.g$)(jr)/vr)]};function sr(){return(0,Xt.c)(Nt).scale(177.158)}var dr=e(53285),xr=e(15196);function pr(){var Tr=1,zr=0,jr=0,Or=1,ln=1,fn=0,Mn,Pn,Hn=null,ia,ya,wa,Wn=1,Qn=1,mr=(0,xr.s)({point:function(An,Nn){var $n=bn([An,Nn]);this.stream.point($n[0],$n[1])}}),en=le.c,Jr,vn;function On(){return Wn=Tr*Or,Qn=Tr*ln,Jr=vn=null,bn}function bn(An){var Nn=An[0]*Wn,$n=An[1]*Qn;if(fn){var ha=$n*Mn-Nn*Pn;Nn=Nn*Mn+$n*Pn,$n=ha}return[Nn+zr,$n+jr]}return bn.invert=function(An){var Nn=An[0]-zr,$n=An[1]-jr;if(fn){var ha=$n*Mn+Nn*Pn;Nn=Nn*Mn-$n*Pn,$n=ha}return[Nn/Wn,$n/Qn]},bn.stream=function(An){return Jr&&vn===An?Jr:Jr=mr(en(vn=An))},bn.postclip=function(An){return arguments.length?(en=An,Hn=ia=ya=wa=null,On()):en},bn.clipExtent=function(An){return arguments.length?(en=An==null?(Hn=ia=ya=wa=null,le.c):(0,p.c)(Hn=+An[0][0],ia=+An[0][1],ya=+An[1][0],wa=+An[1][1]),On()):Hn==null?null:[[Hn,ia],[ya,wa]]},bn.scale=function(An){return arguments.length?(Tr=+An,On()):Tr},bn.translate=function(An){return arguments.length?(zr=+An[0],jr=+An[1],On()):[zr,jr]},bn.angle=function(An){return arguments.length?(fn=An%360*n.qw,Pn=(0,n.g$)(fn),Mn=(0,n.W8)(fn),On()):fn*n.oh},bn.reflectX=function(An){return arguments.length?(Or=An?-1:1,On()):Or<0},bn.reflectY=function(An){return arguments.length?(ln=An?-1:1,On()):ln<0},bn.fitExtent=function(An,Nn){return(0,ur.QX)(bn,An,Nn)},bn.fitSize=function(An,Nn){return(0,ur.UV)(bn,An,Nn)},bn.fitWidth=function(An,Nn){return(0,ur.Qx)(bn,An,Nn)},bn.fitHeight=function(An,Nn){return(0,ur.OW)(bn,An,Nn)},bn}var Hr=e(47984),_r=e(4888),Dr=e(62280);function an(Tr,zr){var jr=(0,n.W8)(zr),Or=1+(0,n.W8)(Tr)*jr;return[jr*(0,n.g$)(Tr)/Or,(0,n.g$)(zr)/Or]}an.invert=(0,Dr.g)(function(Tr){return 2*(0,n.MQ)(Tr)});function tn(){return(0,Xt.c)(an).scale(250).clipAngle(142)}function Sn(Tr,zr){return[(0,n.Yz)((0,n.a6)((n.or+zr)/2)),-Tr]}Sn.invert=function(Tr,zr){return[-zr,2*(0,n.MQ)((0,n.oN)(Tr))-n.or]};function Tn(){var Tr=xt(Sn),zr=Tr.center,jr=Tr.rotate;return Tr.center=function(Or){return arguments.length?zr([-Or[1],Or[0]]):(Or=zr(),[Or[1],-Or[0]])},Tr.rotate=function(Or){return arguments.length?jr([Or[0],Or[1],Or.length>2?Or[2]+90:90]):(Or=jr(),[Or[0],Or[1],Or[2]-90])},jr([0,0,90]).scale(159.155)}},27284:function(G,H,e){e.d(H,{c:function(){return P}});var m=e(64528);function P(s,L){var S=s[0]*m.qw,v=s[1]*m.qw,p=L[0]*m.qw,r=L[1]*m.qw,t=(0,m.W8)(v),a=(0,m.g$)(v),n=(0,m.W8)(r),f=(0,m.g$)(r),u=t*(0,m.W8)(S),l=t*(0,m.g$)(S),g=n*(0,m.W8)(p),h=n*(0,m.g$)(p),T=2*(0,m.qR)((0,m._I)((0,m.SD)(r-v)+t*n*(0,m.SD)(p-S))),c=(0,m.g$)(T),i=T?function(d){var b=(0,m.g$)(d*=T)/c,w=(0,m.g$)(T-d)/c,C=w*u+b*g,y=w*l+b*h,E=w*a+b*f;return[(0,m.WE)(y,C)*m.oh,(0,m.WE)(E,(0,m._I)(C*C+y*y))*m.oh]}:function(){return[S*m.oh,v*m.oh]};return i.distance=T,i}},64528:function(G,H,e){e.d(H,{Gg:function(){return m},Km:function(){return u},MQ:function(){return a},SD:function(){return C},W8:function(){return f},WE:function(){return n},Yz:function(){return g},_I:function(){return i},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return T},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return b},oN:function(){return l},oh:function(){return p},or:function(){return L},pi:function(){return s},qR:function(){return w},qw:function(){return r},wL:function(){return S}});var m=1e-6,P=1e-12,s=Math.PI,L=s/2,S=s/4,v=s*2,p=180/s,r=s/180,t=Math.abs,a=Math.atan,n=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,g=Math.log,h=Math.pow,T=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},i=Math.sqrt,d=Math.tan;function b(y){return y>1?0:y<-1?s:Math.acos(y)}function w(y){return y>1?L:y<-1?-L:Math.asin(y)}function C(y){return(y=T(y/2))*y}},70932:function(G,H,e){e.d(H,{c:function(){return m}});function m(){}},73784:function(G,H,e){var m=e(70932),P=1/0,s=P,L=-P,S=L,v={point:p,lineStart:m.c,lineEnd:m.c,polygonStart:m.c,polygonEnd:m.c,result:function(){var r=[[P,s],[L,S]];return L=S=-(s=P=1/0),r}};function p(r,t){r<P&&(P=r),r>L&&(L=r),t<s&&(s=t),t>S&&(S=t)}H.c=v},41860:function(G,H,e){e.d(H,{c:function(){return P}});var m=e(64528);function P(s,L){return(0,m.a2)(s[0]-L[0])<m.Gg&&(0,m.a2)(s[1]-L[1])<m.Gg}},58196:function(G,H,e){e.d(H,{c:function(){return v}});var m=e(88728),P=e(84220),s=e(64528),L=(0,m.c)();function S(p){return(0,s.a2)(p[0])<=s.pi?p[0]:(0,s.kq)(p[0])*(((0,s.a2)(p[0])+s.pi)%s.kD-s.pi)}function v(p,r){var t=S(r),a=r[1],n=(0,s.g$)(a),f=[(0,s.g$)(t),-(0,s.W8)(t),0],u=0,l=0;L.reset(),n===1?a=s.or+s.Gg:n===-1&&(a=-s.or-s.Gg);for(var g=0,h=p.length;g<h;++g)if(c=(T=p[g]).length)for(var T,c,i=T[c-1],d=S(i),b=i[1]/2+s.wL,w=(0,s.g$)(b),C=(0,s.W8)(b),y=0;y<c;++y,d=A,w=M,C=x,i=E){var E=T[y],A=S(E),o=E[1]/2+s.wL,M=(0,s.g$)(o),x=(0,s.W8)(o),I=A-d,D=I>=0?1:-1,N=D*I,k=N>s.pi,O=w*M;if(L.add((0,s.WE)(O*D*(0,s.g$)(N),C*x+O*(0,s.W8)(N))),u+=k?I+D*s.kD:I,k^d>=t^A>=t){var F=(0,P.CW)((0,P.ux)(i),(0,P.ux)(E));(0,P.cJ)(F);var z=(0,P.CW)(f,F);(0,P.cJ)(z);var B=(k^I>=0?-1:1)*(0,s.qR)(z[2]);(a>B||a===B&&(F[0]||F[1]))&&(l+=k^I>=0?1:-1)}}return(u<-s.Gg||u<s.Gg&&L<-s.Gg)^l&1}},62280:function(G,H,e){e.d(H,{a:function(){return P},g:function(){return s}});var m=e(64528);function P(L){return function(S,v){var p=(0,m.W8)(S),r=(0,m.W8)(v),t=L(p*r);return[t*r*(0,m.g$)(S),t*(0,m.g$)(v)]}}function s(L){return function(S,v){var p=(0,m._I)(S*S+v*v),r=L(p),t=(0,m.g$)(r),a=(0,m.W8)(r);return[(0,m.WE)(S*t,p*a),(0,m.qR)(p&&v*t/p)]}}},54724:function(G,H,e){e.d(H,{c:function(){return S},y:function(){return L}});var m=e(64528),P=e(62280),s=e(87952),L=(0,P.a)(function(v){return(0,m._I)(2/(1+v))});L.invert=(0,P.g)(function(v){return 2*(0,m.qR)(v/2)});function S(){return(0,s.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(G,H,e){e.d(H,{O:function(){return L},c:function(){return S}});var m=e(64528),P=e(62280),s=e(87952),L=(0,P.a)(function(v){return(v=(0,m.mE)(v))&&v/(0,m.g$)(v)});L.invert=(0,P.g)(function(v){return v});function S(){return(0,s.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(G,H,e){e.d(H,{c:function(){return s},u:function(){return P}});var m=e(87952);function P(L,S){return[L,S]}P.invert=P;function s(){return(0,m.c)(P).scale(152.63)}},86420:function(G,H,e){e.d(H,{OW:function(){return p},QX:function(){return L},Qx:function(){return v},UV:function(){return S}});var m=e(16016),P=e(73784);function s(r,t,a){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,m.c)(a,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function L(r,t,a){return s(r,function(n){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),g=+t[0][0]+(f-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([g,h])},a)}function S(r,t,a){return L(r,[[0,0],t],a)}function v(r,t,a){return s(r,function(n){var f=+t,u=f/(n[1][0]-n[0][0]),l=(f-u*(n[1][0]+n[0][0]))/2,g=-u*n[0][1];r.scale(150*u).translate([l,g])},a)}function p(r,t,a){return s(r,function(n){var f=+t,u=f/(n[1][1]-n[0][1]),l=-u*n[0][0],g=(f-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,g])},a)}},53285:function(G,H,e){e.d(H,{Y:function(){return L},c:function(){return S}});var m=e(64528),P=e(62280),s=e(87952);function L(v,p){var r=(0,m.W8)(p),t=(0,m.W8)(v)*r;return[r*(0,m.g$)(v)/t,(0,m.g$)(p)/t]}L.invert=(0,P.g)(m.MQ);function S(){return(0,s.c)(L).scale(144.049).clipAngle(60)}},87952:function(G,H,e){e.d(H,{c:function(){return d},U:function(){return b}});var m=e(78284),P=e(2728),s=e(21676),L=e(68120),S=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),a=e(84220),n=16,f=(0,v.W8)(30*v.qw);function u(w,C){return+C?g(w,C):l(w)}function l(w){return(0,r.s)({point:function(C,y){C=w(C,y),this.stream.point(C[0],C[1])}})}function g(w,C){function y(E,A,o,M,x,I,D,N,k,O,F,z,B,W){var J=D-E,re=N-A,ne=J*J+re*re;if(ne>4*C&&B--){var le=M+O,$=x+F,Z=I+z,ie=(0,v._I)(le*le+$*$+Z*Z),X=(0,v.qR)(Z/=ie),Q=(0,v.a2)((0,v.a2)(Z)-1)<v.Gg||(0,v.a2)(o-k)<v.Gg?(o+k)/2:(0,v.WE)($,le),oe=w(Q,X),j=oe[0],Y=oe[1],se=j-E,te=Y-A,fe=re*se-J*te;(fe*fe/ne>C||(0,v.a2)((J*se+re*te)/ne-.5)>.3||M*O+x*F+I*z<f)&&(y(E,A,o,M,x,I,j,Y,Q,le/=ie,$/=ie,Z,B,W),W.point(j,Y),y(j,Y,Q,le,$,Z,D,N,k,O,F,z,B,W))}}return function(E){var A,o,M,x,I,D,N,k,O,F,z,B,W={point:J,lineStart:re,lineEnd:le,polygonStart:function(){E.polygonStart(),W.lineStart=$},polygonEnd:function(){E.polygonEnd(),W.lineStart=re}};function J(X,Q){X=w(X,Q),E.point(X[0],X[1])}function re(){k=NaN,W.point=ne,E.lineStart()}function ne(X,Q){var oe=(0,a.ux)([X,Q]),j=w(X,Q);y(k,O,N,F,z,B,k=j[0],O=j[1],N=X,F=oe[0],z=oe[1],B=oe[2],n,E),E.point(k,O)}function le(){W.point=J,E.lineEnd()}function $(){re(),W.point=Z,W.lineEnd=ie}function Z(X,Q){ne(A=X,Q),o=k,M=O,x=F,I=z,D=B,W.point=ne}function ie(){y(k,O,N,F,z,B,o,M,A,x,I,D,n,E),W.lineEnd=le,le()}return W}}var h=(0,r.s)({point:function(w,C){this.stream.point(w*v.qw,C*v.qw)}});function T(w){return(0,r.s)({point:function(C,y){var E=w(C,y);return this.stream.point(E[0],E[1])}})}function c(w,C,y,E,A){function o(M,x){return M*=E,x*=A,[C+w*M,y-w*x]}return o.invert=function(M,x){return[(M-C)/w*E,(y-x)/w*A]},o}function i(w,C,y,E,A,o){var M=(0,v.W8)(o),x=(0,v.g$)(o),I=M*w,D=x*w,N=M/w,k=x/w,O=(x*y-M*C)/w,F=(x*C+M*y)/w;function z(B,W){return B*=E,W*=A,[I*B-D*W+C,y-D*B-I*W]}return z.invert=function(B,W){return[E*(N*B-k*W+O),A*(F-k*B-N*W)]},z}function d(w){return b(function(){return w})()}function b(w){var C,y=150,E=480,A=250,o=0,M=0,x=0,I=0,D=0,N,k=0,O=1,F=1,z=null,B=m.c,W=null,J,re,ne,le=S.c,$=.5,Z,ie,X,Q,oe;function j(fe){return X(fe[0]*v.qw,fe[1]*v.qw)}function Y(fe){return fe=X.invert(fe[0],fe[1]),fe&&[fe[0]*v.oh,fe[1]*v.oh]}j.stream=function(fe){return Q&&oe===fe?Q:Q=h(T(N)(B(Z(le(oe=fe)))))},j.preclip=function(fe){return arguments.length?(B=fe,z=void 0,te()):B},j.postclip=function(fe){return arguments.length?(le=fe,W=J=re=ne=null,te()):le},j.clipAngle=function(fe){return arguments.length?(B=+fe?(0,P.c)(z=fe*v.qw):(z=null,m.c),te()):z*v.oh},j.clipExtent=function(fe){return arguments.length?(le=fe==null?(W=J=re=ne=null,S.c):(0,s.c)(W=+fe[0][0],J=+fe[0][1],re=+fe[1][0],ne=+fe[1][1]),te()):W==null?null:[[W,J],[re,ne]]},j.scale=function(fe){return arguments.length?(y=+fe,se()):y},j.translate=function(fe){return arguments.length?(E=+fe[0],A=+fe[1],se()):[E,A]},j.center=function(fe){return arguments.length?(o=fe[0]%360*v.qw,M=fe[1]%360*v.qw,se()):[o*v.oh,M*v.oh]},j.rotate=function(fe){return arguments.length?(x=fe[0]%360*v.qw,I=fe[1]%360*v.qw,D=fe.length>2?fe[2]%360*v.qw:0,se()):[x*v.oh,I*v.oh,D*v.oh]},j.angle=function(fe){return arguments.length?(k=fe%360*v.qw,se()):k*v.oh},j.reflectX=function(fe){return arguments.length?(O=fe?-1:1,se()):O<0},j.reflectY=function(fe){return arguments.length?(F=fe?-1:1,se()):F<0},j.precision=function(fe){return arguments.length?(Z=u(ie,$=fe*fe),te()):(0,v._I)($)},j.fitExtent=function(fe,ge){return(0,t.QX)(j,fe,ge)},j.fitSize=function(fe,ge){return(0,t.UV)(j,fe,ge)},j.fitWidth=function(fe,ge){return(0,t.Qx)(j,fe,ge)},j.fitHeight=function(fe,ge){return(0,t.OW)(j,fe,ge)};function se(){var fe=i(y,0,0,O,F,k).apply(null,C(o,M)),ge=(k?i:c)(y,E-fe[0],A-fe[1],O,F,k);return N=(0,p.O)(x,I,D),ie=(0,L.c)(C,ge),X=(0,L.c)(N,ie),Z=u(ie,$),te()}function te(){return Q=oe=null,j}return function(){return C=w.apply(this,arguments),j.invert=C.invert&&Y,se()}}},47984:function(G,H,e){e.d(H,{c:function(){return L},g:function(){return s}});var m=e(87952),P=e(64528);function s(S,v){var p=v*v,r=p*p;return[S*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}s.invert=function(S,v){var p=v,r=25,t;do{var a=p*p,n=a*a;p-=t=(p*(1.007226+a*(.015085+n*(-.044475+.028874*a-.005916*n)))-v)/(1.007226+a*(.045255+n*(-.311325+.259866*a-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[S/(.8707+(a=p*p)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),p]};function L(){return(0,m.c)(s).scale(175.295)}},4888:function(G,H,e){e.d(H,{c:function(){return S},t:function(){return L}});var m=e(64528),P=e(62280),s=e(87952);function L(v,p){return[(0,m.W8)(p)*(0,m.g$)(v),(0,m.g$)(p)]}L.invert=(0,P.g)(m.qR);function S(){return(0,s.c)(L).scale(249.5).clipAngle(90+m.Gg)}},92992:function(G,H,e){e.d(H,{O:function(){return L},c:function(){return r}});var m=e(68120),P=e(64528);function s(t,a){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,a]}s.invert=s;function L(t,a,n){return(t%=P.kD)?a||n?(0,m.c)(v(t),p(a,n)):v(t):a||n?p(a,n):s}function S(t){return function(a,n){return a+=t,[a>P.pi?a-P.kD:a<-P.pi?a+P.kD:a,n]}}function v(t){var a=S(t);return a.invert=S(-t),a}function p(t,a){var n=(0,P.W8)(t),f=(0,P.g$)(t),u=(0,P.W8)(a),l=(0,P.g$)(a);function g(h,T){var c=(0,P.W8)(T),i=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,b=(0,P.g$)(T),w=b*n+i*f;return[(0,P.WE)(d*u-w*l,i*n-b*f),(0,P.qR)(w*u+d*l)]}return g.invert=function(h,T){var c=(0,P.W8)(T),i=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,b=(0,P.g$)(T),w=b*u-d*l;return[(0,P.WE)(d*u+b*l,i*n+w*f),(0,P.qR)(w*n-i*f)]},g}function r(t){t=L(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function a(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return a.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},a}},16016:function(G,H,e){e.d(H,{c:function(){return v}});function m(p,r){p&&s.hasOwnProperty(p.type)&&s[p.type](p,r)}var P={Feature:function(p,r){m(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,a=-1,n=t.length;++a<n;)m(t[a].geometry,r)}},s={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)p=t[a],r.point(p[0],p[1],p[2])},LineString:function(p,r){L(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)L(t[a],r,0)},Polygon:function(p,r){S(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)S(t[a],r)},GeometryCollection:function(p,r){for(var t=p.geometries,a=-1,n=t.length;++a<n;)m(t[a],r)}};function L(p,r,t){var a=-1,n=p.length-t,f;for(r.lineStart();++a<n;)f=p[a],r.point(f[0],f[1],f[2]);r.lineEnd()}function S(p,r){var t=-1,a=p.length;for(r.polygonStart();++t<a;)L(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):m(p,r)}},15196:function(G,H,e){e.d(H,{c:function(){return m},s:function(){return P}});function m(L){return{stream:P(L)}}function P(L){return function(S){var v=new s;for(var p in L)v[p]=L[p];return v.stream=S,v}}function s(){}s.prototype={constructor:s,point:function(L,S){this.stream.point(L,S)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(G,H,e){e.r(H),e.d(H,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return Y},packEnclose:function(){return I},packSiblings:function(){return Z},partition:function(){return xe},stratify:function(){return Se},tree:function(){return ht},treemap:function(){return ze},treemapBinary:function(){return Ge},treemapDice:function(){return be},treemapResquarify:function(){return We},treemapSlice:function(){return dt},treemapSliceDice:function(){return je},treemapSquarify:function(){return rt}});function m(Le,Pe){return Le.parent===Pe.parent?1:2}function P(Le){return Le.reduce(s,0)/Le.length}function s(Le,Pe){return Le+Pe.x}function L(Le){return 1+Le.reduce(S,0)}function S(Le,Pe){return Math.max(Le,Pe.y)}function v(Le){for(var Pe;Pe=Le.children;)Le=Pe[0];return Le}function p(Le){for(var Pe;Pe=Le.children;)Le=Pe[Pe.length-1];return Le}function r(){var Le=m,Pe=1,Ye=1,Ce=!1;function he(me){var Ne,$e=0;me.eachAfter(function(At){var Rt=At.children;Rt?(At.x=P(Rt),At.y=L(Rt)):(At.x=Ne?$e+=Le(At,Ne):0,At.y=0,Ne=At)});var ot=v(me),st=p(me),Wt=ot.x-Le(ot,st)/2,Zt=st.x+Le(st,ot)/2;return me.eachAfter(Ce?function(At){At.x=(At.x-me.x)*Pe,At.y=(me.y-At.y)*Ye}:function(At){At.x=(At.x-Wt)/(Zt-Wt)*Pe,At.y=(1-(me.y?At.y/me.y:1))*Ye})}return he.separation=function(me){return arguments.length?(Le=me,he):Le},he.size=function(me){return arguments.length?(Ce=!1,Pe=+me[0],Ye=+me[1],he):Ce?null:[Pe,Ye]},he.nodeSize=function(me){return arguments.length?(Ce=!0,Pe=+me[0],Ye=+me[1],he):Ce?[Pe,Ye]:null},he}function t(Le){var Pe=0,Ye=Le.children,Ce=Ye&&Ye.length;if(!Ce)Pe=1;else for(;--Ce>=0;)Pe+=Ye[Ce].value;Le.value=Pe}function a(){return this.eachAfter(t)}function n(Le){var Pe=this,Ye,Ce=[Pe],he,me,Ne;do for(Ye=Ce.reverse(),Ce=[];Pe=Ye.pop();)if(Le(Pe),he=Pe.children,he)for(me=0,Ne=he.length;me<Ne;++me)Ce.push(he[me]);while(Ce.length);return this}function f(Le){for(var Pe=this,Ye=[Pe],Ce,he;Pe=Ye.pop();)if(Le(Pe),Ce=Pe.children,Ce)for(he=Ce.length-1;he>=0;--he)Ye.push(Ce[he]);return this}function u(Le){for(var Pe=this,Ye=[Pe],Ce=[],he,me,Ne;Pe=Ye.pop();)if(Ce.push(Pe),he=Pe.children,he)for(me=0,Ne=he.length;me<Ne;++me)Ye.push(he[me]);for(;Pe=Ce.pop();)Le(Pe);return this}function l(Le){return this.eachAfter(function(Pe){for(var Ye=+Le(Pe.data)||0,Ce=Pe.children,he=Ce&&Ce.length;--he>=0;)Ye+=Ce[he].value;Pe.value=Ye})}function g(Le){return this.eachBefore(function(Pe){Pe.children&&Pe.children.sort(Le)})}function h(Le){for(var Pe=this,Ye=T(Pe,Le),Ce=[Pe];Pe!==Ye;)Pe=Pe.parent,Ce.push(Pe);for(var he=Ce.length;Le!==Ye;)Ce.splice(he,0,Le),Le=Le.parent;return Ce}function T(Le,Pe){if(Le===Pe)return Le;var Ye=Le.ancestors(),Ce=Pe.ancestors(),he=null;for(Le=Ye.pop(),Pe=Ce.pop();Le===Pe;)he=Le,Le=Ye.pop(),Pe=Ce.pop();return he}function c(){for(var Le=this,Pe=[Le];Le=Le.parent;)Pe.push(Le);return Pe}function i(){var Le=[];return this.each(function(Pe){Le.push(Pe)}),Le}function d(){var Le=[];return this.eachBefore(function(Pe){Pe.children||Le.push(Pe)}),Le}function b(){var Le=this,Pe=[];return Le.each(function(Ye){Ye!==Le&&Pe.push({source:Ye.parent,target:Ye})}),Pe}function w(Le,Pe){var Ye=new o(Le),Ce=+Le.value&&(Ye.value=Le.value),he,me=[Ye],Ne,$e,ot,st;for(Pe==null&&(Pe=y);he=me.pop();)if(Ce&&(he.value=+he.data.value),($e=Pe(he.data))&&(st=$e.length))for(he.children=new Array(st),ot=st-1;ot>=0;--ot)me.push(Ne=he.children[ot]=new o($e[ot])),Ne.parent=he,Ne.depth=he.depth+1;return Ye.eachBefore(A)}function C(){return w(this).eachBefore(E)}function y(Le){return Le.children}function E(Le){Le.data=Le.data.data}function A(Le){var Pe=0;do Le.height=Pe;while((Le=Le.parent)&&Le.height<++Pe)}function o(Le){this.data=Le,this.depth=this.height=0,this.parent=null}o.prototype=w.prototype={constructor:o,count:a,each:n,eachAfter:u,eachBefore:f,sum:l,sort:g,path:h,ancestors:c,descendants:i,leaves:d,links:b,copy:C};var M=Array.prototype.slice;function x(Le){for(var Pe=Le.length,Ye,Ce;Pe;)Ce=Math.random()*Pe--|0,Ye=Le[Pe],Le[Pe]=Le[Ce],Le[Ce]=Ye;return Le}function I(Le){for(var Pe=0,Ye=(Le=x(M.call(Le))).length,Ce=[],he,me;Pe<Ye;)he=Le[Pe],me&&k(me,he)?++Pe:(me=F(Ce=D(Ce,he)),Pe=0);return me}function D(Le,Pe){var Ye,Ce;if(O(Pe,Le))return[Pe];for(Ye=0;Ye<Le.length;++Ye)if(N(Pe,Le[Ye])&&O(B(Le[Ye],Pe),Le))return[Le[Ye],Pe];for(Ye=0;Ye<Le.length-1;++Ye)for(Ce=Ye+1;Ce<Le.length;++Ce)if(N(B(Le[Ye],Le[Ce]),Pe)&&N(B(Le[Ye],Pe),Le[Ce])&&N(B(Le[Ce],Pe),Le[Ye])&&O(W(Le[Ye],Le[Ce],Pe),Le))return[Le[Ye],Le[Ce],Pe];throw new Error}function N(Le,Pe){var Ye=Le.r-Pe.r,Ce=Pe.x-Le.x,he=Pe.y-Le.y;return Ye<0||Ye*Ye<Ce*Ce+he*he}function k(Le,Pe){var Ye=Le.r-Pe.r+1e-6,Ce=Pe.x-Le.x,he=Pe.y-Le.y;return Ye>0&&Ye*Ye>Ce*Ce+he*he}function O(Le,Pe){for(var Ye=0;Ye<Pe.length;++Ye)if(!k(Le,Pe[Ye]))return!1;return!0}function F(Le){switch(Le.length){case 1:return z(Le[0]);case 2:return B(Le[0],Le[1]);case 3:return W(Le[0],Le[1],Le[2])}}function z(Le){return{x:Le.x,y:Le.y,r:Le.r}}function B(Le,Pe){var Ye=Le.x,Ce=Le.y,he=Le.r,me=Pe.x,Ne=Pe.y,$e=Pe.r,ot=me-Ye,st=Ne-Ce,Wt=$e-he,Zt=Math.sqrt(ot*ot+st*st);return{x:(Ye+me+ot/Zt*Wt)/2,y:(Ce+Ne+st/Zt*Wt)/2,r:(Zt+he+$e)/2}}function W(Le,Pe,Ye){var Ce=Le.x,he=Le.y,me=Le.r,Ne=Pe.x,$e=Pe.y,ot=Pe.r,st=Ye.x,Wt=Ye.y,Zt=Ye.r,At=Ce-Ne,Rt=Ce-st,Xt=he-$e,ir=he-Wt,pt=ot-me,Kt=Zt-me,Qt=Ce*Ce+he*he-me*me,yr=Qt-Ne*Ne-$e*$e+ot*ot,ur=Qt-st*st-Wt*Wt+Zt*Zt,mt=Rt*Xt-At*ir,lt=(Xt*ur-ir*yr)/(mt*2)-Ce,bt=(ir*pt-Xt*Kt)/mt,Ct=(Rt*yr-At*ur)/(mt*2)-he,Dt=(At*Kt-Rt*pt)/mt,Ht=bt*bt+Dt*Dt-1,Bt=2*(me+lt*bt+Ct*Dt),xt=lt*lt+Ct*Ct-me*me,Ut=-(Ht?(Bt+Math.sqrt(Bt*Bt-4*Ht*xt))/(2*Ht):xt/Bt);return{x:Ce+lt+bt*Ut,y:he+Ct+Dt*Ut,r:Ut}}function J(Le,Pe,Ye){var Ce=Le.x-Pe.x,he,me,Ne=Le.y-Pe.y,$e,ot,st=Ce*Ce+Ne*Ne;st?(me=Pe.r+Ye.r,me*=me,ot=Le.r+Ye.r,ot*=ot,me>ot?(he=(st+ot-me)/(2*st),$e=Math.sqrt(Math.max(0,ot/st-he*he)),Ye.x=Le.x-he*Ce-$e*Ne,Ye.y=Le.y-he*Ne+$e*Ce):(he=(st+me-ot)/(2*st),$e=Math.sqrt(Math.max(0,me/st-he*he)),Ye.x=Pe.x+he*Ce-$e*Ne,Ye.y=Pe.y+he*Ne+$e*Ce)):(Ye.x=Pe.x+Ye.r,Ye.y=Pe.y)}function re(Le,Pe){var Ye=Le.r+Pe.r-1e-6,Ce=Pe.x-Le.x,he=Pe.y-Le.y;return Ye>0&&Ye*Ye>Ce*Ce+he*he}function ne(Le){var Pe=Le._,Ye=Le.next._,Ce=Pe.r+Ye.r,he=(Pe.x*Ye.r+Ye.x*Pe.r)/Ce,me=(Pe.y*Ye.r+Ye.y*Pe.r)/Ce;return he*he+me*me}function le(Le){this._=Le,this.next=null,this.previous=null}function $(Le){if(!(he=Le.length))return 0;var Pe,Ye,Ce,he,me,Ne,$e,ot,st,Wt,Zt;if(Pe=Le[0],Pe.x=0,Pe.y=0,!(he>1))return Pe.r;if(Ye=Le[1],Pe.x=-Ye.r,Ye.x=Pe.r,Ye.y=0,!(he>2))return Pe.r+Ye.r;J(Ye,Pe,Ce=Le[2]),Pe=new le(Pe),Ye=new le(Ye),Ce=new le(Ce),Pe.next=Ce.previous=Ye,Ye.next=Pe.previous=Ce,Ce.next=Ye.previous=Pe;e:for($e=3;$e<he;++$e){J(Pe._,Ye._,Ce=Le[$e]),Ce=new le(Ce),ot=Ye.next,st=Pe.previous,Wt=Ye._.r,Zt=Pe._.r;do if(Wt<=Zt){if(re(ot._,Ce._)){Ye=ot,Pe.next=Ye,Ye.previous=Pe,--$e;continue e}Wt+=ot._.r,ot=ot.next}else{if(re(st._,Ce._)){Pe=st,Pe.next=Ye,Ye.previous=Pe,--$e;continue e}Zt+=st._.r,st=st.previous}while(ot!==st.next);for(Ce.previous=Pe,Ce.next=Ye,Pe.next=Ye.previous=Ye=Ce,me=ne(Pe);(Ce=Ce.next)!==Ye;)(Ne=ne(Ce))<me&&(Pe=Ce,me=Ne);Ye=Pe.next}for(Pe=[Ye._],Ce=Ye;(Ce=Ce.next)!==Ye;)Pe.push(Ce._);for(Ce=I(Pe),$e=0;$e<he;++$e)Pe=Le[$e],Pe.x-=Ce.x,Pe.y-=Ce.y;return Ce.r}function Z(Le){return $(Le),Le}function ie(Le){return Le==null?null:X(Le)}function X(Le){if(typeof Le!="function")throw new Error;return Le}function Q(){return 0}function oe(Le){return function(){return Le}}function j(Le){return Math.sqrt(Le.value)}function Y(){var Le=null,Pe=1,Ye=1,Ce=Q;function he(me){return me.x=Pe/2,me.y=Ye/2,Le?me.eachBefore(se(Le)).eachAfter(te(Ce,.5)).eachBefore(fe(1)):me.eachBefore(se(j)).eachAfter(te(Q,1)).eachAfter(te(Ce,me.r/Math.min(Pe,Ye))).eachBefore(fe(Math.min(Pe,Ye)/(2*me.r))),me}return he.radius=function(me){return arguments.length?(Le=ie(me),he):Le},he.size=function(me){return arguments.length?(Pe=+me[0],Ye=+me[1],he):[Pe,Ye]},he.padding=function(me){return arguments.length?(Ce=typeof me=="function"?me:oe(+me),he):Ce},he}function se(Le){return function(Pe){Pe.children||(Pe.r=Math.max(0,+Le(Pe)||0))}}function te(Le,Pe){return function(Ye){if(Ce=Ye.children){var Ce,he,me=Ce.length,Ne=Le(Ye)*Pe||0,$e;if(Ne)for(he=0;he<me;++he)Ce[he].r+=Ne;if($e=$(Ce),Ne)for(he=0;he<me;++he)Ce[he].r-=Ne;Ye.r=$e+Ne}}}function fe(Le){return function(Pe){var Ye=Pe.parent;Pe.r*=Le,Ye&&(Pe.x=Ye.x+Le*Pe.x,Pe.y=Ye.y+Le*Pe.y)}}function ge(Le){Le.x0=Math.round(Le.x0),Le.y0=Math.round(Le.y0),Le.x1=Math.round(Le.x1),Le.y1=Math.round(Le.y1)}function be(Le,Pe,Ye,Ce,he){for(var me=Le.children,Ne,$e=-1,ot=me.length,st=Le.value&&(Ce-Pe)/Le.value;++$e<ot;)Ne=me[$e],Ne.y0=Ye,Ne.y1=he,Ne.x0=Pe,Ne.x1=Pe+=Ne.value*st}function xe(){var Le=1,Pe=1,Ye=0,Ce=!1;function he(Ne){var $e=Ne.height+1;return Ne.x0=Ne.y0=Ye,Ne.x1=Le,Ne.y1=Pe/$e,Ne.eachBefore(me(Pe,$e)),Ce&&Ne.eachBefore(ge),Ne}function me(Ne,$e){return function(ot){ot.children&&be(ot,ot.x0,Ne*(ot.depth+1)/$e,ot.x1,Ne*(ot.depth+2)/$e);var st=ot.x0,Wt=ot.y0,Zt=ot.x1-Ye,At=ot.y1-Ye;Zt<st&&(st=Zt=(st+Zt)/2),At<Wt&&(Wt=At=(Wt+At)/2),ot.x0=st,ot.y0=Wt,ot.x1=Zt,ot.y1=At}}return he.round=function(Ne){return arguments.length?(Ce=!!Ne,he):Ce},he.size=function(Ne){return arguments.length?(Le=+Ne[0],Pe=+Ne[1],he):[Le,Pe]},he.padding=function(Ne){return arguments.length?(Ye=+Ne,he):Ye},he}var _e="$",De={depth:-1},Fe={};function Te(Le){return Le.id}function Re(Le){return Le.parentId}function Se(){var Le=Te,Pe=Re;function Ye(Ce){var he,me,Ne=Ce.length,$e,ot,st,Wt=new Array(Ne),Zt,At,Rt={};for(me=0;me<Ne;++me)he=Ce[me],st=Wt[me]=new o(he),(Zt=Le(he,me,Ce))!=null&&(Zt+="")&&(At=_e+(st.id=Zt),Rt[At]=At in Rt?Fe:st);for(me=0;me<Ne;++me)if(st=Wt[me],Zt=Pe(Ce[me],me,Ce),Zt==null||!(Zt+="")){if($e)throw new Error("multiple roots");$e=st}else{if(ot=Rt[_e+Zt],!ot)throw new Error("missing: "+Zt);if(ot===Fe)throw new Error("ambiguous: "+Zt);ot.children?ot.children.push(st):ot.children=[st],st.parent=ot}if(!$e)throw new Error("no root");if($e.parent=De,$e.eachBefore(function(Xt){Xt.depth=Xt.parent.depth+1,--Ne}).eachBefore(A),$e.parent=null,Ne>0)throw new Error("cycle");return $e}return Ye.id=function(Ce){return arguments.length?(Le=X(Ce),Ye):Le},Ye.parentId=function(Ce){return arguments.length?(Pe=X(Ce),Ye):Pe},Ye}function ke(Le,Pe){return Le.parent===Pe.parent?1:2}function Me(Le){var Pe=Le.children;return Pe?Pe[0]:Le.t}function Ve(Le){var Pe=Le.children;return Pe?Pe[Pe.length-1]:Le.t}function tt(Le,Pe,Ye){var Ce=Ye/(Pe.i-Le.i);Pe.c-=Ce,Pe.s+=Ye,Le.c+=Ce,Pe.z+=Ye,Pe.m+=Ye}function it(Le){for(var Pe=0,Ye=0,Ce=Le.children,he=Ce.length,me;--he>=0;)me=Ce[he],me.z+=Pe,me.m+=Pe,Pe+=me.s+(Ye+=me.c)}function Je(Le,Pe,Ye){return Le.a.parent===Pe.parent?Le.a:Ye}function Qe(Le,Pe){this._=Le,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Pe}Qe.prototype=Object.create(o.prototype);function ct(Le){for(var Pe=new Qe(Le,0),Ye,Ce=[Pe],he,me,Ne,$e;Ye=Ce.pop();)if(me=Ye._.children)for(Ye.children=new Array($e=me.length),Ne=$e-1;Ne>=0;--Ne)Ce.push(he=Ye.children[Ne]=new Qe(me[Ne],Ne)),he.parent=Ye;return(Pe.parent=new Qe(null,0)).children=[Pe],Pe}function ht(){var Le=ke,Pe=1,Ye=1,Ce=null;function he(st){var Wt=ct(st);if(Wt.eachAfter(me),Wt.parent.m=-Wt.z,Wt.eachBefore(Ne),Ce)st.eachBefore(ot);else{var Zt=st,At=st,Rt=st;st.eachBefore(function(Qt){Qt.x<Zt.x&&(Zt=Qt),Qt.x>At.x&&(At=Qt),Qt.depth>Rt.depth&&(Rt=Qt)});var Xt=Zt===At?1:Le(Zt,At)/2,ir=Xt-Zt.x,pt=Pe/(At.x+Xt+ir),Kt=Ye/(Rt.depth||1);st.eachBefore(function(Qt){Qt.x=(Qt.x+ir)*pt,Qt.y=Qt.depth*Kt})}return st}function me(st){var Wt=st.children,Zt=st.parent.children,At=st.i?Zt[st.i-1]:null;if(Wt){it(st);var Rt=(Wt[0].z+Wt[Wt.length-1].z)/2;At?(st.z=At.z+Le(st._,At._),st.m=st.z-Rt):st.z=Rt}else At&&(st.z=At.z+Le(st._,At._));st.parent.A=$e(st,At,st.parent.A||Zt[0])}function Ne(st){st._.x=st.z+st.parent.m,st.m+=st.parent.m}function $e(st,Wt,Zt){if(Wt){for(var At=st,Rt=st,Xt=Wt,ir=At.parent.children[0],pt=At.m,Kt=Rt.m,Qt=Xt.m,yr=ir.m,ur;Xt=Ve(Xt),At=Me(At),Xt&&At;)ir=Me(ir),Rt=Ve(Rt),Rt.a=st,ur=Xt.z+Qt-At.z-pt+Le(Xt._,At._),ur>0&&(tt(Je(Xt,st,Zt),st,ur),pt+=ur,Kt+=ur),Qt+=Xt.m,pt+=At.m,yr+=ir.m,Kt+=Rt.m;Xt&&!Ve(Rt)&&(Rt.t=Xt,Rt.m+=Qt-Kt),At&&!Me(ir)&&(ir.t=At,ir.m+=pt-yr,Zt=st)}return Zt}function ot(st){st.x*=Pe,st.y=st.depth*Ye}return he.separation=function(st){return arguments.length?(Le=st,he):Le},he.size=function(st){return arguments.length?(Ce=!1,Pe=+st[0],Ye=+st[1],he):Ce?null:[Pe,Ye]},he.nodeSize=function(st){return arguments.length?(Ce=!0,Pe=+st[0],Ye=+st[1],he):Ce?[Pe,Ye]:null},he}function dt(Le,Pe,Ye,Ce,he){for(var me=Le.children,Ne,$e=-1,ot=me.length,st=Le.value&&(he-Ye)/Le.value;++$e<ot;)Ne=me[$e],Ne.x0=Pe,Ne.x1=Ce,Ne.y0=Ye,Ne.y1=Ye+=Ne.value*st}var Tt=(1+Math.sqrt(5))/2;function Et(Le,Pe,Ye,Ce,he,me){for(var Ne=[],$e=Pe.children,ot,st,Wt=0,Zt=0,At=$e.length,Rt,Xt,ir=Pe.value,pt,Kt,Qt,yr,ur,mt,lt;Wt<At;){Rt=he-Ye,Xt=me-Ce;do pt=$e[Zt++].value;while(!pt&&Zt<At);for(Kt=Qt=pt,mt=Math.max(Xt/Rt,Rt/Xt)/(ir*Le),lt=pt*pt*mt,ur=Math.max(Qt/lt,lt/Kt);Zt<At;++Zt){if(pt+=st=$e[Zt].value,st<Kt&&(Kt=st),st>Qt&&(Qt=st),lt=pt*pt*mt,yr=Math.max(Qt/lt,lt/Kt),yr>ur){pt-=st;break}ur=yr}Ne.push(ot={value:pt,dice:Rt<Xt,children:$e.slice(Wt,Zt)}),ot.dice?be(ot,Ye,Ce,he,ir?Ce+=Xt*pt/ir:me):dt(ot,Ye,Ce,ir?Ye+=Rt*pt/ir:he,me),ir-=pt,Wt=Zt}return Ne}var rt=function Le(Pe){function Ye(Ce,he,me,Ne,$e){Et(Pe,Ce,he,me,Ne,$e)}return Ye.ratio=function(Ce){return Le((Ce=+Ce)>1?Ce:1)},Ye}(Tt);function ze(){var Le=rt,Pe=!1,Ye=1,Ce=1,he=[0],me=Q,Ne=Q,$e=Q,ot=Q,st=Q;function Wt(At){return At.x0=At.y0=0,At.x1=Ye,At.y1=Ce,At.eachBefore(Zt),he=[0],Pe&&At.eachBefore(ge),At}function Zt(At){var Rt=he[At.depth],Xt=At.x0+Rt,ir=At.y0+Rt,pt=At.x1-Rt,Kt=At.y1-Rt;pt<Xt&&(Xt=pt=(Xt+pt)/2),Kt<ir&&(ir=Kt=(ir+Kt)/2),At.x0=Xt,At.y0=ir,At.x1=pt,At.y1=Kt,At.children&&(Rt=he[At.depth+1]=me(At)/2,Xt+=st(At)-Rt,ir+=Ne(At)-Rt,pt-=$e(At)-Rt,Kt-=ot(At)-Rt,pt<Xt&&(Xt=pt=(Xt+pt)/2),Kt<ir&&(ir=Kt=(ir+Kt)/2),Le(At,Xt,ir,pt,Kt))}return Wt.round=function(At){return arguments.length?(Pe=!!At,Wt):Pe},Wt.size=function(At){return arguments.length?(Ye=+At[0],Ce=+At[1],Wt):[Ye,Ce]},Wt.tile=function(At){return arguments.length?(Le=X(At),Wt):Le},Wt.padding=function(At){return arguments.length?Wt.paddingInner(At).paddingOuter(At):Wt.paddingInner()},Wt.paddingInner=function(At){return arguments.length?(me=typeof At=="function"?At:oe(+At),Wt):me},Wt.paddingOuter=function(At){return arguments.length?Wt.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Wt.paddingTop()},Wt.paddingTop=function(At){return arguments.length?(Ne=typeof At=="function"?At:oe(+At),Wt):Ne},Wt.paddingRight=function(At){return arguments.length?($e=typeof At=="function"?At:oe(+At),Wt):$e},Wt.paddingBottom=function(At){return arguments.length?(ot=typeof At=="function"?At:oe(+At),Wt):ot},Wt.paddingLeft=function(At){return arguments.length?(st=typeof At=="function"?At:oe(+At),Wt):st},Wt}function Ge(Le,Pe,Ye,Ce,he){var me=Le.children,Ne,$e=me.length,ot,st=new Array($e+1);for(st[0]=ot=Ne=0;Ne<$e;++Ne)st[Ne+1]=ot+=me[Ne].value;Wt(0,$e,Le.value,Pe,Ye,Ce,he);function Wt(Zt,At,Rt,Xt,ir,pt,Kt){if(Zt>=At-1){var Qt=me[Zt];Qt.x0=Xt,Qt.y0=ir,Qt.x1=pt,Qt.y1=Kt;return}for(var yr=st[Zt],ur=Rt/2+yr,mt=Zt+1,lt=At-1;mt<lt;){var bt=mt+lt>>>1;st[bt]<ur?mt=bt+1:lt=bt}ur-st[mt-1]<st[mt]-ur&&Zt+1<mt&&--mt;var Ct=st[mt]-yr,Dt=Rt-Ct;if(pt-Xt>Kt-ir){var Ht=(Xt*Dt+pt*Ct)/Rt;Wt(Zt,mt,Ct,Xt,ir,Ht,Kt),Wt(mt,At,Dt,Ht,ir,pt,Kt)}else{var Bt=(ir*Dt+Kt*Ct)/Rt;Wt(Zt,mt,Ct,Xt,ir,pt,Bt),Wt(mt,At,Dt,Xt,Bt,pt,Kt)}}}function je(Le,Pe,Ye,Ce,he){(Le.depth&1?dt:be)(Le,Pe,Ye,Ce,he)}var We=function Le(Pe){function Ye(Ce,he,me,Ne,$e){if((ot=Ce._squarify)&&ot.ratio===Pe)for(var ot,st,Wt,Zt,At=-1,Rt,Xt=ot.length,ir=Ce.value;++At<Xt;){for(st=ot[At],Wt=st.children,Zt=st.value=0,Rt=Wt.length;Zt<Rt;++Zt)st.value+=Wt[Zt].value;st.dice?be(st,he,me,Ne,me+=($e-me)*st.value/ir):dt(st,he,me,he+=(Ne-he)*st.value/ir,$e),ir-=st.value}else Ce._squarify=ot=Et(Pe,Ce,he,me,Ne,$e),ot.ratio=Pe}return Ye.ratio=function(Ce){return Le((Ce=+Ce)>1?Ce:1)},Ye}(Tt)},10132:function(G,H,e){e.d(H,{ak:function(){return h}});var m=Math.PI,P=2*m,s=1e-6,L=P-s;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new S}S.prototype=v.prototype={constructor:S,moveTo:function(T,c){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,c){this._+="L"+(this._x1=+T)+","+(this._y1=+c)},quadraticCurveTo:function(T,c,i,d){this._+="Q"+ +T+","+ +c+","+(this._x1=+i)+","+(this._y1=+d)},bezierCurveTo:function(T,c,i,d,b,w){this._+="C"+ +T+","+ +c+","+ +i+","+ +d+","+(this._x1=+b)+","+(this._y1=+w)},arcTo:function(T,c,i,d,b){T=+T,c=+c,i=+i,d=+d,b=+b;var w=this._x1,C=this._y1,y=i-T,E=d-c,A=w-T,o=C-c,M=A*A+o*o;if(b<0)throw new Error("negative radius: "+b);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=c);else if(M>s)if(!(Math.abs(o*y-E*A)>s)||!b)this._+="L"+(this._x1=T)+","+(this._y1=c);else{var x=i-w,I=d-C,D=y*y+E*E,N=x*x+I*I,k=Math.sqrt(D),O=Math.sqrt(M),F=b*Math.tan((m-Math.acos((D+M-N)/(2*k*O)))/2),z=F/O,B=F/k;Math.abs(z-1)>s&&(this._+="L"+(T+z*A)+","+(c+z*o)),this._+="A"+b+","+b+",0,0,"+ +(o*x>A*I)+","+(this._x1=T+B*y)+","+(this._y1=c+B*E)}},arc:function(T,c,i,d,b,w){T=+T,c=+c,i=+i,w=!!w;var C=i*Math.cos(d),y=i*Math.sin(d),E=T+C,A=c+y,o=1^w,M=w?d-b:b-d;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+E+","+A:(Math.abs(this._x1-E)>s||Math.abs(this._y1-A)>s)&&(this._+="L"+E+","+A),i&&(M<0&&(M=M%P+P),M>L?this._+="A"+i+","+i+",0,1,"+o+","+(T-C)+","+(c-y)+"A"+i+","+i+",0,1,"+o+","+(this._x1=E)+","+(this._y1=A):M>s&&(this._+="A"+i+","+i+",0,"+ +(M>=m)+","+o+","+(this._x1=T+i*Math.cos(b))+","+(this._y1=c+i*Math.sin(b))))},rect:function(T,c,i,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)+"h"+ +i+"v"+ +d+"h"+-i+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function a(T){return T[0]}function n(T){return T[1]}function f(T){return T.source}function u(T){return T.target}function l(T){var c=f,i=u,d=a,b=n,w=null;function C(){var y,E=r.call(arguments),A=c.apply(this,E),o=i.apply(this,E);if(w||(w=y=p()),T(w,+d.apply(this,(E[0]=A,E)),+b.apply(this,E),+d.apply(this,(E[0]=o,E)),+b.apply(this,E)),y)return w=null,y+""||null}return C.source=function(y){return arguments.length?(c=y,C):c},C.target=function(y){return arguments.length?(i=y,C):i},C.x=function(y){return arguments.length?(d=typeof y=="function"?y:t(+y),C):d},C.y=function(y){return arguments.length?(b=typeof y=="function"?y:t(+y),C):b},C.context=function(y){return arguments.length?(w=y??null,C):w},C}function g(T,c,i,d,b){T.moveTo(c,i),T.bezierCurveTo(c=(c+d)/2,i,c,b,d,b)}function h(){return l(g)}},94336:function(G,H,e){e.d(H,{Yn:function(){return Ge},m_:function(){return a},E9:function(){return je}});var m=e(8208),P=e(58931),s=e(46192),L=e(68936),S=e(32171),v=e(53528);function p(Le){if(0<=Le.y&&Le.y<100){var Pe=new Date(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L);return Pe.setFullYear(Le.y),Pe}return new Date(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L)}function r(Le){if(0<=Le.y&&Le.y<100){var Pe=new Date(Date.UTC(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L));return Pe.setUTCFullYear(Le.y),Pe}return new Date(Date.UTC(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L))}function t(Le,Pe,Ye){return{y:Le,m:Pe,d:Ye,H:0,M:0,S:0,L:0}}function a(Le){var Pe=Le.dateTime,Ye=Le.date,Ce=Le.time,he=Le.periods,me=Le.days,Ne=Le.shortDays,$e=Le.months,ot=Le.shortMonths,st=T(he),Wt=c(he),Zt=T(me),At=c(me),Rt=T(Ne),Xt=c(Ne),ir=T($e),pt=c($e),Kt=T(ot),Qt=c(ot),yr={a:He,A:Ue,b:Ot,B:It,c:null,d:J,e:J,f:Z,H:re,I:ne,j:le,L:$,m:ie,M:X,p:Jt,q:cr,Q:Et,s:rt,S:Q,u:oe,U:j,V:Y,w:se,W:te,x:null,X:null,y:fe,Y:ge,Z:be,"%":Tt},ur={a:vr,A:tr,b:Nt,B:sr,c:null,d:xe,e:xe,f:Re,H:_e,I:De,j:Fe,L:Te,m:Se,M:ke,p:dr,q:xr,Q:Et,s:rt,S:Me,u:Ve,U:tt,V:it,w:Je,W:Qe,x:null,X:null,y:ct,Y:ht,Z:dt,"%":Tt},mt={a:Ht,A:Bt,b:xt,B:Ut,c:qt,d:x,e:x,f:F,H:D,I:D,j:I,L:O,m:M,M:N,p:Dt,q:o,Q:B,s:W,S:k,u:d,U:b,V:w,w:i,W:C,x:or,X:rr,y:E,Y:y,Z:A,"%":z};yr.x=lt(Ye,yr),yr.X=lt(Ce,yr),yr.c=lt(Pe,yr),ur.x=lt(Ye,ur),ur.X=lt(Ce,ur),ur.c=lt(Pe,ur);function lt(pr,Hr){return function(_r){var Dr=[],an=-1,tn=0,Sn=pr.length,Tn,Tr,zr;for(_r instanceof Date||(_r=new Date(+_r));++an<Sn;)pr.charCodeAt(an)===37&&(Dr.push(pr.slice(tn,an)),(Tr=n[Tn=pr.charAt(++an)])!=null?Tn=pr.charAt(++an):Tr=Tn==="e"?" ":"0",(zr=Hr[Tn])&&(Tn=zr(_r,Tr)),Dr.push(Tn),tn=an+1);return Dr.push(pr.slice(tn,an)),Dr.join("")}}function bt(pr,Hr){return function(_r){var Dr=t(1900,void 0,1),an=Ct(Dr,pr,_r+="",0),tn,Sn;if(an!=_r.length)return null;if("Q"in Dr)return new Date(Dr.Q);if("s"in Dr)return new Date(Dr.s*1e3+("L"in Dr?Dr.L:0));if(Hr&&!("Z"in Dr)&&(Dr.Z=0),"p"in Dr&&(Dr.H=Dr.H%12+Dr.p*12),Dr.m===void 0&&(Dr.m="q"in Dr?Dr.q:0),"V"in Dr){if(Dr.V<1||Dr.V>53)return null;"w"in Dr||(Dr.w=1),"Z"in Dr?(tn=r(t(Dr.y,0,1)),Sn=tn.getUTCDay(),tn=Sn>4||Sn===0?m.ot.ceil(tn):(0,m.ot)(tn),tn=P.c.offset(tn,(Dr.V-1)*7),Dr.y=tn.getUTCFullYear(),Dr.m=tn.getUTCMonth(),Dr.d=tn.getUTCDate()+(Dr.w+6)%7):(tn=p(t(Dr.y,0,1)),Sn=tn.getDay(),tn=Sn>4||Sn===0?s.qT.ceil(tn):(0,s.qT)(tn),tn=L.c.offset(tn,(Dr.V-1)*7),Dr.y=tn.getFullYear(),Dr.m=tn.getMonth(),Dr.d=tn.getDate()+(Dr.w+6)%7)}else("W"in Dr||"U"in Dr)&&("w"in Dr||(Dr.w="u"in Dr?Dr.u%7:"W"in Dr?1:0),Sn="Z"in Dr?r(t(Dr.y,0,1)).getUTCDay():p(t(Dr.y,0,1)).getDay(),Dr.m=0,Dr.d="W"in Dr?(Dr.w+6)%7+Dr.W*7-(Sn+5)%7:Dr.w+Dr.U*7-(Sn+6)%7);return"Z"in Dr?(Dr.H+=Dr.Z/100|0,Dr.M+=Dr.Z%100,r(Dr)):p(Dr)}}function Ct(pr,Hr,_r,Dr){for(var an=0,tn=Hr.length,Sn=_r.length,Tn,Tr;an<tn;){if(Dr>=Sn)return-1;if(Tn=Hr.charCodeAt(an++),Tn===37){if(Tn=Hr.charAt(an++),Tr=mt[Tn in n?Hr.charAt(an++):Tn],!Tr||(Dr=Tr(pr,_r,Dr))<0)return-1}else if(Tn!=_r.charCodeAt(Dr++))return-1}return Dr}function Dt(pr,Hr,_r){var Dr=st.exec(Hr.slice(_r));return Dr?(pr.p=Wt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Ht(pr,Hr,_r){var Dr=Rt.exec(Hr.slice(_r));return Dr?(pr.w=Xt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Bt(pr,Hr,_r){var Dr=Zt.exec(Hr.slice(_r));return Dr?(pr.w=At[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function xt(pr,Hr,_r){var Dr=Kt.exec(Hr.slice(_r));return Dr?(pr.m=Qt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Ut(pr,Hr,_r){var Dr=ir.exec(Hr.slice(_r));return Dr?(pr.m=pt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function qt(pr,Hr,_r){return Ct(pr,Pe,Hr,_r)}function or(pr,Hr,_r){return Ct(pr,Ye,Hr,_r)}function rr(pr,Hr,_r){return Ct(pr,Ce,Hr,_r)}function He(pr){return Ne[pr.getDay()]}function Ue(pr){return me[pr.getDay()]}function Ot(pr){return ot[pr.getMonth()]}function It(pr){return $e[pr.getMonth()]}function Jt(pr){return he[+(pr.getHours()>=12)]}function cr(pr){return 1+~~(pr.getMonth()/3)}function vr(pr){return Ne[pr.getUTCDay()]}function tr(pr){return me[pr.getUTCDay()]}function Nt(pr){return ot[pr.getUTCMonth()]}function sr(pr){return $e[pr.getUTCMonth()]}function dr(pr){return he[+(pr.getUTCHours()>=12)]}function xr(pr){return 1+~~(pr.getUTCMonth()/3)}return{format:function(pr){var Hr=lt(pr+="",yr);return Hr.toString=function(){return pr},Hr},parse:function(pr){var Hr=bt(pr+="",!1);return Hr.toString=function(){return pr},Hr},utcFormat:function(pr){var Hr=lt(pr+="",ur);return Hr.toString=function(){return pr},Hr},utcParse:function(pr){var Hr=bt(pr+="",!0);return Hr.toString=function(){return pr},Hr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function g(Le,Pe,Ye){var Ce=Le<0?"-":"",he=(Ce?-Le:Le)+"",me=he.length;return Ce+(me<Ye?new Array(Ye-me+1).join(Pe)+he:he)}function h(Le){return Le.replace(l,"\\$&")}function T(Le){return new RegExp("^(?:"+Le.map(h).join("|")+")","i")}function c(Le){for(var Pe={},Ye=-1,Ce=Le.length;++Ye<Ce;)Pe[Le[Ye].toLowerCase()]=Ye;return Pe}function i(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+1));return Ce?(Le.w=+Ce[0],Ye+Ce[0].length):-1}function d(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+1));return Ce?(Le.u=+Ce[0],Ye+Ce[0].length):-1}function b(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.U=+Ce[0],Ye+Ce[0].length):-1}function w(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.V=+Ce[0],Ye+Ce[0].length):-1}function C(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.W=+Ce[0],Ye+Ce[0].length):-1}function y(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+4));return Ce?(Le.y=+Ce[0],Ye+Ce[0].length):-1}function E(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.y=+Ce[0]+(+Ce[0]>68?1900:2e3),Ye+Ce[0].length):-1}function A(Le,Pe,Ye){var Ce=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pe.slice(Ye,Ye+6));return Ce?(Le.Z=Ce[1]?0:-(Ce[2]+(Ce[3]||"00")),Ye+Ce[0].length):-1}function o(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+1));return Ce?(Le.q=Ce[0]*3-3,Ye+Ce[0].length):-1}function M(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.m=Ce[0]-1,Ye+Ce[0].length):-1}function x(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.d=+Ce[0],Ye+Ce[0].length):-1}function I(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+3));return Ce?(Le.m=0,Le.d=+Ce[0],Ye+Ce[0].length):-1}function D(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.H=+Ce[0],Ye+Ce[0].length):-1}function N(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.M=+Ce[0],Ye+Ce[0].length):-1}function k(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+2));return Ce?(Le.S=+Ce[0],Ye+Ce[0].length):-1}function O(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+3));return Ce?(Le.L=+Ce[0],Ye+Ce[0].length):-1}function F(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye,Ye+6));return Ce?(Le.L=Math.floor(Ce[0]/1e3),Ye+Ce[0].length):-1}function z(Le,Pe,Ye){var Ce=u.exec(Pe.slice(Ye,Ye+1));return Ce?Ye+Ce[0].length:-1}function B(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye));return Ce?(Le.Q=+Ce[0],Ye+Ce[0].length):-1}function W(Le,Pe,Ye){var Ce=f.exec(Pe.slice(Ye));return Ce?(Le.s=+Ce[0],Ye+Ce[0].length):-1}function J(Le,Pe){return g(Le.getDate(),Pe,2)}function re(Le,Pe){return g(Le.getHours(),Pe,2)}function ne(Le,Pe){return g(Le.getHours()%12||12,Pe,2)}function le(Le,Pe){return g(1+L.c.count((0,S.c)(Le),Le),Pe,3)}function $(Le,Pe){return g(Le.getMilliseconds(),Pe,3)}function Z(Le,Pe){return $(Le,Pe)+"000"}function ie(Le,Pe){return g(Le.getMonth()+1,Pe,2)}function X(Le,Pe){return g(Le.getMinutes(),Pe,2)}function Q(Le,Pe){return g(Le.getSeconds(),Pe,2)}function oe(Le){var Pe=Le.getDay();return Pe===0?7:Pe}function j(Le,Pe){return g(s.uU.count((0,S.c)(Le)-1,Le),Pe,2)}function Y(Le,Pe){var Ye=Le.getDay();return Le=Ye>=4||Ye===0?(0,s.kD)(Le):s.kD.ceil(Le),g(s.kD.count((0,S.c)(Le),Le)+((0,S.c)(Le).getDay()===4),Pe,2)}function se(Le){return Le.getDay()}function te(Le,Pe){return g(s.qT.count((0,S.c)(Le)-1,Le),Pe,2)}function fe(Le,Pe){return g(Le.getFullYear()%100,Pe,2)}function ge(Le,Pe){return g(Le.getFullYear()%1e4,Pe,4)}function be(Le){var Pe=Le.getTimezoneOffset();return(Pe>0?"-":(Pe*=-1,"+"))+g(Pe/60|0,"0",2)+g(Pe%60,"0",2)}function xe(Le,Pe){return g(Le.getUTCDate(),Pe,2)}function _e(Le,Pe){return g(Le.getUTCHours(),Pe,2)}function De(Le,Pe){return g(Le.getUTCHours()%12||12,Pe,2)}function Fe(Le,Pe){return g(1+P.c.count((0,v.c)(Le),Le),Pe,3)}function Te(Le,Pe){return g(Le.getUTCMilliseconds(),Pe,3)}function Re(Le,Pe){return Te(Le,Pe)+"000"}function Se(Le,Pe){return g(Le.getUTCMonth()+1,Pe,2)}function ke(Le,Pe){return g(Le.getUTCMinutes(),Pe,2)}function Me(Le,Pe){return g(Le.getUTCSeconds(),Pe,2)}function Ve(Le){var Pe=Le.getUTCDay();return Pe===0?7:Pe}function tt(Le,Pe){return g(m.EV.count((0,v.c)(Le)-1,Le),Pe,2)}function it(Le,Pe){var Ye=Le.getUTCDay();return Le=Ye>=4||Ye===0?(0,m.yA)(Le):m.yA.ceil(Le),g(m.yA.count((0,v.c)(Le),Le)+((0,v.c)(Le).getUTCDay()===4),Pe,2)}function Je(Le){return Le.getUTCDay()}function Qe(Le,Pe){return g(m.ot.count((0,v.c)(Le)-1,Le),Pe,2)}function ct(Le,Pe){return g(Le.getUTCFullYear()%100,Pe,2)}function ht(Le,Pe){return g(Le.getUTCFullYear()%1e4,Pe,4)}function dt(){return"+0000"}function Tt(){return"%"}function Et(Le){return+Le}function rt(Le){return Math.floor(+Le/1e3)}var ze,Ge,je;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(Le){return ze=a(Le),Ge=ze.format,ze.parse,je=ze.utcFormat,ze.utcParse,ze}},68936:function(G,H,e){e.d(H,{m:function(){return L}});var m=e(81628),P=e(69792),s=(0,m.c)(function(S){S.setHours(0,0,0,0)},function(S,v){S.setDate(S.getDate()+v)},function(S,v){return(v-S-(v.getTimezoneOffset()-S.getTimezoneOffset())*P.iy)/P.SK},function(S){return S.getDate()-1});H.c=s;var L=s.range},69792:function(G,H,e){e.d(H,{KK:function(){return S},SK:function(){return L},cg:function(){return s},iy:function(){return P},yc:function(){return m}});var m=1e3,P=6e4,s=36e5,L=864e5,S=6048e5},73220:function(G,H,e){e.r(H),e.d(H,{timeDay:function(){return g.c},timeDays:function(){return g.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return m.c},timeMillisecond:function(){return s},timeMilliseconds:function(){return L},timeMinute:function(){return a},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return i},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return o.c},utcDays:function(){return o.o},utcFriday:function(){return M.od},utcFridays:function(){return M.iG},utcHour:function(){return E},utcHours:function(){return A},utcMillisecond:function(){return s},utcMilliseconds:function(){return L},utcMinute:function(){return w},utcMinutes:function(){return C},utcMonday:function(){return M.ot},utcMondays:function(){return M.iO},utcMonth:function(){return I},utcMonths:function(){return D},utcSaturday:function(){return M.Ad},utcSaturdays:function(){return M.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return M.EV},utcSundays:function(){return M.Wq},utcThursday:function(){return M.yA},utcThursdays:function(){return M.ob},utcTuesday:function(){return M.sG},utcTuesdays:function(){return M.kl},utcWednesday:function(){return M._6},utcWednesdays:function(){return M.W_},utcWeek:function(){return M.EV},utcWeeks:function(){return M.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var m=e(81628),P=(0,m.c)(function(){},function(k,O){k.setTime(+k+O)},function(k,O){return O-k});P.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?(0,m.c)(function(O){O.setTime(Math.floor(O/k)*k)},function(O,F){O.setTime(+O+F*k)},function(O,F){return(F-O)/k}):P};var s=P,L=P.range,S=e(69792),v=(0,m.c)(function(k){k.setTime(k-k.getMilliseconds())},function(k,O){k.setTime(+k+O*S.yc)},function(k,O){return(O-k)/S.yc},function(k){return k.getUTCSeconds()}),p=v,r=v.range,t=(0,m.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*S.yc)},function(k,O){k.setTime(+k+O*S.iy)},function(k,O){return(O-k)/S.iy},function(k){return k.getMinutes()}),a=t,n=t.range,f=(0,m.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*S.yc-k.getMinutes()*S.iy)},function(k,O){k.setTime(+k+O*S.cg)},function(k,O){return(O-k)/S.cg},function(k){return k.getHours()}),u=f,l=f.range,g=e(68936),h=e(46192),T=(0,m.c)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,O){k.setMonth(k.getMonth()+O)},function(k,O){return O.getMonth()-k.getMonth()+(O.getFullYear()-k.getFullYear())*12},function(k){return k.getMonth()}),c=T,i=T.range,d=e(32171),b=(0,m.c)(function(k){k.setUTCSeconds(0,0)},function(k,O){k.setTime(+k+O*S.iy)},function(k,O){return(O-k)/S.iy},function(k){return k.getUTCMinutes()}),w=b,C=b.range,y=(0,m.c)(function(k){k.setUTCMinutes(0,0,0)},function(k,O){k.setTime(+k+O*S.cg)},function(k,O){return(O-k)/S.cg},function(k){return k.getUTCHours()}),E=y,A=y.range,o=e(58931),M=e(8208),x=(0,m.c)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,O){k.setUTCMonth(k.getUTCMonth()+O)},function(k,O){return O.getUTCMonth()-k.getUTCMonth()+(O.getUTCFullYear()-k.getUTCFullYear())*12},function(k){return k.getUTCMonth()}),I=x,D=x.range,N=e(53528)},81628:function(G,H,e){e.d(H,{c:function(){return s}});var m=new Date,P=new Date;function s(L,S,v,p){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),S(t,1),L(t),t},r.round=function(t){var a=r(t),n=r.ceil(t);return t-a<n-t?a:n},r.offset=function(t,a){return S(t=new Date(+t),a==null?1:Math.floor(a)),t},r.range=function(t,a,n){var f=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<a)||!(n>0))return f;do f.push(u=new Date(+t)),S(t,n),L(t);while(u<t&&t<a);return f},r.filter=function(t){return s(function(a){if(a>=a)for(;L(a),!t(a);)a.setTime(a-1)},function(a,n){if(a>=a)if(n<0)for(;++n<=0;)for(;S(a,-1),!t(a););else for(;--n>=0;)for(;S(a,1),!t(a););})},v&&(r.count=function(t,a){return m.setTime(+t),P.setTime(+a),L(m),L(P),Math.floor(v(m,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(a){return p(a)%t===0}:function(a){return r.count(0,a)%t===0}):r}),r}},58931:function(G,H,e){e.d(H,{o:function(){return L}});var m=e(81628),P=e(69792),s=(0,m.c)(function(S){S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCDate(S.getUTCDate()+v)},function(S,v){return(v-S)/P.SK},function(S){return S.getUTCDate()-1});H.c=s;var L=s.range},8208:function(G,H,e){e.d(H,{Ad:function(){return a},EV:function(){return L},K8:function(){return T},W_:function(){return l},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return f},kl:function(){return u},ob:function(){return g},od:function(){return t},ot:function(){return S},sG:function(){return v},yA:function(){return r}});var m=e(81628),P=e(69792);function s(c){return(0,m.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-c)%7),i.setUTCHours(0,0,0,0)},function(i,d){i.setUTCDate(i.getUTCDate()+d*7)},function(i,d){return(d-i)/P.KK})}var L=s(0),S=s(1),v=s(2),p=s(3),r=s(4),t=s(5),a=s(6),n=L.range,f=S.range,u=v.range,l=p.range,g=r.range,h=t.range,T=a.range},53528:function(G,H,e){e.d(H,{i:function(){return s}});var m=e(81628),P=(0,m.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,S){L.setUTCFullYear(L.getUTCFullYear()+S)},function(L,S){return S.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,m.c)(function(S){S.setUTCFullYear(Math.floor(S.getUTCFullYear()/L)*L),S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCFullYear(S.getUTCFullYear()+v*L)})},H.c=P;var s=P.range},46192:function(G,H,e){e.d(H,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return a},aI:function(){return T},eC:function(){return g},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return S},sJ:function(){return h},sn:function(){return l},uU:function(){return L}});var m=e(81628),P=e(69792);function s(c){return(0,m.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-c)%7),i.setHours(0,0,0,0)},function(i,d){i.setDate(i.getDate()+d*7)},function(i,d){return(d-i-(d.getTimezoneOffset()-i.getTimezoneOffset())*P.iy)/P.KK})}var L=s(0),S=s(1),v=s(2),p=s(3),r=s(4),t=s(5),a=s(6),n=L.range,f=S.range,u=v.range,l=p.range,g=r.range,h=t.range,T=a.range},32171:function(G,H,e){e.d(H,{Q:function(){return s}});var m=e(81628),P=(0,m.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,S){L.setFullYear(L.getFullYear()+S)},function(L,S){return S.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,m.c)(function(S){S.setFullYear(Math.floor(S.getFullYear()/L)*L),S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,v){S.setFullYear(S.getFullYear()+v*L)})},H.c=P;var s=P.range},64348:function(G,H,e){var m=e(39640)(),P=e(53664),s=m&&P("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch{s=!1}var L=P("%SyntaxError%"),S=P("%TypeError%"),v=e(2304);G.exports=function(r,t,a){if(!r||typeof r!="object"&&typeof r!="function")throw new S("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new S("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new S("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new S("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new S("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new S("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,g=!!v&&v(r,t);if(s)s(r,t,{configurable:u===null&&g?g.configurable:!u,enumerable:n===null&&g?g.enumerable:!n,value:a,writable:f===null&&g?g.writable:!f});else if(l||!n&&!f&&!u)r[t]=a;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(G,H,e){var m=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",s=Object.prototype.toString,L=Array.prototype.concat,S=Object.defineProperty,v=function(n){return typeof n=="function"&&s.call(n)==="[object Function]"},p=e(39640)(),r=S&&p,t=function(n,f,u,l){if(f in n){if(l===!0){if(n[f]===u)return}else if(!v(l)||!l())return}r?S(n,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[f]=u},a=function(n,f){var u=arguments.length>2?arguments[2]:{},l=m(f);P&&(l=L.call(l,Object.getOwnPropertySymbols(f)));for(var g=0;g<l.length;g+=1)t(n,l[g],f[l[g]],u[l[g]])};a.supportsDescriptors=!!r,G.exports=a},31264:function(G){G.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},63768:function(G){G.exports=P;var H=P.canvas=document.createElement("canvas"),e=H.getContext("2d"),m=s([32,126]);P.createPairs=s,P.ascii=m;function P(L,S){Array.isArray(L)&&(L=L.join(", "));var v={},p,r=16,t=.05;S&&(S.length===2&&typeof S[0]=="number"?p=s(S):Array.isArray(S)?p=S:(S.o?p=s(S.o):S.pairs&&(p=S.pairs),S.fontSize&&(r=S.fontSize),S.threshold!=null&&(t=S.threshold))),p||(p=m),e.font=r+"px "+L;for(var a=0;a<p.length;a++){var n=p[a],f=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[n]=l*1e3}}return v}function s(L){for(var S=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),a=p+t;S.push(a)}return S}},22235:function(G,H,e){var m=e(49972),P=e(48816),s={M:"moveTo",C:"bezierCurveTo"};G.exports=function(L,S){L.beginPath(),P(m(S)).forEach(function(v){var p=v[0],r=v.slice(1);L[s[p]].apply(L,r)}),L.closePath()}},72512:function(G){G.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(G){function H(P,s,L){var S=P[L]|0;if(S<=0)return[];var v=new Array(S),p;if(L===P.length-1)for(p=0;p<S;++p)v[p]=s;else for(p=0;p<S;++p)v[p]=H(P,s,L+1);return v}function e(P,s){var L,S;for(L=new Array(P),S=0;S<P;++S)L[S]=s;return L}function m(P,s){switch(typeof s>"u"&&(s=0),typeof P){case"number":if(P>0)return e(P|0,s);break;case"object":if(typeof P.length=="number")return H(P,s,0);break}return[]}G.exports=m},28912:function(G){G.exports=H,G.exports.default=H;function H(D,N,k){k=k||2;var O=N&&N.length,F=O?N[0]*k:D.length,z=e(D,0,F,k,!0),B=[];if(!z||z.next===z.prev)return B;var W,J,re,ne,le,$,Z;if(O&&(z=p(D,N,z,k)),D.length>80*k){W=re=D[0],J=ne=D[1];for(var ie=k;ie<F;ie+=k)le=D[ie],$=D[ie+1],le<W&&(W=le),$<J&&(J=$),le>re&&(re=le),$>ne&&(ne=$);Z=Math.max(re-W,ne-J),Z=Z!==0?1/Z:0}return P(z,B,k,W,J,Z),B}function e(D,N,k,O,F){var z,B;if(F===I(D,N,k,O)>0)for(z=N;z<k;z+=O)B=o(z,D[z],D[z+1],B);else for(z=k-O;z>=N;z-=O)B=o(z,D[z],D[z+1],B);return B&&i(B,B.next)&&(M(B),B=B.next),B}function m(D,N){if(!D)return D;N||(N=D);var k=D,O;do if(O=!1,!k.steiner&&(i(k,k.next)||c(k.prev,k,k.next)===0)){if(M(k),k=N=k.prev,k===k.next)break;O=!0}else k=k.next;while(O||k!==N);return N}function P(D,N,k,O,F,z,B){if(D){!B&&z&&f(D,O,F,z);for(var W=D,J,re;D.prev!==D.next;){if(J=D.prev,re=D.next,z?L(D,O,F,z):s(D)){N.push(J.i/k),N.push(D.i/k),N.push(re.i/k),M(D),D=re.next,W=re.next;continue}if(D=re,D===W){B?B===1?(D=S(m(D),N,k),P(D,N,k,O,F,z,2)):B===2&&v(D,N,k,O,F,z):P(m(D),N,k,O,F,z,1);break}}}}function s(D){var N=D.prev,k=D,O=D.next;if(c(N,k,O)>=0)return!1;for(var F=D.next.next;F!==D.prev;){if(h(N.x,N.y,k.x,k.y,O.x,O.y,F.x,F.y)&&c(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function L(D,N,k,O){var F=D.prev,z=D,B=D.next;if(c(F,z,B)>=0)return!1;for(var W=F.x<z.x?F.x<B.x?F.x:B.x:z.x<B.x?z.x:B.x,J=F.y<z.y?F.y<B.y?F.y:B.y:z.y<B.y?z.y:B.y,re=F.x>z.x?F.x>B.x?F.x:B.x:z.x>B.x?z.x:B.x,ne=F.y>z.y?F.y>B.y?F.y:B.y:z.y>B.y?z.y:B.y,le=l(W,J,N,k,O),$=l(re,ne,N,k,O),Z=D.prevZ,ie=D.nextZ;Z&&Z.z>=le&&ie&&ie.z<=$;){if(Z!==D.prev&&Z!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,Z.x,Z.y)&&c(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,ie!==D.prev&&ie!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,ie.x,ie.y)&&c(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;Z&&Z.z>=le;){if(Z!==D.prev&&Z!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,Z.x,Z.y)&&c(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;ie&&ie.z<=$;){if(ie!==D.prev&&ie!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,ie.x,ie.y)&&c(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function S(D,N,k){var O=D;do{var F=O.prev,z=O.next.next;!i(F,z)&&d(F,O,O.next,z)&&y(F,z)&&y(z,F)&&(N.push(F.i/k),N.push(O.i/k),N.push(z.i/k),M(O),M(O.next),O=D=z),O=O.next}while(O!==D);return m(O)}function v(D,N,k,O,F,z){var B=D;do{for(var W=B.next.next;W!==B.prev;){if(B.i!==W.i&&T(B,W)){var J=A(B,W);B=m(B,B.next),J=m(J,J.next),P(B,N,k,O,F,z),P(J,N,k,O,F,z);return}W=W.next}B=B.next}while(B!==D)}function p(D,N,k,O){var F=[],z,B,W,J,re;for(z=0,B=N.length;z<B;z++)W=N[z]*O,J=z<B-1?N[z+1]*O:D.length,re=e(D,W,J,O,!1),re===re.next&&(re.steiner=!0),F.push(g(re));for(F.sort(r),z=0;z<F.length;z++)t(F[z],k),k=m(k,k.next);return k}function r(D,N){return D.x-N.x}function t(D,N){if(N=a(D,N),N){var k=A(N,D);m(N,N.next),m(k,k.next)}}function a(D,N){var k=N,O=D.x,F=D.y,z=-1/0,B;do{if(F<=k.y&&F>=k.next.y&&k.next.y!==k.y){var W=k.x+(F-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(W<=O&&W>z){if(z=W,W===O){if(F===k.y)return k;if(F===k.next.y)return k.next}B=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!B)return null;if(O===z)return B;var J=B,re=B.x,ne=B.y,le=1/0,$;k=B;do O>=k.x&&k.x>=re&&O!==k.x&&h(F<ne?O:z,F,re,ne,F<ne?z:O,F,k.x,k.y)&&($=Math.abs(F-k.y)/(O-k.x),y(k,D)&&($<le||$===le&&(k.x>B.x||k.x===B.x&&n(B,k)))&&(B=k,le=$)),k=k.next;while(k!==J);return B}function n(D,N){return c(D.prev,D,N.prev)<0&&c(N.next,D,D.next)<0}function f(D,N,k,O){var F=D;do F.z===null&&(F.z=l(F.x,F.y,N,k,O)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==D);F.prevZ.nextZ=null,F.prevZ=null,u(F)}function u(D){var N,k,O,F,z,B,W,J,re=1;do{for(k=D,D=null,z=null,B=0;k;){for(B++,O=k,W=0,N=0;N<re&&(W++,O=O.nextZ,!!O);N++);for(J=re;W>0||J>0&&O;)W!==0&&(J===0||!O||k.z<=O.z)?(F=k,k=k.nextZ,W--):(F=O,O=O.nextZ,J--),z?z.nextZ=F:D=F,F.prevZ=z,z=F;k=O}z.nextZ=null,re*=2}while(B>1);return D}function l(D,N,k,O,F){return D=32767*(D-k)*F,N=32767*(N-O)*F,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,D|N<<1}function g(D){var N=D,k=D;do(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next;while(N!==D);return k}function h(D,N,k,O,F,z,B,W){return(F-B)*(N-W)-(D-B)*(z-W)>=0&&(D-B)*(O-W)-(k-B)*(N-W)>=0&&(k-B)*(z-W)-(F-B)*(O-W)>=0}function T(D,N){return D.next.i!==N.i&&D.prev.i!==N.i&&!C(D,N)&&(y(D,N)&&y(N,D)&&E(D,N)&&(c(D.prev,D,N.prev)||c(D,N.prev,N))||i(D,N)&&c(D.prev,D,D.next)>0&&c(N.prev,N,N.next)>0)}function c(D,N,k){return(N.y-D.y)*(k.x-N.x)-(N.x-D.x)*(k.y-N.y)}function i(D,N){return D.x===N.x&&D.y===N.y}function d(D,N,k,O){var F=w(c(D,N,k)),z=w(c(D,N,O)),B=w(c(k,O,D)),W=w(c(k,O,N));return!!(F!==z&&B!==W||F===0&&b(D,k,N)||z===0&&b(D,O,N)||B===0&&b(k,D,O)||W===0&&b(k,N,O))}function b(D,N,k){return N.x<=Math.max(D.x,k.x)&&N.x>=Math.min(D.x,k.x)&&N.y<=Math.max(D.y,k.y)&&N.y>=Math.min(D.y,k.y)}function w(D){return D>0?1:D<0?-1:0}function C(D,N){var k=D;do{if(k.i!==D.i&&k.next.i!==D.i&&k.i!==N.i&&k.next.i!==N.i&&d(k,k.next,D,N))return!0;k=k.next}while(k!==D);return!1}function y(D,N){return c(D.prev,D,D.next)<0?c(D,N,D.next)>=0&&c(D,D.prev,N)>=0:c(D,N,D.prev)<0||c(D,D.next,N)<0}function E(D,N){var k=D,O=!1,F=(D.x+N.x)/2,z=(D.y+N.y)/2;do k.y>z!=k.next.y>z&&k.next.y!==k.y&&F<(k.next.x-k.x)*(z-k.y)/(k.next.y-k.y)+k.x&&(O=!O),k=k.next;while(k!==D);return O}function A(D,N){var k=new x(D.i,D.x,D.y),O=new x(N.i,N.x,N.y),F=D.next,z=N.prev;return D.next=N,N.prev=D,k.next=F,F.prev=k,O.next=k,k.prev=O,z.next=O,O.prev=z,O}function o(D,N,k,O){var F=new x(D,N,k);return O?(F.next=O.next,F.prev=O,O.next.prev=F,O.next=F):(F.prev=F,F.next=F),F}function M(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function x(D,N,k){this.i=D,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(D,N,k,O){var F=N&&N.length,z=F?N[0]*k:D.length,B=Math.abs(I(D,0,z,k));if(F)for(var W=0,J=N.length;W<J;W++){var re=N[W]*k,ne=W<J-1?N[W+1]*k:D.length;B-=Math.abs(I(D,re,ne,k))}var le=0;for(W=0;W<O.length;W+=3){var $=O[W]*k,Z=O[W+1]*k,ie=O[W+2]*k;le+=Math.abs((D[$]-D[ie])*(D[Z+1]-D[$+1])-(D[$]-D[Z])*(D[ie+1]-D[$+1]))}return B===0&&le===0?0:Math.abs((le-B)/B)};function I(D,N,k,O){for(var F=0,z=N,B=k-O;z<k;z+=O)F+=(D[B]-D[z])*(D[z+1]+D[B+1]),B=z;return F}H.flatten=function(D){for(var N=D[0][0].length,k={vertices:[],holes:[],dimensions:N},O=0,F=0;F<D.length;F++){for(var z=0;z<D[F].length;z++)for(var B=0;B<N;B++)k.vertices.push(D[F][z][B]);F>0&&(O+=D[F-1].length,k.holes.push(O))}return k}},6688:function(G,H,e){var m=e(78484);G.exports=function(s,L){var S=[],v=[],p=[],r={},t=[],a;function n(b){p[b]=!1,r.hasOwnProperty(b)&&Object.keys(r[b]).forEach(function(w){delete r[b][w],p[w]&&n(w)})}function f(b){var w=!1;v.push(b),p[b]=!0;var C,y;for(C=0;C<t[b].length;C++)y=t[b][C],y===a?(u(a,v),w=!0):p[y]||(w=f(y));if(w)n(b);else for(C=0;C<t[b].length;C++){y=t[b][C];var E=r[y];E||(E={},r[y]=E),E[y]=!0}return v.pop(),w}function u(b,w){var C=[].concat(w).concat(b);L?L(f):S.push(C)}function l(b){for(var w=0;w<s.length;w++)w<b&&(s[w]=[]),s[w]=s[w].filter(function(C){return C>=b})}function g(b){l(b);for(var w=s,C=m(w),y=C.components.filter(function(D){return D.length>1}),E=1/0,A,o=0;o<y.length;o++)for(var M=0;M<y[o].length;M++)y[o][M]<E&&(E=y[o][M],A=o);var x=y[A];if(!x)return!1;var I=s.map(function(D,N){return x.indexOf(N)===-1?[]:D.filter(function(k){return x.indexOf(k)!==-1})});return{leastVertex:E,adjList:I}}a=0;for(var h=s.length;a<h;){var T=g(a);if(a=T.leastVertex,t=T.adjList,t){for(var c=0;c<t.length;c++)for(var i=0;i<t[c].length;i++){var d=t[c][i];p[+d]=!1,r[d]={}}f(a),a=a+1}else a=h}if(!L)return S}},41476:function(G,H,e){var m=e(9252);G.exports=function(){return m(this).length=0,this}},74772:function(G,H,e){G.exports=e(44716)()?Array.from:e(80816)},44716:function(G){G.exports=function(){var H=Array.from,e,m;return typeof H!="function"?!1:(e=["raz","dwa"],m=H(e),!!(m&&m!==e&&m[1]==="dwa"))}},80816:function(G,H,e){var m=e(92664).iterator,P=e(60948),s=e(17024),L=e(81304),S=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,a=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;G.exports=function(u){var l=arguments[1],g=arguments[2],h,T,c,i,d,b,w,C,y,E;if(u=Object(v(u)),p(l)&&S(l),!this||this===Array||!s(this)){if(!l){if(P(u))return d=u.length,d!==1?Array.apply(null,u):(i=new Array(1),i[0]=u[0],i);if(t(u)){for(i=new Array(d=u.length),T=0;T<d;++T)i[T]=u[T];return i}}i=[]}else h=this;if(!t(u)){if((y=u[m])!==void 0){for(w=S(y).call(u),h&&(i=new h),C=w.next(),T=0;!C.done;)E=l?a.call(l,g,C.value,T):C.value,h?(n.value=E,f(i,T,n)):i[T]=E,C=w.next(),++T;d=T}else if(r(u)){for(d=u.length,h&&(i=new h),T=0,c=0;T<d;++T)E=u[T],T+1<d&&(b=E.charCodeAt(0),b>=55296&&b<=56319&&(E+=u[++T])),E=l?a.call(l,g,E,c):E,h?(n.value=E,f(i,c,n)):i[c]=E,++c;d=c}}if(d===void 0)for(d=L(u.length),h&&(i=new h(d)),T=0;T<d;++T)E=l?a.call(l,g,u[T],T):u[T],h?(n.value=E,f(i,T,n)):i[T]=E;return h&&(n.value=null,i.length=d),i}},60948:function(G){var H=Object.prototype.toString,e=H.call(function(){return arguments}());G.exports=function(m){return H.call(m)===e}},17024:function(G){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(m){return typeof m=="function"&&e(H.call(m))}},33208:function(G){G.exports=function(){}},85608:function(G,H,e){G.exports=e(37328)()?Math.sign:e(92928)},37328:function(G){G.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},92928:function(G){G.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},96936:function(G,H,e){var m=e(85608),P=Math.abs,s=Math.floor;G.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:m(L)*s(P(L)))}},81304:function(G,H,e){var m=e(96936),P=Math.max;G.exports=function(s){return P(0,m(s))}},14428:function(G,H,e){var m=e(34044),P=e(9252),s=Function.prototype.bind,L=Function.prototype.call,S=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,a){var n,f=arguments[2],u=arguments[3];return t=Object(P(t)),m(a),n=S(t),u&&n.sort(typeof u=="function"?s.call(u,t):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(l,g){return v.call(t,l)?L.call(a,f,t[l],l,t,g):r})}}},38452:function(G,H,e){G.exports=e(96276)()?Object.assign:e(81892)},96276:function(G){G.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(G,H,e){var m=e(54768),P=e(9252),s=Math.max;G.exports=function(L,S){var v,p,r=s(arguments.length,2),t;for(L=Object(P(L)),t=function(a){try{L[a]=S[a]}catch(n){v||(v=n)}},p=1;p<r;++p)S=arguments[p],m(S).forEach(t);if(v!==void 0)throw v;return L}},95920:function(G,H,e){var m=e(74772),P=e(38452),s=e(9252);G.exports=function(L){var S=Object(s(L)),v=arguments[1],p=Object(arguments[2]);if(S!==L&&!v)return S;var r={};return v?m(v,function(t){(p.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},14452:function(G,H,e){var m=Object.create,P;e(63092)()||(P=e(8672)),G.exports=function(){var s,L,S;return!P||P.level!==1?m:(s={},L={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=S}),Object.defineProperties(s,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:s}),function(v,p){return m(v===null?s:v,p)})}()},42748:function(G,H,e){G.exports=e(14428)("forEach")},69127:function(G,H,e){var m=e(42584),P={function:!0,object:!0};G.exports=function(s){return m(s)&&P[typeof s]||!1}},42584:function(G,H,e){var m=e(33208)();G.exports=function(P){return P!==m&&P!==null}},54768:function(G,H,e){G.exports=e(87888)()?Object.keys:e(89592)},87888:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(G,H,e){var m=e(42584),P=Object.keys;G.exports=function(s){return P(m(s)?Object(s):s)}},84323:function(G,H,e){var m=e(34044),P=e(42748),s=Function.prototype.call;G.exports=function(L,S){var v={},p=arguments[2];return m(S),P(L,function(r,t,a,n){v[t]=s.call(S,p,r,t,a,n)}),v}},50868:function(G,H,e){var m=e(42584),P=Array.prototype.forEach,s=Object.create,L=function(S,v){var p;for(p in S)v[p]=S[p]};G.exports=function(S){var v=s(null);return P.call(arguments,function(p){m(p)&&L(Object(p),v)}),v}},69932:function(G,H,e){G.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(G){var H=Object.create,e=Object.getPrototypeOf,m={};G.exports=function(){var P=Object.setPrototypeOf,s=arguments[0]||H;return typeof P!="function"?!1:e(P(s(null),m))===m}},8672:function(G,H,e){var m=e(69127),P=e(9252),s=Object.prototype.isPrototypeOf,L=Object.defineProperty,S={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||m(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(a,n){return t.call(v(a,n),n),a}):r=function(a,n){return v(a,n).__proto__=n,a}:r=function a(n,f){var u;return v(n,f),u=s.call(a.nullPolyfill,n),u&&delete a.nullPolyfill.__proto__,f===null&&(f=a.nullPolyfill),n.__proto__=f,u&&L(a.nullPolyfill,"__proto__",S),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(a){try{t=a.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(G){G.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},92584:function(G,H,e){var m=e(69127);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not an Object");return P}},9252:function(G,H,e){var m=e(42584);G.exports=function(P){if(!m(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(G,H,e){G.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(G){var H="razdwatrzy";G.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},93040:function(G){var H=String.prototype.indexOf;G.exports=function(e){return H.call(this,e,arguments[1])>-1}},29768:function(G){var H=Object.prototype.toString,e=H.call("");G.exports=function(m){return typeof m=="string"||m&&typeof m=="object"&&(m instanceof String||H.call(m)===e)||!1}},82252:function(G){var H=Object.create(null),e=Math.random;G.exports=function(){var m;do m=e().toString(36).slice(2);while(H[m]);return m}},52104:function(G,H,e){var m=e(69932),P=e(71056),s=e(21092),L=e(92664),S=e(85512),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");S.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",s("",t))},m&&m(p,S),delete p.prototype.constructor,p.prototype=Object.create(S.prototype,{_resolve:s(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,L.toStringTag,s("c","Array Iterator"))},76024:function(G,H,e){var m=e(60948),P=e(34044),s=e(29768),L=e(76252),S=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var a,n=arguments[2],f,u,l,g,h,T,c;if(S(r)||m(r)?a="array":s(r)?a="string":r=L(r),P(t),u=function(){l=!0},a==="array"){p.call(r,function(i){return v.call(t,n,i,u),l});return}if(a==="string"){for(h=r.length,g=0;g<h&&(T=r[g],g+1<h&&(c=T.charCodeAt(0),c>=55296&&c<=56319&&(T+=r[++g])),v.call(t,n,T,u),!l);++g);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,u),l)return;f=r.next()}}},76252:function(G,H,e){var m=e(60948),P=e(29768),s=e(52104),L=e(80940),S=e(52891),v=e(92664).iterator;G.exports=function(p){return typeof S(p)[v]=="function"?p[v]():m(p)?new s(p):P(p)?new L(p):new s(p)}},85512:function(G,H,e){var m=e(41476),P=e(38452),s=e(34044),L=e(9252),S=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,a;G.exports=a=function(n,f){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");t(this,{__list__:S("w",L(n)),__context__:S("w",f),__nextIndex__:S("w",0)}),f&&(s(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete a.prototype.constructor,t(a.prototype,P({_next:S(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:S(function(){return this._createResult(this._next())}),_createResult:S(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:S(function(n){return this.__list__[n]}),_unBind:S(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:S(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:S(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",S("c",[n]));return}this.__redo__.forEach(function(f,u){f>=n&&(this.__redo__[u]=++f)},this),this.__redo__.push(n)}}),_onDelete:S(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:S(function(){this.__redo__&&m.call(this.__redo__),this.__nextIndex__=0})}))),r(a.prototype,p.iterator,S(function(){return this}))},76368:function(G,H,e){var m=e(60948),P=e(42584),s=e(29768),L=e(92664).iterator,S=Array.isArray;G.exports=function(v){return P(v)?S(v)||s(v)||m(v)?!0:typeof v[L]=="function":!1}},80940:function(G,H,e){var m=e(69932),P=e(21092),s=e(92664),L=e(85512),S=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),S(this,"__length__",P("",p.length))},m&&m(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),S(v.prototype,s.toStringTag,P("c","String Iterator"))},52891:function(G,H,e){var m=e(76368);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not iterable");return P}},60964:function(G){function H(m,P){if(m==null)throw new TypeError("Cannot convert first argument to object");for(var s=Object(m),L=1;L<arguments.length;L++){var S=arguments[L];if(S!=null)for(var v=Object.keys(Object(S)),p=0,r=v.length;p<r;p++){var t=v[p],a=Object.getOwnPropertyDescriptor(S,t);a!==void 0&&a.enumerable&&(s[t]=S[t])}}return s}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}G.exports={assign:H,polyfill:e}},92664:function(G,H,e){G.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(G,H,e){var m=e(12296),P={object:!0,symbol:!0};G.exports=function(){var s=m.Symbol,L;if(typeof s!="function")return!1;L=s("test symbol");try{String(L)}catch{return!1}return!(!P[typeof s.iterator]||!P[typeof s.toPrimitive]||!P[typeof s.toStringTag])}},53908:function(G){G.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},96863:function(G,H,e){var m=e(21092),P=Object.create,s=Object.defineProperty,L=Object.prototype,S=P(null);G.exports=function(v){for(var p=0,r,t;S[v+(p||"")];)++p;return v+=p||"",S[v]=!0,r="@@"+v,s(L,r,m.gs(null,function(a){t||(t=!0,s(this,r,m(a)),t=!1)})),r}},53540:function(G,H,e){var m=e(21092),P=e(12296).Symbol;G.exports=function(s){return Object.defineProperties(s,{hasInstance:m("",P&&P.hasInstance||s("hasInstance")),isConcatSpreadable:m("",P&&P.isConcatSpreadable||s("isConcatSpreadable")),iterator:m("",P&&P.iterator||s("iterator")),match:m("",P&&P.match||s("match")),replace:m("",P&&P.replace||s("replace")),search:m("",P&&P.search||s("search")),species:m("",P&&P.species||s("species")),split:m("",P&&P.split||s("split")),toPrimitive:m("",P&&P.toPrimitive||s("toPrimitive")),toStringTag:m("",P&&P.toStringTag||s("toStringTag")),unscopables:m("",P&&P.unscopables||s("unscopables"))})}},73852:function(G,H,e){var m=e(21092),P=e(63948),s=Object.create(null);G.exports=function(L){return Object.defineProperties(L,{for:m(function(S){return s[S]?s[S]:s[S]=L(String(S))}),keyFor:m(function(S){var v;P(S);for(v in s)if(s[v]===S)return v})})}},18376:function(G,H,e){var m=e(21092),P=e(63948),s=e(12296).Symbol,L=e(96863),S=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,a,n,f;if(typeof s=="function")try{String(s()),f=!0}catch{}else s=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return a(l)},G.exports=a=function u(l){var g;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?s(l):(g=p(n.prototype),l=l===void 0?"":String(l),r(g,{__description__:m("",l),__name__:m("",L(l))}))},S(a),v(a),r(n.prototype,{constructor:m(a),toString:m("",function(){return this.__name__})}),r(a.prototype,{toString:m(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:m(function(){return P(this)})}),t(a.prototype,a.toPrimitive,m("",function(){var u=P(this);return typeof u=="symbol"?u:u.toString()})),t(a.prototype,a.toStringTag,m("c","Symbol")),t(n.prototype,a.toStringTag,m("c",a.prototype[a.toStringTag])),t(n.prototype,a.toPrimitive,m("c",a.prototype[a.toPrimitive]))},63948:function(G,H,e){var m=e(53908);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(G,H,e){G.exports=e(96979)()?WeakMap:e(64864)},96979:function(G){G.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},69876:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(G,H,e){var m=e(42584),P=e(69932),s=e(92584),L=e(9252),S=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,a=e(69876),n=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,g;G.exports=g=function(){var h=arguments[0],T;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return T=a&&P&&WeakMap!==g?P(new WeakMap,l(this)):this,m(h)&&(n(h)||(h=p(h))),f(T,"__weakMapData__",v("c","$weakMap$"+S())),h&&r(h,function(c){L(c),T.set(c[0],c[1])}),T},a&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:v(g)})),Object.defineProperties(g.prototype,{delete:v(function(h){return u.call(s(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(u.call(s(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(s(h),this.__weakMapData__)}),set:v(function(h,T){return f(s(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),f(g.prototype,t,v("c","WeakMap"))},61252:function(G){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(d,b,w){return Function.prototype.apply.call(d,b,w)},m;H&&typeof H.ownKeys=="function"?m=H.ownKeys:Object.getOwnPropertySymbols?m=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:m=function(d){return Object.getOwnPropertyNames(d)};function P(i){console&&console.warn&&console.warn(i)}var s=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}G.exports=L,G.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var S=10;function v(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(i){if(typeof i!="number"||i<0||s(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");S=i}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||s(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(i){return i._maxListeners===void 0?L.defaultMaxListeners:i._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var b=[],w=1;w<arguments.length;w++)b.push(arguments[w]);var C=d==="error",y=this._events;if(y!==void 0)C=C&&y.error===void 0;else if(!C)return!1;if(C){var E;if(b.length>0&&(E=b[0]),E instanceof Error)throw E;var A=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw A.context=E,A}var o=y[d];if(o===void 0)return!1;if(typeof o=="function")e(o,this,b);else for(var M=o.length,x=u(o,M),w=0;w<M;++w)e(x[w],this,b);return!0};function r(i,d,b,w){var C,y,E;if(v(b),y=i._events,y===void 0?(y=i._events=Object.create(null),i._eventsCount=0):(y.newListener!==void 0&&(i.emit("newListener",d,b.listener?b.listener:b),y=i._events),E=y[d]),E===void 0)E=y[d]=b,++i._eventsCount;else if(typeof E=="function"?E=y[d]=w?[b,E]:[E,b]:w?E.unshift(b):E.push(b),C=p(i),C>0&&E.length>C&&!E.warned){E.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=i,A.type=d,A.count=E.length,P(A)}return i}L.prototype.addListener=function(d,b){return r(this,d,b,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,b){return r(this,d,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(i,d,b){var w={fired:!1,wrapFn:void 0,target:i,type:d,listener:b},C=t.bind(w);return C.listener=b,w.wrapFn=C,C}L.prototype.once=function(d,b){return v(b),this.on(d,a(this,d,b)),this},L.prototype.prependOnceListener=function(d,b){return v(b),this.prependListener(d,a(this,d,b)),this},L.prototype.removeListener=function(d,b){var w,C,y,E,A;if(v(b),C=this._events,C===void 0)return this;if(w=C[d],w===void 0)return this;if(w===b||w.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,w.listener||b));else if(typeof w!="function"){for(y=-1,E=w.length-1;E>=0;E--)if(w[E]===b||w[E].listener===b){A=w[E].listener,y=E;break}if(y<0)return this;y===0?w.shift():l(w,y),w.length===1&&(C[d]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",d,A||b)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var b,w,C;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var y=Object.keys(w),E;for(C=0;C<y.length;++C)E=y[C],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=w[d],typeof b=="function")this.removeListener(d,b);else if(b!==void 0)for(C=b.length-1;C>=0;C--)this.removeListener(d,b[C]);return this};function n(i,d,b){var w=i._events;if(w===void 0)return[];var C=w[d];return C===void 0?[]:typeof C=="function"?b?[C.listener||C]:[C]:b?g(C):u(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(i,d){return typeof i.listenerCount=="function"?i.listenerCount(d):f.call(i,d)},L.prototype.listenerCount=f;function f(i){var d=this._events;if(d!==void 0){var b=d[i];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]};function u(i,d){for(var b=new Array(d),w=0;w<d;++w)b[w]=i[w];return b}function l(i,d){for(;d+1<i.length;d++)i[d]=i[d+1];i.pop()}function g(i){for(var d=new Array(i.length),b=0;b<d.length;++b)d[b]=i[b].listener||i[b];return d}function h(i,d){return new Promise(function(b,w){function C(E){i.removeListener(d,y),w(E)}function y(){typeof i.removeListener=="function"&&i.removeListener("error",C),b([].slice.call(arguments))}c(i,d,y,{once:!0}),d!=="error"&&T(i,C,{once:!0})})}function T(i,d,b){typeof i.on=="function"&&c(i,"error",d,b)}function c(i,d,b,w){if(typeof i.on=="function")w.once?i.once(d,b):i.on(d,b);else if(typeof i.addEventListener=="function")i.addEventListener(d,function C(y){w.once&&i.removeEventListener(d,C),b(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(G){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},12296:function(G,H,e){G.exports=e(45072)()?globalThis:e(39072)},45072:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(G,H,e){var m=e(94576);G.exports=function(P){var s=typeof P;if(s==="string"){var L=P;if(P=+P,P===0&&m(L))return!1}else if(s!=="number")return!1;return P-P<1}},47520:function(G,H,e){var m=e(72512);G.exports=P;function P(s,L,S){if(!s)throw new TypeError("must specify data as first parameter");if(S=+(S||0)|0,Array.isArray(s)&&s[0]&&typeof s[0][0]=="number"){var v=s[0].length,p=s.length*v,r,t,a,n;(!L||typeof L=="string")&&(L=new(m(L||"float32"))(p+S));var f=L.length-S;if(p!==f)throw new Error("source length "+p+" ("+v+"x"+s.length+") does not match destination length "+f);for(r=0,a=S;r<s.length;r++)for(t=0;t<v;t++)L[a++]=s[r][t]===null?NaN:s[r][t]}else if(!L||typeof L=="string"){var u=m(L||"float32");if(Array.isArray(s)||L==="array")for(L=new u(s.length+S),r=0,a=S,n=L.length;a<n;a++,r++)L[a]=s[r]===null?NaN:s[r];else S===0?L=new u(s):(L=new u(s.length+S),L.set(s,S))}else L.set(s,S);return L}},33888:function(G,H,e){var m=e(49395),P=[32,126];G.exports=s;function s(L){L=L||{};var S=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(p&&typeof p!="string"&&(p=m(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var a=[],n=t[0],f=0;n<=t[1];n++)a[f++]=String.fromCharCode(n);t=a}S=S.slice(),v.width=S[0],v.height=S[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,g),(l+=r[0])>S[0]-r[0]/2&&(l=r[0]/2,g+=r[1]);return v}},71920:function(G){G.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var S=Array.isArray(L.family)?L.family.join(", "):L.family;if(!S)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,p,v].join(" ")+"px "+S,a=L.origin||"top";if(H.cache[S]&&v<=H.cache[S].em)return e(H.cache[S],a);var n=L.canvas||H.canvas,f=n.getContext("2d"),u={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,f.font=t;var g="H",h={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(g,0,0);var T=m(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(g,0,l);var c=m(f.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+T,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(g,0,l);var i=m(f.getImageData(0,0,l,l)),d=l-i-1+T;h.baseline=h.alphabetic=d,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(g,0,l*.5);var b=m(f.getImageData(0,0,l,l));h.median=h.middle=l-b-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(g,0,l*.5);var w=m(f.getImageData(0,0,l,l));h.hanging=l-w-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(g,0,l);var C=m(f.getImageData(0,0,l,l));if(h.ideographic=l-C-1+T,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),h.upper=m(f.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),h.lower=m(f.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),h.tittle=m(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),h.ascent=m(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),h.descent=P(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var y=P(f.getImageData(0,0,l,l));h.overshoot=y-d}for(var E in h)h[E]/=v;return h.em=v,H.cache[S]=h,e(h,a)}function e(s,L){var S={};typeof L=="string"&&(L=s[L]);for(var v in s)v!=="em"&&(S[v]=s[v]-L);return S}function m(s){for(var L=s.height,S=s.data,v=3;v<S.length;v+=4)if(S[v]!==0)return Math.floor((v-3)*.25/L)}function P(s){for(var L=s.height,S=s.data,v=S.length-1;v>0;v-=4)if(S[v]!==0)return Math.floor((v-3)*.25/L)}},46492:function(G,H,e){var m=e(90720),P=Object.prototype.toString,s=Object.prototype.hasOwnProperty,L=function(t,a,n){for(var f=0,u=t.length;f<u;f++)s.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},S=function(t,a,n){for(var f=0,u=t.length;f<u;f++)n==null?a(t.charAt(f),f,t):a.call(n,t.charAt(f),f,t)},v=function(t,a,n){for(var f in t)s.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},p=function(t,a,n){if(!m(a))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),P.call(t)==="[object Array]"?L(t,a,f):typeof t=="string"?S(t,a,f):v(t,a,f)};G.exports=p},74336:function(G){var H="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,m=Math.max,P="[object Function]",s=function(p,r){for(var t=[],a=0;a<p.length;a+=1)t[a]=p[a];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},L=function(p,r){for(var t=[],a=r,n=0;a<p.length;a+=1,n+=1)t[n]=p[a];return t},S=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};G.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(H+r);for(var t=L(arguments,1),a,n=function(){if(this instanceof a){var h=r.apply(this,s(t,arguments));return Object(h)===h?h:this}return r.apply(p,s(t,arguments))},f=m(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(a=Function("binder","return function ("+S(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var g=function(){};g.prototype=r.prototype,a.prototype=new g,g.prototype=null}return a}},8844:function(G,H,e){var m=e(74336);G.exports=Function.prototype.bind||m},13380:function(G){G.exports=H;function H(e,m){if(typeof e!="string")throw new TypeError("must specify type string");if(m=m||{},typeof document>"u"&&!m.canvas)return null;var P=m.canvas||document.createElement("canvas");typeof m.width=="number"&&(P.width=m.width),typeof m.height=="number"&&(P.height=m.height);var s=m,L;try{var S=[e];e.indexOf("webgl")===0&&S.push("experimental-"+e);for(var v=0;v<S.length;v++)if(L=P.getContext(S[v],s),L)return L}catch{L=null}return L||null}},53664:function(G,H,e){var m,P=SyntaxError,s=Function,L=TypeError,S=function(x){try{return s('"use strict"; return ('+x+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),a=e(69572)(),n=Object.getPrototypeOf||(a?function(x){return x.__proto__}:null),f={},u=typeof Uint8Array>"u"||!n?m:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?m:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?m:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?m:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):m,"%Symbol%":t?Symbol:m,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet};if(n)try{null.error}catch(x){var g=n(n(x));l["%Error.prototype%"]=g}var h=function x(I){var D;if(I==="%AsyncFunction%")D=S("async function () {}");else if(I==="%GeneratorFunction%")D=S("function* () {}");else if(I==="%AsyncGeneratorFunction%")D=S("async function* () {}");else if(I==="%AsyncGenerator%"){var N=x("%AsyncGeneratorFunction%");N&&(D=N.prototype)}else if(I==="%AsyncIteratorPrototype%"){var k=x("%AsyncGenerator%");k&&n&&(D=n(k.prototype))}return l[I]=D,D},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),i=e(92064),d=c.call(Function.call,Array.prototype.concat),b=c.call(Function.apply,Array.prototype.splice),w=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,o=function(I){var D=C(I,0,1),N=C(I,-1);if(D==="%"&&N!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&D!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var k=[];return w(I,E,function(O,F,z,B){k[k.length]=z?w(B,A,"$1"):F||O}),k},M=function(I,D){var N=I,k;if(i(T,N)&&(k=T[N],N="%"+k[0]+"%"),i(l,N)){var O=l[N];if(O===f&&(O=h(N)),typeof O>"u"&&!D)throw new L("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:k,name:N,value:O}}throw new P("intrinsic "+I+" does not exist!")};G.exports=function(I,D){if(typeof I!="string"||I.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new L('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,I)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=o(I),k=N.length>0?N[0]:"",O=M("%"+k+"%",D),F=O.name,z=O.value,B=!1,W=O.alias;W&&(k=W[0],b(N,d([0,1],W)));for(var J=1,re=!0;J<N.length;J+=1){var ne=N[J],le=C(ne,0,1),$=C(ne,-1);if((le==='"'||le==="'"||le==="`"||$==='"'||$==="'"||$==="`")&&le!==$)throw new P("property names with quotes must have matching quotes");if((ne==="constructor"||!re)&&(B=!0),k+="."+ne,F="%"+k+"%",i(l,F))z=l[F];else if(z!=null){if(!(ne in z)){if(!D)throw new L("base intrinsic for "+I+" exists, but the property is not available.");return}if(v&&J+1>=N.length){var Z=v(z,ne);re=!!Z,re&&"get"in Z&&!("originalValue"in Z.get)?z=Z.get:z=z[ne]}else re=i(z,ne),z=z[ne];re&&!B&&(l[F]=z)}}return z}},12408:function(G){G.exports=H;function H(e,m){var P=m[0],s=m[1],L=m[2],S=m[3],v=m[4],p=m[5],r=m[6],t=m[7],a=m[8],n=m[9],f=m[10],u=m[11],l=m[12],g=m[13],h=m[14],T=m[15];return e[0]=p*(f*T-u*h)-n*(r*T-t*h)+g*(r*u-t*f),e[1]=-(s*(f*T-u*h)-n*(L*T-S*h)+g*(L*u-S*f)),e[2]=s*(r*T-t*h)-p*(L*T-S*h)+g*(L*t-S*r),e[3]=-(s*(r*u-t*f)-p*(L*u-S*f)+n*(L*t-S*r)),e[4]=-(v*(f*T-u*h)-a*(r*T-t*h)+l*(r*u-t*f)),e[5]=P*(f*T-u*h)-a*(L*T-S*h)+l*(L*u-S*f),e[6]=-(P*(r*T-t*h)-v*(L*T-S*h)+l*(L*t-S*r)),e[7]=P*(r*u-t*f)-v*(L*u-S*f)+a*(L*t-S*r),e[8]=v*(n*T-u*g)-a*(p*T-t*g)+l*(p*u-t*n),e[9]=-(P*(n*T-u*g)-a*(s*T-S*g)+l*(s*u-S*n)),e[10]=P*(p*T-t*g)-v*(s*T-S*g)+l*(s*t-S*p),e[11]=-(P*(p*u-t*n)-v*(s*u-S*n)+a*(s*t-S*p)),e[12]=-(v*(n*h-f*g)-a*(p*h-r*g)+l*(p*f-r*n)),e[13]=P*(n*h-f*g)-a*(s*h-L*g)+l*(s*f-L*n),e[14]=-(P*(p*h-r*g)-v*(s*h-L*g)+l*(s*r-L*p)),e[15]=P*(p*f-r*n)-v*(s*f-L*n)+a*(s*r-L*p),e}},76860:function(G){G.exports=H;function H(e){var m=new Float32Array(16);return m[0]=e[0],m[1]=e[1],m[2]=e[2],m[3]=e[3],m[4]=e[4],m[5]=e[5],m[6]=e[6],m[7]=e[7],m[8]=e[8],m[9]=e[9],m[10]=e[10],m[11]=e[11],m[12]=e[12],m[13]=e[13],m[14]=e[14],m[15]=e[15],m}},64492:function(G){G.exports=H;function H(e,m){return e[0]=m[0],e[1]=m[1],e[2]=m[2],e[3]=m[3],e[4]=m[4],e[5]=m[5],e[6]=m[6],e[7]=m[7],e[8]=m[8],e[9]=m[9],e[10]=m[10],e[11]=m[11],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15],e}},54212:function(G){G.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(G){G.exports=H;function H(e){var m=e[0],P=e[1],s=e[2],L=e[3],S=e[4],v=e[5],p=e[6],r=e[7],t=e[8],a=e[9],n=e[10],f=e[11],u=e[12],l=e[13],g=e[14],h=e[15],T=m*v-P*S,c=m*p-s*S,i=m*r-L*S,d=P*p-s*v,b=P*r-L*v,w=s*r-L*p,C=t*l-a*u,y=t*g-n*u,E=t*h-f*u,A=a*g-n*l,o=a*h-f*l,M=n*h-f*g;return T*M-c*o+i*A+d*E-b*y+w*C}},61784:function(G){G.exports=H;function H(e,m){var P=m[0],s=m[1],L=m[2],S=m[3],v=P+P,p=s+s,r=L+L,t=P*v,a=s*v,n=s*p,f=L*v,u=L*p,l=L*r,g=S*v,h=S*p,T=S*r;return e[0]=1-n-l,e[1]=a+T,e[2]=f-h,e[3]=0,e[4]=a-T,e[5]=1-t-l,e[6]=u+g,e[7]=0,e[8]=f+h,e[9]=u-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(G){G.exports=H;function H(e,m,P){var s,L,S,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,s=Math.sin(m),L=Math.cos(m),S=1-L,e[0]=v*v*S+L,e[1]=p*v*S+r*s,e[2]=r*v*S-p*s,e[3]=0,e[4]=v*p*S-r*s,e[5]=p*p*S+L,e[6]=r*p*S+v*s,e[7]=0,e[8]=v*r*S+p*s,e[9]=p*r*S-v*s,e[10]=r*r*S+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(G){G.exports=H;function H(e,m,P){var s=m[0],L=m[1],S=m[2],v=m[3],p=s+s,r=L+L,t=S+S,a=s*p,n=s*r,f=s*t,u=L*r,l=L*t,g=S*t,h=v*p,T=v*r,c=v*t;return e[0]=1-(u+g),e[1]=n+c,e[2]=f-T,e[3]=0,e[4]=n-c,e[5]=1-(a+g),e[6]=l+h,e[7]=0,e[8]=f+T,e[9]=l-h,e[10]=1-(a+u),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(G){G.exports=H;function H(e,m){return e[0]=m[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=m[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=m[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(G){G.exports=H;function H(e,m){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=m[0],e[13]=m[1],e[14]=m[2],e[15]=1,e}},21856:function(G){G.exports=H;function H(e,m){var P=Math.sin(m),s=Math.cos(m);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(G){G.exports=H;function H(e,m){var P=Math.sin(m),s=Math.cos(m);return e[0]=s,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(G){G.exports=H;function H(e,m){var P=Math.sin(m),s=Math.cos(m);return e[0]=s,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(G){G.exports=H;function H(e,m,P,s,L,S,v){var p=1/(P-m),r=1/(L-s),t=1/(S-v);return e[0]=S*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S*2*r,e[6]=0,e[7]=0,e[8]=(P+m)*p,e[9]=(L+s)*r,e[10]=(v+S)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*S*2*t,e[15]=0,e}},36635:function(G){G.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(G,H,e){G.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(G){G.exports=H;function H(e,m){var P=m[0],s=m[1],L=m[2],S=m[3],v=m[4],p=m[5],r=m[6],t=m[7],a=m[8],n=m[9],f=m[10],u=m[11],l=m[12],g=m[13],h=m[14],T=m[15],c=P*p-s*v,i=P*r-L*v,d=P*t-S*v,b=s*r-L*p,w=s*t-S*p,C=L*t-S*r,y=a*g-n*l,E=a*h-f*l,A=a*T-u*l,o=n*h-f*g,M=n*T-u*g,x=f*T-u*h,I=c*x-i*M+d*o+b*A-w*E+C*y;return I?(I=1/I,e[0]=(p*x-r*M+t*o)*I,e[1]=(L*M-s*x-S*o)*I,e[2]=(g*C-h*w+T*b)*I,e[3]=(f*w-n*C-u*b)*I,e[4]=(r*A-v*x-t*E)*I,e[5]=(P*x-L*A+S*E)*I,e[6]=(h*d-l*C-T*i)*I,e[7]=(a*C-f*d+u*i)*I,e[8]=(v*M-p*A+t*y)*I,e[9]=(s*A-P*M-S*y)*I,e[10]=(l*w-g*d+T*c)*I,e[11]=(n*d-a*w-u*c)*I,e[12]=(p*E-v*o-r*y)*I,e[13]=(P*o-s*E+L*y)*I,e[14]=(g*i-l*b-h*c)*I,e[15]=(a*b-n*i+f*c)*I,e):null}},56508:function(G,H,e){var m=e(36635);G.exports=P;function P(s,L,S,v){var p,r,t,a,n,f,u,l,g,h,T=L[0],c=L[1],i=L[2],d=v[0],b=v[1],w=v[2],C=S[0],y=S[1],E=S[2];return Math.abs(T-C)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(i-E)<1e-6?m(s):(u=T-C,l=c-y,g=i-E,h=1/Math.sqrt(u*u+l*l+g*g),u*=h,l*=h,g*=h,p=b*g-w*l,r=w*u-d*g,t=d*l-b*u,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),a=l*t-g*r,n=g*p-u*t,f=u*r-l*p,h=Math.sqrt(a*a+n*n+f*f),h?(h=1/h,a*=h,n*=h,f*=h):(a=0,n=0,f=0),s[0]=p,s[1]=a,s[2]=u,s[3]=0,s[4]=r,s[5]=n,s[6]=l,s[7]=0,s[8]=t,s[9]=f,s[10]=g,s[11]=0,s[12]=-(p*T+r*c+t*i),s[13]=-(a*T+n*c+f*i),s[14]=-(u*T+l*c+g*i),s[15]=1,s)}},80944:function(G){G.exports=H;function H(e,m,P){var s=m[0],L=m[1],S=m[2],v=m[3],p=m[4],r=m[5],t=m[6],a=m[7],n=m[8],f=m[9],u=m[10],l=m[11],g=m[12],h=m[13],T=m[14],c=m[15],i=P[0],d=P[1],b=P[2],w=P[3];return e[0]=i*s+d*p+b*n+w*g,e[1]=i*L+d*r+b*f+w*h,e[2]=i*S+d*t+b*u+w*T,e[3]=i*v+d*a+b*l+w*c,i=P[4],d=P[5],b=P[6],w=P[7],e[4]=i*s+d*p+b*n+w*g,e[5]=i*L+d*r+b*f+w*h,e[6]=i*S+d*t+b*u+w*T,e[7]=i*v+d*a+b*l+w*c,i=P[8],d=P[9],b=P[10],w=P[11],e[8]=i*s+d*p+b*n+w*g,e[9]=i*L+d*r+b*f+w*h,e[10]=i*S+d*t+b*u+w*T,e[11]=i*v+d*a+b*l+w*c,i=P[12],d=P[13],b=P[14],w=P[15],e[12]=i*s+d*p+b*n+w*g,e[13]=i*L+d*r+b*f+w*h,e[14]=i*S+d*t+b*u+w*T,e[15]=i*v+d*a+b*l+w*c,e}},97688:function(G){G.exports=H;function H(e,m,P,s,L,S,v){var p=1/(m-P),r=1/(s-L),t=1/(S-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(m+P)*p,e[13]=(L+s)*r,e[14]=(v+S)*t,e[15]=1,e}},51296:function(G){G.exports=H;function H(e,m,P,s,L){var S=1/Math.tan(m/2),v=1/(s-L);return e[0]=S/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+s)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*s*v,e[15]=0,e}},63688:function(G){G.exports=H;function H(e,m,P,s){var L=Math.tan(m.upDegrees*Math.PI/180),S=Math.tan(m.downDegrees*Math.PI/180),v=Math.tan(m.leftDegrees*Math.PI/180),p=Math.tan(m.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(L+S);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(L-S)*t*.5,e[10]=s/(P-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*P/(P-s),e[15]=0,e}},30016:function(G){G.exports=H;function H(e,m,P,s){var L=s[0],S=s[1],v=s[2],p=Math.sqrt(L*L+S*S+v*v),r,t,a,n,f,u,l,g,h,T,c,i,d,b,w,C,y,E,A,o,M,x,I,D;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,S*=p,v*=p,r=Math.sin(P),t=Math.cos(P),a=1-t,n=m[0],f=m[1],u=m[2],l=m[3],g=m[4],h=m[5],T=m[6],c=m[7],i=m[8],d=m[9],b=m[10],w=m[11],C=L*L*a+t,y=S*L*a+v*r,E=v*L*a-S*r,A=L*S*a-v*r,o=S*S*a+t,M=v*S*a+L*r,x=L*v*a+S*r,I=S*v*a-L*r,D=v*v*a+t,e[0]=n*C+g*y+i*E,e[1]=f*C+h*y+d*E,e[2]=u*C+T*y+b*E,e[3]=l*C+c*y+w*E,e[4]=n*A+g*o+i*M,e[5]=f*A+h*o+d*M,e[6]=u*A+T*o+b*M,e[7]=l*A+c*o+w*M,e[8]=n*x+g*I+i*D,e[9]=f*x+h*I+d*D,e[10]=u*x+T*I+b*D,e[11]=l*x+c*I+w*D,m!==e&&(e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e)}},15456:function(G){G.exports=H;function H(e,m,P){var s=Math.sin(P),L=Math.cos(P),S=m[4],v=m[5],p=m[6],r=m[7],t=m[8],a=m[9],n=m[10],f=m[11];return m!==e&&(e[0]=m[0],e[1]=m[1],e[2]=m[2],e[3]=m[3],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[4]=S*L+t*s,e[5]=v*L+a*s,e[6]=p*L+n*s,e[7]=r*L+f*s,e[8]=t*L-S*s,e[9]=a*L-v*s,e[10]=n*L-p*s,e[11]=f*L-r*s,e}},64840:function(G){G.exports=H;function H(e,m,P){var s=Math.sin(P),L=Math.cos(P),S=m[0],v=m[1],p=m[2],r=m[3],t=m[8],a=m[9],n=m[10],f=m[11];return m!==e&&(e[4]=m[4],e[5]=m[5],e[6]=m[6],e[7]=m[7],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[0]=S*L-t*s,e[1]=v*L-a*s,e[2]=p*L-n*s,e[3]=r*L-f*s,e[8]=S*s+t*L,e[9]=v*s+a*L,e[10]=p*s+n*L,e[11]=r*s+f*L,e}},4192:function(G){G.exports=H;function H(e,m,P){var s=Math.sin(P),L=Math.cos(P),S=m[0],v=m[1],p=m[2],r=m[3],t=m[4],a=m[5],n=m[6],f=m[7];return m!==e&&(e[8]=m[8],e[9]=m[9],e[10]=m[10],e[11]=m[11],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[0]=S*L+t*s,e[1]=v*L+a*s,e[2]=p*L+n*s,e[3]=r*L+f*s,e[4]=t*L-S*s,e[5]=a*L-v*s,e[6]=n*L-p*s,e[7]=f*L-r*s,e}},68152:function(G){G.exports=H;function H(e,m,P){var s=P[0],L=P[1],S=P[2];return e[0]=m[0]*s,e[1]=m[1]*s,e[2]=m[2]*s,e[3]=m[3]*s,e[4]=m[4]*L,e[5]=m[5]*L,e[6]=m[6]*L,e[7]=m[7]*L,e[8]=m[8]*S,e[9]=m[9]*S,e[10]=m[10]*S,e[11]=m[11]*S,e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15],e}},89412:function(G){G.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(G){G.exports=H;function H(e,m,P){var s=P[0],L=P[1],S=P[2],v,p,r,t,a,n,f,u,l,g,h,T;return m===e?(e[12]=m[0]*s+m[4]*L+m[8]*S+m[12],e[13]=m[1]*s+m[5]*L+m[9]*S+m[13],e[14]=m[2]*s+m[6]*L+m[10]*S+m[14],e[15]=m[3]*s+m[7]*L+m[11]*S+m[15]):(v=m[0],p=m[1],r=m[2],t=m[3],a=m[4],n=m[5],f=m[6],u=m[7],l=m[8],g=m[9],h=m[10],T=m[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=a,e[5]=n,e[6]=f,e[7]=u,e[8]=l,e[9]=g,e[10]=h,e[11]=T,e[12]=v*s+a*L+l*S+m[12],e[13]=p*s+n*L+g*S+m[13],e[14]=r*s+f*L+h*S+m[14],e[15]=t*s+u*L+T*S+m[15]),e}},86520:function(G){G.exports=H;function H(e,m){if(e===m){var P=m[1],s=m[2],L=m[3],S=m[6],v=m[7],p=m[11];e[1]=m[4],e[2]=m[8],e[3]=m[12],e[4]=P,e[6]=m[9],e[7]=m[13],e[8]=s,e[9]=S,e[11]=m[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=m[0],e[1]=m[4],e[2]=m[8],e[3]=m[12],e[4]=m[1],e[5]=m[5],e[6]=m[9],e[7]=m[13],e[8]=m[2],e[9]=m[6],e[10]=m[10],e[11]=m[14],e[12]=m[3],e[13]=m[7],e[14]=m[11],e[15]=m[15];return e}},23352:function(G,H,e){var m=e(42771),P=e(55616),s=e(28624),L=e(55212),S=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),a=e(58908),n=e(65819),f=e(23464),u=e(63768),l=e(50896),g=e(71920),h=e(47520),T=e(308),c=T.nextPow2,i=new S,d=!1;if(document.body){var b=document.body.appendChild(document.createElement("div"));b.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(b).fontStretch&&(d=!0),document.body.removeChild(b)}var w=function(E){C(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=L(E),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||s({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(E)?E:{})};w.prototype.createShader=function(){var E=this.regl,A=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(M,x){return[x.atlas.width,x.atlas.height]},atlasDim:function(M,x){return[x.atlas.cols,x.atlas.rows]},atlas:function(M,x){return x.atlas.texture},charStep:function(M,x){return x.atlas.step},em:function(M,x){return x.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),o={};return{regl:E,draw:A,atlas:o}},w.prototype.update=function(E){var A=this;if(typeof E=="string")E={text:E};else if(!E)return;E=P(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Me){return parseFloat(Me)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=h(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=w.baseFontSize+"px sans-serif");var o=!1,M=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Me,Ve){if(typeof Me=="string")try{Me=m.parse(Me)}catch{Me=m.parse(w.baseFontSize+"px "+Me)}else{var tt=Me.style,it=Me.weight,Je=Me.stretch,Qe=Me.variant;Me=m.parse(m.stringify(Me)),tt&&(Me.style=tt),it&&(Me.weight=it),Je&&(Me.stretch=Je),Qe&&(Me.variant=Qe)}var ct=m.stringify({size:w.baseFontSize,family:Me.family,stretch:d?Me.stretch:void 0,variant:Me.variant,weight:Me.weight,style:Me.style}),ht=n(Me.size),dt=Math.round(ht[0]*f(ht[1]));if(dt!==A.fontSize[Ve]&&(M=!0,A.fontSize[Ve]=dt),(!A.font[Ve]||ct!=A.font[Ve].baseString)&&(o=!0,A.font[Ve]=w.fonts[ct],!A.font[Ve])){var Tt=Me.family.join(", "),Et=[Me.style];Me.style!=Me.variant&&Et.push(Me.variant),Me.variant!=Me.weight&&Et.push(Me.weight),d&&Me.weight!=Me.stretch&&Et.push(Me.stretch),A.font[Ve]={baseString:ct,family:Tt,weight:Me.weight,stretch:Me.stretch,style:Me.style,variant:Me.variant,width:{},kerning:{},metrics:g(Tt,{origin:"top",fontSize:w.baseFontSize,fontStyle:Et.join(" ")})},w.fonts[ct]=A.font[Ve]}}),(o||M)&&this.font.forEach(function(Me,Ve){var tt=m.stringify({size:A.fontSize[Ve],family:Me.family,stretch:d?Me.stretch:void 0,variant:Me.variant,weight:Me.weight,style:Me.style});if(A.fontAtlas[Ve]=A.shader.atlas[tt],!A.fontAtlas[Ve]){var it=Me.metrics;A.shader.atlas[tt]=A.fontAtlas[Ve]={fontString:tt,step:Math.ceil(A.fontSize[Ve]*it.bottom*.5)*2,em:A.fontSize[Ve],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}E.text==null&&(E.text=A.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var x=Array(E.position.length*.5),I=0;I<x.length;I++)x[I]=E.text;E.text=x}var D;if(E.text!=null||o){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var N=1;N<E.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+E.text[N-1].length,this.count+=E.text[N].length,this.counts.push(E.text[N].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(Me,Ve){w.atlasContext.font=Me.baseString;for(var tt=A.fontAtlas[Ve],it=0;it<A.text.length;it++){var Je=A.text.charAt(it);if(tt.ids[Je]==null&&(tt.ids[Je]=tt.chars.length,tt.chars.push(Je),D.push(Je)),Me.width[Je]==null&&(Me.width[Je]=w.atlasContext.measureText(Je).width/w.baseFontSize,A.kerning)){var Qe=[];for(var ct in Me.width)Qe.push(ct+Je,Je+ct);l(Me.kerning,u(Me.family,{pairs:Qe}))}}})}if(E.position)if(E.position.length>2){for(var k=!E.position[0].length,O=r.mallocFloat(this.count*2),F=0,z=0;F<this.counts.length;F++){var B=this.counts[F];if(k)for(var W=0;W<B;W++)O[z++]=E.position[F*2],O[z++]=E.position[F*2+1];else for(var J=0;J<B;J++)O[z++]=E.position[F][0],O[z++]=E.position[F][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),r.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||o){var re=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var le=0,$=0;le<this.counts.length;le++){for(var Z=this.counts[le],ie=this.font[le]||this.font[0],X=this.fontAtlas[le]||this.fontAtlas[0],Q=0;Q<Z;Q++){var oe=this.text.charAt($),j=this.text.charAt($-1);if(re[$]=X.ids[oe],ne[$*2]=ie.width[oe],Q){var Y=ne[$*2-2],se=ne[$*2],te=ne[$*2-1],fe=te+Y*.5+se*.5;if(this.kerning){var ge=ie.kerning[j+oe];ge&&(fe+=ge*.001)}ne[$*2+1]=fe}else ne[$*2+1]=ne[$*2]*.5;$++}this.textWidth.push(ne.length?ne[$*2-2]*.5+ne[$*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(re),r.freeFloat(ne),D.length&&this.font.forEach(function(Me,Ve){var tt=A.fontAtlas[Ve],it=tt.step,Je=Math.floor(w.maxAtlasSize/it),Qe=Math.min(Je,tt.chars.length),ct=Math.ceil(tt.chars.length/Qe),ht=c(Qe*it),dt=c(ct*it);tt.width=ht,tt.height=dt,tt.rows=ct,tt.cols=Qe,tt.em&&tt.texture({data:p({canvas:w.atlasCanvas,font:tt.fontString,chars:tt.chars,shape:[ht,dt],step:[it,it]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Me,Ve){var tt=Array.isArray(A.align)?A.align.length>1?A.align[Ve]:A.align[0]:A.align;if(typeof tt=="number")return tt;switch(tt){case"right":case"end":return-Me;case"center":case"centre":case"middle":return-Me*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Me,Ve){var tt=(A.font[Ve]||A.font[0]).metrics,it=0;return it+=tt.bottom*.5,typeof Me=="number"?it+=Me-tt.baseline:it+=-tt[Me],it*=-1,it})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var be;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var xe=E.color.length;be=r.mallocUint8(xe);for(var _e=(E.color.subarray||E.color.slice).bind(E.color),De=0;De<xe;De+=4)be.set(v(_e(De,De+4),"uint8"),De)}else{var Fe=E.color.length;be=r.mallocUint8(Fe*4);for(var Te=0;Te<Fe;Te++)be.set(v(E.color[Te]||0,"uint8"),Te*4)}this.color=be}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Re=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Re){var Se=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Se);for(var ke=0;ke<this.batch.length;ke++)this.batch[ke]={count:this.counts.length>1?this.counts[ke]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ke]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(ke*4,ke*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ke]:this.opacity,baseline:this.baselineOffset[ke]!=null?this.baselineOffset[ke]:this.baselineOffset[0],align:this.align?this.alignOffset[ke]!=null?this.alignOffset[ke]:this.alignOffset[0]:0,atlas:this.fontAtlas[ke]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(ke*2,ke*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function C(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}G.exports=w},55212:function(G,H,e){var m=e(55616);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},s(r)?r={container:r}:L(r)?r={container:r}:S(r)?r={gl:r}:r=m(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}s(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{r.gl=r.canvas.getContext(a,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function s(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function S(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(G){G.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),m=[],P=0;P<H.length-1;P++)m.push(H[P],e[P]||"");return m.push(H[P]),m.join("")}},2304:function(G,H,e){var m=e(53664),P=m("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}G.exports=P},52264:function(G,H,e){var m=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=m,G.exports=P},89184:function(G,H,e){var m=e(24200);function P(){var s=!1;try{var L=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{s=!1}return s}G.exports=m&&P()},39640:function(G,H,e){var m=e(53664),P=m("%Object.defineProperty%",!0),s=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};s.hasArrayLengthDefineBug=function(){if(!s())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},G.exports=s},69572:function(G){var H={foo:{}},e=Object;G.exports=function(){return{__proto__:H}.foo===H.foo&&!({__proto__:null}instanceof e)}},71080:function(G,H,e){var m=typeof Symbol<"u"&&Symbol,P=e(89320);G.exports=function(){return typeof m!="function"||typeof Symbol!="function"||typeof m("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},m=Symbol("test"),P=Object(m);if(typeof m=="string"||Object.prototype.toString.call(m)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var s=42;e[m]=s;for(m in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==m||!Object.prototype.propertyIsEnumerable.call(e,m))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(e,m);if(S.value!==s||S.enumerable!==!0)return!1}return!0}},46672:function(G,H,e){var m=e(89320);G.exports=function(){return m()&&!!Symbol.toStringTag}},92064:function(G,H,e){var m=Function.prototype.call,P=Object.prototype.hasOwnProperty,s=e(8844);G.exports=s.call(m,P)},35984:function(G,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,m,P,s,L){var S,v,p=L*8-s-1,r=(1<<p)-1,t=r>>1,a=-7,n=P?L-1:0,f=P?-1:1,u=e[m+n];for(n+=f,S=u&(1<<-a)-1,u>>=-a,a+=p;a>0;S=S*256+e[m+n],n+=f,a-=8);for(v=S&(1<<-a)-1,S>>=-a,a+=s;a>0;v=v*256+e[m+n],n+=f,a-=8);if(S===0)S=1-t;else{if(S===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,s),S=S-t}return(u?-1:1)*v*Math.pow(2,S-s)},H.write=function(e,m,P,s,L,S){var v,p,r,t=S*8-L-1,a=(1<<t)-1,n=a>>1,f=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=s?0:S-1,l=s?1:-1,g=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(p=isNaN(m)?1:0,v=a):(v=Math.floor(Math.log(m)/Math.LN2),m*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?m+=f/r:m+=f*Math.pow(2,1-n),m*r>=2&&(v++,r/=2),v+n>=a?(p=0,v=a):v+n>=1?(p=(m*r-1)*Math.pow(2,L),v=v+n):(p=m*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+u]=p&255,u+=l,p/=256,L-=8);for(v=v<<L|p,t+=L;t>0;e[P+u]=v&255,u+=l,v/=256,t-=8);e[P+u-l]|=g*128}},6768:function(G){typeof Object.create=="function"?G.exports=function(e,m){m&&(e.super_=m,e.prototype=Object.create(m.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,m){if(m){e.super_=m;var P=function(){};P.prototype=m.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(G,H,e){var m=e(46672)(),P=e(99676),s=P("Object.prototype.toString"),L=function(r){return m&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:s(r)==="[object Arguments]"},S=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&s(r)!=="[object Array]"&&s(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=S,G.exports=v?L:S},24200:function(G){G.exports=!0},90720:function(G){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,m,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{m=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,m)}catch(T){T!==P&&(e=null)}else e=null;var s=/^\s*class\b/,L=function(c){try{var i=H.call(c);return s.test(i)}catch{return!1}},S=function(c){try{return L(c)?!1:(H.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",a="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(g=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var i=v.call(c);return(i===a||i===n||i===f||i===p)&&c("")==null}catch{}return!1})}G.exports=e?function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,m)}catch(i){if(i!==P)return!1}return!L(c)&&S(c)}:function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return S(c);if(L(c))return!1;var i=v.call(c);return i!==r&&i!==t&&!/^\[object HTML/.test(i)?!1:S(c)}},84420:function(G,H,e){var m=Object.prototype.toString,P=Function.prototype.toString,s=/^\s*(?:function)?\*/,L=e(46672)(),S=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(s.test(P.call(t)))return!0;if(!L){var a=m.call(t);return a==="[object GeneratorFunction]"}if(!S)return!1;if(typeof p>"u"){var n=v();p=n?S(n):!1}return S(t)===p}},96604:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(G){G.exports=function(e){return e!==e}},1560:function(G,H,e){var m=e(57916),P=e(81288),s=e(85992),L=e(57740),S=e(59736),v=m(L(),Number);P(v,{getPolyfill:L,implementation:s,shim:S}),G.exports=v},57740:function(G,H,e){var m=e(85992);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:m}},59736:function(G,H,e){var m=e(81288),P=e(57740);G.exports=function(){var L=P();return m(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},18400:function(G){G.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},58908:function(G){var H=Object.prototype.toString;G.exports=function(e){var m;return H.call(e)==="[object Object]"&&(m=Object.getPrototypeOf(e),m===null||m===Object.getPrototypeOf({}))}},94576:function(G){G.exports=function(H){for(var e=H.length,m,P=0;P<e;P++)if(m=H.charCodeAt(P),(m<9||m>13)&&m!==32&&m!==133&&m!==160&&m!==5760&&m!==6158&&(m<8192||m>8205)&&m!==8232&&m!==8233&&m!==8239&&m!==8287&&m!==8288&&m!==12288&&m!==65279)return!1;return!0}},53520:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(G,H,e){var m=e(46492),P=e(63436),s=e(99676),L=s("Object.prototype.toString"),S=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=s("Array.prototype.indexOf",!0)||function(g,h){for(var T=0;T<g.length;T+=1)if(g[T]===h)return T;return-1},a=s("String.prototype.slice"),n={},f=Object.getPrototypeOf;S&&v&&f&&m(r,function(l){var g=new p[l];if(Symbol.toStringTag in g){var h=f(g),T=v(h,Symbol.toStringTag);if(!T){var c=f(h);T=v(c,Symbol.toStringTag)}n[l]=T.get}});var u=function(g){var h=!1;return m(n,function(T,c){if(!h)try{h=T.call(g)===c}catch{}}),h};G.exports=function(g){if(!g||typeof g!="object")return!1;if(!S||!(Symbol.toStringTag in g)){var h=a(L(g),8,-1);return t(r,h)>-1}return v?u(g):!1}},76244:function(G){G.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},62644:function(G,H,e){G.exports=P;var m=e(93784);function P(s,L){L||(L=s,s=window);var S=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function a(b){var w=!1;return"altKey"in b&&(w=w||b.altKey!==r.alt,r.alt=!!b.altKey),"shiftKey"in b&&(w=w||b.shiftKey!==r.shift,r.shift=!!b.shiftKey),"ctrlKey"in b&&(w=w||b.ctrlKey!==r.control,r.control=!!b.ctrlKey),"metaKey"in b&&(w=w||b.metaKey!==r.meta,r.meta=!!b.metaKey),w}function n(b,w){var C=m.x(w),y=m.y(w);"buttons"in w&&(b=w.buttons|0),(b!==S||C!==v||y!==p||a(w))&&(S=b|0,v=C||0,p=y||0,L&&L(S,v,p,r))}function f(b){n(0,b)}function u(){(S||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,S=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function l(b){a(b)&&L&&L(S,v,p,r)}function g(b){m.buttons(b)===0?n(0,b):n(S,b)}function h(b){n(S|m.buttons(b),b)}function T(b){n(S&~m.buttons(b),b)}function c(){t||(t=!0,s.addEventListener("mousemove",g),s.addEventListener("mousedown",h),s.addEventListener("mouseup",T),s.addEventListener("mouseleave",f),s.addEventListener("mouseenter",f),s.addEventListener("mouseout",f),s.addEventListener("mouseover",f),s.addEventListener("blur",u),s.addEventListener("keyup",l),s.addEventListener("keydown",l),s.addEventListener("keypress",l),s!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function i(){t&&(t=!1,s.removeEventListener("mousemove",g),s.removeEventListener("mousedown",h),s.removeEventListener("mouseup",T),s.removeEventListener("mouseleave",f),s.removeEventListener("mouseenter",f),s.removeEventListener("mouseout",f),s.removeEventListener("mouseover",f),s.removeEventListener("blur",u),s.removeEventListener("keyup",l),s.removeEventListener("keydown",l),s.removeEventListener("keypress",l),s!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:s};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(b){b?c():i()},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(G){var H={left:0,top:0};G.exports=e;function e(P,s,L){s=s||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var S=P.clientX||0,v=P.clientY||0,p=m(s);return L[0]=S-p.left,L[1]=v-p.top,L}function m(P){return P===window||P===document||P===document.body?H:P.getBoundingClientRect()}},93784:function(G,H){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var S=L.which;if(S===2)return 4;if(S===3)return 2;if(S>0)return 1<<S-1}else if("button"in L){var S=L.button;if(S===1)return 4;if(S===2)return 2;if(S>=0)return 1<<S}}return 0}H.buttons=e;function m(L){return L.target||L.srcElement||window}H.element=m;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var S=m(L),v=S.getBoundingClientRect();return L.clientX-v.left}return 0}H.x=P;function s(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var S=m(L),v=S.getBoundingClientRect();return L.clientY-v.top}return 0}H.y=s},97264:function(G,H,e){var m=e(23464);G.exports=P;function P(s,L,S){typeof s=="function"&&(S=!!L,L=s,s=window);var v=m("ex",s),p=function(r){S&&r.preventDefault();var t=r.deltaX||0,a=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,a*=u,n*=u,t||a||n)return L(t,a,n,r)};return s.addEventListener("wheel",p),p}},88324:function(G,H,e){var m;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,L,S){L[s]=L[s]||S(),G.exports?G.exports=L[s]:(m=(function(){return L[s]}).call(H,e,H,G),m!==void 0&&(G.exports=m))})("Promise",typeof e.g<"u"?e.g:this,function(){var s,L,S,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(d,b,w,C){return Object.defineProperty(d,b,{value:w,writable:!0,configurable:C!==!1})}}catch{s=function(b,w,C){return b[w]=C,b}}S=function(){var d,b,w;function C(y,E){this.fn=y,this.self=E,this.next=void 0}return{add:function(E,A){w=new C(E,A),b?b.next=w:d=w,b=w,w=void 0},drain:function(){var E=d;for(d=b=L=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(i,d){S.add(i,d),L||(L=p(S.drain))}function t(i){var d,b=typeof i;return i!=null&&(b=="object"||b=="function")&&(d=i.then),typeof d=="function"?d:!1}function a(){for(var i=0;i<this.chain.length;i++)n(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function n(i,d,b){var w,C;try{d===!1?b.reject(i.msg):(d===!0?w=i.msg:w=d.call(void 0,i.msg),w===b.promise?b.reject(TypeError("Promise-chain cycle")):(C=t(w))?C.call(w,b.resolve,b.reject):b.resolve(w))}catch(y){b.reject(y)}}function f(i){var d,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(d=t(i))?r(function(){var w=new g(b);try{d.call(i,function(){f.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(C){u.call(w,C)}}):(b.msg=i,b.state=1,b.chain.length>0&&r(a,b))}catch(w){u.call(new g(b),w)}}}function u(i){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=i,d.state=2,d.chain.length>0&&r(a,d))}function l(i,d,b,w){for(var C=0;C<d.length;C++)(function(E){i.resolve(d[E]).then(function(o){b(E,o)},w)})(C)}function g(i){this.def=i,this.triggered=!1}function h(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(w,C){var y={success:typeof w=="function"?w:!0,failure:typeof C=="function"?C:!1};return y.promise=new this.constructor(function(A,o){if(typeof A!="function"||typeof o!="function")throw TypeError("Not a function");y.resolve=A,y.reject=o}),d.chain.push(y),d.state!==0&&r(a,d),y.promise},this.catch=function(w){return this.then(void 0,w)};try{i.call(void 0,function(w){f.call(d,w)},function(w){u.call(d,w)})}catch(b){u.call(d,b)}}var c=s({},"constructor",T,!1);return T.prototype=c,s(c,"__NPO__",0,!1),s(T,"resolve",function(d){var b=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new b(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");C(d)})}),s(T,"reject",function(d){return new this(function(w,C){if(typeof w!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),s(T,"all",function(d){var b=this;return v.call(d)!="[object Array]"?b.reject(TypeError("Not an array")):d.length===0?b.resolve([]):new b(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");var E=d.length,A=Array(E),o=0;l(b,d,function(x,I){A[x]=I,++o===E&&C(A)},y)})}),s(T,"race",function(d){var b=this;return v.call(d)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");l(b,d,function(A,o){C(o)},y)})}),T})},48816:function(G){var H=Math.PI,e=v(120);G.exports=m;function m(p){for(var r,t=[],a=0,n=0,f=0,u=0,l=null,g=null,h=0,T=0,c=0,i=p.length;c<i;c++){var d=p[c],b=d[0];switch(b){case"M":f=d[1],u=d[2];break;case"A":d=L(h,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=h,C=T;(r=="C"||r=="S")&&(w+=w-a,C+=C-n),d=["C",w,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,g=T*2-g):(l=h,g=T),d=s(h,T,l,g,d[1],d[2]);break;case"Q":l=d[1],g=d[2],d=s(h,T,d[1],d[2],d[3],d[4]);break;case"L":d=P(h,T,d[1],d[2]);break;case"H":d=P(h,T,d[1],T);break;case"V":d=P(h,T,h,d[1]);break;case"Z":d=P(h,T,f,u);break}r=b,h=d[d.length-2],T=d[d.length-1],d.length>4?(a=d[d.length-4],n=d[d.length-3]):(a=h,n=T),t.push(d)}return t}function P(p,r,t,a){return["C",p,r,t,a,t,a]}function s(p,r,t,a,n,f){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*a,n/3+.6666666666666666*t,f/3+.6666666666666666*a,n,f]}function L(p,r,t,a,n,f,u,l,g,h){if(h)A=h[0],o=h[1],y=h[2],E=h[3];else{var T=S(p,r,-n);p=T.x,r=T.y,T=S(l,g,-n),l=T.x,g=T.y;var c=(p-l)/2,i=(r-g)/2,d=c*c/(t*t)+i*i/(a*a);d>1&&(d=Math.sqrt(d),t=d*t,a=d*a);var b=t*t,w=a*a,C=(f==u?-1:1)*Math.sqrt(Math.abs((b*w-b*i*i-w*c*c)/(b*i*i+w*c*c)));C==1/0&&(C=1);var y=C*t*i/a+(p+l)/2,E=C*-a*c/t+(r+g)/2,A=Math.asin(((r-E)/a).toFixed(9)),o=Math.asin(((g-E)/a).toFixed(9));A=p<y?H-A:A,o=l<y?H-o:o,A<0&&(A=H*2+A),o<0&&(o=H*2+o),u&&A>o&&(A=A-H*2),!u&&o>A&&(o=o-H*2)}if(Math.abs(o-A)>e){var M=o,x=l,I=g;o=A+e*(u&&o>A?1:-1),l=y+t*Math.cos(o),g=E+a*Math.sin(o);var D=L(l,g,t,a,n,0,u,x,I,[o,M,y,E])}var N=Math.tan((o-A)/4),k=4/3*t*N,O=4/3*a*N,F=[2*p-(p+k*Math.sin(A)),2*r-(r-O*Math.cos(A)),l+k*Math.sin(o),g-O*Math.cos(o),l,g];if(h)return F;D&&(F=F.concat(D));for(var z=0;z<F.length;){var B=S(F[z],F[z+1],n);F[z++]=B.x,F[z++]=B.y}return F}function S(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(H/180)}},50896:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function s(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var S={},v=0;v<10;v++)S["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(S).map(function(t){return S[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=s()?Object.assign:function(L,S){for(var v,p=P(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var a in v)e.call(v,a)&&(p[a]=v[a]);if(H){r=H(v);for(var n=0;n<r.length;n++)m.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(G){var H=function(e){return e!==e};G.exports=function(m,P){return m===0&&P===0?1/m===1/P:!!(m===P||H(m)&&H(P))}},39896:function(G,H,e){var m=e(81288),P=e(57916),s=e(76835),L=e(66148),S=e(16408),v=P(L(),Object);m(v,{getPolyfill:L,implementation:s,shim:S}),G.exports=v},66148:function(G,H,e){var m=e(76835);G.exports=function(){return typeof Object.is=="function"?Object.is:m}},16408:function(G,H,e){var m=e(66148),P=e(81288);G.exports=function(){var L=m();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},32764:function(G,H,e){var m;if(!Object.keys){var P=Object.prototype.hasOwnProperty,s=Object.prototype.toString,L=e(97344),S=Object.prototype.propertyIsEnumerable,v=!S.call({toString:null},"toString"),p=S.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!a["$"+u]&&P.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};m=function(l){var g=l!==null&&typeof l=="object",h=s.call(l)==="[object Function]",T=L(l),c=g&&s.call(l)==="[object String]",i=[];if(!g&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&l.length>0&&!P.call(l,0))for(var b=0;b<l.length;++b)i.push(String(b));if(T&&l.length>0)for(var w=0;w<l.length;++w)i.push(String(w));else for(var C in l)!(d&&C==="prototype")&&P.call(l,C)&&i.push(String(C));if(v)for(var y=f(l),E=0;E<r.length;++E)!(y&&r[E]==="constructor")&&P.call(l,r[E])&&i.push(r[E]);return i}}G.exports=m},41820:function(G,H,e){var m=Array.prototype.slice,P=e(97344),s=Object.keys,L=s?function(p){return s(p)}:e(32764),S=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?S(m.call(t)):S(t)})}else Object.keys=L;return Object.keys||L},G.exports=L},97344:function(G){var H=Object.prototype.toString;G.exports=function(m){var P=H.call(m),s=P==="[object Arguments]";return s||(s=P!=="[object Array]"&&m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&H.call(m.callee)==="[object Function]"),s}},32868:function(G){function H(P,s){if(typeof P!="string")return[P];var L=[P];typeof s=="string"||Array.isArray(s)?s={brackets:s}:s||(s={});var S=s.brackets?Array.isArray(s.brackets)?s.brackets:[s.brackets]:["{}","[]","()"],v=s.escape||"___",p=!!s.flat;S.forEach(function(a){var n=new RegExp(["\\",a[0],"[^\\",a[0],"\\",a[1],"]*\\",a[1]].join("")),f=[];function u(l,g,h){var T=L.push(l.slice(a[0].length,-a[1].length))-1;return f.push(T),v+T+v}L.forEach(function(l,g){for(var h,T=0;l!=h;)if(h=l,l=l.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=l}),f=f.reverse(),L=L.map(function(l){return f.forEach(function(g){l=l.replace(new RegExp("(\\"+v+g+"\\"+v+")","g"),a[0]+"$1"+a[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(a,n,f){for(var u=[],l,g=0;l=r.exec(a);){if(g++>1e4)throw Error("Circular references in parenthesis");u.push(a.slice(0,l.index)),u.push(t(n[l[1]],n)),a=a.slice(l.index+l[0].length)}return u.push(a),u}return p?L:t(L[0],L)}function e(P,s){if(s&&s.flat){var L=s&&s.escape||"___",S=P[0],v;if(!S)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;S!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=S,S=S.replace(p,t)}return S}return P.reduce(function a(n,f){return Array.isArray(f)&&(f=f.reduce(a,"")),n+f},"");function t(a,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function m(P,s){return Array.isArray(P)?e(P,s):H(P,s)}m.parse=H,m.stringify=e,G.exports=m},51160:function(G,H,e){var m=e(55616);G.exports=P;function P(s){var L;return arguments.length>1&&(s=arguments),typeof s=="string"?s=s.split(/\s/).map(parseFloat):typeof s=="number"&&(s=[s]),s.length&&typeof s[0]=="number"?s.length===1?L={width:s[0],height:s[0],x:0,y:0}:s.length===2?L={width:s[0],height:s[1],x:0,y:0}:L={x:s[0],y:s[1],width:s[2]-s[0]||0,height:s[3]-s[1]||0}:s&&(s=m(s,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:s.left||0,y:s.top||0},s.width==null?s.right?L.width=s.right-L.x:L.width=0:L.width=s.width,s.height==null?s.bottom?L.height=s.bottom-L.y:L.height=0:L.height=s.height),L}},21984:function(G){G.exports=m;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function m(L){var S=[];return L.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=s(r),t=="m"&&r.length>2&&(S.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==H[t])return r.unshift(p),S.push(r);if(r.length<H[t])throw new Error("malformed path data");S.push([p].concat(r.splice(0,H[t])))}}),S}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(L){var S=L.match(P);return S?S.map(Number):[]}},65819:function(G){G.exports=function(e,m){m||(m=[0,""]),e=String(e);var P=parseFloat(e,10);return m[0]=P,m[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",m}},41984:function(G,H,e){var m=e(4168);(function(){var P,s,L,S,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof m<"u"&&m!==null&&m.hrtime?(G.exports=function(){return(P()-v)/1e6},s=m.hrtime,P=function(){var r;return r=s(),r[0]*1e9+r[1]},S=P(),p=m.uptime()*1e9,v=S-p):Date.now?(G.exports=function(){return Date.now()-L},L=Date.now()):(G.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(G){G.exports=function(P,s,L){var S={},v,p;if(typeof s=="string"&&(s=e(s)),Array.isArray(s)){var r={};for(p=0;p<s.length;p++)r[s[p]]=!0;s=r}for(v in s)s[v]=e(s[v]);var t={};for(v in s){var a=s[v];if(Array.isArray(a))for(p=0;p<a.length;p++){var n=a[p];if(L&&(t[n]=!0),n in P){if(S[v]=P[n],L)for(var f=p;f<a.length;f++)t[a[f]]=!0;break}}else v in P&&(s[v]&&(S[v]=P[v]),L&&(t[v]=!0))}if(L)for(v in P)t[v]||(S[v]=P[v]);return S};var H={};function e(m){return H[m]?H[m]:(typeof m=="string"&&(m=H[m]=m.split(/\s*,\s*|\s+/)),m)}},61456:function(G){G.exports=function(e,m,P,s){var L=e[0],S=e[1],v=!1;P===void 0&&(P=0),s===void 0&&(s=m.length);for(var p=s-P,r=0,t=p-1;r<p;t=r++){var a=m[r+P][0],n=m[r+P][1],f=m[t+P][0],u=m[t+P][1],l=n>S!=u>S&&L<(f-a)*(S-n)/(u-n)+a;l&&(v=!v)}return v}},14756:function(G,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var m=e(7688),P=e(28648),s=e(72200),L=e(11403),S=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=m():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=s(!0,r,p);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var u=s(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:S.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:S.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:S.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:S.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:S.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return a(n,f,t.selectUnion)},intersect:function(n,f){return a(n,f,t.selectIntersect)},difference:function(n,f){return a(n,f,t.selectDifference)},differenceRev:function(n,f){return a(n,f,t.selectDifferenceRev)},xor:function(n,f){return a(n,f,t.selectXor)}};function a(n,f,u){var l=t.segments(n),g=t.segments(f),h=t.combine(l,g),T=u(h);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},7688:function(G){function H(){var e,m=0,P=!1;function s(L,S){return e.list.push({type:L,data:S?JSON.parse(JSON.stringify(S)):void 0}),e}return e={list:[],segmentId:function(){return m++},checkIntersection:function(L,S){return s("check",{seg1:L,seg2:S})},segmentChop:function(L,S){return s("div_seg",{seg:L,pt:S}),s("chop",{seg:L,pt:S})},statusRemove:function(L){return s("pop_seg",{seg:L})},segmentUpdate:function(L){return s("seg_update",{seg:L})},segmentNew:function(L,S){return s("new_seg",{seg:L,primary:S})},segmentRemove:function(L){return s("rem_seg",{seg:L})},tempStatus:function(L,S,v){return s("temp_status",{seg:L,above:S,below:v})},rewind:function(L){return s("rewind",{seg:L})},status:function(L,S,v){return s("status",{seg:L,above:S,below:v})},vert:function(L){return L===P?e:(P=L,s("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),s("log",{txt:L})},reset:function(){return s("reset")},selected:function(L){return s("selected",{segs:L})},chainStart:function(L){return s("chain_start",{seg:L})},chainRemoveHead:function(L,S){return s("chain_rem_head",{index:L,pt:S})},chainRemoveTail:function(L,S){return s("chain_rem_tail",{index:L,pt:S})},chainNew:function(L,S){return s("chain_new",{pt1:L,pt2:S})},chainMatch:function(L){return s("chain_match",{index:L})},chainClose:function(L){return s("chain_close",{index:L})},chainAddHead:function(L,S){return s("chain_add_head",{index:L,pt:S})},chainAddTail:function(L,S){return s("chain_add_tail",{index:L,pt:S})},chainConnect:function(L,S){return s("chain_con",{index1:L,index2:S})},chainReverse:function(L){return s("chain_rev",{index:L})},chainJoin:function(L,S){return s("chain_join",{index1:L,index2:S})},done:function(){return s("done")}},e}G.exports=H},28648:function(G){function H(e){typeof e!="number"&&(e=1e-10);var m={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,s,L){var S=s[0],v=s[1],p=L[0],r=L[1],t=P[0],a=P[1];return(p-S)*(a-v)-(r-v)*(t-S)>=-e},pointBetween:function(P,s,L){var S=P[1]-s[1],v=L[0]-s[0],p=P[0]-s[0],r=L[1]-s[1],t=p*v+S*r;if(t<e)return!1;var a=v*v+r*r;return!(t-a>-e)},pointsSameX:function(P,s){return Math.abs(P[0]-s[0])<e},pointsSameY:function(P,s){return Math.abs(P[1]-s[1])<e},pointsSame:function(P,s){return m.pointsSameX(P,s)&&m.pointsSameY(P,s)},pointsCompare:function(P,s){return m.pointsSameX(P,s)?m.pointsSameY(P,s)?0:P[1]<s[1]?-1:1:P[0]<s[0]?-1:1},pointsCollinear:function(P,s,L){var S=P[0]-s[0],v=P[1]-s[1],p=s[0]-L[0],r=s[1]-L[1];return Math.abs(S*r-p*v)<e},linesIntersect:function(P,s,L,S){var v=s[0]-P[0],p=s[1]-P[1],r=S[0]-L[0],t=S[1]-L[1],a=v*t-p*r;if(Math.abs(a)<e)return!1;var n=P[0]-L[0],f=P[1]-L[1],u=(r*f-t*n)/a,l=(v*f-p*n)/a,g={alongA:0,alongB:0,pt:[P[0]+u*v,P[1]+u*p]};return u<=-e?g.alongA=-2:u<e?g.alongA=-1:u-1<=-e?g.alongA=0:u-1<e?g.alongA=1:g.alongA=2,l<=-e?g.alongB=-2:l<e?g.alongB=-1:l-1<=-e?g.alongB=0:l-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,s){for(var L=P[0],S=P[1],v=s[s.length-1][0],p=s[s.length-1][1],r=!1,t=0;t<s.length;t++){var a=s[t][0],n=s[t][1];n-S>e!=p-S>e&&(v-a)*(S-n)/(p-n)+a-L>e&&(r=!r),v=a,p=n}return r}};return m}G.exports=H},17792:function(G){var H={toPolygon:function(e,m){function P(S){if(S.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var a=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[a]})}for(var p=v(S[0]),r=1;r<S.length;r++)p=e.selectDifference(e.combine(p,v(S[r])));return p}if(m.type==="Polygon")return e.polygon(P(m.coordinates));if(m.type==="MultiPolygon"){for(var s=e.segments({inverted:!1,regions:[]}),L=0;L<m.coordinates.length;L++)s=e.selectUnion(e.combine(s,P(m.coordinates[L])));return e.polygon(s)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,m,P){P=e.polygon(e.segments(P));function s(u,l){return m.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function L(u){return{region:u,children:[]}}var S=L(null);function v(u,l){for(var g=0;g<u.children.length;g++){var h=u.children[g];if(s(l,h.region)){v(h,l);return}}for(var T=L(l),g=0;g<u.children.length;g++){var h=u.children[g];s(h.region,l)&&(T.children.push(h),u.children.splice(g,1),g--)}u.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(S,r)}function t(u,l){for(var g=0,h=u[u.length-1][0],T=u[u.length-1][1],c=[],i=0;i<u.length;i++){var d=u[i][0],b=u[i][1];c.push([d,b]),g+=b*h-d*T,h=d,T=b}var w=g<0;return w!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var a=[];function n(u){var l=[t(u.region,!1)];a.push(l);for(var g=0;g<u.children.length;g++)l.push(f(u.children[g]))}function f(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var p=0;p<S.children.length;p++)n(S.children[p]);return a.length<=0?{type:"Polygon",coordinates:[]}:a.length==1?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}};G.exports=H},72200:function(G,H,e){var m=e(48088);function P(s,L,S){function v(T,c){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:null,below:null},otherFill:null}}function p(T,c,i){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=m.create();function t(T,c,i,d,b,w){var C=L.pointsCompare(c,b);return C!==0?C:L.pointsSame(i,w)?0:T!==d?T?1:-1:L.pointAboveOrOnLine(i,d?b:w,d?w:b)?1:-1}function a(T,c){r.insertBefore(T,function(i){var d=t(T.isStart,T.pt,c,i.isStart,i.pt,i.other.pt);return d<0})}function n(T,c){var i=m.node({isStart:!0,pt:T.start,seg:T,primary:c,other:null,status:null});return a(i,T.end),i}function f(T,c,i){var d=m.node({isStart:!1,pt:c.end,seg:c,primary:i,other:T,status:null});T.other=d,a(d,T.pt)}function u(T,c){var i=n(T,c);return f(i,T,c),i}function l(T,c){S&&S.segmentChop(T.seg,c),T.other.remove(),T.seg.end=c,T.other.pt=c,a(T.other,T.pt)}function g(T,c){var i=p(c,T.seg.end,T.seg);return l(T,c),u(i,T.primary)}function h(T,c){var i=m.create();function d(k,O){var F=k.seg.start,z=k.seg.end,B=O.seg.start,W=O.seg.end;return L.pointsCollinear(F,B,W)?L.pointsCollinear(z,B,W)||L.pointAboveOrOnLine(z,B,W)?1:-1:L.pointAboveOrOnLine(F,B,W)?1:-1}function b(k){return i.findTransition(function(O){var F=d(k,O.ev);return F>0})}function w(k,O){var F=k.seg,z=O.seg,B=F.start,W=F.end,J=z.start,re=z.end;S&&S.checkIntersection(F,z);var ne=L.linesIntersect(B,W,J,re);if(ne===!1){if(!L.pointsCollinear(B,W,J)||L.pointsSame(B,re)||L.pointsSame(W,J))return!1;var le=L.pointsSame(B,J),$=L.pointsSame(W,re);if(le&&$)return O;var Z=!le&&L.pointBetween(B,J,re),ie=!$&&L.pointBetween(W,J,re);if(le)return ie?g(O,W):g(k,re),O;Z&&($||(ie?g(O,W):g(k,re)),g(O,B))}else ne.alongA===0&&(ne.alongB===-1?g(k,J):ne.alongB===0?g(k,ne.pt):ne.alongB===1&&g(k,re)),ne.alongB===0&&(ne.alongA===-1?g(O,B):ne.alongA===0?g(O,ne.pt):ne.alongA===1&&g(O,W));return!1}for(var C=[];!r.isEmpty();){var y=r.getHead();if(S&&S.vert(y.pt[0]),y.isStart){let k=function(){if(A){var O=w(y,A);if(O)return O}return o?w(y,o):!1};S&&S.segmentNew(y.seg,y.primary);var E=b(y),A=E.before?E.before.ev:null,o=E.after?E.after.ev:null;S&&S.tempStatus(y.seg,A?A.seg:!1,o?o.seg:!1);var M=k();if(M){if(s){var x;y.seg.myFill.below===null?x=!0:x=y.seg.myFill.above!==y.seg.myFill.below,x&&(M.seg.myFill.above=!M.seg.myFill.above)}else M.seg.otherFill=y.seg.myFill;S&&S.segmentUpdate(M.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){S&&S.rewind(y.seg);continue}if(s){var x;y.seg.myFill.below===null?x=!0:x=y.seg.myFill.above!==y.seg.myFill.below,o?y.seg.myFill.below=o.seg.myFill.above:y.seg.myFill.below=T,x?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var I;o?y.primary===o.primary?I=o.seg.otherFill.above:I=o.seg.myFill.above:I=y.primary?c:T,y.seg.otherFill={above:I,below:I}}S&&S.status(y.seg,A?A.seg:!1,o?o.seg:!1),y.other.status=E.insert(m.node({ev:y}))}else{var D=y.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(D.prev)&&i.exists(D.next)&&w(D.prev.ev,D.next.ev),S&&S.statusRemove(D.ev.seg),D.remove(),!y.primary){var N=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=N}C.push(y.seg)}r.getHead().remove()}return S&&S.done(),C}return s?{addRegion:function(T){for(var c,i=T[T.length-1],d=0;d<T.length;d++){c=i,i=T[d];var b=L.pointsCompare(c,i);b!==0&&u(v(b<0?c:i,b<0?i:c),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,c,i,d){return T.forEach(function(b){u(p(b.start,b.end,b),!0)}),i.forEach(function(b){u(p(b.start,b.end,b),!1)}),h(c,d)}}}G.exports=P},48088:function(G){var H={create:function(){var e={root:{root:!0,next:null},exists:function(m){return!(m===null||m===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(m,P){for(var s=e.root,L=e.root.next;L!==null;){if(P(L)){m.prev=L.prev,m.next=L,L.prev.next=m,L.prev=m;return}s=L,L=L.next}s.next=m,m.prev=s,m.next=null},findTransition:function(m){for(var P=e.root,s=e.root.next;s!==null&&!m(s);)P=s,s=s.next;return{before:P===e.root?null:P,after:s,insert:function(L){return L.prev=P,L.next=s,P.next=L,s!==null&&(s.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=H},11403:function(G){function H(e,m,P){var s=[],L=[];return e.forEach(function(S){var v=S.start,p=S.end;if(m.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(S);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},a=r;function n(M,x,I){return a.index=M,a.matches_head=x,a.matches_pt1=I,a===r?(a=t,!1):(a=null,!0)}for(var f=0;f<s.length;f++){var u=s[f],l=u[0];u[1];var g=u[u.length-1];if(u[u.length-2],m.pointsSame(l,v)){if(n(f,!0,!0))break}else if(m.pointsSame(l,p)){if(n(f,!0,!1))break}else if(m.pointsSame(g,v)){if(n(f,!1,!0))break}else if(m.pointsSame(g,p)&&n(f,!1,!1))break}if(a===r){s.push([v,p]),P&&P.chainNew(v,p);return}if(a===t){P&&P.chainMatch(r.index);var h=r.index,T=r.matches_pt1?p:v,c=r.matches_head,u=s[h],i=c?u[0]:u[u.length-1],d=c?u[1]:u[u.length-2],b=c?u[u.length-1]:u[0],w=c?u[u.length-2]:u[1];if(m.pointsCollinear(d,i,T)&&(c?(P&&P.chainRemoveHead(r.index,T),u.shift()):(P&&P.chainRemoveTail(r.index,T),u.pop()),i=d),m.pointsSame(b,T)){s.splice(h,1),m.pointsCollinear(w,b,i)&&(c?(P&&P.chainRemoveTail(r.index,i),u.pop()):(P&&P.chainRemoveHead(r.index,i),u.shift())),P&&P.chainClose(r.index),L.push(u);return}c?(P&&P.chainAddHead(r.index,T),u.unshift(T)):(P&&P.chainAddTail(r.index,T),u.push(T));return}function C(M){P&&P.chainReverse(M),s[M].reverse()}function y(M,x){var I=s[M],D=s[x],N=I[I.length-1],k=I[I.length-2],O=D[0],F=D[1];m.pointsCollinear(k,N,O)&&(P&&P.chainRemoveTail(M,N),I.pop(),N=k),m.pointsCollinear(N,O,F)&&(P&&P.chainRemoveHead(x,O),D.shift()),P&&P.chainJoin(M,x),s[M]=I.concat(D),s.splice(x,1)}var E=r.index,A=t.index;P&&P.chainConnect(E,A);var o=s[E].length<s[A].length;r.matches_head?t.matches_head?o?(C(E),y(E,A)):(C(A),y(A,E)):y(A,E):t.matches_head?y(E,A):o?(C(E),y(A,E)):(C(A),y(E,A))}),L}G.exports=H},82368:function(G){function H(m,P,s){var L=[];return m.forEach(function(S){var v=(S.myFill.above?8:0)+(S.myFill.below?4:0)+(S.otherFill&&S.otherFill.above?2:0)+(S.otherFill&&S.otherFill.below?1:0);P[v]!==0&&L.push({id:s?s.segmentId():-1,start:S.start,end:S.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),s&&s.selected(L),L}var e={union:function(m,P){return H(m,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(m,P){return H(m,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(m,P){return H(m,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(m,P){return H(m,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(m,P){return H(m,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};G.exports=e},9696:function(G,H,e){var m=e(29936).Transform,P=e(55619);function s(){m.call(this,{readableObjectMode:!0})}s.prototype=Object.create(m.prototype),s.prototype.constructor=s,P(s.prototype),H.gS=function(S,v,p){for(var r=v,t=0;t<p.length;)if(S[r++]!==p[t++])return!1;return!0},H.wR=function(S,v){var p=[],r=0;if(v&&v==="hex")for(;r<S.length;)p.push(parseInt(S.slice(r,r+2),16)),r+=2;else for(;r<S.length;r++)p.push(S.charCodeAt(r)&255);return p},H.Bz=function(S,v){return S[v]|S[v+1]<<8},H.eW=function(S,v){return S[v+1]|S[v]<<8},H.st=function(S,v){return S[v]|S[v+1]<<8|S[v+2]<<16|S[v+3]*16777216},H.eI=function(S,v){return S[v+3]|S[v+2]<<8|S[v+1]<<16|S[v]*16777216};function L(S,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=S,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},11688:function(G){function H(P,s){var L=new Error(P);return L.code=s,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function m(P,s,L){this.input=P.subarray(s,L),this.start=s;var S=String.fromCharCode.apply(null,this.input.subarray(0,4));if(S!=="II*\0"&&S!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=S[0]==="M"}m.prototype.each=function(P){this.aborted=!1;var s=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:s}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},m.prototype.read_uint16=function(P){var s=this.input;if(P+2>s.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?s[P]*256+s[P+1]:s[P]+s[P+1]*256},m.prototype.read_uint32=function(P){var s=this.input;if(P+4>s.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?s[P]*16777216+s[P+1]*65536+s[P+2]*256+s[P+3]:s[P]+s[P+1]*256+s[P+2]*65536+s[P+3]*16777216},m.prototype.is_subifd_link=function(P,s){return P===0&&s===34665||P===0&&s===34853||P===34665&&s===40965},m.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},m.prototype.exif_format_read=function(P,s){var L;switch(P){case 1:case 2:return L=this.input[s],L;case 6:return L=this.input[s],L|(L&128)*33554430;case 3:return L=this.read_uint16(s),L;case 8:return L=this.read_uint16(s),L|(L&32768)*131070;case 4:return L=this.read_uint32(s),L;case 9:return L=this.read_uint32(s),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},m.prototype.scan_ifd=function(P,s,L){var S=this.read_uint16(s);s+=2;for(var v=0;v<S;v++){var p=this.read_uint16(s),r=this.read_uint16(s+2),t=this.read_uint32(s+4),a=this.exif_format_length(r),n=t*a,f=n<=4?s+8:this.read_uint32(s+8),u=!1;if(f+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var l=[],g=f,h=0;h<t;h++,g+=a){var T=this.exif_format_read(r,g);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:s+this.start,data_length:n,data_offset:f+this.start,value:l,is_subifd_link:u};if(L(c)===!1){this.aborted=!0;return}s+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(s)})},G.exports.ExifParser=m,G.exports.get_orientation=function(P){var s=0;try{return new m(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return s=L.value[0],!1}),s}catch{return-1}}},44600:function(G,H,e){var m=e(9696).eW,P=e(9696).eI;function s(n,f){if(n.length<4+f)return null;var u=P(n,f);return n.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+u),end:f+u}}G.exports.unbox=s;function L(n,f){for(var u=0;;){var l=s(n,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function S(n,f,u){for(var l=0,g=0;g<u;g++)l=l*256+(n[f+g]||0);return l}function v(n,f){for(var u=n[4]>>4&15,l=n[4]&15,g=n[5]>>4&15,h=m(n,6),T=8,c=0;c<h;c++){var i=m(n,T);T+=2;var d=m(n,T);T+=2;var b=S(n,T,g);T+=g;var w=m(n,T);if(T+=2,d===0&&w===1){var C=S(n,T,u),y=S(n,T+u,l);f.item_loc[i]={length:y,offset:C+b}}T+=w*(u+l)}}function p(n,f){for(var u=m(n,4),l=6,g=0;g<u;g++){var h=s(n,l);if(!h)break;if(h.boxtype==="infe"){for(var T=m(h.data,4),c="",i=8;i<h.data.length&&h.data[i];i++)c+=String.fromCharCode(h.data[i]);f.item_inf[c]=T}l=h.end}}function r(n,f){for(var u=0;;){var l=s(n,u);if(!l)break;l.boxtype==="ipco"&&L(l.data,f),u=l.end}}function t(n,f){for(var u=4;;){var l=s(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&p(l.data,f),u=l.end}}function a(n){var f=n.reduce(function(g,h){return g.width>h.width||g.width===h.width&&g.height>h.height?g:h}),u=n.reduce(function(g,h){return g.height>h.height||g.height===h.height&&g.width>h.width?g:h}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}G.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var u=a(f.sizes),l=1;f.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=T[l],l=T[l])),h.type==="irot")for(var i=0;i<h.value;i++)l=T[l]});var g=null;return f.item_inf.Exif&&(g=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:g}}},G.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[f]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=e(44600),S=e(11688),v=m("ftyp");G.exports=function(p){if(P(p,4,v)){var r=L.unbox(p,0);if(r){var t=L.getMimeType(r.data);if(t){for(var a,n=r.end;;){var f=L.unbox(p,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){a=f.data;break}}if(a){var u=L.readSizeFromMeta(a);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var g=s(p,u.exif_location.offset),h=p.slice(u.exif_location.offset+g+4,u.exif_location.offset+u.exif_location.length),T=S.get_orientation(h);T>0&&(l.orientation=T)}return l}}}}}}},38728:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=m("BM");G.exports=function(S){if(!(S.length<26)&&P(S,0,L))return{width:s(S,18),height:s(S,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=m("GIF87a"),S=m("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,S)))return{width:s(v,6),height:s(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(G,H,e){var m=e(9696).Bz,P=0,s=1,L=16;G.exports=function(S){var v=m(S,0),p=m(S,2),r=m(S,4);if(!(v!==P||p!==s||!r)){for(var t=[],a={width:0,height:0},n=0;n<r;n++){var f=S[6+L*n]||256,u=S[6+L*n+1]||256,l={width:f,height:u};t.push(l),(f>a.width||u>a.height)&&(a=l)}return{width:a.width,height:a.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(G,H,e){var m=e(9696).eW,P=e(9696).wR,s=e(9696).gS,L=e(11688),S=P("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=m(v,p)-2,p+=2}else return;if(r===217||r===218)return;var a;if(r===225&&t>=10&&s(v,p,S)&&(a=L.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:m(v,p+3),height:m(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return a>0&&(n.orientation=a),n}p+=t}}},37276:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=m(`PNG\r

`),S=m("IHDR");G.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,S))return{width:s(v,16),height:s(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=m("8BPS\0");G.exports=function(S){if(!(S.length<22)&&P(S,0,L))return{width:s(S,18),height:s(S,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(G){function H(a){return a===32||a===9||a===13||a===10}function e(a){return typeof a=="number"&&isFinite(a)&&a>0}function m(a){var n=0,f=a.length;for(a[0]===239&&a[1]===187&&a[2]===191&&(n=3);n<f&&H(a[n]);)n++;return n===f?!1:a[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,s=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,S=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(a){var n=a.match(L),f=a.match(S),u=a.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(a){return p.test(a)?a.match(p)[0]:"px"}G.exports=function(a){if(m(a)){for(var n="",f=0;f<a.length;f++)n+=String.fromCharCode(a[f]);var u=(n.match(P)||[""])[0];if(s.test(u)){var l=r(u),g=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(g)||!e(h)?void 0:{width:g,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),c={width:T[2],height:T[3]},i=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(i)||!e(d))&&t(c.width)===t(c.height)){var b=i/d;return l.width?e(g)?{width:g,height:g/b,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*b,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:i,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=e(9696).eW,S=e(9696).st,v=e(9696).eI,p=m("II*\0"),r=m("MM\0*");function t(f,u,l){return l?L(f,u):s(f,u)}function a(f,u,l){return l?v(f,u):S(f,u)}function n(f,u,l){var g=t(f,u+2,l),h=a(f,u+4,l);return h!==1||g!==3&&g!==4?null:g===3?t(f,u+8,l):a(f,u+8,l)}G.exports=function(f){if(!(f.length<8)&&!(!P(f,0,p)&&!P(f,0,r))){var u=f[0]===77,l=a(f,4,u)-8;if(!(l<0)){var g=l+8;if(!(f.length-g<2)){var h=t(f,g+0,u)*12;if(!(h<=0)&&(g+=2,!(f.length-g<h))){var T,c,i,d;for(T=0;T<h;T+=12)d=t(f,g+T,u),d===256?c=n(f,g+T,u):d===257&&(i=n(f,g+T,u));if(c&&i)return{width:c,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=e(9696).st,S=e(11688),v=m("RIFF"),p=m("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:s(n,f+6)&16383,height:s(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var u=L(n,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var f=12,u=null,l=0,g=L(n,4)+8;if(!(g>n.length)){for(;f+8<g;){if(n[f]===0){f++;continue}var h=String.fromCharCode.apply(null,n.slice(f,f+4)),T=L(n,f+4);h==="VP8 "&&T>=10?u=u||r(n,f+8):h==="VP8L"&&T>=9?u=u||t(n,f+8):h==="VP8X"&&T>=10?u=u||a(n,f+8):h==="EXIF"&&(l=S.get_orientation(n.slice(f+8,f+8+T)),f=1/0),f+=8+T}if(u)return l>0&&(u.orientation=l),u}}}},87480:function(G,H,e){G.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(G,H,e){var m=e(87480);function P(s){for(var L=Object.keys(m),S=0;S<L.length;S++){var v=m[L[S]](s);if(v)return v}return null}G.exports=function(L){return P(L)},G.exports.parsers=m},4168:function(G){var H=G.exports={},e,m;function P(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?m=clearTimeout:m=s}catch{m=s}})();function L(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function S(l){if(m===clearTimeout)return clearTimeout(l);if((m===s||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(l);try{return m(l)}catch{try{return m.call(null,l)}catch{return m.call(this,l)}}}var v=[],p=!1,r,t=-1;function a(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=L(a);p=!0;for(var g=v.length;g;){for(r=v,v=[];++t<g;)r&&r[t].run();t=-1,g=v.length}r=null,p=!1,S(l)}}H.nextTick=function(l){var g=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)g[h-1]=arguments[h];v.push(new f(l,g)),v.length===1&&!p&&L(n)};function f(l,g){this.fun=l,this.array=g}f.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function u(){}H.on=u,H.addListener=u,H.once=u,H.off=u,H.removeListener=u,H.removeAllListeners=u,H.emit=u,H.prependListener=u,H.prependOnceListener=u,H.listeners=function(l){return[]},H.binding=function(l){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(l){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},3951:function(G,H,e){for(var m=e(41984),P=typeof window>"u"?e.g:window,s=["moz","webkit"],L="AnimationFrame",S=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!S&&p<s.length;p++)S=P[s[p]+"Request"+L],v=P[s[p]+"Cancel"+L]||P[s[p]+"CancelRequest"+L];if(!S||!v){var r=0,t=0,a=[],n=1e3/60;S=function(f){if(a.length===0){var u=m(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var g=a.slice(0);a.length=0;for(var h=0;h<g.length;h++)if(!g[h].cancelled)try{g[h].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return a.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<a.length;u++)a[u].handle===f&&(a[u].cancelled=!0)}}G.exports=function(f){return S.call(P,f)},G.exports.cancel=function(){v.apply(P,arguments)},G.exports.polyfill=function(f){f||(f=P),f.requestAnimationFrame=S,f.cancelAnimationFrame=v}},24544:function(G,H,e){var m=e(76752),P=e(72160),s=e(45223),L=e(55616),S=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;G.exports=n;var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,g,h,T,c,i,d,b={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=f.buffer({usage:"static",type:"float",data:a}),A(u),g=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(M,x){return[x.viewport.x,x.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{color:{buffer:c,offset:function(M,x){return x.offset*4},divisor:1},position:{buffer:h,offset:function(M,x){return x.offset*8},divisor:1},positionFract:{buffer:T,offset:function(M,x){return x.offset*8},divisor:1},error:{buffer:i,offset:function(M,x){return x.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:a.length}),S(C,{update:A,draw:y,destroy:o,regl:f,gl:l,canvas:l.canvas,groups:w}),C;function C(M){M?A(M):M===null&&o(),y()}function y(M){if(typeof M=="number")return E(M);M&&!Array.isArray(M)&&(M=[M]),f._refresh(),w.forEach(function(x,I){if(x){if(M&&(M[I]?x.draw=!0:x.draw=!1),!x.draw){x.draw=!0;return}E(I)}})}function E(M){typeof M=="number"&&(M=w[M]),M!=null&&M&&M.count&&M.color&&M.opacity&&M.positions&&M.positions.length>1&&(M.scaleRatio=[M.scale[0]*M.viewport.width,M.scale[1]*M.viewport.height],g(M),M.after&&M.after(M))}function A(M){if(M){M.length!=null?typeof M[0]=="number"&&(M=[{positions:M}]):Array.isArray(M)||(M=[M]);var x=0,I=0;if(C.groups=w=M.map(function(B,W){var J=w[W];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return J;return B=L(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(w[W]=J={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=S({},b,B)),s(J,B,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),I+=re.length,re},positions:function(re,ne){return re=v(re,"float64"),ne.count=Math.floor(re.length/2),ne.bounds=m(re,2),ne.offset=x,x+=ne.count,re}},{color:function(re,ne){var le=ne.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var $=re;re=Array(le);for(var Z=0;Z<le;Z++)re[Z]=$}if(re.length<le)throw Error("Not enough colors");for(var ie=new Uint8Array(le*4),X=0;X<le;X++){var Q=P(re[X],"uint8");ie.set(Q,X*4)}return ie},range:function(re,ne,le){var $=ne.bounds;return re||(re=$),ne.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ne.translate=[-re[0],-re[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),re},viewport:function(re){var ne;return Array.isArray(re)?ne={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ne={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ne.width=re.right-ne.x:ne.width=re.w||re.width||0,re.bottom?ne.height=re.bottom-ne.y:ne.height=re.h||re.height||0):ne={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ne}}]),J}),x||I){var D=w.reduce(function(B,W,J){return B+(W?W.count:0)},0),N=new Float64Array(D*2),k=new Uint8Array(D*4),O=new Float32Array(D*4);w.forEach(function(B,W){if(B){var J=B.positions,re=B.count,ne=B.offset,le=B.color,$=B.errors;re&&(k.set(le,ne*4),O.set($,ne*4),N.set(J,ne*2))}});var F=r(N);h(F);var z=t(N,F);T(z),c(k),i(O)}}}function o(){h.destroy(),T.destroy(),c.destroy(),i.destroy(),d.destroy()}}},13472:function(G,H,e){var m=e(72160),P=e(76752),s=e(50896),L=e(55616),S=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,a=r.fract32,n=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,g=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;G.exports=d;function d(b,w){if(!(this instanceof d))return new d(b,w);if(typeof b=="function"?(w||(w={}),w.regl=b):w=b,w.length&&(w.positions=w),b=w.regl,!b.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=b._gl,this.regl=b,this.passes=[],this.shaders=d.shaders.has(b)?d.shaders.get(b):d.shaders.set(b,d.createShaders(b)).get(b),this.update(w)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(b){var w=b.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:b.prop("count"),count:4,offset:0,uniforms:{miterMode:function(o,M){return M.join==="round"?2:1},miterLimit:b.prop("miterLimit"),scale:b.prop("scale"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),thickness:b.prop("thickness"),dashTexture:b.prop("dashTexture"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),dashLength:b.prop("dashLength"),viewport:function(o,M){return[M.viewport.x,M.viewport.y,o.viewportWidth,o.viewportHeight]},depth:b.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(o,M){return!M.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:b.prop("viewport")},viewport:b.prop("viewport")},y=b(s({vert:l,frag:g,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),E;try{E=b(s({cull:{enable:!0,face:"back"},vert:c,frag:i,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:b.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{E=y}var A=b({primitive:"triangle",elements:function(o,M){return M.triangles},offset:0,vert:h,frag:T,uniforms:{scale:b.prop("scale"),color:b.prop("fill"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),viewport:function(o,M){return[M.viewport.x,M.viewport.y,o.viewportWidth,o.viewportHeight]}},attributes:{position:{buffer:b.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:A,rect:y,miter:E}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var b,w=[],C=arguments.length;C--;)w[C]=arguments[C];w.length&&(b=this).update.apply(b,w),this.draw()},d.prototype.draw=function(){for(var b=this,w=[],C=arguments.length;C--;)w[C]=arguments[C];return(w.length?w:this.passes).forEach(function(y,E){var A;if(y&&Array.isArray(y))return(A=b).draw.apply(A,y);typeof y=="number"&&(y=b.passes[y]),y&&y.count>1&&y.opacity&&(b.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&b.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>d.precisionThreshold||y.scale[1]*y.viewport.height>d.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=d.maxPoints)?b.shaders.rect(y):b.shaders.miter(y)))}),this},d.prototype.update=function(b){var w=this;if(b){b.length!=null?typeof b[0]=="number"&&(b=[{positions:b}]):Array.isArray(b)||(b=[b]);var C=this,y=C.regl,E=C.gl;if(b.forEach(function(I,D){var N=w.passes[D];if(I!==void 0){if(I===null){w.passes[D]=null;return}if(typeof I[0]=="number"&&(I={positions:I}),I=L(I,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(w.passes[D]=N={id:D,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},I=s({},d.defaults,I)),I.thickness!=null&&(N.thickness=parseFloat(I.thickness)),I.opacity!=null&&(N.opacity=parseFloat(I.opacity)),I.miterLimit!=null&&(N.miterLimit=parseFloat(I.miterLimit)),I.overlay!=null&&(N.overlay=!!I.overlay,D<d.maxLines&&(N.depth=2*(d.maxLines-1-D%d.maxLines)/d.maxLines-1)),I.join!=null&&(N.join=I.join),I.hole!=null&&(N.hole=I.hole),I.fill!=null&&(N.fill=I.fill?m(I.fill,"uint8"):null),I.viewport!=null&&(N.viewport=f(I.viewport)),N.viewport||(N.viewport=f([E.drawingBufferWidth,E.drawingBufferHeight])),I.close!=null&&(N.close=I.close),I.positions===null&&(I.positions=[]),I.positions){var k,O;if(I.positions.x&&I.positions.y){var F=I.positions.x,z=I.positions.y;O=N.count=Math.max(F.length,z.length),k=new Float64Array(O*2);for(var B=0;B<O;B++)k[B*2]=F[B],k[B*2+1]=z[B]}else k=S(I.positions,"float64"),O=N.count=Math.floor(k.length/2);var W=N.bounds=P(k,2);if(N.fill){for(var J=[],re={},ne=0,le=0,$=0,Z=N.count;le<Z;le++){var ie=k[le*2],X=k[le*2+1];isNaN(ie)||isNaN(X)||ie==null||X==null?(ie=k[ne*2],X=k[ne*2+1],re[le]=ne):ne=le,J[$++]=ie,J[$++]=X}if(I.splitNull){N.count-1 in re||(re[N.count]=N.count-1);var Q=Object.keys(re).map(Number).sort(function(he,me){return he-me}),oe=[],j=0,Y=N.hole!=null?N.hole[0]:null;if(Y!=null){var se=u(Q,function(he){return he>=Y});Q=Q.slice(0,se),Q.push(Y)}for(var te=function(he){var me=J.slice(j*2,Q[he]*2).concat(Y?J.slice(Y*2):[]),Ne=(N.hole||[]).map(function(ot){return ot-Y+(Q[he]-j)}),$e=v(me,Ne);$e=$e.map(function(ot){return ot+j+(ot+j<Q[he]?0:Y-Q[he])}),oe.push.apply(oe,$e),j=Q[he]+1},fe=0;fe<Q.length;fe++)te(fe);for(var ge=0,be=oe.length;ge<be;ge++)re[oe[ge]]!=null&&(oe[ge]=re[oe[ge]]);N.triangles=oe}else{for(var xe=v(J,N.hole||[]),_e=0,De=xe.length;_e<De;_e++)re[xe[_e]]!=null&&(xe[_e]=re[xe[_e]]);N.triangles=xe}}var Fe=new Float64Array(k);p(Fe,2,W);var Te=new Float64Array(O*2+6);N.close?k[0]===k[O*2-2]&&k[1]===k[O*2-1]?(Te[0]=Fe[O*2-4],Te[1]=Fe[O*2-3]):(Te[0]=Fe[O*2-2],Te[1]=Fe[O*2-1]):(Te[0]=Fe[0],Te[1]=Fe[1]),Te.set(Fe,2),N.close?k[0]===k[O*2-2]&&k[1]===k[O*2-1]?(Te[O*2+2]=Fe[2],Te[O*2+3]=Fe[3],N.count-=1):(Te[O*2+2]=Fe[0],Te[O*2+3]=Fe[1],Te[O*2+4]=Fe[2],Te[O*2+5]=Fe[3]):(Te[O*2+2]=Fe[O*2-2],Te[O*2+3]=Fe[O*2-1],Te[O*2+4]=Fe[O*2-2],Te[O*2+5]=Fe[O*2-1]);var Re=t(Te);N.positionBuffer(Re);var Se=a(Te,Re);N.positionFractBuffer(Se)}if(I.range?N.range=I.range:N.range||(N.range=N.bounds),(I.range||I.positions)&&N.count){var ke=N.bounds,Me=ke[2]-ke[0],Ve=ke[3]-ke[1],tt=N.range[2]-N.range[0],it=N.range[3]-N.range[1];N.scale=[Me/tt,Ve/it],N.translate=[-N.range[0]/tt+ke[0]/tt||0,-N.range[1]/it+ke[1]/it||0],N.scaleFract=a(N.scale),N.translateFract=a(N.translate)}if(I.dashes){var Je=0,Qe;if(!I.dashes||I.dashes.length<2)Je=1,Qe=new Uint8Array([255,255,255,255,255,255,255,255]);else{Je=0;for(var ct=0;ct<I.dashes.length;++ct)Je+=I.dashes[ct];Qe=new Uint8Array(Je*d.dashMult);for(var ht=0,dt=255,Tt=0;Tt<2;Tt++)for(var Et=0;Et<I.dashes.length;++Et){for(var rt=0,ze=I.dashes[Et]*d.dashMult*.5;rt<ze;++rt)Qe[ht++]=dt;dt^=255}}N.dashLength=Je,N.dashTexture({channels:1,data:Qe,width:Qe.length,height:1,mag:"linear",min:"linear"},0,0)}if(I.color){var Ge=N.count,je=I.color;je||(je="transparent");var We=new Uint8Array(Ge*4+4);if(!Array.isArray(je)||typeof je[0]=="number")for(var Le=m(je,"uint8"),Pe=0;Pe<Ge+1;Pe++)We.set(Le,Pe*4);else{for(var Ye=0;Ye<Ge;Ye++){var Ce=m(je[Ye],"uint8");We.set(Ce,Ye*4)}We.set(m(je[0],"uint8"),Ge*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}}),b.length<this.passes.length){for(var A=b.length;A<this.passes.length;A++){var o=this.passes[A];o&&(o.colorBuffer.destroy(),o.positionBuffer.destroy(),o.dashTexture.destroy())}this.passes.length=b.length}for(var M=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&M.push(this.passes[x]);return this.passes=M,this}},d.prototype.destroy=function(){return this.passes.forEach(function(b){b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(G,H,e){function m(o,M){var x=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(x!=null){var I,D,N,k,O=[],F=!0,z=!1;try{if(N=(x=x.call(o)).next,M!==0)for(;!(F=(I=N.call(x)).done)&&(O.push(I.value),O.length!==M);F=!0);}catch(B){z=!0,D=B}finally{try{if(!F&&x.return!=null&&(k=x.return(),Object(k)!==k))return}finally{if(z)throw D}}return O}}function P(o,M){return S(o)||m(o,M)||p(o,M)||a()}function s(o){return L(o)||v(o)||p(o)||t()}function L(o){if(Array.isArray(o))return r(o)}function S(o){if(Array.isArray(o))return o}function v(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function p(o,M){if(o){if(typeof o=="string")return r(o,M);var x=Object.prototype.toString.call(o).slice(8,-1);if(x==="Object"&&o.constructor&&(x=o.constructor.name),x==="Map"||x==="Set")return Array.from(o);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return r(o,M)}}function r(o,M){(M==null||M>o.length)&&(M=o.length);for(var x=0,I=new Array(M);x<M;x++)I[x]=o[x];return I}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),u=e(3808),l=e(3108),g=e(50896),h=e(26444),T=e(55616),c=e(45223),i=e(47520),d=e(96604),b=e(37816),w=e(51160),C=y;function y(o,M){var x=this;if(!(this instanceof y))return new y(o,M);typeof o=="function"?(M||(M={}),M.regl=o):(M=o,o=null),M&&M.length&&(M.positions=M),o=M.regl;var I=o._gl,D,N=[],k={},O=[],F=[null],z=[null],B=255,W=100;this.tooManyColors=d,D=o.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:o,gl:I,groups:O,markerCache:z,markerTextures:F,palette:N,paletteIds:k,paletteTexture:D,maxColors:B,maxSize:W,canvas:I.canvas}),this.update(M);var J={uniforms:{constPointSize:!!M.constPointSize,opacity:o.prop("opacity"),paletteSize:function($,Z){return[x.tooManyColors?0:B,D.height]},pixelRatio:o.context("pixelRatio"),scale:o.prop("scale"),scaleFract:o.prop("scaleFract"),translate:o.prop("translate"),translateFract:o.prop("translateFract"),markerTexture:o.prop("markerTexture"),paletteTexture:D},attributes:{x:function($,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function($,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function($,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function($,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function($,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/x.maxSize)]}},borderSize:function($,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/x.maxSize)]}},colorId:function($,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?N.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function($,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?N.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function($,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:o.prop("elements"),count:o.prop("count"),offset:o.prop("offset"),primitive:"points"},re=g({},J);re.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=o(re);var ne=g({},J);ne.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=o(ne)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var o=this,M=arguments.length,x=new Array(M),I=0;I<M;I++)x[I]=arguments[I];var D=this.groups;if(x.length===1&&Array.isArray(x[0])&&(x[0][0]===null||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var N=0;N<x.length;N++)this.drawItem(N,x[N]);else D.forEach(function(k,O){o.drawItem(O)});return this},y.prototype.drawItem=function(o,M){var x=this.groups,I=x[o];if(typeof M=="number"&&(o=M,I=x[M],M=null),!!(I&&I.count&&I.opacity)){I.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,I,M));for(var D=[],N=1;N<I.activation.length;N++)!I.activation[N]||I.activation[N]!==!0&&!I.activation[N].data.length||D.push.apply(D,s(this.getMarkerDrawOptions(N,I,M)));D.length&&this.drawMarker(D)}},y.prototype.getMarkerDrawOptions=function(o,M,x){var I=M.range,D=M.tree,N=M.viewport,k=M.activation,O=M.selectionBuffer,F=M.count;if(this.regl,!D)return x?[g({},M,{markerTexture:this.markerTextures[o],activation:k[o],count:x.length,elements:x,offset:0})]:[g({},M,{markerTexture:this.markerTextures[o],activation:k[o],offset:0})];var z=[],B=D.range(I,{lod:!0,px:[(I[2]-I[0])/N.width,(I[3]-I[1])/N.height]});if(x){for(var W=k[o],J=W.data,re=new Uint8Array(F),ne=0;ne<x.length;ne++){var le=x[ne];re[le]=J?J[le]:1}O.subdata(re)}for(var $=B.length;$--;){var Z=P(B[$],2),ie=Z[0],X=Z[1];z.push(g({},M,{markerTexture:this.markerTextures[o],activation:x?O:k[o],offset:ie,count:X-ie}))}return z},y.prototype.update=function(){for(var o=this,M=arguments.length,x=new Array(M),I=0;I<M;I++)x[I]=arguments[I];if(x.length){x.length===1&&Array.isArray(x[0])&&(x=x[0]);var D=this.groups,N=this.gl,k=this.regl,O=this.maxSize,F=this.maxColors,z=this.palette;this.groups=D=x.map(function(B,W){var J=D[W];if(B===void 0)return J;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=T(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(o.tooManyColors=B.tooManyColors),J||(D[W]=J={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=g({},y.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=J.marker,delete J.marker),B.marker&&!("positions"in B)&&(B.positions=J.positions,delete J.positions);var re=0,ne=0;if(c(J,B,[{snap:!0,size:function(Te,Re){return Te==null&&(Te=y.defaults.size),re+=Te&&Te.length?1:0,Te},borderSize:function(Te,Re){return Te==null&&(Te=y.defaults.borderSize),re+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,Re){return Te==null&&(Te=y.defaults.color),Te=o.updateColor(Te),ne++,Te},borderColor:function(Te,Re){return Te==null&&(Te=y.defaults.borderColor),Te=o.updateColor(Te),ne++,Te},bounds:function(Te,Re,Se){return"range"in Se||(Se.range=null),Te},positions:function(Te,Re,Se){var ke=Re.snap,Me=Re.positionBuffer,Ve=Re.positionFractBuffer,tt=Re.selectionBuffer;if(Te.x||Te.y)return Te.x.length?Re.xAttr={buffer:k.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:Re.xAttr={buffer:Te.x.buffer,offset:Te.x.offset*4||0,stride:(Te.x.stride||1)*4,count:Te.x.count},Te.y.length?Re.yAttr={buffer:k.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:Re.yAttr={buffer:Te.y.buffer,offset:Te.y.offset*4||0,stride:(Te.y.stride||1)*4,count:Te.y.count},Re.count=Math.max(Re.xAttr.count,Re.yAttr.count),Te;Te=i(Te,"float64");var it=Re.count=Math.floor(Te.length/2),Je=Re.bounds=it?f(Te,2):null;if(!Se.range&&!Re.range&&(delete Re.range,Se.range=Je),!Se.marker&&!Re.marker&&(delete Re.marker,Se.marker=null),ke&&(ke===!0||it>ke)?Re.tree=l(Te,{bounds:Je}):ke&&ke.length&&(Re.tree=ke),Re.tree){var Qe={primitive:"points",usage:"static",data:Re.tree,type:"uint32"};Re.elements?Re.elements(Qe):Re.elements=k.elements(Qe)}var ct=b.float32(Te);Me({data:ct,usage:"dynamic"});var ht=b.fract32(Te,ct);return Ve({data:ht,usage:"dynamic"}),tt({data:new Uint8Array(it),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,Re,Se){var ke=Re.activation;if(ke.forEach(function(ht){return ht&&ht.destroy&&ht.destroy()}),ke.length=0,!Te||typeof Te[0]=="number"){var Me=o.addMarker(Te);ke[Me]=!0}else{for(var Ve=[],tt=0,it=Math.min(Te.length,Re.count);tt<it;tt++){var Je=o.addMarker(Te[tt]);Ve[Je]||(Ve[Je]=new Uint8Array(Re.count)),Ve[Je][tt]=1}for(var Qe=0;Qe<Ve.length;Qe++)if(Ve[Qe]){var ct={data:Ve[Qe],type:"uint8",usage:"static"};ke[Qe]?ke[Qe](ct):ke[Qe]=k.buffer(ct),ke[Qe].data=Ve[Qe]}}return Te},range:function(Te,Re,Se){var ke=Re.bounds;if(ke)return Te||(Te=ke),Re.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],Re.translate=[-Te[0],-Te[1]],Re.scaleFract=b.fract(Re.scale),Re.translateFract=b.fract(Re.translate),Te},viewport:function(Te){var Re=w(Te||[N.drawingBufferWidth,N.drawingBufferHeight]);return Re}}]),re){var le=J,$=le.count,Z=le.size,ie=le.borderSize,X=le.sizeBuffer,Q=new Uint8Array($*2);if(Z.length||ie.length)for(var oe=0;oe<$;oe++)Q[oe*2]=Math.round((Z[oe]==null?Z:Z[oe])*255/O),Q[oe*2+1]=Math.round((ie[oe]==null?ie:ie[oe])*255/O);X({data:Q,usage:"dynamic"})}if(ne){var j=J,Y=j.count,se=j.color,te=j.borderColor,fe=j.colorBuffer,ge;if(o.tooManyColors){if(se.length||te.length){ge=new Uint8Array(Y*8);for(var be=0;be<Y;be++){var xe=se[be];ge[be*8]=z[xe*4],ge[be*8+1]=z[xe*4+1],ge[be*8+2]=z[xe*4+2],ge[be*8+3]=z[xe*4+3];var _e=te[be];ge[be*8+4]=z[_e*4],ge[be*8+5]=z[_e*4+1],ge[be*8+6]=z[_e*4+2],ge[be*8+7]=z[_e*4+3]}}}else if(se.length||te.length){ge=new Uint8Array(Y*4+2);for(var De=0;De<Y;De++)se[De]!=null&&(ge[De*4]=se[De]%F,ge[De*4+1]=Math.floor(se[De]/F)),te[De]!=null&&(ge[De*4+2]=te[De]%F,ge[De*4+3]=Math.floor(te[De]/F))}fe({data:ge||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},y.prototype.addMarker=function(o){var M=this.markerTextures,x=this.regl,I=this.markerCache,D=o==null?0:I.indexOf(o);if(D>=0)return D;var N;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)N=o;else{N=new Uint8Array(o.length);for(var k=0,O=o.length;k<O;k++)N[k]=o[k]*255}var F=Math.floor(Math.sqrt(N.length));return D=M.length,I.push(o),M.push(x.texture({channels:1,data:N,radius:F,mag:"linear",min:"linear"})),D},y.prototype.updateColor=function(o){var M=this.paletteIds,x=this.palette,I=this.maxColors;Array.isArray(o)||(o=[o]);var D=[];if(typeof o[0]=="number"){var N=[];if(Array.isArray(o))for(var k=0;k<o.length;k+=4)N.push(o.slice(k,k+4));else for(var O=0;O<o.length;O+=4)N.push(o.subarray(O,O+4));o=N}for(var F=0;F<o.length;F++){var z=o[F];z=n(z,"uint8");var B=u(z,!1);if(M[B]==null){var W=x.length;M[B]=Math.floor(W/4),x[W]=z[0],x[W+1]=z[1],x[W+2]=z[2],x[W+3]=z[3]}D[F]=M[B]}return!this.tooManyColors&&x.length>I*4&&(this.tooManyColors=!0),this.updatePalette(x),D.length===1?D[0]:D},y.prototype.updatePalette=function(o){if(!this.tooManyColors){var M=this.maxColors,x=this.paletteTexture,I=Math.ceil(o.length*.25/M);if(I>1){o=o.slice();for(var D=o.length*.25%M;D<I*M;D++)o.push(0,0,0,0)}x.height<I&&x.resize(M,I),x.subimage({width:Math.min(o.length*.25,M),height:I,data:o},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(o){o.sizeBuffer.destroy(),o.positionBuffer.destroy(),o.positionFractBuffer.destroy(),o.colorBuffer.destroy(),o.activation.forEach(function(M){return M&&M.destroy&&M.destroy()}),o.selectionBuffer.destroy(),o.elements&&o.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(o){return o&&o.destroy&&o.destroy()}),this};var E=e(50896),A=function(M,x){var I=new C(M,x),D=I.render.bind(I);return E(D,{render:D,update:I.update.bind(I),draw:I.draw.bind(I),destroy:I.destroy.bind(I),regl:I.regl,gl:I.gl,canvas:I.gl.canvas,groups:I.groups,markers:I.markerCache,palette:I.palette}),D};G.exports=A},55795:function(G,H,e){var m=e(38540),P=e(55616),s=e(76752),L=e(3951),S=e(67752),v=e(51160),p=e(47520);G.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=m(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],g=arguments.length;g--;)l[g]=arguments[g];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,L(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var g=0;g<u.length;g++)this.updateItem(g,u[g]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,c=0;c<this.traces.length;c++){for(var i=this.traces[c],d=this.traces[c].passes,b=0;b<d.length;b++)h.push(this.passes[d[b]]);i.passOffset=T,T+=i.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,u){var l=this,g=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var h=P(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[f]||(this.traces[f]={id:f,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(p(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var c=0;c<T.columns;c++)T.bounds[c]=s(h.data[c],1)}var i;h.range&&(T.range=h.range,i=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(n),d=!0):T.padding=n(h.padding));var b=T.columns,w=T.count,C=T.viewport.width,y=T.viewport.height,E=T.viewport.x,A=T.viewport.y,o=C/b,M=y/b;T.passes=[];for(var x=0;x<b;x++)for(var I=0;I<b;I++)if(!(!T.diagonal&&I===x)&&!(!T.upper&&x>I)&&!(!T.lower&&x<I)){var D=t(T.id,x,I),N=this.passes[D]||(this.passes[D]={});if(h.data&&(h.transpose?N.positions={x:{buffer:T.buffer,offset:I,count:w,stride:b},y:{buffer:T.buffer,offset:x,count:w,stride:b}}:N.positions={x:{buffer:T.buffer,offset:I*w,count:w},y:{buffer:T.buffer,offset:x*w,count:w}},N.bounds=a(T.bounds,x,I)),h.domain||h.viewport||h.data){var k=d?a(T.padding,x,I):T.padding;if(T.domain){var O=a(T.domain,x,I),F=O[0],z=O[1],B=O[2],W=O[3];N.viewport=[E+F*C+k[0],A+z*y+k[1],E+B*C-k[2],A+W*y-k[3]]}else N.viewport=[E+I*o+o*k[0],A+x*M+M*k[1],E+(I+1)*o-o*k[2],A+(x+1)*M-M*k[3]]}h.color&&(N.color=T.color),h.size&&(N.size=T.size),h.marker&&(N.marker=T.marker),h.borderSize&&(N.borderSize=T.borderSize),h.borderColor&&(N.borderColor=T.borderColor),h.opacity&&(N.opacity=T.opacity),h.range&&(N.range=i?a(T.range,x,I):T.range||N.bounds),T.passes.push(D)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var g=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var T=this.traces[u[h]],c=T.passes,i=T.passOffset;g.push.apply(g,S(i,i+c.length))}else if(u[h].length){var d=u[h],b=this.traces[h],w=b.passes,C=b.passOffset;w=w.map(function(y,E){g[C+E]=d})}(f=this.scatter).draw.apply(f,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var g=f.id!=null?f.id:f,h=u,T=l,c=g<<16|(h&255)<<8|T&255;return c}function a(f,u,l){var g,h,T,c,i=f[u],d=f[l];return i.length>2?(i[0],i[2],g=i[1],h=i[3]):i.length?(g=i[0],h=i[1]):(i.x,g=i.y,i.x+i.width,h=i.y+i.height),d.length>2?(T=d[0],c=d[2],d[1],d[3]):d.length?(T=d[0],c=d[1]):(T=d.x,d.y,c=d.x+d.width,d.y+d.height),[T,g,c,h]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(G){(function(H,e){G.exports=e()})(this,function(){function H(pt,Kt){this.id=fe++,this.type=pt,this.data=Kt}function e(pt){if(pt.length===0)return[];var Kt=pt.charAt(0),Qt=pt.charAt(pt.length-1);if(1<pt.length&&Kt===Qt&&(Kt==='"'||Kt==="'"))return['"'+pt.substr(1,pt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Kt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(pt))return e(pt.substr(0,Kt.index)).concat(e(Kt[1])).concat(e(pt.substr(Kt.index+Kt[0].length)));if(Kt=pt.split("."),Kt.length===1)return['"'+pt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(pt=[],Qt=0;Qt<Kt.length;++Qt)pt=pt.concat(e(Kt[Qt]));return pt}function m(pt){return"["+e(pt).join("][")+"]"}function P(pt,Kt){if(typeof pt=="function")return new H(0,pt);if(typeof pt=="number"||typeof pt=="boolean")return new H(5,pt);if(Array.isArray(pt))return new H(6,pt.map(function(Qt,yr){return P(Qt)}));if(pt instanceof H)return pt}function s(){var pt={"":0},Kt=[""];return{id:function(Qt){var yr=pt[Qt];return yr||(yr=pt[Qt]=Kt.length,Kt.push(Qt),yr)},str:function(Qt){return Kt[Qt]}}}function L(pt,Kt,Qt){function yr(){var lt=window.innerWidth,bt=window.innerHeight;pt!==document.body&&(bt=ur.getBoundingClientRect(),lt=bt.right-bt.left,bt=bt.bottom-bt.top),ur.width=Qt*lt,ur.height=Qt*bt}var ur=document.createElement("canvas");te(ur.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),pt.appendChild(ur),pt===document.body&&(ur.style.position="absolute",te(pt.style,{margin:0,padding:0}));var mt;return pt!==document.body&&typeof ResizeObserver=="function"?(mt=new ResizeObserver(function(){setTimeout(yr)}),mt.observe(pt)):window.addEventListener("resize",yr,!1),yr(),{canvas:ur,onDestroy:function(){mt?mt.disconnect():window.removeEventListener("resize",yr),pt.removeChild(ur)}}}function S(pt,Kt){function Qt(yr){try{return pt.getContext(yr,Kt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(pt){return typeof pt=="string"?pt.split():pt}function p(pt){return typeof pt=="string"?document.querySelector(pt):pt}function r(pt){var Kt=pt||{},Qt,yr,ur,mt;pt={};var lt=[],bt=[],Ct=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Ht={},Bt=function(Ut){},xt=function(){};if(typeof Kt=="string"?Qt=document.querySelector(Kt):typeof Kt=="object"&&(typeof Kt.nodeName=="string"&&typeof Kt.appendChild=="function"&&typeof Kt.getBoundingClientRect=="function"?Qt=Kt:typeof Kt.drawArrays=="function"||typeof Kt.drawElements=="function"?(mt=Kt,ur=mt.canvas):("gl"in Kt?mt=Kt.gl:"canvas"in Kt?ur=p(Kt.canvas):"container"in Kt&&(yr=p(Kt.container)),"attributes"in Kt&&(pt=Kt.attributes),"extensions"in Kt&&(lt=v(Kt.extensions)),"optionalExtensions"in Kt&&(bt=v(Kt.optionalExtensions)),"onDone"in Kt&&(Bt=Kt.onDone),"profile"in Kt&&(Dt=!!Kt.profile),"pixelRatio"in Kt&&(Ct=+Kt.pixelRatio),"cachedCode"in Kt&&(Ht=Kt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?ur=Qt:yr=Qt),!mt){if(!ur){if(Qt=L(yr||document.body,Bt,Ct),!Qt)return null;ur=Qt.canvas,xt=Qt.onDestroy}pt.premultipliedAlpha===void 0&&(pt.premultipliedAlpha=!0),mt=S(ur,pt)}return mt?{gl:mt,canvas:ur,container:yr,extensions:lt,optionalExtensions:bt,pixelRatio:Ct,profile:Dt,cachedCode:Ht,onDone:Bt,onDestroy:xt}:(xt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(pt,Kt){function Qt(lt){lt=lt.toLowerCase();var bt;try{bt=yr[lt]=pt.getExtension(lt)}catch{}return!!bt}for(var yr={},ur=0;ur<Kt.extensions.length;++ur){var mt=Kt.extensions[ur];if(!Qt(mt))return Kt.onDestroy(),Kt.onDone('"'+mt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Kt.optionalExtensions.forEach(Qt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(lt){if(yr[lt]&&!Qt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function a(pt,Kt){for(var Qt=Array(pt),yr=0;yr<pt;++yr)Qt[yr]=Kt(yr);return Qt}function n(pt){var Kt,Qt;return Kt=(65535<pt)<<4,pt>>>=Kt,Qt=(255<pt)<<3,pt>>>=Qt,Kt|=Qt,Qt=(15<pt)<<2,pt>>>=Qt,Kt|=Qt,Qt=(3<pt)<<1,Kt|Qt|pt>>>Qt>>1}function f(){function pt(yr){e:{for(var ur=16;268435456>=ur;ur*=16)if(yr<=ur){yr=ur;break e}yr=0}return ur=Qt[n(yr)>>2],0<ur.length?ur.pop():new ArrayBuffer(yr)}function Kt(yr){Qt[n(yr.byteLength)>>2].push(yr)}var Qt=a(8,function(){return[]});return{alloc:pt,free:Kt,allocType:function(yr,ur){var mt=null;switch(yr){case 5120:mt=new Int8Array(pt(ur),0,ur);break;case 5121:mt=new Uint8Array(pt(ur),0,ur);break;case 5122:mt=new Int16Array(pt(2*ur),0,ur);break;case 5123:mt=new Uint16Array(pt(2*ur),0,ur);break;case 5124:mt=new Int32Array(pt(4*ur),0,ur);break;case 5125:mt=new Uint32Array(pt(4*ur),0,ur);break;case 5126:mt=new Float32Array(pt(4*ur),0,ur);break;default:return null}return mt.length!==ur?mt.subarray(0,ur):mt},freeType:function(yr){Kt(yr.buffer)}}}function u(pt){return!!pt&&typeof pt=="object"&&Array.isArray(pt.shape)&&Array.isArray(pt.stride)&&typeof pt.offset=="number"&&pt.shape.length===pt.stride.length&&(Array.isArray(pt.data)||Fe(pt.data))}function l(pt,Kt,Qt,yr,ur,mt){for(var lt=0;lt<Kt;++lt)for(var bt=pt[lt],Ct=0;Ct<Qt;++Ct)for(var Dt=bt[Ct],Ht=0;Ht<yr;++Ht)ur[mt++]=Dt[Ht]}function g(pt,Kt,Qt,yr,ur){for(var mt=1,lt=Qt+1;lt<Kt.length;++lt)mt*=Kt[lt];var bt=Kt[Qt];if(Kt.length-Qt===4){var Ct=Kt[Qt+1],Dt=Kt[Qt+2];for(Kt=Kt[Qt+3],lt=0;lt<bt;++lt)l(pt[lt],Ct,Dt,Kt,yr,ur),ur+=mt}else for(lt=0;lt<bt;++lt)g(pt[lt],Kt,Qt+1,yr,ur),ur+=mt}function h(pt){return Se[Object.prototype.toString.call(pt)]|0}function T(pt,Kt){for(var Qt=0;Qt<Kt.length;++Qt)pt[Qt]=Kt[Qt]}function c(pt,Kt,Qt,yr,ur,mt,lt){for(var bt=0,Ct=0;Ct<Qt;++Ct)for(var Dt=0;Dt<yr;++Dt)pt[bt++]=Kt[ur*Ct+mt*Dt+lt]}function i(pt,Kt,Qt,yr){function ur(Bt){this.id=Ct++,this.buffer=pt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function mt(Bt,xt,Ut){Bt.byteLength=xt.byteLength,pt.bufferData(Bt.type,xt,Ut)}function lt(Bt,xt,Ut,qt,or,rr){if(Bt.usage=Ut,Array.isArray(xt)){if(Bt.dtype=qt||5126,0<xt.length)if(Array.isArray(xt[0])){or=tt(xt);for(var He=qt=1;He<or.length;++He)qt*=or[He];Bt.dimension=qt,xt=Ve(xt,or,Bt.dtype),mt(Bt,xt,Ut),rr?Bt.persistentData=xt:_e.freeType(xt)}else typeof xt[0]=="number"?(Bt.dimension=or,or=_e.allocType(Bt.dtype,xt.length),T(or,xt),mt(Bt,or,Ut),rr?Bt.persistentData=or:_e.freeType(or)):Fe(xt[0])&&(Bt.dimension=xt[0].length,Bt.dtype=qt||h(xt[0])||5126,xt=Ve(xt,[xt.length,xt[0].length],Bt.dtype),mt(Bt,xt,Ut),rr?Bt.persistentData=xt:_e.freeType(xt))}else if(Fe(xt))Bt.dtype=qt||h(xt),Bt.dimension=or,mt(Bt,xt,Ut),rr&&(Bt.persistentData=new Uint8Array(new Uint8Array(xt.buffer)));else if(u(xt)){or=xt.shape;var Ue=xt.stride,He=xt.offset,Ot=0,It=0,Jt=0,cr=0;or.length===1?(Ot=or[0],It=1,Jt=Ue[0],cr=0):or.length===2&&(Ot=or[0],It=or[1],Jt=Ue[0],cr=Ue[1]),Bt.dtype=qt||h(xt.data)||5126,Bt.dimension=It,or=_e.allocType(Bt.dtype,Ot*It),c(or,xt.data,Ot,It,Jt,cr,He),mt(Bt,or,Ut),rr?Bt.persistentData=or:_e.freeType(or)}else xt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=or,mt(Bt,xt,Ut),rr&&(Bt.persistentData=new Uint8Array(new Uint8Array(xt))))}function bt(Bt){Kt.bufferCount--,yr(Bt),pt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var Ct=0,Dt={};ur.prototype.bind=function(){pt.bindBuffer(this.type,this.buffer)},ur.prototype.destroy=function(){bt(this)};var Ht=[];return Qt.profile&&(Kt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(xt){Bt+=Dt[xt].stats.size}),Bt}),{create:function(Bt,xt,Ut,qt){function or(He){var Ue=35044,Ot=null,It=0,Jt=0,cr=1;return Array.isArray(He)||Fe(He)||u(He)||He instanceof ArrayBuffer?Ot=He:typeof He=="number"?It=He|0:He&&("data"in He&&(Ot=He.data),"usage"in He&&(Ue=Me[He.usage]),"type"in He&&(Jt=ke[He.type]),"dimension"in He&&(cr=He.dimension|0),"length"in He&&(It=He.length|0)),rr.bind(),Ot?lt(rr,Ot,Ue,Jt,cr,qt):(It&&pt.bufferData(rr.type,It,Ue),rr.dtype=Jt||5121,rr.usage=Ue,rr.dimension=cr,rr.byteLength=It),Qt.profile&&(rr.stats.size=rr.byteLength*it[rr.dtype]),or}Kt.bufferCount++;var rr=new ur(xt);return Dt[rr.id]=rr,Ut||or(Bt),or._reglType="buffer",or._buffer=rr,or.subdata=function(He,Ue){var Ot=(Ue||0)|0,It;if(rr.bind(),Fe(He)||He instanceof ArrayBuffer)pt.bufferSubData(rr.type,Ot,He);else if(Array.isArray(He)){if(0<He.length)if(typeof He[0]=="number"){var Jt=_e.allocType(rr.dtype,He.length);T(Jt,He),pt.bufferSubData(rr.type,Ot,Jt),_e.freeType(Jt)}else(Array.isArray(He[0])||Fe(He[0]))&&(It=tt(He),Jt=Ve(He,It,rr.dtype),pt.bufferSubData(rr.type,Ot,Jt),_e.freeType(Jt))}else if(u(He)){It=He.shape;var cr=He.stride,vr=Jt=0,tr=0,Nt=0;It.length===1?(Jt=It[0],vr=1,tr=cr[0],Nt=0):It.length===2&&(Jt=It[0],vr=It[1],tr=cr[0],Nt=cr[1]),It=Array.isArray(He.data)?rr.dtype:h(He.data),It=_e.allocType(It,Jt*vr),c(It,He.data,Jt,vr,tr,Nt,He.offset),pt.bufferSubData(rr.type,Ot,It),_e.freeType(It)}return or},Qt.profile&&(or.stats=rr.stats),or.destroy=function(){bt(rr)},or},createStream:function(Bt,xt){var Ut=Ht.pop();return Ut||(Ut=new ur(Bt)),Ut.bind(),lt(Ut,xt,35040,0,1,!1),Ut},destroyStream:function(Bt){Ht.push(Bt)},clear:function(){Te(Dt).forEach(bt),Ht.forEach(bt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof ur?Bt._buffer:null},restore:function(){Te(Dt).forEach(function(Bt){Bt.buffer=pt.createBuffer(),pt.bindBuffer(Bt.type,Bt.buffer),pt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:lt}}function d(pt,Kt,Qt,yr){function ur(Bt){this.id=Ct++,bt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function mt(Bt,xt,Ut,qt,or,rr,He){Bt.buffer.bind();var Ue;if(xt?((Ue=He)||Fe(xt)&&(!u(xt)||Fe(xt.data))||(Ue=Kt.oes_element_index_uint?5125:5123),Qt._initBuffer(Bt.buffer,xt,Ut,Ue,3)):(pt.bufferData(34963,rr,Ut),Bt.buffer.dtype=Ue||5121,Bt.buffer.usage=Ut,Bt.buffer.dimension=3,Bt.buffer.byteLength=rr),Ue=He,!He){switch(Bt.buffer.dtype){case 5121:case 5120:Ue=5121;break;case 5123:case 5122:Ue=5123;break;case 5125:case 5124:Ue=5125}Bt.buffer.dtype=Ue}Bt.type=Ue,xt=or,0>xt&&(xt=Bt.buffer.byteLength,Ue===5123?xt>>=1:Ue===5125&&(xt>>=2)),Bt.vertCount=xt,xt=qt,0>qt&&(xt=4,qt=Bt.buffer.dimension,qt===1&&(xt=0),qt===2&&(xt=1),qt===3&&(xt=4)),Bt.primType=xt}function lt(Bt){yr.elementsCount--,delete bt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var bt={},Ct=0,Dt={uint8:5121,uint16:5123};Kt.oes_element_index_uint&&(Dt.uint32=5125),ur.prototype.bind=function(){this.buffer.bind()};var Ht=[];return{create:function(Bt,xt){function Ut(rr){if(rr)if(typeof rr=="number")qt(rr),or.primType=4,or.vertCount=rr|0,or.type=5121;else{var He=null,Ue=35044,Ot=-1,It=-1,Jt=0,cr=0;Array.isArray(rr)||Fe(rr)||u(rr)?He=rr:("data"in rr&&(He=rr.data),"usage"in rr&&(Ue=Me[rr.usage]),"primitive"in rr&&(Ot=Je[rr.primitive]),"count"in rr&&(It=rr.count|0),"type"in rr&&(cr=Dt[rr.type]),"length"in rr?Jt=rr.length|0:(Jt=It,cr===5123||cr===5122?Jt*=2:(cr===5125||cr===5124)&&(Jt*=4))),mt(or,He,Ue,Ot,It,Jt,cr)}else qt(),or.primType=4,or.vertCount=0,or.type=5121;return Ut}var qt=Qt.create(null,34963,!0),or=new ur(qt._buffer);return yr.elementsCount++,Ut(Bt),Ut._reglType="elements",Ut._elements=or,Ut.subdata=function(rr,He){return qt.subdata(rr,He),Ut},Ut.destroy=function(){lt(or)},Ut},createStream:function(Bt){var xt=Ht.pop();return xt||(xt=new ur(Qt.create(null,34963,!0,!1)._buffer)),mt(xt,Bt,35040,-1,-1,0,0),xt},destroyStream:function(Bt){Ht.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof ur?Bt._elements:null},clear:function(){Te(bt).forEach(lt)}}}function b(pt){for(var Kt=_e.allocType(5123,pt.length),Qt=0;Qt<pt.length;++Qt)if(isNaN(pt[Qt]))Kt[Qt]=65535;else if(pt[Qt]===1/0)Kt[Qt]=31744;else if(pt[Qt]===-1/0)Kt[Qt]=64512;else{Qe[0]=pt[Qt];var mt=ct[0],yr=mt>>>31<<15,ur=(mt<<1>>>24)-127,mt=mt>>13&1023;Kt[Qt]=-24>ur?yr:-14>ur?yr+(mt+1024>>-14-ur):15<ur?yr+31744:yr+(ur+15<<10)+mt}return Kt}function w(pt){return Array.isArray(pt)||Fe(pt)}function C(pt){return"[object "+pt+"]"}function y(pt){return Array.isArray(pt)&&(pt.length===0||typeof pt[0]=="number")}function E(pt){return!!(Array.isArray(pt)&&pt.length!==0&&w(pt[0]))}function A(pt){return Object.prototype.toString.call(pt)}function o(pt){if(!pt)return!1;var Kt=A(pt);return 0<=Le.indexOf(Kt)?!0:y(pt)||E(pt)||u(pt)}function M(pt,Kt){pt.type===36193?(pt.data=b(Kt),_e.freeType(Kt)):pt.data=Kt}function x(pt,Kt,Qt,yr,ur,mt){if(pt=typeof Ye[pt]<"u"?Ye[pt]:Tt[pt]*Pe[Kt],mt&&(pt*=6),ur){for(yr=0;1<=Qt;)yr+=pt*Qt*Qt,Qt/=2;return yr}return pt*Qt*yr}function I(pt,Kt,Qt,yr,ur,mt,lt){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ct(mr,en){mr.internalformat=en.internalformat,mr.format=en.format,mr.type=en.type,mr.compressed=en.compressed,mr.premultiplyAlpha=en.premultiplyAlpha,mr.flipY=en.flipY,mr.unpackAlignment=en.unpackAlignment,mr.colorSpace=en.colorSpace,mr.width=en.width,mr.height=en.height,mr.channels=en.channels}function Dt(mr,en){if(typeof en=="object"&&en){"premultiplyAlpha"in en&&(mr.premultiplyAlpha=en.premultiplyAlpha),"flipY"in en&&(mr.flipY=en.flipY),"alignment"in en&&(mr.unpackAlignment=en.alignment),"colorSpace"in en&&(mr.colorSpace=an[en.colorSpace]),"type"in en&&(mr.type=tn[en.type]);var Jr=mr.width,vn=mr.height,On=mr.channels,bn=!1;"shape"in en?(Jr=en.shape[0],vn=en.shape[1],en.shape.length===3&&(On=en.shape[2],bn=!0)):("radius"in en&&(Jr=vn=en.radius),"width"in en&&(Jr=en.width),"height"in en&&(vn=en.height),"channels"in en&&(On=en.channels,bn=!0)),mr.width=Jr|0,mr.height=vn|0,mr.channels=On|0,Jr=!1,"format"in en&&(Jr=en.format,vn=mr.internalformat=Sn[Jr],mr.format=Pn[vn],Jr in tn&&!("type"in en)&&(mr.type=tn[Jr]),Jr in Tn&&(mr.compressed=!0),Jr=!0),!bn&&Jr?mr.channels=Tt[mr.format]:bn&&!Jr&&mr.channels!==dt[mr.format]&&(mr.format=mr.internalformat=dt[mr.channels])}}function Ht(mr){pt.pixelStorei(37440,mr.flipY),pt.pixelStorei(37441,mr.premultiplyAlpha),pt.pixelStorei(37443,mr.colorSpace),pt.pixelStorei(3317,mr.unpackAlignment)}function Bt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function xt(mr,en){var Jr=null;if(o(en)?Jr=en:en&&(Dt(mr,en),"x"in en&&(mr.xOffset=en.x|0),"y"in en&&(mr.yOffset=en.y|0),o(en.data)&&(Jr=en.data)),en.copy){var vn=ur.viewportWidth,On=ur.viewportHeight;mr.width=mr.width||vn-mr.xOffset,mr.height=mr.height||On-mr.yOffset,mr.needsCopy=!0}else if(!Jr)mr.width=mr.width||1,mr.height=mr.height||1,mr.channels=mr.channels||4;else if(Fe(Jr))mr.channels=mr.channels||4,mr.data=Jr,"type"in en||mr.type!==5121||(mr.type=Se[Object.prototype.toString.call(Jr)]|0);else if(y(Jr)){switch(mr.channels=mr.channels||4,vn=Jr,On=vn.length,mr.type){case 5121:case 5123:case 5125:case 5126:On=_e.allocType(mr.type,On),On.set(vn),mr.data=On;break;case 36193:mr.data=b(vn)}mr.alignment=1,mr.needsFree=!0}else if(u(Jr)){vn=Jr.data,Array.isArray(vn)||mr.type!==5121||(mr.type=Se[Object.prototype.toString.call(vn)]|0);var On=Jr.shape,bn=Jr.stride,An,Nn,$n,ha;On.length===3?($n=On[2],ha=bn[2]):ha=$n=1,An=On[0],Nn=On[1],On=bn[0],bn=bn[1],mr.alignment=1,mr.width=An,mr.height=Nn,mr.channels=$n,mr.format=mr.internalformat=dt[$n],mr.needsFree=!0,An=ha,Jr=Jr.offset,$n=mr.width,ha=mr.height,Nn=mr.channels;for(var Ia=_e.allocType(mr.type===36193?5126:mr.type,$n*ha*Nn),Mr=0,Fr=0;Fr<ha;++Fr)for(var Ar=0;Ar<$n;++Ar)for(var Nr=0;Nr<Nn;++Nr)Ia[Mr++]=vn[On*Ar+bn*Fr+An*Nr+Jr];M(mr,Ia)}else if(A(Jr)===Et||A(Jr)===rt||A(Jr)===ze)A(Jr)===Et||A(Jr)===rt?mr.element=Jr:mr.element=Jr.canvas,mr.width=mr.element.width,mr.height=mr.element.height,mr.channels=4;else if(A(Jr)===Ge)mr.element=Jr,mr.width=Jr.width,mr.height=Jr.height,mr.channels=4;else if(A(Jr)===je)mr.element=Jr,mr.width=Jr.naturalWidth,mr.height=Jr.naturalHeight,mr.channels=4;else if(A(Jr)===We)mr.element=Jr,mr.width=Jr.videoWidth,mr.height=Jr.videoHeight,mr.channels=4;else if(E(Jr)){for(vn=mr.width||Jr[0].length,On=mr.height||Jr.length,bn=mr.channels,bn=w(Jr[0][0])?bn||Jr[0][0].length:bn||1,An=Re.shape(Jr),$n=1,ha=0;ha<An.length;++ha)$n*=An[ha];$n=_e.allocType(mr.type===36193?5126:mr.type,$n),Re.flatten(Jr,An,"",$n),M(mr,$n),mr.alignment=1,mr.width=vn,mr.height=On,mr.channels=bn,mr.format=mr.internalformat=dt[bn],mr.needsFree=!0}}function Ut(mr,en,Jr,vn,On){var bn=mr.element,An=mr.data,Nn=mr.internalformat,$n=mr.format,ha=mr.type,Ia=mr.width,Mr=mr.height;Ht(mr),bn?pt.texSubImage2D(en,On,Jr,vn,$n,ha,bn):mr.compressed?pt.compressedTexSubImage2D(en,On,Jr,vn,Nn,Ia,Mr,An):mr.needsCopy?(yr(),pt.copyTexSubImage2D(en,On,Jr,vn,mr.xOffset,mr.yOffset,Ia,Mr)):pt.texSubImage2D(en,On,Jr,vn,Ia,Mr,$n,ha,An)}function qt(){return Hn.pop()||new Bt}function or(mr){mr.needsFree&&_e.freeType(mr.data),Bt.call(mr),Hn.push(mr)}function rr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function He(mr,en,Jr){var vn=mr.images[0]=qt();mr.mipmask=1,vn.width=mr.width=en,vn.height=mr.height=Jr,vn.channels=mr.channels=4}function Ue(mr,en){var Jr=null;if(o(en))Jr=mr.images[0]=qt(),Ct(Jr,mr),xt(Jr,en),mr.mipmask=1;else if(Dt(mr,en),Array.isArray(en.mipmap))for(var vn=en.mipmap,On=0;On<vn.length;++On)Jr=mr.images[On]=qt(),Ct(Jr,mr),Jr.width>>=On,Jr.height>>=On,xt(Jr,vn[On]),mr.mipmask|=1<<On;else Jr=mr.images[0]=qt(),Ct(Jr,mr),xt(Jr,en),mr.mipmask=1;Ct(mr,mr.images[0])}function Ot(mr,en){for(var Jr=mr.images,vn=0;vn<Jr.length&&Jr[vn];++vn){var On=Jr[vn],bn=en,An=vn,Nn=On.element,$n=On.data,ha=On.internalformat,Ia=On.format,Mr=On.type,Fr=On.width,Ar=On.height;Ht(On),Nn?pt.texImage2D(bn,An,Ia,Ia,Mr,Nn):On.compressed?pt.compressedTexImage2D(bn,An,ha,Fr,Ar,0,$n):On.needsCopy?(yr(),pt.copyTexImage2D(bn,An,Ia,On.xOffset,On.yOffset,Fr,Ar,0)):pt.texImage2D(bn,An,Ia,Fr,Ar,0,Ia,Mr,$n||null)}}function It(){var mr=ia.pop()||new rr;bt.call(mr);for(var en=mr.mipmask=0;16>en;++en)mr.images[en]=null;return mr}function Jt(mr){for(var en=mr.images,Jr=0;Jr<en.length;++Jr)en[Jr]&&or(en[Jr]),en[Jr]=null;ia.push(mr)}function cr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function vr(mr,en){"min"in en&&(mr.minFilter=Dr[en.min],0<=ht.indexOf(mr.minFilter)&&!("faces"in en)&&(mr.genMipmaps=!0)),"mag"in en&&(mr.magFilter=_r[en.mag]);var Jr=mr.wrapS,vn=mr.wrapT;if("wrap"in en){var On=en.wrap;typeof On=="string"?Jr=vn=Hr[On]:Array.isArray(On)&&(Jr=Hr[On[0]],vn=Hr[On[1]])}else"wrapS"in en&&(Jr=Hr[en.wrapS]),"wrapT"in en&&(vn=Hr[en.wrapT]);if(mr.wrapS=Jr,mr.wrapT=vn,"anisotropic"in en&&(mr.anisotropic=en.anisotropic),"mipmap"in en){switch(Jr=!1,typeof en.mipmap){case"string":mr.mipmapHint=pr[en.mipmap],Jr=mr.genMipmaps=!0;break;case"boolean":Jr=mr.genMipmaps=en.mipmap;break;case"object":mr.genMipmaps=!1,Jr=!0}!Jr||"min"in en||(mr.minFilter=9984)}}function tr(mr,en){pt.texParameteri(en,10241,mr.minFilter),pt.texParameteri(en,10240,mr.magFilter),pt.texParameteri(en,10242,mr.wrapS),pt.texParameteri(en,10243,mr.wrapT),Kt.ext_texture_filter_anisotropic&&pt.texParameteri(en,34046,mr.anisotropic),mr.genMipmaps&&(pt.hint(33170,mr.mipmapHint),pt.generateMipmap(en))}function Nt(mr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ya++,this.refCount=1,this.target=mr,this.texture=pt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new cr,lt.profile&&(this.stats={size:0})}function sr(mr){pt.activeTexture(33984),pt.bindTexture(mr.target,mr.texture)}function dr(){var mr=Qn[0];mr?pt.bindTexture(mr.target,mr.texture):pt.bindTexture(3553,null)}function xr(mr){var en=mr.texture,Jr=mr.unit,vn=mr.target;0<=Jr&&(pt.activeTexture(33984+Jr),pt.bindTexture(vn,null),Qn[Jr]=null),pt.deleteTexture(en),mr.texture=null,mr.params=null,mr.pixels=null,mr.refCount=0,delete wa[mr.id],mt.textureCount--}var pr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Hr={repeat:10497,clamp:33071,mirror:33648},_r={nearest:9728,linear:9729},Dr=te({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},_r),an={none:0,browser:37444},tn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Sn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Tn={};Kt.ext_srgb&&(Sn.srgb=35904,Sn.srgba=35906),Kt.oes_texture_float&&(tn.float32=tn.float=5126),Kt.oes_texture_half_float&&(tn.float16=tn["half float"]=36193),Kt.webgl_depth_texture&&(te(Sn,{depth:6402,"depth stencil":34041}),te(tn,{uint16:5123,uint32:5125,"depth stencil":34042})),Kt.webgl_compressed_texture_s3tc&&te(Tn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Kt.webgl_compressed_texture_atc&&te(Tn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Kt.webgl_compressed_texture_pvrtc&&te(Tn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Kt.webgl_compressed_texture_etc1&&(Tn["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(pt.getParameter(34467));Object.keys(Tn).forEach(function(mr){var en=Tn[mr];0<=Tr.indexOf(en)&&(Sn[mr]=en)});var zr=Object.keys(Sn);Qt.textureFormats=zr;var jr=[];Object.keys(Sn).forEach(function(mr){jr[Sn[mr]]=mr});var Or=[];Object.keys(tn).forEach(function(mr){Or[tn[mr]]=mr});var ln=[];Object.keys(_r).forEach(function(mr){ln[_r[mr]]=mr});var fn=[];Object.keys(Dr).forEach(function(mr){fn[Dr[mr]]=mr});var Mn=[];Object.keys(Hr).forEach(function(mr){Mn[Hr[mr]]=mr});var Pn=zr.reduce(function(mr,en){var Jr=Sn[en];return Jr===6409||Jr===6406||Jr===6409||Jr===6410||Jr===6402||Jr===34041||Kt.ext_srgb&&(Jr===35904||Jr===35906)?mr[Jr]=Jr:Jr===32855||0<=en.indexOf("rgba")?mr[Jr]=6408:mr[Jr]=6407,mr},{}),Hn=[],ia=[],ya=0,wa={},Wn=Qt.maxTextureUnits,Qn=Array(Wn).map(function(){return null});return te(Nt.prototype,{bind:function(){this.bindCount+=1;var mr=this.unit;if(0>mr){for(var en=0;en<Wn;++en){var Jr=Qn[en];if(Jr){if(0<Jr.bindCount)continue;Jr.unit=-1}Qn[en]=this,mr=en;break}lt.profile&&mt.maxTextureUnits<mr+1&&(mt.maxTextureUnits=mr+1),this.unit=mr,pt.activeTexture(33984+mr),pt.bindTexture(this.target,this.texture)}return mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&xr(this)}}),lt.profile&&(mt.getTotalTextureSize=function(){var mr=0;return Object.keys(wa).forEach(function(en){mr+=wa[en].stats.size}),mr}),{create2D:function(mr,en){function Jr(On,bn){var An=vn.texInfo;cr.call(An);var Nn=It();return typeof On=="number"?typeof bn=="number"?He(Nn,On|0,bn|0):He(Nn,On|0,On|0):On?(vr(An,On),Ue(Nn,On)):He(Nn,1,1),An.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),vn.mipmask=Nn.mipmask,Ct(vn,Nn),vn.internalformat=Nn.internalformat,Jr.width=Nn.width,Jr.height=Nn.height,sr(vn),Ot(Nn,3553),tr(An,3553),dr(),Jt(Nn),lt.profile&&(vn.stats.size=x(vn.internalformat,vn.type,Nn.width,Nn.height,An.genMipmaps,!1)),Jr.format=jr[vn.internalformat],Jr.type=Or[vn.type],Jr.mag=ln[An.magFilter],Jr.min=fn[An.minFilter],Jr.wrapS=Mn[An.wrapS],Jr.wrapT=Mn[An.wrapT],Jr}var vn=new Nt(3553);return wa[vn.id]=vn,mt.textureCount++,Jr(mr,en),Jr.subimage=function(On,bn,An,Nn){bn|=0,An|=0,Nn|=0;var $n=qt();return Ct($n,vn),$n.width=0,$n.height=0,xt($n,On),$n.width=$n.width||(vn.width>>Nn)-bn,$n.height=$n.height||(vn.height>>Nn)-An,sr(vn),Ut($n,3553,bn,An,Nn),dr(),or($n),Jr},Jr.resize=function(On,bn){var An=On|0,Nn=bn|0||An;if(An===vn.width&&Nn===vn.height)return Jr;Jr.width=vn.width=An,Jr.height=vn.height=Nn,sr(vn);for(var $n=0;vn.mipmask>>$n;++$n){var ha=An>>$n,Ia=Nn>>$n;if(!ha||!Ia)break;pt.texImage2D(3553,$n,vn.format,ha,Ia,0,vn.format,vn.type,null)}return dr(),lt.profile&&(vn.stats.size=x(vn.internalformat,vn.type,An,Nn,!1,!1)),Jr},Jr._reglType="texture2d",Jr._texture=vn,lt.profile&&(Jr.stats=vn.stats),Jr.destroy=function(){vn.decRef()},Jr},createCube:function(mr,en,Jr,vn,On,bn){function An(ha,Ia,Mr,Fr,Ar,Nr){var mn,Rn=Nn.texInfo;for(cr.call(Rn),mn=0;6>mn;++mn)$n[mn]=It();if(typeof ha=="number"||!ha)for(ha=ha|0||1,mn=0;6>mn;++mn)He($n[mn],ha,ha);else if(typeof ha=="object")if(Ia)Ue($n[0],ha),Ue($n[1],Ia),Ue($n[2],Mr),Ue($n[3],Fr),Ue($n[4],Ar),Ue($n[5],Nr);else if(vr(Rn,ha),Dt(Nn,ha),"faces"in ha)for(ha=ha.faces,mn=0;6>mn;++mn)Ct($n[mn],Nn),Ue($n[mn],ha[mn]);else for(mn=0;6>mn;++mn)Ue($n[mn],ha);for(Ct(Nn,$n[0]),Nn.mipmask=Rn.genMipmaps?($n[0].width<<1)-1:$n[0].mipmask,Nn.internalformat=$n[0].internalformat,An.width=$n[0].width,An.height=$n[0].height,sr(Nn),mn=0;6>mn;++mn)Ot($n[mn],34069+mn);for(tr(Rn,34067),dr(),lt.profile&&(Nn.stats.size=x(Nn.internalformat,Nn.type,An.width,An.height,Rn.genMipmaps,!0)),An.format=jr[Nn.internalformat],An.type=Or[Nn.type],An.mag=ln[Rn.magFilter],An.min=fn[Rn.minFilter],An.wrapS=Mn[Rn.wrapS],An.wrapT=Mn[Rn.wrapT],mn=0;6>mn;++mn)Jt($n[mn]);return An}var Nn=new Nt(34067);wa[Nn.id]=Nn,mt.cubeCount++;var $n=Array(6);return An(mr,en,Jr,vn,On,bn),An.subimage=function(ha,Ia,Mr,Fr,Ar){Mr|=0,Fr|=0,Ar|=0;var Nr=qt();return Ct(Nr,Nn),Nr.width=0,Nr.height=0,xt(Nr,Ia),Nr.width=Nr.width||(Nn.width>>Ar)-Mr,Nr.height=Nr.height||(Nn.height>>Ar)-Fr,sr(Nn),Ut(Nr,34069+ha,Mr,Fr,Ar),dr(),or(Nr),An},An.resize=function(ha){if(ha|=0,ha!==Nn.width){An.width=Nn.width=ha,An.height=Nn.height=ha,sr(Nn);for(var Ia=0;6>Ia;++Ia)for(var Mr=0;Nn.mipmask>>Mr;++Mr)pt.texImage2D(34069+Ia,Mr,Nn.format,ha>>Mr,ha>>Mr,0,Nn.format,Nn.type,null);return dr(),lt.profile&&(Nn.stats.size=x(Nn.internalformat,Nn.type,An.width,An.height,!1,!0)),An}},An._reglType="textureCube",An._texture=Nn,lt.profile&&(An.stats=Nn.stats),An.destroy=function(){Nn.decRef()},An},clear:function(){for(var mr=0;mr<Wn;++mr)pt.activeTexture(33984+mr),pt.bindTexture(3553,null),Qn[mr]=null;Te(wa).forEach(xr),mt.cubeCount=0,mt.textureCount=0},getTexture:function(mr){return null},restore:function(){for(var mr=0;mr<Wn;++mr){var en=Qn[mr];en&&(en.bindCount=0,en.unit=-1,Qn[mr]=null)}Te(wa).forEach(function(Jr){Jr.texture=pt.createTexture(),pt.bindTexture(Jr.target,Jr.texture);for(var vn=0;32>vn;++vn)if(Jr.mipmask&1<<vn)if(Jr.target===3553)pt.texImage2D(3553,vn,Jr.internalformat,Jr.width>>vn,Jr.height>>vn,0,Jr.internalformat,Jr.type,null);else for(var On=0;6>On;++On)pt.texImage2D(34069+On,vn,Jr.internalformat,Jr.width>>vn,Jr.height>>vn,0,Jr.internalformat,Jr.type,null);tr(Jr.texInfo,Jr.target)})},refresh:function(){for(var mr=0;mr<Wn;++mr){var en=Qn[mr];en&&(en.bindCount=0,en.unit=-1,Qn[mr]=null),pt.activeTexture(33984+mr),pt.bindTexture(3553,null),pt.bindTexture(34067,null)}}}}function D(pt,Kt,Qt,yr,ur,mt){function lt(Nt,sr,dr){this.target=Nt,this.texture=sr,this.renderbuffer=dr;var xr=Nt=0;sr?(Nt=sr.width,xr=sr.height):dr&&(Nt=dr.width,xr=dr.height),this.width=Nt,this.height=xr}function bt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Ct(Nt,sr,dr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function Dt(Nt,sr){sr&&(sr.texture?pt.framebufferTexture2D(36160,Nt,sr.target,sr.texture._texture.texture,0):pt.framebufferRenderbuffer(36160,Nt,36161,sr.renderbuffer._renderbuffer.renderbuffer))}function Ht(Nt){var sr=3553,dr=null,xr=null,pr=Nt;return typeof Nt=="object"&&(pr=Nt.data,"target"in Nt&&(sr=Nt.target|0)),Nt=pr._reglType,Nt==="texture2d"||Nt==="textureCube"?dr=pr:Nt==="renderbuffer"&&(xr=pr,sr=36161),new lt(sr,dr,xr)}function Bt(Nt,sr,dr,xr,pr){return dr?(Nt=yr.create2D({width:Nt,height:sr,format:xr,type:pr}),Nt._texture.refCount=0,new lt(3553,Nt,null)):(Nt=ur.create({width:Nt,height:sr,format:xr}),Nt._renderbuffer.refCount=0,new lt(36161,null,Nt))}function xt(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function Ut(Nt,sr,dr){Nt&&(Nt.texture?Nt.texture.resize(sr,dr):Nt.renderbuffer&&Nt.renderbuffer.resize(sr,dr),Nt.width=sr,Nt.height=dr)}function qt(){this.id=vr++,tr[this.id]=this,this.framebuffer=pt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function or(Nt){Nt.colorAttachments.forEach(bt),bt(Nt.depthAttachment),bt(Nt.stencilAttachment),bt(Nt.depthStencilAttachment)}function rr(Nt){pt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,mt.framebufferCount--,delete tr[Nt.id]}function He(Nt){var sr;pt.bindFramebuffer(36160,Nt.framebuffer);var dr=Nt.colorAttachments;for(sr=0;sr<dr.length;++sr)Dt(36064+sr,dr[sr]);for(sr=dr.length;sr<Qt.maxColorAttachments;++sr)pt.framebufferTexture2D(36160,36064+sr,3553,null,0);pt.framebufferTexture2D(36160,33306,3553,null,0),pt.framebufferTexture2D(36160,36096,3553,null,0),pt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,Nt.depthAttachment),Dt(36128,Nt.stencilAttachment),Dt(33306,Nt.depthStencilAttachment),pt.checkFramebufferStatus(36160),pt.isContextLost(),pt.bindFramebuffer(36160,Ot.next?Ot.next.framebuffer:null),Ot.cur=Ot.next,pt.getError()}function Ue(Nt,sr){function dr(pr,Hr){var _r,Dr=0,an=0,tn=!0,Sn=!0;_r=null;var Tn=!0,Tr="rgba",zr="uint8",jr=1,Or=null,ln=null,fn=null,Mn=!1;typeof pr=="number"?(Dr=pr|0,an=Hr|0||Dr):pr?("shape"in pr?(an=pr.shape,Dr=an[0],an=an[1]):("radius"in pr&&(Dr=an=pr.radius),"width"in pr&&(Dr=pr.width),"height"in pr&&(an=pr.height)),("color"in pr||"colors"in pr)&&(_r=pr.color||pr.colors),_r||("colorCount"in pr&&(jr=pr.colorCount|0),"colorTexture"in pr&&(Tn=!!pr.colorTexture,Tr="rgba4"),"colorType"in pr&&(zr=pr.colorType,!Tn)&&(zr==="half float"||zr==="float16"?Tr="rgba16f":(zr==="float"||zr==="float32")&&(Tr="rgba32f")),"colorFormat"in pr&&(Tr=pr.colorFormat,0<=It.indexOf(Tr)?Tn=!0:0<=Jt.indexOf(Tr)&&(Tn=!1))),("depthTexture"in pr||"depthStencilTexture"in pr)&&(Mn=!(!pr.depthTexture&&!pr.depthStencilTexture)),"depth"in pr&&(typeof pr.depth=="boolean"?tn=pr.depth:(Or=pr.depth,Sn=!1)),"stencil"in pr&&(typeof pr.stencil=="boolean"?Sn=pr.stencil:(ln=pr.stencil,tn=!1)),"depthStencil"in pr&&(typeof pr.depthStencil=="boolean"?tn=Sn=pr.depthStencil:(fn=pr.depthStencil,Sn=tn=!1))):Dr=an=1;var Pn=null,Hn=null,ia=null,ya=null;if(Array.isArray(_r))Pn=_r.map(Ht);else if(_r)Pn=[Ht(_r)];else for(Pn=Array(jr),_r=0;_r<jr;++_r)Pn[_r]=Bt(Dr,an,Tn,Tr,zr);for(Dr=Dr||Pn[0].width,an=an||Pn[0].height,Or?Hn=Ht(Or):tn&&!Sn&&(Hn=Bt(Dr,an,Mn,"depth","uint32")),ln?ia=Ht(ln):Sn&&!tn&&(ia=Bt(Dr,an,!1,"stencil","uint8")),fn?ya=Ht(fn):!Or&&!ln&&Sn&&tn&&(ya=Bt(Dr,an,Mn,"depth stencil","depth stencil")),tn=null,_r=0;_r<Pn.length;++_r)Ct(Pn[_r]),Pn[_r]&&Pn[_r].texture&&(Sn=me[Pn[_r].texture._texture.format]*Ne[Pn[_r].texture._texture.type],tn===null&&(tn=Sn));return Ct(Hn),Ct(ia),Ct(ya),or(xr),xr.width=Dr,xr.height=an,xr.colorAttachments=Pn,xr.depthAttachment=Hn,xr.stencilAttachment=ia,xr.depthStencilAttachment=ya,dr.color=Pn.map(xt),dr.depth=xt(Hn),dr.stencil=xt(ia),dr.depthStencil=xt(ya),dr.width=xr.width,dr.height=xr.height,He(xr),dr}var xr=new qt;return mt.framebufferCount++,dr(Nt,sr),te(dr,{resize:function(pr,Hr){var _r=Math.max(pr|0,1),Dr=Math.max(Hr|0||_r,1);if(_r===xr.width&&Dr===xr.height)return dr;for(var an=xr.colorAttachments,tn=0;tn<an.length;++tn)Ut(an[tn],_r,Dr);return Ut(xr.depthAttachment,_r,Dr),Ut(xr.stencilAttachment,_r,Dr),Ut(xr.depthStencilAttachment,_r,Dr),xr.width=dr.width=_r,xr.height=dr.height=Dr,He(xr),dr},_reglType:"framebuffer",_framebuffer:xr,destroy:function(){rr(xr),or(xr)},use:function(pr){Ot.setFBO({framebuffer:dr},pr)}})}var Ot={cur:null,next:null,dirty:!1,setFBO:null},It=["rgba"],Jt=["rgba4","rgb565","rgb5 a1"];Kt.ext_srgb&&Jt.push("srgba"),Kt.ext_color_buffer_half_float&&Jt.push("rgba16f","rgb16f"),Kt.webgl_color_buffer_float&&Jt.push("rgba32f");var cr=["uint8"];Kt.oes_texture_half_float&&cr.push("half float","float16"),Kt.oes_texture_float&&cr.push("float","float32");var vr=0,tr={};return te(Ot,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof qt)?Nt:null},create:Ue,createCube:function(Nt){function sr(xr){var pr,Hr={color:null},_r=0,Dr=null;pr="rgba";var an="uint8",tn=1;if(typeof xr=="number"?_r=xr|0:xr?("shape"in xr?_r=xr.shape[0]:("radius"in xr&&(_r=xr.radius|0),"width"in xr?_r=xr.width|0:"height"in xr&&(_r=xr.height|0)),("color"in xr||"colors"in xr)&&(Dr=xr.color||xr.colors),Dr||("colorCount"in xr&&(tn=xr.colorCount|0),"colorType"in xr&&(an=xr.colorType),"colorFormat"in xr&&(pr=xr.colorFormat)),"depth"in xr&&(Hr.depth=xr.depth),"stencil"in xr&&(Hr.stencil=xr.stencil),"depthStencil"in xr&&(Hr.depthStencil=xr.depthStencil)):_r=1,Dr)if(Array.isArray(Dr))for(xr=[],pr=0;pr<Dr.length;++pr)xr[pr]=Dr[pr];else xr=[Dr];else for(xr=Array(tn),Dr={radius:_r,format:pr,type:an},pr=0;pr<tn;++pr)xr[pr]=yr.createCube(Dr);for(Hr.color=Array(xr.length),pr=0;pr<xr.length;++pr)tn=xr[pr],_r=_r||tn.width,Hr.color[pr]={target:34069,data:xr[pr]};for(pr=0;6>pr;++pr){for(tn=0;tn<xr.length;++tn)Hr.color[tn].target=34069+pr;0<pr&&(Hr.depth=dr[0].depth,Hr.stencil=dr[0].stencil,Hr.depthStencil=dr[0].depthStencil),dr[pr]?dr[pr](Hr):dr[pr]=Ue(Hr)}return te(sr,{width:_r,height:_r,color:xr})}var dr=Array(6);return sr(Nt),te(sr,{faces:dr,resize:function(xr){var pr=xr|0;if(pr===sr.width)return sr;var Hr=sr.color;for(xr=0;xr<Hr.length;++xr)Hr[xr].resize(pr);for(xr=0;6>xr;++xr)dr[xr].resize(pr);return sr.width=sr.height=pr,sr},_reglType:"framebufferCube",destroy:function(){dr.forEach(function(xr){xr.destroy()})}})},clear:function(){Te(tr).forEach(rr)},restore:function(){Ot.cur=null,Ot.next=null,Ot.dirty=!0,Te(tr).forEach(function(Nt){Nt.framebuffer=pt.createFramebuffer(),He(Nt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(pt,Kt,Qt,yr,ur,mt,lt){function bt(He){if(He!==rr.currentVAO){var Ue=Kt.oes_vertex_array_object;He?Ue.bindVertexArrayOES(He.vao):Ue.bindVertexArrayOES(null),rr.currentVAO=He}}function Ct(He){if(He!==rr.currentVAO){if(He)He.bindAttrs();else{for(var Ue=Kt.angle_instanced_arrays,Ot=0;Ot<Ut.length;++Ot){var It=Ut[Ot];It.buffer?(pt.enableVertexAttribArray(Ot),It.buffer.bind(),pt.vertexAttribPointer(Ot,It.size,It.type,It.normalized,It.stride,It.offfset),Ue&&It.divisor&&Ue.vertexAttribDivisorANGLE(Ot,It.divisor)):(pt.disableVertexAttribArray(Ot),pt.vertexAttrib4f(Ot,It.x,It.y,It.z,It.w))}lt.elements?pt.bindBuffer(34963,lt.elements.buffer.buffer):pt.bindBuffer(34963,null)}rr.currentVAO=He}}function Dt(){Te(or).forEach(function(He){He.destroy()})}function Ht(){this.id=++qt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var He=Kt.oes_vertex_array_object;this.vao=He?He.createVertexArrayOES():null,or[this.id]=this,this.buffers=[]}function Bt(){Kt.oes_vertex_array_object&&Te(or).forEach(function(He){He.refresh()})}var xt=Qt.maxAttributes,Ut=Array(xt);for(Qt=0;Qt<xt;++Qt)Ut[Qt]=new N;var qt=0,or={},rr={Record:N,scope:{},state:Ut,currentVAO:null,targetVAO:null,restore:Kt.oes_vertex_array_object?Bt:function(){},createVAO:function(He){function Ue(It){var Jt;Array.isArray(It)?(Jt=It,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(It.elements?(Jt=It.elements,Ot.ownsElements?(typeof Jt=="function"&&Jt._reglType==="elements"?Ot.elements.destroy():Ot.elements(Jt),Ot.ownsElements=!1):mt.getElements(It.elements)?(Ot.elements=It.elements,Ot.ownsElements=!1):(Ot.elements=mt.create(It.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),Jt=It.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in It&&(Ot.offset=It.offset|0),"count"in It&&(Ot.count=It.count|0),"instances"in It&&(Ot.instances=It.instances|0),"primitive"in It&&(Ot.primitive=Je[It.primitive])),It={};var cr=Ot.attributes;cr.length=Jt.length;for(var vr=0;vr<Jt.length;++vr){var tr=Jt[vr],Nt=cr[vr]=new N,sr=tr.data||tr;if(Array.isArray(sr)||Fe(sr)||u(sr)){var dr;Ot.buffers[vr]&&(dr=Ot.buffers[vr],Fe(sr)&&dr._buffer.byteLength>=sr.byteLength?dr.subdata(sr):(dr.destroy(),Ot.buffers[vr]=null)),Ot.buffers[vr]||(dr=Ot.buffers[vr]=ur.create(tr,34962,!1,!0)),Nt.buffer=ur.getBuffer(dr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,It[vr]=1}else ur.getBuffer(tr)?(Nt.buffer=ur.getBuffer(tr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):ur.getBuffer(tr.buffer)?(Nt.buffer=ur.getBuffer(tr.buffer),Nt.size=(+tr.size||Nt.buffer.dimension)|0,Nt.normalized=!!tr.normalized||!1,Nt.type="type"in tr?ke[tr.type]:Nt.buffer.dtype,Nt.offset=(tr.offset||0)|0,Nt.stride=(tr.stride||0)|0,Nt.divisor=(tr.divisor||0)|0,Nt.state=1):"x"in tr&&(Nt.x=+tr.x||0,Nt.y=+tr.y||0,Nt.z=+tr.z||0,Nt.w=+tr.w||0,Nt.state=2)}for(dr=0;dr<Ot.buffers.length;++dr)!It[dr]&&Ot.buffers[dr]&&(Ot.buffers[dr].destroy(),Ot.buffers[dr]=null);return Ot.refresh(),Ue}var Ot=new Ht;return yr.vaoCount+=1,Ue.destroy=function(){for(var It=0;It<Ot.buffers.length;++It)Ot.buffers[It]&&Ot.buffers[It].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},Ue._vao=Ot,Ue._reglType="vao",Ue(He)},getVAO:function(He){return typeof He=="function"&&He._vao?He._vao:null},destroyBuffer:function(He){for(var Ue=0;Ue<Ut.length;++Ue){var Ot=Ut[Ue];Ot.buffer===He&&(pt.disableVertexAttribArray(Ue),Ot.buffer=null)}},setVAO:Kt.oes_vertex_array_object?bt:Ct,clear:Kt.oes_vertex_array_object?Dt:function(){}};return Ht.prototype.bindAttrs=function(){for(var He=Kt.angle_instanced_arrays,Ue=this.attributes,Ot=0;Ot<Ue.length;++Ot){var It=Ue[Ot];It.buffer?(pt.enableVertexAttribArray(Ot),pt.bindBuffer(34962,It.buffer.buffer),pt.vertexAttribPointer(Ot,It.size,It.type,It.normalized,It.stride,It.offset),He&&It.divisor&&He.vertexAttribDivisorANGLE(Ot,It.divisor)):(pt.disableVertexAttribArray(Ot),pt.vertexAttrib4f(Ot,It.x,It.y,It.z,It.w))}for(He=Ue.length;He<xt;++He)pt.disableVertexAttribArray(He);(He=mt.getElements(this.elements))?pt.bindBuffer(34963,He.buffer.buffer):pt.bindBuffer(34963,null)},Ht.prototype.refresh=function(){var He=Kt.oes_vertex_array_object;He&&(He.bindVertexArrayOES(this.vao),this.bindAttrs(),rr.currentVAO=null,He.bindVertexArrayOES(null))},Ht.prototype.destroy=function(){if(this.vao){var He=Kt.oes_vertex_array_object;this===rr.currentVAO&&(rr.currentVAO=null,He.bindVertexArrayOES(null)),He.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),or[this.id]&&(delete or[this.id],--yr.vaoCount)},rr}function O(pt,Kt,Qt,yr){function ur(qt,or,rr,He){this.name=qt,this.id=or,this.location=rr,this.info=He}function mt(qt,or){for(var rr=0;rr<qt.length;++rr)if(qt[rr].id===or.id){qt[rr].location=or.location;return}qt.push(or)}function lt(qt,or,rr){rr=qt===35632?Dt:Ht;var He=rr[or];if(!He){var Ue=Kt.str(or),He=pt.createShader(qt);pt.shaderSource(He,Ue),pt.compileShader(He),rr[or]=He}return He}function bt(qt,or){this.id=Ut++,this.fragId=qt,this.vertId=or,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ct(qt,or,rr){var He;He=lt(35632,qt.fragId);var Ue=lt(35633,qt.vertId);if(or=qt.program=pt.createProgram(),pt.attachShader(or,He),pt.attachShader(or,Ue),rr)for(He=0;He<rr.length;++He)Ue=rr[He],pt.bindAttribLocation(or,Ue[0],Ue[1]);pt.linkProgram(or),Ue=pt.getProgramParameter(or,35718),yr.profile&&(qt.stats.uniformsCount=Ue);var Ot=qt.uniforms;for(He=0;He<Ue;++He)if(rr=pt.getActiveUniform(or,He))if(1<rr.size)for(var It=0;It<rr.size;++It){var Jt=rr.name.replace("[0]","["+It+"]");mt(Ot,new ur(Jt,Kt.id(Jt),pt.getUniformLocation(or,Jt),rr))}else mt(Ot,new ur(rr.name,Kt.id(rr.name),pt.getUniformLocation(or,rr.name),rr));for(Ue=pt.getProgramParameter(or,35721),yr.profile&&(qt.stats.attributesCount=Ue),qt=qt.attributes,He=0;He<Ue;++He)(rr=pt.getActiveAttrib(or,He))&&mt(qt,new ur(rr.name,Kt.id(rr.name),pt.getAttribLocation(or,rr.name),rr))}var Dt={},Ht={},Bt={},xt=[],Ut=0;return yr.profile&&(Qt.getMaxUniformsCount=function(){var qt=0;return xt.forEach(function(or){or.stats.uniformsCount>qt&&(qt=or.stats.uniformsCount)}),qt},Qt.getMaxAttributesCount=function(){var qt=0;return xt.forEach(function(or){or.stats.attributesCount>qt&&(qt=or.stats.attributesCount)}),qt}),{clear:function(){var qt=pt.deleteShader.bind(pt);Te(Dt).forEach(qt),Dt={},Te(Ht).forEach(qt),Ht={},xt.forEach(function(or){pt.deleteProgram(or.program)}),xt.length=0,Bt={},Qt.shaderCount=0},program:function(qt,or,rr,He){var Ue=Bt[or];Ue||(Ue=Bt[or]={});var Ot=Ue[qt];if(Ot&&(Ot.refCount++,!He))return Ot;var It=new bt(or,qt);return Qt.shaderCount++,Ct(It,rr,He),Ot||(Ue[qt]=It),xt.push(It),te(It,{destroy:function(){if(It.refCount--,0>=It.refCount){pt.deleteProgram(It.program);var Jt=xt.indexOf(It);xt.splice(Jt,1),Qt.shaderCount--}0>=Ue[It.vertId].refCount&&(pt.deleteShader(Ht[It.vertId]),delete Ht[It.vertId],delete Bt[It.fragId][It.vertId]),Object.keys(Bt[It.fragId]).length||(pt.deleteShader(Dt[It.fragId]),delete Dt[It.fragId],delete Bt[It.fragId])}})},restore:function(){Dt={},Ht={};for(var qt=0;qt<xt.length;++qt)Ct(xt[qt],null,xt[qt].attributes.map(function(or){return[or.location,or.name]}))},shader:lt,frag:-1,vert:-1}}function F(pt,Kt,Qt,yr,ur,mt,lt){function bt(Dt){var Ht;Ht=Kt.next===null?5121:Kt.next.colorAttachments[0].texture._texture.type;var Bt=0,xt=0,Ut=yr.framebufferWidth,qt=yr.framebufferHeight,or=null;return Fe(Dt)?or=Dt:Dt&&(Bt=Dt.x|0,xt=Dt.y|0,Ut=(Dt.width||yr.framebufferWidth-Bt)|0,qt=(Dt.height||yr.framebufferHeight-xt)|0,or=Dt.data||null),Qt(),Dt=Ut*qt*4,or||(Ht===5121?or=new Uint8Array(Dt):Ht===5126&&(or=or||new Float32Array(Dt))),pt.pixelStorei(3333,4),pt.readPixels(Bt,xt,Ut,qt,6408,Ht,or),or}function Ct(Dt){var Ht;return Kt.setFBO({framebuffer:Dt.framebuffer},function(){Ht=bt(Dt)}),Ht}return function(Dt){return Dt&&"framebuffer"in Dt?Ct(Dt):bt(Dt)}}function z(pt){for(var Kt=Array(pt.length>>2),yr=0;yr<Kt.length;yr++)Kt[yr]=0;for(yr=0;yr<8*pt.length;yr+=8)Kt[yr>>5]|=(pt.charCodeAt(yr/8)&255)<<24-yr%32;var Qt=8*pt.length;pt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),ur,mt,lt,bt,Ct,Dt,Ht,Bt,xt,Ut,qt;for(Kt[Qt>>5]|=128<<24-Qt%32,Kt[(Qt+64>>9<<4)+15]=Qt,Bt=0;Bt<Kt.length;Bt+=16){for(Qt=pt[0],ur=pt[1],mt=pt[2],lt=pt[3],bt=pt[4],Ct=pt[5],Dt=pt[6],Ht=pt[7],xt=0;64>xt;xt++){if(16>xt)yr[xt]=Kt[xt+Bt];else{Ut=xt,qt=yr[xt-2],qt=J(qt,17)^J(qt,19)^qt>>>10,qt=re(qt,yr[xt-7]);var or;or=yr[xt-15],or=J(or,7)^J(or,18)^or>>>3,yr[Ut]=re(re(qt,or),yr[xt-16])}Ut=bt,Ut=J(Ut,6)^J(Ut,11)^J(Ut,25),Ut=re(re(re(re(Ht,Ut),bt&Ct^~bt&Dt),$e[xt]),yr[xt]),Ht=Qt,Ht=J(Ht,2)^J(Ht,13)^J(Ht,22),qt=re(Ht,Qt&ur^Qt&mt^ur&mt),Ht=Dt,Dt=Ct,Ct=bt,bt=re(lt,Ut),lt=mt,mt=ur,ur=Qt,Qt=re(Ut,qt)}pt[0]=re(Qt,pt[0]),pt[1]=re(ur,pt[1]),pt[2]=re(mt,pt[2]),pt[3]=re(lt,pt[3]),pt[4]=re(bt,pt[4]),pt[5]=re(Ct,pt[5]),pt[6]=re(Dt,pt[6]),pt[7]=re(Ht,pt[7])}for(Kt="",yr=0;yr<32*pt.length;yr+=8)Kt+=String.fromCharCode(pt[yr>>5]>>>24-yr%32&255);return Kt}function B(pt){for(var Kt="",Qt,yr=0;yr<pt.length;yr++)Qt=pt.charCodeAt(yr),Kt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return Kt}function W(pt){for(var Kt="",Qt=-1,yr,ur;++Qt<pt.length;)yr=pt.charCodeAt(Qt),ur=Qt+1<pt.length?pt.charCodeAt(Qt+1):0,55296<=yr&&56319>=yr&&56320<=ur&&57343>=ur&&(yr=65536+((yr&1023)<<10)+(ur&1023),Qt++),127>=yr?Kt+=String.fromCharCode(yr):2047>=yr?Kt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Kt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Kt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Kt}function J(pt,Kt){return pt>>>Kt|pt<<32-Kt}function re(pt,Kt){var Qt=(pt&65535)+(Kt&65535);return(pt>>16)+(Kt>>16)+(Qt>>16)<<16|Qt&65535}function ne(pt){return Array.prototype.slice.call(pt)}function le(pt){return ne(pt).join("")}function $(pt){function Kt(){var Ht=[],Bt=[];return te(function(){Ht.push.apply(Ht,ne(arguments))},{def:function(){var xt="v"+ur++;return Bt.push(xt),0<arguments.length&&(Ht.push(xt,"="),Ht.push.apply(Ht,ne(arguments)),Ht.push(";")),xt},toString:function(){return le([0<Bt.length?"var "+Bt.join(",")+";":"",le(Ht)])}})}function Qt(){function Ht(or,rr){xt(or,rr,"=",Bt.def(or,rr),";")}var Bt=Kt(),xt=Kt(),Ut=Bt.toString,qt=xt.toString;return te(function(){Bt.apply(Bt,ne(arguments))},{def:Bt.def,entry:Bt,exit:xt,save:Ht,set:function(or,rr,He){Ht(or,rr),Bt(or,rr,"=",He,";")},toString:function(){return Ut()+qt()}})}var yr=pt&&pt.cache,ur=0,mt=[],lt=[],bt=[],Ct=Kt(),Dt={};return{global:Ct,link:function(Ht,Bt){var xt=Bt&&Bt.stable;if(!xt){for(var Ut=0;Ut<lt.length;++Ut)if(lt[Ut]===Ht&&!bt[Ut])return mt[Ut]}return Ut="g"+ur++,mt.push(Ut),lt.push(Ht),bt.push(xt),Ut},block:Kt,proc:function(Ht,Bt){function xt(){var rr="a"+Ut.length;return Ut.push(rr),rr}var Ut=[];Bt=Bt||0;for(var qt=0;qt<Bt;++qt)xt();var qt=Qt(),or=qt.toString;return Dt[Ht]=te(qt,{arg:xt,toString:function(){return le(["function(",Ut.join(),"){",or(),"}"])}})},scope:Qt,cond:function(){var Ht=le(arguments),Bt=Qt(),xt=Qt(),Ut=Bt.toString,qt=xt.toString;return te(Bt,{then:function(){return Bt.apply(Bt,ne(arguments)),this},else:function(){return xt.apply(xt,ne(arguments)),this},toString:function(){var or=qt();return or&&(or="else{"+or+"}"),le(["if(",Ht,"){",Ut(),"}",or])}})},compile:function(){var Ht=['"use strict";',Ct,"return {"];Object.keys(Dt).forEach(function(Ut){Ht.push('"',Ut,'":',Dt[Ut].toString(),",")}),Ht.push("}");var Bt=le(Ht).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),xt;return yr&&(xt=B(z(W(Bt))),yr[xt])?yr[xt].apply(null,lt):(Bt=Function.apply(null,mt.concat(Bt)),yr&&(yr[xt]=Bt),Bt.apply(null,lt))}}}function Z(pt){return Array.isArray(pt)||Fe(pt)||u(pt)}function ie(pt){return pt.sort(function(Kt,Qt){return Kt==="viewport"?-1:Qt==="viewport"?1:Kt<Qt?-1:1})}function X(pt,Kt,Qt,yr){this.thisDep=pt,this.contextDep=Kt,this.propDep=Qt,this.append=yr}function Q(pt){return pt&&!(pt.thisDep||pt.contextDep||pt.propDep)}function oe(pt){return new X(!1,!1,!1,pt)}function j(pt,Kt){var Qt=pt.type;if(Qt===0)return Qt=pt.data.length,new X(!0,1<=Qt,2<=Qt,Kt);if(Qt===4)return Qt=pt.data,new X(Qt.thisDep,Qt.contextDep,Qt.propDep,Kt);if(Qt===5)return new X(!1,!1,!1,Kt);if(Qt===6){for(var yr=Qt=!1,ur=!1,mt=0;mt<pt.data.length;++mt){var lt=pt.data[mt];lt.type===1?ur=!0:lt.type===2?yr=!0:lt.type===3?Qt=!0:lt.type===0?(Qt=!0,lt=lt.data,1<=lt&&(yr=!0),2<=lt&&(ur=!0)):lt.type===4&&(Qt=Qt||lt.data.thisDep,yr=yr||lt.data.contextDep,ur=ur||lt.data.propDep)}return new X(Qt,yr,ur,Kt)}return new X(Qt===3,Qt===2,Qt===1,Kt)}function Y(pt,Kt,Qt,yr,ur,mt,lt,bt,Ct,Dt,Ht,Bt,xt,Ut,qt,or){function rr(Mr){return Mr.replace(".","_")}function He(Mr,Fr,Ar){var Nr=rr(Mr);bn.push(Mr),On[Nr]=vn[Nr]=!!Ar,An[Nr]=Fr}function Ue(Mr,Fr,Ar){var Nr=rr(Mr);bn.push(Mr),Array.isArray(Ar)?(vn[Nr]=Ar.slice(),On[Nr]=Ar.slice()):vn[Nr]=On[Nr]=Ar,Nn[Nr]=Fr}function Ot(){var Mr=$({cache:qt}),Fr=Mr.link,Ar=Mr.global;Mr.id=Ia++,Mr.batchId="0";var Nr=Fr($n),mn=Mr.shared={props:"a0"};Object.keys($n).forEach(function(Zr){mn[Zr]=Ar.def(Nr,".",Zr)});var Rn=Mr.next={},gn=Mr.current={};Object.keys(Nn).forEach(function(Zr){Array.isArray(vn[Zr])&&(Rn[Zr]=Ar.def(mn.next,".",Zr),gn[Zr]=Ar.def(mn.current,".",Zr))});var un=Mr.constants={};Object.keys(ha).forEach(function(Zr){un[Zr]=Ar.def(JSON.stringify(ha[Zr]))}),Mr.invoke=function(Zr,Gr){switch(Gr.type){case 0:var qr=["this",mn.context,mn.props,Mr.batchId];return Zr.def(Fr(Gr.data),".call(",qr.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Zr.def(mn.props,Gr.data);case 2:return Zr.def(mn.context,Gr.data);case 3:return Zr.def("this",Gr.data);case 4:return Gr.data.append(Mr,Zr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(wn){return Mr.invoke(Zr,wn)})}},Mr.attribCache={};var Cr={};return Mr.scopeAttrib=function(Zr){if(Zr=Kt.id(Zr),Zr in Cr)return Cr[Zr];var Gr=Dt.scope[Zr];return Gr||(Gr=Dt.scope[Zr]=new Wn),Cr[Zr]=Fr(Gr)},Mr}function It(Mr){var Fr=Mr.static;Mr=Mr.dynamic;var Ar;if("profile"in Fr){var Nr=!!Fr.profile;Ar=oe(function(Rn,gn){return Nr}),Ar.enable=Nr}else if("profile"in Mr){var mn=Mr.profile;Ar=j(mn,function(Rn,gn){return Rn.invoke(gn,mn)})}return Ar}function Jt(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic;if("framebuffer"in Ar){var mn=Ar.framebuffer;return mn?(mn=bt.getFramebuffer(mn),oe(function(gn,un){var Cr=gn.link(mn),Zr=gn.shared;return un.set(Zr.framebuffer,".next",Cr),Zr=Zr.context,un.set(Zr,".framebufferWidth",Cr+".width"),un.set(Zr,".framebufferHeight",Cr+".height"),Cr})):oe(function(gn,un){var Cr=gn.shared;return un.set(Cr.framebuffer,".next","null"),Cr=Cr.context,un.set(Cr,".framebufferWidth",Cr+".drawingBufferWidth"),un.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var Rn=Nr.framebuffer;return j(Rn,function(gn,un){var Gr=gn.invoke(un,Rn),Cr=gn.shared,Zr=Cr.framebuffer,Gr=un.def(Zr,".getFramebuffer(",Gr,")");return un.set(Zr,".next",Gr),Cr=Cr.context,un.set(Cr,".framebufferWidth",Gr+"?"+Gr+".width:"+Cr+".drawingBufferWidth"),un.set(Cr,".framebufferHeight",Gr+"?"+Gr+".height:"+Cr+".drawingBufferHeight"),Gr})}return null}function cr(Mr,Fr,Ar){function Nr(un){if(un in mn){var Cr=mn[un];un=!0;var Zr=Cr.x|0,Gr=Cr.y|0,qr,wn;return"width"in Cr?qr=Cr.width|0:un=!1,"height"in Cr?wn=Cr.height|0:un=!1,new X(!un&&Fr&&Fr.thisDep,!un&&Fr&&Fr.contextDep,!un&&Fr&&Fr.propDep,function(En,Vn){var Bn=En.shared.context,va=qr;"width"in Cr||(va=Vn.def(Bn,".","framebufferWidth","-",Zr));var sa=wn;return"height"in Cr||(sa=Vn.def(Bn,".","framebufferHeight","-",Gr)),[Zr,Gr,va,sa]})}if(un in Rn){var zn=Rn[un];return un=j(zn,function(En,Vn){var _a=En.invoke(Vn,zn),Bn=En.shared.context,va=Vn.def(_a,".x|0"),sa=Vn.def(_a,".y|0"),ga=Vn.def('"width" in ',_a,"?",_a,".width|0:","(",Bn,".","framebufferWidth","-",va,")"),_a=Vn.def('"height" in ',_a,"?",_a,".height|0:","(",Bn,".","framebufferHeight","-",sa,")");return[va,sa,ga,_a]}),Fr&&(un.thisDep=un.thisDep||Fr.thisDep,un.contextDep=un.contextDep||Fr.contextDep,un.propDep=un.propDep||Fr.propDep),un}return Fr?new X(Fr.thisDep,Fr.contextDep,Fr.propDep,function(En,Vn){var Bn=En.shared.context;return[0,0,Vn.def(Bn,".","framebufferWidth"),Vn.def(Bn,".","framebufferHeight")]}):null}var mn=Mr.static,Rn=Mr.dynamic;if(Mr=Nr("viewport")){var gn=Mr;Mr=new X(Mr.thisDep,Mr.contextDep,Mr.propDep,function(un,Cr){var Zr=gn.append(un,Cr),Gr=un.shared.context;return Cr.set(Gr,".viewportWidth",Zr[2]),Cr.set(Gr,".viewportHeight",Zr[3]),Zr})}return{viewport:Mr,scissor_box:Nr("scissor.box")}}function vr(Mr,Fr){var Ar=Mr.static;if(typeof Ar.frag=="string"&&typeof Ar.vert=="string"){if(0<Object.keys(Fr.dynamic).length)return null;var Ar=Fr.static,Nr=Object.keys(Ar);if(0<Nr.length&&typeof Ar[Nr[0]]=="number"){for(var mn=[],Rn=0;Rn<Nr.length;++Rn)mn.push([Ar[Nr[Rn]]|0,Nr[Rn]]);return mn}}return null}function tr(Mr,Fr,Ar){function Nr(Zr){if(Zr in mn){var Gr=Kt.id(mn[Zr]);return Zr=oe(function(){return Gr}),Zr.id=Gr,Zr}if(Zr in Rn){var qr=Rn[Zr];return j(qr,function(wn,zn){var En=wn.invoke(zn,qr);return zn.def(wn.shared.strings,".id(",En,")")})}return null}var mn=Mr.static,Rn=Mr.dynamic,gn=Nr("frag"),un=Nr("vert"),Cr=null;return Q(gn)&&Q(un)?(Cr=Ht.program(un.id,gn.id,null,Ar),Mr=oe(function(Zr,Gr){return Zr.link(Cr)})):Mr=new X(gn&&gn.thisDep||un&&un.thisDep,gn&&gn.contextDep||un&&un.contextDep,gn&&gn.propDep||un&&un.propDep,function(Zr,Gr){var qr=Zr.shared.shader,wn;wn=gn?gn.append(Zr,Gr):Gr.def(qr,".","frag");var zn;return zn=un?un.append(Zr,Gr):Gr.def(qr,".","vert"),Gr.def(qr+".program("+zn+","+wn+")")}),{frag:gn,vert:un,progVar:Mr,program:Cr}}function Nt(Mr,Fr){function Ar(En,Vn){if(En in Nr){var Bn=Nr[En]|0;return Vn?Rn.offset=Bn:Rn.instances=Bn,oe(function(sa,ga){return Vn&&(sa.OFFSET=Bn),Bn})}if(En in mn){var va=mn[En];return j(va,function(sa,ga){var _a=sa.invoke(ga,va);return Vn&&(sa.OFFSET=_a),_a})}if(Vn){if(Cr)return oe(function(sa,ga){return sa.OFFSET=0});if(gn)return new X(un.thisDep,un.contextDep,un.propDep,function(sa,ga){return ga.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.offset:0")})}else if(gn)return new X(un.thisDep,un.contextDep,un.propDep,function(sa,ga){return ga.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Mr.static,mn=Mr.dynamic,Rn={},gn=!1,un=function(){if("vao"in Nr){var En=Nr.vao;return En!==null&&Dt.getVAO(En)===null&&(En=Dt.createVAO(En)),gn=!0,Rn.vao=En,oe(function(Bn){var va=Dt.getVAO(En);return va?Bn.link(va):"null"})}if("vao"in mn){gn=!0;var Vn=mn.vao;return j(Vn,function(Bn,va){var sa=Bn.invoke(va,Vn);return va.def(Bn.shared.vao+".getVAO("+sa+")")})}return null}(),Cr=!1,Zr=function(){if("elements"in Nr){var En=Nr.elements;if(Rn.elements=En,Z(En)){var Vn=Rn.elements=mt.create(En,!0),En=mt.getElements(Vn);Cr=!0}else En&&(En=mt.getElements(En),Cr=!0);return Vn=oe(function(va,sa){if(En){var ga=va.link(En);return va.ELEMENTS=ga}return va.ELEMENTS=null}),Vn.value=En,Vn}if("elements"in mn){Cr=!0;var Bn=mn.elements;return j(Bn,function(va,sa){var ga=va.shared,gi=ga.isBufferArgs,ga=ga.elements,ai=va.invoke(sa,Bn),_a=sa.def("null"),gi=sa.def(gi,"(",ai,")"),ai=va.cond(gi).then(_a,"=",ga,".createStream(",ai,");").else(_a,"=",ga,".getElements(",ai,");");return sa.entry(ai),sa.exit(va.cond(gi).then(ga,".destroyStream(",_a,");")),va.ELEMENTS=_a})}return gn?new X(un.thisDep,un.contextDep,un.propDep,function(va,sa){return sa.def(va.shared.vao+".currentVAO?"+va.shared.elements+".getElements("+va.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Ar("offset",!0),qr=function(){if("primitive"in Nr){var En=Nr.primitive;return Rn.primitive=En,oe(function(Bn,va){return Je[En]})}if("primitive"in mn){var Vn=mn.primitive;return j(Vn,function(Bn,va){var sa=Bn.constants.primTypes,ga=Bn.invoke(va,Vn);return va.def(sa,"[",ga,"]")})}return Cr?Q(Zr)?Zr.value?oe(function(Bn,va){return va.def(Bn.ELEMENTS,".primType")}):oe(function(){return 4}):new X(Zr.thisDep,Zr.contextDep,Zr.propDep,function(Bn,va){var sa=Bn.ELEMENTS;return va.def(sa,"?",sa,".primType:",4)}):gn?new X(un.thisDep,un.contextDep,un.propDep,function(Bn,va){return va.def(Bn.shared.vao+".currentVAO?"+Bn.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Nr){var En=Nr.count|0;return Rn.count=En,oe(function(){return En})}if("count"in mn){var Vn=mn.count;return j(Vn,function(Bn,va){return Bn.invoke(va,Vn)})}return Cr?Q(Zr)?Zr?Gr?new X(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Bn,va){return va.def(Bn.ELEMENTS,".vertCount-",Bn.OFFSET)}):oe(function(Bn,va){return va.def(Bn.ELEMENTS,".vertCount")}):oe(function(){return-1}):new X(Zr.thisDep||Gr.thisDep,Zr.contextDep||Gr.contextDep,Zr.propDep||Gr.propDep,function(Bn,va){var sa=Bn.ELEMENTS;return Bn.OFFSET?va.def(sa,"?",sa,".vertCount-",Bn.OFFSET,":-1"):va.def(sa,"?",sa,".vertCount:-1")}):gn?new X(un.thisDep,un.contextDep,un.propDep,function(Bn,va){return va.def(Bn.shared.vao,".currentVAO?",Bn.shared.vao,".currentVAO.count:-1")}):null}(),zn=Ar("instances",!1);return{elements:Zr,primitive:qr,count:wn,instances:zn,offset:Gr,vao:un,vaoActive:gn,elementsActive:Cr,static:Rn}}function sr(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic,mn={};return bn.forEach(function(Rn){function gn(Cr,Zr){if(Rn in Ar){var Gr=Cr(Ar[Rn]);mn[un]=oe(function(){return Gr})}else if(Rn in Nr){var qr=Nr[Rn];mn[un]=j(qr,function(wn,zn){return Zr(wn,zn,wn.invoke(zn,qr))})}}var un=rr(Rn);switch(Rn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return gn(function(Cr){return Cr},function(Cr,Zr,Gr){return Gr});case"depth.func":return gn(function(Cr){return Zt[Cr]},function(Cr,Zr,Gr){return Zr.def(Cr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return gn(function(Cr){return Cr},function(Cr,Zr,Gr){return Cr=Zr.def("+",Gr,"[0]"),Zr=Zr.def("+",Gr,"[1]"),[Cr,Zr]});case"blend.func":return gn(function(Cr){return[Wt["srcRGB"in Cr?Cr.srcRGB:Cr.src],Wt["dstRGB"in Cr?Cr.dstRGB:Cr.dst],Wt["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],Wt["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Zr,Gr){function qr(Vn,Bn){return Zr.def('"',Vn,Bn,'" in ',Gr,"?",Gr,".",Vn,Bn,":",Gr,".",Vn)}Cr=Cr.constants.blendFuncs;var wn=qr("src","RGB"),En=qr("dst","RGB"),wn=Zr.def(Cr,"[",wn,"]"),zn=Zr.def(Cr,"[",qr("src","Alpha"),"]"),En=Zr.def(Cr,"[",En,"]");return Cr=Zr.def(Cr,"[",qr("dst","Alpha"),"]"),[wn,En,zn,Cr]});case"blend.equation":return gn(function(Cr){if(typeof Cr=="string")return[Qn[Cr],Qn[Cr]];if(typeof Cr=="object")return[Qn[Cr.rgb],Qn[Cr.alpha]]},function(Cr,Zr,Gr){var qr=Cr.constants.blendEquations,wn=Zr.def(),zn=Zr.def();return Cr=Cr.cond("typeof ",Gr,'==="string"'),Cr.then(wn,"=",zn,"=",qr,"[",Gr,"];"),Cr.else(wn,"=",qr,"[",Gr,".rgb];",zn,"=",qr,"[",Gr,".alpha];"),Zr(Cr),[wn,zn]});case"blend.color":return gn(function(Cr){return a(4,function(Zr){return+Cr[Zr]})},function(Cr,Zr,Gr){return a(4,function(qr){return Zr.def("+",Gr,"[",qr,"]")})});case"stencil.mask":return gn(function(Cr){return Cr|0},function(Cr,Zr,Gr){return Zr.def(Gr,"|0")});case"stencil.func":return gn(function(Cr){return[Zt[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Zr,Gr){Cr=Zr.def('"cmp" in ',Gr,"?",Cr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var qr=Zr.def(Gr,".ref|0");return Zr=Zr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Cr,qr,Zr]});case"stencil.opFront":case"stencil.opBack":return gn(function(Cr){return[Rn==="stencil.opBack"?1029:1028,At[Cr.fail||"keep"],At[Cr.zfail||"keep"],At[Cr.zpass||"keep"]]},function(Cr,Zr,Gr){function qr(zn){return Zr.def('"',zn,'" in ',Gr,"?",wn,"[",Gr,".",zn,"]:",7680)}var wn=Cr.constants.stencilOps;return[Rn==="stencil.opBack"?1029:1028,qr("fail"),qr("zfail"),qr("zpass")]});case"polygonOffset.offset":return gn(function(Cr){return[Cr.factor|0,Cr.units|0]},function(Cr,Zr,Gr){return Cr=Zr.def(Gr,".factor|0"),Zr=Zr.def(Gr,".units|0"),[Cr,Zr]});case"cull.face":return gn(function(Cr){var Zr=0;return Cr==="front"?Zr=1028:Cr==="back"&&(Zr=1029),Zr},function(Cr,Zr,Gr){return Zr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return gn(function(Cr){return Cr},function(Cr,Zr,Gr){return Gr});case"frontFace":return gn(function(Cr){return Rt[Cr]},function(Cr,Zr,Gr){return Zr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return gn(function(Cr){return Cr.map(function(Zr){return!!Zr})},function(Cr,Zr,Gr){return a(4,function(qr){return"!!"+Gr+"["+qr+"]"})});case"sample.coverage":return gn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Zr,Gr){return Cr=Zr.def('"value" in ',Gr,"?+",Gr,".value:1"),Zr=Zr.def("!!",Gr,".invert"),[Cr,Zr]})}}),mn}function dr(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic,mn={};return Object.keys(Ar).forEach(function(Rn){var gn=Ar[Rn],un;if(typeof gn=="number"||typeof gn=="boolean")un=oe(function(){return gn});else if(typeof gn=="function"){var Cr=gn._reglType;Cr==="texture2d"||Cr==="textureCube"?un=oe(function(Zr){return Zr.link(gn)}):(Cr==="framebuffer"||Cr==="framebufferCube")&&(un=oe(function(Zr){return Zr.link(gn.color[0])}))}else w(gn)&&(un=oe(function(Zr){return Zr.global.def("[",a(gn.length,function(Gr){return gn[Gr]}),"]")}));un.value=gn,mn[Rn]=un}),Object.keys(Nr).forEach(function(Rn){var gn=Nr[Rn];mn[Rn]=j(gn,function(un,Cr){return un.invoke(Cr,gn)})}),mn}function xr(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic,mn={};return Object.keys(Ar).forEach(function(Rn){var gn=Ar[Rn],un=Kt.id(Rn),Cr=new Wn;if(Z(gn))Cr.state=1,Cr.buffer=ur.getBuffer(ur.create(gn,34962,!1,!0)),Cr.type=0;else{var Zr=ur.getBuffer(gn);if(Zr)Cr.state=1,Cr.buffer=Zr,Cr.type=0;else if("constant"in gn){var Gr=gn.constant;Cr.buffer="null",Cr.state=2,typeof Gr=="number"?Cr.x=Gr:ot.forEach(function(Bn,va){va<Gr.length&&(Cr[Bn]=Gr[va])})}else{var Zr=Z(gn.buffer)?ur.getBuffer(ur.create(gn.buffer,34962,!1,!0)):ur.getBuffer(gn.buffer),qr=gn.offset|0,wn=gn.stride|0,zn=gn.size|0,En=!!gn.normalized,Vn=0;"type"in gn&&(Vn=ke[gn.type]),gn=gn.divisor|0,Cr.buffer=Zr,Cr.state=1,Cr.size=zn,Cr.normalized=En,Cr.type=Vn||Zr.dtype,Cr.offset=qr,Cr.stride=wn,Cr.divisor=gn}}mn[Rn]=oe(function(Bn,va){var sa=Bn.attribCache;if(un in sa)return sa[un];var ga={isStream:!1};return Object.keys(Cr).forEach(function(_a){ga[_a]=Cr[_a]}),Cr.buffer&&(ga.buffer=Bn.link(Cr.buffer),ga.type=ga.type||ga.buffer+".dtype"),sa[un]=ga})}),Object.keys(Nr).forEach(function(Rn){var gn=Nr[Rn];mn[Rn]=j(gn,function(un,Cr){function Zr(sa){Cr(En[sa],"=",Gr,".",sa,"|0;")}var Gr=un.invoke(Cr,gn),zn=un.shared,qr=un.constants,wn=zn.isBufferArgs,zn=zn.buffer,En={isStream:Cr.def(!1)},Vn=new Wn;Vn.state=1,Object.keys(Vn).forEach(function(sa){En[sa]=Cr.def(""+Vn[sa])});var Bn=En.buffer,va=En.type;return Cr("if(",wn,"(",Gr,")){",En.isStream,"=true;",Bn,"=",zn,".createStream(",34962,",",Gr,");",va,"=",Bn,".dtype;","}else{",Bn,"=",zn,".getBuffer(",Gr,");","if(",Bn,"){",va,"=",Bn,".dtype;",'}else if("constant" in ',Gr,"){",En.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',En[ot[0]],"=",Gr,".constant;",ot.slice(1).map(function(sa){return En[sa]}).join("="),"=0;","}else{",ot.map(function(sa,ga){return En[sa]+"="+Gr+".constant.length>"+ga+"?"+Gr+".constant["+ga+"]:0;"}).join(""),"}}else{","if(",wn,"(",Gr,".buffer)){",Bn,"=",zn,".createStream(",34962,",",Gr,".buffer);","}else{",Bn,"=",zn,".getBuffer(",Gr,".buffer);","}",va,'="type" in ',Gr,"?",qr.glTypes,"[",Gr,".type]:",Bn,".dtype;",En.normalized,"=!!",Gr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Cr("}}"),Cr.exit("if(",En.isStream,"){",zn,".destroyStream(",Bn,");","}"),En})}),mn}function pr(Mr){var Fr=Mr.static,Ar=Mr.dynamic,Nr={};return Object.keys(Fr).forEach(function(mn){var Rn=Fr[mn];Nr[mn]=oe(function(gn,un){return typeof Rn=="number"||typeof Rn=="boolean"?""+Rn:gn.link(Rn)})}),Object.keys(Ar).forEach(function(mn){var Rn=Ar[mn];Nr[mn]=j(Rn,function(gn,un){return gn.invoke(un,Rn)})}),Nr}function Hr(Mr,Fr,Ar,Nr,mn){function Rn(Vn){var Bn=un[Vn];Bn&&(Zr[Vn]=Bn)}var gn=vr(Mr,Fr),wn=Jt(Mr),un=cr(Mr,wn),Cr=Nt(Mr),Zr=sr(Mr),Gr=tr(Mr,mn,gn);Rn("viewport"),Rn(rr("scissor.box"));var qr=0<Object.keys(Zr).length,wn={framebuffer:wn,draw:Cr,shader:Gr,state:Zr,dirty:qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=It(Mr),wn.uniforms=dr(Ar),wn.drawVAO=wn.scopeVAO=Cr.vao,!wn.drawVAO&&Gr.program&&!gn&&Qt.angle_instanced_arrays&&Cr.static.elements){var zn=!0;if(Mr=Gr.program.attributes.map(function(Vn){return Vn=Fr.static[Vn],zn=zn&&!!Vn,Vn}),zn&&0<Mr.length){var En=Dt.getVAO(Dt.createVAO({attributes:Mr,elements:Cr.static.elements}));wn.drawVAO=new X(null,null,null,function(Vn,Bn){return Vn.link(En)}),wn.useVAO=!0}}return gn?wn.useVAO=!0:wn.attributes=xr(Fr),wn.context=pr(Nr),wn}function _r(Mr,Fr,Ar){var Nr=Mr.shared.context,mn=Mr.scope();Object.keys(Ar).forEach(function(Rn){Fr.save(Nr,"."+Rn);var gn=Ar[Rn].append(Mr,Fr);Array.isArray(gn)?mn(Nr,".",Rn,"=[",gn.join(),"];"):mn(Nr,".",Rn,"=",gn,";")}),Fr(mn)}function Dr(Mr,Fr,Ar,Nr){var un=Mr.shared,mn=un.gl,Rn=un.framebuffer,gn;en&&(gn=Fr.def(un.extensions,".webgl_draw_buffers"));var Cr=Mr.constants,un=Cr.drawBuffer,Cr=Cr.backBuffer;Mr=Ar?Ar.append(Mr,Fr):Fr.def(Rn,".next"),Nr||Fr("if(",Mr,"!==",Rn,".cur){"),Fr("if(",Mr,"){",mn,".bindFramebuffer(",36160,",",Mr,".framebuffer);"),en&&Fr(gn,".drawBuffersWEBGL(",un,"[",Mr,".colorAttachments.length]);"),Fr("}else{",mn,".bindFramebuffer(",36160,",null);"),en&&Fr(gn,".drawBuffersWEBGL(",Cr,");"),Fr("}",Rn,".cur=",Mr,";"),Nr||Fr("}")}function an(Mr,Fr,Ar){var Nr=Mr.shared,mn=Nr.gl,Rn=Mr.current,gn=Mr.next,un=Nr.current,Cr=Nr.next,Zr=Mr.cond(un,".dirty");bn.forEach(function(Gr){if(Gr=rr(Gr),!(Gr in Ar.state)){var qr,wn;if(Gr in gn){qr=gn[Gr],wn=Rn[Gr];var zn=a(vn[Gr].length,function(En){return Zr.def(qr,"[",En,"]")});Zr(Mr.cond(zn.map(function(En,Vn){return En+"!=="+wn+"["+Vn+"]"}).join("||")).then(mn,".",Nn[Gr],"(",zn,");",zn.map(function(En,Vn){return wn+"["+Vn+"]="+En}).join(";"),";"))}else qr=Zr.def(Cr,".",Gr),zn=Mr.cond(qr,"!==",un,".",Gr),Zr(zn),Gr in An?zn(Mr.cond(qr).then(mn,".enable(",An[Gr],");").else(mn,".disable(",An[Gr],");"),un,".",Gr,"=",qr,";"):zn(mn,".",Nn[Gr],"(",qr,");",un,".",Gr,"=",qr,";")}}),Object.keys(Ar.state).length===0&&Zr(un,".dirty=false;"),Fr(Zr)}function tn(Mr,Fr,Ar,Nr){var mn=Mr.shared,Rn=Mr.current,gn=mn.current,un=mn.gl,Cr;ie(Object.keys(Ar)).forEach(function(Zr){var Gr=Ar[Zr];if(!Nr||Nr(Gr)){var qr=Gr.append(Mr,Fr);if(An[Zr]){var wn=An[Zr];Q(Gr)?(Cr=Mr.link(qr,{stable:!0}),Fr(Mr.cond(Cr).then(un,".enable(",wn,");").else(un,".disable(",wn,");")),Fr(gn,".",Zr,"=",Cr,";")):(Fr(Mr.cond(qr).then(un,".enable(",wn,");").else(un,".disable(",wn,");")),Fr(gn,".",Zr,"=",qr,";"))}else if(w(qr)){var zn=Rn[Zr];Fr(un,".",Nn[Zr],"(",qr,");",qr.map(function(En,Vn){return zn+"["+Vn+"]="+En}).join(";"),";")}else Q(Gr)?(Cr=Mr.link(qr,{stable:!0}),Fr(un,".",Nn[Zr],"(",Cr,");",gn,".",Zr,"=",Cr,";")):Fr(un,".",Nn[Zr],"(",qr,");",gn,".",Zr,"=",qr,";")}})}function Sn(Mr,Fr){mr&&(Mr.instancing=Fr.def(Mr.shared.extensions,".angle_instanced_arrays"))}function Tn(Mr,Fr,Ar,Nr,mn){function Rn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function gn(Vn){zn=Fr.def(),Vn(zn,"=",Rn(),";"),typeof mn=="string"?Vn(Gr,".count+=",mn,";"):Vn(Gr,".count++;"),Ut&&(Nr?(En=Fr.def(),Vn(En,"=",wn,".getNumPendingQueries();")):Vn(wn,".beginQuery(",Gr,");"))}function un(Vn){Vn(Gr,".cpuTime+=",Rn(),"-",zn,";"),Ut&&(Nr?Vn(wn,".pushScopeStats(",En,",",wn,".getNumPendingQueries(),",Gr,");"):Vn(wn,".endQuery();"))}function Cr(Vn){var Bn=Fr.def(qr,".profile");Fr(qr,".profile=",Vn,";"),Fr.exit(qr,".profile=",Bn,";")}var Zr=Mr.shared,Gr=Mr.stats,qr=Zr.current,wn=Zr.timer;Ar=Ar.profile;var zn,En;if(Ar){if(Q(Ar)){Ar.enable?(gn(Fr),un(Fr.exit),Cr("true")):Cr("false");return}Ar=Ar.append(Mr,Fr),Cr(Ar)}else Ar=Fr.def(qr,".profile");Zr=Mr.block(),gn(Zr),Fr("if(",Ar,"){",Zr,"}"),Mr=Mr.block(),un(Mr),Fr.exit("if(",Ar,"){",Mr,"}")}function Tr(Mr,Fr,Ar,Nr,mn){function Rn(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function gn(Cr,Zr,Gr){function qr(){Fr("if(!",Vn,".buffer){",zn,".enableVertexAttribArray(",En,");}");var ga=Gr.type,_a;_a=Gr.size?Fr.def(Gr.size,"||",Zr):Zr,Fr("if(",Vn,".type!==",ga,"||",Vn,".size!==",_a,"||",sa.map(function(gi){return Vn+"."+gi+"!=="+Gr[gi]}).join("||"),"){",zn,".bindBuffer(",34962,",",Bn,".buffer);",zn,".vertexAttribPointer(",[En,_a,ga,Gr.normalized,Gr.stride,Gr.offset],");",Vn,".type=",ga,";",Vn,".size=",_a,";",sa.map(function(gi){return Vn+"."+gi+"="+Gr[gi]+";"}).join(""),"}"),mr&&(ga=Gr.divisor,Fr("if(",Vn,".divisor!==",ga,"){",Mr.instancing,".vertexAttribDivisorANGLE(",[En,ga],");",Vn,".divisor=",ga,";}"))}function wn(){Fr("if(",Vn,".buffer){",zn,".disableVertexAttribArray(",En,");",Vn,".buffer=null;","}if(",ot.map(function(ga,_a){return Vn+"."+ga+"!=="+va[_a]}).join("||"),"){",zn,".vertexAttrib4f(",En,",",va,");",ot.map(function(ga,_a){return Vn+"."+ga+"="+va[_a]+";"}).join(""),"}")}var zn=un.gl,En=Fr.def(Cr,".location"),Vn=Fr.def(un.attributes,"[",En,"]");Cr=Gr.state;var Bn=Gr.buffer,va=[Gr.x,Gr.y,Gr.z,Gr.w],sa=["buffer","normalized","offset","stride"];Cr===1?qr():Cr===2?wn():(Fr("if(",Cr,"===",1,"){"),qr(),Fr("}else{"),wn(),Fr("}"))}var un=Mr.shared;Nr.forEach(function(Cr){var Zr=Cr.name,Gr=Ar.attributes[Zr],qr;if(Gr){if(!mn(Gr))return;qr=Gr.append(Mr,Fr)}else{if(!mn(Xt))return;var wn=Mr.scopeAttrib(Zr);qr={},Object.keys(new Wn).forEach(function(zn){qr[zn]=Fr.def(wn,".",zn)})}gn(Mr.link(Cr),Rn(Cr.info.type),qr)})}function zr(Mr,Fr,Ar,Nr,mn,Rn){for(var gn=Mr.shared,un=gn.gl,Cr,Zr=0;Zr<Nr.length;++Zr){var zn=Nr[Zr],Gr=zn.name,qr=zn.info.type,wn=Ar.uniforms[Gr],zn=Mr.link(zn)+".location",En;if(wn){if(!mn(wn))continue;if(Q(wn)){if(Gr=wn.value,qr===35678||qr===35680)qr=Mr.link(Gr._texture||Gr.color[0]._texture),Fr(un,".uniform1i(",zn,",",qr+".bind());"),Fr.exit(qr,".unbind();");else if(qr===35674||qr===35675||qr===35676)Gr=Mr.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),wn=2,qr===35675?wn=3:qr===35676&&(wn=4),Fr(un,".uniformMatrix",wn,"fv(",zn,",false,",Gr,");");else{switch(qr){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:Cr="1i";break;case 5124:Cr="1i";break;case 35671:Cr="2i";break;case 35667:Cr="2i";break;case 35672:Cr="3i";break;case 35668:Cr="3i";break;case 35673:Cr="4i";break;case 35669:Cr="4i"}Fr(un,".uniform",Cr,"(",zn,",",w(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else En=wn.append(Mr,Fr)}else{if(!mn(Xt))continue;En=Fr.def(gn.uniforms,"[",Kt.id(Gr),"]")}switch(qr===35678?Fr("if(",En,"&&",En,'._reglType==="framebuffer"){',En,"=",En,".color[0];","}"):qr===35680&&Fr("if(",En,"&&",En,'._reglType==="framebufferCube"){',En,"=",En,".color[0];","}"),Gr=1,qr){case 35678:case 35680:qr=Fr.def(En,"._texture"),Fr(un,".uniform1i(",zn,",",qr,".bind());"),Fr.exit(qr,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",Gr=2;break;case 35668:case 35672:Cr="3i",Gr=3;break;case 35669:case 35673:Cr="4i",Gr=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",Gr=2;break;case 35665:Cr="3f",Gr=3;break;case 35666:Cr="4f",Gr=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if(Cr.charAt(0)==="M"){Fr(un,".uniform",Cr,"(",zn,",");var zn=Math.pow(qr-35674+2,2),Vn=Mr.global.def("new Float32Array(",zn,")");Array.isArray(En)?Fr("false,(",a(zn,function(sa){return Vn+"["+sa+"]="+En[sa]}),",",Vn,")"):Fr("false,(Array.isArray(",En,")||",En," instanceof Float32Array)?",En,":(",a(zn,function(sa){return Vn+"["+sa+"]="+En+"["+sa+"]"}),",",Vn,")"),Fr(");")}else{if(1<Gr){for(var qr=[],Bn=[],wn=0;wn<Gr;++wn)Array.isArray(En)?Bn.push(En[wn]):Bn.push(Fr.def(En+"["+wn+"]")),Rn&&qr.push(Fr.def());Rn&&Fr("if(!",Mr.batchId,"||",qr.map(function(va,sa){return va+"!=="+Bn[sa]}).join("||"),"){",qr.map(function(va,sa){return va+"="+Bn[sa]+";"}).join("")),Fr(un,".uniform",Cr,"(",zn,",",Bn.join(","),");")}else Rn&&(qr=Fr.def(),Fr("if(!",Mr.batchId,"||",qr,"!==",En,"){",qr,"=",En,";")),Fr(un,".uniform",Cr,"(",zn,",",En,");");Rn&&Fr("}")}}}function jr(Mr,Fr,Ar,Nr){function mn(ga){var _a=Gr[ga];return _a?_a.contextDep&&Nr.contextDynamic||_a.propDep?_a.append(Mr,Ar):_a.append(Mr,Fr):Fr.def(Zr,".",ga)}function Rn(){function ga(){Ar(Bn,".drawElementsInstancedANGLE(",[wn,En,va,zn+"<<(("+va+"-5121)>>1)",Vn],");")}function _a(){Ar(Bn,".drawArraysInstancedANGLE(",[wn,zn,En,Vn],");")}qr&&qr!=="null"?sa?ga():(Ar("if(",qr,"){"),ga(),Ar("}else{"),_a(),Ar("}")):_a()}function gn(){function ga(){Ar(Cr+".drawElements("+[wn,En,va,zn+"<<(("+va+"-5121)>>1)"]+");")}function _a(){Ar(Cr+".drawArrays("+[wn,zn,En]+");")}qr&&qr!=="null"?sa?ga():(Ar("if(",qr,"){"),ga(),Ar("}else{"),_a(),Ar("}")):_a()}var un=Mr.shared,Cr=un.gl,Zr=un.draw,Gr=Nr.draw,qr=function(){var ga=Gr.elements,_a=Fr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(_a=Ar),ga=ga.append(Mr,_a),Gr.elementsActive&&_a("if("+ga+")"+Cr+".bindBuffer(34963,"+ga+".buffer.buffer);")):(ga=_a.def(),_a(ga,"=",Zr,".","elements",";","if(",ga,"){",Cr,".bindBuffer(",34963,",",ga,".buffer.buffer);}","else if(",un.vao,".currentVAO){",ga,"=",Mr.shared.elements+".getElements("+un.vao,".currentVAO.elements);",Jr?"":"if("+ga+")"+Cr+".bindBuffer(34963,"+ga+".buffer.buffer);","}")),ga}(),wn=mn("primitive"),zn=mn("offset"),En=function(){var ga=Gr.count,_a=Fr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(_a=Ar),ga=ga.append(Mr,_a)):ga=_a.def(Zr,".","count"),ga}();if(typeof En=="number"){if(En===0)return}else Ar("if(",En,"){"),Ar.exit("}");var Vn,Bn;mr&&(Vn=mn("instances"),Bn=Mr.instancing);var va=qr+".type",sa=Gr.elements&&Q(Gr.elements)&&!Gr.vaoActive;mr&&(typeof Vn!="number"||0<=Vn)?typeof Vn=="string"?(Ar("if(",Vn,">0){"),Rn(),Ar("}else if(",Vn,"<0){"),gn(),Ar("}")):Rn():gn()}function Or(Mr,Fr,Ar,Nr,mn){return Fr=Ot(),mn=Fr.proc("body",mn),mr&&(Fr.instancing=mn.def(Fr.shared.extensions,".angle_instanced_arrays")),Mr(Fr,mn,Ar,Nr),Fr.compile().body}function ln(Mr,Fr,Ar,Nr){Sn(Mr,Fr),Ar.useVAO?Ar.drawVAO?Fr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Fr),");"):Fr(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Fr(Mr.shared.vao,".setVAO(null);"),Tr(Mr,Fr,Ar,Nr.attributes,function(){return!0})),zr(Mr,Fr,Ar,Nr.uniforms,function(){return!0},!1),jr(Mr,Fr,Fr,Ar)}function fn(Mr,Fr){var Ar=Mr.proc("draw",1);Sn(Mr,Ar),_r(Mr,Ar,Fr.context),Dr(Mr,Ar,Fr.framebuffer),an(Mr,Ar,Fr),tn(Mr,Ar,Fr.state),Tn(Mr,Ar,Fr,!1,!0);var Nr=Fr.shader.progVar.append(Mr,Ar);if(Ar(Mr.shared.gl,".useProgram(",Nr,".program);"),Fr.shader.program)ln(Mr,Ar,Fr,Fr.shader.program);else{Ar(Mr.shared.vao,".setVAO(null);");var mn=Mr.global.def("{}"),Rn=Ar.def(Nr,".id"),gn=Ar.def(mn,"[",Rn,"]");Ar(Mr.cond(gn).then(gn,".call(this,a0);").else(gn,"=",mn,"[",Rn,"]=",Mr.link(function(un){return Or(ln,Mr,Fr,un,1)}),"(",Nr,");",gn,".call(this,a0);"))}0<Object.keys(Fr.state).length&&Ar(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Ar(Mr.shared.vao,".setVAO(null);")}function Mn(Mr,Fr,Ar,Nr){function mn(){return!0}Mr.batchId="a1",Sn(Mr,Fr),Tr(Mr,Fr,Ar,Nr.attributes,mn),zr(Mr,Fr,Ar,Nr.uniforms,mn,!1),jr(Mr,Fr,Fr,Ar)}function Pn(Mr,Fr,Ar,Nr){function mn(qr){return qr.contextDep&&gn||qr.propDep}function Rn(qr){return!mn(qr)}Sn(Mr,Fr);var gn=Ar.contextDep,un=Fr.def(),Cr=Fr.def();Mr.shared.props=Cr,Mr.batchId=un;var Zr=Mr.scope(),Gr=Mr.scope();Fr(Zr.entry,"for(",un,"=0;",un,"<","a1",";++",un,"){",Cr,"=","a0","[",un,"];",Gr,"}",Zr.exit),Ar.needsContext&&_r(Mr,Gr,Ar.context),Ar.needsFramebuffer&&Dr(Mr,Gr,Ar.framebuffer),tn(Mr,Gr,Ar.state,mn),Ar.profile&&mn(Ar.profile)&&Tn(Mr,Gr,Ar,!1,!0),Nr?(Ar.useVAO?Ar.drawVAO?mn(Ar.drawVAO)?Gr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Gr),");"):Zr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Zr),");"):Zr(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Zr(Mr.shared.vao,".setVAO(null);"),Tr(Mr,Zr,Ar,Nr.attributes,Rn),Tr(Mr,Gr,Ar,Nr.attributes,mn)),zr(Mr,Zr,Ar,Nr.uniforms,Rn,!1),zr(Mr,Gr,Ar,Nr.uniforms,mn,!0),jr(Mr,Zr,Gr,Ar)):(Fr=Mr.global.def("{}"),Nr=Ar.shader.progVar.append(Mr,Gr),Cr=Gr.def(Nr,".id"),Zr=Gr.def(Fr,"[",Cr,"]"),Gr(Mr.shared.gl,".useProgram(",Nr,".program);","if(!",Zr,"){",Zr,"=",Fr,"[",Cr,"]=",Mr.link(function(qr){return Or(Mn,Mr,Ar,qr,2)}),"(",Nr,");}",Zr,".call(this,a0[",un,"],",un,");"))}function Hn(Mr,Fr){function Ar(Zr){return Zr.contextDep&&mn||Zr.propDep}var Nr=Mr.proc("batch",2);Mr.batchId="0",Sn(Mr,Nr);var mn=!1,Rn=!0;Object.keys(Fr.context).forEach(function(Zr){mn=mn||Fr.context[Zr].propDep}),mn||(_r(Mr,Nr,Fr.context),Rn=!1);var gn=Fr.framebuffer,un=!1;if(gn?(gn.propDep?mn=un=!0:gn.contextDep&&mn&&(un=!0),un||Dr(Mr,Nr,gn)):Dr(Mr,Nr,null),Fr.state.viewport&&Fr.state.viewport.propDep&&(mn=!0),an(Mr,Nr,Fr),tn(Mr,Nr,Fr.state,function(Zr){return!Ar(Zr)}),Fr.profile&&Ar(Fr.profile)||Tn(Mr,Nr,Fr,!1,"a1"),Fr.contextDep=mn,Fr.needsContext=Rn,Fr.needsFramebuffer=un,Rn=Fr.shader.progVar,Rn.contextDep&&mn||Rn.propDep)Pn(Mr,Nr,Fr,null);else if(Rn=Rn.append(Mr,Nr),Nr(Mr.shared.gl,".useProgram(",Rn,".program);"),Fr.shader.program)Pn(Mr,Nr,Fr,Fr.shader.program);else{Nr(Mr.shared.vao,".setVAO(null);");var gn=Mr.global.def("{}"),un=Nr.def(Rn,".id"),Cr=Nr.def(gn,"[",un,"]");Nr(Mr.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",gn,"[",un,"]=",Mr.link(function(qr){return Or(Pn,Mr,Fr,qr,2)}),"(",Rn,");",Cr,".call(this,a0,a1);"))}0<Object.keys(Fr.state).length&&Nr(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Nr(Mr.shared.vao,".setVAO(null);")}function ia(Mr,Fr){function Ar(un){var Cr=Fr.shader[un];Cr&&(Cr=Cr.append(Mr,Nr),isNaN(Cr)?Nr.set(mn.shader,"."+un,Cr):Nr.set(mn.shader,"."+un,Mr.link(Cr,{stable:!0})))}var Nr=Mr.proc("scope",3);Mr.batchId="a2";var mn=Mr.shared,Rn=mn.current;if(_r(Mr,Nr,Fr.context),Fr.framebuffer&&Fr.framebuffer.append(Mr,Nr),ie(Object.keys(Fr.state)).forEach(function(un){var Cr=Fr.state[un],Zr=Cr.append(Mr,Nr);w(Zr)?Zr.forEach(function(Gr,qr){isNaN(Gr)?Nr.set(Mr.next[un],"["+qr+"]",Gr):Nr.set(Mr.next[un],"["+qr+"]",Mr.link(Gr,{stable:!0}))}):Q(Cr)?Nr.set(mn.next,"."+un,Mr.link(Zr,{stable:!0})):Nr.set(mn.next,"."+un,Zr)}),Tn(Mr,Nr,Fr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(un){var Cr=Fr.draw[un];Cr&&(Cr=Cr.append(Mr,Nr),isNaN(Cr)?Nr.set(mn.draw,"."+un,Cr):Nr.set(mn.draw,"."+un,Mr.link(Cr),{stable:!0}))}),Object.keys(Fr.uniforms).forEach(function(un){var Cr=Fr.uniforms[un].append(Mr,Nr);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Zr){return isNaN(Zr)?Zr:Mr.link(Zr,{stable:!0})})+"]"),Nr.set(mn.uniforms,"["+Mr.link(Kt.id(un),{stable:!0})+"]",Cr)}),Object.keys(Fr.attributes).forEach(function(un){var Cr=Fr.attributes[un].append(Mr,Nr),Zr=Mr.scopeAttrib(un);Object.keys(new Wn).forEach(function(Gr){Nr.set(Zr,"."+Gr,Cr[Gr])})}),Fr.scopeVAO){var gn=Fr.scopeVAO.append(Mr,Nr);isNaN(gn)?Nr.set(mn.vao,".targetVAO",gn):Nr.set(mn.vao,".targetVAO",Mr.link(gn,{stable:!0}))}Ar("vert"),Ar("frag"),0<Object.keys(Fr.state).length&&(Nr(Rn,".dirty=true;"),Nr.exit(Rn,".dirty=true;")),Nr("a1(",Mr.shared.context,",a0,",Mr.batchId,");")}function ya(Mr){if(typeof Mr=="object"&&!w(Mr)){for(var Fr=Object.keys(Mr),Ar=0;Ar<Fr.length;++Ar)if(ge.isDynamic(Mr[Fr[Ar]]))return!0;return!1}}function wa(Mr,Fr,Ar){function Nr(qr,wn){gn.forEach(function(zn){var En=mn[zn];ge.isDynamic(En)&&(En=qr.invoke(wn,En),wn(Gr,".",zn,"=",En,";"))})}var mn=Fr.static[Ar];if(mn&&ya(mn)){var Rn=Mr.global,gn=Object.keys(mn),un=!1,Cr=!1,Zr=!1,Gr=Mr.global.def("{}");gn.forEach(function(qr){var wn=mn[qr];if(ge.isDynamic(wn))typeof wn=="function"&&(wn=mn[qr]=ge.unbox(wn)),qr=j(wn,null),un=un||qr.thisDep,Zr=Zr||qr.propDep,Cr=Cr||qr.contextDep;else{switch(Rn(Gr,".",qr,"="),typeof wn){case"number":Rn(wn);break;case"string":Rn('"',wn,'"');break;case"object":Array.isArray(wn)&&Rn("[",wn.join(),"]");break;default:Rn(Mr.link(wn))}Rn(";")}}),Fr.dynamic[Ar]=new ge.DynamicVariable(4,{thisDep:un,contextDep:Cr,propDep:Zr,ref:Gr,append:Nr}),delete Fr.static[Ar]}}var Wn=Dt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var mr=Qt.angle_instanced_arrays,en=Qt.webgl_draw_buffers,Jr=Qt.oes_vertex_array_object,vn={dirty:!0,profile:or.profile},On={},bn=[],An={},Nn={};He("dither",3024),He("blend.enable",3042),Ue("blend.color","blendColor",[0,0,0,0]),Ue("blend.equation","blendEquationSeparate",[32774,32774]),Ue("blend.func","blendFuncSeparate",[1,0,1,0]),He("depth.enable",2929,!0),Ue("depth.func","depthFunc",513),Ue("depth.range","depthRange",[0,1]),Ue("depth.mask","depthMask",!0),Ue("colorMask","colorMask",[!0,!0,!0,!0]),He("cull.enable",2884),Ue("cull.face","cullFace",1029),Ue("frontFace","frontFace",2305),Ue("lineWidth","lineWidth",1),He("polygonOffset.enable",32823),Ue("polygonOffset.offset","polygonOffset",[0,0]),He("sample.alpha",32926),He("sample.enable",32928),Ue("sample.coverage","sampleCoverage",[1,!1]),He("stencil.enable",2960),Ue("stencil.mask","stencilMask",-1),Ue("stencil.func","stencilFunc",[519,0,-1]),Ue("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ue("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),He("scissor.enable",3089),Ue("scissor.box","scissor",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]),Ue("viewport","viewport",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]);var $n={gl:pt,context:xt,strings:Kt,next:On,current:vn,draw:Bt,elements:mt,buffer:ur,shader:Ht,attributes:Dt.state,vao:Dt,uniforms:Ct,framebuffer:bt,extensions:Qt,timer:Ut,isBufferArgs:Z},ha={primTypes:Je,compareFuncs:Zt,blendFuncs:Wt,blendEquations:Qn,stencilOps:At,glTypes:ke,orientationType:Rt};en&&(ha.backBuffer=[1029],ha.drawBuffer=a(yr.maxDrawbuffers,function(Mr){return Mr===0?[0]:a(Mr,function(Fr){return 36064+Fr})}));var Ia=0;return{next:On,current:vn,procs:function(){var Mr=Ot(),Fr=Mr.proc("poll"),Ar=Mr.proc("refresh"),Nr=Mr.block();Fr(Nr),Ar(Nr);var Cr=Mr.shared,mn=Cr.gl,Rn=Cr.next,gn=Cr.current;Nr(gn,".dirty=false;"),Dr(Mr,Fr),Dr(Mr,Ar,null,!0);var un;mr&&(un=Mr.link(mr)),Qt.oes_vertex_array_object&&Ar(Mr.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=Ar.def(Cr.attributes),Zr=Ar.def(0),Gr=Mr.cond(Zr,".buffer");Gr.then(mn,".enableVertexAttribArray(i);",mn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",mn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(mn,".disableVertexAttribArray(i);",mn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var qr=Mr.link(yr.maxAttributes,{stable:!0});return Ar("for(var i=0;i<",qr,";++i){",Zr,"=",Cr,"[i];",Gr,"}"),mr&&Ar("for(var i=0;i<",qr,";++i){",un,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),Ar(Mr.shared.vao,".currentVAO=null;",Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"),Object.keys(An).forEach(function(wn){var zn=An[wn],En=Nr.def(Rn,".",wn),Vn=Mr.block();Vn("if(",En,"){",mn,".enable(",zn,")}else{",mn,".disable(",zn,")}",gn,".",wn,"=",En,";"),Ar(Vn),Fr("if(",En,"!==",gn,".",wn,"){",Vn,"}")}),Object.keys(Nn).forEach(function(wn){var zn=Nn[wn],En=vn[wn],Vn,Bn,va=Mr.block();va(mn,".",zn,"("),w(En)?(zn=En.length,Vn=Mr.global.def(Rn,".",wn),Bn=Mr.global.def(gn,".",wn),va(a(zn,function(sa){return Vn+"["+sa+"]"}),");",a(zn,function(sa){return Bn+"["+sa+"]="+Vn+"["+sa+"];"}).join("")),Fr("if(",a(zn,function(sa){return Vn+"["+sa+"]!=="+Bn+"["+sa+"]"}).join("||"),"){",va,"}")):(Vn=Nr.def(Rn,".",wn),Bn=Nr.def(gn,".",wn),va(Vn,");",gn,".",wn,"=",Vn,";"),Fr("if(",Vn,"!==",Bn,"){",va,"}")),Ar(va)}),Mr.compile()}(),compile:function(Mr,Fr,Ar,Nr,mn){var Rn=Ot();Rn.stats=Rn.link(mn),Object.keys(Fr.static).forEach(function(un){wa(Rn,Fr,un)}),st.forEach(function(un){wa(Rn,Mr,un)});var gn=Hr(Mr,Fr,Ar,Nr,Rn);return gn.shader.program&&(gn.shader.program.attributes.sort(function(un,Cr){return un.name<Cr.name?-1:1}),gn.shader.program.uniforms.sort(function(un,Cr){return un.name<Cr.name?-1:1})),fn(Rn,gn),ia(Rn,gn),Hn(Rn,gn),te(Rn.compile(),{destroy:function(){gn.shader.program.destroy()}})}}}function se(pt,Kt){for(var Qt=0;Qt<pt.length;++Qt)if(pt[Qt]===Kt)return Qt;return-1}var te=function(pt,Kt){for(var Qt=Object.keys(Kt),yr=0;yr<Qt.length;++yr)pt[Qt[yr]]=Kt[Qt[yr]];return pt},fe=0,ge={DynamicVariable:H,define:function(pt,Kt){return new H(pt,m(Kt+""))},isDynamic:function(pt){return typeof pt=="function"&&!pt._reglType||pt instanceof H},unbox:P,accessor:m},be={next:typeof requestAnimationFrame=="function"?function(pt){return requestAnimationFrame(pt)}:function(pt){return setTimeout(pt,16)},cancel:typeof cancelAnimationFrame=="function"?function(pt){return cancelAnimationFrame(pt)}:clearTimeout},xe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},_e=f();_e.zero=f();var De=function(pt,Kt){var Qt=1;Kt.ext_texture_filter_anisotropic&&(Qt=pt.getParameter(34047));var yr=1,ur=1;Kt.webgl_draw_buffers&&(yr=pt.getParameter(34852),ur=pt.getParameter(36063));var mt=!!Kt.oes_texture_float;if(mt){mt=pt.createTexture(),pt.bindTexture(3553,mt),pt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=pt.createFramebuffer();if(pt.bindFramebuffer(36160,lt),pt.framebufferTexture2D(36160,36064,3553,mt,0),pt.bindTexture(3553,null),pt.checkFramebufferStatus(36160)!==36053)mt=!1;else{pt.viewport(0,0,1,1),pt.clearColor(1,0,0,1),pt.clear(16384);var bt=_e.allocType(5126,4);pt.readPixels(0,0,1,1,6408,5126,bt),pt.getError()?mt=!1:(pt.deleteFramebuffer(lt),pt.deleteTexture(mt),mt=bt[0]===1),_e.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=pt.createTexture(),lt=_e.allocType(5121,36),pt.activeTexture(33984),pt.bindTexture(34067,bt),pt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),_e.freeType(lt),pt.bindTexture(34067,null),pt.deleteTexture(bt),bt=!pt.getError()),{colorBits:[pt.getParameter(3410),pt.getParameter(3411),pt.getParameter(3412),pt.getParameter(3413)],depthBits:pt.getParameter(3414),stencilBits:pt.getParameter(3415),subpixelBits:pt.getParameter(3408),extensions:Object.keys(Kt).filter(function(Ct){return!!Kt[Ct]}),maxAnisotropic:Qt,maxDrawbuffers:yr,maxColorAttachments:ur,pointSizeDims:pt.getParameter(33901),lineWidthDims:pt.getParameter(33902),maxViewportDims:pt.getParameter(3386),maxCombinedTextureUnits:pt.getParameter(35661),maxCubeMapSize:pt.getParameter(34076),maxRenderbufferSize:pt.getParameter(34024),maxTextureUnits:pt.getParameter(34930),maxTextureSize:pt.getParameter(3379),maxAttributes:pt.getParameter(34921),maxVertexUniforms:pt.getParameter(36347),maxVertexTextureUnits:pt.getParameter(35660),maxVaryingVectors:pt.getParameter(36348),maxFragmentUniforms:pt.getParameter(36349),glsl:pt.getParameter(35724),renderer:pt.getParameter(7937),vendor:pt.getParameter(7936),version:pt.getParameter(7938),readFloat:mt,npotTextureCube:bt}},Fe=function(pt){return pt instanceof Uint8Array||pt instanceof Uint16Array||pt instanceof Uint32Array||pt instanceof Int8Array||pt instanceof Int16Array||pt instanceof Int32Array||pt instanceof Float32Array||pt instanceof Float64Array||pt instanceof Uint8ClampedArray},Te=function(pt){return Object.keys(pt).map(function(Kt){return pt[Kt]})},Re={shape:function(pt){for(var Kt=[];pt.length;pt=pt[0])Kt.push(pt.length);return Kt},flatten:function(pt,Kt,Qt,yr){var ur=1;if(Kt.length)for(var mt=0;mt<Kt.length;++mt)ur*=Kt[mt];else ur=0;switch(Qt=yr||_e.allocType(Qt,ur),Kt.length){case 0:break;case 1:for(yr=Kt[0],Kt=0;Kt<yr;++Kt)Qt[Kt]=pt[Kt];break;case 2:for(yr=Kt[0],Kt=Kt[1],mt=ur=0;mt<yr;++mt)for(var lt=pt[mt],bt=0;bt<Kt;++bt)Qt[ur++]=lt[bt];break;case 3:l(pt,Kt[0],Kt[1],Kt[2],Qt,0);break;default:g(pt,Kt,0,Qt,0)}return Qt}},Se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ke={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Me={dynamic:35048,stream:35040,static:35044},Ve=Re.flatten,tt=Re.shape,it=[];it[5120]=1,it[5122]=2,it[5124]=4,it[5121]=1,it[5123]=2,it[5125]=4,it[5126]=4;var Je={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Qe=new Float32Array(1),ct=new Uint32Array(Qe.buffer),ht=[9984,9986,9985,9987],dt=[0,6409,6410,6407,6408],Tt={};Tt[6409]=Tt[6406]=Tt[6402]=1,Tt[34041]=Tt[6410]=2,Tt[6407]=Tt[35904]=3,Tt[6408]=Tt[35906]=4;var Et=C("HTMLCanvasElement"),rt=C("OffscreenCanvas"),ze=C("CanvasRenderingContext2D"),Ge=C("ImageBitmap"),je=C("HTMLImageElement"),We=C("HTMLVideoElement"),Le=Object.keys(Se).concat([Et,rt,ze,Ge,je,We]),Pe=[];Pe[5121]=1,Pe[5126]=4,Pe[36193]=2,Pe[5123]=2,Pe[5125]=4;var Ye=[];Ye[32854]=2,Ye[32855]=2,Ye[36194]=2,Ye[34041]=4,Ye[33776]=.5,Ye[33777]=.5,Ye[33778]=1,Ye[33779]=1,Ye[35986]=.5,Ye[35987]=1,Ye[34798]=1,Ye[35840]=.5,Ye[35841]=.25,Ye[35842]=.5,Ye[35843]=.25,Ye[36196]=.5;var Ce=[];Ce[32854]=2,Ce[32855]=2,Ce[36194]=2,Ce[33189]=2,Ce[36168]=1,Ce[34041]=4,Ce[35907]=4,Ce[34836]=16,Ce[34842]=8,Ce[34843]=6;var he=function(pt,Kt,Qt,yr,ur){function mt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,ur.profile&&(this.stats={size:0})}function lt(Bt){var xt=Bt.renderbuffer;pt.bindRenderbuffer(36161,null),pt.deleteRenderbuffer(xt),Bt.renderbuffer=null,Bt.refCount=0,delete Ht[Bt.id],yr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Kt.ext_srgb&&(bt.srgba=35907),Kt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Kt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Ct=[];Object.keys(bt).forEach(function(Bt){Ct[bt[Bt]]=Bt});var Dt=0,Ht={};return mt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},ur.profile&&(yr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Ht).forEach(function(xt){Bt+=Ht[xt].stats.size}),Bt}),{create:function(Bt,xt){function Ut(or,rr){var He=0,Ue=0,Ot=32854;if(typeof or=="object"&&or?("shape"in or?(Ue=or.shape,He=Ue[0]|0,Ue=Ue[1]|0):("radius"in or&&(He=Ue=or.radius|0),"width"in or&&(He=or.width|0),"height"in or&&(Ue=or.height|0)),"format"in or&&(Ot=bt[or.format])):typeof or=="number"?(He=or|0,Ue=typeof rr=="number"?rr|0:He):or||(He=Ue=1),He!==qt.width||Ue!==qt.height||Ot!==qt.format)return Ut.width=qt.width=He,Ut.height=qt.height=Ue,qt.format=Ot,pt.bindRenderbuffer(36161,qt.renderbuffer),pt.renderbufferStorage(36161,Ot,He,Ue),ur.profile&&(qt.stats.size=Ce[qt.format]*qt.width*qt.height),Ut.format=Ct[qt.format],Ut}var qt=new mt(pt.createRenderbuffer());return Ht[qt.id]=qt,yr.renderbufferCount++,Ut(Bt,xt),Ut.resize=function(or,rr){var He=or|0,Ue=rr|0||He;return He===qt.width&&Ue===qt.height||(Ut.width=qt.width=He,Ut.height=qt.height=Ue,pt.bindRenderbuffer(36161,qt.renderbuffer),pt.renderbufferStorage(36161,qt.format,He,Ue),ur.profile&&(qt.stats.size=Ce[qt.format]*qt.width*qt.height)),Ut},Ut._reglType="renderbuffer",Ut._renderbuffer=qt,ur.profile&&(Ut.stats=qt.stats),Ut.destroy=function(){qt.decRef()},Ut},clear:function(){Te(Ht).forEach(lt)},restore:function(){Te(Ht).forEach(function(Bt){Bt.renderbuffer=pt.createRenderbuffer(),pt.bindRenderbuffer(36161,Bt.renderbuffer),pt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),pt.bindRenderbuffer(36161,null)}}},me=[];me[6408]=4,me[6407]=3;var Ne=[];Ne[5121]=1,Ne[5126]=4,Ne[36193]=2;var $e=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ot=["x","y","z","w"],st="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Zt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},At={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Rt={cw:2304,ccw:2305},Xt=new X(!1,!1,!1,function(){}),ir=function(pt,Kt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Ht,Bt,xt){var Ut=lt.pop()||new Qt;Ut.startQueryIndex=Ht,Ut.endQueryIndex=Bt,Ut.sum=0,Ut.stats=xt,bt.push(Ut)}if(!Kt.ext_disjoint_timer_query)return null;var ur=[],mt=[],lt=[],bt=[],Ct=[],Dt=[];return{beginQuery:function(Ht){var Bt=ur.pop()||Kt.ext_disjoint_timer_query.createQueryEXT();Kt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),mt.push(Bt),yr(mt.length-1,mt.length,Ht)},endQuery:function(){Kt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Ht,Bt;if(Ht=mt.length,Ht!==0){Dt.length=Math.max(Dt.length,Ht+1),Ct.length=Math.max(Ct.length,Ht+1),Ct[0]=0;var xt=Dt[0]=0;for(Bt=Ht=0;Bt<mt.length;++Bt){var Ut=mt[Bt];Kt.ext_disjoint_timer_query.getQueryObjectEXT(Ut,34919)?(xt+=Kt.ext_disjoint_timer_query.getQueryObjectEXT(Ut,34918),ur.push(Ut)):mt[Ht++]=Ut,Ct[Bt+1]=xt,Dt[Bt+1]=Ht}for(mt.length=Ht,Bt=Ht=0;Bt<bt.length;++Bt){var xt=bt[Bt],qt=xt.startQueryIndex,Ut=xt.endQueryIndex;xt.sum+=Ct[Ut]-Ct[qt],qt=Dt[qt],Ut=Dt[Ut],Ut===qt?(xt.stats.gpuTime+=xt.sum/1e6,lt.push(xt)):(xt.startQueryIndex=qt,xt.endQueryIndex=Ut,bt[Ht++]=xt)}bt.length=Ht}},getNumPendingQueries:function(){return mt.length},clear:function(){ur.push.apply(ur,mt);for(var Ht=0;Ht<ur.length;Ht++)Kt.ext_disjoint_timer_query.deleteQueryEXT(ur[Ht]);mt.length=0,ur.length=0},restore:function(){mt.length=0,ur.length=0}}};return function(pt){function Kt(){if(Tn.length===0)Ot&&Ot.update(),Or=null;else{Or=be.next(Kt),Ht();for(var fn=Tn.length-1;0<=fn;--fn){var Mn=Tn[fn];Mn&&Mn(cr,null,0)}Ut.flush(),Ot&&Ot.update()}}function Qt(){!Or&&0<Tn.length&&(Or=be.next(Kt))}function yr(){Or&&(be.cancel(Kt),Or=null)}function ur(fn){fn.preventDefault(),yr(),Tr.forEach(function(Mn){Mn()})}function mt(fn){Ut.getError(),or.restore(),xr.restore(),Nt.restore(),pr.restore(),Hr.restore(),_r.restore(),dr.restore(),Ot&&Ot.restore(),Dr.procs.refresh(),Qt(),zr.forEach(function(Mn){Mn()})}function lt(fn){function Mn(vn,On){var bn={},An={};return Object.keys(vn).forEach(function(Nn){var $n=vn[Nn];if(ge.isDynamic($n))An[Nn]=ge.unbox($n,Nn);else{if(On&&Array.isArray($n)){for(var ha=0;ha<$n.length;++ha)if(ge.isDynamic($n[ha])){An[Nn]=ge.unbox($n,Nn);return}}bn[Nn]=$n}}),{dynamic:An,static:bn}}function Pn(vn){for(;Jr.length<vn;)Jr.push(null);return Jr}var Hn=Mn(fn.context||{},!0),ia=Mn(fn.uniforms||{},!0),ya=Mn(fn.attributes||{},!1);fn=Mn(function(vn){function On(An){if(An in bn){var Nn=bn[An];delete bn[An],Object.keys(Nn).forEach(function($n){bn[An+"."+$n]=Nn[$n]})}}var bn=te({},vn);return delete bn.uniforms,delete bn.attributes,delete bn.context,delete bn.vao,"stencil"in bn&&bn.stencil.op&&(bn.stencil.opBack=bn.stencil.opFront=bn.stencil.op,delete bn.stencil.op),On("blend"),On("depth"),On("cull"),On("stencil"),On("polygonOffset"),On("scissor"),On("sample"),"vao"in vn&&(bn.vao=vn.vao),bn}(fn),!1);var wa={gpuTime:0,cpuTime:0,count:0},Wn=Dr.compile(fn,ya,ia,Hn,wa),Qn=Wn.draw,mr=Wn.batch,en=Wn.scope,Jr=[];return te(function(vn,On){var bn;if(typeof vn=="function")return en.call(this,null,vn,0);if(typeof On=="function")if(typeof vn=="number")for(bn=0;bn<vn;++bn)en.call(this,null,On,bn);else if(Array.isArray(vn))for(bn=0;bn<vn.length;++bn)en.call(this,vn[bn],On,bn);else return en.call(this,vn,On,0);else if(typeof vn=="number"){if(0<vn)return mr.call(this,Pn(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return mr.call(this,vn,vn.length)}else return Qn.call(this,vn)},{stats:wa,destroy:function(){Wn.destroy()}})}function bt(fn,Mn){var Pn=0;Dr.procs.poll();var Hn=Mn.color;Hn&&(Ut.clearColor(+Hn[0]||0,+Hn[1]||0,+Hn[2]||0,+Hn[3]||0),Pn|=16384),"depth"in Mn&&(Ut.clearDepth(+Mn.depth),Pn|=256),"stencil"in Mn&&(Ut.clearStencil(Mn.stencil|0),Pn|=1024),Ut.clear(Pn)}function Ct(fn){return Tn.push(fn),Qt(),{cancel:function(){function Mn(){var Hn=se(Tn,Mn);Tn[Hn]=Tn[Tn.length-1],--Tn.length,0>=Tn.length&&yr()}var Pn=se(Tn,fn);Tn[Pn]=Mn}}}function Dt(){var fn=tn.viewport,Mn=tn.scissor_box;fn[0]=fn[1]=Mn[0]=Mn[1]=0,cr.viewportWidth=cr.framebufferWidth=cr.drawingBufferWidth=fn[2]=Mn[2]=Ut.drawingBufferWidth,cr.viewportHeight=cr.framebufferHeight=cr.drawingBufferHeight=fn[3]=Mn[3]=Ut.drawingBufferHeight}function Ht(){cr.tick+=1,cr.time=xt(),Dt(),Dr.procs.poll()}function Bt(){pr.refresh(),Dt(),Dr.procs.refresh(),Ot&&Ot.update()}function xt(){return(xe()-It)/1e3}if(pt=r(pt),!pt)return null;var Ut=pt.gl,qt=Ut.getContextAttributes();Ut.isContextLost();var or=t(Ut,pt);if(!or)return null;var an=s(),rr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},He=pt.cachedCode||{},Ue=or.extensions,Ot=ir(Ut,Ue),It=xe(),vr=Ut.drawingBufferWidth,Jt=Ut.drawingBufferHeight,cr={tick:0,time:0,viewportWidth:vr,viewportHeight:Jt,framebufferWidth:vr,framebufferHeight:Jt,drawingBufferWidth:vr,drawingBufferHeight:Jt,pixelRatio:pt.pixelRatio},vr={elements:null,primitive:4,count:-1,offset:0,instances:-1},tr=De(Ut,Ue),Nt=i(Ut,rr,pt,function(fn){return dr.destroyBuffer(fn)}),sr=d(Ut,Ue,Nt,rr),dr=k(Ut,Ue,tr,rr,Nt,sr,vr),xr=O(Ut,an,rr,pt),pr=I(Ut,Ue,tr,function(){Dr.procs.poll()},cr,rr,pt),Hr=he(Ut,Ue,tr,rr,pt),_r=D(Ut,Ue,tr,pr,Hr,rr),Dr=Y(Ut,an,Ue,tr,Nt,sr,pr,_r,{},dr,xr,vr,cr,Ot,He,pt),an=F(Ut,_r,Dr.procs.poll,cr),tn=Dr.next,Sn=Ut.canvas,Tn=[],Tr=[],zr=[],jr=[pt.onDestroy],Or=null;Sn&&(Sn.addEventListener("webglcontextlost",ur,!1),Sn.addEventListener("webglcontextrestored",mt,!1));var ln=_r.setFBO=lt({framebuffer:ge.define.call(null,1,"framebuffer")});return Bt(),qt=te(lt,{clear:function(fn){if("framebuffer"in fn)if(fn.framebuffer&&fn.framebuffer_reglType==="framebufferCube")for(var Mn=0;6>Mn;++Mn)ln(te({framebuffer:fn.framebuffer.faces[Mn]},fn),bt);else ln(fn,bt);else bt(null,fn)},prop:ge.define.bind(null,1),context:ge.define.bind(null,2),this:ge.define.bind(null,3),draw:lt({}),buffer:function(fn){return Nt.create(fn,34962,!1,!1)},elements:function(fn){return sr.create(fn,!1)},texture:pr.create2D,cube:pr.createCube,renderbuffer:Hr.create,framebuffer:_r.create,framebufferCube:_r.createCube,vao:dr.createVAO,attributes:qt,frame:Ct,on:function(fn,Mn){var Pn;switch(fn){case"frame":return Ct(Mn);case"lost":Pn=Tr;break;case"restore":Pn=zr;break;case"destroy":Pn=jr}return Pn.push(Mn),{cancel:function(){for(var Hn=0;Hn<Pn.length;++Hn)if(Pn[Hn]===Mn){Pn[Hn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:tr,hasExtension:function(fn){return 0<=tr.extensions.indexOf(fn.toLowerCase())},read:an,destroy:function(){Tn.length=0,yr(),Sn&&(Sn.removeEventListener("webglcontextlost",ur),Sn.removeEventListener("webglcontextrestored",mt)),xr.clear(),_r.clear(),Hr.clear(),dr.clear(),pr.clear(),sr.clear(),Nt.clear(),Ot&&Ot.clear(),jr.forEach(function(fn){fn()})},_gl:Ut,_refresh:Bt,poll:function(){Ht(),Ot&&Ot.update()},now:xt,stats:rr,getCachedCode:function(){return He},preloadCachedCode:function(fn){Object.entries(fn).forEach(function(Mn){He[Mn[0]]=Mn[1]})}}),pt.onDone(null,qt),qt}})},30456:function(G,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=e(33576),P=m.Buffer;function s(S,v){for(var p in S)v[p]=S[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?G.exports=m:(s(m,H),H.Buffer=L);function L(S,v,p){return P(S,v,p)}L.prototype=Object.create(P.prototype),s(P,L),L.from=function(S,v,p){if(typeof S=="number")throw new TypeError("Argument must not be a number");return P(S,v,p)},L.alloc=function(S,v,p){if(typeof S!="number")throw new TypeError("Argument must be a number");var r=P(S);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},L.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return P(S)},L.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(S)}},14500:function(G,H,e){var m=e(53664),P=e(64348),s=e(39640)(),L=e(2304),S=m("%TypeError%"),v=m("%Math.floor%");G.exports=function(r,t){if(typeof r!="function")throw new S("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new S("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&L){var u=L(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(f=!1)}return(n||f||!a)&&(s?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(G,H,e){G.exports=s;var m=e(61252).EventEmitter,P=e(6768);P(s,m),s.Readable=e(12348),s.Writable=e(11288),s.Duplex=e(15316),s.Transform=e(22477),s.PassThrough=e(27136),s.finished=e(15932),s.pipeline=e(38180),s.Stream=s;function s(){m.call(this)}s.prototype.pipe=function(L,S){var v=this;function p(l){L.writable&&L.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!S||S.end!==!1)&&(v.on("end",a),v.on("close",n));var t=!1;function a(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function f(l){if(u(),m.listenerCount(this,"error")===0)throw l}v.on("error",f),L.on("error",f);function u(){v.removeListener("data",p),L.removeListener("drain",r),v.removeListener("end",a),v.removeListener("close",n),v.removeListener("error",f),L.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),L.removeListener("close",u)}return v.on("end",u),v.on("close",u),L.on("close",u),L.emit("pipe",v),L}},92784:function(G){function H(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function m(v,p,r){r||(r=Error);function t(n,f,u){return typeof p=="string"?p:p(n,f,u)}var a=function(n){H(f,n);function f(u,l,g){return n.call(this,t(u,l,g))||this}return f}(r);a.prototype.name=r.name,a.prototype.code=v,e[v]=a}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function s(v,p,r){return v.substr(0,p.length)===p}function L(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function S(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}m("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),m("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&s(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var a;if(L(v," argument"))a="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=S(v,".")?"property":"argument";a='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),m("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),m("ERR_STREAM_PREMATURE_CLOSE","Premature close"),m("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),m("ERR_STREAM_WRITE_AFTER_END","write after end"),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.i=e},15316:function(G,H,e){var m=e(4168),P=Object.keys||function(n){var f=[];for(var u in n)f.push(u);return f};G.exports=r;var s=e(12348),L=e(11288);e(6768)(r,s);for(var S=P(L.prototype),v=0;v<S.length;v++){var p=S[v];r.prototype[p]||(r.prototype[p]=L.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);s.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||m.nextTick(a,this)}function a(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(G,H,e){G.exports=P;var m=e(22477);e(6768)(P,m);function P(s){if(!(this instanceof P))return new P(s);m.call(this,s)}P.prototype._transform=function(s,L,S){S(null,s)}},12348:function(G,H,e){var m=e(4168);G.exports=o;var P;o.ReadableState=A,e(61252).EventEmitter;var s=function(Y,se){return Y.listeners(se).length},L=e(4776),S=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(j){return S.from(j)}function r(j){return S.isBuffer(j)||j instanceof v}var t=e(19768),a;t&&t.debuglog?a=t.debuglog("stream"):a=function(){};var n=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,g=e(92784).i,h=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,c=g.ERR_METHOD_NOT_IMPLEMENTED,i=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,b,w;e(6768)(o,L);var C=f.errorOrDestroy,y=["error","close","destroy","pause","resume"];function E(j,Y,se){if(typeof j.prependListener=="function")return j.prependListener(Y,se);!j._events||!j._events[Y]?j.on(Y,se):Array.isArray(j._events[Y])?j._events[Y].unshift(se):j._events[Y]=[se,j._events[Y]]}function A(j,Y,se){P=P||e(15316),j=j||{},typeof se!="boolean"&&(se=Y instanceof P),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=l(this,j,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(d||(d=e(86032).o),this.decoder=new d(j.encoding),this.encoding=j.encoding)}function o(j){if(P=P||e(15316),!(this instanceof o))return new o(j);var Y=this instanceof P;this._readableState=new A(j,this,Y),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),L.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),o.prototype.destroy=f.destroy,o.prototype._undestroy=f.undestroy,o.prototype._destroy=function(j,Y){Y(j)},o.prototype.push=function(j,Y){var se=this._readableState,te;return se.objectMode?te=!0:typeof j=="string"&&(Y=Y||se.defaultEncoding,Y!==se.encoding&&(j=S.from(j,Y),Y=""),te=!0),M(this,j,Y,!1,te)},o.prototype.unshift=function(j){return M(this,j,null,!0,!1)};function M(j,Y,se,te,fe){a("readableAddChunk",Y);var ge=j._readableState;if(Y===null)ge.reading=!1,O(j,ge);else{var be;if(fe||(be=I(ge,Y)),be)C(j,be);else if(ge.objectMode||Y&&Y.length>0)if(typeof Y!="string"&&!ge.objectMode&&Object.getPrototypeOf(Y)!==S.prototype&&(Y=p(Y)),te)ge.endEmitted?C(j,new i):x(j,ge,Y,!0);else if(ge.ended)C(j,new T);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(Y=ge.decoder.write(Y),ge.objectMode||Y.length!==0?x(j,ge,Y,!1):B(j,ge)):x(j,ge,Y,!1)}else te||(ge.reading=!1,B(j,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function x(j,Y,se,te){Y.flowing&&Y.length===0&&!Y.sync?(Y.awaitDrain=0,j.emit("data",se)):(Y.length+=Y.objectMode?1:se.length,te?Y.buffer.unshift(se):Y.buffer.push(se),Y.needReadable&&F(j)),B(j,Y)}function I(j,Y){var se;return!r(Y)&&typeof Y!="string"&&Y!==void 0&&!j.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],Y)),se}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(j){d||(d=e(86032).o);var Y=new d(j);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,te="";se!==null;)te+=Y.write(se.data),se=se.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var D=1073741824;function N(j){return j>=D?j=D:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function k(j,Y){return j<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:j!==j?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(j>Y.highWaterMark&&(Y.highWaterMark=N(j)),j<=Y.length?j:Y.ended?Y.length:(Y.needReadable=!0,0))}o.prototype.read=function(j){a("read",j),j=parseInt(j,10);var Y=this._readableState,se=j;if(j!==0&&(Y.emittedReadable=!1),j===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return a("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?X(this):F(this),null;if(j=k(j,Y),j===0&&Y.ended)return Y.length===0&&X(this),null;var te=Y.needReadable;a("need readable",te),(Y.length===0||Y.length-j<Y.highWaterMark)&&(te=!0,a("length less than watermark",te)),Y.ended||Y.reading?(te=!1,a("reading or ended",te)):te&&(a("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(j=k(se,Y)));var fe;return j>0?fe=ie(j,Y):fe=null,fe===null?(Y.needReadable=Y.length<=Y.highWaterMark,j=0):(Y.length-=j,Y.awaitDrain=0),Y.length===0&&(Y.ended||(Y.needReadable=!0),se!==j&&Y.ended&&X(this)),fe!==null&&this.emit("data",fe),fe};function O(j,Y){if(a("onEofChunk"),!Y.ended){if(Y.decoder){var se=Y.decoder.end();se&&se.length&&(Y.buffer.push(se),Y.length+=Y.objectMode?1:se.length)}Y.ended=!0,Y.sync?F(j):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,z(j)))}}function F(j){var Y=j._readableState;a("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(a("emitReadable",Y.flowing),Y.emittedReadable=!0,m.nextTick(z,j))}function z(j){var Y=j._readableState;a("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended)&&(j.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,Z(j)}function B(j,Y){Y.readingMore||(Y.readingMore=!0,m.nextTick(W,j,Y))}function W(j,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){var se=Y.length;if(a("maybeReadMore read 0"),j.read(0),se===Y.length)break}Y.readingMore=!1}o.prototype._read=function(j){C(this,new c("_read()"))},o.prototype.pipe=function(j,Y){var se=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=j;break;case 1:te.pipes=[te.pipes,j];break;default:te.pipes.push(j);break}te.pipesCount+=1,a("pipe count=%d opts=%j",te.pipesCount,Y);var fe=(!Y||Y.end!==!1)&&j!==m.stdout&&j!==m.stderr,ge=fe?xe:Me;te.endEmitted?m.nextTick(ge):se.once("end",ge),j.on("unpipe",be);function be(Ve,tt){a("onunpipe"),Ve===se&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,Fe())}function xe(){a("onend"),j.end()}var _e=J(se);j.on("drain",_e);var De=!1;function Fe(){a("cleanup"),j.removeListener("close",Se),j.removeListener("finish",ke),j.removeListener("drain",_e),j.removeListener("error",Re),j.removeListener("unpipe",be),se.removeListener("end",xe),se.removeListener("end",Me),se.removeListener("data",Te),De=!0,te.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&_e()}se.on("data",Te);function Te(Ve){a("ondata");var tt=j.write(Ve);a("dest.write",tt),tt===!1&&((te.pipesCount===1&&te.pipes===j||te.pipesCount>1&&oe(te.pipes,j)!==-1)&&!De&&(a("false write response, pause",te.awaitDrain),te.awaitDrain++),se.pause())}function Re(Ve){a("onerror",Ve),Me(),j.removeListener("error",Re),s(j,"error")===0&&C(j,Ve)}E(j,"error",Re);function Se(){j.removeListener("finish",ke),Me()}j.once("close",Se);function ke(){a("onfinish"),j.removeListener("close",Se),Me()}j.once("finish",ke);function Me(){a("unpipe"),se.unpipe(j)}return j.emit("pipe",se),te.flowing||(a("pipe resume"),se.resume()),j};function J(j){return function(){var se=j._readableState;a("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&s(j,"data")&&(se.flowing=!0,Z(j))}}o.prototype.unpipe=function(j){var Y=this._readableState,se={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return j&&j!==Y.pipes?this:(j||(j=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var te=Y.pipes,fe=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var ge=0;ge<fe;ge++)te[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var be=oe(Y.pipes,j);return be===-1?this:(Y.pipes.splice(be,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),j.emit("unpipe",this,se),this)},o.prototype.on=function(j,Y){var se=L.prototype.on.call(this,j,Y),te=this._readableState;return j==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):j==="readable"&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,a("on readable",te.length,te.reading),te.length?F(this):te.reading||m.nextTick(ne,this)),se},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(j,Y){var se=L.prototype.removeListener.call(this,j,Y);return j==="readable"&&m.nextTick(re,this),se},o.prototype.removeAllListeners=function(j){var Y=L.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&m.nextTick(re,this),Y};function re(j){var Y=j._readableState;Y.readableListening=j.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused?Y.flowing=!0:j.listenerCount("data")>0&&j.resume()}function ne(j){a("readable nexttick read 0"),j.read(0)}o.prototype.resume=function(){var j=this._readableState;return j.flowing||(a("resume"),j.flowing=!j.readableListening,le(this,j)),j.paused=!1,this};function le(j,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,m.nextTick($,j,Y))}function $(j,Y){a("resume",Y.reading),Y.reading||j.read(0),Y.resumeScheduled=!1,j.emit("resume"),Z(j),Y.flowing&&!Y.reading&&j.read(0)}o.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(j){var Y=j._readableState;for(a("flow",Y.flowing);Y.flowing&&j.read()!==null;);}o.prototype.wrap=function(j){var Y=this,se=this._readableState,te=!1;j.on("end",function(){if(a("wrapped end"),se.decoder&&!se.ended){var be=se.decoder.end();be&&be.length&&Y.push(be)}Y.push(null)}),j.on("data",function(be){if(a("wrapped data"),se.decoder&&(be=se.decoder.write(be)),!(se.objectMode&&be==null)&&!(!se.objectMode&&(!be||!be.length))){var xe=Y.push(be);xe||(te=!0,j.pause())}});for(var fe in j)this[fe]===void 0&&typeof j[fe]=="function"&&(this[fe]=function(xe){return function(){return j[xe].apply(j,arguments)}}(fe));for(var ge=0;ge<y.length;ge++)j.on(y[ge],this.emit.bind(this,y[ge]));return this._read=function(be){a("wrapped _read",be),te&&(te=!1,j.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e(60328)),b(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),o._fromList=ie,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie(j,Y){if(Y.length===0)return null;var se;return Y.objectMode?se=Y.buffer.shift():!j||j>=Y.length?(Y.decoder?se=Y.buffer.join(""):Y.buffer.length===1?se=Y.buffer.first():se=Y.buffer.concat(Y.length),Y.buffer.clear()):se=Y.buffer.consume(j,Y.decoder),se}function X(j){var Y=j._readableState;a("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,m.nextTick(Q,Y,j))}function Q(j,Y){if(a("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,Y.readable=!1,Y.emit("end"),j.autoDestroy)){var se=Y._writableState;(!se||se.autoDestroy&&se.finished)&&Y.destroy()}}typeof Symbol=="function"&&(o.from=function(j,Y){return w===void 0&&(w=e(90555)),w(o,j,Y)});function oe(j,Y){for(var se=0,te=j.length;se<te;se++)if(j[se]===Y)return se;return-1}},22477:function(G,H,e){G.exports=r;var m=e(92784).i,P=m.ERR_METHOD_NOT_IMPLEMENTED,s=m.ERR_MULTIPLE_CALLBACK,L=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=m.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new s);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){a(n,f,u)}):a(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,u){u(new P("_transform()"))},r.prototype._write=function(n,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=f,!l.transforming){var g=this._readableState;(l.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(u){f(u)})};function a(n,f,u){if(f)return n.emit("error",f);if(u!=null&&n.push(u),n._writableState.length)throw new S;if(n._transformState.transforming)throw new L;return n.push(null)}},11288:function(G,H,e){var m=e(4168);G.exports=A;function P(Z){var ie=this;this.next=null,this.entry=null,this.finish=function(){$(ie,Z)}}var s;A.WritableState=y;var L={deprecate:e(96656)},S=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(Z){return v.from(Z)}function t(Z){return v.isBuffer(Z)||Z instanceof p}var a=e(55324),n=e(24888),f=n.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,g=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,i=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,w=a.errorOrDestroy;e(6768)(A,S);function C(){}function y(Z,ie,X){s=s||e(15316),Z=Z||{},typeof X!="boolean"&&(X=ie instanceof s),this.objectMode=!!Z.objectMode,X&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=f(this,Z,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=Z.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){O(ie,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}y.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,X=[];ie;)X.push(ie),ie=ie.next;return X},function(){try{Object.defineProperty(y.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(ie){return E.call(this,ie)?!0:this!==A?!1:ie&&ie._writableState instanceof y}})):E=function(ie){return ie instanceof this};function A(Z){s=s||e(15316);var ie=this instanceof s;if(!ie&&!E.call(A,this))return new A(Z);this._writableState=new y(Z,this,ie),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),S.call(this)}A.prototype.pipe=function(){w(this,new T)};function o(Z,ie){var X=new d;w(Z,X),m.nextTick(ie,X)}function M(Z,ie,X,Q){var oe;return X===null?oe=new i:typeof X!="string"&&!ie.objectMode&&(oe=new l("chunk",["string","Buffer"],X)),oe?(w(Z,oe),m.nextTick(Q,oe),!1):!0}A.prototype.write=function(Z,ie,X){var Q=this._writableState,oe=!1,j=!Q.objectMode&&t(Z);return j&&!v.isBuffer(Z)&&(Z=r(Z)),typeof ie=="function"&&(X=ie,ie=null),j?ie="buffer":ie||(ie=Q.defaultEncoding),typeof X!="function"&&(X=C),Q.ending?o(this,X):(j||M(this,Q,Z,X))&&(Q.pendingcb++,oe=I(this,Q,j,Z,ie,X)),oe},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&B(this,Z))},A.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new b(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function x(Z,ie,X){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof ie=="string"&&(ie=v.from(ie,X)),ie}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(Z,ie,X,Q,oe,j){if(!X){var Y=x(ie,Q,oe);Q!==Y&&(X=!0,oe="buffer",Q=Y)}var se=ie.objectMode?1:Q.length;ie.length+=se;var te=ie.length<ie.highWaterMark;if(te||(ie.needDrain=!0),ie.writing||ie.corked){var fe=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Q,encoding:oe,isBuf:X,callback:j,next:null},fe?fe.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else D(Z,ie,!1,se,Q,oe,j);return te}function D(Z,ie,X,Q,oe,j,Y){ie.writelen=Q,ie.writecb=Y,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new c("write")):X?Z._writev(oe,ie.onwrite):Z._write(oe,j,ie.onwrite),ie.sync=!1}function N(Z,ie,X,Q,oe){--ie.pendingcb,X?(m.nextTick(oe,Q),m.nextTick(ne,Z,ie),Z._writableState.errorEmitted=!0,w(Z,Q)):(oe(Q),Z._writableState.errorEmitted=!0,w(Z,Q),ne(Z,ie))}function k(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function O(Z,ie){var X=Z._writableState,Q=X.sync,oe=X.writecb;if(typeof oe!="function")throw new h;if(k(X),ie)N(Z,X,Q,ie,oe);else{var j=W(X)||Z.destroyed;!j&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&B(Z,X),Q?m.nextTick(F,Z,X,j,oe):F(Z,X,j,oe)}}function F(Z,ie,X,Q){X||z(Z,ie),ie.pendingcb--,Q(),ne(Z,ie)}function z(Z,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,Z.emit("drain"))}function B(Z,ie){ie.bufferProcessing=!0;var X=ie.bufferedRequest;if(Z._writev&&X&&X.next){var Q=ie.bufferedRequestCount,oe=new Array(Q),j=ie.corkedRequestsFree;j.entry=X;for(var Y=0,se=!0;X;)oe[Y]=X,X.isBuf||(se=!1),X=X.next,Y+=1;oe.allBuffers=se,D(Z,ie,!0,ie.length,oe,"",j.finish),ie.pendingcb++,ie.lastBufferedRequest=null,j.next?(ie.corkedRequestsFree=j.next,j.next=null):ie.corkedRequestsFree=new P(ie),ie.bufferedRequestCount=0}else{for(;X;){var te=X.chunk,fe=X.encoding,ge=X.callback,be=ie.objectMode?1:te.length;if(D(Z,ie,!1,be,te,fe,ge),X=X.next,ie.bufferedRequestCount--,ie.writing)break}X===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=X,ie.bufferProcessing=!1}A.prototype._write=function(Z,ie,X){X(new g("_write()"))},A.prototype._writev=null,A.prototype.end=function(Z,ie,X){var Q=this._writableState;return typeof Z=="function"?(X=Z,Z=null,ie=null):typeof ie=="function"&&(X=ie,ie=null),Z!=null&&this.write(Z,ie),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||le(this,Q,X),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function J(Z,ie){Z._final(function(X){ie.pendingcb--,X&&w(Z,X),ie.prefinished=!0,Z.emit("prefinish"),ne(Z,ie)})}function re(Z,ie){!ie.prefinished&&!ie.finalCalled&&(typeof Z._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,m.nextTick(J,Z,ie)):(ie.prefinished=!0,Z.emit("prefinish")))}function ne(Z,ie){var X=W(ie);if(X&&(re(Z,ie),ie.pendingcb===0&&(ie.finished=!0,Z.emit("finish"),ie.autoDestroy))){var Q=Z._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&Z.destroy()}return X}function le(Z,ie,X){ie.ending=!0,ne(Z,ie),X&&(ie.finished?m.nextTick(X):Z.once("finish",X)),ie.ended=!0,Z.writable=!1}function $(Z,ie,X){var Q=Z.entry;for(Z.entry=null;Q;){var oe=Q.callback;ie.pendingcb--,oe(X),Q=Q.next}ie.corkedRequestsFree.next=Z}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),A.prototype.destroy=a.destroy,A.prototype._undestroy=a.undestroy,A.prototype._destroy=function(Z,ie){ie(Z)}},60328:function(G,H,e){var m=e(4168),P;function s(i,d,b){return d in i?Object.defineProperty(i,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):i[d]=b,i}var L=e(15932),S=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),a=Symbol("handlePromise"),n=Symbol("stream");function f(i,d){return{value:i,done:d}}function u(i){var d=i[S];if(d!==null){var b=i[n].read();b!==null&&(i[t]=null,i[S]=null,i[v]=null,d(f(b,!1)))}}function l(i){m.nextTick(u,i)}function g(i,d){return function(b,w){i.then(function(){if(d[r]){b(f(void 0,!0));return}d[a](b,w)},w)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,b=this[p];if(b!==null)return Promise.reject(b);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(E,A){m.nextTick(function(){d[p]?A(d[p]):E(f(void 0,!0))})});var w=this[t],C;if(w)C=new Promise(g(w,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(f(y,!1));C=new Promise(this[a])}return this[t]=C,C}},s(P,Symbol.asyncIterator,function(){return this}),s(P,"return",function(){var d=this;return new Promise(function(b,w){d[n].destroy(null,function(C){if(C){w(C);return}b(f(void 0,!0))})})}),P),h),c=function(d){var b,w=Object.create(T,(b={},s(b,n,{value:d,writable:!0}),s(b,S,{value:null,writable:!0}),s(b,v,{value:null,writable:!0}),s(b,p,{value:null,writable:!0}),s(b,r,{value:d._readableState.endEmitted,writable:!0}),s(b,a,{value:function(y,E){var A=w[n].read();A?(w[t]=null,w[S]=null,w[v]=null,y(f(A,!1))):(w[S]=y,w[v]=E)},writable:!0}),b));return w[t]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=w[v];y!==null&&(w[t]=null,w[S]=null,w[v]=null,y(C)),w[p]=C;return}var E=w[S];E!==null&&(w[t]=null,w[S]=null,w[v]=null,E(f(void 0,!0))),w[r]=!0}),d.on("readable",l.bind(null,w)),w};G.exports=c},47264:function(G,H,e){function m(u,l){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),g.push.apply(g,h)}return g}function P(u){for(var l=1;l<arguments.length;l++){var g=arguments[l]!=null?arguments[l]:{};l%2?m(Object(g),!0).forEach(function(h){s(u,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):m(Object(g)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(g,h))})}return u}function s(u,l,g){return l in u?Object.defineProperty(u,l,{value:g,enumerable:!0,configurable:!0,writable:!0}):u[l]=g,u}function L(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function S(u,l){for(var g=0;g<l.length;g++){var h=l[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,l,g){return l&&S(u.prototype,l),u}var p=e(33576),r=p.Buffer,t=e(21576),a=t.inspect,n=a&&a.custom||"inspect";function f(u,l,g){r.prototype.copy.call(u,l,g)}G.exports=function(){function u(){L(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(g){var h={data:g,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(g){var h={data:g,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=g+h.data;return T}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(g>>>0),T=this.head,c=0;T;)f(T.data,h,c),c+=T.data.length,T=T.next;return h}},{key:"consume",value:function(g,h){var T;return g<this.head.data.length?(T=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?T=this.shift():T=h?this._getString(g):this._getBuffer(g),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var h=this.head,T=1,c=h.data;for(g-=c.length;h=h.next;){var i=h.data,d=g>i.length?i.length:g;if(d===i.length?c+=i:c+=i.slice(0,g),g-=d,g===0){d===i.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=i.slice(d));break}++T}return this.length-=T,c}},{key:"_getBuffer",value:function(g){var h=r.allocUnsafe(g),T=this.head,c=1;for(T.data.copy(h),g-=T.data.length;T=T.next;){var i=T.data,d=g>i.length?i.length:g;if(i.copy(h,h.length-g,0,d),g-=d,g===0){d===i.length?(++c,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=i.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(g,h){return a(this,P({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(G,H,e){var m=e(4168);function P(r,t){var a=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(v,this,r)):m.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?a._writableState?a._writableState.errorEmitted?m.nextTick(L,a):(a._writableState.errorEmitted=!0,m.nextTick(s,a,u)):m.nextTick(s,a,u):t?(m.nextTick(L,a),t(u)):m.nextTick(L,a)}),this)}function s(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var a=r._readableState,n=r._writableState;a&&a.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:P,undestroy:S,errorOrDestroy:p}},15932:function(G,H,e){var m=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];v.apply(this,t)}}}function s(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function S(v,p,r){if(typeof p=="function")return S(v,null,p);p||(p={}),r=P(r||s);var t=p.readable||p.readable!==!1&&v.readable,a=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){a=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,g=function(){t=!1,l=!0,a||r.call(v)},h=function(d){r.call(v,d)},T=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new m),r.call(v,d);if(a&&!f)return(!v._writableState||!v._writableState.ended)&&(d=new m),r.call(v,d)},c=function(){v.req.on("finish",u)};return L(v)?(v.on("complete",u),v.on("abort",T),v.req?c():v.on("request",c)):a&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",g),v.on("finish",u),p.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",g),v.removeListener("error",h),v.removeListener("close",T)}}G.exports=S},90555:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(G,H,e){var m;function P(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var s=e(92784).i,L=s.ERR_MISSING_ARGS,S=s.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,g,h){h=P(h);var T=!1;u.on("close",function(){T=!0}),m===void 0&&(m=e(15932)),m(u,{readable:l,writable:g},function(i){if(i)return h(i);T=!0,h()});var c=!1;return function(i){if(!T&&!c){if(c=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(i||new S("pipe"))}}}function t(u){u()}function a(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new L("streams");var T,c=l.map(function(i,d){var b=d<l.length-1,w=d>0;return r(i,b,w,function(C){T||(T=C),C&&c.forEach(t),!b&&(c.forEach(t),h(T))})});return l.reduce(a)}G.exports=f},24888:function(G,H,e){var m=e(92784).i.ERR_INVALID_OPT_VALUE;function P(L,S,v){return L.highWaterMark!=null?L.highWaterMark:S?L[v]:null}function s(L,S,v,p){var r=P(S,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new m(t,r)}return Math.floor(r)}return L.objectMode?16:16384}G.exports={getHighWaterMark:s}},4776:function(G,H,e){G.exports=e(61252).EventEmitter},86032:function(G,H,e){var m=e(30456).Buffer,P=m.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(c){if(!c)return"utf8";for(var i;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(i)return;c=(""+c).toLowerCase(),i=!0}}function L(c){var i=s(c);if(typeof i!="string"&&(m.isEncoding===P||!P(c)))throw new Error("Unknown encoding: "+c);return i||c}H.o=S;function S(c){this.encoding=L(c);var i;switch(this.encoding){case"utf16le":this.text=f,this.end=u,i=4;break;case"utf8":this.fillLast=t,i=4;break;case"base64":this.text=l,this.end=g,i=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(i)}S.prototype.write=function(c){if(c.length===0)return"";var i,d;if(this.lastNeed){if(i=this.fillLast(c),i===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?i?i+this.text(c,d):this.text(c,d):i||""},S.prototype.end=n,S.prototype.text=a,S.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,i,d){var b=i.length-1;if(b<d)return 0;var w=v(i[b]);return w>=0?(w>0&&(c.lastNeed=w-1),w):--b<d||w===-2?0:(w=v(i[b]),w>=0?(w>0&&(c.lastNeed=w-2),w):--b<d||w===-2?0:(w=v(i[b]),w>=0?(w>0&&(w===2?w=0:c.lastNeed=w-3),w):0))}function r(c,i,d){if((i[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var i=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,i,0,c.length),this.lastNeed-=c.length}function a(c,i){var d=p(this,c,i);if(!this.lastNeed)return c.toString("utf8",i);this.lastTotal=d;var b=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,b),c.toString("utf8",i,b)}function n(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+"�":i}function f(c,i){if((c.length-i)%2===0){var d=c.toString("utf16le",i);if(d){var b=d.charCodeAt(d.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",i,c.length-1)}function u(c){var i=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,d)}return i}function l(c,i){var d=(c.length-i)%3;return d===0?c.toString("base64",i):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",i,c.length-d))}function g(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function h(c){return c.toString(this.encoding)}function T(c){return c&&c.length?this.write(c):""}},55619:function(G,H,e){var m=e(45408),P=e(86844)("stream-parser");G.exports=p;var s=-1,L=0,S=1,v=2;function p(c){var i=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!i&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),c._bytes=t,c._skipBytes=a,i&&(c._passthrough=n),i?c._transform=u:c._write=f}function r(c){P("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=s,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,i){m(!this._parserCallback,'there is already a "callback" set!'),m(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),P("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=L}function a(c,i){m(!this._parserCallback,'there is already a "callback" set!'),m(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=S}function n(c,i){m(!this._parserCallback,'There is already a "callback" set!'),m(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=v}function f(c,i,d){this._parserInit||r(this),P("write(%o bytes)",c.length),typeof i=="function"&&(d=i),h(this,c,null,d)}function u(c,i,d){this._parserInit||r(this),P("transform(%o bytes)",c.length),typeof i!="function"&&(i=this._parserOutput),h(this,c,i,d)}function l(c,i,d,b){return c._parserBytesLeft<=0?b(new Error("got data but not currently parsing anything")):i.length<=c._parserBytesLeft?function(){return g(c,i,d,b)}:function(){var w=i.slice(0,c._parserBytesLeft);return g(c,w,d,function(C){if(C)return b(C);if(i.length>w.length)return function(){return l(c,i.slice(w.length),d,b)}})}}function g(c,i,d,b){if(c._parserBytesLeft-=i.length,P("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===L?(c._parserBuffers.push(i),c._parserBuffered+=i.length):c._parserState===v&&d(i),c._parserBytesLeft===0){var w=c._parserCallback;if(w&&c._parserState===L&&c._parserBuffers.length>1&&(i=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==L&&(i=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=s,c._parserBuffers.splice(0),w){var C=[];i&&C.push(i),d&&C.push(d);var y=w.length>C.length;y&&C.push(T(b));var E=w.apply(c,C);if(!y||b===E)return b}}else return b}var h=T(l);function T(c){return function(){for(var i=c.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(G,H,e){var m=e(4168);H=G.exports=e(89416),H.log=L,H.formatArgs=s,H.save=S,H.load=v,H.useColors=P,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function s(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+H.humanize(this.diff),!!t){var a="color: "+this.color;r.splice(1,0,a,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(f=n))}),r.splice(f,0,a)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function S(r){try{r==null?H.storage.removeItem("debug"):H.storage.debug=r}catch{}}function v(){var r;try{r=H.storage.debug}catch{}return!r&&typeof m<"u"&&"env"in m&&(r=m.env.DEBUG),r}H.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(G,H,e){H=G.exports=s.debug=s.default=s,H.coerce=p,H.disable=S,H.enable=L,H.enabled=v,H.humanize=e(93744),H.names=[],H.skips=[],H.formatters={};var m;function P(r){var t=0,a;for(a in r)t=(t<<5)-t+r.charCodeAt(a),t|=0;return H.colors[Math.abs(t)%H.colors.length]}function s(r){function t(){if(t.enabled){var a=t,n=+new Date,f=n-(m||n);a.diff=f,a.prev=m,a.curr=n,m=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=H.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,c){if(T==="%%")return T;g++;var i=H.formatters[c];if(typeof i=="function"){var d=u[g];T=i.call(a,d),u.splice(g,1),g--}return T}),H.formatArgs.call(a,u);var h=t.log||H.log||console.log.bind(console);h.apply(a,u)}}return t.namespace=r,t.enabled=H.enabled(r),t.useColors=H.useColors(),t.color=P(r),typeof H.init=="function"&&H.init(t),t}function L(r){H.save(r),H.names=[],H.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),a=t.length,n=0;n<a;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?H.skips.push(new RegExp("^"+r.substr(1)+"$")):H.names.push(new RegExp("^"+r+"$")))}function S(){H.enable("")}function v(r){var t,a;for(t=0,a=H.skips.length;t<a;t++)if(H.skips[t].test(r))return!1;for(t=0,a=H.names.length;t<a;t++)if(H.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(G){var H=1e3,e=H*60,m=e*60,P=m*24,s=P*365.25;G.exports=function(r,t){t=t||{};var a=typeof r;if(a==="string"&&r.length>0)return L(r);if(a==="number"&&isNaN(r)===!1)return t.long?v(r):S(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*P;case"hours":case"hour":case"hrs":case"hr":case"h":return a*m;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function S(r){return r>=P?Math.round(r/P)+"d":r>=m?Math.round(r/m)+"h":r>=e?Math.round(r/e)+"m":r>=H?Math.round(r/H)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,m,"hour")||p(r,e,"minute")||p(r,H,"second")||r+" ms"}function p(r,t,a){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+a:Math.ceil(r/t)+" "+a+"s"}},39956:function(G,H,e){var m=e(32868);G.exports=function(s,L,S){if(s==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");S?(typeof S=="string"||Array.isArray(S))&&(S={ignore:S}):S={},S.escape==null&&(S.escape=!0),S.ignore==null?S.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof S.ignore=="string"&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=m.parse(s,{flat:!0,brackets:S.ignore}),p=v[0],r=p.split(L);if(S.escape){for(var t=[],a=0;a<r.length;a++){var n=r[a],f=r[a+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+f),a++):t.push(n)}r=t}for(var a=0;a<r.length;a++)v[0]=r[a],r[a]=m.stringify(v,{flat:!0});return r}},78484:function(G){G.exports=H;function H(e){for(var m=e.length,P=new Array(m),s=new Array(m),L=new Array(m),S=new Array(m),v=new Array(m),p=new Array(m),r=0;r<m;++r)P[r]=-1,s[r]=0,L[r]=!1,S[r]=0,v[r]=-1,p[r]=[];var t=0,a=[],n=[];function f(h){var T=[h],c=[h];for(P[h]=s[h]=t,L[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var i=e[h];if(S[h]<i.length){for(var d=S[h];d<i.length;++d){var b=i[d];if(P[b]<0){P[b]=s[b]=t,L[b]=!0,t+=1,T.push(b),c.push(b);break}else L[b]&&(s[h]=Math.min(s[h],s[b])|0);v[b]>=0&&p[h].push(v[b])}S[h]=d}else{if(s[h]===P[h]){for(var w=[],C=[],y=0,d=T.length-1;d>=0;--d){var E=T[d];if(L[E]=!1,w.push(E),C.push(p[E]),y+=p[E].length,v[E]=a.length,E===h){T.length=d;break}}a.push(w);for(var A=new Array(y),d=0;d<C.length;d++)for(var o=0;o<C[d].length;o++)A[--y]=C[d][o];n.push(A)}c.pop()}}}for(var r=0;r<m;++r)P[r]<0&&f(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(T,c){return T-c}),u=[l[0]];for(var g=1;g<l.length;g++)l[g]!==l[g-1]&&u.push(l[g]);n[r]=u}}return{components:a,adjacencyList:n}}},92848:function(G,H,e){e.r(H);var m=function(){function r(t,a){var n=[],f=!0,u=!1,l=void 0;try{for(var g=t[Symbol.iterator](),h;!(f=(h=g.next()).done)&&(n.push(h.value),!(a&&n.length===a));f=!0);}catch(T){u=!0,l=T}finally{try{!f&&g.return&&g.return()}finally{if(u)throw l}}return n}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,s=function(t,a,n,f,u,l,g){var h=t.x,T=t.y;h*=a,T*=n;var c=f*h-u*T,i=u*h+f*T;return{x:c+l,y:i+g}},L=function(t,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+a),g=Math.sin(t+a);return[{x:f-u*n,y:u+f*n},{x:l+g*n,y:g-l*n},{x:l,y:g}]},S=function(t,a,n,f){var u=t*f-a*n<0?-1:1,l=t*n+a*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,a,n,f,u,l,g,h,T,c,i,d){var b=Math.pow(u,2),w=Math.pow(l,2),C=Math.pow(i,2),y=Math.pow(d,2),E=b*w-b*y-w*C;E<0&&(E=0),E/=b*y+w*C,E=Math.sqrt(E)*(g===h?-1:1);var A=E*u/l*d,o=E*-l/u*i,M=c*A-T*o+(t+n)/2,x=T*A+c*o+(a+f)/2,I=(i-A)/u,D=(d-o)/l,N=(-i-A)/u,k=(-d-o)/l,O=S(1,0,I,D),F=S(I,D,N,k);return h===0&&F>0&&(F-=P),h===1&&F<0&&(F+=P),[M,x,O,F]},p=function(t){var a=t.px,n=t.py,f=t.cx,u=t.cy,l=t.rx,g=t.ry,h=t.xAxisRotation,T=h===void 0?0:h,c=t.largeArcFlag,i=c===void 0?0:c,d=t.sweepFlag,b=d===void 0?0:d,w=[];if(l===0||g===0)return[];var C=Math.sin(T*P/360),y=Math.cos(T*P/360),E=y*(a-f)/2+C*(n-u)/2,A=-C*(a-f)/2+y*(n-u)/2;if(E===0&&A===0)return[];l=Math.abs(l),g=Math.abs(g);var o=Math.pow(E,2)/Math.pow(l,2)+Math.pow(A,2)/Math.pow(g,2);o>1&&(l*=Math.sqrt(o),g*=Math.sqrt(o));var M=v(a,n,f,u,l,g,i,b,C,y,E,A),x=m(M,4),I=x[0],D=x[1],N=x[2],k=x[3],O=Math.abs(k)/(P/4);Math.abs(1-O)<1e-7&&(O=1);var F=Math.max(Math.ceil(O),1);k/=F;for(var z=0;z<F;z++)w.push(L(N,k)),N+=k;return w.map(function(B){var W=s(B[0],l,g,y,C,I,D),J=W.x,re=W.y,ne=s(B[1],l,g,y,C,I,D),le=ne.x,$=ne.y,Z=s(B[2],l,g,y,C,I,D),ie=Z.x,X=Z.y;return{x1:J,y1:re,x2:le,y2:$,x:ie,y:X}})};H.default=p},74840:function(G,H,e){var m=e(21984),P=e(49972),s=e(41976),L=e(53520),S=e(45408);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(S(L(p),"String is not an SVG path."),p=m(p)),S(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=s(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,a=p.length;t<a;t++)for(var n=p[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(G,H,e){G.exports=P;var m=e(92848);function P(S){for(var v,p=[],r=0,t=0,a=0,n=0,f=null,u=null,l=0,g=0,h=0,T=S.length;h<T;h++){var c=S[h],i=c[0];switch(i){case"M":a=c[1],n=c[2];break;case"A":var d=m({px:l,py:g,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var b=0,w;b<d.length;b++)w=d[b],c=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],b<d.length-1&&p.push(c);break;case"S":var C=l,y=g;(v=="C"||v=="S")&&(C+=C-r,y+=y-t),c=["C",C,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=g*2-u):(f=l,u=g),c=L(l,g,f,u,c[1],c[2]);break;case"Q":f=c[1],u=c[2],c=L(l,g,c[1],c[2],c[3],c[4]);break;case"L":c=s(l,g,c[1],c[2]);break;case"H":c=s(l,g,c[1],g);break;case"V":c=s(l,g,l,c[1]);break;case"Z":c=s(l,g,a,n);break}v=i,l=c[c.length-2],g=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=g),p.push(c)}return p}function s(S,v,p,r){return["C",S,v,p,r,p,r]}function L(S,v,p,r,t,a){return["C",S/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,a/3+.6666666666666666*r,t,a]}},20472:function(G,H,e){var m=e(74840),P=e(21984),s=e(22235),L=e(53520),S=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,f){if(!L(n))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var g=Math.min(u,l),h=f.stroke||0,T=f.viewbox||f.viewBox||m(n),c=[u/(T[2]-T[0]),l/(T[3]-T[1])],i=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,l),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(u*.5,l*.5),p.scale(i,i),a()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var b=P(n);s(p,b),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=S(p,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:g*.5});return w}var t;function a(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(G,H,e){var m;(function(P){var s=/^\s+/,L=/\s+$/,S=0,v=P.round,p=P.min,r=P.max,t=P.random;function a(Y,se){if(Y=Y||"",se=se||{},Y instanceof a)return Y;if(!(this instanceof a))return new a(Y,se);var te=n(Y);this._originalInput=Y,this._r=te.r,this._g=te.g,this._b=te.b,this._a=te.a,this._roundA=v(100*this._a)/100,this._format=se.format||te.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=te.ok,this._tc_id=S++}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},getLuminance:function(){var Y=this.toRgb(),se,te,fe,ge,be,xe;return se=Y.r/255,te=Y.g/255,fe=Y.b/255,se<=.03928?ge=se/12.92:ge=P.pow((se+.055)/1.055,2.4),te<=.03928?be=te/12.92:be=P.pow((te+.055)/1.055,2.4),fe<=.03928?xe=fe/12.92:xe=P.pow((fe+.055)/1.055,2.4),.2126*ge+.7152*be+.0722*xe},setAlpha:function(Y){return this._a=z(Y),this._roundA=v(100*this._a)/100,this},toHsv:function(){var Y=g(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=g(this._r,this._g,this._b),se=v(Y.h*360),te=v(Y.s*100),fe=v(Y.v*100);return this._a==1?"hsv("+se+", "+te+"%, "+fe+"%)":"hsva("+se+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var Y=u(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=u(this._r,this._g,this._b),se=v(Y.h*360),te=v(Y.s*100),fe=v(Y.l*100);return this._a==1?"hsl("+se+", "+te+"%, "+fe+"%)":"hsla("+se+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHex:function(Y){return T(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(Y){return c(this._r,this._g,this._b,this._a,Y)},toHex8String:function(Y){return"#"+this.toHex8(Y)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var se="#"+i(this._r,this._g,this._b,this._a),te=se,fe=this._gradientType?"GradientType = 1, ":"";if(Y){var ge=a(Y);te="#"+i(ge._r,ge._g,ge._b,ge._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+se+",endColorstr="+te+")"},toString:function(Y){var se=!!Y;Y=Y||this._format;var te=!1,fe=this._a<1&&this._a>=0,ge=!se&&fe&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="hex4"||Y==="hex8"||Y==="name");return ge?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(te=this.toRgbString()),Y==="prgb"&&(te=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(te=this.toHexString()),Y==="hex3"&&(te=this.toHexString(!0)),Y==="hex4"&&(te=this.toHex8String(!0)),Y==="hex8"&&(te=this.toHex8String()),Y==="name"&&(te=this.toName()),Y==="hsl"&&(te=this.toHslString()),Y==="hsv"&&(te=this.toHsvString()),te||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(Y,se){var te=Y.apply(null,[this].concat([].slice.call(se)));return this._r=te._r,this._g=te._g,this._b=te._b,this.setAlpha(te._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(Y,se){return Y.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(o,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},a.fromRatio=function(Y,se){if(typeof Y=="object"){var te={};for(var fe in Y)Y.hasOwnProperty(fe)&&(fe==="a"?te[fe]=Y[fe]:te[fe]=$(Y[fe]));Y=te}return a(Y,se)};function n(Y){var se={r:0,g:0,b:0},te=1,fe=null,ge=null,be=null,xe=!1,_e=!1;return typeof Y=="string"&&(Y=oe(Y)),typeof Y=="object"&&(Q(Y.r)&&Q(Y.g)&&Q(Y.b)?(se=f(Y.r,Y.g,Y.b),xe=!0,_e=String(Y.r).substr(-1)==="%"?"prgb":"rgb"):Q(Y.h)&&Q(Y.s)&&Q(Y.v)?(fe=$(Y.s),ge=$(Y.v),se=h(Y.h,fe,ge),xe=!0,_e="hsv"):Q(Y.h)&&Q(Y.s)&&Q(Y.l)&&(fe=$(Y.s),be=$(Y.l),se=l(Y.h,fe,be),xe=!0,_e="hsl"),Y.hasOwnProperty("a")&&(te=Y.a)),te=z(te),{ok:xe,format:Y.format||_e,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:te}}function f(Y,se,te){return{r:B(Y,255)*255,g:B(se,255)*255,b:B(te,255)*255}}function u(Y,se,te){Y=B(Y,255),se=B(se,255),te=B(te,255);var fe=r(Y,se,te),ge=p(Y,se,te),be,xe,_e=(fe+ge)/2;if(fe==ge)be=xe=0;else{var De=fe-ge;switch(xe=_e>.5?De/(2-fe-ge):De/(fe+ge),fe){case Y:be=(se-te)/De+(se<te?6:0);break;case se:be=(te-Y)/De+2;break;case te:be=(Y-se)/De+4;break}be/=6}return{h:be,s:xe,l:_e}}function l(Y,se,te){var fe,ge,be;Y=B(Y,360),se=B(se,100),te=B(te,100);function xe(Fe,Te,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<.16666666666666666?Fe+(Te-Fe)*6*Re:Re<.5?Te:Re<.6666666666666666?Fe+(Te-Fe)*(.6666666666666666-Re)*6:Fe}if(se===0)fe=ge=be=te;else{var _e=te<.5?te*(1+se):te+se-te*se,De=2*te-_e;fe=xe(De,_e,Y+.3333333333333333),ge=xe(De,_e,Y),be=xe(De,_e,Y-.3333333333333333)}return{r:fe*255,g:ge*255,b:be*255}}function g(Y,se,te){Y=B(Y,255),se=B(se,255),te=B(te,255);var fe=r(Y,se,te),ge=p(Y,se,te),be,xe,_e=fe,De=fe-ge;if(xe=fe===0?0:De/fe,fe==ge)be=0;else{switch(fe){case Y:be=(se-te)/De+(se<te?6:0);break;case se:be=(te-Y)/De+2;break;case te:be=(Y-se)/De+4;break}be/=6}return{h:be,s:xe,v:_e}}function h(Y,se,te){Y=B(Y,360)*6,se=B(se,100),te=B(te,100);var fe=P.floor(Y),ge=Y-fe,be=te*(1-se),xe=te*(1-ge*se),_e=te*(1-(1-ge)*se),De=fe%6,Fe=[te,xe,be,be,_e,te][De],Te=[_e,te,te,xe,be,be][De],Re=[be,be,_e,te,te,xe][De];return{r:Fe*255,g:Te*255,b:Re*255}}function T(Y,se,te,fe){var ge=[le(v(Y).toString(16)),le(v(se).toString(16)),le(v(te).toString(16))];return fe&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function c(Y,se,te,fe,ge){var be=[le(v(Y).toString(16)),le(v(se).toString(16)),le(v(te).toString(16)),le(Z(fe))];return ge&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)&&be[3].charAt(0)==be[3].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0)+be[3].charAt(0):be.join("")}function i(Y,se,te,fe){var ge=[le(Z(fe)),le(v(Y).toString(16)),le(v(se).toString(16)),le(v(te).toString(16))];return ge.join("")}a.equals=function(Y,se){return!Y||!se?!1:a(Y).toRgbString()==a(se).toRgbString()},a.random=function(){return a.fromRatio({r:t(),g:t(),b:t()})};function d(Y,se){se=se===0?0:se||10;var te=a(Y).toHsl();return te.s-=se/100,te.s=W(te.s),a(te)}function b(Y,se){se=se===0?0:se||10;var te=a(Y).toHsl();return te.s+=se/100,te.s=W(te.s),a(te)}function w(Y){return a(Y).desaturate(100)}function C(Y,se){se=se===0?0:se||10;var te=a(Y).toHsl();return te.l+=se/100,te.l=W(te.l),a(te)}function y(Y,se){se=se===0?0:se||10;var te=a(Y).toRgb();return te.r=r(0,p(255,te.r-v(255*-(se/100)))),te.g=r(0,p(255,te.g-v(255*-(se/100)))),te.b=r(0,p(255,te.b-v(255*-(se/100)))),a(te)}function E(Y,se){se=se===0?0:se||10;var te=a(Y).toHsl();return te.l-=se/100,te.l=W(te.l),a(te)}function A(Y,se){var te=a(Y).toHsl(),fe=(te.h+se)%360;return te.h=fe<0?360+fe:fe,a(te)}function o(Y){var se=a(Y).toHsl();return se.h=(se.h+180)%360,a(se)}function M(Y){var se=a(Y).toHsl(),te=se.h;return[a(Y),a({h:(te+120)%360,s:se.s,l:se.l}),a({h:(te+240)%360,s:se.s,l:se.l})]}function x(Y){var se=a(Y).toHsl(),te=se.h;return[a(Y),a({h:(te+90)%360,s:se.s,l:se.l}),a({h:(te+180)%360,s:se.s,l:se.l}),a({h:(te+270)%360,s:se.s,l:se.l})]}function I(Y){var se=a(Y).toHsl(),te=se.h;return[a(Y),a({h:(te+72)%360,s:se.s,l:se.l}),a({h:(te+216)%360,s:se.s,l:se.l})]}function D(Y,se,te){se=se||6,te=te||30;var fe=a(Y).toHsl(),ge=360/te,be=[a(Y)];for(fe.h=(fe.h-(ge*se>>1)+720)%360;--se;)fe.h=(fe.h+ge)%360,be.push(a(fe));return be}function N(Y,se){se=se||6;for(var te=a(Y).toHsv(),fe=te.h,ge=te.s,be=te.v,xe=[],_e=1/se;se--;)xe.push(a({h:fe,s:ge,v:be})),be=(be+_e)%1;return xe}a.mix=function(Y,se,te){te=te===0?0:te||50;var fe=a(Y).toRgb(),ge=a(se).toRgb(),be=te/100,xe={r:(ge.r-fe.r)*be+fe.r,g:(ge.g-fe.g)*be+fe.g,b:(ge.b-fe.b)*be+fe.b,a:(ge.a-fe.a)*be+fe.a};return a(xe)},a.readability=function(Y,se){var te=a(Y),fe=a(se);return(P.max(te.getLuminance(),fe.getLuminance())+.05)/(P.min(te.getLuminance(),fe.getLuminance())+.05)},a.isReadable=function(Y,se,te){var fe=a.readability(Y,se),ge,be;switch(be=!1,ge=j(te),ge.level+ge.size){case"AAsmall":case"AAAlarge":be=fe>=4.5;break;case"AAlarge":be=fe>=3;break;case"AAAsmall":be=fe>=7;break}return be},a.mostReadable=function(Y,se,te){var fe=null,ge=0,be,xe,_e,De;te=te||{},xe=te.includeFallbackColors,_e=te.level,De=te.size;for(var Fe=0;Fe<se.length;Fe++)be=a.readability(Y,se[Fe]),be>ge&&(ge=be,fe=a(se[Fe]));return a.isReadable(Y,fe,{level:_e,size:De})||!xe?fe:(te.includeFallbackColors=!1,a.mostReadable(Y,["#fff","#000"],te))};var k=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=a.hexNames=F(k);function F(Y){var se={};for(var te in Y)Y.hasOwnProperty(te)&&(se[Y[te]]=te);return se}function z(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function B(Y,se){re(Y)&&(Y="100%");var te=ne(Y);return Y=p(se,r(0,parseFloat(Y))),te&&(Y=parseInt(Y*se,10)/100),P.abs(Y-se)<1e-6?1:Y%se/parseFloat(se)}function W(Y){return p(1,r(0,Y))}function J(Y){return parseInt(Y,16)}function re(Y){return typeof Y=="string"&&Y.indexOf(".")!=-1&&parseFloat(Y)===1}function ne(Y){return typeof Y=="string"&&Y.indexOf("%")!=-1}function le(Y){return Y.length==1?"0"+Y:""+Y}function $(Y){return Y<=1&&(Y=Y*100+"%"),Y}function Z(Y){return P.round(parseFloat(Y)*255).toString(16)}function ie(Y){return J(Y)/255}var X=function(){var Y="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",te="(?:"+se+")|(?:"+Y+")",fe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?",ge="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?";return{CSS_UNIT:new RegExp(te),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+ge),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+ge),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+ge),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(Y){return!!X.CSS_UNIT.exec(Y)}function oe(Y){Y=Y.replace(s,"").replace(L,"").toLowerCase();var se=!1;if(k[Y])Y=k[Y],se=!0;else if(Y=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var te;return(te=X.rgb.exec(Y))?{r:te[1],g:te[2],b:te[3]}:(te=X.rgba.exec(Y))?{r:te[1],g:te[2],b:te[3],a:te[4]}:(te=X.hsl.exec(Y))?{h:te[1],s:te[2],l:te[3]}:(te=X.hsla.exec(Y))?{h:te[1],s:te[2],l:te[3],a:te[4]}:(te=X.hsv.exec(Y))?{h:te[1],s:te[2],v:te[3]}:(te=X.hsva.exec(Y))?{h:te[1],s:te[2],v:te[3],a:te[4]}:(te=X.hex8.exec(Y))?{r:J(te[1]),g:J(te[2]),b:J(te[3]),a:ie(te[4]),format:se?"name":"hex8"}:(te=X.hex6.exec(Y))?{r:J(te[1]),g:J(te[2]),b:J(te[3]),format:se?"name":"hex"}:(te=X.hex4.exec(Y))?{r:J(te[1]+""+te[1]),g:J(te[2]+""+te[2]),b:J(te[3]+""+te[3]),a:ie(te[4]+""+te[4]),format:se?"name":"hex8"}:(te=X.hex3.exec(Y))?{r:J(te[1]+""+te[1]),g:J(te[2]+""+te[2]),b:J(te[3]+""+te[3]),format:se?"name":"hex"}:!1}function j(Y){var se,te;return Y=Y||{level:"AA",size:"small"},se=(Y.level||"AA").toUpperCase(),te=(Y.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),te!=="small"&&te!=="large"&&(te="small"),{level:se,size:te}}G.exports?G.exports=a:(m=(function(){return a}).call(H,e,H,G),m!==void 0&&(G.exports=m))})(Math)},37816:function(G){G.exports=m,G.exports.float32=G.exports.float=m,G.exports.fract32=G.exports.fract=e;var H=new Float32Array(1);function e(P,s){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);s instanceof Float32Array||(s=m(P));for(var L=0,S=s.length;L<S;L++)s[L]=P[L]-s[L];return s}return m(P-m(P))}function m(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(H[0]=P,H[0])}},23464:function(G,H,e){var m=e(65819);G.exports=S;var P=96;function s(v,p){var r=m(getComputedStyle(v).getPropertyValue(p));return r[0]*S(r[1],v)}function L(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=s(r,"font-size")/128;return p.removeChild(r),t}function S(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return s(p,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(G,H,e){e.d(H,{NO:function(){return L}});function m(p,r){for(var t,a=p.length,n=a-r;n<--a;)t=p[n],p[n++]=p[a],p[a]=t}function P(p){return p}function s(p){if(p==null)return P;var r,t,a=p.scale[0],n=p.scale[1],f=p.translate[0],u=p.translate[1];return function(l,g){g||(r=t=0);var h=2,T=l.length,c=new Array(T);for(c[0]=(r+=l[0])*a+f,c[1]=(t+=l[1])*n+u;h<T;)c[h]=l[h],++h;return c}}function L(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return S(p,t)})}:S(p,r)}function S(p,r){var t=r.id,a=r.bbox,n=r.properties==null?{}:r.properties,f=v(p,r);return t==null&&a==null?{type:"Feature",properties:n,geometry:f}:a==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:a,properties:n,geometry:f}}function v(p,r){var t=s(p.transform),a=p.arcs;function n(T,c){c.length&&c.pop();for(var i=a[T<0?~T:T],d=0,b=i.length;d<b;++d)c.push(t(i[d],d));T<0&&m(c,b)}function f(T){return t(T)}function u(T){for(var c=[],i=0,d=T.length;i<d;++i)n(T[i],c);return c.length<2&&c.push(c[0]),c}function l(T){for(var c=u(T);c.length<4;)c.push(c[0]);return c}function g(T){return T.map(l)}function h(T){var c=T.type,i;switch(c){case"GeometryCollection":return{type:c,geometries:T.geometries.map(h)};case"Point":i=f(T.coordinates);break;case"MultiPoint":i=T.coordinates.map(f);break;case"LineString":i=u(T.arcs);break;case"MultiLineString":i=T.arcs.map(u);break;case"Polygon":i=g(T.arcs);break;case"MultiPolygon":i=T.arcs.map(g);break;default:return null}return{type:c,coordinates:i}}return h(r)}},73384:function(G,H,e){var m=e(54612);G.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!m(P)}},57980:function(G,H,e){var m=e(81680),P=e(7328),s=e(33940),L=e(18856),S=function(v,p){return v.replace("%v",L(p))};G.exports=function(v,p,r){if(!P(r))throw new TypeError(S(p,v));if(!m(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=s(r.errorMessage);throw m(t)||(t=p),new TypeError(S(t,v))}},32336:function(G){G.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},18856:function(G,H,e){var m=e(32336),P=/[\n\r\u2028\u2029]/g;G.exports=function(s){var L=m(s);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"…"),L=L.replace(P,function(S){switch(S){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(G,H,e){var m=e(81680),P={object:!0,function:!0,undefined:!0};G.exports=function(s){return m(s)?hasOwnProperty.call(P,typeof s):!1}},87396:function(G,H,e){var m=e(57980),P=e(85488);G.exports=function(s){return P(s)?s:m(s,"%v is not a plain function",arguments[1])}},85488:function(G,H,e){var m=e(73384),P=/^\s*class[\s{/}]/,s=Function.prototype.toString;G.exports=function(L){return!(!m(L)||P.test(s.call(L)))}},54612:function(G,H,e){var m=e(7328);G.exports=function(P){if(!m(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(G,H,e){var m=e(81680),P=e(7328),s=Object.prototype.toString;G.exports=function(L){if(!m(L))return null;if(P(L)){var S=L.toString;if(typeof S!="function"||S===s)return null}try{return""+L}catch{return null}}},18496:function(G,H,e){var m=e(57980),P=e(81680);G.exports=function(s){return P(s)?s:m(s,"Cannot use %v",arguments[1])}},81680:function(G){var H=void 0;G.exports=function(e){return e!==H&&e!==null}},14144:function(G,H,e){var m=e(308),P=e(10352),s=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",S=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;H.free=function(o){if(s.isBuffer(o))t[m.log2(o.length)].push(o);else{if(Object.prototype.toString.call(o)!=="[object ArrayBuffer]"&&(o=o.buffer),!o)return;var M=o.length||o.byteLength,x=m.log2(M)|0;r[x].push(o)}};function a(A){if(A){var o=A.length||A.byteLength,M=m.log2(o);r[M].push(A)}}function n(A){a(A.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=a,H.freeBuffer=function(o){t[m.log2(o.length)].push(o)},H.malloc=function(o,M){if(M===void 0||M==="arraybuffer")return f(o);switch(M){case"uint8":return u(o);case"uint16":return l(o);case"uint32":return g(o);case"int8":return h(o);case"int16":return T(o);case"int32":return c(o);case"float":case"float32":return i(o);case"double":case"float64":return d(o);case"uint8_clamped":return b(o);case"bigint64":return C(o);case"biguint64":return w(o);case"buffer":return E(o);case"data":case"dataview":return y(o);default:return null}return null};function f(o){var o=m.nextPow2(o),M=m.log2(o),x=r[M];return x.length>0?x.pop():new ArrayBuffer(o)}H.mallocArrayBuffer=f;function u(A){return new Uint8Array(f(A),0,A)}H.mallocUint8=u;function l(A){return new Uint16Array(f(2*A),0,A)}H.mallocUint16=l;function g(A){return new Uint32Array(f(4*A),0,A)}H.mallocUint32=g;function h(A){return new Int8Array(f(A),0,A)}H.mallocInt8=h;function T(A){return new Int16Array(f(2*A),0,A)}H.mallocInt16=T;function c(A){return new Int32Array(f(4*A),0,A)}H.mallocInt32=c;function i(A){return new Float32Array(f(4*A),0,A)}H.mallocFloat32=H.mallocFloat=i;function d(A){return new Float64Array(f(8*A),0,A)}H.mallocFloat64=H.mallocDouble=d;function b(A){return L?new Uint8ClampedArray(f(A),0,A):u(A)}H.mallocUint8Clamped=b;function w(A){return S?new BigUint64Array(f(8*A),0,A):null}H.mallocBigUint64=w;function C(A){return v?new BigInt64Array(f(8*A),0,A):null}H.mallocBigInt64=C;function y(A){return new DataView(f(A),0,A)}H.mallocDataView=y;function E(A){A=m.nextPow2(A);var o=m.log2(A),M=t[o];return M.length>0?M.pop():new s(A)}H.mallocBuffer=E,H.clearCache=function(){for(var o=0;o<32;++o)p.UINT8[o].length=0,p.UINT16[o].length=0,p.UINT32[o].length=0,p.INT8[o].length=0,p.INT16[o].length=0,p.INT32[o].length=0,p.FLOAT[o].length=0,p.DOUBLE[o].length=0,p.BIGUINT64[o].length=0,p.BIGINT64[o].length=0,p.UINT8C[o].length=0,r[o].length=0,t[o].length=0}},92384:function(G){var H=/[\'\"]/;G.exports=function(m){return m?(H.test(m.charAt(0))&&(m=m.substr(1)),H.test(m.charAt(m.length-1))&&(m=m.substr(0,m.length-1)),m):""}},45223:function(G){G.exports=function(e,m,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var s=0,L=P.length;s<L;s++){var S=P[s];for(var v in S)if(!(m[v]!==void 0&&!Array.isArray(m[v])&&e[v]===m[v])&&v in m){var p;if(S[v]===!0)p=m[v];else{if(S[v]===!1)continue;if(typeof S[v]=="function"&&(p=S[v](m[v],e,m),p===void 0))continue}e[v]=p}}return e}},96656:function(G,H,e){G.exports=m;function m(s,L){if(P("noDeprecation"))return s;var S=!1;function v(){if(!S){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),S=!0}return s.apply(this,arguments)}return v}function P(s){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[s];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(G,H,e){var m=e(91148),P=e(84420),s=e(96632),L=e(7728);function S(be){return be.call.bind(be)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=S(Object.prototype.toString),t=S(Number.prototype.valueOf),a=S(String.prototype.valueOf),n=S(Boolean.prototype.valueOf);if(v)var f=S(BigInt.prototype.valueOf);if(p)var u=S(Symbol.prototype.valueOf);function l(be,xe){if(typeof be!="object")return!1;try{return xe(be),!0}catch{return!1}}H.isArgumentsObject=m,H.isGeneratorFunction=P,H.isTypedArray=L;function g(be){return typeof Promise<"u"&&be instanceof Promise||be!==null&&typeof be=="object"&&typeof be.then=="function"&&typeof be.catch=="function"}H.isPromise=g;function h(be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(be):L(be)||J(be)}H.isArrayBufferView=h;function T(be){return s(be)==="Uint8Array"}H.isUint8Array=T;function c(be){return s(be)==="Uint8ClampedArray"}H.isUint8ClampedArray=c;function i(be){return s(be)==="Uint16Array"}H.isUint16Array=i;function d(be){return s(be)==="Uint32Array"}H.isUint32Array=d;function b(be){return s(be)==="Int8Array"}H.isInt8Array=b;function w(be){return s(be)==="Int16Array"}H.isInt16Array=w;function C(be){return s(be)==="Int32Array"}H.isInt32Array=C;function y(be){return s(be)==="Float32Array"}H.isFloat32Array=y;function E(be){return s(be)==="Float64Array"}H.isFloat64Array=E;function A(be){return s(be)==="BigInt64Array"}H.isBigInt64Array=A;function o(be){return s(be)==="BigUint64Array"}H.isBigUint64Array=o;function M(be){return r(be)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function x(be){return typeof Map>"u"?!1:M.working?M(be):be instanceof Map}H.isMap=x;function I(be){return r(be)==="[object Set]"}I.working=typeof Set<"u"&&I(new Set);function D(be){return typeof Set>"u"?!1:I.working?I(be):be instanceof Set}H.isSet=D;function N(be){return r(be)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function k(be){return typeof WeakMap>"u"?!1:N.working?N(be):be instanceof WeakMap}H.isWeakMap=k;function O(be){return r(be)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function F(be){return O(be)}H.isWeakSet=F;function z(be){return r(be)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function B(be){return typeof ArrayBuffer>"u"?!1:z.working?z(be):be instanceof ArrayBuffer}H.isArrayBuffer=B;function W(be){return r(be)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function J(be){return typeof DataView>"u"?!1:W.working?W(be):be instanceof DataView}H.isDataView=J;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(be){return r(be)==="[object SharedArrayBuffer]"}function le(be){return typeof re>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new re)),ne.working?ne(be):be instanceof re)}H.isSharedArrayBuffer=le;function $(be){return r(be)==="[object AsyncFunction]"}H.isAsyncFunction=$;function Z(be){return r(be)==="[object Map Iterator]"}H.isMapIterator=Z;function ie(be){return r(be)==="[object Set Iterator]"}H.isSetIterator=ie;function X(be){return r(be)==="[object Generator]"}H.isGeneratorObject=X;function Q(be){return r(be)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=Q;function oe(be){return l(be,t)}H.isNumberObject=oe;function j(be){return l(be,a)}H.isStringObject=j;function Y(be){return l(be,n)}H.isBooleanObject=Y;function se(be){return v&&l(be,f)}H.isBigIntObject=se;function te(be){return p&&l(be,u)}H.isSymbolObject=te;function fe(be){return oe(be)||j(be)||Y(be)||se(be)||te(be)}H.isBoxedPrimitive=fe;function ge(be){return typeof Uint8Array<"u"&&(B(be)||le(be))}H.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(be){Object.defineProperty(H,be,{enumerable:!1,value:function(){throw new Error(be+" is not supported in userland")}})})},35840:function(G,H,e){var m=e(4168),P=Object.getOwnPropertyDescriptors||function(re){for(var ne=Object.keys(re),le={},$=0;$<ne.length;$++)le[ne[$]]=Object.getOwnPropertyDescriptor(re,ne[$]);return le},s=/%[sdj%]/g;H.format=function(J){if(!w(J)){for(var re=[],ne=0;ne<arguments.length;ne++)re.push(p(arguments[ne]));return re.join(" ")}for(var ne=1,le=arguments,$=le.length,Z=String(J).replace(s,function(X){if(X==="%%")return"%";if(ne>=$)return X;switch(X){case"%s":return String(le[ne++]);case"%d":return Number(le[ne++]);case"%j":try{return JSON.stringify(le[ne++])}catch{return"[Circular]"}default:return X}}),ie=le[ne];ne<$;ie=le[++ne])i(ie)||!A(ie)?Z+=" "+ie:Z+=" "+p(ie);return Z},H.deprecate=function(J,re){if(typeof m<"u"&&m.noDeprecation===!0)return J;if(typeof m>"u")return function(){return H.deprecate(J,re).apply(this,arguments)};var ne=!1;function le(){if(!ne){if(m.throwDeprecation)throw new Error(re);m.traceDeprecation?console.trace(re):console.error(re),ne=!0}return J.apply(this,arguments)}return le};var L={},S=/^$/;if(m.env.NODE_DEBUG){var v=m.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+v+"$","i")}H.debuglog=function(J){if(J=J.toUpperCase(),!L[J])if(S.test(J)){var re=m.pid;L[J]=function(){var ne=H.format.apply(H,arguments);console.error("%s %d: %s",J,re,ne)}}else L[J]=function(){};return L[J]};function p(J,re){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),c(re)?ne.showHidden=re:re&&H._extend(ne,re),y(ne.showHidden)&&(ne.showHidden=!1),y(ne.depth)&&(ne.depth=2),y(ne.colors)&&(ne.colors=!1),y(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,J,ne.depth)}H.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(J,re){var ne=p.styles[re];return ne?"\x1B["+p.colors[ne][0]+"m"+J+"\x1B["+p.colors[ne][1]+"m":J}function t(J,re){return J}function a(J){var re={};return J.forEach(function(ne,le){re[ne]=!0}),re}function n(J,re,ne){if(J.customInspect&&re&&x(re.inspect)&&re.inspect!==H.inspect&&!(re.constructor&&re.constructor.prototype===re)){var le=re.inspect(ne,J);return w(le)||(le=n(J,le,ne)),le}var $=f(J,re);if($)return $;var Z=Object.keys(re),ie=a(Z);if(J.showHidden&&(Z=Object.getOwnPropertyNames(re)),M(re)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return u(re);if(Z.length===0){if(x(re)){var X=re.name?": "+re.name:"";return J.stylize("[Function"+X+"]","special")}if(E(re))return J.stylize(RegExp.prototype.toString.call(re),"regexp");if(o(re))return J.stylize(Date.prototype.toString.call(re),"date");if(M(re))return u(re)}var Q="",oe=!1,j=["{","}"];if(T(re)&&(oe=!0,j=["[","]"]),x(re)){var Y=re.name?": "+re.name:"";Q=" [Function"+Y+"]"}if(E(re)&&(Q=" "+RegExp.prototype.toString.call(re)),o(re)&&(Q=" "+Date.prototype.toUTCString.call(re)),M(re)&&(Q=" "+u(re)),Z.length===0&&(!oe||re.length==0))return j[0]+Q+j[1];if(ne<0)return E(re)?J.stylize(RegExp.prototype.toString.call(re),"regexp"):J.stylize("[Object]","special");J.seen.push(re);var se;return oe?se=l(J,re,ne,ie,Z):se=Z.map(function(te){return g(J,re,ne,ie,te,oe)}),J.seen.pop(),h(se,Q,j)}function f(J,re){if(y(re))return J.stylize("undefined","undefined");if(w(re)){var ne="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(ne,"string")}if(b(re))return J.stylize(""+re,"number");if(c(re))return J.stylize(""+re,"boolean");if(i(re))return J.stylize("null","null")}function u(J){return"["+Error.prototype.toString.call(J)+"]"}function l(J,re,ne,le,$){for(var Z=[],ie=0,X=re.length;ie<X;++ie)F(re,String(ie))?Z.push(g(J,re,ne,le,String(ie),!0)):Z.push("");return $.forEach(function(Q){Q.match(/^\d+$/)||Z.push(g(J,re,ne,le,Q,!0))}),Z}function g(J,re,ne,le,$,Z){var ie,X,Q;if(Q=Object.getOwnPropertyDescriptor(re,$)||{value:re[$]},Q.get?Q.set?X=J.stylize("[Getter/Setter]","special"):X=J.stylize("[Getter]","special"):Q.set&&(X=J.stylize("[Setter]","special")),F(le,$)||(ie="["+$+"]"),X||(J.seen.indexOf(Q.value)<0?(i(ne)?X=n(J,Q.value,null):X=n(J,Q.value,ne-1),X.indexOf(`
`)>-1&&(Z?X=X.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):X=J.stylize("[Circular]","special")),y(ie)){if(Z&&$.match(/^\d+$/))return X;ie=JSON.stringify(""+$),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=J.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=J.stylize(ie,"string"))}return ie+": "+X}function h(J,re,ne){var le=J.reduce(function($,Z){return Z.indexOf(`
`)>=0,$+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return le>60?ne[0]+(re===""?"":re+`
 `)+" "+J.join(`,
  `)+" "+ne[1]:ne[0]+re+" "+J.join(", ")+" "+ne[1]}H.types=e(41088);function T(J){return Array.isArray(J)}H.isArray=T;function c(J){return typeof J=="boolean"}H.isBoolean=c;function i(J){return J===null}H.isNull=i;function d(J){return J==null}H.isNullOrUndefined=d;function b(J){return typeof J=="number"}H.isNumber=b;function w(J){return typeof J=="string"}H.isString=w;function C(J){return typeof J=="symbol"}H.isSymbol=C;function y(J){return J===void 0}H.isUndefined=y;function E(J){return A(J)&&D(J)==="[object RegExp]"}H.isRegExp=E,H.types.isRegExp=E;function A(J){return typeof J=="object"&&J!==null}H.isObject=A;function o(J){return A(J)&&D(J)==="[object Date]"}H.isDate=o,H.types.isDate=o;function M(J){return A(J)&&(D(J)==="[object Error]"||J instanceof Error)}H.isError=M,H.types.isNativeError=M;function x(J){return typeof J=="function"}H.isFunction=x;function I(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}H.isPrimitive=I,H.isBuffer=e(75272);function D(J){return Object.prototype.toString.call(J)}function N(J){return J<10?"0"+J.toString(10):J.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var J=new Date,re=[N(J.getHours()),N(J.getMinutes()),N(J.getSeconds())].join(":");return[J.getDate(),k[J.getMonth()],re].join(" ")}H.log=function(){console.log("%s - %s",O(),H.format.apply(H,arguments))},H.inherits=e(6768),H._extend=function(J,re){if(!re||!A(re))return J;for(var ne=Object.keys(re),le=ne.length;le--;)J[ne[le]]=re[ne[le]];return J};function F(J,re){return Object.prototype.hasOwnProperty.call(J,re)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&re[z]){var ne=re[z];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var le,$,Z=new Promise(function(Q,oe){le=Q,$=oe}),ie=[],X=0;X<arguments.length;X++)ie.push(arguments[X]);ie.push(function(Q,oe){Q?$(Q):le(oe)});try{re.apply(this,ie)}catch(Q){$(Q)}return Z}return Object.setPrototypeOf(ne,Object.getPrototypeOf(re)),z&&Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,P(re))},H.promisify.custom=z;function B(J,re){if(!J){var ne=new Error("Promise was rejected with a falsy value");ne.reason=J,J=ne}return re(J)}function W(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ne=[],le=0;le<arguments.length;le++)ne.push(arguments[le]);var $=ne.pop();if(typeof $!="function")throw new TypeError("The last argument must be of type Function");var Z=this,ie=function(){return $.apply(Z,arguments)};J.apply(this,ne).then(function(X){m.nextTick(ie.bind(null,null,X))},function(X){m.nextTick(B.bind(null,X,ie))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(J)),Object.defineProperties(re,P(J)),re}H.callbackify=W},5408:function(G,H,e){var m=e(13380);G.exports=function(s){return m("webgl",s)}},96632:function(G,H,e){var m=e(46492),P=e(63436),s=e(57916),L=e(99676),S=e(2304),v=L("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),a=L("String.prototype.slice"),n=Object.getPrototypeOf,f=L("Array.prototype.indexOf",!0)||function(T,c){for(var i=0;i<T.length;i+=1)if(T[i]===c)return i;return-1},u={__proto__:null};p&&S&&n?m(t,function(h){var T=new r[h];if(Symbol.toStringTag in T){var c=n(T),i=S(c,Symbol.toStringTag);if(!i){var d=n(c);i=S(d,Symbol.toStringTag)}u["$"+h]=s(i.get)}}):m(t,function(h){var T=new r[h],c=T.slice||T.set;c&&(u["$"+h]=s(c))});var l=function(T){var c=!1;return m(u,function(i,d){if(!c)try{"$"+i(T)===d&&(c=a(d,1))}catch{}}),c},g=function(T){var c=!1;return m(u,function(i,d){if(!c)try{i(T),c=a(d,1)}catch{}}),c};G.exports=function(T){if(!T||typeof T!="object")return!1;if(!p){var c=a(v(T),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:g(T)}return S?l(T):null}},67020:function(G,H,e){var m=e(38700),P=e(50896),s=m.instance();function L(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var g=u.match(v);return g?g[0]:""}var h=this._validateYear(u),T=u.month(),c=""+this.toChineseMonth(h,T);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,T)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var l=u.match(p);return l?l[0]:""}var g=this._validateYear(u),h=u.month(),T=this.toChineseMonth(g,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][T-1];return this.isIntercalaryMonth(g,h)&&(c="闰"+c),c},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var g=this._validateYear(u),h=u.month(),T=this.toChineseMonth(g,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][T-1];return this.isIntercalaryMonth(g,h)&&(c="闰"+c),c},parseMonth:function(u,l){u=this._validateYear(u);var g=parseInt(l),h;if(isNaN(g))l[0]==="闰"&&(h=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),g=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var T=l[l.length-1];h=T==="i"||T==="I"}var c=this.toMonthIndex(u,g,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,g){var h=this.intercalaryMonth(u),T=g&&l!==h;if(T||l<1||l>12)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!g&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u),h=g?12:11;if(l<0||l>h)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return g?l<g?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],g=l>>13;return g},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u);return!!g&&g===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,g){var h=this._validateYear(u,m.local.invalidyear),T=a[h-a[0]],c=T>>9&4095,i=T>>5&15,d=T&31,b;b=s.newDate(c,i,d),b.add(4-(b.dayOfWeek()||7),"d");var w=this.toJD(u,l,g)-b.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var g=t[u-t[0]],h=g>>13,T=h?12:11;if(l>T)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=g&1<<12-l?30:29;return c},weekDay:function(u,l,g){return(this.dayOfWeek(u,l,g)||7)<6},toJD:function(u,l,g){var h=this._validate(u,c,g,m.local.invalidDate);u=this._validateYear(h.year()),l=h.month(),g=h.day();var T=this.isIntercalaryMonth(u,l),c=this.toChineseMonth(u,l),i=f(u,c,g,T);return s.toJD(i.year,i.month,i.day)},fromJD:function(u){var l=s.fromJD(u),g=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,h,g.day)},fromString:function(u){var l=u.match(S),g=this._validateYear(+l[1]),h=+l[2],T=!!l[3],c=this.toMonthIndex(g,h,T),i=+l[4];return this.newDate(g,c,i)},add:function(u,l,g){var h=u.year(),T=u.month(),c=this.isIntercalaryMonth(h,T),i=this.toChineseMonth(h,T),d=Object.getPrototypeOf(L.prototype).add.call(this,u,l,g);if(g==="y"){var b=d.year(),w=d.month(),C=this.isIntercalaryMonth(b,i),y=c&&C?this.toMonthIndex(b,i,!0):this.toMonthIndex(b,i,!1);y!==w&&d.month(y)}return d}});var S=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;m.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,g,h){var T,c;if(typeof u=="object")T=u,c=l||{};else{var i=typeof u=="number"&&u>=1888&&u<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var b=typeof g=="number"&&g>=1&&g<=31;if(!b)throw new Error("Solar day outside range 1 - 31");T={year:u,month:l,day:g},c={}}var w=a[T.year-a[0]],C=T.year<<9|T.month<<5|T.day;c.year=C>=w?T.year:T.year-1,w=a[c.year-a[0]];var y=w>>9&4095,E=w>>5&15,A=w&31,o,M=new Date(y,E-1,A),x=new Date(T.year,T.month-1,T.day);o=Math.round((x-M)/864e5);var I=t[c.year-t[0]],D;for(D=0;D<13;D++){var N=I&1<<12-D?30:29;if(o<N)break;o-=N}var k=I>>13;return!k||D<k?(c.isIntercalary=!1,c.month=1+D):D===k?(c.isIntercalary=!0,c.month=D):(c.isIntercalary=!1,c.month=D),c.day=1+o,c}function f(u,l,g,h,T){var c,i;if(typeof u=="object")i=u,c=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var b=typeof l=="number"&&l>=1&&l<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var w=typeof g=="number"&&g>=1&&g<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c={}),i={year:u,month:l,day:g,isIntercalary:C}}var y;y=i.day-1;var E=t[i.year-t[0]],A=E>>13,o;A&&(i.month>A||i.isIntercalary)?o=i.month:o=i.month-1;for(var M=0;M<o;M++){var x=E&1<<12-M?30:29;y+=x}var I=a[i.year-a[0]],D=I>>9&4095,N=I>>5&15,k=I&31,O=new Date(D,N-1,k+y);return c.year=O.getFullYear(),c.month=1+O.getMonth(),c.day=O.getDate(),c}},89792:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var S=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(S/30)+1,r=S-(p-1)*30+1;return this.newDate(v,p,r)}}),m.calendars.coptic=s},55668:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),!1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),13},daysInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),400},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return(r.day()+1)%8},weekDay:function(S,v,p){var r=this.dayOfWeek(S,v,p);return r>=2&&r<=6},extraInfo:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return S=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(S-1)*400+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(S/400)+1;S-=(v-1)*400,S+=S>15?16:0;var p=Math.floor(S/32)+1,r=S-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var L={20:"Fruitbat",21:"Anchovy"};m.calendars.discworld=s},65168:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var S=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(S/30)+1,r=S-(p-1)*30+1;return this.newDate(v,p,r)}}),m.calendars.ethiopian=s},2084:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(S){return S=S<0?S+1:S,L(S*7+1,19)<7},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),this._leapYear(S.year?S.year():S)?13:12},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return S=v.year(),this.toJD(S===-1?1:S+1,7,1)-this.toJD(S,7,1)},daysInMonth:function(S,v){return S.year&&(v=S.month(),S=S.year()),this._validate(S,v,this.minDay,m.local.invalidMonth),v===12&&this.leapYear(S)||v===8&&L(this.daysInYear(S),10)===5?30:v===9&&L(this.daysInYear(S),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==6},extraInfo:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);S=r.year(),v=r.month(),p=r.day();var t=S<=0?S+1:S,a=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(S);n++)a+=this.daysInMonth(S,n);for(var n=1;n<v;n++)a+=this.daysInMonth(S,n)}else for(var n=7;n<v;n++)a+=this.daysInMonth(S,n);return a},_delay1:function(S){var v=Math.floor((235*S-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(S){var v=this._delay1(S-1),p=this._delay1(S),r=this._delay1(S+1);return r-p===356?2:p-v===382?1:0},fromJD:function(S){S=Math.floor(S)+.5;for(var v=Math.floor((S-this.jdEpoch)*98496/35975351)-1;S>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=S<this.toJD(v,1,1)?7:1;S>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=S-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function L(S,v){return S-v*Math.floor(S/v)}m.calendars.hebrew=s},26368:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var S=this._validate(L,this.minMonth,this.minDay,m.local.invalidYear);return(S.year()*11+14)%30<11},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return this.dayOfWeek(L,S,v)!==5},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),S=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(S-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var S=Math.floor((30*(L-this.jdEpoch)+10646)/10631);S=S<=0?S-1:S;var v=Math.min(12,Math.ceil((L-29-this.toJD(S,1,1))/29.5)+1),p=L-this.toJD(S,v,1)+1;return this.newDate(S,v,p)}}),m.calendars.islamic=s},24747:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()<0?S.year()+1:S.year();return v%4===0},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),S=p.month(),v=p.day(),L<0&&L++,S<=2&&(L--,S+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(S+1))+v-1524.5},fromJD:function(L){var S=Math.floor(L+.5),v=S+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),a=t-Math.floor(t<14?1:13),n=p-Math.floor(a>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,a,f)}}),m.calendars.julian=s},65616:function(G,H,e){var m=e(38700),P=e(50896);function s(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,m.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,m.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,m.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate),a=t.toJD(),n=this._toHaab(a),f=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+17*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[S(v+20,20),S(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function L(v,p){return v-p*Math.floor(v/p)}function S(v,p){return L(v-1,p)+1}m.calendars.mayan=s},30632:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar;var L=m.instance("gregorian");P(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidMonth),t=r.year();t<0&&t++;for(var a=r.day(),n=1;n<r.month();n++)a+=this.daysPerMonth[n-1];return a+L.toJD(t+1468,3,13)},fromJD:function(S){S=Math.floor(S+.5);for(var v=Math.floor((S-(this.jdEpoch-1))/366);S>=this.toJD(v+1,1,1);)v++;for(var p=S-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),m.calendars.nanakshahi=s},73040:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var S=this._validate(L,this.minMonth,this.minDay,m.local.invalidYear);if(L=S.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,S){return L.year&&(S=L.month(),L=L.year()),this._validate(L,S,this.minDay,m.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[S-1]:this.NEPALI_CALENDAR_DATA[L][S]},weekDay:function(L,S,v){return this.dayOfWeek(L,S,v)!==6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);L=p.year(),S=p.month(),v=p.day();var r=m.instance(),t=0,a=S,n=L;this._createMissingCalendarData(L);var f=L-(a>9||a===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(S!==9&&(t=v,a--);a!==9;)a<=0&&(a=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][a],a--;return S===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(L){var S=m.instance(),v=S.fromJD(L),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var a=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][a]-n+1;r>f;)a++,a>12&&(a=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][a];var u=this.NEPALI_CALENDAR_DATA[t][a]-(f-r);return this.newDate(t,a,u)},_createMissingCalendarData:function(L){var S=this.daysPerMonth.slice(0);S.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=S)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),m.calendars.nepali=s},1104:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==5},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);S=r.year(),v=r.month(),p=r.day();var t=S-(S>=0?474:473),a=474+L(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((a*682-110)/2816)+(a-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var v=S-this.toJD(475,1,1),p=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var a=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*a+2816*n+2815)/1028522)+a+1}var f=t+2820*p+474;f=f<=0?f-1:f;var u=S-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),g=S-this.toJD(f,l,1)+1;return this.newDate(f,l,g)}});function L(S,v){return S-v*Math.floor(S/v)}m.calendars.persian=s,m.calendars.jalali=s},51456:function(G,H,e){var m=e(38700),P=e(50896),s=m.instance();function L(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,m.local.invalidYear),p=this._t2gYear(v.year());return s.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear),t=this._t2gYear(r.year());return s.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidDate),t=this._t2gYear(r.year());return s.toJD(t,r.month(),r.day())},fromJD:function(S){var v=s.fromJD(S),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)},_g2tYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)}}),m.calendars.taiwan=L},4592:function(G,H,e){var m=e(38700),P=e(50896),s=m.instance();function L(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,m.local.invalidYear),p=this._t2gYear(v.year());return s.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear),t=this._t2gYear(r.year());return s.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidDate),t=this._t2gYear(r.year());return s.toJD(t,r.month(),r.day())},fromJD:function(S){var v=s.fromJD(S),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)},_g2tYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)}}),m.calendars.thai=L},45348:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(S,p);return v},daysInMonth:function(S,v){for(var p=this._validate(S,v,this.minDay,m.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,a=0;a<L.length;a++){if(L[a]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==5},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,a=r.day()+L[t-1]-1;return a+24e5-.5},fromJD:function(S){for(var v=S-24e5+.5,p=0,r=0;r<L.length&&!(L[r]>v);r++)p++;var t=p+15292,a=Math.floor((t-1)/12),n=a+1,f=t-12*a,u=v-L[p-1]+1;return this.newDate(n,f,u)},isValid:function(S,v,p){var r=m.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(S=S.year!=null?S.year:S,r=S>=1276&&S<=1500),r},_validate:function(S,v,p,r){var t=m.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),m.calendars.ummalqura=s;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(G,H,e){var m=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}m(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var a=this._localCals[r+"-"+t];if(!a&&this.calendars[r]&&(a=new this.calendars[r](t),this._localCals[r+"-"+t]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return a},newDate:function(r,t,a,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,a)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(a){return r[a]})}},substituteChineseDigits:function(r,t){return function(a){for(var n="",f=0;a>0;){var u=a%10;n=(u===0?"":r[u]+t[f])+n,f++,a=Math.floor(a/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function s(r,t,a,n){if(this._calendar=r,this._year=t,this._month=a,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}m(s.prototype,{newDate:function(r,t,a){return this._calendar.newDate(r??this,t,a)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,a){if(!this._calendar.isValid(r,t,a))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function S(){this.shortYearCutoff="+10"}m(S.prototype,{_validateLevel:0,newDate:function(r,t,a){return r==null?this.today():(r.year&&(this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),a=r.day(),t=r.month(),r=r.year()),new s(this,r,t,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var a=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(r,t){var a=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,a,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),a},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,a){return this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,a){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,a),t,a)},_add:function(r,t,a){if(this._validateLevel++,a==="d"||a==="w"){var n=r.toJD()+t*(a==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(a==="y"?t:0),l=r.monthOfYear()+(a==="m"?t:0),f=r.day(),g=function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var i=c.monthsInYear(u);l>i-1+c.minMonth;)u++,l-=i,i=c.monthsInYear(u)};a==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):a==="m"&&(g(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,a,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=a<0?-1:1;t=this._add(r,a*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,a){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=a==="y"?t:r.year(),f=a==="m"?t:r.month(),u=a==="d"?t:r.day();return(a==="y"||a==="m")&&(u=Math.min(u,this.daysInMonth(n,f))),r.date(n,f,u)},isValid:function(r,t,a){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,a,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,a))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,a);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new S,m(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),a=t.year()+(t.year()<0?1:0);return a%4===0&&(a%100!==0||a%400===0)},weekOfYear:function(r,t,a){var n=this.newDate(r,t,a);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var a=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(a.month()===2&&this.leapYear(a.year())?1:0)},weekDay:function(r,t,a){return(this.dayOfWeek(r,t,a)||7)<6},toJD:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),a=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+a+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),a=Math.floor((t-186721625e-2)/36524.25);a=t+1+a-Math.floor(a/4);var n=a+1524,f=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((n-u)/30.6001),g=n-u-Math.floor(l*30.6001),h=l-(l>13.5?13:1),T=f-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,g)},toJSDate:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new P;p.cdate=s,p.baseCalendar=S,p.calendars.gregorian=v},15168:function(G,H,e){var m=e(50896),P=e(38700);m(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],m(P.cdate.prototype,{formatDate:function(s,L){return typeof s!="string"&&(L=s,s=""),this._calendar.formatDate(s||"",this,L)}}),m(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,L,S){if(typeof s!="string"&&(S=L,L=s,s=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,S=S||{};var v=S.dayNamesShort||this.local.dayNamesShort,p=S.dayNames||this.local.dayNames,r=S.monthNumbers||this.local.monthNumbers,t=S.monthNamesShort||this.local.monthNamesShort,a=S.monthNames||this.local.monthNames;S.calculateWeek||this.local.calculateWeek;for(var n=function(w,C){for(var y=1;b+y<s.length&&s.charAt(b+y)===w;)y++;return b+=y-1,Math.floor(y/(C||1))>1},f=function(w,C,y,E){var A=""+C;if(n(w,E))for(;A.length<y;)A="0"+A;return A},u=function(w,C,y,E){return n(w)?E[C]:y[C]},l=this,g=function(w){return typeof r=="function"?r.call(l,w,n("m")):c(f("m",w.month(),2))},h=function(w,C){return C?typeof a=="function"?a.call(l,w):a[w.month()-l.minMonth]:typeof t=="function"?t.call(l,w):t[w.month()-l.minMonth]},T=this.local.digits,c=function(w){return S.localNumbers&&T?T(w):w},i="",d=!1,b=0;b<s.length;b++)if(d)s.charAt(b)==="'"&&!n("'")?d=!1:i+=s.charAt(b);else switch(s.charAt(b)){case"d":i+=c(f("d",L.day(),2));break;case"D":i+=u("D",L.dayOfWeek(),v,p);break;case"o":i+=f("o",L.dayOfYear(),3);break;case"w":i+=f("w",L.weekOfYear(),2);break;case"m":i+=g(L);break;case"M":i+=h(L,n("M"));break;case"y":i+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),i+=L.formatYear();break;case"J":i+=L.toJD();break;case"@":i+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?i+="'":d=!0;break;default:i+=s.charAt(b)}return i},parseDate:function(s,L,S){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;s=s||this.local.dateFormat,S=S||{};var v=S.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=S.dayNamesShort||this.local.dayNamesShort,r=S.dayNames||this.local.dayNames,t=S.parseMonth||this.local.parseMonth,a=S.monthNumbers||this.local.monthNumbers,n=S.monthNamesShort||this.local.monthNamesShort,f=S.monthNames||this.local.monthNames,u=-1,l=-1,g=-1,h=-1,T=-1,c=!1,i=!1,d=function(D,N){for(var k=1;M+k<s.length&&s.charAt(M+k)===D;)k++;return M+=k-1,Math.floor(k/(N||1))>1},b=function(D,N){var k=d(D,N),O=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],F=new RegExp("^-?\\d{1,"+O+"}"),z=L.substring(o).match(F);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,o);return o+=z[0].length,parseInt(z[0],10)},w=this,C=function(){if(typeof a=="function"){d("m");var D=a.call(w,L.substring(o));return o+=D.length,D}return b("m")},y=function(D,N,k,O){for(var F=d(D,O)?k:N,z=0;z<F.length;z++)if(L.substr(o,F[z].length).toLowerCase()===F[z].toLowerCase())return o+=F[z].length,z+w.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,o)},E=function(){if(typeof f=="function"){var D=d("M")?f.call(w,L.substring(o)):n.call(w,L.substring(o));return o+=D.length,D}return y("M",n,f)},A=function(){if(L.charAt(o)!==s.charAt(M))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,o);o++},o=0,M=0;M<s.length;M++)if(i)s.charAt(M)==="'"&&!d("'")?i=!1:A();else switch(s.charAt(M)){case"d":h=b("d");break;case"D":y("D",p,r);break;case"o":T=b("o");break;case"w":b("w");break;case"m":g=C();break;case"M":g=E();break;case"y":var x=M;c=!d("y",2),M=x,l=b("y",2);break;case"Y":l=b("Y",2);break;case"J":u=b("J")+.5,L.charAt(o)==="."&&(o++,b("J"));break;case"@":u=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":o=L.length;break;case"'":d("'")?A():i=!0;break;default:A()}if(o<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof g=="string"&&(g=t.call(this,l,g)),T>-1){g=1,h=T;for(var I=this.daysInMonth(l,g);h>I;I=this.daysInMonth(l,g))g++,h-=I}return u>-1?this.fromJD(u):this.newDate(l,g,h)},determineDate:function(s,L,S,v,p){S&&typeof S!="object"&&(p=v,v=S,S=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(a){try{return r.parseDate(v,a,p)}catch{}a=a.toLowerCase();for(var n=(a.match(/^c/)&&S?S.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(a);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(a);return n};return L=L?L.newDate():null,s=s==null?L:typeof s=="string"?t(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?L:r.today().add(s,"d"):r.newDate(s),s}})},21576:function(){},19768:function(){},63436:function(G,H,e){var m=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var L=[],S=0;S<m.length;S++)typeof P[m[S]]=="function"&&(L[L.length]=m[S]);return L}},67756:function(G,H,e){e.d(H,{qy:function(){return Fe},Gz:function(){return oe}});function m(Te,Re,Se){Te.prototype=Re.prototype=Se,Se.constructor=Te}function P(Te,Re){var Se=Object.create(Te.prototype);for(var ke in Re)Se[ke]=Re[ke];return Se}function s(){}var L=.7,S=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(s,b,{copy:function(Re){return Object.assign(new this.constructor,this,Re)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:c,formatHsl:i,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function i(){return O(this).formatHsl()}function d(){return this.rgb().formatRgb()}function b(Te){var Re,Se;return Te=(Te+"").trim().toLowerCase(),(Re=t.exec(Te))?(Se=Re[1].length,Re=parseInt(Re[1],16),Se===6?w(Re):Se===3?new A(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):Se===8?C(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):Se===4?C(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=a.exec(Te))?new A(Re[1],Re[2],Re[3],1):(Re=n.exec(Te))?new A(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=f.exec(Te))?C(Re[1],Re[2],Re[3],Re[4]):(Re=u.exec(Te))?C(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=l.exec(Te))?k(Re[1],Re[2]/100,Re[3]/100,1):(Re=g.exec(Te))?k(Re[1],Re[2]/100,Re[3]/100,Re[4]):h.hasOwnProperty(Te)?w(h[Te]):Te==="transparent"?new A(NaN,NaN,NaN,0):null}function w(Te){return new A(Te>>16&255,Te>>8&255,Te&255,1)}function C(Te,Re,Se,ke){return ke<=0&&(Te=Re=Se=NaN),new A(Te,Re,Se,ke)}function y(Te){return Te instanceof s||(Te=b(Te)),Te?(Te=Te.rgb(),new A(Te.r,Te.g,Te.b,Te.opacity)):new A}function E(Te,Re,Se,ke){return arguments.length===1?y(Te):new A(Te,Re,Se,ke??1)}function A(Te,Re,Se,ke){this.r=+Te,this.g=+Re,this.b=+Se,this.opacity=+ke}m(A,E,P(s,{brighter:function(Re){return Re=Re==null?S:Math.pow(S,Re),new A(this.r*Re,this.g*Re,this.b*Re,this.opacity)},darker:function(Re){return Re=Re==null?L:Math.pow(L,Re),new A(this.r*Re,this.g*Re,this.b*Re,this.opacity)},rgb:function(){return this},clamp:function(){return new A(D(this.r),D(this.g),D(this.b),I(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o,formatHex:o,formatHex8:M,formatRgb:x,toString:x}));function o(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function M(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function x(){var Te=I(this.opacity);return"".concat(Te===1?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(Te===1?")":", ".concat(Te,")"))}function I(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function D(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function N(Te){return Te=D(Te),(Te<16?"0":"")+Te.toString(16)}function k(Te,Re,Se,ke){return ke<=0?Te=Re=Se=NaN:Se<=0||Se>=1?Te=Re=NaN:Re<=0&&(Te=NaN),new z(Te,Re,Se,ke)}function O(Te){if(Te instanceof z)return new z(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof s||(Te=b(Te)),!Te)return new z;if(Te instanceof z)return Te;Te=Te.rgb();var Re=Te.r/255,Se=Te.g/255,ke=Te.b/255,Me=Math.min(Re,Se,ke),Ve=Math.max(Re,Se,ke),tt=NaN,it=Ve-Me,Je=(Ve+Me)/2;return it?(Re===Ve?tt=(Se-ke)/it+(Se<ke)*6:Se===Ve?tt=(ke-Re)/it+2:tt=(Re-Se)/it+4,it/=Je<.5?Ve+Me:2-Ve-Me,tt*=60):it=Je>0&&Je<1?0:tt,new z(tt,it,Je,Te.opacity)}function F(Te,Re,Se,ke){return arguments.length===1?O(Te):new z(Te,Re,Se,ke??1)}function z(Te,Re,Se,ke){this.h=+Te,this.s=+Re,this.l=+Se,this.opacity=+ke}m(z,F,P(s,{brighter:function(Re){return Re=Re==null?S:Math.pow(S,Re),new z(this.h,this.s,this.l*Re,this.opacity)},darker:function(Re){return Re=Re==null?L:Math.pow(L,Re),new z(this.h,this.s,this.l*Re,this.opacity)},rgb:function(){var Re=this.h%360+(this.h<0)*360,Se=isNaN(Re)||isNaN(this.s)?0:this.s,ke=this.l,Me=ke+(ke<.5?ke:1-ke)*Se,Ve=2*ke-Me;return new A(J(Re>=240?Re-240:Re+120,Ve,Me),J(Re,Ve,Me),J(Re<120?Re+240:Re-120,Ve,Me),this.opacity)},clamp:function(){return new z(B(this.h),W(this.s),W(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Re=I(this.opacity);return"".concat(Re===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Re===1?")":", ".concat(Re,")"))}}));function B(Te){return Te=(Te||0)%360,Te<0?Te+360:Te}function W(Te){return Math.max(0,Math.min(1,Te||0))}function J(Te,Re,Se){return(Te<60?Re+(Se-Re)*Te/60:Te<180?Se:Te<240?Re+(Se-Re)*(240-Te)/60:Re)*255}var re=function(Te){return function(){return Te}};function ne(Te,Re){return function(Se){return Te+Se*Re}}function le(Te,Re,Se){return Te=Math.pow(Te,Se),Re=Math.pow(Re,Se)-Te,Se=1/Se,function(ke){return Math.pow(Te+ke*Re,Se)}}function $(Te){return(Te=+Te)==1?Z:function(Re,Se){return Se-Re?le(Re,Se,Te):re(isNaN(Re)?Se:Re)}}function Z(Te,Re){var Se=Re-Te;return Se?ne(Te,Se):re(isNaN(Te)?Re:Te)}var ie=function Te(Re){var Se=$(Re);function ke(Me,Ve){var tt=Se((Me=E(Me)).r,(Ve=E(Ve)).r),it=Se(Me.g,Ve.g),Je=Se(Me.b,Ve.b),Qe=Z(Me.opacity,Ve.opacity);return function(ct){return Me.r=tt(ct),Me.g=it(ct),Me.b=Je(ct),Me.opacity=Qe(ct),Me+""}}return ke.gamma=Te,ke}(1);function X(Te,Re){var Se=Re?Re.length:0,ke=Te?Math.min(Se,Te.length):0,Me=new Array(ke),Ve=new Array(Se),tt;for(tt=0;tt<ke;++tt)Me[tt]=Fe(Te[tt],Re[tt]);for(;tt<Se;++tt)Ve[tt]=Re[tt];return function(it){for(tt=0;tt<ke;++tt)Ve[tt]=Me[tt](it);return Ve}}function Q(Te,Re){var Se=new Date;return Te=+Te,Re=+Re,function(ke){return Se.setTime(Te*(1-ke)+Re*ke),Se}}function oe(Te,Re){return Te=+Te,Re=+Re,function(Se){return Te*(1-Se)+Re*Se}}function j(Te){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},j(Te)}function Y(Te,Re){var Se={},ke={},Me;(Te===null||j(Te)!=="object")&&(Te={}),(Re===null||j(Re)!=="object")&&(Re={});for(Me in Re)Me in Te?Se[Me]=Fe(Te[Me],Re[Me]):ke[Me]=Re[Me];return function(Ve){for(Me in Se)ke[Me]=Se[Me](Ve);return ke}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(se.source,"g");function fe(Te){return function(){return Te}}function ge(Te){return function(Re){return Te(Re)+""}}function be(Te,Re){var Se=se.lastIndex=te.lastIndex=0,ke,Me,Ve,tt=-1,it=[],Je=[];for(Te=Te+"",Re=Re+"";(ke=se.exec(Te))&&(Me=te.exec(Re));)(Ve=Me.index)>Se&&(Ve=Re.slice(Se,Ve),it[tt]?it[tt]+=Ve:it[++tt]=Ve),(ke=ke[0])===(Me=Me[0])?it[tt]?it[tt]+=Me:it[++tt]=Me:(it[++tt]=null,Je.push({i:tt,x:oe(ke,Me)})),Se=te.lastIndex;return Se<Re.length&&(Ve=Re.slice(Se),it[tt]?it[tt]+=Ve:it[++tt]=Ve),it.length<2?Je[0]?ge(Je[0].x):fe(Re):(Re=Je.length,function(Qe){for(var ct=0,ht;ct<Re;++ct)it[(ht=Je[ct]).i]=ht.x(Qe);return it.join("")})}function xe(Te,Re){Re||(Re=[]);var Se=Te?Math.min(Re.length,Te.length):0,ke=Re.slice(),Me;return function(Ve){for(Me=0;Me<Se;++Me)ke[Me]=Te[Me]*(1-Ve)+Re[Me]*Ve;return ke}}function _e(Te){return ArrayBuffer.isView(Te)&&!(Te instanceof DataView)}function De(Te){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},De(Te)}function Fe(Te,Re){var Se=De(Re),ke;return Re==null||Se==="boolean"?re(Re):(Se==="number"?oe:Se==="string"?(ke=b(Re))?(Re=ke,ie):be:Re instanceof b?ie:Re instanceof Date?Q:_e(Re)?xe:Array.isArray(Re)?X:typeof Re.valueOf!="function"&&typeof Re.toString!="function"||isNaN(Re)?Y:oe)(Te,Re)}},30584:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ie={};function qe(G){var H=Ie[G];if(H!==void 0)return H.exports;var e=Ie[G]={exports:{}};return ye[G].call(e.exports,e,e.exports,qe),e.exports}(function(){qe.n=function(G){var H=G&&G.__esModule?function(){return G.default}:function(){return G};return qe.d(H,{a:H}),H}})(),function(){qe.d=function(G,H){for(var e in H)qe.o(H,e)&&!qe.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:H[e]})}}(),function(){qe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){qe.o=function(G,H){return Object.prototype.hasOwnProperty.call(G,H)}}(),function(){qe.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var yt=qe(13792);return yt}()})})(Hw);var iM=Hw.exports;(function(U){Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var q=Ie(Nw),ye=Ie(iM);function Ie(G){return G&&G.__esModule?G:{default:G}}var qe=(0,q.default)(ye.default),yt=qe;U.default=yt})(Fw);const Cc=cb(Fw),Gw=Fn.createContext(),oM=({children:U})=>{const q="https://abd-portfolio.azurewebsites.net/api";let G={get_tickers_data:async H=>{let e=localStorage.getItem("period");e===null&&(e="1y");const m=await fetch(`${q}/tickers_data/?tickers=${H.map(P=>encodeURIComponent(P)).join(",")}&period=${e}`);return m.status===200?await m.json():{error:"Error",status:m.status}},analyze_data:async H=>{const e=await fetch(`${q}/data_analysis/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(e.status===200){const m=await e.json();return localStorage.setItem("results_0",JSON.stringify(m.results_0)),localStorage.setItem("results_1",JSON.stringify(m.results_1)),localStorage.setItem("results_2",JSON.stringify(m.results_2)),!0}else return!1},search_tickers:async(H,e)=>{const m=await fetch(`${q}/search_${e}/?search=${H}`);return m.status===200?await m.json():{error:"Error",status:m.status}},get_tickers:async H=>{const e=await fetch(`${q}/tickers_${H}/`);return e.status===200?await e.json():{error:"Error",status:e.status}}};return Er.jsx(Gw.Provider,{value:G,children:U})};var sM={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function lM(U){if(typeof U=="number")return{value:U,unit:"px"};var q,ye=(U.match(/^[0-9.]*/)||"").toString();ye.includes(".")?q=parseFloat(ye):q=parseInt(ye,10);var Ie=(U.match(/[^0-9]*$/)||"").toString();return sM[Ie]?{value:q,unit:Ie}:(console.warn("React Spinners: ".concat(U," is not a valid css value. Defaulting to ").concat(q,"px.")),{value:q,unit:"px"})}function Zg(U){var q=lM(U);return"".concat(q.value).concat(q.unit)}var Ww=function(U,q,ye){var Ie="react-spinners-".concat(U,"-").concat(ye);if(typeof window>"u"||!window.document)return Ie;var qe=document.createElement("style");document.head.appendChild(qe);var yt=qe.sheet,G=`
    @keyframes `.concat(Ie,` {
      `).concat(q,`
    }
  `);return yt&&yt.insertRule(G,0),Ie},S0;(function(U){U.maroon="#800000",U.red="#FF0000",U.orange="#FFA500",U.yellow="#FFFF00",U.olive="#808000",U.green="#008000",U.purple="#800080",U.fuchsia="#FF00FF",U.lime="#00FF00",U.teal="#008080",U.aqua="#00FFFF",U.blue="#0000FF",U.navy="#000080",U.black="#000000",U.gray="#808080",U.silver="#C0C0C0",U.white="#FFFFFF"})(S0||(S0={}));var uM=function(U,q){if(Object.keys(S0).includes(U)&&(U=S0[U]),U[0]==="#"&&(U=U.slice(1)),U.length===3){var ye="";U.split("").forEach(function(qe){ye+=qe,ye+=qe}),U=ye}var Ie=(U.match(/.{2}/g)||[]).map(function(qe){return parseInt(qe,16)}).join(", ");return"rgba(".concat(Ie,", ").concat(q,")")},M0=function(){return M0=Object.assign||function(U){for(var q,ye=1,Ie=arguments.length;ye<Ie;ye++){q=arguments[ye];for(var qe in q)Object.prototype.hasOwnProperty.call(q,qe)&&(U[qe]=q[qe])}return U},M0.apply(this,arguments)},fM=function(U,q){var ye={};for(var Ie in U)Object.prototype.hasOwnProperty.call(U,Ie)&&q.indexOf(Ie)<0&&(ye[Ie]=U[Ie]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var qe=0,Ie=Object.getOwnPropertySymbols(U);qe<Ie.length;qe++)q.indexOf(Ie[qe])<0&&Object.prototype.propertyIsEnumerable.call(U,Ie[qe])&&(ye[Ie[qe]]=U[Ie[qe]]);return ye},cM=Ww("BarLoader","0% {left: -35%;right: 100%} 60% {left: 100%;right: -90%} 100% {left: 100%;right: -90%}","long"),hM=Ww("BarLoader","0% {left: -200%;right: 100%} 60% {left: 107%;right: -8%} 100% {left: 107%;right: -8%}","short");function Kg(U){var q=U.loading,ye=q===void 0?!0:q,Ie=U.color,qe=Ie===void 0?"#000000":Ie,yt=U.speedMultiplier,G=yt===void 0?1:yt,H=U.cssOverride,e=H===void 0?{}:H,m=U.height,P=m===void 0?4:m,s=U.width,L=s===void 0?100:s,S=fM(U,["loading","color","speedMultiplier","cssOverride","height","width"]),v=M0({display:"inherit",position:"relative",width:Zg(L),height:Zg(P),overflow:"hidden",backgroundColor:uM(qe,.2),backgroundClip:"padding-box"},e),p=function(r){return{position:"absolute",height:Zg(P),overflow:"hidden",backgroundColor:qe,backgroundClip:"padding-box",display:"block",borderRadius:2,willChange:"left, right",animationFillMode:"forwards",animation:"".concat(r===1?cM:hM," ").concat(2.1/G,"s ").concat(r===2?"".concat(1.15/G,"s"):""," ").concat(r===1?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite")}};return ye?Fn.createElement("span",M0({style:v},S),Fn.createElement("span",{style:p(1)}),Fn.createElement("span",{style:p(2)})):null}const vM=()=>{let{get_tickers:U,get_tickers_data:q,analyze_data:ye,search_tickers:Ie}=Fn.useContext(Gw),qe=Fn.useRef(!0),yt=Fn.useRef(!0),G=Fn.useRef(0),[H,e]=Fn.useState({}),[m,P]=Fn.useState(null),[s,L]=Fn.useState(null);localStorage.getItem("selection")||localStorage.setItem("selection",0);let[S,v]=Fn.useState(parseInt(localStorage.getItem("selection"))),[p,r]=Fn.useState(""),[t,a]=Fn.useState(!1),[n,f]=Fn.useState({}),[u,l]=Fn.useState([]),[g,h]=Fn.useState(!1),[T,c]=Fn.useState(0),[i,d]=Fn.useState(100),[b,w]=Fn.useState(!1),[C,y]=Fn.useState(!1),[E,A]=Fn.useState(!1),[o,M]=Fn.useState(!1),x=localStorage.getItem("period")?localStorage.getItem("period"):"1y",[I,D]=Fn.useState(x),N=Fn.useRef(0),[k,O]=Fn.useState(0),[F,z]=Fn.useState(0),[B,W]=Fn.useState(0),[J,re]=Fn.useState(0),[ne,le]=Fn.useState(0),$=Fn.useRef([0,0,0,0,0]),[Z,ie]=Fn.useState(null),[X,Q]=Fn.useState(100),[oe,j]=Fn.useState(null),[Y,se]=Fn.useState(100),[te,fe]=Fn.useState(null),[ge,be]=Fn.useState(100),[xe,_e]=Fn.useState(null),[De,Fe]=Fn.useState(100),[Te,Re]=Fn.useState(null),[Se,ke]=Fn.useState(100),[Me,Ve]=Fn.useState(["2013-10-04 22:23:00","2013-11-04 22:23:00","2013-12-04 22:23:00"]),[tt,it]=Fn.useState([1,3,6]),[Je,Qe]=Fn.useState(["2013-10-04 22:23:00","2013-11-04 22:23:00","2013-12-04 22:23:00"]),[ct,ht]=Fn.useState([1,3,6]),[dt,Tt]=Fn.useState(!1),Et=Fn.useRef(null),rt=Fn.useRef(null),ze=Fn.useRef(!0),[Ge,je]=Fn.useState({width:0,height:0}),[We,Le]=Fn.useState({width:0,height:0}),Pe=Fn.useRef(!0),[Ye,Ce]=Fn.useState(!1),[he,me]=Fn.useState(!1),[Ne,$e]=Fn.useState(!1),[ot,st]=Fn.useState(null),[Wt,Zt]=Fn.useState(!1),[At,Rt]=Fn.useState(null);const Xt=kw();var ir="equity";switch(S){case 0:ir="equity";break;case 1:ir="commodities";break;case 2:ir="t_notes";break;case 3:ir="reit";break;default:ir="crypto"}Fn.useEffect(()=>{D(x)},[x]),Fn.useEffect(()=>{yt.current&&(yt.current=!1,localStorage.getItem("equity_bucket")||localStorage.setItem("equity_bucket",JSON.stringify([])),localStorage.getItem("commodities_bucket")||localStorage.setItem("commodities_bucket",JSON.stringify([])),localStorage.getItem("t_notes_bucket")||localStorage.setItem("t_notes_bucket",JSON.stringify([])),localStorage.getItem("reit_bucket")||localStorage.setItem("reit_bucket",JSON.stringify([])),localStorage.getItem("crypto_bucket")||localStorage.setItem("crypto_bucket",JSON.stringify([])));let xt=JSON.parse(localStorage.getItem("equity_bucket"));G.current=0;for(let Ut=0;Ut<xt.length;Ut++)G.current+=xt[Ut][1];xt=JSON.parse(localStorage.getItem("commodities_bucket"));for(let Ut=0;Ut<xt.length;Ut++)G.current+=xt[Ut][1];xt=JSON.parse(localStorage.getItem("t_notes_bucket"));for(let Ut=0;Ut<xt.length;Ut++)G.current+=xt[Ut][1];xt=JSON.parse(localStorage.getItem("reit_bucket"));for(let Ut=0;Ut<xt.length;Ut++)G.current+=xt[Ut][1];xt=JSON.parse(localStorage.getItem("crypto_bucket"));for(let Ut=0;Ut<xt.length;Ut++)G.current+=xt[Ut][1]},[S]),Fn.useEffect(()=>{if(s!==null){let xt=JSON.parse(localStorage.getItem(`${ir}_list_data`));Ve(xt.price_data.DATE),it(xt.price_data[s[0]]),Qe(xt.volatility_data.DATE),ht(xt.volatility_data[s[0]])}},[s]);const pt=async xt=>{L(xt)},Kt=async()=>{h(!0),Ce(!0);const xt=new Date,Ut=new Date(xt);Ut.setHours(15,30,0,0);let qt=localStorage.getItem("tickers_list_last_updated");if(qt=qt?new Date(qt):null,!qt||!localStorage.getItem("equity_list")||!localStorage.getItem("equity_list_data")||!localStorage.getItem("commodities_list")||!localStorage.getItem("commodities_list_data")||!localStorage.getItem("t_notes_list")||!localStorage.getItem("t_notes_list_data")||!localStorage.getItem("reit_list")||!localStorage.getItem("reit_list_data")||!localStorage.getItem("crypto_list")||!localStorage.getItem("crypto_list_data")||qt.toDateString()!==xt.toDateString()||xt>=Ut&&qt<Ut){if(!localStorage.getItem("equity_list")){const He=await U("equity");He.error?(Zt(!0),Rt(He.status)):localStorage.setItem("equity_list",JSON.stringify(He.tickers))}if(!localStorage.getItem("commodities_list")){const He=await U("commodities");He.error?(Zt(!0),Rt(He.status)):localStorage.setItem("commodities_list",JSON.stringify(He.tickers))}if(!localStorage.getItem("t_notes_list")){const He=await U("t_notes");He.error?(Zt(!0),Rt(He.status)):localStorage.setItem("t_notes_list",JSON.stringify(He.tickers))}if(!localStorage.getItem("reit_list")){const He=await U("reit");He.error?(Zt(!0),Rt(He.status)):localStorage.setItem("reit_list",JSON.stringify(He.tickers))}if(!localStorage.getItem("crypto_list")){const He=await U("crypto");He.error?(Zt(!0),Rt(He.status)):localStorage.setItem("crypto_list",JSON.stringify(He.tickers))}e(JSON.parse(localStorage.getItem(`${ir}_list`)));let rr=await q(Object.keys(JSON.parse(localStorage.getItem("equity_list"))));localStorage.setItem("equity_list_data",JSON.stringify(rr)),rr=await q(Object.keys(JSON.parse(localStorage.getItem("commodities_list")))),localStorage.setItem("commodities_list_data",JSON.stringify(rr)),rr=await q(Object.keys(JSON.parse(localStorage.getItem("t_notes_list")))),localStorage.setItem("t_notes_list_data",JSON.stringify(rr)),rr=await q(Object.keys(JSON.parse(localStorage.getItem("reit_list")))),localStorage.setItem("reit_list_data",JSON.stringify(rr)),rr=await q(Object.keys(JSON.parse(localStorage.getItem("crypto_list")))),localStorage.setItem("crypto_list_data",JSON.stringify(rr)),l(Object.keys(JSON.parse(localStorage.getItem(`${ir}_list`)))),P(JSON.parse(localStorage.getItem(`${ir}_list_data`)).table_data),L(Object.entries(JSON.parse(localStorage.getItem(`${ir}_list`)))[0]),localStorage.setItem("tickers_list_last_updated",xt.toISOString())}else e(JSON.parse(localStorage.getItem(`${ir}_list`))),l(Object.keys(JSON.parse(localStorage.getItem(`${ir}_list`)))),P(JSON.parse(localStorage.getItem(`${ir}_list_data`)).table_data),L(Object.entries(JSON.parse(localStorage.getItem(`${ir}_list`)))[0]);h(!1),Ce(!1)};Fn.useEffect(()=>{qe.current&&(qe.current=!1,Kt())},[S]);let Qt=async xt=>{xt.preventDefault(),Tt(!0);let Ut=document.getElementById("start_date").value,qt=document.getElementById("end_date").value,or=document.getElementById("number_of_simulations").value,rr=document.getElementById("initial_amount").value,He=document.getElementById("benchmark_ticker").value,Ue=document.getElementById("market_ticker").value,Ot=JSON.parse(localStorage.getItem("equity_bucket")),It=JSON.parse(localStorage.getItem("commodities_bucket")),Jt=JSON.parse(localStorage.getItem("t_notes_bucket")),cr=JSON.parse(localStorage.getItem("reit_bucket")),vr=JSON.parse(localStorage.getItem("crypto_bucket"));await ye({start_date:Ut,end_date:qt,number_of_simulations:or,initial_amount:rr,benchmark_ticker:He,market_ticker:Ue,equity_bucket:Ot,commodities_bucket:It,t_notes_bucket:Jt,reit_bucket:cr,crypto_bucket:vr,buckets_min_weights:[Z,oe,te,xe,Te],buckets_max_weights:[X,Y,ge,De,Se]})&&Xt("/results"),Tt(!1)};const yr=xt=>parseFloat(xt)>0?Sa.positive:parseFloat(xt)<0?Sa.negative:"",ur=xt=>{qe.current=!0,localStorage.setItem("selection",parseInt(xt.index)),v(parseInt(xt.index))},mt=async xt=>{me(!0);const Ut=await Ie(xt,ir);Ut.error?(st(Ut.status),$e(!0)):f(Ut.tickers),me(!1)};Fn.useEffect(()=>{p===""?(e(JSON.parse(localStorage.getItem(`${ir}_list`))),a(!1),$e(!1)):(a(!0),mt(p.toUpperCase()))},[p]);const lt=xt=>{r(xt.target.value);const Ut=document.getElementById("clear_button");xt.target.value!==""?(Ut.classList.remove(Sa.slideOut),Ut.classList.add(Sa.slideIn)):(Ut.classList.remove(Sa.slideIn),Ut.classList.add(Sa.slideOut))},bt=()=>{r("");const xt=document.querySelector(`.${Sa.clear_button}`);xt.classList.contains(Sa.slideIn)&&(xt.classList.remove(Sa.slideIn),xt.classList.add(Sa.slideOut))},Ct=async(xt,Ut)=>{let qt=[],or=JSON.parse(localStorage.getItem(`${ir}_list`));if(h(!0),u.includes(xt)){qt=u.filter(Ue=>Ue!==xt),delete or[xt];let rr=JSON.parse(localStorage.getItem(`${ir}_list_data`));delete rr.volatility_data[xt],delete rr.price_data[xt];let He=rr.table_data.SYMBOLS.indexOf(xt);rr.table_data.SYMBOLS.splice(He,1),rr.table_data.PRICE.splice(He,1),rr.table_data.CHANGE.splice(He,1),rr.table_data.PCHANGE.splice(He,1),rr.table_data.LOW.splice(He,1),rr.table_data.HIGH.splice(He,1),localStorage.setItem(`${ir}_list_data`,JSON.stringify(rr)),localStorage.setItem(`${ir}_list`,JSON.stringify(or)),e(or),P(rr.table_data)}else{let rr=JSON.parse(localStorage.getItem(`${ir}_list_data`));const He=await q([xt]);He.error?(console.log(He.status),qt=[...u]):(qt=[...u,xt],or[xt]=Ut,rr.volatility_data[xt]=He.volatility_data[xt],rr.price_data[xt]=He.price_data[xt],rr.table_data.SYMBOLS.push(He.table_data.SYMBOLS[0]),rr.table_data.PRICE.push(He.table_data.PRICE[0]),rr.table_data.CHANGE.push(He.table_data.CHANGE[0]),rr.table_data.PCHANGE.push(He.table_data.PCHANGE[0]),rr.table_data.LOW.push(He.table_data.LOW[0]),rr.table_data.HIGH.push(He.table_data.HIGH[0]),localStorage.setItem(`${ir}_list_data`,JSON.stringify(rr)),localStorage.setItem(`${ir}_list`,JSON.stringify(or)),e(or),P(rr.table_data))}h(!1),l(qt)},Dt=xt=>{xt.preventDefault();let Ut=JSON.parse(localStorage.getItem(`${ir}_bucket`)),qt=s,or=parseInt(i),rr=parseInt(T);Ut=[...Ut,[qt,rr,or]],localStorage.setItem(`${ir}_bucket`,JSON.stringify(Ut)),window.location.reload()};Fn.useEffect(()=>{if(C){N.current=0,$.current=[0,0,0,0,0];let xt=JSON.parse(localStorage.getItem("equity_bucket"));if(xt&&xt.length!==0){for(let Ut=0;Ut<xt.length;Ut++)$.current[0]+=xt[Ut][1];ie($.current[0]),N.current+=$.current[0]}if(xt=JSON.parse(localStorage.getItem("commodities_bucket")),xt&&xt.length!==0){for(let Ut=0;Ut<xt.length;Ut++)$.current[1]+=xt[Ut][1];j($.current[1]),N.current+=$.current[1]}if(xt=JSON.parse(localStorage.getItem("t_notes_bucket")),xt&&xt.length!==0){for(let Ut=0;Ut<xt.length;Ut++)$.current[2]+=xt[Ut][1];fe($.current[2]),N.current+=$.current[2]}if(xt=JSON.parse(localStorage.getItem("reit_bucket")),xt&&xt.length!==0){for(let Ut=0;Ut<xt.length;Ut++)$.current[3]+=xt[Ut][1];_e($.current[3]),N.current+=$.current[3]}if(xt=JSON.parse(localStorage.getItem("crypto_bucket")),xt&&xt.length!==0){for(let Ut=0;Ut<xt.length;Ut++)$.current[4]+=xt[Ut][1];Re($.current[4]),N.current+=$.current[4]}O(N.current-$.current[0]),z(N.current-$.current[1]),W(N.current-$.current[2]),re(N.current-$.current[3]),le(N.current-$.current[4])}},[C]),Fn.useEffect(()=>{O(N.current-Z),z(N.current-oe),W(N.current-te),re(N.current-xe),le(N.current-Te)},[Z,oe,te,xe,Te]);var Ht=[{x:Me,y:tt,type:"scatter"}],Bt=[{x:Je,y:ct,type:"scatter"}];return Fn.useEffect(()=>{const xt=document.getElementById("home_chart"),Ut=document.getElementById("priceChartContainer"),qt=document.getElementById("volatilityChartContainer"),or=Ue=>{Ue.stopPropagation()},rr=()=>{xt.addEventListener("wheel",or,{passive:!1})},He=()=>{xt.removeEventListener("wheel",or,{passive:!1})};return Ut.addEventListener("mouseenter",rr),Ut.addEventListener("mouseleave",He),qt.addEventListener("mouseenter",rr),qt.addEventListener("mouseleave",He),()=>{Ut.removeEventListener("mouseenter",rr),Ut.removeEventListener("mouseleave",He),qt.removeEventListener("mouseenter",rr),qt.removeEventListener("mouseleave",He)}},[]),Fn.useEffect(()=>{const xt=()=>{if(Et.current){const Ut=Et.current.offsetWidth;Et.current.style.height=`${Ut/3}px`}if(rt.current){const Ut=rt.current.offsetWidth;rt.current.style.height=`${Ut/2}px`}};return Pe.current&&(Pe.current=!1,xt()),window.addEventListener("resize",xt),()=>window.removeEventListener("resize",xt)},[]),Fn.useEffect(()=>{const xt=()=>{if(Et.current){const Ut=Et.current.getBoundingClientRect();je({width:Ut.width-2,height:Ut.height-2})}if(rt.current){const Ut=rt.current.getBoundingClientRect();Le({width:Ut.width-2,height:Ut.height-2})}};return ze.current&&(ze.current=!1,xt()),window.addEventListener("resize",xt),()=>window.removeEventListener("resize",xt)},[]),Er.jsxs("div",{className:Sa.home_container,children:[Ye&&Er.jsx("div",{className:Sa.loading_page,children:Er.jsxs("div",{className:Sa.loading_container,children:[Er.jsx("h1",{children:"Gathering Latest Data"}),Er.jsx(Kg,{color:"rgb(34, 103, 196",width:"50%"})]})}),Wt&&Er.jsx("div",{className:Sa.loading_page,children:Er.jsxs("div",{className:Sa.loading_container,children:[Er.jsx("h1",{style:{color:"red"},children:"Error Fetching Data"}),Er.jsxs("h2",{style:{color:"red"},children:["Status Code: ",At]})]})}),dt&&Er.jsx("div",{className:Sa.popup_container,style:{zIndex:"100"},children:Er.jsxs("div",{className:Sa.loading,children:[Er.jsx("h1",{children:"Running Simulations..."}),Er.jsx("h2",{children:"This may take a while depending on your set parameters"}),Er.jsx("div",{className:Sa.barloader,children:Er.jsx(Kg,{color:"rgb(34, 103, 196",width:"30%"})})]})}),C&&Er.jsx("div",{className:Sa.popup_container,onClick:()=>y(!1),children:Er.jsxs("div",{className:Sa.popup,onClick:xt=>xt.stopPropagation(),children:[Er.jsx("div",{className:Sa.popup_header,children:Er.jsx("h2",{children:"Simulation Parameters"})}),Er.jsx("span",{className:Sa.closeButton,onClick:()=>y(!1),children:"ⓧ"}),Er.jsx("div",{className:Sa.analysis_options,children:Er.jsxs("form",{onSubmit:Qt,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px",color:"red"},children:"Difference between Start Date and End Date must be at least 52 Days for the results to load!"}),Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Start Date : "}),Er.jsx("input",{type:"date",id:"start_date",required:!0})]}),Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"End Date : "}),Er.jsx("input",{type:"date",id:"end_date",required:!0})]}),Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Number of Simulations : "}),Er.jsx("input",{type:"number",id:"number_of_simulations",max:2e4,placeholder:"5000"})]}),Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Initial Amount : "}),Er.jsx("input",{type:"number",id:"initial_amount",placeholder:"10000"})]}),Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Benchmark Ticker : "}),Er.jsxs("select",{defaultValue:"^NSEI",id:"benchmark_ticker",required:!0,children:[Er.jsx("option",{value:"^GSPC",children:"^GSPC"}),Er.jsx("option",{value:"^IXIC",children:"^IXIC"}),Er.jsx("option",{value:"^NSEI",children:"^NSEI"}),Er.jsx("option",{value:"^NSEMDCP50",children:"^NSEMDCP50"}),Er.jsx("option",{value:"^BSESN",children:"^BSESN"})]})]}),Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Market Ticker : "}),Er.jsxs("select",{defaultValue:"^NSEI",id:"market_ticker",required:!0,children:[Er.jsx("option",{value:"^GSPC",children:"^GSPC"}),Er.jsx("option",{value:"^IXIC",children:"^IXIC"}),Er.jsx("option",{value:"^NSEI",children:"^NSEI"}),Er.jsx("option",{value:"^NSEMDCP50",children:"^NSEMDCP50"}),Er.jsx("option",{value:"^BSESN",children:"^BSESN"})]})]}),Z!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Equity Bucket Min Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:Z,min:$.current[0],max:100-k,onChange:xt=>{N.current+=Math.max($.current[0],Math.min(xt.target.value,100-k))-Z,ie(Math.max($.current[0],Math.min(xt.target.value,100-k)))},required:!0})]}),Z!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Equity Bucket Max Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:X,min:Z,max:100,onChange:xt=>{Q(xt.target.value)},required:!0})]}),oe!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Commodities Bucket Min Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:oe,min:$.current[1],max:100-F,onChange:xt=>{N.current+=Math.max($.current[0],Math.min(xt.target.value,100-k))-oe,j(Math.max($.current[1],Math.min(xt.target.value,100-F)))},required:!0})]}),oe!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Commodities Bucket Max Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:Y,min:oe,max:100,onChange:xt=>{se(xt.target.value)},required:!0})]}),te!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"US Treasury Notes Bucket Min Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:te,min:$.current[2],max:100-B,onChange:xt=>{N.current+=Math.max($.current[0],Math.min(xt.target.value,100-k))-te,fe(Math.max($.current[2],Math.min(xt.target.value,100-B)))},required:!0})]}),te!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"US Treasury Notes Bucket Max Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:ge,min:te,max:100,onChange:xt=>{be(xt.target.value)},required:!0})]}),xe!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"REITs Bucket Min Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:xe,min:$.current[3],max:100-J,onChange:xt=>{N.current+=Math.max($.current[0],Math.min(xt.target.value,100-k))-xe,_e(Math.max($.current[3],Math.min(xt.target.value,100-J)))},required:!0})]}),xe!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"REITs Bucket Max Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:De,min:xe,max:100,onChange:xt=>{Fe(xt.target.value)},required:!0})]}),Te!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Crypto Bucket Min Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:Te,min:$.current[4],max:100-ne,onChange:xt=>{N.current+=Math.max($.current[0],Math.min(xt.target.value,100-k))-Te,Re(Math.max($.current[4],Math.min(xt.target.value,100-ne)))},required:!0})]}),Te!==null&&Er.jsxs("div",{className:Sa.analysis_options_input,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Crypto Bucket Max Weight : "}),Er.jsx("input",{style:{width:"40px"},type:"number",value:Se,min:Te,max:100,onChange:xt=>{ke(xt.target.value)},required:!0})]}),Er.jsx("button",{type:"submit",className:Sa.popup_proceed,children:"Analyze"})]})})]})}),o&&Er.jsx("div",{className:Sa.popup_container,onClick:()=>M(!1),children:Er.jsxs("div",{className:Sa.popup,onClick:xt=>xt.stopPropagation(),children:[Er.jsx("div",{className:Sa.popup_header,children:Er.jsx("h2",{children:"Settings"})}),Er.jsxs("div",{className:Sa.settings_options,children:[Er.jsxs("label",{style:{fontWeight:"bold",fontSize:"14px"},children:["Period :"," "]}),Er.jsxs("select",{value:I,onChange:xt=>D(xt.target.value),children:[Er.jsx("option",{value:"5d",children:"5 Days"}),Er.jsx("option",{value:"1mo",children:"1 Month"}),Er.jsx("option",{value:"3mo",children:"3 Months"}),Er.jsx("option",{value:"6mo",children:"6 Months"}),Er.jsx("option",{value:"1y",children:"1 Year"}),Er.jsx("option",{value:"2y",children:"2 Years"})]})]}),Er.jsx("span",{className:Sa.closeButton,onClick:()=>M(!1),children:"ⓧ"}),Er.jsxs("div",{className:Sa.settings_buttons,children:[I!==x&&Er.jsx("button",{className:Sa.settings_cancel,onClick:()=>{D(x)},children:"Cancel"}),I!==x&&Er.jsx("button",{className:Sa.popup_proceed,onClick:()=>{localStorage.setItem("period",I),localStorage.removeItem(`${ir}_list_data`),window.location.reload()},children:"Apply"})]})]})}),b&&Er.jsx("div",{className:Sa.popup_container,onClick:()=>w(!1),children:Er.jsxs("div",{className:Sa.popup,onClick:xt=>xt.stopPropagation(),children:[Er.jsx("div",{className:Sa.bucket_header,children:Er.jsx("h2",{children:"Bucket"})}),Er.jsx("span",{className:Sa.closeButton,onClick:()=>w(!1),children:"ⓧ"}),Er.jsx("div",{className:Sa.bucket_table,children:Er.jsxs("table",{children:[Er.jsx("thead",{children:Er.jsxs("tr",{children:[Er.jsx("th",{children:Er.jsx("center",{children:"Delete"})}),Er.jsx("th",{children:"Element"}),Er.jsx("th",{children:"Minimum Weight"}),Er.jsx("th",{children:"Maximum Weight"})]})}),Er.jsx("tbody",{children:JSON.parse(localStorage.getItem(`${ir}_bucket`)).map((xt,Ut)=>Er.jsxs("tr",{children:[Er.jsx("td",{children:Er.jsx("center",{children:Er.jsxs("svg",{className:Sa.deleteIcon,onClick:()=>{let qt=JSON.parse(localStorage.getItem(`${ir}_bucket`));qt.splice(Ut,1),localStorage.setItem(`${ir}_bucket`,JSON.stringify(qt)),A(!E)},xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"14",height:"14",viewBox:"0 0 24 24",children:[" ",Er.jsx("path",{d:"M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"})]})})}),Er.jsx("td",{children:xt[0][1]}),Er.jsx("td",{children:xt[1]}),Er.jsx("td",{children:xt[2]})]},Ut))})]})})]})}),Er.jsxs("div",{className:Sa.home,children:[Er.jsx("div",{className:Sa.home_table_navbar,children:["Equity","Commodities","US Treasury Notes","REITs","Crypto"].map((xt,Ut)=>Er.jsx("div",{className:`${Sa.home_table_navbar_item} ${S===Ut?Sa.selected:""}`,onClick:()=>ur({index:Ut}),children:Er.jsx("h2",{children:xt})},Ut))}),Er.jsxs("div",{className:Sa.home_table_and_chart,children:[Er.jsxs("div",{className:Sa.home_table,children:[Er.jsxs("div",{className:Sa.home_table_search,children:[Er.jsx("label",{children:"Search for Equity"}),Er.jsxs("div",{className:Sa.search_div,children:[Er.jsx("input",{type:"text",value:p,onChange:lt,placeholder:"Yahoo Finance Ticker"}),Er.jsx("button",{className:Sa.clear_button,id:"clear_button",onClick:bt,style:{fontSize:"16px"},children:"ⓧ"})]})]}),Er.jsxs("div",{className:Sa.table_container,children:[he===!1&&Ne===!1&&Er.jsxs("table",{children:[Er.jsxs("thead",{children:[t===!1&&Er.jsx("tr",{children:["","Symbol","Price","Change","% Change","Range"].map((xt,Ut)=>Er.jsx("th",{children:xt},Ut))}),t===!0&&Er.jsxs("tr",{children:[Er.jsx("th",{children:Er.jsx("center",{children:"Select"})}),Er.jsx("th",{children:"Symbol"})]})]}),Er.jsxs("tbody",{children:[t===!1&&H&&Object.entries(H).map(([xt,Ut],qt)=>Er.jsxs("tr",{children:[Er.jsx("td",{children:Er.jsx("center",{children:Er.jsx("input",{type:"checkbox",disabled:g,checked:u.includes(xt),onChange:()=>Ct(xt,Ut)})})}),Er.jsx("td",{className:Sa.table_symbol,onClick:()=>pt([xt,Ut]),children:Ut}),m&&Er.jsx("td",{children:m.PRICE[qt].toFixed(2)}),m&&Er.jsx("td",{id:qt.toString()+"price_column",className:yr(m.CHANGE[qt]),children:m.CHANGE[qt].toFixed(2)}),m&&Er.jsxs("td",{className:yr(m.PCHANGE[qt]),children:[m.PCHANGE[qt].toFixed(2)," %"]}),m&&Er.jsx("td",{children:Er.jsx("div",{className:Sa.table_range,children:Er.jsxs("div",{className:Sa.table_range_length,children:[Er.jsx("div",{className:Sa.table_range_fill,style:{width:`${(m.PRICE[qt]-m.LOW[qt])/(m.HIGH[qt]-m.LOW[qt])*100}%`}}),Er.jsxs("div",{className:Sa.table_range_label,children:[Er.jsx("div",{children:m.LOW[qt].toFixed(2)}),Er.jsx("div",{children:m.HIGH[qt].toFixed(2)})]})]})})})]},qt)),t===!0&&n&&Object.entries(n).map(([xt,Ut],qt)=>Er.jsxs("tr",{children:[Er.jsx("td",{children:Er.jsx("center",{children:Er.jsx("input",{type:"checkbox",disabled:g,checked:u.includes(xt),onChange:()=>Ct(xt,Ut)})})}),Er.jsx("td",{className:Sa.table_symbol,onClick:()=>pt([xt,Ut]),children:Ut})]},qt))]})]}),he&&Er.jsxs("div",{className:Sa.loading_container_table,children:[Er.jsx("h2",{children:"Searching"}),Er.jsx(Kg,{color:"rgb(34, 103, 196)",width:"50%"})]}),Ne&&Er.jsxs("div",{className:Sa.loading_container_table,children:[Er.jsx("h2",{style:{color:"red"},children:"Error"}),Er.jsxs("h3",{style:{color:"red"},children:["Status Code : ",ot]})]})]})]}),Er.jsxs("div",{className:Sa.home_chart,id:"home_chart",children:[s&&Er.jsx("h2",{style:{margin:"0"},children:s[1]}),Er.jsx("div",{className:Sa.home_chart_add_to_bucket,children:Er.jsx("form",{onSubmit:Dt,children:Er.jsxs("div",{className:Sa.home_chart_add_to_bucket_form,children:[Er.jsxs("div",{className:Sa.form_input,children:[Er.jsx("label",{children:"Minimum Weight"}),Er.jsx("input",{type:"number",value:T,min:"0",onChange:xt=>{c(parseInt(Math.max(T,Math.min(xt.target.value,100-G.current))))},max:100-G.current,placeholder:"0",required:!0})]}),Er.jsxs("div",{className:Sa.form_input,children:[Er.jsx("label",{children:"Maximum Weight"}),Er.jsx("input",{type:"number",value:i,min:T,onChange:xt=>d(parseInt(xt.target.value)),max:"100",placeholder:"100",required:!0})]}),Er.jsx("button",{type:"submit",style:{width:"150px"},children:"Add to Bucket"})]})})}),Er.jsx("label",{style:{fontWeight:"bold"},children:"Price Chart"}),Er.jsx("div",{className:Sa.home_chart_price,id:"priceChartContainer",ref:rt,children:Er.jsx(Cc,{data:Ht.map(xt=>({...xt,line:{color:"#1e90ff"}})),layout:{width:We.width,height:We.height,margin:{l:40,r:0,t:0,b:20}},config:{displaylogo:!1,responsive:!0,scrollZoom:!0}})}),Er.jsx("label",{style:{fontWeight:"bold"},children:"Volatility Chart"}),Er.jsx("div",{className:Sa.home_chart_volatility,id:"volatilityChartContainer",ref:Et,children:Er.jsx(Cc,{data:Bt.map(xt=>({...xt,line:{color:"#228b22"}})),layout:{width:Ge.width,height:Ge.height,margin:{l:40,r:0,t:0,b:0}},config:{displaylogo:!1,responsive:!0,scrollZoom:!0}})})]})]}),Er.jsxs("div",{className:Sa.controller_buttons,children:[Er.jsx("button",{className:Sa.controller_buttons_buttons,style:{width:"100px"},onClick:()=>M(!0),children:"Settings"}),Er.jsx("button",{className:Sa.controller_buttons_buttons,style:{width:"150px"},onClick:()=>{localStorage.removeItem(`${ir}_list`),window.location.reload()},children:"Reset Tickers List"}),Er.jsx("button",{className:Sa.controller_buttons_buttons,style:{width:"120px"},onClick:()=>{localStorage.setItem(`${ir}_bucket`,JSON.stringify([])),window.location.reload()},children:"Reset Bucket"}),Er.jsx("button",{className:Sa.controller_buttons_buttons,style:{width:"120px"},onClick:()=>w(!0),children:"View Bucket"}),Er.jsx("button",{className:Sa.controller_buttons_buttons,onClick:()=>y(!0),children:"Next"})]}),Er.jsxs("p",{children:["Made by ",Er.jsx("a",{href:"https://github.com/ashish-dalal",children:"Ashish Dalal"})," and ",Er.jsx("a",{href:"https://github.com/ashish-bazad",children:"Ashish Bazad"})]})]})]})},dM="_results_container_1way4_1",pM="_results_1way4_1",gM="_results_mode_selector_1way4_15",yM="_results_portfolio_value_evaluation_item_1way4_28",mM="_portfolio_value_evaluation_item_data_1way4_34",xM="_portfolio_value_eval_data_1way4_39",bM="_results_portfolio_value_chart_1way4_45",wM="_results_portfolio_value_1way4_28",TM="_split_view_1way4_59",AM="_split_view2_1way4_66",SM="_split_view_item_1way4_73",MM="_split_view_item_data_1way4_79",EM="_split_view_chart_1way4_85",CM="_split_view_data_1way4_90",LM="_split_view_chart_2_1way4_96",PM="_results_pie_chart_data_item_1way4_101",_M="_results_pie_chart_data_item_2_1way4_101",RM="_results_pie_chart_data_item2_1way4_111",DM="_results_pie_chart_1way4_101",ja={results_container:dM,results:pM,results_mode_selector:gM,results_portfolio_value_evaluation_item:yM,portfolio_value_evaluation_item_data:mM,portfolio_value_eval_data:xM,results_portfolio_value_chart:bM,results_portfolio_value:wM,split_view:TM,split_view2:AM,split_view_item:SM,split_view_item_data:MM,split_view_chart:EM,split_view_data:CM,split_view_chart_2:LM,results_pie_chart_data_item:PM,results_pie_chart_data_item_2:_M,results_pie_chart_data_item2:RM,results_pie_chart:DM},IM=()=>{let[U,q]=Fn.useState(0),[ye,Ie]=Fn.useState(["2013-10-04 22:23:00","2013-11-04 22:23:00","2013-12-04 22:23:00"]),[qe,yt]=Fn.useState([1,3,6]),[G,H]=Fn.useState([1,3,6]),[e,m]=Fn.useState([1,3,6]),[P,s]=Fn.useState({"CANBK.NS":[1,.060724837670530794],"GC=F":[.060724837670530794,1]}),[L,S]=Fn.useState([10,20,30,40]),[v,p]=Fn.useState(["Equity","Commodities","T-Notes","REIT"]),[r,t]=Fn.useState([1,2,3,-1]),a=Fn.useRef(null),n=Fn.useRef(null),f=Fn.useRef(null),u=Fn.useRef(null),l=Fn.useRef(null),g=Fn.useRef(null),h=Fn.useRef(!0),T=Fn.useRef(!0),[c,i]=Fn.useState({width:0,height:0}),[d,b]=Fn.useState({width:0,height:0}),[w,C]=Fn.useState({width:0,height:0}),[y,E]=Fn.useState({width:0,height:0}),[A,o]=Fn.useState({width:0,height:0}),[M,x]=Fn.useState({width:0,height:0});const I=Object.keys(P).map($=>P[$]),D=Object.keys(P),N=Object.keys(P).map($=>P[$].map(Z=>Z.toFixed(2))),k=kw();Fn.useEffect(()=>{localStorage.getItem(`results_${U}`)||k("/")},[k]);let O=JSON.parse(localStorage.getItem(`results_${U}`));Fn.useEffect(()=>{Ie(O.date),yt(O.portfolio_value),H(O.benchmark_value),m(O.var_monte_carlo_simulated_returns),s(O.correlation_matrix),S(O.optimised_weights),p(O.tickers_list),t(O.capital_gain_per)},[U]);const F=$=>{q(parseInt($.target.value))};var z=[{x:ye,y:qe,type:"scatter",line:{color:"#1e90ff"}}],B=[{x:ye,y:qe,type:"scatter",line:{color:"#1e90ff"},name:"Portfolio"},{x:ye,y:G,type:"scatter",line:{color:"#228b22"},name:O.benchmark_ticker?O.benchmark_ticker:"!!!"}],W=[{x:e,type:"histogram",marker:{color:"#1e90ff"}}],J=[{x:D,y:D,z:I,type:"heatmap",colorscale:"Viridis",text:N,texttemplate:"%{text}",textfont:{size:"12",color:"white"}}],re=[{values:L,labels:v,type:"pie"}];const ne=$=>$>0?"green":$<0?"red":"black";var le=[{type:"treemap",labels:v,parents:Array(v.length).fill(""),values:L,text:v.map(($,Z)=>`<b>${$}</b><br>Weight: ${L[Z].toFixed(3)}<br>Change: ${r[Z].toFixed(3)}%`),texttemplate:"%{text}",hovertemplate:"%{text}",marker:{colors:r.map($=>ne($))}}];return Fn.useEffect(()=>{const $=()=>{if(a.current){const Z=a.current.offsetWidth;a.current.style.height=`${Z/2.64}px`}if(n.current){const Z=n.current.offsetWidth;n.current.style.height=`${Z/1.98}px`}if(f.current){const Z=f.current.offsetWidth;f.current.style.height=`${Z/1.98}px`}if(u.current){const Z=u.current.offsetWidth;u.current.style.height=`${Z}px`}if(l.current){const Z=l.current.offsetWidth;l.current.style.height=`${Z}px`}};return T.current&&(T.current=!1,$()),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),Fn.useEffect(()=>{const $=()=>{if(a.current){const Z=a.current.getBoundingClientRect();b({width:Z.width-2,height:Z.height-2})}if(n.current){const Z=n.current.getBoundingClientRect();C({width:Z.width-2,height:Z.height-2})}if(f.current){const Z=f.current.getBoundingClientRect();E({width:Z.width-2,height:Z.height-2})}if(u.current){const Z=u.current.getBoundingClientRect();o({width:Z.width-2,height:Z.height-2})}if(l.current){const Z=l.current.getBoundingClientRect();x({width:Z.width-2,height:Z.height-2})}if(g.current){const Z=g.current.getBoundingClientRect();i({width:Z.width-2,height:Z.height-2})}};return h.current&&(h.current=!1,$()),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),Fn.useEffect(()=>{const $=document.getElementById("portfolioChartDiv"),Z=document.getElementById("benchmarkChartDiv"),ie=document.getElementById("monteChartDiv"),X=document.getElementById("correlationChartDiv"),Q=Y=>{Y.stopPropagation()},oe=()=>{window.addEventListener("wheel",Q,{passive:!1})},j=()=>{window.removeEventListener("wheel",Q,{passive:!1})};return $.addEventListener("mouseenter",oe),$.addEventListener("mouseleave",j),Z.addEventListener("mouseenter",oe),Z.addEventListener("mouseleave",j),ie.addEventListener("mouseenter",oe),ie.addEventListener("mouseleave",j),X.addEventListener("mouseenter",oe),X.addEventListener("mouseleave",j),()=>{$.removeEventListener("mouseenter",oe),$.removeEventListener("mouseleave",j),Z.removeEventListener("mouseenter",oe),Z.removeEventListener("mouseleave",j),ie.removeEventListener("mouseenter",oe),ie.removeEventListener("mouseleave",j),X.removeEventListener("mouseenter",oe),X.removeEventListener("mouseleave",j)}},[]),Er.jsx("div",{className:ja.results_container,children:Er.jsxs("div",{className:ja.results,children:[Er.jsx("button",{style:{margin:"20px 0px 0px 30px",width:"100px",height:"30px",border:"none",borderRadius:"3px",backgroundColor:"rgb(0, 103, 184)",color:"white",fontSize:"14px",fontWeight:"bold"},onClick:()=>k("/"),children:"Back"}),Er.jsxs("div",{className:ja.results_mode_selector,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Asset Allocation Strategy:"}),Er.jsxs("label",{children:[Er.jsx("input",{type:"radio",value:0,checked:U===0,onChange:F}),"Markowitz Mean-Variance"]}),Er.jsxs("label",{children:[Er.jsx("input",{type:"radio",value:1,checked:U===1,onChange:F}),"Equal Weighting"]}),Er.jsxs("label",{children:[Er.jsx("input",{type:"radio",value:2,checked:U===2,onChange:F}),"Risk Parity"]})]}),Er.jsxs("div",{className:ja.split_view2,children:[Er.jsxs("div",{className:ja.results_portfolio_value,children:[Er.jsx("label",{style:{fontWeight:"bold",fontSize:"20px"},children:"Portfolio Value"}),Er.jsx("div",{className:ja.results_portfolio_value_chart,ref:a,id:"portfolioChartDiv",children:Er.jsx(Cc,{data:z,layout:{width:d.width,height:d.height,margin:{l:30,r:0,t:0,b:20}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})})]}),Er.jsx("div",{className:ja.results_portfolio_value_data,children:Er.jsxs("div",{className:ja.results_pie_chart_data_item,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.p_capital_gain.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0",fontSize:"12px"},children:"Capital Gain (%)"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.p_market_gain.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0",fontSize:"12px"},children:"Market Gain (%)"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.p_dividend_yield.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0",fontSize:"12px"},children:"Dividend Yield (%)"})]})]})})]}),Er.jsxs("div",{className:ja.split_view,style:{height:"400px"},children:[Er.jsxs("div",{className:ja.results_pie_chart_data_item2,children:[Er.jsx("center",{children:Er.jsx("label",{style:{fontWeight:"bold"},children:"Asset Allocation"})}),Er.jsx("div",{className:ja.results_pie_chart,ref:g,id:"pieChartDiv",children:Er.jsx(Cc,{data:re,layout:{width:c.width,height:c.height,margin:{l:30,r:10,t:10,b:30},showlegend:!1},config:{responsive:!0,displaylogo:!1}})})]}),Er.jsxs("div",{className:ja.split_view_item,children:[Er.jsxs("div",{className:ja.results_portfolio_value_evaluation_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Evaluation"}),Er.jsxs("div",{className:ja.portfolio_value_evaluation_item_data,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.sharpe.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Sharpe Ratio"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.treynor.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Treynor Ratio"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.sortino.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Sortino Ratio"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.jenson[0].toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Jenson's Alpha"})]})]})]}),Er.jsxs("div",{className:ja.results_portfolio_value_evaluation_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Parameters"}),Er.jsxs("div",{className:ja.portfolio_value_evaluation_item_data,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.p_portfolio_returns.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Annual Returns (%)"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.portfolio_std.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Standard Deviation"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.portfolio_beta.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Portfolio Beta"})]})]})]}),Er.jsxs("div",{className:ja.results_portfolio_value_evaluation_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Value-at-Risk (VAR)"}),Er.jsxs("div",{className:ja.portfolio_value_evaluation_item_data,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.var.ninety_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"90% Confidence Level"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.var.ninety_five_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"95% Confidence Level"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.var.ninety_nine_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"99% Confidence Level"})]})]})]}),Er.jsxs("div",{className:ja.results_portfolio_value_evaluation_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Conditional Value-at-Risk (VAR)"}),Er.jsxs("div",{className:ja.portfolio_value_evaluation_item_data,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.cvar.ninety_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"90% Confidence Level"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.cvar.ninety_five_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"95% Confidence Level"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.cvar.ninety_nine_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"99% Confidence Level"})]})]})]})]})]}),Er.jsxs("div",{className:ja.split_view,children:[Er.jsxs("div",{className:ja.split_view_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Benchmark Comparison"}),Er.jsxs("div",{className:ja.split_view_item_data,children:[Er.jsx("div",{className:ja.split_view_chart,ref:n,id:"benchmarkChartDiv",children:Er.jsx(Cc,{data:B,layout:{width:w.width,height:w.height,margin:{l:30,r:10,t:0,b:20}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})}),Er.jsxs("div",{className:ja.split_view_data,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.p_benchmark_returns.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Benchmark Returns (%)"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.p_tracking_error.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Tracking Error (%)"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.information_ratio.toFixed(3)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Information Ratio"})]})]})]})]}),Er.jsxs("div",{className:ja.split_view_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Value-at-Risk: Monte Carlo Method"}),Er.jsxs("div",{className:ja.split_view_item_data,children:[Er.jsx("div",{className:ja.split_view_chart,ref:f,id:"monteChartDiv",children:Er.jsx(Cc,{data:W,layout:{width:y.width,height:y.height,bargap:.1,margin:{l:30,r:0,t:0,b:20}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})}),Er.jsxs("div",{className:ja.split_view_data,children:[Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.var_monte_carlo.ninety_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"90% Confidence Level"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.var_monte_carlo.ninety_five_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"95% Confidence Level"})]}),Er.jsxs("div",{className:ja.portfolio_value_eval_data,children:[Er.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:O.var_monte_carlo.ninety_nine_p.toFixed(2)}),Er.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"99% Confidence Level"})]})]})]})]})]}),Er.jsxs("div",{className:ja.split_view,children:[Er.jsxs("div",{className:ja.split_view_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Correlation"}),Er.jsx("div",{className:ja.split_view_chart_2,ref:u,id:"correlationChartDiv",children:Er.jsx(Cc,{data:J,layout:{width:A.width,height:A.height,margin:{l:100,r:10,t:10,b:30}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})})]}),Er.jsxs("div",{className:ja.split_view_item,children:[Er.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Treemap View"}),Er.jsx("div",{className:ja.split_view_chart_2,ref:l,children:Er.jsx(Cc,{data:le,layout:{width:M.width,height:M.height,margin:{l:10,r:10,t:10,b:10}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})})]})]})]})})};function kM(){return Er.jsx(Er.Fragment,{children:Er.jsx(oM,{children:Er.jsx(lS,{basename:"/abd-portfolio",children:Er.jsxs(iS,{children:[Er.jsx(Wy,{path:"/",element:Er.jsx(vM,{})}),Er.jsx(Wy,{path:"/results",element:Er.jsx(IM,{})})]})})})})}Jg.createRoot(document.getElementById("root")).render(Er.jsx(Tb.StrictMode,{children:Er.jsx(kM,{})}));
