function NT(V,ee){for(var ye=0;ye<ee.length;ye++){const ke=ee[ye];if(typeof ke!="string"&&!Array.isArray(ke)){for(const tt in ke)if(tt!=="default"&&!(tt in V)){const xt=Object.getOwnPropertyDescriptor(ke,tt);xt&&Object.defineProperty(V,tt,xt.get?xt:{enumerable:!0,get:()=>ke[tt]})}}}return Object.freeze(Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}))}(function(){const ee=document.createElement("link").relList;if(ee&&ee.supports&&ee.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))ke(tt);new MutationObserver(tt=>{for(const xt of tt)if(xt.type==="childList")for(const G of xt.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&ke(G)}).observe(document,{childList:!0,subtree:!0});function ye(tt){const xt={};return tt.integrity&&(xt.integrity=tt.integrity),tt.referrerPolicy&&(xt.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?xt.credentials="include":tt.crossOrigin==="anonymous"?xt.credentials="omit":xt.credentials="same-origin",xt}function ke(tt){if(tt.ep)return;tt.ep=!0;const xt=ye(tt);fetch(tt.href,xt)}})();function sb(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var lb={exports:{}},S0={},ub={exports:{}},pi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.element"),BT=Symbol.for("react.portal"),UT=Symbol.for("react.fragment"),VT=Symbol.for("react.strict_mode"),HT=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),YT=Symbol.for("react.forward_ref"),jT=Symbol.for("react.suspense"),XT=Symbol.for("react.memo"),ZT=Symbol.for("react.lazy"),Ym=Symbol.iterator;function KT(V){return V===null||typeof V!="object"?null:(V=Ym&&V[Ym]||V["@@iterator"],typeof V=="function"?V:null)}var fb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cb=Object.assign,hb={};function Dv(V,ee,ye){this.props=V,this.context=ee,this.refs=hb,this.updater=ye||fb}Dv.prototype.isReactComponent={};Dv.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")};Dv.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function vb(){}vb.prototype=Dv.prototype;function Hy(V,ee,ye){this.props=V,this.context=ee,this.refs=hb,this.updater=ye||fb}var Gy=Hy.prototype=new vb;Gy.constructor=Hy;cb(Gy,Dv.prototype);Gy.isPureReactComponent=!0;var jm=Array.isArray,db=Object.prototype.hasOwnProperty,Wy={current:null},pb={key:!0,ref:!0,__self:!0,__source:!0};function gb(V,ee,ye){var ke,tt={},xt=null,G=null;if(ee!=null)for(ke in ee.ref!==void 0&&(G=ee.ref),ee.key!==void 0&&(xt=""+ee.key),ee)db.call(ee,ke)&&!pb.hasOwnProperty(ke)&&(tt[ke]=ee[ke]);var H=arguments.length-2;if(H===1)tt.children=ye;else if(1<H){for(var e=Array(H),m=0;m<H;m++)e[m]=arguments[m+2];tt.children=e}if(V&&V.defaultProps)for(ke in H=V.defaultProps,H)tt[ke]===void 0&&(tt[ke]=H[ke]);return{$$typeof:Yd,type:V,key:xt,ref:G,props:tt,_owner:Wy.current}}function JT(V,ee){return{$$typeof:Yd,type:V.type,key:ee,ref:V.ref,props:V.props,_owner:V._owner}}function Yy(V){return typeof V=="object"&&V!==null&&V.$$typeof===Yd}function QT(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ye){return ee[ye]})}var Xm=/\/+/g;function xg(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?QT(""+V.key):ee.toString(36)}function Vp(V,ee,ye,ke,tt){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var G=!1;if(V===null)G=!0;else switch(xt){case"string":case"number":G=!0;break;case"object":switch(V.$$typeof){case Yd:case BT:G=!0}}if(G)return G=V,tt=tt(G),V=ke===""?"."+xg(G,0):ke,jm(tt)?(ye="",V!=null&&(ye=V.replace(Xm,"$&/")+"/"),Vp(tt,ee,ye,"",function(m){return m})):tt!=null&&(Yy(tt)&&(tt=JT(tt,ye+(!tt.key||G&&G.key===tt.key?"":(""+tt.key).replace(Xm,"$&/")+"/")+V)),ee.push(tt)),1;if(G=0,ke=ke===""?".":ke+":",jm(V))for(var H=0;H<V.length;H++){xt=V[H];var e=ke+xg(xt,H);G+=Vp(xt,ee,ye,e,tt)}else if(e=KT(V),typeof e=="function")for(V=e.call(V),H=0;!(xt=V.next()).done;)xt=xt.value,e=ke+xg(xt,H++),G+=Vp(xt,ee,ye,e,tt);else if(xt==="object")throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return G}function Sp(V,ee,ye){if(V==null)return V;var ke=[],tt=0;return Vp(V,ke,"","",function(xt){return ee.call(ye,xt,tt++)}),ke}function $T(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ye){(V._status===0||V._status===-1)&&(V._status=1,V._result=ye)},function(ye){(V._status===0||V._status===-1)&&(V._status=2,V._result=ye)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var Fs={current:null},Hp={transition:null},qT={ReactCurrentDispatcher:Fs,ReactCurrentBatchConfig:Hp,ReactCurrentOwner:Wy};function yb(){throw Error("act(...) is not supported in production builds of React.")}pi.Children={map:Sp,forEach:function(V,ee,ye){Sp(V,function(){ee.apply(this,arguments)},ye)},count:function(V){var ee=0;return Sp(V,function(){ee++}),ee},toArray:function(V){return Sp(V,function(ee){return ee})||[]},only:function(V){if(!Yy(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};pi.Component=Dv;pi.Fragment=UT;pi.Profiler=HT;pi.PureComponent=Hy;pi.StrictMode=VT;pi.Suspense=jT;pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qT;pi.act=yb;pi.cloneElement=function(V,ee,ye){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ke=cb({},V.props),tt=V.key,xt=V.ref,G=V._owner;if(ee!=null){if(ee.ref!==void 0&&(xt=ee.ref,G=Wy.current),ee.key!==void 0&&(tt=""+ee.key),V.type&&V.type.defaultProps)var H=V.type.defaultProps;for(e in ee)db.call(ee,e)&&!pb.hasOwnProperty(e)&&(ke[e]=ee[e]===void 0&&H!==void 0?H[e]:ee[e])}var e=arguments.length-2;if(e===1)ke.children=ye;else if(1<e){H=Array(e);for(var m=0;m<e;m++)H[m]=arguments[m+2];ke.children=H}return{$$typeof:Yd,type:V.type,key:tt,ref:xt,props:ke,_owner:G}};pi.createContext=function(V){return V={$$typeof:WT,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:GT,_context:V},V.Consumer=V};pi.createElement=gb;pi.createFactory=function(V){var ee=gb.bind(null,V);return ee.type=V,ee};pi.createRef=function(){return{current:null}};pi.forwardRef=function(V){return{$$typeof:YT,render:V}};pi.isValidElement=Yy;pi.lazy=function(V){return{$$typeof:ZT,_payload:{_status:-1,_result:V},_init:$T}};pi.memo=function(V,ee){return{$$typeof:XT,type:V,compare:ee===void 0?null:ee}};pi.startTransition=function(V){var ee=Hp.transition;Hp.transition={};try{V()}finally{Hp.transition=ee}};pi.unstable_act=yb;pi.useCallback=function(V,ee){return Fs.current.useCallback(V,ee)};pi.useContext=function(V){return Fs.current.useContext(V)};pi.useDebugValue=function(){};pi.useDeferredValue=function(V){return Fs.current.useDeferredValue(V)};pi.useEffect=function(V,ee){return Fs.current.useEffect(V,ee)};pi.useId=function(){return Fs.current.useId()};pi.useImperativeHandle=function(V,ee,ye){return Fs.current.useImperativeHandle(V,ee,ye)};pi.useInsertionEffect=function(V,ee){return Fs.current.useInsertionEffect(V,ee)};pi.useLayoutEffect=function(V,ee){return Fs.current.useLayoutEffect(V,ee)};pi.useMemo=function(V,ee){return Fs.current.useMemo(V,ee)};pi.useReducer=function(V,ee,ye){return Fs.current.useReducer(V,ee,ye)};pi.useRef=function(V){return Fs.current.useRef(V)};pi.useState=function(V){return Fs.current.useState(V)};pi.useSyncExternalStore=function(V,ee,ye){return Fs.current.useSyncExternalStore(V,ee,ye)};pi.useTransition=function(){return Fs.current.useTransition()};pi.version="18.3.1";ub.exports=pi;var Jn=ub.exports;const mb=sb(Jn),e5=NT({__proto__:null,default:mb},[Jn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5=Jn,r5=Symbol.for("react.element"),n5=Symbol.for("react.fragment"),a5=Object.prototype.hasOwnProperty,i5=t5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o5={key:!0,ref:!0,__self:!0,__source:!0};function xb(V,ee,ye){var ke,tt={},xt=null,G=null;ye!==void 0&&(xt=""+ye),ee.key!==void 0&&(xt=""+ee.key),ee.ref!==void 0&&(G=ee.ref);for(ke in ee)a5.call(ee,ke)&&!o5.hasOwnProperty(ke)&&(tt[ke]=ee[ke]);if(V&&V.defaultProps)for(ke in ee=V.defaultProps,ee)tt[ke]===void 0&&(tt[ke]=ee[ke]);return{$$typeof:r5,type:V,key:xt,ref:G,props:tt,_owner:i5.current}}S0.Fragment=n5;S0.jsx=xb;S0.jsxs=xb;lb.exports=S0;var Ir=lb.exports,jg={},bb={exports:{}},Tl={},wb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(V){function ee(A,o){var E=A.length;A.push(o);e:for(;0<E;){var b=E-1>>>1,I=A[b];if(0<tt(I,o))A[b]=o,A[E]=I,E=b;else break e}}function ye(A){return A.length===0?null:A[0]}function ke(A){if(A.length===0)return null;var o=A[0],E=A.pop();if(E!==o){A[0]=E;e:for(var b=0,I=A.length,D=I>>>1;b<D;){var N=2*(b+1)-1,k=A[N],O=N+1,F=A[O];if(0>tt(k,E))O<I&&0>tt(F,k)?(A[b]=F,A[O]=E,b=O):(A[b]=k,A[N]=E,b=N);else if(O<I&&0>tt(F,E))A[b]=F,A[O]=E,b=O;else break e}}return o}function tt(A,o){var E=A.sortIndex-o.sortIndex;return E!==0?E:A.id-o.id}if(typeof performance=="object"&&typeof performance.now=="function"){var xt=performance;V.unstable_now=function(){return xt.now()}}else{var G=Date,H=G.now();V.unstable_now=function(){return G.now()-H}}var e=[],m=[],P=1,s=null,L=3,S=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(A){for(var o=ye(m);o!==null;){if(o.callback===null)ke(m);else if(o.startTime<=A)ke(m),o.sortIndex=o.expirationTime,ee(e,o);else break;o=ye(m)}}function f(A){if(p=!1,n(A),!v)if(ye(e)!==null)v=!0,y(u);else{var o=ye(m);o!==null&&M(f,o.startTime-A)}}function u(A,o){v=!1,p&&(p=!1,t(h),h=-1),S=!0;var E=L;try{for(n(o),s=ye(e);s!==null&&(!(s.expirationTime>o)||A&&!a());){var b=s.callback;if(typeof b=="function"){s.callback=null,L=s.priorityLevel;var I=b(s.expirationTime<=o);o=V.unstable_now(),typeof I=="function"?s.callback=I:s===ye(e)&&ke(e),n(o)}else ke(e);s=ye(e)}if(s!==null)var D=!0;else{var N=ye(m);N!==null&&M(f,N.startTime-o),D=!1}return D}finally{s=null,L=E,S=!1}}var l=!1,g=null,h=-1,T=5,c=-1;function a(){return!(V.unstable_now()-c<T)}function d(){if(g!==null){var A=V.unstable_now();c=A;var o=!0;try{o=g(!0,A)}finally{o?x():(l=!1,g=null)}}else l=!1}var x;if(typeof i=="function")x=function(){i(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,C=w.port2;w.port1.onmessage=d,x=function(){C.postMessage(null)}}else x=function(){r(d,0)};function y(A){g=A,l||(l=!0,x())}function M(A,o){h=r(function(){A(V.unstable_now())},o)}V.unstable_IdlePriority=5,V.unstable_ImmediatePriority=1,V.unstable_LowPriority=4,V.unstable_NormalPriority=3,V.unstable_Profiling=null,V.unstable_UserBlockingPriority=2,V.unstable_cancelCallback=function(A){A.callback=null},V.unstable_continueExecution=function(){v||S||(v=!0,y(u))},V.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},V.unstable_getCurrentPriorityLevel=function(){return L},V.unstable_getFirstCallbackNode=function(){return ye(e)},V.unstable_next=function(A){switch(L){case 1:case 2:case 3:var o=3;break;default:o=L}var E=L;L=o;try{return A()}finally{L=E}},V.unstable_pauseExecution=function(){},V.unstable_requestPaint=function(){},V.unstable_runWithPriority=function(A,o){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var E=L;L=A;try{return o()}finally{L=E}},V.unstable_scheduleCallback=function(A,o,E){var b=V.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?b+E:b):E=b,A){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=E+I,A={id:P++,callback:o,priorityLevel:A,startTime:E,expirationTime:I,sortIndex:-1},E>b?(A.sortIndex=E,ee(m,A),ye(e)===null&&A===ye(m)&&(p?(t(h),h=-1):p=!0,M(f,E-b))):(A.sortIndex=I,ee(e,A),v||S||(v=!0,y(u))),A},V.unstable_shouldYield=a,V.unstable_wrapCallback=function(A){var o=L;return function(){var E=L;L=o;try{return A.apply(this,arguments)}finally{L=E}}}})(Tb);wb.exports=Tb;var s5=wb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5=Jn,wl=s5;function ma(V){for(var ee="https://reactjs.org/docs/error-decoder.html?invariant="+V,ye=1;ye<arguments.length;ye++)ee+="&args[]="+encodeURIComponent(arguments[ye]);return"Minified React error #"+V+"; visit "+ee+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,Ed={};function Dh(V,ee){Mv(V,ee),Mv(V+"Capture",ee)}function Mv(V,ee){for(Ed[V]=ee,V=0;V<ee.length;V++)Ab.add(ee[V])}var Of=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,u5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zm={},Km={};function f5(V){return Xg.call(Km,V)?!0:Xg.call(Zm,V)?!1:u5.test(V)?Km[V]=!0:(Zm[V]=!0,!1)}function c5(V,ee,ye,ke){if(ye!==null&&ye.type===0)return!1;switch(typeof ee){case"function":case"symbol":return!0;case"boolean":return ke?!1:ye!==null?!ye.acceptsBooleans:(V=V.toLowerCase().slice(0,5),V!=="data-"&&V!=="aria-");default:return!1}}function h5(V,ee,ye,ke){if(ee===null||typeof ee>"u"||c5(V,ee,ye,ke))return!0;if(ke)return!1;if(ye!==null)switch(ye.type){case 3:return!ee;case 4:return ee===!1;case 5:return isNaN(ee);case 6:return isNaN(ee)||1>ee}return!1}function Ns(V,ee,ye,ke,tt,xt,G){this.acceptsBooleans=ee===2||ee===3||ee===4,this.attributeName=ke,this.attributeNamespace=tt,this.mustUseProperty=ye,this.propertyName=V,this.type=ee,this.sanitizeURL=xt,this.removeEmptyString=G}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(V){fs[V]=new Ns(V,0,!1,V,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(V){var ee=V[0];fs[ee]=new Ns(ee,1,!1,V[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(V){fs[V]=new Ns(V,2,!1,V.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(V){fs[V]=new Ns(V,2,!1,V,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(V){fs[V]=new Ns(V,3,!1,V.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(V){fs[V]=new Ns(V,3,!0,V,null,!1,!1)});["capture","download"].forEach(function(V){fs[V]=new Ns(V,4,!1,V,null,!1,!1)});["cols","rows","size","span"].forEach(function(V){fs[V]=new Ns(V,6,!1,V,null,!1,!1)});["rowSpan","start"].forEach(function(V){fs[V]=new Ns(V,5,!1,V.toLowerCase(),null,!1,!1)});var jy=/[\-:]([a-z])/g;function Xy(V){return V[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(V){var ee=V.replace(jy,Xy);fs[ee]=new Ns(ee,1,!1,V,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(V){var ee=V.replace(jy,Xy);fs[ee]=new Ns(ee,1,!1,V,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(V){var ee=V.replace(jy,Xy);fs[ee]=new Ns(ee,1,!1,V,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(V){fs[V]=new Ns(V,1,!1,V.toLowerCase(),null,!1,!1)});fs.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(V){fs[V]=new Ns(V,1,!1,V.toLowerCase(),null,!0,!0)});function Zy(V,ee,ye,ke){var tt=fs.hasOwnProperty(ee)?fs[ee]:null;(tt!==null?tt.type!==0:ke||!(2<ee.length)||ee[0]!=="o"&&ee[0]!=="O"||ee[1]!=="n"&&ee[1]!=="N")&&(h5(ee,ye,tt,ke)&&(ye=null),ke||tt===null?f5(ee)&&(ye===null?V.removeAttribute(ee):V.setAttribute(ee,""+ye)):tt.mustUseProperty?V[tt.propertyName]=ye===null?tt.type===3?!1:"":ye:(ee=tt.attributeName,ke=tt.attributeNamespace,ye===null?V.removeAttribute(ee):(tt=tt.type,ye=tt===3||tt===4&&ye===!0?"":""+ye,ke?V.setAttributeNS(ke,ee,ye):V.setAttribute(ee,ye))))}var Uf=l5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mp=Symbol.for("react.element"),sv=Symbol.for("react.portal"),lv=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),Sb=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),Mc=Symbol.for("react.lazy"),Eb=Symbol.for("react.offscreen"),Jm=Symbol.iterator;function id(V){return V===null||typeof V!="object"?null:(V=Jm&&V[Jm]||V["@@iterator"],typeof V=="function"?V:null)}var vo=Object.assign,bg;function vd(V){if(bg===void 0)try{throw Error()}catch(ye){var ee=ye.stack.trim().match(/\n( *(at )?)/);bg=ee&&ee[1]||""}return`
`+bg+V}var wg=!1;function Tg(V,ee){if(!V||wg)return"";wg=!0;var ye=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ee)if(ee=function(){throw Error()},Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(m){var ke=m}Reflect.construct(V,[],ee)}else{try{ee.call()}catch(m){ke=m}V.call(ee.prototype)}else{try{throw Error()}catch(m){ke=m}V()}}catch(m){if(m&&ke&&typeof m.stack=="string"){for(var tt=m.stack.split(`
`),xt=ke.stack.split(`
`),G=tt.length-1,H=xt.length-1;1<=G&&0<=H&&tt[G]!==xt[H];)H--;for(;1<=G&&0<=H;G--,H--)if(tt[G]!==xt[H]){if(G!==1||H!==1)do if(G--,H--,0>H||tt[G]!==xt[H]){var e=`
`+tt[G].replace(" at new "," at ");return V.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",V.displayName)),e}while(1<=G&&0<=H);break}}}finally{wg=!1,Error.prepareStackTrace=ye}return(V=V?V.displayName||V.name:"")?vd(V):""}function v5(V){switch(V.tag){case 5:return vd(V.type);case 16:return vd("Lazy");case 13:return vd("Suspense");case 19:return vd("SuspenseList");case 0:case 2:case 15:return V=Tg(V.type,!1),V;case 11:return V=Tg(V.type.render,!1),V;case 1:return V=Tg(V.type,!0),V;default:return""}}function Qg(V){if(V==null)return null;if(typeof V=="function")return V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case lv:return"Fragment";case sv:return"Portal";case Zg:return"Profiler";case Ky:return"StrictMode";case Kg:return"Suspense";case Jg:return"SuspenseList"}if(typeof V=="object")switch(V.$$typeof){case Mb:return(V.displayName||"Context")+".Consumer";case Sb:return(V._context.displayName||"Context")+".Provider";case Jy:var ee=V.render;return V=V.displayName,V||(V=ee.displayName||ee.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case Qy:return ee=V.displayName||null,ee!==null?ee:Qg(V.type)||"Memo";case Mc:ee=V._payload,V=V._init;try{return Qg(V(ee))}catch{}}return null}function d5(V){var ee=V.type;switch(V.tag){case 24:return"Cache";case 9:return(ee.displayName||"Context")+".Consumer";case 10:return(ee._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return V=ee.render,V=V.displayName||V.name||"",ee.displayName||(V!==""?"ForwardRef("+V+")":"ForwardRef");case 7:return"Fragment";case 5:return ee;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qg(ee);case 8:return ee===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ee=="function")return ee.displayName||ee.name||null;if(typeof ee=="string")return ee}return null}function Vc(V){switch(typeof V){case"boolean":case"number":case"string":case"undefined":return V;case"object":return V;default:return""}}function Cb(V){var ee=V.type;return(V=V.nodeName)&&V.toLowerCase()==="input"&&(ee==="checkbox"||ee==="radio")}function p5(V){var ee=Cb(V)?"checked":"value",ye=Object.getOwnPropertyDescriptor(V.constructor.prototype,ee),ke=""+V[ee];if(!V.hasOwnProperty(ee)&&typeof ye<"u"&&typeof ye.get=="function"&&typeof ye.set=="function"){var tt=ye.get,xt=ye.set;return Object.defineProperty(V,ee,{configurable:!0,get:function(){return tt.call(this)},set:function(G){ke=""+G,xt.call(this,G)}}),Object.defineProperty(V,ee,{enumerable:ye.enumerable}),{getValue:function(){return ke},setValue:function(G){ke=""+G},stopTracking:function(){V._valueTracker=null,delete V[ee]}}}}function Ep(V){V._valueTracker||(V._valueTracker=p5(V))}function Lb(V){if(!V)return!1;var ee=V._valueTracker;if(!ee)return!0;var ye=ee.getValue(),ke="";return V&&(ke=Cb(V)?V.checked?"true":"false":V.value),V=ke,V!==ye?(ee.setValue(V),!0):!1}function qp(V){if(V=V||(typeof document<"u"?document:void 0),typeof V>"u")return null;try{return V.activeElement||V.body}catch{return V.body}}function $g(V,ee){var ye=ee.checked;return vo({},ee,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ye??V._wrapperState.initialChecked})}function Qm(V,ee){var ye=ee.defaultValue==null?"":ee.defaultValue,ke=ee.checked!=null?ee.checked:ee.defaultChecked;ye=Vc(ee.value!=null?ee.value:ye),V._wrapperState={initialChecked:ke,initialValue:ye,controlled:ee.type==="checkbox"||ee.type==="radio"?ee.checked!=null:ee.value!=null}}function Pb(V,ee){ee=ee.checked,ee!=null&&Zy(V,"checked",ee,!1)}function qg(V,ee){Pb(V,ee);var ye=Vc(ee.value),ke=ee.type;if(ye!=null)ke==="number"?(ye===0&&V.value===""||V.value!=ye)&&(V.value=""+ye):V.value!==""+ye&&(V.value=""+ye);else if(ke==="submit"||ke==="reset"){V.removeAttribute("value");return}ee.hasOwnProperty("value")?ey(V,ee.type,ye):ee.hasOwnProperty("defaultValue")&&ey(V,ee.type,Vc(ee.defaultValue)),ee.checked==null&&ee.defaultChecked!=null&&(V.defaultChecked=!!ee.defaultChecked)}function $m(V,ee,ye){if(ee.hasOwnProperty("value")||ee.hasOwnProperty("defaultValue")){var ke=ee.type;if(!(ke!=="submit"&&ke!=="reset"||ee.value!==void 0&&ee.value!==null))return;ee=""+V._wrapperState.initialValue,ye||ee===V.value||(V.value=ee),V.defaultValue=ee}ye=V.name,ye!==""&&(V.name=""),V.defaultChecked=!!V._wrapperState.initialChecked,ye!==""&&(V.name=ye)}function ey(V,ee,ye){(ee!=="number"||qp(V.ownerDocument)!==V)&&(ye==null?V.defaultValue=""+V._wrapperState.initialValue:V.defaultValue!==""+ye&&(V.defaultValue=""+ye))}var dd=Array.isArray;function xv(V,ee,ye,ke){if(V=V.options,ee){ee={};for(var tt=0;tt<ye.length;tt++)ee["$"+ye[tt]]=!0;for(ye=0;ye<V.length;ye++)tt=ee.hasOwnProperty("$"+V[ye].value),V[ye].selected!==tt&&(V[ye].selected=tt),tt&&ke&&(V[ye].defaultSelected=!0)}else{for(ye=""+Vc(ye),ee=null,tt=0;tt<V.length;tt++){if(V[tt].value===ye){V[tt].selected=!0,ke&&(V[tt].defaultSelected=!0);return}ee!==null||V[tt].disabled||(ee=V[tt])}ee!==null&&(ee.selected=!0)}}function ty(V,ee){if(ee.dangerouslySetInnerHTML!=null)throw Error(ma(91));return vo({},ee,{value:void 0,defaultValue:void 0,children:""+V._wrapperState.initialValue})}function qm(V,ee){var ye=ee.value;if(ye==null){if(ye=ee.children,ee=ee.defaultValue,ye!=null){if(ee!=null)throw Error(ma(92));if(dd(ye)){if(1<ye.length)throw Error(ma(93));ye=ye[0]}ee=ye}ee==null&&(ee=""),ye=ee}V._wrapperState={initialValue:Vc(ye)}}function _b(V,ee){var ye=Vc(ee.value),ke=Vc(ee.defaultValue);ye!=null&&(ye=""+ye,ye!==V.value&&(V.value=ye),ee.defaultValue==null&&V.defaultValue!==ye&&(V.defaultValue=ye)),ke!=null&&(V.defaultValue=""+ke)}function ex(V){var ee=V.textContent;ee===V._wrapperState.initialValue&&ee!==""&&ee!==null&&(V.value=ee)}function Rb(V){switch(V){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ry(V,ee){return V==null||V==="http://www.w3.org/1999/xhtml"?Rb(ee):V==="http://www.w3.org/2000/svg"&&ee==="foreignObject"?"http://www.w3.org/1999/xhtml":V}var Cp,Db=function(V){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ee,ye,ke,tt){MSApp.execUnsafeLocalFunction(function(){return V(ee,ye,ke,tt)})}:V}(function(V,ee){if(V.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in V)V.innerHTML=ee;else{for(Cp=Cp||document.createElement("div"),Cp.innerHTML="<svg>"+ee.valueOf().toString()+"</svg>",ee=Cp.firstChild;V.firstChild;)V.removeChild(V.firstChild);for(;ee.firstChild;)V.appendChild(ee.firstChild)}});function Cd(V,ee){if(ee){var ye=V.firstChild;if(ye&&ye===V.lastChild&&ye.nodeType===3){ye.nodeValue=ee;return}}V.textContent=ee}var yd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g5=["Webkit","ms","Moz","O"];Object.keys(yd).forEach(function(V){g5.forEach(function(ee){ee=ee+V.charAt(0).toUpperCase()+V.substring(1),yd[ee]=yd[V]})});function Ib(V,ee,ye){return ee==null||typeof ee=="boolean"||ee===""?"":ye||typeof ee!="number"||ee===0||yd.hasOwnProperty(V)&&yd[V]?(""+ee).trim():ee+"px"}function kb(V,ee){V=V.style;for(var ye in ee)if(ee.hasOwnProperty(ye)){var ke=ye.indexOf("--")===0,tt=Ib(ye,ee[ye],ke);ye==="float"&&(ye="cssFloat"),ke?V.setProperty(ye,tt):V[ye]=tt}}var y5=vo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(V,ee){if(ee){if(y5[V]&&(ee.children!=null||ee.dangerouslySetInnerHTML!=null))throw Error(ma(137,V));if(ee.dangerouslySetInnerHTML!=null){if(ee.children!=null)throw Error(ma(60));if(typeof ee.dangerouslySetInnerHTML!="object"||!("__html"in ee.dangerouslySetInnerHTML))throw Error(ma(61))}if(ee.style!=null&&typeof ee.style!="object")throw Error(ma(62))}}function ay(V,ee){if(V.indexOf("-")===-1)return typeof ee.is=="string";switch(V){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=null;function $y(V){return V=V.target||V.srcElement||window,V.correspondingUseElement&&(V=V.correspondingUseElement),V.nodeType===3?V.parentNode:V}var oy=null,bv=null,wv=null;function tx(V){if(V=Zd(V)){if(typeof oy!="function")throw Error(ma(280));var ee=V.stateNode;ee&&(ee=P0(ee),oy(V.stateNode,V.type,ee))}}function zb(V){bv?wv?wv.push(V):wv=[V]:bv=V}function Ob(){if(bv){var V=bv,ee=wv;if(wv=bv=null,tx(V),ee)for(V=0;V<ee.length;V++)tx(ee[V])}}function Fb(V,ee){return V(ee)}function Nb(){}var Ag=!1;function Bb(V,ee,ye){if(Ag)return V(ee,ye);Ag=!0;try{return Fb(V,ee,ye)}finally{Ag=!1,(bv!==null||wv!==null)&&(Nb(),Ob())}}function Ld(V,ee){var ye=V.stateNode;if(ye===null)return null;var ke=P0(ye);if(ke===null)return null;ye=ke[ee];e:switch(ee){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ke=!ke.disabled)||(V=V.type,ke=!(V==="button"||V==="input"||V==="select"||V==="textarea")),V=!ke;break e;default:V=!1}if(V)return null;if(ye&&typeof ye!="function")throw Error(ma(231,ee,typeof ye));return ye}var sy=!1;if(Of)try{var od={};Object.defineProperty(od,"passive",{get:function(){sy=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{sy=!1}function m5(V,ee,ye,ke,tt,xt,G,H,e){var m=Array.prototype.slice.call(arguments,3);try{ee.apply(ye,m)}catch(P){this.onError(P)}}var md=!1,e0=null,t0=!1,ly=null,x5={onError:function(V){md=!0,e0=V}};function b5(V,ee,ye,ke,tt,xt,G,H,e){md=!1,e0=null,m5.apply(x5,arguments)}function w5(V,ee,ye,ke,tt,xt,G,H,e){if(b5.apply(this,arguments),md){if(md){var m=e0;md=!1,e0=null}else throw Error(ma(198));t0||(t0=!0,ly=m)}}function Ih(V){var ee=V,ye=V;if(V.alternate)for(;ee.return;)ee=ee.return;else{V=ee;do ee=V,ee.flags&4098&&(ye=ee.return),V=ee.return;while(V)}return ee.tag===3?ye:null}function Ub(V){if(V.tag===13){var ee=V.memoizedState;if(ee===null&&(V=V.alternate,V!==null&&(ee=V.memoizedState)),ee!==null)return ee.dehydrated}return null}function rx(V){if(Ih(V)!==V)throw Error(ma(188))}function T5(V){var ee=V.alternate;if(!ee){if(ee=Ih(V),ee===null)throw Error(ma(188));return ee!==V?null:V}for(var ye=V,ke=ee;;){var tt=ye.return;if(tt===null)break;var xt=tt.alternate;if(xt===null){if(ke=tt.return,ke!==null){ye=ke;continue}break}if(tt.child===xt.child){for(xt=tt.child;xt;){if(xt===ye)return rx(tt),V;if(xt===ke)return rx(tt),ee;xt=xt.sibling}throw Error(ma(188))}if(ye.return!==ke.return)ye=tt,ke=xt;else{for(var G=!1,H=tt.child;H;){if(H===ye){G=!0,ye=tt,ke=xt;break}if(H===ke){G=!0,ke=tt,ye=xt;break}H=H.sibling}if(!G){for(H=xt.child;H;){if(H===ye){G=!0,ye=xt,ke=tt;break}if(H===ke){G=!0,ke=xt,ye=tt;break}H=H.sibling}if(!G)throw Error(ma(189))}}if(ye.alternate!==ke)throw Error(ma(190))}if(ye.tag!==3)throw Error(ma(188));return ye.stateNode.current===ye?V:ee}function Vb(V){return V=T5(V),V!==null?Hb(V):null}function Hb(V){if(V.tag===5||V.tag===6)return V;for(V=V.child;V!==null;){var ee=Hb(V);if(ee!==null)return ee;V=V.sibling}return null}var Gb=wl.unstable_scheduleCallback,nx=wl.unstable_cancelCallback,A5=wl.unstable_shouldYield,S5=wl.unstable_requestPaint,Eo=wl.unstable_now,M5=wl.unstable_getCurrentPriorityLevel,qy=wl.unstable_ImmediatePriority,Wb=wl.unstable_UserBlockingPriority,r0=wl.unstable_NormalPriority,E5=wl.unstable_LowPriority,Yb=wl.unstable_IdlePriority,M0=null,rf=null;function C5(V){if(rf&&typeof rf.onCommitFiberRoot=="function")try{rf.onCommitFiberRoot(M0,V,void 0,(V.current.flags&128)===128)}catch{}}var _u=Math.clz32?Math.clz32:_5,L5=Math.log,P5=Math.LN2;function _5(V){return V>>>=0,V===0?32:31-(L5(V)/P5|0)|0}var Lp=64,Pp=4194304;function pd(V){switch(V&-V){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return V&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return V&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return V}}function n0(V,ee){var ye=V.pendingLanes;if(ye===0)return 0;var ke=0,tt=V.suspendedLanes,xt=V.pingedLanes,G=ye&268435455;if(G!==0){var H=G&~tt;H!==0?ke=pd(H):(xt&=G,xt!==0&&(ke=pd(xt)))}else G=ye&~tt,G!==0?ke=pd(G):xt!==0&&(ke=pd(xt));if(ke===0)return 0;if(ee!==0&&ee!==ke&&!(ee&tt)&&(tt=ke&-ke,xt=ee&-ee,tt>=xt||tt===16&&(xt&4194240)!==0))return ee;if(ke&4&&(ke|=ye&16),ee=V.entangledLanes,ee!==0)for(V=V.entanglements,ee&=ke;0<ee;)ye=31-_u(ee),tt=1<<ye,ke|=V[ye],ee&=~tt;return ke}function R5(V,ee){switch(V){case 1:case 2:case 4:return ee+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ee+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D5(V,ee){for(var ye=V.suspendedLanes,ke=V.pingedLanes,tt=V.expirationTimes,xt=V.pendingLanes;0<xt;){var G=31-_u(xt),H=1<<G,e=tt[G];e===-1?(!(H&ye)||H&ke)&&(tt[G]=R5(H,ee)):e<=ee&&(V.expiredLanes|=H),xt&=~H}}function uy(V){return V=V.pendingLanes&-1073741825,V!==0?V:V&1073741824?1073741824:0}function jb(){var V=Lp;return Lp<<=1,!(Lp&4194240)&&(Lp=64),V}function Sg(V){for(var ee=[],ye=0;31>ye;ye++)ee.push(V);return ee}function jd(V,ee,ye){V.pendingLanes|=ee,ee!==536870912&&(V.suspendedLanes=0,V.pingedLanes=0),V=V.eventTimes,ee=31-_u(ee),V[ee]=ye}function I5(V,ee){var ye=V.pendingLanes&~ee;V.pendingLanes=ee,V.suspendedLanes=0,V.pingedLanes=0,V.expiredLanes&=ee,V.mutableReadLanes&=ee,V.entangledLanes&=ee,ee=V.entanglements;var ke=V.eventTimes;for(V=V.expirationTimes;0<ye;){var tt=31-_u(ye),xt=1<<tt;ee[tt]=0,ke[tt]=-1,V[tt]=-1,ye&=~xt}}function e1(V,ee){var ye=V.entangledLanes|=ee;for(V=V.entanglements;ye;){var ke=31-_u(ye),tt=1<<ke;tt&ee|V[ke]&ee&&(V[ke]|=ee),ye&=~tt}}var Di=0;function Xb(V){return V&=-V,1<V?4<V?V&268435455?16:536870912:4:1}var Zb,t1,Kb,Jb,Qb,fy=!1,_p=[],Ic=null,kc=null,zc=null,Pd=new Map,_d=new Map,Lc=[],k5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ax(V,ee){switch(V){case"focusin":case"focusout":Ic=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":Pd.delete(ee.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(ee.pointerId)}}function sd(V,ee,ye,ke,tt,xt){return V===null||V.nativeEvent!==xt?(V={blockedOn:ee,domEventName:ye,eventSystemFlags:ke,nativeEvent:xt,targetContainers:[tt]},ee!==null&&(ee=Zd(ee),ee!==null&&t1(ee)),V):(V.eventSystemFlags|=ke,ee=V.targetContainers,tt!==null&&ee.indexOf(tt)===-1&&ee.push(tt),V)}function z5(V,ee,ye,ke,tt){switch(ee){case"focusin":return Ic=sd(Ic,V,ee,ye,ke,tt),!0;case"dragenter":return kc=sd(kc,V,ee,ye,ke,tt),!0;case"mouseover":return zc=sd(zc,V,ee,ye,ke,tt),!0;case"pointerover":var xt=tt.pointerId;return Pd.set(xt,sd(Pd.get(xt)||null,V,ee,ye,ke,tt)),!0;case"gotpointercapture":return xt=tt.pointerId,_d.set(xt,sd(_d.get(xt)||null,V,ee,ye,ke,tt)),!0}return!1}function $b(V){var ee=wh(V.target);if(ee!==null){var ye=Ih(ee);if(ye!==null){if(ee=ye.tag,ee===13){if(ee=Ub(ye),ee!==null){V.blockedOn=ee,Qb(V.priority,function(){Kb(ye)});return}}else if(ee===3&&ye.stateNode.current.memoizedState.isDehydrated){V.blockedOn=ye.tag===3?ye.stateNode.containerInfo:null;return}}}V.blockedOn=null}function Gp(V){if(V.blockedOn!==null)return!1;for(var ee=V.targetContainers;0<ee.length;){var ye=cy(V.domEventName,V.eventSystemFlags,ee[0],V.nativeEvent);if(ye===null){ye=V.nativeEvent;var ke=new ye.constructor(ye.type,ye);iy=ke,ye.target.dispatchEvent(ke),iy=null}else return ee=Zd(ye),ee!==null&&t1(ee),V.blockedOn=ye,!1;ee.shift()}return!0}function ix(V,ee,ye){Gp(V)&&ye.delete(ee)}function O5(){fy=!1,Ic!==null&&Gp(Ic)&&(Ic=null),kc!==null&&Gp(kc)&&(kc=null),zc!==null&&Gp(zc)&&(zc=null),Pd.forEach(ix),_d.forEach(ix)}function ld(V,ee){V.blockedOn===ee&&(V.blockedOn=null,fy||(fy=!0,wl.unstable_scheduleCallback(wl.unstable_NormalPriority,O5)))}function Rd(V){function ee(tt){return ld(tt,V)}if(0<_p.length){ld(_p[0],V);for(var ye=1;ye<_p.length;ye++){var ke=_p[ye];ke.blockedOn===V&&(ke.blockedOn=null)}}for(Ic!==null&&ld(Ic,V),kc!==null&&ld(kc,V),zc!==null&&ld(zc,V),Pd.forEach(ee),_d.forEach(ee),ye=0;ye<Lc.length;ye++)ke=Lc[ye],ke.blockedOn===V&&(ke.blockedOn=null);for(;0<Lc.length&&(ye=Lc[0],ye.blockedOn===null);)$b(ye),ye.blockedOn===null&&Lc.shift()}var Tv=Uf.ReactCurrentBatchConfig,a0=!0;function F5(V,ee,ye,ke){var tt=Di,xt=Tv.transition;Tv.transition=null;try{Di=1,r1(V,ee,ye,ke)}finally{Di=tt,Tv.transition=xt}}function N5(V,ee,ye,ke){var tt=Di,xt=Tv.transition;Tv.transition=null;try{Di=4,r1(V,ee,ye,ke)}finally{Di=tt,Tv.transition=xt}}function r1(V,ee,ye,ke){if(a0){var tt=cy(V,ee,ye,ke);if(tt===null)kg(V,ee,ke,i0,ye),ax(V,ke);else if(z5(tt,V,ee,ye,ke))ke.stopPropagation();else if(ax(V,ke),ee&4&&-1<k5.indexOf(V)){for(;tt!==null;){var xt=Zd(tt);if(xt!==null&&Zb(xt),xt=cy(V,ee,ye,ke),xt===null&&kg(V,ee,ke,i0,ye),xt===tt)break;tt=xt}tt!==null&&ke.stopPropagation()}else kg(V,ee,ke,null,ye)}}var i0=null;function cy(V,ee,ye,ke){if(i0=null,V=$y(ke),V=wh(V),V!==null)if(ee=Ih(V),ee===null)V=null;else if(ye=ee.tag,ye===13){if(V=Ub(ee),V!==null)return V;V=null}else if(ye===3){if(ee.stateNode.current.memoizedState.isDehydrated)return ee.tag===3?ee.stateNode.containerInfo:null;V=null}else ee!==V&&(V=null);return i0=V,null}function qb(V){switch(V){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M5()){case qy:return 1;case Wb:return 4;case r0:case E5:return 16;case Yb:return 536870912;default:return 16}default:return 16}}var _c=null,n1=null,Wp=null;function e3(){if(Wp)return Wp;var V,ee=n1,ye=ee.length,ke,tt="value"in _c?_c.value:_c.textContent,xt=tt.length;for(V=0;V<ye&&ee[V]===tt[V];V++);var G=ye-V;for(ke=1;ke<=G&&ee[ye-ke]===tt[xt-ke];ke++);return Wp=tt.slice(V,1<ke?1-ke:void 0)}function Yp(V){var ee=V.keyCode;return"charCode"in V?(V=V.charCode,V===0&&ee===13&&(V=13)):V=ee,V===10&&(V=13),32<=V||V===13?V:0}function Rp(){return!0}function ox(){return!1}function Al(V){function ee(ye,ke,tt,xt,G){this._reactName=ye,this._targetInst=tt,this.type=ke,this.nativeEvent=xt,this.target=G,this.currentTarget=null;for(var H in V)V.hasOwnProperty(H)&&(ye=V[H],this[H]=ye?ye(xt):xt[H]);return this.isDefaultPrevented=(xt.defaultPrevented!=null?xt.defaultPrevented:xt.returnValue===!1)?Rp:ox,this.isPropagationStopped=ox,this}return vo(ee.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ye=this.nativeEvent;ye&&(ye.preventDefault?ye.preventDefault():typeof ye.returnValue!="unknown"&&(ye.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var ye=this.nativeEvent;ye&&(ye.stopPropagation?ye.stopPropagation():typeof ye.cancelBubble!="unknown"&&(ye.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),ee}var Iv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(V){return V.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a1=Al(Iv),Xd=vo({},Iv,{view:0,detail:0}),B5=Al(Xd),Mg,Eg,ud,E0=vo({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i1,button:0,buttons:0,relatedTarget:function(V){return V.relatedTarget===void 0?V.fromElement===V.srcElement?V.toElement:V.fromElement:V.relatedTarget},movementX:function(V){return"movementX"in V?V.movementX:(V!==ud&&(ud&&V.type==="mousemove"?(Mg=V.screenX-ud.screenX,Eg=V.screenY-ud.screenY):Eg=Mg=0,ud=V),Mg)},movementY:function(V){return"movementY"in V?V.movementY:Eg}}),sx=Al(E0),U5=vo({},E0,{dataTransfer:0}),V5=Al(U5),H5=vo({},Xd,{relatedTarget:0}),Cg=Al(H5),G5=vo({},Iv,{animationName:0,elapsedTime:0,pseudoElement:0}),W5=Al(G5),Y5=vo({},Iv,{clipboardData:function(V){return"clipboardData"in V?V.clipboardData:window.clipboardData}}),j5=Al(Y5),X5=vo({},Iv,{data:0}),lx=Al(X5),Z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q5(V){var ee=this.nativeEvent;return ee.getModifierState?ee.getModifierState(V):(V=J5[V])?!!ee[V]:!1}function i1(){return Q5}var $5=vo({},Xd,{key:function(V){if(V.key){var ee=Z5[V.key]||V.key;if(ee!=="Unidentified")return ee}return V.type==="keypress"?(V=Yp(V),V===13?"Enter":String.fromCharCode(V)):V.type==="keydown"||V.type==="keyup"?K5[V.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i1,charCode:function(V){return V.type==="keypress"?Yp(V):0},keyCode:function(V){return V.type==="keydown"||V.type==="keyup"?V.keyCode:0},which:function(V){return V.type==="keypress"?Yp(V):V.type==="keydown"||V.type==="keyup"?V.keyCode:0}}),q5=Al($5),e6=vo({},E0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ux=Al(e6),t6=vo({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i1}),r6=Al(t6),n6=vo({},Iv,{propertyName:0,elapsedTime:0,pseudoElement:0}),a6=Al(n6),i6=vo({},E0,{deltaX:function(V){return"deltaX"in V?V.deltaX:"wheelDeltaX"in V?-V.wheelDeltaX:0},deltaY:function(V){return"deltaY"in V?V.deltaY:"wheelDeltaY"in V?-V.wheelDeltaY:"wheelDelta"in V?-V.wheelDelta:0},deltaZ:0,deltaMode:0}),o6=Al(i6),s6=[9,13,27,32],o1=Of&&"CompositionEvent"in window,xd=null;Of&&"documentMode"in document&&(xd=document.documentMode);var l6=Of&&"TextEvent"in window&&!xd,t3=Of&&(!o1||xd&&8<xd&&11>=xd),fx=" ",cx=!1;function r3(V,ee){switch(V){case"keyup":return s6.indexOf(ee.keyCode)!==-1;case"keydown":return ee.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n3(V){return V=V.detail,typeof V=="object"&&"data"in V?V.data:null}var uv=!1;function u6(V,ee){switch(V){case"compositionend":return n3(ee);case"keypress":return ee.which!==32?null:(cx=!0,fx);case"textInput":return V=ee.data,V===fx&&cx?null:V;default:return null}}function f6(V,ee){if(uv)return V==="compositionend"||!o1&&r3(V,ee)?(V=e3(),Wp=n1=_c=null,uv=!1,V):null;switch(V){case"paste":return null;case"keypress":if(!(ee.ctrlKey||ee.altKey||ee.metaKey)||ee.ctrlKey&&ee.altKey){if(ee.char&&1<ee.char.length)return ee.char;if(ee.which)return String.fromCharCode(ee.which)}return null;case"compositionend":return t3&&ee.locale!=="ko"?null:ee.data;default:return null}}var c6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(V){var ee=V&&V.nodeName&&V.nodeName.toLowerCase();return ee==="input"?!!c6[V.type]:ee==="textarea"}function a3(V,ee,ye,ke){zb(ke),ee=o0(ee,"onChange"),0<ee.length&&(ye=new a1("onChange","change",null,ye,ke),V.push({event:ye,listeners:ee}))}var bd=null,Dd=null;function h6(V){p3(V,0)}function C0(V){var ee=hv(V);if(Lb(ee))return V}function v6(V,ee){if(V==="change")return ee}var i3=!1;if(Of){var Lg;if(Of){var Pg="oninput"in document;if(!Pg){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),Pg=typeof vx.oninput=="function"}Lg=Pg}else Lg=!1;i3=Lg&&(!document.documentMode||9<document.documentMode)}function dx(){bd&&(bd.detachEvent("onpropertychange",o3),Dd=bd=null)}function o3(V){if(V.propertyName==="value"&&C0(Dd)){var ee=[];a3(ee,Dd,V,$y(V)),Bb(h6,ee)}}function d6(V,ee,ye){V==="focusin"?(dx(),bd=ee,Dd=ye,bd.attachEvent("onpropertychange",o3)):V==="focusout"&&dx()}function p6(V){if(V==="selectionchange"||V==="keyup"||V==="keydown")return C0(Dd)}function g6(V,ee){if(V==="click")return C0(ee)}function y6(V,ee){if(V==="input"||V==="change")return C0(ee)}function m6(V,ee){return V===ee&&(V!==0||1/V===1/ee)||V!==V&&ee!==ee}var Du=typeof Object.is=="function"?Object.is:m6;function Id(V,ee){if(Du(V,ee))return!0;if(typeof V!="object"||V===null||typeof ee!="object"||ee===null)return!1;var ye=Object.keys(V),ke=Object.keys(ee);if(ye.length!==ke.length)return!1;for(ke=0;ke<ye.length;ke++){var tt=ye[ke];if(!Xg.call(ee,tt)||!Du(V[tt],ee[tt]))return!1}return!0}function px(V){for(;V&&V.firstChild;)V=V.firstChild;return V}function gx(V,ee){var ye=px(V);V=0;for(var ke;ye;){if(ye.nodeType===3){if(ke=V+ye.textContent.length,V<=ee&&ke>=ee)return{node:ye,offset:ee-V};V=ke}e:{for(;ye;){if(ye.nextSibling){ye=ye.nextSibling;break e}ye=ye.parentNode}ye=void 0}ye=px(ye)}}function s3(V,ee){return V&&ee?V===ee?!0:V&&V.nodeType===3?!1:ee&&ee.nodeType===3?s3(V,ee.parentNode):"contains"in V?V.contains(ee):V.compareDocumentPosition?!!(V.compareDocumentPosition(ee)&16):!1:!1}function l3(){for(var V=window,ee=qp();ee instanceof V.HTMLIFrameElement;){try{var ye=typeof ee.contentWindow.location.href=="string"}catch{ye=!1}if(ye)V=ee.contentWindow;else break;ee=qp(V.document)}return ee}function s1(V){var ee=V&&V.nodeName&&V.nodeName.toLowerCase();return ee&&(ee==="input"&&(V.type==="text"||V.type==="search"||V.type==="tel"||V.type==="url"||V.type==="password")||ee==="textarea"||V.contentEditable==="true")}function x6(V){var ee=l3(),ye=V.focusedElem,ke=V.selectionRange;if(ee!==ye&&ye&&ye.ownerDocument&&s3(ye.ownerDocument.documentElement,ye)){if(ke!==null&&s1(ye)){if(ee=ke.start,V=ke.end,V===void 0&&(V=ee),"selectionStart"in ye)ye.selectionStart=ee,ye.selectionEnd=Math.min(V,ye.value.length);else if(V=(ee=ye.ownerDocument||document)&&ee.defaultView||window,V.getSelection){V=V.getSelection();var tt=ye.textContent.length,xt=Math.min(ke.start,tt);ke=ke.end===void 0?xt:Math.min(ke.end,tt),!V.extend&&xt>ke&&(tt=ke,ke=xt,xt=tt),tt=gx(ye,xt);var G=gx(ye,ke);tt&&G&&(V.rangeCount!==1||V.anchorNode!==tt.node||V.anchorOffset!==tt.offset||V.focusNode!==G.node||V.focusOffset!==G.offset)&&(ee=ee.createRange(),ee.setStart(tt.node,tt.offset),V.removeAllRanges(),xt>ke?(V.addRange(ee),V.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),V.addRange(ee)))}}for(ee=[],V=ye;V=V.parentNode;)V.nodeType===1&&ee.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<ee.length;ye++)V=ee[ye],V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}var b6=Of&&"documentMode"in document&&11>=document.documentMode,fv=null,hy=null,wd=null,vy=!1;function yx(V,ee,ye){var ke=ye.window===ye?ye.document:ye.nodeType===9?ye:ye.ownerDocument;vy||fv==null||fv!==qp(ke)||(ke=fv,"selectionStart"in ke&&s1(ke)?ke={start:ke.selectionStart,end:ke.selectionEnd}:(ke=(ke.ownerDocument&&ke.ownerDocument.defaultView||window).getSelection(),ke={anchorNode:ke.anchorNode,anchorOffset:ke.anchorOffset,focusNode:ke.focusNode,focusOffset:ke.focusOffset}),wd&&Id(wd,ke)||(wd=ke,ke=o0(hy,"onSelect"),0<ke.length&&(ee=new a1("onSelect","select",null,ee,ye),V.push({event:ee,listeners:ke}),ee.target=fv)))}function Dp(V,ee){var ye={};return ye[V.toLowerCase()]=ee.toLowerCase(),ye["Webkit"+V]="webkit"+ee,ye["Moz"+V]="moz"+ee,ye}var cv={animationend:Dp("Animation","AnimationEnd"),animationiteration:Dp("Animation","AnimationIteration"),animationstart:Dp("Animation","AnimationStart"),transitionend:Dp("Transition","TransitionEnd")},_g={},u3={};Of&&(u3=document.createElement("div").style,"AnimationEvent"in window||(delete cv.animationend.animation,delete cv.animationiteration.animation,delete cv.animationstart.animation),"TransitionEvent"in window||delete cv.transitionend.transition);function L0(V){if(_g[V])return _g[V];if(!cv[V])return V;var ee=cv[V],ye;for(ye in ee)if(ee.hasOwnProperty(ye)&&ye in u3)return _g[V]=ee[ye];return V}var f3=L0("animationend"),c3=L0("animationiteration"),h3=L0("animationstart"),v3=L0("transitionend"),d3=new Map,mx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gc(V,ee){d3.set(V,ee),Dh(ee,[V])}for(var Rg=0;Rg<mx.length;Rg++){var Dg=mx[Rg],w6=Dg.toLowerCase(),T6=Dg[0].toUpperCase()+Dg.slice(1);Gc(w6,"on"+T6)}Gc(f3,"onAnimationEnd");Gc(c3,"onAnimationIteration");Gc(h3,"onAnimationStart");Gc("dblclick","onDoubleClick");Gc("focusin","onFocus");Gc("focusout","onBlur");Gc(v3,"onTransitionEnd");Mv("onMouseEnter",["mouseout","mouseover"]);Mv("onMouseLeave",["mouseout","mouseover"]);Mv("onPointerEnter",["pointerout","pointerover"]);Mv("onPointerLeave",["pointerout","pointerover"]);Dh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A6=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function xx(V,ee,ye){var ke=V.type||"unknown-event";V.currentTarget=ye,w5(ke,ee,void 0,V),V.currentTarget=null}function p3(V,ee){ee=(ee&4)!==0;for(var ye=0;ye<V.length;ye++){var ke=V[ye],tt=ke.event;ke=ke.listeners;e:{var xt=void 0;if(ee)for(var G=ke.length-1;0<=G;G--){var H=ke[G],e=H.instance,m=H.currentTarget;if(H=H.listener,e!==xt&&tt.isPropagationStopped())break e;xx(tt,H,m),xt=e}else for(G=0;G<ke.length;G++){if(H=ke[G],e=H.instance,m=H.currentTarget,H=H.listener,e!==xt&&tt.isPropagationStopped())break e;xx(tt,H,m),xt=e}}}if(t0)throw V=ly,t0=!1,ly=null,V}function Xi(V,ee){var ye=ee[my];ye===void 0&&(ye=ee[my]=new Set);var ke=V+"__bubble";ye.has(ke)||(g3(ee,V,2,!1),ye.add(ke))}function Ig(V,ee,ye){var ke=0;ee&&(ke|=4),g3(ye,V,ke,ee)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function kd(V){if(!V[Ip]){V[Ip]=!0,Ab.forEach(function(ye){ye!=="selectionchange"&&(A6.has(ye)||Ig(ye,!1,V),Ig(ye,!0,V))});var ee=V.nodeType===9?V:V.ownerDocument;ee===null||ee[Ip]||(ee[Ip]=!0,Ig("selectionchange",!1,ee))}}function g3(V,ee,ye,ke){switch(qb(ee)){case 1:var tt=F5;break;case 4:tt=N5;break;default:tt=r1}ye=tt.bind(null,ee,ye,V),tt=void 0,!sy||ee!=="touchstart"&&ee!=="touchmove"&&ee!=="wheel"||(tt=!0),ke?tt!==void 0?V.addEventListener(ee,ye,{capture:!0,passive:tt}):V.addEventListener(ee,ye,!0):tt!==void 0?V.addEventListener(ee,ye,{passive:tt}):V.addEventListener(ee,ye,!1)}function kg(V,ee,ye,ke,tt){var xt=ke;if(!(ee&1)&&!(ee&2)&&ke!==null)e:for(;;){if(ke===null)return;var G=ke.tag;if(G===3||G===4){var H=ke.stateNode.containerInfo;if(H===tt||H.nodeType===8&&H.parentNode===tt)break;if(G===4)for(G=ke.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===tt||e.nodeType===8&&e.parentNode===tt))return;G=G.return}for(;H!==null;){if(G=wh(H),G===null)return;if(e=G.tag,e===5||e===6){ke=xt=G;continue e}H=H.parentNode}}ke=ke.return}Bb(function(){var m=xt,P=$y(ye),s=[];e:{var L=d3.get(V);if(L!==void 0){var S=a1,v=V;switch(V){case"keypress":if(Yp(ye)===0)break e;case"keydown":case"keyup":S=q5;break;case"focusin":v="focus",S=Cg;break;case"focusout":v="blur",S=Cg;break;case"beforeblur":case"afterblur":S=Cg;break;case"click":if(ye.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=V5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=r6;break;case f3:case c3:case h3:S=W5;break;case v3:S=a6;break;case"scroll":S=B5;break;case"wheel":S=o6;break;case"copy":case"cut":case"paste":S=j5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=ux}var p=(ee&4)!==0,r=!p&&V==="scroll",t=p?L!==null?L+"Capture":null:L;p=[];for(var i=m,n;i!==null;){n=i;var f=n.stateNode;if(n.tag===5&&f!==null&&(n=f,t!==null&&(f=Ld(i,t),f!=null&&p.push(zd(i,f,n)))),r)break;i=i.return}0<p.length&&(L=new S(L,v,null,ye,P),s.push({event:L,listeners:p}))}}if(!(ee&7)){e:{if(L=V==="mouseover"||V==="pointerover",S=V==="mouseout"||V==="pointerout",L&&ye!==iy&&(v=ye.relatedTarget||ye.fromElement)&&(wh(v)||v[Ff]))break e;if((S||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,S?(v=ye.relatedTarget||ye.toElement,S=m,v=v?wh(v):null,v!==null&&(r=Ih(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=m),S!==v)){if(p=sx,f="onMouseLeave",t="onMouseEnter",i="mouse",(V==="pointerout"||V==="pointerover")&&(p=ux,f="onPointerLeave",t="onPointerEnter",i="pointer"),r=S==null?L:hv(S),n=v==null?L:hv(v),L=new p(f,i+"leave",S,ye,P),L.target=r,L.relatedTarget=n,f=null,wh(P)===m&&(p=new p(t,i+"enter",v,ye,P),p.target=n,p.relatedTarget=r,f=p),r=f,S&&v)t:{for(p=S,t=v,i=0,n=p;n;n=ov(n))i++;for(n=0,f=t;f;f=ov(f))n++;for(;0<i-n;)p=ov(p),i--;for(;0<n-i;)t=ov(t),n--;for(;i--;){if(p===t||t!==null&&p===t.alternate)break t;p=ov(p),t=ov(t)}p=null}else p=null;S!==null&&bx(s,L,S,p,!1),v!==null&&r!==null&&bx(s,r,v,p,!0)}}e:{if(L=m?hv(m):window,S=L.nodeName&&L.nodeName.toLowerCase(),S==="select"||S==="input"&&L.type==="file")var u=v6;else if(hx(L))if(i3)u=y6;else{u=p6;var l=d6}else(S=L.nodeName)&&S.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(u=g6);if(u&&(u=u(V,m))){a3(s,u,ye,P);break e}l&&l(V,L,m),V==="focusout"&&(l=L._wrapperState)&&l.controlled&&L.type==="number"&&ey(L,"number",L.value)}switch(l=m?hv(m):window,V){case"focusin":(hx(l)||l.contentEditable==="true")&&(fv=l,hy=m,wd=null);break;case"focusout":wd=hy=fv=null;break;case"mousedown":vy=!0;break;case"contextmenu":case"mouseup":case"dragend":vy=!1,yx(s,ye,P);break;case"selectionchange":if(b6)break;case"keydown":case"keyup":yx(s,ye,P)}var g;if(o1)e:{switch(V){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else uv?r3(V,ye)&&(h="onCompositionEnd"):V==="keydown"&&ye.keyCode===229&&(h="onCompositionStart");h&&(t3&&ye.locale!=="ko"&&(uv||h!=="onCompositionStart"?h==="onCompositionEnd"&&uv&&(g=e3()):(_c=P,n1="value"in _c?_c.value:_c.textContent,uv=!0)),l=o0(m,h),0<l.length&&(h=new lx(h,V,null,ye,P),s.push({event:h,listeners:l}),g?h.data=g:(g=n3(ye),g!==null&&(h.data=g)))),(g=l6?u6(V,ye):f6(V,ye))&&(m=o0(m,"onBeforeInput"),0<m.length&&(P=new lx("onBeforeInput","beforeinput",null,ye,P),s.push({event:P,listeners:m}),P.data=g))}p3(s,ee)})}function zd(V,ee,ye){return{instance:V,listener:ee,currentTarget:ye}}function o0(V,ee){for(var ye=ee+"Capture",ke=[];V!==null;){var tt=V,xt=tt.stateNode;tt.tag===5&&xt!==null&&(tt=xt,xt=Ld(V,ye),xt!=null&&ke.unshift(zd(V,xt,tt)),xt=Ld(V,ee),xt!=null&&ke.push(zd(V,xt,tt))),V=V.return}return ke}function ov(V){if(V===null)return null;do V=V.return;while(V&&V.tag!==5);return V||null}function bx(V,ee,ye,ke,tt){for(var xt=ee._reactName,G=[];ye!==null&&ye!==ke;){var H=ye,e=H.alternate,m=H.stateNode;if(e!==null&&e===ke)break;H.tag===5&&m!==null&&(H=m,tt?(e=Ld(ye,xt),e!=null&&G.unshift(zd(ye,e,H))):tt||(e=Ld(ye,xt),e!=null&&G.push(zd(ye,e,H)))),ye=ye.return}G.length!==0&&V.push({event:ee,listeners:G})}var S6=/\r\n?/g,M6=/\u0000|\uFFFD/g;function wx(V){return(typeof V=="string"?V:""+V).replace(S6,`
`).replace(M6,"")}function kp(V,ee,ye){if(ee=wx(ee),wx(V)!==ee&&ye)throw Error(ma(425))}function s0(){}var dy=null,py=null;function gy(V,ee){return V==="textarea"||V==="noscript"||typeof ee.children=="string"||typeof ee.children=="number"||typeof ee.dangerouslySetInnerHTML=="object"&&ee.dangerouslySetInnerHTML!==null&&ee.dangerouslySetInnerHTML.__html!=null}var yy=typeof setTimeout=="function"?setTimeout:void 0,E6=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,C6=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(V){return Tx.resolve(null).then(V).catch(L6)}:yy;function L6(V){setTimeout(function(){throw V})}function zg(V,ee){var ye=ee,ke=0;do{var tt=ye.nextSibling;if(V.removeChild(ye),tt&&tt.nodeType===8)if(ye=tt.data,ye==="/$"){if(ke===0){V.removeChild(tt),Rd(ee);return}ke--}else ye!=="$"&&ye!=="$?"&&ye!=="$!"||ke++;ye=tt}while(ye);Rd(ee)}function Oc(V){for(;V!=null;V=V.nextSibling){var ee=V.nodeType;if(ee===1||ee===3)break;if(ee===8){if(ee=V.data,ee==="$"||ee==="$!"||ee==="$?")break;if(ee==="/$")return null}}return V}function Ax(V){V=V.previousSibling;for(var ee=0;V;){if(V.nodeType===8){var ye=V.data;if(ye==="$"||ye==="$!"||ye==="$?"){if(ee===0)return V;ee--}else ye==="/$"&&ee++}V=V.previousSibling}return null}var kv=Math.random().toString(36).slice(2),tf="__reactFiber$"+kv,Od="__reactProps$"+kv,Ff="__reactContainer$"+kv,my="__reactEvents$"+kv,P6="__reactListeners$"+kv,_6="__reactHandles$"+kv;function wh(V){var ee=V[tf];if(ee)return ee;for(var ye=V.parentNode;ye;){if(ee=ye[Ff]||ye[tf]){if(ye=ee.alternate,ee.child!==null||ye!==null&&ye.child!==null)for(V=Ax(V);V!==null;){if(ye=V[tf])return ye;V=Ax(V)}return ee}V=ye,ye=V.parentNode}return null}function Zd(V){return V=V[tf]||V[Ff],!V||V.tag!==5&&V.tag!==6&&V.tag!==13&&V.tag!==3?null:V}function hv(V){if(V.tag===5||V.tag===6)return V.stateNode;throw Error(ma(33))}function P0(V){return V[Od]||null}var xy=[],vv=-1;function Wc(V){return{current:V}}function Zi(V){0>vv||(V.current=xy[vv],xy[vv]=null,vv--)}function Vi(V,ee){vv++,xy[vv]=V.current,V.current=ee}var Hc={},Ss=Wc(Hc),tl=Wc(!1),Ch=Hc;function Ev(V,ee){var ye=V.type.contextTypes;if(!ye)return Hc;var ke=V.stateNode;if(ke&&ke.__reactInternalMemoizedUnmaskedChildContext===ee)return ke.__reactInternalMemoizedMaskedChildContext;var tt={},xt;for(xt in ye)tt[xt]=ee[xt];return ke&&(V=V.stateNode,V.__reactInternalMemoizedUnmaskedChildContext=ee,V.__reactInternalMemoizedMaskedChildContext=tt),tt}function rl(V){return V=V.childContextTypes,V!=null}function l0(){Zi(tl),Zi(Ss)}function Sx(V,ee,ye){if(Ss.current!==Hc)throw Error(ma(168));Vi(Ss,ee),Vi(tl,ye)}function y3(V,ee,ye){var ke=V.stateNode;if(ee=ee.childContextTypes,typeof ke.getChildContext!="function")return ye;ke=ke.getChildContext();for(var tt in ke)if(!(tt in ee))throw Error(ma(108,d5(V)||"Unknown",tt));return vo({},ye,ke)}function u0(V){return V=(V=V.stateNode)&&V.__reactInternalMemoizedMergedChildContext||Hc,Ch=Ss.current,Vi(Ss,V),Vi(tl,tl.current),!0}function Mx(V,ee,ye){var ke=V.stateNode;if(!ke)throw Error(ma(169));ye?(V=y3(V,ee,Ch),ke.__reactInternalMemoizedMergedChildContext=V,Zi(tl),Zi(Ss),Vi(Ss,V)):Zi(tl),Vi(tl,ye)}var Df=null,_0=!1,Og=!1;function m3(V){Df===null?Df=[V]:Df.push(V)}function R6(V){_0=!0,m3(V)}function Yc(){if(!Og&&Df!==null){Og=!0;var V=0,ee=Di;try{var ye=Df;for(Di=1;V<ye.length;V++){var ke=ye[V];do ke=ke(!0);while(ke!==null)}Df=null,_0=!1}catch(tt){throw Df!==null&&(Df=Df.slice(V+1)),Gb(qy,Yc),tt}finally{Di=ee,Og=!1}}return null}var dv=[],pv=0,f0=null,c0=0,Zl=[],Kl=0,Lh=null,If=1,kf="";function xh(V,ee){dv[pv++]=c0,dv[pv++]=f0,f0=V,c0=ee}function x3(V,ee,ye){Zl[Kl++]=If,Zl[Kl++]=kf,Zl[Kl++]=Lh,Lh=V;var ke=If;V=kf;var tt=32-_u(ke)-1;ke&=~(1<<tt),ye+=1;var xt=32-_u(ee)+tt;if(30<xt){var G=tt-tt%5;xt=(ke&(1<<G)-1).toString(32),ke>>=G,tt-=G,If=1<<32-_u(ee)+tt|ye<<tt|ke,kf=xt+V}else If=1<<xt|ye<<tt|ke,kf=V}function l1(V){V.return!==null&&(xh(V,1),x3(V,1,0))}function u1(V){for(;V===f0;)f0=dv[--pv],dv[pv]=null,c0=dv[--pv],dv[pv]=null;for(;V===Lh;)Lh=Zl[--Kl],Zl[Kl]=null,kf=Zl[--Kl],Zl[Kl]=null,If=Zl[--Kl],Zl[Kl]=null}var bl=null,xl=null,eo=!1,Pu=null;function b3(V,ee){var ye=Jl(5,null,null,0);ye.elementType="DELETED",ye.stateNode=ee,ye.return=V,ee=V.deletions,ee===null?(V.deletions=[ye],V.flags|=16):ee.push(ye)}function Ex(V,ee){switch(V.tag){case 5:var ye=V.type;return ee=ee.nodeType!==1||ye.toLowerCase()!==ee.nodeName.toLowerCase()?null:ee,ee!==null?(V.stateNode=ee,bl=V,xl=Oc(ee.firstChild),!0):!1;case 6:return ee=V.pendingProps===""||ee.nodeType!==3?null:ee,ee!==null?(V.stateNode=ee,bl=V,xl=null,!0):!1;case 13:return ee=ee.nodeType!==8?null:ee,ee!==null?(ye=Lh!==null?{id:If,overflow:kf}:null,V.memoizedState={dehydrated:ee,treeContext:ye,retryLane:1073741824},ye=Jl(18,null,null,0),ye.stateNode=ee,ye.return=V,V.child=ye,bl=V,xl=null,!0):!1;default:return!1}}function by(V){return(V.mode&1)!==0&&(V.flags&128)===0}function wy(V){if(eo){var ee=xl;if(ee){var ye=ee;if(!Ex(V,ee)){if(by(V))throw Error(ma(418));ee=Oc(ye.nextSibling);var ke=bl;ee&&Ex(V,ee)?b3(ke,ye):(V.flags=V.flags&-4097|2,eo=!1,bl=V)}}else{if(by(V))throw Error(ma(418));V.flags=V.flags&-4097|2,eo=!1,bl=V}}}function Cx(V){for(V=V.return;V!==null&&V.tag!==5&&V.tag!==3&&V.tag!==13;)V=V.return;bl=V}function zp(V){if(V!==bl)return!1;if(!eo)return Cx(V),eo=!0,!1;var ee;if((ee=V.tag!==3)&&!(ee=V.tag!==5)&&(ee=V.type,ee=ee!=="head"&&ee!=="body"&&!gy(V.type,V.memoizedProps)),ee&&(ee=xl)){if(by(V))throw w3(),Error(ma(418));for(;ee;)b3(V,ee),ee=Oc(ee.nextSibling)}if(Cx(V),V.tag===13){if(V=V.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(ma(317));e:{for(V=V.nextSibling,ee=0;V;){if(V.nodeType===8){var ye=V.data;if(ye==="/$"){if(ee===0){xl=Oc(V.nextSibling);break e}ee--}else ye!=="$"&&ye!=="$!"&&ye!=="$?"||ee++}V=V.nextSibling}xl=null}}else xl=bl?Oc(V.stateNode.nextSibling):null;return!0}function w3(){for(var V=xl;V;)V=Oc(V.nextSibling)}function Cv(){xl=bl=null,eo=!1}function f1(V){Pu===null?Pu=[V]:Pu.push(V)}var D6=Uf.ReactCurrentBatchConfig;function fd(V,ee,ye){if(V=ye.ref,V!==null&&typeof V!="function"&&typeof V!="object"){if(ye._owner){if(ye=ye._owner,ye){if(ye.tag!==1)throw Error(ma(309));var ke=ye.stateNode}if(!ke)throw Error(ma(147,V));var tt=ke,xt=""+V;return ee!==null&&ee.ref!==null&&typeof ee.ref=="function"&&ee.ref._stringRef===xt?ee.ref:(ee=function(G){var H=tt.refs;G===null?delete H[xt]:H[xt]=G},ee._stringRef=xt,ee)}if(typeof V!="string")throw Error(ma(284));if(!ye._owner)throw Error(ma(290,V))}return V}function Op(V,ee){throw V=Object.prototype.toString.call(ee),Error(ma(31,V==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":V))}function Lx(V){var ee=V._init;return ee(V._payload)}function T3(V){function ee(t,i){if(V){var n=t.deletions;n===null?(t.deletions=[i],t.flags|=16):n.push(i)}}function ye(t,i){if(!V)return null;for(;i!==null;)ee(t,i),i=i.sibling;return null}function ke(t,i){for(t=new Map;i!==null;)i.key!==null?t.set(i.key,i):t.set(i.index,i),i=i.sibling;return t}function tt(t,i){return t=Uc(t,i),t.index=0,t.sibling=null,t}function xt(t,i,n){return t.index=n,V?(n=t.alternate,n!==null?(n=n.index,n<i?(t.flags|=2,i):n):(t.flags|=2,i)):(t.flags|=1048576,i)}function G(t){return V&&t.alternate===null&&(t.flags|=2),t}function H(t,i,n,f){return i===null||i.tag!==6?(i=Gg(n,t.mode,f),i.return=t,i):(i=tt(i,n),i.return=t,i)}function e(t,i,n,f){var u=n.type;return u===lv?P(t,i,n.props.children,f,n.key):i!==null&&(i.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Mc&&Lx(u)===i.type)?(f=tt(i,n.props),f.ref=fd(t,i,n),f.return=t,f):(f=$p(n.type,n.key,n.props,null,t.mode,f),f.ref=fd(t,i,n),f.return=t,f)}function m(t,i,n,f){return i===null||i.tag!==4||i.stateNode.containerInfo!==n.containerInfo||i.stateNode.implementation!==n.implementation?(i=Wg(n,t.mode,f),i.return=t,i):(i=tt(i,n.children||[]),i.return=t,i)}function P(t,i,n,f,u){return i===null||i.tag!==7?(i=Mh(n,t.mode,f,u),i.return=t,i):(i=tt(i,n),i.return=t,i)}function s(t,i,n){if(typeof i=="string"&&i!==""||typeof i=="number")return i=Gg(""+i,t.mode,n),i.return=t,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case Mp:return n=$p(i.type,i.key,i.props,null,t.mode,n),n.ref=fd(t,null,i),n.return=t,n;case sv:return i=Wg(i,t.mode,n),i.return=t,i;case Mc:var f=i._init;return s(t,f(i._payload),n)}if(dd(i)||id(i))return i=Mh(i,t.mode,n,null),i.return=t,i;Op(t,i)}return null}function L(t,i,n,f){var u=i!==null?i.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:H(t,i,""+n,f);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Mp:return n.key===u?e(t,i,n,f):null;case sv:return n.key===u?m(t,i,n,f):null;case Mc:return u=n._init,L(t,i,u(n._payload),f)}if(dd(n)||id(n))return u!==null?null:P(t,i,n,f,null);Op(t,n)}return null}function S(t,i,n,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return t=t.get(n)||null,H(i,t,""+f,u);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Mp:return t=t.get(f.key===null?n:f.key)||null,e(i,t,f,u);case sv:return t=t.get(f.key===null?n:f.key)||null,m(i,t,f,u);case Mc:var l=f._init;return S(t,i,n,l(f._payload),u)}if(dd(f)||id(f))return t=t.get(n)||null,P(i,t,f,u,null);Op(i,f)}return null}function v(t,i,n,f){for(var u=null,l=null,g=i,h=i=0,T=null;g!==null&&h<n.length;h++){g.index>h?(T=g,g=null):T=g.sibling;var c=L(t,g,n[h],f);if(c===null){g===null&&(g=T);break}V&&g&&c.alternate===null&&ee(t,g),i=xt(c,i,h),l===null?u=c:l.sibling=c,l=c,g=T}if(h===n.length)return ye(t,g),eo&&xh(t,h),u;if(g===null){for(;h<n.length;h++)g=s(t,n[h],f),g!==null&&(i=xt(g,i,h),l===null?u=g:l.sibling=g,l=g);return eo&&xh(t,h),u}for(g=ke(t,g);h<n.length;h++)T=S(g,t,h,n[h],f),T!==null&&(V&&T.alternate!==null&&g.delete(T.key===null?h:T.key),i=xt(T,i,h),l===null?u=T:l.sibling=T,l=T);return V&&g.forEach(function(a){return ee(t,a)}),eo&&xh(t,h),u}function p(t,i,n,f){var u=id(n);if(typeof u!="function")throw Error(ma(150));if(n=u.call(n),n==null)throw Error(ma(151));for(var l=u=null,g=i,h=i=0,T=null,c=n.next();g!==null&&!c.done;h++,c=n.next()){g.index>h?(T=g,g=null):T=g.sibling;var a=L(t,g,c.value,f);if(a===null){g===null&&(g=T);break}V&&g&&a.alternate===null&&ee(t,g),i=xt(a,i,h),l===null?u=a:l.sibling=a,l=a,g=T}if(c.done)return ye(t,g),eo&&xh(t,h),u;if(g===null){for(;!c.done;h++,c=n.next())c=s(t,c.value,f),c!==null&&(i=xt(c,i,h),l===null?u=c:l.sibling=c,l=c);return eo&&xh(t,h),u}for(g=ke(t,g);!c.done;h++,c=n.next())c=S(g,t,h,c.value,f),c!==null&&(V&&c.alternate!==null&&g.delete(c.key===null?h:c.key),i=xt(c,i,h),l===null?u=c:l.sibling=c,l=c);return V&&g.forEach(function(d){return ee(t,d)}),eo&&xh(t,h),u}function r(t,i,n,f){if(typeof n=="object"&&n!==null&&n.type===lv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Mp:e:{for(var u=n.key,l=i;l!==null;){if(l.key===u){if(u=n.type,u===lv){if(l.tag===7){ye(t,l.sibling),i=tt(l,n.props.children),i.return=t,t=i;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Mc&&Lx(u)===l.type){ye(t,l.sibling),i=tt(l,n.props),i.ref=fd(t,l,n),i.return=t,t=i;break e}ye(t,l);break}else ee(t,l);l=l.sibling}n.type===lv?(i=Mh(n.props.children,t.mode,f,n.key),i.return=t,t=i):(f=$p(n.type,n.key,n.props,null,t.mode,f),f.ref=fd(t,i,n),f.return=t,t=f)}return G(t);case sv:e:{for(l=n.key;i!==null;){if(i.key===l)if(i.tag===4&&i.stateNode.containerInfo===n.containerInfo&&i.stateNode.implementation===n.implementation){ye(t,i.sibling),i=tt(i,n.children||[]),i.return=t,t=i;break e}else{ye(t,i);break}else ee(t,i);i=i.sibling}i=Wg(n,t.mode,f),i.return=t,t=i}return G(t);case Mc:return l=n._init,r(t,i,l(n._payload),f)}if(dd(n))return v(t,i,n,f);if(id(n))return p(t,i,n,f);Op(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,i!==null&&i.tag===6?(ye(t,i.sibling),i=tt(i,n),i.return=t,t=i):(ye(t,i),i=Gg(n,t.mode,f),i.return=t,t=i),G(t)):ye(t,i)}return r}var Lv=T3(!0),A3=T3(!1),h0=Wc(null),v0=null,gv=null,c1=null;function h1(){c1=gv=v0=null}function v1(V){var ee=h0.current;Zi(h0),V._currentValue=ee}function Ty(V,ee,ye){for(;V!==null;){var ke=V.alternate;if((V.childLanes&ee)!==ee?(V.childLanes|=ee,ke!==null&&(ke.childLanes|=ee)):ke!==null&&(ke.childLanes&ee)!==ee&&(ke.childLanes|=ee),V===ye)break;V=V.return}}function Av(V,ee){v0=V,c1=gv=null,V=V.dependencies,V!==null&&V.firstContext!==null&&(V.lanes&ee&&(el=!0),V.firstContext=null)}function $l(V){var ee=V._currentValue;if(c1!==V)if(V={context:V,memoizedValue:ee,next:null},gv===null){if(v0===null)throw Error(ma(308));gv=V,v0.dependencies={lanes:0,firstContext:V}}else gv=gv.next=V;return ee}var Th=null;function d1(V){Th===null?Th=[V]:Th.push(V)}function S3(V,ee,ye,ke){var tt=ee.interleaved;return tt===null?(ye.next=ye,d1(ee)):(ye.next=tt.next,tt.next=ye),ee.interleaved=ye,Nf(V,ke)}function Nf(V,ee){V.lanes|=ee;var ye=V.alternate;for(ye!==null&&(ye.lanes|=ee),ye=V,V=V.return;V!==null;)V.childLanes|=ee,ye=V.alternate,ye!==null&&(ye.childLanes|=ee),ye=V,V=V.return;return ye.tag===3?ye.stateNode:null}var Ec=!1;function p1(V){V.updateQueue={baseState:V.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M3(V,ee){V=V.updateQueue,ee.updateQueue===V&&(ee.updateQueue={baseState:V.baseState,firstBaseUpdate:V.firstBaseUpdate,lastBaseUpdate:V.lastBaseUpdate,shared:V.shared,effects:V.effects})}function zf(V,ee){return{eventTime:V,lane:ee,tag:0,payload:null,callback:null,next:null}}function Fc(V,ee,ye){var ke=V.updateQueue;if(ke===null)return null;if(ke=ke.shared,Ai&2){var tt=ke.pending;return tt===null?ee.next=ee:(ee.next=tt.next,tt.next=ee),ke.pending=ee,Nf(V,ye)}return tt=ke.interleaved,tt===null?(ee.next=ee,d1(ke)):(ee.next=tt.next,tt.next=ee),ke.interleaved=ee,Nf(V,ye)}function jp(V,ee,ye){if(ee=ee.updateQueue,ee!==null&&(ee=ee.shared,(ye&4194240)!==0)){var ke=ee.lanes;ke&=V.pendingLanes,ye|=ke,ee.lanes=ye,e1(V,ye)}}function Px(V,ee){var ye=V.updateQueue,ke=V.alternate;if(ke!==null&&(ke=ke.updateQueue,ye===ke)){var tt=null,xt=null;if(ye=ye.firstBaseUpdate,ye!==null){do{var G={eventTime:ye.eventTime,lane:ye.lane,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null};xt===null?tt=xt=G:xt=xt.next=G,ye=ye.next}while(ye!==null);xt===null?tt=xt=ee:xt=xt.next=ee}else tt=xt=ee;ye={baseState:ke.baseState,firstBaseUpdate:tt,lastBaseUpdate:xt,shared:ke.shared,effects:ke.effects},V.updateQueue=ye;return}V=ye.lastBaseUpdate,V===null?ye.firstBaseUpdate=ee:V.next=ee,ye.lastBaseUpdate=ee}function d0(V,ee,ye,ke){var tt=V.updateQueue;Ec=!1;var xt=tt.firstBaseUpdate,G=tt.lastBaseUpdate,H=tt.shared.pending;if(H!==null){tt.shared.pending=null;var e=H,m=e.next;e.next=null,G===null?xt=m:G.next=m,G=e;var P=V.alternate;P!==null&&(P=P.updateQueue,H=P.lastBaseUpdate,H!==G&&(H===null?P.firstBaseUpdate=m:H.next=m,P.lastBaseUpdate=e))}if(xt!==null){var s=tt.baseState;G=0,P=m=e=null,H=xt;do{var L=H.lane,S=H.eventTime;if((ke&L)===L){P!==null&&(P=P.next={eventTime:S,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=V,p=H;switch(L=ee,S=ye,p.tag){case 1:if(v=p.payload,typeof v=="function"){s=v.call(S,s,L);break e}s=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(S,s,L):v,L==null)break e;s=vo({},s,L);break e;case 2:Ec=!0}}H.callback!==null&&H.lane!==0&&(V.flags|=64,L=tt.effects,L===null?tt.effects=[H]:L.push(H))}else S={eventTime:S,lane:L,tag:H.tag,payload:H.payload,callback:H.callback,next:null},P===null?(m=P=S,e=s):P=P.next=S,G|=L;if(H=H.next,H===null){if(H=tt.shared.pending,H===null)break;L=H,H=L.next,L.next=null,tt.lastBaseUpdate=L,tt.shared.pending=null}}while(!0);if(P===null&&(e=s),tt.baseState=e,tt.firstBaseUpdate=m,tt.lastBaseUpdate=P,ee=tt.shared.interleaved,ee!==null){tt=ee;do G|=tt.lane,tt=tt.next;while(tt!==ee)}else xt===null&&(tt.shared.lanes=0);_h|=G,V.lanes=G,V.memoizedState=s}}function _x(V,ee,ye){if(V=ee.effects,ee.effects=null,V!==null)for(ee=0;ee<V.length;ee++){var ke=V[ee],tt=ke.callback;if(tt!==null){if(ke.callback=null,ke=ye,typeof tt!="function")throw Error(ma(191,tt));tt.call(ke)}}}var Kd={},nf=Wc(Kd),Fd=Wc(Kd),Nd=Wc(Kd);function Ah(V){if(V===Kd)throw Error(ma(174));return V}function g1(V,ee){switch(Vi(Nd,ee),Vi(Fd,V),Vi(nf,Kd),V=ee.nodeType,V){case 9:case 11:ee=(ee=ee.documentElement)?ee.namespaceURI:ry(null,"");break;default:V=V===8?ee.parentNode:ee,ee=V.namespaceURI||null,V=V.tagName,ee=ry(ee,V)}Zi(nf),Vi(nf,ee)}function Pv(){Zi(nf),Zi(Fd),Zi(Nd)}function E3(V){Ah(Nd.current);var ee=Ah(nf.current),ye=ry(ee,V.type);ee!==ye&&(Vi(Fd,V),Vi(nf,ye))}function y1(V){Fd.current===V&&(Zi(nf),Zi(Fd))}var co=Wc(0);function p0(V){for(var ee=V;ee!==null;){if(ee.tag===13){var ye=ee.memoizedState;if(ye!==null&&(ye=ye.dehydrated,ye===null||ye.data==="$?"||ye.data==="$!"))return ee}else if(ee.tag===19&&ee.memoizedProps.revealOrder!==void 0){if(ee.flags&128)return ee}else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===V)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===V)return null;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}return null}var Fg=[];function m1(){for(var V=0;V<Fg.length;V++)Fg[V]._workInProgressVersionPrimary=null;Fg.length=0}var Xp=Uf.ReactCurrentDispatcher,Ng=Uf.ReactCurrentBatchConfig,Ph=0,ho=null,No=null,jo=null,g0=!1,Td=!1,Bd=0,I6=0;function ws(){throw Error(ma(321))}function x1(V,ee){if(ee===null)return!1;for(var ye=0;ye<ee.length&&ye<V.length;ye++)if(!Du(V[ye],ee[ye]))return!1;return!0}function b1(V,ee,ye,ke,tt,xt){if(Ph=xt,ho=ee,ee.memoizedState=null,ee.updateQueue=null,ee.lanes=0,Xp.current=V===null||V.memoizedState===null?F6:N6,V=ye(ke,tt),Td){xt=0;do{if(Td=!1,Bd=0,25<=xt)throw Error(ma(301));xt+=1,jo=No=null,ee.updateQueue=null,Xp.current=B6,V=ye(ke,tt)}while(Td)}if(Xp.current=y0,ee=No!==null&&No.next!==null,Ph=0,jo=No=ho=null,g0=!1,ee)throw Error(ma(300));return V}function w1(){var V=Bd!==0;return Bd=0,V}function ef(){var V={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jo===null?ho.memoizedState=jo=V:jo=jo.next=V,jo}function ql(){if(No===null){var V=ho.alternate;V=V!==null?V.memoizedState:null}else V=No.next;var ee=jo===null?ho.memoizedState:jo.next;if(ee!==null)jo=ee,No=V;else{if(V===null)throw Error(ma(310));No=V,V={memoizedState:No.memoizedState,baseState:No.baseState,baseQueue:No.baseQueue,queue:No.queue,next:null},jo===null?ho.memoizedState=jo=V:jo=jo.next=V}return jo}function Ud(V,ee){return typeof ee=="function"?ee(V):ee}function Bg(V){var ee=ql(),ye=ee.queue;if(ye===null)throw Error(ma(311));ye.lastRenderedReducer=V;var ke=No,tt=ke.baseQueue,xt=ye.pending;if(xt!==null){if(tt!==null){var G=tt.next;tt.next=xt.next,xt.next=G}ke.baseQueue=tt=xt,ye.pending=null}if(tt!==null){xt=tt.next,ke=ke.baseState;var H=G=null,e=null,m=xt;do{var P=m.lane;if((Ph&P)===P)e!==null&&(e=e.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),ke=m.hasEagerState?m.eagerState:V(ke,m.action);else{var s={lane:P,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};e===null?(H=e=s,G=ke):e=e.next=s,ho.lanes|=P,_h|=P}m=m.next}while(m!==null&&m!==xt);e===null?G=ke:e.next=H,Du(ke,ee.memoizedState)||(el=!0),ee.memoizedState=ke,ee.baseState=G,ee.baseQueue=e,ye.lastRenderedState=ke}if(V=ye.interleaved,V!==null){tt=V;do xt=tt.lane,ho.lanes|=xt,_h|=xt,tt=tt.next;while(tt!==V)}else tt===null&&(ye.lanes=0);return[ee.memoizedState,ye.dispatch]}function Ug(V){var ee=ql(),ye=ee.queue;if(ye===null)throw Error(ma(311));ye.lastRenderedReducer=V;var ke=ye.dispatch,tt=ye.pending,xt=ee.memoizedState;if(tt!==null){ye.pending=null;var G=tt=tt.next;do xt=V(xt,G.action),G=G.next;while(G!==tt);Du(xt,ee.memoizedState)||(el=!0),ee.memoizedState=xt,ee.baseQueue===null&&(ee.baseState=xt),ye.lastRenderedState=xt}return[xt,ke]}function C3(){}function L3(V,ee){var ye=ho,ke=ql(),tt=ee(),xt=!Du(ke.memoizedState,tt);if(xt&&(ke.memoizedState=tt,el=!0),ke=ke.queue,T1(R3.bind(null,ye,ke,V),[V]),ke.getSnapshot!==ee||xt||jo!==null&&jo.memoizedState.tag&1){if(ye.flags|=2048,Vd(9,_3.bind(null,ye,ke,tt,ee),void 0,null),Xo===null)throw Error(ma(349));Ph&30||P3(ye,ee,tt)}return tt}function P3(V,ee,ye){V.flags|=16384,V={getSnapshot:ee,value:ye},ee=ho.updateQueue,ee===null?(ee={lastEffect:null,stores:null},ho.updateQueue=ee,ee.stores=[V]):(ye=ee.stores,ye===null?ee.stores=[V]:ye.push(V))}function _3(V,ee,ye,ke){ee.value=ye,ee.getSnapshot=ke,D3(ee)&&I3(V)}function R3(V,ee,ye){return ye(function(){D3(ee)&&I3(V)})}function D3(V){var ee=V.getSnapshot;V=V.value;try{var ye=ee();return!Du(V,ye)}catch{return!0}}function I3(V){var ee=Nf(V,1);ee!==null&&Ru(ee,V,1,-1)}function Rx(V){var ee=ef();return typeof V=="function"&&(V=V()),ee.memoizedState=ee.baseState=V,V={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:V},ee.queue=V,V=V.dispatch=O6.bind(null,ho,V),[ee.memoizedState,V]}function Vd(V,ee,ye,ke){return V={tag:V,create:ee,destroy:ye,deps:ke,next:null},ee=ho.updateQueue,ee===null?(ee={lastEffect:null,stores:null},ho.updateQueue=ee,ee.lastEffect=V.next=V):(ye=ee.lastEffect,ye===null?ee.lastEffect=V.next=V:(ke=ye.next,ye.next=V,V.next=ke,ee.lastEffect=V)),V}function k3(){return ql().memoizedState}function Zp(V,ee,ye,ke){var tt=ef();ho.flags|=V,tt.memoizedState=Vd(1|ee,ye,void 0,ke===void 0?null:ke)}function R0(V,ee,ye,ke){var tt=ql();ke=ke===void 0?null:ke;var xt=void 0;if(No!==null){var G=No.memoizedState;if(xt=G.destroy,ke!==null&&x1(ke,G.deps)){tt.memoizedState=Vd(ee,ye,xt,ke);return}}ho.flags|=V,tt.memoizedState=Vd(1|ee,ye,xt,ke)}function Dx(V,ee){return Zp(8390656,8,V,ee)}function T1(V,ee){return R0(2048,8,V,ee)}function z3(V,ee){return R0(4,2,V,ee)}function O3(V,ee){return R0(4,4,V,ee)}function F3(V,ee){if(typeof ee=="function")return V=V(),ee(V),function(){ee(null)};if(ee!=null)return V=V(),ee.current=V,function(){ee.current=null}}function N3(V,ee,ye){return ye=ye!=null?ye.concat([V]):null,R0(4,4,F3.bind(null,ee,V),ye)}function A1(){}function B3(V,ee){var ye=ql();ee=ee===void 0?null:ee;var ke=ye.memoizedState;return ke!==null&&ee!==null&&x1(ee,ke[1])?ke[0]:(ye.memoizedState=[V,ee],V)}function U3(V,ee){var ye=ql();ee=ee===void 0?null:ee;var ke=ye.memoizedState;return ke!==null&&ee!==null&&x1(ee,ke[1])?ke[0]:(V=V(),ye.memoizedState=[V,ee],V)}function V3(V,ee,ye){return Ph&21?(Du(ye,ee)||(ye=jb(),ho.lanes|=ye,_h|=ye,V.baseState=!0),ee):(V.baseState&&(V.baseState=!1,el=!0),V.memoizedState=ye)}function k6(V,ee){var ye=Di;Di=ye!==0&&4>ye?ye:4,V(!0);var ke=Ng.transition;Ng.transition={};try{V(!1),ee()}finally{Di=ye,Ng.transition=ke}}function H3(){return ql().memoizedState}function z6(V,ee,ye){var ke=Bc(V);if(ye={lane:ke,action:ye,hasEagerState:!1,eagerState:null,next:null},G3(V))W3(ee,ye);else if(ye=S3(V,ee,ye,ke),ye!==null){var tt=Os();Ru(ye,V,ke,tt),Y3(ye,ee,ke)}}function O6(V,ee,ye){var ke=Bc(V),tt={lane:ke,action:ye,hasEagerState:!1,eagerState:null,next:null};if(G3(V))W3(ee,tt);else{var xt=V.alternate;if(V.lanes===0&&(xt===null||xt.lanes===0)&&(xt=ee.lastRenderedReducer,xt!==null))try{var G=ee.lastRenderedState,H=xt(G,ye);if(tt.hasEagerState=!0,tt.eagerState=H,Du(H,G)){var e=ee.interleaved;e===null?(tt.next=tt,d1(ee)):(tt.next=e.next,e.next=tt),ee.interleaved=tt;return}}catch{}finally{}ye=S3(V,ee,tt,ke),ye!==null&&(tt=Os(),Ru(ye,V,ke,tt),Y3(ye,ee,ke))}}function G3(V){var ee=V.alternate;return V===ho||ee!==null&&ee===ho}function W3(V,ee){Td=g0=!0;var ye=V.pending;ye===null?ee.next=ee:(ee.next=ye.next,ye.next=ee),V.pending=ee}function Y3(V,ee,ye){if(ye&4194240){var ke=ee.lanes;ke&=V.pendingLanes,ye|=ke,ee.lanes=ye,e1(V,ye)}}var y0={readContext:$l,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},F6={readContext:$l,useCallback:function(V,ee){return ef().memoizedState=[V,ee===void 0?null:ee],V},useContext:$l,useEffect:Dx,useImperativeHandle:function(V,ee,ye){return ye=ye!=null?ye.concat([V]):null,Zp(4194308,4,F3.bind(null,ee,V),ye)},useLayoutEffect:function(V,ee){return Zp(4194308,4,V,ee)},useInsertionEffect:function(V,ee){return Zp(4,2,V,ee)},useMemo:function(V,ee){var ye=ef();return ee=ee===void 0?null:ee,V=V(),ye.memoizedState=[V,ee],V},useReducer:function(V,ee,ye){var ke=ef();return ee=ye!==void 0?ye(ee):ee,ke.memoizedState=ke.baseState=ee,V={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V,lastRenderedState:ee},ke.queue=V,V=V.dispatch=z6.bind(null,ho,V),[ke.memoizedState,V]},useRef:function(V){var ee=ef();return V={current:V},ee.memoizedState=V},useState:Rx,useDebugValue:A1,useDeferredValue:function(V){return ef().memoizedState=V},useTransition:function(){var V=Rx(!1),ee=V[0];return V=k6.bind(null,V[1]),ef().memoizedState=V,[ee,V]},useMutableSource:function(){},useSyncExternalStore:function(V,ee,ye){var ke=ho,tt=ef();if(eo){if(ye===void 0)throw Error(ma(407));ye=ye()}else{if(ye=ee(),Xo===null)throw Error(ma(349));Ph&30||P3(ke,ee,ye)}tt.memoizedState=ye;var xt={value:ye,getSnapshot:ee};return tt.queue=xt,Dx(R3.bind(null,ke,xt,V),[V]),ke.flags|=2048,Vd(9,_3.bind(null,ke,xt,ye,ee),void 0,null),ye},useId:function(){var V=ef(),ee=Xo.identifierPrefix;if(eo){var ye=kf,ke=If;ye=(ke&~(1<<32-_u(ke)-1)).toString(32)+ye,ee=":"+ee+"R"+ye,ye=Bd++,0<ye&&(ee+="H"+ye.toString(32)),ee+=":"}else ye=I6++,ee=":"+ee+"r"+ye.toString(32)+":";return V.memoizedState=ee},unstable_isNewReconciler:!1},N6={readContext:$l,useCallback:B3,useContext:$l,useEffect:T1,useImperativeHandle:N3,useInsertionEffect:z3,useLayoutEffect:O3,useMemo:U3,useReducer:Bg,useRef:k3,useState:function(){return Bg(Ud)},useDebugValue:A1,useDeferredValue:function(V){var ee=ql();return V3(ee,No.memoizedState,V)},useTransition:function(){var V=Bg(Ud)[0],ee=ql().memoizedState;return[V,ee]},useMutableSource:C3,useSyncExternalStore:L3,useId:H3,unstable_isNewReconciler:!1},B6={readContext:$l,useCallback:B3,useContext:$l,useEffect:T1,useImperativeHandle:N3,useInsertionEffect:z3,useLayoutEffect:O3,useMemo:U3,useReducer:Ug,useRef:k3,useState:function(){return Ug(Ud)},useDebugValue:A1,useDeferredValue:function(V){var ee=ql();return No===null?ee.memoizedState=V:V3(ee,No.memoizedState,V)},useTransition:function(){var V=Ug(Ud)[0],ee=ql().memoizedState;return[V,ee]},useMutableSource:C3,useSyncExternalStore:L3,useId:H3,unstable_isNewReconciler:!1};function Cu(V,ee){if(V&&V.defaultProps){ee=vo({},ee),V=V.defaultProps;for(var ye in V)ee[ye]===void 0&&(ee[ye]=V[ye]);return ee}return ee}function Ay(V,ee,ye,ke){ee=V.memoizedState,ye=ye(ke,ee),ye=ye==null?ee:vo({},ee,ye),V.memoizedState=ye,V.lanes===0&&(V.updateQueue.baseState=ye)}var D0={isMounted:function(V){return(V=V._reactInternals)?Ih(V)===V:!1},enqueueSetState:function(V,ee,ye){V=V._reactInternals;var ke=Os(),tt=Bc(V),xt=zf(ke,tt);xt.payload=ee,ye!=null&&(xt.callback=ye),ee=Fc(V,xt,tt),ee!==null&&(Ru(ee,V,tt,ke),jp(ee,V,tt))},enqueueReplaceState:function(V,ee,ye){V=V._reactInternals;var ke=Os(),tt=Bc(V),xt=zf(ke,tt);xt.tag=1,xt.payload=ee,ye!=null&&(xt.callback=ye),ee=Fc(V,xt,tt),ee!==null&&(Ru(ee,V,tt,ke),jp(ee,V,tt))},enqueueForceUpdate:function(V,ee){V=V._reactInternals;var ye=Os(),ke=Bc(V),tt=zf(ye,ke);tt.tag=2,ee!=null&&(tt.callback=ee),ee=Fc(V,tt,ke),ee!==null&&(Ru(ee,V,ke,ye),jp(ee,V,ke))}};function Ix(V,ee,ye,ke,tt,xt,G){return V=V.stateNode,typeof V.shouldComponentUpdate=="function"?V.shouldComponentUpdate(ke,xt,G):ee.prototype&&ee.prototype.isPureReactComponent?!Id(ye,ke)||!Id(tt,xt):!0}function j3(V,ee,ye){var ke=!1,tt=Hc,xt=ee.contextType;return typeof xt=="object"&&xt!==null?xt=$l(xt):(tt=rl(ee)?Ch:Ss.current,ke=ee.contextTypes,xt=(ke=ke!=null)?Ev(V,tt):Hc),ee=new ee(ye,xt),V.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,ee.updater=D0,V.stateNode=ee,ee._reactInternals=V,ke&&(V=V.stateNode,V.__reactInternalMemoizedUnmaskedChildContext=tt,V.__reactInternalMemoizedMaskedChildContext=xt),ee}function kx(V,ee,ye,ke){V=ee.state,typeof ee.componentWillReceiveProps=="function"&&ee.componentWillReceiveProps(ye,ke),typeof ee.UNSAFE_componentWillReceiveProps=="function"&&ee.UNSAFE_componentWillReceiveProps(ye,ke),ee.state!==V&&D0.enqueueReplaceState(ee,ee.state,null)}function Sy(V,ee,ye,ke){var tt=V.stateNode;tt.props=ye,tt.state=V.memoizedState,tt.refs={},p1(V);var xt=ee.contextType;typeof xt=="object"&&xt!==null?tt.context=$l(xt):(xt=rl(ee)?Ch:Ss.current,tt.context=Ev(V,xt)),tt.state=V.memoizedState,xt=ee.getDerivedStateFromProps,typeof xt=="function"&&(Ay(V,ee,xt,ye),tt.state=V.memoizedState),typeof ee.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(ee=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),ee!==tt.state&&D0.enqueueReplaceState(tt,tt.state,null),d0(V,ye,tt,ke),tt.state=V.memoizedState),typeof tt.componentDidMount=="function"&&(V.flags|=4194308)}function _v(V,ee){try{var ye="",ke=ee;do ye+=v5(ke),ke=ke.return;while(ke);var tt=ye}catch(xt){tt=`
Error generating stack: `+xt.message+`
`+xt.stack}return{value:V,source:ee,stack:tt,digest:null}}function Vg(V,ee,ye){return{value:V,source:null,stack:ye??null,digest:ee??null}}function My(V,ee){try{console.error(ee.value)}catch(ye){setTimeout(function(){throw ye})}}var U6=typeof WeakMap=="function"?WeakMap:Map;function X3(V,ee,ye){ye=zf(-1,ye),ye.tag=3,ye.payload={element:null};var ke=ee.value;return ye.callback=function(){x0||(x0=!0,zy=ke),My(V,ee)},ye}function Z3(V,ee,ye){ye=zf(-1,ye),ye.tag=3;var ke=V.type.getDerivedStateFromError;if(typeof ke=="function"){var tt=ee.value;ye.payload=function(){return ke(tt)},ye.callback=function(){My(V,ee)}}var xt=V.stateNode;return xt!==null&&typeof xt.componentDidCatch=="function"&&(ye.callback=function(){My(V,ee),typeof ke!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var G=ee.stack;this.componentDidCatch(ee.value,{componentStack:G!==null?G:""})}),ye}function zx(V,ee,ye){var ke=V.pingCache;if(ke===null){ke=V.pingCache=new U6;var tt=new Set;ke.set(ee,tt)}else tt=ke.get(ee),tt===void 0&&(tt=new Set,ke.set(ee,tt));tt.has(ye)||(tt.add(ye),V=eA.bind(null,V,ee,ye),ee.then(V,V))}function Ox(V){do{var ee;if((ee=V.tag===13)&&(ee=V.memoizedState,ee=ee!==null?ee.dehydrated!==null:!0),ee)return V;V=V.return}while(V!==null);return null}function Fx(V,ee,ye,ke,tt){return V.mode&1?(V.flags|=65536,V.lanes=tt,V):(V===ee?V.flags|=65536:(V.flags|=128,ye.flags|=131072,ye.flags&=-52805,ye.tag===1&&(ye.alternate===null?ye.tag=17:(ee=zf(-1,1),ee.tag=2,Fc(ye,ee,1))),ye.lanes|=1),V)}var V6=Uf.ReactCurrentOwner,el=!1;function zs(V,ee,ye,ke){ee.child=V===null?A3(ee,null,ye,ke):Lv(ee,V.child,ye,ke)}function Nx(V,ee,ye,ke,tt){ye=ye.render;var xt=ee.ref;return Av(ee,tt),ke=b1(V,ee,ye,ke,xt,tt),ye=w1(),V!==null&&!el?(ee.updateQueue=V.updateQueue,ee.flags&=-2053,V.lanes&=~tt,Bf(V,ee,tt)):(eo&&ye&&l1(ee),ee.flags|=1,zs(V,ee,ke,tt),ee.child)}function Bx(V,ee,ye,ke,tt){if(V===null){var xt=ye.type;return typeof xt=="function"&&!R1(xt)&&xt.defaultProps===void 0&&ye.compare===null&&ye.defaultProps===void 0?(ee.tag=15,ee.type=xt,K3(V,ee,xt,ke,tt)):(V=$p(ye.type,null,ke,ee,ee.mode,tt),V.ref=ee.ref,V.return=ee,ee.child=V)}if(xt=V.child,!(V.lanes&tt)){var G=xt.memoizedProps;if(ye=ye.compare,ye=ye!==null?ye:Id,ye(G,ke)&&V.ref===ee.ref)return Bf(V,ee,tt)}return ee.flags|=1,V=Uc(xt,ke),V.ref=ee.ref,V.return=ee,ee.child=V}function K3(V,ee,ye,ke,tt){if(V!==null){var xt=V.memoizedProps;if(Id(xt,ke)&&V.ref===ee.ref)if(el=!1,ee.pendingProps=ke=xt,(V.lanes&tt)!==0)V.flags&131072&&(el=!0);else return ee.lanes=V.lanes,Bf(V,ee,tt)}return Ey(V,ee,ye,ke,tt)}function J3(V,ee,ye){var ke=ee.pendingProps,tt=ke.children,xt=V!==null?V.memoizedState:null;if(ke.mode==="hidden")if(!(ee.mode&1))ee.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vi(mv,ml),ml|=ye;else{if(!(ye&1073741824))return V=xt!==null?xt.baseLanes|ye:ye,ee.lanes=ee.childLanes=1073741824,ee.memoizedState={baseLanes:V,cachePool:null,transitions:null},ee.updateQueue=null,Vi(mv,ml),ml|=V,null;ee.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke=xt!==null?xt.baseLanes:ye,Vi(mv,ml),ml|=ke}else xt!==null?(ke=xt.baseLanes|ye,ee.memoizedState=null):ke=ye,Vi(mv,ml),ml|=ke;return zs(V,ee,tt,ye),ee.child}function Q3(V,ee){var ye=ee.ref;(V===null&&ye!==null||V!==null&&V.ref!==ye)&&(ee.flags|=512,ee.flags|=2097152)}function Ey(V,ee,ye,ke,tt){var xt=rl(ye)?Ch:Ss.current;return xt=Ev(ee,xt),Av(ee,tt),ye=b1(V,ee,ye,ke,xt,tt),ke=w1(),V!==null&&!el?(ee.updateQueue=V.updateQueue,ee.flags&=-2053,V.lanes&=~tt,Bf(V,ee,tt)):(eo&&ke&&l1(ee),ee.flags|=1,zs(V,ee,ye,tt),ee.child)}function Ux(V,ee,ye,ke,tt){if(rl(ye)){var xt=!0;u0(ee)}else xt=!1;if(Av(ee,tt),ee.stateNode===null)Kp(V,ee),j3(ee,ye,ke),Sy(ee,ye,ke,tt),ke=!0;else if(V===null){var G=ee.stateNode,H=ee.memoizedProps;G.props=H;var e=G.context,m=ye.contextType;typeof m=="object"&&m!==null?m=$l(m):(m=rl(ye)?Ch:Ss.current,m=Ev(ee,m));var P=ye.getDerivedStateFromProps,s=typeof P=="function"||typeof G.getSnapshotBeforeUpdate=="function";s||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==ke||e!==m)&&kx(ee,G,ke,m),Ec=!1;var L=ee.memoizedState;G.state=L,d0(ee,ke,G,tt),e=ee.memoizedState,H!==ke||L!==e||tl.current||Ec?(typeof P=="function"&&(Ay(ee,ye,P,ke),e=ee.memoizedState),(H=Ec||Ix(ee,ye,H,ke,L,e,m))?(s||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(ee.flags|=4194308)):(typeof G.componentDidMount=="function"&&(ee.flags|=4194308),ee.memoizedProps=ke,ee.memoizedState=e),G.props=ke,G.state=e,G.context=m,ke=H):(typeof G.componentDidMount=="function"&&(ee.flags|=4194308),ke=!1)}else{G=ee.stateNode,M3(V,ee),H=ee.memoizedProps,m=ee.type===ee.elementType?H:Cu(ee.type,H),G.props=m,s=ee.pendingProps,L=G.context,e=ye.contextType,typeof e=="object"&&e!==null?e=$l(e):(e=rl(ye)?Ch:Ss.current,e=Ev(ee,e));var S=ye.getDerivedStateFromProps;(P=typeof S=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(H!==s||L!==e)&&kx(ee,G,ke,e),Ec=!1,L=ee.memoizedState,G.state=L,d0(ee,ke,G,tt);var v=ee.memoizedState;H!==s||L!==v||tl.current||Ec?(typeof S=="function"&&(Ay(ee,ye,S,ke),v=ee.memoizedState),(m=Ec||Ix(ee,ye,m,ke,L,v,e)||!1)?(P||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(ke,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(ke,v,e)),typeof G.componentDidUpdate=="function"&&(ee.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(ee.flags|=1024)):(typeof G.componentDidUpdate!="function"||H===V.memoizedProps&&L===V.memoizedState||(ee.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===V.memoizedProps&&L===V.memoizedState||(ee.flags|=1024),ee.memoizedProps=ke,ee.memoizedState=v),G.props=ke,G.state=v,G.context=e,ke=m):(typeof G.componentDidUpdate!="function"||H===V.memoizedProps&&L===V.memoizedState||(ee.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||H===V.memoizedProps&&L===V.memoizedState||(ee.flags|=1024),ke=!1)}return Cy(V,ee,ye,ke,xt,tt)}function Cy(V,ee,ye,ke,tt,xt){Q3(V,ee);var G=(ee.flags&128)!==0;if(!ke&&!G)return tt&&Mx(ee,ye,!1),Bf(V,ee,xt);ke=ee.stateNode,V6.current=ee;var H=G&&typeof ye.getDerivedStateFromError!="function"?null:ke.render();return ee.flags|=1,V!==null&&G?(ee.child=Lv(ee,V.child,null,xt),ee.child=Lv(ee,null,H,xt)):zs(V,ee,H,xt),ee.memoizedState=ke.state,tt&&Mx(ee,ye,!0),ee.child}function $3(V){var ee=V.stateNode;ee.pendingContext?Sx(V,ee.pendingContext,ee.pendingContext!==ee.context):ee.context&&Sx(V,ee.context,!1),g1(V,ee.containerInfo)}function Vx(V,ee,ye,ke,tt){return Cv(),f1(tt),ee.flags|=256,zs(V,ee,ye,ke),ee.child}var Ly={dehydrated:null,treeContext:null,retryLane:0};function Py(V){return{baseLanes:V,cachePool:null,transitions:null}}function q3(V,ee,ye){var ke=ee.pendingProps,tt=co.current,xt=!1,G=(ee.flags&128)!==0,H;if((H=G)||(H=V!==null&&V.memoizedState===null?!1:(tt&2)!==0),H?(xt=!0,ee.flags&=-129):(V===null||V.memoizedState!==null)&&(tt|=1),Vi(co,tt&1),V===null)return wy(ee),V=ee.memoizedState,V!==null&&(V=V.dehydrated,V!==null)?(ee.mode&1?V.data==="$!"?ee.lanes=8:ee.lanes=1073741824:ee.lanes=1,null):(G=ke.children,V=ke.fallback,xt?(ke=ee.mode,xt=ee.child,G={mode:"hidden",children:G},!(ke&1)&&xt!==null?(xt.childLanes=0,xt.pendingProps=G):xt=z0(G,ke,0,null),V=Mh(V,ke,ye,null),xt.return=ee,V.return=ee,xt.sibling=V,ee.child=xt,ee.child.memoizedState=Py(ye),ee.memoizedState=Ly,V):S1(ee,G));if(tt=V.memoizedState,tt!==null&&(H=tt.dehydrated,H!==null))return H6(V,ee,G,ke,H,tt,ye);if(xt){xt=ke.fallback,G=ee.mode,tt=V.child,H=tt.sibling;var e={mode:"hidden",children:ke.children};return!(G&1)&&ee.child!==tt?(ke=ee.child,ke.childLanes=0,ke.pendingProps=e,ee.deletions=null):(ke=Uc(tt,e),ke.subtreeFlags=tt.subtreeFlags&14680064),H!==null?xt=Uc(H,xt):(xt=Mh(xt,G,ye,null),xt.flags|=2),xt.return=ee,ke.return=ee,ke.sibling=xt,ee.child=ke,ke=xt,xt=ee.child,G=V.child.memoizedState,G=G===null?Py(ye):{baseLanes:G.baseLanes|ye,cachePool:null,transitions:G.transitions},xt.memoizedState=G,xt.childLanes=V.childLanes&~ye,ee.memoizedState=Ly,ke}return xt=V.child,V=xt.sibling,ke=Uc(xt,{mode:"visible",children:ke.children}),!(ee.mode&1)&&(ke.lanes=ye),ke.return=ee,ke.sibling=null,V!==null&&(ye=ee.deletions,ye===null?(ee.deletions=[V],ee.flags|=16):ye.push(V)),ee.child=ke,ee.memoizedState=null,ke}function S1(V,ee){return ee=z0({mode:"visible",children:ee},V.mode,0,null),ee.return=V,V.child=ee}function Fp(V,ee,ye,ke){return ke!==null&&f1(ke),Lv(ee,V.child,null,ye),V=S1(ee,ee.pendingProps.children),V.flags|=2,ee.memoizedState=null,V}function H6(V,ee,ye,ke,tt,xt,G){if(ye)return ee.flags&256?(ee.flags&=-257,ke=Vg(Error(ma(422))),Fp(V,ee,G,ke)):ee.memoizedState!==null?(ee.child=V.child,ee.flags|=128,null):(xt=ke.fallback,tt=ee.mode,ke=z0({mode:"visible",children:ke.children},tt,0,null),xt=Mh(xt,tt,G,null),xt.flags|=2,ke.return=ee,xt.return=ee,ke.sibling=xt,ee.child=ke,ee.mode&1&&Lv(ee,V.child,null,G),ee.child.memoizedState=Py(G),ee.memoizedState=Ly,xt);if(!(ee.mode&1))return Fp(V,ee,G,null);if(tt.data==="$!"){if(ke=tt.nextSibling&&tt.nextSibling.dataset,ke)var H=ke.dgst;return ke=H,xt=Error(ma(419)),ke=Vg(xt,ke,void 0),Fp(V,ee,G,ke)}if(H=(G&V.childLanes)!==0,el||H){if(ke=Xo,ke!==null){switch(G&-G){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(ke.suspendedLanes|G)?0:tt,tt!==0&&tt!==xt.retryLane&&(xt.retryLane=tt,Nf(V,tt),Ru(ke,V,tt,-1))}return _1(),ke=Vg(Error(ma(421))),Fp(V,ee,G,ke)}return tt.data==="$?"?(ee.flags|=128,ee.child=V.child,ee=tA.bind(null,V),tt._reactRetry=ee,null):(V=xt.treeContext,xl=Oc(tt.nextSibling),bl=ee,eo=!0,Pu=null,V!==null&&(Zl[Kl++]=If,Zl[Kl++]=kf,Zl[Kl++]=Lh,If=V.id,kf=V.overflow,Lh=ee),ee=S1(ee,ke.children),ee.flags|=4096,ee)}function Hx(V,ee,ye){V.lanes|=ee;var ke=V.alternate;ke!==null&&(ke.lanes|=ee),Ty(V.return,ee,ye)}function Hg(V,ee,ye,ke,tt){var xt=V.memoizedState;xt===null?V.memoizedState={isBackwards:ee,rendering:null,renderingStartTime:0,last:ke,tail:ye,tailMode:tt}:(xt.isBackwards=ee,xt.rendering=null,xt.renderingStartTime=0,xt.last=ke,xt.tail=ye,xt.tailMode=tt)}function ew(V,ee,ye){var ke=ee.pendingProps,tt=ke.revealOrder,xt=ke.tail;if(zs(V,ee,ke.children,ye),ke=co.current,ke&2)ke=ke&1|2,ee.flags|=128;else{if(V!==null&&V.flags&128)e:for(V=ee.child;V!==null;){if(V.tag===13)V.memoizedState!==null&&Hx(V,ye,ee);else if(V.tag===19)Hx(V,ye,ee);else if(V.child!==null){V.child.return=V,V=V.child;continue}if(V===ee)break e;for(;V.sibling===null;){if(V.return===null||V.return===ee)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}ke&=1}if(Vi(co,ke),!(ee.mode&1))ee.memoizedState=null;else switch(tt){case"forwards":for(ye=ee.child,tt=null;ye!==null;)V=ye.alternate,V!==null&&p0(V)===null&&(tt=ye),ye=ye.sibling;ye=tt,ye===null?(tt=ee.child,ee.child=null):(tt=ye.sibling,ye.sibling=null),Hg(ee,!1,tt,ye,xt);break;case"backwards":for(ye=null,tt=ee.child,ee.child=null;tt!==null;){if(V=tt.alternate,V!==null&&p0(V)===null){ee.child=tt;break}V=tt.sibling,tt.sibling=ye,ye=tt,tt=V}Hg(ee,!0,ye,null,xt);break;case"together":Hg(ee,!1,null,null,void 0);break;default:ee.memoizedState=null}return ee.child}function Kp(V,ee){!(ee.mode&1)&&V!==null&&(V.alternate=null,ee.alternate=null,ee.flags|=2)}function Bf(V,ee,ye){if(V!==null&&(ee.dependencies=V.dependencies),_h|=ee.lanes,!(ye&ee.childLanes))return null;if(V!==null&&ee.child!==V.child)throw Error(ma(153));if(ee.child!==null){for(V=ee.child,ye=Uc(V,V.pendingProps),ee.child=ye,ye.return=ee;V.sibling!==null;)V=V.sibling,ye=ye.sibling=Uc(V,V.pendingProps),ye.return=ee;ye.sibling=null}return ee.child}function G6(V,ee,ye){switch(ee.tag){case 3:$3(ee),Cv();break;case 5:E3(ee);break;case 1:rl(ee.type)&&u0(ee);break;case 4:g1(ee,ee.stateNode.containerInfo);break;case 10:var ke=ee.type._context,tt=ee.memoizedProps.value;Vi(h0,ke._currentValue),ke._currentValue=tt;break;case 13:if(ke=ee.memoizedState,ke!==null)return ke.dehydrated!==null?(Vi(co,co.current&1),ee.flags|=128,null):ye&ee.child.childLanes?q3(V,ee,ye):(Vi(co,co.current&1),V=Bf(V,ee,ye),V!==null?V.sibling:null);Vi(co,co.current&1);break;case 19:if(ke=(ye&ee.childLanes)!==0,V.flags&128){if(ke)return ew(V,ee,ye);ee.flags|=128}if(tt=ee.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),Vi(co,co.current),ke)break;return null;case 22:case 23:return ee.lanes=0,J3(V,ee,ye)}return Bf(V,ee,ye)}var tw,_y,rw,nw;tw=function(V,ee){for(var ye=ee.child;ye!==null;){if(ye.tag===5||ye.tag===6)V.appendChild(ye.stateNode);else if(ye.tag!==4&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===ee)break;for(;ye.sibling===null;){if(ye.return===null||ye.return===ee)return;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}};_y=function(){};rw=function(V,ee,ye,ke){var tt=V.memoizedProps;if(tt!==ke){V=ee.stateNode,Ah(nf.current);var xt=null;switch(ye){case"input":tt=$g(V,tt),ke=$g(V,ke),xt=[];break;case"select":tt=vo({},tt,{value:void 0}),ke=vo({},ke,{value:void 0}),xt=[];break;case"textarea":tt=ty(V,tt),ke=ty(V,ke),xt=[];break;default:typeof tt.onClick!="function"&&typeof ke.onClick=="function"&&(V.onclick=s0)}ny(ye,ke);var G;ye=null;for(m in tt)if(!ke.hasOwnProperty(m)&&tt.hasOwnProperty(m)&&tt[m]!=null)if(m==="style"){var H=tt[m];for(G in H)H.hasOwnProperty(G)&&(ye||(ye={}),ye[G]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ed.hasOwnProperty(m)?xt||(xt=[]):(xt=xt||[]).push(m,null));for(m in ke){var e=ke[m];if(H=tt!=null?tt[m]:void 0,ke.hasOwnProperty(m)&&e!==H&&(e!=null||H!=null))if(m==="style")if(H){for(G in H)!H.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(ye||(ye={}),ye[G]="");for(G in e)e.hasOwnProperty(G)&&H[G]!==e[G]&&(ye||(ye={}),ye[G]=e[G])}else ye||(xt||(xt=[]),xt.push(m,ye)),ye=e;else m==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(xt=xt||[]).push(m,e)):m==="children"?typeof e!="string"&&typeof e!="number"||(xt=xt||[]).push(m,""+e):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ed.hasOwnProperty(m)?(e!=null&&m==="onScroll"&&Xi("scroll",V),xt||H===e||(xt=[])):(xt=xt||[]).push(m,e))}ye&&(xt=xt||[]).push("style",ye);var m=xt;(ee.updateQueue=m)&&(ee.flags|=4)}};nw=function(V,ee,ye,ke){ye!==ke&&(ee.flags|=4)};function cd(V,ee){if(!eo)switch(V.tailMode){case"hidden":ee=V.tail;for(var ye=null;ee!==null;)ee.alternate!==null&&(ye=ee),ee=ee.sibling;ye===null?V.tail=null:ye.sibling=null;break;case"collapsed":ye=V.tail;for(var ke=null;ye!==null;)ye.alternate!==null&&(ke=ye),ye=ye.sibling;ke===null?ee||V.tail===null?V.tail=null:V.tail.sibling=null:ke.sibling=null}}function Ts(V){var ee=V.alternate!==null&&V.alternate.child===V.child,ye=0,ke=0;if(ee)for(var tt=V.child;tt!==null;)ye|=tt.lanes|tt.childLanes,ke|=tt.subtreeFlags&14680064,ke|=tt.flags&14680064,tt.return=V,tt=tt.sibling;else for(tt=V.child;tt!==null;)ye|=tt.lanes|tt.childLanes,ke|=tt.subtreeFlags,ke|=tt.flags,tt.return=V,tt=tt.sibling;return V.subtreeFlags|=ke,V.childLanes=ye,ee}function W6(V,ee,ye){var ke=ee.pendingProps;switch(u1(ee),ee.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(ee),null;case 1:return rl(ee.type)&&l0(),Ts(ee),null;case 3:return ke=ee.stateNode,Pv(),Zi(tl),Zi(Ss),m1(),ke.pendingContext&&(ke.context=ke.pendingContext,ke.pendingContext=null),(V===null||V.child===null)&&(zp(ee)?ee.flags|=4:V===null||V.memoizedState.isDehydrated&&!(ee.flags&256)||(ee.flags|=1024,Pu!==null&&(Ny(Pu),Pu=null))),_y(V,ee),Ts(ee),null;case 5:y1(ee);var tt=Ah(Nd.current);if(ye=ee.type,V!==null&&ee.stateNode!=null)rw(V,ee,ye,ke,tt),V.ref!==ee.ref&&(ee.flags|=512,ee.flags|=2097152);else{if(!ke){if(ee.stateNode===null)throw Error(ma(166));return Ts(ee),null}if(V=Ah(nf.current),zp(ee)){ke=ee.stateNode,ye=ee.type;var xt=ee.memoizedProps;switch(ke[tf]=ee,ke[Od]=xt,V=(ee.mode&1)!==0,ye){case"dialog":Xi("cancel",ke),Xi("close",ke);break;case"iframe":case"object":case"embed":Xi("load",ke);break;case"video":case"audio":for(tt=0;tt<gd.length;tt++)Xi(gd[tt],ke);break;case"source":Xi("error",ke);break;case"img":case"image":case"link":Xi("error",ke),Xi("load",ke);break;case"details":Xi("toggle",ke);break;case"input":Qm(ke,xt),Xi("invalid",ke);break;case"select":ke._wrapperState={wasMultiple:!!xt.multiple},Xi("invalid",ke);break;case"textarea":qm(ke,xt),Xi("invalid",ke)}ny(ye,xt),tt=null;for(var G in xt)if(xt.hasOwnProperty(G)){var H=xt[G];G==="children"?typeof H=="string"?ke.textContent!==H&&(xt.suppressHydrationWarning!==!0&&kp(ke.textContent,H,V),tt=["children",H]):typeof H=="number"&&ke.textContent!==""+H&&(xt.suppressHydrationWarning!==!0&&kp(ke.textContent,H,V),tt=["children",""+H]):Ed.hasOwnProperty(G)&&H!=null&&G==="onScroll"&&Xi("scroll",ke)}switch(ye){case"input":Ep(ke),$m(ke,xt,!0);break;case"textarea":Ep(ke),ex(ke);break;case"select":case"option":break;default:typeof xt.onClick=="function"&&(ke.onclick=s0)}ke=tt,ee.updateQueue=ke,ke!==null&&(ee.flags|=4)}else{G=tt.nodeType===9?tt:tt.ownerDocument,V==="http://www.w3.org/1999/xhtml"&&(V=Rb(ye)),V==="http://www.w3.org/1999/xhtml"?ye==="script"?(V=G.createElement("div"),V.innerHTML="<script><\/script>",V=V.removeChild(V.firstChild)):typeof ke.is=="string"?V=G.createElement(ye,{is:ke.is}):(V=G.createElement(ye),ye==="select"&&(G=V,ke.multiple?G.multiple=!0:ke.size&&(G.size=ke.size))):V=G.createElementNS(V,ye),V[tf]=ee,V[Od]=ke,tw(V,ee,!1,!1),ee.stateNode=V;e:{switch(G=ay(ye,ke),ye){case"dialog":Xi("cancel",V),Xi("close",V),tt=ke;break;case"iframe":case"object":case"embed":Xi("load",V),tt=ke;break;case"video":case"audio":for(tt=0;tt<gd.length;tt++)Xi(gd[tt],V);tt=ke;break;case"source":Xi("error",V),tt=ke;break;case"img":case"image":case"link":Xi("error",V),Xi("load",V),tt=ke;break;case"details":Xi("toggle",V),tt=ke;break;case"input":Qm(V,ke),tt=$g(V,ke),Xi("invalid",V);break;case"option":tt=ke;break;case"select":V._wrapperState={wasMultiple:!!ke.multiple},tt=vo({},ke,{value:void 0}),Xi("invalid",V);break;case"textarea":qm(V,ke),tt=ty(V,ke),Xi("invalid",V);break;default:tt=ke}ny(ye,tt),H=tt;for(xt in H)if(H.hasOwnProperty(xt)){var e=H[xt];xt==="style"?kb(V,e):xt==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&Db(V,e)):xt==="children"?typeof e=="string"?(ye!=="textarea"||e!=="")&&Cd(V,e):typeof e=="number"&&Cd(V,""+e):xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&xt!=="autoFocus"&&(Ed.hasOwnProperty(xt)?e!=null&&xt==="onScroll"&&Xi("scroll",V):e!=null&&Zy(V,xt,e,G))}switch(ye){case"input":Ep(V),$m(V,ke,!1);break;case"textarea":Ep(V),ex(V);break;case"option":ke.value!=null&&V.setAttribute("value",""+Vc(ke.value));break;case"select":V.multiple=!!ke.multiple,xt=ke.value,xt!=null?xv(V,!!ke.multiple,xt,!1):ke.defaultValue!=null&&xv(V,!!ke.multiple,ke.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(V.onclick=s0)}switch(ye){case"button":case"input":case"select":case"textarea":ke=!!ke.autoFocus;break e;case"img":ke=!0;break e;default:ke=!1}}ke&&(ee.flags|=4)}ee.ref!==null&&(ee.flags|=512,ee.flags|=2097152)}return Ts(ee),null;case 6:if(V&&ee.stateNode!=null)nw(V,ee,V.memoizedProps,ke);else{if(typeof ke!="string"&&ee.stateNode===null)throw Error(ma(166));if(ye=Ah(Nd.current),Ah(nf.current),zp(ee)){if(ke=ee.stateNode,ye=ee.memoizedProps,ke[tf]=ee,(xt=ke.nodeValue!==ye)&&(V=bl,V!==null))switch(V.tag){case 3:kp(ke.nodeValue,ye,(V.mode&1)!==0);break;case 5:V.memoizedProps.suppressHydrationWarning!==!0&&kp(ke.nodeValue,ye,(V.mode&1)!==0)}xt&&(ee.flags|=4)}else ke=(ye.nodeType===9?ye:ye.ownerDocument).createTextNode(ke),ke[tf]=ee,ee.stateNode=ke}return Ts(ee),null;case 13:if(Zi(co),ke=ee.memoizedState,V===null||V.memoizedState!==null&&V.memoizedState.dehydrated!==null){if(eo&&xl!==null&&ee.mode&1&&!(ee.flags&128))w3(),Cv(),ee.flags|=98560,xt=!1;else if(xt=zp(ee),ke!==null&&ke.dehydrated!==null){if(V===null){if(!xt)throw Error(ma(318));if(xt=ee.memoizedState,xt=xt!==null?xt.dehydrated:null,!xt)throw Error(ma(317));xt[tf]=ee}else Cv(),!(ee.flags&128)&&(ee.memoizedState=null),ee.flags|=4;Ts(ee),xt=!1}else Pu!==null&&(Ny(Pu),Pu=null),xt=!0;if(!xt)return ee.flags&65536?ee:null}return ee.flags&128?(ee.lanes=ye,ee):(ke=ke!==null,ke!==(V!==null&&V.memoizedState!==null)&&ke&&(ee.child.flags|=8192,ee.mode&1&&(V===null||co.current&1?Bo===0&&(Bo=3):_1())),ee.updateQueue!==null&&(ee.flags|=4),Ts(ee),null);case 4:return Pv(),_y(V,ee),V===null&&kd(ee.stateNode.containerInfo),Ts(ee),null;case 10:return v1(ee.type._context),Ts(ee),null;case 17:return rl(ee.type)&&l0(),Ts(ee),null;case 19:if(Zi(co),xt=ee.memoizedState,xt===null)return Ts(ee),null;if(ke=(ee.flags&128)!==0,G=xt.rendering,G===null)if(ke)cd(xt,!1);else{if(Bo!==0||V!==null&&V.flags&128)for(V=ee.child;V!==null;){if(G=p0(V),G!==null){for(ee.flags|=128,cd(xt,!1),ke=G.updateQueue,ke!==null&&(ee.updateQueue=ke,ee.flags|=4),ee.subtreeFlags=0,ke=ye,ye=ee.child;ye!==null;)xt=ye,V=ke,xt.flags&=14680066,G=xt.alternate,G===null?(xt.childLanes=0,xt.lanes=V,xt.child=null,xt.subtreeFlags=0,xt.memoizedProps=null,xt.memoizedState=null,xt.updateQueue=null,xt.dependencies=null,xt.stateNode=null):(xt.childLanes=G.childLanes,xt.lanes=G.lanes,xt.child=G.child,xt.subtreeFlags=0,xt.deletions=null,xt.memoizedProps=G.memoizedProps,xt.memoizedState=G.memoizedState,xt.updateQueue=G.updateQueue,xt.type=G.type,V=G.dependencies,xt.dependencies=V===null?null:{lanes:V.lanes,firstContext:V.firstContext}),ye=ye.sibling;return Vi(co,co.current&1|2),ee.child}V=V.sibling}xt.tail!==null&&Eo()>Rv&&(ee.flags|=128,ke=!0,cd(xt,!1),ee.lanes=4194304)}else{if(!ke)if(V=p0(G),V!==null){if(ee.flags|=128,ke=!0,ye=V.updateQueue,ye!==null&&(ee.updateQueue=ye,ee.flags|=4),cd(xt,!0),xt.tail===null&&xt.tailMode==="hidden"&&!G.alternate&&!eo)return Ts(ee),null}else 2*Eo()-xt.renderingStartTime>Rv&&ye!==1073741824&&(ee.flags|=128,ke=!0,cd(xt,!1),ee.lanes=4194304);xt.isBackwards?(G.sibling=ee.child,ee.child=G):(ye=xt.last,ye!==null?ye.sibling=G:ee.child=G,xt.last=G)}return xt.tail!==null?(ee=xt.tail,xt.rendering=ee,xt.tail=ee.sibling,xt.renderingStartTime=Eo(),ee.sibling=null,ye=co.current,Vi(co,ke?ye&1|2:ye&1),ee):(Ts(ee),null);case 22:case 23:return P1(),ke=ee.memoizedState!==null,V!==null&&V.memoizedState!==null!==ke&&(ee.flags|=8192),ke&&ee.mode&1?ml&1073741824&&(Ts(ee),ee.subtreeFlags&6&&(ee.flags|=8192)):Ts(ee),null;case 24:return null;case 25:return null}throw Error(ma(156,ee.tag))}function Y6(V,ee){switch(u1(ee),ee.tag){case 1:return rl(ee.type)&&l0(),V=ee.flags,V&65536?(ee.flags=V&-65537|128,ee):null;case 3:return Pv(),Zi(tl),Zi(Ss),m1(),V=ee.flags,V&65536&&!(V&128)?(ee.flags=V&-65537|128,ee):null;case 5:return y1(ee),null;case 13:if(Zi(co),V=ee.memoizedState,V!==null&&V.dehydrated!==null){if(ee.alternate===null)throw Error(ma(340));Cv()}return V=ee.flags,V&65536?(ee.flags=V&-65537|128,ee):null;case 19:return Zi(co),null;case 4:return Pv(),null;case 10:return v1(ee.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var Np=!1,As=!1,j6=typeof WeakSet=="function"?WeakSet:Set,za=null;function yv(V,ee){var ye=V.ref;if(ye!==null)if(typeof ye=="function")try{ye(null)}catch(ke){xo(V,ee,ke)}else ye.current=null}function Ry(V,ee,ye){try{ye()}catch(ke){xo(V,ee,ke)}}var Gx=!1;function X6(V,ee){if(dy=a0,V=l3(),s1(V)){if("selectionStart"in V)var ye={start:V.selectionStart,end:V.selectionEnd};else e:{ye=(ye=V.ownerDocument)&&ye.defaultView||window;var ke=ye.getSelection&&ye.getSelection();if(ke&&ke.rangeCount!==0){ye=ke.anchorNode;var tt=ke.anchorOffset,xt=ke.focusNode;ke=ke.focusOffset;try{ye.nodeType,xt.nodeType}catch{ye=null;break e}var G=0,H=-1,e=-1,m=0,P=0,s=V,L=null;t:for(;;){for(var S;s!==ye||tt!==0&&s.nodeType!==3||(H=G+tt),s!==xt||ke!==0&&s.nodeType!==3||(e=G+ke),s.nodeType===3&&(G+=s.nodeValue.length),(S=s.firstChild)!==null;)L=s,s=S;for(;;){if(s===V)break t;if(L===ye&&++m===tt&&(H=G),L===xt&&++P===ke&&(e=G),(S=s.nextSibling)!==null)break;s=L,L=s.parentNode}s=S}ye=H===-1||e===-1?null:{start:H,end:e}}else ye=null}ye=ye||{start:0,end:0}}else ye=null;for(py={focusedElem:V,selectionRange:ye},a0=!1,za=ee;za!==null;)if(ee=za,V=ee.child,(ee.subtreeFlags&1028)!==0&&V!==null)V.return=ee,za=V;else for(;za!==null;){ee=za;try{var v=ee.alternate;if(ee.flags&1024)switch(ee.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=ee.stateNode,i=t.getSnapshotBeforeUpdate(ee.elementType===ee.type?p:Cu(ee.type,p),r);t.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var n=ee.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ma(163))}}catch(f){xo(ee,ee.return,f)}if(V=ee.sibling,V!==null){V.return=ee.return,za=V;break}za=ee.return}return v=Gx,Gx=!1,v}function Ad(V,ee,ye){var ke=ee.updateQueue;if(ke=ke!==null?ke.lastEffect:null,ke!==null){var tt=ke=ke.next;do{if((tt.tag&V)===V){var xt=tt.destroy;tt.destroy=void 0,xt!==void 0&&Ry(ee,ye,xt)}tt=tt.next}while(tt!==ke)}}function I0(V,ee){if(ee=ee.updateQueue,ee=ee!==null?ee.lastEffect:null,ee!==null){var ye=ee=ee.next;do{if((ye.tag&V)===V){var ke=ye.create;ye.destroy=ke()}ye=ye.next}while(ye!==ee)}}function Dy(V){var ee=V.ref;if(ee!==null){var ye=V.stateNode;switch(V.tag){case 5:V=ye;break;default:V=ye}typeof ee=="function"?ee(V):ee.current=V}}function aw(V){var ee=V.alternate;ee!==null&&(V.alternate=null,aw(ee)),V.child=null,V.deletions=null,V.sibling=null,V.tag===5&&(ee=V.stateNode,ee!==null&&(delete ee[tf],delete ee[Od],delete ee[my],delete ee[P6],delete ee[_6])),V.stateNode=null,V.return=null,V.dependencies=null,V.memoizedProps=null,V.memoizedState=null,V.pendingProps=null,V.stateNode=null,V.updateQueue=null}function iw(V){return V.tag===5||V.tag===3||V.tag===4}function Wx(V){e:for(;;){for(;V.sibling===null;){if(V.return===null||iw(V.return))return null;V=V.return}for(V.sibling.return=V.return,V=V.sibling;V.tag!==5&&V.tag!==6&&V.tag!==18;){if(V.flags&2||V.child===null||V.tag===4)continue e;V.child.return=V,V=V.child}if(!(V.flags&2))return V.stateNode}}function Iy(V,ee,ye){var ke=V.tag;if(ke===5||ke===6)V=V.stateNode,ee?ye.nodeType===8?ye.parentNode.insertBefore(V,ee):ye.insertBefore(V,ee):(ye.nodeType===8?(ee=ye.parentNode,ee.insertBefore(V,ye)):(ee=ye,ee.appendChild(V)),ye=ye._reactRootContainer,ye!=null||ee.onclick!==null||(ee.onclick=s0));else if(ke!==4&&(V=V.child,V!==null))for(Iy(V,ee,ye),V=V.sibling;V!==null;)Iy(V,ee,ye),V=V.sibling}function ky(V,ee,ye){var ke=V.tag;if(ke===5||ke===6)V=V.stateNode,ee?ye.insertBefore(V,ee):ye.appendChild(V);else if(ke!==4&&(V=V.child,V!==null))for(ky(V,ee,ye),V=V.sibling;V!==null;)ky(V,ee,ye),V=V.sibling}var ls=null,Lu=!1;function Sc(V,ee,ye){for(ye=ye.child;ye!==null;)ow(V,ee,ye),ye=ye.sibling}function ow(V,ee,ye){if(rf&&typeof rf.onCommitFiberUnmount=="function")try{rf.onCommitFiberUnmount(M0,ye)}catch{}switch(ye.tag){case 5:As||yv(ye,ee);case 6:var ke=ls,tt=Lu;ls=null,Sc(V,ee,ye),ls=ke,Lu=tt,ls!==null&&(Lu?(V=ls,ye=ye.stateNode,V.nodeType===8?V.parentNode.removeChild(ye):V.removeChild(ye)):ls.removeChild(ye.stateNode));break;case 18:ls!==null&&(Lu?(V=ls,ye=ye.stateNode,V.nodeType===8?zg(V.parentNode,ye):V.nodeType===1&&zg(V,ye),Rd(V)):zg(ls,ye.stateNode));break;case 4:ke=ls,tt=Lu,ls=ye.stateNode.containerInfo,Lu=!0,Sc(V,ee,ye),ls=ke,Lu=tt;break;case 0:case 11:case 14:case 15:if(!As&&(ke=ye.updateQueue,ke!==null&&(ke=ke.lastEffect,ke!==null))){tt=ke=ke.next;do{var xt=tt,G=xt.destroy;xt=xt.tag,G!==void 0&&(xt&2||xt&4)&&Ry(ye,ee,G),tt=tt.next}while(tt!==ke)}Sc(V,ee,ye);break;case 1:if(!As&&(yv(ye,ee),ke=ye.stateNode,typeof ke.componentWillUnmount=="function"))try{ke.props=ye.memoizedProps,ke.state=ye.memoizedState,ke.componentWillUnmount()}catch(H){xo(ye,ee,H)}Sc(V,ee,ye);break;case 21:Sc(V,ee,ye);break;case 22:ye.mode&1?(As=(ke=As)||ye.memoizedState!==null,Sc(V,ee,ye),As=ke):Sc(V,ee,ye);break;default:Sc(V,ee,ye)}}function Yx(V){var ee=V.updateQueue;if(ee!==null){V.updateQueue=null;var ye=V.stateNode;ye===null&&(ye=V.stateNode=new j6),ee.forEach(function(ke){var tt=rA.bind(null,V,ke);ye.has(ke)||(ye.add(ke),ke.then(tt,tt))})}}function Eu(V,ee){var ye=ee.deletions;if(ye!==null)for(var ke=0;ke<ye.length;ke++){var tt=ye[ke];try{var xt=V,G=ee,H=G;e:for(;H!==null;){switch(H.tag){case 5:ls=H.stateNode,Lu=!1;break e;case 3:ls=H.stateNode.containerInfo,Lu=!0;break e;case 4:ls=H.stateNode.containerInfo,Lu=!0;break e}H=H.return}if(ls===null)throw Error(ma(160));ow(xt,G,tt),ls=null,Lu=!1;var e=tt.alternate;e!==null&&(e.return=null),tt.return=null}catch(m){xo(tt,ee,m)}}if(ee.subtreeFlags&12854)for(ee=ee.child;ee!==null;)sw(ee,V),ee=ee.sibling}function sw(V,ee){var ye=V.alternate,ke=V.flags;switch(V.tag){case 0:case 11:case 14:case 15:if(Eu(ee,V),qu(V),ke&4){try{Ad(3,V,V.return),I0(3,V)}catch(p){xo(V,V.return,p)}try{Ad(5,V,V.return)}catch(p){xo(V,V.return,p)}}break;case 1:Eu(ee,V),qu(V),ke&512&&ye!==null&&yv(ye,ye.return);break;case 5:if(Eu(ee,V),qu(V),ke&512&&ye!==null&&yv(ye,ye.return),V.flags&32){var tt=V.stateNode;try{Cd(tt,"")}catch(p){xo(V,V.return,p)}}if(ke&4&&(tt=V.stateNode,tt!=null)){var xt=V.memoizedProps,G=ye!==null?ye.memoizedProps:xt,H=V.type,e=V.updateQueue;if(V.updateQueue=null,e!==null)try{H==="input"&&xt.type==="radio"&&xt.name!=null&&Pb(tt,xt),ay(H,G);var m=ay(H,xt);for(G=0;G<e.length;G+=2){var P=e[G],s=e[G+1];P==="style"?kb(tt,s):P==="dangerouslySetInnerHTML"?Db(tt,s):P==="children"?Cd(tt,s):Zy(tt,P,s,m)}switch(H){case"input":qg(tt,xt);break;case"textarea":_b(tt,xt);break;case"select":var L=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!xt.multiple;var S=xt.value;S!=null?xv(tt,!!xt.multiple,S,!1):L!==!!xt.multiple&&(xt.defaultValue!=null?xv(tt,!!xt.multiple,xt.defaultValue,!0):xv(tt,!!xt.multiple,xt.multiple?[]:"",!1))}tt[Od]=xt}catch(p){xo(V,V.return,p)}}break;case 6:if(Eu(ee,V),qu(V),ke&4){if(V.stateNode===null)throw Error(ma(162));tt=V.stateNode,xt=V.memoizedProps;try{tt.nodeValue=xt}catch(p){xo(V,V.return,p)}}break;case 3:if(Eu(ee,V),qu(V),ke&4&&ye!==null&&ye.memoizedState.isDehydrated)try{Rd(ee.containerInfo)}catch(p){xo(V,V.return,p)}break;case 4:Eu(ee,V),qu(V);break;case 13:Eu(ee,V),qu(V),tt=V.child,tt.flags&8192&&(xt=tt.memoizedState!==null,tt.stateNode.isHidden=xt,!xt||tt.alternate!==null&&tt.alternate.memoizedState!==null||(C1=Eo())),ke&4&&Yx(V);break;case 22:if(P=ye!==null&&ye.memoizedState!==null,V.mode&1?(As=(m=As)||P,Eu(ee,V),As=m):Eu(ee,V),qu(V),ke&8192){if(m=V.memoizedState!==null,(V.stateNode.isHidden=m)&&!P&&V.mode&1)for(za=V,P=V.child;P!==null;){for(s=za=P;za!==null;){switch(L=za,S=L.child,L.tag){case 0:case 11:case 14:case 15:Ad(4,L,L.return);break;case 1:yv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){ke=L,ye=L.return;try{ee=ke,v.props=ee.memoizedProps,v.state=ee.memoizedState,v.componentWillUnmount()}catch(p){xo(ke,ye,p)}}break;case 5:yv(L,L.return);break;case 22:if(L.memoizedState!==null){Xx(s);continue}}S!==null?(S.return=L,za=S):Xx(s)}P=P.sibling}e:for(P=null,s=V;;){if(s.tag===5){if(P===null){P=s;try{tt=s.stateNode,m?(xt=tt.style,typeof xt.setProperty=="function"?xt.setProperty("display","none","important"):xt.display="none"):(H=s.stateNode,e=s.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=Ib("display",G))}catch(p){xo(V,V.return,p)}}}else if(s.tag===6){if(P===null)try{s.stateNode.nodeValue=m?"":s.memoizedProps}catch(p){xo(V,V.return,p)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===V)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===V)break e;for(;s.sibling===null;){if(s.return===null||s.return===V)break e;P===s&&(P=null),s=s.return}P===s&&(P=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:Eu(ee,V),qu(V),ke&4&&Yx(V);break;case 21:break;default:Eu(ee,V),qu(V)}}function qu(V){var ee=V.flags;if(ee&2){try{e:{for(var ye=V.return;ye!==null;){if(iw(ye)){var ke=ye;break e}ye=ye.return}throw Error(ma(160))}switch(ke.tag){case 5:var tt=ke.stateNode;ke.flags&32&&(Cd(tt,""),ke.flags&=-33);var xt=Wx(V);ky(V,xt,tt);break;case 3:case 4:var G=ke.stateNode.containerInfo,H=Wx(V);Iy(V,H,G);break;default:throw Error(ma(161))}}catch(e){xo(V,V.return,e)}V.flags&=-3}ee&4096&&(V.flags&=-4097)}function Z6(V,ee,ye){za=V,lw(V)}function lw(V,ee,ye){for(var ke=(V.mode&1)!==0;za!==null;){var tt=za,xt=tt.child;if(tt.tag===22&&ke){var G=tt.memoizedState!==null||Np;if(!G){var H=tt.alternate,e=H!==null&&H.memoizedState!==null||As;H=Np;var m=As;if(Np=G,(As=e)&&!m)for(za=tt;za!==null;)G=za,e=G.child,G.tag===22&&G.memoizedState!==null?Zx(tt):e!==null?(e.return=G,za=e):Zx(tt);for(;xt!==null;)za=xt,lw(xt),xt=xt.sibling;za=tt,Np=H,As=m}jx(V)}else tt.subtreeFlags&8772&&xt!==null?(xt.return=tt,za=xt):jx(V)}}function jx(V){for(;za!==null;){var ee=za;if(ee.flags&8772){var ye=ee.alternate;try{if(ee.flags&8772)switch(ee.tag){case 0:case 11:case 15:As||I0(5,ee);break;case 1:var ke=ee.stateNode;if(ee.flags&4&&!As)if(ye===null)ke.componentDidMount();else{var tt=ee.elementType===ee.type?ye.memoizedProps:Cu(ee.type,ye.memoizedProps);ke.componentDidUpdate(tt,ye.memoizedState,ke.__reactInternalSnapshotBeforeUpdate)}var xt=ee.updateQueue;xt!==null&&_x(ee,xt,ke);break;case 3:var G=ee.updateQueue;if(G!==null){if(ye=null,ee.child!==null)switch(ee.child.tag){case 5:ye=ee.child.stateNode;break;case 1:ye=ee.child.stateNode}_x(ee,G,ye)}break;case 5:var H=ee.stateNode;if(ye===null&&ee.flags&4){ye=H;var e=ee.memoizedProps;switch(ee.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&ye.focus();break;case"img":e.src&&(ye.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ee.memoizedState===null){var m=ee.alternate;if(m!==null){var P=m.memoizedState;if(P!==null){var s=P.dehydrated;s!==null&&Rd(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ma(163))}As||ee.flags&512&&Dy(ee)}catch(L){xo(ee,ee.return,L)}}if(ee===V){za=null;break}if(ye=ee.sibling,ye!==null){ye.return=ee.return,za=ye;break}za=ee.return}}function Xx(V){for(;za!==null;){var ee=za;if(ee===V){za=null;break}var ye=ee.sibling;if(ye!==null){ye.return=ee.return,za=ye;break}za=ee.return}}function Zx(V){for(;za!==null;){var ee=za;try{switch(ee.tag){case 0:case 11:case 15:var ye=ee.return;try{I0(4,ee)}catch(e){xo(ee,ye,e)}break;case 1:var ke=ee.stateNode;if(typeof ke.componentDidMount=="function"){var tt=ee.return;try{ke.componentDidMount()}catch(e){xo(ee,tt,e)}}var xt=ee.return;try{Dy(ee)}catch(e){xo(ee,xt,e)}break;case 5:var G=ee.return;try{Dy(ee)}catch(e){xo(ee,G,e)}}}catch(e){xo(ee,ee.return,e)}if(ee===V){za=null;break}var H=ee.sibling;if(H!==null){H.return=ee.return,za=H;break}za=ee.return}}var K6=Math.ceil,m0=Uf.ReactCurrentDispatcher,M1=Uf.ReactCurrentOwner,Ql=Uf.ReactCurrentBatchConfig,Ai=0,Xo=null,Io=null,us=0,ml=0,mv=Wc(0),Bo=0,Hd=null,_h=0,k0=0,E1=0,Sd=null,qs=null,C1=0,Rv=1/0,Rf=null,x0=!1,zy=null,Nc=null,Bp=!1,Rc=null,b0=0,Md=0,Oy=null,Jp=-1,Qp=0;function Os(){return Ai&6?Eo():Jp!==-1?Jp:Jp=Eo()}function Bc(V){return V.mode&1?Ai&2&&us!==0?us&-us:D6.transition!==null?(Qp===0&&(Qp=jb()),Qp):(V=Di,V!==0||(V=window.event,V=V===void 0?16:qb(V.type)),V):1}function Ru(V,ee,ye,ke){if(50<Md)throw Md=0,Oy=null,Error(ma(185));jd(V,ye,ke),(!(Ai&2)||V!==Xo)&&(V===Xo&&(!(Ai&2)&&(k0|=ye),Bo===4&&Pc(V,us)),nl(V,ke),ye===1&&Ai===0&&!(ee.mode&1)&&(Rv=Eo()+500,_0&&Yc()))}function nl(V,ee){var ye=V.callbackNode;D5(V,ee);var ke=n0(V,V===Xo?us:0);if(ke===0)ye!==null&&nx(ye),V.callbackNode=null,V.callbackPriority=0;else if(ee=ke&-ke,V.callbackPriority!==ee){if(ye!=null&&nx(ye),ee===1)V.tag===0?R6(Kx.bind(null,V)):m3(Kx.bind(null,V)),C6(function(){!(Ai&6)&&Yc()}),ye=null;else{switch(Xb(ke)){case 1:ye=qy;break;case 4:ye=Wb;break;case 16:ye=r0;break;case 536870912:ye=Yb;break;default:ye=r0}ye=gw(ye,uw.bind(null,V))}V.callbackPriority=ee,V.callbackNode=ye}}function uw(V,ee){if(Jp=-1,Qp=0,Ai&6)throw Error(ma(327));var ye=V.callbackNode;if(Sv()&&V.callbackNode!==ye)return null;var ke=n0(V,V===Xo?us:0);if(ke===0)return null;if(ke&30||ke&V.expiredLanes||ee)ee=w0(V,ke);else{ee=ke;var tt=Ai;Ai|=2;var xt=cw();(Xo!==V||us!==ee)&&(Rf=null,Rv=Eo()+500,Sh(V,ee));do try{$6();break}catch(H){fw(V,H)}while(!0);h1(),m0.current=xt,Ai=tt,Io!==null?ee=0:(Xo=null,us=0,ee=Bo)}if(ee!==0){if(ee===2&&(tt=uy(V),tt!==0&&(ke=tt,ee=Fy(V,tt))),ee===1)throw ye=Hd,Sh(V,0),Pc(V,ke),nl(V,Eo()),ye;if(ee===6)Pc(V,ke);else{if(tt=V.current.alternate,!(ke&30)&&!J6(tt)&&(ee=w0(V,ke),ee===2&&(xt=uy(V),xt!==0&&(ke=xt,ee=Fy(V,xt))),ee===1))throw ye=Hd,Sh(V,0),Pc(V,ke),nl(V,Eo()),ye;switch(V.finishedWork=tt,V.finishedLanes=ke,ee){case 0:case 1:throw Error(ma(345));case 2:bh(V,qs,Rf);break;case 3:if(Pc(V,ke),(ke&130023424)===ke&&(ee=C1+500-Eo(),10<ee)){if(n0(V,0)!==0)break;if(tt=V.suspendedLanes,(tt&ke)!==ke){Os(),V.pingedLanes|=V.suspendedLanes&tt;break}V.timeoutHandle=yy(bh.bind(null,V,qs,Rf),ee);break}bh(V,qs,Rf);break;case 4:if(Pc(V,ke),(ke&4194240)===ke)break;for(ee=V.eventTimes,tt=-1;0<ke;){var G=31-_u(ke);xt=1<<G,G=ee[G],G>tt&&(tt=G),ke&=~xt}if(ke=tt,ke=Eo()-ke,ke=(120>ke?120:480>ke?480:1080>ke?1080:1920>ke?1920:3e3>ke?3e3:4320>ke?4320:1960*K6(ke/1960))-ke,10<ke){V.timeoutHandle=yy(bh.bind(null,V,qs,Rf),ke);break}bh(V,qs,Rf);break;case 5:bh(V,qs,Rf);break;default:throw Error(ma(329))}}}return nl(V,Eo()),V.callbackNode===ye?uw.bind(null,V):null}function Fy(V,ee){var ye=Sd;return V.current.memoizedState.isDehydrated&&(Sh(V,ee).flags|=256),V=w0(V,ee),V!==2&&(ee=qs,qs=ye,ee!==null&&Ny(ee)),V}function Ny(V){qs===null?qs=V:qs.push.apply(qs,V)}function J6(V){for(var ee=V;;){if(ee.flags&16384){var ye=ee.updateQueue;if(ye!==null&&(ye=ye.stores,ye!==null))for(var ke=0;ke<ye.length;ke++){var tt=ye[ke],xt=tt.getSnapshot;tt=tt.value;try{if(!Du(xt(),tt))return!1}catch{return!1}}}if(ye=ee.child,ee.subtreeFlags&16384&&ye!==null)ye.return=ee,ee=ye;else{if(ee===V)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===V)return!0;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}return!0}function Pc(V,ee){for(ee&=~E1,ee&=~k0,V.suspendedLanes|=ee,V.pingedLanes&=~ee,V=V.expirationTimes;0<ee;){var ye=31-_u(ee),ke=1<<ye;V[ye]=-1,ee&=~ke}}function Kx(V){if(Ai&6)throw Error(ma(327));Sv();var ee=n0(V,0);if(!(ee&1))return nl(V,Eo()),null;var ye=w0(V,ee);if(V.tag!==0&&ye===2){var ke=uy(V);ke!==0&&(ee=ke,ye=Fy(V,ke))}if(ye===1)throw ye=Hd,Sh(V,0),Pc(V,ee),nl(V,Eo()),ye;if(ye===6)throw Error(ma(345));return V.finishedWork=V.current.alternate,V.finishedLanes=ee,bh(V,qs,Rf),nl(V,Eo()),null}function L1(V,ee){var ye=Ai;Ai|=1;try{return V(ee)}finally{Ai=ye,Ai===0&&(Rv=Eo()+500,_0&&Yc())}}function Rh(V){Rc!==null&&Rc.tag===0&&!(Ai&6)&&Sv();var ee=Ai;Ai|=1;var ye=Ql.transition,ke=Di;try{if(Ql.transition=null,Di=1,V)return V()}finally{Di=ke,Ql.transition=ye,Ai=ee,!(Ai&6)&&Yc()}}function P1(){ml=mv.current,Zi(mv)}function Sh(V,ee){V.finishedWork=null,V.finishedLanes=0;var ye=V.timeoutHandle;if(ye!==-1&&(V.timeoutHandle=-1,E6(ye)),Io!==null)for(ye=Io.return;ye!==null;){var ke=ye;switch(u1(ke),ke.tag){case 1:ke=ke.type.childContextTypes,ke!=null&&l0();break;case 3:Pv(),Zi(tl),Zi(Ss),m1();break;case 5:y1(ke);break;case 4:Pv();break;case 13:Zi(co);break;case 19:Zi(co);break;case 10:v1(ke.type._context);break;case 22:case 23:P1()}ye=ye.return}if(Xo=V,Io=V=Uc(V.current,null),us=ml=ee,Bo=0,Hd=null,E1=k0=_h=0,qs=Sd=null,Th!==null){for(ee=0;ee<Th.length;ee++)if(ye=Th[ee],ke=ye.interleaved,ke!==null){ye.interleaved=null;var tt=ke.next,xt=ye.pending;if(xt!==null){var G=xt.next;xt.next=tt,ke.next=G}ye.pending=ke}Th=null}return V}function fw(V,ee){do{var ye=Io;try{if(h1(),Xp.current=y0,g0){for(var ke=ho.memoizedState;ke!==null;){var tt=ke.queue;tt!==null&&(tt.pending=null),ke=ke.next}g0=!1}if(Ph=0,jo=No=ho=null,Td=!1,Bd=0,M1.current=null,ye===null||ye.return===null){Bo=1,Hd=ee,Io=null;break}e:{var xt=V,G=ye.return,H=ye,e=ee;if(ee=us,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var m=e,P=H,s=P.tag;if(!(P.mode&1)&&(s===0||s===11||s===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var S=Ox(G);if(S!==null){S.flags&=-257,Fx(S,G,H,xt,ee),S.mode&1&&zx(xt,m,ee),ee=S,e=m;var v=ee.updateQueue;if(v===null){var p=new Set;p.add(e),ee.updateQueue=p}else v.add(e);break e}else{if(!(ee&1)){zx(xt,m,ee),_1();break e}e=Error(ma(426))}}else if(eo&&H.mode&1){var r=Ox(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),Fx(r,G,H,xt,ee),f1(_v(e,H));break e}}xt=e=_v(e,H),Bo!==4&&(Bo=2),Sd===null?Sd=[xt]:Sd.push(xt),xt=G;do{switch(xt.tag){case 3:xt.flags|=65536,ee&=-ee,xt.lanes|=ee;var t=X3(xt,e,ee);Px(xt,t);break e;case 1:H=e;var i=xt.type,n=xt.stateNode;if(!(xt.flags&128)&&(typeof i.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Nc===null||!Nc.has(n)))){xt.flags|=65536,ee&=-ee,xt.lanes|=ee;var f=Z3(xt,H,ee);Px(xt,f);break e}}xt=xt.return}while(xt!==null)}vw(ye)}catch(u){ee=u,Io===ye&&ye!==null&&(Io=ye=ye.return);continue}break}while(!0)}function cw(){var V=m0.current;return m0.current=y0,V===null?y0:V}function _1(){(Bo===0||Bo===3||Bo===2)&&(Bo=4),Xo===null||!(_h&268435455)&&!(k0&268435455)||Pc(Xo,us)}function w0(V,ee){var ye=Ai;Ai|=2;var ke=cw();(Xo!==V||us!==ee)&&(Rf=null,Sh(V,ee));do try{Q6();break}catch(tt){fw(V,tt)}while(!0);if(h1(),Ai=ye,m0.current=ke,Io!==null)throw Error(ma(261));return Xo=null,us=0,Bo}function Q6(){for(;Io!==null;)hw(Io)}function $6(){for(;Io!==null&&!A5();)hw(Io)}function hw(V){var ee=pw(V.alternate,V,ml);V.memoizedProps=V.pendingProps,ee===null?vw(V):Io=ee,M1.current=null}function vw(V){var ee=V;do{var ye=ee.alternate;if(V=ee.return,ee.flags&32768){if(ye=Y6(ye,ee),ye!==null){ye.flags&=32767,Io=ye;return}if(V!==null)V.flags|=32768,V.subtreeFlags=0,V.deletions=null;else{Bo=6,Io=null;return}}else if(ye=W6(ye,ee,ml),ye!==null){Io=ye;return}if(ee=ee.sibling,ee!==null){Io=ee;return}Io=ee=V}while(ee!==null);Bo===0&&(Bo=5)}function bh(V,ee,ye){var ke=Di,tt=Ql.transition;try{Ql.transition=null,Di=1,q6(V,ee,ye,ke)}finally{Ql.transition=tt,Di=ke}return null}function q6(V,ee,ye,ke){do Sv();while(Rc!==null);if(Ai&6)throw Error(ma(327));ye=V.finishedWork;var tt=V.finishedLanes;if(ye===null)return null;if(V.finishedWork=null,V.finishedLanes=0,ye===V.current)throw Error(ma(177));V.callbackNode=null,V.callbackPriority=0;var xt=ye.lanes|ye.childLanes;if(I5(V,xt),V===Xo&&(Io=Xo=null,us=0),!(ye.subtreeFlags&2064)&&!(ye.flags&2064)||Bp||(Bp=!0,gw(r0,function(){return Sv(),null})),xt=(ye.flags&15990)!==0,ye.subtreeFlags&15990||xt){xt=Ql.transition,Ql.transition=null;var G=Di;Di=1;var H=Ai;Ai|=4,M1.current=null,X6(V,ye),sw(ye,V),x6(py),a0=!!dy,py=dy=null,V.current=ye,Z6(ye),S5(),Ai=H,Di=G,Ql.transition=xt}else V.current=ye;if(Bp&&(Bp=!1,Rc=V,b0=tt),xt=V.pendingLanes,xt===0&&(Nc=null),C5(ye.stateNode),nl(V,Eo()),ee!==null)for(ke=V.onRecoverableError,ye=0;ye<ee.length;ye++)tt=ee[ye],ke(tt.value,{componentStack:tt.stack,digest:tt.digest});if(x0)throw x0=!1,V=zy,zy=null,V;return b0&1&&V.tag!==0&&Sv(),xt=V.pendingLanes,xt&1?V===Oy?Md++:(Md=0,Oy=V):Md=0,Yc(),null}function Sv(){if(Rc!==null){var V=Xb(b0),ee=Ql.transition,ye=Di;try{if(Ql.transition=null,Di=16>V?16:V,Rc===null)var ke=!1;else{if(V=Rc,Rc=null,b0=0,Ai&6)throw Error(ma(331));var tt=Ai;for(Ai|=4,za=V.current;za!==null;){var xt=za,G=xt.child;if(za.flags&16){var H=xt.deletions;if(H!==null){for(var e=0;e<H.length;e++){var m=H[e];for(za=m;za!==null;){var P=za;switch(P.tag){case 0:case 11:case 15:Ad(8,P,xt)}var s=P.child;if(s!==null)s.return=P,za=s;else for(;za!==null;){P=za;var L=P.sibling,S=P.return;if(aw(P),P===m){za=null;break}if(L!==null){L.return=S,za=L;break}za=S}}}var v=xt.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}za=xt}}if(xt.subtreeFlags&2064&&G!==null)G.return=xt,za=G;else e:for(;za!==null;){if(xt=za,xt.flags&2048)switch(xt.tag){case 0:case 11:case 15:Ad(9,xt,xt.return)}var t=xt.sibling;if(t!==null){t.return=xt.return,za=t;break e}za=xt.return}}var i=V.current;for(za=i;za!==null;){G=za;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,za=n;else e:for(G=i;za!==null;){if(H=za,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:I0(9,H)}}catch(u){xo(H,H.return,u)}if(H===G){za=null;break e}var f=H.sibling;if(f!==null){f.return=H.return,za=f;break e}za=H.return}}if(Ai=tt,Yc(),rf&&typeof rf.onPostCommitFiberRoot=="function")try{rf.onPostCommitFiberRoot(M0,V)}catch{}ke=!0}return ke}finally{Di=ye,Ql.transition=ee}}return!1}function Jx(V,ee,ye){ee=_v(ye,ee),ee=X3(V,ee,1),V=Fc(V,ee,1),ee=Os(),V!==null&&(jd(V,1,ee),nl(V,ee))}function xo(V,ee,ye){if(V.tag===3)Jx(V,V,ye);else for(;ee!==null;){if(ee.tag===3){Jx(ee,V,ye);break}else if(ee.tag===1){var ke=ee.stateNode;if(typeof ee.type.getDerivedStateFromError=="function"||typeof ke.componentDidCatch=="function"&&(Nc===null||!Nc.has(ke))){V=_v(ye,V),V=Z3(ee,V,1),ee=Fc(ee,V,1),V=Os(),ee!==null&&(jd(ee,1,V),nl(ee,V));break}}ee=ee.return}}function eA(V,ee,ye){var ke=V.pingCache;ke!==null&&ke.delete(ee),ee=Os(),V.pingedLanes|=V.suspendedLanes&ye,Xo===V&&(us&ye)===ye&&(Bo===4||Bo===3&&(us&130023424)===us&&500>Eo()-C1?Sh(V,0):E1|=ye),nl(V,ee)}function dw(V,ee){ee===0&&(V.mode&1?(ee=Pp,Pp<<=1,!(Pp&130023424)&&(Pp=4194304)):ee=1);var ye=Os();V=Nf(V,ee),V!==null&&(jd(V,ee,ye),nl(V,ye))}function tA(V){var ee=V.memoizedState,ye=0;ee!==null&&(ye=ee.retryLane),dw(V,ye)}function rA(V,ee){var ye=0;switch(V.tag){case 13:var ke=V.stateNode,tt=V.memoizedState;tt!==null&&(ye=tt.retryLane);break;case 19:ke=V.stateNode;break;default:throw Error(ma(314))}ke!==null&&ke.delete(ee),dw(V,ye)}var pw;pw=function(V,ee,ye){if(V!==null)if(V.memoizedProps!==ee.pendingProps||tl.current)el=!0;else{if(!(V.lanes&ye)&&!(ee.flags&128))return el=!1,G6(V,ee,ye);el=!!(V.flags&131072)}else el=!1,eo&&ee.flags&1048576&&x3(ee,c0,ee.index);switch(ee.lanes=0,ee.tag){case 2:var ke=ee.type;Kp(V,ee),V=ee.pendingProps;var tt=Ev(ee,Ss.current);Av(ee,ye),tt=b1(null,ee,ke,V,tt,ye);var xt=w1();return ee.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?(ee.tag=1,ee.memoizedState=null,ee.updateQueue=null,rl(ke)?(xt=!0,u0(ee)):xt=!1,ee.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,p1(ee),tt.updater=D0,ee.stateNode=tt,tt._reactInternals=ee,Sy(ee,ke,V,ye),ee=Cy(null,ee,ke,!0,xt,ye)):(ee.tag=0,eo&&xt&&l1(ee),zs(null,ee,tt,ye),ee=ee.child),ee;case 16:ke=ee.elementType;e:{switch(Kp(V,ee),V=ee.pendingProps,tt=ke._init,ke=tt(ke._payload),ee.type=ke,tt=ee.tag=aA(ke),V=Cu(ke,V),tt){case 0:ee=Ey(null,ee,ke,V,ye);break e;case 1:ee=Ux(null,ee,ke,V,ye);break e;case 11:ee=Nx(null,ee,ke,V,ye);break e;case 14:ee=Bx(null,ee,ke,Cu(ke.type,V),ye);break e}throw Error(ma(306,ke,""))}return ee;case 0:return ke=ee.type,tt=ee.pendingProps,tt=ee.elementType===ke?tt:Cu(ke,tt),Ey(V,ee,ke,tt,ye);case 1:return ke=ee.type,tt=ee.pendingProps,tt=ee.elementType===ke?tt:Cu(ke,tt),Ux(V,ee,ke,tt,ye);case 3:e:{if($3(ee),V===null)throw Error(ma(387));ke=ee.pendingProps,xt=ee.memoizedState,tt=xt.element,M3(V,ee),d0(ee,ke,null,ye);var G=ee.memoizedState;if(ke=G.element,xt.isDehydrated)if(xt={element:ke,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},ee.updateQueue.baseState=xt,ee.memoizedState=xt,ee.flags&256){tt=_v(Error(ma(423)),ee),ee=Vx(V,ee,ke,ye,tt);break e}else if(ke!==tt){tt=_v(Error(ma(424)),ee),ee=Vx(V,ee,ke,ye,tt);break e}else for(xl=Oc(ee.stateNode.containerInfo.firstChild),bl=ee,eo=!0,Pu=null,ye=A3(ee,null,ke,ye),ee.child=ye;ye;)ye.flags=ye.flags&-3|4096,ye=ye.sibling;else{if(Cv(),ke===tt){ee=Bf(V,ee,ye);break e}zs(V,ee,ke,ye)}ee=ee.child}return ee;case 5:return E3(ee),V===null&&wy(ee),ke=ee.type,tt=ee.pendingProps,xt=V!==null?V.memoizedProps:null,G=tt.children,gy(ke,tt)?G=null:xt!==null&&gy(ke,xt)&&(ee.flags|=32),Q3(V,ee),zs(V,ee,G,ye),ee.child;case 6:return V===null&&wy(ee),null;case 13:return q3(V,ee,ye);case 4:return g1(ee,ee.stateNode.containerInfo),ke=ee.pendingProps,V===null?ee.child=Lv(ee,null,ke,ye):zs(V,ee,ke,ye),ee.child;case 11:return ke=ee.type,tt=ee.pendingProps,tt=ee.elementType===ke?tt:Cu(ke,tt),Nx(V,ee,ke,tt,ye);case 7:return zs(V,ee,ee.pendingProps,ye),ee.child;case 8:return zs(V,ee,ee.pendingProps.children,ye),ee.child;case 12:return zs(V,ee,ee.pendingProps.children,ye),ee.child;case 10:e:{if(ke=ee.type._context,tt=ee.pendingProps,xt=ee.memoizedProps,G=tt.value,Vi(h0,ke._currentValue),ke._currentValue=G,xt!==null)if(Du(xt.value,G)){if(xt.children===tt.children&&!tl.current){ee=Bf(V,ee,ye);break e}}else for(xt=ee.child,xt!==null&&(xt.return=ee);xt!==null;){var H=xt.dependencies;if(H!==null){G=xt.child;for(var e=H.firstContext;e!==null;){if(e.context===ke){if(xt.tag===1){e=zf(-1,ye&-ye),e.tag=2;var m=xt.updateQueue;if(m!==null){m=m.shared;var P=m.pending;P===null?e.next=e:(e.next=P.next,P.next=e),m.pending=e}}xt.lanes|=ye,e=xt.alternate,e!==null&&(e.lanes|=ye),Ty(xt.return,ye,ee),H.lanes|=ye;break}e=e.next}}else if(xt.tag===10)G=xt.type===ee.type?null:xt.child;else if(xt.tag===18){if(G=xt.return,G===null)throw Error(ma(341));G.lanes|=ye,H=G.alternate,H!==null&&(H.lanes|=ye),Ty(G,ye,ee),G=xt.sibling}else G=xt.child;if(G!==null)G.return=xt;else for(G=xt;G!==null;){if(G===ee){G=null;break}if(xt=G.sibling,xt!==null){xt.return=G.return,G=xt;break}G=G.return}xt=G}zs(V,ee,tt.children,ye),ee=ee.child}return ee;case 9:return tt=ee.type,ke=ee.pendingProps.children,Av(ee,ye),tt=$l(tt),ke=ke(tt),ee.flags|=1,zs(V,ee,ke,ye),ee.child;case 14:return ke=ee.type,tt=Cu(ke,ee.pendingProps),tt=Cu(ke.type,tt),Bx(V,ee,ke,tt,ye);case 15:return K3(V,ee,ee.type,ee.pendingProps,ye);case 17:return ke=ee.type,tt=ee.pendingProps,tt=ee.elementType===ke?tt:Cu(ke,tt),Kp(V,ee),ee.tag=1,rl(ke)?(V=!0,u0(ee)):V=!1,Av(ee,ye),j3(ee,ke,tt),Sy(ee,ke,tt,ye),Cy(null,ee,ke,!0,V,ye);case 19:return ew(V,ee,ye);case 22:return J3(V,ee,ye)}throw Error(ma(156,ee.tag))};function gw(V,ee){return Gb(V,ee)}function nA(V,ee,ye,ke){this.tag=V,this.key=ye,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ee,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ke,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jl(V,ee,ye,ke){return new nA(V,ee,ye,ke)}function R1(V){return V=V.prototype,!(!V||!V.isReactComponent)}function aA(V){if(typeof V=="function")return R1(V)?1:0;if(V!=null){if(V=V.$$typeof,V===Jy)return 11;if(V===Qy)return 14}return 2}function Uc(V,ee){var ye=V.alternate;return ye===null?(ye=Jl(V.tag,ee,V.key,V.mode),ye.elementType=V.elementType,ye.type=V.type,ye.stateNode=V.stateNode,ye.alternate=V,V.alternate=ye):(ye.pendingProps=ee,ye.type=V.type,ye.flags=0,ye.subtreeFlags=0,ye.deletions=null),ye.flags=V.flags&14680064,ye.childLanes=V.childLanes,ye.lanes=V.lanes,ye.child=V.child,ye.memoizedProps=V.memoizedProps,ye.memoizedState=V.memoizedState,ye.updateQueue=V.updateQueue,ee=V.dependencies,ye.dependencies=ee===null?null:{lanes:ee.lanes,firstContext:ee.firstContext},ye.sibling=V.sibling,ye.index=V.index,ye.ref=V.ref,ye}function $p(V,ee,ye,ke,tt,xt){var G=2;if(ke=V,typeof V=="function")R1(V)&&(G=1);else if(typeof V=="string")G=5;else e:switch(V){case lv:return Mh(ye.children,tt,xt,ee);case Ky:G=8,tt|=8;break;case Zg:return V=Jl(12,ye,ee,tt|2),V.elementType=Zg,V.lanes=xt,V;case Kg:return V=Jl(13,ye,ee,tt),V.elementType=Kg,V.lanes=xt,V;case Jg:return V=Jl(19,ye,ee,tt),V.elementType=Jg,V.lanes=xt,V;case Eb:return z0(ye,tt,xt,ee);default:if(typeof V=="object"&&V!==null)switch(V.$$typeof){case Sb:G=10;break e;case Mb:G=9;break e;case Jy:G=11;break e;case Qy:G=14;break e;case Mc:G=16,ke=null;break e}throw Error(ma(130,V==null?V:typeof V,""))}return ee=Jl(G,ye,ee,tt),ee.elementType=V,ee.type=ke,ee.lanes=xt,ee}function Mh(V,ee,ye,ke){return V=Jl(7,V,ke,ee),V.lanes=ye,V}function z0(V,ee,ye,ke){return V=Jl(22,V,ke,ee),V.elementType=Eb,V.lanes=ye,V.stateNode={isHidden:!1},V}function Gg(V,ee,ye){return V=Jl(6,V,null,ee),V.lanes=ye,V}function Wg(V,ee,ye){return ee=Jl(4,V.children!==null?V.children:[],V.key,ee),ee.lanes=ye,ee.stateNode={containerInfo:V.containerInfo,pendingChildren:null,implementation:V.implementation},ee}function iA(V,ee,ye,ke,tt){this.tag=ee,this.containerInfo=V,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sg(0),this.expirationTimes=Sg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sg(0),this.identifierPrefix=ke,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function D1(V,ee,ye,ke,tt,xt,G,H,e){return V=new iA(V,ee,ye,H,e),ee===1?(ee=1,xt===!0&&(ee|=8)):ee=0,xt=Jl(3,null,null,ee),V.current=xt,xt.stateNode=V,xt.memoizedState={element:ke,isDehydrated:ye,cache:null,transitions:null,pendingSuspenseBoundaries:null},p1(xt),V}function oA(V,ee,ye){var ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sv,key:ke==null?null:""+ke,children:V,containerInfo:ee,implementation:ye}}function yw(V){if(!V)return Hc;V=V._reactInternals;e:{if(Ih(V)!==V||V.tag!==1)throw Error(ma(170));var ee=V;do{switch(ee.tag){case 3:ee=ee.stateNode.context;break e;case 1:if(rl(ee.type)){ee=ee.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ee=ee.return}while(ee!==null);throw Error(ma(171))}if(V.tag===1){var ye=V.type;if(rl(ye))return y3(V,ye,ee)}return ee}function mw(V,ee,ye,ke,tt,xt,G,H,e){return V=D1(ye,ke,!0,V,tt,xt,G,H,e),V.context=yw(null),ye=V.current,ke=Os(),tt=Bc(ye),xt=zf(ke,tt),xt.callback=ee??null,Fc(ye,xt,tt),V.current.lanes=tt,jd(V,tt,ke),nl(V,ke),V}function O0(V,ee,ye,ke){var tt=ee.current,xt=Os(),G=Bc(tt);return ye=yw(ye),ee.context===null?ee.context=ye:ee.pendingContext=ye,ee=zf(xt,G),ee.payload={element:V},ke=ke===void 0?null:ke,ke!==null&&(ee.callback=ke),V=Fc(tt,ee,G),V!==null&&(Ru(V,tt,G,xt),jp(V,tt,G)),G}function T0(V){if(V=V.current,!V.child)return null;switch(V.child.tag){case 5:return V.child.stateNode;default:return V.child.stateNode}}function Qx(V,ee){if(V=V.memoizedState,V!==null&&V.dehydrated!==null){var ye=V.retryLane;V.retryLane=ye!==0&&ye<ee?ye:ee}}function I1(V,ee){Qx(V,ee),(V=V.alternate)&&Qx(V,ee)}function sA(){return null}var xw=typeof reportError=="function"?reportError:function(V){console.error(V)};function k1(V){this._internalRoot=V}F0.prototype.render=k1.prototype.render=function(V){var ee=this._internalRoot;if(ee===null)throw Error(ma(409));O0(V,ee,null,null)};F0.prototype.unmount=k1.prototype.unmount=function(){var V=this._internalRoot;if(V!==null){this._internalRoot=null;var ee=V.containerInfo;Rh(function(){O0(null,V,null,null)}),ee[Ff]=null}};function F0(V){this._internalRoot=V}F0.prototype.unstable_scheduleHydration=function(V){if(V){var ee=Jb();V={blockedOn:null,target:V,priority:ee};for(var ye=0;ye<Lc.length&&ee!==0&&ee<Lc[ye].priority;ye++);Lc.splice(ye,0,V),ye===0&&$b(V)}};function z1(V){return!(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)}function N0(V){return!(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11&&(V.nodeType!==8||V.nodeValue!==" react-mount-point-unstable "))}function $x(){}function lA(V,ee,ye,ke,tt){if(tt){if(typeof ke=="function"){var xt=ke;ke=function(){var m=T0(G);xt.call(m)}}var G=mw(ee,ke,V,0,null,!1,!1,"",$x);return V._reactRootContainer=G,V[Ff]=G.current,kd(V.nodeType===8?V.parentNode:V),Rh(),G}for(;tt=V.lastChild;)V.removeChild(tt);if(typeof ke=="function"){var H=ke;ke=function(){var m=T0(e);H.call(m)}}var e=D1(V,0,!1,null,null,!1,!1,"",$x);return V._reactRootContainer=e,V[Ff]=e.current,kd(V.nodeType===8?V.parentNode:V),Rh(function(){O0(ee,e,ye,ke)}),e}function B0(V,ee,ye,ke,tt){var xt=ye._reactRootContainer;if(xt){var G=xt;if(typeof tt=="function"){var H=tt;tt=function(){var e=T0(G);H.call(e)}}O0(ee,G,V,tt)}else G=lA(ye,ee,V,tt,ke);return T0(G)}Zb=function(V){switch(V.tag){case 3:var ee=V.stateNode;if(ee.current.memoizedState.isDehydrated){var ye=pd(ee.pendingLanes);ye!==0&&(e1(ee,ye|1),nl(ee,Eo()),!(Ai&6)&&(Rv=Eo()+500,Yc()))}break;case 13:Rh(function(){var ke=Nf(V,1);if(ke!==null){var tt=Os();Ru(ke,V,1,tt)}}),I1(V,1)}};t1=function(V){if(V.tag===13){var ee=Nf(V,134217728);if(ee!==null){var ye=Os();Ru(ee,V,134217728,ye)}I1(V,134217728)}};Kb=function(V){if(V.tag===13){var ee=Bc(V),ye=Nf(V,ee);if(ye!==null){var ke=Os();Ru(ye,V,ee,ke)}I1(V,ee)}};Jb=function(){return Di};Qb=function(V,ee){var ye=Di;try{return Di=V,ee()}finally{Di=ye}};oy=function(V,ee,ye){switch(ee){case"input":if(qg(V,ye),ee=ye.name,ye.type==="radio"&&ee!=null){for(ye=V;ye.parentNode;)ye=ye.parentNode;for(ye=ye.querySelectorAll("input[name="+JSON.stringify(""+ee)+'][type="radio"]'),ee=0;ee<ye.length;ee++){var ke=ye[ee];if(ke!==V&&ke.form===V.form){var tt=P0(ke);if(!tt)throw Error(ma(90));Lb(ke),qg(ke,tt)}}}break;case"textarea":_b(V,ye);break;case"select":ee=ye.value,ee!=null&&xv(V,!!ye.multiple,ee,!1)}};Fb=L1;Nb=Rh;var uA={usingClientEntryPoint:!1,Events:[Zd,hv,P0,zb,Ob,L1]},hd={findFiberByHostInstance:wh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fA={bundleType:hd.bundleType,version:hd.version,rendererPackageName:hd.rendererPackageName,rendererConfig:hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uf.ReactCurrentDispatcher,findHostInstanceByFiber:function(V){return V=Vb(V),V===null?null:V.stateNode},findFiberByHostInstance:hd.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{M0=Up.inject(fA),rf=Up}catch{}}Tl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uA;Tl.createPortal=function(V,ee){var ye=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z1(ee))throw Error(ma(200));return oA(V,ee,null,ye)};Tl.createRoot=function(V,ee){if(!z1(V))throw Error(ma(299));var ye=!1,ke="",tt=xw;return ee!=null&&(ee.unstable_strictMode===!0&&(ye=!0),ee.identifierPrefix!==void 0&&(ke=ee.identifierPrefix),ee.onRecoverableError!==void 0&&(tt=ee.onRecoverableError)),ee=D1(V,1,!1,null,null,ye,!1,ke,tt),V[Ff]=ee.current,kd(V.nodeType===8?V.parentNode:V),new k1(ee)};Tl.findDOMNode=function(V){if(V==null)return null;if(V.nodeType===1)return V;var ee=V._reactInternals;if(ee===void 0)throw typeof V.render=="function"?Error(ma(188)):(V=Object.keys(V).join(","),Error(ma(268,V)));return V=Vb(ee),V=V===null?null:V.stateNode,V};Tl.flushSync=function(V){return Rh(V)};Tl.hydrate=function(V,ee,ye){if(!N0(ee))throw Error(ma(200));return B0(null,V,ee,!0,ye)};Tl.hydrateRoot=function(V,ee,ye){if(!z1(V))throw Error(ma(405));var ke=ye!=null&&ye.hydratedSources||null,tt=!1,xt="",G=xw;if(ye!=null&&(ye.unstable_strictMode===!0&&(tt=!0),ye.identifierPrefix!==void 0&&(xt=ye.identifierPrefix),ye.onRecoverableError!==void 0&&(G=ye.onRecoverableError)),ee=mw(ee,null,V,1,ye??null,tt,!1,xt,G),V[Ff]=ee.current,kd(V),ke)for(V=0;V<ke.length;V++)ye=ke[V],tt=ye._getVersion,tt=tt(ye._source),ee.mutableSourceEagerHydrationData==null?ee.mutableSourceEagerHydrationData=[ye,tt]:ee.mutableSourceEagerHydrationData.push(ye,tt);return new F0(ee)};Tl.render=function(V,ee,ye){if(!N0(ee))throw Error(ma(200));return B0(null,V,ee,!1,ye)};Tl.unmountComponentAtNode=function(V){if(!N0(V))throw Error(ma(40));return V._reactRootContainer?(Rh(function(){B0(null,null,V,!1,function(){V._reactRootContainer=null,V[Ff]=null})}),!0):!1};Tl.unstable_batchedUpdates=L1;Tl.unstable_renderSubtreeIntoContainer=function(V,ee,ye,ke){if(!N0(ye))throw Error(ma(200));if(V==null||V._reactInternals===void 0)throw Error(ma(38));return B0(V,ee,ye,!1,ke)};Tl.version="18.3.1-next-f1338f8080-20240426";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(V){console.error(V)}}bw(),bb.exports=Tl;var cA=bb.exports,qx=cA;jg.createRoot=qx.createRoot,jg.hydrateRoot=qx.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(V){for(var ee=1;ee<arguments.length;ee++){var ye=arguments[ee];for(var ke in ye)Object.prototype.hasOwnProperty.call(ye,ke)&&(V[ke]=ye[ke])}return V},Gd.apply(this,arguments)}var Dc;(function(V){V.Pop="POP",V.Push="PUSH",V.Replace="REPLACE"})(Dc||(Dc={}));const eb="popstate";function hA(V){V===void 0&&(V={});function ee(ke,tt){let{pathname:xt,search:G,hash:H}=ke.location;return By("",{pathname:xt,search:G,hash:H},tt.state&&tt.state.usr||null,tt.state&&tt.state.key||"default")}function ye(ke,tt){return typeof tt=="string"?tt:Tw(tt)}return dA(ee,ye,null,V)}function Uo(V,ee){if(V===!1||V===null||typeof V>"u")throw new Error(ee)}function ww(V,ee){if(!V){typeof console<"u"&&console.warn(ee);try{throw new Error(ee)}catch{}}}function vA(){return Math.random().toString(36).substr(2,8)}function tb(V,ee){return{usr:V.state,key:V.key,idx:ee}}function By(V,ee,ye,ke){return ye===void 0&&(ye=null),Gd({pathname:typeof V=="string"?V:V.pathname,search:"",hash:""},typeof ee=="string"?zv(ee):ee,{state:ye,key:ee&&ee.key||ke||vA()})}function Tw(V){let{pathname:ee="/",search:ye="",hash:ke=""}=V;return ye&&ye!=="?"&&(ee+=ye.charAt(0)==="?"?ye:"?"+ye),ke&&ke!=="#"&&(ee+=ke.charAt(0)==="#"?ke:"#"+ke),ee}function zv(V){let ee={};if(V){let ye=V.indexOf("#");ye>=0&&(ee.hash=V.substr(ye),V=V.substr(0,ye));let ke=V.indexOf("?");ke>=0&&(ee.search=V.substr(ke),V=V.substr(0,ke)),V&&(ee.pathname=V)}return ee}function dA(V,ee,ye,ke){ke===void 0&&(ke={});let{window:tt=document.defaultView,v5Compat:xt=!1}=ke,G=tt.history,H=Dc.Pop,e=null,m=P();m==null&&(m=0,G.replaceState(Gd({},G.state,{idx:m}),""));function P(){return(G.state||{idx:null}).idx}function s(){H=Dc.Pop;let r=P(),t=r==null?null:r-m;m=r,e&&e({action:H,location:p.location,delta:t})}function L(r,t){H=Dc.Push;let i=By(p.location,r,t);m=P()+1;let n=tb(i,m),f=p.createHref(i);try{G.pushState(n,"",f)}catch(u){if(u instanceof DOMException&&u.name==="DataCloneError")throw u;tt.location.assign(f)}xt&&e&&e({action:H,location:p.location,delta:1})}function S(r,t){H=Dc.Replace;let i=By(p.location,r,t);m=P();let n=tb(i,m),f=p.createHref(i);G.replaceState(n,"",f),xt&&e&&e({action:H,location:p.location,delta:0})}function v(r){let t=tt.location.origin!=="null"?tt.location.origin:tt.location.href,i=typeof r=="string"?r:Tw(r);return i=i.replace(/ $/,"%20"),Uo(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}let p={get action(){return H},get location(){return V(tt,G)},listen(r){if(e)throw new Error("A history only accepts one active listener");return tt.addEventListener(eb,s),e=r,()=>{tt.removeEventListener(eb,s),e=null}},createHref(r){return ee(tt,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:L,replace:S,go(r){return G.go(r)}};return p}var rb;(function(V){V.data="data",V.deferred="deferred",V.redirect="redirect",V.error="error"})(rb||(rb={}));function pA(V,ee,ye){ye===void 0&&(ye="/");let ke=typeof ee=="string"?zv(ee):ee,tt=Mw(ke.pathname||"/",ye);if(tt==null)return null;let xt=Aw(V);gA(xt);let G=null;for(let H=0;G==null&&H<xt.length;++H){let e=LA(tt);G=MA(xt[H],e)}return G}function Aw(V,ee,ye,ke){ee===void 0&&(ee=[]),ye===void 0&&(ye=[]),ke===void 0&&(ke="");let tt=(xt,G,H)=>{let e={relativePath:H===void 0?xt.path||"":H,caseSensitive:xt.caseSensitive===!0,childrenIndex:G,route:xt};e.relativePath.startsWith("/")&&(Uo(e.relativePath.startsWith(ke),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+ke+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(ke.length));let m=Eh([ke,e.relativePath]),P=ye.concat(e);xt.children&&xt.children.length>0&&(Uo(xt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Aw(xt.children,ee,P,m)),!(xt.path==null&&!xt.index)&&ee.push({path:m,score:AA(m,xt.index),routesMeta:P})};return V.forEach((xt,G)=>{var H;if(xt.path===""||!((H=xt.path)!=null&&H.includes("?")))tt(xt,G);else for(let e of Sw(xt.path))tt(xt,G,e)}),ee}function Sw(V){let ee=V.split("/");if(ee.length===0)return[];let[ye,...ke]=ee,tt=ye.endsWith("?"),xt=ye.replace(/\?$/,"");if(ke.length===0)return tt?[xt,""]:[xt];let G=Sw(ke.join("/")),H=[];return H.push(...G.map(e=>e===""?xt:[xt,e].join("/"))),tt&&H.push(...G),H.map(e=>V.startsWith("/")&&e===""?"/":e)}function gA(V){V.sort((ee,ye)=>ee.score!==ye.score?ye.score-ee.score:SA(ee.routesMeta.map(ke=>ke.childrenIndex),ye.routesMeta.map(ke=>ke.childrenIndex)))}const yA=/^:[\w-]+$/,mA=3,xA=2,bA=1,wA=10,TA=-2,nb=V=>V==="*";function AA(V,ee){let ye=V.split("/"),ke=ye.length;return ye.some(nb)&&(ke+=TA),ee&&(ke+=xA),ye.filter(tt=>!nb(tt)).reduce((tt,xt)=>tt+(yA.test(xt)?mA:xt===""?bA:wA),ke)}function SA(V,ee){return V.length===ee.length&&V.slice(0,-1).every((ke,tt)=>ke===ee[tt])?V[V.length-1]-ee[ee.length-1]:0}function MA(V,ee){let{routesMeta:ye}=V,ke={},tt="/",xt=[];for(let G=0;G<ye.length;++G){let H=ye[G],e=G===ye.length-1,m=tt==="/"?ee:ee.slice(tt.length)||"/",P=EA({path:H.relativePath,caseSensitive:H.caseSensitive,end:e},m);if(!P)return null;Object.assign(ke,P.params);let s=H.route;xt.push({params:ke,pathname:Eh([tt,P.pathname]),pathnameBase:kA(Eh([tt,P.pathnameBase])),route:s}),P.pathnameBase!=="/"&&(tt=Eh([tt,P.pathnameBase]))}return xt}function EA(V,ee){typeof V=="string"&&(V={path:V,caseSensitive:!1,end:!0});let[ye,ke]=CA(V.path,V.caseSensitive,V.end),tt=ee.match(ye);if(!tt)return null;let xt=tt[0],G=xt.replace(/(.)\/+$/,"$1"),H=tt.slice(1);return{params:ke.reduce((m,P,s)=>{let{paramName:L,isOptional:S}=P;if(L==="*"){let p=H[s]||"";G=xt.slice(0,xt.length-p.length).replace(/(.)\/+$/,"$1")}const v=H[s];return S&&!v?m[L]=void 0:m[L]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:xt,pathnameBase:G,pattern:V}}function CA(V,ee,ye){ee===void 0&&(ee=!1),ye===void 0&&(ye=!0),ww(V==="*"||!V.endsWith("*")||V.endsWith("/*"),'Route path "'+V+'" will be treated as if it were '+('"'+V.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+V.replace(/\*$/,"/*")+'".'));let ke=[],tt="^"+V.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(G,H,e)=>(ke.push({paramName:H,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return V.endsWith("*")?(ke.push({paramName:"*"}),tt+=V==="*"||V==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ye?tt+="\\/*$":V!==""&&V!=="/"&&(tt+="(?:(?=\\/|$))"),[new RegExp(tt,ee?void 0:"i"),ke]}function LA(V){try{return V.split("/").map(ee=>decodeURIComponent(ee).replace(/\//g,"%2F")).join("/")}catch(ee){return ww(!1,'The URL path "'+V+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+ee+").")),V}}function Mw(V,ee){if(ee==="/")return V;if(!V.toLowerCase().startsWith(ee.toLowerCase()))return null;let ye=ee.endsWith("/")?ee.length-1:ee.length,ke=V.charAt(ye);return ke&&ke!=="/"?null:V.slice(ye)||"/"}function PA(V,ee){ee===void 0&&(ee="/");let{pathname:ye,search:ke="",hash:tt=""}=typeof V=="string"?zv(V):V;return{pathname:ye?ye.startsWith("/")?ye:_A(ye,ee):ee,search:zA(ke),hash:OA(tt)}}function _A(V,ee){let ye=ee.replace(/\/+$/,"").split("/");return V.split("/").forEach(tt=>{tt===".."?ye.length>1&&ye.pop():tt!=="."&&ye.push(tt)}),ye.length>1?ye.join("/"):"/"}function Yg(V,ee,ye,ke){return"Cannot include a '"+V+"' character in a manually specified "+("`to."+ee+"` field ["+JSON.stringify(ke)+"].  Please separate it out to the ")+("`to."+ye+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RA(V){return V.filter((ee,ye)=>ye===0||ee.route.path&&ee.route.path.length>0)}function DA(V,ee){let ye=RA(V);return ee?ye.map((ke,tt)=>tt===V.length-1?ke.pathname:ke.pathnameBase):ye.map(ke=>ke.pathnameBase)}function IA(V,ee,ye,ke){ke===void 0&&(ke=!1);let tt;typeof V=="string"?tt=zv(V):(tt=Gd({},V),Uo(!tt.pathname||!tt.pathname.includes("?"),Yg("?","pathname","search",tt)),Uo(!tt.pathname||!tt.pathname.includes("#"),Yg("#","pathname","hash",tt)),Uo(!tt.search||!tt.search.includes("#"),Yg("#","search","hash",tt)));let xt=V===""||tt.pathname==="",G=xt?"/":tt.pathname,H;if(G==null)H=ye;else{let s=ee.length-1;if(!ke&&G.startsWith("..")){let L=G.split("/");for(;L[0]==="..";)L.shift(),s-=1;tt.pathname=L.join("/")}H=s>=0?ee[s]:"/"}let e=PA(tt,H),m=G&&G!=="/"&&G.endsWith("/"),P=(xt||G===".")&&ye.endsWith("/");return!e.pathname.endsWith("/")&&(m||P)&&(e.pathname+="/"),e}const Eh=V=>V.join("/").replace(/\/\/+/g,"/"),kA=V=>V.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=V=>!V||V==="?"?"":V.startsWith("?")?V:"?"+V,OA=V=>!V||V==="#"?"":V.startsWith("#")?V:"#"+V;function FA(V){return V!=null&&typeof V.status=="number"&&typeof V.statusText=="string"&&typeof V.internal=="boolean"&&"data"in V}const Ew=["post","put","patch","delete"];new Set(Ew);const NA=["get",...Ew];new Set(NA);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(V){for(var ee=1;ee<arguments.length;ee++){var ye=arguments[ee];for(var ke in ye)Object.prototype.hasOwnProperty.call(ye,ke)&&(V[ke]=ye[ke])}return V},Wd.apply(this,arguments)}const O1=Jn.createContext(null),BA=Jn.createContext(null),U0=Jn.createContext(null),V0=Jn.createContext(null),Ov=Jn.createContext({outlet:null,matches:[],isDataRoute:!1}),Cw=Jn.createContext(null);function H0(){return Jn.useContext(V0)!=null}function Lw(){return H0()||Uo(!1),Jn.useContext(V0).location}function Pw(V){Jn.useContext(U0).static||Jn.useLayoutEffect(V)}function _w(){let{isDataRoute:V}=Jn.useContext(Ov);return V?$A():UA()}function UA(){H0()||Uo(!1);let V=Jn.useContext(O1),{basename:ee,future:ye,navigator:ke}=Jn.useContext(U0),{matches:tt}=Jn.useContext(Ov),{pathname:xt}=Lw(),G=JSON.stringify(DA(tt,ye.v7_relativeSplatPath)),H=Jn.useRef(!1);return Pw(()=>{H.current=!0}),Jn.useCallback(function(m,P){if(P===void 0&&(P={}),!H.current)return;if(typeof m=="number"){ke.go(m);return}let s=IA(m,JSON.parse(G),xt,P.relative==="path");V==null&&ee!=="/"&&(s.pathname=s.pathname==="/"?ee:Eh([ee,s.pathname])),(P.replace?ke.replace:ke.push)(s,P.state,P)},[ee,ke,G,xt,V])}function VA(V,ee){return HA(V,ee)}function HA(V,ee,ye,ke){H0()||Uo(!1);let{navigator:tt}=Jn.useContext(U0),{matches:xt}=Jn.useContext(Ov),G=xt[xt.length-1],H=G?G.params:{};G&&G.pathname;let e=G?G.pathnameBase:"/";G&&G.route;let m=Lw(),P;if(ee){var s;let r=typeof ee=="string"?zv(ee):ee;e==="/"||(s=r.pathname)!=null&&s.startsWith(e)||Uo(!1),P=r}else P=m;let L=P.pathname||"/",S=L;if(e!=="/"){let r=e.replace(/^\//,"").split("/");S="/"+L.replace(/^\//,"").split("/").slice(r.length).join("/")}let v=pA(V,{pathname:S}),p=XA(v&&v.map(r=>Object.assign({},r,{params:Object.assign({},H,r.params),pathname:Eh([e,tt.encodeLocation?tt.encodeLocation(r.pathname).pathname:r.pathname]),pathnameBase:r.pathnameBase==="/"?e:Eh([e,tt.encodeLocation?tt.encodeLocation(r.pathnameBase).pathname:r.pathnameBase])})),xt,ye,ke);return ee&&p?Jn.createElement(V0.Provider,{value:{location:Wd({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:Dc.Pop}},p):p}function GA(){let V=QA(),ee=FA(V)?V.status+" "+V.statusText:V instanceof Error?V.message:JSON.stringify(V),ye=V instanceof Error?V.stack:null,tt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Jn.createElement(Jn.Fragment,null,Jn.createElement("h2",null,"Unexpected Application Error!"),Jn.createElement("h3",{style:{fontStyle:"italic"}},ee),ye?Jn.createElement("pre",{style:tt},ye):null,null)}const WA=Jn.createElement(GA,null);class YA extends Jn.Component{constructor(ee){super(ee),this.state={location:ee.location,revalidation:ee.revalidation,error:ee.error}}static getDerivedStateFromError(ee){return{error:ee}}static getDerivedStateFromProps(ee,ye){return ye.location!==ee.location||ye.revalidation!=="idle"&&ee.revalidation==="idle"?{error:ee.error,location:ee.location,revalidation:ee.revalidation}:{error:ee.error!==void 0?ee.error:ye.error,location:ye.location,revalidation:ee.revalidation||ye.revalidation}}componentDidCatch(ee,ye){console.error("React Router caught the following error during render",ee,ye)}render(){return this.state.error!==void 0?Jn.createElement(Ov.Provider,{value:this.props.routeContext},Jn.createElement(Cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jA(V){let{routeContext:ee,match:ye,children:ke}=V,tt=Jn.useContext(O1);return tt&&tt.static&&tt.staticContext&&(ye.route.errorElement||ye.route.ErrorBoundary)&&(tt.staticContext._deepestRenderedBoundaryId=ye.route.id),Jn.createElement(Ov.Provider,{value:ee},ke)}function XA(V,ee,ye,ke){var tt;if(ee===void 0&&(ee=[]),ye===void 0&&(ye=null),ke===void 0&&(ke=null),V==null){var xt;if((xt=ye)!=null&&xt.errors)V=ye.matches;else return null}let G=V,H=(tt=ye)==null?void 0:tt.errors;if(H!=null){let P=G.findIndex(s=>s.route.id&&(H==null?void 0:H[s.route.id])!==void 0);P>=0||Uo(!1),G=G.slice(0,Math.min(G.length,P+1))}let e=!1,m=-1;if(ye&&ke&&ke.v7_partialHydration)for(let P=0;P<G.length;P++){let s=G[P];if((s.route.HydrateFallback||s.route.hydrateFallbackElement)&&(m=P),s.route.id){let{loaderData:L,errors:S}=ye,v=s.route.loader&&L[s.route.id]===void 0&&(!S||S[s.route.id]===void 0);if(s.route.lazy||v){e=!0,m>=0?G=G.slice(0,m+1):G=[G[0]];break}}}return G.reduceRight((P,s,L)=>{let S,v=!1,p=null,r=null;ye&&(S=H&&s.route.id?H[s.route.id]:void 0,p=s.route.errorElement||WA,e&&(m<0&&L===0?(v=!0,r=null):m===L&&(v=!0,r=s.route.hydrateFallbackElement||null)));let t=ee.concat(G.slice(0,L+1)),i=()=>{let n;return S?n=p:v?n=r:s.route.Component?n=Jn.createElement(s.route.Component,null):s.route.element?n=s.route.element:n=P,Jn.createElement(jA,{match:s,routeContext:{outlet:P,matches:t,isDataRoute:ye!=null},children:n})};return ye&&(s.route.ErrorBoundary||s.route.errorElement||L===0)?Jn.createElement(YA,{location:ye.location,revalidation:ye.revalidation,component:p,error:S,children:i(),routeContext:{outlet:null,matches:t,isDataRoute:!0}}):i()},null)}var Rw=function(V){return V.UseBlocker="useBlocker",V.UseRevalidator="useRevalidator",V.UseNavigateStable="useNavigate",V}(Rw||{}),A0=function(V){return V.UseBlocker="useBlocker",V.UseLoaderData="useLoaderData",V.UseActionData="useActionData",V.UseRouteError="useRouteError",V.UseNavigation="useNavigation",V.UseRouteLoaderData="useRouteLoaderData",V.UseMatches="useMatches",V.UseRevalidator="useRevalidator",V.UseNavigateStable="useNavigate",V.UseRouteId="useRouteId",V}(A0||{});function ZA(V){let ee=Jn.useContext(O1);return ee||Uo(!1),ee}function KA(V){let ee=Jn.useContext(BA);return ee||Uo(!1),ee}function JA(V){let ee=Jn.useContext(Ov);return ee||Uo(!1),ee}function Dw(V){let ee=JA(),ye=ee.matches[ee.matches.length-1];return ye.route.id||Uo(!1),ye.route.id}function QA(){var V;let ee=Jn.useContext(Cw),ye=KA(A0.UseRouteError),ke=Dw(A0.UseRouteError);return ee!==void 0?ee:(V=ye.errors)==null?void 0:V[ke]}function $A(){let{router:V}=ZA(Rw.UseNavigateStable),ee=Dw(A0.UseNavigateStable),ye=Jn.useRef(!1);return Pw(()=>{ye.current=!0}),Jn.useCallback(function(tt,xt){xt===void 0&&(xt={}),ye.current&&(typeof tt=="number"?V.navigate(tt):V.navigate(tt,Wd({fromRouteId:ee},xt)))},[V,ee])}function Uy(V){Uo(!1)}function qA(V){let{basename:ee="/",children:ye=null,location:ke,navigationType:tt=Dc.Pop,navigator:xt,static:G=!1,future:H}=V;H0()&&Uo(!1);let e=ee.replace(/^\/*/,"/"),m=Jn.useMemo(()=>({basename:e,navigator:xt,static:G,future:Wd({v7_relativeSplatPath:!1},H)}),[e,H,xt,G]);typeof ke=="string"&&(ke=zv(ke));let{pathname:P="/",search:s="",hash:L="",state:S=null,key:v="default"}=ke,p=Jn.useMemo(()=>{let r=Mw(P,e);return r==null?null:{location:{pathname:r,search:s,hash:L,state:S,key:v},navigationType:tt}},[e,P,s,L,S,v,tt]);return p==null?null:Jn.createElement(U0.Provider,{value:m},Jn.createElement(V0.Provider,{children:ye,value:p}))}function eS(V){let{children:ee,location:ye}=V;return VA(Vy(ee),ye)}new Promise(()=>{});function Vy(V,ee){ee===void 0&&(ee=[]);let ye=[];return Jn.Children.forEach(V,(ke,tt)=>{if(!Jn.isValidElement(ke))return;let xt=[...ee,tt];if(ke.type===Jn.Fragment){ye.push.apply(ye,Vy(ke.props.children,xt));return}ke.type!==Uy&&Uo(!1),!ke.props.index||!ke.props.children||Uo(!1);let G={id:ke.props.id||xt.join("-"),caseSensitive:ke.props.caseSensitive,element:ke.props.element,Component:ke.props.Component,index:ke.props.index,path:ke.props.path,loader:ke.props.loader,action:ke.props.action,errorElement:ke.props.errorElement,ErrorBoundary:ke.props.ErrorBoundary,hasErrorBoundary:ke.props.ErrorBoundary!=null||ke.props.errorElement!=null,shouldRevalidate:ke.props.shouldRevalidate,handle:ke.props.handle,lazy:ke.props.lazy};ke.props.children&&(G.children=Vy(ke.props.children,xt)),ye.push(G)}),ye}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tS="6";try{window.__reactRouterVersion=tS}catch{}const rS="startTransition",ab=e5[rS];function nS(V){let{basename:ee,children:ye,future:ke,window:tt}=V,xt=Jn.useRef();xt.current==null&&(xt.current=hA({window:tt,v5Compat:!0}));let G=xt.current,[H,e]=Jn.useState({action:G.action,location:G.location}),{v7_startTransition:m}=ke||{},P=Jn.useCallback(s=>{m&&ab?ab(()=>e(s)):e(s)},[e,m]);return Jn.useLayoutEffect(()=>G.listen(P),[G,P]),Jn.createElement(qA,{basename:ee,children:ye,location:H.location,navigationType:H.action,navigator:G,future:ke})}var ib;(function(V){V.UseScrollRestoration="useScrollRestoration",V.UseSubmit="useSubmit",V.UseSubmitFetcher="useSubmitFetcher",V.UseFetcher="useFetcher",V.useViewTransitionState="useViewTransitionState"})(ib||(ib={}));var ob;(function(V){V.UseFetcher="useFetcher",V.UseFetchers="useFetchers",V.UseScrollRestoration="useScrollRestoration"})(ob||(ob={}));const aS="_home_container_bfi5o_1",iS="_home_bfi5o_1",oS="_home_table_navbar_bfi5o_20",sS="_home_table_navbar_item_bfi5o_27",lS="_home_table_and_chart_bfi5o_38",uS="_home_table_bfi5o_20",fS="_home_chart_bfi5o_51",cS="_home_chart_price_bfi5o_64",hS="_home_chart_volatility_bfi5o_64",vS="_table_container_bfi5o_81",dS="_table_symbol_bfi5o_106",pS="_positive_bfi5o_114",gS="_negative_bfi5o_118",yS="_home_table_search_bfi5o_122",mS="_home_chart_add_to_bucket_bfi5o_141",xS="_home_chart_add_to_bucket_form_bfi5o_148",bS="_form_input_bfi5o_166",wS="_home_chart_next_bfi5o_186",TS="_selected_bfi5o_198",AS="_clear_button_bfi5o_204",SS="_search_div_bfi5o_222",MS="_slideIn_bfi5o_254",ES="_slideOut_bfi5o_258",CS="_table_range_bfi5o_263",LS="_table_range_length_bfi5o_272",PS="_table_range_fill_bfi5o_278",_S="_table_range_label_bfi5o_283",RS="_controller_buttons_bfi5o_292",DS="_bucket_container_bfi5o_302",IS="_bucket_bfi5o_302",kS="_closeButton_bfi5o_326",zS="_bucket_table_bfi5o_336",OS="_deleteIcon_bfi5o_345",FS="_settings_options_bfi5o_349",NS="_settings_apply_bfi5o_357",BS="_settings_cancel_bfi5o_371",US="_settings_buttons_bfi5o_384",VS="_analysis_options_bfi5o_389",HS="_analysis_options_input_bfi5o_399",GS="_loading_bfi5o_406",Pa={home_container:aS,home:iS,home_table_navbar:oS,home_table_navbar_item:sS,home_table_and_chart:lS,home_table:uS,home_chart:fS,home_chart_price:cS,home_chart_volatility:hS,table_container:vS,table_symbol:dS,positive:pS,negative:gS,home_table_search:yS,home_chart_add_to_bucket:mS,home_chart_add_to_bucket_form:xS,form_input:bS,home_chart_next:wS,selected:TS,clear_button:AS,search_div:SS,slideIn:MS,slideOut:ES,table_range:CS,table_range_length:LS,table_range_fill:PS,table_range_label:_S,controller_buttons:RS,bucket_container:DS,bucket:IS,closeButton:kS,bucket_table:zS,deleteIcon:OS,settings_options:FS,settings_apply:NS,settings_cancel:BS,settings_buttons:US,analysis_options:VS,analysis_options_input:HS,loading:GS};var Iw={},kw={},zw={exports:{}},WS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YS=WS,jS=YS;function Ow(){}function Fw(){}Fw.resetWarningCache=Ow;var XS=function(){function V(ke,tt,xt,G,H,e){if(e!==jS){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}V.isRequired=V;function ee(){return V}var ye={array:V,bigint:V,bool:V,func:V,number:V,object:V,string:V,symbol:V,any:V,arrayOf:ee,element:V,elementType:V,instanceOf:ee,node:V,objectOf:ee,oneOf:ee,oneOfType:ee,shape:ee,exact:ee,checkPropTypes:Fw,resetWarningCache:Ow};return ye.PropTypes=ye,ye};zw.exports=XS();var ZS=zw.exports;(function(V){function ee(u){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ee(u)}Object.defineProperty(V,"__esModule",{value:!0}),V.default=f;var ye=G(Jn),ke=tt(ZS);function tt(u){return u&&u.__esModule?u:{default:u}}function xt(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,g=new WeakMap;return(xt=function(T){return T?g:l})(u)}function G(u,l){if(u&&u.__esModule)return u;if(u===null||ee(u)!=="object"&&typeof u!="function")return{default:u};var g=xt(l);if(g&&g.has(u))return g.get(u);var h={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in u)if(c!=="default"&&Object.prototype.hasOwnProperty.call(u,c)){var a=T?Object.getOwnPropertyDescriptor(u,c):null;a&&(a.get||a.set)?Object.defineProperty(h,c,a):h[c]=u[c]}return h.default=u,g&&g.set(u,h),h}function H(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var g=0;g<l.length;g++){var h=l[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function m(u,l,g){return l&&e(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function P(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&s(u,l)}function s(u,l){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,T){return h.__proto__=T,h},s(u,l)}function L(u){var l=p();return function(){var h=r(u),T;if(l){var c=r(this).constructor;T=Reflect.construct(h,arguments,c)}else T=h.apply(this,arguments);return S(this,T)}}function S(u,l){if(l&&(ee(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],i=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function f(u){var l=function(g){P(T,g);var h=L(T);function T(c){var a;return H(this,T),a=h.call(this,c),a.p=Promise.resolve(),a.resizeHandler=null,a.handlers={},a.syncWindowResize=a.syncWindowResize.bind(v(a)),a.syncEventHandlers=a.syncEventHandlers.bind(v(a)),a.attachUpdateEvents=a.attachUpdateEvents.bind(v(a)),a.getRef=a.getRef.bind(v(a)),a.handleUpdate=a.handleUpdate.bind(v(a)),a.figureCallback=a.figureCallback.bind(v(a)),a.updatePlotly=a.updatePlotly.bind(v(a)),a}return m(T,[{key:"updatePlotly",value:function(a,d,x){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return u.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(a),w.syncEventHandlers(),w.figureCallback(d),x&&w.attachUpdateEvents())}).catch(function(C){w.props.onError&&w.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(a){this.unmounting=!1;var d=a.frames&&a.frames.length?a.frames.length:0,x=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(a.layout===this.props.layout&&a.data===this.props.data&&a.config===this.props.config&&x===d),C=a.revision!==void 0,y=a.revision!==this.props.revision;!w&&(!C||C&&!y)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var a=this;!this.el||!this.el.removeListener||i.forEach(function(d){a.el.on(d,a.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var a=this;!this.el||!this.el.removeListener||i.forEach(function(d){a.el.removeListener(d,a.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(a){if(typeof a=="function"){var d=this.el,x=d.data,w=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,y={data:x,layout:w,frames:C};a(y,this.el)}}},{key:"syncWindowResize",value:function(a){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),a&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(a){this.el=a,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var a=this;t.forEach(function(d){var x=a.props["on"+d],w=a.handlers[d],C=!!w;x&&!C?a.addEventHandler(d,x):!x&&C?a.removeEventHandler(d):x&&C&&x!==w&&(a.removeEventHandler(d),a.addEventHandler(d,x))})}},{key:"addEventHandler",value:function(a,d){this.handlers[a]=d,this.el.on(this.getPlotlyEventName(a),this.handlers[a])}},{key:"removeEventHandler",value:function(a){this.el.removeListener(this.getPlotlyEventName(a),this.handlers[a]),delete this.handlers[a]}},{key:"getPlotlyEventName",value:function(a){return"plotly_"+a.toLowerCase()}},{key:"render",value:function(){return ye.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(ye.Component);return l.propTypes={data:ke.default.arrayOf(ke.default.object),config:ke.default.object,layout:ke.default.object,frames:ke.default.arrayOf(ke.default.object),revision:ke.default.number,onInitialized:ke.default.func,onPurge:ke.default.func,onError:ke.default.func,onUpdate:ke.default.func,debug:ke.default.bool,style:ke.default.object,className:ke.default.string,useResizeHandler:ke.default.bool,divId:ke.default.string},t.forEach(function(g){l.propTypes["on"+g]=ke.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(kw);var Nw={exports:{}};(function(V,ee){(function(ke,tt){V.exports=tt()})(self,function(){return function(){var ye={79288:function(G,H,e){var m=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in P){var L=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");m.addStyleRule(L,P[s])}},86712:function(G,H,e){G.exports=e(84224)},37240:function(G,H,e){G.exports=e(51132)},29744:function(G,H,e){G.exports=e(94456)},29352:function(G,H,e){G.exports=e(67244)},96144:function(G,H,e){G.exports=e(97776)},53219:function(G,H,e){G.exports=e(61712)},4624:function(G,H,e){G.exports=e(95856)},54543:function(G,H,e){G.exports=e(54272)},45e3:function(G,H,e){G.exports=e(85404)},62300:function(G,H,e){G.exports=e(26048)},6920:function(G,H,e){G.exports=e(66240)},10264:function(G,H,e){G.exports=e(40448)},32016:function(G,H,e){G.exports=e(64884)},27528:function(G,H,e){G.exports=e(15088)},75556:function(G,H,e){G.exports=e(76744)},39204:function(G,H,e){G.exports=e(94704)},73996:function(G,H,e){G.exports=e(62396)},16489:function(G,H,e){G.exports=e(32028)},5e3:function(G,H,e){G.exports=e(81932)},77280:function(G,H,e){G.exports=e(45536)},33992:function(G,H,e){G.exports=e(42600)},17600:function(G,H,e){G.exports=e(21536)},49116:function(G,H,e){G.exports=e(65664)},46808:function(G,H,e){G.exports=e(29044)},36168:function(G,H,e){G.exports=e(48928)},13792:function(G,H,e){var m=e(32016);m.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),G.exports=m},3920:function(G,H,e){G.exports=e(43480)},25120:function(G,H,e){G.exports=e(6296)},4340:function(G,H,e){G.exports=e(7404)},86152:function(G,H,e){G.exports=e(65456)},56816:function(G,H,e){G.exports=e(22020)},89296:function(G,H,e){G.exports=e(29928)},20260:function(G,H,e){G.exports=e(75792)},32140:function(G,H,e){G.exports=e(156)},84764:function(G,H,e){G.exports=e(45499)},48824:function(G,H,e){G.exports=e(3296)},69967:function(G,H,e){G.exports=e(4184)},8363:function(G,H,e){G.exports=e(36952)},86636:function(G,H,e){G.exports=e(38983)},70192:function(G,H,e){G.exports=e(11572)},81604:function(G,H,e){G.exports=e(76924)},63796:function(G,H,e){G.exports=e(62944)},89336:function(G,H,e){G.exports=e(95443)},67484:function(G,H,e){G.exports=e(34864)},97312:function(G,H,e){G.exports=e(76272)},42192:function(G,H,e){G.exports=e(97924)},29800:function(G,H,e){G.exports=e(15436)},63560:function(G,H,e){G.exports=e(5621)},89904:function(G,H,e){G.exports=e(91304)},50248:function(G,H,e){G.exports=e(41724)},65832:function(G,H,e){G.exports=e(31991)},79440:function(G,H,e){G.exports=e(22869)},13752:function(G,H,e){G.exports=e(67776)},83096:function(G,H,e){G.exports=e(95952)},72196:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(G,H,e){var m=e(72196),P=e(25376),s=e(33816),L=e(31780).templatedArray;e(36208),G.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(G,H,e){var m=e(3400),P=e(54460),s=e(23816).draw;G.exports=function(p){var r=p._fullLayout,t=m.filterVisible(r.annotations);if(t.length&&p._fullData.length)return m.syncOrAsync([s,L],p)};function L(v){var p=v._fullLayout;m.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),i=P.getFromId(v,r.yref),n=P.getRefType(r.xref),f=P.getRefType(r.yref);r._extremes={},n==="range"&&S(r,t),f==="range"&&S(r,i)})}function S(v,p){var r=p._id,t=r.charAt(0),i=v[t],n=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],g=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,c=T+h,a=T-h,d=3*v.startarrowsize*v.arrowwidth||0,x=d+h,w=d-h,C;if(u===f){var y=P.findExtremes(p,[p.r2c(i)],{ppadplus:c,ppadminus:a}),M=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,x),ppadminus:Math.max(g,w)});C={min:[y.min[0],M.min[0]],max:[y.max[0],M.max[0]]}}else x=n?x+n:x,w=n?w-n:w,C=P.findExtremes(p,[p.r2c(i)],{ppadplus:Math.max(l,c,x),ppadminus:Math.max(g,a,w)});v._extremes[r]=C}},42300:function(G,H,e){var m=e(3400),P=e(24040),s=e(31780).arrayEditor;G.exports={hasClickToShow:L,onClick:S};function L(r,t){var i=v(r,t);return i.on.length>0||i.explicitOff.length>0}function S(r,t){var i=v(r,t),n=i.on,f=i.off.concat(i.explicitOff),u={},l=r._fullLayout.annotations,g,h;if(n.length||f.length){for(g=0;g<n.length;g++)h=s(r.layout,"annotations",l[n[g]]),h.modifyItem("visible",!0),m.extendFlat(u,h.getUpdateObj());for(g=0;g<f.length;g++)h=s(r.layout,"annotations",l[f[g]]),h.modifyItem("visible",!1),m.extendFlat(u,h.getUpdateObj());return P.call("update",r,{},u)}}function v(r,t){var i=r._fullLayout.annotations,n=[],f=[],u=[],l=(t||[]).length,g,h,T,c,a,d,x,w;for(g=0;g<i.length;g++)if(T=i[g],c=T.clicktoshow,c){for(h=0;h<l;h++)if(a=t[h],d=a.xaxis,x=a.yaxis,d._id===T.xref&&x._id===T.yref&&d.d2r(a.x)===p(T._xclick,d)&&x.d2r(a.y)===p(T._yclick,x)){T.visible?c==="onout"?w=f:w=u:w=n,w.push(g);break}h===l&&T.visible&&c==="onout"&&f.push(g)}return{on:n,off:f,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(G,H,e){var m=e(3400),P=e(76308);G.exports=function(L,S,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),i=P.opacity(t);p("borderpad");var n=p("borderwidth"),f=p("showarrow");p("text",f?" ":v._dfltTitle.annotation),p("textangle"),m.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),f){var l=p("arrowside"),g,h;l.indexOf("end")!==-1&&(g=p("arrowhead"),h=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",g),p("startarrowsize",h)),p("arrowcolor",i?S.bordercolor:P.defaultLine),p("arrowwidth",(i&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),c=v.hoverlabel||{};if(T){var a=p("hoverlabel.bgcolor",c.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||P.contrast(a)),x=m.extendFlat({},c.font);x.color||(x.color=d),m.coerceFont(p,"hoverlabel.font",x)}p("captureevents",!!T)}},26828:function(G,H,e){var m=e(38248),P=e(36896);G.exports=function(L,S,v,p){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(!(r||t))return;var i=L._fullLayout.annotations,n=S._id.charAt(0),f,u;function l(h){var T=f[h],c=null;r?c=P(T,S.range):c=Math.pow(10,T),m(c)||(c=null),p(u+h,c)}for(var g=0;g<i.length;g++)f=i[g],u="annotations["+g+"].",f[n+"ref"]===S._id&&l(n),f["a"+n+"ref"]===S._id&&l("a"+n)}},45216:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(87192),S=e(13916);G.exports=function(r,t){s(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function i(A,o){return m.coerce(p,r,S,A,o)}var n=i("visible"),f=i("clicktoshow");if(n||f){L(p,r,t,i);for(var u=r.showarrow,l=["x","y"],g=[-10,-30],h={_fullLayout:t},T=0;T<2;T++){var c=l[T],a=P.coerceRef(p,r,h,c,"","paper");if(a!=="paper"){var d=P.getFromId(h,a);d._annIndices.push(r._index)}if(P.coercePosition(r,h,i,a,c,.5),u){var x="a"+c,w=P.coerceRef(p,r,h,x,"pixel",["pixel","paper"]);w!=="pixel"&&w!==a&&(w=r[x]="pixel");var C=w==="pixel"?g[T]:.4;P.coercePosition(r,h,i,w,x,C)}i(c+"anchor"),i(c+"shift")}if(m.noneOrAll(p,r,["x","y"]),u&&m.noneOrAll(p,r,["ax","ay"]),f){var y=i("xclick"),M=i("yclick");r._xclick=y===void 0?r.x:P.cleanPosition(y,h,r.xref),r._yclick=M===void 0?r.y:P.cleanPosition(M,h,r.yref)}}}},23816:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(3400),S=L.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),i=e(72736),n=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);G.exports={draw:g,drawOne:h,drawRaw:c};function g(a){var d=a._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&h(a,x);return s.previousPromises(a)}function h(a,d){var x=a._fullLayout,w=x.annotations[d]||{},C=v.getFromId(a,w.xref),y=v.getFromId(a,w.yref);C&&C.setScale(),y&&y.setScale(),c(a,w,d,!1,C,y)}function T(a,d,x,w,C){var y=C[x],M=C[x+"ref"],A=x.indexOf("y")!==-1,o=v.getRefType(M)==="domain",E=A?w.h:w.w;return a?o?y+(A?-d:d)/a._length:a.p2r(a.r2p(y)+d):y+(A?-d:d)/E}function c(a,d,x,w,C,y){var M=a._fullLayout,A=a._fullLayout._size,o=a._context.edits,E,b;w?(E="annotation-"+w,b=w+".annotations"):(E="annotation",b="annotations");var I=u(a.layout,b,d),D=I.modifyBase,N=I.modifyItem,k=I.getUpdateObj;M._infolayer.selectAll("."+E+'[data-index="'+x+'"]').remove();var O="clip"+M._uid+"_ann"+x;if(!d._input||d.visible===!1){m.selectAll("#"+O).remove();return}var F={x:{},y:{}},z=+d.textangle||0,B=M._infolayer.append("g").classed(E,!0).attr("data-index",String(x)).style("opacity",d.opacity),W=B.append("g").classed("annotation-text-g",!0),J=o[d.showarrow?"annotationTail":"annotationPosition"],re=d.captureevents||o.annotationText||J;function ne(ge){var be={index:x,annotation:d._input,fullAnnotation:d,event:ge};return w&&(be.subplotId=w),be}var le=W.append("g").style("pointer-events",re?"all":null).call(n,"pointer").on("click",function(){a._dragging=!1,a.emit("plotly_clickannotation",ne(m.event))});d.hovertext&&le.on("mouseover",function(){var ge=d.hoverlabel,be=ge.font,xe=this.getBoundingClientRect(),_e=a.getBoundingClientRect();t.loneHover({x0:xe.left-_e.left,x1:xe.right-_e.left,y:(xe.top+xe.bottom)/2-_e.top,text:d.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:be.family,fontSize:be.size,fontColor:be.color,fontWeight:be.weight,fontStyle:be.style,fontVariant:be.variant,fontShadow:be.fontShadow,fontLineposition:be.fontLineposition,fontTextcase:be.fontTextcase},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:a})}).on("mouseout",function(){t.loneUnhover(M._hoverlayer.node())});var $=d.borderwidth,K=d.borderpad,ie=$+K,Y=le.append("rect").attr("class","bg").style("stroke-width",$+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),Q=d.width||d.height,oe=M._topclips.selectAll("#"+O).data(Q?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),oe.exit().remove();var X=d.font,j=M._meta?L.templateString(d.text,M._meta):d.text,se=le.append("text").classed("annotation-text",!0).text(j);function te(ge){return ge.call(r.font,X).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),i.convertToTspans(ge,a,fe),ge}function fe(){var ge=se.selectAll("a");if(ge.size()===1&&ge.text()===se.text()){var be=le.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"});be.node().appendChild(Y.node())}var xe=le.select(".annotation-text-math-group"),_e=!xe.empty(),De=r.bBox((_e?xe:se).node()),Fe=De.width,Te=De.height,Re=d.width||Fe,Se=d.height||Te,Ie=Math.round(Re+2*ie),Me=Math.round(Se+2*ie);function Ve(yr,or){return or==="auto"&&(yr<.3333333333333333?or="left":yr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var et=!1,it=["x","y"],Je=0;Je<it.length;Je++){var Qe=it[Je],ct=d[Qe+"ref"]||Qe,ht=d["a"+Qe+"ref"],gt={x:C,y}[Qe],Tt=(z+(Qe==="x"?0:-90))*Math.PI/180,Et=Ie*Math.cos(Tt),rt=Me*Math.sin(Tt),ze=Math.abs(Et)+Math.abs(rt),He=d[Qe+"anchor"],Ge=d[Qe+"shift"]*(Qe==="x"?1:-1),We=F[Qe],Le,Pe,je,Ce,he,me=v.getRefType(ct);if(gt&&me!=="domain"){var Ne=gt.r2fraction(d[Qe]);(Ne<0||Ne>1)&&(ht===ct?(Ne=gt.r2fraction(d["a"+Qe]),(Ne<0||Ne>1)&&(et=!0)):et=!0),Le=gt._offset+gt.r2p(d[Qe]),Ce=.5}else{var $e=me==="domain";Qe==="x"?(je=d[Qe],Le=$e?gt._offset+gt._length*je:Le=A.l+A.w*je):(je=1-d[Qe],Le=$e?gt._offset+gt._length*je:Le=A.t+A.h*je),Ce=d.showarrow?.5:je}if(d.showarrow){We.head=Le;var ot=d["a"+Qe];if(he=Et*Ve(.5,d.xanchor)-rt*Ve(.5,d.yanchor),ht===ct){var st=v.getRefType(ht);st==="domain"?(Qe==="y"&&(ot=1-ot),We.tail=gt._offset+gt._length*ot):st==="paper"?Qe==="y"?(ot=1-ot,We.tail=A.t+A.h*ot):We.tail=A.l+A.w*ot:We.tail=gt._offset+gt.r2p(ot),Pe=he}else We.tail=Le+ot,Pe=he+ot;We.text=We.tail+he;var Wt=M[Qe==="x"?"width":"height"];if(ct==="paper"&&(We.head=L.constrain(We.head,1,Wt-1)),ht==="pixel"){var Pt=-Math.max(We.tail-3,We.text),dt=Math.min(We.tail+3,We.text)-Wt;Pt>0?(We.tail+=Pt,We.text+=Pt):dt>0&&(We.tail-=dt,We.text-=dt)}We.tail+=Ge,We.head+=Ge}else he=ze*Ve(Ce,He),Pe=he,We.text=Le+he;We.text+=Ge,he+=Ge,Pe+=Ge,d["_"+Qe+"padplus"]=ze/2+Pe,d["_"+Qe+"padminus"]=ze/2-Pe,d["_"+Qe+"size"]=ze,d["_"+Qe+"shift"]=he}if(et){le.remove();return}var Mt=0,Xt=0;if(d.align!=="left"&&(Mt=(Re-Fe)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Xt=(Se-Te)*(d.valign==="middle"?.5:1)),_e)xe.select("svg").attr({x:ie+Mt-1,y:ie+Xt}).call(r.setClipUrl,Q?O:null,a);else{var nr=ie+Xt-De.top,vt=ie+Mt-De.left;se.call(i.positionText,vt,nr).call(r.setClipUrl,Q?O:null,a)}oe.select("rect").call(r.setRect,ie,ie,Re,Se),Y.call(r.setRect,$/2,$/2,Ie-$,Me-$),le.call(r.setTranslate,Math.round(F.x.text-Ie/2),Math.round(F.y.text-Me/2)),W.attr({transform:"rotate("+z+","+F.x.text+","+F.y.text+")"});var Zt=function(yr,or){B.selectAll(".annotation-arrow-g").remove();var mt=F.x.head,lt=F.y.head,bt=F.x.tail+yr,Ct=F.y.tail+or,Dt=F.x.text+yr,Ht=F.y.text+or,Bt=L.rotationXYMatrix(z,Dt,Ht),Ut=L.apply2DTransform(Bt),Jt=L.apply2DTransform2(Bt),cr=+Y.attr("width"),hr=+Y.attr("height"),pr=Dt-.5*cr,Ye=pr+cr,Ue=Ht-.5*hr,Ot=Ue+hr,It=[[pr,Ue,pr,Ot],[pr,Ot,Ye,Ot],[Ye,Ot,Ye,Ue],[Ye,Ue,pr,Ue]].map(Jt);if(!It.reduce(function(Rr,an){return Rr^!!L.segmentsIntersect(mt,lt,mt+1e6,lt+1e6,an[0],an[1],an[2],an[3])},!1)){It.forEach(function(Rr){var an=L.segmentsIntersect(bt,Ct,mt,lt,Rr[0],Rr[1],Rr[2],Rr[3]);an&&(bt=an.x,Ct=an.y)});var Qt=d.arrowwidth,lr=d.arrowcolor,fr=d.arrowside,er=B.append("g").style({opacity:p.opacity(lr)}).classed("annotation-arrow-g",!0),Nt=er.append("path").attr("d","M"+bt+","+Ct+"L"+mt+","+lt).style("stroke-width",Qt+"px").call(p.stroke,p.rgb(lr));if(l(Nt,fr,d),o.annotationPosition&&Nt.node().parentNode&&!w){var ir=mt,vr=lt;if(d.standoff){var xr=Math.sqrt(Math.pow(mt-bt,2)+Math.pow(lt-Ct,2));ir+=d.standoff*(bt-mt)/xr,vr+=d.standoff*(Ct-lt)/xr}var dr=er.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-ir)+","+(Ct-vr),transform:S(ir,vr)}).style("stroke-width",Qt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Hr,Pr;f.init({element:dr.node(),gd:a,prepFn:function(){var Rr=r.getTranslate(le);Hr=Rr.x,Pr=Rr.y,C&&C.autorange&&D(C._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0)},moveFn:function(Rr,an){var tn=Ut(Hr,Pr),Sn=tn[0]+Rr,Tn=tn[1]+an;le.call(r.setTranslate,Sn,Tn),N("x",T(C,Rr,"x",A,d)),N("y",T(y,an,"y",A,d)),d.axref===d.xref&&N("ax",T(C,Rr,"ax",A,d)),d.ayref===d.yref&&N("ay",T(y,an,"ay",A,d)),er.attr("transform",S(Rr,an)),W.attr({transform:"rotate("+z+","+Sn+","+Tn+")"})},doneFn:function(){P.call("_guiRelayout",a,k());var Rr=document.querySelector(".js-notes-box-panel");Rr&&Rr.redraw(Rr.selectedObj)}})}}};if(d.showarrow&&Zt(0,0),J){var Kt;f.init({element:le.node(),gd:a,prepFn:function(){Kt=W.attr("transform")},moveFn:function(yr,or){var mt="pointer";if(d.showarrow)d.axref===d.xref?N("ax",T(C,yr,"ax",A,d)):N("ax",d.ax+yr),d.ayref===d.yref?N("ay",T(y,or,"ay",A.w,d)):N("ay",d.ay+or),Zt(yr,or);else{if(w)return;var lt,bt;if(C)lt=T(C,yr,"x",A,d);else{var Ct=d._xsize/A.w,Dt=d.x+(d._xshift-d.xshift)/A.w-Ct/2;lt=f.align(Dt+yr/A.w,Ct,0,1,d.xanchor)}if(y)bt=T(y,or,"y",A,d);else{var Ht=d._ysize/A.h,Bt=d.y-(d._yshift+d.yshift)/A.h-Ht/2;bt=f.align(Bt-or/A.h,Ht,0,1,d.yanchor)}N("x",lt),N("y",bt),(!C||!y)&&(mt=f.getCursor(C?.5:lt,y?.5:bt,d.xanchor,d.yanchor))}W.attr({transform:S(yr,or)+Kt}),n(le,mt)},clickFn:function(yr,or){d.captureevents&&a.emit("plotly_clickannotation",ne(or))},doneFn:function(){n(le),P.call("_guiRelayout",a,k());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}o.annotationText?se.call(i.makeEditable,{delegate:le,gd:a}).call(te).on("edit",function(ge){d.text=ge,this.call(te),N("text",ge),C&&C.autorange&&D(C._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0),P.call("_guiRelayout",a,k())}):se.call(te)}},33652:function(G,H,e){var m=e(33428),P=e(76308),s=e(72196),L=e(3400),S=L.strScale,v=L.strRotate,p=L.strTranslate;G.exports=function(t,i,n){var f=t.node(),u=s[n.arrowhead||0],l=s[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),T=i.indexOf("start")>=0,c=i.indexOf("end")>=0,a=u.backoff*g+n.standoff,d=l.backoff*h+n.startstandoff,x,w,C,y;if(f.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var M=x.x-w.x,A=x.y-w.y;if(C=Math.atan2(A,M),y=C+Math.PI,a&&d&&a+d>Math.sqrt(M*M+A*A)){W();return}if(a){if(a*a>M*M+A*A){W();return}var o=a*Math.cos(C),E=a*Math.sin(C);w.x+=o,w.y+=E,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>M*M+A*A){W();return}var b=d*Math.cos(C),I=d*Math.sin(C);x.x-=b,x.y-=I,t.attr({x1:x.x,y1:x.y})}}else if(f.nodeName==="path"){var D=f.getTotalLength(),N="";if(D<a+d){W();return}var k=f.getPointAtLength(0),O=f.getPointAtLength(.1);C=Math.atan2(k.y-O.y,k.x-O.x),x=f.getPointAtLength(Math.min(d,D)),N="0px,"+d+"px,";var F=f.getPointAtLength(D),z=f.getPointAtLength(D-.1);y=Math.atan2(F.y-z.y,F.x-z.x),w=f.getPointAtLength(Math.max(0,D-a));var B=N?d+a:a;N+=D-B+"px,"+D+"px",t.style("stroke-dasharray",N)}function W(){t.style("stroke-dasharray","0px,100px")}function J(re,ne,le,$){re.path&&(re.noRotate&&(le=0),m.select(f.parentNode).append("path").attr({class:t.attr("class"),d:re.path,transform:p(ne.x,ne.y)+v(le*180/Math.PI)+S($)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}T&&J(l,x,C,h),c&&J(u,w,y,g)}},79180:function(G,H,e){var m=e(23816),P=e(42300);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:m.draw,drawOne:m.drawOne,drawRaw:m.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(G,H,e){var m=e(13916),P=e(67824).overrideAll,s=e(31780).templatedArray;G.exports=P(s("annotation",{visible:m.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:m.xanchor,xshift:m.xshift,yanchor:m.yanchor,yshift:m.yshift,text:m.text,textangle:m.textangle,font:m.font,width:m.width,height:m.height,opacity:m.opacity,align:m.align,valign:m.valign,bgcolor:m.bgcolor,bordercolor:m.bordercolor,borderpad:m.borderpad,borderwidth:m.borderwidth,showarrow:m.showarrow,arrowcolor:m.arrowcolor,arrowhead:m.arrowhead,startarrowhead:m.startarrowhead,arrowside:m.arrowside,arrowsize:m.arrowsize,startarrowsize:m.startarrowsize,arrowwidth:m.arrowwidth,standoff:m.standoff,startstandoff:m.startstandoff,hovertext:m.hovertext,hoverlabel:m.hoverlabel,captureevents:m.captureevents}),"calc","from-root")},42456:function(G,H,e){var m=e(3400),P=e(54460);G.exports=function(S){for(var v=S.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)s(p[r],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()};function s(L,S){var v=S.fullSceneLayout,p=v.domain,r=S.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},m.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+p.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(p.x[1]-p.x[0])},L._ya={},m.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-p.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(87192),S=e(45899);G.exports=function(r,t,i){s(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:i.fullLayout})};function v(p,r,t,i){function n(l,g){return m.coerce(p,r,S,l,g)}function f(l){var g=l+"axis",h={_fullLayout:{}};return h._fullLayout[g]=t[g],P.coercePosition(r,h,n,l,l,.5)}var u=n("visible");u&&(L(p,r,i.fullLayout,n),f("x"),f("y"),f("z"),m.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),m.noneOrAll(p,r,["ax","ay"])))}},71836:function(G,H,e){var m=e(23816).drawRaw,P=e(94424),s=["x","y","z"];G.exports=function(S){for(var v=S.fullSceneLayout,p=S.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var i=r[t],n=!1,f=0;f<3;f++){var u=s[f],l=i[u],g=v[u+"axis"],h=g.r2fraction(l);if(h<0||h>1){n=!0;break}}n?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+t+'"]').remove():(i._pdata=P(S.glplot.cameraParams,[v.xaxis.r2l(i.x)*p[0],v.yaxis.r2l(i.y)*p[1],v.zaxis.r2l(i.z)*p[2]]),m(S.graphDiv,i,t,S.id,i._xa,i._ya))}}},56864:function(G,H,e){var m=e(24040),P=e(3400);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:s,convert:e(42456),draw:e(71836)};function s(L,S){var v=m.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var i=r[t];p.test(i)&&(L[i].annotations||[]).length&&(P.pushUnique(S._basePlotModules,v),P.pushUnique(S._subplots.gl3d,i))}}},54976:function(G,H,e){G.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(G,H,e){var m=e(54976),P=e(3400),s=e(39032),L=s.EPOCHJD,S=s.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(m.calendars),editType:"calc",dflt:"gregorian"},p=function(C,y,M,A){var o={};return o[M]=v,P.coerce(C,y,o,M,A)},r=function(C,y,M,A){for(var o=0;o<M.length;o++)p(C,y,M[o]+"calendar",A.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,y,M){for(var A=Math.floor((y+.05)/S)+L,o=h(M).fromJD(A),E=0,b,I,D,N,k;(E=C.indexOf("%",E))!==-1;)b=C.charAt(E+1),b==="0"||b==="-"||b==="_"?(D=3,I=C.charAt(E+2),b==="_"&&(b="-")):(I=b,b="0",D=2),N=u[I],N?(N===f?k=f:k=o.formatDate(N[b]),C=C.substr(0,E)+k+C.substr(E+D),E+=k.length):E+=D;return C}var g={};function h(C){var y=g[C];return y||(y=g[C]=m.instance(C),y)}function T(C){return P.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var a={xcalendar:T(c("x"))},d=P.extendFlat({},a,{ycalendar:T(c("y"))}),x=P.extendFlat({},d,{zcalendar:T(c("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:a,candlestick:a},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(G,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},76308:function(G,H,e){var m=e(49760),P=e(38248),s=e(38116).isTypedArray,L=G.exports={},S=e(22548);L.defaults=S.defaults;var v=L.defaultLine=S.defaultLine;L.lightLine=S.lightLine;var p=L.background=S.background;L.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},L.rgb=function(t){return L.tinyRGB(m(t))},L.opacity=function(t){return t?m(t).getAlpha():0},L.addOpacity=function(t,i){var n=m(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+i+")"},L.combine=function(t,i){var n=m(t).toRgb();if(n.a===1)return m(t).toRgbString();var f=m(i||p).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return m(l).toRgbString()},L.interpolate=function(t,i,n){var f=m(t).toRgb(),u=m(i).toRgb(),l={r:n*f.r+(1-n)*u.r,g:n*f.g+(1-n)*u.g,b:n*f.b+(1-n)*u.b};return m(l).toRgbString()},L.contrast=function(t,i,n){var f=m(t);f.getAlpha()!==1&&(f=m(L.combine(t,p)));var u=f.isDark()?i?f.lighten(i):p:n?f.darken(n):v;return u.toString()},L.stroke=function(t,i){var n=m(i);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,i){var n=m(i);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),n,f,u,l;for(n=0;n<i.length;n++)if(u=i[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var g=l[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(f=0;f<l.length;f++)L.clean(l[f])}else l&&typeof l=="object"&&!s(l)&&L.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var n=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),u=i.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var g=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+g+", "+f[3]+")":"rgb("+g+")"}},42996:function(G,H,e){var m=e(94724),P=e(25376),s=e(92880).extendFlat,L=e(67824).overrideAll;G.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:m.linecolor,outlinewidth:m.linewidth,bordercolor:m.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:m.minor.tickmode,nticks:m.nticks,tick0:m.tick0,dtick:m.dtick,tickvals:m.tickvals,ticktext:m.ticktext,ticks:s({},m.ticks,{dflt:""}),ticklabeloverflow:s({},m.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:m.ticklen,tickwidth:m.tickwidth,tickcolor:m.tickcolor,ticklabelstep:m.ticklabelstep,showticklabels:m.showticklabels,labelalias:m.labelalias,tickfont:P({}),tickangle:m.tickangle,tickformat:m.tickformat,tickformatstops:m.tickformatstops,tickprefix:m.tickprefix,showtickprefix:m.showtickprefix,ticksuffix:m.ticksuffix,showticksuffix:m.showticksuffix,separatethousands:m.separatethousands,exponentformat:m.exponentformat,minexponent:m.minexponent,showexponent:m.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(G,H,e){var m=e(3400),P=e(31780),s=e(26332),L=e(25404),S=e(95936),v=e(42568),p=e(42996);G.exports=function(t,i,n){var f=P.newContainer(i,"colorbar"),u=t.colorbar||{};function l(F,z){return m.coerce(u,f,p,F,z)}var g=n.margin||{t:0,b:0,l:0,r:0},h=n.width-g.l-g.r,T=n.height-g.t-g.b,c=l("orientation"),a=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(a?h:T):30);var x=l("lenmode");l("len",x==="fraction"?1:a?T:h);var w=l("yref"),C=l("xref"),y=w==="paper",M=C==="paper",A,o,E,b="left";a?(E="middle",b=M?"left":"right",A=M?1.02:1,o=.5):(E=y?"bottom":"top",b="center",A=.5,o=y?1.02:1),m.coerce(u,f,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:A}},"x"),m.coerce(u,f,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:o}},"y"),l("xanchor",b),l("xpad"),l("yanchor",E),l("ypad"),m.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var I=m.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:a?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(u,f,l,"linear");var D=n.font,N={noAutotickangles:!0,outerTicks:!1,font:D};I.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,f,l,"linear",N),S(u,f,l,"linear",N),L(u,f,l,"linear",N),l("title.text",n._dfltTitle.colorbar);var k=f.showticklabels?f.tickfont:D,O=m.extendFlat({},D,{family:k.family,size:m.bigFont(k.size)});m.coerceFont(l,"title.font",O),l("title.side",a?"top":"right")}},37848:function(G,H,e){var m=e(33428),P=e(49760),s=e(7316),L=e(24040),S=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,i=e(93972),n=e(43616),f=e(76308),u=e(81668),l=e(72736),g=e(94288).flipScale,h=e(28336),T=e(37668),c=e(94724),a=e(84284),d=a.LINE_SPACING,x=a.FROM_TL,w=a.FROM_BR,C=e(63964).cn;function y(I){var D=I._fullLayout,N=D._infolayer.selectAll("g."+C.colorbar).data(M(I),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(C.colorbar,!0),N.each(function(k){var O=m.select(this);p.ensureSingle(O,"rect",C.cbbg),p.ensureSingle(O,"g",C.cbfills),p.ensureSingle(O,"g",C.cblines),p.ensureSingle(O,"g",C.cbaxis,function(z){z.classed(C.crisp,!0)}),p.ensureSingle(O,"g",C.cbtitleunshift,function(z){z.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(O,"rect",C.cboutline);var F=A(O,k,I);F&&F.then&&(I._promises||[]).push(F),I._context.edits.colorbarPosition&&o(O,k,I)}),N.exit().each(function(k){s.autoMargin(I,k._id)}).remove(),N.order()}function M(I){var D=I._fullLayout,N=I.calcdata,k=[],O,F,z,B;function W(X){return t(X,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof B.calc=="function"?B.calc(I,z,O):(O._fillgradient=F.reversescale?g(F.colorscale):F.colorscale,O._zrange=[F[B.min],F[B.max]])}for(var re=0;re<N.length;re++){var ne=N[re];if(z=ne[0].trace,!!z._module){var le=z._module.colorbar;if(z.visible===!0&&le)for(var $=Array.isArray(le),K=$?le:[le],ie=0;ie<K.length;ie++){B=K[ie];var Y=B.container;F=Y?z[Y]:z,F&&F.showscale&&(O=W(F.colorbar),O._id="cb"+z.uid+($&&Y?"-"+Y:""),O._traceIndex=z.index,O._propPrefix=(Y?Y+".":"")+"colorbar.",O._meta=z._meta,J(),k.push(O))}}}for(var Q in D._colorAxes)if(F=D[Q],F.showscale){var oe=D._colorAxes[Q];O=W(F.colorbar),O._id="cb"+Q,O._propPrefix=Q+".colorbar.",O._meta=D._meta,B={min:"cmin",max:"cmax"},oe[0]!=="heatmap"&&(z=oe[1],B.calc=z._module.colorbar.calc),J(),k.push(O)}return k}function A(I,D,N){var k=D.orientation==="v",O=D.len,F=D.lenmode,z=D.thickness,B=D.thicknessmode,W=D.outlinewidth,J=D.borderwidth,re=D.bgcolor,ne=D.xanchor,le=D.yanchor,$=D.xpad,K=D.ypad,ie=D.x,Y=k?D.y:1-D.y,Q=D.yref==="paper",oe=D.xref==="paper",X=N._fullLayout,j=X._size,se=D._fillcolor,te=D._line,fe=D.title,ge=fe.side,be=D._zrange||m.extent((typeof se=="function"?se:te.color).domain()),xe=typeof te.color=="function"?te.color:function(){return te.color},_e=typeof se=="function"?se:function(){return se},De=D._levels,Fe=E(N,D,be),Te=Fe.fill,Re=Fe.line,Se=Math.round(z*(B==="fraction"?k?j.w:j.h:1)),Ie=Se/(k?j.w:j.h),Me=Math.round(O*(F==="fraction"?k?j.h:j.w:1)),Ve=Me/(k?j.h:j.w),et=oe?j.w:N._fullLayout.width,it=Q?j.h:N._fullLayout.height,Je=Math.round(k?ie*et+$:Y*it+K),Qe={center:.5,right:1}[ne]||0,ct={top:1,middle:.5}[le]||0,ht=k?ie-Qe*Ie:Y-ct*Ie,gt=k?Y-ct*Ve:ie-Qe*Ve,Tt=Math.round(k?it*(1-gt):et*gt);D._lenFrac=Ve,D._thickFrac=Ie,D._uFrac=ht,D._vFrac=gt;var Et=D._axis=b(N,D,be);Et.position=Ie+(k?ie+$/j.w:Y+K/j.h);var rt=["top","bottom"].indexOf(ge)!==-1;if(k&&rt&&(Et.title.side=ge,Et.titlex=ie+$/j.w,Et.titley=gt+(fe.side==="top"?Ve-K/j.h:K/j.h)),!k&&!rt&&(Et.title.side=ge,Et.titley=Y+K/j.h,Et.titlex=gt+$/j.w),te.color&&D.tickmode==="auto"){Et.tickmode="linear",Et.tick0=De.start;var ze=De.size,He=p.constrain(Me/50,4,15)+1,Ge=(be[1]-be[0])/((D.nticks||He)*ze);if(Ge>1){var We=Math.pow(10,Math.floor(Math.log(Ge)/Math.LN10));ze*=We*p.roundUp(Ge/We,[2,5,10]),(Math.abs(De.start)/De.size+1e-6)%1<2e-6&&(Et.tick0=0)}Et.dtick=ze}Et.domain=k?[gt+K/j.h,gt+Ve-K/j.h]:[gt+$/j.w,gt+Ve-$/j.w],Et.setScale(),I.attr("transform",r(Math.round(j.l),Math.round(j.t)));var Le=I.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(j.l),-Math.round(j.t))),Pe=Et.ticklabelposition,je=Et.title.font.size,Ce=I.select("."+C.cbaxis),he,me=0,Ne=0;function $e(dt,Mt){var Xt={propContainer:Et,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:X._dfltTitle.colorbar,containerGroup:I.select("."+C.cbtitle)},nr=dt.charAt(0)==="h"?dt.substr(1):"h"+dt;I.selectAll("."+nr+",."+nr+"-math-group").remove(),u.draw(N,dt,t(Xt,Mt||{}))}function ot(){if(k&&rt||!k&&!rt){var dt,Mt;ge==="top"&&(dt=$+j.l+et*ie,Mt=K+j.t+it*(1-gt-Ve)+3+je*.75),ge==="bottom"&&(dt=$+j.l+et*ie,Mt=K+j.t+it*(1-gt)-3-je*.25),ge==="right"&&(Mt=K+j.t+it*Y+3+je*.75,dt=$+j.l+et*gt),$e(Et._id+"title",{attributes:{x:dt,y:Mt,"text-anchor":k?"start":"middle"}})}}function st(){if(k&&!rt||!k&&rt){var dt=Et.position||0,Mt=Et._offset+Et._length/2,Xt,nr;if(ge==="right")nr=Mt,Xt=j.l+et*dt+10+je*(Et.showticklabels?1:.5);else if(Xt=Mt,ge==="bottom"&&(nr=j.t+it*dt+10+(Pe.indexOf("inside")===-1?Et.tickfont.size:0)+(Et.ticks!=="intside"&&D.ticklen||0)),ge==="top"){var vt=fe.text.split("<br>").length;nr=j.t+it*dt+10-Se-d*je*vt}$e((k?"h":"v")+Et._id+"title",{avoid:{selection:m.select(N).selectAll("g."+Et._id+"tick"),side:ge,offsetTop:k?0:j.t,offsetLeft:k?j.l:0,maxShift:k?X.width:X.height},attributes:{x:Xt,y:nr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function Wt(){if(!k&&!rt||k&&rt){var dt=I.select("."+C.cbtitle),Mt=dt.select("text"),Xt=[-W/2,W/2],nr=dt.select(".h"+Et._id+"title-math-group").node(),vt=15.6;Mt.node()&&(vt=parseInt(Mt.node().style.fontSize,10)*d);var Zt;if(nr?(Zt=n.bBox(nr),Ne=Zt.width,me=Zt.height,me>vt&&(Xt[1]-=(me-vt)/2)):Mt.node()&&!Mt.classed(C.jsPlaceholder)&&(Zt=n.bBox(Mt.node()),Ne=Zt.width,me=Zt.height),k){if(me){if(me+=5,ge==="top")Et.domain[1]-=me/j.h,Xt[1]*=-1;else{Et.domain[0]+=me/j.h;var Kt=l.lineCount(Mt);Xt[1]+=(1-Kt)*vt}dt.attr("transform",r(Xt[0],Xt[1])),Et.setScale()}}else Ne&&(ge==="right"&&(Et.domain[0]+=(Ne+je/2)/j.w),dt.attr("transform",r(Xt[0],Xt[1])),Et.setScale())}I.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",k?r(0,Math.round(j.h*(1-Et.domain[1]))):r(Math.round(j.w*Et.domain[0]),0)),Ce.attr("transform",k?r(0,Math.round(-j.t)):r(Math.round(-j.l),0));var yr=I.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(Te);yr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),yr.exit().remove();var or=be.map(Et.c2p).map(Math.round).sort(function(Dt,Ht){return Dt-Ht});yr.each(function(Dt,Ht){var Bt=[Ht===0?be[0]:(Te[Ht]+Te[Ht-1])/2,Ht===Te.length-1?be[1]:(Te[Ht]+Te[Ht+1])/2].map(Et.c2p).map(Math.round);k&&(Bt[1]=p.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,or[0],or[1]));var Ut=m.select(this).attr(k?"x":"y",Je).attr(k?"y":"x",m.min(Bt)).attr(k?"width":"height",Math.max(Se,2)).attr(k?"height":"width",Math.max(m.max(Bt)-m.min(Bt),2));if(D._fillgradient)n.gradient(Ut,N,D._id,k?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var Jt=_e(Dt).replace("e-","");Ut.attr("fill",P(Jt).toHexString())}});var mt=I.select("."+C.cblines).selectAll("path."+C.cbline).data(te.color&&te.width?Re:[]);mt.enter().append("path").classed(C.cbline,!0),mt.exit().remove(),mt.each(function(Dt){var Ht=Je,Bt=Math.round(Et.c2p(Dt))+te.width/2%1;m.select(this).attr("d","M"+(k?Ht+","+Bt:Bt+","+Ht)+(k?"h":"v")+Se).call(n.lineGroupStyle,te.width,xe(Dt),te.dash)}),Ce.selectAll("g."+Et._id+"tick,path").remove();var lt=Je+Se+(W||0)/2-(D.ticks==="outside"?1:0),bt=S.calcTicks(Et),Ct=S.getTickSigns(Et)[2];return S.drawTicks(N,Et,{vals:Et.ticks==="inside"?S.clipEnds(Et,bt):bt,layer:Ce,path:S.makeTickPath(Et,lt,Ct),transFn:S.makeTransTickFn(Et)}),S.drawLabels(N,Et,{vals:bt,layer:Ce,transFn:S.makeTransTickLabelFn(Et),labelFns:S.makeLabelFns(Et,lt)})}function Pt(){var dt,Mt=Se+W/2;Pe.indexOf("inside")===-1&&(dt=n.bBox(Ce.node()),Mt+=k?dt.width:dt.height),he=Le.select("text");var Xt=0,nr=k&&ge==="top",vt=!k&&ge==="right",Zt=0;if(he.node()&&!he.classed(C.jsPlaceholder)){var Kt,yr=Le.select(".h"+Et._id+"title-math-group").node();yr&&(k&&rt||!k&&!rt)?(dt=n.bBox(yr),Xt=dt.width,Kt=dt.height):(dt=n.bBox(Le.node()),Xt=dt.right-j.l-(k?Je:Tt),Kt=dt.bottom-j.t-(k?Tt:Je),!k&&ge==="top"&&(Mt+=dt.height,Zt=dt.height)),vt&&(he.attr("transform",r(Xt/2+je/2,0)),Xt*=2),Mt=Math.max(Mt,k?Xt:Kt)}var or=(k?$:K)*2+Mt+J+W/2,mt=0;!k&&fe.text&&le==="bottom"&&Y<=0&&(mt=or/2,or+=mt,Zt+=mt),X._hColorbarMoveTitle=mt,X._hColorbarMoveCBTitle=Zt;var lt=J+W,bt=(k?Je:Tt)-lt/2-(k?$:0),Ct=(k?Tt:Je)-(k?Me:K+Zt-mt);I.select("."+C.cbbg).attr("x",bt).attr("y",Ct).attr(k?"width":"height",Math.max(or-mt,2)).attr(k?"height":"width",Math.max(Me+lt,2)).call(f.fill,re).call(f.stroke,D.bordercolor).style("stroke-width",J);var Dt=vt?Math.max(Xt-10,0):0;I.selectAll("."+C.cboutline).attr("x",(k?Je:Tt+$)+Dt).attr("y",(k?Tt+K-Me:Je)+(nr?me:0)).attr(k?"width":"height",Math.max(Se,2)).attr(k?"height":"width",Math.max(Me-(k?2*K+me:2*$+Dt),2)).call(f.stroke,D.outlinecolor).style({fill:"none","stroke-width":W});var Ht=k?Qe*or:0,Bt=k?0:(1-ct)*or-Zt;if(Ht=oe?j.l-Ht:-Ht,Bt=Q?j.t-Bt:-Bt,I.attr("transform",r(Ht,Bt)),!k&&(J||P(re).getAlpha()&&!P.equals(X.paper_bgcolor,re))){var Ut=Ce.selectAll("text"),Jt=Ut[0].length,cr=I.select("."+C.cbbg).node(),hr=n.bBox(cr),pr=n.getTranslate(I),Ye=2;Ut.each(function(vr,xr){var dr=0,Hr=Jt-1;if(xr===dr||xr===Hr){var Pr=n.bBox(this),Rr=n.getTranslate(this),an;if(xr===Hr){var tn=Pr.right+Rr.x,Sn=hr.right+pr.x+Tt-J-Ye+ie;an=Sn-tn,an>0&&(an=0)}else if(xr===dr){var Tn=Pr.left+Rr.x,Tr=hr.left+pr.x+Tt+J+Ye;an=Tr-Tn,an<0&&(an=0)}an&&(Jt<3?this.setAttribute("transform","translate("+an+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ue={},Ot=x[ne],It=w[ne],Qt=x[le],lr=w[le],fr=or-Se;k?(F==="pixels"?(Ue.y=Y,Ue.t=Me*Qt,Ue.b=Me*lr):(Ue.t=Ue.b=0,Ue.yt=Y+O*Qt,Ue.yb=Y-O*lr),B==="pixels"?(Ue.x=ie,Ue.l=or*Ot,Ue.r=or*It):(Ue.l=fr*Ot,Ue.r=fr*It,Ue.xl=ie-z*Ot,Ue.xr=ie+z*It)):(F==="pixels"?(Ue.x=ie,Ue.l=Me*Ot,Ue.r=Me*It):(Ue.l=Ue.r=0,Ue.xl=ie+O*Ot,Ue.xr=ie-O*It),B==="pixels"?(Ue.y=1-Y,Ue.t=or*Qt,Ue.b=or*lr):(Ue.t=fr*Qt,Ue.b=fr*lr,Ue.yt=Y-z*Qt,Ue.yb=Y+z*lr));var er=D.y<.5?"b":"t",Nt=D.x<.5?"l":"r";N._fullLayout._reservedMargin[D._id]={};var ir={r:X.width-bt-Ht,l:bt+Ue.r,b:X.height-Ct-Bt,t:Ct+Ue.b};oe&&Q?s.autoMargin(N,D._id,Ue):oe?N._fullLayout._reservedMargin[D._id][er]=ir[er]:Q||k?N._fullLayout._reservedMargin[D._id][Nt]=ir[Nt]:N._fullLayout._reservedMargin[D._id][er]=ir[er]}return p.syncOrAsync([s.previousPromises,ot,Wt,st,s.previousPromises,Pt],N)}function o(I,D,N){var k=D.orientation==="v",O=N._fullLayout,F=O._size,z,B,W;v.init({element:I.node(),gd:N,prepFn:function(){z=I.attr("transform"),i(I)},moveFn:function(J,re){I.attr("transform",z+r(J,re)),B=v.align((k?D._uFrac:D._vFrac)+J/F.w,k?D._thickFrac:D._lenFrac,0,1,D.xanchor),W=v.align((k?D._vFrac:1-D._uFrac)-re/F.h,k?D._lenFrac:D._thickFrac,0,1,D.yanchor);var ne=v.getCursor(B,W,D.xanchor,D.yanchor);i(I,ne)},doneFn:function(){if(i(I),B!==void 0&&W!==void 0){var J={};J[D._propPrefix+"x"]=B,J[D._propPrefix+"y"]=W,D._traceIndex!==void 0?L.call("_guiRestyle",N,J,D._traceIndex):L.call("_guiRelayout",N,J)}}})}function E(I,D,N){var k=D._levels,O=[],F=[],z,B,W=k.end+k.size/100,J=k.size,re=1.001*N[0]-.001*N[1],ne=1.001*N[1]-.001*N[0];for(B=0;B<1e5&&(z=k.start+B*J,!(J>0?z>=W:z<=W));B++)z>re&&z<ne&&O.push(z);if(D._fillgradient)F=[0];else if(typeof D._fillcolor=="function"){var le=D._filllevels;if(le)for(W=le.end+le.size/100,J=le.size,B=0;B<1e5&&(z=le.start+B*J,!(J>0?z>=W:z<=W));B++)z>N[0]&&z<N[1]&&F.push(z);else F=O.map(function($){return $-k.size/2}),F.push(F[F.length-1]+k.size)}else D._fillcolor&&typeof D._fillcolor=="string"&&(F=[0]);return k.size<0&&(O.reverse(),F.reverse()),{line:O,fill:F}}function b(I,D,N){var k=I._fullLayout,O=D.orientation==="v",F={type:"linear",range:N,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},z=O?"y":"x",B={type:"linear",_id:z+D._id},W={letter:z,font:k.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function J(re,ne){return p.coerce(F,B,c,re,ne)}return h(F,B,J,W,k),T(F,B,J,W),B}G.exports={draw:y}},90553:function(G,H,e){var m=e(3400);G.exports=function(s){return m.isPlainObject(s.colorbar)}},55080:function(G,H,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(G,H,e){var m=e(42996),P=e(53756).counter,s=e(95376),L=e(88304).scales;s(L),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",i="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,f=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",g=r+"min",h=r+"max",T=r+"mid",c={};c[g]=c[h]=void 0;var a={};a[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:f||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[g]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:a},d[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:a},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:i,editType:"calc"},d.colorbar=m),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(G,H,e){var m=e(38248),P=e(3400),s=e(94288).extractOpts;G.exports=function(S,v,p){var r=S._fullLayout,t=p.vals,i=p.containerStr,n=i?P.nestedProperty(v,i).get():v,f=s(n),u=f.auto!==!1,l=f.min,g=f.max,h=f.mid,T=function(){return P.aggNums(Math.min,null,t)},c=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=T():u&&(n._colorAx&&m(l)?l=Math.min(l,T()):l=T()),g===void 0?g=c():u&&(n._colorAx&&m(g)?g=Math.max(g,c()):g=c()),u&&h!==void 0&&(g-h>h-l?l=h-(g-h):g-h<h-l&&(g=h+(h-l))),l===g&&(l-=.5,g+=.5),f._sync("min",l),f._sync("max",g),f.autocolorscale){var a;l*g<0?a=r.colorscale.diverging:l>=0?a=r.colorscale.sequential:a=r.colorscale.sequentialminus,f._sync("colorscale",a)}}},95504:function(G,H,e){var m=e(3400),P=e(94288).hasColorscale,s=e(94288).extractOpts;G.exports=function(S,v){function p(l,g){var h=l["_"+g];h!==void 0&&(l[g]=h)}function r(l,g){var h=g.container?m.nestedProperty(l,g.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=s(h),c=T.auto;(c||T.min===void 0)&&p(h,g.min),(c||T.max===void 0)&&p(h,g.max),T.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<S.length;t++){var i=S[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(i,n[f]);else r(i,n);P(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(G,H,e){var m=e(38248),P=e(3400),s=e(90553),L=e(64013),S=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var i=t.slice(0,t.length-1);return t?P.nestedProperty(r,i).get()||{}:r}G.exports=function r(t,i,n,f,u){var l=u.prefix,g=u.cLetter,h="_module"in i,T=p(t,l),c=p(i,l),a=p(i._template||{},l)||{},d=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,n,f,u)};if(h){var x=n._colorAxes||{},w=f(l+"coloraxis");if(w){var C=v(i,"contour")&&P.nestedProperty(i,"contours.coloring").get()||"heatmap",y=x[w];y?(y[2].push(d),y[0]!==C&&(y[0]=!1,P.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[w]=[C,i,[d]];return}}var M=T[g+"min"],A=T[g+"max"],o=m(M)&&m(A)&&M<A,E=f(l+g+"auto",!o);E?f(l+g+"mid"):(f(l+g+"min"),f(l+g+"max"));var b=T.colorscale,I=a.colorscale,D;if(b!==void 0&&(D=!S(b)),I!==void 0&&(D=!S(I)),f(l+"autocolorscale",D),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var N;l&&h&&(N=s(T));var k=f(l+"showscale",N);k&&(l&&a&&(c._template=a),L(T,c,n))}}},94288:function(G,H,e){var m=e(33428),P=e(49760),s=e(38248),L=e(3400),S=e(76308),v=e(88304).isValid;function p(h,T,c){var a=T?L.nestedProperty(h,T).get()||{}:h,d=a[c||"color"];d&&d._inputArray&&(d=d._inputArray);var x=!1;if(L.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(s(d[w])){x=!0;break}}return L.isPlainObject(a)&&(x||a.showscale===!0||s(a.cmin)&&s(a.cmax)||v(a.colorscale)||L.isPlainObject(a.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(h){var T=h._colorAx,c=T||h,a={},d,x,w;for(x=0;x<r.length;x++)w=r[x],a[w]=c[w];if(T)for(d="c",x=0;x<t.length;x++)w=t[x],a[w]=c["c"+w];else{var C;for(x=0;x<t.length;x++){if(w=t[x],C="c"+w,C in c){a[w]=c[C];continue}C="z"+w,C in c&&(a[w]=c[C])}d=C.charAt(0)}return a._sync=function(y,M){var A=t.indexOf(y)!==-1?d+y:y;c[A]=c["_"+A]=M},a}function n(h){for(var T=i(h),c=T.min,a=T.max,d=T.reversescale?f(T.colorscale):T.colorscale,x=d.length,w=new Array(x),C=new Array(x),y=0;y<x;y++){var M=d[y];w[y]=c+M[0]*(a-c),C[y]=M[1]}return{domain:w,range:C}}function f(h){for(var T=h.length,c=new Array(T),a=T-1,d=0;a>=0;a--,d++){var x=h[a];c[d]=[1-x[0],x[1]]}return c}function u(h,T){T=T||{};for(var c=h.domain,a=h.range,d=a.length,x=new Array(d),w=0;w<d;w++){var C=P(a[w]).toRgb();x[w]=[C.r,C.g,C.b,C.a]}var y=m.scale.linear().domain(c).range(x).clamp(!0),M=T.noNumericCheck,A=T.returnArray,o;return M&&A?o=y:M?o=function(E){return g(y(E))}:A?o=function(E){return s(E)?y(E):P(E).isValid()?E:S.defaultLine}:o=function(E){return s(E)?g(y(E)):P(E).isValid()?E:S.defaultLine},o.domain=y.domain,o.range=function(){return a},o}function l(h,T){return u(n(h),T)}function g(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return P(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:i,extractScale:n,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(G,H,e){var m=e(88304),P=e(94288);G.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:m.scales,defaultScale:m.defaultScale,getScale:m.get,isValidScale:m.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(G,H,e){var m=e(92880).extendFlat,P=e(49084),s=e(88304).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:m({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(G,H,e){var m=e(3400),P=e(31780),s=e(92332),L=e(27260);G.exports=function(v,p){function r(h,T){return m.coerce(v,p,s,h,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,i,n;function f(h,T){return m.coerce(i,n,s.coloraxis,h,T)}for(var u in t){var l=t[u];if(l[0])i=v[u]||{},n=P.newContainer(p,u,"coloraxis"),n._name=u,L(i,n,p,f,{prefix:"",cLetter:"c"});else{for(var g=0;g<l[2].length;g++)l[2][g]();delete p._colorAxes[u]}}}},88304:function(G,H,e){var m=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=P.RdBu;function L(p,r){if(r||(r=s),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),S(p)?p:r}function S(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var i=p[t];if(i.length!==2||+i[0]<r||!m(i[1]).isValid())return!1;r=+i[0]}return!0}function v(p){return P[p]!==void 0?!0:S(p)}G.exports={scales:P,defaultScale:s,get:L,isValid:v}},78316:function(G){G.exports=function(e,m,P,s,L){var S=(e-P)/(s-P),v=S+m/(s-P),p=(S+v)/2;return L==="left"||L==="bottom"?S:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:S<.6666666666666666-p?S:v>1.3333333333333333-p?v:p}},67416:function(G,H,e){var m=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(L,S,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=m.constrain(Math.floor(L*3),0,2),p==="bottom"?S=0:p==="middle"?S=1:p==="top"?S=2:S=m.constrain(Math.floor(S*3),0,2),P[S][L]}},72760:function(G,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},86476:function(G,H,e){var m=e(29128),P=e(52264),s=e(89184),L=e(3400).removeElement,S=e(33816),v=G.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var f=n.gd,u=1,l=f._context.doubleClickDelay,g=n.element,h,T,c,a,d,x,w,C;f._mouseDownTime||(f._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=A,s?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=A,g.addEventListener("touchstart",A,{passive:!1})):g.ontouchstart=A;function y(b,I,D){return Math.abs(b)<D&&(b=0),Math.abs(I)<D&&(I=0),[b,I]}var M=n.clampFn||y;function A(b){f._dragged=!1,f._dragging=!0;var I=t(b);h=I[0],T=I[1],w=b.target,x=b,C=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=h,b.clientY=T),c=new Date().getTime(),c-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=c),n.prepFn&&n.prepFn(b,h,T),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(g).cursor):P||(d=document,a=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}))}function o(b){b.preventDefault();var I=t(b),D=n.minDrag||S.MINDRAG,N=M(I[0]-h,I[1]-T,D),k=N[0],O=N[1];(k||O)&&(f._dragged=!0,v.unhover(f,b)),f._dragged&&n.moveFn&&!C&&(f._dragdata={element:g,dx:k,dy:O},n.moveFn(k,O))}function E(b){if(delete f._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),P?L(d):a&&(d.documentElement.style.cursor=a,a=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,x),!C){var I;try{I=new MouseEvent("click",b)}catch{var D=t(b);I=document.createEvent("MouseEvents"),I.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,D[0],D[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}w.dispatchEvent(I)}f._dragging=!1,f._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var n=i.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(i),i}v.coverSlip=r;function t(i){return m(i.changedTouches?i.changedTouches[0]:i,document.body)}},2616:function(G,H,e){var m=e(95924),P=e(91200),s=e(52200).getGraphDiv,L=e(92456),S=G.exports={};S.wrapped=function(v,p,r){v=s(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),S.raw(v,p,r)},S.raw=function(p,r){var t=p._fullLayout,i=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&m.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&i&&p.emit("plotly_unhover",{event:r,points:i}))}},98192:function(G,H){H.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(G,H,e){var m=e(33428),P=e(3400),s=P.numberFormat,L=e(38248),S=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,i=e(72736),n=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,g=e(43028),h=e(7152),T=e(10624).appendArrayPointValue,c=G.exports={};c.font=function(Se,Ie){var Me=Ie.variant,Ve=Ie.style,et=Ie.weight,it=Ie.color,Je=Ie.size,Qe=Ie.family,ct=Ie.shadow,ht=Ie.lineposition,gt=Ie.textcase;Qe&&Se.style("font-family",Qe),Je+1&&Se.style("font-size",Je+"px"),it&&Se.call(p.fill,it),et&&Se.style("font-weight",et),Ve&&Se.style("font-style",Ve),Me&&Se.style("font-variant",Me),gt&&Se.style("text-transform",a(x(gt))),ct&&Se.style("text-shadow",ct==="auto"?i.makeTextShadow(p.contrast(it)):a(ct)),ht&&Se.style("text-decoration-line",a(w(ht)))};function a(Se){return Se==="none"?void 0:Se}var d={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function x(Se){return d[Se]}function w(Se){return Se.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(Se,Ie,Me){Se.attr("x",Ie).attr("y",Me)},c.setSize=function(Se,Ie,Me){Se.attr("width",Ie).attr("height",Me)},c.setRect=function(Se,Ie,Me,Ve,et){Se.call(c.setPosition,Ie,Me).call(c.setSize,Ve,et)},c.translatePoint=function(Se,Ie,Me,Ve){var et=Me.c2p(Se.x),it=Ve.c2p(Se.y);if(L(et)&&L(it)&&Ie.node())Ie.node().nodeName==="text"?Ie.attr("x",et).attr("y",it):Ie.attr("transform",t(et,it));else return!1;return!0},c.translatePoints=function(Se,Ie,Me){Se.each(function(Ve){var et=m.select(this);c.translatePoint(Ve,et,Ie,Me)})},c.hideOutsideRangePoint=function(Se,Ie,Me,Ve,et,it){Ie.attr("display",Me.isPtWithinRange(Se,et)&&Ve.isPtWithinRange(Se,it)?null:"none")},c.hideOutsideRangePoints=function(Se,Ie){if(Ie._hasClipOnAxisFalse){var Me=Ie.xaxis,Ve=Ie.yaxis;Se.each(function(et){var it=et[0].trace,Je=it.xcalendar,Qe=it.ycalendar,ct=v.traceIs(it,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(ct).each(function(ht){c.hideOutsideRangePoint(ht,m.select(this),Me,Ve,Je,Qe)})})}},c.crispRound=function(Se,Ie,Me){return!Ie||!L(Ie)?Me||0:Se._context.staticPlot?Ie:Ie<1?1:Math.round(Ie)},c.singleLineStyle=function(Se,Ie,Me,Ve,et){Ie.style("fill","none");var it=(((Se||[])[0]||{}).trace||{}).line||{},Je=Me||it.width||0,Qe=et||it.dash||"";p.stroke(Ie,Ve||it.color),c.dashLine(Ie,Qe,Je)},c.lineGroupStyle=function(Se,Ie,Me,Ve){Se.style("fill","none").each(function(et){var it=(((et||[])[0]||{}).trace||{}).line||{},Je=Ie||it.width||0,Qe=Ve||it.dash||"";m.select(this).call(p.stroke,Me||it.color).call(c.dashLine,Qe,Je)})},c.dashLine=function(Se,Ie,Me){Me=+Me||0,Ie=c.dashStyle(Ie,Me),Se.style({"stroke-dasharray":Ie,"stroke-width":Me+"px"})},c.dashStyle=function(Se,Ie){Ie=+Ie||1;var Me=Math.max(Ie,3);return Se==="solid"?Se="":Se==="dot"?Se=Me+"px,"+Me+"px":Se==="dash"?Se=3*Me+"px,"+3*Me+"px":Se==="longdash"?Se=5*Me+"px,"+5*Me+"px":Se==="dashdot"?Se=3*Me+"px,"+Me+"px,"+Me+"px,"+Me+"px":Se==="longdashdot"&&(Se=5*Me+"px,"+2*Me+"px,"+Me+"px,"+2*Me+"px"),Se};function C(Se,Ie,Me,Ve){var et=Ie.fillpattern,it=Ie.fillgradient,Je=et&&c.getPatternAttr(et.shape,0,"");if(Je){var Qe=c.getPatternAttr(et.bgcolor,0,null),ct=c.getPatternAttr(et.fgcolor,0,null),ht=et.fgopacity,gt=c.getPatternAttr(et.size,0,8),Tt=c.getPatternAttr(et.solidity,0,.3),Et=Ie.uid;c.pattern(Se,"point",Me,Et,Je,gt,Tt,void 0,et.fillmode,Qe,ct,ht)}else if(it&&it.type!=="none"){var rt=it.type,ze="scatterfill-"+Ie.uid;if(Ve&&(ze="legendfill-"+Ie.uid),!Ve&&(it.start!==void 0||it.stop!==void 0)){var He,Ge;rt==="horizontal"?(He={x:it.start,y:0},Ge={x:it.stop,y:0}):rt==="vertical"&&(He={x:0,y:it.start},Ge={x:0,y:it.stop}),He.x=Ie._xA.c2p(He.x===void 0?Ie._extremes.x.min[0].val:He.x,!0),He.y=Ie._yA.c2p(He.y===void 0?Ie._extremes.y.min[0].val:He.y,!0),Ge.x=Ie._xA.c2p(Ge.x===void 0?Ie._extremes.x.max[0].val:Ge.x,!0),Ge.y=Ie._yA.c2p(Ge.y===void 0?Ie._extremes.y.max[0].val:Ge.y,!0),Se.call(I,Me,ze,"linear",it.colorscale,"fill",He,Ge,!0,!1)}else rt==="horizontal"&&(rt=rt+"reversed"),Se.call(c.gradient,Me,ze,rt,it.colorscale,"fill")}else Ie.fillcolor&&Se.call(p.fill,Ie.fillcolor)}c.singleFillStyle=function(Se,Ie){var Me=m.select(Se.node()),Ve=Me.data(),et=((Ve[0]||[])[0]||{}).trace||{};C(Se,et,Ie,!1)},c.fillGroupStyle=function(Se,Ie,Me){Se.style("stroke-width",0).each(function(Ve){var et=m.select(this);Ve[0].trace&&C(et,Ve[0].trace,Ie,Me)})};var y=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(y).forEach(function(Se){var Ie=y[Se],Me=Ie.n;c.symbolList.push(Me,String(Me),Se,Me+100,String(Me+100),Se+"-open"),c.symbolNames[Me]=Se,c.symbolFuncs[Me]=Ie.f,c.symbolBackOffs[Me]=Ie.backoff||0,Ie.needLine&&(c.symbolNeedLines[Me]=!0),Ie.noDot?c.symbolNoDot[Me]=!0:c.symbolList.push(Me+200,String(Me+200),Se+"-dot",Me+300,String(Me+300),Se+"-open-dot"),Ie.noFill&&(c.symbolNoFill[Me]=!0)});var M=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(Se){if(L(Se))Se=+Se;else if(typeof Se=="string"){var Ie=0;Se.indexOf("-open")>0&&(Ie=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(Ie+=200,Se=Se.replace("-dot","")),Se=c.symbolNames.indexOf(Se),Se>=0&&(Se+=Ie)}return Se%100>=M||Se>=400?0:Math.floor(Math.max(Se,0))};function o(Se,Ie,Me,Ve){var et=Se%100;return c.symbolFuncs[et](Ie,Me,Ve)+(Se>=200?A:"")}var E=s("~f"),b={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(Se,Ie,Me,Ve,et,it){var Je=b[Ve];return I(Se,Ie,Me,Je.type,et,it,Je.start,Je.stop,!1,Je.reversed)};function I(Se,Ie,Me,Ve,et,it,Je,Qe,ct,ht){var gt=et.length,Tt;Ve==="linear"?Tt={node:"linearGradient",attrs:{x1:Je.x,y1:Je.y,x2:Qe.x,y2:Qe.y,gradientUnits:ct?"userSpaceOnUse":"objectBoundingBox"},reversed:ht}:Ve==="radial"&&(Tt={node:"radialGradient",reversed:ht});for(var Et=new Array(gt),rt=0;rt<gt;rt++)Tt.reversed?Et[gt-1-rt]=[E((1-et[rt][0])*100),et[rt][1]]:Et[rt]=[E(et[rt][0]*100),et[rt][1]];var ze=Ie._fullLayout,He="g"+ze._uid+"-"+Me,Ge=ze._defs.select(".gradients").selectAll("#"+He).data([Ve+Et.join(";")],P.identity);Ge.exit().remove(),Ge.enter().append(Tt.node).each(function(){var We=m.select(this);Tt.attrs&&We.attr(Tt.attrs),We.attr("id",He);var Le=We.selectAll("stop").data(Et);Le.exit().remove(),Le.enter().append("stop"),Le.each(function(Pe){var je=S(Pe[1]);m.select(this).attr({offset:Pe[0]+"%","stop-color":p.tinyRGB(je),"stop-opacity":je.getAlpha()})})}),Se.style(it,Q(He,Ie)).style(it+"-opacity",null),Se.classed("gradient_filled",!0)}c.pattern=function(Se,Ie,Me,Ve,et,it,Je,Qe,ct,ht,gt,Tt){var Et=Ie==="legend";Qe&&(ct==="overlay"?(ht=Qe,gt=p.contrast(ht)):(ht=void 0,gt=Qe));var rt=Me._fullLayout,ze="p"+rt._uid+"-"+Ve,He,Ge,We=function(Pt,dt,Mt,Xt,nr){return Xt+(nr-Xt)*(Pt-dt)/(Mt-dt)},Le,Pe,je,Ce,he={},me=S(gt),Ne=p.tinyRGB(me),$e=me.getAlpha(),ot=Tt*$e;switch(et){case"/":He=it*Math.sqrt(2),Ge=it*Math.sqrt(2),Le="M-"+He/4+","+Ge/4+"l"+He/2+",-"+Ge/2+"M0,"+Ge+"L"+He+",0M"+He/4*3+","+Ge/4*5+"l"+He/2+",-"+Ge/2,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"\\":He=it*Math.sqrt(2),Ge=it*Math.sqrt(2),Le="M"+He/4*3+",-"+Ge/4+"l"+He/2+","+Ge/2+"M0,0L"+He+","+Ge+"M-"+He/4+","+Ge/4*3+"l"+He/2+","+Ge/2,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"x":He=it*Math.sqrt(2),Ge=it*Math.sqrt(2),Le="M-"+He/4+","+Ge/4+"l"+He/2+",-"+Ge/2+"M0,"+Ge+"L"+He+",0M"+He/4*3+","+Ge/4*5+"l"+He/2+",-"+Ge/2+"M"+He/4*3+",-"+Ge/4+"l"+He/2+","+Ge/2+"M0,0L"+He+","+Ge+"M-"+He/4+","+Ge/4*3+"l"+He/2+","+Ge/2,Pe=it-it*Math.sqrt(1-Je),Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"|":He=it,Ge=it,Ce="path",Le="M"+He/2+",0L"+He/2+","+Ge,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"-":He=it,Ge=it,Ce="path",Le="M0,"+Ge/2+"L"+He+","+Ge/2,Pe=Je*it,Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case"+":He=it,Ge=it,Ce="path",Le="M"+He/2+",0L"+He/2+","+Ge+"M0,"+Ge/2+"L"+He+","+Ge/2,Pe=it-it*Math.sqrt(1-Je),Ce="path",he={d:Le,opacity:ot,stroke:Ne,"stroke-width":Pe+"px"};break;case".":He=it,Ge=it,Je<Math.PI/4?je=Math.sqrt(Je*it*it/Math.PI):je=We(Je,Math.PI/4,1,it/2,it/Math.sqrt(2)),Ce="circle",he={cx:He/2,cy:Ge/2,r:je,opacity:ot,fill:Ne};break}var st=[et||"noSh",ht||"noBg",gt||"noFg",it,Je].join(";"),Wt=rt._defs.select(".patterns").selectAll("#"+ze).data([st],P.identity);Wt.exit().remove(),Wt.enter().append("pattern").each(function(){var Pt=m.select(this);if(Pt.attr({id:ze,width:He+"px",height:Ge+"px",patternUnits:"userSpaceOnUse",patternTransform:Et?"scale(0.8)":""}),ht){var dt=S(ht),Mt=p.tinyRGB(dt),Xt=dt.getAlpha(),nr=Pt.selectAll("rect").data([0]);nr.exit().remove(),nr.enter().append("rect").attr({width:He+"px",height:Ge+"px",fill:Mt,"fill-opacity":Xt})}var vt=Pt.selectAll(Ce).data([0]);vt.exit().remove(),vt.enter().append(Ce).attr(he)}),Se.style("fill",Q(ze,Me)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},c.initGradients=function(Se){var Ie=Se._fullLayout,Me=P.ensureSingle(Ie._defs,"g","gradients");Me.selectAll("linearGradient,radialGradient").remove(),m.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(Se){var Ie=Se._fullLayout,Me=P.ensureSingle(Ie._defs,"g","patterns");Me.selectAll("pattern").remove(),m.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(Se,Ie,Me){return Se&&P.isArrayOrTypedArray(Se)?Ie<Se.length?Se[Ie]:Me:Se},c.pointStyle=function(Se,Ie,Me,Ve){if(Se.size()){var et=c.makePointStyleFns(Ie);Se.each(function(it){c.singlePointStyle(it,m.select(this),Ie,et,Me,Ve)})}},c.singlePointStyle=function(Se,Ie,Me,Ve,et,it){var Je=Me.marker,Qe=Je.line;if(it&&it.i>=0&&Se.i===void 0&&(Se.i=it.i),Ie.style("opacity",Ve.selectedOpacityFn?Ve.selectedOpacityFn(Se):Se.mo===void 0?Je.opacity:Se.mo),Ve.ms2mrc){var ct;Se.ms==="various"||Je.size==="various"?ct=3:ct=Ve.ms2mrc(Se.ms),Se.mrc=ct,Ve.selectedSizeFn&&(ct=Se.mrc=Ve.selectedSizeFn(Se));var ht=c.symbolNumber(Se.mx||Je.symbol)||0;Se.om=ht%200>=100;var gt=Re(Se,Me),Tt=j(Se,Me);Ie.attr("d",o(ht,ct,gt,Tt))}var Et=!1,rt,ze,He;if(Se.so)He=Qe.outlierwidth,ze=Qe.outliercolor,rt=Je.outliercolor;else{var Ge=(Qe||{}).width;He=(Se.mlw+1||Ge+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Se?ze=Se.mlcc=Ve.lineScale(Se.mlc):P.isArrayOrTypedArray(Qe.color)?ze=p.defaultLine:ze=Qe.color,P.isArrayOrTypedArray(Je.color)&&(rt=p.defaultLine,Et=!0),"mc"in Se?rt=Se.mcc=Ve.markerScale(Se.mc):rt=Je.color||Je.colors||"rgba(0,0,0,0)",Ve.selectedColorFn&&(rt=Ve.selectedColorFn(Se))}if(Se.om)Ie.call(p.stroke,rt).style({"stroke-width":(He||1)+"px",fill:"none"});else{Ie.style("stroke-width",(Se.isBlank?0:He)+"px");var We=Je.gradient,Le=Se.mgt;Le?Et=!0:Le=We&&We.type,P.isArrayOrTypedArray(Le)&&(Le=Le[0],b[Le]||(Le=0));var Pe=Je.pattern,je=Pe&&c.getPatternAttr(Pe.shape,Se.i,"");if(Le&&Le!=="none"){var Ce=Se.mgc;Ce?Et=!0:Ce=We.color;var he=Me.uid;Et&&(he+="-"+Se.i),c.gradient(Ie,et,he,Le,[[0,Ce],[1,rt]],"fill")}else if(je){var me=!1,Ne=Pe.fgcolor;!Ne&&it&&it.color&&(Ne=it.color,me=!0);var $e=c.getPatternAttr(Ne,Se.i,it&&it.color||null),ot=c.getPatternAttr(Pe.bgcolor,Se.i,null),st=Pe.fgopacity,Wt=c.getPatternAttr(Pe.size,Se.i,8),Pt=c.getPatternAttr(Pe.solidity,Se.i,.3);me=me||Se.mcc||P.isArrayOrTypedArray(Pe.shape)||P.isArrayOrTypedArray(Pe.bgcolor)||P.isArrayOrTypedArray(Pe.fgcolor)||P.isArrayOrTypedArray(Pe.size)||P.isArrayOrTypedArray(Pe.solidity);var dt=Me.uid;me&&(dt+="-"+Se.i),c.pattern(Ie,"point",et,dt,je,Wt,Pt,Se.mcc,Pe.fillmode,ot,$e,st)}else P.isArrayOrTypedArray(rt)?p.fill(Ie,rt[Se.i]):p.fill(Ie,rt);He&&p.stroke(Ie,ze)}},c.makePointStyleFns=function(Se){var Ie={},Me=Se.marker;return Ie.markerScale=c.tryColorscale(Me,""),Ie.lineScale=c.tryColorscale(Me,"line"),v.traceIs(Se,"symbols")&&(Ie.ms2mrc=g.isBubble(Se)?h(Se):function(){return(Me.size||6)/2}),Se.selectedpoints&&P.extendFlat(Ie,c.makeSelectedPointStyleFns(Se)),Ie},c.makeSelectedPointStyleFns=function(Se){var Ie={},Me=Se.selected||{},Ve=Se.unselected||{},et=Se.marker||{},it=Me.marker||{},Je=Ve.marker||{},Qe=et.opacity,ct=it.opacity,ht=Je.opacity,gt=ct!==void 0,Tt=ht!==void 0;(P.isArrayOrTypedArray(Qe)||gt||Tt)&&(Ie.selectedOpacityFn=function(je){var Ce=je.mo===void 0?et.opacity:je.mo;return je.selected?gt?ct:Ce:Tt?ht:l*Ce});var Et=et.color,rt=it.color,ze=Je.color;(rt||ze)&&(Ie.selectedColorFn=function(je){var Ce=je.mcc||Et;return je.selected?rt||Ce:ze||Ce});var He=et.size,Ge=it.size,We=Je.size,Le=Ge!==void 0,Pe=We!==void 0;return v.traceIs(Se,"symbols")&&(Le||Pe)&&(Ie.selectedSizeFn=function(je){var Ce=je.mrc||He/2;return je.selected?Le?Ge/2:Ce:Pe?We/2:Ce}),Ie},c.makeSelectedTextStyleFns=function(Se){var Ie={},Me=Se.selected||{},Ve=Se.unselected||{},et=Se.textfont||{},it=Me.textfont||{},Je=Ve.textfont||{},Qe=et.color,ct=it.color,ht=Je.color;return Ie.selectedTextColorFn=function(gt){var Tt=gt.tc||Qe;return gt.selected?ct||Tt:ht||(ct?Tt:p.addOpacity(Tt,l))},Ie},c.selectedPointStyle=function(Se,Ie){if(!(!Se.size()||!Ie.selectedpoints)){var Me=c.makeSelectedPointStyleFns(Ie),Ve=Ie.marker||{},et=[];Me.selectedOpacityFn&&et.push(function(it,Je){it.style("opacity",Me.selectedOpacityFn(Je))}),Me.selectedColorFn&&et.push(function(it,Je){p.fill(it,Me.selectedColorFn(Je))}),Me.selectedSizeFn&&et.push(function(it,Je){var Qe=Je.mx||Ve.symbol||0,ct=Me.selectedSizeFn(Je);it.attr("d",o(c.symbolNumber(Qe),ct,Re(Je,Ie),j(Je,Ie))),Je.mrc2=ct}),et.length&&Se.each(function(it){for(var Je=m.select(this),Qe=0;Qe<et.length;Qe++)et[Qe](Je,it)})}},c.tryColorscale=function(Se,Ie){var Me=Ie?P.nestedProperty(Se,Ie).get():Se;if(Me){var Ve=Me.color;if((Me.colorscale||Me._colorAx)&&P.isArrayOrTypedArray(Ve))return r.makeColorScaleFuncFromTrace(Me)}return P.identity};var D={start:1,end:-1,middle:0,bottom:1,top:-1};function N(Se,Ie,Me,Ve,et){var it=m.select(Se.node().parentNode),Je=Ie.indexOf("top")!==-1?"top":Ie.indexOf("bottom")!==-1?"bottom":"middle",Qe=Ie.indexOf("left")!==-1?"end":Ie.indexOf("right")!==-1?"start":"middle",ct=Ve?Ve/.8+1:0,ht=(i.lineCount(Se)-1)*u+1,gt=D[Qe]*ct,Tt=Me*.75+D[Je]*ct+(D[Je]-1)*ht*Me/2;Se.attr("text-anchor",Qe),et||it.attr("transform",t(gt,Tt))}function k(Se,Ie){var Me=Se.ts||Ie.textfont.size;return L(Me)&&Me>0?Me:0}c.textPointStyle=function(Se,Ie,Me){if(Se.size()){var Ve;if(Ie.selectedpoints){var et=c.makeSelectedTextStyleFns(Ie);Ve=et.selectedTextColorFn}var it=Ie.texttemplate,Je=Me._fullLayout;Se.each(function(Qe){var ct=m.select(this),ht=it?P.extractOption(Qe,Ie,"txt","texttemplate"):P.extractOption(Qe,Ie,"tx","text");if(!ht&&ht!==0){ct.remove();return}if(it){var gt=Ie._module.formatLabels,Tt=gt?gt(Qe,Ie,Je):{},Et={};T(Et,Ie,Qe.i);var rt=Ie._meta||{};ht=P.texttemplateString(ht,Tt,Je._d3locale,Et,Qe,rt)}var ze=Qe.tp||Ie.textposition,He=k(Qe,Ie),Ge=Ve?Ve(Qe):Qe.tc||Ie.textfont.color;ct.call(c.font,{family:Qe.tf||Ie.textfont.family,weight:Qe.tw||Ie.textfont.weight,style:Qe.ty||Ie.textfont.style,variant:Qe.tv||Ie.textfont.variant,textcase:Qe.tC||Ie.textfont.textcase,lineposition:Qe.tE||Ie.textfont.lineposition,shadow:Qe.tS||Ie.textfont.shadow,size:He,color:Ge}).text(ht).call(i.convertToTspans,Me).call(N,ze,He,Qe.mrc)})}},c.selectedTextStyle=function(Se,Ie){if(!(!Se.size()||!Ie.selectedpoints)){var Me=c.makeSelectedTextStyleFns(Ie);Se.each(function(Ve){var et=m.select(this),it=Me.selectedTextColorFn(Ve),Je=Ve.tp||Ie.textposition,Qe=k(Ve,Ie);p.fill(et,it);var ct=v.traceIs(Ie,"bar-like");N(et,Je,Qe,Ve.mrc2||Ve.mrc,ct)})}};var O=.5;c.smoothopen=function(Se,Ie){if(Se.length<3)return"M"+Se.join("L");var Me="M"+Se[0],Ve=[],et;for(et=1;et<Se.length-1;et++)Ve.push(re(Se[et-1],Se[et],Se[et+1],Ie));for(Me+="Q"+Ve[0][0]+" "+Se[1],et=2;et<Se.length-1;et++)Me+="C"+Ve[et-2][1]+" "+Ve[et-1][0]+" "+Se[et];return Me+="Q"+Ve[Se.length-3][1]+" "+Se[Se.length-1],Me},c.smoothclosed=function(Se,Ie){if(Se.length<3)return"M"+Se.join("L")+"Z";var Me="M"+Se[0],Ve=Se.length-1,et=[re(Se[Ve],Se[0],Se[1],Ie)],it;for(it=1;it<Ve;it++)et.push(re(Se[it-1],Se[it],Se[it+1],Ie));for(et.push(re(Se[Ve-1],Se[Ve],Se[0],Ie)),it=1;it<=Ve;it++)Me+="C"+et[it-1][1]+" "+et[it][0]+" "+Se[it];return Me+="C"+et[Ve][1]+" "+et[0][0]+" "+Se[0]+"Z",Me};var F,z;function B(Se,Ie,Me){return Me&&(Se=$(Se)),Ie?J(Se[1]):W(Se[0])}function W(Se){var Ie=m.round(Se,2);return F=Ie,Ie}function J(Se){var Ie=m.round(Se,2);return z=Ie,Ie}function re(Se,Ie,Me,Ve){var et=Se[0]-Ie[0],it=Se[1]-Ie[1],Je=Me[0]-Ie[0],Qe=Me[1]-Ie[1],ct=Math.pow(et*et+it*it,O/2),ht=Math.pow(Je*Je+Qe*Qe,O/2),gt=(ht*ht*et-ct*ct*Je)*Ve,Tt=(ht*ht*it-ct*ct*Qe)*Ve,Et=3*ht*(ct+ht),rt=3*ct*(ct+ht);return[[W(Ie[0]+(Et&&gt/Et)),J(Ie[1]+(Et&&Tt/Et))],[W(Ie[0]-(rt&&gt/rt)),J(Ie[1]-(rt&&Tt/rt))]]}var ne={hv:function(Se,Ie,Me){return"H"+W(Ie[0])+"V"+B(Ie,1,Me)},vh:function(Se,Ie,Me){return"V"+J(Ie[1])+"H"+B(Ie,0,Me)},hvh:function(Se,Ie,Me){return"H"+W((Se[0]+Ie[0])/2)+"V"+J(Ie[1])+"H"+B(Ie,0,Me)},vhv:function(Se,Ie,Me){return"V"+J((Se[1]+Ie[1])/2)+"H"+W(Ie[0])+"V"+B(Ie,1,Me)}},le=function(Se,Ie,Me){return"L"+B(Ie,0,Me)+","+B(Ie,1,Me)};c.steps=function(Se){var Ie=ne[Se]||le;return function(Me){for(var Ve="M"+W(Me[0][0])+","+J(Me[0][1]),et=Me.length,it=1;it<et;it++)Ve+=Ie(Me[it-1],Me[it],it===et-1);return Ve}};function $(Se,Ie){var Me=Se.backoff,Ve=Se.trace,et=Se.d,it=Se.i;if(Me&&Ve&&Ve.marker&&Ve.marker.angle%360===0&&Ve.line&&Ve.line.shape!=="spline"){var Je=P.isArrayOrTypedArray(Me),Qe=Se,ct=Ie?Ie[0]:F||0,ht=Ie?Ie[1]:z||0,gt=Qe[0],Tt=Qe[1],Et=gt-ct,rt=Tt-ht,ze=Math.atan2(rt,Et),He=Je?Me[it]:Me;if(He==="auto"){var Ge=Qe.i;Ve.type==="scatter"&&Ge--;var We=Qe.marker,Le=We.symbol;P.isArrayOrTypedArray(Le)&&(Le=Le[Ge]);var Pe=We.size;P.isArrayOrTypedArray(Pe)&&(Pe=Pe[Ge]),He=We?c.symbolBackOffs[c.symbolNumber(Le)]*Pe:0,He+=c.getMarkerStandoff(et[Ge],Ve)||0}var je=gt-He*Math.cos(ze),Ce=Tt-He*Math.sin(ze);(je<=gt&&je>=ct||je>=gt&&je<=ct)&&(Ce<=Tt&&Ce>=ht||Ce>=Tt&&Ce<=ht)&&(Se=[je,Ce])}return Se}c.applyBackoff=$,c.makeTester=function(){var Se=P.ensureSingleById(m.select("body"),"svg","js-plotly-tester",function(Me){Me.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ie=P.ensureSingle(Se,"path","js-reference-point",function(Me){Me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=Se,c.testref=Ie},c.savedBBoxes={};var K=0,ie=1e4;c.bBox=function(Se,Ie,Me){Me||(Me=Y(Se));var Ve;if(Me){if(Ve=c.savedBBoxes[Me],Ve)return P.extendFlat({},Ve)}else if(Se.childNodes.length===1){var et=Se.childNodes[0];if(Me=Y(et),Me){var it=+et.getAttribute("x")||0,Je=+et.getAttribute("y")||0,Qe=et.getAttribute("transform");if(!Qe){var ct=c.bBox(et,!1,Me);return it&&(ct.left+=it,ct.right+=it),Je&&(ct.top+=Je,ct.bottom+=Je),ct}if(Me+="~"+it+"~"+Je+"~"+Qe,Ve=c.savedBBoxes[Me],Ve)return P.extendFlat({},Ve)}}var ht,gt;Ie?ht=Se:(gt=c.tester.node(),ht=Se.cloneNode(!0),gt.appendChild(ht)),m.select(ht).attr("transform",null).call(i.positionText,0,0);var Tt=ht.getBoundingClientRect(),Et=c.testref.node().getBoundingClientRect();Ie||gt.removeChild(ht);var rt={height:Tt.height,width:Tt.width,left:Tt.left-Et.left,top:Tt.top-Et.top,right:Tt.right-Et.left,bottom:Tt.bottom-Et.top};return K>=ie&&(c.savedBBoxes={},K=0),Me&&(c.savedBBoxes[Me]=rt),K++,P.extendFlat({},rt)};function Y(Se){var Ie=Se.getAttribute("data-unformatted");if(Ie!==null)return Ie+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}c.setClipUrl=function(Se,Ie,Me){Se.attr("clip-path",Q(Ie,Me))};function Q(Se,Ie){if(!Se)return null;var Me=Ie._context,Ve=Me._exportedPlot?"":Me._baseUrl||"";return Ve?"url('"+Ve+"#"+Se+"')":"url(#"+Se+")"}c.getTranslate=function(Se){var Ie=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Me=Se.attr?"attr":"getAttribute",Ve=Se[Me]("transform")||"",et=Ve.replace(Ie,function(it,Je,Qe){return[Je,Qe].join(" ")}).split(" ");return{x:+et[0]||0,y:+et[1]||0}},c.setTranslate=function(Se,Ie,Me){var Ve=/(\btranslate\(.*?\);?)/,et=Se.attr?"attr":"getAttribute",it=Se.attr?"attr":"setAttribute",Je=Se[et]("transform")||"";return Ie=Ie||0,Me=Me||0,Je=Je.replace(Ve,"").trim(),Je+=t(Ie,Me),Je=Je.trim(),Se[it]("transform",Je),Je},c.getScale=function(Se){var Ie=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Me=Se.attr?"attr":"getAttribute",Ve=Se[Me]("transform")||"",et=Ve.replace(Ie,function(it,Je,Qe){return[Je,Qe].join(" ")}).split(" ");return{x:+et[0]||1,y:+et[1]||1}},c.setScale=function(Se,Ie,Me){var Ve=/(\bscale\(.*?\);?)/,et=Se.attr?"attr":"getAttribute",it=Se.attr?"attr":"setAttribute",Je=Se[et]("transform")||"";return Ie=Ie||1,Me=Me||1,Je=Je.replace(Ve,"").trim(),Je+="scale("+Ie+","+Me+")",Je=Je.trim(),Se[it]("transform",Je),Je};var oe=/\s*sc.*/;c.setPointGroupScale=function(Se,Ie,Me){if(Ie=Ie||1,Me=Me||1,!!Se){var Ve=Ie===1&&Me===1?"":"scale("+Ie+","+Me+")";Se.each(function(){var et=(this.getAttribute("transform")||"").replace(oe,"");et+=Ve,et=et.trim(),this.setAttribute("transform",et)})}};var X=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(Se,Ie,Me){Se&&Se.each(function(){var Ve,et=m.select(this),it=et.select("text");if(it.node()){var Je=parseFloat(it.attr("x")||0),Qe=parseFloat(it.attr("y")||0),ct=(et.attr("transform")||"").match(X);Ie===1&&Me===1?Ve=[]:Ve=[t(Je,Qe),"scale("+Ie+","+Me+")",t(-Je,-Qe)],ct&&Ve.push(ct),et.attr("transform",Ve.join(""))}})};function j(Se,Ie){var Me;return Se&&(Me=Se.mf),Me===void 0&&(Me=Ie.marker&&Ie.marker.standoff||0),!Ie._geo&&!Ie._xA?-Me:Me}c.getMarkerStandoff=j;var se=Math.atan2,te=Math.cos,fe=Math.sin;function ge(Se,Ie){var Me=Ie[0],Ve=Ie[1];return[Me*te(Se)-Ve*fe(Se),Me*fe(Se)+Ve*te(Se)]}var be,xe,_e,De,Fe,Te;function Re(Se,Ie){var Me=Se.ma;Me===void 0&&(Me=Ie.marker.angle,(!Me||P.isArrayOrTypedArray(Me))&&(Me=0));var Ve,et,it=Ie.marker.angleref;if(it==="previous"||it==="north"){if(Ie._geo){var Je=Ie._geo.project(Se.lonlat);Ve=Je[0],et=Je[1]}else{var Qe=Ie._xA,ct=Ie._yA;if(Qe&&ct)Ve=Qe.c2p(Se.x),et=ct.c2p(Se.y);else return 90}if(Ie._geo){var ht=Se.lonlat[0],gt=Se.lonlat[1],Tt=Ie._geo.project([ht,gt+1e-5]),Et=Ie._geo.project([ht+1e-5,gt]),rt=se(Et[1]-et,Et[0]-Ve),ze=se(Tt[1]-et,Tt[0]-Ve),He;if(it==="north")He=Me/180*Math.PI;else if(it==="previous"){var Ge=ht/180*Math.PI,We=gt/180*Math.PI,Le=be/180*Math.PI,Pe=xe/180*Math.PI,je=Le-Ge,Ce=te(Pe)*fe(je),he=fe(Pe)*te(We)-te(Pe)*fe(We)*te(je);He=-se(Ce,he)-Math.PI,be=ht,xe=gt}var me=ge(rt,[te(He),0]),Ne=ge(ze,[fe(He),0]);Me=se(me[1]+Ne[1],me[0]+Ne[0])/Math.PI*180,it==="previous"&&!(Te===Ie.uid&&Se.i===Fe+1)&&(Me=null)}if(it==="previous"&&!Ie._geo)if(Te===Ie.uid&&Se.i===Fe+1&&L(Ve)&&L(et)){var $e=Ve-_e,ot=et-De,st=Ie.line&&Ie.line.shape||"",Wt=st.slice(st.length-1);Wt==="h"&&(ot=0),Wt==="v"&&($e=0),Me+=se(ot,$e)/Math.PI*180+90}else Me=null}return _e=Ve,De=et,Fe=Se.i,Te=Ie.uid,Me}c.getMarkerAngle=Re},71984:function(G,H,e){var m=e(21984),P=e(33428).round,s="M0,0Z",L=Math.sqrt(2),S=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return T?l(h,T,a):a}},square:{n:1,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(g,h,T){if(t(h))return s;var c=P(g*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(g,h,T){if(t(h))return s;var c=P(g*.4,2),a=P(g*1.2,2);return l(h,T,"M"+a+","+c+"H"+c+"V"+a+"H-"+c+"V"+c+"H-"+a+"V-"+c+"H-"+c+"V-"+a+"H"+c+"V-"+c+"H"+a+"Z")}},x:{n:4,f:function(g,h,T){if(t(h))return s;var c=P(g*.8/L,2),a="l"+c+","+c,d="l"+c+",-"+c,x="l-"+c+",-"+c,w="l-"+c+","+c;return l(h,T,"M0,"+c+a+d+x+d+x+w+x+w+a+w+a+"Z")}},"triangle-up":{n:5,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),a=P(g/2,2),d=P(g,2);return l(h,T,"M-"+c+","+a+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),a=P(g/2,2),d=P(g,2);return l(h,T,"M-"+c+",-"+a+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),a=P(g/2,2),d=P(g,2);return l(h,T,"M"+a+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(g,h,T){if(t(h))return s;var c=P(g*2/S,2),a=P(g/2,2),d=P(g,2);return l(h,T,"M-"+a+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return l(h,T,"M-"+a+",-"+c+"H"+c+"V"+a+"Z")}},"triangle-se":{n:10,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return l(h,T,"M"+c+",-"+a+"V"+c+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return l(h,T,"M"+a+","+c+"H-"+c+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(g,h,T){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return l(h,T,"M-"+c+","+a+"V-"+c+"H"+a+"Z")}},pentagon:{n:13,f:function(g,h,T){if(t(h))return s;var c=P(g*.951,2),a=P(g*.588,2),d=P(-g,2),x=P(g*-.309,2),w=P(g*.809,2);return l(h,T,"M"+c+","+x+"L"+a+","+w+"H-"+a+"L-"+c+","+x+"L0,"+d+"Z")}},hexagon:{n:14,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g/2,2),d=P(g*S/2,2);return l(h,T,"M"+d+",-"+a+"V"+a+"L0,"+c+"L-"+d+","+a+"V-"+a+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g/2,2),d=P(g*S/2,2);return l(h,T,"M-"+a+","+d+"H"+a+"L"+c+",0L"+a+",-"+d+"H-"+a+"L-"+c+",0Z")}},octagon:{n:16,f:function(g,h,T){if(t(h))return s;var c=P(g*.924,2),a=P(g*.383,2);return l(h,T,"M-"+a+",-"+c+"H"+a+"L"+c+",-"+a+"V"+a+"L"+a+","+c+"H-"+a+"L-"+c+","+a+"V-"+a+"Z")}},star:{n:17,f:function(g,h,T){if(t(h))return s;var c=g*1.4,a=P(c*.225,2),d=P(c*.951,2),x=P(c*.363,2),w=P(c*.588,2),C=P(-c,2),y=P(c*-.309,2),M=P(c*.118,2),A=P(c*.809,2),o=P(c*.382,2);return l(h,T,"M"+a+","+y+"H"+d+"L"+x+","+M+"L"+w+","+A+"L0,"+o+"L-"+w+","+A+"L-"+x+","+M+"L-"+d+","+y+"H-"+a+"L0,"+C+"Z")}},hexagram:{n:18,f:function(g,h,T){if(t(h))return s;var c=P(g*.66,2),a=P(g*.38,2),d=P(g*.76,2);return l(h,T,"M-"+d+",0l-"+a+",-"+c+"h"+d+"l"+a+",-"+c+"l"+a+","+c+"h"+d+"l-"+a+","+c+"l"+a+","+c+"h-"+d+"l-"+a+","+c+"l-"+a+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(g,h,T){if(t(h))return s;var c=P(g*S*.8,2),a=P(g*.8,2),d=P(g*1.6,2),x=P(g*4,2),w="A "+x+","+x+" 0 0 1 ";return l(h,T,"M-"+c+","+a+w+c+","+a+w+"0,-"+d+w+"-"+c+","+a+"Z")}},"star-triangle-down":{n:20,f:function(g,h,T){if(t(h))return s;var c=P(g*S*.8,2),a=P(g*.8,2),d=P(g*1.6,2),x=P(g*4,2),w="A "+x+","+x+" 0 0 1 ";return l(h,T,"M"+c+",-"+a+w+"-"+c+",-"+a+w+"0,"+d+w+c+",-"+a+"Z")}},"star-square":{n:21,f:function(g,h,T){if(t(h))return s;var c=P(g*1.1,2),a=P(g*2,2),d="A "+a+","+a+" 0 0 1 ";return l(h,T,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2),a=P(g*1.9,2),d="A "+a+","+a+" 0 0 1 ";return l(h,T,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(g,h,T){if(t(h))return s;var c=P(g*.7,2),a=P(g*1.4,2);return l(h,T,"M0,"+a+"L"+c+",0L0,-"+a+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2),a=P(g*.7,2);return l(h,T,"M0,"+a+"L"+c+",0L0,-"+a+"L-"+c+",0Z")}},hourglass:{n:25,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g/L,2);return l(h,T,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,h,T){if(t(h))return s;var c=P(g*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,h,T){if(t(h))return s;var c=P(g*1.3,2),a=P(g*.65,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),a=P(g*.85,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,h,T){if(t(h))return s;var c=P(g/2,2),a=P(g,2);return l(h,T,"M"+c+","+a+"V-"+a+"M"+(c-a)+",-"+a+"V"+a+"M"+a+","+c+"H-"+a+"M-"+a+","+(c-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,h,T){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return l(h,T,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2);return l(h,T,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,h,T){if(t(h))return s;var c=P(g*1.4,2);return l(h,T,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,h,T){if(t(h))return s;var c=P(g,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return l(h,T,"M0,0L-"+c+","+a+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return l(h,T,"M0,0L-"+c+",-"+a+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return l(h,T,"M0,0L"+c+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return l(h,T,"M0,0L-"+c+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+","+a+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,h,T){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+a+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return l(h,T,"M0,-"+a+"V"+a+"M0,0L"+c+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,h,T){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return l(h,T,"M0,-"+a+"V"+a+"M0,0L-"+c+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,h,T){if(t(h))return s;var c=v/2.5,a=2*g*p(c),d=2*g*r(c);return l(h,T,"M0,0L"+-a+","+d+"L"+a+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,h,T){if(t(h))return s;var c=v/4,a=2*g*p(c),d=2*g*r(c);return l(h,T,"M0,0L"+-a+","+d+"A "+2*g+","+2*g+" 0 0 1 "+a+","+d+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var i,n,f,u;function l(g,h,T){if((!g||g%360===0)&&!h)return T;if(f===g&&u===h&&i===T)return n;f=g,u=h,i=T;function c(D,N){var k=p(D),O=r(D),F=N[0],z=N[1]+(h||0);return[F*k-z*O,F*O+z*k]}for(var a=g/180*v,d=0,x=0,w=m(T),C="",y=0;y<w.length;y++){var M=w[y],A=M[0],o=d,E=x;if(A==="M"||A==="L")d=+M[1],x=+M[2];else if(A==="m"||A==="l")d+=+M[1],x+=+M[2];else if(A==="H")d=+M[1];else if(A==="h")d+=+M[1];else if(A==="V")x=+M[1];else if(A==="v")x+=+M[1];else if(A==="A"){d=+M[1],x=+M[2];var b=c(a,[+M[6],+M[7]]);M[6]=b[0],M[7]=b[1],M[3]=+M[3]+g}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(d-=o,x-=E);var I=c(a,[d,x]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(M[1]=I[0],M[2]=I[1]),M[0]=A,C+=M[0]+M.slice(1).join(",")}return n=C,C}},97644:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(G,H,e){var m=e(38248),P=e(24040),s=e(54460),L=e(3400),S=e(93792);G.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var n=t[i],f=n[0].trace;if(f.visible===!0&&P.traceIs(f,"errorBarsOK")){var u=s.getFromId(r,f.xaxis),l=s.getFromId(r,f.yaxis);v(n,f,u,"x"),v(n,f,l,"y")}}};function v(p,r,t,i){var n=r["error_"+i]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(f){for(var l=S(n),g=0;g<p.length;g++){var h=p[g],T=h.i;if(T===void 0)T=g;else if(T===null)continue;var c=h[i];if(m(t.c2l(c))){var a=l(c,T);if(m(a[0])&&m(a[1])){var d=h[i+"s"]=c-a[0],x=h[i+"h"]=c+a[1];u.push(d,x)}}}var w=t._id,C=r._extremes[w],y=s.findExtremes(t,u,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(y.min),C.max=C.max.concat(y.max)}}},93792:function(G){G.exports=function(m){var P=m.type,s=m.symmetric;if(P==="data"){var L=m.array||[];if(s)return function(t,i){var n=+L[i];return[n,n]};var S=m.arrayminus||[];return function(t,i){var n=+L[i],f=+S[i];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=H(P,m.value),p=H(P,m.valueminus);return s||m.valueminus===void 0?function(t){var i=v(t);return[i,i]}:function(t){return[p(t),v(t)]}}};function H(e,m){if(e==="percent")return function(P){return Math.abs(P*m/100)};if(e==="constant")return function(){return Math.abs(m)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(G,H,e){var m=e(38248),P=e(24040),s=e(3400),L=e(31780),S=e(97644);G.exports=function(v,p,r,t){var i="error_"+t.axis,n=L.newContainer(p,i),f=v[i]||{};function u(d,x){return s.coerce(f,n,S,d,x)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",g=u("visible",l);if(g!==!1){var h=u("type","array"in f?"data":"percent"),T=!0;h!=="sqrt"&&(T=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),T||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var a=p["error_"+t.inherit];(a||{}).visible&&u(c,!(f.color||m(f.thickness)||m(f.width)))}(!t.inherit||!n[c])&&(u("color",r),u("thickness"),u("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(G,H,e){var m=e(3400),P=e(67824).overrideAll,s=e(97644),L={error_x:m.extendFlat({},s),error_y:m.extendFlat({},s)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var S={error_x:m.extendFlat({},s),error_y:m.extendFlat({},s),error_z:m.extendFlat({},s)};delete S.error_x.copy_ystyle,delete S.error_y.copy_ystyle,delete S.error_z.copy_ystyle,delete S.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(S,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(G,H,e){var m=e(33428),P=e(38248),s=e(43616),L=e(43028);G.exports=function(p,r,t,i){var n,f=t.xaxis,u=t.yaxis,l=i&&i.duration>0,g=p._context.staticPlot;r.each(function(h){var T=h[0].trace,c=T.error_x||{},a=T.error_y||{},d;T.ids&&(d=function(y){return y.id});var x=L.hasMarkers(T)&&T.marker.maxdisplayed>0;!a.visible&&!c.visible&&(h=[]);var w=m.select(this).selectAll("g.errorbar").data(h,d);if(w.exit().remove(),!!h.length){c.visible||w.selectAll("path.xerror").remove(),a.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var C=w.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(i.duration).style("opacity",1),s.setClipUrl(w,t.layerClipId,p),w.each(function(y){var M=m.select(this),A=S(y,f,u);if(!(x&&!y.vis)){var o,E=M.select("path.yerror");if(a.visible&&P(A.x)&&P(A.yh)&&P(A.ys)){var b=a.width;o="M"+(A.x-b)+","+A.yh+"h"+2*b+"m-"+b+",0V"+A.ys,A.noYS||(o+="m-"+b+",0h"+2*b),n=!E.size(),n?E=M.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):l&&(E=E.transition().duration(i.duration).ease(i.easing)),E.attr("d",o)}else E.remove();var I=M.select("path.xerror");if(c.visible&&P(A.y)&&P(A.xh)&&P(A.xs)){var D=(c.copy_ystyle?a:c).width;o="M"+A.xh+","+(A.y-D)+"v"+2*D+"m0,-"+D+"H"+A.xs,A.noXS||(o+="m0,-"+D+"v"+2*D),n=!I.size(),n?I=M.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):l&&(I=I.transition().duration(i.duration).ease(i.easing)),I.attr("d",o)}else I.remove()}})}})};function S(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(G,H,e){var m=e(33428),P=e(76308);G.exports=function(L){L.each(function(S){var v=S[0].trace,p=v.error_y||{},r=v.error_x||{},t=m.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(G,H,e){var m=e(25376),P=e(65460).hoverlabel,s=e(92880).extendFlat;G.exports={hoverlabel:{bgcolor:s({},P.bgcolor,{arrayOk:!0}),bordercolor:s({},P.bordercolor,{arrayOk:!0}),font:m({arrayOk:!0,editType:"none"}),align:s({},P.align,{arrayOk:!0}),namelength:s({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(G,H,e){var m=e(3400),P=e(24040);G.exports=function(S){var v=S.calcdata,p=S._fullLayout;function r(u){return function(l){return m.coerceHoverinfo({hoverinfo:l},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var i=v[t],n=i[0].trace;if(!P.traceIs(n,"pie-like")){var f=P.traceIs(n,"2dMap")?s:m.fillArray;f(n.hoverinfo,i,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,i,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,i,"hbg"),f(n.hoverlabel.bordercolor,i,"hbc"),f(n.hoverlabel.font.size,i,"hts"),f(n.hoverlabel.font.color,i,"htc"),f(n.hoverlabel.font.family,i,"htf"),f(n.hoverlabel.font.weight,i,"htw"),f(n.hoverlabel.font.style,i,"hty"),f(n.hoverlabel.font.variant,i,"htv"),f(n.hoverlabel.namelength,i,"hnl"),f(n.hoverlabel.align,i,"hta"))}}};function s(L,S,v,p){p=p||m.identity,Array.isArray(L)&&(S[0][v]=p(L))}},62376:function(G,H,e){var m=e(24040),P=e(83292).hover;G.exports=function(L,S,v){var p=m.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,S,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:S})}L._hoverdata&&S&&S.target&&(p&&p.then?p.then(r):r(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},92456:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(G,H,e){var m=e(3400),P=e(55756),s=e(16132);G.exports=function(S,v,p,r){function t(n,f){return m.coerce(S,v,P,n,f)}var i=m.extendFlat({},r.hoverlabel);v.hovertemplate&&(i.namelength=-1),s(S,v,t,i)}},10624:function(G,H,e){var m=e(3400);H.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},H.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],i=p.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<i.length;f++)if(r.indexOf(t[n]+i[f])!==-1)return!0;return!1}return r.indexOf(H.getSubplot(p))!==-1},H.flat=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=r;return t},H.p2c=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=p[i].p2c(r);return t},H.getDistanceFunction=function(p,r,t,i){return p==="closest"?i||H.quadrature(r,t):p.charAt(0)==="x"?r:t},H.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var i=0;i<p.length;i++){var n=r(p[i]);n<=t.distance&&(t.index=i,t.distance=n)}return t},H.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},H.quadrature=function(p,r){return function(t){var i=p(t),n=r(t);return Math.sqrt(i*i+n*n)}},H.makeEventData=function(p,r,t){var i="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var f=r._indexToPoints[i];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=i;return r._module.eventData?n=r._module.eventData(n,p,r,t,i):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),H.appendArrayPointValue(n,r,i),n},H.appendArrayPointValue=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var f=i[n],u=s(f);if(p[u]===void 0){var l=m.nestedProperty(r,f).get(),g=L(l,t);g!==void 0&&(p[u]=g)}}},H.appendArrayMultiPointValues=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var f=i[n],u=s(f);if(p[u]===void 0){for(var l=m.nestedProperty(r,f).get(),g=new Array(t.length),h=0;h<t.length;h++)g[h]=L(l,t[h]);p[u]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(p){return P[p]||p}function L(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var S={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},H.isXYhover=function(p){return typeof p!="string"?!1:!!S[p]}},83292:function(G,H,e){var m=e(33428),P=e(38248),s=e(49760),L=e(3400),S=L.pushUnique,v=L.strTranslate,p=L.strRotate,r=e(95924),t=e(72736),i=e(72213),n=e(43616),f=e(76308),u=e(86476),l=e(54460),g=e(24040),h=e(10624),T=e(92456),c=e(77864),a=e(31140),d=T.YANGLE,x=Math.PI*d/180,w=1/Math.sin(x),C=Math.cos(x),y=Math.sin(x),M=T.HOVERARROWSIZE,A=T.HOVERTEXTPAD,o={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function b(X,j){return X.distance-j.distance}H.hover=function(j,se,te,fe){j=L.getGraphDiv(j);var ge=se.target;L.throttle(j._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){I(j,se,te,fe,ge)})},H.loneHover=function(j,se){var te=!0;Array.isArray(j)||(te=!1,j=[j]);var fe=se.gd,ge=Y(fe),be=Q(fe),xe=j.map(function(Ve){var et=Ve._x0||Ve.x0||Ve.x||0,it=Ve._x1||Ve.x1||Ve.x||0,Je=Ve._y0||Ve.y0||Ve.y||0,Qe=Ve._y1||Ve.y1||Ve.y||0,ct=Ve.eventData;if(ct){var ht=Math.min(et,it),gt=Math.max(et,it),Tt=Math.min(Je,Qe),Et=Math.max(Je,Qe),rt=Ve.trace;if(g.traceIs(rt,"gl3d")){var ze=fe._fullLayout[rt.scene]._scene.container,He=ze.offsetLeft,Ge=ze.offsetTop;ht+=He,gt+=He,Tt+=Ge,Et+=Ge}ct.bbox={x0:ht+be,x1:gt+be,y0:Tt+ge,y1:Et+ge},se.inOut_bbox&&se.inOut_bbox.push(ct.bbox)}else ct=!1;return{color:Ve.color||f.defaultLine,x0:Ve.x0||Ve.x||0,x1:Ve.x1||Ve.x||0,y0:Ve.y0||Ve.y||0,y1:Ve.y1||Ve.y||0,xLabel:Ve.xLabel,yLabel:Ve.yLabel,zLabel:Ve.zLabel,text:Ve.text,name:Ve.name,idealAlign:Ve.idealAlign,borderColor:Ve.borderColor,fontFamily:Ve.fontFamily,fontSize:Ve.fontSize,fontColor:Ve.fontColor,fontWeight:Ve.fontWeight,fontStyle:Ve.fontStyle,fontVariant:Ve.fontVariant,nameLength:Ve.nameLength,textAlign:Ve.textAlign,trace:Ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ve.hovertemplate||!1,hovertemplateLabels:Ve.hovertemplateLabels||!1,eventData:ct}}),_e=!1,De=k(xe,{gd:fe,hovermode:"closest",rotateLabels:_e,bgColor:se.bgColor||f.background,container:m.select(se.container),outerContainer:se.outerContainer||se.container}),Fe=De.hoverLabels,Te=5,Re=0,Se=0;Fe.sort(function(Ve,et){return Ve.y0-et.y0}).each(function(Ve,et){var it=Ve.y0-Ve.by/2;it-Te<Re?Ve.offset=Re-it+Te:Ve.offset=0,Re=it+Ve.by+Ve.offset,et===se.anchorIndex&&(Se=Ve.offset)}).each(function(Ve){Ve.offset-=Se});var Ie=fe._fullLayout._invScaleX,Me=fe._fullLayout._invScaleY;return W(Fe,_e,Ie,Me),te?Fe:Fe.node()};function I(X,j,se,te,fe){se||(se="xy");var ge=Array.isArray(se)?se:[se],be,xe=X._fullLayout,_e=xe.hoversubplots,De=xe._plots||[],Fe=De[se],Te=xe._has("cartesian"),Re=j.hovermode||xe.hovermode,Se=(Re||"").charAt(0)==="x",Ie=(Re||"").charAt(0)==="y",Me,Ve;if(Te&&(Se||Ie)&&_e==="axis"){for(var et=ge.length,it=0;it<et;it++)if(be=ge[it],De[be]){Me=l.getFromId(X,be,"x"),Ve=l.getFromId(X,be,"y");var Je=(Se?Me:Ve)._subplotsWith;if(Je&&Je.length)for(var Qe=0;Qe<Je.length;Qe++)S(ge,Je[Qe])}}if(Fe&&_e!=="single"){var ct=Fe.overlays.map(function(Gn){return Gn.id});ge=ge.concat(ct)}for(var ht=ge.length,gt=new Array(ht),Tt=new Array(ht),Et=!1,rt=0;rt<ht;rt++)if(be=ge[rt],De[be])Et=!0,gt[rt]=De[be].xaxis,Tt[rt]=De[be].yaxis;else if(xe[be]&&xe[be]._subplot){var ze=xe[be]._subplot;gt[rt]=ze.xaxis,Tt[rt]=ze.yaxis}else{L.warn("Unrecognized subplot: "+be);return}if(Re&&!Et&&(Re="closest"),["x","y","closest","x unified","y unified"].indexOf(Re)===-1||!X.calcdata||X.querySelector(".zoombox")||X._dragging)return u.unhoverRaw(X,j);var He=xe.hoverdistance;He===-1&&(He=1/0);var Ge=xe.spikedistance;Ge===-1&&(Ge=1/0);var We=[],Le=[],Pe,je,Ce,he,me,Ne,$e,ot,st,Wt,Pt,dt,Mt,Xt={hLinePoint:null,vLinePoint:null},nr=!1;if(Array.isArray(j))for(Re="array",Ce=0;Ce<j.length;Ce++)me=X.calcdata[j[Ce].curveNumber||0],me&&(Ne=me[0].trace,me[0].trace.hoverinfo!=="skip"&&(Le.push(me),Ne.orientation==="h"&&(nr=!0)));else{var vt=X.calcdata.slice();for(vt.sort(function(Gn,Qn){var mr=Gn[0].trace.zorder||0,en=Qn[0].trace.zorder||0;return mr-en}),he=0;he<vt.length;he++)me=vt[he],Ne=me[0].trace,Ne.hoverinfo!=="skip"&&h.isTraceInSubplots(Ne,ge)&&(Le.push(me),Ne.orientation==="h"&&(nr=!0));var Zt=!fe,Kt,yr;if(Zt)"xpx"in j?Kt=j.xpx:Kt=gt[0]._length/2,"ypx"in j?yr=j.ypx:yr=Tt[0]._length/2;else{if(r.triggerHandler(X,"plotly_beforehover",j)===!1)return;var or=fe.getBoundingClientRect();Kt=j.clientX-or.left,yr=j.clientY-or.top,xe._calcInverseTransform(X);var mt=L.apply3DTransform(xe._invTransform)(Kt,yr);if(Kt=mt[0],yr=mt[1],Kt<0||Kt>gt[0]._length||yr<0||yr>Tt[0]._length)return u.unhoverRaw(X,j)}if(j.pointerX=Kt+gt[0]._offset,j.pointerY=yr+Tt[0]._offset,"xval"in j?Pe=h.flat(ge,j.xval):Pe=h.p2c(gt,Kt),"yval"in j?je=h.flat(ge,j.yval):je=h.p2c(Tt,yr),!P(Pe[0])||!P(je[0]))return L.warn("Fx.hover failed",j,X),u.unhoverRaw(X,j)}var lt=1/0;function bt(Gn,Qn){for(he=0;he<Le.length;he++)if(me=Le[he],!(!me||!me[0]||!me[0].trace)&&(Ne=me[0].trace,!(Ne.visible!==!0||Ne._length===0)&&["carpet","contourcarpet"].indexOf(Ne._module.name)===-1)){if(st=Re,h.isUnifiedHover(st)&&(st=st.charAt(0)),Ne.type==="splom"?(ot=0,$e=ge[ot]):($e=h.getSubplot(Ne),ot=ge.indexOf($e)),dt={cd:me,trace:Ne,xa:gt[ot],ya:Tt[ot],maxHoverDistance:He,maxSpikeDistance:Ge,index:!1,distance:Math.min(lt,He),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Ne.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},xe[$e]&&(dt.subplot=xe[$e]._subplot),xe._splomScenes&&xe._splomScenes[Ne.uid]&&(dt.scene=xe._splomScenes[Ne.uid]),st==="array"){var mr=j[he];"pointNumber"in mr?(dt.index=mr.pointNumber,st="closest"):(st="","xval"in mr&&(Wt=mr.xval,st="x"),"yval"in mr&&(Pt=mr.yval,st=st?"closest":"y"))}else Gn!==void 0&&Qn!==void 0?(Wt=Gn,Pt=Qn):(Wt=Pe[ot],Pt=je[ot]);if(Mt=We.length,He!==0)if(Ne._module&&Ne._module.hoverPoints){var en=Ne._module.hoverPoints(dt,Wt,Pt,st,{finiteRange:!0,hoverLayer:xe._hoverlayer,hoversubplots:_e,gd:X});if(en)for(var Jr,vn=0;vn<en.length;vn++)Jr=en[vn],P(Jr.x0)&&P(Jr.y0)&&We.push(J(Jr,Re))}else L.log("Unrecognized trace type in hover:",Ne);if(Re==="closest"&&We.length>Mt&&(We.splice(0,Mt),lt=We[0].distance),Te&&Ge!==0&&We.length===0){dt.distance=Ge,dt.index=!1;var On=Ne._module.hoverPoints(dt,Wt,Pt,"closest",{hoverLayer:xe._hoverlayer});if(On&&(On=On.filter(function(Ia){return Ia.spikeDistance<=Ge})),On&&On.length){var bn,An=On.filter(function(Ia){return Ia.xa.showspikes&&Ia.xa.spikesnap!=="hovered data"});if(An.length){var Fn=An[0];P(Fn.x0)&&P(Fn.y0)&&(bn=Dt(Fn),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>bn.spikeDistance)&&(Xt.vLinePoint=bn))}var $n=On.filter(function(Ia){return Ia.ya.showspikes&&Ia.ya.spikesnap!=="hovered data"});if($n.length){var ha=$n[0];P(ha.x0)&&P(ha.y0)&&(bn=Dt(ha),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>bn.spikeDistance)&&(Xt.hLinePoint=bn))}}}}}bt();function Ct(Gn,Qn,mr){for(var en=null,Jr=1/0,vn,On=0;On<Gn.length;On++)Me&&Me._id!==Gn[On].xa._id||Ve&&Ve._id!==Gn[On].ya._id||(vn=Gn[On].spikeDistance,mr&&On===0&&(vn=-1/0),vn<=Jr&&vn<=Qn&&(en=Gn[On],Jr=vn));return en}function Dt(Gn){return Gn?{xa:Gn.xa,ya:Gn.ya,x:Gn.xSpike!==void 0?Gn.xSpike:(Gn.x0+Gn.x1)/2,y:Gn.ySpike!==void 0?Gn.ySpike:(Gn.y0+Gn.y1)/2,distance:Gn.distance,spikeDistance:Gn.spikeDistance,curveNumber:Gn.trace.index,color:Gn.color,pointNumber:Gn.index}:null}var Ht={fullLayout:xe,container:xe._hoverlayer,event:j};X._spikepoints;var Bt={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};X._spikepoints=Bt;var Ut=function(){var Gn=We.filter(function(mr){return Me&&Me._id===mr.xa._id&&Ve&&Ve._id===mr.ya._id}),Qn=We.filter(function(mr){return!(Me&&Me._id===mr.xa._id&&Ve&&Ve._id===mr.ya._id)});Gn.sort(b),Qn.sort(b),We=Gn.concat(Qn),We=K(We,Re)};Ut();var Jt=Re.charAt(0),cr=(Jt==="x"||Jt==="y")&&We[0]&&E[We[0].trace.type];if(Te&&Ge!==0&&We.length!==0){var hr=We.filter(function(Gn){return Gn.ya.showspikes}),pr=Ct(hr,Ge,cr);Xt.hLinePoint=Dt(pr);var Ye=We.filter(function(Gn){return Gn.xa.showspikes}),Ue=Ct(Ye,Ge,cr);Xt.vLinePoint=Dt(Ue)}if(We.length===0){var Ot=u.unhoverRaw(X,j);return Te&&(Xt.hLinePoint!==null||Xt.vLinePoint!==null)&&le()&&re(X,Xt,Ht),Ot}if(Te&&le()&&re(X,Xt,Ht),h.isXYhover(st)&&We[0].length!==0&&We[0].trace.type!=="splom"){var It=We[0];o[It.trace.type]?We=We.filter(function(Gn){return Gn.trace.index===It.trace.index}):We=[It];var Qt=We.length,lr=ie("x",It,xe),fr=ie("y",It,xe);bt(lr,fr);var er=[],Nt={},ir=0,vr=function(Gn){var Qn=o[Gn.trace.type]?D(Gn):Gn.trace.index;if(!Nt[Qn])ir++,Nt[Qn]=ir,er.push(Gn);else{var mr=Nt[Qn]-1,en=er[mr];mr>0&&Math.abs(Gn.distance)<Math.abs(en.distance)&&(er[mr]=Gn)}},xr;for(xr=0;xr<Qt;xr++)vr(We[xr]);for(xr=We.length-1;xr>Qt-1;xr--)vr(We[xr]);We=er,Ut()}var dr=X._hoverdata,Hr=[],Pr=Y(X),Rr=Q(X);for(Ce=0;Ce<We.length;Ce++){var an=We[Ce],tn=h.makeEventData(an,an.trace,an.cd);if(an.hovertemplate!==!1){var Sn=!1;an.cd[an.index]&&an.cd[an.index].ht&&(Sn=an.cd[an.index].ht),an.hovertemplate=Sn||an.trace.hovertemplate||!1}if(an.xa&&an.ya){var Tn=an.x0+an.xa._offset,Tr=an.x1+an.xa._offset,zr=an.y0+an.ya._offset,Yr=an.y1+an.ya._offset,Or=Math.min(Tn,Tr),ln=Math.max(Tn,Tr),fn=Math.min(zr,Yr),Mn=Math.max(zr,Yr);tn.bbox={x0:Or+Rr,x1:ln+Rr,y0:fn+Pr,y1:Mn+Pr}}an.eventData=[tn],Hr.push(tn)}X._hoverdata=Hr;var Pn=Re==="y"&&(Le.length>1||We.length>1)||Re==="closest"&&nr&&We.length>1,Vn=f.combine(xe.plot_bgcolor||f.background,xe.paper_bgcolor),ia=k(We,{gd:X,hovermode:Re,rotateLabels:Pn,bgColor:Vn,container:xe._hoverlayer,outerContainer:xe._paper.node(),commonLabelOpts:xe.hoverlabel,hoverdistance:xe.hoverdistance}),ya=ia.hoverLabels;if(h.isUnifiedHover(Re)||(F(ya,Pn,xe,ia.commonLabelBoundingBox),W(ya,Pn,xe._invScaleX,xe._invScaleY)),fe&&fe.tagName){var wa=g.getComponentMethod("annotations","hasClickToShow")(X,Hr);i(m.select(fe),wa?"pointer":"")}!fe||te||!ne(X,j,dr)||(dr&&X.emit("plotly_unhover",{event:j,points:dr}),X.emit("plotly_hover",{event:j,points:X._hoverdata,xaxes:gt,yaxes:Tt,xvals:Pe,yvals:je}))}function D(X){return[X.trace.index,X.index,X.x0,X.y0,X.name,X.attr,X.xa?X.xa._id:"",X.ya?X.ya._id:""].join(",")}var N=/<extra>([\s\S]*)<\/extra>/;function k(X,j){var se=j.gd,te=se._fullLayout,fe=j.hovermode,ge=j.rotateLabels,be=j.bgColor,xe=j.container,_e=j.outerContainer,De=j.commonLabelOpts||{};if(X.length===0)return[[]];var Fe=j.fontFamily||T.HOVERFONT,Te=j.fontSize||T.HOVERFONTSIZE,Re=j.fontWeight||te.font.weight,Se=j.fontStyle||te.font.style,Ie=j.fontVariant||te.font.variant,Me=j.fontTextcase||te.font.textcase,Ve=j.fontLineposition||te.font.lineposition,et=j.fontShadow||te.font.shadow,it=X[0],Je=it.xa,Qe=it.ya,ct=fe.charAt(0),ht=ct+"Label",gt=it[ht];if(gt===void 0&&Je.type==="multicategory")for(var Tt=0;Tt<X.length&&(gt=X[Tt][ht],gt===void 0);Tt++);var Et=oe(se,_e),rt=Et.top,ze=Et.width,He=Et.height,Ge=gt!==void 0&&it.distance<=j.hoverdistance&&(fe==="x"||fe==="y");if(Ge){var We=!0,Le,Pe;for(Le=0;Le<X.length;Le++)if(We&&X[Le].zLabel===void 0&&(We=!1),Pe=X[Le].hoverinfo||X[Le].trace.hoverinfo,Pe){var je=Array.isArray(Pe)?Pe:Pe.split("+");if(je.indexOf("all")===-1&&je.indexOf(fe)===-1){Ge=!1;break}}We&&(Ge=!1)}var Ce=xe.selectAll("g.axistext").data(Ge?[0]:[]);Ce.enter().append("g").classed("axistext",!0),Ce.exit().remove();var he={minX:0,maxX:0,minY:0,maxY:0};if(Ce.each(function(){var Ue=m.select(this),Ot=L.ensureSingle(Ue,"path","",function(ln){ln.style({"stroke-width":"1px"})}),It=L.ensureSingle(Ue,"text","",function(ln){ln.attr("data-notex",1)}),Qt=De.bgcolor||f.defaultLine,lr=De.bordercolor||f.contrast(Qt),fr=f.contrast(Qt),er=De.font,Nt={weight:er.weight||Re,style:er.style||Se,variant:er.variant||Ie,textcase:er.textcase||Me,lineposition:er.lineposition||Ve,shadow:er.shadow||et,family:er.family||Fe,size:er.size||Te,color:er.color||fr};Ot.style({fill:Qt,stroke:lr}),It.text(gt).call(n.font,Nt).call(t.positionText,0,0).call(t.convertToTspans,se),Ue.attr("transform","");var ir=oe(se,It.node()),vr,xr;if(fe==="x"){var dr=Je.side==="top"?"-":"";It.attr("text-anchor","middle").call(t.positionText,0,Je.side==="top"?rt-ir.bottom-M-A:rt-ir.top+M+A),vr=Je._offset+(it.x0+it.x1)/2,xr=Qe._offset+(Je.side==="top"?0:Qe._length);var Hr=ir.width/2+A,Pr=vr;vr<Hr?Pr=Hr:vr>te.width-Hr&&(Pr=te.width-Hr),Ot.attr("d","M"+(vr-Pr)+",0L"+(vr-Pr+M)+","+dr+M+"H"+Hr+"v"+dr+(A*2+ir.height)+"H"+-Hr+"V"+dr+M+"H"+(vr-Pr-M)+"Z"),vr=Pr,he.minX=vr-Hr,he.maxX=vr+Hr,Je.side==="top"?(he.minY=xr-(A*2+ir.height),he.maxY=xr-A):(he.minY=xr+A,he.maxY=xr+(A*2+ir.height))}else{var Rr,an,tn;Qe.side==="right"?(Rr="start",an=1,tn="",vr=Je._offset+Je._length):(Rr="end",an=-1,tn="-",vr=Je._offset),xr=Qe._offset+(it.y0+it.y1)/2,It.attr("text-anchor",Rr),Ot.attr("d","M0,0L"+tn+M+","+M+"V"+(A+ir.height/2)+"h"+tn+(A*2+ir.width)+"V-"+(A+ir.height/2)+"H"+tn+M+"V-"+M+"Z"),he.minY=xr-(A+ir.height/2),he.maxY=xr+(A+ir.height/2),Qe.side==="right"?(he.minX=vr+M,he.maxX=vr+M+(A*2+ir.width)):(he.minX=vr-M-(A*2+ir.width),he.maxX=vr-M);var Sn=ir.height/2,Tn=rt-ir.top-Sn,Tr="clip"+te._uid+"commonlabel"+Qe._id,zr;if(vr<ir.width+2*A+M){zr="M-"+(M+A)+"-"+Sn+"h-"+(ir.width-A)+"V"+Sn+"h"+(ir.width-A)+"Z";var Yr=ir.width-vr+A;t.positionText(It,Yr,Tn),Rr==="end"&&It.selectAll("tspan").each(function(){var ln=m.select(this),fn=n.tester.append("text").text(ln.text()).call(n.font,Nt),Mn=oe(se,fn.node());Math.round(Mn.width)<Math.round(ir.width)&&ln.attr("x",Yr-Mn.width),fn.remove()})}else t.positionText(It,an*(A+M),Tn),zr=null;var Or=te._topclips.selectAll("#"+Tr).data(zr?[0]:[]);Or.enter().append("clipPath").attr("id",Tr).append("path"),Or.exit().remove(),Or.select("path").attr("d",zr),n.setClipUrl(It,zr?Tr:null,se)}Ue.attr("transform",v(vr,xr))}),h.isUnifiedHover(fe)){xe.selectAll("g.hovertext").remove();var me=X.filter(function(Ue){return Ue.hoverinfo!=="none"});if(me.length===0)return[];var Ne=te.hoverlabel,$e=Ne.font,ot={showlegend:!0,legend:{title:{text:gt,font:$e},font:$e,bgcolor:Ne.bgcolor,bordercolor:Ne.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:te.legend?te.legend.traceorder:void 0,orientation:"v"}},st={font:$e};c(ot,st,se._fullData);var Wt=st.legend;Wt.entries=[];for(var Pt=0;Pt<me.length;Pt++){var dt=me[Pt];if(dt.hoverinfo!=="none"){var Mt=O(dt,!0,fe,te,gt),Xt=Mt[0],nr=Mt[1];dt.name=nr,nr!==""?dt.text=nr+" : "+Xt:dt.text=Xt;var vt=dt.cd[dt.index];vt&&(vt.mc&&(dt.mc=vt.mc),vt.mcc&&(dt.mc=vt.mcc),vt.mlc&&(dt.mlc=vt.mlc),vt.mlcc&&(dt.mlc=vt.mlcc),vt.mlw&&(dt.mlw=vt.mlw),vt.mrc&&(dt.mrc=vt.mrc),vt.dir&&(dt.dir=vt.dir)),dt._distinct=!0,Wt.entries.push([dt])}}Wt.entries.sort(function(Ue,Ot){return Ue[0].trace.index-Ot[0].trace.index}),Wt.layer=xe,Wt._inHover=!0,Wt._groupTitleFont=Ne.grouptitlefont,a(se,Wt);var Zt=xe.select("g.legend"),Kt=oe(se,Zt.node()),yr=Kt.width+2*A,or=Kt.height+2*A,mt=me[0],lt=(mt.x0+mt.x1)/2,bt=(mt.y0+mt.y1)/2,Ct=!(g.traceIs(mt.trace,"bar-like")||g.traceIs(mt.trace,"box-violin")),Dt,Ht;ct==="y"?Ct?(Ht=bt-A,Dt=bt+A):(Ht=Math.min.apply(null,me.map(function(Ue){return Math.min(Ue.y0,Ue.y1)})),Dt=Math.max.apply(null,me.map(function(Ue){return Math.max(Ue.y0,Ue.y1)}))):Ht=Dt=L.mean(me.map(function(Ue){return(Ue.y0+Ue.y1)/2}))-or/2;var Bt,Ut;ct==="x"?Ct?(Bt=lt+A,Ut=lt-A):(Bt=Math.max.apply(null,me.map(function(Ue){return Math.max(Ue.x0,Ue.x1)})),Ut=Math.min.apply(null,me.map(function(Ue){return Math.min(Ue.x0,Ue.x1)}))):Bt=Ut=L.mean(me.map(function(Ue){return(Ue.x0+Ue.x1)/2}))-yr/2;var Jt=Je._offset,cr=Qe._offset;Dt+=cr,Bt+=Jt,Ut+=Jt-yr,Ht+=cr-or;var hr,pr;return Bt+yr<ze&&Bt>=0?hr=Bt:Ut+yr<ze&&Ut>=0?hr=Ut:Jt+yr<ze?hr=Jt:Bt-lt<lt-Ut+yr?hr=ze-yr:hr=0,hr+=A,Dt+or<He&&Dt>=0?pr=Dt:Ht+or<He&&Ht>=0?pr=Ht:cr+or<He?pr=cr:Dt-bt<bt-Ht+or?pr=He-or:pr=0,pr+=A,Zt.attr("transform",v(hr-1,pr-1)),Zt}var Ye=xe.selectAll("g.hovertext").data(X,function(Ue){return D(Ue)});return Ye.enter().append("g").classed("hovertext",!0).each(function(){var Ue=m.select(this);Ue.append("rect").call(f.fill,f.addOpacity(be,.8)),Ue.append("text").classed("name",!0),Ue.append("path").style("stroke-width","1px"),Ue.append("text").classed("nums",!0).call(n.font,{weight:Re,style:Se,variant:Ie,textcase:Me,lineposition:Ve,shadow:et,family:Fe,size:Te})}),Ye.exit().remove(),Ye.each(function(Ue){var Ot=m.select(this).attr("transform",""),It=Ue.color;Array.isArray(It)&&(It=It[Ue.eventData[0].pointNumber]);var Qt=Ue.bgcolor||It,lr=f.combine(f.opacity(Qt)?Qt:f.defaultLine,be),fr=f.combine(f.opacity(It)?It:f.defaultLine,be),er=Ue.borderColor||f.contrast(lr),Nt=O(Ue,Ge,fe,te,gt,Ot),ir=Nt[0],vr=Nt[1],xr=Ot.select("text.nums").call(n.font,{family:Ue.fontFamily||Fe,size:Ue.fontSize||Te,color:Ue.fontColor||er,weight:Ue.fontWeight||Re,style:Ue.fontStyle||Se,variant:Ue.fontVariant||Ie,textcase:Ue.fontTextcase||Me,lineposition:Ue.fontLineposition||Ve,shadow:Ue.fontShadow||et}).text(ir).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se),dr=Ot.select("text.name"),Hr=0,Pr=0;if(vr&&vr!==ir){dr.call(n.font,{family:Ue.fontFamily||Fe,size:Ue.fontSize||Te,color:fr,weight:Ue.fontWeight||Re,style:Ue.fontStyle||Se,variant:Ue.fontVariant||Ie,textcase:Ue.fontTextcase||Me,lineposition:Ue.fontLineposition||Ve,shadow:Ue.fontShadow||et}).text(vr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,se);var Rr=oe(se,dr.node());Hr=Rr.width+2*A,Pr=Rr.height+2*A}else dr.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:lr,stroke:er});var an=Ue.xa._offset+(Ue.x0+Ue.x1)/2,tn=Ue.ya._offset+(Ue.y0+Ue.y1)/2,Sn=Math.abs(Ue.x1-Ue.x0),Tn=Math.abs(Ue.y1-Ue.y0),Tr=oe(se,xr.node()),zr=Tr.width/te._invScaleX,Yr=Tr.height/te._invScaleY;Ue.ty0=(rt-Tr.top)/te._invScaleY,Ue.bx=zr+2*A,Ue.by=Math.max(Yr+2*A,Pr),Ue.anchor="start",Ue.txwidth=zr,Ue.tx2width=Hr,Ue.offset=0;var Or=(zr+M+A+Hr)*te._invScaleX,ln,fn;if(ge)Ue.pos=an,ln=tn+Tn/2+Or<=He,fn=tn-Tn/2-Or>=0,(Ue.idealAlign==="top"||!ln)&&fn?(tn-=Tn/2,Ue.anchor="end"):ln?(tn+=Tn/2,Ue.anchor="start"):Ue.anchor="middle",Ue.crossPos=tn;else{if(Ue.pos=tn,ln=an+Sn/2+Or<=ze,fn=an-Sn/2-Or>=0,(Ue.idealAlign==="left"||!ln)&&fn)an-=Sn/2,Ue.anchor="end";else if(ln)an+=Sn/2,Ue.anchor="start";else{Ue.anchor="middle";var Mn=Or/2,Pn=an+Mn-ze,Vn=an-Mn;Pn>0&&(an-=Pn),Vn<0&&(an+=-Vn)}Ue.crossPos=an}xr.attr("text-anchor",Ue.anchor),Hr&&dr.attr("text-anchor",Ue.anchor),Ot.attr("transform",v(an,tn)+(ge?p(d):""))}),{hoverLabels:Ye,commonLabelBoundingBox:he}}function O(X,j,se,te,fe,ge){var be="",xe="";X.nameOverride!==void 0&&(X.name=X.nameOverride),X.name&&(X.trace._meta&&(X.name=L.templateString(X.name,X.trace._meta)),be=$(X.name,X.nameLength));var _e=se.charAt(0),De=_e==="x"?"y":"x";X.zLabel!==void 0?(X.xLabel!==void 0&&(xe+="x: "+X.xLabel+"<br>"),X.yLabel!==void 0&&(xe+="y: "+X.yLabel+"<br>"),X.trace.type!=="choropleth"&&X.trace.type!=="choroplethmapbox"&&(xe+=(xe?"z: ":"")+X.zLabel)):j&&X[_e+"Label"]===fe?xe=X[De+"Label"]||"":X.xLabel===void 0?X.yLabel!==void 0&&X.trace.type!=="scattercarpet"&&(xe=X.yLabel):X.yLabel===void 0?xe=X.xLabel:xe="("+X.xLabel+", "+X.yLabel+")",(X.text||X.text===0)&&!Array.isArray(X.text)&&(xe+=(xe?"<br>":"")+X.text),X.extraText!==void 0&&(xe+=(xe?"<br>":"")+X.extraText),ge&&xe===""&&!X.hovertemplate&&(be===""&&ge.remove(),xe=be);var Fe=X.hovertemplate||!1;if(Fe){var Te=X.hovertemplateLabels||X;X[_e+"Label"]!==fe&&(Te[_e+"other"]=Te[_e+"Val"],Te[_e+"otherLabel"]=Te[_e+"Label"]),xe=L.hovertemplateString(Fe,Te,te._d3locale,X.eventData[0]||{},X.trace._meta),xe=xe.replace(N,function(Re,Se){return be=$(Se,X.nameLength),""})}return[xe,be]}function F(X,j,se,te){var fe=j?"xa":"ya",ge=j?"ya":"xa",be=0,xe=1,_e=X.size(),De=new Array(_e),Fe=0,Te=te.minX,Re=te.maxX,Se=te.minY,Ie=te.maxY,Me=function(Pe){return Pe*se._invScaleX},Ve=function(Pe){return Pe*se._invScaleY};X.each(function(Pe){var je=Pe[fe],Ce=Pe[ge],he=je._id.charAt(0)==="x",me=je.range;Fe===0&&me&&me[0]>me[1]!==he&&(xe=-1);var Ne=0,$e=he?se.width:se.height;if(se.hovermode==="x"||se.hovermode==="y"){var ot=z(Pe,j),st=Pe.anchor,Wt=st==="end"?-1:1,Pt,dt;if(st==="middle")Pt=Pe.crossPos+(he?Ve(ot.y-Pe.by/2):Me(Pe.bx/2+Pe.tx2width/2)),dt=Pt+(he?Ve(Pe.by):Me(Pe.bx));else if(he)Pt=Pe.crossPos+Ve(M+ot.y)-Ve(Pe.by/2-M),dt=Pt+Ve(Pe.by);else{var Mt=Me(Wt*M+ot.x),Xt=Mt+Me(Wt*Pe.bx);Pt=Pe.crossPos+Math.min(Mt,Xt),dt=Pe.crossPos+Math.max(Mt,Xt)}he?Se!==void 0&&Ie!==void 0&&Math.min(dt,Ie)-Math.max(Pt,Se)>1&&(Ce.side==="left"?(Ne=Ce._mainLinePosition,$e=se.width):$e=Ce._mainLinePosition):Te!==void 0&&Re!==void 0&&Math.min(dt,Re)-Math.max(Pt,Te)>1&&(Ce.side==="top"?(Ne=Ce._mainLinePosition,$e=se.height):$e=Ce._mainLinePosition)}De[Fe++]=[{datum:Pe,traceIndex:Pe.trace.index,dp:0,pos:Pe.pos,posref:Pe.posref,size:Pe.by*(he?w:1)/2,pmin:Ne,pmax:$e}]}),De.sort(function(Pe,je){return Pe[0].posref-je[0].posref||xe*(je[0].traceIndex-Pe[0].traceIndex)});var et,it,Je,Qe,ct,ht,gt;function Tt(Pe){var je=Pe[0],Ce=Pe[Pe.length-1];if(it=je.pmin-je.pos-je.dp+je.size,Je=Ce.pos+Ce.dp+Ce.size-je.pmax,it>.01){for(ct=Pe.length-1;ct>=0;ct--)Pe[ct].dp+=it;et=!1}if(!(Je<.01)){if(it<-.01){for(ct=Pe.length-1;ct>=0;ct--)Pe[ct].dp-=Je;et=!1}if(et){var he=0;for(Qe=0;Qe<Pe.length;Qe++)ht=Pe[Qe],ht.pos+ht.dp+ht.size>je.pmax&&he++;for(Qe=Pe.length-1;Qe>=0&&!(he<=0);Qe--)ht=Pe[Qe],ht.pos>je.pmax-1&&(ht.del=!0,he--);for(Qe=0;Qe<Pe.length&&!(he<=0);Qe++)if(ht=Pe[Qe],ht.pos<je.pmin+1)for(ht.del=!0,he--,Je=ht.size*2,ct=Pe.length-1;ct>=0;ct--)Pe[ct].dp-=Je;for(Qe=Pe.length-1;Qe>=0&&!(he<=0);Qe--)ht=Pe[Qe],ht.pos+ht.dp+ht.size>je.pmax&&(ht.del=!0,he--)}}}for(;!et&&be<=_e;){for(be++,et=!0,Qe=0;Qe<De.length-1;){var Et=De[Qe],rt=De[Qe+1],ze=Et[Et.length-1],He=rt[0];if(it=ze.pos+ze.dp+ze.size-He.pos-He.dp+He.size,it>.01&&ze.pmin===He.pmin&&ze.pmax===He.pmax){for(ct=rt.length-1;ct>=0;ct--)rt[ct].dp+=it;for(Et.push.apply(Et,rt),De.splice(Qe+1,1),gt=0,ct=Et.length-1;ct>=0;ct--)gt+=Et[ct].dp;for(Je=gt/Et.length,ct=Et.length-1;ct>=0;ct--)Et[ct].dp-=Je;et=!1}else Qe++}De.forEach(Tt)}for(Qe=De.length-1;Qe>=0;Qe--){var Ge=De[Qe];for(ct=Ge.length-1;ct>=0;ct--){var We=Ge[ct],Le=We.datum;Le.offset=We.dp,Le.del=We.del}}}function z(X,j){var se=0,te=X.offset;return j&&(te*=-y,se=X.offset*C),{x:se,y:te}}function B(X){var j={start:1,end:-1,middle:0}[X.anchor],se=j*(M+A),te=se+j*(X.txwidth+A),fe=X.anchor==="middle";return fe&&(se-=X.tx2width/2,te+=X.txwidth/2+A),{alignShift:j,textShiftX:se,text2ShiftX:te}}function W(X,j,se,te){var fe=function(be){return be*se},ge=function(be){return be*te};X.each(function(be){var xe=m.select(this);if(be.del)return xe.remove();var _e=xe.select("text.nums"),De=be.anchor,Fe=De==="end"?-1:1,Te=B(be),Re=z(be,j),Se=Re.x,Ie=Re.y,Me=De==="middle";xe.select("path").attr("d",Me?"M-"+fe(be.bx/2+be.tx2width/2)+","+ge(Ie-be.by/2)+"h"+fe(be.bx)+"v"+ge(be.by)+"h-"+fe(be.bx)+"Z":"M0,0L"+fe(Fe*M+Se)+","+ge(M+Ie)+"v"+ge(be.by/2-M)+"h"+fe(Fe*be.bx)+"v-"+ge(be.by)+"H"+fe(Fe*M+Se)+"V"+ge(Ie-M)+"Z");var Ve=Se+Te.textShiftX,et=Ie+be.ty0-be.by/2+A,it=be.textAlign||"auto";it!=="auto"&&(it==="left"&&De!=="start"?(_e.attr("text-anchor","start"),Ve=Me?-be.bx/2-be.tx2width/2+A:-be.bx-A):it==="right"&&De!=="end"&&(_e.attr("text-anchor","end"),Ve=Me?be.bx/2-be.tx2width/2-A:be.bx+A)),_e.call(t.positionText,fe(Ve),ge(et)),be.tx2width&&(xe.select("text.name").call(t.positionText,fe(Te.text2ShiftX+Te.alignShift*A+Se),ge(Ie+be.ty0-be.by/2+A)),xe.select("rect").call(n.setRect,fe(Te.text2ShiftX+(Te.alignShift-1)*be.tx2width/2+Se),ge(Ie-be.by/2-1),fe(be.tx2width),ge(be.by+2)))})}function J(X,j){var se=X.index,te=X.trace||{},fe=X.cd[0],ge=X.cd[se]||{};function be(Re){return Re||P(Re)&&Re===0}var xe=Array.isArray(se)?function(Re,Se){var Ie=L.castOption(fe,se,Re);return be(Ie)?Ie:L.extractOption({},te,"",Se)}:function(Re,Se){return L.extractOption(ge,te,Re,Se)};function _e(Re,Se,Ie){var Me=xe(Se,Ie);be(Me)&&(X[Re]=Me)}if(_e("hoverinfo","hi","hoverinfo"),_e("bgcolor","hbg","hoverlabel.bgcolor"),_e("borderColor","hbc","hoverlabel.bordercolor"),_e("fontFamily","htf","hoverlabel.font.family"),_e("fontSize","hts","hoverlabel.font.size"),_e("fontColor","htc","hoverlabel.font.color"),_e("fontWeight","htw","hoverlabel.font.weight"),_e("fontStyle","hty","hoverlabel.font.style"),_e("fontVariant","htv","hoverlabel.font.variant"),_e("nameLength","hnl","hoverlabel.namelength"),_e("textAlign","hta","hoverlabel.align"),X.posref=j==="y"||j==="closest"&&te.orientation==="h"?X.xa._offset+(X.x0+X.x1)/2:X.ya._offset+(X.y0+X.y1)/2,X.x0=L.constrain(X.x0,0,X.xa._length),X.x1=L.constrain(X.x1,0,X.xa._length),X.y0=L.constrain(X.y0,0,X.ya._length),X.y1=L.constrain(X.y1,0,X.ya._length),X.xLabelVal!==void 0&&(X.xLabel="xLabel"in X?X.xLabel:l.hoverLabelText(X.xa,X.xLabelVal,te.xhoverformat),X.xVal=X.xa.c2d(X.xLabelVal)),X.yLabelVal!==void 0&&(X.yLabel="yLabel"in X?X.yLabel:l.hoverLabelText(X.ya,X.yLabelVal,te.yhoverformat),X.yVal=X.ya.c2d(X.yLabelVal)),X.zLabelVal!==void 0&&X.zLabel===void 0&&(X.zLabel=String(X.zLabelVal)),!isNaN(X.xerr)&&!(X.xa.type==="log"&&X.xerr<=0)){var De=l.tickText(X.xa,X.xa.c2l(X.xerr),"hover").text;X.xerrneg!==void 0?X.xLabel+=" +"+De+" / -"+l.tickText(X.xa,X.xa.c2l(X.xerrneg),"hover").text:X.xLabel+=" ± "+De,j==="x"&&(X.distance+=1)}if(!isNaN(X.yerr)&&!(X.ya.type==="log"&&X.yerr<=0)){var Fe=l.tickText(X.ya,X.ya.c2l(X.yerr),"hover").text;X.yerrneg!==void 0?X.yLabel+=" +"+Fe+" / -"+l.tickText(X.ya,X.ya.c2l(X.yerrneg),"hover").text:X.yLabel+=" ± "+Fe,j==="y"&&(X.distance+=1)}var Te=X.hoverinfo||X.trace.hoverinfo;return Te&&Te!=="all"&&(Te=Array.isArray(Te)?Te:Te.split("+"),Te.indexOf("x")===-1&&(X.xLabel=void 0),Te.indexOf("y")===-1&&(X.yLabel=void 0),Te.indexOf("z")===-1&&(X.zLabel=void 0),Te.indexOf("text")===-1&&(X.text=void 0),Te.indexOf("name")===-1&&(X.name=void 0)),X}function re(X,j,se){var te=se.container,fe=se.fullLayout,ge=fe._size,be=se.event,xe=!!j.hLinePoint,_e=!!j.vLinePoint,De,Fe;if(te.selectAll(".spikeline").remove(),!!(_e||xe)){var Te=f.combine(fe.plot_bgcolor,fe.paper_bgcolor);if(xe){var Re=j.hLinePoint,Se,Ie;De=Re&&Re.xa,Fe=Re&&Re.ya;var Me=Fe.spikesnap;Me==="cursor"?(Se=be.pointerX,Ie=be.pointerY):(Se=De._offset+Re.x,Ie=Fe._offset+Re.y);var Ve=s.readability(Re.color,Te)<1.5?f.contrast(Te):Re.color,et=Fe.spikemode,it=Fe.spikethickness,Je=Fe.spikecolor||Ve,Qe=l.getPxPosition(X,Fe),ct,ht;if(et.indexOf("toaxis")!==-1||et.indexOf("across")!==-1){if(et.indexOf("toaxis")!==-1&&(ct=Qe,ht=Se),et.indexOf("across")!==-1){var gt=Fe._counterDomainMin,Tt=Fe._counterDomainMax;Fe.anchor==="free"&&(gt=Math.min(gt,Fe.position),Tt=Math.max(Tt,Fe.position)),ct=ge.l+gt*ge.w,ht=ge.l+Tt*ge.w}te.insert("line",":first-child").attr({x1:ct,x2:ht,y1:Ie,y2:Ie,"stroke-width":it,stroke:Je,"stroke-dasharray":n.dashStyle(Fe.spikedash,it)}).classed("spikeline",!0).classed("crisp",!0),te.insert("line",":first-child").attr({x1:ct,x2:ht,y1:Ie,y2:Ie,"stroke-width":it+2,stroke:Te}).classed("spikeline",!0).classed("crisp",!0)}et.indexOf("marker")!==-1&&te.insert("circle",":first-child").attr({cx:Qe+(Fe.side!=="right"?it:-it),cy:Ie,r:it,fill:Je}).classed("spikeline",!0)}if(_e){var Et=j.vLinePoint,rt,ze;De=Et&&Et.xa,Fe=Et&&Et.ya;var He=De.spikesnap;He==="cursor"?(rt=be.pointerX,ze=be.pointerY):(rt=De._offset+Et.x,ze=Fe._offset+Et.y);var Ge=s.readability(Et.color,Te)<1.5?f.contrast(Te):Et.color,We=De.spikemode,Le=De.spikethickness,Pe=De.spikecolor||Ge,je=l.getPxPosition(X,De),Ce,he;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(Ce=je,he=ze),We.indexOf("across")!==-1){var me=De._counterDomainMin,Ne=De._counterDomainMax;De.anchor==="free"&&(me=Math.min(me,De.position),Ne=Math.max(Ne,De.position)),Ce=ge.t+(1-Ne)*ge.h,he=ge.t+(1-me)*ge.h}te.insert("line",":first-child").attr({x1:rt,x2:rt,y1:Ce,y2:he,"stroke-width":Le,stroke:Pe,"stroke-dasharray":n.dashStyle(De.spikedash,Le)}).classed("spikeline",!0).classed("crisp",!0),te.insert("line",":first-child").attr({x1:rt,x2:rt,y1:Ce,y2:he,"stroke-width":Le+2,stroke:Te}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&te.insert("circle",":first-child").attr({cx:rt,cy:je-(De.side!=="top"?Le:-Le),r:Le,fill:Pe}).classed("spikeline",!0)}}}function ne(X,j,se){if(!se||se.length!==X._hoverdata.length)return!0;for(var te=se.length-1;te>=0;te--){var fe=se[te],ge=X._hoverdata[te];if(fe.curveNumber!==ge.curveNumber||String(fe.pointNumber)!==String(ge.pointNumber)||String(fe.pointNumbers)!==String(ge.pointNumbers))return!0}return!1}function le(X,j){return!0}function $(X,j){return t.plainText(X||"",{len:j,allowedTags:["br","sub","sup","b","i","em"]})}function K(X,j){for(var se=j.charAt(0),te=[],fe=[],ge=[],be=0;be<X.length;be++){var xe=X[be];g.traceIs(xe.trace,"bar-like")||g.traceIs(xe.trace,"box-violin")?ge.push(xe):xe.trace[se+"period"]?fe.push(xe):te.push(xe)}return te.concat(fe).concat(ge)}function ie(X,j,se){var te=j[X+"a"],fe=j[X+"Val"],ge=j.cd[0];if(te.type==="category"||te.type==="multicategory")fe=te._categoriesMap[fe];else if(te.type==="date"){var be=j.trace[X+"periodalignment"];if(be){var xe=j.cd[j.index],_e=xe[X+"Start"];_e===void 0&&(_e=xe[X]);var De=xe[X+"End"];De===void 0&&(De=xe[X]);var Fe=De-_e;be==="end"?fe+=Fe:be==="middle"&&(fe+=Fe/2)}fe=te.d2c(fe)}return ge&&ge.t&&ge.t.posLetter===te._id&&(se.boxmode==="group"||se.violinmode==="group")&&(fe+=ge.t.dPos),fe}function Y(X){return X.offsetTop+X.clientTop}function Q(X){return X.offsetLeft+X.clientLeft}function oe(X,j){var se=X._fullLayout,te=j.getBoundingClientRect(),fe=te.left,ge=te.top,be=fe+te.width,xe=ge+te.height,_e=L.apply3DTransform(se._invTransform)(fe,ge),De=L.apply3DTransform(se._invTransform)(be,xe),Fe=_e[0],Te=_e[1],Re=De[0],Se=De[1];return{x:Fe,y:Te,width:Re-Fe,height:Se-Te,top:Math.min(Te,Se),left:Math.min(Fe,Re),right:Math.max(Fe,Re),bottom:Math.max(Te,Se)}}},16132:function(G,H,e){var m=e(3400),P=e(76308),s=e(10624).isUnifiedHover;G.exports=function(S,v,p,r){r=r||{};var t=v.legend;function i(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&s(v.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),m.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(G,H,e){var m=e(3400),P=e(65460);G.exports=function(L,S){function v(p,r){return S[p]!==void 0?S[p]:m.coerce(L,S,P,p,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(G,H,e){var m=e(33428),P=e(3400),s=e(86476),L=e(10624),S=e(65460),v=e(83292);G.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:S},attributes:e(55756),layoutAttributes:S,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:s.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(i){var n=P.isD3Selection(i)?i:m.select(i);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(i,n,f){return P.castOption(i,n,"hoverlabel."+f)}function t(i,n,f){function u(l){return P.coerceHoverinfo({hoverinfo:l},{_module:i._module},n)}return P.castOption(i,f,"hoverinfo",u)}},65460:function(G,H,e){var m=e(92456),P=e(25376),s=P({editType:"none"});s.family.dflt=m.HOVERFONT,s.size.dflt=m.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(G,H,e){var m=e(3400),P=e(65460),s=e(41008),L=e(16132);G.exports=function(v,p){function r(l,g){return m.coerce(v,p,P,l,g)}var t=s(v,p);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var n=p._has("mapbox"),f=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||f)&&u===1||n&&f&&u===2)&&(p.dragmode="pan"),L(v,p,r),m.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(G,H,e){var m=e(3400),P=e(16132),s=e(65460);G.exports=function(S,v){function p(r,t){return m.coerce(S,v,s,r,t)}P(S,v,p)}},12704:function(G,H,e){var m=e(3400),P=e(53756).counter,s=e(86968).u,L=e(33816).idRegex,S=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(f,u,l){var g=u[l+"axes"],h=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(g))return g;if(h.length)return h}function r(f,u){var l=f.grid||{},g=p(u,l,"x"),h=p(u,l,"y");if(!f.grid&&!g&&!h)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(g),a=Array.isArray(h),d=c&&g!==l.xaxes&&a&&h!==l.yaxes,x,w;T?(x=l.subplots.length,w=l.subplots[0].length):(a&&(x=h.length),c&&(w=g.length));var C=S.newContainer(u,"grid");function y(O,F){return m.coerce(l,C,v,O,F)}var M=y("rows",x),A=y("columns",w);if(!(M*A>1)){delete u.grid;return}if(!T&&!c&&!a){var o=y("pattern")==="independent";o&&(T=!0)}C._hasSubplotGrid=T;var E=y("roworder"),b=E==="top to bottom",I=T?.2:.1,D=T?.3:.1,N,k;d&&u._splomGridDflt&&(N=u._splomGridDflt.xside,k=u._splomGridDflt.yside),C._domains={x:t("x",y,I,N,A),y:t("y",y,D,k,M,b)}}function t(f,u,l,g,h,T){var c=u(f+"gap",l),a=u("domain."+f);u(f+"side",g);for(var d=new Array(h),x=a[0],w=(a[1]-x)/(h-c),C=w*(1-c),y=0;y<h;y++){var M=x+w*y;d[T?h-1-y:y]=[M,M+C]}return d}function i(f,u){var l=u.grid;if(!(!l||!l._domains)){var g=f.grid||{},h=u._subplots,T=l._hasSubplotGrid,c=l.rows,a=l.columns,d=l.pattern==="independent",x,w,C,y,M,A,o,E=l._axisMap={};if(T){var b=g.subplots||[];A=l.subplots=new Array(c);var I=1;for(x=0;x<c;x++){var D=A[x]=new Array(a),N=b[x]||[];for(w=0;w<a;w++)if(d?(M=I===1?"xy":"x"+I+"y"+I,I++):M=N[w],D[w]="",h.cartesian.indexOf(M)!==-1){if(o=M.indexOf("y"),C=M.slice(0,o),y=M.slice(o),E[C]!==void 0&&E[C]!==w||E[y]!==void 0&&E[y]!==x)continue;D[w]=M,E[C]=w,E[y]=x}}}else{var k=p(u,g,"x"),O=p(u,g,"y");l.xaxes=n(k,h.xaxis,a,E,"x"),l.yaxes=n(O,h.yaxis,c,E,"y")}var F=l._anchors={},z=l.roworder==="top to bottom";for(var B in E){var W=B.charAt(0),J=l[W+"side"],re,ne,le;if(J.length<8)F[B]="free";else if(W==="x"){if(J.charAt(0)==="t"===z?(re=0,ne=1,le=c):(re=c-1,ne=-1,le=-1),T){var $=E[B];for(x=re;x!==le;x+=ne)if(M=A[x][$],!!M&&(o=M.indexOf("y"),M.slice(0,o)===B)){F[B]=M.slice(o);break}}else for(x=re;x!==le;x+=ne)if(y=l.yaxes[x],h.cartesian.indexOf(B+y)!==-1){F[B]=y;break}}else if(J.charAt(0)==="l"?(re=0,ne=1,le=a):(re=a-1,ne=-1,le=-1),T){var K=E[B];for(x=re;x!==le;x+=ne)if(M=A[K][x],!!M&&(o=M.indexOf("y"),M.slice(o)===B)){F[B]=M.slice(0,o);break}}else for(x=re;x!==le;x+=ne)if(C=l.xaxes[x],h.cartesian.indexOf(C+B)!==-1){F[B]=C;break}}}}function n(f,u,l,g,h){var T=new Array(l),c;function a(d,x){u.indexOf(x)!==-1&&g[x]===void 0?(T[d]=x,g[x]=d):T[d]=""}if(Array.isArray(f))for(c=0;c<l;c++)a(c,f[c]);else for(a(0,h),c=1;c<l;c++)a(c,h+(c+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:i}},65760:function(G,H,e){var m=e(33816),P=e(31780).templatedArray;e(36208),G.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",m.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",m.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(G,H,e){var m=e(38248),P=e(36896);G.exports=function(L,S,v,p){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(r||t){for(var i=L._fullLayout.images,n=S._id.charAt(0),f,u,l=0;l<i.length;l++)if(f=i[l],u="images["+l+"].",f[n+"ref"]===S._id){var g=f[n],h=f["size"+n],T=null,c=null;if(r){T=P(g,S.range);var a=h/Math.pow(10,T)/2;c=2*Math.log(a+Math.sqrt(1+a*a))/Math.LN10}else T=Math.pow(10,g),c=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));m(T)?m(c)||(c=null):(T=null,c=null),p(u+n,T),p(u+"size"+n,c)}}}},25024:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(65760),S="images";G.exports=function(r,t){var i={name:S,handleItemDefaults:v};s(r,t,i)};function v(p,r,t){function i(a,d){return m.coerce(p,r,L,a,d)}var n=i("source"),f=i("visible",!!n);if(!f)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var u={_fullLayout:t},l=["x","y"],g=0;g<2;g++){var h=l[g],T=P.coerceRef(p,r,u,h,"paper",void 0);if(T!=="paper"){var c=P.getFromId(u,T);c._imgIndices.push(r._index)}P.coercePosition(r,u,i,T,h,0)}return r}},60963:function(G,H,e){var m=e(33428),P=e(43616),s=e(54460),L=e(79811),S=e(9616);G.exports=function(p){var r=p._fullLayout,t=[],i={},n=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=L.ref2id(l.xref)+L.ref2id(l.yref);var g=r._plots[f];if(!g){n.push(l);continue}g.mainplot&&(f=g.mainplot.id),i[f]||(i[f]=[]),i[f].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(y){var M=m.select(this);if(this._imgSrc!==y.source)if(M.attr("xmlns",S.svg),y.source&&y.source.slice(0,5)==="data:")M.attr("xlink:href",y.source),this._imgSrc=y.source;else{var A=new Promise((function(o){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=b,E.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height;var D=I.getContext("2d",{willReadFrequently:!0});D.drawImage(this,0,0);var N=I.toDataURL("image/png");M.attr("xlink:href",N),o()},M.on("error",b),E.src=y.source,this._imgSrc=y.source;function b(){M.remove(),o()}}).bind(this));p._promises.push(A)}}function c(y){var M=m.select(this),A=s.getFromId(p,y.xref),o=s.getFromId(p,y.yref),E=s.getRefType(y.xref)==="domain",b=s.getRefType(y.yref)==="domain",I=r._size,D,N;A!==void 0?D=typeof y.xref=="string"&&E?A._length*y.sizex:Math.abs(A.l2p(y.sizex)-A.l2p(0)):D=y.sizex*I.w,o!==void 0?N=typeof y.yref=="string"&&b?o._length*y.sizey:Math.abs(o.l2p(y.sizey)-o.l2p(0)):N=y.sizey*I.h;var k=D*h.x[y.xanchor].offset,O=N*h.y[y.yanchor].offset,F=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,z,B;switch(A!==void 0?z=typeof y.xref=="string"&&E?A._length*y.x+A._offset:A.r2p(y.x)+A._offset:z=y.x*I.w+I.l,z+=k,o!==void 0?B=typeof y.yref=="string"&&b?o._length*(1-y.y)+o._offset:o.r2p(y.y)+o._offset:B=I.h-y.y*I.h+I.t,B+=O,y.sizing){case"fill":F+=" slice";break;case"stretch":F="none";break}M.attr({x:z,y:B,width:D,height:N,preserveAspectRatio:F,opacity:y.opacity});var W=A&&s.getRefType(y.xref)!=="domain"?A._id:"",J=o&&s.getRefType(y.yref)!=="domain"?o._id:"",re=W+J;P.setClipUrl(M,re?"clip"+r._uid+re:null,p)}var a=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);a.enter().append("image"),d.enter().append("image"),a.exit().remove(),d.exit().remove(),a.each(function(y){T.bind(this)(y),c.bind(this)(y)}),d.each(function(y){T.bind(this)(y),c.bind(this)(y)});var x=Object.keys(r._plots);for(u=0;u<x.length;u++){f=x[u];var w=r._plots[f];if(w.imagelayer){var C=w.imagelayer.selectAll("image").data(i[f]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(y){T.bind(this)(y),c.bind(this)(y)})}}}},7402:function(G,H,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(G,H,e){var m=e(25376),P=e(22548);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:m({editType:"legend"}),grouptitlefont:m({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:m({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(G,H,e){var m=e(24040),P=e(3400),s=e(31780),L=e(45464),S=e(3800),v=e(64859),p=e(42451);function r(t,i,n,f){var u=i[t]||{},l=s.newContainer(n,t);function g(le,$){return P.coerce(u,l,S,le,$)}var h=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var T=g("visible");if(T){for(var c,a=function(le,$){var K=c._input,ie=c;return P.coerce(K,ie,L,le,$)},d=n.font||{},x=P.coerceFont(g,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),w=0,C=!1,y="normal",M=(n.shapes||[]).filter(function(le){return le.showlegend}),A=f.concat(M).filter(function(le){return t===(le.legend||"legend")}),o=0;o<A.length;o++)if(c=A[o],!!c.visible){var E=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(C=!0,(!E&&m.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),P.coerceFont(a,"legendgrouptitle.font",x)),(!E&&m.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=p.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=p.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var b=P.coerce(i,n,v,"showlegend",C&&w>(t==="legend"?1:0));if(b===!1&&(n[t]=void 0),!(b===!1&&!u.uirevision)&&(g("uirevision",n.uirevision),b!==!1)){g("borderwidth");var I=g("orientation"),D=g("yref"),N=g("xref"),k=I==="h",O=D==="paper",F=N==="paper",z,B,W,J="left";k?(z=0,m.getComponentMethod("rangeslider","isVisible")(i.xaxis)?O?(B=1.1,W="bottom"):(B=1,W="top"):O?(B=-.1,W="top"):(B=0,W="bottom")):(B=1,W="auto",F?z=1.02:(z=1,J="right")),P.coerce(u,l,{x:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:z}},"x"),P.coerce(u,l,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:B}},"y"),g("traceorder",y),p.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",J),g("yanchor",W),g("valign"),P.noneOrAll(u,l,["x","y"]);var re=g("title.text");if(re){g("title.side",k?"left":"top");var ne=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(g,"title.font",ne)}}}}G.exports=function(i,n,f){var u,l=f.slice(),g=n.shapes;if(g)for(u=0;u<g.length;u++){var h=g[u];if(h.showlegend){var T={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(T)}}var c=["legend"];for(u=0;u<l.length;u++)P.pushUnique(c,l[u].legend);for(n._legends=[],u=0;u<c.length;u++){var a=c[u];r(a,i,n,l),n[a]&&n[a].visible&&(n[a]._id=a),n._legends.push(a)}}},31140:function(G,H,e){var m=e(33428),P=e(3400),s=e(7316),L=e(24040),S=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),i=e(33048),n=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,g=f.FROM_BR,h=e(35456),T=e(2012),c=e(42451),a=1,d=/^legend[0-9]*$/;G.exports=function(B,W){if(W)w(B,W);else{var J=B._fullLayout,re=J._legends,ne=J._infolayer.selectAll('[class^="legend"]');ne.each(function(){var ie=m.select(this),Y=ie.attr("class"),Q=Y.split(" ")[0];Q.match(d)&&re.indexOf(Q)===-1&&ie.remove()});for(var le=0;le<re.length;le++){var $=re[le],K=B._fullLayout[$];w(B,K)}}};function x(z,B,W){if(!(B.title.side!=="top center"&&B.title.side!=="top right")){var J=B.title.font,re=J.size*u,ne=0,le=z.node(),$=p.bBox(le).width;B.title.side==="top center"?ne=.5*(B._width-2*W-2*n.titlePad-$):B.title.side==="top right"&&(ne=B._width-2*W-2*n.titlePad-$),t.positionText(z,W+n.titlePad+ne,W+re)}}function w(z,B){var W=B||{},J=z._fullLayout,re=F(W),ne,le,$=W._inHover;if($?(le=W.layer,ne="hover"):(le=J._infolayer,ne=re),!!le){ne+=J._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var K;if($){if(!W.entries)return;K=h(W.entries,W)}else{for(var ie=(z.calcdata||[]).slice(),Y=J.shapes,Q=0;Q<Y.length;Q++){var oe=Y[Q];if(oe.showlegend){var X={_isShape:!0,_fullInput:oe,index:oe._index,name:oe.name||oe.label.text||"shape "+oe._index,legend:oe.legend,legendgroup:oe.legendgroup,legendgrouptitle:oe.legendgrouptitle,legendrank:oe.legendrank,legendwidth:oe.legendwidth,showlegend:oe.showlegend,visible:oe.visible,opacity:oe.opacity,mode:oe.type==="line"?"lines":"markers",line:oe.line,marker:{line:oe.line,color:oe.fillcolor,size:12,symbol:oe.type==="rect"?"square":oe.type==="circle"?"circle":"hexagon2"}};ie.push([{trace:X}])}}K=J.showlegend&&h(ie,W,J._legends.length>1)}var j=J.hiddenlabels||[];if(!$&&(!J.showlegend||!K.length))return le.selectAll("."+re).remove(),J._topdefs.select("#"+ne).remove(),s.autoMargin(z,re);var se=P.ensureSingle(le,"g",re,function(Te){$||Te.attr("pointer-events","all")}),te=P.ensureSingleById(J._topdefs,"clipPath",ne,function(Te){Te.append("rect")}),fe=P.ensureSingle(se,"rect","bg",function(Te){Te.attr("shape-rendering","crispEdges")});fe.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ge=P.ensureSingle(se,"g","scrollbox"),be=W.title;W._titleWidth=0,W._titleHeight=0;var xe;be.text?(xe=P.ensureSingle(ge,"text",re+"titletext"),xe.attr("text-anchor","start").call(p.font,be.font).text(be.text),E(xe,ge,z,W,a)):ge.selectAll("."+re+"titletext").remove();var _e=P.ensureSingle(se,"rect","scrollbar",function(Te){Te.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),De=ge.selectAll("g.groups").data(K);De.enter().append("g").attr("class","groups"),De.exit().remove();var Fe=De.selectAll("g.traces").data(P.identity);Fe.enter().append("g").attr("class","traces"),Fe.exit().remove(),Fe.style("opacity",function(Te){var Re=Te[0].trace;return L.traceIs(Re,"pie-like")?j.indexOf(Te[0].label)!==-1?.5:1:Re.visible==="legendonly"?.5:1}).each(function(){m.select(this).call(M,z,W)}).call(T,z,W).each(function(){$||m.select(this).call(o,z,re)}),P.syncOrAsync([s.previousPromises,function(){return D(z,De,Fe,W)},function(){var Te=J._size,Re=W.borderwidth,Se=W.xref==="paper",Ie=W.yref==="paper";if(be.text&&x(xe,W,Re),!$){var Me,Ve;Se?Me=Te.l+Te.w*W.x-l[k(W)]*W._width:Me=J.width*W.x-l[k(W)]*W._width,Ie?Ve=Te.t+Te.h*(1-W.y)-l[O(W)]*W._effHeight:Ve=J.height*(1-W.y)-l[O(W)]*W._effHeight;var et=N(z,re,Me,Ve);if(et)return;if(J.margin.autoexpand){var it=Me,Je=Ve;Me=Se?P.constrain(Me,0,J.width-W._width):it,Ve=Ie?P.constrain(Ve,0,J.height-W._effHeight):Je,Me!==it&&P.log("Constrain "+re+".x to make legend fit inside graph"),Ve!==Je&&P.log("Constrain "+re+".y to make legend fit inside graph")}p.setTranslate(se,Me,Ve)}if(_e.on(".drag",null),se.on("wheel",null),$||W._height<=W._maxHeight||z._context.staticPlot){var Qe=W._effHeight;$&&(Qe=W._height),fe.attr({width:W._width-Re,height:Qe-Re,x:Re/2,y:Re/2}),p.setTranslate(ge,0,0),te.select("rect").attr({width:W._width-2*Re,height:Qe-2*Re,x:Re,y:Re}),p.setClipUrl(ge,ne,z),p.setRect(_e,0,0,0,0),delete W._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),ht=W._effHeight-ct-2*n.scrollBarMargin,gt=W._height-W._effHeight,Tt=ht/gt,Et=Math.min(W._scrollY||0,gt);fe.attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Re,x:Re/2,y:Re/2}),te.select("rect").attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Re,x:Re,y:Re+Et}),p.setClipUrl(ge,ne,z),je(Et,ct,Tt),se.on("wheel",function(){Et=P.constrain(W._scrollY+m.event.deltaY/ht*gt,0,gt),je(Et,ct,Tt),Et!==0&&Et!==gt&&m.event.preventDefault()});var rt,ze,He,Ge=function($e,ot,st){var Wt=(st-ot)/Tt+$e;return P.constrain(Wt,0,gt)},We=function($e,ot,st){var Wt=(ot-st)/Tt+$e;return P.constrain(Wt,0,gt)},Le=m.behavior.drag().on("dragstart",function(){var $e=m.event.sourceEvent;$e.type==="touchstart"?rt=$e.changedTouches[0].clientY:rt=$e.clientY,He=Et}).on("drag",function(){var $e=m.event.sourceEvent;$e.buttons===2||$e.ctrlKey||($e.type==="touchmove"?ze=$e.changedTouches[0].clientY:ze=$e.clientY,Et=Ge(He,rt,ze),je(Et,ct,Tt))});_e.call(Le);var Pe=m.behavior.drag().on("dragstart",function(){var $e=m.event.sourceEvent;$e.type==="touchstart"&&(rt=$e.changedTouches[0].clientY,He=Et)}).on("drag",function(){var $e=m.event.sourceEvent;$e.type==="touchmove"&&(ze=$e.changedTouches[0].clientY,Et=We(He,rt,ze),je(Et,ct,Tt))});ge.call(Pe)}function je($e,ot,st){W._scrollY=z._fullLayout[re]._scrollY=$e,p.setTranslate(ge,0,-$e),p.setRect(_e,W._width,n.scrollBarMargin+$e*st,n.scrollBarWidth,ot),te.select("rect").attr("y",Re+$e)}if(z._context.edits.legendPosition){var Ce,he,me,Ne;se.classed("cursor-move",!0),v.init({element:se.node(),gd:z,prepFn:function($e){if($e.target!==_e.node()){var ot=p.getTranslate(se);me=ot.x,Ne=ot.y}},moveFn:function($e,ot){if(me!==void 0&&Ne!==void 0){var st=me+$e,Wt=Ne+ot;p.setTranslate(se,st,Wt),Ce=v.align(st,W._width,Te.l,Te.l+Te.w,W.xanchor),he=v.align(Wt+W._height,-W._height,Te.t+Te.h,Te.t,W.yanchor)}},doneFn:function(){if(Ce!==void 0&&he!==void 0){var $e={};$e[re+".x"]=Ce,$e[re+".y"]=he,L.call("_guiRelayout",z,$e)}},clickFn:function($e,ot){var st=le.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return ot.clientX>=Wt.left&&ot.clientX<=Wt.right&&ot.clientY>=Wt.top&&ot.clientY<=Wt.bottom});st.size()>0&&y(z,se,st,$e,ot)}})}}],z)}}function C(z,B,W){var J=z[0],re=J.width,ne=B.entrywidthmode,le=J.trace.legendwidth||B.entrywidth;return ne==="fraction"?B._maxWidth*le:W+(le||re)}function y(z,B,W,J,re){var ne=W.data()[0][0].trace,le={event:re,node:W.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};ne._group&&(le.group=ne._group),L.traceIs(ne,"pie-like")&&(le.label=W.datum()[0].label);var $=S.triggerHandler(z,"plotly_legendclick",le);if(J===1){if($===!1)return;B._clickTimeout=setTimeout(function(){z._fullLayout&&i(W,z,J)},z._context.doubleClickDelay)}else if(J===2){B._clickTimeout&&clearTimeout(B._clickTimeout),z._legendMouseDownTime=0;var K=S.triggerHandler(z,"plotly_legenddoubleclick",le);K!==!1&&$!==!1&&i(W,z,J)}}function M(z,B,W){var J=F(W),re=z.data()[0][0],ne=re.trace,le=L.traceIs(ne,"pie-like"),$=!W._inHover&&B._context.edits.legendText&&!le,K=W._maxNameLength,ie,Y;re.groupTitle?(ie=re.groupTitle.text,Y=re.groupTitle.font):(Y=W.font,W.entries?ie=re.text:(ie=le?re.label:ne.name,ne._meta&&(ie=P.templateString(ie,ne._meta))));var Q=P.ensureSingle(z,"text",J+"text");Q.attr("text-anchor","start").call(p.font,Y).text($?A(ie,K):ie);var oe=W.indentation+W.itemwidth+n.itemGap*2;t.positionText(Q,oe,0),$?Q.call(t.makeEditable,{gd:B,text:ie}).call(E,z,B,W).on("edit",function(X){this.text(A(X,K)).call(E,z,B,W);var j=re.trace._fullInput||{},se={};if(L.hasTransform(j,"groupby")){var te=L.getTransformIndices(j,"groupby"),fe=te[te.length-1],ge=P.keyedContainer(j,"transforms["+fe+"].styles","target","value.name");ge.set(re.trace._group,X),se=ge.constructUpdate()}else se.name=X;return j._isShape?L.call("_guiRelayout",B,"shapes["+ne.index+"].name",se.name):L.call("_guiRestyle",B,se,ne.index)}):E(Q,z,B,W)}function A(z,B){var W=Math.max(4,B);if(z&&z.trim().length>=W/2)return z;z=z||"";for(var J=W-z.length;J>0;J--)z+=" ";return z}function o(z,B,W){var J=B._context.doubleClickDelay,re,ne=1,le=P.ensureSingle(z,"rect",W+"toggle",function($){B._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(r.fill,"rgba(0,0,0,0)")});B._context.staticPlot||(le.on("mousedown",function(){re=new Date().getTime(),re-B._legendMouseDownTime<J?ne+=1:(ne=1,B._legendMouseDownTime=re)}),le.on("mouseup",function(){if(!(B._dragged||B._editing)){var $=B._fullLayout[W];new Date().getTime()-B._legendMouseDownTime>J&&(ne=Math.max(ne-1,1)),y(B,$,z,ne,m.event)}}))}function E(z,B,W,J,re){J._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,W,function(){b(B,W,J,re)})}function b(z,B,W,J){var re=z.data()[0][0];if(!W._inHover&&re&&!re.trace.showlegend){z.remove();return}var ne=z.select("g[class*=math-group]"),le=ne.node(),$=F(W);W||(W=B._fullLayout[$]);var K=W.borderwidth,ie;J===a?ie=W.title.font:re.groupTitle?ie=re.groupTitle.font:ie=W.font;var Y=ie.size*u,Q,oe;if(le){var X=p.bBox(le);Q=X.height,oe=X.width,J===a?p.setTranslate(ne,K,K+Q*.75):p.setTranslate(ne,0,Q*.25)}else{var j="."+$+(J===a?"title":"")+"text",se=z.select(j),te=t.lineCount(se),fe=se.node();if(Q=Y*te,oe=fe?p.bBox(fe).width:0,J===a)W.title.side==="left"&&(oe+=n.itemGap*2),t.positionText(se,K+n.titlePad,K+Y);else{var ge=n.itemGap*2+W.indentation+W.itemwidth;re.groupTitle&&(ge=n.itemGap,oe-=W.indentation+W.itemwidth),t.positionText(se,ge,-Y*((te-1)/2-.3))}}J===a?(W._titleWidth=oe,W._titleHeight=Q):(re.lineHeight=Y,re.height=Math.max(Q,16)+3,re.width=oe)}function I(z){var B=0,W=0,J=z.title.side;return J&&(J.indexOf("left")!==-1&&(B=z._titleWidth),J.indexOf("top")!==-1&&(W=z._titleHeight)),[B,W]}function D(z,B,W,J){var re=z._fullLayout,ne=F(J);J||(J=re[ne]);var le=re._size,$=c.isVertical(J),K=c.isGrouped(J),ie=J.entrywidthmode==="fraction",Y=J.borderwidth,Q=2*Y,oe=n.itemGap,X=J.indentation+J.itemwidth+oe*2,j=2*(Y+oe),se=O(J),te=J.y<0||J.y===0&&se==="top",fe=J.y>1||J.y===1&&se==="bottom",ge=J.tracegroupgap,be={};J._maxHeight=Math.max(te||fe?re.height/2:le.h,30);var xe=0;J._width=0,J._height=0;var _e=I(J);if($)W.each(function(He){var Ge=He[0].height;p.setTranslate(this,Y+_e[0],Y+_e[1]+J._height+Ge/2+oe),J._height+=Ge,J._width=Math.max(J._width,He[0].width)}),xe=X+J._width,J._width+=oe+X+Q,J._height+=j,K&&(B.each(function(He,Ge){p.setTranslate(this,0,Ge*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var De=k(J),Fe=J.x<0||J.x===0&&De==="right",Te=J.x>1||J.x===1&&De==="left",Re=fe||te,Se=re.width/2;J._maxWidth=Math.max(Fe?Re&&De==="left"?le.l+le.w:Se:Te?Re&&De==="right"?le.r+le.w:Se:le.w,2*X);var Ie=0,Me=0;W.each(function(He){var Ge=C(He,J,X);Ie=Math.max(Ie,Ge),Me+=Ge}),xe=null;var Ve=0;if(K){var et=0,it=0,Je=0;B.each(function(){var He=0,Ge=0;m.select(this).selectAll("g.traces").each(function(Le){var Pe=C(Le,J,X),je=Le[0].height;p.setTranslate(this,_e[0],_e[1]+Y+oe+je/2+Ge),Ge+=je,He=Math.max(He,Pe),be[Le[0].trace.legendgroup]=He});var We=He+oe;it>0&&We+Y+it>J._maxWidth?(Ve=Math.max(Ve,it),it=0,Je+=et+ge,et=Ge):et=Math.max(et,Ge),p.setTranslate(this,it,Je),it+=We}),J._width=Math.max(Ve,it)+Y,J._height=Je+et+j}else{var Qe=W.size(),ct=Me+Q+(Qe-1)*oe<J._maxWidth,ht=0,gt=0,Tt=0,Et=0;W.each(function(He){var Ge=He[0].height,We=C(He,J,X),Le=ct?We:Ie;ie||(Le+=oe),Le+Y+gt-oe>=J._maxWidth&&(Ve=Math.max(Ve,Et),gt=0,Tt+=ht,J._height+=ht,ht=0),p.setTranslate(this,_e[0]+Y+gt,_e[1]+Y+Tt+Ge/2+oe),Et=gt+We+oe,gt+=Le,ht=Math.max(ht,Ge)}),ct?(J._width=gt+Q,J._height=ht+j):(J._width=Math.max(Ve,Et)+Q,J._height+=ht+j)}}J._width=Math.ceil(Math.max(J._width+_e[0],J._titleWidth+2*(Y+n.titlePad))),J._height=Math.ceil(Math.max(J._height+_e[1],J._titleHeight+2*(Y+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var rt=z._context.edits,ze=rt.legendText||rt.legendPosition;W.each(function(He){var Ge=m.select(this).select("."+ne+"toggle"),We=He[0].height,Le=He[0].trace.legendgroup,Pe=C(He,J,X);K&&Le!==""&&(Pe=be[Le]);var je=ze?X:xe||Pe;!$&&!ie&&(je+=oe/2),p.setRect(Ge,0,-We/2,je,We)})}function N(z,B,W,J){var re=z._fullLayout,ne=re[B],le=k(ne),$=O(ne),K=ne.xref==="paper",ie=ne.yref==="paper";z._fullLayout._reservedMargin[B]={};var Y=ne.y<.5?"b":"t",Q=ne.x<.5?"l":"r",oe={r:re.width-W,l:W+ne._width,b:re.height-J,t:J+ne._effHeight};if(K&&ie)return s.autoMargin(z,B,{x:ne.x,y:ne.y,l:ne._width*l[le],r:ne._width*g[le],b:ne._effHeight*g[$],t:ne._effHeight*l[$]});K?z._fullLayout._reservedMargin[B][Y]=oe[Y]:ie||ne.orientation==="v"?z._fullLayout._reservedMargin[B][Q]=oe[Q]:z._fullLayout._reservedMargin[B][Y]=oe[Y]}function k(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function O(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function F(z){return z._id||"legend"}},35456:function(G,H,e){var m=e(24040),P=e(42451);G.exports=function(L,S,v){var p=S._inHover,r=P.isGrouped(S),t=P.isReversed(S),i={},n=[],f=!1,u={},l=0,g=0,h,T;function c(z,B,W){if(S.visible!==!1&&!(v&&z!==S._id))if(B===""||!P.isGrouped(S)){var J="~~i"+l;n.push(J),i[J]=[W],l++}else n.indexOf(B)===-1?(n.push(B),f=!0,i[B]=[W]):i[B].push(W)}for(h=0;h<L.length;h++){var a=L[h],d=a[0],x=d.trace,w=x.legend,C=x.legendgroup;if(!(!p&&(!x.visible||!x.showlegend)))if(m.traceIs(x,"pie-like"))for(u[C]||(u[C]={}),T=0;T<a.length;T++){var y=a[T].label;u[C][y]||(c(w,C,{label:y,color:a[T].color,i:a[T].i,trace:x,pts:a[T].pts}),u[C][y]=!0,g=Math.max(g,(y||"").length))}else c(w,C,d),g=Math.max(g,(x.name||"").length)}if(!n.length)return[];var M=!f||!r,A=[];for(h=0;h<n.length;h++){var o=i[n[h]];M?A.push(o[0]):A.push(o)}for(M&&(A=[A]),h=0;h<A.length;h++){var E=1/0;for(T=0;T<A[h].length;T++){var b=A[h][T].trace.legendrank;E>b&&(E=b)}A[h][0]._groupMinRank=E,A[h][0]._preGroupSort=h}var I=function(z,B){return z[0]._groupMinRank-B[0]._groupMinRank||z[0]._preGroupSort-B[0]._preGroupSort},D=function(z,B){return z.trace.legendrank-B.trace.legendrank||z._preSort-B._preSort};for(A.forEach(function(z,B){z[0]._preGroupSort=B}),A.sort(I),h=0;h<A.length;h++){A[h].forEach(function(z,B){z._preSort=B}),A[h].sort(D);var N=A[h][0].trace,k=null;for(T=0;T<A[h].length;T++){var O=A[h][T].trace.legendgrouptitle;if(O&&O.text){k=O,p&&(O.font=S._groupTitleFont);break}}if(t&&A[h].reverse(),k){var F=!1;for(T=0;T<A[h].length;T++)if(m.traceIs(A[h][T].trace,"pie-like")){F=!0;break}A[h].unshift({i:-1,groupTitle:k,noClick:F,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:S.groupclick==="toggleitem"?!0:N.visible}})}for(T=0;T<A[h].length;T++)A[h][T]=[A[h][T]]}return S._lgroupsLength=A.length,S._maxNameLength=g,A}},33048:function(G,H,e){var m=e(24040),P=e(3400),s=P.pushUnique,L=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var i=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&i==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var u;if(r===1?u=i:r===2&&(u=n),!u)return;var l=f==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var T=p._fullData,c=(t.shapes||[]).filter(function(Se){return Se.showlegend}),a=T.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var x=d.legendgroup,w,C,y,M,A,o,E={},b=[],I=[],D=[];function N(Se,Ie){var Me=b.indexOf(Se),Ve=E.visible;return Ve||(Ve=E.visible=[]),b.indexOf(Se)===-1&&(b.push(Se),Me=b.length-1),Ve[Me]=Ie,Me}var k=(t.shapes||[]).map(function(Se){return Se._input}),O=!1;function F(Se,Ie){k[Se].visible=Ie,O=!0}function z(Se,Ie){if(!(h.groupTitle&&!l)){var Me=Se._fullInput||Se,Ve=Me._isShape,et=Me.index;if(et===void 0&&(et=Me._index),m.hasTransform(Me,"groupby")){var it=I[et];if(!it){var Je=m.getTransformIndices(Me,"groupby"),Qe=Je[Je.length-1];it=P.keyedContainer(Me,"transforms["+Qe+"].styles","target","value.visible"),I[et]=it}var ct=it.get(Se._group);ct===void 0&&(ct=!0),ct!==!1&&it.set(Se._group,Ie),D[et]=N(et,Me.visible!==!1)}else{var ht=Me.visible===!1?!1:Ie;Ve?F(et,ht):N(et,ht)}}}var B=d.legend,W=d._fullInput,J=W&&W._isShape;if(!J&&m.traceIs(d,"pie-like")){var re=h.label,ne=g.indexOf(re);if(u==="toggle")ne===-1?g.push(re):g.splice(ne,1);else if(u==="toggleothers"){var le=ne!==-1,$=[];for(w=0;w<p.calcdata.length;w++){var K=p.calcdata[w];for(C=0;C<K.length;C++){var ie=K[C],Y=ie.label;B===K[0].trace.legend&&re!==Y&&(g.indexOf(Y)===-1&&(le=!0),s(g,Y),$.push(Y))}}if(!le)for(var Q=0;Q<$.length;Q++){var oe=g.indexOf($[Q]);oe!==-1&&g.splice(oe,1)}}m.call("_guiRelayout",p,"hiddenlabels",g)}else{var X=x&&x.length,j=[],se;if(X)for(w=0;w<a.length;w++)se=a[w],se.visible&&se.legendgroup===x&&j.push(w);if(u==="toggle"){var te;switch(d.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(X)if(l)for(w=0;w<a.length;w++){var fe=a[w];fe.visible!==!1&&fe.legendgroup===x&&z(fe,te)}else z(d,te);else z(d,te)}else if(u==="toggleothers"){var ge,be,xe,_e,De,Fe=!0;for(w=0;w<a.length;w++)if(De=a[w],ge=De===d,xe=De.showlegend!==!0,!(ge||xe)&&(be=X&&De.legendgroup===x,!be&&De.legend===B&&De.visible===!0&&!m.traceIs(De,"notLegendIsolatable"))){Fe=!1;break}for(w=0;w<a.length;w++)if(De=a[w],!(De.visible===!1||De.legend!==B)&&!m.traceIs(De,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(De,!0);break;case!0:_e=Fe?!0:"legendonly",ge=De===d,xe=De.showlegend!==!0&&!De.legendgroup,be=ge||X&&De.legendgroup===x,z(De,be||xe?!0:_e);break}}for(w=0;w<I.length;w++)if(y=I[w],!!y){var Te=y.constructUpdate(),Re=Object.keys(Te);for(C=0;C<Re.length;C++)M=Re[C],o=E[M]=E[M]||[],o[D[w]]=Te[M]}for(A=Object.keys(E),w=0;w<A.length;w++)for(M=A[w],C=0;C<b.length;C++)E[M].hasOwnProperty(C)||(E[M][C]=void 0);O?m.call("_guiUpdate",p,E,{shapes:k},b):m.call("_guiRestyle",p,E,b)}}},42451:function(G,H){H.isGrouped=function(m){return(m.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(m){return m.orientation!=="h"},H.isReversed=function(m){return(m.traceorder||"").indexOf("reversed")!==-1}},2780:function(G,H,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=s.strTranslate,S=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),i=e(69656).castOption,n=e(65196),f=12,u=5,l=2,g=10,h=5;G.exports=function(x,w,C){var y=w._fullLayout;C||(C=y.legend);var M=C.itemsizing==="constant",A=C.itemwidth,o=(A+n.itemGap*2)/2,E=L(o,0),b=function($,K,ie,Y){var Q;if($+1)Q=$;else if(K&&K.width>0)Q=K.width;else return 0;return M?Y:Math.min(Q,ie)};x.each(function($){var K=m.select(this),ie=s.ensureSingle(K,"g","layers");ie.style("opacity",$[0].trace.opacity);var Y=C.indentation,Q=C.valign,oe=$[0].lineHeight,X=$[0].height;if(Q==="middle"&&Y===0||!oe||!X)ie.attr("transform",null);else{var j={top:1,bottom:-1}[Q],se=j*(.5*(oe-X+3))||0,te=C.indentation;ie.attr("transform",L(te,se))}var fe=ie.selectAll("g.legendfill").data([$]);fe.enter().append("g").classed("legendfill",!0);var ge=ie.selectAll("g.legendlines").data([$]);ge.enter().append("g").classed("legendlines",!0);var be=ie.selectAll("g.legendsymbols").data([$]);be.enter().append("g").classed("legendsymbols",!0),be.selectAll("g.legendpoints").data([$]).enter().append("g").classed("legendpoints",!0)}).each(le).each(N).each(O).each(k).each(z).each(re).each(J).each(I).each(D).each(B).each(W);function I($){var K=c($),ie=K.showFill,Y=K.showLine,Q=K.showGradientLine,oe=K.showGradientFill,X=K.anyFill,j=K.anyLine,se=$[0],te=se.trace,fe,ge,be=p(te),xe=be.colorscale,_e=be.reversescale,De=function(Ve){if(Ve.size())if(ie)S.fillGroupStyle(Ve,w,!0);else{var et="legendfill-"+te.uid;S.gradient(Ve,w,et,T(_e),xe,"fill")}},Fe=function(Ve){if(Ve.size()){var et="legendline-"+te.uid;S.lineGroupStyle(Ve),S.gradient(Ve,w,et,T(_e),xe,"stroke")}},Te=r.hasMarkers(te)||!X?"M5,0":j?"M5,-2":"M5,-3",Re=m.select(this),Se=Re.select(".legendfill").selectAll("path").data(ie||oe?[$]:[]);if(Se.enter().append("path").classed("js-fill",!0),Se.exit().remove(),Se.attr("d",Te+"h"+A+"v6h-"+A+"z").call(De),Y||Q){var Ie=b(void 0,te.line,g,u);ge=s.minExtend(te,{line:{width:Ie}}),fe=[s.minExtend(se,{trace:ge})]}var Me=Re.select(".legendlines").selectAll("path").data(Y||Q?[fe]:[]);Me.enter().append("path").classed("js-line",!0),Me.exit().remove(),Me.attr("d",Te+(Q?"l"+A+",0.0001":"h"+A)).call(Y?S.lineGroupStyle:Fe)}function D($){var K=c($),ie=K.anyFill,Y=K.anyLine,Q=K.showLine,oe=K.showMarker,X=$[0],j=X.trace,se=!oe&&!Y&&!ie&&r.hasText(j),te,fe;function ge(Se,Ie,Me,Ve){var et=s.nestedProperty(j,Se).get(),it=s.isArrayOrTypedArray(et)&&Ie?Ie(et):et;if(M&&it&&Ve!==void 0&&(it=Ve),Me){if(it<Me[0])return Me[0];if(it>Me[1])return Me[1]}return it}function be(Se){return X._distinct&&X.index&&Se[X.index]?Se[X.index]:Se[0]}if(oe||se||Q){var xe={},_e={};if(oe){xe.mc=ge("marker.color",be),xe.mx=ge("marker.symbol",be),xe.mo=ge("marker.opacity",s.mean,[.2,1]),xe.mlc=ge("marker.line.color",be),xe.mlw=ge("marker.line.width",s.mean,[0,5],l),_e.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var De=ge("marker.size",s.mean,[2,16],f);xe.ms=De,_e.marker.size=De}Q&&(_e.line={width:ge("line.width",be,[0,10],u)}),se&&(xe.tx="Aa",xe.tp=ge("textposition",be),xe.ts=10,xe.tc=ge("textfont.color",be),xe.tf=ge("textfont.family",be),xe.tw=ge("textfont.weight",be),xe.ty=ge("textfont.style",be),xe.tv=ge("textfont.variant",be),xe.tC=ge("textfont.textcase",be),xe.tE=ge("textfont.lineposition",be),xe.tS=ge("textfont.shadow",be)),te=[s.minExtend(X,xe)],fe=s.minExtend(j,_e),fe.selectedpoints=null,fe.texttemplate=null}var Fe=m.select(this).select("g.legendpoints"),Te=Fe.selectAll("path.scatterpts").data(oe?te:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),Te.exit().remove(),Te.call(S.pointStyle,fe,w),oe&&(te[0].mrc=3);var Re=Fe.selectAll("g.pointtext").data(se?te:[]);Re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Re.exit().remove(),Re.selectAll("text").call(S.textPointStyle,fe,w)}function N($){var K=$[0].trace,ie=K.type==="waterfall";if($[0]._distinct&&ie){var Y=$[0].trace[$[0].dir].marker;return $[0].mc=Y.color,$[0].mlw=Y.line.width,$[0].mlc=Y.line.color,F($,this,"waterfall")}var Q=[];K.visible&&ie&&(Q=$[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var oe=m.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Q);oe.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(X){var j=m.select(this),se=K[X[0]].marker,te=b(void 0,se.line,h,l);j.attr("d",X[1]).style("stroke-width",te+"px").call(v.fill,se.color),te&&j.call(v.stroke,se.line.color)})}function k($){F($,this)}function O($){F($,this,"funnel")}function F($,K,ie){var Y=$[0].trace,Q=Y.marker||{},oe=Q.line||{},X=Q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",j=ie?Y.visible&&Y.type===ie:P.traceIs(Y,"bar"),se=m.select(K).select("g.legendpoints").selectAll("path.legend"+ie).data(j?[$]:[]);se.enter().append("path").classed("legend"+ie,!0).attr("d",X).attr("transform",E),se.exit().remove(),se.each(function(te){var fe=m.select(this),ge=te[0],be=b(ge.mlw,Q.line,h,l);fe.style("stroke-width",be+"px");var xe=ge.mcc;if(!C._inHover&&"mc"in ge){var _e=p(Q),De=_e.mid;De===void 0&&(De=(_e.max+_e.min)/2),xe=S.tryColorscale(Q,"")(De)}var Fe=xe||ge.mc||Q.color,Te=Q.pattern,Re=Te&&S.getPatternAttr(Te.shape,0,"");if(Re){var Se=S.getPatternAttr(Te.bgcolor,0,null),Ie=S.getPatternAttr(Te.fgcolor,0,null),Me=Te.fgopacity,Ve=a(Te.size,8,10),et=a(Te.solidity,.5,1),it="legend-"+Y.uid;fe.call(S.pattern,"legend",w,it,Re,Ve,et,xe,Te.fillmode,Se,Ie,Me)}else fe.call(v.fill,Fe);be&&v.stroke(fe,ge.mlc||oe.color)})}function z($){var K=$[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendbox").data(K.visible&&P.traceIs(K,"box-violin")?[$]:[]);ie.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ie.exit().remove(),ie.each(function(){var Y=m.select(this);if((K.boxpoints==="all"||K.points==="all")&&v.opacity(K.fillcolor)===0&&v.opacity((K.line||{}).color)===0){var Q=s.minExtend(K,{marker:{size:M?f:s.constrain(K.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ie.call(S.pointStyle,Q,w)}else{var oe=b(void 0,K.line,h,l);Y.style("stroke-width",oe+"px").call(v.fill,K.fillcolor),oe&&v.stroke(Y,K.line.color)}})}function B($){var K=$[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(K.visible&&K.type==="candlestick"?[$,$]:[]);ie.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,Q){return Q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(Y,Q){var oe=m.select(this),X=K[Q?"increasing":"decreasing"],j=b(void 0,X.line,h,l);oe.style("stroke-width",j+"px").call(v.fill,X.fillcolor),j&&v.stroke(oe,X.line.color)})}function W($){var K=$[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(K.visible&&K.type==="ohlc"?[$,$]:[]);ie.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,Q){return Q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(Y,Q){var oe=m.select(this),X=K[Q?"increasing":"decreasing"],j=b(void 0,X.line,h,l);oe.style("fill","none").call(S.dashLine,X.line.dash,j),j&&v.stroke(oe,X.line.color)})}function J($){ne($,this,"pie")}function re($){ne($,this,"funnelarea")}function ne($,K,ie){var Y=$[0],Q=Y.trace,oe=ie?Q.visible&&Q.type===ie:P.traceIs(Q,ie),X=m.select(K).select("g.legendpoints").selectAll("path.legend"+ie).data(oe?[$]:[]);if(X.enter().append("path").classed("legend"+ie,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),X.exit().remove(),X.size()){var j=Q.marker||{},se=b(i(j.line.width,Y.pts),j.line,h,l),te="pieLike",fe=s.minExtend(Q,{marker:{line:{width:se}}},te),ge=s.minExtend(Y,{trace:fe},te);t(X,ge,fe,w)}}function le($){var K=$[0].trace,ie,Y=[];if(K.visible)switch(K.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],ie=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],ie=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ie="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ie=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ie=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ie=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ie=!1;break}var Q=m.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);Q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(oe,X){var j=m.select(this),se=p(K),te=se.colorscale,fe=se.reversescale,ge=function(De){if(De.size()){var Fe="legendfill-"+K.uid;S.gradient(De,w,Fe,T(fe,ie==="radial"),te,"fill")}},be;if(te){if(!ie){var _e=te.length;be=X===0?te[fe?_e-1:0][1]:X===1?te[fe?0:_e-1][1]:te[Math.floor((_e-1)/2)][1]}}else{var xe=K.vertexcolor||K.facecolor||K.color;be=s.isArrayOrTypedArray(xe)?xe[X]||xe[0]:xe}j.attr("d",oe[0]),be?j.call(v.fill,be):j.call(ge)})}};function T(d,x){var w=x?"radial":"horizontal";return w+(d?"":"reversed")}function c(d){var x=d[0].trace,w=x.contours,C=r.hasLines(x),y=r.hasMarkers(x),M=x.visible&&x.fill&&x.fill!=="none",A=!1,o=!1;if(w){var E=w.coloring;E==="lines"?A=!0:C=E==="none"||E==="heatmap"||w.showlines,w.type==="constraint"?M=w._operation!=="=":(E==="fill"||E==="heatmap")&&(o=!0)}return{showMarker:y,showLine:C,showFill:M,showGradientLine:A,showGradientFill:o,anyLine:C||A,anyFill:M||o}}function a(d,x,w){return d&&s.isArrayOrTypedArray(d)?x:d>w?w:d}},66540:function(G,H,e){e(76052),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(G,H,e){var m=e(24040),P=e(7316),s=e(79811),L=e(9224),S=e(4016).eraseActiveShape,v=e(3400),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},w=x.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var x=d._context.toImageButtonOptions,w={format:x.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(C){C in x&&(w[C]=x[C])}),m.call("downloadImage",d,w).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:S},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(d,x){var w=x.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,M=d._fullLayout,A={},o=s.list(d,null,!0),E=M._cartesianSpikesEnabled,b,I;if(C==="zoom"){var D=y==="in"?.5:2,N=(1+D)/2,k=(1-D)/2,O;for(I=0;I<o.length;I++)if(b=o[I],!b.fixedrange)if(O=b._name,y==="auto")A[O+".autorange"]=!0;else if(y==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?A[O+".autorange"]=!0:b._rangeInitial0===void 0?(A[O+".autorange"]=b._autorangeInitial,A[O+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(A[O+".range"]=[b._rangeInitial0,null],A[O+".autorange"]=b._autorangeInitial):A[O+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(A[O+".showspikes"]=b._showSpikeInitial,E==="on"&&!b._showSpikeInitial&&(E="off"));else{var F=[b.r2l(b.range[0]),b.r2l(b.range[1])],z=[N*F[0]+k*F[1],N*F[1]+k*F[0]];A[O+".range[0]"]=b.l2r(z[0]),A[O+".range[1]"]=b.l2r(z[1])}}else C==="hovermode"&&(y==="x"||y==="y")&&(y=M._isHoriz?"y":"x",w.setAttribute("data-val",y)),A[C]=y;M._cartesianSpikesEnabled=E,m.call("_guiRelayout",d,A)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:i};function i(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,M=d._fullLayout._subplots.gl3d||[],A={},o=C.split("."),E=0;E<M.length;E++)A[M[E]+"."+o[1]]=y;var b=y==="pan"?y:"zoom";A.dragmode=b,m.call("_guiRelayout",d,A)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-attr"),y=C==="resetLastSave",M=C==="resetDefault",A=d._fullLayout,o=A._subplots.gl3d||[],E={},b=0;b<o.length;b++){var I=o[b],D=I+".camera",N=I+".aspectratio",k=I+".aspectmode",O=A[I]._scene,F;y?(E[D+".up"]=O.viewInitial.up,E[D+".eye"]=O.viewInitial.eye,E[D+".center"]=O.viewInitial.center,F=!0):M&&(E[D+".up"]=null,E[D+".eye"]=null,E[D+".center"]=null,F=!0),F&&(E[N+".x"]=O.viewInitial.aspectratio.x,E[N+".y"]=O.viewInitial.aspectratio.y,E[N+".z"]=O.viewInitial.aspectratio.z,E[k]=O.viewInitial.aspectmode)}m.call("_guiRelayout",d,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:u};function f(d,x){var w=x.currentTarget,C=w._previousVal,y=d._fullLayout,M=y._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],o={},E={};if(C)E=C,w._previousVal=null;else{for(var b=0;b<M.length;b++){var I=M[b],D=y[I],N=I+".hovermode";o[N]=D.hovermode,E[N]=!1;for(var k=0;k<3;k++){var O=A[k],F=I+"."+O+".showspikes";E[F]=!1,o[F]=D[O].showspikes}}w._previousVal=o}return E}function u(d,x){var w=f(d,x);m.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function l(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-attr"),y=w.getAttribute("data-val")||!0,M=d._fullLayout,A=M._subplots.geo||[],o=0;o<A.length;o++){var E=A[o],b=M[E];if(C==="zoom"){var I=b.projection.scale,D=y==="in"?2*I:.5*I;m.call("_guiRelayout",d,E+".projection.scale",D)}}C==="reset"&&a(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function g(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(d){var x=g(d);m.call("_guiRelayout",d,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var C=d._fullData[w]._viewInitial;x["node.groups"].push(C.node.groups.slice()),x["node.x"].push(C.node.x.slice()),x["node.y"].push(C.node.y.slice())}m.call("restyle",d,x)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,x){var w=f(d,x);w.hovermode=g(d),m.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,x){var w=x.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,x),w.setAttribute("data-attr","resetLastSave"),n(d,x),a(d,"geo"),a(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,w=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=w==="on"?"off":"on",m.call("_guiRelayout",d,T(d))}};function T(d){for(var x=d._fullLayout,w=x._cartesianSpikesEnabled==="on",C=s.list(d,null,!0),y={},M=0;M<C.length;M++){var A=C[M];y[A._name+".showspikes"]=w?!0:A._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){a(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:c};function c(d,x){for(var w=x.currentTarget,C=w.getAttribute("data-val"),y=d._fullLayout,M=y._subplots.mapbox||[],A=1.05,o={},E=0;E<M.length;E++){var b=M[E],I=y[b].zoom,D=C==="in"?A*I:I/A;o[b+".zoom"]=D}m.call("_guiRelayout",d,o)}function a(d,x){for(var w=d._fullLayout,C=w._subplots[x]||[],y={},M=0;M<C.length;M++)for(var A=C[M],o=w[A]._subplot,E=o.viewInitial,b=Object.keys(E),I=0;I<b.length;I++){var D=b[I];y[A+"."+D]=E[D]}m.call("_guiRelayout",d,y)}},76052:function(G,H,e){var m=e(44248),P=Object.keys(m),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),S=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();S.indexOf(r)===-1&&S.push(r),S.indexOf(t)===-1&&S.push(t)}};P.forEach(function(p){v(m[p])}),S.sort(),G.exports={DRAW_MODES:s,backButtons:L,foreButtons:S}},90824:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(66540);G.exports=function(v,p){var r=v.modebar||{},t=s.newContainer(p,"modebar");function i(f,u){return m.coerce(r,t,L,f,u)}i("orientation"),i("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));i("color",P.addOpacity(n,.3)),i("activecolor",P.addOpacity(n,.7)),i("uirevision",p.uirevision),i("add"),i("remove")}},45460:function(G,H,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(G,H,e){var m=e(79811),P=e(43028),s=e(24040),L=e(10624).isUnifiedHover,S=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;G.exports=function(h){var T=h._fullLayout,c=h._context,a=T._modeBar;if(!c.displayModeBar&&!c.watermark){a&&(a.destroy(),delete T._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,x;Array.isArray(d)&&d.length?x=l(d):!c.displayModeBar&&c.watermark?x=[]:x=t(h),a?a.update(h,x):T._modeBar=S(h,x)};function t(g){var h=g._fullLayout,T=g._fullData,c=g._context;function a(X,j){if(typeof j=="string"){if(j.toLowerCase()===X.toLowerCase())return!0}else{var se=j.name,te=j._cat||j.name;if(se===X||te===X.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var w=c.modeBarButtonsToAdd.concat(d.filter(function(X){for(var j=0;j<c.modeBarButtonsToRemove.length;j++)if(a(X,c.modeBarButtonsToRemove[j]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(x.filter(function(X){for(var j=0;j<c.modeBarButtonsToAdd.length;j++)if(a(X,c.modeBarButtonsToAdd[j]))return!1;return!0})),y=h._has("cartesian"),M=h._has("gl3d"),A=h._has("geo"),o=h._has("pie"),E=h._has("funnelarea"),b=h._has("gl2d"),I=h._has("ternary"),D=h._has("mapbox"),N=h._has("polar"),k=h._has("smith"),O=h._has("sankey"),F=i(h),z=L(h.hovermode),B=[];function W(X){if(X.length){for(var j=[],se=0;se<X.length;se++){for(var te=X[se],fe=v[te],ge=fe.name.toLowerCase(),be=(fe._cat||fe.name).toLowerCase(),xe=!1,_e=0;_e<C.length;_e++){var De=C[_e].toLowerCase();if(De===ge||De===be){xe=!0;break}}xe||j.push(v[te])}B.push(j)}}var J=["toImage"];c.showEditInChartStudio?J.push("editInChartStudio"):c.showSendToCloud&&J.push("sendDataToCloud"),W(J);var re=[],ne=[],le=[],$=[];(y||b||o||E||I)+A+M+D+N+k>1?(ne=["toggleHover"],le=["resetViews"]):A?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],le=["resetGeo"]):M?(ne=["hoverClosest3d"],le=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],le=["resetViewMapbox"]):b?ne=["hoverClosestGl2d"]:o?ne=["hoverClosestPie"]:O?(ne=["hoverClosestCartesian","hoverCompareCartesian"],le=["resetViewSankey"]):ne=["toggleHover"],y&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(T)||z)&&(ne=[]),(y||b)&&!F&&(re=["zoomIn2d","zoomOut2d","autoScale2d"],le[0]!=="resetViews"&&(le=["resetScale2d"])),M?$=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||b)&&!F||I?$=["zoom2d","pan2d"]:D||A?$=["pan2d"]:N&&($=["zoom2d"]),n(T)&&$.push("select2d","lasso2d");var K=[],ie=function(X){K.indexOf(X)===-1&&ne.indexOf(X)!==-1&&K.push(X)};if(Array.isArray(w)){for(var Y=[],Q=0;Q<w.length;Q++){var oe=w[Q];typeof oe=="string"?(oe=oe.toLowerCase(),p.indexOf(oe)!==-1?(h._has("mapbox")||h._has("cartesian"))&&$.push(oe):oe==="togglespikelines"?ie("toggleSpikelines"):oe==="togglehover"?ie("toggleHover"):oe==="hovercompare"?ie("hoverCompareCartesian"):oe==="hoverclosest"?(ie("hoverClosestCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie")):oe==="v1hovermode"&&(ie("toggleHover"),ie("hoverClosestCartesian"),ie("hoverCompareCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie"))):Y.push(oe)}w=Y}return W($),W(re.concat(le)),W(K),u(B,w)}function i(g){for(var h=m.list({_fullLayout:g},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function n(g){for(var h=!1,T=0;T<g.length&&!h;T++){var c=g[T];!c._module||!c._module.selectPoints||(s.traceIs(c,"scatter-like")?(P.hasMarkers(c)||P.hasText(c))&&(h=!0):s.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(g){for(var h=0;h<g.length;h++)if(!s.traceIs(g[h],"noHover"))return!1;return!0}function u(g,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)g.push(h[T]);else g.push(h);return g}function l(g){for(var h=r([],g),T=0;T<h.length;T++)for(var c=h[T],a=0;a<c.length;a++){var d=c[a];if(typeof d=="string")if(v[d]!==void 0)h[T][a]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(9224),S=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,f){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,g="modebar-"+l._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=l.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(g),s.addRelatedStyleRule(g,T+"#"+g+" .modebar-group","background-color: "+h.bgcolor),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+h.color),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+h.activecolor),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),a=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(c||a||d)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var x=this.getLogo();u.watermark&&(x.className=x.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(g){var h=g.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var T=f.createButton(g);f.buttonElements.push(T),l.appendChild(T)}),f.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),u.setAttribute("data-val",g));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){n.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&m.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||L.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var f=P(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,f].join(" ")),l.setAttribute("class","icon");var g=document.createElementNS(u,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(g)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var g=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",c=m.select(l);if(T)h===u&&c.classed("active",!c.classed("active"));else{var a=h===null?h:s.nestedProperty(f,h).get();c.classed("active",a===g)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==f[u][l].name)return!1}return!0};function t(n){return n+" (v"+S+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(s._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function i(n,f){var u=n._fullLayout,l=new p({graphInfo:n,container:u._modebardiv.node(),buttons:f});return u._privateplot&&m.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}G.exports=i},26680:function(G,H,e){var m=e(25376),P=e(22548),s=e(31780).templatedArray,L=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:m({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(51272),S=e(26680),v=e(85984);G.exports=function(i,n,f,u,l){var g=i.rangeselector||{},h=s.newContainer(n,"rangeselector");function T(w,C){return m.coerce(g,h,S,w,C)}var c=L(g,h,{name:"buttons",handleItemDefaults:p,calendar:l}),a=T("visible",c.length>0);if(a){var d=r(n,f,u);T("x",d[0]),T("y",d[1]),m.noneOrAll(i,n,["x","y"]),T("xanchor"),T("yanchor"),m.coerceFont(T,"font",f.font);var x=T("bgcolor");T("activecolor",P.contrast(x,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,i,n,f){var u=f.calendar;function l(T,c){return m.coerce(t,i,S.buttons,T,c)}var g=l("visible");if(g){var h=l("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?i.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,i,n){for(var f=n.filter(function(h){return i[h].anchor===t._id}),u=0,l=0;l<f.length;l++){var g=i[f[l]].domain;g&&(u=Math.max(g[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(76308),S=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),i=e(84284),n=i.LINE_SPACING,f=i.FROM_TL,u=i.FROM_BR,l=e(85984),g=e(48040);G.exports=function(M){var A=M._fullLayout,o=A._infolayer.selectAll(".rangeselector").data(h(M),T);o.enter().append("g").classed("rangeselector",!0),o.exit().remove(),o.style({cursor:"pointer","pointer-events":"all"}),o.each(function(E){var b=m.select(this),I=E,D=I.rangeselector,N=b.selectAll("g.button").data(v.filterVisible(D.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var O=m.select(this),F=g(I,k);k._isActive=c(I,k,F),O.call(a,D,k),O.call(x,D,k,M),O.on("click",function(){M._dragged||P.call("_guiRelayout",M,F)}),O.on("mouseover",function(){k._isHovered=!0,O.call(a,D,k)}),O.on("mouseout",function(){k._isHovered=!1,O.call(a,D,k)})}),C(M,N,D,I._name,b)})};function h(y){for(var M=t.list(y,"x",!0),A=[],o=0;o<M.length;o++){var E=M[o];E.rangeselector&&E.rangeselector.visible&&A.push(E)}return A}function T(y){return y._id}function c(y,M,A){if(M.step==="all")return y.autorange===!0;var o=Object.keys(A);return y.range[0]===A[o[0]]&&y.range[1]===A[o[1]]}function a(y,M,A){var o=v.ensureSingle(y,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});o.attr({rx:l.rx,ry:l.ry}),o.call(L.stroke,M.bordercolor).call(L.fill,d(M,A)).style("stroke-width",M.borderwidth+"px")}function d(y,M){return M._isActive||M._isHovered?y.activecolor:y.bgcolor}function x(y,M,A,o){function E(I){r.convertToTspans(I,o)}var b=v.ensureSingle(y,"text","selector-text",function(I){I.attr("text-anchor","middle")});b.call(S.font,M.font).text(w(A,o._fullLayout._meta)).call(E)}function w(y,M){return y.label?M?v.templateString(y.label,M):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function C(y,M,A,o,E){var b=0,I=0,D=A.borderwidth;M.each(function(){var B=m.select(this),W=B.select(".selector-text"),J=A.font.size*n,re=Math.max(J*r.lineCount(W),16)+3;I=Math.max(I,re)}),M.each(function(){var B=m.select(this),W=B.select(".selector-rect"),J=B.select(".selector-text"),re=J.node()&&S.bBox(J.node()).width,ne=A.font.size*n,le=r.lineCount(J),$=Math.max(re+10,l.minButtonWidth);B.attr("transform",p(D+b,D)),W.attr({x:0,y:0,width:$,height:I}),r.positionText(J,$/2,I/2-(le-1)*ne/2+3),b+=$+5});var N=y._fullLayout._size,k=N.l+N.w*A.x,O=N.t+N.h*(1-A.y),F="left";v.isRightAnchor(A)&&(k-=b,F="right"),v.isCenterAnchor(A)&&(k-=b/2,F="center");var z="top";v.isBottomAnchor(A)&&(O-=I,z="bottom"),v.isMiddleAnchor(A)&&(O-=I/2,z="middle"),b=Math.ceil(b),I=Math.ceil(I),k=Math.round(k),O=Math.round(O),s.autoMargin(y,o+"-range-selector",{x:A.x,y:A.y,l:b*f[F],r:b*u[F],b:I*u[z],t:I*f[z]}),E.attr("transform",p(k,O))}},48040:function(G,H,e){var m=e(73220),P=e(3400).titleCase;G.exports=function(S,v){var p=S._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=s(S,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function s(L,S){var v=L.range,p=new Date(L.r2l(v[1])),r=S.step,t=m["utc"+P(r)],i=S.count,n;switch(S.stepmode){case"backward":n=L.l2r(+t.offset(p,-i));break;case"todate":var f=t.offset(p,-i);n=L.l2r(+t.ceil(f));break}var u=v[1];return[n,u]}},41152:function(G,H,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(G,H,e){var m=e(22548);G.exports={bgcolor:{valType:"color",dflt:m.background,editType:"plot"},bordercolor:{valType:"color",dflt:m.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(G,H,e){var m=e(79811).list,P=e(19280).getAutoRange,s=e(74636);G.exports=function(S){for(var v=m(S,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[s.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(S,r))}}},74636:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(G,H,e){var m=e(3400),P=e(31780),s=e(79811),L=e(11200),S=e(10936);G.exports=function(p,r,t){var i=p[t],n=r[t];if(!(i.rangeslider||r._requestRangeslider[n._id]))return;m.isPlainObject(i.rangeslider)||(i.rangeslider={});var f=i.rangeslider,u=P.newContainer(n,"rangeslider");function l(o,E){return m.coerce(f,u,L,o,E)}var g,h;function T(o,E){return m.coerce(g,h,S,o,E)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(f.range)),l("range");var a=r._subplots;if(a)for(var d=a.cartesian.filter(function(o){return o.substr(0,o.indexOf("y"))===s.name2id(t)}).map(function(o){return o.substr(o.indexOf("y"),o.length)}),x=m.simpleMap(d,s.id2name),w=0;w<x.length;w++){var C=x[w];g=f[C]||{},h=P.newContainer(u,C,"yaxis");var y=r[C],M;g.range&&y.isValidRange(g.range)&&(M="fixed");var A=T("rangemode",M);A!=="match"&&T("range",y.range.slice())}u._input=f}}},20060:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(3400),S=L.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),i=e(79811),n=e(86476),f=e(93972),u=e(74636);G.exports=function(M){for(var A=M._fullLayout,o=A._rangeSliderData,E=0;E<o.length;E++){var b=o[E][u.name];b._clipId=b._id+"-"+A._uid}function I(N){return N._name}var D=A._infolayer.selectAll("g."+u.containerClassName).data(o,I);D.exit().each(function(N){var k=N[u.name];A._topdefs.select("#"+k._clipId).remove()}).remove(),o.length!==0&&(D.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),D.each(function(N){var k=m.select(this),O=N[u.name],F=A[i.id2name(N.anchor)],z=O[i.id2name(N.anchor)];if(O.range){var B=L.simpleMap(O.range,N.r2l),W=L.simpleMap(N.range,N.r2l),J;W[0]<W[1]?J=[Math.min(B[0],W[0]),Math.max(B[1],W[1])]:J=[Math.max(B[0],W[0]),Math.min(B[1],W[1])],O.range=O._input.range=L.simpleMap(J,N.l2r)}N.cleanRange("rangeslider.range");var re=A._size,ne=N.domain;O._width=re.w*(ne[1]-ne[0]);var le=Math.round(re.l+re.w*ne[0]),$=Math.round(re.t+re.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+O._offsetShift+u.extraPad);k.attr("transform",S(le,$)),O._rl=L.simpleMap(O.range,N.r2l);var K=O._rl[0],ie=O._rl[1],Y=ie-K;if(O.p2d=function(xe){return xe/O._width*Y+K},O.d2p=function(xe){return(xe-K)/Y*O._width},N.rangebreaks){var Q=N.locateBreaks(K,ie);if(Q.length){var oe,X,j=0;for(oe=0;oe<Q.length;oe++)X=Q[oe],j+=X.max-X.min;var se=O._width/(ie-K-j),te=[-se*K];for(oe=0;oe<Q.length;oe++)X=Q[oe],te.push(te[te.length-1]-se*(X.max-X.min));for(O.d2p=function(xe){for(var _e=te[0],De=0;De<Q.length;De++){var Fe=Q[De];if(xe>=Fe.max)_e=te[De+1];else if(xe<Fe.min)break}return _e+se*xe},oe=0;oe<Q.length;oe++)X=Q[oe],X.pmin=O.d2p(X.min),X.pmax=O.d2p(X.max);O.p2d=function(xe){for(var _e=te[0],De=0;De<Q.length;De++){var Fe=Q[De];if(xe>=Fe.pmax)_e=te[De+1];else if(xe<Fe.pmin)break}return(xe-_e)/se}}}if(z.rangemode!=="match"){var fe=F.r2l(z.range[0]),ge=F.r2l(z.range[1]),be=ge-fe;O.d2pOppAxis=function(xe){return(xe-fe)/be*O._height}}k.call(c,M,N,O).call(a,M,N,O).call(d,M,N,O).call(w,M,N,O,z).call(C,M,N,O).call(y,M,N,O),g(k,M,N,O),T(k,M,N,O,F,z),N.side==="bottom"&&r.draw(M,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:A._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:$+O._height+O._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function l(M){return typeof M.clientX=="number"?M.clientX:M.touches&&M.touches.length>0?M.touches[0].clientX:0}function g(M,A,o,E){if(A._context.staticPlot)return;var b=M.select("rect."+u.slideBoxClassName).node(),I=M.select("rect."+u.grabAreaMinClassName).node(),D=M.select("rect."+u.grabAreaMaxClassName).node();function N(){var k=m.event,O=k.target,F=l(k),z=F-M.node().getBoundingClientRect().left,B=E.d2p(o._rl[0]),W=E.d2p(o._rl[1]),J=n.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ne),J.addEventListener("mousemove",re),J.addEventListener("mouseup",ne);function re(le){var $=l(le),K=+$-F,ie,Y,Q;switch(O){case b:if(Q="ew-resize",B+K>o._length||W+K<0)return;ie=B+K,Y=W+K;break;case I:if(Q="col-resize",B+K>o._length)return;ie=B+K,Y=W;break;case D:if(Q="col-resize",W+K<0)return;ie=B,Y=W+K;break;default:Q="ew-resize",ie=z,Y=z+K;break}if(Y<ie){var oe=Y;Y=ie,ie=oe}E._pixelMin=ie,E._pixelMax=Y,f(m.select(J),Q),h(M,A,o,E)}function ne(){J.removeEventListener("mousemove",re),J.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ne),L.removeElement(J)}}M.on("mousedown",N),M.on("touchstart",N)}function h(M,A,o,E){function b(N){return o.l2r(L.constrain(N,E._rl[0],E._rl[1]))}var I=b(E.p2d(E._pixelMin)),D=b(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",A,o._name+".range",[I,D])})}function T(M,A,o,E,b,I){var D=u.handleWidth/2;function N(le){return L.constrain(le,0,E._width)}function k(le){return L.constrain(le,0,E._height)}function O(le){return L.constrain(le,-D,E._width+D)}var F=N(E.d2p(o._rl[0])),z=N(E.d2p(o._rl[1]));if(M.select("rect."+u.slideBoxClassName).attr("x",F).attr("width",z-F),M.select("rect."+u.maskMinClassName).attr("width",F),M.select("rect."+u.maskMaxClassName).attr("x",z).attr("width",E._width-z),I.rangemode!=="match"){var B=E._height-k(E.d2pOppAxis(b._rl[1])),W=E._height-k(E.d2pOppAxis(b._rl[0]));M.select("rect."+u.maskMinOppAxisClassName).attr("x",F).attr("height",B).attr("width",z-F),M.select("rect."+u.maskMaxOppAxisClassName).attr("x",F).attr("y",W).attr("height",E._height-W).attr("width",z-F),M.select("rect."+u.slideBoxClassName).attr("y",B).attr("height",W-B)}var J=.5,re=Math.round(O(F-D))-J,ne=Math.round(O(z-D))+J;M.select("g."+u.grabberMinClassName).attr("transform",S(re,J)),M.select("g."+u.grabberMaxClassName).attr("transform",S(ne,J))}function c(M,A,o,E){var b=L.ensureSingle(M,"rect",u.bgClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,D=-E._offsetShift,N=v.crispRound(A,E.borderwidth);b.attr({width:E._width+I,height:E._height+I,transform:S(D,D),"stroke-width":N}).call(p.stroke,E.bordercolor).call(p.fill,E.bgcolor)}function a(M,A,o,E){var b=A._fullLayout,I=L.ensureSingleById(b._topdefs,"clipPath",E._clipId,function(D){D.append("rect").attr({x:0,y:0})});I.select("rect").attr({width:E._width,height:E._height})}function d(M,A,o,E){var b=A.calcdata,I=M.selectAll("g."+u.rangePlotClassName).data(o._subplotsWith,L.identity);I.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,E._clipId,A),I.order(),I.exit().remove();var D;I.each(function(N,k){var O=m.select(this),F=k===0,z=i.getFromId(A,N,"y"),B=z._name,W=E[B],J={data:[],layout:{xaxis:{type:o.type,domain:[0,1],range:E.range.slice(),calendar:o.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:A._context};o.rangebreaks&&(J.layout.xaxis.rangebreaks=o.rangebreaks),J.layout[B]={type:z.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(J.layout[B].rangebreaks=z.rangebreaks),s.supplyDefaults(J);var re=J._fullLayout.xaxis,ne=J._fullLayout[B];re.clearCalc(),re.setScale(),ne.clearCalc(),ne.setScale();var le={id:N,plotgroup:O,xaxis:re,yaxis:ne,isRangePlot:!0};F?D=le:(le.mainplot="xy",le.mainplotinfo=D),t.rangePlot(A,le,x(b,N))})}function x(M,A){for(var o=[],E=0;E<M.length;E++){var b=M[E],I=b[0].trace;I.xaxis+I.yaxis===A&&o.push(b)}return o}function w(M,A,o,E,b){var I=L.ensureSingle(M,"rect",u.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})});I.attr("height",E._height).call(p.fill,u.maskColor);var D=L.ensureSingle(M,"rect",u.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});if(D.attr("height",E._height).call(p.fill,u.maskColor),b.rangemode!=="match"){var N=L.ensureSingle(M,"rect",u.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",E._width).call(p.fill,u.maskOppAxisColor);var k=L.ensureSingle(M,"rect",u.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});k.attr("width",E._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function C(M,A,o,E){if(!A._context.staticPlot){var b=L.ensureSingle(M,"rect",u.slideBoxClassName,function(I){I.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:E._height,fill:u.slideBoxFill})}}function y(M,A,o,E){var b=L.ensureSingle(M,"g",u.grabberMinClassName),I=L.ensureSingle(M,"g",u.grabberMaxClassName),D={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(E._height/4),height:Math.round(E._height/2)},k=L.ensureSingle(b,"rect",u.handleMinClassName,function(W){W.attr(D)});k.attr(N);var O=L.ensureSingle(I,"rect",u.handleMaxClassName,function(W){W.attr(D)});O.attr(N);var F={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:A._context.staticPlot?void 0:u.grabAreaCursor},z=L.ensureSingle(b,"rect",u.grabAreaMinClassName,function(W){W.attr(F)});z.attr("height",E._height);var B=L.ensureSingle(I,"rect",u.grabAreaMaxClassName,function(W){W.attr(F)});B.attr("height",E._height)}},97944:function(G,H,e){var m=e(79811),P=e(72736),s=e(74636),L=e(84284).LINE_SPACING,S=s.name;function v(p){var r=p&&p[S];return r&&r.visible}H.isVisible=v,H.makeData=function(p){var r=m.list({_fullLayout:p},"x",!0),t=p.margin,i=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){i.push(f);var u=f[S];u._id=S+f._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=i},H.autoMarginOpts=function(p,r){var t=p._fullLayout,i=r[S],n=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+i._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+f+Math.max(t.margin.b,u),pad:s.extraPad+i._offsetShift*2}}},49692:function(G,H,e){var m=e(3400),P=e(11200),s=e(10936),L=e(97944);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:m.extendFlat({},P,{yaxis:s})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(G,H,e){var m=e(13916),P=e(52904).line,s=e(98192).u,L=e(92880).extendFlat,S=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),G.exports=S(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},m.xref,{}),yref:L({},m.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},s,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(93956),S=e(65152);G.exports=function(r,t){s(r,t,{name:"selections",handleItemDefaults:v});for(var i=t.selections,n=0;n<i.length;n++){var f=i[n];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function i(b,I){return m.coerce(p,r,L,b,I)}var n=i("path"),f=n?"path":"rect",u=i("type",f),l=u!=="path";l&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var g=["x","y"],h=0;h<2;h++){var T=g[h],c={_fullLayout:t},a,d,x,w=P.coerceRef(p,r,c,T);if(a=P.getFromId(c,w),a._selectionIndices.push(r._index),x=S.rangeToShapePosition(a),d=S.shapePositionToRange(a),l){var C=T+"0",y=T+"1",M=p[C],A=p[y];p[C]=d(p[C],!0),p[y]=d(p[y],!0),P.coercePosition(r,c,i,w,C),P.coercePosition(r,c,i,w,y);var o=r[C],E=r[y];o!==void 0&&E!==void 0&&(r[C]=x(o),r[y]=x(E),p[C]=M,p[y]=A)}}l&&m.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(G,H,e){var m=e(9856).readPaths,P=e(55496),s=e(1936).clearOutlineControllers,L=e(76308),S=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var T=h._fullLayout;s(h),T._selectionLayer.selectAll("path").remove();for(var c in T._plots){var a=T._plots[c].selectionLayer;a&&a.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(h,d)}function i(h){return h._context.editSelection}function n(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,T),a=c.options,d=c.plotinfo;if(!a._input)return;x(h._fullLayout._selectionLayer);function x(w){var C=r(h,a),y={"data-index":T,"fill-rule":"evenodd",d:C},M=a.opacity,A="rgba(0,0,0,0)",o=a.line.color||L.contrast(h._fullLayout.plot_bgcolor),E=a.line.width,b=a.line.dash;E||(E=5,b="solid");var I=i(h)&&h._fullLayout._activeSelectionIndex===T;I&&(A=h._fullLayout.activeselection.fillcolor,M=h._fullLayout.activeselection.opacity);for(var D=[],N=1;N>=0;N--){var k=w.append("path").attr(y).style("opacity",N?.1:M).call(L.stroke,o).call(L.fill,A).call(S.dashLine,N?"solid":b,N?4+E:E);if(f(k,h,a),I){var O=v(h.layout,"selections",a);k.style({cursor:"move"});var F={element:k.node(),plotinfo:d,gd:h,editHelpers:O,isActiveSelection:!0},z=m(C,h);P(z,k,F)}else k.style("pointer-events",N?"all":"none");D[N]=k}var B=D[0],W=D[1];W.node().addEventListener("click",function(){return u(h,B)})}}function f(h,T,c){var a=c.xref+c.yref;S.setClipUrl(h,"clip"+T._fullLayout._uid+a,T)}function u(h,T){if(i(h)){var c=T.node(),a=+c.getAttribute("data-index");if(a>=0){if(a===h._fullLayout._activeSelectionIndex){g(h);return}h._fullLayout._activeSelectionIndex=a,h._fullLayout._deactivateSelection=g,t(h)}}}function l(h){if(i(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=g,t(h)}}function g(h){if(i(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(s(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(G,H,e){var m=e(98192).u,P=e(92880).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},m,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(G){G.exports=function(e,m,P){P("newselection.mode");var s=P("newselection.line.width");s&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(G,H,e){var m=e(72760),P=m.selectMode,s=e(1936),L=s.clearOutline,S=e(9856),v=S.readPaths,p=S.writePaths,r=S.fixDatesForPaths;G.exports=function(i,n){if(i.length){var f=i[0][0];if(f){var u=f.getAttribute("d"),l=n.gd,g=l._fullLayout.newselection,h=n.plotinfo,T=h.xaxis,c=h.yaxis,a=n.isActiveSelection,d=n.dragmode,x=(l.layout||{}).selections||[];if(!P(d)&&a!==void 0){var w=l._fullLayout._activeSelectionIndex;if(w<x.length)switch(l._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(u,l,h,a),y={xref:T._id,yref:c._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},M;C.length===1&&(M=C[0]),M&&M.length===5&&d==="select"?(y.type="rect",y.x0=M[0][1],y.y0=M[0][2],y.x1=M[2][1],y.y1=M[2][2]):(y.type="path",T&&c&&r(C,T,c),y.path=p(C),M=null),L(l);for(var A=n.editHelpers,o=(A||{}).modifyItem,E=[],b=0;b<x.length;b++){var I=l._fullLayout.selections[b];if(!I){E[b]=I;continue}if(E[b]=I._input,a!==void 0&&b===l._fullLayout._activeSelectionIndex){var D=y;switch(I.type){case"rect":o("x0",D.x0),o("x1",D.x1),o("y0",D.y0),o("y1",D.y1);break;case"path":o("path",D.path);break}}}return a===void 0?(E.push(y),E):A?A.getUpdateObj():{}}}}},5840:function(G,H,e){var m=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function s(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function S(v){return m(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:P,r2p:s,axValue:L,getTransform:S}},22676:function(G,H,e){var m=e(23640),P=e(43156);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:m.draw,drawOne:m.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(G,H,e){var m=e(14756),P=e(61456),s=e(24040),L=e(43616).dashStyle,S=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,i=r.rectMode,n=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),g=e(85448),h=e(55496),T=e(1936).clearOutline,c=e(9856),a=c.handleEllipse,d=c.readPaths,x=e(93940).newShapes,w=e(5968),C=e(23640).activateLastSelection,y=e(3400),M=y.sorterAsc,A=e(92065),o=e(91200),E=e(79811).getFromId,b=e(73696),I=e(39172).redrawReglTraces,D=e(83280),N=D.MINSELECT,k=A.filter,O=A.tester,F=e(5840),z=F.p2r,B=F.axValue,W=F.getTransform;function J(We){return We.subplot!==void 0}function re(We,Le,Pe,je,Ce){var he=!J(je),me=t(Ce),Ne=i(Ce),$e=f(Ce),ot=n(Ce),st=u(Ce),Wt=Ce==="drawline",Pt=Ce==="drawcircle",dt=Wt||Pt,Mt=je.gd,Xt=Mt._fullLayout,nr=st&&Xt.newselection.mode==="immediate"&&he,vt=Xt._zoomlayer,Zt=je.element.getBoundingClientRect(),Kt=je.plotinfo,yr=W(Kt),or=Le-Zt.left,mt=Pe-Zt.top;Xt._calcInverseTransform(Mt);var lt=y.apply3DTransform(Xt._invTransform)(or,mt);or=lt[0],mt=lt[1];var bt=Xt._invScaleX,Ct=Xt._invScaleY,Dt=or,Ht=mt,Bt="M"+or+","+mt,Ut=je.xaxes[0],Jt=je.yaxes[0],cr=Ut._length,hr=Jt._length,pr=We.altKey&&!(n(Ce)&&$e),Ye,Ue,Ot,It,Qt,lr,fr;Y(We,Mt,je),me&&(Ye=k([[or,mt]],D.BENDPX));var er=vt.selectAll("path.select-outline-"+Kt.id).data([1]),Nt=ot?Xt.newshape:Xt.newselection;ot&&(je.hasText=Nt.label.text||Nt.label.texttemplate);var ir=ot&&!$e?Nt.fillcolor:"rgba(0,0,0,0)",vr=Nt.line.color||(he?S.contrast(Mt._fullLayout.plot_bgcolor):"#7f7f7f");er.enter().append("path").attr("class","select-outline select-outline-"+Kt.id).style({opacity:ot?Nt.opacity/2:1,"stroke-dasharray":L(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(S.stroke,vr).call(S.fill,ir).attr("fill-rule","evenodd").classed("cursor-move",!!ot).attr("transform",yr).attr("d",Bt+"Z");var xr=vt.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(ot&&je.hasText){var dr=vt.select(".label-temp");dr.empty()&&(dr=vt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Hr=Xt._uid+D.SELECTID,Pr=[],Rr=se(Mt,je.xaxes,je.yaxes,je.subplot);nr&&!We.shiftKey&&(je._clearSubplotSelections=function(){if(he){var tn=Ut._id,Sn=Jt._id;it(Mt,tn,Sn,Rr);for(var Tn=(Mt.layout||{}).selections||[],Tr=[],zr=!1,Yr=0;Yr<Tn.length;Yr++){var Or=Xt.selections[Yr];Or.xref!==tn||Or.yref!==Sn?Tr.push(Tn[Yr]):zr=!0}zr&&(Mt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Mt,{selections:Tr}))}});var an=rt(je);je.moveFn=function(tn,Sn){je._clearSubplotSelections&&(je._clearSubplotSelections(),je._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(cr,bt*tn+or)),Ht=Math.max(0,Math.min(hr,Ct*Sn+mt));var Tn=Math.abs(Dt-or),Tr=Math.abs(Ht-mt);if(Ne){var zr,Yr,Or;if(st){var ln=Xt.selectdirection;switch(ln==="any"?Tr<Math.min(Tn*.6,N)?zr="h":Tn<Math.min(Tr*.6,N)?zr="v":zr="d":zr=ln,zr){case"h":Yr=Pt?hr/2:0,Or=hr;break;case"v":Yr=Pt?cr/2:0,Or=cr;break}}if(ot)switch(Xt.newshape.drawdirection){case"vertical":zr="h",Yr=Pt?hr/2:0,Or=hr;break;case"horizontal":zr="v",Yr=Pt?cr/2:0,Or=cr;break;case"ortho":Tn<Tr?(zr="h",Yr=mt,Or=Ht):(zr="v",Yr=or,Or=Dt);break;default:zr="d"}zr==="h"?(It=dt?a(Pt,[Dt,Yr],[Dt,Or]):[[or,Yr],[or,Or],[Dt,Or],[Dt,Yr]],It.xmin=dt?Dt:Math.min(or,Dt),It.xmax=dt?Dt:Math.max(or,Dt),It.ymin=Math.min(Yr,Or),It.ymax=Math.max(Yr,Or),xr.attr("d","M"+It.xmin+","+(mt-N)+"h-4v"+2*N+"h4ZM"+(It.xmax-1)+","+(mt-N)+"h4v"+2*N+"h-4Z")):zr==="v"?(It=dt?a(Pt,[Yr,Ht],[Or,Ht]):[[Yr,mt],[Yr,Ht],[Or,Ht],[Or,mt]],It.xmin=Math.min(Yr,Or),It.xmax=Math.max(Yr,Or),It.ymin=dt?Ht:Math.min(mt,Ht),It.ymax=dt?Ht:Math.max(mt,Ht),xr.attr("d","M"+(or-N)+","+It.ymin+"v-4h"+2*N+"v4ZM"+(or-N)+","+(It.ymax-1)+"v4h"+2*N+"v-4Z")):zr==="d"&&(It=dt?a(Pt,[or,mt],[Dt,Ht]):[[or,mt],[or,Ht],[Dt,Ht],[Dt,mt]],It.xmin=Math.min(or,Dt),It.xmax=Math.max(or,Dt),It.ymin=Math.min(mt,Ht),It.ymax=Math.max(mt,Ht),xr.attr("d","M0,0Z"))}else me&&(Ye.addPt([Dt,Ht]),It=Ye.filtered);if(je.selectionDefs&&je.selectionDefs.length?(Ot=Te(je.mergedPolygons,It,pr),It.subtract=pr,Ue=ie(je.selectionDefs.concat([It]))):(Ot=[It],Ue=O(It)),h(Se(Ot,$e),er,je),st){var fn=Me(Mt,!1),Mn=fn.eventData?fn.eventData.points.slice():[];fn=Me(Mt,!1,Ue,Rr,je),Ue=fn.selectionTesters,fr=fn.eventData;var Pn;Ye?Pn=Ye.filtered:Pn=gt(Ot),o.throttle(Hr,D.SELECTDELAY,function(){Pr=Ie(Ue,Rr);for(var Vn=Pr.slice(),ia=0;ia<Mn.length;ia++){for(var ya=Mn[ia],wa=!1,Gn=0;Gn<Vn.length;Gn++)if(Vn[Gn].curveNumber===ya.curveNumber&&Vn[Gn].pointNumber===ya.pointNumber){wa=!0;break}wa||Vn.push(ya)}Vn.length&&(fr||(fr={}),fr.points=Vn),an(fr,Pn),ze(Mt,fr)})}},je.clickFn=function(tn,Sn){if(xr.remove(),Mt._fullLayout._activeShapeIndex>=0){Mt._fullLayout._deactivateShape(Mt);return}if(!ot){var Tn=Xt.clickmode;o.done(Hr).then(function(){if(o.clear(Hr),tn===2){for(er.remove(),Qt=0;Qt<Rr.length;Qt++)lr=Rr[Qt],lr._module.selectPoints(lr,!1);if(De(Mt,Rr),X(je),Ge(Mt),Rr.length){var Tr=Rr[0].xaxis,zr=Rr[0].yaxis;if(Tr&&zr){for(var Yr=[],Or=Mt._fullLayout.selections,ln=0;ln<Or.length;ln++){var fn=Or[ln];fn&&(fn.xref!==Tr._id||fn.yref!==zr._id)&&Yr.push(fn)}Yr.length<Or.length&&(Mt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Mt,{selections:Yr}))}}}else Tn.indexOf("select")>-1&&ne(Sn,Mt,je.xaxes,je.yaxes,je.subplot,je,er),Tn==="event"&&He(Mt,void 0);v.click(Mt,Sn,Kt.id)}).catch(y.error)}},je.doneFn=function(){xr.remove(),o.done(Hr).then(function(){o.clear(Hr),!nr&&It&&je.selectionDefs&&(It.subtract=pr,je.selectionDefs.push(It),je.mergedPolygons.length=0,[].push.apply(je.mergedPolygons,Ot)),(nr||ot)&&X(je,nr),je.doneFnCompleted&&je.doneFnCompleted(Pr),st&&He(Mt,fr)}).catch(y.error)}}function ne(We,Le,Pe,je,Ce,he,me){var Ne=Le._hoverdata,$e=Le._fullLayout,ot=$e.clickmode,st=ot.indexOf("event")>-1,Wt=[],Pt,dt,Mt,Xt,nr,vt,Zt,Kt,yr,or;if(fe(Ne)){Y(We,Le,he),Pt=se(Le,Pe,je,Ce);var mt=ge(Ne,Pt),lt=mt.pointNumbers.length>0;if(lt?xe(Pt,mt):_e(Pt)&&(Zt=be(mt))){for(me&&me.remove(),or=0;or<Pt.length;or++)dt=Pt[or],dt._module.selectPoints(dt,!1);De(Le,Pt),X(he),st&&Ge(Le)}else{Kt=We.shiftKey&&(Zt!==void 0?Zt:be(mt)),Mt=le(mt.pointNumber,mt.searchInfo,Kt);var bt=he.selectionDefs.concat([Mt]);for(Xt=ie(bt),or=0;or<Pt.length;or++)if(nr=Pt[or]._module.selectPoints(Pt[or],Xt),vt=Re(nr,Pt[or]),Wt.length)for(var Ct=0;Ct<vt.length;Ct++)Wt.push(vt[Ct]);else Wt=vt;if(yr={points:Wt},De(Le,Pt,yr),Mt&&he&&he.selectionDefs.push(Mt),me){var Dt=he.mergedPolygons,Ht=f(he.dragmode);h(Se(Dt,Ht),me,he)}st&&He(Le,yr)}}}function le(We,Le,Pe){return{pointNumber:We,searchInfo:Le,subtract:!!Pe}}function $(We){return"pointNumber"in We&&"searchInfo"in We}function K(We){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Le,Pe,je,Ce){var he=We.searchInfo.cd[0].trace._expandedIndex,me=Ce.cd[0].trace._expandedIndex;return me===he&&je===We.pointNumber},isRect:!1,degenerate:!1,subtract:!!We.subtract}}function ie(We){if(!We.length)return;for(var Le=[],Pe=$(We[0])?0:We[0][0][0],je=Pe,Ce=$(We[0])?0:We[0][0][1],he=Ce,me=0;me<We.length;me++)if($(We[me]))Le.push(K(We[me]));else{var Ne=O(We[me]);Ne.subtract=!!We[me].subtract,Le.push(Ne),Pe=Math.min(Pe,Ne.xmin),je=Math.max(je,Ne.xmax),Ce=Math.min(Ce,Ne.ymin),he=Math.max(he,Ne.ymax)}function $e(ot,st,Wt,Pt){for(var dt=!1,Mt=0;Mt<Le.length;Mt++)Le[Mt].contains(ot,st,Wt,Pt)&&(dt=!Le[Mt].subtract);return dt}return{xmin:Pe,xmax:je,ymin:Ce,ymax:he,pts:[],contains:$e,isRect:!1,degenerate:!1}}function Y(We,Le,Pe){var je=Le._fullLayout,Ce=Pe.plotinfo,he=Pe.dragmode,me=je._lastSelectedSubplot&&je._lastSelectedSubplot===Ce.id,Ne=(We.shiftKey||We.altKey)&&!(n(he)&&f(he));me&&Ne&&Ce.selection&&Ce.selection.selectionDefs&&!Pe.selectionDefs?(Pe.selectionDefs=Ce.selection.selectionDefs,Pe.mergedPolygons=Ce.selection.mergedPolygons):(!Ne||!Ce.selection)&&X(Pe),me||(T(Le),je._lastSelectedSubplot=Ce.id)}function Q(We){return We._fullLayout._activeShapeIndex>=0}function oe(We){return We._fullLayout._activeSelectionIndex>=0}function X(We,Le){var Pe=We.dragmode,je=We.plotinfo,Ce=We.gd;Q(Ce)&&Ce._fullLayout._deactivateShape(Ce),oe(Ce)&&Ce._fullLayout._deactivateSelection(Ce);var he=Ce._fullLayout,me=he._zoomlayer,Ne=n(Pe),$e=u(Pe);if(Ne||$e){var ot=me.selectAll(".select-outline-"+je.id);if(ot&&Ce._fullLayout._outlining){var st;Ne&&(st=x(ot,We)),st&&s.call("_guiRelayout",Ce,{shapes:st});var Wt;$e&&!J(We)&&(Wt=w(ot,We)),Wt&&(Ce._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ce,{selections:Wt}).then(function(){Le&&C(Ce)})),Ce._fullLayout._outlining=!1}}je.selection={},je.selection.selectionDefs=We.selectionDefs=[],je.selection.mergedPolygons=We.mergedPolygons=[]}function j(We){return We._id}function se(We,Le,Pe,je){if(!We.calcdata)return[];var Ce=[],he=Le.map(j),me=Pe.map(j),Ne,$e,ot;for(ot=0;ot<We.calcdata.length;ot++)if(Ne=We.calcdata[ot],$e=Ne[0].trace,!($e.visible!==!0||!$e._module||!$e._module.selectPoints))if(J({subplot:je})&&($e.subplot===je||$e.geo===je))Ce.push(te($e._module,Ne,Le[0],Pe[0]));else if($e.type==="splom"){if($e._xaxes[he[0]]&&$e._yaxes[me[0]]){var st=te($e._module,Ne,Le[0],Pe[0]);st.scene=We._fullLayout._splomScenes[$e.uid],Ce.push(st)}}else if($e.type==="sankey"){var Wt=te($e._module,Ne,Le[0],Pe[0]);Ce.push(Wt)}else{if(he.indexOf($e.xaxis)===-1&&(!$e._xA||!$e._xA.overlaying)||me.indexOf($e.yaxis)===-1&&(!$e._yA||!$e._yA.overlaying))continue;Ce.push(te($e._module,Ne,E(We,$e.xaxis),E(We,$e.yaxis)))}return Ce}function te(We,Le,Pe,je){return{_module:We,cd:Le,xaxis:Pe,yaxis:je}}function fe(We){return We&&Array.isArray(We)&&We[0].hoverOnBox!==!0}function ge(We,Le){var Pe=We[0],je=-1,Ce=[],he,me;for(me=0;me<Le.length;me++)if(he=Le[me],Pe.fullData._expandedIndex===he.cd[0].trace._expandedIndex){if(Pe.hoverOnBox===!0)break;Pe.pointNumber!==void 0?je=Pe.pointNumber:Pe.binNumber!==void 0&&(je=Pe.binNumber,Ce=Pe.pointNumbers);break}return{pointNumber:je,pointNumbers:Ce,searchInfo:he}}function be(We){var Le=We.searchInfo.cd[0].trace,Pe=We.pointNumber,je=We.pointNumbers,Ce=je.length>0,he=Ce?je[0]:Pe;return Le.selectedpoints?Le.selectedpoints.indexOf(he)>-1:!1}function xe(We,Le){var Pe=[],je,Ce,he,me;for(me=0;me<We.length;me++)je=We[me],je.cd[0].trace.selectedpoints&&je.cd[0].trace.selectedpoints.length>0&&Pe.push(je);if(Pe.length===1&&(he=Pe[0]===Le.searchInfo,he&&(Ce=Le.searchInfo.cd[0].trace,Ce.selectedpoints.length===Le.pointNumbers.length))){for(me=0;me<Le.pointNumbers.length;me++)if(Ce.selectedpoints.indexOf(Le.pointNumbers[me])<0)return!1;return!0}return!1}function _e(We){var Le=0,Pe,je,Ce;for(Ce=0;Ce<We.length;Ce++)if(Pe=We[Ce],je=Pe.cd[0].trace,je.selectedpoints&&(je.selectedpoints.length>1||(Le+=je.selectedpoints.length,Le>1)))return!1;return Le===1}function De(We,Le,Pe){var je;for(je=0;je<Le.length;je++){var Ce=Le[je].cd[0].trace._fullInput,he=We._fullLayout._tracePreGUI[Ce.uid]||{};he.selectedpoints===void 0&&(he.selectedpoints=Ce._input.selectedpoints||null)}var me;if(Pe){var Ne=Pe.points||[];for(je=0;je<Le.length;je++)me=Le[je].cd[0].trace,me._input.selectedpoints=me._fullInput.selectedpoints=[],me._fullInput!==me&&(me.selectedpoints=[]);for(var $e=0;$e<Ne.length;$e++){var ot=Ne[$e],st=ot.data,Wt=ot.fullData,Pt=ot.pointIndex,dt=ot.pointIndices;dt?([].push.apply(st.selectedpoints,dt),me._fullInput!==me&&[].push.apply(Wt.selectedpoints,dt)):(st.selectedpoints.push(Pt),me._fullInput!==me&&Wt.selectedpoints.push(Pt))}}else for(je=0;je<Le.length;je++)me=Le[je].cd[0].trace,delete me.selectedpoints,delete me._input.selectedpoints,me._fullInput!==me&&delete me._fullInput.selectedpoints;Fe(We,Le)}function Fe(We,Le){for(var Pe=!1,je=0;je<Le.length;je++){var Ce=Le[je],he=Ce.cd;s.traceIs(he[0].trace,"regl")&&(Pe=!0);var me=Ce._module,Ne=me.styleOnSelect||me.style;Ne&&(Ne(We,he,he[0].node3),he[0].nodeRangePlot3&&Ne(We,he,he[0].nodeRangePlot3))}Pe&&(b(We),I(We))}function Te(We,Le,Pe){for(var je=Pe?m.difference:m.union,Ce=je({regions:We},{regions:[Le]}),he=Ce.regions.reverse(),me=0;me<he.length;me++){var Ne=he[me];Ne.subtract=ct(Ne,he.slice(0,me))}return he}function Re(We,Le){if(Array.isArray(We))for(var Pe=Le.cd,je=Le.cd[0].trace,Ce=0;Ce<We.length;Ce++)We[Ce]=p(We[Ce],je,Pe);return We}function Se(We,Le){for(var Pe=[],je=0;je<We.length;je++){Pe[je]=[];for(var Ce=0;Ce<We[je].length;Ce++){Pe[je][Ce]=[],Pe[je][Ce][0]=Ce?"L":"M";for(var he=0;he<We[je][Ce].length;he++)Pe[je][Ce].push(We[je][Ce][he])}Le||Pe[je].push(["Z",Pe[je][0][1],Pe[je][0][2]])}return Pe}function Ie(We,Le){for(var Pe=[],je,Ce,he=0;he<Le.length;he++){var me=Le[he];Ce=me._module.selectPoints(me,We),je=Re(Ce,me),Pe=Pe.concat(je)}return Pe}function Me(We,Le,Pe,je,Ce){var he=!!je,me,Ne,$e;Ce&&(me=Ce.plotinfo,Ne=Ce.xaxes[0]._id,$e=Ce.yaxes[0]._id);var ot=[],st=[],Wt=Qe(We),Pt=We._fullLayout;if(me){var dt=Pt._zoomlayer,Mt=Pt.dragmode,Xt=n(Mt),nr=u(Mt);if(Xt||nr){var vt=E(We,Ne,"x"),Zt=E(We,$e,"y");if(vt&&Zt){var Kt=dt.selectAll(".select-outline-"+me.id);if(Kt&&We._fullLayout._outlining&&Kt.length){for(var yr=Kt[0][0],or=yr.getAttribute("d"),mt=d(or,We,me),lt=[],bt=0;bt<mt.length;bt++){for(var Ct=mt[bt],Dt=[],Ht=0;Ht<Ct.length;Ht++)Dt.push([ht(vt,Ct[Ht][1]),ht(Zt,Ct[Ht][2])]);Dt.xref=Ne,Dt.yref=$e,Dt.subtract=ct(Dt,lt),lt.push(Dt)}Wt=Wt.concat(lt)}}}}var Bt=Ne&&$e?[Ne+$e]:Pt._subplots.cartesian;Ve(We);for(var Ut={},Jt=0;Jt<Bt.length;Jt++){var cr=Bt[Jt],hr=cr.indexOf("y"),pr=cr.slice(0,hr),Ye=cr.slice(hr),Ue=Ne&&$e?Pe:void 0;if(Ue=Je(Wt,pr,Ye,Ue),Ue){var Ot=je;if(!he){var It=E(We,pr,"x"),Qt=E(We,Ye,"y");Ot=se(We,[It],[Qt],cr);for(var lr=0;lr<Ot.length;lr++){var fr=Ot[lr],er=fr.cd[0],Nt=er.trace;if(fr._module.name==="scattergl"&&!er.t.xpx){var ir=Nt.x,vr=Nt.y,xr=Nt._length;er.t.xpx=[],er.t.ypx=[];for(var dr=0;dr<xr;dr++)er.t.xpx[dr]=It.c2p(ir[dr]),er.t.ypx[dr]=Qt.c2p(vr[dr])}fr._module.name==="splom"&&(Ut[Nt.uid]||(Ut[Nt.uid]=!0))}}var Hr=Ie(Ue,Ot);ot=ot.concat(Hr),st=st.concat(Ot)}}var Pr={points:ot};De(We,st,Pr);var Rr=Pt.clickmode,an=Rr.indexOf("event")>-1&&Le;if(!me&&Le){var tn=Qe(We,!0);if(tn.length){var Sn=tn[0].xref,Tn=tn[0].yref;if(Sn&&Tn){var Tr=gt(tn),zr=Et([E(We,Sn,"x"),E(We,Tn,"y")]);zr(Pr,Tr)}}We._fullLayout._noEmitSelectedAtStart?We._fullLayout._noEmitSelectedAtStart=!1:an&&He(We,Pr),Pt._reselect=!1}if(!me&&Pt._deselect){var Yr=Pt._deselect;Ne=Yr.xref,$e=Yr.yref,et(Ne,$e,st)||it(We,Ne,$e,je),an&&(Pr.points.length?He(We,Pr):Ge(We)),Pt._deselect=!1}return{eventData:Pr,selectionTesters:Pe}}function Ve(We){var Le=We.calcdata;if(Le)for(var Pe=0;Pe<Le.length;Pe++){var je=Le[Pe][0],Ce=je.trace,he=We._fullLayout._splomScenes;if(he){var me=he[Ce.uid];me&&(me.selectBatch=[])}}}function et(We,Le,Pe){for(var je=0;je<Pe.length;je++){var Ce=Pe[je];if(Ce.xaxis&&Ce.xaxis._id===We&&Ce.yaxis&&Ce.yaxis._id===Le)return!0}return!1}function it(We,Le,Pe,je){je=se(We,[E(We,Le,"x")],[E(We,Pe,"y")],Le+Pe);for(var Ce=0;Ce<je.length;Ce++){var he=je[Ce];he._module.selectPoints(he,!1)}De(We,je)}function Je(We,Le,Pe,je){for(var Ce,he=0;he<We.length;he++){var me=We[he];if(!(Le!==me.xref||Pe!==me.yref))if(Ce){var Ne=!!me.subtract;Ce=Te(Ce,me,Ne),je=ie(Ce)}else Ce=[me],je=O(me)}return je}function Qe(We,Le){for(var Pe=[],je=We._fullLayout,Ce=je.selections,he=Ce.length,me=0;me<he;me++)if(!(Le&&me!==je._activeSelectionIndex)){var Ne=Ce[me];if(Ne){var $e=Ne.xref,ot=Ne.yref,st=E(We,$e,"x"),Wt=E(We,ot,"y"),Pt,dt,Mt,Xt,nr;if(Ne.type==="rect"){nr=[];var vt=ht(st,Ne.x0),Zt=ht(st,Ne.x1),Kt=ht(Wt,Ne.y0),yr=ht(Wt,Ne.y1);nr=[[vt,Kt],[vt,yr],[Zt,yr],[Zt,Kt]],Pt=Math.min(vt,Zt),dt=Math.max(vt,Zt),Mt=Math.min(Kt,yr),Xt=Math.max(Kt,yr),nr.xmin=Pt,nr.xmax=dt,nr.ymin=Mt,nr.ymax=Xt,nr.xref=$e,nr.yref=ot,nr.subtract=!1,nr.isRect=!0,Pe.push(nr)}else if(Ne.type==="path")for(var or=Ne.path.split("Z"),mt=[],lt=0;lt<or.length;lt++){var bt=or[lt];if(bt){bt+="Z";var Ct=l.extractPathCoords(bt,g.paramIsX,"raw"),Dt=l.extractPathCoords(bt,g.paramIsY,"raw");Pt=1/0,dt=-1/0,Mt=1/0,Xt=-1/0,nr=[];for(var Ht=0;Ht<Ct.length;Ht++){var Bt=ht(st,Ct[Ht]),Ut=ht(Wt,Dt[Ht]);nr.push([Bt,Ut]),Pt=Math.min(Bt,Pt),dt=Math.max(Bt,dt),Mt=Math.min(Ut,Mt),Xt=Math.max(Ut,Xt)}nr.xmin=Pt,nr.xmax=dt,nr.ymin=Mt,nr.ymax=Xt,nr.xref=$e,nr.yref=ot,nr.subtract=ct(nr,mt),mt.push(nr),Pe.push(nr)}}}}return Pe}function ct(We,Le){for(var Pe=!1,je=0;je<Le.length;je++)for(var Ce=Le[je],he=0;he<We.length;he++)if(P(We[he],Ce)){Pe=!Pe;break}return Pe}function ht(We,Le){return We.type==="date"&&(Le=Le.replace("_"," ")),We.type==="log"?We.c2p(Le):We.r2p(Le,null,We.calendar)}function gt(We){for(var Le=We.length,Pe=[],je=0;je<Le;je++){var Ce=We[je];Pe=Pe.concat(Ce),Pe=Pe.concat([Ce[0]])}return Tt(Pe)}function Tt(We){return We.isRect=We.length===5&&We[0][0]===We[4][0]&&We[0][1]===We[4][1]&&We[0][0]===We[1][0]&&We[2][0]===We[3][0]&&We[0][1]===We[3][1]&&We[1][1]===We[2][1]||We[0][1]===We[1][1]&&We[2][1]===We[3][1]&&We[0][0]===We[3][0]&&We[1][0]===We[2][0],We.isRect&&(We.xmin=Math.min(We[0][0],We[2][0]),We.xmax=Math.max(We[0][0],We[2][0]),We.ymin=Math.min(We[0][1],We[2][1]),We.ymax=Math.max(We[0][1],We[2][1])),We}function Et(We){return function(Le,Pe){for(var je,Ce,he=0;he<We.length;he++){var me=We[he],Ne=me._id,$e=Ne.charAt(0);if(Pe.isRect){je||(je={});var ot=Pe[$e+"min"],st=Pe[$e+"max"];ot!==void 0&&st!==void 0&&(je[Ne]=[z(me,ot),z(me,st)].sort(M))}else Ce||(Ce={}),Ce[Ne]=Pe.map(B(me))}je&&(Le.range=je),Ce&&(Le.lassoPoints=Ce)}}function rt(We){var Le=We.plotinfo;return Le.fillRangeItems||Et(We.xaxes.concat(We.yaxes))}function ze(We,Le){We.emit("plotly_selecting",Le)}function He(We,Le){Le&&(Le.selections=(We.layout||{}).selections||[]),We.emit("plotly_selected",Le)}function Ge(We){We.emit("plotly_deselect",null)}G.exports={reselect:Me,prepSelect:re,clearOutline:T,clearSelectionsCache:X,selectOnClick:ne}},46056:function(G,H,e){var m=e(13916),P=e(25376),s=e(52904).line,L=e(98192).u,S=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);G.exports=v("shape",{visible:S({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:S({},p.legend,{editType:"calc+arraydraw"}),legendgroup:S({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:S({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:S({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:S({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:S({},m.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},m.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},s.color,{editType:"arraydraw"}),width:S({},s.width,{editType:"calc+arraydraw"}),dash:S({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(G,H,e){var m=e(3400),P=e(54460),s=e(85448),L=e(65152);G.exports=function(i){var n=i._fullLayout,f=m.filterVisible(n.shapes);if(!(!f.length||!i._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var g,h,T=P.getRefType(l.xref),c=P.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var a=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;g=P.getFromId(i,l.xref),h=r(g,a,d,l.path,s.paramIsX),h&&(l._extremes[g._id]=P.findExtremes(g,h,S(l)))}if(l.yref!=="paper"&&c!=="domain"){var x=l.ysizemode==="pixel"?l.yanchor:l.y0,w=l.ysizemode==="pixel"?l.yanchor:l.y1;g=P.getFromId(i,l.yref),h=r(g,x,w,l.path,s.paramIsY),h&&(l._extremes[g._id]=P.findExtremes(g,h,v(l)))}}};function S(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,i,n,f,u,l){var g=t/2,h=l;if(i==="pixel"){var T=u?L.extractPathCoords(u,l?s.paramIsY:s.paramIsX):[n,f],c=m.aggNums(Math.max,null,T),a=m.aggNums(Math.min,null,T),d=a<0?Math.abs(a)+g:g,x=c>0?c+g:g;return{ppad:g,ppadplus:h?d:x,ppadminus:h?x:d}}else return{ppad:g}}function r(t,i,n,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[l(i),l(n)];if(f){var g=1/0,h=-1/0,T=f.match(s.segmentRE),c,a,d,x,w;for(t.type==="date"&&(l=L.decodeDate(l)),c=0;c<T.length;c++)a=T[c],d=u[a.charAt(0)].drawn,d!==void 0&&(x=T[c].substr(1).match(s.paramRE),!(!x||x.length<d)&&(w=l(x[d]),w<g&&(g=w),w>h&&(h=w)));if(h>=g)return[g,h]}}},85448:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(G,H,e){var m=e(3400),P=e(54460),s=e(51272),L=e(46056),S=e(65152);G.exports=function(t,i){s(t,i,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,i){function n($,K){return m.coerce(r,t,L,$,K)}t._isShape=!0;var f=n("visible");if(f){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),m.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),g=l?"path":"rect",h=n("type",g),T=h!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var a=n("xsizemode"),d=n("ysizemode"),x=["x","y"],w=0;w<2;w++){var C=x[w],y=C+"anchor",M=C==="x"?a:d,A={_fullLayout:i},o,E,b,I=P.coerceRef(r,t,A,C,void 0,"paper"),D=P.getRefType(I);if(D==="range"?(o=P.getFromId(A,I),o._shapeIndices.push(t._index),b=S.rangeToShapePosition(o),E=S.shapePositionToRange(o)):E=b=m.identity,T){var N=.25,k=.75,O=C+"0",F=C+"1",z=r[O],B=r[F];r[O]=E(r[O],!0),r[F]=E(r[F],!0),M==="pixel"?(n(O,0),n(F,10)):(P.coercePosition(t,A,n,I,O,N),P.coercePosition(t,A,n,I,F,k)),t[O]=b(t[O]),t[F]=b(t[F]),r[O]=z,r[F]=B}if(M==="pixel"){var W=r[y];r[y]=E(r[y],!0),P.coercePosition(t,A,n,I,y,.25),t[y]=b(t[y]),r[y]=W}}T&&m.noneOrAll(r,t,["x0","x1","y0","y1"]);var J=h==="line",re,ne;if(T&&(re=n("label.texttemplate")),re||(ne=n("label.text")),ne||re){n("label.textangle");var le=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(J,le)),n("label.padding"),m.coerceFont(n,"label.font",i.font)}}}},60728:function(G,H,e){var m=e(3400),P=e(54460),s=e(72736),L=e(43616),S=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;G.exports=function(u,l,g,h){if(h.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var T;if(g.label.texttemplate){var c={};if(g.type!=="path"){var a=P.getFromId(u,g.xref),d=P.getFromId(u,g.yref);for(var x in r){var w=r[x](g,a,d);w!==void 0&&(c[x]=w)}}T=m.texttemplateStringForShapes(g.label.texttemplate,{},u._fullLayout._d3locale,c)}else T=g.label.text;var C={"data-index":l},y=g.label.font,M={"data-notex":1},A=h.append("g").attr(C).classed("shape-label",!0),o=A.append("text").attr(M).classed("shape-label-text",!0).text(T),E,b,I,D;if(g.path){var N=p(u,g),k=S(N,u);E=1/0,I=1/0,b=-1/0,D=-1/0;for(var O=0;O<k.length;O++)for(var F=0;F<k[O].length;F++)for(var z=k[O][F],B=1;B<z.length;B+=2){var W=z[B],J=z[B+1];E=Math.min(E,W),b=Math.max(b,W),I=Math.min(I,J),D=Math.max(D,J)}}else{var re=P.getFromId(u,g.xref),ne=P.getRefType(g.xref),le=P.getFromId(u,g.yref),$=P.getRefType(g.yref),K=v.getDataToPixel(u,re,!1,ne),ie=v.getDataToPixel(u,le,!0,$);E=K(g.x0),b=K(g.x1),I=ie(g.y0),D=ie(g.y1)}var Y=g.label.textangle;Y==="auto"&&(g.type==="line"?Y=i(E,I,b,D):Y=0),o.call(function(te){return te.call(L.font,y).attr({}),s.convertToTspans(te,u),te});var Q=L.bBox(o.node()),oe=n(E,I,b,D,g,Y,Q),X=oe.textx,j=oe.texty,se=oe.xanchor;o.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:j,x:X,transform:"rotate("+Y+","+X+","+j+")"}).call(s.positionText,X,j)}};function i(f,u,l,g){var h,T;return T=Math.abs(l-f),l>=f?h=u-g:h=g-u,-180/Math.PI*Math.atan2(h,T)}function n(f,u,l,g,h,T,c){var a=h.label.textposition,d=h.label.textangle,x=h.label.padding,w=h.type,C=Math.PI/180*T,y=Math.sin(C),M=Math.cos(C),A=h.label.xanchor,o=h.label.yanchor,E,b,I,D;if(w==="line"){a==="start"?(E=f,b=u):a==="end"?(E=l,b=g):(E=(f+l)/2,b=(u+g)/2),A==="auto"&&(a==="start"?d==="auto"?l>f?A="left":l<f?A="right":A="center":l>f?A="right":l<f?A="left":A="center":a==="end"?d==="auto"?l>f?A="right":l<f?A="left":A="center":l>f?A="left":l<f?A="right":A="center":A="center");var N={left:1,center:0,right:-1},k={bottom:-1,middle:0,top:1};if(d==="auto"){var O=k[o];I=-x*y*O,D=x*M*O}else{var F=N[A],z=k[o];I=x*F,D=x*z}E=E+I,b=b+D}else I=x+3,a.indexOf("right")!==-1?(E=Math.max(f,l)-I,A==="auto"&&(A="right")):a.indexOf("left")!==-1?(E=Math.min(f,l)+I,A==="auto"&&(A="left")):(E=(f+l)/2,A==="auto"&&(A="center")),a.indexOf("top")!==-1?b=Math.min(u,g):a.indexOf("bottom")!==-1?b=Math.max(u,g):b=(u+g)/2,D=x,o==="bottom"?b=b-D:o==="top"&&(b=b+D);var B=t[o],W=h.label.font.size,J=c.height,re=(J*B-W)*y,ne=-(J*B-W)*M;return{textx:E+re,texty:b+ne,xanchor:A}}},55496:function(G,H,e){var m=e(3400),P=m.strTranslate,s=e(86476),L=e(72760),S=L.drawMode,v=L.selectMode,p=e(24040),r=e(76308),t=e(7e3),i=t.i000,n=t.i090,f=t.i180,u=t.i270,l=e(1936),g=l.clearOutlineControllers,h=e(9856),T=h.pointsOnRectangle,c=h.pointsOnEllipse,a=h.writePaths,d=e(93940).newShapes,x=e(93940).createShapeObj,w=e(5968),C=e(60728);G.exports=function o(E,b,I,D){D||(D=0);var N=I.gd;function k(){o(E,b,I,D++),(c(E[0])||I.hasText)&&O({redrawing:!0})}function O(Te){var Re={};I.isActiveShape!==void 0&&(I.isActiveShape=!1,Re=d(b,I)),I.isActiveSelection!==void 0&&(I.isActiveSelection=!1,Re=w(b,I),N._fullLayout._reselect=!0),Object.keys(Re).length&&p.call((Te||{}).redrawing?"relayout":"_guiRelayout",N,Re)}var F=N._fullLayout,z=F._zoomlayer,B=I.dragmode,W=S(B),J=v(B);(W||J)&&(N._fullLayout._outlining=!0),g(N),b.attr("d",a(E));var re,ne,le,$,K;if(!D&&(I.isActiveShape||I.isActiveSelection)){K=y([],E);var ie=z.append("g").attr("class","outline-controllers");fe(ie),Fe()}if(W&&I.hasText){var Y=z.select(".label-temp"),Q=x(b,I,I.dragmode);C(N,"label-temp",Q,Y)}function oe(Te){le=+Te.srcElement.getAttribute("data-i"),$=+Te.srcElement.getAttribute("data-j"),re[le][$].moveFn=X}function X(Te,Re){if(E.length){var Se=K[le][$][1],Ie=K[le][$][2],Me=E[le],Ve=Me.length;if(T(Me)){var et=Te,it=Re;if(I.isActiveSelection){var Je=M(Me,$);Je[1]===Me[$][1]?it=0:et=0}for(var Qe=0;Qe<Ve;Qe++)if(Qe!==$){var ct=Me[Qe];ct[1]===Me[$][1]&&(ct[1]=Se+et),ct[2]===Me[$][2]&&(ct[2]=Ie+it)}if(Me[$][1]=Se+et,Me[$][2]=Ie+it,!T(Me))for(var ht=0;ht<Ve;ht++)for(var gt=0;gt<Me[ht].length;gt++)Me[ht][gt]=K[le][ht][gt]}else Me[$][1]=Se+Te,Me[$][2]=Ie+Re;k()}}function j(){O()}function se(){if(E.length&&E[le]&&E[le].length){for(var Te=[],Re=0;Re<E[le].length;Re++)Re!==$&&Te.push(E[le][Re]);Te.length>1&&!(Te.length===2&&Te[1][0]==="Z")&&($===0&&(Te[0][0]="M"),E[le]=Te,k(),O())}}function te(Te,Re){if(Te===2){le=+Re.srcElement.getAttribute("data-i"),$=+Re.srcElement.getAttribute("data-j");var Se=E[le];!T(Se)&&!c(Se)&&se()}}function fe(Te){re=[];for(var Re=0;Re<E.length;Re++){var Se=E[Re],Ie=T(Se),Me=!Ie&&c(Se);re[Re]=[];for(var Ve=Se.length,et=0;et<Ve;et++)if(Se[et][0]!=="Z"&&!(Me&&et!==i&&et!==n&&et!==f&&et!==u)){var it=Ie&&I.isActiveSelection,Je;it&&(Je=M(Se,et));var Qe=Se[et][1],ct=Se[et][2],ht=Te.append(it?"rect":"circle").attr("data-i",Re).attr("data-j",et).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(it){var gt=Je[1]-Qe,Tt=Je[2]-ct,Et=Tt?5:Math.max(Math.min(25,Math.abs(gt)-5),5),rt=gt?5:Math.max(Math.min(25,Math.abs(Tt)-5),5);ht.classed(Tt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Et).attr("height",rt).attr("x",Qe-Et/2).attr("y",ct-rt/2).attr("transform",P(gt/2,Tt/2))}else ht.classed("cursor-grab",!0).attr("r",5).attr("cx",Qe).attr("cy",ct);re[Re][et]={element:ht.node(),gd:N,prepFn:oe,doneFn:j,clickFn:te},s.init(re[Re][et])}}}function ge(Te,Re){if(E.length)for(var Se=0;Se<E.length;Se++)for(var Ie=0;Ie<E[Se].length;Ie++)for(var Me=0;Me+2<E[Se][Ie].length;Me+=2)E[Se][Ie][Me+1]=K[Se][Ie][Me+1]+Te,E[Se][Ie][Me+2]=K[Se][Ie][Me+2]+Re}function be(Te,Re){ge(Te,Re),k()}function xe(Te){le=+Te.srcElement.getAttribute("data-i"),le||(le=0),ne[le].moveFn=be}function _e(){O()}function De(Te){Te===2&&A(N)}function Fe(){if(ne=[],!!E.length){var Te=0;ne[Te]={element:b[0][0],gd:N,prepFn:xe,doneFn:_e,clickFn:De},s.init(ne[Te])}}};function y(o,E){for(var b=0;b<E.length;b++){var I=E[b];o[b]=[];for(var D=0;D<I.length;D++){o[b][D]=[];for(var N=0;N<I[D].length;N++)o[b][D][N]=I[D][N]}}return o}function M(o,E){var b=o[E][1],I=o[E][2],D=o.length,N,k,O;return N=(E+1)%D,k=o[N][1],O=o[N][2],k===b&&O===I&&(N=(E+2)%D,k=o[N][1],O=o[N][2]),[N,k,O]}function A(o){if(v(o._fullLayout.dragmode)){g(o);var E=o._fullLayout._activeSelectionIndex,b=(o.layout||{}).selections||[];if(E<b.length){for(var I=[],D=0;D<b.length;D++)D!==E&&I.push(b[D]);delete o._fullLayout._activeSelectionIndex;var N=o._fullLayout.selections[E];o._fullLayout._deselect={xref:N.xref,yref:N.yref},p.call("_guiRelayout",o,{selections:I})}}}},4016:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=e(54460),S=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),i=e(43616),n=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),g=e(65152),h=g.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:A,drawLabel:p};function T(o){var E=o._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var b in E._plots){var I=E._plots[b].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var D=0;D<E.shapes.length;D++)E.shapes[D].visible===!0&&d(o,D)}function c(o){return!!o._fullLayout._outlining}function a(o){return!o._context.edits.shapePosition}function d(o,E){o._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var b=g.makeShapesOptionsAndPlotinfo(o,E),I=b.options,D=b.plotinfo;if(!I._input||I.visible!==!0)return;if(I.layer==="above")k(o._fullLayout._shapeUpperLayer);else if(I.xref==="paper"||I.yref==="paper")k(o._fullLayout._shapeLowerLayer);else if(I.layer==="between")k(D.shapelayerBetween);else if(D._hadPlotinfo){var N=D.mainplotinfo||D;k(N.shapelayer)}else k(o._fullLayout._shapeLowerLayer);function k(O){var F=h(o,I),z={"data-index":E,"fill-rule":I.fillrule,d:F},B=I.opacity,W=I.fillcolor,J=I.line.width?I.line.color:"rgba(0,0,0,0)",re=I.line.width,ne=I.line.dash;!re&&I.editable===!0&&(re=5,ne="solid");var le=F[F.length-1]!=="Z",$=a(o)&&I.editable&&o._fullLayout._activeShapeIndex===E;$&&(W=le?"rgba(0,0,0,0)":o._fullLayout.activeshape.fillcolor,B=o._fullLayout.activeshape.opacity);var K=O.append("g").classed("shape-group",!0).attr({"data-index":E}),ie=K.append("path").attr(z).style("opacity",B).call(t.stroke,J).call(t.fill,W).call(i.dashLine,ne,re);x(K,o,I),p(o,E,I,K);var Y;if(($||o._context.edits.shapePosition)&&(Y=n(o.layout,"shapes",I)),$){ie.style({cursor:"move"});var Q={element:ie.node(),plotinfo:D,gd:o,editHelpers:Y,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},oe=S(F,o);v(oe,ie,Q)}else o._context.edits.shapePosition?w(o,ie,I,E,O,Y):I.editable===!0&&ie.style("pointer-events",le||t.opacity(W)*B<=.5?"stroke":"all");ie.node().addEventListener("click",function(){return y(o,ie)})}}function x(o,E,b){var I=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(o,I?"clip"+E._fullLayout._uid+I:null,E)}function w(o,E,b,I,D,N){var k=10,O=10,F=b.xsizemode==="pixel",z=b.ysizemode==="pixel",B=b.type==="line",W=b.type==="path",J=N.modifyItem,re,ne,le,$,K,ie,Y,Q,oe,X,j,se,te,fe,ge,be=m.select(E.node().parentNode),xe=L.getFromId(o,b.xref),_e=L.getRefType(b.xref),De=L.getFromId(o,b.yref),Fe=L.getRefType(b.yref),Te=g.getDataToPixel(o,xe,!1,_e),Re=g.getDataToPixel(o,De,!0,Fe),Se=g.getPixelToData(o,xe,!1,_e),Ie=g.getPixelToData(o,De,!0,Fe),Me=it(),Ve={element:Me.node(),gd:o,prepFn:ct,doneFn:ht,clickFn:gt},et;f.init(Ve),Me.node().onmousemove=Qe;function it(){return B?Je():E}function Je(){var Ge=10,We=Math.max(b.line.width,Ge),Le=D.append("g").attr("data-index",I).attr("drag-helper",!0);Le.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":We,"stroke-opacity":"0"});var Pe={"fill-opacity":"0"},je=Math.max(We/2,Ge);return Le.append("circle").attr({"data-line-point":"start-point",cx:F?Te(b.xanchor)+b.x0:Te(b.x0),cy:z?Re(b.yanchor)-b.y0:Re(b.y0),r:je}).style(Pe).classed("cursor-grab",!0),Le.append("circle").attr({"data-line-point":"end-point",cx:F?Te(b.xanchor)+b.x1:Te(b.x1),cy:z?Re(b.yanchor)-b.y1:Re(b.y1),r:je}).style(Pe).classed("cursor-grab",!0),Le}function Qe(Ge){if(c(o)){et=null;return}if(B)Ge.target.tagName==="path"?et="move":et=Ge.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var We=Ve.element.getBoundingClientRect(),Le=We.right-We.left,Pe=We.bottom-We.top,je=Ge.clientX-We.left,Ce=Ge.clientY-We.top,he=!W&&Le>k&&Pe>O&&!Ge.shiftKey?f.getCursor(je/Le,1-Ce/Pe):"move";u(E,he),et=he.split("-")[0]}}function ct(Ge){c(o)||(F&&(K=Te(b.xanchor)),z&&(ie=Re(b.yanchor)),b.type==="path"?ge=b.path:(re=F?b.x0:Te(b.x0),ne=z?b.y0:Re(b.y0),le=F?b.x1:Te(b.x1),$=z?b.y1:Re(b.y1)),re<le?(oe=re,te="x0",X=le,fe="x1"):(oe=le,te="x1",X=re,fe="x0"),!z&&ne<$||z&&ne>$?(Y=ne,j="y0",Q=$,se="y1"):(Y=$,j="y1",Q=ne,se="y0"),Qe(Ge),rt(D,b),He(E,b,o),Ve.moveFn=et==="move"?Tt:Et,Ve.altKey=Ge.altKey)}function ht(){c(o)||(u(E),ze(D),x(E,o,b),P.call("_guiRelayout",o,N.getUpdateObj()))}function gt(){c(o)||ze(D)}function Tt(Ge,We){if(b.type==="path"){var Le=function(Ce){return Ce},Pe=Le,je=Le;F?J("xanchor",b.xanchor=Se(K+Ge)):(Pe=function(he){return Se(Te(he)+Ge)},xe&&xe.type==="date"&&(Pe=g.encodeDate(Pe))),z?J("yanchor",b.yanchor=Ie(ie+We)):(je=function(he){return Ie(Re(he)+We)},De&&De.type==="date"&&(je=g.encodeDate(je))),J("path",b.path=C(ge,Pe,je))}else F?J("xanchor",b.xanchor=Se(K+Ge)):(J("x0",b.x0=Se(re+Ge)),J("x1",b.x1=Se(le+Ge))),z?J("yanchor",b.yanchor=Ie(ie+We)):(J("y0",b.y0=Ie(ne+We)),J("y1",b.y1=Ie($+We)));E.attr("d",h(o,b)),rt(D,b),p(o,I,b,be)}function Et(Ge,We){if(W){var Le=function(vt){return vt},Pe=Le,je=Le;F?J("xanchor",b.xanchor=Se(K+Ge)):(Pe=function(Zt){return Se(Te(Zt)+Ge)},xe&&xe.type==="date"&&(Pe=g.encodeDate(Pe))),z?J("yanchor",b.yanchor=Ie(ie+We)):(je=function(Zt){return Ie(Re(Zt)+We)},De&&De.type==="date"&&(je=g.encodeDate(je))),J("path",b.path=C(ge,Pe,je))}else if(B){if(et==="resize-over-start-point"){var Ce=re+Ge,he=z?ne-We:ne+We;J("x0",b.x0=F?Ce:Se(Ce)),J("y0",b.y0=z?he:Ie(he))}else if(et==="resize-over-end-point"){var me=le+Ge,Ne=z?$-We:$+We;J("x1",b.x1=F?me:Se(me)),J("y1",b.y1=z?Ne:Ie(Ne))}}else{var $e=function(vt){return et.indexOf(vt)!==-1},ot=$e("n"),st=$e("s"),Wt=$e("w"),Pt=$e("e"),dt=ot?Y+We:Y,Mt=st?Q+We:Q,Xt=Wt?oe+Ge:oe,nr=Pt?X+Ge:X;z&&(ot&&(dt=Y-We),st&&(Mt=Q-We)),(!z&&Mt-dt>O||z&&dt-Mt>O)&&(J(j,b[j]=z?dt:Ie(dt)),J(se,b[se]=z?Mt:Ie(Mt))),nr-Xt>k&&(J(te,b[te]=F?Xt:Se(Xt)),J(fe,b[fe]=F?nr:Se(nr)))}E.attr("d",h(o,b)),rt(D,b),p(o,I,b,be)}function rt(Ge,We){(F||z)&&Le();function Le(){var Pe=We.type!=="path",je=Ge.selectAll(".visual-cue").data([0]),Ce=1;je.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ce}).classed("visual-cue",!0);var he=Te(F?We.xanchor:s.midRange(Pe?[We.x0,We.x1]:g.extractPathCoords(We.path,l.paramIsX))),me=Re(z?We.yanchor:s.midRange(Pe?[We.y0,We.y1]:g.extractPathCoords(We.path,l.paramIsY)));if(he=g.roundPositionForSharpStrokeRendering(he,Ce),me=g.roundPositionForSharpStrokeRendering(me,Ce),F&&z){var Ne="M"+(he-1-Ce)+","+(me-1-Ce)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";je.attr("d",Ne)}else if(F){var $e="M"+(he-1-Ce)+","+(me-9-Ce)+"v18 h2 v-18 Z";je.attr("d",$e)}else{var ot="M"+(he-9-Ce)+","+(me-1-Ce)+"h18 v2 h-18 Z";je.attr("d",ot)}}}function ze(Ge){Ge.selectAll(".visual-cue").remove()}function He(Ge,We,Le){var Pe=We.xref,je=We.yref,Ce=L.getFromId(Le,Pe),he=L.getFromId(Le,je),me="";Pe!=="paper"&&!Ce.autorange&&(me+=Pe),je!=="paper"&&!he.autorange&&(me+=je),i.setClipUrl(Ge,me?"clip"+Le._fullLayout._uid+me:null,Le)}}function C(o,E,b){return o.replace(l.segmentRE,function(I){var D=0,N=I.charAt(0),k=l.paramIsX[N],O=l.paramIsY[N],F=l.numParams[N],z=I.substr(1).replace(l.paramRE,function(B){return D>=F||(k[D]?B=E(B):O[D]&&(B=b(B)),D++),B});return N+z})}function y(o,E){if(a(o)){var b=E.node(),I=+b.getAttribute("data-index");if(I>=0){if(I===o._fullLayout._activeShapeIndex){M(o);return}o._fullLayout._activeShapeIndex=I,o._fullLayout._deactivateShape=M,T(o)}}}function M(o){if(a(o)){var E=o._fullLayout._activeShapeIndex;E>=0&&(r(o),delete o._fullLayout._activeShapeIndex,T(o))}}function A(o){if(a(o)){r(o);var E=o._fullLayout._activeShapeIndex,b=(o.layout||{}).shapes||[];if(E<b.length){for(var I=[],D=0;D<b.length;D++)D!==E&&I.push(b[D]);return delete o._fullLayout._activeShapeIndex,P.call("_guiRelayout",o,{shapes:I})}}}},92872:function(G,H,e){var m=e(67824).overrideAll,P=e(45464),s=e(25376),L=e(98192).u,S=e(92880).extendFlat,v=e(21776).ye,p=e(97728);G.exports=m({newshape:{visible:S({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:S({},P.legend,{}),legendgroup:S({},P.legendgroup,{}),legendgrouptitle:{text:S({},P.legendgrouptitle.text,{}),font:s({})},legendrank:S({},P.legendrank,{}),legendwidth:S({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:S({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:S({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:s({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(G){var H=32;G.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(G,H,e){var m=e(76308),P=e(3400);function s(L,S){return L?"bottom":S.indexOf("top")!==-1?"top":S.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(S,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(S||{}).plot_bgcolor||"#FFF";p("newshape.line.color",m.contrast(t)),p("newshape.line.dash")}var i=S.dragmode==="drawline",n=p("newshape.label.text"),f=p("newshape.label.texttemplate");if(n||f){p("newshape.label.textangle");var u=p("newshape.label.textposition",i?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",s(i,u)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(G,H,e){var m=e(21984),P=e(7e3),s=P.CIRCLE_SIDES,L=P.SQRT2,S=e(5840),v=S.p2r,p=S.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];H.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",g=0;g<u;g++)for(var h=f[g].length,T=0;T<h;T++){var c=f[g][T][0];if(c==="Z")l+="Z";else for(var a=f[g][T].length,d=0;d<a;d++){var x=d;c==="Q"||c==="S"?x=t[d]:c==="C"&&(x=r[d]),l+=f[g][T][x],d>0&&d<a-1&&(l+=",")}}return l},H.readPaths=function(f,u,l,g){var h=m(f),T=[],c=-1,a=function(){c++,T[c]=[]},d,x=0,w=0,C,y,M=function(){C=x,y=w};M();for(var A=0;A<h.length;A++){var o=[],E,b,I,D,N=h[A][0],k=N;switch(N){case"M":a(),x=+h[A][1],w=+h[A][2],o.push([k,x,w]),M();break;case"Q":case"S":E=+h[A][1],I=+h[A][2],x=+h[A][3],w=+h[A][4],o.push([k,x,w,E,I]);break;case"C":E=+h[A][1],I=+h[A][2],b=+h[A][3],D=+h[A][4],x=+h[A][5],w=+h[A][6],o.push([k,x,w,E,I,b,D]);break;case"T":case"L":x=+h[A][1],w=+h[A][2],o.push([k,x,w]);break;case"H":k="L",x=+h[A][1],o.push([k,x,w]);break;case"V":k="L",w=+h[A][1],o.push([k,x,w]);break;case"A":k="L";var O=+h[A][1],F=+h[A][2];+h[A][4]||(O=-O,F=-F);var z=x-O,B=w;for(d=1;d<=s/2;d++){var W=2*Math.PI*d/s;o.push([k,z+O*Math.cos(W),B+F*Math.sin(W)])}break;case"Z":(x!==C||w!==y)&&(x=C,w=y,o.push([k,x,w]));break}for(var J=(l||{}).domain,re=u._fullLayout._size,ne=l&&l.xsizemode==="pixel",le=l&&l.ysizemode==="pixel",$=g===!1,K=0;K<o.length;K++){for(d=0;d+2<7;d+=2){var ie=o[K][d+1],Y=o[K][d+2];ie===void 0||Y===void 0||(x=ie,w=Y,l&&(l.xaxis&&l.xaxis.p2r?($&&(ie-=l.xaxis._offset),ne?ie=p(l.xaxis,l.xanchor)+ie:ie=v(l.xaxis,ie)):($&&(ie-=re.l),J?ie=J.x[0]+ie/re.w:ie=ie/re.w),l.yaxis&&l.yaxis.p2r?($&&(Y-=l.yaxis._offset),le?Y=p(l.yaxis,l.yanchor)-Y:Y=v(l.yaxis,Y)):($&&(Y-=re.t),J?Y=J.y[1]-Y/re.h:Y=1-Y/re.h)),o[K][d+1]=ie,o[K][d+2]=Y)}T[c].push(o[K].slice())}}return T};function i(f,u){return Math.abs(f-u)<=1e-6}function n(f,u){var l=u[1]-f[1],g=u[2]-f[2];return Math.sqrt(l*l+g*g)}H.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var g=f[0][l]-f[1][l],h=f[3][l]-f[2][l];if(!i(g,h))return!1;var T=f[0][l]-f[3][l],c=f[1][l]-f[2][l];if(!i(T,c))return!1}return!i(f[0][1],f[1][1])&&!i(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},H.pointsOnEllipse=function(f){var u=f.length;if(u!==s+1)return!1;u=s;for(var l=0;l<u;l++){var g=(u*2-l)%u,h=(u/2+g)%u,T=(u/2+l)%u;if(!i(n(f[l],f[T]),n(f[g],f[h])))return!1}return!0},H.handleEllipse=function(f,u,l){if(!f)return[u,l];var g=H.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),h=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,c=(g.x1-g.x0)/2,a=(g.y1-g.y0)/2;c||(c=a=a/L),a||(a=c=c/L);for(var d=[],x=0;x<s;x++){var w=x*2*Math.PI/s;d.push([h+c*Math.cos(w),T+a*Math.sin(w)])}return d},H.ellipseOver=function(f){var u=f.x0,l=f.y0,g=f.x1,h=f.y1,T=g-u,c=h-l;u-=T,l-=c;var a=(u+g)/2,d=(l+h)/2,x=L;return T*=x,c*=x,{x0:a-T,y0:d-c,x1:a+T,y1:d+c}},H.fixDatesForPaths=function(f,u,l){var g=u.type==="date",h=l.type==="date";if(!g&&!h)return f;for(var T=0;T<f.length;T++)for(var c=0;c<f[T].length;c++)for(var a=0;a+2<f[T][c].length;a+=2)g&&(f[T][c][a+1]=f[T][c][a+1].replace(" ","_")),h&&(f[T][c][a+2]=f[T][c][a+2].replace(" ","_"));return f}},93940:function(G,H,e){var m=e(72760),P=m.drawMode,s=m.openMode,L=e(7e3),S=L.i000,v=L.i090,p=L.i180,r=L.i270,t=L.cos45,i=L.sin45,n=e(5840),f=n.p2r,u=n.r2p,l=e(1936),g=l.clearOutline,h=e(9856),T=h.readPaths,c=h.writePaths,a=h.ellipseOver,d=h.fixDatesForPaths;function x(C,y){if(C.length){var M=C[0][0];if(M){var A=y.gd,o=y.isActiveShape,E=y.dragmode,b=(A.layout||{}).shapes||[];if(!P(E)&&o!==void 0){var I=A._fullLayout._activeShapeIndex;if(I<b.length)switch(A._fullLayout.shapes[I].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var D=b[I].path||"";D[D.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var N=w(C,y,E);g(A);for(var k=y.editHelpers,O=(k||{}).modifyItem,F=[],z=0;z<b.length;z++){var B=A._fullLayout.shapes[z];if(F[z]=B._input,o!==void 0&&z===A._fullLayout._activeShapeIndex){var W=N;switch(B.type){case"line":case"rect":case"circle":O("x0",W.x0),O("x1",W.x1),O("y0",W.y0),O("y1",W.y1);break;case"path":O("path",W.path);break}}}return o===void 0?(F.push(N),F):k?k.getUpdateObj():{}}}}function w(C,y,M){var A=C[0][0],o=y.gd,E=A.getAttribute("d"),b=o._fullLayout.newshape,I=y.plotinfo,D=y.isActiveShape,N=I.xaxis,k=I.yaxis,O=!!I.domain||!I.xaxis,F=!!I.domain||!I.yaxis,z=s(M),B=T(E,o,I,D),W={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:O?"paper":N._id,yref:F?"paper":k._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};z||(W.fillcolor=b.fillcolor,W.fillrule=b.fillrule);var J;if(B.length===1&&(J=B[0]),J&&J.length===5&&M==="drawrect")W.type="rect",W.x0=J[0][1],W.y0=J[0][2],W.x1=J[2][1],W.y1=J[2][2];else if(J&&M==="drawline")W.type="line",W.x0=J[0][1],W.y0=J[0][2],W.x1=J[1][1],W.y1=J[1][2];else if(J&&M==="drawcircle"){W.type="circle";var re=J[S][1],ne=J[v][1],le=J[p][1],$=J[r][1],K=J[S][2],ie=J[v][2],Y=J[p][2],Q=J[r][2],oe=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),X=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");oe&&(re=u(I.xaxis,re),ne=u(I.xaxis,ne),le=u(I.xaxis,le),$=u(I.xaxis,$)),X&&(K=u(I.yaxis,K),ie=u(I.yaxis,ie),Y=u(I.yaxis,Y),Q=u(I.yaxis,Q));var j=(ne+$)/2,se=(K+Y)/2,te=($-ne+le-re)/2,fe=(Q-ie+Y-K)/2,ge=a({x0:j,y0:se,x1:j+te*t,y1:se+fe*i});oe&&(ge.x0=f(I.xaxis,ge.x0),ge.x1=f(I.xaxis,ge.x1)),X&&(ge.y0=f(I.yaxis,ge.y0),ge.y1=f(I.yaxis,ge.y1)),W.x0=ge.x0,W.y0=ge.y0,W.x1=ge.x1,W.y1=ge.y1}else W.type="path",N&&k&&d(B,N,k),W.path=c(B),J=null;return W}G.exports={newShapes:x,createShapeObj:w}},1936:function(G){function H(m){var P=m._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(m){var P=m._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),m._fullLayout._outlining=!1}G.exports={clearOutlineControllers:H,clearOutline:e}},65152:function(G,H,e){var m=e(85448),P=e(3400),s=e(54460);H.rangeToShapePosition=function(S){return S.type==="log"?S.r2d:function(v){return v}},H.shapePositionToRange=function(S){return S.type==="log"?S.d2r:function(v){return v}},H.decodeDate=function(S){return function(v){return v.replace&&(v=v.replace("_"," ")),S(v)}},H.encodeDate=function(S){return function(v){return S(v).replace(" ","_")}},H.extractPathCoords=function(S,v,p){var r=[],t=S.match(m.segmentRE);return t.forEach(function(i){var n=v[i.charAt(0)].drawn;if(n!==void 0){var f=i.substr(1).match(m.paramRE);if(!(!f||f.length<n)){var u=f[n],l=p?u:P.cleanNumber(u);r.push(l)}}}),r},H.getDataToPixel=function(S,v,p,r){var t=S._fullLayout._size,i;if(v)if(r==="domain")i=function(f){return v._length*(p?1-f:f)+v._offset};else{var n=H.shapePositionToRange(v);i=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(i=H.decodeDate(i))}else p?i=function(f){return t.t+t.h*(1-f)}:i=function(f){return t.l+t.w*f};return i},H.getPixelToData=function(S,v,p,r){var t=S._fullLayout._size,i;if(v)if(r==="domain")i=function(f){var u=(f-v._offset)/v._length;return p?1-u:u};else{var n=H.rangeToShapePosition(v);i=function(f){return n(v.p2r(f-v._offset))}}else p?i=function(f){return 1-(f-t.t)/t.h}:i=function(f){return(f-t.l)/t.w};return i},H.roundPositionForSharpStrokeRendering=function(S,v){var p=Math.round(v%2)===1,r=Math.round(S);return p?r+.5:r},H.makeShapesOptionsAndPlotinfo=function(S,v){var p=S._fullLayout.shapes[v]||{},r=S._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=S._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=S._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},H.makeSelectionsOptionsAndPlotinfo=function(S,v){var p=S._fullLayout.selections[v]||{},r=S._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=S._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=S._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},H.getPathString=function(S,v){var p=v.type,r=s.getRefType(v.xref),t=s.getRefType(v.yref),i=s.getFromId(S,v.xref),n=s.getFromId(S,v.yref),f=S._fullLayout._size,u,l,g,h,T,c,a,d;if(i?r==="domain"?l=function(I){return i._offset+i._length*I}:(u=H.shapePositionToRange(i),l=function(I){return i._offset+i.r2p(u(I,!0))}):l=function(I){return f.l+f.w*I},n?t==="domain"?h=function(I){return n._offset+n._length*(1-I)}:(g=H.shapePositionToRange(n),h=function(I){return n._offset+n.r2p(g(I,!0))}):h=function(I){return f.t+f.h*(1-I)},p==="path")return i&&i.type==="date"&&(l=H.decodeDate(l)),n&&n.type==="date"&&(h=H.decodeDate(h)),L(v,l,h);if(v.xsizemode==="pixel"){var x=l(v.xanchor);T=x+v.x0,c=x+v.x1}else T=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var w=h(v.yanchor);a=w-v.y0,d=w-v.y1}else a=h(v.y0),d=h(v.y1);if(p==="line")return"M"+T+","+a+"L"+c+","+d;if(p==="rect")return"M"+T+","+a+"H"+c+"V"+d+"H"+T+"Z";var C=(T+c)/2,y=(a+d)/2,M=Math.abs(C-T),A=Math.abs(y-a),o="A"+M+","+A,E=C+M+","+y,b=C+","+(y-A);return"M"+E+o+" 0 1,1 "+b+o+" 0 0,1 "+E+"Z"};function L(S,v,p){var r=S.path,t=S.xsizemode,i=S.ysizemode,n=S.xanchor,f=S.yanchor;return r.replace(m.segmentRE,function(u){var l=0,g=u.charAt(0),h=m.paramIsX[g],T=m.paramIsY[g],c=m.numParams[g],a=u.substr(1).replace(m.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):T[l]&&(i==="pixel"?d=p(f)-Number(d):d=p(d)),l++,l>c&&(d="X"),d});return l>c&&(a=a.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+u)),g+a})}},41592:function(G,H,e){var m=e(4016);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:m.draw,drawOne:m.drawOne}},97728:function(G){function H(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function m(u){return u.x0}function P(u){return u.x1}function s(u){return u.y0}function L(u){return u.y1}function S(u,l){return H(u.x1,l)-H(u.x0,l)}function v(u,l,g){return H(u.y1,g)-H(u.y0,g)}function p(u,l){return Math.abs(S(u,l))}function r(u,l,g){return Math.abs(v(u,l,g))}function t(u,l,g){return u.type!=="line"?void 0:Math.sqrt(Math.pow(S(u,l),2)+Math.pow(v(u,l,g),2))}function i(u,l){return e((H(u.x1,l)+H(u.x0,l))/2,l)}function n(u,l,g){return e((H(u.y1,g)+H(u.y0,g))/2,g)}function f(u,l,g){return u.type!=="line"?void 0:v(u,l,g)/S(u,l)}G.exports={x0:m,x1:P,y0:s,y1:L,slope:f,dx:S,dy:v,width:p,height:r,length:t,xcenter:i,ycenter:n}},89861:function(G,H,e){var m=e(25376),P=e(66741),s=e(92880).extendDeepAll,L=e(67824).overrideAll,S=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:S.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:m({})},font:m({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(G,H,e){var m=e(3400),P=e(51272),s=e(89861),L=e(60876),S=L.name,v=s.steps;G.exports=function(i,n){P(i,n,{name:S,handleItemDefaults:p})};function p(t,i,n){function f(d,x){return m.coerce(t,i,s,d,x)}for(var u=P(t,i,{name:"steps",handleItemDefaults:r}),l=0,g=0;g<u.length;g++)u[g].visible&&l++;var h;if(l<2?h=i.visible=!1:h=f("visible"),!!h){i._stepCount=l;var T=i._visibleSteps=m.filterVisible(u),c=f("active");(u[c]||{}).visible||(i.active=T[0]._index),f("x"),f("y"),m.noneOrAll(t,i,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),m.coerceFont(f,"font",n.font);var a=f("currentvalue.visible");a&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),m.coerceFont(f,"currentvalue.font",i.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,i){function n(l,g){return m.coerce(t,i,v,l,g)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=i.visible=!1:f=n("visible"),f){n("method"),n("args");var u=n("label","step-"+i._index);n("value",u),n("execute")}}},79664:function(G,H,e){var m=e(33428),P=e(7316),s=e(76308),L=e(43616),S=e(3400),v=S.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),i=e(84284),n=i.LINE_SPACING,f=i.FROM_TL,u=i.FROM_BR;G.exports=function(O){var F=O._context.staticPlot,z=O._fullLayout,B=g(z,O),W=z._infolayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",F?null:"ew-resize");function J($){$._commandObserver&&($._commandObserver.remove(),delete $._commandObserver),P.autoMargin(O,l($))}if(W.exit().each(function(){m.select(this).selectAll("g."+t.groupClassName).each(J)}).remove(),B.length!==0){var re=W.selectAll("g."+t.groupClassName).data(B,h);re.enter().append("g").classed(t.groupClassName,!0),re.exit().each(J).remove();for(var ne=0;ne<B.length;ne++){var le=B[ne];T(O,le)}re.each(function($){var K=m.select(this);o($),P.manageCommandObserver(O,$,$._visibleSteps,function(ie){var Y=K.data()[0];Y.active!==ie.index&&(Y._dragging||y(O,K,Y,ie.index,!1,!0))}),c(O,m.select(this),$)})}};function l(k){return t.autoMarginIdRoot+k._index}function g(k,O){for(var F=k[t.name],z=[],B=0;B<F.length;B++){var W=F[B];W.visible&&(W._gd=O,z.push(W))}return z}function h(k){return k._index}function T(k,O){var F=L.tester.selectAll("g."+t.labelGroupClass).data(O._visibleSteps);F.enter().append("g").classed(t.labelGroupClass,!0);var z=0,B=0;F.each(function(Q){var oe=m.select(this),X=x(oe,{step:Q},O),j=X.node();if(j){var se=L.bBox(j);B=Math.max(B,se.height),z=Math.max(z,se.width)}}),F.remove();var W=O._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var J=k._fullLayout._size;W.lx=J.l+J.w*O.x,W.ly=J.t+J.h*(1-O.y),O.lenmode==="fraction"?W.outerLength=Math.round(J.w*O.len):W.outerLength=O.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-O.pad.l-O.pad.r);var re=W.inputAreaLength-2*t.stepInset,ne=re/(O._stepCount-1),le=z+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(le/ne)),W.labelHeight=B,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,O.currentvalue.visible){var $=L.tester.append("g");F.each(function(Q){var oe=a($,O,Q.label),X=oe.node()&&L.bBox(oe.node())||{width:0,height:0},j=p.lineCount(oe);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(X.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(X.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,j)}),W.currentValueTotalHeight=W.currentValueHeight+O.currentvalue.offset,$.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+O.ticklen+t.labelOffset+W.labelHeight+O.pad.t+O.pad.b;var K="left";S.isRightAnchor(O)&&(W.lx-=W.outerLength,K="right"),S.isCenterAnchor(O)&&(W.lx-=W.outerLength/2,K="center");var ie="top";S.isBottomAnchor(O)&&(W.ly-=W.height,ie="bottom"),S.isMiddleAnchor(O)&&(W.ly-=W.height/2,ie="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var Y={y:O.y,b:W.height*u[ie],t:W.height*f[ie]};O.lenmode==="fraction"?(Y.l=0,Y.xl=O.x-O.len*f[K],Y.r=0,Y.xr=O.x+O.len*u[K]):(Y.x=O.x,Y.l=W.outerLength*f[K],Y.r=W.outerLength*u[K]),P.autoMargin(k,l(O),Y)}function c(k,O,F){(F.steps[F.active]||{}).visible||(F.active=F._visibleSteps[0]._index),O.call(a,F).call(N,F).call(w,F).call(A,F).call(D,k,F).call(d,k,F);var z=F._dims;L.setTranslate(O,z.lx+F.pad.l,z.ly+F.pad.t),O.call(E,F,!1),O.call(a,F)}function a(k,O,F){if(O.currentvalue.visible){var z=O._dims,B,W;switch(O.currentvalue.xanchor){case"right":B=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,W="left";break;case"center":B=z.inputAreaLength*.5,W="middle";break;default:B=t.currentValueInset,W="left"}var J=S.ensureSingle(k,"text",t.labelClass,function(ie){ie.attr({"text-anchor":W,"data-notex":1})}),re=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof F=="string")re+=F;else{var ne=O.steps[O.active].label,le=O._gd._fullLayout._meta;le&&(ne=S.templateString(ne,le)),re+=ne}O.currentvalue.suffix&&(re+=O.currentvalue.suffix),J.call(L.font,O.currentvalue.font).text(re).call(p.convertToTspans,O._gd);var $=p.lineCount(J),K=(z.currentValueMaxLines+1-$)*O.currentvalue.font.size*n;return p.positionText(J,B,K),J}}function d(k,O,F){var z=S.ensureSingle(k,"rect",t.gripRectClass,function(B){B.call(M,O,k,F).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(s.stroke,F.bordercolor).call(s.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function x(k,O,F){var z=S.ensureSingle(k,"text",t.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),B=O.step.label,W=F._gd._fullLayout._meta;return W&&(B=S.templateString(B,W)),z.call(L.font,F.font).text(B).call(p.convertToTspans,F._gd),z}function w(k,O){var F=S.ensureSingle(k,"g",t.labelsClass),z=O._dims,B=F.selectAll("g."+t.labelGroupClass).data(z.labelSteps);B.enter().append("g").classed(t.labelGroupClass,!0),B.exit().remove(),B.each(function(W){var J=m.select(this);J.call(x,W,O),L.setTranslate(J,b(O,W.fraction),t.tickOffset+O.ticklen+O.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function C(k,O,F,z,B){var W=Math.round(z*(F._stepCount-1)),J=F._visibleSteps[W]._index;J!==F.active&&y(k,O,F,J,!0,B)}function y(k,O,F,z,B,W){var J=F.active;F.active=z,r(k.layout,t.name,F).applyUpdate("active",z);var re=F.steps[F.active];O.call(E,F,W),O.call(a,F),k.emit("plotly_sliderchange",{slider:F,step:F.steps[F.active],interaction:B,previousActive:J}),re&&re.method&&B&&(O._nextMethod?(O._nextMethod.step=re,O._nextMethod.doCallback=B,O._nextMethod.doTransition=W):(O._nextMethod={step:re,doCallback:B,doTransition:W},O._nextMethodRaf=window.requestAnimationFrame(function(){var ne=O._nextMethod.step;ne.method&&(ne.execute&&P.executeAPICommand(k,ne.method,ne.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function M(k,O,F){if(O._context.staticPlot)return;var z=F.node(),B=m.select(O);function W(){return F.data()[0]}function J(){var re=W();O.emit("plotly_sliderstart",{slider:re});var ne=F.select("."+t.gripRectClass);m.event.stopPropagation(),m.event.preventDefault(),ne.call(s.fill,re.activebgcolor);var le=I(re,m.mouse(z)[0]);C(O,F,re,le,!0),re._dragging=!0;function $(){var ie=W(),Y=I(ie,m.mouse(z)[0]);C(O,F,ie,Y,!1)}B.on("mousemove",$),B.on("touchmove",$);function K(){var ie=W();ie._dragging=!1,ne.call(s.fill,ie.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),O.emit("plotly_sliderend",{slider:ie,step:ie.steps[ie.active]})}B.on("mouseup",K),B.on("touchend",K)}k.on("mousedown",J),k.on("touchstart",J)}function A(k,O){var F=k.selectAll("rect."+t.tickRectClass).data(O._visibleSteps),z=O._dims;F.enter().append("rect").classed(t.tickRectClass,!0),F.exit().remove(),F.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),F.each(function(B,W){var J=W%z.labelStride===0,re=m.select(this);re.attr({height:J?O.ticklen:O.minorticklen}).call(s.fill,O.tickcolor),L.setTranslate(re,b(O,W/(O._stepCount-1))-.5*O.tickwidth,(J?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function o(k){var O=k._dims;O.labelSteps=[];for(var F=k._stepCount,z=0;z<F;z+=O.labelStride)O.labelSteps.push({fraction:z/(F-1),step:k._visibleSteps[z]})}function E(k,O,F){for(var z=k.select("rect."+t.gripRectClass),B=0,W=0;W<O._stepCount;W++)if(O._visibleSteps[W]._index===O.active){B=W;break}var J=b(O,B/(O._stepCount-1));if(!O._invokingCommand){var re=z;F&&O.transition.duration>0&&(re=re.transition().duration(O.transition.duration).ease(O.transition.easing)),re.attr("transform",v(J-t.gripWidth*.5,O._dims.currentValueTotalHeight))}}function b(k,O){var F=k._dims;return F.inputAreaStart+t.stepInset+(F.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,O))}function I(k,O){var F=k._dims;return Math.min(1,Math.max(0,(O-t.stepInset-F.inputAreaStart)/(F.inputAreaLength-2*t.stepInset-2*F.inputAreaStart)))}function D(k,O,F){var z=F._dims,B=S.ensureSingle(k,"rect",t.railTouchRectClass,function(W){W.call(M,O,k,F).style("pointer-events","all")});B.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+F.ticklen+z.labelHeight)}).call(s.fill,F.bgcolor).attr("opacity",0),L.setTranslate(B,0,z.currentValueTotalHeight)}function N(k,O){var F=O._dims,z=F.inputAreaLength-t.railInset*2,B=S.ensureSingle(k,"rect",t.railRectClass);B.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,O.bordercolor).call(s.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),L.setTranslate(B,t.railInset,(F.inputAreaWidth-t.railWidth)*.5+F.currentValueTotalHeight)}},97544:function(G,H,e){var m=e(60876);G.exports={moduleType:"component",name:m.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(G,H,e){var m=e(33428),P=e(38248),s=e(7316),L=e(24040),S=e(3400),v=S.strTranslate,p=e(43616),r=e(76308),t=e(72736),i=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,g,h){var T=h.propContainer,c=h.propName,a=h.placeholder,d=h.traceIndex,x=h.avoid||{},w=h.attributes,C=h.transform,y=h.containerGroup,M=l._fullLayout,A=1,o=!1,E=T.title,b=(E&&E.text?E.text:"").trim(),I=E&&E.font?E.font:{},D=I.family,N=I.size,k=I.color,O=I.weight,F=I.style,z=I.variant,B=I.textcase,W=I.lineposition,J=I.shadow,re;c==="title.text"?re="titleText":c.indexOf("axis")!==-1?re="axisTitleText":c.indexOf("colorbar"!==-1)&&(re="colorbarTitleText");var ne=l._context.edits[re];b===""?A=0:b.replace(f," % ")===a.replace(f," % ")&&(A=.2,o=!0,ne||(b="")),h._meta?b=S.templateString(b,h._meta):M._meta&&(b=S.templateString(b,M._meta));var le=b||ne,$;y||(y=S.ensureSingle(M._infolayer,"g","g-"+g),$=M._hColorbarMoveTitle);var K=y.selectAll("text").data(le?[0]:[]);if(K.enter().append("text"),K.text(b).attr("class",g),K.exit().remove(),!le)return y;function ie(X){S.syncOrAsync([Y,Q],X)}function Y(X){var j;return!C&&$&&(C={}),C?(j="",C.rotate&&(j+="rotate("+[C.rotate,w.x,w.y]+")"),(C.offset||$)&&(j+=v(0,(C.offset||0)-($||0)))):j=null,X.attr("transform",j),X.style("opacity",A*r.opacity(k)).call(p.font,{color:r.rgb(k),size:m.round(N,2),family:D,weight:O,style:F,variant:z,textcase:B,shadow:J,lineposition:W}).attr(w).call(t.convertToTspans,l),s.previousPromises(l)}function Q(X){var j=m.select(X.node().parentNode);if(x&&x.selection&&x.side&&b){j.attr("transform",null);var se=n[x.side],te=x.side==="left"||x.side==="top"?-1:1,fe=P(x.pad)?x.pad:2,ge=p.bBox(j.node()),be={t:0,b:0,l:0,r:0},xe=l._fullLayout._reservedMargin;for(var _e in xe)for(var De in xe[_e]){var Fe=xe[_e][De];be[De]=Math.max(be[De],Fe)}var Te={left:be.l,top:be.t,right:M.width-be.r,bottom:M.height-be.b},Re=x.maxShift||te*(Te[x.side]-ge[x.side]),Se=0;if(Re<0)Se=Re;else{var Ie=x.offsetLeft||0,Me=x.offsetTop||0;ge.left-=Ie,ge.right-=Ie,ge.top-=Me,ge.bottom-=Me,x.selection.each(function(){var et=p.bBox(this);S.bBoxIntersect(ge,et,fe)&&(Se=Math.max(Se,te*(et[x.side]-ge[se])+fe))}),Se=Math.min(Re,Se),T._titleScoot=Math.abs(Se)}if(Se>0||Re<0){var Ve={left:[-Se,0],right:[Se,0],top:[0,-Se],bottom:[0,Se]}[x.side];j.attr("transform",v(Ve[0],Ve[1]))}}}K.call(ie);function oe(){A=0,o=!0,K.text(a).on("mouseover.opacity",function(){m.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return ne&&(b?K.on(".opacity",null):oe(),K.call(t.makeEditable,{gd:l}).on("edit",function(X){d!==void 0?L.call("_guiRestyle",l,c,X,d):L.call("_guiRelayout",l,c,X)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ie)}).on("input",function(X){this.text(X||" ").call(t.positionText,w.x,w.y)})),K.classed("js-placeholder",o),y}G.exports={draw:u}},88444:function(G,H,e){var m=e(25376),P=e(22548),s=e(92880).extendFlat,L=e(67824).overrideAll,S=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(S({editType:"arraydraw"}),{}),font:m({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(G,H,e){var m=e(3400),P=e(51272),s=e(88444),L=e(73712),S=L.name,v=s.buttons;G.exports=function(i,n){var f={name:S,handleItemDefaults:p};P(i,n,f)};function p(t,i,n){function f(g,h){return m.coerce(t,i,s,g,h)}var u=P(t,i,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);l&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),m.noneOrAll(t,i,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),m.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,i){function n(u,l){return m.coerce(t,i,v,u,l)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(G,H,e){var m=e(33428),P=e(7316),s=e(76308),L=e(43616),S=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),i=e(37400);G.exports=function(I){var D=I._fullLayout,N=S.filterVisible(D[t.name]);function k(ne){P.autoMargin(I,A(ne))}var O=D._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(O.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){m.select(this).selectAll("g."+t.headerGroupClassName).each(k)}).remove(),N.length!==0){var F=O.selectAll("g."+t.headerGroupClassName).data(N,n);F.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=S.ensureSingle(O,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),B=0;B<N.length;B++){var W=N[B];M(I,W)}var J="updatemenus"+D._uid,re=new i(I,z,J);F.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(E)),F.exit().each(function(ne){z.call(E),k(ne)}).remove(),F.each(function(ne){var le=m.select(this),$=ne.type==="dropdown"?z:null;P.manageCommandObserver(I,ne,ne.buttons,function(K){l(I,ne,ne.buttons[K.index],le,$,re,K.index,!0)}),ne.type==="dropdown"?(g(I,le,z,re,ne),u(z,ne)&&h(I,le,z,re,ne)):h(I,le,null,null,ne)})}};function n(b){return b._index}function f(b){return+b.attr(t.menuIndexAttrName)==-1}function u(b,I){return+b.attr(t.menuIndexAttrName)===I._index}function l(b,I,D,N,k,O,F,z){I.active=F,p(b.layout,t.name,I).applyUpdate("active",F),I.type==="buttons"?h(b,N,null,null,I):I.type==="dropdown"&&(k.attr(t.menuIndexAttrName,"-1"),g(b,N,k,O,I),z||h(b,N,k,O,I))}function g(b,I,D,N,k){var O=S.ensureSingle(I,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),F=k._dims,z=k.active,B=k.buttons[z]||t.blankHeaderOpts,W={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},J={width:F.headerWidth,height:F.headerHeight};O.call(a,k,B,b).call(o,k,W,J);var re=S.ensureSingle(I,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(L.font,k.font).text(t.arrowSymbol[k.direction])});re.attr({x:F.headerWidth-t.arrowOffsetX+k.pad.l,y:F.headerHeight/2+t.textOffsetY+k.pad.t}),O.on("click",function(){D.call(E,String(u(D,k)?-1:k._index)),h(b,I,D,N,k)}),O.on("mouseover",function(){O.call(C)}),O.on("mouseout",function(){O.call(y,k)}),L.setTranslate(I,F.lx,F.ly)}function h(b,I,D,N,k){D||(D=I,D.attr("pointer-events","all"));var O=!f(D)||k.type==="buttons"?k.buttons:[],F=k.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=D.selectAll("g."+F).data(S.filterVisible(O)),B=z.enter().append("g").classed(F,!0),W=z.exit();k.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var J=0,re=0,ne=k._dims,le=["up","down"].indexOf(k.direction)!==-1;k.type==="dropdown"&&(le?re=ne.headerHeight+t.gapButtonHeader:J=ne.headerWidth+t.gapButtonHeader),k.type==="dropdown"&&k.direction==="up"&&(re=-t.gapButtonHeader+t.gapButton-ne.openHeight),k.type==="dropdown"&&k.direction==="left"&&(J=-t.gapButtonHeader+t.gapButton-ne.openWidth);var $={x:ne.lx+J+k.pad.l,y:ne.ly+re+k.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},K={l:$.x+k.borderwidth,t:$.y+k.borderwidth};z.each(function(ie,Y){var Q=m.select(this);Q.call(a,k,ie,b).call(o,k,$),Q.on("click",function(){m.event.defaultPrevented||(ie.execute&&(ie.args2&&k.active===Y?(l(b,k,ie,I,D,N,-1),P.executeAPICommand(b,ie.method,ie.args2)):(l(b,k,ie,I,D,N,Y),P.executeAPICommand(b,ie.method,ie.args))),b.emit("plotly_buttonclicked",{menu:k,button:ie,active:k.active}))}),Q.on("mouseover",function(){Q.call(C)}),Q.on("mouseout",function(){Q.call(y,k),z.call(w,k)})}),z.call(w,k),le?(K.w=Math.max(ne.openWidth,ne.headerWidth),K.h=$.y-K.t):(K.w=$.x-K.l,K.h=Math.max(ne.openHeight,ne.headerHeight)),K.direction=k.direction,N&&(z.size()?T(b,I,D,N,k,K):c(N))}function T(b,I,D,N,k,O){var F=k.direction,z=F==="up"||F==="down",B=k._dims,W=k.active,J,re,ne;if(z)for(re=0,ne=0;ne<W;ne++)re+=B.heights[ne]+t.gapButton;else for(J=0,ne=0;ne<W;ne++)J+=B.widths[ne]+t.gapButton;N.enable(O,J,re),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(b){var I=!!b.hbar,D=!!b.vbar;I&&b.hbar.transition().attr("opacity","0").each("end",function(){I=!1,D||b.disable()}),D&&b.vbar.transition().attr("opacity","0").each("end",function(){D=!1,I||b.disable()})}function a(b,I,D,N){b.call(d,I).call(x,I,D,N)}function d(b,I){var D=S.ensureSingle(b,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});D.call(s.stroke,I.bordercolor).call(s.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function x(b,I,D,N){var k=S.ensureSingle(b,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),O=D.label,F=N._fullLayout._meta;F&&(O=S.templateString(O,F)),k.call(L.font,I.font).text(O).call(v.convertToTspans,N)}function w(b,I){var D=I.active;b.each(function(N,k){var O=m.select(this);k===D&&I.showactive&&O.select("rect."+t.itemRectClassName).call(s.fill,t.activeColor)})}function C(b){b.select("rect."+t.itemRectClassName).call(s.fill,t.hoverColor)}function y(b,I){b.select("rect."+t.itemRectClassName).call(s.fill,I.bgcolor)}function M(b,I){var D=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=L.tester.selectAll("g."+t.dropdownButtonClassName).data(S.filterVisible(I.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var k=["up","down"].indexOf(I.direction)!==-1;N.each(function(J,re){var ne=m.select(this);ne.call(a,I,J,b);var le=ne.select("."+t.itemTextClassName),$=le.node()&&L.bBox(le.node()).width,K=Math.max($+t.textPadX,t.minWidth),ie=I.font.size*r,Y=v.lineCount(le),Q=Math.max(ie*Y,t.minHeight)+t.textOffsetY;Q=Math.ceil(Q),K=Math.ceil(K),D.widths[re]=K,D.heights[re]=Q,D.height1=Math.max(D.height1,Q),D.width1=Math.max(D.width1,K),k?(D.totalWidth=Math.max(D.totalWidth,K),D.openWidth=D.totalWidth,D.totalHeight+=Q+t.gapButton,D.openHeight+=Q+t.gapButton):(D.totalWidth+=K+t.gapButton,D.openWidth+=K+t.gapButton,D.totalHeight=Math.max(D.totalHeight,Q),D.openHeight=D.totalHeight)}),k?D.totalHeight-=t.gapButton:D.totalWidth-=t.gapButton,D.headerWidth=D.width1+t.arrowPadX,D.headerHeight=D.height1,I.type==="dropdown"&&(k?(D.width1+=t.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=t.arrowPadX),N.remove();var O=D.totalWidth+I.pad.l+I.pad.r,F=D.totalHeight+I.pad.t+I.pad.b,z=b._fullLayout._size;D.lx=z.l+z.w*I.x,D.ly=z.t+z.h*(1-I.y);var B="left";S.isRightAnchor(I)&&(D.lx-=O,B="right"),S.isCenterAnchor(I)&&(D.lx-=O/2,B="center");var W="top";S.isBottomAnchor(I)&&(D.ly-=F,W="bottom"),S.isMiddleAnchor(I)&&(D.ly-=F/2,W="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),P.autoMargin(b,A(I),{x:I.x,y:I.y,l:O*({right:1,center:.5}[B]||0),r:O*({left:1,center:.5}[B]||0),b:F*({top:1,middle:.5}[W]||0),t:F*({bottom:1,middle:.5}[W]||0)})}function A(b){return t.autoMarginIdRoot+b._index}function o(b,I,D,N){N=N||{};var k=b.select("."+t.itemRectClassName),O=b.select("."+t.itemTextClassName),F=I.borderwidth,z=D.index,B=I._dims;L.setTranslate(b,F+D.x,F+D.y);var W=["up","down"].indexOf(I.direction)!==-1,J=N.height||(W?B.heights[z]:B.height1);k.attr({x:0,y:0,width:N.width||(W?B.width1:B.widths[z]),height:J});var re=I.font.size*r,ne=v.lineCount(O),le=(ne-1)*re/2;v.positionText(O,t.textOffsetX,J/2-le+t.textOffsetY),W?D.y+=B.heights[z]+D.yPad:D.x+=B.widths[z]+D.xPad,D.index++}function E(b,I){b.attr(t.menuIndexAttrName,I||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(G,H,e){var m=e(73712);G.exports={moduleType:"component",name:m.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(G,H,e){G.exports=S;var m=e(33428),P=e(76308),s=e(43616),L=e(3400);function S(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}S.barWidth=2,S.barLength=20,S.barRadius=2,S.barPad=1,S.barColor="#808BA4",S.prototype.enable=function(p,r,t){var i=this.gd._fullLayout,n=i.width,f=i.height;this.position=p;var u=this.position.l,l=this.position.w,g=this.position.t,h=this.position.h,T=this.position.direction,c=T==="down",a=T==="left",d=T==="right",x=T==="up",w=l,C=h,y,M,A,o;!c&&!a&&!d&&!x&&(this.position.direction="down",c=!0);var E=c||x;E?(y=u,M=y+w,c?(A=g,o=Math.min(A+C,f),C=o-A):(o=g+C,A=Math.max(o-C,0),C=o-A)):(A=g,o=A+C,a?(M=u+w,y=Math.max(M-w,0),w=M-y):(y=u,M=Math.min(y+w,n),w=M-y)),this._box={l:y,t:A,w,h:C};var b=l>w,I=S.barLength+2*S.barPad,D=S.barWidth+2*S.barPad,N=u,k=g+h;k+D>f&&(k=f-D);var O=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,S.barColor),b?(this.hbar=O.attr({rx:S.barRadius,ry:S.barRadius,x:N,y:k,width:I,height:D}),this._hbarXMin=N+I/2,this._hbarTranslateMax=w-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=h>C,z=S.barWidth+2*S.barPad,B=S.barLength+2*S.barPad,W=u+l,J=g;W+z>n&&(W=n-z);var re=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);re.exit().on(".drag",null).remove(),re.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,S.barColor),F?(this.vbar=re.attr({rx:S.barRadius,ry:S.barRadius,x:W,y:J,width:z,height:B}),this._vbarYMin=J+B/2,this._vbarTranslateMax=C-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,le=y-.5,$=F?M+z+.5:M+.5,K=A-.5,ie=b?o+D+.5:o+.5,Y=i._topdefs.selectAll("#"+ne).data(b||F?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ne).append("rect"),b||F?(this._clipRect=Y.select("rect").attr({x:Math.floor(le),y:Math.floor(K),width:Math.ceil($)-Math.floor(le),height:Math.ceil(ie)-Math.floor(K)}),this.container.call(s.setClipUrl,ne,this.gd),this.bg.attr({x:u,y:g,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),b||F){var Q=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var oe=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault(),m.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(oe),F&&this.vbar.on(".drag",null).call(oe)}this.setTranslate(r,t)},S.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},S.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=m.event.dx),this.vbar&&(r-=m.event.dy),this.setTranslate(p,r)},S.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=m.event.deltaY),this.vbar&&(r+=m.event.deltaY),this.setTranslate(p,r)},S.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,i=t+this._hbarTranslateMax,n=L.constrain(m.event.x,t,i),f=(n-t)/(i-t),u=this.position.w-this._box.w;p=f*u}if(this.vbar){var l=r+this._vbarYMin,g=l+this._vbarTranslateMax,h=L.constrain(m.event.y,l,g),T=(h-l)/(g-l),c=this.position.h-this._box.h;r=T*c}this.setTranslate(p,r)},S.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(p=L.constrain(p||0,0,t),r=L.constrain(r||0,0,i),this.translateX=p,this.translateY=r,this.container.call(s.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(s.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/i;this.vbar.call(s.setTranslate,p,r+f*this._vbarTranslateMax)}}},84284:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(G){G.exports={axisRefDescription:function(H,e,m){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+m+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",m,"of the domain of the","second",H,"axis."].join(" ")}}},48164:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(G){G.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(G,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(G,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},64884:function(G,H,e){H.version=e(25788).version,e(88324),e(79288);for(var m=e(24040),P=H.register=m.register,s=e(22448),L=Object.keys(s),S=0;S<L.length;S++){var v=L[S];v.charAt(0)!=="_"&&(H[v]=s[v]),P({moduleType:"apiMethod",name:v,fn:s[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(9224);var p=e(93024),r=e(7316);H.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},H.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},H.Snapshot=e(78904),H.PlotSchema=e(73060)},9224:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(G,H){H.isLeftAnchor=function(m){return m.xanchor==="left"||m.xanchor==="auto"&&m.x<=.3333333333333333},H.isCenterAnchor=function(m){return m.xanchor==="center"||m.xanchor==="auto"&&m.x>.3333333333333333&&m.x<.6666666666666666},H.isRightAnchor=function(m){return m.xanchor==="right"||m.xanchor==="auto"&&m.x>=.6666666666666666},H.isTopAnchor=function(m){return m.yanchor==="top"||m.yanchor==="auto"&&m.y>=.6666666666666666},H.isMiddleAnchor=function(m){return m.yanchor==="middle"||m.yanchor==="auto"&&m.y>.3333333333333333&&m.y<.6666666666666666},H.isBottomAnchor=function(m){return m.yanchor==="bottom"||m.yanchor==="auto"&&m.y<=.3333333333333333}},11864:function(G,H,e){var m=e(20435),P=m.mod,s=m.modHalf,L=Math.PI,S=2*L;function v(T){return T/180*L}function p(T){return T/L*180}function r(T){return Math.abs(T[1]-T[0])>S-1e-14}function t(T,c){return s(c-T,S)}function i(T,c){return Math.abs(t(T,c))}function n(T,c){if(r(c))return!0;var a,d;c[0]<c[1]?(a=c[0],d=c[1]):(a=c[1],d=c[0]),a=P(a,S),d=P(d,S),a>d&&(d+=S);var x=P(T,S),w=x+S;return x>=a&&x<=d||w>=a&&w<=d}function f(T,c,a,d){if(!n(c,d))return!1;var x,w;return a[0]<a[1]?(x=a[0],w=a[1]):(x=a[1],w=a[0]),T>=x&&T<=w}function u(T,c,a,d,x,w,C){x=x||0,w=w||0;var y=r([a,d]),M,A,o,E,b;y?(M=0,A=L,o=S):a<d?(M=a,o=d):(M=d,o=a),T<c?(E=T,b=c):(E=c,b=T);function I(O,F){return[O*Math.cos(F)+x,w-O*Math.sin(F)]}var D=Math.abs(o-M)<=L?0:1;function N(O,F,z){return"A"+[O,O]+" "+[0,D,z]+" "+I(O,F)}var k;return y?E===null?k="M"+I(b,M)+N(b,A,0)+N(b,o,0)+"Z":k="M"+I(E,M)+N(E,A,0)+N(E,o,0)+"ZM"+I(b,M)+N(b,A,1)+N(b,o,1)+"Z":E===null?(k="M"+I(b,M)+N(b,o,0),C&&(k+="L0,0Z")):k="M"+I(E,M)+"L"+I(b,M)+N(b,o,0)+"L"+I(E,o)+N(E,M,1)+"Z",k}function l(T,c,a,d,x){return u(null,T,c,a,d,x,0)}function g(T,c,a,d,x){return u(null,T,c,a,d,x,1)}function h(T,c,a,d,x,w){return u(T,c,a,d,x,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:l,pathSector:g,pathAnnulus:h}},38116:function(G,H,e){var m=e(83160).decode,P=e(63620),s=Array.isArray,L=ArrayBuffer,S=DataView;function v(u){return L.isView(u)&&!(u instanceof S)}H.isTypedArray=v;function p(u){return s(u)||v(u)}H.isArrayOrTypedArray=p;function r(u){return!p(u[0])}H.isArray1D=r,H.ensureArray=function(u,l){return s(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(u){return u.constructor===ArrayBuffer}H.isArrayBuffer=i,H.decodeTypedArraySpec=function(u){var l=[],g=n(u),h=g.dtype,T=t[h];if(!T)throw new Error('Error in dtype: "'+h+'"');var c=T.BYTES_PER_ELEMENT,a=g.bdata;i(a)||(a=m(a));var d=g.shape===void 0?[a.byteLength/c]:(""+g.shape).split(",");d.reverse();var x=d.length,w,C,y=+d[0],M=c*y,A=0;if(x===1)l=new T(a);else if(x===2)for(w=+d[1],C=0;C<w;C++)l[C]=new T(a,A,y),A+=M;else if(x===3){w=+d[1];for(var o=+d[2],E=0;E<o;E++)for(l[E]=[],C=0;C<w;C++)l[E][C]=new T(a,A,y),A+=M}else throw new Error("ndim: "+x+'is not supported with the shape:"'+g.shape+'"');return l.bdata=g.bdata,l.dtype=g.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},H.isTypedArraySpec=function(u){return P(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||i(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}H.concat=function(){var u=[],l=!0,g=0,h,T,c,a,d,x,w,C;for(c=0;c<arguments.length;c++)a=arguments[c],x=a.length,x&&(T?u.push(a):(T=a,d=x),s(a)?h=!1:(l=!1,g?h!==a.constructor&&(h=!1):h=a.constructor),g+=x);if(!g)return[];if(!u.length)return T;if(l)return T.concat.apply(T,u);if(h){for(w=new h(g),w.set(T),c=0;c<u.length;c++)a=u[c],w.set(a,d),d+=a.length;return w}for(w=new Array(g),C=0;C<T.length;C++)w[C]=T[C];for(c=0;c<u.length;c++){for(a=u[c],C=0;C<a.length;C++)w[d+C]=a[C];d+=C}return w},H.maxRowLength=function(u){return f(u,Math.max,0)},H.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,g){if(p(u))if(p(u[0])){for(var h=g,T=0;T<u.length;T++)h=l(h,u[T].length);return h}else return u.length;return 0}},54037:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(S){return typeof S=="string"&&(S=S.replace(s,"")),m(S)?Number(S):P}},73696:function(G){G.exports=function(e){var m=e._fullLayout;m._glcanvas&&m._glcanvas.size()&&m._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(G,H,e){var m=e(38248),P=e(49760),s=e(92880).extendFlat,L=e(45464),S=e(88304),v=e(76308),p=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,i=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,f=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;H.valObjectMeta={data_array:{coerceFunction:function(g,h,T){h.set(n(g)?g:f(g)?u(g):T)}},enumerated:{coerceFunction:function(g,h,T,c){c.coerceNumber&&(g=+g),c.values.indexOf(g)===-1?h.set(T):h.set(g)},validateFunction:function(g,h){h.coerceNumber&&(g=+g);for(var T=h.values,c=0;c<T.length;c++){var a=String(T[c]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var d=new RegExp(a.substr(1,a.length-2));if(d.test(g))return!0}else if(g===T[c])return!0}return!1}},boolean:{coerceFunction:function(g,h,T){g===!0||g===!1?h.set(g):h.set(T)}},number:{coerceFunction:function(g,h,T,c){f(g)&&(g=u(g)),!m(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(T):h.set(+g)}},integer:{coerceFunction:function(g,h,T,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}f(g)&&(g=u(g)),g%1||!m(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(T):h.set(+g)}},string:{coerceFunction:function(g,h,T,c){if(typeof g!="string"){var a=typeof g=="number";c.strict===!0||!a?h.set(T):h.set(String(g))}else c.noBlank&&!g?h.set(T):h.set(g)}},color:{coerceFunction:function(g,h,T){f(g)&&(g=u(g)),P(g).isValid()?h.set(g):h.set(T)}},colorlist:{coerceFunction:function(g,h,T){function c(a){return P(a).isValid()}!Array.isArray(g)||!g.length?h.set(T):g.every(c)?h.set(g):h.set(T)}},colorscale:{coerceFunction:function(g,h,T){h.set(S.get(g,T))}},angle:{coerceFunction:function(g,h,T){f(g)&&(g=u(g)),g==="auto"?h.set("auto"):m(g)?h.set(i(+g,360)):h.set(T)}},subplotid:{coerceFunction:function(g,h,T,c){var a=c.regex||t(T);if(typeof g=="string"&&a.test(g)){h.set(g);return}h.set(T)},validateFunction:function(g,h){var T=h.dflt;return g===T?!0:typeof g!="string"?!1:!!t(T).test(g)}},flaglist:{coerceFunction:function(g,h,T,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}if(typeof g!="string"){h.set(T);return}for(var a=g.split("+"),d=0;d<a.length;){var x=a[d];c.flags.indexOf(x)===-1||a.indexOf(x)<d?a.splice(d,1):d++}a.length?h.set(a.join("+")):h.set(T)}},any:{coerceFunction:function(g,h,T){g===void 0?h.set(T):h.set(f(g)?u(g):g)}},info_array:{coerceFunction:function(g,h,T,c){function a(k,O,F){var z,B={set:function(W){z=W}};return F===void 0&&(F=O.dflt),H.valObjectMeta[O.valType].coerceFunction(k,B,F,O),z}if(f(g)&&(g=u(g)),!n(g)){h.set(T);return}var d=c.dimensions===2||c.dimensions==="1-2"&&Array.isArray(g)&&n(g[0]),x=c.items,w=[],C=Array.isArray(x),y=C&&d&&n(x[0]),M=d&&C&&!y,A=C&&!M?x.length:g.length,o,E,b,I,D,N;if(T=Array.isArray(T)?T:[],d)for(o=0;o<A;o++)for(w[o]=[],b=n(g[o])?g[o]:[],M?D=x.length:C?D=x[o].length:D=b.length,E=0;E<D;E++)M?I=x[E]:C?I=x[o][E]:I=x,N=a(b[E],I,(T[o]||[])[E]),N!==void 0&&(w[o][E]=N);else for(o=0;o<A;o++)N=a(g[o],C?x[o]:x,T[o]),N!==void 0&&(w[o]=N);h.set(w)},validateFunction:function(g,h){if(!n(g))return!1;var T=h.items,c=Array.isArray(T),a=h.dimensions===2;if(!h.freeLength&&g.length!==T.length)return!1;for(var d=0;d<g.length;d++)if(a){if(!n(g[d])||!h.freeLength&&g[d].length!==T[d].length)return!1;for(var x=0;x<g[d].length;x++)if(!l(g[d][x],c?T[d][x]:T))return!1}else if(!l(g[d],c?T[d]:T))return!1;return!0}}},H.coerce=function(g,h,T,c,a){var d=r(T,c).get(),x=r(g,c),w=r(h,c),C=x.get(),y=h._template;if(C===void 0&&y&&(C=r(y,c).get(),y=0),a===void 0&&(a=d.dflt),d.arrayOk){if(n(C))return w.set(C),C;if(f(C))return C=u(C),w.set(C),C}var M=H.valObjectMeta[d.valType].coerceFunction;M(C,w,a,d);var A=w.get();return y&&A===a&&!l(C,d)&&(C=r(y,c).get(),M(C,w,a,d),A=w.get()),A},H.coerce2=function(g,h,T,c,a){var d=r(g,c),x=H.coerce(g,h,T,c,a),w=d.get();return w!=null?x:!1},H.coerceFont=function(g,h,T,c){c||(c={}),T=s({},T),T=s(T,c.overrideDflt||{});var a={family:g(h+".family",T.family),size:g(h+".size",T.size),color:g(h+".color",T.color),weight:g(h+".weight",T.weight),style:g(h+".style",T.style)};if(c.noFontVariant||(a.variant=g(h+".variant",T.variant)),c.noFontLineposition||(a.lineposition=g(h+".lineposition",T.lineposition)),c.noFontTextcase||(a.textcase=g(h+".textcase",T.textcase)),!c.noFontShadow){var d=T.shadow;d==="none"&&c.autoShadowDflt&&(d="auto"),a.shadow=g(h+".shadow",d)}return a},H.coercePattern=function(g,h,T,c){var a=g(h+".shape");if(a){g(h+".solidity"),g(h+".size");var d=g(h+".fillmode"),x=d==="overlay";if(!c){var w=g(h+".bgcolor",x?T:void 0);g(h+".fgcolor",x?v.contrast(w):T)}g(h+".fgopacity",x?.5:1)}},H.coerceHoverinfo=function(g,h,T){var c=h._module.attributes,a=c.hoverinfo?c:L,d=a.hoverinfo,x;if(T._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),x=w.join("+")}return H.coerce(g,h,a,"hoverinfo",x)},H.coerceSelectionMarkerOpacity=function(g,h){if(g.marker){var T=g.marker.opacity;if(T!==void 0){var c,a;!n(T)&&!g.selected&&!g.unselected&&(c=T,a=p*T),h("selected.marker.opacity",c),h("unselected.marker.opacity",a)}}};function l(g,h){var T=H.valObjectMeta[h.valType];if(h.arrayOk&&n(g))return!0;if(T.validateFunction)return T.validateFunction(g,h);var c={},a=c,d={set:function(x){a=x}};return T.coerceFunction(g,d,c,h),a!==c}H.validate=l},67555:function(G,H,e){var m=e(94336).Yn,P=e(38248),s=e(24248),L=e(20435).mod,S=e(39032),v=S.BADNUM,p=S.ONEDAY,r=S.ONEHOUR,t=S.ONEMIN,i=S.ONESEC,n=S.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(k){return k&&f.componentsRegistry.calendars&&typeof k=="string"&&k!=="gregorian"}H.dateTick0=function(k,O){var F=c(k,!!O);if(O<2)return F;var z=H.dateTime2ms(F,k);return z+=p*(O-1),H.ms2DateTime(z,0,k)};function c(k,O){return T(k)?O?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:f.getComponentMethod("calendars","CANONICAL_TICK")[k]:O?"2000-01-02":"2000-01-01"}H.dfltRange=function(k){return T(k)?f.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},H.isJSDate=function(k){return typeof k=="object"&&k!==null&&typeof k.getTime=="function"};var a,d;H.dateTime2ms=function(k,O){if(H.isJSDate(k)){var F=k.getTimezoneOffset()*t,z=(k.getUTCMinutes()-k.getMinutes())*t+(k.getUTCSeconds()-k.getSeconds())*i+(k.getUTCMilliseconds()-k.getMilliseconds());if(z){var B=3*t;F=F-B/2+L(z-F+B/2,B)}return k=Number(k)-F,k>=a&&k<=d?k:v}if(typeof k!="string"&&typeof k!="number")return v;k=String(k);var W=T(O),J=k.charAt(0);W&&(J==="G"||J==="g")&&(k=k.substr(1),O="");var re=W&&O.substr(0,7)==="chinese",ne=k.match(re?g:l);if(!ne)return v;var le=ne[1],$=ne[3]||"1",K=Number(ne[5]||1),ie=Number(ne[7]||0),Y=Number(ne[9]||0),Q=Number(ne[11]||0);if(W){if(le.length===2)return v;le=Number(le);var oe;try{var X=f.getComponentMethod("calendars","getCal")(O);if(re){var j=$.charAt($.length-1)==="i";$=parseInt($,10),oe=X.newDate(le,X.toMonthIndex(le,$,j),K)}else oe=X.newDate(le,Number($),K)}catch{return v}return oe?(oe.toJD()-n)*p+ie*r+Y*t+Q*i:v}le.length===2?le=(Number(le)+2e3-h)%100+h:le=Number(le),$-=1;var se=new Date(Date.UTC(2e3,$,K,ie,Y));return se.setUTCFullYear(le),se.getUTCMonth()!==$||se.getUTCDate()!==K?v:se.getTime()+Q*i},a=H.MIN_MS=H.dateTime2ms("-9999"),d=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(k,O){return H.dateTime2ms(k,O)!==v};function x(k,O){return String(k+Math.pow(10,O)).substr(1)}var w=90*p,C=3*r,y=5*t;H.ms2DateTime=function(k,O,F){if(typeof k!="number"||!(k>=a&&k<=d))return v;O||(O=0);var z=Math.floor(L(k+.05,1)*10),B=Math.round(k-z/10),W,J,re,ne,le,$;if(T(F)){var K=Math.floor(B/p)+n,ie=Math.floor(L(k,p));try{W=f.getComponentMethod("calendars","getCal")(F).fromJD(K).formatDate("yyyy-mm-dd")}catch{W=u("G%Y-%m-%d")(new Date(B))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;J=O<w?Math.floor(ie/r):0,re=O<w?Math.floor(ie%r/t):0,ne=O<C?Math.floor(ie%t/i):0,le=O<y?ie%i*10+z:0}else $=new Date(B),W=u("%Y-%m-%d")($),J=O<w?$.getUTCHours():0,re=O<w?$.getUTCMinutes():0,ne=O<C?$.getUTCSeconds():0,le=O<y?$.getUTCMilliseconds()*10+z:0;return M(W,J,re,ne,le)},H.ms2DateTimeLocal=function(k){if(!(k>=a+p&&k<=d-p))return v;var O=Math.floor(L(k+.05,1)*10),F=new Date(Math.round(k-O/10)),z=m("%Y-%m-%d")(F),B=F.getHours(),W=F.getMinutes(),J=F.getSeconds(),re=F.getUTCMilliseconds()*10+O;return M(z,B,W,J,re)};function M(k,O,F,z,B){if((O||F||z||B)&&(k+=" "+x(O,2)+":"+x(F,2),(z||B)&&(k+=":"+x(z,2),B))){for(var W=4;B%10===0;)W-=1,B/=10;k+="."+x(B,W)}return k}H.cleanDate=function(k,O,F){if(k===v)return O;if(H.isJSDate(k)||typeof k=="number"&&isFinite(k)){if(T(F))return s.error("JS Dates and milliseconds are incompatible with world calendars",k),O;if(k=H.ms2DateTimeLocal(+k),!k&&O!==void 0)return O}else if(!H.isDateTime(k,F))return s.error("unrecognized date",k),O;return k};var A=/%\d?f/g,o=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function b(k,O,F,z){k=k.replace(A,function(W){var J=Math.min(+W.charAt(1)||6,6),re=(O/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return re});var B=new Date(Math.floor(O+.05));if(k=k.replace(o,function(){return E[F("%q")(B)]}),T(z))try{k=f.getComponentMethod("calendars","worldCalFmt")(k,O,z)}catch{return"Invalid"}return F(k)(B)}var I=[59,59.9,59.99,59.999,59.9999];function D(k,O){var F=L(k+.05,p),z=x(Math.floor(F/r),2)+":"+x(L(Math.floor(F/t),60),2);if(O!=="M"){P(O)||(O=0);var B=Math.min(L(k/i,60),I[O]),W=(100+B).toFixed(O).substr(1);O>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+W}return z}H.formatDate=function(k,O,F,z,B,W){if(B=T(B)&&B,!O)if(F==="y")O=W.year;else if(F==="m")O=W.month;else if(F==="d")O=W.dayMonth+`
`+W.year;else return D(k,F)+`
`+b(W.dayMonthYear,k,z,B);return b(O,k,z,B)};var N=3*p;H.incrementMonth=function(k,O,F){F=T(F)&&F;var z=L(k,p);if(k=Math.round(k-z),F)try{var B=Math.round(k/p)+n,W=f.getComponentMethod("calendars","getCal")(F),J=W.fromJD(B);return O%12?W.add(J,O,"m"):W.add(J,O/12,"y"),(J.toJD()-n)*p+z}catch{s.error("invalid ms "+k+" in calendar "+F)}var re=new Date(k+N);return re.setUTCMonth(re.getUTCMonth()+O)+z-N},H.findExactDates=function(k,O){for(var F=0,z=0,B=0,W=0,J,re,ne=T(O)&&f.getComponentMethod("calendars","getCal")(O),le=0;le<k.length;le++){if(re=k[le],!P(re)){W++;continue}if(!(re%p))if(ne)try{J=ne.fromJD(re/p+n),J.day()===1?J.month()===1?F++:z++:B++}catch{}else J=new Date(re),J.getUTCDate()===1?J.getUTCMonth()===0?F++:z++:B++}z+=F,B+=z;var $=k.length-W;return{exactYears:F/$,exactMonths:z/$,exactDays:B/$}}},52200:function(G,H,e){var m=e(33428),P=e(24248),s=e(52248),L=e(36524);function S(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=m.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function r(h,T){t("global",h,T)}function t(h,T,c){var a="plotly.js-style-"+h,d=document.getElementById(a);d||(d=document.createElement("style"),d.setAttribute("id",a),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(T+"{"+c+"}",0):x.addRule?x.addRule(T,c,0):P.warn("addStyleRule failed")}function i(h){var T="plotly.js-style-"+h,c=document.getElementById(T);c&&p(c)}function n(h){var T=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(a){var d=f(a);if(d){var x=s.convertCssMatrix(d);c=L.multiply(c,c,x)}}),c}function f(h){var T=window.getComputedStyle(h,null),c=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(a){return+a})}function u(h){for(var T=[];l(h);)T.push(h),h=h.parentNode,typeof ShadowRoot=="function"&&h instanceof ShadowRoot&&(h=h.host);return T}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function g(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}G.exports={getGraphDiv:S,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:g}},95924:function(G,H,e){var m=e(61252).EventEmitter,P={init:function(s){if(s._ev instanceof m)return s;var L=new m,S=new m;return s._ev=L,s._internalEv=S,s.on=L.on.bind(L),s.once=L.once.bind(L),s.removeListener=L.removeListener.bind(L),s.removeAllListeners=L.removeAllListeners.bind(L),s._internalOn=S.on.bind(S),s._internalOnce=S.once.bind(S),s._removeInternalListener=S.removeListener.bind(S),s._removeAllInternalListeners=S.removeAllListeners.bind(S),s.emit=function(v,p){typeof jQuery<"u"&&jQuery(s).trigger(v,p),L.emit(v,p),S.emit(v,p)},s},triggerHandler:function(s,L,S){var v,p;typeof jQuery<"u"&&(v=jQuery(s).triggerHandler(L,S));var r=s._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function i(f){if(f.listener){if(r.removeListener(L,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[S])}else return f.apply(r,[S])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)i(t[n]);return p=i(t[n]),v!==void 0?v:p},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};G.exports=P},92880:function(G,H,e){var m=e(63620),P=Array.isArray;function s(S,v){var p,r;for(p=0;p<S.length;p++){if(r=S[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}H.extendFlat=function(){return L(arguments,!1,!1,!1)},H.extendDeep=function(){return L(arguments,!0,!1,!1)},H.extendDeepAll=function(){return L(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(S,v,p,r){var t=S[0],i=S.length,n,f,u,l,g,h,T;if(i===2&&P(t)&&P(S[1])&&t.length===0){if(T=s(S[1],t),T)return t;t.splice(0,t.length)}for(var c=1;c<i;c++){n=S[c];for(f in n)u=t[f],l=n[f],r&&P(l)?t[f]=l:v&&l&&(m(l)||(g=P(l)))?(g?(g=!1,h=u&&P(u)?u:[]):h=u&&m(u)?u:{},t[f]=L([h,l],v,p,r)):(typeof l<"u"||p)&&(t[f]=l)}return t}},68944:function(G){G.exports=function(e){for(var m={},P=[],s=0,L=0;L<e.length;L++){var S=e[L];m[S]!==1&&(m[S]=1,P[s++]=S)}return P}},43880:function(G){G.exports=function(s){for(var L=m(s)?e:H,S=[],v=0;v<s.length;v++){var p=s[v];L(p)&&S.push(p)}return S};function H(P){return P.visible===!0}function e(P){var s=P[0].trace;return s.visible===!0&&s._length!==0}function m(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(G,H,e){var m=e(33428),P=e(36116),s=e(40440),L=e(77844),S=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),i=e(92065),n=Object.keys(P),f={"ISO-3":v,"USA-states":v,"country names":u};function u(x){for(var w=0;w<n.length;w++){var C=n[w],y=new RegExp(P[C]);if(y.test(x.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+x+"."),!1}function l(x,w,C){if(!w||typeof w!="string")return!1;var y=f[x](w),M,A,o;if(y){if(x==="USA-states")for(M=[],o=0;o<C.length;o++)A=C[o],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&M.push(A);else M=C;for(o=0;o<M.length;o++)if(A=M[o],A.id===y)return A;p.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(x){var w=x.geometry,C=w.coordinates,y=x.id,M=[],A,o,E,b;function I(D){for(var N=0;N<D.length-1;N++)if(D[N][0]>0&&D[N+1][0]<0)return N;return null}switch(y==="RUS"||y==="FJI"?A=function(D){var N;if(I(D)===null)N=D;else for(N=new Array(D.length),b=0;b<D.length;b++)N[b]=[D[b][0]<0?D[b][0]+360:D[b][0],D[b][1]];M.push(i.tester(N))}:y==="ATA"?A=function(D){var N=I(D);if(N===null)return M.push(i.tester(D));var k=new Array(D.length+1),O=0;for(b=0;b<D.length;b++)b>N?k[O++]=[D[b][0]+360,D[b][1]]:b===N?(k[O++]=D[b],k[O++]=[D[b][0],-90]):k[O++]=D[b];var F=i.tester(k);F.pts.pop(),M.push(F)}:A=function(D){M.push(i.tester(D))},w.type){case"MultiPolygon":for(o=0;o<C.length;o++)for(E=0;E<C[o].length;E++)A(C[o][E]);break;case"Polygon":for(o=0;o<C.length;o++)A(C[o]);break}return M}function h(x){var w=x.geojson,C=window.PlotlyGeoAssets||{},y=typeof w=="string"?C[w]:w;return r(y)?y:(p.error("Oops ... something went wrong when fetching "+w),!1)}function T(x){var w=x[0].trace,C=h(w);if(!C)return!1;var y={},M=[],A;for(A=0;A<w._length;A++){var o=x[A];(o.loc||o.loc===0)&&(y[o.loc]=o)}function E(D){var N=t(D,w.featureidkey||"id").get(),k=y[N];if(k){var O=D.geometry;if(O.type==="Polygon"||O.type==="MultiPolygon"){var F={type:"Feature",id:N,geometry:O,properties:{}};F.properties.ct=c(F),k.fIn=D,k.fOut=F,M.push(F)}else p.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[N]}switch(C.type){case"FeatureCollection":var b=C.features;for(A=0;A<b.length;A++)E(b[A]);break;case"Feature":E(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var I in y)p.log(["Location *"+I+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return M}function c(x){var w=x.geometry,C;if(w.type==="MultiPolygon")for(var y=w.coordinates,M=0,A=0;A<y.length;A++){var o={type:"Polygon",coordinates:y[A]},E=s.default(o);E>M&&(M=E,C=o)}else C=w;return L.default(C).geometry.coordinates}function a(x){var w=window.PlotlyGeoAssets||{},C=[];function y(b){return new Promise(function(I,D){m.json(b,function(N,k){if(N){delete w[b];var O=N.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return D(new Error(O))}return w[b]=k,I(k)})})}function M(b){return new Promise(function(I,D){var N=0,k=setInterval(function(){if(w[b]&&w[b]!=="pending")return clearInterval(k),I(w[b]);if(N>100)return clearInterval(k),D("Unexpected error while fetching from "+b);N++},50)})}for(var A=0;A<x.length;A++){var o=x[A][0].trace,E=o.geojson;typeof E=="string"&&(w[E]?w[E]==="pending"&&C.push(M(E)):(w[E]="pending",C.push(y(E))))}return C}function d(x){return S.default(x)}G.exports={locationToFeature:l,feature2polygons:g,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:a,computeBbox:d}},44808:function(G,H,e){var m=e(39032).BADNUM;H.calcTraceToLineCoords=function(P){for(var s=P[0].trace,L=s.connectgaps,S=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==m?v.push(t):!L&&v.length>0&&(S.push(v),v=[])}return v.length>0&&S.push(v),S},H.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},H.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var s=new Array(P.length),L=0;L<P.length;L++)s[L]=[P[L]];return{type:"MultiPolygon",coordinates:s}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(G,H,e){var m=e(20435).mod;H.segmentsIntersect=P;function P(p,r,t,i,n,f,u,l){var g=t-p,h=n-p,T=u-n,c=i-r,a=f-r,d=l-f,x=g*d-T*c;if(x===0)return null;var w=(h*d-T*a)/x,C=(h*c-g*a)/x;return C<0||C>1||w<0||w>1?null:{x:p+g*w,y:r+c*w}}H.segmentDistance=function(r,t,i,n,f,u,l,g){if(P(r,t,i,n,f,u,l,g))return 0;var h=i-r,T=n-t,c=l-f,a=g-u,d=h*h+T*T,x=c*c+a*a,w=Math.min(s(h,T,d,f-r,u-t),s(h,T,d,l-r,g-t),s(c,a,x,r-f,t-u),s(c,a,x,i-f,n-u));return Math.sqrt(w)};function s(p,r,t,i,n){var f=i*p+n*r;if(f<0)return i*i+n*n;if(f>t){var u=i-p,l=n-r;return u*u+l*l}else{var g=i*r-n*p;return g*g/t}}var L,S,v;H.getTextLocation=function(r,t,i,n){if((r!==S||n!==v)&&(L={},S=r,v=n),L[i])return L[i];var f=r.getPointAtLength(m(i-n/2,t)),u=r.getPointAtLength(m(i+n/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),g=r.getPointAtLength(m(i,t)),h=(g.x*4+f.x+u.x)/6,T=(g.y*4+f.y+u.y)/6,c={x:h,y:T,theta:l};return L[i]=c,c},H.clearLocationCache=function(){S=null},H.getVisibleSegment=function(r,t,i){var n=t.left,f=t.right,u=t.top,l=t.bottom,g=0,h=r.getTotalLength(),T=h,c,a;function d(w){var C=r.getPointAtLength(w);w===0?c=C:w===h&&(a=C);var y=C.x<n?n-C.x:C.x>f?C.x-f:0,M=C.y<u?u-C.y:C.y>l?C.y-l:0;return Math.sqrt(y*y+M*M)}for(var x=d(g);x;){if(g+=x+i,g>T)return;x=d(g)}for(x=d(T);x;){if(T-=x+i,g>T)return;x=d(T)}return{min:g,max:T,len:T-g,total:h,isClosed:g===0&&T===h&&Math.abs(c.x-a.x)<.1&&Math.abs(c.y-a.y)<.1}},H.findPointOnPath=function(r,t,i,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,g=r.getPointAtLength(0)[i]>r.getPointAtLength(f)[i]?-1:1,h=0,T=0,c=f,a,d,x;h<l;){if(a=(T+c)/2,d=r.getPointAtLength(a),x=d[i]-t,Math.abs(x)<u)return d;g*x>0?c=a:T=a,h++}return d}},33040:function(G,H,e){var m=e(38248),P=e(49760),s=e(72160),L=e(8932),S=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=s(S),r=1;function t(l,g){var h=l;return h[3]*=g,h}function i(l){if(m(l))return p;var g=s(l);return g.length?g:p}function n(l){return m(l)?l:r}function f(l,g,h){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var c=v(T),a=v(g),d=L.extractOpts(l),x=[],w,C,y,M,A;if(d.colorscale!==void 0?w=L.makeColorScaleFuncFromTrace(l):w=i,c?C=function(E,b){return E[b]===void 0?p:s(w(E[b]))}:C=i,a?y=function(E,b){return E[b]===void 0?r:n(E[b])}:y=n,c||a)for(var o=0;o<h;o++)M=C(T,o),A=y(g,o),x[o]=t(M,A);else x=t(s(T),g);return x}function u(l){var g=L.extractOpts(l),h=g.colorscale;return g.reversescale&&(h=L.flipScale(g.colorscale)),h.map(function(T){var c=T[0],a=P(T[1]),d=a.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:f,parseColorScale:u}},71688:function(G,H,e){var m=e(35536);function P(s){return[s]}G.exports={keyFun:function(s){return s.key},repeat:P,descend:m,wrap:P,unwrap:function(s){return s[0]}}},35536:function(G){G.exports=function(e){return e}},1396:function(G){G.exports=function(e,m){if(!m)return e;var P=1/Math.abs(m),s=P>1?(P*e+P*m)/P:e+m,L=String(s).length;if(L>16){var S=String(m).length,v=String(e).length;if(L>=v+S){var p=parseFloat(s).toPrecision(12);p.indexOf("e+")===-1&&(s=+p)}}return s}},3400:function(G,H,e){var m=e(33428),P=e(94336).E9,s=e(57624).E9,L=e(38248),S=e(39032),v=S.FP_SAFE,p=-v,r=S.BADNUM,t=G.exports={};t.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var i={};t.warnBadFormat=function(Q){var oe=String(Q);i[oe]||(i[oe]=1,t.warn('encountered bad format: "'+oe+'"'))},t.noFormat=function(Q){return String(Q)},t.numberFormat=function(Q){var oe;try{oe=s(t.adjustFormat(Q))}catch{return t.warnBadFormat(Q),t.noFormat}return oe},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var g=e(14952);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var a=e(98308);t.isLeftAnchor=a.isLeftAnchor,t.isCenterAnchor=a.isCenterAnchor,t.isRightAnchor=a.isRightAnchor,t.isTopAnchor=a.isTopAnchor,t.isMiddleAnchor=a.isMiddleAnchor,t.isBottomAnchor=a.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var w=e(24248);t.log=w.log,t.warn=w.warn,t.error=w.error;var C=e(53756);t.counterRegex=C.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var M=e(52200);t.getGraphDiv=M.getGraphDiv,t.isPlotDiv=M.isPlotDiv,t.removeElement=M.removeElement,t.addStyleRule=M.addStyleRule,t.addRelatedStyleRule=M.addRelatedStyleRule,t.deleteRelatedStyleRule=M.deleteRelatedStyleRule,t.getFullTransformMatrix=M.getFullTransformMatrix,t.getElementTransformMatrix=M.getElementTransformMatrix,t.getElementAndAncestors=M.getElementAndAncestors,t.equalDomRects=M.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(oe){return L(oe)?(oe=Number(oe),oe>v||oe<p?r:oe):r},t.isIndex=function(Q,oe){return oe!==void 0&&Q>=oe?!1:L(Q)&&Q>=0&&Q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(Q,oe){for(var X=new Array(oe),j=0;j<oe;j++)X[j]=Q;return X},t.swapAttrs=function(Q,oe,X,j){X||(X="x"),j||(j="y");for(var se=0;se<oe.length;se++){var te=oe[se],fe=t.nestedProperty(Q,te.replace("?",X)),ge=t.nestedProperty(Q,te.replace("?",j)),be=fe.get();fe.set(ge.get()),ge.set(be)}},t.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},t.cancelTransition=function(Q){return Q.transition().duration(0)},t.constrain=function(Q,oe,X){return oe>X?Math.max(X,Math.min(oe,Q)):Math.max(oe,Math.min(X,Q))},t.bBoxIntersect=function(Q,oe,X){return X=X||0,Q.left<=oe.right+X&&oe.left<=Q.right+X&&Q.top<=oe.bottom+X&&oe.top<=Q.bottom+X},t.simpleMap=function(Q,oe,X,j,se){for(var te=Q.length,fe=new Array(te),ge=0;ge<te;ge++)fe[ge]=oe(Q[ge],X,j,se);return fe},t.randstr=function Q(oe,X,j,se){if(j||(j=16),X===void 0&&(X=24),X<=0)return"0";var te=Math.log(Math.pow(2,X))/Math.log(j),fe="",ge,be,xe;for(ge=2;te===1/0;ge*=2)te=Math.log(Math.pow(2,X/ge))/Math.log(j)*ge;var _e=te-Math.floor(te);for(ge=0;ge<Math.floor(te);ge++)xe=Math.floor(Math.random()*j).toString(j),fe=xe+fe;_e&&(be=Math.pow(j,_e),xe=Math.floor(Math.random()*be).toString(j),fe=xe+fe);var De=parseInt(fe,j);return oe&&oe[fe]||De!==1/0&&De>=Math.pow(2,X)?se>10?(t.warn("randstr failed uniqueness"),fe):Q(oe,X,j,(se||0)+1):fe},t.OptionControl=function(Q,oe){Q||(Q={}),oe||(oe="opt");var X={};return X.optionList=[],X._newoption=function(j){j[oe]=Q,X[j.name]=j,X.optionList.push(j)},X["_"+oe]=Q,X},t.smooth=function(Q,oe){if(oe=Math.round(oe)||0,oe<2)return Q;var X=Q.length,j=2*X,se=2*oe-1,te=new Array(se),fe=new Array(X),ge,be,xe,_e;for(ge=0;ge<se;ge++)te[ge]=(1-Math.cos(Math.PI*(ge+1)/oe))/(2*oe);for(ge=0;ge<X;ge++){for(_e=0,be=0;be<se;be++)xe=ge+be+1-oe,xe<-X?xe-=j*Math.round(xe/j):xe>=j&&(xe-=j*Math.floor(xe/j)),xe<0?xe=-1-xe:xe>=X&&(xe=j-1-xe),_e+=Q[xe]*te[be];fe[ge]=_e}return fe},t.syncOrAsync=function(Q,oe,X){var j,se;function te(){return t.syncOrAsync(Q,oe,X)}for(;Q.length;)if(se=Q.splice(0,1)[0],j=se(oe),j&&j.then)return j.then(te);return X&&X(oe)},t.stripTrailingSlash=function(Q){return Q.substr(-1)==="/"?Q.substr(0,Q.length-1):Q},t.noneOrAll=function(Q,oe,X){if(Q){var j=!1,se=!0,te,fe;for(te=0;te<X.length;te++)fe=Q[X[te]],fe!=null?j=!0:se=!1;if(j&&!se)for(te=0;te<X.length;te++)Q[X[te]]=oe[X[te]]}},t.mergeArray=function(Q,oe,X,j){var se=typeof j=="function";if(t.isArrayOrTypedArray(Q))for(var te=Math.min(Q.length,oe.length),fe=0;fe<te;fe++){var ge=Q[fe];oe[fe][X]=se?j(ge):ge}},t.mergeArrayCastPositive=function(Q,oe,X){return t.mergeArray(Q,oe,X,function(j){var se=+j;return isFinite(se)&&se>0?se:0})},t.fillArray=function(Q,oe,X,j){if(j=j||t.identity,t.isArrayOrTypedArray(Q))for(var se=0;se<oe.length;se++)oe[se][X]=j(Q[se])},t.castOption=function(Q,oe,X,j){j=j||t.identity;var se=t.nestedProperty(Q,X).get();return t.isArrayOrTypedArray(se)?Array.isArray(oe)&&t.isArrayOrTypedArray(se[oe[0]])?j(se[oe[0]][oe[1]]):j(se[oe]):se},t.extractOption=function(Q,oe,X,j){if(X in Q)return Q[X];var se=t.nestedProperty(oe,j).get();if(!Array.isArray(se))return se};function A(Q){var oe={};for(var X in Q)for(var j=Q[X],se=0;se<j.length;se++)oe[j[se]]=+X;return oe}t.tagSelected=function(Q,oe,X){var j=oe.selectedpoints,se=oe._indexToPoints,te;se&&(te=A(se));function fe(De){return De!==void 0&&De<Q.length}for(var ge=0;ge<j.length;ge++){var be=j[ge];if(t.isIndex(be)||t.isArrayOrTypedArray(be)&&t.isIndex(be[0])&&t.isIndex(be[1])){var xe=te?te[be]:be,_e=X?X[xe]:xe;fe(_e)&&(Q[_e].selected=1)}}},t.selIndices2selPoints=function(Q){var oe=Q.selectedpoints,X=Q._indexToPoints;if(X){for(var j=A(X),se=[],te=0;te<oe.length;te++){var fe=oe[te];if(t.isIndex(fe)){var ge=j[fe];t.isIndex(ge)&&se.push(ge)}}return se}else return oe},t.getTargetArray=function(Q,oe){var X=oe.target;if(typeof X=="string"&&X){var j=t.nestedProperty(Q,X).get();return t.isArrayOrTypedArray(j)?j:!1}else if(t.isArrayOrTypedArray(X))return X;return!1};function o(Q,oe,X){var j={};typeof oe!="object"&&(oe={});var se=X==="pieLike"?-1:3,te=Object.keys(Q),fe,ge,be;for(fe=0;fe<te.length;fe++)ge=te[fe],be=Q[ge],!(ge.charAt(0)==="_"||typeof be=="function")&&(ge==="module"?j[ge]=be:Array.isArray(be)?ge==="colorscale"||se===-1?j[ge]=be.slice():j[ge]=be.slice(0,se):t.isTypedArray(be)?se===-1?j[ge]=be.subarray():j[ge]=be.subarray(0,se):be&&typeof be=="object"?j[ge]=o(Q[ge],oe[ge],X):j[ge]=be);for(te=Object.keys(oe),fe=0;fe<te.length;fe++)ge=te[fe],be=oe[ge],(typeof be!="object"||!(ge in j)||typeof j[ge]!="object")&&(j[ge]=be);return j}t.minExtend=o,t.titleCase=function(Q){return Q.charAt(0).toUpperCase()+Q.substr(1)},t.containsAny=function(Q,oe){for(var X=0;X<oe.length;X++)if(Q.indexOf(oe[X])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;t.isIOS=function(){return b.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var Q=I.exec(window.navigator.userAgent);if(Q&&Q.length===2){var oe=parseInt(Q[1]);if(!isNaN(oe))return oe}return null},t.isD3Selection=function(Q){return Q instanceof m.selection},t.ensureSingle=function(Q,oe,X,j){var se=Q.select(oe+(X?"."+X:""));if(se.size())return se;var te=Q.append(oe);return X&&te.classed(X,!0),j&&te.call(j),te},t.ensureSingleById=function(Q,oe,X,j){var se=Q.select(oe+"#"+X);if(se.size())return se;var te=Q.append(oe).attr("id",X);return j&&te.call(j),te},t.objectFromPath=function(Q,oe){for(var X=Q.split("."),j,se=j={},te=0;te<X.length;te++){var fe=X[te],ge=null,be=X[te].match(/(.*)\[([0-9]+)\]/);be?(fe=be[1],ge=be[2],j=j[fe]=[],te===X.length-1?j[ge]=oe:j[ge]={},j=j[ge]):(te===X.length-1?j[fe]=oe:j[fe]={},j=j[fe])}return se};var D=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k(Q){return Q.slice(0,2)==="__"}t.expandObjectPaths=function(Q){var oe,X,j,se,te,fe,ge;if(typeof Q=="object"&&!Array.isArray(Q)){for(X in Q)if(Q.hasOwnProperty(X))if(oe=X.match(D)){if(se=Q[X],j=oe[1],k(j))continue;delete Q[X],Q[j]=t.extendDeepNoArrays(Q[j]||{},t.objectFromPath(X,t.expandObjectPaths(se))[j])}else if(oe=X.match(N)){if(se=Q[X],j=oe[1],k(j))continue;if(te=parseInt(oe[2]),delete Q[X],Q[j]=Q[j]||[],oe[3]===".")ge=oe[4],fe=Q[j][te]=Q[j][te]||{},t.extendDeepNoArrays(fe,t.objectFromPath(ge,t.expandObjectPaths(se)));else{if(k(j))continue;Q[j][te]=t.expandObjectPaths(se)}}else{if(k(X))continue;Q[X]=t.expandObjectPaths(Q[X])}}return Q},t.numSeparate=function(Q,oe,X){if(X||(X=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof Q=="number"&&(Q=String(Q));var j=/(\d+)(\d{3})/,se=oe.charAt(0),te=oe.charAt(1),fe=Q.split("."),ge=fe[0],be=fe.length>1?se+fe[1]:"";if(te&&(fe.length>1||ge.length>4||X))for(;j.test(ge);)ge=ge.replace(j,"$1"+te+"$2");return ge+be},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;t.templateString=function(Q,oe){var X={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(j,se){var te;return O.test(se)?te=oe[se]:(X[se]=X[se]||t.nestedProperty(oe,se).get,te=X[se]()),t.isValidTextValue(te)?te:""})};var F={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(F,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(z,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(Q){var oe=Q.match(B);return oe?{key:oe[1],op:oe[2],number:Number(oe[3])}:{key:Q,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply(J,arguments)};var re=/^[:|\|]/;function ne(Q,oe,X){var j=this,se=arguments;oe||(oe={});var te={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(fe,ge,be){var xe=ge==="xother"||ge==="yother",_e=ge==="_xother"||ge==="_yother",De=ge==="_xother_"||ge==="_yother_",Fe=ge==="xother_"||ge==="yother_",Te=xe||_e||Fe||De,Re=ge;(_e||De)&&(Re=Re.substring(1)),(Fe||De)&&(Re=Re.substring(0,Re.length-1));var Se=null,Ie=null;if(j.parseMultDiv){var Me=W(Re);Re=Me.key,Se=Me.op,Ie=Me.number}var Ve;if(Te){if(Ve=oe[Re],Ve===void 0)return""}else{var et,it;for(it=3;it<se.length;it++)if(et=se[it],!!et){if(et.hasOwnProperty(Re)){Ve=et[Re];break}if(O.test(Re)||(Ve=t.nestedProperty(et,Re).get(),Ve=te[Re]||t.nestedProperty(et,Re).get(),Ve&&(te[Re]=Ve)),Ve!==void 0)break}}if(Ve!==void 0&&(Se==="*"&&(Ve*=Ie),Se==="/"&&(Ve/=Ie)),Ve===void 0&&j)return j.count<j.max&&(t.warn("Variable '"+Re+"' in "+j.name+" could not be found!"),Ve=fe),j.count===j.max&&t.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,fe;if(be){var Je;if(be[0]===":"&&(Je=X?X.numberFormat:t.numberFormat,Ve!==""&&(Ve=Je(be.replace(re,""))(Ve))),be[0]==="|"){Je=X?X.timeFormat:P;var Qe=t.dateTime2ms(Ve);Ve=t.formatDate(Qe,be.replace(re,""),!1,Je)}}else{var ct=Re+"Label";oe.hasOwnProperty(ct)&&(Ve=oe[ct])}return Te&&(Ve="("+Ve+")",(_e||De)&&(Ve=" "+Ve),(Fe||De)&&(Ve=Ve+" ")),Ve})}var le=48,$=57;t.subplotSort=function(Q,oe){for(var X=Math.min(Q.length,oe.length)+1,j=0,se=0,te=0;te<X;te++){var fe=Q.charCodeAt(te)||0,ge=oe.charCodeAt(te)||0,be=fe>=le&&fe<=$,xe=ge>=le&&ge<=$;if(be&&(j=10*j+fe-le),xe&&(se=10*se+ge-le),!be||!xe){if(j!==se)return j-se;if(fe!==ge)return fe-ge}}return se-j};var K=2e9;t.seedPseudoRandom=function(){K=2e9},t.pseudoRandom=function(){var Q=K;return K=(69069*K+1)%4294967296,Math.abs(K-Q)<429496729?t.pseudoRandom():K/4294967296},t.fillText=function(Q,oe,X){var j=Array.isArray(X)?function(fe){X.push(fe)}:function(fe){X.text=fe},se=t.extractOption(Q,oe,"htx","hovertext");if(t.isValidTextValue(se))return j(se);var te=t.extractOption(Q,oe,"tx","text");if(t.isValidTextValue(te))return j(te)},t.isValidTextValue=function(Q){return Q||Q===0},t.formatPercent=function(Q,oe){oe=oe||0;for(var X=(Math.round(100*Q*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",j=0;j<oe;j++)X.indexOf(".")!==-1&&(X=X.replace("0%","%"),X=X.replace(".%","%"));return X},t.isHidden=function(Q){var oe=window.getComputedStyle(Q).display;return!oe||oe==="none"},t.strTranslate=function(Q,oe){return Q||oe?"translate("+Q+","+oe+")":""},t.strRotate=function(Q){return Q?"rotate("+Q+")":""},t.strScale=function(Q){return Q!==1?"scale("+Q+")":""},t.getTextTransform=function(Q){var oe=Q.noCenter,X=Q.textX,j=Q.textY,se=Q.targetX,te=Q.targetY,fe=Q.anchorX||0,ge=Q.anchorY||0,be=Q.rotate,xe=Q.scale;return xe?xe>1&&(xe=1):xe=0,t.strTranslate(se-xe*(X+fe),te-xe*(j+ge))+t.strScale(xe)+(be?"rotate("+be+(oe?"":" "+X+" "+j)+")":"")},t.setTransormAndDisplay=function(Q,oe){Q.attr("transform",t.getTextTransform(oe)),Q.style("display",oe.scale?null:"none")},t.ensureUniformFontSize=function(Q,oe){var X=t.extendFlat({},oe);return X.size=Math.max(oe.size,Q._fullLayout.uniformtext.minsize||0),X},t.join2=function(Q,oe,X){var j=Q.length;return j>1?Q.slice(0,-1).join(oe)+X+Q[j-1]:Q.join(oe)},t.bigFont=function(Q){return Math.round(1.2*Q)};var ie=t.getFirefoxVersion(),Y=ie!==null&&ie<86;t.getPositionFromD3Event=function(){return Y?[m.event.layerX,m.event.layerY]:[m.event.offsetX,m.event.offsetY]}},63620:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(G,H,e){var m=e(22296),P=/^\w*$/,s=0,L=1,S=2,v=3,p=4;G.exports=function(t,i,n,f){n=n||"name",f=f||"value";var u,l,g,h={};i&&i.length?(g=m(t,i),l=g.get()):l=t,i=i||"";var T={};if(l)for(u=0;u<l.length;u++)T[l[u][n]]=u;var c=P.test(f),a={set:function(d,x){var w=x===null?p:s;if(!l){if(!g||w===p)return;l=[],g.set(l)}var C=T[d];if(C===void 0){if(w===p)return;w=w|v,C=l.length,T[d]=C}else x!==(c?l[C][f]:m(l[C],f).get())&&(w=w|S);var y=l[C]=l[C]||{};return y[n]=d,c?y[f]=x:m(y,f).set(x),x!==null&&(w=w&~p),h[C]=h[C]|w,a},get:function(d){if(l){var x=T[d];if(x!==void 0)return c?l[x][f]:m(l[x],f).get()}},rename:function(d,x){var w=T[d];return w===void 0||(h[w]=h[w]|L,T[x]=w,delete T[d],l[w][n]=x),a},remove:function(d){var x=T[d];if(x===void 0)return a;var w=l[x];if(Object.keys(w).length>2)return h[x]=h[x]|S,a.set(d,null);if(c){for(u=x;u<l.length;u++)h[u]=h[u]|v;for(u=x;u<l.length;u++)T[l[u][n]]--;l.splice(x,1),delete T[d]}else m(w,f).set(null),h[x]=h[x]|S|p;return a},constructUpdate:function(){for(var d,x,w={},C=Object.keys(h),y=0;y<C.length;y++)x=C[y],d=i+"["+x+"]",l[x]?(h[x]&L&&(w[d+"."+n]=l[x][n]),h[x]&S&&(c?w[d+"."+f]=h[x]&p?null:l[x][f]:w[d+"."+f]=h[x]&p?null:m(l[x],f).get())):w[d]=null;return w}};return a}},98356:function(G,H,e){var m=e(24040);G.exports=function(s,L){for(var S=s._context.locale,v=0;v<2;v++){for(var p=s._context.locales,r=0;r<2;r++){var t=(p[S]||{}).dictionary;if(t){var i=t[L];if(i)return i}p=m.localeRegistry}var n=S.split("-")[0];if(n===S)break;S=n}return L}},24248:function(G,H,e){var m=e(20556).dfltConfig,P=e(41792),s=G.exports={};s.log=function(){var L;if(m.logging>1){var S=["LOG:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.trace.apply(console,S)}if(m.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},s.warn=function(){var L;if(m.logging>0){var S=["WARN:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.trace.apply(console,S)}if(m.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},s.error=function(){var L;if(m.logging>0){var S=["ERROR:"];for(L=0;L<arguments.length;L++)S.push(arguments[L]);console.error.apply(console,S)}if(m.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},30988:function(G,H,e){var m=e(33428);G.exports=function(s,L,S){var v=s.selectAll("g."+S.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",S),v.order();var p=s.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=m.select(this)}),v}},52248:function(G,H,e){var m=e(36524);H.init2dArray=function(P,s){for(var L=new Array(P),S=0;S<P;S++)L[S]=new Array(s);return L},H.transposeRagged=function(P){var s=0,L=P.length,S,v;for(S=0;S<L;S++)s=Math.max(s,P[S].length);var p=new Array(s);for(S=0;S<s;S++)for(p[S]=new Array(L),v=0;v<L;v++)p[S][v]=P[v][S];return p},H.dot=function(P,s){if(!(P.length&&s.length)||P.length!==s.length)return null;var L=P.length,S,v;if(P[0].length)for(S=new Array(L),v=0;v<L;v++)S[v]=H.dot(P[v],s);else if(s[0].length){var p=H.transposeRagged(s);for(S=new Array(p.length),v=0;v<p.length;v++)S[v]=H.dot(P,p[v])}else for(S=0,v=0;v<L;v++)S+=P[v]*s[v];return S},H.translationMatrix=function(P,s){return[[1,0,P],[0,1,s],[0,0,1]]},H.rotationMatrix=function(P){var s=P*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},H.rotationXYMatrix=function(P,s,L){return H.dot(H.dot(H.translationMatrix(s,L),H.rotationMatrix(P)),H.translationMatrix(-s,-L))},H.apply3DTransform=function(P){return function(){var s=arguments,L=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return H.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},H.apply2DTransform=function(P){return function(){var s=arguments;s.length===3&&(s=s[0]);var L=arguments.length===1?s[0]:[s[0],s[1]];return H.dot(P,[L[0],L[1],1]).slice(0,2)}},H.apply2DTransform2=function(P){var s=H.apply2DTransform(P);return function(L){return s(L.slice(0,2)).concat(s(L.slice(2,4)))}},H.convertCssMatrix=function(P){if(P){var s=P.length;if(s===16)return P;if(s===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(P){var s=[];return m.invert(s,P),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},20435:function(G){function H(m,P){var s=m%P;return s<0?s+P:s}function e(m,P){return Math.abs(m)>P/2?m-Math.round(m/P)*P:m}G.exports={mod:H,modHalf:e}},22296:function(G,H,e){var m=e(38248),P=e(38116).isArrayOrTypedArray;G.exports=function(f,u){if(m(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),g,h,T,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(g=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])l[c]=g[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=g[2].substr(1,g[2].length-2).split("]["),T=0;T<h.length;T++)c++,l.splice(c,0,Number(h[T]))}c++}return typeof f!="object"?i(f,u,l):{set:v(f,l,u),get:s(f,l),astr:u,parts:l,obj:f}};function s(n,f){return function(){var u=n,l,g,h,T,c;for(T=0;T<f.length-1;T++){if(l=f[T],l===-1){for(g=!0,h=[],c=0;c<u.length;c++)h[c]=s(u[c],f.slice(T+1))(),h[c]!==h[0]&&(g=!1);return g?h[0]:h}if(typeof l=="number"&&!P(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[f[T]],h!==null))return h}}var L=/(^|\.)args\[/;function S(n,f){return n===void 0||n===null&&!f.match(L)}function v(n,f,u){return function(l){var g=n,h="",T=S(l,u),c,a;for(a=0;a<f.length-1;a++){if(c=f[a],typeof c=="number"&&!P(g))throw"array index but container is not an array";if(c===-1){if(T=!r(g,f.slice(a+1),l,u),T)break;return}if(!t(g,c,f[a+1],T))break;if(g=g[c],typeof g!="object"||g===null)throw"container is not an object";h=p(h,c)}if(T){if(a===f.length-1&&(delete g[f[a]],Array.isArray(g)&&+f[a]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[f[a]]=l}}function p(n,f){var u=f;return m(f)?u="["+f+"]":n&&(u="."+f),n+u}function r(n,f,u,l){var g=P(u),h=!0,T=u,c=l.replace("-1",0),a=g?!1:S(u,c),d=f[0],x;for(x=0;x<n.length;x++)c=l.replace("-1",x),g&&(T=u[x%u.length],a=S(T,c)),a&&(h=!1),t(n,x,d,a)&&v(n[x],f,l.replace("-1",x))(T);return h}function t(n,f,u,l){if(n[f]===void 0){if(l)return!1;typeof u=="number"?n[f]=[]:n[f]={}}return!0}function i(n,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:n}}},16628:function(G){G.exports=function(){}},41792:function(G,H,e){var m=e(33428),P=e(38248),s=[];G.exports=function(L,S){if(s.indexOf(L)!==-1)return;s.push(L);var v=1e3;P(S)?v=S:S==="long"&&(v=3e3);var p=m.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(s);function t(i){i.duration(700).style("opacity",0).each("end",function(n){var f=s.indexOf(n);f!==-1&&s.splice(f,1),m.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=m.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),u=i.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);S==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(G,H,e){var m=e(93972),P="data-savedcursor",s="!!";G.exports=function(S,v){var p=S.attr(P);if(v){if(!p){for(var r=(S.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&S.attr(P,i.substr(7)).classed(i,!1)}S.attr(P)||S.attr(P,s)}m(S,v)}else p&&(S.attr(P,null),p===s?m(S):m(S,p))}},92065:function(G,H,e){var m=e(52248).dot,P=e(39032).BADNUM,s=G.exports={};s.tester=function(S){var v=S.slice(),p=v[0][0],r=p,t=v[0][1],i=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),i=Math.max(i,v[n][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(c){return c[1]===v[0][1]}));function l(c,a){var d=c[0],x=c[1];return!(d===P||d<p||d>r||x===P||x<t||x>i||a&&u(c))}function g(c,a){var d=c[0],x=c[1];if(d===P||d<p||d>r||x===P||x<t||x>i)return!1;var w=v.length,C=v[0][0],y=v[0][1],M=0,A,o,E,b,I;for(A=1;A<w;A++)if(o=C,E=y,C=v[A][0],y=v[A][1],b=Math.min(o,C),!(d<b||d>Math.max(o,C)||x>Math.max(E,y)))if(x<Math.min(E,y))d!==b&&M++;else{if(C===o?I=x:I=E+(d-o)*(y-E)/(C-o),x===I)return!(A===1&&a);x<=I&&d!==b&&M++}return M%2===1}var h=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:i,pts:v,contains:f?l:g,isRect:f,degenerate:h}},s.isSegmentBent=function(S,v,p,r){var t=S[v],i=[S[p][0]-t[0],S[p][1]-t[1]],n=m(i,i),f=Math.sqrt(n),u=[-i[1]/f,i[0]/f],l,g,h;for(l=v+1;l<p;l++)if(g=[S[l][0]-t[0],S[l][1]-t[1]],h=m(g,i),h<0||h>n||Math.abs(m(g,u))>r)return!0;return!1},s.filter=function(S,v){var p=[S[0]],r=0,t=0;function i(f){S.push(f);var u=p.length,l=r;p.splice(t+1);for(var g=l+1;g<S.length;g++)(g===S.length-1||s.isSegmentBent(S,l,g+1,v))&&(p.push(S[g]),p.length<u-2&&(r=g,t=p.length-1),l=g)}if(S.length>1){var n=S.pop();i(n)}return{addPt:i,raw:S,filtered:p}}},5048:function(G,H,e){var m=e(16576),P=e(28624);G.exports=function(L,S,v){var p=L._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:S||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||m({container:p._glcontainer.node()}),r}},34296:function(G,H,e){var m=e(38248),P=e(25928);G.exports=function(S){var v;if(S&&S.hasOwnProperty("userAgent")?v=S.userAgent:v=s(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(m(u)&&(u=+u),u>=13)return!0}}}return p};function s(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(G){G.exports=function(e,m){if(m instanceof RegExp){for(var P=m.toString(),s=0;s<e.length;s++)if(e[s]instanceof RegExp&&e[s].toString()===P)return e;e.push(m)}else(m||m===0)&&e.indexOf(m)===-1&&e.push(m);return e}},94552:function(G,H,e){var m=e(3400),P=e(20556).dfltConfig;function s(S,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===S?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?m.extendDeep([],r):m.extendDeepAll({},r):p[t]=r;return p}var L={};L.add=function(S,v,p,r,t){var i,n;if(S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},n=S.undoQueue.index,S.autoplay){S.undoQueue.inSequence||(S.autoplay=!1);return}!S.undoQueue.sequence||S.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},S.undoQueue.queue.splice(n,S.undoQueue.queue.length-n,i),S.undoQueue.index+=1):i=S.undoQueue.queue[n-1],S.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(v),i.undo.args.unshift(p),i.redo.calls.push(r),i.redo.args.push(t)),S.undoQueue.queue.length>P.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--)},L.startSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},L.stopSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},L.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)L.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)L.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(S,v,p){S.autoplay=!0,p=s(S,p),v.apply(null,p)},G.exports=L},53756:function(G,H){H.counter=function(e,m,P,s){var L=(m||"")+(P?"":"$"),S=s===!1?"":"^";return e==="xy"?new RegExp(S+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(S+e+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(G){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(m,P){for(;P;){var s=m.match(H);if(s)m=s[1];else if(m.match(e))m="";else throw new Error("bad relativeAttr call:"+[m,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return m&&P.charAt(0)!=="["?m+"."+P:m+P}},51528:function(G,H,e){var m=e(38116).isArrayOrTypedArray,P=e(63620);G.exports=function s(L,S){for(var v in S){var p=S[v],r=L[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(m(p)&&m(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),i=0;i<t;i++)r[i]!==p[i]&&P(p[i])&&P(r[i])&&s(r[i],p[i])}else P(p)&&P(r)&&(s(r,p),Object.keys(r).length||delete L[v])}}},14952:function(G,H,e){var m=e(38248),P=e(24248),s=e(35536),L=e(39032).BADNUM,S=1e-9;H.findBin=function(i,n,f){if(m(n.start))return f?Math.ceil((i-n.start)/n.size-S)-1:Math.floor((i-n.start)/n.size+S);var u=0,l=n.length,g=0,h=l>1?(n[l-1]-n[0])/(l-1):1,T,c;for(h>=0?c=f?v:p:c=f?t:r,i+=h*S*(f?-1:1)*(h>=0?1:-1);u<l&&g++<100;)T=Math.floor((u+l)/2),c(n[T],i)?u=T+1:l=T;return g>90&&P.log("Long binary search..."),u-1};function v(i,n){return i<n}function p(i,n){return i<=n}function r(i,n){return i>n}function t(i,n){return i>=n}H.sorterAsc=function(i,n){return i-n},H.sorterDes=function(i,n){return n-i},H.distinctVals=function(i){var n=i.slice();n.sort(H.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===L;f--);for(var u=n[f]-n[0]||1,l=u/(f||1)/1e4,g=[],h,T=0;T<=f;T++){var c=n[T],a=c-h;h===void 0?(g.push(c),h=c):a>l&&(u=Math.min(u,a),g.push(c),h=c)}return{vals:g,minDiff:u}},H.roundUp=function(i,n,f){for(var u=0,l=n.length-1,g,h=0,T=f?0:1,c=f?1:0,a=f?Math.ceil:Math.floor;u<l&&h++<100;)g=a((u+l)/2),n[g]<=i?u=g+T:l=g-c;return n[u]},H.sort=function(i,n){for(var f=0,u=0,l=1;l<i.length;l++){var g=n(i[l],i[l-1]);if(g<0?f=1:g>0&&(u=1),f&&u)return i.sort(n)}return u?i:i.reverse()},H.findIndexOfMin=function(i,n){n=n||s;for(var f=1/0,u,l=0;l<i.length;l++){var g=n(i[l]);g<f&&(f=g,u=l)}return u}},93972:function(G){G.exports=function(e,m){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),m&&e.classed("cursor-"+m,!0)}},16576:function(G,H,e){var m=e(76308),P=function(){};G.exports=function(L){for(var S in L)typeof L[S]=="function"&&(L[S]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=m.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=m.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(G){G.exports=function(e){return Object.keys(e).sort()}},63084:function(G,H,e){var m=e(38248),P=e(38116).isArrayOrTypedArray;H.aggNums=function(s,L,S,v){var p,r;if((!v||v>S.length)&&(v=S.length),m(L)||(L=!1),P(S[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=H.aggNums(s,L,S[p]);S=r}for(p=0;p<v;p++)m(L)?m(S[p])&&(L=s(+L,+S[p])):L=S[p];return L},H.len=function(s){return H.aggNums(function(L){return L+1},0,s)},H.mean=function(s,L){return L||(L=H.len(s)),H.aggNums(function(S,v){return S+v},0,s)/L},H.midRange=function(s){if(!(s===void 0||s.length===0))return(H.aggNums(Math.max,null,s)+H.aggNums(Math.min,null,s))/2},H.variance=function(s,L,S){return L||(L=H.len(s)),m(S)||(S=H.mean(s,L)),H.aggNums(function(v,p){return v+Math.pow(p-S,2)},0,s)/L},H.stdev=function(s,L,S){return Math.sqrt(H.variance(s,L,S))},H.median=function(s){var L=s.slice().sort();return H.interp(L,.5)},H.interp=function(s,L){if(!m(L))throw"n should be a finite number";if(L=L*s.length-.5,L<0)return s[0];if(L>s.length-1)return s[s.length-1];var S=L%1;return S*s[Math.ceil(L)]+(1-S)*s[Math.floor(L)]}},43080:function(G,H,e){var m=e(72160);function P(s){return s?m(s):[0,0,0,1]}G.exports=P},9188:function(G,H,e){var m=e(2264),P=e(43616),s=e(3400),L=null;function S(){if(L!==null)return L;L=!1;var v=s.isIE()||s.isSafari()||s.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(m.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=p.some(function(f){return r.apply(null,f)});else{var t=P.tester.append("image").attr("style",m.STYLE),i=window.getComputedStyle(t.node()),n=i.imageRendering;L=p.some(function(f){var u=f[1];return n===u||n===u.toLowerCase()}),t.remove()}}return L}G.exports=S},72736:function(G,H,e){var m=e(33428),P=e(3400),s=P.strTranslate,L=e(9616),S=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(F,z,B){var W=F.text(),J=!F.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&W.match(v),re=m.select(F.node().parentNode);if(re.empty())return;var ne=F.attr("class")?F.attr("class").split(" ")[0]:"text";ne+="-math",re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove(),F.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function le(){re.empty()||(ne=F.attr("class")+"-math",re.select("svg."+ne).remove()),F.text("").style("white-space","pre");var $=D(F.node(),W);$&&F.style("pointer-events","all"),H.positionText(F),B&&B.call(F)}return J?(z&&z._promises||[]).push(new Promise(function($){F.style("display","none");var K=parseInt(F.node().style.fontSize,10),ie={fontSize:K};n(J[2],ie,function(Y,Q,oe){re.selectAll("svg."+ne).remove(),re.selectAll("g."+ne+"-group").remove();var X=Y&&Y.select("svg");if(!X||!X.node()){le(),$();return}var j=re.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});j.node().appendChild(X.node()),Q&&Q.node()&&X.node().insertBefore(Q.node().cloneNode(!0),X.node().firstChild);var se=oe.width,te=oe.height;X.attr({class:ne,height:te,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=F.node().style.fill||"black",ge=X.select("g");ge.attr({fill:fe,stroke:fe});var be=ge.node().getBoundingClientRect(),xe=be.width,_e=be.height;(xe>se||_e>te)&&(X.style("overflow","hidden"),be=X.node().getBoundingClientRect(),xe=be.width,_e=be.height);var De=+F.attr("x"),Fe=+F.attr("y"),Te=K||F.node().getBoundingClientRect().height,Re=-Te/4;if(ne[0]==="y")j.attr({transform:"rotate("+[-90,De,Fe]+")"+s(-xe/2,Re-_e/2)});else if(ne[0]==="l")Fe=Re-_e/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)De=0,Fe=Re;else{var Se=F.attr("text-anchor");De=De-xe*(Se==="middle"?.5:Se==="end"?1:0),Fe=Fe+Re-_e/2}X.attr({x:De,y:Fe}),B&&B.call(F,j),$(j)})})):le(),F};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(F){return F.replace(p,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function n(F,z,B){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){P.warn("No MathJax version:",MathJax.version);return}var J,re,ne,le,$=function(){return re=P.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},K=function(){re=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},ie=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},Q=function(){var fe="math-output-"+P.randstr({},64);le=m.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(F));var ge=le.node();return W===2?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},oe=function(){var fe=le.select(W===2?".MathJax_SVG":".MathJax"),ge=!fe.empty()&&le.select("svg").node();if(!ge)P.log("There was an error in the tex syntax.",F),B();else{var be=ge.getBoundingClientRect(),xe;W===2?xe=m.select("body").select("#MathJax_SVG_glyphs"):xe=fe.select("defs"),B(fe,xe,be)}le.remove()},X=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},j=function(){J!=="svg"&&(MathJax.config.startup.output=J)},se=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(re)},te=function(){MathJax.config=re};W===2?MathJax.Hub.Queue($,ie,Q,oe,X,se):W===3&&(K(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),oe(),j(),te()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},g="​",h=["http:","https:","mailto:","",void 0,":"],T=H.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,a=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(F,z){if(!F)return null;var B=F.match(z),W=B&&(B[3]||B[4]);return W&&b(W)}var A=/(^|;)\s*color:/;H.plainText=function(F,z){z=z||{};for(var B=z.len!==void 0&&z.len!==-1?z.len:1/0,W=z.allowedTags!==void 0?z.allowedTags:["br"],J="...",re=J.length,ne=F.split(c),le=[],$="",K=0,ie=0;ie<ne.length;ie++){var Y=ne[ie],Q=Y.match(a),oe=Q&&Q[2].toLowerCase();if(oe)W.indexOf(oe)!==-1&&(le.push(Y),$=oe);else{var X=Y.length;if(K+X<B)le.push(Y),K+=X;else if(K<B){var j=B-K;$&&($!=="br"||j<=re||X<=re)&&le.pop(),B>re?le.push(Y.substr(0,j-re)+J):le.push(Y.substr(0,j));break}$=""}}return le.join("")};var o={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(F){return F.replace(E,function(z,B){var W;return B.charAt(0)==="#"?W=I(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):W=o[B],W||z})}H.convertEntities=b;function I(F){if(!(F>1114111)){var z=String.fromCodePoint;if(z)return z(F);var B=String.fromCharCode;return F<=65535?B(F):B((F>>10)+55232,F%1024+56320)}}function D(F,z){z=z.replace(T," ");var B=!1,W=[],J,re=-1;function ne(){re++;var _e=document.createElementNS(L.svg,"tspan");m.select(_e).attr({class:"line",dy:re*S+"em"}),F.appendChild(_e),J=_e;var De=W;if(W=[{node:_e}],De.length>1)for(var Fe=1;Fe<De.length;Fe++)le(De[Fe])}function le(_e){var De=_e.type,Fe={},Te;if(De==="a"){Te="a";var Re=_e.target,Se=_e.href,Ie=_e.popup;Se&&(Fe={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":Se},Ie&&(Fe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ie+'");return false;'))}else Te="tspan";_e.style&&(Fe.style=_e.style);var Me=document.createElementNS(L.svg,Te);if(De==="sup"||De==="sub"){$(J,g),J.appendChild(Me);var Ve=document.createElementNS(L.svg,"tspan");$(Ve,g),m.select(Ve).attr("dy",l[De]),Fe.dy=u[De],J.appendChild(Me),J.appendChild(Ve)}else J.appendChild(Me);m.select(Me).attr(Fe),J=_e.node=Me,W.push(_e)}function $(_e,De){_e.appendChild(document.createTextNode(De))}function K(_e){if(W.length===1){P.log("Ignoring unexpected end tag </"+_e+">.",z);return}var De=W.pop();_e!==De.type&&P.log("Start tag <"+De.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",z),J=W[W.length-1].node}var ie=d.test(z);ie?ne():(J=F,W=[{node:F}]);for(var Y=z.split(c),Q=0;Q<Y.length;Q++){var oe=Y[Q],X=oe.match(a),j=X&&X[2].toLowerCase(),se=f[j];if(j==="br")ne();else if(se===void 0)$(J,b(oe));else if(X[1])K(j);else{var te=X[4],fe={type:j},ge=M(te,x);if(ge?(ge=ge.replace(A,"$1 fill:"),se&&(ge+=";"+se)):se&&(ge=se),ge&&(fe.style=ge),j==="a"){B=!0;var be=M(te,w);if(be){var xe=N(be);xe&&(fe.href=xe,fe.target=M(te,C)||"_blank",fe.popup=M(te,y))}}le(fe)}}return B}function N(F){var z=encodeURI(decodeURI(F)),B=document.createElement("a"),W=document.createElement("a");B.href=F,W.href=z;var J=B.protocol,re=W.protocol;return h.indexOf(J)!==-1&&h.indexOf(re)!==-1?z:""}H.sanitizeHTML=function(z){z=z.replace(T," ");for(var B=document.createElement("p"),W=B,J=[],re=z.split(c),ne=0;ne<re.length;ne++){var le=re[ne],$=le.match(a),K=$&&$[2].toLowerCase();if(K in f)if($[1])J.length&&(W=J.pop());else{var ie=$[4],Y=M(ie,x),Q=Y?{style:Y}:{};if(K==="a"){var oe=M(ie,w);if(oe){var X=N(oe);if(X){Q.href=X;var j=M(ie,C);j&&(Q.target=j)}}}var se=document.createElement(K);W.appendChild(se),m.select(se).attr(Q),W=se,J.push(se)}else W.appendChild(document.createTextNode(b(le)))}var te="innerHTML";return B[te]},H.lineCount=function(z){return z.selectAll("tspan.line").size()||1},H.positionText=function(z,B,W){return z.each(function(){var J=m.select(this);function re($,K){return K===void 0?(K=J.attr($),K===null&&(J.attr($,0),K=0)):J.attr($,K),K}var ne=re("x",B),le=re("y",W);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:ne,y:le})})};function k(F,z,B){var W=B.horizontalAlign,J=B.verticalAlign||"top",re=F.node().getBoundingClientRect(),ne=z.node().getBoundingClientRect(),le,$,K;return J==="bottom"?$=function(){return re.bottom-le.height}:J==="middle"?$=function(){return re.top+(re.height-le.height)/2}:$=function(){return re.top},W==="right"?K=function(){return re.right-le.width}:W==="center"?K=function(){return re.left+(re.width-le.width)/2}:K=function(){return re.left},function(){le=this.node().getBoundingClientRect();var ie=K()-ne.left,Y=$()-ne.top,Q=B.gd||{};if(B.gd){Q._fullLayout._calcInverseTransform(Q);var oe=P.apply3DTransform(Q._fullLayout._invTransform)(ie,Y);ie=oe[0],Y=oe[1]}return this.style({top:Y+"px",left:ie+"px","z-index":1e3}),this}}var O="1px ";H.makeTextShadow=function(F){var z=O,B=O,W=O;return z+B+W+F+", -"+z+"-"+B+W+F+", "+z+"-"+B+W+F+", -"+z+B+W+F},H.makeEditable=function(F,z){var B=z.gd,W=z.delegate,J=m.dispatch("edit","input","cancel"),re=W||F;if(F.style({"pointer-events":W?"none":"all"}),F.size()!==1)throw new Error("boo");function ne(){$(),F.style({opacity:0});var K=re.attr("class"),ie;K?ie="."+K.split(" ")[0]+"-math-group":ie="[class*=-math-group]",ie&&m.select(F.node().parentNode).select(ie).style({opacity:0})}function le(K){var ie=K.node(),Y=document.createRange();Y.selectNodeContents(ie);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(Y),ie.focus()}function $(){var K=m.select(B),ie=K.select(".svg-container"),Y=ie.append("div"),Q=F.node().style,oe=parseFloat(Q.fontSize||12),X=z.text;X===void 0&&(X=F.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":oe,color:z.fill||Q.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-oe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(X).call(k(F,ie,z)).on("blur",function(){B._editing=!1,F.text(this.textContent).style({opacity:1});var j=m.select(this).attr("class"),se;j?se="."+j.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&m.select(F.node().parentNode).select(se).style({opacity:0});var te=this.textContent;m.select(this).transition().duration(0).remove(),m.select(document).on("mouseup",null),J.edit.call(F,te)}).on("focus",function(){var j=this;B._editing=!0,m.select(document).on("mouseup",function(){if(m.event.target===j)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){m.event.which===27?(B._editing=!1,F.style({opacity:1}),m.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(F,this.textContent)):(J.input.call(F,this.textContent),m.select(this).call(k(F,ie,z)))}).on("keydown",function(){m.event.which===13&&this.blur()}).call(le)}return z.immediate?ne():re.on("click",ne),m.rebind(F,J,"on")}},91200:function(G,H){var e={};H.throttle=function(s,L,S){var v=e[s],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[s]={ts:0,timer:null}}m(v);function t(){S(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},H.done=function(P){var s=e[P];return!s||!s.timer?Promise.resolve():new Promise(function(L){var S=s.onDone;s.onDone=function(){S&&S(),L(),s.onDone=null}})},H.clear=function(P){if(P)m(e[P]),delete e[P];else for(var s in e)H.clear(s)};function m(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(G,H,e){var m=e(38248);G.exports=function(s,L){if(s>0)return Math.log(s)/Math.LN10;var S=Math.log(Math.min(L[0],L[1]))/Math.LN10;return m(S)||(S=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),S}},59972:function(G,H,e){var m=G.exports={},P=e(79552).locationmodeToLayer,s=e(55712).NO;m.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},m.getTopojsonPath=function(L,S){return L+S+".json"},m.getTopojsonFeatures=function(L,S){var v=P[L.locationmode],p=S.objects[v];return s(S,p).features}},11680:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(G,H,e){var m=e(24040);G.exports=function(s){for(var L=m.layoutArrayContainers,S=m.layoutArrayRegexes,v=s.split("[")[0],p,r,t=0;t<S.length;t++)if(r=s.match(S[t]),r&&r.index===0){p=r[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var i=s.substr(p.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(G,H,e){var m=e(92880).extendFlat,P=e(63620),s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},S=s.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");G.exports={traces:s,layout:L,traceFlags:function(){return p(S)},layoutFlags:function(){return p(v)},update:function(i,n){var f=n.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)i[u[l]]=!0},overrideAll:r};function p(i){for(var n={},f=0;f<i.length;f++)n[i[f]]=!1;return n}function r(i,n,f){var u=m({},i);for(var l in u){var g=u[l];P(g)&&(u[l]=t(g,n,f,l))}return f==="from-root"&&(u.editType=n),u}function t(i,n,f,u){if(i.valType){var l=m({},i);if(l.editType=n,Array.isArray(i.items)){l.items=new Array(i.items.length);for(var g=0;g<i.items.length;g++)l.items[g]=t(i.items[g],n)}return l}else return r(i,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(G,H,e){var m=e(38248),P=e(61784),s=e(24040),L=e(3400),S=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,i=s.traceIs;H.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},H.cleanLayout=function(d){var x,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(S.subplotsRegistry.cartesian||{}).attrRegex,y=(S.subplotsRegistry.polar||{}).attrRegex,M=(S.subplotsRegistry.ternary||{}).attrRegex,A=(S.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(d);for(x=0;x<o.length;x++){var E=o[x];if(C&&C.test(E)){var b=d[E];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,h(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),f(b)}else if(y&&y.test(E)){var I=d[E];f(I.radialaxis)}else if(M&&M.test(E)){var D=d[E];f(D.aaxis),f(D.baxis),f(D.caxis)}else if(A&&A.test(E)){var N=d[E],k=N.cameraposition;if(Array.isArray(k)&&k[0].length===4){var O=k[0],F=k[1],z=k[2],B=P([],O),W=[];for(w=0;w<3;++w)W[w]=F[w]+z*B[2+4*w];N.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:F[0],y:F[1],z:F[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}f(N.xaxis),f(N.yaxis),f(N.zaxis)}}var J=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<J;x++){var re=d.annotations[x];L.isPlainObject(re)&&(re.ref&&(re.ref==="paper"?(re.xref="paper",re.yref="paper"):re.ref==="data"&&(re.xref="x",re.yref="y"),delete re.ref),n(re,"xref"),n(re,"yref"))}var ne=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<ne;x++){var le=d.shapes[x];L.isPlainObject(le)&&(n(le,"xref"),n(le,"yref"))}var $=Array.isArray(d.images)?d.images.length:0;for(x=0;x<$;x++){var K=d.images[x];L.isPlainObject(K)&&(n(K,"xref"),n(K,"yref"))}var ie=d.legend;return ie&&(ie.x>3?(ie.x=1.02,ie.xanchor="left"):ie.x<-2&&(ie.x=-.02,ie.xanchor="right"),ie.y>3?(ie.y=1.02,ie.yanchor="bottom"):ie.y<-2&&(ie.y=-.02,ie.yanchor="top")),f(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&H.cleanLayout(d.template.layout),d};function n(d,x){var w=d[x],C=x.charAt(0);w&&w!=="paper"&&(d[x]=r(w,C,!0))}function f(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(w,C){var y=d[w],M=d.title&&d.title[C];y&&!M&&(d.title||(d.title={}),d.title[C]=d[w],delete d[w])}}H.cleanData=function(d){for(var x=0;x<d.length;x++){var w=d[x],C;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var y=p.defaults,M=w.error_y.color||(i(w,"bar")?p.defaultLine:y[x%y.length]);w.error_y.color=p.addOpacity(p.rgb(M),p.opacity(M)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(i(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",H.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&H.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),i(w,"gl3d")&&w.scene&&(w.scene=S.subplotsRegistry.gl3d.cleanId(w.scene)),!i(w,"pie-like")&&!i(w,"bar-like"))if(Array.isArray(w.textposition))for(C=0;C<w.textposition.length;C++)w.textposition[C]=g(w.textposition[C]);else w.textposition&&(w.textposition=g(w.textposition));var A=s.getModule(w);if(A&&A.colorbar){var o=A.colorbar.container,E=o?w[o]:w;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(w.type==="surface"&&L.isPlainObject(w.contours)){var b=["x","y","z"];for(C=0;C<b.length;C++){var I=w.contours[b[C]];L.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var D=(w.increasing||{}).showlegend!==!1,N=(w.decreasing||{}).showlegend!==!1,k=u(w.increasing),O=u(w.decreasing);if(k!==!1&&O!==!1){var F=l(k,O,D,N);F&&(w.name=F)}else(k||O)&&!w.name&&(w.name=k||O)}if(Array.isArray(w.transforms)){var z=w.transforms;for(C=0;C<z.length;C++){var B=z[C];if(L.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var W=B.styles,J=Object.keys(W);B.styles=[];for(var re=0;re<J.length;re++)B.styles.push({target:J[re],value:W[J[re]]})}break}}}h(w,"line")&&delete w.line,"marker"in w&&(h(w.marker,"line")&&delete w.marker.line,h(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),f(w),w.colorbar&&f(w.colorbar),w.marker&&w.marker.colorbar&&f(w.marker.colorbar),w.line&&w.line.colorbar&&f(w.line.colorbar),w.aaxis&&f(w.aaxis),w.baxis&&f(w.baxis)}};function u(d){if(!L.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function l(d,x,w,C){if(w&&!C)return d;if(C&&!w||!d.trim())return x;if(!x.trim())return d;var y=Math.min(d.length,x.length),M;for(M=0;M<y&&d.charAt(M)===x.charAt(M);M++);var A=d.substr(0,M);return A.trim()}function g(d){var x="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),x+" "+w}function h(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}H.swapXYData=function(d){var x;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,C="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(x=0;x<y.length;x++)y[x]==="x"?y[x]="y":y[x]==="y"&&(y[x]="x");d.hoverinfo=y.join("+")}},H.coerceTraceIndices=function(d,x){if(m(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(y,M){return M});if(Array.isArray(x)){for(var w=[],C=0;C<x.length;C++)L.isIndex(x[C],d.data.length)?w.push(x[C]):L.warn("trace index (",x[C],") is not a number or is out of bounds");return w}return x},H.manageArrayContainers=function(d,x,w){var C=d.obj,y=d.parts,M=y.length,A=y[M-1],o=m(A);if(o&&x===null){var E=y.slice(0,M-1).join("."),b=L.nestedProperty(C,E).get();b.splice(A,1)}else o&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var x=d.search(T);if(x>0)return d.substr(0,x)}H.hasParent=function(d,x){for(var w=c(x);w;){if(w in d)return!0;w=c(w)}return!1};var a=["x","y","z"];H.clearAxisTypes=function(d,x,w){for(var C=0;C<x.length;C++)for(var y=d._fullData[C],M=0;M<3;M++){var A=t(d,y,a[M]);if(A&&A.type!=="log"){var o=A._name,E=A._id.substr(1);if(E.substr(0,5)==="scene"){if(w[E]!==void 0)continue;o=E+"."+o}var b=o+".type";w[o]===void 0&&w[b]===void 0&&L.nestedProperty(d.layout,b).set(null)}}}},22448:function(G,H,e){var m=e(36424);H._doPlot=m._doPlot,H.newPlot=m.newPlot,H.restyle=m.restyle,H.relayout=m.relayout,H.redraw=m.redraw,H.update=m.update,H._guiRestyle=m._guiRestyle,H._guiRelayout=m._guiRelayout,H._guiUpdate=m._guiUpdate,H._storeDirectGUIEdit=m._storeDirectGUIEdit,H.react=m.react,H.extendTraces=m.extendTraces,H.prependTraces=m.prependTraces,H.addTraces=m.addTraces,H.deleteTraces=m.deleteTraces,H.moveTraces=m.moveTraces,H.purge=m.purge,H.addFrames=m.addFrames,H.deleteFrames=m.deleteFrames,H.animate=m.animate,H.setPlotConfig=m.setPlotConfig;var P=e(52200).getGraphDiv,s=e(4016).eraseActiveShape;H.deleteActiveShape=function(S){return s(P(S))},H.toImage=e(67024),H.validate=e(21480),H.downloadImage=e(39792);var L=e(94828);H.makeTemplate=L.makeTemplate,H.validateTemplate=L.validateTemplate},17680:function(G,H,e){var m=e(63620),P=e(16628),s=e(24248),L=e(14952).sorterAsc,S=e(24040);H.containerArrayMatch=e(69820);var v=H.isAddVal=function(t){return t==="add"||m(t)},p=H.isRemoveVal=function(t){return t===null||t==="remove"};H.applyContainerArrayChanges=function(t,i,n,f,u){var l=i.astr,g=S.getComponentMethod(l,"supplyLayoutDefaults"),h=S.getComponentMethod(l,"draw"),T=S.getComponentMethod(l,"drawOne"),c=f.replot||f.recalc||g===P||h===P,a=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&s.warn("Full array edits are incompatible with other edits",l);var x=n[""][""];if(p(x))i.set(null);else if(Array.isArray(x))i.set(x);else return s.warn("Unrecognized full array edit value",l,x),!0;return c?!1:(g(a,d),h(t),!0)}var w=Object.keys(n).map(Number).sort(L),C=i.get(),y=C||[],M=u(d,l).get(),A=[],o=-1,E=y.length,b,I,D,N,k,O,F,z;for(b=0;b<w.length;b++){if(D=w[b],N=n[D],k=Object.keys(N),O=N[""],F=v(O),D<0||D>y.length-(F?0:1)){s.warn("index out of range",l,D);continue}if(O!==void 0)k.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",l,D),p(O)?A.push(D):F?(O==="add"&&(O={}),y.splice(D,0,O),M&&M.splice(D,0,{})):s.warn("Unrecognized full object edit value",l,D,O),o===-1&&(o=D);else for(I=0;I<k.length;I++)z=l+"["+D+"].",u(y[D],k[I],z).set(N[k[I]])}for(b=A.length-1;b>=0;b--)y.splice(A[b],1),M&&M.splice(A[b],1);if(y.length?C||i.set(y):i.set(null),c)return!1;if(g(a,d),T!==P){var B;if(o===-1)B=w;else{for(E=Math.max(y.length,E),B=[],b=0;b<w.length&&(D=w[b],!(D>=o));b++)B.push(D);for(b=o;b<E;b++)B.push(b)}for(b=0;b<B.length;b++)T(t,B[b])}else h(t);return!0}},36424:function(G,H,e){var m=e(33428),P=e(38248),s=e(52264),L=e(3400),S=L.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),i=e(7316),n=e(54460),f=e(96312),u=e(94724),l=e(43616),g=e(76308),h=e(42464).initInteractions,T=e(9616),c=e(22676).clearOutline,a=e(20556).dfltConfig,d=e(17680),x=e(93404),w=e(39172),C=e(67824),y=e(33816).AX_NAME_PATTERN,M=0,A=5;function o(he,me,Ne,$e){var ot;if(he=L.getGraphDiv(he),v.init(he),L.isPlainObject(me)){var st=me;me=st.data,Ne=st.layout,$e=st.config,ot=st.frames}var Wt=v.triggerHandler(he,"plotly_beforeplot",[me,Ne,$e]);if(Wt===!1)return Promise.reject();!me&&!Ne&&!L.isPlotDiv(he)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",he);function Pt(){if(ot)return H.addFrames(he,ot)}N(he,$e),Ne||(Ne={}),m.select(he).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(he._promises)||(he._promises=[]);var dt=(he.data||[]).length===0&&Array.isArray(me);Array.isArray(me)&&(x.cleanData(me),dt?he.data=me:he.data.push.apply(he.data,me),he.empty=!1),(!he.layout||dt)&&(he.layout=x.cleanLayout(Ne)),i.supplyDefaults(he);var Mt=he._fullLayout,Xt=Mt._has("cartesian");Mt._replotting=!0,(dt||Mt._shouldCreateBgLayer)&&(Ce(he),Mt._shouldCreateBgLayer&&delete Mt._shouldCreateBgLayer),l.initGradients(he),l.initPatterns(he),dt&&n.saveShowSpikeInitial(he);var nr=!he.calcdata||he.calcdata.length!==(he._fullData||[]).length;nr&&i.doCalcdata(he);for(var vt=0;vt<he.calcdata.length;vt++)he.calcdata[vt][0].trace=he._fullData[vt];he._context.responsive?he._responsiveChartHandler||(he._responsiveChartHandler=function(){L.isHidden(he)||i.resize(he)},window.addEventListener("resize",he._responsiveChartHandler)):L.clearResponsive(he);var Zt=L.extendFlat({},Mt._size),Kt=0;function yr(){for(var Bt=Mt._basePlotModules,Ut=0;Ut<Bt.length;Ut++)Bt[Ut].drawFramework&&Bt[Ut].drawFramework(he);!Mt._glcanvas&&Mt._has("gl")&&(Mt._glcanvas=Mt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(pr){return pr.key}),Mt._glcanvas.enter().append("canvas").attr("class",function(pr){return"gl-canvas gl-canvas-"+pr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=he._context.plotGlPixelRatio;if(Mt._glcanvas){Mt._glcanvas.attr("width",Mt.width*Jt).attr("height",Mt.height*Jt).style("width",Mt.width+"px").style("height",Mt.height+"px");var cr=Mt._glcanvas.data()[0].regl;if(cr&&(Math.floor(Mt.width*Jt)!==cr._gl.drawingBufferWidth||Math.floor(Mt.height*Jt)!==cr._gl.drawingBufferHeight)){var hr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Kt)L.error(hr);else return L.log(hr+" Clearing graph and plotting again."),i.cleanPlot([],{},he._fullData,Mt),i.supplyDefaults(he),Mt=he._fullLayout,i.doCalcdata(he),Kt++,yr()}}return Mt.modebar.orientation==="h"?Mt._modebardiv.style("height",null).style("width","100%"):Mt._modebardiv.style("width",null).style("height",Mt.height+"px"),i.previousPromises(he)}function or(){if(i.clearAutoMarginIds(he),w.drawMarginPushers(he),n.allowAutoMargin(he),he._fullLayout.title.text&&he._fullLayout.title.automargin&&i.allowAutoMargin(he,"title.automargin"),Mt._has("pie"))for(var Bt=he._fullData,Ut=0;Ut<Bt.length;Ut++){var Jt=Bt[Ut];Jt.type==="pie"&&Jt.automargin&&i.allowAutoMargin(he,"pie."+Jt.uid+".automargin")}return i.doAutoMargin(he),i.previousPromises(he)}function mt(){if(i.didMarginChange(Zt,Mt._size))return L.syncOrAsync([or,w.layoutStyles],he)}function lt(){if(!nr){bt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],he)}function bt(){he._transitioning||(w.doAutoRangeAndConstraints(he),dt&&n.saveRangeInitial(he),r.getComponentMethod("rangeslider","calcAutorange")(he))}function Ct(){return n.draw(he,dt?"":"redraw")}var Dt=[i.previousPromises,Pt,yr,or,mt];Xt&&Dt.push(lt),Dt.push(w.layoutStyles),Xt&&Dt.push(Ct,function(Ut){var Jt=Ut._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Ut._fullLayout._insideTickLabelsUpdaterange=void 0,be(Ut,Jt).then(function(){n.saveRangeInitial(Ut,!0)})}),Dt.push(w.drawData,w.finalDraw,h,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Ht=L.syncOrAsync(Dt,he);return(!Ht||!Ht.then)&&(Ht=Promise.resolve()),Ht.then(function(){return E(he),he})}function E(he){var me=he._fullLayout;me._redrawFromAutoMarginCount?me._redrawFromAutoMarginCount--:he.emit("plotly_afterplot")}function b(he){return L.extendFlat(a,he)}function I(he,me){try{he._fullLayout._paper.style("background",me)}catch(Ne){L.error(Ne)}}function D(he,me){var Ne=g.combine(me,"white");I(he,Ne)}function N(he,me){if(!he._context){he._context=L.extendDeep({},a);var Ne=m.select("base");he._context._baseUrl=Ne.size()&&Ne.attr("href")?window.location.href.split("#")[0]:""}var $e=he._context,ot,st,Wt;if(me){for(st=Object.keys(me),ot=0;ot<st.length;ot++)Wt=st[ot],!(Wt==="editable"||Wt==="edits")&&Wt in $e&&(Wt==="setBackground"&&me[Wt]==="opaque"?$e[Wt]=D:$e[Wt]=me[Wt]);me.plot3dPixelRatio&&!$e.plotGlPixelRatio&&($e.plotGlPixelRatio=$e.plot3dPixelRatio);var Pt=me.editable;if(Pt!==void 0)for($e.editable=Pt,st=Object.keys($e.edits),ot=0;ot<st.length;ot++)$e.edits[st[ot]]=Pt;if(me.edits)for(st=Object.keys(me.edits),ot=0;ot<st.length;ot++)Wt=st[ot],Wt in $e.edits&&($e.edits[Wt]=me.edits[Wt]);$e._exportedPlot=me._exportedPlot}$e.staticPlot&&($e.editable=!1,$e.edits={},$e.autosizable=!1,$e.scrollZoom=!1,$e.doubleClick=!1,$e.showTips=!1,$e.showLink=!1,$e.displayModeBar=!1),$e.displayModeBar==="hover"&&!s&&($e.displayModeBar=!0),($e.setBackground==="transparent"||typeof $e.setBackground!="function")&&($e.setBackground=I),$e._hasZeroHeight=$e._hasZeroHeight||he.clientHeight===0,$e._hasZeroWidth=$e._hasZeroWidth||he.clientWidth===0;var dt=$e.scrollZoom,Mt=$e._scrollZoom={};if(dt===!0)Mt.cartesian=1,Mt.gl3d=1,Mt.geo=1,Mt.mapbox=1;else if(typeof dt=="string"){var Xt=dt.split("+");for(ot=0;ot<Xt.length;ot++)Mt[Xt[ot]]=1}else dt!==!1&&(Mt.gl3d=1,Mt.geo=1,Mt.mapbox=1)}function k(he){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he);return x.cleanData(he.data),x.cleanLayout(he.layout),he.calcdata=void 0,H._doPlot(he).then(function(){return he.emit("plotly_redraw"),he})}function O(he,me,Ne,$e){return he=L.getGraphDiv(he),i.cleanPlot([],{},he._fullData||[],he._fullLayout||{}),i.purge(he),H._doPlot(he,me,Ne,$e)}function F(he,me){var Ne=me+1,$e=[],ot,st;for(ot=0;ot<he.length;ot++)st=he[ot],st<0?$e.push(Ne+st):$e.push(st);return $e}function z(he,me,Ne){var $e,ot;for($e=0;$e<me.length;$e++){if(ot=me[$e],ot!==parseInt(ot,10))throw new Error("all values in "+Ne+" must be integers");if(ot>=he.data.length||ot<-he.data.length)throw new Error(Ne+" must be valid indices for gd.data.");if(me.indexOf(ot,$e+1)>-1||ot>=0&&me.indexOf(-he.data.length+ot)>-1||ot<0&&me.indexOf(he.data.length+ot)>-1)throw new Error("each index in "+Ne+" must be unique.")}}function B(he,me,Ne){if(!Array.isArray(he.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(me)||(me=[me]),z(he,me,"currentIndices"),typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&z(he,Ne,"newIndices"),typeof Ne<"u"&&me.length!==Ne.length)throw new Error("current and new indices must be of equal length.")}function W(he,me,Ne){var $e,ot;if(!Array.isArray(he.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("traces must be defined.");for(Array.isArray(me)||(me=[me]),$e=0;$e<me.length;$e++)if(ot=me[$e],typeof ot!="object"||Array.isArray(ot)||ot===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ne<"u"&&!Array.isArray(Ne)&&(Ne=[Ne]),typeof Ne<"u"&&Ne.length!==me.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(he,me,Ne,$e){var ot=L.isPlainObject($e);if(!Array.isArray(he.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(me))throw new Error("update must be a key:value object");if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers");z(he,Ne,"indices");for(var st in me){if(!Array.isArray(me[st])||me[st].length!==Ne.length)throw new Error("attribute "+st+" must be an array of length equal to indices array length");if(ot&&(!(st in $e)||!Array.isArray($e[st])||$e[st].length!==me[st].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function re(he,me,Ne,$e){var ot=L.isPlainObject($e),st=[],Wt,Pt,dt,Mt,Xt;Array.isArray(Ne)||(Ne=[Ne]),Ne=F(Ne,he.data.length-1);for(var nr in me)for(var vt=0;vt<Ne.length;vt++){if(Wt=he.data[Ne[vt]],dt=S(Wt,nr),Pt=dt.get(),Mt=me[nr][vt],!L.isArrayOrTypedArray(Mt))throw new Error("attribute: "+nr+" index: "+vt+" must be an array");if(!L.isArrayOrTypedArray(Pt))throw new Error("cannot extend missing or non-array attribute: "+nr);if(Pt.constructor!==Mt.constructor)throw new Error("cannot extend array with an array of a different type: "+nr);Xt=ot?$e[nr][vt]:$e,P(Xt)||(Xt=-1),st.push({prop:dt,target:Pt,insert:Mt,maxp:Math.floor(Xt)})}return st}function ne(he,me,Ne,$e,ot){J(he,me,Ne,$e);for(var st=re(he,me,Ne,$e),Wt={},Pt={},dt=0;dt<st.length;dt++){var Mt=st[dt].prop,Xt=st[dt].maxp,nr=ot(st[dt].target,st[dt].insert,Xt);Mt.set(nr[0]),Array.isArray(Wt[Mt.astr])||(Wt[Mt.astr]=[]),Wt[Mt.astr].push(nr[1]),Array.isArray(Pt[Mt.astr])||(Pt[Mt.astr]=[]),Pt[Mt.astr].push(st[dt].target.length)}return{update:Wt,maxPoints:Pt}}function le(he,me){var Ne=new he.constructor(he.length+me.length);return Ne.set(he),Ne.set(me,he.length),Ne}function $(he,me,Ne,$e){he=L.getGraphDiv(he);function ot(dt,Mt,Xt){var nr,vt;if(L.isTypedArray(dt))if(Xt<0){var Zt=new dt.constructor(0),Kt=le(dt,Mt);Xt<0?(nr=Kt,vt=Zt):(nr=Zt,vt=Kt)}else if(nr=new dt.constructor(Xt),vt=new dt.constructor(dt.length+Mt.length-Xt),Xt===Mt.length)nr.set(Mt),vt.set(dt);else if(Xt<Mt.length){var yr=Mt.length-Xt;nr.set(Mt.subarray(yr)),vt.set(dt),vt.set(Mt.subarray(0,yr),dt.length)}else{var or=Xt-Mt.length,mt=dt.length-or;nr.set(dt.subarray(mt)),nr.set(Mt,or),vt.set(dt.subarray(0,mt))}else nr=dt.concat(Mt),vt=Xt>=0&&Xt<nr.length?nr.splice(0,nr.length-Xt):[];return[nr,vt]}var st=ne(he,me,Ne,$e,ot),Wt=H.redraw(he),Pt=[he,st.update,Ne,st.maxPoints];return p.add(he,H.prependTraces,Pt,$,arguments),Wt}function K(he,me,Ne,$e){he=L.getGraphDiv(he);function ot(dt,Mt,Xt){var nr,vt;if(L.isTypedArray(dt))if(Xt<=0){var Zt=new dt.constructor(0),Kt=le(Mt,dt);Xt<0?(nr=Kt,vt=Zt):(nr=Zt,vt=Kt)}else if(nr=new dt.constructor(Xt),vt=new dt.constructor(dt.length+Mt.length-Xt),Xt===Mt.length)nr.set(Mt),vt.set(dt);else if(Xt<Mt.length){var yr=Mt.length-Xt;nr.set(Mt.subarray(0,yr)),vt.set(Mt.subarray(yr)),vt.set(dt,yr)}else{var or=Xt-Mt.length;nr.set(Mt),nr.set(dt.subarray(0,or),Mt.length),vt.set(dt.subarray(or))}else nr=Mt.concat(dt),vt=Xt>=0&&Xt<nr.length?nr.splice(Xt,nr.length):[];return[nr,vt]}var st=ne(he,me,Ne,$e,ot),Wt=H.redraw(he),Pt=[he,st.update,Ne,st.maxPoints];return p.add(he,H.extendTraces,Pt,K,arguments),Wt}function ie(he,me,Ne){he=L.getGraphDiv(he);var $e=[],ot=H.deleteTraces,st=ie,Wt=[he,$e],Pt=[he,me],dt,Mt;for(W(he,me,Ne),Array.isArray(me)||(me=[me]),me=me.map(function(Xt){return L.extendFlat({},Xt)}),x.cleanData(me),dt=0;dt<me.length;dt++)he.data.push(me[dt]);for(dt=0;dt<me.length;dt++)$e.push(-me.length+dt);if(typeof Ne>"u")return Mt=H.redraw(he),p.add(he,ot,Wt,st,Pt),Mt;Array.isArray(Ne)||(Ne=[Ne]);try{B(he,$e,Ne)}catch(Xt){throw he.data.splice(he.data.length-me.length,me.length),Xt}return p.startSequence(he),p.add(he,ot,Wt,st,Pt),Mt=H.moveTraces(he,$e,Ne),p.stopSequence(he),Mt}function Y(he,me){he=L.getGraphDiv(he);var Ne=[],$e=H.addTraces,ot=Y,st=[he,Ne,me],Wt=[he,me],Pt,dt;if(typeof me>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(me)||(me=[me]),z(he,me,"indices"),me=F(me,he.data.length-1),me.sort(L.sorterDes),Pt=0;Pt<me.length;Pt+=1)dt=he.data.splice(me[Pt],1)[0],Ne.push(dt);var Mt=H.redraw(he);return p.add(he,$e,st,ot,Wt),Mt}function Q(he,me,Ne){he=L.getGraphDiv(he);var $e=[],ot=[],st=Q,Wt=Q,Pt=[he,Ne,me],dt=[he,me,Ne],Mt;if(B(he,me,Ne),me=Array.isArray(me)?me:[me],typeof Ne>"u")for(Ne=[],Mt=0;Mt<me.length;Mt++)Ne.push(-me.length+Mt);for(Ne=Array.isArray(Ne)?Ne:[Ne],me=F(me,he.data.length-1),Ne=F(Ne,he.data.length-1),Mt=0;Mt<he.data.length;Mt++)me.indexOf(Mt)===-1&&$e.push(he.data[Mt]);for(Mt=0;Mt<me.length;Mt++)ot.push({newIndex:Ne[Mt],trace:he.data[me[Mt]]});for(ot.sort(function(nr,vt){return nr.newIndex-vt.newIndex}),Mt=0;Mt<ot.length;Mt+=1)$e.splice(ot[Mt].newIndex,0,ot[Mt].trace);he.data=$e;var Xt=H.redraw(he);return p.add(he,st,Pt,Wt,dt),Xt}function oe(he,me,Ne,$e){he=L.getGraphDiv(he),x.clearPromiseQueue(he);var ot={};if(typeof me=="string")ot[me]=Ne;else if(L.isPlainObject(me))ot=L.extendFlat({},me),$e===void 0&&($e=Ne);else return L.warn("Restyle fail.",me,Ne,$e),Promise.reject();Object.keys(ot).length&&(he.changed=!0);var st=x.coerceTraceIndices(he,$e),Wt=fe(he,ot,st),Pt=Wt.flags;Pt.calc&&(he.calcdata=void 0),Pt.clearAxisTypes&&x.clearAxisTypes(he,st,{});var dt=[];Pt.fullReplot?dt.push(H._doPlot):(dt.push(i.previousPromises),i.supplyDefaults(he),Pt.markerSize&&(i.doCalcdata(he),_e(dt)),Pt.style&&dt.push(w.doTraceStyle),Pt.colorbars&&dt.push(w.doColorBars),dt.push(E)),dt.push(i.rehover,i.redrag,i.reselect),p.add(he,oe,[he,Wt.undoit,Wt.traces],oe,[he,Wt.redoit,Wt.traces]);var Mt=L.syncOrAsync(dt,he);return(!Mt||!Mt.then)&&(Mt=Promise.resolve()),Mt.then(function(){return he.emit("plotly_restyle",Wt.eventData),he})}function X(he){return he===void 0?null:he}function j(he,me){return me?function(Ne,$e,ot){var st=S(Ne,$e),Wt=st.set;return st.set=function(Pt){var dt=(ot||"")+$e;se(dt,st.get(),Pt,he),Wt(Pt)},st}:S}function se(he,me,Ne,$e){if(Array.isArray(me)||Array.isArray(Ne))for(var ot=Array.isArray(me)?me:[],st=Array.isArray(Ne)?Ne:[],Wt=Math.max(ot.length,st.length),Pt=0;Pt<Wt;Pt++)se(he+"["+Pt+"]",ot[Pt],st[Pt],$e);else if(L.isPlainObject(me)||L.isPlainObject(Ne)){var dt=L.isPlainObject(me)?me:{},Mt=L.isPlainObject(Ne)?Ne:{},Xt=L.extendFlat({},dt,Mt);for(var nr in Xt)se(he+"."+nr,dt[nr],Mt[nr],$e)}else $e[he]===void 0&&($e[he]=X(me))}function te(he,me,Ne){for(var $e in Ne){var ot=S(he,$e);se($e,ot.get(),Ne[$e],me)}}function fe(he,me,Ne){var $e=he._fullLayout,ot=he._fullData,st=he.data,Wt=$e._guiEditing,Pt=j($e._preGUI,Wt),dt=L.extendDeepAll({},me),Mt;ge(me);var Xt=C.traceFlags(),nr={},vt={},Zt;function Kt(){return Ne.map(function(){})}function yr(Tn){var Tr=n.id2name(Tn);Zt.indexOf(Tr)===-1&&Zt.push(Tr)}function or(Tn){return"LAYOUT"+Tn+".autorange"}function mt(Tn){return"LAYOUT"+Tn+".range"}function lt(Tn){for(var Tr=Tn;Tr<ot.length;Tr++)if(ot[Tr]._input===st[Tn])return ot[Tr]}function bt(Tn,Tr,zr){if(Array.isArray(Tn)){Tn.forEach(function(fn){bt(fn,Tr,zr)});return}if(!(Tn in me||x.hasParent(me,Tn))){var Yr;if(Tn.substr(0,6)==="LAYOUT")Yr=Pt(he.layout,Tn.replace("LAYOUT",""));else{var Or=Ne[zr],ln=$e._tracePreGUI[lt(Or)._fullInput.uid];Yr=j(ln,Wt)(st[Or],Tn)}Tn in vt||(vt[Tn]=Kt()),vt[Tn][zr]===void 0&&(vt[Tn][zr]=X(Yr.get())),Tr!==void 0&&Yr.set(Tr)}}function Ct(Tn){return function(Tr){return ot[Tr][Tn]}}function Dt(Tn){return function(Tr,zr){return Tr===!1?ot[Ne[zr]][Tn]:null}}for(var Ht in me){if(x.hasParent(me,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Bt=me[Ht],Ut,Jt,cr,hr,pr,Ye;if((Ht==="autobinx"||Ht==="autobiny")&&(Ht=Ht.charAt(Ht.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Ht)):Bt===!1?Bt=Ne.map(Ct(Ht)):Bt=null),nr[Ht]=Bt,Ht.substr(0,6)==="LAYOUT"){cr=Pt(he.layout,Ht.replace("LAYOUT","")),vt[Ht]=[X(cr.get())],cr.set(Array.isArray(Bt)?Bt[0]:Bt),Xt.calc=!0;continue}for(vt[Ht]=Kt(),Mt=0;Mt<Ne.length;Mt++){Ut=st[Ne[Mt]],Jt=lt(Ne[Mt]);var Ue=$e._tracePreGUI[Jt._fullInput.uid];if(cr=j(Ue,Wt)(Ut,Ht),hr=cr.get(),pr=Array.isArray(Bt)?Bt[Mt%Bt.length]:Bt,pr!==void 0){var Ot=cr.parts[cr.parts.length-1],It=Ht.substr(0,Ht.length-Ot.length-1),Qt=It?It+".":"",lr=It?S(Jt,It).get():Jt;if(Ye=t.getTraceValObject(Jt,cr.parts),Ye&&Ye.impliedEdits&&pr!==null)for(var fr in Ye.impliedEdits)bt(L.relativeAttr(Ht,fr),Ye.impliedEdits[fr],Mt);else if((Ot==="thicknessmode"||Ot==="lenmode")&&hr!==pr&&(pr==="fraction"||pr==="pixels")&&lr){var er=$e._size,Nt=lr.orient,ir=Nt==="top"||Nt==="bottom";if(Ot==="thicknessmode"){var vr=ir?er.h:er.w;bt(Qt+"thickness",lr.thickness*(pr==="fraction"?1/vr:vr),Mt)}else{var xr=ir?er.w:er.h;bt(Qt+"len",lr.len*(pr==="fraction"?1/xr:xr),Mt)}}else if(Ht==="type"&&(pr==="pie"!=(hr==="pie")||pr==="funnelarea"!=(hr==="funnelarea"))){var dr="x",Hr="y";(pr==="bar"||hr==="bar")&&Ut.orientation==="h"&&(dr="y",Hr="x"),L.swapAttrs(Ut,["?","?src"],"labels",dr),L.swapAttrs(Ut,["d?","?0"],"label",dr),L.swapAttrs(Ut,["?","?src"],"values",Hr),hr==="pie"||hr==="funnelarea"?(S(Ut,"marker.color").set(S(Ut,"marker.colors").get()),$e._pielayer.selectAll("g.trace").remove()):r.traceIs(Ut,"cartesian")&&S(Ut,"marker.colors").set(S(Ut,"marker.color").get())}vt[Ht][Mt]=X(hr);var Pr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Pr.indexOf(Ht)!==-1){if(Ht==="orientation"){cr.set(pr);var Rr=Ut.x&&!Ut.y?"h":"v";if((cr.get()||Rr)===Jt.orientation)continue}else Ht==="orientationaxes"&&(Ut.orientation={v:"h",h:"v"}[Jt.orientation]);x.swapXYData(Ut),Xt.calc=Xt.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(cr.parts[0])!==-1?(x.manageArrayContainers(cr,pr,vt),Xt.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs(Jt,"regl")&&(L.isArrayOrTypedArray(pr)||L.isArrayOrTypedArray(hr))?Xt.calc=!0:C.update(Xt,Ye):Xt.calc=!0,cr.set(pr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ht)!==-1&&n.swap(he,Ne),Ht==="orientationaxes"){var an=S(he.layout,"hovermode"),tn=an.get();tn==="x"?an.set("y"):tn==="y"?an.set("x"):tn==="x unified"?an.set("y unified"):tn==="y unified"&&an.set("x unified")}if(["orientation","type"].indexOf(Ht)!==-1){for(Zt=[],Mt=0;Mt<Ne.length;Mt++){var Sn=st[Ne[Mt]];r.traceIs(Sn,"cartesian")&&(yr(Sn.xaxis||"x"),yr(Sn.yaxis||"y"))}bt(Zt.map(or),!0,0),bt(Zt.map(mt),[0,1],0)}}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),{flags:Xt,undoit:vt,redoit:nr,traces:Ne,eventData:L.extendDeepNoArrays([],[dt,Ne])}}function ge(he){var me=L.counterRegex("axis",".title",!1,!1),Ne=/colorbar\.title$/,$e=Object.keys(he),ot,st,Wt;for(ot=0;ot<$e.length;ot++)st=$e[ot],Wt=he[st],(st==="title"||me.test(st)||Ne.test(st))&&(typeof Wt=="string"||typeof Wt=="number")?Pt(st,st.replace("title","title.text")):st.indexOf("titlefont")>-1&&st.indexOf("grouptitlefont")===-1?Pt(st,st.replace("titlefont","title.font")):st.indexOf("titleposition")>-1?Pt(st,st.replace("titleposition","title.position")):st.indexOf("titleside")>-1?Pt(st,st.replace("titleside","title.side")):st.indexOf("titleoffset")>-1&&Pt(st,st.replace("titleoffset","title.offset"));function Pt(dt,Mt){he[Mt]=he[dt],delete he[dt]}}function be(he,me,Ne){he=L.getGraphDiv(he),x.clearPromiseQueue(he);var $e={};if(typeof me=="string")$e[me]=Ne;else if(L.isPlainObject(me))$e=L.extendFlat({},me);else return L.warn("Relayout fail.",me,Ne),Promise.reject();Object.keys($e).length&&(he.changed=!0);var ot=Re(he,$e),st=ot.flags;st.calc&&(he.calcdata=void 0);var Wt=[i.previousPromises];st.layoutReplot?Wt.push(w.layoutReplot):Object.keys($e).length&&(xe(he,st,ot)||i.supplyDefaults(he),st.legend&&Wt.push(w.doLegend),st.layoutstyle&&Wt.push(w.layoutStyles),st.axrange&&_e(Wt,ot.rangesAltered),st.ticks&&Wt.push(w.doTicksRelayout),st.modebar&&Wt.push(w.doModeBar),st.camera&&Wt.push(w.doCamera),st.colorbars&&Wt.push(w.doColorBars),Wt.push(E)),Wt.push(i.rehover,i.redrag,i.reselect),p.add(he,be,[he,ot.undoit],be,[he,ot.redoit]);var Pt=L.syncOrAsync(Wt,he);return(!Pt||!Pt.then)&&(Pt=Promise.resolve(he)),Pt.then(function(){return he.emit("plotly_relayout",ot.eventData),he})}function xe(he,me,Ne){var $e=he._fullLayout;if(!me.axrange)return!1;for(var ot in me)if(ot!=="axrange"&&me[ot])return!1;var st,Wt,Pt=function(Zt,Kt){return L.coerce(st,Wt,u,Zt,Kt)},dt={};for(var Mt in Ne.rangesAltered){var Xt=n.id2name(Mt);if(st=he.layout[Xt],Wt=$e[Xt],f(st,Wt,Pt,dt),Wt._matchGroup){for(var nr in Wt._matchGroup)if(nr!==Mt){var vt=$e[n.id2name(nr)];vt.autorange=Wt.autorange,vt.range=Wt.range.slice(),vt._input.range=Wt.range.slice()}}}return!0}function _e(he,me){var Ne=me?function($e){var ot=[],st=!0;for(var Wt in me){var Pt=n.getFromId($e,Wt);if(ot.push(Wt),(Pt.ticklabelposition||"").indexOf("inside")!==-1&&Pt._anchorAxis&&ot.push(Pt._anchorAxis._id),Pt._matchGroup)for(var dt in Pt._matchGroup)me[dt]||ot.push(dt)}return n.draw($e,ot,{skipTitle:st})}:function($e){return n.draw($e,"redraw")};he.push(c,w.doAutoRangeAndConstraints,Ne,w.drawData,w.finalDraw)}var De=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Fe=/^[xyz]axis[0-9]*\.autorange$/,Te=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Re(he,me){var Ne=he.layout,$e=he._fullLayout,ot=$e._guiEditing,st=j($e._preGUI,ot),Wt=Object.keys(me),Pt=n.list(he),dt=L.extendDeepAll({},me),Mt={},Xt,nr,vt;for(ge(me),Wt=Object.keys(me),nr=0;nr<Wt.length;nr++)if(Wt[nr].indexOf("allaxes")===0){for(vt=0;vt<Pt.length;vt++){var Zt=Pt[vt]._id.substr(1),Kt=Zt.indexOf("scene")!==-1?Zt+".":"",yr=Wt[nr].replace("allaxes",Kt+Pt[vt]._name);me[yr]||(me[yr]=me[Wt[nr]])}delete me[Wt[nr]]}var or=C.layoutFlags(),mt={},lt={};function bt(ln,fn){if(Array.isArray(ln)){ln.forEach(function(Pn){bt(Pn,fn)});return}if(!(ln in me||x.hasParent(me,ln))){var Mn=st(Ne,ln);ln in lt||(lt[ln]=X(Mn.get())),fn!==void 0&&Mn.set(fn)}}var Ct={},Dt;function Ht(ln){var fn=n.name2id(ln.split(".")[0]);return Ct[fn]=1,fn}for(var Bt in me){if(x.hasParent(me,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Ut=st(Ne,Bt),Jt=me[Bt],cr=Ut.parts.length,hr=cr-1;hr>0&&typeof Ut.parts[hr]!="string";)hr--;var pr=Ut.parts[hr],Ye=Ut.parts[hr-1]+"."+pr,Ue=Ut.parts.slice(0,hr).join("."),Ot=S(he.layout,Ue).get(),It=S($e,Ue).get(),Qt=Ut.get();if(Jt!==void 0){mt[Bt]=Jt,lt[Bt]=pr==="reverse"?Jt:X(Qt);var lr=t.getLayoutValObject($e,Ut.parts);if(lr&&lr.impliedEdits&&Jt!==null)for(var fr in lr.impliedEdits)bt(L.relativeAttr(Bt,fr),lr.impliedEdits[fr]);if(["width","height"].indexOf(Bt)!==-1)if(Jt){bt("autosize",null);var er=Bt==="height"?"width":"height";bt(er,$e[er])}else $e[Bt]=he._initialAutoSize[Bt];else if(Bt==="autosize")bt("width",Jt?null:$e.width),bt("height",Jt?null:$e.height);else if(Ye.match(De))Ht(Ye),S($e,Ue+"._inputRange").set(null);else if(Ye.match(Fe)){Ht(Ye),S($e,Ue+"._inputRange").set(null);var Nt=S($e,Ue).get();Nt._inputDomain&&(Nt._input.domain=Nt._inputDomain.slice())}else Ye.match(Te)&&S($e,Ue+"._inputDomain").set(null);if(pr==="type"){Dt=Ot;var ir=It.type==="linear"&&Jt==="log",vr=It.type==="log"&&Jt==="linear";if(ir||vr){if(!Dt||!Dt.range)bt(Ue+".autorange",!0);else if(It.autorange)ir&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var xr=Dt.range[0],dr=Dt.range[1];ir?(xr<=0&&dr<=0&&bt(Ue+".autorange",!0),xr<=0?xr=dr/1e6:dr<=0&&(dr=xr/1e6),bt(Ue+".range[0]",Math.log(xr)/Math.LN10),bt(Ue+".range[1]",Math.log(dr)/Math.LN10)):(bt(Ue+".range[0]",Math.pow(10,xr)),bt(Ue+".range[1]",Math.pow(10,dr)))}Array.isArray($e._subplots.polar)&&$e._subplots.polar.length&&$e[Ut.parts[0]]&&Ut.parts[1]==="radialaxis"&&delete $e[Ut.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(he,It,Jt,bt),r.getComponentMethod("images","convertCoords")(he,It,Jt,bt)}else bt(Ue+".autorange",!0),bt(Ue+".range",null);S($e,Ue+"._inputRange").set(null)}else if(pr.match(y)){var Hr=S($e,Bt).get(),Pr=(Jt||{}).type;(!Pr||Pr==="-")&&(Pr="linear"),r.getComponentMethod("annotations","convertCoords")(he,Hr,Pr,bt),r.getComponentMethod("images","convertCoords")(he,Hr,Pr,bt)}var Rr=d.containerArrayMatch(Bt);if(Rr){Xt=Rr.array,nr=Rr.index;var an=Rr.property,tn=lr||{editType:"calc"};nr!==""&&an===""&&(d.isAddVal(Jt)?lt[Bt]=null:d.isRemoveVal(Jt)?lt[Bt]=(S(Ne,Xt).get()||[])[nr]:L.warn("unrecognized full object value",me)),C.update(or,tn),Mt[Xt]||(Mt[Xt]={});var Sn=Mt[Xt][nr];Sn||(Sn=Mt[Xt][nr]={}),Sn[an]=Jt,delete me[Bt]}else pr==="reverse"?(Ot.range?Ot.range.reverse():(bt(Ue+".autorange",!0),Ot.range=[1,0]),It.autorange?or.calc=!0:or.plot=!0):(Bt==="dragmode"&&(Jt===!1&&Qt!==!1||Jt!==!1&&Qt===!1)||$e._has("scatter-like")&&$e._has("regl")&&Bt==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(Qt==="lasso"||Qt==="select")||$e._has("gl2d")?or.plot=!0:lr?C.update(or,lr):or.calc=!0,Ut.set(Jt))}}for(Xt in Mt){var Tn=d.applyContainerArrayChanges(he,st(Ne,Xt),Mt[Xt],or,st);Tn||(or.plot=!0)}for(var Tr in Ct){Dt=n.getFromId(he,Tr);var zr=Dt&&Dt._constraintGroup;if(zr){or.calc=!0;for(var Yr in zr)Ct[Yr]||(n.getFromId(he,Yr)._constraintShrinkable=!0)}}(Se(he)||me.height||me.width)&&(or.plot=!0);var Or=$e.shapes;for(nr=0;nr<Or.length;nr++)if(Or[nr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Ct,undoit:lt,redoit:mt,eventData:dt}}function Se(he){var me=he._fullLayout,Ne=me.width,$e=me.height;return he.layout.autosize&&i.plotAutoSize(he,he.layout,me),me.width!==Ne||me.height!==$e}function Ie(he,me,Ne,$e){he=L.getGraphDiv(he),x.clearPromiseQueue(he),L.isPlainObject(me)||(me={}),L.isPlainObject(Ne)||(Ne={}),Object.keys(me).length&&(he.changed=!0),Object.keys(Ne).length&&(he.changed=!0);var ot=x.coerceTraceIndices(he,$e),st=fe(he,L.extendFlat({},me),ot),Wt=st.flags,Pt=Re(he,L.extendFlat({},Ne)),dt=Pt.flags;(Wt.calc||dt.calc)&&(he.calcdata=void 0),Wt.clearAxisTypes&&x.clearAxisTypes(he,ot,Ne);var Mt=[];dt.layoutReplot?Mt.push(w.layoutReplot):Wt.fullReplot?Mt.push(H._doPlot):(Mt.push(i.previousPromises),xe(he,dt,Pt)||i.supplyDefaults(he),Wt.style&&Mt.push(w.doTraceStyle),(Wt.colorbars||dt.colorbars)&&Mt.push(w.doColorBars),dt.legend&&Mt.push(w.doLegend),dt.layoutstyle&&Mt.push(w.layoutStyles),dt.axrange&&_e(Mt,Pt.rangesAltered),dt.ticks&&Mt.push(w.doTicksRelayout),dt.modebar&&Mt.push(w.doModeBar),dt.camera&&Mt.push(w.doCamera),Mt.push(E)),Mt.push(i.rehover,i.redrag,i.reselect),p.add(he,Ie,[he,st.undoit,Pt.undoit,st.traces],Ie,[he,st.redoit,Pt.redoit,st.traces]);var Xt=L.syncOrAsync(Mt,he);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(he)),Xt.then(function(){return he.emit("plotly_update",{data:st.eventData,layout:Pt.eventData}),he})}function Me(he){return function(Ne){Ne._fullLayout._guiEditing=!0;var $e=he.apply(null,arguments);return Ne._fullLayout._guiEditing=!1,$e}}var Ve=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],et=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function it(he,me){for(var Ne=0;Ne<me.length;Ne++){var $e=me[Ne],ot=he.match($e.pattern);if(ot){var st=ot[1]||"";return{head:st,tail:he.substr(st.length+1),attr:$e.attr}}}}function Je(he,me){var Ne=S(me,he).get();if(Ne!==void 0)return Ne;var $e=he.split(".");for($e.pop();$e.length>1;)if($e.pop(),Ne=S(me,$e.join(".")+".uirevision").get(),Ne!==void 0)return Ne;return me.uirevision}function Qe(he,me){for(var Ne=0;Ne<me.length;Ne++)if(me[Ne]._fullInput.uid===he)return Ne;return-1}function ct(he,me,Ne){for(var $e=0;$e<me.length;$e++)if(me[$e].uid===he)return $e;return!me[Ne]||me[Ne].uid?-1:Ne}function ht(he,me){var Ne=L.isPlainObject(he),$e=Array.isArray(he);return Ne||$e?(Ne&&L.isPlainObject(me)||$e&&Array.isArray(me))&&JSON.stringify(he)===JSON.stringify(me):he===me}function gt(he,me,Ne,$e){var ot=$e._preGUI,st,Wt,Pt,dt,Mt,Xt,nr,vt,Zt,Kt,yr=[],or={},mt={};for(st in ot){if(Mt=it(st,Ve),Mt){if(Zt=Mt.head,Kt=Mt.tail,Wt=Mt.attr||Zt+".uirevision",Pt=S($e,Wt).get(),dt=Pt&&Je(Wt,me),dt&&dt===Pt){if(Xt=ot[st],Xt===null&&(Xt=void 0),nr=S(me,st),vt=nr.get(),ht(vt,Xt)){vt===void 0&&Kt==="autorange"&&yr.push(Zt),nr.set(X(S($e,st).get()));continue}else if(Kt==="autorange"||Kt.substr(0,6)==="range["){var lt=ot[Zt+".range[0]"],bt=ot[Zt+".range[1]"],Ct=ot[Zt+".autorange"];if(Ct||Ct===null&&lt===null&&bt===null){if(!(Zt in or)){var Dt=S(me,Zt).get();or[Zt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(or[Zt]){nr.set(X(S($e,st).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+st);delete ot[st],Mt&&Mt.tail.substr(0,6)==="range["&&(mt[Mt.head]=1)}for(var Ht=0;Ht<yr.length;Ht++){var Bt=yr[Ht];if(mt[Bt]){var Ut=S(me,Bt).get();Ut&&delete Ut.autorange}}var Jt=$e._tracePreGUI;for(var cr in Jt){var hr=Jt[cr],pr=null,Ye;for(st in hr){if(!pr){var Ue=Qe(cr,Ne);if(Ue<0){delete Jt[cr];break}var Ot=Ne[Ue];Ye=Ot._fullInput;var It=ct(cr,he,Ye.index);if(It<0){delete Jt[cr];break}pr=he[It]}if(Mt=it(st,et),Mt){if(Mt.attr?(Pt=S($e,Mt.attr).get(),dt=Pt&&Je(Mt.attr,me)):(Pt=Ye.uirevision,dt=pr.uirevision,dt===void 0&&(dt=me.uirevision)),dt&&dt===Pt&&(Xt=hr[st],Xt===null&&(Xt=void 0),nr=S(pr,st),vt=nr.get(),ht(vt,Xt))){nr.set(X(S(Ye,st).get()));continue}}else L.warn("unrecognized GUI edit: "+st+" in trace uid "+cr);delete hr[st]}}}function Tt(he,me,Ne,$e){var ot,st;function Wt(){return H.addFrames(he,ot)}he=L.getGraphDiv(he),x.clearPromiseQueue(he);var Pt=he._fullData,dt=he._fullLayout;if(!L.isPlotDiv(he)||!Pt||!dt)st=H.newPlot(he,me,Ne,$e);else{if(L.isPlainObject(me)){var Mt=me;me=Mt.data,Ne=Mt.layout,$e=Mt.config,ot=Mt.frames}var Xt=!1;if($e){var nr=L.extendDeep({},he._context);he._context=void 0,N(he,$e),Xt=He(nr,he._context)}he.data=me||[],x.cleanData(he.data),he.layout=Ne||{},x.cleanLayout(he.layout),gt(he.data,he.layout,Pt,dt),i.supplyDefaults(he,{skipUpdateCalc:!0});var vt=he._fullData,Zt=he._fullLayout,Kt=Zt.datarevision===void 0,yr=Zt.transition,or=rt(he,dt,Zt,Kt,yr),mt=or.newDataRevision,lt=Et(he,Pt,vt,Kt,yr,mt);if(Se(he)&&(or.layoutReplot=!0),lt.calc||or.calc){he.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Zt),Ct=0;Ct<bt.length;Ct++){var Dt=bt[Ct],Ht=Dt.substring(0,5);if(Ht==="xaxis"||Ht==="yaxis"){var Bt=Zt[Dt]._emptyCategories;Bt&&Bt()}}}else i.supplyDefaultsUpdateCalc(he.calcdata,vt);var Ut=[];if(ot&&(he._transitionData={},i.createTransitionData(he),Ut.push(Wt)),Zt.transition&&!Xt&&(lt.anim||or.anim))or.ticks&&Ut.push(w.doTicksRelayout),i.doCalcdata(he),w.doAutoRangeAndConstraints(he),Ut.push(function(){return i.transitionFromReact(he,lt,or,dt)});else if(lt.fullReplot||or.layoutReplot||Xt)he._fullLayout._skipDefaults=!0,Ut.push(H._doPlot);else{for(var Jt in or.arrays){var cr=or.arrays[Jt];if(cr.length){var hr=r.getComponentMethod(Jt,"drawOne");if(hr!==L.noop)for(var pr=0;pr<cr.length;pr++)hr(he,cr[pr]);else{var Ye=r.getComponentMethod(Jt,"draw");if(Ye===L.noop)throw new Error("cannot draw components: "+Jt);Ye(he)}}}Ut.push(i.previousPromises),lt.style&&Ut.push(w.doTraceStyle),(lt.colorbars||or.colorbars)&&Ut.push(w.doColorBars),or.legend&&Ut.push(w.doLegend),or.layoutstyle&&Ut.push(w.layoutStyles),or.axrange&&_e(Ut),or.ticks&&Ut.push(w.doTicksRelayout),or.modebar&&Ut.push(w.doModeBar),or.camera&&Ut.push(w.doCamera),Ut.push(E)}Ut.push(i.rehover,i.redrag,i.reselect),st=L.syncOrAsync(Ut,he),(!st||!st.then)&&(st=Promise.resolve(he))}return st.then(function(){return he.emit("plotly_react",{data:me,layout:Ne}),he})}function Et(he,me,Ne,$e,ot,st){var Wt=me.length===Ne.length;if(!ot&&!Wt)return{fullReplot:!0,calc:!0};var Pt=C.traceFlags();Pt.arrays={},Pt.nChanges=0,Pt.nChangesAnim=0;var dt,Mt;function Xt(Zt){var Kt=t.getTraceValObject(Mt,Zt);return!Mt._module.animatable&&Kt.anim&&(Kt.anim=!1),Kt}var nr={getValObject:Xt,flags:Pt,immutable:$e,transition:ot,newDataRevision:st,gd:he},vt={};for(dt=0;dt<me.length;dt++)if(Ne[dt]){if(Mt=Ne[dt]._fullInput,i.hasMakesDataTransform(Mt)&&(Mt=Ne[dt]),vt[Mt.uid])continue;vt[Mt.uid]=1,ze(me[dt]._fullInput,Mt,[],nr)}return(Pt.calc||Pt.plot)&&(Pt.fullReplot=!0),ot&&Pt.nChanges&&Pt.nChangesAnim&&(Pt.anim=Pt.nChanges===Pt.nChangesAnim&&Wt?"all":"some"),Pt}function rt(he,me,Ne,$e,ot){var st=C.layoutFlags();st.arrays={},st.rangesAltered={},st.nChanges=0,st.nChangesAnim=0;function Wt(dt){return t.getLayoutValObject(Ne,dt)}var Pt={getValObject:Wt,flags:st,immutable:$e,transition:ot,gd:he};return ze(me,Ne,[],Pt),(st.plot||st.calc)&&(st.layoutReplot=!0),ot&&st.nChanges&&st.nChangesAnim&&(st.anim=st.nChanges===st.nChangesAnim?"all":"some"),st}function ze(he,me,Ne,$e){var ot,st,Wt,Pt=$e.getValObject,dt=$e.flags,Mt=$e.immutable,Xt=$e.inArray,nr=$e.arrayIndex;function vt(){var Ue=ot.editType;if(Xt&&Ue.indexOf("arraydraw")!==-1){L.pushUnique(dt.arrays[Xt],nr);return}C.update(dt,ot),Ue!=="none"&&dt.nChanges++,$e.transition&&ot.anim&&dt.nChangesAnim++,(De.test(Wt)||Fe.test(Wt))&&(dt.rangesAltered[Ne[0]]=1),Te.test(Wt)&&S(me,"_inputDomain").set(null),st==="datarevision"&&(dt.newDataRevision=1)}function Zt(Ue){return Ue.valType==="data_array"||Ue.arrayOk}for(st in he){if(dt.calc&&!$e.transition)return;var Kt=he[st],yr=me[st],or=Ne.concat(st);if(Wt=or.join("."),!(st.charAt(0)==="_"||typeof Kt=="function"||Kt===yr)){if((st==="tick0"||st==="dtick")&&Ne[0]!=="geo"){var mt=me.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if(!(st==="range"&&me.autorange)&&!((st==="zmin"||st==="zmax")&&me.type==="contourcarpet")&&(ot=Pt(or),!!ot&&!(ot._compareAsJSON&&JSON.stringify(Kt)===JSON.stringify(yr)))){var lt=ot.valType,bt,Ct=Zt(ot),Dt=Array.isArray(Kt),Ht=Array.isArray(yr);if(Dt&&Ht){var Bt="_input_"+st,Ut=he[Bt],Jt=me[Bt];if(Array.isArray(Ut)&&Ut===Jt)continue}if(yr===void 0)Ct&&Dt?dt.calc=!0:vt();else if(ot._isLinkedToArray){var cr=[],hr=!1;Xt||(dt.arrays[st]=cr);var pr=Math.min(Kt.length,yr.length),Ye=Math.max(Kt.length,yr.length);if(pr!==Ye)if(ot.editType==="arraydraw")hr=!0;else{vt();continue}for(bt=0;bt<pr;bt++)ze(Kt[bt],yr[bt],or.concat(bt),L.extendFlat({inArray:st,arrayIndex:bt},$e));if(hr)for(bt=pr;bt<Ye;bt++)cr.push(bt)}else!lt&&L.isPlainObject(Kt)?ze(Kt,yr,or,$e):Ct?Dt&&Ht?(Mt&&(dt.calc=!0),(Mt||$e.newDataRevision)&&vt()):Dt!==Ht?dt.calc=!0:vt():Dt&&Ht?(Kt.length!==yr.length||String(Kt)!==String(yr))&&vt():vt()}}}for(st in me)if(!(st in he||st.charAt(0)==="_"||typeof me[st]=="function"))if(ot=Pt(Ne.concat(st)),Zt(ot)&&Array.isArray(me[st])){dt.calc=!0;return}else vt()}function He(he,me){var Ne;for(Ne in he)if(Ne.charAt(0)!=="_"){var $e=he[Ne],ot=me[Ne];if($e!==ot)if(L.isPlainObject($e)&&L.isPlainObject(ot)){if(He($e,ot))return!0}else if(Array.isArray($e)&&Array.isArray(ot)){if($e.length!==ot.length)return!0;for(var st=0;st<$e.length;st++)if($e[st]!==ot[st])if(L.isPlainObject($e[st])&&L.isPlainObject(ot[st])){if(He($e[st],ot[st]))return!0}else return!0}else return!0}}function Ge(he,me,Ne){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var $e=he._transitionData;$e._frameQueue||($e._frameQueue=[]),Ne=i.supplyAnimationDefaults(Ne);var ot=Ne.transition,st=Ne.frame;$e._frameWaitingCnt===void 0&&($e._frameWaitingCnt=0);function Wt(Mt){return Array.isArray(ot)?Mt>=ot.length?ot[0]:ot[Mt]:ot}function Pt(Mt){return Array.isArray(st)?Mt>=st.length?st[0]:st[Mt]:st}function dt(Mt,Xt){var nr=0;return function(){if(Mt&&++nr===Xt)return Mt()}}return new Promise(function(Mt,Xt){function nr(){if($e._frameQueue.length!==0){for(;$e._frameQueue.length;){var pr=$e._frameQueue.pop();pr.onInterrupt&&pr.onInterrupt()}he.emit("plotly_animationinterrupted",[])}}function vt(pr){if(pr.length!==0){for(var Ye=0;Ye<pr.length;Ye++){var Ue;pr[Ye].type==="byname"?Ue=i.computeFrame(he,pr[Ye].name):Ue=pr[Ye].data;var Ot=Pt(Ye),It=Wt(Ye);It.duration=Math.min(It.duration,Ot.duration);var Qt={frame:Ue,name:pr[Ye].name,frameOpts:Ot,transitionOpts:It};Ye===pr.length-1&&(Qt.onComplete=dt(Mt,2),Qt.onInterrupt=Xt),$e._frameQueue.push(Qt)}Ne.mode==="immediate"&&($e._lastFrameAt=-1/0),$e._animationRaf||yr()}}function Zt(){he.emit("plotly_animated"),window.cancelAnimationFrame($e._animationRaf),$e._animationRaf=null}function Kt(){$e._currentFrame&&$e._currentFrame.onComplete&&$e._currentFrame.onComplete();var pr=$e._currentFrame=$e._frameQueue.shift();if(pr){var Ye=pr.name?pr.name.toString():null;he._fullLayout._currentFrame=Ye,$e._lastFrameAt=Date.now(),$e._timeToNext=pr.frameOpts.duration,i.transition(he,pr.frame.data,pr.frame.layout,x.coerceTraceIndices(he,pr.frame.traces),pr.frameOpts,pr.transitionOpts).then(function(){pr.onComplete&&pr.onComplete()}),he.emit("plotly_animatingframe",{name:Ye,frame:pr.frame,animation:{frame:pr.frameOpts,transition:pr.transitionOpts}})}else Zt()}function yr(){he.emit("plotly_animating"),$e._lastFrameAt=-1/0,$e._timeToNext=0,$e._runningTransitions=0,$e._currentFrame=null;var pr=function(){$e._animationRaf=window.requestAnimationFrame(pr),Date.now()-$e._lastFrameAt>$e._timeToNext&&Kt()};pr()}var or=0;function mt(pr){return Array.isArray(ot)?or>=ot.length?pr.transitionOpts=ot[or]:pr.transitionOpts=ot[0]:pr.transitionOpts=ot,or++,pr}var lt,bt,Ct=[],Dt=me==null,Ht=Array.isArray(me),Bt=!Dt&&!Ht&&L.isPlainObject(me);if(Bt)Ct.push({type:"object",data:mt(L.extendFlat({},me))});else if(Dt||["string","number"].indexOf(typeof me)!==-1)for(lt=0;lt<$e._frames.length;lt++)bt=$e._frames[lt],bt&&(Dt||String(bt.group)===String(me))&&Ct.push({type:"byname",name:String(bt.name),data:mt({name:bt.name})});else if(Ht)for(lt=0;lt<me.length;lt++){var Ut=me[lt];["number","string"].indexOf(typeof Ut)!==-1?(Ut=String(Ut),Ct.push({type:"byname",name:Ut,data:mt({name:Ut})})):L.isPlainObject(Ut)&&Ct.push({type:"object",data:mt(L.extendFlat({},Ut))})}for(lt=0;lt<Ct.length;lt++)if(bt=Ct[lt],bt.type==="byname"&&!$e._frameHash[bt.data.name]){L.warn('animate failure: frame not found: "'+bt.data.name+'"'),Xt();return}["next","immediate"].indexOf(Ne.mode)!==-1&&nr(),Ne.direction==="reverse"&&Ct.reverse();var Jt=he._fullLayout._currentFrame;if(Jt&&Ne.fromcurrent){var cr=-1;for(lt=0;lt<Ct.length;lt++)if(bt=Ct[lt],bt.type==="byname"&&bt.name===Jt){cr=lt;break}if(cr>0&&cr<Ct.length-1){var hr=[];for(lt=0;lt<Ct.length;lt++)bt=Ct[lt],(Ct[lt].type!=="byname"||lt>cr)&&hr.push(bt);Ct=hr}}Ct.length>0?vt(Ct):(he.emit("plotly_animated"),Mt())})}function We(he,me,Ne){if(he=L.getGraphDiv(he),me==null)return Promise.resolve();if(!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var $e,ot,st,Wt,Pt=he._transitionData._frames,dt=he._transitionData._frameHash;if(!Array.isArray(me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+me);var Mt=Pt.length+me.length*2,Xt=[],nr={};for($e=me.length-1;$e>=0;$e--)if(L.isPlainObject(me[$e])){var vt=me[$e].name,Zt=(dt[vt]||nr[vt]||{}).name,Kt=me[$e].name,yr=dt[Zt]||nr[Zt];Zt&&Kt&&typeof Kt=="number"&&yr&&M<A&&(M++,L.warn('addFrames: overwriting frame "'+(dt[Zt]||nr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),M===A&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),nr[vt]={name:vt},Xt.push({frame:i.supplyFrameDefaults(me[$e]),index:Ne&&Ne[$e]!==void 0&&Ne[$e]!==null?Ne[$e]:Mt+$e})}Xt.sort(function(Bt,Ut){return Bt.index>Ut.index?-1:Bt.index<Ut.index?1:0});var or=[],mt=[],lt=Pt.length;for($e=Xt.length-1;$e>=0;$e--){if(ot=Xt[$e].frame,typeof ot.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ot.name)for(;dt[ot.name="frame "+he._transitionData._counter++];);if(dt[ot.name]){for(st=0;st<Pt.length&&(Pt[st]||{}).name!==ot.name;st++);or.push({type:"replace",index:st,value:ot}),mt.unshift({type:"replace",index:st,value:Pt[st]})}else Wt=Math.max(0,Math.min(Xt[$e].index,lt)),or.push({type:"insert",index:Wt,value:ot}),mt.unshift({type:"delete",index:Wt}),lt++}var bt=i.modifyFrames,Ct=i.modifyFrames,Dt=[he,mt],Ht=[he,or];return p&&p.add(he,bt,Dt,Ct,Ht),i.modifyFrames(he,or)}function Le(he,me){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he);var Ne,$e,ot=he._transitionData._frames,st=[],Wt=[];if(!me)for(me=[],Ne=0;Ne<ot.length;Ne++)me.push(Ne);for(me=me.slice(),me.sort(),Ne=me.length-1;Ne>=0;Ne--)$e=me[Ne],st.push({type:"delete",index:$e}),Wt.unshift({type:"insert",index:$e,value:ot[$e]});var Pt=i.modifyFrames,dt=i.modifyFrames,Mt=[he,Wt],Xt=[he,st];return p&&p.add(he,Pt,Mt,dt,Xt),i.modifyFrames(he,st)}function Pe(he){he=L.getGraphDiv(he);var me=he._fullLayout||{},Ne=he._fullData||[];return i.cleanPlot([],{},Ne,me),i.purge(he),v.purge(he),me._container&&me._container.remove(),delete he._context,he}function je(he){var me=he._fullLayout,Ne=he.getBoundingClientRect();if(!L.equalDomRects(Ne,me._lastBBox)){var $e=me._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(he));me._invScaleX=Math.sqrt($e[0][0]*$e[0][0]+$e[0][1]*$e[0][1]+$e[0][2]*$e[0][2]),me._invScaleY=Math.sqrt($e[1][0]*$e[1][0]+$e[1][1]*$e[1][1]+$e[1][2]*$e[1][2]),me._lastBBox=Ne}}function Ce(he){var me=m.select(he),Ne=he._fullLayout;if(Ne._calcInverseTransform=je,Ne._calcInverseTransform(he),Ne._container=me.selectAll(".plot-container").data([0]),Ne._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ne._paperdiv=Ne._container.selectAll(".svg-container").data([0]),Ne._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ne._glcontainer=Ne._paperdiv.selectAll(".gl-container").data([{}]),Ne._glcontainer.enter().append("div").classed("gl-container",!0),Ne._paperdiv.selectAll(".main-svg").remove(),Ne._paperdiv.select(".modebar-container").remove(),Ne._paper=Ne._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ne._toppaper=Ne._paperdiv.append("svg").classed("main-svg",!0),Ne._modebardiv=Ne._paperdiv.append("div"),delete Ne._modeBar,Ne._hoverpaper=Ne._paperdiv.append("svg").classed("main-svg",!0),!Ne._uid){var $e={};m.selectAll("defs").each(function(){this.id&&($e[this.id.split("-")[1]]=1)}),Ne._uid=L.randstr($e)}Ne._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ne._defs=Ne._paper.append("defs").attr("id","defs-"+Ne._uid),Ne._clips=Ne._defs.append("g").classed("clips",!0),Ne._topdefs=Ne._toppaper.append("defs").attr("id","topdefs-"+Ne._uid),Ne._topclips=Ne._topdefs.append("g").classed("clips",!0),Ne._bgLayer=Ne._paper.append("g").classed("bglayer",!0),Ne._draggers=Ne._paper.append("g").classed("draglayer",!0);var ot=Ne._paper.append("g").classed("layer-below",!0);Ne._imageLowerLayer=ot.append("g").classed("imagelayer",!0),Ne._shapeLowerLayer=ot.append("g").classed("shapelayer",!0),Ne._cartesianlayer=Ne._paper.append("g").classed("cartesianlayer",!0),Ne._polarlayer=Ne._paper.append("g").classed("polarlayer",!0),Ne._smithlayer=Ne._paper.append("g").classed("smithlayer",!0),Ne._ternarylayer=Ne._paper.append("g").classed("ternarylayer",!0),Ne._geolayer=Ne._paper.append("g").classed("geolayer",!0),Ne._funnelarealayer=Ne._paper.append("g").classed("funnelarealayer",!0),Ne._pielayer=Ne._paper.append("g").classed("pielayer",!0),Ne._iciclelayer=Ne._paper.append("g").classed("iciclelayer",!0),Ne._treemaplayer=Ne._paper.append("g").classed("treemaplayer",!0),Ne._sunburstlayer=Ne._paper.append("g").classed("sunburstlayer",!0),Ne._indicatorlayer=Ne._toppaper.append("g").classed("indicatorlayer",!0),Ne._glimages=Ne._paper.append("g").classed("glimages",!0);var st=Ne._toppaper.append("g").classed("layer-above",!0);Ne._imageUpperLayer=st.append("g").classed("imagelayer",!0),Ne._shapeUpperLayer=st.append("g").classed("shapelayer",!0),Ne._selectionLayer=Ne._toppaper.append("g").classed("selectionlayer",!0),Ne._infolayer=Ne._toppaper.append("g").classed("infolayer",!0),Ne._menulayer=Ne._toppaper.append("g").classed("menulayer",!0),Ne._zoomlayer=Ne._toppaper.append("g").classed("zoomlayer",!0),Ne._hoverlayer=Ne._hoverpaper.append("g").classed("hoverlayer",!0),Ne._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),he.emit("plotly_framework")}H.animate=Ge,H.addFrames=We,H.deleteFrames=Le,H.addTraces=ie,H.deleteTraces=Y,H.extendTraces=$,H.moveTraces=Q,H.prependTraces=K,H.newPlot=O,H._doPlot=o,H.purge=Pe,H.react=Tt,H.redraw=k,H.relayout=be,H.restyle=oe,H.setPlotConfig=b,H.update=Ie,H._guiRelayout=Me(be),H._guiRestyle=Me(oe),H._guiUpdate=Me(Ie),H._storeDirectGUIEdit=te},20556:function(G){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function m(P,s){for(var L in P){var S=P[L];S.valType?s[L]=S.dflt:(s[L]||(s[L]={}),m(S,s[L]))}}m(H,e),G.exports={configAttributes:H,dfltConfig:e}},73060:function(G,H,e){var m=e(24040),P=e(3400),s=e(45464),L=e(64859),S=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,i=P.isPlainObject,n=P.isArrayOrTypedArray,f=P.nestedProperty,u=P.valObjectMeta,l="_isSubplotObj",g="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",c=[l,g,h,T];H.IS_SUBPLOT_OBJ=l,H.IS_LINKED_TO_ARRAY=g,H.DEPRECATED=T,H.UNDERSCORE_ATTRS=c,H.get=function(){var N={};m.allTypes.forEach(function(O){N[O]=w(O)});var k={};return Object.keys(m.transformsRegistry).forEach(function(O){k[O]=y(O)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:C(),transforms:k,frames:M(),animation:A(v),config:A(p)}},H.crawl=function(N,k,O,F){var z=O||0;F=F||"",Object.keys(N).forEach(function(B){var W=N[B];if(c.indexOf(B)===-1){var J=(F?F+".":"")+B;k(W,B,N,z,J),!H.isValObject(W)&&i(W)&&B!=="impliedEdits"&&H.crawl(W,k,z+1,J)}})},H.isValObject=function(N){return N&&N.valType!==void 0},H.findArrayAttributes=function(N){var k=[],O=[],F=[],z,B;function W(K,ie,Y,Q){O=O.slice(0,Q).concat([ie]),F=F.slice(0,Q).concat([K&&K._isLinkedToArray]);var oe=K&&(K.valType==="data_array"||K.arrayOk===!0)&&!(O[Q-1]==="colorbar"&&(ie==="ticktext"||ie==="tickvals"));oe&&J(z,0,"")}function J(K,ie,Y){var Q=K[O[ie]],oe=Y+O[ie];if(ie===O.length-1)n(Q)&&k.push(B+oe);else if(F[ie]){if(Array.isArray(Q))for(var X=0;X<Q.length;X++)i(Q[X])&&J(Q[X],ie+1,oe+"["+X+"].")}else i(Q)&&J(Q,ie+1,oe+".")}z=N,B="",H.crawl(s,W),N._module&&N._module.attributes&&H.crawl(N._module.attributes,W);var re=N.transforms;if(re)for(var ne=0;ne<re.length;ne++){var le=re[ne],$=le._module;$&&(B="transforms["+ne+"].",z=le,H.crawl($.attributes,W))}return k},H.getTraceValObject=function(N,k){var O=k[0],F=1,z,B;if(O==="transforms"){if(k.length===1)return s.transforms;var W=N.transforms;if(!Array.isArray(W)||!W.length)return!1;var J=k[1];if(!x(J)||J>=W.length)return!1;z=(m.transformsRegistry[W[J].type]||{}).attributes,B=z&&z[k[2]],F=3}else{var re=N._module;if(re||(re=(m.modules[N.type||s.type.dflt]||{})._module),!re)return!1;if(z=re.attributes,B=z&&z[O],!B){var ne=re.basePlotModule;ne&&ne.attributes&&(B=ne.attributes[O])}B||(B=s[O])}return d(B,k,F)},H.getLayoutValObject=function(N,k){var O=a(N,k[0]);return d(O,k,1)};function a(N,k){var O,F,z,B,W=N._basePlotModules;if(W){var J;for(O=0;O<W.length;O++){if(z=W[O],z.attrRegex&&z.attrRegex.test(k)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!J&&z.layoutAttributes&&(J=z.layoutAttributes)}var re=z.baseLayoutAttrOverrides;if(re&&k in re)return re[k]}if(J)return J}var ne=N._modules;if(ne){for(O=0;O<ne.length;O++)if(B=ne[O].layoutAttributes,B&&k in B)return B[k]}for(F in m.componentsRegistry){if(z=m.componentsRegistry[F],z.name==="colorscale"&&k.indexOf("coloraxis")===0)return z.layoutAttributes[k];if(!z.schema&&k===z.name)return z.layoutAttributes}return k in L?L[k]:!1}function d(N,k,O){if(!N)return!1;if(N._isLinkedToArray){if(x(k[O]))O++;else if(O<k.length)return!1}for(;O<k.length;O++){var F=N[k[O]];if(i(F))N=F;else break;if(O===k.length-1)break;if(N._isLinkedToArray){if(O++,!x(k[O]))return!1}else if(N.valType==="info_array"){O++;var z=k[O];if(!x(z))return!1;var B=N.items;if(Array.isArray(B)){if(z>=B.length)return!1;if(N.dimensions===2){if(O++,k.length===O)return N;var W=k[O];if(!x(W))return!1;N=B[z][W]}else N=B[z]}else N=B}}return N}function x(N){return N===Math.round(N)&&N>=0}function w(N){var k,O;k=m.modules[N]._module,O=k.basePlotModule;var F={};F.type=null;var z=t({},s),B=t({},k.attributes);H.crawl(B,function(re,ne,le,$,K){f(z,K).set(void 0),re===void 0&&f(B,K).set(void 0)}),t(F,z),m.traceIs(N,"noOpacity")&&delete F.opacity,m.traceIs(N,"showLegend")||(delete F.showlegend,delete F.legendgroup),m.traceIs(N,"noHover")&&(delete F.hoverinfo,delete F.hoverlabel),k.selectPoints||delete F.selectedpoints,t(F,B),O.attributes&&t(F,O.attributes),F.type=N;var W={meta:k.meta||{},categories:k.categories||{},animatable:!!k.animatable,type:N,attributes:A(F)};if(k.layoutAttributes){var J={};t(J,k.layoutAttributes),W.layoutAttributes=A(J)}return k.animatable||H.crawl(W,function(re){H.isValObject(re)&&"anim"in re&&delete re.anim}),W}function C(){var N={},k,O;t(N,L);for(k in m.subplotsRegistry)if(O=m.subplotsRegistry[k],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var F=0;F<O.attr.length;F++)I(N,O,O.attr[F]);else{var z=O.attr==="subplot"?O.name:O.attr;I(N,O,z)}for(k in m.componentsRegistry){O=m.componentsRegistry[k];var B=O.schema;if(B&&(B.subplots||B.layout)){var W=B.subplots;if(W&&W.xaxis&&!W.yaxis)for(var J in W.xaxis)delete N.yaxis[J];delete N.xaxis.shift,delete N.xaxis.autoshift}else O.name==="colorscale"?t(N,O.layoutAttributes):O.layoutAttributes&&D(N,O.layoutAttributes,O.name)}return{layoutAttributes:A(N)}}function y(N){var k=m.transformsRegistry[N],O=t({},k.attributes);return Object.keys(m.componentsRegistry).forEach(function(F){var z=m.componentsRegistry[F];z.schema&&z.schema.transforms&&z.schema.transforms[N]&&Object.keys(z.schema.transforms[N]).forEach(function(B){D(O,z.schema.transforms[N][B],B)})}),{attributes:A(O)}}function M(){var N={frames:t({},S)};return A(N),N.frames}function A(N){return o(N),E(N),b(N),N}function o(N){function k(F){return{valType:"string",editType:"none"}}function O(F,z,B){H.isValObject(F)?(F.arrayOk===!0||F.valType==="data_array")&&(B[z+"src"]=k()):i(F)&&(F.role="object")}H.crawl(N,O)}function E(N){function k(O,F,z){if(O){var B=O[g];B&&(delete O[g],z[F]={items:{}},z[F].items[B]=O,z[F].role="object")}}H.crawl(N,k)}function b(N){function k(O){for(var F in O)if(i(O[F]))k(O[F]);else if(Array.isArray(O[F]))for(var z=0;z<O[F].length;z++)k(O[F][z]);else O[F]instanceof RegExp&&(O[F]=O[F].toString())}k(N)}function I(N,k,O){var F=f(N,O),z=t({},k.layoutAttributes);z[l]=!0,F.set(z)}function D(N,k,O){var F=f(N,O);F.set(t(F.get()||{},k))}},31780:function(G,H,e){var m=e(3400),P=e(45464),s="templateitemname",L={name:{valType:"string",editType:"none"}};L[s]={valType:"string",editType:"calc"},H.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=L.name,r[s]=L[s],r},H.traceTemplater=function(p){var r={},t,i;for(t in p)i=p[t],Array.isArray(i)&&i.length&&(r[t]=0);function n(f){t=m.coerce(f,{},P,"type");var u={type:t,_template:null};if(t in r){i=p[t];var l=r[t]%i.length;r[t]++,u._template=i[l]}return u}return{newTrace:n}},H.newContainer=function(p,r,t){var i=p._template,n=i&&(i[r]||t&&i[t]);m.isPlainObject(n)||(n=null);var f=p[r]={_template:n};return f},H.arrayTemplater=function(p,r,t){var i=p._template,n=i&&i[v(r)],f=i&&i[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(h){var T={name:h.name,_input:h},c=T[s]=h[s];if(!S(c))return T._template=n,T;for(var a=0;a<f.length;a++){var d=f[a];if(d.name===c)return u[c]=1,T._template=d,T}return T[t]=h[t]||!1,T._template=!1,T}function g(){for(var h=[],T=0;T<f.length;T++){var c=f[T],a=c.name;if(S(a)&&!u[a]){var d={_template:c,name:a,_input:{_templateitemname:a}};d[s]=c[s],h.push(d),u[a]=1}}return h}return{newItem:l,defaultItems:g}};function S(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&m.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(p,r,t){var i=(m.nestedProperty(p,r).get()||[]).length,n=t._index,f=n>=i&&(t._input||{})._templateitemname;f&&(n=i);var u=r+"["+n+"]",l;function g(){l={},f&&(l[u]={},l[u][s]=f)}g();function h(d,x){l[d]=x}function T(d,x){f?m.nestedProperty(l[u],d).set(x):l[u+"."+d]=x}function c(){var d=l;return g(),d}function a(d,x){d&&T(d,x);var w=c();for(var C in w)m.nestedProperty(p,C).set(w[C])}return{modifyBase:h,modifyItem:T,getUpdateObj:c,applyUpdate:a}}},39172:function(G,H,e){var m=e(33428),P=e(24040),s=e(7316),L=e(3400),S=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),i=e(45460),n=e(54460),f=e(84284),u=e(71888),l=u.enforce,g=u.clean,h=e(19280).doAutoRange,T="start",c="middle",a="end";H.layoutStyles=function(O){return L.syncOrAsync([s.doAutoMargin,x],O)};function d(O,F,z){for(var B=0;B<z.length;B++){var W=z[B][0],J=z[B][1];if(!(W[0]>=O[1]||W[1]<=O[0])&&J[0]<F[1]&&J[1]>F[0])return!0}return!1}function x(O){var F=O._fullLayout,z=F._size,B=z.p,W=n.list(O,"",!0),J,re,ne,le,$,K;if(F._paperdiv.style({width:O._context.responsive&&F.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":F.width+"px",height:O._context.responsive&&F.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":F.height+"px"}).selectAll(".main-svg").call(r.setSize,F.width,F.height),O._context.setBackground(O,F.paper_bgcolor),H.drawMainTitle(O),i.manage(O),!F._has("cartesian"))return s.previousPromises(O);function ie(Pe,je,Ce){var he=Pe._lw/2;if(Pe._id.charAt(0)==="x"){if(je){if(Ce==="top")return je._offset-B-he}else return z.t+z.h*(1-(Pe.position||0))+he%1;return je._offset+je._length+B+he}if(je){if(Ce==="right")return je._offset+je._length+B+he}else return z.l+z.w*(Pe.position||0)+he%1;return je._offset-B-he}for(J=0;J<W.length;J++){le=W[J];var Y=le._anchorAxis;le._linepositions={},le._lw=r.crispRound(O,le.linewidth,1),le._mainLinePosition=ie(le,Y,le.side),le._mainMirrorPosition=le.mirror&&Y?ie(le,Y,f.OPPOSITE_SIDE[le.side]):null}var Q=[],oe=[],X=[],j=p.opacity(F.paper_bgcolor)===1&&p.opacity(F.plot_bgcolor)===1&&F.paper_bgcolor===F.plot_bgcolor;for(re in F._plots)if(ne=F._plots[re],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var se=ne.xaxis.domain,te=ne.yaxis.domain,fe=ne.plotgroup;if(d(se,te,X)){var ge=fe.node(),be=ne.bg=L.ensureSingle(fe,"rect","bg");ge.insertBefore(be.node(),ge.childNodes[0]),oe.push(re)}else fe.select("rect.bg").remove(),X.push([se,te]),j||(Q.push(re),oe.push(re))}var xe=F._bgLayer.selectAll(".bg").data(Q);for(xe.enter().append("rect").classed("bg",!0),xe.exit().remove(),xe.each(function(Pe){F._plots[Pe].bg=m.select(this)}),J=0;J<oe.length;J++)ne=F._plots[oe[J]],$=ne.xaxis,K=ne.yaxis,ne.bg&&$._offset!==void 0&&K._offset!==void 0&&ne.bg.call(r.setRect,$._offset-B,K._offset-B,$._length+2*B,K._length+2*B).call(p.fill,F.plot_bgcolor).style("stroke-width",0);if(!F._hasOnlyLargeSploms)for(re in F._plots){ne=F._plots[re],$=ne.xaxis,K=ne.yaxis;var _e=ne.clipId="clip"+F._uid+re+"plot",De=L.ensureSingleById(F._clips,"clipPath",_e,function(Pe){Pe.classed("plotclip",!0).append("rect")});ne.clipRect=De.select("rect").attr({width:$._length,height:K._length}),r.setTranslate(ne.plot,$._offset,K._offset);var Fe,Te;ne._hasClipOnAxisFalse?(Fe=null,Te=_e):(Fe=_e,Te=null),r.setClipUrl(ne.plot,Fe,O),ne.layerClipId=Te}var Re,Se,Ie,Me,Ve,et,it,Je,Qe,ct,ht,gt,Tt;function Et(Pe){return"M"+Re+","+Pe+"H"+Se}function rt(Pe){return"M"+$._offset+","+Pe+"h"+$._length}function ze(Pe){return"M"+Pe+","+Je+"V"+it}function He(Pe){return K._shift!==void 0&&(Pe+=K._shift),"M"+Pe+","+K._offset+"v"+K._length}function Ge(Pe,je,Ce){if(!Pe.showline||re!==Pe._mainSubplot)return"";if(!Pe._anchorAxis)return Ce(Pe._mainLinePosition);var he=je(Pe._mainLinePosition);return Pe.mirror&&(he+=je(Pe._mainMirrorPosition)),he}for(re in F._plots){ne=F._plots[re],$=ne.xaxis,K=ne.yaxis;var We="M0,0";w($,re)&&(Ve=y($,"left",K,W),Re=$._offset-(Ve?B+Ve:0),et=y($,"right",K,W),Se=$._offset+$._length+(et?B+et:0),Ie=ie($,K,"bottom"),Me=ie($,K,"top"),Tt=!$._anchorAxis||re!==$._mainSubplot,Tt&&($.mirror==="allticks"||$.mirror==="all")&&($._linepositions[re]=[Ie,Me]),We=Ge($,Et,rt),Tt&&$.showline&&($.mirror==="all"||$.mirror==="allticks")&&(We+=Et(Ie)+Et(Me)),ne.xlines.style("stroke-width",$._lw+"px").call(p.stroke,$.showline?$.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",We);var Le="M0,0";w(K,re)&&(ht=y(K,"bottom",$,W),it=K._offset+K._length+(ht?B:0),gt=y(K,"top",$,W),Je=K._offset-(gt?B:0),Qe=ie(K,$,"left"),ct=ie(K,$,"right"),Tt=!K._anchorAxis||re!==K._mainSubplot,Tt&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[re]=[Qe,ct]),Le=Ge(K,ze,He),Tt&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&(Le+=ze(Qe)+ze(ct)),ne.ylines.style("stroke-width",K._lw+"px").call(p.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",Le)}return n.makeClipPaths(O),s.previousPromises(O)}function w(O,F){return(O.ticks||O.showline)&&(F===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function C(O,F,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var B=z._anchorAxis;if(!B)return!1;var W=f.FROM_BL[F];return z.side===F?B.domain[W]===O.domain[W]:z.mirror&&B.domain[1-W]===O.domain[1-W]}function y(O,F,z,B){if(C(O,F,z))return z._lw;for(var W=0;W<B.length;W++){var J=B[W];if(J._mainAxis===z._mainAxis&&C(O,F,J))return J._lw}return 0}H.drawMainTitle=function(O){var F=O._fullLayout.title,z=O._fullLayout,B=N(z),W=k(z),J=I(z,W),re=b(z,B);if(t.draw(O,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:re,y:J,"text-anchor":B,dy:W}}),F.text&&F.automargin){var ne=m.selectAll(".gtitle"),le=r.bBox(ne.node()).height,$=o(O,F,le);if($>0){E(O,J,$,le),ne.attr({x:re,y:J,"text-anchor":B,dy:D(F.yanchor)}).call(S.positionText,re,J);var K=(F.text.match(S.BR_TAG_ALL)||[]).length;if(K){var ie=f.LINE_SPACING*K+f.MID_SHIFT;F.y===0&&(ie=-ie),ne.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-ie+"em";this.setAttribute("dy",Y)})}}}};function M(O,F,z,B,W){var J=F.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,re=L.isTopAnchor(F)?B:B-W,ne=z==="b"?J-re:re;return L.isTopAnchor(F)&&z==="t"||L.isBottomAnchor(F)&&z==="b"?!1:ne<W}function A(O,F,z,B,W){var J=0;return z==="middle"&&(J+=W/2),O==="t"?(z==="top"&&(J+=W),J+=B-F*B):(z==="bottom"&&(J+=W),J+=F*B),J}function o(O,F,z){var B=F.y,W=F.yanchor,J=B>.5?"t":"b",re=O._fullLayout.margin[J],ne=0;return F.yref==="paper"?ne=z+F.pad.t+F.pad.b:F.yref==="container"&&(ne=A(J,B,W,O._fullLayout.height,z)+F.pad.t+F.pad.b),ne>re?ne:0}function E(O,F,z,B){var W="title.automargin",J=O._fullLayout.title,re=J.y>.5?"t":"b",ne={x:J.x,y:J.y,t:0,b:0},le={};J.yref==="paper"&&M(O,J,re,F,B)?ne[re]=z:J.yref==="container"&&(le[re]=z,O._fullLayout._reservedMargin[W]=le),s.allowAutoMargin(O,W),s.autoMargin(O,W,ne)}function b(O,F){var z=O.title,B=O._size,W=0;switch(F===T?W=z.pad.l:F===a&&(W=-z.pad.r),z.xref){case"paper":return B.l+B.w*z.x+W;case"container":default:return O.width*z.x+W}}function I(O,F){var z=O.title,B=O._size,W=0;if(F==="0em"||!F?W=-z.pad.b:F===f.CAP_SHIFT+"em"&&(W=z.pad.t),z.y==="auto")return B.t/2;switch(z.yref){case"paper":return B.t+B.h-B.h*z.y+W;case"container":default:return O.height-O.height*z.y+W}}function D(O){return O==="top"?f.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function N(O){var F=O.title,z=c;return L.isRightAnchor(F)?z=a:L.isLeftAnchor(F)&&(z=T),z}function k(O){var F=O.title,z="0em";return L.isTopAnchor(F)?z=f.CAP_SHIFT+"em":L.isMiddleAnchor(F)&&(z=f.MID_SHIFT+"em"),z}H.doTraceStyle=function(O){var F=O.calcdata,z=[],B;for(B=0;B<F.length;B++){var W=F[B],J=W[0]||{},re=J.trace||{},ne=re._module||{},le=ne.arraysToCalcdata;le&&le(W,re);var $=ne.editStyle;$&&z.push({fn:$,cd0:J})}if(z.length){for(B=0;B<z.length;B++){var K=z[B];K.fn(O,K.cd0)}v(O),H.redrawReglTraces(O)}return s.style(O),P.getComponentMethod("legend","draw")(O),s.previousPromises(O)},H.doColorBars=function(O){return P.getComponentMethod("colorbar","draw")(O),s.previousPromises(O)},H.layoutReplot=function(O){var F=O.layout;return O.layout=void 0,P.call("_doPlot",O,"",F)},H.doLegend=function(O){return P.getComponentMethod("legend","draw")(O),s.previousPromises(O)},H.doTicksRelayout=function(O){return n.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(O),v(O),H.redrawReglTraces(O)),H.drawMainTitle(O),s.previousPromises(O)},H.doModeBar=function(O){var F=O._fullLayout;i.manage(O);for(var z=0;z<F._basePlotModules.length;z++){var B=F._basePlotModules[z].updateFx;B&&B(O)}return s.previousPromises(O)},H.doCamera=function(O){for(var F=O._fullLayout,z=F._subplots.gl3d,B=0;B<z.length;B++){var W=F[z[B]],J=W._scene;J.setViewport(W)}},H.drawData=function(O){var F=O._fullLayout;v(O);for(var z=F._basePlotModules,B=0;B<z.length;B++)z[B].plot(O);return H.redrawReglTraces(O),s.style(O),P.getComponentMethod("selections","draw")(O),P.getComponentMethod("shapes","draw")(O),P.getComponentMethod("annotations","draw")(O),P.getComponentMethod("images","draw")(O),F._replotting=!1,s.previousPromises(O)},H.redrawReglTraces=function(O){var F=O._fullLayout;if(F._has("regl")){var z=O._fullData,B=[],W=[],J,re;for(F._hasOnlyLargeSploms&&F._splomGrid.draw(),J=0;J<z.length;J++){var ne=z[J];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?F._splomScenes[ne.uid].draw():ne.type==="scattergl"?L.pushUnique(B,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&L.pushUnique(W,ne.subplot))}for(J=0;J<B.length;J++)re=F._plots[B[J]],re._scene&&re._scene.draw();for(J=0;J<W.length;J++)re=F[W[J]]._subplot,re._scene&&re._scene.draw()}},H.doAutoRangeAndConstraints=function(O){for(var F=n.list(O,"",!0),z,B={},W=0;W<F.length;W++)if(z=F[W],!B[z._id]){B[z._id]=1,g(O,z),h(O,z);var J=z._matchGroup;if(J)for(var re in J){var ne=n.getFromId(O,re);h(O,ne,z.range),B[re]=1}}l(O)},H.finalDraw=function(O){P.getComponentMethod("rangeslider","draw")(O),P.getComponentMethod("rangeselector","draw")(O)},H.drawMarginPushers=function(O){P.getComponentMethod("legend","draw")(O),P.getComponentMethod("rangeselector","draw")(O),P.getComponentMethod("sliders","draw")(O),P.getComponentMethod("updatemenus","draw")(O),P.getComponentMethod("colorbar","draw")(O)}},94828:function(G,H,e){var m=e(3400),P=m.isPlainObject,s=e(73060),L=e(7316),S=e(45464),v=e(31780),p=e(20556).dfltConfig;H.makeTemplate=function(h){h=m.isPlainObject(h)?h:m.getGraphDiv(h),h=m.extendDeep({_context:p},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var T=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var a={data:{},layout:{}};T.forEach(function(b){var I={};i(b,I,f.bind(null,b));var D=m.coerce(b,{},S,"type"),N=a.data[D];N||(N=a.data[D]=[]),N.push(I)}),i(c,a.layout,n.bind(null,c)),delete a.layout.template;var d=c.template;if(P(d)){var x=d.layout,w,C,y,M,A,o;P(x)&&r(x,a.layout);var E=d.data;if(P(E)){for(C in a.data)if(y=E[C],Array.isArray(y)){for(A=a.data[C],o=A.length,M=y.length,w=0;w<o;w++)r(y[w%M],A[w]);for(w=o;w<M;w++)A.push(m.extendDeep({},y[w]))}for(C in E)C in a.data||(a.data[C]=m.extendDeep([],E[C]))}}return a};function r(h,T){h=m.extendDeep({},h);var c=Object.keys(h).sort(),a,d;function x(A,o,E){if(P(o)&&P(A))r(A,o);else if(Array.isArray(o)&&Array.isArray(A)){var b=v.arrayTemplater({_template:h},E);for(d=0;d<o.length;d++){var I=o[d],D=b.newItem(I)._template;D&&r(D,I)}var N=b.defaultItems();for(d=0;d<N.length;d++)o.push(N[d]._template);for(d=0;d<o.length;d++)delete o[d].templateitemname}}for(a=0;a<c.length;a++){var w=c[a],C=h[w];if(w in T?x(C,T[w],w):T[w]=C,t(w)===w)for(var y in T){var M=t(y);y!==M&&M===w&&!(y in h)&&x(C,T[y],w)}}}function t(h){return h.replace(/[0-9]+$/,"")}function i(h,T,c,a,d){var x=d&&c(d);for(var w in h){var C=h[w],y=u(h,w,a),M=u(h,w,d),A=c(M);if(!A){var o=t(w);o!==w&&(M=u(h,o,d),A=c(M))}if(!(x&&x===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(C)))if(!A.valType&&P(C))i(C,T,c,y,M);else if(A._isLinkedToArray&&Array.isArray(C))for(var E=!1,b=0,I={},D=0;D<C.length;D++){var N=C[D];if(P(N)){var k=N.name;if(k)I[k]||(i(N,T,c,u(C,b,y),u(C,b,M)),b++,I[k]=1);else if(!E){var O=v.arrayDefaultKey(w),F=u(h,O,a),z=u(C,b,y);i(N,T,c,z,u(C,b,M));var B=m.nestedProperty(T,z),W=m.nestedProperty(T,F);W.set(B.get()),B.set(null),E=!0}}}else{var J=m.nestedProperty(T,y);J.set(C)}}}function n(h,T){return s.getLayoutValObject(h,m.nestedProperty({},T).parts)}function f(h,T){return s.getTraceValObject(h,m.nestedProperty({},T).parts)}function u(h,T,c){var a;return c?Array.isArray(h)?a=c+"["+T+"]":a=c+"."+T:a=T,a}H.validateTemplate=function(h,T){var c=m.extendDeep({},{_context:p,data:h.data,layout:h.layout}),a=c.layout||{};P(T)||(T=a.template||{});var d=T.layout,x=T.data,w=[];c.layout=a,c.layout.template=T,L.supplyDefaults(c);var C=c._fullLayout,y=c._fullData,M={};function A(F,z){for(var B in F)if(B.charAt(0)!=="_"&&P(F[B])){var W=t(B),J=[],re;for(re=0;re<z.length;re++)J.push(u(F,B,z[re])),W!==B&&J.push(u(F,W,z[re]));for(re=0;re<J.length;re++)M[J[re]]=1;A(F[B],J)}}function o(F,z){for(var B in F)if(B.indexOf("defaults")===-1&&P(F[B])){var W=u(F,B,z);M[W]?o(F[B],W):w.push({code:"unused",path:W})}}if(P(d)?(A(C,["layout"]),o(d,"layout")):w.push({code:"layout"}),!P(x))w.push({code:"data"});else{for(var E={},b,I=0;I<y.length;I++){var D=y[I];b=D.type,E[b]=(E[b]||0)+1,D._fullInput._template||w.push({code:"missing",index:D._fullInput.index,traceType:b})}for(b in x){var N=x[b].length,k=E[b]||0;N>k?w.push({code:"unused",traceType:b,templateCount:N,dataCount:k}):k>N&&w.push({code:"reused",traceType:b,templateCount:N,dataCount:k})}}function O(F,z){for(var B in F)if(B.charAt(0)!=="_"){var W=F[B],J=u(F,B,z);P(W)?(Array.isArray(F)&&W._template===!1&&W.templateitemname&&w.push({code:"missing",path:J,templateitemname:W.templateitemname}),O(W,J)):Array.isArray(W)&&l(W)&&O(W,J)}}if(O({data:y,layout:C},""),w.length)return w.map(g)};function l(h){for(var T=0;T<h.length;T++)if(P(h[T]))return!0}function g(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},67024:function(G,H,e){var m=e(38248),P=e(36424),s=e(7316),L=e(3400),S=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(n,f){f=f||{};var u,l,g,h;L.isPlainObject(n)?(u=n.data||[],l=n.layout||{},g=n.config||{},h={}):(n=L.getGraphDiv(n),u=L.extendDeep([],n.data),l=L.extendDeep({},n.layout),g=n._context,h=n._fullLayout||{});function T(k){return!(k in f)||L.validate(f[k],t[k])}if(!T("width")&&f.width!==null||!T("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var c={};function a(k,O){return L.coerce(f,c,t,k,O)}var d=a("format"),x=a("width"),w=a("height"),C=a("scale"),y=a("setBackground"),M=a("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var o=L.extendFlat({},l);x?o.width=x:f.width===null&&m(h.width)&&(o.width=h.width),w?o.height=w:f.height===null&&m(h.height)&&(o.height=h.height);var E=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),b=S.getRedrawFunc(A);function I(){return new Promise(function(k){setTimeout(k,S.getDelay(A._fullLayout))})}function D(){return new Promise(function(k,O){var F=v(A,d,C),z=A._fullLayout.width,B=A._fullLayout.height;function W(){P.purge(A),document.body.removeChild(A)}if(d==="full-json"){var J=s.graphJson(A,!1,"keepdata","object",!0,!0);return J.version=r,J=JSON.stringify(J),W(),k(M?J:S.encodeJSON(J))}if(W(),d==="svg")return k(M?F:S.encodeSVG(F));var re=document.createElement("canvas");re.id=L.randstr(),p({format:d,width:z,height:B,scale:C,canvas:re,svg:F,promise:!0}).then(k).catch(O)})}function N(k){return M?k.replace(S.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,O){P.newPlot(A,u,o,E).then(b).then(I).then(D).then(function(F){k(N(F))}).catch(function(F){O(F)})})}G.exports=i},21480:function(G,H,e){var m=e(3400),P=e(7316),s=e(73060),L=e(20556).dfltConfig,S=m.isPlainObject,v=Array.isArray,p=m.isArrayOrTypedArray;G.exports=function(a,d){a===void 0&&(a=[]),d===void 0&&(d={});var x=s.get(),w=[],C={_context:m.extendFlat({},L)},y,M;v(a)?(C.data=m.extendDeep([],a),y=a):(C.data=[],y=[],w.push(f("array","data"))),S(d)?(C.layout=m.extendDeep({},d),M=d):(C.layout={},M={},arguments.length>1&&w.push(f("object","layout"))),P.supplyDefaults(C);for(var A=C._fullData,o=y.length,E=0;E<o;E++){var b=y[E],I=["data",E];if(!S(b)){w.push(f("object",I));continue}var D=A[E],N=D.type,k=x.traces[N].attributes;k.type={valType:"enumerated",values:[N]},D.visible===!1&&b.visible!==!1&&w.push(f("invisible",I)),r(b,D,k,w,I);var O=b.transforms,F=D.transforms;if(O){v(O)||w.push(f("array",I,["transforms"])),I.push("transforms");for(var z=0;z<O.length;z++){var B=["transforms",z],W=O[z].type;if(!S(O[z])){w.push(f("object",I,B));continue}var J=x.transforms[W]?x.transforms[W].attributes:{};J.type={valType:"enumerated",values:Object.keys(x.transforms)},r(O[z],F[z],J,w,I,B)}}}var re=C._fullLayout,ne=t(x,A);return r(M,re,ne,w,"layout"),w.length===0?void 0:w};function r(c,a,d,x,w,C){C=C||[];for(var y=Object.keys(c),M=0;M<y.length;M++){var A=y[M];if(A!=="transforms"){var o=C.slice();o.push(A);var E=c[A],b=a[A],I=l(d,A),D=(I||{}).valType,N=D==="info_array",k=D==="colorscale",O=(I||{}).items;if(!u(d,A))x.push(f("schema",w,o));else if(S(E)&&S(b)&&D!=="any")r(E,b,I,x,w,o);else if(N&&v(E)){E.length>b.length&&x.push(f("unused",w,o.concat(b.length)));var F=b.length,z=Array.isArray(O);z&&(F=Math.min(F,O.length));var B,W,J,re,ne;if(I.dimensions===2)for(W=0;W<F;W++)if(v(E[W])){E[W].length>b[W].length&&x.push(f("unused",w,o.concat(W,b[W].length)));var le=b[W].length;for(B=0;B<(z?Math.min(le,O[W].length):le);B++)J=z?O[W][B]:O,re=E[W][B],ne=b[W][B],m.validate(re,J)?ne!==re&&ne!==+re&&x.push(f("dynamic",w,o.concat(W,B),re,ne)):x.push(f("value",w,o.concat(W,B),re))}else x.push(f("array",w,o.concat(W),E[W]));else for(W=0;W<F;W++)J=z?O[W]:O,re=E[W],ne=b[W],m.validate(re,J)?ne!==re&&ne!==+re&&x.push(f("dynamic",w,o.concat(W),re,ne)):x.push(f("value",w,o.concat(W),re))}else if(I.items&&!N&&v(E)){var $=O[Object.keys(O)[0]],K=[],ie,Y;for(ie=0;ie<b.length;ie++){var Q=b[ie]._index||ie;if(Y=o.slice(),Y.push(Q),S(E[Q])&&S(b[ie])){K.push(Q);var oe=E[Q],X=b[ie];S(oe)&&oe.visible!==!1&&X.visible===!1?x.push(f("invisible",w,Y)):r(oe,X,$,x,w,Y)}}for(ie=0;ie<E.length;ie++)Y=o.slice(),Y.push(ie),S(E[ie])?K.indexOf(ie)===-1&&x.push(f("unused",w,Y)):x.push(f("object",w,Y,E[ie]))}else!S(E)&&S(b)?x.push(f("object",w,o,E)):!p(E)&&p(b)&&!N&&!k?x.push(f("array",w,o,E)):A in a?m.validate(E,I)?I.valType==="enumerated"&&(I.coerceNumber&&E!==+b||E!==b)&&x.push(f("dynamic",w,o,E,b)):x.push(f("value",w,o,E)):x.push(f("unused",w,o,E))}}return x}function t(c,a){for(var d=c.layout.layoutAttributes,x=0;x<a.length;x++){var w=a[x],C=c.traces[w.type],y=C.layoutAttributes;y&&(w.subplot?m.extendFlat(d[C.attributes.subplot.dflt],y):m.extendFlat(d,y))}return d}var i={object:function(c,a){var d;return c==="layout"&&a===""?d="The layout argument":c[0]==="data"&&a===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+a,d+" must be linked to an object container"},array:function(c,a){var d;return c==="data"?d="The data argument":d=n(c)+"key "+a,d+" must be linked to an array container"},schema:function(c,a){return n(c)+"key "+a+" is not part of the schema"},unused:function(c,a,d){var x=S(d)?"container":"key";return n(c)+x+" "+a+" did not get coerced"},dynamic:function(c,a,d,x){return[n(c)+"key",a,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,a){return(a?n(c)+"item "+a:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,a,d){return[n(c)+"key "+a,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,a,d,x,w){d=d||"";var C,y;v(a)?(C=a[0],y=a[1]):(C=a,y=null);var M=T(d),A=i[c](a,M,x,w);return m.log(A),{code:c,container:C,trace:y,path:d,astr:M,msg:A}}function u(c,a){var d=h(a),x=d.keyMinusId,w=d.id;return x in c&&c[x]._isSubplotObj&&w?!0:a in c}function l(c,a){if(a in c)return c[a];var d=h(a);return c[d.keyMinusId]}var g=m.counterRegex("([a-z]+)");function h(c){var a=c.match(g);return{keyMinusId:a&&a[1],id:a&&a[2]}}function T(c){if(!v(c))return String(c);for(var a="",d=0;d<c.length;d++){var x=c[d];typeof x=="number"?a=a.substr(0,a.length-1)+"["+x+"]":a+=x,d<c.length-1&&(a+=".")}return a}},85656:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(G,H,e){var m=e(3400),P=e(31780);G.exports=function(L,S,v){var p=v.name,r=v.inclusionAttr||"visible",t=S[p],i=m.isArrayOrTypedArray(L[p])?L[p]:[],n=S[p]=[],f=P.arrayTemplater(S,p,r),u,l;for(u=0;u<i.length;u++){var g=i[u];m.isPlainObject(g)?l=f.newItem(g):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(g,l,S,v),n.push(l)}var h=f.defaultItems();for(u=0;u<h.length;u++)l=h[u],l._index=n.length,v.handleItemDefaults({},l,S,v,{}),n.push(l);if(m.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)m.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(G,H,e){var m=e(25376),P=e(55756);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:m({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(G,H,e){var m=e(38248),P=e(3400),s=P.dateTime2ms,L=P.incrementMonth,S=e(39032),v=S.ONEAVGMONTH;G.exports=function(r,t,i,n){if(t.type!=="date")return{vals:n};var f=r[i+"periodalignment"];if(!f)return{vals:n};var u=r[i+"period"],l;if(m(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var g=+u.substring(1);if(g>0&&Math.round(g)===g)l=g;else return{vals:n}}for(var h=t.calendar,T=f==="start",c=f==="end",a=r[i+"period0"],d=s(a,h)||0,x=[],w=[],C=[],y=n.length,M=0;M<y;M++){var A=n[M],o,E,b;if(l){for(o=Math.round((A-d)/(l*v)),b=L(d,l*o,h);b>A;)b=L(b,-l,h);for(;b<=A;)b=L(b,l,h);E=L(b,-l,h)}else{for(o=Math.round((A-d)/u),b=d+o*u;b>A;)b-=u;for(;b<=A;)b+=u;E=b-u}x[M]=T?E:c?b:(E+b)/2,w[M]=E,C[M]=b}return{vals:x,starts:w,ends:C}}},26720:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(39032).FP_SAFE,S=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:o,getAutoRange:i,makePadFn:f,doAutoRange:h,findExtremes:T,concatExtremes:g};function i(E,b){var I,D,N=[],k=E._fullLayout,O=f(k,b,0),F=f(k,b,1),z=g(E,b),B=z.min,W=z.max;if(B.length===0||W.length===0)return s.simpleMap(b.range,b.r2l);var J=B[0].val,re=W[0].val;for(I=1;I<B.length&&J===re;I++)J=Math.min(J,B[I].val);for(I=1;I<W.length&&J===re;I++)re=Math.max(re,W[I].val);var ne=b.autorange,le=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!le&&b.range){var $=s.simpleMap(b.range,b.r2l);le=$[1]<$[0]}b.autorange==="reversed"&&(b.autorange=!0);var K=b.rangemode,ie=K==="tozero",Y=K==="nonnegative",Q=b._length,oe=Q/10,X=0,j,se,te,fe,ge,be;for(I=0;I<B.length;I++)for(j=B[I],D=0;D<W.length;D++)se=W[D],be=se.val-j.val-n(b,j.val,se.val),be>0&&(ge=Q-O(j)-F(se),ge>oe?be/ge>X&&(te=j,fe=se,X=be/ge):be/Q>X&&(te={val:j.val,nopad:1},fe={val:se.val,nopad:1},X=be/Q));function xe(Re,Se){return Math.max(Re,F(Se))}if(J===re){var _e=J-1,De=J+1;if(ie)if(J===0)N=[0,1];else{var Fe=(J>0?W:B).reduce(xe,0),Te=J/(1-Math.min(.5,Fe/Q));N=J>0?[0,Te]:[Te,0]}else Y?N=[Math.max(0,_e),Math.max(1,De)]:N=[_e,De]}else ie?(te.val>=0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):Y&&(te.val-X*O(te)<0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),X=(fe.val-te.val-n(b,j.val,se.val))/(Q-O(te)-F(fe)),N=[te.val-X*O(te),fe.val+X*F(fe)];return N=o(N,b),b.limitRange&&b.limitRange(),le&&N.reverse(),s.simpleMap(N,b.l2r||Number)}function n(E,b,I){var D=0;if(E.rangebreaks)for(var N=E.locateBreaks(b,I),k=0;k<N.length;k++){var O=N[k];D+=O.max-O.min}return D}function f(E,b,I){var D=.05*b._length,N=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var k=b.isReversed();if(!k){var O=s.simpleMap(b.range,b.r2l);k=O[1]<O[0]}k&&(I=!I)}var F=0;return t(E,b._id)||(F=l(E,b,I)),D=Math.max(F,D),b.constrain==="domain"&&b._inputDomain&&(D*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?D:F)}}var u=3;function l(E,b,I){var D=0,N=b._id.charAt(0)==="x";for(var k in E._plots){var O=E._plots[k];if(!(b._id!==O.xaxis._id&&b._id!==O.yaxis._id)){var F=(N?O.yaxis:O.xaxis)||{};if((F.ticklabelposition||"").indexOf("inside")!==-1&&(!I&&(F.side==="left"||F.side==="bottom")||I&&(F.side==="top"||F.side==="right"))){if(F._vals){var z=s.deg2rad(F._tickAngles[F._id+"tick"]||0),B=Math.abs(Math.cos(z)),W=Math.abs(Math.sin(z));if(!F._vals[0].bb){var J=F._id+"tick",re=F._selections[J];re.each(function(Y){var Q=m.select(this),oe=Q.select(".text-math-group");oe.empty()&&(Y.bb=v.bBox(Q.node()))})}for(var ne=0;ne<F._vals.length;ne++){var le=F._vals[ne],$=le.bb;if($){var K=2*u+$.width,ie=2*u+$.height;D=Math.max(D,N?Math.max(K*B,ie*W):Math.max(ie*B,K*W))}}}F.ticks==="inside"&&F.ticklabelposition==="inside"&&(D+=F.ticklen||0)}}}return D}function g(E,b,I){var D=b._id,N=E._fullData,k=E._fullLayout,O=[],F=[],z,B,W;function J(K,ie){for(z=0;z<ie.length;z++){var Y=K[ie[z]],Q=(Y._extremes||{})[D];if(Y.visible===!0&&Q){for(B=0;B<Q.min.length;B++)W=Q.min[B],c(O,W.val,W.pad,{extrapad:W.extrapad});for(B=0;B<Q.max.length;B++)W=Q.max[B],a(F,W.val,W.pad,{extrapad:W.extrapad})}}}if(J(N,b._traceIndices),J(k.annotations||[],b._annIndices||[]),J(k.shapes||[],b._shapeIndices||[]),b._matchGroup&&!I){for(var re in b._matchGroup)if(re!==b._id){var ne=r(E,re),le=g(E,ne,!0),$=b._length/ne._length;for(B=0;B<le.min.length;B++)W=le.min[B],c(O,W.val,W.pad*$,{extrapad:W.extrapad});for(B=0;B<le.max.length;B++)W=le.max[B],a(F,W.val,W.pad*$,{extrapad:W.extrapad})}}return{min:O,max:F}}function h(E,b,I){if(b.setScale(),b.autorange){b.range=I?I.slice():i(E,b),b._r=b.range.slice(),b._rl=s.simpleMap(b._r,b.r2l);var D=b._input,N={};N[b._attr+".range"]=b.range,N[b._attr+".autorange"]=b.autorange,S.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,N),D.range=b.range.slice(),D.autorange=b.autorange}var k=b._anchorAxis;if(k&&k.rangeslider){var O=k.rangeslider[b._name];O&&O.rangemode==="auto"&&(O.range=i(E,b)),k._input.rangeslider[b._name]=s.extendFlat({},O)}}function T(E,b,I){I||(I={}),E._m||E.setScale();var D=[],N=[],k=b.length,O=I.padded||!1,F=I.tozero&&(E.type==="linear"||E.type==="-"),z=E.type==="log",B=!1,W=I.vpadLinearized||!1,J,re,ne,le,$,K,ie,Y,Q;function oe(xe){if(Array.isArray(xe))return B=!0,function(De){return Math.max(Number(xe[De]||0),0)};var _e=Math.max(Number(xe||0),0);return function(){return _e}}var X=oe((E._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),j=oe((E._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),se=oe(I.vpadplus||I.vpad),te=oe(I.vpadminus||I.vpad);if(!B){if(Y=1/0,Q=-1/0,z)for(J=0;J<k;J++)re=b[J],re<Y&&re>0&&(Y=re),re>Q&&re<L&&(Q=re);else for(J=0;J<k;J++)re=b[J],re<Y&&re>-L&&(Y=re),re>Q&&re<L&&(Q=re);b=[Y,Q],k=2}var fe={tozero:F,extrapad:O};function ge(xe){ne=b[xe],P(ne)&&(K=X(xe),ie=j(xe),W?(le=E.c2l(ne)-te(xe),$=E.c2l(ne)+se(xe)):(Y=ne-te(xe),Q=ne+se(xe),z&&Y<Q/10&&(Y=Q/10),le=E.c2l(Y),$=E.c2l(Q)),F&&(le=Math.min(0,le),$=Math.max(0,$)),x(le)&&c(D,le,ie,fe),x($)&&a(N,$,K,fe))}var be=Math.min(6,k);for(J=0;J<be;J++)ge(J);for(J=k-1;J>=be;J--)ge(J);return{min:D,max:N,opts:I}}function c(E,b,I,D){d(E,b,I,D,w)}function a(E,b,I,D){d(E,b,I,D,C)}function d(E,b,I,D,N){for(var k=D.tozero,O=D.extrapad,F=!0,z=0;z<E.length&&F;z++){var B=E[z];if(N(B.val,b)&&B.pad>=I&&(B.extrapad||!O)){F=!1;break}else N(b,B.val)&&B.pad<=I&&(O||!B.extrapad)&&(E.splice(z,1),z--)}if(F){var W=k&&b===0;E.push({val:b,pad:W?0:I,extrapad:W?!1:O})}}function x(E){return P(E)&&Math.abs(E)<L}function w(E,b){return E<=b}function C(E,b){return E>=b}function y(E,b){var I=b.autorangeoptions;return I&&I.minallowed!==void 0&&A(b,I.minallowed,I.maxallowed)?I.minallowed:I&&I.clipmin!==void 0&&A(b,I.clipmin,I.clipmax)?Math.max(E,b.d2l(I.clipmin)):E}function M(E,b){var I=b.autorangeoptions;return I&&I.maxallowed!==void 0&&A(b,I.minallowed,I.maxallowed)?I.maxallowed:I&&I.clipmax!==void 0&&A(b,I.clipmin,I.clipmax)?Math.min(E,b.d2l(I.clipmax)):E}function A(E,b,I){return b!==void 0&&I!==void 0?(b=E.d2l(b),I=E.d2l(I),b<I):!0}function o(E,b){if(!b||!b.autorangeoptions)return E;var I=E[0],D=E[1],N=b.autorangeoptions.include;if(N!==void 0){var k=b.d2l(I),O=b.d2l(D);s.isArrayOrTypedArray(N)||(N=[N]);for(var F=0;F<N.length;F++){var z=b.d2l(N[F]);k>=z&&(k=z,I=z),O<=z&&(O=z,D=z)}}return I=y(I,b),D=M(D,b),[I,D]}},76808:function(G){G.exports=function(e,m,P){var s,L;if(P){var S=m==="reversed"||m==="min reversed"||m==="max reversed";s=P[S?1:0],L=P[S?0:1]}var v=e("autorangeoptions.minallowed",L===null?s:void 0),p=e("autorangeoptions.maxallowed",s===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(G,H,e){var m=e(33428),P=e(38248),s=e(7316),L=e(24040),S=e(3400),v=S.strTranslate,p=e(72736),r=e(81668),t=e(76308),i=e(43616),n=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,g=u.ONEAVGYEAR,h=u.ONEMINYEAR,T=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,a=u.ONEMINQUARTER,d=u.ONEMAXMONTH,x=u.ONEAVGMONTH,w=u.ONEMINMONTH,C=u.ONEWEEK,y=u.ONEDAY,M=y/2,A=u.ONEHOUR,o=u.ONEMIN,E=u.ONESEC,b=u.MINUS_SIGN,I=u.BADNUM,D={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},F={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=e(84284),W=B.MID_SHIFT,J=B.CAP_SHIFT,re=B.LINE_SPACING,ne=B.OPPOSITE_SIDE,le=3,$=G.exports={};$.setConvert=e(78344);var K=e(52976),ie=e(79811),Y=ie.idSort,Q=ie.isLinked;$.id2name=ie.id2name,$.name2id=ie.name2id,$.cleanId=ie.cleanId,$.list=ie.list,$.listIds=ie.listIds,$.getFromId=ie.getFromId,$.getFromTrace=ie.getFromTrace;var oe=e(19280);$.getAutoRange=oe.getAutoRange,$.findExtremes=oe.findExtremes;var X=1e-4;function j(Ye){var Ue=(Ye[1]-Ye[0])*X;return[Ye[0]-Ue,Ye[1]+Ue]}$.coerceRef=function(Ye,Ue,Ot,It,Qt,lr){var fr=It.charAt(It.length-1),er=Ot._fullLayout._subplots[fr+"axis"],Nt=It+"ref",ir={};return Qt||(Qt=er[0]||(typeof lr=="string"?lr:lr[0])),lr||(lr=Qt),er=er.concat(er.map(function(vr){return vr+" domain"})),ir[Nt]={valType:"enumerated",values:er.concat(lr?typeof lr=="string"?[lr]:lr:[]),dflt:Qt},S.coerce(Ye,Ue,ir,Nt)},$.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},$.coercePosition=function(Ye,Ue,Ot,It,Qt,lr){var fr,er,Nt=$.getRefType(It);if(Nt!=="range")fr=S.ensureNumber,er=Ot(Qt,lr);else{var ir=$.getFromId(Ue,It);lr=ir.fraction2r(lr),er=Ot(Qt,lr),fr=ir.cleanPos}Ye[Qt]=fr(er)},$.cleanPosition=function(Ye,Ue,Ot){var It=Ot==="paper"||Ot==="pixel"?S.ensureNumber:$.getFromId(Ue,Ot).cleanPos;return It(Ye)},$.redrawComponents=function(Ye,Ue){Ue=Ue||$.listIds(Ye);var Ot=Ye._fullLayout;function It(Qt,lr,fr,er){for(var Nt=L.getComponentMethod(Qt,lr),ir={},vr=0;vr<Ue.length;vr++)for(var xr=Ot[$.id2name(Ue[vr])],dr=xr[fr],Hr=0;Hr<dr.length;Hr++){var Pr=dr[Hr];if(!ir[Pr]&&(Nt(Ye,Pr),ir[Pr]=1,er))return}}It("annotations","drawOne","_annIndices"),It("shapes","drawOne","_shapeIndices"),It("images","draw","_imgIndices",!0),It("selections","drawOne","_selectionIndices")};var se=$.getDataConversions=function(Ye,Ue,Ot,It){var Qt,lr=Ot==="x"||Ot==="y"||Ot==="z"?Ot:It;if(S.isArrayOrTypedArray(lr)){if(Qt={type:K(It,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},$.setConvert(Qt),Qt.type==="category")for(var fr=0;fr<It.length;fr++)Qt.d2c(It[fr])}else Qt=$.getFromTrace(Ye,Ue,lr);return Qt?{d2c:Qt.d2c,c2d:Qt.c2d}:lr==="ids"?{d2c:fe,c2d:fe}:{d2c:te,c2d:te}};function te(Ye){return+Ye}function fe(Ye){return String(Ye)}$.getDataToCoordFunc=function(Ye,Ue,Ot,It){return se(Ye,Ue,Ot,It).d2c},$.counterLetter=function(Ye){var Ue=Ye.charAt(0);if(Ue==="x")return"y";if(Ue==="y")return"x"},$.minDtick=function(Ye,Ue,Ot,It){["log","category","multicategory"].indexOf(Ye.type)!==-1||!It?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=Ue,Ye._forceTick0=Ot):Ye._minDtick&&((Ye._minDtick/Ue+1e-6)%1<2e-6&&((Ot-Ye._forceTick0)/Ue%1+1.000001)%1<2e-6?(Ye._minDtick=Ue,Ye._forceTick0=Ot):((Ue/Ye._minDtick+1e-6)%1>2e-6||((Ot-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},$.saveRangeInitial=function(Ye,Ue){for(var Ot=$.list(Ye,"",!0),It=!1,Qt=0;Qt<Ot.length;Qt++){var lr=Ot[Qt],fr=lr._rangeInitial0===void 0&&lr._rangeInitial1===void 0,er=fr||lr.range[0]!==lr._rangeInitial0||lr.range[1]!==lr._rangeInitial1,Nt=lr.autorange;(fr&&Nt!==!0||Ue&&er)&&(lr._rangeInitial0=Nt==="min"||Nt==="max reversed"?void 0:lr.range[0],lr._rangeInitial1=Nt==="max"||Nt==="min reversed"?void 0:lr.range[1],lr._autorangeInitial=Nt,It=!0)}return It},$.saveShowSpikeInitial=function(Ye,Ue){for(var Ot=$.list(Ye,"",!0),It=!1,Qt="on",lr=0;lr<Ot.length;lr++){var fr=Ot[lr],er=fr._showSpikeInitial===void 0,Nt=er||fr.showspikes!==fr._showspikes;(er||Ue&&Nt)&&(fr._showSpikeInitial=fr.showspikes,It=!0),Qt==="on"&&!fr.showspikes&&(Qt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Qt,It},$.autoBin=function(Ye,Ue,Ot,It,Qt,lr){var fr=S.aggNums(Math.min,null,Ye),er=S.aggNums(Math.max,null,Ye);if(Ue.type==="category"||Ue.type==="multicategory")return{start:fr-.5,end:er+.5,size:Math.max(1,Math.round(lr)||1),_dataSpan:er-fr};Qt||(Qt=Ue.calendar);var Nt;if(Ue.type==="log"?Nt={type:"linear",range:[fr,er]}:Nt={type:Ue.type,range:S.simpleMap([fr,er],Ue.c2r,0,Qt),calendar:Qt},$.setConvert(Nt),lr=lr&&f.dtick(lr,Nt.type),lr)Nt.dtick=lr,Nt.tick0=f.tick0(void 0,Nt.type,Qt);else{var ir;if(Ot)ir=(er-fr)/Ot;else{var vr=S.distinctVals(Ye),xr=Math.pow(10,Math.floor(Math.log(vr.minDiff)/Math.LN10)),dr=xr*S.roundUp(vr.minDiff/xr,[.9,1.9,4.9,9.9],!0);ir=Math.max(dr,2*S.stdev(Ye)/Math.pow(Ye.length,It?.25:.4)),P(ir)||(ir=1)}$.autoTicks(Nt,ir)}var Hr=Nt.dtick,Pr=$.tickIncrement($.tickFirst(Nt),Hr,"reverse",Qt),Rr,an;if(typeof Hr=="number")Pr=ge(Pr,Ye,Nt,fr,er),an=1+Math.floor((er-Pr)/Hr),Rr=Pr+an*Hr;else for(Nt.dtick.charAt(0)==="M"&&(Pr=be(Pr,Ye,Hr,fr,Qt)),Rr=Pr,an=0;Rr<=er;)Rr=$.tickIncrement(Rr,Hr,!1,Qt),an++;return{start:Ue.c2r(Pr,0,Qt),end:Ue.c2r(Rr,0,Qt),size:Hr,_dataSpan:er-fr}};function ge(Ye,Ue,Ot,It,Qt){var lr=0,fr=0,er=0,Nt=0;function ir(Hr){return(1+(Hr-Ye)*100/Ot.dtick)%100<2}for(var vr=0;vr<Ue.length;vr++)Ue[vr]%1===0?er++:P(Ue[vr])||Nt++,ir(Ue[vr])&&lr++,ir(Ue[vr]+Ot.dtick/2)&&fr++;var xr=Ue.length-Nt;if(er===xr&&Ot.type!=="date")Ot.dtick<1?Ye=It-.5*Ot.dtick:(Ye-=.5,Ye+Ot.dtick<It&&(Ye+=Ot.dtick));else if(fr<xr*.1&&(lr>xr*.3||ir(It)||ir(Qt))){var dr=Ot.dtick/2;Ye+=Ye+dr<It?dr:-dr}return Ye}function be(Ye,Ue,Ot,It,Qt){var lr=S.findExactDates(Ue,Qt),fr=.8;if(lr.exactDays>fr){var er=Number(Ot.substr(1));lr.exactYears>fr&&er%12===0?Ye=$.tickIncrement(Ye,"M6","reverse")+y*1.5:lr.exactMonths>fr?Ye=$.tickIncrement(Ye,"M1","reverse")+y*15.5:Ye-=M;var Nt=$.tickIncrement(Ye,Ot);if(Nt<=It)return Nt}return Ye}$.prepMinorTicks=function(Ye,Ue,Ot){if(!Ue.minor.dtick){delete Ye.dtick;var It=Ue.dtick&&P(Ue._tmin),Qt;if(It){var lr=$.tickIncrement(Ue._tmin,Ue.dtick,!0);Qt=[Ue._tmin,lr*.99+Ue._tmin*.01]}else{var fr=S.simpleMap(Ue.range,Ue.r2l);Qt=[fr[0],.8*fr[0]+.2*fr[1]]}if(Ye.range=S.simpleMap(Qt,Ue.l2r),Ye._isMinor=!0,$.prepTicks(Ye,Ot),It){var er=P(Ue.dtick),Nt=P(Ye.dtick),ir=er?Ue.dtick:+Ue.dtick.substring(1),vr=Nt?Ye.dtick:+Ye.dtick.substring(1);er&&Nt?xe(ir,vr)?ir===2*C&&vr===2*y&&(Ye.dtick=C):ir===2*C&&vr===3*y?Ye.dtick=C:ir===C&&!(Ue._input.minor||{}).nticks?Ye.dtick=y:_e(ir/vr,2.5)?Ye.dtick=ir/2:Ye.dtick=ir:String(Ue.dtick).charAt(0)==="M"?Nt?Ye.dtick="M1":xe(ir,vr)?ir>=12&&vr===2&&(Ye.dtick="M3"):Ye.dtick=Ue.dtick:String(Ye.dtick).charAt(0)==="L"?String(Ue.dtick).charAt(0)==="L"?xe(ir,vr)||(Ye.dtick=_e(ir/vr,2.5)?Ue.dtick/2:Ue.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+Ue.dtick>1&&(Ye.dtick=1)}Ye.range=Ue.range}Ue.minor._tick0Init===void 0&&(Ye.tick0=Ue.tick0)};function xe(Ye,Ue){return Math.abs((Ye/Ue+.5)%1-.5)<.001}function _e(Ye,Ue){return Math.abs(Ye/Ue-1)<.001}$.prepTicks=function(Ye,Ue){var Ot=S.simpleMap(Ye.range,Ye.r2l,void 0,void 0,Ue);if(Ye.tickmode==="auto"||!Ye.dtick){var It=Ye.nticks,Qt;It||(Ye.type==="category"||Ye.type==="multicategory"?(Qt=Ye.tickfont?S.bigFont(Ye.tickfont.size||12):15,It=Ye._length/Qt):(Qt=Ye._id.charAt(0)==="y"?40:80,It=S.constrain(Ye._length/Qt,4,9)+1),Ye._name==="radialaxis"&&(It*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(It*=100),Ye._roughDTick=Math.abs(Ot[1]-Ot[0])/It,$.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Fe(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),gt(Ye)};function De(Ye){return+Ye.substring(1)}function Fe(Ye){var Ue;function Ot(){return!(P(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var It=Ot(),Qt=$.getTickFormat(Ye);if(Qt){var lr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Qt)||(/%[HI]/.test(Qt)?(Ue=A,lr&&!It&&Ye.dtick<A&&(Ye.dtick=A)):/%p/.test(Qt)?(Ue=M,lr&&!It&&Ye.dtick<M&&(Ye.dtick=M)):/%[Aadejuwx]/.test(Qt)?(Ue=y,lr&&!It&&Ye.dtick<y&&(Ye.dtick=y)):/%[UVW]/.test(Qt)?(Ue=C,lr&&!It&&Ye.dtick<C&&(Ye.dtick=C)):/%[Bbm]/.test(Qt)?(Ue=x,lr&&(It?De(Ye.dtick)<1:Ye.dtick<w)&&(Ye.dtick="M1")):/%[q]/.test(Qt)?(Ue=c,lr&&(It?De(Ye.dtick)<3:Ye.dtick<a)&&(Ye.dtick="M3")):/%[Yy]/.test(Qt)&&(Ue=g,lr&&(It?De(Ye.dtick)<12:Ye.dtick<h)&&(Ye.dtick="M12")))}It=Ot(),It&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=Ue}function Te(Ye,Ue,Ot){for(var It=0;It<Ye.length;It++){var Qt=Ye[It].value,lr=It,fr=It+1;It<Ye.length-1?(lr=It,fr=It+1):It>0?(lr=It-1,fr=It):(lr=It,fr=It);var er=Ye[lr].value,Nt=Ye[fr].value,ir=Math.abs(Nt-er),vr=Ot||ir,xr=0;vr>=h?ir>=h&&ir<=l?xr=ir:xr=g:Ot===c&&vr>=a?ir>=a&&ir<=T?xr=ir:xr=c:vr>=w?ir>=w&&ir<=d?xr=ir:xr=x:Ot===C&&vr>=C?xr=C:vr>=y?xr=y:Ot===M&&vr>=M?xr=M:Ot===A&&vr>=A&&(xr=A);var dr;xr>=ir&&(xr=ir,dr=!0);var Hr=Qt+xr;if(Ue.rangebreaks&&xr>0){for(var Pr=84,Rr=0,an=0;an<Pr;an++){var tn=(an+.5)/Pr;Ue.maskBreaks(Qt*(1-tn)+tn*Hr)!==I&&Rr++}xr*=Rr/Pr,xr||(Ye[It].drop=!0),dr&&ir>C&&(xr=ir)}(xr>0||It===0)&&(Ye[It].periodX=Qt+xr/2)}}$.calcTicks=function(Ue,Ot){for(var It=Ue.type,Qt=Ue.calendar,lr=Ue.ticklabelstep,fr=Ue.ticklabelmode==="period",er=S.simpleMap(Ue.range,Ue.r2l,void 0,void 0,Ot),Nt=er[1]<er[0],ir=Math.min(er[0],er[1]),vr=Math.max(er[0],er[1]),xr=Math.max(1e3,Ue._length||0),dr=[],Hr=[],Pr=[],Rr=[],an=Ue.minor&&(Ue.minor.ticks||Ue.minor.showgrid),tn=1;tn>=(an?0:1);tn--){var Sn=!tn;tn?(Ue._dtickInit=Ue.dtick,Ue._tick0Init=Ue.tick0):(Ue.minor._dtickInit=Ue.minor.dtick,Ue.minor._tick0Init=Ue.minor.tick0);var Tn=tn?Ue:S.extendFlat({},Ue,Ue.minor);if(Sn?$.prepMinorTicks(Tn,Ue,Ot):$.prepTicks(Tn,Ot),Tn.tickmode==="array"){tn?(Pr=[],dr=Ie(Ue,!Sn)):(Rr=[],Hr=Ie(Ue,!Sn));continue}if(Tn.tickmode==="sync"){Pr=[],dr=Se(Ue);continue}var Tr=j(er),zr=Tr[0],Yr=Tr[1],Or=P(Tn.dtick),ln=It==="log"&&!(Or||Tn.dtick.charAt(0)==="L"),fn=$.tickFirst(Tn,Ot);if(tn){if(Ue._tmin=fn,fn<zr!==Nt)break;(It==="category"||It==="multicategory")&&(Yr=Nt?Math.max(-.5,Yr):Math.min(Ue._categories.length-.5,Yr))}var Mn=null,Pn=fn,Vn;if(tn){var ia;Or?ia=Ue.dtick:It==="date"?typeof Ue.dtick=="string"&&Ue.dtick.charAt(0)==="M"&&(ia=x*Ue.dtick.substring(1)):ia=Ue._roughDTick,Vn=Math.round((Ue.r2l(Pn)-Ue.r2l(Ue.tick0))/ia)-1}var ya=Tn.dtick;for(Tn.rangebreaks&&Tn._tick0Init!==Tn.tick0&&(Pn=Ut(Pn,Ue),Nt||(Pn=$.tickIncrement(Pn,ya,!Nt,Qt))),tn&&fr&&(Pn=$.tickIncrement(Pn,ya,!Nt,Qt),Vn--);Nt?Pn>=Yr:Pn<=Yr;Pn=$.tickIncrement(Pn,ya,Nt,Qt)){if(tn&&Vn++,Tn.rangebreaks&&!Nt){if(Pn<zr)continue;if(Tn.maskBreaks(Pn)===I&&Ut(Pn,Tn)>=vr)break}if(Pr.length>xr||Pn===Mn)break;Mn=Pn;var wa={value:Pn};tn?(ln&&Pn!==(Pn|0)&&(wa.simpleLabel=!0),lr>1&&Vn%lr&&(wa.skipLabel=!0),Pr.push(wa)):(wa.minor=!0,Rr.push(wa))}}if(an){var Gn=Ue.minor.ticks==="inside"&&Ue.ticks==="outside"||Ue.minor.ticks==="outside"&&Ue.ticks==="inside";if(!Gn){for(var Qn=Pr.map(function(gn){return gn.value}),mr=[],en=0;en<Rr.length;en++){var Jr=Rr[en],vn=Jr.value;if(Qn.indexOf(vn)===-1){for(var On=!1,bn=0;!On&&bn<Pr.length;bn++)1e7+Pr[bn].value===1e7+vn&&(On=!0);On||mr.push(Jr)}}Rr=mr}}fr&&Te(Pr,Ue,Ue._definedDelta);var An;if(Ue.rangebreaks){var Fn=Ue._id.charAt(0)==="y",$n=1;Ue.tickmode==="auto"&&($n=Ue.tickfont?Ue.tickfont.size:12);var ha=NaN;for(An=Pr.length-1;An>-1;An--){if(Pr[An].drop){Pr.splice(An,1);continue}Pr[An].value=Ut(Pr[An].value,Ue);var Ia=Ue.c2p(Pr[An].value);(Fn?ha>Ia-$n:ha<Ia+$n)?Pr.splice(Nt?An+1:An,1):ha=Ia}}Bt(Ue)&&Math.abs(er[1]-er[0])===360&&Pr.pop(),Ue._tmax=(Pr[Pr.length-1]||{}).value,Ue._prevDateHead="",Ue._inCalcTicks=!0;var Mr,Fr=function(gn){gn.text="",Ue._prevDateHead=Mr};Pr=Pr.concat(Rr);var Ar,Nr;for(An=0;An<Pr.length;An++){var mn=Pr[An].minor,Rn=Pr[An].value;mn?Hr.push({x:Rn,minor:!0}):(Mr=Ue._prevDateHead,Ar=$.tickText(Ue,Rn,!1,Pr[An].simpleLabel),Nr=Pr[An].periodX,Nr!==void 0&&(Ar.periodX=Nr,(Nr>vr||Nr<ir)&&(Nr>vr&&(Ar.periodX=vr),Nr<ir&&(Ar.periodX=ir),Fr(Ar))),Pr[An].skipLabel&&Fr(Ar),dr.push(Ar))}return dr=dr.concat(Hr),Ue._inCalcTicks=!1,fr&&dr.length&&(dr[0].noTick=!0),dr};function Re(Ye,Ue){return Ye.rangebreaks&&(Ue=Ue.filter(function(Ot){return Ye.maskBreaks(Ot.x)!==I})),Ue}function Se(Ye){var Ue=Ye._mainAxis,Ot=[];if(Ue._vals){for(var It=0;It<Ue._vals.length;It++)if(!Ue._vals[It].noTick){var Qt=Ue.l2p(Ue._vals[It].x),lr=Ye.p2l(Qt),fr=$.tickText(Ye,lr);Ue._vals[It].minor&&(fr.minor=!0,fr.text=""),Ot.push(fr)}}return Ot=Re(Ye,Ot),Ot}function Ie(Ye,Ue){var Ot=S.simpleMap(Ye.range,Ye.r2l),It=j(Ot),Qt=Math.min(It[0],It[1]),lr=Math.max(It[0],It[1]),fr=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var er=[],Nt=0;Nt<=1;Nt++)if(!(Ue!==void 0&&(Ue&&Nt||Ue===!1&&!Nt))&&!(Nt&&!Ye.minor)){var ir=Nt?Ye.minor.tickvals:Ye.tickvals,vr=Nt?[]:Ye.ticktext;if(ir){S.isArrayOrTypedArray(vr)||(vr=[]);for(var xr=0;xr<ir.length;xr++){var dr=fr(ir[xr]);if(dr>Qt&&dr<lr){var Hr=$.tickText(Ye,dr,!1,String(vr[xr]));Nt&&(Hr.minor=!0,Hr.text=""),er.push(Hr)}}}}return er=Re(Ye,er),er}var Me=[2,5,10],Ve=[1,2,3,6,12],et=[1,2,5,10,15,30],it=[1,2,3,7,14],Je=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Qe=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function ht(Ye,Ue,Ot){return Ue*S.roundUp(Ye/Ue,Ot)}$.autoTicks=function(Ye,Ue,Ot){var It;function Qt(xr){return Math.pow(xr,Math.floor(Math.log(Ue)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=S.dateTick0(Ye.calendar,0);var lr=2*Ue;if(lr>g)Ue/=g,It=Qt(10),Ye.dtick="M"+12*ht(Ue,It,Me);else if(lr>x)Ue/=x,Ye.dtick="M"+ht(Ue,1,Ve);else if(lr>y){if(Ye.dtick=ht(Ue,y,Ye._hasDayOfWeekBreaks?[1,2,7,14]:it),!Ot){var fr=$.getTickFormat(Ye),er=Ye.ticklabelmode==="period";er&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(fr)?Ye.tick0=S.dateTick0(Ye.calendar,2):Ye.tick0=S.dateTick0(Ye.calendar,1),er&&(Ye._dowTick0=Ye.tick0)}}else lr>A?Ye.dtick=ht(Ue,A,Ve):lr>o?Ye.dtick=ht(Ue,o,et):lr>E?Ye.dtick=ht(Ue,E,et):(It=Qt(10),Ye.dtick=ht(Ue,It,Me))}else if(Ye.type==="log"){Ye.tick0=0;var Nt=S.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(Ue*=1.5),Ue>.7)Ye.dtick=Math.ceil(Ue);else if(Math.abs(Nt[1]-Nt[0])<1){var ir=1.5*Math.abs((Nt[1]-Nt[0])/Ue);Ue=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/ir,It=Qt(10),Ye.dtick="L"+ht(Ue,It,Me)}else Ye.dtick=Ue>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(Ue,1))):Bt(Ye)?(Ye.tick0=0,It=1,Ye.dtick=ht(Ue,It,ct)):(Ye.tick0=0,It=Qt(10),Ye.dtick=ht(Ue,It,Me));if(Ye.dtick===0&&(Ye.dtick=1),!P(Ye.dtick)&&typeof Ye.dtick!="string"){var vr=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(vr)}};function gt(Ye){var Ue=Ye.dtick;if(Ye._tickexponent=0,!P(Ue)&&typeof Ue!="string"&&(Ue=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var Ot=Ye.r2l(Ye.tick0),It=Ye.l2r(Ot).replace(/(^-|i)/g,""),Qt=It.length;if(String(Ue).charAt(0)==="M")Qt>10||It.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+Ue.substr(1)%12===0?"y":"m";else if(Ue>=y&&Qt<=10||Ue>=y*15)Ye._tickround="d";else if(Ue>=o&&Qt<=16||Ue>=A)Ye._tickround="M";else if(Ue>=E&&Qt<=19||Ue>=o)Ye._tickround="S";else{var lr=Ye.l2r(Ot+Ue).replace(/^-/,"").length;Ye._tickround=Math.max(Qt,lr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(P(Ue)||Ue.charAt(0)==="L"){var fr=Ye.range.map(Ye.r2d||Number);P(Ue)||(Ue=Number(Ue.substr(1))),Ye._tickround=2-Math.floor(Math.log(Ue)/Math.LN10+.01);var er=Math.max(Math.abs(fr[0]),Math.abs(fr[1])),Nt=Math.floor(Math.log(er)/Math.LN10+.01),ir=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Nt)>ir&&(je(Ye.exponentformat)&&!Ce(Nt)?Ye._tickexponent=3*Math.round((Nt-1)/3):Ye._tickexponent=Nt)}else Ye._tickround=null}$.tickIncrement=function(Ye,Ue,Ot,It){var Qt=Ot?-1:1;if(P(Ue))return S.increment(Ye,Qt*Ue);var lr=Ue.charAt(0),fr=Qt*Number(Ue.substr(1));if(lr==="M")return S.incrementMonth(Ye,fr,It);if(lr==="L")return Math.log(Math.pow(10,Ye)+fr)/Math.LN10;if(lr==="D"){var er=Ue==="D2"?Qe:Je,Nt=Ye+Qt*.01,ir=S.roundUp(S.mod(Nt,1),er,Ot);return Math.floor(Nt)+Math.log(m.round(Math.pow(10,ir),1))/Math.LN10}throw"unrecognized dtick "+String(Ue)},$.tickFirst=function(Ye,Ue){var Ot=Ye.r2l||Number,It=S.simpleMap(Ye.range,Ot,void 0,void 0,Ue),Qt=It[1]<It[0],lr=Qt?Math.floor:Math.ceil,fr=j(It)[0],er=Ye.dtick,Nt=Ot(Ye.tick0);if(P(er)){var ir=lr((fr-Nt)/er)*er+Nt;return(Ye.type==="category"||Ye.type==="multicategory")&&(ir=S.constrain(ir,0,Ye._categories.length-1)),ir}var vr=er.charAt(0),xr=Number(er.substr(1));if(vr==="M"){for(var dr=0,Hr=Nt,Pr,Rr,an;dr<10;){if(Pr=$.tickIncrement(Hr,er,Qt,Ye.calendar),(Pr-fr)*(Hr-fr)<=0)return Qt?Math.min(Hr,Pr):Math.max(Hr,Pr);Rr=(fr-(Hr+Pr)/2)/(Pr-Hr),an=vr+(Math.abs(Math.round(Rr))||1)*xr,Hr=$.tickIncrement(Hr,an,Rr<0?!Qt:Qt,Ye.calendar),dr++}return S.error("tickFirst did not converge",Ye),Hr}else{if(vr==="L")return Math.log(lr((Math.pow(10,fr)-Nt)/xr)*xr+Nt)/Math.LN10;if(vr==="D"){var tn=er==="D2"?Qe:Je,Sn=S.roundUp(S.mod(fr,1),tn,Qt);return Math.floor(fr)+Math.log(m.round(Math.pow(10,Sn),1))/Math.LN10}else throw"unrecognized dtick "+String(er)}},$.tickText=function(Ye,Ue,Ot,It){var Qt=Tt(Ye,Ue),lr=Ye.tickmode==="array",fr=Ot||lr,er=Ye.type,Nt=er==="category"?Ye.d2l_noadd:Ye.d2l,ir,vr=function(an){var tn=Ye.l2p(an);return tn>=0&&tn<=Ye._length?an:null};if(lr&&S.isArrayOrTypedArray(Ye.ticktext)){var xr=S.simpleMap(Ye.range,Ye.r2l),dr=(Math.abs(xr[1]-xr[0])-(Ye._lBreaks||0))/1e4;for(ir=0;ir<Ye.ticktext.length&&!(Math.abs(Ue-Nt(Ye.tickvals[ir]))<dr);ir++);if(ir<Ye.ticktext.length)return Qt.text=String(Ye.ticktext[ir]),Qt.xbnd=[vr(Qt.x-.5),vr(Qt.x+Ye.dtick-.5)],Qt}function Hr(an){if(an===void 0)return!0;if(Ot)return an==="none";var tn={first:Ye._tmin,last:Ye._tmax}[an];return an!=="all"&&Ue!==tn}var Pr=Ot?"never":Ye.exponentformat!=="none"&&Hr(Ye.showexponent)?"hide":"";if(er==="date"?Et(Ye,Qt,Ot,fr):er==="log"?rt(Ye,Qt,Ot,fr,Pr):er==="category"?ze(Ye,Qt):er==="multicategory"?He(Ye,Qt,Ot):Bt(Ye)?We(Ye,Qt,Ot,fr,Pr):Ge(Ye,Qt,Ot,fr,Pr),It||(Ye.tickprefix&&!Hr(Ye.showtickprefix)&&(Qt.text=Ye.tickprefix+Qt.text),Ye.ticksuffix&&!Hr(Ye.showticksuffix)&&(Qt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Qt.text)){var Rr=Ye.labelalias[Qt.text];typeof Rr=="string"&&(Qt.text=Rr)}return(Ye.tickson==="boundaries"||Ye.showdividers)&&(Qt.xbnd=[vr(Qt.x-.5),vr(Qt.x+Ye.dtick-.5)]),Qt},$.hoverLabelText=function(Ye,Ue,Ot){Ot&&(Ye=S.extendFlat({},Ye,{hoverformat:Ot}));var It=S.isArrayOrTypedArray(Ue)?Ue[0]:Ue,Qt=S.isArrayOrTypedArray(Ue)?Ue[1]:void 0;if(Qt!==void 0&&Qt!==It)return $.hoverLabelText(Ye,It,Ot)+" - "+$.hoverLabelText(Ye,Qt,Ot);var lr=Ye.type==="log"&&It<=0,fr=$.tickText(Ye,Ye.c2l(lr?-It:It),"hover").text;return lr?It===0?"0":b+fr:fr};function Tt(Ye,Ue,Ot){var It=Ye.tickfont||{};return{x:Ue,dx:0,dy:0,text:Ot||"",fontSize:It.size,font:It.family,fontWeight:It.weight,fontStyle:It.style,fontVariant:It.variant,fontTextcase:It.textcase,fontLineposition:It.lineposition,fontShadow:It.shadow,fontColor:It.color}}function Et(Ye,Ue,Ot,It){var Qt=Ye._tickround,lr=Ot&&Ye.hoverformat||$.getTickFormat(Ye);It=!lr&&It,It&&(P(Qt)?Qt=4:Qt={y:"m",m:"d",d:"M",M:"S",S:4}[Qt]);var fr=S.formatDate(Ue.x,lr,Qt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),er,Nt=fr.indexOf(`
`);if(Nt!==-1&&(er=fr.substr(Nt+1),fr=fr.substr(0,Nt)),It&&(er!==void 0&&(fr==="00:00:00"||fr==="00:00")?(fr=er,er=""):fr.length===8&&(fr=fr.replace(/:00$/,""))),er)if(Ot)Qt==="d"?fr+=", "+er:fr=er+(fr?", "+fr:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==er)Ye._prevDateHead=er,fr+="<br>"+er;else{var ir=Jt(Ye),vr=Ye._trueSide||Ye.side;(!ir&&vr==="top"||ir&&vr==="bottom")&&(fr+="<br> ")}Ue.text=fr}function rt(Ye,Ue,Ot,It,Qt){var lr=Ye.dtick,fr=Ue.x,er=Ye.tickformat,Nt=typeof lr=="string"&&lr.charAt(0);if(Qt==="never"&&(Qt=""),It&&Nt!=="L"&&(lr="L3",Nt="L"),er||Nt==="L")Ue.text=he(Math.pow(10,fr),Ye,Qt,It);else if(P(lr)||Nt==="D"&&S.mod(fr+.01,1)<.1){var ir=Math.round(fr),vr=Math.abs(ir),xr=Ye.exponentformat;xr==="power"||je(xr)&&Ce(ir)?(ir===0?Ue.text=1:ir===1?Ue.text="10":Ue.text="10<sup>"+(ir>1?"":b)+vr+"</sup>",Ue.fontSize*=1.25):(xr==="e"||xr==="E")&&vr>2?Ue.text="1"+xr+(ir>0?"+":b)+vr:(Ue.text=he(Math.pow(10,fr),Ye,"","fakehover"),lr==="D1"&&Ye._id.charAt(0)==="y"&&(Ue.dy-=Ue.fontSize/6))}else if(Nt==="D")Ue.text=String(Math.round(Math.pow(10,S.mod(fr,1)))),Ue.fontSize*=.75;else throw"unrecognized dtick "+String(lr);if(Ye.dtick==="D1"){var dr=String(Ue.text).charAt(0);(dr==="0"||dr==="1")&&(Ye._id.charAt(0)==="y"?Ue.dx-=Ue.fontSize/4:(Ue.dy+=Ue.fontSize/2,Ue.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*Ue.fontSize*(fr<0?.5:.25)))}}function ze(Ye,Ue){var Ot=Ye._categories[Math.round(Ue.x)];Ot===void 0&&(Ot=""),Ue.text=String(Ot)}function He(Ye,Ue,Ot){var It=Math.round(Ue.x),Qt=Ye._categories[It]||[],lr=Qt[1]===void 0?"":String(Qt[1]),fr=Qt[0]===void 0?"":String(Qt[0]);Ot?Ue.text=fr+" - "+lr:(Ue.text=lr,Ue.text2=fr)}function Ge(Ye,Ue,Ot,It,Qt){Qt==="never"?Qt="":Ye.showexponent==="all"&&Math.abs(Ue.x/Ye.dtick)<1e-6&&(Qt="hide"),Ue.text=he(Ue.x,Ye,Qt,It)}function We(Ye,Ue,Ot,It,Qt){if(Ye.thetaunit==="radians"&&!Ot){var lr=Ue.x/180;if(lr===0)Ue.text="0";else{var fr=Le(lr);if(fr[1]>=100)Ue.text=he(S.deg2rad(Ue.x),Ye,Qt,It);else{var er=Ue.x<0;fr[1]===1?fr[0]===1?Ue.text="π":Ue.text=fr[0]+"π":Ue.text=["<sup>",fr[0],"</sup>","⁄","<sub>",fr[1],"</sub>","π"].join(""),er&&(Ue.text=b+Ue.text)}}}else Ue.text=he(Ue.x,Ye,Qt,It)}function Le(Ye){function Ue(er,Nt){return Math.abs(er-Nt)<=1e-6}function Ot(er,Nt){return Ue(Nt,0)?er:Ot(Nt,er%Nt)}function It(er){for(var Nt=1;!Ue(Math.round(er*Nt)/Nt,er);)Nt*=10;return Nt}var Qt=It(Ye),lr=Ye*Qt,fr=Math.abs(Ot(lr,Qt));return[Math.round(lr/fr),Math.round(Qt/fr)]}var Pe=["f","p","n","μ","m","","k","M","G","T"];function je(Ye){return Ye==="SI"||Ye==="B"}function Ce(Ye){return Ye>14||Ye<-15}function he(Ye,Ue,Ot,It){var Qt=Ye<0,lr=Ue._tickround,fr=Ot||Ue.exponentformat||"B",er=Ue._tickexponent,Nt=$.getTickFormat(Ue),ir=Ue.separatethousands;if(It){var vr={exponentformat:fr,minexponent:Ue.minexponent,dtick:Ue.showexponent==="none"?Ue.dtick:P(Ye)&&Math.abs(Ye)||1,range:Ue.showexponent==="none"?Ue.range.map(Ue.r2d):[0,Ye||1]};gt(vr),lr=(Number(vr._tickround)||0)+4,er=vr._tickexponent,Ue.hoverformat&&(Nt=Ue.hoverformat)}if(Nt)return Ue._numFormat(Nt)(Ye).replace(/-/g,b);var xr=Math.pow(10,-lr)/2;if(fr==="none"&&(er=0),Ye=Math.abs(Ye),Ye<xr)Ye="0",Qt=!1;else{if(Ye+=xr,er&&(Ye*=Math.pow(10,-er),lr+=er),lr===0)Ye=String(Math.floor(Ye));else if(lr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+lr);for(var dr=lr;dr<0;dr++)Ye+="0"}else{Ye=String(Ye);var Hr=Ye.indexOf(".")+1;Hr&&(Ye=Ye.substr(0,Hr+lr).replace(/\.?0+$/,""))}Ye=S.numSeparate(Ye,Ue._separators,ir)}if(er&&fr!=="hide"){je(fr)&&Ce(er)&&(fr="power");var Pr;er<0?Pr=b+-er:fr!=="power"?Pr="+"+er:Pr=String(er),fr==="e"||fr==="E"?Ye+=fr+Pr:fr==="power"?Ye+="×10<sup>"+Pr+"</sup>":fr==="B"&&er===9?Ye+="B":je(fr)&&(Ye+=Pe[er/3+5])}return Qt?b+Ye:Ye}$.getTickFormat=function(Ye){var Ue;function Ot(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*x}function It(Nt,ir){var vr=["L","D"];if(typeof Nt==typeof ir){if(typeof Nt=="number")return Nt-ir;var xr=vr.indexOf(Nt.charAt(0)),dr=vr.indexOf(ir.charAt(0));return xr===dr?Number(Nt.replace(/(L|D)/g,""))-Number(ir.replace(/(L|D)/g,"")):xr-dr}else return typeof Nt=="number"?1:-1}function Qt(Nt,ir,vr){var xr=vr||function(Pr){return Pr},dr=ir[0],Hr=ir[1];return(!dr&&typeof dr!="number"||xr(dr)<=xr(Nt))&&(!Hr&&typeof Hr!="number"||xr(Hr)>=xr(Nt))}function lr(Nt,ir){var vr=ir[0]===null,xr=ir[1]===null,dr=It(Nt,ir[0])>=0,Hr=It(Nt,ir[1])<=0;return(vr||dr)&&(xr||Hr)}var fr,er;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(Ue=0;Ue<Ye.tickformatstops.length;Ue++)if(er=Ye.tickformatstops[Ue],er.enabled&&Qt(Ye.dtick,er.dtickrange,Ot)){fr=er;break}break}case"log":{for(Ue=0;Ue<Ye.tickformatstops.length;Ue++)if(er=Ye.tickformatstops[Ue],er.enabled&&lr(Ye.dtick,er.dtickrange)){fr=er;break}break}}return fr?fr.value:Ye.tickformat},$.getSubplots=function(Ye,Ue){var Ot=Ye._fullLayout._subplots,It=Ot.cartesian.concat(Ot.gl2d||[]),Qt=Ue?$.findSubplotsWithAxis(It,Ue):It;return Qt.sort(function(lr,fr){var er=lr.substr(1).split("y"),Nt=fr.substr(1).split("y");return er[0]===Nt[0]?+er[1]-+Nt[1]:+er[0]-+Nt[0]}),Qt},$.findSubplotsWithAxis=function(Ye,Ue){for(var Ot=new RegExp(Ue._id.charAt(0)==="x"?"^"+Ue._id+"y":Ue._id+"$"),It=[],Qt=0;Qt<Ye.length;Qt++){var lr=Ye[Qt];Ot.test(lr)&&It.push(lr)}return It},$.makeClipPaths=function(Ye){var Ue=Ye._fullLayout;if(!Ue._hasOnlyLargeSploms){var Ot={_offset:0,_length:Ue.width,_id:""},It={_offset:0,_length:Ue.height,_id:""},Qt=$.list(Ye,"x",!0),lr=$.list(Ye,"y",!0),fr=[],er,Nt;for(er=0;er<Qt.length;er++)for(fr.push({x:Qt[er],y:It}),Nt=0;Nt<lr.length;Nt++)er===0&&fr.push({x:Ot,y:lr[Nt]}),fr.push({x:Qt[er],y:lr[Nt]});var ir=Ue._clips.selectAll(".axesclip").data(fr,function(vr){return vr.x._id+vr.y._id});ir.enter().append("clipPath").classed("axesclip",!0).attr("id",function(vr){return"clip"+Ue._uid+vr.x._id+vr.y._id}).append("rect"),ir.exit().remove(),ir.each(function(vr){m.select(this).select("rect").attr({x:vr.x._offset||0,y:vr.y._offset||0,width:vr.x._length||1,height:vr.y._length||1})})}},$.draw=function(Ye,Ue,Ot){var It=Ye._fullLayout;Ue==="redraw"&&It._paper.selectAll("g.subplot").each(function(Nt){var ir=Nt[0],vr=It._plots[ir];if(vr){var xr=vr.xaxis,dr=vr.yaxis;vr.xaxislayer.selectAll("."+xr._id+"tick").remove(),vr.yaxislayer.selectAll("."+dr._id+"tick").remove(),vr.xaxislayer.selectAll("."+xr._id+"tick2").remove(),vr.yaxislayer.selectAll("."+dr._id+"tick2").remove(),vr.xaxislayer.selectAll("."+xr._id+"divider").remove(),vr.yaxislayer.selectAll("."+dr._id+"divider").remove(),vr.minorGridlayer&&vr.minorGridlayer.selectAll("path").remove(),vr.gridlayer&&vr.gridlayer.selectAll("path").remove(),vr.zerolinelayer&&vr.zerolinelayer.selectAll("path").remove(),It._infolayer.select(".g-"+xr._id+"title").remove(),It._infolayer.select(".g-"+dr._id+"title").remove()}});var Qt=!Ue||Ue==="redraw"?$.listIds(Ye):Ue,lr=$.list(Ye),fr=lr.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Qt.map(function(Nt){var ir=$.getFromId(Ye,Nt);if(ir.tickmode==="sync"&&ir.overlaying){var vr=Qt.findIndex(function(xr){return xr===ir.overlaying});vr>=0&&Qt.unshift(Qt.splice(vr,1).shift())}});var er={false:{left:0,right:0}};return S.syncOrAsync(Qt.map(function(Nt){return function(){if(Nt){var ir=$.getFromId(Ye,Nt);Ot||(Ot={}),Ot.axShifts=er,Ot.overlayingShiftedAx=fr;var vr=$.drawOne(Ye,ir,Ot);return ir._shiftPusher&&hr(ir,ir._fullDepth||0,er,!0),ir._r=ir.range.slice(),ir._rl=S.simpleMap(ir._r,ir.r2l),vr}}}))},$.drawOne=function(Ye,Ue,Ot){Ot=Ot||{};var It=Ot.axShifts||{},Qt=Ot.overlayingShiftedAx||[],lr,fr,er;Ue.setScale();var Nt=Ye._fullLayout,ir=Ue._id,vr=ir.charAt(0),xr=$.counterLetter(ir),dr=Nt._plots[Ue._mainSubplot];if(!dr)return;if(Ue._shiftPusher=Ue.autoshift||Qt.indexOf(Ue._id)!==-1||Qt.indexOf(Ue.overlaying)!==-1,Ue._shiftPusher&Ue.anchor==="free"){var Hr=Ue.linewidth/2||0;Ue.ticks==="inside"&&(Hr+=Ue.ticklen),hr(Ue,Hr,It,!0),hr(Ue,Ue.shift||0,It,!1)}(Ot.skipTitle!==!0||Ue._shift===void 0)&&(Ue._shift=pr(Ue,It));var Pr=dr[vr+"axislayer"],Rr=Ue._mainLinePosition,an=Rr+=Ue._shift,tn=Ue._mainMirrorPosition,Sn=Ue._vals=$.calcTicks(Ue),Tn=[Ue.mirror,an,tn].join("_");for(lr=0;lr<Sn.length;lr++)Sn[lr].axInfo=Tn;Ue._selections={},Ue._tickAngles&&(Ue._prevTickAngles=Ue._tickAngles),Ue._tickAngles={},Ue._depth=null;var Tr={};function zr(Gr){var qr=ir+(Gr||"tick");return Tr[qr]||(Tr[qr]=st(Ue,qr,an)),Tr[qr]}if(Ue.visible){var Yr=$.makeTransTickFn(Ue),Or=$.makeTransTickLabelFn(Ue),ln,fn,Mn=Ue.ticks==="inside",Pn=Ue.ticks==="outside";if(Ue.tickson==="boundaries"){var Vn=Ne(Ue,Sn);fn=$.clipEnds(Ue,Vn),ln=Mn?fn:Vn}else fn=$.clipEnds(Ue,Sn),ln=Mn&&Ue.ticklabelmode!=="period"?fn:Sn;var ia=Ue._gridVals=fn,ya=ot(Ue,Sn);if(!Nt._hasOnlyLargeSploms){var wa=Ue._subplotsWith,Gn={};for(lr=0;lr<wa.length;lr++){fr=wa[lr],er=Nt._plots[fr];var Qn=er[xr+"axis"],mr=Qn._mainAxis._id;if(!Gn[mr]){Gn[mr]=1;var en=vr==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;$.drawGrid(Ye,Ue,{vals:ia,counterAxis:Qn,layer:er.gridlayer.select("."+ir),minorLayer:er.minorGridlayer.select("."+ir),path:en,transFn:Yr}),$.drawZeroLine(Ye,Ue,{counterAxis:Qn,layer:er.zerolinelayer,path:en,transFn:Yr})}}}var Jr,vn=$.getTickSigns(Ue),On=$.getTickSigns(Ue,"minor");if(Ue.ticks||Ue.minor&&Ue.minor.ticks){var bn=$.makeTickPath(Ue,an,vn[2]),An=$.makeTickPath(Ue,an,On[2],{minor:!0}),Fn,$n,ha,Ia;if(Ue._anchorAxis&&Ue.mirror&&Ue.mirror!==!0?(Fn=$.makeTickPath(Ue,tn,vn[3]),$n=$.makeTickPath(Ue,tn,On[3],{minor:!0}),ha=bn+Fn,Ia=An+$n):(Fn="",$n="",ha=bn,Ia=An),Ue.showdividers&&Pn&&Ue.tickson==="boundaries"){var Mr={};for(lr=0;lr<ya.length;lr++)Mr[ya[lr].x]=1;Jr=function(Gr){return Mr[Gr.x]?Fn:ha}}else Jr=function(Gr){return Gr.minor?Ia:ha}}if($.drawTicks(Ye,Ue,{vals:ln,layer:Pr,path:Jr,transFn:Yr}),Ue.mirror==="allticks"){var Fr=Object.keys(Ue._linepositions||{});for(lr=0;lr<Fr.length;lr++){fr=Fr[lr],er=Nt._plots[fr];var Ar=Ue._linepositions[fr]||[],Nr=Ar[0],mn=Ar[1],Rn=Ar[2],gn=$.makeTickPath(Ue,Nr,Rn?vn[0]:On[0],{minor:Rn})+$.makeTickPath(Ue,mn,Rn?vn[1]:On[1],{minor:Rn});$.drawTicks(Ye,Ue,{vals:ln,layer:er[vr+"axislayer"],path:gn,transFn:Yr})}}var un=[];if(un.push(function(){return $.drawLabels(Ye,Ue,{vals:Sn,layer:Pr,plotinfo:er,transFn:Or,labelFns:$.makeLabelFns(Ue,an)})}),Ue.type==="multicategory"){var Er={x:2,y:10}[vr];un.push(function(){var Gr={x:"height",y:"width"}[vr],qr=zr()[Gr]+Er+(Ue._tickAngles[ir+"tick"]?Ue.tickfont.size*re:0);return $.drawLabels(Ye,Ue,{vals:$e(Ue,Sn),layer:Pr,cls:ir+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Yr,labelFns:$.makeLabelFns(Ue,an+qr*vn[4])})}),un.push(function(){return Ue._depth=vn[4]*(zr("tick2")[Ue.side]-an),Mt(Ye,Ue,{vals:ya,layer:Pr,path:$.makeTickPath(Ue,an,vn[4],{len:Ue._depth}),transFn:Yr})})}else Ue.title.hasOwnProperty("standoff")&&un.push(function(){Ue._depth=vn[4]*(zr()[Ue.side]-an)});var Zr=L.getComponentMethod("rangeslider","isVisible")(Ue);return!Ot.skipTitle&&!(Zr&&Ue.side==="bottom")&&un.push(function(){return nr(Ye,Ue)}),un.push(function(){var Gr=Ue.side.charAt(0),qr=ne[Ue.side].charAt(0),wn=$.getPxPosition(Ye,Ue),zn=Pn?Ue.ticklen:0,En,Un,Nn,va;(Ue.automargin||Zr||Ue._shiftPusher)&&(Ue.type==="multicategory"?En=zr("tick2"):(En=zr(),vr==="x"&&Gr==="b"&&(Ue._depth=Math.max(En.width>0?En.bottom-wn:0,zn))));var sa=0,ga=0;if(Ue._shiftPusher&&(sa=Math.max(zn,En.height>0?Gr==="l"?wn-En.left:En.right-wn:0),Ue.title.text!==Nt._dfltTitle[vr]&&(ga=(Ue._titleStandoff||0)+(Ue._titleScoot||0),Gr==="l"&&(ga+=Xt(Ue))),Ue._fullDepth=Math.max(sa,ga)),Ue.automargin){Un={x:0,y:0,r:0,l:0,t:0,b:0};var _a=[0,1],gi=typeof Ue._shift=="number"?Ue._shift:0;if(vr==="x"){if(Gr==="b"?Un[Gr]=Ue._depth:(Un[Gr]=Ue._depth=Math.max(En.width>0?wn-En.top:0,zn),_a.reverse()),En.width>0){var ai=En.right-(Ue._offset+Ue._length);ai>0&&(Un.xr=1,Un.r=ai);var ko=Ue._offset-En.left;ko>0&&(Un.xl=0,Un.l=ko)}}else if(Gr==="l"?(Ue._depth=Math.max(En.height>0?wn-En.left:0,zn),Un[Gr]=Ue._depth-gi):(Ue._depth=Math.max(En.height>0?En.right-wn:0,zn),Un[Gr]=Ue._depth+gi,_a.reverse()),En.height>0){var Co=En.bottom-(Ue._offset+Ue._length);Co>0&&(Un.yb=0,Un.b=Co);var to=Ue._offset-En.top;to>0&&(Un.yt=1,Un.t=to)}Un[xr]=Ue.anchor==="free"?Ue.position:Ue._anchorAxis.domain[_a[0]],Ue.title.text!==Nt._dfltTitle[vr]&&(Un[Gr]+=Xt(Ue)+(Ue.title.standoff||0)),Ue.mirror&&Ue.anchor!=="free"&&(Nn={x:0,y:0,r:0,l:0,t:0,b:0},Nn[qr]=Ue.linewidth,Ue.mirror&&Ue.mirror!==!0&&(Nn[qr]+=zn),Ue.mirror===!0||Ue.mirror==="ticks"?Nn[xr]=Ue._anchorAxis.domain[_a[1]]:(Ue.mirror==="all"||Ue.mirror==="allticks")&&(Nn[xr]=[Ue._counterDomainMin,Ue._counterDomainMax][_a[1]]))}Zr&&(va=L.getComponentMethod("rangeslider","autoMarginOpts")(Ye,Ue)),typeof Ue.automargin=="string"&&(me(Un,Ue.automargin),me(Nn,Ue.automargin)),s.autoMargin(Ye,or(Ue),Un),s.autoMargin(Ye,mt(Ue),Nn),s.autoMargin(Ye,lt(Ue),va)}),S.syncOrAsync(un)}};function me(Ye,Ue){if(Ye){var Ot=Object.keys(z).reduce(function(It,Qt){return Ue.indexOf(Qt)!==-1&&z[Qt].forEach(function(lr){It[lr]=1}),It},{});Object.keys(Ye).forEach(function(It){Ot[It]||(It.length===1?Ye[It]=0:delete Ye[It])})}}function Ne(Ye,Ue){var Ot=[],It,Qt=function(lr,fr){var er=lr.xbnd[fr];er!==null&&Ot.push(S.extendFlat({},lr,{x:er}))};if(Ue.length){for(It=0;It<Ue.length;It++)Qt(Ue[It],0);Qt(Ue[It-1],1)}return Ot}function $e(Ye,Ue){for(var Ot=[],It={},Qt=0;Qt<Ue.length;Qt++){var lr=Ue[Qt];It[lr.text2]?It[lr.text2].push(lr.x):It[lr.text2]=[lr.x]}for(var fr in It)Ot.push(Tt(Ye,S.interp(It[fr],.5),fr));return Ot}function ot(Ye,Ue){var Ot=[],It,Qt,lr=Ue.length&&Ue[Ue.length-1].x<Ue[0].x,fr=function(Nt,ir){var vr=Nt.xbnd[ir];vr!==null&&Ot.push(S.extendFlat({},Nt,{x:vr}))};if(Ye.showdividers&&Ue.length){for(It=0;It<Ue.length;It++){var er=Ue[It];er.text2!==Qt&&fr(er,lr?1:0),Qt=er.text2}fr(Ue[It-1],lr?0:1)}return Ot}function st(Ye,Ue,Ot){var It,Qt,lr,fr;if(Ye._selections[Ue].size())It=1/0,Qt=-1/0,lr=1/0,fr=-1/0,Ye._selections[Ue].each(function(){var Nt=yr(this),ir=i.bBox(Nt.node().parentNode);It=Math.min(It,ir.top),Qt=Math.max(Qt,ir.bottom),lr=Math.min(lr,ir.left),fr=Math.max(fr,ir.right)});else{var er=$.makeLabelFns(Ye,Ot);It=Qt=er.yFn({dx:0,dy:0,fontSize:0}),lr=fr=er.xFn({dx:0,dy:0,fontSize:0})}return{top:It,bottom:Qt,left:lr,right:fr,height:Qt-It,width:fr-lr}}$.getTickSigns=function(Ye,Ue){var Ot=Ye._id.charAt(0),It={x:"top",y:"right"}[Ot],Qt=Ye.side===It?1:-1,lr=[-1,1,Qt,-Qt],fr=Ue?(Ye.minor||{}).ticks:Ye.ticks;return fr!=="inside"==(Ot==="x")&&(lr=lr.map(function(er){return-er})),Ye.side&&lr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),lr},$.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(Ue){return v(Ye._offset+Ye.l2p(Ue.x),0)}:function(Ue){return v(0,Ye._offset+Ye.l2p(Ue.x))}},$.makeTransTickLabelFn=function(Ye){var Ue=Pt(Ye),Ot=Ue[0],It=Ue[1];return Ye._id.charAt(0)==="x"?function(Qt){return v(Ot+Ye._offset+Ye.l2p(Wt(Qt)),It)}:function(Qt){return v(It,Ot+Ye._offset+Ye.l2p(Wt(Qt)))}};function Wt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function Pt(Ye){var Ue=Ye.ticklabelposition||"",Ot=function(Hr){return Ue.indexOf(Hr)!==-1},It=Ot("top"),Qt=Ot("left"),lr=Ot("right"),fr=Ot("bottom"),er=Ot("inside"),Nt=fr||Qt||It||lr;if(!Nt&&!er)return[0,0];var ir=Ye.side,vr=Nt?(Ye.tickwidth||0)/2:0,xr=le,dr=Ye.tickfont?Ye.tickfont.size:12;return(fr||It)&&(vr+=dr*J,xr+=(Ye.linewidth||0)/2),(Qt||lr)&&(vr+=(Ye.linewidth||0)/2,xr+=le),er&&ir==="top"&&(xr-=dr*(1-J)),(Qt||It)&&(vr=-vr),(ir==="bottom"||ir==="right")&&(xr=-xr),[Nt?vr:0,er?xr:0]}$.makeTickPath=function(Ye,Ue,Ot,It){It||(It={});var Qt=It.minor;if(Qt&&!Ye.minor)return"";var lr=It.len!==void 0?It.len:Qt?Ye.minor.ticklen:Ye.ticklen,fr=Ye._id.charAt(0),er=(Ye.linewidth||1)/2;return fr==="x"?"M0,"+(Ue+er*Ot)+"v"+lr*Ot:"M"+(Ue+er*Ot)+",0h"+lr*Ot},$.makeLabelFns=function(Ye,Ue,Ot){var It=Ye.ticklabelposition||"",Qt=function(Vn){return It.indexOf(Vn)!==-1},lr=Qt("top"),fr=Qt("left"),er=Qt("right"),Nt=Qt("bottom"),ir=Nt||fr||lr||er,vr=Qt("inside"),xr=It==="inside"&&Ye.ticks==="inside"||!vr&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",dr=0,Hr=0,Pr=xr?Ye.ticklen:0;if(vr?Pr*=-1:ir&&(Pr=0),xr&&(dr+=Pr,Ot)){var Rr=S.deg2rad(Ot);dr=Pr*Math.cos(Rr)+1,Hr=Pr*Math.sin(Rr)}Ye.showticklabels&&(xr||Ye.showline)&&(dr+=.2*Ye.tickfont.size),dr+=(Ye.linewidth||1)/2*(vr?-1:1);var an={labelStandoff:dr,labelShift:Hr},tn,Sn,Tn,Tr,zr=0,Yr=Ye.side,Or=Ye._id.charAt(0),ln=Ye.tickangle,fn;if(Or==="x")fn=!vr&&Yr==="bottom"||vr&&Yr==="top",Tr=fn?1:-1,vr&&(Tr*=-1),tn=Hr*Tr,Sn=Ue+dr*Tr,Tn=fn?1:-.2,Math.abs(ln)===90&&(vr?Tn+=W:ln===-90&&Yr==="bottom"?Tn=J:ln===90&&Yr==="top"?Tn=W:Tn=.5,zr=W/2*(ln/90)),an.xFn=function(Vn){return Vn.dx+tn+zr*Vn.fontSize},an.yFn=function(Vn){return Vn.dy+Sn+Vn.fontSize*Tn},an.anchorFn=function(Vn,ia){if(ir){if(fr)return"end";if(er)return"start"}return!P(ia)||ia===0||ia===180?"middle":ia*Tr<0!==vr?"end":"start"},an.heightFn=function(Vn,ia,ya){return ia<-60||ia>60?-.5*ya:Ye.side==="top"!==vr?-ya:0};else if(Or==="y"){if(fn=!vr&&Yr==="left"||vr&&Yr==="right",Tr=fn?1:-1,vr&&(Tr*=-1),tn=dr,Sn=Hr*Tr,Tn=0,!vr&&Math.abs(ln)===90&&(ln===-90&&Yr==="left"||ln===90&&Yr==="right"?Tn=J:Tn=.5),vr){var Mn=P(ln)?+ln:0;if(Mn!==0){var Pn=S.deg2rad(Mn);zr=Math.abs(Math.sin(Pn))*J*Tr,Tn=0}}an.xFn=function(Vn){return Vn.dx+Ue-(tn+Vn.fontSize*Tn)*Tr+zr*Vn.fontSize},an.yFn=function(Vn){return Vn.dy+Sn+Vn.fontSize*W},an.anchorFn=function(Vn,ia){return P(ia)&&Math.abs(ia)===90?"middle":fn?"end":"start"},an.heightFn=function(Vn,ia,ya){return Ye.side==="right"&&(ia*=-1),ia<-30?-ya:ia<30?-.5*ya:0}}return an};function dt(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}$.drawTicks=function(Ye,Ue,Ot){Ot=Ot||{};var It=Ue._id+"tick",Qt=[].concat(Ue.minor&&Ue.minor.ticks?Ot.vals.filter(function(fr){return fr.minor&&!fr.noTick}):[]).concat(Ue.ticks?Ot.vals.filter(function(fr){return!fr.minor&&!fr.noTick}):[]),lr=Ot.layer.selectAll("path."+It).data(Qt,dt);lr.exit().remove(),lr.enter().append("path").classed(It,1).classed("ticks",1).classed("crisp",Ot.crisp!==!1).each(function(fr){return t.stroke(m.select(this),fr.minor?Ue.minor.tickcolor:Ue.tickcolor)}).style("stroke-width",function(fr){return i.crispRound(Ye,fr.minor?Ue.minor.tickwidth:Ue.tickwidth,1)+"px"}).attr("d",Ot.path).style("display",null),cr(Ue,[O]),lr.attr("transform",Ot.transFn)},$.drawGrid=function(Ye,Ue,Ot){if(Ot=Ot||{},Ue.tickmode!=="sync"){var It=Ue._id+"grid",Qt=Ue.minor&&Ue.minor.showgrid,lr=Qt?Ot.vals.filter(function(tn){return tn.minor}):[],fr=Ue.showgrid?Ot.vals.filter(function(tn){return!tn.minor}):[],er=Ot.counterAxis;if(er&&$.shouldShowZeroLine(Ye,Ue,er))for(var Nt=Ue.tickmode==="array",ir=0;ir<fr.length;ir++){var vr=fr[ir].x;if(Nt?!vr:Math.abs(vr)<Ue.dtick/100)if(fr=fr.slice(0,ir).concat(fr.slice(ir+1)),Nt)ir--;else break}Ue._gw=i.crispRound(Ye,Ue.gridwidth,1);for(var xr=Qt?i.crispRound(Ye,Ue.minor.gridwidth,1):0,dr=Ot.layer,Hr=Ot.minorLayer,Pr=1;Pr>=0;Pr--){var Rr=Pr?dr:Hr;if(Rr){var an=Rr.selectAll("path."+It).data(Pr?fr:lr,dt);an.exit().remove(),an.enter().append("path").classed(It,1).classed("crisp",Ot.crisp!==!1),an.attr("transform",Ot.transFn).attr("d",Ot.path).each(function(tn){return t.stroke(m.select(this),tn.minor?Ue.minor.gridcolor:Ue.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return i.dashStyle(tn.minor?Ue.minor.griddash:Ue.griddash,tn.minor?Ue.minor.gridwidth:Ue.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?xr:Ue._gw)+"px"}).style("display",null),typeof Ot.path=="function"&&an.attr("d",Ot.path)}}cr(Ue,[N,k])}},$.drawZeroLine=function(Ye,Ue,Ot){Ot=Ot||Ot;var It=Ue._id+"zl",Qt=$.shouldShowZeroLine(Ye,Ue,Ot.counterAxis),lr=Ot.layer.selectAll("path."+It).data(Qt?[{x:0,id:Ue._id}]:[]);lr.exit().remove(),lr.enter().append("path").classed(It,1).classed("zl",1).classed("crisp",Ot.crisp!==!1).each(function(){Ot.layer.selectAll("path").sort(function(fr,er){return Y(fr.id,er.id)})}),lr.attr("transform",Ot.transFn).attr("d",Ot.path).call(t.stroke,Ue.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(Ye,Ue.zerolinewidth,Ue._gw||1)+"px").style("display",null),cr(Ue,[D])},$.drawLabels=function(Ye,Ue,Ot){Ot=Ot||{};var It=Ye._fullLayout,Qt=Ue._id,lr=Ot.cls||Qt+"tick",fr=Ot.vals.filter(function(mr){return mr.text}),er=Ot.labelFns,Nt=Ot.secondary?0:Ue.tickangle,ir=(Ue._prevTickAngles||{})[lr],vr=Ot.layer.selectAll("g."+lr).data(Ue.showticklabels?fr:[],dt),xr=[];vr.enter().append("g").classed(lr,1).append("text").attr("text-anchor","middle").each(function(mr){var en=m.select(this),Jr=Ye._promises.length;en.call(p.positionText,er.xFn(mr),er.yFn(mr)).call(i.font,{family:mr.font,size:mr.fontSize,color:mr.fontColor,weight:mr.fontWeight,style:mr.fontStyle,variant:mr.fontVariant,textcase:mr.fontTextcase,lineposition:mr.fontLineposition,shadow:mr.fontShadow}).text(mr.text).call(p.convertToTspans,Ye),Ye._promises[Jr]?xr.push(Ye._promises.pop().then(function(){dr(en,Nt)})):dr(en,Nt)}),cr(Ue,[F]),vr.exit().remove(),Ot.repositionOnUpdate&&vr.each(function(mr){m.select(this).select("text").call(p.positionText,er.xFn(mr),er.yFn(mr))});function dr(mr,en){mr.each(function(Jr){var vn=m.select(this),On=vn.select(".text-math-group"),bn=er.anchorFn(Jr,en),An=Ot.transFn.call(vn.node(),Jr)+(P(en)&&+en!=0?" rotate("+en+","+er.xFn(Jr)+","+(er.yFn(Jr)-Jr.fontSize/2)+")":""),Fn=p.lineCount(vn),$n=re*Jr.fontSize,ha=er.heightFn(Jr,P(en)?+en:0,(Fn-1)*$n);if(ha&&(An+=v(0,ha)),On.empty()){var Ia=vn.select("text");Ia.attr({transform:An,"text-anchor":bn}),Ia.style("opacity",1),Ue._adjustTickLabelsOverflow&&Ue._adjustTickLabelsOverflow()}else{var Mr=i.bBox(On.node()).width,Fr=Mr*{end:-.5,start:.5}[bn];On.attr("transform",An+v(Fr,0))}})}Ue._adjustTickLabelsOverflow=function(){var mr=Ue.ticklabeloverflow;if(!(!mr||mr==="allow")){var en=mr.indexOf("hide")!==-1,Jr=Ue._id.charAt(0)==="x",vn=0,On=Jr?Ye._fullLayout.width:Ye._fullLayout.height;if(mr.indexOf("domain")!==-1){var bn=S.simpleMap(Ue.range,Ue.r2l);vn=Ue.l2p(bn[0])+Ue._offset,On=Ue.l2p(bn[1])+Ue._offset}var An=Math.min(vn,On),Fn=Math.max(vn,On),$n=Ue.side,ha=1/0,Ia=-1/0;vr.each(function(Nr){var mn=m.select(this),Rn=mn.select(".text-math-group");if(Rn.empty()){var gn=i.bBox(mn.node()),un=0;Jr?(gn.right>Fn||gn.left<An)&&(un=1):(gn.bottom>Fn||gn.top+(Ue.tickangle?0:Nr.fontSize/4)<An)&&(un=1);var Er=mn.select("text");un?en&&Er.style("opacity",0):(Er.style("opacity",1),$n==="bottom"||$n==="right"?ha=Math.min(ha,Jr?gn.top:gn.left):ha=-1/0,$n==="top"||$n==="left"?Ia=Math.max(Ia,Jr?gn.bottom:gn.right):Ia=1/0)}});for(var Mr in It._plots){var Fr=It._plots[Mr];if(!(Ue._id!==Fr.xaxis._id&&Ue._id!==Fr.yaxis._id)){var Ar=Jr?Fr.yaxis:Fr.xaxis;Ar&&(Ar["_visibleLabelMin_"+Ue._id]=ha,Ar["_visibleLabelMax_"+Ue._id]=Ia)}}}},Ue._hideCounterAxisInsideTickLabels=function(mr){var en=Ue._id.charAt(0)==="x",Jr=[];for(var vn in It._plots){var On=It._plots[vn];Ue._id!==On.xaxis._id&&Ue._id!==On.yaxis._id||Jr.push(en?On.yaxis:On.xaxis)}Jr.forEach(function(bn,An){bn&&Jt(bn)&&(mr||[D,k,N,O,F]).forEach(function(Fn){var $n=Fn.K==="tick"&&Fn.L==="text"&&Ue.ticklabelmode==="period",ha=It._plots[Ue._mainSubplot],Ia;Fn.K===D.K?Ia=ha.zerolinelayer.selectAll("."+Ue._id+"zl"):Fn.K===k.K?Ia=ha.minorGridlayer.selectAll("."+Ue._id):Fn.K===N.K?Ia=ha.gridlayer.selectAll("."+Ue._id):Ia=ha[Ue._id.charAt(0)+"axislayer"],Ia.each(function(){var Mr=m.select(this);Fn.L&&(Mr=Mr.selectAll(Fn.L)),Mr.each(function(Fr){var Ar=Ue.l2p($n?Wt(Fr):Fr.x)+Ue._offset,Nr=m.select(this);Ar<Ue["_visibleLabelMax_"+bn._id]&&Ar>Ue["_visibleLabelMin_"+bn._id]?Nr.style("display","none"):Fn.K==="tick"&&!An&&Nr.style("display",null)})})})})},dr(vr,ir+1?ir:Nt);function Hr(){return xr.length&&Promise.all(xr)}var Pr=null;function Rr(){if(dr(vr,Nt),fr.length&&Ue.autotickangles&&(Ue.type!=="log"||String(Ue.dtick).charAt(0)!=="D")){Pr=Ue.autotickangles[0];var mr=0,en=[],Jr,vn=1;vr.each(function(En){mr=Math.max(mr,En.fontSize);var Un=Ue.l2p(En.x),Nn=yr(this),va=i.bBox(Nn.node());vn=Math.max(vn,p.lineCount(Nn)),en.push({top:0,bottom:10,height:10,left:Un-va.width/2,right:Un+va.width/2+2,width:va.width+2})});var On=(Ue.tickson==="boundaries"||Ue.showdividers)&&!Ot.secondary,bn=fr.length,An=Math.abs((fr[bn-1].x-fr[0].x)*Ue._m)/(bn-1),Fn=On?An/2:An,$n=On?Ue.ticklen:mr*1.25*vn,ha=Math.sqrt(Math.pow(Fn,2)+Math.pow($n,2)),Ia=Fn/ha,Mr=Ue.autotickangles.map(function(En){return En*Math.PI/180}),Fr=Mr.find(function(En){return Math.abs(Math.cos(En))<=Ia});Fr===void 0&&(Fr=Mr.reduce(function(En,Un){return Math.abs(Math.cos(En))<Math.abs(Math.cos(Un))?En:Un},Mr[0]));var Ar=Fr*(180/Math.PI);if(On){var Nr=2;for(Ue.ticks&&(Nr+=Ue.tickwidth/2),Jr=0;Jr<en.length;Jr++){var mn=fr[Jr].xbnd,Rn=en[Jr];if(mn[0]!==null&&Rn.left-Ue.l2p(mn[0])<Nr||mn[1]!==null&&Ue.l2p(mn[1])-Rn.right<Nr){Pr=Ar;break}}}else{var gn=Ue.ticklabelposition||"",un=function(En){return gn.indexOf(En)!==-1},Er=un("top"),Zr=un("left"),Gr=un("right"),qr=un("bottom"),wn=qr||Zr||Er||Gr,zn=wn?(Ue.tickwidth||0)+2*le:0;for(Jr=0;Jr<en.length-1;Jr++)if(S.bBoxIntersect(en[Jr],en[Jr+1],zn)){Pr=Ar;break}}Pr&&dr(vr,Pr)}}Ue._selections&&(Ue._selections[lr]=vr);var an=[Hr];Ue.automargin&&It._redrawFromAutoMarginCount&&ir===90?(Pr=ir,an.push(function(){dr(vr,ir)})):an.push(Rr),Ue._tickAngles&&an.push(function(){Ue._tickAngles[lr]=Pr===null?P(Nt)?Nt:0:Pr});var tn=function(){var mr=0,en=0;return vr.each(function(Jr,vn){var On=yr(this),bn=On.select(".text-math-group");if(bn.empty()){var An;Ue._vals[vn]&&(An=Ue._vals[vn].bb||i.bBox(On.node()),Ue._vals[vn].bb=An),mr=Math.max(mr,An.width),en=Math.max(en,An.height)}}),{labelsMaxW:mr,labelsMaxH:en}},Sn=Ue._anchorAxis;if(Sn&&(Sn.autorange||Sn.insiderange)&&Jt(Ue)&&!Q(It,Ue._id)&&(It._insideTickLabelsUpdaterange||(It._insideTickLabelsUpdaterange={}),Sn.autorange&&(It._insideTickLabelsUpdaterange[Sn._name+".autorange"]=Sn.autorange,an.push(tn)),Sn.insiderange)){var Tn=tn(),Tr=Ue._id.charAt(0)==="y"?Tn.labelsMaxW:Tn.labelsMaxH;Tr+=2*le,Ue.ticklabelposition==="inside"&&(Tr+=Ue.ticklen||0);var zr=Ue.side==="right"||Ue.side==="top"?1:-1,Yr=zr===1?1:0,Or=zr===1?0:1,ln=[];ln[Or]=Sn.range[Or];var fn=Sn.range,Mn=Sn.r2p(fn[Yr]),Pn=Sn.r2p(fn[Or]),Vn=It._insideTickLabelsUpdaterange[Sn._name+".range"];if(Vn){var ia=Sn.r2p(Vn[Yr]),ya=Sn.r2p(Vn[Or]),wa=zr*(Ue._id.charAt(0)==="y"?1:-1);wa*Mn<wa*ia&&(Mn=ia,ln[Yr]=fn[Yr]=Vn[Yr]),wa*Pn>wa*ya&&(Pn=ya,ln[Or]=fn[Or]=Vn[Or])}var Gn=Math.abs(Pn-Mn);Gn-Tr>0?(Gn-=Tr,Tr*=1+Tr/Gn):Tr=0,Ue._id.charAt(0)!=="y"&&(Tr=-Tr),ln[Yr]=Sn.p2r(Sn.r2p(fn[Yr])+zr*Tr),Sn.autorange==="min"||Sn.autorange==="max reversed"?(ln[0]=null,Sn._rangeInitial0=void 0,Sn._rangeInitial1=void 0):(Sn.autorange==="max"||Sn.autorange==="min reversed")&&(ln[1]=null,Sn._rangeInitial0=void 0,Sn._rangeInitial1=void 0),It._insideTickLabelsUpdaterange[Sn._name+".range"]=ln}var Qn=S.syncOrAsync(an);return Qn&&Qn.then&&Ye._promises.push(Qn),Qn};function Mt(Ye,Ue,Ot){var It=Ue._id+"divider",Qt=Ot.vals,lr=Ot.layer.selectAll("path."+It).data(Qt,dt);lr.exit().remove(),lr.enter().insert("path",":first-child").classed(It,1).classed("crisp",1).call(t.stroke,Ue.dividercolor).style("stroke-width",i.crispRound(Ye,Ue.dividerwidth,1)+"px"),lr.attr("transform",Ot.transFn).attr("d",Ot.path)}$.getPxPosition=function(Ye,Ue){var Ot=Ye._fullLayout._size,It=Ue._id.charAt(0),Qt=Ue.side,lr;if(Ue.anchor!=="free"?lr=Ue._anchorAxis:It==="x"?lr={_offset:Ot.t+(1-(Ue.position||0))*Ot.h,_length:0}:It==="y"&&(lr={_offset:Ot.l+(Ue.position||0)*Ot.w+Ue._shift,_length:0}),Qt==="top"||Qt==="left")return lr._offset;if(Qt==="bottom"||Qt==="right")return lr._offset+lr._length};function Xt(Ye){var Ue=Ye.title.font.size,Ot=(Ye.title.text.match(p.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?Ue*(J+Ot*re):Ot?Ue*(Ot+1)*re:Ue}function nr(Ye,Ue){var Ot=Ye._fullLayout,It=Ue._id,Qt=It.charAt(0),lr=Ue.title.font.size,fr,er=(Ue.title.text.match(p.BR_TAG_ALL)||[]).length;if(Ue.title.hasOwnProperty("standoff"))Ue.side==="bottom"||Ue.side==="right"?fr=Ue._depth+Ue.title.standoff+lr*J:(Ue.side==="top"||Ue.side==="left")&&(fr=Ue._depth+Ue.title.standoff+lr*(W+er*re));else{var Nt=Jt(Ue);if(Ue.type==="multicategory")fr=Ue._depth;else{var ir=1.5*lr;Nt&&(ir=.5*lr,Ue.ticks==="outside"&&(ir+=Ue.ticklen)),fr=10+ir+(Ue.linewidth?Ue.linewidth-1:0)}Nt||(Qt==="x"?fr+=Ue.side==="top"?lr*(Ue.showticklabels?1:0):lr*(Ue.showticklabels?1.5:.5):fr+=Ue.side==="right"?lr*(Ue.showticklabels?1:.5):lr*(Ue.showticklabels?.5:0))}var vr=$.getPxPosition(Ye,Ue),xr,dr,Hr;Qt==="x"?(dr=Ue._offset+Ue._length/2,Hr=Ue.side==="top"?vr-fr:vr+fr):(Hr=Ue._offset+Ue._length/2,dr=Ue.side==="right"?vr+fr:vr-fr,xr={rotate:"-90",offset:0});var Pr;if(Ue.type!=="multicategory"){var Rr=Ue._selections[Ue._id+"tick"];if(Pr={selection:Rr,side:Ue.side},Rr&&Rr.node()&&Rr.node().parentNode){var an=i.getTranslate(Rr.node().parentNode);Pr.offsetLeft=an.x,Pr.offsetTop=an.y}Ue.title.hasOwnProperty("standoff")&&(Pr.pad=0)}return Ue._titleStandoff=fr,r.draw(Ye,It+"title",{propContainer:Ue,propName:Ue._name+".title.text",placeholder:Ot._dfltTitle[Qt],avoid:Pr,transform:xr,attributes:{x:dr,y:Hr,"text-anchor":"middle"}})}$.shouldShowZeroLine=function(Ye,Ue,Ot){var It=S.simpleMap(Ue.range,Ue.r2l);return It[0]*It[1]<=0&&Ue.zeroline&&(Ue.type==="linear"||Ue.type==="-")&&!(Ue.rangebreaks&&Ue.maskBreaks(0)===I)&&(vt(Ue,0)||!Zt(Ye,Ue,Ot,It)||Kt(Ye,Ue))},$.clipEnds=function(Ye,Ue){return Ue.filter(function(Ot){return vt(Ye,Ot.x)})};function vt(Ye,Ue){var Ot=Ye.l2p(Ue);return Ot>1&&Ot<Ye._length-1}function Zt(Ye,Ue,Ot,It){var Qt=Ot._mainAxis;if(!Qt)return;var lr=Ye._fullLayout,fr=Ue._id.charAt(0),er=$.counterLetter(Ue._id),Nt=Ue._offset+(Math.abs(It[0])<Math.abs(It[1])==(fr==="x")?0:Ue._length);function ir(Pr){if(!Pr.showline||!Pr.linewidth)return!1;var Rr=Math.max((Pr.linewidth+Ue.zerolinewidth)/2,1);function an(Tn){return typeof Tn=="number"&&Math.abs(Tn-Nt)<Rr}if(an(Pr._mainLinePosition)||an(Pr._mainMirrorPosition))return!0;var tn=Pr._linepositions||{};for(var Sn in tn)if(an(tn[Sn][0])||an(tn[Sn][1]))return!0}var vr=lr._plots[Ot._mainSubplot];if(!(vr.mainplotinfo||vr).overlays.length)return ir(Ot);for(var xr=$.list(Ye,er),dr=0;dr<xr.length;dr++){var Hr=xr[dr];if(Hr._mainAxis===Qt&&ir(Hr))return!0}}function Kt(Ye,Ue){for(var Ot=Ye._fullData,It=Ue._mainSubplot,Qt=Ue._id.charAt(0),lr=0;lr<Ot.length;lr++){var fr=Ot[lr];if(fr.visible===!0&&fr.xaxis+fr.yaxis===It&&(L.traceIs(fr,"bar-like")&&fr.orientation==={x:"h",y:"v"}[Qt]||fr.fill&&fr.fill.charAt(fr.fill.length-1)===Qt))return!0}return!1}function yr(Ye){var Ue=m.select(Ye),Ot=Ue.select(".text-math-group");return Ot.empty()?Ue.select("text"):Ot}$.allowAutoMargin=function(Ye){for(var Ue=$.list(Ye,"",!0),Ot=0;Ot<Ue.length;Ot++){var It=Ue[Ot];It.automargin&&(s.allowAutoMargin(Ye,or(It)),It.mirror&&s.allowAutoMargin(Ye,mt(It))),L.getComponentMethod("rangeslider","isVisible")(It)&&s.allowAutoMargin(Ye,lt(It))}};function or(Ye){return Ye._id+".automargin"}function mt(Ye){return or(Ye)+".mirror"}function lt(Ye){return Ye._id+".rangeslider"}$.swap=function(Ye,Ue){for(var Ot=bt(Ye,Ue),It=0;It<Ot.length;It++)Dt(Ye,Ot[It].x,Ot[It].y)};function bt(Ye,Ue){var Ot=[],It,Qt;for(It=0;It<Ue.length;It++){var lr=[],fr=Ye._fullData[Ue[It]].xaxis,er=Ye._fullData[Ue[It]].yaxis;if(!(!fr||!er)){for(Qt=0;Qt<Ot.length;Qt++)(Ot[Qt].x.indexOf(fr)!==-1||Ot[Qt].y.indexOf(er)!==-1)&&lr.push(Qt);if(!lr.length){Ot.push({x:[fr],y:[er]});continue}var Nt=Ot[lr[0]],ir;if(lr.length>1)for(Qt=1;Qt<lr.length;Qt++)ir=Ot[lr[Qt]],Ct(Nt.x,ir.x),Ct(Nt.y,ir.y);Ct(Nt.x,[fr]),Ct(Nt.y,[er])}}return Ot}function Ct(Ye,Ue){for(var Ot=0;Ot<Ue.length;Ot++)Ye.indexOf(Ue[Ot])===-1&&Ye.push(Ue[Ot])}function Dt(Ye,Ue,Ot){var It=[],Qt=[],lr=Ye.layout,fr,er;for(fr=0;fr<Ue.length;fr++)It.push($.getFromId(Ye,Ue[fr]));for(fr=0;fr<Ot.length;fr++)Qt.push($.getFromId(Ye,Ot[fr]));var Nt=Object.keys(n),ir=["anchor","domain","overlaying","position","side","tickangle","editType"],vr=["linear","log"];for(fr=0;fr<Nt.length;fr++){var xr=Nt[fr],dr=It[0][xr],Hr=Qt[0][xr],Pr=!0,Rr=!1,an=!1;if(!(xr.charAt(0)==="_"||typeof dr=="function"||ir.indexOf(xr)!==-1)){for(er=1;er<It.length&&Pr;er++){var tn=It[er][xr];xr==="type"&&vr.indexOf(dr)!==-1&&vr.indexOf(tn)!==-1&&dr!==tn?Rr=!0:tn!==dr&&(Pr=!1)}for(er=1;er<Qt.length&&Pr;er++){var Sn=Qt[er][xr];xr==="type"&&vr.indexOf(Hr)!==-1&&vr.indexOf(Sn)!==-1&&Hr!==Sn?an=!0:Qt[er][xr]!==Hr&&(Pr=!1)}Pr&&(Rr&&(lr[It[0]._name].type="linear"),an&&(lr[Qt[0]._name].type="linear"),Ht(lr,xr,It,Qt,Ye._fullLayout._dfltTitle))}}for(fr=0;fr<Ye._fullLayout.annotations.length;fr++){var Tn=Ye._fullLayout.annotations[fr];Ue.indexOf(Tn.xref)!==-1&&Ot.indexOf(Tn.yref)!==-1&&S.swapAttrs(lr.annotations[fr],["?"])}}function Ht(Ye,Ue,Ot,It,Qt){var lr=S.nestedProperty,fr=lr(Ye[Ot[0]._name],Ue).get(),er=lr(Ye[It[0]._name],Ue).get(),Nt;for(Ue==="title"&&(fr&&fr.text===Qt.x&&(fr.text=Qt.y),er&&er.text===Qt.y&&(er.text=Qt.x)),Nt=0;Nt<Ot.length;Nt++)lr(Ye,Ot[Nt]._name+"."+Ue).set(er);for(Nt=0;Nt<It.length;Nt++)lr(Ye,It[Nt]._name+"."+Ue).set(fr)}function Bt(Ye){return Ye._id==="angularaxis"}function Ut(Ye,Ue){for(var Ot=Ue._rangebreaks.length,It=0;It<Ot;It++){var Qt=Ue._rangebreaks[It];if(Ye>=Qt.min&&Ye<Qt.max)return Qt.max}return Ye}function Jt(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function cr(Ye,Ue){Jt(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(Ue)}function hr(Ye,Ue,Ot,It){var Qt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,lr;It?lr=Ye.side==="right"?Ue:-Ue:lr=Ue,Qt in Ot||(Ot[Qt]={}),Ye.side in Ot[Qt]||(Ot[Qt][Ye.side]=0),Ot[Qt][Ye.side]+=lr}function pr(Ye,Ue){return Ye.autoshift?Ue[Ye.overlaying][Ye.side]:Ye.shift||0}},52976:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032).BADNUM,L=P.isArrayOrTypedArray,S=P.isDateTime,v=P.cleanNumber,p=Math.round;G.exports=function(g,h,T){var c=g,a=T.noMultiCategory;if(L(c)&&!c.length)return"-";if(!a&&u(c))return"multicategory";if(a&&Array.isArray(c[0])){for(var d=[],x=0;x<c.length;x++)if(L(c[x]))for(var w=0;w<c[x].length;w++)d.push(c[x][w]);c=d}if(i(c,h))return"date";var C=T.autotypenumbers!=="strict";return f(c,C)?"category":t(c,C)?"linear":"-"};function r(l,g){return g?m(l):typeof l=="number"}function t(l,g){for(var h=l.length,T=0;T<h;T++)if(r(l[T],g))return!0;return!1}function i(l,g){for(var h=l.length,T=n(h),c=0,a=0,d={},x=0;x<h;x+=T){var w=p(x),C=l[w],y=String(C);d[y]||(d[y]=1,S(C,g)&&c++,m(C)&&a++)}return c>a*2}function n(l){return Math.max(1,(l-1)/1e3)}function f(l,g){for(var h=l.length,T=n(h),c=0,a=0,d={},x=0;x<h;x+=T){var w=p(x),C=l[w],y=String(C);if(!d[y]){d[y]=1;var M=typeof C;M==="boolean"?a++:(g?v(C)!==s:M==="number")?c++:M==="string"&&a++}}return a>c*2}function u(l){return L(l[0])&&L(l[1])}},28336:function(G,H,e){var m=e(38248),P=e(24040),s=e(3400),L=e(31780),S=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),i=e(42568),n=e(22416),f=e(42136),u=e(96312),l=e(78344),g=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;G.exports=function(x,w,C,y,M){var A=y.letter,o=y.font||{},E=y.splomStash||{},b=C("visible",!y.visibleDflt),I=w._template||{},D=w.type||I.type||"-",N;if(D==="date"){var k=P.getComponentMethod("calendars","handleDefaults");k(x,w,"calendar",y.calendar),y.noTicklabelmode||(N=C("ticklabelmode"))}var O="";(!y.noTicklabelposition||D==="multicategory")&&(O=s.coerce(x,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||C("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),l(w,M),u(x,w,C,y),n(x,w,C,y),D!=="category"&&!y.noHover&&C("hoverformat");var F=C("color"),z=F!==v.color.dflt?F:o.color,B=E.label||M._dfltTitle[A];if(i(x,w,C,D,y),!b)return w;C("title.text",B),s.coerceFont(C,"title.font",o,{overrideDflt:{size:s.bigFont(o.size),color:z}}),p(x,w,C,D);var W=y.hasMinor;if(W&&(L.newContainer(w,"minor"),p(x,w,C,D,{isMinor:!0})),t(x,w,C,D,y),r(x,w,C,y),W){var J=y.isMinor;y.isMinor=!0,r(x,w,C,y),y.isMinor=J}f(x,w,C,{dfltColor:F,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:W,attributes:v}),W&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&C("mirror");var re=D==="multicategory";if(!y.noTickson&&(D==="category"||re)&&(w.ticks||w.showgrid)){var ne;re&&(ne="boundaries");var le=C("tickson",ne);le==="boundaries"&&delete w.ticklabelposition}if(re){var $=C("showdividers");$&&(C("dividercolor"),C("dividerwidth"))}if(D==="date")if(S(x,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var K=0;K<w.rangebreaks.length;K++)if(w.rangebreaks[K].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(l(w,M),M._has("scattergl")||M._has("splom"))for(var ie=0;ie<y.data.length;ie++){var Y=y.data[ie];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,s.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return w};function T(d,x,w){function C(N,k){return s.coerce(d,x,v.rangebreaks,N,k)}var y=C("enabled");if(y){var M=C("bounds");if(M&&M.length>=2){var A="",o,E;if(M.length===2){for(o=0;o<2;o++)if(E=a(M[o]),E){A=g;break}}var b=C("pattern",A);if(b===g)for(o=0;o<2;o++)E=a(M[o]),E&&(x.bounds[o]=M[o]=E-1);if(b)for(o=0;o<2;o++)switch(E=M[o],b){case g:if(!m(E)){x.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){x.enabled=!1;return}x.bounds[o]=M[o]=E;break;case h:if(!m(E)){x.enabled=!1;return}if(E=+E,E<0||E>24){x.enabled=!1;return}x.bounds[o]=M[o]=E;break}if(w.autorange===!1){var I=w.range;if(I[0]<I[1]){if(M[0]<I[0]&&M[1]>I[1]){x.enabled=!1;return}}else if(M[0]>I[0]&&M[1]<I[1]){x.enabled=!1;return}}}else{var D=C("values");if(D&&D.length)C("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function a(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(G,H,e){var m=e(26880),P=m.FORMAT_LINK,s=m.DATE_FORMAT_LINK;function L(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?S:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function S(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return S(p,r)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:L,descriptionOnlyNumbers:S,descriptionWithDates:v}},79811:function(G,H,e){var m=e(24040),P=e(33816);H.id2name=function(S){if(!(typeof S!="string"||!S.match(P.AX_ID_PATTERN))){var v=S.split(" ")[0].substr(1);return v==="1"&&(v=""),S.charAt(0)+"axis"+v}},H.name2id=function(S){if(S.match(P.AX_NAME_PATTERN)){var v=S.substr(5);return v==="1"&&(v=""),S.charAt(0)+v}},H.cleanId=function(S,v,p){var r=/( domain)$/.test(S);if(!(typeof S!="string"||!S.match(P.AX_ID_PATTERN))&&!(v&&S.charAt(0)!==v)&&!(r&&!p)){var t=S.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),S.charAt(0)+t+(r&&p?" domain":"")}},H.list=function(L,S,v){var p=L._fullLayout;if(!p)return[];var r=H.listIds(L,S),t=new Array(r.length),i;for(i=0;i<r.length;i++){var n=r[i];t[i]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=p._subplots.gl3d||[];for(i=0;i<f.length;i++){var u=p[f[i]];S?t.push(u[S+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},H.listIds=function(L,S){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return S?p[S+"axis"]:p.xaxis.concat(p.yaxis)},H.getFromId=function(L,S,v){var p=L._fullLayout;return S=S===void 0||typeof S!="string"?S:S.replace(" domain",""),v==="x"?S=S.replace(/y[0-9]*/,""):v==="y"&&(S=S.replace(/x[0-9]*/,"")),p[H.id2name(S)]},H.getFromTrace=function(L,S,v){var p=L._fullLayout,r=null;if(m.traceIs(S,"gl3d")){var t=S.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=H.getFromId(L,S[v+"axis"]||v);return r},H.idSort=function(L,S){var v=L.charAt(0),p=S.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(S.substr(1)||1)},H.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function s(L,S){if(S&&S.length){for(var v=0;v<S.length;v++)if(S[v][L])return!0}return!1}H.isLinked=function(L,S){return s(S,L._axisMatchGroups)||s(S,L._axisConstraintGroups)}},22416:function(G,H,e){var m=e(38116).isTypedArraySpec;function P(s,L){var S=L.dataAttr||s._id.charAt(0),v={},p,r,t;if(L.axData)p=L.axData;else for(p=[],r=0;r<L.data.length;r++){var i=L.data[r];i[S+"axis"]===s._id&&p.push(i)}for(r=0;r<p.length;r++){var n=p[r][S];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}G.exports=function(L,S,v,p){if(S.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||m(r),i;t&&(i="array");var n=v("categoryorder",i),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=S.categoryorder="trace"),n==="trace"?S._initialCategories=[]:n==="array"?S._initialCategories=f.slice():(f=P(S,p).sort(),n==="category ascending"?S._initialCategories=f:n==="category descending"&&(S._initialCategories=f.reverse()))}}},98728:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032),L=s.ONEDAY,S=s.ONEWEEK;H.dtick=function(v,p){var r=p==="log",t=p==="date",i=p==="category",n=t?L:1;if(!v)return n;if(m(v))return v=Number(v),v<=0?n:i?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),u=v.substr(1);return u=m(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?n:v},H.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%S===0?1:0));if(!(t==="D1"||t==="D2"))return m(v)?Number(v):0}},33816:function(G,H,e){var m=e(53756).counter;G.exports={idRegex:{x:m("x","( domain)?"),y:m("y","( domain)?")},attrRegex:m("[xy]axis"),xAxisMatch:m("xaxis"),yAxisMatch:m("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(G,H,e){var m=e(3400),P=e(19280),s=e(79811).id2name,L=e(94724),S=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;H.handleDefaults=function(h,T,c){var a=c.axIds,d=c.axHasImage,x=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],C,y,M,A,o,E,b,I;for(C=0;C<a.length;C++)A=s(a[C]),o=h[A],E=T[A],t(o,E,{axIds:a,layoutOut:T,hasImage:d[A]});function D(re,ne){for(C=0;C<re.length;C++){y=re[C];for(M in y)T[s(M)][ne]=y}}for(D(w,"_matchGroup"),C=0;C<x.length;C++){y=x[C];for(M in y)if(E=T[s(M)],E.fixedrange){for(var N in y){var k=s(N);(h[k]||{}).fixedrange===!1&&m.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),T[k].fixedrange=!0}break}}for(C=0;C<x.length;){y=x[C];for(M in y){E=T[s(M)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(y).length&&(x.splice(C,1),C--);break}C++}D(x,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],F=!1,z=!1;function B(){I=E[b],b==="rangebreaks"&&(z=E._hasDayOfWeekBreaks)}for(C=0;C<w.length;C++){y=w[C];for(var W=0;W<O.length;W++){b=O[W],I=null;var J;for(M in y)if(A=s(M),o=h[A],E=T[A],b in E){if(!E.matches&&(J=E,b in o)){B();break}I===null&&b in o&&B()}if(b==="range"&&I&&o.range&&o.range.length===2&&o.range[0]!==null&&o.range[1]!==null&&(F=!0),b==="autorange"&&I===null&&F&&(I=!1),I===null&&b in J&&(I=J[b]),I!==null)for(M in y)E=T[s(M)],E[b]=b==="range"?I.slice():I,b==="rangebreaks"&&(E._hasDayOfWeekBreaks=z,v(E,T))}}};function t(h,T,c){var a=c.axIds,d=c.layoutOut,x=c.hasImage,w=d._axisConstraintGroups,C=d._axisMatchGroups,y=T._id,M=y.charAt(0),A=((d._splomAxes||{})[M]||{})[y]||{},o=T._id,E=o.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function b(K,ie){return m.coerce(h,T,L,K,ie)}b("constrain",x?"domain":"range"),m.coerce(h,T,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var I=T.type,D,N,k=[];for(D=0;D<a.length;D++)if(N=a[D],N!==o){var O=d[s(N)];O.type===I&&k.push(N)}var F=n(w,o);if(F){var z=[];for(D=0;D<k.length;D++)N=k[D],F[N]||z.push(N);k=z}var B=k.length,W,J;B&&(h.matches||A.matches)&&(W=m.coerce(h,T,{matches:{valType:"enumerated",values:k,dflt:k.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var re=x&&!E?T.anchor:void 0;if(B&&!W&&(h.scaleanchor||re)&&(J=m.coerce(h,T,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",re)),W){T._matchGroup=f(C,o,W,1);var ne=d[s(W)],le=i(d,T)/i(d,ne);E!==(W.charAt(0)==="x")&&(le=(E?"x":"y")+le),f(w,o,W,le)}else h.matches&&a.indexOf(h.matches)!==-1&&m.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(J){var $=b("scaleratio");$||($=T.scaleratio=1),f(w,o,J,$)}else h.scaleanchor&&a.indexOf(h.scaleanchor)!==-1&&m.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(h,T){var c=T.domain;return c||(c=h[s(T.overlaying)].domain),c[1]-c[0]}function n(h,T){for(var c=0;c<h.length;c++)if(h[c][T])return h[c];return null}function f(h,T,c,a){var d,x,w,C,y,M=n(h,T);M===null?(M={},M[T]=1,y=h.length,h.push(M)):y=h.indexOf(M);var A=Object.keys(M);for(d=0;d<h.length;d++)if(w=h[d],d!==y&&w[c]){var o=w[c];for(x=0;x<A.length;x++)C=A[x],w[C]=u(o,u(a,M[C]));h.splice(y,1);return}if(a!==1)for(x=0;x<A.length;x++){var E=A[x];M[E]=u(a,M[E])}M[c]=1}function u(h,T){var c="",a="",d,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof T=="string"&&(a=T.match(/^[xy]*/)[0],x=a.length,T=+T.substr(x));var w=h*T;return!d&&!x?w:!d||!x||c.charAt(0)===a.charAt(0)?c+a+h*T:d===x?w:(d>x?c.substr(x):a.substr(d))+w}function l(h,T){for(var c=T._size,a=c.h/c.w,d={},x=Object.keys(h),w=0;w<x.length;w++){var C=x[w],y=h[C];if(typeof y=="string"){var M=y.match(/^[xy]*/)[0],A=M.length;y=+y.substr(A);for(var o=M.charAt(0)==="y"?a:1/a,E=0;E<A;E++)y*=o}d[C]=y}return d}H.enforce=function(T){var c=T._fullLayout,a=c._axisConstraintGroups||[],d,x,w,C,y,M,A,o;for(d=0;d<a.length;d++){w=l(a[d],c);var E=Object.keys(w),b=1/0,I=0,D=1/0,N={},k={},O=!1;for(x=0;x<E.length;x++)C=E[x],k[C]=y=c[s(C)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),N[C]=M=Math.abs(y._m)/w[C],b=Math.min(b,M),(y.constrain==="domain"||!y._constraintShrinkable)&&(D=Math.min(D,M)),delete y._constraintShrinkable,I=Math.max(I,M),y.constrain==="domain"&&(O=!0);if(!(b>p*I&&!O)){for(x=0;x<E.length;x++)if(C=E[x],M=N[C],y=k[C],A=y.constrain,M!==D||A==="domain")if(o=M/D,A==="range")S(y,o);else{var F=y._inputDomain,z=(y.domain[1]-y.domain[0])/(F[1]-F[0]),B=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(o/=z,o*B<1){y.domain=y._input.domain=F.slice(),S(y,o);continue}if(B<1&&(y.range=y._input.range=y._inputRange.slice(),o*=B),y.autorange){var W=y.r2l(y.range[0]),J=y.r2l(y.range[1]),re=(W+J)/2,ne=re,le=re,$=Math.abs(J-re),K=re-$*o*1.0001,ie=re+$*o*1.0001,Y=P.makePadFn(c,y,0),Q=P.makePadFn(c,y,1);g(y,o);var oe=Math.abs(y._m),X=P.concatExtremes(T,y),j=X.min,se=X.max,te,fe;for(fe=0;fe<j.length;fe++)te=j[fe].val-Y(j[fe])/oe,te>K&&te<ne&&(ne=te);for(fe=0;fe<se.length;fe++)te=se[fe].val+Q(se[fe])/oe,te<ie&&te>le&&(le=te);var ge=(le-ne)/(2*$);o/=ge,ne=y.l2r(ne),le=y.l2r(le),y.range=y._input.range=W<J?[ne,le]:[le,ne]}g(y,o)}}}},H.getAxisGroup=function(T,c){for(var a=T._axisMatchGroups,d=0;d<a.length;d++){var x=a[d];if(x[c])return"g"+d}return c},H.clean=function(T,c){if(c._inputDomain){for(var a=!1,d=c._id,x=T._fullLayout._axisConstraintGroups,w=0;w<x.length;w++)if(x[w][d]){a=!0;break}(!a||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function g(h,T){var c=h._inputDomain,a=r[h.constraintoward],d=c[0]+(c[1]-c[0])*a;h.domain=h._input.domain=[d+(c[0]-d)/T,d+(c[1]-d)/T],h.setScale()}},51184:function(G,H,e){var m=e(33428),P=e(3400),s=P.numberFormat,L=e(49760),S=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),i=e(43616),n=e(93024),f=e(54460),u=e(93972),l=e(86476),g=e(72760),h=g.selectingOrDrawing,T=g.freeMode,c=e(84284).FROM_TL,a=e(73696),d=e(39172).redrawReglTraces,x=e(7316),w=e(79811).getFromId,C=e(22676).prepSelect,y=e(22676).clearOutline,M=e(22676).selectOnClick,A=e(21160),o=e(33816),E=o.MINDRAG,b=o.MINZOOM,I=!0;function D(te,fe,ge,be,xe,_e,De,Fe){var Te=te._fullLayout._zoomlayer,Re=De+Fe==="nsew",Se=(De+Fe).length===1,Ie,Me,Ve,et,it,Je,Qe,ct,ht,gt,Tt,Et,rt,ze,He,Ge,We,Le,Pe,je,Ce,he,me;ge+=fe.yaxis._shift;function Ne(){if(Ie=fe.xaxis,Me=fe.yaxis,ht=Ie._length,gt=Me._length,Qe=Ie._offset,ct=Me._offset,Ve={},Ve[Ie._id]=Ie,et={},et[Me._id]=Me,De&&Fe)for(var er=fe.overlays,Nt=0;Nt<er.length;Nt++){var ir=er[Nt].xaxis;Ve[ir._id]=ir;var vr=er[Nt].yaxis;et[vr._id]=vr}it=se(Ve),Je=se(et),rt=O(it,Fe),ze=O(Je,De),He=!ze&&!rt,Et=X(te,te._fullLayout._axisMatchGroups,Ve,et),Tt=X(te,te._fullLayout._axisConstraintGroups,Ve,et,Et);var xr=Tt.isSubplotConstrained||Et.isSubplotConstrained;Ge=Fe||xr,We=De||xr;var dr=te._fullLayout;Le=dr._has("scattergl"),Pe=dr._has("splom"),je=dr._has("svg")}Ne();var $e=J(ze+rt,te._fullLayout.dragmode,Re),ot=k(fe,De+Fe+"drag",$e,ge,be,xe,_e);if(He&&!Re)return ot.onmousedown=null,ot.style.pointerEvents="none",ot;var st={element:ot,gd:te,plotinfo:fe};st.prepFn=function(er,Nt,ir){var vr=st.dragmode,xr=te._fullLayout.dragmode;xr!==vr&&(st.dragmode=xr),Ne(),he=te._fullLayout._invScaleX,me=te._fullLayout._invScaleY,He||(Re?er.shiftKey?xr==="pan"?xr="zoom":h(xr)||(xr="pan"):er.ctrlKey&&(xr="pan"):xr="pan"),T(xr)?st.minDrag=1:st.minDrag=void 0,h(xr)?(st.xaxes=it,st.yaxes=Je,C(er,Nt,ir,st,xr)):(st.clickFn=Pt,h(vr)&&Wt(),He||(xr==="zoom"?(st.moveFn=bt,st.doneFn=Dt,st.minDrag=1,lt(er,Nt,ir)):xr==="pan"&&(st.moveFn=hr,st.doneFn=Ot))),te._fullLayout._redrag=function(){var dr=te._dragdata;if(dr&&dr.element===ot){var Hr=te._fullLayout.dragmode;h(Hr)||(Ne(),It([0,0,ht,gt]),st.moveFn(dr.dx,dr.dy))}}};function Wt(){st.plotinfo.selection=!1,y(te)}function Pt(er,Nt){var ir=st.gd;if(ir._fullLayout._activeShapeIndex>=0){ir._fullLayout._deactivateShape(ir);return}var vr=ir._fullLayout.clickmode;if(K(ir),er===2&&!Se&&Ue(),Re)vr.indexOf("select")>-1&&M(Nt,ir,it,Je,fe.id,st),vr.indexOf("event")>-1&&n.click(ir,Nt,fe.id);else if(er===1&&Se){var xr=De?Me:Ie,dr=De==="s"||Fe==="w"?0:1,Hr=xr._name+".range["+dr+"]",Pr=F(xr,dr),Rr="left",an="middle";if(xr.fixedrange)return;De?(an=De==="n"?"top":"bottom",xr.side==="right"&&(Rr="right")):Fe==="e"&&(Rr="right"),ir._context.showAxisRangeEntryBoxes&&m.select(ot).call(r.makeEditable,{gd:ir,immediate:!0,background:ir._fullLayout.paper_bgcolor,text:String(Pr),fill:xr.tickfont?xr.tickfont.color:"#444",horizontalAlign:Rr,verticalAlign:an}).on("edit",function(tn){var Sn=xr.d2r(tn);Sn!==void 0&&v.call("_guiRelayout",ir,Hr,Sn)})}}l.init(st);var dt,Mt,Xt,nr,vt,Zt,Kt,yr,or,mt;function lt(er,Nt,ir){var vr=ot.getBoundingClientRect();dt=Nt-vr.left,Mt=ir-vr.top,te._fullLayout._calcInverseTransform(te);var xr=P.apply3DTransform(te._fullLayout._invTransform)(dt,Mt);dt=xr[0],Mt=xr[1],Xt={l:dt,r:dt,w:0,t:Mt,b:Mt,h:0},nr=te._hmpixcount?te._hmlumcount/te._hmpixcount:L(te._fullLayout.plot_bgcolor).getLuminance(),vt="M0,0H"+ht+"V"+gt+"H0V0",Zt=!1,Kt="xy",mt=!1,yr=re(Te,nr,Qe,ct,vt),or=ne(Te,Qe,ct)}function bt(er,Nt){if(te._transitioningWithDuration)return!1;var ir=Math.max(0,Math.min(ht,he*er+dt)),vr=Math.max(0,Math.min(gt,me*Nt+Mt)),xr=Math.abs(ir-dt),dr=Math.abs(vr-Mt);Xt.l=Math.min(dt,ir),Xt.r=Math.max(dt,ir),Xt.t=Math.min(Mt,vr),Xt.b=Math.max(Mt,vr);function Hr(){Kt="",Xt.r=Xt.l,Xt.t=Xt.b,or.attr("d","M0,0Z")}if(Tt.isSubplotConstrained)xr>b||dr>b?(Kt="xy",xr/ht>dr/gt?(dr=xr*gt/ht,Mt>vr?Xt.t=Mt-dr:Xt.b=Mt+dr):(xr=dr*ht/gt,dt>ir?Xt.l=dt-xr:Xt.r=dt+xr),or.attr("d",oe(Xt))):Hr();else if(Et.isSubplotConstrained)if(xr>b||dr>b){Kt="xy";var Pr=Math.min(Xt.l/ht,(gt-Xt.b)/gt),Rr=Math.max(Xt.r/ht,(gt-Xt.t)/gt);Xt.l=Pr*ht,Xt.r=Rr*ht,Xt.b=(1-Pr)*gt,Xt.t=(1-Rr)*gt,or.attr("d",oe(Xt))}else Hr();else!ze||dr<Math.min(Math.max(xr*.6,E),b)?xr<E||!rt?Hr():(Xt.t=0,Xt.b=gt,Kt="x",or.attr("d",Y(Xt,Mt))):!rt||xr<Math.min(dr*.6,b)?(Xt.l=0,Xt.r=ht,Kt="y",or.attr("d",Q(Xt,dt))):(Kt="xy",or.attr("d",oe(Xt)));Xt.w=Xt.r-Xt.l,Xt.h=Xt.b-Xt.t,Kt&&(mt=!0),te._dragged=mt,le(yr,or,Xt,vt,Zt,nr),Ct(),te.emit("plotly_relayouting",Ce),Zt=!0}function Ct(){Ce={},(Kt==="xy"||Kt==="x")&&(z(it,Xt.l/ht,Xt.r/ht,Ce,Tt.xaxes),pr("x",Ce)),(Kt==="xy"||Kt==="y")&&(z(Je,(gt-Xt.b)/gt,(gt-Xt.t)/gt,Ce,Tt.yaxes),pr("y",Ce))}function Dt(){Ct(),K(te),Ot(),ie(te)}var Ht=[0,0,ht,gt],Bt=null,Ut=o.REDRAWDELAY,Jt=fe.mainplot?te._fullLayout._plots[fe.mainplot]:fe;function cr(er){if(!te._context._scrollZoom.cartesian&&!te._fullLayout._enablescrollzoom)return;if(Wt(),te._transitioningWithDuration){er.preventDefault(),er.stopPropagation();return}Ne(),clearTimeout(Bt);var Nt=-er.deltaY;if(isFinite(Nt)||(Nt=er.wheelDelta/10),!isFinite(Nt)){P.log("Did not find wheel motion attributes: ",er);return}var ir=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),vr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),xr=(er.clientX-vr.left)/vr.width,dr=(vr.bottom-er.clientY)/vr.height,Hr;function Pr(Rr,an,tn){if(Rr.fixedrange)return;var Sn=P.simpleMap(Rr.range,Rr.r2l),Tn=Sn[0]+(Sn[1]-Sn[0])*an;function Tr(zr){return Rr.l2r(Tn+(zr-Tn)*tn)}Rr.range=Sn.map(Tr)}if(Ge){for(Fe||(xr=.5),Hr=0;Hr<it.length;Hr++)Pr(it[Hr],xr,ir);pr("x"),Ht[2]*=ir,Ht[0]+=Ht[2]*xr*(1/ir-1)}if(We){for(De||(dr=.5),Hr=0;Hr<Je.length;Hr++)Pr(Je[Hr],dr,ir);pr("y"),Ht[3]*=ir,Ht[1]+=Ht[3]*(1-dr)*(1/ir-1)}It(Ht),Ye(),te.emit("plotly_relayouting",Ce),Bt=setTimeout(function(){te._fullLayout&&(Ht=[0,0,ht,gt],Ot())},Ut),er.preventDefault()}De.length*Fe.length!==1&&j(ot,cr);function hr(er,Nt){if(er=er*he,Nt=Nt*me,te._transitioningWithDuration)return;if(te._fullLayout._replotting=!0,rt==="ew"||ze==="ns"){var ir=rt?-er:0,vr=ze?-Nt:0;if(Et.isSubplotConstrained){if(rt&&ze){var xr=(er/ht-Nt/gt)/2;er=xr*ht,Nt=-xr*gt,ir=-er,vr=-Nt}ze?ir=-vr*ht/gt:vr=-ir*gt/ht}rt&&(B(it,er),pr("x")),ze&&(B(Je,Nt),pr("y")),It([ir,vr,ht,gt]),Ye(),te.emit("plotly_relayouting",Ce);return}function dr(Tr,zr,Yr){for(var Or=1-zr,ln,fn,Mn=0;Mn<Tr.length;Mn++){var Pn=Tr[Mn];if(!Pn.fixedrange){ln=Pn,fn=Pn._rl[Or]+(Pn._rl[zr]-Pn._rl[Or])/W(Yr/Pn._length);var Vn=Pn.l2r(fn);Vn!==!1&&Vn!==void 0&&(Pn.range[zr]=Vn)}}return ln._length*(ln._rl[zr]-fn)/(ln._rl[zr]-ln._rl[Or])}var Hr=rt==="w"==(ze==="n")?1:-1;if(rt&&ze&&(Tt.isSubplotConstrained||Et.isSubplotConstrained)){var Pr=(er/ht+Hr*Nt/gt)/2;er=Pr*ht,Nt=Hr*Pr*gt}var Rr,an;if(rt==="w"?er=dr(it,0,er):rt==="e"?er=dr(it,1,-er):rt||(er=0),ze==="n"?Nt=dr(Je,1,Nt):ze==="s"?Nt=dr(Je,0,-Nt):ze||(Nt=0),Rr=rt==="w"?er:0,an=ze==="n"?Nt:0,Tt.isSubplotConstrained&&!Et.isSubplotConstrained||Et.isSubplotConstrained&&rt&&ze&&Hr>0){var tn;if(Et.isSubplotConstrained||!rt&&ze.length===1){for(tn=0;tn<it.length;tn++)it[tn].range=it[tn]._r.slice(),A(it[tn],1-Nt/gt);er=Nt*ht/gt,Rr=er/2}if(Et.isSubplotConstrained||!ze&&rt.length===1){for(tn=0;tn<Je.length;tn++)Je[tn].range=Je[tn]._r.slice(),A(Je[tn],1-er/ht);Nt=er*gt/ht,an=Nt/2}}(!Et.isSubplotConstrained||!ze)&&pr("x"),(!Et.isSubplotConstrained||!rt)&&pr("y");var Sn=ht-er,Tn=gt-Nt;Et.isSubplotConstrained&&!(rt&&ze)&&(rt?(an=Rr?0:er*gt/ht,Tn=Sn*gt/ht):(Rr=an?0:Nt*ht/gt,Sn=Tn*ht/gt)),It([Rr,an,Sn,Tn]),Ye(),te.emit("plotly_relayouting",Ce)}function pr(er,Nt){for(var ir=Et.isSubplotConstrained?{x:Je,y:it}[er]:Et[er+"axes"],vr=Et.isSubplotConstrained?{x:it,y:Je}[er]:[],xr=0;xr<ir.length;xr++){var dr=ir[xr],Hr=dr._id,Pr=Et.xLinks[Hr]||Et.yLinks[Hr],Rr=vr[0]||Ve[Pr]||et[Pr];Rr&&(Nt?(Nt[dr._name+".range[0]"]=Nt[Rr._name+".range[0]"],Nt[dr._name+".range[1]"]=Nt[Rr._name+".range[1]"]):dr.range=Rr.range.slice())}}function Ye(){var er=[],Nt;function ir(Hr){for(Nt=0;Nt<Hr.length;Nt++)Hr[Nt].fixedrange||er.push(Hr[Nt]._id)}function vr(Hr,Pr){for(Nt=0;Nt<Hr.length;Nt++){var Rr=Hr[Nt],an=Rr[Pr];!Rr.fixedrange&&an.tickmode==="sync"&&er.push(an._id)}}for(Ge&&(ir(it),ir(Tt.xaxes),ir(Et.xaxes),vr(fe.overlays,"xaxis")),We&&(ir(Je),ir(Tt.yaxes),ir(Et.yaxes),vr(fe.overlays,"yaxis")),Ce={},Nt=0;Nt<er.length;Nt++){var xr=er[Nt],dr=w(te,xr);f.drawOne(te,dr,{skipTitle:!0}),Ce[dr._name+".range[0]"]=dr.range[0],Ce[dr._name+".range[1]"]=dr.range[1]}f.redrawComponents(te,er)}function Ue(){if(!te._transitioningWithDuration){var er=te._context.doubleClick,Nt=[];rt&&(Nt=Nt.concat(it)),ze&&(Nt=Nt.concat(Je)),Et.xaxes&&(Nt=Nt.concat(Et.xaxes)),Et.yaxes&&(Nt=Nt.concat(Et.yaxes));var ir={},vr,xr;if(er==="reset+autosize")for(er="autosize",xr=0;xr<Nt.length;xr++){vr=Nt[xr];var dr=vr._rangeInitial0,Hr=vr._rangeInitial1,Pr=dr!==void 0||Hr!==void 0;if(Pr&&(dr!==void 0&&dr!==vr.range[0]||Hr!==void 0&&Hr!==vr.range[1])||!Pr&&vr.autorange!==!0){er="reset";break}}if(er==="autosize")for(xr=0;xr<Nt.length;xr++)vr=Nt[xr],vr.fixedrange||(ir[vr._name+".autorange"]=!0);else if(er==="reset"){for((rt||Tt.isSubplotConstrained)&&(Nt=Nt.concat(Tt.xaxes)),ze&&!Tt.isSubplotConstrained&&(Nt=Nt.concat(Tt.yaxes)),Tt.isSubplotConstrained&&(rt?ze||(Nt=Nt.concat(Je)):Nt=Nt.concat(it)),xr=0;xr<Nt.length;xr++)if(vr=Nt[xr],!vr.fixedrange){var Rr=vr._name,an=vr._autorangeInitial;vr._rangeInitial0===void 0&&vr._rangeInitial1===void 0?ir[Rr+".autorange"]=!0:vr._rangeInitial0===void 0?(ir[Rr+".autorange"]=an,ir[Rr+".range"]=[null,vr._rangeInitial1]):vr._rangeInitial1===void 0?(ir[Rr+".range"]=[vr._rangeInitial0,null],ir[Rr+".autorange"]=an):ir[Rr+".range"]=[vr._rangeInitial0,vr._rangeInitial1]}}te.emit("plotly_doubleclick",null),v.call("_guiRelayout",te,ir)}}function Ot(){It([0,0,ht,gt]),P.syncOrAsync([x.previousPromises,function(){te._fullLayout._replotting=!1,v.call("_guiRelayout",te,Ce)}],te)}function It(er){var Nt=te._fullLayout,ir=Nt._plots,vr=Nt._subplots.cartesian,xr,dr,Hr,Pr;if(Pe&&v.subplotsRegistry.splom.drag(te),Le){for(xr=0;xr<vr.length;xr++)if(dr=ir[vr[xr]],Hr=dr.xaxis,Pr=dr.yaxis,dr._scene){var Rr=P.simpleMap(Hr.range,Hr.r2l),an=P.simpleMap(Pr.range,Pr.r2l);Hr.limitRange&&Hr.limitRange(),Pr.limitRange&&Pr.limitRange(),Rr=Hr.range,an=Pr.range,dr._scene.update({range:[Rr[0],an[0],Rr[1],an[1]]})}}if((Pe||Le)&&(a(te),d(te)),je){var tn=er[2]/Ie._length,Sn=er[3]/Me._length;for(xr=0;xr<vr.length;xr++){dr=ir[vr[xr]],Hr=dr.xaxis,Pr=dr.yaxis;var Tn=(Ge||Et.isSubplotConstrained)&&!Hr.fixedrange&&Ve[Hr._id],Tr=(We||Et.isSubplotConstrained)&&!Pr.fixedrange&&et[Pr._id],zr,Yr,Or,ln;if(Tn?(zr=tn,Or=Fe||Et.isSubplotConstrained?er[0]:fr(Hr,zr)):Et.xaHash[Hr._id]?(zr=tn,Or=er[0]*Hr._length/Ie._length):Et.yaHash[Hr._id]?(zr=Sn,Or=ze==="ns"?-er[1]*Hr._length/Me._length:fr(Hr,zr,{n:"top",s:"bottom"}[ze])):(zr=Qt(Hr,tn,Sn),Or=lr(Hr,zr)),zr>1&&(Hr.maxallowed!==void 0&&Ge===(Hr.range[0]<Hr.range[1]?"e":"w")||Hr.minallowed!==void 0&&Ge===(Hr.range[0]<Hr.range[1]?"w":"e"))&&(zr=1,Or=0),Tr?(Yr=Sn,ln=De||Et.isSubplotConstrained?er[1]:fr(Pr,Yr)):Et.yaHash[Pr._id]?(Yr=Sn,ln=er[1]*Pr._length/Me._length):Et.xaHash[Pr._id]?(Yr=tn,ln=rt==="ew"?-er[0]*Pr._length/Ie._length:fr(Pr,Yr,{e:"right",w:"left"}[rt])):(Yr=Qt(Pr,tn,Sn),ln=lr(Pr,Yr)),Yr>1&&(Pr.maxallowed!==void 0&&We===(Pr.range[0]<Pr.range[1]?"n":"s")||Pr.minallowed!==void 0&&We===(Pr.range[0]<Pr.range[1]?"s":"n"))&&(Yr=1,ln=0),!(!zr&&!Yr)){zr||(zr=1),Yr||(Yr=1);var fn=Hr._offset-Or/zr,Mn=Pr._offset-ln/Yr;dr.clipRect.call(i.setTranslate,Or,ln).call(i.setScale,zr,Yr),dr.plot.call(i.setTranslate,fn,Mn).call(i.setScale,1/zr,1/Yr),(zr!==dr.xScaleFactor||Yr!==dr.yScaleFactor)&&(i.setPointGroupScale(dr.zoomScalePts,zr,Yr),i.setTextPointsScale(dr.zoomScaleTxt,zr,Yr)),i.hideOutsideRangePoints(dr.clipOnAxisFalseTraces,dr),dr.xScaleFactor=zr,dr.yScaleFactor=Yr}}}}function Qt(er,Nt,ir){return er.fixedrange?0:Ge&&Tt.xaHash[er._id]?Nt:We&&(Tt.isSubplotConstrained?Tt.xaHash:Tt.yaHash)[er._id]?ir:0}function lr(er,Nt){return Nt?(er.range=er._r.slice(),A(er,Nt),fr(er,Nt)):0}function fr(er,Nt,ir){return er._length*(1-Nt)*c[ir||er.constraintoward||"middle"]}return ot}function N(te,fe,ge,be){var xe=P.ensureSingle(te.draglayer,fe,ge,function(_e){_e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",te.id)});return xe.call(u,be),xe.node()}function k(te,fe,ge,be,xe,_e,De){var Fe=N(te,"rect",fe,ge);return m.select(Fe).call(i.setRect,be,xe,_e,De),Fe}function O(te,fe){for(var ge=0;ge<te.length;ge++)if(!te[ge].fixedrange)return fe;return""}function F(te,fe){var ge=te.range[fe],be=Math.abs(ge-te.range[1-fe]),xe;return te.type==="date"?ge:te.type==="log"?(xe=Math.ceil(Math.max(0,-Math.log(be)/Math.LN10))+3,s("."+xe+"g")(Math.pow(10,ge))):(xe=Math.floor(Math.log(Math.abs(ge))/Math.LN10)-Math.floor(Math.log(be)/Math.LN10)+4,s("."+String(xe)+"g")(ge))}function z(te,fe,ge,be,xe){for(var _e=0;_e<te.length;_e++){var De=te[_e];if(!De.fixedrange)if(De.rangebreaks){var Fe=De._id.charAt(0)==="y",Te=Fe?1-fe:fe,Re=Fe?1-ge:ge;be[De._name+".range[0]"]=De.l2r(De.p2l(Te*De._length)),be[De._name+".range[1]"]=De.l2r(De.p2l(Re*De._length))}else{var Se=De._rl[0],Ie=De._rl[1]-Se;be[De._name+".range[0]"]=De.l2r(Se+Ie*fe),be[De._name+".range[1]"]=De.l2r(Se+Ie*ge)}}if(xe&&xe.length){var Me=(fe+(1-ge))/2;z(xe,Me,1-Me,be,[])}}function B(te,fe){for(var ge=0;ge<te.length;ge++){var be=te[ge];if(!be.fixedrange){if(be.rangebreaks){var xe=0,_e=be._length,De=be.p2l(xe+fe)-be.p2l(xe),Fe=be.p2l(_e+fe)-be.p2l(_e),Te=(De+Fe)/2;be.range=[be.l2r(be._rl[0]-Te),be.l2r(be._rl[1]-Te)]}else be.range=[be.l2r(be._rl[0]-fe/be._m),be.l2r(be._rl[1]-fe/be._m)];be.limitRange&&be.limitRange()}}}function W(te){return 1-(te>=0?Math.min(te,.9):1/(1/Math.max(te,-.3)+3.222))}function J(te,fe,ge){return te?te==="nsew"?ge?"":fe==="pan"?"move":"crosshair":te.toLowerCase()+"-resize":"pointer"}function re(te,fe,ge,be,xe){return te.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ge,be)).attr("d",xe+"Z")}function ne(te,fe,ge){return te.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(fe,ge)).attr("d","M0,0Z")}function le(te,fe,ge,be,xe,_e){te.attr("d",be+"M"+ge.l+","+ge.t+"v"+ge.h+"h"+ge.w+"v-"+ge.h+"h-"+ge.w+"Z"),$(te,fe,xe,_e)}function $(te,fe,ge,be){ge||(te.transition().style("fill",be>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function K(te){m.select(te).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ie(te){I&&te.data&&te._context.showTips&&(P.notifier(P._(te,"Double-click to zoom back out"),"long"),I=!1)}function Y(te,fe){return"M"+(te.l-.5)+","+(fe-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(te.r+.5)+","+(fe-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function Q(te,fe){return"M"+(fe-b-.5)+","+(te.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(fe-b-.5)+","+(te.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function oe(te){var fe=Math.floor(Math.min(te.b-te.t,te.r-te.l,b)/2);return"M"+(te.l-3.5)+","+(te.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(te.l-3.5)+","+(te.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function X(te,fe,ge,be,xe){for(var _e=!1,De={},Fe={},Te,Re,Se,Ie,Me=(xe||{}).xaHash,Ve=(xe||{}).yaHash,et=0;et<fe.length;et++){var it=fe[et];for(Te in ge)if(it[Te]){for(Se in it)!(xe&&(Me[Se]||Ve[Se]))&&!(Se.charAt(0)==="x"?ge:be)[Se]&&(De[Se]=Te);for(Re in be)!(xe&&(Me[Re]||Ve[Re]))&&it[Re]&&(_e=!0)}for(Re in be)if(it[Re])for(Ie in it)!(xe&&(Me[Ie]||Ve[Ie]))&&!(Ie.charAt(0)==="x"?ge:be)[Ie]&&(Fe[Ie]=Re)}_e&&(P.extendFlat(De,Fe),Fe={});var Je={},Qe=[];for(Se in De){var ct=w(te,Se);Qe.push(ct),Je[ct._id]=ct}var ht={},gt=[];for(Ie in Fe){var Tt=w(te,Ie);gt.push(Tt),ht[Tt._id]=Tt}return{xaHash:Je,yaHash:ht,xaxes:Qe,yaxes:gt,xLinks:De,yLinks:Fe,isSubplotConstrained:_e}}function j(te,fe){if(!S)te.onwheel!==void 0?te.onwheel=fe:te.onmousewheel!==void 0?te.onmousewheel=fe:te.isAddedWheelEvent||(te.isAddedWheelEvent=!0,te.addEventListener("wheel",fe,{passive:!1}));else{var ge=te.onwheel!==void 0?"wheel":"mousewheel";te._onwheel&&te.removeEventListener(ge,te._onwheel),te._onwheel=fe,te.addEventListener(ge,fe,{passive:!1})}}function se(te){var fe=[];for(var ge in te)fe.push(te[ge]);return fe}G.exports={makeDragBox:D,makeDragger:N,makeRectDragger:k,makeZoombox:re,makeCorners:ne,updateZoombox:le,xyCorners:oe,transitionZoombox:$,removeZoombox:K,showDoubleClickNotifier:ie,attachWheelEventHandler:j}},42464:function(G,H,e){var m=e(33428),P=e(93024),s=e(86476),L=e(93972),S=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;H.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){m.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),g=u.split("y");return l[0]===g[0]?Number(l[1]||1)-Number(g[1]||1):Number(l[0]||1)-Number(g[0]||1)}return t._plots[f].mainplot?1:-1});i.forEach(function(f){var u=t._plots[f],l=u.xaxis,g=u.yaxis;if(!u.mainplot){var h=S(r,u,l._offset,g._offset,l._length,g._length,"ns","ew");h.onmousemove=function(a){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&P.hover(r,a,f)},P.hover(r,a,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(a){r._dragging||(r._fullLayout._hoversubplot=null,s.unhover(r,a))},r._context.showAxisDragHandles&&(S(r,u,l._offset-v,g._offset-v,v,v,"n","w"),S(r,u,l._offset+l._length,g._offset-v,v,v,"n","e"),S(r,u,l._offset-v,g._offset+g._length,v,v,"s","w"),S(r,u,l._offset+l._length,g._offset+g._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),S(r,u,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),S(r,u,l._offset,T,l._length*.1,v,"","w"),S(r,u,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(f===g._mainSubplot){var c=g._mainLinePosition;g.side!=="right"&&(c-=v),S(r,u,c,g._offset+g._length*.1,v,g._length*.8,"ns",""),S(r,u,c,g._offset+g._length*.9,v,g._length*.1,"s",""),S(r,u,c,g._offset,v,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,P.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,P.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},H.updateFx(r)}},H.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},36632:function(G,H,e){var m=e(24040),P=e(3400),s=e(79811);G.exports=function(S){return function(p,r){var t=p[S];if(Array.isArray(t))for(var i=m.subplotsRegistry.cartesian,n=i.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,g=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var c=t[T];if(P.isPlainObject(c)){var a=s.cleanId(c.xref,"x",!1),d=s.cleanId(c.yref,"y",!1),x=n.x.test(a),w=n.y.test(d);if(x||w){h||P.pushUnique(r._basePlotModules,i);var C=!1;x&&u.indexOf(a)===-1&&(u.push(a),C=!0),w&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&x&&w&&g.push(a+d)}}}}}},57952:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=e(7316),S=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),i=s.ensureSingle;function n(T,c,a){return s.ensureSingle(T,c,a,function(d){d.datum(a)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=r.idRegex,H.attrRegex=r.attrRegex,H.attributes=e(26720),H.layoutAttributes=e(94724),H.supplyLayoutDefaults=e(67352),H.transitionAxes=e(73736),H.finalizeSubplots=function(T,c){var a=c._subplots,d=a.xaxis,x=a.yaxis,w=a.cartesian,C=w.concat(a.gl2d||[]),y={},M={},A,o,E;for(A=0;A<C.length;A++){var b=C[A].split("y");y[b[0]]=1,M["y"+b[1]]=1}for(A=0;A<d.length;A++)o=d[A],y[o]||(E=(T[p.id2name(o)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),w.push(o+E),C.push(o+E),M[E]||(M[E]=1,s.pushUnique(x,E)));for(A=0;A<x.length;A++)E=x[A],M[E]||(o=(T[p.id2name(E)]||{}).anchor,r.idRegex.x.test(o)||(o="x"),w.push(o+E),C.push(o+E),y[o]||(y[o]=1,s.pushUnique(d,o)));if(!C.length){o="",E="";for(var I in T)if(r.attrRegex.test(I)){var D=I.charAt(0);D==="x"?(!o||+I.substr(5)<+o.substr(5))&&(o=I):(!E||+I.substr(5)<+E.substr(5))&&(E=I)}o=o?p.name2id(o):"x",E=E?p.name2id(E):"y",d.push(o),x.push(E),w.push(o+E)}},H.plot=function(T,c,a,d){var x=T._fullLayout,w=x._subplots.cartesian,C=T.calcdata,y;if(!Array.isArray(c))for(c=[],y=0;y<C.length;y++)c.push(y);for(y=0;y<w.length;y++){for(var M=w[y],A=x._plots[M],o=[],E,b=0;b<C.length;b++){var I=C[b],D=I[0].trace;D.xaxis+D.yaxis===M&&((c.indexOf(D.index)!==-1||D.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===M&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&o.indexOf(E)===-1&&o.push(E),o.push(I)),E=I)}f(T,A,o,a,d)}};function f(T,c,a,d,x){for(var w=r.traceLayerClasses,C=T._fullLayout,y=C._modules,M,A,o,E={},b=0;b<a.length;b++){var I=a[b][0].trace,D=I.zorder||0;E[D]||(E[D]=[]),E[D].push(a[b])}for(var N=[],k=[],O=Object.keys(E).map(Number).sort(s.sorterAsc),F=0;F<O.length;F++)for(var z=O[F],B=0;B<y.length;B++){M=y[B];var W=M.name,J=P.modules[W].categories;if(J.svg){var re=M.layerName||W+"layer",ne=re+(F?Number(F)+1:""),le=M.plot;A=v(a,le,z),o=A[0],a=A[1],o.length&&N.push({i:w.indexOf(re),zorder:F,className:ne,plotMethod:le,cdModule:o}),J.zoomScale&&k.push("."+ne)}}N.sort(function(ie,Y){return(ie.zorder||0)-(Y.zorder||0)||ie.i-Y.i});var $=c.plot.selectAll("g.mlayer").data(N,function(ie){return ie.className});if($.enter().append("g").attr("class",function(ie){return ie.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),$.exit().remove(),$.order(),$.each(function(ie){var Y=m.select(this),Q=ie.className;ie.plotMethod(T,c,ie.cdModule,Y,d,x),r.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&S.setClipUrl(Y,c.layerClipId,T)}),C._has("scattergl")&&(M=P.getModule("scattergl"),o=v(a,M)[0],M.plot(T,c,o)),!T._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),k.length)){var K=c.plot.selectAll(k.join(",")).selectAll(".trace");c.zoomScalePts=K.selectAll("path.point"),c.zoomScaleTxt=K.selectAll(".textpoint")}}H.clean=function(T,c,a,d){var x=d._plots||{},w=c._plots||{},C=d._subplots||{},y,M,A;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(A in x)y=x[A],y.plotgroup&&y.plotgroup.remove();var o=d._has&&d._has("gl"),E=c._has&&c._has("gl");if(o&&!E)for(A in x)y=x[A],y._scene&&y._scene.destroy();if(C.xaxis&&C.yaxis){var b=p.listIds({_fullLayout:d});for(M=0;M<b.length;M++){var I=b[M];c[p.id2name(I)]||d._infolayer.selectAll(".g-"+I+"title").remove()}}var D=d._has&&d._has("cartesian"),N=c._has&&c._has("cartesian");if(D&&!N)g(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(M=0;M<C.cartesian.length;M++){var k=C.cartesian[M];if(!w[k]){var O="."+k+",."+k+"-x,."+k+"-y";d._cartesianlayer.selectAll(O).remove(),h(k,d)}}},H.drawFramework=function(T){var c=T._fullLayout,a=u(T),d=c._cartesianlayer.selectAll(".subplot").data(a,String);d.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),d.order(),d.exit().call(g,c),d.each(function(x){var w=x[0],C=c._plots[w];C.plotgroup=m.select(this),l(T,C),C.draglayer=i(c._draggers,"g",w)})},H.rangePlot=function(T,c,a){l(T,c),f(T,c,a),L.style(T)};function u(T){var c=T._fullLayout,a=c._subplots.cartesian,d=a.length,x,w,C,y,M,A,o=[],E=[];for(x=0;x<d;x++){C=a[x],y=c._plots[C],M=y.xaxis,A=y.yaxis;var b=M._mainAxis,I=A._mainAxis,D=b._id+I._id,N=c._plots[D];y.overlays=[],D!==C&&N?(y.mainplot=D,y.mainplotinfo=N,E.push(C)):(y.mainplot=void 0,y.mainplotinfo=void 0,o.push(C))}for(x=0;x<E.length;x++)C=E[x],y=c._plots[C],y.mainplotinfo.overlays.push(y);var k=o.concat(E),O=new Array(d);for(x=0;x<d;x++){C=k[x],y=c._plots[C],M=y.xaxis,A=y.yaxis;var F=[C,M.layer,A.layer,M.overlaying||"",A.overlaying||""];for(w=0;w<y.overlays.length;w++)F.push(y.overlays[w].id);O[x]=F}return O}function l(T,c){var a=c.plotgroup,d=c.id,x=r.layerValue2layerClass[c.xaxis.layer],w=r.layerValue2layerClass[c.yaxis.layer],C=T._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var A=c.mainplotinfo,o=A.plotgroup,E=d+"-x",b=d+"-y";c.minorGridlayer=A.minorGridlayer,c.gridlayer=A.gridlayer,c.zerolinelayer=A.zerolinelayer,i(A.overlinesBelow,"path",E),i(A.overlinesBelow,"path",b),i(A.overaxesBelow,"g",E),i(A.overaxesBelow,"g",b),c.plot=i(A.overplot,"g",d),i(A.overlinesAbove,"path",E),i(A.overlinesAbove,"path",b),i(A.overaxesAbove,"g",E),i(A.overaxesAbove,"g",b),c.xlines=o.select(".overlines-"+x).select("."+E),c.ylines=o.select(".overlines-"+w).select("."+b),c.xaxislayer=o.select(".overaxes-"+x).select("."+E),c.yaxislayer=o.select(".overaxes-"+w).select("."+b)}else if(C)c.xlines=i(a,"path","xlines-above"),c.ylines=i(a,"path","ylines-above"),c.xaxislayer=i(a,"g","xaxislayer-above"),c.yaxislayer=i(a,"g","yaxislayer-above");else{var y=i(a,"g","layer-subplot");c.shapelayer=i(y,"g","shapelayer"),c.imagelayer=i(y,"g","imagelayer"),c.minorGridlayer=i(a,"g","minor-gridlayer"),c.gridlayer=i(a,"g","gridlayer"),c.zerolinelayer=i(a,"g","zerolinelayer");var M=i(a,"g","layer-between");c.shapelayerBetween=i(M,"g","shapelayer"),c.imagelayerBetween=i(M,"g","imagelayer"),i(a,"path","xlines-below"),i(a,"path","ylines-below"),c.overlinesBelow=i(a,"g","overlines-below"),i(a,"g","xaxislayer-below"),i(a,"g","yaxislayer-below"),c.overaxesBelow=i(a,"g","overaxes-below"),c.plot=i(a,"g","plot"),c.overplot=i(a,"g","overplot"),c.xlines=i(a,"path","xlines-above"),c.ylines=i(a,"path","ylines-above"),c.overlinesAbove=i(a,"g","overlines-above"),i(a,"g","xaxislayer-above"),i(a,"g","yaxislayer-above"),c.overaxesAbove=i(a,"g","overaxes-above"),c.xlines=a.select(".xlines-"+x),c.ylines=a.select(".ylines-"+w),c.xaxislayer=a.select(".xaxislayer-"+x),c.yaxislayer=a.select(".yaxislayer-"+w)}C||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(I){return I[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function g(T,c){if(T){var a={};T.each(function(M){var A=M[0],o=m.select(this);o.remove(),h(A,c),a[A]=!0});for(var d in c._plots)for(var x=c._plots[d],w=x.overlays||[],C=0;C<w.length;C++){var y=w[C];a[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(T,c){c._draggers.selectAll("g."+T).remove(),c._defs.select("#clip"+c._uid+T+"plot").remove()}H.toSVG=function(T){var c=T._fullLayout._glimages,a=m.select(T).selectAll(".svg-container"),d=a.filter(function(w,C){return C===a.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var w=this,C=w.toDataURL("image/png"),y=c.append("svg:image");y.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(x)},H.updateFx=e(42464).updateFx},94724:function(G,H,e){var m=e(25376),P=e(22548),s=e(98192).u,L=e(92880).extendFlat,S=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=L({},n,{values:n.values.slice().concat(["sync"])});function u(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(M){var A={valType:"number",min:0,editType:"ticks"};return M||(A.dflt=5),A}function a(M){var A={valType:"number",min:0,editType:"ticks"};return M||(A.dflt=1),A}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},x={valType:"color",dflt:P.lightLine,editType:"ticks"};function w(M){var A={valType:"number",min:0,editType:"ticks"};return M||(A.dflt=1),A}var C=L({},s,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:m({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:S("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:a(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:m({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:S("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:x,gridwidth:w(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:g,tickvals:h,ticks:T,ticklen:c("minor"),tickwidth:a("minor"),tickcolor:d,gridcolor:x,gridwidth:w("minor"),griddash:C,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:m({editType:"ticks"})}}},67352:function(G,H,e){var m=e(3400),P=e(76308),s=e(10624).isUnifiedHover,L=e(41008),S=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),i=e(71888),n=e(37668),f=e(79811),u=f.id2name,l=f.name2id,g=e(33816).AX_ID_PATTERN,h=e(24040),T=h.traceIs,c=h.getComponentMethod;function a(d,x,w){Array.isArray(d[x])?d[x].push(w):d[x]=[w]}G.exports=function(x,w,C){var y=w.autotypenumbers,M={},A={},o={},E={},b={},I={},D={},N={},k={},O={},F,z;for(F=0;F<C.length;F++){var B=C[F];if(!(!T(B,"cartesian")&&!T(B,"gl2d"))){var W;if(B.xaxis)W=u(B.xaxis),a(M,W,B);else if(B.xaxes)for(z=0;z<B.xaxes.length;z++)a(M,u(B.xaxes[z]),B);var J;if(B.yaxis)J=u(B.yaxis),a(M,J,B);else if(B.yaxes)for(z=0;z<B.yaxes.length;z++)a(M,u(B.yaxes[z]),B);if(B.type==="funnel"?B.orientation==="h"?(W&&(A[W]=!0),J&&(D[J]=!0)):J&&(o[J]=!0):B.type==="image"?(J&&(N[J]=!0),W&&(N[W]=!0)):(J&&(b[J]=!0,I[J]=!0),(!T(B,"carpet")||B.type==="carpet"&&!B._cheater)&&W&&(E[W]=!0)),B.type==="carpet"&&B._cheater&&W&&(A[W]=!0),T(B,"2dMap")&&(k[W]=!0,k[J]=!0),T(B,"oriented")){var re=B.orientation==="h"?J:W;O[re]=!0}}}var ne=w._subplots,le=ne.xaxis,$=ne.yaxis,K=m.simpleMap(le,u),ie=m.simpleMap($,u),Y=K.concat(ie),Q=P.background;le.length&&$.length&&(Q=m.coerce(x,w,v,"plot_bgcolor"));var oe=P.combine(Q,w.paper_bgcolor),X,j,se,te,fe;function ge(){var he=M[X]||[];fe._traceIndices=he.map(function(me){return me._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=X,fe._id=j}function be(he,me){return m.coerce(te,fe,p,he,me)}function xe(he,me){return m.coerce2(te,fe,p,he,me)}function _e(he){return he==="x"?$:le}function De(he,me){for(var Ne=he==="x"?K:ie,$e=[],ot=0;ot<Ne.length;ot++){var st=Ne[ot];st!==me&&!(x[st]||{}).overlaying&&$e.push(l(st))}return $e}var Fe={x:_e("x"),y:_e("y")},Te=Fe.x.concat(Fe.y),Re={},Se=[];function Ie(){var he=te.matches;g.test(he)&&Te.indexOf(he)===-1&&(Re[he]=te.type,Se=Object.keys(Re))}var Me=L(x,w),Ve=s(Me);for(F=0;F<Y.length;F++){X=Y[F],j=l(X),se=X.charAt(0),m.isPlainObject(x[X])||(x[X]={}),te=x[X],fe=S.newContainer(w,X,se+"axis"),ge();var et=se==="x"&&!E[X]&&A[X]||se==="y"&&!b[X]&&o[X],it=se==="y"&&(!I[X]&&D[X]||N[X]),Je={hasMinor:!0,letter:se,font:w.font,outerTicks:k[X],showGrid:!O[X],data:M[X]||[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:et,reverseDflt:it,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[j],noAutotickangles:se==="y"};be("uirevision",w.uirevision),r(te,fe,be,Je),t(te,fe,be,Je,w);var Qe=Ve&&se===Me.charAt(0),ct=xe("spikecolor",Ve?fe.color:void 0),ht=xe("spikethickness",Ve?1.5:void 0),gt=xe("spikedash",Ve?"dot":void 0),Tt=xe("spikemode",Ve?"across":void 0),Et=xe("spikesnap"),rt=be("showspikes",!!Qe||!!ct||!!ht||!!gt||!!Tt||!!Et);rt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var ze=u(te.overlaying),He=[0,1];if(w[ze]!==void 0){var Ge=u(w[ze].anchor);w[Ge]!==void 0&&(He=w[Ge].domain)}n(te,fe,be,{letter:se,counterAxes:Fe[se],overlayableAxes:De(se,X),grid:w.grid,overlayingDomain:He}),be("title.standoff"),Ie(),fe._input=te}for(F=0;F<Se.length;){j=Se[F++],X=u(j),se=X.charAt(0),m.isPlainObject(x[X])||(x[X]={}),te=x[X],fe=S.newContainer(w,X,se+"axis"),ge();var We={letter:se,font:w.font,outerTicks:k[X],showGrid:!O[X],data:[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((w._splomAxes||{})[se]||{})[j]};be("uirevision",w.uirevision),fe.type=Re[j]||"linear",t(te,fe,be,We,w),n(te,fe,be,{letter:se,counterAxes:Fe[se],overlayableAxes:De(se,X),grid:w.grid}),be("fixedrange"),Ie(),fe._input=te}var Le=c("rangeslider","handleDefaults"),Pe=c("rangeselector","handleDefaults");for(F=0;F<K.length;F++)X=K[F],te=x[X],fe=w[X],Le(x,w,X),fe.type==="date"&&Pe(te,fe,w,ie,fe.calendar),be("fixedrange");for(F=0;F<ie.length;F++){X=ie[F],te=x[X],fe=w[X];var je=w[u(fe.anchor)],Ce=c("rangeslider","isVisible")(je);be("fixedrange",Ce)}i.handleDefaults(x,w,{axIds:Te.concat(Se).sort(f.idSort),axHasImage:N})}},42136:function(G,H,e){var m=e(49760).mix,P=e(22548),s=e(3400);G.exports=function(S,v,p,r){r=r||{};var t=r.dfltColor;function i(o,E){return s.coerce2(S,v,r.attributes,o,E)}var n=i("linecolor",t),f=i("linewidth"),u=p("showline",r.showLine||!!n||!!f);u||(delete v.linecolor,delete v.linewidth);var l=m(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=i("gridcolor",l),h=i("gridwidth"),T=i("griddash"),c=p("showgrid",r.showGrid||!!g||!!h||!!T);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var a=m(v.gridcolor,r.bgColor,67).toRgbString(),d=i("minor.gridcolor",a),x=i("minor.gridwidth",v.gridwidth||1),w=i("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!x||!!w);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=i("zerolinecolor",t),M=i("zerolinewidth"),A=p("zeroline",r.showGrid||!!y||!!M);A||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(G,H,e){var m=e(38248),P=e(3400);G.exports=function(L,S,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],i=p.letter,n=p.grid,f=p.overlayingDomain,u,l,g,h,T,c;n&&(l=n._domains[i][n._axisMap[S._id]],u=n._anchors[S._id],l&&(g=n[i+"side"].split(" ")[0],h=n.domain[i][g==="right"||g==="top"?1:0])),l=l||[0,1],u=u||(m(L.position)?"free":r[0]||"free"),g=g||(i==="x"?"bottom":"left"),h=h||0,T=0,c=!1;var a=P.coerce(L,S,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=P.coerce(L,S,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(a==="free"){if(i==="y"){var x=v("autoshift");x&&(h=d==="left"?f[0]:f[1],c=S.automargin?S.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",c);var w=!1;if(t.length&&(w=P.coerce(L,S,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var C=v("domain",l);C[0]>C[1]-.000244140625&&(S.domain=l),P.noneOrAll(L.domain,S.domain,l),S.tickmode==="sync"&&(S.tickmode="auto")}return v("layer"),S}},42568:function(G,H,e){var m=e(85024);G.exports=function(s,L,S,v,p){p||(p={});var r=p.tickSuffixDflt,t=m(s),i=S("tickprefix");i&&S("showtickprefix",t);var n=S("ticksuffix",r);n&&S("showticksuffix",t)}},96312:function(G,H,e){var m=e(76808);G.exports=function(s,L,S,v){var p=L._template||{},r=L.type||p.type||"-";S("minallowed"),S("maxallowed");var t=S("range");if(!t){var i;!v.noInsiderange&&r!=="log"&&(i=S("insiderange"),i&&(i[0]===null||i[1]===null)&&(L.insiderange=!1,i=void 0),i&&(t=S("range",i)))}var n=L.getAutorangeDflt(t,v),f=S("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,u=!0),u||(n=L.getAutorangeDflt(t,v),f=S("autorange",n)),f&&(m(S,f,t),(r==="linear"||r==="-")&&S("rangemode")),L.cleanRange()}},21160:function(G,H,e){var m=e(84284).FROM_BL;G.exports=function(s,L,S){S===void 0&&(S=m[s.constraintoward||"center"]);var v=[s.r2l(s.range[0]),s.r2l(s.range[1])],p=v[0]+(v[1]-v[0])*S;s.range=s._input.range=[s.l2r(p+(v[0]-p)*L),s.l2r(p+(v[1]-p)*L)],s.setScale()}},78344:function(G,H,e){var m=e(33428),P=e(94336).E9,s=e(3400),L=s.numberFormat,S=e(38248),v=s.cleanNumber,p=s.ms2DateTime,r=s.dateTime2ms,t=s.ensureNumber,i=s.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,g=n.ONEWEEK,h=n.ONEDAY,T=n.ONEHOUR,c=n.ONEMIN,a=n.ONESEC,d=e(79811),x=e(33816),w=x.HOUR_PATTERN,C=x.WEEKDAY_PATTERN;function y(A){return Math.pow(10,A)}function M(A){return A!=null}G.exports=function(o,E){E=E||{};var b=o._id||"x",I=b.charAt(0);function D(Y,Q){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&Q&&o.range&&o.range.length===2){var oe=o.range[0],X=o.range[1];return .5*(oe+X-2*l*Math.abs(oe-X))}else return u}function N(Y,Q,oe,X){if((X||{}).msUTC&&S(Y))return+Y;var j=r(Y,oe||o.calendar);if(j===u)if(S(Y)){Y=+Y;var se=Math.floor(s.mod(Y+.05,1)*10),te=Math.round(Y-se/10);j=r(new Date(te))+se/10}else return u;return j}function k(Y,Q,oe){return p(Y,Q,oe||o.calendar)}function O(Y){return o._categories[Math.round(Y)]}function F(Y){if(M(Y)){if(o._categoriesMap===void 0&&(o._categoriesMap={}),o._categoriesMap[Y]!==void 0)return o._categoriesMap[Y];o._categories.push(typeof Y=="number"?String(Y):Y);var Q=o._categories.length-1;return o._categoriesMap[Y]=Q,Q}return u}function z(Y,Q){for(var oe=new Array(Q),X=0;X<Q;X++){var j=(Y[0]||[])[X],se=(Y[1]||[])[X];oe[X]=B([j,se])}return oe}function B(Y){if(o._categoriesMap)return o._categoriesMap[Y]}function W(Y){var Q=B(Y);if(Q!==void 0)return Q;if(S(Y))return+Y}function J(Y){return S(Y)?+Y:B(Y)}function re(Y,Q,oe){return m.round(oe+Q*Y,2)}function ne(Y,Q,oe){return(Y-oe)/Q}var le=function(Q){return S(Q)?re(Q,o._m,o._b):u},$=function(Y){return ne(Y,o._m,o._b)};if(o.rangebreaks){var K=I==="y";le=function(Y){if(!S(Y))return u;var Q=o._rangebreaks.length;if(!Q)return re(Y,o._m,o._b);var oe=K;o.range[0]>o.range[1]&&(oe=!oe);for(var X=oe?-1:1,j=X*Y,se=0,te=0;te<Q;te++){var fe=X*o._rangebreaks[te].min,ge=X*o._rangebreaks[te].max;if(j<fe)break;if(j>ge)se=te+1;else{se=j<(fe+ge)/2?te:te+1;break}}var be=o._B[se]||0;return isFinite(be)?re(Y,o._m2,be):0},$=function(Y){var Q=o._rangebreaks.length;if(!Q)return ne(Y,o._m,o._b);for(var oe=0,X=0;X<Q&&!(Y<o._rangebreaks[X].pmin);X++)Y>o._rangebreaks[X].pmax&&(oe=X+1);return ne(Y,o._m2,o._B[oe])}}o.c2l=o.type==="log"?D:t,o.l2c=o.type==="log"?y:t,o.l2p=le,o.p2l=$,o.c2p=o.type==="log"?function(Y,Q){return le(D(Y,Q))}:le,o.p2c=o.type==="log"?function(Y){return y($(Y))}:$,["linear","-"].indexOf(o.type)!==-1?(o.d2r=o.r2d=o.d2c=o.r2c=o.d2l=o.r2l=v,o.c2d=o.c2r=o.l2d=o.l2r=t,o.d2p=o.r2p=function(Y){return o.l2p(v(Y))},o.p2d=o.p2r=$,o.cleanPos=t):o.type==="log"?(o.d2r=o.d2l=function(Y,Q){return D(v(Y),Q)},o.r2d=o.r2c=function(Y){return y(v(Y))},o.d2c=o.r2l=v,o.c2d=o.l2r=t,o.c2r=D,o.l2d=y,o.d2p=function(Y,Q){return o.l2p(o.d2r(Y,Q))},o.p2d=function(Y){return y($(Y))},o.r2p=function(Y){return o.l2p(v(Y))},o.p2r=$,o.cleanPos=t):o.type==="date"?(o.d2r=o.r2d=s.identity,o.d2c=o.r2c=o.d2l=o.r2l=N,o.c2d=o.c2r=o.l2d=o.l2r=k,o.d2p=o.r2p=function(Y,Q,oe){return o.l2p(N(Y,0,oe))},o.p2d=o.p2r=function(Y,Q,oe){return k($(Y),Q,oe)},o.cleanPos=function(Y){return s.cleanDate(Y,u,o.calendar)}):o.type==="category"?(o.d2c=o.d2l=F,o.r2d=o.c2d=o.l2d=O,o.d2r=o.d2l_noadd=W,o.r2c=function(Y){var Q=J(Y);return Q!==void 0?Q:o.fraction2r(.5)},o.l2r=o.c2r=t,o.r2l=J,o.d2p=function(Y){return o.l2p(o.r2c(Y))},o.p2d=function(Y){return O($(Y))},o.r2p=o.d2p,o.p2r=$,o.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):o.type==="multicategory"&&(o.r2d=o.c2d=o.l2d=O,o.d2r=o.d2l_noadd=W,o.r2c=function(Y){var Q=W(Y);return Q!==void 0?Q:o.fraction2r(.5)},o.r2c_just_indices=B,o.l2r=o.c2r=t,o.r2l=W,o.d2p=function(Y){return o.l2p(o.r2c(Y))},o.p2d=function(Y){return O($(Y))},o.r2p=o.d2p,o.p2r=$,o.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},o.setupMultiCategory=function(Y){var Q=o._traceIndices,oe,X,j=o._matchGroup;if(j&&o._categories.length===0){for(var se in j)if(se!==b){var te=E[d.id2name(se)];Q=Q.concat(te._traceIndices)}}var fe=[[0,{}],[0,{}]],ge=[];for(oe=0;oe<Q.length;oe++){var be=Y[Q[oe]];if(I in be){var xe=be[I],_e=be._length||s.minRowLength(xe);if(i(xe[0])&&i(xe[1]))for(X=0;X<_e;X++){var De=xe[0][X],Fe=xe[1][X];M(De)&&M(Fe)&&(ge.push([De,Fe]),De in fe[0][1]||(fe[0][1][De]=fe[0][0]++),Fe in fe[1][1]||(fe[1][1][Fe]=fe[1][0]++))}}}for(ge.sort(function(Te,Re){var Se=fe[0][1],Ie=Se[Te[0]]-Se[Re[0]];if(Ie)return Ie;var Me=fe[1][1];return Me[Te[1]]-Me[Re[1]]}),oe=0;oe<ge.length;oe++)F(ge[oe])}),o.fraction2r=function(Y){var Q=o.r2l(o.range[0]),oe=o.r2l(o.range[1]);return o.l2r(Q+Y*(oe-Q))},o.r2fraction=function(Y){var Q=o.r2l(o.range[0]),oe=o.r2l(o.range[1]);return(o.r2l(Y)-Q)/(oe-Q)},o.limitRange=function(Y){var Q=o.minallowed,oe=o.maxallowed;if(!(Q===void 0&&oe===void 0)){Y||(Y="range");var X=s.nestedProperty(o,Y).get(),j=s.simpleMap(X,o.r2l),se=j[1]<j[0];se&&j.reverse();var te=s.simpleMap([Q,oe],o.r2l);if(Q!==void 0&&j[0]<te[0]&&(X[se?1:0]=Q),oe!==void 0&&j[1]>te[1]&&(X[se?0:1]=oe),X[0]===X[1]){var fe=o.l2r(Q),ge=o.l2r(oe);if(Q!==void 0){var be=fe+1;oe!==void 0&&(be=Math.min(be,ge)),X[se?1:0]=be}if(oe!==void 0){var xe=ge+1;Q!==void 0&&(xe=Math.max(xe,fe)),X[se?0:1]=xe}}}},o.cleanRange=function(Y,Q){o._cleanRange(Y,Q),o.limitRange(Y)},o._cleanRange=function(Y,Q){Q||(Q={}),Y||(Y="range");var oe=s.nestedProperty(o,Y).get(),X,j;if(o.type==="date"?j=s.dfltRange(o.calendar):I==="y"?j=x.DFLTRANGEY:o._name==="realaxis"?j=[0,1]:j=Q.dfltRange||x.DFLTRANGEX,j=j.slice(),(o.rangemode==="tozero"||o.rangemode==="nonnegative")&&(j[0]=0),!oe||oe.length!==2){s.nestedProperty(o,Y).set(j);return}var se=oe[0]===null,te=oe[1]===null;for(o.type==="date"&&!o.autorange&&(oe[0]=s.cleanDate(oe[0],u,o.calendar),oe[1]=s.cleanDate(oe[1],u,o.calendar)),X=0;X<2;X++)if(o.type==="date"){if(!s.isDateTime(oe[X],o.calendar)){o[Y]=j;break}if(o.r2l(oe[0])===o.r2l(oe[1])){var fe=s.constrain(o.r2l(oe[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);oe[0]=o.l2r(fe-1e3),oe[1]=o.l2r(fe+1e3);break}}else{if(!S(oe[X]))if(!(se||te)&&S(oe[1-X]))oe[X]=oe[1-X]*(X?10:.1);else{o[Y]=j;break}if(oe[X]<-f?oe[X]=-f:oe[X]>f&&(oe[X]=f),oe[0]===oe[1]){var ge=Math.max(1,Math.abs(oe[0]*1e-6));oe[0]-=ge,oe[1]+=ge}}},o.setScale=function(Y){var Q=E._size;if(o.overlaying){var oe=d.getFromId({_fullLayout:E},o.overlaying);o.domain=oe.domain}var X=Y&&o._r?"_r":"range",j=o.calendar;o.cleanRange(X);var se=o.r2l(o[X][0],j),te=o.r2l(o[X][1],j),fe=I==="y";if(fe?(o._offset=Q.t+(1-o.domain[1])*Q.h,o._length=Q.h*(o.domain[1]-o.domain[0]),o._m=o._length/(se-te),o._b=-o._m*te):(o._offset=Q.l+o.domain[0]*Q.w,o._length=Q.w*(o.domain[1]-o.domain[0]),o._m=o._length/(te-se),o._b=-o._m*se),o._rangebreaks=[],o._lBreaks=0,o._m2=0,o._B=[],o.rangebreaks){var ge,be;if(o._rangebreaks=o.locateBreaks(Math.min(se,te),Math.max(se,te)),o._rangebreaks.length){for(ge=0;ge<o._rangebreaks.length;ge++)be=o._rangebreaks[ge],o._lBreaks+=Math.abs(be.max-be.min);var xe=fe;se>te&&(xe=!xe),xe&&o._rangebreaks.reverse();var _e=xe?-1:1;for(o._m2=_e*o._length/(Math.abs(te-se)-o._lBreaks),o._B.push(-o._m2*(fe?te:se)),ge=0;ge<o._rangebreaks.length;ge++)be=o._rangebreaks[ge],o._B.push(o._B[o._B.length-1]-_e*o._m2*(be.max-be.min));for(ge=0;ge<o._rangebreaks.length;ge++)be=o._rangebreaks[ge],be.pmin=le(be.min),be.pmax=le(be.max)}}if(!isFinite(o._m)||!isFinite(o._b)||o._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},o.maskBreaks=function(Y){var Q=o.rangebreaks||[],oe,X,j,se,te;Q._cachedPatterns||(Q._cachedPatterns=Q.map(function(Se){return Se.enabled&&Se.bounds?s.simpleMap(Se.bounds,Se.pattern?v:o.d2c):null})),Q._cachedValues||(Q._cachedValues=Q.map(function(Se){return Se.enabled&&Se.values?s.simpleMap(Se.values,o.d2c).sort(s.sorterAsc):null}));for(var fe=0;fe<Q.length;fe++){var ge=Q[fe];if(ge.enabled){if(ge.bounds){var be=ge.pattern;switch(oe=Q._cachedPatterns[fe],X=oe[0],j=oe[1],be){case C:te=new Date(Y),se=te.getUTCDay(),X>j&&(j+=7,se<X&&(se+=7));break;case w:te=new Date(Y);var xe=te.getUTCHours(),_e=te.getUTCMinutes(),De=te.getUTCSeconds(),Fe=te.getUTCMilliseconds();se=xe+(_e/60+De/3600+Fe/36e5),X>j&&(j+=24,se<X&&(se+=24));break;case"":se=Y;break}if(se>=X&&se<j)return u}else for(var Te=Q._cachedValues[fe],Re=0;Re<Te.length;Re++)if(X=Te[Re],j=X+ge.dvalue,Y>=X&&Y<j)return u}}return Y},o.locateBreaks=function(Y,Q){var oe,X,j,se,te=[];if(!o.rangebreaks)return te;var fe=o.rangebreaks.slice().sort(function(Me,Ve){return Me.pattern===C&&Ve.pattern===w?-1:Ve.pattern===C&&Me.pattern===w?1:0}),ge=function(Me,Ve){if(Me=s.constrain(Me,Y,Q),Ve=s.constrain(Ve,Y,Q),Me!==Ve){for(var et=!0,it=0;it<te.length;it++){var Je=te[it];Me<Je.max&&Ve>=Je.min&&(Me<Je.min&&(Je.min=Me),Ve>Je.max&&(Je.max=Ve),et=!1)}et&&te.push({min:Me,max:Ve})}};for(oe=0;oe<fe.length;oe++){var be=fe[oe];if(be.enabled)if(be.bounds){var xe=Y,_e=Q;be.pattern&&(xe=Math.floor(xe)),X=s.simpleMap(be.bounds,be.pattern?v:o.r2l),j=X[0],se=X[1];var De=new Date(xe),Fe,Te;switch(be.pattern){case C:Te=g,Fe=((se<j?7:0)+(se-j))*h,xe+=j*h-(De.getUTCDay()*h+De.getUTCHours()*T+De.getUTCMinutes()*c+De.getUTCSeconds()*a+De.getUTCMilliseconds());break;case w:Te=h,Fe=((se<j?24:0)+(se-j))*T,xe+=j*T-(De.getUTCHours()*T+De.getUTCMinutes()*c+De.getUTCSeconds()*a+De.getUTCMilliseconds());break;default:xe=Math.min(X[0],X[1]),_e=Math.max(X[0],X[1]),Te=_e-xe,Fe=Te}for(var Re=xe;Re<_e;Re+=Te)ge(Re,Re+Fe)}else for(var Se=s.simpleMap(be.values,o.d2c),Ie=0;Ie<Se.length;Ie++)j=Se[Ie],se=j+be.dvalue,ge(j,se)}return te.sort(function(Me,Ve){return Me.min-Ve.min}),te},o.makeCalcdata=function(Y,Q,oe){var X,j,se,te,fe=o.type,ge=fe==="date"&&Y[Q+"calendar"];if(Q in Y){if(X=Y[Q],te=Y._length||s.minRowLength(X),s.isTypedArray(X)&&(fe==="linear"||fe==="log")){if(te===X.length)return X;if(X.subarray)return X.subarray(0,te)}if(fe==="multicategory")return z(X,te);for(j=new Array(te),se=0;se<te;se++)j[se]=o.d2c(X[se],0,ge,oe)}else{var be=Q+"0"in Y?o.d2c(Y[Q+"0"],0,ge):0,xe=Y["d"+Q]?Number(Y["d"+Q]):1;for(X=Y[{x:"y",y:"x"}[Q]],te=Y._length||X.length,j=new Array(te),se=0;se<te;se++)j[se]=be+se*xe}if(o.rangebreaks)for(se=0;se<te;se++)j[se]=o.maskBreaks(j[se]);return j},o.isValidRange=function(Y,Q){return Array.isArray(Y)&&Y.length===2&&(Q&&Y[0]===null||S(o.r2l(Y[0])))&&(Q&&Y[1]===null||S(o.r2l(Y[1])))},o.getAutorangeDflt=function(Y,Q){var oe=!o.isValidRange(Y,"nullOk");return oe&&Q&&Q.reverseDflt?oe="reversed":Y&&(Y[0]===null&&Y[1]===null?oe=!0:Y[0]===null&&Y[1]!==null?oe="min":Y[0]!==null&&Y[1]===null&&(oe="max")),oe},o.isReversed=function(){var Y=o.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},o.isPtWithinRange=function(Y,Q){var oe=o.c2l(Y[I],null,Q),X=o.r2l(o.range[0]),j=o.r2l(o.range[1]);return X<j?X<=oe&&oe<=j:j<=oe&&oe<=X},o._emptyCategories=function(){o._categories=[],o._categoriesMap={}},o.clearCalc=function(){var Y=o._matchGroup;if(Y){var Q=null,oe=null;for(var X in Y){var j=E[d.id2name(X)];if(j._categories){Q=j._categories,oe=j._categoriesMap;break}}Q&&oe?(o._categories=Q,o._categoriesMap=oe):o._emptyCategories()}else o._emptyCategories();if(o._initialCategories)for(var se=0;se<o._initialCategories.length;se++)F(o._initialCategories[se])},o.sortByInitialCategories=function(){var Y=[];if(o._emptyCategories(),o._initialCategories)for(var Q=0;Q<o._initialCategories.length;Q++)F(o._initialCategories[Q]);Y=Y.concat(o._traceIndices);var oe=o._matchGroup;for(var X in oe)if(b!==X){var j=E[d.id2name(X)];j._categories=o._categories,j._categoriesMap=o._categoriesMap,Y=Y.concat(j._traceIndices)}return Y};var ie=E._d3locale;o.type==="date"&&(o._dateFormat=ie?ie.timeFormat:P,o._extraFormat=E._extraFormat),o._separators=E.separators,o._numFormat=ie?ie.numberFormat:L,delete o._minDtick,delete o._forceTick0}},85024:function(G){G.exports=function(e){var m=["showexponent","showtickprefix","showticksuffix"],P=m.filter(function(L){return e[L]!==void 0}),s=function(L){return e[L]===e[P[0]]};if(P.every(s)||P.length===1)return e[P[0]]}},95936:function(G,H,e){var m=e(3400),P=e(76308).contrast,s=e(94724),L=e(85024),S=e(51272);G.exports=function(r,t,i,n,f){f||(f={});var u=i("labelalias");m.isPlainObject(u)||delete t.labelalias;var l=L(r),g=i("showticklabels");if(g){var h=f.font||{},T=t.color,c=t.ticklabelposition||"",a=c.indexOf("inside")!==-1?P(f.bgColor):T&&T!==s.color.dflt?T:h.color;if(m.coerceFont(i,"tickfont",h,{overrideDflt:{color:a}}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&i("ticklabelstep"),!f.noAng){var d=i("tickangle");!f.noAutotickangles&&d==="auto"&&i("autotickangles")}if(n!=="category"){var x=i("tickformat");S(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!x&&n!=="date"&&(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function v(p,r){function t(n,f){return m.coerce(p,r,s.tickformatstops,n,f)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},25404:function(G,H,e){var m=e(3400),P=e(94724);G.exports=function(L,S,v,p){var r=p.isMinor,t=r?L.minor||{}:L,i=r?S.minor:S,n=r?P.minor:P,f=r?"minor.":"",u=m.coerce2(t,i,n,"ticklen",r?(S.ticklen||5)*.6:void 0),l=m.coerce2(t,i,n,"tickwidth",r?S.tickwidth||1:void 0),g=m.coerce2(t,i,n,"tickcolor",(r?S.tickcolor:void 0)||i.color),h=v(f+"ticks",!r&&p.outerTicks||u||l||g?"outside":"");h||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(G,H,e){var m=e(98728),P=e(3400).isArrayOrTypedArray,s=e(38116).isTypedArraySpec,L=e(38116).decodeTypedArraySpec;G.exports=function(v,p,r,t,i){i||(i={});var n=i.isMinor,f=n?v.minor||{}:v,u=n?p.minor:p,l=n?"minor.":"";function g(C){var y=f[C];return s(y)&&(y=L(y)),y!==void 0?y:(u._template||{})[C]}var h=g("tick0"),T=g("dtick"),c=g("tickvals"),a=P(c)?"array":T?"linear":"auto",d=r(l+"tickmode",a);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var x=u.dtick=m.dtick(T,t);u.tick0=m.tick0(h,t,p.calendar,x)}else if(t!=="multicategory"){var w=r(l+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=e(43616),S=e(54460);G.exports=function(p,r,t,i){var n=p._fullLayout;if(r.length===0){S.redrawComponents(p);return}function f(w){var C=w.xaxis,y=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),w.plot.call(L.setTranslate,C._offset,y._offset).call(L.setScale,1,1);var M=w.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(L.setPointGroupScale,1,1),M.selectAll(".textpoint").call(L.setTextPointsScale,1,1),M.call(L.hideOutsideRangePoints,w)}function u(w,C){var y=w.plotinfo,M=y.xaxis,A=y.yaxis,o=M._length,E=A._length,b=!!w.xr1,I=!!w.yr1,D=[];if(b){var N=s.simpleMap(w.xr0,M.r2l),k=s.simpleMap(w.xr1,M.r2l),O=N[1]-N[0],F=k[1]-k[0];D[0]=(N[0]*(1-C)+C*k[0]-N[0])/(N[1]-N[0])*o,D[2]=o*(1-C+C*F/O),M.range[0]=M.l2r(N[0]*(1-C)+C*k[0]),M.range[1]=M.l2r(N[1]*(1-C)+C*k[1])}else D[0]=0,D[2]=o;if(I){var z=s.simpleMap(w.yr0,A.r2l),B=s.simpleMap(w.yr1,A.r2l),W=z[1]-z[0],J=B[1]-B[0];D[1]=(z[1]*(1-C)+C*B[1]-z[1])/(z[0]-z[1])*E,D[3]=E*(1-C+C*J/W),A.range[0]=M.l2r(z[0]*(1-C)+C*B[0]),A.range[1]=A.l2r(z[1]*(1-C)+C*B[1])}else D[1]=0,D[3]=E;S.drawOne(p,M,{skipTitle:!0}),S.drawOne(p,A,{skipTitle:!0}),S.redrawComponents(p,[M._id,A._id]);var re=b?o/D[2]:1,ne=I?E/D[3]:1,le=b?D[0]:0,$=I?D[1]:0,K=b?D[0]/D[2]*o:0,ie=I?D[1]/D[3]*E:0,Y=M._offset-K,Q=A._offset-ie;y.clipRect.call(L.setTranslate,le,$).call(L.setScale,1/re,1/ne),y.plot.call(L.setTranslate,Y,Q).call(L.setScale,re,ne),L.setPointGroupScale(y.zoomScalePts,1/re,1/ne),L.setTextPointsScale(y.zoomScaleTxt,1/re,1/ne)}var l;i&&(l=i());function g(){for(var w={},C=0;C<r.length;C++){var y=r[C],M=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr1&&(w[M._name+".range"]=y.xr1.slice()),y.yr1&&(w[A._name+".range"]=y.yr1.slice())}return l&&l(),P.call("relayout",p,w).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}function h(){for(var w={},C=0;C<r.length;C++){var y=r[C],M=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr0&&(w[M._name+".range"]=y.xr0.slice()),y.yr0&&(w[A._name+".range"]=y.yr0.slice())}return P.call("relayout",p,w).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}var T,c,a,d=m.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(a),a=null,h()});function x(){c=Date.now();for(var w=Math.min(1,(c-T)/t.duration),C=d(w),y=0;y<r.length;y++)u(r[y],C);c-T>t.duration?(g(),a=window.cancelAnimationFrame(x)):a=window.requestAnimationFrame(x)}return T=Date.now(),a=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(G,H,e){var m=e(24040).traceIs,P=e(52976);G.exports=function(r,t,i,n){i("autotypenumbers",n.autotypenumbersDflt);var f=i("type",(n.splomStash||{}).type);f==="-"&&(s(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function s(p,r){if(p.type==="-"){var t=p._id,i=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=i);var f=L(r,t,i);if(f){if(f.type==="histogram"&&i==={v:"y",h:"x"}[f.orientation||"v"]){p.type="linear";return}var u=i+"calendar",l=f[u],g={noMultiCategory:!m(f,"cartesian")||m(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&i==={h:"x",v:"y"}[f.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=p.autotypenumbers,v(f,i)){var h=S(f),T=[];for(n=0;n<r.length;n++){var c=r[n];!m(c,"box-violin")||(c[i+"axis"]||i)!==t||(c[h]!==void 0?T.push(c[h][0]):c.name!==void 0?T.push(c.name):T.push("text"),c[u]!==l&&(l=void 0))}p.type=P(T,l,g)}else if(f.type==="splom"){var a=f.dimensions,d=a[f._axesDim[t]];d.visible&&(p.type=P(d.values,l,g))}else p.type=P(f[i]||[f[i+"0"]],l,g)}}}function L(p,r,t){for(var i=0;i<p.length;i++){var n=p[i];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function S(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=S(p),i=m(p,"box-violin"),n=m(p._fullInput||{},"candlestick");return i&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(G,H,e){var m=e(24040),P=e(3400);H.manageCommandObserver=function(r,t,i,n){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=H.hasSimpleAPICommandBindings(r,i,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){s(r,l,f.cache),f.check=function(){if(u){var c=s(r,l,f.cache);return c.changed&&n&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<g.length;h++)r._internalOn(g[h],f.check);f.remove=function(){for(var T=0;T<g.length;T++)r._removeInternalListener(g[T],f.check)}}else P.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},H.hasSimpleAPICommandBindings=function(r,t,i){var n,f=t.length,u;for(n=0;n<f;n++){var l,g=t[n],h=g.method,T=g.args;if(Array.isArray(T)||(T=[]),!h)return!1;var c=H.computeAPICommandBindings(r,h,T);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=c[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var a=0;a<u.traces.length;a++)if(u.traces[a]!==l.traces[a])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;i&&(i[d]=n)}return u};function s(r,t,i){var n,f,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=P.nestedProperty(n,t.prop).get(),u=i[t.type]=i[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}H.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var n=m.apiMethodRegistry[t],f=[r];Array.isArray(i)||(i=[]);for(var u=0;u<i.length;u++)f.push(i[u]);return n.apply(null,f).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},H.computeAPICommandBindings=function(r,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=v(r,i);break;case"relayout":n=S(r,i);break;case"update":n=v(r,[i[0],i[2]]).concat(S(r,[i[1]]));break;case"animate":n=L(r,i);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function S(r,t){var i=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(P.isPlainObject(n))f=n;else return i;return p(f,function(u,l,g){i.push({type:"layout",prop:u,value:g})},"",0),i}function v(r,t){var i,n,f,u,l=[];if(n=t[0],f=t[1],i=t[2],u={},typeof n=="string")u[n]=f;else if(P.isPlainObject(n))u=n,i===void 0&&(i=f);else return l;return i===void 0&&(i=null),p(u,function(g,h,T){var c,a;if(Array.isArray(T)){a=T.slice();var d=Math.min(a.length,r.data.length);i&&(d=Math.min(d,i.length)),c=[];for(var x=0;x<d;x++)c[x]=i?i[x]:x}else a=T,c=i?i.slice():null;if(c===null)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(c)){if(!Array.isArray(a)){var w=a;a=[];for(var C=0;C<c.length;C++)a[C]=w}a.length=Math.min(c.length,a.length)}l.push({type:"data",prop:g,traces:c,value:a})},"",0),l}function p(r,t,i,n){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=i+(n>0?".":"")+f;P.isPlainObject(u)?p(u,t,l,n+1):t(l,f,u)}})}},86968:function(G,H,e){var m=e(92880).extendFlat;H.u=function(P,s){P=P||{},s=s||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,s.description&&""+s.description;var S={x:m({},L,{}),y:m({},L,{}),editType:P.editType};return P.noGridCell||(S.row={valType:"integer",min:0,dflt:0,editType:P.editType},S.column={valType:"integer",min:0,dflt:0,editType:P.editType}),S},H.Q=function(P,s,L,S){var v=S&&S.x||[0,1],p=S&&S.y||[0,1],r=s.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var i=L("domain.row");i!==void 0&&(i<r.rows?p=r._domains.y[i]:delete P.domain.row)}var n=L("domain.x",v),f=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),f[0]<f[1]||(P.domain.y=p.slice())}},25376:function(G){G.exports=function(H){var e=H.variantValues,m=H.editType,P=H.colorEditType;P===void 0&&(P=m);var s={editType:m,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};H.noNumericWeightValues&&(s.valType="enumerated",s.values=s.extras,s.extras=void 0,s.min=void 0,s.max=void 0);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:m},size:{valType:"number",min:1,editType:m},color:{valType:"color",editType:P},weight:s,style:{editType:m,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:H.noFontVariant?void 0:{editType:m,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:H.noFontTextcase?void 0:{editType:m,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:H.noFontLineposition?void 0:{editType:m,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:H.noFontShadow?void 0:{editType:m,valType:"string",dflt:H.autoShadowDflt?"auto":"none"},editType:m};return H.autoSize&&(L.size.dflt="auto"),H.autoColor&&(L.color.dflt="auto"),H.arrayOk&&(L.family.arrayOk=!0,L.weight.arrayOk=!0,L.style.arrayOk=!0,H.noFontVariant||(L.variant.arrayOk=!0),H.noFontTextcase||(L.textcase.arrayOk=!0),H.noFontLineposition||(L.lineposition.arrayOk=!0),H.noFontShadow||(L.shadow.arrayOk=!0),L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(G,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(G,H,e){var m=e(33428),P=e(83356),s=P.geoPath,L=P.geoDistance,S=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),i=e(43616),n=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,g=e(86476),h=e(22676).prepSelect,T=e(22676).clearOutline,c=e(22676).selectOnClick,a=e(79248),d=e(79552),x=e(27144),w=e(59972),C=e(55712).NO;function y(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var M=y.prototype;G.exports=function(I){return new y(I)},M.plot=function(b,I,D,N){var k=this;if(N)return k.update(b,I,!0);k._geoCalcData=b,k._fullLayout=I;var O=I[this.id],F=[],z=!1;for(var B in d.layerNameToAdjective)if(B!=="frame"&&O["show"+B]){z=!0;break}for(var W=!1,J=0;J<b.length;J++){var re=b[0][0].trace;re._geo=k,re.locationmode&&(z=!0);var ne=re.marker;if(ne){var le=ne.angle,$=ne.angleref;(le||$==="north"||$==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,z){var K=w.getTopojsonName(O);(k.topojson===null||K!==k.topojsonName)&&(k.topojsonName=K,PlotlyGeoAssets.topojson[k.topojsonName]===void 0&&F.push(k.fetchTopojson()))}F=F.concat(x.fetchTraceGeoData(b)),D.push(new Promise(function(ie,Y){Promise.all(F).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(b,I),ie()}).catch(Y)}))},M.fetchTopojson=function(){var b=this,I=w.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(D,N){m.json(I,function(k,O){if(k)return k.status===404?N(new Error(["plotly.js could not find topojson file at",I+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",I].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=O,D()})})},M.update=function(b,I,D){var N=I[this.id];this.hasChoropleth=!1;for(var k=0;k<b.length;k++){var O=b[k],F=O[0].trace;F.type==="choropleth"&&(this.hasChoropleth=!0),F.visible===!0&&F._length>0&&F._module.calcGeoJSON(O,I)}if(!D){var z=this.updateProjection(b,I);if(z)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(I,N),this.updateDims(I,N),this.updateFx(I,N),f.generalUpdatePerTraceModule(this.graphDiv,this,b,N);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},M.updateProjection=function(b,I){var D=this.graphDiv,N=I[this.id],k=I._size,O=N.domain,F=N.projection,z=N.lonaxis,B=N.lataxis,W=z._ax,J=B._ax,re=this.projection=A(N),ne=[[k.l+k.w*O.x[0],k.t+k.h*(1-O.y[1])],[k.l+k.w*O.x[1],k.t+k.h*(1-O.y[0])]],le=N.center||{},$=F.rotation||{},K=z.range||[],ie=B.range||[];if(N.fitbounds){W._length=ne[1][0]-ne[0][0],J._length=ne[1][1]-ne[0][1],W.range=l(D,W),J.range=l(D,J);var Y=(W.range[0]+W.range[1])/2,Q=(J.range[0]+J.range[1])/2;if(N._isScoped)le={lon:Y,lat:Q};else if(N._isClipped){le={lon:Y,lat:Q},$={lon:Y,lat:Q,roll:$.roll};var oe=F.type,X=d.lonaxisSpan[oe]/2||180,j=d.lataxisSpan[oe]/2||90;K=[Y-X,Y+X],ie=[Q-j,Q+j]}else le={lon:Y,lat:Q},$={lon:Y,lat:$.lat,roll:$.roll}}re.center([le.lon-$.lon,le.lat-$.lat]).rotate([-$.lon,-$.lat,$.roll]).parallels(F.parallels);var se=E(K,ie);re.fitExtent(ne,se);var te=this.bounds=re.getBounds(se),fe=this.fitScale=re.scale(),ge=re.translate();if(N.fitbounds){var be=re.getBounds(E(W.range,J.range)),xe=Math.min((te[1][0]-te[0][0])/(be[1][0]-be[0][0]),(te[1][1]-te[0][1])/(be[1][1]-be[0][1]));isFinite(xe)?re.scale(xe*fe):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else re.scale(F.scale*fe);var _e=this.midPt=[(te[0][0]+te[1][0])/2,(te[0][1]+te[1][1])/2];if(re.translate([ge[0]+(_e[0]-ge[0]),ge[1]+(_e[1]-ge[1])]).clipExtent(te),N._isAlbersUsa){var De=re([le.lon,le.lat]),Fe=re.translate();re.translate([Fe[0]-(De[0]-Fe[0]),Fe[1]-(De[1]-Fe[1])])}},M.updateBaseLayers=function(b,I){var D=this,N=D.topojson,k=D.layers,O=D.basePaths;function F(ne){return ne==="lonaxis"||ne==="lataxis"}function z(ne){return!!d.lineLayers[ne]}function B(ne){return!!d.fillLayers[ne]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,J=W.filter(function(ne){return z(ne)||B(ne)?I["show"+ne]:F(ne)?I[ne].showgrid:!0}),re=D.framework.selectAll(".layer").data(J,String);re.exit().each(function(ne){delete k[ne],delete O[ne],m.select(this).remove()}),re.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var le=k[ne]=m.select(this);ne==="bg"?D.bgRect=le.append("rect").style("pointer-events","all"):F(ne)?O[ne]=le.append("path").style("fill","none"):ne==="backplot"?le.append("g").classed("choroplethlayer",!0):ne==="frontplot"?le.append("g").classed("scatterlayer",!0):z(ne)?O[ne]=le.append("path").style("fill","none").style("stroke-miterlimit",2):B(ne)&&(O[ne]=le.append("path").style("stroke","none"))}),re.order(),re.each(function(ne){var le=O[ne],$=d.layerNameToAdjective[ne];ne==="frame"?le.datum(d.sphereSVG):z(ne)||B(ne)?le.datum(C(N,N.objects[ne])):F(ne)&&le.datum(o(ne,I,b)).call(t.stroke,I[ne].gridcolor).call(i.dashLine,I[ne].griddash,I[ne].gridwidth),z(ne)?le.call(t.stroke,I[$+"color"]).call(i.dashLine,"",I[$+"width"]):B(ne)&&le.call(t.fill,I[$+"color"])})},M.updateDims=function(b,I){var D=this.bounds,N=(I.framewidth||0)/2,k=D[0][0]-N,O=D[0][1]-N,F=D[1][0]-k+N,z=D[1][1]-O+N;i.setRect(this.clipRect,k,O,F,z),this.bgRect.call(i.setRect,k,O,F,z).call(t.fill,I.bgcolor),this.xaxis._offset=k,this.xaxis._length=F,this.yaxis._offset=O,this.yaxis._length=z},M.updateFx=function(b,I){var D=this,N=D.graphDiv,k=D.bgRect,O=b.dragmode,F=b.clickmode;if(D.isStatic)return;function z(){var re=D.viewInitial,ne={};for(var le in re)ne[D.id+"."+le]=re[le];v.call("_guiRelayout",N,ne),N.emit("plotly_doubleclick",null)}function B(re){return D.projection.invert([re[0]+D.xaxis._offset,re[1]+D.yaxis._offset])}var W=function(re,ne){if(ne.isRect){var le=re.range={};le[D.id]=[B([ne.xmin,ne.ymin]),B([ne.xmax,ne.ymax])]}else{var $=re.lassoPoints={};$[D.id]=ne.map(B)}},J={element:D.bgRect.node(),gd:N,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:W},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(re){re===2&&T(N)}};O==="pan"?(k.node().onmousedown=null,k.call(a(D,I)),k.on("dblclick.zoom",z),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):(O==="select"||O==="lasso")&&(k.on(".zoom",null),J.prepFn=function(re,ne,le){h(re,ne,le,J,O)},g.init(J)),k.on("mousemove",function(){var re=D.projection.invert(p.getPositionFromD3Event());if(!re)return g.unhover(N,m.event);D.xaxis.p2c=function(){return re[0]},D.yaxis.p2c=function(){return re[1]},n.hover(N,m.event,D.id)}),k.on("mouseout",function(){N._dragging||g.unhover(N,m.event)}),k.on("click",function(){O!=="select"&&O!=="lasso"&&(F.indexOf("select")>-1&&c(m.event,N,[D.xaxis],[D.yaxis],D.id,J),F.indexOf("event")>-1&&n.click(N,m.event))})},M.makeFramework=function(){var b=this,I=b.graphDiv,D=I._fullLayout,N="clip"+D._uid+b.id;b.clipDef=D._clips.append("clipPath").attr("id",N),b.clipRect=b.clipDef.append("rect"),b.framework=m.select(b.container).append("g").attr("class","geo "+b.id).call(i.setClipUrl,N,I),b.project=function(k){var O=b.projection(k);return O?[O[0]-b.xaxis._offset,O[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(k){return b.project(k)[0]}},b.yaxis={_id:"y",c2p:function(k){return b.project(k)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(b.mockAxis,D)},M.saveViewInitial=function(b){var I=b.center||{},D=b.projection,N=D.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":D.scale};var k;b._isScoped?k={"center.lon":I.lon,"center.lat":I.lat}:b._isClipped?k={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:k={"center.lon":I.lon,"center.lat":I.lat,"projection.rotation.lon":N.lon},p.extendFlat(this.viewInitial,k)},M.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},M._render=function(){var b=this.projection,I=b.getPath(),D;function N(O){var F=b(O.lonlat);return F?r(F[0],F[1]):null}function k(O){return b.isLonLatOverEdges(O.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",I);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(O){return I(O.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",k).attr("transform",N)};function A(b){var I=b.projection,D=I.type,N=d.projNames[D];N="geo"+p.titleCase(N);for(var k=P[N]||S[N],O=k(),F=b._isSatellite?Math.acos(1/I.distance)*180/Math.PI:b._isClipped?d.lonaxisSpan[D]/2:null,z=["center","rotate","parallels","clipExtent"],B=function(re){return re?O:[]},W=0;W<z.length;W++){var J=z[W];typeof O[J]!="function"&&(O[J]=B)}return O.isLonLatOverEdges=function(re){if(O(re)===null)return!0;if(F){var ne=O.rotate(),le=L(re,[-ne[0],-ne[1]]),$=F*Math.PI/180;return le>$}else return!1},O.getPath=function(){return s().projection(O)},O.getBounds=function(re){return O.getPath().bounds(re)},O.precision(d.precision),b._isSatellite&&O.tilt(I.tilt).distance(I.distance),F&&O.clipAngle(F-d.clipPad),O}function o(b,I,D){var N=1e-6,k=2.5,O=I[b],F=d.scopeDefaults[I.scope],z,B,W;b==="lonaxis"?(z=F.lonaxisRange,B=F.lataxisRange,W=function(Q,oe){return[Q,oe]}):b==="lataxis"&&(z=F.lataxisRange,B=F.lonaxisRange,W=function(Q,oe){return[oe,Q]});var J={type:"linear",range:[z[0],z[1]-N],tick0:O.tick0,dtick:O.dtick};u.setConvert(J,D);var re=u.calcTicks(J);!I.isScoped&&b==="lonaxis"&&re.pop();for(var ne=re.length,le=new Array(ne),$=0;$<ne;$++)for(var K=re[$].x,ie=le[$]=[],Y=B[0];Y<B[1]+k;Y+=k)ie.push(W(K,Y));return{type:"MultiLineString",coordinates:le}}function E(b,I){var D=d.clipPad,N=b[0]+D,k=b[1]-D,O=I[0]+D,F=I[1]-D;N>0&&k<0&&(k+=360);var z=(k-N)/4;return{type:"Polygon",coordinates:[[[N,O],[N,F],[N+z,F],[N+2*z,F],[N+3*z,F],[k,F],[k,O],[k-z,O],[k-2*z,O],[k-3*z,O],[N,O]]]}}},10816:function(G,H,e){var m=e(84888).KY,P=e(3400).counterRegex,s=e(43520),L="geo",S=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(i){for(var n=i._fullLayout,f=i.calcdata,u=n._subplots[L],l=0;l<u.length;l++){var g=u[l],h=m(f,L,g),T=n[g],c=T._subplot;c||(c=s({id:g,graphDiv:i,container:n._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),n[g]._subplot=c),c.plot(h,n,i._promises)}}function r(i,n,f,u){for(var l=u._subplots[L]||[],g=0;g<l.length;g++){var h=l[g],T=u[h]._subplot;!n[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(i){for(var n=i._fullLayout,f=n._subplots[L],u=0;u<f.length;u++){var l=n[f[u]],g=l._subplot;g.updateFx(n,l)}}G.exports={attr:L,name:L,idRoot:L,idRegex:S,attrRegex:S,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(G,H,e){var m=e(22548),P=e(86968).u,s=e(98192).u,L=e(79552),S=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:m.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:s},r=G.exports=S({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:m.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:m.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:m.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:m.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:m.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(G,H,e){var m=e(3400),P=e(168),s=e(84888).op,L=e(79552),S=e(40384),v=L.axesNames;G.exports=function(t,i,n){P(t,i,n,{type:"geo",attributes:S,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,i,n){var f=s(n.fullData,"geo",n.id),u=f.map(function(ie){return ie._expandedIndex}),l=i("resolution"),g=i("scope"),h=L.scopeDefaults[g],T=i("projection.type",h.projType),c=t._isAlbersUsa=T==="albers usa";c&&(g=t.scope="usa");var a=t._isScoped=g!=="world",d=t._isSatellite=T==="satellite",x=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!L.lonaxisSpan[T];if(r.visible===!1){var C=m.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var y=i("visible"),M,A=0;A<v.length;A++){var o=v[A],E=[30,10][A],b;if(a)b=h[o+"Range"];else{var I=L[o+"Span"],D=(I[T]||I["*"])/2,N=i("projection.rotation."+o.substr(0,3),h.projRotate[A]);b=[N-D,N+D]}var k=i(o+".range",b);i(o+".tick0"),i(o+".dtick",E),M=i(o+".showgrid",y?void 0:!1),M&&(i(o+".gridcolor"),i(o+".gridwidth"),i(o+".griddash")),t[o]._ax={type:"linear",_id:o.slice(0,3),_traceIndices:u,setScale:m.identity,c2l:m.identity,r2l:m.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var O=t.lonaxis.range,F=t.lataxis.range,z=O[0],B=O[1];z>0&&B<0&&(B+=360);var W=(z+B)/2,J;if(!c){var re=a?h.projRotate:[W,0,0];J=i("projection.rotation.lon",re[0]),i("projection.rotation.lat",re[1]),i("projection.rotation.roll",re[2]),M=i("showcoastlines",!a&&y),M&&(i("coastlinecolor"),i("coastlinewidth")),M=i("showocean",y?void 0:!1),M&&i("oceancolor")}var ne,le;if(c?(ne=-96.6,le=38.7):(ne=a?W:J,le=(F[0]+F[1])/2),i("center.lon",ne),i("center.lat",le),d&&(i("projection.tilt"),i("projection.distance")),x){var $=h.projParallels||[0,60];i("projection.parallels",$)}i("projection.scale"),M=i("showland",y?void 0:!1),M&&i("landcolor"),M=i("showlakes",y?void 0:!1),M&&i("lakecolor"),M=i("showrivers",y?void 0:!1),M&&(i("rivercolor"),i("riverwidth")),M=i("showcountries",a&&g!=="usa"&&y),M&&(i("countrycolor"),i("countrywidth")),(g==="usa"||g==="north america"&&l===50)&&(i("showsubunits",y),i("subunitcolor"),i("subunitwidth")),a||(M=i("showframe",y),M&&(i("framecolor"),i("framewidth"))),i("bgcolor");var K=i("fitbounds");K&&(delete t.projection.scale,a?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(G,H,e){var m=e(33428),P=e(3400),s=e(24040),L=Math.PI/180,S=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(o,E){var b=o.projection,I;return E._isScoped?I=n:E._isClipped?I=u:I=f,I(o,b)}G.exports=r;function t(o,E){return m.behavior.zoom().translate(E.translate()).scale(E.scale())}function i(o,E,b){var I=o.id,D=o.graphDiv,N=D.layout,k=N[I],O=D._fullLayout,F=O[I],z={},B={};function W(J,re){z[I+"."+J]=P.nestedProperty(k,J).get(),s.call("_storeDirectGUIEdit",N,O._preGUI,z);var ne=P.nestedProperty(F,J);ne.get()!==re&&(ne.set(re),P.nestedProperty(k,J).set(re),B[I+"."+J]=re)}b(W),W("projection.scale",E.scale()/o.fitScale),W("fitbounds",!1),D.emit("plotly_relayout",B)}function n(o,E){var b=t(o,E);function I(){m.select(this).style(v)}function D(){E.scale(m.event.scale).translate(m.event.translate),o.render(!0);var O=E.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/o.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}function N(O){var F=E.invert(o.midPt);O("center.lon",F[0]),O("center.lat",F[1])}function k(){m.select(this).style(p),i(o,E,N)}return b.on("zoomstart",I).on("zoom",D).on("zoomend",k),b}function f(o,E){var b=t(o,E),I=2,D,N,k,O,F,z,B,W,J;function re(Y){return E.invert(Y)}function ne(Y){var Q=re(Y);if(!Q)return!0;var oe=E(Q);return Math.abs(oe[0]-Y[0])>I||Math.abs(oe[1]-Y[1])>I}function le(){m.select(this).style(v),D=m.mouse(this),N=E.rotate(),k=E.translate(),O=N,F=re(D)}function $(){if(z=m.mouse(this),ne(D)){b.scale(E.scale()),b.translate(E.translate());return}E.scale(m.event.scale),E.translate([k[0],m.event.translate[1]]),F?re(z)&&(W=re(z),B=[O[0]+(W[0]-F[0]),N[1],N[2]],E.rotate(B),O=B):(D=z,F=re(D)),J=!0,o.render(!0);var Y=E.rotate(),Q=E.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/o.fitScale,"geo.center.lon":Q[0],"geo.center.lat":Q[1],"geo.projection.rotation.lon":-Y[0]})}function K(){m.select(this).style(p),J&&i(o,E,ie)}function ie(Y){var Q=E.rotate(),oe=E.invert(o.midPt);Y("projection.rotation.lon",-Q[0]),Y("center.lon",oe[0]),Y("center.lat",oe[1])}return b.on("zoomstart",le).on("zoom",$).on("zoomend",K),b}function u(o,E){E.rotate(),E.scale();var b=t(o,E),I=A(b,"zoomstart","zoom","zoomend"),D=0,N=b.on,k;b.on("zoomstart",function(){m.select(this).style(v);var W=m.mouse(this),J=E.rotate(),re=J,ne=E.translate(),le=g(J);k=l(E,W),N.call(b,"zoom",function(){var $=m.mouse(this);if(E.scale(m.event.scale),!k)W=$,k=l(E,W);else if(l(E,$)){E.rotate(J).translate(ne);var K=l(E,$),ie=T(k,K),Y=w(h(le,ie)),Q=c(Y,k,re);(!isFinite(Q[0])||!isFinite(Q[1])||!isFinite(Q[2]))&&(Q=re),E.rotate(Q),re=Q}F(I.of(this,arguments))}),O(I.of(this,arguments))}).on("zoomend",function(){m.select(this).style(p),N.call(b,"zoom",null),z(I.of(this,arguments)),i(o,E,B)}).on("zoom.redraw",function(){o.render(!0);var W=E.rotate();o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/o.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function O(W){D++||W({type:"zoomstart"})}function F(W){W({type:"zoom"})}function z(W){--D||W({type:"zoomend"})}function B(W){var J=E.rotate();W("projection.rotation.lon",-J[0]),W("projection.rotation.lat",-J[1])}return m.rebind(b,I,"on")}function l(o,E){var b=o.invert(E);return b&&isFinite(b[0])&&isFinite(b[1])&&C(b)}function g(o){var E=.5*o[0]*L,b=.5*o[1]*L,I=.5*o[2]*L,D=Math.sin(E),N=Math.cos(E),k=Math.sin(b),O=Math.cos(b),F=Math.sin(I),z=Math.cos(I);return[N*O*z+D*k*F,D*O*z-N*k*F,N*k*z+D*O*F,N*O*F-D*k*z]}function h(o,E){var b=o[0],I=o[1],D=o[2],N=o[3],k=E[0],O=E[1],F=E[2],z=E[3];return[b*k-I*O-D*F-N*z,b*O+I*k+D*z-N*F,b*F-I*z+D*k+N*O,b*z+I*F-D*O+N*k]}function T(o,E){if(!(!o||!E)){var b=M(o,E),I=Math.sqrt(y(b,b)),D=.5*Math.acos(Math.max(-1,Math.min(1,y(o,E)))),N=Math.sin(D)/I;return I&&[Math.cos(D),b[2]*N,-b[1]*N,b[0]*N]}}function c(o,E,b){var I=x(E,2,o[0]);I=x(I,1,o[1]),I=x(I,0,o[2]-b[2]);var D=E[0],N=E[1],k=E[2],O=I[0],F=I[1],z=I[2],B=Math.atan2(N,D)*S,W=Math.sqrt(D*D+N*N),J,re;Math.abs(F)>W?(re=(F>0?90:-90)-B,J=0):(re=Math.asin(F/W)*S-B,J=Math.sqrt(W*W-F*F));var ne=180-re-2*B,le=(Math.atan2(z,O)-Math.atan2(k,J))*S,$=(Math.atan2(z,O)-Math.atan2(k,-J))*S,K=a(b[0],b[1],re,le),ie=a(b[0],b[1],ne,$);return K<=ie?[re,le,b[2]]:[ne,$,b[2]]}function a(o,E,b,I){var D=d(b-o),N=d(I-E);return Math.sqrt(D*D+N*N)}function d(o){return(o%360+540)%360-180}function x(o,E,b){var I=b*L,D=o.slice(),N=E===0?1:0,k=E===2?1:2,O=Math.cos(I),F=Math.sin(I);return D[N]=o[N]*O-o[k]*F,D[k]=o[k]*O+o[N]*F,D}function w(o){return[Math.atan2(2*(o[0]*o[1]+o[2]*o[3]),1-2*(o[1]*o[1]+o[2]*o[2]))*S,Math.asin(Math.max(-1,Math.min(1,2*(o[0]*o[2]-o[3]*o[1]))))*S,Math.atan2(2*(o[0]*o[3]+o[1]*o[2]),1-2*(o[2]*o[2]+o[3]*o[3]))*S]}function C(o){var E=o[0]*L,b=o[1]*L,I=Math.cos(b);return[I*Math.cos(E),I*Math.sin(E),Math.sin(b)]}function y(o,E){for(var b=0,I=0,D=o.length;I<D;++I)b+=o[I]*E[I];return b}function M(o,E){return[o[1]*E[2]-o[2]*E[1],o[2]*E[0]-o[0]*E[2],o[0]*E[1]-o[1]*E[0]]}function A(o){for(var E=0,b=arguments.length,I=[];++E<b;)I.push(arguments[E]);var D=m.dispatch.apply(null,I);return D.of=function(N,k){return function(O){var F;try{F=O.sourceEvent=m.event,O.target=o,m.event=O,D[O.type].apply(N,k)}finally{m.event=F}}},D}},84888:function(G,H,e){var m=e(24040),P=e(33816).SUBPLOT_PATTERN;H.KY=function(s,L,S){var v=m.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,r=[],t=0;t<s.length;t++){var i=s[t],n=i[0].trace;n[p]===S&&r.push(i)}return r},H._M=function(s,L,S){var v=[],p=[],r;if(typeof L=="string"?r=m.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[v,s];for(var t=S,i=0;i<s.length;i++){var n=s[i],f=n[0].trace,u=f.zorder!==void 0;f.visible!==!0||f._length===0||(f._module&&f._module.plot===r&&(!u||f.zorder===t)?v.push(n):p.push(n))}return[v,p]},H.op=function(L,S,v){if(!m.subplotsRegistry[S])return[];var p=m.subplotsRegistry[S].attr,r=[],t,i,n;if(S==="gl2d"){var f=v.match(P);i="x"+f[1],n="y"+f[2]}for(var u=0;u<L.length;u++)t=L[u],S==="gl2d"&&m.traceIs(t,"gl2d")?t[p[0]]===i&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(G,H,e){var m=e(62644),P=e(97264),s=e(29128),L=e(33816),S=e(89184);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,i=r.glplot,n=new v(t,i);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,T=r.yaxis._id,c=0;c<g.length;c++)if(g[c][h]!==-1){if(g[c][T]!==-1)return!0;break}return!1}n.mouseListener=m(t,l),t.addEventListener("touchstart",function(g){var h=s(g.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),g.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var h=s(g.changedTouches[0],t);l(1,h[0],h[1]),g.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchend",function(g){l(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},S?{passive:!1}:!1);function l(g,h,T){var c=r.calcDataBox(),a=i.viewBox,d=n.lastPos[0],x=n.lastPos[1],w=L.MINDRAG*i.pixelRatio,C=L.MINZOOM*i.pixelRatio,y,M;h*=i.pixelRatio,T*=i.pixelRatio,T=a[3]-a[1]-T;function A(N,k,O){var F=Math.min(k,O),z=Math.max(k,O);F!==z?(c[N]=F,c[N+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var o=h/(a[2]-a[0])*(c[2]-c[0])+c[0],E=T/(a[3]-a[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=o,n.boxStart[1]=E,n.dragStart[0]=h,n.dragStart[1]=T),n.boxEnd[0]=o,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-h)<C,I=Math.abs(n.dragStart[1]-T)<C;if(u()&&!(b&&I)){y=n.boxEnd[0]-n.boxStart[0],M=n.boxEnd[1]-n.boxStart[1];var D=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*D)>Math.abs(M)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(y)*D*(M>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(D)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(D))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(M)/D*(y>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(D)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(D)))}else b&&(n.boxEnd[0]=n.boxStart[0]),I&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(y=n.boxStart[0]!==n.boxEnd[0],M=n.boxStart[1]!==n.boxEnd[1],y||M?(y&&(A(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),M&&(A(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=T),Math.abs(n.dragStart[0]-h)<w&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),y=(d-h)*(c[2]-c[0])/(i.viewBox[2]-i.viewBox[0]),M=(x-T)*(c[3]-c[1])/(i.viewBox[3]-i.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=M,c[3]+=M,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=T}return n.wheelListener=P(t,function(g,h){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),c=i.viewBox,a=n.lastPos[0],d=n.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),w=a/(c[2]-c[0])*(T[2]-T[0])+T[0],C=d/(c[3]-c[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*x+w,T[2]=(T[2]-w)*x+w,T[1]=(T[1]-C)*x+C,T[3]=(T[3]-C)*x+C,r.setRanges(T),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(G,H,e){var m=e(54460),P=e(43080);function s(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=s.prototype,S=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,i,n,f,u,l,g,h,T,c;for(T=0;T<2;++T){r=S[T];var a=r.charAt(0);for(t=p[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[a]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[T+c]=!1,this.labels[T+c]=i,this.labelColor[T+c]=P(t.title.font.color),this.labelFont[T+c]=t.title.font.family,this.labelSize[T+c]=t.title.font.size,this.labelPad[T+c]=this.getLabelPad(r,t),this.tickEnable[T+c]=!1,this.tickColor[T+c]=P((t.tickfont||{}).color),this.tickAngle[T+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+c]=this.getTickPad(t),this.tickMarkLength[T+c]=0,this.tickMarkWidth[T+c]=t.tickwidth||0,this.tickMarkColor[T+c]=P(t.tickcolor),this.borderLineEnable[T+c]=!1,this.borderLineColor[T+c]=P(t.linecolor),this.borderLineWidth[T+c]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,g=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),f?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(f||g)&&(this.borderLineEnable[T]=t.showline),(u||g)&&(this.borderLineEnable[T+2]=t.showline),(f||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},L.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=m.findSubplotsWithAxis(t,p);return i.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},L.getLabelPad=function(p,r){var t=1.5,i=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+i*(t+(n?1:0)):-10+i*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new s(p)}G.exports=v},39952:function(G,H,e){var m=e(67824).overrideAll,P=e(17188),s=e(64859),L=e(9616),S=e(33816),v=e(57952),p=e(65460),r=e(84888).op;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=S.idRegex,H.attrRegex=S.attrRegex,H.attributes=e(26720),H.supplyLayoutDefaults=function(t,i,n){i._has("cartesian")||v.supplyLayoutDefaults(t,i,n)},H.layoutAttrOverrides=m(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=m({plot_bgcolor:s.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),H.plot=function(i){for(var n=i._fullLayout,f=i._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var g=u[l],h=n._plots[g],T=r(f,"gl2d",g),c=h._scene2d;c===void 0&&(c=new P({id:g,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(T,i.calcdata,n,i.layout)}},H.clean=function(t,i,n,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var g=u[l],h=f._plots[g];if(h._scene2d){var T=r(t,"gl2d",g);T.length===0&&(h._scene2d.destroy(),delete f._plots[g])}}v.clean.apply(this,arguments)},H.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},H.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,f=0;f<n.length;f++){var u=i._plots[n[f]],l=u._scene2d,g=l.toImage("png"),h=i._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},H.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,f=0;f<n.length;f++){var u=i._plots[n[f]]._scene2d;u.updateFx(i.dragmode)}}},17188:function(G,H,e){var m=e(24040),P=e(54460),s=e(93024),L=e(67792).gl_plot2d,S=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),i=e(16576),n=e(71888),f=n.enforce,u=n.clean,l=e(19280).doAutoRange,g=e(72760),h=g.drawMode,T=g.selectMode,c=["xaxis","yaxis"],a,d,x=e(33816).SUBPLOT_PATTERN;function w(M,A){this.container=M.container,this.graphDiv=M.graphDiv,this.pixelRatio=M.plotGlPixelRatio||window.devicePixelRatio,this.id=M.id,this.staticPlot=!!M.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(A),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=S(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var C=w.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(a=document.createElement("canvas"),d=p({canvas:a,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=a,this.gl=d}else{var M=this.container.querySelector(".gl-canvas-focus"),A=p({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){i(this),this.stopped=!0;return}this.canvas=M,this.gl=A}var o=this.canvas;o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",this.updateSize(o);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var I=this.container;I.appendChild(E),I.appendChild(b);var D=this;b.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),b.addEventListener("mouseover",function(){D.isMouseOver=!0})},C.toImage=function(M){M||(M="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(a),this.updateSize(this.canvas);var A=this.glplot.gl,o=A.drawingBufferWidth,E=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var b=new Uint8Array(o*E*4);A.readPixels(0,0,o,E,A.RGBA,A.UNSIGNED_BYTE,b);for(var I=0,D=E-1;I<D;++I,--D)for(var N=0;N<o;++N)for(var k=0;k<4;++k){var O=b[4*(o*I+N)+k];b[4*(o*I+N)+k]=b[4*(o*D+N)+k],b[4*(o*D+N)+k]=O}var F=document.createElement("canvas");F.width=o,F.height=E;var z=F.getContext("2d",{willReadFrequently:!0}),B=z.createImageData(o,E);B.data.set(b),z.putImageData(B,0,0);var W;switch(M){case"jpeg":W=F.toDataURL("image/jpeg");break;case"webp":W=F.toDataURL("image/webp");break;default:W=F.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(a),W},C.updateSize=function(M){M||(M=this.canvas);var A=this.pixelRatio,o=this.fullLayout,E=o.width,b=o.height,I=Math.ceil(A*E)|0,D=Math.ceil(A*b)|0;return(M.width!==I||M.height!==D)&&(M.width=I,M.height=D),M},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var M=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],A=0;A<2;++A)for(var o=0;o<M[A].length;++o)M[A][o].text=M[A][o].text+"";return M};function y(M,A){for(var o=0;o<2;++o){var E=M[o],b=A[o];if(E.length!==b.length)return!0;for(var I=0;I<E.length;++I)if(E[I].x!==b[I].x)return!0}return!1}C.updateRefs=function(M){this.fullLayout=M;var A=this.id.match(x),o="xaxis"+A[1],E="yaxis"+A[2];this.xaxis=this.fullLayout[o],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var M=this.graphDiv,A=this.xaxis,o=this.yaxis,E=M.layout,b={},I=b[A._name+".range"]=A.range.slice(),D=b[o._name+".range"]=o.range.slice();b[A._name+".autorange"]=A.autorange,b[o._name+".autorange"]=o.autorange,m.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,b);var N=E[A._name];N.range=I,N.autorange=A.autorange;var k=E[o._name];k.range=D,k.autorange=o.autorange,b.lastInputTime=this.camera.lastInputTime,M.emit("plotly_relayout",b)},C.cameraChanged=function(){var M=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),o=this.glplotOptions.ticks;y(A,o)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=M.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var M=this.graphDiv,A=this.fullLayout.annotations,o=0;o<A.length;o++){var E=A[o];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&m.getComponentMethod("annotations","drawOne")(M,o)}},C.destroy=function(){if(this.glplot){var M=this.traces;M&&Object.keys(M).map(function(A){M[A].dispose(),delete M[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(M,A,o){var E=this.glplot;this.updateRefs(o),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(M,A),this.updateFx(o.dragmode);var b=o.width,I=o.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(o),D.screenBox=[0,0,b,I];var N={_fullLayout:{_axisConstraintGroups:o._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:o._size}};u(N,this.xaxis),u(N,this.yaxis);var k=o._size,O=this.xaxis.domain,F=this.yaxis.domain;D.viewBox=[k.l+O[0]*k.w,k.b+F[0]*k.h,b-k.r-(1-O[1])*k.w,I-k.t-(1-F[1])*k.h],this.mouseContainer.style.width=k.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=k.h*(F[1]-F[0])+"px",this.mouseContainer.height=k.h*(F[1]-F[0]),this.mouseContainer.style.left=k.l+O[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-F[1])*k.h+"px";var z,B;for(B=0;B<2;++B)z=this[c[B]],z._length=D.viewBox[B+2]-D.viewBox[B],l(this.graphDiv,z),z.setScale();f(N),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(o),E.update(D),this.glplot.draw()},C.calcDataBox=function(){var M=this.xaxis,A=this.yaxis,o=M.range,E=A.range,b=M.r2l,I=A.r2l;return[b(o[0]),I(E[0]),b(o[1]),I(E[1])]},C.setRanges=function(M){var A=this.xaxis,o=this.yaxis,E=A.l2r,b=o.l2r;A.range=[E(M[0]),E(M[2])],o.range=[b(M[1]),b(M[3])]},C.updateTraces=function(M,A){var o=Object.keys(this.traces),E,b,I;this.fullData=M;e:for(E=0;E<o.length;E++){var D=o[E],N=this.traces[D];for(b=0;b<M.length;b++)if(I=M[b],I.uid===D&&I.type===N.type)continue e;N.dispose(),delete this.traces[D]}for(E=0;E<M.length;E++){I=M[E];var k=A[E],O=this.traces[I.uid];O?O.update(I,k):(O=I._module.plot(this,I,k),this.traces[I.uid]=O)}this.glplot.objects.sort(function(F,z){return F._trace.index-z._trace.index})},C.updateFx=function(M){T(M)||h(M)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),M==="pan"?this.mouseContainer.style.cursor="move":M==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(M,A){for(var o=M.trace.uid,E=M.pointIndex,b,I=0;I<this.fullData.length;I++)this.fullData[I].uid===o&&(b=this.fullData[I]);var D={x:M.traceCoord[0],y:M.traceCoord[1],curveNumber:b.index,pointNumber:E,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(D,b,E),this.graphDiv.emit(A,{points:[D]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var M=this.glplot,A=this.camera,o=A.mouseListener,E=this.lastButtonState===1&&o.buttons===0,b=this.fullLayout;this.lastButtonState=o.buttons,this.cameraChanged();var I=o.x*M.pixelRatio,D=this.canvas.height-M.pixelRatio*o.y,N;if(A.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],O=0;O<2;O++)A.boxStart[O]===A.boxEnd[O]&&(k[O]=M.dataBox[O],k[O+2]=M.dataBox[O+2]);M.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var F=b._size,z=this.xaxis.domain,B=this.yaxis.domain;N=M.pick(I/M.pixelRatio+F.l+z[0]*F.w,D/M.pixelRatio-(F.t+(1-B[1])*F.h));var W=N&&N.object._trace.handlePick(N);if(W&&E&&this.emitPointAction(W,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&b.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var J=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),J.screenCoord=[((M.viewBox[2]-M.viewBox[0])*(N.dataCoord[0]-M.dataBox[0])/(M.dataBox[2]-M.dataBox[0])+M.viewBox[0])/M.pixelRatio,(this.canvas.height-(M.viewBox[3]-M.viewBox[1])*(N.dataCoord[1]-M.dataBox[1])/(M.dataBox[3]-M.dataBox[1])-M.viewBox[1])/M.pixelRatio],this.emitPointAction(W,"plotly_hover");var re=this.fullData[J.trace.index]||{},ne=J.pointIndex,le=s.castHoverinfo(re,b,ne);if(le&&le!=="all"){var $=le.split("+");$.indexOf("x")===-1&&(J.traceCoord[0]=void 0),$.indexOf("y")===-1&&(J.traceCoord[1]=void 0),$.indexOf("z")===-1&&(J.traceCoord[2]=void 0),$.indexOf("text")===-1&&(J.textLabel=void 0),$.indexOf("name")===-1&&(J.name=void 0)}s.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:s.castHoverOption(re,ne,"bgcolor")||J.color,borderColor:s.castHoverOption(re,ne,"bordercolor"),fontFamily:s.castHoverOption(re,ne,"font.family"),fontSize:s.castHoverOption(re,ne,"font.size"),fontColor:s.castHoverOption(re,ne,"font.color"),nameLength:s.castHoverOption(re,ne,"namelength"),textAlign:s.castHoverOption(re,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),M.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},C.hoverFormatter=function(M,A){if(A!==void 0){var o=this[M];return P.tickText(o,o.c2l(A),"hover").text}}},12536:function(G,H,e){var m=e(67824).overrideAll,P=e(65460),s=e(98432),L=e(84888).op,S=e(3400),v=e(9616),p="gl3d",r="scene";H.name=p,H.attr=r,H.idRoot=r,H.idRegex=H.attrRegex=S.counterRegex("scene"),H.attributes=e(6636),H.layoutAttributes=e(346),H.baseLayoutAttrOverrides=m({hoverlabel:P.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(5208),H.plot=function(i){for(var n=i._fullLayout,f=i._fullData,u=n._subplots[p],l=0;l<u.length;l++){var g=u[l],h=L(f,p,g),T=n[g],c=T.camera,a=T._scene;a||(a=new s({id:g,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:c},n),T._scene=a),a.viewInitial||(a.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),a.plot(h,n,i.layout)}},H.clean=function(t,i,n,f){for(var u=f._subplots[p]||[],l=0;l<u.length;l++){var g=u[l];!i[g]&&f[g]._scene&&(f[g]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+g).remove())}},H.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots[p],f=i._size,u=0;u<n.length;u++){var l=i[n[u]],g=l.domain,h=l._scene,T=h.toImage("png"),c=i._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":T,x:f.l+f.w*g.x[0],y:f.t+f.h*(1-g.y[1]),width:f.w*(g.x[1]-g.x[0]),height:f.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),h.destroy()}},H.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),r+n}},H.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots[p],f=0;f<n.length;f++){var u=i[n[f]]._scene;u.updateFx(i.dragmode,i.hovermode)}}},6636:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(G,H,e){var m=e(76308),P=e(94724),s=e(92880).extendFlat,L=e(67824).overrideAll;G.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:m.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:s({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:s({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:s({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(G,H,e){var m=e(49760).mix,P=e(3400),s=e(31780),L=e(86140),S=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*136/187;G.exports=function(i,n,f){var u,l;function g(c,a){return P.coerce(u,l,L,c,a)}for(var h=0;h<p.length;h++){var T=p[h];u=i[T]||{},l=s.newContainer(n,T),l._id=T[0]+f.scene,l._name=T,S(u,l,g,f),v(u,l,g,{font:f.font,letter:T[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),g("gridcolor",m(l.color,f.bgColor,r).toRgbString()),g("title.text",T[0]),l.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",l.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},44728:function(G,H,e){var m=e(43080),P=e(3400),s=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var S=L.prototype;S.merge=function(p,r){for(var t=this,i=0;i<3;++i){var n=r[s[i]];if(!n.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[i]=m(n.title.font.color)),n.title.font.family&&(t.labelFont[i]=n.title.font.family),n.title.font.size&&(t.labelSize[i]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[i]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[i]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[i]=n.title.font.variant)),"showline"in n&&(t.lineEnable[i]=n.showline),"linecolor"in n&&(t.lineColor[i]=m(n.linecolor)),"linewidth"in n&&(t.lineWidth[i]=n.linewidth),"showgrid"in n&&(t.gridEnable[i]=n.showgrid),"gridcolor"in n&&(t.gridColor[i]=m(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[i]=n.gridwidth),n.type==="log"?t.zeroEnable[i]=!1:"zeroline"in n&&(t.zeroEnable[i]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[i]=m(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[i]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in n&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[i]=m(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[i]=n.tickwidth),"tickangle"in n&&(t.tickAngle[i]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[i]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[i]=m(n.tickfont.color)),n.tickfont.family&&(t.tickFont[i]=n.tickfont.family),n.tickfont.size&&(t.tickSize[i]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[i]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[i]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[i]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):n.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=m(n.backgroundcolor)):t.backgroundEnable[i]=!1}};function v(p,r){var t=new L;return t.merge(p,r),t}G.exports=v},5208:function(G,H,e){var m=e(3400),P=e(76308),s=e(24040),L=e(168),S=e(64380),v=e(346),p=e(84888).op,r="gl3d";G.exports=function(n,f,u){var l=f._basePlotModules.length>1;function g(h){if(!l){var T=m.validate(n[h],v[h]);if(T)return n[h]}}L(n,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:g,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(i,n,f,u){for(var l=f("bgcolor"),g=P.combine(l,u.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)f("camera."+h[T]+".x"),f("camera."+h[T]+".y"),f("camera."+h[T]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),a=c?"manual":"auto",d=f("aspectmode",a);c||(i.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),i.aspectmode=n.aspectmode);var x=p(u.fullData,r,u.id);S(i,n,{font:u.font,scene:u.id,data:x,bgColor:g,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),s.getComponentMethod("annotations3d","handleDefaults")(i,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",i.camera&&i.camera.up){var C=i.camera.up.x,y=i.camera.up.y,M=i.camera.up.z;M!==0&&(!C||!y||!M||M/Math.sqrt(C*C+y*y+M*M)>.999)&&(w="turntable")}else w="turntable";f("dragmode",w),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(G,H,e){var m=e(86140),P=e(86968).u,s=e(92880).extendFlat,L=e(3400).counterRegex;function S(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:s(S(0,0,1),{}),center:s(S(0,0,0),{}),eye:s(S(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:m,yaxis:m,zaxis:m,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(G,H,e){var m=e(43080),P=["xaxis","yaxis","zaxis"];function s(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=s.prototype;L.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=m(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function S(v){var p=new s;return p.merge(v),p}G.exports=S},87152:function(G,H,e){G.exports=S;var m=e(54460),P=e(3400),s=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],i=new Array(t.length),n=0;n<t.length;++n)i[n]=t[n].x;p[r]=i}return p}function S(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var f=t[s[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))i[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||P.constrain(f._length/40,4,9);m.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var g=m.calcTicks(f,{msUTC:!0}),h=0;h<g.length;++h)g[h].x=g[h].x*v.dataScale[n],f.type==="date"&&(g[h].text=g[h].text.replace(/\<br\>/g," "));i[n]=g,f.tickmode=u}}p.ticks=i;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=L(i)}},94424:function(G){function H(m,P){var s=[0,0,0,0],L,S;for(L=0;L<4;++L)for(S=0;S<4;++S)s[S]+=m[4*L+S]*P[L];return s}function e(m,P){var s=H(m.projection,H(m.view,H(m.model,[P[0],P[1],P[2],1])));return s}G.exports=e},98432:function(G,H,e){var m=e(67792).gl_plot3d,P=m.createCamera,s=m.createScene,L=e(5408),S=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),i=e(93024),n=e(43080),f=e(16576),u=e(94424),l=e(44728),g=e(9020),h=e(87152),T=e(19280).applyAutorangeOptions,c,a,d=!1;function x(D,N){var k=document.createElement("div"),O=D.container;this.graphDiv=D.graphDiv;var F=document.createElementNS("http://www.w3.org/2000/svg","svg");F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",F.style["z-index"]=20,F.style["pointer-events"]="none",k.appendChild(F),this.svgContainer=F,k.id=D.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",O.appendChild(k),this.fullLayout=N,this.id=D.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=g(N[this.id]),this.container=k,this.staticMode=!!D.staticPlot,this.pixelRatio=this.pixelRatio||D.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=x.prototype;w.prepareOptions=function(){var D=this,N={canvas:D.canvas,gl:D.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:D.container,axes:D.axesOptions,spikes:D.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:D.camera,pixelRatio:D.pixelRatio};if(D.staticMode){if(!a&&(c=document.createElement("canvas"),a=L({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!a))throw new Error("error creating static canvas/context for image server");N.gl=a,N.canvas=c}return N};var C=!0;w.tryCreatePlot=function(){var D=this,N=D.prepareOptions(),k=!0;try{D.glplot=s(N)}catch{if(D.staticMode||!C||r)k=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,D.glplot=s(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,k=!1}}}return C=!1,k},w.initializeGLCamera=function(){var D=this,N=D.fullSceneLayout.camera,k=N.projection.type==="orthographic";D.camera=P(D.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:k,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var D=this;D.initializeGLCamera();var N=D.tryCreatePlot();if(!N)return f(D);D.traces={},D.make4thDimension();var k=D.graphDiv,O=k.layout,F=function(){var B={};return D.isCameraChanged(O)&&(B[D.id+".camera"]=D.getCamera()),D.isAspectChanged(O)&&(B[D.id+".aspectratio"]=D.glplot.getAspectratio(),O[D.id].aspectmode!=="manual"&&(D.fullSceneLayout.aspectmode=O[D.id].aspectmode=B[D.id+".aspectmode"]="manual")),B},z=function(B){if(B.fullSceneLayout.dragmode!==!1){var W=F();B.saveLayout(O),B.graphDiv.emit("plotly_relayout",W)}};return D.glplot.canvas&&(D.glplot.canvas.addEventListener("mouseup",function(){z(D)}),D.glplot.canvas.addEventListener("touchstart",function(){d=!0}),D.glplot.canvas.addEventListener("wheel",function(B){if(k._context._scrollZoom.gl3d){if(D.camera._ortho){var W=B.deltaX>B.deltaY?1.1:.9090909090909091,J=D.glplot.getAspectratio();D.glplot.setAspectratio({x:W*J.x,y:W*J.y,z:W*J.z})}z(D)}},S?{passive:!1}:!1),D.glplot.canvas.addEventListener("mousemove",function(){if(D.fullSceneLayout.dragmode!==!1&&D.camera.mouseListener.buttons!==0){var B=F();D.graphDiv.emit("plotly_relayouting",B)}}),D.staticMode||D.glplot.canvas.addEventListener("webglcontextlost",function(B){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:B,layer:D.id})},!1)),D.glplot.oncontextloss=function(){D.recoverContext()},D.glplot.onrender=function(){D.render()},!0},w.render=function(){var D=this,N=D.graphDiv,k,O=D.svgContainer,F=D.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var z=N._fullLayout._invScaleX,B=N._fullLayout._invScaleY,W=F.width*z,J=F.height*B;O.setAttributeNS(null,"viewBox","0 0 "+W+" "+J),O.setAttributeNS(null,"width",W),O.setAttributeNS(null,"height",J),h(D),D.glplot.axes.update(D.axesOptions);for(var re=Object.keys(D.traces),ne=null,le=D.glplot.selection,$=0;$<re.length;++$)k=D.traces[re[$]],k.data.hoverinfo!=="skip"&&k.handlePick(le)&&(ne=k),k.setContourLevels&&k.setContourLevels();function K(_e,De,Fe){var Te=D.fullSceneLayout[_e+"axis"];return Te.type!=="log"&&(De=Te.d2l(De)),t.hoverLabelText(Te,De,Fe)}if(ne!==null){var ie=u(D.glplot.cameraParams,le.dataCoordinate);k=ne.data;var Y=N._fullData[k.index],Q=le.index,oe={xLabel:K("x",le.traceCoordinate[0],k.xhoverformat),yLabel:K("y",le.traceCoordinate[1],k.yhoverformat),zLabel:K("z",le.traceCoordinate[2],k.zhoverformat)},X=i.castHoverinfo(Y,D.fullLayout,Q),j=(X||"").split("+"),se=X&&X==="all";!Y.hovertemplate&&!se&&(j.indexOf("x")===-1&&(oe.xLabel=void 0),j.indexOf("y")===-1&&(oe.yLabel=void 0),j.indexOf("z")===-1&&(oe.zLabel=void 0),j.indexOf("text")===-1&&(le.textLabel=void 0),j.indexOf("name")===-1&&(ne.name=void 0));var te,fe=[];k.type==="cone"||k.type==="streamtube"?(oe.uLabel=K("x",le.traceCoordinate[3],k.uhoverformat),(se||j.indexOf("u")!==-1)&&fe.push("u: "+oe.uLabel),oe.vLabel=K("y",le.traceCoordinate[4],k.vhoverformat),(se||j.indexOf("v")!==-1)&&fe.push("v: "+oe.vLabel),oe.wLabel=K("z",le.traceCoordinate[5],k.whoverformat),(se||j.indexOf("w")!==-1)&&fe.push("w: "+oe.wLabel),oe.normLabel=le.traceCoordinate[6].toPrecision(3),(se||j.indexOf("norm")!==-1)&&fe.push("norm: "+oe.normLabel),k.type==="streamtube"&&(oe.divergenceLabel=le.traceCoordinate[7].toPrecision(3),(se||j.indexOf("divergence")!==-1)&&fe.push("divergence: "+oe.divergenceLabel)),le.textLabel&&fe.push(le.textLabel),te=fe.join("<br>")):k.type==="isosurface"||k.type==="volume"?(oe.valueLabel=t.hoverLabelText(D._mockAxis,D._mockAxis.d2l(le.traceCoordinate[3]),k.valuehoverformat),fe.push("value: "+oe.valueLabel),le.textLabel&&fe.push(le.textLabel),te=fe.join("<br>")):te=le.textLabel;var ge={x:le.traceCoordinate[0],y:le.traceCoordinate[1],z:le.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:Q};i.appendArrayPointValue(ge,Y,Q),k._module.eventData&&(ge=Y._module.eventData(ge,le,Y,{},Q));var be={points:[ge]};if(D.fullSceneLayout.hovermode){var xe=[];i.loneHover({trace:Y,x:(.5+.5*ie[0]/ie[3])*W,y:(.5-.5*ie[1]/ie[3])*J,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:te,name:ne.name,color:i.castHoverOption(Y,Q,"bgcolor")||ne.color,borderColor:i.castHoverOption(Y,Q,"bordercolor"),fontFamily:i.castHoverOption(Y,Q,"font.family"),fontSize:i.castHoverOption(Y,Q,"font.size"),fontColor:i.castHoverOption(Y,Q,"font.color"),nameLength:i.castHoverOption(Y,Q,"namelength"),textAlign:i.castHoverOption(Y,Q,"align"),hovertemplate:p.castOption(Y,Q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ge,oe),eventData:[ge]},{container:O,gd:N,inOut_bbox:xe}),ge.bbox=xe[0]}le.distance<5&&(le.buttons||d)?N.emit("plotly_click",be):N.emit("plotly_hover",be),this.oldEventData=be}else i.loneUnhover(O),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},w.recoverContext=function(){var D=this;D.glplot.dispose();var N=function(){if(D.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!D.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}D.plot.apply(D,D.plotArgs)};requestAnimationFrame(N)};var y=["xaxis","yaxis","zaxis"];function M(D,N,k){for(var O=D.fullSceneLayout,F=0;F<3;F++){var z=y[F],B=z.charAt(0),W=O[z],J=N[B],re=N[B+"calendar"],ne=N["_"+B+"length"];if(!p.isArrayOrTypedArray(J))k[0][F]=Math.min(k[0][F],0),k[1][F]=Math.max(k[1][F],ne-1);else for(var le,$=0;$<(ne||J.length);$++)if(p.isArrayOrTypedArray(J[$]))for(var K=0;K<J[$].length;++K)le=W.d2l(J[$][K],0,re),!isNaN(le)&&isFinite(le)&&(k[0][F]=Math.min(k[0][F],le),k[1][F]=Math.max(k[1][F],le));else le=W.d2l(J[$],0,re),!isNaN(le)&&isFinite(le)&&(k[0][F]=Math.min(k[0][F],le),k[1][F]=Math.max(k[1][F],le))}}function A(D,N){for(var k=D.fullSceneLayout,O=k.annotations||[],F=0;F<3;F++)for(var z=y[F],B=z.charAt(0),W=k[z],J=0;J<O.length;J++){var re=O[J];if(re.visible){var ne=W.r2l(re[B]);!isNaN(ne)&&isFinite(ne)&&(N[0][F]=Math.min(N[0][F],ne),N[1][F]=Math.max(N[1][F],ne))}}}w.plot=function(D,N,k){var O=this;if(O.plotArgs=[D,N,k],!O.glplot.contextLost){var F,z,B,W,J,re,ne=N[O.id],le=k[O.id];O.fullLayout=N,O.fullSceneLayout=ne,O.axesOptions.merge(N,ne),O.spikeOptions.merge(ne),O.setViewport(ne),O.updateFx(ne.dragmode,ne.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(n(ne.bgcolor)),O.setConvert(J),D?Array.isArray(D)||(D=[D]):D=[];var $=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<D.length;++B)F=D[B],!(F.visible!==!0||F._length===0)&&M(this,F,$);A(this,$);var K=[1,1,1];for(W=0;W<3;++W)$[1][W]===$[0][W]?K[W]=1:K[W]=1/($[1][W]-$[0][W]);for(O.dataScale=K,O.convertAnnotations(this),B=0;B<D.length;++B)F=D[B],!(F.visible!==!0||F._length===0)&&(z=O.traces[F.uid],z?z.data.type===F.type?z.update(F):(z.dispose(),z=F._module.plot(this,F),O.traces[F.uid]=z):(z=F._module.plot(this,F),O.traces[F.uid]=z),z.name=F.name);var ie=Object.keys(O.traces);e:for(B=0;B<ie.length;++B){for(W=0;W<D.length;++W)if(D[W].uid===ie[B]&&D[W].visible===!0&&D[W]._length!==0)continue e;z=O.traces[ie[B]],z.dispose(),delete O.traces[ie[B]]}O.glplot.objects.sort(function(it,Je){return it._trace.data.index-Je._trace.data.index});var Y=[[0,0,0],[0,0,0]],Q={};for(B=0;B<3;++B){J=ne[y[B]],re=J.type,re in Q?(Q[re].acc*=K[B],Q[re].count+=1):Q[re]={acc:K[B],count:1};var oe;if(J.autorange){Y[0][B]=1/0,Y[1][B]=-1/0;var X=O.glplot.objects,j=O.fullSceneLayout.annotations||[],se=J._name.charAt(0);for(W=0;W<X.length;W++){var te=X[W],fe=te.bounds,ge=te._trace.data._pad||0;te.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?Y[0][B]=Math.min(Y[0][B],J._lowerLogErrorBound):Y[0][B]=Math.min(Y[0][B],fe[0][B]/K[B]-ge),Y[1][B]=Math.max(Y[1][B],fe[1][B]/K[B]+ge)}for(W=0;W<j.length;W++){var be=j[W];if(be.visible){var xe=J.r2l(be[se]);Y[0][B]=Math.min(Y[0][B],xe),Y[1][B]=Math.max(Y[1][B],xe)}}if("rangemode"in J&&J.rangemode==="tozero"&&(Y[0][B]=Math.min(Y[0][B],0),Y[1][B]=Math.max(Y[1][B],0)),Y[0][B]>Y[1][B])Y[0][B]=-1,Y[1][B]=1;else{var _e=Y[1][B]-Y[0][B];Y[0][B]-=_e/32,Y[1][B]+=_e/32}if(oe=[Y[0][B],Y[1][B]],oe=T(oe,J),Y[0][B]=oe[0],Y[1][B]=oe[1],J.isReversed()){var De=Y[0][B];Y[0][B]=Y[1][B],Y[1][B]=De}}else oe=J.range,Y[0][B]=J.r2l(oe[0]),Y[1][B]=J.r2l(oe[1]);Y[0][B]===Y[1][B]&&(Y[0][B]-=1,Y[1][B]+=1),J.range=[Y[0][B],Y[1][B]],J.limitRange(),O.glplot.setBounds(B,{min:J.range[0]*K[B],max:J.range[1]*K[B]})}var Fe,Te=ne.aspectmode;if(Te==="cube")Fe=[1,1,1];else if(Te==="manual"){var Re=ne.aspectratio;Fe=[Re.x,Re.y,Re.z]}else if(Te==="auto"||Te==="data"){var Se=[1,1,1];for(B=0;B<3;++B){J=ne[y[B]],re=J.type;var Ie=Q[re];Se[B]=Math.pow(Ie.acc,1/Ie.count)/K[B]}Te==="data"||Math.max.apply(null,Se)/Math.min.apply(null,Se)<=4?Fe=Se:Fe=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=le.aspectratio.x=Fe[0],ne.aspectratio.y=le.aspectratio.y=Fe[1],ne.aspectratio.z=le.aspectratio.z=Fe[2],O.glplot.setAspectratio(ne.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=ne.aspectmode);var Me=ne.domain||null,Ve=N._size||null;if(Me&&Ve){var et=O.container.style;et.position="absolute",et.left=Ve.l+Me.x[0]*Ve.w+"px",et.top=Ve.t+(1-Me.y[1])*Ve.h+"px",et.width=Ve.w*(Me.x[1]-Me.x[0])+"px",et.height=Ve.h*(Me.y[1]-Me.y[0])+"px"}O.glplot.redraw()}},w.destroy=function(){var D=this;D.glplot&&(D.camera.mouseListener.enabled=!1,D.container.removeEventListener("wheel",D.camera.wheelListener),D.camera=null,D.glplot.dispose(),D.container.parentNode.removeChild(D.container),D.glplot=null)};function o(D){return[[D.eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]}function E(D){return{up:{x:D.up[0],y:D.up[1],z:D.up[2]},center:{x:D.center[0],y:D.center[1],z:D.center[2]},eye:{x:D.eye[0],y:D.eye[1],z:D.eye[2]},projection:{type:D._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),E(D.camera)},w.setViewport=function(D){var N=this,k=D.camera;N.camera.lookAt.apply(this,o(k)),N.glplot.setAspectratio(D.aspectratio);var O=k.projection.type==="orthographic",F=N.camera._ortho;O!==F&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},w.isCameraChanged=function(D){var N=this,k=N.getCamera(),O=p.nestedProperty(D,N.id+".camera"),F=O.get();function z(re,ne,le,$){var K=["up","center","eye"],ie=["x","y","z"];return ne[K[le]]&&re[K[le]][ie[$]]===ne[K[le]][ie[$]]}var B=!1;if(F===void 0)B=!0;else{for(var W=0;W<3;W++)for(var J=0;J<3;J++)if(!z(k,F,W,J)){B=!0;break}(!F.projection||k.projection&&k.projection.type!==F.projection.type)&&(B=!0)}return B},w.isAspectChanged=function(D){var N=this,k=N.glplot.getAspectratio(),O=p.nestedProperty(D,N.id+".aspectratio"),F=O.get();return F===void 0||F.x!==k.x||F.y!==k.y||F.z!==k.z},w.saveLayout=function(D){var N=this,k=N.fullLayout,O,F,z,B,W,J,re=N.isCameraChanged(D),ne=N.isAspectChanged(D),le=re||ne;if(le){var $={};if(re&&(O=N.getCamera(),F=p.nestedProperty(D,N.id+".camera"),z=F.get(),$[N.id+".camera"]=z),ne&&(B=N.glplot.getAspectratio(),W=p.nestedProperty(D,N.id+".aspectratio"),J=W.get(),$[N.id+".aspectratio"]=J),v.call("_storeDirectGUIEdit",D,k._preGUI,$),re){F.set(O);var K=p.nestedProperty(k,N.id+".camera");K.set(O)}if(ne){W.set(B);var ie=p.nestedProperty(k,N.id+".aspectratio");ie.set(B),N.glplot.redraw()}}return le},w.updateFx=function(D,N){var k=this,O=k.camera;if(O)if(D==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(D==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var F=k.graphDiv,z=F._fullLayout,B=k.fullSceneLayout.camera,W=B.up.x,J=B.up.y,re=B.up.z;if(re/Math.sqrt(W*W+J*J+re*re)<.999){var ne=k.id+".camera.up",le={x:0,y:0,z:1},$={};$[ne]=le;var K=F.layout;v.call("_storeDirectGUIEdit",K,z._preGUI,$),B.up=le,p.nestedProperty(K,ne).set(le)}}else O.keyBindingMode=D;k.fullSceneLayout.hovermode=N};function b(D,N,k){for(var O=0,F=k-1;O<F;++O,--F)for(var z=0;z<N;++z)for(var B=0;B<4;++B){var W=4*(N*O+z)+B,J=4*(N*F+z)+B,re=D[W];D[W]=D[J],D[J]=re}}function I(D,N,k){for(var O=0;O<k;++O)for(var F=0;F<N;++F){var z=4*(N*O+F),B=D[z+3];if(B>0)for(var W=255/B,J=0;J<3;++J)D[z+J]=Math.min(W*D[z+J],255)}}w.toImage=function(D){var N=this;D||(D="png"),N.staticMode&&N.container.appendChild(c),N.glplot.redraw();var k=N.glplot.gl,O=k.drawingBufferWidth,F=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var z=new Uint8Array(O*F*4);k.readPixels(0,0,O,F,k.RGBA,k.UNSIGNED_BYTE,z),b(z,O,F),I(z,O,F);var B=document.createElement("canvas");B.width=O,B.height=F;var W=B.getContext("2d",{willReadFrequently:!0}),J=W.createImageData(O,F);J.data.set(z),W.putImageData(J,0,0);var re;switch(D){case"jpeg":re=B.toDataURL("image/jpeg");break;case"webp":re=B.toDataURL("image/webp");break;default:re=B.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(c),re},w.setConvert=function(){for(var D=this,N=0;N<3;N++){var k=D.fullSceneLayout[y[N]];t.setConvert(k,D.fullLayout),k.setScale=p.noop}},w.make4thDimension=function(){var D=this,N=D.graphDiv,k=N._fullLayout;D._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(D._mockAxis,k)},G.exports=x},52094:function(G){G.exports=function(e,m,P,s){s=s||e.length;for(var L=new Array(s),S=0;S<s;S++)L[S]=[e[S],m[S],P[S]];return L}},64859:function(G,H,e){var m=e(25376),P=e(85656),s=e(22548),L=e(92872),S=e(34200),v=e(66741),p=e(92880).extendFlat,r=m({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=s.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:m({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:S.newselection,activeselection:S.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:m({editType:"layoutstyle"})}}},47552:function(G,H,e){var m=e(95376),P="1.13.4",s='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['© <a target="_blank" href="https://carto.com/">Carto</a>',s].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:s,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=m(p);G.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S=s.split(" "),v=S[0],p=S[1],r=m.isArrayOrTypedArray(L)?m.mean(L):L,t=.5+r/100,i=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-i;break;case"bottom":n[0]="bottom",f[1]=i;break}switch(p){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:f}}},33688:function(G,H,e){var m=e(3480),P=e(3400),s=P.strTranslate,L=P.strScale,S=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),i=e(14440),n="mapbox",f=H.constants=e(47552);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=P.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(5232),H.supplyLayoutDefaults=e(5976),H.plot=function(h){var T=h._fullLayout,c=h.calcdata,a=T._subplots[n];if(m.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var d=u(h,a);m.accessToken=d;for(var x=0;x<a.length;x++){var w=a[x],C=S(c,n,w),y=T[w],M=y._subplot;M||(M=new i(h,w),T[w]._subplot=M),M.viewInitial||(M.viewInitial={center:P.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),M.plot(C,T,h._promises)}},H.clean=function(g,h,T,c){for(var a=c._subplots[n]||[],d=0;d<a.length;d++){var x=a[d];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},H.toSVG=function(g){for(var h=g._fullLayout,T=h._subplots[n],c=h._size,a=0;a<T.length;a++){var d=h[T[a]],x=d.domain,w=d._subplot,C=w.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var M=p.select(d._subplot.div),A=M.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var o=h._glimages.append("g");o.attr("transform",s(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),o.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),o.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),o.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),o.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=M.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=h._glimages.append("g"),I=b.append("text");I.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var D=r.bBox(I.node()),N=c.w*(x.x[1]-x.x[0]);if(D.width>N/2){var k=E.split("|").join("<br>");I.text(k).attr("data-unformatted",k).call(t.convertToTspans,g),D=r.bBox(I.node())}I.attr("transform",s(-3,-D.height+8)),b.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;D.width+6>N&&(O=N/(D.width+6));var F=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];b.attr("transform",s(F[0],F[1])+L(O))}};function u(g,h){var T=g._fullLayout,c=g._context;if(c.mapboxAccessToken==="")return"";for(var a=[],d=[],x=!1,w=!1,C=0;C<h.length;C++){var y=T[h[C]],M=y.accesstoken;l(y.style)&&(M?P.pushUnique(a,M):(l(y._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),x=!0),w=!0)),M&&P.pushUnique(d,M)}if(w){var A=x?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw P.error(A),new Error(A)}return a.length?(a.length>1&&P.warn(f.multipleTokensErrorMsg),a[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(g){return typeof g=="string"&&(f.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}H.updateFx=function(g){for(var h=g._fullLayout,T=h._subplots[n],c=0;c<T.length;c++){var a=h[T[c]]._subplot;a.updateFx(h)}}},22360:function(G,H,e){var m=e(3400),P=e(72736).sanitizeHTML,s=e(89032),L=e(47552);function S(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=S.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(i){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},v.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},v.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(i){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!p(i)){var f=t(i);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var u=n[f].id;if(typeof u=="string"&&u.indexOf(L.traceLayerPrefix)===0){i=u;break}}return i},v.updateLayer=function(i){var n=this.subplot,f=r(i),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=i.type,this.below=u},v.updateStyle=function(i){if(p(i)){var n=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},v.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function p(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return m.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(i){var n={},f={};switch(i.type){case"circle":m.extendFlat(f,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":m.extendFlat(f,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":m.extendFlat(f,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var u=i.symbol,l=s(u.textposition,u.iconsize);m.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),m.extendFlat(f,{"icon-color":i.color,"text-color":u.textfont.color,"text-opacity":i.opacity});break;case"raster":m.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:n,paint:f}}function t(i){var n=i.sourcetype,f=i.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof f=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=i.coordinates),u[l]=f,i.sourceattribution&&(u.attribution=P(i.sourceattribution)),u}G.exports=function(n,f,u){var l=new S(n,f);return l.update(u),l}},5232:function(G,H,e){var m=e(3400),P=e(76308).defaultLine,s=e(86968).u,L=e(25376),S=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=L({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=G.exports=v({_arrayAttrRegexps:[m.counterRegex("mapbox",".layers",!0)],domain:s({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:m.extendFlat({},S,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},5976:function(G,H,e){var m=e(3400),P=e(168),s=e(51272),L=e(5232);G.exports=function(r,t,i){P(r,t,i,{type:"mapbox",attributes:L,handleDefaults:S,partition:"y",accessToken:t._mapboxAccessToken})};function S(p,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,s(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(g,h){return m.coerce(p,r,L.layers,g,h)}var i=t("visible");if(i){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",m.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),m.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(G,H,e){var m=e(3480),P=e(3400),s=e(27144),L=e(24040),S=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,i=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,g=e(47552),h=e(22360);function T(C,y){this.id=y,this.gd=C;var M=C._fullLayout,A=C._context;this.container=M._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=M._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(M),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=T.prototype;c.plot=function(C,y,M){var A=this,o=y[A.id];A.map&&o.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var E;A.map?E=new Promise(function(b,I){A.updateMap(C,y,b,I)}):E=new Promise(function(b,I){A.createMap(C,y,b,I)}),M.push(E)},c.createMap=function(C,y,M,A){var o=this,E=y[o.id],b=o.styleObj=d(E.style,y);o.accessToken=E.accesstoken;var I=E.bounds,D=I?[[I.west,I.south],[I.east,I.north]]:null,N=o.map=new m.Map({container:o.div,style:b.style,center:w(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:D,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new m.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",o.rejectOnError(A),o.isStatic||o.initFx(C,y);var k=[];k.push(new Promise(function(O){N.once("load",O)})),k=k.concat(s.fetchTraceGeoData(C)),Promise.all(k).then(function(){o.fillBelowLookup(C,y),o.updateData(C),o.updateLayout(y),o.resolveOnRender(M)}).catch(A)},c.updateMap=function(C,y,M,A){var o=this,E=o.map,b=y[this.id];o.rejectOnError(A);var I=[],D=d(b.style,y);JSON.stringify(o.styleObj)!==JSON.stringify(D)&&(o.styleObj=D,E.setStyle(D.style),o.traceHash={},I.push(new Promise(function(N){E.once("styledata",N)}))),I=I.concat(s.fetchTraceGeoData(C)),Promise.all(I).then(function(){o.fillBelowLookup(C,y),o.updateData(C),o.updateLayout(y),o.resolveOnRender(M)}).catch(A)},c.fillBelowLookup=function(C,y){var M=y[this.id],A=M.layers,o,E,b=this.belowLookup={},I=!1;for(o=0;o<C.length;o++){var D=C[o][0].trace,N=D._module;typeof D.below=="string"?E=D.below:N.getBelow&&(E=N.getBelow(D,this)),E===""&&(I=!0),b["trace-"+D.uid]=E||""}for(o=0;o<A.length;o++){var k=A[o];typeof k.below=="string"?E=k.below:I?E="traces":E="",b["layout-"+o]=E}var O={},F,z;for(F in b)E=b[F],O[E]?O[E].push(F):O[E]=[F];for(E in O){var B=O[E];if(B.length>1)for(o=0;o<B.length;o++)F=B[o],F.indexOf("trace-")===0?(z=F.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):F.indexOf("layout-")===0&&(z=F.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var a={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var y=this.traceHash,M,A,o,E,b=C.slice().sort(function(O,F){return a[O[0].trace.type]-a[F[0].trace.type]});for(o=0;o<b.length;o++){var I=b[o];A=I[0].trace,M=y[A.uid];var D=!1;M&&(M.type===A.type?(M.update(I),D=!0):M.dispose()),!D&&A._module&&(y[A.uid]=A._module.plot(this,I))}var N=Object.keys(y);e:for(o=0;o<N.length;o++){var k=N[o];for(E=0;E<C.length;E++)if(A=C[E][0].trace,k===A.uid)continue e;M=y[k],M.dispose(),delete y[k]}},c.updateLayout=function(C){var y=this.map,M=C[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(w(M.center)),y.setZoom(M.zoom),y.setBearing(M.bearing),y.setPitch(M.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(C){var y=this.map;y.on("render",function M(){y.loaded()&&(y.off("render",M),setTimeout(C,10))})},c.rejectOnError=function(C){var y=this.map;function M(){C(new Error(g.mapOnErrorMsg))}y.once("error",M),y.once("style.error",M),y.once("source.error",M),y.once("tile.error",M),y.once("layer.error",M)},c.createFramework=function(C){var y=this,M=y.div=document.createElement("div");M.id=y.uid,M.style.position="absolute",y.container.appendChild(M),y.xaxis={_id:"x",c2p:function(A){return y.project(A).x}},y.yaxis={_id:"y",c2p:function(A){return y.project(A).y}},y.updateFramework(C),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},S.setConvert(y.mockAxis,C)},c.initFx=function(C,y){var M=this,A=M.gd,o=M.map;o.on("moveend",function(I){if(M.map){var D=A._fullLayout;if(I.originalEvent||M.wheeling){var N=D[M.id];L.call("_storeDirectGUIEdit",A.layout,D._preGUI,M.getViewEdits(N));var k=M.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,A.emit("plotly_relayout",M.getViewEditsWithDerived(k))}I.originalEvent&&I.originalEvent.type==="mouseup"?M.dragging=!1:M.wheeling&&(M.wheeling=!1),D._rehover&&D._rehover()}}),o.on("wheel",function(){M.wheeling=!0}),o.on("mousemove",function(I){var D=M.div.getBoundingClientRect(),N=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return D},M.xaxis.p2c=function(){return o.unproject(N).lng},M.yaxis.p2c=function(){return o.unproject(N).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===M.id&&A._fullLayout[M.id]&&p.hover(A,I,M.id)},p.hover(A,I,M.id),A._fullLayout._hoversubplot=M.id});function E(){p.loneUnhover(y._hoverlayer)}o.on("dragstart",function(){M.dragging=!0,E()}),o.on("zoomstart",E),o.on("mouseout",function(){A._fullLayout._hoversubplot=null});function b(){var I=M.getView();A.emit("plotly_relayouting",M.getViewEditsWithDerived(I))}o.on("drag",b),o.on("zoom",b),o.on("dblclick",function(){var I=A._fullLayout[M.id];L.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,M.getViewEdits(I));var D=M.viewInitial;o.setCenter(w(D.center)),o.setZoom(D.zoom),o.setBearing(D.bearing),o.setPitch(D.pitch);var N=M.getView();I._input.center=I.center=N.center,I._input.zoom=I.zoom=N.zoom,I._input.bearing=I.bearing=N.bearing,I._input.pitch=I.pitch=N.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",M.getViewEditsWithDerived(N))}),M.clearOutline=function(){u(M.dragOptions),f(M.dragOptions.gd)},M.onClickInPanFn=function(I){return function(D){var N=A._fullLayout.clickmode;N.indexOf("select")>-1&&l(D.originalEvent,A,[M.xaxis],[M.yaxis],M.id,I),N.indexOf("event")>-1&&p.click(A,D.originalEvent)}}},c.updateFx=function(C){var y=this,M=y.map,A=y.gd;if(y.isStatic)return;function o(D){var N=y.map.unproject(D);return[N.lng,N.lat]}var E=C.dragmode,b;b=function(D,N){if(N.isRect){var k=D.range={};k[y.id]=[o([N.xmin,N.ymin]),o([N.xmax,N.ymax])]}else{var O=D.lassoPoints={};O[y.id]=N.map(o)}};var I=y.dragOptions;y.dragOptions=P.extendDeep(I||{},{dragmode:C.dragmode,element:y.div,gd:A,plotinfo:{id:y.id,domain:C[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:b},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),M.off("click",y.onClickInPanHandler),i(E)||t(E)?(M.dragPan.disable(),M.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(D,N,k){n(D,N,k,y.dragOptions,E)},v.init(y.dragOptions)):(M.dragPan.enable(),M.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),M.on("click",y.onClickInPanHandler))},c.updateFramework=function(C){var y=C[this.id].domain,M=C._size,A=this.div.style;A.width=M.w*(y.x[1]-y.x[0])+"px",A.height=M.h*(y.y[1]-y.y[0])+"px",A.left=M.l+y.x[0]*M.w+"px",A.top=M.t+(1-y.y[1])*M.h+"px",this.xaxis._offset=M.l+y.x[0]*M.w,this.xaxis._length=M.w*(y.x[1]-y.x[0]),this.yaxis._offset=M.t+(1-y.y[1])*M.h,this.yaxis._length=M.h*(y.y[1]-y.y[0])},c.updateLayers=function(C){var y=C[this.id],M=y.layers,A=this.layerList,o;if(M.length!==A.length){for(o=0;o<A.length;o++)A[o].dispose();for(A=this.layerList=[],o=0;o<M.length;o++)A.push(h(this,o,M[o]))}else for(o=0;o<M.length;o++)A[o].update(M[o])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,y,M){for(var A in M)this.map[y](C,A,M[A])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,y){var M=this.map;if(typeof y=="string"){if(y===""){M.addLayer(C,y);return}for(var A=this.getMapLayers(),o=0;o<A.length;o++)if(y===A[o].id){M.addLayer(C,y);return}P.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}M.addLayer(C)},c.project=function(C){return this.map.project(new m.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,y=C.getCenter(),M=y.lng,A=y.lat,o={lon:M,lat:A},E=C.getCanvas(),b=parseInt(E.style.width),I=parseInt(E.style.height);return{center:o,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([b,0]).toArray(),C.unproject([b,I]).toArray(),C.unproject([0,I]).toArray()]}}},c.getViewEdits=function(C){for(var y=this.id,M=["center","zoom","bearing","pitch"],A={},o=0;o<M.length;o++){var E=M[o];A[y+"."+E]=C[E]}return A},c.getViewEditsWithDerived=function(C){var y=this.id,M=this.getViewEdits(C);return M[y+"._derived"]=C._derived,M};function d(C,y){var M={};if(P.isPlainObject(C))M.id=C.id,M.style=C;else if(typeof C=="string")if(M.id=C,g.styleValuesMapbox.indexOf(C)!==-1)M.style=x(C);else if(g.stylesNonMapbox[C]){M.style=g.stylesNonMapbox[C];var A=M.style.sources["plotly-"+C],o=A?A.tiles:void 0;o&&o[0]&&o[0].slice(-9)==="?api_key="&&(o[0]+=y._mapboxAccessToken)}else M.style=C;else M.id=g.styleValueDflt,M.style=x(g.styleValueDflt);return M.transition={duration:0,delay:0},M}function x(C){return g.styleUrlPrefix+C+"-"+g.styleUrlSuffix}function w(C){return[C.lon,C.lat]}G.exports=T},66741:function(G){G.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(G,H,e){var m=e(33428),P=e(94336).m_,s=e(57624).SO,L=e(38248),S=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),i=e(76308),n=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),g=e(85656),h=e(16672),T=e(84888)._M,c=t.relinkPrivateKeys,a=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859);var x=d.transformsRegistry,w=e(62460);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function(Q){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),Q(d.previousPromises(Y)))},300)})},d.resize=function(Y){Y=t.getGraphDiv(Y);var Q,oe=new Promise(function(X,j){(!Y||t.isHidden(Y))&&j(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&(Q=Y._resolveResize),Y._resolveResize=X,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){X(Y);return}delete Y.layout.width,delete Y.layout.height;var se=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=se,Y._resolveResize===X&&(delete Y._resolveResize,X(Y))})},100)});return Q&&Q(oe),oe},d.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},d.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var Q=Y._fullLayout,oe=t.ensureSingle(Q._paper,"text","js-plot-link-container",function(ge){ge.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var be=m.select(this);be.append("tspan").classed("js-link-to-tool",!0),be.append("tspan").classed("js-link-spacer",!0),be.append("tspan").classed("js-sourcelinks",!0)})}),X=oe.node(),j={y:Q._paper.attr("height")-9};document.body.contains(X)&&X.getComputedTextLength()>=Q.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=Q._paper.attr("width")-7),oe.attr(j);var se=oe.select(".js-link-to-tool"),te=oe.select(".js-link-spacer"),fe=oe.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&C(Y,se),te.text(se.text()&&fe.text()?" - ":"")}};function C(Y,Q){Q.text("");var oe=Q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" »");if(Y._context.sendData)oe.on("click",function(){d.sendDataToCloud(Y)});else{var X=window.location.pathname.split("/"),j=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+X[2].split(".")[0]+"/"+X[1]+j})}}d.sendDataToCloud=function(Y){var Q=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if(Q){Y.emit("plotly_beforeexport");var oe=m.select(Y).append("div").attr("id","hiddenform").style("display","none"),X=oe.append("form").attr({action:Q+"/external",method:"post",target:"_blank"}),j=X.append("input").attr({type:"text",name:"data"});return j.node().value=d.graphJson(Y,!1,"keepdata"),X.node().submit(),oe.remove(),Y.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(Y,Q){var oe=Q&&Q.skipUpdateCalc,X=Y._fullLayout||{};if(X._skipDefaults){delete X._skipDefaults;return}var j=Y._fullLayout={},se=Y.layout||{},te=Y._fullData||[],fe=Y._fullData=[],ge=Y.data||[],be=Y.calcdata||[],xe=Y._context||{},_e;Y._transitionData||d.createTransitionData(Y),j._dfltTitle={plot:a(Y,"Click to enter Plot title"),x:a(Y,"Click to enter X axis title"),y:a(Y,"Click to enter Y axis title"),colorbar:a(Y,"Click to enter Colorscale title"),annotation:a(Y,"new text")},j._traceWord=a(Y,"trace");var De=E(Y,y);if(j._mapboxAccessToken=xe.mapboxAccessToken,X._initialAutoSizeIsDone){var Fe=X.width,Te=X.height;d.supplyLayoutGlobalDefaults(se,j,De),se.width||(j.width=Fe),se.height||(j.height=Te),d.sanitizeMargins(j)}else{d.supplyLayoutGlobalDefaults(se,j,De);var Re=!se.width||!se.height,Se=j.autosize,Ie=xe.autosizable,Me=Re&&(Se||Ie);Me?d.plotAutoSize(Y,se,j):Re&&d.sanitizeMargins(j),!Se&&Re&&(se.width=j.width,se.height=j.height)}j._d3locale=b(De,j.separators),j._extraFormat=E(Y,M),j._initialAutoSizeIsDone=!0,j._dataLength=ge.length,j._modules=[],j._visibleModules=[],j._basePlotModules=[];var Ve=j._subplots=o(),et=j._splomAxes={x:{},y:{}},it=j._splomSubplots={};j._splomGridDflt={},j._scatterStackOpts={},j._firstScatter={},j._alignmentOpts={},j._colorAxes={},j._requestRangeslider={},j._traceUids=A(te,ge),j._globalTransforms=(Y._context||{}).globalTransforms,d.supplyDataDefaults(ge,fe,se,j);var Je=Object.keys(et.x),Qe=Object.keys(et.y);if(Je.length>1&&Qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,j),_e=0;_e<Je.length;_e++)t.pushUnique(Ve.xaxis,Je[_e]);for(_e=0;_e<Qe.length;_e++)t.pushUnique(Ve.yaxis,Qe[_e]);for(var ct in it)t.pushUnique(Ve.cartesian,ct)}if(j._has=d._hasPlotType.bind(j),te.length===fe.length)for(_e=0;_e<fe.length;_e++)c(fe[_e],te[_e]);d.supplyLayoutModuleDefaults(se,j,fe,Y._transitionData);var ht=j._visibleModules,gt=[];for(_e=0;_e<ht.length;_e++){var Tt=ht[_e].crossTraceDefaults;Tt&&t.pushUnique(gt,Tt)}for(_e=0;_e<gt.length;_e++)gt[_e](fe,j);j._hasOnlyLargeSploms=j._basePlotModules.length===1&&j._basePlotModules[0].name==="splom"&&Je.length>15&&Qe.length>15&&j.shapes.length===0&&j.images.length===0,d.linkSubplots(fe,j,te,X),d.cleanPlot(fe,j,te,X);var Et=!!(X._has&&X._has("gl2d")),rt=!!(j._has&&j._has("gl2d")),ze=!!(X._has&&X._has("cartesian")),He=!!(j._has&&j._has("cartesian")),Ge=ze||Et,We=He||rt;Ge&&!We?X._bgLayer.remove():We&&!Ge&&(j._shouldCreateBgLayer=!0),X._zoomlayer&&!Y._dragging&&u({_fullLayout:X}),I(fe,j),c(j,X),v.getComponentMethod("colorscale","crossTraceDefaults")(fe,j),j._preGUI||(j._preGUI={}),j._tracePreGUI||(j._tracePreGUI={});var Le=j._tracePreGUI,Pe={},je;for(je in Le)Pe[je]="old";for(_e=0;_e<fe.length;_e++)je=fe[_e]._fullInput.uid,Pe[je]||(Le[je]={}),Pe[je]="new";for(je in Pe)Pe[je]==="old"&&delete Le[je];F(j),v.getComponentMethod("rangeslider","makeData")(j),!oe&&be.length===fe.length&&d.supplyDefaultsUpdateCalc(be,fe)},d.supplyDefaultsUpdateCalc=function(Y,Q){for(var oe=0;oe<Q.length;oe++){var X=Q[oe],j=(Y[oe]||[])[0];if(j&&j.trace){var se=j.trace;if(se._hasCalcTransform){var te=se._arrayAttrs,fe,ge,be;for(fe=0;fe<te.length;fe++)ge=te[fe],be=t.nestedProperty(se,ge).get().slice(),t.nestedProperty(X,ge).set(be)}j.trace=X}}};function A(Y,Q){var oe=Q.length,X=[],j,se;for(j=0;j<Y.length;j++){var te=Y[j]._fullInput;te!==se&&X.push(te),se=te}var fe=X.length,ge=new Array(oe),be={};function xe(Fe,Te){ge[Te]=Fe,be[Fe]=1}function _e(Fe,Te){if(Fe&&typeof Fe=="string"&&!be[Fe])return xe(Fe,Te),!0}for(j=0;j<oe;j++){var De=Q[j].uid;typeof De=="number"&&(De=String(De)),!_e(De,j)&&(j<fe&&_e(X[j].uid,j)||xe(t.randstr(be),j))}return ge}function o(){var Y=v.collectableSubplotTypes,Q={},oe,X;if(!Y){Y=[];var j=v.subplotsRegistry;for(var se in j){var te=j[se],fe=te.attr;if(fe&&(Y.push(se),Array.isArray(fe)))for(X=0;X<fe.length;X++)t.pushUnique(Y,fe[X])}}for(oe=0;oe<Y.length;oe++)Q[Y[oe]]=[];return Q}function E(Y,Q){var oe=Y._context.locale;oe||(oe="en-US");var X=!1,j={};function se(_e){for(var De=!0,Fe=0;Fe<Q.length;Fe++){var Te=Q[Fe];j[Te]||(_e[Te]?j[Te]=_e[Te]:De=!1)}De&&(X=!0)}for(var te=0;te<2;te++){for(var fe=Y._context.locales,ge=0;ge<2;ge++){var be=(fe[oe]||{}).format;if(be&&(se(be),X))break;fe=v.localeRegistry}var xe=oe.split("-")[0];if(X||xe===oe)break;oe=xe}return X||se(v.localeRegistry.en.format),j}function b(Y,Q){return Y.decimal=Q.charAt(0),Y.thousands=Q.charAt(1),{numberFormat:function(oe){try{oe=s(Y).format(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return oe},timeFormat:P(Y).utcFormat}}function I(Y,Q){var oe,X=[];Q.meta&&(oe=Q._meta={meta:Q.meta,layout:{meta:Q.meta}});for(var j=0;j<Y.length;j++){var se=Y[j];se.meta?X[se.index]=se._meta={meta:se.meta}:Q.meta&&(se._meta={meta:Q.meta}),Q.meta&&(se._meta.layout={meta:Q.meta})}X.length&&(oe||(oe=Q._meta={}),oe.data=X)}d.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},d._hasPlotType=function(Y){var Q,oe=this._basePlotModules||[];for(Q=0;Q<oe.length;Q++)if(oe[Q].name===Y)return!0;var X=this._modules||[];for(Q=0;Q<X.length;Q++){var j=X[Q].name;if(j===Y)return!0;var se=v.modules[j];if(se&&se.categories[Y])return!0}return!1},d.cleanPlot=function(Y,Q,oe,X){var j,se,te=X._basePlotModules||[];for(j=0;j<te.length;j++){var fe=te[j];fe.clean&&fe.clean(Y,Q,oe,X)}var ge=X._has&&X._has("gl"),be=Q._has&&Q._has("gl");ge&&!be&&X._glcontainer!==void 0&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.selectAll(".no-webgl").remove(),X._glcanvas=null);var xe=!!X._infolayer;e:for(j=0;j<oe.length;j++){var _e=oe[j],De=_e.uid;for(se=0;se<Y.length;se++){var Fe=Y[se];if(De===Fe.uid)continue e}xe&&X._infolayer.select(".cb"+De).remove()}},d.linkSubplots=function(Y,Q,oe,X){var j,se,te=X._plots||{},fe=Q._plots={},ge=Q._subplots,be={_fullData:Y,_fullLayout:Q},xe=ge.cartesian.concat(ge.gl2d||[]);for(j=0;j<xe.length;j++){var _e=xe[j],De=te[_e],Fe=f.getFromId(be,_e,"x"),Te=f.getFromId(be,_e,"y"),Re;for(De?Re=fe[_e]=De:(Re=fe[_e]={},Re.id=_e),Fe._counterAxes.push(Te._id),Te._counterAxes.push(Fe._id),Fe._subplotsWith.push(_e),Te._subplotsWith.push(_e),Re.xaxis=Fe,Re.yaxis=Te,Re._hasClipOnAxisFalse=!1,se=0;se<Y.length;se++){var Se=Y[se];if(Se.xaxis===Re.xaxis._id&&Se.yaxis===Re.yaxis._id&&Se.cliponaxis===!1){Re._hasClipOnAxisFalse=!0;break}}}var Ie=f.list(be,null,!0),Me;for(j=0;j<Ie.length;j++){Me=Ie[j];var Ve=null;Me.overlaying&&(Ve=f.getFromId(be,Me.overlaying),Ve&&Ve.overlaying&&(Me.overlaying=!1,Ve=null)),Me._mainAxis=Ve||Me,Ve&&(Me.domain=Ve.domain.slice()),Me._anchorAxis=Me.anchor==="free"?null:f.getFromId(be,Me.anchor)}for(j=0;j<Ie.length;j++)if(Me=Ie[j],Me._counterAxes.sort(f.idSort),Me._subplotsWith.sort(t.subplotSort),Me._mainSubplot=D(Me,Q),Me._counterAxes.length&&(Me.spikemode&&Me.spikemode.indexOf("across")!==-1||Me.automargin&&Me.mirror&&Me.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Me))){var et=1,it=0;for(se=0;se<Me._counterAxes.length;se++){var Je=f.getFromId(be,Me._counterAxes[se]);et=Math.min(et,Je.domain[0]),it=Math.max(it,Je.domain[1])}et<it&&(Me._counterDomainMin=et,Me._counterDomainMax=it)}};function D(Y,Q){var oe={_fullLayout:Q},X=Y._id.charAt(0)==="x",j=Y._mainAxis._anchorAxis,se="",te="",fe="";if(j&&(fe=j._mainAxis._id,se=X?Y._id+fe:fe+Y._id),!se||!Q._plots[se]){se="";for(var ge=Y._counterAxes,be=0;be<ge.length;be++){var xe=ge[be],_e=X?Y._id+xe:xe+Y._id;te||(te=_e);var De=f.getFromId(oe,xe);if(fe&&De.overlaying===fe){se=_e;break}}}return se||te}d.clearExpandedTraceDefaultColors=function(Y){var Q,oe,X;function j(te,fe,ge,be){oe[be]=fe,oe.length=be+1,te.valType==="color"&&te.dflt===void 0&&Q.push(oe.join("."))}for(oe=[],Q=Y._module._colorAttrs,Q||(Y._module._colorAttrs=Q=[],p.crawl(Y._module.attributes,j)),X=0;X<Q.length;X++){var se=t.nestedProperty(Y,"_input."+Q[X]);se.get()||t.nestedProperty(Y,Q[X]).set(null)}},d.supplyDataDefaults=function(Y,Q,oe,X){var j=X._modules,se=X._visibleModules,te=X._basePlotModules,fe=0,ge=0,be,xe,_e;X._transformModules=[];function De(Qe){Q.push(Qe);var ct=Qe._module;ct&&(t.pushUnique(j,ct),Qe.visible===!0&&t.pushUnique(se,ct),t.pushUnique(te,Qe._module.basePlotModule),fe++,Qe._input.visible!==!1&&ge++)}var Fe={},Te=[],Re=(oe.template||{}).data||{},Se=r.traceTemplater(Re);for(be=0;be<Y.length;be++){if(_e=Y[be],xe=Se.newTrace(_e),xe.uid=X._traceUids[be],d.supplyTraceDefaults(_e,xe,ge,X,be),xe.index=be,xe._input=_e,xe._expandedIndex=fe,xe.transforms&&xe.transforms.length)for(var Ie=_e.visible!==!1&&xe.visible===!1,Me=k(xe,Q,oe,X),Ve=0;Ve<Me.length;Ve++){var et=Me[Ve],it={_template:xe._template,type:xe.type,uid:xe.uid+Ve};Ie&&et.visible===!1&&delete et.visible,d.supplyTraceDefaults(et,it,fe,X,be),c(it,et),it.index=be,it._input=_e,it._fullInput=xe,it._expandedIndex=fe,it._expandedInput=et,De(it)}else xe._fullInput=xe,xe._expandedInput=xe,De(xe);v.traceIs(xe,"carpetAxis")&&(Fe[xe.carpet]=xe),v.traceIs(xe,"carpetDependent")&&Te.push(be)}for(be=0;be<Te.length;be++)if(xe=Q[Te[be]],!!xe.visible){var Je=Fe[xe.carpet];if(xe._carpet=Je,!Je||!Je.visible){xe.visible=!1;continue}xe.xaxis=Je.xaxis,xe.yaxis=Je.yaxis}},d.supplyAnimationDefaults=function(Y){Y=Y||{};var Q,oe={};function X(j,se){return t.coerce(Y||{},oe,g,j,se)}if(X("mode"),X("direction"),X("fromcurrent"),Array.isArray(Y.frame))for(oe.frame=[],Q=0;Q<Y.frame.length;Q++)oe.frame[Q]=d.supplyAnimationFrameDefaults(Y.frame[Q]||{});else oe.frame=d.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(oe.transition=[],Q=0;Q<Y.transition.length;Q++)oe.transition[Q]=d.supplyAnimationTransitionDefaults(Y.transition[Q]||{});else oe.transition=d.supplyAnimationTransitionDefaults(Y.transition||{});return oe},d.supplyAnimationFrameDefaults=function(Y){var Q={};function oe(X,j){return t.coerce(Y||{},Q,g.frame,X,j)}return oe("duration"),oe("redraw"),Q},d.supplyAnimationTransitionDefaults=function(Y){var Q={};function oe(X,j){return t.coerce(Y||{},Q,g.transition,X,j)}return oe("duration"),oe("easing"),Q},d.supplyFrameDefaults=function(Y){var Q={};function oe(X,j){return t.coerce(Y,Q,h,X,j)}return oe("group"),oe("name"),oe("traces"),oe("baseframe"),oe("data"),oe("layout"),Q},d.supplyTraceDefaults=function(Y,Q,oe,X,j){var se=X.colorway||i.defaults,te=se[oe%se.length],fe;function ge(Ve,et){return t.coerce(Y,Q,d.attributes,Ve,et)}var be=ge("visible");ge("type"),ge("name",X._traceWord+" "+j),ge("uirevision",X.uirevision);var xe=d.getModule(Q);if(Q._module=xe,xe){var _e=xe.basePlotModule,De=_e.attr,Fe=_e.attributes;if(De&&Fe){var Te=X._subplots,Re="";if(be||_e.name!=="gl2d"){if(Array.isArray(De))for(fe=0;fe<De.length;fe++){var Se=De[fe],Ie=t.coerce(Y,Q,Fe,Se);Te[Se]&&t.pushUnique(Te[Se],Ie),Re+=Ie}else Re=t.coerce(Y,Q,Fe,De);Te[_e.name]&&t.pushUnique(Te[_e.name],Re)}}}if(be){if(ge("customdata"),ge("ids"),ge("meta"),v.traceIs(Q,"showLegend")?(t.coerce(Y,Q,xe.attributes.showlegend?xe.attributes:d.attributes,"showlegend"),ge("legend"),ge("legendwidth"),ge("legendgroup"),ge("legendgrouptitle.text"),ge("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,xe&&xe.supplyDefaults(Y,Q,te,X),v.traceIs(Q,"noOpacity")||ge("opacity"),v.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),v.traceIs(Q,"noHover")||(Q.hovertemplate||t.coerceHoverinfo(Y,Q,X),Q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,Q,te,X)),xe&&xe.selectPoints){var Me=ge("selectedpoints");t.isTypedArray(Me)&&(Q.selectedpoints=Array.from(Me))}d.supplyTransformDefaults(Y,Q,X)}return Q};function N(Y){var Q=Y.transforms;if(Array.isArray(Q)&&Q.length)for(var oe=0;oe<Q.length;oe++){var X=Q[oe],j=X._module||x[X.type];if(j&&j.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(Y,Q,oe){if(Q._length||N(Y)){var X=oe._globalTransforms||[],j=oe._transformModules||[];if(!(!Array.isArray(Y.transforms)&&X.length===0))for(var se=Y.transforms||[],te=X.concat(se),fe=Q.transforms=[],ge=0;ge<te.length;ge++){var be=te[ge],xe=be.type,_e=x[xe],De,Fe=!(be._module&&be._module===_e),Te=_e&&typeof _e.transform=="function";_e||t.warn("Unrecognized transform type "+xe+"."),_e&&_e.supplyDefaults&&(Fe||Te)?(De=_e.supplyDefaults(be,Q,oe,Y),De.type=xe,De._module=_e,t.pushUnique(j,_e)):De=t.extendFlat({},be),fe.push(De)}}};function k(Y,Q,oe,X){for(var j=Y.transforms,se=[Y],te=0;te<j.length;te++){var fe=j[te],ge=x[fe.type];ge&&ge.transform&&(se=ge.transform(se,{transform:fe,fullTrace:Y,fullData:Q,layout:oe,fullLayout:X,transformIndex:te}))}return se}d.supplyLayoutGlobalDefaults=function(Y,Q,oe){function X(_e,De){return t.coerce(Y,Q,d.layoutAttributes,_e,De)}var j=Y.template;t.isPlainObject(j)&&(Q.template=j,Q._template=j.layout,Q._dataTemplate=j.data),X("autotypenumbers");var se=t.coerceFont(X,"font"),te=se.size;t.coerceFont(X,"title.font",se,{overrideDflt:{size:Math.round(te*1.4)}}),X("title.text",Q._dfltTitle.plot),X("title.xref");var fe=X("title.yref");X("title.pad.t"),X("title.pad.r"),X("title.pad.b"),X("title.pad.l");var ge=X("title.automargin");X("title.x"),X("title.xanchor"),X("title.y"),X("title.yanchor"),ge&&(fe==="paper"&&(Q.title.y!==0&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y===0?"top":"bottom")),fe==="container"&&(Q.title.y==="auto"&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y<.5?"bottom":"top")));var be=X("uniformtext.mode");be&&X("uniformtext.minsize"),X("autosize",!(Y.width&&Y.height)),X("width"),X("height"),X("minreducedwidth"),X("minreducedheight"),X("margin.l"),X("margin.r"),X("margin.t"),X("margin.b"),X("margin.pad"),X("margin.autoexpand"),Y.width&&Y.height&&d.sanitizeMargins(Q),v.getComponentMethod("grid","sizeDefaults")(Y,Q),X("paper_bgcolor"),X("separators",oe.decimal+oe.thousands),X("hidesources"),X("colorway"),X("datarevision");var xe=X("uirevision");X("editrevision",xe),X("selectionrevision",xe),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,Q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,Q,X),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,Q,X),X("meta"),t.isPlainObject(Y.transition)&&(X("transition.duration"),X("transition.easing"),X("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,Q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,Q,X),t.coerce(Y,Q,l,"scattermode")};function O(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}d.plotAutoSize=function(Q,oe,X){var j=Q._context||{},se=j.frameMargins,te,fe,ge=t.isPlotDiv(Q);if(ge&&Q.emit("plotly_autosize"),j.fillFrame)te=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var be=ge?window.getComputedStyle(Q):{};if(te=O(be.width)||O(be.maxWidth)||X.width,fe=O(be.height)||O(be.maxHeight)||X.height,L(se)&&se>0){var xe=1-2*se;te=Math.round(xe*te),fe=Math.round(xe*fe)}}var _e=d.layoutAttributes.width.min,De=d.layoutAttributes.height.min;te<_e&&(te=_e),fe<De&&(fe=De);var Fe=!oe.width&&Math.abs(X.width-te)>1,Te=!oe.height&&Math.abs(X.height-fe)>1;(Te||Fe)&&(Fe&&(X.width=te),Te&&(X.height=fe)),Q._initialAutoSize||(Q._initialAutoSize={width:te,height:fe}),d.sanitizeMargins(X)},d.supplyLayoutModuleDefaults=function(Y,Q,oe,X){var j=v.componentsRegistry,se=Q._basePlotModules,te,fe,ge,be=v.subplotsRegistry.cartesian;for(te in j)ge=j[te],ge.includeBasePlot&&ge.includeBasePlot(Y,Q);se.length||se.push(be),Q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,Q),be.finalizeSubplots(Y,Q));for(var xe in Q._subplots)Q._subplots[xe].sort(t.subplotSort);for(fe=0;fe<se.length;fe++)ge=se[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(Y,Q,oe);var _e=Q._modules;for(fe=0;fe<_e.length;fe++)ge=_e[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(Y,Q,oe);var De=Q._transformModules;for(fe=0;fe<De.length;fe++)ge=De[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(Y,Q,oe,X);for(te in j)ge=j[te],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(Y,Q,oe)},d.purge=function(Y){var Q=Y._fullLayout||{};Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},d.style=function(Y){var Q=Y._fullLayout._visibleModules,oe=[],X;for(X=0;X<Q.length;X++){var j=Q[X];j.style&&t.pushUnique(oe,j.style)}for(X=0;X<oe.length;X++)oe[X](Y)},d.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var Q=Y.width,oe=Y.height,X=Y.margin,j=Q-(X.l+X.r),se=oe-(X.t+X.b),te;j<0&&(te=(Q-1)/(X.l+X.r),X.l=Math.floor(te*X.l),X.r=Math.floor(te*X.r)),se<0&&(te=(oe-1)/(X.t+X.b),X.t=Math.floor(te*X.t),X.b=Math.floor(te*X.b))}},d.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(Y,Q){Y._fullLayout._pushmarginIds[Q]=1};function F(Y){var Q=Y.margin;if(!Y._size){var oe=Y._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};oe.w=Math.round(Y.width)-oe.l-oe.r,oe.h=Math.round(Y.height)-oe.t-oe.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var z=2,B=2;d.autoMargin=function(Y,Q,oe){var X=Y._fullLayout,j=X.width,se=X.height,te=X.margin,fe=X.minreducedwidth,ge=X.minreducedheight,be=t.constrain(j-te.l-te.r,z,fe),xe=t.constrain(se-te.t-te.b,B,ge),_e=Math.max(0,j-be),De=Math.max(0,se-xe),Fe=X._pushmargin,Te=X._pushmarginIds;if(te.autoexpand!==!1){if(!oe)delete Fe[Q],delete Te[Q];else{var Re=oe.pad;if(Re===void 0&&(Re=Math.min(12,te.l,te.r,te.t,te.b)),_e){var Se=(oe.l+oe.r)/_e;Se>1&&(oe.l/=Se,oe.r/=Se)}if(De){var Ie=(oe.t+oe.b)/De;Ie>1&&(oe.t/=Ie,oe.b/=Ie)}var Me=oe.xl!==void 0?oe.xl:oe.x,Ve=oe.xr!==void 0?oe.xr:oe.x,et=oe.yt!==void 0?oe.yt:oe.y,it=oe.yb!==void 0?oe.yb:oe.y;Fe[Q]={l:{val:Me,size:oe.l+Re},r:{val:Ve,size:oe.r+Re},b:{val:it,size:oe.b+Re},t:{val:et,size:oe.t+Re}},Te[Q]=1}if(!X._replotting)return d.doAutoMargin(Y)}};function W(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var Q=f.list(Y,"",!0);for(var oe in Q)if(Q[oe].autoshift||Q[oe].shift)return!0;return!1}d.doAutoMargin=function(Y){var Q=Y._fullLayout,oe=Q.width,X=Q.height;Q._size||(Q._size={}),F(Q);var j=Q._size,se=Q.margin,te={t:0,b:0,l:0,r:0},fe=t.extendFlat({},j),ge=se.l,be=se.r,xe=se.t,_e=se.b,De=Q._pushmargin,Fe=Q._pushmarginIds,Te=Q.minreducedwidth,Re=Q.minreducedheight;if(se.autoexpand!==!1){for(var Se in De)Fe[Se]||delete De[Se];var Ie=Y._fullLayout._reservedMargin;for(var Me in Ie)for(var Ve in Ie[Me]){var et=Ie[Me][Ve];te[Ve]=Math.max(te[Ve],et)}De.base={l:{val:0,size:ge},r:{val:1,size:be},t:{val:1,size:xe},b:{val:0,size:_e}};for(var it in te){var Je=0;for(var Qe in De)Qe!=="base"&&L(De[Qe][it].size)&&(Je=De[Qe][it].size>Je?De[Qe][it].size:Je);var ct=Math.max(0,se[it]-Je);te[it]=Math.max(0,te[it]-ct)}for(var ht in De){var gt=De[ht].l||{},Tt=De[ht].b||{},Et=gt.val,rt=gt.size,ze=Tt.val,He=Tt.size,Ge=oe-te.r-te.l,We=X-te.t-te.b;for(var Le in De){if(L(rt)&&De[Le].r){var Pe=De[Le].r.val,je=De[Le].r.size;if(Pe>Et){var Ce=(rt*Pe+(je-Ge)*Et)/(Pe-Et),he=(je*(1-Et)+(rt-Ge)*(1-Pe))/(Pe-Et);Ce+he>ge+be&&(ge=Ce,be=he)}}if(L(He)&&De[Le].t){var me=De[Le].t.val,Ne=De[Le].t.size;if(me>ze){var $e=(He*me+(Ne-We)*ze)/(me-ze),ot=(Ne*(1-ze)+(He-We)*(1-me))/(me-ze);$e+ot>_e+xe&&(_e=$e,xe=ot)}}}}}var st=t.constrain(oe-se.l-se.r,z,Te),Wt=t.constrain(X-se.t-se.b,B,Re),Pt=Math.max(0,oe-st),dt=Math.max(0,X-Wt);if(Pt){var Mt=(ge+be)/Pt;Mt>1&&(ge/=Mt,be/=Mt)}if(dt){var Xt=(_e+xe)/dt;Xt>1&&(_e/=Xt,xe/=Xt)}if(j.l=Math.round(ge)+te.l,j.r=Math.round(be)+te.r,j.t=Math.round(xe)+te.t,j.b=Math.round(_e)+te.b,j.p=Math.round(se.pad),j.w=Math.round(oe)-j.l-j.r,j.h=Math.round(X)-j.t-j.b,!Q._replotting&&(d.didMarginChange(fe,j)||W(Y))){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var nr=3*(1+Object.keys(Fe).length);if(Q._redrawFromAutoMarginCount<nr)return v.call("_doPlot",Y);Q._size=fe,t.warn("Too many auto-margin redraws.")}J(Y)};function J(Y){var Q=f.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(oe){for(var X=0;X<Q.length;X++){var j=Q[X][oe];j&&j()}})}var re=["l","r","t","b","p","w","h"];d.didMarginChange=function(Y,Q){for(var oe=0;oe<re.length;oe++){var X=re[oe],j=Y[X],se=Q[X];if(!L(j)||Math.abs(se-j)>1)return!0}return!1},d.graphJson=function(Y,Q,oe,X,j,se){(j&&Q&&!Y._fullData||j&&!Q&&!Y._fullLayout)&&d.supplyDefaults(Y);var te=j?Y._fullData:Y.data,fe=j?Y._fullLayout:Y.layout,ge=(Y._transitionData||{})._frames;function be(De,Fe){if(typeof De=="function")return Fe?"_function_":null;if(t.isPlainObject(De)){var Te={},Re;return Object.keys(De).sort().forEach(function(Ve){if(["_","["].indexOf(Ve.charAt(0))===-1){if(typeof De[Ve]=="function"){Fe&&(Te[Ve]="_function");return}if(oe==="keepdata"){if(Ve.substr(Ve.length-3)==="src")return}else if(oe==="keepstream"){if(Re=De[Ve+"src"],typeof Re=="string"&&Re.indexOf(":")>0&&!t.isPlainObject(De.stream))return}else if(oe!=="keepall"&&(Re=De[Ve+"src"],typeof Re=="string"&&Re.indexOf(":")>0))return;Te[Ve]=be(De[Ve],Fe)}}),Te}var Se=Array.isArray(De),Ie=t.isTypedArray(De);if((Se||Ie)&&De.dtype&&De.shape){var Me=De.bdata;return be({dtype:De.dtype,shape:De.shape,bdata:t.isArrayBuffer(Me)?S.encode(Me):Me},Fe)}return Se?De.map(function(Ve){return be(Ve,Fe)}):Ie?t.simpleMap(De,t.identity):t.isJSDate(De)?t.ms2DateTimeLocal(+De):De}var xe={data:(te||[]).map(function(De){var Fe=be(De);return Q&&delete Fe.fit,Fe})};if(!Q&&(xe.layout=be(fe),j)){var _e=fe._size;xe.layout.computed={margin:{b:_e.b,l:_e.l,r:_e.r,t:_e.t}}}return ge&&(xe.frames=be(ge)),se&&(xe.config=be(Y._context,!0)),X==="object"?xe:JSON.stringify(xe)},d.modifyFrames=function(Y,Q){var oe,X,j,se=Y._transitionData._frames,te=Y._transitionData._frameHash;for(oe=0;oe<Q.length;oe++)switch(X=Q[oe],X.type){case"replace":j=X.value;var fe=(se[X.index]||{}).name,ge=j.name;se[X.index]=te[ge]=j,ge!==fe&&(delete te[fe],te[ge]=j);break;case"insert":j=X.value,te[j.name]=j,se.splice(X.index,0,j);break;case"delete":j=se[X.index],delete te[j.name],se.splice(X.index,1);break}return Promise.resolve()},d.computeFrame=function(Y,Q){var oe=Y._transitionData._frameHash,X,j,se,te;if(!Q)throw new Error("computeFrame must be given a string frame name");var fe=oe[Q.toString()];if(!fe)return!1;for(var ge=[fe],be=[fe.name];fe.baseframe&&(fe=oe[fe.baseframe.toString()])&&be.indexOf(fe.name)===-1;)ge.push(fe),be.push(fe.name);for(var xe={};fe=ge.pop();)if(fe.layout&&(xe.layout=d.extendLayout(xe.layout,fe.layout)),fe.data){if(xe.data||(xe.data=[]),j=fe.traces,!j)for(j=[],X=0;X<fe.data.length;X++)j[X]=X;for(xe.traces||(xe.traces=[]),X=0;X<fe.data.length;X++)se=j[X],se!=null&&(te=xe.traces.indexOf(se),te===-1&&(te=xe.data.length,xe.traces[te]=se),xe.data[te]=d.extendTrace(xe.data[te],fe.data[X]))}return xe},d.recomputeFrameHash=function(Y){for(var Q=Y._transitionData._frameHash={},oe=Y._transitionData._frames,X=0;X<oe.length;X++){var j=oe[X];j&&j.name&&(Q[j.name]=j)}},d.extendObjectWithContainers=function(Y,Q,oe){var X,j,se,te,fe,ge,be,xe,_e=t.extendDeepNoArrays({},Q||{}),De=t.expandObjectPaths(_e),Fe={};if(oe&&oe.length)for(se=0;se<oe.length;se++)X=t.nestedProperty(De,oe[se]),j=X.get(),j===void 0?t.nestedProperty(Fe,oe[se]).set(null):(X.set(null),t.nestedProperty(Fe,oe[se]).set(j));if(Y=t.extendDeepNoArrays(Y||{},De),oe&&oe.length){for(se=0;se<oe.length;se++)if(fe=t.nestedProperty(Fe,oe[se]),be=fe.get(),!!be){for(ge=t.nestedProperty(Y,oe[se]),xe=ge.get(),Array.isArray(xe)||(xe=[],ge.set(xe)),te=0;te<be.length;te++){var Te=be[te];Te===null?xe[te]=null:xe[te]=d.extendObjectWithContainers(xe[te],Te)}ge.set(xe)}}return Y},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(Y,Q){return d.extendObjectWithContainers(Y,Q,d.dataArrayContainers)},d.extendLayout=function(Y,Q){return d.extendObjectWithContainers(Y,Q,d.layoutArrayContainers)},d.transition=function(Y,Q,oe,X,j,se){var te={redraw:j.redraw},fe={},ge=[];return te.prepareFn=function(){for(var be=Array.isArray(Q)?Q.length:0,xe=X.slice(0,be),_e=0;_e<xe.length;_e++){var De=xe[_e],Fe=Y._fullData[De],Te=Fe._module;if(Te){if(Te.animatable){var Re=Te.basePlotModule.name;fe[Re]||(fe[Re]=[]),fe[Re].push(De)}Y.data[xe[_e]]=d.extendTrace(Y.data[xe[_e]],Q[_e])}}var Se=t.expandObjectPaths(t.extendDeepNoArrays({},oe)),Ie=/^[xy]axis[0-9]*$/;for(var Me in Se)Ie.test(Me)&&delete Se[Me].range;d.extendLayout(Y.layout,Se),delete Y.calcdata,d.supplyDefaults(Y),d.doCalcdata(Y);var Ve=t.expandObjectPaths(oe);if(Ve){var et=Y._fullLayout._plots;for(var it in et){var Je=et[it],Qe=Je.xaxis,ct=Je.yaxis,ht=Qe.range.slice(),gt=ct.range.slice(),Tt=null,Et=null,rt=null,ze=null;Array.isArray(Ve[Qe._name+".range"])?Tt=Ve[Qe._name+".range"].slice():Array.isArray((Ve[Qe._name]||{}).range)&&(Tt=Ve[Qe._name].range.slice()),Array.isArray(Ve[ct._name+".range"])?Et=Ve[ct._name+".range"].slice():Array.isArray((Ve[ct._name]||{}).range)&&(Et=Ve[ct._name].range.slice()),ht&&Tt&&(Qe.r2l(ht[0])!==Qe.r2l(Tt[0])||Qe.r2l(ht[1])!==Qe.r2l(Tt[1]))&&(rt={xr0:ht,xr1:Tt}),gt&&Et&&(ct.r2l(gt[0])!==ct.r2l(Et[0])||ct.r2l(gt[1])!==ct.r2l(Et[1]))&&(ze={yr0:gt,yr1:Et}),(rt||ze)&&ge.push(t.extendFlat({plotinfo:Je},rt,ze))}}return Promise.resolve()},te.runFn=function(be){var xe,_e=Y._fullLayout._basePlotModules,De=ge.length,Fe;if(oe)for(Fe=0;Fe<_e.length;Fe++)_e[Fe].transitionAxes&&_e[Fe].transitionAxes(Y,ge,se,be);De?(xe=t.extendFlat({},se),xe.duration=0,delete fe.cartesian):xe=se;for(var Te in fe){var Re=fe[Te],Se=Y._fullData[Re[0]]._module;Se.basePlotModule.plot(Y,Re,xe,be)}},ne(Y,se,te)},d.transitionFromReact=function(Y,Q,oe,X){var j=Y._fullLayout,se=j.transition,te={},fe=[];return te.prepareFn=function(){var ge=j._plots;te.redraw=!1,Q.anim==="some"&&(te.redraw=!0),oe.anim==="some"&&(te.redraw=!0);for(var be in ge){var xe=ge[be],_e=xe.xaxis,De=xe.yaxis,Fe=X[_e._name].range.slice(),Te=X[De._name].range.slice(),Re=_e.range.slice(),Se=De.range.slice();_e.setScale(),De.setScale();var Ie=null,Me=null;(_e.r2l(Fe[0])!==_e.r2l(Re[0])||_e.r2l(Fe[1])!==_e.r2l(Re[1]))&&(Ie={xr0:Fe,xr1:Re}),(De.r2l(Te[0])!==De.r2l(Se[0])||De.r2l(Te[1])!==De.r2l(Se[1]))&&(Me={yr0:Te,yr1:Se}),(Ie||Me)&&fe.push(t.extendFlat({plotinfo:xe},Ie,Me))}return Promise.resolve()},te.runFn=function(ge){for(var be=Y._fullData,xe=Y._fullLayout,_e=xe._basePlotModules,De,Fe,Te,Re=[],Se=0;Se<be.length;Se++)Re.push(Se);function Ie(){if(Y._fullLayout)for(var Ve=0;Ve<_e.length;Ve++)_e[Ve].transitionAxes&&_e[Ve].transitionAxes(Y,fe,De,ge)}function Me(){if(Y._fullLayout)for(var Ve=0;Ve<_e.length;Ve++)_e[Ve].plot(Y,Te,Fe,ge)}fe.length&&Q.anim?se.ordering==="traces first"?(De=t.extendFlat({},se,{duration:0}),Te=Re,Fe=se,setTimeout(Ie,se.duration),Me()):(De=se,Te=null,Fe=t.extendFlat({},se,{duration:0}),setTimeout(Me,De.duration),Ie()):fe.length?(De=se,Ie()):Q.anim&&(Te=Re,Fe=se,Me())},ne(Y,se,te)};function ne(Y,Q,oe){var X=!1;function j(_e){var De=Promise.resolve();if(!_e)return De;for(;_e.length;)De=De.then(_e.shift());return De}function se(_e){if(_e)for(;_e.length;)_e.shift()}function te(){return Y.emit("plotly_transitioning",[]),new Promise(function(_e){Y._transitioning=!0,Q.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){X=!0}),oe.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var De=0,Fe=0;function Te(){return De++,function(){Fe++,!X&&Fe===De&&fe(_e)}}oe.runFn(Te),setTimeout(Te())})}function fe(_e){if(Y._transitionData)return se(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(oe.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(_e)}function ge(){if(Y._transitionData)return Y._transitioning=!1,j(Y._transitionData._interruptCallbacks)}var be=[d.previousPromises,ge,oe.prepareFn,d.rehover,d.reselect,te],xe=t.syncOrAsync(be,Y);return(!xe||!xe.then)&&(xe=Promise.resolve()),xe.then(function(){return Y})}d.doCalcdata=function(Y,Q){var oe=f.list(Y),X=Y._fullData,j=Y._fullLayout,se,te,fe,ge,be=new Array(X.length),xe=(Y.calcdata||[]).slice();for(Y.calcdata=be,j._numBoxes=0,j._numViolins=0,j._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,j._piecolormap={},j._sunburstcolormap={},j._treemapcolormap={},j._iciclecolormap={},j._funnelareacolormap={},fe=0;fe<X.length;fe++)if(Array.isArray(Q)&&Q.indexOf(fe)===-1){be[fe]=xe[fe];continue}for(fe=0;fe<X.length;fe++)se=X[fe],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var _e=j._subplots.polar||[];for(fe=0;fe<_e.length;fe++)oe.push(j[_e[fe]].radialaxis,j[_e[fe]].angularaxis);for(var De in j._colorAxes){var Fe=j[De];Fe.cauto!==!1&&(delete Fe.cmin,delete Fe.cmax)}var Te=!1;function Re(Me){if(se=X[Me],te=se._module,se.visible===!0&&se.transforms){if(te&&te.calc){var Ve=te.calc(Y,se);Ve[0]&&Ve[0].t&&Ve[0].t._scene&&delete Ve[0].t._scene.dirty}for(ge=0;ge<se.transforms.length;ge++){var et=se.transforms[ge];te=x[et.type],te&&te.calcTransform&&(se._hasCalcTransform=!0,Te=!0,te.calcTransform(Y,se,et))}}}function Se(Me,Ve){if(se=X[Me],te=se._module,!!te.isContainer===Ve){var et=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var it=se.transforms||[];for(ge=it.length-1;ge>=0;ge--)if(it[ge].enabled){se._indexToPoints=it[ge]._indexToPoints;break}te&&te.calc&&(et=te.calc(Y,se))}(!Array.isArray(et)||!et[0])&&(et=[{x:n,y:n}]),et[0].t||(et[0].t={}),et[0].trace=se,be[Me]=et}}for(K(oe,X,j),fe=0;fe<X.length;fe++)Se(fe,!0);for(fe=0;fe<X.length;fe++)Re(fe);for(Te&&K(oe,X,j),fe=0;fe<X.length;fe++)Se(fe,!0);for(fe=0;fe<X.length;fe++)Se(fe,!1);ie(Y);var Ie=$(oe,Y);if(Ie.length){for(j._numBoxes=0,j._numViolins=0,fe=0;fe<Ie.length;fe++)Se(Ie[fe],!0);for(fe=0;fe<Ie.length;fe++)Se(Ie[fe],!1);ie(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var le=/(total|sum|min|max|mean|median) (ascending|descending)/;function $(Y,Q){var oe=[],X,j,se,te,fe;function ge(Le,Pe,je){var Ce=Pe._id.charAt(0);if(Le==="histogram2dcontour"){var he=Pe._counterAxes[0],me=f.getFromId(Q,he),Ne=Ce==="x"||he==="x"&&me.type==="category",$e=Ce==="y"||he==="y"&&me.type==="category";return function(ot,st){return ot===0||st===0||Ne&&ot===je[st].length-1||$e&&st===je.length-1?-1:(Ce==="y"?st:ot)-1}}else return function(ot,st){return Ce==="y"?st:ot}}var be={min:function(Le){return t.aggNums(Math.min,null,Le)},max:function(Le){return t.aggNums(Math.max,null,Le)},sum:function(Le){return t.aggNums(function(Pe,je){return Pe+je},null,Le)},total:function(Le){return t.aggNums(function(Pe,je){return Pe+je},null,Le)},mean:function(Le){return t.mean(Le)},median:function(Le){return t.median(Le)}};function xe(Le,Pe){return Le[1]-Pe[1]}function _e(Le,Pe){return Pe[1]-Le[1]}for(X=0;X<Y.length;X++){var De=Y[X];if(De.type==="category"){var Fe=De.categoryorder.match(le);if(Fe){var Te=Fe[1],Re=Fe[2],Se=De._id.charAt(0),Ie=Se==="x",Me=[];for(j=0;j<De._categories.length;j++)Me.push([De._categories[j],[]]);for(j=0;j<De._traceIndices.length;j++){var Ve=De._traceIndices[j],et=Q._fullData[Ve];if(et.visible===!0){var it=et.type;v.traceIs(et,"histogram")&&(delete et._xautoBinFinished,delete et._yautoBinFinished);var Je=it==="splom",Qe=it==="scattergl",ct=Q.calcdata[Ve];for(se=0;se<ct.length;se++){var ht=ct[se],gt,Tt;if(Je){var Et=et._axesDim[De._id];if(!Ie){var rt=et._diag[Et][0];rt&&(De=Q._fullLayout[f.id2name(rt)])}var ze=ht.trace.dimensions[Et].values;for(te=0;te<ze.length;te++)for(gt=De._categoriesMap[ze[te]],fe=0;fe<ht.trace.dimensions.length;fe++)if(fe!==Et){var He=ht.trace.dimensions[fe];Me[gt][1].push(He.values[te])}}else if(Qe){for(te=0;te<ht.t.x.length;te++)Ie?(gt=ht.t.x[te],Tt=ht.t.y[te]):(gt=ht.t.y[te],Tt=ht.t.x[te]),Me[gt][1].push(Tt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){Tt=ht.z;var Ge=ge(et.type,De,Tt);for(te=0;te<Tt.length;te++)for(fe=0;fe<Tt[te].length;fe++)gt=Ge(fe,te),gt+1&&Me[gt][1].push(Tt[te][fe])}else for(gt=ht.p,gt===void 0&&(gt=ht[Se]),Tt=ht.s,Tt===void 0&&(Tt=ht.v),Tt===void 0&&(Tt=Ie?ht.y:ht.x),Array.isArray(Tt)||(Tt===void 0?Tt=[]:Tt=[Tt]),te=0;te<Tt.length;te++)Me[gt][1].push(Tt[te])}}}De._categoriesValue=Me;var We=[];for(j=0;j<Me.length;j++)We.push([Me[j][0],be[Te](Me[j][1])]);We.sort(Re==="descending"?_e:xe),De._categoriesAggregatedValue=We,De._initialCategories=We.map(function(Le){return Le[0]}),oe=oe.concat(De.sortByInitialCategories())}}}return oe}function K(Y,Q,oe){var X={};function j(ge){ge.clearCalc(),ge.type==="multicategory"&&ge.setupMultiCategory(Q),X[ge._id]=1}t.simpleMap(Y,j);for(var se=oe._axisMatchGroups||[],te=0;te<se.length;te++)for(var fe in se[te])X[fe]||j(oe[f.id2name(fe)])}function ie(Y){var Q=Y._fullLayout,oe=Q._visibleModules,X={},j,se,te;for(se=0;se<oe.length;se++){var fe=oe[se],ge=fe.crossTraceCalc;if(ge){var be=fe.basePlotModule.name;X[be]?t.pushUnique(X[be],ge):X[be]=[ge]}}for(te in X){var xe=X[te],_e=Q._subplots[te];if(Array.isArray(_e))for(j=0;j<_e.length;j++){var De=_e[j],Fe=te==="cartesian"?Q._plots[De]:Q[De];for(se=0;se<xe.length;se++)xe[se](Y,Fe,De)}else for(se=0;se<xe.length;se++)xe[se](Y)}}d.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},d.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},d.reselect=function(Y){var Q=Y._fullLayout,oe=(Y.layout||{}).selections,X=Q._previousSelections;Q._previousSelections=oe;var j=Q._reselect||JSON.stringify(oe)!==JSON.stringify(X);v.getComponentMethod("selections","reselect")(Y,j)},d.generalUpdatePerTraceModule=function(Y,Q,oe,X){var j=Q.traceHash,se={},te;for(te=0;te<oe.length;te++){var fe=oe[te],ge=fe[0].trace;ge.visible&&(se[ge.type]=se[ge.type]||[],se[ge.type].push(fe))}for(var be in j)if(!se[be]){var xe=j[be][0],_e=xe[0].trace;_e.visible=!1,se[be]=[xe]}for(var De in se){var Fe=se[De],Te=Fe[0][0].trace._module;Te.plot(Y,Q,t.filterVisible(Fe),X)}Q.traceHash=se},d.plotBasePlot=function(Y,Q,oe,X,j){var se=v.getModule(Y),te=T(Q.calcdata,se)[0];se.plot(Q,te,X,j)},d.cleanBasePlot=function(Y,Q,oe,X,j){var se=j._has&&j._has(Y),te=oe._has&&oe._has(Y);se&&!te&&j["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(G,H,e){var m=e(3400),P=e(92065).tester,s=m.findIndexOfMin,L=m.isAngleInsideSector,S=m.angleDelta,v=m.angleDist;function p(a,d,x,w,C){if(!L(d,w))return!1;var y,M;x[0]<x[1]?(y=x[0],M=x[1]):(y=x[1],M=x[0]);var A=P(f(y,w[0],w[1],C)),o=P(f(M,w[0],w[1],C)),E=[a*Math.cos(d),a*Math.sin(d)];return o.contains(E)&&!A.contains(E)}function r(a,d,x,w){var C,y,M=w[0],A=w[1],o=g(Math.sin(d)-Math.sin(a)),E=g(Math.cos(d)-Math.cos(a)),b=Math.tan(x),I=g(1/b),D=o/E,N=A-D*M;return I?o&&E?(C=N/(b-D),y=b*C):E?(C=A*I,y=A):(C=M,y=M*b):o&&E?(C=0,y=N):E?(C=0,y=A):C=y=NaN,[C,y]}function t(a,d,x,w){var C=-d*x,y=d*d+1,M=2*(d*C-x),A=C*C+x*x-a*a,o=Math.sqrt(M*M-4*y*A),E=(-M+o)/(2*y),b=(-M-o)/(2*y);return[[E,d*E+C+w],[b,d*b+C+w]]}function i(a,d){var x=d.length,w=new Array(x+1),C;for(C=0;C<x;C++){var y=d[C];w[C]=[a*Math.cos(y),a*Math.sin(y)]}return w[C]=w[0].slice(),w}function n(a,d,x,w){var C=w.length,y=[],M,A;function o(z){return[a*Math.cos(z),a*Math.sin(z)]}function E(z,B,W){return r(z,B,W,o(z))}function b(z){return m.mod(z,C)}function I(z){return L(z,[d,x])}var D=s(w,function(z){return I(z)?v(z,d):1/0}),N=E(w[D],w[b(D-1)],d);for(y.push(N),M=D,A=0;A<C;M++,A++){var k=w[b(M)];if(!I(k))break;y.push(o(k))}var O=s(w,function(z){return I(z)?v(z,x):1/0}),F=E(w[O],w[b(O+1)],x);return y.push(F),y.push([0,0]),y.push(y[0].slice()),y}function f(a,d,x,w){return m.isFullCircle([d,x])?i(a,w):n(a,d,x,w)}function u(a,d,x,w){for(var C=1/0,y=1/0,M=f(a,d,x,w),A=0;A<M.length;A++){var o=M[A];C=Math.min(C,o[0]),y=Math.min(y,-o[1])}return[C,y]}function l(a,d){var x=function(y){var M=S(y,a);return M>0?M:1/0},w=s(d,x),C=m.mod(w+1,d.length);return[d[w],d[C]]}function g(a){return Math.abs(a)>1e-10?a:0}function h(a,d,x){d=d||0,x=x||0;for(var w=a.length,C=new Array(w),y=0;y<w;y++){var M=a[y];C[y]=[d+M[0],x-M[1]]}return C}function T(a,d,x,w,C,y){var M=f(a,d,x,w);return"M"+h(M,C,y).join("L")}function c(a,d,x,w,C,y,M){var A,o;a<d?(A=a,o=d):(A=d,o=a);var E=h(f(A,x,w,C),y,M),b=h(f(o,x,w,C),y,M);return"M"+b.reverse().join("L")+"M"+E.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:T,pathPolygonAnnulus:c}},40872:function(G,H,e){var m=e(84888).KY,P=e(3400).counterRegex,s=e(62400),L=e(39360),S=L.attr,v=L.name,p=P(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],g=0;g<l.length;g++){var h=l[g],T=m(u,v,h),c=f[h]._subplot;c||(c=s(n,h),f[h]._subplot=c),c.plot(T,f,n._promises)}}function i(n,f,u,l){for(var g=l._subplots[v]||[],h=l._has&&l._has("gl"),T=f._has&&f._has("gl"),c=h&&!T,a=0;a<g.length;a++){var d=g[a],x=l[d]._subplot;if(!f[d]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var w in x.clipPaths)x.clipPaths[w].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}G.exports={attr:S,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:i,toSVG:e(57952).toSVG}},95300:function(G,H,e){var m=e(22548),P=e(94724),s=e(86968).u,L=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=S({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,v,p);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,p),G.exports={domain:s({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:m.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(168),S=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),i=e(22416),n=e(42136),f=e(76808),u=e(52976),l=e(95300),g=e(57696),h=e(39360),T=h.axisNames;function c(d,x,w,C){var y=w("bgcolor");C.bgColor=P.combine(y,C.paper_bgcolor);var M=w("sector");w("hole");var A=S(C.fullData,h.name,C.id),o=C.layoutOut,E;function b(fe,ge){return w(E+"."+fe,ge)}for(var I=0;I<T.length;I++){E=T[I],m.isPlainObject(d[E])||(d[E]={});var D=d[E],N=s.newContainer(x,E);N._id=N._name=E,N._attr=C.id+"."+E,N._traceIndices=A.map(function(fe){return fe._expandedIndex});var k=h.axisName2dataArray[E],O=a(D,N,b,A,k,C);i(D,N,b,{axData:A,dataAttr:k});var F=b("visible");switch(g(N,x,o),b("uirevision",x.uirevision),N._m=1,E){case"radialaxis":b("minallowed"),b("maxallowed");var z=b("range"),B=N.getAutorangeDflt(z),W=b("autorange",B),J;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(W==="reversed"||W===!0)||z[0]!==null&&(W==="min"||W==="max reversed")||z[1]!==null&&(W==="max"||W==="min reversed"))&&(z=void 0,delete N.range,N.autorange=!0,J=!0),J||(B=N.getAutorangeDflt(z),W=b("autorange",B)),D.autorange=W,W&&(f(b,W,z),(O==="linear"||O==="-")&&b("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(O==="date"){m.log("Polar plots do not support date angular axes yet.");for(var re=0;re<A.length;re++)A[re].visible=!1;O=D.type=N.type="linear"}b(O==="linear"?"thetaunit":"period");var ne=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(D,N,b,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"°":void 0}),F){var le,$,K,ie,Y,Q,oe,X,j,se,te=C.font||{};le=b("color"),$=le===D.color?le:te.color,K=te.size,ie=te.family,Y=te.weight,Q=te.style,oe=te.variant,X=te.textcase,j=te.lineposition,se=te.shadow,v(D,N,b,N.type),r(D,N,b,N.type,{font:{weight:Y,style:Q,variant:oe,textcase:X,lineposition:j,shadow:se,color:$,size:K,family:ie},noAutotickangles:E==="angularaxis"}),p(D,N,b,{outerTicks:!0}),n(D,N,b,{dfltColor:le,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),b("layer"),E==="radialaxis"&&(b("side"),b("angle",M[0]),b("title.text"),m.coerceFont(b,"title.font",{weight:Y,style:Q,variant:oe,textcase:X,lineposition:j,shadow:se,color:$,size:m.bigFont(K),family:ie}))}O!=="category"&&b("hoverformat"),N._input=D}x.angularaxis.type==="category"&&w("gridshape")}function a(d,x,w,C,y,M){var A=w("autotypenumbers",M.autotypenumbersDflt),o=w("type");if(o==="-"){for(var E,b=0;b<C.length;b++)if(C[b].visible){E=C[b];break}E&&E[y]&&(x.type=u(E[y],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}G.exports=function(x,w,C){L(x,w,C,{type:h.name,attributes:l,handleDefaults:c,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:C,layoutOut:w})}},62400:function(G,H,e){var m=e(33428),P=e(49760),s=e(24040),L=e(3400),S=L.strRotate,v=L.strTranslate,p=e(76308),r=e(43616),t=e(7316),i=e(54460),n=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),g=e(86476),h=e(93024),T=e(81668),c=e(22676).prepSelect,a=e(22676).selectOnClick,d=e(22676).clearOutline,x=e(93972),w=e(73696),C=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,M=e(39360),A=e(57384),o=e(36416),E=o.smith,b=o.reactanceArc,I=o.resistanceArc,D=o.smithTransform,N=L._,k=L.mod,O=L.deg2rad,F=L.rad2deg;function z(le,$,K){this.isSmith=K||!1,this.id=$,this.gd=le,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ie=le._fullLayout,Y="clip"+ie._uid+$;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=ie._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ie["_"+(K?"smith":"polar")+"layer"].append("g").attr("class",$),this.getHole=function(Q){return this.isSmith?0:Q.hole},this.getSector=function(Q){return this.isSmith?[0,360]:Q.sector},this.getRadial=function(Q){return this.isSmith?Q.realaxis:Q.radialaxis},this.getAngular=function(Q){return this.isSmith?Q.imaginaryaxis:Q.angularaxis},K||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=z.prototype;G.exports=function($,K,ie){return new z($,K,ie)},B.plot=function(le,$){for(var K=this,ie=$[K.id],Y=!1,Q=0;Q<le.length;Q++){var oe=le[Q][0].trace;if(oe.cliponaxis===!1){Y=!0;break}}K._hasClipOnAxisFalse=Y,K.updateLayers($,ie),K.updateLayout($,ie),t.generalUpdatePerTraceModule(K.gd,K,le,ie),K.updateFx($,ie),K.isSmith&&(delete ie.realaxis.range,delete ie.imaginaryaxis.range)},B.updateLayers=function(le,$){var K=this,ie=K.isSmith,Y=K.layers,Q=K.getRadial($),oe=K.getAngular($),X=M.layerNames,j=X.indexOf("frontplot"),se=X.slice(0,j),te=oe.layer==="below traces",fe=Q.layer==="below traces";te&&se.push("angular-line"),fe&&se.push("radial-line"),te&&se.push("angular-axis"),fe&&se.push("radial-axis"),se.push("frontplot"),te||se.push("angular-line"),fe||se.push("radial-line"),te||se.push("angular-axis"),fe||se.push("radial-axis");var ge=(ie?"smith":"polar")+"sublayer",be=K.framework.selectAll("."+ge).data(se,String);be.enter().append("g").attr("class",function(xe){return ge+" "+xe}).each(function(xe){var _e=Y[xe]=m.select(this);switch(xe){case"frontplot":ie||_e.append("g").classed("barlayer",!0),_e.append("g").classed("scatterlayer",!0);break;case"backplot":_e.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=_e.append("path");break;case"radial-grid":_e.style("fill","none");break;case"angular-grid":_e.style("fill","none");break;case"radial-line":_e.append("line").style("fill","none");break;case"angular-line":_e.append("path").style("fill","none");break}}),be.order()},B.updateLayout=function(le,$){var K=this,ie=K.layers,Y=le._size,Q=K.getRadial($),oe=K.getAngular($),X=$.domain.x,j=$.domain.y;K.xOffset=Y.l+Y.w*X[0],K.yOffset=Y.t+Y.h*(1-j[1]);var se=K.xLength=Y.w*(X[1]-X[0]),te=K.yLength=Y.h*(j[1]-j[0]),fe=K.getSector($);K.sectorInRad=fe.map(O);var ge=K.sectorBBox=J(fe),be=ge[2]-ge[0],xe=ge[3]-ge[1],_e=te/se,De=Math.abs(xe/be),Fe,Te,Re,Se,Ie;_e>De?(Fe=se,Te=se*De,Ie=(te-Te)/Y.h/2,Re=[X[0],X[1]],Se=[j[0]+Ie,j[1]-Ie]):(Fe=te/De,Te=te,Ie=(se-Fe)/Y.w/2,Re=[X[0]+Ie,X[1]-Ie],Se=[j[0],j[1]]),K.xLength2=Fe,K.yLength2=Te,K.xDomain2=Re,K.yDomain2=Se;var Me=K.xOffset2=Y.l+Y.w*Re[0],Ve=K.yOffset2=Y.t+Y.h*(1-Se[1]),et=K.radius=Fe/be,it=K.innerRadius=K.getHole($)*et,Je=K.cx=Me-et*ge[0],Qe=K.cy=Ve+et*ge[3],ct=K.cxx=Je-Me,ht=K.cyy=Qe-Ve,gt=Q.side,Tt;gt==="counterclockwise"?(Tt=gt,gt="top"):gt==="clockwise"&&(Tt=gt,gt="bottom"),K.radialAxis=K.mockAxis(le,$,Q,{_id:"x",side:gt,_trueSide:Tt,domain:[it/Y.w,et/Y.w]}),K.angularAxis=K.mockAxis(le,$,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),K.doAutoRange(le,$),K.updateAngularAxis(le,$),K.updateRadialAxis(le,$),K.updateRadialAxisTitle(le,$),K.xaxis=K.mockCartesianAxis(le,$,{_id:"x",domain:Re}),K.yaxis=K.mockCartesianAxis(le,$,{_id:"y",domain:Se});var Et=K.pathSubplot();K.clipPaths.forTraces.select("path").attr("d",Et).attr("transform",v(ct,ht)),ie.frontplot.attr("transform",v(Me,Ve)).call(r.setClipUrl,K._hasClipOnAxisFalse?null:K.clipIds.forTraces,K.gd),ie.bg.attr("d",Et).attr("transform",v(Je,Qe)).call(p.fill,$.bgcolor)},B.mockAxis=function(le,$,K,ie){var Y=L.extendFlat({},K,ie);return f(Y,$,le),Y},B.mockCartesianAxis=function(le,$,K){var ie=this,Y=ie.isSmith,Q=K._id,oe=L.extendFlat({type:"linear"},K);n(oe,le);var X={x:[0,2],y:[1,3]};return oe.setRange=function(){var j=ie.sectorBBox,se=X[Q],te=ie.radialAxis._rl,fe=(te[1]-te[0])/(1-ie.getHole($));oe.range=[j[se[0]]*fe,j[se[1]]*fe]},oe.isPtWithinRange=Q==="x"&&!Y?function(j){return ie.isPtInside(j)}:function(){return!0},oe.setRange(),oe.setScale(),oe},B.doAutoRange=function(le,$){var K=this,ie=K.gd,Y=K.radialAxis,Q=K.getRadial($);u(ie,Y);var oe=Y.range;if(Q.range=oe.slice(),Q._input.range=oe.slice(),Y._rl=[Y.r2l(oe[0],null,"gregorian"),Y.r2l(oe[1],null,"gregorian")],Y.minallowed!==void 0){var X=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],X):Y._rl[0]=Math.max(Y._rl[0],X)}if(Y.maxallowed!==void 0){var j=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],j):Y._rl[0]=Math.min(Y._rl[0],j)}},B.updateRadialAxis=function(le,$){var K=this,ie=K.gd,Y=K.layers,Q=K.radius,oe=K.innerRadius,X=K.cx,j=K.cy,se=K.getRadial($),te=k(K.getSector($)[0],360),fe=K.radialAxis,ge=oe<Q,be=K.isSmith;be||(K.fillViewInitialKey("radialaxis.angle",se.angle),K.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&te>90&&te<=270&&(fe.tickangle=180);var xe=be?function(et){var it=D(K,E([et.x,0]));return v(it[0]-X,it[1]-j)}:function(et){return v(fe.l2p(et.x)+oe,0)},_e=be?function(et){return I(K,et.x,-1/0,1/0)}:function(et){return K.pathArc(fe.r2p(et.x)+oe)},De=W(se);if(K.radialTickLayout!==De&&(Y["radial-axis"].selectAll(".xtick").remove(),K.radialTickLayout=De),ge){fe.setScale();var Fe=0,Te=be?(fe.tickvals||[]).filter(function(et){return et>=0}).map(function(et){return i.tickText(fe,et,!0,!1)}):i.calcTicks(fe),Re=be?Te:i.clipEnds(fe,Te),Se=i.getTickSigns(fe)[2];be&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Se=-Se),fe.ticks==="top"&&fe.side==="top"&&(Fe=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Fe=fe.ticklen)),i.drawTicks(ie,fe,{vals:Te,layer:Y["radial-axis"],path:i.makeTickPath(fe,0,Se),transFn:xe,crisp:!1}),i.drawGrid(ie,fe,{vals:Re,layer:Y["radial-grid"],path:_e,transFn:L.noop,crisp:!1}),i.drawLabels(ie,fe,{vals:Te,layer:Y["radial-axis"],transFn:xe,labelFns:i.makeLabelFns(fe,Fe)})}var Ie=K.radialAxisAngle=K.vangles?F(re(O(se.angle),K.vangles)):se.angle,Me=v(X,j),Ve=Me+S(-Ie);ne(Y["radial-axis"],ge&&(se.showticklabels||se.ticks),{transform:Ve}),ne(Y["radial-grid"],ge&&se.showgrid,{transform:be?"":Me}),ne(Y["radial-line"].select("line"),ge&&se.showline,{x1:be?-Q:oe,y1:0,x2:Q,y2:0,transform:Ve}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateRadialAxisTitle=function(le,$,K){if(!this.isSmith){var ie=this,Y=ie.gd,Q=ie.radius,oe=ie.cx,X=ie.cy,j=ie.getRadial($),se=ie.id+"title",te=0;if(j.title){var fe=r.bBox(ie.layers["radial-axis"].node()).height,ge=j.title.font.size,be=j.side;te=be==="top"?ge:be==="counterclockwise"?-(fe+ge*.4):fe+ge*.8}var xe=K!==void 0?K:ie.radialAxisAngle,_e=O(xe),De=Math.cos(_e),Fe=Math.sin(_e),Te=oe+Q/2*De+te*Fe,Re=X-Q/2*Fe+te*De;ie.layers["radial-axis-title"]=T.draw(Y,se,{propContainer:j,propName:ie.id+".radialaxis.title",placeholder:N(Y,"Click to enter radial axis title"),attributes:{x:Te,y:Re,"text-anchor":"middle"},transform:{rotate:-xe}})}},B.updateAngularAxis=function(le,$){var K=this,ie=K.gd,Y=K.layers,Q=K.radius,oe=K.innerRadius,X=K.cx,j=K.cy,se=K.getAngular($),te=K.angularAxis,fe=K.isSmith;fe||(K.fillViewInitialKey("angularaxis.rotation",se.rotation),te.setGeometry(),te.setScale());var ge=fe?function(it){var Je=D(K,E([0,it.x]));return Math.atan2(Je[0]-X,Je[1]-j)-Math.PI/2}:function(it){return te.t2g(it.x)};te.type==="linear"&&te.thetaunit==="radians"&&(te.tick0=F(te.tick0),te.dtick=F(te.dtick));var be=function(it){return v(X+Q*Math.cos(it),j-Q*Math.sin(it))},xe=fe?function(it){var Je=D(K,E([0,it.x]));return v(Je[0],Je[1])}:function(it){return be(ge(it))},_e=fe?function(it){var Je=D(K,E([0,it.x])),Qe=Math.atan2(Je[0]-X,Je[1]-j)-Math.PI/2;return v(Je[0],Je[1])+S(-F(Qe))}:function(it){var Je=ge(it);return be(Je)+S(-F(Je))},De=fe?function(it){return b(K,it.x,0,1/0)}:function(it){var Je=ge(it),Qe=Math.cos(Je),ct=Math.sin(Je);return"M"+[X+oe*Qe,j-oe*ct]+"L"+[X+Q*Qe,j-Q*ct]},Fe=i.makeLabelFns(te,0),Te=Fe.labelStandoff,Re={};Re.xFn=function(it){var Je=ge(it);return Math.cos(Je)*Te},Re.yFn=function(it){var Je=ge(it),Qe=Math.sin(Je)>0?.2:1;return-Math.sin(Je)*(Te+it.fontSize*Qe)+Math.abs(Math.cos(Je))*(it.fontSize*y)},Re.anchorFn=function(it){var Je=ge(it),Qe=Math.cos(Je);return Math.abs(Qe)<.1?"middle":Qe>0?"start":"end"},Re.heightFn=function(it,Je,Qe){var ct=ge(it);return-.5*(1+Math.sin(ct))*Qe};var Se=W(se);K.angularTickLayout!==Se&&(Y["angular-axis"].selectAll("."+te._id+"tick").remove(),K.angularTickLayout=Se);var Ie=fe?[1/0].concat(te.tickvals||[]).map(function(it){return i.tickText(te,it,!0,!1)}):i.calcTicks(te);fe&&(Ie[0].text="∞",Ie[0].fontSize*=1.75);var Me;if($.gridshape==="linear"?(Me=Ie.map(ge),L.angleDelta(Me[0],Me[1])<0&&(Me=Me.slice().reverse())):Me=null,K.vangles=Me,te.type==="category"&&(Ie=Ie.filter(function(it){return L.isAngleInsideSector(ge(it),K.sectorInRad)})),te.visible){var Ve=te.ticks==="inside"?-1:1,et=(te.linewidth||1)/2;i.drawTicks(ie,te,{vals:Ie,layer:Y["angular-axis"],path:"M"+Ve*et+",0h"+Ve*te.ticklen,transFn:_e,crisp:!1}),i.drawGrid(ie,te,{vals:Ie,layer:Y["angular-grid"],path:De,transFn:L.noop,crisp:!1}),i.drawLabels(ie,te,{vals:Ie,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:xe,labelFns:Re})}ne(Y["angular-line"].select("path"),se.showline,{d:K.pathSubplot(),transform:v(X,j)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateFx=function(le,$){if(!this.gd._context.staticPlot){var K=!this.isSmith;K&&(this.updateAngularDrag(le),this.updateRadialDrag(le,$,0),this.updateRadialDrag(le,$,1)),this.updateHoverAndMainDrag(le)}},B.updateHoverAndMainDrag=function(le){var $=this,K=$.isSmith,ie=$.gd,Y=$.layers,Q=le._zoomlayer,oe=M.MINZOOM,X=M.OFFEDGE,j=$.radius,se=$.innerRadius,te=$.cx,fe=$.cy,ge=$.cxx,be=$.cyy,xe=$.sectorInRad,_e=$.vangles,De=$.radialAxis,Fe=A.clampTiny,Te=A.findXYatLength,Re=A.findEnclosingVertexAngles,Se=M.cornerHalfWidth,Ie=M.cornerLen/2,Me,Ve,et=l.makeDragger(Y,"path","maindrag",le.dragmode===!1?"none":"crosshair");m.select(et).attr("d",$.pathSubplot()).attr("transform",v(te,fe)),et.onmousemove=function(dt){h.hover(ie,dt,$.id),ie._fullLayout._lasthover=et,ie._fullLayout._hoversubplot=$.id},et.onmouseout=function(dt){ie._dragging||g.unhover(ie,dt)};var it={element:et,gd:ie,subplot:$.id,plotinfo:{id:$.id,xaxis:$.xaxis,yaxis:$.yaxis},xaxes:[$.xaxis],yaxes:[$.yaxis]},Je,Qe,ct,ht,gt,Tt,Et,rt,ze;function He(dt,Mt){return Math.sqrt(dt*dt+Mt*Mt)}function Ge(dt,Mt){return He(dt-ge,Mt-be)}function We(dt,Mt){return Math.atan2(be-Mt,dt-ge)}function Le(dt,Mt){return[dt*Math.cos(Mt),dt*Math.sin(-Mt)]}function Pe(dt,Mt){if(dt===0)return $.pathSector(2*Se);var Xt=Ie/dt,nr=Mt-Xt,vt=Mt+Xt,Zt=Math.max(0,Math.min(dt,j)),Kt=Zt-Se,yr=Zt+Se;return"M"+Le(Kt,nr)+"A"+[Kt,Kt]+" 0,0,0 "+Le(Kt,vt)+"L"+Le(yr,vt)+"A"+[yr,yr]+" 0,0,1 "+Le(yr,nr)+"Z"}function je(dt,Mt,Xt){if(dt===0)return $.pathSector(2*Se);var nr=Le(dt,Mt),vt=Le(dt,Xt),Zt=Fe((nr[0]+vt[0])/2),Kt=Fe((nr[1]+vt[1])/2),yr,or;if(Zt&&Kt){var mt=Kt/Zt,lt=-1/mt,bt=Te(Se,mt,Zt,Kt);yr=Te(Ie,lt,bt[0][0],bt[0][1]),or=Te(Ie,lt,bt[1][0],bt[1][1])}else{var Ct,Dt;Kt?(Ct=Ie,Dt=Se):(Ct=Se,Dt=Ie),yr=[[Zt-Ct,Kt-Dt],[Zt+Ct,Kt-Dt]],or=[[Zt-Ct,Kt+Dt],[Zt+Ct,Kt+Dt]]}return"M"+yr.join("L")+"L"+or.reverse().join("L")+"Z"}function Ce(){ct=null,ht=null,gt=$.pathSubplot(),Tt=!1;var dt=ie._fullLayout[$.id];Et=P(dt.bgcolor).getLuminance(),rt=l.makeZoombox(Q,Et,te,fe,gt),rt.attr("fill-rule","evenodd"),ze=l.makeCorners(Q,te,fe),d(ie)}function he(dt,Mt){return Mt=Math.max(Math.min(Mt,j),se),dt<X?dt=0:j-dt<X?dt=j:Mt<X?Mt=0:j-Mt<X&&(Mt=j),Math.abs(Mt-dt)>oe?(dt<Mt?(ct=dt,ht=Mt):(ct=Mt,ht=dt),!0):(ct=null,ht=null,!1)}function me(dt,Mt){dt=dt||gt,Mt=Mt||"M0,0Z",rt.attr("d",dt),ze.attr("d",Mt),l.transitionZoombox(rt,ze,Tt,Et),Tt=!0;var Xt={};Wt(Xt),ie.emit("plotly_relayouting",Xt)}function Ne(dt,Mt){dt=dt*Me,Mt=Mt*Ve;var Xt=Je+dt,nr=Qe+Mt,vt=Ge(Je,Qe),Zt=Math.min(Ge(Xt,nr),j),Kt=We(Je,Qe),yr,or;he(vt,Zt)&&(yr=gt+$.pathSector(ht),ct&&(yr+=$.pathSector(ct)),or=Pe(ct,Kt)+Pe(ht,Kt)),me(yr,or)}function $e(dt,Mt,Xt,nr){var vt=A.findIntersectionXY(Xt,nr,Xt,[dt-ge,be-Mt]);return He(vt[0],vt[1])}function ot(dt,Mt){var Xt=Je+dt,nr=Qe+Mt,vt=We(Je,Qe),Zt=We(Xt,nr),Kt=Re(vt,_e),yr=Re(Zt,_e),or=$e(Je,Qe,Kt[0],Kt[1]),mt=Math.min($e(Xt,nr,yr[0],yr[1]),j),lt,bt;he(or,mt)&&(lt=gt+$.pathSector(ht),ct&&(lt+=$.pathSector(ct)),bt=[je(ct,Kt[0],Kt[1]),je(ht,Kt[0],Kt[1])].join(" ")),me(lt,bt)}function st(){if(l.removeZoombox(ie),!(ct===null||ht===null)){var dt={};Wt(dt),l.showDoubleClickNotifier(ie),s.call("_guiRelayout",ie,dt)}}function Wt(dt){var Mt=De._rl,Xt=(Mt[1]-Mt[0])/(1-se/j)/j,nr=[Mt[0]+(ct-se)*Xt,Mt[0]+(ht-se)*Xt];dt[$.id+".radialaxis.range"]=nr}function Pt(dt,Mt){var Xt=ie._fullLayout.clickmode;if(l.removeZoombox(ie),dt===2){var nr={};for(var vt in $.viewInitial)nr[$.id+"."+vt]=$.viewInitial[vt];ie.emit("plotly_doubleclick",null),s.call("_guiRelayout",ie,nr)}Xt.indexOf("select")>-1&&dt===1&&a(Mt,ie,[$.xaxis],[$.yaxis],$.id,it),Xt.indexOf("event")>-1&&h.click(ie,Mt,$.id)}it.prepFn=function(dt,Mt,Xt){var nr=ie._fullLayout.dragmode,vt=et.getBoundingClientRect();ie._fullLayout._calcInverseTransform(ie);var Zt=ie._fullLayout._invTransform;Me=ie._fullLayout._invScaleX,Ve=ie._fullLayout._invScaleY;var Kt=L.apply3DTransform(Zt)(Mt-vt.left,Xt-vt.top);if(Je=Kt[0],Qe=Kt[1],_e){var yr=A.findPolygonOffset(j,xe[0],xe[1],_e);Je+=ge+yr[0],Qe+=be+yr[1]}switch(nr){case"zoom":it.clickFn=Pt,K||(_e?it.moveFn=ot:it.moveFn=Ne,it.doneFn=st,Ce());break;case"select":case"lasso":c(dt,Mt,Xt,it,nr);break}},g.init(it)},B.updateRadialDrag=function(le,$,K){var ie=this,Y=ie.gd,Q=ie.layers,oe=ie.radius,X=ie.innerRadius,j=ie.cx,se=ie.cy,te=ie.radialAxis,fe=M.radialDragBoxSize,ge=fe/2;if(!te.visible)return;var be=O(ie.radialAxisAngle),xe=te._rl,_e=xe[0],De=xe[1],Fe=xe[K],Te=.75*(xe[1]-xe[0])/(1-ie.getHole($))/oe,Re,Se,Ie;K?(Re=j+(oe+ge)*Math.cos(be),Se=se-(oe+ge)*Math.sin(be),Ie="radialdrag"):(Re=j+(X-ge)*Math.cos(be),Se=se-(X-ge)*Math.sin(be),Ie="radialdrag-inner");var Me=l.makeRectDragger(Q,Ie,"crosshair",-ge,-ge,fe,fe),Ve={element:Me,gd:Y};le.dragmode===!1&&(Ve.dragmode=!1),ne(m.select(Me),te.visible&&X<oe,{transform:v(Re,Se)});var et,it,Je;function Qe(Et,rt){if(et)et(Et,rt);else{var ze=[Et,-rt],He=[Math.cos(be),Math.sin(be)],Ge=Math.abs(L.dot(ze,He)/Math.sqrt(L.dot(ze,ze)));isNaN(Ge)||(et=Ge<.5?gt:Tt)}var We={};ct(We),Y.emit("plotly_relayouting",We)}function ct(Et){it!==null?Et[ie.id+".radialaxis.angle"]=it:Je!==null&&(Et[ie.id+".radialaxis.range["+K+"]"]=Je)}function ht(){it!==null?s.call("_guiRelayout",Y,ie.id+".radialaxis.angle",it):Je!==null&&s.call("_guiRelayout",Y,ie.id+".radialaxis.range["+K+"]",Je)}function gt(Et,rt){if(K!==0){var ze=Re+Et,He=Se+rt;it=Math.atan2(se-He,ze-j),ie.vangles&&(it=re(it,ie.vangles)),it=F(it);var Ge=v(j,se)+S(-it);Q["radial-axis"].attr("transform",Ge),Q["radial-line"].select("line").attr("transform",Ge);var We=ie.gd._fullLayout,Le=We[ie.id];ie.updateRadialAxisTitle(We,Le,it)}}function Tt(Et,rt){var ze=L.dot([Et,-rt],[Math.cos(be),Math.sin(be)]);if(Je=Fe-Te*ze,Te>0!=(K?Je>_e:Je<De)){Je=null;return}var He=Y._fullLayout,Ge=He[ie.id];te.range[K]=Je,te._rl[K]=Je,ie.updateRadialAxis(He,Ge),ie.xaxis.setRange(),ie.xaxis.setScale(),ie.yaxis.setRange(),ie.yaxis.setScale();var We=!1;for(var Le in ie.traceHash){var Pe=ie.traceHash[Le],je=L.filterVisible(Pe),Ce=Pe[0][0].trace._module;Ce.plot(Y,ie,je,Ge),s.traceIs(Le,"gl")&&je.length&&(We=!0)}We&&(w(Y),C(Y))}Ve.prepFn=function(){et=null,it=null,Je=null,Ve.moveFn=Qe,Ve.doneFn=ht,d(Y)},Ve.clampFn=function(Et,rt){return Math.sqrt(Et*Et+rt*rt)<M.MINDRAG&&(Et=0,rt=0),[Et,rt]},g.init(Ve)},B.updateAngularDrag=function(le){var $=this,K=$.gd,ie=$.layers,Y=$.radius,Q=$.angularAxis,oe=$.cx,X=$.cy,j=$.cxx,se=$.cyy,te=M.angularDragBoxSize,fe=l.makeDragger(ie,"path","angulardrag",le.dragmode===!1?"none":"move"),ge={element:fe,gd:K};le.dragmode===!1?ge.dragmode=!1:m.select(fe).attr("d",$.pathAnnulus(Y,Y+te)).attr("transform",v(oe,X)).call(x,"move");function be(Je,Qe){return Math.atan2(se+te-Qe,Je-j-te)}var xe=ie.frontplot.select(".scatterlayer").selectAll(".trace"),_e=xe.selectAll(".point"),De=xe.selectAll(".textpoint"),Fe,Te,Re,Se,Ie,Me;function Ve(Je,Qe){var ct=$.gd._fullLayout,ht=ct[$.id],gt=Fe+Je*le._invScaleX,Tt=Te+Qe*le._invScaleY,Et=be(gt,Tt),rt=F(Et-Me);if(Se=Re+rt,ie.frontplot.attr("transform",v($.xOffset2,$.yOffset2)+S([-rt,j,se])),$.vangles){Ie=$.radialAxisAngle+rt;var ze=v(oe,X)+S(-rt),He=v(oe,X)+S(-Ie);ie.bg.attr("transform",ze),ie["radial-grid"].attr("transform",ze),ie["radial-axis"].attr("transform",He),ie["radial-line"].select("line").attr("transform",He),$.updateRadialAxisTitle(ct,ht,Ie)}else $.clipPaths.forTraces.select("path").attr("transform",v(j,se)+S(rt));_e.each(function(){var he=m.select(this),me=r.getTranslate(he);he.attr("transform",v(me.x,me.y)+S([rt]))}),De.each(function(){var he=m.select(this),me=he.select("text"),Ne=r.getTranslate(he);he.attr("transform",S([rt,me.attr("x"),me.attr("y")])+v(Ne.x,Ne.y))}),Q.rotation=L.modHalf(Se,360),$.updateAngularAxis(ct,ht),$._hasClipOnAxisFalse&&!L.isFullCircle($.sectorInRad)&&xe.call(r.hideOutsideRangePoints,$);var Ge=!1;for(var We in $.traceHash)if(s.traceIs(We,"gl")){var Le=$.traceHash[We],Pe=L.filterVisible(Le),je=Le[0][0].trace._module;je.plot(K,$,Pe,ht),Pe.length&&(Ge=!0)}Ge&&(w(K),C(K));var Ce={};et(Ce),K.emit("plotly_relayouting",Ce)}function et(Je){Je[$.id+".angularaxis.rotation"]=Se,$.vangles&&(Je[$.id+".radialaxis.angle"]=Ie)}function it(){De.select("text").attr("transform",null);var Je={};et(Je),s.call("_guiRelayout",K,Je)}ge.prepFn=function(Je,Qe,ct){var ht=le[$.id];Re=ht.angularaxis.rotation;var gt=fe.getBoundingClientRect();Fe=Qe-gt.left,Te=ct-gt.top,K._fullLayout._calcInverseTransform(K);var Tt=L.apply3DTransform(le._invTransform)(Fe,Te);Fe=Tt[0],Te=Tt[1],Me=be(Fe,Te),ge.moveFn=Ve,ge.doneFn=it,d(K)},$.vangles&&!L.isFullCircle($.sectorInRad)&&(ge.prepFn=L.noop,x(m.select(fe),null)),g.init(ge)},B.isPtInside=function(le){if(this.isSmith)return!0;var $=this.sectorInRad,K=this.vangles,ie=this.angularAxis.c2g(le.theta),Y=this.radialAxis,Q=Y.c2l(le.r),oe=Y._rl,X=K?A.isPtInsidePolygon:L.isPtInsideSector;return X(Q,ie,oe,$,K)},B.pathArc=function(le){var $=this.sectorInRad,K=this.vangles,ie=K?A.pathPolygon:L.pathArc;return ie(le,$[0],$[1],K)},B.pathSector=function(le){var $=this.sectorInRad,K=this.vangles,ie=K?A.pathPolygon:L.pathSector;return ie(le,$[0],$[1],K)},B.pathAnnulus=function(le,$){var K=this.sectorInRad,ie=this.vangles,Y=ie?A.pathPolygonAnnulus:L.pathAnnulus;return Y(le,$,K[0],K[1],ie)},B.pathSubplot=function(){var le=this.innerRadius,$=this.radius;return le?this.pathAnnulus(le,$):this.pathSector($)},B.fillViewInitialKey=function(le,$){le in this.viewInitial||(this.viewInitial[le]=$)};function W(le){var $=le.ticks+String(le.ticklen)+String(le.showticklabels);return"side"in le&&($+=le.side),$}function J(le){var $=le[0],K=le[1],ie=K-$,Y=k($,360),Q=Y+ie,oe=Math.cos(O(Y)),X=Math.sin(O(Y)),j=Math.cos(O(Q)),se=Math.sin(O(Q)),te,fe,ge,be;return Y<=90&&Q>=90||Y>90&&Q>=450?be=1:X<=0&&se<=0?be=0:be=Math.max(X,se),Y<=180&&Q>=180||Y>180&&Q>=540?te=-1:oe>=0&&j>=0?te=0:te=Math.min(oe,j),Y<=270&&Q>=270||Y>270&&Q>=630?fe=-1:X>=0&&se>=0?fe=0:fe=Math.min(X,se),Q>=360?ge=1:oe<=0&&j<=0?ge=0:ge=Math.max(oe,j),[te,fe,ge,be]}function re(le,$){var K=function(Y){return L.angleDist(le,Y)},ie=L.findIndexOfMin($,K);return $[ie]}function ne(le,$,K){return $?(le.attr("display",null),le.attr(K)):le&&le.attr("display","none"),le}},57696:function(G,H,e){var m=e(3400),P=e(78344),s=m.deg2rad,L=m.rad2deg;G.exports=function(i,n,f){switch(P(i,f),i._id){case"x":case"radialaxis":S(i,n);break;case"angularaxis":r(i,n);break}};function S(t,i){var n=i._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=n.innerRadius,g=(n.radius-l)/(u-f),h=l/g,T=f>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var a=t.c2l(c)-f;return(T(a)?a:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*g},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,i){return i==="degrees"?s(t):t}function p(t,i){return i==="degrees"?L(t):t}function r(t,i){var n=t.type;if(n==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,g){return v(f(l),g)},t.c2d=function(l,g){return u(p(l,g))}}t.makeCalcdata=function(l,g){var h=l[g],T=l._length,c,a,d=function(M){return t.d2c(M,l.thetaunit)};if(h)for(c=new Array(T),a=0;a<T;a++)c[a]=d(h[a]);else{var x=g+"0",w="d"+g,C=x in l?d(l[x]):0,y=l[w]?d(l[w]):(t.period||2*Math.PI)/T;for(c=new Array(T),a=0;a<T;a++)c[a]=C+a*y}return c},t.setGeometry=function(){var l=i.sector,g=l.map(s),h={clockwise:-1,counterclockwise:1}[t.direction],T=s(t.rotation),c=function(A){return h*A+T},a=function(A){return(A-T)/h},d,x,w,C;switch(n){case"linear":x=d=m.identity,C=s,w=L,t.range=m.isFullCircle(g)?[l[0],l[0]+360]:g.map(a).map(L);break;case"category":var y=t._categories.length,M=t.period?Math.max(t.period,y):y;M===0&&(M=1),x=C=function(A){return A*2*Math.PI/M},d=w=function(A){return A*M/Math.PI/2},t.range=[0,M];break}t.c2g=function(A){return c(x(A))},t.g2c=function(A){return d(a(A))},t.t2g=function(A){return c(C(A))},t.g2t=function(A){return w(a(A))}}}},55012:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(G){function H(S){return S<0?-1:S>0?1:0}function e(S){var v=S[0],p=S[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function m(S,v){var p=v[0],r=v[1];return[p*S.radius+S.cx,-r*S.radius+S.cy]}function P(S,v){return v*S.radius}function s(S,v,p,r){var t=m(S,e([p,v])),i=t[0],n=t[1],f=m(S,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+i+","+n,"L"+u+","+l].join(" ");var g=P(S,1/Math.abs(v));return["M"+i+","+n,"A"+g+","+g+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function L(S,v,p,r){var t=P(S,1/(v+1)),i=m(S,e([v,p])),n=i[0],f=i[1],u=m(S,e([v,r])),l=u[0],g=u[1];if(H(p)!==H(r)){var h=m(S,e([v,0])),T=h[0],c=h[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+g].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+g].join(" ")}G.exports={smith:e,reactanceArc:s,resistanceArc:L,smithTransform:m}},47788:function(G,H,e){var m=e(84888).KY,P=e(3400).counterRegex,s=e(62400),L=e(55012),S=L.attr,v=L.name,p=P(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],g=0;g<l.length;g++){var h=l[g],T=m(u,v,h),c=f[h]._subplot;c||(c=s(n,h,!0),f[h]._subplot=c),c.plot(T,f,n._promises)}}function i(n,f,u,l){for(var g=l._subplots[v]||[],h=0;h<g.length;h++){var T=g[h],c=l[T]._subplot;if(!f[T]&&c){c.framework.remove();for(var a in c.clipPaths)c.clipPaths[a].remove()}}}G.exports={attr:S,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:i,toSVG:e(57952).toSVG}},6183:function(G,H,e){var m=e(22548),P=e(94724),s=e(86968).u,L=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=S({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);G.exports={domain:s({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:m.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(G,H,e){var m=e(3400),P=e(76308),s=e(31780),L=e(168),S=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),i=e(6183),n=e(55012),f=n.axisNames,u=g(function(h){return m.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function l(h,T,c,a){var d=c("bgcolor");a.bgColor=P.combine(d,a.paper_bgcolor);var x=S(a.fullData,n.name,a.id),w=a.layoutOut,C;function y(B,W){return c(C+"."+B,W)}for(var M=0;M<f.length;M++){C=f[M],m.isPlainObject(h[C])||(h[C]={});var A=h[C],o=s.newContainer(T,C);o._id=o._name=C,o._attr=a.id+"."+C,o._traceIndices=x.map(function(B){return B._expandedIndex});var E=y("visible");if(o.type="linear",t(o,w),v(A,o,y,o.type),E){var b=C==="realaxis";if(b&&y("side"),b)y("tickvals");else{var I=u(T.realaxis.tickvals||i.realaxis.tickvals.dflt);y("tickvals",I)}m.isTypedArray(o.tickvals)&&(o.tickvals=Array.from(o.tickvals));var D,N,k,O,F=a.font||{};E&&(D=y("color"),N=D===A.color?D:F.color,k=F.size,O=F.family),p(A,o,y,o.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:N,size:k,family:O}}),m.coerce2(h,T,i,C+".ticklen"),m.coerce2(h,T,i,C+".tickwidth"),m.coerce2(h,T,i,C+".tickcolor",T.color);var z=y("ticks");z||(delete T[C].ticklen,delete T[C].tickwidth,delete T[C].tickcolor),r(A,o,y,{dfltColor:D,bgColor:a.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[C]}),y("layer")}y("hoverformat"),delete o.type,o._input=A}}G.exports=function(T,c,a){L(T,c,a,{noUirevision:!0,type:n.name,attributes:i,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:a,layoutOut:c})};function g(h,T){var c={};return function(a){var d=T?T(a):a;if(d in c)return c[d];var x=h(a);return c[d]=x,x}}},168:function(G,H,e){var m=e(3400),P=e(31780),s=e(86968).Q;G.exports=function(S,v,p,r){var t=r.type,i=r.attributes,n=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,g=l&&u[0].replace(/\d+$/,""),h,T;function c(w,C){return m.coerce(h,T,i,w,C)}for(var a=0;a<l;a++){var d=u[a];S[d]?h=S[d]:h=S[d]={},T=P.newContainer(v,d,g),r.noUirevision||c("uirevision",v.uirevision);var x={};x[f]=[a/l,(a+1)/l],s(T,v,c,x),r.id=d,n(h,T,c,r)}}},21776:function(G,H,e){var m=e(26880);m.FORMAT_LINK,m.DATE_FORMAT_LINK;function P(s){var L=s.description?" "+s.description:"",S=s.keys||[];if(S.length>0){for(var v=[],p=0;p<S.length;p++)v[p]="`"+S[p]+"`";L=L+"Finally, the template string has access to ",S.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}H.Ks=function(s,L){s=s||{},L=L||{},P(L);var S={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(S.arrayOk=!0),S},H.Gw=function(s,L){s=s||{},L=L||{},P(L);var S={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(S.arrayOk=!0),S},H.ye=function(s,L){s=s||{},L=L||{},s.newshape,P(L);var S={valType:"string",dflt:"",editType:s.editType||"arraydraw"};return S}},19352:function(G,H,e){var m=e(24696),P=e(84888).KY,s=e(3400).counterRegex,L="ternary";H.name=L;var S=H.attr="subplot";H.idRoot=L,H.idRegex=H.attrRegex=s(L);var v=H.attributes={};v[S]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(86379),H.supplyLayoutDefaults=e(38536),H.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,n=t._subplots[L],f=0;f<n.length;f++){var u=n[f],l=P(i,L,u),g=t[u]._subplot;g||(g=new m({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=g),g.plot(l,t,r._promises)}},H.clean=function(p,r,t,i){for(var n=i._subplots[L]||[],f=0;f<n.length;f++){var u=n[f],l=i[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(G,H,e){var m=e(22548),P=e(86968).u,s=e(94724),L=e(67824).overrideAll,S=e(92880).extendFlat,v={title:{text:s.title.text,font:s.title.font},color:s.color,tickmode:s.minor.tickmode,nticks:S({},s.nticks,{dflt:6,min:1}),tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:s.ticks,ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,showtickprefix:s.showtickprefix,tickprefix:s.tickprefix,showticksuffix:s.showticksuffix,ticksuffix:s.ticksuffix,showexponent:s.showexponent,exponentformat:s.exponentformat,minexponent:s.minexponent,separatethousands:s.separatethousands,tickfont:s.tickfont,tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,hoverformat:s.hoverformat,showline:S({},s.showline,{dflt:!0}),linecolor:s.linecolor,linewidth:s.linewidth,showgrid:S({},s.showgrid,{dflt:!0}),gridcolor:s.gridcolor,gridwidth:s.gridwidth,griddash:s.griddash,layer:s.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:s._deprecated.title,titlefont:s._deprecated.titlefont}},p=G.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:m.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(G,H,e){var m=e(76308),P=e(31780),s=e(3400),L=e(168),S=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),i=e(86379),n=["aaxis","baxis","caxis"];G.exports=function(g,h,T){L(g,h,T,{type:"ternary",attributes:i,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(l,g,h,T){var c=h("bgcolor"),a=h("sum");T.bgColor=m.combine(c,T.paper_bgcolor);for(var d,x,w,C=0;C<n.length;C++)d=n[C],x=l[d]||{},w=P.newContainer(g,d),w._name=d,u(x,w,T,g);var y=g.aaxis,M=g.baxis,A=g.caxis;y.min+M.min+A.min>=a&&(y.min=0,M.min=0,A.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,g,h,T){var c=i[g._name];function a(o,E){return s.coerce(l,g,c,o,E)}a("uirevision",T.uirevision),g.type="linear";var d=a("color"),x=d!==c.color.dflt?d:h.font.color,w=g._name,C=w.charAt(0).toUpperCase(),y="Component "+C,M=a("title.text",y);g._hovertitle=M===y?M:C,s.coerceFont(a,"title.font",h.font,{overrideDflt:{size:s.bigFont(h.font.size),color:x}}),a("min"),r(l,g,a,"linear"),v(l,g,a,"linear"),S(l,g,a,"linear",{noAutotickangles:!0}),p(l,g,a,{outerTicks:!0});var A=a("showticklabels");A&&(s.coerceFont(a,"tickfont",h.font,{overrideDflt:{color:x}}),a("tickangle"),a("tickformat")),t(l,g,a,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),a("hoverformat"),a("layer")}},24696:function(G,H,e){var m=e(33428),P=e(49760),s=e(24040),L=e(3400),S=L.strTranslate,v=L._,p=e(76308),r=e(43616),t=e(78344),i=e(92880).extendFlat,n=e(7316),f=e(54460),u=e(86476),l=e(93024),g=e(72760),h=g.freeMode,T=g.rectMode,c=e(81668),a=e(22676).prepSelect,d=e(22676).selectOnClick,x=e(22676).clearOutline,w=e(22676).clearSelectionsCache,C=e(33816);function y(F,z){this.id=F.id,this.graphDiv=F.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=y;var M=y.prototype;M.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},M.plot=function(F,z){var B=this,W=z[B.id],J=z._size;B._hasClipOnAxisFalse=!1;for(var re=0;re<F.length;re++){var ne=F[re][0].trace;if(ne.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(W),B.adjustLayout(W,J),n.generalUpdatePerTraceModule(B.graphDiv,B,F,W),B.layers.plotbg.select("path").call(p.fill,W.bgcolor)},M.makeFramework=function(F){var z=this,B=z.graphDiv,W=F[z.id],J=z.clipId="clip"+z.layoutId+z.id,re=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=L.ensureSingleById(F._clips,"clipPath",J,function(ne){ne.append("path").attr("d","M0,0Z")}),z.clipDefRelative=L.ensureSingleById(F._clips,"clipPath",re,function(ne){ne.append("path").attr("d","M0,0Z")}),z.plotContainer=L.ensureSingle(z.container,"g",z.id),z.updateLayers(W),r.setClipUrl(z.layers.backplot,J,B),r.setClipUrl(z.layers.grids,J,B)},M.updateLayers=function(F){var z=this,B=z.layers,W=["draglayer","plotbg","backplot","grids"];F.aaxis.layer==="below traces"&&W.push("aaxis","aline"),F.baxis.layer==="below traces"&&W.push("baxis","bline"),F.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),F.aaxis.layer==="above traces"&&W.push("aaxis","aline"),F.baxis.layer==="above traces"&&W.push("baxis","bline"),F.caxis.layer==="above traces"&&W.push("caxis","cline");var J=z.plotContainer.selectAll("g.toplevel").data(W,String),re=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var le=m.select(this);B[ne]=le,ne==="frontplot"?le.append("g").classed("scatterlayer",!0):ne==="backplot"?le.append("g").classed("maplayer",!0):ne==="plotbg"?le.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?le.append("path"):ne==="grids"&&re.forEach(function($){B[$]=le.append("g").classed("grid "+$,!0)})}),J.order()};var A=Math.sqrt(4/3);M.adjustLayout=function(F,z){var B=this,W=F.domain,J=(W.x[0]+W.x[1])/2,re=(W.y[0]+W.y[1])/2,ne=W.x[1]-W.x[0],le=W.y[1]-W.y[0],$=ne*z.w,K=le*z.h,ie=F.sum,Y=F.aaxis.min,Q=F.baxis.min,oe=F.caxis.min,X,j,se,te,fe,ge;$>A*K?(te=K,se=te*A):(se=$,te=se/A),fe=ne*se/$,ge=le*te/K,X=z.l+z.w*J-se/2,j=z.t+z.h*(1-re)-te/2,B.x0=X,B.y0=j,B.w=se,B.h=te,B.sum=ie,B.xaxis={type:"linear",range:[Y+2*oe-ie,ie-Y-2*Q],domain:[J-fe/2,J+fe/2],_id:"x"},t(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(Ve){return Ve.a>=B.aaxis.range[0]&&Ve.a<=B.aaxis.range[1]&&Ve.b>=B.baxis.range[1]&&Ve.b<=B.baxis.range[0]&&Ve.c>=B.caxis.range[1]&&Ve.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[Y,ie-Q-oe],domain:[re-ge/2,re+ge/2],_id:"y"},t(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var be=B.yaxis.domain[0],xe=B.aaxis=i({},F.aaxis,{range:[Y,ie-Q-oe],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[be,be+ge*A],anchor:"free",position:0,_id:"y",_length:se});t(xe,B.graphDiv._fullLayout),xe.setScale();var _e=B.baxis=i({},F.baxis,{range:[ie-Y-oe,Q],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(_e,B.graphDiv._fullLayout),_e.setScale();var De=B.caxis=i({},F.caxis,{range:[ie-Y-Q,oe],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[be,be+ge*A],anchor:"free",position:0,_id:"y",_length:se});t(De,B.graphDiv._fullLayout),De.setScale();var Fe="M"+X+","+(j+te)+"h"+se+"l-"+se/2+",-"+te+"Z";B.clipDef.select("path").attr("d",Fe),B.layers.plotbg.select("path").attr("d",Fe);var Te="M0,"+te+"h"+se+"l-"+se/2+",-"+te+"Z";B.clipDefRelative.select("path").attr("d",Te);var Re=S(X,j);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Re),B.clipDefRelative.select("path").attr("transform",null);var Se=S(X-_e._offset,j+te);B.layers.baxis.attr("transform",Se),B.layers.bgrid.attr("transform",Se);var Ie=S(X+se/2,j)+"rotate(30)"+S(0,-xe._offset);B.layers.aaxis.attr("transform",Ie),B.layers.agrid.attr("transform",Ie);var Me=S(X+se/2,j)+"rotate(-30)"+S(0,-De._offset);B.layers.caxis.attr("transform",Me),B.layers.cgrid.attr("transform",Me),B.drawAxes(!0),B.layers.aline.select("path").attr("d",xe.showline?"M"+X+","+(j+te)+"l"+se/2+",-"+te:"M0,0").call(p.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",_e.showline?"M"+X+","+(j+te)+"h"+se:"M0,0").call(p.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",De.showline?"M"+(X+se/2)+","+j+"l"+se/2+","+te:"M0,0").call(p.stroke,De.linecolor||"#000").style("stroke-width",(De.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),r.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},M.drawAxes=function(F){var z=this,B=z.graphDiv,W=z.id.substr(7)+"title",J=z.layers,re=z.aaxis,ne=z.baxis,le=z.caxis;if(z.drawAx(re),z.drawAx(ne),z.drawAx(le),F){var $=Math.max(re.showticklabels?re.tickfont.size/2:0,(le.showticklabels?le.tickfont.size*.75:0)+(le.ticks==="outside"?le.ticklen*.87:0)),K=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;J["a-title"]=c.draw(B,"a"+W,{propContainer:re,propName:z.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-re.title.font.size/3-$,"text-anchor":"middle"}}),J["b-title"]=c.draw(B,"b"+W,{propContainer:ne,propName:z.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:z.x0-K,y:z.y0+z.h+ne.title.font.size*.83+K,"text-anchor":"middle"}}),J["c-title"]=c.draw(B,"c"+W,{propContainer:le,propName:z.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:z.x0+z.w+K,y:z.y0+z.h+le.title.font.size*.83+K,"text-anchor":"middle"}})}},M.drawAx=function(F){var z=this,B=z.graphDiv,W=F._name,J=W.charAt(0),re=F._id,ne=z.layers[W],le=30,$=J+"tickLayout",K=o(F);z[$]!==K&&(ne.selectAll("."+re+"tick").remove(),z[$]=K),F.setScale();var ie=f.calcTicks(F),Y=f.clipEnds(F,ie),Q=f.makeTransTickFn(F),oe=f.getTickSigns(F)[2],X=L.deg2rad(le),j=oe*(F.linewidth||1)/2,se=oe*F.ticklen,te=z.w,fe=z.h,ge=J==="b"?"M0,"+j+"l"+Math.sin(X)*se+","+Math.cos(X)*se:"M"+j+",0l"+Math.cos(X)*se+","+-Math.sin(X)*se,be={a:"M0,0l"+fe+",-"+te/2,b:"M0,0l-"+te/2+",-"+fe,c:"M0,0l-"+fe+","+te/2}[J];f.drawTicks(B,F,{vals:F.ticks==="inside"?Y:ie,layer:ne,path:ge,transFn:Q,crisp:!1}),f.drawGrid(B,F,{vals:Y,layer:z.layers[J+"grid"],path:be,transFn:Q,crisp:!1}),f.drawLabels(B,F,{vals:ie,layer:ne,transFn:Q,labelFns:f.makeLabelFns(F,0,le)})};function o(F){return F.ticks+String(F.ticklen)+String(F.showticklabels)}var E=C.MINZOOM/2+.87,b="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",I="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",D="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;M.clearOutline=function(){w(this.dragOptions),x(this.dragOptions.gd)},M.initInteractions=function(){var F=this,z=F.layers.plotbg.select("path").node(),B=F.graphDiv,W=B._fullLayout._zoomlayer,J,re;this.dragOptions={element:z,gd:B,plotinfo:{id:F.id,domain:B._fullLayout[F.id].domain,xaxis:F.xaxis,yaxis:F.yaxis},subplot:F.id,prepFn:function(Se,Ie,Me){F.dragOptions.xaxes=[F.xaxis],F.dragOptions.yaxes=[F.yaxis],J=B._fullLayout._invScaleX,re=B._fullLayout._invScaleY;var Ve=F.dragOptions.dragmode=B._fullLayout.dragmode;h(Ve)?F.dragOptions.minDrag=1:F.dragOptions.minDrag=void 0,Ve==="zoom"?(F.dragOptions.moveFn=_e,F.dragOptions.clickFn=te,F.dragOptions.doneFn=De,fe(Se,Ie,Me)):Ve==="pan"?(F.dragOptions.moveFn=Te,F.dragOptions.clickFn=te,F.dragOptions.doneFn=Re,Fe(),F.clearOutline(B)):(T(Ve)||h(Ve))&&a(Se,Ie,Me,F.dragOptions,Ve)}};var ne,le,$,K,ie,Y,Q,oe,X,j;function se(Se){var Ie={};return Ie[F.id+".aaxis.min"]=Se.a,Ie[F.id+".baxis.min"]=Se.b,Ie[F.id+".caxis.min"]=Se.c,Ie}function te(Se,Ie){var Me=B._fullLayout.clickmode;O(B),Se===2&&(B.emit("plotly_doubleclick",null),s.call("_guiRelayout",B,se({a:0,b:0,c:0}))),Me.indexOf("select")>-1&&Se===1&&d(Ie,B,[F.xaxis],[F.yaxis],F.id,F.dragOptions),Me.indexOf("event")>-1&&l.click(B,Ie,F.id)}function fe(Se,Ie,Me){var Ve=z.getBoundingClientRect();ne=Ie-Ve.left,le=Me-Ve.top,B._fullLayout._calcInverseTransform(B);var et=B._fullLayout._invTransform,it=L.apply3DTransform(et)(ne,le);ne=it[0],le=it[1],$={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},ie=$,K=F.aaxis.range[1]-$.a,Y=P(F.graphDiv._fullLayout[F.id].bgcolor).getLuminance(),Q="M0,"+F.h+"L"+F.w/2+", 0L"+F.w+","+F.h+"Z",oe=!1,X=W.append("path").attr("class","zoombox").attr("transform",S(F.x0,F.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),j=W.append("path").attr("class","zoombox-corners").attr("transform",S(F.x0,F.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),F.clearOutline(B)}function ge(Se,Ie){return 1-Ie/F.h}function be(Se,Ie){return 1-(Se+(F.h-Ie)/Math.sqrt(3))/F.w}function xe(Se,Ie){return(Se-(F.h-Ie)/Math.sqrt(3))/F.w}function _e(Se,Ie){var Me=ne+Se*J,Ve=le+Ie*re,et=Math.max(0,Math.min(1,ge(ne,le),ge(Me,Ve))),it=Math.max(0,Math.min(1,be(ne,le),be(Me,Ve))),Je=Math.max(0,Math.min(1,xe(ne,le),xe(Me,Ve))),Qe=(et/2+Je)*F.w,ct=(1-et/2-it)*F.w,ht=(Qe+ct)/2,gt=ct-Qe,Tt=(1-et)*F.h,Et=Tt-gt/A;gt<C.MINZOOM?(ie=$,X.attr("d",Q),j.attr("d","M0,0Z")):(ie={a:$.a+et*K,b:$.b+it*K,c:$.c+Je*K},X.attr("d",Q+"M"+Qe+","+Tt+"H"+ct+"L"+ht+","+Et+"L"+Qe+","+Tt+"Z"),j.attr("d","M"+ne+","+le+N+"M"+Qe+","+Tt+b+"M"+ct+","+Tt+I+"M"+ht+","+Et+D)),oe||(X.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),oe=!0),B.emit("plotly_relayouting",se(ie))}function De(){O(B),ie!==$&&(s.call("_guiRelayout",B,se(ie)),k&&B.data&&B._context.showTips&&(L.notifier(v(B,"Double-click to zoom back out"),"long"),k=!1))}function Fe(){$={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},ie=$}function Te(Se,Ie){var Me=Se/F.xaxis._m,Ve=Ie/F.yaxis._m;ie={a:$.a-Ve,b:$.b+(Me+Ve)/2,c:$.c-(Me-Ve)/2};var et=[ie.a,ie.b,ie.c].sort(L.sorterAsc),it={a:et.indexOf(ie.a),b:et.indexOf(ie.b),c:et.indexOf(ie.c)};et[0]<0&&(et[1]+et[0]/2<0?(et[2]+=et[0]+et[1],et[0]=et[1]=0):(et[2]+=et[0]/2,et[1]+=et[0]/2,et[0]=0),ie={a:et[it.a],b:et[it.b],c:et[it.c]},Ie=($.a-ie.a)*F.yaxis._m,Se=($.c-ie.c-$.b+ie.b)*F.xaxis._m);var Je=S(F.x0+Se,F.y0+Ie);F.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Je);var Qe=S(-Se,-Ie);F.clipDefRelative.select("path").attr("transform",Qe),F.aaxis.range=[ie.a,F.sum-ie.b-ie.c],F.baxis.range=[F.sum-ie.a-ie.c,ie.b],F.caxis.range=[F.sum-ie.a-ie.b,ie.c],F.drawAxes(!1),F._hasClipOnAxisFalse&&F.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,F),B.emit("plotly_relayouting",se(ie))}function Re(){s.call("_guiRelayout",B,se(ie))}z.onmousemove=function(Se){l.hover(B,Se,F.id),B._fullLayout._lasthover=z,B._fullLayout._hoversubplot=F.id},z.onmouseout=function(Se){B._dragging||u.unhover(B,Se)},u.init(this.dragOptions)};function O(F){m.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(G,H,e){var m=e(24248),P=e(16628),s=e(52416),L=e(63620),S=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,i=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(w){if(H.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<w.length;C++){var y=w[C];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":n(y);break;case"transform":l(y);break;case"component":u(y);break;case"locale":g(y);break;case"apiMethod":var M=y.name;H.apiMethodRegistry[M]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(x){var w=H.modules[d(x)];return w?w._module:!1},H.traceIs=function(x,w){if(x=d(x),x==="various")return!1;var C=H.modules[x];return C||(x&&m.log("Unrecognized trace type "+x+"."),C=H.modules[p.type.dflt]),!!C.categories[w]},H.getTransformIndices=function(x,w){for(var C=[],y=x.transforms||[],M=0;M<y.length;M++)y[M].type===w&&C.push(M);return C},H.hasTransform=function(x,w){for(var C=x.transforms||[],y=0;y<C.length;y++)if(C[y].type===w)return!0;return!1},H.getComponentMethod=function(x,w){var C=H.componentsRegistry[x];return C&&C[w]||P},H.call=function(){var x=arguments[0],w=[].slice.call(arguments,1);return H.apiMethodRegistry[x].apply(null,w)};function n(x){var w=x.name,C=x.categories,y=x.meta;if(H.modules[w]){m.log("Type "+w+" already registered");return}H.subplotsRegistry[x.basePlotModule.name]||f(x.basePlotModule);for(var M={},A=0;A<C.length;A++)M[C[A]]=!0,H.allCategories[C[A]]=!0;H.modules[w]={_module:x,categories:M},y&&Object.keys(y).length&&(H.modules[w].meta=y),H.allTypes.push(w);for(var o in H.componentsRegistry)T(o,w);x.layoutAttributes&&t(H.traceLayoutAttributes,x.layoutAttributes);var E=x.basePlotModule,b=E.name;if(b==="mapbox"){var I=E.constants.styleRules;for(var D in I)S(".js-plotly-plot .plotly .mapboxgl-"+D,I[D])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(x){var w=x.name;if(H.subplotsRegistry[w]){m.log("Plot type "+w+" already registered.");return}h(x),H.subplotsRegistry[w]=x;for(var C in H.componentsRegistry)a(C,x.name)}function u(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var w=x.name;H.componentsRegistry[w]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&s(H.layoutArrayContainers,w),h(x));for(var C in H.modules)T(w,C);for(var y in H.subplotsRegistry)a(w,y);for(var M in H.transformsRegistry)c(w,M);x.schema&&x.schema.layout&&i(r,x.schema.layout)}function l(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+x.name,C=typeof x.transform=="function",y=typeof x.calcTransform=="function";if(!C&&!y)throw new Error(w+" is missing a *transform* or *calcTransform* method.");C&&y&&m.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(x.attributes)||m.log(w+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&m.log(w+" registered without a *supplyDefaults* method."),H.transformsRegistry[x.name]=x;for(var M in H.componentsRegistry)c(M,x.name)}function g(x){var w=x.name,C=w.split("-")[0],y=x.dictionary,M=x.format,A=y&&Object.keys(y).length,o=M&&Object.keys(M).length,E=H.localeRegistry,b=E[w];if(b||(E[w]=b={}),C!==w){var I=E[C];I||(E[C]=I={}),A&&I.dictionary===b.dictionary&&(I.dictionary=y),o&&I.format===b.format&&(I.format=M)}A&&(b.dictionary=y),o&&(b.format=M)}function h(x){if(x.layoutAttributes){var w=x.layoutAttributes._arrayAttrRegexps;if(w)for(var C=0;C<w.length;C++)s(H.layoutArrayRegexes,w[C])}}function T(x,w){var C=H.componentsRegistry[x].schema;if(!(!C||!C.traces)){var y=C.traces[w];y&&i(H.modules[w]._module.attributes,y)}}function c(x,w){var C=H.componentsRegistry[x].schema;if(!(!C||!C.transforms)){var y=C.transforms[w];y&&i(H.transformsRegistry[w].attributes,y)}}function a(x,w){var C=H.componentsRegistry[x].schema;if(!(!C||!C.subplots)){var y=H.subplotsRegistry[w],M=y.layoutAttributes,A=y.attr==="subplot"?y.name:y.attr;Array.isArray(A)&&(A=A[0]);var o=C.subplots[A];M&&o&&i(M,o)}}function d(x){return typeof x=="object"&&(x=x.type),x}},91536:function(G,H,e){var m=e(24040),P=e(3400),s=P.extendFlat,L=P.extendDeep;function S(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var i,n=r.data,f=r.layout,u=L([],n),l=L({},f,S(t.tileClass)),g=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(i=0;i<h.length;i++)v(h[i])&&(l[h[i]].title={text:""});for(i=0;i<u.length;i++){var T=u[i];T.showscale=!1,T.marker&&(T.marker.showscale=!1),m.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)l.annotations.push(t.annotations[i]);var c=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var a={};for(t.tileClass==="thumbnail"&&(a={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<c.length;i++){var d=l[c[i]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),s(d.xaxis,a),s(d.yaxis,a),s(d.zaxis,a),d._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var w={gd:x,td:x,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=S(t.tileClass),w}},39792:function(G,H,e){var m=e(3400),P=e(67024),s=e(48616),L=e(81792);function S(v,p){var r;return m.isPlainObject(v)||(r=m.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),m.isIE()&&p.format!=="svg"&&i(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),f=p.filename||v.fn||"newplot";f+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),s(u,f,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),i(u)})})}G.exports=S},48616:function(G,H,e){var m=e(3400),P=e(81792);function s(L,S,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(i,n){var f,u;if(m.isIE())return f=P.createBlob(L,"svg"),window.navigator.msSaveBlob(f,S),f=null,i(S);if(r)return f=P.createBlob(L,v),u=P.createObjectURL(f),p.href=u,p.download=S,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(u),f=null,i(S);if(m.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(L)),i(S)}n(new Error("download error"))});return t}G.exports=s},81792:function(G,H,e){var m=e(24040);H.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},H.getRedrawFunc=function(L){return function(){m.getComponentMethod("colorbar","draw")(L)}},H.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},H.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;H.createObjectURL=function(L){return P.createObjectURL(L)},H.revokeObjectURL=function(L){return P.revokeObjectURL(L)},H.createBlob=function(L,S){if(S==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(S==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=s(window.atob(L));return new window.Blob([v],{type:"image/"+S})},H.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function s(L){for(var S=L.length,v=new ArrayBuffer(S),p=new Uint8Array(v),r=0;r<S;r++)p[r]=L.charCodeAt(r);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(G,H,e){var m=e(81792),P={getDelay:m.getDelay,getRedrawFunc:m.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};G.exports=P},63268:function(G,H,e){var m=e(3400),P=e(61252).EventEmitter,s=e(81792);function L(S){var v=S.emitter||new P,p=new Promise(function(r,t){var i=window.Image,n=S.svg,f=S.format||"png";if(m.isIE()&&f!=="svg"){var u=new Error(s.MSG_IE_BAD_FORMAT);return t(u),S.promise?p:v.emit("error",u)}var l=S.canvas,g=S.scale||1,h=S.width||300,T=S.height||150,c=g*h,a=g*T,d=l.getContext("2d",{willReadFrequently:!0}),x=new i,w,C;f==="svg"||m.isSafari()?C=s.encodeSVG(n):(w=s.createBlob(n,"svg"),C=s.createObjectURL(w)),l.width=c,l.height=a,x.onload=function(){var y;switch(w=null,s.revokeObjectURL(C),f!=="svg"&&d.drawImage(x,0,0,c,a),f){case"jpeg":y=l.toDataURL("image/jpeg");break;case"png":y=l.toDataURL("image/png");break;case"webp":y=l.toDataURL("image/webp");break;case"svg":y=C;break;default:var M="Image format is not jpeg, png, svg or webp.";if(t(new Error(M)),!S.promise)return v.emit("error",M)}r(y),S.promise||v.emit("success",y)},x.onerror=function(y){if(w=null,s.revokeObjectURL(C),t(y),!S.promise)return v.emit("error",y)},x.src=C});return S.promise?p:v}G.exports=L},61808:function(G,H,e){var m=e(61252).EventEmitter,P=e(24040),s=e(3400),L=e(81792),S=e(91536),v=e(37164),p=e(63268);function r(t,i){var n=new m,f=S(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var h=L.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),c=document.createElement("canvas");c.id=s.randstr(),n=p({format:i.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},h)}var g=L.getRedrawFunc(u);return P.call("_doPlot",u,f.data,f.layout,f.config).then(g).then(l).catch(function(h){n.emit("error",h)}),n}G.exports=r},37164:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(76308),S=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var f=m.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function i(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(f,u,l){var g=f._fullLayout,h=g._paper,T=g._toppaper,c=g.width,a=g.height,d;h.insert("rect",":first-child").call(s.setRect,0,0,c,a).call(L.fill,g.paper_bgcolor);var x=g._basePlotModules||[];for(d=0;d<x.length;d++){var w=x[d];w.toSVG&&w.toSVG(f)}if(T){var C=T.node().childNodes,y=Array.prototype.slice.call(C);for(d=0;d<y.length;d++){var M=y[d];M.childNodes.length&&h.node().appendChild(M)}}g._draggers&&g._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var o=m.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){o.remove();return}else o.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&o.style("font-family",E.replace(v,p));var b=this.style.fontWeight;b&&(b==="normal"||b==="400")&&o.style("font-weight",void 0);var I=this.style.fontStyle;I&&I==="normal"&&o.style("font-style",void 0);var D=this.style.fontVariant;D&&D==="normal"&&o.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var o=m.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&o.style("fill",E.replace(v,p));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&o.style("stroke",b.replace(v,p))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(S.xmlns,"xmlns",S.svg),h.node().setAttributeNS(S.xmlns,"xmlns:xlink",S.xlink),u==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*a),h.attr("viewBox","0 0 "+c+" "+a));var A=new window.XMLSerializer().serializeToString(h.node());return A=t(A),A=i(A),A=A.replace(r,"'"),P.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},84664:function(G,H,e){var m=e(3400);G.exports=function(s,L){for(var S=0;S<s.length;S++)s[S].i=S;m.mergeArray(L.text,s,"tx"),m.mergeArray(L.hovertext,s,"htx");var v=L.marker;if(v){m.mergeArray(v.opacity,s,"mo",!0),m.mergeArray(v.color,s,"mc");var p=v.line;p&&(m.mergeArray(p.color,s,"mlc"),m.mergeArrayCastPositive(p.width,s,"mlw"))}}},20832:function(G,H,e){var m=e(52904),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(21776).Gw,S=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,i=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=m.marker,f=n.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},S("marker.line")),g=t({line:l,editType:"calc"},S("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:m.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:m.hovertext,hovertemplate:s({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},m.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:{marker:{opacity:m.selected.marker.opacity,color:m.selected.marker.color,editType:"style"},textfont:m.selected.textfont,editType:"style"},unselected:{marker:{opacity:m.unselected.marker.opacity,color:m.unselected.marker.color,editType:"style"},textfont:m.unselected.textfont,editType:"style"},zorder:m.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(G,H,e){var m=e(54460),P=e(1220),s=e(94288).hasColorscale,L=e(47128),S=e(84664),v=e(4500);G.exports=function(r,t){var i=m.getFromId(r,t.xaxis||"x"),n=m.getFromId(r,t.yaxis||"y"),f,u,l,g,h,T,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=i.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y",c),l=i.makeCalcdata(t,"x"),g=P(t,i,"x",l),h=!!t.xperiodalignment,T="x"),u=g.vals;for(var a=Math.min(u.length,f.length),d=new Array(a),x=0;x<a;x++)d[x]={p:u[x],s:f[x]},h&&(d[x].orig_p=l[x],d[x][T+"End"]=g.ends[x],d[x][T+"Start"]=g.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return s(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),s(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(d,t),v(d,t),d}},78048:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(G,H,e){var m=e(38248),P=e(3400).isArrayOrTypedArray,s=e(39032).BADNUM,L=e(24040),S=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(b,I){for(var D=I.xaxis,N=I.yaxis,k=b._fullLayout,O=b._fullData,F=b.calcdata,z=[],B=[],W=0;W<O.length;W++){var J=O[W];if(J.visible===!0&&L.traceIs(J,"bar")&&J.xaxis===D._id&&J.yaxis===N._id&&(J.orientation==="h"?z.push(F[W]):B.push(F[W]),J._computePh))for(var re=b.calcdata[W],ne=0;ne<re.length;ne++)typeof re[ne].ph0=="function"&&(re[ne].ph0=re[ne].ph0()),typeof re[ne].ph1=="function"&&(re[ne].ph1=re[ne].ph1())}var le={xCat:D.type==="category"||D.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(b,D,N,B,le),t(b,N,D,z,le)}function t(b,I,D,N,k){if(N.length){var O,F,z,B,W;switch(f(D,N),k.mode){case"overlay":u(I,D,N,k);break;case"group":for(O=[],F=[],z=0;z<N.length;z++)B=N[z],W=B[0].trace,W.offset===void 0?F.push(B):O.push(B);F.length&&l(b,I,D,F,k),O.length&&u(I,D,O,k);break;case"stack":case"relative":for(O=[],F=[],z=0;z<N.length;z++)B=N[z],W=B[0].trace,W.base===void 0?F.push(B):O.push(B);n(F),F.length&&g(b,I,D,F,k),O.length&&u(I,D,O,k);break}i(N),o(N,I)}}function i(b){var I,D,N,k,O,F,z;for(I=0;I<b.length;I++)D=b[I],N=D[0].trace,k=D[0].t,k.cornerradiusvalue===void 0&&(O=N.marker?N.marker.cornerradius:void 0,O!==void 0&&(F=m(O)?+O:+O.slice(0,-1),z=m(O)?"px":"%",k.cornerradiusvalue=F,k.cornerradiusform=z))}function n(b){if(!(b.length<2)){var I,D,N,k,O,F,z;for(I=0;I<b.length&&(D=b[I],N=D[0].trace,O=N.marker?N.marker.cornerradius:void 0,O===void 0);I++);if(O!==void 0)for(F=m(O)?+O:+O.slice(0,-1),z=m(O)?"px":"%",I=0;I<b.length;I++)D=b[I],k=D[0].t,k.cornerradiusvalue=F,k.cornerradiusform=z}}function f(b,I){var D,N;for(D=0;D<I.length;D++){var k=I[D],O=k[0].trace,F=O.type==="funnel"?O._base:O.base,z,B=O.orientation==="h"?O.xcalendar:O.ycalendar,W=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(P(F)){for(N=0;N<Math.min(F.length,k.length);N++)z=W(F[N],0,B),m(z)?(k[N].b=+z,k[N].hasB=1):k[N].b=0;for(;N<k.length;N++)k[N].b=0}else{z=W(F,0,B);var J=m(z);for(z=J?z:0,N=0;N<k.length;N++)k[N].b=z,J&&(k[N].hasB=1)}}}function u(b,I,D,N){for(var k=0;k<D.length;k++){var O=D[k],F=new p([O],{posAxis:b,sepNegVal:!1,overlapNoMerge:!N.norm});h(b,F,N),N.norm?(C(F),M(I,F,N)):x(I,F)}}function l(b,I,D,N,k){var O=new p(N,{posAxis:I,sepNegVal:!1,overlapNoMerge:!k.norm});T(b,I,O,k),y(O,I),k.norm?(C(O),M(D,O,k)):x(D,O)}function g(b,I,D,N,k){var O=new p(N,{posAxis:I,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});h(I,O,k),w(D,O,k);for(var F=0;F<N.length;F++)for(var z=N[F],B=0;B<z.length;B++){var W=z[B];if(W.s!==s){var J=W.b+W.s===O.get(W.p,W.s);J&&(W._outmost=!0)}}k.norm&&M(D,O,k)}function h(b,I,D){for(var N=I.minDiff,k=I.traces,O=N*(1-D.gap),F=O,z=F*(1-(D.groupgap||0)),B=-z/2,W=0;W<k.length;W++){var J=k[W],re=J[0].t;re.barwidth=z,re.poffset=B,re.bargroupwidth=O,re.bardelta=N}I.binWidth=k[0][0].t.barwidth/100,c(I),a(b,I),d(b,I)}function T(b,I,D,N){for(var k=b._fullLayout,O=D.positions,F=D.distinctPositions,z=D.minDiff,B=D.traces,W=B.length,J=O.length!==F.length,re=z*(1-N.gap),ne=v(k,I._id)+B[0][0].trace.orientation,le=k._alignmentOpts[ne]||{},$=0;$<W;$++){var K=B[$],ie=K[0].trace,Y=le[ie.alignmentgroup]||{},Q=Object.keys(Y.offsetGroups||{}).length,oe;Q?oe=re/Q:oe=J?re/W:re;var X=oe*(1-(N.groupgap||0)),j;Q?j=((2*ie._offsetIndex+1-Q)*oe-X)/2:j=J?((2*$+1-W)*oe-X)/2:-X/2;var se=K[0].t;se.barwidth=X,se.poffset=j,se.bargroupwidth=re,se.bardelta=z}D.binWidth=B[0][0].t.barwidth/100,c(D),a(I,D),d(I,D,J)}function c(b){var I=b.traces,D,N;for(D=0;D<I.length;D++){var k=I[D],O=k[0],F=O.trace,z=O.t,B=F._offset||F.offset,W=z.poffset,J;if(P(B)){for(J=Array.prototype.slice.call(B,0,k.length),N=0;N<J.length;N++)m(J[N])||(J[N]=W);for(N=J.length;N<k.length;N++)J.push(W);z.poffset=J}else B!==void 0&&(z.poffset=B);var re=F._width||F.width,ne=z.barwidth;if(P(re)){var le=Array.prototype.slice.call(re,0,k.length);for(N=0;N<le.length;N++)m(le[N])||(le[N]=ne);for(N=le.length;N<k.length;N++)le.push(ne);if(z.barwidth=le,B===void 0){for(J=[],N=0;N<k.length;N++)J.push(W+(ne-le[N])/2);z.poffset=J}}else re!==void 0&&(z.barwidth=re,B===void 0&&(z.poffset=W+(ne-re)/2))}}function a(b,I){for(var D=I.traces,N=E(b),k=0;k<D.length;k++)for(var O=D[k],F=O[0].t,z=F.poffset,B=P(z),W=F.barwidth,J=P(W),re=0;re<O.length;re++){var ne=O[re],le=ne.w=J?W[re]:W;ne.p===void 0&&(ne.p=ne[N],ne["orig_"+N]=ne[N]);var $=(B?z[re]:z)+le/2;ne[N]=ne.p+$}}function d(b,I,D){var N=I.traces,k=I.minDiff,O=k/2;S.minDtick(b,I.minDiff,I.distinctPositions[0],D);for(var F=0;F<N.length;F++){var z=N[F],B=z[0],W=B.trace,J=[],re,ne,le,$;for($=0;$<z.length;$++)re=z[$],ne=re.p-O,le=re.p+O,J.push(ne,le);if(W.width||W.offset){var K=B.t,ie=K.poffset,Y=K.barwidth,Q=P(ie),oe=P(Y);for($=0;$<z.length;$++){re=z[$];var X=Q?ie[$]:ie,j=oe?Y[$]:Y;ne=re.p+X,le=ne+j,J.push(ne,le)}}W._extremes[b._id]=S.findExtremes(b,J,{padded:!1})}}function x(b,I){for(var D=I.traces,N=E(b),k=0;k<D.length;k++){for(var O=D[k],F=O[0].trace,z=F.type==="scatter",B=F.orientation==="v",W=[],J=!1,re=0;re<O.length;re++){var ne=O[re],le=z?0:ne.b,$=z?B?ne.y:ne.x:le+ne.s;ne[N]=$,W.push($),ne.hasB&&W.push(le),(!ne.hasB||!ne.b)&&(J=!0)}F._extremes[b._id]=S.findExtremes(b,W,{tozero:J,padded:!0})}}function w(b,I,D){var N=E(b),k=I.traces,O,F,z,B,W,J;for(B=0;B<k.length;B++)if(O=k[B],F=O[0].trace,F.type==="funnel")for(W=0;W<O.length;W++)J=O[W],J.s!==s&&I.put(J.p,-.5*J.s);for(B=0;B<k.length;B++){O=k[B],F=O[0].trace,z=F.type==="funnel";var re=[];for(W=0;W<O.length;W++)if(J=O[W],J.s!==s){var ne;z?ne=J.s:ne=J.s+J.b;var le=I.put(J.p,ne),$=le+ne;J.b=le,J[N]=$,D.norm||(re.push($),J.hasB&&re.push(le))}D.norm||(F._extremes[b._id]=S.findExtremes(b,re,{tozero:!0,padded:!0}))}}function C(b){for(var I=b.traces,D=0;D<I.length;D++)for(var N=I[D],k=0;k<N.length;k++){var O=N[k];O.s!==s&&b.put(O.p,O.b+O.s)}}function y(b,I){for(var D=b.traces,N=0;N<D.length;N++){var k=D[N],O=k[0].trace;if(O.base===void 0)for(var F=new p([k],{posAxis:I,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<k.length;z++){var B=k[z];if(B.p!==s){var W=F.put(B.p,B.b+B.s);W&&(B.b=W)}}}}function M(b,I,D){var N=I.traces,k=E(b),O=D.norm==="fraction"?1:100,F=O/1e9,z=b.l2c(b.c2l(0)),B=D.mode==="stack"?O:z;function W(j){return m(b.c2l(j))&&(j<z-F||j>B+F||!m(z))}for(var J=0;J<N.length;J++){for(var re=N[J],ne=re[0].trace,le=[],$=!1,K=!1,ie=0;ie<re.length;ie++){var Y=re[ie];if(Y.s!==s){var Q=Math.abs(O/I.get(Y.p,Y.s));Y.b*=Q,Y.s*=Q;var oe=Y.b,X=oe+Y.s;Y[k]=X,le.push(X),K=K||W(X),Y.hasB&&(le.push(oe),K=K||W(oe)),(!Y.hasB||!Y.b)&&($=!0)}}ne._extremes[b._id]=S.findExtremes(b,le,{tozero:$,padded:K})}}function A(b,I,D,N){for(var k=E(N),O=0;O<b.length;O++)for(var F=b[O],z=0;z<F.length;z++){var B=F[z],W=B[k];B._sMin=I[W],B._sMax=D[W]}}function o(b,I){var D=E(I),N={},k,O,F,z=1/0,B=-1/0;for(k=0;k<b.length;k++)for(F=b[k],O=0;O<F.length;O++){var W=F[O].p;m(W)&&(z=Math.min(z,W),B=Math.max(B,W))}var J=1e4/(B-z),re=N.round=function(fe){return String(Math.round(J*(fe-z)))},ne={},le={},$=b.some(function(fe){var ge=fe[0].trace;return"marker"in ge&&ge.marker.cornerradius});for(k=0;k<b.length;k++){F=b[k],F[0].t.extents=N;var K=F[0].t.poffset,ie=P(K);for(O=0;O<F.length;O++){var Y=F[O],Q=Y[D]-Y.w/2;if(m(Q)){var oe=Y[D]+Y.w/2,X=re(Y.p);N[X]?N[X]=[Math.min(Q,N[X][0]),Math.max(oe,N[X][1])]:N[X]=[Q,oe]}if(Y.p0=Y.p+(ie?K[O]:K),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,$){var j=Math.min(Y.s0,Y.s1)||0,se=Math.max(Y.s0,Y.s1)||0,te=Y[D];ne[te]=te in ne?Math.min(ne[te],j):j,le[te]=te in le?Math.max(le[te],se):se}}}$&&A(b,ne,le,I)}function E(b){return b._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(G,H,e){var m=e(38248),P=e(3400),s=e(76308),L=e(24040),S=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),i=P.coerceFont;function n(g,h,T,c){function a(y,M){return P.coerce(g,h,t,y,M)}var d=S(g,h,c,a);if(!d){h.visible=!1;return}v(g,h,c,a),a("xhoverformat"),a("yhoverformat"),a("zorder"),a("orientation",h.x&&!h.y?"h":"v"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate");var x=a("textposition");l(g,h,c,a,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(g,h,a,T,c);var w=(h.marker.line||{}).color,C=L.getComponentMethod("errorbars","supplyDefaults");C(g,h,w||s.defaultLine,{axis:"y"}),C(g,h,w||s.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,a)}function f(g,h){var T,c;function a(w,C){return P.coerce(c._input,c,t,w,C)}for(var d=0;d<g.length;d++)if(c=g[d],c.type==="bar"){T=c._input;var x=a("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(x)),h.barmode==="group"&&r(T,c,h,a)}}function u(g){if(m(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&m(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function l(g,h,T,c,a,d){d=d||{};var x=d.moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,y=d.moduleHasCliponaxis!==!1,M=d.moduleHasTextangle!==!1,A=d.moduleHasInsideanchor!==!1,o=!!d.hasPathbar,E=Array.isArray(a)||a==="auto",b=E||a==="inside",I=E||a==="outside";if(b||I){var D=i(c,"textfont",T.font),N=P.extendFlat({},D),k=g.textfont&&g.textfont.color,O=!k;if(O&&delete N.color,i(c,"insidetextfont",N),o){var F=P.extendFlat({},D);O&&delete F.color,i(c,"pathbar.textfont",F)}I&&i(c,"outsidetextfont",D),x&&c("selected.textfont.color"),w&&c("unselected.textfont.color"),C&&c("constraintext"),y&&c("cliponaxis"),M&&c("textangle"),c("texttemplate")}b&&A&&c("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(G){G.exports=function(e,m,P){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(G,H,e){var m=e(38248),P=e(49760),s=e(3400).isArrayOrTypedArray;H.coerceString=function(L,S,v){if(typeof S=="string"){if(S||!L.noBlank)return S}else if((typeof S=="number"||S===!0)&&!L.strict)return String(S);return v!==void 0?v:L.dflt},H.coerceNumber=function(L,S,v){if(m(S)){S=+S;var p=L.min,r=L.max,t=p!==void 0&&S<p||r!==void 0&&S>r;if(!t)return S}return v!==void 0?v:L.dflt},H.coerceColor=function(L,S,v){return P(S).isValid()?S:v!==void 0?v:L.dflt},H.coerceEnumerated=function(L,S,v){return L.coerceNumber&&(S=+S),L.values.indexOf(S)!==-1?S:v!==void 0?v:L.dflt},H.getValue=function(L,S){var v;return s(L)?S<L.length&&(v=L[S]):v=L,v},H.getLineWidth=function(L,S){var v=0<S.mlw?S.mlw:s(L.marker.line.width)?0:L.marker.line.width;return v}},63400:function(G,H,e){var m=e(93024),P=e(24040),s=e(76308),L=e(3400).fillText,S=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,f,u,l,g){var h=t(n,f,u,l,g);if(h){var T=h.cd,c=T[0].trace,a=T[h.index];return h.color=i(c,a),P.getComponentMethod("errorbars","hoverInfo")(a,c,h),[h]}}function t(n,f,u,l,g){var h=n.cd,T=h[0].trace,c=h[0].t,a=l==="closest",d=T.type==="waterfall",x=n.maxHoverDistance,w=n.maxSpikeDistance,C,y,M,A,o,E,b;T.orientation==="h"?(C=u,y=f,M="y",A="x",o=le,E=J):(C=f,y=u,M="x",A="y",E=le,o=J);var I=T[M+"period"],D=a||I;function N(fe){return O(fe,-1)}function k(fe){return O(fe,1)}function O(fe,ge){var be=fe.w;return fe[M]+ge*be/2}function F(fe){return fe[M+"End"]-fe[M+"Start"]}var z=a?N:I?function(fe){return fe.p-F(fe)/2}:function(fe){return Math.min(N(fe),fe.p-c.bardelta/2)},B=a?k:I?function(fe){return fe.p+F(fe)/2}:function(fe){return Math.max(k(fe),fe.p+c.bardelta/2)};function W(fe,ge,be){return g.finiteRange&&(be=0),m.inbox(fe-C,ge-C,be+Math.min(1,Math.abs(ge-fe)/b)-1)}function J(fe){return W(z(fe),B(fe),x)}function re(fe){return W(N(fe),k(fe),w)}function ne(fe){var ge=fe[A];if(d){var be=Math.abs(fe.rawS)||0;y>0?ge+=be:y<0&&(ge-=be)}return ge}function le(fe){var ge=y,be=fe.b,xe=ne(fe);return m.inbox(be-ge,xe-ge,x+(xe-ge)/(xe-be)-1)}function $(fe){var ge=y,be=fe.b,xe=ne(fe);return m.inbox(be-ge,xe-ge,w+(xe-ge)/(xe-be)-1)}var K=n[M+"a"],ie=n[A+"a"];b=Math.abs(K.r2c(K.range[1])-K.r2c(K.range[0]));function Y(fe){return(o(fe)+E(fe))/2}var Q=m.getDistanceFunction(l,o,E,Y);if(m.getClosest(h,Q,n),n.index!==!1&&h[n.index].p!==p){D||(z=function(fe){return Math.min(N(fe),fe.p-c.bargroupwidth/2)},B=function(fe){return Math.max(k(fe),fe.p+c.bargroupwidth/2)});var oe=n.index,X=h[oe],j=T.base?X.b+X.s:X.s;n[A+"0"]=n[A+"1"]=ie.c2p(X[A],!0),n[A+"LabelVal"]=j;var se=c.extents[c.extents.round(X.p)];n[M+"0"]=K.c2p(a?z(X):se[0],!0),n[M+"1"]=K.c2p(a?B(X):se[1],!0);var te=X.orig_p!==void 0;return n[M+"LabelVal"]=te?X.orig_p:X.p,n.labelLabel=v(K,n[M+"LabelVal"],T[M+"hoverformat"]),n.valueLabel=v(ie,n[A+"LabelVal"],T[A+"hoverformat"]),n.baseLabel=v(ie,X.b,T[A+"hoverformat"]),n.spikeDistance=($(X)+re(X))/2,n[M+"Spike"]=K.c2p(X.p,!0),L(X,T,n),n.hovertemplate=T.hovertemplate,n}}function i(n,f){var u=f.mcc||n.marker.color,l=f.mlcc||n.marker.line.color,g=S(n,f);if(s.opacity(u))return u;if(s.opacity(l)&&g)return l}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},51132:function(G,H,e){G.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(G,H,e){var m=e(24040),P=e(54460),s=e(3400),L=e(39324),S=e(31508).validateCornerradius;G.exports=function(v,p,r){function t(d,x){return s.coerce(v,p,L,d,x)}for(var i=!1,n=!1,f=!1,u={},l=t("barmode"),g=0;g<r.length;g++){var h=r[g];if(m.traceIs(h,"bar")&&h.visible)i=!0;else continue;if(l==="group"){var T=h.xaxis+h.yaxis;u[T]&&(f=!0),u[T]=!0}if(h.visible&&h.type==="histogram"){var c=P.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!i){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var a=t("barcornerradius");p.barcornerradius=S(a)}},98184:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(72736),S=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),g=e(20832),h=g.text,T=g.textposition,c=e(10624).appendArrayPointValue,a=l.TEXTPAD;function d(J){return J.id}function x(J){if(J.ids)return d}function w(J){return(J>0)-(J<0)}function C(J,re){return J<re?1:-1}function y(J,re,ne,le){var $=[],K=[],ie=le?re:ne,Y=le?ne:re;return $[0]=ie.c2p(J.s0,!0),K[0]=Y.c2p(J.p0,!0),$[1]=ie.c2p(J.s1,!0),K[1]=Y.c2p(J.p1,!0),le?[$,K]:[K,$]}function M(J,re,ne,le){if(!re.uniformtext.mode&&A(ne)){var $;return le&&($=le()),J.transition().duration(ne.duration).ease(ne.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()})}else return J}function A(J){return J&&J.duration>0}function o(J,re,ne,le,$,K){var ie=re.xaxis,Y=re.yaxis,Q=J._fullLayout,oe=J._context.staticPlot;$||($={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},n("bar",Q));var X=s.makeTraceGroups(le,ne,"trace bars").each(function(j){var se=m.select(this),te=j[0].trace,fe=j[0].t,ge=te.type==="waterfall",be=te.type==="funnel",xe=te.type==="histogram",_e=te.type==="bar",De=_e||be,Fe=0;ge&&te.connector.visible&&te.connector.mode==="between"&&(Fe=te.connector.line.width/2);var Te=te.orientation==="h",Re=A($),Se=s.ensureSingle(se,"g","points"),Ie=x(te),Me=Se.selectAll("g.point").data(s.identity,Ie);Me.enter().append("g").classed("point",!0),Me.exit().remove(),Me.each(function(et,it){var Je=m.select(this),Qe=y(et,ie,Y,Te),ct=Qe[0][0],ht=Qe[0][1],gt=Qe[1][0],Tt=Qe[1][1],Et=(Te?ht-ct:Tt-gt)===0;Et&&De&&u.getLineWidth(te,et)&&(Et=!1),Et||(Et=!P(ct)||!P(ht)||!P(gt)||!P(Tt)),et.isBlank=Et,Et&&(Te?ht=ct:Tt=gt),Fe&&!Et&&(Te?(ct-=C(ct,ht)*Fe,ht+=C(ct,ht)*Fe):(gt-=C(gt,Tt)*Fe,Tt+=C(gt,Tt)*Fe));var rt,ze;if(te.type==="waterfall"){if(!Et){var He=te[et.dir].marker;rt=He.line.width,ze=He.color}}else rt=u.getLineWidth(te,et),ze=et.mc||te.marker.color;function Ge(lt){var bt=m.round(rt/2%1,2);return $.gap===0&&$.groupgap===0?m.round(Math.round(lt)-bt,2):lt}function We(lt,bt,Ct){return Ct&&lt===bt?lt:Math.abs(lt-bt)>=2?Ge(lt):lt>bt?Math.ceil(lt):Math.floor(lt)}var Le=S.opacity(ze),Pe=Le<1||rt>.01?Ge:We;J._context.staticPlot||(ct=Pe(ct,ht,Te),ht=Pe(ht,ct,Te),gt=Pe(gt,Tt,!Te),Tt=Pe(Tt,gt,!Te));var je=Te?ie.c2p:Y.c2p,Ce;et.s0>0?Ce=et._sMax:et.s0<0?Ce=et._sMin:Ce=et.s1>0?et._sMax:et._sMin;function he(lt,bt){if(!lt)return 0;var Ct=Math.abs(Te?Tt-gt:ht-ct),Dt=Math.abs(Te?ht-ct:Tt-gt),Ht=Pe(Math.abs(je(Ce,!0)-je(0,!0))),Bt=et.hasB?Math.min(Ct/2,Dt/2):Math.min(Ct/2,Ht),Ut;if(bt==="%"){var Jt=Math.min(50,lt);Ut=Ct*(Jt/100)}else Ut=lt;return Pe(Math.max(Math.min(Ut,Bt),0))}var me=_e||xe?he(fe.cornerradiusvalue,fe.cornerradiusform):0,Ne,$e,ot="M"+ct+","+gt+"V"+Tt+"H"+ht+"V"+gt+"Z",st=0;if(me&&et.s){var Wt=w(et.s0)===0||w(et.s)===w(et.s0)?et.s1:et.s0;if(st=Pe(et.hasB?0:Math.abs(je(Ce,!0)-je(Wt,!0))),st<me){var Pt=C(ct,ht),dt=C(gt,Tt),Mt=Pt===-dt?1:0;if(Te)if(et.hasB)Ne="M"+(ct+me*Pt)+","+gt+"A "+me+","+me+" 0 0 "+Mt+" "+ct+","+(gt+me*dt)+"V"+(Tt-me*dt)+"A "+me+","+me+" 0 0 "+Mt+" "+(ct+me*Pt)+","+Tt+"H"+(ht-me*Pt)+"A "+me+","+me+" 0 0 "+Mt+" "+ht+","+(Tt-me*dt)+"V"+(gt+me*dt)+"A "+me+","+me+" 0 0 "+Mt+" "+(ht-me*Pt)+","+gt+"Z";else{$e=Math.abs(ht-ct)+st;var Xt=$e<me?me-Math.sqrt($e*(2*me-$e)):0,nr=st>0?Math.sqrt(st*(2*me-st)):0,vt=Pt>0?Math.max:Math.min;Ne="M"+ct+","+gt+"V"+(Tt-Xt*dt)+"H"+vt(ht-(me-st)*Pt,ct)+"A "+me+","+me+" 0 0 "+Mt+" "+ht+","+(Tt-me*dt-nr)+"V"+(gt+me*dt+nr)+"A "+me+","+me+" 0 0 "+Mt+" "+vt(ht-(me-st)*Pt,ct)+","+(gt+Xt*dt)+"Z"}else if(et.hasB)Ne="M"+(ct+me*Pt)+","+gt+"A "+me+","+me+" 0 0 "+Mt+" "+ct+","+(gt+me*dt)+"V"+(Tt-me*dt)+"A "+me+","+me+" 0 0 "+Mt+" "+(ct+me*Pt)+","+Tt+"H"+(ht-me*Pt)+"A "+me+","+me+" 0 0 "+Mt+" "+ht+","+(Tt-me*dt)+"V"+(gt+me*dt)+"A "+me+","+me+" 0 0 "+Mt+" "+(ht-me*Pt)+","+gt+"Z";else{$e=Math.abs(Tt-gt)+st;var Zt=$e<me?me-Math.sqrt($e*(2*me-$e)):0,Kt=st>0?Math.sqrt(st*(2*me-st)):0,yr=dt>0?Math.max:Math.min;Ne="M"+(ct+Zt*Pt)+","+gt+"V"+yr(Tt-(me-st)*dt,gt)+"A "+me+","+me+" 0 0 "+Mt+" "+(ct+me*Pt-Kt)+","+Tt+"H"+(ht-me*Pt+Kt)+"A "+me+","+me+" 0 0 "+Mt+" "+(ht-Zt*Pt)+","+yr(Tt-(me-st)*dt,gt)+"V"+gt+"Z"}}else Ne=ot}else Ne=ot;var or=M(s.ensureSingle(Je,"path"),Q,$,K);if(or.style("vector-effect",oe?"none":"non-scaling-stroke").attr("d",isNaN((ht-ct)*(Tt-gt))||Et&&J._context.staticPlot?"M0,0Z":Ne).call(v.setClipUrl,re.layerClipId,J),!Q.uniformtext.mode&&Re){var mt=v.makePointStyleFns(te);v.singlePointStyle(et,or,te,mt,J)}E(J,re,Je,j,it,ct,ht,gt,Tt,me,st,$,K),re.layerClipId&&v.hideOutsideRangePoint(et,Je.select("text"),ie,Y,te.xcalendar,te.ycalendar)});var Ve=te.cliponaxis===!1;v.setClipUrl(se,Ve?null:re.layerClipId,J)});p.getComponentMethod("errorbars","plot")(J,X,re,$)}function E(J,re,ne,le,$,K,ie,Y,Q,oe,X,j,se){var te=re.xaxis,fe=re.yaxis,ge=J._fullLayout,be;function xe($e,ot,st){var Wt=s.ensureSingle($e,"text").text(ot).attr({class:"bartext bartext-"+be,"text-anchor":"middle","data-notex":1}).call(v.font,st).call(L.convertToTspans,J);return Wt}var _e=le[0].trace,De=_e.orientation==="h",Fe=F(ge,le,$,te,fe);be=z(_e,$);var Te=j.mode==="stack"||j.mode==="relative",Re=le[$],Se=!Te||Re._outmost,Ie=Re.hasB,Me=oe&&oe-X>a;if(!Fe||be==="none"||(Re.isBlank||K===ie||Y===Q)&&(be==="auto"||be==="inside")){ne.select("text").remove();return}var Ve=ge.font,et=f.getBarColor(le[$],_e),it=f.getInsideTextFont(_e,$,Ve,et),Je=f.getOutsideTextFont(_e,$,Ve),Qe=_e.insidetextanchor||"end",ct=ne.datum();De?te.type==="log"&&ct.s0<=0&&(te.range[0]<te.range[1]?K=0:K=te._length):fe.type==="log"&&ct.s0<=0&&(fe.range[0]<fe.range[1]?Y=fe._length:Y=0);var ht=Math.abs(ie-K),gt=Math.abs(Q-Y),Tt=ht-2*a,Et=gt-2*a,rt,ze,He,Ge,We;if(be==="outside"&&!Se&&!Re.hasB&&(be="inside"),be==="auto")if(Se){be="inside",We=s.ensureUniformFontSize(J,it),rt=xe(ne,Fe,We),ze=v.bBox(rt.node()),He=ze.width,Ge=ze.height;var Le=He>0&&Ge>0,Pe;Me?Ie?Pe=b(Tt-2*oe,Et,He,Ge,De)||b(Tt,Et-2*oe,He,Ge,De):De?Pe=b(Tt-(oe-X),Et,He,Ge,De)||b(Tt,Et-2*(oe-X),He,Ge,De):Pe=b(Tt,Et-(oe-X),He,Ge,De)||b(Tt-2*(oe-X),Et,He,Ge,De):Pe=b(Tt,Et,He,Ge,De),Le&&Pe?be="inside":(be="outside",rt.remove(),rt=null)}else be="inside";if(!rt){We=s.ensureUniformFontSize(J,be==="outside"?Je:it),rt=xe(ne,Fe,We);var je=rt.attr("transform");if(rt.attr("transform",""),ze=v.bBox(rt.node()),He=ze.width,Ge=ze.height,rt.attr("transform",je),He<=0||Ge<=0){rt.remove();return}}var Ce=_e.textangle,he,me;be==="outside"?(me=_e.constraintext==="both"||_e.constraintext==="outside",he=O(K,ie,Y,Q,ze,{isHorizontal:De,constrained:me,angle:Ce})):(me=_e.constraintext==="both"||_e.constraintext==="inside",he=N(K,ie,Y,Q,ze,{isHorizontal:De,constrained:me,angle:Ce,anchor:Qe,hasB:Ie,r:oe,overhead:X})),he.fontSize=We.size,i(_e.type==="histogram"?"bar":_e.type,he,ge),Re.transform=he;var Ne=M(rt,ge,j,se);s.setTransormAndDisplay(Ne,he)}function b(J,re,ne,le,$){if(J<0||re<0)return!1;var K=ne<=J&&le<=re,ie=ne<=re&&le<=J,Y=$?J>=ne*(re/le):re>=le*(J/ne);return K||ie||Y}function I(J){return J==="auto"?0:J}function D(J,re){var ne=Math.PI/180*re,le=Math.abs(Math.sin(ne)),$=Math.abs(Math.cos(ne));return{x:J.width*$+J.height*le,y:J.width*le+J.height*$}}function N(J,re,ne,le,$,K){var ie=!!K.isHorizontal,Y=!!K.constrained,Q=K.angle||0,oe=K.anchor,X=oe==="end",j=oe==="start",se=K.leftToRight||0,te=(se+1)/2,fe=1-te,ge=K.hasB,be=K.r,xe=K.overhead,_e=$.width,De=$.height,Fe=Math.abs(re-J),Te=Math.abs(le-ne),Re=Fe>2*a&&Te>2*a?a:0;Fe-=2*Re,Te-=2*Re;var Se=I(Q);Q==="auto"&&!(_e<=Fe&&De<=Te)&&(_e>Fe||De>Te)&&(!(_e>Te||De>Fe)||_e<De!=Fe<Te)&&(Se+=90);var Ie=D($,Se),Me,Ve;if(be&&be-xe>a){var et=k(J,re,ne,le,Ie,be,xe,ie,ge);Me=et.scale,Ve=et.pad}else Me=1,Y&&(Me=Math.min(1,Fe/Ie.x,Te/Ie.y)),Ve=0;var it=$.left*fe+$.right*te,Je=($.top+$.bottom)/2,Qe=(J+a)*fe+(re-a)*te,ct=(ne+le)/2,ht=0,gt=0;if(j||X){var Tt=(ie?Ie.x:Ie.y)/2;be&&(X||ge)&&(Re+=Ve);var Et=ie?C(J,re):C(ne,le);ie?j?(Qe=J+Et*Re,ht=-Et*Tt):(Qe=re-Et*Re,ht=Et*Tt):j?(ct=ne+Et*Re,gt=-Et*Tt):(ct=le-Et*Re,gt=Et*Tt)}return{textX:it,textY:Je,targetX:Qe,targetY:ct,anchorX:ht,anchorY:gt,scale:Me,rotate:Se}}function k(J,re,ne,le,$,K,ie,Y,Q){var oe=Math.max(0,Math.abs(re-J)-2*a),X=Math.max(0,Math.abs(le-ne)-2*a),j=K-a,se=ie?j-Math.sqrt(j*j-(j-ie)*(j-ie)):j,te=Q?j*2:Y?j-ie:2*se,fe=Q?j*2:Y?2*se:j-ie,ge,be,xe,_e,De;return $.y/$.x>=X/(oe-te)?_e=X/$.y:$.y/$.x<=(X-fe)/oe?_e=oe/$.x:!Q&&Y?(ge=$.x*$.x+$.y*$.y/4,be=-2*$.x*(oe-j)-$.y*(X/2-j),xe=(oe-j)*(oe-j)+(X/2-j)*(X/2-j)-j*j,_e=(-be+Math.sqrt(be*be-4*ge*xe))/(2*ge)):Q?(ge=($.x*$.x+$.y*$.y)/4,be=-$.x*(oe/2-j)-$.y*(X/2-j),xe=(oe/2-j)*(oe/2-j)+(X/2-j)*(X/2-j)-j*j,_e=(-be+Math.sqrt(be*be-4*ge*xe))/(2*ge)):(ge=$.x*$.x/4+$.y*$.y,be=-$.x*(oe/2-j)-2*$.y*(X-j),xe=(oe/2-j)*(oe/2-j)+(X-j)*(X-j)-j*j,_e=(-be+Math.sqrt(be*be-4*ge*xe))/(2*ge)),_e=Math.min(1,_e),Y?De=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(X-$.y*_e)/2)*(j-(X-$.y*_e)/2)))-ie):De=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(oe-$.x*_e)/2)*(j-(oe-$.x*_e)/2)))-ie),{scale:_e,pad:De}}function O(J,re,ne,le,$,K){var ie=!!K.isHorizontal,Y=!!K.constrained,Q=K.angle||0,oe=$.width,X=$.height,j=Math.abs(re-J),se=Math.abs(le-ne),te;ie?te=se>2*a?a:0:te=j>2*a?a:0;var fe=1;Y&&(fe=ie?Math.min(1,se/X):Math.min(1,j/oe));var ge=I(Q),be=D($,ge),xe=(ie?be.x:be.y)/2,_e=($.left+$.right)/2,De=($.top+$.bottom)/2,Fe=(J+re)/2,Te=(ne+le)/2,Re=0,Se=0,Ie=ie?C(re,J):C(ne,le);return ie?(Fe=re-Ie*te,Re=Ie*xe):(Te=le+Ie*te,Se=-Ie*xe),{textX:_e,textY:De,targetX:Fe,targetY:Te,anchorX:Re,anchorY:Se,scale:fe,rotate:ge}}function F(J,re,ne,le,$){var K=re[0].trace,ie=K.texttemplate,Y;return ie?Y=B(J,re,ne,le,$):K.textinfo?Y=W(re,ne,le,$):Y=u.getValue(K.text,ne),u.coerceString(h,Y)}function z(J,re){var ne=u.getValue(J.textposition,re);return u.coerceEnumerated(T,ne)}function B(J,re,ne,le,$){var K=re[0].trace,ie=s.castOption(K,ne,"texttemplate");if(!ie)return"";var Y=K.type==="histogram",Q=K.type==="waterfall",oe=K.type==="funnel",X=K.orientation==="h",j,se,te,fe;X?(j="y",se=$,te="x",fe=le):(j="x",se=le,te="y",fe=$);function ge(Re){return r(se,se.c2l(Re),!0).text}function be(Re){return r(fe,fe.c2l(Re),!0).text}var xe=re[ne],_e={};_e.label=xe.p,_e.labelLabel=_e[j+"Label"]=ge(xe.p);var De=s.castOption(K,xe.i,"text");(De===0||De)&&(_e.text=De),_e.value=xe.s,_e.valueLabel=_e[te+"Label"]=be(xe.s);var Fe={};c(Fe,K,xe.i),(Y||Fe.x===void 0)&&(Fe.x=X?_e.value:_e.label),(Y||Fe.y===void 0)&&(Fe.y=X?_e.label:_e.value),(Y||Fe.xLabel===void 0)&&(Fe.xLabel=X?_e.valueLabel:_e.labelLabel),(Y||Fe.yLabel===void 0)&&(Fe.yLabel=X?_e.labelLabel:_e.valueLabel),Q&&(_e.delta=+xe.rawS||xe.s,_e.deltaLabel=be(_e.delta),_e.final=xe.v,_e.finalLabel=be(_e.final),_e.initial=_e.final-_e.delta,_e.initialLabel=be(_e.initial)),oe&&(_e.value=xe.s,_e.valueLabel=be(_e.value),_e.percentInitial=xe.begR,_e.percentInitialLabel=s.formatPercent(xe.begR),_e.percentPrevious=xe.difR,_e.percentPreviousLabel=s.formatPercent(xe.difR),_e.percentTotal=xe.sumR,_e.percenTotalLabel=s.formatPercent(xe.sumR));var Te=s.castOption(K,xe.i,"customdata");return Te&&(_e.customdata=Te),s.texttemplateString(ie,_e,J._d3locale,Fe,_e,K._meta||{})}function W(J,re,ne,le){var $=J[0].trace,K=$.orientation==="h",ie=$.type==="waterfall",Y=$.type==="funnel";function Q(Te){var Re=K?le:ne;return r(Re,Te,!0).text}function oe(Te){var Re=K?ne:le;return r(Re,+Te,!0).text}var X=$.textinfo,j=J[re],se=X.split("+"),te=[],fe,ge=function(Te){return se.indexOf(Te)!==-1};if(ge("label")&&te.push(Q(J[re].p)),ge("text")&&(fe=s.castOption($,j.i,"text"),(fe===0||fe)&&te.push(fe)),ie){var be=+j.rawS||j.s,xe=j.v,_e=xe-be;ge("initial")&&te.push(oe(_e)),ge("delta")&&te.push(oe(be)),ge("final")&&te.push(oe(xe))}if(Y){ge("value")&&te.push(oe(j.s));var De=0;ge("percent initial")&&De++,ge("percent previous")&&De++,ge("percent total")&&De++;var Fe=De>1;ge("percent initial")&&(fe=s.formatPercent(j.begR),Fe&&(fe+=" of initial"),te.push(fe)),ge("percent previous")&&(fe=s.formatPercent(j.difR),Fe&&(fe+=" of previous"),te.push(fe)),ge("percent total")&&(fe=s.formatPercent(j.sumR),Fe&&(fe+=" of total"),te.push(fe))}return te.join("<br>")}G.exports={plot:o,toMoveInsideBar:N}},45784:function(G){G.exports=function(m,P){var s=m.cd,L=m.xaxis,S=m.yaxis,v=s[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],i;if(P===!1)for(i=0;i<s.length;i++)s[i].selected=0;else for(i=0;i<s.length;i++){var n=s[i],f="ct"in n?n.ct:H(n,L,S,r,p);P.contains(f,!1,i,m)?(t.push({pointNumber:i,x:L.c2d(n.x),y:S.c2d(n.y)}),n.selected=1):n.selected=0}return t};function H(e,m,P,s,L){var S=m.c2p(s?e.s0:e.p0,!0),v=m.c2p(s?e.s1:e.p1,!0),p=P.c2p(s?e.p0:e.s0,!0),r=P.c2p(s?e.p1:e.s1,!0);return L?[(S+v)/2,(p+r)/2]:s?[v,(p+r)/2]:[(S+v)/2,r]}},72592:function(G,H,e){G.exports=P;var m=e(3400).distinctVals;function P(s,L){this.traces=s,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var S=1/0,v=L.posAxis._id.charAt(0),p=[],r=0;r<s.length;r++){for(var t=s[r],i=0;i<t.length;i++){var n=t[i],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&p.push(f)}t[0]&&t[0].width1&&(S=Math.min(t[0].width1,S))}this.positions=p;var u=m(p);this.distinctPositions=u.vals,u.vals.length===1&&S!==1/0?this.minDiff=S:this.minDiff=Math.min(u.minDiff,S);var l=(L.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,S){var v=this.getLabel(L,S),p=this.bins[v]||0;return this.bins[v]=p+S,p},P.prototype.get=function(L,S){var v=this.getLabel(L,S);return this.bins[v]||0},P.prototype.getLabel=function(L,S){var v=S<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},60100:function(G,H,e){var m=e(33428),P=e(76308),s=e(43616),L=e(3400),S=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,i=p.outsidetextfont,n=e(60444);function f(y){var M=m.select(y).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(y,M,"bar");var A=M.size(),o=y._fullLayout;M.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(o.barmode==="stack"&&A>1||o.bargap===0&&o.bargroupgap===0&&!E[0].trace.marker.line.width)&&m.select(this).attr("shape-rendering","crispEdges")}),M.selectAll("g.points").each(function(E){var b=m.select(this),I=E[0].trace;u(b,I,y)}),S.getComponentMethod("errorbars","style")(M)}function u(y,M,A){s.pointStyle(y.selectAll("path"),M,A),l(y,M,A)}function l(y,M,A){y.selectAll("text").each(function(o){var E=m.select(this),b=L.ensureUniformFontSize(A,c(E,o,M,A));s.font(E,b)})}function g(y,M,A){var o=M[0].trace;o.selectedpoints?h(A,o,y):(u(A,o,y),S.getComponentMethod("errorbars","style")(A))}function h(y,M,A){s.selectedPointStyle(y.selectAll("path"),M),T(y.selectAll("text"),M,A)}function T(y,M,A){y.each(function(o){var E=m.select(this),b;if(o.selected){b=L.ensureUniformFontSize(A,c(E,o,M,A));var I=M.selected.textfont&&M.selected.textfont.color;I&&(b.color=I),s.font(E,b)}else s.selectedTextStyle(E,M)})}function c(y,M,A,o){var E=o._fullLayout.font,b=A.textfont;if(y.classed("bartext-inside")){var I=C(M,A);b=d(A,M.i,E,I)}else y.classed("bartext-outside")&&(b=x(A,M.i,E));return b}function a(y,M,A){return w(r,y.textfont,M,A)}function d(y,M,A,o){var E=a(y,M,A),b=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[M]===void 0;return b&&(E={color:P.contrast(o),family:E.family,size:E.size,weight:E.weight,style:E.style,variant:E.variant,textcase:E.textcase,lineposition:E.lineposition,shadow:E.shadow}),w(t,y.insidetextfont,M,E)}function x(y,M,A){var o=a(y,M,A);return w(i,y.outsidetextfont,M,o)}function w(y,M,A,o){M=M||{};var E=n.getValue(M.family,A),b=n.getValue(M.size,A),I=n.getValue(M.color,A),D=n.getValue(M.weight,A),N=n.getValue(M.style,A),k=n.getValue(M.variant,A),O=n.getValue(M.textcase,A),F=n.getValue(M.lineposition,A),z=n.getValue(M.shadow,A);return{family:n.coerceString(y.family,E,o.family),size:n.coerceNumber(y.size,b,o.size),color:n.coerceColor(y.color,I,o.color),weight:n.coerceString(y.weight,D,o.weight),style:n.coerceString(y.style,N,o.style),variant:n.coerceString(y.variant,k,o.variant),textcase:n.coerceString(y.variant,O,o.textcase),lineposition:n.coerceString(y.variant,F,o.lineposition),shadow:n.coerceString(y.variant,z,o.shadow)}}function C(y,M){return M.type==="waterfall"?M[y.dir].marker.color:y.mcc||y.mc||M.marker.color}G.exports={style:f,styleTextPoints:l,styleOnSelect:g,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:C,resizeText:v}},55592:function(G,H,e){var m=e(76308),P=e(94288).hasColorscale,s=e(27260),L=e(3400).coercePattern;G.exports=function(v,p,r,t,i){var n=r("marker.color",t),f=P(v,"marker");f&&s(v,p,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",m.defaultLine),P(v,"marker.line")&&s(v,p,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(G,H,e){var m=e(33428),P=e(3400);function s(p,r,t){var i=p._fullLayout,n=i["_"+t+"Text_minsize"];if(n){var f=i.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var g=l.transform;if(g){g.scale=f&&g.hide?0:n/g.fontSize;var h=m.select(this).select("text");P.setTransormAndDisplay(h,g)}})}}function L(p,r,t){if(t.uniformtext.mode){var i=v(p),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(f,n)))}}function S(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:L,clearMinTextSize:S,resizeText:s}},78100:function(G,H,e){var m=e(21776).Ks,P=e(92880).extendFlat,s=e(8319),L=e(20832);G.exports={r:s.r,theta:s.theta,r0:s.r0,dr:s.dr,theta0:s.theta0,dtheta:s.dtheta,thetaunit:s.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:S(),hoverinfo:s.hoverinfo,hovertemplate:m(),selected:L.selected,unselected:L.unselected};function S(){var v=P({},L.marker);return delete v.cornerradius,v}},47056:function(G,H,e){var m=e(94288).hasColorscale,P=e(47128),s=e(3400).isArrayOrTypedArray,L=e(84664),S=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var u=n._fullLayout,l=f.subplot,g=u[l].radialaxis,h=u[l].angularaxis,T=g.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),a=f._length,d=new Array(a),x=T,w=c,C=0;C<a;C++)d[C]={p:w[C],s:x[C]};function y(M){var A=f[M];A!==void 0&&(f["_"+M]=s(A)?h.makeCalcdata(f,M):h.d2c(A,f.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),m(f,"marker")&&P(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),m(f,"marker.line")&&P(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(d,f),v(d,f),d}function i(n,f,u){for(var l=n.calcdata,g=[],h=0;h<l.length;h++){var T=l[h],c=T[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===u&&g.push(T)}var a=r({},f.radialaxis,{_id:"x"}),d=f.angularaxis;S(n,d,a,g,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}G.exports={calc:t,crossTraceCalc:i}},70384:function(G,H,e){var m=e(3400),P=e(85968).handleRThetaDefaults,s=e(55592),L=e(78100);G.exports=function(v,p,r,t){function i(f,u){return m.coerce(v,p,L,f,u)}var n=P(v,p,t,i);if(!n){p.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),s(v,p,i,r,t),m.coerceSelectionMarkerOpacity(p,i)}},68896:function(G,H,e){var m=e(93024),P=e(3400),s=e(63400).getTraceColor,L=P.fillText,S=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;G.exports=function(r,t,i){var n=r.cd,f=n[0].trace,u=r.subplot,l=u.radialAxis,g=u.angularAxis,h=u.vangles,T=h?v:P.isPtInsideSector,c=r.maxHoverDistance,a=g._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),x=Math.atan2(i,t);l.range[0]>l.range[1]&&(x+=Math.PI);var w=function(A){return T(d,x,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?c+Math.min(1,Math.abs(A.thetag1-A.thetag0)/a)-1+(A.rp1-d)/(A.rp1-A.rp0)-1:1/0};if(m.getClosest(n,w,r),r.index!==!1){var C=r.index,y=n[C];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var M=P.extendFlat({},y,{r:y.s,theta:y.p});return L(y,f,r),S(M,f,u,r),r.hovertemplate=f.hovertemplate,r.color=s(f,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(G,H,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(G,H,e){var m=e(3400),P=e(9320);G.exports=function(s,L,S){var v={},p;function r(n,f){return m.coerce(s[p]||{},L[p],P,n,f)}for(var t=0;t<S.length;t++){var i=S[t];i.type==="barpolar"&&i.visible===!0&&(p=i.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(G,H,e){var m=e(33428),P=e(38248),s=e(3400),L=e(43616),S=e(57384);G.exports=function(r,t,i){var n=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,g=t.angularAxis,h=v(t),T=t.layers.frontplot.select("g.barlayer");s.makeTraceGroups(T,i,"trace bars").each(function(){var c=m.select(this),a=s.ensureSingle(c,"g","points"),d=a.selectAll("g.point").data(s.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(x){var w=m.select(this),C=x.rp0=l.c2p(x.s0),y=x.rp1=l.c2p(x.s1),M=x.thetag0=g.c2g(x.p0),A=x.thetag1=g.c2g(x.p1),o;if(!P(C)||!P(y)||!P(M)||!P(A)||C===y||M===A)o="M0,0Z";else{var E=l.c2g(x.s1),b=(M+A)/2;x.ct=[f.c2p(E*Math.cos(b)),u.c2p(E*Math.sin(b))],o=h(C,y,M,A)}s.ensureSingle(w,"path").attr("d",o)}),L.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(i,n,f,u){var l,g;s.angleDelta(f,u)>0?(l=f,g=u):(l=u,g=f);var h=S.findEnclosingVertexAngles(l,p.vangles)[0],T=S.findEnclosingVertexAngles(g,p.vangles)[1],c=[h,(l+g)/2,T];return S.pathPolygonAnnulus(i,n,l,g,c,r,t)}:function(i,n,f,u){return s.pathAnnulus(i,n,f,u,r,t)}}},63188:function(G,H,e){var m=e(98304),P=e(52904),s=e(20832),L=e(22548),S=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:m(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:s.offsetgroup,alignmentgroup:s.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(G,H,e){var m=e(38248),P=e(54460),s=e(1220),L=e(3400),S=e(39032).BADNUM,v=L._;G.exports=function(x,w){var C=x._fullLayout,y=P.getFromId(x,w.xaxis||"x"),M=P.getFromId(x,w.yaxis||"y"),A=[],o=w.type==="violin"?"_numViolins":"_numBoxes",E,b,I,D,N,k,O;w.orientation==="h"?(I=y,D="x",N=M,k="y",O=!!w.yperiodalignment):(I=M,D="y",N=y,k="x",O=!!w.xperiodalignment);var F=p(w,k,N,C[o]),z=F[0],B=F[1],W=L.distinctVals(z,N),J=W.vals,re=W.minDiff/2,ne,le,$,K,ie,Y,Q=(w.boxpoints||w.points)==="all"?L.identity:function(Et){return Et.v<ne.lf||Et.v>ne.uf};if(w._hasPreCompStats){var oe=w[D],X=function(Et){return I.d2c((w[Et]||[])[E])},j=1/0,se=-1/0;for(E=0;E<w._length;E++){var te=z[E];if(m(te)){if(ne={},ne.pos=ne[k]=te,O&&B&&(ne.orig_p=B[E]),ne.q1=X("q1"),ne.med=X("median"),ne.q3=X("q3"),le=[],oe&&L.isArrayOrTypedArray(oe[E]))for(b=0;b<oe[E].length;b++)Y=I.d2c(oe[E][b]),Y!==S&&(ie={v:Y,i:[E,b]},n(ie,w,[E,b]),le.push(ie));if(ne.pts=le.sort(u),$=ne[D]=le.map(l),K=$.length,ne.med!==S&&ne.q1!==S&&ne.q3!==S&&ne.med>=ne.q1&&ne.q3>=ne.med){var fe=X("lowerfence");ne.lf=fe!==S&&fe<=ne.q1?fe:g(ne,$,K);var ge=X("upperfence");ne.uf=ge!==S&&ge>=ne.q3?ge:h(ne,$,K);var be=X("mean");ne.mean=be!==S?be:K?L.mean($,K):(ne.q1+ne.q3)/2;var xe=X("sd");ne.sd=be!==S&&xe>=0?xe:K?L.stdev($,K,ne.mean):ne.q3-ne.q1,ne.lo=T(ne),ne.uo=c(ne);var _e=X("notchspan");_e=_e!==S&&_e>0?_e:a(ne,K),ne.ln=ne.med-_e,ne.un=ne.med+_e;var De=ne.lf,Fe=ne.uf;w.boxpoints&&$.length&&(De=Math.min(De,$[0]),Fe=Math.max(Fe,$[K-1])),w.notched&&(De=Math.min(De,ne.ln),Fe=Math.max(Fe,ne.un)),ne.min=De,ne.max=Fe}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var Te;ne.med!==S?Te=ne.med:ne.q1!==S?ne.q3!==S?Te=(ne.q1+ne.q3)/2:Te=ne.q1:ne.q3!==S?Te=ne.q3:Te=0,ne.med=Te,ne.q1=ne.q3=Te,ne.lf=ne.uf=Te,ne.mean=ne.sd=Te,ne.ln=ne.un=Te,ne.min=ne.max=Te}j=Math.min(j,ne.min),se=Math.max(se,ne.max),ne.pts2=le.filter(Q),A.push(ne)}}w._extremes[I._id]=P.findExtremes(I,[j,se],{padded:!0})}else{var Re=I.makeCalcdata(w,D),Se=r(J,re),Ie=J.length,Me=t(Ie);for(E=0;E<w._length;E++)if(Y=Re[E],!!m(Y)){var Ve=L.findBin(z[E],Se);Ve>=0&&Ve<Ie&&(ie={v:Y,i:E},n(ie,w,E),Me[Ve].push(ie))}var et=1/0,it=-1/0,Je=w.quartilemethod,Qe=Je==="exclusive",ct=Je==="inclusive";for(E=0;E<Ie;E++)if(Me[E].length>0){if(ne={},ne.pos=ne[k]=J[E],le=ne.pts=Me[E].sort(u),$=ne[D]=le.map(l),K=$.length,ne.min=$[0],ne.max=$[K-1],ne.mean=L.mean($,K),ne.sd=L.stdev($,K,ne.mean)*w.sdmultiple,ne.med=L.interp($,.5),K%2&&(Qe||ct)){var ht,gt;Qe?(ht=$.slice(0,K/2),gt=$.slice(K/2+1)):ct&&(ht=$.slice(0,K/2+1),gt=$.slice(K/2)),ne.q1=L.interp(ht,.5),ne.q3=L.interp(gt,.5)}else ne.q1=L.interp($,.25),ne.q3=L.interp($,.75);ne.lf=g(ne,$,K),ne.uf=h(ne,$,K),ne.lo=T(ne),ne.uo=c(ne);var Tt=a(ne,K);ne.ln=ne.med-Tt,ne.un=ne.med+Tt,et=Math.min(et,ne.ln),it=Math.max(it,ne.un),ne.pts2=le.filter(Q),A.push(ne)}w.notched&&L.isTypedArray(Re)&&(Re=Array.from(Re)),w._extremes[I._id]=P.findExtremes(I,w.notched?Re.concat([et,it]):Re,{padded:!0})}return f(A,w),A.length>0?(A[0].t={num:C[o],dPos:re,posLetter:k,valLetter:D,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(x,"mean ± σ:").replace("σ",w.sdmultiple===1?"σ":w.sdmultiple+"σ"):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},C[o]++,A):[{t:{empty:!0}}]};function p(d,x,w,C){var y=x in d,M=x+"0"in d,A="d"+x in d;if(y||M&&A){var o=w.makeCalcdata(d,x),E=s(d,w,x,o).vals;return[E,o]}var b;M?b=d[x+"0"]:"name"in d&&(w.type==="category"||m(d.name)&&["linear","log"].indexOf(w.type)!==-1||L.isDateTime(d.name)&&w.type==="date")?b=d.name:b=C;for(var I=w.type==="multicategory"?w.r2c_just_indices(b):w.d2c(b,0,d[x+"calendar"]),D=d._length,N=new Array(D),k=0;k<D;k++)N[k]=I;return[N]}function r(d,x){for(var w=d.length,C=new Array(w+1),y=0;y<w;y++)C[y]=d[y]-x;return C[w]=d[w-1]+x,C}function t(d){for(var x=new Array(d),w=0;w<d;w++)x[w]=[];return x}var i={text:"tx",hovertext:"htx"};function n(d,x,w){for(var C in i)L.isArrayOrTypedArray(x[C])&&(Array.isArray(w)?L.isArrayOrTypedArray(x[C][w[0]])&&(d[i[C]]=x[C][w[0]][w[1]]):d[i[C]]=x[C][w])}function f(d,x){if(L.isArrayOrTypedArray(x.selectedpoints))for(var w=0;w<d.length;w++){for(var C=d[w].pts||[],y={},M=0;M<C.length;M++)y[C[M].i]=M;L.tagSelected(C,x,y)}}function u(d,x){return d.v-x.v}function l(d){return d.v}function g(d,x,w){return w===0?d.q1:Math.min(d.q1,x[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,x,!0)+1,w-1)])}function h(d,x,w){return w===0?d.q3:Math.max(d.q3,x[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,x),0)])}function T(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function a(d,x){return x===0?0:1.57*(d.q3-d.q1)/Math.sqrt(x)}},96404:function(G,H,e){var m=e(54460),P=e(3400),s=e(71888).getAxisGroup,L=["v","h"];function S(p,r){for(var t=p.calcdata,i=r.xaxis,n=r.yaxis,f=0;f<L.length;f++){for(var u=L[f],l=u==="h"?n:i,g=[],h=0;h<t.length;h++){var T=t[h],c=T[0].t,a=T[0].trace;a.visible===!0&&(a.type==="box"||a.type==="candlestick")&&!c.empty&&(a.orientation||"v")===u&&a.xaxis===i._id&&a.yaxis===n._id&&g.push(h)}v("box",p,g,l)}}function v(p,r,t,i){var n=r.calcdata,f=r._fullLayout,u=i._id,l=u.charAt(0),g,h,T,c=[],a=0;for(g=0;g<t.length;g++)for(T=n[t[g]],h=0;h<T.length;h++)c.push(i.c2l(T[h].pos,!0)),a+=(T[h].pts2||[]).length;if(c.length){var d=P.distinctVals(c);(i.type==="category"||i.type==="multicategory")&&(d.minDiff=1);var x=d.minDiff/2;m.minDtick(i,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",C=f[w],y=f[p+"mode"]==="group"&&C>1,M=1-f[p+"gap"],A=1-f[p+"groupgap"];for(g=0;g<t.length;g++){T=n[t[g]];var o=T[0].trace,E=T[0].t,b=o.width,I=o.side,D,N,k,O;if(b)D=N=O=b/2,k=0;else if(D=x,y){var F=s(f,i._id)+o.orientation,z=f._alignmentOpts[F]||{},B=z[o.alignmentgroup]||{},W=Object.keys(B.offsetGroups||{}).length,J=W||C,re=W?o._offsetIndex:E.num;N=D*M*A/J,k=2*D*(-.5+(re+.5)/J)*M,O=D*M/J}else N=D*M*A,k=0,O=D;E.dPos=D,E.bPos=k,E.bdPos=N,E.wHover=O;var ne,le,$=k+N,K,ie,Y,Q,oe,X,j=!!b,se=(o.boxpoints||o.points)&&a>0;if(I==="positive"?(ne=D*(b?1:.5),K=$,le=K=k):I==="negative"?(ne=K=k,le=D*(b?1:.5),ie=$):(ne=le=D,K=ie=$),se){var te=o.pointpos,fe=o.jitter,ge=o.marker.size/2,be=0;te+fe>=0&&(be=$*(te+fe),be>ne?(j=!0,oe=ge,Y=be):be>K&&(oe=ge,Y=ne)),be<=ne&&(Y=ne);var xe=0;te-fe<=0&&(xe=-$*(te-fe),xe>le?(j=!0,X=ge,Q=xe):xe>ie&&(X=ge,Q=le)),xe<=le&&(Q=le)}else Y=ne,Q=le;var _e=new Array(T.length);for(h=0;h<T.length;h++)_e[h]=T[h].pos;o._extremes[u]=m.findExtremes(i,_e,{padded:j,vpadminus:Q,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:X,y:oe}[l],ppadplus:{x:oe,y:X}[l]})}}}G.exports={crossTraceCalc:S,setPositionOffset:v}},90624:function(G,H,e){var m=e(3400),P=e(24040),s=e(76308),L=e(31147),S=e(20011),v=e(52976),p=e(63188);function r(f,u,l,g){function h(A,o){return m.coerce(f,u,p,A,o)}if(t(f,u,h,g),u.visible!==!1){L(f,u,g,h),h("xhoverformat"),h("yhoverformat");var T=u._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||l),h("line.width"),h("fillcolor",s.addOpacity(u.line.color,.5));var c=!1;if(T){var a=h("mean"),d=h("sd");a&&a.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),w;x==="quartiles"&&(w=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||w==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(T){var y=h("notchspan");y&&y.length&&(C=!0)}else m.validate(f.notchwidth,p.notchwidth)&&(C=!0);var M=h("notched",C);M&&h("notchwidth"),i(f,u,h,{prefix:"box"}),h("zorder")}}function t(f,u,l,g){function h(W){var J=0;return W&&W.length&&(J+=1,m.isArrayOrTypedArray(W[0])&&W[0].length&&(J+=1)),J}function T(W){return m.validate(f[W],p[W])}var c=l("y"),a=l("x"),d;if(u.type==="box"){var x=l("q1"),w=l("median"),C=l("q3");u._hasPreCompStats=x&&x.length&&w&&w.length&&C&&C.length,d=Math.min(m.minRowLength(x),m.minRowLength(w),m.minRowLength(C))}var y=h(c),M=h(a),A=y&&m.minRowLength(c),o=M&&m.minRowLength(a),E=g.calendar,b={autotypenumbers:g.autotypenumbers},I,D;if(u._hasPreCompStats)switch(String(M)+String(y)){case"00":var N=T("x0")||T("dx"),k=T("y0")||T("dy");k&&!N?I="h":I="v",D=d;break;case"10":I="v",D=Math.min(d,o);break;case"20":I="h",D=Math.min(d,a.length);break;case"01":I="h",D=Math.min(d,A);break;case"02":I="v",D=Math.min(d,c.length);break;case"12":I="v",D=Math.min(d,o,c.length);break;case"21":I="h",D=Math.min(d,a.length,A);break;case"11":D=0;break;case"22":var O=!1,F;for(F=0;F<a.length;F++)if(v(a[F],E,b)==="category"){O=!0;break}if(O)I="v",D=Math.min(d,o,c.length);else{for(F=0;F<c.length;F++)if(v(c[F],E,b)==="category"){O=!0;break}O?(I="h",D=Math.min(d,a.length,A)):(I="v",D=Math.min(d,o,c.length))}break}else y>0?(I="v",M>0?D=Math.min(o,A):D=Math.min(A)):M>0?(I="h",D=Math.min(o)):D=0;if(!D){u.visible=!1;return}u._length=D;var z=l("orientation",I);u._hasPreCompStats?z==="v"&&M===0?(l("x0",0),l("dx",1)):z==="h"&&y===0&&(l("y0",0),l("dy",1)):z==="v"&&M===0?l("x0"):z==="h"&&y===0&&l("y0");var B=P.getComponentMethod("calendars","handleTraceDefaults");B(f,u,["x","y"],g)}function i(f,u,l,g){var h=g.prefix,T=m.coerce2(f,u,p,"marker.outliercolor"),c=l("marker.line.outliercolor"),a="outliers";u._hasPreCompStats?a="all":(T||c)&&(a="suspectedoutliers");var d=l(h+"points",a);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var x=l("hoveron");(x==="all"||x.indexOf("points")!==-1)&&l("hovertemplate"),m.coerceSelectionMarkerOpacity(u,l)}function n(f,u){var l,g;function h(a){return m.coerce(g._input,g,p,a)}for(var T=0;T<f.length;T++){g=f[T];var c=g.type;(c==="box"||c==="violin")&&(l=g._input,u[c+"mode"]==="group"&&S(l,g,u,h))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(G){G.exports=function(e,m){return m.hoverOnBox&&(e.hoverOnBox=m.hoverOnBox),"xVal"in m&&(e.x=m.xVal),"yVal"in m&&(e.y=m.yVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},27576:function(G,H,e){var m=e(54460),P=e(3400),s=e(93024),L=e(76308),S=P.fillText;function v(t,i,n,f){var u=t.cd,l=u[0].trace,g=l.hoveron,h=[],T;return g.indexOf("boxes")!==-1&&(h=h.concat(p(t,i,n,f))),g.indexOf("points")!==-1&&(T=r(t,i,n)),f==="closest"?T?[T]:h:(T&&h.push(T),h)}function p(t,i,n,f){var u=t.cd,l=t.xa,g=t.ya,h=u[0].trace,T=u[0].t,c=h.type==="violin",a,d,x,w,C,y,M,A,o,E,b,I=T.bdPos,D,N,k=T.wHover,O=function(xe){return x.c2l(xe.pos)+T.bPos-x.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(o=function(xe){var _e=O(xe);return s.inbox(_e,_e+k,E)},D=I,N=0),h.side==="negative"&&(o=function(xe){var _e=O(xe);return s.inbox(_e-k,_e,E)},D=0,N=I)):(o=function(xe){var _e=O(xe);return s.inbox(_e-k,_e+k,E)},D=N=I);var F;c?F=function(xe){return s.inbox(xe.span[0]-C,xe.span[1]-C,E)}:F=function(xe){return s.inbox(xe.min-C,xe.max-C,E)},h.orientation==="h"?(C=i,y=n,M=F,A=o,a="y",x=g,d="x",w=l):(C=n,y=i,M=o,A=F,a="x",x=l,d="y",w=g);var z=Math.min(1,I/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));E=t.maxHoverDistance-z,b=t.maxSpikeDistance-z;function B(xe){return(M(xe)+A(xe))/2}var W=s.getDistanceFunction(f,M,A,B);if(s.getClosest(u,W,t),t.index===!1)return[];var J=u[t.index],re=h.line.color,ne=(h.marker||{}).color;L.opacity(re)&&h.line.width?t.color=re:L.opacity(ne)&&h.boxpoints?t.color=ne:t.color=h.fillcolor,t[a+"0"]=x.c2p(J.pos+T.bPos-N,!0),t[a+"1"]=x.c2p(J.pos+T.bPos+D,!0),t[a+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var le=a+"Spike";t.spikeDistance=B(J)*b/E,t[le]=x.c2p(J.pos,!0);var $=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,K=h.boxpoints||h.points,ie=K&&$?["max","uf","q3","med","mean","q1","lf","min"]:K&&!$?["max","uf","q3","med","q1","lf","min"]:!K&&$?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=w.range[1]<w.range[0];h.orientation===(Y?"v":"h")&&ie.reverse();for(var Q=t.spikeDistance,oe=t[le],X=[],j=0;j<ie.length;j++){var se=ie[j];if(se in J){var te=J[se],fe=w.c2p(te,!0),ge=P.extendFlat({},t);ge.attr=se,ge[d+"0"]=ge[d+"1"]=fe,ge[d+"LabelVal"]=te,ge[d+"Label"]=(T.labels?T.labels[se]+" ":"")+m.hoverLabelText(w,te,h[d+"hoverformat"]),ge.hoverOnBox=!0,se==="mean"&&"sd"in J&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ge[d+"err"]=J.sd),ge.hovertemplate=!1,X.push(ge)}}t.name="",t.spikeDistance=void 0,t[le]=void 0;for(var be=0;be<X.length;be++)X[be].attr!=="med"?(X[be].name="",X[be].spikeDistance=void 0,X[be][le]=void 0):(X[be].spikeDistance=Q,X[be][le]=oe);return X}function r(t,i,n){for(var f=t.cd,u=t.xa,l=t.ya,g=f[0].trace,h=u.c2p(i),T=l.c2p(n),c,a=function(F){var z=Math.max(3,F.mrc||0);return Math.max(Math.abs(u.c2p(F.x)-h)-z,1-3/z)},d=function(F){var z=Math.max(3,F.mrc||0);return Math.max(Math.abs(l.c2p(F.y)-T)-z,1-3/z)},x=s.quadrature(a,d),w=!1,C,y,M=0;M<f.length;M++){C=f[M];for(var A=0;A<(C.pts||[]).length;A++){y=C.pts[A];var o=x(y);o<=t.distance&&(t.distance=o,w=[M,A])}}if(!w)return!1;C=f[w[0]],y=C.pts[w[1]];var E=u.c2p(y.x,!0),b=l.c2p(y.y,!0),I=y.mrc||1;c=P.extendFlat({},t,{index:y.i,color:(g.marker||{}).color,name:g.name,x0:E-I,x1:E+I,y0:b-I,y1:b+I,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var D=C.orig_p,N=D!==void 0?D:C.pos,k;g.orientation==="h"?(k=l,c.xLabelVal=y.x,c.yLabelVal=N):(k=u,c.xLabelVal=N,c.yLabelVal=y.y);var O=k._id.charAt(0);return c[O+"Spike"]=k.c2p(C.pos,!0),S(y,g,c),c}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(G,H,e){G.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(G,H,e){var m=e(24040),P=e(3400),s=e(16560);function L(v,p,r,t,i){for(var n=i+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(m.traceIs(l,n)){f=!0;break}}f&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function S(v,p,r){function t(i,n){return P.coerce(v,p,s,i,n)}L(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:S,_supply:L}},18728:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=5,S=.01;function v(i,n,f,u){var l=i._context.staticPlot,g=n.xaxis,h=n.yaxis;P.makeTraceGroups(u,f,"trace boxes").each(function(T){var c=m.select(this),a=T[0],d=a.t,x=a.trace;if(d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty){c.remove();return}var w,C;x.orientation==="h"?(w=h,C=g):(w=g,C=h),p(c,{pos:w,val:C},x,d,l),r(c,{x:g,y:h},x,d),t(c,{pos:w,val:C},x,d)})}function p(i,n,f,u,l){var g=f.orientation==="h",h=n.val,T=n.pos,c=!!T.rangebreaks,a=u.bPos,d=u.wdPos||0,x=u.bPosPxOffset||0,w=f.whiskerwidth||0,C=f.showwhiskers!==!1,y=f.notched||!1,M=y?1-2*f.notchwidth:1,A,o;Array.isArray(u.bdPos)?(A=u.bdPos[0],o=u.bdPos[1]):(A=u.bdPos,o=u.bdPos);var E=i.selectAll("path.box").data(f.type!=="violin"||f.box.visible?P.identity:[]);E.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(b){if(b.empty)return m.select(this).attr("d","M0,0Z");var I=T.c2l(b.pos+a,!0),D=T.l2p(I-A)+x,N=T.l2p(I+o)+x,k=c?(D+N)/2:T.l2p(I)+x,O=f.whiskerwidth,F=c?D*O+(1-O)*k:T.l2p(I-d)+x,z=c?N*O+(1-O)*k:T.l2p(I+d)+x,B=T.l2p(I-A*M)+x,W=T.l2p(I+o*M)+x,J=f.sizemode==="sd",re=h.c2p(J?b.mean-b.sd:b.q1,!0),ne=J?h.c2p(b.mean+b.sd,!0):h.c2p(b.q3,!0),le=P.constrain(J?h.c2p(b.mean,!0):h.c2p(b.med,!0),Math.min(re,ne)+1,Math.max(re,ne)-1),$=b.lf===void 0||f.boxpoints===!1||J,K=h.c2p($?b.min:b.lf,!0),ie=h.c2p($?b.max:b.uf,!0),Y=h.c2p(b.ln,!0),Q=h.c2p(b.un,!0);g?m.select(this).attr("d","M"+le+","+B+"V"+W+"M"+re+","+D+"V"+N+(y?"H"+Y+"L"+le+","+W+"L"+Q+","+N:"")+"H"+ne+"V"+D+(y?"H"+Q+"L"+le+","+B+"L"+Y+","+D:"")+"Z"+(C?"M"+re+","+k+"H"+K+"M"+ne+","+k+"H"+ie+(w===0?"":"M"+K+","+F+"V"+z+"M"+ie+","+F+"V"+z):"")):m.select(this).attr("d","M"+B+","+le+"H"+W+"M"+D+","+re+"H"+N+(y?"V"+Y+"L"+W+","+le+"L"+N+","+Q:"")+"V"+ne+"H"+D+(y?"V"+Q+"L"+B+","+le+"L"+D+","+Y:"")+"Z"+(C?"M"+k+","+re+"V"+K+"M"+k+","+ne+"V"+ie+(w===0?"":"M"+F+","+K+"H"+z+"M"+F+","+ie+"H"+z):""))})}function r(i,n,f,u){var l=n.x,g=n.y,h=u.bdPos,T=u.bPos,c=f.boxpoints||f.points;P.seedPseudoRandom();var a=function(w){return w.forEach(function(C){C.t=u,C.trace=f}),w},d=i.selectAll("g.points").data(c?a:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var x=d.selectAll("path").data(function(w){var C,y=w.pts2,M=Math.max((w.max-w.min)/10,w.q3-w.q1),A=M*1e-9,o=M*S,E=[],b=0,I;if(f.jitter){if(M===0)for(b=1,E=new Array(y.length),C=0;C<y.length;C++)E[C]=1;else for(C=0;C<y.length;C++){var D=Math.max(0,C-L),N=y[D].v,k=Math.min(y.length-1,C+L),O=y[k].v;c!=="all"&&(y[C].v<w.lf?O=Math.min(O,w.lf):N=Math.max(N,w.uf));var F=Math.sqrt(o*(k-D)/(O-N+A))||0;F=P.constrain(Math.abs(F),0,1),E.push(F),b=Math.max(F,b)}I=f.jitter*2/(b||1)}for(C=0;C<y.length;C++){var z=y[C],B=z.v,W=f.jitter?I*E[C]*(P.pseudoRandom()-.5):0,J=w.pos+T+h*(f.pointpos+W);f.orientation==="h"?(z.y=J,z.x=B):(z.x=J,z.y=B),c==="suspectedoutliers"&&B<w.uo&&B>w.lo&&(z.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(s.translatePoints,l,g)}function t(i,n,f,u){var l=n.val,g=n.pos,h=!!g.rangebreaks,T=u.bPos,c=u.bPosPxOffset||0,a=f.boxmean||(f.meanline||{}).visible,d,x;Array.isArray(u.bdPos)?(d=u.bdPos[0],x=u.bdPos[1]):(d=u.bdPos,x=u.bdPos);var w=i.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?P.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(C){var y=g.c2l(C.pos+T,!0),M=g.l2p(y-d)+c,A=g.l2p(y+x)+c,o=h?(M+A)/2:g.l2p(y)+c,E=l.c2p(C.mean,!0),b=l.c2p(C.mean-C.sd,!0),I=l.c2p(C.mean+C.sd,!0);f.orientation==="h"?m.select(this).attr("d","M"+E+","+M+"V"+A+(a==="sd"?"m0,0L"+b+","+o+"L"+E+","+M+"L"+I+","+o+"Z":"")):m.select(this).attr("d","M"+M+","+E+"H"+A+(a==="sd"?"m0,0L"+o+","+b+"L"+M+","+E+"L"+o+","+I+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(G){G.exports=function(e,m){var P=e.cd,s=e.xaxis,L=e.yaxis,S=[],v,p;if(m===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=s.c2p(r.x),i=L.c2p(r.y);m.contains([t,i],null,r.i,e)?(S.push({pointNumber:r.i,x:s.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return S}},25776:function(G,H,e){var m=e(33428),P=e(76308),s=e(43616);function L(v,p,r){var t=r||m.select(v).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var n=m.select(this),f=i[0].trace,u=f.line.width;function l(T,c,a,d){T.style("stroke-width",c+"px").call(P.stroke,a).call(P.fill,d)}var g=n.selectAll("path.box");if(f.type==="candlestick")g.each(function(T){if(!T.empty){var c=m.select(this),a=f[T.dir];l(c,a.line.width,a.line.color,a.fillcolor),c.style("opacity",f.selectedpoints&&!T.selected?.3:1)}});else{l(g,u,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(P.stroke,f.line.color);var h=n.selectAll("path.point");s.pointStyle(h,f,v)}})}function S(v,p,r){var t=p[0].trace,i=r.selectAll("path.point");t.selectedpoints?s.selectedPointStyle(i,t):s.pointStyle(i,t,v)}G.exports={style:L,styleOnSelect:S}},64216:function(G,H,e){var m=e(3400).extendFlat,P=e(29736).axisHoverFormat,s=e(20279),L=e(63188);function S(v){return{line:{color:m({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}G.exports={xperiod:s.xperiod,xperiod0:s.xperiod0,xperiodalignment:s.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:s.x,open:s.open,high:s.high,low:s.low,close:s.close,line:{width:m({},L.line.width,{}),editType:"style"},increasing:S(s.increasing.line.color.dflt),decreasing:S(s.decreasing.line.color.dflt),text:s.text,hovertext:s.hovertext,whiskerwidth:m({},L.whiskerwidth,{dflt:0}),hoverlabel:s.hoverlabel,zorder:L.zorder}},46283:function(G,H,e){var m=e(3400),P=e(54460),s=e(1220),L=e(42812).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),i=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),f=s(p,t,"x",n).vals,u=L(v,p,n,f,i,S);return u.length?(m.extendFlat(u[0].t,{num:r._numBoxes,dPos:m.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function S(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(G,H,e){var m=e(3400),P=e(76308),s=e(52744),L=e(31147),S=e(64216);G.exports=function(r,t,i,n){function f(l,g){return m.coerce(r,t,S,l,g)}var u=s(r,t,f,n);if(!u){t.visible=!1;return}L(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,f("zorder")};function v(p,r,t,i){var n=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",P.addOpacity(n,.5))}},61712:function(G,H,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(G,H,e){var m=e(63856),P=e(31780);G.exports=function(S,v,p,r,t){var i=r("a");i||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),s(S,v,p,t)};function s(L,S,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),n=L[t]||{},f=P.newContainer(S,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:S.font,name:t,data:L[i],calendar:S.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};m(n,f,u),f._categories=f._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},51676:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(s){return P(s,0)};function P(s,L){if(!m(s)||L>=10)return null;for(var S=1/0,v=-1/0,p=s.length,r=0;r<p;r++){var t=s[r];if(m(t)){var i=P(t,L+1);i&&(S=Math.min(i[0],S),v=Math.max(i[1],v))}else S=Math.min(t,S),v=Math.max(t,v)}return[S,v]}},85720:function(G,H,e){var m=e(25376),P=e(98692),s=e(22548),L=m({editType:"calc"}),S=e(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=s.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:s.defaultLine,editType:"plot"},transforms:void 0,zorder:S}},77712:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(P,s,L,S){var v,p,r,t,i,n,f,u,l,g,h,T,c,a=m(L)?"a":"b",d=a==="a"?P.aaxis:P.baxis,x=d.smoothing,w=a==="a"?P.a2i:P.b2j,C=a==="a"?L:S,y=a==="a"?S:L,M=a==="a"?s.a.length:s.b.length,A=a==="a"?s.b.length:s.a.length,o=Math.floor(a==="a"?P.b2j(y):P.a2i(y)),E=a==="a"?function(re){return P.evalxy([],re,o)}:function(re){return P.evalxy([],o,re)};x&&(r=Math.max(0,Math.min(A-2,o)),t=o-r,p=a==="a"?function(re,ne){return P.dxydi([],re,r,ne,t)}:function(re,ne){return P.dxydj([],r,re,t,ne)});var b=w(C[0]),I=w(C[1]),D=b<I?1:-1,N=(I-b)*1e-8,k=D>0?Math.floor:Math.ceil,O=D>0?Math.ceil:Math.floor,F=D>0?Math.min:Math.max,z=D>0?Math.max:Math.min,B=k(b+N),W=O(I-N);f=E(b);var J=[[f]];for(v=B;v*D<W*D;v+=D)i=[],h=z(b,v),T=F(I,v+D),c=T-h,n=Math.max(0,Math.min(M-2,Math.floor(.5*(h+T)))),u=E(T),x&&(l=p(n,h-n),g=p(n,T-n),i.push([f[0]+l[0]/3*c,f[1]+l[1]/3*c]),i.push([u[0]-g[0]/3*c,u[1]-g[1]/3*c])),i.push(u),J.push(i),f=u;return J}},98692:function(G,H,e){var m=e(25376),P=e(22548),s=e(94724),L=e(29736).descriptionWithDates,S=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:m({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:s.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},s.labelalias,{editType:"calc"}),tickfont:m({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:S(s.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:m({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(G,H,e){var m=e(85720),P=e(76308).addOpacity,s=e(24040),L=e(3400),S=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),i=e(52976);G.exports=function(u,l,g){var h=g.letter,T=g.font||{},c=m[h+"axis"];function a(B,W){return L.coerce(u,l,c,B,W)}function d(B,W){return L.coerce2(u,l,c,B,W)}g.name&&(l._name=g.name,l._id=g.name),a("autotypenumbers",g.autotypenumbersDflt);var x=a("type");if(x==="-"&&(g.data&&n(l,g.data),l.type==="-"?l.type="linear":x=u.type=l.type),a("smoothing"),a("cheatertype"),a("showticklabels"),a("labelprefix",h+" = "),a("labelsuffix"),a("showtickprefix"),a("showticksuffix"),a("separatethousands"),a("tickformat"),a("exponentformat"),a("minexponent"),a("showexponent"),a("categoryorder"),a("tickmode"),a("tickvals"),a("ticktext"),a("tick0"),a("dtick"),l.tickmode==="array"&&(a("arraytick0"),a("arraydtick")),a("labelpadding"),l._hovertitle=h,x==="date"){var w=s.getComponentMethod("calendars","handleDefaults");w(u,l,"calendar",g.calendar)}t(l,g.fullLayout),l.c2p=L.identity;var C=a("color",g.dfltColor),y=C===u.color?C:T.color,M=a("title.text");M&&(L.coerceFont(a,"title.font",T,{overrideDflt:{size:L.bigFont(T.size),color:y}}),a("title.offset")),a("tickangle");var A=a("autorange",!l.isValidRange(u.range));A&&a("rangemode"),a("range"),l.cleanRange(),a("fixedrange"),S(u,l,a,x),p(u,l,a,x,g),v(u,l,a,x,g),r(u,l,a,{data:g.data,dataAttr:h});var o=d("gridcolor",P(C,.3)),E=d("gridwidth"),b=d("griddash"),I=a("showgrid");I||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var D=d("startlinecolor",C),N=d("startlinewidth",E),k=a("startline",l.showgrid||!!D||!!N);k||(delete l.startlinecolor,delete l.startlinewidth);var O=d("endlinecolor",C),F=d("endlinewidth",E),z=a("endline",l.showgrid||!!O||!!F);return z||(delete l.endlinecolor,delete l.endlinewidth),I?(a("minorgridcount"),a("minorgridwidth",E),a("minorgriddash",b),a("minorgridcolor",P(o,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,a("tickmode"),l};function n(f,u){if(f.type==="-"){var l=f._id,g=l.charAt(0),h=g+"calendar",T=f[h];f.type=i(u,T,{autotypenumbers:f.autotypenumbers})}}},58744:function(G,H,e){var m=e(54460),P=e(3400).isArray1D,s=e(60776),L=e(51676),S=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),i=e(2872),n=e(81e3);G.exports=function(u,l){var g=m.getFromId(u,l.xaxis),h=m.getFromId(u,l.yaxis),T=l.aaxis,c=l.baxis,a=l.x,d=l.y,x=[];a&&P(a)&&x.push("x"),d&&P(d)&&x.push("y"),x.length&&i(l,T,c,"a","b",x);var w=l._a=l._a||l.a,C=l._b=l._b||l.b;a=l._x||l.x,d=l._y||l.y;var y={};if(l._cheater){var M=T.cheatertype==="index"?w.length:w,A=c.cheatertype==="index"?C.length:C;a=s(M,A,l.cheaterslope)}l._x=a=r(a),l._y=d=r(d),t(a,w,C),t(d,w,C),n(l),l.setScale();var o=L(a),E=L(d),b=.5*(o[1]-o[0]),I=.5*(o[1]+o[0]),D=.5*(E[1]-E[0]),N=.5*(E[1]+E[0]),k=1.3;return o=[I-b*k,I+b*k],E=[N-D*k,N+D*k],l._extremes[g._id]=m.findExtremes(g,o,{padded:!0}),l._extremes[h._id]=m.findExtremes(h,E,{padded:!0}),S(l,"a","b"),S(l,"b","a"),v(l,T),v(l,c),y.clipsegments=p(l._xctrl,l._yctrl,T,c),y.x=a,y.y=d,y.a=w,y.b=C,[y]}},24944:function(G){G.exports=function(e,m,P,s){var L,S,v,p=[],r=!!P.smoothing,t=!!s.smoothing,i=e[0].length-1,n=e.length-1;for(L=0,S=[],v=[];L<=i;L++)S[L]=e[0][L],v[L]=m[0][L];for(p.push({x:S,y:v,bicubic:r}),L=0,S=[],v=[];L<=n;L++)S[L]=e[L][i],v[L]=m[L][i];for(p.push({x:S,y:v,bicubic:t}),L=i,S=[],v=[];L>=0;L--)S[i-L]=e[n][L],v[i-L]=m[n][L];for(p.push({x:S,y:v,bicubic:r}),L=n,S=[],v=[];L>=0;L--)S[n-L]=e[L][0],v[n-L]=m[L][0];return p.push({x:S,y:v,bicubic:t}),p}},19216:function(G,H,e){var m=e(54460),P=e(92880).extendFlat;G.exports=function(L,S,v){var p,r,t,i,n,f,u,l,g,h,T,c,a,d,x=L["_"+S],w=L[S+"axis"],C=w._gridlines=[],y=w._minorgridlines=[],M=w._boundarylines=[],A=L["_"+v],o=L[v+"axis"];w.tickmode==="array"&&(w.tickvals=x.slice());var E=L._xctrl,b=L._yctrl,I=E[0].length,D=E.length,N=L._a.length,k=L._b.length;m.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var O=w.smoothing?3:1;function F(B){var W,J,re,ne,le,$,K,ie,Y,Q,oe,X,j=[],se=[],te={};if(S==="b")for(J=L.b2j(B),re=Math.floor(Math.max(0,Math.min(k-2,J))),ne=J-re,te.length=k,te.crossLength=N,te.xy=function(fe){return L.evalxy([],fe,J)},te.dxy=function(fe,ge){return L.dxydi([],fe,re,ge,ne)},W=0;W<N;W++)$=Math.min(N-2,W),K=W-$,ie=L.evalxy([],W,J),o.smoothing&&W>0&&(Y=L.dxydi([],W-1,re,0,ne),j.push(le[0]+Y[0]/3),se.push(le[1]+Y[1]/3),Q=L.dxydi([],W-1,re,1,ne),j.push(ie[0]-Q[0]/3),se.push(ie[1]-Q[1]/3)),j.push(ie[0]),se.push(ie[1]),le=ie;else for(W=L.a2i(B),$=Math.floor(Math.max(0,Math.min(N-2,W))),K=W-$,te.length=N,te.crossLength=k,te.xy=function(fe){return L.evalxy([],W,fe)},te.dxy=function(fe,ge){return L.dxydj([],$,fe,K,ge)},J=0;J<k;J++)re=Math.min(k-2,J),ne=J-re,ie=L.evalxy([],W,J),o.smoothing&&J>0&&(oe=L.dxydj([],$,J-1,K,0),j.push(le[0]+oe[0]/3),se.push(le[1]+oe[1]/3),X=L.dxydj([],$,J-1,K,1),j.push(ie[0]-X[0]/3),se.push(ie[1]-X[1]/3)),j.push(ie[0]),se.push(ie[1]),le=ie;return te.axisLetter=S,te.axis=w,te.crossAxis=o,te.value=B,te.constvar=v,te.index=l,te.x=j,te.y=se,te.smoothing=o.smoothing,te}function z(B){var W,J,re,ne,le,$=[],K=[],ie={};if(ie.length=x.length,ie.crossLength=A.length,S==="b")for(re=Math.max(0,Math.min(k-2,B)),le=Math.min(1,Math.max(0,B-re)),ie.xy=function(Y){return L.evalxy([],Y,B)},ie.dxy=function(Y,Q){return L.dxydi([],Y,re,Q,le)},W=0;W<I;W++)$[W]=E[B*O][W],K[W]=b[B*O][W];else for(J=Math.max(0,Math.min(N-2,B)),ne=Math.min(1,Math.max(0,B-J)),ie.xy=function(Y){return L.evalxy([],B,Y)},ie.dxy=function(Y,Q){return L.dxydj([],J,Y,ne,Q)},W=0;W<D;W++)$[W]=E[W][B*O],K[W]=b[W][B*O];return ie.axisLetter=S,ie.axis=w,ie.crossAxis=o,ie.value=x[B],ie.constvar=v,ie.index=B,ie.x=$,ie.y=K,ie.smoothing=o.smoothing,ie}if(w.tickmode==="array"){for(i=5e-15,n=[Math.floor((x.length-1-w.arraytick0)/w.arraydtick*(1+i)),Math.ceil(-w.arraytick0/w.arraydtick/(1+i))].sort(function(B,W){return B-W}),f=n[0]-1,u=n[1]+1,l=f;l<u;l++)r=w.arraytick0+w.arraydtick*l,!(r<0||r>x.length-1)&&C.push(P(z(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f;l<u;l++)if(t=w.arraytick0+w.arraydtick*l,T=Math.min(t+w.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(T<0||T>x.length-1))for(c=x[t],a=x[T],p=0;p<w.minorgridcount;p++)d=T-t,!(d<=0)&&(h=c+(a-c)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(h<x[0]||h>x[x.length-1])&&y.push(P(F(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&M.push(P(z(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&M.push(P(z(x.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(i=5e-15,n=[Math.floor((x[x.length-1]-w.tick0)/w.dtick*(1+i)),Math.ceil((x[0]-w.tick0)/w.dtick/(1+i))].sort(function(B,W){return B-W}),f=n[0],u=n[1],l=f;l<=u;l++)g=w.tick0+w.dtick*l,C.push(P(F(g),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f-1;l<u+1;l++)for(g=w.tick0+w.dtick*l,p=0;p<w.minorgridcount;p++)h=g+w.dtick*(p+1)/(w.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&y.push(P(F(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&M.push(P(F(x[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&M.push(P(F(x[x.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(G,H,e){var m=e(54460),P=e(92880).extendFlat;G.exports=function(L,S){var v,p,r,t,i,n=S._labels=[],f=S._gridlines;for(v=0;v<f.length;v++)i=f[v],["start","both"].indexOf(S.showticklabels)!==-1&&(p=m.tickText(S,i.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p)),["end","both"].indexOf(S.showticklabels)!==-1&&(p=m.tickText(S,i.value),P(p,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(p))}},62284:function(G){var H=.5;G.exports=function(m,P,s,L){var S=m[0]-P[0],v=m[1]-P[1],p=s[0]-P[0],r=s[1]-P[1],t=Math.pow(S*S+v*v,H/2),i=Math.pow(p*p+r*r,H/2),n=(i*i*S-t*t*p)*L,f=(i*i*v-t*t*r)*L,u=i*(t+i)*3,l=t*(t+i)*3;return[[P[0]+(u&&n/u),P[1]+(u&&f/u)],[P[0]-(l&&n/l),P[1]-(l&&f/l)]]}},60776:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(P,s,L){var S,v,p,r,t,i,n=[],f=m(P)?P.length:P,u=m(s)?s.length:s,l=m(P)?P:null,g=m(s)?s:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(u-1));var h,T=1/0,c=-1/0;for(v=0;v<u;v++)for(n[v]=[],i=g?(g[v]-g[0])*r:v/(u-1),S=0;S<f;S++)t=l?(l[S]-l[0])*p:S/(f-1),h=t-i*L,T=Math.min(h,T),c=Math.max(h,c),n[v][S]=h;var a=1/(c-T),d=-T*a;for(v=0;v<u;v++)for(S=0;S<f;S++)n[v][S]=a*n[v][S]+d;return n}},30180:function(G,H,e){var m=e(62284),P=e(3400).ensureArray;function s(L,S,v){var p=-.5*v[0]+1.5*S[0],r=-.5*v[1]+1.5*S[1];return[(2*p+L[0])/3,(2*r+L[1])/3]}G.exports=function(S,v,p,r,t,i){var n,f,u,l,g,h,T,c,a,d,x=p[0].length,w=p.length,C=t?3*x-2:x,y=i?3*w-2:w;for(S=P(S,y),v=P(v,y),u=0;u<y;u++)S[u]=P(S[u],C),v[u]=P(v[u],C);for(f=0,l=0;f<w;f++,l+=i?3:1)for(g=S[l],h=v[l],T=p[f],c=r[f],n=0,u=0;n<x;n++,u+=t?3:1)g[u]=T[n],h[u]=c[n];if(t)for(f=0,l=0;f<w;f++,l+=i?3:1){for(n=1,u=3;n<x-1;n++,u+=3)a=m([p[f][n-1],r[f][n-1]],[p[f][n],r[f][n]],[p[f][n+1],r[f][n+1]],t),S[l][u-1]=a[0][0],v[l][u-1]=a[0][1],S[l][u+1]=a[1][0],v[l][u+1]=a[1][1];d=s([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=d[0],v[l][1]=d[1],d=s([S[l][C-1],v[l][C-1]],[S[l][C-3],v[l][C-3]],[S[l][C-4],v[l][C-4]]),S[l][C-2]=d[0],v[l][C-2]=d[1]}if(i)for(u=0;u<C;u++){for(l=3;l<y-3;l+=3)a=m([S[l-3][u],v[l-3][u]],[S[l][u],v[l][u]],[S[l+3][u],v[l+3][u]],i),S[l-1][u]=a[0][0],v[l-1][u]=a[0][1],S[l+1][u]=a[1][0],v[l+1][u]=a[1][1];d=s([S[0][u],v[0][u]],[S[2][u],v[2][u]],[S[3][u],v[3][u]]),S[1][u]=d[0],v[1][u]=d[1],d=s([S[y-1][u],v[y-1][u]],[S[y-3][u],v[y-3][u]],[S[y-4][u],v[y-4][u]]),S[y-2][u]=d[0],v[y-2][u]=d[1]}if(t&&i)for(l=1;l<y;l+=(l+1)%3===0?2:1){for(u=3;u<C-3;u+=3)a=m([S[l][u-3],v[l][u-3]],[S[l][u],v[l][u]],[S[l][u+3],v[l][u+3]],t),S[l][u-1]=.5*(S[l][u-1]+a[0][0]),v[l][u-1]=.5*(v[l][u-1]+a[0][1]),S[l][u+1]=.5*(S[l][u+1]+a[1][0]),v[l][u+1]=.5*(v[l][u+1]+a[1][1]);d=s([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=.5*(S[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=s([S[l][C-1],v[l][C-1]],[S[l][C-3],v[l][C-3]],[S[l][C-4],v[l][C-4]]),S[l][C-2]=.5*(S[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[S,v]}},24588:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(G){G.exports=function(H,e,m){return e&&m?function(P,s,L,S,v){P||(P=[]);var p,r,t,i,n,f;s*=3,L*=3;var u=S*S,l=1-S,g=l*l,h=l*S*2,T=-3*g,c=3*(g-h),a=3*(h-u),d=3*u,x=v*v,w=x*v,C=1-v,y=C*C,M=y*C;for(f=0;f<H.length;f++)n=H[f],p=T*n[L][s]+c*n[L][s+1]+a*n[L][s+2]+d*n[L][s+3],r=T*n[L+1][s]+c*n[L+1][s+1]+a*n[L+1][s+2]+d*n[L+1][s+3],t=T*n[L+2][s]+c*n[L+2][s+1]+a*n[L+2][s+2]+d*n[L+2][s+3],i=T*n[L+3][s]+c*n[L+3][s+1]+a*n[L+3][s+2]+d*n[L+3][s+3],P[f]=M*p+3*(y*v*r+C*x*t)+w*i;return P}:e?function(P,s,L,S,v){P||(P=[]);var p,r,t,i;s*=3;var n=S*S,f=1-S,u=f*f,l=f*S*2,g=-3*u,h=3*(u-l),T=3*(l-n),c=3*n,a=1-v;for(t=0;t<H.length;t++)i=H[t],p=g*i[L][s]+h*i[L][s+1]+T*i[L][s+2]+c*i[L][s+3],r=g*i[L+1][s]+h*i[L+1][s+1]+T*i[L+1][s+2]+c*i[L+1][s+3],P[t]=a*p+v*r;return P}:m?function(P,s,L,S,v){P||(P=[]);var p,r,t,i,n,f;L*=3;var u=v*v,l=u*v,g=1-v,h=g*g,T=h*g;for(n=0;n<H.length;n++)f=H[n],p=f[L][s+1]-f[L][s],r=f[L+1][s+1]-f[L+1][s],t=f[L+2][s+1]-f[L+2][s],i=f[L+3][s+1]-f[L+3][s],P[n]=T*p+3*(h*v*r+g*u*t)+l*i;return P}:function(P,s,L,S,v){P||(P=[]);var p,r,t,i,n=1-v;for(t=0;t<H.length;t++)i=H[t],p=i[L][s+1]-i[L][s],r=i[L+1][s+1]-i[L+1][s],P[t]=n*p+v*r;return P}}},24464:function(G){G.exports=function(H,e,m){return e&&m?function(P,s,L,S,v){P||(P=[]);var p,r,t,i,n,f;s*=3,L*=3;var u=S*S,l=u*S,g=1-S,h=g*g,T=h*g,c=v*v,a=1-v,d=a*a,x=a*v*2,w=-3*d,C=3*(d-x),y=3*(x-c),M=3*c;for(f=0;f<H.length;f++)n=H[f],p=w*n[L][s]+C*n[L+1][s]+y*n[L+2][s]+M*n[L+3][s],r=w*n[L][s+1]+C*n[L+1][s+1]+y*n[L+2][s+1]+M*n[L+3][s+1],t=w*n[L][s+2]+C*n[L+1][s+2]+y*n[L+2][s+2]+M*n[L+3][s+2],i=w*n[L][s+3]+C*n[L+1][s+3]+y*n[L+2][s+3]+M*n[L+3][s+3],P[f]=T*p+3*(h*S*r+g*u*t)+l*i;return P}:e?function(P,s,L,S,v){P||(P=[]);var p,r,t,i,n,f;s*=3;var u=v*v,l=u*v,g=1-v,h=g*g,T=h*g;for(n=0;n<H.length;n++)f=H[n],p=f[L+1][s]-f[L][s],r=f[L+1][s+1]-f[L][s+1],t=f[L+1][s+2]-f[L][s+2],i=f[L+1][s+3]-f[L][s+3],P[n]=T*p+3*(h*v*r+g*u*t)+l*i;return P}:m?function(P,s,L,S,v){P||(P=[]);var p,r,t,i;L*=3;var n=1-S,f=v*v,u=1-v,l=u*u,g=u*v*2,h=-3*l,T=3*(l-g),c=3*(g-f),a=3*f;for(t=0;t<H.length;t++)i=H[t],p=h*i[L][s]+T*i[L+1][s]+c*i[L+2][s]+a*i[L+3][s],r=h*i[L][s+1]+T*i[L+1][s+1]+c*i[L+2][s+1]+a*i[L+3][s+1],P[t]=n*p+S*r;return P}:function(P,s,L,S,v){P||(P=[]);var p,r,t,i,n=1-S;for(t=0;t<H.length;t++)i=H[t],p=i[L+1][s]-i[L][s],r=i[L+1][s+1]-i[L][s+1],P[t]=n*p+S*r;return P}}},29056:function(G){G.exports=function(H,e,m,P,s){var L=e-2,S=m-2;return P&&s?function(v,p,r){v||(v=[]);var t,i,n,f,u,l,g=Math.max(0,Math.min(Math.floor(p),L)),h=Math.max(0,Math.min(Math.floor(r),S)),T=Math.max(0,Math.min(1,p-g)),c=Math.max(0,Math.min(1,r-h));g*=3,h*=3;var a=T*T,d=a*T,x=1-T,w=x*x,C=w*x,y=c*c,M=y*c,A=1-c,o=A*A,E=o*A;for(l=0;l<H.length;l++)u=H[l],t=C*u[h][g]+3*(w*T*u[h][g+1]+x*a*u[h][g+2])+d*u[h][g+3],i=C*u[h+1][g]+3*(w*T*u[h+1][g+1]+x*a*u[h+1][g+2])+d*u[h+1][g+3],n=C*u[h+2][g]+3*(w*T*u[h+2][g+1]+x*a*u[h+2][g+2])+d*u[h+2][g+3],f=C*u[h+3][g]+3*(w*T*u[h+3][g+1]+x*a*u[h+3][g+2])+d*u[h+3][g+3],v[l]=E*t+3*(o*c*i+A*y*n)+M*f;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),i=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-i)),u,l,g,h,T,c;t*=3;var a=n*n,d=a*n,x=1-n,w=x*x,C=w*x,y=1-f;for(T=0;T<H.length;T++)c=H[T],u=y*c[i][t]+f*c[i+1][t],l=y*c[i][t+1]+f*c[i+1][t+1],g=y*c[i][t+2]+f*c[i+1][t+1],h=y*c[i][t+3]+f*c[i+1][t+1],v[T]=C*u+3*(w*n*l+x*a*g)+d*h;return v}:s?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),i=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-i)),u,l,g,h,T,c;i*=3;var a=f*f,d=a*f,x=1-f,w=x*x,C=w*x,y=1-n;for(T=0;T<H.length;T++)c=H[T],u=y*c[i][t]+n*c[i][t+1],l=y*c[i+1][t]+n*c[i+1][t+1],g=y*c[i+2][t]+n*c[i+2][t+1],h=y*c[i+3][t]+n*c[i+3][t+1],v[T]=C*u+3*(w*f*l+x*a*g)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),i=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,p-t)),f=Math.max(0,Math.min(1,r-i)),u,l,g,h,T=1-f,c=1-n;for(g=0;g<H.length;g++)h=H[g],u=c*h[i][t]+n*h[i][t+1],l=c*h[i+1][t]+n*h[i+1][t+1],v[g]=T*u+f*l;return v}}},38356:function(G,H,e){var m=e(3400),P=e(86411),s=e(93504),L=e(85720),S=e(22548);G.exports=function(p,r,t,i){function n(l,g){return m.coerce(p,r,L,l,g)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",S.defaultLine);if(m.coerceFont(n,"font",i.font),n("carpet"),s(p,r,i,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=P(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(G,H,e){G.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(G){G.exports=function(H,e){for(var m=H._fullData.length,P,s=0;s<m;s++){var L=H._fullData[s];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},53416:function(G){G.exports=function(e,m,P){if(e.length===0)return"";var s,L=[],S=P?3:1;for(s=0;s<e.length;s+=S)L.push(e[s]+","+m[s]),P&&s<e.length-S&&(L.push("C"),L.push([e[s+1]+","+m[s+1],e[s+2]+","+m[s+2]+" "].join(" ")));return L.join(P?"":"L")}},87072:function(G,H,e){var m=e(3400).isArrayOrTypedArray;G.exports=function(s,L,S){var v;for(m(s)?s.length>L.length&&(s=s.slice(0,L.length)):s=[],v=0;v<L.length;v++)s[v]=S(L[v]);return s}},15584:function(G){G.exports=function(e,m,P,s,L,S){var v=L[0]*e.dpdx(m),p=L[1]*e.dpdy(P),r=1,t=1;if(S){var i=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(S[0]*S[0]+S[1]*S[1]),f=(L[0]*S[0]+L[1]*S[1])/i/n;t=Math.max(0,f)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(s,m,P),offsetMultplier:t}}},164:function(G,H,e){var m=e(33428),P=e(43616),s=e(87072),L=e(53416),S=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,i=e(84284);G.exports=function(a,d,x,w){var C=a._context.staticPlot,y=d.xaxis,M=d.yaxis,A=a._fullLayout,o=A._clips;p.makeTraceGroups(w,x,"trace").each(function(E){var b=m.select(this),I=E[0],D=I.trace,N=D.aaxis,k=D.baxis,O=p.ensureSingle(b,"g","minorlayer"),F=p.ensureSingle(b,"g","majorlayer"),z=p.ensureSingle(b,"g","boundarylayer"),B=p.ensureSingle(b,"g","labellayer");b.style("opacity",D.opacity),f(y,M,F,N,"a",N._gridlines,!0),f(y,M,F,k,"b",k._gridlines,!0),f(y,M,O,N,"a",N._minorgridlines,!0),f(y,M,O,k,"b",k._minorgridlines,!0),f(y,M,z,N,"a-boundary",N._boundarylines,C),f(y,M,z,k,"b-boundary",k._boundarylines,C);var W=u(a,y,M,D,I,B,N._labels,"a-label"),J=u(a,y,M,D,I,B,k._labels,"b-label");l(a,B,D,I,y,M,W,J),n(D,I,o,y,M)})};function n(c,a,d,x,w){var C,y,M,A,o=d.select("#"+c._clipPathId);o.size()||(o=d.append("clipPath").classed("carpetclip",!0));var E=p.ensureSingle(o,"path","carpetboundary"),b=a.clipsegments,I=[];for(A=0;A<b.length;A++)C=b[A],y=s([],C.x,x.c2p),M=s([],C.y,w.c2p),I.push(L(y,M,C.bicubic));var D="M"+I.join("L")+"Z";o.attr("id",c._clipPathId),E.attr("d",D)}function f(c,a,d,x,w,C,y){var M="const-"+w+"-lines",A=d.selectAll("."+M).data(C);A.enter().append("path").classed(M,!0).style("vector-effect",y?"none":"non-scaling-stroke"),A.each(function(o){var E=o,b=E.x,I=E.y,D=s([],b,c.c2p),N=s([],I,a.c2p),k="M"+L(D,N,E.smoothing),O=m.select(this);O.attr("d",k).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",P.dashStyle(E.dash,E.width)).style("fill","none")}),A.exit().remove()}function u(c,a,d,x,w,C,y,M){var A=C.selectAll("text."+M).data(y);A.enter().append("text").classed(M,!0);var o=0,E={};return A.each(function(b,I){var D;if(b.axis.tickangle==="auto")D=S(x,a,d,b.xy,b.dxy);else{var N=(b.axis.tickangle+180)*Math.PI/180;D=S(x,a,d,b.xy,[Math.cos(N),Math.sin(N)])}I||(E={angle:D.angle,flip:D.flip});var k=(b.endAnchor?-1:1)*D.flip,O=m.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(P.font,b.font).text(b.text).call(v.convertToTspans,c),F=P.bBox(this);O.attr("transform",t(D.p[0],D.p[1])+r(D.angle)+t(b.axis.labelpadding*k,F.height*.3)),o=Math.max(o,F.width+b.axis.labelpadding)}),A.exit().remove(),E.maxExtent=o,E}function l(c,a,d,x,w,C,y,M){var A,o,E,b,I=p.aggNums(Math.min,null,d.a),D=p.aggNums(Math.max,null,d.a),N=p.aggNums(Math.min,null,d.b),k=p.aggNums(Math.max,null,d.b);A=.5*(I+D),o=N,E=d.ab2xy(A,o,!0),b=d.dxyda_rough(A,o),y.angle===void 0&&p.extendFlat(y,S(d,w,C,E,d.dxydb_rough(A,o))),T(c,a,d,x,E,b,d.aaxis,w,C,y,"a-title"),A=I,o=.5*(N+k),E=d.ab2xy(A,o,!0),b=d.dxydb_rough(A,o),M.angle===void 0&&p.extendFlat(M,S(d,w,C,E,d.dxyda_rough(A,o))),T(c,a,d,x,E,b,d.baxis,w,C,M,"b-title")}var g=i.LINE_SPACING,h=(1-i.MID_SHIFT)/g+1;function T(c,a,d,x,w,C,y,M,A,o,E){var b=[];y.title.text&&b.push(y.title.text);var I=a.selectAll("text."+E).data(b),D=o.maxExtent;I.enter().append("text").classed(E,!0),I.each(function(){var N=S(d,M,A,w,C);["start","both"].indexOf(y.showticklabels)===-1&&(D=0);var k=y.title.font.size;D+=k+y.title.offset;var O=o.angle+(o.flip<0?180:0),F=(O-N.angle+450)%360,z=F>90&&F<270,B=m.select(this);B.text(y.title.text).call(v.convertToTspans,c),z&&(D=(-v.lineCount(B)+h)*g*k-D),B.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,D)).attr("text-anchor","middle").call(P.font,y.title.font)}),I.exit().remove()}},81e3:function(G,H,e){var m=e(24588),P=e(14952).findBin,s=e(30180),L=e(29056),S=e(26435),v=e(24464);G.exports=function(r){var t=r._a,i=r._b,n=t.length,f=i.length,u=r.aaxis,l=r.baxis,g=t[0],h=t[n-1],T=i[0],c=i[f-1],a=t[t.length-1]-t[0],d=i[i.length-1]-i[0],x=a*m.RELATIVE_CULL_TOLERANCE,w=d*m.RELATIVE_CULL_TOLERANCE;g-=x,h+=x,T-=w,c+=w,r.isVisible=function(C,y){return C>g&&C<h&&y>T&&y<c},r.isOccluded=function(C,y){return C<g||C>h||y<T||y>c},r.setScale=function(){var C=r._x,y=r._y,M=s(r._xctrl,r._yctrl,C,y,u.smoothing,l.smoothing);r._xctrl=M[0],r._yctrl=M[1],r.evalxy=L([r._xctrl,r._yctrl],n,f,u.smoothing,l.smoothing),r.dxydi=S([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(C){var y=Math.max(0,Math.floor(C[0]),n-2),M=C[0]-y;return(1-M)*t[y]+M*t[y+1]},r.j2b=function(C){var y=Math.max(0,Math.floor(C[1]),n-2),M=C[1]-y;return(1-M)*i[y]+M*i[y+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var y=Math.max(0,Math.min(P(C,t),n-2)),M=t[y],A=t[y+1];return Math.max(0,Math.min(n-1,y+(C-M)/(A-M)))},r.b2j=function(C){var y=Math.max(0,Math.min(P(C,i),f-2)),M=i[y],A=i[y+1];return Math.max(0,Math.min(f-1,y+(C-M)/(A-M)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,y){return r.evalxy([],C,y)},r.ab2xy=function(C,y,M){if(!M&&(C<t[0]||C>t[n-1]|y<i[0]||y>i[f-1]))return[!1,!1];var A=r.a2i(C),o=r.b2j(y),E=r.evalxy([],A,o);if(M){var b=0,I=0,D=[],N,k,O,F;C<t[0]?(N=0,k=0,b=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(N=n-2,k=1,b=(C-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(A))),k=A-N),y<i[0]?(O=0,F=0,I=(y-i[0])/(i[1]-i[0])):y>i[f-1]?(O=f-2,F=1,I=(y-i[f-1])/(i[f-1]-i[f-2])):(O=Math.max(0,Math.min(f-2,Math.floor(o))),F=o-O),b&&(r.dxydi(D,N,O,k,F),E[0]+=D[0]*b,E[1]+=D[1]*b),I&&(r.dxydj(D,N,O,k,F),E[0]+=D[0]*I,E[1]+=D[1]*I)}return E},r.c2p=function(C,y,M){return[y.c2p(C[0]),M.c2p(C[1])]},r.p2x=function(C,y,M){return[y.p2c(C[0]),M.p2c(C[1])]},r.dadi=function(C){var y=Math.max(0,Math.min(t.length-2,C));return t[y+1]-t[y]},r.dbdj=function(C){var y=Math.max(0,Math.min(i.length-2,C));return i[y+1]-i[y]},r.dxyda=function(C,y,M,A){var o=r.dxydi(null,C,y,M,A),E=r.dadi(C,M);return[o[0]/E,o[1]/E]},r.dxydb=function(C,y,M,A){var o=r.dxydj(null,C,y,M,A),E=r.dbdj(y,A);return[o[0]/E,o[1]/E]},r.dxyda_rough=function(C,y,M){var A=a*(M||.1),o=r.ab2xy(C+A,y,!0),E=r.ab2xy(C-A,y,!0);return[(o[0]-E[0])*.5/A,(o[1]-E[1])*.5/A]},r.dxydb_rough=function(C,y,M){var A=d*(M||.1),o=r.ab2xy(C,y+A,!0),E=r.ab2xy(C,y-A,!0);return[(o[0]-E[0])*.5/A,(o[1]-E[1])*.5/A]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(G,H,e){var m=e(3400);G.exports=function(s,L,S){var v,p,r,t=[],i=[],n=s[0].length,f=s.length;function u(J,re){var ne=0,le,$=0;return J>0&&(le=s[re][J-1])!==void 0&&($++,ne+=le),J<n-1&&(le=s[re][J+1])!==void 0&&($++,ne+=le),re>0&&(le=s[re-1][J])!==void 0&&($++,ne+=le),re<f-1&&(le=s[re+1][J])!==void 0&&($++,ne+=le),ne/Math.max(1,$)}var l=0;for(v=0;v<n;v++)for(p=0;p<f;p++)s[p][v]===void 0&&(t.push(v),i.push(p),s[p][v]=u(v,p)),l=Math.max(l,Math.abs(s[p][v]));if(!t.length)return s;var g,h,T,c,a,d,x,w,C,y,M,A=1e-5,o=0,E=100,b=0,I=t.length;do{for(o=0,r=0;r<I;r++){v=t[r],p=i[r];var D=0,N=0,k,O,F,z,B,W;v===0?(B=Math.min(n-1,2),F=L[B],z=L[1],k=s[p][B],O=s[p][1],N+=O+(O-k)*(L[0]-z)/(z-F),D++):v===n-1&&(B=Math.max(0,n-3),F=L[B],z=L[n-2],k=s[p][B],O=s[p][n-2],N+=O+(O-k)*(L[n-1]-z)/(z-F),D++),(v===0||v===n-1)&&p>0&&p<f-1&&(g=S[p+1]-S[p],h=S[p]-S[p-1],N+=(h*s[p+1][v]+g*s[p-1][v])/(h+g),D++),p===0?(W=Math.min(f-1,2),F=S[W],z=S[1],k=s[W][v],O=s[1][v],N+=O+(O-k)*(S[0]-z)/(z-F),D++):p===f-1&&(W=Math.max(0,f-3),F=S[W],z=S[f-2],k=s[W][v],O=s[f-2][v],N+=O+(O-k)*(S[f-1]-z)/(z-F),D++),(p===0||p===f-1)&&v>0&&v<n-1&&(g=L[v+1]-L[v],h=L[v]-L[v-1],N+=(h*s[p][v+1]+g*s[p][v-1])/(h+g),D++),D?N/=D:(T=L[v+1]-L[v],c=L[v]-L[v-1],a=S[p+1]-S[p],d=S[p]-S[p-1],x=T*c*(T+c),w=a*d*(a+d),N=(x*(d*s[p+1][v]+a*s[p-1][v])+w*(c*s[p][v+1]+T*s[p][v-1]))/(w*(c+T)+x*(d+a))),C=N-s[p][v],y=C/l,o+=y*y,M=D?0:.85,s[p][v]+=C*(1+M)}o=Math.sqrt(o)}while(b++<E&&o>A);return m.log("Smoother converged to",o,"after",b,"iterations"),s}},86411:function(G,H,e){var m=e(3400).isArray1D;G.exports=function(s,L,S){var v=S("x"),p=v&&v.length,r=S("y"),t=r&&r.length;if(!p&&!t)return!1;if(L._cheater=!v,(!p||m(v))&&(!t||m(r))){var i=p?v.length:1/0;t&&(i=Math.min(i,r.length)),L.a&&L.a.length&&(i=Math.min(i,L.a.length)),L.b&&L.b.length&&(i=Math.min(i,L.b.length)),L._length=i}else L._length=null;return!0}},83372:function(G,H,e){var m=e(21776).Ks,P=e(6096),s=e(49084),L=e(45464),S=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:S}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:m(),showlegend:v({},L.showlegend,{dflt:!1})},s("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(47128),L=e(20148),S=e(4500);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var i=t._length,n=new Array(i),f;t.geojson?f=function(T){return v(T)||m(T)}:f=v;for(var u=0;u<i;u++){var l=n[u]={},g=t.locations[u],h=t.z[u];f(g)&&m(h)?(l.loc=g,l.z=h):(l.loc=null,l.z=P),l.index=u}return L(n,t),s(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),S(n,t),n}},30972:function(G,H,e){var m=e(3400),P=e(27260),s=e(83372);G.exports=function(S,v,p,r){function t(h,T){return m.coerce(S,v,s,h,T)}var i=t("locations"),n=t("z");if(!(i&&i.length&&m.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(i.length,n.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||m.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(S,v,r,t,{prefix:"",cLetter:"z"}),m.coerceSelectionMarkerOpacity(v,t)}},52428:function(G){G.exports=function(e,m,P,s,L){e.location=m.location,e.z=m.z;var S=s[L];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e.ct=S.ct,e}},69224:function(G,H,e){var m=e(54460),P=e(83372),s=e(3400).fillText;G.exports=function(v,p,r){var t=v.cd,i=t[0].trace,n=v.subplot,f,u,l,g,h=[p,r],T=[p+360,r];for(u=0;u<t.length;u++)if(f=t[u],g=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(h)&&(g=!g),f._polygons[l].contains(T)&&(g=!g);if(g)break}if(!(!g||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=m.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,L(v,i,f),[v]};function L(S,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),i=r==="all"?P.hoverinfo.flags:r.split("+"),n=i.indexOf("name")!==-1,f=i.indexOf("location")!==-1,u=i.indexOf("z")!==-1,l=i.indexOf("text")!==-1,g=!n&&f,h=[];g?S.nameOverride=t:(n&&(S.nameOverride=v.name),f&&h.push(t)),u&&h.push(S.zLabel),l&&s(p,v,h),S.extraText=h.join("<br>")}}},54272:function(G,H,e){G.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(G,H,e){var m=e(33428),P=e(3400),s=e(27144),L=e(59972).getTopojsonFeatures,S=e(19280).findExtremes,v=e(7947).style;function p(t,i,n){var f=i.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(f,n,"trace choropleth").each(function(u){var l=m.select(this),g=l.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),v(t,u)})}function r(t,i){for(var n=t[0].trace,f=i[n.geo],u=f._subplot,l=n.locationmode,g=n._length,h=l==="geojson-id"?s.extractTraceFeature(t):L(n,u.topojson),T=[],c=[],a=0;a<g;a++){var d=t[a],x=l==="geojson-id"?d.fOut:s.locationToFeature(l,d.loc,h);if(x){d.geojson=x,d.ct=x.properties.ct,d._polygons=s.feature2polygons(x);var w=s.computeBbox(x);T.push(w[0],w[2]),c.push(w[1],w[3])}else d.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var C=s.computeBbox(s.getTraceGeojson(n));T=[C[0],C[2]],c=[C[1],C[3]]}var y={padded:!0};n._extremes.lon=S(f.lonaxis._ax,T,y),n._extremes.lat=S(f.lataxis._ax,c,y)}G.exports={calcGeoJSON:r,plot:p}},17328:function(G){G.exports=function(e,m){var P=e.cd,s=e.xaxis,L=e.yaxis,S=[],v,p,r,t,i;if(m===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=s.c2p(r),i=L.c2p(r),m.contains([t,i],null,v,e)?(S.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return S}},7947:function(G,H,e){var m=e(33428),P=e(76308),s=e(43616),L=e(8932);function S(r,t){t&&v(r,t)}function v(r,t){var i=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),u=i.marker||{},l=u.line||{},g=L.makeColorScaleFuncFromTrace(i);f.each(function(h){m.select(this).attr("fill",g(h.z)).call(P.stroke,h.mlc||l.color).call(s.dashLine,"",h.mlw||l.width||0).style("opacity",u.opacity)}),s.selectedPointStyle(f,i)}function p(r,t){var i=t[0].node3,n=t[0].trace;n.selectedpoints?s.selectedPointStyle(i.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:S,styleOnSelect:p}},45608:function(G,H,e){var m=e(83372),P=e(49084),s=e(21776).Ks,L=e(45464),S=e(92880).extendFlat;G.exports=S({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:S({},m.featureidkey,{}),below:{valType:"string",editType:"plot"},text:m.text,hovertext:m.hovertext,marker:{line:{color:S({},m.marker.line.color,{editType:"plot"}),width:S({},m.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:S({},m.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:S({},m.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S({},m.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:m.hoverinfo,hovertemplate:s({},{keys:["properties"]}),showlegend:S({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(G,H,e){var m=e(38248),P=e(3400),s=e(8932),L=e(43616),S=e(44808).makeBlank,v=e(27144);function p(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=i._opts={fill:f,line:u,geojson:S()};if(!n)return l;var g=v.extractTraceFeature(t);if(!g)return l;var h=s.makeColorScaleFuncFromTrace(i),T=i.marker,c=T.line||{},a;P.isArrayOrTypedArray(T.opacity)&&(a=function(o){var E=o.mo;return m(E)?+P.constrain(E,0,1):0});var d;P.isArrayOrTypedArray(c.color)&&(d=function(o){return o.mlc});var x;P.isArrayOrTypedArray(c.width)&&(x=function(o){return o.mlw});for(var w=0;w<t.length;w++){var C=t[w],y=C.fOut;if(y){var M=y.properties;M.fc=h(C.z),a&&(M.mo=a(C)),d&&(M.mlc=d(C)),x&&(M.mlw=x(C)),C.ct=M.ct,C._polygons=v.feature2polygons(y)}}var A=a?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),P.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":A}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:g},r(t),l}function r(t){var i=t[0].trace,n=i._opts,f;if(i.selectedpoints){for(var u=L.makeSelectedPointStyleFns(i),l=0;l<t.length;l++){var g=t[l];g.fOut&&(g.fOut.properties.mo2=u.selectedOpacityFn(g))}f={type:"identity",property:"mo2"}}else f=P.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":f}),P.extendFlat(n.line.paint,{"line-opacity":f}),n}G.exports={convert:p,convertOnSelect:r}},9352:function(G,H,e){var m=e(3400),P=e(27260),s=e(45608);G.exports=function(S,v,p,r){function t(l,g){return m.coerce(S,v,s,l,g)}var i=t("locations"),n=t("z"),f=t("geojson");if(!m.isArrayOrTypedArray(i)||!i.length||!m.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||m.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),P(S,v,r,t,{prefix:"",cLetter:"z"}),m.coerceSelectionMarkerOpacity(v,t)}},85404:function(G,H,e){G.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(m,P){if(P){var s=P[0].trace;s._glTrace.updateOnSelect(P)}},getBelow:function(m,P){for(var s=P.getMapLayers(),L=s.length-2;L>=0;L--){var S=s[L].id;if(typeof S=="string"&&S.indexOf("water")===0){for(var v=L+1;v<s.length;v++)if(S=s[v].id,typeof S=="string"&&S.indexOf("plotly-")===-1)return S}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(G,H,e){var m=e(13504).convert,P=e(13504).convertOnSelect,s=e(47552).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",s+p+"-fill"],["line",s+p+"-line"]],this.below=null}var S=L.prototype;S.update=function(v){this._update(m(v)),v[0].trace._glTrace=this},S.updateOnSelect=function(v){this._update(P(v))},S._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var i=0;i<r.length;i++){var n=r[i],f=n[0],u=n[1],l=v[f];p.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",l.paint)}},S._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var f=t[n],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:i,layout:l.layout,paint:l.paint},p)}},S._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},S.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,i=new L(p,t.uid),n=i.sourceId,f=m(r),u=i.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:f.geojson}),i._addLayers(f,u),r[0].trace._glTrace=i,i}},86040:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(p,m("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},83344:function(G,H,e){var m=e(47128);G.exports=function(s,L){for(var S=L.u,v=L.v,p=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,S.length,v.length,p.length),t=-1/0,i=1/0,n=0;n<r;n++){var f=S[n],u=v[n],l=p[n],g=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,g),i=Math.min(i,g)}L._len=r,L._normMax=t,m(s,L,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(G,H,e){var m=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,s=e(3400).simpleMap,L=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(g,h){this.scene=g,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var h=g.index=g.data.index,T=this.data.x[h],c=this.data.y[h],a=this.data.z[h],d=this.data.u[h],x=this.data.v[h],w=this.data.w[h];g.traceCoordinate=[T,c,a,d,x,w,Math.sqrt(d*d+x*x+w*w)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?g.textLabel=C[h]:C&&(g.textLabel=C),!0}};var i={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(g,h){var T=g.fullSceneLayout,c=g.dataScale,a={};function d(M,A){var o=T[A],E=c[i[A]];return s(M,function(b){return o.d2l(b)*E})}a.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),a.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var x=S(h);a.colormap=L(h),a.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],a.coneOffset=n[h.anchor];var w=h.sizemode;w==="scaled"?a.coneSize=h.sizeref||.5:w==="absolute"?a.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:w==="raw"&&(a.coneSize=h.sizeref),a.coneSizemode=w;var C=m(a),y=h.lightposition;return C.lightPosition=[y.x,y.y,y.z],C.ambient=h.lighting.ambient,C.diffuse=h.lighting.diffuse,C.specular=h.lighting.specular,C.roughness=h.lighting.roughness,C.fresnel=h.lighting.fresnel,C.opacity=h.opacity,h._pad=f[h.anchor]*C.vectorScale*C.coneScale*h._normMax,C}t.update=function(g){this.data=g;var h=u(this.scene,g);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(g,h){var T=g.glplot.gl,c=u(g,h),a=P(T,c),d=new r(g,h.uid);return d.mesh=a,d.data=h,a._trace=d,g.glplot.add(a),d}G.exports=l},86096:function(G,H,e){var m=e(3400),P=e(27260),s=e(86040);G.exports=function(S,v,p,r){function t(T,c){return m.coerce(S,v,s,T,c)}var i=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),g=t("z");if(!i||!i.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(G,H,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(m,P){return m.norm=P.traceCoordinate[6],m},meta:{}}},67104:function(G,H,e){var m=e(83328),P=e(52904),s=e(29736),L=s.axisHoverFormat,S=s.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,i=e(69104),n=i.COMPARISON_OPS2,f=i.INTERVAL_OPS,u=P.line;G.exports=t({z:m.z,x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,text:m.text,hovertext:m.hovertext,transpose:m.transpose,xtype:m.xtype,ytype:m.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:m.hovertemplate,texttemplate:t({},m.texttemplate,{}),textfont:t({},m.textfont,{}),hoverongaps:m.hoverongaps,connectgaps:t({},m.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:S("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:P.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(G,H,e){var m=e(8932),P=e(19512),s=e(54444),L=e(46960);G.exports=function(v,p){var r=P(v,p),t=r[0].z;s(p,t);var i=p.contours,n=m.extractOpts(p),f;if(i.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=i.start,l=L(i),g=i.size||1,h=Math.floor((l-u)/g)+1;isFinite(g)||(g=1,h=1);var T=u-g/2,c=T+h*g;f=[T,c]}else f=t;return m.calc(v,p,{vals:f,cLetter:"z"}),r}},56008:function(G){G.exports=function(H,e){var m=H[0],P=m.z,s;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(s=0;s<H.length;s++){var S=H[s];S.prefixBoundary=!S.edgepaths.length&&(L>S.level||S.starts.length&&L===S.level)}break;case"constraint":if(m.prefixBoundary=!1,m.edgepaths.length)return;var v=m.x.length,p=m.y.length,r=-1/0,t=1/0;for(s=0;s<p;s++)t=Math.min(t,P[s][0]),t=Math.min(t,P[s][v-1]),r=Math.max(r,P[s][0]),r=Math.max(r,P[s][v-1]);for(s=1;s<v-1;s++)t=Math.min(t,P[0][s]),t=Math.min(t,P[p-1][s]),r=Math.max(r,P[0][s]),r=Math.max(r,P[p-1][s]);var i=e.value,n,f;switch(e._operation){case">":i>r&&(m.prefixBoundary=!0);break;case"<":(i<t||m.starts.length&&i===t)&&(m.prefixBoundary=!0);break;case"[]":n=Math.min(i[0],i[1]),f=Math.max(i[0],i[1]),(f<t||n>r||m.starts.length&&f===t)&&(m.prefixBoundary=!0);break;case"][":n=Math.min(i[0],i[1]),f=Math.max(i[0],i[1]),n<t&&f>r&&(m.prefixBoundary=!0);break}break}}},55296:function(G,H,e){var m=e(8932),P=e(41076),s=e(46960);function L(S,v,p){var r=v.contours,t=v.line,i=r.size||1,n=r.coloring,f=P(v,{isColorbar:!0});if(n==="heatmap"){var u=m.extractOpts(v);p._fillgradient=u.reversescale?m.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=f);p._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:s(r),size:i}}G.exports={min:"zmin",max:"zmax",calc:L}},93252:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(G,H,e){var m=e(38248),P=e(17428),s=e(76308),L=s.addOpacity,S=s.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(f,u,l,g,h,T){var c=u.contours,a,d,x,w=l("contours.operation");if(c._operation=r[w],i(l,c),w==="="?a=c.showlines=!0:(a=l("contours.showlines"),x=l("fillcolor",L((f.line||{}).color||h,.5))),a){var C=x&&S(x)?L(u.fillcolor,1):h;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,g,d,T)};function i(n,f){var u;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),p(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:m(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(n("contours.value",0),m(f.value)||(p(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(G,H,e){var m=e(69104),P=e(38248);G.exports={"[]":L("[]"),"][":L("]["),">":S(">"),"<":S("<"),"=":S("=")};function s(v,p){var r=Array.isArray(p),t;function i(n){return P(n)?+n:null}return m.COMPARISON_OPS2.indexOf(v)!==-1?t=i(r?p[0]:p):m.INTERVAL_OPS.indexOf(v)!==-1?t=r?[i(p[0]),i(p[1])]:[i(p),i(p)]:m.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(i):[i(p)]),t}function L(v){return function(p){p=s(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function S(v){return function(p){return p=s(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(G){G.exports=function(e,m,P,s){var L=s("contours.start"),S=s("contours.end"),v=L===!1||S===!1,p=P("contours.size"),r;v?r=m.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return s;case">":for(s.length!==1&&m.warn("Contour data invalid for the specified inequality operation."),v=s[0],S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);return s;case"][":var i=r;r=t,t=i;case"[]":for(s.length!==2&&m.warn("Contour data invalid for the specified inequality range operation."),v=P(s[0]),p=P(s[1]),S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(s){return m.extendFlat({},s,{edgepaths:m.extendDeep([],s.edgepaths),paths:m.extendDeep([],s.paths),starts:m.extendDeep([],s.starts)})}},57004:function(G,H,e){var m=e(3400),P=e(51264),s=e(31147),L=e(95536),S=e(84952),v=e(97680),p=e(39096),r=e(67104);G.exports=function(i,n,f,u){function l(c,a){return m.coerce(i,n,r,c,a)}function g(c){return m.coerce2(i,n,r,c)}var h=P(i,n,l,u);if(!h){n.visible=!1;return}s(i,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",m.isArray1D(n.z)),T?L(i,n,l,u,f):(S(i,n,l,g),v(i,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&p(l,u),l("zorder")}},61512:function(G,H,e){var m=e(3400),P=e(3212),s=e(46960);G.exports=function(S,v,p){for(var r=S.type==="constraint"?P[S._operation](S.value):S,t=r.size,i=[],n=s(r),f=p.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(i.push(m.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),i.length>1e3){m.warn("Too many contours, clipping at 1000",S);break}return i}},46960:function(G){G.exports=function(e){return e.end+e.size/1e6}},88748:function(G,H,e){var m=e(3400),P=e(93252);G.exports=function(t,i,n){var f,u,l,g,h;for(i=i||.01,n=n||.01,l=0;l<t.length;l++){for(g=t[l],h=0;h<g.starts.length;h++)u=g.starts[h],S(g,u,"edge",i,n);for(f=0;Object.keys(g.crossings).length&&f<1e4;)f++,u=Object.keys(g.crossings)[0].split(",").map(Number),S(g,u,void 0,i,n);f===1e4&&m.log("Infinite loop in contour?")}};function s(r,t,i,n){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<n}function L(r,t){var i=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(i*i+n*n)}function S(r,t,i,n,f){var u=t.join(","),l=r.crossings[u],g=v(l,i,t),h=[p(r,t,[-g[0],-g[1]])],T=r.z.length,c=r.z[0].length,a=t.slice(),d=g.slice(),x;for(x=0;x<1e4;x++){if(l>20?(l=P.CHOOSESADDLE[l][(g[0]||g[1])<0?0:1],r.crossings[u]=P.SADDLEREMAINDER[l]):delete r.crossings[u],g=P.NEWDELTA[l],!g){m.log("Found bad marching index:",l,t,r.level);break}h.push(p(r,t,g)),t[0]+=g[0],t[1]+=g[1],u=t.join(","),s(h[h.length-1],h[h.length-2],n,f)&&h.pop();var w=g[0]&&(t[0]<0||t[0]>c-2)||g[1]&&(t[1]<0||t[1]>T-2),C=t[0]===a[0]&&t[1]===a[1]&&g[0]===d[0]&&g[1]===d[1];if(C||i&&w)break;l=r.crossings[u]}x===1e4&&m.log("Infinite loop in contour?");var y=s(h[0],h[h.length-1],n,f),M=0,A=.2*r.smoothing,o=[],E=0,b,I,D,N,k,O,F,z,B,W,J;for(x=1;x<h.length;x++)F=L(h[x],h[x-1]),M+=F,o.push(F);var re=M/o.length*A;function ne(K){return h[K%h.length]}for(x=h.length-2;x>=E;x--)if(b=o[x],b<re){for(D=0,I=x-1;I>=E&&b+o[I]<re;I--)b+=o[I];if(y&&x===h.length-2)for(D=0;D<I&&b+o[D]<re;D++)b+=o[D];k=x-I+D+1,O=Math.floor((x+I+D+2)/2),!y&&x===h.length-2?N=h[h.length-1]:!y&&I===-1?N=h[0]:k%2?N=ne(O):N=[(ne(O)[0]+ne(O+1)[0])/2,(ne(O)[1]+ne(O+1)[1])/2],h.splice(I+1,x-I+1,N),x=I+1,D&&(E=D),y&&(x===h.length-2?h[D]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{i||m.log("Unclosed interior contour?",r.level,a.join(","),h.join("L"));var le=!1;for(z=0;z<r.edgepaths.length;z++)if(W=r.edgepaths[z],!le&&s(W[0],h[h.length-1],n,f)){h.pop(),le=!0;var $=!1;for(B=0;B<r.edgepaths.length;B++)if(J=r.edgepaths[B],s(J[J.length-1],h[0],n,f)){$=!0,h.shift(),r.edgepaths.splice(z,1),B===z?r.paths.push(h.concat(J)):(B>z&&B--,r.edgepaths[B]=J.concat(h,W));break}$||(r.edgepaths[z]=h.concat(W))}for(z=0;z<r.edgepaths.length&&!le;z++)W=r.edgepaths[z],s(W[W.length-1],h[0],n,f)&&(h.shift(),r.edgepaths[z]=W.concat(h),le=!0);le||r.edgepaths.push(h)}}function v(r,t,i){var n=0,f=0;return r>20&&t?r===208||r===1114?n=i[0]===0?1:-1:f=i[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?f=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function p(r,t,i){var n=t[0]+Math.max(i[0],0),f=t[1]+Math.max(i[1],0),u=r.z[f][n],l=r.xaxis,g=r.yaxis;if(i[1]){var h=(r.level-u)/(r.z[f][n+1]-u),T=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(T),!0),g.c2p(r.y[f],!0),n+h,f]}else{var c=(r.level-u)/(r.z[f+1][n]-u),a=(c!==1?(1-c)*g.c2l(r.y[f]):0)+(c!==0?c*g.c2l(r.y[f+1]):0);return[l.c2p(r.x[n],!0),g.c2p(g.l2c(a),!0),n,f+c]}}},38200:function(G,H,e){var m=e(76308),P=e(55512);G.exports=function(L,S,v,p,r){r||(r={}),r.isContour=!0;var t=P(L,S,v,p,r);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&m.opacity(n.fillcolor)?i.color=m.addOpacity(n.fillcolor,1):n.contours.showlines&&m.opacity(n.line.color)&&(i.color=m.addOpacity(n.line.color,1)))}),t}},66240:function(G,H,e){G.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(G,H,e){var m=e(3400);G.exports=function(s,L,S,v){v||(v={});var p=s("contours.showlabels");if(p){var r=L.font;m.coerceFont(s,"contours.labelfont",r,{overrideDflt:{color:S}}),s("contours.labelformat")}v.hasHover!==!1&&s("zhoverformat")}},41076:function(G,H,e){var m=e(33428),P=e(8932),s=e(46960);G.exports=function(S){var v=S.contours,p=v.start,r=s(v),t=v.size||1,i=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,f=P.extractOpts(S);isFinite(t)||(t=1,i=1);var u=f.reversescale?P.flipScale(f.colorscale):f.colorscale,l=u.length,g=new Array(l),h=new Array(l),T,c,a=f.min,d=f.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)T=u[c],g[c]=T[0]*(d-a)+a,h[c]=T[1];var x=m.extent([a,d,v.start,v.start+t*(i-1)]),w=x[a<d?0:1],C=x[a<d?1:0];w!==a&&(g.splice(0,0,w),h.splice(0,0,h[0])),C!==d&&(g.push(C),h.push(h[h.length-1]))}else{var y=S._input&&typeof S._input.zmin=="number"&&typeof S._input.zmax=="number";for(y&&(p<=a||r>=d)&&(p<=a&&(p=a),r>=d&&(r=d),i=Math.floor((r-p)/t)+1,n=0),c=0;c<l;c++)T=u[c],g[c]=(T[0]*(i+n-1)-n/2)*t+p,h[c]=T[1];(y||S.autocontour)&&(g[0]>a&&(g.unshift(a),h.unshift(h[0])),g[g.length-1]<d&&(g.push(d),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:g,range:h},{noNumericCheck:!0})}},72424:function(G,H,e){var m=e(93252);G.exports=function(L){var S=L[0].z,v=S.length,p=S[0].length,r=v===2||p===2,t,i,n,f,u,l,g,h,T;for(i=0;i<v-1;i++)for(f=[],i===0&&(f=f.concat(m.BOTTOMSTART)),i===v-2&&(f=f.concat(m.TOPSTART)),t=0;t<p-1;t++)for(n=f.slice(),t===0&&(n=n.concat(m.LEFTSTART)),t===p-2&&(n=n.concat(m.RIGHTSTART)),u=t+","+i,l=[[S[i][t],S[i][t+1]],[S[i+1][t],S[i+1][t+1]]],T=0;T<L.length;T++)h=L[T],g=P(h.level,l),g&&(h.crossings[u]=g,n.indexOf(g)!==-1&&(h.starts.push([t,i]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&h.starts.push([t,i])))};function P(s,L){var S=(L[0][0]>s?0:1)+(L[0][1]>s?0:2)+(L[1][1]>s?0:4)+(L[1][0]>s?0:8);if(S===5||S===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return s>v?S===5?713:1114:S===5?104:208}return S===15?0:S}},23676:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(8932),S=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),i=e(88748),n=e(61512),f=e(82172),u=e(56008),l=e(93252),g=l.LABELOPTIMIZER;H.plot=function(y,M,A,o){var E=M.xaxis,b=M.yaxis;P.makeTraceGroups(o,A,"contour").each(function(I){var D=m.select(this),N=I[0],k=N.trace,O=N.x,F=N.y,z=k.contours,B=n(z,M,N),W=P.ensureSingle(D,"g","heatmapcoloring"),J=[];z.coloring==="heatmap"&&(J=[I]),r(y,M,J,W),t(B),i(B);var re=E.c2p(O[0],!0),ne=E.c2p(O[O.length-1],!0),le=b.c2p(F[0],!0),$=b.c2p(F[F.length-1],!0),K=[[re,$],[ne,$],[ne,le],[re,le]],ie=B;z.type==="constraint"&&(ie=f(B,z._operation)),h(D,K,z),T(D,ie,K,z),a(D,B,y,N,z),x(D,M,y,N,K)})};function h(C,y,M){var A=P.ensureSingle(C,"g","contourbg"),o=A.selectAll("path").data(M.coloring==="fill"?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function T(C,y,M,A){var o=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",E="M"+M.join("L")+"Z";o&&u(y,A);var b=P.ensureSingle(C,"g","contourfill"),I=b.selectAll("path").data(o?y:[]);I.enter().append("path"),I.exit().remove(),I.each(function(D){var N=(D.prefixBoundary?E:"")+c(D,M);N?m.select(this).attr("d",N).style("stroke","none"):m.select(this).remove()})}function c(C,y){var M="",A=0,o=C.edgepaths.map(function(re,ne){return ne}),E=!0,b,I,D,N,k,O;function F(re){return Math.abs(re[1]-y[0][1])<.01}function z(re){return Math.abs(re[1]-y[2][1])<.01}function B(re){return Math.abs(re[0]-y[0][0])<.01}function W(re){return Math.abs(re[0]-y[2][0])<.01}for(;o.length;){for(O=s.smoothopen(C.edgepaths[A],C.smoothing),M+=E?O:O.replace(/^M/,"L"),o.splice(o.indexOf(A),1),b=C.edgepaths[A][C.edgepaths[A].length-1],N=-1,D=0;D<4;D++){if(!b){P.log("Missing end?",A,C);break}for(F(b)&&!W(b)?I=y[1]:B(b)?I=y[0]:z(b)?I=y[3]:W(b)&&(I=y[2]),k=0;k<C.edgepaths.length;k++){var J=C.edgepaths[k][0];Math.abs(b[0]-I[0])<.01?Math.abs(b[0]-J[0])<.01&&(J[1]-b[1])*(I[1]-J[1])>=0&&(I=J,N=k):Math.abs(b[1]-I[1])<.01?Math.abs(b[1]-J[1])<.01&&(J[0]-b[0])*(I[0]-J[0])>=0&&(I=J,N=k):P.log("endpt to newendpt is not vert. or horz.",b,I,J)}if(b=I,N>=0)break;M+="L"+I}if(N===C.edgepaths.length){P.log("unclosed perimeter path");break}A=N,E=o.indexOf(A)===-1,E&&(A=o[0],M+="Z")}for(A=0;A<C.paths.length;A++)M+=s.smoothclosed(C.paths[A],C.smoothing);return M}function a(C,y,M,A,o){var E=M._context.staticPlot,b=P.ensureSingle(C,"g","contourlines"),I=o.showlines!==!1,D=o.showlabels,N=I&&D,k=H.createLines(b,I||D,y,E),O=H.createLineClip(b,N,M,A.trace.uid),F=C.selectAll("g.contourlabels").data(D?[0]:[]);if(F.exit().remove(),F.enter().append("g").classed("contourlabels",!0),D){var z=[],B=[];P.clearLocationCache();var W=H.labelFormatter(M,A),J=s.tester.append("text").attr("data-notex",1).call(s.font,o.labelfont),re=y[0].xaxis,ne=y[0].yaxis,le=re._length,$=ne._length,K=re.range,ie=ne.range,Y=P.aggNums(Math.min,null,A.x),Q=P.aggNums(Math.max,null,A.x),oe=P.aggNums(Math.min,null,A.y),X=P.aggNums(Math.max,null,A.y),j=Math.max(re.c2p(Y,!0),0),se=Math.min(re.c2p(Q,!0),le),te=Math.max(ne.c2p(X,!0),0),fe=Math.min(ne.c2p(oe,!0),$),ge={};K[0]<K[1]?(ge.left=j,ge.right=se):(ge.left=se,ge.right=j),ie[0]<ie[1]?(ge.top=te,ge.bottom=fe):(ge.top=fe,ge.bottom=te),ge.middle=(ge.top+ge.bottom)/2,ge.center=(ge.left+ge.right)/2,z.push([[ge.left,ge.top],[ge.right,ge.top],[ge.right,ge.bottom],[ge.left,ge.bottom]]);var be=Math.sqrt(le*le+$*$),xe=l.LABELDISTANCE*be/Math.max(1,y.length/l.LABELINCREASE);k.each(function(_e){var De=H.calcTextOpts(_e.level,W,J,M);m.select(this).selectAll("path").each(function(){var Fe=this,Te=P.getVisibleSegment(Fe,ge,De.height/2);if(Te&&!(Te.len<(De.width+De.height)*l.LABELMIN))for(var Re=Math.min(Math.ceil(Te.len/xe),l.LABELMAX),Se=0;Se<Re;Se++){var Ie=H.findBestTextLocation(Fe,Te,De,B,ge);if(!Ie)break;H.addLabelData(Ie,De,B,z)}})}),J.remove(),H.drawLabels(F,B,M,O,N?z:null)}D&&!I&&k.remove()}H.createLines=function(C,y,M,A){var o=M[0].smoothing,E=C.selectAll("g.contourlevel").data(y?M:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),y){var b=E.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(D){return s.smoothopen(D,o)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var I=E.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});I.exit().remove(),I.enter().append("path").classed("closedline",!0),I.attr("d",function(D){return s.smoothclosed(D,o)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return E},H.createLineClip=function(C,y,M,A){var o=M._fullLayout._clips,E=y?"clipline"+A:null,b=o.selectAll("#"+E).data(y?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),s.setClipUrl(C,E,M),b},H.labelFormatter=function(C,y){var M=C._fullLayout,A=y.trace,o=A.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)E.tickformat=o.labelformat,p(E,M);else{var b=L.extractOpts(A);if(b&&b.colorbar&&b.colorbar._axis)E=b.colorbar._axis;else{if(o.type==="constraint"){var I=o.value;P.isArrayOrTypedArray(I)?E.range=[I[0],I[I.length-1]]:E.range=[I,I]}else E.range=[o.start,o.end],E.nticks=(o.end-o.start)/o.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),p(E,M),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(D){return v.tickText(E,D).text}},H.calcTextOpts=function(C,y,M,A){var o=y(C);M.text(o).call(S.convertToTspans,A);var E=M.node(),b=s.bBox(E,!0);return{text:o,width:b.width,height:b.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(b.top+b.bottom)/2}},H.findBestTextLocation=function(C,y,M,A,o){var E=M.width,b,I,D,N,k;y.isClosed?(I=y.len/g.INITIALSEARCHPOINTS,b=y.min+I/2,D=y.max):(I=(y.len-E)/(g.INITIALSEARCHPOINTS+1),b=y.min+I+E/2,D=y.max-(I+E)/2);for(var O=1/0,F=0;F<g.ITERATIONS;F++){for(var z=b;z<D;z+=I){var B=P.getTextLocation(C,y.total,z,E),W=d(B,M,A,o);W<O&&(O=W,k=B,N=z)}if(O>g.MAXCOST*2)break;F&&(I/=2),b=N-I/2,D=b+I*1.5}if(O<=g.MAXCOST)return k};function d(C,y,M,A){var o=y.width/2,E=y.height/2,b=C.x,I=C.y,D=C.theta,N=Math.cos(D)*o,k=Math.sin(D)*o,O=(b>A.center?A.right-b:b-A.left)/(N+Math.abs(Math.sin(D)*E)),F=(I>A.middle?A.bottom-I:I-A.top)/(Math.abs(k)+Math.cos(D)*E);if(O<1||F<1)return 1/0;var z=g.EDGECOST*(1/(O-1)+1/(F-1));z+=g.ANGLECOST*D*D;for(var B=b-N,W=I-k,J=b+N,re=I+k,ne=0;ne<M.length;ne++){var le=M[ne],$=Math.cos(le.theta)*le.width/2,K=Math.sin(le.theta)*le.width/2,ie=P.segmentDistance(B,W,J,re,le.x-$,le.y-K,le.x+$,le.y+K)*2/(y.height+le.height),Y=le.level===y.level,Q=Y?g.SAMELEVELDISTANCE:1;if(ie<=Q)return 1/0;var oe=g.NEIGHBORCOST*(Y?g.SAMELEVELFACTOR:1);z+=oe/(ie-Q)}return z}H.addLabelData=function(C,y,M,A){var o=y.fontSize,E=y.width+o/3,b=Math.max(0,y.height-o/3),I=C.x,D=C.y,N=C.theta,k=Math.sin(N),O=Math.cos(N),F=function(B,W){return[I+B*O-W*k,D+B*k+W*O]},z=[F(-E/2,-b/2),F(-E/2,b/2),F(E/2,b/2),F(E/2,-b/2)];M.push({text:y.text,x:I,y:D,dy:y.dy,theta:N,level:y.level,width:E,height:b}),A.push(z)},H.drawLabels=function(C,y,M,A,o){var E=C.selectAll("text").data(y,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,O=N.y-Math.cos(N.theta)*N.dy;m.select(this).text(N.text).attr({x:k,y:O,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+O+")"}).call(S.convertToTspans,M)}),o){for(var b="",I=0;I<o.length;I++)b+="M"+o[I].join("L")+"Z";var D=P.ensureSingle(A,"path","");D.attr("d",b)}};function x(C,y,M,A,o){var E=A.trace,b=M._fullLayout._clips,I="clip"+E.uid,D=b.selectAll("#"+I).data(E.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",I),D.exit().remove(),E.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:A.x,y:A.y,z:w(A),smoothing:0};t([N]),i([N]),u([N],{type:"levels"});var k=P.ensureSingle(D,"path","");k.attr("d",(N.prefixBoundary?"M"+o.join("L")+"Z":"")+c(N,o))}else I=null;s.setClipUrl(C,I,M)}function w(C){var y=C.trace._emptypoints,M=[],A=C.z.length,o=C.z[0].length,E,b=[],I;for(E=0;E<o;E++)b.push(1);for(E=0;E<A;E++)M.push(b.slice());for(E=0;E<y.length;E++)I=y[E],M[I[0]][I[1]]=0;return C.zmask=M,M}},54444:function(G,H,e){var m=e(54460),P=e(3400);G.exports=function(S,v){var p=S.contours;if(S.autocontour){var r=S.zmin,t=S.zmax;(S.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(S.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var i=s(r,t,S.ncontours);p.size=i.dtick,p.start=m.tickFirst(i),i.range.reverse(),p.end=m.tickFirst(i),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),S._input.contours||(S._input.contours={}),P.extendFlat(S._input.contours,{start:p.start,end:p.end,size:p.size}),S._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,f=p.end,u=S._input.contours;if(n>f&&(p.start=u.start=f,f=p.end=u.end=n,n=p.start),!(p.size>0)){var l;n===f?l=1:l=s(n,f,S.ncontours).dtick,u.size=p.size=l}}};function s(L,S,v){var p={type:"linear",range:[L,S]};return m.autoTicks(p,(S-L)/(v||15)),p}},52440:function(G,H,e){var m=e(33428),P=e(43616),s=e(41648),L=e(41076);G.exports=function(v){var p=m.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=m.select(this),i=r[0].trace,n=i.contours,f=i.line,u=n.size||1,l=n.start,g=n.type==="constraint",h=!g&&n.coloring==="lines",T=!g&&n.coloring==="fill",c=h||T?L(i):null;t.selectAll("g.contourlevel").each(function(x){m.select(this).selectAll("path").call(P.lineGroupStyle,f.width,h?c(x.level):f.color,f.dash)});var a=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){P.font(m.select(this),{weight:a.weight,style:a.style,variant:a.variant,textcase:a.textcase,lineposition:a.lineposition,shadow:a.shadow,family:a.family,size:a.size,color:a.color||(h?c(x.level):f.color)})}),g)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),c(x.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*u))}}),s(v)}},97680:function(G,H,e){var m=e(27260),P=e(17428);G.exports=function(L,S,v,p,r){var t=v("contours.coloring"),i,n="";t==="fill"&&(i=v("contours.showlines")),i!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(S.showlegend=!1),S._dfltShowLegend=!1,m(L,S,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(G,H,e){var m=e(83328),P=e(67104),s=e(49084),L=e(92880).extendFlat,S=P.contours;G.exports=L({carpet:{valType:"string",editType:"calc"},z:m.z,a:m.x,a0:m.x0,da:m.dx,b:m.y,b0:m.y0,db:m.dy,text:m.text,hovertext:m.hovertext,transpose:m.transpose,atype:m.xtype,btype:m.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:S.type,start:S.start,end:S.end,size:S.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:S.showlines,showlabels:S.showlabels,labelfont:S.labelfont,labelformat:S.labelformat,operation:S.operation,value:S.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},30572:function(G,H,e){var m=e(47128),P=e(3400),s=e(2872),L=e(26136),S=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),i=e(54444);G.exports=function(u,l){var g=l._carpetTrace=t(u,l);if(!(!g||!g.visible||g.visible==="legendonly")){if(!l.a||!l.b){var h=u.data[g.index],T=u.data[l.index];T.a||(T.a=h.a),T.b||(T.b=h.b),r(T,l,l._defaultColor,u._fullLayout)}var c=n(u,l);return i(l,l._z),c}};function n(f,u){var l=u._carpetTrace,g=l.aaxis,h=l.baxis,T,c,a,d,x,w,C;g._minDtick=0,h._minDtick=0,P.isArray1D(u.z)&&s(u,g,h,"a","b",["z"]),T=u._a=u._a||u.a,d=u._b=u._b||u.b,T=T?g.makeCalcdata(u,"_a"):[],d=d?h.makeCalcdata(u,"_b"):[],c=u.a0||0,a=u.da||1,x=u.b0||0,w=u.db||1,C=u._z=L(u._z||u.z,u.transpose),u._emptypoints=v(C),S(C,u._emptypoints);var y=P.maxRowLength(C),M=u.xtype==="scaled"?"":T,A=p(u,M,c,a,y,g),o=u.ytype==="scaled"?"":d,E=p(u,o,x,w,C.length,h),b={a:A,b:E,z:C};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&m(f,u,{vals:C,containerStr:"",cLetter:"z"}),[b]}},3252:function(G,H,e){var m=e(3400),P=e(51264),s=e(37960),L=e(95536),S=e(84952),v=e(97680);G.exports=function(r,t,i,n){function f(h,T){return m.coerce(r,t,s,h,T)}function u(h){return m.coerce2(r,t,s,h)}if(f("carpet"),r.a&&r.b){var l=P(r,t,f,n,"a","b");if(!l){t.visible=!1;return}f("text");var g=f("contours.type")==="constraint";g?L(r,t,f,n,i,{hasHover:!1}):(S(r,t,f,u),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null;f("zorder")}},40448:function(G,H,e){G.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(G,H,e){var m=e(33428),P=e(87072),s=e(53416),L=e(43616),S=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),i=e(82172),n=e(61512),f=e(56008),u=e(50948),l=e(77712);G.exports=function(M,A,o,E){var b=A.xaxis,I=A.yaxis;S.makeTraceGroups(E,o,"contour").each(function(D){var N=m.select(this),k=D[0],O=k.trace,F=O._carpetTrace=u(M,O),z=M.calcdata[F.index][0];if(!F.visible||F.visible==="legendonly")return;var B=k.a,W=k.b,J=O.contours,re=n(J,A,k),ne=J.type==="constraint",le=J._operation,$=ne?le==="="?"lines":"fill":J.coloring;function K(be){var xe=F.ab2xy(be[0],be[1],!0);return[b.c2p(xe[0]),I.c2p(xe[1])]}var ie=[[B[0],W[W.length-1]],[B[B.length-1],W[W.length-1]],[B[B.length-1],W[0]],[B[0],W[0]]];v(re);var Y=(B[B.length-1]-B[0])*1e-8,Q=(W[W.length-1]-W[0])*1e-8;p(re,Y,Q);var oe=re;J.type==="constraint"&&(oe=i(re,le)),g(re,K);var X,j,se,te,fe=[];for(te=z.clipsegments.length-1;te>=0;te--)X=z.clipsegments[te],j=P([],X.x,b.c2p),se=P([],X.y,I.c2p),j.reverse(),se.reverse(),fe.push(s(j,se,X.bicubic));var ge="M"+fe.join("L")+"Z";x(N,z.clipsegments,b,I,ne,$),w(O,N,b,I,oe,ie,K,F,z,$,ge),h(N,re,M,k,J,A,F),L.setClipUrl(N,F._clipPathId,M)})};function g(y,M){var A,o,E,b,I,D,N,k,O;for(A=0;A<y.length;A++){for(b=y[A],I=b.pedgepaths=[],D=b.ppaths=[],o=0;o<b.edgepaths.length;o++){for(O=b.edgepaths[o],N=[],E=0;E<O.length;E++)N[E]=M(O[E]);I.push(N)}for(o=0;o<b.paths.length;o++){for(O=b.paths[o],k=[],E=0;E<O.length;E++)k[E]=M(O[E]);D.push(k)}}}function h(y,M,A,o,E,b,I){var D=A._context.staticPlot,N=S.ensureSingle(y,"g","contourlines"),k=E.showlines!==!1,O=E.showlabels,F=k&&O,z=r.createLines(N,k||O,M,D),B=r.createLineClip(N,F,A,o.trace.uid),W=y.selectAll("g.contourlabels").data(O?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),O){var J=b.xaxis,re=b.yaxis,ne=J._length,le=re._length,$=[[[0,0],[ne,0],[ne,le],[0,le]]],K=[];S.clearLocationCache();var ie=r.labelFormatter(A,o),Y=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),Q={left:0,right:ne,center:ne/2,top:0,bottom:le,middle:le/2},oe=Math.sqrt(ne*ne+le*le),X=t.LABELDISTANCE*oe/Math.max(1,M.length/t.LABELINCREASE);z.each(function(j){var se=r.calcTextOpts(j.level,ie,Y,A);m.select(this).selectAll("path").each(function(te){var fe=this,ge=S.getVisibleSegment(fe,Q,se.height/2);if(ge&&(T(fe,te,j,ge,I,se.height),!(ge.len<(se.width+se.height)*t.LABELMIN)))for(var be=Math.min(Math.ceil(ge.len/X),t.LABELMAX),xe=0;xe<be;xe++){var _e=r.findBestTextLocation(fe,ge,se,K,Q);if(!_e)break;r.addLabelData(_e,se,K,$)}})}),Y.remove(),r.drawLabels(W,K,A,B,F?$:null)}O&&!k&&z.remove()}function T(y,M,A,o,E,b){for(var I,D=0;D<A.pedgepaths.length;D++)M===A.pedgepaths[D]&&(I=A.edgepaths[D]);if(!I)return;var N=E.a[0],k=E.a[E.a.length-1],O=E.b[0],F=E.b[E.b.length-1];function z(ne,le){var $=0,K,ie=.1;return(Math.abs(ne[0]-N)<ie||Math.abs(ne[0]-k)<ie)&&(K=a(E.dxydb_rough(ne[0],ne[1],ie)),$=Math.max($,b*d(le,K)/2)),(Math.abs(ne[1]-O)<ie||Math.abs(ne[1]-F)<ie)&&(K=a(E.dxyda_rough(ne[0],ne[1],ie)),$=Math.max($,b*d(le,K)/2)),$}var B=c(y,0,1),W=c(y,o.total,o.total-1),J=z(I[0],B),re=o.total-z(I[I.length-1],W);o.min<J&&(o.min=J),o.max>re&&(o.max=re),o.len=o.max-o.min}function c(y,M,A){var o=y.getPointAtLength(M),E=y.getPointAtLength(A),b=E.x-o.x,I=E.y-o.y,D=Math.sqrt(b*b+I*I);return[b/D,I/D]}function a(y){var M=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/M,y[1]/M]}function d(y,M){var A=Math.abs(y[0]*M[0]+y[1]*M[1]),o=Math.sqrt(1-A*A);return o/A}function x(y,M,A,o,E,b){var I,D,N,k,O=S.ensureSingle(y,"g","contourbg"),F=O.selectAll("path").data(b==="fill"&&!E?[0]:[]);F.enter().append("path"),F.exit().remove();var z=[];for(k=0;k<M.length;k++)I=M[k],D=P([],I.x,A.c2p),N=P([],I.y,o.c2p),z.push(s(D,N,I.bicubic));F.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function w(y,M,A,o,E,b,I,D,N,k,O){var F=k==="fill";F&&f(E,y.contours);var z=S.ensureSingle(M,"g","contourfill"),B=z.selectAll("path").data(F?E:[]);B.enter().append("path"),B.exit().remove(),B.each(function(W){var J=(W.prefixBoundary?O:"")+C(y,W,b,I,D,N,A,o);J?m.select(this).attr("d",J).style("stroke","none"):m.select(this).remove()})}function C(y,M,A,o,E,b,I,D){var N,k="",O=M.edgepaths.map(function(se,te){return te}),F=!0,z,B,W,J,re,ne,le=Math.abs(A[0][0]-A[2][0])*1e-4,$=Math.abs(A[0][1]-A[2][1])*1e-4;function K(se){return Math.abs(se[1]-A[0][1])<$}function ie(se){return Math.abs(se[1]-A[2][1])<$}function Y(se){return Math.abs(se[0]-A[0][0])<le}function Q(se){return Math.abs(se[0]-A[2][0])<le}function oe(se,te){var fe,ge,be,xe,_e="";for(K(se)&&!Q(se)||ie(se)&&!Y(se)?(xe=E.aaxis,be=l(E,b,[se[0],te[0]],.5*(se[1]+te[1]))):(xe=E.baxis,be=l(E,b,.5*(se[0]+te[0]),[se[1],te[1]])),fe=1;fe<be.length;fe++)for(_e+=xe.smoothing?"C":"L",ge=0;ge<be[fe].length;ge++){var De=be[fe][ge];_e+=[I.c2p(De[0]),D.c2p(De[1])]+" "}return _e}for(N=0,z=null;O.length;){var X=M.edgepaths[N][0];for(z&&(k+=oe(z,X)),ne=L.smoothopen(M.edgepaths[N].map(o),M.smoothing),k+=F?ne:ne.replace(/^M/,"L"),O.splice(O.indexOf(N),1),z=M.edgepaths[N][M.edgepaths[N].length-1],J=-1,W=0;W<4;W++){if(!z){S.log("Missing end?",N,M);break}for(K(z)&&!Q(z)?B=A[1]:Y(z)?B=A[0]:ie(z)?B=A[3]:Q(z)&&(B=A[2]),re=0;re<M.edgepaths.length;re++){var j=M.edgepaths[re][0];Math.abs(z[0]-B[0])<le?Math.abs(z[0]-j[0])<le&&(j[1]-z[1])*(B[1]-j[1])>=0&&(B=j,J=re):Math.abs(z[1]-B[1])<$?Math.abs(z[1]-j[1])<$&&(j[0]-z[0])*(B[0]-j[0])>=0&&(B=j,J=re):S.log("endpt to newendpt is not vert. or horz.",z,B,j)}if(J>=0)break;k+=oe(z,B),z=B}if(J===M.edgepaths.length){S.log("unclosed perimeter path");break}N=J,F=O.indexOf(N)===-1,F&&(N=O[0],k+=oe(z,B)+"Z",z=null)}for(N=0;N<M.paths.length;N++)k+=L.smoothclosed(M.paths[N].map(o),M.smoothing);return k}},33928:function(G,H,e){var m=e(49084),P=e(21776).Ks,s=e(45464),L=e(31512),S=e(92880).extendFlat;G.exports=S({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:S({},s.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:S({},s.showlegend,{dflt:!1})},m("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(G,H,e){var m=e(38248),P=e(3400).isArrayOrTypedArray,s=e(39032).BADNUM,L=e(47128),S=e(3400)._;G.exports=function(p,r){for(var t=r._length,i=new Array(t),n=r.z,f=P(n)&&n.length,u=0;u<t;u++){var l=i[u]={},g=r.lon[u],h=r.lat[u];if(l.lonlat=m(g)&&m(h)?[+g,+h]:[s,s],f){var T=n[u];l.z=m(T)?T:s}}return L(p,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:S(p,"lat:")+" ",lon:S(p,"lon:")+" "}}),i}},4629:function(G,H,e){var m=e(38248),P=e(3400),s=e(76308),L=e(8932),S=e(39032).BADNUM,v=e(44808).makeBlank;G.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!i)return f;var u=[],l,g=t.z,h=t.radius,T=P.isArrayOrTypedArray(g)&&g.length,c=P.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var a=r[l],d=a.lonlat;if(d[0]!==S){var x={};if(T){var w=a.z;x.z=w!==S?w:0}c&&(x.r=m(h[l])&&h[l]>0?+h[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:x})}}var C=L.extractOpts(t),y=C.reversescale?L.flipScale(C.colorscale):C.colorscale,M=y[0][1],A=s.opacity(M)<1?M:s.addOpacity(M,0),o=["interpolate",["linear"],["heatmap-density"],0,A];for(l=1;l<y.length;l++)o.push(y[l][0],y[l][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(f.heatmap.paint,{"heatmap-weight":T?E:1/(C.max-C.min),"heatmap-color":o,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(G,H,e){var m=e(3400),P=e(27260),s=e(33928);G.exports=function(S,v,p,r){function t(u,l){return m.coerce(S,v,s,u,l)}var i=t("lon")||[],n=t("lat")||[],f=Math.min(i.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(S,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(G){G.exports=function(e,m){return e.lon=m.lon,e.lat=m.lat,e.z=m.z,e}},25336:function(G,H,e){var m=e(54460),P=e(63312).hoverPoints,s=e(63312).getExtraText;G.exports=function(S,v,p){var r=P(S,v,p);if(r){var t=r[0],i=t.cd,n=i[0].trace,f=i[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=m.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=s(n,f,i[0].t.labels),[t]}}},15088:function(G,H,e){G.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(m,P){for(var s=P.getMapLayers(),L=0;L<s.length;L++){var S=s[L],v=S.id;if(S.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(G,H,e){var m=e(4629),P=e(47552).traceLayerPrefix;function s(S,v){this.type="densitymapbox",this.subplot=S,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=s.prototype;L.update=function(S){var v=this.subplot,p=this.layerList,r=m(S),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<p.length;i++){var n=p[i],f=n[0],u=n[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},L._addLayers=function(S,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var n=r[i],f=n[0],u=S[f];p.addLayer({type:f,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},L._removeLayers=function(){for(var S=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)S.removeLayer(v[p][1])},L.dispose=function(){var S=this.subplot.map;this._removeLayers(),S.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new s(v,r.uid),i=t.sourceId,n=m(p),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(G,H,e){var m=e(3400);G.exports=function(s,L){for(var S=0;S<s.length;S++)s[S].i=S;m.mergeArray(L.text,s,"tx"),m.mergeArray(L.hovertext,s,"htx");var v=L.marker;if(v){m.mergeArray(v.opacity,s,"mo"),m.mergeArray(v.color,s,"mc");var p=v.line;p&&(m.mergeArray(p.color,s,"mlc"),m.mergeArrayCastPositive(p.width,s,"mlw"))}}},20088:function(G,H,e){var m=e(20832),P=e(52904).line,s=e(45464),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);G.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:m.hovertext,hovertemplate:S({},{keys:p.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:m.text,textposition:m.textposition,insidetextanchor:r({},m.insidetextanchor,{dflt:"middle"}),textangle:r({},m.textangle,{dflt:0}),textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:m.outsidetextfont,constraintext:m.constraintext,cliponaxis:m.cliponaxis,orientation:r({},m.orientation,{}),offset:r({},m.offset,{arrayOk:!1}),width:r({},m.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,zorder:m.zorder};function i(){var n=r({},m.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(G,H,e){var m=e(54460),P=e(1220),s=e(74248),L=e(4500),S=e(39032).BADNUM;G.exports=function(r,t){var i=m.getFromId(r,t.xaxis||"x"),n=m.getFromId(r,t.yaxis||"y"),f,u,l,g,h,T,c,a;t.orientation==="h"?(f=i.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y"),l=i.makeCalcdata(t,"x"),g=P(t,i,"x",l),h=!!t.xperiodalignment,T="x"),u=g.vals;var d=Math.min(u.length,f.length),x=new Array(d);for(t._base=[],c=0;c<d;c++){f[c]<0&&(f[c]=S);var w=!1;f[c]!==S&&c+1<d&&f[c+1]!==S&&(w=!0),a=x[c]={p:u[c],s:f[c],cNext:w},t._base[c]=-.5*a.s,h&&(x[c].orig_p=l[c],x[c][T+"End"]=g.ends[c],x[c][T+"Start"]=g.starts[c]),t.ids&&(a.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(a.s),a.begR=v(a.s)/v(x[0].s)}var C;for(c=0;c<d;c++)a=x[c],a.s!==S&&(a.sumR=a.s/x[0].vTotal,a.difR=C!==void 0?a.s/C:1,C=a.s);return s(x,t),L(x,t),x};function v(p){return p===S?0:p}},74732:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(G,H,e){var m=e(96376).setGroupPositions;G.exports=function(s,L){var S=s._fullLayout,v=s._fullData,p=s.calcdata,r=L.xaxis,t=L.yaxis,i=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var g=v[l],h=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(u=p[l],h?f.push(u):n.push(u),i.push(u))}var T={mode:S.funnelmode,norm:S.funnelnorm,gap:S.funnelgap,groupgap:S.funnelgroupgap};for(m(s,r,t,n,T),m(s,t,r,f,T),l=0;l<i.length;l++){u=i[l];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(G,H,e){var m=e(3400),P=e(20011),s=e(31508).handleText,L=e(43980),S=e(31147),v=e(20088),p=e(76308);function r(n,f,u,l){function g(w,C){return m.coerce(n,f,v,w,C)}var h=L(n,f,l,g);if(!h){f.visible=!1;return}S(n,f,l,g),g("xhoverformat"),g("yhoverformat"),g("orientation",f.y&&!f.x?"v":"h"),g("offset"),g("width");var T=g("text");g("hovertext"),g("hovertemplate");var c=g("textposition");s(n,f,l,g,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&g("textinfo",m.isArrayOrTypedArray(T)?"text+value":"value");var a=g("marker.color",u);g("marker.line.color",p.defaultLine),g("marker.line.width");var d=g("connector.visible");if(d){g("connector.fillcolor",t(a));var x=g("connector.line.width");x&&(g("connector.line.color"),g("connector.line.dash"))}g("zorder")}function t(n){var f=m.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(f,.5*p.opacity(f))}function i(n,f){var u,l;function g(T){return m.coerce(l._input,l,v,T)}if(f.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],u=l._input,P(u,l,f,g)}G.exports={supplyDefaults:r,crossTraceDefaults:i}},34580:function(G){G.exports=function(e,m){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"percentInitial"in m&&(e.percentInitial=m.percentInitial),"percentPrevious"in m&&(e.percentPrevious=m.percentPrevious),"percentTotal"in m&&(e.percentTotal=m.percentTotal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},31488:function(G,H,e){var m=e(76308).opacity,P=e(63400).hoverOnBars,s=e(3400).formatPercent;G.exports=function(v,p,r,t,i){var n=P(v,p,r,t,i);if(n){var f=n.cd,u=f[0].trace,l=u.orientation==="h",g=n.index,h=f[g],T=l?"x":"y";n[T+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=s(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=s(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=s(h.sumR,1);var c=h.hi||u.hoverinfo,a=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",x=c.split("+"),w=function(C){return d||x.indexOf(C)!==-1};w("percent initial")&&a.push(n.percentInitialLabel+" of initial"),w("percent previous")&&a.push(n.percentPreviousLabel+" of previous"),w("percent total")&&a.push(n.percentTotalLabel+" of total")}return n.extraText=a.join("<br>"),n.color=L(u,h),[n]}};function L(S,v){var p=S.marker,r=v.mc||p.color,t=v.mlc||p.line.color,i=v.mlw||p.line.width;if(m(r))return r;if(m(t)&&i)return t}},94704:function(G,H,e){G.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(G,H,e){var m=e(3400),P=e(7076);G.exports=function(s,L,S){var v=!1;function p(i,n){return m.coerce(s,L,P,i,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(n,f,u,l){var g=n._fullLayout;v("funnel",g),p(n,f,u,l),r(n,f,u,l),S.plot(n,f,u,l,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function p(i,n,f,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,f,"trace bars").each(function(h){var T=m.select(this),c=h[0].trace,a=P.ensureSingle(T,"g","regions");if(!c.connector||!c.connector.visible){a.remove();return}var d=c.orientation==="h",x=a.selectAll("g.region").data(P.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var w=x.size();x.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var M=t(C,l,g,d),A=M[0],o=M[1],E="";A[0]!==L&&o[0]!==L&&A[1]!==L&&o[1]!==L&&A[2]!==L&&o[2]!==L&&A[3]!==L&&o[3]!==L&&(d?E+="M"+A[0]+","+o[1]+"L"+A[2]+","+o[2]+"H"+A[3]+"L"+A[1]+","+o[1]+"Z":E+="M"+A[1]+","+o[1]+"L"+A[2]+","+o[3]+"V"+o[2]+"L"+A[1]+","+o[0]+"Z"),E===""&&(E="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",E).call(s.setClipUrl,n.layerClipId,i)}})})}function r(i,n,f,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,f,"trace bars").each(function(h){var T=m.select(this),c=h[0].trace,a=P.ensureSingle(T,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){a.remove();return}var d=c.orientation==="h",x=a.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var M=t(C,l,g,d),A=M[0],o=M[1],E="";A[3]!==void 0&&o[3]!==void 0&&(d?(E+="M"+A[0]+","+o[1]+"L"+A[2]+","+o[2],E+="M"+A[1]+","+o[1]+"L"+A[3]+","+o[2]):(E+="M"+A[1]+","+o[1]+"L"+A[2]+","+o[3],E+="M"+A[1]+","+o[0]+"L"+A[2]+","+o[2])),E===""&&(E="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",E).call(s.setClipUrl,n.layerClipId,i)}})})}function t(i,n,f,u){var l=[],g=[],h=u?n:f,T=u?f:n;return l[0]=h.c2p(i.s0,!0),g[0]=T.c2p(i.p0,!0),l[1]=h.c2p(i.s1,!0),g[1]=T.c2p(i.p1,!0),l[2]=h.c2p(i.nextS0,!0),g[2]=T.c2p(i.nextP0,!0),l[3]=h.c2p(i.nextS1,!0),g[3]=T.c2p(i.nextP1,!0),u?[l,g]:[g,l]}},44544:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308),L=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,p=S.styleTextPoints;function r(t,i,n){var f=n||m.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=m.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=g.marker;m.select(this).call(s.fill,h.mc||T.color).call(s.stroke,h.mlc||T.line.color).call(P.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(l,g,t),l.selectAll(".regions").each(function(){m.select(this).selectAll("path").style("stroke-width",0).call(s.fill,g.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(m.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},22332:function(G,H,e){var m=e(74996),P=e(45464),s=e(86968).u,L=e(21776).Ks,S=e(21776).Gw,v=e(92880).extendFlat;G.exports={labels:m.labels,label0:m.label0,dlabel:m.dlabel,values:m.values,marker:{colors:m.marker.colors,line:{color:v({},m.marker.line.color,{dflt:null}),width:v({},m.marker.line.width,{dflt:1}),editType:"calc"},pattern:m.marker.pattern,editType:"calc"},text:m.text,hovertext:m.hovertext,scalegroup:v({},m.scalegroup,{}),textinfo:v({},m.textinfo,{flags:["label","text","value","percent"]}),texttemplate:S({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},m.textposition,{values:["inside","none"],dflt:"inside"}),textfont:m.textfont,insidetextfont:m.insidetextfont,title:{text:m.title.text,font:m.title.font,position:v({},m.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:s({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(G,H,e){var m=e(7316);H.name="funnelarea",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},54e3:function(G,H,e){var m=e(45768);function P(L,S){return m.calc(L,S)}function s(L){m.crossTraceCalc(L,{type:"funnelarea"})}G.exports={calc:P,crossTraceCalc:s}},92688:function(G,H,e){var m=e(3400),P=e(22332),s=e(86968).Q,L=e(31508).handleText,S=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;G.exports=function(r,t,i,n){function f(w,C){return m.coerce(r,t,P,w,C)}var u=f("labels"),l=f("values"),g=S(u,l),h=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,f),f("scalegroup");var T=f("text"),c=f("texttemplate"),a;if(c||(a=f("textinfo",Array.isArray(T)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||a&&a!=="none"){var d=f("textposition");L(r,t,n,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else a==="none"&&f("textposition","none");s(t,n,f);var x=f("title.text");x&&(f("title.position"),m.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(G,H,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(G,H,e){var m=e(85204).hiddenlabels;G.exports={hiddenlabels:m,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(G,H,e){var m=e(3400),P=e(61280);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",S.colorway),v("extendfunnelareacolors")}},39472:function(G,H,e){var m=e(33428),P=e(43616),s=e(3400),L=s.strScale,S=s.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,g=u.determineInsideTextFont,h=u.layoutAreas,T=u.prerenderTitles,c=u.positionTitleOutside,a=u.formatSliceLabel;G.exports=function(y,M){var A=y._context.staticPlot,o=y._fullLayout;n("funnelarea",o),T(M,y),h(M,o._size),s.makeTraceGroups(o._funnelarealayer,M,"trace").each(function(E){var b=m.select(this),I=E[0],D=I.trace;w(E),b.each(function(){var N=m.select(this).selectAll("g.slice").data(E);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(O,F){if(O.hidden){m.select(this).selectAll("path,g").remove();return}O.pointNumber=O.i,O.curveNumber=D.index;var z=I.cx,B=I.cy,W=m.select(this),J=W.selectAll("path.surface").data([O]);J.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),W.call(l,y,E);var re="M"+(z+O.TR[0])+","+(B+O.TR[1])+d(O.TR,O.BR)+d(O.BR,O.BL)+d(O.BL,O.TL)+"Z";J.attr("d",re),a(y,O,I);var ne=f.castOption(D.textposition,O.pts),le=W.selectAll("g.slicetext").data(O.text&&ne!=="none"?[0]:[]);le.enter().append("g").classed("slicetext",!0),le.exit().remove(),le.each(function(){var $=s.ensureSingle(m.select(this),"text","",function(se){se.attr("data-notex",1)}),K=s.ensureUniformFontSize(y,g(D,O,o.font));$.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,K).call(v.convertToTspans,y);var ie=P.bBox($.node()),Y,Q,oe,X=Math.min(O.BL[1],O.BR[1])+B,j=Math.max(O.TL[1],O.TR[1])+B;Q=Math.max(O.TL[0],O.BL[0])+z,oe=Math.min(O.TR[0],O.BR[0])+z,Y=r(Q,oe,X,j,ie,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=K.size,i(D.type,Y,o),E[F].transform=Y,s.setTransormAndDisplay($,Y)})});var k=m.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var O=s.ensureSingle(m.select(this),"text","",function(B){B.attr("data-notex",1)}),F=D.title.text;D._meta&&(F=s.templateString(F,D._meta)),O.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,D.title.font).call(v.convertToTspans,y);var z=c(I,o._size);O.attr("transform",S(z.x,z.y)+L(Math.min(1,z.scale))+S(z.tx,z.ty))})})})};function d(C,y){var M=y[0]-C[0],A=y[1]-C[1];return"l"+M+","+A}function x(C,y){return[.5*(C[0]+y[0]),.5*(C[1]+y[1])]}function w(C){if(!C.length)return;var y=C[0],M=y.trace,A=M.aspectratio,o=M.baseratio;o>.999&&(o=.999);var E=Math.pow(o,2),b=y.vTotal,I=b*E/(1-E),D=b,N=I/b;function k(){var te=Math.sqrt(N);return{x:te,y:-te}}function O(){var te=k();return[te.x,te.y]}var F,z=[];z.push(O());var B,W;for(B=C.length-1;B>-1;B--)if(W=C[B],!W.hidden){var J=W.v/D;N+=J,z.push(O())}var re=1/0,ne=-1/0;for(B=0;B<z.length;B++)F=z[B],re=Math.min(re,F[1]),ne=Math.max(ne,F[1]);for(B=0;B<z.length;B++)z[B][1]-=(ne+re)/2;var le=z[z.length-1][0],$=y.r,K=(ne-re)/2,ie=$/le,Y=$/K*A;for(y.r=Y*K,B=0;B<z.length;B++)z[B][0]*=ie,z[B][1]*=Y;F=z[0];var Q=[-F[0],F[1]],oe=[F[0],F[1]],X=0;for(B=C.length-1;B>-1;B--)if(W=C[B],!W.hidden){X+=1;var j=z[X][0],se=z[X][1];W.TL=[-j,se],W.TR=[j,se],W.BL=Q,W.BR=oe,W.pxmid=x(W.TR,W.BR),Q=W.TL,oe=W.TR}}},62096:function(G,H,e){var m=e(33428),P=e(10528),s=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._funnelarealayer.selectAll(".trace");s(S,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,i=m.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){m.select(this).call(P,n,t,S)})})}},83328:function(G,H,e){var m=e(52904),P=e(45464),s=e(25376),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},m.x,{impliedEdits:{xtype:"array"}}),x0:r({},m.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},m.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},m.y,{impliedEdits:{ytype:"array"}}),y0:r({},m.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},m.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},m.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},m.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},m.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},m.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},m.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},m.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:S(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:s({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:m.zorder},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(G,H,e){var m=e(24040),P=e(3400),s=e(54460),L=e(1220),S=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),i=e(11240),n=e(35744),f=e(39032).BADNUM;G.exports=function(h,T){var c=s.getFromId(h,T.xaxis||"x"),a=s.getFromId(h,T.yaxis||"y"),d=m.traceIs(T,"contour"),x=m.traceIs(T,"histogram"),w=m.traceIs(T,"gl2d"),C=d?"best":T.zsmooth,y,M,A,o,E,b,I,D,N,k,O;if(c._minDtick=0,a._minDtick=0,x)O=S(h,T),o=O.orig_x,y=O.x,M=O.x0,A=O.dx,D=O.orig_y,E=O.y,b=O.y0,I=O.dy,N=O.z;else{var F=T.z;P.isArray1D(F)?(p(T,c,a,"x","y",["z"]),y=T._x,E=T._y,F=T._z):(o=T.x?c.makeCalcdata(T,"x"):[],D=T.y?a.makeCalcdata(T,"y"):[],y=L(T,c,"x",o).vals,E=L(T,a,"y",D).vals,T._x=y,T._y=E),M=T.x0,A=T.dx,b=T.y0,I=T.dy,N=r(F,T,c,a)}(c.rangebreaks||a.rangebreaks)&&(N=l(y,E,N),x||(y=u(y),E=u(E),T._x=y,T._y=E)),!x&&(d||T.connectgaps)&&(T._emptypoints=i(N),t(N,T._emptypoints));function z(ie){C=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ie)}function B(ie){if(ie.length>1){var Y=(ie[ie.length-1]-ie[0])/(ie.length-1),Q=Math.abs(Y/100);for(k=0;k<ie.length-1;k++)if(Math.abs(ie[k+1]-ie[k]-Y)>Q)return!1}return!0}T._islinear=!1,c.type==="log"||a.type==="log"?C==="fast"&&z("log axis found"):B(y)?B(E)?T._islinear=!0:C==="fast"&&z("y scale is not linear"):C==="fast"&&z("x scale is not linear");var W=P.maxRowLength(N),J=T.xtype==="scaled"?"":y,re=n(T,J,M,A,W,c),ne=T.ytype==="scaled"?"":E,le=n(T,ne,b,I,N.length,a);w||(T._extremes[c._id]=s.findExtremes(c,re),T._extremes[a._id]=s.findExtremes(a,le));var $={x:re,y:le,z:N,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&o&&($.orig_x=o),T.yperiodalignment&&D&&($.orig_y=D),J&&J.length===re.length-1&&($.xCenter=J),ne&&ne.length===le.length-1&&($.yCenter=ne),x&&($.xRanges=O.xRanges,$.yRanges=O.yRanges,$.pts=O.pts),d||v(h,T,{vals:N,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var K={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};$.xfill=n(K,J,M,A,W,c),$.yfill=n(K,ne,b,I,N.length,a)}return[$]};function u(g){for(var h=[],T=g.length,c=0;c<T;c++){var a=g[c];a!==f&&h.push(a)}return h}function l(g,h,T){for(var c=[],a=-1,d=0;d<T.length;d++)if(h[d]!==f){a++,c[a]=[];for(var x=0;x<T[d].length;x++)g[x]!==f&&c[a].push(T[d][x])}return c}},26136:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032).BADNUM;G.exports=function(S,v,p,r){var t,i,n,f,u,l;function g(x){if(m(x))return+x}if(v&&v.transpose){for(t=0,u=0;u<S.length;u++)t=Math.max(t,S[u].length);if(t===0)return!1;n=function(x){return x.length},f=function(x,w,C){return(x[C]||[])[w]}}else t=S.length,n=function(x,w){return x[w].length},f=function(x,w,C){return(x[w]||[])[C]};var h=function(x,w,C){return w===s||C===s?s:f(x,w,C)};function T(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var w=x._id.charAt(0),C={},y=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<y.length;u++)C[y[u]]=u;return function(M){var A=C[x._categories[M]];return A+1?A:s}}else return P.identity}var c=T(p),a=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?i=p._categories.length:i=n(S,u),d[u]=new Array(i),l=0;l<i;l++)d[u][l]=g(h(S,a(u),c(l)));return d}},96288:function(G){G.exports={min:"zmin",max:"zmax"}},2872:function(G,H,e){var m=e(3400),P=e(39032).BADNUM,s=e(1220);G.exports=function(S,v,p,r,t,i){var n=S._length,f=v.makeCalcdata(S,r),u=p.makeCalcdata(S,t);f=s(S,v,r,f).vals,u=s(S,p,t,u).vals;var l=S.text,g=l!==void 0&&m.isArray1D(l),h=S.hovertext,T=h!==void 0&&m.isArray1D(h),c,a,d=m.distinctVals(f),x=d.vals,w=m.distinctVals(u),C=w.vals,y=[],M,A,o=C.length,E=x.length;for(c=0;c<i.length;c++)y[c]=m.init2dArray(o,E);g&&(M=m.init2dArray(o,E)),T&&(A=m.init2dArray(o,E));var b=m.init2dArray(o,E);for(c=0;c<n;c++)if(f[c]!==P&&u[c]!==P){var I=m.findBin(f[c]+d.minDiff/2,x),D=m.findBin(u[c]+w.minDiff/2,C);for(a=0;a<i.length;a++){var N=i[a],k=S[N],O=y[a];O[D][I]=k[c],b[D][I]=c}g&&(M[D][I]=l[c]),T&&(A[D][I]=h[c])}for(S["_"+r]=x,S["_"+t]=C,a=0;a<i.length;a++)S["_"+i[a]]=y[a];g&&(S._text=M),T&&(S._hovertext=A),v&&v.type==="category"&&(S["_"+r+"CategoryMap"]=x.map(function(F){return v._categories[F]})),p&&p.type==="category"&&(S["_"+t+"CategoryMap"]=C.map(function(F){return p._categories[F]})),S._after2before=b}},24480:function(G,H,e){var m=e(3400),P=e(51264),s=e(39096),L=e(31147),S=e(82748),v=e(27260),p=e(83328);G.exports=function(t,i,n,f){function u(g,h){return m.coerce(t,i,p,g,h)}var l=P(t,i,u,f);if(!l){i.visible=!1;return}L(t,i,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),s(u,f),S(t,i,u,f),u("hoverongaps"),u("connectgaps",m.isArray1D(i.z)&&i.zsmooth!==!1),v(t,i,f,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(G,H,e){var m=e(3400).maxRowLength;G.exports=function(s){var L=[],S={},v=[],p=s[0],r=[],t=[0,0,0],i=m(s),n,f,u,l,g,h,T,c;for(f=0;f<s.length;f++)for(n=r,r=p,p=s[f+1]||[],u=0;u<i;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),h?(f===0&&h++,u===0&&h++,f===s.length-1&&h++,u===r.length-1&&h++,h<4&&(S[[f,u]]=[f,u,h]),L.push([f,u,h])):v.push([f,u]));for(;v.length;){for(T={},c=!1,g=v.length-1;g>=0;g--)l=v[g],f=l[0],u=l[1],h=((S[[f-1,u]]||t)[2]+(S[[f+1,u]]||t)[2]+(S[[f,u-1]]||t)[2]+(S[[f,u+1]]||t)[2])/20,h&&(T[l]=[f,u,h],v.splice(g,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in T)S[l]=T[l],L.push(T[l])}return L.sort(function(a,d){return d[2]-a[2]})}},55512:function(G,H,e){var m=e(93024),P=e(3400),s=P.isArrayOrTypedArray,L=e(54460),S=e(8932).extractOpts;G.exports=function(p,r,t,i,n){n||(n={});var f=n.isContour,u=p.cd[0],l=u.trace,g=p.xa,h=p.ya,T=u.x,c=u.y,a=u.z,d=u.xCenter,x=u.yCenter,w=u.zmask,C=l.zhoverformat,y=T,M=c,A,o,E,b;if(p.index!==!1){try{E=Math.round(p.index[1]),b=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(E<0||E>=a[0].length||b<0||b>a.length)return}else{if(m.inbox(r-T[0],r-T[T.length-1],0)>0||m.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var I;for(y=[2*T[0]-T[1]],I=1;I<T.length;I++)y.push((T[I]+T[I-1])/2);for(y.push([2*T[T.length-1]-T[T.length-2]]),M=[2*c[0]-c[1]],I=1;I<c.length;I++)M.push((c[I]+c[I-1])/2);M.push([2*c[c.length-1]-c[c.length-2]])}E=Math.max(0,Math.min(y.length-2,P.findBin(r,y))),b=Math.max(0,Math.min(M.length-2,P.findBin(t,M)))}var D=g.c2p(T[E]),N=g.c2p(T[E+1]),k=h.c2p(c[b]),O=h.c2p(c[b+1]),F,z;f?(F=u.orig_x||T,z=u.orig_y||c,N=D,A=F[E],O=k,o=z[b]):(F=u.orig_x||d||T,z=u.orig_y||x||c,A=d?F[E]:(F[E]+F[E+1])/2,o=x?z[b]:(z[b]+z[b+1])/2,g&&g.type==="category"&&(A=T[E]),h&&h.type==="category"&&(o=c[b]),l.zsmooth&&(D=N=g.c2p(A),k=O=h.c2p(o)));var B=a[b][E];if(w&&!w[b][E]&&(B=void 0),!(B===void 0&&!l.hoverongaps)){var W;s(u.hovertext)&&s(u.hovertext[b])?W=u.hovertext[b][E]:s(u.text)&&s(u.text[b])&&(W=u.text[b][E]);var J=S(l),re={type:"linear",range:[J.min,J.max],hoverformat:C,_separators:g._separators,_numFormat:g._numFormat},ne=L.tickText(re,B,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[b][E]:[b,E],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:D,x1:N,y0:k,y1:O,xLabelVal:A,yLabelVal:o,zLabelVal:B,zLabel:ne,text:W})]}}},81932:function(G,H,e){G.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(G,H,e){var m=e(3400),P=.01,s=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,i;for(S(p,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>P;i++)t=S(p,r,L(t));return t>P&&m.log("interp2d didn't converge quickly",t),p};function S(v,p,r){var t=0,i,n,f,u,l,g,h,T,c,a,d,x,w;for(u=0;u<p.length;u++){for(i=p[u],n=i[0],f=i[1],d=v[n][f],a=0,c=0,l=0;l<4;l++)g=s[l],h=v[n+g[0]],h&&(T=h[f+g[1]],T!==void 0&&(a===0?x=w=T:(x=Math.min(x,T),w=Math.max(w,T)),c++,a+=T));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=a/c,d===void 0?c<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*d,w>x&&(t=Math.max(t,Math.abs(v[n][f]-d)/(w-x))))}return t}},39096:function(G,H,e){var m=e(3400);G.exports=function(s,L){s("texttemplate");var S=m.extendFlat({},L.font,{color:"auto",size:"auto"});m.coerceFont(s,"textfont",S)}},35744:function(G,H,e){var m=e(24040),P=e(3400).isArrayOrTypedArray;G.exports=function(L,S,v,p,r,t){var i=[],n=m.traceIs(L,"contour"),f=m.traceIs(L,"histogram"),u=m.traceIs(L,"gl2d"),l,g,h,T=P(S)&&S.length>1;if(T&&!f&&t.type!=="category"){var c=S.length;if(c<=r){if(n||u)i=Array.from(S).slice(0,r);else if(r===1)t.type==="log"?i=[.5*S[0],2*S[0]]:i=[S[0]-.5,S[0]+.5];else if(t.type==="log"){for(i=[Math.pow(S[0],1.5)/Math.pow(S[1],.5)],h=1;h<c;h++)i.push(Math.sqrt(S[h-1]*S[h]));i.push(Math.pow(S[c-1],1.5)/Math.pow(S[c-2],.5))}else{for(i=[1.5*S[0]-.5*S[1]],h=1;h<c;h++)i.push((S[h-1]+S[h])*.5);i.push(1.5*S[c-1]-.5*S[c-2])}if(c<r){var a=i[i.length-1],d;if(t.type==="log")for(d=a/i[i.length-2],h=c;h<r;h++)a*=d,i.push(a);else for(d=a-i[i.length-2],h=c;h<r;h++)a+=d,i.push(a)}}else return n?S.slice(0,r):S.slice(0,r+1)}else{var x=L[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,x);else if(P(S)&&S.length===1)l=S[0];else if(v===void 0)l=0;else{var w=t.type==="log"?t.d2c:t.r2c;l=w(v,0,x)}for(g=p||1,h=n||u?0:-.5;h<r;h++)i.push(l+g*h)}return i}},41420:function(G,H,e){var m=e(33428),P=e(49760),s=e(24040),L=e(43616),S=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),i=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,g=e(9188),h=e(2264).STYLE,T="heatmap-label";function c(C){return C.selectAll("g."+T)}function a(C){c(C).remove()}G.exports=function(C,y,M,A){var o=y.xaxis,E=y.yaxis;v.makeTraceGroups(A,M,"hm").each(function(b){var I=m.select(this),D=b[0],N=D.trace,k=N.xgap||0,O=N.ygap||0,F=D.z,z=D.x,B=D.y,W=D.xCenter,J=D.yCenter,re=s.traceIs(N,"contour"),ne=re?"best":N.zsmooth,le=F.length,$=v.maxRowLength(F),K=!1,ie=!1,Y,Q,oe,X,j,se,te,fe;for(se=0;Y===void 0&&se<z.length-1;)Y=o.c2p(z[se]),se++;for(se=z.length-1;Q===void 0&&se>0;)Q=o.c2p(z[se]),se--;for(Q<Y&&(oe=Q,Q=Y,Y=oe,K=!0),se=0;X===void 0&&se<B.length-1;)X=E.c2p(B[se]),se++;for(se=B.length-1;j===void 0&&se>0;)j=E.c2p(B[se]),se--;j<X&&(oe=X,X=j,j=oe,ie=!0),re&&(W=z,J=B,z=D.xfill,B=D.yfill);var ge="default";if(ne?ge=ne==="best"?"smooth":"fast":N._islinear&&k===0&&O===0&&g()&&(ge="fast"),ge!=="fast"){var be=ne==="best"?0:.5;Y=Math.max(-be*o._length,Y),Q=Math.min((1+be)*o._length,Q),X=Math.max(-be*E._length,X),j=Math.min((1+be)*E._length,j)}var xe=Math.round(Q-Y),_e=Math.round(j-X),De=Y>=o._length||Q<=0||X>=E._length||j<=0;if(De){var Fe=I.selectAll("image").data([]);Fe.exit().remove(),a(I);return}var Te,Re;ge==="fast"?(Te=$,Re=le):(Te=xe,Re=_e);var Se=document.createElement("canvas");Se.width=Te,Se.height=Re;var Ie=Se.getContext("2d",{willReadFrequently:!0}),Me=n(N,{noNumericCheck:!0,returnArray:!0}),Ve,et;ge==="fast"?(Ve=K?function(Or){return $-1-Or}:v.identity,et=ie?function(Or){return le-1-Or}:v.identity):(Ve=function(Or){return v.constrain(Math.round(o.c2p(z[Or])-Y),0,xe)},et=function(Or){return v.constrain(Math.round(E.c2p(B[Or])-X),0,_e)});var it=et(0),Je=[it,it],Qe=K?0:1,ct=ie?0:1,ht=0,gt=0,Tt=0,Et=0,rt,ze,He,Ge,We;function Le(Or,ln){if(Or!==void 0){var fn=Me(Or);return fn[0]=Math.round(fn[0]),fn[1]=Math.round(fn[1]),fn[2]=Math.round(fn[2]),ht+=ln,gt+=fn[0]*ln,Tt+=fn[1]*ln,Et+=fn[2]*ln,fn}return[0,0,0,0]}function Pe(Or,ln,fn,Mn){var Pn=Or[fn.bin0];if(Pn===void 0)return Le(void 0,1);var Vn=Or[fn.bin1],ia=ln[fn.bin0],ya=ln[fn.bin1],wa=Vn-Pn||0,Gn=ia-Pn||0,Qn;return Vn===void 0?ya===void 0?Qn=0:ia===void 0?Qn=2*(ya-Pn):Qn=(2*ya-ia-Pn)*2/3:ya===void 0?ia===void 0?Qn=0:Qn=(2*Pn-Vn-ia)*2/3:ia===void 0?Qn=(2*ya-Vn-Pn)*2/3:Qn=ya+Pn-Vn-ia,Le(Pn+fn.frac*wa+Mn.frac*(Gn+fn.frac*Qn))}if(ge!=="default"){var je=0,Ce;try{Ce=new Uint8Array(Te*Re*4)}catch{Ce=new Array(Te*Re*4)}if(ge==="smooth"){var he=W||z,me=J||B,Ne=new Array(he.length),$e=new Array(me.length),ot=new Array(xe),st=W?x:d,Wt=J?x:d,Pt,dt,Mt;for(se=0;se<he.length;se++)Ne[se]=Math.round(o.c2p(he[se])-Y);for(se=0;se<me.length;se++)$e[se]=Math.round(E.c2p(me[se])-X);for(se=0;se<xe;se++)ot[se]=st(se,Ne);for(te=0;te<_e;te++)for(Pt=Wt(te,$e),dt=F[Pt.bin0],Mt=F[Pt.bin1],se=0;se<xe;se++,je+=4)We=Pe(dt,Mt,ot[se],Pt),w(Ce,je,We)}else for(te=0;te<le;te++)for(Ge=F[te],Je=et(te),se=0;se<$;se++)We=Le(Ge[se],1),je=(Je*$+Ve(se))*4,w(Ce,je,We);var Xt=Ie.createImageData(Te,Re);try{Xt.data.set(Ce)}catch{var nr=Xt.data,vt=nr.length;for(te=0;te<vt;te++)nr[te]=Ce[te]}Ie.putImageData(Xt,0,0)}else{var Zt=Math.floor(k/2),Kt=Math.floor(O/2);for(te=0;te<le;te++)if(Ge=F[te],Je.reverse(),Je[ct]=et(te+1),!(Je[0]===Je[1]||Je[0]===void 0||Je[1]===void 0))for(ze=Ve(0),rt=[ze,ze],se=0;se<$;se++)rt.reverse(),rt[Qe]=Ve(se+1),!(rt[0]===rt[1]||rt[0]===void 0||rt[1]===void 0)&&(He=Ge[se],We=Le(He,(rt[1]-rt[0])*(Je[1]-Je[0])),Ie.fillStyle="rgba("+We.join(",")+")",Ie.fillRect(rt[0]+Zt,Je[0]+Kt,rt[1]-rt[0]-k,Je[1]-Je[0]-O))}gt=Math.round(gt/ht),Tt=Math.round(Tt/ht),Et=Math.round(Et/ht);var yr=P("rgb("+gt+","+Tt+","+Et+")");C._hmpixcount=(C._hmpixcount||0)+ht,C._hmlumcount=(C._hmlumcount||0)+ht*yr.getLuminance();var or=I.selectAll("image").data(b);or.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),or.attr({height:_e,width:xe,x:Y,y:X,"xlink:href":Se.toDataURL("image/png")}),ge==="fast"&&!ne&&or.attr("style",h),a(I);var mt=N.texttemplate;if(mt){var lt=i(N),bt={type:"linear",range:[lt.min,lt.max],_separators:o._separators,_numFormat:o._numFormat},Ct=N.type==="histogram2dcontour",Dt=N.type==="contour",Ht=Dt?1:0,Bt=Dt?le-1:le,Ut=Dt?1:0,Jt=Dt?$-1:$,cr=[];for(se=Ht;se<Bt;se++){var hr;if(Dt)hr=D.y[se];else if(Ct){if(se===0||se===le-1)continue;hr=D.y[se]}else if(D.yCenter)hr=D.yCenter[se];else{if(se+1===le&&D.y[se+1]===void 0)continue;hr=(D.y[se]+D.y[se+1])/2}var pr=Math.round(E.c2p(hr));if(!(0>pr||pr>E._length))for(te=Ut;te<Jt;te++){var Ye;if(Dt)Ye=D.x[te];else if(Ct){if(te===0||te===$-1)continue;Ye=D.x[te]}else if(D.xCenter)Ye=D.xCenter[te];else{if(te+1===$&&D.x[te+1]===void 0)continue;Ye=(D.x[te]+D.x[te+1])/2}var Ue=Math.round(o.c2p(Ye));if(!(0>Ue||Ue>o._length)){var Ot=r({x:Ye,y:hr},N,C._fullLayout);Ot.x=Ye,Ot.y=hr;var It=D.z[se][te];It===void 0?(Ot.z="",Ot.zLabel=""):(Ot.z=It,Ot.zLabel=S.tickText(bt,It,"hover").text);var Qt=D.text&&D.text[se]&&D.text[se][te];(Qt===void 0||Qt===!1)&&(Qt=""),Ot.text=Qt;var lr=v.texttemplateString(mt,Ot,C._fullLayout._d3locale,Ot,N._meta||{});if(lr){var fr=lr.split("<br>"),er=fr.length,Nt=0;for(fe=0;fe<er;fe++)Nt=Math.max(Nt,fr[fe].length);cr.push({l:er,c:Nt,t:lr,x:Ue,y:pr,z:It})}}}}var ir=N.textfont,vr=ir.size,xr=C._fullLayout.font.size;if(!vr||vr==="auto"){var dr=1/0,Hr=1/0,Pr=0,Rr=0;for(fe=0;fe<cr.length;fe++){var an=cr[fe];if(Pr=Math.max(Pr,an.l),Rr=Math.max(Rr,an.c),fe<cr.length-1){var tn=cr[fe+1],Sn=Math.abs(tn.x-an.x),Tn=Math.abs(tn.y-an.y);Sn&&(dr=Math.min(dr,Sn)),Tn&&(Hr=Math.min(Hr,Tn))}}!isFinite(dr)||!isFinite(Hr)?vr=xr:(dr-=k,Hr-=O,dr/=Rr,Hr/=Pr,dr/=l/2,Hr/=l,vr=Math.min(Math.floor(dr),Math.floor(Hr),xr))}if(vr<=0||!isFinite(vr))return;var Tr=function(Or){return Or.x},zr=function(Or){return Or.y-vr*(Or.l*l/2-1)},Yr=c(I).data(cr);Yr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(Or){var ln=m.select(this),fn=ir.color;(!fn||fn==="auto")&&(fn=t.contrast(Or.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Me(Or.z).join()+")")),ln.attr("data-notex",1).call(p.positionText,Tr(Or),zr(Or)).call(L.font,{family:ir.family,size:vr,color:fn,weight:ir.weight,style:ir.style,variant:ir.variant,textcase:ir.textcase,lineposition:ir.lineposition,shadow:ir.shadow}).text(Or.t).call(p.convertToTspans,C)})}})};function d(C,y){var M=y.length-2,A=v.constrain(v.findBin(C,y),0,M),o=y[A],E=y[A+1],b=v.constrain(A+(C-o)/(E-o)-.5,0,M),I=Math.round(b),D=Math.abs(b-I);return!b||b===M||!D?{bin0:I,bin1:I,frac:0}:{bin0:I,frac:D,bin1:Math.round(I+D/(b-I))}}function x(C,y){var M=y.length-1,A=v.constrain(v.findBin(C,y),0,M),o=y[A],E=y[A+1],b=(C-o)/(E-o)||0;return b<=0?{bin0:A,bin1:A,frac:0}:b<.5?{bin0:A,bin1:A+1,frac:b}:{bin0:A+1,bin1:A,frac:1-b}}function w(C,y,M){C[y]=M[0],C[y+1]=M[1],C[y+2]=M[2],C[y+3]=Math.round(M[3]*255)}},41648:function(G,H,e){var m=e(33428);G.exports=function(s){m.select(s).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},82748:function(G){G.exports=function(e,m,P){var s=P("zsmooth");s===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(G,H,e){var m=e(38248),P=e(3400),s=e(24040);G.exports=function(p,r,t,i,n,f){var u=t("z");n=n||"x",f=f||"y";var l,g;if(u===void 0||!u.length)return 0;if(P.isArray1D(u)){l=t(n),g=t(f);var h=P.minRowLength(l),T=P.minRowLength(g);if(h===0||T===0)return 0;r._length=Math.min(h,T,u.length)}else{if(l=L(n,t),g=L(f,t),!S(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=s.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,f],i),!0};function L(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function S(v){for(var p=!0,r=!1,t=!1,i,n=0;n<v.length;n++){if(i=v[n],!P.isArrayOrTypedArray(i)){p=!1;break}i.length>0&&(r=!0);for(var f=0;f<i.length;f++)if(m(i[f])){t=!0;break}}return p&&r&&t}},74512:function(G,H,e){for(var m=e(83328),P=e(49084),s=e(92880).extendFlat,L=e(67824).overrideAll,S=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<S.length;p++){var r=S[p];v[r]=m[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},s(v,P("",{cLetter:"z",autoColorDflt:!1})),G.exports=L(v,"calc","nested")},84656:function(G,H,e){var m=e(67792).gl_heatmap2d,P=e(54460),s=e(43080);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=m(r.glplot,this.options),this.heatmap._trace=this}var S=L.prototype;S.handlePick=function(r){var t=this.options,i=t.shape,n=r.pointId,f=n%i[0],u=Math.floor(n/i[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},S.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=i.z;this.options.z=[].concat.apply([],n);var f=n[0].length,u=n.length;this.options.shape=[f,u],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,h=this.scene.yaxis,T,c;r.zsmooth===!1&&(T={ppad:i.x[1]-i.x[0]},c={ppad:i.y[1]-i.y[0]}),r._extremes[g._id]=P.findExtremes(g,i.x,T),r._extremes[h._id]=P.findExtremes(h,i.y,c)},S.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,i=r.zmin,n=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),g=0;g<f;g++){var h=t[g],T=s(h[1]);u[g]=i+h[0]*(n-i);for(var c=0;c<4;c++)l[4*g+c]=T[c]}return{colorLevels:u,colorValues:l}}function p(r,t,i){var n=new L(r,t.uid);return n.update(t,i),n}G.exports=p},86464:function(G,H,e){var m=e(3400),P=e(51264),s=e(27260),L=e(74512);G.exports=function(v,p,r,t){function i(f,u){return m.coerce(v,p,L,f,u)}var n=P(v,p,i,t);if(!n){p.visible=!1;return}i("text"),i("zsmooth"),s(v,p,t,i,{prefix:"",cLetter:"z"})}},45536:function(G,H,e){G.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(G,H,e){var m=e(20832),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(21776).Gw,S=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},m.text,{}),hovertext:r({},m.hovertext,{}),orientation:m.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},m.textposition,{arrayOk:!1}),textfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:m.insidetextanchor,textangle:m.textangle,cliponaxis:m.cliponaxis,constraintext:m.constraintext,marker:m.marker,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:m.selected,unselected:m.unselected,_deprecated:{bardir:m._deprecated.bardir},zorder:m.zorder}},2e3:function(G){G.exports=function(e,m){for(var P=e.length,s=0,L=0;L<P;L++)m[L]?(e[L]/=m[L],s+=e[L]):e[L]=null;return s}},11120:function(G){G.exports=function(e,m){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(G,H,e){var m=e(38248);G.exports={count:function(P,s,L){return L[P]++,1},sum:function(P,s,L,S){var v=S[s];return m(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,s,L,S,v){var p=S[s];return m(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,s,L,S){var v=S[s];if(m(v))if(v=Number(v),m(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,s,L,S){var v=S[s];if(m(v))if(v=Number(v),m(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},67712:function(G,H,e){var m=e(39032),P=m.ONEAVGYEAR,s=m.ONEAVGMONTH,L=m.ONEDAY,S=m.ONEHOUR,v=m.ONEMIN,p=m.ONESEC,r=e(54460).tickIncrement;G.exports=function(l,g,h,T,c){var a=-1.1*g,d=-.1*g,x=l-d,w=h[0],C=h[1],y=Math.min(t(w+d,w+x,T,c),t(C+d,C+x,T,c)),M=Math.min(t(w+a,w+d,T,c),t(C+a,C+d,T,c)),A,o;if(y>M&&M<Math.abs(C-w)/4e3?(A=y,o=!1):(A=Math.min(y,M),o=!0),T.type==="date"&&A>L){var E=A===P?1:6,b=A===P?"M12":"M1";return function(I,D){var N=T.c2d(I,P,c),k=N.indexOf("-",E);k>0&&(N=N.substr(0,k));var O=T.d2c(N,0,c);if(O<I){var F=r(O,b,!1,c);(O+F)/2<I+l&&(O=F)}return D&&o?r(O,b,!0,c):O}}return function(I,D){var N=A*Math.round(I/A);return N+A/10<I&&N+A*.9<I+l&&(N+=A),D&&o&&(N-=A),N}};function t(u,l,g,h){if(u*l<=0)return 1/0;for(var T=Math.abs(l-u),c=g.type==="date",a=i(T,c),d=0;d<10;d++){var x=i(a*80,c);if(a===x)break;if(n(x,u,l,c,g,h))a=x;else break}return a}function i(u,l){return l&&u>p?u>L?u>P*1.1?P:u>s*1.1?s:L:u>S?S:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,g,h,T,c){if(h&&u>L){var a=f(l,T,c),d=f(g,T,c),x=u===P?0:1;return a[x]!==d[x]}return Math.floor(g/u)-Math.floor(l/u)>.1}function f(u,l,g){var h=l.c2d(u,P,g).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(G,H,e){var m=e(38248),P=e(3400),s=e(24040),L=e(54460),S=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function i(g,h){var T=[],c=[],a=h.orientation==="h",d=L.getFromId(g,a?h.yaxis:h.xaxis),x=a?"y":"x",w={x:"y",y:"x"}[x],C=h[x+"calendar"],y=h.cumulative,M,A=n(g,h,d,x),o=A[0],E=A[1],b=typeof o.size=="string",I=[],D=b?I:o,N=[],k=[],O=[],F=0,z=h.histnorm,B=h.histfunc,W=z.indexOf("density")!==-1,J,re,ne;y.enabled&&W&&(z=z.replace(/ ?density$/,""),W=!1);var le=B==="max"||B==="min",$=le?null:0,K=v.count,ie=p[z],Y=!1,Q=function(Ie){return d.r2c(Ie,0,C)},oe;for(P.isArrayOrTypedArray(h[w])&&B!=="count"&&(oe=h[w],Y=B==="avg",K=v[B]),M=Q(o.start),re=Q(o.end)+(M-L.tickIncrement(M,o.size,!1,C))/1e6;M<re&&T.length<1e6&&(J=L.tickIncrement(M,o.size,!1,C),T.push((M+J)/2),c.push($),O.push([]),I.push(M),W&&N.push(1/(J-M)),Y&&k.push(0),!(J<=M));)M=J;I.push(M),!b&&d.type==="date"&&(D={start:Q(D.start),end:Q(D.end),size:D.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var X=h["_"+x+"bingroup"],j={leftGap:1/0,rightGap:1/0};X&&(g._fullLayout._roundFnOpts[X]||(g._fullLayout._roundFnOpts[X]=j),j=g._fullLayout._roundFnOpts[X]);var se=c.length,te=!0,fe=j.leftGap,ge=j.rightGap,be={};for(M=0;M<E.length;M++){var xe=E[M];ne=P.findBin(xe,D),ne>=0&&ne<se&&(F+=K(ne,M,c,oe,k),te&&O[ne].length&&xe!==E[O[ne][0]]&&(te=!1),O[ne].push(M),be[M]=ne,fe=Math.min(fe,xe-I[ne]),ge=Math.min(ge,I[ne+1]-xe))}j.leftGap=fe,j.rightGap=ge;var _e;te||(_e=function(Ie,Me){return function(){var Ve=g._fullLayout._roundFnOpts[X];return t(Ve.leftGap,Ve.rightGap,I,d,C)(Ie,Me)}}),Y&&(F=r(c,k)),ie&&ie(c,F,N),y.enabled&&l(c,y.direction,y.currentbin);var De=Math.min(T.length,c.length),Fe=[],Te=0,Re=De-1;for(M=0;M<De;M++)if(c[M]){Te=M;break}for(M=De-1;M>=Te;M--)if(c[M]){Re=M;break}for(M=Te;M<=Re;M++)if(m(T[M])&&m(c[M])){var Se={p:T[M],s:c[M],b:0};y.enabled||(Se.pts=O[M],te?Se.ph0=Se.ph1=O[M].length?E[O[M][0]]:T[M]:(h._computePh=!0,Se.ph0=_e(I[M]),Se.ph1=_e(I[M+1],!0))),Fe.push(Se)}return Fe.length===1&&(Fe[0].width1=L.tickIncrement(Fe[0].p,o.size,!1,C)-Fe[0].p),S(Fe,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Fe,h,be),Fe}function n(g,h,T,c,a){var d=c+"bins",x=g._fullLayout,w=h["_"+c+"bingroup"],C=x._histogramBinOpts[w],y=x.barmode==="overlay",M,A,o,E,b,I,D,N=function(xe){return T.r2c(xe,0,E)},k=function(xe){return T.c2r(xe,0,E)},O=T.type==="date"?function(xe){return xe||xe===0?P.cleanDate(xe,null,E):null}:function(xe){return m(xe)?Number(xe):null};function F(xe,_e,De){_e[xe+"Found"]?(_e[xe]=O(_e[xe]),_e[xe]===null&&(_e[xe]=De[xe])):(I[xe]=_e[xe]=De[xe],P.nestedProperty(A[0],d+"."+xe).set(De[xe]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{A=C.traces;var z=[],B=!0,W=!1,J=!1;for(M=0;M<A.length;M++)if(o=A[M],o.visible){var re=C.dirs[M];b=o["_"+re+"pos0"]=T.makeCalcdata(o,re),z=P.concat(z,b),delete o["_"+c+"autoBinFinished"],h.visible===!0&&(B?B=!1:(delete o._autoBin,o["_"+c+"autoBinFinished"]=1),s.traceIs(o,"2dMap")&&(W=!0),o.type==="histogram2dcontour"&&(J=!0))}E=A[0][c+"calendar"];var ne=L.autoBin(z,T,C.nbins,W,E,C.sizeFound&&C.size),le=A[0]._autoBin={};if(I=le[C.dirs[0]]={},J&&(C.size||(ne.start=k(L.tickIncrement(N(ne.start),ne.size,!0,E))),C.end===void 0&&(ne.end=k(L.tickIncrement(N(ne.end),ne.size,!1,E)))),y&&!s.traceIs(h,"2dMap")&&ne._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(a)return[ne,b,!0];ne=f(g,h,T,c,d)}D=o.cumulative||{},D.enabled&&D.currentbin!=="include"&&(D.direction==="decreasing"?ne.start=k(L.tickIncrement(N(ne.start),ne.size,!0,E)):ne.end=k(L.tickIncrement(N(ne.end),ne.size,!1,E))),C.size=ne.size,C.sizeFound||(I.size=ne.size,P.nestedProperty(A[0],d+".size").set(ne.size)),F("start",C,ne),F("end",C,ne)}b=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var $=h._input[d]||{},K=P.extendFlat({},C),ie=C.start,Y=T.r2l($.start),Q=Y!==void 0;if((C.startFound||Q)&&Y!==T.r2l(ie)){var oe=Q?Y:P.aggNums(Math.min,null,b),X={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:C.size,tick0:ie,calendar:E,range:[oe,L.tickIncrement(oe,C.size,!1,E)].map(T.l2r)},j=L.tickFirst(X);j>T.r2l(oe)&&(j=L.tickIncrement(j,C.size,!0,E)),K.start=T.l2r(j),Q||P.nestedProperty(h,d+".start").set(K.start)}var se=C.end,te=T.r2l($.end),fe=te!==void 0;if((C.endFound||fe)&&te!==T.r2l(se)){var ge=fe?te:P.aggNums(Math.max,null,b);K.end=T.l2r(ge),fe||P.nestedProperty(h,d+".start").set(K.end)}var be="autobin"+c;return h._input[be]===!1&&(h._input[d]=P.extendFlat({},h[d]||{}),delete h._input[be],delete h[be]),[K,b]}function f(g,h,T,c,a){var d=g._fullLayout,x=u(g,h),w=!1,C=1/0,y=[h],M,A,o;for(M=0;M<x.length;M++)if(A=x[M],A===h)w=!0;else if(!w)o=d._histogramBinOpts[A["_"+c+"bingroup"]],C=Math.min(C,o.size||A[a].size);else{var E=n(g,A,T,c,!0),b=E[0],I=E[2];A["_"+c+"autoBinFinished"]=1,A["_"+c+"pos0"]=E[1],I?y.push(A):C=Math.min(C,b.size)}var D=new Array(y.length);for(M=0;M<y.length;M++)for(var N=y[M]["_"+c+"pos0"],k=0;k<N.length;k++)if(N[k]!==void 0){D[M]=N[k];break}for(isFinite(C)||(C=P.distinctVals(D).minDiff),M=0;M<y.length;M++){A=y[M];var O=A[c+"calendar"],F={start:T.c2r(D[M]-C/2,0,O),end:T.c2r(D[M]+C/2,0,O),size:C};A._input[a]=A[a]=F,o=d._histogramBinOpts[A["_"+c+"bingroup"]],o&&P.extendFlat(o,F)}return h[a]}function u(g,h){for(var T=h.xaxis,c=h.yaxis,a=h.orientation,d=[],x=g._fullData,w=0;w<x.length;w++){var C=x[w];C.type==="histogram"&&C.visible===!0&&C.orientation===a&&C.xaxis===T&&C.yaxis===c&&d.push(C)}return d}function l(g,h,T){var c,a,d;function x(C){d=g[C],g[C]/=2}function w(C){a=g[C],g[C]=d+a/2,d+=a}if(T==="half")if(h==="increasing")for(x(0),c=1;c<g.length;c++)w(c);else for(x(g.length-1),c=g.length-2;c>=0;c--)w(c);else if(h==="increasing"){for(c=1;c<g.length;c++)g[c]+=g[c-1];T==="exclude"&&(g.unshift(0),g.pop())}else{for(c=g.length-2;c>=0;c--)g[c]+=g[c+1];T==="exclude"&&(g.push(0),g.shift())}}G.exports={calc:i,calcAllAutoBins:n}},73316:function(G){G.exports={eventDataKeys:["binNumber"]}},80536:function(G,H,e){var m=e(3400),P=e(79811),s=e(24040).traceIs,L=e(20011),S=e(31508).validateCornerradius,v=m.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(n,f){var u=f._histogramBinOpts={},l=[],g={},h=[],T,c,a,d,x,w,C;function y(ne,le){return m.coerce(T._input,T,T._module.attributes,ne,le)}function M(ne){return ne.orientation==="v"?"x":"y"}function A(ne,le){var $=P.getFromTrace({_fullLayout:f},ne,le);return $.type}function o(ne,le,$){var K=ne.uid+"__"+$;le||(le=K);var ie=A(ne,$),Y=ne[$+"calendar"]||"",Q=u[le],oe=!0;Q&&(ie===Q.axType&&Y===Q.calendar?(oe=!1,Q.traces.push(ne),Q.dirs.push($)):(le=K,ie!==Q.axType&&m.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+ie,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),Y!==Q.calendar&&m.warn(["Attempted to group the bins of trace",ne.index,"set with a",Y,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(u[le]={traces:[ne],dirs:[$],axType:ie,calendar:ne[$+"calendar"]||""}),ne["_"+$+"bingroup"]=le}for(x=0;x<n.length;x++)if(T=n[x],s(T,"histogram")){if(l.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var E=y("marker.cornerradius",f.barcornerradius);T.marker&&(T.marker.cornerradius=S(E))}s(T,"2dMap")||L(T._input,T,f,y)}var b=f._alignmentOpts||{};for(x=0;x<l.length;x++){if(T=l[x],a="",!s(T,"2dMap")){if(d=M(T),f.barmode==="group"&&T.alignmentgroup){var I=T[d+"axis"],D=p(f,I)+T.orientation;(b[D]||{})[T.alignmentgroup]&&(a=D)}!a&&f.barmode!=="overlay"&&(a=p(f,T.xaxis)+p(f,T.yaxis)+M(T))}a?(g[a]||(g[a]=[]),g[a].push(T)):h.push(T)}for(a in g){if(c=g[a],c.length===1){h.push(c[0]);continue}var N=!1;for(c.length&&(T=c[0],N=y("bingroup")),a=N||a,x=0;x<c.length;x++){T=c[x];var k=T._input.bingroup;k&&k!==a&&m.warn(["Trace",T.index,"must match","within bingroup",a+".","Ignoring its bingroup:",k,"setting."].join(" ")),T.bingroup=a,o(T,a,M(T))}}for(x=0;x<h.length;x++){T=h[x];var O=y("bingroup");if(s(T,"2dMap"))for(C=0;C<2;C++){d=t[C];var F=y(d+"bingroup",O?O+"__"+d:null);o(T,F,d)}else o(T,O,M(T))}for(a in u){var z=u[a];for(c=z.traces,w=0;w<r.length;w++){var B=r[w],W=B.name,J,re;if(!(W==="nbins"&&z.sizeFound)){for(x=0;x<c.length;x++){if(T=c[x],d=z.dirs[x],J=B.aStr[d],v(T._input,J).get()!==void 0){z[W]=y(J),z[W+"Found"]=!0;break}re=(T._autoBin||{})[d]||{},re[W]&&v(T,J).set(re[W])}if(W==="start"||W==="end")for(;x<c.length;x++)T=c[x],T["_"+d+"bingroup"]&&(re=(T._autoBin||{})[d]||{},y(J,re[W]));W==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(T=c[0],z[W]=y(J))}}}}},6616:function(G,H,e){var m=e(24040),P=e(3400),s=e(76308),L=e(31508).handleText,S=e(55592),v=e(40196);G.exports=function(r,t,i,n){function f(M,A){return P.coerce(r,t,v,M,A)}var u=f("x"),l=f("y"),g=f("cumulative.enabled");g&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");L(r,t,n,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var T=f("orientation",l&&!u?"h":"v"),c=T==="v"?"x":"y",a=T==="v"?"y":"x",d=u&&l?Math.min(P.minRowLength(u)&&P.minRowLength(l)):P.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var x=m.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],n);var w=t[a];w&&f("histfunc"),f("histnorm"),f("autobin"+c),S(r,t,f,i,n),P.coerceSelectionMarkerOpacity(t,f);var C=(t.marker.line||{}).color,y=m.getComponentMethod("errorbars","supplyDefaults");y(r,t,C||s.defaultLine,{axis:"y"}),y(r,t,C||s.defaultLine,{axis:"x",inherit:"y"}),f("zorder")}},84980:function(G){G.exports=function(e,m,P,s,L){if(e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"zLabelVal"in m&&(e.z=m.zLabelVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),!(P.cumulative||{}).enabled){var S=Array.isArray(L)?s[0].pts[L[0]][L[1]]:s[L].pts;e.pointNumbers=S,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<S.length;p++)v=v.concat(P._indexToPoints[S[p]])}else v=S;e.pointIndices=v}return e}},43339:function(G,H,e){var m=e(63400).hoverPoints,P=e(54460).hoverLabelText;G.exports=function(L,S,v,p,r){var t=m(L,S,v,p,r);if(t){L=t[0];var i=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";L[f+"Label"]=P(L[f+"a"],[i.ph0,i.ph1],n[f+"hoverformat"])}return t}}},42600:function(G,H,e){G.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(G){G.exports={percent:function(H,e){for(var m=H.length,P=100/e,s=0;s<m;s++)H[s]*=P},probability:function(H,e){for(var m=H.length,P=0;P<m;P++)H[P]/=e},density:function(H,e,m,P){var s=H.length;P=P||1;for(var L=0;L<s;L++)H[L]*=m[L]*P},"probability density":function(H,e,m,P){var s=H.length;P&&(e/=P);for(var L=0;L<s;L++)H[L]*=m[L]/e}}},37008:function(G,H,e){var m=e(40196),P=e(11120),s=e(83328),L=e(45464),S=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;G.exports=t({x:m.x,y:m.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:m.histnorm,histfunc:m.histfunc,nbinsx:m.nbinsx,xbins:P("x"),nbinsy:m.nbinsy,ybins:P("y"),autobinx:m.autobinx,autobiny:m.autobiny,bingroup:t({},m.bingroup,{}),xbingroup:t({},m.bingroup,{}),ybingroup:t({},m.bingroup,{}),xgap:s.xgap,ygap:s.ygap,zsmooth:s.zsmooth,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:s.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(G,H,e){var m=e(3400),P=e(54460),s=e(16964),L=e(10648),S=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;G.exports=function(f,u){var l=P.getFromId(f,u.xaxis),g=P.getFromId(f,u.yaxis),h=u.xcalendar,T=u.ycalendar,c=function(We){return l.r2c(We,0,h)},a=function(We){return g.r2c(We,0,T)},d=function(We){return l.c2r(We,0,h)},x=function(We){return g.c2r(We,0,T)},w,C,y,M,A=p(f,u,l,"x"),o=A[0],E=A[1],b=p(f,u,g,"y"),I=b[0],D=b[1],N=u._length;E.length>N&&E.splice(N,E.length-N),D.length>N&&D.splice(N,D.length-N);var k=[],O=[],F=[],z=typeof o.size=="string",B=typeof I.size=="string",W=[],J=[],re=z?W:o,ne=B?J:I,le=0,$=[],K=[],ie=u.histnorm,Y=u.histfunc,Q=ie.indexOf("density")!==-1,oe=Y==="max"||Y==="min",X=oe?null:0,j=s.count,se=L[ie],te=!1,fe=[],ge=[],be="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";be&&Y!=="count"&&(te=Y==="avg",j=s[Y]);var xe=o.size,_e=c(o.start),De=c(o.end)+(_e-P.tickIncrement(_e,xe,!1,h))/1e6;for(w=_e;w<De;w=P.tickIncrement(w,xe,!1,h))O.push(X),W.push(w),te&&F.push(0);W.push(w);var Fe=O.length,Te=(w-_e)/Fe,Re=d(_e+Te/2),Se=I.size,Ie=a(I.start),Me=a(I.end)+(Ie-P.tickIncrement(Ie,Se,!1,T))/1e6;for(w=Ie;w<Me;w=P.tickIncrement(w,Se,!1,T)){k.push(O.slice()),J.push(w);var Ve=new Array(Fe);for(C=0;C<Fe;C++)Ve[C]=[];K.push(Ve),te&&$.push(F.slice())}J.push(w);var et=k.length,it=(w-Ie)/et,Je=x(Ie+it/2);Q&&(fe=r(O.length,re,Te,z),ge=r(k.length,ne,it,B)),!z&&l.type==="date"&&(re=t(c,re)),!B&&g.type==="date"&&(ne=t(a,ne));var Qe=!0,ct=!0,ht=new Array(Fe),gt=new Array(et),Tt=1/0,Et=1/0,rt=1/0,ze=1/0;for(w=0;w<N;w++){var He=E[w],Ge=D[w];y=m.findBin(He,re),M=m.findBin(Ge,ne),y>=0&&y<Fe&&M>=0&&M<et&&(le+=j(y,w,k[M],be,$[M]),K[M][y].push(w),Qe&&(ht[y]===void 0?ht[y]=He:ht[y]!==He&&(Qe=!1)),ct&&(gt[M]===void 0?gt[M]=Ge:gt[M]!==Ge&&(ct=!1)),Tt=Math.min(Tt,He-W[y]),Et=Math.min(Et,W[y+1]-He),rt=Math.min(rt,Ge-J[M]),ze=Math.min(ze,J[M+1]-Ge))}if(te)for(M=0;M<et;M++)le+=S(k[M],$[M]);if(se)for(M=0;M<et;M++)se(k[M],le,fe,ge[M]);return{x:E,xRanges:i(W,Qe&&ht,Tt,Et,l,h),x0:Re,dx:Te,y:D,yRanges:i(J,ct&&gt,rt,ze,g,T),y0:Je,dy:it,z:k,pts:K}};function r(n,f,u,l){var g=new Array(n),h;if(l)for(h=0;h<n;h++)g[h]=1/(f[h+1]-f[h]);else{var T=1/u;for(h=0;h<n;h++)g[h]=T}return g}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function i(n,f,u,l,g,h){var T,c=n.length-1,a=new Array(c),d=v(u,l,n,g,h);for(T=0;T<c;T++){var x=(f||[])[T];a[T]=x===void 0?[d(n[T]),d(n[T+1],!0)]:[x,x]}return a}},99784:function(G,H,e){var m=e(3400),P=e(56408),s=e(82748),L=e(27260),S=e(39096),v=e(37008);G.exports=function(r,t,i,n){function f(u,l){return m.coerce(r,t,v,u,l)}P(r,t,f,n),t.visible!==!1&&(s(r,t,f,n),L(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),S(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(G,H,e){var m=e(55512),P=e(54460).hoverLabelText;G.exports=function(L,S,v,p,r){var t=m(L,S,v,p,r);if(t){L=t[0];var i=L.index,n=i[0],f=i[1],u=L.cd[0],l=u.trace,g=u.xRanges[f],h=u.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],l.xhoverformat),L.yLabel=P(L.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(G,H,e){G.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(G,H,e){var m=e(24040),P=e(3400);G.exports=function(L,S,v,p){var r=v("x"),t=v("y"),i=P.minRowLength(r),n=P.minRowLength(t);if(!i||!n){S.visible=!1;return}S._length=Math.min(i,n);var f=m.getComponentMethod("calendars","handleTraceDefaults");f(L,S,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(G,H,e){var m=e(37008),P=e(67104),s=e(49084),L=e(29736).axisHoverFormat,S=e(92880).extendFlat;G.exports=S({x:m.x,y:m.y,z:m.z,marker:m.marker,histnorm:m.histnorm,histfunc:m.histfunc,nbinsx:m.nbinsx,xbins:m.xbins,nbinsy:m.nbinsy,ybins:m.ybins,autobinx:m.autobinx,autobiny:m.autobiny,bingroup:m.bingroup,xbingroup:m.xbingroup,ybingroup:m.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:S({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:m.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},s("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(G,H,e){var m=e(3400),P=e(56408),s=e(84952),L=e(97680),S=e(39096),v=e(81220);G.exports=function(r,t,i,n){function f(l,g){return m.coerce(r,t,v,l,g)}function u(l){return m.coerce2(r,t,v,l)}P(r,t,f,n),t.visible!==!1&&(s(r,t,f,u),L(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&S(f,n))}},65664:function(G,H,e){G.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(49084),L=e(86968).u,S=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,i=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:i,editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:S.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:m({},{keys:r.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:S.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(G,H,e){var m=e(7316);H.name="icicle",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},73876:function(G,H,e){var m=e(3776);H.r=function(P,s){return m.calc(P,s)},H.q=function(P){return m._runCrossTraceCalc("icicle",P)}},7045:function(G,H,e){var m=e(3400),P=e(97376),s=e(76308),L=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;G.exports=function(f,u,l,g){function h(y,M){return m.coerce(f,u,P,y,M)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var a=h("values");a&&a.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),u.texttemplate||h("textinfo",m.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),w="auto";S(f,u,g,h,w,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(f,u,g,h);var C=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;C&&i(f,u,g,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),u._hovered={marker:{line:{width:2,color:s.contrast(g.paper_bgcolor)}}},x&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(u,g,h),u._length=null}},67880:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(72736),S=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,g,h,T){var c=T.width,a=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,M=T.hasTransition,A=T.handleSlicesExit,o=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,b=T.prevEntry,I={},D=u._context.staticPlot,N=u._fullLayout,k=l[0],O=k.trace,F=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,B=O.textposition.indexOf("bottom")!==-1,W=S(g,[c,a],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}),J=W.descendants(),re=1/0,ne=-1/0;J.forEach(function(Y){var Q=Y.depth;Q>=O._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(re=Math.min(re,Q),ne=Math.max(ne,Q))}),h=h.data(J,r.getPtId),O._maxVisibleLayers=isFinite(ne)?ne-re+1:0,h.enter().append("g").classed("slice",!0),A(h,n,I,[c,a],w),h.order();var le=null;if(M&&b){var $=r.getPtId(b);h.each(function(Y){le===null&&r.getPtId(Y)===$&&(le={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var K=function(){return le||{x0:0,x1:c,y0:0,y1:a}},ie=h;return M&&(ie=ie.transition().each("end",function(){var Y=m.select(this);r.setSliceCursor(Y,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ie.each(function(Y){Y._x0=d(Y.x0),Y._x1=d(Y.x1),Y._y0=x(Y.y0),Y._y1=x(Y.y1),Y._hoverX=d(Y.x1-O.tiling.pad),Y._hoverY=x(B?Y.y1-O.tiling.pad/2:Y.y0+O.tiling.pad/2);var Q=m.select(this),oe=P.ensureSingle(Q,"path","surface",function(te){te.style("pointer-events",D?"none":"all")});M?oe.transition().attrTween("d",function(te){var fe=o(te,n,K(),[c,a],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(ge){return w(fe(ge))}}):oe.attr("d",w),Q.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),oe.call(v,Y,O,u,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=i(Y,g,O,l,N)||"";var X=P.ensureSingle(Q,"g","slicetext"),j=P.ensureSingle(X,"text","",function(te){te.attr("data-notex",1)}),se=P.ensureUniformFontSize(u,r.determineTextFont(O,Y,N.font));j.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":F?"start":"middle").call(s.font,se).call(L.convertToTspans,u),Y.textBB=s.bBox(j.node()),Y.transform=C(Y,{fontSize:se.size}),Y.transform.fontSize=se.size,M?j.transition().attrTween("transform",function(te){var fe=E(te,n,K(),[c,a]);return function(ge){return y(fe(ge))}}):j.attr("transform",y(Y))}),le}},29044:function(G,H,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(G,H,e){var m=e(3400),P=e(90676);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("iciclecolorway",S.colorway),v("extendiciclecolors")}},25132:function(G,H,e){var m=e(74148),P=e(83024);G.exports=function(L,S,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",i=v.maxDepth,n=S[0],f=S[1];i&&(n=(L.height+1)*S[0]/Math.min(L.height+1,i),f=(L.height+1)*S[1]/Math.min(L.height+1,i));var u=m.partition().padding(v.pad.inner).size(t?[S[1],n]:[S[0],f])(L);return(t||p||r)&&P(u,S,{swapXY:t,flipX:p,flipY:r}),u}},38364:function(G,H,e){var m=e(95808),P=e(67880);G.exports=function(L,S,v,p){return m(L,S,v,p,{type:"icicle",drawDescendants:P})}},47192:function(G,H,e){var m=e(33428),P=e(76308),s=e(3400),L=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(i){var n=m.select(this),f=i[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){m.select(this).call(p,l,u,r)})})}function p(r,t,i,n){var f=t.data.data,u=!t.children,l=f.i,g=s.castOption(i,l,"marker.line.color")||P.defaultLine,h=s.castOption(i,l,"marker.line.width")||0;r.call(S,t,i,n).style("stroke-width",h).call(P.stroke,g).style("opacity",u?i.leaf.opacity:null)}G.exports={style:v,styleOne:p}},95188:function(G,H,e){for(var m=e(45464),P=e(52904).zorder,s=e(21776).Ks,L=e(92880).extendFlat,S=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],p=[],r=[],t=0;t<v.length;t++){var i=S[v[t]];p.push("For the `"+v[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}G.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},m.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:s({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(G,H,e){var m=e(3400),P=e(47797),s=e(38248),L=e(54460),S=e(3400).maxRowLength,v=e(18712).i;G.exports=function(n,f){var u,l;if(f._hasZ)u=f.z.length,l=S(f.z);else if(f._hasSource){var g=v(f.source);u=g.height,l=g.width}var h=L.getFromId(n,f.xaxis||"x"),T=L.getFromId(n,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,a=T.d2c(f.y0)-f.dy/2,d,x=[c,c+l*f.dx],w=[a,a+u*f.dy];if(h&&h.type==="log")for(d=0;d<l;d++)x.push(c+d*f.dx);if(T&&T.type==="log")for(d=0;d<u;d++)w.push(a+d*f.dy);f._extremes[h._id]=L.findExtremes(h,x),f._extremes[T._id]=L.findExtremes(T,w),f._scaler=t(f);var C={x0:c,y0:a,z:f.z,w:l,h:u};return[C]};function p(i,n,f,u){return function(l){return m.constrain((l-i)*n,f,u)}}function r(i,n){return function(f){return m.constrain(f,i,n)}}function t(i){var n=P.colormodel[i.colormodel],f=n.colormodel||i.colormodel,u=f.length;i._sArray=[];for(var l=0;l<u;l++)n.min[l]!==i.zmin[l]||n.max[l]!==i.zmax[l]?i._sArray.push(p(i.zmin[l],(n.max[l]-n.min[l])/(i.zmax[l]-i.zmin[l]),n.min[l],n.max[l])):i._sArray.push(r(n.min[l],n.max[l]));return function(g){for(var h=g.slice(0,u),T=0;T<u;T++){var c=h[T];if(!s(c))return!1;h[T]=i._sArray[T](c)}return h}}},47797:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(G,H,e){var m=e(3400),P=e(95188),s=e(47797),L=e(81792).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,f){return m.coerce(v,p,P,n,f)}r("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;p._hasZ?(r("colormodel","rgb"),i=s.colormodel[p.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):p._hasSource&&(p.colormodel="rgba256",i=s.colormodel[p.colormodel],p.zmin=i.zminDflt,p.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null,r("zorder")}},79972:function(G){G.exports=function(e,m){return"xVal"in m&&(e.x=m.xVal),"yVal"in m&&(e.y=m.yVal),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e.color=m.color,e.colormodel=m.trace.colormodel,e.z||(e.z=m.color),e}},18712:function(G,H,e){var m=e(19480),P=e(81792).IMAGE_URL_PREFIX,s=e(33576).Buffer;H.i=function(L){var S=L.replace(P,""),v=new s(S,"base64");return m(v)}},24892:function(G,H,e){var m=e(93024),P=e(3400),s=P.isArrayOrTypedArray,L=e(47797);G.exports=function(v,p,r){var t=v.cd[0],i=t.trace,n=v.xa,f=v.ya;if(!(m.inbox(p-t.x0,p-(t.x0+t.w*i.dx),0)>0||m.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var u=Math.floor((p-t.x0)/i.dx),l=Math.floor(Math.abs(r-t.y0)/i.dy),g;if(i._hasZ?g=t.z[l][u]:i._hasSource&&(g=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!g){var h=t.hi||i.hoverinfo,T;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(T=!0)}var a=L.colormodel[i.colormodel],d=a.colormodel||i.colormodel,x=d.length,w=i._scaler(g),C=a.suffix,y=[];(i.hovertemplate||T)&&(y.push("["+[w[0]+C[0],w[1]+C[1],w[2]+C[2]].join(", ")),x===4&&y.push(", "+w[3]+C[3]),y.push("]"),y=y.join(""),v.extraText=d.toUpperCase()+": "+y);var M;s(i.hovertext)&&s(i.hovertext[l])?M=i.hovertext[l][u]:s(i.text)&&s(i.text[l])&&(M=i.text[l][u]);var A=f.c2p(t.y0+(l+.5)*i.dy),o=t.x0+(u+.5)*i.dx,E=t.y0+(l+.5)*i.dy,b="["+g.slice(0,i.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*i.dx),x1:n.c2p(t.x0+(u+1)*i.dx),y0:A,y1:A,color:w,xVal:o,xLabelVal:o,yVal:E,yLabelVal:E,zLabelVal:b,text:M,hovertemplateLabels:{zLabel:b,colorLabel:y,"color[0]Label":w[0]+C[0],"color[1]Label":w[1]+C[1],"color[2]Label":w[2]+C[2],"color[3]Label":w[3]+C[3]}})]}}}},48928:function(G,H,e){G.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(G,H,e){var m=e(33428),P=e(3400),s=P.strTranslate,L=e(9616),S=e(47797),v=e(9188),p=e(2264).STYLE;G.exports=function(t,i,n,f){var u=i.xaxis,l=i.yaxis,g=!t._context._exportedPlot&&v();P.makeTraceGroups(f,n,"im").each(function(h){var T=m.select(this),c=h[0],a=c.trace,d=(a.zsmooth==="fast"||a.zsmooth===!1&&g)&&!a._hasZ&&a._hasSource&&u.type==="linear"&&l.type==="linear";a._realImage=d;var x=c.z,w=c.x0,C=c.y0,y=c.w,M=c.h,A=a.dx,o=a.dy,E,b,I,D,N,k;for(k=0;E===void 0&&k<y;)E=u.c2p(w+k*A),k++;for(k=y;b===void 0&&k>0;)b=u.c2p(w+k*A),k--;for(k=0;D===void 0&&k<M;)D=l.c2p(C+k*o),k++;for(k=M;N===void 0&&k>0;)N=l.c2p(C+k*o),k--;if(b<E&&(I=b,b=E,E=I),N<D&&(I=D,D=N,N=I),!d){var O=.5;E=Math.max(-O*u._length,E),b=Math.min((1+O)*u._length,b),D=Math.max(-O*l._length,D),N=Math.min((1+O)*l._length,N)}var F=Math.round(b-E),z=Math.round(N-D),B=F<=0||z<=0;if(B){var W=T.selectAll("image").data([]);W.exit().remove();return}function J(X){var j=document.createElement("canvas");j.width=F,j.height=z;var se=j.getContext("2d",{willReadFrequently:!0}),te=function(Ie){return P.constrain(Math.round(u.c2p(w+Ie*A)-E),0,F)},fe=function(Ie){return P.constrain(Math.round(l.c2p(C+Ie*o)-D),0,z)},ge=S.colormodel[a.colormodel],be=ge.colormodel||a.colormodel,xe=ge.fmt,_e;for(k=0;k<c.w;k++){var De=te(k),Fe=te(k+1);if(!(Fe===De||isNaN(Fe)||isNaN(De)))for(var Te=0;Te<c.h;Te++){var Re=fe(Te),Se=fe(Te+1);Se===Re||isNaN(Se)||isNaN(Re)||!X(k,Te)||(_e=a._scaler(X(k,Te)),_e?se.fillStyle=be+"("+xe(_e).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(De,Re,Fe-De,Se-Re))}}return j}var re=T.selectAll("image").data([h]);re.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),re.exit().remove();var ne=a.zsmooth===!1?p:"";if(d){var le=P.simpleMap(u.range,u.r2l),$=P.simpleMap(l.range,l.r2l),K=le[1]<le[0],ie=$[1]>$[0];if(K||ie){var Y=E+F/2,Q=D+z/2;ne+="transform:"+s(Y+"px",Q+"px")+"scale("+(K?-1:1)+","+(ie?-1:1)+")"+s(-Y+"px",-Q+"px")+";"}}re.attr("style",ne);var oe=new Promise(function(X){if(a._hasZ)X();else if(a._hasSource)if(a._canvas&&a._canvas.el.width===y&&a._canvas.el.height===M&&a._canvas.source===a.source)X();else{var j=document.createElement("canvas");j.width=y,j.height=M;var se=j.getContext("2d",{willReadFrequently:!0});a._image=a._image||new Image;var te=a._image;te.onload=function(){se.drawImage(te,0,0),a._canvas={el:j,source:a.source},X()},te.setAttribute("src",a.source)}}).then(function(){var X,j;if(a._hasZ)j=J(function(fe,ge){var be=x[ge][fe];return P.isTypedArray(be)&&(be=Array.from(be)),be}),X=j.toDataURL("image/png");else if(a._hasSource)if(d)X=a.source;else{var se=a._canvas.el.getContext("2d",{willReadFrequently:!0}),te=se.getImageData(0,0,y,M).data;j=J(function(fe,ge){var be=4*(ge*y+fe);return[te[be],te[be+1],te[be+2],te[be+3]]}),X=j.toDataURL("image/png")}re.attr({"xlink:href":X,height:z,width:F,x:E,y:D})});t._promises.push(oe)})}},28576:function(G,H,e){var m=e(33428);G.exports=function(s){m.select(s).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},89864:function(G,H,e){var m=e(92880).extendFlat,P=e(92880).extendDeep,s=e(67824).overrideAll,L=e(25376),S=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),i=e(29736).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:S.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},f,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:m({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:m({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:m({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:s({range:u,visible:m({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:m({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:m({},f.line.color,{}),width:m({},f.line.width,{dflt:1}),editType:"plot"},thickness:m({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(G,H,e){var m=e(7316);H.name="indicator",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},79136:function(G){function H(e,m){var P=[],s=m.value;typeof m._lastValue!="number"&&(m._lastValue=m.value);var L=m._lastValue,S=L;return m._hasDelta&&typeof m.delta.reference=="number"&&(S=m.delta.reference),P[0]={y:s,lastY:L,delta:s-S,relativeDelta:(s-S)/S},P}G.exports={calc:H}},12096:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(G,H,e){var m=e(3400),P=e(89864),s=e(86968).Q,L=e(31780),S=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),i=e(42568);function n(u,l,g,h){function T(F,z){return m.coerce(u,l,P,F,z)}s(l,h,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=T("value");l._range=[0,typeof c=="number"?1.5*c:1];var a=new Array(2),d;if(l._hasNumber){T("number.valueformat");var x=m.extendFlat({},h.font);x.size=void 0,m.coerceFont(T,"number.font",x),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,a[0]=!0),T("number.prefix"),T("number.suffix"),d=l.number.font.size}var w;if(l._hasDelta){var C=m.extendFlat({},h.font);C.size=void 0,m.coerceFont(T,"delta.font",C),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),a[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),w=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||a[0])&&(!l._hasDelta||a[1])||!1;var y=m.extendFlat({},h.font);y.size=.25*(d||w||v.defaultNumberFontSize),m.coerceFont(T,"title.font",y),T("title.text");var M,A,o,E;function b(F,z){return m.coerce(M,A,P.gauge,F,z)}function I(F,z){return m.coerce(o,E,P.gauge.axis,F,z)}if(l._hasGauge){M=u.gauge,M||(M={}),A=L.newContainer(l,"gauge"),b("shape");var D=l._isBullet=l.gauge.shape==="bullet";D||T("title.align","center");var N=l._isAngular=l.gauge.shape==="angular";N||T("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);b("bar.thickness",k),S(M,A,{name:"steps",handleItemDefaults:f}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),o={},M&&(o=M.axis||{}),E=L.newContainer(A,"axis"),I("visible"),l._range=I("range",l._range);var O={font:h.font,noAutotickangles:!0,outerTicks:!0};p(o,E,I,"linear"),i(o,E,I,"linear",O),t(o,E,I,"linear",O),r(o,E,I,O)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function g(h,T){return m.coerce(u,l,P.gauge.steps,h,T)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}G.exports={supplyDefaults:n}},43480:function(G,H,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(G,H,e){var m=e(33428),P=e(67756).qy,s=e(67756).Gz,L=e(3400),S=L.strScale,v=L.strTranslate,p=L.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),i=e(12096),n=e(72736),f=e(54460),u=e(28336),l=e(37668),g=e(94724),h=e(76308),T={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},a=/[yzafpnµmkMGTPEZY]/;function d(D){return D&&D.duration>0}G.exports=function(N,k,O,F){var z=N._fullLayout,B;d(O)&&F&&(B=F()),L.makeTraceGroups(z._indicatorlayer,k,"trace").each(function(W){var J=W[0],re=J.trace,ne=m.select(this),le=re._hasGauge,$=re._isAngular,K=re._isBullet,ie=re.domain,Y={w:z._size.w*(ie.x[1]-ie.x[0]),h:z._size.h*(ie.y[1]-ie.y[0]),l:z._size.l+z._size.w*ie.x[0],r:z._size.r+z._size.w*(1-ie.x[1]),t:z._size.t+z._size.h*(1-ie.y[1]),b:z._size.b+z._size.h*ie.y[0]},Q=Y.l+Y.w/2,oe=Y.t+Y.h/2,X=Math.min(Y.w/2,Y.h),j=i.innerRadius*X,se,te,fe,ge=re.align||"center";if(te=oe,!le)se=Y.l+c[ge]*Y.w,fe=function(Me){return o(Me,Y.w,Y.h)};else if($&&(se=Q,te=oe+X/2,fe=function(Me){return E(Me,.9*j)}),K){var be=i.bulletPadding,xe=1-i.bulletNumberDomainSize+be;se=Y.l+(xe+(1-xe)*c[ge])*Y.w,fe=function(Me){return o(Me,(i.bulletNumberDomainSize-be)*Y.w,Y.h)}}C(N,ne,W,{numbersX:se,numbersY:te,numbersScaler:fe,transitionOpts:O,onComplete:B});var _e,De;le&&(_e={range:re.gauge.axis.range,color:re.gauge.bgcolor,line:{color:re.gauge.bordercolor,width:0},thickness:1},De={range:re.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:re.gauge.bordercolor,width:re.gauge.borderwidth},thickness:1});var Fe=ne.selectAll("g.angular").data($?W:[]);Fe.exit().remove();var Te=ne.selectAll("g.angularaxis").data($?W:[]);Te.exit().remove(),$&&w(N,ne,W,{radius:X,innerRadius:j,gauge:Fe,layer:Te,size:Y,gaugeBg:_e,gaugeOutline:De,transitionOpts:O,onComplete:B});var Re=ne.selectAll("g.bullet").data(K?W:[]);Re.exit().remove();var Se=ne.selectAll("g.bulletaxis").data(K?W:[]);Se.exit().remove(),K&&x(N,ne,W,{gauge:Re,layer:Se,size:Y,gaugeBg:_e,gaugeOutline:De,transitionOpts:O,onComplete:B});var Ie=ne.selectAll("text.title").data(W);Ie.exit().remove(),Ie.enter().append("text").classed("title",!0),Ie.attr("text-anchor",function(){return K?T.right:T[re.title.align]}).text(re.title.text).call(t.font,re.title.font).call(n.convertToTspans,N),Ie.attr("transform",function(){var Me=Y.l+Y.w*c[re.title.align],Ve,et=i.titlePadding,it=t.bBox(Ie.node());if(le){if($)if(re.gauge.axis.visible){var Je=t.bBox(Te.node());Ve=Je.top-et-it.bottom}else Ve=Y.t+Y.h/2-X/2-it.bottom-et;K&&(Ve=te-(it.top+it.bottom)/2,Me=Y.l-i.bulletPadding*Y.w)}else Ve=re._numbersTop-et-it.bottom;return v(Me,Ve)})})};function x(D,N,k,O){var F=k[0].trace,z=O.gauge,B=O.layer,W=O.gaugeBg,J=O.gaugeOutline,re=O.size,ne=F.domain,le=O.transitionOpts,$=O.onComplete,K,ie,Y,Q,oe;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(re.l,re.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var X=re.h,j=F.gauge.bar.thickness*X,se=ne.x[0],te=ne.x[0]+(ne.x[1]-ne.x[0])*(F._hasNumber||F._hasDelta?1-i.bulletNumberDomainSize:1);K=A(D,F.gauge.axis),K._id="xbulletaxis",K.domain=[se,te],K.setScale(),ie=f.calcTicks(K),Y=f.makeTransTickFn(K),Q=f.getTickSigns(K)[2],oe=re.t+re.h,K.visible&&(f.drawTicks(D,K,{vals:K.ticks==="inside"?f.clipEnds(K,ie):ie,layer:B,path:f.makeTickPath(K,oe,Q),transFn:Y}),f.drawLabels(D,K,{vals:ie,layer:B,transFn:Y,labelFns:f.makeLabelFns(K,oe)}));function fe(Te){Te.attr("width",function(Re){return Math.max(0,K.c2p(Re.range[1])-K.c2p(Re.range[0]))}).attr("x",function(Re){return K.c2p(Re.range[0])}).attr("y",function(Re){return .5*(1-Re.thickness)*X}).attr("height",function(Re){return Re.thickness*X})}var ge=[W].concat(F.gauge.steps),be=z.selectAll("g.bg-bullet").data(ge);be.enter().append("g").classed("bg-bullet",!0).append("rect"),be.select("rect").call(fe).call(y),be.exit().remove();var xe=z.selectAll("g.value-bullet").data([F.gauge.bar]);xe.enter().append("g").classed("value-bullet",!0).append("rect"),xe.select("rect").attr("height",j).attr("y",(X-j)/2).call(y),d(le)?xe.select("rect").transition().duration(le.duration).ease(le.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()}).attr("width",Math.max(0,K.c2p(Math.min(F.gauge.axis.range[1],k[0].y)))):xe.select("rect").attr("width",typeof k[0].y=="number"?Math.max(0,K.c2p(Math.min(F.gauge.axis.range[1],k[0].y))):0),xe.exit().remove();var _e=k.filter(function(){return F.gauge.threshold.value||F.gauge.threshold.value===0}),De=z.selectAll("g.threshold-bullet").data(_e);De.enter().append("g").classed("threshold-bullet",!0).append("line"),De.select("line").attr("x1",K.c2p(F.gauge.threshold.value)).attr("x2",K.c2p(F.gauge.threshold.value)).attr("y1",(1-F.gauge.threshold.thickness)/2*X).attr("y2",(1-(1-F.gauge.threshold.thickness)/2)*X).call(h.stroke,F.gauge.threshold.line.color).style("stroke-width",F.gauge.threshold.line.width),De.exit().remove();var Fe=z.selectAll("g.gauge-outline").data([J]);Fe.enter().append("g").classed("gauge-outline",!0).append("rect"),Fe.select("rect").call(fe).call(y),Fe.exit().remove()}function w(D,N,k,O){var F=k[0].trace,z=O.size,B=O.radius,W=O.innerRadius,J=O.gaugeBg,re=O.gaugeOutline,ne=[z.l+z.w/2,z.t+z.h/2+B/2],le=O.gauge,$=O.layer,K=O.transitionOpts,ie=O.onComplete,Y=Math.PI/2;function Q(Qe){var ct=F.gauge.axis.range[0],ht=F.gauge.axis.range[1],gt=(Qe-ct)/(ht-ct)*Math.PI-Y;return gt<-Y?-Y:gt>Y?Y:gt}function oe(Qe){return m.svg.arc().innerRadius((W+B)/2-Qe/2*(B-W)).outerRadius((W+B)/2+Qe/2*(B-W)).startAngle(-Y)}function X(Qe){Qe.attr("d",function(ct){return oe(ct.thickness).startAngle(Q(ct.range[0])).endAngle(Q(ct.range[1]))()})}var j,se,te,fe;le.enter().append("g").classed("angular",!0),le.attr("transform",v(ne[0],ne[1])),$.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),$.selectAll("g.xangularaxistick,path,text").remove(),j=A(D,F.gauge.axis),j.type="linear",j.range=F.gauge.axis.range,j._id="xangularaxis",j.ticklabeloverflow="allow",j.setScale();var ge=function(Qe){return(j.range[0]-Qe.x)/(j.range[1]-j.range[0])*Math.PI+Math.PI},be={},xe=f.makeLabelFns(j,0),_e=xe.labelStandoff;be.xFn=function(Qe){var ct=ge(Qe);return Math.cos(ct)*_e},be.yFn=function(Qe){var ct=ge(Qe),ht=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(_e+Qe.fontSize*ht)+Math.abs(Math.cos(ct))*(Qe.fontSize*r)},be.anchorFn=function(Qe){var ct=ge(Qe),ht=Math.cos(ct);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},be.heightFn=function(Qe,ct,ht){var gt=ge(Qe);return-.5*(1+Math.sin(gt))*ht};var De=function(Qe){return v(ne[0]+B*Math.cos(Qe),ne[1]-B*Math.sin(Qe))};te=function(Qe){return De(ge(Qe))};var Fe=function(Qe){var ct=ge(Qe);return De(ct)+"rotate("+-p(ct)+")"};if(se=f.calcTicks(j),fe=f.getTickSigns(j)[2],j.visible){fe=j.ticks==="inside"?-1:1;var Te=(j.linewidth||1)/2;f.drawTicks(D,j,{vals:se,layer:$,path:"M"+fe*Te+",0h"+fe*j.ticklen,transFn:Fe}),f.drawLabels(D,j,{vals:se,layer:$,transFn:te,labelFns:be})}var Re=[J].concat(F.gauge.steps),Se=le.selectAll("g.bg-arc").data(Re);Se.enter().append("g").classed("bg-arc",!0).append("path"),Se.select("path").call(X).call(y),Se.exit().remove();var Ie=oe(F.gauge.bar.thickness),Me=le.selectAll("g.value-arc").data([F.gauge.bar]);Me.enter().append("g").classed("value-arc",!0).append("path");var Ve=Me.select("path");d(K)?(Ve.transition().duration(K.duration).ease(K.easing).each("end",function(){ie&&ie()}).each("interrupt",function(){ie&&ie()}).attrTween("d",M(Ie,Q(k[0].lastY),Q(k[0].y))),F._lastValue=k[0].y):Ve.attr("d",typeof k[0].y=="number"?Ie.endAngle(Q(k[0].y)):"M0,0Z"),Ve.call(y),Me.exit().remove(),Re=[];var et=F.gauge.threshold.value;(et||et===0)&&Re.push({range:[et,et],color:F.gauge.threshold.color,line:{color:F.gauge.threshold.line.color,width:F.gauge.threshold.line.width},thickness:F.gauge.threshold.thickness});var it=le.selectAll("g.threshold-arc").data(Re);it.enter().append("g").classed("threshold-arc",!0).append("path"),it.select("path").call(X).call(y),it.exit().remove();var Je=le.selectAll("g.gauge-outline").data([re]);Je.enter().append("g").classed("gauge-outline",!0).append("path"),Je.select("path").call(X).call(y),Je.exit().remove()}function C(D,N,k,O){var F=k[0].trace,z=O.numbersX,B=O.numbersY,W=F.align||"center",J=T[W],re=O.transitionOpts,ne=O.onComplete,le=L.ensureSingle(N,"g","numbers"),$,K,ie,Y=[];F._hasNumber&&Y.push("number"),F._hasDelta&&(Y.push("delta"),F.delta.position==="left"&&Y.reverse());var Q=le.selectAll("text").data(Y);Q.enter().append("text"),Q.attr("text-anchor",function(){return J}).attr("class",function(De){return De}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Q.exit().remove();function oe(De,Fe,Te,Re){if(De.match("s")&&Te>=0!=Re>=0&&!Fe(Te).slice(-1).match(a)&&!Fe(Re).slice(-1).match(a)){var Se=De.slice().replace("s","f").replace(/\d+/,function(Me){return parseInt(Me)-1}),Ie=A(D,{tickformat:Se});return function(Me){return Math.abs(Me)<1?f.tickText(Ie,Me).text:Fe(Me)}}else return Fe}function X(){var De=A(D,{tickformat:F.number.valueformat},F._range);De.setScale(),f.prepTicks(De);var Fe=function(Me){return f.tickText(De,Me).text},Te=F.number.suffix,Re=F.number.prefix,Se=le.select("text.number");function Ie(){var Me=typeof k[0].y=="number"?Re+Fe(k[0].y)+Te:"-";Se.text(Me).call(t.font,F.number.font).call(n.convertToTspans,D)}return d(re)?Se.transition().duration(re.duration).ease(re.easing).each("end",function(){Ie(),ne&&ne()}).each("interrupt",function(){Ie(),ne&&ne()}).attrTween("text",function(){var Me=m.select(this),Ve=s(k[0].lastY,k[0].y);F._lastValue=k[0].y;var et=oe(F.number.valueformat,Fe,k[0].lastY,k[0].y);return function(it){Me.text(Re+et(Ve(it))+Te)}}):Ie(),$=b(Re+Fe(k[0].y)+Te,F.number.font,J,D),Se}function j(){var De=A(D,{tickformat:F.delta.valueformat},F._range);De.setScale(),f.prepTicks(De);var Fe=function(it){return f.tickText(De,it).text},Te=F.delta.suffix,Re=F.delta.prefix,Se=function(it){var Je=F.delta.relative?it.relativeDelta:it.delta;return Je},Ie=function(it,Je){return it===0||typeof it!="number"||isNaN(it)?"-":(it>0?F.delta.increasing.symbol:F.delta.decreasing.symbol)+Re+Je(it)+Te},Me=function(it){return it.delta>=0?F.delta.increasing.color:F.delta.decreasing.color};F._deltaLastValue===void 0&&(F._deltaLastValue=Se(k[0]));var Ve=le.select("text.delta");Ve.call(t.font,F.delta.font).call(h.fill,Me({delta:F._deltaLastValue}));function et(){Ve.text(Ie(Se(k[0]),Fe)).call(h.fill,Me(k[0])).call(n.convertToTspans,D)}return d(re)?Ve.transition().duration(re.duration).ease(re.easing).tween("text",function(){var it=m.select(this),Je=Se(k[0]),Qe=F._deltaLastValue,ct=oe(F.delta.valueformat,Fe,Qe,Je),ht=s(Qe,Je);return F._deltaLastValue=Je,function(gt){it.text(Ie(ht(gt),ct)),it.call(h.fill,Me({delta:ht(gt)}))}}).each("end",function(){et(),ne&&ne()}).each("interrupt",function(){et(),ne&&ne()}):et(),K=b(Ie(Se(k[0]),Fe),F.delta.font,J,D),Ve}var se=F.mode+F.align,te;if(F._hasDelta&&(te=j(),se+=F.delta.position+F.delta.font.size+F.delta.font.family+F.delta.valueformat,se+=F.delta.increasing.symbol+F.delta.decreasing.symbol,ie=K),F._hasNumber&&(X(),se+=F.number.font.size+F.number.font.family+F.number.valueformat+F.number.suffix+F.number.prefix,ie=$),F._hasDelta&&F._hasNumber){var fe=[($.left+$.right)/2,($.top+$.bottom)/2],ge=[(K.left+K.right)/2,(K.top+K.bottom)/2],be,xe,_e=.75*F.delta.font.size;F.delta.position==="left"&&(be=I(F,"deltaPos",0,-1*($.width*c[F.align]+K.width*(1-c[F.align])+_e),se,Math.min),xe=fe[1]-ge[1],ie={width:$.width+K.width+_e,height:Math.max($.height,K.height),left:K.left+be,right:$.right,top:Math.min($.top,K.top+xe),bottom:Math.max($.bottom,K.bottom+xe)}),F.delta.position==="right"&&(be=I(F,"deltaPos",0,$.width*(1-c[F.align])+K.width*c[F.align]+_e,se,Math.max),xe=fe[1]-ge[1],ie={width:$.width+K.width+_e,height:Math.max($.height,K.height),left:$.left,right:K.right+be,top:Math.min($.top,K.top+xe),bottom:Math.max($.bottom,K.bottom+xe)}),F.delta.position==="bottom"&&(be=null,xe=K.height,ie={width:Math.max($.width,K.width),height:$.height+K.height,left:Math.min($.left,K.left),right:Math.max($.right,K.right),top:$.bottom-$.height,bottom:$.bottom+K.height}),F.delta.position==="top"&&(be=null,xe=$.top,ie={width:Math.max($.width,K.width),height:$.height+K.height,left:Math.min($.left,K.left),right:Math.max($.right,K.right),top:$.bottom-$.height-K.height,bottom:$.bottom}),te.attr({dx:be,dy:xe})}(F._hasNumber||F._hasDelta)&&le.attr("transform",function(){var De=O.numbersScaler(ie);se+=De[2];var Fe=I(F,"numbersScale",1,De[0],se,Math.min),Te;F._scaleNumbers||(Fe=1),F._isAngular?Te=B-Fe*ie.bottom:Te=B-Fe*(ie.top+ie.bottom)/2,F._numbersTop=Fe*ie.top+Te;var Re=ie[W];W==="center"&&(Re=(ie.left+ie.right)/2);var Se=z-Fe*Re;return Se=I(F,"numbersTranslate",0,Se,se,Math.max),v(Se,Te)+S(Fe)})}function y(D){D.each(function(N){h.stroke(m.select(this),N.line.color)}).each(function(N){h.fill(m.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function M(D,N,k){return function(){var O=P(N,k);return function(F){return D.endAngle(O(F))()}}}function A(D,N,k){var O=D._fullLayout,F=L.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),z={type:"linear",_id:"x"+N._id},B={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(J,re){return L.coerce(F,z,g,J,re)}return u(F,z,W,B,O),l(F,z,W,B),z}function o(D,N,k){var O=Math.min(N/D.width,k/D.height);return[O,D,N+"x"+k]}function E(D,N){var k=Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),O=N/k;return[O,D,N]}function b(D,N,k,O){var F=document.createElementNS("http://www.w3.org/2000/svg","text"),z=m.select(F);return z.text(D).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",D).call(n.convertToTspans,O).call(t.font,N),t.bBox(z.node())}function I(D,N,k,O,F,z){var B="_cache"+N;D[B]&&D[B].key===F||(D[B]={key:F,value:k});var W=L.aggNums(z,null,[D[B].value,O],2);return D[B].value=W,W}},50048:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:s(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},S.showlegend,{dflt:!1})},m("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},S.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},62624:function(G,H,e){var m=e(47128),P=e(3832).processGrid,s=e(3832).filter;G.exports=function(S,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=s(v.x,v._len),v._y=s(v.y,v._len),v._z=s(v.z,v._len),v._value=s(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,i=0;i<v._len;i++){var n=v._value[i];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,m(S,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(G,H,e){var m=e(67792).gl_mesh3d,P=e(33040).parseColorScale,s=e(3400).isArrayOrTypedArray,L=e(43080),S=e(8932).extractOpts,v=e(52094),p=function(u,l){for(var g=l.length-1;g>0;g--){var h=Math.min(l[g],l[g-1]),T=Math.max(l[g],l[g-1]);if(T>h&&h<u&&u<=T)return{id:g,distRatio:(T-u)/(T-h)}}return{id:0,distRatio:0}};function r(u,l,g){this.scene=u,this.uid=g,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,g=this.data._meshX[l],h=this.data._meshY[l],T=this.data._meshZ[l],c=this.data._Ys.length,a=this.data._Zs.length,d=p(g,this.data._Xs).id,x=p(h,this.data._Ys).id,w=p(T,this.data._Zs).id,C=u.index=w+a*x+a*c*d;u.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var y=this.data.hovertext||this.data.text;return s(y)&&y[C]!==void 0?u.textLabel=y[C]:y&&(u.textLabel=y),!0}},t.update=function(u){var l=this.scene,g=l.fullSceneLayout;this.data=n(u);function h(x,w,C,y){return w.map(function(M){return x.d2l(M,0,y)*C})}var T=v(h(g.xaxis,u._meshX,l.dataScale[0],u.xcalendar),h(g.yaxis,u._meshY,l.dataScale[1],u.ycalendar),h(g.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),a={positions:T,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=S(u);a.vertexIntensity=u._meshIntensity,a.vertexIntensityBounds=[d.min,d.max],a.colormap=P(u),this.mesh.update(a)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,g=u.spaceframe.show,h=u.surface.fill,T=u.spaceframe.fill,c=!1,a=!1,d=0,x,w,C=u._Xs,y=u._Ys,M=u._Zs,A=C.length,o=y.length,E=M.length,b=i.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),I=function(Ge,We,Le){switch(b){case 5:return Le+E*We+E*o*Ge;case 4:return Le+E*Ge+E*A*We;case 3:return We+o*Le+o*E*Ge;case 2:return We+o*Ge+o*A*Le;case 1:return Ge+A*Le+A*E*We;default:return Ge+A*We+A*o*Le}},D=u._minValues,N=u._maxValues,k=u._vMin,O=u._vMax,F,z,B,W;function J(Ge,We,Le){for(var Pe=W.length,je=w;je<Pe;je++)if(Ge===F[je]&&We===z[je]&&Le===B[je])return je;return-1}function re(){w=x}function ne(){F=[],z=[],B=[],W=[],x=0,re()}function le(Ge,We,Le,Pe){return F.push(Ge),z.push(We),B.push(Le),W.push(Pe),x++,x-1}function $(Ge,We,Le){return u._meshI.push(Ge),u._meshJ.push(We),u._meshK.push(Le),d++,d-1}function K(Ge,We,Le){for(var Pe=[],je=0;je<Ge.length;je++)Pe[je]=(Ge[je]+We[je]+Le[je])/3;return Pe}function ie(Ge,We,Le){for(var Pe=[],je=0;je<Ge.length;je++)Pe[je]=Ge[je]*(1-Le)+Le*We[je];return Pe}var Y;function Q(Ge){Y=Ge}function oe(Ge,We){var Le=Ge[0],Pe=Ge[1],je=Ge[2],Ce=K(Le,Pe,je),he=Math.sqrt(1-Y),me=ie(Ce,Le,he),Ne=ie(Ce,Pe,he),$e=ie(Ce,je,he),ot=We[0],st=We[1],Wt=We[2];return{xyzv:[[Le,Pe,Ne],[Ne,me,Le],[Pe,je,$e],[$e,Ne,Pe],[je,Le,me],[me,$e,je]],abc:[[ot,st,-1],[-1,-1,ot],[st,Wt,-1],[-1,-1,st],[Wt,ot,-1],[-1,-1,Wt]]}}function X(Ge,We){return Ge==="all"||Ge===null?!0:Ge.indexOf(We)>-1}function j(Ge,We){return Ge===null?We:Ge}function se(Ge,We,Le){re();var Pe=[We],je=[Le];if(Y>=1)Pe=[We],je=[Le];else if(Y>0){var Ce=oe(We,Le);Pe=Ce.xyzv,je=Ce.abc}for(var he=0;he<Pe.length;he++){We=Pe[he],Le=je[he];for(var me=[],Ne=0;Ne<3;Ne++){var $e=We[Ne][0],ot=We[Ne][1],st=We[Ne][2],Wt=We[Ne][3],Pt=Le[Ne]>-1?Le[Ne]:J($e,ot,st);Pt>-1?me[Ne]=Pt:me[Ne]=le($e,ot,st,j(Ge,Wt))}$(me[0],me[1],me[2])}}function te(Ge,We,Le){var Pe=function(je,Ce,he){se(Ge,[We[je],We[Ce],We[he]],[Le[je],Le[Ce],Le[he]])};Pe(0,1,2),Pe(2,3,0)}function fe(Ge,We,Le){var Pe=function(je,Ce,he){se(Ge,[We[je],We[Ce],We[he]],[Le[je],Le[Ce],Le[he]])};Pe(0,1,2),Pe(3,0,1),Pe(2,3,0),Pe(1,2,3)}function ge(Ge,We,Le,Pe){var je=Ge[3];je<Le&&(je=Le),je>Pe&&(je=Pe);for(var Ce=(Ge[3]-je)/(Ge[3]-We[3]+1e-9),he=[],me=0;me<4;me++)he[me]=(1-Ce)*Ge[me]+Ce*We[me];return he}function be(Ge,We,Le){return Ge>=We&&Ge<=Le}function xe(Ge){var We=.001*(O-k);return Ge>=k-We&&Ge<=O+We}function _e(Ge){for(var We=[],Le=0;Le<4;Le++){var Pe=Ge[Le];We.push([u._x[Pe],u._y[Pe],u._z[Pe],u._value[Pe]])}return We}var De=3;function Fe(Ge,We,Le,Pe,je,Ce){Ce||(Ce=1),Le=[-1,-1,-1];var he=!1,me=[be(We[0][3],Pe,je),be(We[1][3],Pe,je),be(We[2][3],Pe,je)];if(!me[0]&&!me[1]&&!me[2])return!1;var Ne=function(ot,st,Wt){return xe(st[0][3])&&xe(st[1][3])&&xe(st[2][3])?(se(ot,st,Wt),!0):Ce<De?Fe(ot,st,Wt,k,O,++Ce):!1};if(me[0]&&me[1]&&me[2])return Ne(Ge,We,Le)||he;var $e=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ot){if(me[ot[0]]&&me[ot[1]]&&!me[ot[2]]){var st=We[ot[0]],Wt=We[ot[1]],Pt=We[ot[2]],dt=ge(Pt,st,Pe,je),Mt=ge(Pt,Wt,Pe,je);he=Ne(Ge,[Mt,dt,st],[-1,-1,Le[ot[0]]])||he,he=Ne(Ge,[st,Wt,Mt],[Le[ot[0]],Le[ot[1]],-1])||he,$e=!0}}),$e||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ot){if(me[ot[0]]&&!me[ot[1]]&&!me[ot[2]]){var st=We[ot[0]],Wt=We[ot[1]],Pt=We[ot[2]],dt=ge(Wt,st,Pe,je),Mt=ge(Pt,st,Pe,je);he=Ne(Ge,[Mt,dt,st],[-1,-1,Le[ot[0]]])||he,$e=!0}}),he}function Te(Ge,We,Le,Pe){var je=!1,Ce=_e(We),he=[be(Ce[0][3],Le,Pe),be(Ce[1][3],Le,Pe),be(Ce[2][3],Le,Pe),be(Ce[3][3],Le,Pe)];if(!he[0]&&!he[1]&&!he[2]&&!he[3])return je;if(he[0]&&he[1]&&he[2]&&he[3])return a&&(je=fe(Ge,Ce,We)||je),je;var me=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(he[Ne[0]]&&he[Ne[1]]&&he[Ne[2]]&&!he[Ne[3]]){var $e=Ce[Ne[0]],ot=Ce[Ne[1]],st=Ce[Ne[2]],Wt=Ce[Ne[3]];if(a)je=se(Ge,[$e,ot,st],[We[Ne[0]],We[Ne[1]],We[Ne[2]]])||je;else{var Pt=ge(Wt,$e,Le,Pe),dt=ge(Wt,ot,Le,Pe),Mt=ge(Wt,st,Le,Pe);je=se(null,[Pt,dt,Mt],[-1,-1,-1])||je}me=!0}}),me||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(he[Ne[0]]&&he[Ne[1]]&&!he[Ne[2]]&&!he[Ne[3]]){var $e=Ce[Ne[0]],ot=Ce[Ne[1]],st=Ce[Ne[2]],Wt=Ce[Ne[3]],Pt=ge(st,$e,Le,Pe),dt=ge(st,ot,Le,Pe),Mt=ge(Wt,ot,Le,Pe),Xt=ge(Wt,$e,Le,Pe);a?(je=se(Ge,[$e,Xt,Pt],[We[Ne[0]],-1,-1])||je,je=se(Ge,[ot,dt,Mt],[We[Ne[1]],-1,-1])||je):je=te(null,[Pt,dt,Mt,Xt],[-1,-1,-1,-1])||je,me=!0}}),me)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(he[Ne[0]]&&!he[Ne[1]]&&!he[Ne[2]]&&!he[Ne[3]]){var $e=Ce[Ne[0]],ot=Ce[Ne[1]],st=Ce[Ne[2]],Wt=Ce[Ne[3]],Pt=ge(ot,$e,Le,Pe),dt=ge(st,$e,Le,Pe),Mt=ge(Wt,$e,Le,Pe);a?(je=se(Ge,[$e,Pt,dt],[We[Ne[0]],-1,-1])||je,je=se(Ge,[$e,dt,Mt],[We[Ne[0]],-1,-1])||je,je=se(Ge,[$e,Mt,Pt],[We[Ne[0]],-1,-1])||je):je=se(null,[Pt,dt,Mt],[-1,-1,-1])||je,me=!0}}),je}function Re(Ge,We,Le,Pe,je,Ce,he,me,Ne,$e,ot){var st=!1;return c&&(X(Ge,"A")&&(st=Te(null,[We,Le,Pe,Ce],$e,ot)||st),X(Ge,"B")&&(st=Te(null,[Le,Pe,je,Ne],$e,ot)||st),X(Ge,"C")&&(st=Te(null,[Le,Ce,he,Ne],$e,ot)||st),X(Ge,"D")&&(st=Te(null,[Pe,Ce,me,Ne],$e,ot)||st),X(Ge,"E")&&(st=Te(null,[Le,Pe,Ce,Ne],$e,ot)||st)),a&&(st=Te(Ge,[Le,Pe,Ce,Ne],$e,ot)||st),st}function Se(Ge,We,Le,Pe,je,Ce,he,me){return[me[0]===!0?!0:Fe(Ge,_e([We,Le,Pe]),[We,Le,Pe],Ce,he),me[1]===!0?!0:Fe(Ge,_e([Pe,je,We]),[Pe,je,We],Ce,he)]}function Ie(Ge,We,Le,Pe,je,Ce,he,me,Ne){return me?Se(Ge,We,Le,je,Pe,Ce,he,Ne):Se(Ge,Le,je,Pe,We,Ce,he,Ne)}function Me(Ge,We,Le,Pe,je,Ce,he){var me=!1,Ne,$e,ot,st,Wt=function(){me=Fe(Ge,[Ne,$e,ot],[-1,-1,-1],je,Ce)||me,me=Fe(Ge,[ot,st,Ne],[-1,-1,-1],je,Ce)||me},Pt=he[0],dt=he[1],Mt=he[2];return Pt&&(Ne=ie(_e([I(We,Le-0,Pe-0)])[0],_e([I(We-1,Le-0,Pe-0)])[0],Pt),$e=ie(_e([I(We,Le-0,Pe-1)])[0],_e([I(We-1,Le-0,Pe-1)])[0],Pt),ot=ie(_e([I(We,Le-1,Pe-1)])[0],_e([I(We-1,Le-1,Pe-1)])[0],Pt),st=ie(_e([I(We,Le-1,Pe-0)])[0],_e([I(We-1,Le-1,Pe-0)])[0],Pt),Wt()),dt&&(Ne=ie(_e([I(We-0,Le,Pe-0)])[0],_e([I(We-0,Le-1,Pe-0)])[0],dt),$e=ie(_e([I(We-0,Le,Pe-1)])[0],_e([I(We-0,Le-1,Pe-1)])[0],dt),ot=ie(_e([I(We-1,Le,Pe-1)])[0],_e([I(We-1,Le-1,Pe-1)])[0],dt),st=ie(_e([I(We-1,Le,Pe-0)])[0],_e([I(We-1,Le-1,Pe-0)])[0],dt),Wt()),Mt&&(Ne=ie(_e([I(We-0,Le-0,Pe)])[0],_e([I(We-0,Le-0,Pe-1)])[0],Mt),$e=ie(_e([I(We-0,Le-1,Pe)])[0],_e([I(We-0,Le-1,Pe-1)])[0],Mt),ot=ie(_e([I(We-1,Le-1,Pe)])[0],_e([I(We-1,Le-1,Pe-1)])[0],Mt),st=ie(_e([I(We-1,Le-0,Pe)])[0],_e([I(We-1,Le-0,Pe-1)])[0],Mt),Wt()),me}function Ve(Ge,We,Le,Pe,je,Ce,he,me,Ne,$e,ot,st){var Wt=Ge;return st?(c&&Ge==="even"&&(Wt=null),Re(Wt,We,Le,Pe,je,Ce,he,me,Ne,$e,ot)):(c&&Ge==="odd"&&(Wt=null),Re(Wt,Ne,me,he,Ce,je,Pe,Le,We,$e,ot))}function et(Ge,We,Le,Pe,je){for(var Ce=[],he=0,me=0;me<We.length;me++)for(var Ne=We[me],$e=1;$e<E;$e++)for(var ot=1;ot<o;ot++)Ce.push(Ie(Ge,I(Ne,ot-1,$e-1),I(Ne,ot-1,$e),I(Ne,ot,$e-1),I(Ne,ot,$e),Le,Pe,(Ne+ot+$e)%2,je&&je[he]?je[he]:[])),he++;return Ce}function it(Ge,We,Le,Pe,je){for(var Ce=[],he=0,me=0;me<We.length;me++)for(var Ne=We[me],$e=1;$e<A;$e++)for(var ot=1;ot<E;ot++)Ce.push(Ie(Ge,I($e-1,Ne,ot-1),I($e,Ne,ot-1),I($e-1,Ne,ot),I($e,Ne,ot),Le,Pe,($e+Ne+ot)%2,je&&je[he]?je[he]:[])),he++;return Ce}function Je(Ge,We,Le,Pe,je){for(var Ce=[],he=0,me=0;me<We.length;me++)for(var Ne=We[me],$e=1;$e<o;$e++)for(var ot=1;ot<A;ot++)Ce.push(Ie(Ge,I(ot-1,$e-1,Ne),I(ot-1,$e,Ne),I(ot,$e-1,Ne),I(ot,$e,Ne),Le,Pe,(ot+$e+Ne)%2,je&&je[he]?je[he]:[])),he++;return Ce}function Qe(Ge,We,Le){for(var Pe=1;Pe<E;Pe++)for(var je=1;je<o;je++)for(var Ce=1;Ce<A;Ce++)Ve(Ge,I(Ce-1,je-1,Pe-1),I(Ce-1,je-1,Pe),I(Ce-1,je,Pe-1),I(Ce-1,je,Pe),I(Ce,je-1,Pe-1),I(Ce,je-1,Pe),I(Ce,je,Pe-1),I(Ce,je,Pe),We,Le,(Ce+je+Pe)%2)}function ct(Ge,We,Le){a=!0,Qe(Ge,We,Le),a=!1}function ht(Ge,We,Le){c=!0,Qe(Ge,We,Le),c=!1}function gt(Ge,We,Le,Pe,je,Ce){for(var he=[],me=0,Ne=0;Ne<We.length;Ne++)for(var $e=We[Ne],ot=1;ot<E;ot++)for(var st=1;st<o;st++)he.push(Me(Ge,$e,st,ot,Le,Pe,je[Ne],Ce&&Ce[me]?Ce[me]:[])),me++;return he}function Tt(Ge,We,Le,Pe,je,Ce){for(var he=[],me=0,Ne=0;Ne<We.length;Ne++)for(var $e=We[Ne],ot=1;ot<A;ot++)for(var st=1;st<E;st++)he.push(Me(Ge,ot,$e,st,Le,Pe,je[Ne],Ce&&Ce[me]?Ce[me]:[])),me++;return he}function Et(Ge,We,Le,Pe,je,Ce){for(var he=[],me=0,Ne=0;Ne<We.length;Ne++)for(var $e=We[Ne],ot=1;ot<o;ot++)for(var st=1;st<A;st++)he.push(Me(Ge,st,ot,$e,Le,Pe,je[Ne],Ce&&Ce[me]?Ce[me]:[])),me++;return he}function rt(Ge,We){for(var Le=[],Pe=Ge;Pe<We;Pe++)Le.push(Pe);return Le}function ze(){for(var Ge=0;Ge<A;Ge++)for(var We=0;We<o;We++)for(var Le=0;Le<E;Le++){var Pe=I(Ge,We,Le);le(u._x[Pe],u._y[Pe],u._z[Pe],u._value[Pe])}}function He(){ne(),ze();var Ge=null;if(g&&T&&(Q(T),ct(Ge,k,O)),l&&h){Q(h);for(var We=u.surface.pattern,Le=u.surface.count,Pe=0;Pe<Le;Pe++){var je=Le===1?.5:Pe/(Le-1),Ce=(1-je)*k+je*O,he=Math.abs(Ce-D),me=Math.abs(Ce-N),Ne=he>me?[D,Ce]:[Ce,N];ht(We,Ne[0],Ne[1])}}var $e=[[Math.min(k,N),Math.max(k,N)],[Math.min(D,O),Math.max(D,O)]];["x","y","z"].forEach(function(ot){for(var st=[],Wt=0;Wt<$e.length;Wt++){var Pt=0,dt=$e[Wt][0],Mt=$e[Wt][1],Xt=u.slices[ot];if(Xt.show&&Xt.fill){Q(Xt.fill);var nr=[],vt=[],Zt=[];if(Xt.locations.length)for(var Kt=0;Kt<Xt.locations.length;Kt++){var yr=p(Xt.locations[Kt],ot==="x"?C:ot==="y"?y:M);yr.distRatio===0?nr.push(yr.id):yr.id>0&&(vt.push(yr.id),ot==="x"?Zt.push([yr.distRatio,0,0]):ot==="y"?Zt.push([0,yr.distRatio,0]):Zt.push([0,0,yr.distRatio]))}else ot==="x"?nr=rt(1,A-1):ot==="y"?nr=rt(1,o-1):nr=rt(1,E-1);vt.length>0&&(ot==="x"?st[Pt]=gt(Ge,vt,dt,Mt,Zt,st[Pt]):ot==="y"?st[Pt]=Tt(Ge,vt,dt,Mt,Zt,st[Pt]):st[Pt]=Et(Ge,vt,dt,Mt,Zt,st[Pt]),Pt++),nr.length>0&&(ot==="x"?st[Pt]=et(Ge,nr,dt,Mt,st[Pt]):ot==="y"?st[Pt]=it(Ge,nr,dt,Mt,st[Pt]):st[Pt]=Je(Ge,nr,dt,Mt,st[Pt]),Pt++)}var or=u.caps[ot];or.show&&or.fill&&(Q(or.fill),ot==="x"?st[Pt]=et(Ge,[0,A-1],dt,Mt,st[Pt]):ot==="y"?st[Pt]=it(Ge,[0,o-1],dt,Mt,st[Pt]):st[Pt]=Je(Ge,[0,E-1],dt,Mt,st[Pt]),Pt++)}}),d===0&&ne(),u._meshX=F,u._meshY=z,u._meshZ=B,u._meshIntensity=W,u._Xs=C,u._Ys=y,u._Zs=M}return He(),u}function f(u,l){var g=u.glplot.gl,h=m({gl:g}),T=new r(u,h,l.uid);return h._trace=T,T.update(l),u.glplot.add(h),T}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(G,H,e){var m=e(3400),P=e(24040),s=e(50048),L=e(27260);function S(p,r,t,i){function n(f,u){return m.coerce(p,r,s,f,u)}v(p,r,t,i,n)}function v(p,r,t,i,n){var f=n("isomin"),u=n("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=n("x"),g=n("y"),h=n("z"),T=n("value");if(!l||!l.length||!g||!g.length||!h||!h.length||!T||!T.length){r.visible=!1;return}var c=P.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var C="caps."+w,y=n(C+".show");y&&n(C+".fill");var M="slices."+w,A=n(M+".show");A&&(n(M+".fill"),n(M+".locations"))});var a=n("spaceframe.show");a&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),L(p,r,i,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:S,supplyIsoDefaults:v}},6296:function(G,H,e){G.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(16716),S=e(45464),v=e(92880).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},m("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},S.hoverinfo,{editType:"calc"}),showlegend:v({},S.showlegend,{dflt:!1})})},1876:function(G,H,e){var m=e(47128);G.exports=function(s,L){L.intensity&&m(s,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},576:function(G,H,e){var m=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,s=e(67792).alpha_shape,L=e(67792).convex_hull,S=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function i(c,a,d){this.scene=c,this.uid=d,this.mesh=a,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(c){if(c.object===this.mesh){var a=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[a],this.data.y[a],this.data.z[a]];var d=this.data.hovertext||this.data.text;return v(d)&&d[a]!==void 0?c.textLabel=d[a]:d&&(c.textLabel=d),!0}};function f(c){for(var a=[],d=c.length,x=0;x<d;x++)a[x]=p(c[x]);return a}function u(c,a,d,x){for(var w=[],C=a.length,y=0;y<C;y++)w[y]=c.d2l(a[y],0,x)*d;return w}function l(c){for(var a=[],d=c.length,x=0;x<d;x++)a[x]=Math.round(c[x]);return a}function g(c,a){for(var d=["x","y","z"].indexOf(c),x=[],w=a.length,C=0;C<w;C++)x[C]=[a[C][(d+1)%3],a[C][(d+2)%3]];return P(x)}function h(c,a){for(var d=c.length,x=0;x<d;x++)if(c[x]<=-.5||c[x]>=a-.5)return!1;return!0}n.update=function(c){var a=this.scene,d=a.fullSceneLayout;this.data=c;var x=c.x.length,w=t(u(d.xaxis,c.x,a.dataScale[0],c.xcalendar),u(d.yaxis,c.y,a.dataScale[1],c.ycalendar),u(d.zaxis,c.z,a.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;C=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?C=L(w):c.alphahull>0?C=s(c.alphahull,w):C=g(c.delaunayaxis,w);var y={positions:w,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var M=r(c);this.color="#fff";var A=c.intensitymode;y[A+"Intensity"]=c.intensity,y[A+"IntensityBounds"]=[M.min,M.max],y.colormap=S(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=f(c.facecolor)):(this.color=c.color,y.meshColor=p(c.color));this.mesh.update(y)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(c,a){var d=c.glplot.gl,x=m({gl:d}),w=new i(c,x,a.uid);return x._trace=w,w.update(a),c.glplot.add(x),w}G.exports=T},74212:function(G,H,e){var m=e(24040),P=e(3400),s=e(27260),L=e(52948);G.exports=function(v,p,r,t){function i(g,h){return P.coerce(v,p,L,g,h)}function n(g){var h=g.map(function(T){var c=i(T);return c&&P.isArrayOrTypedArray(c)?c:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var f=n(["x","y","z"]);if(!f){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=m.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){i(g)});var l=i("contour.show");l&&(i("contour.color"),i("contour.width")),"intensity"in v?(i("intensity"),i("intensitymode"),s(v,p,t,i,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?i("facecolor"):"vertexcolor"in v?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),p._length=null}},7404:function(G,H,e){G.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(G,H,e){var m=e(3400).extendFlat,P=e(52904),s=e(29736).axisHoverFormat,L=e(98192).u,S=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function i(n){return{line:{color:m({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}G.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:s("x"),yhoverformat:s("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:m({},t.width,{}),dash:m({},L,{}),editType:"style"},increasing:i(p),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:m({},S.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(G,H,e){var m=e(3400),P=m._,s=e(54460),L=e(1220),S=e(39032).BADNUM;function v(i,n){var f=s.getFromId(i,n.xaxis),u=s.getFromId(i,n.yaxis),l=t(i,f,n),g=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var c=r(i,n,h,T,u,p);return n._extremes[f._id]=s.findExtremes(f,T,{vpad:g/2}),c.length?(m.extendFlat(c[0].t,{wHover:g/2,tickLen:l}),c):[{t:{empty:!0}}]}function p(i,n,f,u){return{o:i,h:n,l:f,c:u}}function r(i,n,f,u,l,g){for(var h=l.makeCalcdata(n,"open"),T=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),a=l.makeCalcdata(n,"close"),d=m.isArrayOrTypedArray(n.text),x=m.isArrayOrTypedArray(n.hovertext),w=!0,C=null,y=!!n.xperiodalignment,M=[],A=0;A<u.length;A++){var o=u[A],E=h[A],b=T[A],I=c[A],D=a[A];if(o!==S&&E!==S&&b!==S&&I!==S&&D!==S){D===E?C!==null&&D!==C&&(w=D>C):w=D>E,C=D;var N=g(E,b,I,D);N.pos=o,N.yc=(E+D)/2,N.i=A,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[I,b],y&&(N.orig_p=f[A]),d&&(N.tx=n.text[A]),x&&(N.htx=n.hovertext[A]),M.push(N)}else M.push({pos:o,empty:!0})}return n._extremes[l._id]=s.findExtremes(l,m.concat(c,T),{padded:!0}),M.length&&(M[0].t={labels:{open:P(i,"open:")+" ",high:P(i,"high:")+" ",low:P(i,"low:")+" ",close:P(i,"close:")+" "}}),M}function t(i,n,f){var u=f._minDiff;if(!u){var l=i._fullData,g=[];u=1/0;var h;for(h=0;h<l.length;h++){var T=l[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){g.push(T);var c=n.makeCalcdata(T,"x");T._origX=c;var a=L(f,n,"x",c).vals;T._xcalc=a;var d=m.distinctVals(a).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),h=0;h<g.length;h++)g[h]._minDiff=u}return u*f.tickwidth}G.exports={calc:v,calcCommon:r}},23860:function(G,H,e){var m=e(3400),P=e(52744),s=e(31147),L=e(20279);G.exports=function(p,r,t,i){function n(u,l){return m.coerce(p,r,L,u,l)}var f=P(p,r,n,i);if(!f){r.visible=!1;return}s(p,r,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),S(p,r,n,"increasing"),S(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[r.xaxis]=!0,n("zorder")};function S(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(G,H,e){var m=e(54460),P=e(3400),s=e(93024),L=e(76308),S=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,g){var h=f.cd,T=h[0].trace;return T.hoverlabel.split?i(f,u,l,g):n(f,u,l,g)}function t(f,u,l,g){var h=f.cd,T=f.xa,c=h[0].trace,a=h[0].t,d=c.type,x=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",C,y,M=a.bPos||0,A=function(W){return W.pos+M-u},o=a.bdPos||a.tickLen,E=a.wHover,b=Math.min(1,o/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));C=f.maxHoverDistance-b,y=f.maxSpikeDistance-b;function I(W){var J=A(W);return s.inbox(J-E,J+E,C)}function D(W){var J=W[x],re=W[w];return J===re||s.inbox(J-l,re-l,C)}function N(W){return(I(W)+D(W))/2}var k=s.getDistanceFunction(g,I,D,N);if(s.getClosest(h,k,f),f.index===!1)return null;var O=h[f.index];if(O.empty)return null;var F=O.dir,z=c[F],B=z.line.color;return L.opacity(B)&&z.line.width?f.color=B:f.color=z.fillcolor,f.x0=T.c2p(O.pos+M-o,!0),f.x1=T.c2p(O.pos+M+o,!0),f.xLabelVal=O.orig_p!==void 0?O.orig_p:O.pos,f.spikeDistance=N(O)*y/C,f.xSpike=T.c2p(O.pos,!0),f}function i(f,u,l,g){var h=f.cd,T=f.ya,c=h[0].trace,a=h[0].t,d=[],x=t(f,u,l,g);if(!x)return[];var w=x.index,C=h[w],y=C.hi||c.hoverinfo,M=y.split("+"),A=y==="all",o=A||M.indexOf("y")!==-1;if(!o)return[];for(var E=["high","open","close","low"],b={},I=0;I<E.length;I++){var D=E[I],N=c[D][x.index],k=T.c2p(N,!0),O;N in b?(O=b[N],O.yLabel+="<br>"+a.labels[D]+m.hoverLabelText(T,N,c.yhoverformat)):(O=P.extendFlat({},x),O.y0=O.y1=k,O.yLabelVal=N,O.yLabel=a.labels[D]+m.hoverLabelText(T,N,c.yhoverformat),O.name="",d.push(O),b[N]=O)}return d}function n(f,u,l,g){var h=f.cd,T=f.ya,c=h[0].trace,a=h[0].t,d=t(f,u,l,g);if(!d)return[];var x=d.index,w=h[x],C=d.index=w.i,y=w.dir;function M(N){return a.labels[N]+m.hoverLabelText(T,c[N][C],c.yhoverformat)}var A=w.hi||c.hoverinfo,o=A.split("+"),E=A==="all",b=E||o.indexOf("y")!==-1,I=E||o.indexOf("text")!==-1,D=b?[M("open"),M("high"),M("low"),M("close")+"  "+p[y]]:[];return I&&S(w,c,D),d.extraText=D.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:n}},65456:function(G,H,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(G,H,e){var m=e(24040),P=e(3400);G.exports=function(L,S,v,p){var r=v("x"),t=v("open"),i=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var u=m.getComponentMethod("calendars","handleTraceDefaults");if(u(L,S,["x"],p),!!(t&&i&&n&&f)){var l=Math.min(t.length,i.length,n.length,f.length);return r&&(l=Math.min(l,P.minRowLength(r))),S._length=l,l}}},36664:function(G,H,e){var m=e(33428),P=e(3400);G.exports=function(L,S,v,p){var r=S.yaxis,t=S.xaxis,i=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var f=m.select(this),u=n[0],l=u.t,g=u.trace;if(g.visible!==!0||l.empty){f.remove();return}var h=l.tickLen,T=f.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(c){if(c.empty)return"M0,0Z";var a=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),x=i?(a+d)/2:t.c2p(c.pos,!0),w=r.c2p(c.o,!0),C=r.c2p(c.h,!0),y=r.c2p(c.l,!0),M=r.c2p(c.c,!0);return"M"+a+","+w+"H"+x+"M"+x+","+C+"V"+y+"M"+d+","+M+"H"+x})})}},97384:function(G){G.exports=function(e,m){var P=e.cd,s=e.xaxis,L=e.yaxis,S=[],v,p=P[0].t.bPos||0;if(m===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];m.contains([s.c2p(r.pos+p),L.c2p(r.yc)],null,r.i,e)?(S.push({pointNumber:r.i,x:s.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return S}},14008:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308);G.exports=function(S,v,p){var r=p||m.select(S).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;m.select(this).selectAll("path").each(function(n){if(!n.empty){var f=i[n.dir].line;m.select(this).style("fill","none").call(s.stroke,f.color).call(P.dashLine,f.dash,f.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(G,H,e){var m=e(92880).extendFlat,P=e(45464),s=e(25376),L=e(49084),S=e(21776).Ks,v=e(86968).u,p=m({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:m({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:s({editType:"calc"}),tickfont:s({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(G,H,e){var m=e(84888)._M,P=e(60268),s="parcats";H.name=s,H.plot=function(L,S,v,p){var r=m(L.calcdata,s);if(r.length){var t=r[0];P(L,t,v,p)}},H.clean=function(L,S,v,p){var r=p._has&&p._has("parcats"),t=S._has&&S._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(G,H,e){var m=e(71688).wrap,P=e(94288).hasColorscale,s=e(47128),L=e(68944),S=e(43616),v=e(3400),p=e(38248);G.exports=function(a,d){var x=v.filterVisible(d.dimensions);if(x.length===0)return[];var w=x.map(function($){var K;if($.categoryorder==="trace")K=null;else if($.categoryorder==="array")K=$.categoryarray;else{K=L($.values);for(var ie=!0,Y=0;Y<K.length;Y++)if(!p(K[Y])){ie=!1;break}K.sort(ie?v.sorterAsc:void 0),$.categoryorder==="category descending"&&(K=K.reverse())}return l($.values,K)}),C,y,M;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],g(x),x.forEach(function($,K){h($,w[K])});var A=d.line,o;A?(P(d,"line")&&s(a,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),o=S.tryColorscale(A)):o=v.identity;function E($){var K,ie;return v.isArrayOrTypedArray(A.color)?(K=A.color[$%A.color.length],ie=K):K=A.color,{color:o(K),rawColor:ie}}var b=x[0].values.length,I={},D=w.map(function($){return $.inds});M=0;var N,k;for(N=0;N<b;N++){var O=[];for(k=0;k<D.length;k++)O.push(D[k][N]);y=C[N%C.length],M+=y;var F=E(N),z=O+"-"+F.rawColor;I[z]===void 0&&(I[z]=f(O,F.color,F.rawColor)),u(I[z],N,y)}var B=x.map(function($,K){return t(K,$._index,$._displayindex,$.label,M)});for(N=0;N<b;N++)for(y=C[N%C.length],k=0;k<B.length;k++){var W=B[k].containerInd,J=w[k].inds[N],re=B[k].categories;if(re[J]===void 0){var ne=d.dimensions[W]._categoryarray[J],le=d.dimensions[W]._ticktext[J];re[J]=i(k,J,ne,le)}n(re[J],N,y)}return m(r(B,I,M))};function r(c,a,d){var x=c.map(function(w){return w.categories.length}).reduce(function(w,C){return Math.max(w,C)});return{dimensions:c,paths:a,trace:void 0,maxCats:x,count:d}}function t(c,a,d,x,w){return{dimensionInd:c,containerInd:a,displayInd:d,dimensionLabel:x,count:w,categories:[],dragX:null}}function i(c,a,d,x){return{dimensionInd:c,categoryInd:a,categoryValue:d,displayInd:a,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(c,a,d){c.valueInds.push(a),c.count+=d}function f(c,a,d){return{categoryInds:c,color:a,rawColor:d,valueInds:[],count:0}}function u(c,a,d){c.valueInds.push(a),c.count+=d}function l(c,a){a==null?a=[]:a=a.map(function(o){return o});var d={},x={},w=[];a.forEach(function(o,E){d[o]=0,x[o]=E});for(var C=0;C<c.length;C++){var y=c[C],M;d[y]===void 0?(d[y]=1,M=a.push(y)-1,x[y]=M):(d[y]++,M=x[y]),w.push(M)}var A=a.map(function(o){return d[o]});return{uniqueValues:a,uniqueCounts:A,inds:w}}function g(c){var a=c.map(function(x){return x.displayindex}),d;if(T(a))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,a){c._categoryarray=a.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<a.uniqueValues.length;d++)c._ticktext.push(a.uniqueValues[d])}function T(c){for(var a=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||a[c[d]]!==void 0)return!1;a[c[d]]=!0}return!0}},76671:function(G,H,e){var m=e(3400),P=e(94288).hasColorscale,s=e(27260),L=e(86968).Q,S=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,u,l,g){g("line.shape"),g("line.hovertemplate");var h=g("line.color",l.colorway[0]);if(P(n,"line")&&m.isArrayOrTypedArray(h)){if(h.length)return g("line.colorscale"),s(n,f,l,g,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=u}return 1/0}function i(n,f){function u(d,x){return m.coerce(n,f,v.dimensions,d,x)}var l=u("values"),g=u("visible");if(l&&l.length||(g=f.visible=!1),g){u("label"),u("displayindex",f._index);var h=n.categoryarray,T=m.isArrayOrTypedArray(h)&&h.length>0||r(h),c;T&&(c="array");var a=u("categoryorder",c);a==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&a==="array"&&(f.categoryorder="trace")}}G.exports=function(f,u,l,g){function h(d,x){return m.coerce(f,u,v,d,x)}var T=S(f,u,{name:"dimensions",handleItemDefaults:i}),c=t(f,u,l,g,h);L(u,g,h),(!Array.isArray(T)||!T.length)&&(u.visible=!1),p(u,T,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var a=g.font;m.coerceFont(h,"labelfont",a,{overrideDflt:{size:Math.round(a.size)}}),m.coerceFont(h,"tickfont",a,{autoShadowDflt:!0,overrideDflt:{size:Math.round(a.size/1.2)}})}},22020:function(G,H,e){G.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(G,H,e){var m=e(33428),P=e(67756).Gz,s=e(36424),L=e(93024),S=e(3400),v=S.strTranslate,p=e(43616),r=e(49760),t=e(72736);function i(Y,Q,oe,X){var j=Q._context.staticPlot,se=Y.map(ne.bind(0,Q,oe)),te=X.selectAll("g.parcatslayer").data([null]);te.enter().append("g").attr("class","parcatslayer").style("pointer-events",j?"none":"all");var fe=te.selectAll("g.trace.parcats").data(se,n),ge=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(Me){return v(Me.x,Me.y)}),ge.append("g").attr("class","paths");var be=fe.select("g.paths"),xe=be.selectAll("path.path").data(function(Me){return Me.paths},n);xe.attr("fill",function(Me){return Me.model.color});var _e=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Me){return Me.model.color}).attr("fill-opacity",0);a(_e),xe.attr("d",function(Me){return Me.svgD}),_e.empty()||xe.sort(u),xe.exit().remove(),xe.on("mouseover",l).on("mouseout",g).on("click",c),ge.append("g").attr("class","dimensions");var De=fe.select("g.dimensions"),Fe=De.selectAll("g.dimension").data(function(Me){return Me.dimensions},n);Fe.enter().append("g").attr("class","dimension"),Fe.attr("transform",function(Me){return v(Me.x,0)}),Fe.exit().remove();var Te=Fe.selectAll("g.category").data(function(Me){return Me.categories},n),Re=Te.enter().append("g").attr("class","category");Te.attr("transform",function(Me){return v(0,Me.y)}),Re.append("rect").attr("class","catrect").attr("pointer-events","none"),Te.select("rect.catrect").attr("fill","none").attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}),w(Re);var Se=Te.selectAll("rect.bandrect").data(function(Me){return Me.bands},n);Se.each(function(){S.raiseToTop(this)}),Se.attr("fill",function(Me){return Me.color});var Ie=Se.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Me){return Me.color}).attr("fill-opacity",0);Se.attr("fill",function(Me){return Me.color}).attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}).attr("y",function(Me){return Me.y}).attr("cursor",function(Me){return Me.parcatsViewModel.arrangement==="fixed"?"default":Me.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(Ie),Se.exit().remove(),Re.append("text").attr("class","catlabel").attr("pointer-events","none"),Te.select("text.catlabel").attr("text-anchor",function(Me){return f(Me)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Me){return f(Me)?Me.width+5:-5}).attr("y",function(Me){return Me.height/2}).text(function(Me){return Me.model.categoryLabel}).each(function(Me){p.font(m.select(this),Me.parcatsViewModel.categorylabelfont),t.convertToTspans(m.select(this),Q)}),Re.append("text").attr("class","dimlabel"),Te.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Me){return Me.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Me){return Me.width/2}).attr("y",-5).text(function(Me,Ve){return Ve===0?Me.parcatsViewModel.model.dimensions[Me.model.dimensionInd].dimensionLabel:null}).each(function(Me){p.font(m.select(this),Me.parcatsViewModel.labelfont)}),Te.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",O),Te.exit().remove(),Fe.call(m.behavior.drag().origin(function(Me){return{x:Me.x,y:0}}).on("dragstart",F).on("drag",z).on("dragend",B)),fe.each(function(Me){Me.traceSelection=m.select(this),Me.pathSelection=m.select(this).selectAll("g.paths").selectAll("path.path"),Me.dimensionSelection=m.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}G.exports=function(Y,Q,oe,X){i(oe,Y,X,Q)};function n(Y){return Y.key}function f(Y){var Q=Y.parcatsViewModel.dimensions.length,oe=Y.parcatsViewModel.dimensions[Q-1].model.dimensionInd;return Y.model.dimensionInd===oe}function u(Y,Q){return Y.model.rawColor>Q.model.rawColor?1:Y.model.rawColor<Q.model.rawColor?-1:0}function l(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){S.raiseToTop(this),d(m.select(this));var Q=h(Y),oe=T(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:m.event,constraints:oe}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var X=m.mouse(this)[0],j=Y.parcatsViewModel.graphDiv,se=Y.parcatsViewModel.trace,te=j._fullLayout,fe=te._paperdiv.node().getBoundingClientRect(),ge=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),be,xe,_e;for(_e=0;_e<Y.leftXs.length-1;_e++)if(Y.leftXs[_e]+Y.dimWidths[_e]-2<=X&&X<=Y.leftXs[_e+1]+2){var De=Y.parcatsViewModel.dimensions[_e],Fe=Y.parcatsViewModel.dimensions[_e+1];be=(De.x+De.width+Fe.x)/2,xe=(Y.topYs[_e]+Y.topYs[_e+1]+Y.height)/2;break}var Te=Y.parcatsViewModel.x+be,Re=Y.parcatsViewModel.y+xe,Se=r.mostReadable(Y.model.color,["black","white"]),Ie=Y.model.count,Me=Ie/Y.parcatsViewModel.model.count,Ve={countLabel:Ie,probabilityLabel:Me.toFixed(3)},et=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",Ve.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&et.push(["P:",Ve.probabilityLabel].join(" "));var it=et.join("<br>"),Je=m.mouse(j)[0];L.loneHover({trace:se,x:Te-fe.left+ge.left,y:Re-fe.top+ge.top,text:it,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Se,idealAlign:Je<Te?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Ve,eventData:[{data:se._input,fullData:se,count:Ie,probability:Me}]},{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:j})}}}function g(Y){if(!Y.parcatsViewModel.dragDimension&&(a(m.select(this)),L.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(u),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var Q=h(Y),oe=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:m.event,constraints:oe})}}function h(Y){for(var Q=[],oe=W(Y.parcatsViewModel),X=0;X<Y.model.valueInds.length;X++){var j=Y.model.valueInds[X];Q.push({curveNumber:oe,pointNumber:j})}return Q}function T(Y){for(var Q={},oe=Y.parcatsViewModel.model.dimensions,X=0;X<oe.length;X++){var j=oe[X],se=j.categories[Y.model.categoryInds[X]];Q[j.containerInd]=se.categoryValue}return Y.model.rawColor!==void 0&&(Q.color=Y.model.rawColor),Q}function c(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=h(Y),oe=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:m.event,constraints:oe})}}function a(Y){Y.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(Y){Y.attr("fill-opacity",.8).attr("stroke",function(Q){return r.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function x(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function y(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M(Y){var Q=Y.parcatsViewModel.pathSelection,oe=Y.categoryViewModel.model.dimensionInd,X=Y.categoryViewModel.model.categoryInd;return Q.filter(function(j){return j.model.categoryInds[oe]===X&&j.model.color===Y.color})}function A(Y){var Q=m.select(Y.parentNode).selectAll("rect.bandrect");Q.each(function(oe){var X=M(oe);d(X),X.each(function(){S.raiseToTop(this)})}),x(m.select(Y.parentNode))}function o(Y){var Q=m.select(Y).datum(),oe=M(Q);d(oe),oe.each(function(){S.raiseToTop(this)}),m.select(Y.parentNode).selectAll("rect.bandrect").filter(function(X){return X.color===Q.color}).each(function(){S.raiseToTop(this),C(m.select(this))})}function E(Y,Q,oe){var X=m.select(Y).datum(),j=X.categoryViewModel.model,se=X.parcatsViewModel.graphDiv,te=m.select(Y.parentNode).selectAll("rect.bandrect"),fe=[];te.each(function(be){var xe=M(be);xe.each(function(_e){Array.prototype.push.apply(fe,h(_e))})});var ge={};ge[j.dimensionInd]=j.categoryValue,se.emit(Q,{points:fe,event:oe,constraints:ge})}function b(Y,Q,oe){var X=m.select(Y).datum(),j=X.categoryViewModel.model,se=X.parcatsViewModel.graphDiv,te=M(X),fe=[];te.each(function(be){Array.prototype.push.apply(fe,h(be))});var ge={};ge[j.dimensionInd]=j.categoryValue,X.rawColor!==void 0&&(ge.color=X.rawColor),se.emit(Q,{points:fe,event:oe,constraints:ge})}function I(Y,Q,oe){Y._fullLayout._calcInverseTransform(Y);var X=Y._fullLayout._invScaleX,j=Y._fullLayout._invScaleY,se=m.select(oe.parentNode).select("rect.catrect"),te=se.node().getBoundingClientRect(),fe=se.datum(),ge=fe.parcatsViewModel,be=ge.model.dimensions[fe.model.dimensionInd],xe=ge.trace,_e=te.top+te.height/2,De,Fe;ge.dimensions.length>1&&be.displayInd===ge.dimensions.length-1?(De=te.left,Fe="left"):(De=te.left+te.width,Fe="right");var Te=fe.model.count,Re=fe.model.categoryLabel,Se=Te/fe.parcatsViewModel.model.count,Ie={countLabel:Te,categoryLabel:Re,probabilityLabel:Se.toFixed(3)},Me=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Me.push(["Count:",Ie.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Me.push(["P("+Ie.categoryLabel+"):",Ie.probabilityLabel].join(" "));var Ve=Me.join("<br>");return{trace:xe,x:X*(De-Q.left),y:j*(_e-Q.top),text:Ve,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Fe,hovertemplate:xe.hovertemplate,hovertemplateLabels:Ie,eventData:[{data:xe._input,fullData:xe,count:Te,category:Re,probability:Se}]}}function D(Y,Q,oe){var X=[];return m.select(oe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var j=this;X.push(I(Y,Q,j))}),X}function N(Y,Q,oe){Y._fullLayout._calcInverseTransform(Y);var X=Y._fullLayout._invScaleX,j=Y._fullLayout._invScaleY,se=oe.getBoundingClientRect(),te=m.select(oe).datum(),fe=te.categoryViewModel,ge=fe.parcatsViewModel,be=ge.model.dimensions[fe.model.dimensionInd],xe=ge.trace,_e=se.y+se.height/2,De,Fe;ge.dimensions.length>1&&be.displayInd===ge.dimensions.length-1?(De=se.left,Fe="left"):(De=se.left+se.width,Fe="right");var Te=fe.model.categoryLabel,Re=te.parcatsViewModel.model.count,Se=0;te.categoryViewModel.bands.forEach(function(gt){gt.color===te.color&&(Se+=gt.count)});var Ie=fe.model.count,Me=0;ge.pathSelection.each(function(gt){gt.model.color===te.color&&(Me+=gt.model.count)});var Ve=Se/Re,et=Se/Me,it=Se/Ie,Je={countLabel:Se,categoryLabel:Te,probabilityLabel:Ve.toFixed(3)},Qe=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Qe.push(["Count:",Je.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Qe.push("P(color ∩ "+Te+"): "+Je.probabilityLabel),Qe.push("P("+Te+" | color): "+et.toFixed(3)),Qe.push("P(color | "+Te+"): "+it.toFixed(3)));var ct=Qe.join("<br>"),ht=r.mostReadable(te.color,["black","white"]);return{trace:xe,x:X*(De-Q.left),y:j*(_e-Q.top),text:ct,color:te.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ht,fontSize:10,idealAlign:Fe,hovertemplate:xe.hovertemplate,hovertemplateLabels:Je,eventData:[{data:xe._input,fullData:xe,category:Te,count:Re,probability:Ve,categorycount:Ie,colorcount:Me,bandcolorcount:Se}]}}function k(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=m.mouse(this)[1];if(Q<-1)return;var oe=Y.parcatsViewModel.graphDiv,X=oe._fullLayout,j=X._paperdiv.node().getBoundingClientRect(),se=Y.parcatsViewModel.hoveron,te=this;if(se==="color"?(o(te),b(te,"plotly_hover",m.event)):(A(te),E(te,"plotly_hover",m.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;se==="category"?fe=I(oe,j,te):se==="color"?fe=N(oe,j,te):se==="dimension"&&(fe=D(oe,j,te)),fe&&L.loneHover(fe,{container:X._hoverlayer.node(),outerContainer:X._paper.node(),gd:oe})}}}function O(Y){var Q=Y.parcatsViewModel;if(!Q.dragDimension&&(a(Q.pathSelection),w(Q.dimensionSelection.selectAll("g.category")),y(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(u),Q.hoverinfoItems.indexOf("skip")===-1)){var oe=Y.parcatsViewModel.hoveron,X=this;oe==="color"?b(X,"plotly_unhover",m.event):E(X,"plotly_unhover",m.event)}}function F(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,m.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var oe=m.mouse(this)[0],X=m.mouse(this)[1];-2<=oe&&oe<=Q.width+2&&-2<=X&&X<=Q.height+2&&(Y.dragCategoryDisplayInd=Q.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function(j){return j.displayInd}),Q.model.dragY=Q.y,S.raiseToTop(this.parentNode),m.select(this.parentNode).selectAll("rect.bandrect").each(function(j){j.y<X&&X<=j.y+j.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,L.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var Q=Y.dragDimensionDisplayInd,oe=Q-1,X=Q+1,j=Y.parcatsViewModel.dimensions[Q];if(Y.dragCategoryDisplayInd!==null){var se=j.categories[Y.dragCategoryDisplayInd];se.model.dragY+=m.event.dy;var te=se.model.dragY,fe=se.model.displayInd,ge=j.categories,be=ge[fe-1],xe=ge[fe+1];be!==void 0&&te<be.y+be.height/2&&(se.model.displayInd=be.model.displayInd,be.model.displayInd=fe),xe!==void 0&&te+se.height>xe.y+xe.height/2&&(se.model.displayInd=xe.model.displayInd,xe.model.displayInd=fe),Y.dragCategoryDisplayInd=se.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){j.model.dragX=m.event.x;var _e=Y.parcatsViewModel.dimensions[oe],De=Y.parcatsViewModel.dimensions[X];_e!==void 0&&j.model.dragX<_e.x+_e.width&&(j.model.displayInd=_e.model.displayInd,_e.model.displayInd=Q),De!==void 0&&j.model.dragX+j.width>De.x&&(j.model.displayInd=De.model.displayInd,De.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=j.model.displayInd}K(Y.parcatsViewModel),$(Y.parcatsViewModel),re(Y.parcatsViewModel),J(Y.parcatsViewModel)}}function B(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){m.select(this).selectAll("text").attr("font-weight","normal");var Q={},oe=W(Y.parcatsViewModel),X=Y.parcatsViewModel.model.dimensions.map(function(De){return De.displayInd}),j=Y.initialDragDimensionDisplayInds.some(function(De,Fe){return De!==X[Fe]});j&&X.forEach(function(De,Fe){var Te=Y.parcatsViewModel.model.dimensions[Fe].containerInd;Q["dimensions["+Te+"].displayindex"]=De});var se=!1;if(Y.dragCategoryDisplayInd!==null){var te=Y.model.categories.map(function(De){return De.displayInd});if(se=Y.initialDragCategoryDisplayInds.some(function(De,Fe){return De!==te[Fe]}),se){var fe=Y.model.categories.slice().sort(function(De,Fe){return De.displayInd-Fe.displayInd}),ge=fe.map(function(De){return De.categoryValue}),be=fe.map(function(De){return De.categoryLabel});Q["dimensions["+Y.model.containerInd+"].categoryarray"]=[ge],Q["dimensions["+Y.model.containerInd+"].ticktext"]=[be],Q["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?b(Y.potentialClickBand,"plotly_click",m.event.sourceEvent):E(Y.potentialClickBand,"plotly_click",m.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var xe=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];xe.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,K(Y.parcatsViewModel),$(Y.parcatsViewModel);var _e=m.transition().duration(300).ease("cubic-in-out");_e.each(function(){re(Y.parcatsViewModel,!0),J(Y.parcatsViewModel,!0)}).each("end",function(){(j||se)&&s.restyle(Y.parcatsViewModel.graphDiv,Q,[oe])})}}function W(Y){for(var Q,oe=Y.graphDiv._fullData,X=0;X<oe.length;X++)if(Y.key===oe[X].uid){Q=X;break}return Q}function J(Y,Q){Q===void 0&&(Q=!1);function oe(X){return Q?X.transition():X}Y.pathSelection.data(function(X){return X.paths},n),oe(Y.pathSelection).attr("d",function(X){return X.svgD})}function re(Y,Q){Q===void 0&&(Q=!1);function oe(ge){return Q?ge.transition():ge}Y.dimensionSelection.data(function(ge){return ge.dimensions},n);var X=Y.dimensionSelection.selectAll("g.category").data(function(ge){return ge.categories},n);oe(Y.dimensionSelection).attr("transform",function(ge){return v(ge.x,0)}),oe(X).attr("transform",function(ge){return v(0,ge.y)});var j=X.select(".dimlabel");j.text(function(ge,be){return be===0?ge.parcatsViewModel.model.dimensions[ge.model.dimensionInd].dimensionLabel:null});var se=X.select(".catlabel");se.attr("text-anchor",function(ge){return f(ge)?"start":"end"}).attr("x",function(ge){return f(ge)?ge.width+5:-5}).each(function(ge){var be,xe;f(ge)?(be=ge.width+5,xe="start"):(be=-5,xe="end"),m.select(this).selectAll("tspan").attr("x",be).attr("text-anchor",xe)});var te=X.selectAll("rect.bandrect").data(function(ge){return ge.bands},n),fe=te.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ge){return ge.color}).attr("fill-opacity",0);te.attr("fill",function(ge){return ge.color}).attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}).attr("y",function(ge){return ge.y}),y(fe),te.each(function(){S.raiseToTop(this)}),te.exit().remove()}function ne(Y,Q,oe){var X=oe[0],j=Q.margin||{l:80,r:80,t:100,b:80},se=X.trace,te=se.domain,fe=Q.width,ge=Q.height,be=Math.floor(fe*(te.x[1]-te.x[0])),xe=Math.floor(ge*(te.y[1]-te.y[0])),_e=te.x[0]*fe+j.l,De=Q.height-te.y[1]*Q.height+j.t,Fe=se.line.shape,Te;se.hoverinfo==="all"?Te=["count","probability"]:Te=(se.hoverinfo||"").split("+");var Re={trace:se,key:se.uid,model:X,x:_e,y:De,width:be,height:xe,hoveron:se.hoveron,hoverinfoItems:Te,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Fe,dragDimension:null,margin:j,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return X.dimensions&&(K(Re),$(Re)),Re}function le(Y,Q,oe,X,j){var se=[],te=[],fe,ge;for(ge=0;ge<oe.length-1;ge++)fe=P(oe[ge]+Y[ge],Y[ge+1]),se.push(fe(j)),te.push(fe(1-j));var be="M "+Y[0]+","+Q[0];for(be+="l"+oe[0]+",0 ",ge=1;ge<oe.length;ge++)be+="C"+se[ge-1]+","+Q[ge-1]+" "+te[ge-1]+","+Q[ge]+" "+Y[ge]+","+Q[ge],be+="l"+oe[ge]+",0 ";for(be+="l0,"+X+" ",be+="l -"+oe[oe.length-1]+",0 ",ge=oe.length-2;ge>=0;ge--)be+="C"+te[ge]+","+(Q[ge+1]+X)+" "+se[ge]+","+(Q[ge]+X)+" "+(Y[ge]+oe[ge])+","+(Q[ge]+X),be+="l-"+oe[ge]+",0 ";return be+="Z",be}function $(Y){var Q=Y.dimensions,oe=Y.model,X=Q.map(function(rt){return rt.categories.map(function(ze){return ze.y})}),j=Y.model.dimensions.map(function(rt){return rt.categories.map(function(ze){return ze.displayInd})}),se=Y.model.dimensions.map(function(rt){return rt.displayInd}),te=Y.dimensions.map(function(rt){return rt.model.dimensionInd}),fe=Q.map(function(rt){return rt.x}),ge=Q.map(function(rt){return rt.width}),be=[];for(var xe in oe.paths)oe.paths.hasOwnProperty(xe)&&be.push(oe.paths[xe]);function _e(rt){var ze=rt.categoryInds.map(function(Ge,We){return j[We][Ge]}),He=te.map(function(Ge){return ze[Ge]});return He}be.sort(function(rt,ze){var He=_e(rt),Ge=_e(ze);return Y.sortpaths==="backward"&&(He.reverse(),Ge.reverse()),He.push(rt.valueInds[0]),Ge.push(ze.valueInds[0]),Y.bundlecolors&&(He.unshift(rt.rawColor),Ge.unshift(ze.rawColor)),He<Ge?-1:He>Ge?1:0});for(var De=new Array(be.length),Fe=Q[0].model.count,Te=Q[0].categories.map(function(rt){return rt.height}).reduce(function(rt,ze){return rt+ze}),Re=0;Re<be.length;Re++){var Se=be[Re],Ie;Fe>0?Ie=Te*(Se.count/Fe):Ie=0;for(var Me=new Array(X.length),Ve=0;Ve<Se.categoryInds.length;Ve++){var et=Se.categoryInds[Ve],it=j[Ve][et],Je=se[Ve];Me[Je]=X[Je][it],X[Je][it]+=Ie;var Qe=Y.dimensions[Je].categories[it],ct=Qe.bands.length,ht=Qe.bands[ct-1];if(ht===void 0||Se.rawColor!==ht.rawColor){var gt=ht===void 0?0:ht.y+ht.height;Qe.bands.push({key:gt,color:Se.color,rawColor:Se.rawColor,height:Ie,width:Qe.width,count:Se.count,y:gt,categoryViewModel:Qe,parcatsViewModel:Y})}else{var Tt=Qe.bands[ct-1];Tt.height+=Ie,Tt.count+=Se.count}}var Et;Y.pathShape==="hspline"?Et=le(fe,Me,ge,Ie,.5):Et=le(fe,Me,ge,Ie,0),De[Re]={key:Se.valueInds[0],model:Se,height:Ie,leftXs:fe,topYs:Me,dimWidths:ge,svgD:Et,parcatsViewModel:Y}}Y.paths=De}function K(Y){var Q=Y.model.dimensions.map(function(te){return{displayInd:te.displayInd,dimensionInd:te.dimensionInd}});Q.sort(function(te,fe){return te.displayInd-fe.displayInd});var oe=[];for(var X in Q){var j=Q[X].dimensionInd,se=Y.model.dimensions[j];oe.push(ie(Y,se))}Y.dimensions=oe}function ie(Y,Q){var oe=40,X=16,j=Y.model.dimensions.length,se=Q.displayInd,te,fe,ge;j>1?te=(Y.width-2*oe-X)/(j-1):te=0,fe=oe,ge=fe+te*se;var be=[],xe=Y.model.maxCats,_e=Q.categories.length,De=8,Fe=Q.count,Te=Y.height-De*(xe-1),Re,Se,Ie,Me,Ve,et=(xe-_e)*De/2,it=Q.categories.map(function(Je){return{displayInd:Je.displayInd,categoryInd:Je.categoryInd}});for(it.sort(function(Je,Qe){return Je.displayInd-Qe.displayInd}),Ve=0;Ve<_e;Ve++)Me=it[Ve].categoryInd,Se=Q.categories[Me],Fe>0?Re=Se.count/Fe*Te:Re=0,Ie={key:Se.valueInds[0],model:Se,width:X,height:Re,y:Se.dragY!==null?Se.dragY:et,bands:[],parcatsViewModel:Y},et=et+Re+De,be.push(Ie);return{key:Q.dimensionInd,x:Q.dragX!==null?Q.dragX:ge,y:0,width:X,model:Q,categories:be,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(G,H,e){var m=e(51036);G.exports=function(s,L,S,v){var p=s._fullLayout,r=p._paper,t=p._size;m(s,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},S,v)}},82296:function(G,H,e){var m=e(49084),P=e(94724),s=e(25376),L=e(86968).u,S=e(92880).extendFlat,v=e(31780).templatedArray;G.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:s({editType:"plot"}),tickfont:s({autoShadowDflt:!0,editType:"plot"}),rangefont:s({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:S({},P.tickvals,{editType:"plot"}),ticktext:S({},P.ticktext,{editType:"plot"}),tickformat:S({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:S({editType:"calc"},m("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(G,H,e){var m=e(30140),P=e(33428),s=e(71688).keyFun,L=e(71688).repeat,S=e(3400).sorterAsc,v=e(3400).strTranslate,p=m.bar.snapRatio;function r(B,W){return B*(1-p)+W*p}var t=m.bar.snapClose;function i(B,W){return B*(1-t)+W*t}function n(B,W,J,re){if(f(J,re))return J;var ne=B?-1:1,le=0,$=W.length-1;if(ne<0){var K=le;le=$,$=K}for(var ie=W[le],Y=ie,Q=le;ne*Q<ne*$;Q+=ne){var oe=Q+ne,X=W[oe];if(ne*J<ne*i(ie,X))return r(ie,Y);if(ne*J<ne*X||oe===$)return r(X,ie);Y=ie,ie=X}}function f(B,W){for(var J=0;J<W.length;J++)if(B>=W[J][0]&&B<=W[J][1])return!0;return!1}function u(B){B.attr("x",-m.bar.captureWidth/2).attr("width",m.bar.captureWidth)}function l(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var W=h(B.brush.filter.getConsolidated(),B.height),J=[0],re,ne,le,$=W.length?W[0][0]:null,K=0;K<W.length;K++)re=W[K],ne=re[1]-re[0],J.push($),J.push(ne),le=K+1,le<W.length&&($=W[le][0]-re[1]);return J.push(B.height),J}function h(B,W){return B.map(function(J){return J.map(function(re){return Math.max(0,re*W)}).sort(S)})}function T(B,W){var J=m.bar.handleHeight;if(!(W>B[1]+J||W<B[0]-J))return W>=.9*B[1]+.1*B[0]?"n":W<=.9*B[0]+.1*B[1]?"s":"ns"}function c(){P.select(document.body).style("cursor",null)}function a(B){B.attr("stroke-dasharray",g)}function d(B,W){var J=P.select(B).selectAll(".highlight, .highlight-shadow"),re=W?J.transition().duration(m.bar.snapDuration).each("end",W):J;a(re)}function x(B,W){var J=B.brush,re=J.filterSpecified,ne=NaN,le={},$;if(re){var K=B.height,ie=J.filter.getConsolidated(),Y=h(ie,K),Q=NaN,oe=NaN,X=NaN;for($=0;$<=Y.length;$++){var j=Y[$];if(j&&j[0]<=W&&W<=j[1]){Q=$;break}else if(oe=$?$-1:NaN,j&&j[0]>W){X=$;break}}if(ne=Q,isNaN(ne)&&(isNaN(oe)||isNaN(X)?ne=isNaN(oe)?X:oe:ne=W-Y[oe][1]<Y[X][0]-W?oe:X),!isNaN(ne)){var se=Y[ne],te=T(se,W);te&&(le.interval=ie[ne],le.intervalPix=se,le.region=te)}}if(B.ordinal&&!le.region){var fe=B.unitTickvals,ge=B.unitToPaddedPx.invert(W);for($=0;$<fe.length;$++){var be=[fe[Math.max($-1,0)]*.25+fe[$]*.75,fe[Math.min($+1,fe.length-1)]*.25+fe[$]*.75];if(ge>=be[0]&&ge<=be[1]){le.clickableOrdinalRange=be;break}}}return le}function w(B,W){P.event.sourceEvent.stopPropagation();var J=W.height-P.mouse(B)[1]-2*m.verticalPadding,re=W.unitToPaddedPx.invert(J),ne=W.brush,le=x(W,J),$=le.interval,K=ne.svgBrush;if(K.wasDragged=!1,K.grabbingBar=le.region==="ns",K.grabbingBar){var ie=$.map(W.unitToPaddedPx);K.grabPoint=J-ie[0]-m.verticalPadding,K.barLength=ie[1]-ie[0]}K.clickableOrdinalRange=le.clickableOrdinalRange,K.stayingIntervals=W.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],$&&(K.stayingIntervals=K.stayingIntervals.filter(function(Y){return Y[0]!==$[0]&&Y[1]!==$[1]})),K.startExtent=le.region?$[le.region==="s"?1:0]:re,W.parent.inBrushDrag=!0,K.brushStartCallback()}function C(B,W){P.event.sourceEvent.stopPropagation();var J=W.height-P.mouse(B)[1]-2*m.verticalPadding,re=W.brush.svgBrush;re.wasDragged=!0,re._dragging=!0,re.grabbingBar?re.newExtent=[J-re.grabPoint,J+re.barLength-re.grabPoint].map(W.unitToPaddedPx.invert):re.newExtent=[re.startExtent,W.unitToPaddedPx.invert(J)].sort(S),W.brush.filterSpecified=!0,re.extent=re.stayingIntervals.concat([re.newExtent]),re.brushCallback(W),d(B.parentNode)}function y(B,W){var J=W.brush,re=J.filter,ne=J.svgBrush;ne._dragging||(M(B,W),C(B,W),W.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var le=P.event;le.sourceEvent.stopPropagation();var $=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?J.filterSpecified&&W.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],J.filterSpecified=!0):$?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&D(J)):D(J),ne.brushCallback(W),d(B.parentNode),ne.brushEndCallback(J.filterSpecified?re.getConsolidated():[]);return}var K=function(){re.set(re.getConsolidated())};if(W.ordinal){var ie=W.unitTickvals;ie[ie.length-1]<ie[0]&&ie.reverse(),ne.newExtent=[n(0,ie,ne.newExtent[0],ne.stayingIntervals),n(1,ie,ne.newExtent[1],ne.stayingIntervals)];var Y=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(Y?[ne.newExtent]:[]),ne.extent.length||D(J),ne.brushCallback(W),Y?d(B.parentNode,K):(K(),d(B.parentNode))}else K();ne.brushEndCallback(J.filterSpecified?re.getConsolidated():[])}function M(B,W){var J=W.height-P.mouse(B)[1]-2*m.verticalPadding,re=x(W,J),ne="crosshair";re.clickableOrdinalRange?ne="pointer":re.region&&(ne=re.region+"-resize"),P.select(document.body).style("cursor",ne)}function A(B){B.on("mousemove",function(W){P.event.preventDefault(),W.parent.inBrushDrag||M(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(P.behavior.drag().on("dragstart",function(W){w(this,W)}).on("drag",function(W){C(this,W)}).on("dragend",function(W){y(this,W)}))}function o(B,W){return B[0]-W[0]}function E(B,W,J){var re=J._context.staticPlot,ne=B.selectAll(".background").data(L);ne.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",re?"none":"auto").attr("transform",v(0,m.verticalPadding)),ne.call(A).attr("height",function(K){return K.height-m.verticalPadding});var le=B.selectAll(".highlight-shadow").data(L);le.enter().append("line").classed("highlight-shadow",!0).attr("x",-m.bar.width/2).attr("stroke-width",m.bar.width+m.bar.strokeWidth).attr("stroke",W).attr("opacity",m.bar.strokeOpacity).attr("stroke-linecap","butt"),le.attr("y1",function(K){return K.height}).call(a);var $=B.selectAll(".highlight").data(L);$.enter().append("line").classed("highlight",!0).attr("x",-m.bar.width/2).attr("stroke-width",m.bar.width-m.bar.strokeWidth).attr("stroke",m.bar.fillColor).attr("opacity",m.bar.fillOpacity).attr("stroke-linecap","butt"),$.attr("y1",function(K){return K.height}).call(a)}function b(B,W,J){var re=B.selectAll("."+m.cn.axisBrush).data(L,s);re.enter().append("g").classed(m.cn.axisBrush,!0),E(re,W,J)}function I(B){return B.svgBrush.extent.map(function(W){return W.slice()})}function D(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function N(B){return function(J){var re=J.brush,ne=I(re),le=ne.slice();re.filter.set(le),B()}}function k(B){for(var W=B.slice(),J=[],re,ne=W.shift();ne;){for(re=ne.slice();(ne=W.shift())&&ne[0]<=re[1];)re[1]=Math.max(re[1],ne[1]);J.push(re)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function O(){var B=[],W,J;return{set:function(re){B=re.map(function(ne){return ne.slice().sort(S)}).sort(o),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),W=k(B),J=B.reduce(function(ne,le){return[Math.min(ne[0],le[0]),Math.max(ne[1],le[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return W},getBounds:function(){return J}}}function F(B,W,J,re,ne,le){var $=O();return $.set(J),{filter:$,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:re,brushCallback:N(ne),brushEndCallback:le}}}function z(B,W){if(Array.isArray(B[0])?(B=B.map(function(re){return re.sort(S)}),W.multiselect?B=k(B.sort(o)):B=[B[0]]):B=[B.sort(S)],W.tickvals){var J=W.tickvals.slice().sort(S);if(B=B.map(function(re){var ne=[n(0,J,re[0],[]),n(1,J,re[1],[])];if(ne[1]>ne[0])return ne}).filter(function(re){return re}),!B.length)return}return B.length>1?B:B[0]}G.exports={makeBrush:F,ensureAxisBrush:b,cleanRanges:z}},61664:function(G,H,e){G.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(G,H,e){var m=e(33428),P=e(84888)._M,s=e(24196),L=e(9616);H.name="parcoords",H.plot=function(S){var v=P(S.calcdata,"parcoords")[0];v.length&&s(S,v)},H.clean=function(S,v,p,r){var t=r._has&&r._has("parcoords"),i=v._has&&v._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},H.toSVG=function(S){var v=S._fullLayout._glimages,p=m.select(S).selectAll(".svg-container"),r=p.filter(function(i,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,n=i.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){m.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(G,H,e){var m=e(3400).isArrayOrTypedArray,P=e(8932),s=e(71688).wrap;G.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&m(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(p._length),t=[[0,p.line.color],[1,p.line.color]]),s({lineColor:r,cscale:t})};function L(S){for(var v=new Array(S),p=0;p<S;p++)v[p]=.5;return v}},30140:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(G,H,e){var m=e(3400),P=e(94288).hasColorscale,s=e(27260),L=e(86968).Q,S=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,i=e(26284);function n(u,l,g,h,T){var c=T("line.color",g);if(P(u,"line")&&m.isArrayOrTypedArray(c)){if(c.length)return T("line.colorscale"),s(u,l,h,T,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=g}return 1/0}function f(u,l,g,h){function T(w,C){return m.coerce(u,l,p.dimensions,w,C)}var c=T("values"),a=T("visible");if(c&&c.length||(a=l.visible=!1),a){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),T("multiselect");var x=T("constraintrange");x&&(l.constraintrange=r.cleanRanges(x,l))}}G.exports=function(l,g,h,T){function c(C,y){return m.coerce(l,g,p,C,y)}var a=l.dimensions;Array.isArray(a)&&a.length>t&&(m.log("parcoords traces support up to "+t+" dimensions at the moment"),a.splice(t));var d=S(l,g,{name:"dimensions",layout:T,handleItemDefaults:f}),x=n(l,g,h,T,c);L(g,T,c),(!Array.isArray(d)||!d.length)&&(g.visible=!1),i(g,d,"values",x);var w=m.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});m.coerceFont(c,"labelfont",w),m.coerceFont(c,"tickfont",w,{autoShadowDflt:!0}),m.coerceFont(c,"rangefont",w),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(G,H,e){var m=e(3400).isTypedArray;H.convertTypedArray=function(P){return m(P)?Array.prototype.slice.call(P):P},H.isOrdinal=function(P){return!!P.tickvals},H.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(G,H,e){var m=e(61664);m.plot=e(24196),G.exports=m},51352:function(G,H,e){var m=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),s=e(30140).maxDimensionCount,L=e(3400),S=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(y){y.read({x:0,y:0,width:1,height:1,data:p})}function n(y,M,A,o,E){var b=y._gl;b.enable(b.SCISSOR_TEST),b.scissor(M,A,o,E),y.clear({color:[0,0,0,0],depth:1})}function f(y,M,A,o,E,b){var I=b.key;function D(N){var k=Math.min(o,E-N*o);N===0&&(window.cancelAnimationFrame(A.currentRafs[I]),delete A.currentRafs[I],n(y,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!A.clearOnly&&(b.count=2*k,b.offset=2*N*o,M(b),N*o+k<E&&(A.currentRafs[I]=window.requestAnimationFrame(function(){D(N+1)})),A.drawCompleted=!1)}A.drawCompleted||(i(y),A.drawCompleted=!0),D(0)}function u(y){return Math.max(S,Math.min(1-S,y))}function l(y,M){for(var A=new Array(256),o=0;o<256;o++)A[o]=y(o/255).concat(M);return A}function g(y,M){return(y>>>8*M)%256/255}function h(y,M,A){for(var o=new Array(y*(s+4)),E=0,b=0;b<y;b++){for(var I=0;I<s;I++)o[E++]=I<M.length?M[I].paddedUnitValues[b]:.5;o[E++]=g(b,2),o[E++]=g(b,1),o[E++]=g(b,0),o[E++]=u(A[b])}return o}function T(y,M,A){for(var o=new Array(M*8),E=0,b=0;b<M;b++)for(var I=0;I<2;I++)for(var D=0;D<4;D++){var N=y*4+D,k=A[b*64+N];N===63&&I===0&&(k*=-1),o[E++]=k}return o}function c(y){var M="0"+y;return M.substr(M.length-2)}function a(y){return y<s?"p"+c(y+1)+"_"+c(y+4):"colors"}function d(y,M,A){for(var o=0;o<=s;o+=4)y[a(o)](T(o/4,M,A))}function x(y){for(var M={},A=0;A<=s;A+=4)M[a(A)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return M}function w(y,M,A,o,E,b,I,D,N,k,O,F,z,B){for(var W=[[],[]],J=0;J<64;J++)W[0][J]=J===E?1:0,W[1][J]=J===b?1:0;I*=B,D*=B,N*=B,k*=B;var re=y.lines.canvasOverdrag*B,ne=y.domain,le=y.canvasWidth*B,$=y.canvasHeight*B,K=y.pad.l*B,ie=y.pad.b*B,Y=y.layoutHeight*B,Q=y.layoutWidth*B,oe=y.deselectedLines.color,X=y.deselectedLines.opacity,j=L.extendFlat({key:O,resolution:[le,$],viewBoxPos:[I+re,D],viewBoxSize:[N,k],i0:E,i1:b,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:F,contextColor:[oe[0]/255,oe[1]/255,oe[2]/255,X!=="auto"?oe[3]*X:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(o===M?0:I+re)+(K-re)+Q*ne.x[0],scissorWidth:(o===A?le-I+re:N+.5)+(o===M?I+re:0),scissorY:D+ie+Y*ne.y[0],scissorHeight:k,viewportX:K-re+Q*ne.x[0],viewportY:ie+Y*ne.y[0],viewportWidth:le,viewportHeight:$},z);return j}function C(y){var M=v-1,A=Math.max(0,Math.floor(y[0]*M),0),o=Math.min(M,Math.ceil(y[1]*M),M);return[Math.min(A,o),Math.max(A,o)]}G.exports=function(y,M){var A=M.context,o=M.pick,E=M.regl,b=E._gl,I=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),D=Math.max(I[0],Math.min(I[1],M.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},k,O,F,z,B=x(E),W,J=E.texture(t),re=[];le(M);var ne=E({profile:!1,blend:{enable:A,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!A,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:m,frag:P,primitive:"lines",lineWidth:D,attributes:B,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:J,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function le(oe){k=oe.model,O=oe.viewModel,F=O.dimensions.slice(),z=F[0]?F[0].values.length:0;var X=k.lines,j=o?X.color.map(function(te,fe){return fe/X.color.length}):X.color,se=h(z,F,j);d(B,z,se),!A&&!o&&(J=E.texture(L.extendFlat({data:l(k.unitToColor,255)},t)))}function $(oe){var X,j,se,te=[[],[]];for(se=0;se<64;se++){var fe=!oe&&se<F.length?F[se].brush.filter.getBounds():[-1/0,1/0];te[0][se]=fe[0],te[1][se]=fe[1]}var ge=v*8,be=new Array(ge);for(X=0;X<ge;X++)be[X]=255;if(!oe)for(X=0;X<F.length;X++){var xe=X%8,_e=(X-xe)/8,De=Math.pow(2,xe),Fe=F[X],Te=Fe.brush.filter.get();if(!(Te.length<2)){var Re=C(Te[0])[1];for(j=1;j<Te.length;j++){var Se=C(Te[j]);for(se=Re+1;se<Se[0];se++)be[se*8+_e]&=~De;Re=Math.max(Re,Se[1])}}}var Ie={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:be};return W?W(Ie):W=E.texture(Ie),{maskTexture:W,maskHeight:v,loA:te[0].slice(0,16),loB:te[0].slice(16,32),loC:te[0].slice(32,48),loD:te[0].slice(48,64),hiA:te[1].slice(0,16),hiB:te[1].slice(16,32),hiC:te[1].slice(32,48),hiD:te[1].slice(48,64)}}function K(oe,X,j){var se=oe.length,te,fe,ge,be=1/0,xe=-1/0;for(te=0;te<se;te++)oe[te].dim0.canvasX<be&&(be=oe[te].dim0.canvasX,fe=te),oe[te].dim1.canvasX>xe&&(xe=oe[te].dim1.canvasX,ge=te);se===0&&n(E,0,0,k.canvasWidth,k.canvasHeight);var _e=$(A);for(te=0;te<se;te++){var De=oe[te],Fe=De.dim0.crossfilterDimensionIndex,Te=De.dim1.crossfilterDimensionIndex,Re=De.canvasX,Se=De.canvasY,Ie=Re+De.panelSizeX,Me=De.plotGlPixelRatio;if(X||!re[Fe]||re[Fe][0]!==Re||re[Fe][1]!==Ie){re[Fe]=[Re,Ie];var Ve=w(k,fe,ge,te,Fe,Te,Re,Se,De.panelSizeX,De.panelSizeY,De.dim0.crossfilterDimensionIndex,A?0:o?2:1,_e,Me);N.clearOnly=j;var et=X?k.lines.blockLineCount:z;f(E,ne,N,et,z,Ve)}}}function ie(oe,X){return E.read({x:oe,y:X,width:1,height:1,data:r}),r}function Y(oe,X,j,se){var te=new Uint8Array(4*j*se);return E.read({x:oe,y:X,width:j,height:se,data:te}),te}function Q(){y.style["pointer-events"]="none",J.destroy(),W&&W.destroy();for(var oe in B)B[oe].destroy()}return{render:K,readPixel:ie,readPixels:Y,destroy:Q,update:le}}},26284:function(G){G.exports=function(H,e,m,P){P||(P=1/0);var s,L;for(s=0;s<e.length;s++)L=e[s],L.visible&&(P=Math.min(P,L[m].length));for(P===1/0&&(P=0),H._length=P,s=0;s<e.length;s++)L=e[s],L.visible&&(L._length=P);return P}},36336:function(G,H,e){var m=e(33428),P=e(3400),s=P.isArrayOrTypedArray,L=P.numberFormat,S=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),i=e(43616),n=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,g=f.unwrap,h=e(95724),T=e(30140),c=e(71864),a=e(51352);function d(re,ne,le){return P.aggNums(re,null,ne,le)}function x(re,ne){return C(d(Math.min,re,ne),d(Math.max,re,ne))}function w(re){var ne=re.range;return ne?C(ne[0],ne[1]):x(re.values,re._length)}function C(re,ne){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),re===ne&&(re===0?(re-=1,ne+=1):(re*=.9,ne*=1.1)),[re,ne]}function y(re,ne){return ne?function(le,$){var K=ne[$];return K??re(le)}:re}function M(re,ne,le,$,K){var ie=w(le);return $?m.scale.ordinal().domain($.map(y(L(le.tickformat),K))).range($.map(function(Y){var Q=(Y-ie[0])/(ie[1]-ie[0]);return re-ne+Q*(2*ne-re)})):m.scale.linear().domain(ie).range([re-ne,ne])}function A(re,ne){return m.scale.linear().range([ne,re-ne])}function o(re,ne){return m.scale.linear().domain(w(re)).range([ne,1-ne])}function E(re){if(re.tickvals){var ne=w(re);return m.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(le){return(le-ne[0])/(ne[1]-ne[0])}))}}function b(re){var ne=re.map(function(ie){return ie[0]}),le=re.map(function(ie){var Y=S(ie[1]);return m.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),$=function(ie){return function(Y){return Y[ie]}},K="rgb".split("").map(function(ie){return m.scale.linear().clamp(!0).domain(ne).range(le.map($(ie)))});return function(ie){return K.map(function(Y){return Y(ie)})}}function I(re){return re.dimensions.some(function(ne){return ne.brush.filterSpecified})}function D(re,ne,le){var $=g(ne),K=$.trace,ie=h.convertTypedArray($.lineColor),Y=K.line,Q={color:S(K.unselected.line.color),opacity:K.unselected.line.opacity},oe=n.extractOpts(Y),X=oe.reversescale?n.flipScale($.cscale):$.cscale,j=K.domain,se=K.dimensions,te=re.width,fe=K.labelangle,ge=K.labelside,be=K.labelfont,xe=K.tickfont,_e=K.rangefont,De=P.extendDeepNoArrays({},Y,{color:ie.map(m.scale.linear().domain(w({values:ie,range:[oe.min,oe.max],_length:K._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Fe=Math.floor(te*(j.x[1]-j.x[0])),Te=Math.floor(re.height*(j.y[1]-j.y[0])),Re=re.margin||{l:80,r:80,t:100,b:80},Se=Fe,Ie=Te;return{key:le,colCount:se.filter(h.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:b(X),lines:De,deselectedLines:Q,labelAngle:fe,labelSide:ge,labelFont:be,tickFont:xe,rangeFont:_e,layoutWidth:te,layoutHeight:re.height,domain:j,translateX:j.x[0]*te,translateY:re.height-j.y[1]*re.height,pad:Re,canvasWidth:Se*T.canvasPixelRatio+2*De.canvasOverdrag,canvasHeight:Ie*T.canvasPixelRatio,width:Se,height:Ie,canvasPixelRatio:T.canvasPixelRatio}}function N(re,ne,le){var $=le.width,K=le.height,ie=le.dimensions,Y=le.canvasPixelRatio,Q=function(te){return $*te/Math.max(1,le.colCount-1)},oe=T.verticalPadding/K,X=A(K,T.verticalPadding),j={key:le.key,xScale:Q,model:le,inBrushDrag:!1},se={};return j.dimensions=ie.filter(h.isVisible).map(function(te,fe){var ge=o(te,oe),be=se[te.label];se[te.label]=(be||0)+1;var xe=te.label+(be?"__"+be:""),_e=te.constraintrange,De=_e&&_e.length;De&&!s(_e[0])&&(_e=[_e]);var Fe=De?_e.map(function(Qe){return Qe.map(ge)}):[[-1/0,1/0]],Te=function(){var Qe=j;Qe.focusLayer&&Qe.focusLayer.render(Qe.panels,!0);var ct=I(Qe);!re.contextShown()&&ct?(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0),re.contextShown(!0)):re.contextShown()&&!ct&&(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0,!0),re.contextShown(!1))},Re=te.values;Re.length>te._length&&(Re=Re.slice(0,te._length));var Se=te.tickvals,Ie;function Me(Qe,ct){return{val:Qe,text:Ie[ct]}}function Ve(Qe,ct){return Qe.val-ct.val}if(s(Se)&&Se.length){P.isTypedArray(Se)&&(Se=Array.from(Se)),Ie=te.ticktext,!s(Ie)||!Ie.length?Ie=Se.map(L(te.tickformat)):Ie.length>Se.length?Ie=Ie.slice(0,Se.length):Se.length>Ie.length&&(Se=Se.slice(0,Ie.length));for(var et=1;et<Se.length;et++)if(Se[et]<Se[et-1]){for(var it=Se.map(Me).sort(Ve),Je=0;Je<Se.length;Je++)Se[Je]=it[Je].val,Ie[Je]=it[Je].text;break}}else Se=void 0;return Re=h.convertTypedArray(Re),{key:xe,label:te.label,tickFormat:te.tickformat,tickvals:Se,ticktext:Ie,ordinal:h.isOrdinal(te),multiselect:te.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:te._index,height:K,values:Re,paddedUnitValues:Re.map(ge),unitTickvals:Se&&Se.map(ge),xScale:Q,x:Q(fe),canvasX:Q(fe)*Y,unitToPaddedPx:X,domainScale:M(K,T.verticalPadding,te,Se,Ie),ordinalScale:E(te),parent:j,model:le,brush:c.makeBrush(re,De,Fe,function(){re.linePickActive(!1)},Te,function(Qe){if(j.focusLayer.render(j.panels,!0),j.pickLayer&&j.pickLayer.render(j.panels,!0),re.linePickActive(!0),ne&&ne.filterChanged){var ct=ge.invert,ht=Qe.map(function(gt){return gt.map(ct).sort(P.sorterAsc)}).sort(function(gt,Tt){return gt[0]-Tt[0]});ne.filterChanged(j.key,te._index,ht)}})}}),j}function k(re){re.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function O(){var re=!0,ne=!1;return{linePickActive:function(le){return arguments.length?re=!!le:re},contextShown:function(le){return arguments.length?ne=!!le:ne}}}function F(re,ne){var le=ne==="top"?1:-1,$=re*Math.PI/180,K=Math.sin($),ie=Math.cos($);return{dir:le,dx:K,dy:ie,degrees:re}}function z(re,ne,le){for(var $=ne.panels||(ne.panels=[]),K=re.data(),ie=0;ie<K.length-1;ie++){var Y=$[ie]||($[ie]={}),Q=K[ie],oe=K[ie+1];Y.dim0=Q,Y.dim1=oe,Y.canvasX=Q.canvasX,Y.panelSizeX=oe.canvasX-Q.canvasX,Y.panelSizeY=ne.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=le}}function B(re){for(var ne=0;ne<re.length;ne++)for(var le=0;le<re[ne].length;le++)for(var $=re[ne][le].trace,K=$.dimensions,ie=0;ie<K.length;ie++){var Y=K[ie].values,Q=K[ie]._ax;Q&&(Q.range?Q.range=C(Q.range[0],Q.range[1]):Q.range=x(Y,$._length),Q.dtick||(Q.dtick=.01*(Math.abs(Q.range[1]-Q.range[0])||1)),Q.tickformat=K[ie].tickformat,v.calcTicks(Q),Q.cleanRange())}}function W(re,ne){return v.tickText(re._ax,ne,!1).text}function J(re,ne){if(re.ordinal)return"";var le=re.domainScale.domain(),$=le[ne?le.length-1:0];return W(re.model.dimensions[re.visibleIndex],$)}G.exports=function(ne,le,$,K){var ie=ne._context.staticPlot,Y=ne._fullLayout,Q=Y._toppaper,oe=Y._glcontainer,X=ne._context.plotGlPixelRatio,j=ne._fullLayout.paper_bgcolor;B(le);var se=O(),te=le.filter(function(Je){return g(Je).trace.visible}).map(D.bind(0,$)).map(N.bind(0,se,K));oe.each(function(Je,Qe){return P.extendFlat(Je,te[Qe])});var fe=oe.selectAll(".gl-canvas").each(function(Je){Je.viewModel=te[0],Je.viewModel.plotGlPixelRatio=X,Je.viewModel.paperColor=j,Je.model=Je.viewModel?Je.viewModel.model:null}),ge=null,be=fe.filter(function(Je){return Je.pick});be.style("pointer-events",ie?"none":"auto").on("mousemove",function(Je){if(se.linePickActive()&&Je.lineLayer&&K&&K.hover){var Qe=m.event,ct=this.width,ht=this.height,gt=m.mouse(this),Tt=gt[0],Et=gt[1];if(Tt<0||Et<0||Tt>=ct||Et>=ht)return;var rt=Je.lineLayer.readPixel(Tt,ht-1-Et),ze=rt[3]!==0,He=ze?rt[2]+256*(rt[1]+256*rt[0]):null,Ge={x:Tt,y:Et,clientX:Qe.clientX,clientY:Qe.clientY,dataIndex:Je.model.key,curveNumber:He};He!==ge&&(ze?K.hover(Ge):K.unhover&&K.unhover(Ge),ge=He)}}),fe.style("opacity",function(Je){return Je.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var xe=Q.selectAll("."+T.cn.parcoords).data(te,u);xe.exit().remove(),xe.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),xe.attr("transform",function(Je){return r(Je.model.translateX,Je.model.translateY)});var _e=xe.selectAll("."+T.cn.parcoordsControlView).data(l,u);_e.enter().append("g").classed(T.cn.parcoordsControlView,!0),_e.attr("transform",function(Je){return r(Je.model.pad.l,Je.model.pad.t)});var De=_e.selectAll("."+T.cn.yAxis).data(function(Je){return Je.dimensions},u);De.enter().append("g").classed(T.cn.yAxis,!0),_e.each(function(Je){z(De,Je,X)}),fe.each(function(Je){if(Je.viewModel){!Je.lineLayer||K?Je.lineLayer=a(this,Je):Je.lineLayer.update(Je),(Je.key||Je.key===0)&&(Je.viewModel[Je.key]=Je.lineLayer);var Qe=!Je.context||K;Je.lineLayer.render(Je.viewModel.panels,Qe)}}),De.attr("transform",function(Je){return r(Je.xScale(Je.xIndex),0)}),De.call(m.behavior.drag().origin(function(Je){return Je}).on("drag",function(Je){var Qe=Je.parent;se.linePickActive(!1),Je.x=Math.max(-T.overdrag,Math.min(Je.model.width+T.overdrag,m.event.x)),Je.canvasX=Je.x*Je.model.canvasPixelRatio,De.sort(function(ct,ht){return ct.x-ht.x}).each(function(ct,ht){ct.xIndex=ht,ct.x=Je===ct?ct.x:ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio}),z(De,Qe,X),De.filter(function(ct){return Math.abs(Je.xIndex-ct.xIndex)!==0}).attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),m.select(this).attr("transform",r(Je.x,0)),De.each(function(ct,ht,gt){gt===Je.parent.key&&(Qe.dimensions[ht]=ct)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!I(Qe)),Qe.focusLayer.render&&Qe.focusLayer.render(Qe.panels)}).on("dragend",function(Je){var Qe=Je.parent;Je.x=Je.xScale(Je.xIndex),Je.canvasX=Je.x*Je.model.canvasPixelRatio,z(De,Qe,X),m.select(this).attr("transform",function(ct){return r(ct.x,0)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!I(Qe)),Qe.focusLayer&&Qe.focusLayer.render(Qe.panels),Qe.pickLayer&&Qe.pickLayer.render(Qe.panels,!0),se.linePickActive(!0),K&&K.axesMoved&&K.axesMoved(Qe.key,Qe.dimensions.map(function(ct){return ct.crossfilterDimensionIndex}))})),De.exit().remove();var Fe=De.selectAll("."+T.cn.axisOverlays).data(l,u);Fe.enter().append("g").classed(T.cn.axisOverlays,!0),Fe.selectAll("."+T.cn.axis).remove();var Te=Fe.selectAll("."+T.cn.axis).data(l,u);Te.enter().append("g").classed(T.cn.axis,!0),Te.each(function(Je){var Qe=Je.model.height/Je.model.tickDistance,ct=Je.domainScale,ht=ct.domain();m.select(this).call(m.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Qe,Je.tickFormat).tickValues(Je.ordinal?ht:null).tickFormat(function(gt){return h.isOrdinal(Je)?gt:W(Je.model.dimensions[Je.visibleIndex],gt)}).scale(ct)),i.font(Te.selectAll("text"),Je.model.tickFont)}),Te.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Te.selectAll("text").style("cursor","default");var Re=Fe.selectAll("."+T.cn.axisHeading).data(l,u);Re.enter().append("g").classed(T.cn.axisHeading,!0);var Se=Re.selectAll("."+T.cn.axisTitle).data(l,u);Se.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),Se.text(function(Je){return Je.label}).each(function(Je){var Qe=m.select(this);i.font(Qe,Je.model.labelFont),t.convertToTspans(Qe,ne)}).attr("transform",function(Je){var Qe=F(Je.model.labelAngle,Je.model.labelSide),ct=T.axisTitleOffset;return(Qe.dir>0?"":r(0,2*ct+Je.model.height))+p(Qe.degrees)+r(-ct*Qe.dx,-ct*Qe.dy)}).attr("text-anchor",function(Je){var Qe=F(Je.model.labelAngle,Je.model.labelSide),ct=Math.abs(Qe.dx),ht=Math.abs(Qe.dy);return 2*ct>ht?Qe.dir*Qe.dx<0?"start":"end":"middle"});var Ie=Fe.selectAll("."+T.cn.axisExtent).data(l,u);Ie.enter().append("g").classed(T.cn.axisExtent,!0);var Me=Ie.selectAll("."+T.cn.axisExtentTop).data(l,u);Me.enter().append("g").classed(T.cn.axisExtentTop,!0),Me.attr("transform",r(0,-T.axisExtentOffset));var Ve=Me.selectAll("."+T.cn.axisExtentTopText).data(l,u);Ve.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(k),Ve.text(function(Je){return J(Je,!0)}).each(function(Je){i.font(m.select(this),Je.model.rangeFont)});var et=Ie.selectAll("."+T.cn.axisExtentBottom).data(l,u);et.enter().append("g").classed(T.cn.axisExtentBottom,!0),et.attr("transform",function(Je){return r(0,Je.model.height+T.axisExtentOffset)});var it=et.selectAll("."+T.cn.axisExtentBottomText).data(l,u);it.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(k),it.text(function(Je){return J(Je,!1)}).each(function(Je){i.font(m.select(this),Je.model.rangeFont)}),c.ensureAxisBrush(Fe,j,ne)}},24196:function(G,H,e){var m=e(36336),P=e(5048),s=e(95724).isVisible,L={};function S(r,t,i){var n=t.indexOf(i),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return S(r,t,n)-S(r,t,f)}}var p=G.exports=function(t,i){var n=t._fullLayout,f=P(t,[],L);if(f){var u={},l={},g={},h={},T=n._size;i.forEach(function(w,C){var y=w[0].trace;g[C]=y.index;var M=h[C]=y._fullInput.index;u[C]=t.data[M].dimensions,l[C]=t.data[M].dimensions.slice()});var c=function(w,C,y){var M=l[w][C],A=y.map(function(N){return N.slice()}),o="dimensions["+C+"].constraintrange",E=n._tracePreGUI[t._fullData[g[w]]._fullInput.uid];if(E[o]===void 0){var b=M.constraintrange;E[o]=b||null}var I=t._fullData[g[w]].dimensions[C];A.length?(A.length===1&&(A=A[0]),M.constraintrange=A,I.constraintrange=A.slice(),A=[A]):(delete M.constraintrange,delete I.constraintrange,A=null);var D={};D[o]=A,t.emit("plotly_restyle",[D,[h[w]]])},a=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},x=function(w,C){var y=v(C,l[w].filter(s));u[w].sort(y),l[w].filter(function(M){return!s(M)}).sort(function(M){return l[w].indexOf(M)}).forEach(function(M){u[w].splice(u[w].indexOf(M),1),u[w].splice(l[w].indexOf(M),0,M)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[h[w]]])};m(t,i,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:c,hover:a,unhover:d,axesMoved:x})}};p.reglPrecompiled=L},74996:function(G,H,e){var m=e(45464),P=e(86968).u,s=e(25376),L=e(22548),S=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},m.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(G,H,e){var m=e(7316);H.name="pie",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},45768:function(G,H,e){var m=e(38248),P=e(49760),s=e(76308),L={};function S(t,i){var n=[],f=t._fullLayout,u=f.hiddenlabels||[],l=i.labels,g=i.marker.colors||[],h=i.values,T=i._length,c=i._hasValues&&T,a,d;if(i.dlabel)for(l=new Array(T),a=0;a<T;a++)l[a]=String(i.label0+a*i.dlabel);var x={},w=v(f["_"+i.type+"colormap"]),C=0,y=!1;for(a=0;a<T;a++){var M,A,o;if(c){if(M=h[a],!m(M))continue;M=+M}else M=1;A=l[a],(A===void 0||A==="")&&(A=a),A=String(A);var E=x[A];E===void 0?(x[A]=n.length,o=u.indexOf(A)!==-1,o||(C+=M),n.push({v:M,label:A,color:w(g[a],A),i:a,pts:[a],hidden:o})):(y=!0,d=n[E],d.v+=M,d.pts.push(a),d.hidden||(C+=M),d.color===!1&&g[a]&&(d.color=w(g[a],A)))}n=n.filter(function(I){return I.v>=0});var b=i.type==="funnelarea"?y:i.sort;return b&&n.sort(function(I,D){return D.v-I.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,f){return!n||(n=P(n),!n.isValid())?!1:(n=s.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function p(t,i){var n=(i||{}).type;n||(n="pie");var f=t._fullLayout,u=t.calcdata,l=f[n+"colorway"],g=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(l=r(l,L));for(var h=0,T=0;T<u.length;T++){var c=u[T],a=c[0].trace.type;if(a===n)for(var d=0;d<c.length;d++){var x=c[d];x.color===!1&&(g[x.label]?x.color=g[x.label]:(g[x.label]=x.color=l[h%l.length],h++))}}}function r(t,i){var n,f=JSON.stringify(t),u=i[f];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(P(t[n]).darken(20).toHexString());i[f]=u}return u}G.exports={calc:S,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(G,H,e){var m=e(38248),P=e(3400),s=e(74996),L=e(86968).Q,S=e(31508).handleText,v=e(3400).coercePattern;function p(i,n){var f=P.isArrayOrTypedArray(i),u=P.isArrayOrTypedArray(n),l=Math.min(f?i.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var g,h=0;h<l;h++){var T=n[h];if(m(T)&&T>0){g=!0;break}}g||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(i,n,f,u,l){var g=u("marker.line.width");g&&u("marker.line.color",l?void 0:f.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(i,n,f,u){function l(E,b){return P.coerce(i,n,s,E,b)}var g=l("labels"),h=l("values"),T=p(g,h),c=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(i,n,u,l,!0),l("scalegroup");var a=l("text"),d=l("texttemplate"),x;if(d||(x=l("textinfo",P.isArrayOrTypedArray(a)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||x&&x!=="none"){var w=l("textposition");S(i,n,u,l,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(w)||w==="auto",y=C||w==="outside";y&&l("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&l("insidetextorientation")}else x==="none"&&l("textposition","none");L(n,u,l);var M=l("hole"),A=l("title.text");if(A){var o=l("title.position",M?"middle center":"top center");!M&&o==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(G,H,e){var m=e(10624).appendArrayMultiPointValues;G.exports=function(s,L){var S={curveNumber:L.index,pointNumbers:s.pts,data:L._input,fullData:L,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(S.pointNumber=S.i=s.pts[0]),m(S,L,s.pts),L.type==="funnelarea"&&(delete S.v,delete S.i),S}},21552:function(G,H,e){var m=e(43616),P=e(76308);G.exports=function(L,S,v,p){var r=v.marker.pattern;r&&r.shape?m.pointStyle(L,v,p,S):P.fill(L,S.color)}},69656:function(G,H,e){var m=e(3400);function P(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}H.formatPiePercent=function(L,S){var v=P((L*100).toPrecision(3));return m.numSeparate(v,S)+"%"},H.formatPieValue=function(L,S){var v=P(L.toPrecision(10));return m.numSeparate(v,S)},H.getFirstFilled=function(L,S){if(m.isArrayOrTypedArray(L))for(var v=0;v<S.length;v++){var p=L[S[v]];if(p||p===0||p==="")return p}},H.castOption=function(L,S){if(m.isArrayOrTypedArray(L))return H.getFirstFilled(L,S);if(L)return L},H.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},75792:function(G,H,e){G.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(G,H,e){var m=e(3400),P=e(85204);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("hiddenlabels"),v("piecolorway",S.colorway),v("extendpiecolors")}},37820:function(G,H,e){var m=e(33428),P=e(7316),s=e(93024),L=e(76308),S=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),i=e(82744),n=i.recordMinTextSize,f=i.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),g=e(53644),h=e(3400).isValidTextValue;function T(K,ie){var Y=K._context.staticPlot,Q=K._fullLayout,oe=Q._size;f("pie",Q),w(ie,K),W(ie,oe);var X=v.makeTraceGroups(Q._pielayer,ie,"trace").each(function(j){var se=m.select(this),te=j[0],fe=te.trace;re(j),se.attr("stroke-linejoin","round"),se.each(function(){var ge=m.select(this).selectAll("g.slice").data(j);ge.enter().append("g").classed("slice",!0),ge.exit().remove();var be=[[[],[]],[[],[]]],xe=!1;ge.each(function(Me,Ve){if(Me.hidden){m.select(this).selectAll("path,g").remove();return}Me.pointNumber=Me.i,Me.curveNumber=fe.index,be[Me.pxmid[1]<0?0:1][Me.pxmid[0]<0?0:1].push(Me);var et=te.cx,it=te.cy,Je=m.select(this),Qe=Je.selectAll("path.surface").data([Me]);if(Qe.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),Je.call(a,K,j),fe.pull){var ct=+l.castOption(fe.pull,Me.pts)||0;ct>0&&(et+=ct*Me.pxmid[0],it+=ct*Me.pxmid[1])}Me.cxFinal=et,Me.cyFinal=it;function ht(Ge,We,Le,Pe){var je=Pe*(We[0]-Ge[0]),Ce=Pe*(We[1]-Ge[1]);return"a"+Pe*te.r+","+Pe*te.r+" 0 "+Me.largeArc+(Le?" 1 ":" 0 ")+je+","+Ce}var gt=fe.hole;if(Me.v===te.vTotal){var Tt="M"+(et+Me.px0[0])+","+(it+Me.px0[1])+ht(Me.px0,Me.pxmid,!0,1)+ht(Me.pxmid,Me.px0,!0,1)+"Z";gt?Qe.attr("d","M"+(et+gt*Me.px0[0])+","+(it+gt*Me.px0[1])+ht(Me.px0,Me.pxmid,!1,gt)+ht(Me.pxmid,Me.px0,!1,gt)+"Z"+Tt):Qe.attr("d",Tt)}else{var Et=ht(Me.px0,Me.px1,!0,1);if(gt){var rt=1-gt;Qe.attr("d","M"+(et+gt*Me.px1[0])+","+(it+gt*Me.px1[1])+ht(Me.px1,Me.px0,!1,gt)+"l"+rt*Me.px0[0]+","+rt*Me.px0[1]+Et+"Z")}else Qe.attr("d","M"+et+","+it+"l"+Me.px0[0]+","+Me.px0[1]+Et+"Z")}le(K,Me,te);var ze=l.castOption(fe.textposition,Me.pts),He=Je.selectAll("g.slicetext").data(Me.text&&ze!=="none"?[0]:[]);He.enter().append("g").classed("slicetext",!0),He.exit().remove(),He.each(function(){var Ge=v.ensureSingle(m.select(this),"text","",function(Ne){Ne.attr("data-notex",1)}),We=v.ensureUniformFontSize(K,ze==="outside"?d(fe,Me,Q.font):x(fe,Me,Q.font));Ge.text(Me.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,We).call(t.convertToTspans,K);var Le=S.bBox(Ge.node()),Pe;if(ze==="outside")Pe=D(Le,Me);else if(Pe=C(Le,Me,te),ze==="auto"&&Pe.scale<1){var je=v.ensureUniformFontSize(K,fe.outsidetextfont);Ge.call(S.font,je),Le=S.bBox(Ge.node()),Pe=D(Le,Me)}var Ce=Pe.textPosAngle,he=Ce===void 0?Me.pxmid:ne(te.r,Ce);if(Pe.targetX=et+he[0]*Pe.rCenter+(Pe.x||0),Pe.targetY=it+he[1]*Pe.rCenter+(Pe.y||0),$(Pe,Le),Pe.outside){var me=Pe.targetY;Me.yLabelMin=me-Le.height/2,Me.yLabelMid=me,Me.yLabelMax=me+Le.height/2,Me.labelExtraX=0,Me.labelExtraY=0,xe=!0}Pe.fontSize=We.size,n(fe.type,Pe,Q),j[Ve].transform=Pe,v.setTransormAndDisplay(Ge,Pe)})});var _e=m.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(_e.enter().append("g").classed("titletext",!0),_e.exit().remove(),_e.each(function(){var Me=v.ensureSingle(m.select(this),"text","",function(it){it.attr("data-notex",1)}),Ve=fe.title.text;fe._meta&&(Ve=v.templateString(Ve,fe._meta)),Me.text(Ve).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,fe.title.font).call(t.convertToTspans,K);var et;fe.title.position==="middle center"?et=N(te):et=k(te,oe),Me.attr("transform",r(et.x,et.y)+p(Math.min(1,et.scale))+r(et.tx,et.ty))}),xe&&B(be,fe),c(ge,fe),xe&&fe.automargin){var De=S.bBox(se.node()),Fe=fe.domain,Te=oe.w*(Fe.x[1]-Fe.x[0]),Re=oe.h*(Fe.y[1]-Fe.y[0]),Se=(.5*Te-te.r)/oe.w,Ie=(.5*Re-te.r)/oe.h;P.autoMargin(K,"pie."+fe.uid+".automargin",{xl:Fe.x[0]-Se,xr:Fe.x[1]+Se,yb:Fe.y[0]-Ie,yt:Fe.y[1]+Ie,l:Math.max(te.cx-te.r-De.left,0),r:Math.max(De.right-(te.cx+te.r),0),b:Math.max(De.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-De.top,0),pad:5})}})});setTimeout(function(){X.selectAll("tspan").each(function(){var j=m.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function c(K,ie){K.each(function(Y){var Q=m.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){Q.select("path.textline").remove();return}var oe=Q.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(oe,Y.transform);var X=Y.cxFinal+Y.pxmid[0],j=Y.cyFinal+Y.pxmid[1],se="M"+X+","+j,te=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var fe=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],ge=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(fe)>Math.abs(ge)?se+="l"+ge*Y.pxmid[0]/Y.pxmid[1]+","+ge+"H"+(X+Y.labelExtraX+te):se+="l"+Y.labelExtraX+","+fe+"v"+(ge-fe)+"h"+te}else se+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+te;v.ensureSingle(Q,"path","textline").call(L.stroke,ie.outsidetextfont.color).attr({"stroke-width":Math.min(2,ie.outsidetextfont.size/8),d:se,fill:"none"})})}function a(K,ie,Y){var Q=Y[0],oe=Q.cx,X=Q.cy,j=Q.trace,se=j.type==="funnelarea";"_hasHoverLabel"in j||(j._hasHoverLabel=!1),"_hasHoverEvent"in j||(j._hasHoverEvent=!1),K.on("mouseover",function(te){var fe=ie._fullLayout,ge=ie._fullData[j.index];if(!(ie._dragging||fe.hovermode===!1)){var be=ge.hoverinfo;if(Array.isArray(be)&&(be=s.castHoverinfo({hoverinfo:[l.castOption(be,te.pts)],_module:j._module},fe,0)),be==="all"&&(be="label+text+value+percent+name"),ge.hovertemplate||be!=="none"&&be!=="skip"&&be){var xe=te.rInscribed||0,_e=oe+te.pxmid[0]*(1-xe),De=X+te.pxmid[1]*(1-xe),Fe=fe.separators,Te=[];if(be&&be.indexOf("label")!==-1&&Te.push(te.label),te.text=l.castOption(ge.hovertext||ge.text,te.pts),be&&be.indexOf("text")!==-1){var Re=te.text;v.isValidTextValue(Re)&&Te.push(Re)}te.value=te.v,te.valueLabel=l.formatPieValue(te.v,Fe),be&&be.indexOf("value")!==-1&&Te.push(te.valueLabel),te.percent=te.v/Q.vTotal,te.percentLabel=l.formatPiePercent(te.percent,Fe),be&&be.indexOf("percent")!==-1&&Te.push(te.percentLabel);var Se=ge.hoverlabel,Ie=Se.font,Me=[];s.loneHover({trace:j,x0:_e-xe*Q.r,x1:_e+xe*Q.r,y:De,_x0:se?oe+te.TL[0]:_e-xe*Q.r,_x1:se?oe+te.TR[0]:_e+xe*Q.r,_y0:se?X+te.TL[1]:De-xe*Q.r,_y1:se?X+te.BL[1]:De+xe*Q.r,text:Te.join("<br>"),name:ge.hovertemplate||be.indexOf("name")!==-1?ge.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:l.castOption(Se.bgcolor,te.pts)||te.color,borderColor:l.castOption(Se.bordercolor,te.pts),fontFamily:l.castOption(Ie.family,te.pts),fontSize:l.castOption(Ie.size,te.pts),fontColor:l.castOption(Ie.color,te.pts),nameLength:l.castOption(Se.namelength,te.pts),textAlign:l.castOption(Se.align,te.pts),hovertemplate:l.castOption(ge.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[g(te,ge)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:ie,inOut_bbox:Me}),te.bbox=Me[0],j._hasHoverLabel=!0}j._hasHoverEvent=!0,ie.emit("plotly_hover",{points:[g(te,ge)],event:m.event})}}),K.on("mouseout",function(te){var fe=ie._fullLayout,ge=ie._fullData[j.index],be=m.select(this).datum();j._hasHoverEvent&&(te.originalEvent=m.event,ie.emit("plotly_unhover",{points:[g(be,ge)],event:m.event}),j._hasHoverEvent=!1),j._hasHoverLabel&&(s.loneUnhover(fe._hoverlayer.node()),j._hasHoverLabel=!1)}),K.on("click",function(te){var fe=ie._fullLayout,ge=ie._fullData[j.index];ie._dragging||fe.hovermode===!1||(ie._hoverdata=[g(te,ge)],s.click(ie,m.event))})}function d(K,ie,Y){var Q=l.castOption(K.outsidetextfont.color,ie.pts)||l.castOption(K.textfont.color,ie.pts)||Y.color,oe=l.castOption(K.outsidetextfont.family,ie.pts)||l.castOption(K.textfont.family,ie.pts)||Y.family,X=l.castOption(K.outsidetextfont.size,ie.pts)||l.castOption(K.textfont.size,ie.pts)||Y.size,j=l.castOption(K.outsidetextfont.weight,ie.pts)||l.castOption(K.textfont.weight,ie.pts)||Y.weight,se=l.castOption(K.outsidetextfont.style,ie.pts)||l.castOption(K.textfont.style,ie.pts)||Y.style,te=l.castOption(K.outsidetextfont.variant,ie.pts)||l.castOption(K.textfont.variant,ie.pts)||Y.variant,fe=l.castOption(K.outsidetextfont.textcase,ie.pts)||l.castOption(K.textfont.textcase,ie.pts)||Y.textcase,ge=l.castOption(K.outsidetextfont.lineposition,ie.pts)||l.castOption(K.textfont.lineposition,ie.pts)||Y.lineposition,be=l.castOption(K.outsidetextfont.shadow,ie.pts)||l.castOption(K.textfont.shadow,ie.pts)||Y.shadow;return{color:Q,family:oe,size:X,weight:j,style:se,variant:te,textcase:fe,lineposition:ge,shadow:be}}function x(K,ie,Y){var Q=l.castOption(K.insidetextfont.color,ie.pts);!Q&&K._input.textfont&&(Q=l.castOption(K._input.textfont.color,ie.pts));var oe=l.castOption(K.insidetextfont.family,ie.pts)||l.castOption(K.textfont.family,ie.pts)||Y.family,X=l.castOption(K.insidetextfont.size,ie.pts)||l.castOption(K.textfont.size,ie.pts)||Y.size,j=l.castOption(K.insidetextfont.weight,ie.pts)||l.castOption(K.textfont.weight,ie.pts)||Y.weight,se=l.castOption(K.insidetextfont.style,ie.pts)||l.castOption(K.textfont.style,ie.pts)||Y.style,te=l.castOption(K.insidetextfont.variant,ie.pts)||l.castOption(K.textfont.variant,ie.pts)||Y.variant,fe=l.castOption(K.insidetextfont.textcase,ie.pts)||l.castOption(K.textfont.textcase,ie.pts)||Y.textcase,ge=l.castOption(K.insidetextfont.lineposition,ie.pts)||l.castOption(K.textfont.lineposition,ie.pts)||Y.lineposition,be=l.castOption(K.insidetextfont.shadow,ie.pts)||l.castOption(K.textfont.shadow,ie.pts)||Y.shadow;return{color:Q||L.contrast(ie.color),family:oe,size:X,weight:j,style:se,variant:te,textcase:fe,lineposition:ge,shadow:be}}function w(K,ie){for(var Y,Q,oe=0;oe<K.length;oe++)if(Y=K[oe][0],Q=Y.trace,Q.title.text){var X=Q.title.text;Q._meta&&(X=v.templateString(X,Q._meta));var j=S.tester.append("text").attr("data-notex",1).text(X).call(S.font,Q.title.font).call(t.convertToTspans,ie),se=S.bBox(j.node(),!0);Y.titleBox={width:se.width,height:se.height},j.remove()}}function C(K,ie,Y){var Q=Y.r||ie.rpx1,oe=ie.rInscribed,X=ie.startangle===ie.stopangle;if(X)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var j=ie.ring,se=j===1&&Math.abs(ie.startangle-ie.stopangle)===Math.PI*2,te=ie.halfangle,fe=ie.midangle,ge=Y.trace.insidetextorientation,be=ge==="horizontal",xe=ge==="tangential",_e=ge==="radial",De=ge==="auto",Fe=[],Te;if(!De){var Re=function(Je,Qe){if(y(ie,Je)){var ct=Math.abs(Je-ie.startangle),ht=Math.abs(Je-ie.stopangle),gt=ct<ht?ct:ht;Qe==="tan"?Te=A(K,Q,j,gt,0):Te=M(K,Q,j,gt,Math.PI/2),Te.textPosAngle=Je,Fe.push(Te)}},Se;if(be||xe){for(Se=4;Se>=-4;Se-=2)Re(Math.PI*Se,"tan");for(Se=4;Se>=-4;Se-=2)Re(Math.PI*(Se+1),"tan")}if(be||_e){for(Se=4;Se>=-4;Se-=2)Re(Math.PI*(Se+1.5),"rad");for(Se=4;Se>=-4;Se-=2)Re(Math.PI*(Se+.5),"rad")}}if(se||De||be){var Ie=Math.sqrt(K.width*K.width+K.height*K.height);if(Te={scale:oe*Q*2/Ie,rCenter:1-oe,rotate:0},Te.textPosAngle=(ie.startangle+ie.stopangle)/2,Te.scale>=1)return Te;Fe.push(Te)}(De||_e)&&(Te=M(K,Q,j,te,fe),Te.textPosAngle=(ie.startangle+ie.stopangle)/2,Fe.push(Te)),(De||xe)&&(Te=A(K,Q,j,te,fe),Te.textPosAngle=(ie.startangle+ie.stopangle)/2,Fe.push(Te));for(var Me=0,Ve=0,et=0;et<Fe.length;et++){var it=Fe[et].scale;if(Ve<it&&(Ve=it,Me=et),!De&&Ve>=1)break}return Fe[Me]}function y(K,ie){var Y=K.startangle,Q=K.stopangle;return Y>ie&&ie>Q||Y<ie&&ie<Q}function M(K,ie,Y,Q,oe){ie=Math.max(0,ie-2*u);var X=K.width/K.height,j=b(X,Q,ie,Y);return{scale:j*2/K.height,rCenter:o(X,j/ie),rotate:E(oe)}}function A(K,ie,Y,Q,oe){ie=Math.max(0,ie-2*u);var X=K.height/K.width,j=b(X,Q,ie,Y);return{scale:j*2/K.width,rCenter:o(X,j/ie),rotate:E(oe+Math.PI/2)}}function o(K,ie){return Math.cos(ie)-K*ie}function E(K){return(180/Math.PI*K+720)%180-90}function b(K,ie,Y,Q){var oe=K+1/(2*Math.tan(ie));return Y*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),Q/(Math.sqrt(K*K+Q/2)+K))}function I(K,ie){return K.v===ie.vTotal&&!ie.trace.hole?1:Math.min(1/(1+1/Math.sin(K.halfangle)),K.ring/2)}function D(K,ie){var Y=ie.pxmid[0],Q=ie.pxmid[1],oe=K.width/2,X=K.height/2;return Y<0&&(oe*=-1),Q<0&&(X*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(X)*(oe>0?1:-1)/2,y:X/(1+Y*Y/(Q*Q)),outside:!0}}function N(K){var ie=Math.sqrt(K.titleBox.width*K.titleBox.width+K.titleBox.height*K.titleBox.height);return{x:K.cx,y:K.cy,scale:K.trace.hole*K.r*2/ie,tx:0,ty:-K.titleBox.height/2+K.trace.title.font.size}}function k(K,ie){var Y=1,Q=1,oe,X=K.trace,j={x:K.cx,y:K.cy},se={tx:0,ty:0};se.ty+=X.title.font.size,oe=z(X),X.title.position.indexOf("top")!==-1?(j.y-=(1+oe)*K.r,se.ty-=K.titleBox.height):X.title.position.indexOf("bottom")!==-1&&(j.y+=(1+oe)*K.r);var te=O(K.r,K.trace.aspectratio),fe=ie.w*(X.domain.x[1]-X.domain.x[0])/2;return X.title.position.indexOf("left")!==-1?(fe=fe+te,j.x-=(1+oe)*te,se.tx+=K.titleBox.width/2):X.title.position.indexOf("center")!==-1?fe*=2:X.title.position.indexOf("right")!==-1&&(fe=fe+te,j.x+=(1+oe)*te,se.tx-=K.titleBox.width/2),Y=fe/K.titleBox.width,Q=F(K,ie)/K.titleBox.height,{x:j.x,y:j.y,scale:Math.min(Y,Q),tx:se.tx,ty:se.ty}}function O(K,ie){return K/(ie===void 0?1:ie)}function F(K,ie){var Y=K.trace,Q=ie.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(K.titleBox.height,Q/2)}function z(K){var ie=K.pull;if(!ie)return 0;var Y;if(v.isArrayOrTypedArray(ie))for(ie=0,Y=0;Y<K.pull.length;Y++)K.pull[Y]>ie&&(ie=K.pull[Y]);return ie}function B(K,ie){var Y,Q,oe,X,j,se,te,fe,ge,be,xe,_e,De;function Fe(Ie,Me){return Ie.pxmid[1]-Me.pxmid[1]}function Te(Ie,Me){return Me.pxmid[1]-Ie.pxmid[1]}function Re(Ie,Me){Me||(Me={});var Ve=Me.labelExtraY+(Q?Me.yLabelMax:Me.yLabelMin),et=Q?Ie.yLabelMin:Ie.yLabelMax,it=Q?Ie.yLabelMax:Ie.yLabelMin,Je=Ie.cyFinal+j(Ie.px0[1],Ie.px1[1]),Qe=Ve-et,ct,ht,gt,Tt,Et,rt;if(Qe*te>0&&(Ie.labelExtraY=Qe),!!v.isArrayOrTypedArray(ie.pull))for(ht=0;ht<be.length;ht++)gt=be[ht],!(gt===Ie||(l.castOption(ie.pull,Ie.pts)||0)>=(l.castOption(ie.pull,gt.pts)||0))&&((Ie.pxmid[1]-gt.pxmid[1])*te>0?(Tt=gt.cyFinal+j(gt.px0[1],gt.px1[1]),Qe=Tt-et-Ie.labelExtraY,Qe*te>0&&(Ie.labelExtraY+=Qe)):(it+Ie.labelExtraY-Je)*te>0&&(ct=3*se*Math.abs(ht-be.indexOf(Ie)),Et=gt.cxFinal+X(gt.px0[0],gt.px1[0]),rt=Et+ct-(Ie.cxFinal+Ie.pxmid[0])-Ie.labelExtraX,rt*se>0&&(Ie.labelExtraX+=rt)))}for(Q=0;Q<2;Q++)for(oe=Q?Fe:Te,j=Q?Math.max:Math.min,te=Q?1:-1,Y=0;Y<2;Y++){for(X=Y?Math.max:Math.min,se=Y?1:-1,fe=K[Q][Y],fe.sort(oe),ge=K[1-Q][Y],be=ge.concat(fe),_e=[],xe=0;xe<fe.length;xe++)fe[xe].yLabelMid!==void 0&&_e.push(fe[xe]);for(De=!1,xe=0;Q&&xe<ge.length;xe++)if(ge[xe].yLabelMid!==void 0){De=ge[xe];break}for(xe=0;xe<_e.length;xe++){var Se=xe&&_e[xe-1];De&&!xe&&(Se=De),Re(_e[xe],Se)}}}function W(K,ie){for(var Y=[],Q=0;Q<K.length;Q++){var oe=K[Q][0],X=oe.trace,j=X.domain,se=ie.w*(j.x[1]-j.x[0]),te=ie.h*(j.y[1]-j.y[0]);X.title.text&&X.title.position!=="middle center"&&(te-=F(oe,ie));var fe=se/2,ge=te/2;X.type==="funnelarea"&&!X.scalegroup&&(ge/=X.aspectratio),oe.r=Math.min(fe,ge)/(1+z(X)),oe.cx=ie.l+ie.w*(X.domain.x[1]+X.domain.x[0])/2,oe.cy=ie.t+ie.h*(1-X.domain.y[0])-te/2,X.title.text&&X.title.position.indexOf("bottom")!==-1&&(oe.cy-=F(oe,ie)),X.scalegroup&&Y.indexOf(X.scalegroup)===-1&&Y.push(X.scalegroup)}J(K,Y)}function J(K,ie){for(var Y,Q,oe,X=0;X<ie.length;X++){var j=1/0,se=ie[X];for(Q=0;Q<K.length;Q++)if(Y=K[Q][0],oe=Y.trace,oe.scalegroup===se){var te;if(oe.type==="pie")te=Y.r*Y.r;else if(oe.type==="funnelarea"){var fe,ge;oe.aspectratio>1?(fe=Y.r,ge=fe/oe.aspectratio):(ge=Y.r,fe=ge*oe.aspectratio),fe*=(1+oe.baseratio)/2,te=fe*ge}j=Math.min(j,te/Y.vTotal)}for(Q=0;Q<K.length;Q++)if(Y=K[Q][0],oe=Y.trace,oe.scalegroup===se){var be=j*Y.vTotal;oe.type==="funnelarea"&&(be/=(1+oe.baseratio)/2,be/=oe.aspectratio),Y.r=Math.sqrt(be)}}}function re(K){var ie=K[0],Y=ie.r,Q=ie.trace,oe=l.getRotationAngle(Q.rotation),X=2*Math.PI/ie.vTotal,j="px0",se="px1",te,fe,ge;if(Q.direction==="counterclockwise"){for(te=0;te<K.length&&K[te].hidden;te++);if(te===K.length)return;oe+=X*K[te].v,X*=-1,j="px1",se="px0"}for(ge=ne(Y,oe),te=0;te<K.length;te++)fe=K[te],!fe.hidden&&(fe[j]=ge,fe.startangle=oe,oe+=X*fe.v/2,fe.pxmid=ne(Y,oe),fe.midangle=oe,oe+=X*fe.v/2,ge=ne(Y,oe),fe.stopangle=oe,fe[se]=ge,fe.largeArc=fe.v>ie.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/ie.vTotal,.5),fe.ring=1-Q.hole,fe.rInscribed=I(fe,ie))}function ne(K,ie){return[K*Math.sin(ie),-K*Math.cos(ie)]}function le(K,ie,Y){var Q=K._fullLayout,oe=Y.trace,X=oe.texttemplate,j=oe.textinfo;if(!X&&j&&j!=="none"){var se=j.split("+"),te=function(Me){return se.indexOf(Me)!==-1},fe=te("label"),ge=te("text"),be=te("value"),xe=te("percent"),_e=Q.separators,De;if(De=fe?[ie.label]:[],ge){var Fe=l.getFirstFilled(oe.text,ie.pts);h(Fe)&&De.push(Fe)}be&&De.push(l.formatPieValue(ie.v,_e)),xe&&De.push(l.formatPiePercent(ie.v/Y.vTotal,_e)),ie.text=De.join("<br>")}function Te(Me){return{label:Me.label,value:Me.v,valueLabel:l.formatPieValue(Me.v,Q.separators),percent:Me.v/Y.vTotal,percentLabel:l.formatPiePercent(Me.v/Y.vTotal,Q.separators),color:Me.color,text:Me.text,customdata:v.castOption(oe,Me.i,"customdata")}}if(X){var Re=v.castOption(oe,ie.i,"texttemplate");if(!Re)ie.text="";else{var Se=Te(ie),Ie=l.getFirstFilled(oe.text,ie.pts);(h(Ie)||Ie==="")&&(Se.text=Ie),ie.text=v.texttemplateString(Re,Se,K._fullLayout._d3locale,Se,oe._meta||{})}}}function $(K,ie){var Y=K.rotate*Math.PI/180,Q=Math.cos(Y),oe=Math.sin(Y),X=(ie.left+ie.right)/2,j=(ie.top+ie.bottom)/2;K.textX=X*Q-j*oe,K.textY=X*oe+j*Q,K.noCenter=!0}G.exports={plot:T,formatSliceLabel:le,transformInsideText:C,determineInsideTextFont:x,positionTitleOutside:k,prerenderTitles:w,layoutAreas:W,attachFxHandlers:a,computeTransform:$}},22152:function(G,H,e){var m=e(33428),P=e(10528),s=e(82744).resizeText;G.exports=function(S){var v=S._fullLayout._pielayer.selectAll(".trace");s(S,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,i=m.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){m.select(this).call(P,n,t,S)})})}},10528:function(G,H,e){var m=e(76308),P=e(69656).castOption,s=e(21552);G.exports=function(S,v,p,r){var t=p.marker.line,i=P(t.color,v.pts)||m.defaultLine,n=P(t.width,v.pts)||0;S.call(s,v,p,r).style("stroke-width",n).call(m.stroke,i)}},35484:function(G,H,e){var m=e(52904);G.exports={x:m.x,y:m.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:m.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(G,H,e){var m=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,s=e(43080),L=e(19280).findExtremes,S=e(44928);function v(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=m(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:P(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=S(t,{})},p.updateFast=function(t){var i=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,g,h,T,c=this.bounds,a,d,x;if(f){if(T=f,g=f.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<g;x++)a=T[x*2],d=T[x*2+1],a<c[0]&&(c[0]=a),a>c[2]&&(c[2]=a),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(g),x=0;x<g;x++)h[x]=x}else for(g=i.length,T=new Float32Array(2*g),h=new Int32Array(g),x=0;x<g;x++)a=i[x],d=n[x],h[x]=x,T[x*2]=a,T[x*2+1]=d,a<c[0]&&(c[0]=a),a>c[2]&&(c[2]=a),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=T;var w=s(t.marker.color),C=s(t.marker.border.color),y=t.opacity*t.marker.opacity;w[3]*=y,this.pointcloudOptions.color=w;var M=t.marker.blend;if(M===null){var A=100;M=i.length<A||n.length<A}this.pointcloudOptions.blend=M,C[3]*=y,this.pointcloudOptions.borderColor=C;var o=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=o,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,I=this.scene.yaxis,D=E/2||.5;t._extremes[b._id]=L(b,[c[0],c[2]],{ppad:D}),t._extremes[I._id]=L(I,[c[1],c[3]],{ppad:D})},p.dispose=function(){this.pointcloud.dispose()};function r(t,i){var n=new v(t,i.uid);return n.update(i),n}G.exports=r},41904:function(G,H,e){var m=e(3400),P=e(35484);G.exports=function(L,S,v){function p(r,t){return m.coerce(L,S,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(S.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(S.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),S._length=null}},156:function(G,H,e){G.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(G,H,e){var m=e(25376),P=e(45464),s=e(22548),L=e(55756),S=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,i=e(92880).extendFlat,n=e(67824).overrideAll,f=G.exports=n({hoverinfo:i({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:S({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:m({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(G,H,e){var m=e(67824).overrideAll,P=e(84888)._M,s=e(59596),L=e(65460),S=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),i="sankey";H.name=i,H.baseLayoutAttrOverrides=m({hoverlabel:L.hoverlabel},"plot","nested"),H.plot=function(f){var u=P(f.calcdata,i)[0];s(f,u),H.updateFx(f)},H.clean=function(f,u,l,g){var h=g._has&&g._has(i),T=u._has&&u._has(i);h&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)n(f,u)};function n(f,u){var l=f._fullData[u],g=f._fullLayout,h=g.dragmode,T=g.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){S(c,T);var a={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},x={gd:f,element:c.node(),plotinfo:{id:u,xaxis:a,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[a],yaxes:[d],doneFnCompleted:function(w){var C=f._fullData[u],y,M=C.node.groups.slice(),A=[];function o(D){for(var N=C._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===D)return N[k]}for(var E=0;E<w.length;E++){var b=o(w[E].pointNumber);if(b)if(b.group){for(var I=0;I<b.childrenNodes.length;I++)A.push(b.childrenNodes[I].pointNumber);M[b.pointNumber-C.node._count]=!1}else A.push(b.pointNumber)}y=M.filter(Boolean).concat([A]),t.call("_guiRestyle",f,{"node.groups":[y]},u)}};x.prepFn=function(w,C,y){p(w,C,y,x,h)},v.init(x)}}},48068:function(G,H,e){var m=e(78484),P=e(3400),s=e(71688).wrap,L=P.isArrayOrTypedArray,S=P.isIndex,v=e(8932);function p(t){var i=t.node,n=t.link,f=[],u=L(n.color),l=L(n.hovercolor),g=L(n.customdata),h={},T={},c=n.colorscales.length,a;for(a=0;a<c;a++){var d=n.colorscales[a],x=v.extractScale(d,{cLetter:"c"}),w=v.makeColorScaleFunc(x);T[d.label]=w}var C=0;for(a=0;a<n.value.length;a++)n.source[a]>C&&(C=n.source[a]),n.target[a]>C&&(C=n.target[a]);var y=C+1;t.node._count=y;var M,A=t.node.groups,o={};for(a=0;a<A.length;a++){var E=A[a];for(M=0;M<E.length;M++){var b=E[M],I=y+a;o.hasOwnProperty(b)?P.warn("Node "+b+" is already part of a group."):o[b]=I}}var D={source:[],target:[]};for(a=0;a<n.value.length;a++){var N=n.value[a],k=n.source[a],O=n.target[a];if(N>0&&S(k,y)&&S(O,y)&&!(o.hasOwnProperty(k)&&o.hasOwnProperty(O)&&o[k]===o[O])){o.hasOwnProperty(O)&&(O=o[O]),o.hasOwnProperty(k)&&(k=o[k]),k=+k,O=+O,h[k]=h[O]=!0;var F="";n.label&&n.label[a]&&(F=n.label[a]);var z=null;F&&T.hasOwnProperty(F)&&(z=T[F]),f.push({pointNumber:a,label:F,color:u?n.color[a]:n.color,hovercolor:l?n.hovercolor[a]:n.hovercolor,customdata:g?n.customdata[a]:n.customdata,concentrationscale:z,source:k,target:O,value:+N}),D.source.push(k),D.target.push(O)}}var B=y+A.length,W=L(i.color),J=L(i.customdata),re=[];for(a=0;a<B;a++)if(h[a]){var ne=i.label[a];re.push({group:a>y-1,childrenNodes:[],pointNumber:a,label:ne,color:W?i.color[a]:i.color,customdata:J?i.customdata[a]:i.customdata})}var le=!1;return r(B,D.source,D.target)&&(le=!0),{circular:le,links:f,nodes:re,groups:A,groupLookup:o}}function r(t,i,n){for(var f=P.init2dArray(t,0),u=0;u<Math.min(i.length,n.length);u++)if(P.isIndex(i[u],t)&&P.isIndex(n[u],t)){if(i[u]===n[u])return!0;f[i[u]].push(n[u])}var l=m(f);return l.components.some(function(g){return g.length>1})}G.exports=function(i,n){var f=p(n);return s({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(G,H,e){var m=e(3400),P=e(41440),s=e(76308),L=e(49760),S=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);G.exports=function(n,f,u,l){function g(I,D){return m.coerce(n,f,P,I,D)}var h=m.extendDeep(l.hoverlabel,n.hoverlabel),T=n.node,c=p.newContainer(f,"node");function a(I,D){return m.coerce(T,c,P.node,I,D)}a("label"),a("groups"),a("x"),a("y"),a("pad"),a("thickness"),a("line.color"),a("line.width"),a("hoverinfo",n.hoverinfo),v(T,c,a,h),a("hovertemplate"),a("align");var d=l.colorway,x=function(I){return d[I%d.length]};a("color",c.label.map(function(I,D){return s.addOpacity(x(D),.8)})),a("customdata");var w=n.link||{},C=p.newContainer(f,"link");function y(I,D){return m.coerce(w,C,P.link,I,D)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",n.hoverinfo),v(w,C,y,h),y("hovertemplate");var M=L(l.paper_bgcolor).getLuminance()<.333,A=M?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",o=y("color",A);function E(I){var D=L(I);if(!D.isValid())return I;var N=D.getAlpha();return N<=.8?D.setAlpha(N+.2):D=M?D.brighten():D.darken(),D.toRgbString()}y("hovercolor",Array.isArray(o)?o.map(E):E(o)),y("customdata"),r(w,C,{name:"colorscales",handleItemDefaults:t}),S(f,l,g),g("orientation"),g("valueformat"),g("valuesuffix");var b;c.x.length&&c.y.length&&(b="freeform"),g("arrangement",b),m.coerceFont(g,"textfont",l.font,{autoShadowDflt:!0}),f._length=null};function t(i,n){function f(u,l){return m.coerce(i,n,P.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(G,H,e){G.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(G,H,e){var m=e(33428),P=e(3400),s=P.numberFormat,L=e(83248),S=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function i(d,x){return d.filter(function(w){return w.key===x.traceId})}function n(d,x){m.select(d).select("path").style("fill-opacity",x),m.select(d).select("rect").style("fill-opacity",x)}function f(d){m.select(d).select("text.name").style("fill","black")}function u(d){return function(x){return d.node.sourceLinks.indexOf(x.link)!==-1||d.node.targetLinks.indexOf(x.link)!==-1}}function l(d){return function(x){return x.node.sourceLinks.indexOf(d.link)!==-1||x.node.targetLinks.indexOf(d.link)!==-1}}function g(d,x,w){x&&w&&i(w,x).selectAll("."+p.sankeyLink).filter(u(x)).call(T.bind(0,x,w,!1))}function h(d,x,w){x&&w&&i(w,x).selectAll("."+p.sankeyLink).filter(u(x)).call(c.bind(0,x,w,!1))}function T(d,x,w,C){C.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),C.each(function(y){var M=y.link.label;M!==""&&i(x,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===M}).style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha})}),w&&i(x,d).selectAll("."+p.sankeyNode).filter(l(d)).call(g)}function c(d,x,w,C){C.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),C.each(function(y){var M=y.link.label;M!==""&&i(x,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===M}).style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha})}),w&&i(x,d).selectAll(p.sankeyNode).filter(l(d)).call(h)}function a(d,x){var w=d.hoverlabel||{},C=P.nestedProperty(w,x).get();return Array.isArray(C)?!1:C}G.exports=function(x,w){for(var C=x._fullLayout,y=C._paper,M=C._size,A=0;A<x._fullData.length;A++)if(x._fullData[A].visible&&x._fullData[A].type===p.sankey&&!x._fullData[A]._viewInitial){var o=x._fullData[A].node;x._fullData[A]._viewInitial={node:{groups:o.groups.slice(),x:o.x.slice(),y:o.y.slice()}}}var E=function(ne,le){var $=le.link;$.originalEvent=m.event,x._hoverdata=[$],S.click(x,{target:!0})},b=function(ne,le,$){x._fullLayout.hovermode!==!1&&(m.select(ne).call(T.bind(0,le,$,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,x.emit("plotly_hover",{event:m.event,points:[le.link]})))},I=r(x,"source:")+" ",D=r(x,"target:")+" ",N=r(x,"concentration:")+" ",k=r(x,"incoming flow count:")+" ",O=r(x,"outgoing flow count:")+" ",F=function(ne,le){if(x._fullLayout.hovermode===!1)return;var $=le.link.trace.link;if($.hoverinfo==="none"||$.hoverinfo==="skip")return;var K=[];function ie(te){var fe,ge;te.circular?(fe=(te.circularPathData.leftInnerExtent+te.circularPathData.rightInnerExtent)/2,ge=te.circularPathData.verticalFullExtent):(fe=(te.source.x1+te.target.x0)/2,ge=(te.y0+te.y1)/2);var be=[fe,ge];return te.trace.orientation==="v"&&be.reverse(),be[0]+=le.parent.translateX,be[1]+=le.parent.translateY,be}for(var Y=0,Q=0;Q<le.flow.links.length;Q++){var oe=le.flow.links[Q];if(!(x._fullLayout.hovermode==="closest"&&le.link.pointNumber!==oe.pointNumber)){le.link.pointNumber===oe.pointNumber&&(Y=Q),oe.fullData=oe.trace,$=le.link.trace.link;var X=ie(oe),j={valueLabel:s(le.valueFormat)(oe.value)+le.valueSuffix};K.push({x:X[0],y:X[1],name:j.valueLabel,text:[oe.label||"",I+oe.source.label,D+oe.target.label,oe.concentrationscale?N+s("%0.2f")(oe.flow.labelConcentration):""].filter(t).join("<br>"),color:a($,"bgcolor")||v.addOpacity(oe.color,1),borderColor:a($,"bordercolor"),fontFamily:a($,"font.family"),fontSize:a($,"font.size"),fontColor:a($,"font.color"),fontWeight:a($,"font.weight"),fontStyle:a($,"font.style"),fontVariant:a($,"font.variant"),fontTextcase:a($,"font.textcase"),fontLineposition:a($,"font.lineposition"),fontShadow:a($,"font.shadow"),nameLength:a($,"namelength"),textAlign:a($,"align"),idealAlign:m.event.x<X[0]?"right":"left",hovertemplate:$.hovertemplate,hovertemplateLabels:j,eventData:[oe]})}}var se=S.loneHover(K,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:x,anchorIndex:Y});se.each(function(){var te=this;le.link.concentrationscale||n(te,.65),f(te)})},z=function(ne,le,$){x._fullLayout.hovermode!==!1&&(m.select(ne).call(c.bind(0,le,$,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,x.emit("plotly_unhover",{event:m.event,points:[le.link]})),S.loneUnhover(C._hoverlayer.node()))},B=function(ne,le,$){var K=le.node;K.originalEvent=m.event,x._hoverdata=[K],m.select(ne).call(h,le,$),S.click(x,{target:!0})},W=function(ne,le,$){x._fullLayout.hovermode!==!1&&(m.select(ne).call(g,le,$),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,x.emit("plotly_hover",{event:m.event,points:[le.node]})))},J=function(ne,le){if(x._fullLayout.hovermode!==!1){var $=le.node.trace.node;if(!($.hoverinfo==="none"||$.hoverinfo==="skip")){var K=m.select(ne).select("."+p.nodeRect),ie=x._fullLayout._paperdiv.node().getBoundingClientRect(),Y=K.node().getBoundingClientRect(),Q=Y.left-2-ie.left,oe=Y.right+2-ie.left,X=Y.top+Y.height/4-ie.top,j={valueLabel:s(le.valueFormat)(le.node.value)+le.valueSuffix};le.node.fullData=le.node.trace,x._fullLayout._calcInverseTransform(x);var se=x._fullLayout._invScaleX,te=x._fullLayout._invScaleY,fe=S.loneHover({x0:se*Q,x1:se*oe,y:te*X,name:s(le.valueFormat)(le.node.value)+le.valueSuffix,text:[le.node.label,k+le.node.targetLinks.length,O+le.node.sourceLinks.length].filter(t).join("<br>"),color:a($,"bgcolor")||le.tinyColorHue,borderColor:a($,"bordercolor"),fontFamily:a($,"font.family"),fontSize:a($,"font.size"),fontColor:a($,"font.color"),fontWeight:a($,"font.weight"),fontStyle:a($,"font.style"),fontVariant:a($,"font.variant"),fontTextcase:a($,"font.textcase"),fontLineposition:a($,"font.lineposition"),fontShadow:a($,"font.shadow"),nameLength:a($,"namelength"),textAlign:a($,"align"),idealAlign:"left",hovertemplate:$.hovertemplate,hovertemplateLabels:j,eventData:[le.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:x});n(fe,.85),f(fe)}}},re=function(ne,le,$){x._fullLayout.hovermode!==!1&&(m.select(ne).call(h,le,$),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,x.emit("plotly_unhover",{event:m.event,points:[le.node]})),S.loneUnhover(C._hoverlayer.node()))};L(x,y,w,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{linkEvents:{hover:b,follow:F,unhover:z,select:E},nodeEvents:{hover:W,follow:J,unhover:re,select:B}})}},83248:function(G,H,e){var m=e(49812),P=e(67756).Gz,s=e(33428),L=e(26800),S=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),i=e(3400),n=i.strTranslate,f=i.strRotate,u=e(71688),l=u.keyFun,g=u.repeat,h=u.unwrap,T=e(72736),c=e(24040),a=e(84284),d=a.CAP_SHIFT,x=a.LINE_SPACING,w=3;function C(ie,Y,Q){var oe=h(Y),X=oe.trace,j=X.domain,se=X.orientation==="h",te=X.node.pad,fe=X.node.thickness,ge={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[X.node.align],be=ie.width*(j.x[1]-j.x[0]),xe=ie.height*(j.y[1]-j.y[0]),_e=oe._nodes,De=oe._links,Fe=oe.circular,Te;Fe?Te=S.sankeyCircular().circularLinkGap(0):Te=L.sankey(),Te.iterations(v.sankeyIterations).size(se?[be,xe]:[xe,be]).nodeWidth(fe).nodePadding(te).nodeId(function(rt){return rt.pointNumber}).nodeAlign(ge).nodes(_e).links(De);var Re=Te();Te.nodePadding()<te&&i.warn("node.pad was reduced to ",Te.nodePadding()," to fit within the figure.");var Se,Ie,Me;for(var Ve in oe._groupLookup){var et=parseInt(oe._groupLookup[Ve]),it;for(Se=0;Se<Re.nodes.length;Se++)if(Re.nodes[Se].pointNumber===et){it=Re.nodes[Se];break}if(it){var Je={pointNumber:parseInt(Ve),x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Re.nodes.unshift(Je),it.childrenNodes.unshift(Je)}}function Qe(){for(Se=0;Se<Re.nodes.length;Se++){var rt=Re.nodes[Se],ze={},He,Ge;for(Ie=0;Ie<rt.targetLinks.length;Ie++)Ge=rt.targetLinks[Ie],He=Ge.source.pointNumber+":"+Ge.target.pointNumber,ze.hasOwnProperty(He)||(ze[He]=[]),ze[He].push(Ge);var We=Object.keys(ze);for(Ie=0;Ie<We.length;Ie++){He=We[Ie];var Le=ze[He],Pe=0,je={};for(Me=0;Me<Le.length;Me++)Ge=Le[Me],je[Ge.label]||(je[Ge.label]=0),je[Ge.label]+=Ge.value,Pe+=Ge.value;for(Me=0;Me<Le.length;Me++)Ge=Le[Me],Ge.flow={value:Pe,labelConcentration:je[Ge.label]/Pe,concentration:Ge.value/Pe,links:Le},Ge.concentrationscale&&(Ge.color=p(Ge.concentrationscale(Ge.flow.labelConcentration)))}var Ce=0;for(Ie=0;Ie<rt.sourceLinks.length;Ie++)Ce+=rt.sourceLinks[Ie].value;for(Ie=0;Ie<rt.sourceLinks.length;Ie++)Ge=rt.sourceLinks[Ie],Ge.concentrationOut=Ge.value/Ce;var he=0;for(Ie=0;Ie<rt.targetLinks.length;Ie++)he+=rt.targetLinks[Ie].value;for(Ie=0;Ie<rt.targetLinks.length;Ie++)Ge=rt.targetLinks[Ie],Ge.concenrationIn=Ge.value/he}}Qe();function ct(rt){rt.forEach(function(ze){var He,Ge,We=0,Le=ze.length,Pe;for(ze.sort(function(je,Ce){return je.y0-Ce.y0}),Pe=0;Pe<Le;++Pe)He=ze[Pe],He.y0>=We||(Ge=We-He.y0,Ge>1e-6&&(He.y0+=Ge,He.y1+=Ge)),We=He.y1+te})}function ht(rt){var ze=rt.map(function(Ce,he){return{x0:Ce.x0,index:he}}).sort(function(Ce,he){return Ce.x0-he.x0}),He=[],Ge=-1,We,Le=-1/0,Pe;for(Se=0;Se<ze.length;Se++){var je=rt[ze[Se].index];je.x0>Le+fe&&(Ge+=1,We=je.x0),Le=je.x0,He[Ge]||(He[Ge]=[]),He[Ge].push(je),Pe=We-je.x0,je.x0+=Pe,je.x1+=Pe}return He}if(X.node.x.length&&X.node.y.length){for(Se=0;Se<Math.min(X.node.x.length,X.node.y.length,Re.nodes.length);Se++)if(X.node.x[Se]&&X.node.y[Se]){var gt=[X.node.x[Se]*be,X.node.y[Se]*xe];Re.nodes[Se].x0=gt[0]-fe/2,Re.nodes[Se].x1=gt[0]+fe/2;var Tt=Re.nodes[Se].y1-Re.nodes[Se].y0;Re.nodes[Se].y0=gt[1]-Tt/2,Re.nodes[Se].y1=gt[1]+Tt/2}if(X.arrangement==="snap"){_e=Re.nodes;var Et=ht(_e);ct(Et)}Te.update(Re)}return{circular:Fe,key:Q,trace:X,guid:i.randstr(),horizontal:se,width:be,height:xe,nodePad:X.node.pad,nodeLineColor:X.node.line.color,nodeLineWidth:X.node.line.width,linkLineColor:X.link.line.color,linkLineWidth:X.link.line.width,linkArrowLength:X.link.arrowlen,valueFormat:X.valueformat,valueSuffix:X.valuesuffix,textFont:X.textfont,translateX:j.x[0]*ie.width+ie.margin.l,translateY:ie.height-j.y[1]*ie.height+ie.margin.t,dragParallel:se?xe:be,dragPerpendicular:se?be:xe,arrangement:X.arrangement,sankey:Te,graph:Re,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(ie,Y,Q){var oe=p(Y.color),X=p(Y.hovercolor),j=Y.source.label+"|"+Y.target.label,se=j+"__"+Q;return Y.trace=ie.trace,Y.curveNumber=ie.trace.index,{circular:ie.circular,key:se,traceId:ie.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),tinyColorHoverHue:r.tinyRGB(X),tinyColorHoverAlpha:X.getAlpha(),linkPath:A,linkLineColor:ie.linkLineColor,linkLineWidth:ie.linkLineWidth,linkArrowLength:ie.linkArrowLength,valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,parent:ie,interactionState:ie.interactionState,flow:Y.flow}}function M(ie,Y){var Q="",oe=ie.width/2,X=ie.circularPathData;return ie.circularLinkType==="top"?Q="M "+(X.targetX-Y)+" "+(X.targetY+oe)+" L"+(X.rightInnerExtent-Y)+" "+(X.targetY+oe)+"A"+(X.rightLargeArcRadius+oe)+" "+(X.rightSmallArcRadius+oe)+" 0 0 1 "+(X.rightFullExtent-oe-Y)+" "+(X.targetY-X.rightSmallArcRadius)+"L"+(X.rightFullExtent-oe-Y)+" "+X.verticalRightInnerExtent+"A"+(X.rightLargeArcRadius+oe)+" "+(X.rightLargeArcRadius+oe)+" 0 0 1 "+(X.rightInnerExtent-Y)+" "+(X.verticalFullExtent-oe)+"L"+X.leftInnerExtent+" "+(X.verticalFullExtent-oe)+"A"+(X.leftLargeArcRadius+oe)+" "+(X.leftLargeArcRadius+oe)+" 0 0 1 "+(X.leftFullExtent+oe)+" "+X.verticalLeftInnerExtent+"L"+(X.leftFullExtent+oe)+" "+(X.sourceY-X.leftSmallArcRadius)+"A"+(X.leftLargeArcRadius+oe)+" "+(X.leftSmallArcRadius+oe)+" 0 0 1 "+X.leftInnerExtent+" "+(X.sourceY+oe)+"L"+X.sourceX+" "+(X.sourceY+oe)+"L"+X.sourceX+" "+(X.sourceY-oe)+"L"+X.leftInnerExtent+" "+(X.sourceY-oe)+"A"+(X.leftLargeArcRadius-oe)+" "+(X.leftSmallArcRadius-oe)+" 0 0 0 "+(X.leftFullExtent-oe)+" "+(X.sourceY-X.leftSmallArcRadius)+"L"+(X.leftFullExtent-oe)+" "+X.verticalLeftInnerExtent+"A"+(X.leftLargeArcRadius-oe)+" "+(X.leftLargeArcRadius-oe)+" 0 0 0 "+X.leftInnerExtent+" "+(X.verticalFullExtent+oe)+"L"+(X.rightInnerExtent-Y)+" "+(X.verticalFullExtent+oe)+"A"+(X.rightLargeArcRadius-oe)+" "+(X.rightLargeArcRadius-oe)+" 0 0 0 "+(X.rightFullExtent+oe-Y)+" "+X.verticalRightInnerExtent+"L"+(X.rightFullExtent+oe-Y)+" "+(X.targetY-X.rightSmallArcRadius)+"A"+(X.rightLargeArcRadius-oe)+" "+(X.rightSmallArcRadius-oe)+" 0 0 0 "+(X.rightInnerExtent-Y)+" "+(X.targetY-oe)+"L"+(X.targetX-Y)+" "+(X.targetY-oe)+(Y>0?"L"+X.targetX+" "+X.targetY:"")+"Z":Q="M "+(X.targetX-Y)+" "+(X.targetY-oe)+" L"+(X.rightInnerExtent-Y)+" "+(X.targetY-oe)+"A"+(X.rightLargeArcRadius+oe)+" "+(X.rightSmallArcRadius+oe)+" 0 0 0 "+(X.rightFullExtent-oe-Y)+" "+(X.targetY+X.rightSmallArcRadius)+"L"+(X.rightFullExtent-oe-Y)+" "+X.verticalRightInnerExtent+"A"+(X.rightLargeArcRadius+oe)+" "+(X.rightLargeArcRadius+oe)+" 0 0 0 "+(X.rightInnerExtent-Y)+" "+(X.verticalFullExtent+oe)+"L"+X.leftInnerExtent+" "+(X.verticalFullExtent+oe)+"A"+(X.leftLargeArcRadius+oe)+" "+(X.leftLargeArcRadius+oe)+" 0 0 0 "+(X.leftFullExtent+oe)+" "+X.verticalLeftInnerExtent+"L"+(X.leftFullExtent+oe)+" "+(X.sourceY+X.leftSmallArcRadius)+"A"+(X.leftLargeArcRadius+oe)+" "+(X.leftSmallArcRadius+oe)+" 0 0 0 "+X.leftInnerExtent+" "+(X.sourceY-oe)+"L"+X.sourceX+" "+(X.sourceY-oe)+"L"+X.sourceX+" "+(X.sourceY+oe)+"L"+X.leftInnerExtent+" "+(X.sourceY+oe)+"A"+(X.leftLargeArcRadius-oe)+" "+(X.leftSmallArcRadius-oe)+" 0 0 1 "+(X.leftFullExtent-oe)+" "+(X.sourceY+X.leftSmallArcRadius)+"L"+(X.leftFullExtent-oe)+" "+X.verticalLeftInnerExtent+"A"+(X.leftLargeArcRadius-oe)+" "+(X.leftLargeArcRadius-oe)+" 0 0 1 "+X.leftInnerExtent+" "+(X.verticalFullExtent-oe)+"L"+(X.rightInnerExtent-Y)+" "+(X.verticalFullExtent-oe)+"A"+(X.rightLargeArcRadius-oe)+" "+(X.rightLargeArcRadius-oe)+" 0 0 1 "+(X.rightFullExtent+oe-Y)+" "+X.verticalRightInnerExtent+"L"+(X.rightFullExtent+oe-Y)+" "+(X.targetY+X.rightSmallArcRadius)+"A"+(X.rightLargeArcRadius-oe)+" "+(X.rightSmallArcRadius-oe)+" 0 0 1 "+(X.rightInnerExtent-Y)+" "+(X.targetY+oe)+"L"+(X.targetX-Y)+" "+(X.targetY+oe)+(Y>0?"L"+X.targetX+" "+X.targetY:"")+"Z",Q}function A(){var ie=.5;function Y(Q){var oe=Q.linkArrowLength;if(Q.link.circular)return M(Q.link,oe);var X=Math.abs((Q.link.target.x0-Q.link.source.x1)/2);oe>X&&(oe=X);var j=Q.link.source.x1,se=Q.link.target.x0-oe,te=P(j,se),fe=te(ie),ge=te(1-ie),be=Q.link.y0-Q.link.width/2,xe=Q.link.y0+Q.link.width/2,_e=Q.link.y1-Q.link.width/2,De=Q.link.y1+Q.link.width/2,Fe="M"+j+","+be,Te="C"+fe+","+be+" "+ge+","+_e+" "+se+","+_e,Re="C"+ge+","+De+" "+fe+","+xe+" "+j+","+xe,Se=oe>0?"L"+(se+oe)+","+(_e+Q.link.width/2):"";return Se+="L"+se+","+De,Fe+Te+Se+Re+"Z"}return Y}function o(ie,Y){var Q=p(Y.color),oe=v.nodePadAcross,X=ie.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var j=Y.dx,se=Math.max(.5,Y.dy),te="node_"+Y.pointNumber;return Y.group&&(te=i.randstr()),Y.trace=ie.trace,Y.curveNumber=ie.trace.index,{index:Y.pointNumber,key:te,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:ie.key,trace:ie.trace,node:Y,nodePad:ie.nodePad,nodeLineColor:ie.nodeLineColor,nodeLineWidth:ie.nodeLineWidth,textFont:ie.textFont,size:ie.horizontal?ie.height:ie.width,visibleWidth:Math.ceil(j),visibleHeight:se,zoneX:-oe,zoneY:-X,zoneWidth:j+2*oe,zoneHeight:se+2*X,labelY:ie.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:ie.width,forceLayouts:ie.forceLayouts,horizontal:ie.horizontal,darkBackground:Q.getBrightness()<=128,tinyColorHue:r.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,graph:ie.graph,arrangement:ie.arrangement,uniqueNodeLabelPathId:[ie.guid,ie.key,te].join("_"),interactionState:ie.interactionState,figure:ie}}function E(ie){ie.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function b(ie){ie.call(E)}function I(ie,Y){ie.call(b),Y.attr("d",A())}function D(ie){ie.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function N(ie){return ie.link.width>1||ie.linkLineWidth>0}function k(ie){var Y=n(ie.translateX,ie.translateY);return Y+(ie.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(ie,Y,Q){ie.on(".basic",null).on("mouseover.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(Q.hover(this,oe,Y),oe.interactionState.hovered=[this,oe])}).on("mousemove.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(Q.follow(this,oe),oe.interactionState.hovered=[this,oe])}).on("mouseout.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(Q.unhover(this,oe,Y),oe.interactionState.hovered=!1)}).on("click.basic",function(oe){oe.interactionState.hovered&&(Q.unhover(this,oe,Y),oe.interactionState.hovered=!1),!oe.interactionState.dragInProgress&&!oe.partOfGroup&&Q.select(this,oe,Y)})}function F(ie,Y,Q,oe){var X=s.behavior.drag().origin(function(j){return{x:j.node.x0+j.visibleWidth/2,y:j.node.y0+j.visibleHeight/2}}).on("dragstart",function(j){if(j.arrangement!=="fixed"&&(i.ensureSingle(oe._fullLayout._infolayer,"g","dragcover",function(te){oe._fullLayout._dragCover=te}),i.raiseToTop(this),j.interactionState.dragInProgress=j.node,ne(j.node),j.interactionState.hovered&&(Q.nodeEvents.unhover.apply(0,j.interactionState.hovered),j.interactionState.hovered=!1),j.arrangement==="snap")){var se=j.traceId+"|"+j.key;j.forceLayouts[se]?j.forceLayouts[se].alpha(1):z(ie,se,j),B(ie,Y,j,se,oe)}}).on("drag",function(j){if(j.arrangement!=="fixed"){var se=s.event.x,te=s.event.y;j.arrangement==="snap"?(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2,j.node.y0=te-j.visibleHeight/2,j.node.y1=te+j.visibleHeight/2):(j.arrangement==="freeform"&&(j.node.x0=se-j.visibleWidth/2,j.node.x1=se+j.visibleWidth/2),te=Math.max(0,Math.min(j.size-j.visibleHeight/2,te)),j.node.y0=te-j.visibleHeight/2,j.node.y1=te+j.visibleHeight/2),ne(j.node),j.arrangement!=="snap"&&(j.sankey.update(j.graph),I(ie.filter(le(j)),Y))}}).on("dragend",function(j){if(j.arrangement!=="fixed"){j.interactionState.dragInProgress=!1;for(var se=0;se<j.node.childrenNodes.length;se++)j.node.childrenNodes[se].x=j.node.x,j.node.childrenNodes[se].y=j.node.y;j.arrangement!=="snap"&&J(j,oe)}});ie.on(".drag",null).call(X)}function z(ie,Y,Q,oe){$(Q.graph.nodes);var X=Q.graph.nodes.filter(function(j){return j.originalX===Q.node.originalX}).filter(function(j){return!j.partOfGroup});Q.forceLayouts[Y]=m.forceSimulation(X).alphaDecay(0).force("collide",m.forceCollide().radius(function(j){return j.dy/2+Q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(ie,Y,X,Q)).stop()}function B(ie,Y,Q,oe,X){window.requestAnimationFrame(function j(){var se;for(se=0;se<v.forceTicksPerFrame;se++)Q.forceLayouts[oe].tick();var te=Q.graph.nodes;if(K(te),Q.sankey.update(Q.graph),I(ie.filter(le(Q)),Y),Q.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(j);else{var fe=Q.node.originalX;Q.node.x0=fe-Q.visibleWidth/2,Q.node.x1=fe+Q.visibleWidth/2,J(Q,X)}})}function W(ie,Y,Q,oe){return function(){for(var j=0,se=0;se<Q.length;se++){var te=Q[se];te===oe.interactionState.dragInProgress?(te.x=te.lastDraggedX,te.y=te.lastDraggedY):(te.vx=(te.originalX-te.x)/v.forceTicksPerFrame,te.y=Math.min(oe.size-te.dy/2,Math.max(te.dy/2,te.y))),j=Math.max(j,Math.abs(te.vx),Math.abs(te.vy))}!oe.interactionState.dragInProgress&&j<.1&&oe.forceLayouts[Y].alpha()>0&&oe.forceLayouts[Y].alpha(0)}}function J(ie,Y){for(var Q=[],oe=[],X=0;X<ie.graph.nodes.length;X++){var j=(ie.graph.nodes[X].x0+ie.graph.nodes[X].x1)/2,se=(ie.graph.nodes[X].y0+ie.graph.nodes[X].y1)/2;Q.push(j/ie.figure.width),oe.push(se/ie.figure.height)}c.call("_guiRestyle",Y,{"node.x":[Q],"node.y":[oe]},ie.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function re(ie){var Y=[],Q;for(Q=0;Q<ie.length;Q++)ie[Q].originalX=(ie[Q].x0+ie[Q].x1)/2,ie[Q].originalY=(ie[Q].y0+ie[Q].y1)/2,Y.indexOf(ie[Q].originalX)===-1&&Y.push(ie[Q].originalX);for(Y.sort(function(oe,X){return oe-X}),Q=0;Q<ie.length;Q++)ie[Q].originalLayerIndex=Y.indexOf(ie[Q].originalX),ie[Q].originalLayer=ie[Q].originalLayerIndex/(Y.length-1)}function ne(ie){ie.lastDraggedX=ie.x0+ie.dx/2,ie.lastDraggedY=ie.y0+ie.dy/2}function le(ie){return function(Y){return Y.node.originalX===ie.node.originalX}}function $(ie){for(var Y=0;Y<ie.length;Y++)ie[Y].y=(ie[Y].y0+ie[Y].y1)/2,ie[Y].x=(ie[Y].x0+ie[Y].x1)/2}function K(ie){for(var Y=0;Y<ie.length;Y++)ie[Y].y0=ie[Y].y-ie[Y].dy/2,ie[Y].y1=ie[Y].y0+ie[Y].dy,ie[Y].x0=ie[Y].x-ie[Y].dx/2,ie[Y].x1=ie[Y].x0+ie[Y].dx}G.exports=function(ie,Y,Q,oe,X){var j=ie._context.staticPlot,se=!1;i.ensureSingle(ie._fullLayout._infolayer,"g","first-render",function(){se=!0});var te=ie._fullLayout._dragCover,fe=Q.filter(function(Re){return h(Re).trace.visible}).map(C.bind(null,oe)),ge=Y.selectAll("."+v.cn.sankey).data(fe,l);ge.exit().remove(),ge.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",j?"none":"auto").attr("transform",k),ge.each(function(Re,Se){ie._fullData[Se]._sankey=Re;var Ie="bgsankey-"+Re.trace.uid+"-"+Se;i.ensureSingle(ie._fullLayout._draggers,"rect",Ie),ie._fullData[Se]._bgRect=s.select("."+Ie),ie._fullData[Se]._bgRect.style("pointer-events",j?"none":"all").attr("width",Re.width).attr("height",Re.height).attr("x",Re.translateX).attr("y",Re.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ge.transition().ease(v.ease).duration(v.duration).attr("transform",k);var be=ge.selectAll("."+v.cn.sankeyLinks).data(g,l);be.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xe=be.selectAll("."+v.cn.sankeyLink).data(function(Re){var Se=Re.graph.links;return Se.filter(function(Ie){return Ie.value}).map(y.bind(null,Re))},l);xe.enter().append("path").classed(v.cn.sankeyLink,!0).call(O,ge,X.linkEvents),xe.style("stroke",function(Re){return N(Re)?r.tinyRGB(p(Re.linkLineColor)):Re.tinyColorHue}).style("stroke-opacity",function(Re){return N(Re)?r.opacity(Re.linkLineColor):Re.tinyColorAlpha}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}).style("stroke-width",function(Re){return N(Re)?Re.linkLineWidth:1}).attr("d",A()),xe.style("opacity",function(){return ie._context.staticPlot||se||te?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var _e=ge.selectAll("."+v.cn.sankeyNodeSet).data(g,l);_e.enter().append("g").classed(v.cn.sankeyNodeSet,!0),_e.style("cursor",function(Re){switch(Re.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var De=_e.selectAll("."+v.cn.sankeyNode).data(function(Re){var Se=Re.graph.nodes;return re(Se),Se.map(o.bind(null,Re))},l);De.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Re){return(ie._context.staticPlot||se)&&!Re.partOfGroup?1:0}),De.call(O,ge,X.nodeEvents).call(F,xe,X,ie),De.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Re){return Re.partOfGroup?0:1}),De.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Fe=De.selectAll("."+v.cn.nodeRect).data(g);Fe.enter().append("rect").classed(v.cn.nodeRect,!0).call(D),Fe.style("stroke-width",function(Re){return Re.nodeLineWidth}).style("stroke",function(Re){return r.tinyRGB(p(Re.nodeLineColor))}).style("stroke-opacity",function(Re){return r.opacity(Re.nodeLineColor)}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}),Fe.transition().ease(v.ease).duration(v.duration).call(D);var Te=De.selectAll("."+v.cn.nodeLabel).data(g);Te.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Te.attr("data-notex",1).text(function(Re){return Re.node.label}).each(function(Re){var Se=s.select(this);t.font(Se,Re.textFont),T.convertToTspans(Se,ie)}).attr("text-anchor",function(Re){return Re.horizontal&&Re.left?"end":"start"}).attr("transform",function(Re){var Se=s.select(this),Ie=T.lineCount(Se),Me=Re.textFont.size*((Ie-1)*x-d),Ve=Re.nodeLineWidth/2+w,et=((Re.horizontal?Re.visibleHeight:Re.visibleWidth)-Me)/2;Re.horizontal&&(Re.left?Ve=-Ve:Ve+=Re.visibleWidth);var it=Re.horizontal?"":"scale(-1,1)"+f(90);return n(Re.horizontal?Ve:et,Re.horizontal?et:Ve)+it}),Te.transition().ease(v.ease).duration(v.duration)}},81128:function(G){G.exports=function(e,m){for(var P=e.cd,s=[],L=P[0].trace,S=L._sankey.graph.nodes,v=0;v<S.length;v++){var p=S[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&r.reverse(),m&&m.contains(r,!1,v,e)&&s.push({pointNumber:p.pointNumber})}}return s}},20148:function(G,H,e){var m=e(3400);G.exports=function(s,L){for(var S=0;S<s.length;S++)s[S].i=S;m.mergeArray(L.text,s,"tx"),m.mergeArray(L.texttemplate,s,"txt"),m.mergeArray(L.hovertext,s,"htx"),m.mergeArray(L.customdata,s,"data"),m.mergeArray(L.textposition,s,"tp"),L.textfont&&(m.mergeArrayCastPositive(L.textfont.size,s,"ts"),m.mergeArray(L.textfont.color,s,"tc"),m.mergeArray(L.textfont.family,s,"tf"),m.mergeArray(L.textfont.weight,s,"tw"),m.mergeArray(L.textfont.style,s,"ty"),m.mergeArray(L.textfont.variant,s,"tv"),m.mergeArray(L.textfont.textcase,s,"tC"),m.mergeArray(L.textfont.lineposition,s,"tE"),m.mergeArray(L.textfont.shadow,s,"tS"));var v=L.marker;if(v){m.mergeArrayCastPositive(v.size,s,"ms"),m.mergeArrayCastPositive(v.opacity,s,"mo"),m.mergeArray(v.symbol,s,"mx"),m.mergeArray(v.angle,s,"ma"),m.mergeArray(v.standoff,s,"mf"),m.mergeArray(v.color,s,"mc");var p=v.line;v.line&&(m.mergeArray(p.color,s,"mlc"),m.mergeArrayCastPositive(p.width,s,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(m.mergeArray(r.type,s,"mgt"),m.mergeArray(r.color,s,"mgc"))}}},52904:function(G,H,e){var m=e(29736).axisHoverFormat,P=e(21776).Gw,s=e(21776).Ks,L=e(49084),S=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),i=e(92880).extendFlat,n=e(98304);function f(g){return{valType:"any",dflt:0,editType:"calc"}}function u(g){return{valType:"any",editType:"calc"}}function l(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:m("x"),yhoverformat:m("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:i({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(G,H,e){var m=e(38248),P=e(3400),s=e(54460),L=e(1220),S=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function i(h,T){var c=h._fullLayout,a=T._xA=s.getFromId(h,T.xaxis||"x","x"),d=T._yA=s.getFromId(h,T.yaxis||"y","y"),x=a.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),C=L(T,a,"x",x),y=L(T,d,"y",w),M=C.vals,A=y.vals,o=T._length,E=new Array(o),b=T.ids,I=g(T,c,a,d),D=!1,N,k,O,F,z,B;u(c,T);var W="x",J="y",re;if(I)P.pushUnique(I.traceIndices,T._expandedIndex),N=I.orientation==="v",N?(J="s",re="x"):(W="s",re="y"),z=I.stackgaps==="interpolate";else{var ne=f(T,o);n(h,T,a,d,M,A,ne)}var le=!!T.xperiodalignment,$=!!T.yperiodalignment;for(k=0;k<o;k++){var K=E[k]={},ie=m(M[k]),Y=m(A[k]);ie&&Y?(K[W]=M[k],K[J]=A[k],le&&(K.orig_x=x[k],K.xEnd=C.ends[k],K.xStart=C.starts[k]),$&&(K.orig_y=w[k],K.yEnd=y.ends[k],K.yStart=y.starts[k])):I&&(N?ie:Y)?(K[re]=N?M[k]:A[k],K.gap=!0,z?(K.s=S,D=!0):K.s=0):K[W]=K[J]=S,b&&(K.id=String(b[k]))}if(r(E,T),p(h,T),t(E,T),I){for(k=0;k<E.length;)E[k][re]===S?E.splice(k,1):k++;if(P.sort(E,function(j,se){return j[re]-se[re]||j.i-se.i}),D){for(k=0;k<E.length-1&&E[k].gap;)k++;for(B=E[k].s,B||(B=E[k].s=0),O=0;O<k;O++)E[O].s=B;for(F=E.length-1;F>k&&E[F].gap;)F--;for(B=E[F].s,O=E.length-1;O>F;O--)E[O].s=B;for(;k<F;)if(k++,E[k].gap){for(O=k+1;E[O].gap;)O++;for(var Q=E[k-1][re],oe=E[k-1].s,X=(E[O].s-oe)/(E[O][re]-Q);k<O;)E[k].s=oe+(E[k][re]-Q)*X,k++}}}return E}function n(h,T,c,a,d,x,w){var C=T._length,y=h._fullLayout,M=c._id,A=a._id,o=y._firstScatter[l(T)]===T.uid,E=(g(T,y,c,a)||{}).orientation,b=T.fill;c._minDtick=0,a._minDtick=0;var I={padded:!0},D={padded:!0};w&&(I.ppad=D.ppad=w);var N=C<2||d[0]!==d[C-1]||x[0]!==x[C-1];N&&(b==="tozerox"||b==="tonextx"&&(o||E==="h"))?I.tozero=!0:!(T.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(I.padded=!1,I.ppad=0),N&&(b==="tozeroy"||b==="tonexty"&&(o||E==="v"))?D.tozero=!0:(b==="tonextx"||b==="tozerox")&&(D.padded=!1),M&&(T._extremes[M]=s.findExtremes(c,d,I)),A&&(T._extremes[A]=s.findExtremes(a,x,D))}function f(h,T){if(v.hasMarkers(h)){var c=h.marker,a=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(M){return Math.max(Math.sqrt((M||0)/a),3)}:d=function(M){return Math.max((M||0)/a,3)},P.isArrayOrTypedArray(c.size)){var x={type:"linear"};s.setConvert(x);for(var w=x.makeCalcdata(h.marker,"size"),C=new Array(T),y=0;y<T;y++)C[y]=d(w[y]);return C}else return d(c.size)}}function u(h,T){var c=l(T),a=h._firstScatter;a[c]||(a[c]=T.uid)}function l(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function g(h,T,c,a){var d=h.stackgroup;if(d){var x=T._scatterStackOpts[c._id+a._id][d],w=x.orientation==="v"?a:c;if(w.type==="linear"||w.type==="log")return x}}G.exports={calc:i,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:g}},4500:function(G,H,e){var m=e(3400);G.exports=function(s,L){m.isArrayOrTypedArray(L.selectedpoints)&&m.tagSelected(s,L)}},90136:function(G,H,e){var m=e(94288).hasColorscale,P=e(47128),s=e(43028);G.exports=function(S,v){s.hasLines(v)&&m(v,"line")&&P(S,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(v)&&(m(v,"marker")&&P(S,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),m(v,"marker.line")&&P(S,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(G,H,e){var m=e(16356),P=e(96376).setGroupPositions;function s(v,p){for(var r=p.xaxis,t=p.yaxis,i=v._fullLayout,n=v._fullData,f=v.calcdata,u=[],l=[],g=0;g<n.length;g++){var h=n[g];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(f[g]):h.orientation==="v"&&l.push(f[g]))}var T={mode:i.scattermode,gap:i.scattergap};P(v,r,t,l,T),P(v,t,r,u,T)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&s(p,r);var t=r.xaxis,i=r.yaxis,n=t._id+i._id,f=p._fullLayout._scatterStackOpts[n];if(f){var u=p.calcdata,l,g,h,T,c,a,d,x,w,C,y,M,A,o,E;for(var b in f){C=f[b];var I=C.traceIndices;if(I.length){for(y=C.stackgaps==="interpolate",M=C.groupnorm,C.orientation==="v"?(A="x",o="y"):(A="y",o="x"),E=new Array(I.length),l=0;l<E.length;l++)E[l]=!1;a=u[I[0]];var D=new Array(a.length);for(l=0;l<a.length;l++)D[l]=a[l][A];for(l=1;l<I.length;l++){for(c=u[I[l]],g=h=0;g<c.length;g++){for(d=c[g][A];d>D[h]&&h<D.length;h++)L(c,g,D[h],l,E,y,A),g++;if(d!==D[h]){for(T=0;T<l;T++)L(u[I[T]],h,d,T,E,y,A);D.splice(h,0,d)}h++}for(;h<D.length;h++)L(c,g,D[h],l,E,y,A),g++}var N=D.length;for(g=0;g<a.length;g++){for(x=a[g][o]=a[g].s,l=1;l<I.length;l++)c=u[I[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=N,x+=c[g].s,c[g][o]=x;if(M)for(w=(M==="fraction"?x:x/100)||1,l=0;l<I.length;l++){var k=u[I[l]][g];k[o]/=w,k.sNorm=k.s/w}}for(l=0;l<I.length;l++){c=u[I[l]];var O=c[0].trace,F=m.calcMarkerSize(O,O._rawLength),z=Array.isArray(F);if(F&&E[l]||z){var B=F;for(F=new Array(N),g=0;g<N;g++)F[g]=c[g].gap?0:z?B[c[g].i]:B}var W=new Array(N),J=new Array(N);for(g=0;g<N;g++)W[g]=c[g].x,J[g]=c[g].y;m.calcAxisExpansion(p,O,t,i,W,J,F),c[0].t.orientation=C.orientation}}}}};function L(v,p,r,t,i,n,f){i[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(p,0,u),p&&r===v[p-1][f]){var l=v[p-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=S(v,p,r,f));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function S(v,p,r,t){var i=v[p-1],n=v[p+1];return n?i?i.s+(n.s-i.s)*(r-i[t])/(n[t]-i[t]):n.s:i.s}},35036:function(G,H,e){var m=e(3400),P=e(20011),s=e(52904);G.exports=function(S,v){var p,r,t;function i(g){return m.coerce(r._input,r,s,g)}if(v.scattermode==="group")for(t=0;t<S.length;t++)r=S[t],r.type==="scatter"&&(p=r._input,P(p,r,v,i));for(t=0;t<S.length;t++){var n=S[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=S[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(G,H,e){var m=e(3400),P=e(24040),s=e(52904),L=e(88200),S=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),i=e(66828),n=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;G.exports=function(h,T,c,a){function d(E,b){return m.coerce(h,T,s,E,b)}var x=v(h,T,a,d);if(x||(T.visible=!1),!!T.visible){p(h,T,a,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=r(h,T,a,d);a.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var C=!w&&x<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),S.hasMarkers(T)&&t(h,T,c,a,d,{gradient:!0}),S.hasLines(T)&&(i(h,T,c,a,d,{backoff:!0}),n(h,T,d),d("connectgaps"),d("line.simplify")),S.hasText(T)&&(d("texttemplate"),f(h,T,a,d));var y=[];(S.hasMarkers(T)||S.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(u(h,T,c,d,{moduleHasFillgradient:!0}),S.hasLines(T)||n(h,T,d),l(d,"fillpattern",T.fillcolor,!1));var M=(T.line||{}).color,A=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var o=P.getComponentMethod("errorbars","supplyDefaults");o(h,T,M||A||c,{axis:"y"}),o(h,T,M||A||c,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(T,d)}}},98304:function(G){G.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(G,H,e){var m=e(76308),P=e(3400).isArrayOrTypedArray;function s(L){for(var S=m.interpolate(L[0][1],L[1][1],.5),v=2;v<L.length;v++){var p=m.interpolate(L[v-1][1],L[v][1],.5);S=m.interpolate(S,p,L[v-1][0]/L[v][0])}return S}G.exports=function(S,v,p,r,t){t||(t={});var i=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!P(n)?i=n:f&&!P(f)&&(i=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var g=r("fillgradient.colorscale");g&&(u=s(g))}}r("fillcolor",m.addOpacity((v.line||{}).color||i||u||p,.5))}},76688:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p={_fullLayout:S},r=m.getFromTrace(p,L,"x"),t=m.getFromTrace(p,L,"y"),i=s.orig_x;i===void 0&&(i=s.x);var n=s.orig_y;return n===void 0&&(n=s.y),v.xLabel=m.tickText(r,r.c2l(i),!0).text,v.yLabel=m.tickText(t,t.c2l(n),!0).text,v}},44928:function(G,H,e){var m=e(76308),P=e(43028);G.exports=function(L,S){var v,p;if(L.mode==="lines")return v=L.line.color,v&&m.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=S.mcc||(L.marker||{}).color,t=S.mlcc||((L.marker||{}).line||{}).color;return p=r&&m.opacity(r)?r:t&&m.opacity(t)&&(S.mlw||((L.marker||{}).line||{}).width)?t:"",p?m.opacity(p)<.3?m.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&m.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},20011:function(G,H,e){var m=e(71888).getAxisGroup;G.exports=function(s,L,S,v){var p=L.orientation,r=L[{v:"x",h:"y"}[p]+"axis"],t=m(S,r)+p,i=S._alignmentOpts||{},n=v("alignmentgroup"),f=i[t];f||(f=i[t]={});var u=f[n];u?u.traces.push(L):u=f[n]={traces:[L],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),g=u.offsetGroups,h=g[l];l&&(h||(h=g[l]={offsetIndex:Object.keys(g).length}),L._offsetIndex=h.offsetIndex)}},98723:function(G,H,e){var m=e(3400),P=e(93024),s=e(24040),L=e(44928),S=e(76308),v=m.fillText;G.exports=function(r,t,i,n){var f=r.cd,u=f[0].trace,l=r.xa,g=r.ya,h=l.c2p(t),T=g.c2p(i),c=[h,T],a=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,x=!!u.xperiodalignment,w=!!u.yperiodalignment;if(a.indexOf("points")!==-1){var C=function(re){if(x){var ne=l.c2p(re.xStart),le=l.c2p(re.xEnd);return h>=Math.min(ne,le)&&h<=Math.max(ne,le)?0:1/0}var $=Math.max(3,re.mrc||0),K=1-1/$,ie=Math.abs(l.c2p(re.x)-h);return ie<$?K*ie/$:ie-$+K},y=function(re){if(w){var ne=g.c2p(re.yStart),le=g.c2p(re.yEnd);return T>=Math.min(ne,le)&&T<=Math.max(ne,le)?0:1/0}var $=Math.max(3,re.mrc||0),K=1-1/$,ie=Math.abs(g.c2p(re.y)-T);return ie<$?K*ie/$:ie-$+K},M=function(re){var ne=Math.max(d,re.mrc||0),le=l.c2p(re.x)-h,$=g.c2p(re.y)-T;return Math.max(Math.sqrt(le*le+$*$)-ne,1-d/ne)},A=P.getDistanceFunction(n,C,y,M);if(P.getClosest(f,A,r),r.index!==!1){var o=f[r.index],E=l.c2p(o.x,!0),b=g.c2p(o.y,!0),I=o.mrc||1;r.index=o.i;var D=f[0].t.orientation,N=D&&(o.sNorm||o.s),k=D==="h"?N:o.orig_x!==void 0?o.orig_x:o.x,O=D==="v"?N:o.orig_y!==void 0?o.orig_y:o.y;return m.extendFlat(r,{color:L(u,o),x0:E-I,x1:E+I,xLabelVal:k,y0:b-I,y1:b+I,yLabelVal:O,spikeDistance:M(o),hovertemplate:u.hovertemplate}),v(o,u,r),s.getComponentMethod("errorbars","hoverInfo")(o,u,r),[r]}}function F(re){if(!re)return!1;var ne=re.node();try{var le=new DOMPoint(c[0],c[1]);return ne.isPointInFill(le)}catch{var $=ne.ownerSVGElement.createSVGPoint();return $.x=c[0],$.y=c[1],ne.isPointInFill($)}}function z(re){var ne,le=[],$=1/0,K=-1/0,ie=1/0,Y=-1/0,Q;for(ne=0;ne<re.length;ne++){var oe=re[ne];oe.contains(c)&&(le.push(oe),ie=Math.min(ie,oe.ymin),Y=Math.max(Y,oe.ymax))}if(le.length===0)return null;ie=Math.max(ie,0),Y=Math.min(Y,g._length),Q=(ie+Y)/2;var X,j,se,te,fe,ge,be;for(ne=0;ne<le.length;ne++)for(j=le[ne].pts,X=1;X<j.length;X++)ge=j[X-1][1],be=j[X][1],ge>Q!=be>=Q&&(te=j[X-1][0],fe=j[X][0],be-ge&&(se=te+(fe-te)*(Q-ge)/(be-ge),$=Math.min($,se),K=Math.max(K,se)));return $=Math.max($,0),K=Math.min(K,l._length),{x0:$,x1:K,y0:Q,y1:Q}}if(a.indexOf("fills")!==-1&&u._fillElement){var B=F(u._fillElement)&&!F(u._fillExclusionElement);if(B){var W=z(u._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var J=S.defaultLine;return S.opacity(u.fillcolor)?J=u.fillcolor:S.opacity((u.line||{}).color)&&(J=u.line.color),m.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:J,hovertemplate:!1}),delete r.index,u.text&&!m.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(G,H,e){var m=e(43028);G.exports={hasLines:m.hasLines,hasMarkers:m.hasMarkers,hasText:m.hasText,isBubble:m.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(G,H,e){var m=e(3400),P=e(55308);G.exports=function(s,L){function S(p,r){return m.coerce(s,L,P,p,r)}var v=L.barmode==="group";L.scattermode==="group"&&S("scattergap",v?L.bargap:.2)}},66828:function(G,H,e){var m=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,s=e(27260);G.exports=function(S,v,p,r,t,i){i||(i={});var n=(S.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(S,"line"))s(S,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(m(n)?!1:n)||p;t("line.color",f)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(G,H,e){var m=e(43616),P=e(39032),s=P.BADNUM,L=P.LOG_CLIP,S=L+.5,v=L-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,i=e(88200);G.exports=function(f,u){var l=u.trace||{},g=u.xaxis,h=u.yaxis,T=g.type==="log",c=h.type==="log",a=g._length,d=h._length,x=u.backoff,w=l.marker,C=u.connectGaps,y=u.baseTolerance,M=u.shape,A=M==="linear",o=l.fill&&l.fill!=="none",E=[],b=i.minTolerance,I=f.length,D=new Array(I),N=0,k,O,F,z,B,W,J,re,ne,le,$,K,ie,Y,Q,oe;function X(ot){var st=f[ot];if(!st)return!1;var Wt=u.linearized?g.l2p(st.x):g.c2p(st.x),Pt=u.linearized?h.l2p(st.y):h.c2p(st.y);if(Wt===s){if(T&&(Wt=g.c2p(st.x,!0)),Wt===s)return!1;c&&Pt===s&&(Wt*=Math.abs(g._m*d*(g._m>0?S:v)/(h._m*a*(h._m>0?S:v)))),Wt*=1e3}if(Pt===s){if(c&&(Pt=h.c2p(st.y,!0)),Pt===s)return!1;Pt*=1e3}return[Wt,Pt]}function j(ot,st,Wt,Pt){var dt=Wt-ot,Mt=Pt-st,Xt=.5-ot,nr=.5-st,vt=dt*dt+Mt*Mt,Zt=dt*Xt+Mt*nr;if(Zt>0&&Zt<vt){var Kt=Xt*Mt-nr*dt;if(Kt*Kt<vt)return!0}}var se,te;function fe(ot,st){var Wt=ot[0]/a,Pt=ot[1]/d,dt=Math.max(0,-Wt,Wt-1,-Pt,Pt-1);return dt&&se!==void 0&&j(Wt,Pt,se,te)&&(dt=0),dt&&st&&j(Wt,Pt,st[0]/a,st[1]/d)&&(dt=0),(1+i.toleranceGrowth*dt)*y}function ge(ot,st){var Wt=ot[0]-st[0],Pt=ot[1]-st[1];return Math.sqrt(Wt*Wt+Pt*Pt)}var be=i.maxScreensAway,xe=-a*be,_e=a*(1+be),De=-d*be,Fe=d*(1+be),Te=[[xe,De,_e,De],[_e,De,_e,Fe],[_e,Fe,xe,Fe],[xe,Fe,xe,De]],Re,Se,Ie,Me,Ve,et;function it(ot,st){for(var Wt=[],Pt=0,dt=0;dt<4;dt++){var Mt=Te[dt],Xt=r(ot[0],ot[1],st[0],st[1],Mt[0],Mt[1],Mt[2],Mt[3]);Xt&&(!Pt||Math.abs(Xt.x-Wt[0][0])>1||Math.abs(Xt.y-Wt[0][1])>1)&&(Xt=[Xt.x,Xt.y],Pt&&ge(Xt,ot)<ge(Wt[0],ot)?Wt.unshift(Xt):Wt.push(Xt),Pt++)}return Wt}function Je(ot){if(ot[0]<xe||ot[0]>_e||ot[1]<De||ot[1]>Fe)return[t(ot[0],xe,_e),t(ot[1],De,Fe)]}function Qe(ot,st){if(ot[0]===st[0]&&(ot[0]===xe||ot[0]===_e)||ot[1]===st[1]&&(ot[1]===De||ot[1]===Fe))return!0}function ct(ot,st){var Wt=[],Pt=Je(ot),dt=Je(st);return Pt&&dt&&Qe(Pt,dt)||(Pt&&Wt.push(Pt),dt&&Wt.push(dt)),Wt}function ht(ot,st,Wt){return function(Pt,dt){var Mt=Je(Pt),Xt=Je(dt),nr=[];if(Mt&&Xt&&Qe(Mt,Xt))return nr;Mt&&nr.push(Mt),Xt&&nr.push(Xt);var vt=2*p.constrain((Pt[ot]+dt[ot])/2,st,Wt)-((Mt||Pt)[ot]+(Xt||dt)[ot]);if(vt){var Zt;Mt&&Xt?Zt=vt>0==Mt[ot]>Xt[ot]?Mt:Xt:Zt=Mt||Xt,Zt[ot]+=vt}return nr}}var gt;M==="linear"||M==="spline"?gt=it:M==="hv"||M==="vh"?gt=ct:M==="hvh"?gt=ht(0,xe,_e):M==="vhv"&&(gt=ht(1,De,Fe));function Tt(ot,st){var Wt=st[0]-ot[0],Pt=(st[1]-ot[1])/Wt,dt=(ot[1]*st[0]-st[1]*ot[0])/Wt;return dt>0?[Pt>0?xe:_e,Fe]:[Pt>0?_e:xe,De]}function Et(ot){var st=ot[0],Wt=ot[1],Pt=st===D[N-1][0],dt=Wt===D[N-1][1];if(!(Pt&&dt))if(N>1){var Mt=st===D[N-2][0],Xt=Wt===D[N-2][1];Pt&&(st===xe||st===_e)&&Mt?Xt?N--:D[N-1]=ot:dt&&(Wt===De||Wt===Fe)&&Xt?Mt?N--:D[N-1]=ot:D[N++]=ot}else D[N++]=ot}function rt(ot){D[N-1][0]!==ot[0]&&D[N-1][1]!==ot[1]&&Et([Ie,Me]),Et(ot),Ve=null,Ie=Me=0}var ze=p.isArrayOrTypedArray(w);function He(ot){if(ot&&x&&(ot.i=k,ot.d=f,ot.trace=l,ot.marker=ze?w[ot.i]:w,ot.backoff=x),se=ot[0]/a,te=ot[1]/d,Re=ot[0]<xe?xe:ot[0]>_e?_e:0,Se=ot[1]<De?De:ot[1]>Fe?Fe:0,Re||Se){if(!N)D[N++]=[Re||ot[0],Se||ot[1]];else if(Ve){var st=gt(Ve,ot);st.length>1&&(rt(st[0]),D[N++]=st[1])}else et=gt(D[N-1],ot)[0],D[N++]=et;var Wt=D[N-1];Re&&Se&&(Wt[0]!==Re||Wt[1]!==Se)?(Ve&&(Ie!==Re&&Me!==Se?Et(Ie&&Me?Tt(Ve,ot):[Ie||Re,Me||Se]):Ie&&Me&&Et([Ie,Me])),Et([Re,Se])):Ie-Re&&Me-Se&&Et([Re||Ie,Se||Me]),Ve=ot,Ie=Re,Me=Se}else Ve&&rt(gt(Ve,ot)[0]),D[N++]=ot}for(k=0;k<I;k++)if(O=X(k),!!O){for(N=0,Ve=null,He(O),k++;k<I;k++){if(z=X(k),!z){if(C)continue;break}if(!A||!u.simplify){He(z);continue}var Ge=X(k+1);if(le=ge(z,O),!(!(o&&(N===0||N===I-1))&&le<fe(z,Ge)*b)){for(re=[(z[0]-O[0])/le,(z[1]-O[1])/le],B=O,$=le,K=Y=Q=0,J=!1,F=z,k++;k<f.length;k++){if(W=Ge,Ge=X(k+1),!W){if(C)continue;break}if(ne=[W[0]-O[0],W[1]-O[1]],oe=ne[0]*re[1]-ne[1]*re[0],Y=Math.min(Y,oe),Q=Math.max(Q,oe),Q-Y>fe(W,Ge))break;F=W,ie=ne[0]*re[0]+ne[1]*re[1],ie>$?($=ie,z=W,J=!1):ie<K&&(K=ie,B=W,J=!0)}if(J?(He(z),F!==B&&He(B)):(B!==O&&He(B),F!==z&&He(z)),He(F),k>=f.length||!W)break;He(W),O=W}}Ve&&Et([Ie||Ve[0],Me||Ve[1]]),E.push(D.slice(0,N))}var We=M.slice(M.length-1);if(x&&We!=="h"&&We!=="v"){for(var Le=!1,Pe=-1,je=[],Ce=0;Ce<E.length;Ce++)for(var he=0;he<E[Ce].length-1;he++){var me=E[Ce][he],Ne=E[Ce][he+1],$e=m.applyBackoff(Ne,me);($e[0]!==Ne[0]||$e[1]!==Ne[1])&&(Le=!0),je[Pe+1]||(Pe++,je[Pe]=[me,[$e[0],$e[1]]])}return Le?je:E}return E}},11731:function(G){G.exports=function(e,m,P){var s=P("line.shape");s==="spline"&&P("line.smoothing")}},14328:function(G){var H={tonextx:1,tonexty:1,tonext:1};G.exports=function(m,P,s){var L,S,v,p,r,t={},i=!1,n=-1,f=0,u=-1;for(S=0;S<s.length;S++)L=s[S][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):L.fill in H&&u>=0?r=u:(r=u=f,f++),r<n&&(i=!0),L._groupIndex=n=r;var l=s.slice();i&&l.sort(function(h,T){var c=h[0].trace,a=T[0].trace;return c._groupIndex-a._groupIndex||c.index-a.index});var g={};for(S=0;S<l.length;S++)L=l[S][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in H&&(p=g[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return l}},7152:function(G,H,e){var m=e(38248);G.exports=function(s,L){L||(L=2);var S=s.marker,v=S.sizeref||1,p=S.sizemin||0,r=S.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var i=r(t/L);return m(i)&&i>0?Math.max(i,p):0}}},5528:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(G,H,e){var m=e(76308),P=e(94288).hasColorscale,s=e(27260),L=e(43028);G.exports=function(v,p,r,t,i,n){var f=L.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),i("marker.symbol"),i("marker.opacity",f?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",r),P(v,"marker")&&s(v,p,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?l=u:f?l=m.background:l=m.defaultLine,i("marker.line.color",l),P(v,"marker.line")&&s(v,p,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",f?1:0)),f&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient){var g=i("marker.gradient.type");g!=="none"&&i("marker.gradient.color")}}},31147:function(G,H,e){var m=e(3400).dateTick0,P=e(39032),s=P.ONEWEEK;function L(S,v){return S%s===0?m(v,1):m(v,0)}G.exports=function(v,p,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var n=t("xperiod");n&&(t("xperiod0",L(n,p.xcalendar)),t("xperiodalignment"))}if(i.y){var f=t("yperiod");f&&(t("yperiod0",L(f,p.ycalendar)),t("yperiodalignment"))}}},96504:function(G,H,e){var m=e(33428),P=e(24040),s=e(3400),L=s.ensureSingle,S=s.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),i=e(92065).tester;G.exports=function(g,h,T,c,a,d){var x,w,C=!a,y=!!a&&a.duration>0,M=t(g,h,T);if(x=c.selectAll("g.trace").data(M,function(o){return o[0].trace.uid}),x.enter().append("g").attr("class",function(o){return"trace scatter trace"+o[0].trace.uid}).style("stroke-miterlimit",2),x.order(),n(g,x,h),y){d&&(w=d());var A=m.transition().duration(a.duration).ease(a.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});A.each(function(){c.selectAll("g.trace").each(function(o,E){f(g,E,h,o,M,this,a)})})}else x.each(function(o,E){f(g,E,h,o,M,this,a)});C&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,g,h){g.each(function(T){var c=L(m.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var a=T[0].trace,d=[];a._ownfill&&d.push("_ownFill"),a._nexttrace&&d.push("_nextFill");var x=c.selectAll("g").data(d,S);x.enter().append("g"),x.exit().each(function(w){a[w]=null}).remove(),x.order().each(function(w){a[w]=L(m.select(this),"path","js-fill")})})}function f(l,g,h,T,c,a,d){var x=l._context.staticPlot,w;u(l,g,h,T,c);var C=!!d&&d.duration>0;function y(Et){return C?Et.transition():Et}var M=h.xaxis,A=h.yaxis,o=T[0].trace,E=o.line,b=m.select(a),I=L(b,"g","errorbars"),D=L(b,"g","lines"),N=L(b,"g","points"),k=L(b,"g","text");if(P.getComponentMethod("errorbars","plot")(l,I,h,d),o.visible!==!0)return;y(b).style("opacity",o.opacity);var O,F,z=o.fill.charAt(o.fill.length-1);z!=="x"&&z!=="y"&&(z="");var B,W;z==="y"?(B=1,W=A.c2p(0,!0)):z==="x"&&(B=0,W=M.c2p(0,!0)),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=b;var J="",re=[],ne=o._prevtrace,le=null,$=null;ne&&(J=ne._prevRevpath||"",F=ne._nextFill,re=ne._ownPolygons,le=ne._fillsegments,$=ne._fillElement);var K,ie,Y="",Q="",oe,X,j,se,te,fe,ge=[];o._polygons=[];var be=[],xe=[],_e=s.noop;if(O=o._ownFill,p.hasLines(o)||o.fill!=="none"){F&&F.datum(T),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(oe=v.steps(E.shape),X=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?oe=X=function(Et){var rt=Et[Et.length-1];return Et.length>1&&Et[0][0]===rt[0]&&Et[0][1]===rt[1]?v.smoothclosed(Et.slice(1),E.smoothing):v.smoothopen(Et,E.smoothing)}:oe=X=function(Et){return"M"+Et.join("L")},j=function(Et){return X(Et.reverse())},xe=r(T,{xaxis:M,yaxis:A,trace:o,connectGaps:o.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:o.fill}),be=new Array(xe.length);var De=0;for(w=0;w<xe.length;w++){var Fe,Te=xe[w];!Fe||!z?(Fe=Te.slice(),be[De]=Fe,De++):Fe.push.apply(Fe,Te)}o._fillElement=null,o._fillExclusionElement=$,o._fillsegments=be.slice(0,De),be=o._fillsegments,xe.length&&(se=xe[0][0].slice(),te=xe[xe.length-1],fe=te[te.length-1].slice()),_e=function(Et){return function(rt){if(K=oe(rt),ie=j(rt),Y?z?(Y+="L"+K.substr(1),Q=ie+("L"+Q.substr(1))):(Y+="Z"+K,Q=ie+"Z"+Q):(Y=K,Q=ie),p.hasLines(o)){var ze=m.select(this);if(ze.datum(T),Et)y(ze.style("opacity",0).attr("d",K).call(v.lineGroupStyle)).style("opacity",1);else{var He=y(ze);He.attr("d",K),v.singleLineStyle(T,He)}}}}}var Re=D.selectAll(".js-line").data(xe);y(Re.exit()).style("opacity",0).remove(),Re.each(_e(!1)),Re.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(_e(!0)),v.setClipUrl(Re,h.layerClipId,l);function Se(Et){y(Et).attr("d","M0,0Z")}var Ie=function(){var Et=new Array(be.length);for(w=0;w<be.length;w++)Et[w]=i(be[w]);return Et},Me=function(Et){var rt,ze;if(!Et||Et.length===0)for(rt=new Array(be.length),ze=0;ze<be.length;ze++){var He=be[ze][0].slice(),Ge=be[ze][be[ze].length-1].slice();He[B]=Ge[B]=W;var We=[Ge,He],Le=We.concat(be[ze]);rt[ze]=i(Le)}else{for(rt=new Array(Et.length-1+be.length),ze=0;ze<Et.length-1;ze++)rt[ze]=i(Et[ze]);var Pe=Et[Et.length-1].slice();for(Pe.reverse(),ze=0;ze<be.length;ze++)rt[Et.length-1+ze]=i(be[ze].concat(Pe))}return rt};xe.length?(O?(O.datum(T),se&&fe&&(z?(se[B]=fe[B]=W,y(O).attr("d","M"+fe+"L"+se+"L"+Y.substr(1)).call(v.singleFillStyle,l),ge=Me(null)):(y(O).attr("d",Y+"Z").call(v.singleFillStyle,l),ge=Ie())),o._polygons=ge,o._fillElement=O):F&&(o.fill.substr(0,6)==="tonext"&&Y&&J?(o.fill==="tonext"?(y(F).attr("d",Y+"Z"+J+"Z").call(v.singleFillStyle,l),ge=Ie(),o._polygons=ge.concat(re)):(y(F).attr("d",Y+"L"+J.substr(1)+"Z").call(v.singleFillStyle,l),ge=Me(le),o._polygons=ge),o._fillElement=F):Se(F)),o._prevRevpath=Q):(O?Se(O):F&&Se(F),o._prevRevpath=null),o._ownPolygons=ge;function Ve(Et){return Et.filter(function(rt){return!rt.gap&&rt.vis})}function et(Et){return Et.filter(function(rt){return rt.vis})}function it(Et){return Et.filter(function(rt){return!rt.gap})}function Je(Et){return Et.id}function Qe(Et){if(Et.ids)return Je}function ct(){return!1}function ht(Et,rt,ze){var He,Ge,We,Le=ze[0].trace,Pe=p.hasMarkers(Le),je=p.hasText(Le),Ce=Qe(Le),he=ct,me=ct;if(Pe||je){var Ne=S,$e=Le.stackgroup,ot=$e&&l._fullLayout._scatterStackOpts[M._id+A._id][$e].stackgaps==="infer zero";Le.marker.maxdisplayed||Le._needsCull?Ne=ot?et:Ve:$e&&!ot&&(Ne=it),Pe&&(he=Ne),je&&(me=Ne)}Ge=Et.selectAll("path.point"),He=Ge.data(he,Ce);var st=He.enter().append("path").classed("point",!0);C&&st.call(v.pointStyle,Le,l).call(v.translatePoints,M,A).style("opacity",0).transition().style("opacity",1),He.order();var Wt;Pe&&(Wt=v.makePointStyleFns(Le)),He.each(function(Pt){var dt=m.select(this),Mt=y(dt);We=v.translatePoint(Pt,Mt,M,A),We?(v.singlePointStyle(Pt,Mt,Le,Wt,l),h.layerClipId&&v.hideOutsideRangePoint(Pt,Mt,M,A,Le.xcalendar,Le.ycalendar),Le.customdata&&dt.classed("plotly-customdata",Pt.data!==null&&Pt.data!==void 0)):Mt.remove()}),C?He.exit().transition().style("opacity",0).remove():He.exit().remove(),Ge=rt.selectAll("g"),He=Ge.data(me,Ce),He.enter().append("g").classed("textpoint",!0).append("text"),He.order(),He.each(function(Pt){var dt=m.select(this),Mt=y(dt.select("text"));We=v.translatePoint(Pt,Mt,M,A),We?h.layerClipId&&v.hideOutsideRangePoint(Pt,dt,M,A,Le.xcalendar,Le.ycalendar):dt.remove()}),He.selectAll("text").call(v.textPointStyle,Le,l).each(function(Pt){var dt=M.c2p(Pt.x),Mt=A.c2p(Pt.y);m.select(this).selectAll("tspan.line").each(function(){y(m.select(this)).attr({x:dt,y:Mt})})}),He.exit().remove()}N.datum(T),k.datum(T),ht(N,k,T);var gt=o.cliponaxis===!1,Tt=gt?null:h.layerClipId;v.setClipUrl(N,Tt,l),v.setClipUrl(k,Tt,l)}function u(l,g,h,T,c){var a=h.xaxis,d=h.yaxis,x=m.extent(s.simpleMap(a.range,a.r2c)),w=m.extent(s.simpleMap(d.range,d.r2c)),C=T[0].trace;if(p.hasMarkers(C)){var y=C.marker.maxdisplayed;if(y!==0){var M=T.filter(function(b){return b.x>=x[0]&&b.x<=x[1]&&b.y>=w[0]&&b.y<=w[1]}),A=Math.ceil(M.length/y),o=0;c.forEach(function(b,I){var D=b[0].trace;p.hasMarkers(D)&&D.marker.maxdisplayed>0&&I<g&&o++});var E=Math.round(o*A/3+Math.floor(o/3)*A/7.1);T.forEach(function(b){delete b.vis}),M.forEach(function(b,I){Math.round((I+E)%A)===0&&(b.vis=!0)})}}}},91560:function(G,H,e){var m=e(43028);G.exports=function(s,L){var S=s.cd,v=s.xaxis,p=s.yaxis,r=[],t=S[0].trace,i,n,f,u,l=!m.hasMarkers(t)&&!m.hasText(t);if(l)return[];if(L===!1)for(i=0;i<S.length;i++)S[i].selected=0;else for(i=0;i<S.length;i++)n=S[i],f=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&L.contains([f,u],!1,i,s)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(G){var H=["orientation","groupnorm","stackgaps"];G.exports=function(m,P,s,L){var S=s._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=S[p];r||(r=S[p]={});var t=r[v],i=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},i=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},f=0;f<H.length;f++){var u=H[f],l=u+"Found";if(!t[l]){var g=m[u]!==void 0,h=u==="orientation";if((g||i)&&(t[u]=L(u,n[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),g&&(t[l]=!0,!i&&(delete t.traces[0][u],h))))for(var T=0;T<t.traces.length-1;T++){var c=t.traces[T];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(G,H,e){var m=e(33428),P=e(43616),s=e(24040);function L(r){var t=m.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var n=m.select(this),f=i.trace||i[0].trace;S(n,f,r)}),t.selectAll("g.text").each(function(i){var n=m.select(this),f=i.trace||i[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),s.getComponentMethod("errorbars","style")(t)}function S(r,t,i){P.pointStyle(r.selectAll("path.point"),t,i)}function v(r,t,i){P.textPointStyle(r.selectAll("text"),t,i)}function p(r,t,i){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(i.selectAll("path.point"),n),P.selectedTextStyle(i.selectAll("text"),n)):(S(i,n,r),v(i,n,r))}G.exports={style:L,stylePoints:S,styleText:v,styleOnSelect:p}},43028:function(G,H,e){var m=e(3400),P=e(38116).isTypedArraySpec;G.exports={hasLines:function(s){return s.visible&&s.mode&&s.mode.indexOf("lines")!==-1},hasMarkers:function(s){return s.visible&&(s.mode&&s.mode.indexOf("markers")!==-1||s.type==="splom")},hasText:function(s){return s.visible&&s.mode&&s.mode.indexOf("text")!==-1},isBubble:function(s){var L=s.marker;return m.isPlainObject(L)&&(m.isArrayOrTypedArray(L.size)||P(L.size))}}},124:function(G,H,e){var m=e(3400);G.exports=function(P,s,L,S,v){v=v||{},S("textposition"),m.coerceFont(S,"textfont",v.font||L.font,v),v.noSelect||(S("selected.textfont.color"),S("unselected.textfont.color"))}},43980:function(G,H,e){var m=e(3400),P=e(24040);G.exports=function(L,S,v,p){var r=p("x"),t=p("y"),i,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,S,["x","y"],v),r){var f=m.minRowLength(r);t?i=Math.min(f,m.minRowLength(t)):(i=f,p("y0"),p("dy"))}else{if(!t)return 0;i=m.minRowLength(t),p("x0"),p("dx")}return S._length=i,i}},91592:function(G,H,e){var m=e(52904),P=e(25376),s=e(49084),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(45464),r=e(99168),t=e(87792),i=e(92880).extendFlat,n=e(67824).overrideAll,f=e(95376),u=m.line,l=m.marker,g=l.line,h=i({width:u.width,dash:{valType:"enumerated",values:f(r),dflt:"solid"}},s("line"));function T(a){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=G.exports=n({x:m.x,y:m.y,z:{valType:"data_array"},text:i({},m.text,{}),texttemplate:v({},{}),hovertext:i({},m.hovertext,{}),hovertemplate:S(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),mode:i({},m.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:m.connectgaps,line:h,marker:i({symbol:{valType:"enumerated",values:f(t),dflt:"circle",arrayOk:!0},size:i({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:i({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:i({width:i({},g.width,{arrayOk:!1})},s("marker.line"))},s("marker")),textposition:i({},m.textposition,{dflt:"top center"}),textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:p.opacity,hoverinfo:i({},p.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(G,H,e){var m=e(20148),P=e(90136);G.exports=function(L,S){var v=[{x:!1,y:!1,trace:S,t:{}}];return m(v,S),P(L,S),v}},45156:function(G,H,e){var m=e(24040);function P(S,v,p,r){if(!v||!v.visible)return null;for(var t=m.getComponentMethod("errorbars","makeComputeError")(v),i=new Array(S.length),n=0;n<S.length;n++){var f=t(+S[n],n);if(r.type==="log"){var u=r.c2l(S[n]),l=S[n]-f[0],g=S[n]+f[1];if(i[n]=[(r.c2l(l,!0)-u)*p,(r.c2l(g,!0)-u)*p],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else i[n]=[-f[0]*p,f[1]*p]}return i}function s(S){for(var v=0;v<S.length;v++)if(S[v])return S[v].length;return 0}function L(S,v,p){var r=[P(S.x,S.error_x,v[0],p.xaxis),P(S.y,S.error_y,v[1],p.yaxis),P(S.z,S.error_z,v[2],p.zaxis)],t=s(r);if(t===0)return null;for(var i=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][n][l];i[n]=f}return i}G.exports=L},41064:function(G,H,e){var m=e(67792).gl_line3d,P=e(67792).gl_scatter3d,s=e(67792).gl_error3d,L=e(67792).gl_mesh3d,S=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),i=e(99168),n=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function g(b,I){this.scene=b,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=g.prototype;h.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var I=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[I]||this.textLabels[I]===0)&&(b.textLabel=this.textLabels[I]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}};function T(b,I,D){var N=(D+1)%3,k=(D+2)%3,O=[],F=[],z;for(z=0;z<b.length;++z){var B=b[z];isNaN(B[N])||!isFinite(B[N])||isNaN(B[k])||!isFinite(B[k])||(O.push([B[N],B[k]]),F.push(z))}var W=S(O);for(z=0;z<W.length;++z)for(var J=W[z],re=0;re<J.length;++re)J[re]=F[J[re]];return{positions:b,cells:W,meshColor:I}}function c(b){for(var I=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var O=b[k];O&&O.copy_zstyle!==!1&&b[2].visible!==!1&&(O=b[2]),!(!O||!O.visible)&&(I[k]=O.width/2,D[k]=p(O.color),N[k]=O.thickness)}return{capSize:I,color:D,lineWidth:N}}function a(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function d(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function x(b){var I=0,D=0,N=[I,D];if(Array.isArray(b))for(var k=0;k<b.length;k++)N[k]=[I,D],b[k]&&(N[k][0]=a(b[k]),N[k][1]=d(b[k]));else N[0]=a(b),N[1]=d(b);return N}function w(b,I){return I(b*4)}function C(b){return n[b]}function y(b,I,D,N,k){var O=null;if(v.isArrayOrTypedArray(b)){O=[];for(var F=0;F<I;F++)b[F]===void 0?O[F]=N:O[F]=D(b[F],k)}else O=D(b,v.identity);return O}function M(b,I){var D=[],N=b.fullSceneLayout,k=b.dataScale,O=N.xaxis,F=N.yaxis,z=N.zaxis,B=I.marker,W=I.line,J=I.x||[],re=I.y||[],ne=I.z||[],le=J.length,$=I.xcalendar,K=I.ycalendar,ie=I.zcalendar,Y,Q,oe,X,j,se;for(j=0;j<le;j++)Y=O.d2l(J[j],0,$)*k[0],Q=F.d2l(re[j],0,K)*k[1],oe=z.d2l(ne[j],0,ie)*k[2],D[j]=[Y,Q,oe];if(Array.isArray(I.text))se=I.text;else if(v.isTypedArray(I.text))se=Array.from(I.text);else if(I.text!==void 0)for(se=new Array(le),j=0;j<le;j++)se[j]=I.text;function te(it,Je){var Qe=N[it];return f.tickText(Qe,Qe.d2l(Je),!0).text}var fe=I.texttemplate;if(fe){var ge=b.fullLayout,be=ge._d3locale,xe=Array.isArray(fe),_e=xe?Math.min(fe.length,le):le,De=xe?function(it){return fe[it]}:function(){return fe};for(se=new Array(_e),j=0;j<_e;j++){var Fe={x:J[j],y:re[j],z:ne[j]},Te={xLabel:te("xaxis",J[j]),yLabel:te("yaxis",re[j]),zLabel:te("zaxis",ne[j])},Re={};u(Re,I,j);var Se=I._meta||{};se[j]=v.texttemplateString(De(j),Te,be,Re,Fe,Se)}}if(X={position:D,mode:I.mode,text:se},"line"in I&&(X.lineColor=r(W,1,le),X.lineWidth=W.width,X.lineDashes=W.dash),"marker"in I){var Ie=t(I);X.scatterColor=r(B,1,le),X.scatterSize=y(B.size,le,w,20,Ie),X.scatterMarker=y(B.symbol,le,C,"●"),X.scatterLineWidth=B.line.width,X.scatterLineColor=r(B.line,1,le),X.scatterAngle=0}"textposition"in I&&(X.textOffset=x(I.textposition),X.textColor=r(I.textfont,1,le),X.textSize=y(I.textfont.size,le,v.identity,12),X.textFontFamily=I.textfont.family,X.textFontWeight=I.textfont.weight,X.textFontStyle=I.textfont.style,X.textFontVariant=I.textfont.variant,X.textAngle=0);var Me=["x","y","z"];for(X.project=[!1,!1,!1],X.projectScale=[1,1,1],X.projectOpacity=[1,1,1],j=0;j<3;++j){var Ve=I.projection[Me[j]];(X.project[j]=Ve.show)&&(X.projectOpacity[j]=Ve.opacity,X.projectScale[j]=Ve.scale)}X.errorBounds=l(I,k,N);var et=c([I.error_x,I.error_y,I.error_z]);return X.errorColor=et.color,X.errorLineWidth=et.lineWidth,X.errorCapSize=et.capSize,X.delaunayAxis=I.surfaceaxis,X.delaunayColor=p(I.surfacecolor),X}function A(b){if(v.isArrayOrTypedArray(b)){var I=b[0];return v.isArrayOrTypedArray(I)&&(b=I),"rgb("+b.slice(0,3).map(function(D){return Math.round(D*255)})+")"}return null}function o(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?A(b):b.map(A):null}h.update=function(b){var I=this.scene.glplot.gl,D,N,k,O,F=i.solid;this.data=b;var z=M(this.scene,b);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in i&&(F=i[z.lineDashes]),this.color=o(z.scatterColor)||o(z.lineColor),this.dataPoints=z.position,D={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:F[0],dashScale:F[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(D):(this.linePlot=m(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(B*=b.marker.opacity),N={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:B,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=P(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=P(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:b.opacity},this.errorBars?z.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=s(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var W=T(z.position,z.delaunayColor,z.delaunayAxis);W.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=I,this.delaunayMesh=L(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(b,I){var D=new g(b,I.uid);return D.update(I),D}G.exports=E},83484:function(G,H,e){var m=e(24040),P=e(3400),s=e(43028),L=e(74428),S=e(66828),v=e(124),p=e(91592);G.exports=function(i,n,f,u){function l(w,C){return P.coerce(i,n,p,w,C)}var g=r(i,n,l,u);if(!g){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),s.hasMarkers(n)&&L(i,n,f,u,l,{noSelect:!0,noAngle:!0}),s.hasLines(n)&&(l("connectgaps"),S(i,n,f,u,l)),s.hasText(n)&&(l("texttemplate"),v(i,n,u,l,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var h=(n.line||{}).color,T=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||T);for(var c=["x","y","z"],a=0;a<3;++a){var d="projection."+c[a];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var x=m.getComponentMethod("errorbars","supplyDefaults");x(i,n,h||T||f,{axis:"z"}),x(i,n,h||T||f,{axis:"y",inherit:"z"}),x(i,n,h||T||f,{axis:"x",inherit:"z"})};function r(t,i,n,f){var u=0,l=n("x"),g=n("y"),h=n("z"),T=m.getComponentMethod("calendars","handleTraceDefaults");return T(t,i,["x","y","z"],f),l&&g&&h&&(u=Math.min(l.length,g.length,h.length),i._length=i._xlength=i._ylength=i._zlength=u),u}},3296:function(G,H,e){G.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(G,H,e){var m=e(98304),P=e(52904),s=e(45464),L=e(21776).Ks,S=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,i=r.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:m(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:i.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},s.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:L(),zorder:P.zorder}},48228:function(G,H,e){var m=e(38248),P=e(90136),s=e(20148),L=e(4500),S=e(16356).calcMarkerSize,v=e(50948);G.exports=function(r,t){var i=t._carpetTrace=v(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var f=t._length,u=new Array(f),l,g,h=!1;for(n=0;n<f;n++)if(l=t.a[n],g=t.b[n],m(l)&&m(g)){var T=i.ab2xy(+l,+g,!0),c=i.isVisible(+l,+g);c||(h=!0),u[n]={x:T[0],y:T[1],a:l,b:g,vis:c}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=i,u[0].trace=t,S(t,f),P(r,t),s(u,t),L(u,t),u}}},6176:function(G,H,e){var m=e(3400),P=e(88200),s=e(43028),L=e(74428),S=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);G.exports=function(n,f,u,l){function g(w,C){return m.coerce(n,f,t,w,C)}g("carpet"),f.xaxis="x",f.yaxis="y";var h=g("a"),T=g("b"),c=Math.min(h.length,T.length);if(!c){f.visible=!1;return}f._length=c,g("text"),g("texttemplate"),g("hovertext");var a=c<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",a),s.hasMarkers(f)&&L(n,f,u,l,g,{gradient:!0}),s.hasLines(f)&&(S(n,f,u,l,g,{backoff:!0}),v(n,f,g),g("connectgaps")),s.hasText(f)&&p(n,f,l,g);var d=[];(s.hasMarkers(f)||s.hasText(f))&&(g("marker.maxdisplayed"),d.push("points")),g("fill"),f.fill!=="none"&&(r(n,f,u,g),s.hasLines(f)||v(n,f,g)),(f.fill==="tonext"||f.fill==="toself")&&d.push("fills");var x=g("hoveron",d.join("+")||"points");x!=="fills"&&g("hovertemplate"),g("zorder"),m.coerceSelectionMarkerOpacity(f,g)}},89307:function(G){G.exports=function(e,m,P,s,L){var S=s[L];return e.a=S.a,e.b=S.b,e.y=S.y,e}},52364:function(G){G.exports=function(e,m){var P={},s=m._carpet,L=s.ab2ij([e.a,e.b]),S=Math.floor(L[0]),v=L[0]-S,p=Math.floor(L[1]),r=L[1]-p,t=s.evalxy([],S,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(G,H,e){var m=e(98723),P=e(3400).fillText;G.exports=function(L,S,v,p){var r=m(L,S,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/L.ya._length,n=L.xa._length,f=n*i/2,u=n-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,h=g._carpet,T=g._module.formatLabels(l,g);t.yLabel=T.yLabel,delete t.text;var c=[];function a(w,C){var y;w.labelprefix&&w.labelprefix.length>0?y=w.labelprefix.replace(/ = $/,""):y=w._hovertitle,c.push(y+": "+C.toFixed(3)+w.labelsuffix)}if(!g.hovertemplate){var d=l.hi||g.hoverinfo,x=d.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&a(h.aaxis,l.a),x.indexOf("b")!==-1&&a(h.baxis,l.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&P(l,g,c),t.extraText=c.join("<br>")}return r}},4184:function(G,H,e){G.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(G,H,e){var m=e(96504),P=e(54460),s=e(43616);G.exports=function(S,v,p,r){var t,i,n,f=p[0][0].carpet,u=P.getFromId(S,f.xaxis||"x"),l=P.getFromId(S,f.yaxis||"y"),g={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)i=p[t][0].trace,i._xA=u,i._yA=l;for(m(S,g,p,r),t=0;t<p.length;t++)i=p[t][0].trace,n=r.selectAll("g.trace"+i.uid+" .js-line"),s.setClipUrl(n,p[t][0].carpet._clipPathId,S)}},6096:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(52904),S=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,i=L.marker,n=L.line,f=i.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:L.connectgaps,marker:r({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:r({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:r({width:f.width},v("marker.line")),gradient:i.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:s(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:m()},"calc","nested")},25212:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(90136),L=e(20148),S=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}G.exports=function(i,n){var f=v(n.locations),u=f?n.locations.length:n._length,l=new Array(u),g;n.geojson?g=function(x){return r(x)||m(x)}:g=r;for(var h=0;h<u;h++){var T=l[h]={};if(f){var c=n.locations[h];T.loc=g(c)?c:null}else{var a=n.lon[h],d=n.lat[h];m(a)&&m(d)?T.lonlat=[+a,+d]:T.lonlat=[P,P]}}return L(l,n),s(i,n),S(l,n),u&&(l[0].t={labels:{lat:p(i,"lat:")+" ",lon:p(i,"lon:")+" "}}),l}},86188:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(124),v=e(70840),p=e(6096);G.exports=function(t,i,n,f){function u(x,w){return m.coerce(t,i,p,x,w)}var l=u("locations"),g;if(l&&l.length){var h=u("geojson"),T;(typeof h=="string"&&h!==""||m.isPlainObject(h))&&(T="geojson-id");var c=u("locationmode",T);c==="geojson-id"&&u("featureidkey"),g=l.length}else{var a=u("lon")||[],d=u("lat")||[];g=Math.min(a.length,d.length)}if(!g){i.visible=!1;return}i._length=g,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),P.hasMarkers(i)&&s(t,i,n,f,u,{gradient:!0}),P.hasLines(i)&&(L(t,i,n,f,u),u("connectgaps")),P.hasText(i)&&(u("texttemplate"),S(t,i,f,u)),u("fill"),i.fill!=="none"&&v(t,i,n,u),m.coerceSelectionMarkerOpacity(i,u)}},58544:function(G){G.exports=function(e,m,P,s,L){e.lon=m.lon,e.lat=m.lat,e.location=m.loc?m.loc:null;var S=s[L];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e}},56696:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.geo]._subplot,r=p.mockAxis,t=s.lonlat;return v.lonLabel=m.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=m.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(G,H,e){var m=e(93024),P=e(39032).BADNUM,s=e(44928),L=e(3400).fillText,S=e(6096);G.exports=function(r,t,i){var n=r.cd,f=n[0].trace,u=r.xa,l=r.ya,g=r.subplot,h=g.projection.isLonLatOverEdges,T=g.project;function c(M){var A=M.lonlat;if(A[0]===P||h(A))return 1/0;var o=T(A),E=T([t,i]),b=Math.abs(o[0]-E[0]),I=Math.abs(o[1]-E[1]),D=Math.max(3,M.mrc||0);return Math.max(Math.sqrt(b*b+I*I)-D,1-3/D)}if(m.getClosest(n,c,r),r.index!==!1){var a=n[r.index],d=a.lonlat,x=[u.c2p(d),l.c2p(d)],w=a.mrc||1;r.x0=x[0]-w,r.x1=x[0]+w,r.y0=x[1]-w,r.y1=x[1]+w,r.loc=a.loc,r.lon=d[0],r.lat=d[1];var C={};C[f.geo]={_subplot:g};var y=f._module.formatLabels(a,f,C);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=s(f,a),r.extraText=v(f,a,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(p,r,t,i){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,f=n==="all"?S.hoverinfo.flags:n.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(p.locations),l=f.indexOf("lon")!==-1,g=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,T=[];function c(a){return a+"°"}return u?T.push(r.loc):l&&g?T.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?T.push(i.lon+c(t.lonLabel)):g&&T.push(i.lat+c(t.latLabel)),h&&L(r,p,T),T.join("<br>")}},36952:function(G,H,e){G.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(G,H,e){var m=e(33428),P=e(3400),s=e(59972).getTopojsonFeatures,L=e(44808),S=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),i=e(25064);function n(u,l,g){var h=l.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(h,g,"trace scattergeo");function c(a,d){a.lonlat[0]===p&&m.select(d).remove()}T.selectAll("*").remove(),T.each(function(a){var d=m.select(this),x=a[0].trace;if(t.hasLines(x)||x.fill!=="none"){var w=L.calcTraceToLineCoords(a),C=x.fill!=="none"?L.makePolygon(w):L.makeLine(w);d.selectAll("path.js-line").data([{geojson:C,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(x)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(y){c(y,this)}),i(u,a)})}function f(u,l){var g=u[0].trace,h=l[g.geo],T=h._subplot,c=g._length,a,d;if(P.isArrayOrTypedArray(g.locations)){var x=g.locationmode,w=x==="geojson-id"?S.extractTraceFeature(u):s(g,T.topojson);for(a=0;a<c;a++){d=u[a];var C=x==="geojson-id"?d.fOut:S.locationToFeature(x,d.loc,w);d.lonlat=C?C.properties.ct:[p,p]}}var y={padded:!0},M,A;if(h.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var o=S.computeBbox(S.getTraceGeojson(g));M=[o[0],o[2]],A=[o[1],o[3]]}else{for(M=new Array(c),A=new Array(c),a=0;a<c;a++)d=u[a],M[a]=d.lonlat[0],A[a]=d.lonlat[1];y.ppad=r(g,c)}g._extremes.lon=v(h.lonaxis._ax,M,y),g._extremes.lat=v(h.lataxis._ax,A,y)}G.exports={calcGeoJSON:f,plot:n}},8796:function(G,H,e){var m=e(43028),P=e(39032).BADNUM;G.exports=function(L,S){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],i=v[0].trace,n,f,u,l,g,h=!m.hasMarkers(i)&&!m.hasText(i);if(h)return[];if(S===!1)for(g=0;g<v.length;g++)v[g].selected=0;else for(g=0;g<v.length;g++)n=v[g],f=n.lonlat,f[0]!==P&&(u=p.c2p(f),l=r.c2p(f),S.contains([u,l],null,g,L)?(t.push({pointNumber:g,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308),L=e(49224),S=L.stylePoints,v=L.styleText;G.exports=function(t,i){i&&p(t,i)};function p(r,t){var i=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),S(n,i,r),v(n,i,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var u=m.select(this),l=f.trace,g=l.line||{};u.call(s.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),l.fill!=="none"&&u.call(s.fill,l.fillcolor)})}},2876:function(G,H,e){var m=e(45464),P=e(25376),s=e(98304),L=e(52904),S=e(29736).axisHoverFormat,v=e(49084),p=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,i=e(67072).DASHES,n=L.line,f=L.marker,u=f.line,l=G.exports=t({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:p(i),dflt:"solid"}},marker:r({},v("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:L.connectgaps,fill:r({},L.fill,{dflt:"none"}),fillcolor:s(),selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:m.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=L.hovertemplate,l.texttemplate=L.texttemplate},64628:function(G,H,e){var m=e(41272);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:m.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(G,H,e){var m=e(3108),P=e(3400),s=e(79811),L=e(19280).findExtremes,S=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,i=e(90136),n=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;G.exports=function(c,a){var d=c._fullLayout,x=a._xA=s.getFromId(c,a.xaxis,"x"),w=a._yA=s.getFromId(c,a.yaxis,"y"),C=d._plots[a.xaxis+a.yaxis],y=a._length,M=y>=l,A=y*2,o={},E,b=x.makeCalcdata(a,"x"),I=w.makeCalcdata(a,"y"),D=S(a,x,"x",b),N=S(a,w,"y",I),k=D.vals,O=N.vals;a._x=k,a._y=O,a.xperiodalignment&&(a._origX=b,a._xStarts=D.starts,a._xEnds=D.ends),a.yperiodalignment&&(a._origY=I,a._yStarts=N.starts,a._yEnds=N.ends);var F=new Array(A),z=new Array(y);for(E=0;E<y;E++)F[E*2]=k[E]===u?NaN:k[E],F[E*2+1]=O[E]===u?NaN:O[E],z[E]=E;if(x.type==="log")for(E=0;E<A;E+=2)F[E]=x.c2l(F[E]);if(w.type==="log")for(E=1;E<A;E+=2)F[E]=w.c2l(F[E]);M&&x.type!=="log"&&w.type!=="log"?o.tree=m(F):o.ids=z,i(c,a);var B=h(c,C,a,F,k,O),W=f(c,C);t(d,a);var J;return M?B.marker&&(J=B.marker.sizeAvg||Math.max(B.marker.size,3)):J=p(a,y),r(c,a,x,w,k,O,J),B.errorX&&g(a,x,B.errorX),B.errorY&&g(a,w,B.errorY),B.fill&&!W.fill2d&&(W.fill2d=!0),B.marker&&!W.scatter2d&&(W.scatter2d=!0),B.line&&!W.line2d&&(W.line2d=!0),(B.errorX||B.errorY)&&!W.error2d&&(W.error2d=!0),B.text&&!W.glText&&(W.glText=!0),B.marker&&(B.marker.snap=y),W.lineOptions.push(B.line),W.errorXOptions.push(B.errorX),W.errorYOptions.push(B.errorY),W.fillOptions.push(B.fill),W.markerOptions.push(B.marker),W.markerSelectedOptions.push(B.markerSel),W.markerUnselectedOptions.push(B.markerUnsel),W.textOptions.push(B.text),W.textSelectedOptions.push(B.textSel),W.textUnselectedOptions.push(B.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),o._scene=W,o.index=W.count,o.x=k,o.y=O,o.positions=F,W.count++,[{x:!1,y:!1,t:o,trace:a}]};function g(T,c,a){var d=T._extremes[c._id],x=L(c,a._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}function h(T,c,a,d,x,w){var C=n.style(T,a);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(T,a,d)),C.errorX||C.errorY){var y=n.errorBarPositions(T,a,d,x,w);C.errorX&&P.extendFlat(C.errorX,y.x),C.errorY&&P.extendFlat(C.errorY,y.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(T,a,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(T,a,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(T,a,C.text,C.markerUnsel))),C}},67072:function(G){var H=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(G,H,e){var m=e(38248),P=e(20472),s=e(72160),L=e(24040),S=e(3400),v=S.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,i=e(43028),n=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function T(k,O){var F,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=k._context.plotGlPixelRatio;if(O.visible!==!0)return z;if(i.hasText(O)&&(z.text=c(k,O),z.textSel=w(k,O,O.selected),z.textUnsel=w(k,O,O.unselected)),i.hasMarkers(O)&&(z.marker=d(k,O),z.markerSel=x(k,O,O.selected),z.markerUnsel=x(k,O,O.unselected),!O.unselected&&v(O.marker.opacity))){var W=O.marker.opacity;for(z.markerUnsel.opacity=new Array(W.length),F=0;F<W.length;F++)z.markerUnsel.opacity[F]=l*W[F]}if(i.hasLines(O)){z.line={overlay:!0,thickness:O.line.width*B,color:O.line.color,opacity:O.opacity};var J=(u.DASHES[O.line.dash]||[1]).slice();for(F=0;F<J.length;++F)J[F]*=O.line.width*B;z.line.dashes=J}return O.error_x&&O.error_x.visible&&(z.errorX=C(O,O.error_x,B)),O.error_y&&O.error_y.visible&&(z.errorY=C(O,O.error_y,B)),O.fill&&O.fill!=="none"&&(z.fill={closed:!0,fill:O.fillcolor,thickness:0}),z}function c(k,O){var F=k._fullLayout,z=O._length,B=O.textfont,W=O.textposition,J=v(W)?W:[W],re=B.color,ne=B.size,le=B.family,$=B.weight,K=B.style,ie=B.variant,Y={},Q,oe=k._context.plotGlPixelRatio,X=O.texttemplate;if(X){Y.text=[];var j=F._d3locale,se=Array.isArray(X),te=se?Math.min(X.length,z):z,fe=se?function(Te){return X[Te]}:function(){return X};for(Q=0;Q<te;Q++){var ge={i:Q},be=O._module.formatLabels(ge,O,F),xe={};h(xe,O,Q);var _e=O._meta||{};Y.text.push(S.texttemplateString(fe(Q),be,j,xe,ge,_e))}}else v(O.text)&&O.text.length<z?Y.text=O.text.slice():Y.text=O.text;if(v(Y.text))for(Q=Y.text.length;Q<z;Q++)Y.text[Q]="";for(Y.opacity=O.opacity,Y.font={},Y.align=[],Y.baseline=[],Q=0;Q<J.length;Q++){var De=J[Q].split(/\s+/);switch(De[1]){case"left":Y.align.push("right");break;case"right":Y.align.push("left");break;default:Y.align.push(De[1])}switch(De[0]){case"top":Y.baseline.push("bottom");break;case"bottom":Y.baseline.push("top");break;default:Y.baseline.push(De[0])}}if(v(re))for(Y.color=new Array(z),Q=0;Q<z;Q++)Y.color[Q]=re[Q];else Y.color=re;if(v(ne)||Array.isArray(le)||v($)||Array.isArray(K)||Array.isArray(ie))for(Y.font=new Array(z),Q=0;Q<z;Q++){var Fe=Y.font[Q]={};Fe.size=(S.isTypedArray(ne)?ne[Q]:v(ne)?m(ne[Q])?ne[Q]:0:ne)*oe,Fe.family=Array.isArray(le)?le[Q]:le,Fe.weight=a(v($)?$[Q]:$),Fe.style=Array.isArray(K)?K[Q]:K,Fe.variant=Array.isArray(ie)?ie[Q]:ie}else Y.font={size:ne*oe,family:le,weight:a($),style:K,variant:ie};return Y}function a(k){return k<=1e3?k>500?"bold":"normal":k}function d(k,O){var F=O._length,z=O.marker,B={},W,J=v(z.symbol),re=v(z.angle),ne=v(z.color),le=v(z.line.color),$=v(z.opacity),K=v(z.size),ie=v(z.line.width),Y;if(J||(Y=f.isOpenSymbol(z.symbol)),J||ne||le||$||re){B.symbols=new Array(F),B.angles=new Array(F),B.colors=new Array(F),B.borderColors=new Array(F);var Q=z.symbol,oe=z.angle,X=t(z,z.opacity,F),j=t(z.line,z.opacity,F);if(!v(j[0])){var se=j;for(j=Array(F),W=0;W<F;W++)j[W]=se}if(!v(X[0])){var te=X;for(X=Array(F),W=0;W<F;W++)X[W]=te}if(!v(Q)){var fe=Q;for(Q=Array(F),W=0;W<F;W++)Q[W]=fe}if(!v(oe)){var ge=oe;for(oe=Array(F),W=0;W<F;W++)oe[W]=ge}for(B.symbols=Q,B.angles=oe,B.colors=X,B.borderColors=j,W=0;W<F;W++)J&&(Y=f.isOpenSymbol(z.symbol[W])),Y&&(j[W]=X[W].slice(),X[W]=X[W].slice(),X[W][3]=0);for(B.opacity=O.opacity,B.markers=new Array(F),W=0;W<F;W++)B.markers[W]=b({mx:B.symbols[W],ma:B.angles[W]},O)}else Y?(B.color=s(z.color,"uint8"),B.color[3]=0,B.borderColor=s(z.color,"uint8")):(B.color=s(z.color,"uint8"),B.borderColor=s(z.line.color,"uint8")),B.opacity=O.opacity*z.opacity,B.marker=b({mx:z.symbol,ma:z.angle},O);var be=1,xe=n(O,be),_e;if(K||ie){var De=B.sizes=new Array(F),Fe=B.borderSizes=new Array(F),Te=0,Re;if(K){for(W=0;W<F;W++)De[W]=xe(z.size[W]),Te+=De[W];Re=Te/F}else for(_e=xe(z.size),W=0;W<F;W++)De[W]=_e;if(ie)for(W=0;W<F;W++)Fe[W]=z.line.width[W];else for(_e=z.line.width,W=0;W<F;W++)Fe[W]=_e;B.sizeAvg=Re}else B.size=xe(z&&z.size||10),B.borderSizes=xe(z.line.width);return B}function x(k,O,F){var z=O.marker,B={};return F&&(F.marker&&F.marker.symbol?B=d(k,S.extendFlat({},z,F.marker)):F.marker&&(F.marker.size&&(B.size=F.marker.size),F.marker.color&&(B.colors=F.marker.color),F.marker.opacity!==void 0&&(B.opacity=F.marker.opacity))),B}function w(k,O,F){var z={};if(!F)return z;if(F.textfont){var B={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:S.extendFlat({},O.textfont)};F.textfont&&S.extendFlat(B.textfont,F.textfont),z=c(k,B)}return z}function C(k,O,F){var z={capSize:O.width*2*F,lineWidth:O.thickness*F,color:O.color};return O.copy_ystyle&&(z=k.error_y),z}var y=u.SYMBOL_SDF_SIZE,M=u.SYMBOL_SIZE,A=u.SYMBOL_STROKE,o={},E=p.symbolFuncs[0](M*.05);function b(k,O){var F=k.mx;if(F==="circle")return null;var z,B,W=p.symbolNumber(F),J=p.symbolFuncs[W%100],re=!!p.symbolNoDot[W%100],ne=!!p.symbolNoFill[W%100],le=f.isDotSymbol(F);if(k.ma&&(F+="_"+k.ma),o[F])return o[F];var $=p.getMarkerAngle(k,O);return le&&!re?z=J(M*1.1,$)+E:z=J(M,$),B=P(z,{w:y,h:y,viewBox:[-M,-M,M,M],stroke:ne?A:-A}),o[F]=B,B||null}function I(k,O,F){var z=F.length,B=z/2,W,J;if(i.hasLines(O)&&B)if(O.line.shape==="hv"){for(W=[],J=0;J<B-1;J++)isNaN(F[J*2])||isNaN(F[J*2+1])?W.push(NaN,NaN,NaN,NaN):(W.push(F[J*2],F[J*2+1]),!isNaN(F[J*2+2])&&!isNaN(F[J*2+3])?W.push(F[J*2+2],F[J*2+1]):W.push(NaN,NaN));W.push(F[z-2],F[z-1])}else if(O.line.shape==="hvh"){for(W=[],J=0;J<B-1;J++)if(isNaN(F[J*2])||isNaN(F[J*2+1])||isNaN(F[J*2+2])||isNaN(F[J*2+3]))!isNaN(F[J*2])&&!isNaN(F[J*2+1])?W.push(F[J*2],F[J*2+1]):W.push(NaN,NaN),W.push(NaN,NaN);else{var re=(F[J*2]+F[J*2+2])/2;W.push(F[J*2],F[J*2+1],re,F[J*2+1],re,F[J*2+3])}W.push(F[z-2],F[z-1])}else if(O.line.shape==="vhv"){for(W=[],J=0;J<B-1;J++)if(isNaN(F[J*2])||isNaN(F[J*2+1])||isNaN(F[J*2+2])||isNaN(F[J*2+3]))!isNaN(F[J*2])&&!isNaN(F[J*2+1])?W.push(F[J*2],F[J*2+1]):W.push(NaN,NaN),W.push(NaN,NaN);else{var ne=(F[J*2+1]+F[J*2+3])/2;W.push(F[J*2],F[J*2+1],F[J*2],ne,F[J*2+2],ne)}W.push(F[z-2],F[z-1])}else if(O.line.shape==="vh"){for(W=[],J=0;J<B-1;J++)isNaN(F[J*2])||isNaN(F[J*2+1])?W.push(NaN,NaN,NaN,NaN):(W.push(F[J*2],F[J*2+1]),!isNaN(F[J*2+2])&&!isNaN(F[J*2+3])?W.push(F[J*2],F[J*2+3]):W.push(NaN,NaN));W.push(F[z-2],F[z-1])}else W=F;var le=!1;for(J=0;J<W.length;J++)if(isNaN(W[J])){le=!0;break}var $=le||W.length>u.TOO_MANY_POINTS||i.hasMarkers(O)?"rect":"round";if(le&&O.connectgaps){var K=W[0],ie=W[1];for(J=0;J<W.length;J+=2)isNaN(W[J])||isNaN(W[J+1])?(W[J]=K,W[J+1]=ie):(K=W[J],ie=W[J+1])}return{join:$,positions:W}}function D(k,O,F,z,B){var W=L.getComponentMethod("errorbars","makeComputeError"),J=r.getFromId(k,O.xaxis,"x"),re=r.getFromId(k,O.yaxis,"y"),ne=F.length/2,le={};function $(K,ie){var Y=ie._id.charAt(0),Q=O["error_"+Y];if(Q&&Q.visible&&(ie.type==="linear"||ie.type==="log")){for(var oe=W(Q),X={x:0,y:1}[Y],j={x:[0,1,2,3],y:[2,3,0,1]}[Y],se=new Float64Array(4*ne),te=1/0,fe=-1/0,ge=0,be=0;ge<ne;ge++,be+=4){var xe=K[ge];if(m(xe)){var _e=F[ge*2+X],De=oe(xe,ge),Fe=De[0],Te=De[1];if(m(Fe)&&m(Te)){var Re=xe-Fe,Se=xe+Te;se[be+j[0]]=_e-ie.c2l(Re),se[be+j[1]]=ie.c2l(Se)-_e,se[be+j[2]]=0,se[be+j[3]]=0,te=Math.min(te,xe-Fe),fe=Math.max(fe,xe+Te)}}}le[Y]={positions:F,errors:se,_bnds:[te,fe]}}}return $(z,J),$(B,re),le}function N(k,O,F,z){var B=O._length,W={},J;if(i.hasMarkers(O)){var re=F.font,ne=F.align,le=F.baseline;for(W.offset=new Array(B),J=0;J<B;J++){var $=z.sizes?z.sizes[J]:z.size,K=v(re)?re[J].size:re.size,ie=v(ne)?ne.length>1?ne[J]:ne[0]:ne,Y=v(le)?le.length>1?le[J]:le[0]:le,Q=g[ie],oe=g[Y],X=$?$/.8+1:0,j=-oe*X-oe*.5;W.offset[J]=[Q*X/K,j/K]}}return W}G.exports={style:T,markerStyle:d,markerSelection:x,linePositions:I,errorBarPositions:D,textPosition:N}},80220:function(G,H,e){var m=e(3400),P=e(24040),s=e(80088),L=e(2876),S=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),i=e(66828),n=e(70840),f=e(124);G.exports=function(l,g,h,T){function c(A,o){return m.coerce(l,g,L,A,o)}var a=l.marker?s.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),x=p(l,g,T,c);if(!x){g.visible=!1;return}r(l,g,T,c),c("xhoverformat"),c("yhoverformat");var w=x<S.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",w),v.hasMarkers(g)&&(t(l,g,h,T,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",a||d?1:0)),v.hasLines(g)&&(c("connectgaps"),i(l,g,h,T,c),c("line.shape")),v.hasText(g)&&(c("texttemplate"),f(l,g,T,c,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var C=(g.line||{}).color,y=(g.marker||{}).color;c("fill"),g.fill!=="none"&&n(l,g,h,c);var M=P.getComponentMethod("errorbars","supplyDefaults");M(l,g,C||y||h,{axis:"y"}),M(l,g,C||y||h,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(g,c)}},26768:function(G,H,e){var m=e(3400),P=e(76308),s=e(13448).DESELECTDIM;function L(S){var v=S[0],p=v.trace,r=v.t,t=r._scene,i=r.index,n=t.selectBatch[i],f=t.unselectBatch[i],u=t.textOptions[i],l=t.textSelectedOptions[i]||{},g=t.textUnselectedOptions[i]||{},h=m.extendFlat({},u),T,c;if(n.length||f.length){var a=l.color,d=g.color,x=u.color,w=m.isArrayOrTypedArray(x);for(h.color=new Array(p._length),T=0;T<n.length;T++)c=n[T],h.color[c]=a||(w?x[c]:x);for(T=0;T<f.length;T++){c=f[T];var C=w?x[c]:x;h.color[c]=d||(a?C:P.addOpacity(C,s))}}t.glText[i].update(h)}G.exports={styleTextSelection:L}},99396:function(G,H,e){var m=e(76688);G.exports=function(s,L,S){var v=s.i;return"x"in s||(s.x=L._x[v]),"y"in s||(s.y=L._y[v]),m(s,L,S)}},80088:function(G,H,e){var m=e(67072);H.isOpenSymbol=function(P){return typeof P=="string"?m.OPEN_RE.test(P):P%200>100},H.isDotSymbol=function(P){return typeof P=="string"?m.DOT_RE.test(P):P>200}},41272:function(G,H,e){var m=e(24040),P=e(3400),s=e(44928);function L(v,p,r,t){var i=v.cd,n=i[0].t,f=i[0].trace,u=v.xa,l=v.ya,g=n.x,h=n.y,T=u.c2p(p),c=l.c2p(r),a=v.distance,d;if(n.tree){var x=u.p2c(T-a),w=u.p2c(T+a),C=l.p2c(c-a),y=l.p2c(c+a);t==="x"?d=n.tree.range(Math.min(x,w),Math.min(l._rl[0],l._rl[1]),Math.max(x,w),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(x,w),Math.min(C,y),Math.max(x,w),Math.max(C,y))}else d=n.ids;var M,A,o,E,b,I,D,N,k,O=a;if(t==="x"){var F=!!f.xperiodalignment,z=!!f.yperiodalignment;for(b=0;b<d.length;b++){if(M=d[b],o=g[M],I=Math.abs(u.c2p(o)-T),F){var B=u.c2p(f._xStarts[M]),W=u.c2p(f._xEnds[M]);I=T>=Math.min(B,W)&&T<=Math.max(B,W)?0:1/0}if(I<O){if(O=I,E=h[M],D=l.c2p(E)-c,z){var J=l.c2p(f._yStarts[M]),re=l.c2p(f._yEnds[M]);D=c>=Math.min(J,re)&&c<=Math.max(J,re)?0:1/0}k=Math.sqrt(I*I+D*D),A=d[b]}}}else for(b=d.length-1;b>-1;b--)M=d[b],o=g[M],E=h[M],I=u.c2p(o)-T,D=l.c2p(E)-c,N=Math.sqrt(I*I+D*D),N<O&&(O=k=N,A=M);return v.index=A,v.distance=O,v.dxy=k,A===void 0?[v]:[S(v,g,h,f)]}function S(v,p,r,t){var i=v.xa,n=v.ya,f=v.distance,u=v.dxy,l=v.index,g={pointNumber:l,x:p[l],y:r[l]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(g.ts=P.isArrayOrTypedArray(h.size)?h.size[l]:h.size,g.tc=P.isArrayOrTypedArray(h.color)?h.color[l]:h.color,g.tf=Array.isArray(h.family)?h.family[l]:h.family,g.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,g.ty=Array.isArray(h.style)?h.style[l]:h.style,g.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var T=t.marker;T&&(g.ms=P.isArrayOrTypedArray(T.size)?T.size[l]:T.size,g.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,g.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,g.ma=P.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,g.mc=P.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var c=T&&T.line;c&&(g.mlc=Array.isArray(c.color)?c.color[l]:c.color,g.mlw=P.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var a=T&&T.gradient;a&&a.type!=="none"&&(g.mgt=Array.isArray(a.type)?a.type[l]:a.type,g.mgc=Array.isArray(a.color)?a.color[l]:a.color);var d=i.c2p(g.x,!0),x=n.c2p(g.y,!0),w=g.mrc||1,C=t.hoverlabel;C&&(g.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,g.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,g.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,g.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,g.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,g.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var y=t.hoverinfo;y&&(g.hi=Array.isArray(y)?y[l]:y);var M=t.hovertemplate;M&&(g.ht=Array.isArray(M)?M[l]:M);var A={};A[v.index]=g;var o=t._origX,E=t._origY,b=P.extendFlat({},v,{color:s(t,g),x0:d-w,x1:d+w,xLabelVal:o?o[l]:g.x,y0:x-w,y1:x+w,yLabelVal:E?E[l]:g.y,cd:A,distance:f,spikeDistance:u,hovertemplate:g.ht});return g.htx?b.text=g.htx:g.tx?b.text=g.tx:t.text&&(b.text=t.text),P.fillText(g,t,b),m.getComponentMethod("errorbars","hoverInfo")(g,t,b),b}G.exports={hoverPoints:L,calcHover:S}},38983:function(G,H,e){var m=e(64628);m.plot=e(89876),G.exports=m},89876:function(G,H,e){var m=e(38540),P=e(13472),s=e(24544),L=e(23352),S=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),i=e(26768).styleTextSelection,n={};function f(l,g,h,T){var c=l._size,a=l.width*T,d=l.height*T,x=c.l*T,w=c.b*T,C=c.r*T,y=c.t*T,M=c.w*T,A=c.h*T;return[x+g.domain[0]*M,w+h.domain[0]*A,a-C-(1-g.domain[1])*M,d-y-(1-h.domain[1])*A]}var u=G.exports=function(g,h,T){if(T.length){var c=g._fullLayout,a=h._scene,d=h.xaxis,x=h.yaxis,w,C;if(a){var y=p(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!y){a.init();return}var M=a.count,A=c._glcanvas.data()[0].regl;if(t(g,h,T),a.dirty){if((a.line2d||a.error2d)&&!(a.scatter2d||a.fill2d||a.glText)&&A.clear({}),a.error2d===!0&&(a.error2d=s(A)),a.line2d===!0&&(a.line2d=P(A)),a.scatter2d===!0&&(a.scatter2d=m(A)),a.fill2d===!0&&(a.fill2d=P(A)),a.glText===!0)for(a.glText=new Array(M),w=0;w<M;w++)a.glText[w]=new L(A);if(a.glText){if(M>a.glText.length){var o=M-a.glText.length;for(w=0;w<o;w++)a.glText.push(new L(A))}else if(M<a.glText.length){var E=a.glText.length-M,b=a.glText.splice(M,E);b.forEach(function(X){X.destroy()})}for(w=0;w<M;w++)a.glText[w].update(a.textOptions[w])}if(a.line2d&&(a.line2d.update(a.lineOptions),a.lineOptions=a.lineOptions.map(function(X){if(X&&X.positions){for(var j=X.positions,se=0;se<j.length&&(isNaN(j[se])||isNaN(j[se+1]));)se+=2;for(var te=j.length-2;te>se&&(isNaN(j[te])||isNaN(j[te+1]));)te-=2;X.positions=j.slice(se,te+2)}return X}),a.line2d.update(a.lineOptions)),a.error2d){var I=(a.errorXOptions||[]).concat(a.errorYOptions||[]);a.error2d.update(I)}a.scatter2d&&a.scatter2d.update(a.markerOptions),a.fillOrder=S.repeat(null,M),a.fill2d&&(a.fillOptions=a.fillOptions.map(function(X,j){var se=T[j];if(!(!X||!se||!se[0]||!se[0].trace)){var te=se[0],fe=te.trace,ge=te.t,be=a.lineOptions[j],xe,_e,De=[];fe._ownfill&&De.push(j),fe._nexttrace&&De.push(j+1),De.length&&(a.fillOrder[j]=De);var Fe=[],Te=be&&be.positions||ge.positions,Re,Se;if(fe.fill==="tozeroy"){for(Re=0;Re<Te.length&&isNaN(Te[Re+1]);)Re+=2;for(Se=Te.length-2;Se>Re&&isNaN(Te[Se+1]);)Se-=2;Te[Re+1]!==0&&(Fe=[Te[Re],0]),Fe=Fe.concat(Te.slice(Re,Se+2)),Te[Se+1]!==0&&(Fe=Fe.concat([Te[Se],0]))}else if(fe.fill==="tozerox"){for(Re=0;Re<Te.length&&isNaN(Te[Re]);)Re+=2;for(Se=Te.length-2;Se>Re&&isNaN(Te[Se]);)Se-=2;Te[Re]!==0&&(Fe=[0,Te[Re+1]]),Fe=Fe.concat(Te.slice(Re,Se+2)),Te[Se]!==0&&(Fe=Fe.concat([0,Te[Se+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Fe=[],xe=0,X.splitNull=!0,_e=0;_e<Te.length;_e+=2)(isNaN(Te[_e])||isNaN(Te[_e+1]))&&(Fe=Fe.concat(Te.slice(xe,_e)),Fe.push(Te[xe],Te[xe+1]),Fe.push(null,null),xe=_e+2);Fe=Fe.concat(Te.slice(xe)),xe&&Fe.push(Te[xe],Te[xe+1])}else{var Ie=fe._nexttrace;if(Ie){var Me=a.lineOptions[j+1];if(Me){var Ve=Me.positions;if(fe.fill==="tonexty"){for(Fe=Te.slice(),j=Math.floor(Ve.length/2);j--;){var et=Ve[j*2],it=Ve[j*2+1];isNaN(et)||isNaN(it)||Fe.push(et,it)}X.fill=Ie.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var Je=a.lineOptions[j-1].positions,Qe=Fe.length/2;xe=Qe;var ct=[xe];for(_e=0;_e<Je.length;_e+=2)(isNaN(Je[_e])||isNaN(Je[_e+1]))&&(ct.push(_e/2+Qe+1),xe=_e+2);Fe=Fe.concat(Je),X.hole=ct}return X.fillmode=fe.fill,X.opacity=fe.opacity,X.positions=Fe,X}}),a.fill2d.update(a.fillOptions))}var D=c.dragmode,N=v(D),k=c.clickmode.indexOf("select")>-1;for(w=0;w<M;w++){var O=T[w][0],F=O.trace,z=O.t,B=z.index,W=F._length,J=z.x,re=z.y;if(F.selectedpoints||N||k){if(N||(N=!0),F.selectedpoints){var ne=a.selectBatch[B]=S.selIndices2selPoints(F),le={};for(C=0;C<ne.length;C++)le[ne[C]]=1;var $=[];for(C=0;C<W;C++)le[C]||$.push(C);a.unselectBatch[B]=$}var K=z.xpx=new Array(W),ie=z.ypx=new Array(W);for(C=0;C<W;C++)K[C]=d.c2p(J[C]),ie[C]=x.c2p(re[C])}else z.xpx=z.ypx=null}if(N){if(a.select2d||(a.select2d=m(c._glcanvas.data()[1].regl)),a.scatter2d){var Y=new Array(M);for(w=0;w<M;w++)Y[w]=a.selectBatch[w].length||a.unselectBatch[w].length?a.markerUnselectedOptions[w]:{};a.scatter2d.update(Y)}a.select2d&&(a.select2d.update(a.markerOptions),a.select2d.update(a.markerSelectedOptions)),a.glText&&T.forEach(function(X){var j=((X||[])[0]||{}).trace||{};r.hasText(j)&&i(X)})}else a.scatter2d&&a.scatter2d.update(a.markerOptions);var Q={viewport:f(c,d,x,g._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(x._rl||x.range)[0],(d._rl||d.range)[1],(x._rl||x.range)[1]]},oe=S.repeat(Q,a.count);a.fill2d&&a.fill2d.update(oe),a.line2d&&a.line2d.update(oe),a.error2d&&a.error2d.update(oe.concat(oe)),a.scatter2d&&a.scatter2d.update(oe),a.select2d&&a.select2d.update(oe),a.glText&&a.glText.forEach(function(X){X.update(Q)})}}};u.reglPrecompiled=n},74588:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(S=L._scene={},S.init=function(){m.extendFlat(S,p,v)},S.init(),S.update=function(t){var i=m.repeat(t,S.count);if(S.fill2d&&S.fill2d.update(i),S.scatter2d&&S.scatter2d.update(i),S.line2d&&S.line2d.update(i),S.error2d&&S.error2d.update(i.concat(i)),S.select2d&&S.select2d.update(i),S.glText)for(var n=0;n<S.count;n++)S.glText[n].update(t)},S.draw=function(){for(var t=S.count,i=S.fill2d,n=S.error2d,f=S.line2d,u=S.scatter2d,l=S.glText,g=S.select2d,h=S.selectBatch,T=S.unselectBatch,c=0;c<t;c++){if(i&&S.fillOrder[c]&&i.draw(S.fillOrder[c]),f&&S.lineOptions[c]&&f.draw(c),n&&(S.errorXOptions[c]&&n.draw(c),S.errorYOptions[c]&&n.draw(c+t)),u&&S.markerOptions[c])if(T[c].length){var a=m.repeat([],S.count);a[c]=T[c],u.draw(a)}else h[c].length||u.draw(c);l[c]&&S.textOptions[c]&&l[c].render()}g&&g.draw(h),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(t){t.destroy&&t.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,L._scene=null}),S.dirty||m.extendFlat(S,v),S}},73224:function(G,H,e){var m=e(43028),P=e(26768).styleTextSelection;G.exports=function(L,S){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],i=v[0].trace,n=v[0].t,f=i._length,u=n.x,l=n.y,g=n._scene,h=n.index;if(!g)return t;var T=m.hasText(i),c=m.hasMarkers(i),a=!c&&!T;if(i.visible!==!0||a)return t;var d=[],x=[];if(S!==!1&&!S.degenerate)for(var w=0;w<f;w++)S.contains([n.xpx[w],n.ypx[w]],!1,w,L)?(d.push(w),t.push({pointNumber:w,x:p.c2d(u[w]),y:r.c2d(l[w])})):x.push(w);if(c){var C=g.scatter2d;if(!d.length&&!x.length){var y=new Array(g.count);y[h]=g.markerOptions[h],C.update.apply(C,y)}else if(!g.selectBatch[h].length&&!g.unselectBatch[h].length){var M=new Array(g.count);M[h]=g.markerUnselectedOptions[h],C.update.apply(C,M)}}return g.selectBatch[h]=d,g.unselectBatch[h]=x,T&&P(v),t}},31512:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(6096),S=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(5232),f=L.line,u=L.marker;G.exports=i({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},S.mode,{dflt:"markers"}),text:t({},S.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},S.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:S.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:L.fill,fillcolor:s(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:m()},"calc","nested")},79732:function(G){var H=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports={isSupportedFont:function(e){return H.indexOf(e)!==-1}}},59392:function(G,H,e){var m=e(38248),P=e(3400),s=e(39032).BADNUM,L=e(44808),S=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(79732).isSupportedFont,i=e(89032),n=e(10624).appendArrayPointValue,f=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;G.exports=function(C,y){var M=y[0].trace,A=M.visible===!0&&M._length!==0,o=M.fill!=="none",E=r.hasLines(M),b=r.hasMarkers(M),I=r.hasText(M),D=b&&M.marker.symbol==="circle",N=b&&M.marker.symbol!=="circle",k=M.cluster&&M.cluster.enabled,O=l("fill"),F=l("line"),z=l("circle"),B=l("symbol"),W={fill:O,line:F,circle:z,symbol:B};if(!A)return W;var J;if((o||E)&&(J=L.calcTraceToLineCoords(y)),o&&(O.geojson=L.makePolygon(J),O.layout.visibility="visible",P.extendFlat(O.paint,{"fill-color":M.fillcolor})),E&&(F.geojson=L.makeLine(J),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":M.line.width,"line-color":M.line.color,"line-opacity":M.opacity})),D){var re=g(y);z.geojson=re.geojson,z.layout.visibility="visible",k&&(z.filter=["!",["has","point_count"]],W.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(M.cluster.color,M.cluster.step),"circle-radius":d(M.cluster.size,M.cluster.step),"circle-opacity":d(M.cluster.opacity,M.cluster.step)}},W.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":x(M),"text-size":12}}),P.extendFlat(z.paint,{"circle-color":re.mcc,"circle-radius":re.mrc,"circle-opacity":re.mo})}if(D&&k&&(z.filter=["!",["has","point_count"]]),(N||I)&&(B.geojson=h(y,C),P.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),N&&(P.extendFlat(B.layout,{"icon-size":M.marker.size/10}),"angle"in M.marker&&M.marker.angle!=="auto"&&P.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=M.marker.allowoverlap,P.extendFlat(B.paint,{"icon-opacity":M.opacity*M.marker.opacity,"icon-color":M.marker.color})),I)){var ne=(M.marker||{}).size,le=i(M.textposition,ne);P.extendFlat(B.layout,{"text-size":M.textfont.size,"text-anchor":le.anchor,"text-offset":le.offset,"text-font":x(M)}),P.extendFlat(B.paint,{"text-color":M.textfont.color,"text-opacity":M.opacity})}return W};function l(w){return{type:w,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function g(w){var C=w[0].trace,y=C.marker,M=C.selectedpoints,A=P.isArrayOrTypedArray(y.color),o=P.isArrayOrTypedArray(y.size),E=P.isArrayOrTypedArray(y.opacity),b;function I(ne){return C.opacity*ne}function D(ne){return ne/2}var N;A&&(S.hasColorscale(C,"marker")?N=S.makeColorScaleFuncFromTrace(y):N=P.identity);var k;o&&(k=p(C));var O;E&&(O=function(ne){var le=m(ne)?+P.constrain(ne,0,1):0;return I(le)});var F=[];for(b=0;b<w.length;b++){var z=w[b],B=z.lonlat;if(!a(B)){var W={};N&&(W.mcc=z.mcc=N(z.mc)),k&&(W.mrc=z.mrc=k(z.ms)),O&&(W.mo=O(z.mo)),M&&(W.selected=z.selected||0),F.push({type:"Feature",id:b+1,geometry:{type:"Point",coordinates:B},properties:W})}}var J;if(M)for(J=v.makeSelectedPointStyleFns(C),b=0;b<F.length;b++){var re=F[b].properties;J.selectedOpacityFn&&(re.mo=I(J.selectedOpacityFn(re))),J.selectedColorFn&&(re.mcc=J.selectedColorFn(re)),J.selectedSizeFn&&(re.mrc=J.selectedSizeFn(re))}return{geojson:{type:"FeatureCollection",features:F},mcc:A||J&&J.selectedColorFn?{type:"identity",property:"mcc"}:y.color,mrc:o||J&&J.selectedSizeFn?{type:"identity",property:"mrc"}:D(y.size),mo:E||J&&J.selectedOpacityFn?{type:"identity",property:"mo"}:I(y.opacity)}}function h(w,C){for(var y=C._fullLayout,M=w[0].trace,A=M.marker||{},o=A.symbol,E=A.angle,b=o!=="circle"?T(o):c,I=E!=="auto"?T(E,!0):c,D=r.hasText(M)?T(M.text):c,N=[],k=0;k<w.length;k++){var O=w[k];if(!a(O.lonlat)){var F=M.texttemplate,z;if(F){var B=Array.isArray(F)?F[k]||"":F,W=M._module.formatLabels(O,M,y),J={};n(J,M,O.i);var re=M._meta||{};z=P.texttemplateString(B,W,y._d3locale,J,O,re)}else z=D(k);z&&(z=z.replace(f,"").replace(u,`
`)),N.push({type:"Feature",geometry:{type:"Point",coordinates:O.lonlat},properties:{symbol:b(k),angle:I(k),text:z}})}}return{type:"FeatureCollection",features:N}}function T(w,C){return P.isArrayOrTypedArray(w)?C?function(y){return m(w[y])?+w[y]:0}:function(y){return w[y]}:w?function(){return w}:c}function c(){return""}function a(w){return w[0]===s}function d(w,C){var y;if(P.isArrayOrTypedArray(w)&&P.isArrayOrTypedArray(C)){y=["step",["get","point_count"],w[0]];for(var M=1;M<w.length;M++)y.push(C[M-1],w[M])}else y=w;return y}function x(w){var C=w.textfont,y=C.family,M=C.style,A=C.weight,o=y.split(" "),E=o[o.length-1]==="Italic";E&&o.pop(),E=E||M==="italic";var b=o.join(" ");A==="bold"&&o.indexOf("Bold")===-1?b+=" Bold":A<=1e3&&(o[0]==="Metropolis"?(b="Metropolis",A>850?b+=" Black":A>750?b+=" Extra Bold":A>650?b+=" Bold":A>550?b+=" Semi Bold":A>450?b+=" Medium":A>350?b+=" Regular":A>250?b+=" Light":A>150?b+=" Extra Light":b+=" Thin"):o.slice(0,2).join(" ")==="Open Sans"?(b="Open Sans",A>750?b+=" Extrabold":A>650?b+=" Bold":A>550?b+=" Semibold":A>350?b+=" Regular":b+=" Light"):o.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(b="Klokantech Noto Sans",o[3]==="CJK"&&(b+=" CJK"),b+=A>500?" Bold":" Regular")),E&&(b+=" Italic"),b==="Open Sans Regular Italic"?b="Open Sans Italic":b==="Open Sans Regular Bold"?b="Open Sans Bold":b==="Open Sans Regular Bold Italic"?b="Open Sans Bold Italic":b==="Klokantech Noto Sans Regular Italic"&&(b="Klokantech Noto Sans Italic"),t(b)||(b=y);var I=b.split(", ");return I}},15752:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(124),v=e(70840),p=e(31512),r=e(79732).isSupportedFont;G.exports=function(n,f,u,l){function g(o,E){return m.coerce(n,f,p,o,E)}function h(o,E){return m.coerce2(n,f,p,o,E)}var T=t(n,f,g);if(!T){f.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(f)){s(n,f,u,l,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var c=f.marker;c.symbol!=="circle"&&(m.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),m.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}P.hasLines(f)&&(L(n,f,u,l,g,{noDash:!0}),g("connectgaps"));var a=h("cluster.maxzoom"),d=h("cluster.step"),x=h("cluster.color",f.marker&&f.marker.color||u),w=h("cluster.size"),C=h("cluster.opacity"),y=a!==!1||d!==!1||x!==!1||w!==!1||C!==!1,M=g("cluster.enabled",y);if(M||P.hasText(f)){var A=l.font.family;S(n,f,l,g,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(A)?A:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}})}g("fill"),f.fill!=="none"&&v(n,f,u,g),m.coerceSelectionMarkerOpacity(f,g)};function t(i,n,f){var u=f("lon")||[],l=f("lat")||[],g=Math.min(u.length,l.length);return n._length=g,g}},37920:function(G){G.exports=function(e,m){return e.lon=m.lon,e.lat=m.lat,e}},11960:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.subplot]._subplot,r=p.mockAxis,t=s.lonlat;return v.lonLabel=m.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=m.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(G,H,e){var m=e(93024),P=e(3400),s=e(44928),L=P.fillText,S=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,i,n){var f=t.cd,u=f[0].trace,l=t.xa,g=t.ya,h=t.subplot,T=[],c=v+u.uid+"-circle",a=u.cluster&&u.cluster.enabled;if(a){var d=h.map.queryRenderedFeatures(null,{layers:[c]});T=d.map(function(k){return k.id})}var x=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),w=x*360,C=i-w;function y(k){var O=k.lonlat;if(O[0]===S||a&&T.indexOf(k.i+1)===-1)return 1/0;var F=P.modHalf(O[0],360),z=O[1],B=h.project([F,z]),W=B.x-l.c2p([C,z]),J=B.y-g.c2p([F,n]),re=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(W*W+J*J)-re,1-3/re)}if(m.getClosest(f,y,t),t.index!==!1){var M=f[t.index],A=M.lonlat,o=[P.modHalf(A[0],360)+w,A[1]],E=l.c2p(o),b=g.c2p(o),I=M.mrc||1;t.x0=E-I,t.x1=E+I,t.y0=b-I,t.y1=b+I;var D={};D[u.subplot]={_subplot:h};var N=u._module.formatLabels(M,u,D);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=s(u,M),t.extraText=r(u,M,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,i,n){if(t.hovertemplate)return;var f=i.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,g=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,T=i.lonlat,c=[];function a(d){return d+"°"}return l||g&&h?c.push("("+a(T[1])+", "+a(T[0])+")"):g?c.push(n.lon+a(T[0])):h&&c.push(n.lat+a(T[1])),(l||u.indexOf("text")!==-1)&&L(i,t,c),c.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},11572:function(G,H,e){G.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(m,P){if(P){var s=P[0].trace;s._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(G,H,e){var m=e(3400),P=e(59392),s=e(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function S(p,r,t,i){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:s+r+"-fill",line:s+r+"-line",circle:s+r+"-circle",symbol:s+r+"-symbol",cluster:s+r+"-cluster",clusterCount:s+r+"-cluster-count"},this.below=null}var v=S.prototype;v.addSource=function(p,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&m.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],i)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var i={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var n=this.layerIds[p],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},v.update=function(r){var t=r[0].trace,i=this.subplot,n=i.map,f=P(i.gd,r),u=i.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,h=this;function T(A){A||h.addSource("circle",f.circle,t.cluster);for(var o=L.cluster,E=0;E<o.length;E++){var b=o[E],I=f[b];h.addLayer(b,I,u)}}function c(A){for(var o=L.cluster,E=o.length-1;E>=0;E--){var b=o[E];n.removeLayer(h.layerIds[b])}A||n.removeSource(h.sourceIds.circle)}function a(A){for(var o=L.nonCluster,E=0;E<o.length;E++){var b=o[E],I=f[b];A||h.addSource(b,I),h.addLayer(b,I,u)}}function d(A){for(var o=L.nonCluster,E=o.length-1;E>=0;E--){var b=o[E];n.removeLayer(h.layerIds[b]),A||n.removeSource(h.sourceIds[b])}}function x(A){g?c(A):d(A)}function w(A){l?T(A):a(A)}function C(){for(var A=l?L.cluster:L.nonCluster,o=0;o<A.length;o++){var E=A[o],b=f[E];b&&(i.setOptions(h.layerIds[E],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,b),i.setOptions(h.layerIds[E],"setPaintProperty",b.paint)))}}var y=this.isHidden,M=t.visible!==!0;M?y||x():y?M||w():g!==l?(x(),w()):(this.below!==u&&(x(!0),w(!0)),C()),this.clusterEnabled=l,this.isHidden=M,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var i=t[0].trace,n=i.cluster&&i.cluster.enabled,f=i.visible!==!0,u=new S(r,i.uid,n,f),l=P(r.gd,t),g=u.below=r.belowLookup["trace-"+i.uid],h,T,c;if(n)for(u.addSource("circle",l.circle,i.cluster),h=0;h<L.cluster.length;h++)T=L.cluster[h],c=l[T],u.addLayer(T,c,g);else for(h=0;h<L.nonCluster.length;h++)T=L.nonCluster[h],c=l[T],u.addSource(T,c,i.cluster),u.addLayer(T,c,g);return t[0].trace._glTrace=u,u}},404:function(G,H,e){var m=e(3400),P=e(43028),s=e(39032).BADNUM;G.exports=function(S,v){var p=S.cd,r=S.xaxis,t=S.yaxis,i=[],n=p[0].trace,f;if(!P.hasMarkers(n))return[];if(v===!1)for(f=0;f<p.length;f++)p[f].selected=0;else for(f=0;f<p.length;f++){var u=p[f],l=u.lonlat;if(l[0]!==s){var g=[m.modHalf(l[0],360),l[1]],h=[r.c2p(g),t.c2p(g)];v.contains(h,null,f,S)?(i.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return i}},8319:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(92880).extendFlat,L=e(98304),S=e(52904),v=e(45464),p=S.line;G.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:s({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:s({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:s({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:s({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:m(),selected:S.selected,unselected:S.unselected}},58320:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(54460),L=e(90136),S=e(20148),v=e(4500),p=e(16356).calcMarkerSize;G.exports=function(t,i){for(var n=t._fullLayout,f=i.subplot,u=n[f].radialaxis,l=n[f].angularaxis,g=u.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),T=i._length,c=new Array(T),a=0;a<T;a++){var d=g[a],x=h[a],w=c[a]={};m(d)&&m(x)?(w.r=d,w.theta=x):w.r=P}var C=p(i,T);return i._extremes.x=s.findExtremes(u,g,{ppad:C}),L(t,i),S(c,i),v(c,i),c}},85968:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function i(f,u,l,g){function h(a,d){return m.coerce(f,u,t,a,d)}var T=n(f,u,g,h);if(!T){u.visible=!1;return}h("thetaunit"),h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(u)&&s(f,u,l,g,h,{gradient:!0}),P.hasLines(u)&&(L(f,u,l,g,h,{backoff:!0}),S(f,u,h),h("connectgaps")),P.hasText(u)&&(h("texttemplate"),v(f,u,g,h));var c=[];(P.hasMarkers(u)||P.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(f,u,l,h),P.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),m.coerceSelectionMarkerOpacity(u,h)}function n(f,u,l,g){var h=g("r"),T=g("theta");m.isTypedArray(h)&&(u.r=h=Array.from(h)),m.isTypedArray(T)&&(u.theta=T=Array.from(T));var c;if(h)T?c=Math.min(h.length,T.length):(c=h.length,g("theta0"),g("dtheta"));else{if(!T)return 0;c=u.theta.length,g("r0"),g("dr")}return u._length=c,c}G.exports={handleRThetaDefaults:n,supplyDefaults:i}},22852:function(G,H,e){var m=e(3400),P=e(54460);G.exports=function(L,S,v){var p={},r=v[S.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=v[S.subplot],t=r.radialaxis,i=r.angularaxis);var n=t.c2l(L.r);p.rLabel=P.tickText(t,n,!0).text;var f=i.thetaunit==="degrees"?m.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(i,f,!0).text,p}},8504:function(G,H,e){var m=e(98723);function P(L,S,v,p){var r=m(L,S,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=L.subplot,n=t.cd[t.index],f=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,s(n,f,i,t),t.hovertemplate=f.hovertemplate,r}}function s(L,S,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var i={};i[S.subplot]={_subplot:v};var n=S._module.formatLabels(L,S,i);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var f=L.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var g=f.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&l(r,p.rLabel),g.indexOf("theta")!==-1&&l(t,p.thetaLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:s}},76924:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(G,H,e){var m=e(96504),P=e(39032).BADNUM;G.exports=function(L,S,v){for(var p=S.layers.frontplot.select("g.scatterlayer"),r=S.xaxis,t=S.yaxis,i={xaxis:r,yaxis:t,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},n=S.radialAxis,f=S.angularAxis,u=0;u<v.length;u++)for(var l=v[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[g],T=h.r;if(T===P)h.x=h.y=P;else{var c=n.c2g(T),a=f.c2g(h.theta);h.x=c*Math.cos(a),h.y=c*Math.sin(a)}}m(L,i,v,p)}},24396:function(G,H,e){var m=e(8319),P=e(2876),s=e(21776).Gw;G.exports={mode:m.mode,r:m.r,theta:m.theta,r0:m.r0,dr:m.dr,theta0:m.theta0,dtheta:m.dtheta,thetaunit:m.thetaunit,text:m.text,texttemplate:s({editType:"plot"},{keys:["r","theta","text"]}),hovertext:m.hovertext,hovertemplate:m.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:m.hoverinfo,selected:m.selected,unselected:m.unselected}},27160:function(G,H,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(G,H,e){var m=e(90136),P=e(16356).calcMarkerSize,s=e(84236),L=e(54460),S=e(67072).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,i=r.subplot,n=t[i].radialaxis,f=t[i].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),g=r._length,h={};g<u.length&&(u=u.slice(0,g)),g<l.length&&(l=l.slice(0,g)),h.r=u,h.theta=l,m(p,r);var T=h.opts=s.style(p,r),c;return g<S?c=P(r,g):T.marker&&(c=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=L.findExtremes(n,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(G,H,e){var m=e(3400),P=e(43028),s=e(85968).handleRThetaDefaults,L=e(74428),S=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);G.exports=function(n,f,u,l){function g(T,c){return m.coerce(n,f,t,T,c)}var h=s(n,f,l,g);if(!h){f.visible=!1;return}g("thetaunit"),g("mode",h<r?"lines+markers":"lines"),g("text"),g("hovertext"),f.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(f)&&L(n,f,u,l,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(f)&&(S(n,f,u,l,g),g("connectgaps")),P.hasText(f)&&(g("texttemplate"),v(n,f,l,g,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),g("fill"),f.fill!=="none"&&p(n,f,u,g),m.coerceSelectionMarkerOpacity(f,g)}},94120:function(G,H,e){var m=e(22852);G.exports=function(s,L,S){var v=s.i;return"r"in s||(s.r=L._r[v]),"theta"in s||(s.theta=L._theta[v]),m(s,L,S)}},1600:function(G,H,e){var m=e(41272),P=e(8504).makeHoverPointText;function s(L,S,v,p){var r=L.cd,t=r[0].t,i=t.r,n=t.theta,f=m.hoverPoints(L,S,v,p);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=L.subplot,g=u.cd[u.index],h=u.trace;if(g.r=i[u.index],g.theta=n[u.index],!!l.isPtInside(g))return u.xLabelVal=void 0,u.yLabelVal=void 0,P(g,h,l,u),f}}G.exports={hoverPoints:s}},62944:function(G,H,e){var m=e(27160);m.plot=e(56512),G.exports=m},56512:function(G,H,e){var m=e(3108),P=e(38248),s=e(89876),L=e(74588),S=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};G.exports=function(i,n,f){if(f.length){var u=n.radialAxis,l=n.angularAxis,g=L(i,n);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],c=T.trace,a=T.t,d=c._length,x=a.r,w=a.theta,C=a.opts,y,M=x.slice(),A=w.slice();for(y=0;y<x.length;y++)n.isPtInside({r:x[y],theta:w[y]})||(M[y]=NaN,A[y]=NaN);var o=new Array(d*2),E=Array(d),b=Array(d);for(y=0;y<d;y++){var I=M[y],D,N;if(P(I)){var k=u.c2g(I),O=l.c2g(A[y],c.thetaunit);D=k*Math.cos(O),N=k*Math.sin(O)}else D=N=NaN;E[y]=o[y*2]=D,b[y]=o[y*2+1]=N}a.tree=m(o),C.marker&&d>=p&&(C.marker.cluster=a.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=o),C.line&&o.length>1&&v.extendFlat(C.line,S.linePositions(i,c,o)),C.text&&(v.extendFlat(C.text,{positions:o},S.textPosition(i,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:o},S.textPosition(i,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:o},S.textPosition(i,c,C.text,C.markerUnsel))),C.fill&&!g.fill2d&&(g.fill2d=!0),C.marker&&!g.scatter2d&&(g.scatter2d=!0),C.line&&!g.line2d&&(g.line2d=!0),C.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(C.line),g.fillOptions.push(C.fill),g.markerOptions.push(C.marker),g.markerSelectedOptions.push(C.markerSel),g.markerUnselectedOptions.push(C.markerUnsel),g.textOptions.push(C.text),g.textSelectedOptions.push(C.textSel),g.textUnselectedOptions.push(C.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),a.x=E,a.y=b,a.rawx=E,a.rawy=b,a.r=x,a.theta=w,a.positions=o,a._scene=g,a.index=g.count,g.count++}}),s(i,n,f)}},G.exports.reglPrecompiled=r},69496:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(92880).extendFlat,L=e(98304),S=e(52904),v=e(45464),p=S.line;G.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:s({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:s({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:s({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:s({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:m(),selected:S.selected,unselected:S.unselected}},47507:function(G,H,e){var m=e(38248),P=e(39032).BADNUM,s=e(90136),L=e(20148),S=e(4500),v=e(16356).calcMarkerSize;G.exports=function(r,t){for(var i=r._fullLayout,n=t.subplot,f=i[n].realaxis,u=i[n].imaginaryaxis,l=f.makeCalcdata(t,"real"),g=u.makeCalcdata(t,"imag"),h=t._length,T=new Array(h),c=0;c<h;c++){var a=l[c],d=g[c],x=T[c]={};m(a)&&m(d)?(x.real=a,x.imag=d):x.real=P}return v(t,h),s(r,t),L(T,t),S(T,t),T}},76716:function(G,H,e){var m=e(3400),P=e(43028),s=e(74428),L=e(66828),S=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);G.exports=function(f,u,l,g){function h(a,d){return m.coerce(f,u,t,a,d)}var T=i(f,u,g,h);if(!T){u.visible=!1;return}h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(u)&&s(f,u,l,g,h,{gradient:!0}),P.hasLines(u)&&(L(f,u,l,g,h,{backoff:!0}),S(f,u,h),h("connectgaps")),P.hasText(u)&&(h("texttemplate"),v(f,u,g,h));var c=[];(P.hasMarkers(u)||P.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(f,u,l,h),P.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),m.coerceSelectionMarkerOpacity(u,h)};function i(n,f,u,l){var g=l("real"),h=l("imag"),T;return g&&h&&(T=Math.min(g.length,h.length)),m.isTypedArray(g)&&(f.real=g=Array.from(g)),m.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=T,T}},49504:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.subplot]._subplot;return v.realLabel=m.tickText(p.radialAxis,s.real,!0).text,v.imagLabel=m.tickText(p.angularAxis,s.imag,!0).text,v}},25292:function(G,H,e){var m=e(98723);function P(L,S,v,p){var r=m(L,S,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=L.subplot,n=t.cd[t.index],f=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,s(n,f,i,t),t.hovertemplate=f.hovertemplate,r}}function s(L,S,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[S.subplot]={_subplot:v};var n=S._module.formatLabels(L,S,i);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var f=L.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var g=f.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&l(r,p.realLabel),g.indexOf("imag")!==-1&&l(t,p.imagLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:s}},95443:function(G,H,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(G,H,e){var m=e(96504),P=e(39032).BADNUM,s=e(36416),L=s.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),i=p.xaxis,n=p.yaxis,f={xaxis:i,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=i,l[0].trace._yA=n);var h=l[g],T=h.real;if(T===P)h.x=h.y=P;else{var c=L([T,h.imag]);h.x=c[0],h.y=c[1]}}m(v,f,r,t)}},5896:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(52904),S=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=L.marker,i=L.line,n=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:i.color,width:i.width,dash:p,backoff:i.backoff,shape:r({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:s(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:m()}},34335:function(G,H,e){var m=e(38248),P=e(90136),s=e(20148),L=e(4500),S=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,i){var n=t._fullLayout[i.subplot],f=n.sum,u=i.sum||f,l={a:i.a,b:i.b,c:i.c},g,h,T,c,a,d;for(g=0;g<v.length;g++)if(T=v[g],!l[T]){for(a=l[p[T][0]],d=l[p[T][1]],c=new Array(a.length),h=0;h<a.length;h++)c[h]=u-a[h]-d[h];l[T]=c}var x=i._length,w=new Array(x),C,y,M,A,o,E;for(g=0;g<x;g++)C=l.a[g],y=l.b[g],M=l.c[g],m(C)&&m(y)&&m(M)?(C=+C,y=+y,M=+M,A=f/(C+y+M),A!==1&&(C*=A,y*=A,M*=A),E=C,o=M-y,w[g]={x:o,y:E,a:C,b:y,c:M}):w[g]={x:!1,y:!1};return S(i,x),P(t,i),s(w,i),L(w,i),w}},84256:function(G,H,e){var m=e(3400),P=e(88200),s=e(43028),L=e(74428),S=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);G.exports=function(n,f,u,l){function g(w,C){return m.coerce(n,f,t,w,C)}var h=g("a"),T=g("b"),c=g("c"),a;if(h?(a=h.length,T?(a=Math.min(a,T.length),c&&(a=Math.min(a,c.length))):c?a=Math.min(a,c.length):a=0):T&&c&&(a=Math.min(T.length,c.length)),!a){f.visible=!1;return}f._length=a,g("sum"),g("text"),g("hovertext"),f.hoveron!=="fills"&&g("hovertemplate");var d=a<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",d),s.hasMarkers(f)&&L(n,f,u,l,g,{gradient:!0}),s.hasLines(f)&&(S(n,f,u,l,g,{backoff:!0}),v(n,f,g),g("connectgaps")),s.hasText(f)&&(g("texttemplate"),p(n,f,l,g));var x=[];(s.hasMarkers(f)||s.hasText(f))&&(g("cliponaxis"),g("marker.maxdisplayed"),x.push("points")),g("fill"),f.fill!=="none"&&(r(n,f,u,g),s.hasLines(f)||v(n,f,g)),(f.fill==="tonext"||f.fill==="toself")&&x.push("fills"),g("hoveron",x.join("+")||"points"),m.coerceSelectionMarkerOpacity(f,g)}},97476:function(G){G.exports=function(e,m,P,s,L){if(m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),s[L]){var S=s[L];e.a=S.a,e.b=S.b,e.c=S.c}else e.a=m.a,e.b=m.b,e.c=m.c;return e}},90404:function(G,H,e){var m=e(54460);G.exports=function(s,L,S){var v={},p=S[L.subplot]._subplot;return v.aLabel=m.tickText(p.aaxis,s.a,!0).text,v.bLabel=m.tickText(p.baxis,s.b,!0).text,v.cLabel=m.tickText(p.caxis,s.c,!0).text,v}},26596:function(G,H,e){var m=e(98723);G.exports=function(s,L,S,v){var p=m(s,L,S,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/s.ya._length,i=s.xa._length,n=i*t/2,f=i-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),p}var u=r.cd[r.index],l=r.trace,g=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:g};var T=l._module.formatLabels(u,l,h);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var c=u.hi||l.hoverinfo,a=[];function d(w,C){a.push(w._hovertitle+": "+C)}if(!l.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&d(g.aaxis,r.aLabel),x.indexOf("b")!==-1&&d(g.baxis,r.bLabel),x.indexOf("c")!==-1&&d(g.caxis,r.cLabel)}return r.extraText=a.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(G,H,e){G.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(G,H,e){var m=e(96504);G.exports=function(s,L,S){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,r=L.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},i=L.layers.frontplot.select("g.scatterlayer"),n=0;n<S.length;n++){var f=S[n];f.length&&(f[0].trace._xA=p,f[0].trace._yA=r)}m(s,t,S,i)}},44524:function(G,H,e){var m=e(52904),P=e(49084),s=e(29736).axisHoverFormat,L=e(21776).Ks,S=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=m.marker,i=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),f=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),hovertemplate:L(),xhoverformat:s("x"),yhoverformat:s("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:S.selected.marker,editType:"calc"},unselected:{marker:S.unselected.marker,editType:"calc"},opacity:S.opacity}},28888:function(G,H,e){var m=e(24040),P=e(12704);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},m.register(P)},99332:function(G,H,e){var m=e(13472),P=e(24040),s=e(5048),L=e(84888)._M,S=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function i(h){var T=h._fullLayout,c=P.getModule(r),a=L(h.calcdata,c)[0],d=s(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&u(h),c.plot(h,{},a))}function n(h){var T=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var a=0;a<T.length;a++){var d=T[a][0],x=d.trace,w=c._splomScenes[x.uid];x.type==="splom"&&w&&w.matrix&&f(h,x,w)}}function f(h,T,c){for(var a=c.matrixOptions.data.length,d=T._visibleDims,x=c.viewOpts.ranges=new Array(a),w=0;w<d.length;w++){var C=d[w],y=x[w]=new Array(4),M=v(h,T._diag[C][0]);M&&(y[0]=M.r2l(M.range[0]),y[2]=M.r2l(M.range[1]));var A=v(h,T._diag[C][1]);A&&(y[1]=A.r2l(A.range[0]),y[3]=A.r2l(A.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function u(h){var T=h._fullLayout,c=T._glcanvas.data()[0].regl,a=T._splomGrid;a||(a=T._splomGrid=m(c)),a.update(l(h))}function l(h){var T=h._context.plotGlPixelRatio,c=h._fullLayout,a=c._size,d=[0,0,c.width*T,c.height*T],x={},w;function C(W,J,re,ne,le,$){re*=T,ne*=T,le*=T,$*=T;var K=J[W+"color"],ie=J[W+"width"],Y=String(K+ie);Y in x?x[Y].data.push(NaN,NaN,re,ne,le,$):x[Y]={data:[re,ne,le,$],join:"rect",thickness:ie*T,color:K,viewport:d,range:d,overlay:!1}}for(w in c._splomSubplots){var y=c._plots[w],M=y.xaxis,A=y.yaxis,o=M._gridVals,E=A._gridVals,b=M._offset,I=M._length,D=A._length,N=a.b+A.domain[0]*a.h,k=-A._m,O=-k*A.r2l(A.range[0],A.calendar),F,z;if(M.showgrid)for(w=0;w<o.length;w++)F=b+M.l2p(o[w].x),C("grid",M,F,N,F,N+D);if(A.showgrid)for(w=0;w<E.length;w++)z=N+O+k*E[w].x,C("grid",A,b,z,b+I,z);p(h,M,A)&&(F=b+M.l2p(0),C("zeroline",M,F,N,F,N+D)),p(h,A,M)&&(z=N+O+0,C("zeroline",A,b,z,b+I,z))}var B=[];for(w in x)B.push(x[w]);return B}function g(h,T,c,a){var d={},x;if(a._splomScenes){for(x=0;x<h.length;x++){var w=h[x];w.type==="splom"&&(d[w.uid]=1)}for(x=0;x<c.length;x++){var C=c[x];if(!d[C.uid]){var y=a._splomScenes[C.uid];y&&y.destroy&&y.destroy(),a._splomScenes[C.uid]=null,delete a._splomScenes[C.uid]}}}Object.keys(a._splomScenes||{}).length===0&&delete a._splomScenes,a._splomGrid&&!T._hasOnlyLargeSploms&&a._hasOnlyLargeSploms&&(a._splomGrid.destroy(),a._splomGrid=null,delete a._splomGrid),S.clean(h,T,c,a)}G.exports={name:r,attr:S.attr,attrRegex:S.attrRegex,layoutAttributes:S.layoutAttributes,supplyLayoutDefaults:S.supplyLayoutDefaults,drawFramework:S.drawFramework,plot:i,drag:n,updateGrid:u,clean:g,updateFx:S.updateFx,toSVG:S.toSVG,reglPrecompiled:t}},66821:function(G,H,e){var m=e(3400),P=e(79811),s=e(16356).calcMarkerSize,L=e(16356).calcAxisExpansion,S=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,i=e(67072).TOO_MANY_POINTS;G.exports=function(f,u){var l=u.dimensions,g=u._length,h={},T=h.cdata=[],c=h.data=[],a=u._visibleDims=[],d,x,w,C,y;function M(I,D){for(var N=I.makeCalcdata({v:D.values,vcalendar:u.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===t?NaN:N[k];T.push(N),c.push(I.type==="log"?m.simpleMap(N,I.c2l):N)}for(d=0;d<l.length;d++)if(w=l[d],w.visible){if(C=P.getFromId(f,u._diag[d][0]),y=P.getFromId(f,u._diag[d][1]),C&&y&&C.type!==y.type){m.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(M(C,w),y&&y.type==="category"&&(y._categories=C._categories.slice())):M(y,w),a.push(d)}S(f,u),m.extendFlat(h,p(f,u));var A=T.length,o=A*g>i,E;for(o?E=h.sizeAvg||Math.max(h.size,3):E=s(u,g),x=0;x<a.length;x++)d=a[x],w=l[d],C=P.getFromId(f,u._diag[d][0])||{},y=P.getFromId(f,u._diag[d][1])||{},L(f,u,C,y,T[x],T[x],E);var b=r(f,u);return b.matrix||(b.matrix=!0),b.matrixOptions=h,b.selectedOptions=v(f,u,u.selected),b.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(G,H,e){var m=e(3400),P=e(51272),s=e(44524),L=e(43028),S=e(74428),v=e(26284),p=e(80088).isOpenSymbol;G.exports=function(n,f,u,l){function g(C,y){return m.coerce(n,f,s,C,y)}var h=P(n,f,{name:"dimensions",handleItemDefaults:r}),T=g("diagonal.visible"),c=g("showupperhalf"),a=g("showlowerhalf"),d=v(f,h,"values");if(!d||!T&&!c&&!a){f.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),S(n,f,u,l,g,{noAngleRef:!0,noStandOff:!0});var x=p(f.marker.symbol),w=L.isBubble(f);g("marker.line.width",x||w?1:0),t(n,f,l,g),m.coerceSelectionMarkerOpacity(f,g)};function r(i,n){function f(l,g){return m.coerce(i,n,s.dimensions,l,g)}f("label");var u=f("values");u&&u.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(i,n,f,u){var l=n.dimensions,g=l.length,h=n.showupperhalf,T=n.showlowerhalf,c=n.diagonal.visible,a,d,x=new Array(g),w=new Array(g);for(a=0;a<g;a++){var C=a?a+1:"";x[a]="x"+C,w[a]="y"+C}var y=u("xaxes",x),M=u("yaxes",w),A=n._diag=new Array(g);n._xaxes={},n._yaxes={};var o=[],E=[];function b(W,J,re,ne){if(W){var le=W.charAt(0),$=f._splomAxes[le];if(n["_"+le+"axes"][W]=1,ne.push(W),!(W in $)){var K=$[W]={};re&&(K.label=re.label||"",re.visible&&re.axis&&(re.axis.type&&(K.type=re.axis.type),re.axis.matches&&(K.matches=J)))}}}var I=!c&&!T,D=!c&&!h;for(n._axesDim={},a=0;a<g;a++){var N=l[a],k=a===0,O=a===g-1,F=k&&I||O&&D?void 0:y[a],z=k&&D||O&&I?void 0:M[a];b(F,z,N,o),b(z,F,N,E),A[a]=[F,z],n._axesDim[F]=a,n._axesDim[z]=a}for(a=0;a<o.length;a++)for(d=0;d<E.length;d++){var B=o[a]+E[d];(a>d&&h||a<d&&T||a===d&&(c||!T||!h))&&(f._splomSubplots[B]=1)}(!T||!c&&h&&T)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(G,H,e){var m=e(3400),P=e(90136),s=e(84236).markerStyle;G.exports=function(S,v){var p=v.trace,r=S._fullLayout._splomScenes[p.uid];if(r){P(S,p),m.extendFlat(r.matrixOptions,s(S,p));var t=m.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(G,H){H.getDimIndex=function(m,P){for(var s=P._id,L=s.charAt(0),S={x:0,y:1}[L],v=m._visibleDims,p=0;p<v.length;p++){var r=v[p];if(m._diag[r][S]===s)return p}return!1}},72248:function(G,H,e){var m=e(50328),P=e(41272).calcHover,s=e(54460).getFromId,L=e(92880).extendFlat;function S(p,r,t,i,n){n||(n={});var f=(i||"").charAt(0)==="x",u=(i||"").charAt(0)==="y",l=v(p,r,t);if((f||u)&&n.hoversubplots==="axis"&&l[0])for(var g=(f?p.xa:p.ya)._subplotsWith,h=n.gd,T=L({},p),c=0;c<g.length;c++){var a=g[c];if(a!==p.xa._id+p.ya._id){u?T.xa=s(h,a,"x"):T.ya=s(h,a,"y");var d=f||u,x=v(T,r,t,d);l=l.concat(x)}}return l}function v(p,r,t,i){var n=p.cd,f=n[0].trace,u=p.scene,l=u.matrixOptions.cdata,g=p.xa,h=p.ya,T=g.c2p(r),c=h.c2p(t),a=p.distance,d=m.getDimIndex(f,g),x=m.getDimIndex(f,h);if(d===!1||x===!1)return[p];for(var w=l[d],C=l[x],y,M,A=a,o=0;o<w.length;o++)if(!(i&&o!==p.index)){var E=w[o],b=C[o],I=g.c2p(E)-T,D=h.c2p(b)-c,N=Math.sqrt(I*I+D*D);(i||N<A)&&(A=M=N,y=o)}return p.index=y,p.distance=A,p.dxy=M,y===void 0?[p]:[P(p,w,C,f)]}G.exports={hoverPoints:S}},97924:function(G,H,e){var m=e(28888);m.basePlotModule=e(99332),G.exports=m},54840:function(G,H,e){var m=e(55795),P=e(3400),s=e(79811),L=e(72760).selectMode;G.exports=function(p,r,t){if(t.length)for(var i=0;i<t.length;i++)S(p,t[i][0])};function S(v,p){var r=v._fullLayout,t=r._size,i=p.trace,n=p.t,f=r._splomScenes[i.uid],u=f.matrixOptions,l=u.cdata,g=r._glcanvas.data()[0].regl,h=r.dragmode,T,c,a,d,x;if(l.length!==0){u.lower=i.showupperhalf,u.upper=i.showlowerhalf,u.diagonal=i.diagonal.visible;var w=i._visibleDims,C=l.length,y=f.viewOpts={};for(y.ranges=new Array(C),y.domains=new Array(C),x=0;x<w.length;x++){a=w[x];var M=y.ranges[x]=new Array(4),A=y.domains[x]=new Array(4);T=s.getFromId(v,i._diag[a][0]),T&&(M[0]=T._rl[0],M[2]=T._rl[1],A[0]=T.domain[0],A[2]=T.domain[1]),c=s.getFromId(v,i._diag[a][1]),c&&(M[1]=c._rl[0],M[3]=c._rl[1],A[1]=c.domain[0],A[3]=c.domain[1])}var o=v._context.plotGlPixelRatio,E=t.l*o,b=t.b*o,I=t.w*o,D=t.h*o;y.viewport=[E,b,I+E,D+b],f.matrix===!0&&(f.matrix=m(g));var N=r.clickmode.indexOf("select")>-1,k=L(h)||!!i.selectedpoints||N,O=!0;if(k){var F=i._length;if(i.selectedpoints){f.selectBatch=i.selectedpoints;var z=i.selectedpoints,B={};for(a=0;a<z.length;a++)B[z[a]]=!0;var W=[];for(a=0;a<F;a++)B[a]||W.push(a);f.unselectBatch=W}var J=n.xpx=new Array(C),re=n.ypx=new Array(C);for(x=0;x<w.length;x++){if(a=w[x],T=s.getFromId(v,i._diag[a][0]),T)for(J[x]=new Array(F),d=0;d<F;d++)J[x][d]=T.c2p(l[x][d]);if(c=s.getFromId(v,i._diag[a][1]),c)for(re[x]=new Array(F),d=0;d<F;d++)re[x][d]=c.c2p(l[x][d])}if(f.selectBatch.length||f.unselectBatch.length){var ne=P.extendFlat({},u,f.unselectedOptions,y),le=P.extendFlat({},u,f.selectedOptions,y);f.matrix.update(ne,le),O=!1}}else n.xpx=n.ypx=null;if(O){var $=P.extendFlat({},u,y);f.matrix.update($,null)}}}},72308:function(G,H,e){var m=e(3400);G.exports=function(s,L){var S=s._fullLayout,v=L.uid,p=S._splomScenes;p||(p=S._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=p[L.uid];return i||(i=p[v]=m.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||m.extendFlat(i,r),i}},62500:function(G,H,e){var m=e(3400),P=m.pushUnique,s=e(43028),L=e(50328);G.exports=function(v,p){var r=v.cd,t=r[0].trace,i=r[0].t,n=v.scene,f=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,g=[];if(!n)return g;var h=!s.hasMarkers(t)&&!s.hasText(t);if(t.visible!==!0||h)return g;var T=L.getDimIndex(t,u),c=L.getDimIndex(t,l);if(T===!1||c===!1)return g;var a=i.xpx[T],d=i.ypx[c],x=f[T],w=f[c],C=(v.scene.selectBatch||[]).slice(),y=[];if(p!==!1&&!p.degenerate)for(var M=0;M<x.length;M++)p.contains([a[M],d[M]],null,M,v)?(g.push({pointNumber:M,x:x[M],y:w[M]}),P(C,M)):C.indexOf(M)!==-1?P(C,M):y.push(M);var A=n.matrixOptions;return!C.length&&!y.length?n.matrix.update(A,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,m.extendFlat({},A,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=y,g}},90167:function(G,H,e){var m=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),S=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(p,m("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},3832:function(G,H,e){var m=e(3400),P=e(47128);function s(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,n,f,u;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),i=Math.min(n.length,f.length,u.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=u||[];var l=0,g=1/0,h;for(h=0;h<r._len;h++){var T=r._u[h],c=r._v[h],a=r._w[h],d=Math.sqrt(T*T+c*c+a*a);l=Math.max(l,d),g=Math.min(g,d)}for(P(p,r,{vals:[g,l],containerStr:"",cLetter:"c"}),h=0;h<i;h++){var x=n[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var w=f[h];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var C=u[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=i,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(p){var r=p._x,t=p._y,i=p._z,n=p._len,f,u,l,g=-1/0,h=1/0,T=-1/0,c=1/0,a=-1/0,d=1/0,x="",w,C,y,M,A,o,E,b,I;for(n&&(M=r[0],o=t[0],b=i[0]),n>1&&(A=r[n-1],E=t[n-1],I=i[n-1]),f=0;f<n;f++)g=Math.max(g,r[f]),h=Math.min(h,r[f]),T=Math.max(T,t[f]),c=Math.min(c,t[f]),a=Math.max(a,i[f]),d=Math.min(d,i[f]),!w&&r[f]!==M&&(w=!0,x+="x"),!C&&t[f]!==o&&(C=!0,x+="y"),!y&&i[f]!==b&&(y=!0,x+="z");w||(x+="x"),C||(x+="y"),y||(x+="z");var D=S(p._x),N=S(p._y),k=S(p._z);x=x.replace("x",(M>A?"-":"+")+"x"),x=x.replace("y",(o>E?"-":"+")+"y"),x=x.replace("z",(b>I?"-":"+")+"z");var O=function(){n=0,D=[],N=[],k=[]};(!n||n<D.length*N.length*k.length)&&O();var F=function(fe){return fe==="x"?r:fe==="y"?t:i},z=function(fe){return fe==="x"?D:fe==="y"?N:k},B=function(fe){return fe[n-1]<fe[0]?-1:1},W=F(x[1]),J=F(x[3]),re=F(x[5]),ne=z(x[1]).length,le=z(x[3]).length,$=z(x[5]).length,K=!1,ie=function(fe,ge,be){return ne*(le*fe+ge)+be},Y=B(F(x[1])),Q=B(F(x[3])),oe=B(F(x[5]));for(f=0;f<$-1;f++){for(u=0;u<le-1;u++){for(l=0;l<ne-1;l++){var X=ie(f,u,l),j=ie(f,u,l+1),se=ie(f,u+1,l),te=ie(f+1,u,l);if((!(W[X]*Y<W[j]*Y)||!(J[X]*Q<J[se]*Q)||!(re[X]*oe<re[te]*oe))&&(K=!0),K)break}if(K)break}if(K)break}return K&&(m.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:h,yMin:c,zMin:d,xMax:g,yMax:T,zMax:a,Xs:D,Ys:N,Zs:k,len:n,fill:x}}function S(p){return m.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),m.isTypedArray(p))return p.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+p[i];return t}G.exports={calc:s,filter:v,processGrid:L}},25668:function(G,H,e){var m=e(67792).gl_streamtube3d,P=m.createTubeMesh,s=e(3400),L=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,g){this.scene=l,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var g=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(d,x){var w=g[x],C=h[p[x]];return w.l2c(d)/C}if(l.object===this.mesh){var c=l.data.position,a=l.data.velocity;return l.traceCoordinate=[T(c[0],"xaxis"),T(c[1],"yaxis"),T(c[2],"zaxis"),T(a[0],"xaxis"),T(a[1],"yaxis"),T(a[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function i(l){var g=l.length,h;return g>2?h=l.slice(1,g-1):g===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var g=l.length;return g===1?[.5,.5]:[l[1]-l[0],l[g-1]-l[g-2]]}function f(l,g){var h=l.fullSceneLayout,T=l.dataScale,c=g._len,a={};function d(le,$){var K=h[$],ie=T[p[$]];return s.simpleMap(le,function(Y){return K.d2l(Y)*ie})}if(a.vectors=v(d(g._u,"xaxis"),d(g._v,"yaxis"),d(g._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=d(g._Xs,"xaxis"),w=d(g._Ys,"yaxis"),C=d(g._Zs,"zaxis");a.meshgrid=[x,w,C],a.gridFill=g._gridFill;var y=g._slen;if(y)a.startingPositions=v(d(g._startsX,"xaxis"),d(g._startsY,"yaxis"),d(g._startsZ,"zaxis"));else{for(var M=w[0],A=i(x),o=i(C),E=new Array(A.length*o.length),b=0,I=0;I<A.length;I++)for(var D=0;D<o.length;D++)E[b++]=[A[I],M,o[D]];a.startingPositions=E}a.colormap=L(g),a.tubeSize=g.sizeref,a.maxLength=g.maxdisplayed;var N=d(g._xbnds,"xaxis"),k=d(g._ybnds,"yaxis"),O=d(g._zbnds,"zaxis"),F=n(x),z=n(w),B=n(C),W=[[N[0]-F[0],k[0]-z[0],O[0]-B[0]],[N[1]+F[1],k[1]+z[1],O[1]+B[1]]],J=m(a,W),re=S(g);J.vertexIntensityBounds=[re.min/g._normMax,re.max/g._normMax];var ne=g.lightposition;return J.lightPosition=[ne.x,ne.y,ne.z],J.ambient=g.lighting.ambient,J.diffuse=g.lighting.diffuse,J.specular=g.lighting.specular,J.roughness=g.lighting.roughness,J.fresnel=g.lighting.fresnel,J.opacity=g.opacity,g._pad=J.tubeScale*g.sizeref*2,J}t.update=function(l){this.data=l;var g=f(this.scene,l);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,g){var h=l.glplot.gl,T=f(l,g),c=P(h,T),a=new r(l,g.uid);return a.mesh=c,a.data=g,c._trace=a,l.glplot.add(c),a}G.exports=u},54304:function(G,H,e){var m=e(3400),P=e(27260),s=e(90167);G.exports=function(S,v,p,r){function t(h,T){return m.coerce(S,v,s,h,T)}var i=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),g=t("z");if(!i||!i.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(G,H,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(m,P){return m.tubex=m.x,m.tubey=m.y,m.tubez=m.z,m.tubeu=P.traceCoordinate[3],m.tubev=P.traceCoordinate[4],m.tubew=P.traceCoordinate[5],m.norm=P.traceCoordinate[6],m.divergence=P.traceCoordinate[7],delete m.x,delete m.y,delete m.z,m},meta:{}}},424:function(G,H,e){var m=e(45464),P=e(21776).Ks,s=e(21776).Gw,L=e(49084),S=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:s({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},m.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:S({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(G,H,e){var m=e(7316);H.name="sunburst",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},3776:function(G,H,e){var m=e(74148),P=e(38248),s=e(3400),L=e(8932).makeColorScaleFuncFromTrace,S=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},i={},n={};H.calc=function(u,l){var g=u._fullLayout,h=l.ids,T=s.isArrayOrTypedArray(h),c=l.labels,a=l.parents,d=l.values,x=s.isArrayOrTypedArray(d),w=[],C={},y={},M=function(Y,Q){C[Y]?C[Y].push(Q):C[Y]=[Q],y[Q]=1},A=function(Y){return Y||typeof Y=="number"},o=function(Y){return!x||P(d[Y])&&d[Y]>=0},E,b,I;T?(E=Math.min(h.length,a.length),b=function(Y){return A(h[Y])&&o(Y)},I=function(Y){return String(h[Y])}):(E=Math.min(c.length,a.length),b=function(Y){return A(c[Y])&&o(Y)},I=function(Y){return String(c[Y])}),x&&(E=Math.min(E,d.length));for(var D=0;D<E;D++)if(b(D)){var N=I(D),k=A(a[D])?String(a[D]):"",O={i:D,id:N,pid:k,label:A(c[D])?String(c[D]):""};x&&(O.v=+d[D]),w.push(O),M(k,N)}if(C[""]){if(C[""].length>1){for(var B=s.randstr(),W=0;W<w.length;W++)w[W].pid===""&&(w[W].pid=B);w.unshift({hasMultipleRoots:!0,id:B,pid:"",label:""})}}else{var F=[],z;for(z in C)y[z]||F.push(z);if(F.length===1)z=F[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return s.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",F.join(", ")].join(" "))}var J;try{J=m.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(w)}catch(Y){return s.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Y.message].join(" "))}var re=m.hierarchy(J),ne=!1;if(x)switch(l.branchvalues){case"remainder":re.sum(function(Y){return Y.data.v});break;case"total":re.each(function(Y){var Q=Y.data.data,oe=Q.v;if(Y.children){var X=Y.children.reduce(function(j,se){return j+se.data.data.v},0);if((Q.hasImpliedRoot||Q.hasMultipleRoots)&&(oe=X),oe<X*r)return ne=!0,s.warn(["Total value for node",Y.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,oe,`
children sum =`,X].join(" "))}Y.value=oe});break}else f(re,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ne){l.sort&&re.sort(function(Y,Q){return Q.value-Y.value});var le,$,K=l.marker.colors||[],ie=!!K.length;return l._hasColorscale?(ie||(K=x?l.values:l._values),p(u,l,{vals:K,containerStr:"marker",cLetter:"c"}),$=L(l.marker)):le=S(g["_"+l.type+"colormap"]),re.each(function(Y){var Q=Y.data.data;Q.color=l._hasColorscale?$(K[Q.i]):le(K[Q.i],Q.id)}),w[0].hierarchy=re,w}},H._runCrossTraceCalc=function(u,l){var g=l._fullLayout,h=l.calcdata,T=g[u+"colorway"],c=g["_"+u+"colormap"];g["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?i:t));var a=0,d;function x(M){var A=M.data.data,o=A.id;A.color===!1&&(c[o]?A.color=c[o]:M.parent?M.parent.parent?A.color=M.parent.data.data.color:(c[o]=A.color=T[a%T.length],a++):A.color=d)}for(var w=0;w<h.length;w++){var C=h[w],y=C[0];y.trace.type===u&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(x))}},H.crossTraceCalc=function(u){return H._runCrossTraceCalc("sunburst",u)};function f(u,l,g){var h=0,T=u.children;if(T){for(var c=T.length,a=0;a<c;a++)h+=f(T[a],l,g);g.branches&&h++}else g.leaves&&h++;return u.value=u.data.data.value=h,l._values||(l._values=[]),l._values[u.data.data.i]=h,h}},27328:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(G,H,e){var m=e(3400),P=e(424),s=e(86968).Q,L=e(31508).handleText,S=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(i,n,f,u){function l(x,w){return m.coerce(i,n,P,x,w)}var g=l("labels"),h=l("parents");if(!g||!g.length||!h||!h.length){n.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),S(i,n,u,l);var c=n._hasColorscale=p(i,"marker","colors")||(i.marker||{}).coloraxis;c&&r(i,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var a=l("text");l("texttemplate"),n.texttemplate||l("textinfo",m.isArrayOrTypedArray(a)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";L(i,n,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),s(n,u,l),n._length=null}},60404:function(G,H,e){var m=e(43616),P=e(76308);G.exports=function(L,S,v,p,r){var t=S.data.data,i=t.i,n=r||t.color;if(i>=0){S.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,S.color=n):(f.color=n,S.color=n),m.pointStyle(L,v,p,S)}else P.fill(L,n)}},45716:function(G,H,e){var m=e(33428),P=e(24040),s=e(10624).appendArrayPointValue,L=e(93024),S=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;G.exports=function(f,u,l,g,h){var T=g[0],c=T.trace,a=T.hierarchy,d=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var w=function(M){var A=l._fullLayout;if(!(l._dragging||A.hovermode===!1)){var o=l._fullData[c.index],E=M.data.data,b=E.i,I=p.isHierarchyRoot(M),D=p.getParent(a,M),N=p.getValue(M),k=function(j){return S.castOption(o,b,j)},O=k("hovertemplate"),F=L.castHoverinfo(o,A,b),z=A.separators,B;if(O||F&&F!=="none"&&F!=="skip"){var W,J;d&&(W=T.cx+M.pxmid[0]*(1-M.rInscribed),J=T.cy+M.pxmid[1]*(1-M.rInscribed)),x&&(W=M._hoverX,J=M._hoverY);var re={},ne=[],le=[],$=function(j){return ne.indexOf(j)!==-1};F&&(ne=F==="all"?o._module.attributes.hoverinfo.flags:F.split("+")),re.label=E.label,$("label")&&re.label&&le.push(re.label),E.hasOwnProperty("v")&&(re.value=E.v,re.valueLabel=t(re.value,z),$("value")&&le.push(re.valueLabel)),re.currentPath=M.currentPath=p.getPath(M.data),$("current path")&&!I&&le.push(re.currentPath);var K,ie=[],Y=function(){ie.indexOf(K)===-1&&(le.push(K),ie.push(K))};re.percentParent=M.percentParent=N/p.getValue(D),re.parent=M.parentString=p.getPtLabel(D),$("percent parent")&&(K=p.formatPercent(re.percentParent,z)+" of "+re.parent,Y()),re.percentEntry=M.percentEntry=N/p.getValue(u),re.entry=M.entry=p.getPtLabel(u),$("percent entry")&&!I&&!M.onPathbar&&(K=p.formatPercent(re.percentEntry,z)+" of "+re.entry,Y()),re.percentRoot=M.percentRoot=N/p.getValue(a),re.root=M.root=p.getPtLabel(a),$("percent root")&&!I&&(K=p.formatPercent(re.percentRoot,z)+" of "+re.root,Y()),re.text=k("hovertext")||k("text"),$("text")&&(K=re.text,S.isValidTextValue(K)&&le.push(K)),B=[i(M,o,h.eventDataKeys)];var Q={trace:o,y:J,_x0:M._x0,_x1:M._x1,_y0:M._y0,_y1:M._y1,text:le.join("<br>"),name:O||$("name")?o.name:void 0,color:k("hoverlabel.bgcolor")||E.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),fontWeight:k("hoverlabel.font.weight"),fontStyle:k("hoverlabel.font.style"),fontVariant:k("hoverlabel.font.variant"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:re,eventData:B};d&&(Q.x0=W-M.rInscribed*M.rpx1,Q.x1=W+M.rInscribed*M.rpx1,Q.idealAlign=M.pxmid[0]<0?"left":"right"),x&&(Q.x=W,Q.idealAlign=W<0?"left":"right");var oe=[];L.loneHover(Q,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:l,inOut_bbox:oe}),B[0].bbox=oe[0],c._hasHoverLabel=!0}if(x){var X=f.select("path.surface");h.styleOne(X,M,o,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:B||[i(M,o,h.eventDataKeys)],event:m.event})}},C=function(M){var A=l._fullLayout,o=l._fullData[c.index],E=m.select(this).datum();if(c._hasHoverEvent&&(M.originalEvent=m.event,l.emit("plotly_unhover",{points:[i(E,o,h.eventDataKeys)],event:m.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(L.loneUnhover(A._hoverlayer.node()),c._hasHoverLabel=!1),x){var b=f.select("path.surface");h.styleOne(b,E,o,l,{hovered:!1})}},y=function(M){var A=l._fullLayout,o=l._fullData[c.index],E=d&&(p.isHierarchyRoot(M)||p.isLeaf(M)),b=p.getPtId(M),I=p.isEntry(M)?p.findEntryWithChild(a,b):p.findEntryWithLevel(a,b),D=p.getPtId(I),N={points:[i(M,o,h.eventDataKeys)],event:m.event};E||(N.nextLevel=D);var k=v.triggerHandler(l,"plotly_"+c.type+"click",N);if(k!==!1&&A.hovermode&&(l._hoverdata=[i(M,o,h.eventDataKeys)],L.click(l,m.event)),!E&&k!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",o,A._tracePreGUI[o.uid],{level:o.level});var O={data:[{level:D}],traces:[c.index]},F={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(A._hoverlayer.node()),P.call("animate",l,O,F)}};f.on("mouseover",w),f.on("mouseout",C),f.on("click",y)};function i(n,f,u){for(var l=n.data.data,g={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},h=0;h<u.length;h++){var T=u[h];T in n&&(g[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(g.parent=n.parentString),s(g,f,l.i),g}},78176:function(G,H,e){var m=e(3400),P=e(76308),s=e(93972),L=e(69656);H.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(n){if(H.getPtId(n)===t)return i=n.copy()}),i||r},H.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(n){for(var f=n.children||[],u=0;u<f.length;u++){var l=f[u];if(H.getPtId(l)===t)return i=n.copy()}}),i||r},H.isEntry=function(r){return!r.parent},H.isLeaf=function(r){return!r.children},H.getPtId=function(r){return r.data.data.id},H.getPtLabel=function(r){return r.data.data.label},H.getValue=function(r){return r.value},H.isHierarchyRoot=function(r){return p(r)===""},H.setSliceCursor=function(r,t,i){var n=i.isTransitioning;if(!n){var f=r.datum();n=i.hideOnRoot&&H.isHierarchyRoot(f)||i.hideOnLeaves&&H.isLeaf(f)}s(r,n?null:"pointer")};function S(r,t,i){return{color:H.getOutsideTextFontKey("color",r,t,i),family:H.getOutsideTextFontKey("family",r,t,i),size:H.getOutsideTextFontKey("size",r,t,i),weight:H.getOutsideTextFontKey("weight",r,t,i),style:H.getOutsideTextFontKey("style",r,t,i),variant:H.getOutsideTextFontKey("variant",r,t,i),textcase:H.getOutsideTextFontKey("textcase",r,t,i),lineposition:H.getOutsideTextFontKey("lineposition",r,t,i),shadow:H.getOutsideTextFontKey("shadow",r,t,i)}}function v(r,t,i,n){var f=(n||{}).onPathbar,u=t.data.data,l=u.i,g=m.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=m.castOption(r._input,l,"textfont.color")),{color:g||P.contrast(u.color),family:H.getInsideTextFontKey("family",r,t,i,n),size:H.getInsideTextFontKey("size",r,t,i,n),weight:H.getInsideTextFontKey("weight",r,t,i,n),style:H.getInsideTextFontKey("style",r,t,i,n),variant:H.getInsideTextFontKey("variant",r,t,i,n),textcase:H.getInsideTextFontKey("textcase",r,t,i,n),lineposition:H.getInsideTextFontKey("lineposition",r,t,i,n),shadow:H.getInsideTextFontKey("shadow",r,t,i,n)}}H.getInsideTextFontKey=function(r,t,i,n,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",g=i.data.data.i;return m.castOption(t,g,l+"."+r)||m.castOption(t,g,"textfont."+r)||n.size},H.getOutsideTextFontKey=function(r,t,i,n){var f=i.data.data.i;return m.castOption(t,f,"outsidetextfont."+r)||m.castOption(t,f,"textfont."+r)||n.size},H.isOutsideText=function(r,t){return!r._hasColorscale&&H.isHierarchyRoot(t)},H.determineTextFont=function(r,t,i,n){return H.isOutsideText(r,t)?S(r,t,i):v(r,t,i,n)},H.hasTransition=function(r){return!!(r&&r.duration>0)},H.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},H.isHeader=function(r,t){return!(H.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}H.getParent=function(r,t){return H.findEntryWithLevel(r,p(t))},H.listPath=function(r,t){var i=r.parent;if(!i)return[];var n=t?[i.data[t]]:[i];return H.listPath(i,t).concat(n)},H.getPath=function(r){return H.listPath(r,"label").join("/")+"/"},H.formatValue=L.formatPieValue,H.formatPercent=function(r,t){var i=m.formatPercent(r,0);return i==="0%"&&(i=L.formatPiePercent(r,t)),i}},5621:function(G,H,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(G,H,e){var m=e(3400),P=e(84920);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("sunburstcolorway",S.colorway),v("extendsunburstcolors")}},96488:function(G,H,e){var m=e(33428),P=e(74148),s=e(67756).qy,L=e(43616),S=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,i=e(37820),n=e(69656).getRotationAngle,f=i.computeTransform,u=i.transformInsideText,l=e(85676).styleOne,g=e(60100).resizeText,h=e(45716),T=e(27328),c=e(78176);H.plot=function(y,M,A,o){var E=y._fullLayout,b=E._sunburstlayer,I,D,N=!A,k=!E.uniformtext.mode&&c.hasTransition(A);if(t("sunburst",E),I=b.selectAll("g.trace.sunburst").data(M,function(F){return F[0].trace.uid}),I.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),k){o&&(D=o());var O=m.transition().duration(A.duration).ease(A.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()});O.each(function(){b.selectAll("g.trace").each(function(F){a(y,F,this,A)})})}else I.each(function(F){a(y,F,this,A)}),E.uniformtext.mode&&g(y,E._sunburstlayer.selectAll(".trace"),"sunburst");N&&I.exit().remove()};function a(y,M,A,o){var E=y._context.staticPlot,b=y._fullLayout,I=!b.uniformtext.mode&&c.hasTransition(o),D=m.select(A),N=D.selectAll("g.slice"),k=M[0],O=k.trace,F=k.hierarchy,z=c.findEntryWithLevel(F,O.level),B=c.getMaxDepth(O),W=b._size,J=O.domain,re=W.w*(J.x[1]-J.x[0]),ne=W.h*(J.y[1]-J.y[0]),le=.5*Math.min(re,ne),$=k.cx=W.l+W.w*(J.x[1]+J.x[0])/2,K=k.cy=W.t+W.h*(1-J.y[0])-ne/2;if(!z)return N.remove();var ie=null,Y={};I&&N.each(function(Ve){Y[c.getPtId(Ve)]={rpx0:Ve.rpx0,rpx1:Ve.rpx1,x0:Ve.x0,x1:Ve.x1,transform:Ve.transform},!ie&&c.isEntry(Ve)&&(ie=Ve)});var Q=d(z).descendants(),oe=z.height+1,X=0,j=B;k.hasMultipleRoots&&c.isHierarchyRoot(z)&&(Q=Q.slice(1),oe-=1,X=1,j+=1),Q=Q.filter(function(Ve){return Ve.y1<=j});var se=n(O.rotation);se&&Q.forEach(function(Ve){Ve.x0+=se,Ve.x1+=se});var te=Math.min(oe,B),fe=function(Ve){return(Ve-X)/te*le},ge=function(Ve,et){return[Ve*Math.cos(et),-Ve*Math.sin(et)]},be=function(Ve){return S.pathAnnulus(Ve.rpx0,Ve.rpx1,Ve.x0,Ve.x1,$,K)},xe=function(Ve){return $+w(Ve)[0]*(Ve.transform.rCenter||0)+(Ve.transform.x||0)},_e=function(Ve){return K+w(Ve)[1]*(Ve.transform.rCenter||0)+(Ve.transform.y||0)};N=N.data(Q,c.getPtId),N.enter().append("g").classed("slice",!0),I?N.exit().transition().each(function(){var Ve=m.select(this),et=Ve.select("path.surface");et.transition().attrTween("d",function(Je){var Qe=Re(Je);return function(ct){return be(Qe(ct))}});var it=Ve.select("g.slicetext");it.attr("opacity",0)}).remove():N.exit().remove(),N.order();var De=null;if(I&&ie){var Fe=c.getPtId(ie);N.each(function(Ve){De===null&&c.getPtId(Ve)===Fe&&(De=Ve.x1)})}var Te=N;I&&(Te=Te.transition().each("end",function(){var Ve=m.select(this);c.setSliceCursor(Ve,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Te.each(function(Ve){var et=m.select(this),it=S.ensureSingle(et,"path","surface",function(Tt){Tt.style("pointer-events",E?"none":"all")});Ve.rpx0=fe(Ve.y0),Ve.rpx1=fe(Ve.y1),Ve.xmid=(Ve.x0+Ve.x1)/2,Ve.pxmid=ge(Ve.rpx1,Ve.xmid),Ve.midangle=-(Ve.xmid-Math.PI/2),Ve.startangle=-(Ve.x0-Math.PI/2),Ve.stopangle=-(Ve.x1-Math.PI/2),Ve.halfangle=.5*Math.min(S.angleDelta(Ve.x0,Ve.x1)||Math.PI,Math.PI),Ve.ring=1-Ve.rpx0/Ve.rpx1,Ve.rInscribed=x(Ve),I?it.transition().attrTween("d",function(Tt){var Et=Se(Tt);return function(rt){return be(Et(rt))}}):it.attr("d",be),et.call(h,z,y,M,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),it.call(l,Ve,O,y);var Je=S.ensureSingle(et,"g","slicetext"),Qe=S.ensureSingle(Je,"text","",function(Tt){Tt.attr("data-notex",1)}),ct=S.ensureUniformFontSize(y,c.determineTextFont(O,Ve,b.font));Qe.text(H.formatSliceLabel(Ve,z,O,M,b)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ct).call(v.convertToTspans,y);var ht=L.bBox(Qe.node());Ve.transform=u(ht,Ve,k),Ve.transform.targetX=xe(Ve),Ve.transform.targetY=_e(Ve);var gt=function(Tt,Et){var rt=Tt.transform;return f(rt,Et),rt.fontSize=ct.size,r(O.type,rt,b),S.getTextTransform(rt)};I?Qe.transition().attrTween("transform",function(Tt){var Et=Ie(Tt);return function(rt){return gt(Et(rt),ht)}}):Qe.attr("transform",gt(Ve,ht))});function Re(Ve){var et=c.getPtId(Ve),it=Y[et],Je=Y[c.getPtId(z)],Qe;if(Je){var ct=(Ve.x1>Je.x1?2*Math.PI:0)+se;Qe=Ve.rpx1<Je.rpx1?{x0:Ve.x0,x1:Ve.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:Ve.rpx0,rpx1:Ve.rpx1}}else{var ht,gt=c.getPtId(Ve.parent);N.each(function(He){if(c.getPtId(He)===gt)return ht=He});var Tt=ht.children,Et;Tt.forEach(function(He,Ge){if(c.getPtId(He)===et)return Et=Ge});var rt=Tt.length,ze=s(ht.x0,ht.x1);Qe={rpx0:le,rpx1:le,x0:ze(Et/rt),x1:ze((Et+1)/rt)}}return s(it,Qe)}function Se(Ve){var et=Y[c.getPtId(Ve)],it,Je={x0:Ve.x0,x1:Ve.x1,rpx0:Ve.rpx0,rpx1:Ve.rpx1};if(et)it=et;else if(ie)if(Ve.parent)if(De){var Qe=(Ve.x1>De?2*Math.PI:0)+se;it={x0:Qe,x1:Qe}}else it={rpx0:le,rpx1:le},S.extendFlat(it,Me(Ve));else it={rpx0:0,rpx1:0};else it={x0:se,x1:se};return s(it,Je)}function Ie(Ve){var et=Y[c.getPtId(Ve)],it,Je=Ve.transform;if(et)it=et;else if(it={rpx1:Ve.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},ie)if(Ve.parent)if(De){var Qe=Ve.x1>De?2*Math.PI:0;it.x0=it.x1=Qe}else S.extendFlat(it,Me(Ve));else it.x0=it.x1=se;else it.x0=it.x1=se;var ct=s(it.transform.textPosAngle,Ve.transform.textPosAngle),ht=s(it.rpx1,Ve.rpx1),gt=s(it.x0,Ve.x0),Tt=s(it.x1,Ve.x1),Et=s(it.transform.scale,Je.scale),rt=s(it.transform.rotate,Je.rotate),ze=Je.rCenter===0?3:it.transform.rCenter===0?1/3:1,He=s(it.transform.rCenter,Je.rCenter),Ge=function(We){return He(Math.pow(We,ze))};return function(We){var Le=ht(We),Pe=gt(We),je=Tt(We),Ce=Ge(We),he=ge(Le,(Pe+je)/2),me=ct(We),Ne={pxmid:he,rpx1:Le,transform:{textPosAngle:me,rCenter:Ce,x:Je.x,y:Je.y}};return r(O.type,Je,b),{transform:{targetX:xe(Ne),targetY:_e(Ne),scale:Et(We),rotate:rt(We),rCenter:Ce}}}}function Me(Ve){var et=Ve.parent,it=Y[c.getPtId(et)],Je={};if(it){var Qe=et.children,ct=Qe.indexOf(Ve),ht=Qe.length,gt=s(it.x0,it.x1);Je.x0=gt(ct/ht),Je.x1=gt(ct/ht)}else Je.x0=Je.x1=0;return Je}}function d(y){return P.partition().size([2*Math.PI,y.height+1])(y)}H.formatSliceLabel=function(y,M,A,o,E){var b=A.texttemplate,I=A.textinfo;if(!b&&(!I||I==="none"))return"";var D=E.separators,N=o[0],k=y.data.data,O=N.hierarchy,F=c.isHierarchyRoot(y),z=c.getParent(O,y),B=c.getValue(y);if(!b){var W=I.split("+"),J=function(X){return W.indexOf(X)!==-1},re=[],ne;if(J("label")&&k.label&&re.push(k.label),k.hasOwnProperty("v")&&J("value")&&re.push(c.formatValue(k.v,D)),!F){J("current path")&&re.push(c.getPath(y.data));var le=0;J("percent parent")&&le++,J("percent entry")&&le++,J("percent root")&&le++;var $=le>1;if(le){var K,ie=function(X){ne=c.formatPercent(K,D),$&&(ne+=" of "+X),re.push(ne)};J("percent parent")&&!F&&(K=B/c.getValue(z),ie("parent")),J("percent entry")&&(K=B/c.getValue(M),ie("entry")),J("percent root")&&(K=B/c.getValue(O),ie("root"))}}return J("text")&&(ne=S.castOption(A,k.i,"text"),S.isValidTextValue(ne)&&re.push(ne)),re.join("<br>")}var Y=S.castOption(A,k.i,"texttemplate");if(!Y)return"";var Q={};k.label&&(Q.label=k.label),k.hasOwnProperty("v")&&(Q.value=k.v,Q.valueLabel=c.formatValue(k.v,D)),Q.currentPath=c.getPath(y.data),F||(Q.percentParent=B/c.getValue(z),Q.percentParentLabel=c.formatPercent(Q.percentParent,D),Q.parent=c.getPtLabel(z)),Q.percentEntry=B/c.getValue(M),Q.percentEntryLabel=c.formatPercent(Q.percentEntry,D),Q.entry=c.getPtLabel(M),Q.percentRoot=B/c.getValue(O),Q.percentRootLabel=c.formatPercent(Q.percentRoot,D),Q.root=c.getPtLabel(O),k.hasOwnProperty("color")&&(Q.color=k.color);var oe=S.castOption(A,k.i,"text");return(S.isValidTextValue(oe)||oe==="")&&(Q.text=oe),Q.customdata=S.castOption(A,k.i,"customdata"),S.texttemplateString(Y,Q,E._d3locale,Q,A._meta||{})};function x(y){return y.rpx0===0&&S.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function w(y){return C(y.rpx1,y.transform.textPosAngle)}function C(y,M){return[y*Math.sin(M),-y*Math.cos(M)]}},85676:function(G,H,e){var m=e(33428),P=e(76308),s=e(3400),L=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(i){var n=m.select(this),f=i[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){m.select(this).call(p,l,u,r)})})}function p(r,t,i,n){var f=t.data.data,u=!t.children,l=f.i,g=s.castOption(i,l,"marker.line.color")||P.defaultLine,h=s.castOption(i,l,"marker.line.width")||0;r.call(S,t,i,n).style("stroke-width",h).call(P.stroke,g).style("opacity",u?i.leaf.opacity:null)}G.exports={style:v,styleOne:p}},16716:function(G,H,e){var m=e(76308),P=e(49084),s=e(29736).axisHoverFormat,L=e(21776).Ks,S=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:m.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:m.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:s("x"),yhoverformat:s("y"),zhoverformat:s("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},S.hoverinfo),showlegend:v({},S.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(G,H,e){var m=e(47128);G.exports=function(s,L){L.surfacecolor?m(s,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):m(s,L,{vals:L.z,containerStr:"",cLetter:"c"})}},79164:function(G,H,e){var m=e(67792).gl_surface3d,P=e(67792).ndarray,s=e(67792).ndarray_linear_interpolate.d2,L=e(70448),S=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function i(o,E,b){this.scene=o,this.uid=b,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=i.prototype;n.getXat=function(o,E,b,I){var D=v(this.data.x)?v(this.data.x[0])?this.data.x[E][o]:this.data.x[o]:o;return b===void 0?D:I.d2l(D,0,b)},n.getYat=function(o,E,b,I){var D=v(this.data.y)?v(this.data.y[0])?this.data.y[E][o]:this.data.y[E]:E;return b===void 0?D:I.d2l(D,0,b)},n.getZat=function(o,E,b,I){var D=this.data.z[E][o];return D===null&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[E][o]),b===void 0?D:I.d2l(D,0,b)},n.handlePick=function(o){if(o.object===this.surface){var E=(o.data.index[0]-1)/this.dataScaleX-1,b=(o.data.index[1]-1)/this.dataScaleY-1,I=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);o.index=[I,D],o.traceCoordinate=[this.getXat(I,D),this.getYat(I,D),this.getZat(I,D)],o.dataCoordinate=[this.getXat(I,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(I,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(I,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var k=o.dataCoordinate[N];k!=null&&(o.dataCoordinate[N]*=this.scene.dataScale[N])}var O=this.data.hovertext||this.data.text;return v(O)&&O[D]&&O[D][I]!==void 0?o.textLabel=O[D][I]:O?o.textLabel=O:o.textLabel="",o.data.dataCoordinate=o.dataCoordinate.slice(),this.surface.highlight(o.data),this.scene.glplot.spikes.position=o.dataCoordinate,!0}};function f(o){var E=o[0].rgb,b=o[o.length-1].rgb;return E[0]===b[0]&&E[1]===b[1]&&E[2]===b[2]&&E[3]===b[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(o,E){if(o<E)return 0;for(var b=0;Math.floor(o%E)===0;)o/=E,b++;return b}function g(o){for(var E=[],b=0;b<u.length;b++){var I=u[b];E.push(l(o,I))}return E}function h(o){for(var E=g(o),b=o,I=0;I<u.length;I++)if(E[I]>0){b=u[I];break}return b}function T(o,E){if(!(o<1||E<1)){for(var b=g(o),I=g(E),D=1,N=0;N<u.length;N++)D*=Math.pow(u[N],Math.max(b[N],I[N]));return D}}function c(o){if(o.length!==0){for(var E=1,b=0;b<o.length;b++)E=T(E,o[b]);return E}}n.calcXnums=function(o){var E,b=[];for(E=1;E<o;E++){var I=this.getXat(E-1,0),D=this.getXat(E,0);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?b[E-1]=Math.abs(D-I):b[E-1]=0}var N=0;for(E=1;E<o;E++)N+=b[E-1];for(E=1;E<o;E++)b[E-1]===0?b[E-1]=1:b[E-1]=Math.round(N/b[E-1]);return b},n.calcYnums=function(o){var E,b=[];for(E=1;E<o;E++){var I=this.getYat(0,E-1),D=this.getYat(0,E);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?b[E-1]=Math.abs(D-I):b[E-1]=0}var N=0;for(E=1;E<o;E++)N+=b[E-1];for(E=1;E<o;E++)b[E-1]===0?b[E-1]=1:b[E-1]=Math.round(N/b[E-1]);return b};var a=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=a[9],x=a[13];n.estimateScale=function(o,E){for(var b=E===0?this.calcXnums(o):this.calcYnums(o),I=1+c(b);I<d;)I*=2;for(;I>x;)I--,I/=h(I),I++,I<d&&(I=x);var D=Math.round(I/o);return D>1?D:1};function w(o,E,b){var I=b[8]+b[2]*E[0]+b[5]*E[1];return o[0]=(b[6]+b[0]*E[0]+b[3]*E[1])/I,o[1]=(b[7]+b[1]*E[0]+b[4]*E[1])/I,o}function C(o,E,b){return y(o,E,w,b),o}function y(o,E,b,I){for(var D=[0,0],N=o.shape[0],k=o.shape[1],O=0;O<N;O++)for(var F=0;F<k;F++)b(D,[O,F],I),o.set(O,F,s(E,D[0],D[1]));return o}n.refineCoords=function(o){for(var E=this.dataScaleX,b=this.dataScaleY,I=o[0].shape[0],D=o[0].shape[1],N=Math.floor(o[0].shape[0]*E+1)|0,k=Math.floor(o[0].shape[1]*b+1)|0,O=1+I+1,F=1+D+1,z=P(new Float32Array(O*F),[O,F]),B=[1/E,0,0,0,1/b,0,0,0,1],W=0;W<o.length;++W){this.surface.padField(z,o[W]);var J=P(new Float32Array(N*k),[N,k]);C(J,z,B),o[W]=J}};function M(o,E){for(var b=!1,I=0;I<o.length;I++)if(E===o[I]){b=!0;break}b===!1&&o.push(E)}n.setContourLevels=function(){var o=[[],[],[]],E=[!1,!1,!1],b=!1,I,D,N;for(I=0;I<3;++I)if(this.showContour[I]&&(b=!0,this.contourSize[I]>0&&this.contourStart[I]!==null&&this.contourEnd[I]!==null&&this.contourEnd[I]>this.contourStart[I]))for(E[I]=!0,D=this.contourStart[I];D<this.contourEnd[I];D+=this.contourSize[I])N=D*this.scene.dataScale[I],M(o[I],N);if(b){var k=[[],[],[]];for(I=0;I<3;++I)this.showContour[I]&&(k[I]=E[I]?o[I]:this.scene.contourLevels[I]);this.surface.update({levels:k})}},n.update=function(o){var E=this.scene,b=E.fullSceneLayout,I=this.surface,D=p(o),N=E.dataScale,k=o.z[0].length,O=o._ylength,F=E.contourLevels;this.data=o;var z,B,W,J,re=[];for(z=0;z<3;z++)for(re[z]=[],B=0;B<k;B++)re[z][B]=[];for(B=0;B<k;B++)for(W=0;W<O;W++)re[0][B][W]=this.getXat(B,W,o.xcalendar,b.xaxis),re[1][B][W]=this.getYat(B,W,o.ycalendar,b.yaxis),re[2][B][W]=this.getZat(B,W,o.zcalendar,b.zaxis);if(o.connectgaps)for(o._emptypoints=S(re[2]),L(re[2],o._emptypoints),o._interpolatedZ=[],B=0;B<k;B++)for(o._interpolatedZ[B]=[],W=0;W<O;W++)o._interpolatedZ[B][W]=re[2][B][W];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)J=re[z][B][W],J==null?re[z][B][W]=NaN:J=re[z][B][W]*=N[z];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)J=re[z][B][W],J!=null&&(this.minValues[z]>J&&(this.minValues[z]=J),this.maxValues[z]<J&&(this.maxValues[z]=J));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)J=re[z][B][W],J!=null&&(re[z][B][W]-=this.objectOffset[z]);var ne=[P(new Float32Array(k*O),[k,O]),P(new Float32Array(k*O),[k,O]),P(new Float32Array(k*O),[k,O])];for(z=0;z<3;z++)for(B=0;B<k;B++)for(W=0;W<O;W++)ne[z].set(B,W,re[z][B][W]);re=[];var le={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!o.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:o.opacityscale,opacity:o.opacity},$=t(o);if(le.intensityBounds=[$.min,$.max],o.surfacecolor){var K=P(new Float32Array(k*O),[k,O]);for(B=0;B<k;B++)for(W=0;W<O;W++)K.set(B,W,o.surfacecolor[W][B]);ne.push(K)}else le.intensityBounds[0]*=N[2],le.intensityBounds[1]*=N[2];(x<ne[0].shape[0]||x<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),o.surfacecolor&&(le.intensity=ne.pop());var ie=[!0,!0,!0],Y=["x","y","z"];for(z=0;z<3;++z){var Q=o.contours[Y[z]];ie[z]=Q.highlight,le.showContour[z]=Q.show||Q.highlight,le.showContour[z]&&(le.contourProject[z]=[Q.project.x,Q.project.y,Q.project.z],Q.show?(this.showContour[z]=!0,le.levels[z]=F[z],I.highlightColor[z]=le.contourColor[z]=r(Q.color),Q.usecolormap?I.highlightTint[z]=le.contourTint[z]=0:I.highlightTint[z]=le.contourTint[z]=1,le.contourWidth[z]=Q.width,this.contourStart[z]=Q.start,this.contourEnd[z]=Q.end,this.contourSize[z]=Q.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),Q.highlight&&(le.dynamicColor[z]=r(Q.highlightcolor),le.dynamicWidth[z]=Q.highlightwidth))}f(D)&&(le.vertexColor=!0),le.objectOffset=this.objectOffset,le.coords=ne,I.update(le),I.visible=o.visible,I.enableDynamic=ie,I.enableHighlight=ie,I.snapToData=!0,"lighting"in o&&(I.ambientLight=o.lighting.ambient,I.diffuseLight=o.lighting.diffuse,I.specularLight=o.lighting.specular,I.roughness=o.lighting.roughness,I.fresnel=o.lighting.fresnel),"lightposition"in o&&(I.lightPosition=[o.lightposition.x,o.lightposition.y,o.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(o,E){var b=o.glplot.gl,I=m({gl:b}),D=new i(o,I,E.uid);return I._trace=D,D.update(E),o.glplot.add(I),D}G.exports=A},60192:function(G,H,e){var m=e(24040),P=e(3400),s=e(27260),L=e(16716),S=.1;function v(n,f){for(var u=[],l=32,g=0;g<l;g++){var h=g/(l-1),T=f+(1-f)*(1-Math.pow(Math.sin(n*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,T))])}return u}function p(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(n,f,u,l){var g,h;function T(o,E){return P.coerce(n,f,L,o,E)}var c=T("x"),a=T("y"),d=T("z");if(!d||!d.length||c&&c.length<1||a&&a.length<1){f.visible=!1;return}f._xlength=Array.isArray(c)&&P.isArrayOrTypedArray(c[0])?d.length:d[0].length,f._ylength=d.length;var x=m.getComponentMethod("calendars","handleTraceDefaults");x(n,f,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(o){T(o)});var w=T("surfacecolor"),C=["x","y","z"];for(g=0;g<3;++g){var y="contours."+C[g],M=T(y+".show"),A=T(y+".highlight");if(M||A)for(h=0;h<3;++h)T(y+".project."+C[h]);M&&(T(y+".color"),T(y+".width"),T(y+".usecolormap")),A&&(T(y+".highlightcolor"),T(y+".highlightwidth")),T(y+".start"),T(y+".end"),T(y+".size")}w||(i(n,"zmin","cmin"),i(n,"zmax","cmax"),i(n,"zauto","cauto")),s(n,f,l,T,{prefix:"",cLetter:"c"}),t(n,f,l,T),f._length=null}function t(n,f,u,l){var g=l("opacityscale");g==="max"?f.opacityscale=[[0,S],[1,1]]:g==="min"?f.opacityscale=[[0,1],[1,S]]:g==="extremes"?f.opacityscale=v(1,S):p(g)||(f.opacityscale=void 0)}function i(n,f,u){f in n&&!(u in n)&&(n[u]=n[f])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(G,H,e){G.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(G,H,e){var m=e(13916),P=e(92880).extendFlat,s=e(67824).overrideAll,L=e(25376),S=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=G.exports=s({domain:S({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},m.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},m.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(G,H,e){var m=e(84888)._M,P=e(24752),s="table";H.name=s,H.plot=function(L){var S=m(L.calcdata,s)[0];S.length&&P(L,S)},H.clean=function(L,S,v,p){var r=p._has&&p._has(s),t=S._has&&S._has(s);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(G,H,e){var m=e(71688).wrap;G.exports=function(){return m({})}},23536:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(G,H,e){var m=e(23536),P=e(92880).extendFlat,s=e(38248),L=e(38116).isTypedArray,S=e(38116).isArrayOrTypedArray;G.exports=function(g,h){var T=r(h.cells.values),c=function(J){return J.slice(h.header.values.length,J.length)},a=r(h.header.values);a.length&&!a[0].length&&(a[0]=[""],a=r(a));var d=a.concat(c(T).map(function(){return t((a[0]||[""]).length)})),x=h.domain,w=Math.floor(g._fullLayout._size.w*(x.x[1]-x.x[0])),C=Math.floor(g._fullLayout._size.h*(x.y[1]-x.y[0])),y=h.header.values.length?d[0].map(function(){return h.header.height}):[m.emptyHeaderHeight],M=T.length?T[0].map(function(){return h.cells.height}):[],A=y.reduce(p,0),o=C-A,E=o+m.uplift,b=f(M,E),I=f(y,A),D=n(I,[]),N=n(b,D),k={},O=h._fullInput.columnorder;S(O)&&(O=Array.from(O)),O=O.concat(c(T.map(function(J,re){return re})));var F=d.map(function(J,re){var ne=S(h.columnwidth)?h.columnwidth[Math.min(re,h.columnwidth.length-1)]:h.columnwidth;return s(ne)?Number(ne):1}),z=F.reduce(p,0);F=F.map(function(J){return J/z*w});var B=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+g._context.staticPlot,translateX:x.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-x.y[1]),size:g._fullLayout._size,width:w,maxLineWidth:B,height:C,columnOrder:O,groupHeight:C,rowBlocks:N,headerRowBlocks:D,scrollY:0,cells:P({},h.cells,{values:T}),headerCells:P({},h.header,{values:d}),gdColumns:d.map(function(J){return J[0]}),gdColumnsOriginalOrder:d.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(J,re){var ne=k[J];k[J]=(ne||0)+1;var le=J+"__"+k[J];return{key:le,label:J,specIndex:re,xIndex:O[re],xScale:i,x:void 0,calcdata:void 0,columnWidth:F[re]}})};return W.columns.forEach(function(J){J.calcdata=W,J.x=i(J)}),W};function v(l){if(S(l)){for(var g=0,h=0;h<l.length;h++)g=Math.max(g,v(l[h]));return g}return l}function p(l,g){return l+g}function r(l){var g=l.slice(),h=1/0,T=0,c;for(c=0;c<g.length;c++)L(g[c])?g[c]=Array.from(g[c]):S(g[c])||(g[c]=[g[c]]),h=Math.min(h,g[c].length),T=Math.max(T,g[c].length);if(h!==T)for(c=0;c<g.length;c++){var a=T-g[c].length;a&&(g[c]=g[c].concat(t(a)))}return g}function t(l){for(var g=new Array(l),h=0;h<l;h++)g[h]="";return g}function i(l){return l.calcdata.columns.reduce(function(g,h){return h.xIndex<l.xIndex?g+h.columnWidth:g},0)}function n(l,g){var h=Object.keys(l);return h.map(function(T){return P({},l[T],{auxiliaryBlocks:g})})}function f(l,g){for(var h={},T,c=0,a=0,d=u(),x=0,w=0,C=0;C<l.length;C++)T=l[C],d.rows.push({rowIndex:C,rowHeight:T}),a+=T,(a>=g||C===l.length-1)&&(h[c]=d,d.key=w++,d.firstRowIndex=x,d.lastRowIndex=C,d=u(),c+=a,x=C+1,a=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(G,H,e){var m=e(92880).extendFlat;H.splitToPanels=function(s){var L=[0,0],S=m({},s,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:s.calcdata.headerCells.values[s.specIndex],rowBlocks:s.calcdata.headerRowBlocks,calcdata:m({},s.calcdata,{cells:s.calcdata.headerCells})}),v=m({},s,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks}),p=m({},s,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks});return[v,p,S]},H.splitToCells=function(s){var L=P(s);return(s.values||[]).slice(L[0],L[1]).map(function(S,v){var p=typeof S=="string"&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:s,calcdata:s.calcdata,page:s.page,rowBlocks:s.rowBlocks,value:S}})};function P(s){var L=s.rowBlocks[s.page],S=L?L.rows[0].rowIndex:0,v=L?S+L.rows.length:0;return[S,v]}},53212:function(G,H,e){var m=e(3400),P=e(60520),s=e(86968).Q;function L(S,v){for(var p=S.columnorder||[],r=S.header.values.length,t=p.slice(0,r),i=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return i.indexOf(u)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}G.exports=function(v,p,r,t){function i(n,f){return m.coerce(v,p,P,n,f)}s(p,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),m.coerceFont(i,"header.font",t.font),L(p,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),m.coerceFont(i,"cells.font",t.font),p._length=null}},41724:function(G,H,e){G.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(G,H,e){var m=e(23536),P=e(33428),s=e(3400),L=s.numberFormat,S=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,i=e(3400).cancelTransition,n=e(55992),f=e(53056),u=e(76308);G.exports=function(se,te){var fe=!se._context.staticPlot,ge=se._fullLayout._paper.selectAll("."+m.cn.table).data(te.map(function(Je){var Qe=S.unwrap(Je),ct=Qe.trace;return n(se,ct)}),S.keyFun);ge.exit().remove(),ge.enter().append("g").classed(m.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ge.attr("width",function(Je){return Je.width+Je.size.l+Je.size.r}).attr("height",function(Je){return Je.height+Je.size.t+Je.size.b}).attr("transform",function(Je){return t(Je.translateX,Je.translateY)});var be=ge.selectAll("."+m.cn.tableControlView).data(S.repeat,S.keyFun),xe=be.enter().append("g").classed(m.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var _e="onwheel"in document?"wheel":"mousewheel";xe.on("mousemove",function(Je){be.filter(function(Qe){return Je===Qe}).call(c,se)}).on(_e,function(Je){if(!Je.scrollbarState.wheeling){Je.scrollbarState.wheeling=!0;var Qe=Je.scrollY+P.event.deltaY,ct=J(se,be,null,Qe)(Je);ct||(P.event.stopPropagation(),P.event.preventDefault()),Je.scrollbarState.wheeling=!1}}).call(c,se,!0)}be.attr("transform",function(Je){return t(Je.size.l,Je.size.t)});var De=be.selectAll("."+m.cn.scrollBackground).data(S.repeat,S.keyFun);De.enter().append("rect").classed(m.cn.scrollBackground,!0).attr("fill","none"),De.attr("width",function(Je){return Je.width}).attr("height",function(Je){return Je.height}),be.each(function(Je){v.setClipUrl(P.select(this),g(se,Je),se)});var Fe=be.selectAll("."+m.cn.yColumn).data(function(Je){return Je.columns},S.keyFun);Fe.enter().append("g").classed(m.cn.yColumn,!0),Fe.exit().remove(),Fe.attr("transform",function(Je){return t(Je.x,0)}),fe&&Fe.call(P.behavior.drag().origin(function(Je){var Qe=P.select(this);return k(Qe,Je,-m.uplift),r(this),Je.calcdata.columnDragInProgress=!0,c(be.filter(function(ct){return Je.calcdata.key===ct.key}),se),Je}).on("drag",function(Je){var Qe=P.select(this),ct=function(Tt){return(Je===Tt?P.event.x:Tt.x)+Tt.columnWidth/2};Je.x=Math.max(-m.overdrag,Math.min(Je.calcdata.width+m.overdrag-Je.columnWidth,P.event.x));var ht=T(Fe).filter(function(Tt){return Tt.calcdata.key===Je.calcdata.key}),gt=ht.sort(function(Tt,Et){return ct(Tt)-ct(Et)});gt.forEach(function(Tt,Et){Tt.xIndex=Et,Tt.x=Je===Tt?Tt.x:Tt.xScale(Tt)}),Fe.filter(function(Tt){return Je!==Tt}).transition().ease(m.transitionEase).duration(m.transitionDuration).attr("transform",function(Tt){return t(Tt.x,0)}),Qe.call(i).attr("transform",t(Je.x,-m.uplift))}).on("dragend",function(Je){var Qe=P.select(this),ct=Je.calcdata;Je.x=Je.xScale(Je),Je.calcdata.columnDragInProgress=!1,k(Qe,Je,0),D(se,ct,ct.columns.map(function(ht){return ht.xIndex}))})),Fe.each(function(Je){v.setClipUrl(P.select(this),h(se,Je),se)});var Te=Fe.selectAll("."+m.cn.columnBlock).data(f.splitToPanels,S.keyFun);Te.enter().append("g").classed(m.cn.columnBlock,!0).attr("id",function(Je){return Je.key}),Te.style("cursor",function(Je){return Je.dragHandle?"ew-resize":Je.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Re=Te.filter(F),Se=Te.filter(O);fe&&Se.call(P.behavior.drag().origin(function(Je){return P.event.stopPropagation(),Je}).on("drag",J(se,be,-1)).on("dragend",function(){})),a(se,be,Re,Te),a(se,be,Se,Te);var Ie=be.selectAll("."+m.cn.scrollAreaClip).data(S.repeat,S.keyFun);Ie.enter().append("clipPath").classed(m.cn.scrollAreaClip,!0).attr("id",function(Je){return g(se,Je)});var Me=Ie.selectAll("."+m.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Me.enter().append("rect").classed(m.cn.scrollAreaClipRect,!0).attr("x",-m.overdrag).attr("y",-m.uplift).attr("fill","none"),Me.attr("width",function(Je){return Je.width+2*m.overdrag}).attr("height",function(Je){return Je.height+m.uplift});var Ve=Fe.selectAll("."+m.cn.columnBoundary).data(S.repeat,S.keyFun);Ve.enter().append("g").classed(m.cn.columnBoundary,!0);var et=Fe.selectAll("."+m.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);et.enter().append("clipPath").classed(m.cn.columnBoundaryClippath,!0),et.attr("id",function(Je){return h(se,Je)});var it=et.selectAll("."+m.cn.columnBoundaryRect).data(S.repeat,S.keyFun);it.enter().append("rect").classed(m.cn.columnBoundaryRect,!0).attr("fill","none"),it.attr("width",function(Je){return Je.columnWidth+2*l(Je)}).attr("height",function(Je){return Je.calcdata.height+2*l(Je)+m.uplift}).attr("x",function(Je){return-l(Je)}).attr("y",function(Je){return-l(Je)}),W(null,Se,be)};function l(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function g(j,se){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h(j,se){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(j){return[].concat.apply([],j.map(function(se){return se})).map(function(se){return se.__data__})}function c(j,se,te){function fe(Fe){var Te=Fe.rowBlocks;return ie(Te,Te.length-1)+(Te.length?Y(Te[Te.length-1],1/0):1)}var ge=j.selectAll("."+m.cn.scrollbarKit).data(S.repeat,S.keyFun);ge.enter().append("g").classed(m.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ge.each(function(Fe){var Te=Fe.scrollbarState;Te.totalHeight=fe(Fe),Te.scrollableAreaHeight=Fe.groupHeight-z(Fe),Te.currentlyVisibleHeight=Math.min(Te.totalHeight,Te.scrollableAreaHeight),Te.ratio=Te.currentlyVisibleHeight/Te.totalHeight,Te.barLength=Math.max(Te.ratio*Te.currentlyVisibleHeight,m.goldenRatio*m.scrollbarWidth),Te.barWiggleRoom=Te.currentlyVisibleHeight-Te.barLength,Te.wiggleRoom=Math.max(0,Te.totalHeight-Te.scrollableAreaHeight),Te.topY=Te.barWiggleRoom===0?0:Fe.scrollY/Te.wiggleRoom*Te.barWiggleRoom,Te.bottomY=Te.topY+Te.barLength,Te.dragMultiplier=Te.wiggleRoom/Te.barWiggleRoom}).attr("transform",function(Fe){var Te=Fe.width+m.scrollbarWidth/2+m.scrollbarOffset;return t(Te,z(Fe))});var be=ge.selectAll("."+m.cn.scrollbar).data(S.repeat,S.keyFun);be.enter().append("g").classed(m.cn.scrollbar,!0);var xe=be.selectAll("."+m.cn.scrollbarSlider).data(S.repeat,S.keyFun);xe.enter().append("g").classed(m.cn.scrollbarSlider,!0),xe.attr("transform",function(Fe){return t(0,Fe.scrollbarState.topY||0)});var _e=xe.selectAll("."+m.cn.scrollbarGlyph).data(S.repeat,S.keyFun);_e.enter().append("line").classed(m.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",m.scrollbarWidth).attr("stroke-linecap","round").attr("y1",m.scrollbarWidth/2),_e.attr("y2",function(Fe){return Fe.scrollbarState.barLength-m.scrollbarWidth/2}).attr("stroke-opacity",function(Fe){return Fe.columnDragInProgress||!Fe.scrollbarState.barWiggleRoom||te?0:.4}),_e.transition().delay(0).duration(0),_e.transition().delay(m.scrollbarHideDelay).duration(m.scrollbarHideDuration).attr("stroke-opacity",0);var De=be.selectAll("."+m.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);De.enter().append("line").classed(m.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",m.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Fe){var Te=P.event.y,Re=this.getBoundingClientRect(),Se=Fe.scrollbarState,Ie=Te-Re.top,Me=P.scale.linear().domain([0,Se.scrollableAreaHeight]).range([0,Se.totalHeight]).clamp(!0);Se.topY<=Ie&&Ie<=Se.bottomY||J(se,j,null,Me(Ie-Se.barLength/2))(Fe)}).call(P.behavior.drag().origin(function(Fe){return P.event.stopPropagation(),Fe.scrollbarState.scrollbarScrollInProgress=!0,Fe}).on("drag",J(se,j)).on("dragend",function(){})),De.attr("y2",function(Fe){return Fe.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(_e.remove(),De.remove())}function a(j,se,te,fe){var ge=d(te),be=x(ge);M(be);var xe=w(be);o(xe);var _e=y(be),De=C(_e);A(De),E(De,se,fe,j),K(be)}function d(j){var se=j.selectAll("."+m.cn.columnCells).data(S.repeat,S.keyFun);return se.enter().append("g").classed(m.cn.columnCells,!0),se.exit().remove(),se}function x(j){var se=j.selectAll("."+m.cn.columnCell).data(f.splitToCells,function(te){return te.keyWithinBlock});return se.enter().append("g").classed(m.cn.columnCell,!0),se.exit().remove(),se}function w(j){var se=j.selectAll("."+m.cn.cellRect).data(S.repeat,function(te){return te.keyWithinBlock});return se.enter().append("rect").classed(m.cn.cellRect,!0),se}function C(j){var se=j.selectAll("."+m.cn.cellText).data(S.repeat,function(te){return te.keyWithinBlock});return se.enter().append("text").classed(m.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function y(j){var se=j.selectAll("."+m.cn.cellTextHolder).data(S.repeat,function(te){return te.keyWithinBlock});return se.enter().append("g").classed(m.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function M(j){j.each(function(se,te){var fe=se.calcdata.cells.font,ge=se.column.specIndex,be={size:N(fe.size,ge,te),color:N(fe.color,ge,te),family:N(fe.family,ge,te),weight:N(fe.weight,ge,te),style:N(fe.style,ge,te),variant:N(fe.variant,ge,te),textcase:N(fe.textcase,ge,te),lineposition:N(fe.lineposition,ge,te),shadow:N(fe.shadow,ge,te)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,ge,te),se.cellBorderWidth=N(se.calcdata.cells.line.width,ge,te),se.font=be})}function A(j){j.each(function(se){v.font(P.select(this),se.font)})}function o(j){j.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var te=P.select(this);u.stroke(te,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(te,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function E(j,se,te,fe){j.text(function(ge){var be=ge.column.specIndex,xe=ge.rowNumber,_e=ge.value,De=typeof _e=="string",Fe=De&&_e.match(/<br>/i),Te=!De||Fe;ge.mayHaveMarkup=De&&_e.match(/[<&>]/);var Re=b(_e);ge.latex=Re;var Se=Re?"":N(ge.calcdata.cells.prefix,be,xe)||"",Ie=Re?"":N(ge.calcdata.cells.suffix,be,xe)||"",Me=Re?null:N(ge.calcdata.cells.format,be,xe)||null,Ve=Se+(Me?L(Me)(ge.value):ge.value)+Ie,et;ge.wrappingNeeded=!ge.wrapped&&!Te&&!Re&&(et=I(Ve)),ge.cellHeightMayIncrease=Fe||Re||ge.mayHaveMarkup||(et===void 0?I(Ve):et),ge.needsConvertToTspans=ge.mayHaveMarkup||ge.wrappingNeeded||ge.latex;var it;if(ge.wrappingNeeded){var Je=m.wrapSplitCharacter===" "?Ve.replace(/<a href=/ig,"<a_href="):Ve,Qe=Je.split(m.wrapSplitCharacter),ct=m.wrapSplitCharacter===" "?Qe.map(function(ht){return ht.replace(/<a_href=/ig,"<a href=")}):Qe;ge.fragments=ct.map(function(ht){return{text:ht,width:null}}),ge.fragments.push({fragment:m.wrapSpacer,width:null}),it=ct.join(m.lineBreaker)+m.lineBreaker+m.wrapSpacer}else delete ge.fragments,it=Ve;return it}).attr("dy",function(ge){return ge.needsConvertToTspans?0:"0.75em"}).each(function(ge){var be=this,xe=P.select(be),_e=ge.wrappingNeeded?ne:le;ge.needsConvertToTspans?p.convertToTspans(xe,fe,_e(te,be,se,fe,ge)):P.select(be.parentNode).attr("transform",function(De){return t($(De),m.cellPad)}).attr("text-anchor",function(De){return{left:"start",center:"middle",right:"end"}[De.align]})})}function b(j){return typeof j=="string"&&j.match(m.latexCheck)}function I(j){return j.indexOf(m.wrapSplitCharacter)!==-1}function D(j,se,te){var fe=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ge,be){return te[fe.indexOf(ge)]-te[fe.indexOf(be)]}),se.columnorder=te,j.emit("plotly_restyle")}function N(j,se,te){if(s.isArrayOrTypedArray(j)){var fe=j[Math.min(se,j.length-1)];return s.isArrayOrTypedArray(fe)?fe[Math.min(te,fe.length-1)]:fe}else return j}function k(j,se,te){j.transition().ease(m.releaseTransitionEase).duration(m.releaseTransitionDuration).attr("transform",t(se.x,te))}function O(j){return j.type==="cells"}function F(j){return j.type==="header"}function z(j){var se=j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(te,fe){return te+Y(fe,1/0)},0)}function B(j,se,te){for(var fe=[],ge=0,be=0;be<j.length;be++){for(var xe=j[be],_e=xe.rows,De=0,Fe=0;Fe<_e.length;Fe++)De+=_e[Fe].rowHeight;xe.allRowsHeight=De;var Te=ge+De,Re=se,Se=Re+te;Re<Te&&Se>ge&&fe.push(be),ge+=De}return fe}function W(j,se,te){var fe=T(se)[0];if(fe!==void 0){var ge=fe.rowBlocks,be=fe.calcdata,xe=ie(ge,ge.length),_e=fe.calcdata.groupHeight-z(fe),De=be.scrollY=Math.max(0,Math.min(xe-_e,be.scrollY)),Fe=B(ge,De,_e);Fe.length===1&&(Fe[0]===ge.length-1?Fe.unshift(Fe[0]-1):Fe.push(Fe[0]+1)),Fe[0]%2&&Fe.reverse(),se.each(function(Te,Re){Te.page=Fe[Re],Te.scrollY=De}),se.attr("transform",function(Te){var Re=ie(Te.rowBlocks,Te.page)-Te.scrollY;return t(0,Re)}),j&&(re(j,te,se,Fe,fe.prevPages,fe,0),re(j,te,se,Fe,fe.prevPages,fe,1),c(te,j))}}function J(j,se,te,fe){return function(be){var xe=be.calcdata?be.calcdata:be,_e=se.filter(function(Re){return xe.key===Re.key}),De=te||xe.scrollbarState.dragMultiplier,Fe=xe.scrollY;xe.scrollY=fe===void 0?xe.scrollY+De*P.event.dy:fe;var Te=_e.selectAll("."+m.cn.yColumn).selectAll("."+m.cn.columnBlock).filter(O);return W(j,Te,_e),xe.scrollY===Fe}}function re(j,se,te,fe,ge,be,xe){var _e=fe[xe]!==ge[xe];_e&&(clearTimeout(be.currentRepaint[xe]),be.currentRepaint[xe]=setTimeout(function(){var De=te.filter(function(Fe,Te){return Te===xe&&fe[Te]!==ge[Te]});a(j,se,De,te),ge[xe]=fe[xe]}))}function ne(j,se,te,fe){return function(){var be=P.select(se.parentNode);be.each(function(xe){var _e=xe.fragments;be.selectAll("tspan.line").each(function(Ve,et){_e[et].width=this.getComputedTextLength()});var De=_e[_e.length-1].width,Fe=_e.slice(0,-1),Te=[],Re,Se,Ie=0,Me=xe.column.columnWidth-2*m.cellPad;for(xe.value="";Fe.length;)Re=Fe.shift(),Se=Re.width+De,Ie+Se>Me&&(xe.value+=Te.join(m.wrapSpacer)+m.lineBreaker,Te=[],Ie=0),Te.push(Re.text),Ie+=Se;Ie&&(xe.value+=Te.join(m.wrapSpacer)),xe.wrapped=!0}),be.selectAll("tspan.line").remove(),E(be.select("."+m.cn.cellText),te,j,fe),P.select(se.parentNode.parentNode).call(K)}}function le(j,se,te,fe,ge){return function(){if(!ge.settledY){var xe=P.select(se.parentNode),_e=oe(ge),De=ge.key-_e.firstRowIndex,Fe=_e.rows[De].rowHeight,Te=ge.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*m.cellPad:Fe,Re=Math.max(Te,Fe),Se=Re-_e.rows[De].rowHeight;Se&&(_e.rows[De].rowHeight=Re,j.selectAll("."+m.cn.columnCell).call(K),W(null,j.filter(O),0),c(te,fe,!0)),xe.attr("transform",function(){var Ie=this,Me=Ie.parentNode,Ve=Me.getBoundingClientRect(),et=P.select(Ie.parentNode).select("."+m.cn.cellRect).node().getBoundingClientRect(),it=Ie.transform.baseVal.consolidate(),Je=et.top-Ve.top+(it?it.matrix.f:m.cellPad);return t($(ge,P.select(Ie.parentNode).select("."+m.cn.cellTextHolder).node().getBoundingClientRect().width),Je)}),ge.settledY=!0}}}function $(j,se){switch(j.align){case"left":return m.cellPad;case"right":return j.column.columnWidth-(se||0)-m.cellPad;case"center":return(j.column.columnWidth-(se||0))/2;default:return m.cellPad}}function K(j){j.attr("transform",function(se){var te=se.rowBlocks[0].auxiliaryBlocks.reduce(function(xe,_e){return xe+Y(_e,1/0)},0),fe=oe(se),ge=Y(fe,se.key),be=ge+te;return t(0,be)}).selectAll("."+m.cn.cellRect).attr("height",function(se){return X(oe(se),se.key).rowHeight})}function ie(j,se){for(var te=0,fe=se-1;fe>=0;fe--)te+=Q(j[fe]);return te}function Y(j,se){for(var te=0,fe=0;fe<j.rows.length&&j.rows[fe].rowIndex<se;fe++)te+=j.rows[fe].rowHeight;return te}function Q(j){var se=j.allRowsHeight;if(se!==void 0)return se;for(var te=0,fe=0;fe<j.rows.length;fe++)te+=j.rows[fe].rowHeight;return j.allRowsHeight=te,te}function oe(j){return j.rowBlocks[j.page]}function X(j,se){return j.rows[se-j.firstRowIndex]}},40516:function(G,H,e){var m=e(21776).Ks,P=e(21776).Gw,s=e(49084),L=e(86968).u,S=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},S.textfont,{}),editType:"calc"},text:S.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:m({},{keys:p.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:r({},S.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:S.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(G,H,e){var m=e(7316);H.name="treemap",H.plot=function(P,s,L,S){m.plotBasePlot(H.name,P,s,L,S)},H.clean=function(P,s,L,S){m.cleanBasePlot(H.name,P,s,L,S)}},97840:function(G,H,e){var m=e(3776);H.r=function(P,s){return m.calc(P,s)},H.q=function(P){return m._runCrossTraceCalc("treemap",P)}},32984:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(G,H,e){var m=e(3400),P=e(40516),s=e(76308),L=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;G.exports=function(f,u,l,g){function h(o,E){return m.coerce(f,u,P,o,E)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var a=h("values");a&&a.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),u.texttemplate||h("textinfo",m.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),C="auto";S(f,u,g,h,C,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=u.textposition.indexOf("bottom")!==-1;p(f,u,g,h);var M=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;M?i(f,u,g,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var A=u.textfont.size*2;h("marker.pad.t",y?A/4:A),h("marker.pad.l",A/4),h("marker.pad.r",A/4),h("marker.pad.b",y?A:A/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:s.contrast(g.paper_bgcolor)}}},w&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(u,g,h),u._length=null}},95808:function(G,H,e){var m=e(33428),P=e(78176),s=e(82744),L=s.clearMinTextSize,S=e(60100).resizeText,v=e(52960);G.exports=function(r,t,i,n,f){var u=f.type,l=f.drawDescendants,g=r._fullLayout,h=g["_"+u+"layer"],T,c,a=!i;if(L(u,g),T=h.selectAll("g.trace."+u).data(t,function(x){return x[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!g.uniformtext.mode&&P.hasTransition(i)){n&&(c=n());var d=m.transition().duration(i.duration).ease(i.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,i,l)})})}else T.each(function(x){v(r,x,this,i,l)}),g.uniformtext.mode&&S(r,h.selectAll(".trace"),u);a&&T.exit().remove()}},27336:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(72736),S=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=!0;G.exports=function(f,u,l,g,h){var T=h.barDifY,c=h.width,a=h.height,d=h.viewX,x=h.viewY,w=h.pathSlice,C=h.toMoveInsideSlice,y=h.strTransform,M=h.hasTransition,A=h.handleSlicesExit,o=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,b={},I=f._context.staticPlot,D=f._fullLayout,N=u[0],k=N.trace,O=N.hierarchy,F=c/k._entryDepth,z=r.listPath(l.data,"id"),B=S(O.copy(),[c,a],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();B=B.filter(function(J){var re=z.indexOf(J.data.id);return re===-1?!1:(J.x0=F*re,J.x1=F*(re+1),J.y0=T,J.y1=T+a,J.onPathbar=!0,!0)}),B.reverse(),g=g.data(B,r.getPtId),g.enter().append("g").classed("pathbar",!0),A(g,i,b,[c,a],w),g.order();var W=g;M&&(W=W.transition().each("end",function(){var J=m.select(this);r.setSliceCursor(J,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(J){J._x0=d(J.x0),J._x1=d(J.x1),J._y0=x(J.y0),J._y1=x(J.y1),J._hoverX=d(J.x1-Math.min(c,a)/2),J._hoverY=x(J.y1-a/2);var re=m.select(this),ne=P.ensureSingle(re,"path","surface",function(ie){ie.style("pointer-events",I?"none":"all")});M?ne.transition().attrTween("d",function(ie){var Y=o(ie,i,b,[c,a]);return function(Q){return w(Y(Q))}}):ne.attr("d",w),re.call(t,l,f,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),ne.call(v,J,k,f,{hovered:!1}),J._text=(r.getPtLabel(J)||"").split("<br>").join(" ")||"";var le=P.ensureSingle(re,"g","slicetext"),$=P.ensureSingle(le,"text","",function(ie){ie.attr("data-notex",1)}),K=P.ensureUniformFontSize(f,r.determineTextFont(k,J,D.font,{onPathbar:!0}));$.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(s.font,K).call(L.convertToTspans,f),J.textBB=s.bBox($.node()),J.transform=C(J,{fontSize:K.size,onPathbar:!0}),J.transform.fontSize=K.size,M?$.transition().attrTween("transform",function(ie){var Y=E(ie,i,b,[c,a]);return function(Q){return y(Y(Q))}}):$.attr("transform",y(J))})}},76477:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(72736),S=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;G.exports=function(u,l,g,h,T){var c=T.width,a=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,y=T.strTransform,M=T.hasTransition,A=T.handleSlicesExit,o=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,b=T.prevEntry,I={},D=u._context.staticPlot,N=u._fullLayout,k=l[0],O=k.trace,F=O.textposition.indexOf("left")!==-1,z=O.textposition.indexOf("right")!==-1,B=O.textposition.indexOf("bottom")!==-1,W=!B&&!O.marker.pad.t||B&&!O.marker.pad.b,J=S(g,[c,a],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}),re=J.descendants(),ne=1/0,le=-1/0;re.forEach(function(Q){var oe=Q.depth;oe>=O._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(ne=Math.min(ne,oe),le=Math.max(le,oe))}),h=h.data(re,r.getPtId),O._maxVisibleLayers=isFinite(le)?le-ne+1:0,h.enter().append("g").classed("slice",!0),A(h,n,I,[c,a],w),h.order();var $=null;if(M&&b){var K=r.getPtId(b);h.each(function(Q){$===null&&r.getPtId(Q)===K&&($={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var ie=function(){return $||{x0:0,x1:c,y0:0,y1:a}},Y=h;return M&&(Y=Y.transition().each("end",function(){var Q=m.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(Q){var oe=r.isHeader(Q,O);Q._x0=d(Q.x0),Q._x1=d(Q.x1),Q._y0=x(Q.y0),Q._y1=x(Q.y1),Q._hoverX=d(Q.x1-O.marker.pad.r),Q._hoverY=x(B?Q.y1-O.marker.pad.b/2:Q.y0+O.marker.pad.t/2);var X=m.select(this),j=P.ensureSingle(X,"path","surface",function(xe){xe.style("pointer-events",D?"none":"all")});M?j.transition().attrTween("d",function(xe){var _e=o(xe,n,ie(),[c,a]);return function(De){return w(_e(De))}}):j.attr("d",w),X.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),j.call(v,Q,O,u,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":oe?Q._text=W?"":r.getPtLabel(Q)||"":Q._text=i(Q,g,O,l,N)||"";var se=P.ensureSingle(X,"g","slicetext"),te=P.ensureSingle(se,"text","",function(xe){xe.attr("data-notex",1)}),fe=P.ensureUniformFontSize(u,r.determineTextFont(O,Q,N.font)),ge=Q._text||" ",be=oe&&ge.indexOf("<br>")===-1;te.text(ge).classed("slicetext",!0).attr("text-anchor",z?"end":F||be?"start":"middle").call(s.font,fe).call(L.convertToTspans,u),Q.textBB=s.bBox(te.node()),Q.transform=C(Q,{fontSize:fe.size,isHeader:oe}),Q.transform.fontSize=fe.size,M?te.transition().attrTween("transform",function(xe){var _e=E(xe,n,ie(),[c,a]);return function(De){return y(_e(De))}}):te.attr("transform",y(Q))}),$}},83024:function(G){G.exports=function H(e,m,P){var s;P.swapXY&&(s=e.x0,e.x0=e.y0,e.y0=s,s=e.x1,e.x1=e.y1,e.y1=s),P.flipX&&(s=e.x0,e.x0=m[0]-e.x1,e.x1=m[0]-s),P.flipY&&(s=e.y0,e.y0=m[1]-e.y1,e.y1=m[1]-s);var L=e.children;if(L)for(var S=0;S<L.length;S++)H(L[S],m,P)}},31991:function(G,H,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(G,H,e){var m=e(3400),P=e(45392);G.exports=function(L,S){function v(p,r){return m.coerce(L,S,P,p,r)}v("treemapcolorway",S.colorway),v("extendtreemapcolors")}},13832:function(G,H,e){var m=e(74148),P=e(83024);G.exports=function(S,v,p){var r=p.flipX,t=p.flipY,i=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],f=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],g;i&&(g=f,f=n,n=g,g=u,u=l,l=g);var h=m.treemap().tile(s(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(n).paddingBottom(l).size(i?[v[1],v[0]]:v)(S);return(i||r||t)&&P(h,v,{swapXY:i,flipX:r,flipY:t}),h};function s(L,S){switch(L){case"squarify":return m.treemapSquarify.ratio(S);case"binary":return m.treemapBinary;case"dice":return m.treemapDice;case"slice":return m.treemapSlice;default:return m.treemapSliceDice}}},53264:function(G,H,e){var m=e(95808),P=e(76477);G.exports=function(L,S,v,p){return m(L,S,v,p,{type:"treemap",drawDescendants:P})}},52960:function(G,H,e){var m=e(33428),P=e(67756).qy,s=e(78176),L=e(3400),S=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,i=e(32984),n=e(27336);function f(u){return s.isHierarchyRoot(u)?"":s.getPtId(u)}G.exports=function(l,g,h,T,c){var a=l._fullLayout,d=g[0],x=d.trace,w=x.type,C=w==="icicle",y=d.hierarchy,M=s.findEntryWithLevel(y,x.level),A=m.select(h),o=A.selectAll("g.pathbar"),E=A.selectAll("g.slice");if(!M){o.remove(),E.remove();return}var b=s.isHierarchyRoot(M),I=!a.uniformtext.mode&&s.hasTransition(T),D=s.getMaxDepth(x),N=function(ze){return ze.data.depth-M.data.depth<D},k=a._size,O=x.domain,F=k.w*(O.x[1]-O.x[0]),z=k.h*(O.y[1]-O.y[0]),B=F,W=x.pathbar.thickness,J=x.marker.line.width+i.gapWithPathbar,re=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?z+J:-(W+J):0,ne={x0:B,x1:B,y0:re,y1:re+W},le=function(ze,He,Ge){var We=x.tiling.pad,Le=function(he){return he-We<=He.x0},Pe=function(he){return he+We>=He.x1},je=function(he){return he-We<=He.y0},Ce=function(he){return he+We>=He.y1};return ze.x0===He.x0&&ze.x1===He.x1&&ze.y0===He.y0&&ze.y1===He.y1?{x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1}:{x0:Le(ze.x0-We)?0:Pe(ze.x0-We)?Ge[0]:ze.x0,x1:Le(ze.x1+We)?0:Pe(ze.x1+We)?Ge[0]:ze.x1,y0:je(ze.y0-We)?0:Ce(ze.y0-We)?Ge[1]:ze.y0,y1:je(ze.y1+We)?0:Ce(ze.y1+We)?Ge[1]:ze.y1}},$=null,K={},ie={},Y=null,Q=function(ze,He){return He?K[f(ze)]:ie[f(ze)]},oe=function(ze,He,Ge,We){if(He)return K[f(y)]||ne;var Le=ie[x.level]||Ge;return N(ze)?le(ze,Le,We):{}};d.hasMultipleRoots&&b&&D++,x._maxDepth=D,x._backgroundColor=a.paper_bgcolor,x._entryDepth=M.data.depth,x._atRootLevel=b;var X=-F/2+k.l+k.w*(O.x[1]+O.x[0])/2,j=-z/2+k.t+k.h*(1-(O.y[1]+O.y[0])/2),se=function(ze){return X+ze},te=function(ze){return j+ze},fe=te(0),ge=se(0),be=function(ze){return ge+ze},xe=function(ze){return fe+ze};function _e(ze,He){return ze+","+He}var De=be(0),Fe=function(ze){ze.x=Math.max(De,ze.x)},Te=x.pathbar.edgeshape,Re=function(ze){var He=be(Math.max(Math.min(ze.x0,ze.x0),0)),Ge=be(Math.min(Math.max(ze.x1,ze.x1),B)),We=xe(ze.y0),Le=xe(ze.y1),Pe=W/2,je={},Ce={};je.x=He,Ce.x=Ge,je.y=Ce.y=(We+Le)/2;var he={x:He,y:We},me={x:Ge,y:We},Ne={x:Ge,y:Le},$e={x:He,y:Le};return Te===">"?(he.x-=Pe,me.x-=Pe,Ne.x-=Pe,$e.x-=Pe):Te==="/"?(Ne.x-=Pe,$e.x-=Pe,je.x-=Pe/2,Ce.x-=Pe/2):Te==="\\"?(he.x-=Pe,me.x-=Pe,je.x-=Pe/2,Ce.x-=Pe/2):Te==="<"&&(je.x-=Pe,Ce.x-=Pe),Fe(he),Fe($e),Fe(je),Fe(me),Fe(Ne),Fe(Ce),"M"+_e(he.x,he.y)+"L"+_e(me.x,me.y)+"L"+_e(Ce.x,Ce.y)+"L"+_e(Ne.x,Ne.y)+"L"+_e($e.x,$e.y)+"L"+_e(je.x,je.y)+"Z"},Se=x[C?"tiling":"marker"].pad,Ie=function(ze){return x.textposition.indexOf(ze)!==-1},Me=Ie("top"),Ve=Ie("left"),et=Ie("right"),it=Ie("bottom"),Je=function(ze){var He=se(ze.x0),Ge=se(ze.x1),We=te(ze.y0),Le=te(ze.y1),Pe=Ge-He,je=Le-We;if(!Pe||!je)return"";var Ce=x.marker.cornerradius||0,he=Math.min(Ce,Pe/2,je/2);he&&ze.data&&ze.data.data&&ze.data.data.label&&(Me&&(he=Math.min(he,Se.t)),Ve&&(he=Math.min(he,Se.l)),et&&(he=Math.min(he,Se.r)),it&&(he=Math.min(he,Se.b)));var me=function(Ne,$e){return he?"a"+_e(he,he)+" 0 0 1 "+_e(Ne,$e):""};return"M"+_e(He,We+he)+me(he,-he)+"L"+_e(Ge-he,We)+me(he,he)+"L"+_e(Ge,Le-he)+me(-he,he)+"L"+_e(He+he,Le)+me(-he,-he)+"Z"},Qe=function(ze,He){var Ge=ze.x0,We=ze.x1,Le=ze.y0,Pe=ze.y1,je=ze.textBB,Ce=Me||He.isHeader&&!it,he=Ce?"start":it?"end":"middle",me=Ie("right"),Ne=Ie("left")||He.onPathbar,$e=Ne?-1:me?1:0;if(He.isHeader){if(Ge+=(C?Se:Se.l)-S,We-=(C?Se:Se.r)-S,Ge>=We){var ot=(Ge+We)/2;Ge=ot,We=ot}var st;it?(st=Pe-(C?Se:Se.b),Le<st&&st<Pe&&(Le=st)):(st=Le+(C?Se:Se.t),Le<st&&st<Pe&&(Pe=st))}var Wt=p(Ge,We,Le,Pe,je,{isHorizontal:!1,constrained:!0,angle:0,anchor:he,leftToRight:$e});return Wt.fontSize=He.fontSize,Wt.targetX=se(Wt.targetX),Wt.targetY=te(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(Ge!==We&&Le!==Pe&&t(x.type,Wt,a),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ct=function(ze,He){for(var Ge,We=0,Le=ze;!Ge&&We<D;)We++,Le=Le.parent,Le?Ge=Q(Le,He):We=D;return Ge||{}},ht=function(ze,He,Ge,We){var Le=Q(ze,He),Pe;if(He)Pe=ne;else{var je=Q(M,He);je?Pe=le(ze,je,We):Pe={}}return P(Le,Pe)},gt=function(ze,He,Ge,We,Le){var Pe=Q(ze,He),je;if(Pe)je=Pe;else if(He)je=ne;else if($)if(ze.parent){var Ce=Y||Ge;Ce&&!He?je=le(ze,Ce,We):(je={},L.extendFlat(je,ct(ze,He)))}else je=L.extendFlat({},ze),C&&(Le.orientation==="h"?Le.flipX?je.x0=ze.x1:je.x1=0:Le.flipY?je.y0=ze.y1:je.y1=0);else je={};return P(je,{x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1})},Tt=function(ze,He,Ge,We){var Le=Q(ze,He),Pe={},je=oe(ze,He,Ge,We);L.extendFlat(Pe,{transform:Qe({x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1,textBB:ze.textBB,_text:ze._text},{isHeader:s.isHeader(ze,x)})}),Le?Pe=Le:ze.parent&&L.extendFlat(Pe,ct(ze,He));var Ce=ze.transform;return ze.x0!==ze.x1&&ze.y0!==ze.y1&&t(x.type,Ce,a),P(Pe,{transform:{scale:Ce.scale,rotate:Ce.rotate,textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY}})},Et=function(ze,He,Ge,We,Le){var Pe=We[0],je=We[1];I?ze.exit().transition().each(function(){var Ce=m.select(this),he=Ce.select("path.surface");he.transition().attrTween("d",function(Ne){var $e=ht(Ne,He,Ge,[Pe,je]);return function(ot){return Le($e(ot))}});var me=Ce.select("g.slicetext");me.attr("opacity",0)}).remove():ze.exit().remove()},rt=function(ze){var He=ze.transform;return ze.x0!==ze.x1&&ze.y0!==ze.y1&&t(x.type,He,a),L.getTextTransform({textX:He.textX,textY:He.textY,anchorX:He.anchorX,anchorY:He.anchorY,targetX:He.targetX,targetY:He.targetY,scale:He.scale,rotate:He.rotate})};I&&(o.each(function(ze){K[f(ze)]={x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1},ze.transform&&(K[f(ze)].transform={textX:ze.transform.textX,textY:ze.transform.textY,anchorX:ze.transform.anchorX,anchorY:ze.transform.anchorY,targetX:ze.transform.targetX,targetY:ze.transform.targetY,scale:ze.transform.scale,rotate:ze.transform.rotate})}),E.each(function(ze){ie[f(ze)]={x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1},ze.transform&&(ie[f(ze)].transform={textX:ze.transform.textX,textY:ze.transform.textY,anchorX:ze.transform.anchorX,anchorY:ze.transform.anchorY,targetX:ze.transform.targetX,targetY:ze.transform.targetY,scale:ze.transform.scale,rotate:ze.transform.rotate}),!$&&s.isEntry(ze)&&($=ze)})),Y=c(l,g,M,E,{width:F,height:z,viewX:se,viewY:te,pathSlice:Je,toMoveInsideSlice:Qe,prevEntry:$,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Tt,handleSlicesExit:Et,hasTransition:I,strTransform:rt}),x.pathbar.visible?n(l,g,M,o,{barDifY:re,width:B,height:W,viewX:be,viewY:xe,pathSlice:Re,toMoveInsideSlice:Qe,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Tt,handleSlicesExit:Et,hasTransition:I,strTransform:rt}):o.remove()}},66192:function(G,H,e){var m=e(33428),P=e(76308),s=e(3400),L=e(78176),S=e(82744).resizeText,v=e(60404);function p(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");S(t,i,"treemap"),i.each(function(n){var f=m.select(this),u=n[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(g){m.select(this).call(r,g,l,t,{hovered:!1})})})}function r(t,i,n,f,u){var l=(u||{}).hovered,g=i.data.data,h=g.i,T,c,a=g.color,d=L.isHierarchyRoot(i),x=1;if(l)T=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&a===n.root.color)x=100,T="rgba(0,0,0,0)",c=0;else if(T=s.castOption(n,h,"marker.line.color")||P.defaultLine,c=s.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var w=n.marker.depthfade;if(w){var C=P.combine(P.addOpacity(n._backgroundColor,.75),a),y;if(w===!0){var M=L.getMaxDepth(n);isFinite(M)?L.isLeaf(i)?y=0:y=n._maxVisibleLayers-(i.data.depth-n._entryDepth):y=i.data.height+1}else y=i.data.depth-n._entryDepth,n._atRootLevel||y++;if(y>0)for(var A=0;A<y;A++){var o=.5*A/y;a=P.combine(P.addOpacity(C,o),a)}}}t.call(v,i,n,f,a).style("stroke-width",c).call(P.stroke,T).style("opacity",x)}G.exports={style:p,styleOne:r}},13988:function(G,H,e){var m=e(63188),P=e(92880).extendFlat,s=e(29736).axisHoverFormat;G.exports={y:m.y,x:m.x,x0:m.x0,y0:m.y0,xhoverformat:s("x"),yhoverformat:s("y"),name:P({},m.name,{}),orientation:P({},m.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:m.fillcolor,points:P({},m.boxpoints,{}),jitter:P({},m.jitter,{}),pointpos:P({},m.pointpos,{}),width:P({},m.width,{}),marker:m.marker,text:m.text,hovertext:m.hovertext,hovertemplate:m.hovertemplate,quartilemethod:m.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:m.selected,unselected:m.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:m.zorder}},67064:function(G,H,e){var m=e(3400),P=e(54460),s=e(62555),L=e(63800),S=e(39032).BADNUM;G.exports=function(i,n){var f=s(i,n);if(f[0].t.empty)return f;for(var u=i._fullLayout,l=P.getFromId(i,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,h=-1/0,T=0,c=0,a=0;a<f.length;a++){var d=f[a],x=d.pts.map(L.extractVal),w=d.bandwidth=p(n,d,x),C=d.span=r(n,d,l,w);if(d.min===d.max&&w===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=w,T=Math.max(T,1);else{var y=C[1]-C[0],M=Math.ceil(y/(w/3)),A=y/M;if(!isFinite(A)||!isFinite(M))return m.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var o=L.makeKDE(d,n,x);d.density=new Array(M);for(var E=0,b=C[0];b<C[1]+A/2;E++,b+=A){var I=o(b);d.density[E]={v:I,t:b},T=Math.max(T,I)}}c=Math.max(c,x.length),g=Math.min(g,C[0]),h=Math.max(h,C[1])}var D=P.findExtremes(l,[g,h],{padded:!0});if(n._extremes[l._id]=D,n.width)f[0].t.maxKDE=T;else{var N=u._violinScaleGroupStats,k=n.scalegroup,O=N[k];O?(O.maxKDE=Math.max(O.maxKDE,T),O.maxCount=Math.max(O.maxCount,c)):N[k]={maxKDE:T,maxCount:c}}return f[0].t.labels.kde=m._(i,"kde:"),f};function v(t,i,n){var f=Math.min(i,n/1.349);return 1.059*f*Math.pow(t,-.2)}function p(t,i,n){var f=i.max-i.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=n.length,l=m.stdev(n,u-1,i.mean);return Math.max(v(u,l,i.q3-i.q1),f/100)}function r(t,i,n,f){var u=t.spanmode,l=t.span||[],g=[i.min,i.max],h=[i.min-2*f,i.max+2*f],T;function c(d){var x=l[d],w=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,t[i.valLetter+"calendar"]);return w===S?h[d]:w}u==="soft"?T=h:u==="hard"?T=g:T=[c(0),c(1)];var a={type:"linear",range:T};return P.setConvert(a),a.cleanRange(),T}},14348:function(G,H,e){var m=e(96404).setPositionOffset,P=["v","h"];G.exports=function(L,S){for(var v=L.calcdata,p=S.xaxis,r=S.yaxis,t=0;t<P.length;t++){for(var i=P[t],n=i==="h"?r:p,f=[],u=0;u<v.length;u++){var l=v[u],g=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!g.empty&&h.orientation===i&&h.xaxis===p._id&&h.yaxis===r._id&&f.push(u)}m("violin",L,f,n)}}},36240:function(G,H,e){var m=e(3400),P=e(76308),s=e(90624),L=e(13988);G.exports=function(v,p,r,t){function i(A,o){return m.coerce(v,p,L,A,o)}function n(A,o){return m.coerce2(v,p,L,A,o)}if(s.handleSampleDefaults(v,p,i,t),p.visible!==!1){i("bandwidth"),i("side");var f=i("width");f||(i("scalegroup",p.name),i("scalemode"));var u=i("span"),l;Array.isArray(u)&&(l="manual"),i("spanmode",l);var g=i("line.color",(v.marker||{}).color||r),h=i("line.width"),T=i("fillcolor",P.addOpacity(p.line.color,.5));s.handlePointsDefaults(v,p,i,{prefix:""});var c=n("box.width"),a=n("box.fillcolor",T),d=n("box.line.color",g),x=n("box.line.width",h),w=i("box.visible",!!(c||a||d||x));w||(p.box={visible:!1});var C=n("meanline.color",g),y=n("meanline.width",h),M=i("meanline.visible",!!(C||y));M||(p.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(G,H,e){var m=e(3400),P={gaussian:function(s){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*s*s)}};H.makeKDE=function(s,L,S){var v=S.length,p=P.gaussian,r=s.bandwidth,t=1/(v*r);return function(i){for(var n=0,f=0;f<v;f++)n+=p((i-S[f])/r);return t*n}},H.getPositionOnKdePath=function(s,L,S){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=m.findPointOnPath(s.path,S,p,{pathLength:s.pathLength}),t=s.posCenterPx,i=r[v],n=L.side==="both"?2*t-i:t;return[i,n]},H.getKdeValue=function(s,L,S){var v=s.pts.map(H.extractVal),p=H.makeKDE(s,L,v);return p(S)/s.posDensityScale},H.extractVal=function(s){return s.v}},78e3:function(G,H,e){var m=e(76308),P=e(3400),s=e(54460),L=e(27576),S=e(63800);G.exports=function(p,r,t,i,n){n||(n={});var f=n.hoverLayer,u=p.cd,l=u[0].trace,g=l.hoveron,h=g.indexOf("violins")!==-1,T=g.indexOf("kde")!==-1,c=[],a,d;if(h||T){var x=L.hoverOnBoxes(p,r,t,i);if(T&&x.length>0){var w=p.xa,C=p.ya,y,M,A,o,E;l.orientation==="h"?(E=r,y="y",A=C,M="x",o=w):(E=t,y="x",A=w,M="y",o=C);var b=u[p.index];if(E>=b.span[0]&&E<=b.span[1]){var I=P.extendFlat({},p),D=o.c2p(E,!0),N=S.getKdeValue(b,l,E),k=S.getPositionOnKdePath(b,l,D),O=A._offset,F=A._length;I[y+"0"]=k[0],I[y+"1"]=k[1],I[M+"0"]=I[M+"1"]=D,I[M+"Label"]=M+": "+s.hoverLabelText(o,E,l[M+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var z=0,B=0;B<x.length;B++)if(x[B].attr==="med"){z=B;break}I.spikeDistance=x[z].spikeDistance;var W=y+"Spike";I[W]=x[z][W],x[z].spikeDistance=void 0,x[z][W]=void 0,I.hovertemplate=!1,c.push(I),d={},d[y+"1"]=P.constrain(O+k[0],O,O+F),d[y+"2"]=P.constrain(O+k[1],O,O+F),d[M+"1"]=d[M+"2"]=o._offset+D}}h&&(c=c.concat(x))}g.indexOf("points")!==-1&&(a=L.hoverOnPoints(p,r,t));var J=f.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return J.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(d).call(m.stroke,p.color),i==="closest"?a?[a]:c:(a&&c.push(a),c)}},22869:function(G,H,e){G.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(G,H,e){var m=e(16560),P=e(3400).extendFlat;G.exports={violinmode:P({},m.boxmode,{}),violingap:P({},m.boxgap,{}),violingroupgap:P({},m.boxgroupgap,{})}},8939:function(G,H,e){var m=e(3400),P=e(98228),s=e(68832);G.exports=function(S,v,p){function r(t,i){return m.coerce(S,v,P,t,i)}s._supply(S,v,p,r,"violin")}},5140:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(18728),S=e(52340),v=e(63800);G.exports=function(r,t,i,n){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,g=t.yaxis;function h(T,c){var a=S(T,{xaxis:l,yaxis:g,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return s.smoothopen(a[0],1)}P.makeTraceGroups(n,i,"trace violins").each(function(T){var c=m.select(this),a=T[0],d=a.t,x=a.trace;if(x.visible!==!0||d.empty){c.remove();return}var w=d.bPos,C=d.bdPos,y=t[d.valLetter+"axis"],M=t[d.posLetter+"axis"],A=x.side==="both",o=A||x.side==="positive",E=A||x.side==="negative",b=c.selectAll("path.violin").data(P.identity);b.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(B){var W=m.select(this),J=B.density,re=J.length,ne=M.c2l(B.pos+w,!0),le=M.l2p(ne),$;if(x.width)$=d.maxKDE/C;else{var K=u._violinScaleGroupStats[x.scalegroup];$=x.scalemode==="count"?K.maxKDE/C*(K.maxCount/B.pts.length):K.maxKDE/C}var ie,Y,Q,oe,X,j,se;if(o){for(j=new Array(re),oe=0;oe<re;oe++)se=j[oe]={},se[d.posLetter]=ne+J[oe].v/$,se[d.valLetter]=y.c2l(J[oe].t,!0);ie=h(j,x)}if(E){for(j=new Array(re),X=0,oe=re-1;X<re;X++,oe--)se=j[X]={},se[d.posLetter]=ne-J[oe].v/$,se[d.valLetter]=y.c2l(J[oe].t,!0);Y=h(j,x)}if(A)Q=ie+"L"+Y.substr(1)+"Z";else{var te=[le,y.c2p(J[0].t)],fe=[le,y.c2p(J[re-1].t)];x.orientation==="h"&&(te.reverse(),fe.reverse()),o?Q="M"+te+"L"+ie.substr(1)+"L"+fe:Q="M"+fe+"L"+Y.substr(1)+"L"+te}W.attr("d",Q),B.posCenterPx=le,B.posDensityScale=$*C,B.path=W.node(),B.pathLength=B.path.getTotalLength()/(A?2:1)});var I=x.box,D=I.width,N=(I.line||{}).width,k,O;A?(k=C*D,O=0):o?(k=[0,C*D/2],O=N*{x:1,y:-1}[d.posLetter]):(k=[C*D/2,0],O=N*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(c,{pos:M,val:y},x,{bPos:w,bdPos:k,bPosPxOffset:O}),L.plotBoxMean(c,{pos:M,val:y},x,{bPos:w,bdPos:k,bPosPxOffset:O});var F;!x.box.visible&&x.meanline.visible&&(F=P.identity);var z=c.selectAll("path.meanline").data(F||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(B){var W=y.c2p(B.mean,!0),J=v.getPositionOnKdePath(B,x,W);m.select(this).attr("d",x.orientation==="h"?"M"+W+","+J[0]+"V"+J[1]:"M"+J[0]+","+W+"H"+J[1])}),L.plotPoints(c,{x:l,y:g},x,d)})}},95908:function(G,H,e){var m=e(33428),P=e(76308),s=e(49224).stylePoints;G.exports=function(S){var v=m.select(S).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=m.select(this),i=r.box||{},n=i.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,i.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(P.stroke,f.color),t.selectAll("path.meanline").style(l).call(P.stroke,f.color),s(t,r,S)})}},58168:function(G,H,e){var m=e(49084),P=e(50048),s=e(16716),L=e(45464),S=e(92880).extendFlat,v=e(67824).overrideAll,p=G.exports=v(S({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},m("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:s.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:S({},L.hoverinfo),showlegend:S({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(G,H,e){var m=e(67792).gl_mesh3d,P=e(33040).parseColorScale,s=e(3400).isArrayOrTypedArray,L=e(43080),S=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],g=this.data._meshY[u],h=this.data._meshZ[u],T=this.data._Ys.length,c=this.data._Zs.length,a=p(l,this.data._Xs).id,d=p(g,this.data._Ys).id,x=p(h,this.data._Zs).id,w=f.index=x+c*d+c*T*a;f.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var C=this.data.hovertext||this.data.text;return s(C)&&C[w]!==void 0?f.textLabel=C[w]:C&&(f.textLabel=C),!0}},i.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function g(d,x,w,C){return x.map(function(y){return d.d2l(y,0,C)*w})}var h=v(g(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),g(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),g(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),T=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:T,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:L(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},a=S(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[a.min,a.max],c.colormap=P(f),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,u){var l=f.glplot.gl,g=m({gl:l}),h=new t(f,g,u.uid);return g._trace=h,h.update(u),f.glplot.add(g),h}G.exports=n},12448:function(G,H,e){var m=e(3400),P=e(58168),s=e(70548).supplyIsoDefaults,L=e(60192).opacityscaleDefaults;G.exports=function(v,p,r,t){function i(n,f){return m.coerce(v,p,P,n,f)}s(v,p,r,t,i),L(v,p,t,i)}},67776:function(G,H,e){G.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(G,H,e){var m=e(20832),P=e(52904).line,s=e(45464),L=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function i(n){return{marker:{color:r({},m.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},m.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},m.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:m.hovertext,hovertemplate:S({},{keys:p.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:m.text,textposition:m.textposition,insidetextanchor:m.insidetextanchor,textangle:m.textangle,textfont:m.textfont,insidetextfont:m.insidetextfont,outsidetextfont:m.outsidetextfont,constraintext:m.constraintext,cliponaxis:m.cliponaxis,orientation:m.orientation,offset:m.offset,width:m.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,zorder:m.zorder}},73540:function(G,H,e){var m=e(54460),P=e(1220),s=e(3400).mergeArray,L=e(4500),S=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,i){var n=m.getFromId(t,i.xaxis||"x"),f=m.getFromId(t,i.yaxis||"y"),u,l,g,h,T,c;i.orientation==="h"?(u=n.makeCalcdata(i,"x"),g=f.makeCalcdata(i,"y"),h=P(i,f,"y",g),T=!!i.yperiodalignment,c="y"):(u=f.makeCalcdata(i,"y"),g=n.makeCalcdata(i,"x"),h=P(i,n,"x",g),T=!!i.xperiodalignment,c="x"),l=h.vals;for(var a=Math.min(l.length,u.length),d=new Array(a),x=0,w,C=!1,y=0;y<a;y++){var M=u[y]||0,A=!1;(u[y]!==S||p(i.measure[y])||v(i.measure[y]))&&y+1<a&&(u[y+1]!==S||p(i.measure[y+1])||v(i.measure[y+1]))&&(A=!0);var o=d[y]={i:y,p:l[y],s:M,rawS:M,cNext:A};v(i.measure[y])?(x=o.s,o.isSum=!0,o.dir="totals",o.s=x):p(i.measure[y])?(o.isSum=!0,o.dir="totals",o.s=x):(o.isSum=!1,o.dir=o.rawS<0?"decreasing":"increasing",w=o.s,o.s=x+w,x+=w),o.dir==="totals"&&(C=!0),T&&(d[y].orig_p=g[y],d[y][c+"End"]=h.ends[y],d[y][c+"Start"]=h.starts[y]),i.ids&&(o.id=String(i.ids[y])),o.v=(i.base||0)+x}return d.length&&(d[0].hasTotals=C),s(i.text,d,"tx"),s(i.hovertext,d,"htx"),L(d,i),d}},10213:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},50152:function(G,H,e){var m=e(96376).setGroupPositions;G.exports=function(s,L){var S=s._fullLayout,v=s._fullData,p=s.calcdata,r=L.xaxis,t=L.yaxis,i=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var g=v[l];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(u=p[l],g.orientation==="h"?f.push(u):n.push(u),i.push(u))}var h={mode:S.waterfallmode,norm:S.waterfallnorm,gap:S.waterfallgap,groupgap:S.waterfallgroupgap};for(m(s,r,t,n,h),m(s,t,r,f,h),l=0;l<i.length;l++){u=i[l];for(var T=0;T<u.length;T++){var c=u[T];c.isSum===!1&&(c.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},24224:function(G,H,e){var m=e(3400),P=e(20011),s=e(31508).handleText,L=e(43980),S=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,n="#4499FF";function f(g,h,T){g(h+".marker.color",T),g(h+".marker.line.color",p.defaultLine),g(h+".marker.line.width")}function u(g,h,T,c){function a(y,M){return m.coerce(g,h,v,y,M)}var d=L(g,h,c,a);if(!d){h.visible=!1;return}S(g,h,c,a),a("xhoverformat"),a("yhoverformat"),a("measure"),a("orientation",h.x&&!h.y?"h":"v"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate");var x=a("textposition");s(g,h,c,a,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(a("texttemplate"),h.texttemplate||a("textinfo")),f(a,"increasing",t),f(a,"decreasing",i),f(a,"totals",n);var w=a("connector.visible");if(w){a("connector.mode");var C=a("connector.line.width");C&&(a("connector.line.color"),a("connector.line.dash"))}a("zorder")}function l(g,h){var T,c;function a(x){return m.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var d=0;d<g.length;d++)c=g[d],T=c._input,P(T,c,h,a)}G.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(G){G.exports=function(e,m){return e.x="xVal"in m?m.xVal:m.x,e.y="yVal"in m?m.yVal:m.y,"initial"in m&&(e.initial=m.initial),"delta"in m&&(e.delta=m.delta),"final"in m&&(e.final=m.final),m.xa&&(e.xaxis=m.xa),m.ya&&(e.yaxis=m.ya),e}},94196:function(G,H,e){var m=e(54460).hoverLabelText,P=e(76308).opacity,s=e(63400).hoverOnBars,L=e(48164),S={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};G.exports=function(r,t,i,n,f){var u=s(r,t,i,n,f);if(!u)return;var l=u.cd,g=l[0].trace,h=g.orientation==="h",T=h?"x":"y",c=h?r.xa:r.ya;function a(b){return m(c,b,g[T+"hoverformat"])}var d=u.index,x=l[d],w=x.isSum?x.b+x.s:x.rawS;u.initial=x.b+x.s-w,u.delta=w,u.final=u.initial+u.delta;var C=a(Math.abs(u.delta));u.deltaLabel=w<0?"("+C+")":C,u.finalLabel=a(u.final),u.initialLabel=a(u.initial);var y=x.hi||g.hoverinfo,M=[];if(y&&y!=="none"&&y!=="skip"){var A=y==="all",o=y.split("+"),E=function(b){return A||o.indexOf(b)!==-1};x.isSum||(E("final")&&(h?!E("x"):!E("y"))&&M.push(u.finalLabel),E("delta")&&(w<0?M.push(u.deltaLabel+" "+S.decreasing):M.push(u.deltaLabel+" "+S.increasing)),E("initial")&&M.push("Initial: "+u.initialLabel))}return M.length&&(u.extraText=M.join("<br>")),u.color=v(g,x),[u]};function v(p,r){var t=p[r.dir].marker,i=t.color,n=t.line.color,f=t.line.width;if(P(i))return i;if(P(n)&&f)return n}},95952:function(G,H,e){G.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(G,H,e){var m=e(3400),P=e(91352);G.exports=function(s,L,S){var v=!1;function p(i,n){return m.coerce(s,L,P,i,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(G,H,e){var m=e(33428),P=e(3400),s=e(43616),L=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;G.exports=function(i,n,f,u){var l=i._fullLayout;v("waterfall",l),S.plot(i,n,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(i,n,f,u)};function p(t,i,n,f){var u=i.xaxis,l=i.yaxis;P.makeTraceGroups(f,n,"trace bars").each(function(g){var h=m.select(this),T=g[0].trace,c=P.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){c.remove();return}var a=T.orientation==="h",d=T.connector.mode,x=c.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(C,y){if(!(y!==w-1&&!C.cNext)){var M=r(C,u,l,a),A=M[0],o=M[1],E="";A[0]!==L&&o[0]!==L&&A[1]!==L&&o[1]!==L&&(d==="spanning"&&!C.isSum&&y>0&&(a?E+="M"+A[0]+","+o[1]+"V"+o[0]:E+="M"+A[1]+","+o[0]+"H"+A[0]),d!=="between"&&(C.isSum||y<w-1)&&(a?E+="M"+A[1]+","+o[0]+"V"+o[1]:E+="M"+A[0]+","+o[1]+"H"+A[1]),A[2]!==L&&o[2]!==L&&(a?E+="M"+A[1]+","+o[1]+"V"+o[2]:E+="M"+A[1]+","+o[1]+"H"+A[2])),E===""&&(E="M0,0Z"),P.ensureSingle(m.select(this),"path").attr("d",E).call(s.setClipUrl,i.layerClipId,t)}})})}function r(t,i,n,f){var u=[],l=[],g=f?i:n,h=f?n:i;return u[0]=g.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),u[1]=g.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),u[2]=g.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(G,H,e){var m=e(33428),P=e(43616),s=e(76308),L=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,p=S.styleTextPoints;function r(t,i,n){var f=n||m.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=m.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=g[h.dir].marker;m.select(this).call(s.fill,T.color).call(s.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(l,g,t),l.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(m.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:r}},84224:function(G,H,e){var m=e(54460),P=e(3400),s=e(73060),L=e(60468).W,S=e(39032).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;H.supplyDefaults=function(u,l){var g={},h;function T(b,I){return P.coerce(u,g,v,b,I)}var c=T("enabled");if(!c)return g;var a=s.findArrayAttributes(l),d={};for(h=0;h<a.length;h++)d[a[h]]=1;var x=T("groups");if(!Array.isArray(x)){if(!d[x])return g.enabled=!1,g;d[x]=0}var w=u.aggregations||[],C=g.aggregations=new Array(w.length),y;function M(b,I){return P.coerce(w[h],y,p,b,I)}for(h=0;h<w.length;h++){y={_index:h};var A=M("target"),o=M("func"),E=M("enabled");E&&A&&(d[A]||o==="count"&&d[A]===void 0)?(o==="stddev"&&M("funcmode"),d[A]=0,C[h]=y):C[h]={enabled:!1,_index:h}}for(h=0;h<a.length;h++)d[a[h]]&&C.push({target:a[h],func:p.func.dflt,enabled:!0,_index:-1});return g},H.calcTransform=function(u,l,g){if(g.enabled){var h=g.groups,T=P.getTargetArray(l,{target:h});if(T){var c,a,d,x,w={},C={},y=[],M=L(l.transforms,g),A=T.length;for(l._length&&(A=Math.min(A,l._length)),c=0;c<A;c++)a=T[c],d=w[a],d===void 0?(w[a]=y.length,x=[c],y.push(x),C[w[a]]=M(c)):(y[d].push(c),C[w[a]]=(C[w[a]]||[]).concat(M(c)));g._indexToPoints=C;var o=g.aggregations;for(c=0;c<o.length;c++)r(u,l,y,o[c]);typeof h=="string"&&r(u,l,y,{target:h,func:"first",enabled:!0}),l._length=y.length}}};function r(u,l,g,h){if(h.enabled){for(var T=h.target,c=P.nestedProperty(l,T),a=c.get(),d=m.getDataConversions(u,l,T,a),x=t(h,d),w=new Array(g.length),C=0;C<g.length;C++)w[C]=x(a,g[C]);c.set(w),h.func==="count"&&P.pushUnique(l._arrayAttrs,T)}}function t(u,l){var g=u.func,h=l.d2c,T=l.c2d;switch(g){case"count":return i;case"first":return n;case"last":return f;case"sum":return function(c,a){for(var d=0,x=0;x<a.length;x++){var w=h(c[a[x]]);w!==S&&(d+=w)}return T(d)};case"avg":return function(c,a){for(var d=0,x=0,w=0;w<a.length;w++){var C=h(c[a[w]]);C!==S&&(d+=C,x++)}return x?T(d/x):S};case"min":return function(c,a){for(var d=1/0,x=0;x<a.length;x++){var w=h(c[a[x]]);w!==S&&(d=Math.min(d,w))}return d===1/0?S:T(d)};case"max":return function(c,a){for(var d=-1/0,x=0;x<a.length;x++){var w=h(c[a[x]]);w!==S&&(d=Math.max(d,w))}return d===-1/0?S:T(d)};case"range":return function(c,a){for(var d=1/0,x=-1/0,w=0;w<a.length;w++){var C=h(c[a[w]]);C!==S&&(d=Math.min(d,C),x=Math.max(x,C))}return x===-1/0||d===1/0?S:T(x-d)};case"change":return function(c,a){var d=h(c[a[0]]),x=h(c[a[a.length-1]]);return d===S||x===S?S:T(x-d)};case"median":return function(c,a){for(var d=[],x=0;x<a.length;x++){var w=h(c[a[x]]);w!==S&&d.push(w)}if(!d.length)return S;d.sort(P.sorterAsc);var C=(d.length-1)/2;return T((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,a){for(var d={},x=0,w=S,C=0;C<a.length;C++){var y=h(c[a[C]]);if(y!==S){var M=d[y]=(d[y]||0)+1;M>x&&(x=M,w=y)}}return x?T(w):S};case"rms":return function(c,a){for(var d=0,x=0,w=0;w<a.length;w++){var C=h(c[a[w]]);C!==S&&(d+=C*C,x++)}return x?T(Math.sqrt(d/x)):S};case"stddev":return function(c,a){var d=0,x=0,w=1,C=S,y;for(y=0;y<a.length&&C===S;y++)C=h(c[a[y]]);if(C===S)return S;for(;y<a.length;y++){var M=h(c[a[y]]);if(M!==S){var A=M-C;d+=A,x+=A*A,w++}}var o=u.funcmode==="sample"?w-1:w;return o?Math.sqrt((x-d*d/w)/o):0}}}function i(u,l){return l.length}function n(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(G,H,e){var m=e(3400),P=e(24040),s=e(54460),L=e(60468).W,S=e(69104),v=S.COMPARISON_OPS,p=S.INTERVAL_OPS,r=S.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(i){var n={};function f(h,T){return m.coerce(i,n,H.attributes,h,T)}var u=f("enabled");if(u){var l=f("target");if(m.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var g=P.getComponentMethod("calendars","handleDefaults");g(i,n,"valuecalendar",null),g(i,n,"targetcalendar",null)}return n},H.calcTransform=function(i,n,f){if(!f.enabled)return;var u=m.getTargetArray(n,f);if(!u)return;var l=f.target,g=u.length;n._length&&(g=Math.min(g,n._length));var h=f.targetcalendar,T=n._arrayAttrs,c=f.preservegaps;if(typeof l=="string"){var a=m.nestedProperty(n,l+"calendar").get();a&&(h=a)}var d=s.getDataToCoordFunc(i,n,l,u),x=t(f,d,h),w={},C={},y=0;function M(D,N){for(var k=0;k<T.length;k++){var O=m.nestedProperty(n,T[k]);D(O,N)}}var A,o;c?(A=function(D){w[D.astr]=m.extendDeep([],D.get()),D.set(new Array(g))},o=function(D,N){var k=w[D.astr][N];D.get()[N]=k}):(A=function(D){w[D.astr]=m.extendDeep([],D.get()),D.set([])},o=function(D,N){var k=w[D.astr][N];D.get().push(k)}),M(A);for(var E=L(n.transforms,f),b=0;b<g;b++){var I=x(u[b]);I?(M(o,b),C[y++]=E(b)):c&&y++}f._indexToPoints=C,n._length=y};function t(i,n,f){var u=i.operation,l=i.value,g=m.isArrayOrTypedArray(l);function h(d){return d.indexOf(u)!==-1}var T=function(d){return n(d,0,i.valuecalendar)},c=function(d){return n(d,0,f)},a;switch(h(v)?a=T(g?l[0]:l):h(p)?a=g?[T(l[0]),T(l[1])]:[T(l),T(l)]:h(r)&&(a=g?l.map(T):[T(l)]),u){case"=":return function(d){return c(d)===a};case"!=":return function(d){return c(d)!==a};case"<":return function(d){return c(d)<a};case"<=":return function(d){return c(d)<=a};case">":return function(d){return c(d)>a};case">=":return function(d){return c(d)>=a};case"[]":return function(d){var x=c(d);return x>=a[0]&&x<=a[1]};case"()":return function(d){var x=c(d);return x>a[0]&&x<a[1]};case"[)":return function(d){var x=c(d);return x>=a[0]&&x<a[1]};case"(]":return function(d){var x=c(d);return x>a[0]&&x<=a[1]};case"][":return function(d){var x=c(d);return x<=a[0]||x>=a[1]};case")(":return function(d){var x=c(d);return x<a[0]||x>a[1]};case"](":return function(d){var x=c(d);return x<=a[0]||x>a[1]};case")[":return function(d){var x=c(d);return x<a[0]||x>=a[1]};case"{}":return function(d){return a.indexOf(c(d))!==-1};case"}{":return function(d){return a.indexOf(c(d))===-1}}}},32028:function(G,H,e){var m=e(3400),P=e(73060),s=e(7316),L=e(60468).W;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,p,r){var t,i={};function n(T,c){return m.coerce(v,i,H.attributes,T,c)}var f=n("enabled");if(!f)return i;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=i.styles=[];if(u)for(t=0;t<u.length;t++){var g=l[t]={};m.coerce(u[t],l[t],H.attributes.styles,"target");var h=m.coerce(u[t],l[t],H.attributes.styles,"value");m.isPlainObject(h)?g.value=m.extendDeep({},h):h&&delete g.value}return i},H.transform=function(v,p){var r,t,i,n=[];for(t=0;t<v.length;t++)for(r=S(v[t],p),i=0;i<r.length;i++)n.push(r[i]);return n};function S(v,p){var r,t,i,n,f,u,l,g,h,T,c=p.transform,a=p.transformIndex,d=v.transforms[a].groups,x=L(v.transforms,c);if(!m.isArrayOrTypedArray(d)||d.length===0)return[v];var w=m.filterUnique(d),C=new Array(w.length),y=d.length,M=P.findArrayAttributes(v),A=c.styles||[],o={};for(r=0;r<A.length;r++)o[A[r].target]=A[r].value;c.styles&&(T=m.keyedContainer(c,"styles","target","value.name"));var E={},b={};for(r=0;r<w.length;r++){u=w[r],E[u]=r,b[u]=0,l=C[r]=m.extendDeepNoArrays({},v),l._group=u,l.transforms[a]._indexToPoints={};var I=null;for(T&&(I=T.get(u)),I||I===""?l.name=I:l.name=m.templateString(c.nameformat,{trace:v.name,group:u}),g=l.transforms,l.transforms=[],t=0;t<g.length;t++)l.transforms[t]=m.extendDeepNoArrays({},g[t]);for(t=0;t<M.length;t++)m.nestedProperty(l,M[t]).set([])}for(i=0;i<M.length;i++){for(n=M[i],t=0,h=[];t<w.length;t++)h[t]=m.nestedProperty(C[t],n).get();for(f=m.nestedProperty(v,n).get(),t=0;t<y;t++)h[E[d[t]]].push(f[t])}for(t=0;t<y;t++){l=C[E[d[t]]];var D=l.transforms[a]._indexToPoints;D[b[d[t]]]=x(t),b[d[t]]++}for(r=0;r<w.length;r++)u=w[r],l=C[r],s.clearExpandedTraceDefaultColors(l),l=m.extendDeepNoArrays(l,o[u]||{});return C}},60468:function(G,H){H.W=function(e,m){for(var P,s,L=0;L<e.length&&(P=e[L],P!==m);L++)!P._indexToPoints||P.enabled===!1||(s=P._indexToPoints);var S=s?function(v){return s[v]}:function(v){return[v]};return S}},76272:function(G,H,e){var m=e(3400),P=e(54460),s=e(60468).W,L=e(39032).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(p){var r={};function t(n,f){return m.coerce(p,r,H.attributes,n,f)}var i=t("enabled");return i&&(t("target"),t("order")),r},H.calcTransform=function(p,r,t){if(t.enabled){var i=m.getTargetArray(r,t);if(i){var n=t.target,f=i.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,n,i),g=S(t,i,l,f),h=s(r.transforms,t),T={},c,a;for(c=0;c<u.length;c++){var d=m.nestedProperty(r,u[c]),x=d.get(),w=new Array(f);for(a=0;a<f;a++)w[a]=x[g[a]];d.set(w)}for(a=0;a<f;a++)T[a]=h(g[a]);t._indexToPoints=T,r._length=f}}};function S(p,r,t,i){var n=new Array(i),f=new Array(i),u;for(u=0;u<i;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<i;u++)f[u]=n[u].i;return f}function v(p,r){switch(p.order){case"ascending":return function(t,i){var n=r(t.v),f=r(i.v);return n===L?1:f===L?-1:n-f};case"descending":return function(t,i){var n=r(t.v),f=r(i.v);return n===L?1:f===L?-1:f-n}}}},25788:function(G,H){H.version="2.33.0"},67792:function(G,H,e){var m=e(4168);(function(){var P={1964:function(v,p,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Ce,he){if(!(Ce instanceof he))throw new TypeError("Cannot call a class as a function")}function i(Ce,he){for(var me=0;me<he.length;me++){var Ne=he[me];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Ce,f(Ne.key),Ne)}}function n(Ce,he,me){return he&&i(Ce.prototype,he),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}function f(Ce){var he=u(Ce,"string");return x(he)=="symbol"?he:he+""}function u(Ce,he){if(x(Ce)!="object"||!Ce)return Ce;var me=Ce[Symbol.toPrimitive];if(me!==void 0){var Ne=me.call(Ce,he);if(x(Ne)!="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}function l(Ce,he,me){return he=c(he),g(Ce,T()?Reflect.construct(he,[],c(Ce).constructor):he.apply(Ce,me))}function g(Ce,he){if(he&&(x(he)==="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Ce)}function h(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function T(){try{var Ce=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Ce})()}function c(Ce){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},c(Ce)}function a(Ce,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(he&&he.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),he&&d(Ce,he)}function d(Ce,he){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,$e){return Ne.__proto__=$e,Ne},d(Ce,he)}function x(Ce){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},x(Ce)}var w=r(7507),C=r(3778),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.hp=E,p.IS=50;var M=2147483647;E.TYPED_ARRAY_SUPPORT=A(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{var Ce=new Uint8Array(1),he={foo:function(){return 42}};return Object.setPrototypeOf(he,Uint8Array.prototype),Object.setPrototypeOf(Ce,he),Ce.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function o(Ce){if(Ce>M)throw new RangeError('The value "'+Ce+'" is invalid for option "size"');var he=new Uint8Array(Ce);return Object.setPrototypeOf(he,E.prototype),he}function E(Ce,he,me){if(typeof Ce=="number"){if(typeof he=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(Ce)}return b(Ce,he,me)}E.poolSize=8192;function b(Ce,he,me){if(typeof Ce=="string")return k(Ce,he);if(ArrayBuffer.isView(Ce))return F(Ce);if(Ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ce));if(Ge(Ce,ArrayBuffer)||Ce&&Ge(Ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(Ce,SharedArrayBuffer)||Ce&&Ge(Ce.buffer,SharedArrayBuffer)))return z(Ce,he,me);if(typeof Ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ne=Ce.valueOf&&Ce.valueOf();if(Ne!=null&&Ne!==Ce)return E.from(Ne,he,me);var $e=B(Ce);if($e)return $e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ce[Symbol.toPrimitive]=="function")return E.from(Ce[Symbol.toPrimitive]("string"),he,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ce))}E.from=function(Ce,he,me){return b(Ce,he,me)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function I(Ce){if(typeof Ce!="number")throw new TypeError('"size" argument must be of type number');if(Ce<0)throw new RangeError('The value "'+Ce+'" is invalid for option "size"')}function D(Ce,he,me){return I(Ce),Ce<=0?o(Ce):he!==void 0?typeof me=="string"?o(Ce).fill(he,me):o(Ce).fill(he):o(Ce)}E.alloc=function(Ce,he,me){return D(Ce,he,me)};function N(Ce){return I(Ce),o(Ce<0?0:W(Ce)|0)}E.allocUnsafe=function(Ce){return N(Ce)},E.allocUnsafeSlow=function(Ce){return N(Ce)};function k(Ce,he){if((typeof he!="string"||he==="")&&(he="utf8"),!E.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var me=J(Ce,he)|0,Ne=o(me),$e=Ne.write(Ce,he);return $e!==me&&(Ne=Ne.slice(0,$e)),Ne}function O(Ce){for(var he=Ce.length<0?0:W(Ce.length)|0,me=o(he),Ne=0;Ne<he;Ne+=1)me[Ne]=Ce[Ne]&255;return me}function F(Ce){if(Ge(Ce,Uint8Array)){var he=new Uint8Array(Ce);return z(he.buffer,he.byteOffset,he.byteLength)}return O(Ce)}function z(Ce,he,me){if(he<0||Ce.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(Ce.byteLength<he+(me||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return he===void 0&&me===void 0?Ne=new Uint8Array(Ce):me===void 0?Ne=new Uint8Array(Ce,he):Ne=new Uint8Array(Ce,he,me),Object.setPrototypeOf(Ne,E.prototype),Ne}function B(Ce){if(E.isBuffer(Ce)){var he=W(Ce.length)|0,me=o(he);return me.length===0||Ce.copy(me,0,0,he),me}if(Ce.length!==void 0)return typeof Ce.length!="number"||We(Ce.length)?o(0):O(Ce);if(Ce.type==="Buffer"&&Array.isArray(Ce.data))return O(Ce.data)}function W(Ce){if(Ce>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return Ce|0}E.isBuffer=function(he){return he!=null&&he._isBuffer===!0&&he!==E.prototype},E.compare=function(he,me){if(Ge(he,Uint8Array)&&(he=E.from(he,he.offset,he.byteLength)),Ge(me,Uint8Array)&&(me=E.from(me,me.offset,me.byteLength)),!E.isBuffer(he)||!E.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(he===me)return 0;for(var Ne=he.length,$e=me.length,ot=0,st=Math.min(Ne,$e);ot<st;++ot)if(he[ot]!==me[ot]){Ne=he[ot],$e=me[ot];break}return Ne<$e?-1:$e<Ne?1:0},E.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(he,me){if(!Array.isArray(he))throw new TypeError('"list" argument must be an Array of Buffers');if(he.length===0)return E.alloc(0);var Ne;if(me===void 0)for(me=0,Ne=0;Ne<he.length;++Ne)me+=he[Ne].length;var $e=E.allocUnsafe(me),ot=0;for(Ne=0;Ne<he.length;++Ne){var st=he[Ne];if(Ge(st,Uint8Array))ot+st.length>$e.length?(E.isBuffer(st)||(st=E.from(st)),st.copy($e,ot)):Uint8Array.prototype.set.call($e,st,ot);else if(E.isBuffer(st))st.copy($e,ot);else throw new TypeError('"list" argument must be an Array of Buffers');ot+=st.length}return $e};function J(Ce,he){if(E.isBuffer(Ce))return Ce.length;if(ArrayBuffer.isView(Ce)||Ge(Ce,ArrayBuffer))return Ce.byteLength;if(typeof Ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(Ce));var me=Ce.length,Ne=arguments.length>2&&arguments[2]===!0;if(!Ne&&me===0)return 0;for(var $e=!1;;)switch(he){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return Tt(Ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return ze(Ce).length;default:if($e)return Ne?-1:Tt(Ce).length;he=(""+he).toLowerCase(),$e=!0}}E.byteLength=J;function re(Ce,he,me){var Ne=!1;if((he===void 0||he<0)&&(he=0),he>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,he>>>=0,me<=he))return"";for(Ce||(Ce="utf8");;)switch(Ce){case"hex":return be(this,he,me);case"utf8":case"utf-8":return j(this,he,me);case"ascii":return fe(this,he,me);case"latin1":case"binary":return ge(this,he,me);case"base64":return X(this,he,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,he,me);default:if(Ne)throw new TypeError("Unknown encoding: "+Ce);Ce=(Ce+"").toLowerCase(),Ne=!0}}E.prototype._isBuffer=!0;function ne(Ce,he,me){var Ne=Ce[he];Ce[he]=Ce[me],Ce[me]=Ne}E.prototype.swap16=function(){var he=this.length;if(he%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var me=0;me<he;me+=2)ne(this,me,me+1);return this},E.prototype.swap32=function(){var he=this.length;if(he%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var me=0;me<he;me+=4)ne(this,me,me+3),ne(this,me+1,me+2);return this},E.prototype.swap64=function(){var he=this.length;if(he%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var me=0;me<he;me+=8)ne(this,me,me+7),ne(this,me+1,me+6),ne(this,me+2,me+5),ne(this,me+3,me+4);return this},E.prototype.toString=function(){var he=this.length;return he===0?"":arguments.length===0?j(this,0,he):re.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(he){if(!E.isBuffer(he))throw new TypeError("Argument must be a Buffer");return this===he?!0:E.compare(this,he)===0},E.prototype.inspect=function(){var he="",me=p.IS;return he=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(he+=" ... "),"<Buffer "+he+">"},y&&(E.prototype[y]=E.prototype.inspect),E.prototype.compare=function(he,me,Ne,$e,ot){if(Ge(he,Uint8Array)&&(he=E.from(he,he.offset,he.byteLength)),!E.isBuffer(he))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(he));if(me===void 0&&(me=0),Ne===void 0&&(Ne=he?he.length:0),$e===void 0&&($e=0),ot===void 0&&(ot=this.length),me<0||Ne>he.length||$e<0||ot>this.length)throw new RangeError("out of range index");if($e>=ot&&me>=Ne)return 0;if($e>=ot)return-1;if(me>=Ne)return 1;if(me>>>=0,Ne>>>=0,$e>>>=0,ot>>>=0,this===he)return 0;for(var st=ot-$e,Wt=Ne-me,Pt=Math.min(st,Wt),dt=this.slice($e,ot),Mt=he.slice(me,Ne),Xt=0;Xt<Pt;++Xt)if(dt[Xt]!==Mt[Xt]){st=dt[Xt],Wt=Mt[Xt];break}return st<Wt?-1:Wt<st?1:0};function le(Ce,he,me,Ne,$e){if(Ce.length===0)return-1;if(typeof me=="string"?(Ne=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,We(me)&&(me=$e?0:Ce.length-1),me<0&&(me=Ce.length+me),me>=Ce.length){if($e)return-1;me=Ce.length-1}else if(me<0)if($e)me=0;else return-1;if(typeof he=="string"&&(he=E.from(he,Ne)),E.isBuffer(he))return he.length===0?-1:$(Ce,he,me,Ne,$e);if(typeof he=="number")return he=he&255,typeof Uint8Array.prototype.indexOf=="function"?$e?Uint8Array.prototype.indexOf.call(Ce,he,me):Uint8Array.prototype.lastIndexOf.call(Ce,he,me):$(Ce,[he],me,Ne,$e);throw new TypeError("val must be string, number or Buffer")}function $(Ce,he,me,Ne,$e){var ot=1,st=Ce.length,Wt=he.length;if(Ne!==void 0&&(Ne=String(Ne).toLowerCase(),Ne==="ucs2"||Ne==="ucs-2"||Ne==="utf16le"||Ne==="utf-16le")){if(Ce.length<2||he.length<2)return-1;ot=2,st/=2,Wt/=2,me/=2}function Pt(vt,Zt){return ot===1?vt[Zt]:vt.readUInt16BE(Zt*ot)}var dt;if($e){var Mt=-1;for(dt=me;dt<st;dt++)if(Pt(Ce,dt)===Pt(he,Mt===-1?0:dt-Mt)){if(Mt===-1&&(Mt=dt),dt-Mt+1===Wt)return Mt*ot}else Mt!==-1&&(dt-=dt-Mt),Mt=-1}else for(me+Wt>st&&(me=st-Wt),dt=me;dt>=0;dt--){for(var Xt=!0,nr=0;nr<Wt;nr++)if(Pt(Ce,dt+nr)!==Pt(he,nr)){Xt=!1;break}if(Xt)return dt}return-1}E.prototype.includes=function(he,me,Ne){return this.indexOf(he,me,Ne)!==-1},E.prototype.indexOf=function(he,me,Ne){return le(this,he,me,Ne,!0)},E.prototype.lastIndexOf=function(he,me,Ne){return le(this,he,me,Ne,!1)};function K(Ce,he,me,Ne){me=Number(me)||0;var $e=Ce.length-me;Ne?(Ne=Number(Ne),Ne>$e&&(Ne=$e)):Ne=$e;var ot=he.length;Ne>ot/2&&(Ne=ot/2);var st;for(st=0;st<Ne;++st){var Wt=parseInt(he.substr(st*2,2),16);if(We(Wt))return st;Ce[me+st]=Wt}return st}function ie(Ce,he,me,Ne){return He(Tt(he,Ce.length-me),Ce,me,Ne)}function Y(Ce,he,me,Ne){return He(Et(he),Ce,me,Ne)}function Q(Ce,he,me,Ne){return He(ze(he),Ce,me,Ne)}function oe(Ce,he,me,Ne){return He(rt(he,Ce.length-me),Ce,me,Ne)}E.prototype.write=function(he,me,Ne,$e){if(me===void 0)$e="utf8",Ne=this.length,me=0;else if(Ne===void 0&&typeof me=="string")$e=me,Ne=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(Ne)?(Ne=Ne>>>0,$e===void 0&&($e="utf8")):($e=Ne,Ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ot=this.length-me;if((Ne===void 0||Ne>ot)&&(Ne=ot),he.length>0&&(Ne<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");$e||($e="utf8");for(var st=!1;;)switch($e){case"hex":return K(this,he,me,Ne);case"utf8":case"utf-8":return ie(this,he,me,Ne);case"ascii":case"latin1":case"binary":return Y(this,he,me,Ne);case"base64":return Q(this,he,me,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,he,me,Ne);default:if(st)throw new TypeError("Unknown encoding: "+$e);$e=(""+$e).toLowerCase(),st=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(Ce,he,me){return he===0&&me===Ce.length?w.fromByteArray(Ce):w.fromByteArray(Ce.slice(he,me))}function j(Ce,he,me){me=Math.min(Ce.length,me);for(var Ne=[],$e=he;$e<me;){var ot=Ce[$e],st=null,Wt=ot>239?4:ot>223?3:ot>191?2:1;if($e+Wt<=me){var Pt=void 0,dt=void 0,Mt=void 0,Xt=void 0;switch(Wt){case 1:ot<128&&(st=ot);break;case 2:Pt=Ce[$e+1],(Pt&192)===128&&(Xt=(ot&31)<<6|Pt&63,Xt>127&&(st=Xt));break;case 3:Pt=Ce[$e+1],dt=Ce[$e+2],(Pt&192)===128&&(dt&192)===128&&(Xt=(ot&15)<<12|(Pt&63)<<6|dt&63,Xt>2047&&(Xt<55296||Xt>57343)&&(st=Xt));break;case 4:Pt=Ce[$e+1],dt=Ce[$e+2],Mt=Ce[$e+3],(Pt&192)===128&&(dt&192)===128&&(Mt&192)===128&&(Xt=(ot&15)<<18|(Pt&63)<<12|(dt&63)<<6|Mt&63,Xt>65535&&Xt<1114112&&(st=Xt))}}st===null?(st=65533,Wt=1):st>65535&&(st-=65536,Ne.push(st>>>10&1023|55296),st=56320|st&1023),Ne.push(st),$e+=Wt}return te(Ne)}var se=4096;function te(Ce){var he=Ce.length;if(he<=se)return String.fromCharCode.apply(String,Ce);for(var me="",Ne=0;Ne<he;)me+=String.fromCharCode.apply(String,Ce.slice(Ne,Ne+=se));return me}function fe(Ce,he,me){var Ne="";me=Math.min(Ce.length,me);for(var $e=he;$e<me;++$e)Ne+=String.fromCharCode(Ce[$e]&127);return Ne}function ge(Ce,he,me){var Ne="";me=Math.min(Ce.length,me);for(var $e=he;$e<me;++$e)Ne+=String.fromCharCode(Ce[$e]);return Ne}function be(Ce,he,me){var Ne=Ce.length;(!he||he<0)&&(he=0),(!me||me<0||me>Ne)&&(me=Ne);for(var $e="",ot=he;ot<me;++ot)$e+=Le[Ce[ot]];return $e}function xe(Ce,he,me){for(var Ne=Ce.slice(he,me),$e="",ot=0;ot<Ne.length-1;ot+=2)$e+=String.fromCharCode(Ne[ot]+Ne[ot+1]*256);return $e}E.prototype.slice=function(he,me){var Ne=this.length;he=~~he,me=me===void 0?Ne:~~me,he<0?(he+=Ne,he<0&&(he=0)):he>Ne&&(he=Ne),me<0?(me+=Ne,me<0&&(me=0)):me>Ne&&(me=Ne),me<he&&(me=he);var $e=this.subarray(he,me);return Object.setPrototypeOf($e,E.prototype),$e};function _e(Ce,he,me){if(Ce%1!==0||Ce<0)throw new RangeError("offset is not uint");if(Ce+he>me)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=this[he],ot=1,st=0;++st<me&&(ot*=256);)$e+=this[he+st]*ot;return $e},E.prototype.readUintBE=E.prototype.readUIntBE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=this[he+--me],ot=1;me>0&&(ot*=256);)$e+=this[he+--me]*ot;return $e},E.prototype.readUint8=E.prototype.readUInt8=function(he,me){return he=he>>>0,me||_e(he,1,this.length),this[he]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(he,me){return he=he>>>0,me||_e(he,2,this.length),this[he]|this[he+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(he,me){return he=he>>>0,me||_e(he,2,this.length),this[he]<<8|this[he+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),(this[he]|this[he+1]<<8|this[he+2]<<16)+this[he+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),this[he]*16777216+(this[he+1]<<16|this[he+2]<<8|this[he+3])},E.prototype.readBigUInt64LE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=me+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24),ot=this[++he]+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+Ne*Math.pow(2,24);return BigInt($e)+(BigInt(ot)<<BigInt(32))}),E.prototype.readBigUInt64BE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=me*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he],ot=this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+Ne;return(BigInt($e)<<BigInt(32))+BigInt(ot)}),E.prototype.readIntLE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=this[he],ot=1,st=0;++st<me&&(ot*=256);)$e+=this[he+st]*ot;return ot*=128,$e>=ot&&($e-=Math.pow(2,8*me)),$e},E.prototype.readIntBE=function(he,me,Ne){he=he>>>0,me=me>>>0,Ne||_e(he,me,this.length);for(var $e=me,ot=1,st=this[he+--$e];$e>0&&(ot*=256);)st+=this[he+--$e]*ot;return ot*=128,st>=ot&&(st-=Math.pow(2,8*me)),st},E.prototype.readInt8=function(he,me){return he=he>>>0,me||_e(he,1,this.length),this[he]&128?(255-this[he]+1)*-1:this[he]},E.prototype.readInt16LE=function(he,me){he=he>>>0,me||_e(he,2,this.length);var Ne=this[he]|this[he+1]<<8;return Ne&32768?Ne|4294901760:Ne},E.prototype.readInt16BE=function(he,me){he=he>>>0,me||_e(he,2,this.length);var Ne=this[he+1]|this[he]<<8;return Ne&32768?Ne|4294901760:Ne},E.prototype.readInt32LE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),this[he]|this[he+1]<<8|this[he+2]<<16|this[he+3]<<24},E.prototype.readInt32BE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),this[he]<<24|this[he+1]<<16|this[he+2]<<8|this[he+3]},E.prototype.readBigInt64LE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=this[he+4]+this[he+5]*Math.pow(2,8)+this[he+6]*Math.pow(2,16)+(Ne<<24);return(BigInt($e)<<BigInt(32))+BigInt(me+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24))}),E.prototype.readBigInt64BE=Pe(function(he){he=he>>>0,Qe(he,"offset");var me=this[he],Ne=this[he+7];(me===void 0||Ne===void 0)&&ct(he,this.length-8);var $e=(me<<24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he];return(BigInt($e)<<BigInt(32))+BigInt(this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+Ne)}),E.prototype.readFloatLE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),C.read(this,he,!0,23,4)},E.prototype.readFloatBE=function(he,me){return he=he>>>0,me||_e(he,4,this.length),C.read(this,he,!1,23,4)},E.prototype.readDoubleLE=function(he,me){return he=he>>>0,me||_e(he,8,this.length),C.read(this,he,!0,52,8)},E.prototype.readDoubleBE=function(he,me){return he=he>>>0,me||_e(he,8,this.length),C.read(this,he,!1,52,8)};function De(Ce,he,me,Ne,$e,ot){if(!E.isBuffer(Ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(he>$e||he<ot)throw new RangeError('"value" argument is out of bounds');if(me+Ne>Ce.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,Ne=Ne>>>0,!$e){var ot=Math.pow(2,8*Ne)-1;De(this,he,me,Ne,ot,0)}var st=1,Wt=0;for(this[me]=he&255;++Wt<Ne&&(st*=256);)this[me+Wt]=he/st&255;return me+Ne},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,Ne=Ne>>>0,!$e){var ot=Math.pow(2,8*Ne)-1;De(this,he,me,Ne,ot,0)}var st=Ne-1,Wt=1;for(this[me+st]=he&255;--st>=0&&(Wt*=256);)this[me+st]=he/Wt&255;return me+Ne},E.prototype.writeUint8=E.prototype.writeUInt8=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,1,255,0),this[me]=he&255,me+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,65535,0),this[me]=he&255,this[me+1]=he>>>8,me+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,65535,0),this[me]=he>>>8,this[me+1]=he&255,me+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,4294967295,0),this[me+3]=he>>>24,this[me+2]=he>>>16,this[me+1]=he>>>8,this[me]=he&255,me+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,4294967295,0),this[me]=he>>>24,this[me+1]=he>>>16,this[me+2]=he>>>8,this[me+3]=he&255,me+4};function Fe(Ce,he,me,Ne,$e){Je(he,Ne,$e,Ce,me,7);var ot=Number(he&BigInt(4294967295));Ce[me++]=ot,ot=ot>>8,Ce[me++]=ot,ot=ot>>8,Ce[me++]=ot,ot=ot>>8,Ce[me++]=ot;var st=Number(he>>BigInt(32)&BigInt(4294967295));return Ce[me++]=st,st=st>>8,Ce[me++]=st,st=st>>8,Ce[me++]=st,st=st>>8,Ce[me++]=st,me}function Te(Ce,he,me,Ne,$e){Je(he,Ne,$e,Ce,me,7);var ot=Number(he&BigInt(4294967295));Ce[me+7]=ot,ot=ot>>8,Ce[me+6]=ot,ot=ot>>8,Ce[me+5]=ot,ot=ot>>8,Ce[me+4]=ot;var st=Number(he>>BigInt(32)&BigInt(4294967295));return Ce[me+3]=st,st=st>>8,Ce[me+2]=st,st=st>>8,Ce[me+1]=st,st=st>>8,Ce[me]=st,me+8}E.prototype.writeBigUInt64LE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,he,me,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,he,me,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,!$e){var ot=Math.pow(2,8*Ne-1);De(this,he,me,Ne,ot-1,-ot)}var st=0,Wt=1,Pt=0;for(this[me]=he&255;++st<Ne&&(Wt*=256);)he<0&&Pt===0&&this[me+st-1]!==0&&(Pt=1),this[me+st]=(he/Wt>>0)-Pt&255;return me+Ne},E.prototype.writeIntBE=function(he,me,Ne,$e){if(he=+he,me=me>>>0,!$e){var ot=Math.pow(2,8*Ne-1);De(this,he,me,Ne,ot-1,-ot)}var st=Ne-1,Wt=1,Pt=0;for(this[me+st]=he&255;--st>=0&&(Wt*=256);)he<0&&Pt===0&&this[me+st+1]!==0&&(Pt=1),this[me+st]=(he/Wt>>0)-Pt&255;return me+Ne},E.prototype.writeInt8=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,1,127,-128),he<0&&(he=255+he+1),this[me]=he&255,me+1},E.prototype.writeInt16LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,32767,-32768),this[me]=he&255,this[me+1]=he>>>8,me+2},E.prototype.writeInt16BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,2,32767,-32768),this[me]=he>>>8,this[me+1]=he&255,me+2},E.prototype.writeInt32LE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,2147483647,-2147483648),this[me]=he&255,this[me+1]=he>>>8,this[me+2]=he>>>16,this[me+3]=he>>>24,me+4},E.prototype.writeInt32BE=function(he,me,Ne){return he=+he,me=me>>>0,Ne||De(this,he,me,4,2147483647,-2147483648),he<0&&(he=4294967295+he+1),this[me]=he>>>24,this[me+1]=he>>>16,this[me+2]=he>>>8,this[me+3]=he&255,me+4},E.prototype.writeBigInt64LE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,he,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Pe(function(he){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,he,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(Ce,he,me,Ne,$e,ot){if(me+Ne>Ce.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function Se(Ce,he,me,Ne,$e){return he=+he,me=me>>>0,$e||Re(Ce,he,me,4),C.write(Ce,he,me,Ne,23,4),me+4}E.prototype.writeFloatLE=function(he,me,Ne){return Se(this,he,me,!0,Ne)},E.prototype.writeFloatBE=function(he,me,Ne){return Se(this,he,me,!1,Ne)};function Ie(Ce,he,me,Ne,$e){return he=+he,me=me>>>0,$e||Re(Ce,he,me,8),C.write(Ce,he,me,Ne,52,8),me+8}E.prototype.writeDoubleLE=function(he,me,Ne){return Ie(this,he,me,!0,Ne)},E.prototype.writeDoubleBE=function(he,me,Ne){return Ie(this,he,me,!1,Ne)},E.prototype.copy=function(he,me,Ne,$e){if(!E.isBuffer(he))throw new TypeError("argument should be a Buffer");if(Ne||(Ne=0),!$e&&$e!==0&&($e=this.length),me>=he.length&&(me=he.length),me||(me=0),$e>0&&$e<Ne&&($e=Ne),$e===Ne||he.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Ne<0||Ne>=this.length)throw new RangeError("Index out of range");if($e<0)throw new RangeError("sourceEnd out of bounds");$e>this.length&&($e=this.length),he.length-me<$e-Ne&&($e=he.length-me+Ne);var ot=$e-Ne;return this===he&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,Ne,$e):Uint8Array.prototype.set.call(he,this.subarray(Ne,$e),me),ot},E.prototype.fill=function(he,me,Ne,$e){if(typeof he=="string"){if(typeof me=="string"?($e=me,me=0,Ne=this.length):typeof Ne=="string"&&($e=Ne,Ne=this.length),$e!==void 0&&typeof $e!="string")throw new TypeError("encoding must be a string");if(typeof $e=="string"&&!E.isEncoding($e))throw new TypeError("Unknown encoding: "+$e);if(he.length===1){var ot=he.charCodeAt(0);($e==="utf8"&&ot<128||$e==="latin1")&&(he=ot)}}else typeof he=="number"?he=he&255:typeof he=="boolean"&&(he=Number(he));if(me<0||this.length<me||this.length<Ne)throw new RangeError("Out of range index");if(Ne<=me)return this;me=me>>>0,Ne=Ne===void 0?this.length:Ne>>>0,he||(he=0);var st;if(typeof he=="number")for(st=me;st<Ne;++st)this[st]=he;else{var Wt=E.isBuffer(he)?he:E.from(he,$e),Pt=Wt.length;if(Pt===0)throw new TypeError('The value "'+he+'" is invalid for argument "value"');for(st=0;st<Ne-me;++st)this[st+me]=Wt[st%Pt]}return this};var Me={};function Ve(Ce,he,me){Me[Ce]=function(Ne){function $e(){var ot;return t(this,$e),ot=l(this,$e),Object.defineProperty(ot,"message",{value:he.apply(ot,arguments),writable:!0,configurable:!0}),ot.name="".concat(ot.name," [").concat(Ce,"]"),ot.stack,delete ot.name,ot}return a($e,Ne),n($e,[{key:"code",get:function(){return Ce},set:function(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Ce,"]: ").concat(this.message)}}])}(me)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(Ce){return Ce?"".concat(Ce," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(Ce,he){return'The "'.concat(Ce,'" argument must be of type number. Received type ').concat(x(he))},TypeError),Ve("ERR_OUT_OF_RANGE",function(Ce,he,me){var Ne='The value of "'.concat(Ce,'" is out of range.'),$e=me;return Number.isInteger(me)&&Math.abs(me)>Math.pow(2,32)?$e=et(String(me)):typeof me=="bigint"&&($e=String(me),(me>Math.pow(BigInt(2),BigInt(32))||me<-Math.pow(BigInt(2),BigInt(32)))&&($e=et($e)),$e+="n"),Ne+=" It must be ".concat(he,". Received ").concat($e),Ne},RangeError);function et(Ce){for(var he="",me=Ce.length,Ne=Ce[0]==="-"?1:0;me>=Ne+4;me-=3)he="_".concat(Ce.slice(me-3,me)).concat(he);return"".concat(Ce.slice(0,me)).concat(he)}function it(Ce,he,me){Qe(he,"offset"),(Ce[he]===void 0||Ce[he+me]===void 0)&&ct(he,Ce.length-(me+1))}function Je(Ce,he,me,Ne,$e,ot){if(Ce>me||Ce<he){var st=typeof he=="bigint"?"n":"",Wt;throw he===0||he===BigInt(0)?Wt=">= 0".concat(st," and < 2").concat(st," ** ").concat((ot+1)*8).concat(st):Wt=">= -(2".concat(st," ** ").concat((ot+1)*8-1).concat(st,") and < 2 ** ")+"".concat((ot+1)*8-1).concat(st),new Me.ERR_OUT_OF_RANGE("value",Wt,Ce)}it(Ne,$e,ot)}function Qe(Ce,he){if(typeof Ce!="number")throw new Me.ERR_INVALID_ARG_TYPE(he,"number",Ce)}function ct(Ce,he,me){throw Math.floor(Ce)!==Ce?(Qe(Ce,me),new Me.ERR_OUT_OF_RANGE("offset","an integer",Ce)):he<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(he),Ce)}var ht=/[^+/0-9A-Za-z-_]/g;function gt(Ce){if(Ce=Ce.split("=")[0],Ce=Ce.trim().replace(ht,""),Ce.length<2)return"";for(;Ce.length%4!==0;)Ce=Ce+"=";return Ce}function Tt(Ce,he){he=he||1/0;for(var me,Ne=Ce.length,$e=null,ot=[],st=0;st<Ne;++st){if(me=Ce.charCodeAt(st),me>55295&&me<57344){if(!$e){if(me>56319){(he-=3)>-1&&ot.push(239,191,189);continue}else if(st+1===Ne){(he-=3)>-1&&ot.push(239,191,189);continue}$e=me;continue}if(me<56320){(he-=3)>-1&&ot.push(239,191,189),$e=me;continue}me=($e-55296<<10|me-56320)+65536}else $e&&(he-=3)>-1&&ot.push(239,191,189);if($e=null,me<128){if((he-=1)<0)break;ot.push(me)}else if(me<2048){if((he-=2)<0)break;ot.push(me>>6|192,me&63|128)}else if(me<65536){if((he-=3)<0)break;ot.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((he-=4)<0)break;ot.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return ot}function Et(Ce){for(var he=[],me=0;me<Ce.length;++me)he.push(Ce.charCodeAt(me)&255);return he}function rt(Ce,he){for(var me,Ne,$e,ot=[],st=0;st<Ce.length&&!((he-=2)<0);++st)me=Ce.charCodeAt(st),Ne=me>>8,$e=me%256,ot.push($e),ot.push(Ne);return ot}function ze(Ce){return w.toByteArray(gt(Ce))}function He(Ce,he,me,Ne){var $e;for($e=0;$e<Ne&&!($e+me>=he.length||$e>=Ce.length);++$e)he[$e+me]=Ce[$e];return $e}function Ge(Ce,he){return Ce instanceof he||Ce!=null&&Ce.constructor!=null&&Ce.constructor.name!=null&&Ce.constructor.name===he.name}function We(Ce){return Ce!==Ce}var Le=function(){for(var Ce="0123456789abcdef",he=new Array(256),me=0;me<16;++me)for(var Ne=me*16,$e=0;$e<16;++$e)he[Ne+$e]=Ce[me]+Ce[$e];return he}();function Pe(Ce){return typeof BigInt>"u"?je:Ce}function je(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=i,v.exports.isMobile=i,v.exports.default=i;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(n){n||(n={});var f=n.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=p.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,p,r){v.exports=l;var t=r(7261),i=r(9977),n=r(4192);function f(g,h){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(T){return g[T]}),this._mode=h,this._active=g[h],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(g)},u.idle=function(g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(g)},u.lookAt=function(g,h,T,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].lookAt(g,h,T,c)},u.rotate=function(g,h,T,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].rotate(g,h,T,c)},u.pan=function(g,h,T,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].pan(g,h,T,c)},u.translate=function(g,h,T,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].translate(g,h,T,c)},u.setMatrix=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setMatrix(g,h)},u.setDistanceLimits=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistanceLimits(g,h)},u.setDistance=function(g,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistance(g,h)},u.recalcMatrix=function(g){this._active.recalcMatrix(g)},u.getDistance=function(g){return this._active.getDistance(g)},u.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},u.lastT=function(){return this._active.lastT()},u.setMode=function(g){if(g!==this._mode){var h=this._controllerNames.indexOf(g);if(!(h<0)){var T=this._active,c=this._controllerList[h],a=Math.max(T.lastT(),c.lastT());T.recalcMatrix(a),c.setMatrix(a,T.computedMatrix),this._active=c,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(g){g=g||{};var h=g.eye||[0,0,1],T=g.center||[0,0,0],c=g.up||[0,1,0],a=g.distanceLimits||[0,1/0],d=g.mode||"turntable",x=t(),w=i(),C=n();return x.setDistanceLimits(a[0],a[1]),x.lookAt(0,h,T,c),w.setDistanceLimits(a[0],a[1]),w.lookAt(0,h,T,c),C.setDistanceLimits(a[0],a[1]),C.lookAt(0,h,T,c),new f({turntable:x,orbit:w,matrix:C},d)}},7169:function(v,p,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,i=r(2762),n=r(8116),f=new t;function u(l){var g=f.get(l),h=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var T=i(l,new Float32Array([-1,-1,-1,4,4,-1]));g=n(l,[{buffer:T,type:l.FLOAT,size:2}]),g._triangleBuffer=T,f.set(l,g)}g.bind(),l.drawArrays(l.TRIANGLES,0,3),g.unbind()}v.exports=u},1085:function(v,p,r){var t=r(1371);v.exports=i;function i(n,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=n.split(/\r?\n/),g=String(l.length+f-1).length;return l.map(function(h,T){var c=T+f,a=String(c).length,d=t(c,g-a);return d+u+h}).join(`
`)}},3952:function(v,p,r){v.exports=n;var t=r(3250);function i(f,u){for(var l=new Array(u+1),g=0;g<f.length;++g)l[g]=f[g];for(var g=0;g<=f.length;++g){for(var h=f.length;h<=u;++h){for(var T=new Array(u),c=0;c<u;++c)T[c]=Math.pow(h+1-g,c);l[h]=T}var a=t.apply(void 0,l);if(a)return!0}return!1}function n(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,g=[f[0]],h=[0],T=1;T<u;++T){if(g.push(f[T]),!i(g,l)){g.pop();continue}if(h.push(T),h.length===l+1)return h}return h}},5995:function(v,p,r){v.exports=n;var t=r(7642),i=r(6037);function n(f,u){return t(u).filter(function(l){for(var g=new Array(l.length),h=0;h<l.length;++h)g[h]=u[l[h]];return i(g)*f<1})}},3502:function(v,p,r){v.exports=n;var t=r(5995),i=r(9127);function n(f,u){return i(t(f,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,p,r){v.exports=n;var t=r(727);function i(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function n(f,u){for(var l=u.length,g=new Array(l+1),h=0;h<l;++h){for(var T=new Array(l+1),c=0;c<=l;++c)T[c]=f[c][h];g[h]=T}g[l]=new Array(l+1);for(var h=0;h<=l;++h)g[l][h]=1;for(var a=new Array(l+1),h=0;h<l;++h)a[h]=u[h];a[l]=1;var d=t(g,a),x=i(d[l+1]);x===0&&(x=1);for(var w=new Array(l+1),h=0;h<=l;++h)w[h]=i(d[h])/x;return w}},7507:function(v,p){p.byteLength=g,p.toByteArray=T,p.fromByteArray=d;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=n.length;f<u;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t[45]=62,t[95]=63;function l(x){var w=x.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=x.indexOf("=");C===-1&&(C=w);var y=C===w?0:4-C%4;return[C,y]}function g(x){var w=l(x),C=w[0],y=w[1];return(C+y)*3/4-y}function h(x,w,C){return(w+C)*3/4-C}function T(x){var w,C=l(x),y=C[0],M=C[1],A=new i(h(x,y,M)),o=0,E=M>0?y-4:y,b;for(b=0;b<E;b+=4)w=t[x.charCodeAt(b)]<<18|t[x.charCodeAt(b+1)]<<12|t[x.charCodeAt(b+2)]<<6|t[x.charCodeAt(b+3)],A[o++]=w>>16&255,A[o++]=w>>8&255,A[o++]=w&255;return M===2&&(w=t[x.charCodeAt(b)]<<2|t[x.charCodeAt(b+1)]>>4,A[o++]=w&255),M===1&&(w=t[x.charCodeAt(b)]<<10|t[x.charCodeAt(b+1)]<<4|t[x.charCodeAt(b+2)]>>2,A[o++]=w>>8&255,A[o++]=w&255),A}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function a(x,w,C){for(var y,M=[],A=w;A<C;A+=3)y=(x[A]<<16&16711680)+(x[A+1]<<8&65280)+(x[A+2]&255),M.push(c(y));return M.join("")}function d(x){for(var w,C=x.length,y=C%3,M=[],A=16383,o=0,E=C-y;o<E;o+=A)M.push(a(x,o,o+A>E?E:o+A));return y===1?(w=x[C-1],M.push(r[w>>2]+r[w<<4&63]+"==")):y===2&&(w=(x[C-2]<<8)+x[C-1],M.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),M.join("")}},3865:function(v,p,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},1318:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,p,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},7842:function(v,p,r){var t=r(6330),i=r(1533),n=r(2651),f=r(4387),u=r(869),l=r(8697);v.exports=g;function g(h,T){if(t(h))return T?l(h,g(T)):[h[0].clone(),h[1].clone()];var c=0,a,d;if(i(h))a=h.clone();else if(typeof h=="string")a=f(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))a=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;a=n(h)}}if(t(T))a.mul(T[1]),d=T[0].clone();else if(i(T))d=T.clone();else if(typeof T=="string")d=f(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),c+=256;d=n(T)}return c>0?a=a.ushln(c):c<0&&(d=d.ushln(-c)),u(a,d)}},6330:function(v,p,r){var t=r(1533);v.exports=i;function i(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,p,r){var t=r(6859);v.exports=i;function i(n){return n.cmp(new t(0))}},1369:function(v,p,r){var t=r(5716);v.exports=i;function i(n){var f=n.length,u=n.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var g=0;g<f;g++){var h=u[g];l+=h*Math.pow(67108864,g)}return t(n)*l}},4025:function(v,p,r){var t=r(2361),i=r(8828).countTrailingZeros;v.exports=n;function n(f){var u=i(t.lo(f));if(u<32)return u;var l=i(t.hi(f));return l>20?52:l+32}},1533:function(v,p,r){r(6859),v.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},2651:function(v,p,r){var t=r(6859),i=r(2361);v.exports=n;function n(f){var u=i.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,p,r){var t=r(2651),i=r(5716);v.exports=n;function n(f,u){var l=i(f),g=i(u);if(l===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(f=f.neg(),u=u.neg());var h=f.gcd(u);return h.cmpn(1)?[f.div(h),u.div(h)]:[f,u]}},4387:function(v,p,r){var t=r(6859);v.exports=i;function i(n){return new t(n)}},6504:function(v,p,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},7721:function(v,p,r){var t=r(5716);v.exports=i;function i(n){return t(n[0])*t(n[1])}},5572:function(v,p,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},946:function(v,p,r){var t=r(1369),i=r(4025);v.exports=n;function n(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var g=u.abs().divmod(l.abs()),h=g.div,T=t(h),c=g.mod,a=u.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return a*T;if(T){var d=i(T)+4,x=t(c.ushln(d).divRound(l));return a*(T+x*Math.pow(2,-d))}else{var w=l.bitLength()-c.bitLength()+53,x=t(c.ushln(w).divRound(l));return w<1023?a*x*Math.pow(2,-w):(x*=Math.pow(2,-1023),a*x*Math.pow(2,1023-w))}}},2478:function(v){function p(u,l,g,h,T){for(var c=T+1;h<=T;){var a=h+T>>>1,d=u[a],x=g!==void 0?g(d,l):d-l;x>=0?(c=a,T=a-1):h=a+1}return c}function r(u,l,g,h,T){for(var c=T+1;h<=T;){var a=h+T>>>1,d=u[a],x=g!==void 0?g(d,l):d-l;x>0?(c=a,T=a-1):h=a+1}return c}function t(u,l,g,h,T){for(var c=h-1;h<=T;){var a=h+T>>>1,d=u[a],x=g!==void 0?g(d,l):d-l;x<0?(c=a,h=a+1):T=a-1}return c}function i(u,l,g,h,T){for(var c=h-1;h<=T;){var a=h+T>>>1,d=u[a],x=g!==void 0?g(d,l):d-l;x<=0?(c=a,h=a+1):T=a-1}return c}function n(u,l,g,h,T){for(;h<=T;){var c=h+T>>>1,a=u[c],d=g!==void 0?g(a,l):a-l;if(d===0)return c;d<=0?h=c+1:T=c-1}return-1}function f(u,l,g,h,T,c){return typeof g=="function"?c(u,l,g,h===void 0?0:h|0,T===void 0?u.length-1:T|0):c(u,l,void 0,g===void 0?0:g|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,l,g,h,T){return f(u,l,g,h,T,p)},gt:function(u,l,g,h,T){return f(u,l,g,h,T,r)},lt:function(u,l,g,h,T){return f(u,l,g,h,T,t)},le:function(u,l,g,h,T){return f(u,l,g,h,T,i)},eq:function(u,l,g,h,T){return f(u,l,g,h,T,n)}}},8828:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[f]=l<<g&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6859:function(v,p,r){v=r.nmd(v),function(t,i){function n(F,z){if(!F)throw new Error(z||"Assertion failed")}function f(F,z){F.super_=z;var B=function(){};B.prototype=z.prototype,F.prototype=new B,F.prototype.constructor=F}function u(F,z,B){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((z==="le"||z==="be")&&(B=z,z=10),this._init(F||0,z||10,B||"be"))}typeof t=="object"?t.exports=u:i.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}u.isBN=function(z){return z instanceof u?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===u.wordSize&&Array.isArray(z.words)},u.max=function(z,B){return z.cmp(B)>0?z:B},u.min=function(z,B){return z.cmp(B)<0?z:B},u.prototype._init=function(z,B,W){if(typeof z=="number")return this._initNumber(z,B,W);if(typeof z=="object")return this._initArray(z,B,W);B==="hex"&&(B=16),n(B===(B|0)&&B>=2&&B<=36),z=z.toString().replace(/\s+/g,"");var J=0;z[0]==="-"&&(J++,this.negative=1),J<z.length&&(B===16?this._parseHex(z,J,W):(this._parseBase(z,B,J),W==="le"&&this._initArray(this.toArray(),B,W)))},u.prototype._initNumber=function(z,B,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),B,W)},u.prototype._initArray=function(z,B,W){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re,ne,le=0;if(W==="be")for(J=z.length-1,re=0;J>=0;J-=3)ne=z[J]|z[J-1]<<8|z[J-2]<<16,this.words[re]|=ne<<le&67108863,this.words[re+1]=ne>>>26-le&67108863,le+=24,le>=26&&(le-=26,re++);else if(W==="le")for(J=0,re=0;J<z.length;J+=3)ne=z[J]|z[J+1]<<8|z[J+2]<<16,this.words[re]|=ne<<le&67108863,this.words[re+1]=ne>>>26-le&67108863,le+=24,le>=26&&(le-=26,re++);return this.strip()};function g(F,z){var B=F.charCodeAt(z);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function h(F,z,B){var W=g(F,B);return B-1>=z&&(W|=g(F,B-1)<<4),W}u.prototype._parseHex=function(z,B,W){this.length=Math.ceil((z.length-B)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var re=0,ne=0,le;if(W==="be")for(J=z.length-1;J>=B;J-=2)le=h(z,B,J)<<re,this.words[ne]|=le&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=le>>>26):re+=8;else{var $=z.length-B;for(J=$%2===0?B+1:B;J<z.length;J+=2)le=h(z,B,J)<<re,this.words[ne]|=le&67108863,re>=18?(re-=18,ne+=1,this.words[ne]|=le>>>26):re+=8}this.strip()};function T(F,z,B,W){for(var J=0,re=Math.min(F.length,B),ne=z;ne<re;ne++){var le=F.charCodeAt(ne)-48;J*=W,le>=49?J+=le-49+10:le>=17?J+=le-17+10:J+=le}return J}u.prototype._parseBase=function(z,B,W){this.words=[0],this.length=1;for(var J=0,re=1;re<=67108863;re*=B)J++;J--,re=re/B|0;for(var ne=z.length-W,le=ne%J,$=Math.min(ne,ne-le)+W,K=0,ie=W;ie<$;ie+=J)K=T(z,ie,ie+J,B),this.imuln(re),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(le!==0){var Y=1;for(K=T(z,ie,z.length,B),ie=0;ie<le;ie++)Y*=B;this.imuln(Y),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this.strip()},u.prototype.copy=function(z){z.words=new Array(this.length);for(var B=0;B<this.length;B++)z.words[B]=this.words[B];z.length=this.length,z.negative=this.negative,z.red=this.red},u.prototype.clone=function(){var z=new u(null);return this.copy(z),z},u.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(z,B){z=z||10,B=B|0||1;var W;if(z===16||z==="hex"){W="";for(var J=0,re=0,ne=0;ne<this.length;ne++){var le=this.words[ne],$=((le<<J|re)&16777215).toString(16);re=le>>>24-J&16777215,re!==0||ne!==this.length-1?W=c[6-$.length]+$+W:W=$+W,J+=2,J>=26&&(J-=26,ne--)}for(re!==0&&(W=re.toString(16)+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(z|0)&&z>=2&&z<=36){var K=a[z],ie=d[z];W="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Q=Y.modn(ie).toString(z);Y=Y.idivn(ie),Y.isZero()?W=Q+W:W=c[K-Q.length]+Q+W}for(this.isZero()&&(W="0"+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(z,B){return n(typeof l<"u"),this.toArrayLike(l,z,B)},u.prototype.toArray=function(z,B){return this.toArrayLike(Array,z,B)},u.prototype.toArrayLike=function(z,B,W){var J=this.byteLength(),re=W||Math.max(1,J);n(J<=re,"byte array longer than desired length"),n(re>0,"Requested array length <= 0"),this.strip();var ne=B==="le",le=new z(re),$,K,ie=this.clone();if(ne){for(K=0;!ie.isZero();K++)$=ie.andln(255),ie.iushrn(8),le[K]=$;for(;K<re;K++)le[K]=0}else{for(K=0;K<re-J;K++)le[K]=0;for(K=0;!ie.isZero();K++)$=ie.andln(255),ie.iushrn(8),le[re-K-1]=$}return le},Math.clz32?u.prototype._countBits=function(z){return 32-Math.clz32(z)}:u.prototype._countBits=function(z){var B=z,W=0;return B>=4096&&(W+=13,B>>>=13),B>=64&&(W+=7,B>>>=7),B>=8&&(W+=4,B>>>=4),B>=2&&(W+=2,B>>>=2),W+B},u.prototype._zeroBits=function(z){if(z===0)return 26;var B=z,W=0;return B&8191||(W+=13,B>>>=13),B&127||(W+=7,B>>>=7),B&15||(W+=4,B>>>=4),B&3||(W+=2,B>>>=2),B&1||W++,W},u.prototype.bitLength=function(){var z=this.words[this.length-1],B=this._countBits(z);return(this.length-1)*26+B};function x(F){for(var z=new Array(F.bitLength()),B=0;B<z.length;B++){var W=B/26|0,J=B%26;z[B]=(F.words[W]&1<<J)>>>J}return z}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,B=0;B<this.length;B++){var W=this._zeroBits(this.words[B]);if(z+=W,W!==26)break}return z},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},u.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var B=0;B<z.length;B++)this.words[B]=this.words[B]|z.words[B];return this.strip()},u.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},u.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},u.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},u.prototype.iuand=function(z){var B;this.length>z.length?B=z:B=this;for(var W=0;W<B.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=B.length,this.strip()},u.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},u.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},u.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},u.prototype.iuxor=function(z){var B,W;this.length>z.length?(B=this,W=z):(B=z,W=this);for(var J=0;J<W.length;J++)this.words[J]=B.words[J]^W.words[J];if(this!==B)for(;J<B.length;J++)this.words[J]=B.words[J];return this.length=B.length,this.strip()},u.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},u.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},u.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},u.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var B=Math.ceil(z/26)|0,W=z%26;this._expand(B),W>0&&B--;for(var J=0;J<B;J++)this.words[J]=~this.words[J]&67108863;return W>0&&(this.words[J]=~this.words[J]&67108863>>26-W),this.strip()},u.prototype.notn=function(z){return this.clone().inotn(z)},u.prototype.setn=function(z,B){n(typeof z=="number"&&z>=0);var W=z/26|0,J=z%26;return this._expand(W+1),B?this.words[W]=this.words[W]|1<<J:this.words[W]=this.words[W]&~(1<<J),this.strip()},u.prototype.iadd=function(z){var B;if(this.negative!==0&&z.negative===0)return this.negative=0,B=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,B=this.isub(z),z.negative=1,B._normSign();var W,J;this.length>z.length?(W=this,J=z):(W=z,J=this);for(var re=0,ne=0;ne<J.length;ne++)B=(W.words[ne]|0)+(J.words[ne]|0)+re,this.words[ne]=B&67108863,re=B>>>26;for(;re!==0&&ne<W.length;ne++)B=(W.words[ne]|0)+re,this.words[ne]=B&67108863,re=B>>>26;if(this.length=W.length,re!==0)this.words[this.length]=re,this.length++;else if(W!==this)for(;ne<W.length;ne++)this.words[ne]=W.words[ne];return this},u.prototype.add=function(z){var B;return z.negative!==0&&this.negative===0?(z.negative=0,B=this.sub(z),z.negative^=1,B):z.negative===0&&this.negative!==0?(this.negative=0,B=z.sub(this),this.negative=1,B):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},u.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var B=this.iadd(z);return z.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W=this.cmp(z);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,re;W>0?(J=this,re=z):(J=z,re=this);for(var ne=0,le=0;le<re.length;le++)B=(J.words[le]|0)-(re.words[le]|0)+ne,ne=B>>26,this.words[le]=B&67108863;for(;ne!==0&&le<J.length;le++)B=(J.words[le]|0)+ne,ne=B>>26,this.words[le]=B&67108863;if(ne===0&&le<J.length&&J!==this)for(;le<J.length;le++)this.words[le]=J.words[le];return this.length=Math.max(this.length,le),J!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(z){return this.clone().isub(z)};function w(F,z,B){B.negative=z.negative^F.negative;var W=F.length+z.length|0;B.length=W,W=W-1|0;var J=F.words[0]|0,re=z.words[0]|0,ne=J*re,le=ne&67108863,$=ne/67108864|0;B.words[0]=le;for(var K=1;K<W;K++){for(var ie=$>>>26,Y=$&67108863,Q=Math.min(K,z.length-1),oe=Math.max(0,K-F.length+1);oe<=Q;oe++){var X=K-oe|0;J=F.words[X]|0,re=z.words[oe]|0,ne=J*re+Y,ie+=ne/67108864|0,Y=ne&67108863}B.words[K]=Y|0,$=ie|0}return $!==0?B.words[K]=$|0:B.length--,B.strip()}var C=function(z,B,W){var J=z.words,re=B.words,ne=W.words,le=0,$,K,ie,Y=J[0]|0,Q=Y&8191,oe=Y>>>13,X=J[1]|0,j=X&8191,se=X>>>13,te=J[2]|0,fe=te&8191,ge=te>>>13,be=J[3]|0,xe=be&8191,_e=be>>>13,De=J[4]|0,Fe=De&8191,Te=De>>>13,Re=J[5]|0,Se=Re&8191,Ie=Re>>>13,Me=J[6]|0,Ve=Me&8191,et=Me>>>13,it=J[7]|0,Je=it&8191,Qe=it>>>13,ct=J[8]|0,ht=ct&8191,gt=ct>>>13,Tt=J[9]|0,Et=Tt&8191,rt=Tt>>>13,ze=re[0]|0,He=ze&8191,Ge=ze>>>13,We=re[1]|0,Le=We&8191,Pe=We>>>13,je=re[2]|0,Ce=je&8191,he=je>>>13,me=re[3]|0,Ne=me&8191,$e=me>>>13,ot=re[4]|0,st=ot&8191,Wt=ot>>>13,Pt=re[5]|0,dt=Pt&8191,Mt=Pt>>>13,Xt=re[6]|0,nr=Xt&8191,vt=Xt>>>13,Zt=re[7]|0,Kt=Zt&8191,yr=Zt>>>13,or=re[8]|0,mt=or&8191,lt=or>>>13,bt=re[9]|0,Ct=bt&8191,Dt=bt>>>13;W.negative=z.negative^B.negative,W.length=19,$=Math.imul(Q,He),K=Math.imul(Q,Ge),K=K+Math.imul(oe,He)|0,ie=Math.imul(oe,Ge);var Ht=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,$=Math.imul(j,He),K=Math.imul(j,Ge),K=K+Math.imul(se,He)|0,ie=Math.imul(se,Ge),$=$+Math.imul(Q,Le)|0,K=K+Math.imul(Q,Pe)|0,K=K+Math.imul(oe,Le)|0,ie=ie+Math.imul(oe,Pe)|0;var Bt=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,$=Math.imul(fe,He),K=Math.imul(fe,Ge),K=K+Math.imul(ge,He)|0,ie=Math.imul(ge,Ge),$=$+Math.imul(j,Le)|0,K=K+Math.imul(j,Pe)|0,K=K+Math.imul(se,Le)|0,ie=ie+Math.imul(se,Pe)|0,$=$+Math.imul(Q,Ce)|0,K=K+Math.imul(Q,he)|0,K=K+Math.imul(oe,Ce)|0,ie=ie+Math.imul(oe,he)|0;var Ut=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,$=Math.imul(xe,He),K=Math.imul(xe,Ge),K=K+Math.imul(_e,He)|0,ie=Math.imul(_e,Ge),$=$+Math.imul(fe,Le)|0,K=K+Math.imul(fe,Pe)|0,K=K+Math.imul(ge,Le)|0,ie=ie+Math.imul(ge,Pe)|0,$=$+Math.imul(j,Ce)|0,K=K+Math.imul(j,he)|0,K=K+Math.imul(se,Ce)|0,ie=ie+Math.imul(se,he)|0,$=$+Math.imul(Q,Ne)|0,K=K+Math.imul(Q,$e)|0,K=K+Math.imul(oe,Ne)|0,ie=ie+Math.imul(oe,$e)|0;var Jt=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,$=Math.imul(Fe,He),K=Math.imul(Fe,Ge),K=K+Math.imul(Te,He)|0,ie=Math.imul(Te,Ge),$=$+Math.imul(xe,Le)|0,K=K+Math.imul(xe,Pe)|0,K=K+Math.imul(_e,Le)|0,ie=ie+Math.imul(_e,Pe)|0,$=$+Math.imul(fe,Ce)|0,K=K+Math.imul(fe,he)|0,K=K+Math.imul(ge,Ce)|0,ie=ie+Math.imul(ge,he)|0,$=$+Math.imul(j,Ne)|0,K=K+Math.imul(j,$e)|0,K=K+Math.imul(se,Ne)|0,ie=ie+Math.imul(se,$e)|0,$=$+Math.imul(Q,st)|0,K=K+Math.imul(Q,Wt)|0,K=K+Math.imul(oe,st)|0,ie=ie+Math.imul(oe,Wt)|0;var cr=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(cr>>>26)|0,cr&=67108863,$=Math.imul(Se,He),K=Math.imul(Se,Ge),K=K+Math.imul(Ie,He)|0,ie=Math.imul(Ie,Ge),$=$+Math.imul(Fe,Le)|0,K=K+Math.imul(Fe,Pe)|0,K=K+Math.imul(Te,Le)|0,ie=ie+Math.imul(Te,Pe)|0,$=$+Math.imul(xe,Ce)|0,K=K+Math.imul(xe,he)|0,K=K+Math.imul(_e,Ce)|0,ie=ie+Math.imul(_e,he)|0,$=$+Math.imul(fe,Ne)|0,K=K+Math.imul(fe,$e)|0,K=K+Math.imul(ge,Ne)|0,ie=ie+Math.imul(ge,$e)|0,$=$+Math.imul(j,st)|0,K=K+Math.imul(j,Wt)|0,K=K+Math.imul(se,st)|0,ie=ie+Math.imul(se,Wt)|0,$=$+Math.imul(Q,dt)|0,K=K+Math.imul(Q,Mt)|0,K=K+Math.imul(oe,dt)|0,ie=ie+Math.imul(oe,Mt)|0;var hr=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(hr>>>26)|0,hr&=67108863,$=Math.imul(Ve,He),K=Math.imul(Ve,Ge),K=K+Math.imul(et,He)|0,ie=Math.imul(et,Ge),$=$+Math.imul(Se,Le)|0,K=K+Math.imul(Se,Pe)|0,K=K+Math.imul(Ie,Le)|0,ie=ie+Math.imul(Ie,Pe)|0,$=$+Math.imul(Fe,Ce)|0,K=K+Math.imul(Fe,he)|0,K=K+Math.imul(Te,Ce)|0,ie=ie+Math.imul(Te,he)|0,$=$+Math.imul(xe,Ne)|0,K=K+Math.imul(xe,$e)|0,K=K+Math.imul(_e,Ne)|0,ie=ie+Math.imul(_e,$e)|0,$=$+Math.imul(fe,st)|0,K=K+Math.imul(fe,Wt)|0,K=K+Math.imul(ge,st)|0,ie=ie+Math.imul(ge,Wt)|0,$=$+Math.imul(j,dt)|0,K=K+Math.imul(j,Mt)|0,K=K+Math.imul(se,dt)|0,ie=ie+Math.imul(se,Mt)|0,$=$+Math.imul(Q,nr)|0,K=K+Math.imul(Q,vt)|0,K=K+Math.imul(oe,nr)|0,ie=ie+Math.imul(oe,vt)|0;var pr=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(pr>>>26)|0,pr&=67108863,$=Math.imul(Je,He),K=Math.imul(Je,Ge),K=K+Math.imul(Qe,He)|0,ie=Math.imul(Qe,Ge),$=$+Math.imul(Ve,Le)|0,K=K+Math.imul(Ve,Pe)|0,K=K+Math.imul(et,Le)|0,ie=ie+Math.imul(et,Pe)|0,$=$+Math.imul(Se,Ce)|0,K=K+Math.imul(Se,he)|0,K=K+Math.imul(Ie,Ce)|0,ie=ie+Math.imul(Ie,he)|0,$=$+Math.imul(Fe,Ne)|0,K=K+Math.imul(Fe,$e)|0,K=K+Math.imul(Te,Ne)|0,ie=ie+Math.imul(Te,$e)|0,$=$+Math.imul(xe,st)|0,K=K+Math.imul(xe,Wt)|0,K=K+Math.imul(_e,st)|0,ie=ie+Math.imul(_e,Wt)|0,$=$+Math.imul(fe,dt)|0,K=K+Math.imul(fe,Mt)|0,K=K+Math.imul(ge,dt)|0,ie=ie+Math.imul(ge,Mt)|0,$=$+Math.imul(j,nr)|0,K=K+Math.imul(j,vt)|0,K=K+Math.imul(se,nr)|0,ie=ie+Math.imul(se,vt)|0,$=$+Math.imul(Q,Kt)|0,K=K+Math.imul(Q,yr)|0,K=K+Math.imul(oe,Kt)|0,ie=ie+Math.imul(oe,yr)|0;var Ye=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,$=Math.imul(ht,He),K=Math.imul(ht,Ge),K=K+Math.imul(gt,He)|0,ie=Math.imul(gt,Ge),$=$+Math.imul(Je,Le)|0,K=K+Math.imul(Je,Pe)|0,K=K+Math.imul(Qe,Le)|0,ie=ie+Math.imul(Qe,Pe)|0,$=$+Math.imul(Ve,Ce)|0,K=K+Math.imul(Ve,he)|0,K=K+Math.imul(et,Ce)|0,ie=ie+Math.imul(et,he)|0,$=$+Math.imul(Se,Ne)|0,K=K+Math.imul(Se,$e)|0,K=K+Math.imul(Ie,Ne)|0,ie=ie+Math.imul(Ie,$e)|0,$=$+Math.imul(Fe,st)|0,K=K+Math.imul(Fe,Wt)|0,K=K+Math.imul(Te,st)|0,ie=ie+Math.imul(Te,Wt)|0,$=$+Math.imul(xe,dt)|0,K=K+Math.imul(xe,Mt)|0,K=K+Math.imul(_e,dt)|0,ie=ie+Math.imul(_e,Mt)|0,$=$+Math.imul(fe,nr)|0,K=K+Math.imul(fe,vt)|0,K=K+Math.imul(ge,nr)|0,ie=ie+Math.imul(ge,vt)|0,$=$+Math.imul(j,Kt)|0,K=K+Math.imul(j,yr)|0,K=K+Math.imul(se,Kt)|0,ie=ie+Math.imul(se,yr)|0,$=$+Math.imul(Q,mt)|0,K=K+Math.imul(Q,lt)|0,K=K+Math.imul(oe,mt)|0,ie=ie+Math.imul(oe,lt)|0;var Ue=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,$=Math.imul(Et,He),K=Math.imul(Et,Ge),K=K+Math.imul(rt,He)|0,ie=Math.imul(rt,Ge),$=$+Math.imul(ht,Le)|0,K=K+Math.imul(ht,Pe)|0,K=K+Math.imul(gt,Le)|0,ie=ie+Math.imul(gt,Pe)|0,$=$+Math.imul(Je,Ce)|0,K=K+Math.imul(Je,he)|0,K=K+Math.imul(Qe,Ce)|0,ie=ie+Math.imul(Qe,he)|0,$=$+Math.imul(Ve,Ne)|0,K=K+Math.imul(Ve,$e)|0,K=K+Math.imul(et,Ne)|0,ie=ie+Math.imul(et,$e)|0,$=$+Math.imul(Se,st)|0,K=K+Math.imul(Se,Wt)|0,K=K+Math.imul(Ie,st)|0,ie=ie+Math.imul(Ie,Wt)|0,$=$+Math.imul(Fe,dt)|0,K=K+Math.imul(Fe,Mt)|0,K=K+Math.imul(Te,dt)|0,ie=ie+Math.imul(Te,Mt)|0,$=$+Math.imul(xe,nr)|0,K=K+Math.imul(xe,vt)|0,K=K+Math.imul(_e,nr)|0,ie=ie+Math.imul(_e,vt)|0,$=$+Math.imul(fe,Kt)|0,K=K+Math.imul(fe,yr)|0,K=K+Math.imul(ge,Kt)|0,ie=ie+Math.imul(ge,yr)|0,$=$+Math.imul(j,mt)|0,K=K+Math.imul(j,lt)|0,K=K+Math.imul(se,mt)|0,ie=ie+Math.imul(se,lt)|0,$=$+Math.imul(Q,Ct)|0,K=K+Math.imul(Q,Dt)|0,K=K+Math.imul(oe,Ct)|0,ie=ie+Math.imul(oe,Dt)|0;var Ot=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,$=Math.imul(Et,Le),K=Math.imul(Et,Pe),K=K+Math.imul(rt,Le)|0,ie=Math.imul(rt,Pe),$=$+Math.imul(ht,Ce)|0,K=K+Math.imul(ht,he)|0,K=K+Math.imul(gt,Ce)|0,ie=ie+Math.imul(gt,he)|0,$=$+Math.imul(Je,Ne)|0,K=K+Math.imul(Je,$e)|0,K=K+Math.imul(Qe,Ne)|0,ie=ie+Math.imul(Qe,$e)|0,$=$+Math.imul(Ve,st)|0,K=K+Math.imul(Ve,Wt)|0,K=K+Math.imul(et,st)|0,ie=ie+Math.imul(et,Wt)|0,$=$+Math.imul(Se,dt)|0,K=K+Math.imul(Se,Mt)|0,K=K+Math.imul(Ie,dt)|0,ie=ie+Math.imul(Ie,Mt)|0,$=$+Math.imul(Fe,nr)|0,K=K+Math.imul(Fe,vt)|0,K=K+Math.imul(Te,nr)|0,ie=ie+Math.imul(Te,vt)|0,$=$+Math.imul(xe,Kt)|0,K=K+Math.imul(xe,yr)|0,K=K+Math.imul(_e,Kt)|0,ie=ie+Math.imul(_e,yr)|0,$=$+Math.imul(fe,mt)|0,K=K+Math.imul(fe,lt)|0,K=K+Math.imul(ge,mt)|0,ie=ie+Math.imul(ge,lt)|0,$=$+Math.imul(j,Ct)|0,K=K+Math.imul(j,Dt)|0,K=K+Math.imul(se,Ct)|0,ie=ie+Math.imul(se,Dt)|0;var It=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(It>>>26)|0,It&=67108863,$=Math.imul(Et,Ce),K=Math.imul(Et,he),K=K+Math.imul(rt,Ce)|0,ie=Math.imul(rt,he),$=$+Math.imul(ht,Ne)|0,K=K+Math.imul(ht,$e)|0,K=K+Math.imul(gt,Ne)|0,ie=ie+Math.imul(gt,$e)|0,$=$+Math.imul(Je,st)|0,K=K+Math.imul(Je,Wt)|0,K=K+Math.imul(Qe,st)|0,ie=ie+Math.imul(Qe,Wt)|0,$=$+Math.imul(Ve,dt)|0,K=K+Math.imul(Ve,Mt)|0,K=K+Math.imul(et,dt)|0,ie=ie+Math.imul(et,Mt)|0,$=$+Math.imul(Se,nr)|0,K=K+Math.imul(Se,vt)|0,K=K+Math.imul(Ie,nr)|0,ie=ie+Math.imul(Ie,vt)|0,$=$+Math.imul(Fe,Kt)|0,K=K+Math.imul(Fe,yr)|0,K=K+Math.imul(Te,Kt)|0,ie=ie+Math.imul(Te,yr)|0,$=$+Math.imul(xe,mt)|0,K=K+Math.imul(xe,lt)|0,K=K+Math.imul(_e,mt)|0,ie=ie+Math.imul(_e,lt)|0,$=$+Math.imul(fe,Ct)|0,K=K+Math.imul(fe,Dt)|0,K=K+Math.imul(ge,Ct)|0,ie=ie+Math.imul(ge,Dt)|0;var Qt=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,$=Math.imul(Et,Ne),K=Math.imul(Et,$e),K=K+Math.imul(rt,Ne)|0,ie=Math.imul(rt,$e),$=$+Math.imul(ht,st)|0,K=K+Math.imul(ht,Wt)|0,K=K+Math.imul(gt,st)|0,ie=ie+Math.imul(gt,Wt)|0,$=$+Math.imul(Je,dt)|0,K=K+Math.imul(Je,Mt)|0,K=K+Math.imul(Qe,dt)|0,ie=ie+Math.imul(Qe,Mt)|0,$=$+Math.imul(Ve,nr)|0,K=K+Math.imul(Ve,vt)|0,K=K+Math.imul(et,nr)|0,ie=ie+Math.imul(et,vt)|0,$=$+Math.imul(Se,Kt)|0,K=K+Math.imul(Se,yr)|0,K=K+Math.imul(Ie,Kt)|0,ie=ie+Math.imul(Ie,yr)|0,$=$+Math.imul(Fe,mt)|0,K=K+Math.imul(Fe,lt)|0,K=K+Math.imul(Te,mt)|0,ie=ie+Math.imul(Te,lt)|0,$=$+Math.imul(xe,Ct)|0,K=K+Math.imul(xe,Dt)|0,K=K+Math.imul(_e,Ct)|0,ie=ie+Math.imul(_e,Dt)|0;var lr=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(lr>>>26)|0,lr&=67108863,$=Math.imul(Et,st),K=Math.imul(Et,Wt),K=K+Math.imul(rt,st)|0,ie=Math.imul(rt,Wt),$=$+Math.imul(ht,dt)|0,K=K+Math.imul(ht,Mt)|0,K=K+Math.imul(gt,dt)|0,ie=ie+Math.imul(gt,Mt)|0,$=$+Math.imul(Je,nr)|0,K=K+Math.imul(Je,vt)|0,K=K+Math.imul(Qe,nr)|0,ie=ie+Math.imul(Qe,vt)|0,$=$+Math.imul(Ve,Kt)|0,K=K+Math.imul(Ve,yr)|0,K=K+Math.imul(et,Kt)|0,ie=ie+Math.imul(et,yr)|0,$=$+Math.imul(Se,mt)|0,K=K+Math.imul(Se,lt)|0,K=K+Math.imul(Ie,mt)|0,ie=ie+Math.imul(Ie,lt)|0,$=$+Math.imul(Fe,Ct)|0,K=K+Math.imul(Fe,Dt)|0,K=K+Math.imul(Te,Ct)|0,ie=ie+Math.imul(Te,Dt)|0;var fr=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(fr>>>26)|0,fr&=67108863,$=Math.imul(Et,dt),K=Math.imul(Et,Mt),K=K+Math.imul(rt,dt)|0,ie=Math.imul(rt,Mt),$=$+Math.imul(ht,nr)|0,K=K+Math.imul(ht,vt)|0,K=K+Math.imul(gt,nr)|0,ie=ie+Math.imul(gt,vt)|0,$=$+Math.imul(Je,Kt)|0,K=K+Math.imul(Je,yr)|0,K=K+Math.imul(Qe,Kt)|0,ie=ie+Math.imul(Qe,yr)|0,$=$+Math.imul(Ve,mt)|0,K=K+Math.imul(Ve,lt)|0,K=K+Math.imul(et,mt)|0,ie=ie+Math.imul(et,lt)|0,$=$+Math.imul(Se,Ct)|0,K=K+Math.imul(Se,Dt)|0,K=K+Math.imul(Ie,Ct)|0,ie=ie+Math.imul(Ie,Dt)|0;var er=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(er>>>26)|0,er&=67108863,$=Math.imul(Et,nr),K=Math.imul(Et,vt),K=K+Math.imul(rt,nr)|0,ie=Math.imul(rt,vt),$=$+Math.imul(ht,Kt)|0,K=K+Math.imul(ht,yr)|0,K=K+Math.imul(gt,Kt)|0,ie=ie+Math.imul(gt,yr)|0,$=$+Math.imul(Je,mt)|0,K=K+Math.imul(Je,lt)|0,K=K+Math.imul(Qe,mt)|0,ie=ie+Math.imul(Qe,lt)|0,$=$+Math.imul(Ve,Ct)|0,K=K+Math.imul(Ve,Dt)|0,K=K+Math.imul(et,Ct)|0,ie=ie+Math.imul(et,Dt)|0;var Nt=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,$=Math.imul(Et,Kt),K=Math.imul(Et,yr),K=K+Math.imul(rt,Kt)|0,ie=Math.imul(rt,yr),$=$+Math.imul(ht,mt)|0,K=K+Math.imul(ht,lt)|0,K=K+Math.imul(gt,mt)|0,ie=ie+Math.imul(gt,lt)|0,$=$+Math.imul(Je,Ct)|0,K=K+Math.imul(Je,Dt)|0,K=K+Math.imul(Qe,Ct)|0,ie=ie+Math.imul(Qe,Dt)|0;var ir=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(ir>>>26)|0,ir&=67108863,$=Math.imul(Et,mt),K=Math.imul(Et,lt),K=K+Math.imul(rt,mt)|0,ie=Math.imul(rt,lt),$=$+Math.imul(ht,Ct)|0,K=K+Math.imul(ht,Dt)|0,K=K+Math.imul(gt,Ct)|0,ie=ie+Math.imul(gt,Dt)|0;var vr=(le+$|0)+((K&8191)<<13)|0;le=(ie+(K>>>13)|0)+(vr>>>26)|0,vr&=67108863,$=Math.imul(Et,Ct),K=Math.imul(Et,Dt),K=K+Math.imul(rt,Ct)|0,ie=Math.imul(rt,Dt);var xr=(le+$|0)+((K&8191)<<13)|0;return le=(ie+(K>>>13)|0)+(xr>>>26)|0,xr&=67108863,ne[0]=Ht,ne[1]=Bt,ne[2]=Ut,ne[3]=Jt,ne[4]=cr,ne[5]=hr,ne[6]=pr,ne[7]=Ye,ne[8]=Ue,ne[9]=Ot,ne[10]=It,ne[11]=Qt,ne[12]=lr,ne[13]=fr,ne[14]=er,ne[15]=Nt,ne[16]=ir,ne[17]=vr,ne[18]=xr,le!==0&&(ne[19]=le,W.length++),W};Math.imul||(C=w);function y(F,z,B){B.negative=z.negative^F.negative,B.length=F.length+z.length;for(var W=0,J=0,re=0;re<B.length-1;re++){var ne=J;J=0;for(var le=W&67108863,$=Math.min(re,z.length-1),K=Math.max(0,re-F.length+1);K<=$;K++){var ie=re-K,Y=F.words[ie]|0,Q=z.words[K]|0,oe=Y*Q,X=oe&67108863;ne=ne+(oe/67108864|0)|0,X=X+le|0,le=X&67108863,ne=ne+(X>>>26)|0,J+=ne>>>26,ne&=67108863}B.words[re]=le,W=ne,ne=J}return W!==0?B.words[re]=W:B.length--,B.strip()}function M(F,z,B){var W=new A;return W.mulp(F,z,B)}u.prototype.mulTo=function(z,B){var W,J=this.length+z.length;return this.length===10&&z.length===10?W=C(this,z,B):J<63?W=w(this,z,B):J<1024?W=y(this,z,B):W=M(this,z,B),W};function A(F,z){this.x=F,this.y=z}A.prototype.makeRBT=function(z){for(var B=new Array(z),W=u.prototype._countBits(z)-1,J=0;J<z;J++)B[J]=this.revBin(J,W,z);return B},A.prototype.revBin=function(z,B,W){if(z===0||z===W-1)return z;for(var J=0,re=0;re<B;re++)J|=(z&1)<<B-re-1,z>>=1;return J},A.prototype.permute=function(z,B,W,J,re,ne){for(var le=0;le<ne;le++)J[le]=B[z[le]],re[le]=W[z[le]]},A.prototype.transform=function(z,B,W,J,re,ne){this.permute(ne,z,B,W,J,re);for(var le=1;le<re;le<<=1)for(var $=le<<1,K=Math.cos(2*Math.PI/$),ie=Math.sin(2*Math.PI/$),Y=0;Y<re;Y+=$)for(var Q=K,oe=ie,X=0;X<le;X++){var j=W[Y+X],se=J[Y+X],te=W[Y+X+le],fe=J[Y+X+le],ge=Q*te-oe*fe;fe=Q*fe+oe*te,te=ge,W[Y+X]=j+te,J[Y+X]=se+fe,W[Y+X+le]=j-te,J[Y+X+le]=se-fe,X!==$&&(ge=K*Q-ie*oe,oe=K*oe+ie*Q,Q=ge)}},A.prototype.guessLen13b=function(z,B){var W=Math.max(B,z)|1,J=W&1,re=0;for(W=W/2|0;W;W=W>>>1)re++;return 1<<re+1+J},A.prototype.conjugate=function(z,B,W){if(!(W<=1))for(var J=0;J<W/2;J++){var re=z[J];z[J]=z[W-J-1],z[W-J-1]=re,re=B[J],B[J]=-B[W-J-1],B[W-J-1]=-re}},A.prototype.normalize13b=function(z,B){for(var W=0,J=0;J<B/2;J++){var re=Math.round(z[2*J+1]/B)*8192+Math.round(z[2*J]/B)+W;z[J]=re&67108863,re<67108864?W=0:W=re/67108864|0}return z},A.prototype.convert13b=function(z,B,W,J){for(var re=0,ne=0;ne<B;ne++)re=re+(z[ne]|0),W[2*ne]=re&8191,re=re>>>13,W[2*ne+1]=re&8191,re=re>>>13;for(ne=2*B;ne<J;++ne)W[ne]=0;n(re===0),n((re&-8192)===0)},A.prototype.stub=function(z){for(var B=new Array(z),W=0;W<z;W++)B[W]=0;return B},A.prototype.mulp=function(z,B,W){var J=2*this.guessLen13b(z.length,B.length),re=this.makeRBT(J),ne=this.stub(J),le=new Array(J),$=new Array(J),K=new Array(J),ie=new Array(J),Y=new Array(J),Q=new Array(J),oe=W.words;oe.length=J,this.convert13b(z.words,z.length,le,J),this.convert13b(B.words,B.length,ie,J),this.transform(le,ne,$,K,J,re),this.transform(ie,ne,Y,Q,J,re);for(var X=0;X<J;X++){var j=$[X]*Y[X]-K[X]*Q[X];K[X]=$[X]*Q[X]+K[X]*Y[X],$[X]=j}return this.conjugate($,K,J),this.transform($,K,oe,ne,J,re),this.conjugate(oe,ne,J),this.normalize13b(oe,J),W.negative=z.negative^B.negative,W.length=z.length+B.length,W.strip()},u.prototype.mul=function(z){var B=new u(null);return B.words=new Array(this.length+z.length),this.mulTo(z,B)},u.prototype.mulf=function(z){var B=new u(null);return B.words=new Array(this.length+z.length),M(this,z,B)},u.prototype.imul=function(z){return this.clone().mulTo(z,this)},u.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var B=0,W=0;W<this.length;W++){var J=(this.words[W]|0)*z,re=(J&67108863)+(B&67108863);B>>=26,B+=J/67108864|0,B+=re>>>26,this.words[W]=re&67108863}return B!==0&&(this.words[W]=B,this.length++),this},u.prototype.muln=function(z){return this.clone().imuln(z)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(z){var B=x(z);if(B.length===0)return new u(1);for(var W=this,J=0;J<B.length&&B[J]===0;J++,W=W.sqr());if(++J<B.length)for(var re=W.sqr();J<B.length;J++,re=re.sqr())B[J]!==0&&(W=W.mul(re));return W},u.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26,J=67108863>>>26-B<<26-B,re;if(B!==0){var ne=0;for(re=0;re<this.length;re++){var le=this.words[re]&J,$=(this.words[re]|0)-le<<B;this.words[re]=$|ne,ne=le>>>26-B}ne&&(this.words[re]=ne,this.length++)}if(W!==0){for(re=this.length-1;re>=0;re--)this.words[re+W]=this.words[re];for(re=0;re<W;re++)this.words[re]=0;this.length+=W}return this.strip()},u.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},u.prototype.iushrn=function(z,B,W){n(typeof z=="number"&&z>=0);var J;B?J=(B-B%26)/26:J=0;var re=z%26,ne=Math.min((z-re)/26,this.length),le=67108863^67108863>>>re<<re,$=W;if(J-=ne,J=Math.max(0,J),$){for(var K=0;K<ne;K++)$.words[K]=this.words[K];$.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,K=0;K<this.length;K++)this.words[K]=this.words[K+ne];else this.words[0]=0,this.length=1;var ie=0;for(K=this.length-1;K>=0&&(ie!==0||K>=J);K--){var Y=this.words[K]|0;this.words[K]=ie<<26-re|Y>>>re,ie=Y&le}return $&&ie!==0&&($.words[$.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(z,B,W){return n(this.negative===0),this.iushrn(z,B,W)},u.prototype.shln=function(z){return this.clone().ishln(z)},u.prototype.ushln=function(z){return this.clone().iushln(z)},u.prototype.shrn=function(z){return this.clone().ishrn(z)},u.prototype.ushrn=function(z){return this.clone().iushrn(z)},u.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26,J=1<<B;if(this.length<=W)return!1;var re=this.words[W];return!!(re&J)},u.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var B=z%26,W=(z-B)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(B!==0&&W++,this.length=Math.min(W,this.length),B!==0){var J=67108863^67108863>>>B<<B;this.words[this.length-1]&=J}return this.strip()},u.prototype.maskn=function(z){return this.clone().imaskn(z)},u.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},u.prototype._iaddn=function(z){this.words[0]+=z;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},u.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},u.prototype.addn=function(z){return this.clone().iaddn(z)},u.prototype.subn=function(z){return this.clone().isubn(z)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(z,B,W){var J=z.length+W,re;this._expand(J);var ne,le=0;for(re=0;re<z.length;re++){ne=(this.words[re+W]|0)+le;var $=(z.words[re]|0)*B;ne-=$&67108863,le=(ne>>26)-($/67108864|0),this.words[re+W]=ne&67108863}for(;re<this.length-W;re++)ne=(this.words[re+W]|0)+le,le=ne>>26,this.words[re+W]=ne&67108863;if(le===0)return this.strip();for(n(le===-1),le=0,re=0;re<this.length;re++)ne=-(this.words[re]|0)+le,le=ne>>26,this.words[re]=ne&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(z,B){var W=this.length-z.length,J=this.clone(),re=z,ne=re.words[re.length-1]|0,le=this._countBits(ne);W=26-le,W!==0&&(re=re.ushln(W),J.iushln(W),ne=re.words[re.length-1]|0);var $=J.length-re.length,K;if(B!=="mod"){K=new u(null),K.length=$+1,K.words=new Array(K.length);for(var ie=0;ie<K.length;ie++)K.words[ie]=0}var Y=J.clone()._ishlnsubmul(re,1,$);Y.negative===0&&(J=Y,K&&(K.words[$]=1));for(var Q=$-1;Q>=0;Q--){var oe=(J.words[re.length+Q]|0)*67108864+(J.words[re.length+Q-1]|0);for(oe=Math.min(oe/ne|0,67108863),J._ishlnsubmul(re,oe,Q);J.negative!==0;)oe--,J.negative=0,J._ishlnsubmul(re,1,Q),J.isZero()||(J.negative^=1);K&&(K.words[Q]=oe)}return K&&K.strip(),J.strip(),B!=="div"&&W!==0&&J.iushrn(W),{div:K||null,mod:J}},u.prototype.divmod=function(z,B,W){if(n(!z.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var J,re,ne;return this.negative!==0&&z.negative===0?(ne=this.neg().divmod(z,B),B!=="mod"&&(J=ne.div.neg()),B!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.iadd(z)),{div:J,mod:re}):this.negative===0&&z.negative!==0?(ne=this.divmod(z.neg(),B),B!=="mod"&&(J=ne.div.neg()),{div:J,mod:ne.mod}):this.negative&z.negative?(ne=this.neg().divmod(z.neg(),B),B!=="div"&&(re=ne.mod.neg(),W&&re.negative!==0&&re.isub(z)),{div:ne.div,mod:re}):z.length>this.length||this.cmp(z)<0?{div:new u(0),mod:this}:z.length===1?B==="div"?{div:this.divn(z.words[0]),mod:null}:B==="mod"?{div:null,mod:new u(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new u(this.modn(z.words[0]))}:this._wordDiv(z,B)},u.prototype.div=function(z){return this.divmod(z,"div",!1).div},u.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},u.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},u.prototype.divRound=function(z){var B=this.divmod(z);if(B.mod.isZero())return B.div;var W=B.div.negative!==0?B.mod.isub(z):B.mod,J=z.ushrn(1),re=z.andln(1),ne=W.cmp(J);return ne<0||re===1&&ne===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},u.prototype.modn=function(z){n(z<=67108863);for(var B=(1<<26)%z,W=0,J=this.length-1;J>=0;J--)W=(B*W+(this.words[J]|0))%z;return W},u.prototype.idivn=function(z){n(z<=67108863);for(var B=0,W=this.length-1;W>=0;W--){var J=(this.words[W]|0)+B*67108864;this.words[W]=J/z|0,B=J%z}return this.strip()},u.prototype.divn=function(z){return this.clone().idivn(z)},u.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var B=this,W=z.clone();B.negative!==0?B=B.umod(z):B=B.clone();for(var J=new u(1),re=new u(0),ne=new u(0),le=new u(1),$=0;B.isEven()&&W.isEven();)B.iushrn(1),W.iushrn(1),++$;for(var K=W.clone(),ie=B.clone();!B.isZero();){for(var Y=0,Q=1;!(B.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(B.iushrn(Y);Y-- >0;)(J.isOdd()||re.isOdd())&&(J.iadd(K),re.isub(ie)),J.iushrn(1),re.iushrn(1);for(var oe=0,X=1;!(W.words[0]&X)&&oe<26;++oe,X<<=1);if(oe>0)for(W.iushrn(oe);oe-- >0;)(ne.isOdd()||le.isOdd())&&(ne.iadd(K),le.isub(ie)),ne.iushrn(1),le.iushrn(1);B.cmp(W)>=0?(B.isub(W),J.isub(ne),re.isub(le)):(W.isub(B),ne.isub(J),le.isub(re))}return{a:ne,b:le,gcd:W.iushln($)}},u.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var B=this,W=z.clone();B.negative!==0?B=B.umod(z):B=B.clone();for(var J=new u(1),re=new u(0),ne=W.clone();B.cmpn(1)>0&&W.cmpn(1)>0;){for(var le=0,$=1;!(B.words[0]&$)&&le<26;++le,$<<=1);if(le>0)for(B.iushrn(le);le-- >0;)J.isOdd()&&J.iadd(ne),J.iushrn(1);for(var K=0,ie=1;!(W.words[0]&ie)&&K<26;++K,ie<<=1);if(K>0)for(W.iushrn(K);K-- >0;)re.isOdd()&&re.iadd(ne),re.iushrn(1);B.cmp(W)>=0?(B.isub(W),J.isub(re)):(W.isub(B),re.isub(J))}var Y;return B.cmpn(1)===0?Y=J:Y=re,Y.cmpn(0)<0&&Y.iadd(z),Y},u.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var B=this.clone(),W=z.clone();B.negative=0,W.negative=0;for(var J=0;B.isEven()&&W.isEven();J++)B.iushrn(1),W.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;W.isEven();)W.iushrn(1);var re=B.cmp(W);if(re<0){var ne=B;B=W,W=ne}else if(re===0||W.cmpn(1)===0)break;B.isub(W)}while(!0);return W.iushln(J)},u.prototype.invm=function(z){return this.egcd(z).a.umod(z)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(z){return this.words[0]&z},u.prototype.bincn=function(z){n(typeof z=="number");var B=z%26,W=(z-B)/26,J=1<<B;if(this.length<=W)return this._expand(W+1),this.words[W]|=J,this;for(var re=J,ne=W;re!==0&&ne<this.length;ne++){var le=this.words[ne]|0;le+=re,re=le>>>26,le&=67108863,this.words[ne]=le}return re!==0&&(this.words[ne]=re,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(z){var B=z<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var W;if(this.length>1)W=1;else{B&&(z=-z),n(z<=67108863,"Number is too big");var J=this.words[0]|0;W=J===z?0:J<z?-1:1}return this.negative!==0?-W|0:W},u.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var B=this.ucmp(z);return this.negative!==0?-B|0:B},u.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var B=0,W=this.length-1;W>=0;W--){var J=this.words[W]|0,re=z.words[W]|0;if(J!==re){J<re?B=-1:J>re&&(B=1);break}}return B},u.prototype.gtn=function(z){return this.cmpn(z)===1},u.prototype.gt=function(z){return this.cmp(z)===1},u.prototype.gten=function(z){return this.cmpn(z)>=0},u.prototype.gte=function(z){return this.cmp(z)>=0},u.prototype.ltn=function(z){return this.cmpn(z)===-1},u.prototype.lt=function(z){return this.cmp(z)===-1},u.prototype.lten=function(z){return this.cmpn(z)<=0},u.prototype.lte=function(z){return this.cmp(z)<=0},u.prototype.eqn=function(z){return this.cmpn(z)===0},u.prototype.eq=function(z){return this.cmp(z)===0},u.red=function(z){return new k(z)},u.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(z){return this.red=z,this},u.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},u.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},u.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},u.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},u.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},u.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},u.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},u.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var o={k256:null,p224:null,p192:null,p25519:null};function E(F,z){this.name=F,this.p=new u(z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var z=new u(null);return z.words=new Array(Math.ceil(this.n/13)),z},E.prototype.ireduce=function(z){var B=z,W;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),W=B.bitLength();while(W>this.n);var J=W<this.n?-1:B.ucmp(this.p);return J===0?(B.words[0]=0,B.length=1):J>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},E.prototype.split=function(z,B){z.iushrn(this.n,0,B)},E.prototype.imulK=function(z){return z.imul(this.k)};function b(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(b,E),b.prototype.split=function(z,B){for(var W=4194303,J=Math.min(z.length,9),re=0;re<J;re++)B.words[re]=z.words[re];if(B.length=J,z.length<=9){z.words[0]=0,z.length=1;return}var ne=z.words[9];for(B.words[B.length++]=ne&W,re=10;re<z.length;re++){var le=z.words[re]|0;z.words[re-10]=(le&W)<<4|ne>>>22,ne=le}ne>>>=22,z.words[re-10]=ne,ne===0&&z.length>10?z.length-=10:z.length-=9},b.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var B=0,W=0;W<z.length;W++){var J=z.words[W]|0;B+=J*977,z.words[W]=B&67108863,B=J*64+(B/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function I(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(I,E);function D(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(D,E);function N(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(N,E),N.prototype.imulK=function(z){for(var B=0,W=0;W<z.length;W++){var J=(z.words[W]|0)*19+B,re=J&67108863;J>>>=26,z.words[W]=re,B=J}return B!==0&&(z.words[z.length++]=B),z},u._prime=function(z){if(o[z])return o[z];var B;if(z==="k256")B=new b;else if(z==="p224")B=new I;else if(z==="p192")B=new D;else if(z==="p25519")B=new N;else throw new Error("Unknown prime "+z);return o[z]=B,B};function k(F){if(typeof F=="string"){var z=u._prime(F);this.m=z.p,this.prime=z}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}k.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},k.prototype._verify2=function(z,B){n((z.negative|B.negative)===0,"red works only with positives"),n(z.red&&z.red===B.red,"red works only with red numbers")},k.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},k.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},k.prototype.add=function(z,B){this._verify2(z,B);var W=z.add(B);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},k.prototype.iadd=function(z,B){this._verify2(z,B);var W=z.iadd(B);return W.cmp(this.m)>=0&&W.isub(this.m),W},k.prototype.sub=function(z,B){this._verify2(z,B);var W=z.sub(B);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},k.prototype.isub=function(z,B){this._verify2(z,B);var W=z.isub(B);return W.cmpn(0)<0&&W.iadd(this.m),W},k.prototype.shl=function(z,B){return this._verify1(z),this.imod(z.ushln(B))},k.prototype.imul=function(z,B){return this._verify2(z,B),this.imod(z.imul(B))},k.prototype.mul=function(z,B){return this._verify2(z,B),this.imod(z.mul(B))},k.prototype.isqr=function(z){return this.imul(z,z.clone())},k.prototype.sqr=function(z){return this.mul(z,z)},k.prototype.sqrt=function(z){if(z.isZero())return z.clone();var B=this.m.andln(3);if(n(B%2===1),B===3){var W=this.m.add(new u(1)).iushrn(2);return this.pow(z,W)}for(var J=this.m.subn(1),re=0;!J.isZero()&&J.andln(1)===0;)re++,J.iushrn(1);n(!J.isZero());var ne=new u(1).toRed(this),le=ne.redNeg(),$=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new u(2*K*K).toRed(this);this.pow(K,$).cmp(le)!==0;)K.redIAdd(le);for(var ie=this.pow(K,J),Y=this.pow(z,J.addn(1).iushrn(1)),Q=this.pow(z,J),oe=re;Q.cmp(ne)!==0;){for(var X=Q,j=0;X.cmp(ne)!==0;j++)X=X.redSqr();n(j<oe);var se=this.pow(ie,new u(1).iushln(oe-j-1));Y=Y.redMul(se),ie=se.redSqr(),Q=Q.redMul(ie),oe=j}return Y},k.prototype.invm=function(z){var B=z._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},k.prototype.pow=function(z,B){if(B.isZero())return new u(1).toRed(this);if(B.cmpn(1)===0)return z.clone();var W=4,J=new Array(1<<W);J[0]=new u(1).toRed(this),J[1]=z;for(var re=2;re<J.length;re++)J[re]=this.mul(J[re-1],z);var ne=J[0],le=0,$=0,K=B.bitLength()%26;for(K===0&&(K=26),re=B.length-1;re>=0;re--){for(var ie=B.words[re],Y=K-1;Y>=0;Y--){var Q=ie>>Y&1;if(ne!==J[0]&&(ne=this.sqr(ne)),Q===0&&le===0){$=0;continue}le<<=1,le|=Q,$++,!($!==W&&(re!==0||Y!==0))&&(ne=this.mul(ne,J[le]),$=0,le=0)}K=26}return ne},k.prototype.convertTo=function(z){var B=z.umod(this.m);return B===z?B.clone():B},k.prototype.convertFrom=function(z){var B=z.clone();return B.red=null,B},u.mont=function(z){return new O(z)};function O(F){k.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(O,k),O.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},O.prototype.convertFrom=function(z){var B=this.imod(z.mul(this.rinv));return B.red=null,B},O.prototype.imul=function(z,B){if(z.isZero()||B.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(B),J=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub(J).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.mul=function(z,B){if(z.isZero()||B.isZero())return new u(0)._forceRed(this);var W=z.mul(B),J=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),re=W.isub(J).iushrn(this.shift),ne=re;return re.cmp(this.m)>=0?ne=re.isub(this.m):re.cmpn(0)<0&&(ne=re.iadd(this.m)),ne._forceRed(this)},O.prototype.invm=function(z){var B=this.imod(z._invmp(this.m).mul(this.r2));return B._forceRed(this)}}(v,this)},6204:function(v){v.exports=p;function p(r){var t,i,n,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),g=0;for(t=0;t<f;++t){var h=r[t],T=h.length;for(i=0;i<T;++i){var c=l[g++]=new Array(T-1),a=0;for(n=0;n<T;++n)n!==i&&(c[a++]=h[n]);if(i&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},6867:function(v,p,r){v.exports=a;var t=r(1888),i=r(855),n=r(7150);function f(d,x){for(var w=0;w<d;++w)if(!(x[w]<=x[w+d]))return!0;return!1}function u(d,x,w,C){for(var y=0,M=0,A=0,o=d.length;A<o;++A){var E=d[A];if(!f(x,E)){for(var b=0;b<2*x;++b)w[y++]=E[b];C[M++]=A}}return M}function l(d,x,w,C){var y=d.length,M=x.length;if(!(y<=0||M<=0)){var A=d[0].length>>>1;if(!(A<=0)){var o,E=t.mallocDouble(2*A*y),b=t.mallocInt32(y);if(y=u(d,A,E,b),y>0){if(A===1&&C)i.init(y),o=i.sweepComplete(A,w,0,y,E,b,0,y,E,b);else{var I=t.mallocDouble(2*A*M),D=t.mallocInt32(M);M=u(x,A,I,D),M>0&&(i.init(y+M),A===1?o=i.sweepBipartite(A,w,0,y,E,b,0,M,I,D):o=n(A,w,C,y,E,b,M,I,D),t.free(I),t.free(D))}t.free(E),t.free(b)}return o}}}var g;function h(d,x){g.push([d,x])}function T(d){return g=[],l(d,d,h,!0),g}function c(d,x){return g=[],l(d,x,h,!1),g}function a(d,x,w){switch(arguments.length){case 1:return T(d);case 2:return typeof x=="function"?l(d,d,x,!0):c(d,x);case 3:return l(d,x,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,p){function r(){function n(l,g,h,T,c,a,d,x,w,C,y){for(var M=2*l,A=T,o=M*T;A<c;++A,o+=M){var E=a[g+o],b=a[g+o+l],I=d[A];e:for(var D=x,N=M*x;D<w;++D,N+=M){var k=C[g+N],O=C[g+N+l],F=y[D];if(!(O<E||b<k)){for(var z=g+1;z<l;++z){var B=a[z+o],W=a[z+l+o],J=C[z+N],re=C[z+l+N];if(W<J||re<B)continue e}var ne=h(I,F);if(ne!==void 0)return ne}}}}function f(l,g,h,T,c,a,d,x,w,C,y){for(var M=2*l,A=x,o=M*x;A<w;++A,o+=M){var E=C[g+o],b=C[g+o+l],I=y[A];e:for(var D=T,N=M*T;D<c;++D,N+=M){var k=a[g+N],O=a[g+N+l],F=d[D];if(!(b<k||O<E)){for(var z=g+1;z<l;++z){var B=a[z+N],W=a[z+l+N],J=C[z+o],re=C[z+l+o];if(W<J||re<B)continue e}var ne=h(F,I);if(ne!==void 0)return ne}}}}function u(l,g,h,T,c,a,d,x,w,C,y){return c-T>w-x?n(l,g,h,T,c,a,d,x,w,C,y):f(l,g,h,T,c,a,d,x,w,C,y)}return u}function t(){function n(h,T,c,a,d,x,w,C,y,M,A){for(var o=2*h,E=a,b=o*a;E<d;++E,b+=o){var I=x[T+b],D=x[T+b+h],N=w[E];e:for(var k=C,O=o*C;k<y;++k,O+=o){var F=M[T+O],z=A[k];if(!(F<=I||D<F)){for(var B=T+1;B<h;++B){var W=x[B+b],J=x[B+h+b],re=M[B+O],ne=M[B+h+O];if(J<re||ne<W)continue e}var le=c(z,N);if(le!==void 0)return le}}}}function f(h,T,c,a,d,x,w,C,y,M,A){for(var o=2*h,E=a,b=o*a;E<d;++E,b+=o){var I=x[T+b],D=x[T+b+h],N=w[E];e:for(var k=C,O=o*C;k<y;++k,O+=o){var F=M[T+O],z=A[k];if(!(F<I||D<F)){for(var B=T+1;B<h;++B){var W=x[B+b],J=x[B+h+b],re=M[B+O],ne=M[B+h+O];if(J<re||ne<W)continue e}var le=c(N,z);if(le!==void 0)return le}}}}function u(h,T,c,a,d,x,w,C,y,M,A){for(var o=2*h,E=C,b=o*C;E<y;++E,b+=o){var I=M[T+b],D=A[E];e:for(var N=a,k=o*a;N<d;++N,k+=o){var O=x[T+k],F=x[T+k+h],z=w[N];if(!(I<=O||F<I)){for(var B=T+1;B<h;++B){var W=x[B+k],J=x[B+h+k],re=M[B+b],ne=M[B+h+b];if(J<re||ne<W)continue e}var le=c(D,z);if(le!==void 0)return le}}}}function l(h,T,c,a,d,x,w,C,y,M,A){for(var o=2*h,E=C,b=o*C;E<y;++E,b+=o){var I=M[T+b],D=A[E];e:for(var N=a,k=o*a;N<d;++N,k+=o){var O=x[T+k],F=x[T+k+h],z=w[N];if(!(I<O||F<I)){for(var B=T+1;B<h;++B){var W=x[B+k],J=x[B+h+k],re=M[B+b],ne=M[B+h+b];if(J<re||ne<W)continue e}var le=c(z,D);if(le!==void 0)return le}}}}function g(h,T,c,a,d,x,w,C,y,M,A,o){return x-d>M-y?a?n(h,T,c,d,x,w,C,y,M,A,o):f(h,T,c,d,x,w,C,y,M,A,o):a?u(h,T,c,d,x,w,C,y,M,A,o):l(h,T,c,d,x,w,C,y,M,A,o)}return g}function i(n){return n?r():t()}p.partial=i(!1),p.full=i(!0)},7150:function(v,p,r){v.exports=F;var t=r(1888),i=r(8828),n=r(2455),f=n.partial,u=n.full,l=r(855),g=r(3545),h=r(8105),T=128,c=1<<22,a=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),w=h("lo<p0"),C=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),M=h("lo<p0&&p0<=hi"),A=6,o=2,E=1024,b=t.mallocInt32(E),I=t.mallocDouble(E);function D(z,B){var W=8*i.log2(B+1)*(z+1)|0,J=i.nextPow2(A*W);b.length<J&&(t.free(b),b=t.mallocInt32(J));var re=i.nextPow2(o*W);I.length<re&&(t.free(I),I=t.mallocDouble(re))}function N(z,B,W,J,re,ne,le,$,K){var ie=A*z;b[ie]=B,b[ie+1]=W,b[ie+2]=J,b[ie+3]=re,b[ie+4]=ne,b[ie+5]=le;var Y=o*z;I[Y]=$,I[Y+1]=K}function k(z,B,W,J,re,ne,le,$,K,ie,Y){var Q=2*z,oe=K*Q,X=ie[oe+B];e:for(var j=re,se=re*Q;j<ne;++j,se+=Q){var te=le[se+B],fe=le[se+B+z];if(!(X<te||fe<X)&&!(J&&X===te)){for(var ge=$[j],be=B+1;be<z;++be){var te=le[se+be],fe=le[se+be+z],xe=ie[oe+be],_e=ie[oe+be+z];if(fe<xe||_e<te)continue e}var De;if(J?De=W(Y,ge):De=W(ge,Y),De!==void 0)return De}}}function O(z,B,W,J,re,ne,le,$,K,ie){var Y=2*z,Q=$*Y,oe=K[Q+B];e:for(var X=J,j=J*Y;X<re;++X,j+=Y){var se=le[X];if(se!==ie){var te=ne[j+B],fe=ne[j+B+z];if(!(oe<te||fe<oe)){for(var ge=B+1;ge<z;++ge){var te=ne[j+ge],fe=ne[j+ge+z],be=K[Q+ge],xe=K[Q+ge+z];if(fe<be||xe<te)continue e}var _e=W(se,ie);if(_e!==void 0)return _e}}}}function F(z,B,W,J,re,ne,le,$,K){D(z,J+le);var ie=0,Y=2*z,Q;for(N(ie++,0,0,J,0,le,W?16:0,-1/0,1/0),W||N(ie++,0,0,le,0,J,1,-1/0,1/0);ie>0;){ie-=1;var oe=ie*A,X=b[oe],j=b[oe+1],se=b[oe+2],te=b[oe+3],fe=b[oe+4],ge=b[oe+5],be=ie*o,xe=I[be],_e=I[be+1],De=ge&1,Fe=!!(ge&16),Te=re,Re=ne,Se=$,Ie=K;if(De&&(Te=$,Re=K,Se=re,Ie=ne),!(ge&2&&(se=w(z,X,j,se,Te,Re,_e),j>=se))&&!(ge&4&&(j=C(z,X,j,se,Te,Re,xe),j>=se))){var Me=se-j,Ve=fe-te;if(Fe){if(z*Me*(Me+Ve)<a){if(Q=l.scanComplete(z,X,B,j,se,Te,Re,te,fe,Se,Ie),Q!==void 0)return Q;continue}}else if(z*Math.min(Me,Ve)<T){if(Q=f(z,X,B,De,j,se,Te,Re,te,fe,Se,Ie),Q!==void 0)return Q;continue}else if(z*Me*Ve<c){if(Q=l.scanBipartite(z,X,B,De,j,se,Te,Re,te,fe,Se,Ie),Q!==void 0)return Q;continue}var et=d(z,X,j,se,Te,Re,xe,_e);if(j<et)if(z*(et-j)<T){if(Q=u(z,X+1,B,j,et,Te,Re,te,fe,Se,Ie),Q!==void 0)return Q}else if(X===z-2){if(De?Q=l.sweepBipartite(z,B,te,fe,Se,Ie,j,et,Te,Re):Q=l.sweepBipartite(z,B,j,et,Te,Re,te,fe,Se,Ie),Q!==void 0)return Q}else N(ie++,X+1,j,et,te,fe,De,-1/0,1/0),N(ie++,X+1,te,fe,j,et,De^1,-1/0,1/0);if(et<se){var it=g(z,X,te,fe,Se,Ie),Je=Se[Y*it+X],Qe=x(z,X,it,fe,Se,Ie,Je);if(Qe<fe&&N(ie++,X,et,se,Qe,fe,(De|4)+(Fe?16:0),Je,_e),te<it&&N(ie++,X,et,se,te,it,(De|2)+(Fe?16:0),xe,Je),it+1===Qe){if(Fe?Q=O(z,X,B,et,se,Te,Re,it,Se,Ie[it]):Q=k(z,X,B,De,et,se,Te,Re,it,Se,Ie[it]),Q!==void 0)return Q}else if(it<Qe){var ct;if(Fe){if(ct=y(z,X,et,se,Te,Re,Je),et<ct){var ht=x(z,X,et,ct,Te,Re,Je);if(X===z-2){if(et<ht&&(Q=l.sweepComplete(z,B,et,ht,Te,Re,it,Qe,Se,Ie),Q!==void 0)||ht<ct&&(Q=l.sweepBipartite(z,B,ht,ct,Te,Re,it,Qe,Se,Ie),Q!==void 0))return Q}else et<ht&&N(ie++,X+1,et,ht,it,Qe,16,-1/0,1/0),ht<ct&&(N(ie++,X+1,ht,ct,it,Qe,0,-1/0,1/0),N(ie++,X+1,it,Qe,ht,ct,1,-1/0,1/0))}}else De?ct=M(z,X,et,se,Te,Re,Je):ct=y(z,X,et,se,Te,Re,Je),et<ct&&(X===z-2?De?Q=l.sweepBipartite(z,B,it,Qe,Se,Ie,et,ct,Te,Re):Q=l.sweepBipartite(z,B,et,ct,Te,Re,it,Qe,Se,Ie):(N(ie++,X+1,et,ct,it,Qe,De,-1/0,1/0),N(ie++,X+1,it,Qe,et,ct,De^1,-1/0,1/0)))}}}}}},3545:function(v,p,r){v.exports=u;var t=r(8105),i=t("lo<p0"),n=8;function f(l,g,h,T,c,a){for(var d=2*l,x=d*(h+1)+g,w=h+1;w<T;++w,x+=d)for(var C=c[x],y=w,M=d*(w-1);y>h&&c[M+g]>C;--y,M-=d){for(var A=M,o=M+d,E=0;E<d;++E,++A,++o){var b=c[A];c[A]=c[o],c[o]=b}var I=a[y];a[y]=a[y-1],a[y-1]=I}}function u(l,g,h,T,c,a){if(T<=h+1)return h;for(var d=h,x=T,w=T+h>>>1,C=2*l,y=w,M=c[C*w+g];d<x;){if(x-d<n){f(l,g,d,x,c,a),M=c[C*w+g];break}var A=x-d,o=Math.random()*A+d|0,E=c[C*o+g],b=Math.random()*A+d|0,I=c[C*b+g],D=Math.random()*A+d|0,N=c[C*D+g];E<=I?N>=I?(y=b,M=I):E>=N?(y=o,M=E):(y=D,M=N):I>=N?(y=b,M=I):N>=E?(y=o,M=E):(y=D,M=N);for(var F=C*(x-1),z=C*y,k=0;k<C;++k,++F,++z){var O=c[F];c[F]=c[z],c[z]=O}var B=a[x-1];a[x-1]=a[y],a[y]=B,y=i(l,g,d,x-1,c,a,M);for(var F=C*(x-1),z=C*y,k=0;k<C;++k,++F,++z){var O=c[F];c[F]=c[z],c[z]=O}var B=a[x-1];if(a[x-1]=a[y],a[y]=B,w<y){for(x=y-1;d<x&&c[C*(x-1)+g]===M;)x-=1;x+=1}else if(y<w)for(d=y+1;d<x&&c[C*d+g]===M;)d+=1;else break}return i(l,g,h,w,c,a,c[C*w+g])}},8105:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":i,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":g};function r(h){return p[h]}function t(h,T,c,a,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,o=T,E=h+T,b=c;a>b;++b,y+=C){var I=d[y+o];if(I===w)if(A===b)A+=1,M+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[M],d[M++]=N}var k=x[b];x[b]=x[A],x[A++]=k}}return A}function i(h,T,c,a,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,o=T,E=h+T,b=c;a>b;++b,y+=C){var I=d[y+o];if(I<w)if(A===b)A+=1,M+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[M],d[M++]=N}var k=x[b];x[b]=x[A],x[A++]=k}}return A}function n(h,T,c,a,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,o=T,E=h+T,b=c;a>b;++b,y+=C){var I=d[y+E];if(I<=w)if(A===b)A+=1,M+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[M],d[M++]=N}var k=x[b];x[b]=x[A],x[A++]=k}}return A}function f(h,T,c,a,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,o=T,E=h+T,b=c;a>b;++b,y+=C){var I=d[y+E];if(I<=w)if(A===b)A+=1,M+=C;else{for(var D=0;C>D;++D){var N=d[y+D];d[y+D]=d[M],d[M++]=N}var k=x[b];x[b]=x[A],x[A++]=k}}return A}function u(h,T,c,a,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,o=T,E=h+T,b=c;a>b;++b,y+=C){var I=d[y+o],D=d[y+E];if(I<=w&&w<=D)if(A===b)A+=1,M+=C;else{for(var N=0;C>N;++N){var k=d[y+N];d[y+N]=d[M],d[M++]=k}var O=x[b];x[b]=x[A],x[A++]=O}}return A}function l(h,T,c,a,d,x,w){for(var C=2*h,y=C*c,M=y,A=c,o=T,E=h+T,b=c;a>b;++b,y+=C){var I=d[y+o],D=d[y+E];if(I<w&&w<=D)if(A===b)A+=1,M+=C;else{for(var N=0;C>N;++N){var k=d[y+N];d[y+N]=d[M],d[M++]=k}var O=x[b];x[b]=x[A],x[A++]=O}}return A}function g(h,T,c,a,d,x,w,C){for(var y=2*h,M=y*c,A=M,o=c,E=T,b=h+T,I=c;a>I;++I,M+=y){var D=d[M+E],N=d[M+b];if(!(D>=w)&&!(C>=N))if(o===I)o+=1,A+=y;else{for(var k=0;y>k;++k){var O=d[M+k];d[M+k]=d[A],d[A++]=O}var F=x[I];x[I]=x[o],x[o++]=F}}return o}},1811:function(v){v.exports=r;var p=32;function r(T,c){c<=4*p?t(0,c-1,T):h(0,c-1,T)}function t(T,c,a){for(var d=2*(T+1),x=T+1;x<=c;++x){for(var w=a[d++],C=a[d++],y=x,M=d-2;y-- >T;){var A=a[M-2],o=a[M-1];if(A<w)break;if(A===w&&o<C)break;a[M]=A,a[M+1]=o,M-=2}a[M]=w,a[M+1]=C}}function i(T,c,a){T*=2,c*=2;var d=a[T],x=a[T+1];a[T]=a[c],a[T+1]=a[c+1],a[c]=d,a[c+1]=x}function n(T,c,a){T*=2,c*=2,a[T]=a[c],a[T+1]=a[c+1]}function f(T,c,a,d){T*=2,c*=2,a*=2;var x=d[T],w=d[T+1];d[T]=d[c],d[T+1]=d[c+1],d[c]=d[a],d[c+1]=d[a+1],d[a]=x,d[a+1]=w}function u(T,c,a,d,x){T*=2,c*=2,x[T]=x[c],x[c]=a,x[T+1]=x[c+1],x[c+1]=d}function l(T,c,a){T*=2,c*=2;var d=a[T],x=a[c];return d<x?!1:d===x?a[T+1]>a[c+1]:!0}function g(T,c,a,d){T*=2;var x=d[T];return x<c?!0:x===c?d[T+1]<a:!1}function h(T,c,a){var d=(c-T+1)/6|0,x=T+d,w=c-d,C=T+c>>1,y=C-d,M=C+d,A=x,o=y,E=C,b=M,I=w,D=T+1,N=c-1,k=0;l(A,o,a)&&(k=A,A=o,o=k),l(b,I,a)&&(k=b,b=I,I=k),l(A,E,a)&&(k=A,A=E,E=k),l(o,E,a)&&(k=o,o=E,E=k),l(A,b,a)&&(k=A,A=b,b=k),l(E,b,a)&&(k=E,E=b,b=k),l(o,I,a)&&(k=o,o=I,I=k),l(o,E,a)&&(k=o,o=E,E=k),l(b,I,a)&&(k=b,b=I,I=k);for(var O=a[2*o],F=a[2*o+1],z=a[2*b],B=a[2*b+1],W=2*A,J=2*E,re=2*I,ne=2*x,le=2*C,$=2*w,K=0;K<2;++K){var ie=a[W+K],Y=a[J+K],Q=a[re+K];a[ne+K]=ie,a[le+K]=Y,a[$+K]=Q}n(y,T,a),n(M,c,a);for(var oe=D;oe<=N;++oe)if(g(oe,O,F,a))oe!==D&&i(oe,D,a),++D;else if(!g(oe,z,B,a))for(;;)if(g(N,z,B,a)){g(N,O,F,a)?(f(oe,D,N,a),++D,--N):(i(oe,N,a),--N);break}else{if(--N<oe)break;continue}u(T,D-1,O,F,a),u(c,N+1,z,B,a),D-2-T<=p?t(T,D-2,a):h(T,D-2,a),c-(N+2)<=p?t(N+2,c,a):h(N+2,c,a),N-D<=p?t(D,N,a):h(D,N,a)}},855:function(v,p,r){v.exports={init:x,sweepBipartite:y,sweepComplete:M,scanBipartite:A,scanComplete:o};var t=r(1888),i=r(8828),n=r(1811),f=1<<28,u=1024,l=t.mallocInt32(u),g=t.mallocInt32(u),h=t.mallocInt32(u),T=t.mallocInt32(u),c=t.mallocInt32(u),a=t.mallocInt32(u),d=t.mallocDouble(u*8);function x(E){var b=i.nextPow2(E);l.length<b&&(t.free(l),l=t.mallocInt32(b)),g.length<b&&(t.free(g),g=t.mallocInt32(b)),h.length<b&&(t.free(h),h=t.mallocInt32(b)),T.length<b&&(t.free(T),T=t.mallocInt32(b)),c.length<b&&(t.free(c),c=t.mallocInt32(b)),a.length<b&&(t.free(a),a=t.mallocInt32(b));var I=8*b;d.length<I&&(t.free(d),d=t.mallocDouble(I))}function w(E,b,I,D){var N=b[D],k=E[I-1];E[N]=k,b[k]=N}function C(E,b,I,D){E[I]=D,b[D]=I}function y(E,b,I,D,N,k,O,F,z,B){for(var W=0,J=2*E,re=E-1,ne=J-1,le=I;le<D;++le){var $=k[le],K=J*le;d[W++]=N[K+re],d[W++]=-($+1),d[W++]=N[K+ne],d[W++]=$}for(var le=O;le<F;++le){var $=B[le]+f,ie=J*le;d[W++]=z[ie+re],d[W++]=-$,d[W++]=z[ie+ne],d[W++]=$}var Y=W>>>1;n(d,Y);for(var Q=0,oe=0,le=0;le<Y;++le){var X=d[2*le+1]|0;if(X>=f)X=X-f|0,w(h,T,oe--,X);else if(X>=0)w(l,g,Q--,X);else if(X<=-f){X=-X-f|0;for(var j=0;j<Q;++j){var se=b(l[j],X);if(se!==void 0)return se}C(h,T,oe++,X)}else{X=-X-1|0;for(var j=0;j<oe;++j){var se=b(X,h[j]);if(se!==void 0)return se}C(l,g,Q++,X)}}}function M(E,b,I,D,N,k,O,F,z,B){for(var W=0,J=2*E,re=E-1,ne=J-1,le=I;le<D;++le){var $=k[le]+1<<1,K=J*le;d[W++]=N[K+re],d[W++]=-$,d[W++]=N[K+ne],d[W++]=$}for(var le=O;le<F;++le){var $=B[le]+1<<1,ie=J*le;d[W++]=z[ie+re],d[W++]=-$|1,d[W++]=z[ie+ne],d[W++]=$|1}var Y=W>>>1;n(d,Y);for(var Q=0,oe=0,X=0,le=0;le<Y;++le){var j=d[2*le+1]|0,se=j&1;if(le<Y-1&&j>>1===d[2*le+3]>>1&&(se=2,le+=1),j<0){for(var te=-(j>>1)-1,fe=0;fe<X;++fe){var ge=b(c[fe],te);if(ge!==void 0)return ge}if(se!==0)for(var fe=0;fe<Q;++fe){var ge=b(l[fe],te);if(ge!==void 0)return ge}if(se!==1)for(var fe=0;fe<oe;++fe){var ge=b(h[fe],te);if(ge!==void 0)return ge}se===0?C(l,g,Q++,te):se===1?C(h,T,oe++,te):se===2&&C(c,a,X++,te)}else{var te=(j>>1)-1;se===0?w(l,g,Q--,te):se===1?w(h,T,oe--,te):se===2&&w(c,a,X--,te)}}}function A(E,b,I,D,N,k,O,F,z,B,W,J){var re=0,ne=2*E,le=b,$=b+E,K=1,ie=1;D?ie=f:K=f;for(var Y=N;Y<k;++Y){var Q=Y+K,oe=ne*Y;d[re++]=O[oe+le],d[re++]=-Q,d[re++]=O[oe+$],d[re++]=Q}for(var Y=z;Y<B;++Y){var Q=Y+ie,X=ne*Y;d[re++]=W[X+le],d[re++]=-Q}var j=re>>>1;n(d,j);for(var se=0,Y=0;Y<j;++Y){var te=d[2*Y+1]|0;if(te<0){var Q=-te,fe=!1;if(Q>=f?(fe=!D,Q-=f):(fe=!!D,Q-=1),fe)C(l,g,se++,Q);else{var ge=J[Q],be=ne*Q,xe=W[be+b+1],_e=W[be+b+1+E];e:for(var De=0;De<se;++De){var Fe=l[De],Te=ne*Fe;if(!(_e<O[Te+b+1]||O[Te+b+1+E]<xe)){for(var Re=b+2;Re<E;++Re)if(W[be+Re+E]<O[Te+Re]||O[Te+Re+E]<W[be+Re])continue e;var Se=F[Fe],Ie;if(D?Ie=I(ge,Se):Ie=I(Se,ge),Ie!==void 0)return Ie}}}}else w(l,g,se--,te-K)}}function o(E,b,I,D,N,k,O,F,z,B,W){for(var J=0,re=2*E,ne=b,le=b+E,$=D;$<N;++$){var K=$+f,ie=re*$;d[J++]=k[ie+ne],d[J++]=-K,d[J++]=k[ie+le],d[J++]=K}for(var $=F;$<z;++$){var K=$+1,Y=re*$;d[J++]=B[Y+ne],d[J++]=-K}var Q=J>>>1;n(d,Q);for(var oe=0,$=0;$<Q;++$){var X=d[2*$+1]|0;if(X<0){var K=-X;if(K>=f)l[oe++]=K-f;else{K-=1;var j=W[K],se=re*K,te=B[se+b+1],fe=B[se+b+1+E];e:for(var ge=0;ge<oe;++ge){var be=l[ge],xe=O[be];if(xe===j)break;var _e=re*be;if(!(fe<k[_e+b+1]||k[_e+b+1+E]<te)){for(var De=b+2;De<E;++De)if(B[se+De+E]<k[_e+De]||k[_e+De+E]<B[se+De])continue e;var Fe=I(xe,j);if(Fe!==void 0)return Fe}}}}else{for(var K=X-f,ge=oe-1;ge>=0;--ge)if(l[ge]===K){for(var De=ge+1;De<oe;++De)l[De-1]=l[De];break}--oe}}}},2538:function(v,p,r){var t=r(8902),i=r(5542),n=r(2272),f=r(5023);v.exports=T;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,a){return c[0]-a[0]||c[1]-a[1]}function g(c){return c.map(u).sort(l)}function h(c,a,d){return a in c?c[a]:d}function T(c,a,d){Array.isArray(a)?(d=d||{},a=a||[]):(d=a||{},a=[]);var x=!!h(d,"delaunay",!0),w=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!w&&!C||c.length===0)return[];var M=t(c,a);if(x||w!==C||y){for(var A=i(c.length,g(a)),o=0;o<M.length;++o){var E=M[o];A.addTriangle(E[0],E[1],E[2])}return x&&n(c,A),C?w?y?f(A,0,y):A.cells():f(A,1,y):f(A,-1)}else return M}},2272:function(v,p,r){var t=r(2646)[4];r(2478),v.exports=n;function i(f,u,l,g,h,T){var c=u.opposite(g,h);if(!(c<0)){if(h<g){var a=g;g=h,h=a,a=T,T=c,c=a}u.isConstraint(g,h)||t(f[g],f[h],f[T],f[c])<0&&l.push(g,h)}}function n(f,u){for(var l=[],g=f.length,h=u.stars,T=0;T<g;++T)for(var c=h[T],a=1;a<c.length;a+=2){var d=c[a];if(!(d<T)&&!u.isConstraint(T,d)){for(var x=c[a-1],w=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){w=c[C];break}w<0||t(f[T],f[d],f[x],f[w])<0&&l.push(T,d)}}for(;l.length>0;){for(var d=l.pop(),T=l.pop(),x=-1,w=-1,c=h[T],y=1;y<c.length;y+=2){var M=c[y-1],A=c[y];M===d?w=A:A===d&&(x=M)}x<0||w<0||t(f[T],f[d],f[x],f[w])>=0||(u.flip(T,d),i(f,u,l,x,T,w),i(f,u,l,T,w,x),i(f,u,l,w,d,x),i(f,u,l,d,x,w))}}},5023:function(v,p,r){var t=r(2478);v.exports=g;function i(h,T,c,a,d,x,w){this.cells=h,this.neighbor=T,this.flags=a,this.constraint=c,this.active=d,this.next=x,this.boundary=w}var n=i.prototype;function f(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}n.locate=function(){var h=[0,0,0];return function(T,c,a){var d=T,x=c,w=a;return c<a?c<T&&(d=c,x=a,w=T):a<T&&(d=a,x=T,w=c),d<0?-1:(h[0]=d,h[1]=x,h[2]=w,t.eq(this.cells,h,f))}}();function u(h,T){for(var c=h.cells(),a=c.length,d=0;d<a;++d){var x=c[d],w=x[0],C=x[1],y=x[2];C<y?C<w&&(x[0]=C,x[1]=y,x[2]=w):y<w&&(x[0]=y,x[1]=w,x[2]=C)}c.sort(f);for(var M=new Array(a),d=0;d<M.length;++d)M[d]=0;var A=[],o=[],E=new Array(3*a),b=new Array(3*a),I=null;T&&(I=[]);for(var D=new i(c,E,b,M,A,o,I),d=0;d<a;++d)for(var x=c[d],N=0;N<3;++N){var w=x[N],C=x[(N+1)%3],k=E[3*d+N]=D.locate(C,w,h.opposite(C,w)),O=b[3*d+N]=h.isConstraint(w,C);k<0&&(O?o.push(d):(A.push(d),M[d]=1),T&&I.push([C,w,-1]))}return D}function l(h,T,c){for(var a=0,d=0;d<h.length;++d)T[d]===c&&(h[a++]=h[d]);return h.length=a,h}function g(h,T,c){var a=u(h,c);if(T===0)return c?a.cells.concat(a.boundary):a.cells;for(var d=1,x=a.active,w=a.next,C=a.flags,y=a.cells,M=a.constraint,A=a.neighbor;x.length>0||w.length>0;){for(;x.length>0;){var o=x.pop();if(C[o]!==-d){C[o]=d,y[o];for(var E=0;E<3;++E){var b=A[3*o+E];b>=0&&C[b]===0&&(M[3*o+E]?w.push(b):(x.push(b),C[b]=d))}}}var I=w;w=x,x=I,w.length=0,d=-d}var D=l(y,C,T);return c?D.concat(a.boundary):D}},8902:function(v,p,r){var t=r(2478),i=r(3250)[3],n=0,f=1,u=2;v.exports=w;function l(C,y,M,A,o){this.a=C,this.b=y,this.idx=M,this.lowerIds=A,this.upperIds=o}function g(C,y,M,A){this.a=C,this.b=y,this.type=M,this.idx=A}function h(C,y){var M=C.a[0]-y.a[0]||C.a[1]-y.a[1]||C.type-y.type;return M||C.type!==n&&(M=i(C.a,C.b,y.b),M)?M:C.idx-y.idx}function T(C,y){return i(C.a,C.b,y)}function c(C,y,M,A,o){for(var E=t.lt(y,A,T),b=t.gt(y,A,T),I=E;I<b;++I){for(var D=y[I],N=D.lowerIds,O=N.length;O>1&&i(M[N[O-2]],M[N[O-1]],A)>0;)C.push([N[O-1],N[O-2],o]),O-=1;N.length=O,N.push(o);for(var k=D.upperIds,O=k.length;O>1&&i(M[k[O-2]],M[k[O-1]],A)<0;)C.push([k[O-2],k[O-1],o]),O-=1;k.length=O,k.push(o)}}function a(C,y){var M;return C.a[0]<y.a[0]?M=i(C.a,C.b,y.a):M=i(y.b,y.a,C.a),M||(y.b[0]<C.b[0]?M=i(C.a,C.b,y.b):M=i(y.b,y.a,C.b),M||C.idx-y.idx)}function d(C,y,M){var A=t.le(C,M,a),o=C[A],E=o.upperIds,b=E[E.length-1];o.upperIds=[b],C.splice(A+1,0,new l(M.a,M.b,M.idx,[b],E))}function x(C,y,M){var A=M.a;M.a=M.b,M.b=A;var o=t.eq(C,M,a),E=C[o],b=C[o-1];b.upperIds=E.upperIds,C.splice(o,1)}function w(C,y){for(var M=C.length,A=y.length,o=[],E=0;E<M;++E)o.push(new g(C[E],null,n,E));for(var E=0;E<A;++E){var b=y[E],I=C[b[0]],D=C[b[1]];I[0]<D[0]?o.push(new g(I,D,u,E),new g(D,I,f,E)):I[0]>D[0]&&o.push(new g(D,I,u,E),new g(I,D,f,E))}o.sort(h);for(var N=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),k=[new l([N,1],[N,0],-1,[],[])],O=[],E=0,F=o.length;E<F;++E){var z=o[E],B=z.type;B===n?c(O,k,C,z.a,z.idx):B===u?d(k,C,z):x(k,C,z)}return O}},5542:function(v,p,r){var t=r(2478);v.exports=u;function i(l,g){this.stars=l,this.edges=g}var n=i.prototype;function f(l,g,h){for(var T=1,c=l.length;T<c;T+=2)if(l[T-1]===g&&l[T]===h){l[T-1]=l[c-2],l[T]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function g(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return l[0]=Math.min(h,T),l[1]=Math.max(h,T),t.eq(this.edges,l,g)>=0}}(),n.removeTriangle=function(l,g,h){var T=this.stars;f(T[l],g,h),f(T[g],h,l),f(T[h],l,g)},n.addTriangle=function(l,g,h){var T=this.stars;T[l].push(g,h),T[g].push(h,l),T[h].push(l,g)},n.opposite=function(l,g){for(var h=this.stars[g],T=1,c=h.length;T<c;T+=2)if(h[T]===l)return h[T-1];return-1},n.flip=function(l,g){var h=this.opposite(l,g),T=this.opposite(g,l);this.removeTriangle(l,g,h),this.removeTriangle(g,l,T),this.addTriangle(l,T,h),this.addTriangle(g,h,T)},n.edges=function(){for(var l=this.stars,g=[],h=0,T=l.length;h<T;++h)for(var c=l[h],a=0,d=c.length;a<d;a+=2)g.push([c[a],c[a+1]]);return g},n.cells=function(){for(var l=this.stars,g=[],h=0,T=l.length;h<T;++h)for(var c=l[h],a=0,d=c.length;a<d;a+=2){var x=c[a],w=c[a+1];h<Math.min(x,w)&&g.push([h,x,w])}return g};function u(l,g){for(var h=new Array(l),T=0;T<l;++T)h[T]=[];return new i(h,g)}},2419:function(v){v.exports=p;function p(r){for(var t=1,i=1;i<r.length;++i)for(var n=0;n<i;++n)if(r[i]<r[n])t=-t;else if(r[n]===r[i])return 0;return t}},3628:function(v,p,r){var t=r(1338),i=r(727);function n(l,g){for(var h=0,T=l.length,c=0;c<T;++c)h+=l[c]*g[c];return h}function f(l){var g=l.length;if(g===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),T=t([l.length+1],1);h[g][g]=0;for(var c=0;c<g;++c){for(var a=0;a<=c;++a)h[a][c]=h[c][a]=2*n(l[c],l[a]);T[c]=n(l[c],l[c])}for(var d=i(h,T),x=0,w=d[g+1],c=0;c<w.length;++c)x+=w[c];for(var C=new Array(g),c=0;c<g;++c){for(var w=d[c],y=0,a=0;a<w.length;++a)y+=w[a];C[c]=y/x}return C}function u(l){if(l.length===0)return[];for(var g=l[0].length,h=t([g]),T=f(l),c=0;c<l.length;++c)for(var a=0;a<g;++a)h[a]+=l[c][a]*T[c];return h}u.barycenetric=f,v.exports=u},6037:function(v,p,r){v.exports=i;var t=r(3628);function i(n){for(var f=t(n),u=0,l=0;l<n.length;++l)for(var g=n[l],h=0;h<f.length;++h)u+=Math.pow(g[h]-f[h],2);return Math.sqrt(u/n.length)}},332:function(v,p,r){v.exports=I;var t=r(1755),i=r(6867),n=r(1125),f=r(7842),u=r(1318),l=r(946),g=r(5838),h=r(1278),T=r(3637);function c(D){var N=l(D);return[h(N,-1/0),h(N,1/0)]}function a(D,N){for(var k=new Array(N.length),O=0;O<N.length;++O){var F=N[O],z=D[F[0]],B=D[F[1]];k[O]=[h(Math.min(z[0],B[0]),-1/0),h(Math.min(z[1],B[1]),-1/0),h(Math.max(z[0],B[0]),1/0),h(Math.max(z[1],B[1]),1/0)]}return k}function d(D){for(var N=new Array(D.length),k=0;k<D.length;++k){var O=D[k];N[k]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return N}function x(D,N,k){var O=[];return i(k,function(F,z){var B=N[F],W=N[z];if(!(B[0]===W[0]||B[0]===W[1]||B[1]===W[0]||B[1]===W[1])){var J=D[B[0]],re=D[B[1]],ne=D[W[0]],le=D[W[1]];n(J,re,ne,le)&&O.push([F,z])}}),O}function w(D,N,k,O){var F=[];return i(k,O,function(z,B){var W=N[z];if(!(W[0]===B||W[1]===B)){var J=D[B],re=D[W[0]],ne=D[W[1]];n(re,ne,J,J)&&F.push([z,B])}}),F}function C(D,N,k,O,F){var z,B,W=D.map(function(be){return[f(be[0]),f(be[1])]});for(z=0;z<k.length;++z){var J=k[z];B=J[0];var re=J[1],ne=N[B],le=N[re],$=T(g(D[ne[0]]),g(D[ne[1]]),g(D[le[0]]),g(D[le[1]]));if($){var K=D.length;D.push([l($[0]),l($[1])]),W.push($),O.push([B,K],[re,K])}}for(O.sort(function(be,xe){if(be[0]!==xe[0])return be[0]-xe[0];var _e=W[be[1]],De=W[xe[1]];return u(_e[0],De[0])||u(_e[1],De[1])}),z=O.length-1;z>=0;--z){var ie=O[z];B=ie[0];var Y=N[B],Q=Y[0],oe=Y[1],X=D[Q],j=D[oe];if((X[0]-j[0]||X[1]-j[1])<0){var se=Q;Q=oe,oe=se}Y[0]=Q;var te=Y[1]=ie[1],fe;for(F&&(fe=Y[2]);z>0&&O[z-1][0]===B;){var ie=O[--z],ge=ie[1];F?N.push([te,ge,fe]):N.push([te,ge]),te=ge}F?N.push([te,oe,fe]):N.push([te,oe])}return W}function y(D,N,k){for(var O=N.length,F=new t(O),z=[],B=0;B<N.length;++B){var W=N[B],J=c(W[0]),re=c(W[1]);z.push([h(J[0],-1/0),h(re[0],-1/0),h(J[1],1/0),h(re[1],1/0)])}i(z,function(ie,Y){F.link(ie,Y)});for(var ne=!0,le=new Array(O),B=0;B<O;++B){var $=F.find(B);$!==B&&(ne=!1,D[$]=[Math.min(D[B][0],D[$][0]),Math.min(D[B][1],D[$][1])])}if(ne)return null;for(var K=0,B=0;B<O;++B){var $=F.find(B);$===B?(le[B]=K,D[K++]=D[B]):le[B]=-1}D.length=K;for(var B=0;B<O;++B)le[B]<0&&(le[B]=le[F.find(B)]);return le}function M(D,N){return D[0]-N[0]||D[1]-N[1]}function A(D,N){var k=D[0]-N[0]||D[1]-N[1];return k||(D[2]<N[2]?-1:D[2]>N[2]?1:0)}function o(D,N,k){if(D.length!==0){if(N)for(var O=0;O<D.length;++O){var F=D[O],z=N[F[0]],B=N[F[1]];F[0]=Math.min(z,B),F[1]=Math.max(z,B)}else for(var O=0;O<D.length;++O){var F=D[O],z=F[0],B=F[1];F[0]=Math.min(z,B),F[1]=Math.max(z,B)}k?D.sort(A):D.sort(M);for(var W=1,O=1;O<D.length;++O){var J=D[O-1],re=D[O];re[0]===J[0]&&re[1]===J[1]&&(!k||re[2]===J[2])||(D[W++]=re)}D.length=W}}function E(D,N,k){var O=y(D,[],d(D));return o(N,O,k),!!O}function b(D,N,k){var O=a(D,N),F=x(D,N,O),z=d(D),B=w(D,N,O,z),W=C(D,N,F,B,k),J=y(D,W);return o(N,J,k),J?!0:F.length>0||B.length>0}function I(D,N,k){var O;if(k){O=N;for(var F=new Array(N.length),z=0;z<N.length;++z){var B=N[z];F[z]=[B[0],B[1],k[z]]}N=F}for(var W=E(D,N,!!k);b(D,N,!!k);)W=!0;if(k&&W){O.length=0,k.length=0;for(var z=0;z<N.length;++z){var B=N[z];O.push([B[0],B[1]]),k.push(B[2])}}return W}},3637:function(v,p,r){v.exports=T;var t=r(6504),i=r(8697),n=r(5572),f=r(7721),u=r(544),l=r(2653),g=r(8987);function h(c,a){return n(t(c[0],a[1]),t(c[1],a[0]))}function T(c,a,d,x){var w=u(a,c),C=u(x,d),y=h(w,C);if(f(y)===0)return null;var M=u(c,d),A=h(C,M),o=i(A,y),E=g(w,o),b=l(c,E);return b}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,p,r){var t=r(3642),i=r(395);v.exports=n;function n(g){var h,T,c,a,d,x,w,C,o,y,M;if(g||(g={}),C=(g.nshades||72)-1,w=g.format||"hex",x=g.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");d=t[x]}else if(Array.isArray(x))d=x.slice();else throw Error("unsupported colormap option",x);if(d.length>C+1)throw new Error(x+" map requires nshades to be at least size "+d.length);Array.isArray(g.alpha)?g.alpha.length!==2?y=[1,1]:y=g.alpha.slice():typeof g.alpha=="number"?y=[g.alpha,g.alpha]:y=[1,1],h=d.map(function(I){return Math.round(I.index*C)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var A=d.map(function(I,D){var N=d[D].index,k=d[D].rgb.slice();return k.length===4&&k[3]>=0&&k[3]<=1||(k[3]=y[0]+(y[1]-y[0])*N),k}),o=[];for(M=0;M<h.length-1;++M){a=h[M+1]-h[M],T=A[M],c=A[M+1];for(var E=0;E<a;E++){var b=E/a;o.push([Math.round(i(T[0],c[0],b)),Math.round(i(T[1],c[1],b)),Math.round(i(T[2],c[2],b)),i(T[3],c[3],b)])}}return o.push(d[d.length-1].rgb.concat(y[1])),w==="hex"?o=o.map(u):w==="rgbaString"?o=o.map(l):w==="float"&&(o=o.map(f)),o}function f(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function u(g){for(var h,T="#",c=0;c<3;++c)h=g[c],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function l(g){return"rgba("+g.join(",")+")"}},3140:function(v,p,r){v.exports=g;var t=r(3250),i=r(8572),n=r(9362),f=r(5382),u=r(8210);function l(h,T,c){var a=n(h[0],-T[0]),d=n(h[1],-T[1]),x=n(c[0],-T[0]),w=n(c[1],-T[1]),C=u(f(a,x),f(d,w));return C[C.length-1]>=0}function g(h,T,c,a){var d=t(T,c,a);if(d===0){var x=i(t(h,T,c)),w=i(t(h,T,a));if(x===w){if(x===0){var C=l(h,T,c),y=l(h,T,a);return C===y?0:C?1:-1}return 0}else{if(w===0)return x>0||l(h,T,a)?-1:1;if(x===0)return w>0||l(h,T,c)?1:-1}return i(w-x)}var M=t(h,T,c);if(M>0)return d>0&&t(h,T,a)>0?1:-1;if(M<0)return d>0||t(h,T,a)>0?1:-1;var A=t(h,T,a);return A>0||l(h,T,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var p=Math.min;function r(i,n){return i-n}function t(i,n){var f=i.length,u=i.length-n.length;if(u)return u;switch(f){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||p(i[0],i[1])-p(n[0],n[1]);case 3:var l=i[0]+i[1],g=n[0]+n[1];if(u=l+i[2]-(g+n[2]),u)return u;var h=p(i[0],i[1]),T=p(n[0],n[1]);return p(h,i[2])-p(T,n[2])||p(h+i[2],l)-p(T+n[2],g);case 4:var c=i[0],a=i[1],d=i[2],x=i[3],w=n[0],C=n[1],y=n[2],M=n[3];return c+a+d+x-(w+C+y+M)||p(c,a,d,x)-p(w,C,y,M,w)||p(c+a,c+d,c+x,a+d,a+x,d+x)-p(w+C,w+y,w+M,C+y,C+M,y+M)||p(c+a+d,c+a+x,c+d+x,a+d+x)-p(w+C+y,w+C+M,w+y+M,C+y+M);default:for(var A=i.slice().sort(r),o=n.slice().sort(r),E=0;E<f;++E)if(u=A[E]-o[E],u)return u;return 0}}},3788:function(v,p,r){var t=r(8507),i=r(2419);v.exports=n;function n(f,u){return t(f,u)||i(f)-i(u)}},7352:function(v,p,r){var t=r(5721),i=r(4750),n=r(2690);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var g=u[0].length;return g===0?[]:g===1?t(u):g===2?i(u):n(u,g)}},5721:function(v){v.exports=p;function p(r){for(var t=0,i=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},4750:function(v,p,r){v.exports=i;var t=r(3090);function i(n){var f=t(n),u=f.length;if(u<=2)return[];for(var l=new Array(u),g=f[u-1],h=0;h<u;++h){var T=f[h];l[h]=[g,T],g=T}return l}},2690:function(v,p,r){v.exports=u;var t=r(8954),i=r(3952);function n(l,g){for(var h=l.length,T=new Array(h),c=0;c<g.length;++c)T[c]=l[g[c]];for(var a=g.length,c=0;c<h;++c)g.indexOf(c)<0&&(T[a++]=l[c]);return T}function f(l,g){for(var h=l.length,T=g.length,c=0;c<h;++c)for(var a=l[c],d=0;d<a.length;++d){var x=a[d];if(x<T)a[d]=g[x];else{x=x-T;for(var w=0;w<T;++w)x>=g[w]&&(x+=1);a[d]=x}}return l}function u(l,g){try{return t(l,!0)}catch{var h=i(l);if(h.length<=g)return[];var T=n(l,h),c=t(T,!0);return f(c,h)}}},4769:function(v){function p(t,i,n,f,u,l){var g=6*u*u-6*u,h=3*u*u-4*u+1,T=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var a=t.length-1;a>=0;--a)l[a]=g*t[a]+h*i[a]+T*n[a]+c*f[a];return l}return g*t+h*i+T*n[a]+c*f}function r(t,i,n,f,u,l){var g=u-1,h=u*u,T=g*g,c=(1+2*u)*T,a=u*T,d=h*(3-2*u),x=h*g;if(t.length){l||(l=new Array(t.length));for(var w=t.length-1;w>=0;--w)l[w]=c*t[w]+a*i[w]+d*n[w]+x*f[w];return l}return c*t+a*i+d*n+x*f}v.exports=r,v.exports.derivative=p},7642:function(v,p,r){var t=r(8954),i=r(1682);v.exports=l;function n(g,h){this.point=g,this.index=h}function f(g,h){for(var T=g.point,c=h.point,a=T.length,d=0;d<a;++d){var x=c[d]-T[d];if(x)return x}return 0}function u(g,h,T){if(g===1)return T?[[-1,0]]:[];var c=h.map(function(C,y){return[C[0],y]});c.sort(function(C,y){return C[0]-y[0]});for(var a=new Array(g-1),d=1;d<g;++d){var x=c[d-1],w=c[d];a[d-1]=[x[1],w[1]]}return T&&a.push([-1,a[0][1]],[a[g-1][1],-1]),a}function l(g,h){var T=g.length;if(T===0)return[];var c=g[0].length;if(c<1)return[];if(c===1)return u(T,g,h);for(var a=new Array(T),d=1,x=0;x<T;++x){for(var w=g[x],C=new Array(c+1),y=0,M=0;M<c;++M){var A=w[M];C[M]=A,y+=A*A}C[c]=y,a[x]=new n(C,x),d=Math.max(y,d)}i(a,f),T=a.length;for(var o=new Array(T+c+1),E=new Array(T+c+1),b=(c+1)*(c+1)*d,I=new Array(c+1),x=0;x<=c;++x)I[x]=0;I[c]=b,o[0]=I.slice(),E[0]=-1;for(var x=0;x<=c;++x){var C=I.slice();C[x]=1,o[x+1]=C,E[x+1]=-1}for(var x=0;x<T;++x){var D=a[x];o[x+c+1]=D.point,E[x+c+1]=D.index}var N=t(o,!1);if(h?N=N.filter(function(k){for(var O=0,F=0;F<=c;++F){var z=E[k[F]];if(z<0&&++O>=2)return!1;k[F]=z}return!0}):N=N.filter(function(k){for(var O=0;O<=c;++O){var F=E[k[O]];if(F<0)return!1;k[O]=F}return!0}),c&1)for(var x=0;x<N.length;++x){var D=N[x],C=D[0];D[0]=D[1],D[1]=C}return N}},2361:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let n=function(l,g){return t[0]=l,t[1]=g,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(g){return r[0]=g,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,g){return t[1]=l,t[0]=g,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(g){return r[0]=g,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else p=!1}if(!p){let n=function(l,g){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(g,4,!0),i.readDoubleLE(0,!0)},f=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},u=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);v.exports=function(g){return i.writeDoubleLE(g,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var f=v.exports.hi(n);return(f<<1>>>21)-1023},v.exports.fraction=function(n){var f=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(n){var f=v.exports.hi(n);return!(f&2146435072)}},1338:function(v){function p(i,n,f){var u=i[f]|0;if(u<=0)return[];var l=new Array(u),g;if(f===i.length-1)for(g=0;g<u;++g)l[g]=n;else for(g=0;g<u;++g)l[g]=p(i,n,f+1);return l}function r(i,n){var f,u;for(f=new Array(i),u=0;u<i;++u)f[u]=n;return f}function t(i,n){switch(typeof n>"u"&&(n=0),typeof i){case"number":if(i>0)return r(i|0,n);break;case"object":if(typeof i.length=="number")return p(i,n,0);break}return[]}v.exports=t},3134:function(v,p,r){v.exports=i;var t=r(1682);function i(n,f){var u=n.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var g=n[l];f=Math.max(f,g[0],g[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),l=0;l<f;++l)h[l]=[];for(var l=0;l<u;++l){var g=n[l];h[g[0]].push(g[1]),h[g[1]].push(g[0])}for(var T=0;T<f;++T)t(h[T],function(c,a){return c-a});return h}},5033:function(v){v.exports=p;function p(r,t,i){var n=t||0,f=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},9215:function(v,p,r){v.exports=g;var t=r(4769),i=r(2478);function n(h,T,c){return Math.min(T,Math.max(h,c))}function f(h,T,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var a=0;a<this.dimension;++a)this.bounds[0][a]=-1/0,this.bounds[1][a]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=f.prototype;u.flush=function(h){var T=i.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(h){var T=this._time,c=T.length,a=i.le(T,h),d=this._scratch[0],x=this._state,w=this._velocity,C=this.dimension,y=this.bounds;if(a<0)for(var M=C-1,A=0;A<C;++A,--M)d[A]=x[M];else if(a>=c-1)for(var M=x.length-1,o=h-T[c-1],A=0;A<C;++A,--M)d[A]=x[M]+o*w[M];else{for(var M=C*(a+1)-1,E=T[a],b=T[a+1],I=b-E||1,D=this._scratch[1],N=this._scratch[2],k=this._scratch[3],O=this._scratch[4],F=!0,A=0;A<C;++A,--M)D[A]=x[M],k[A]=w[M]*I,N[A]=x[M+C],O[A]=w[M+C]*I,F=F&&D[A]===N[A]&&k[A]===O[A]&&k[A]===0;if(F)for(var A=0;A<C;++A)d[A]=D[A];else t(D,k,N,O,(h-E)/I,d)}for(var z=y[0],B=y[1],A=0;A<C;++A)d[A]=n(z[A],B[A],d[A]);return d},u.dcurve=function(h){var T=this._time,c=T.length,a=i.le(T,h),d=this._scratch[0],x=this._state,w=this._velocity,C=this.dimension;if(a>=c-1){var y=x.length-1;h-T[c-1];for(var M=0;M<C;++M,--y)d[M]=w[y]}else{for(var y=C*(a+1)-1,A=T[a],o=T[a+1],E=o-A||1,b=this._scratch[1],I=this._scratch[2],D=this._scratch[3],N=this._scratch[4],k=!0,M=0;M<C;++M,--y)b[M]=x[y],D[M]=w[y]*E,I[M]=x[y+C],N[M]=w[y+C]*E,k=k&&b[M]===I[M]&&D[M]===N[M]&&D[M]===0;if(k)for(var M=0;M<C;++M)d[M]=0;else{t.derivative(b,D,I,N,(h-A)/E,d);for(var M=0;M<C;++M)d[M]/=E}}return d},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,T=h.length,c=this.dimension-1;c>=0;--c)if(h[--T])return!1;return!0},u.jump=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var a=this._state,d=this._velocity,x=a.length-this.dimension,w=this.bounds,C=w[0],y=w[1];this._time.push(T,h);for(var M=0;M<2;++M)for(var A=0;A<c;++A)a.push(a[x++]),d.push(0);this._time.push(h);for(var A=c;A>0;--A)a.push(n(C[A-1],y[A-1],arguments[A])),d.push(0)}},u.push=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var a=this._state,d=this._velocity,x=a.length-this.dimension,w=h-T,C=this.bounds,y=C[0],M=C[1],A=w>1e-6?1/w:0;this._time.push(h);for(var o=c;o>0;--o){var E=n(y[o-1],M[o-1],arguments[o]);a.push(E),d.push((E-a[x++])*A)}}},u.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var c=this._state,a=this._velocity,d=this.bounds,x=d[0],w=d[1];this._time.push(h);for(var C=T;C>0;--C)c.push(n(x[C-1],w[C-1],arguments[C])),a.push(0)}},u.move=function(h){var T=this.lastT(),c=this.dimension;if(!(h<=T||arguments.length!==c+1)){var a=this._state,d=this._velocity,x=a.length-this.dimension,w=this.bounds,C=w[0],y=w[1],M=h-T,A=M>1e-6?1/M:0;this._time.push(h);for(var o=c;o>0;--o){var E=arguments[o];a.push(n(C[o-1],y[o-1],a[x++]+E)),d.push(E*A)}}},u.idle=function(h){var T=this.lastT();if(!(h<T)){var c=this.dimension,a=this._state,d=this._velocity,x=a.length-c,w=this.bounds,C=w[0],y=w[1],M=h-T;this._time.push(h);for(var A=c-1;A>=0;--A)a.push(n(C[A],y[A],a[x]+M*d[x])),d.push(0),x+=1}};function l(h){for(var T=new Array(h),c=0;c<h;++c)T[c]=0;return T}function g(h,T,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var a=l(h);return new f(a,a,0)}else return new f(h,l(h.length),0);case 2:if(typeof T=="number"){var a=l(h.length);return new f(h,a,+T)}else c=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new f(h,T,c)}}},3840:function(v){v.exports=C;var p=0,r=1;function t(y,M,A,o,E,b){this._color=y,this.key=M,this.value=A,this.left=o,this.right=E,this._count=b}function i(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function n(y,M){return new t(y,M.key,M.value,M.left,M.right,M._count)}function f(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function u(y,M){this._compare=y,this.root=M}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var y=[];return this.forEach(function(M,A){y.push(M)}),y}}),Object.defineProperty(l,"values",{get:function(){var y=[];return this.forEach(function(M,A){y.push(A)}),y}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(y,M){for(var A=this._compare,o=this.root,E=[],b=[];o;){var I=A(y,o.key);E.push(o),b.push(I),I<=0?o=o.left:o=o.right}E.push(new t(p,y,M,null,null,1));for(var D=E.length-2;D>=0;--D){var o=E[D];b[D]<=0?E[D]=new t(o._color,o.key,o.value,E[D+1],o.right,o._count+1):E[D]=new t(o._color,o.key,o.value,o.left,E[D+1],o._count+1)}for(var D=E.length-1;D>1;--D){var N=E[D-1],o=E[D];if(N._color===r||o._color===r)break;var k=E[D-2];if(k.left===N)if(N.left===o){var O=k.right;if(O&&O._color===p)N._color=r,k.right=n(r,O),k._color=p,D-=1;else{if(k._color=p,k.left=N.right,N._color=r,N.right=k,E[D-2]=N,E[D-1]=o,f(k),f(N),D>=3){var F=E[D-3];F.left===k?F.left=N:F.right=N}break}}else{var O=k.right;if(O&&O._color===p)N._color=r,k.right=n(r,O),k._color=p,D-=1;else{if(N.right=o.left,k._color=p,k.left=o.right,o._color=r,o.left=N,o.right=k,E[D-2]=o,E[D-1]=N,f(k),f(N),f(o),D>=3){var F=E[D-3];F.left===k?F.left=o:F.right=o}break}}else if(N.right===o){var O=k.left;if(O&&O._color===p)N._color=r,k.left=n(r,O),k._color=p,D-=1;else{if(k._color=p,k.right=N.left,N._color=r,N.left=k,E[D-2]=N,E[D-1]=o,f(k),f(N),D>=3){var F=E[D-3];F.right===k?F.right=N:F.left=N}break}}else{var O=k.left;if(O&&O._color===p)N._color=r,k.left=n(r,O),k._color=p,D-=1;else{if(N.left=o.right,k._color=p,k.right=o.left,o._color=r,o.right=N,o.left=k,E[D-2]=o,E[D-1]=N,f(k),f(N),f(o),D>=3){var F=E[D-3];F.right===k?F.right=o:F.left=o}break}}}return E[0]._color=r,new u(A,E[0])};function g(y,M){if(M.left){var A=g(y,M.left);if(A)return A}var A=y(M.key,M.value);if(A)return A;if(M.right)return g(y,M.right)}function h(y,M,A,o){var E=M(y,o.key);if(E<=0){if(o.left){var b=h(y,M,A,o.left);if(b)return b}var b=A(o.key,o.value);if(b)return b}if(o.right)return h(y,M,A,o.right)}function T(y,M,A,o,E){var b=A(y,E.key),I=A(M,E.key),D;if(b<=0&&(E.left&&(D=T(y,M,A,o,E.left),D)||I>0&&(D=o(E.key,E.value),D)))return D;if(I>0&&E.right)return T(y,M,A,o,E.right)}l.forEach=function(M,A,o){if(this.root)switch(arguments.length){case 1:return g(M,this.root);case 2:return h(A,this._compare,M,this.root);case 3:return this._compare(A,o)>=0?void 0:T(A,o,this._compare,M,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var y=[],M=this.root;M;)y.push(M),M=M.left;return new c(this,y)}}),Object.defineProperty(l,"end",{get:function(){for(var y=[],M=this.root;M;)y.push(M),M=M.right;return new c(this,y)}}),l.at=function(y){if(y<0)return new c(this,[]);for(var M=this.root,A=[];;){if(A.push(M),M.left){if(y<M.left._count){M=M.left;continue}y-=M.left._count}if(!y)return new c(this,A);if(y-=1,M.right){if(y>=M.right._count)break;M=M.right}else break}return new c(this,[])},l.ge=function(y){for(var M=this._compare,A=this.root,o=[],E=0;A;){var b=M(y,A.key);o.push(A),b<=0&&(E=o.length),b<=0?A=A.left:A=A.right}return o.length=E,new c(this,o)},l.gt=function(y){for(var M=this._compare,A=this.root,o=[],E=0;A;){var b=M(y,A.key);o.push(A),b<0&&(E=o.length),b<0?A=A.left:A=A.right}return o.length=E,new c(this,o)},l.lt=function(y){for(var M=this._compare,A=this.root,o=[],E=0;A;){var b=M(y,A.key);o.push(A),b>0&&(E=o.length),b<=0?A=A.left:A=A.right}return o.length=E,new c(this,o)},l.le=function(y){for(var M=this._compare,A=this.root,o=[],E=0;A;){var b=M(y,A.key);o.push(A),b>=0&&(E=o.length),b<0?A=A.left:A=A.right}return o.length=E,new c(this,o)},l.find=function(y){for(var M=this._compare,A=this.root,o=[];A;){var E=M(y,A.key);if(o.push(A),E===0)return new c(this,o);E<=0?A=A.left:A=A.right}return new c(this,[])},l.remove=function(y){var M=this.find(y);return M?M.remove():this},l.get=function(y){for(var M=this._compare,A=this.root;A;){var o=M(y,A.key);if(o===0)return A.value;o<=0?A=A.left:A=A.right}};function c(y,M){this.tree=y,this._stack=M}var a=c.prototype;Object.defineProperty(a,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(a,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),a.clone=function(){return new c(this.tree,this._stack.slice())};function d(y,M){y.key=M.key,y.value=M.value,y.left=M.left,y.right=M.right,y._color=M._color,y._count=M._count}function x(y){for(var M,A,o,E,b=y.length-1;b>=0;--b){if(M=y[b],b===0){M._color=r;return}if(A=y[b-1],A.left===M){if(o=A.right,o.right&&o.right._color===p){if(o=A.right=i(o),E=o.right=i(o.right),A.right=o.left,o.left=A,o.right=E,o._color=A._color,M._color=r,A._color=r,E._color=r,f(A),f(o),b>1){var I=y[b-2];I.left===A?I.left=o:I.right=o}y[b-1]=o;return}else if(o.left&&o.left._color===p){if(o=A.right=i(o),E=o.left=i(o.left),A.right=E.left,o.left=E.right,E.left=A,E.right=o,E._color=A._color,A._color=r,o._color=r,M._color=r,f(A),f(o),f(E),b>1){var I=y[b-2];I.left===A?I.left=E:I.right=E}y[b-1]=E;return}if(o._color===r)if(A._color===p){A._color=r,A.right=n(p,o);return}else{A.right=n(p,o);continue}else{if(o=i(o),A.right=o.left,o.left=A,o._color=A._color,A._color=p,f(A),f(o),b>1){var I=y[b-2];I.left===A?I.left=o:I.right=o}y[b-1]=o,y[b]=A,b+1<y.length?y[b+1]=M:y.push(M),b=b+2}}else{if(o=A.left,o.left&&o.left._color===p){if(o=A.left=i(o),E=o.left=i(o.left),A.left=o.right,o.right=A,o.left=E,o._color=A._color,M._color=r,A._color=r,E._color=r,f(A),f(o),b>1){var I=y[b-2];I.right===A?I.right=o:I.left=o}y[b-1]=o;return}else if(o.right&&o.right._color===p){if(o=A.left=i(o),E=o.right=i(o.right),A.left=E.right,o.right=E.left,E.right=A,E.left=o,E._color=A._color,A._color=r,o._color=r,M._color=r,f(A),f(o),f(E),b>1){var I=y[b-2];I.right===A?I.right=E:I.left=E}y[b-1]=E;return}if(o._color===r)if(A._color===p){A._color=r,A.left=n(p,o);return}else{A.left=n(p,o);continue}else{if(o=i(o),A.left=o.right,o.right=A,o._color=A._color,A._color=p,f(A),f(o),b>1){var I=y[b-2];I.right===A?I.right=o:I.left=o}y[b-1]=o,y[b]=A,b+1<y.length?y[b+1]=M:y.push(M),b=b+2}}}}a.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var M=new Array(y.length),A=y[y.length-1];M[M.length-1]=new t(A._color,A.key,A.value,A.left,A.right,A._count);for(var o=y.length-2;o>=0;--o){var A=y[o];A.left===y[o+1]?M[o]=new t(A._color,A.key,A.value,M[o+1],A.right,A._count):M[o]=new t(A._color,A.key,A.value,A.left,M[o+1],A._count)}if(A=M[M.length-1],A.left&&A.right){var E=M.length;for(A=A.left;A.right;)M.push(A),A=A.right;var b=M[E-1];M.push(new t(A._color,b.key,b.value,A.left,A.right,A._count)),M[E-1].key=A.key,M[E-1].value=A.value;for(var o=M.length-2;o>=E;--o)A=M[o],M[o]=new t(A._color,A.key,A.value,A.left,M[o+1],A._count);M[E-1].left=M[E]}if(A=M[M.length-1],A._color===p){var I=M[M.length-2];I.left===A?I.left=null:I.right===A&&(I.right=null),M.pop();for(var o=0;o<M.length;++o)M[o]._count--;return new u(this.tree._compare,M[0])}else if(A.left||A.right){A.left?d(A,A.left):A.right&&d(A,A.right),A._color=r;for(var o=0;o<M.length-1;++o)M[o]._count--;return new u(this.tree._compare,M[0])}else{if(M.length===1)return new u(this.tree._compare,null);for(var o=0;o<M.length;++o)M[o]._count--;var D=M[M.length-2];x(M),D.left===A?D.left=null:D.right=null}return new u(this.tree._compare,M[0])},Object.defineProperty(a,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(a,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(a,"index",{get:function(){var y=0,M=this._stack;if(M.length===0){var A=this.tree.root;return A?A._count:0}else M[M.length-1].left&&(y=M[M.length-1].left._count);for(var o=M.length-2;o>=0;--o)M[o+1]===M[o].right&&(++y,M[o].left&&(y+=M[o].left._count));return y},enumerable:!0}),a.next=function(){var y=this._stack;if(y.length!==0){var M=y[y.length-1];if(M.right)for(M=M.right;M;)y.push(M),M=M.left;else for(y.pop();y.length>0&&y[y.length-1].right===M;)M=y[y.length-1],y.pop()}},Object.defineProperty(a,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var M=y.length-1;M>0;--M)if(y[M-1].left===y[M])return!0;return!1}}),a.update=function(y){var M=this._stack;if(M.length===0)throw new Error("Can't update empty node!");var A=new Array(M.length),o=M[M.length-1];A[A.length-1]=new t(o._color,o.key,y,o.left,o.right,o._count);for(var E=M.length-2;E>=0;--E)o=M[E],o.left===M[E+1]?A[E]=new t(o._color,o.key,o.value,A[E+1],o.right,o._count):A[E]=new t(o._color,o.key,o.value,o.left,A[E+1],o._count);return new u(this.tree._compare,A[0])},a.prev=function(){var y=this._stack;if(y.length!==0){var M=y[y.length-1];if(M.left)for(M=M.left;M;)y.push(M),M=M.right;else for(y.pop();y.length>0&&y[y.length-1].left===M;)M=y[y.length-1],y.pop()}},Object.defineProperty(a,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var M=y.length-1;M>0;--M)if(y[M-1].right===y[M])return!0;return!1}});function w(y,M){return y<M?-1:y>M?1:0}function C(y){return new u(y||w,null)}},3837:function(v,p,r){v.exports=D;var t=r(4935),i=r(501),n=r(5304),f=r(6429),u=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),g=ArrayBuffer,h=DataView;function T(N){return g.isView(N)&&!(N instanceof h)}function c(N){return Array.isArray(N)||T(N)}function a(N,k){return N[0]=k[0],N[1]=k[1],N[2]=k[2],N}function d(N){this.gl=N,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(N)}var x=d.prototype;x.update=function(N){N=N||{};function k(Q,oe,X){if(X in N){var j=N[X],se=this[X],te;(Q?c(j)&&c(j[0]):c(j))?this[X]=te=[oe(j[0]),oe(j[1]),oe(j[2])]:this[X]=te=[oe(j),oe(j),oe(j)];for(var fe=0;fe<3;++fe)if(te[fe]!==se[fe])return!0}return!1}var O=k.bind(this,!1,Number),F=k.bind(this,!1,Boolean),z=k.bind(this,!1,String),B=k.bind(this,!0,function(Q){if(c(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),W,J=!1,re=!1;if("bounds"in N)for(var ne=N.bounds,le=0;le<2;++le)for(var $=0;$<3;++$)ne[le][$]!==this.bounds[le][$]&&(re=!0),this.bounds[le][$]=ne[le][$];if("ticks"in N){W=N.ticks,J=!0,this.autoTicks=!1;for(var le=0;le<3;++le)this.tickSpacing[le]=0}else O("tickSpacing")&&(this.autoTicks=!0,re=!0);if(this._firstInit&&("ticks"in N||"tickSpacing"in N||(this.autoTicks=!0),re=!0,J=!0,this._firstInit=!1),re&&this.autoTicks&&(W=u.create(this.bounds,this.tickSpacing),J=!0),J){for(var le=0;le<3;++le)W[le].sort(function(oe,X){return oe.x-X.x});u.equal(W,this.ticks)?J=!1:this.ticks=W}F("tickEnable"),z("tickFont")&&(J=!0),z("tickFontStyle")&&(J=!0),z("tickFontWeight")&&(J=!0),z("tickFontVariant")&&(J=!0),O("tickSize"),O("tickAngle"),O("tickPad"),B("tickColor");var K=z("labels");z("labelFont")&&(K=!0),z("labelFontStyle")&&(K=!0),z("labelFontWeight")&&(K=!0),z("labelFontVariant")&&(K=!0),F("labelEnable"),O("labelSize"),O("labelPad"),B("labelColor"),F("lineEnable"),F("lineMirror"),O("lineWidth"),B("lineColor"),F("lineTickEnable"),F("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),B("lineTickColor"),F("gridEnable"),O("gridWidth"),B("gridColor"),F("zeroEnable"),B("zeroLineColor"),O("zeroLineWidth"),F("backgroundEnable"),B("backgroundColor");var ie=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],Y=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(K||J)&&this._text.update(this.bounds,this.labels,ie,this.ticks,Y):this._text=t(this.gl,this.bounds,this.labels,ie,this.ticks,Y),this._lines&&J&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function w(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var C=[new w,new w,new w];function y(N,k,O,F,z){for(var B=N.primalOffset,W=N.primalMinor,J=N.mirrorOffset,re=N.mirrorMinor,ne=F[k],le=0;le<3;++le)if(k!==le){var $=B,K=J,ie=W,Y=re;ne&1<<le&&($=J,K=B,ie=re,Y=W),$[le]=O[0][le],K[le]=O[1][le],z[le]>0?(ie[le]=-1,Y[le]=0):(ie[le]=0,Y[le]=1)}}var M=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(N){};var o=0,E=[0,0,0],b=[0,0,0],I=[0,0,0];x.draw=function(N){N=N||A;for(var X=this.gl,k=N.model||l,O=N.view||l,F=N.projection||l,z=this.bounds,B=N._ortho||!1,W=f(k,O,F,z,B),J=W.cubeEdges,re=W.axis,ne=O[12],le=O[13],$=O[14],K=O[15],ie=B?2:1,Y=ie*this.pixelRatio*(F[3]*ne+F[7]*le+F[11]*$+F[15]*K)/X.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=J[Q],this.lastCubeProps.axis[Q]=re[Q];for(var oe=C,Q=0;Q<3;++Q)y(C[Q],Q,this.bounds,J,re);for(var X=this.gl,j=M,Q=0;Q<3;++Q)this.backgroundEnable[Q]?j[Q]=re[Q]:j[Q]=0;this._background.draw(k,O,F,z,j,this.backgroundColor),this._lines.bind(k,O,F,this);for(var Q=0;Q<3;++Q){var se=[0,0,0];re[Q]>0?se[Q]=z[1][Q]:se[Q]=z[0][Q];for(var te=0;te<2;++te){var fe=(Q+1+te)%3,ge=(Q+1+(te^1))%3;this.gridEnable[fe]&&this._lines.drawGrid(fe,ge,this.bounds,se,this.gridColor[fe],this.gridWidth[fe]*this.pixelRatio)}for(var te=0;te<2;++te){var fe=(Q+1+te)%3,ge=(Q+1+(te^1))%3;this.zeroEnable[ge]&&Math.min(z[0][ge],z[1][ge])<=0&&Math.max(z[0][ge],z[1][ge])>=0&&this._lines.drawZero(fe,ge,this.bounds,se,this.zeroLineColor[ge],this.zeroLineWidth[ge]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var be=a(E,oe[Q].primalMinor),xe=a(b,oe[Q].mirrorMinor),_e=this.lineTickLength,te=0;te<3;++te){var De=Y/k[5*te];be[te]*=_e[te]*De,xe[te]*=_e[te]*De}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,oe[Q].primalOffset,be,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,oe[Q].mirrorOffset,xe,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(k,O,F,this.pixelRatio);var Fe,Te=.5,Re,Se;function Ie(Qe){Se=[0,0,0],Se[Qe]=1}function Me(Qe,ct,ht){var gt=(Qe+1)%3,Tt=(Qe+2)%3,Et=ct[gt],rt=ct[Tt],ze=ht[gt],He=ht[Tt];if(Et>0&&He>0){Ie(gt);return}else if(Et>0&&He<0){Ie(gt);return}else if(Et<0&&He>0){Ie(gt);return}else if(Et<0&&He<0){Ie(gt);return}else if(rt>0&&ze>0){Ie(Tt);return}else if(rt>0&&ze<0){Ie(Tt);return}else if(rt<0&&ze>0){Ie(Tt);return}else if(rt<0&&ze<0){Ie(Tt);return}}for(var Q=0;Q<3;++Q){for(var Ve=oe[Q].primalMinor,et=oe[Q].mirrorMinor,it=a(I,oe[Q].primalOffset),te=0;te<3;++te)this.lineTickEnable[Q]&&(it[te]+=Y*Ve[te]*Math.max(this.lineTickLength[te],0)/k[5*te]);var Je=[0,0,0];if(Je[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Re=1,Fe=[this.tickAlign[Q],Te,Re],Fe[0]==="auto"?Fe[0]=o:Fe[0]=parseInt(""+Fe[0]),Se=[0,0,0],Me(Q,Ve,et);for(var te=0;te<3;++te)it[te]+=Y*Ve[te]*this.tickPad[te]/k[5*te];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],it,this.tickColor[Q],Je,Se,Fe)}if(this.labelEnable[Q]){Re=0,Se=[0,0,0],this.labels[Q].length>4&&(Ie(Q),Re=1),Fe=[this.labelAlign[Q],Te,Re],Fe[0]==="auto"?Fe[0]=o:Fe[0]=parseInt(""+Fe[0]);for(var te=0;te<3;++te)it[te]+=Y*Ve[te]*this.labelPad[te]/k[5*te];it[Q]+=.5*(z[0][Q]+z[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],it,this.labelColor[Q],[0,0,0],Se,Fe)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function D(N,k){var O=new d(N);return O.update(k),O}},5304:function(v,p,r){v.exports=l;var t=r(2762),i=r(8116),n=r(1879).bg;function f(g,h,T,c){this.gl=g,this.buffer=h,this.vao=T,this.shader=c}var u=f.prototype;u.draw=function(g,h,T,c,a,d){for(var x=!1,w=0;w<3;++w)x=x||a[w];if(x){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:h,projection:T,bounds:c,enable:a,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(g){for(var h=[],T=[],c=0,a=0;a<3;++a)for(var d=(a+1)%3,x=(a+2)%3,w=[0,0,0],C=[0,0,0],y=-1;y<=1;y+=2){T.push(c,c+2,c+1,c+1,c+2,c+3),w[a]=y,C[a]=y;for(var M=-1;M<=1;M+=2){w[d]=M;for(var A=-1;A<=1;A+=2)w[x]=A,h.push(w[0],w[1],w[2],C[0],C[1],C[2]),c+=1}var o=d;d=x,x=o}var E=t(g,new Float32Array(h)),b=t(g,new Uint16Array(T),g.ELEMENT_ARRAY_BUFFER),I=i(g,[{buffer:E,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:g.FLOAT,size:3,offset:12,stride:24}],b),D=n(g);return D.attributes.position.location=0,D.attributes.normal.location=1,new f(g,E,I,D)}},6429:function(v,p,r){v.exports=y;var t=r(8828),i=r(6760),n=r(5202),f=r(3250),u=new Array(16),l=new Array(8),g=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var M=0;M<8;++M)l[M]=[1,1,1,1],g[M]=[1,1,1]})();function c(M,A,o){for(var E=0;E<4;++E){M[E]=o[12+E];for(var b=0;b<3;++b)M[E]+=A[b]*o[4*b+E]}}var a=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(M){for(var A=0;A<a.length;++A)if(M=n.positive(M,a[A]),M.length<3)return 0;for(var o=M[0],E=o[0]/o[3],b=o[1]/o[3],I=0,A=1;A+1<M.length;++A){var D=M[A],N=M[A+1],k=D[0]/D[3],O=D[1]/D[3],F=N[0]/N[3],z=N[1]/N[3],B=k-E,W=O-b,J=F-E,re=z-b;I+=Math.abs(B*re-W*J)}return I}var x=[1,1,1],w=[0,0,0],C={cubeEdges:x,axis:w};function y(M,A,o,E,b){i(u,A,M),i(u,o,u);for(var I=0,D=0;D<2;++D){h[2]=E[D][2];for(var N=0;N<2;++N){h[1]=E[N][1];for(var k=0;k<2;++k)h[0]=E[k][0],c(l[I],h,u),I+=1}}for(var O=-1,D=0;D<8;++D){for(var F=l[D][3],z=0;z<3;++z)g[D][z]=l[D][z]/F;b&&(g[D][2]*=-1),F<0&&(O<0||g[D][2]<g[O][2])&&(O=D)}if(O<0){O=0;for(var B=0;B<3;++B){for(var W=(B+2)%3,J=(B+1)%3,re=-1,ne=-1,le=0;le<2;++le){var $=le<<B,K=$+(le<<W)+(1-le<<J),ie=$+(1-le<<W)+(le<<J);f(g[$],g[K],g[ie],T)<0||(le?re=1:ne=1)}if(re<0||ne<0){ne>re&&(O|=1<<B);continue}for(var le=0;le<2;++le){var $=le<<B,K=$+(le<<W)+(1-le<<J),ie=$+(1-le<<W)+(le<<J),Y=d([l[$],l[K],l[ie],l[$+(1<<W)+(1<<J)]]);le?re=Y:ne=Y}if(ne>re){O|=1<<B;continue}}}for(var Q=7^O,oe=-1,D=0;D<8;++D)D===O||D===Q||(oe<0||g[oe][1]>g[D][1])&&(oe=D);for(var X=-1,D=0;D<3;++D){var j=oe^1<<D;if(!(j===O||j===Q)){X<0&&(X=j);var J=g[j];J[0]<g[X][0]&&(X=j)}}for(var se=-1,D=0;D<3;++D){var j=oe^1<<D;if(!(j===O||j===Q||j===X)){se<0&&(se=j);var J=g[j];J[0]>g[se][0]&&(se=j)}}var te=x;te[0]=te[1]=te[2]=0,te[t.log2(X^oe)]=oe&X,te[t.log2(oe^se)]=oe&se;var fe=se^7;fe===O||fe===Q?(fe=X^7,te[t.log2(se^fe)]=fe&se):te[t.log2(X^fe)]=fe&X;for(var ge=w,be=O,B=0;B<3;++B)be&1<<B?ge[B]=-1:ge[B]=1;return C}},501:function(v,p,r){v.exports=x;var t=r(2762),i=r(8116),n=r(1879).n,f=[0,0,0],u=[0,0,0],l=[0,0,0],g=[0,0,0],h=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function c(w,C){return w[0]=C[0],w[1]=C[1],w[2]=C[2],w}function a(w,C,y,M,A,o,E,b){this.gl=w,this.vertBuffer=C,this.vao=y,this.shader=M,this.tickCount=A,this.tickOffset=o,this.gridCount=E,this.gridOffset=b}var d=a.prototype;d.bind=function(w,C,y){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=C,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,C,y,M,A){var o=T(u);this.shader.uniforms.majorAxis=u,o[w]=C[1][w]-C[0][w],this.shader.uniforms.minorAxis=o;var E=c(g,y);E[w]+=C[0][w],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=M;var b=T(l);b[(w+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=T(l);b[(w+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,C,y,M,A){if(this.tickCount[w]){var o=T(f);o[w]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=M,this.shader.uniforms.lineWidth=A;var E=T(l);E[w]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,C,y,M,A,o){if(this.gridCount[w]){var E=T(u);E[C]=y[1][C]-y[0][C],this.shader.uniforms.minorAxis=E;var b=c(g,M);b[C]+=y[0][C],this.shader.uniforms.offset=b;var I=T(f);I[w]=1,this.shader.uniforms.majorAxis=I;var D=T(l);D[w]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,C,y,M,A,o){var E=T(u);this.shader.uniforms.majorAxis=E,E[w]=y[1][w]-y[0][w],this.shader.uniforms.minorAxis=E;var b=c(g,M);b[w]+=y[0][w],this.shader.uniforms.offset=b;var I=T(l);I[C]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(w,C,y){var M=[],A=[0,0,0],o=[0,0,0],E=[0,0,0],b=[0,0,0];M.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var I=0;I<3;++I){for(var k=M.length/3|0,D=0;D<y[I].length;++D){var N=+y[I][D].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var F=M.length/3|0;A[I]=k,o[I]=F-k;for(var k=M.length/3|0,O=0;O<y[I].length;++O){var N=+y[I][O].x;M.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var F=M.length/3|0;E[I]=k,b[I]=F-k}var z=t(w,new Float32Array(M)),B=i(w,[{buffer:z,type:w.FLOAT,size:3,stride:0,offset:0}]),W=n(w);return W.attributes.position.location=0,new a(w,z,B,W,o,A,b,E)}},1879:function(v,p,r){var t=r(3236),i=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.n=function(T){return i(T,n,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.Q=function(T){return i(T,u,l,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return i(T,g,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,p,r){v.exports=d;var t=r(2762),i=r(8116),n=r(4359),f=r(1879).Q,u=window||m.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var g=3;function h(x,w,C,y){this.gl=x,this.shader=w,this.buffer=C,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,c=[0,0];T.bind=function(x,w,C,y){this.vao.bind(),this.shader.bind();var M=this.shader.uniforms;M.model=x,M.view=w,M.projection=C,M.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},T.unbind=function(){this.vao.unbind()},T.update=function(x,w,C,y,M){var A=[];function o(B,W,J,re,ne,le){var $=[J.style,J.weight,J.variant,J.family].join("_"),K=l[$];K||(K=l[$]={});var ie=K[W];ie||(ie=K[W]=a(W,{triangles:!0,font:J.family,fontStyle:J.style,fontWeight:J.weight,fontVariant:J.variant,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:le}));for(var Y=(re||12)/12,Q=ie.positions,oe=ie.cells,X=0,j=oe.length;X<j;++X)for(var se=oe[X],te=2;te>=0;--te){var fe=Q[se[te]];A.push(Y*fe[0],-Y*fe[1],B)}}for(var E=[0,0,0],b=[0,0,0],I=[0,0,0],D=[0,0,0],N=1.25,k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){I[O]=A.length/g|0,o(.5*(x[0][O]+x[1][O]),w[O],C[O],12,N,k),D[O]=(A.length/g|0)-I[O],E[O]=A.length/g|0;for(var F=0;F<y[O].length;++F)if(y[O][F].text){var z={family:y[O][F].font||M[O].family,style:M[O].fontStyle||M[O].style,weight:M[O].fontWeight||M[O].weight,variant:M[O].fontVariant||M[O].variant};o(y[O][F].x,y[O][F].text,z,y[O][F].fontSize||12,N,k)}b[O]=(A.length/g|0)-E[O]}this.buffer.update(A),this.tickOffset=E,this.tickCount=b,this.labelOffset=I,this.labelCount=D},T.drawTicks=function(x,w,C,y,M,A,o,E){this.tickCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=M,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},T.drawLabel=function(x,w,C,y,M,A,o,E){this.labelCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=M,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function a(x,w){try{return n(x,w)}catch(C){return console.warn('error vectorizing text:"'+x+'" error:',C),{cells:[],positions:[]}}}function d(x,w,C,y,M,A){var o=t(x),E=i(x,[{buffer:o,size:3}]),b=f(x);b.attributes.position.location=0;var I=new h(x,b,o,E);return I.update(w,C,y,M,A),I}},6444:function(v,p){p.create=t,p.equal=i;function r(n,f){var u=n+"",l=u.indexOf("."),g=0;l>=0&&(g=u.length-l-1);var h=Math.pow(10,g),T=Math.round(n*f*h),c=T+"";if(c.indexOf("e")>=0)return c;var a=T/h,d=T%h;T<0?(a=-Math.ceil(a)|0,d=-d|0):(a=Math.floor(a)|0,d=d|0);var x=""+a;if(T<0&&(x="-"+x),g){for(var w=""+d;w.length<g;)w="0"+w;return x+"."+w}else return x}function t(n,f){for(var u=[],l=0;l<3;++l){var g=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*f[l]<=n[1][l];++h)g.push({x:h*f[l],text:r(f[l],h)});for(var h=-1;h*f[l]>=n[0][l];--h)g.push({x:h*f[l],text:r(f[l],h)});u.push(g)}return u}function i(n,f){for(var u=0;u<3;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;++l){var g=n[u][l],h=f[u][l];if(g.x!==h.x||g.text!==h.text||g.font!==h.font||g.fontColor!==h.fontColor||g.fontSize!==h.fontSize||g.dx!==h.dx||g.dy!==h.dy)return!1}}return!0}},5445:function(v,p,r){v.exports=C;var t=r(5033),i=r(5202),n=r(6429),f=r(6760),u=r(5665),l=r(5352),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(y,M,A){this.lo=y,this.hi=M,this.pixelsPerDataUnit=A}var c=[0,0,0,1],a=[0,0,0,1];function d(y,M,A,o,E){for(var b=0;b<3;++b){for(var I=c,D=a,N=0;N<3;++N)D[N]=I[N]=A[N];D[3]=I[3]=1,D[b]+=1,l(D,D,M),D[3]<0&&(y[b]=1/0),I[b]-=1,l(I,I,M),I[3]<0&&(y[b]=1/0);var k=(I[0]/I[3]-D[0]/D[3])*o,O=(I[1]/I[3]-D[1]/D[3])*E;y[b]=.25*Math.sqrt(k*k+O*O)}return y}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function C(y,M,A,o,O){var b=M.model||g,I=M.view||g,D=M.projection||g,N=M._ortho||!1,k=y.bounds,O=O||n(b,I,D,k,N),F=O.axis;f(h,I,b),f(h,D,h);for(var z=x,B=0;B<3;++B)z[B].lo=1/0,z[B].hi=-1/0,z[B].pixelsPerDataUnit=1/0;var W=t(u(h,h));u(h,h);for(var J=0;J<3;++J){var re=(J+1)%3,ne=(J+2)%3,le=w;e:for(var B=0;B<2;++B){var $=[];if(F[J]<0!=!!B){le[J]=k[B][J];for(var K=0;K<2;++K){le[re]=k[K^B][re];for(var ie=0;ie<2;++ie)le[ne]=k[ie^K^B][ne],$.push(le.slice())}for(var Y=N?5:4,K=Y;K===Y;++K){if($.length===0)continue e;$=i.positive($,W[K])}for(var K=0;K<$.length;++K)for(var ne=$[K],Q=d(w,h,ne,A,o),ie=0;ie<3;++ie)z[ie].lo=Math.min(z[ie].lo,ne[ie]),z[ie].hi=Math.max(z[ie].hi,ne[ie]),ie!==J&&(z[ie].pixelsPerDataUnit=Math.min(z[ie].pixelsPerDataUnit,Math.abs(Q[ie])))}}}return z}},2762:function(v,p,r){var t=r(1888),i=r(5298),n=r(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(a,d,x,w,C){this.gl=a,this.type=d,this.handle=x,this.length=w,this.usage=C}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(a,d,x,w,C,y){var M=C.length*C.BYTES_PER_ELEMENT;if(y<0)return a.bufferData(d,C,w),M;if(M+y>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return a.bufferSubData(d,y,C),x}function h(a,d){for(var x=t.malloc(a.length,d),w=a.length,C=0;C<w;++C)x[C]=a[C];return x}function T(a,d){for(var x=1,w=d.length-1;w>=0;--w){if(d[w]!==x)return!1;x*=a[w]}return!0}l.update=function(a,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof a=="object"&&typeof a.shape<"u"){var x=a.dtype;if(f.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&x!=="uint16"?x="uint32":x="uint16"}if(x===a.dtype&&T(a.shape,a.stride))a.offset===0&&a.data.length===a.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,a.data,d):this.length=g(this.gl,this.type,this.length,this.usage,a.data.subarray(a.offset,a.shape[0]),d);else{var C=t.malloc(a.size,x),y=n(C,a.shape);i.assign(y,a),d<0?this.length=g(this.gl,this.type,this.length,this.usage,C,d):this.length=g(this.gl,this.type,this.length,this.usage,C.subarray(0,a.size),d),t.free(C)}}else if(Array.isArray(a)){var M;this.type===this.gl.ELEMENT_ARRAY_BUFFER?M=h(a,"uint16"):M=h(a,"float32"),d<0?this.length=g(this.gl,this.type,this.length,this.usage,M,d):this.length=g(this.gl,this.type,this.length,this.usage,M.subarray(0,a.length),d),t.free(M)}else if(typeof a=="object"&&typeof a.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,a,d);else if(typeof a=="number"||a===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");a=a|0,a<=0&&(a=1),this.gl.bufferData(this.type,a|0,this.usage),this.length=a}else throw new Error("gl-buffer: Invalid data type")};function c(a,d,x,w){if(x=x||a.ARRAY_BUFFER,w=w||a.DYNAMIC_DRAW,x!==a.ARRAY_BUFFER&&x!==a.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==a.DYNAMIC_DRAW&&w!==a.STATIC_DRAW&&w!==a.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=a.createBuffer(),y=new u(a,x,C,0,w);return y.update(d),y}v.exports=c},6405:function(v,p,r){var t=r(2931);v.exports=function(n,f){var u=n.positions,l=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),g;for(var h=0,T=1/0,c=-1/0,a=1/0,d=-1/0,x=1/0,w=-1/0,C=null,y=null,M=[],A=1/0,o=!1,E=n.coneSizemode==="raw",b=0;b<u.length;b++){var I=u[b];T=Math.min(I[0],T),c=Math.max(I[0],c),a=Math.min(I[1],a),d=Math.max(I[1],d),x=Math.min(I[2],x),w=Math.max(I[2],w);var D=l[b];if(t.length(D)>h&&(h=t.length(D)),b&&!E){var N=2*t.distance(C,I)/(t.length(y)+t.length(D));N?(A=Math.min(A,N),o=!1):o=!0}o||(C=I,y=D),M.push(D)}var k=[T,a,x],O=[c,d,w];f&&(f[0]=k,f[1]=O),h===0&&(h=1);var F=1/h;isFinite(A)||(A=1),g.vectorScale=A;var z=n.coneSize||(E?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*F),g.coneScale=z;for(var b=0,B=0;b<u.length;b++)for(var I=u[b],W=I[0],J=I[1],re=I[2],ne=M[b],le=t.length(ne)*F,$=0,K=8;$<K;$++){g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.positions.push([W,J,re,B++]),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vertexIntensity.push(le,le,le),g.vertexIntensity.push(le,le,le);var ie=g.positions.length;g.cells.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}return g};var i=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:i,traceType:"cone"})}},9060:function(v,p,r){var t=r(9405),i=r(2762),n=r(8116),f=r(7766),u=r(6760),l=r(7608),g=r(9618),h=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(M,A,o,E,b,I,D,N,k,O,F){this.gl=M,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=o,this.pickShader=E,this.trianglePositions=b,this.triangleVectors=I,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=D,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var a=c.prototype;a.isOpaque=function(){return this.opacity>=1},a.isTransparent=function(){return this.opacity<1},a.pickSlots=1,a.setPickBase=function(M){this.pickId=M};function d(M){for(var A=h({colormap:M,nshades:256,format:"rgba"}),o=new Uint8Array(256*4),E=0;E<256;++E){for(var b=A[E],I=0;I<3;++I)o[4*E+I]=b[I];o[4*E+3]=b[3]*255}return g(o,[256,256,4],[4,0,1])}function x(M){for(var A=M.length,o=new Array(A),E=0;E<A;++E)o[E]=M[E][2];return o}a.update=function(M){M=M||{};var A=this.gl;this.dirty=!0,"lightPosition"in M&&(this.lightPosition=M.lightPosition),"opacity"in M&&(this.opacity=M.opacity),"ambient"in M&&(this.ambientLight=M.ambient),"diffuse"in M&&(this.diffuseLight=M.diffuse),"specular"in M&&(this.specularLight=M.specular),"roughness"in M&&(this.roughness=M.roughness),"fresnel"in M&&(this.fresnel=M.fresnel),M.tubeScale!==void 0&&(this.tubeScale=M.tubeScale),M.vectorScale!==void 0&&(this.vectorScale=M.vectorScale),M.coneScale!==void 0&&(this.coneScale=M.coneScale),M.coneOffset!==void 0&&(this.coneOffset=M.coneOffset),M.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(d(M.colormap)),this.texture.generateMipmap());var o=M.cells,E=M.positions,b=M.vectors;if(!(!E||!o||!b)){var I=[],D=[],N=[],k=[],O=[];this.cells=o,this.positions=E,this.vectors=b;var F=M.meshColor||[1,1,1,1],z=M.vertexIntensity,B=1/0,W=-1/0;if(z)if(M.vertexIntensityBounds)B=+M.vertexIntensityBounds[0],W=+M.vertexIntensityBounds[1];else for(var J=0;J<z.length;++J){var re=z[J];B=Math.min(B,re),W=Math.max(W,re)}else for(var J=0;J<E.length;++J){var re=E[J][2];B=Math.min(B,re),W=Math.max(W,re)}z?this.intensity=z:this.intensity=x(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<E.length;++J)for(var ne=E[J],le=0;le<3;++le)isNaN(ne[le])||!isFinite(ne[le])||(this.bounds[0][le]=Math.min(this.bounds[0][le],ne[le]),this.bounds[1][le]=Math.max(this.bounds[1][le],ne[le]));var $=0;e:for(var J=0;J<o.length;++J){var K=o[J];switch(K.length){case 3:for(var le=0;le<3;++le)for(var ie=K[le],ne=E[ie],Y=0;Y<3;++Y)if(isNaN(ne[Y])||!isFinite(ne[Y]))continue e;for(var le=0;le<3;++le){var ie=K[2-le],ne=E[ie];I.push(ne[0],ne[1],ne[2],ne[3]);var Q=b[ie];D.push(Q[0],Q[1],Q[2],Q[3]||0);var oe=F;oe.length===3?N.push(oe[0],oe[1],oe[2],1):N.push(oe[0],oe[1],oe[2],oe[3]);var X;z?X=[(z[ie]-B)/(W-B),0]:X=[(ne[2]-B)/(W-B),0],k.push(X[0],X[1]),O.push(J)}$+=1;break}}this.triangleCount=$,this.trianglePositions.update(I),this.triangleVectors.update(D),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(O))}},a.drawTransparent=a.draw=function(M){M=M||{};for(var A=this.gl,o=M.model||T,E=M.view||T,b=M.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);var N={model:o,view:E,projection:b,inverseModel:T.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),A.disable(A.CULL_FACE),this.texture.bind(0);var k=new Array(16);u(k,N.view,N.model),u(k,N.projection,k),l(k,k);for(var D=0;D<3;++D)N.eyePosition[D]=k[12+D]/k[15];for(var O=k[15],D=0;D<3;++D)O+=this.lightPosition[D]*k[4*D+3];for(var D=0;D<3;++D){for(var F=k[12+D],z=0;z<3;++z)F+=k[4*z+D]*this.lightPosition[z];N.lightPosition[D]=F/O}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=N,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},a.drawPick=function(M){M=M||{};for(var A=this.gl,o=M.model||T,E=M.view||T,b=M.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);this._model=[].slice.call(o),this._view=[].slice.call(E),this._projection=[].slice.call(b),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var N={model:o,view:E,projection:b,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},a.pick=function(M){if(!M||M.id!==this.pickId)return null;var A=M.value[0]+256*M.value[1]+65536*M.value[2],o=this.cells[A],E=this.positions[o[1]].slice(0,3),b={position:E,dataCoordinate:E,index:Math.floor(o[1]/48)};return this.traceType==="cone"?b.index=Math.floor(o[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[o[1]],b.velocity=this.vectors[o[1]].slice(0,3),b.divergence=this.vectors[o[1]][3],b.index=A),b},a.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(M,A){var o=t(M,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return o.attributes.position.location=0,o.attributes.color.location=2,o.attributes.uv.location=3,o.attributes.vector.location=4,o}function C(M,A){var o=t(M,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return o.attributes.position.location=0,o.attributes.id.location=1,o.attributes.vector.location=4,o}function y(M,A,o){var E=o.shaders;arguments.length===1&&(A=M,M=A.gl);var b=w(M,E),I=C(M,E),D=f(M,g(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=M.LINEAR_MIPMAP_LINEAR,D.magFilter=M.LINEAR;var N=i(M),k=i(M),O=i(M),F=i(M),z=i(M),B=n(M,[{buffer:N,type:M.FLOAT,size:4},{buffer:z,type:M.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:M.FLOAT,size:4},{buffer:F,type:M.FLOAT,size:2},{buffer:k,type:M.FLOAT,size:4}]),W=new c(M,D,b,I,N,k,z,O,F,B,o.traceType||"cone");return W.update(A),W}v.exports=y},614:function(v,p,r){var t=r(3236),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,p,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,p,r){v.exports=c;var t=r(2762),i=r(8116),n=r(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(a,d,x,w){this.gl=a,this.shader=w,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(a){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var w=x.view=a.view||f,C=x.projection=a.projection||f;x.model=a.model||f,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var y=w[12],M=w[13],A=w[14],o=w[15],E=a._ortho||!1,b=E?2:1,I=b*this.pixelRatio*(C[3]*y+C[7]*M+C[11]*A+C[15]*o)/d.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)d.lineWidth(this.lineWidth[D]*this.pixelRatio),x.capSize=this.capSize[D]*I,this.lineCount[D]&&d.drawArrays(d.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};function g(a,d){for(var x=0;x<3;++x)a[0][x]=Math.min(a[0][x],d[x]),a[1][x]=Math.max(a[1][x],d[x])}var h=function(){for(var a=new Array(3),d=0;d<3;++d){for(var x=[],w=1;w<=2;++w)for(var C=-1;C<=1;C+=2){var y=(w+d)%3,M=[0,0,0];M[y]=C,x.push(M)}a[d]=x}return a}();function T(a,d,x,w){for(var C=h[w],y=0;y<C.length;++y){var M=C[y];a.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],M[0],M[1],M[2])}return C.length}l.update=function(a){a=a||{},"lineWidth"in a&&(this.lineWidth=a.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in a&&(this.capSize=a.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=a.color||[[0,0,0],[0,0,0],[0,0,0]],x=a.position,w=a.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&w){var C=[],y=x.length,M=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=M;e:for(var o=0;o<y;++o){for(var E=x[o],b=0;b<3;++b)if(isNaN(E[b])||!isFinite(E[b]))continue e;var I=w[o],D=d[A];if(Array.isArray(D[0])&&(D=d[o]),D.length===3?D=[D[0],D[1],D[2],1]:D.length===4&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),!(isNaN(I[0][A])||isNaN(I[1][A]))){if(I[0][A]<0){var N=E.slice();N[A]+=I[0][A],C.push(E[0],E[1],E[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),g(this.bounds,N),M+=2+T(C,N,D,A)}if(I[1][A]>0){var N=E.slice();N[A]+=I[1][A],C.push(E[0],E[1],E[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),g(this.bounds,N),M+=2+T(C,N,D,A)}}}this.lineCount[A]=M-this.lineOffset[A]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(a){var d=a.gl,x=t(d),w=i(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var y=new u(d,x,w,C);return y.update(a),y}},3436:function(v,p,r){var t=r(3236),i=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return i(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,p,r){var t=r(7766);v.exports=M;var i=null,n,f,u,l;function g(A){var o=A.getParameter(A.FRAMEBUFFER_BINDING),E=A.getParameter(A.RENDERBUFFER_BINDING),b=A.getParameter(A.TEXTURE_BINDING_2D);return[o,E,b]}function h(A,o){A.bindFramebuffer(A.FRAMEBUFFER,o[0]),A.bindRenderbuffer(A.RENDERBUFFER,o[1]),A.bindTexture(A.TEXTURE_2D,o[2])}function T(A,o){var E=A.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(E+1);for(var b=0;b<=E;++b){for(var I=new Array(E),D=0;D<b;++D)I[D]=A.COLOR_ATTACHMENT0+D;for(var D=b;D<E;++D)I[D]=A.NONE;i[b]=I}}function c(A){switch(A){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function a(A,o,E,b,I,D){if(!b)return null;var N=t(A,o,E,I,b);return N.magFilter=A.NEAREST,N.minFilter=A.NEAREST,N.mipSamples=1,N.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,D,A.TEXTURE_2D,N.handle,0),N}function d(A,o,E,b,I){var D=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,D),A.renderbufferStorage(A.RENDERBUFFER,b,o,E),A.framebufferRenderbuffer(A.FRAMEBUFFER,I,A.RENDERBUFFER,D),D}function x(A){var o=g(A.gl),E=A.gl,b=A.handle=E.createFramebuffer(),I=A._shape[0],D=A._shape[1],N=A.color.length,k=A._ext,O=A._useStencil,F=A._useDepth,z=A._colorType;E.bindFramebuffer(E.FRAMEBUFFER,b);for(var B=0;B<N;++B)A.color[B]=a(E,I,D,z,E.RGBA,E.COLOR_ATTACHMENT0+B);N===0?(A._color_rb=d(E,I,D,E.RGBA4,E.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(i[0])):N>1&&k.drawBuffersWEBGL(i[N]);var W=E.getExtension("WEBGL_depth_texture");W?O?A.depth=a(E,I,D,W.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):F&&(A.depth=a(E,I,D,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):F&&O?A._depth_rb=d(E,I,D,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):F?A._depth_rb=d(E,I,D,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):O&&(A._depth_rb=d(E,I,D,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var J=E.checkFramebufferStatus(E.FRAMEBUFFER);if(J!==E.FRAMEBUFFER_COMPLETE){A._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(E.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var B=0;B<A.color.length;++B)A.color[B].dispose(),A.color[B]=null;A._color_rb&&(E.deleteRenderbuffer(A._color_rb),A._color_rb=null),h(E,o),c(J)}h(E,o)}function w(A,o,E,b,I,D,N,k){this.gl=A,this._shape=[o|0,E|0],this._destroyed=!1,this._ext=k,this.color=new Array(I);for(var O=0;O<I;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=D,this._useStencil=N;var F=this,z=[o|0,E|0];Object.defineProperties(z,{0:{get:function(){return F._shape[0]},set:function(B){return F.width=B}},1:{get:function(){return F._shape[1]},set:function(B){return F.height=B}}}),this._shapeVector=z,x(this)}var C=w.prototype;function y(A,o,E){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===o&&A._shape[1]===E)){var b=A.gl,I=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(o<0||o>I||E<0||E>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=o,A._shape[1]=E;for(var D=g(b),N=0;N<A.color.length;++N)A.color[N].shape=A._shape;A._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,A._shape[0],A._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,A.handle);var k=b.checkFramebufferStatus(b.FRAMEBUFFER);k!==b.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(b,D),c(k)),h(b,D)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var o=A[0]|0,E=A[1]|0;return y(this,o,E),[o,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,y(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,y(this,this._shape[0],A),A},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var o=0;o<this.color.length;++o)this.color[o].dispose(),this.color[o]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function M(A,o,E,b){n||(n=A.FRAMEBUFFER_UNSUPPORTED,f=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=A.getExtension("WEBGL_draw_buffers");if(!i&&I&&T(A,I),Array.isArray(o)&&(b=E,E=o[1]|0,o=o[0]|0),typeof o!="number")throw new Error("gl-fbo: Missing shape parameter");var D=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(o<0||o>D||E<0||E>D)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var N=1;if("color"in b){if(N=Math.max(b.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(I){if(N>A.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var k=A.UNSIGNED_BYTE,O=A.getExtension("OES_texture_float");if(b.float&&N>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");k=A.FLOAT}else b.preferFloat&&N>0&&O&&(k=A.FLOAT);var F=!0;"depth"in b&&(F=!!b.depth);var z=!1;return"stencil"in b&&(z=!!b.stencil),new w(A,o,E,k,N,F,z,I)}},2992:function(v,p,r){var t=r(3387).sprintf,i=r(5171),n=r(1848),f=r(1085);v.exports=u;function u(l,g,h){var T=n(g)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===i.FRAGMENT_SHADER?"fragment":"vertex");for(var a=t(`Error compiling %s shader %s:
`,c,T),d=t("%s%s",a,l),x=l.split(`
`),w={},C=0;C<x.length;C++){var y=x[C];if(!(y===""||y==="\0")){var M=parseInt(y.split(":")[2]);if(isNaN(M))throw new Error(t("Could not parse error: %s",y));w[M]=y}}for(var A=f(g).split(`
`),C=0;C<A.length;C++)if(!(!w[C+3]&&!w[C+2]&&!w[C+1])){var o=A[C];if(a+=o+`
`,w[C+1]){var E=w[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),a+=t(`^^^ %s

`,E)}}return{long:a.trim(),short:d.trim()}}},2510:function(v,p,r){v.exports=c;var t=r(2478),i=r(7762),n=r(1888),f=r(9405),u=r(2762),l=r(6768);function g(a,d,x,w,C,y,M){this.plot=a,this.shader=d,this.pickShader=x,this.positionBuffer=w,this.weightBuffer=C,this.colorBuffer=y,this.idBuffer=M,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=g.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var a=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,x=this.shader,w=this.bounds,C=this.numVertices;if(!(C<=0)){var y=d.gl,M=d.dataBox,A=w[2]-w[0],o=w[3]-w[1],E=M[2]-M[0],b=M[3]-M[1];a[0]=2*A/E,a[4]=2*o/b,a[6]=2*(w[0]-M[0])/E-1,a[7]=2*(w[1]-M[1])/b-1,x.bind();var I=x.uniforms;I.viewTransform=a,I.shape=this.shape;var D=x.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,C)}}}(),h.drawPick=function(){var a=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(x){var w=this.plot,C=this.pickShader,y=this.bounds,M=this.numVertices;if(!(M<=0)){var A=w.gl,o=w.dataBox,E=y[2]-y[0],b=y[3]-y[1],I=o[2]-o[0],D=o[3]-o[1];a[0]=2*E/I,a[4]=2*b/D,a[6]=2*(y[0]-o[0])/I-1,a[7]=2*(y[1]-o[1])/D-1;for(var N=0;N<4;++N)d[N]=x>>N*8&255;this.pickOffset=x,C.bind();var k=C.uniforms;k.viewTransform=a,k.pickOffset=d,k.shape=this.shape;var O=C.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,M),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(a,d,x){var w=this.pickOffset,C=this.shape[0]*this.shape[1];if(x<w||x>=w+C)return null;var y=x-w,M=this.xData,A=this.yData;return{object:this,pointId:y,dataCoord:[M[y%this.shape[0]],A[y/this.shape[0]|0]]}},h.update=function(a){a=a||{};var d=a.shape||[0,0],x=a.x||i(d[0]),w=a.y||i(d[1]),C=a.z||new Float32Array(d[0]*d[1]),y=a.zsmooth!==!1;this.xData=x,this.yData=w;var M=a.colorLevels||[0],A=a.colorValues||[0,0,0,1],o=M.length,E=this.bounds,b,I,D,N;y?(b=E[0]=x[0],I=E[1]=w[0],D=E[2]=x[x.length-1],N=E[3]=w[w.length-1]):(b=E[0]=x[0]+(x[1]-x[0])/2,I=E[1]=w[0]+(w[1]-w[0])/2,D=E[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,N=E[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var k=1/(D-b),O=1/(N-I),F=d[0],z=d[1];this.shape=[F,z];var B=(y?(F-1)*(z-1):F*z)*(T.length>>>1);this.numVertices=B;for(var W=n.mallocUint8(B*4),J=n.mallocFloat32(B*2),re=n.mallocUint8(B*2),ne=n.mallocUint32(B),le=0,$=y?F-1:F,K=y?z-1:z,ie=0;ie<K;++ie){var Y,Q;y?(Y=O*(w[ie]-I),Q=O*(w[ie+1]-I)):(Y=ie<z-1?O*(w[ie]-(w[ie+1]-w[ie])/2-I):O*(w[ie]-(w[ie]-w[ie-1])/2-I),Q=ie<z-1?O*(w[ie]+(w[ie+1]-w[ie])/2-I):O*(w[ie]+(w[ie]-w[ie-1])/2-I));for(var oe=0;oe<$;++oe){var X,j;y?(X=k*(x[oe]-b),j=k*(x[oe+1]-b)):(X=oe<F-1?k*(x[oe]-(x[oe+1]-x[oe])/2-b):k*(x[oe]-(x[oe]-x[oe-1])/2-b),j=oe<F-1?k*(x[oe]+(x[oe+1]-x[oe])/2-b):k*(x[oe]+(x[oe]-x[oe-1])/2-b));for(var se=0;se<T.length;se+=2){var te=T[se],fe=T[se+1],ge=y?(ie+fe)*F+(oe+te):ie*F+oe,be=C[ge],xe=t.le(M,be),_e,De,Fe,Te;if(xe<0)_e=A[0],De=A[1],Fe=A[2],Te=A[3];else if(xe===o-1)_e=A[4*o-4],De=A[4*o-3],Fe=A[4*o-2],Te=A[4*o-1];else{var Re=(be-M[xe])/(M[xe+1]-M[xe]),Se=1-Re,Ie=4*xe,Me=4*(xe+1);_e=Se*A[Ie]+Re*A[Me],De=Se*A[Ie+1]+Re*A[Me+1],Fe=Se*A[Ie+2]+Re*A[Me+2],Te=Se*A[Ie+3]+Re*A[Me+3]}W[4*le]=255*_e,W[4*le+1]=255*De,W[4*le+2]=255*Fe,W[4*le+3]=255*Te,J[2*le]=X*.5+j*.5,J[2*le+1]=Y*.5+Q*.5,re[2*le]=te,re[2*le+1]=fe,ne[le]=ie*F+oe,le+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(re),this.colorBuffer.update(W),this.idBuffer.update(ne),n.free(J),n.free(W),n.free(re),n.free(ne)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(a,d){var x=a.gl,w=f(x,l.vertex,l.fragment),C=f(x,l.pickVertex,l.pickFragment),y=u(x),M=u(x),A=u(x),o=u(x),E=new g(a,w,C,y,M,A,o);return E.update(d),a.addObject(E),E}},6768:function(v,p,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,p,r){var t=r(3236),i=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(g){return i(g,n,f,null,l)},p.createPickShader=function(g){return i(g,n,u,null,l)}},5714:function(v,p,r){v.exports=A;var t=r(2762),i=r(8116),n=r(7766),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(o,E,b,I){return f[0]=I,f[1]=b,f[2]=E,f[3]=o,u[0]}var g=r(2478),h=r(9618),T=r(7319),c=T.createShader,a=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(o,E){for(var b=0,I=0;I<3;++I){var D=o[I]-E[I];b+=D*D}return Math.sqrt(b)}function w(o){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)E[0][b]=Math.max(o[0][b],E[0][b]),E[1][b]=Math.min(o[1][b],E[1][b]);return E}function C(o,E,b,I){this.arcLength=o,this.position=E,this.index=b,this.dataCoordinate=I}function y(o,E,b,I,D,N){this.gl=o,this.shader=E,this.pickShader=b,this.buffer=I,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var M=y.prototype;M.isTransparent=function(){return this.hasAlpha},M.isOpaque=function(){return!this.hasAlpha},M.pickSlots=1,M.setPickBase=function(o){this.pickId=o},M.drawTransparent=M.draw=function(o){if(this.vertexCount){var E=this.gl,b=this.shader,I=this.vao;b.bind(),b.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(E.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},M.drawPick=function(o){if(this.vertexCount){var E=this.gl,b=this.pickShader,I=this.vao;b.bind(),b.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(E.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},M.update=function(o){var E,b;this.dirty=!0;var I=!!o.connectGaps;"dashScale"in o&&(this.dashScale=o.dashScale),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],N=[],k=[],O=0,F=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=o.position||o.positions;if(B){var W=o.color||o.colors||[0,0,0,1],J=o.lineWidth||1,re=!1;e:for(E=1;E<B.length;++E){var ne=B[E-1],le=B[E];for(N.push(O),k.push(ne.slice()),b=0;b<3;++b){if(isNaN(ne[b])||isNaN(le[b])||!isFinite(ne[b])||!isFinite(le[b])){if(!I&&D.length>0){for(var $=0;$<24;++$)D.push(D[D.length-12]);F+=2,re=!0}continue e}z[0][b]=Math.min(z[0][b],ne[b],le[b]),z[1][b]=Math.max(z[1][b],ne[b],le[b])}var K,ie;Array.isArray(W[0])?(K=W.length>E-1?W[E-1]:W.length>0?W[W.length-1]:[0,0,0,1],ie=W.length>E?W[E]:W.length>0?W[W.length-1]:[0,0,0,1]):K=ie=W,K.length===3&&(K=[K[0],K[1],K[2],1]),ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),!this.hasAlpha&&K[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray(J)?Y=J.length>E-1?J[E-1]:J.length>0?J[J.length-1]:[0,0,0,1]:Y=J;var Q=O;if(O+=x(ne,le),re){for(b=0;b<2;++b)D.push(ne[0],ne[1],ne[2],le[0],le[1],le[2],Q,Y,K[0],K[1],K[2],K[3]);F+=2,re=!1}D.push(ne[0],ne[1],ne[2],le[0],le[1],le[2],Q,Y,K[0],K[1],K[2],K[3],ne[0],ne[1],ne[2],le[0],le[1],le[2],Q,-Y,K[0],K[1],K[2],K[3],le[0],le[1],le[2],ne[0],ne[1],ne[2],O,-Y,ie[0],ie[1],ie[2],ie[3],le[0],le[1],le[2],ne[0],ne[1],ne[2],O,Y,ie[0],ie[1],ie[2],ie[3]),F+=4}}if(this.buffer.update(D),N.push(O),k.push(B[B.length-1].slice()),this.bounds=z,this.vertexCount=F,this.points=k,this.arcLength=N,"dashes"in o){var oe=o.dashes,X=oe.slice();for(X.unshift(0),E=1;E<X.length;++E)X[E]=X[E-1]+X[E];var j=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(b=0;b<4;++b)j.set(E,0,b,0);g.le(X,X[X.length-1]*E/255)&1?j.set(E,0,0,0):j.set(E,0,0,255)}this.texture.setPixels(j)}},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},M.pick=function(o){if(!o||o.id!==this.pickId)return null;var E=l(o.value[0],o.value[1],o.value[2],0),b=g.le(this.arcLength,E);if(b<0)return null;if(b===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var I=this.points[b],D=this.points[Math.min(b+1,this.points.length-1)],N=(E-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),k=1-N,O=[0,0,0],F=0;F<3;++F)O[F]=k*I[F]+N*D[F];var z=Math.min(N<.5?b:b+1,this.points.length-1);return new C(E,O,z,this.points[z])};function A(o){var E=o.gl||o.scene&&o.scene.gl,b=c(E);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var I=a(E);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;for(var D=t(E),N=i(E,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),k=h(new Array(256*4),[256,1,4]),O=0;O<1024;++O)k.data[O]=255;var F=n(E,k);F.wrap=E.REPEAT;var z=new y(E,b,I,D,N,F);return z.update(o),z}},1903:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],f=r[3],u=r[4],l=r[5],g=r[6],h=r[7],T=r[8],c=r[9],a=r[10],d=r[11],x=r[12],w=r[13],C=r[14],y=r[15],M=t*l-i*u,A=t*g-n*u,o=t*h-f*u,E=i*g-n*l,b=i*h-f*l,I=n*h-f*g,D=T*w-c*x,N=T*C-a*x,k=T*y-d*x,O=c*C-a*w,F=c*y-d*w,z=a*y-d*C;return M*z-A*F+o*O+E*k-b*N+I*D}},7399:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],f=t[2],u=t[3],l=i+i,g=n+n,h=f+f,T=i*l,c=n*l,a=n*g,d=f*l,x=f*g,w=f*h,C=u*l,y=u*g,M=u*h;return r[0]=1-a-w,r[1]=c+M,r[2]=d-y,r[3]=0,r[4]=c-M,r[5]=1-T-w,r[6]=x+C,r[7]=0,r[8]=d+y,r[9]=x-C,r[10]=1-T-a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=t[3],g=n+n,h=f+f,T=u+u,c=n*g,a=n*h,d=n*T,x=f*h,w=f*T,C=u*T,y=l*g,M=l*h,A=l*T;return r[0]=1-(x+C),r[1]=a+A,r[2]=d-M,r[3]=0,r[4]=a-A,r[5]=1-(c+C),r[6]=w+y,r[7]=0,r[8]=d+M,r[9]=w-y,r[10]=1-(c+x),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},7894:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],f=t[2],u=t[3],l=t[4],g=t[5],h=t[6],T=t[7],c=t[8],a=t[9],d=t[10],x=t[11],w=t[12],C=t[13],y=t[14],M=t[15],A=i*g-n*l,o=i*h-f*l,E=i*T-u*l,b=n*h-f*g,I=n*T-u*g,D=f*T-u*h,N=c*C-a*w,k=c*y-d*w,O=c*M-x*w,F=a*y-d*C,z=a*M-x*C,B=d*M-x*y,W=A*B-o*z+E*F+b*O-I*k+D*N;return W?(W=1/W,r[0]=(g*B-h*z+T*F)*W,r[1]=(f*z-n*B-u*F)*W,r[2]=(C*D-y*I+M*b)*W,r[3]=(d*I-a*D-x*b)*W,r[4]=(h*O-l*B-T*k)*W,r[5]=(i*B-f*O+u*k)*W,r[6]=(y*E-w*D-M*o)*W,r[7]=(c*D-d*E+x*o)*W,r[8]=(l*z-g*O+T*N)*W,r[9]=(n*O-i*z-u*N)*W,r[10]=(w*I-C*E+M*A)*W,r[11]=(a*E-c*I-x*A)*W,r[12]=(g*k-l*F-h*N)*W,r[13]=(i*F-n*k+f*N)*W,r[14]=(C*o-w*b-y*A)*W,r[15]=(c*b-a*o+d*A)*W,r):null}},6582:function(v,p,r){var t=r(7894);v.exports=i;function i(n,f,u,l){var g,h,T,c,a,d,x,w,C,y,M=f[0],A=f[1],o=f[2],E=l[0],b=l[1],I=l[2],D=u[0],N=u[1],k=u[2];return Math.abs(M-D)<1e-6&&Math.abs(A-N)<1e-6&&Math.abs(o-k)<1e-6?t(n):(x=M-D,w=A-N,C=o-k,y=1/Math.sqrt(x*x+w*w+C*C),x*=y,w*=y,C*=y,g=b*C-I*w,h=I*x-E*C,T=E*w-b*x,y=Math.sqrt(g*g+h*h+T*T),y?(y=1/y,g*=y,h*=y,T*=y):(g=0,h=0,T=0),c=w*T-C*h,a=C*g-x*T,d=x*h-w*g,y=Math.sqrt(c*c+a*a+d*d),y?(y=1/y,c*=y,a*=y,d*=y):(c=0,a=0,d=0),n[0]=g,n[1]=c,n[2]=x,n[3]=0,n[4]=h,n[5]=a,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=C,n[11]=0,n[12]=-(g*M+h*A+T*o),n[13]=-(c*M+a*A+d*o),n[14]=-(x*M+w*A+C*o),n[15]=1,n)}},6760:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=t[3],g=t[4],h=t[5],T=t[6],c=t[7],a=t[8],d=t[9],x=t[10],w=t[11],C=t[12],y=t[13],M=t[14],A=t[15],o=i[0],E=i[1],b=i[2],I=i[3];return r[0]=o*n+E*g+b*a+I*C,r[1]=o*f+E*h+b*d+I*y,r[2]=o*u+E*T+b*x+I*M,r[3]=o*l+E*c+b*w+I*A,o=i[4],E=i[5],b=i[6],I=i[7],r[4]=o*n+E*g+b*a+I*C,r[5]=o*f+E*h+b*d+I*y,r[6]=o*u+E*T+b*x+I*M,r[7]=o*l+E*c+b*w+I*A,o=i[8],E=i[9],b=i[10],I=i[11],r[8]=o*n+E*g+b*a+I*C,r[9]=o*f+E*h+b*d+I*y,r[10]=o*u+E*T+b*x+I*M,r[11]=o*l+E*c+b*w+I*A,o=i[12],E=i[13],b=i[14],I=i[15],r[12]=o*n+E*g+b*a+I*C,r[13]=o*f+E*h+b*d+I*y,r[14]=o*u+E*T+b*x+I*M,r[15]=o*l+E*c+b*w+I*A,r}},4040:function(v){v.exports=p;function p(r,t,i,n,f,u,l){var g=1/(t-i),h=1/(n-f),T=1/(u-l);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+i)*g,r[13]=(f+n)*h,r[14]=(l+u)*T,r[15]=1,r}},4772:function(v){v.exports=p;function p(r,t,i,n,f){var u=1/Math.tan(t/2),l=1/(n-f);return r[0]=u/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*l,r[15]=0,r}},6079:function(v){v.exports=p;function p(r,t,i,n){var f=n[0],u=n[1],l=n[2],g=Math.sqrt(f*f+u*u+l*l),h,T,c,a,d,x,w,C,y,M,A,o,E,b,I,D,N,k,O,F,z,B,W,J;return Math.abs(g)<1e-6?null:(g=1/g,f*=g,u*=g,l*=g,h=Math.sin(i),T=Math.cos(i),c=1-T,a=t[0],d=t[1],x=t[2],w=t[3],C=t[4],y=t[5],M=t[6],A=t[7],o=t[8],E=t[9],b=t[10],I=t[11],D=f*f*c+T,N=u*f*c+l*h,k=l*f*c-u*h,O=f*u*c-l*h,F=u*u*c+T,z=l*u*c+f*h,B=f*l*c+u*h,W=u*l*c-f*h,J=l*l*c+T,r[0]=a*D+C*N+o*k,r[1]=d*D+y*N+E*k,r[2]=x*D+M*N+b*k,r[3]=w*D+A*N+I*k,r[4]=a*O+C*F+o*z,r[5]=d*O+y*F+E*z,r[6]=x*O+M*F+b*z,r[7]=w*O+A*F+I*z,r[8]=a*B+C*W+o*J,r[9]=d*B+y*W+E*J,r[10]=x*B+M*W+b*J,r[11]=w*B+A*W+I*J,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),f=Math.cos(i),u=t[4],l=t[5],g=t[6],h=t[7],T=t[8],c=t[9],a=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+T*n,r[5]=l*f+c*n,r[6]=g*f+a*n,r[7]=h*f+d*n,r[8]=T*f-u*n,r[9]=c*f-l*n,r[10]=a*f-g*n,r[11]=d*f-h*n,r}},2408:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),f=Math.cos(i),u=t[0],l=t[1],g=t[2],h=t[3],T=t[8],c=t[9],a=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-T*n,r[1]=l*f-c*n,r[2]=g*f-a*n,r[3]=h*f-d*n,r[8]=u*n+T*f,r[9]=l*n+c*f,r[10]=g*n+a*f,r[11]=h*n+d*f,r}},7089:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),f=Math.cos(i),u=t[0],l=t[1],g=t[2],h=t[3],T=t[4],c=t[5],a=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+T*n,r[1]=l*f+c*n,r[2]=g*f+a*n,r[3]=h*f+d*n,r[4]=T*f-u*n,r[5]=c*f-l*n,r[6]=a*f-g*n,r[7]=d*f-h*n,r}},2504:function(v){v.exports=p;function p(r,t,i){var n=i[0],f=i[1],u=i[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=p;function p(r,t,i){var n=i[0],f=i[1],u=i[2],l,g,h,T,c,a,d,x,w,C,y,M;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*u+t[12],r[13]=t[1]*n+t[5]*f+t[9]*u+t[13],r[14]=t[2]*n+t[6]*f+t[10]*u+t[14],r[15]=t[3]*n+t[7]*f+t[11]*u+t[15]):(l=t[0],g=t[1],h=t[2],T=t[3],c=t[4],a=t[5],d=t[6],x=t[7],w=t[8],C=t[9],y=t[10],M=t[11],r[0]=l,r[1]=g,r[2]=h,r[3]=T,r[4]=c,r[5]=a,r[6]=d,r[7]=x,r[8]=w,r[9]=C,r[10]=y,r[11]=M,r[12]=l*n+c*f+w*u+t[12],r[13]=g*n+a*f+C*u+t[13],r[14]=h*n+d*f+y*u+t[14],r[15]=T*n+x*f+M*u+t[15]),r}},5665:function(v){v.exports=p;function p(r,t){if(r===t){var i=t[1],n=t[2],f=t[3],u=t[6],l=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,p,r){var t=r(2642),i=r(9346);v.exports=g;function n(h,T){for(var c=[0,0,0,0],a=0;a<4;++a)for(var d=0;d<4;++d)c[d]+=h[4*a+d]*T[a];return c}function f(h,T,c,a,d){for(var x=n(a,n(c,n(T,[h[0],h[1],h[2],1]))),w=0;w<3;++w)x[w]/=x[3];return[.5*d[0]*(1+x[0]),.5*d[1]*(1-x[1])]}function u(h,T){if(h.length===2){for(var c=0,a=0,d=0;d<2;++d)c+=Math.pow(T[d]-h[0][d],2),a+=Math.pow(T[d]-h[1][d],2);return c=Math.sqrt(c),a=Math.sqrt(a),c+a<1e-6?[1,0]:[a/(c+a),c/(a+c)]}else if(h.length===3){var x=[0,0];return i(h[0],h[1],h[2],T,x),t(h,x)}return[]}function l(h,T){for(var c=[0,0,0],a=0;a<h.length;++a)for(var d=h[a],x=T[a],w=0;w<3;++w)c[w]+=x*d[w];return c}function g(h,T,c,a,d,x){if(h.length===1)return[0,h[0].slice()];for(var w=new Array(h.length),C=0;C<h.length;++C)w[C]=f(h[C],c,a,d,x);for(var y=0,M=1/0,C=0;C<w.length;++C){for(var A=0,o=0;o<2;++o)A+=Math.pow(w[C][o]-T[o],2);A<M&&(M=A,y=C)}for(var E=u(w,T),b=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;b+=E[C]}return Math.abs(b-1)>.001?null:[y,l(h,E),E]}},840:function(v,p,r){var t=r(3236),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:a,fragment:d,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,p,r){var t=1e-6,i=1e-6,n=r(9405),f=r(2762),u=r(8116),l=r(7766),g=r(8406),h=r(6760),T=r(7608),c=r(9618),a=r(6729),d=r(7765),x=r(1888),w=r(840),C=r(7626),y=w.meshShader,M=w.wireShader,A=w.pointShader,o=w.pickShader,E=w.pointPickShader,b=w.contourShader,I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D($,K,ie,Y,Q,oe,X,j,se,te,fe,ge,be,xe,_e,De,Fe,Te,Re,Se,Ie,Me,Ve,et,it,Je,Qe){this.gl=$,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=K,this.dirty=!0,this.triShader=ie,this.lineShader=Y,this.pointShader=Q,this.pickShader=oe,this.pointPickShader=X,this.contourShader=j,this.trianglePositions=se,this.triangleColors=fe,this.triangleNormals=be,this.triangleUVs=ge,this.triangleIds=te,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=_e,this.edgeColors=Fe,this.edgeUVs=Te,this.edgeIds=De,this.edgeVAO=Re,this.edgeCount=0,this.pointPositions=Se,this.pointColors=Me,this.pointUVs=Ve,this.pointSizes=et,this.pointIds=Ie,this.pointVAO=it,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Je,this.contourVAO=Qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=I,this._view=I,this._projection=I,this._resolution=[1,1]}var N=D.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function($){this.pickId=$};function k($,K){if(!K||!K.length)return 1;for(var ie=0;ie<K.length;++ie){if(K.length<2)return 1;if(K[ie][0]===$)return K[ie][1];if(K[ie][0]>$&&ie>0){var Y=(K[ie][0]-$)/(K[ie][0]-K[ie-1][0]);return K[ie][1]*(1-Y)+Y*K[ie-1][1]}}return 1}function O($,K){for(var ie=a({colormap:$,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var oe=ie[Q],X=0;X<3;++X)Y[4*Q+X]=oe[X];K?Y[4*Q+3]=255*k(Q/255,K):Y[4*Q+3]=255*oe[3]}return c(Y,[256,256,4],[4,0,1])}function F($){for(var K=$.length,ie=new Array(K),Y=0;Y<K;++Y)ie[Y]=$[Y][2];return ie}N.highlight=function($){if(!$||!this.contourEnable){this.contourCount=0;return}for(var K=d(this.cells,this.intensity,$.intensity),ie=K.cells,Y=K.vertexIds,Q=K.vertexWeights,oe=ie.length,X=x.mallocFloat32(2*3*oe),j=0,se=0;se<oe;++se)for(var te=ie[se],fe=0;fe<2;++fe){var ge=te[0];te.length===2&&(ge=te[fe]);for(var be=Y[ge][0],xe=Y[ge][1],_e=Q[ge],De=1-_e,Fe=this.positions[be],Te=this.positions[xe],Re=0;Re<3;++Re)X[j++]=_e*Fe[Re]+De*Te[Re]}this.contourCount=j/3|0,this.contourPositions.update(X.subarray(0,j)),x.free(X)},N.update=function($){$=$||{};var K=this.gl;this.dirty=!0,"contourEnable"in $&&(this.contourEnable=$.contourEnable),"contourColor"in $&&(this.contourColor=$.contourColor),"lineWidth"in $&&(this.lineWidth=$.lineWidth),"lightPosition"in $&&(this.lightPosition=$.lightPosition),this.hasAlpha=!1,"opacity"in $&&(this.opacity=$.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in $&&(this.opacityscale=$.opacityscale,this.hasAlpha=!0),"ambient"in $&&(this.ambientLight=$.ambient),"diffuse"in $&&(this.diffuseLight=$.diffuse),"specular"in $&&(this.specularLight=$.specular),"roughness"in $&&(this.roughness=$.roughness),"fresnel"in $&&(this.fresnel=$.fresnel),$.texture?(this.texture.dispose(),this.texture=l(K,$.texture)):$.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=K.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=K.LINEAR,this.texture.setPixels(O($.colormap,this.opacityscale)),this.texture.generateMipmap());var ie=$.cells,Y=$.positions;if(!(!Y||!ie)){var Q=[],oe=[],X=[],j=[],se=[],te=[],fe=[],ge=[],be=[],xe=[],_e=[],De=[],Fe=[],Te=[];this.cells=ie,this.positions=Y;var Re=$.vertexNormals,Se=$.cellNormals,Ie=$.vertexNormalsEpsilon===void 0?t:$.vertexNormalsEpsilon,Me=$.faceNormalsEpsilon===void 0?i:$.faceNormalsEpsilon;$.useFacetNormals&&!Se&&(Se=g.faceNormals(ie,Y,Me)),!Se&&!Re&&(Re=g.vertexNormals(ie,Y,Ie));var Ve=$.vertexColors,et=$.cellColors,it=$.meshColor||[1,1,1,1],Je=$.vertexUVs,Qe=$.vertexIntensity,ct=$.cellUVs,ht=$.cellIntensity,gt=1/0,Tt=-1/0;if(!Je&&!ct)if(Qe)if($.vertexIntensityBounds)gt=+$.vertexIntensityBounds[0],Tt=+$.vertexIntensityBounds[1];else for(var Et=0;Et<Qe.length;++Et){var rt=Qe[Et];gt=Math.min(gt,rt),Tt=Math.max(Tt,rt)}else if(ht)if($.cellIntensityBounds)gt=+$.cellIntensityBounds[0],Tt=+$.cellIntensityBounds[1];else for(var Et=0;Et<ht.length;++Et){var rt=ht[Et];gt=Math.min(gt,rt),Tt=Math.max(Tt,rt)}else for(var Et=0;Et<Y.length;++Et){var rt=Y[Et][2];gt=Math.min(gt,rt),Tt=Math.max(Tt,rt)}Qe?this.intensity=Qe:ht?this.intensity=ht:this.intensity=F(Y),this.pickVertex=!(ht||et);var ze=$.pointSizes,He=$.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Et=0;Et<Y.length;++Et)for(var Ge=Y[Et],We=0;We<3;++We)isNaN(Ge[We])||!isFinite(Ge[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],Ge[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ge[We]));var Le=0,Pe=0,je=0;e:for(var Et=0;Et<ie.length;++Et){var Ce=ie[Et];switch(Ce.length){case 1:for(var he=Ce[0],Ge=Y[he],We=0;We<3;++We)if(isNaN(Ge[We])||!isFinite(Ge[We]))continue e;xe.push(Ge[0],Ge[1],Ge[2]);var me;Ve?me=Ve[he]:et?me=et[Et]:me=it,this.opacityscale&&Qe?oe.push(me[0],me[1],me[2],this.opacity*k((Qe[he]-gt)/(Tt-gt),this.opacityscale)):me.length===3?_e.push(me[0],me[1],me[2],this.opacity):(_e.push(me[0],me[1],me[2],me[3]*this.opacity),me[3]<1&&(this.hasAlpha=!0));var Ne;Je?Ne=Je[he]:Qe?Ne=[(Qe[he]-gt)/(Tt-gt),0]:ct?Ne=ct[Et]:ht?Ne=[(ht[Et]-gt)/(Tt-gt),0]:Ne=[(Ge[2]-gt)/(Tt-gt),0],De.push(Ne[0],Ne[1]),ze?Fe.push(ze[he]):Fe.push(He),Te.push(Et),je+=1;break;case 2:for(var We=0;We<2;++We)for(var he=Ce[We],Ge=Y[he],$e=0;$e<3;++$e)if(isNaN(Ge[$e])||!isFinite(Ge[$e]))continue e;for(var We=0;We<2;++We){var he=Ce[We],Ge=Y[he];te.push(Ge[0],Ge[1],Ge[2]);var me;Ve?me=Ve[he]:et?me=et[Et]:me=it,this.opacityscale&&Qe?oe.push(me[0],me[1],me[2],this.opacity*k((Qe[he]-gt)/(Tt-gt),this.opacityscale)):me.length===3?fe.push(me[0],me[1],me[2],this.opacity):(fe.push(me[0],me[1],me[2],me[3]*this.opacity),me[3]<1&&(this.hasAlpha=!0));var Ne;Je?Ne=Je[he]:Qe?Ne=[(Qe[he]-gt)/(Tt-gt),0]:ct?Ne=ct[Et]:ht?Ne=[(ht[Et]-gt)/(Tt-gt),0]:Ne=[(Ge[2]-gt)/(Tt-gt),0],ge.push(Ne[0],Ne[1]),be.push(Et)}Pe+=1;break;case 3:for(var We=0;We<3;++We)for(var he=Ce[We],Ge=Y[he],$e=0;$e<3;++$e)if(isNaN(Ge[$e])||!isFinite(Ge[$e]))continue e;for(var We=0;We<3;++We){var he=Ce[2-We],Ge=Y[he];Q.push(Ge[0],Ge[1],Ge[2]);var me;Ve?me=Ve[he]:et?me=et[Et]:me=it,me?this.opacityscale&&Qe?oe.push(me[0],me[1],me[2],this.opacity*k((Qe[he]-gt)/(Tt-gt),this.opacityscale)):me.length===3?oe.push(me[0],me[1],me[2],this.opacity):(oe.push(me[0],me[1],me[2],me[3]*this.opacity),me[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var Ne;Je?Ne=Je[he]:Qe?Ne=[(Qe[he]-gt)/(Tt-gt),0]:ct?Ne=ct[Et]:ht?Ne=[(ht[Et]-gt)/(Tt-gt),0]:Ne=[(Ge[2]-gt)/(Tt-gt),0],j.push(Ne[0],Ne[1]);var ot;Re?ot=Re[he]:ot=Se[Et],X.push(ot[0],ot[1],ot[2]),se.push(Et)}Le+=1;break}}this.pointCount=je,this.edgeCount=Pe,this.triangleCount=Le,this.pointPositions.update(xe),this.pointColors.update(_e),this.pointUVs.update(De),this.pointSizes.update(Fe),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(te),this.edgeColors.update(fe),this.edgeUVs.update(ge),this.edgeIds.update(new Uint32Array(be)),this.trianglePositions.update(Q),this.triangleColors.update(oe),this.triangleUVs.update(j),this.triangleNormals.update(X),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function($){$=$||{};for(var K=this.gl,ie=$.model||I,Y=$.view||I,Q=$.projection||I,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],X=0;X<3;++X)oe[0][X]=Math.max(oe[0][X],this.clipBounds[0][X]),oe[1][X]=Math.min(oe[1][X],this.clipBounds[1][X]);var j={model:ie,view:Y,projection:Q,inverseModel:I.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};j.inverseModel=T(j.inverseModel,j.model),K.disable(K.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,j.view,j.model),h(se,j.projection,se),T(se,se);for(var X=0;X<3;++X)j.eyePosition[X]=se[12+X]/se[15];for(var te=se[15],X=0;X<3;++X)te+=this.lightPosition[X]*se[4*X+3];for(var X=0;X<3;++X){for(var fe=se[12+X],ge=0;ge<3;++ge)fe+=se[4*ge+X]*this.lightPosition[ge];j.lightPosition[X]=fe/te}if(this.triangleCount>0){var be=this.triShader;be.bind(),be.uniforms=j,this.triangleVAO.bind(),K.drawArrays(K.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var be=this.lineShader;be.bind(),be.uniforms=j,this.edgeVAO.bind(),K.lineWidth(this.lineWidth*this.pixelRatio),K.drawArrays(K.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var be=this.pointShader;be.bind(),be.uniforms=j,this.pointVAO.bind(),K.drawArrays(K.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var be=this.contourShader;be.bind(),be.uniforms=j,this.contourVAO.bind(),K.drawArrays(K.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function($){$=$||{};for(var K=this.gl,ie=$.model||I,Y=$.view||I,Q=$.projection||I,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],X=0;X<3;++X)oe[0][X]=Math.max(oe[0][X],this.clipBounds[0][X]),oe[1][X]=Math.min(oe[1][X],this.clipBounds[1][X]);this._model=[].slice.call(ie),this._view=[].slice.call(Y),this._projection=[].slice.call(Q),this._resolution=[K.drawingBufferWidth,K.drawingBufferHeight];var j={model:ie,view:Y,projection:Q,clipBounds:oe,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=j,this.triangleCount>0&&(this.triangleVAO.bind(),K.drawArrays(K.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),K.lineWidth(this.lineWidth*this.pixelRatio),K.drawArrays(K.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=j,this.pointVAO.bind(),K.drawArrays(K.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function($){if(!$||$.id!==this.pickId)return null;for(var K=$.value[0]+256*$.value[1]+65536*$.value[2],ie=this.cells[K],Y=this.positions,Q=new Array(ie.length),oe=0;oe<ie.length;++oe)Q[oe]=Y[ie[oe]];var X=$.coord[0],j=$.coord[1];if(!this.pickVertex){var se=this.positions[ie[0]],te=this.positions[ie[1]],fe=this.positions[ie[2]],ge=[(se[0]+te[0]+fe[0])/3,(se[1]+te[1]+fe[1])/3,(se[2]+te[2]+fe[2])/3];return{_cellCenter:!0,position:[X,j],index:K,cell:ie,cellId:K,intensity:this.intensity[K],dataCoordinate:ge}}var be=C(Q,[X*this.pixelRatio,this._resolution[1]-j*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!be)return null;for(var xe=be[2],_e=0,oe=0;oe<ie.length;++oe)_e+=xe[oe]*this.intensity[ie[oe]];return{position:be[1],index:ie[be[0]],cell:ie,cellId:K,intensity:_e,dataCoordinate:this.positions[ie[be[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z($){var K=n($,y.vertex,y.fragment);return K.attributes.position.location=0,K.attributes.color.location=2,K.attributes.uv.location=3,K.attributes.normal.location=4,K}function B($){var K=n($,M.vertex,M.fragment);return K.attributes.position.location=0,K.attributes.color.location=2,K.attributes.uv.location=3,K}function W($){var K=n($,A.vertex,A.fragment);return K.attributes.position.location=0,K.attributes.color.location=2,K.attributes.uv.location=3,K.attributes.pointSize.location=4,K}function J($){var K=n($,o.vertex,o.fragment);return K.attributes.position.location=0,K.attributes.id.location=1,K}function re($){var K=n($,E.vertex,E.fragment);return K.attributes.position.location=0,K.attributes.id.location=1,K.attributes.pointSize.location=4,K}function ne($){var K=n($,b.vertex,b.fragment);return K.attributes.position.location=0,K}function le($,K){arguments.length===1&&(K=$,$=K.gl);var ie=$.getExtension("OES_standard_derivatives")||$.getExtension("MOZ_OES_standard_derivatives")||$.getExtension("WEBKIT_OES_standard_derivatives");if(!ie)throw new Error("derivatives not supported");var Y=z($),Q=B($),oe=W($),X=J($),j=re($),se=ne($),te=l($,c(new Uint8Array([255,255,255,255]),[1,1,4]));te.generateMipmap(),te.minFilter=$.LINEAR_MIPMAP_LINEAR,te.magFilter=$.LINEAR;var fe=f($),ge=f($),be=f($),xe=f($),_e=f($),De=u($,[{buffer:fe,type:$.FLOAT,size:3},{buffer:_e,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:$.FLOAT,size:4},{buffer:be,type:$.FLOAT,size:2},{buffer:xe,type:$.FLOAT,size:3}]),Fe=f($),Te=f($),Re=f($),Se=f($),Ie=u($,[{buffer:Fe,type:$.FLOAT,size:3},{buffer:Se,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Te,type:$.FLOAT,size:4},{buffer:Re,type:$.FLOAT,size:2}]),Me=f($),Ve=f($),et=f($),it=f($),Je=f($),Qe=u($,[{buffer:Me,type:$.FLOAT,size:3},{buffer:Je,type:$.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ve,type:$.FLOAT,size:4},{buffer:et,type:$.FLOAT,size:2},{buffer:it,type:$.FLOAT,size:1}]),ct=f($),ht=u($,[{buffer:ct,type:$.FLOAT,size:3}]),gt=new D($,te,Y,Q,oe,X,j,se,fe,_e,ge,be,xe,De,Fe,Se,Te,Re,Ie,Me,Je,Ve,et,it,Qe,ct,ht);return gt.update(K),gt}v.exports=le},8120:function(v,p,r){v.exports=l;var t=r(2762),i=r(9405),n=r(3603);function f(g,h,T){this.plot=g,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var g=[0,0],h=[0,0];return function(T,c,a,d,x){var w=this.plot,C=this.shader,y=w.gl;g[0]=T,g[1]=c,h[0]=a,h[1]=d,C.uniforms.lo=g,C.uniforms.hi=h,C.uniforms.color=x,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var h=g.gl,T=t(h,[0,0,0,1,1,0,1,1]),c=i(h,n.boxVert,n.lineFrag);return new f(g,T,c)}},1913:function(v,p,r){v.exports=h;var t=r(2762),i=r(9405),n=r(2478),f=r(3603);function u(T,c,a,d){this.plot=T,this.vbo=c,this.shader=a,this.tickShader=d,this.ticks=[[],[]]}function l(T,c){return T-c}var g=u.prototype;g.draw=function(){var T=[0,0],c=[0,0],a=[0,0];return function(){for(var d=this.plot,x=this.vbo,w=this.shader,C=this.ticks,y=d.gl,M=d._tickBounds,A=d.dataBox,o=d.viewBox,E=d.gridLineWidth,b=d.gridLineColor,I=d.gridLineEnable,D=d.pixelRatio,N=0;N<2;++N){var k=M[N],O=M[N+2],F=O-k,z=.5*(A[N+2]+A[N]),B=A[N+2]-A[N];c[N]=2*F/B,T[N]=2*(k-z)/B}w.bind(),x.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=c;for(var W=0,N=0;N<2;++N){a[0]=a[1]=0,a[N]=1,w.uniforms.dataAxis=a,w.uniforms.lineWidth=E[N]/(o[N+2]-o[N])*D,w.uniforms.color=b[N];var J=C[N].length*6;I[N]&&J&&y.drawArrays(y.TRIANGLES,W,J),W+=J}}}(),g.drawTickMarks=function(){var T=[0,0],c=[0,0],a=[1,0],d=[0,1],x=[0,0],w=[0,0];return function(){for(var C=this.plot,y=this.vbo,M=this.tickShader,A=this.ticks,o=C.gl,E=C._tickBounds,b=C.dataBox,I=C.viewBox,D=C.pixelRatio,N=C.screenBox,k=N[2]-N[0],O=N[3]-N[1],F=I[2]-I[0],z=I[3]-I[1],B=0;B<2;++B){var W=E[B],J=E[B+2],re=J-W,ne=.5*(b[B+2]+b[B]),le=b[B+2]-b[B];c[B]=2*re/le,T[B]=2*(W-ne)/le}c[0]*=F/k,T[0]*=F/k,c[1]*=z/O,T[1]*=z/O,M.bind(),y.bind(),M.attributes.dataCoord.pointer();var $=M.uniforms;$.dataShift=T,$.dataScale=c;var K=C.tickMarkLength,ie=C.tickMarkWidth,Y=C.tickMarkColor,Q=0,oe=A[0].length*6,X=Math.min(n.ge(A[0],(b[0]-E[0])/(E[2]-E[0]),l),A[0].length),j=Math.min(n.gt(A[0],(b[2]-E[0])/(E[2]-E[0]),l),A[0].length),se=Q+6*X,te=6*Math.max(0,j-X),fe=Math.min(n.ge(A[1],(b[1]-E[1])/(E[3]-E[1]),l),A[1].length),ge=Math.min(n.gt(A[1],(b[3]-E[1])/(E[3]-E[1]),l),A[1].length),be=oe+6*fe,xe=6*Math.max(0,ge-fe);x[0]=2*(I[0]-K[1])/k-1,x[1]=(I[3]+I[1])/O-1,w[0]=K[1]*D/k,w[1]=ie[1]*D/O,xe&&($.color=Y[1],$.tickScale=w,$.dataAxis=d,$.screenOffset=x,o.drawArrays(o.TRIANGLES,be,xe)),x[0]=(I[2]+I[0])/k-1,x[1]=2*(I[1]-K[0])/O-1,w[0]=ie[0]*D/k,w[1]=K[0]*D/O,te&&($.color=Y[0],$.tickScale=w,$.dataAxis=a,$.screenOffset=x,o.drawArrays(o.TRIANGLES,se,te)),x[0]=2*(I[2]+K[3])/k-1,x[1]=(I[3]+I[1])/O-1,w[0]=K[3]*D/k,w[1]=ie[3]*D/O,xe&&($.color=Y[3],$.tickScale=w,$.dataAxis=d,$.screenOffset=x,o.drawArrays(o.TRIANGLES,be,xe)),x[0]=(I[2]+I[0])/k-1,x[1]=2*(I[3]+K[2])/O-1,w[0]=ie[2]*D/k,w[1]=K[2]*D/O,te&&($.color=Y[2],$.tickScale=w,$.dataAxis=a,$.screenOffset=x,o.drawArrays(o.TRIANGLES,se,te))}}(),g.update=function(){var T=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(a){var d=a.ticks,x=a.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,y=[[],[]],M=0;M<2;++M)for(var A=y[M],o=d[M],E=x[M],b=x[M+2],I=0;I<o.length;++I){var D=(o[I].x-E)/(b-E);A.push(D);for(var N=0;N<6;++N)w[C++]=D,w[C++]=T[N],w[C++]=c[N]}this.ticks=y,this.vbo.update(w)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var c=T.gl,a=t(c),d=i(c,f.gridVert,f.gridFrag),x=i(c,f.tickVert,f.gridFrag),w=new u(T,a,d,x);return w}},4747:function(v,p,r){v.exports=l;var t=r(2762),i=r(9405),n=r(3603);function f(g,h,T){this.plot=g,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var g=[0,0],h=[0,0];return function(T,c,a,d,x,w){var C=this.plot,y=this.shader,M=C.gl;g[0]=T,g[1]=c,h[0]=a,h[1]=d,y.uniforms.start=g,y.uniforms.end=h,y.uniforms.width=x*C.pixelRatio,y.uniforms.color=w,M.drawArrays(M.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var h=g.gl,T=t(h,[-1,-1,-1,1,1,-1,1,1]),c=i(h,n.lineVert,n.lineFrag),a=new f(g,T,c);return a}},3603:function(v,p,r){var t=r(3236),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,p,r){v.exports=h;var t=r(2762),i=r(9405),n=r(529),f=r(2478),u=r(3603);function l(T,c,a){this.plot=T,this.vbo=c,this.shader=a,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=l.prototype;g.drawTicks=function(){var T=[0,0],c=[0,0],a=[0,0];return function(d){var x=this.plot,w=this.shader,C=this.tickX[d],y=this.tickOffset[d],M=x.gl,A=x.viewBox,o=x.dataBox,E=x.screenBox,b=x.pixelRatio,I=x.tickEnable,D=x.tickPad,N=x.tickColor,k=x.tickAngle,O=x.labelEnable,F=x.labelPad,z=x.labelColor,B=x.labelAngle,W=this.labelOffset[d],J=this.labelCount[d],re=f.lt(C,o[d]),ne=f.le(C,o[d+2]);T[0]=T[1]=0,T[d]=1,c[d]=(A[2+d]+A[d])/(E[2+d]-E[d])-1;var le=2/E[2+(d^1)]-E[d^1];c[d^1]=le*A[d^1]-1,I[d]&&(c[d^1]-=le*b*D[d],re<ne&&y[ne]>y[re]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=N[d],w.uniforms.angle=k[d],M.drawArrays(M.TRIANGLES,y[re],y[ne]-y[re]))),O[d]&&J&&(c[d^1]-=le*b*F[d],w.uniforms.dataAxis=a,w.uniforms.screenOffset=c,w.uniforms.color=z[d],w.uniforms.angle=B[d],M.drawArrays(M.TRIANGLES,W,J)),c[d^1]=le*A[2+(d^1)]-1,I[d+2]&&(c[d^1]+=le*b*D[d+2],re<ne&&y[ne]>y[re]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=N[d+2],w.uniforms.angle=k[d+2],M.drawArrays(M.TRIANGLES,y[re],y[ne]-y[re]))),O[d+2]&&J&&(c[d^1]+=le*b*F[d+2],w.uniforms.dataAxis=a,w.uniforms.screenOffset=c,w.uniforms.color=z[d+2],w.uniforms.angle=B[d+2],M.drawArrays(M.TRIANGLES,W,J))}}(),g.drawTitle=function(){var T=[0,0],c=[0,0];return function(){var a=this.plot,d=this.shader,x=a.gl,w=a.screenBox,C=a.titleCenter,y=a.titleAngle,M=a.titleColor,A=a.pixelRatio;if(this.titleCount){for(var o=0;o<2;++o)c[o]=2*(C[o]*A-w[o])/(w[2+o]-w[o])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=c,d.uniforms.angle=y,d.uniforms.color=M,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var T=[0,0],c=[0,0],a=[0,0];return function(){var d=this.plot,x=this.shader,w=d._tickBounds,C=d.dataBox,y=d.screenBox,M=d.viewBox;x.bind();for(var A=0;A<2;++A){var o=w[A],E=w[A+2],b=E-o,I=.5*(C[A+2]+C[A]),D=C[A+2]-C[A],N=M[A],k=M[A+2],O=k-N,F=y[A],z=y[A+2],B=z-F;c[A]=2*b/D*O/B,T[A]=2*(o-I)/D*O/B}a[1]=2*d.pixelRatio/(y[3]-y[1]),a[0]=a[1]*(y[3]-y[1])/(y[2]-y[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=T,x.uniforms.textScale=a,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),g.update=function(T){var c=[],a=T.ticks,d=T.bounds,x,w,C,y,M;for(M=0;M<2;++M){var A=[Math.floor(c.length/3)],o=[-1/0],E=a[M];for(x=0;x<E.length;++x){var b=E[x],I=b.x,D=b.text,N=b.font||"sans-serif",k=b.fontStyle||"normal",O=b.fontWeight||"normal",F=b.fontVariant||"normal";y=b.fontSize||12;for(var z=1/(d[M+2]-d[M]),B=d[M],W=D.split(`
`),J=0;J<W.length;J++)for(C=n(N,W[J],{fontStyle:k,fontWeight:O,fontVariant:F}).data,w=0;w<C.length;w+=2)c.push(C[w]*y,-C[w+1]*y-J*y*1.2,(I-B)*z);A.push(Math.floor(c.length/3)),o.push(I)}this.tickOffset[M]=A,this.tickX[M]=o}for(M=0;M<2;++M){for(this.labelOffset[M]=Math.floor(c.length/3),C=n(T.labelFont[M],T.labels[M],{fontStyle:T.labelFontStyle[M],fontWeight:T.labelFontWeight[M],fontVariant:T.labelFontVariant[M],textAlign:"center"}).data,y=T.labelSize[M],x=0;x<C.length;x+=2)c.push(C[x]*y,-C[x+1]*y,0);this.labelCount[M]=Math.floor(c.length/3)-this.labelOffset[M]}for(this.titleOffset=Math.floor(c.length/3),C=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,y=T.titleSize,x=0;x<C.length;x+=2)c.push(C[x]*y,-C[x+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var c=T.gl,a=t(c),d=i(c,u.textVert,u.textFrag),x=new l(T,a,d);return x}},1850:function(v,p,r){v.exports=c;var t=r(3589),i=r(1913),n=r(2142),f=r(4747),u=r(8120);function l(a,d){this.gl=a,this.pickBuffer=d,this.screenBox=[0,0,a.drawingBufferWidth,a.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=l.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){return function(){var a=this.gl,d=this.screenBox,x=this.viewBox,w=this.dataBox,C=this.pixelRatio,y=this.grid,M=this.line,A=this.text,o=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,a.bindFramebuffer(a.FRAMEBUFFER,null),a.enable(a.SCISSOR_TEST),a.disable(a.DEPTH_TEST),a.depthFunc(a.LESS),a.depthMask(!1),a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD,a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),this.borderColor){a.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;a.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)}a.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),a.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var b=this.backgroundColor;a.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),a.clear(a.COLOR_BUFFER_BIT),y.draw();var I=this.zeroLineEnable,D=this.zeroLineColor,N=this.zeroLineWidth;if(I[0]||I[1]){M.bind();for(var k=0;k<2;++k)if(!(!I[k]||!(w[k]<=0&&w[k+2]>=0))){var O=d[k]-w[k]*(d[k+2]-d[k])/(w[k+2]-w[k]);k===0?M.drawLine(O,d[1],O,d[3],N[k],D[k]):M.drawLine(d[0],O,d[2],O,N[k],D[k])}}for(var k=0;k<o.length;++k)o[k].draw();a.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),a.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),M.bind();var F=this.borderLineEnable,z=this.borderLineWidth,B=this.borderLineColor;F[1]&&M.drawLine(x[0],x[1]-.5*z[1]*C,x[0],x[3]+.5*z[3]*C,z[1],B[1]),F[0]&&M.drawLine(x[0]-.5*z[0]*C,x[1],x[2]+.5*z[2]*C,x[1],z[0],B[0]),F[3]&&M.drawLine(x[2],x[1]-.5*z[1]*C,x[2],x[3]+.5*z[3]*C,z[3],B[3]),F[2]&&M.drawLine(x[0]-.5*z[0]*C,x[3],x[2]+.5*z[2]*C,x[3],z[2],B[2]),A.bind();for(var k=0;k<2;++k)A.drawTicks(k);this.titleEnable&&A.drawTitle();for(var W=this.overlays,k=0;k<W.length;++k)W[k].draw();a.disable(a.SCISSOR_TEST),a.disable(a.BLEND),a.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var a=this.pickBuffer;this.gl,this._pickTimeout=null,a.begin();for(var d=1,x=this.objects,w=0;w<x.length;++w)d=x[w].drawPick(d);a.end()}}}(),g.pick=function(){return function(a,d){if(!this.static){var x=this.pixelRatio,w=this.pickPixelRatio,C=this.viewBox,y=Math.round((a-C[0]/x)*w)|0,M=Math.round((d-C[1]/x)*w)|0,A=this.pickBuffer.query(y,M,this.pickRadius);if(!A)return null;for(var o=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),E=this.objects,b=0;b<E.length;++b){var I=E[b].pick(y,M,o);if(I)return I}return null}}}();function h(a){for(var d=a.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function T(a,d){return a.x-d.x}g.setScreenBox=function(a){var d=this.screenBox,x=this.pixelRatio;d[0]=Math.round(a[0]*x)|0,d[1]=Math.round(a[1]*x)|0,d[2]=Math.round(a[2]*x)|0,d[3]=Math.round(a[3]*x)|0,this.setDirty()},g.setDataBox=function(a){var d=this.dataBox,x=d[0]!==a[0]||d[1]!==a[1]||d[2]!==a[2]||d[3]!==a[3];x&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],this.setDirty())},g.setViewBox=function(a){var d=this.pixelRatio,x=this.viewBox;x[0]=Math.round(a[0]*d)|0,x[1]=Math.round(a[1]*d)|0,x[2]=Math.round(a[2]*d)|0,x[3]=Math.round(a[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((a[2]-a[0])*w)|0,Math.round((a[3]-a[1])*w)|0],this.setDirty()},g.update=function(a){a=a||{};var d=this.gl;this.pixelRatio=a.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(a.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(a.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var w=this.viewBox,C=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(a.dataBox||[-10,-10/C,10,10/C]),this.borderColor=a.borderColor!==!1?(a.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(a.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(a.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(a.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(a.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(a.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(a.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(a.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(a.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(a.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(a.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(a.titleCenter||[.5*(w[0]+w[2])/x,(w[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in a)||!!a.titleEnable,this.titleAngle=a.titleAngle||0,this.titleColor=(a.titleColor||[0,0,0,1]).slice(),this.labelPad=(a.labelPad||[15,15,15,15]).slice(),this.labelAngle=(a.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(a.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(a.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(a.tickPad||[15,15,15,15]).slice(),this.tickAngle=(a.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(a.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(a.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(a.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(a.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(a.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=a.ticks||[[],[]],M=this._tickBounds;M[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(var A=0;A<2;++A){var o=y[A].slice(0);o.length!==0&&(o.sort(T),M[A]=Math.min(M[A],o[0].x),M[A+2]=Math.max(M[A+2],o[o.length-1].x))}this.grid.update({bounds:M,ticks:y}),this.text.update({bounds:M,ticks:y,labels:a.labels||["x","y"],labelSize:a.labelSize||[12,12],labelFont:a.labelFont||["sans-serif","sans-serif"],labelFontStyle:a.labelFontStyle||["normal","normal"],labelFontWeight:a.labelFontWeight||["normal","normal"],labelFontVariant:a.labelFontVariant||["normal","normal"],title:a.title||"",titleSize:a.titleSize||18,titleFont:a.titleFont||"sans-serif",titleFontStyle:a.titleFontStyle||"normal",titleFontWeight:a.titleFontWeight||"normal",titleFontVariant:a.titleFontVariant||"normal"}),this.static=!!a.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var a=this.objects.length-1;a>=0;--a)this.objects[a].dispose();this.objects.length=0;for(var a=this.overlays.length-1;a>=0;--a)this.overlays[a].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(a){this.objects.indexOf(a)<0&&(this.objects.push(a),this.setDirty())},g.removeObject=function(a){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===a){d.splice(x,1),this.setDirty();break}},g.addOverlay=function(a){this.overlays.indexOf(a)<0&&(this.overlays.push(a),this.setOverlayDirty())},g.removeOverlay=function(a){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===a){d.splice(x,1),this.setOverlayDirty();break}};function c(a){var d=a.gl,x=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new l(d,x);return w.grid=i(w),w.text=n(w),w.line=f(w),w.box=u(w),w.update(a),w}},4437:function(v,p,r){v.exports=g;var t=r(3025),i=r(6296),n=r(351),f=r(8512),u=r(24),l=r(7520);function g(h,T){h=h||document.body,T=T||{};var c=[.01,1/0];"distanceLimits"in T&&(c[0]=T.distanceLimits[0],c[1]=T.distanceLimits[1]),"zoomMin"in T&&(c[0]=T.zoomMin),"zoomMax"in T&&(c[1]=T.zoomMax);var a=i({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,w=h.clientWidth,C=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:a,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:a.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var M=t(),A=this.delay,o=M-2*A;a.idle(M-A),a.recalcMatrix(o),a.flush(M-(100+A*2));for(var E=!0,b=a.computedMatrix,I=0;I<16;++I)E=E&&d[I]===b[I],d[I]=b[I];var D=h.clientWidth===w&&h.clientHeight===C;return w=h.clientWidth,C=h.clientHeight,E?!D:(x=Math.exp(a.computedRadius[0]),!0)},lookAt:function(M,A,o){a.lookAt(a.lastT(),M,A,o)},rotate:function(M,A,o){a.rotate(a.lastT(),M,A,o)},pan:function(M,A,o){a.pan(a.lastT(),M,A,o)},translate:function(M,A,o){a.translate(a.lastT(),M,A,o)}};return Object.defineProperties(y,{matrix:{get:function(){return a.computedMatrix},set:function(M){return a.setMatrix(a.lastT(),M),a.computedMatrix},enumerable:!0},mode:{get:function(){return a.getMode()},set:function(M){var A=a.computedUp.slice(),o=a.computedEye.slice(),E=a.computedCenter.slice();if(a.setMode(M),M==="turntable"){var b=t();a._active.lookAt(b,o,E,A),a._active.lookAt(b+500,o,E,[0,0,1]),a._active.flush(b)}return a.getMode()},enumerable:!0},center:{get:function(){return a.computedCenter},set:function(M){return a.lookAt(a.lastT(),null,M),a.computedCenter},enumerable:!0},eye:{get:function(){return a.computedEye},set:function(M){return a.lookAt(a.lastT(),M),a.computedEye},enumerable:!0},up:{get:function(){return a.computedUp},set:function(M){return a.lookAt(a.lastT(),null,null,M),a.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(M){return a.setDistance(a.lastT(),M),M},enumerable:!0},distanceLimits:{get:function(){return a.getDistanceLimits(c)},set:function(M){return a.setDistanceLimits(M),M},enumerable:!0}}),h.addEventListener("contextmenu",function(M){return M.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=n(h,M),h.addEventListener("touchstart",function(A){var o=u(A.changedTouches[0],h);M(0,o[0],o[1],y._lastMods),M(1,o[0],o[1],y._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(A){var o=u(A.changedTouches[0],h);M(1,o[0],o[1],y._lastMods),A.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(A){M(0,y._lastX,y._lastY,y._lastMods)},l?{passive:!0}:!1);function M(A,o,E,b){var I=y.keyBindingMode;if(I!==!1){var D=I==="rotate",N=I==="pan",k=I==="zoom",O=!!b.control,F=!!b.alt,z=!!b.shift,B=!!(A&1),W=!!(A&2),J=!!(A&4),re=1/h.clientHeight,ne=re*(o-y._lastX),le=re*(E-y._lastY),$=y.flipX?1:-1,K=y.flipY?1:-1,ie=Math.PI*y.rotateSpeed,Y=t();if(y._lastX!==-1&&y._lastY!==-1&&((D&&B&&!O&&!F&&!z||B&&!O&&!F&&z)&&a.rotate(Y,$*ie*ne,-K*ie*le,0),(N&&B&&!O&&!F&&!z||W||B&&O&&!F&&!z)&&a.pan(Y,-y.translateSpeed*ne*x,y.translateSpeed*le*x,0),k&&B&&!O&&!F&&!z||J||B&&!O&&F&&!z)){var Q=-y.zoomSpeed*le/window.innerHeight*(Y-a.lastT())*100;a.pan(Y,0,0,x*(Math.exp(Q)-1))}return y._lastX=o,y._lastY=E,y._lastMods=b,!0}}y.wheelListener=f(h,function(A,o){if(y.keyBindingMode!==!1&&y.enableWheel){var E=y.flipX?1:-1,b=y.flipY?1:-1,I=t();if(Math.abs(A)>Math.abs(o))a.rotate(I,0,0,-A*E*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var D=-y.zoomSpeed*b*o/window.innerHeight*(I-a.lastT())/20;a.pan(I,0,0,x*(Math.exp(D)-1))}}},!0)},y.enableMouseListeners(),y}},799:function(v,p,r){var t=r(3236),i=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return i(u,n,f,null,[{name:"position",type:"vec2"}])}},4100:function(v,p,r){var t=r(4437),i=r(3837),n=r(5445),f=r(4449),u=r(3589),l=r(2260),g=r(7169),h=r(351),T=r(4772),c=r(4040),a=r(799),d=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:M,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(o,E){var b=null;try{b=o.getContext("webgl",E),b||(b=o.getContext("experimental-webgl",E))}catch{return null}return b}function C(o){var E=Math.round(Math.log(Math.abs(o))/Math.log(10));if(E<0){var b=Math.round(Math.pow(10,-E));return Math.ceil(o*b)/b}else if(E>0){var b=Math.round(Math.pow(10,E));return Math.ceil(o/b)*b}return Math.ceil(o)}function y(o){return typeof o=="boolean"?o:!0}function M(o){o=o||{},o.camera=o.camera||{};var E=o.canvas;if(!E)if(E=document.createElement("canvas"),o.container){var b=o.container;b.appendChild(E)}else document.body.appendChild(E);var I=o.gl;if(I||(o.glOptions&&(d=!!o.glOptions.preserveDrawingBuffer),I=w(E,o.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!I)throw new Error("webgl not supported");var D=o.bounds||[[-10,-10,-10],[10,10,10]],N=new x,k=l(I,I.drawingBufferWidth,I.drawingBufferHeight,{preferFloat:!d}),O=a(I),F=o.cameraObject&&o.cameraObject._ortho===!0||o.camera.projection&&o.camera.projection.type==="orthographic"||!1,z={eye:o.camera.eye||[2,0,0],center:o.camera.center||[0,0,0],up:o.camera.up||[0,1,0],zoomMin:o.camera.zoomMax||.1,zoomMax:o.camera.zoomMin||100,mode:o.camera.mode||"turntable",_ortho:F},B=o.axes||{},W=i(I,B);W.enable=!B.disable;var J=o.spikes||{},re=f(I,J),ne=[],le=[],$=[],K=[],ie=!0,X=!0,Y=new Array(16),Q=new Array(16),oe={view:null,projection:Y,model:Q,_ortho:!1},X=!0,j=[I.drawingBufferWidth,I.drawingBufferHeight],se=o.cameraObject||t(E,z),te={gl:I,contextLost:!1,pixelRatio:o.pixelRatio||1,canvas:E,selection:N,camera:se,axes:W,axesPixels:null,spikes:re,bounds:D,objects:ne,shape:j,aspect:o.aspectRatio||[1,1,1],pickRadius:o.pickRadius||10,zNear:o.zNear||.01,zFar:o.zFar||1e3,fovy:o.fovy||Math.PI/4,clearColor:o.clearColor||[0,0,0,0],autoResize:y(o.autoResize),autoBounds:y(o.autoBounds),autoScale:!!o.autoScale,autoCenter:y(o.autoCenter),clipToBounds:y(o.clipToBounds),snapToData:!!o.snapToData,onselect:o.onselect||null,onrender:o.onrender||null,onclick:o.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Se){this.aspect[0]=Se.x,this.aspect[1]=Se.y,this.aspect[2]=Se.z,X=!0},setBounds:function(Se,Ie){this.bounds[0][Se]=Ie.min,this.bounds[1][Se]=Ie.max},setClearColor:function(Se){this.clearColor=Se},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[I.drawingBufferWidth/te.pixelRatio|0,I.drawingBufferHeight/te.pixelRatio|0];function ge(){if(!te._stopped&&te.autoResize){var Se=E.parentNode,Ie=1,Me=1;Se&&Se!==document.body?(Ie=Se.clientWidth,Me=Se.clientHeight):(Ie=window.innerWidth,Me=window.innerHeight);var Ve=Math.ceil(Ie*te.pixelRatio)|0,et=Math.ceil(Me*te.pixelRatio)|0;if(Ve!==E.width||et!==E.height){E.width=Ve,E.height=et;var it=E.style;it.position=it.position||"absolute",it.left="0px",it.top="0px",it.width=Ie+"px",it.height=Me+"px",ie=!0}}}te.autoResize&&ge(),window.addEventListener("resize",ge);function be(){for(var Se=ne.length,Ie=K.length,Me=0;Me<Ie;++Me)$[Me]=0;e:for(var Me=0;Me<Se;++Me){var Ve=ne[Me],et=Ve.pickSlots;if(!et){le[Me]=-1;continue}for(var it=0;it<Ie;++it)if($[it]+et<255){le[Me]=it,Ve.setPickBase($[it]+1),$[it]+=et;continue e}var Je=u(I,j);le[Me]=Ie,K.push(Je),$.push(et),Ve.setPickBase(1),Ie+=1}for(;Ie>0&&$[Ie-1]===0;)$.pop(),K.pop().dispose()}te.update=function(Se){te._stopped||(ie=!0,X=!0)},te.add=function(Se){te._stopped||(Se.axes=W,ne.push(Se),le.push(-1),ie=!0,X=!0,be())},te.remove=function(Se){if(!te._stopped){var Ie=ne.indexOf(Se);Ie<0||(ne.splice(Ie,1),le.pop(),ie=!0,X=!0,be())}},te.dispose=function(){if(!te._stopped&&(te._stopped=!0,window.removeEventListener("resize",ge),E.removeEventListener("webglcontextlost",xe),te.mouseListener.enabled=!1,!te.contextLost)){W.dispose(),re.dispose();for(var Se=0;Se<ne.length;++Se)ne[Se].dispose();k.dispose();for(var Se=0;Se<K.length;++Se)K[Se].dispose();O.dispose(),I=null,W=null,re=null,ne=[]}},te._mouseRotating=!1,te._prevButtons=0,te.enableMouseListeners=function(){te.mouseListener=h(E,function(Se,Ie,Me){if(!te._stopped){var Ve=K.length,et=ne.length,it=N.object;N.distance=1/0,N.mouse[0]=Ie,N.mouse[1]=Me,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var Je=!1;if(Se&&te._prevButtons)te._mouseRotating=!0;else{te._mouseRotating&&(X=!0),te._mouseRotating=!1;for(var Qe=0;Qe<Ve;++Qe){var ct=K[Qe].query(Ie,fe[1]-Me-1,te.pickRadius);if(ct){if(ct.distance>N.distance)continue;for(var ht=0;ht<et;++ht){var gt=ne[ht];if(le[ht]===Qe){var Tt=gt.pick(ct);Tt&&(N.buttons=Se,N.screen=ct.coord,N.distance=ct.distance,N.object=gt,N.index=Tt.distance,N.dataPosition=Tt.position,N.dataCoordinate=Tt.dataCoordinate,N.data=Tt,Je=!0)}}}}}it&&it!==N.object&&(it.highlight&&it.highlight(null),ie=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),ie=!0),Je=Je||N.object!==it,Je&&te.onselect&&te.onselect(N),Se&1&&!(te._prevButtons&1)&&te.onclick&&te.onclick(N),te._prevButtons=Se}})};function xe(){if(te.contextLost)return!0;I.isContextLost()&&(te.contextLost=!0,te.mouseListener.enabled=!1,te.selection.object=null,te.oncontextloss&&te.oncontextloss())}E.addEventListener("webglcontextlost",xe);function _e(){if(!xe()){I.colorMask(!0,!0,!0,!0),I.depthMask(!0),I.disable(I.BLEND),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL);for(var Se=ne.length,Ie=K.length,Me=0;Me<Ie;++Me){var Ve=K[Me];Ve.shape=fe,Ve.begin();for(var et=0;et<Se;++et)if(le[et]===Me){var it=ne[et];it.drawPick&&(it.pixelRatio=1,it.drawPick(oe))}Ve.end()}}}var De=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Fe=[De[0].slice(),De[1].slice()];function Te(){if(!xe()){ge();var Se=te.camera.tick();oe.view=te.camera.matrix,ie=ie||Se,X=X||Se,W.pixelRatio=te.pixelRatio,re.pixelRatio=te.pixelRatio;var Ie=ne.length,Me=De[0],Ve=De[1];Me[0]=Me[1]=Me[2]=1/0,Ve[0]=Ve[1]=Ve[2]=-1/0;for(var et=0;et<Ie;++et){var it=ne[et];it.pixelRatio=te.pixelRatio,it.axes=te.axes,ie=ie||!!it.dirty,X=X||!!it.dirty;var Je=it.bounds;if(Je)for(var Qe=Je[0],ct=Je[1],ht=0;ht<3;++ht)Me[ht]=Math.min(Me[ht],Qe[ht]),Ve[ht]=Math.max(Ve[ht],ct[ht])}var gt=te.bounds;if(te.autoBounds)for(var ht=0;ht<3;++ht){if(Ve[ht]<Me[ht])Me[ht]=-1,Ve[ht]=1;else{Me[ht]===Ve[ht]&&(Me[ht]-=1,Ve[ht]+=1);var Tt=.05*(Ve[ht]-Me[ht]);Me[ht]=Me[ht]-Tt,Ve[ht]=Ve[ht]+Tt}gt[0][ht]=Me[ht],gt[1][ht]=Ve[ht]}for(var Et=!1,ht=0;ht<3;++ht)Et=Et||Fe[0][ht]!==gt[0][ht]||Fe[1][ht]!==gt[1][ht],Fe[0][ht]=gt[0][ht],Fe[1][ht]=gt[1][ht];if(X=X||Et,ie=ie||Et,!!ie){if(Et){for(var rt=[0,0,0],et=0;et<3;++et)rt[et]=C((gt[1][et]-gt[0][et])/10);W.autoTicks?W.update({bounds:gt,tickSpacing:rt}):W.update({bounds:gt})}var ze=I.drawingBufferWidth,He=I.drawingBufferHeight;j[0]=ze,j[1]=He,fe[0]=Math.max(ze/te.pixelRatio,1)|0,fe[1]=Math.max(He/te.pixelRatio,1)|0,A(te,F);for(var et=0;et<Ie;++et){var it=ne[et];it.axesBounds=gt,te.clipToBounds&&(it.clipBounds=gt)}N.object&&(te.snapToData?re.position=N.dataCoordinate:re.position=N.dataPosition,re.bounds=gt),X&&(X=!1,_e()),te.axesPixels=n(te.axes,oe,ze,He),te.onrender&&te.onrender(),I.bindFramebuffer(I.FRAMEBUFFER,null),I.viewport(0,0,ze,He),te.clearRGBA(),I.depthMask(!0),I.colorMask(!0,!0,!0,!0),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.disable(I.BLEND),I.disable(I.CULL_FACE);var Ge=!1;W.enable&&(Ge=Ge||W.isTransparent(),W.draw(oe)),re.axes=W,N.object&&re.draw(oe),I.disable(I.CULL_FACE);for(var et=0;et<Ie;++et){var it=ne[et];it.axes=W,it.pixelRatio=te.pixelRatio,it.isOpaque&&it.isOpaque()&&it.draw(oe),it.isTransparent&&it.isTransparent()&&(Ge=!0)}if(Ge){k.shape=j,k.bind(),I.clear(I.DEPTH_BUFFER_BIT),I.colorMask(!1,!1,!1,!1),I.depthMask(!0),I.depthFunc(I.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(oe);for(var et=0;et<Ie;++et){var it=ne[et];it.isOpaque&&it.isOpaque()&&it.draw(oe)}I.enable(I.BLEND),I.blendEquation(I.FUNC_ADD),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.colorMask(!0,!0,!0,!0),I.depthMask(!1),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(oe);for(var et=0;et<Ie;++et){var it=ne[et];it.isTransparent&&it.isTransparent()&&it.drawTransparent(oe)}I.bindFramebuffer(I.FRAMEBUFFER,null),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.disable(I.DEPTH_TEST),O.bind(),k.color[0].bind(0),O.uniforms.accumBuffer=0,g(I),I.disable(I.BLEND)}ie=!1;for(var et=0;et<Ie;++et)ne[et].dirty=!1}}}function Re(){te._stopped||te.contextLost||(Te(),requestAnimationFrame(Re))}return te.enableMouseListeners(),Re(),te.redraw=function(){te._stopped||(ie=!0,Te())},te}function A(o,E){var b=o.bounds,I=o.cameraParams,D=I.projection,N=I.model,k=o.gl.drawingBufferWidth,O=o.gl.drawingBufferHeight,F=o.zNear,z=o.zFar,B=o.fovy,W=k/O;E?(c(D,-W,W,-1,1,F,z),I._ortho=!0):(T(D,B,W,F,z),I._ortho=!1);for(var J=0;J<16;++J)N[J]=0;N[15]=1;for(var re=0,J=0;J<3;++J)re=Math.max(re,b[1][J]-b[0][J]);for(var J=0;J<3;++J)o.autoScale?N[5*J]=o.aspect[J]/(b[1][J]-b[0][J]):N[5*J]=1/re,o.autoCenter&&(N[12+J]=-N[5*J]*.5*(b[0][J]+b[1][J]))}},6640:function(v,p,r){var t=r(3236);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,p,r){var t=r(9405),i=r(2762),n=r(1888),f=r(6640);v.exports=h;function u(T,c,a,d,x){this.plot=T,this.offsetBuffer=c,this.pickBuffer=a,this.shader=d,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var c;T=T||{};function a(A,o){return A in T?T[A]:o}this.sizeMin=a("sizeMin",.5),this.sizeMax=a("sizeMax",20),this.color=a("color",[1,0,0,1]).slice(),this.areaRatio=a("areaRatio",1),this.borderColor=a("borderColor",[0,0,0,1]).slice(),this.blend=a("blend",!1);var d=T.positions.length>>>1,x=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,C=T.positions,y=x?C:n.mallocFloat32(C.length),M=w?T.idToIndex:n.mallocInt32(d);if(x||y.set(C),!w)for(y.set(C),c=0;c<d;c++)M[c]=c;this.points=C,this.offsetBuffer.update(y),this.pickBuffer.update(M),x||n.free(y),w||n.free(M),this.pointCount=d,this.pickOffset=0};function g(T,c){var a=0,d=T.length>>>1,x;for(x=0;x<d;x++){var w=T[x*2],C=T[x*2+1];w>=c[0]&&w<=c[2]&&C>=c[1]&&C<=c[3]&&a++}return a}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(a){var d=a!==void 0,x=d?this.pickShader:this.shader,w=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return a;var y=C[2]-C[0],M=C[3]-C[1],A=g(this.points,C),o=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));T[0]=2/y,T[4]=2/M,T[6]=-2*C[0]/y-1,T[7]=-2*C[1]/M-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=T,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=o<5,x.uniforms.pointSize=o,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=a&255,c[1]=a>>8&255,c[2]=a>>16&255,c[3]=a>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(w.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=a);var E=w.getParameter(w.BLEND),b=w.getParameter(w.DITHER);return E&&!this.blend&&w.disable(w.BLEND),b&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),E&&!this.blend&&w.enable(w.BLEND),b&&w.enable(w.DITHER),a+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,c,a){var d=this.pickOffset,x=this.pointCount;if(a<d||a>=d+x)return null;var w=a-d,C=this.points;return{object:this,pointId:w,dataCoord:[C[2*w],C[2*w+1]]}};function h(T,c){var a=T.gl,d=i(a),x=i(a),w=t(a,f.pointVertex,f.pointFragment),C=t(a,f.pickVertex,f.pickFragment),y=new u(T,d,x,w,C);return y.update(c),T.addObject(y),y}},783:function(v){v.exports=p;function p(r,t,i,n){var f=t[0],u=t[1],l=t[2],g=t[3],h=i[0],T=i[1],c=i[2],a=i[3],d,x,w,C,y;return x=f*h+u*T+l*c+g*a,x<0&&(x=-x,h=-h,T=-T,c=-c,a=-a),1-x>1e-6?(d=Math.acos(x),w=Math.sin(d),C=Math.sin((1-n)*d)/w,y=Math.sin(n*d)/w):(C=1-n,y=n),r[0]=C*f+y*h,r[1]=C*u+y*T,r[2]=C*l+y*c,r[3]=C*g+y*a,r}},5964:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},9366:function(v,p,r){var t=r(4359);v.exports=n;var i={};function n(f,u,l){var g=[u.style,u.weight,u.variant,u.family].join("_"),h=i[g];if(h||(h=i[g]={}),f in h)return h[f];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var c=t(f,T);T.triangles=!1;var a=t(f,T),d,x;if(l&&l!==1){for(d=0;d<c.positions.length;++d)for(x=0;x<c.positions[d].length;++x)c.positions[d][x]/=l;for(d=0;d<a.positions.length;++d)for(x=0;x<a.positions[d].length;++x)a.positions[d][x]/=l}var w=[[1/0,1/0],[-1/0,-1/0]],C=a.positions.length;for(d=0;d<C;++d){var y=a.positions[d];for(x=0;x<2;++x)w[0][x]=Math.min(w[0][x],y[x]),w[1][x]=Math.max(w[1][x],y[x])}return h[f]=[c,a,w]}},1283:function(v,p,r){var t=r(9405),i=r(3236),n=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:l,attributes:h},c={vertex:f,fragment:l,attributes:h},a={vertex:u,fragment:l,attributes:h},d={vertex:n,fragment:g,attributes:h},x={vertex:f,fragment:g,attributes:h},w={vertex:u,fragment:g,attributes:h};function C(y,M){var A=t(y,M),o=A.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,A}p.createPerspective=function(y){return C(y,T)},p.createOrtho=function(y){return C(y,c)},p.createProject=function(y){return C(y,a)},p.createPickPerspective=function(y){return C(y,d)},p.createPickOrtho=function(y){return C(y,x)},p.createPickProject=function(y){return C(y,w)}},8418:function(v,p,r){var t=r(5219),i=r(2762),n=r(8116),f=r(1888),u=r(6760),l=r(1283),g=r(9366),h=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=ArrayBuffer,a=DataView;function d(Q){return c.isView(Q)&&!(Q instanceof a)}function x(Q){return Array.isArray(Q)||d(Q)}v.exports=Y;function w(Q,oe){var X=Q[0],j=Q[1],se=Q[2],te=Q[3];return Q[0]=oe[0]*X+oe[4]*j+oe[8]*se+oe[12]*te,Q[1]=oe[1]*X+oe[5]*j+oe[9]*se+oe[13]*te,Q[2]=oe[2]*X+oe[6]*j+oe[10]*se+oe[14]*te,Q[3]=oe[3]*X+oe[7]*j+oe[11]*se+oe[15]*te,Q}function C(Q,oe,X,j){return w(j,j),w(j,j),w(j,j)}function y(Q,oe){this.index=Q,this.dataCoordinate=this.position=oe}function M(Q){return Q===!0||Q>1?1:Q}function A(Q,oe,X,j,se,te,fe,ge,be,xe,_e,De){this.gl=Q,this.pixelRatio=1,this.shader=oe,this.orthoShader=X,this.projectShader=j,this.pointBuffer=se,this.colorBuffer=te,this.glyphBuffer=fe,this.idBuffer=ge,this.vao=be,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=xe,this.pickOrthoShader=_e,this.pickProjectShader=De,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var o=A.prototype;o.pickSlots=1,o.setPickBase=function(Q){this.pickId=Q},o.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},o.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var E=[0,0],b=[0,0,0],I=[0,0,0],D=[0,0,0,1],N=[0,0,0,1],k=T.slice(),O=[0,0,0],F=[[0,0,0],[0,0,0]];function z(Q){return Q[0]=Q[1]=Q[2]=0,Q}function B(Q,oe){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[3]=1,Q}function W(Q,oe,X,j){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[X]=j,Q}function J(Q){for(var oe=F,X=0;X<2;++X)for(var j=0;j<3;++j)oe[X][j]=Math.max(Math.min(Q[X][j],1e8),-1e8);return oe}function re(Q,oe,X,j){var se=oe.axesProject,te=oe.gl,fe=Q.uniforms,ge=X.model||T,be=X.view||T,xe=X.projection||T,_e=oe.axesBounds,De=J(oe.clipBounds),Fe;oe.axes&&oe.axes.lastCubeProps?Fe=oe.axes.lastCubeProps.axis:Fe=[1,1,1],E[0]=2/te.drawingBufferWidth,E[1]=2/te.drawingBufferHeight,Q.bind(),fe.view=be,fe.projection=xe,fe.screenSize=E,fe.highlightId=oe.highlightId,fe.highlightScale=oe.highlightScale,fe.clipBounds=De,fe.pickGroup=oe.pickId/255,fe.pixelRatio=j;for(var Te=0;Te<3;++Te)if(se[Te]){fe.scale=oe.projectScale[Te],fe.opacity=oe.projectOpacity[Te];for(var Re=k,Se=0;Se<16;++Se)Re[Se]=0;for(var Se=0;Se<4;++Se)Re[5*Se]=1;Re[5*Te]=0,Fe[Te]<0?Re[12+Te]=_e[0][Te]:Re[12+Te]=_e[1][Te],u(Re,ge,Re),fe.model=Re;var Ie=(Te+1)%3,Me=(Te+2)%3,Ve=z(b),et=z(I);Ve[Ie]=1,et[Me]=1;var it=C(xe,be,ge,B(D,Ve)),Je=C(xe,be,ge,B(N,et));if(Math.abs(it[1])>Math.abs(Je[1])){var Qe=it;it=Je,Je=Qe,Qe=Ve,Ve=et,et=Qe;var ct=Ie;Ie=Me,Me=ct}it[0]<0&&(Ve[Ie]=-1),Je[1]>0&&(et[Me]=-1);for(var ht=0,gt=0,Se=0;Se<4;++Se)ht+=Math.pow(ge[4*Ie+Se],2),gt+=Math.pow(ge[4*Me+Se],2);Ve[Ie]/=Math.sqrt(ht),et[Me]/=Math.sqrt(gt),fe.axes[0]=Ve,fe.axes[1]=et,fe.fragClipBounds[0]=W(O,De[0],Te,-1e8),fe.fragClipBounds[1]=W(O,De[1],Te,1e8),oe.vao.bind(),oe.vao.draw(te.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(te.lineWidth(oe.lineWidth*j),oe.vao.draw(te.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}var ne=[-1e8,-1e8,-1e8],le=[1e8,1e8,1e8],$=[ne,le];function K(Q,oe,X,j,se,te,fe){var ge=X.gl;if((te===X.projectHasAlpha||fe)&&re(oe,X,j,se),te===X.hasAlpha||fe){Q.bind();var be=Q.uniforms;be.model=j.model||T,be.view=j.view||T,be.projection=j.projection||T,E[0]=2/ge.drawingBufferWidth,E[1]=2/ge.drawingBufferHeight,be.screenSize=E,be.highlightId=X.highlightId,be.highlightScale=X.highlightScale,be.fragClipBounds=$,be.clipBounds=X.axes.bounds,be.opacity=X.opacity,be.pickGroup=X.pickId/255,be.pixelRatio=se,X.vao.bind(),X.vao.draw(ge.TRIANGLES,X.vertexCount),X.lineWidth>0&&(ge.lineWidth(X.lineWidth*se),X.vao.draw(ge.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}o.draw=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;K(oe,this.projectShader,this,Q,this.pixelRatio,!1,!1)},o.drawTransparent=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;K(oe,this.projectShader,this,Q,this.pixelRatio,!0,!1)},o.drawPick=function(Q){var oe=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;K(oe,this.pickProjectShader,this,Q,1,!0,!0)},o.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var oe=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(oe>=this.pointCount||oe<0)return null;var X=this.points[oe],j=this._selectResult;j.index=oe;for(var se=0;se<3;++se)j.position[se]=j.dataCoordinate[se]=X[se];return j},o.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var oe=Q.index,X=oe&255,j=oe>>8&255,se=oe>>16&255;this.highlightId=[X/255,j/255,se/255,0]}};function ie(Q,oe,X,j){var se;x(Q)?oe<Q.length?se=Q[oe]:se=void 0:se=Q,se=h(se);var te=!0;t(se)&&(se="▼",te=!1),X||(X={});var fe=X.family;x(fe)&&(fe=fe[oe]),fe||(fe="normal");var ge=X.weight;x(ge)&&(ge=ge[oe]),ge||(ge="normal");var be=X.style;x(be)&&(be=be[oe]),be||(be="normal");var xe=X.variant;x(xe)&&(xe=xe[oe]),xe||(xe="normal");var _e=g(se,{family:fe,weight:ge,style:be,variant:xe},j),_e=g(se,X,j);return{mesh:_e[0],lines:_e[1],bounds:_e[2],visible:te}}o.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(x(Q.project))this.axesProject=Q.project;else{var oe=!!Q.project;this.axesProject=[oe,oe,oe]}if("projectScale"in Q)if(x(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var X=+Q.projectScale;this.projectScale=[X,X,X]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(x(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var X=+Q.projectOpacity;this.projectOpacity=[X,X,X]}for(var j=0;j<3;++j)this.projectOpacity[j]=M(this.projectOpacity[j]),this.projectOpacity[j]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=M(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var se=Q.position,te={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},fe=Q.alignment||[0,0],ge,be;if(fe.length===2)ge=fe[0],be=fe[1];else{ge=[],be=[];for(var j=0;j<fe.length;++j)ge[j]=fe[j][0],be[j]=fe[j][1]}var xe=[1/0,1/0,1/0],_e=[-1/0,-1/0,-1/0],De=Q.glyph,Fe=Q.color,Te=Q.size,Re=Q.angle,Se=Q.lineColor,Ie=-1,Me=0,Ve=0,et=0;if(se.length){et=se.length;e:for(var j=0;j<et;++j){for(var it=se[j],Je=0;Je<3;++Je)if(isNaN(it[Je])||!isFinite(it[Je]))continue e;var Qe=ie(De,j,te,this.pixelRatio),ct=Qe.mesh,ht=Qe.lines,gt=Qe.bounds;Me+=ct.cells.length*3,Ve+=ht.edges.length*2}}var Tt=Me+Ve,Et=f.mallocFloat(3*Tt),rt=f.mallocFloat(4*Tt),ze=f.mallocFloat(2*Tt),He=f.mallocUint32(Tt);if(Tt>0){var Ge=0,We=Me,Le=[0,0,0,1],Pe=[0,0,0,1],je=x(Fe)&&x(Fe[0]),Ce=x(Se)&&x(Se[0]);e:for(var j=0;j<et;++j){Ie+=1;for(var it=se[j],Je=0;Je<3;++Je){if(isNaN(it[Je])||!isFinite(it[Je]))continue e;_e[Je]=Math.max(_e[Je],it[Je]),xe[Je]=Math.min(xe[Je],it[Je])}var Qe=ie(De,j,te,this.pixelRatio),ct=Qe.mesh,ht=Qe.lines,gt=Qe.bounds,he=Qe.visible;if(!he)Le=[1,1,1,0];else if(x(Fe)){var me;if(je?j<Fe.length?me=Fe[j]:me=[0,0,0,0]:me=Fe,me.length===3){for(var Je=0;Je<3;++Je)Le[Je]=me[Je];Le[3]=1}else if(me.length===4){for(var Je=0;Je<4;++Je)Le[Je]=me[Je];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Le[0]=Le[1]=Le[2]=0,Le[3]=1;if(!he)Pe=[1,1,1,0];else if(x(Se)){var me;if(Ce?j<Se.length?me=Se[j]:me=[0,0,0,0]:me=Se,me.length===3){for(var Je=0;Je<3;++Je)Pe[Je]=me[Je];Pe[Je]=1}else if(me.length===4){for(var Je=0;Je<4;++Je)Pe[Je]=me[Je];!this.hasAlpha&&me[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;var Ne=.5;he?x(Te)?j<Te.length?Ne=+Te[j]:Ne=12:Te?Ne=+Te:this.useOrtho&&(Ne=12):Ne=0;var $e=0;x(Re)?j<Re.length?$e=+Re[j]:$e=0:Re&&($e=+Re);for(var ot=Math.cos($e),st=Math.sin($e),it=se[j],Je=0;Je<3;++Je)_e[Je]=Math.max(_e[Je],it[Je]),xe[Je]=Math.min(xe[Je],it[Je]);var Wt=ge,Pt=be,Wt=0;x(ge)?j<ge.length?Wt=ge[j]:Wt=0:ge&&(Wt=ge);var Pt=0;x(be)?j<be.length?Pt=be[j]:Pt=0:be&&(Pt=be),Wt*=Wt>0?1-gt[0][0]:Wt<0?1+gt[1][0]:1,Pt*=Pt>0?1-gt[0][1]:Pt<0?1+gt[1][1]:1;for(var dt=[Wt,Pt],Zt=ct.cells||[],Kt=ct.positions||[],Je=0;Je<Zt.length;++Je)for(var Mt=Zt[Je],Xt=0;Xt<3;++Xt){for(var nr=0;nr<3;++nr)Et[3*Ge+nr]=it[nr];for(var nr=0;nr<4;++nr)rt[4*Ge+nr]=Le[nr];He[Ge]=Ie;var vt=Kt[Mt[Xt]];ze[2*Ge]=Ne*(ot*vt[0]-st*vt[1]+dt[0]),ze[2*Ge+1]=Ne*(st*vt[0]+ot*vt[1]+dt[1]),Ge+=1}for(var Zt=ht.edges,Kt=ht.positions,Je=0;Je<Zt.length;++Je)for(var Mt=Zt[Je],Xt=0;Xt<2;++Xt){for(var nr=0;nr<3;++nr)Et[3*We+nr]=it[nr];for(var nr=0;nr<4;++nr)rt[4*We+nr]=Pe[nr];He[We]=Ie;var vt=Kt[Mt[Xt]];ze[2*We]=Ne*(ot*vt[0]-st*vt[1]+dt[0]),ze[2*We+1]=Ne*(st*vt[0]+ot*vt[1]+dt[1]),We+=1}}}this.bounds=[xe,_e],this.points=se,this.pointCount=se.length,this.vertexCount=Me,this.lineVertexCount=Ve,this.pointBuffer.update(Et),this.colorBuffer.update(rt),this.glyphBuffer.update(ze),this.idBuffer.update(He),f.free(Et),f.free(rt),f.free(ze),f.free(He)},o.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function Y(Q){var oe=Q.gl,X=l.createPerspective(oe),j=l.createOrtho(oe),se=l.createProject(oe),te=l.createPickPerspective(oe),fe=l.createPickOrtho(oe),ge=l.createPickProject(oe),be=i(oe),xe=i(oe),_e=i(oe),De=i(oe),Fe=n(oe,[{buffer:be,size:3,type:oe.FLOAT},{buffer:xe,size:4,type:oe.FLOAT},{buffer:_e,size:2,type:oe.FLOAT},{buffer:De,size:4,type:oe.UNSIGNED_BYTE,normalized:!0}]),Te=new A(oe,X,j,se,be,xe,_e,De,Fe,te,fe,ge);return Te.update(Q),Te}},4298:function(v,p,r){var t=r(3236);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,p,r){var t=r(9405),i=r(2762),n=r(4298);v.exports=l;function f(g,h,T){this.plot=g,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(this.enabled){var g=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var a=this.outerColor,d=this.borderColor,x=g.box,w=g.screenBox,C=g.dataBox,y=g.viewBox,M=g.pixelRatio,A=(h[0]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],o=(h[1]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1],E=(h[2]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],b=(h[3]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1];if(A=Math.max(A,y[0]),o=Math.max(o,y[1]),E=Math.min(E,y[2]),b=Math.min(b,y[3]),!(E<A||b<o)){x.bind();var I=w[2]-w[0],D=w[3]-w[1];if(this.outerFill&&(x.drawBox(0,0,I,o,a),x.drawBox(0,o,A,b,a),x.drawBox(0,b,I,D,a),x.drawBox(E,o,I,b,a)),this.innerFill&&x.drawBox(A,o,E,b,c),T>0){var N=T*M;x.drawBox(A-N,o-N,E+N,o+N,d),x.drawBox(A-N,b-N,E+N,b+N,d),x.drawBox(A-N,o-N,A+N,b+N,d),x.drawBox(E-N,o-N,E+N,b+N,d)}}}},u.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(g,h){var T=g.gl,c=i(T,[0,0,0,1,1,0,1,1]),a=t(T,n.boxVertex,n.boxFragment),d=new f(g,c,a);return d.update(h),g.addOverlay(d),d}},3589:function(v,p,r){v.exports=T;var t=r(2260),i=r(1888),n=r(9618),f=r(8828).nextPow2,u=function(c,a,d){for(var x=1e8,w=-1,C=-1,y=c.shape[0],M=c.shape[1],A=0;A<y;A++)for(var o=0;o<M;o++){var E=c.get(A,o,0),b=c.get(A,o,1),I=c.get(A,o,2),D=c.get(A,o,3);if(E<255||b<255||I<255||D<255){var N=a-A,k=d-o,O=N*N+k*k;O<x&&(x=O,w=A,C=o)}}return[w,C,x]};function l(c,a,d,x,w){this.coord=[c,a],this.id=d,this.value=x,this.distance=w}function g(c,a,d){this.gl=c,this.fbo=a,this.buffer=d,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(a.bind(),c.readPixels(0,0,a.shape[0],a.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=g.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var a=this.fbo.shape[0],d=this.fbo.shape[1];if(d*a*4>this.buffer.length){i.free(this.buffer);for(var x=this.buffer=i.mallocUint8(f(d*a*4)),w=0;w<d*a*4;++w)x[w]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,a,d){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,a=a|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(c-d,0),x[0])|0,C=Math.min(Math.max(c+d,0),x[0])|0,y=Math.min(Math.max(a-d,0),x[1])|0,M=Math.min(Math.max(a+d,0),x[1])|0;if(C<=w||M<=y)return null;var A=[C-w,M-y],o=n(this.buffer,[A[0],A[1],4],[4,x[0]*4,1],4*(w+x[0]*y)),E=u(o.hi(A[0],A[1],1),d,d),b=E[0],I=E[1];if(b<0||Math.pow(this.radius,2)<E[2])return null;var D=o.get(b,I,0),N=o.get(b,I,1),k=o.get(b,I,2),O=o.get(b,I,3);return new l(b+w|0,I+y|0,D,[N,k,O],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(c,a){var d=a[0],x=a[1],w={},C=t(c,d,x,w),y=i.mallocUint8(d*x*4);return new g(c,C,y)}},9405:function(v,p,r){var t=r(3327),i=r(8731),n=r(216),f=r(5091),u=r(2145),l=r(8866);function g(a){this.gl=a,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=g.prototype;h.bind=function(){this.program||this._relink();var a,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(a=x;a<d;a++)this.gl.enableVertexAttribArray(a);else if(x>d)for(a=d;a<x;a++)this.gl.disableVertexAttribArray(a);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var a=this.gl.lastAttribCount,d=0;d<a;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(a,d){return a.name<d.name?-1:1}h.update=function(a,d,x,w){if(!d||arguments.length===1){var C=a;a=C.vertex,d=C.fragment,x=C.uniforms,w=C.attributes}var y=this,M=y.gl,A=y._vref;y._vref=f.shader(M,M.VERTEX_SHADER,a),A&&A.dispose(),y.vertShader=y._vref.shader;var o=this._fref;if(y._fref=f.shader(M,M.FRAGMENT_SHADER,d),o&&o.dispose(),y.fragShader=y._fref.shader,!x||!w){var E=M.createProgram();if(M.attachShader(E,y.fragShader),M.attachShader(E,y.vertShader),M.linkProgram(E),!M.getProgramParameter(E,M.LINK_STATUS)){var b=M.getProgramInfoLog(E);throw new l(b,"Error linking program:"+b)}x=x||u.uniforms(M,E),w=w||u.attributes(M,E),M.deleteProgram(E)}w=w.slice(),w.sort(T);var I=[],D=[],N=[],k;for(k=0;k<w.length;++k){var O=w[k];if(O.type.indexOf("mat")>=0){for(var F=O.type.charAt(O.type.length-1)|0,z=new Array(F),B=0;B<F;++B)z[B]=N.length,D.push(O.name+"["+B+"]"),typeof O.location=="number"?N.push(O.location+B):Array.isArray(O.location)&&O.location.length===F&&typeof O.location[B]=="number"?N.push(O.location[B]|0):N.push(-1);I.push({name:O.name,type:O.type,locations:z})}else I.push({name:O.name,type:O.type,locations:[N.length]}),D.push(O.name),typeof O.location=="number"?N.push(O.location|0):N.push(-1)}var W=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(W)>=0;)W+=1;N[k]=W}var J=new Array(x.length);function re(){y.program=f.program(M,y._vref,y._fref,D,N);for(var ne=0;ne<x.length;++ne)J[ne]=M.getUniformLocation(y.program,x[ne].name)}re(),y._relink=re,y.types={uniforms:n(x),attributes:n(w)},y.attributes=i(M,y,I,N),Object.defineProperty(y,"uniforms",t(M,y,x,J))};function c(a,d,x,w,C){var y=new g(a);return y.update(d,x,w,C),y}v.exports=c},8866:function(v){function p(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},8731:function(v,p,r){v.exports=g;var t=r(8866);function i(h,T,c,a,d,x){this._gl=h,this._wrapper=T,this._index=c,this._locations=a,this._dimension=d,this._constFunc=x}var n=i.prototype;n.pointer=function(T,c,a,d){var x=this,w=x._gl,C=x._locations[x._index];w.vertexAttribPointer(C,x._dimension,T||w.FLOAT,!!c,a||0,d||0),w.enableVertexAttribArray(C)},n.set=function(h,T,c,a){return this._constFunc(this._locations[this._index],h,T,c,a)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,T,c){return c.length===void 0?h.vertexAttrib1f(T,c):h.vertexAttrib1fv(T,c)},function(h,T,c,a){return c.length===void 0?h.vertexAttrib2f(T,c,a):h.vertexAttrib2fv(T,c)},function(h,T,c,a,d){return c.length===void 0?h.vertexAttrib3f(T,c,a,d):h.vertexAttrib3fv(T,c)},function(h,T,c,a,d,x){return c.length===void 0?h.vertexAttrib4f(T,c,a,d,x):h.vertexAttrib4fv(T,c)}];function u(h,T,c,a,d,x,w){var C=f[d],y=new i(h,T,c,a,d,C);Object.defineProperty(x,w,{set:function(M){return h.disableVertexAttribArray(a[c]),C(h,a[c],M),M},get:function(){return y},enumerable:!0})}function l(h,T,c,a,d,x,w){for(var C=new Array(d),y=new Array(d),M=0;M<d;++M)u(h,T,c[M],a,d,C,M),y[M]=C[M];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var b=0;b<d;++b)y[b].location=E[b];else for(var b=0;b<d;++b)y[b].location=E+b;return E},get:function(){for(var E=new Array(d),b=0;b<d;++b)E[b]=a[c[b]];return E},enumerable:!0}),C.pointer=function(E,b,I,D){E=E||h.FLOAT,b=!!b,I=I||d*d,D=D||0;for(var N=0;N<d;++N){var k=a[c[N]];h.vertexAttribPointer(k,d,E,b,I,D+N*d),h.enableVertexAttribArray(k)}};var A=new Array(d),o=h["vertexAttrib"+d+"fv"];Object.defineProperty(x,w,{set:function(E){for(var b=0;b<d;++b){var I=a[c[b]];if(h.disableVertexAttribArray(I),Array.isArray(E[0]))o.call(h,I,E[b]);else{for(var D=0;D<d;++D)A[D]=E[d*b+D];o.call(h,I,A)}}return E},get:function(){return C},enumerable:!0})}function g(h,T,c,a){for(var d={},x=0,w=c.length;x<w;++x){var C=c[x],y=C.name,M=C.type,A=C.locations;switch(M){case"bool":case"int":case"float":u(h,T,A[0],a,1,d,y);break;default:if(M.indexOf("vec")>=0){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+M);u(h,T,A[0],a,o,d,y)}else if(M.indexOf("mat")>=0){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+M);l(h,T,A,a,o,d,y)}else throw new t("","Unknown data type for attribute "+y+": "+M);break}}return d}},3327:function(v,p,r){var t=r(216),i=r(8866);v.exports=u;function n(l){return function(){return l}}function f(l,g){for(var h=new Array(l),T=0;T<l;++T)h[T]=g;return h}function u(l,g,h,T){function c(M){return function(A,o,E){return A.getUniform(o.program,E[M])}}function a(M){return function(o){for(var E=d("",M),b=0;b<E.length;++b){var I=E[b],D=I[0],N=I[1];if(T[N]){var k=o;if(typeof D=="string"&&(D.indexOf(".")===0||D.indexOf("[")===0)){var O=D;if(D.indexOf(".")===0&&(O=D.slice(1)),O.indexOf("]")===O.length-1){var F=O.indexOf("["),z=O.slice(0,F),B=O.slice(F+1,O.length-1);k=z?o[z][B]:o[B]}else k=o[O]}var W=h[N].type,J;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[N],k);break;case"float":l.uniform1f(T[N],k);break;default:var re=W.indexOf("vec");if(0<=re&&re<=1&&W.length===4+re){if(J=W.charCodeAt(W.length-1)-48,J<2||J>4)throw new i("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+J+"iv"](T[N],k);break;case"v":l["uniform"+J+"fv"](T[N],k);break;default:throw new i("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if(J=W.charCodeAt(W.length-1)-48,J<2||J>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+J+"fv"](T[N],!1,k);break}else throw new i("","Unknown uniform data type for "+name+": "+W)}}}}}function d(M,A){if(typeof A!="object")return[[M,A]];var o=[];for(var E in A){var b=A[E],I=M;parseInt(E)+""===E?I+="["+E+"]":I+="."+E,typeof b=="object"?o.push.apply(o,d(I,b)):o.push([I,b])}return o}function x(M){switch(M){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=M.indexOf("vec");if(0<=A&&A<=1&&M.length===4+A){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new i("","Invalid data type");return M.charAt(0)==="b"?f(o,!1):f(o,0)}else if(M.indexOf("mat")===0&&M.length===4){var o=M.charCodeAt(M.length-1)-48;if(o<2||o>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+M);return f(o*o,0)}else throw new i("","Unknown uniform data type for "+name+": "+M)}}function w(M,A,o){if(typeof o=="object"){var E=C(o);Object.defineProperty(M,A,{get:n(E),set:a(o),enumerable:!0,configurable:!1})}else T[o]?Object.defineProperty(M,A,{get:c(o),set:a(o),enumerable:!0,configurable:!1}):M[A]=x(h[o].type)}function C(M){var A;if(Array.isArray(M)){A=new Array(M.length);for(var o=0;o<M.length;++o)w(A,o,M[o])}else{A={};for(var E in M)w(A,E,M[E])}return A}var y=t(h,!0);return{get:n(C(y)),set:a(y),enumerable:!0,configurable:!0}}},216:function(v){v.exports=p;function p(r,t){for(var i={},n=0;n<r.length;++n)for(var f=r[n].name,u=f.split("."),l=i,g=0;g<u.length;++g){var h=u[g].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var T=1;T<h.length;++T){var c=parseInt(h[T]);T<h.length-1||g<u.length-1?(c in l||(T<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else g<u.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return i}},2145:function(v,p){p.uniforms=n,p.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(u,l){if(!t){var g=Object.keys(r);t={};for(var h=0;h<g.length;++h){var T=g[h];t[u[T]]=r[T]}}return t[l]}function n(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),h=[],T=0;T<g;++T){var c=u.getActiveUniform(l,T);if(c){var a=i(u,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:a});else h.push({name:c.name,type:a})}}return h}function f(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),h=[],T=0;T<g;++T){var c=u.getActiveAttrib(l,T);c&&h.push({name:c.name,type:i(u,c.type)})}return h}},5091:function(v,p,r){p.shader=d,p.program=x;var t=r(8866),i=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,f=new n,u=0;function l(w,C,y,M,A,o,E){this.id=w,this.src=C,this.type=y,this.shader=M,this.count=o,this.programs=[],this.cache=E}l.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,C=w.gl,y=this.programs,M=0,A=y.length;M<A;++M){var o=w.programs[y[M]];o&&(delete w.programs[M],C.deleteProgram(o))}C.deleteShader(this.shader),delete w.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function g(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var h=g.prototype;function T(w,C,y){var M=w.createShader(C);if(w.shaderSource(M,y),w.compileShader(M),!w.getShaderParameter(M,w.COMPILE_STATUS)){var A=w.getShaderInfoLog(M);try{var o=i(A,y,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(A,`Error compiling shader:
`+A)}throw new t(A,o.short,o.long)}return M}h.getShaderReference=function(w,C){var y=this.gl,M=this.shaders[w===y.FRAGMENT_SHADER|0],A=M[C];if(!A||!y.isShader(A.shader)){var o=T(y,w,C);A=M[C]=new l(u++,C,w,o,[],1,this)}else A.count+=1;return A};function c(w,C,y,M,A){var o=w.createProgram();w.attachShader(o,C),w.attachShader(o,y);for(var E=0;E<M.length;++E)w.bindAttribLocation(o,A[E],M[E]);if(w.linkProgram(o),!w.getProgramParameter(o,w.LINK_STATUS)){var b=w.getProgramInfoLog(o);throw new t(b,"Error linking program: "+b)}return o}h.getProgram=function(w,C,y,M){var A=[w.id,C.id,y.join(":"),M.join(":")].join("@"),o=this.programs[A];return(!o||!this.gl.isProgram(o))&&(this.programs[A]=o=c(this.gl,w.shader,C.shader,y,M),w.programs.push(A),C.programs.push(A)),o};function a(w){var C=f.get(w);return C||(C=new g(w),f.set(w,C)),C}function d(w,C,y){return a(w).getShaderReference(C,y)}function x(w,C,y,M,A){return a(w).getProgram(C,y,M,A)}},4098:function(v){v.exports=t;function p(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,n=this.width,f=this.color,u=this.center,l=this.plot,g=l.line,h=l.dataBox,T=l.viewBox;if(g.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=T[0]+(u[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),a=T[1]+(u[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);i[0]&&g.drawLine(c,a,T[0],a,n[0],f[0]),i[1]&&g.drawLine(c,a,c,T[1],n[1],f[1]),i[2]&&g.drawLine(c,a,T[2],a,n[2],f[2]),i[3]&&g.drawLine(c,a,c,T[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,n){var f=new p(i);return f.update(n),i.addOverlay(f),f}},1493:function(v,p,r){var t=r(3236),i=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return i(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,p,r){var t=r(2762),i=r(8116),n=r(1493);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(a,d,x,w){this.gl=a,this.buffer=d,this.vao=x,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,g=[0,0,0],h=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(a){},l.draw=function(a){var d=this.gl,x=this.vao,w=this.shader;x.bind(),w.bind();var C=a.model||f,y=a.view||f,M=a.projection||f,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var o=g,E=h,b=0;b<3;++b)A&&A[b]<0?(o[b]=this.bounds[0][b],E[b]=this.bounds[1][b]):(o[b]=this.bounds[1][b],E[b]=this.bounds[0][b]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=C,w.uniforms.view=y,w.uniforms.projection=M,w.uniforms.coordinates=[this.position,o,E],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var b=0;b<3;++b)w.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(x.draw(d.TRIANGLES,6,6*b),this.drawSides[b]&&x.draw(d.TRIANGLES,12,18+12*b));x.unbind()},l.update=function(a){a&&("bounds"in a&&(this.bounds=a.bounds),"position"in a&&(this.position=a.position),"lineWidth"in a&&(this.lineWidth=a.lineWidth),"colors"in a&&(this.colors=a.colors),"enabled"in a&&(this.enabled=a.enabled),"drawSides"in a&&(this.drawSides=a.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(a,d){var x=[];function w(o,E,b,I,D,N){var k=[o,E,b,0,0,0,1];k[I+3]=1,k[I]=D,x.push.apply(x,k),k[6]=-1,x.push.apply(x,k),k[I]=N,x.push.apply(x,k),x.push.apply(x,k),k[6]=1,x.push.apply(x,k),k[I]=D,x.push.apply(x,k)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var C=t(a,x),y=i(a,[{type:a.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:a.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:a.FLOAT,buffer:C,size:1,offset:24,stride:28}]),M=n(a);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.weight.location=2;var A=new u(a,C,y,M);return A.update(d),A}},6740:function(v,p,r){var t=r(3236),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,p,r){var t=r(2931),i=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,w,C,y){for(var M=x.points,A=x.velocities,o=x.divergences,E=[],b=[],I=[],D=[],N=[],k=[],O=0,F=0,z=i.create(),B=i.create(),W=8,J=0;J<M.length;J++){var re=M[J],ne=A[J],le=o[J];w===0&&(le=C*.05),F=t.length(ne)/y,z=i.create(),t.copy(z,ne),z[3]=le;for(var $=0;$<W;$++)N[$]=[re[0],re[1],re[2],$];if(D.length>0)for(var $=0;$<W;$++){var K=($+1)%W;E.push(D[$],N[$],N[K],N[K],D[K],D[$]),I.push(B,z,z,z,B,B),k.push(O,F,F,F,O,O);var ie=E.length;b.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}var Y=D;D=N,N=Y;var Q=B;B=z,z=Q;var oe=O;O=F,F=oe}return{positions:E,cells:b,vectors:I,vertexIntensity:k}},u=function(x,w,C,y){for(var M=0,A=0;A<x.length;A++)for(var o=x[A].velocities,E=0;E<o.length;E++)M=Math.max(M,t.length(o[E]));for(var b=x.map(function(J){return f(J,C,y,M)}),I=[],D=[],N=[],k=[],A=0;A<b.length;A++){var O=b[A],F=I.length;I=I.concat(O.positions),N=N.concat(O.vectors),k=k.concat(O.vertexIntensity);for(var E=0;E<O.cells.length;E++){var z=O.cells[E],B=[];D.push(B);for(var W=0;W<z.length;W++)B.push(z[W]+F)}}return{positions:I,cells:D,vectors:N,vertexIntensity:k,colormap:w}},l=function(x,w){var C=x.length,y;for(y=0;y<C;y++){var M=x[y];if(M===w)return y;if(M>w)return y-1}return y},g=function(x,w,C){return x<w?w:x>C?C:x},h=function(x,w,C){var y=w.vectors,M=w.meshgrid,A=x[0],o=x[1],E=x[2],b=M[0].length,I=M[1].length,D=M[2].length,N=l(M[0],A),k=l(M[1],o),O=l(M[2],E),F=N+1,z=k+1,B=O+1;if(N=g(N,0,b-1),F=g(F,0,b-1),k=g(k,0,I-1),z=g(z,0,I-1),O=g(O,0,D-1),B=g(B,0,D-1),N<0||k<0||O<0||F>b-1||z>I-1||B>D-1)return t.create();var W=M[0][N],J=M[0][F],re=M[1][k],ne=M[1][z],le=M[2][O],$=M[2][B],K=(A-W)/(J-W),ie=(o-re)/(ne-re),Y=(E-le)/($-le);isFinite(K)||(K=.5),isFinite(ie)||(ie=.5),isFinite(Y)||(Y=.5);var Q,oe,X,j,se,te;switch(C.reversedX&&(N=b-1-N,F=b-1-F),C.reversedY&&(k=I-1-k,z=I-1-z),C.reversedZ&&(O=D-1-O,B=D-1-B),C.filled){case 5:se=O,te=B,X=k*D,j=z*D,Q=N*D*I,oe=F*D*I;break;case 4:se=O,te=B,Q=N*D,oe=F*D,X=k*D*b,j=z*D*b;break;case 3:X=k,j=z,se=O*I,te=B*I,Q=N*I*D,oe=F*I*D;break;case 2:X=k,j=z,Q=N*I,oe=F*I,se=O*I*b,te=B*I*b;break;case 1:Q=N,oe=F,se=O*b,te=B*b,X=k*b*D,j=z*b*D;break;default:Q=N,oe=F,X=k*b,j=z*b,se=O*b*I,te=B*b*I;break}var fe=y[Q+X+se],ge=y[Q+X+te],be=y[Q+j+se],xe=y[Q+j+te],_e=y[oe+X+se],De=y[oe+X+te],Fe=y[oe+j+se],Te=y[oe+j+te],Re=t.create(),Se=t.create(),Ie=t.create(),Me=t.create();t.lerp(Re,fe,_e,K),t.lerp(Se,ge,De,K),t.lerp(Ie,be,Fe,K),t.lerp(Me,xe,Te,K);var Ve=t.create(),et=t.create();t.lerp(Ve,Re,Ie,ie),t.lerp(et,Se,Me,ie);var it=t.create();return t.lerp(it,Ve,et,Y),it},T=function(x){var w=1/0;x.sort(function(A,o){return A-o});for(var C=x.length,y=1;y<C;y++){var M=Math.abs(x[y]-x[y-1]);M<w&&(w=M)}return w},c=function(x){for(var w=[],C=[],y=[],M={},A={},o={},E=x.length,b=0;b<E;b++){var I=x[b],D=I[0],N=I[1],k=I[2];M[D]||(w.push(D),M[D]=!0),A[N]||(C.push(N),A[N]=!0),o[k]||(y.push(k),o[k]=!0)}var O=T(w),F=T(C),z=T(y),B=Math.min(O,F,z);return isFinite(B)?B:1};v.exports=function(x,w){var C=x.startingPositions,y=x.maxLength||1e3,M=x.tubeSize||1,A=x.absoluteTubeSize,o=x.gridFill||"+x+y+z",E={};o.indexOf("-x")!==-1&&(E.reversedX=!0),o.indexOf("-y")!==-1&&(E.reversedY=!0),o.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(o.replace(/-/g,"").replace(/\+/g,""));var b=x.getVelocity||function(De){return h(De,x,E)},I=x.getDivergence||function(De,Fe){var Te=t.create(),Re=1e-4;t.add(Te,De,[Re,0,0]);var Se=b(Te);t.subtract(Se,Se,Fe),t.scale(Se,Se,1/Re),t.add(Te,De,[0,Re,0]);var Ie=b(Te);t.subtract(Ie,Ie,Fe),t.scale(Ie,Ie,1/Re),t.add(Te,De,[0,0,Re]);var Me=b(Te);return t.subtract(Me,Me,Fe),t.scale(Me,Me,1/Re),t.add(Te,Se,Ie),t.add(Te,Te,Me),Te},D=[],N=w[0][0],k=w[0][1],O=w[0][2],F=w[1][0],z=w[1][1],B=w[1][2],W=function(De){var Fe=De[0],Te=De[1],Re=De[2];return!(Fe<N||Fe>F||Te<k||Te>z||Re<O||Re>B)},J=t.distance(w[0],w[1]),re=10*J/y,ne=re*re,le=1,$=0,K=C.length;K>1&&(le=c(C));for(var ie=0;ie<K;ie++){var Y=t.create();t.copy(Y,C[ie]);var Q=[Y],oe=[],X=b(Y),j=Y;oe.push(X);var se=[],te=I(Y,X),fe=t.length(te);isFinite(fe)&&fe>$&&($=fe),se.push(fe),D.push({points:Q,velocities:oe,divergences:se});for(var ge=0;ge<y*100&&Q.length<y&&W(Y);){ge++;var be=t.clone(X),xe=t.squaredLength(be);if(xe===0)break;if(xe>ne&&t.scale(be,be,re/Math.sqrt(xe)),t.add(be,be,Y),X=b(be),t.squaredDistance(j,be)-ne>-1e-4*ne){Q.push(be),j=be,oe.push(X);var te=I(be,X),fe=t.length(te);isFinite(fe)&&fe>$&&($=fe),se.push(fe)}Y=be}}var _e=u(D,x.colormap,$,le);return A?_e.tubeScale=A:($===0&&($=1),_e.tubeScale=M*.5*le/$),_e};var a=r(6740),d=r(6405).createMesh;v.exports.createTubeMesh=function(x,w){return d(x,w,{shaders:a,traceType:"streamtube"})}},990:function(v,p,r){var t=r(9405),i=r(3236),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(g){var h=t(g,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(g){var h=t(g,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(g){var h=t(g,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(g){var h=t(g,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,p,r){v.exports=oe;var t=r(8828),i=r(2762),n=r(8116),f=r(7766),u=r(1888),l=r(6729),g=r(5298),h=r(9994),T=r(9618),c=r(3711),a=r(6760),d=r(7608),x=r(2478),w=r(6199),C=r(990),y=C.createShader,M=C.createContourShader,A=C.createPickShader,o=C.createPickContourShader,E=4*10,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var X=0;X<3;++X){var j=D[X],se=(X+1)%3,te=(X+2)%3;j[se+0]=1,j[te+3]=1,j[X+6]=1}})();function N(X,j,se,te,fe){this.position=X,this.index=j,this.uv=se,this.level=te,this.dataCoordinate=fe}var k=256;function O(X,j,se,te,fe,ge,be,xe,_e,De,Fe,Te,Re,Se,Ie){this.gl=X,this.shape=j,this.bounds=se,this.objectOffset=Ie,this.intensityBounds=[],this._shader=te,this._pickShader=fe,this._coordinateBuffer=ge,this._vao=be,this._colorMap=xe,this._contourShader=_e,this._contourPickShader=De,this._contourBuffer=Fe,this._contourVAO=Te,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Re,this._dynamicVAO=Se,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=O.prototype;F.genColormap=function(X,j){var se=!1,te=h([l({colormap:X,nshades:k,format:"rgba"}).map(function(fe,ge){var be=j?z(ge/255,j):fe[3];return be<1&&(se=!0),[fe[0],fe[1],fe[2],255*be]})]);return g.divseq(te,255),this.hasAlphaScale=se,te},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(X){this.pickId=X};function z(X,j){if(!j||!j.length)return 1;for(var se=0;se<j.length;++se){if(j.length<2)return 1;if(j[se][0]===X)return j[se][1];if(j[se][0]>X&&se>0){var te=(j[se][0]-X)/(j[se][0]-j[se-1][0]);return j[se][1]*(1-te)+te*j[se-1][1]}}return 1}var B=[0,0,0],W={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J(X,j){var se,te,fe,ge=j.axes&&j.axes.lastCubeProps.axis||B,be=j.showSurface,xe=j.showContour;for(se=0;se<3;++se)for(be=be||j.surfaceProject[se],te=0;te<3;++te)xe=xe||j.contourProject[se][te];for(se=0;se<3;++se){var _e=W.projections[se];for(te=0;te<16;++te)_e[te]=0;for(te=0;te<4;++te)_e[5*te]=1;_e[5*se]=0,_e[12+se]=j.axesBounds[+(ge[se]>0)][se],a(_e,X.model,_e);var De=W.clipBounds[se];for(fe=0;fe<2;++fe)for(te=0;te<3;++te)De[fe][te]=X.clipBounds[fe][te];De[0][se]=-1e8,De[1][se]=1e8}return W.showSurface=be,W.showContour=xe,W}var re={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=b.slice(),le=[1,0,0,0,1,0,0,0,1];function $(X,j){X=X||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var te=re;te.model=X.model||b,te.view=X.view||b,te.projection=X.projection||b,te.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],te.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],te.objectOffset=this.objectOffset,te.contourColor=this.contourColor[0],te.inverseModel=d(te.inverseModel,te.model);for(var fe=0;fe<2;++fe)for(var ge=te.clipBounds[fe],be=0;be<3;++be)ge[be]=Math.min(Math.max(this.clipBounds[fe][be],-1e8),1e8);te.kambient=this.ambientLight,te.kdiffuse=this.diffuseLight,te.kspecular=this.specularLight,te.roughness=this.roughness,te.fresnel=this.fresnel,te.opacity=this.opacity,te.height=0,te.permutation=le,te.vertexColor=this.vertexColor;var xe=ne;for(a(xe,te.view,te.model),a(xe,te.projection,xe),d(xe,xe),fe=0;fe<3;++fe)te.eyePosition[fe]=xe[12+fe]/xe[15];var _e=xe[15];for(fe=0;fe<3;++fe)_e+=this.lightPosition[fe]*xe[4*fe+3];for(fe=0;fe<3;++fe){var De=xe[12+fe];for(be=0;be<3;++be)De+=xe[4*be+fe]*this.lightPosition[be];te.lightPosition[fe]=De/_e}var Fe=J(te,this);if(Fe.showSurface){for(this._shader.bind(),this._shader.uniforms=te,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Fe.projections[fe],this._shader.uniforms.clipBounds=Fe.clipBounds[fe],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Fe.showContour){var Te=this._contourShader;te.kambient=1,te.kdiffuse=0,te.kspecular=0,te.opacity=1,Te.bind(),Te.uniforms=te;var Re=this._contourVAO;for(Re.bind(),fe=0;fe<3;++fe)for(Te.uniforms.permutation=D[fe],se.lineWidth(this.contourWidth[fe]*this.pixelRatio),be=0;be<this.contourLevels[fe].length;++be)be===this.highlightLevel[fe]?(Te.uniforms.contourColor=this.highlightColor[fe],Te.uniforms.contourTint=this.highlightTint[fe]):(be===0||be-1===this.highlightLevel[fe])&&(Te.uniforms.contourColor=this.contourColor[fe],Te.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][be]&&(Te.uniforms.height=this.contourLevels[fe][be],Re.draw(se.LINES,this._contourCounts[fe][be],this._contourOffsets[fe][be]));for(fe=0;fe<3;++fe)for(Te.uniforms.model=Fe.projections[fe],Te.uniforms.clipBounds=Fe.clipBounds[fe],be=0;be<3;++be)if(this.contourProject[fe][be]){Te.uniforms.permutation=D[be],se.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var Se=0;Se<this.contourLevels[be].length;++Se)Se===this.highlightLevel[be]?(Te.uniforms.contourColor=this.highlightColor[be],Te.uniforms.contourTint=this.highlightTint[be]):(Se===0||Se-1===this.highlightLevel[be])&&(Te.uniforms.contourColor=this.contourColor[be],Te.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][Se]&&(Te.uniforms.height=this.contourLevels[be][Se],Re.draw(se.LINES,this._contourCounts[be][Se],this._contourOffsets[be][Se]))}for(Re.unbind(),Re=this._dynamicVAO,Re.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(Te.uniforms.model=te.model,Te.uniforms.clipBounds=te.clipBounds,Te.uniforms.permutation=D[fe],se.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),Te.uniforms.contourColor=this.dynamicColor[fe],Te.uniforms.contourTint=this.dynamicTint[fe],Te.uniforms.height=this.dynamicLevel[fe],Re.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),be=0;be<3;++be)this.contourProject[be][fe]&&(Te.uniforms.model=Fe.projections[be],Te.uniforms.clipBounds=Fe.clipBounds[be],Re.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));Re.unbind()}}F.draw=function(X){return $.call(this,X,!1)},F.drawTransparent=function(X){return $.call(this,X,!0)};var K={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function(X){X=X||{};var j=this.gl;j.disable(j.CULL_FACE);var se=K;se.model=X.model||b,se.view=X.view||b,se.projection=X.projection||b,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=le;for(var te=0;te<2;++te)for(var fe=se.clipBounds[te],ge=0;ge<3;++ge)fe[ge]=Math.min(Math.max(this.clipBounds[te][ge],-1e8),1e8);var be=J(se,this);if(be.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(j.TRIANGLES,this._vertexCount),te=0;te<3;++te)this.surfaceProject[te]&&(this._pickShader.uniforms.model=be.projections[te],this._pickShader.uniforms.clipBounds=be.clipBounds[te],this._vao.draw(j.TRIANGLES,this._vertexCount));this._vao.unbind()}if(be.showContour){var xe=this._contourPickShader;xe.bind(),xe.uniforms=se;var _e=this._contourVAO;for(_e.bind(),ge=0;ge<3;++ge)for(j.lineWidth(this.contourWidth[ge]*this.pixelRatio),xe.uniforms.permutation=D[ge],te=0;te<this.contourLevels[ge].length;++te)this._contourCounts[ge][te]&&(xe.uniforms.height=this.contourLevels[ge][te],_e.draw(j.LINES,this._contourCounts[ge][te],this._contourOffsets[ge][te]));for(te=0;te<3;++te)for(xe.uniforms.model=be.projections[te],xe.uniforms.clipBounds=be.clipBounds[te],ge=0;ge<3;++ge)if(this.contourProject[te][ge]){xe.uniforms.permutation=D[ge],j.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var De=0;De<this.contourLevels[ge].length;++De)this._contourCounts[ge][De]&&(xe.uniforms.height=this.contourLevels[ge][De],_e.draw(j.LINES,this._contourCounts[ge][De],this._contourOffsets[ge][De]))}_e.unbind()}},F.pick=function(X){if(!X||X.id!==this.pickId)return null;var j=this._field[2].shape,se=this._pickResult,te=j[0]*(X.value[0]+(X.value[2]>>4)/16)/255,fe=Math.floor(te),ge=te-fe,be=j[1]*(X.value[1]+(X.value[2]&15)/16)/255,xe=Math.floor(be),_e=be-xe;fe+=1,xe+=1;var De=se.position;De[0]=De[1]=De[2]=0;for(var Fe=0;Fe<2;++Fe)for(var Te=Fe?ge:1-ge,Re=0;Re<2;++Re)for(var Se=Re?_e:1-_e,Ie=fe+Fe,Me=xe+Re,Ve=Te*Se,et=0;et<3;++et)De[et]+=this._field[et].get(Ie,Me)*Ve;for(var it=this._pickResult.level,Je=0;Je<3;++Je)if(it[Je]=x.le(this.contourLevels[Je],De[Je]),it[Je]<0)this.contourLevels[Je].length>0&&(it[Je]=0);else if(it[Je]<this.contourLevels[Je].length-1){var Qe=this.contourLevels[Je][it[Je]],ct=this.contourLevels[Je][it[Je]+1];Math.abs(Qe-De[Je])>Math.abs(ct-De[Je])&&(it[Je]+=1)}for(se.index[0]=ge<.5?fe:fe+1,se.index[1]=_e<.5?xe:xe+1,se.uv[0]=te/j[0],se.uv[1]=be/j[1],et=0;et<3;++et)se.dataCoordinate[et]=this._field[et].get(se.index[0],se.index[1]);return se},F.padField=function(X,j){var se=j.shape.slice(),te=X.shape.slice();g.assign(X.lo(1,1).hi(se[0],se[1]),j),g.assign(X.lo(1).hi(se[0],1),j.hi(se[0],1)),g.assign(X.lo(1,te[1]-1).hi(se[0],1),j.lo(0,se[1]-1).hi(se[0],1)),g.assign(X.lo(0,1).hi(1,se[1]),j.hi(1)),g.assign(X.lo(te[0]-1,1).hi(1,se[1]),j.lo(se[0]-1)),X.set(0,0,j.get(0,0)),X.set(0,te[1]-1,j.get(0,se[1]-1)),X.set(te[0]-1,0,j.get(se[0]-1,0)),X.set(te[0]-1,te[1]-1,j.get(se[0]-1,se[1]-1))};function ie(X,j){return Array.isArray(X)?[j(X[0]),j(X[1]),j(X[2])]:[j(X),j(X),j(X)]}function Y(X){return Array.isArray(X)?X.length===3?[X[0],X[1],X[2],1]:[X[0],X[1],X[2],X[3]]:[0,0,0,1]}function Q(X){if(Array.isArray(X)){if(Array.isArray(X))return[Y(X[0]),Y(X[1]),Y(X[2])];var j=Y(X);return[j.slice(),j.slice(),j.slice()]}}F.update=function(X){X=X||{},this.objectOffset=X.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in X&&(this.contourWidth=ie(X.contourWidth,Number)),"showContour"in X&&(this.showContour=ie(X.showContour,Boolean)),"showSurface"in X&&(this.showSurface=!!X.showSurface),"contourTint"in X&&(this.contourTint=ie(X.contourTint,Boolean)),"contourColor"in X&&(this.contourColor=Q(X.contourColor)),"contourProject"in X&&(this.contourProject=ie(X.contourProject,function(It){return ie(It,Boolean)})),"surfaceProject"in X&&(this.surfaceProject=X.surfaceProject),"dynamicColor"in X&&(this.dynamicColor=Q(X.dynamicColor)),"dynamicTint"in X&&(this.dynamicTint=ie(X.dynamicTint,Number)),"dynamicWidth"in X&&(this.dynamicWidth=ie(X.dynamicWidth,Number)),"opacity"in X&&(this.opacity=X.opacity),"opacityscale"in X&&(this.opacityscale=X.opacityscale),"colorBounds"in X&&(this.colorBounds=X.colorBounds),"vertexColor"in X&&(this.vertexColor=X.vertexColor?1:0),"colormap"in X&&this._colorMap.setPixels(this.genColormap(X.colormap,this.opacityscale));var j=X.field||X.coords&&X.coords[2]||null,se=!1;if(j||(this._field[2].shape[0]||this._field[2].shape[2]?j=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):j=this._field[2].hi(0,0)),"field"in X||"coords"in X){var te=(j.shape[0]+2)*(j.shape[1]+2);te>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(te))),this._field[2]=T(this._field[2].data,[j.shape[0]+2,j.shape[1]+2]),this.padField(this._field[2],j),this.shape=j.shape.slice();for(var fe=this.shape,ge=0;ge<2;++ge)this._field[2].size>this._field[ge].data.length&&(u.freeFloat(this._field[ge].data),this._field[ge].data=u.mallocFloat(this._field[2].size)),this._field[ge]=T(this._field[ge].data,[fe[0]+2,fe[1]+2]);if(X.coords){var be=X.coords;if(!Array.isArray(be)||be.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ge=0;ge<2;++ge){var xe=be[ge];for(Re=0;Re<2;++Re)if(xe.shape[Re]!==fe[Re])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ge],xe)}}else if(X.ticks){var _e=X.ticks;if(!Array.isArray(_e)||_e.length!==2)throw new Error("gl-surface: invalid ticks");for(ge=0;ge<2;++ge){var De=_e[ge];if((Array.isArray(De)||De.length)&&(De=T(De)),De.shape[0]!==fe[ge])throw new Error("gl-surface: invalid tick length");var Fe=T(De.data,fe);Fe.stride[ge]=De.stride[0],Fe.stride[ge^1]=0,this.padField(this._field[ge],Fe)}}else{for(ge=0;ge<2;++ge){var Te=[0,0];Te[ge]=1,this._field[ge]=T(this._field[ge].data,[fe[0]+2,fe[1]+2],Te,0)}this._field[0].set(0,0,0);for(var Re=0;Re<fe[0];++Re)this._field[0].set(Re+1,0,Re);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),Re=0;Re<fe[1];++Re)this._field[1].set(0,Re+1,Re);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Se=this._field,Ie=T(u.mallocFloat(Se[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(ge=0;ge<3;++ge)w(Ie.pick(ge),Se[ge],"mirror");var Me=T(u.mallocFloat(Se[2].size*3),[fe[0]+2,fe[1]+2,3]);for(ge=0;ge<fe[0]+2;++ge)for(Re=0;Re<fe[1]+2;++Re){var Ve=Ie.get(0,ge,Re,0),et=Ie.get(0,ge,Re,1),it=Ie.get(1,ge,Re,0),Je=Ie.get(1,ge,Re,1),Qe=Ie.get(2,ge,Re,0),ct=Ie.get(2,ge,Re,1),ht=it*ct-Je*Qe,gt=Qe*et-ct*Ve,Tt=Ve*Je-et*it,Et=Math.sqrt(ht*ht+gt*gt+Tt*Tt);Et<1e-8?(Et=Math.max(Math.abs(ht),Math.abs(gt),Math.abs(Tt)),Et<1e-8?(Tt=1,gt=ht=0,Et=1):Et=1/Et):Et=1/Math.sqrt(Et),Me.set(ge,Re,0,ht*Et),Me.set(ge,Re,1,gt*Et),Me.set(ge,Re,2,Tt*Et)}u.free(Ie.data);var rt=[1/0,1/0,1/0],ze=[-1/0,-1/0,-1/0],He=1/0,Ge=-1/0,We=(fe[0]-1)*(fe[1]-1)*6,Le=u.mallocFloat(t.nextPow2(10*We)),Pe=0,je=0;for(ge=0;ge<fe[0]-1;++ge)e:for(Re=0;Re<fe[1]-1;++Re){for(var Ce=0;Ce<2;++Ce)for(var he=0;he<2;++he)for(var me=0;me<3;++me){var Ne=this._field[me].get(1+ge+Ce,1+Re+he);if(isNaN(Ne)||!isFinite(Ne))continue e}for(me=0;me<6;++me){var $e=ge+I[me][0],ot=Re+I[me][1],st=this._field[0].get($e+1,ot+1),Wt=this._field[1].get($e+1,ot+1);Ne=this._field[2].get($e+1,ot+1),ht=Me.get($e+1,ot+1,0),gt=Me.get($e+1,ot+1,1),Tt=Me.get($e+1,ot+1,2),X.intensity&&(Pt=X.intensity.get($e,ot));var Pt=X.intensity?X.intensity.get($e,ot):Ne+this.objectOffset[2];Le[Pe++]=$e,Le[Pe++]=ot,Le[Pe++]=st,Le[Pe++]=Wt,Le[Pe++]=Ne,Le[Pe++]=0,Le[Pe++]=Pt,Le[Pe++]=ht,Le[Pe++]=gt,Le[Pe++]=Tt,rt[0]=Math.min(rt[0],st+this.objectOffset[0]),rt[1]=Math.min(rt[1],Wt+this.objectOffset[1]),rt[2]=Math.min(rt[2],Ne+this.objectOffset[2]),He=Math.min(He,Pt),ze[0]=Math.max(ze[0],st+this.objectOffset[0]),ze[1]=Math.max(ze[1],Wt+this.objectOffset[1]),ze[2]=Math.max(ze[2],Ne+this.objectOffset[2]),Ge=Math.max(Ge,Pt),je+=1}}for(X.intensityBounds&&(He=+X.intensityBounds[0],Ge=+X.intensityBounds[1]),ge=6;ge<Pe;ge+=10)Le[ge]=(Le[ge]-He)/(Ge-He);this._vertexCount=je,this._coordinateBuffer.update(Le.subarray(0,Pe)),u.freeFloat(Le),u.free(Me.data),this.bounds=[rt,ze],this.intensity=X.intensity||this._field[2],(this.intensityBounds[0]!==He||this.intensityBounds[1]!==Ge)&&(se=!0),this.intensityBounds=[He,Ge]}if("levels"in X){var dt=X.levels;for(Array.isArray(dt[0])?dt=dt.slice():dt=[[],[],dt],ge=0;ge<3;++ge)dt[ge]=dt[ge].slice(),dt[ge].sort(function(It,Qt){return It-Qt});for(ge=0;ge<3;++ge)for(Re=0;Re<dt[ge].length;++Re)dt[ge][Re]-=this.objectOffset[ge];e:for(ge=0;ge<3;++ge){if(dt[ge].length!==this.contourLevels[ge].length){se=!0;break}for(Re=0;Re<dt[ge].length;++Re)if(dt[ge][Re]!==this.contourLevels[ge][Re]){se=!0;break e}}this.contourLevels=dt}if(se){Se=this._field,fe=this.shape;for(var Mt=[],Xt=0;Xt<3;++Xt){var nr=this.contourLevels[Xt],vt=[],Zt=[],Kt=[0,0,0];for(ge=0;ge<nr.length;++ge){var yr=c(this._field[Xt],nr[ge]);vt.push(Mt.length/5|0),je=0;e:for(Re=0;Re<yr.cells.length;++Re){var or=yr.cells[Re];for(me=0;me<2;++me){var mt=yr.positions[or[me]],lt=mt[0],bt=Math.floor(lt)|0,Ct=lt-bt,Dt=mt[1],Ht=Math.floor(Dt)|0,Bt=Dt-Ht,Ut=!1;t:for(var Jt=0;Jt<3;++Jt){Kt[Jt]=0;var cr=(Xt+Jt+1)%3;for(Ce=0;Ce<2;++Ce){var hr=Ce?Ct:1-Ct;for($e=Math.min(Math.max(bt+Ce,0),fe[0])|0,he=0;he<2;++he){var pr=he?Bt:1-Bt;if(ot=Math.min(Math.max(Ht+he,0),fe[1])|0,Jt<2?Ne=this._field[cr].get($e,ot):Ne=(this.intensity.get($e,ot)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ne)||isNaN(Ne)){Ut=!0;break t}var Ye=hr*pr;Kt[Jt]+=Ye*Ne}}}if(!Ut)Mt.push(Kt[0],Kt[1],mt[0],mt[1],Kt[2]),je+=1;else{if(me>0){for(var Ue=0;Ue<5;++Ue)Mt.pop();je-=1}continue e}}}Zt.push(je)}this._contourOffsets[Xt]=vt,this._contourCounts[Xt]=Zt}var Ot=u.mallocFloat(Mt.length);for(ge=0;ge<Mt.length;++ge)Ot[ge]=Mt[ge];this._contourBuffer.update(Ot),u.freeFloat(Ot)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var X=0;X<3;++X)u.freeFloat(this._field[X].data)},F.highlight=function(X){var j;if(!X){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(j=0;j<3;++j)this.enableHighlight[j]?this.highlightLevel[j]=X.level[j]:this.highlightLevel[j]=-1;var se;for(this.snapToData?se=X.dataCoordinate:se=X.position,j=0;j<3;++j)se[j]-=this.objectOffset[j];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var te=0,fe=this.shape,ge=u.mallocFloat(12*fe[0]*fe[1]),be=0;be<3;++be){if(!this.enableDynamic[be]){this.dynamicLevel[be]=NaN,this._dynamicCounts[be]=0;continue}this.dynamicLevel[be]=se[be];var xe=(be+1)%3,_e=(be+2)%3,De=this._field[be],Fe=this._field[xe],Te=this._field[_e],Re=c(De,se[be]),Se=Re.cells,Ie=Re.positions;for(this._dynamicOffsets[be]=te,j=0;j<Se.length;++j)for(var Me=Se[j],Ve=0;Ve<2;++Ve){var et=Ie[Me[Ve]],it=+et[0],Je=it|0,Qe=Math.min(Je+1,fe[0])|0,ct=it-Je,ht=1-ct,gt=+et[1],Tt=gt|0,Et=Math.min(Tt+1,fe[1])|0,rt=gt-Tt,ze=1-rt,He=ht*ze,Ge=ht*rt,We=ct*ze,Le=ct*rt,Pe=He*Fe.get(Je,Tt)+Ge*Fe.get(Je,Et)+We*Fe.get(Qe,Tt)+Le*Fe.get(Qe,Et),je=He*Te.get(Je,Tt)+Ge*Te.get(Je,Et)+We*Te.get(Qe,Tt)+Le*Te.get(Qe,Et);if(isNaN(Pe)||isNaN(je)){Ve&&(te-=1);break}ge[2*te+0]=Pe,ge[2*te+1]=je,te+=1}this._dynamicCounts[be]=te-this._dynamicOffsets[be]}this._dynamicBuffer.update(ge.subarray(0,2*te)),u.freeFloat(ge)}};function oe(X){var j=X.gl,se=y(j),te=A(j),fe=M(j),ge=o(j),be=i(j),xe=n(j,[{buffer:be,size:4,stride:E,offset:0},{buffer:be,size:3,stride:E,offset:16},{buffer:be,size:3,stride:E,offset:28}]),_e=i(j),De=n(j,[{buffer:_e,size:4,stride:20,offset:0},{buffer:_e,size:1,stride:20,offset:16}]),Fe=i(j),Te=n(j,[{buffer:Fe,size:2,type:j.FLOAT}]),Re=f(j,1,k,j.RGBA,j.UNSIGNED_BYTE);Re.minFilter=j.LINEAR,Re.magFilter=j.LINEAR;var Se=new O(j,[0,0],[[0,0,0],[0,0,0]],se,te,be,xe,Re,fe,ge,_e,De,Fe,Te,[0,0,0]),Ie={levels:[[],[],[]]};for(var Me in X)Ie[Me]=X[Me];return Ie.colormap=Ie.colormap||"jet",Se.update(Ie),Se}},7766:function(v,p,r){var t=r(9618),i=r(5298),n=r(1888);v.exports=o;var f=null,u=null,l=null;function g(E){f=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],u=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],l=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var T=function(E,b){i.muls(E,b,255)};function c(E,b,I){var D=E.gl,N=D.getParameter(D.MAX_TEXTURE_SIZE);if(b<0||b>N||I<0||I>N)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[b,I],E.bind(),D.texImage2D(D.TEXTURE_2D,0,E.format,b,I,0,E.format,E.type,null),E._mipLevels=[0],E}function a(E,b,I,D,N,k){this.gl=E,this.handle=b,this.format=N,this.type=k,this._shape=[I,D],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return O._wrapS},set:function(B){return O.wrapS=B}},{get:function(){return O._wrapT},set:function(B){return O.wrapT=B}}]),this._wrapVector=F;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return O._shape[0]},set:function(B){return O.width=B}},{get:function(){return O._shape[1]},set:function(B){return O.height=B}}]),this._shapeVector=z}var d=a.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(E)>=0&&(b.getExtension("OES_texture_float_linear")||(E=b.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(E)>=0&&(b.getExtension("OES_texture_float_linear")||(E=b.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var b=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,b!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(l.indexOf(E[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,c(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,c(this,this._shape[0],E),E}}}),d.bind=function(E){var b=this.gl;return E!==void 0&&b.activeTexture(b.TEXTURE0+(E|0)),b.bindTexture(b.TEXTURE_2D,this.handle),E!==void 0?E|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),b=0;E>0;++b,E>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},d.setPixels=function(E,b,I,D){var N=this.gl;this.bind(),Array.isArray(b)?(D=I,I=b[1]|0,b=b[0]|0):(b=b||0,I=I||0),D=D||0;var k=h(E)?E:E.raw;if(k){var O=this._mipLevels.indexOf(D)<0;O?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(D)):N.texSubImage2D(N.TEXTURE_2D,D,b,I,this.format,this.type,k)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||b+E.shape[1]>this._shape[1]>>>D||I+E.shape[0]>this._shape[0]>>>D||b<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(N,b,I,D,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function x(E,b){return E.length===3?b[2]===1&&b[1]===E[0]*E[2]&&b[0]===E[2]:b[0]===1&&b[1]===E[0]}function w(E,b,I,D,N,k,O,F){var z=F.dtype,B=F.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,J=0,re=x(B,F.stride.slice());if(z==="float32"?W=E.FLOAT:z==="float64"?(W=E.FLOAT,re=!1,z="float32"):z==="uint8"?W=E.UNSIGNED_BYTE:(W=E.UNSIGNED_BYTE,re=!1,z="uint8"),B.length===2)J=E.LUMINANCE,B=[B[0],B[1],1],F=t(F.data,B,[F.stride[0],F.stride[1],1],F.offset);else if(B.length===3){if(B[2]===1)J=E.ALPHA;else if(B[2]===2)J=E.LUMINANCE_ALPHA;else if(B[2]===3)J=E.RGB;else if(B[2]===4)J=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===E.LUMINANCE||J===E.ALPHA)&&(N===E.LUMINANCE||N===E.ALPHA)&&(J=N),J!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=F.size,le=O.indexOf(D)<0;if(le&&O.push(D),W===k&&re)F.offset===0&&F.data.length===ne?le?E.texImage2D(E.TEXTURE_2D,D,N,B[0],B[1],0,N,k,F.data):E.texSubImage2D(E.TEXTURE_2D,D,b,I,B[0],B[1],N,k,F.data):le?E.texImage2D(E.TEXTURE_2D,D,N,B[0],B[1],0,N,k,F.data.subarray(F.offset,F.offset+ne)):E.texSubImage2D(E.TEXTURE_2D,D,b,I,B[0],B[1],N,k,F.data.subarray(F.offset,F.offset+ne));else{var $;k===E.FLOAT?$=n.mallocFloat32(ne):$=n.mallocUint8(ne);var K=t($,B,[B[2],B[2]*B[0],1]);W===E.FLOAT&&k===E.UNSIGNED_BYTE?T(K,F):i.assign(K,F),le?E.texImage2D(E.TEXTURE_2D,D,N,B[0],B[1],0,N,k,$.subarray(0,ne)):E.texSubImage2D(E.TEXTURE_2D,D,b,I,B[0],B[1],N,k,$.subarray(0,ne)),k===E.FLOAT?n.freeFloat32($):n.freeUint8($)}}function C(E){var b=E.createTexture();return E.bindTexture(E.TEXTURE_2D,b),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),b}function y(E,b,I,D,N){var k=E.getParameter(E.MAX_TEXTURE_SIZE);if(b<0||b>k||I<0||I>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=C(E);return E.texImage2D(E.TEXTURE_2D,0,D,b,I,0,D,N,null),new a(E,O,b,I,D,N)}function M(E,b,I,D,N,k){var O=C(E);return E.texImage2D(E.TEXTURE_2D,0,N,N,k,b),new a(E,O,I,D,N,k)}function A(E,b){var I=b.dtype,D=b.shape.slice(),N=E.getParameter(E.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>N||D[1]<0||D[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=x(D,b.stride.slice()),O=0;I==="float32"?O=E.FLOAT:I==="float64"?(O=E.FLOAT,k=!1,I="float32"):I==="uint8"?O=E.UNSIGNED_BYTE:(O=E.UNSIGNED_BYTE,k=!1,I="uint8");var F=0;if(D.length===2)F=E.LUMINANCE,D=[D[0],D[1],1],b=t(b.data,D,[b.stride[0],b.stride[1],1],b.offset);else if(D.length===3)if(D[2]===1)F=E.ALPHA;else if(D[2]===2)F=E.LUMINANCE_ALPHA;else if(D[2]===3)F=E.RGB;else if(D[2]===4)F=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===E.FLOAT&&!E.getExtension("OES_texture_float")&&(O=E.UNSIGNED_BYTE,k=!1);var z,B,W=b.size;if(k)b.offset===0&&b.data.length===W?z=b.data:z=b.data.subarray(b.offset,b.offset+W);else{var J=[D[2],D[2]*D[0],1];B=n.malloc(W,I);var re=t(B,D,J,0);(I==="float32"||I==="float64")&&O===E.UNSIGNED_BYTE?T(re,b):i.assign(re,b),z=B.subarray(0,W)}var ne=C(E);return E.texImage2D(E.TEXTURE_2D,0,F,D[0],D[1],0,F,O,z),k||n.free(B),new a(E,ne,D[0],D[1],F,O)}function o(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||g(E),typeof arguments[1]=="number")return y(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],I=h(b)?b:b.raw;if(I)return M(E,I,b.width|0,b.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return A(E,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function p(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<i.length;++f){var u=i[f];if(u.buffer){var l=u.buffer,g=u.size||4,h=u.type||r.FLOAT,T=!!u.normalized,c=u.stride||0,a=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,g,h,T,c,a)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=p},870:function(v,p,r){var t=r(1433);function i(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(f,u,l){l=l||0;var g=this.gl;this._elements?g.drawElements(f,u,this._elementsType,l):g.drawArrays(f,l,u)};function n(f){return new i(f)}v.exports=n},7518:function(v,p,r){var t=r(1433);function i(u,l,g,h,T,c){this.location=u,this.dimension=l,this.a=g,this.b=h,this.c=T,this.d=c}i.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,g){this.gl=u,this._ext=l,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,g){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var T=u[h];typeof T=="number"?this._attribs.push(new i(h,1,T)):Array.isArray(T)&&this._attribs.push(new i(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,g){g=g||0;var h=this.gl;this._useElements?h.drawElements(u,l,this._elementsType,g):h.drawArrays(u,g,l)};function f(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=f},8116:function(v,p,r){var t=r(7518),i=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,g,h){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),c;return T?c=t(u,T):c=i(u),c.update(l,g,h),c}v.exports=f},5632:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},8192:function(v,p,r){v.exports=f;var t=r(2825),i=r(3536),n=r(244);function f(u,l){var g=t(u[0],u[1],u[2]),h=t(l[0],l[1],l[2]);i(g,g),i(h,h);var T=n(g,h);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[0],g=i[1],h=i[2];return r[0]=f*h-u*g,r[1]=u*l-n*h,r[2]=n*g-f*l,r}},5455:function(v,p,r){v.exports=r(7056)},7056:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(i*i+n*n+f*f)}},4008:function(v,p,r){v.exports=r(6690)},6690:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},244:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,p,r){v.exports=i;var t=r(2613);function i(n,f){var u=n[0],l=n[1],g=n[2],h=f[0],T=f[1],c=f[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(g-c)<=t*Math.max(1,Math.abs(g),Math.abs(c))}},9265:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,p,r){v.exports=i;var t=r(1091)();function i(n,f,u,l,g,h){var T,c;for(f||(f=3),u||(u=0),l?c=Math.min(l*f+u,n.length):c=n.length,T=u;T<c;T+=f)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],g(t,t,h),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},2825:function(v){v.exports=p;function p(r,t,i){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=i,n}},2931:function(v,p,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,p,r){v.exports=r(1387)},1387:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return Math.sqrt(t*t+i*i+n*n)}},6658:function(v){v.exports=p;function p(r,t,i,n){var f=t[0],u=t[1],l=t[2];return r[0]=f+n*(i[0]-f),r[1]=u+n*(i[1]-u),r[2]=l+n*(i[2]-l),r}},7417:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},8107:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},4505:function(v,p,r){v.exports=r(5847)},5847:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},5093:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],f=t[2],u=i*i+n*n+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=p;function p(r,t){t=t||1;var i=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(i)*f,r[1]=Math.sin(i)*f,r[2]=n*t,r}},6894:function(v){v.exports=p;function p(r,t,i,n){var f=i[1],u=i[2],l=t[1]-f,g=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=f+l*T-g*h,r[2]=u+l*h+g*T,r}},109:function(v){v.exports=p;function p(r,t,i,n){var f=i[0],u=i[2],l=t[0]-f,g=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+g*h+l*T,r[1]=t[1],r[2]=u+g*T-l*h,r}},8692:function(v){v.exports=p;function p(r,t,i,n){var f=i[0],u=i[1],l=t[0]-f,g=t[1]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+l*T-g*h,r[1]=u+l*h+g*T,r[2]=t[2],r}},2447:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},8489:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r}},1463:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t,r[1]=i,r[2]=n,r}},6141:function(v,p,r){v.exports=r(2953)},5486:function(v,p,r){v.exports=r(3066)},2953:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return i*i+n*n+f*f}},3066:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return t*t+i*i+n*n}},2229:function(v,p,r){v.exports=r(6843)},6843:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},492:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2];return r[0]=n*i[0]+f*i[3]+u*i[6],r[1]=n*i[1]+f*i[4]+u*i[7],r[2]=n*i[2]+f*i[5]+u*i[8],r}},5673:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[3]*n+i[7]*f+i[11]*u+i[15];return l=l||1,r[0]=(i[0]*n+i[4]*f+i[8]*u+i[12])/l,r[1]=(i[1]*n+i[5]*f+i[9]*u+i[13])/l,r[2]=(i[2]*n+i[6]*f+i[10]*u+i[14])/l,r}},264:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[0],g=i[1],h=i[2],T=i[3],c=T*n+g*u-h*f,a=T*f+h*n-l*u,d=T*u+l*f-g*n,x=-l*n-g*f-h*u;return r[0]=c*T+x*-l+a*-h-d*-g,r[1]=a*T+x*-g+d*-l-c*-h,r[2]=d*T+x*-h+c*-g-a*-l,r}},4361:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},2335:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(i*i+n*n+f*f+u*u)}},1373:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},3750:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=p;function p(r,t,i,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=i,f[3]=n,f}},9970:function(v,p,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+i*i+n*n+f*f)}},2573:function(v){v.exports=p;function p(r,t,i,n){var f=t[0],u=t[1],l=t[2],g=t[3];return r[0]=f+n*(i[0]-f),r[1]=u+n*(i[1]-u),r[2]=l+n*(i[2]-l),r[3]=g+n*(i[3]-g),r}},160:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2334:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},3576:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},1498:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],f=t[2],u=t[3],l=i*i+n*n+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=i*l,r[1]=n*l,r[2]=f*l,r[3]=u*l),r}},9131:function(v,p,r){var t=r(5177),i=r(9288);v.exports=n;function n(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),i(f,f,u),f}},9288:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4844:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r[3]=t[3]+i[3]*n,r}},4578:function(v){v.exports=p;function p(r,t,i,n,f){return r[0]=t,r[1]=i,r[2]=n,r[3]=f,r}},7960:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return i*i+n*n+f*f+u*u}},483:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],f=r[3];return t*t+i*i+n*n+f*f}},6860:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},5352:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=t[3];return r[0]=i[0]*n+i[4]*f+i[8]*u+i[12]*l,r[1]=i[1]*n+i[5]*f+i[9]*u+i[13]*l,r[2]=i[2]*n+i[6]*f+i[10]*u+i[14]*l,r[3]=i[3]*n+i[7]*f+i[11]*u+i[15]*l,r}},4041:function(v){v.exports=p;function p(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[0],g=i[1],h=i[2],T=i[3],c=T*n+g*u-h*f,a=T*f+h*n-l*u,d=T*u+l*f-g*n,x=-l*n-g*f-h*u;return r[0]=c*T+x*-l+a*-h-d*-g,r[1]=a*T+x*-g+d*-l-c*-h,r[2]=d*T+x*-h+c*-g-a*-l,r[3]=t[3],r}},1848:function(v,p,r){var t=r(4905),i=r(6468);v.exports=n;function n(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var g=u[l];if(g.type==="preprocessor"){var h=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],c=h[2];return(T?i(c):c).trim()}}}}},5874:function(v,p,r){v.exports=b;var t=r(620),i=r(7827),n=r(6852),f=r(7932),u=r(3508),l=999,g=9999,h=0,T=1,c=2,a=3,d=4,x=5,w=6,C=7,y=8,M=9,A=10,o=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(I){var D=0,N=0,k=l,O,F,z=[],B=[],W=1,J=0,re=0,ne=!1,le=!1,$="",K;I=I||{};var ie=n,Y=t;I.version==="300 es"&&(ie=u,Y=f);for(var Q={},oe={},D=0;D<ie.length;D++)Q[ie[D]]=!0;for(var D=0;D<Y.length;D++)oe[Y[D]]=!0;return function(Ie){return B=[],Ie!==null?j(Ie):se()};function X(Ie){Ie.length&&B.push({type:E[k],data:Ie,position:re,line:W,column:J})}function j(Ie){D=0,Ie.toString&&(Ie=Ie.toString()),$+=Ie.replace(/\r\n/g,`
`),K=$.length;for(var Me;O=$[D],D<K;){switch(Me=D,k){case h:D=xe();break;case T:D=be();break;case c:D=ge();break;case a:D=_e();break;case d:D=Te();break;case o:D=Fe();break;case x:D=Re();break;case g:D=Se();break;case M:D=fe();break;case l:D=te();break}if(Me!==D)switch($[Me]){case`
`:J=0,++W;break;default:++J;break}}return N+=D,$=$.slice(D),B}function se(Ie){return z.length&&X(z.join("")),k=A,X("(eof)"),B}function te(){return z=z.length?[]:z,F==="/"&&O==="*"?(re=N+D-1,k=h,F=O,D+1):F==="/"&&O==="/"?(re=N+D-1,k=T,F=O,D+1):O==="#"?(k=c,re=N+D,D):/\s/.test(O)?(k=M,re=N+D,D):(ne=/\d/.test(O),le=/[^\w_]/.test(O),re=N+D,k=ne?d:le?a:g,D)}function fe(){return/[^\s]/g.test(O)?(X(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function ge(){return(O==="\r"||O===`
`)&&F!=="\\"?(X(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function be(){return ge()}function xe(){return O==="/"&&F==="*"?(z.push(O),X(z.join("")),k=l,D+1):(z.push(O),F=O,D+1)}function _e(){if(F==="."&&/\d/.test(O))return k=x,D;if(F==="/"&&O==="*")return k=h,D;if(F==="/"&&O==="/")return k=T,D;if(O==="."&&z.length){for(;De(z););return k=x,D}if(O===";"||O===")"||O==="("){if(z.length)for(;De(z););return X(O),k=l,D+1}var Ie=z.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||Ie){for(;De(z););return k=l,D}return z.push(O),F=O,D+1}function De(Ie){var Me=0,Ve,et;do{if(Ve=i.indexOf(Ie.slice(0,Ie.length+Me).join("")),et=i[Ve],Ve===-1){if(Me--+Ie.length>0)continue;et=Ie.slice(0,1).join("")}return X(et),re+=et.length,z=z.slice(et.length),z.length}while(!0)}function Fe(){return/[^a-fA-F0-9]/.test(O)?(X(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function Te(){return O==="."||/[eE]/.test(O)?(z.push(O),k=x,F=O,D+1):O==="x"&&z.length===1&&z[0]==="0"?(k=o,z.push(O),F=O,D+1):/[^\d]/.test(O)?(X(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function Re(){return O==="f"&&(z.push(O),F=O,D+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(F)?(z.push(O),F=O,D+1):/[^\d]/.test(O)?(X(z.join("")),k=l,D):(z.push(O),F=O,D+1)}function Se(){if(/[^\d\w_]/.test(O)){var Ie=z.join("");return oe[Ie]?k=y:Q[Ie]?k=C:k=w,X(z.join("")),k=l,D}return z.push(O),F=O,D+1}}},3508:function(v,p,r){var t=r(6852);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,p,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,p,r){var t=r(5874);v.exports=i;function i(n,f){var u=t(f),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},3236:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<p.length-1;i++)t.push(p[i],r[i]||"");return t.push(p[i]),t.join("")}},7520:function(v,p,r){var t=r(9507);function i(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&i()},3778:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,i,n,f){var u,l,g=f*8-n-1,h=(1<<g)-1,T=h>>1,c=-7,a=i?f-1:0,d=i?-1:1,x=r[t+a];for(a+=d,u=x&(1<<-c)-1,x>>=-c,c+=g;c>0;u=u*256+r[t+a],a+=d,c-=8);for(l=u&(1<<-c)-1,u>>=-c,c+=n;c>0;l=l*256+r[t+a],a+=d,c-=8);if(u===0)u=1-T;else{if(u===h)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-T}return(x?-1:1)*l*Math.pow(2,u-n)},p.write=function(r,t,i,n,f,u){var l,g,h,T=u*8-f-1,c=(1<<T)-1,a=c>>1,d=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:u-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+a>=1?t+=d/h:t+=d*Math.pow(2,1-a),t*h>=2&&(l++,h/=2),l+a>=c?(g=0,l=c):l+a>=1?(g=(t*h-1)*Math.pow(2,f),l=l+a):(g=t*Math.pow(2,a-1)*Math.pow(2,f),l=0));f>=8;r[i+x]=g&255,x+=w,g/=256,f-=8);for(l=l<<f|g,T+=f;T>0;r[i+x]=l&255,x+=w,l/=256,T-=8);r[i+x-w]|=C*128}},8954:function(v,p,r){v.exports=a;var t=r(3250),i=r(6803).Fw;function n(d,x,w){this.vertices=d,this.adjacent=x,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function f(d,x,w){this.vertices=d,this.cell=x,this.index=w}function u(d,x){return i(d.vertices,x.vertices)}function l(d){return function(){var x=this.tuple;return d.apply(this,x)}}function g(d){var x=t[d+1];return x||(x=t),l(x)}var h=[];function T(d,x,w){this.dimension=d,this.vertices=x,this.simplices=w,this.interior=w.filter(function(M){return!M.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var y=h[d];y||(y=h[d]=g(d)),this.orient=y}var c=T.prototype;c.handleBoundaryDegeneracy=function(d,x){var w=this.dimension,C=this.vertices.length-1,y=this.tuple,M=this.vertices,A=[d];for(d.lastVisited=-C;A.length>0;){d=A.pop();for(var o=d.adjacent,E=0;E<=w;++E){var b=o[E];if(!(!b.boundary||b.lastVisited<=-C)){for(var I=b.vertices,D=0;D<=w;++D){var N=I[D];N<0?y[D]=x:y[D]=M[N]}var k=this.orient();if(k>0)return b;b.lastVisited=-C,k===0&&A.push(b)}}}return null},c.walk=function(d,x){var w=this.vertices.length-1,C=this.dimension,y=this.vertices,M=this.tuple,A=x?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[A];e:for(;!o.boundary;){for(var E=o.vertices,b=o.adjacent,I=0;I<=C;++I)M[I]=y[E[I]];o.lastVisited=w;for(var I=0;I<=C;++I){var D=b[I];if(!(D.lastVisited>=w)){var N=M[I];M[I]=d;var k=this.orient();if(M[I]=N,k<0){o=D;continue e}else D.boundary?D.lastVisited=-w:D.lastVisited=w}}return}return o},c.addPeaks=function(d,x){var w=this.vertices.length-1,C=this.dimension,y=this.vertices,M=this.tuple,A=this.interior,o=this.simplices,E=[x];x.lastVisited=w,x.vertices[x.vertices.indexOf(-1)]=w,x.boundary=!1,A.push(x);for(var b=[];E.length>0;){var x=E.pop(),I=x.vertices,D=x.adjacent,N=I.indexOf(w);if(!(N<0)){for(var k=0;k<=C;++k)if(k!==N){var O=D[k];if(!(!O.boundary||O.lastVisited>=w)){var F=O.vertices;if(O.lastVisited!==-w){for(var z=0,B=0;B<=C;++B)F[B]<0?(z=B,M[B]=d):M[B]=y[F[B]];var W=this.orient();if(W>0){F[z]=w,O.boundary=!1,A.push(O),E.push(O),O.lastVisited=w;continue}else O.lastVisited=-w}var J=O.adjacent,re=I.slice(),ne=D.slice(),le=new n(re,ne,!0);o.push(le);var $=J.indexOf(x);if(!($<0)){J[$]=le,ne[N]=O,re[k]=-1,ne[k]=x,D[k]=le,le.flip();for(var B=0;B<=C;++B){var K=re[B];if(!(K<0||K===w)){for(var ie=new Array(C-1),Y=0,Q=0;Q<=C;++Q){var oe=re[Q];oe<0||Q===B||(ie[Y++]=oe)}b.push(new f(ie,le,B))}}}}}}}b.sort(u);for(var k=0;k+1<b.length;k+=2){var X=b[k],j=b[k+1],se=X.index,te=j.index;se<0||te<0||(X.cell.adjacent[X.index]=j.cell,j.cell.adjacent[j.index]=X.cell)}},c.insert=function(d,x){var w=this.vertices;w.push(d);var C=this.walk(d,x);if(C){for(var y=this.dimension,M=this.tuple,A=0;A<=y;++A){var o=C.vertices[A];o<0?M[A]=d:M[A]=w[o]}var E=this.orient(M);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,x=[],w=this.simplices,C=w.length,y=0;y<C;++y){var M=w[y];if(M.boundary){for(var A=new Array(d),o=M.vertices,E=0,b=0,I=0;I<=d;++I)o[I]>=0?A[E++]=o[I]:b=I&1;if(b===(d&1)){var D=A[0];A[0]=A[1],A[1]=D}x.push(A)}}return x};function a(d,x){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(w<=C)throw new Error("Must input at least d+1 points");var y=d.slice(0,C+1),M=t.apply(void 0,y);if(M===0)throw new Error("Input not in general position");for(var A=new Array(C+1),o=0;o<=C;++o)A[o]=o;M<0&&(A[0]=1,A[1]=0);for(var E=new n(A,new Array(C+1),!1),b=E.adjacent,I=new Array(C+2),o=0;o<=C;++o){for(var D=A.slice(),N=0;N<=C;++N)N===o&&(D[N]=-1);var k=D[0];D[0]=D[1],D[1]=k;var O=new n(D,new Array(C+1),!0);b[o]=O,I[o]=O}I[C+1]=E;for(var o=0;o<=C;++o)for(var D=b[o].vertices,F=b[o].adjacent,N=0;N<=C;++N){var z=D[N];if(z<0){F[N]=E;continue}for(var B=0;B<=C;++B)b[B].vertices.indexOf(z)<0&&(F[N]=b[B])}for(var W=new T(C,y,I),J=!!x,o=C+1;o<w;++o)W.insert(d[o],J);return W.boundary()}},3352:function(v,p,r){var t=r(2478),i=0,n=1,f=2;v.exports=E;function u(b,I,D,N,k){this.mid=b,this.left=I,this.right=D,this.leftPoints=N,this.rightPoints=k,this.count=(I?I.count:0)+(D?D.count:0)+N.length}var l=u.prototype;function g(b,I){b.mid=I.mid,b.left=I.left,b.right=I.right,b.leftPoints=I.leftPoints,b.rightPoints=I.rightPoints,b.count=I.count}function h(b,I){var D=M(I);b.mid=D.mid,b.left=D.left,b.right=D.right,b.leftPoints=D.leftPoints,b.rightPoints=D.rightPoints,b.count=D.count}function T(b,I){var D=b.intervals([]);D.push(I),h(b,D)}function c(b,I){var D=b.intervals([]),N=D.indexOf(I);return N<0?i:(D.splice(N,1),h(b,D),n)}l.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},l.insert=function(b){var I=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(I+1)?T(this,b):this.left.insert(b):this.left=M([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(I+1)?T(this,b):this.right.insert(b):this.right=M([b]);else{var D=t.ge(this.leftPoints,b,C),N=t.ge(this.rightPoints,b,y);this.leftPoints.splice(D,0,b),this.rightPoints.splice(N,0,b)}},l.remove=function(b){var I=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return i;var D=this.right?this.right.count:0;if(4*D>3*(I-1))return c(this,b);var N=this.left.remove(b);return N===f?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(b[0]>this.mid){if(!this.right)return i;var k=this.left?this.left.count:0;if(4*k>3*(I-1))return c(this,b);var N=this.right.remove(b);return N===f?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===b?f:i;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var O=this,F=this.left;F.right;)O=F,F=F.right;if(O===this)F.right=this.right;else{var z=this.left,N=this.right;O.count-=F.count,O.right=F.left,F.left=z,F.right=N}g(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var z=t.ge(this.leftPoints,b,C);z<this.leftPoints.length&&this.leftPoints[z][0]===b[0];++z)if(this.leftPoints[z]===b){this.count-=1,this.leftPoints.splice(z,1);for(var N=t.ge(this.rightPoints,b,y);N<this.rightPoints.length&&this.rightPoints[N][1]===b[1];++N)if(this.rightPoints[N]===b)return this.rightPoints.splice(N,1),n}return i}};function a(b,I,D){for(var N=0;N<b.length&&b[N][0]<=I;++N){var k=D(b[N]);if(k)return k}}function d(b,I,D){for(var N=b.length-1;N>=0&&b[N][1]>=I;--N){var k=D(b[N]);if(k)return k}}function x(b,I){for(var D=0;D<b.length;++D){var N=I(b[D]);if(N)return N}}l.queryPoint=function(b,I){if(b<this.mid){if(this.left){var D=this.left.queryPoint(b,I);if(D)return D}return a(this.leftPoints,b,I)}else if(b>this.mid){if(this.right){var D=this.right.queryPoint(b,I);if(D)return D}return d(this.rightPoints,b,I)}else return x(this.leftPoints,I)},l.queryInterval=function(b,I,D){if(b<this.mid&&this.left){var N=this.left.queryInterval(b,I,D);if(N)return N}if(I>this.mid&&this.right){var N=this.right.queryInterval(b,I,D);if(N)return N}return I<this.mid?a(this.leftPoints,I,D):b>this.mid?d(this.rightPoints,b,D):x(this.leftPoints,D)};function w(b,I){return b-I}function C(b,I){var D=b[0]-I[0];return D||b[1]-I[1]}function y(b,I){var D=b[1]-I[1];return D||b[0]-I[0]}function M(b){if(b.length===0)return null;for(var I=[],D=0;D<b.length;++D)I.push(b[D][0],b[D][1]);I.sort(w);for(var N=I[I.length>>1],k=[],O=[],F=[],D=0;D<b.length;++D){var z=b[D];z[1]<N?k.push(z):N<z[0]?O.push(z):F.push(z)}var B=F,W=F.slice();return B.sort(C),W.sort(y),new u(N,M(k),M(O),B,W)}function A(b){this.root=b}var o=A.prototype;o.insert=function(b){this.root?this.root.insert(b):this.root=new u(b[0],null,null,[b],[b])},o.remove=function(b){if(this.root){var I=this.root.remove(b);return I===f&&(this.root=null),I!==i}return!1},o.queryPoint=function(b,I){if(this.root)return this.root.queryPoint(b,I)},o.queryInterval=function(b,I,D){if(b<=I&&this.root)return this.root.queryInterval(b,I,D)},Object.defineProperty(o,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(o,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(b){return!b||b.length===0?new A(null):new A(M(b))}},7762:function(v){function p(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}v.exports=p},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},5219:function(v){v.exports=function(p){for(var r=p.length,t,i=0;i<r;i++)if(t=p.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function p(r,t,i){return r*(1-i)+t*i}v.exports=p},2652:function(v,p,r){var t=r(4335),i=r(6864),n=r(1903),f=r(9921),u=r(7608),l=r(5665),g={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=i(),T=i(),c=[0,0,0,0],a=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(M,A,o,E,b,I){if(A||(A=[0,0,0]),o||(o=[0,0,0]),E||(E=[0,0,0]),b||(b=[0,0,0,1]),I||(I=[0,0,0,1]),!t(h,M)||(n(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(f(T)<1e-8)))return!1;var D=h[3],N=h[7],k=h[11],O=h[12],F=h[13],z=h[14],B=h[15];if(D!==0||N!==0||k!==0){c[0]=D,c[1]=N,c[2]=k,c[3]=B;var W=u(T,T);if(!W)return!1;l(T,T),x(b,c,T)}else b[0]=b[1]=b[2]=0,b[3]=1;if(A[0]=O,A[1]=F,A[2]=z,w(a,h),o[0]=g.length(a[0]),g.normalize(a[0],a[0]),E[0]=g.dot(a[0],a[1]),C(a[1],a[1],a[0],1,-E[0]),o[1]=g.length(a[1]),g.normalize(a[1],a[1]),E[0]/=o[1],E[1]=g.dot(a[0],a[2]),C(a[2],a[2],a[0],1,-E[1]),E[2]=g.dot(a[1],a[2]),C(a[2],a[2],a[1],1,-E[2]),o[2]=g.length(a[2]),g.normalize(a[2],a[2]),E[1]/=o[2],E[2]/=o[2],g.cross(d,a[1],a[2]),g.dot(a[0],d)<0)for(var J=0;J<3;J++)o[J]*=-1,a[J][0]*=-1,a[J][1]*=-1,a[J][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+a[0][0]-a[1][1]-a[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-a[0][0]+a[1][1]-a[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-a[0][0]-a[1][1]+a[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+a[0][0]+a[1][1]+a[2][2],0)),a[2][1]>a[1][2]&&(I[0]=-I[0]),a[0][2]>a[2][0]&&(I[1]=-I[1]),a[1][0]>a[0][1]&&(I[2]=-I[2]),!0};function x(y,M,A){var o=M[0],E=M[1],b=M[2],I=M[3];return y[0]=A[0]*o+A[4]*E+A[8]*b+A[12]*I,y[1]=A[1]*o+A[5]*E+A[9]*b+A[13]*I,y[2]=A[2]*o+A[6]*E+A[10]*b+A[14]*I,y[3]=A[3]*o+A[7]*E+A[11]*b+A[15]*I,y}function w(y,M){y[0][0]=M[0],y[0][1]=M[1],y[0][2]=M[2],y[1][0]=M[4],y[1][1]=M[5],y[1][2]=M[6],y[2][0]=M[8],y[2][1]=M[9],y[2][2]=M[10]}function C(y,M,A,o,E){y[0]=M[0]*o+A[0]*E,y[1]=M[1]*o+A[1]*E,y[2]=M[2]*o+A[2]*E}},4335:function(v){v.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var n=1/i,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7442:function(v,p,r){var t=r(6658),i=r(7182),n=r(2652),f=r(9921),u=r(8648),l=c(),g=c(),h=c();v.exports=T;function T(x,w,C,y){if(f(w)===0||f(C)===0)return!1;var M=n(w,l.translate,l.scale,l.skew,l.perspective,l.quaternion),A=n(C,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!M||!A?!1:(t(h.translate,l.translate,g.translate,y),t(h.skew,l.skew,g.skew,y),t(h.scale,l.scale,g.scale,y),t(h.perspective,l.perspective,g.perspective,y),u(h.quaternion,l.quaternion,g.quaternion,y),i(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:a(),scale:a(1),skew:a(),perspective:d(),quaternion:d()}}function a(x){return[x||0,x||0,x||0]}function d(){return[0,0,0,1]}},7182:function(v,p,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var i=t.create();v.exports=function(f,u,l,g,h,T){return t.identity(f),t.fromRotationTranslation(f,T,u),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(i),g[2]!==0&&(i[9]=g[2],t.multiply(f,f,i)),g[1]!==0&&(i[9]=0,i[8]=g[1],t.multiply(f,f,i)),g[0]!==0&&(i[8]=0,i[4]=g[0],t.multiply(f,f,i)),t.scale(f,f,l),f}},4192:function(v,p,r){var t=r(2478),i=r(7442),n=r(7608),f=r(5567),u=r(2408),l=r(7089),g=r(6582),h=r(7656);r(2504);var T=r(3536),c=[0,0,0];v.exports=w;function a(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=a.prototype;d.recalcMatrix=function(C){var y=this._time,M=t.le(y,C),A=this.computedMatrix;if(!(M<0)){var o=this._components;if(M===y.length-1)for(var E=16*M,b=0;b<16;++b)A[b]=o[E++];else{for(var I=y[M+1]-y[M],E=16*M,D=this.prevMatrix,N=!0,b=0;b<16;++b)D[b]=o[E++];for(var k=this.nextMatrix,b=0;b<16;++b)k[b]=o[E++],N=N&&D[b]===k[b];if(I<1e-6||N)for(var b=0;b<16;++b)A[b]=D[b];else i(A,D,k,(C-y[M])/I)}var O=this.computedUp;O[0]=A[1],O[1]=A[5],O[2]=A[9],T(O,O);var F=this.computedInverse;n(F,A);var z=this.computedEye,B=F[15];z[0]=F[12]/B,z[1]=F[13]/B,z[2]=F[14]/B;for(var W=this.computedCenter,J=Math.exp(this.computedRadius[0]),b=0;b<3;++b)W[b]=z[b]-A[2+4*b]*J}},d.idle=function(C){if(!(C<this.lastT())){for(var y=this._components,M=y.length-16,A=0;A<16;++A)y.push(y[M++]);this._time.push(C)}},d.flush=function(C){var y=t.gt(this._time,C)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,y,M,A){this.recalcMatrix(C),y=y||this.computedEye,M=M||c,A=A||this.computedUp,this.setMatrix(C,g(this.computedMatrix,y,M,A));for(var o=0,E=0;E<3;++E)o+=Math.pow(M[E]-y[E],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},d.rotate=function(C,y,M,A){this.recalcMatrix(C);var o=this.computedInverse;y&&u(o,o,y),M&&f(o,o,M),A&&l(o,o,A),this.setMatrix(C,n(this.computedMatrix,o))};var x=[0,0,0];d.pan=function(C,y,M,A){x[0]=-(y||0),x[1]=-(M||0),x[2]=-(A||0),this.recalcMatrix(C);var o=this.computedInverse;h(o,o,x),this.setMatrix(C,n(o,o))},d.translate=function(C,y,M,A){x[0]=y||0,x[1]=M||0,x[2]=A||0,this.recalcMatrix(C);var o=this.computedMatrix;h(o,o,x),this.setMatrix(C,o)},d.setMatrix=function(C,y){if(!(C<this.lastT())){this._time.push(C);for(var M=0;M<16;++M)this._components.push(y[M])}},d.setDistance=function(C,y){this.computedRadius[0]=y},d.setDistanceLimits=function(C,y){var M=this._limits;M[0]=C,M[1]=y},d.getDistanceLimits=function(C){var y=this._limits;return C?(C[0]=y[0],C[1]=y[1],C):y};function w(C){C=C||{};var y=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new a(y)}},3090:function(v,p,r){v.exports=i;var t=r(3250)[3];function i(n){var f=n.length;if(f<3){for(var d=new Array(f),u=0;u<f;++u)d[u]=u;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(y,M){var A=n[y][0]-n[M][0];return A||n[y][1]-n[M][1]});for(var g=[l[0],l[1]],h=[l[0],l[1]],u=2;u<f;++u){for(var T=l[u],c=n[T],a=g.length;a>1&&t(n[g[a-2]],n[g[a-1]],c)<=0;)a-=1,g.pop();for(g.push(T),a=h.length;a>1&&t(n[h[a-2]],n[h[a-1]],c)>=0;)a-=1,h.pop();h.push(T)}for(var d=new Array(h.length+g.length-2),x=0,u=0,w=g.length;u<w;++u)d[x++]=g[u];for(var C=h.length-2;C>0;--C)d[x++]=h[C];return d}},351:function(v,p,r){v.exports=i;var t=r(4687);function i(n,f){f||(f=n,n=window);var u=0,l=0,g=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function c(b){var I=!1;return"altKey"in b&&(I=I||b.altKey!==h.alt,h.alt=!!b.altKey),"shiftKey"in b&&(I=I||b.shiftKey!==h.shift,h.shift=!!b.shiftKey),"ctrlKey"in b&&(I=I||b.ctrlKey!==h.control,h.control=!!b.ctrlKey),"metaKey"in b&&(I=I||b.metaKey!==h.meta,h.meta=!!b.metaKey),I}function a(b,I){var D=t.x(I),N=t.y(I);"buttons"in I&&(b=I.buttons|0),(b!==u||D!==l||N!==g||c(I))&&(u=b|0,l=D||0,g=N||0,f&&f(u,l,g,h))}function d(b){a(0,b)}function x(){(u||l||g||h.shift||h.alt||h.meta||h.control)&&(l=g=0,u=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function w(b){c(b)&&f&&f(u,l,g,h)}function C(b){t.buttons(b)===0?a(0,b):a(u,b)}function y(b){a(u|t.buttons(b),b)}function M(b){a(u&~t.buttons(b),b)}function A(){T||(T=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",y),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",x),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function o(){T&&(T=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",y),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",x),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}A();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return T},set:function(b){b?A():o()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},24:function(v){var p={left:0,top:0};v.exports=r;function r(i,n,f){n=n||i.currentTarget||i.srcElement,Array.isArray(f)||(f=[0,0]);var u=i.clientX||0,l=i.clientY||0,g=t(n);return f[0]=u-g.left,f[1]=l-g.top,f}function t(i){return i===window||i===document||i===document.body?p:i.getBoundingClientRect()}},4687:function(v,p){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(f){return f.target||f.srcElement||window}p.element=t;function i(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}p.x=i;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}p.y=n},8512:function(v,p,r){var t=r(665);v.exports=i;function i(n,f,u){typeof n=="function"&&(u=!!f,f=n,n=window);var l=t("ex",n),g=function(h){u&&h.preventDefault();var T=h.deltaX||0,c=h.deltaY||0,a=h.deltaZ||0,d=h.deltaMode,x=1;switch(d){case 1:x=l;break;case 2:x=window.innerHeight;break}if(T*=x,c*=x,a*=x,T||c||a)return f(T,c,a,h)};return n.addEventListener("wheel",g),g}},2640:function(v,p,r){var t=r(1888);v.exports=f;var i={"false,0,1":function(l,g,h,T,c){return function(d,x,w,C){var y=d.shape[0]|0,M=d.shape[1]|0,A=d.data,o=d.offset|0,E=d.stride[0]|0,b=d.stride[1]|0,I=o,D,N=-E|0,k=0,O=-b|0,F=0,z=-E-b|0,B=0,W=E|0,J=b-E*y|0,re=0,ne=0,le=0,$=2*y|0,K=T($),ie=T($),Y=0,Q=0,oe=-1,X=-1,j=0,se=-y|0,te=y|0,fe=0,ge=-y-1|0,be=y-1|0,xe=0,_e=0,De=0;for(re=0;re<y;++re)K[Y++]=h(A[I],x,w,C),I+=W;if(I+=J,M>0){if(ne=1,K[Y++]=h(A[I],x,w,C),I+=W,y>0)for(re=1,D=A[I],Q=K[Y]=h(D,x,w,C),j=K[Y+oe],fe=K[Y+se],xe=K[Y+ge],(Q!==j||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,j,fe,xe,x,w,C),_e=ie[Y]=le++),Y+=1,I+=W,re=2;re<y;++re)D=A[I],Q=K[Y]=h(D,x,w,C),j=K[Y+oe],fe=K[Y+se],xe=K[Y+ge],(Q!==j||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,j,fe,xe,x,w,C),_e=ie[Y]=le++,xe!==j&&g(ie[Y+oe],_e,B,k,xe,j,x,w,C)),Y+=1,I+=W;for(I+=J,Y=0,De=oe,oe=X,X=De,De=se,se=te,te=De,De=ge,ge=be,be=De,ne=2;ne<M;++ne){if(K[Y++]=h(A[I],x,w,C),I+=W,y>0)for(re=1,D=A[I],Q=K[Y]=h(D,x,w,C),j=K[Y+oe],fe=K[Y+se],xe=K[Y+ge],(Q!==j||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,j,fe,xe,x,w,C),_e=ie[Y]=le++,xe!==fe&&g(ie[Y+se],_e,F,B,fe,xe,x,w,C)),Y+=1,I+=W,re=2;re<y;++re)D=A[I],Q=K[Y]=h(D,x,w,C),j=K[Y+oe],fe=K[Y+se],xe=K[Y+ge],(Q!==j||Q!==fe||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,j,fe,xe,x,w,C),_e=ie[Y]=le++,xe!==fe&&g(ie[Y+se],_e,F,B,fe,xe,x,w,C),xe!==j&&g(ie[Y+oe],_e,B,k,xe,j,x,w,C)),Y+=1,I+=W;ne&1&&(Y=0),De=oe,oe=X,X=De,De=se,se=te,te=De,De=ge,ge=be,be=De,I+=J}}c(ie),c(K)}},"false,1,0":function(l,g,h,T,c){return function(d,x,w,C){var y=d.shape[0]|0,M=d.shape[1]|0,A=d.data,o=d.offset|0,E=d.stride[0]|0,b=d.stride[1]|0,I=o,D,N=-E|0,k=0,O=-b|0,F=0,z=-E-b|0,B=0,W=b|0,J=E-b*M|0,re=0,ne=0,le=0,$=2*M|0,K=T($),ie=T($),Y=0,Q=0,oe=-1,X=-1,j=0,se=-M|0,te=M|0,fe=0,ge=-M-1|0,be=M-1|0,xe=0,_e=0,De=0;for(ne=0;ne<M;++ne)K[Y++]=h(A[I],x,w,C),I+=W;if(I+=J,y>0){if(re=1,K[Y++]=h(A[I],x,w,C),I+=W,M>0)for(ne=1,D=A[I],Q=K[Y]=h(D,x,w,C),fe=K[Y+se],j=K[Y+oe],xe=K[Y+ge],(Q!==fe||Q!==j||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,j,xe,x,w,C),_e=ie[Y]=le++),Y+=1,I+=W,ne=2;ne<M;++ne)D=A[I],Q=K[Y]=h(D,x,w,C),fe=K[Y+se],j=K[Y+oe],xe=K[Y+ge],(Q!==fe||Q!==j||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,j,xe,x,w,C),_e=ie[Y]=le++,xe!==j&&g(ie[Y+oe],_e,F,B,j,xe,x,w,C)),Y+=1,I+=W;for(I+=J,Y=0,De=se,se=te,te=De,De=oe,oe=X,X=De,De=ge,ge=be,be=De,re=2;re<y;++re){if(K[Y++]=h(A[I],x,w,C),I+=W,M>0)for(ne=1,D=A[I],Q=K[Y]=h(D,x,w,C),fe=K[Y+se],j=K[Y+oe],xe=K[Y+ge],(Q!==fe||Q!==j||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,j,xe,x,w,C),_e=ie[Y]=le++,xe!==fe&&g(ie[Y+se],_e,B,k,xe,fe,x,w,C)),Y+=1,I+=W,ne=2;ne<M;++ne)D=A[I],Q=K[Y]=h(D,x,w,C),fe=K[Y+se],j=K[Y+oe],xe=K[Y+ge],(Q!==fe||Q!==j||Q!==xe)&&(k=A[I+N],F=A[I+O],B=A[I+z],l(re,ne,D,k,F,B,Q,fe,j,xe,x,w,C),_e=ie[Y]=le++,xe!==j&&g(ie[Y+oe],_e,F,B,j,xe,x,w,C),xe!==fe&&g(ie[Y+se],_e,B,k,xe,fe,x,w,C)),Y+=1,I+=W;re&1&&(Y=0),De=se,se=te,te=De,De=oe,oe=X,X=De,De=ge,ge=be,be=De,I+=J}}c(ie),c(K)}}};function n(u,l,g,h,T,c){var a=[c,T].join(","),d=i[a];return d(u,l,g,t.mallocUint32,t.freeUint32)}function f(u){function l(x){throw new Error("ndarray-extract-contour: "+x)}typeof u!="object"&&l("Must specify arguments");var g=u.order;Array.isArray(g)||l("Must specify order");var h=u.arrayArguments||1;h<1&&l("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var c=u.getters||[],a=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?a[d]=!0:a[d]=!1;return n(u.vertex,u.cell,u.phase,T,g,a)}},6199:function(v,p,r){var t=r(1338),i={zero:function(w,C,y,M){var A=w[0],o=y[0];M|=0;var E=0,b=o;for(E=0;E<A;++E)C[M]=0,M+=b},fdTemplate1:function(w,C,y,M,A,o,E){var b=w[0],I=y[0],D=o[0],N=-1*I,k=I;M|=0,E|=0;var O=0,F=I,z=D;for(O=0;O<b;++O)A[E]=.5*(C[M+N]-C[M+k]),M+=F,E+=z},fdTemplate2:function(w,C,y,M,A,o,E,b,I,D){var N=w[0],k=w[1],O=y[0],F=y[1],z=o[0],B=o[1],W=I[0],J=I[1],re=-1*O,ne=O,le=-1*F,$=F;M|=0,E|=0,D|=0;var K=0,ie=0,Y=F,Q=O-k*F,oe=B,X=z-k*B,j=J,se=W-k*J;for(ie=0;ie<N;++ie){for(K=0;K<k;++K)A[E]=.5*(C[M+re]-C[M+ne]),b[D]=.5*(C[M+le]-C[M+$]),M+=Y,E+=oe,D+=j;M+=Q,E+=X,D+=se}}},n={cdiff:function(w){var C={};return function(M,A,o){var E=M.dtype,b=M.order,I=A.dtype,D=A.order,N=o.dtype,k=o.order,O=[E,b.join(),I,D.join(),N,k.join()].join(),F=C[O];return F||(C[O]=F=w([E,b,I,D,N,k])),F(M.shape.slice(0),M.data,M.stride,M.offset|0,A.data,A.stride,A.offset|0,o.data,o.stride,o.offset|0)}},zero:function(w){var C={};return function(M){var A=M.dtype,o=M.order,E=[A,o.join()].join(),b=C[E];return b||(C[E]=b=w([A,o])),b(M.shape.slice(0),M.data,M.stride,M.offset|0)}},fdTemplate1:function(w){var C={};return function(M,A){var o=M.dtype,E=M.order,b=A.dtype,I=A.order,D=[o,E.join(),b,I.join()].join(),N=C[D];return N||(C[D]=N=w([o,E,b,I])),N(M.shape.slice(0),M.data,M.stride,M.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(w){var C={};return function(M,A,o){var E=M.dtype,b=M.order,I=A.dtype,D=A.order,N=o.dtype,k=o.order,O=[E,b.join(),I,D.join(),N,k.join()].join(),F=C[O];return F||(C[O]=F=w([E,b,I,D,N,k])),F(M.shape.slice(0),M.data,M.stride,M.offset|0,A.data,A.stride,A.offset|0,o.data,o.stride,o.offset|0)}}};function f(w){var C=n[w.funcName];return C(u.bind(void 0,w))}function u(w){return i[w.funcName]}function l(w){return f({funcName:w.funcName})}var g={},h={},T=l({funcName:"cdiff"}),c=l({funcName:"zero"});function a(w){return w in g?g[w]:g[w]=l({funcName:"fdTemplate"+w})}function d(w,C,y,M){return function(A,o){var E=o.shape.slice();return E[0]>2&&E[1]>2&&M(o.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),A.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),A.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(y(o.pick(0,-1).lo(1).hi(E[1]-2),A.pick(0,-1,1).lo(1).hi(E[1]-2)),C(A.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(y(o.pick(E[0]-1,-1).lo(1).hi(E[1]-2),A.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(A.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(y(o.pick(-1,0).lo(1).hi(E[0]-2),A.pick(-1,0,0).lo(1).hi(E[0]-2)),C(A.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(y(o.pick(-1,E[1]-1).lo(1).hi(E[0]-2),A.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(A.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(E[0]-1,0,0,0),A.set(E[0]-1,0,1,0),A.set(0,E[1]-1,0,0),A.set(0,E[1]-1,1,0),A.set(E[0]-1,E[1]-1,0,0),A.set(E[0]-1,E[1]-1,1,0),A}}function x(w){var C=w.join(),E=h[C];if(E)return E;for(var y=w.length,M=[T,c],A=1;A<=y;++A)M.push(a(A));var o=d,E=o.apply(void 0,M);return h[C]=E,E}v.exports=function(C,y,M){if(Array.isArray(M)||(typeof M=="string"?M=t(y.dimension,M):M=t(y.dimension,"clamp")),y.size===0)return C;if(y.dimension===0)return C.set(0),C;var A=x(M);return A(C,y)}},4317:function(v){function p(f,u){var l=Math.floor(u),g=u-l,h=0<=l&&l<f.shape[0],T=0<=l+1&&l+1<f.shape[0],c=h?+f.get(l):0,a=T?+f.get(l+1):0;return(1-g)*c+g*a}function r(f,u,l){var g=Math.floor(u),h=u-g,T=0<=g&&g<f.shape[0],c=0<=g+1&&g+1<f.shape[0],a=Math.floor(l),d=l-a,x=0<=a&&a<f.shape[1],w=0<=a+1&&a+1<f.shape[1],C=T&&x?f.get(g,a):0,y=T&&w?f.get(g,a+1):0,M=c&&x?f.get(g+1,a):0,A=c&&w?f.get(g+1,a+1):0;return(1-d)*((1-h)*C+h*M)+d*((1-h)*y+h*A)}function t(f,u,l,g){var h=Math.floor(u),T=u-h,c=0<=h&&h<f.shape[0],a=0<=h+1&&h+1<f.shape[0],d=Math.floor(l),x=l-d,w=0<=d&&d<f.shape[1],C=0<=d+1&&d+1<f.shape[1],y=Math.floor(g),M=g-y,A=0<=y&&y<f.shape[2],o=0<=y+1&&y+1<f.shape[2],E=c&&w&&A?f.get(h,d,y):0,b=c&&C&&A?f.get(h,d+1,y):0,I=a&&w&&A?f.get(h+1,d,y):0,D=a&&C&&A?f.get(h+1,d+1,y):0,N=c&&w&&o?f.get(h,d,y+1):0,k=c&&C&&o?f.get(h,d+1,y+1):0,O=a&&w&&o?f.get(h+1,d,y+1):0,F=a&&C&&o?f.get(h+1,d+1,y+1):0;return(1-M)*((1-x)*((1-T)*E+T*I)+x*((1-T)*b+T*D))+M*((1-x)*((1-T)*N+T*O)+x*((1-T)*k+T*F))}function i(f){var u=f.shape.length|0,l=new Array(u),g=new Array(u),h=new Array(u),T=new Array(u),c,a;for(c=0;c<u;++c)a=+arguments[c+1],l[c]=Math.floor(a),g[c]=a-l[c],h[c]=0<=l[c]&&l[c]<f.shape[c],T[c]=0<=l[c]+1&&l[c]+1<f.shape[c];var d=0,x,w,C;e:for(c=0;c<1<<u;++c){for(w=1,C=f.offset,x=0;x<u;++x)if(c&1<<x){if(!T[x])continue e;w*=g[x],C+=f.stride[x]*(l[x]+1)}else{if(!h[x])continue e;w*=1-g[x],C+=f.stride[x]*l[x]}d+=w*f.data[C]}return d}function n(f,u,l,g){switch(f.shape.length){case 0:return 0;case 1:return p(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,g);default:return i.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},5298:function(v,p){var r={"float64,2,1,0":function(){return function(h,T,c,a,d){var x=h[0],w=h[1],C=h[2],y=c[0],M=c[1],A=c[2];a|=0;var o=0,E=0,b=0,I=A,D=M-C*A,N=y-w*M;for(b=0;b<x;++b){for(E=0;E<w;++E){for(o=0;o<C;++o)T[a]/=d,a+=I;a+=D}a+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,c,a,d,x,w,C){var y=h[0],M=h[1],A=h[2],o=c[0],E=c[1],b=c[2],I=x[0],D=x[1],N=x[2];a|=0,w|=0;for(var k=a,O=w,F=h[0]|0;F>0;){F<64?(y=F,F=0):(y=64,F-=64);for(var z=h[1]|0;z>0;){z<64?(M=z,z=0):(M=64,z-=64),a=k+F*o+z*E,w=O+F*I+z*D;var B=0,W=0,J=0,re=b,ne=o-A*b,le=E-y*o,$=N,K=I-A*N,ie=D-y*I;for(J=0;J<M;++J){for(W=0;W<y;++W){for(B=0;B<A;++B)T[a]=d[w]*C,a+=re,w+=$;a+=ne,w+=K}a+=le,w+=ie}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,c,a,d,x,w){var C=h[0],y=h[1],M=c[0],A=c[1],o=x[0],E=x[1];a|=0,w|=0;var b=0,I=0,D=A,N=M-y*A,k=E,O=o-y*E;for(I=0;I<C;++I){for(b=0;b<y;++b)T[a]=d[w],a+=D,w+=k;a+=N,w+=O}}},"float32,1,0,float32,0,1":function(){return function(h,T,c,a,d,x,w){var C=h[0],y=h[1],M=c[0],A=c[1],o=x[0],E=x[1];a|=0,w|=0;for(var b=a,I=w,D=h[1]|0;D>0;){D<64?(y=D,D=0):(y=64,D-=64);for(var N=h[0]|0;N>0;){N<64?(C=N,N=0):(C=64,N-=64),a=b+D*A+N*M,w=I+D*E+N*o;var k=0,O=0,F=A,z=M-y*A,B=E,W=o-y*E;for(O=0;O<C;++O){for(k=0;k<y;++k)T[a]=d[w],a+=F,w+=B;a+=z,w+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,c,a,d,x,w){var C=h[0],y=h[1],M=h[2],A=c[0],o=c[1],E=c[2],b=x[0],I=x[1],D=x[2];a|=0,w|=0;for(var N=a,k=w,O=h[2]|0;O>0;){O<64?(M=O,O=0):(M=64,O-=64);for(var F=h[0]|0;F>0;){F<64?(C=F,F=0):(C=64,F-=64);for(var z=h[1]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64),a=N+O*E+F*A+z*o,w=k+O*D+F*b+z*I;var B=0,W=0,J=0,re=E,ne=A-M*E,le=o-C*A,$=D,K=b-M*D,ie=I-C*b;for(J=0;J<y;++J){for(W=0;W<C;++W){for(B=0;B<M;++B)T[a]=d[w],a+=re,w+=$;a+=ne,w+=K}a+=le,w+=ie}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,c,a,d,x,w){var C=h[0],y=h[1],M=h[2],A=c[0],o=c[1],E=c[2],b=x[0],I=x[1],D=x[2];a|=0,w|=0;var N=0,k=0,O=0,F=E,z=A-M*E,B=o-C*A,W=D,J=b-M*D,re=I-C*b;for(O=0;O<y;++O){for(k=0;k<C;++k){for(N=0;N<M;++N)T[a]=d[w],a+=F,w+=W;a+=z,w+=J}a+=B,w+=re}}}};function t(g,h){var T=h.join(","),c=r[T];return c()}var i=t,n={mul:function(g){var h={};return function(c,a,d){var x=c.dtype,w=c.order,C=a.dtype,y=a.order,M=d.dtype,A=d.order,o=[x,w.join(),C,y.join(),M,A.join()].join(),E=h[o];return E||(h[o]=E=g([x,w,C,y,M,A])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d.data,d.stride,d.offset|0)}},muls:function(g){var h={};return function(c,a,d){var x=c.dtype,w=c.order,C=a.dtype,y=a.order,M=[x,w.join(),C,y.join()].join(),A=h[M];return A||(h[M]=A=g([x,w,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d)}},mulseq:function(g){var h={};return function(c,a){var d=c.dtype,x=c.order,w=[d,x.join()].join(),C=h[w];return C||(h[w]=C=g([d,x])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,a)}},div:function(g){var h={};return function(c,a,d){var x=c.dtype,w=c.order,C=a.dtype,y=a.order,M=d.dtype,A=d.order,o=[x,w.join(),C,y.join(),M,A.join()].join(),E=h[o];return E||(h[o]=E=g([x,w,C,y,M,A])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d.data,d.stride,d.offset|0)}},divs:function(g){var h={};return function(c,a,d){var x=c.dtype,w=c.order,C=a.dtype,y=a.order,M=[x,w.join(),C,y.join()].join(),A=h[M];return A||(h[M]=A=g([x,w,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d)}},divseq:function(g){var h={};return function(c,a){var d=c.dtype,x=c.order,w=[d,x.join()].join(),C=h[w];return C||(h[w]=C=g([d,x])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,a)}},assign:function(g){var h={};return function(c,a){var d=c.dtype,x=c.order,w=a.dtype,C=a.order,y=[d,x.join(),w,C.join()].join(),M=h[y];return M||(h[y]=M=g([d,x,w,C])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0)}}};function f(g){var h=n[g.funcName];return h(i.bind(void 0,g))}function u(g){return f({funcName:g.funcName})}var l={mul:"*",div:"/"};(function(){for(var g in l)p[g]=u({funcName:g}),p[g+"s"]=u({funcName:g+"s"}),p[g+"seq"]=u({funcName:g+"seq"})})(),p.assign=u({funcName:"assign"})},9994:function(v,p,r){var t=r(9618),i=r(8277);v.exports=function(f,u){for(var l=[],g=f,h=1;Array.isArray(g);)l.push(g.length),h*=g.length,g=g[0];return l.length===0?t():(u||(u=t(new Float64Array(h),l)),i(u,f),u)}},8277:function(v){function p(){return function(u,l,g,h,T){var c=u[0],a=u[1],d=u[2],x=g[0],w=g[1],C=g[2],y=[0,0,0];h|=0;var M=0,A=0,o=0,E=C,b=w-d*C,I=x-a*w;for(o=0;o<c;++o){for(A=0;A<a;++A){for(M=0;M<d;++M){{var D=T,N;for(N=0;N<y.length-1;++N)D=D[y[N]];l[h]=D[y[y.length-1]]}h+=E,++y[2]}h+=b,y[2]-=d,++y[1]}h+=I,y[1]-=a,++y[0]}}}function r(){return p()}var t=r;function i(u){var l={};return function(h,T){var c=h.dtype,a=h.order,d=[c,a.join()].join(),x=l[d];return x||(l[d]=x=u([c,a])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function n(u){return i(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"convert"})},7640:function(v,p,r){var t=r(1888);function i(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,c){return function(d,x,w,C,y,M,A,o,E,b,I){var D,N,k,O=d*y+C,F,z=T(o),B,W,J,re;for(D=d+1;D<=x;++D){for(N=D,O+=y,k=O,B=0,W=O,F=0;F<o;++F)z[B++]=w[W],W+=E;e:for(;N-- >d;){B=0,W=k-y;t:for(F=0;F<o;++F){if(J=w[W],re=z[B],J<re)break e;if(J>re)break t;W+=b,B+=I}for(B=k,W=k-y,F=0;F<o;++F)w[B]=w[W],B+=E,W+=E;k-=y}for(B=k,W=0,F=0;F<o;++F)w[B]=z[W++],B+=E}c(z)}}};function f(T,c){var a=i(c),d=[c,T].join(","),x=n[d];return a?x(a[0],a[1]):x()}var u={"uint32,1,0":function(T,c,a){return function d(x,w,C,y,M,A,o,E,b,I,D){var N=(w-x+1)/6|0,k=x+N,O=w-N,F=x+w>>1,z=F-N,B=F+N,W=k,J=z,re=F,ne=B,le=O,$=x+1,K=w-1,ie=!0,Y,Q,oe,X,j,se,te,fe,ge,be=0,xe=0,_e=0,De,Fe,Te,Re,Se,Ie,Me,Ve,et,it,Je,Qe,ct,ht,gt,Tt,Et=E,rt=c(Et),ze=c(Et);Fe=M*W,Te=M*J,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=W,W=J,J=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*ne,Te=M*le,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=ne,ne=le,le=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*W,Te=M*re,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=W,W=re,re=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*J,Te=M*re,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=J,J=re,re=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*W,Te=M*ne,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=W,W=ne,ne=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*re,Te=M*ne,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=re,re=ne,ne=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*J,Te=M*le,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=J,J=le,le=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*J,Te=M*re,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=J,J=re,re=Q;break e}if(_e<0)break e;Tt+=I}Fe=M*ne,Te=M*le,Tt=y;e:for(De=0;De<E;++De){if(te=Fe+Tt,fe=Te+Tt,_e=C[te]-C[fe],_e>0){Q=ne,ne=le,le=Q;break e}if(_e<0)break e;Tt+=I}for(Fe=M*W,Te=M*J,Re=M*re,Se=M*ne,Ie=M*le,Me=M*k,Ve=M*F,et=M*O,gt=0,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,it=Se+Tt,Je=Ie+Tt,Qe=Me+Tt,ct=Ve+Tt,ht=et+Tt,rt[gt]=C[fe],ze[gt]=C[it],ie=ie&&rt[gt]===ze[gt],oe=C[te],X=C[ge],j=C[Je],C[Qe]=oe,C[ct]=X,C[ht]=j,++gt,Tt+=b;for(Fe=M*z,Te=M*x,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],Tt+=b;for(Fe=M*B,Te=M*w,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],Tt+=b;if(ie)for(se=$;se<=K;++se){te=y+se*M,gt=0;e:for(De=0;De<E;++De){if(_e=C[te]-rt[gt],_e!==0)break e;gt+=D,te+=I}if(_e!==0)if(_e<0){if(se!==$)for(Fe=M*se,Te=M*$,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,Y=C[te],C[te]=C[fe],C[fe]=Y,Tt+=b;++$}else for(;;){te=y+K*M,gt=0;e:for(De=0;De<E;++De){if(_e=C[te]-rt[gt],_e!==0)break e;gt+=D,te+=I}if(_e>0)K--;else if(_e<0){for(Fe=M*se,Te=M*$,Re=M*K,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,Y=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=Y,Tt+=b;++$,--K;break}else{for(Fe=M*se,Te=M*K,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,Y=C[te],C[te]=C[fe],C[fe]=Y,Tt+=b;--K;break}}}else for(se=$;se<=K;++se){te=y+se*M,gt=0;e:for(De=0;De<E;++De){if(be=C[te]-rt[gt],be!==0)break e;gt+=D,te+=I}if(be<0){if(se!==$)for(Fe=M*se,Te=M*$,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,Y=C[te],C[te]=C[fe],C[fe]=Y,Tt+=b;++$}else{te=y+se*M,gt=0;e:for(De=0;De<E;++De){if(xe=C[te]-ze[gt],xe!==0)break e;gt+=D,te+=I}if(xe>0)for(;;){te=y+K*M,gt=0;e:for(De=0;De<E;++De){if(_e=C[te]-ze[gt],_e!==0)break e;gt+=D,te+=I}if(_e>0){if(--K<se)break;continue}else{te=y+K*M,gt=0;e:for(De=0;De<E;++De){if(_e=C[te]-rt[gt],_e!==0)break e;gt+=D,te+=I}if(_e<0){for(Fe=M*se,Te=M*$,Re=M*K,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,Y=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=Y,Tt+=b;++$,--K}else{for(Fe=M*se,Te=M*K,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,Y=C[te],C[te]=C[fe],C[fe]=Y,Tt+=b;--K}break}}}}for(Fe=M*x,Te=M*($-1),gt=0,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],C[fe]=rt[gt],++gt,Tt+=b;for(Fe=M*w,Te=M*(K+1),gt=0,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,C[te]=C[fe],C[fe]=ze[gt],++gt,Tt+=b;if($-2-x<=32?T(x,$-2,C,y,M,A,o,E,b,I,D):d(x,$-2,C,y,M,A,o,E,b,I,D),w-(K+2)<=32?T(K+2,w,C,y,M,A,o,E,b,I,D):d(K+2,w,C,y,M,A,o,E,b,I,D),ie){a(rt),a(ze);return}if($<k&&K>O){e:for(;;){for(te=y+$*M,gt=0,Tt=y,De=0;De<E;++De){if(C[te]!==rt[gt])break e;++gt,te+=b}++$}e:for(;;){for(te=y+K*M,gt=0,Tt=y,De=0;De<E;++De){if(C[te]!==ze[gt])break e;++gt,te+=b}--K}for(se=$;se<=K;++se){te=y+se*M,gt=0;e:for(De=0;De<E;++De){if(be=C[te]-rt[gt],be!==0)break e;gt+=D,te+=I}if(be===0){if(se!==$)for(Fe=M*se,Te=M*$,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,Y=C[te],C[te]=C[fe],C[fe]=Y,Tt+=b;++$}else{te=y+se*M,gt=0;e:for(De=0;De<E;++De){if(xe=C[te]-ze[gt],xe!==0)break e;gt+=D,te+=I}if(xe===0)for(;;){te=y+K*M,gt=0;e:for(De=0;De<E;++De){if(_e=C[te]-ze[gt],_e!==0)break e;gt+=D,te+=I}if(_e===0){if(--K<se)break;continue}else{te=y+K*M,gt=0;e:for(De=0;De<E;++De){if(_e=C[te]-rt[gt],_e!==0)break e;gt+=D,te+=I}if(_e<0){for(Fe=M*se,Te=M*$,Re=M*K,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,ge=Re+Tt,Y=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=Y,Tt+=b;++$,--K}else{for(Fe=M*se,Te=M*K,Tt=y,De=0;De<E;++De)te=Fe+Tt,fe=Te+Tt,Y=C[te],C[te]=C[fe],C[fe]=Y,Tt+=b;--K}break}}}}}a(rt),a(ze),K-$<=32?T($,K,C,y,M,A,o,E,b,I,D):d($,K,C,y,M,A,o,E,b,I,D)}}};function l(T,c,a){var d=i(c),x=[c,T].join(","),w=u[x];return T.length>1&&d?w(a,d[0],d[1]):w(a)}var g={"uint32,1,0":function(T,c){return function(a){var d=a.data,x=a.offset|0,w=a.shape,C=a.stride,y=C[0]|0,M=w[0]|0,A=C[1]|0,o=w[1]|0,E=A,b=A,I=1;M<=32?T(0,M-1,d,x,y,A,M,o,E,b,I):c(0,M-1,d,x,y,A,M,o,E,b,I)}}};function h(T,c){var a=[c,T].join(","),d=g[a],x=f(T,c),w=l(T,c,x);return d(x,w)}v.exports=h},446:function(v,p,r){var t=r(7640),i={};function n(f){var u=f.order,l=f.dtype,g=[u,l],h=g.join(":"),T=i[h];return T||(i[h]=T=t(u,l)),T(f),f}v.exports=n},9618:function(v,p,r){var t=r(7163),i=typeof Float64Array<"u";function n(c,a){return c[0]-a[0]}function f(){var c=this.stride,a=new Array(c.length),d;for(d=0;d<a.length;++d)a[d]=[Math.abs(c[d]),d];a.sort(n);var x=new Array(a.length);for(d=0;d<x.length;++d)x[d]=a[d][1];return x}var u={T:function(c){function a(x){this.data=x}var d=a.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new a(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new a(w)}},0:function(c,a){function d(w,C){this.data=w,this.offset=C}var x=d.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new d(this.data,this.offset)},x.pick=function(){return a(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,y,M,A){return new d(C,A)}},1:function(c,a,d){function x(C,y,M,A){this.data=C,this.shape=[y],this.stride=[M],this.offset=A|0}var w=x.prototype;return w.dtype=c,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(y,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,M):this.data[this.offset+this.stride[0]*y]=M},w.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},w.index=function(y){return this.offset+this.stride[0]*y},w.hi=function(y){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},w.lo=function(y){var M=this.offset,A=0,o=this.shape[0],E=this.stride[0];return typeof y=="number"&&y>=0&&(A=y|0,M+=E*A,o-=A),new x(this.data,o,E,M)},w.step=function(y){var M=this.shape[0],A=this.stride[0],o=this.offset,E=0,b=Math.ceil;return typeof y=="number"&&(E=y|0,E<0?(o+=A*(M-1),M=b(-M/E)):M=b(M/E),A*=E),new x(this.data,M,A,o)},w.transpose=function(y){y=y===void 0?0:y|0;var M=this.shape,A=this.stride;return new x(this.data,M[y],A[y],this.offset)},w.pick=function(y){var M=[],A=[],o=this.offset;typeof y=="number"&&y>=0?o=o+this.stride[0]*y|0:(M.push(this.shape[0]),A.push(this.stride[0]));var E=a[M.length+1];return E(this.data,M,A,o)},function(y,M,A,o){return new x(y,M[0],A[0],o)}},2:function(c,a,d){function x(C,y,M,A,o,E){this.data=C,this.shape=[y,M],this.stride=[A,o],this.offset=E|0}var w=x.prototype;return w.dtype=c,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(y,M,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*M,A):this.data[this.offset+this.stride[0]*y+this.stride[1]*M]=A},w.get=function(y,M){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*M):this.data[this.offset+this.stride[0]*y+this.stride[1]*M]},w.index=function(y,M){return this.offset+this.stride[0]*y+this.stride[1]*M},w.hi=function(y,M){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof M!="number"||M<0?this.shape[1]:M|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(y,M){var A=this.offset,o=0,E=this.shape[0],b=this.shape[1],I=this.stride[0],D=this.stride[1];return typeof y=="number"&&y>=0&&(o=y|0,A+=I*o,E-=o),typeof M=="number"&&M>=0&&(o=M|0,A+=D*o,b-=o),new x(this.data,E,b,I,D,A)},w.step=function(y,M){var A=this.shape[0],o=this.shape[1],E=this.stride[0],b=this.stride[1],I=this.offset,D=0,N=Math.ceil;return typeof y=="number"&&(D=y|0,D<0?(I+=E*(A-1),A=N(-A/D)):A=N(A/D),E*=D),typeof M=="number"&&(D=M|0,D<0?(I+=b*(o-1),o=N(-o/D)):o=N(o/D),b*=D),new x(this.data,A,o,E,b,I)},w.transpose=function(y,M){y=y===void 0?0:y|0,M=M===void 0?1:M|0;var A=this.shape,o=this.stride;return new x(this.data,A[y],A[M],o[y],o[M],this.offset)},w.pick=function(y,M){var A=[],o=[],E=this.offset;typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(A.push(this.shape[0]),o.push(this.stride[0])),typeof M=="number"&&M>=0?E=E+this.stride[1]*M|0:(A.push(this.shape[1]),o.push(this.stride[1]));var b=a[A.length+1];return b(this.data,A,o,E)},function(y,M,A,o){return new x(y,M[0],M[1],A[0],A[1],o)}},3:function(c,a,d){function x(C,y,M,A,o,E,b,I){this.data=C,this.shape=[y,M,A],this.stride=[o,E,b],this.offset=I|0}var w=x.prototype;return w.dtype=c,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var y=Math.abs(this.stride[0]),M=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return y>M?M>A?[2,1,0]:y>A?[1,2,0]:[1,0,2]:y>A?[2,0,1]:A>M?[0,1,2]:[0,2,1]}}),w.set=function(y,M,A,o){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A,o):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A]=o},w.get=function(y,M,A){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A]},w.index=function(y,M,A){return this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A},w.hi=function(y,M,A){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(y,M,A){var o=this.offset,E=0,b=this.shape[0],I=this.shape[1],D=this.shape[2],N=this.stride[0],k=this.stride[1],O=this.stride[2];return typeof y=="number"&&y>=0&&(E=y|0,o+=N*E,b-=E),typeof M=="number"&&M>=0&&(E=M|0,o+=k*E,I-=E),typeof A=="number"&&A>=0&&(E=A|0,o+=O*E,D-=E),new x(this.data,b,I,D,N,k,O,o)},w.step=function(y,M,A){var o=this.shape[0],E=this.shape[1],b=this.shape[2],I=this.stride[0],D=this.stride[1],N=this.stride[2],k=this.offset,O=0,F=Math.ceil;return typeof y=="number"&&(O=y|0,O<0?(k+=I*(o-1),o=F(-o/O)):o=F(o/O),I*=O),typeof M=="number"&&(O=M|0,O<0?(k+=D*(E-1),E=F(-E/O)):E=F(E/O),D*=O),typeof A=="number"&&(O=A|0,O<0?(k+=N*(b-1),b=F(-b/O)):b=F(b/O),N*=O),new x(this.data,o,E,b,I,D,N,k)},w.transpose=function(y,M,A){y=y===void 0?0:y|0,M=M===void 0?1:M|0,A=A===void 0?2:A|0;var o=this.shape,E=this.stride;return new x(this.data,o[y],o[M],o[A],E[y],E[M],E[A],this.offset)},w.pick=function(y,M,A){var o=[],E=[],b=this.offset;typeof y=="number"&&y>=0?b=b+this.stride[0]*y|0:(o.push(this.shape[0]),E.push(this.stride[0])),typeof M=="number"&&M>=0?b=b+this.stride[1]*M|0:(o.push(this.shape[1]),E.push(this.stride[1])),typeof A=="number"&&A>=0?b=b+this.stride[2]*A|0:(o.push(this.shape[2]),E.push(this.stride[2]));var I=a[o.length+1];return I(this.data,o,E,b)},function(y,M,A,o){return new x(y,M[0],M[1],M[2],A[0],A[1],A[2],o)}},4:function(c,a,d){function x(C,y,M,A,o,E,b,I,D,N){this.data=C,this.shape=[y,M,A,o],this.stride=[E,b,I,D],this.offset=N|0}var w=x.prototype;return w.dtype=c,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(y,M,A,o,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*o,E):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*o]=E},w.get=function(y,M,A,o){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*o):this.data[this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*o]},w.index=function(y,M,A,o){return this.offset+this.stride[0]*y+this.stride[1]*M+this.stride[2]*A+this.stride[3]*o},w.hi=function(y,M,A,o){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof o!="number"||o<0?this.shape[3]:o|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(y,M,A,o){var E=this.offset,b=0,I=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.stride[0],F=this.stride[1],z=this.stride[2],B=this.stride[3];return typeof y=="number"&&y>=0&&(b=y|0,E+=O*b,I-=b),typeof M=="number"&&M>=0&&(b=M|0,E+=F*b,D-=b),typeof A=="number"&&A>=0&&(b=A|0,E+=z*b,N-=b),typeof o=="number"&&o>=0&&(b=o|0,E+=B*b,k-=b),new x(this.data,I,D,N,k,O,F,z,B,E)},w.step=function(y,M,A,o){var E=this.shape[0],b=this.shape[1],I=this.shape[2],D=this.shape[3],N=this.stride[0],k=this.stride[1],O=this.stride[2],F=this.stride[3],z=this.offset,B=0,W=Math.ceil;return typeof y=="number"&&(B=y|0,B<0?(z+=N*(E-1),E=W(-E/B)):E=W(E/B),N*=B),typeof M=="number"&&(B=M|0,B<0?(z+=k*(b-1),b=W(-b/B)):b=W(b/B),k*=B),typeof A=="number"&&(B=A|0,B<0?(z+=O*(I-1),I=W(-I/B)):I=W(I/B),O*=B),typeof o=="number"&&(B=o|0,B<0?(z+=F*(D-1),D=W(-D/B)):D=W(D/B),F*=B),new x(this.data,E,b,I,D,N,k,O,F,z)},w.transpose=function(y,M,A,o){y=y===void 0?0:y|0,M=M===void 0?1:M|0,A=A===void 0?2:A|0,o=o===void 0?3:o|0;var E=this.shape,b=this.stride;return new x(this.data,E[y],E[M],E[A],E[o],b[y],b[M],b[A],b[o],this.offset)},w.pick=function(y,M,A,o){var E=[],b=[],I=this.offset;typeof y=="number"&&y>=0?I=I+this.stride[0]*y|0:(E.push(this.shape[0]),b.push(this.stride[0])),typeof M=="number"&&M>=0?I=I+this.stride[1]*M|0:(E.push(this.shape[1]),b.push(this.stride[1])),typeof A=="number"&&A>=0?I=I+this.stride[2]*A|0:(E.push(this.shape[2]),b.push(this.stride[2])),typeof o=="number"&&o>=0?I=I+this.stride[3]*o|0:(E.push(this.shape[3]),b.push(this.stride[3]));var D=a[E.length+1];return D(this.data,E,b,I)},function(y,M,A,o){return new x(y,M[0],M[1],M[2],M[3],A[0],A[1],A[2],A[3],o)}},5:function(a,d,x){function w(y,M,A,o,E,b,I,D,N,k,O,F){this.data=y,this.shape=[M,A,o,E,b],this.stride=[I,D,N,k,O],this.offset=F|0}var C=w.prototype;return C.dtype=a,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:x}),C.set=function(M,A,o,E,b,I){return a==="generic"?this.data.set(this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*o+this.stride[3]*E+this.stride[4]*b,I):this.data[this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*o+this.stride[3]*E+this.stride[4]*b]=I},C.get=function(M,A,o,E,b){return a==="generic"?this.data.get(this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*o+this.stride[3]*E+this.stride[4]*b):this.data[this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*o+this.stride[3]*E+this.stride[4]*b]},C.index=function(M,A,o,E,b){return this.offset+this.stride[0]*M+this.stride[1]*A+this.stride[2]*o+this.stride[3]*E+this.stride[4]*b},C.hi=function(M,A,o,E,b){return new w(this.data,typeof M!="number"||M<0?this.shape[0]:M|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof o!="number"||o<0?this.shape[2]:o|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(M,A,o,E,b){var I=this.offset,D=0,N=this.shape[0],k=this.shape[1],O=this.shape[2],F=this.shape[3],z=this.shape[4],B=this.stride[0],W=this.stride[1],J=this.stride[2],re=this.stride[3],ne=this.stride[4];return typeof M=="number"&&M>=0&&(D=M|0,I+=B*D,N-=D),typeof A=="number"&&A>=0&&(D=A|0,I+=W*D,k-=D),typeof o=="number"&&o>=0&&(D=o|0,I+=J*D,O-=D),typeof E=="number"&&E>=0&&(D=E|0,I+=re*D,F-=D),typeof b=="number"&&b>=0&&(D=b|0,I+=ne*D,z-=D),new w(this.data,N,k,O,F,z,B,W,J,re,ne,I)},C.step=function(M,A,o,E,b){var I=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.shape[4],F=this.stride[0],z=this.stride[1],B=this.stride[2],W=this.stride[3],J=this.stride[4],re=this.offset,ne=0,le=Math.ceil;return typeof M=="number"&&(ne=M|0,ne<0?(re+=F*(I-1),I=le(-I/ne)):I=le(I/ne),F*=ne),typeof A=="number"&&(ne=A|0,ne<0?(re+=z*(D-1),D=le(-D/ne)):D=le(D/ne),z*=ne),typeof o=="number"&&(ne=o|0,ne<0?(re+=B*(N-1),N=le(-N/ne)):N=le(N/ne),B*=ne),typeof E=="number"&&(ne=E|0,ne<0?(re+=W*(k-1),k=le(-k/ne)):k=le(k/ne),W*=ne),typeof b=="number"&&(ne=b|0,ne<0?(re+=J*(O-1),O=le(-O/ne)):O=le(O/ne),J*=ne),new w(this.data,I,D,N,k,O,F,z,B,W,J,re)},C.transpose=function(M,A,o,E,b){M=M===void 0?0:M|0,A=A===void 0?1:A|0,o=o===void 0?2:o|0,E=E===void 0?3:E|0,b=b===void 0?4:b|0;var I=this.shape,D=this.stride;return new w(this.data,I[M],I[A],I[o],I[E],I[b],D[M],D[A],D[o],D[E],D[b],this.offset)},C.pick=function(M,A,o,E,b){var I=[],D=[],N=this.offset;typeof M=="number"&&M>=0?N=N+this.stride[0]*M|0:(I.push(this.shape[0]),D.push(this.stride[0])),typeof A=="number"&&A>=0?N=N+this.stride[1]*A|0:(I.push(this.shape[1]),D.push(this.stride[1])),typeof o=="number"&&o>=0?N=N+this.stride[2]*o|0:(I.push(this.shape[2]),D.push(this.stride[2])),typeof E=="number"&&E>=0?N=N+this.stride[3]*E|0:(I.push(this.shape[3]),D.push(this.stride[3])),typeof b=="number"&&b>=0?N=N+this.stride[4]*b|0:(I.push(this.shape[4]),D.push(this.stride[4]));var k=d[I.length+1];return k(this.data,I,D,N)},function(M,A,o,E){return new w(M,A[0],A[1],A[2],A[3],A[4],o[0],o[1],o[2],o[3],o[4],E)}}};function l(c,a){var d=a===-1?"T":String(a),x=u[d];return a===-1?x(c):a===0?x(c,h[c][0]):x(c,h[c],f)}function g(c){if(t(c))return"buffer";if(i)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(c,a,d,x){if(c===void 0){var o=h.array[0];return o([])}else typeof c=="number"&&(c=[c]);a===void 0&&(a=[c.length]);var w=a.length;if(d===void 0){d=new Array(w);for(var C=w-1,y=1;C>=0;--C)d[C]=y,y*=a[C]}if(x===void 0){x=0;for(var C=0;C<w;++C)d[C]<0&&(x-=(a[C]-1)*d[C])}for(var M=g(c),A=h[M];A.length<=w+1;)A.push(l(M,A.length-1));var o=A[w+1];return o(c,a,d,x)}v.exports=T},1278:function(v,p,r){var t=r(2361),i=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-i:i;var g=t.hi(u),h=t.lo(u);return l>u==u>0?h===n?(g+=1,h=0):h+=1:h===0?(h=n,g-=1):h-=1,t.pack(h,g)}},8406:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(i,n,f){for(var u=n.length,l=new Array(u),g=f===void 0?r:f,h=0;h<u;++h)l[h]=[0,0,0];for(var h=0;h<i.length;++h)for(var T=i[h],c=0,a=T[T.length-1],d=T[0],x=0;x<T.length;++x){c=a,a=d,d=T[(x+1)%T.length];for(var w=n[c],C=n[a],y=n[d],M=new Array(3),A=0,o=new Array(3),E=0,b=0;b<3;++b)M[b]=w[b]-C[b],A+=M[b]*M[b],o[b]=y[b]-C[b],E+=o[b]*o[b];if(A*E>g)for(var I=l[a],D=1/Math.sqrt(A*E),b=0;b<3;++b){var N=(b+1)%3,k=(b+2)%3;I[b]+=D*(o[N]*M[k]-o[k]*M[N])}}for(var h=0;h<u;++h){for(var I=l[h],O=0,b=0;b<3;++b)O+=I[b]*I[b];if(O>g)for(var D=1/Math.sqrt(O),b=0;b<3;++b)I[b]*=D;else for(var b=0;b<3;++b)I[b]=0}return l},p.faceNormals=function(i,n,f){for(var u=i.length,l=new Array(u),g=f===void 0?t:f,h=0;h<u;++h){for(var T=i[h],c=new Array(3),a=0;a<3;++a)c[a]=n[T[a]];for(var d=new Array(3),x=new Array(3),a=0;a<3;++a)d[a]=c[1][a]-c[0][a],x[a]=c[2][a]-c[0][a];for(var w=new Array(3),C=0,a=0;a<3;++a){var y=(a+1)%3,M=(a+2)%3;w[a]=d[y]*x[M]-d[M]*x[y],C+=w[a]*w[a]}C>g?C=1/Math.sqrt(C):C=0;for(var a=0;a<3;++a)w[a]*=C;l[h]=w}return l}},4081:function(v){v.exports=p;function p(r,t,i,n,f,u,l,g,h,T){var c=t+u+T;if(a>0){var a=Math.sqrt(c+1);r[0]=.5*(l-h)/a,r[1]=.5*(g-n)/a,r[2]=.5*(i-u)/a,r[3]=.5*a}else{var d=Math.max(t,u,T),a=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*a,r[1]=.5*(f+i)/a,r[2]=.5*(g+n)/a,r[3]=.5*(l-h)/a):u>=d?(r[0]=.5*(i+f)/a,r[1]=.5*a,r[2]=.5*(h+l)/a,r[3]=.5*(g-n)/a):(r[0]=.5*(n+g)/a,r[1]=.5*(l+h)/a,r[2]=.5*a,r[3]=.5*(i-f)/a)}return r}},9977:function(v,p,r){v.exports=a;var t=r(9215),i=r(6582),n=r(7399),f=r(7608),u=r(4081);function l(d,x,w){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2))}function g(d,x,w,C){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2)+Math.pow(C,2))}function h(d,x){var w=x[0],C=x[1],y=x[2],M=x[3],A=g(w,C,y,M);A>1e-6?(d[0]=w/A,d[1]=C/A,d[2]=y/A,d[3]=M/A):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,x,w){this.radius=t([w]),this.center=t(x),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=T.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;h(x,x);var w=this.computedMatrix;n(w,x);var C=this.computedCenter,y=this.computedEye,M=this.computedUp,A=Math.exp(this.computedRadius[0]);y[0]=C[0]+A*w[2],y[1]=C[1]+A*w[6],y[2]=C[2]+A*w[10],M[0]=w[1],M[1]=w[5],M[2]=w[9];for(var o=0;o<3;++o){for(var E=0,b=0;b<3;++b)E+=w[o+4*b]*y[b];w[12+o]=-E}},c.getMatrix=function(d,x){this.recalcMatrix(d);var w=this.computedMatrix;if(x){for(var C=0;C<16;++C)x[C]=w[C];return x}return w},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,x,w,C){x=x||0,w=w||0,C=C||0,this.recalcMatrix(d);var y=this.computedMatrix,M=y[1],A=y[5],o=y[9],E=l(M,A,o);M/=E,A/=E,o/=E;var b=y[0],I=y[4],D=y[8],N=b*M+I*A+D*o;b-=M*N,I-=A*N,D-=o*N;var k=l(b,I,D);b/=k,I/=k,D/=k,y[2],y[6],y[10];var O=b*x+M*w,F=I*x+A*w,z=D*x+o*w;this.center.move(d,O,F,z);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+C),this.radius.set(d,Math.log(B))},c.rotate=function(d,x,w,C){this.recalcMatrix(d),x=x||0,w=w||0;var y=this.computedMatrix,M=y[0],A=y[4],o=y[8],E=y[1],b=y[5],I=y[9],D=y[2],N=y[6],k=y[10],O=x*M+w*E,F=x*A+w*b,z=x*o+w*I,B=-(N*z-k*F),W=-(k*O-D*z),J=-(D*F-N*O),re=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(W,2)-Math.pow(J,2))),ne=g(B,W,J,re);ne>1e-6?(B/=ne,W/=ne,J/=ne,re/=ne):(B=W=J=0,re=1);var le=this.computedRotation,$=le[0],K=le[1],ie=le[2],Y=le[3],Q=$*re+Y*B+K*J-ie*W,oe=K*re+Y*W+ie*B-$*J,X=ie*re+Y*J+$*W-K*B,j=Y*re-$*B-K*W-ie*J;if(C){B=D,W=N,J=k;var se=Math.sin(C)/l(B,W,J);B*=se,W*=se,J*=se,re=Math.cos(x),Q=Q*re+j*B+oe*J-X*W,oe=oe*re+j*W+X*B-Q*J,X=X*re+j*J+Q*W-oe*B,j=j*re-Q*B-oe*W-X*J}var te=g(Q,oe,X,j);te>1e-6?(Q/=te,oe/=te,X/=te,j/=te):(Q=oe=X=0,j=1),this.rotation.set(d,Q,oe,X,j)},c.lookAt=function(d,x,w,C){this.recalcMatrix(d),w=w||this.computedCenter,x=x||this.computedEye,C=C||this.computedUp;var y=this.computedMatrix;i(y,x,w,C);var M=this.computedRotation;u(M,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);for(var A=0,o=0;o<3;++o)A+=Math.pow(w[o]-x[o],2);this.radius.set(d,.5*Math.log(Math.max(A,1e-6))),this.center.set(d,w[0],w[1],w[2])},c.translate=function(d,x,w,C){this.center.move(d,x||0,w||0,C||0)},c.setMatrix=function(d,x){var w=this.computedRotation;u(w,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var C=this.computedMatrix;f(C,x);var y=C[15];if(Math.abs(y)>1e-6){var M=C[12]/y,A=C[13]/y,o=C[14]/y;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,M-C[2]*E,A-C[6]*E,o-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},c.setDistanceLimits=function(d,x){d>0?d=Math.log(d):d=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var x=this.lastT(),w=d.center;w&&this.center.set(x,w[0],w[1],w[2]);var C=d.rotation;C&&this.rotation.set(x,C[0],C[1],C[2],C[3]);var y=d.distance;y&&y>0&&this.radius.set(x,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function a(d){d=d||{};var x=d.center||[0,0,0],w=d.rotation||[0,0,0,1],C=d.radius||1;x=[].slice.call(x,0,3),w=[].slice.call(w,0,4),h(w,w);var y=new T(w,x,Math.log(C));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},1371:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,f,u){return u=typeof u<"u"?u+"":" ",t(u,f)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,p,r){v.exports=i;var t=r(3140);function i(n,f){for(var u=f.length|0,l=n.length,g=[new Array(u),new Array(u)],h=0;h<u;++h)g[0][h]=[],g[1][h]=[];for(var h=0;h<l;++h){var T=n[h];g[0][T[0]].push(T),g[1][T[1]].push(T)}for(var c=[],h=0;h<u;++h)g[0][h].length+g[1][h].length===0&&c.push([h]);function a(A,o){var E=g[o][A[o]];E.splice(E.indexOf(A),1)}function d(A,o,E){for(var b,I,D,N=0;N<2;++N)if(g[N][o].length>0){b=g[N][o][0],D=N;break}I=b[D^1];for(var k=0;k<2;++k)for(var O=g[k][o],F=0;F<O.length;++F){var z=O[F],B=z[k^1],W=t(f[A],f[o],f[I],f[B]);W>0&&(b=z,I=B,D=k)}return E||b&&a(b,D),I}function x(A,o){var E=g[o][A][0],b=[A];a(E,o);for(var I=E[o^1];;){for(;I!==A;)b.push(I),I=d(b[b.length-2],I,!1);if(g[0][A].length+g[1][A].length===0)break;var D=b[b.length-1],N=A,k=b[1],O=d(D,N,!0);if(t(f[D],f[N],f[k],f[O])<0)break;b.push(A),I=d(D,N)}return b}function w(A,o){return o[1]===o[o.length-1]}for(var h=0;h<u;++h)for(var C=0;C<2;++C){for(var y=[];g[C][h].length>0;){g[0][h].length;var M=x(h,C);w(y,M)?y.push.apply(y,M):(y.length>0&&c.push(y),y=M)}y.length>0&&c.push(y)}return c}},5609:function(v,p,r){v.exports=i;var t=r(3134);function i(n,f){for(var u=t(n,f.length),l=new Array(f.length),g=new Array(f.length),h=[],T=0;T<f.length;++T){var c=u[T].length;g[T]=c,l[T]=!0,c<=1&&h.push(T)}for(;h.length>0;){var a=h.pop();l[a]=!1;for(var d=u[a],T=0;T<d.length;++T){var x=d[T];--g[x]===0&&h.push(x)}}for(var w=new Array(f.length),C=[],T=0;T<f.length;++T)if(l[T]){var a=C.length;w[T]=a,C.push(f[T])}else w[T]=-1;for(var y=[],T=0;T<n.length;++T){var M=n[T];l[M[0]]&&l[M[1]]&&y.push([w[M[0]],w[M[1]]])}return[y,C]}},2095:function(v,p,r){v.exports=c;var t=r(3134),i=r(3088),n=r(5085),f=r(5250),u=r(8210),l=r(1682),g=r(5609);function h(a,d){for(var x=new Array(a),w=0;w<a;++w)x[w]=d;return x}function T(a){for(var d=new Array(a),x=0;x<a;++x)d[x]=[];return d}function c(a,d){var j=g(a,d);a=j[0],d=j[1];var x=d.length;a.length;for(var w=t(a,d.length),C=0;C<x;++C)if(w[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=i(a,d);function M(_e){for(var De=_e.length,Fe=[0],Te=0;Te<De;++Te){var Re=d[_e[Te]],Se=d[_e[(Te+1)%De]],Ie=f(-Re[0],Re[1]),Me=f(-Re[0],Se[1]),Ve=f(Se[0],Re[1]),et=f(Se[0],Se[1]);Fe=u(Fe,u(u(Ie,Me),u(Ve,et)))}return Fe[Fe.length-1]>0}y=y.filter(M);for(var A=y.length,o=new Array(A),E=new Array(A),C=0;C<A;++C){o[C]=C;var b=new Array(A),I=y[C].map(function(De){return d[De]}),D=n([I]),N=0;e:for(var k=0;k<A;++k)if(b[k]=0,C!==k){for(var O=y[k],F=O.length,z=0;z<F;++z){var B=D(d[O[z]]);if(B!==0){B<0&&(b[k]=1,N+=1);continue e}}b[k]=1,N+=1}E[C]=[N,C,b]}E.sort(function(_e,De){return De[0]-_e[0]});for(var C=0;C<A;++C)for(var b=E[C],W=b[1],J=b[2],k=0;k<A;++k)J[k]&&(o[k]=W);for(var re=T(A),C=0;C<A;++C)re[C].push(o[C]),re[o[C]].push(C);for(var ne={},le=h(x,!1),C=0;C<A;++C)for(var O=y[C],F=O.length,k=0;k<F;++k){var $=O[k],K=O[(k+1)%F],ie=Math.min($,K)+":"+Math.max($,K);if(ie in ne){var Y=ne[ie];re[Y].push(C),re[C].push(Y),le[$]=le[K]=!0}else ne[ie]=C}function Q(_e){for(var De=_e.length,Fe=0;Fe<De;++Fe)if(!le[_e[Fe]])return!1;return!0}for(var oe=[],X=h(A,-1),C=0;C<A;++C)o[C]===C&&!Q(y[C])?(oe.push(C),X[C]=0):X[C]=-1;for(var j=[];oe.length>0;){var se=oe.pop(),te=re[se];l(te,function(_e,De){return _e-De});var fe=te.length,ge=X[se],be;if(ge===0){var O=y[se];be=[O]}for(var C=0;C<fe;++C){var xe=te[C];if(!(X[xe]>=0)&&(X[xe]=ge^1,oe.push(xe),ge===0)){var O=y[xe];Q(O)||(O.reverse(),be.push(O))}}ge===0&&j.push(be)}return j}},5085:function(v,p,r){v.exports=d;var t=r(3250)[3],i=r(4209),n=r(3352),f=r(2478);function u(){return!0}function l(x){return function(w,C){var y=x[w];return y?!!y.queryPoint(C,u):!1}}function g(x){for(var w={},C=0;C<x.length;++C){var y=x[C],M=y[0][0],A=y[0][1],o=y[1][1],E=[Math.min(A,o),Math.max(A,o)];M in w?w[M].push(E):w[M]=[E]}for(var b={},I=Object.keys(w),C=0;C<I.length;++C){var D=w[I[C]];b[I[C]]=n(D)}return l(b)}function h(x,w){return function(C){var y=f.le(w,C[0]);if(y<0)return 1;var M=x[y];if(!M)if(y>0&&w[y]===C[0])M=x[y-1];else return 1;for(var A=1;M;){var o=M.key,E=t(C,o[0],o[1]);if(o[0][0]<o[1][0])if(E<0)M=M.left;else if(E>0)A=-1,M=M.right;else return 0;else if(E>0)M=M.left;else if(E<0)A=1,M=M.right;else return 0}return A}}function T(x){return 1}function c(x){return function(C){return x(C[0],C[1])?0:1}}function a(x,w){return function(y){return x(y[0],y[1])?0:w(y)}}function d(x){for(var w=x.length,C=[],y=[],M=0;M<w;++M)for(var A=x[M],o=A.length,E=o-1,b=0;b<o;E=b++){var I=A[E],D=A[b];I[0]===D[0]?y.push([I,D]):C.push([I,D])}if(C.length===0)return y.length===0?T:c(g(y));var N=i(C),k=h(N.slabs,N.coordinates);return y.length===0?k:a(g(y),k)}},9346:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(n,f,u,l,g){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)p[h]=n[h]-l[h],r[h]=f[h]-n[h],t[h]=u[h]-n[h];for(var T=0,c=0,a=0,d=0,x=0,w=0,h=0;h<l.length;++h){var C=r[h],y=t[h],M=p[h];T+=C*C,c+=C*y,a+=y*y,d+=M*C,x+=M*y,w+=M*M}var A=Math.abs(T*a-c*c),o=c*x-a*d,E=c*d-T*x,b;if(o+E<=A)if(o<0)E<0&&d<0?(E=0,-d>=T?(o=1,b=T+2*d+w):(o=-d/T,b=d*o+w)):(o=0,x>=0?(E=0,b=w):-x>=a?(E=1,b=a+2*x+w):(E=-x/a,b=x*E+w));else if(E<0)E=0,d>=0?(o=0,b=w):-d>=T?(o=1,b=T+2*d+w):(o=-d/T,b=d*o+w);else{var I=1/A;o*=I,E*=I,b=o*(T*o+c*E+2*d)+E*(c*o+a*E+2*x)+w}else{var D,N,k,O;o<0?(D=c+d,N=a+x,N>D?(k=N-D,O=T-2*c+a,k>=O?(o=1,E=0,b=T+2*d+w):(o=k/O,E=1-o,b=o*(T*o+c*E+2*d)+E*(c*o+a*E+2*x)+w)):(o=0,N<=0?(E=1,b=a+2*x+w):x>=0?(E=0,b=w):(E=-x/a,b=x*E+w))):E<0?(D=c+x,N=T+d,N>D?(k=N-D,O=T-2*c+a,k>=O?(E=1,o=0,b=a+2*x+w):(E=k/O,o=1-E,b=o*(T*o+c*E+2*d)+E*(c*o+a*E+2*x)+w)):(E=0,N<=0?(o=1,b=T+2*d+w):d>=0?(o=0,b=w):(o=-d/T,b=d*o+w))):(k=a+x-c-d,k<=0?(o=0,E=1,b=a+2*x+w):(O=T-2*c+a,k>=O?(o=1,E=0,b=T+2*d+w):(o=k/O,E=1-o,b=o*(T*o+c*E+2*d)+E*(c*o+a*E+2*x)+w)))}for(var F=1-o-E,h=0;h<l.length;++h)g[h]=F*n[h]+o*f[h]+E*u[h];return b<0?0:b}v.exports=i},8648:function(v,p,r){v.exports=r(783)},2653:function(v,p,r){var t=r(3865);v.exports=i;function i(n,f){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],f[g]);return l}},5838:function(v,p,r){v.exports=i;var t=r(7842);function i(n){for(var f=new Array(n.length),u=0;u<n.length;++u)f[u]=t(n[u]);return f}},8987:function(v,p,r){var t=r(7842),i=r(6504);v.exports=n;function n(f,u){for(var l=t(u),g=f.length,h=new Array(g),T=0;T<g;++T)h[T]=i(f[T],l);return h}},544:function(v,p,r){var t=r(5572);v.exports=i;function i(n,f){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],f[g]);return l}},5771:function(v,p,r){var t=r(8507),i=r(3788),n=r(2419);v.exports=f;function f(u){u.sort(i);for(var l=u.length,g=0,h=0;h<l;++h){var T=u[h],c=n(T);if(c!==0){if(g>0){var a=u[g-1];if(t(T,a)===0&&n(a)!==c){g-=1;continue}}u[g++]=T}}return u.length=g,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var f=i.length*n;if(r!==i||typeof r>"u")r=i,p="";else if(p.length>=f)return p.substr(0,f);for(;f>p.length&&n>1;)n&1&&(p+=i),n>>=1,i+=i;return p+=i,p=p.substr(0,f),p}},3025:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=p;function p(r){for(var t=r.length,i=r[r.length-1],n=t,f=t-2;f>=0;--f){var u=i,l=r[f];i=u+l;var g=i-u,h=l-g;h&&(r[--n]=i,i=h)}for(var T=0,f=n;f<t;++f){var u=r[f],l=i;i=u+l;var g=i-u,h=l-g;h&&(r[T++]=h)}return r[T++]=i,r.length=T,r}},2962:function(v,p,r){var t=r(5250),i=r(8210),n=r(3012),f=r(7004),u=6;function l(w,C,y,M){return function(o){return M(w(y(o[0][0],o[1][1]),y(-o[0][1],o[1][0])))}}function g(w,C,y,M){return function(o){return M(w(C(w(y(o[1][1],o[2][2]),y(-o[1][2],o[2][1])),o[0][0]),w(C(w(y(o[1][0],o[2][2]),y(-o[1][2],o[2][0])),-o[0][1]),C(w(y(o[1][0],o[2][1]),y(-o[1][1],o[2][0])),o[0][2]))))}}function h(w,C,y,M){return function(o){return M(w(w(C(w(C(w(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][1]),w(C(w(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),-o[1][2]),C(w(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][3]))),o[0][0]),C(w(C(w(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][0]),w(C(w(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][2]),C(w(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),o[1][3]))),-o[0][1])),w(C(w(C(w(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),o[1][0]),w(C(w(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][1]),C(w(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][3]))),o[0][2]),C(w(C(w(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][0]),w(C(w(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),-o[1][1]),C(w(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][2]))),-o[0][3]))))}}function T(w,C,y,M){return function(o){return M(w(w(C(w(w(C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][1]),C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),-o[1][2])),w(C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][3]),C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),-o[1][4]))),o[0][0]),C(w(w(C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][0]),C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][2])),w(C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),o[1][3]),C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][4]))),-o[0][1])),w(C(w(w(C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),o[1][0]),C(w(C(w(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][1])),w(C(w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][3]),C(w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),-o[1][4]))),o[0][2]),w(C(w(w(C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][0]),C(w(C(w(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),-o[1][1])),w(C(w(C(w(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][2]),C(w(C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][4]))),-o[0][3]),C(w(w(C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),o[1][0]),C(w(C(w(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][1])),w(C(w(C(w(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),o[1][2]),C(w(C(w(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),w(C(w(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),C(w(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][3]))),o[0][4])))))}}function c(w){var C=w===2?l:w===3?g:w===4?h:w===5?T:void 0;return C(i,n,t,f)}var a=[function(){return[0]},function(C){return[C[0][0]]}];function d(w,C,y,M,A,o,E,b){return function(D){switch(D.length){case 0:return w(D);case 1:return C(D);case 2:return y(D);case 3:return M(D);case 4:return A(D);case 5:return o(D)}var N=E[D.length];return N||(N=E[D.length]=b(D.length)),N(D)}}function x(){for(;a.length<u;)a.push(c(a.length));v.exports=d.apply(void 0,a.concat([a,c]));for(var w=0;w<a.length;++w)v.exports[w]=a[w]}x()},1944:function(v,p,r){var t=r(5250),i=r(8210);v.exports=n;function n(f,u){for(var l=t(f[0],u[0]),g=1;g<f.length;++g)l=i(l,t(f[g],u[g]));return l}},2646:function(v,p,r){var t=r(5250),i=r(8210),n=r(8545),f=r(3012),u=6;function l(A){var o=A===3?c:A===4?a:A===5?d:x;return o(i,n,t,f)}function g(){return 0}function h(){return 0}function T(){return 0}function c(A,o,E,b){function I(D,N,k){var O=E(D[0],D[0]),F=b(O,N[0]),z=b(O,k[0]),B=E(N[0],N[0]),W=b(B,D[0]),J=b(B,k[0]),re=E(k[0],k[0]),ne=b(re,D[0]),le=b(re,N[0]),$=A(o(le,J),o(W,F)),K=o(ne,z),ie=o($,K);return ie[ie.length-1]}return I}function a(A,o,E,b){function I(D,N,k,O){var F=A(E(D[0],D[0]),E(D[1],D[1])),z=b(F,N[0]),B=b(F,k[0]),W=b(F,O[0]),J=A(E(N[0],N[0]),E(N[1],N[1])),re=b(J,D[0]),ne=b(J,k[0]),le=b(J,O[0]),$=A(E(k[0],k[0]),E(k[1],k[1])),K=b($,D[0]),ie=b($,N[0]),Y=b($,O[0]),Q=A(E(O[0],O[0]),E(O[1],O[1])),oe=b(Q,D[0]),X=b(Q,N[0]),j=b(Q,k[0]),se=A(A(b(o(j,Y),N[1]),A(b(o(X,le),-k[1]),b(o(ie,ne),O[1]))),A(b(o(X,le),D[1]),A(b(o(oe,W),-N[1]),b(o(re,z),O[1])))),te=A(A(b(o(j,Y),D[1]),A(b(o(oe,W),-k[1]),b(o(K,B),O[1]))),A(b(o(ie,ne),D[1]),A(b(o(K,B),-N[1]),b(o(re,z),k[1])))),fe=o(se,te);return fe[fe.length-1]}return I}function d(A,o,E,b){function I(D,N,k,O,F){var z=A(E(D[0],D[0]),A(E(D[1],D[1]),E(D[2],D[2]))),B=b(z,N[0]),W=b(z,k[0]),J=b(z,O[0]),re=b(z,F[0]),ne=A(E(N[0],N[0]),A(E(N[1],N[1]),E(N[2],N[2]))),le=b(ne,D[0]),$=b(ne,k[0]),K=b(ne,O[0]),ie=b(ne,F[0]),Y=A(E(k[0],k[0]),A(E(k[1],k[1]),E(k[2],k[2]))),Q=b(Y,D[0]),oe=b(Y,N[0]),X=b(Y,O[0]),j=b(Y,F[0]),se=A(E(O[0],O[0]),A(E(O[1],O[1]),E(O[2],O[2]))),te=b(se,D[0]),fe=b(se,N[0]),ge=b(se,k[0]),be=b(se,F[0]),xe=A(E(F[0],F[0]),A(E(F[1],F[1]),E(F[2],F[2]))),_e=b(xe,D[0]),De=b(xe,N[0]),Fe=b(xe,k[0]),Te=b(xe,O[0]),Re=A(A(A(b(A(b(o(Te,be),k[1]),A(b(o(Fe,j),-O[1]),b(o(ge,X),F[1]))),N[2]),A(b(A(b(o(Te,be),N[1]),A(b(o(De,ie),-O[1]),b(o(fe,K),F[1]))),-k[2]),b(A(b(o(Fe,j),N[1]),A(b(o(De,ie),-k[1]),b(o(oe,$),F[1]))),O[2]))),A(b(A(b(o(ge,X),N[1]),A(b(o(fe,K),-k[1]),b(o(oe,$),O[1]))),-F[2]),A(b(A(b(o(Te,be),N[1]),A(b(o(De,ie),-O[1]),b(o(fe,K),F[1]))),D[2]),b(A(b(o(Te,be),D[1]),A(b(o(_e,re),-O[1]),b(o(te,J),F[1]))),-N[2])))),A(A(b(A(b(o(De,ie),D[1]),A(b(o(_e,re),-N[1]),b(o(le,B),F[1]))),O[2]),A(b(A(b(o(fe,K),D[1]),A(b(o(te,J),-N[1]),b(o(le,B),O[1]))),-F[2]),b(A(b(o(ge,X),N[1]),A(b(o(fe,K),-k[1]),b(o(oe,$),O[1]))),D[2]))),A(b(A(b(o(ge,X),D[1]),A(b(o(te,J),-k[1]),b(o(Q,W),O[1]))),-N[2]),A(b(A(b(o(fe,K),D[1]),A(b(o(te,J),-N[1]),b(o(le,B),O[1]))),k[2]),b(A(b(o(oe,$),D[1]),A(b(o(Q,W),-N[1]),b(o(le,B),k[1]))),-O[2]))))),Se=A(A(A(b(A(b(o(Te,be),k[1]),A(b(o(Fe,j),-O[1]),b(o(ge,X),F[1]))),D[2]),b(A(b(o(Te,be),D[1]),A(b(o(_e,re),-O[1]),b(o(te,J),F[1]))),-k[2])),A(b(A(b(o(Fe,j),D[1]),A(b(o(_e,re),-k[1]),b(o(Q,W),F[1]))),O[2]),b(A(b(o(ge,X),D[1]),A(b(o(te,J),-k[1]),b(o(Q,W),O[1]))),-F[2]))),A(A(b(A(b(o(Fe,j),N[1]),A(b(o(De,ie),-k[1]),b(o(oe,$),F[1]))),D[2]),b(A(b(o(Fe,j),D[1]),A(b(o(_e,re),-k[1]),b(o(Q,W),F[1]))),-N[2])),A(b(A(b(o(De,ie),D[1]),A(b(o(_e,re),-N[1]),b(o(le,B),F[1]))),k[2]),b(A(b(o(oe,$),D[1]),A(b(o(Q,W),-N[1]),b(o(le,B),k[1]))),-F[2])))),Ie=o(Re,Se);return Ie[Ie.length-1]}return I}function x(A,o,E,b){function I(D,N,k,O,F,z){var B=A(A(E(D[0],D[0]),E(D[1],D[1])),A(E(D[2],D[2]),E(D[3],D[3]))),W=b(B,N[0]),J=b(B,k[0]),re=b(B,O[0]),ne=b(B,F[0]),le=b(B,z[0]),$=A(A(E(N[0],N[0]),E(N[1],N[1])),A(E(N[2],N[2]),E(N[3],N[3]))),K=b($,D[0]),ie=b($,k[0]),Y=b($,O[0]),Q=b($,F[0]),oe=b($,z[0]),X=A(A(E(k[0],k[0]),E(k[1],k[1])),A(E(k[2],k[2]),E(k[3],k[3]))),j=b(X,D[0]),se=b(X,N[0]),te=b(X,O[0]),fe=b(X,F[0]),ge=b(X,z[0]),be=A(A(E(O[0],O[0]),E(O[1],O[1])),A(E(O[2],O[2]),E(O[3],O[3]))),xe=b(be,D[0]),_e=b(be,N[0]),De=b(be,k[0]),Fe=b(be,F[0]),Te=b(be,z[0]),Re=A(A(E(F[0],F[0]),E(F[1],F[1])),A(E(F[2],F[2]),E(F[3],F[3]))),Se=b(Re,D[0]),Ie=b(Re,N[0]),Me=b(Re,k[0]),Ve=b(Re,O[0]),et=b(Re,z[0]),it=A(A(E(z[0],z[0]),E(z[1],z[1])),A(E(z[2],z[2]),E(z[3],z[3]))),Je=b(it,D[0]),Qe=b(it,N[0]),ct=b(it,k[0]),ht=b(it,O[0]),gt=b(it,F[0]),Tt=A(A(A(b(A(A(b(A(b(o(gt,et),O[1]),A(b(o(ht,Te),-F[1]),b(o(Ve,Fe),z[1]))),k[2]),b(A(b(o(gt,et),k[1]),A(b(o(ct,ge),-F[1]),b(o(Me,fe),z[1]))),-O[2])),A(b(A(b(o(ht,Te),k[1]),A(b(o(ct,ge),-O[1]),b(o(De,te),z[1]))),F[2]),b(A(b(o(Ve,Fe),k[1]),A(b(o(Me,fe),-O[1]),b(o(De,te),F[1]))),-z[2]))),N[3]),A(b(A(A(b(A(b(o(gt,et),O[1]),A(b(o(ht,Te),-F[1]),b(o(Ve,Fe),z[1]))),N[2]),b(A(b(o(gt,et),N[1]),A(b(o(Qe,oe),-F[1]),b(o(Ie,Q),z[1]))),-O[2])),A(b(A(b(o(ht,Te),N[1]),A(b(o(Qe,oe),-O[1]),b(o(_e,Y),z[1]))),F[2]),b(A(b(o(Ve,Fe),N[1]),A(b(o(Ie,Q),-O[1]),b(o(_e,Y),F[1]))),-z[2]))),-k[3]),b(A(A(b(A(b(o(gt,et),k[1]),A(b(o(ct,ge),-F[1]),b(o(Me,fe),z[1]))),N[2]),b(A(b(o(gt,et),N[1]),A(b(o(Qe,oe),-F[1]),b(o(Ie,Q),z[1]))),-k[2])),A(b(A(b(o(ct,ge),N[1]),A(b(o(Qe,oe),-k[1]),b(o(se,ie),z[1]))),F[2]),b(A(b(o(Me,fe),N[1]),A(b(o(Ie,Q),-k[1]),b(o(se,ie),F[1]))),-z[2]))),O[3]))),A(A(b(A(A(b(A(b(o(ht,Te),k[1]),A(b(o(ct,ge),-O[1]),b(o(De,te),z[1]))),N[2]),b(A(b(o(ht,Te),N[1]),A(b(o(Qe,oe),-O[1]),b(o(_e,Y),z[1]))),-k[2])),A(b(A(b(o(ct,ge),N[1]),A(b(o(Qe,oe),-k[1]),b(o(se,ie),z[1]))),O[2]),b(A(b(o(De,te),N[1]),A(b(o(_e,Y),-k[1]),b(o(se,ie),O[1]))),-z[2]))),-F[3]),b(A(A(b(A(b(o(Ve,Fe),k[1]),A(b(o(Me,fe),-O[1]),b(o(De,te),F[1]))),N[2]),b(A(b(o(Ve,Fe),N[1]),A(b(o(Ie,Q),-O[1]),b(o(_e,Y),F[1]))),-k[2])),A(b(A(b(o(Me,fe),N[1]),A(b(o(Ie,Q),-k[1]),b(o(se,ie),F[1]))),O[2]),b(A(b(o(De,te),N[1]),A(b(o(_e,Y),-k[1]),b(o(se,ie),O[1]))),-F[2]))),z[3])),A(b(A(A(b(A(b(o(gt,et),O[1]),A(b(o(ht,Te),-F[1]),b(o(Ve,Fe),z[1]))),N[2]),b(A(b(o(gt,et),N[1]),A(b(o(Qe,oe),-F[1]),b(o(Ie,Q),z[1]))),-O[2])),A(b(A(b(o(ht,Te),N[1]),A(b(o(Qe,oe),-O[1]),b(o(_e,Y),z[1]))),F[2]),b(A(b(o(Ve,Fe),N[1]),A(b(o(Ie,Q),-O[1]),b(o(_e,Y),F[1]))),-z[2]))),D[3]),b(A(A(b(A(b(o(gt,et),O[1]),A(b(o(ht,Te),-F[1]),b(o(Ve,Fe),z[1]))),D[2]),b(A(b(o(gt,et),D[1]),A(b(o(Je,le),-F[1]),b(o(Se,ne),z[1]))),-O[2])),A(b(A(b(o(ht,Te),D[1]),A(b(o(Je,le),-O[1]),b(o(xe,re),z[1]))),F[2]),b(A(b(o(Ve,Fe),D[1]),A(b(o(Se,ne),-O[1]),b(o(xe,re),F[1]))),-z[2]))),-N[3])))),A(A(A(b(A(A(b(A(b(o(gt,et),N[1]),A(b(o(Qe,oe),-F[1]),b(o(Ie,Q),z[1]))),D[2]),b(A(b(o(gt,et),D[1]),A(b(o(Je,le),-F[1]),b(o(Se,ne),z[1]))),-N[2])),A(b(A(b(o(Qe,oe),D[1]),A(b(o(Je,le),-N[1]),b(o(K,W),z[1]))),F[2]),b(A(b(o(Ie,Q),D[1]),A(b(o(Se,ne),-N[1]),b(o(K,W),F[1]))),-z[2]))),O[3]),b(A(A(b(A(b(o(ht,Te),N[1]),A(b(o(Qe,oe),-O[1]),b(o(_e,Y),z[1]))),D[2]),b(A(b(o(ht,Te),D[1]),A(b(o(Je,le),-O[1]),b(o(xe,re),z[1]))),-N[2])),A(b(A(b(o(Qe,oe),D[1]),A(b(o(Je,le),-N[1]),b(o(K,W),z[1]))),O[2]),b(A(b(o(_e,Y),D[1]),A(b(o(xe,re),-N[1]),b(o(K,W),O[1]))),-z[2]))),-F[3])),A(b(A(A(b(A(b(o(Ve,Fe),N[1]),A(b(o(Ie,Q),-O[1]),b(o(_e,Y),F[1]))),D[2]),b(A(b(o(Ve,Fe),D[1]),A(b(o(Se,ne),-O[1]),b(o(xe,re),F[1]))),-N[2])),A(b(A(b(o(Ie,Q),D[1]),A(b(o(Se,ne),-N[1]),b(o(K,W),F[1]))),O[2]),b(A(b(o(_e,Y),D[1]),A(b(o(xe,re),-N[1]),b(o(K,W),O[1]))),-F[2]))),z[3]),b(A(A(b(A(b(o(ht,Te),k[1]),A(b(o(ct,ge),-O[1]),b(o(De,te),z[1]))),N[2]),b(A(b(o(ht,Te),N[1]),A(b(o(Qe,oe),-O[1]),b(o(_e,Y),z[1]))),-k[2])),A(b(A(b(o(ct,ge),N[1]),A(b(o(Qe,oe),-k[1]),b(o(se,ie),z[1]))),O[2]),b(A(b(o(De,te),N[1]),A(b(o(_e,Y),-k[1]),b(o(se,ie),O[1]))),-z[2]))),D[3]))),A(A(b(A(A(b(A(b(o(ht,Te),k[1]),A(b(o(ct,ge),-O[1]),b(o(De,te),z[1]))),D[2]),b(A(b(o(ht,Te),D[1]),A(b(o(Je,le),-O[1]),b(o(xe,re),z[1]))),-k[2])),A(b(A(b(o(ct,ge),D[1]),A(b(o(Je,le),-k[1]),b(o(j,J),z[1]))),O[2]),b(A(b(o(De,te),D[1]),A(b(o(xe,re),-k[1]),b(o(j,J),O[1]))),-z[2]))),-N[3]),b(A(A(b(A(b(o(ht,Te),N[1]),A(b(o(Qe,oe),-O[1]),b(o(_e,Y),z[1]))),D[2]),b(A(b(o(ht,Te),D[1]),A(b(o(Je,le),-O[1]),b(o(xe,re),z[1]))),-N[2])),A(b(A(b(o(Qe,oe),D[1]),A(b(o(Je,le),-N[1]),b(o(K,W),z[1]))),O[2]),b(A(b(o(_e,Y),D[1]),A(b(o(xe,re),-N[1]),b(o(K,W),O[1]))),-z[2]))),k[3])),A(b(A(A(b(A(b(o(ct,ge),N[1]),A(b(o(Qe,oe),-k[1]),b(o(se,ie),z[1]))),D[2]),b(A(b(o(ct,ge),D[1]),A(b(o(Je,le),-k[1]),b(o(j,J),z[1]))),-N[2])),A(b(A(b(o(Qe,oe),D[1]),A(b(o(Je,le),-N[1]),b(o(K,W),z[1]))),k[2]),b(A(b(o(se,ie),D[1]),A(b(o(j,J),-N[1]),b(o(K,W),k[1]))),-z[2]))),-O[3]),b(A(A(b(A(b(o(De,te),N[1]),A(b(o(_e,Y),-k[1]),b(o(se,ie),O[1]))),D[2]),b(A(b(o(De,te),D[1]),A(b(o(xe,re),-k[1]),b(o(j,J),O[1]))),-N[2])),A(b(A(b(o(_e,Y),D[1]),A(b(o(xe,re),-N[1]),b(o(K,W),O[1]))),k[2]),b(A(b(o(se,ie),D[1]),A(b(o(j,J),-N[1]),b(o(K,W),k[1]))),-O[2]))),z[3]))))),Et=A(A(A(b(A(A(b(A(b(o(gt,et),O[1]),A(b(o(ht,Te),-F[1]),b(o(Ve,Fe),z[1]))),k[2]),b(A(b(o(gt,et),k[1]),A(b(o(ct,ge),-F[1]),b(o(Me,fe),z[1]))),-O[2])),A(b(A(b(o(ht,Te),k[1]),A(b(o(ct,ge),-O[1]),b(o(De,te),z[1]))),F[2]),b(A(b(o(Ve,Fe),k[1]),A(b(o(Me,fe),-O[1]),b(o(De,te),F[1]))),-z[2]))),D[3]),A(b(A(A(b(A(b(o(gt,et),O[1]),A(b(o(ht,Te),-F[1]),b(o(Ve,Fe),z[1]))),D[2]),b(A(b(o(gt,et),D[1]),A(b(o(Je,le),-F[1]),b(o(Se,ne),z[1]))),-O[2])),A(b(A(b(o(ht,Te),D[1]),A(b(o(Je,le),-O[1]),b(o(xe,re),z[1]))),F[2]),b(A(b(o(Ve,Fe),D[1]),A(b(o(Se,ne),-O[1]),b(o(xe,re),F[1]))),-z[2]))),-k[3]),b(A(A(b(A(b(o(gt,et),k[1]),A(b(o(ct,ge),-F[1]),b(o(Me,fe),z[1]))),D[2]),b(A(b(o(gt,et),D[1]),A(b(o(Je,le),-F[1]),b(o(Se,ne),z[1]))),-k[2])),A(b(A(b(o(ct,ge),D[1]),A(b(o(Je,le),-k[1]),b(o(j,J),z[1]))),F[2]),b(A(b(o(Me,fe),D[1]),A(b(o(Se,ne),-k[1]),b(o(j,J),F[1]))),-z[2]))),O[3]))),A(A(b(A(A(b(A(b(o(ht,Te),k[1]),A(b(o(ct,ge),-O[1]),b(o(De,te),z[1]))),D[2]),b(A(b(o(ht,Te),D[1]),A(b(o(Je,le),-O[1]),b(o(xe,re),z[1]))),-k[2])),A(b(A(b(o(ct,ge),D[1]),A(b(o(Je,le),-k[1]),b(o(j,J),z[1]))),O[2]),b(A(b(o(De,te),D[1]),A(b(o(xe,re),-k[1]),b(o(j,J),O[1]))),-z[2]))),-F[3]),b(A(A(b(A(b(o(Ve,Fe),k[1]),A(b(o(Me,fe),-O[1]),b(o(De,te),F[1]))),D[2]),b(A(b(o(Ve,Fe),D[1]),A(b(o(Se,ne),-O[1]),b(o(xe,re),F[1]))),-k[2])),A(b(A(b(o(Me,fe),D[1]),A(b(o(Se,ne),-k[1]),b(o(j,J),F[1]))),O[2]),b(A(b(o(De,te),D[1]),A(b(o(xe,re),-k[1]),b(o(j,J),O[1]))),-F[2]))),z[3])),A(b(A(A(b(A(b(o(gt,et),k[1]),A(b(o(ct,ge),-F[1]),b(o(Me,fe),z[1]))),N[2]),b(A(b(o(gt,et),N[1]),A(b(o(Qe,oe),-F[1]),b(o(Ie,Q),z[1]))),-k[2])),A(b(A(b(o(ct,ge),N[1]),A(b(o(Qe,oe),-k[1]),b(o(se,ie),z[1]))),F[2]),b(A(b(o(Me,fe),N[1]),A(b(o(Ie,Q),-k[1]),b(o(se,ie),F[1]))),-z[2]))),D[3]),b(A(A(b(A(b(o(gt,et),k[1]),A(b(o(ct,ge),-F[1]),b(o(Me,fe),z[1]))),D[2]),b(A(b(o(gt,et),D[1]),A(b(o(Je,le),-F[1]),b(o(Se,ne),z[1]))),-k[2])),A(b(A(b(o(ct,ge),D[1]),A(b(o(Je,le),-k[1]),b(o(j,J),z[1]))),F[2]),b(A(b(o(Me,fe),D[1]),A(b(o(Se,ne),-k[1]),b(o(j,J),F[1]))),-z[2]))),-N[3])))),A(A(A(b(A(A(b(A(b(o(gt,et),N[1]),A(b(o(Qe,oe),-F[1]),b(o(Ie,Q),z[1]))),D[2]),b(A(b(o(gt,et),D[1]),A(b(o(Je,le),-F[1]),b(o(Se,ne),z[1]))),-N[2])),A(b(A(b(o(Qe,oe),D[1]),A(b(o(Je,le),-N[1]),b(o(K,W),z[1]))),F[2]),b(A(b(o(Ie,Q),D[1]),A(b(o(Se,ne),-N[1]),b(o(K,W),F[1]))),-z[2]))),k[3]),b(A(A(b(A(b(o(ct,ge),N[1]),A(b(o(Qe,oe),-k[1]),b(o(se,ie),z[1]))),D[2]),b(A(b(o(ct,ge),D[1]),A(b(o(Je,le),-k[1]),b(o(j,J),z[1]))),-N[2])),A(b(A(b(o(Qe,oe),D[1]),A(b(o(Je,le),-N[1]),b(o(K,W),z[1]))),k[2]),b(A(b(o(se,ie),D[1]),A(b(o(j,J),-N[1]),b(o(K,W),k[1]))),-z[2]))),-F[3])),A(b(A(A(b(A(b(o(Me,fe),N[1]),A(b(o(Ie,Q),-k[1]),b(o(se,ie),F[1]))),D[2]),b(A(b(o(Me,fe),D[1]),A(b(o(Se,ne),-k[1]),b(o(j,J),F[1]))),-N[2])),A(b(A(b(o(Ie,Q),D[1]),A(b(o(Se,ne),-N[1]),b(o(K,W),F[1]))),k[2]),b(A(b(o(se,ie),D[1]),A(b(o(j,J),-N[1]),b(o(K,W),k[1]))),-F[2]))),z[3]),b(A(A(b(A(b(o(Ve,Fe),k[1]),A(b(o(Me,fe),-O[1]),b(o(De,te),F[1]))),N[2]),b(A(b(o(Ve,Fe),N[1]),A(b(o(Ie,Q),-O[1]),b(o(_e,Y),F[1]))),-k[2])),A(b(A(b(o(Me,fe),N[1]),A(b(o(Ie,Q),-k[1]),b(o(se,ie),F[1]))),O[2]),b(A(b(o(De,te),N[1]),A(b(o(_e,Y),-k[1]),b(o(se,ie),O[1]))),-F[2]))),D[3]))),A(A(b(A(A(b(A(b(o(Ve,Fe),k[1]),A(b(o(Me,fe),-O[1]),b(o(De,te),F[1]))),D[2]),b(A(b(o(Ve,Fe),D[1]),A(b(o(Se,ne),-O[1]),b(o(xe,re),F[1]))),-k[2])),A(b(A(b(o(Me,fe),D[1]),A(b(o(Se,ne),-k[1]),b(o(j,J),F[1]))),O[2]),b(A(b(o(De,te),D[1]),A(b(o(xe,re),-k[1]),b(o(j,J),O[1]))),-F[2]))),-N[3]),b(A(A(b(A(b(o(Ve,Fe),N[1]),A(b(o(Ie,Q),-O[1]),b(o(_e,Y),F[1]))),D[2]),b(A(b(o(Ve,Fe),D[1]),A(b(o(Se,ne),-O[1]),b(o(xe,re),F[1]))),-N[2])),A(b(A(b(o(Ie,Q),D[1]),A(b(o(Se,ne),-N[1]),b(o(K,W),F[1]))),O[2]),b(A(b(o(_e,Y),D[1]),A(b(o(xe,re),-N[1]),b(o(K,W),O[1]))),-F[2]))),k[3])),A(b(A(A(b(A(b(o(Me,fe),N[1]),A(b(o(Ie,Q),-k[1]),b(o(se,ie),F[1]))),D[2]),b(A(b(o(Me,fe),D[1]),A(b(o(Se,ne),-k[1]),b(o(j,J),F[1]))),-N[2])),A(b(A(b(o(Ie,Q),D[1]),A(b(o(Se,ne),-N[1]),b(o(K,W),F[1]))),k[2]),b(A(b(o(se,ie),D[1]),A(b(o(j,J),-N[1]),b(o(K,W),k[1]))),-F[2]))),-O[3]),b(A(A(b(A(b(o(De,te),N[1]),A(b(o(_e,Y),-k[1]),b(o(se,ie),O[1]))),D[2]),b(A(b(o(De,te),D[1]),A(b(o(xe,re),-k[1]),b(o(j,J),O[1]))),-N[2])),A(b(A(b(o(_e,Y),D[1]),A(b(o(xe,re),-N[1]),b(o(K,W),O[1]))),k[2]),b(A(b(o(se,ie),D[1]),A(b(o(j,J),-N[1]),b(o(K,W),k[1]))),-O[2]))),F[3]))))),rt=o(Tt,Et);return rt[rt.length-1]}return I}var w=[g,h,T];function C(A){var o=w[A.length];return o||(o=w[A.length]=l(A.length)),o.apply(void 0,A)}function y(A,o,E,b,I,D,N,k){function O(F,z,B,W,J,re){switch(arguments.length){case 0:case 1:return 0;case 2:return b(F,z);case 3:return I(F,z,B);case 4:return D(F,z,B,W);case 5:return N(F,z,B,W,J);case 6:return k(F,z,B,W,J,re)}for(var ne=new Array(arguments.length),le=0;le<arguments.length;++le)ne[le]=arguments[le];return A(ne)}return O}function M(){for(;w.length<=u;)w.push(l(w.length));v.exports=y.apply(void 0,[C].concat(w));for(var A=0;A<=u;++A)v.exports[A]=w[A]}M()},727:function(v,p,r){var t=r(2962),i=6;function n(w){var C=w===2?l:w===3?g:w===4?h:w===5?T:c;return w<6?C(t[w]):C(t)}function f(){return[[0]]}function u(w,C){return[[C[0]],[w[0][0]]]}function l(w){return function(y,M){return[w([[+M[0],+y[0][1]],[+M[1],+y[1][1]]]),w([[+y[0][0],+M[0]],[+y[1][0],+M[1]]]),w(y)]}}function g(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2]],[+M[1],+y[1][1],+y[1][2]],[+M[2],+y[2][1],+y[2][2]]]),w([[+y[0][0],+M[0],+y[0][2]],[+y[1][0],+M[1],+y[1][2]],[+y[2][0],+M[2],+y[2][2]]]),w([[+y[0][0],+y[0][1],+M[0]],[+y[1][0],+y[1][1],+M[1]],[+y[2][0],+y[2][1],+M[2]]]),w(y)]}}function h(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2],+y[0][3]],[+M[1],+y[1][1],+y[1][2],+y[1][3]],[+M[2],+y[2][1],+y[2][2],+y[2][3]],[+M[3],+y[3][1],+y[3][2],+y[3][3]]]),w([[+y[0][0],+M[0],+y[0][2],+y[0][3]],[+y[1][0],+M[1],+y[1][2],+y[1][3]],[+y[2][0],+M[2],+y[2][2],+y[2][3]],[+y[3][0],+M[3],+y[3][2],+y[3][3]]]),w([[+y[0][0],+y[0][1],+M[0],+y[0][3]],[+y[1][0],+y[1][1],+M[1],+y[1][3]],[+y[2][0],+y[2][1],+M[2],+y[2][3]],[+y[3][0],+y[3][1],+M[3],+y[3][3]]]),w([[+y[0][0],+y[0][1],+y[0][2],+M[0]],[+y[1][0],+y[1][1],+y[1][2],+M[1]],[+y[2][0],+y[2][1],+y[2][2],+M[2]],[+y[3][0],+y[3][1],+y[3][2],+M[3]]]),w(y)]}}function T(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+M[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+M[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+M[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+M[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+M[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+M[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+M[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+M[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+M[4],+y[4][2],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+M[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+M[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+M[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+M[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+M[4],+y[4][3],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+M[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+M[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+M[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+M[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+M[4],+y[4][4]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+M[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+M[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+M[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+M[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+M[4]]]),w(y)]}}function c(w){return function(y,M){return[w([[+M[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+M[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+M[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+M[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+M[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+M[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+M[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+M[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+M[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+M[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+M[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+M[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+M[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+M[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+M[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+M[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+M[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+M[5],+y[5][3],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+M[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+M[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+M[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+M[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+M[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+M[5],+y[5][4],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+M[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+M[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+M[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+M[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+M[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+M[5],+y[5][5]]]),w([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+M[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+M[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+M[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+M[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+M[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+M[5]]]),w(y)]}}var a=[f,u];function d(w,C,y,M,A,o,E,b){return function(D,N){switch(D.length){case 0:return w(D,N);case 1:return C(D,N);case 2:return y(D,N);case 3:return M(D,N);case 4:return A(D,N);case 5:return o(D,N)}var k=E[D.length];return k||(k=E[D.length]=b(D.length)),k(D,N)}}function x(){for(;a.length<i;)a.push(n(a.length));v.exports=d.apply(void 0,a.concat([a,n]));for(var w=0;w<i;++w)v.exports[w]=a[w]}x()},3250:function(v,p,r){var t=r(5250),i=r(8210),n=r(3012),f=r(8545),u=5,l=11102230246251565e-32,g=(3+16*l)*l,h=(7+56*l)*l;function T(o,E,b,I){return function(N,k,O){var F=o(o(E(k[1],O[0]),E(-O[1],k[0])),o(E(N[1],k[0]),E(-k[1],N[0]))),z=o(E(N[1],O[0]),E(-O[1],N[0])),B=I(F,z);return B[B.length-1]}}function c(o,E,b,I){return function(N,k,O,F){var z=o(o(b(o(E(O[1],F[0]),E(-F[1],O[0])),k[2]),o(b(o(E(k[1],F[0]),E(-F[1],k[0])),-O[2]),b(o(E(k[1],O[0]),E(-O[1],k[0])),F[2]))),o(b(o(E(k[1],F[0]),E(-F[1],k[0])),N[2]),o(b(o(E(N[1],F[0]),E(-F[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),F[2])))),B=o(o(b(o(E(O[1],F[0]),E(-F[1],O[0])),N[2]),o(b(o(E(N[1],F[0]),E(-F[1],N[0])),-O[2]),b(o(E(N[1],O[0]),E(-O[1],N[0])),F[2]))),o(b(o(E(k[1],O[0]),E(-O[1],k[0])),N[2]),o(b(o(E(N[1],O[0]),E(-O[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),O[2])))),W=I(z,B);return W[W.length-1]}}function a(o,E,b,I){return function(N,k,O,F,z){var B=o(o(o(b(o(b(o(E(F[1],z[0]),E(-z[1],F[0])),O[2]),o(b(o(E(O[1],z[0]),E(-z[1],O[0])),-F[2]),b(o(E(O[1],F[0]),E(-F[1],O[0])),z[2]))),k[3]),o(b(o(b(o(E(F[1],z[0]),E(-z[1],F[0])),k[2]),o(b(o(E(k[1],z[0]),E(-z[1],k[0])),-F[2]),b(o(E(k[1],F[0]),E(-F[1],k[0])),z[2]))),-O[3]),b(o(b(o(E(O[1],z[0]),E(-z[1],O[0])),k[2]),o(b(o(E(k[1],z[0]),E(-z[1],k[0])),-O[2]),b(o(E(k[1],O[0]),E(-O[1],k[0])),z[2]))),F[3]))),o(b(o(b(o(E(O[1],F[0]),E(-F[1],O[0])),k[2]),o(b(o(E(k[1],F[0]),E(-F[1],k[0])),-O[2]),b(o(E(k[1],O[0]),E(-O[1],k[0])),F[2]))),-z[3]),o(b(o(b(o(E(F[1],z[0]),E(-z[1],F[0])),k[2]),o(b(o(E(k[1],z[0]),E(-z[1],k[0])),-F[2]),b(o(E(k[1],F[0]),E(-F[1],k[0])),z[2]))),N[3]),b(o(b(o(E(F[1],z[0]),E(-z[1],F[0])),N[2]),o(b(o(E(N[1],z[0]),E(-z[1],N[0])),-F[2]),b(o(E(N[1],F[0]),E(-F[1],N[0])),z[2]))),-k[3])))),o(o(b(o(b(o(E(k[1],z[0]),E(-z[1],k[0])),N[2]),o(b(o(E(N[1],z[0]),E(-z[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),z[2]))),F[3]),o(b(o(b(o(E(k[1],F[0]),E(-F[1],k[0])),N[2]),o(b(o(E(N[1],F[0]),E(-F[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),F[2]))),-z[3]),b(o(b(o(E(O[1],F[0]),E(-F[1],O[0])),k[2]),o(b(o(E(k[1],F[0]),E(-F[1],k[0])),-O[2]),b(o(E(k[1],O[0]),E(-O[1],k[0])),F[2]))),N[3]))),o(b(o(b(o(E(O[1],F[0]),E(-F[1],O[0])),N[2]),o(b(o(E(N[1],F[0]),E(-F[1],N[0])),-O[2]),b(o(E(N[1],O[0]),E(-O[1],N[0])),F[2]))),-k[3]),o(b(o(b(o(E(k[1],F[0]),E(-F[1],k[0])),N[2]),o(b(o(E(N[1],F[0]),E(-F[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),F[2]))),O[3]),b(o(b(o(E(k[1],O[0]),E(-O[1],k[0])),N[2]),o(b(o(E(N[1],O[0]),E(-O[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),O[2]))),-F[3]))))),W=o(o(o(b(o(b(o(E(F[1],z[0]),E(-z[1],F[0])),O[2]),o(b(o(E(O[1],z[0]),E(-z[1],O[0])),-F[2]),b(o(E(O[1],F[0]),E(-F[1],O[0])),z[2]))),N[3]),b(o(b(o(E(F[1],z[0]),E(-z[1],F[0])),N[2]),o(b(o(E(N[1],z[0]),E(-z[1],N[0])),-F[2]),b(o(E(N[1],F[0]),E(-F[1],N[0])),z[2]))),-O[3])),o(b(o(b(o(E(O[1],z[0]),E(-z[1],O[0])),N[2]),o(b(o(E(N[1],z[0]),E(-z[1],N[0])),-O[2]),b(o(E(N[1],O[0]),E(-O[1],N[0])),z[2]))),F[3]),b(o(b(o(E(O[1],F[0]),E(-F[1],O[0])),N[2]),o(b(o(E(N[1],F[0]),E(-F[1],N[0])),-O[2]),b(o(E(N[1],O[0]),E(-O[1],N[0])),F[2]))),-z[3]))),o(o(b(o(b(o(E(O[1],z[0]),E(-z[1],O[0])),k[2]),o(b(o(E(k[1],z[0]),E(-z[1],k[0])),-O[2]),b(o(E(k[1],O[0]),E(-O[1],k[0])),z[2]))),N[3]),b(o(b(o(E(O[1],z[0]),E(-z[1],O[0])),N[2]),o(b(o(E(N[1],z[0]),E(-z[1],N[0])),-O[2]),b(o(E(N[1],O[0]),E(-O[1],N[0])),z[2]))),-k[3])),o(b(o(b(o(E(k[1],z[0]),E(-z[1],k[0])),N[2]),o(b(o(E(N[1],z[0]),E(-z[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),z[2]))),O[3]),b(o(b(o(E(k[1],O[0]),E(-O[1],k[0])),N[2]),o(b(o(E(N[1],O[0]),E(-O[1],N[0])),-k[2]),b(o(E(N[1],k[0]),E(-k[1],N[0])),O[2]))),-z[3])))),J=I(B,W);return J[J.length-1]}}function d(o){var E=o===3?T:o===4?c:a;return E(i,t,n,f)}var x=d(3),w=d(4),C=[function(){return 0},function(){return 0},function(E,b){return b[0]-E[0]},function(E,b,I){var D=(E[1]-I[1])*(b[0]-I[0]),N=(E[0]-I[0])*(b[1]-I[1]),k=D-N,O;if(D>0){if(N<=0)return k;O=D+N}else if(D<0){if(N>=0)return k;O=-(D+N)}else return k;var F=g*O;return k>=F||k<=-F?k:x(E,b,I)},function(E,b,I,D){var N=E[0]-D[0],k=b[0]-D[0],O=I[0]-D[0],F=E[1]-D[1],z=b[1]-D[1],B=I[1]-D[1],W=E[2]-D[2],J=b[2]-D[2],re=I[2]-D[2],ne=k*B,le=O*z,$=O*F,K=N*B,ie=N*z,Y=k*F,Q=W*(ne-le)+J*($-K)+re*(ie-Y),oe=(Math.abs(ne)+Math.abs(le))*Math.abs(W)+(Math.abs($)+Math.abs(K))*Math.abs(J)+(Math.abs(ie)+Math.abs(Y))*Math.abs(re),X=h*oe;return Q>X||-Q>X?Q:w(E,b,I,D)}];function y(o){var E=C[o.length];return E||(E=C[o.length]=d(o.length)),E.apply(void 0,o)}function M(o,E,b,I,D,N,k){return function(F,z,B,W,J){switch(arguments.length){case 0:case 1:return 0;case 2:return I(F,z);case 3:return D(F,z,B);case 4:return N(F,z,B,W);case 5:return k(F,z,B,W,J)}for(var re=new Array(arguments.length),ne=0;ne<arguments.length;++ne)re[ne]=arguments[ne];return o(re)}}function A(){for(;C.length<=u;)C.push(d(C.length));v.exports=M.apply(void 0,[y].concat(C));for(var o=0;o<=u;++o)v.exports[o]=C[o]}A()},5382:function(v,p,r){var t=r(8210),i=r(3012);v.exports=n;function n(f,u){if(f.length===1)return i(u,f[0]);if(u.length===1)return i(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var g=0;g<f.length;++g)l=t(l,i(u,f[g]));else for(var g=0;g<u.length;++g)l=t(l,i(f,u[g]));return l}},3012:function(v,p,r){var t=r(5250),i=r(9362);v.exports=n;function n(f,u){var l=f.length;if(l===1){var g=t(f[0],u);return g[0]?g:[g[1]]}var h=new Array(2*l),T=[.1,.1],c=[.1,.1],a=0;t(f[0],u,T),T[0]&&(h[a++]=T[0]);for(var d=1;d<l;++d){t(f[d],u,c);var x=T[1];i(x,c[0],T),T[0]&&(h[a++]=T[0]);var w=c[1],C=T[1],y=w+C,M=y-w,A=C-M;T[1]=y,A&&(h[a++]=A)}return T[1]&&(h[a++]=T[1]),a===0&&(h[a++]=0),h.length=a,h}},1125:function(v,p,r){v.exports=n;var t=r(3250)[3];function i(f,u,l,g){for(var h=0;h<2;++h){var T=f[h],c=u[h],a=Math.min(T,c),d=Math.max(T,c),x=l[h],w=g[h],C=Math.min(x,w),y=Math.max(x,w);if(y<a||d<C)return!1}return!0}function n(f,u,l,g){var h=t(f,l,g),T=t(u,l,g);if(h>0&&T>0||h<0&&T<0)return!1;var c=t(l,f,u),a=t(g,f,u);return c>0&&a>0||c<0&&a<0?!1:h===0&&T===0&&c===0&&a===0?i(f,u,l,g):!0}},8545:function(v){v.exports=r;function p(t,i){var n=t+i,f=n-t,u=n-f,l=i-f,g=t-u,h=g+l;return h?[h,n]:[n]}function r(t,i){var n=t.length|0,f=i.length|0;if(n===1&&f===1)return p(t[0],-i[0]);var u=n+f,l=new Array(u),g=0,h=0,T=0,c=Math.abs,a=t[h],d=c(a),x=-i[T],w=c(x),C,y;d<w?(y=a,h+=1,h<n&&(a=t[h],d=c(a))):(y=x,T+=1,T<f&&(x=-i[T],w=c(x))),h<n&&d<w||T>=f?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,T+=1,T<f&&(x=-i[T],w=c(x)));for(var M=C+y,A=M-C,o=y-A,E=o,b=M,I,D,N,k,O;h<n&&T<f;)d<w?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,T+=1,T<f&&(x=-i[T],w=c(x))),y=E,M=C+y,A=M-C,o=y-A,o&&(l[g++]=o),I=b+M,D=I-b,N=I-D,k=M-D,O=b-N,E=O+k,b=I;for(;h<n;)C=a,y=E,M=C+y,A=M-C,o=y-A,o&&(l[g++]=o),I=b+M,D=I-b,N=I-D,k=M-D,O=b-N,E=O+k,b=I,h+=1,h<n&&(a=t[h]);for(;T<f;)C=x,y=E,M=C+y,A=M-C,o=y-A,o&&(l[g++]=o),I=b+M,D=I-b,N=I-D,k=M-D,O=b-N,E=O+k,b=I,T+=1,T<f&&(x=-i[T]);return E&&(l[g++]=E),b&&(l[g++]=b),g||(l[g++]=0),l.length=g,l}},8210:function(v){v.exports=r;function p(t,i){var n=t+i,f=n-t,u=n-f,l=i-f,g=t-u,h=g+l;return h?[h,n]:[n]}function r(t,i){var n=t.length|0,f=i.length|0;if(n===1&&f===1)return p(t[0],i[0]);var u=n+f,l=new Array(u),g=0,h=0,T=0,c=Math.abs,a=t[h],d=c(a),x=i[T],w=c(x),C,y;d<w?(y=a,h+=1,h<n&&(a=t[h],d=c(a))):(y=x,T+=1,T<f&&(x=i[T],w=c(x))),h<n&&d<w||T>=f?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,T+=1,T<f&&(x=i[T],w=c(x)));for(var M=C+y,A=M-C,o=y-A,E=o,b=M,I,D,N,k,O;h<n&&T<f;)d<w?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,T+=1,T<f&&(x=i[T],w=c(x))),y=E,M=C+y,A=M-C,o=y-A,o&&(l[g++]=o),I=b+M,D=I-b,N=I-D,k=M-D,O=b-N,E=O+k,b=I;for(;h<n;)C=a,y=E,M=C+y,A=M-C,o=y-A,o&&(l[g++]=o),I=b+M,D=I-b,N=I-D,k=M-D,O=b-N,E=O+k,b=I,h+=1,h<n&&(a=t[h]);for(;T<f;)C=x,y=E,M=C+y,A=M-C,o=y-A,o&&(l[g++]=o),I=b+M,D=I-b,N=I-D,k=M-D,O=b-N,E=O+k,b=I,T+=1,T<f&&(x=i[T]);return E&&(l[g++]=E),b&&(l[g++]=b),g||(l[g++]=0),l.length=g,l}},9127:function(v,p,r){v.exports=n;var t=r(6204),i=r(5771);function n(f){return i(t(f))}},7765:function(v,p,r){v.exports=a;var t=r(9618),i=r(1888),n=r(446),f=r(1570);function u(d){for(var x=d.length,w=0,C=0;C<x;++C)w=Math.max(w,d[C].length)|0;return w-1}function l(d,x){for(var w=d.length,C=i.mallocUint8(w),y=0;y<w;++y)C[y]=d[y]<x|0;return C}function g(d,x){for(var w=d.length,C=x*(x+1)/2*w|0,y=i.mallocUint32(C*2),M=0,A=0;A<w;++A)for(var o=d[A],x=o.length,E=0;E<x;++E)for(var b=0;b<E;++b){var I=o[b],D=o[E];y[M++]=Math.min(I,D)|0,y[M++]=Math.max(I,D)|0}var N=M/2|0;n(t(y,[N,2]));for(var k=2,A=2;A<M;A+=2)y[A-2]===y[A]&&y[A-1]===y[A+1]||(y[k++]=y[A],y[k++]=y[A+1]);return t(y,[k/2|0,2])}function h(d,x,w,C){for(var y=d.data,M=d.shape[0],A=i.mallocDouble(M),o=0,E=0;E<M;++E){var b=y[2*E],I=y[2*E+1];if(w[b]!==w[I]){var D=x[b],N=x[I];y[2*o]=b,y[2*o+1]=I,A[o++]=(N-C)/(N-D)}}return d.shape[0]=o,t(A,[o])}function T(d,x){var w=i.mallocInt32(x*2),C=d.shape[0],y=d.data;w[0]=0;for(var M=0,A=0;A<C;++A){var o=y[2*A];if(o!==M){for(w[2*M+1]=A;++M<o;)w[2*M]=A,w[2*M+1]=A;w[2*M]=A}}for(w[2*M+1]=C;++M<x;)w[2*M]=w[2*M+1]=C;return w}function c(d){for(var x=d.shape[0]|0,w=d.data,C=new Array(x),y=0;y<x;++y)C[y]=[w[2*y],w[2*y+1]];return C}function a(d,x,w,C){w=w||0,typeof C>"u"&&(C=u(d));var y=d.length;if(y===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var M=l(x,+w),A=g(d,C),o=h(A,x,M,+w),E=T(A,x.length|0),b=f(C)(d,A.data,E,M),I=c(A),D=[].slice.call(o.data,0,o.shape[0]);return i.free(M),i.free(A.data),i.free(o.data),i.free(E),{cells:b,vertexIds:I,vertexWeights:D}}},1570:function(v){v.exports=r;var p=[function(){function i(n,f,u,l){for(var g=n.length,h=[],T=0;T<g;++T){var c=n[T];c.length}return h}return i},function(){function i(f,u,l,g){for(var h=Math.min(l,g)|0,T=Math.max(l,g)|0,c=f[2*h],a=f[2*h+1];c<a;){var d=c+a>>1,x=u[2*d+1];if(x===T)return d;T<x?a=d:c=d+1}return c}function n(f,u,l,g){for(var h=f.length,T=[],c=0;c<h;++c){var a=f[c],d=a.length;if(d===2){var x=(g[a[0]]<<0)+(g[a[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([i(l,u,a[0],a[1])]);break;case 2:T.push([i(l,u,a[1],a[0])]);break}}}return T}return n},function(){function i(f,u,l,g){for(var h=Math.min(l,g)|0,T=Math.max(l,g)|0,c=f[2*h],a=f[2*h+1];c<a;){var d=c+a>>1,x=u[2*d+1];if(x===T)return d;T<x?a=d:c=d+1}return c}function n(f,u,l,g){for(var h=f.length,T=[],c=0;c<h;++c){var a=f[c],d=a.length;if(d===3){var x=(g[a[0]]<<0)+(g[a[1]]<<1)+(g[a[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([i(l,u,a[0],a[2]),i(l,u,a[0],a[1])]);break;case 2:T.push([i(l,u,a[1],a[0]),i(l,u,a[1],a[2])]);break;case 3:T.push([i(l,u,a[0],a[2]),i(l,u,a[1],a[2])]);break;case 4:T.push([i(l,u,a[2],a[1]),i(l,u,a[2],a[0])]);break;case 5:T.push([i(l,u,a[2],a[1]),i(l,u,a[0],a[1])]);break;case 6:T.push([i(l,u,a[1],a[0]),i(l,u,a[2],a[0])]);break}}else if(d===2){var x=(g[a[0]]<<0)+(g[a[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([i(l,u,a[0],a[1])]);break;case 2:T.push([i(l,u,a[1],a[0])]);break}}}return T}return n},function(){function i(f,u,l,g){for(var h=Math.min(l,g)|0,T=Math.max(l,g)|0,c=f[2*h],a=f[2*h+1];c<a;){var d=c+a>>1,x=u[2*d+1];if(x===T)return d;T<x?a=d:c=d+1}return c}function n(f,u,l,g){for(var h=f.length,T=[],c=0;c<h;++c){var a=f[c],d=a.length;if(d===4){var x=(g[a[0]]<<0)+(g[a[1]]<<1)+(g[a[2]]<<2)+(g[a[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:T.push([i(l,u,a[0],a[1]),i(l,u,a[0],a[2]),i(l,u,a[0],a[3])]);break;case 2:T.push([i(l,u,a[1],a[2]),i(l,u,a[1],a[0]),i(l,u,a[1],a[3])]);break;case 3:T.push([i(l,u,a[1],a[2]),i(l,u,a[0],a[2]),i(l,u,a[0],a[3])],[i(l,u,a[1],a[3]),i(l,u,a[1],a[2]),i(l,u,a[0],a[3])]);break;case 4:T.push([i(l,u,a[2],a[0]),i(l,u,a[2],a[1]),i(l,u,a[2],a[3])]);break;case 5:T.push([i(l,u,a[0],a[1]),i(l,u,a[2],a[1]),i(l,u,a[0],a[3])],[i(l,u,a[2],a[1]),i(l,u,a[2],a[3]),i(l,u,a[0],a[3])]);break;case 6:T.push([i(l,u,a[2],a[0]),i(l,u,a[1],a[0]),i(l,u,a[1],a[3])],[i(l,u,a[2],a[3]),i(l,u,a[2],a[0]),i(l,u,a[1],a[3])]);break;case 7:T.push([i(l,u,a[0],a[3]),i(l,u,a[1],a[3]),i(l,u,a[2],a[3])]);break;case 8:T.push([i(l,u,a[3],a[1]),i(l,u,a[3],a[0]),i(l,u,a[3],a[2])]);break;case 9:T.push([i(l,u,a[3],a[1]),i(l,u,a[0],a[1]),i(l,u,a[0],a[2])],[i(l,u,a[3],a[2]),i(l,u,a[3],a[1]),i(l,u,a[0],a[2])]);break;case 10:T.push([i(l,u,a[1],a[0]),i(l,u,a[3],a[0]),i(l,u,a[1],a[2])],[i(l,u,a[3],a[0]),i(l,u,a[3],a[2]),i(l,u,a[1],a[2])]);break;case 11:T.push([i(l,u,a[1],a[2]),i(l,u,a[0],a[2]),i(l,u,a[3],a[2])]);break;case 12:T.push([i(l,u,a[3],a[0]),i(l,u,a[2],a[0]),i(l,u,a[2],a[1])],[i(l,u,a[3],a[1]),i(l,u,a[3],a[0]),i(l,u,a[2],a[1])]);break;case 13:T.push([i(l,u,a[0],a[1]),i(l,u,a[2],a[1]),i(l,u,a[3],a[1])]);break;case 14:T.push([i(l,u,a[2],a[0]),i(l,u,a[1],a[0]),i(l,u,a[3],a[0])]);break}}else if(d===3){var x=(g[a[0]]<<0)+(g[a[1]]<<1)+(g[a[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([i(l,u,a[0],a[2]),i(l,u,a[0],a[1])]);break;case 2:T.push([i(l,u,a[1],a[0]),i(l,u,a[1],a[2])]);break;case 3:T.push([i(l,u,a[0],a[2]),i(l,u,a[1],a[2])]);break;case 4:T.push([i(l,u,a[2],a[1]),i(l,u,a[2],a[0])]);break;case 5:T.push([i(l,u,a[2],a[1]),i(l,u,a[0],a[1])]);break;case 6:T.push([i(l,u,a[1],a[0]),i(l,u,a[2],a[0])]);break}}else if(d===2){var x=(g[a[0]]<<0)+(g[a[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([i(l,u,a[0],a[1])]);break;case 2:T.push([i(l,u,a[1],a[0])]);break}}}return T}return n}];function r(t){return p[t]()}},6803:function(v,p,r){r(8828),r(1755);function t(i,n){var f=i.length,u=i.length-n.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return i[0]-n[0];case 2:var a=i[0]+i[1]-n[0]-n[1];return a||l(i[0],i[1])-l(n[0],n[1]);case 3:var g=i[0]+i[1],h=n[0]+n[1];if(a=g+i[2]-(h+n[2]),a)return a;var T=l(i[0],i[1]),c=l(n[0],n[1]),a=l(T,i[2])-l(c,n[2]);return a||l(T+i[2],g)-l(c+n[2],h);default:var d=i.slice(0);d.sort();var x=n.slice(0);x.sort();for(var w=0;w<f;++w)if(u=d[w]-x[w],u)return u;return 0}}p.Fw=t},3105:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var f=n>>r-1;return(n^f)-f},p.min=function(n,f){return f^(n^f)&-(n<f)},p.max=function(n,f){return n^(n^f)&-(n<f)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[f]=l<<g&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},p.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},2014:function(v,p,r){"use restrict";var t=r(3105),i=r(4623);function n(o){for(var E=0,b=Math.max,I=0,D=o.length;I<D;++I)E=b(E,o[I].length);return E-1}p.dimension=n;function f(o){for(var E=-1,b=Math.max,I=0,D=o.length;I<D;++I)for(var N=o[I],k=0,O=N.length;k<O;++k)E=b(E,N[k]);return E+1}p.countVertices=f;function u(o){for(var E=new Array(o.length),b=0,I=o.length;b<I;++b)E[b]=o[b].slice(0);return E}p.cloneCells=u;function l(o,E){var b=o.length,I=o.length-E.length,D=Math.min;if(I)return I;switch(b){case 0:return 0;case 1:return o[0]-E[0];case 2:var z=o[0]+o[1]-E[0]-E[1];return z||D(o[0],o[1])-D(E[0],E[1]);case 3:var N=o[0]+o[1],k=E[0]+E[1];if(z=N+o[2]-(k+E[2]),z)return z;var O=D(o[0],o[1]),F=D(E[0],E[1]),z=D(O,o[2])-D(F,E[2]);return z||D(O+o[2],N)-D(F+E[2],k);default:var B=o.slice(0);B.sort();var W=E.slice(0);W.sort();for(var J=0;J<b;++J)if(I=B[J]-W[J],I)return I;return 0}}p.compareCells=l;function g(o,E){return l(o[0],E[0])}function h(o,E){if(E){for(var b=o.length,I=new Array(b),D=0;D<b;++D)I[D]=[o[D],E[D]];I.sort(g);for(var D=0;D<b;++D)o[D]=I[D][0],E[D]=I[D][1];return o}else return o.sort(l),o}p.normalize=h;function T(o){if(o.length===0)return[];for(var E=1,b=o.length,I=1;I<b;++I){var D=o[I];if(l(D,o[I-1])){if(I===E){E++;continue}o[E++]=D}}return o.length=E,o}p.unique=T;function c(o,E){for(var b=0,I=o.length-1,D=-1;b<=I;){var N=b+I>>1,k=l(o[N],E);k<=0?(k===0&&(D=N),b=N+1):k>0&&(I=N-1)}return D}p.findCell=c;function a(o,E){for(var b=new Array(o.length),I=0,D=b.length;I<D;++I)b[I]=[];for(var N=[],I=0,k=E.length;I<k;++I)for(var O=E[I],F=O.length,z=1,B=1<<F;z<B;++z){N.length=t.popCount(z);for(var W=0,J=0;J<F;++J)z&1<<J&&(N[W++]=O[J]);var re=c(o,N);if(!(re<0))for(;b[re++].push(I),!(re>=o.length||l(o[re],N)!==0););}return b}p.incidence=a;function d(o,E){if(!E)return a(T(w(o,0)),o);for(var b=new Array(E),I=0;I<E;++I)b[I]=[];for(var I=0,D=o.length;I<D;++I)for(var N=o[I],k=0,O=N.length;k<O;++k)b[N[k]].push(I);return b}p.dual=d;function x(o){for(var E=[],b=0,I=o.length;b<I;++b)for(var D=o[b],N=D.length|0,k=1,O=1<<N;k<O;++k){for(var F=[],z=0;z<N;++z)k>>>z&1&&F.push(D[z]);E.push(F)}return h(E)}p.explode=x;function w(o,E){if(E<0)return[];for(var b=[],I=(1<<E+1)-1,D=0;D<o.length;++D)for(var N=o[D],k=I;k<1<<N.length;k=t.nextCombination(k)){for(var O=new Array(E+1),F=0,z=0;z<N.length;++z)k&1<<z&&(O[F++]=N[z]);b.push(O)}return h(b)}p.skeleton=w;function C(o){for(var E=[],b=0,I=o.length;b<I;++b)for(var D=o[b],N=0,k=D.length;N<k;++N){for(var O=new Array(D.length-1),F=0,z=0;F<k;++F)F!==N&&(O[z++]=D[F]);E.push(O)}return h(E)}p.boundary=C;function y(o,E){for(var b=new i(E),I=0;I<o.length;++I)for(var D=o[I],N=0;N<D.length;++N)for(var k=N+1;k<D.length;++k)b.link(D[N],D[k]);for(var O=[],F=b.ranks,I=0;I<F.length;++I)F[I]=-1;for(var I=0;I<o.length;++I){var z=b.find(o[I][0]);F[z]<0?(F[z]=O.length,O.push([o[I].slice(0)])):O[F[z]].push(o[I].slice(0))}return O}function M(o){for(var E=T(h(w(o,0))),b=new i(E.length),I=0;I<o.length;++I)for(var D=o[I],N=0;N<D.length;++N)for(var k=c(E,[D[N]]),O=N+1;O<D.length;++O)b.link(k,c(E,[D[O]]));for(var F=[],z=b.ranks,I=0;I<z.length;++I)z[I]=-1;for(var I=0;I<o.length;++I){var B=b.find(c(E,[o[I][0]]));z[B]<0?(z[B]=F.length,F.push([o[I].slice(0)])):F[z[B]].push(o[I].slice(0))}return F}function A(o,E){return E?y(o,E):M(o)}p.connectedComponents=A},4623:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},p.prototype.link=function(r,t){var i=this.find(r),n=this.find(t);if(i!==n){var f=this.ranks,u=this.roots,l=f[i],g=f[n];l<g?u[i]=n:g<l?u[n]=i:(u[n]=i,++f[i])}}},5878:function(v,p,r){v.exports=f;var t=r(3250),i=r(2014);function n(u,l,g){var h=Math.abs(t(u,l,g)),T=Math.sqrt(Math.pow(l[0]-g[0],2)+Math.pow(l[1]-g[1],2));return h/T}function f(u,l,g){for(var h=l.length,T=u.length,c=new Array(h),a=new Array(h),d=new Array(h),x=new Array(h),w=0;w<h;++w)c[w]=a[w]=-1,d[w]=1/0,x[w]=!1;for(var w=0;w<T;++w){var C=u[w];if(C.length!==2)throw new Error("Input must be a graph");var y=C[1],M=C[0];a[M]!==-1?a[M]=-2:a[M]=y,c[y]!==-1?c[y]=-2:c[y]=M}function A($){if(x[$])return 1/0;var K=c[$],ie=a[$];return K<0||ie<0?1/0:n(l[$],l[K],l[ie])}function o($,K){var ie=F[$],Y=F[K];F[$]=Y,F[K]=ie,z[ie]=K,z[Y]=$}function E($){return d[F[$]]}function b($){return $&1?$-1>>1:($>>1)-1}function I($){for(var K=E($);;){var ie=K,Y=2*$+1,Q=2*($+1),oe=$;if(Y<W){var X=E(Y);X<ie&&(oe=Y,ie=X)}if(Q<W){var j=E(Q);j<ie&&(oe=Q)}if(oe===$)return $;o($,oe),$=oe}}function D($){for(var K=E($);$>0;){var ie=b($);if(ie>=0){var Y=E(ie);if(K<Y){o($,ie),$=ie;continue}}return $}}function N(){if(W>0){var $=F[0];return o(0,W-1),W-=1,I(0),$}return-1}function k($,K){var ie=F[$];return d[ie]===K?$:(d[ie]=-1/0,D($),N(),d[ie]=K,W+=1,D(W-1))}function O($){if(!x[$]){x[$]=!0;var K=c[$],ie=a[$];c[ie]>=0&&(c[ie]=K),a[K]>=0&&(a[K]=ie),z[K]>=0&&k(z[K],A(K)),z[ie]>=0&&k(z[ie],A(ie))}}for(var F=[],z=new Array(h),w=0;w<h;++w){var B=d[w]=A(w);B<1/0?(z[w]=F.length,F.push(w)):z[w]=-1}for(var W=F.length,w=W>>1;w>=0;--w)I(w);for(;;){var J=N();if(J<0||d[J]>g)break;O(J)}for(var re=[],w=0;w<h;++w)x[w]||(z[w]=re.length,re.push(l[w].slice()));re.length;function ne($,K){if($[K]<0)return K;var ie=K,Y=K;do{var Q=$[Y];if(!x[Y]||Q<0||Q===Y||(Y=Q,Q=$[Y],!x[Y]||Q<0||Q===Y))break;Y=Q,ie=$[ie]}while(ie!==Y);for(var oe=K;oe!==Y;oe=$[oe])$[oe]=Y;return Y}var le=[];return u.forEach(function($){var K=ne(c,$[0]),ie=ne(a,$[1]);if(K>=0&&ie>=0&&K!==ie){var Y=z[K],Q=z[ie];Y!==Q&&le.push([Y,Q])}}),i.unique(i.normalize(le)),{positions:re,edges:le}}},1303:function(v,p,r){v.exports=n;var t=r(3250);function i(f,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else{var h=Math.min(f[0][1],f[1][1]),T=Math.max(f[0][1],f[1][1]),c=Math.min(u[0][1],u[1][1]),a=Math.max(u[0][1],u[1][1]);return T<c?T-c:h>a?h-a:T-a}var d,x;f[0][1]<f[1][1]?(d=f[0],x=f[1]):(d=f[1],x=f[0]);var w=t(g,l,d);return w||(w=t(g,l,x),w)?w:x-g}function n(f,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else return i(u,f);var h,T;if(f[0][0]<f[1][0])h=f[0],T=f[1];else if(f[0][0]>f[1][0])h=f[1],T=f[0];else return-i(f,u);var c=t(l,g,T),a=t(l,g,h);if(c<0){if(a<=0)return c}else if(c>0){if(a>=0)return c}else if(a)return a;if(c=t(T,h,g),a=t(T,h,l),c<0){if(a<=0)return c}else if(c>0){if(a>=0)return c}else if(a)return a;return g[0]-T[0]}},4209:function(v,p,r){v.exports=a;var t=r(2478),i=r(3840),n=r(3250),f=r(1303);function u(d,x,w){this.slabs=d,this.coordinates=x,this.horizontal=w}var l=u.prototype;function g(d,x){return d.y-x}function h(d,x){for(var w=null;d;){var C=d.key,y,M;C[0][0]<C[1][0]?(y=C[0],M=C[1]):(y=C[1],M=C[0]);var A=n(y,M,x);if(A<0)d=d.left;else if(A>0)if(x[0]!==C[1][0])w=d,d=d.right;else{var o=h(d.right,x);if(o)return o;d=d.left}else{if(x[0]!==C[1][0])return d;var o=h(d.right,x);if(o)return o;d=d.left}}return w}l.castUp=function(d){var x=t.le(this.coordinates,d[0]);if(x<0)return-1;this.slabs[x];var w=h(this.slabs[x],d),C=-1;if(w&&(C=w.value),this.coordinates[x]===d[0]){var y=null;if(w&&(y=w.key),x>0){var M=h(this.slabs[x-1],d);M&&(y?f(M.key,y)>0&&(y=M.key,C=M.value):(C=M.value,y=M.key))}var A=this.horizontal[x];if(A.length>0){var o=t.ge(A,d[1],g);if(o<A.length){var E=A[o];if(d[1]===E.y){if(E.closed)return E.index;for(;o<A.length-1&&A[o+1].y===d[1];)if(o=o+1,E=A[o],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(o=o+1,o>=A.length)return C;E=A[o]}}if(E.start)if(y){var b=n(y[0],y[1],[d[0],E.y]);y[0][0]>y[1][0]&&(b=-b),b>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function T(d,x,w,C){this.y=d,this.index=x,this.start=w,this.closed=C}function c(d,x,w,C){this.x=d,this.segment=x,this.create=w,this.index=C}function a(d){for(var x=d.length,w=2*x,C=new Array(w),y=0;y<x;++y){var M=d[y],A=M[0][0]<M[1][0];C[2*y]=new c(M[0][0],M,A,y),C[2*y+1]=new c(M[1][0],M,!A,y)}C.sort(function(O,F){var z=O.x-F.x;return z||(z=O.create-F.create,z)?z:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});for(var o=i(f),E=[],b=[],I=[],y=0;y<w;){for(var D=C[y].x,N=[];y<w;){var k=C[y];if(k.x!==D)break;y+=1,k.segment[0][0]===k.x&&k.segment[1][0]===k.x?k.create&&(k.segment[0][1]<k.segment[1][1]?(N.push(new T(k.segment[0][1],k.index,!0,!0)),N.push(new T(k.segment[1][1],k.index,!1,!1))):(N.push(new T(k.segment[1][1],k.index,!0,!1)),N.push(new T(k.segment[0][1],k.index,!1,!0)))):k.create?o=o.insert(k.segment,k.index):o=o.remove(k.segment)}E.push(o.root),b.push(D),I.push(N)}return new u(E,b,I)}},5202:function(v,p,r){var t=r(1944),i=r(8210);v.exports=u,v.exports.positive=l,v.exports.negative=g;function n(h,T){var c=i(t(h,T),[T[T.length-1]]);return c[c.length-1]}function f(h,T,c,a){var d=a-T,x=-T/d;x<0?x=0:x>1&&(x=1);for(var w=1-x,C=h.length,y=new Array(C),M=0;M<C;++M)y[M]=x*h[M]+w*c[M];return y}function u(h,T){for(var c=[],a=[],d=n(h[h.length-1],T),x=h[h.length-1],w=h[0],C=0;C<h.length;++C,x=w){w=h[C];var y=n(w,T);if(d<0&&y>0||d>0&&y<0){var M=f(x,y,w,d);c.push(M),a.push(M.slice())}y<0?a.push(w.slice()):y>0?c.push(w.slice()):(c.push(w.slice()),a.push(w.slice())),d=y}return{positive:c,negative:a}}function l(h,T){for(var c=[],a=n(h[h.length-1],T),d=h[h.length-1],x=h[0],w=0;w<h.length;++w,d=x){x=h[w];var C=n(x,T);(a<0&&C>0||a>0&&C<0)&&c.push(f(d,C,x,a)),C>=0&&c.push(x.slice()),a=C}return c}function g(h,T){for(var c=[],a=n(h[h.length-1],T),d=h[h.length-1],x=h[0],w=0;w<h.length;++w,d=x){x=h[w];var C=n(x,T);(a<0&&C>0||a>0&&C<0)&&c.push(f(d,C,x,a)),C<=0&&c.push(x.slice()),a=C}return c}},3387:function(v,p,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return u(g(h),arguments)}function f(h,T){return n.apply(null,[h].concat(T||[]))}function u(h,T){var c=1,a=h.length,d,x="",w,C,y,M,A,o,E,b;for(w=0;w<a;w++)if(typeof h[w]=="string")x+=h[w];else if(typeof h[w]=="object"){if(y=h[w],y.keys)for(d=T[c],C=0;C<y.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[C],y.keys[C-1]));d=d[y.keys[C]]}else y.param_no?d=T[y.param_no]:d=T[c++];if(i.not_type.test(y.type)&&i.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),i.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(i.number.test(y.type)&&(E=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}i.json.test(y.type)?x+=d:(i.number.test(y.type)&&(!E||y.sign)?(b=E?"+":"-",d=d.toString().replace(i.sign,"")):b="",A=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",o=y.width-(b+d).length,M=y.width&&o>0?A.repeat(o):"",x+=y.align?b+d+M:A==="0"?b+M+d:M+b+d)}return x}var l=Object.create(null);function g(h){if(l[h])return l[h];for(var T=h,c,a=[],d=0;T;){if((c=i.text.exec(T))!==null)a.push(c[0]);else if((c=i.modulo.exec(T))!==null)a.push("%");else if((c=i.placeholder.exec(T))!==null){if(c[2]){d|=1;var x=[],w=c[2],C=[];if((C=i.key.exec(w))!==null)for(x.push(C[1]);(w=w.substring(C[0].length))!=="";)if((C=i.key_access.exec(w))!==null)x.push(C[1]);else if((C=i.index_access.exec(w))!==null)x.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(c[0].length)}return l[h]=a}p.sprintf=n,p.vsprintf=f,typeof window<"u"&&(window.sprintf=n,window.vsprintf=f,t=(function(){return{sprintf:n,vsprintf:f}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},3711:function(v,p,r){v.exports=g;var t=r(2640),i=r(781),n={"2d":function(h,T,c){var a=h({order:T,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,w,C,y){return x>y|0},vertex:function(x,w,C,y,M,A,o,E,b,I,D,N,k){var O=(o<<0)+(E<<1)+(b<<2)+(I<<3)|0;if(!(O===0||O===15))switch(O){case 0:D.push([x-.5,w-.5]);break;case 1:D.push([x-.25-.25*(y+C-2*k)/(C-y),w-.25-.25*(M+C-2*k)/(C-M)]);break;case 2:D.push([x-.75-.25*(-y-C+2*k)/(y-C),w-.25-.25*(A+y-2*k)/(y-A)]);break;case 3:D.push([x-.5,w-.5-.5*(M+C+A+y-4*k)/(C-M+y-A)]);break;case 4:D.push([x-.25-.25*(A+M-2*k)/(M-A),w-.75-.25*(-M-C+2*k)/(M-C)]);break;case 5:D.push([x-.5-.5*(y+C+A+M-4*k)/(C-y+M-A),w-.5]);break;case 6:D.push([x-.5-.25*(-y-C+A+M)/(y-C+M-A),w-.5-.25*(-M-C+A+y)/(M-C+y-A)]);break;case 7:D.push([x-.75-.25*(A+M-2*k)/(M-A),w-.75-.25*(A+y-2*k)/(y-A)]);break;case 8:D.push([x-.75-.25*(-A-M+2*k)/(A-M),w-.75-.25*(-A-y+2*k)/(A-y)]);break;case 9:D.push([x-.5-.25*(y+C+-A-M)/(C-y+A-M),w-.5-.25*(M+C+-A-y)/(C-M+A-y)]);break;case 10:D.push([x-.5-.5*(-y-C+-A-M+4*k)/(y-C+A-M),w-.5]);break;case 11:D.push([x-.25-.25*(-A-M+2*k)/(A-M),w-.75-.25*(M+C-2*k)/(C-M)]);break;case 12:D.push([x-.5,w-.5-.5*(-M-C+-A-y+4*k)/(M-C+A-y)]);break;case 13:D.push([x-.75-.25*(y+C-2*k)/(C-y),w-.25-.25*(-A-y+2*k)/(A-y)]);break;case 14:D.push([x-.25-.25*(-y-C+2*k)/(y-C),w-.25-.25*(-M-C+2*k)/(M-C)]);break;case 15:D.push([x-.5,w-.5]);break}},cell:function(x,w,C,y,M,A,o,E,b){M?E.push([x,w]):E.push([w,x])}});return function(d,x){var w=[],C=[];return a(d,w,C,x),{positions:w,cells:C}}}};function f(h,T){var c=h.length+"d",a=n[c];if(a)return a(t,h,T)}function u(h,T){for(var c=i(h,T),a=c.length,d=new Array(a),x=new Array(a),w=0;w<a;++w)d[w]=[c[w]],x[w]=[w];return{positions:d,cells:x}}var l={};function g(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,d);var c=h.order.join()+"-"+h.dtype,a=l[c],d=+d||0;return a||(a=l[c]=f(h.order,h.dtype)),a(h,d)}},529:function(v,p,r){v.exports=u;var t=r(4359),i=window||m.global||{},n=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function f(l){for(var g=l.cells,h=l.positions,T=new Float32Array(g.length*6),c=0,a=0,d=0;d<g.length;++d)for(var x=g[d],w=0;w<3;++w){var C=h[x[w]];T[c++]=C[0],T[c++]=C[1]+1.4,a=Math.max(C[0],a)}return{data:T,shape:a}}function u(l,g,T){var T=T||{},c=T.fontStyle||"normal",a=T.fontWeight||"normal",d=T.fontVariant||"normal",x=[c,a,d,l].join("_"),w=n[x];w||(w=n[x]={" ":{data:new Float32Array(0),shape:.2}});var C=w[g];if(!C)if(g.length<=1||!/\d/.test(g))C=w[g]=f(t(g,{triangles:!0,font:l,fontStyle:c,fontWeight:a,fontVariant:d,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=g.split(/(\d|\s)/),M=new Array(y.length),A=0,o=0,E=0;E<y.length;++E)M[E]=u(l,y[E]),A+=M[E].data.length,o+=M[E].shape,E>0&&(o+=.02);for(var b=new Float32Array(A),I=0,D=-.5*o,E=0;E<M.length;++E){for(var N=M[E].data,k=0;k<N.length;k+=2)b[I++]=N[k]+D,b[I++]=N[k+1];D+=M[E].shape+.02}C=w[g]={data:b,shape:o}}return C}},665:function(v,p,r){var t=r(3202);v.exports=u;var i=96;function n(l,g){var h=t(getComputedStyle(l).getPropertyValue(g));return h[0]*u(h[1],l)}function f(l,g){var h=document.createElement("div");h.style["font-size"]="128"+l,g.appendChild(h);var T=n(h,"font-size")/128;return g.removeChild(h),T}function u(l,g){switch(g=g||document.body,l=(l||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),l){case"%":return g.clientHeight/100;case"ch":case"ex":return f(l,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},7261:function(v,p,r){v.exports=x;var t=r(9215),i=r(7608),n=r(6079),f=r(5911),u=r(3536),l=r(244);function g(w,C,y){return Math.sqrt(Math.pow(w,2)+Math.pow(C,2)+Math.pow(y,2))}function h(w){return Math.min(1,Math.max(-1,w))}function T(w){var C=Math.abs(w[0]),y=Math.abs(w[1]),M=Math.abs(w[2]),A=[0,0,0];C>Math.max(y,M)?A[2]=1:y>Math.max(C,M)?A[0]=1:A[1]=1;for(var o=0,E=0,b=0;b<3;++b)o+=w[b]*w[b],E+=A[b]*w[b];for(var b=0;b<3;++b)A[b]-=E/o*w[b];return u(A,A),A}function c(w,C,y,M,A,o,E,b){this.center=t(y),this.up=t(M),this.right=t(A),this.radius=t([o]),this.angle=t([E,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var I=0;I<16;++I)this.computedMatrix[I]=.5;this.recalcMatrix(0)}var a=c.prototype;a.setDistanceLimits=function(w,C){w>0?w=Math.log(w):w=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=C},a.getDistanceLimits=function(w){var C=this.radius.bounds[0];return w?(w[0]=Math.exp(C[0][0]),w[1]=Math.exp(C[1][0]),w):[Math.exp(C[0][0]),Math.exp(C[1][0])]},a.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var C=this.computedUp,y=this.computedRight,M=0,A=0,o=0;o<3;++o)A+=C[o]*y[o],M+=C[o]*C[o];for(var E=Math.sqrt(M),b=0,o=0;o<3;++o)y[o]-=C[o]*A/M,b+=y[o]*y[o],C[o]/=E;for(var I=Math.sqrt(b),o=0;o<3;++o)y[o]/=I;var D=this.computedToward;f(D,C,y),u(D,D);for(var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],O=this.computedAngle[1],F=Math.cos(k),z=Math.sin(k),B=Math.cos(O),W=Math.sin(O),J=this.computedCenter,re=F*B,ne=z*B,le=W,$=-F*W,K=-z*W,ie=B,Y=this.computedEye,Q=this.computedMatrix,o=0;o<3;++o){var oe=re*y[o]+ne*D[o]+le*C[o];Q[4*o+1]=$*y[o]+K*D[o]+ie*C[o],Q[4*o+2]=oe,Q[4*o+3]=0}var X=Q[1],j=Q[5],se=Q[9],te=Q[2],fe=Q[6],ge=Q[10],be=j*ge-se*fe,xe=se*te-X*ge,_e=X*fe-j*te,De=g(be,xe,_e);be/=De,xe/=De,_e/=De,Q[0]=be,Q[4]=xe,Q[8]=_e;for(var o=0;o<3;++o)Y[o]=J[o]+Q[2+4*o]*N;for(var o=0;o<3;++o){for(var b=0,Fe=0;Fe<3;++Fe)b+=Q[o+4*Fe]*Y[Fe];Q[12+o]=-b}Q[15]=1},a.getMatrix=function(w,C){this.recalcMatrix(w);var y=this.computedMatrix;if(C){for(var M=0;M<16;++M)C[M]=y[M];return C}return y};var d=[0,0,0];a.rotate=function(w,C,y,M){if(this.angle.move(w,C,y),M){this.recalcMatrix(w);var A=this.computedMatrix;d[0]=A[2],d[1]=A[6],d[2]=A[10];for(var o=this.computedUp,E=this.computedRight,b=this.computedToward,I=0;I<3;++I)A[4*I]=o[I],A[4*I+1]=E[I],A[4*I+2]=b[I];n(A,A,M,d);for(var I=0;I<3;++I)o[I]=A[4*I],E[I]=A[4*I+1];this.up.set(w,o[0],o[1],o[2]),this.right.set(w,E[0],E[1],E[2])}},a.pan=function(w,C,y,M){C=C||0,y=y||0,M=M||0,this.recalcMatrix(w);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var o=A[1],E=A[5],b=A[9],I=g(o,E,b);o/=I,E/=I,b/=I;var D=A[0],N=A[4],k=A[8],O=D*o+N*E+k*b;D-=o*O,N-=E*O,k-=b*O;var F=g(D,N,k);D/=F,N/=F,k/=F;var z=D*C+o*y,B=N*C+E*y,W=k*C+b*y;this.center.move(w,z,B,W);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+M),this.radius.set(w,Math.log(J))},a.translate=function(w,C,y,M){this.center.move(w,C||0,y||0,M||0)},a.setMatrix=function(w,C,y,M){var A=1;typeof y=="number"&&(A=y|0),(A<0||A>3)&&(A=1);var o=(A+2)%3;C||(this.recalcMatrix(w),C=this.computedMatrix);var E=C[A],b=C[A+4],I=C[A+8];if(M){var N=Math.abs(E),k=Math.abs(b),O=Math.abs(I),F=Math.max(N,k,O);N===F?(E=E<0?-1:1,b=I=0):O===F?(I=I<0?-1:1,E=b=0):(b=b<0?-1:1,E=I=0)}else{var D=g(E,b,I);E/=D,b/=D,I/=D}var z=C[o],B=C[o+4],W=C[o+8],J=z*E+B*b+W*I;z-=E*J,B-=b*J,W-=I*J;var re=g(z,B,W);z/=re,B/=re,W/=re;var ne=b*W-I*B,le=I*z-E*W,$=E*B-b*z,K=g(ne,le,$);ne/=K,le/=K,$/=K,this.center.jump(w,Ie,Me,Ve),this.radius.idle(w),this.up.jump(w,E,b,I),this.right.jump(w,z,B,W);var ie,Y;if(A===2){var Q=C[1],oe=C[5],X=C[9],j=Q*z+oe*B+X*W,se=Q*ne+oe*le+X*$;be<0?ie=-Math.PI/2:ie=Math.PI/2,Y=Math.atan2(se,j)}else{var te=C[2],fe=C[6],ge=C[10],be=te*E+fe*b+ge*I,xe=te*z+fe*B+ge*W,_e=te*ne+fe*le+ge*$;ie=Math.asin(h(be)),Y=Math.atan2(_e,xe)}this.angle.jump(w,Y,ie),this.recalcMatrix(w);var De=C[2],Fe=C[6],Te=C[10],Re=this.computedMatrix;i(Re,C);var Se=Re[15],Ie=Re[12]/Se,Me=Re[13]/Se,Ve=Re[14]/Se,et=Math.exp(this.computedRadius[0]);this.center.jump(w,Ie-De*et,Me-Fe*et,Ve-Te*et)},a.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},a.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},a.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},a.setDistance=function(w,C){C>0&&this.radius.set(w,Math.log(C))},a.lookAt=function(w,C,y,M){this.recalcMatrix(w),C=C||this.computedEye,y=y||this.computedCenter,M=M||this.computedUp;var A=M[0],o=M[1],E=M[2],b=g(A,o,E);if(!(b<1e-6)){A/=b,o/=b,E/=b;var I=C[0]-y[0],D=C[1]-y[1],N=C[2]-y[2],k=g(I,D,N);if(!(k<1e-6)){I/=k,D/=k,N/=k;var O=this.computedRight,F=O[0],z=O[1],B=O[2],W=A*F+o*z+E*B;F-=W*A,z-=W*o,B-=W*E;var J=g(F,z,B);if(!(J<.01&&(F=o*N-E*D,z=E*I-A*N,B=A*D-o*I,J=g(F,z,B),J<1e-6))){F/=J,z/=J,B/=J,this.up.set(w,A,o,E),this.right.set(w,F,z,B),this.center.set(w,y[0],y[1],y[2]),this.radius.set(w,Math.log(k));var re=o*B-E*z,ne=E*F-A*B,le=A*z-o*F,$=g(re,ne,le);re/=$,ne/=$,le/=$;var K=A*I+o*D+E*N,ie=F*I+z*D+B*N,Y=re*I+ne*D+le*N,Q=Math.asin(h(K)),oe=Math.atan2(Y,ie),X=this.angle._state,j=X[X.length-1],se=X[X.length-2];j=j%(2*Math.PI);var te=Math.abs(j+2*Math.PI-oe),fe=Math.abs(j-oe),ge=Math.abs(j-2*Math.PI-oe);te<fe&&(j+=2*Math.PI),ge<fe&&(j-=2*Math.PI),this.angle.jump(this.angle.lastT(),j,se),this.angle.set(w,oe,Q)}}}};function x(w){w=w||{};var C=w.center||[0,0,0],y=w.up||[0,1,0],M=w.right||T(y),A=w.radius||1,o=w.theta||0,E=w.phi||0;if(C=[].slice.call(C,0,3),y=[].slice.call(y,0,3),u(y,y),M=[].slice.call(M,0,3),u(M,M),"eye"in w){var b=w.eye,I=[b[0]-C[0],b[1]-C[1],b[2]-C[2]];f(M,I,y),g(M[0],M[1],M[2])<1e-6?M=T(y):u(M,M),A=g(I[0],I[1],I[2]);var D=l(y,I)/A,N=l(M,I)/A;E=Math.acos(D),o=Math.acos(N)}return A=Math.log(A),new c(w.zoomMin,w.zoomMax,C,y,M,A,o,E)}},5250:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,i,n){var f=t*i,u=p*t,l=u-t,g=u-l,h=t-g,T=p*i,c=T-i,a=T-c,d=i-a,x=f-g*a,w=x-h*a,C=w-g*d,y=h*d-C;return n?(n[0]=y,n[1]=f,n):[y,f]}},9362:function(v){v.exports=p;function p(r,t,i){var n=r+t,f=n-r,u=n-f,l=t-f,g=r-u;return i?(i[0]=g+l,i[1]=n,i):[g+l,n]}},1888:function(v,p,r){var t=r(8828),i=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var f=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=i([32,0])),g.BIGUINT64||(g.BIGUINT64=i([32,0])),g.BIGINT64||(g.BIGINT64=i([32,0])),g.BUFFER||(g.BUFFER=i([32,0]));var h=g.DATA,T=g.BUFFER;p.free=function(F){if(n.isBuffer(F))T[t.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var z=F.length||F.byteLength,B=t.log2(z)|0;h[B].push(F)}};function c(O){if(O){var F=O.length||O.byteLength,z=t.log2(F);h[z].push(O)}}function a(O){c(O.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=a,p.freeArrayBuffer=c,p.freeBuffer=function(F){T[t.log2(F.length)].push(F)},p.malloc=function(F,z){if(z===void 0||z==="arraybuffer")return d(F);switch(z){case"uint8":return x(F);case"uint16":return w(F);case"uint32":return C(F);case"int8":return y(F);case"int16":return M(F);case"int32":return A(F);case"float":case"float32":return o(F);case"double":case"float64":return E(F);case"uint8_clamped":return b(F);case"bigint64":return D(F);case"biguint64":return I(F);case"buffer":return k(F);case"data":case"dataview":return N(F);default:return null}return null};function d(F){var F=t.nextPow2(F),z=t.log2(F),B=h[z];return B.length>0?B.pop():new ArrayBuffer(F)}p.mallocArrayBuffer=d;function x(O){return new Uint8Array(d(O),0,O)}p.mallocUint8=x;function w(O){return new Uint16Array(d(2*O),0,O)}p.mallocUint16=w;function C(O){return new Uint32Array(d(4*O),0,O)}p.mallocUint32=C;function y(O){return new Int8Array(d(O),0,O)}p.mallocInt8=y;function M(O){return new Int16Array(d(2*O),0,O)}p.mallocInt16=M;function A(O){return new Int32Array(d(4*O),0,O)}p.mallocInt32=A;function o(O){return new Float32Array(d(4*O),0,O)}p.mallocFloat32=p.mallocFloat=o;function E(O){return new Float64Array(d(8*O),0,O)}p.mallocFloat64=p.mallocDouble=E;function b(O){return f?new Uint8ClampedArray(d(O),0,O):x(O)}p.mallocUint8Clamped=b;function I(O){return u?new BigUint64Array(d(8*O),0,O):null}p.mallocBigUint64=I;function D(O){return l?new BigInt64Array(d(8*O),0,O):null}p.mallocBigInt64=D;function N(O){return new DataView(d(O),0,O)}p.mallocDataView=N;function k(O){O=t.nextPow2(O);var F=t.log2(O),z=T[F];return z.length>0?z.pop():new n(O)}p.mallocBuffer=k,p.clearCache=function(){for(var F=0;F<32;++F)g.UINT8[F].length=0,g.UINT16[F].length=0,g.UINT32[F].length=0,g.INT8[F].length=0,g.INT16[F].length=0,g.INT32[F].length=0,g.FLOAT[F].length=0,g.DOUBLE[F].length=0,g.BIGUINT64[F].length=0,g.BIGINT64[F].length=0,g.UINT8C[F].length=0,h[F].length=0,T[F].length=0}},1755:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[i]!==t;){var f=n[i];n[i]=t,i=f}return t},r.link=function(t,i){var n=this.find(t),f=this.find(i);if(n!==f){var u=this.ranks,l=this.roots,g=u[n],h=u[f];g<h?l[n]=f:h<g?l[f]=n:(l[f]=n,++u[n])}}},1682:function(v){function p(i,n){for(var f=1,u=i.length,l=i[0],g=i[0],h=1;h<u;++h)if(g=l,l=i[h],n(l,g)){if(h===f){f++;continue}i[f++]=l}return i.length=f,i}function r(i){for(var n=1,f=i.length,u=i[0],l=i[0],g=1;g<f;++g,l=u)if(l=u,u=i[g],u!==l){if(g===n){n++;continue}i[n++]=u}return i.length=n,i}function t(i,n,f){return i.length===0?i:n?(f||i.sort(n),p(i,n)):(f||i.sort(),r(i))}v.exports=t},4359:function(v,p,r){v.exports=f;var t=r(7718),i=null,n=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,n=i.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||i,l.context||n,l)}},7718:function(v,p,r){v.exports=D,v.exports.processPixels=I;var t=r(3711),i=r(9618),n=r(5878),f=r(332),u=r(2538),l=r(2095),g="b",h="b|",T="i",c="i|",a="sup",d="+",x="+1",w="sub",C="-",y="-1";function M(N,k,O,F){for(var z="<"+N+">",B="</"+N+">",W=z.length,J=B.length,re=k[0]===d||k[0]===C,ne=0,le=-J;ne>-1&&(ne=O.indexOf(z,ne),!(ne===-1||(le=O.indexOf(B,ne+W),le===-1)||le<=ne));){for(var $=ne;$<le+J;++$)if($<ne+W||$>=le)F[$]=null,O=O.substr(0,$)+" "+O.substr($+1);else if(F[$]!==null){var K=F[$].indexOf(k[0]);K===-1?F[$]+=k:re&&(F[$]=F[$].substr(0,K+1)+(1+parseInt(F[$][K+1]))+F[$].substr(K+2))}var ie=ne+W,Y=O.substr(ie,le-ie),Q=Y.indexOf(z);Q!==-1?ne=Q:ne=le+J}return F}function A(N,k,O){for(var F=k.textAlign||"start",z=k.textBaseline||"alphabetic",B=[1<<30,1<<30],W=[0,0],J=N.length,re=0;re<J;++re)for(var ne=N[re],le=0;le<2;++le)B[le]=Math.min(B[le],ne[le])|0,W[le]=Math.max(W[le],ne[le])|0;var $=0;switch(F){case"center":$=-.5*(B[0]+W[0]);break;case"right":case"end":$=-W[0];break;case"left":case"start":$=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var K=0;switch(z){case"hanging":case"top":K=-B[1];break;case"middle":K=-.5*(B[1]+W[1]);break;case"alphabetic":case"ideographic":K=-3*O;break;case"bottom":K=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var ie=1/O;return"lineHeight"in k?ie*=+k.lineHeight:"width"in k?ie=k.width/(W[0]-B[0]):"height"in k&&(ie=k.height/(W[1]-B[1])),N.map(function(Y){return[ie*(Y[0]+$),ie*(Y[1]+K)]})}function o(N,k,O,F,z,B){O=O.replace(/\n/g,""),B.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var W="",J=[];for(j=0;j<O.length;++j)J[j]=W;B.bolds===!0&&(J=M(g,h,O,J)),B.italics===!0&&(J=M(T,c,O,J)),B.superscripts===!0&&(J=M(a,x,O,J)),B.subscripts===!0&&(J=M(w,y,O,J));var re=[],ne="";for(j=0;j<O.length;++j)J[j]!==null&&(ne+=O[j],re.push(J[j]));var le=ne.split(`
`),$=le.length,K=Math.round(z*F),ie=F,Y=F*2,Q=0,oe=$*K+Y;N.height<oe&&(N.height=oe),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var X,j,se,te,fe,ge=0,be="";function xe(){if(be!==""){var Ve=k.measureText(be).width;k.fillText(be,ie+se,Y+te),se+=Ve}}function _e(){return""+Math.round(fe)+"px "}function De(Ve,et){var it=""+k.font;if(B.subscripts===!0){var Je=Ve.indexOf(C),Qe=et.indexOf(C),ct=Je>-1?parseInt(Ve[1+Je]):0,ht=Qe>-1?parseInt(et[1+Qe]):0;ct!==ht&&(it=it.replace(_e(),"?px "),fe*=Math.pow(.75,ht-ct),it=it.replace("?px ",_e())),te+=.25*K*(ht-ct)}if(B.superscripts===!0){var gt=Ve.indexOf(d),Tt=et.indexOf(d),Et=gt>-1?parseInt(Ve[1+gt]):0,rt=Tt>-1?parseInt(et[1+Tt]):0;Et!==rt&&(it=it.replace(_e(),"?px "),fe*=Math.pow(.75,rt-Et),it=it.replace("?px ",_e())),te-=.25*K*(rt-Et)}if(B.bolds===!0){var ze=Ve.indexOf(h)>-1,He=et.indexOf(h)>-1;!ze&&He&&(Ge?it=it.replace("italic ","italic bold "):it="bold "+it),ze&&!He&&(it=it.replace("bold ",""))}if(B.italics===!0){var Ge=Ve.indexOf(c)>-1,We=et.indexOf(c)>-1;!Ge&&We&&(it="italic "+it),Ge&&!We&&(it=it.replace("italic ",""))}k.font=it}for(X=0;X<$;++X){var Fe=le[X]+`
`;for(se=0,te=X*K,fe=F,be="",j=0;j<Fe.length;++j){var Te=j+ge<re.length?re[j+ge]:re[re.length-1];W===Te?be+=Fe[j]:(xe(),be=Fe[j],Te!==void 0&&(De(W,Te),W=Te))}xe(),ge+=Fe.length;var Re=Math.round(se+2*ie)|0;Q<Re&&(Q=Re)}var Se=Q,Ie=Y+K*$,Me=i(k.getImageData(0,0,Se,Ie).data,[Ie,Se,4]);return Me.pick(-1,-1,0).transpose(1,0)}function E(N,k){var O=t(N,128);return k?n(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function b(N,k,O,F){var z=E(N,F),B=A(z.positions,k,O),W=z.edges,J=k.orientation==="ccw";if(f(B,W),k.polygons||k.polygon||k.polyline){for(var re=l(W,B),ne=new Array(re.length),le=0;le<re.length;++le){for(var $=re[le],K=new Array($.length),ie=0;ie<$.length;++ie){for(var Y=$[ie],Q=new Array(Y.length),oe=0;oe<Y.length;++oe)Q[oe]=B[Y[oe]].slice();J&&Q.reverse(),K[ie]=Q}ne[le]=K}return ne}else return k.triangles||k.triangulate||k.triangle?{cells:u(B,W,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:W,positions:B}}function I(N,k,O){try{return b(N,k,O,!0)}catch{}try{return b(N,k,O,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function D(N,k,O,F){var z=64,B=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(z=F.size),F.lineSpacing&&F.lineSpacing>0&&(B=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(W.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(W.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(W.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(W.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(W.superscripts=!!F.styletags.superscripts)),O.font=[F.fontStyle,F.fontVariant,F.fontWeight,z+"px",F.font].filter(function(re){return re}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var J=o(k,O,N,z,B,W);return I(J,F,z)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new i,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,g=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),a=new Uint8Array(c);crypto.getRandomValues(a),T=h+"rand:"+Array.prototype.map.call(a,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,h.length)==h&&E.substr(E.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(b){return u(b).filter(d)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(b){return x(b).filter(d)}})}function w(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var b=E[T];if(b&&b.key===E)return b;if(g(E)){b={key:E};try{return l(E,T,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(N){return w(N),E(N)}});var b=Object.seal;l(Object,"seal",{value:function(N){return w(N),b(N)}});var I=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return w(N),I(N)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var y=!1;function M(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,o=function(){this instanceof o||M();var E=[],b=[],I=A++;function D(F,z){var B,W=w(F);return W?I in W?W[I]:z:(B=E.indexOf(F),B>=0?b[B]:z)}function N(F){var z=w(F);return z?I in z:E.indexOf(F)>=0}function k(F,z){var B,W=w(F);return W?W[I]=z:(B=E.indexOf(F),B>=0?b[B]=z:(B=E.length,b[B]=z,E[B]=F)),this}function O(F){var z=w(F),B,W;return z?I in z&&delete z[I]:(B=E.indexOf(F),B<0?!1:(W=E.length-1,E[B]=void 0,b[B]=b[W],E[B]=E[W],E.length=W,b.length=W,!0))}return Object.create(o.prototype,{get___:{value:C(D)},has___:{value:C(N)},set___:{value:C(k)},delete___:{value:C(O)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(b,I){return this.get___(b,I)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,I){return this.set___(b,I)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof o||M();var b=new i,I=void 0,D=!1;function N(z,B){return I?b.has(z)?b.get(z):I.get___(z,B):b.get(z,B)}function k(z){return b.has(z)||(I?I.has___(z):!1)}var O;t?O=function(z,B){return b.set(z,B),b.has(z)||(I||(I=new o),I.set(z,B)),this}:O=function(z,B){if(D)try{b.set(z,B)}catch{I||(I=new o),I.set___(z,B)}else b.set(z,B);return this};function F(z){var B=!!b.delete(z);return I&&I.delete___(z)||B}return Object.create(o.prototype,{get___:{value:C(N)},has___:{value:C(k)},set___:{value:C(O)},delete___:{value:C(F)},permitHostObjects___:{value:C(function(z){if(z===r)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=o.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=o)})()},236:function(v,p,r){var t=r(8284);v.exports=i;function i(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(n);return u&&u.identity===n?u:t(f,n)}}},8284:function(v){v.exports=p;function p(r,t){var i={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):i},writable:!0}),i}},606:function(v,p,r){var t=r(236);v.exports=i;function i(){var n=t();return{get:function(f,u){var l=n(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return n(f).value=u,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},3349:function(v){function p(){return function(u,l,g,h,T,c){var a=u[0],d=g[0],x=[0],w=d;h|=0;var C=0,y=d;for(C=0;C<a;++C){{var M=l[h]-c,A=l[h+w]-c;M>=0!=A>=0&&T.push(x[0]+.5+.5*(M+A)/(M-A))}h+=y,++x[0]}}}function r(){return p()}var t=r;function i(u){var l={};return function(h,T,c){var a=h.dtype,d=h.order,x=[a,d.join()].join(),w=l[x];return w||(l[x]=w=u([a,d])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,T,c)}}function n(u){return i(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},781:function(v,p,r){v.exports=i;var t=r(3349);function i(n,f){var u=[];return f=+f||0,t(n.hi(n.shape[0]-1),u,f),u}},7790:function(){}},s={};function L(v){var p=s[v];if(p!==void 0)return p.exports;var r=s[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var S=L(1964);G.exports=S})()},33576:function(G,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function m(rt,ze){if(!(rt instanceof ze))throw new TypeError("Cannot call a class as a function")}function P(rt,ze){for(var He=0;He<ze.length;He++){var Ge=ze[He];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(rt,L(Ge.key),Ge)}}function s(rt,ze,He){return ze&&P(rt.prototype,ze),Object.defineProperty(rt,"prototype",{writable:!1}),rt}function L(rt){var ze=S(rt,"string");return f(ze)==="symbol"?ze:String(ze)}function S(rt,ze){if(f(rt)!=="object"||rt===null)return rt;var He=rt[Symbol.toPrimitive];if(He!==void 0){var Ge=He.call(rt,ze);if(f(Ge)!=="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rt)}function v(rt,ze,He){function Ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return ze=r(ze),p(rt,Ge()?Reflect.construct(ze,[],r(rt).constructor):ze.apply(rt,He))}function p(rt,ze){if(ze&&(f(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(rt)}function r(rt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(He){return He.__proto__||Object.getPrototypeOf(He)},r(rt)}function t(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function i(rt,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(ze&&ze.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),ze&&n(rt,ze)}function n(rt,ze){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ge,We){return Ge.__proto__=We,Ge},n(rt,ze)}function f(rt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ze){return typeof ze}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},f(rt)}var u=e(59968),l=e(35984),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=a,H.SlowBuffer=I,H.INSPECT_MAX_BYTES=50;var h=2147483647;H.kMaxLength=h,a.TYPED_ARRAY_SUPPORT=T(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var rt=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(rt,ze),rt.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function c(rt){if(rt>h)throw new RangeError('The value "'+rt+'" is invalid for option "size"');var ze=new Uint8Array(rt);return Object.setPrototypeOf(ze,a.prototype),ze}function a(rt,ze,He){if(typeof rt=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(rt)}return d(rt,ze,He)}a.poolSize=8192;function d(rt,ze,He){if(typeof rt=="string")return y(rt,ze);if(ArrayBuffer.isView(rt))return A(rt);if(rt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(rt));if(ct(rt,ArrayBuffer)||rt&&ct(rt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(rt,SharedArrayBuffer)||rt&&ct(rt.buffer,SharedArrayBuffer)))return o(rt,ze,He);if(typeof rt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ge=rt.valueOf&&rt.valueOf();if(Ge!=null&&Ge!==rt)return a.from(Ge,ze,He);var We=E(rt);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof rt[Symbol.toPrimitive]=="function")return a.from(rt[Symbol.toPrimitive]("string"),ze,He);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(rt))}a.from=function(rt,ze,He){return d(rt,ze,He)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function x(rt){if(typeof rt!="number")throw new TypeError('"size" argument must be of type number');if(rt<0)throw new RangeError('The value "'+rt+'" is invalid for option "size"')}function w(rt,ze,He){return x(rt),rt<=0?c(rt):ze!==void 0?typeof He=="string"?c(rt).fill(ze,He):c(rt).fill(ze):c(rt)}a.alloc=function(rt,ze,He){return w(rt,ze,He)};function C(rt){return x(rt),c(rt<0?0:b(rt)|0)}a.allocUnsafe=function(rt){return C(rt)},a.allocUnsafeSlow=function(rt){return C(rt)};function y(rt,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!a.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var He=D(rt,ze)|0,Ge=c(He),We=Ge.write(rt,ze);return We!==He&&(Ge=Ge.slice(0,We)),Ge}function M(rt){for(var ze=rt.length<0?0:b(rt.length)|0,He=c(ze),Ge=0;Ge<ze;Ge+=1)He[Ge]=rt[Ge]&255;return He}function A(rt){if(ct(rt,Uint8Array)){var ze=new Uint8Array(rt);return o(ze.buffer,ze.byteOffset,ze.byteLength)}return M(rt)}function o(rt,ze,He){if(ze<0||rt.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(rt.byteLength<ze+(He||0))throw new RangeError('"length" is outside of buffer bounds');var Ge;return ze===void 0&&He===void 0?Ge=new Uint8Array(rt):He===void 0?Ge=new Uint8Array(rt,ze):Ge=new Uint8Array(rt,ze,He),Object.setPrototypeOf(Ge,a.prototype),Ge}function E(rt){if(a.isBuffer(rt)){var ze=b(rt.length)|0,He=c(ze);return He.length===0||rt.copy(He,0,0,ze),He}if(rt.length!==void 0)return typeof rt.length!="number"||ht(rt.length)?c(0):M(rt);if(rt.type==="Buffer"&&Array.isArray(rt.data))return M(rt.data)}function b(rt){if(rt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return rt|0}function I(rt){return+rt!=rt&&(rt=0),a.alloc(+rt)}a.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==a.prototype},a.compare=function(ze,He){if(ct(ze,Uint8Array)&&(ze=a.from(ze,ze.offset,ze.byteLength)),ct(He,Uint8Array)&&(He=a.from(He,He.offset,He.byteLength)),!a.isBuffer(ze)||!a.isBuffer(He))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===He)return 0;for(var Ge=ze.length,We=He.length,Le=0,Pe=Math.min(Ge,We);Le<Pe;++Le)if(ze[Le]!==He[Le]){Ge=ze[Le],We=He[Le];break}return Ge<We?-1:We<Ge?1:0},a.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(ze,He){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return a.alloc(0);var Ge;if(He===void 0)for(He=0,Ge=0;Ge<ze.length;++Ge)He+=ze[Ge].length;var We=a.allocUnsafe(He),Le=0;for(Ge=0;Ge<ze.length;++Ge){var Pe=ze[Ge];if(ct(Pe,Uint8Array))Le+Pe.length>We.length?(a.isBuffer(Pe)||(Pe=a.from(Pe)),Pe.copy(We,Le)):Uint8Array.prototype.set.call(We,Pe,Le);else if(a.isBuffer(Pe))Pe.copy(We,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Pe.length}return We};function D(rt,ze){if(a.isBuffer(rt))return rt.length;if(ArrayBuffer.isView(rt)||ct(rt,ArrayBuffer))return rt.byteLength;if(typeof rt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(rt));var He=rt.length,Ge=arguments.length>2&&arguments[2]===!0;if(!Ge&&He===0)return 0;for(var We=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return He;case"utf8":case"utf-8":return Ve(rt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return He*2;case"hex":return He>>>1;case"base64":return Je(rt).length;default:if(We)return Ge?-1:Ve(rt).length;ze=(""+ze).toLowerCase(),We=!0}}a.byteLength=D;function N(rt,ze,He){var Ge=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((He===void 0||He>this.length)&&(He=this.length),He<=0)||(He>>>=0,ze>>>=0,He<=ze))return"";for(rt||(rt="utf8");;)switch(rt){case"hex":return Q(this,ze,He);case"utf8":case"utf-8":return le(this,ze,He);case"ascii":return ie(this,ze,He);case"latin1":case"binary":return Y(this,ze,He);case"base64":return ne(this,ze,He);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,ze,He);default:if(Ge)throw new TypeError("Unknown encoding: "+rt);rt=(rt+"").toLowerCase(),Ge=!0}}a.prototype._isBuffer=!0;function k(rt,ze,He){var Ge=rt[ze];rt[ze]=rt[He],rt[He]=Ge}a.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var He=0;He<ze;He+=2)k(this,He,He+1);return this},a.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var He=0;He<ze;He+=4)k(this,He,He+3),k(this,He+1,He+2);return this},a.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var He=0;He<ze;He+=8)k(this,He,He+7),k(this,He+1,He+6),k(this,He+2,He+5),k(this,He+3,He+4);return this},a.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?le(this,0,ze):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(ze){if(!a.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:a.compare(this,ze)===0},a.prototype.inspect=function(){var ze="",He=H.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,He).replace(/(.{2})/g,"$1 ").trim(),this.length>He&&(ze+=" ... "),"<Buffer "+ze+">"},g&&(a.prototype[g]=a.prototype.inspect),a.prototype.compare=function(ze,He,Ge,We,Le){if(ct(ze,Uint8Array)&&(ze=a.from(ze,ze.offset,ze.byteLength)),!a.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(ze));if(He===void 0&&(He=0),Ge===void 0&&(Ge=ze?ze.length:0),We===void 0&&(We=0),Le===void 0&&(Le=this.length),He<0||Ge>ze.length||We<0||Le>this.length)throw new RangeError("out of range index");if(We>=Le&&He>=Ge)return 0;if(We>=Le)return-1;if(He>=Ge)return 1;if(He>>>=0,Ge>>>=0,We>>>=0,Le>>>=0,this===ze)return 0;for(var Pe=Le-We,je=Ge-He,Ce=Math.min(Pe,je),he=this.slice(We,Le),me=ze.slice(He,Ge),Ne=0;Ne<Ce;++Ne)if(he[Ne]!==me[Ne]){Pe=he[Ne],je=me[Ne];break}return Pe<je?-1:je<Pe?1:0};function O(rt,ze,He,Ge,We){if(rt.length===0)return-1;if(typeof He=="string"?(Ge=He,He=0):He>2147483647?He=2147483647:He<-2147483648&&(He=-2147483648),He=+He,ht(He)&&(He=We?0:rt.length-1),He<0&&(He=rt.length+He),He>=rt.length){if(We)return-1;He=rt.length-1}else if(He<0)if(We)He=0;else return-1;if(typeof ze=="string"&&(ze=a.from(ze,Ge)),a.isBuffer(ze))return ze.length===0?-1:F(rt,ze,He,Ge,We);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(rt,ze,He):Uint8Array.prototype.lastIndexOf.call(rt,ze,He):F(rt,[ze],He,Ge,We);throw new TypeError("val must be string, number or Buffer")}function F(rt,ze,He,Ge,We){var Le=1,Pe=rt.length,je=ze.length;if(Ge!==void 0&&(Ge=String(Ge).toLowerCase(),Ge==="ucs2"||Ge==="ucs-2"||Ge==="utf16le"||Ge==="utf-16le")){if(rt.length<2||ze.length<2)return-1;Le=2,Pe/=2,je/=2,He/=2}function Ce(ot,st){return Le===1?ot[st]:ot.readUInt16BE(st*Le)}var he;if(We){var me=-1;for(he=He;he<Pe;he++)if(Ce(rt,he)===Ce(ze,me===-1?0:he-me)){if(me===-1&&(me=he),he-me+1===je)return me*Le}else me!==-1&&(he-=he-me),me=-1}else for(He+je>Pe&&(He=Pe-je),he=He;he>=0;he--){for(var Ne=!0,$e=0;$e<je;$e++)if(Ce(rt,he+$e)!==Ce(ze,$e)){Ne=!1;break}if(Ne)return he}return-1}a.prototype.includes=function(ze,He,Ge){return this.indexOf(ze,He,Ge)!==-1},a.prototype.indexOf=function(ze,He,Ge){return O(this,ze,He,Ge,!0)},a.prototype.lastIndexOf=function(ze,He,Ge){return O(this,ze,He,Ge,!1)};function z(rt,ze,He,Ge){He=Number(He)||0;var We=rt.length-He;Ge?(Ge=Number(Ge),Ge>We&&(Ge=We)):Ge=We;var Le=ze.length;Ge>Le/2&&(Ge=Le/2);var Pe;for(Pe=0;Pe<Ge;++Pe){var je=parseInt(ze.substr(Pe*2,2),16);if(ht(je))return Pe;rt[He+Pe]=je}return Pe}function B(rt,ze,He,Ge){return Qe(Ve(ze,rt.length-He),rt,He,Ge)}function W(rt,ze,He,Ge){return Qe(et(ze),rt,He,Ge)}function J(rt,ze,He,Ge){return Qe(Je(ze),rt,He,Ge)}function re(rt,ze,He,Ge){return Qe(it(ze,rt.length-He),rt,He,Ge)}a.prototype.write=function(ze,He,Ge,We){if(He===void 0)We="utf8",Ge=this.length,He=0;else if(Ge===void 0&&typeof He=="string")We=He,Ge=this.length,He=0;else if(isFinite(He))He=He>>>0,isFinite(Ge)?(Ge=Ge>>>0,We===void 0&&(We="utf8")):(We=Ge,Ge=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Le=this.length-He;if((Ge===void 0||Ge>Le)&&(Ge=Le),ze.length>0&&(Ge<0||He<0)||He>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var Pe=!1;;)switch(We){case"hex":return z(this,ze,He,Ge);case"utf8":case"utf-8":return B(this,ze,He,Ge);case"ascii":case"latin1":case"binary":return W(this,ze,He,Ge);case"base64":return J(this,ze,He,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,ze,He,Ge);default:if(Pe)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Pe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(rt,ze,He){return ze===0&&He===rt.length?u.fromByteArray(rt):u.fromByteArray(rt.slice(ze,He))}function le(rt,ze,He){He=Math.min(rt.length,He);for(var Ge=[],We=ze;We<He;){var Le=rt[We],Pe=null,je=Le>239?4:Le>223?3:Le>191?2:1;if(We+je<=He){var Ce=void 0,he=void 0,me=void 0,Ne=void 0;switch(je){case 1:Le<128&&(Pe=Le);break;case 2:Ce=rt[We+1],(Ce&192)===128&&(Ne=(Le&31)<<6|Ce&63,Ne>127&&(Pe=Ne));break;case 3:Ce=rt[We+1],he=rt[We+2],(Ce&192)===128&&(he&192)===128&&(Ne=(Le&15)<<12|(Ce&63)<<6|he&63,Ne>2047&&(Ne<55296||Ne>57343)&&(Pe=Ne));break;case 4:Ce=rt[We+1],he=rt[We+2],me=rt[We+3],(Ce&192)===128&&(he&192)===128&&(me&192)===128&&(Ne=(Le&15)<<18|(Ce&63)<<12|(he&63)<<6|me&63,Ne>65535&&Ne<1114112&&(Pe=Ne))}}Pe===null?(Pe=65533,je=1):Pe>65535&&(Pe-=65536,Ge.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),Ge.push(Pe),We+=je}return K(Ge)}var $=4096;function K(rt){var ze=rt.length;if(ze<=$)return String.fromCharCode.apply(String,rt);for(var He="",Ge=0;Ge<ze;)He+=String.fromCharCode.apply(String,rt.slice(Ge,Ge+=$));return He}function ie(rt,ze,He){var Ge="";He=Math.min(rt.length,He);for(var We=ze;We<He;++We)Ge+=String.fromCharCode(rt[We]&127);return Ge}function Y(rt,ze,He){var Ge="";He=Math.min(rt.length,He);for(var We=ze;We<He;++We)Ge+=String.fromCharCode(rt[We]);return Ge}function Q(rt,ze,He){var Ge=rt.length;(!ze||ze<0)&&(ze=0),(!He||He<0||He>Ge)&&(He=Ge);for(var We="",Le=ze;Le<He;++Le)We+=gt[rt[Le]];return We}function oe(rt,ze,He){for(var Ge=rt.slice(ze,He),We="",Le=0;Le<Ge.length-1;Le+=2)We+=String.fromCharCode(Ge[Le]+Ge[Le+1]*256);return We}a.prototype.slice=function(ze,He){var Ge=this.length;ze=~~ze,He=He===void 0?Ge:~~He,ze<0?(ze+=Ge,ze<0&&(ze=0)):ze>Ge&&(ze=Ge),He<0?(He+=Ge,He<0&&(He=0)):He>Ge&&(He=Ge),He<ze&&(He=ze);var We=this.subarray(ze,He);return Object.setPrototypeOf(We,a.prototype),We};function X(rt,ze,He){if(rt%1!==0||rt<0)throw new RangeError("offset is not uint");if(rt+ze>He)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(ze,He,Ge){ze=ze>>>0,He=He>>>0,Ge||X(ze,He,this.length);for(var We=this[ze],Le=1,Pe=0;++Pe<He&&(Le*=256);)We+=this[ze+Pe]*Le;return We},a.prototype.readUintBE=a.prototype.readUIntBE=function(ze,He,Ge){ze=ze>>>0,He=He>>>0,Ge||X(ze,He,this.length);for(var We=this[ze+--He],Le=1;He>0&&(Le*=256);)We+=this[ze+--He]*Le;return We},a.prototype.readUint8=a.prototype.readUInt8=function(ze,He){return ze=ze>>>0,He||X(ze,1,this.length),this[ze]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(ze,He){return ze=ze>>>0,He||X(ze,2,this.length),this[ze]|this[ze+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(ze,He){return ze=ze>>>0,He||X(ze,2,this.length),this[ze]<<8|this[ze+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(ze,He){return ze=ze>>>0,He||X(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(ze,He){return ze=ze>>>0,He||X(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},a.prototype.readBigUInt64LE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var He=this[ze],Ge=this[ze+7];(He===void 0||Ge===void 0)&&Se(ze,this.length-8);var We=He+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24),Le=this[++ze]+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+Ge*Math.pow(2,24);return BigInt(We)+(BigInt(Le)<<BigInt(32))}),a.prototype.readBigUInt64BE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var He=this[ze],Ge=this[ze+7];(He===void 0||Ge===void 0)&&Se(ze,this.length-8);var We=He*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze],Le=this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Ge;return(BigInt(We)<<BigInt(32))+BigInt(Le)}),a.prototype.readIntLE=function(ze,He,Ge){ze=ze>>>0,He=He>>>0,Ge||X(ze,He,this.length);for(var We=this[ze],Le=1,Pe=0;++Pe<He&&(Le*=256);)We+=this[ze+Pe]*Le;return Le*=128,We>=Le&&(We-=Math.pow(2,8*He)),We},a.prototype.readIntBE=function(ze,He,Ge){ze=ze>>>0,He=He>>>0,Ge||X(ze,He,this.length);for(var We=He,Le=1,Pe=this[ze+--We];We>0&&(Le*=256);)Pe+=this[ze+--We]*Le;return Le*=128,Pe>=Le&&(Pe-=Math.pow(2,8*He)),Pe},a.prototype.readInt8=function(ze,He){return ze=ze>>>0,He||X(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},a.prototype.readInt16LE=function(ze,He){ze=ze>>>0,He||X(ze,2,this.length);var Ge=this[ze]|this[ze+1]<<8;return Ge&32768?Ge|4294901760:Ge},a.prototype.readInt16BE=function(ze,He){ze=ze>>>0,He||X(ze,2,this.length);var Ge=this[ze+1]|this[ze]<<8;return Ge&32768?Ge|4294901760:Ge},a.prototype.readInt32LE=function(ze,He){return ze=ze>>>0,He||X(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},a.prototype.readInt32BE=function(ze,He){return ze=ze>>>0,He||X(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},a.prototype.readBigInt64LE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var He=this[ze],Ge=this[ze+7];(He===void 0||Ge===void 0)&&Se(ze,this.length-8);var We=this[ze+4]+this[ze+5]*Math.pow(2,8)+this[ze+6]*Math.pow(2,16)+(Ge<<24);return(BigInt(We)<<BigInt(32))+BigInt(He+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24))}),a.prototype.readBigInt64BE=Tt(function(ze){ze=ze>>>0,Re(ze,"offset");var He=this[ze],Ge=this[ze+7];(He===void 0||Ge===void 0)&&Se(ze,this.length-8);var We=(He<<24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze];return(BigInt(We)<<BigInt(32))+BigInt(this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Ge)}),a.prototype.readFloatLE=function(ze,He){return ze=ze>>>0,He||X(ze,4,this.length),l.read(this,ze,!0,23,4)},a.prototype.readFloatBE=function(ze,He){return ze=ze>>>0,He||X(ze,4,this.length),l.read(this,ze,!1,23,4)},a.prototype.readDoubleLE=function(ze,He){return ze=ze>>>0,He||X(ze,8,this.length),l.read(this,ze,!0,52,8)},a.prototype.readDoubleBE=function(ze,He){return ze=ze>>>0,He||X(ze,8,this.length),l.read(this,ze,!1,52,8)};function j(rt,ze,He,Ge,We,Le){if(!a.isBuffer(rt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>We||ze<Le)throw new RangeError('"value" argument is out of bounds');if(He+Ge>rt.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(ze,He,Ge,We){if(ze=+ze,He=He>>>0,Ge=Ge>>>0,!We){var Le=Math.pow(2,8*Ge)-1;j(this,ze,He,Ge,Le,0)}var Pe=1,je=0;for(this[He]=ze&255;++je<Ge&&(Pe*=256);)this[He+je]=ze/Pe&255;return He+Ge},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(ze,He,Ge,We){if(ze=+ze,He=He>>>0,Ge=Ge>>>0,!We){var Le=Math.pow(2,8*Ge)-1;j(this,ze,He,Ge,Le,0)}var Pe=Ge-1,je=1;for(this[He+Pe]=ze&255;--Pe>=0&&(je*=256);)this[He+Pe]=ze/je&255;return He+Ge},a.prototype.writeUint8=a.prototype.writeUInt8=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,1,255,0),this[He]=ze&255,He+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,2,65535,0),this[He]=ze&255,this[He+1]=ze>>>8,He+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,2,65535,0),this[He]=ze>>>8,this[He+1]=ze&255,He+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,4,4294967295,0),this[He+3]=ze>>>24,this[He+2]=ze>>>16,this[He+1]=ze>>>8,this[He]=ze&255,He+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,4,4294967295,0),this[He]=ze>>>24,this[He+1]=ze>>>16,this[He+2]=ze>>>8,this[He+3]=ze&255,He+4};function se(rt,ze,He,Ge,We){Te(ze,Ge,We,rt,He,7);var Le=Number(ze&BigInt(4294967295));rt[He++]=Le,Le=Le>>8,rt[He++]=Le,Le=Le>>8,rt[He++]=Le,Le=Le>>8,rt[He++]=Le;var Pe=Number(ze>>BigInt(32)&BigInt(4294967295));return rt[He++]=Pe,Pe=Pe>>8,rt[He++]=Pe,Pe=Pe>>8,rt[He++]=Pe,Pe=Pe>>8,rt[He++]=Pe,He}function te(rt,ze,He,Ge,We){Te(ze,Ge,We,rt,He,7);var Le=Number(ze&BigInt(4294967295));rt[He+7]=Le,Le=Le>>8,rt[He+6]=Le,Le=Le>>8,rt[He+5]=Le,Le=Le>>8,rt[He+4]=Le;var Pe=Number(ze>>BigInt(32)&BigInt(4294967295));return rt[He+3]=Pe,Pe=Pe>>8,rt[He+2]=Pe,Pe=Pe>>8,rt[He+1]=Pe,Pe=Pe>>8,rt[He]=Pe,He+8}a.prototype.writeBigUInt64LE=Tt(function(ze){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ze,He,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Tt(function(ze){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,ze,He,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(ze,He,Ge,We){if(ze=+ze,He=He>>>0,!We){var Le=Math.pow(2,8*Ge-1);j(this,ze,He,Ge,Le-1,-Le)}var Pe=0,je=1,Ce=0;for(this[He]=ze&255;++Pe<Ge&&(je*=256);)ze<0&&Ce===0&&this[He+Pe-1]!==0&&(Ce=1),this[He+Pe]=(ze/je>>0)-Ce&255;return He+Ge},a.prototype.writeIntBE=function(ze,He,Ge,We){if(ze=+ze,He=He>>>0,!We){var Le=Math.pow(2,8*Ge-1);j(this,ze,He,Ge,Le-1,-Le)}var Pe=Ge-1,je=1,Ce=0;for(this[He+Pe]=ze&255;--Pe>=0&&(je*=256);)ze<0&&Ce===0&&this[He+Pe+1]!==0&&(Ce=1),this[He+Pe]=(ze/je>>0)-Ce&255;return He+Ge},a.prototype.writeInt8=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,1,127,-128),ze<0&&(ze=255+ze+1),this[He]=ze&255,He+1},a.prototype.writeInt16LE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,2,32767,-32768),this[He]=ze&255,this[He+1]=ze>>>8,He+2},a.prototype.writeInt16BE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,2,32767,-32768),this[He]=ze>>>8,this[He+1]=ze&255,He+2},a.prototype.writeInt32LE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,4,2147483647,-2147483648),this[He]=ze&255,this[He+1]=ze>>>8,this[He+2]=ze>>>16,this[He+3]=ze>>>24,He+4},a.prototype.writeInt32BE=function(ze,He,Ge){return ze=+ze,He=He>>>0,Ge||j(this,ze,He,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[He]=ze>>>24,this[He+1]=ze>>>16,this[He+2]=ze>>>8,this[He+3]=ze&255,He+4},a.prototype.writeBigInt64LE=Tt(function(ze){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ze,He,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Tt(function(ze){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,ze,He,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(rt,ze,He,Ge,We,Le){if(He+Ge>rt.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("Index out of range")}function ge(rt,ze,He,Ge,We){return ze=+ze,He=He>>>0,We||fe(rt,ze,He,4),l.write(rt,ze,He,Ge,23,4),He+4}a.prototype.writeFloatLE=function(ze,He,Ge){return ge(this,ze,He,!0,Ge)},a.prototype.writeFloatBE=function(ze,He,Ge){return ge(this,ze,He,!1,Ge)};function be(rt,ze,He,Ge,We){return ze=+ze,He=He>>>0,We||fe(rt,ze,He,8),l.write(rt,ze,He,Ge,52,8),He+8}a.prototype.writeDoubleLE=function(ze,He,Ge){return be(this,ze,He,!0,Ge)},a.prototype.writeDoubleBE=function(ze,He,Ge){return be(this,ze,He,!1,Ge)},a.prototype.copy=function(ze,He,Ge,We){if(!a.isBuffer(ze))throw new TypeError("argument should be a Buffer");if(Ge||(Ge=0),!We&&We!==0&&(We=this.length),He>=ze.length&&(He=ze.length),He||(He=0),We>0&&We<Ge&&(We=Ge),We===Ge||ze.length===0||this.length===0)return 0;if(He<0)throw new RangeError("targetStart out of bounds");if(Ge<0||Ge>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),ze.length-He<We-Ge&&(We=ze.length-He+Ge);var Le=We-Ge;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(He,Ge,We):Uint8Array.prototype.set.call(ze,this.subarray(Ge,We),He),Le},a.prototype.fill=function(ze,He,Ge,We){if(typeof ze=="string"){if(typeof He=="string"?(We=He,He=0,Ge=this.length):typeof Ge=="string"&&(We=Ge,Ge=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!a.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(ze.length===1){var Le=ze.charCodeAt(0);(We==="utf8"&&Le<128||We==="latin1")&&(ze=Le)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(He<0||this.length<He||this.length<Ge)throw new RangeError("Out of range index");if(Ge<=He)return this;He=He>>>0,Ge=Ge===void 0?this.length:Ge>>>0,ze||(ze=0);var Pe;if(typeof ze=="number")for(Pe=He;Pe<Ge;++Pe)this[Pe]=ze;else{var je=a.isBuffer(ze)?ze:a.from(ze,We),Ce=je.length;if(Ce===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(Pe=0;Pe<Ge-He;++Pe)this[Pe+He]=je[Pe%Ce]}return this};var xe={};function _e(rt,ze,He){xe[rt]=function(Ge){i(We,Ge);function We(){var Le;return m(this,We),Le=v(this,We),Object.defineProperty(t(Le),"message",{value:ze.apply(t(Le),arguments),writable:!0,configurable:!0}),Le.name="".concat(Le.name," [").concat(rt,"]"),Le.stack,delete Le.name,Le}return s(We,[{key:"code",get:function(){return rt},set:function(Pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Pe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(rt,"]: ").concat(this.message)}}]),We}(He)}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(rt){return rt?"".concat(rt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(rt,ze){return'The "'.concat(rt,'" argument must be of type number. Received type ').concat(f(ze))},TypeError),_e("ERR_OUT_OF_RANGE",function(rt,ze,He){var Ge='The value of "'.concat(rt,'" is out of range.'),We=He;return Number.isInteger(He)&&Math.abs(He)>Math.pow(2,32)?We=De(String(He)):typeof He=="bigint"&&(We=String(He),(He>Math.pow(BigInt(2),BigInt(32))||He<-Math.pow(BigInt(2),BigInt(32)))&&(We=De(We)),We+="n"),Ge+=" It must be ".concat(ze,". Received ").concat(We),Ge},RangeError);function De(rt){for(var ze="",He=rt.length,Ge=rt[0]==="-"?1:0;He>=Ge+4;He-=3)ze="_".concat(rt.slice(He-3,He)).concat(ze);return"".concat(rt.slice(0,He)).concat(ze)}function Fe(rt,ze,He){Re(ze,"offset"),(rt[ze]===void 0||rt[ze+He]===void 0)&&Se(ze,rt.length-(He+1))}function Te(rt,ze,He,Ge,We,Le){if(rt>He||rt<ze){var Pe=typeof ze=="bigint"?"n":"",je;throw ze===0||ze===BigInt(0)?je=">= 0".concat(Pe," and < 2").concat(Pe," ** ").concat((Le+1)*8).concat(Pe):je=">= -(2".concat(Pe," ** ").concat((Le+1)*8-1).concat(Pe,") and < 2 ** ")+"".concat((Le+1)*8-1).concat(Pe),new xe.ERR_OUT_OF_RANGE("value",je,rt)}Fe(Ge,We,Le)}function Re(rt,ze){if(typeof rt!="number")throw new xe.ERR_INVALID_ARG_TYPE(ze,"number",rt)}function Se(rt,ze,He){throw Math.floor(rt)!==rt?(Re(rt,He),new xe.ERR_OUT_OF_RANGE("offset","an integer",rt)):ze<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(ze),rt)}var Ie=/[^+/0-9A-Za-z-_]/g;function Me(rt){if(rt=rt.split("=")[0],rt=rt.trim().replace(Ie,""),rt.length<2)return"";for(;rt.length%4!==0;)rt=rt+"=";return rt}function Ve(rt,ze){ze=ze||1/0;for(var He,Ge=rt.length,We=null,Le=[],Pe=0;Pe<Ge;++Pe){if(He=rt.charCodeAt(Pe),He>55295&&He<57344){if(!We){if(He>56319){(ze-=3)>-1&&Le.push(239,191,189);continue}else if(Pe+1===Ge){(ze-=3)>-1&&Le.push(239,191,189);continue}We=He;continue}if(He<56320){(ze-=3)>-1&&Le.push(239,191,189),We=He;continue}He=(We-55296<<10|He-56320)+65536}else We&&(ze-=3)>-1&&Le.push(239,191,189);if(We=null,He<128){if((ze-=1)<0)break;Le.push(He)}else if(He<2048){if((ze-=2)<0)break;Le.push(He>>6|192,He&63|128)}else if(He<65536){if((ze-=3)<0)break;Le.push(He>>12|224,He>>6&63|128,He&63|128)}else if(He<1114112){if((ze-=4)<0)break;Le.push(He>>18|240,He>>12&63|128,He>>6&63|128,He&63|128)}else throw new Error("Invalid code point")}return Le}function et(rt){for(var ze=[],He=0;He<rt.length;++He)ze.push(rt.charCodeAt(He)&255);return ze}function it(rt,ze){for(var He,Ge,We,Le=[],Pe=0;Pe<rt.length&&!((ze-=2)<0);++Pe)He=rt.charCodeAt(Pe),Ge=He>>8,We=He%256,Le.push(We),Le.push(Ge);return Le}function Je(rt){return u.toByteArray(Me(rt))}function Qe(rt,ze,He,Ge){var We;for(We=0;We<Ge&&!(We+He>=ze.length||We>=rt.length);++We)ze[We+He]=rt[We];return We}function ct(rt,ze){return rt instanceof ze||rt!=null&&rt.constructor!=null&&rt.constructor.name!=null&&rt.constructor.name===ze.name}function ht(rt){return rt!==rt}var gt=function(){for(var rt="0123456789abcdef",ze=new Array(256),He=0;He<16;++He)for(var Ge=He*16,We=0;We<16;++We)ze[Ge+We]=rt[He]+rt[We];return ze}();function Tt(rt){return typeof BigInt>"u"?Et:rt}function Et(){throw new Error("BigInt not supported")}},25928:function(G){G.exports=P,G.exports.isMobile=P,G.exports.default=P;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,m=/android|ipad|playbook|silk/i;function P(s){s||(s={});var L=s.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var S=H.test(L)&&!e.test(L)||!!s.tablet&&m.test(L);return!S&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(S=!0),S}},48932:function(G,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return i},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var m=e(84706),P=e(34712),s=e(10132),L=e(6688),S=e.n(L);function v(xe){return xe.target.depth}function p(xe){return xe.depth}function r(xe,_e){return _e-1-xe.height}function t(xe,_e){return xe.sourceLinks.length?xe.depth:_e-1}function i(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,m.SY)(xe.sourceLinks,v)-1:0}function n(xe){return function(){return xe}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function u(xe,_e){return g(xe.source,_e.source)||xe.index-_e.index}function l(xe,_e){return g(xe.target,_e.target)||xe.index-_e.index}function g(xe,_e){return xe.partOfCycle===_e.partOfCycle?xe.y0-_e.y0:xe.circularLinkType==="top"||_e.circularLinkType==="bottom"?-1:1}function h(xe){return xe.value}function T(xe){return(xe.y0+xe.y1)/2}function c(xe){return T(xe.source)}function a(xe){return T(xe.target)}function d(xe){return xe.index}function x(xe){return xe.nodes}function w(xe){return xe.links}function C(xe,_e){var De=xe.get(_e);if(!De)throw new Error("missing: "+_e);return De}function y(xe,_e){return _e(xe)}var M=25,A=10,o=.3;function E(){var xe=0,_e=0,De=1,Fe=1,Te=24,Re,Se=d,Ie=t,Me=x,Ve=w,et=32,it=2,Je,Qe=null;function ct(){var Ge={nodes:Me.apply(null,arguments),links:Ve.apply(null,arguments)};ht(Ge),b(Ge,Se,Qe),gt(Ge),rt(Ge),I(Ge,Se),ze(Ge,et,Se),He(Ge);for(var We=4,Le=0;Le<We;Le++)j(Ge,Fe,Se),se(Ge,Fe,Se),Q(Ge,_e,Fe,Se),j(Ge,Fe,Se),se(Ge,Fe,Se);return be(Ge,_e,Fe),z(Ge,it,Fe,Se),Ge}ct.nodeId=function(Ge){return arguments.length?(Se=typeof Ge=="function"?Ge:n(Ge),ct):Se},ct.nodeAlign=function(Ge){return arguments.length?(Ie=typeof Ge=="function"?Ge:n(Ge),ct):Ie},ct.nodeWidth=function(Ge){return arguments.length?(Te=+Ge,ct):Te},ct.nodePadding=function(Ge){return arguments.length?(Re=+Ge,ct):Re},ct.nodes=function(Ge){return arguments.length?(Me=typeof Ge=="function"?Ge:n(Ge),ct):Me},ct.links=function(Ge){return arguments.length?(Ve=typeof Ge=="function"?Ge:n(Ge),ct):Ve},ct.size=function(Ge){return arguments.length?(xe=_e=0,De=+Ge[0],Fe=+Ge[1],ct):[De-xe,Fe-_e]},ct.extent=function(Ge){return arguments.length?(xe=+Ge[0][0],De=+Ge[1][0],_e=+Ge[0][1],Fe=+Ge[1][1],ct):[[xe,_e],[De,Fe]]},ct.iterations=function(Ge){return arguments.length?(et=+Ge,ct):et},ct.circularLinkGap=function(Ge){return arguments.length?(it=+Ge,ct):it},ct.nodePaddingRatio=function(Ge){return arguments.length?(Je=+Ge,ct):Je},ct.sortNodes=function(Ge){return arguments.length?(Qe=Ge,ct):Qe},ct.update=function(Ge){return I(Ge,Se),He(Ge),Ge.links.forEach(function(We){We.circular&&(We.circularLinkType=We.y0+We.y1<Fe?"top":"bottom",We.source.circularLinkType=We.circularLinkType,We.target.circularLinkType=We.circularLinkType)}),j(Ge,Fe,Se,!1),se(Ge,Fe,Se),z(Ge,it,Fe,Se),Ge};function ht(Ge){Ge.nodes.forEach(function(Le,Pe){Le.index=Pe,Le.sourceLinks=[],Le.targetLinks=[]});var We=(0,P.kH)(Ge.nodes,Se);return Ge.links.forEach(function(Le,Pe){Le.index=Pe;var je=Le.source,Ce=Le.target;(typeof je>"u"?"undefined":f(je))!=="object"&&(je=Le.source=C(We,je)),(typeof Ce>"u"?"undefined":f(Ce))!=="object"&&(Ce=Le.target=C(We,Ce)),je.sourceLinks.push(Le),Ce.targetLinks.push(Le)}),Ge}function gt(Ge){Ge.nodes.forEach(function(We){We.partOfCycle=!1,We.value=Math.max((0,m.oh)(We.sourceLinks,h),(0,m.oh)(We.targetLinks,h)),We.sourceLinks.forEach(function(Le){Le.circular&&(We.partOfCycle=!0,We.circularLinkType=Le.circularLinkType)}),We.targetLinks.forEach(function(Le){Le.circular&&(We.partOfCycle=!0,We.circularLinkType=Le.circularLinkType)})})}function Tt(Ge){var We=0,Le=0,Pe=0,je=0,Ce=(0,m.kv)(Ge.nodes,function(he){return he.column});return Ge.links.forEach(function(he){he.circular&&(he.circularLinkType=="top"?We=We+he.width:Le=Le+he.width,he.target.column==0&&(je=je+he.width),he.source.column==Ce&&(Pe=Pe+he.width))}),We=We>0?We+M+A:We,Le=Le>0?Le+M+A:Le,Pe=Pe>0?Pe+M+A:Pe,je=je>0?je+M+A:je,{top:We,bottom:Le,left:je,right:Pe}}function Et(Ge,We){var Le=(0,m.kv)(Ge.nodes,function($e){return $e.column}),Pe=De-xe,je=Fe-_e,Ce=Pe+We.right+We.left,he=je+We.top+We.bottom,me=Pe/Ce,Ne=je/he;return xe=xe*me+We.left,De=We.right==0?De:De*me,_e=_e*Ne+We.top,Fe=Fe*Ne,Ge.nodes.forEach(function($e){$e.x0=xe+$e.column*((De-xe-Te)/Le),$e.x1=$e.x0+Te}),Ne}function rt(Ge){var We,Le,Pe;for(We=Ge.nodes,Le=[],Pe=0;We.length;++Pe,We=Le,Le=[])We.forEach(function(je){je.depth=Pe,je.sourceLinks.forEach(function(Ce){Le.indexOf(Ce.target)<0&&!Ce.circular&&Le.push(Ce.target)})});for(We=Ge.nodes,Le=[],Pe=0;We.length;++Pe,We=Le,Le=[])We.forEach(function(je){je.height=Pe,je.targetLinks.forEach(function(Ce){Le.indexOf(Ce.source)<0&&!Ce.circular&&Le.push(Ce.source)})});Ge.nodes.forEach(function(je){je.column=Math.floor(Ie.call(null,je,Pe))})}function ze(Ge,We,Le){var Pe=(0,P.UJ)().key(function($e){return $e.column}).sortKeys(m.XE).entries(Ge.nodes).map(function($e){return $e.values});he(Le),Ne();for(var je=1,Ce=We;Ce>0;--Ce)me(je*=.99,Le),Ne();function he($e){if(Je){var ot=1/0;Pe.forEach(function(dt){var Mt=Fe*Je/(dt.length+1);ot=Mt<ot?Mt:ot}),Re=ot}var st=(0,m.SY)(Pe,function(dt){return(Fe-_e-(dt.length-1)*Re)/(0,m.oh)(dt,h)});st=st*o,Ge.links.forEach(function(dt){dt.width=dt.value*st});var Wt=Tt(Ge),Pt=Et(Ge,Wt);st=st*Pt,Ge.links.forEach(function(dt){dt.width=dt.value*st}),Pe.forEach(function(dt){var Mt=dt.length;dt.forEach(function(Xt,nr){Xt.depth==Pe.length-1&&Mt==1||Xt.depth==0&&Mt==1?(Xt.y0=Fe/2-Xt.value*st,Xt.y1=Xt.y0+Xt.value*st):Xt.partOfCycle?k(Xt,$e)==0?(Xt.y0=Fe/2+nr,Xt.y1=Xt.y0+Xt.value*st):Xt.circularLinkType=="top"?(Xt.y0=_e+nr,Xt.y1=Xt.y0+Xt.value*st):(Xt.y0=Fe-Xt.value*st-nr,Xt.y1=Xt.y0+Xt.value*st):Wt.top==0||Wt.bottom==0?(Xt.y0=(Fe-_e)/Mt*nr,Xt.y1=Xt.y0+Xt.value*st):(Xt.y0=(Fe-_e)/2-Mt/2+nr,Xt.y1=Xt.y0+Xt.value*st)})})}function me($e,ot){var st=Pe.length;Pe.forEach(function(Wt){var Pt=Wt.length,dt=Wt[0].depth;Wt.forEach(function(Mt){var Xt;if((Mt.sourceLinks.length||Mt.targetLinks.length)&&!(Mt.partOfCycle&&k(Mt,ot)>0))if(dt==0&&Pt==1)Xt=Mt.y1-Mt.y0,Mt.y0=Fe/2-Xt/2,Mt.y1=Fe/2+Xt/2;else if(dt==st-1&&Pt==1)Xt=Mt.y1-Mt.y0,Mt.y0=Fe/2-Xt/2,Mt.y1=Fe/2+Xt/2;else{var nr=0,vt=(0,m.mo)(Mt.sourceLinks,a),Zt=(0,m.mo)(Mt.targetLinks,c);vt&&Zt?nr=(vt+Zt)/2:nr=vt||Zt;var Kt=(nr-T(Mt))*$e;Mt.y0+=Kt,Mt.y1+=Kt}})})}function Ne(){Pe.forEach(function($e){var ot,st,Wt=_e,Pt=$e.length,dt;for($e.sort(g),dt=0;dt<Pt;++dt)ot=$e[dt],st=Wt-ot.y0,st>0&&(ot.y0+=st,ot.y1+=st),Wt=ot.y1+Re;if(st=Wt-Re-Fe,st>0)for(Wt=ot.y0-=st,ot.y1-=st,dt=Pt-2;dt>=0;--dt)ot=$e[dt],st=ot.y1+Re-Wt,st>0&&(ot.y0-=st,ot.y1-=st),Wt=ot.y0})}}function He(Ge){Ge.nodes.forEach(function(We){We.sourceLinks.sort(l),We.targetLinks.sort(u)}),Ge.nodes.forEach(function(We){var Le=We.y0,Pe=Le,je=We.y1,Ce=je;We.sourceLinks.forEach(function(he){he.circular?(he.y0=je-he.width/2,je=je-he.width):(he.y0=Le+he.width/2,Le+=he.width)}),We.targetLinks.forEach(function(he){he.circular?(he.y1=Ce-he.width/2,Ce=Ce-he.width):(he.y1=Pe+he.width/2,Pe+=he.width)})})}return ct}function b(xe,_e,De){var Fe=0;if(De===null){for(var Te=[],Re=0;Re<xe.links.length;Re++){var Se=xe.links[Re],Ie=Se.source.index,Me=Se.target.index;Te[Ie]||(Te[Ie]=[]),Te[Me]||(Te[Me]=[]),Te[Ie].indexOf(Me)===-1&&Te[Ie].push(Me)}var Ve=S()(Te);Ve.sort(function(Qe,ct){return Qe.length-ct.length});var et={};for(Re=0;Re<Ve.length;Re++){var it=Ve[Re],Je=it.slice(-2);et[Je[0]]||(et[Je[0]]={}),et[Je[0]][Je[1]]=!0}xe.links.forEach(function(Qe){var ct=Qe.target.index,ht=Qe.source.index;ct===ht||et[ht]&&et[ht][ct]?(Qe.circular=!0,Qe.circularLinkID=Fe,Fe=Fe+1):Qe.circular=!1})}else xe.links.forEach(function(Qe){Qe.source[De]<Qe.target[De]?Qe.circular=!1:(Qe.circular=!0,Qe.circularLinkID=Fe,Fe=Fe+1)})}function I(xe,_e){var De=0,Fe=0;xe.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=De<Fe?"top":"bottom",Te.circularLinkType=="top"?De=De+1:Fe=Fe+1,xe.nodes.forEach(function(Re){(y(Re,_e)==y(Te.source,_e)||y(Re,_e)==y(Te.target,_e))&&(Re.circularLinkType=Te.circularLinkType)}))}),xe.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),ge(Te,_e)&&(Te.circularLinkType=Te.source.circularLinkType))})}function D(xe){var _e=Math.abs(xe.y1-xe.y0),De=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(De/_e)}function N(xe,_e){return xe.source.column<_e.target.column?!1:!(xe.target.column>_e.source.column)}function k(xe,_e){var De=0;xe.sourceLinks.forEach(function(Te){De=Te.circular&&!ge(Te,_e)?De+1:De});var Fe=0;return xe.targetLinks.forEach(function(Te){Fe=Te.circular&&!ge(Te,_e)?Fe+1:Fe}),De+Fe}function O(xe){var _e=xe.source.sourceLinks,De=0;_e.forEach(function(Re){De=Re.circular?De+1:De});var Fe=xe.target.targetLinks,Te=0;return Fe.forEach(function(Re){Te=Re.circular?Te+1:Te}),!(De>1||Te>1)}function F(xe,_e,De){return xe.sort(W),xe.forEach(function(Fe,Te){var Re=0;if(ge(Fe,De)&&O(Fe))Fe.circularPathData.verticalBuffer=Re+Fe.width/2;else{var Se=0;for(Se;Se<Te;Se++)if(N(xe[Te],xe[Se])){var Ie=xe[Se].circularPathData.verticalBuffer+xe[Se].width/2+_e;Re=Ie>Re?Ie:Re}Fe.circularPathData.verticalBuffer=Re+Fe.width/2}}),xe}function z(xe,_e,De,Fe){var Te=5,Re=(0,m.SY)(xe.links,function(Me){return Me.source.y0});xe.links.forEach(function(Me){Me.circular&&(Me.circularPathData={})});var Se=xe.links.filter(function(Me){return Me.circularLinkType=="top"});F(Se,_e,Fe);var Ie=xe.links.filter(function(Me){return Me.circularLinkType=="bottom"});F(Ie,_e,Fe),xe.links.forEach(function(Me){if(Me.circular){if(Me.circularPathData.arcRadius=Me.width+A,Me.circularPathData.leftNodeBuffer=Te,Me.circularPathData.rightNodeBuffer=Te,Me.circularPathData.sourceWidth=Me.source.x1-Me.source.x0,Me.circularPathData.sourceX=Me.source.x0+Me.circularPathData.sourceWidth,Me.circularPathData.targetX=Me.target.x0,Me.circularPathData.sourceY=Me.y0,Me.circularPathData.targetY=Me.y1,ge(Me,Fe)&&O(Me))Me.circularPathData.leftSmallArcRadius=A+Me.width/2,Me.circularPathData.leftLargeArcRadius=A+Me.width/2,Me.circularPathData.rightSmallArcRadius=A+Me.width/2,Me.circularPathData.rightLargeArcRadius=A+Me.width/2,Me.circularLinkType=="bottom"?(Me.circularPathData.verticalFullExtent=Me.source.y1+M+Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.rightLargeArcRadius):(Me.circularPathData.verticalFullExtent=Me.source.y0-M-Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.rightLargeArcRadius);else{var Ve=Me.source.column,et=Me.circularLinkType,it=xe.links.filter(function(ct){return ct.source.column==Ve&&ct.circularLinkType==et});Me.circularLinkType=="bottom"?it.sort(re):it.sort(J);var Je=0;it.forEach(function(ct,ht){ct.circularLinkID==Me.circularLinkID&&(Me.circularPathData.leftSmallArcRadius=A+Me.width/2+Je,Me.circularPathData.leftLargeArcRadius=A+Me.width/2+ht*_e+Je),Je=Je+ct.width}),Ve=Me.target.column,it=xe.links.filter(function(ct){return ct.target.column==Ve&&ct.circularLinkType==et}),Me.circularLinkType=="bottom"?it.sort(le):it.sort(ne),Je=0,it.forEach(function(ct,ht){ct.circularLinkID==Me.circularLinkID&&(Me.circularPathData.rightSmallArcRadius=A+Me.width/2+Je,Me.circularPathData.rightLargeArcRadius=A+Me.width/2+ht*_e+Je),Je=Je+ct.width}),Me.circularLinkType=="bottom"?(Me.circularPathData.verticalFullExtent=Math.max(De,Me.source.y1,Me.target.y1)+M+Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent-Me.circularPathData.rightLargeArcRadius):(Me.circularPathData.verticalFullExtent=Re-M-Me.circularPathData.verticalBuffer,Me.circularPathData.verticalLeftInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.leftLargeArcRadius,Me.circularPathData.verticalRightInnerExtent=Me.circularPathData.verticalFullExtent+Me.circularPathData.rightLargeArcRadius)}Me.circularPathData.leftInnerExtent=Me.circularPathData.sourceX+Me.circularPathData.leftNodeBuffer,Me.circularPathData.rightInnerExtent=Me.circularPathData.targetX-Me.circularPathData.rightNodeBuffer,Me.circularPathData.leftFullExtent=Me.circularPathData.sourceX+Me.circularPathData.leftLargeArcRadius+Me.circularPathData.leftNodeBuffer,Me.circularPathData.rightFullExtent=Me.circularPathData.targetX-Me.circularPathData.rightLargeArcRadius-Me.circularPathData.rightNodeBuffer}if(Me.circular)Me.path=B(Me);else{var Qe=(0,s.ak)().source(function(ct){var ht=ct.source.x0+(ct.source.x1-ct.source.x0),gt=ct.y0;return[ht,gt]}).target(function(ct){var ht=ct.target.x0,gt=ct.y1;return[ht,gt]});Me.path=Qe(Me)}})}function B(xe){var _e="";return xe.circularLinkType=="top"?_e="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 0 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY-xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 0 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 0 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY-xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 0 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY:_e="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 1 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY+xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 1 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 1 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY+xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 1 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY,_e}function W(xe,_e){return $(xe)==$(_e)?xe.circularLinkType=="bottom"?re(xe,_e):J(xe,_e):$(_e)-$(xe)}function J(xe,_e){return xe.y0-_e.y0}function re(xe,_e){return _e.y0-xe.y0}function ne(xe,_e){return xe.y1-_e.y1}function le(xe,_e){return _e.y1-xe.y1}function $(xe){return xe.target.column-xe.source.column}function K(xe){return xe.target.x0-xe.source.x1}function ie(xe,_e){var De=D(xe),Fe=K(_e)/Math.tan(De),Te=fe(xe)=="up"?xe.y1+Fe:xe.y1-Fe;return Te}function Y(xe,_e){var De=D(xe),Fe=K(_e)/Math.tan(De),Te=fe(xe)=="up"?xe.y1-Fe:xe.y1+Fe;return Te}function Q(xe,_e,De,Fe){xe.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var Re=Te.source.column+1,Se=Te.target.column-1,Ie=1,Me=Se-Re+1;for(Ie=1;Re<=Se;Re++,Ie++)xe.nodes.forEach(function(Ve){if(Ve.column==Re){var et=Ie/(Me+1),it=Math.pow(1-et,3),Je=3*et*Math.pow(1-et,2),Qe=3*Math.pow(et,2)*(1-et),ct=Math.pow(et,3),ht=it*Te.y0+Je*Te.y0+Qe*Te.y1+ct*Te.y1,gt=ht-Te.width/2,Tt=ht+Te.width/2,Et;gt>Ve.y0&&gt<Ve.y1?(Et=Ve.y1-gt+10,Et=Ve.circularLinkType=="bottom"?Et:-Et,Ve=X(Ve,Et,_e,De),xe.nodes.forEach(function(rt){y(rt,Fe)==y(Ve,Fe)||rt.column!=Ve.column||oe(Ve,rt)&&X(rt,Et,_e,De)})):Tt>Ve.y0&&Tt<Ve.y1?(Et=Tt-Ve.y0+10,Ve=X(Ve,Et,_e,De),xe.nodes.forEach(function(rt){y(rt,Fe)==y(Ve,Fe)||rt.column!=Ve.column||rt.y0<Ve.y1&&rt.y1>Ve.y1&&X(rt,Et,_e,De)})):gt<Ve.y0&&Tt>Ve.y1&&(Et=Tt-Ve.y0+10,Ve=X(Ve,Et,_e,De),xe.nodes.forEach(function(rt){y(rt,Fe)==y(Ve,Fe)||rt.column!=Ve.column||rt.y0<Ve.y1&&rt.y1>Ve.y1&&X(rt,Et,_e,De)}))}})}})}function oe(xe,_e){return xe.y0>_e.y0&&xe.y0<_e.y1||xe.y1>_e.y0&&xe.y1<_e.y1?!0:xe.y0<_e.y0&&xe.y1>_e.y1}function X(xe,_e,De,Fe){return xe.y0+_e>=De&&xe.y1+_e<=Fe&&(xe.y0=xe.y0+_e,xe.y1=xe.y1+_e,xe.targetLinks.forEach(function(Te){Te.y1=Te.y1+_e}),xe.sourceLinks.forEach(function(Te){Te.y0=Te.y0+_e})),xe}function j(xe,_e,De,Fe){xe.nodes.forEach(function(Te){Fe&&Te.y+(Te.y1-Te.y0)>_e&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-_e));var Re=xe.links.filter(function(Me){return y(Me.source,De)==y(Te,De)}),Se=Re.length;Se>1&&Re.sort(function(Me,Ve){if(!Me.circular&&!Ve.circular){if(Me.target.column==Ve.target.column)return Me.y1-Ve.y1;if(te(Me,Ve)){if(Me.target.column>Ve.target.column){var et=Y(Ve,Me);return Me.y1-et}if(Ve.target.column>Me.target.column){var it=Y(Me,Ve);return it-Ve.y1}}else return Me.y1-Ve.y1}if(Me.circular&&!Ve.circular)return Me.circularLinkType=="top"?-1:1;if(Ve.circular&&!Me.circular)return Ve.circularLinkType=="top"?1:-1;if(Me.circular&&Ve.circular)return Me.circularLinkType===Ve.circularLinkType&&Me.circularLinkType=="top"?Me.target.column===Ve.target.column?Me.target.y1-Ve.target.y1:Ve.target.column-Me.target.column:Me.circularLinkType===Ve.circularLinkType&&Me.circularLinkType=="bottom"?Me.target.column===Ve.target.column?Ve.target.y1-Me.target.y1:Me.target.column-Ve.target.column:Me.circularLinkType=="top"?-1:1});var Ie=Te.y0;Re.forEach(function(Me){Me.y0=Ie+Me.width/2,Ie=Ie+Me.width}),Re.forEach(function(Me,Ve){if(Me.circularLinkType=="bottom"){var et=Ve+1,it=0;for(et;et<Se;et++)it=it+Re[et].width;Me.y0=Te.y1-it-Me.width/2}})})}function se(xe,_e,De){xe.nodes.forEach(function(Fe){var Te=xe.links.filter(function(Ie){return y(Ie.target,De)==y(Fe,De)}),Re=Te.length;Re>1&&Te.sort(function(Ie,Me){if(!Ie.circular&&!Me.circular){if(Ie.source.column==Me.source.column)return Ie.y0-Me.y0;if(te(Ie,Me)){if(Me.source.column<Ie.source.column){var Ve=ie(Me,Ie);return Ie.y0-Ve}if(Ie.source.column<Me.source.column){var et=ie(Ie,Me);return et-Me.y0}}else return Ie.y0-Me.y0}if(Ie.circular&&!Me.circular)return Ie.circularLinkType=="top"?-1:1;if(Me.circular&&!Ie.circular)return Me.circularLinkType=="top"?1:-1;if(Ie.circular&&Me.circular)return Ie.circularLinkType===Me.circularLinkType&&Ie.circularLinkType=="top"?Ie.source.column===Me.source.column?Ie.source.y1-Me.source.y1:Ie.source.column-Me.source.column:Ie.circularLinkType===Me.circularLinkType&&Ie.circularLinkType=="bottom"?Ie.source.column===Me.source.column?Ie.source.y1-Me.source.y1:Me.source.column-Ie.source.column:Ie.circularLinkType=="top"?-1:1});var Se=Fe.y0;Te.forEach(function(Ie){Ie.y1=Se+Ie.width/2,Se=Se+Ie.width}),Te.forEach(function(Ie,Me){if(Ie.circularLinkType=="bottom"){var Ve=Me+1,et=0;for(Ve;Ve<Re;Ve++)et=et+Te[Ve].width;Ie.y1=Fe.y1-et-Ie.width/2}})})}function te(xe,_e){return fe(xe)==fe(_e)}function fe(xe){return xe.y0-xe.y1>0?"up":"down"}function ge(xe,_e){return y(xe.source,_e)==y(xe.target,_e)}function be(xe,_e,De){var Fe=xe.nodes,Te=xe.links,Re=!1,Se=!1;if(Te.forEach(function(Je){Je.circularLinkType=="top"?Re=!0:Je.circularLinkType=="bottom"&&(Se=!0)}),Re==!1||Se==!1){var Ie=(0,m.SY)(Fe,function(Je){return Je.y0}),Me=(0,m.kv)(Fe,function(Je){return Je.y1}),Ve=Me-Ie,et=De-_e,it=et/Ve;Fe.forEach(function(Je){var Qe=(Je.y1-Je.y0)*it;Je.y0=(Je.y0-Ie)*it,Je.y1=Je.y0+Qe}),Te.forEach(function(Je){Je.y0=(Je.y0-Ie)*it,Je.y1=(Je.y1-Ie)*it,Je.width=Je.width*it})}}},26800:function(G,H,e){e.r(H),e.d(H,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return S}});var m=e(84706),P=e(34712);function s(M){return M.target.depth}function L(M){return M.depth}function S(M,A){return A-1-M.height}function v(M,A){return M.sourceLinks.length?M.depth:A-1}function p(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?(0,m.SY)(M.sourceLinks,s)-1:0}function r(M){return function(){return M}}function t(M,A){return n(M.source,A.source)||M.index-A.index}function i(M,A){return n(M.target,A.target)||M.index-A.index}function n(M,A){return M.y0-A.y0}function f(M){return M.value}function u(M){return(M.y0+M.y1)/2}function l(M){return u(M.source)*M.value}function g(M){return u(M.target)*M.value}function h(M){return M.index}function T(M){return M.nodes}function c(M){return M.links}function a(M,A){var o=M.get(A);if(!o)throw new Error("missing: "+A);return o}function d(){var M=0,A=0,o=1,E=1,b=24,I=8,D=h,N=v,k=T,O=c,F=32,z=2/3;function B(){var $={nodes:k.apply(null,arguments),links:O.apply(null,arguments)};return W($),J($),re($),ne($),le($),$}B.update=function($){return le($),$},B.nodeId=function($){return arguments.length?(D=typeof $=="function"?$:r($),B):D},B.nodeAlign=function($){return arguments.length?(N=typeof $=="function"?$:r($),B):N},B.nodeWidth=function($){return arguments.length?(b=+$,B):b},B.nodePadding=function($){return arguments.length?(I=+$,B):I},B.nodes=function($){return arguments.length?(k=typeof $=="function"?$:r($),B):k},B.links=function($){return arguments.length?(O=typeof $=="function"?$:r($),B):O},B.size=function($){return arguments.length?(M=A=0,o=+$[0],E=+$[1],B):[o-M,E-A]},B.extent=function($){return arguments.length?(M=+$[0][0],o=+$[1][0],A=+$[0][1],E=+$[1][1],B):[[M,A],[o,E]]},B.iterations=function($){return arguments.length?(F=+$,B):F};function W($){$.nodes.forEach(function(ie,Y){ie.index=Y,ie.sourceLinks=[],ie.targetLinks=[]});var K=(0,P.kH)($.nodes,D);$.links.forEach(function(ie,Y){ie.index=Y;var Q=ie.source,oe=ie.target;typeof Q!="object"&&(Q=ie.source=a(K,Q)),typeof oe!="object"&&(oe=ie.target=a(K,oe)),Q.sourceLinks.push(ie),oe.targetLinks.push(ie)})}function J($){$.nodes.forEach(function(K){K.value=Math.max((0,m.oh)(K.sourceLinks,f),(0,m.oh)(K.targetLinks,f))})}function re($){var K,ie,Y;for(K=$.nodes,ie=[],Y=0;K.length;++Y,K=ie,ie=[])K.forEach(function(oe){oe.depth=Y,oe.sourceLinks.forEach(function(X){ie.indexOf(X.target)<0&&ie.push(X.target)})});for(K=$.nodes,ie=[],Y=0;K.length;++Y,K=ie,ie=[])K.forEach(function(oe){oe.height=Y,oe.targetLinks.forEach(function(X){ie.indexOf(X.source)<0&&ie.push(X.source)})});var Q=(o-M-b)/(Y-1);$.nodes.forEach(function(oe){oe.x1=(oe.x0=M+Math.max(0,Math.min(Y-1,Math.floor(N.call(null,oe,Y))))*Q)+b})}function ne($){var K=(0,P.UJ)().key(function(se){return se.x0}).sortKeys(m.XE).entries($.nodes).map(function(se){return se.values});Q(),j();for(var ie=1,Y=F;Y>0;--Y)X(ie*=.99),j(),oe(ie),j();function Q(){var se=(0,m.kv)(K,function(ge){return ge.length}),te=z*(E-A)/(se-1);I>te&&(I=te);var fe=(0,m.SY)(K,function(ge){return(E-A-(ge.length-1)*I)/(0,m.oh)(ge,f)});K.forEach(function(ge){ge.forEach(function(be,xe){be.y1=(be.y0=xe)+be.value*fe})}),$.links.forEach(function(ge){ge.width=ge.value*fe})}function oe(se){K.forEach(function(te){te.forEach(function(fe){if(fe.targetLinks.length){var ge=((0,m.oh)(fe.targetLinks,l)/(0,m.oh)(fe.targetLinks,f)-u(fe))*se;fe.y0+=ge,fe.y1+=ge}})})}function X(se){K.slice().reverse().forEach(function(te){te.forEach(function(fe){if(fe.sourceLinks.length){var ge=((0,m.oh)(fe.sourceLinks,g)/(0,m.oh)(fe.sourceLinks,f)-u(fe))*se;fe.y0+=ge,fe.y1+=ge}})})}function j(){K.forEach(function(se){var te,fe,ge=A,be=se.length,xe;for(se.sort(n),xe=0;xe<be;++xe)te=se[xe],fe=ge-te.y0,fe>0&&(te.y0+=fe,te.y1+=fe),ge=te.y1+I;if(fe=ge-I-E,fe>0)for(ge=te.y0-=fe,te.y1-=fe,xe=be-2;xe>=0;--xe)te=se[xe],fe=te.y1+I-ge,fe>0&&(te.y0-=fe,te.y1-=fe),ge=te.y0})}}function le($){$.nodes.forEach(function(K){K.sourceLinks.sort(i),K.targetLinks.sort(t)}),$.nodes.forEach(function(K){var ie=K.y0,Y=ie;K.sourceLinks.forEach(function(Q){Q.y0=ie+Q.width/2,ie+=Q.width}),K.targetLinks.forEach(function(Q){Q.y1=Y+Q.width/2,Y+=Q.width})})}return B}var x=e(10132);function w(M){return[M.source.x1,M.y0]}function C(M){return[M.target.x0,M.y1]}function y(){return(0,x.ak)().source(w).target(C)}},33428:function(G,H,e){var m,P;(function(){var s={version:"3.8.2"},L=[].slice,S=function(ue){return L.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function r(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{S(v.documentElement.childNodes)[0].nodeType}catch{S=function(Ae){for(var Be=Ae.length,qe=new Array(Be);Be--;)qe[Be]=Ae[Be];return qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Ae,Be){i.call(this,Ae,Be+"")},t.setAttributeNS=function(Ae,Be,qe){n.call(this,Ae,Be,qe+"")},f.setProperty=function(Ae,Be,qe){u.call(this,Ae,Be+"",qe)}}s.ascending=l;function l(ue,Ae){return ue<Ae?-1:ue>Ae?1:ue>=Ae?0:NaN}s.descending=function(ue,Ae){return Ae<ue?-1:Ae>ue?1:Ae>=ue?0:NaN},s.min=function(ue,Ae){var Be=-1,qe=ue.length,nt,ft;if(arguments.length===1){for(;++Be<qe;)if((ft=ue[Be])!=null&&ft>=ft){nt=ft;break}for(;++Be<qe;)(ft=ue[Be])!=null&&nt>ft&&(nt=ft)}else{for(;++Be<qe;)if((ft=Ae.call(ue,ue[Be],Be))!=null&&ft>=ft){nt=ft;break}for(;++Be<qe;)(ft=Ae.call(ue,ue[Be],Be))!=null&&nt>ft&&(nt=ft)}return nt},s.max=function(ue,Ae){var Be=-1,qe=ue.length,nt,ft;if(arguments.length===1){for(;++Be<qe;)if((ft=ue[Be])!=null&&ft>=ft){nt=ft;break}for(;++Be<qe;)(ft=ue[Be])!=null&&ft>nt&&(nt=ft)}else{for(;++Be<qe;)if((ft=Ae.call(ue,ue[Be],Be))!=null&&ft>=ft){nt=ft;break}for(;++Be<qe;)(ft=Ae.call(ue,ue[Be],Be))!=null&&ft>nt&&(nt=ft)}return nt},s.extent=function(ue,Ae){var Be=-1,qe=ue.length,nt,ft,_t;if(arguments.length===1){for(;++Be<qe;)if((ft=ue[Be])!=null&&ft>=ft){nt=_t=ft;break}for(;++Be<qe;)(ft=ue[Be])!=null&&(nt>ft&&(nt=ft),_t<ft&&(_t=ft))}else{for(;++Be<qe;)if((ft=Ae.call(ue,ue[Be],Be))!=null&&ft>=ft){nt=_t=ft;break}for(;++Be<qe;)(ft=Ae.call(ue,ue[Be],Be))!=null&&(nt>ft&&(nt=ft),_t<ft&&(_t=ft))}return[nt,_t]};function g(ue){return ue===null?NaN:+ue}function h(ue){return!isNaN(ue)}s.sum=function(ue,Ae){var Be=0,qe=ue.length,nt,ft=-1;if(arguments.length===1)for(;++ft<qe;)h(nt=+ue[ft])&&(Be+=nt);else for(;++ft<qe;)h(nt=+Ae.call(ue,ue[ft],ft))&&(Be+=nt);return Be},s.mean=function(ue,Ae){var Be=0,qe=ue.length,nt,ft=-1,_t=qe;if(arguments.length===1)for(;++ft<qe;)h(nt=g(ue[ft]))?Be+=nt:--_t;else for(;++ft<qe;)h(nt=g(Ae.call(ue,ue[ft],ft)))?Be+=nt:--_t;if(_t)return Be/_t},s.quantile=function(ue,Ae){var Be=(ue.length-1)*Ae+1,qe=Math.floor(Be),nt=+ue[qe-1],ft=Be-qe;return ft?nt+ft*(ue[qe]-nt):nt},s.median=function(ue,Ae){var Be=[],qe=ue.length,nt,ft=-1;if(arguments.length===1)for(;++ft<qe;)h(nt=g(ue[ft]))&&Be.push(nt);else for(;++ft<qe;)h(nt=g(Ae.call(ue,ue[ft],ft)))&&Be.push(nt);if(Be.length)return s.quantile(Be.sort(l),.5)},s.variance=function(ue,Ae){var Be=ue.length,qe=0,nt,ft,_t=0,At=-1,Gt=0;if(arguments.length===1)for(;++At<Be;)h(nt=g(ue[At]))&&(ft=nt-qe,qe+=ft/++Gt,_t+=ft*(nt-qe));else for(;++At<Be;)h(nt=g(Ae.call(ue,ue[At],At)))&&(ft=nt-qe,qe+=ft/++Gt,_t+=ft*(nt-qe));if(Gt>1)return _t/(Gt-1)},s.deviation=function(){var ue=s.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function T(ue){return{left:function(Ae,Be,qe,nt){for(arguments.length<3&&(qe=0),arguments.length<4&&(nt=Ae.length);qe<nt;){var ft=qe+nt>>>1;ue(Ae[ft],Be)<0?qe=ft+1:nt=ft}return qe},right:function(Ae,Be,qe,nt){for(arguments.length<3&&(qe=0),arguments.length<4&&(nt=Ae.length);qe<nt;){var ft=qe+nt>>>1;ue(Ae[ft],Be)>0?nt=ft:qe=ft+1}return qe}}}var c=T(l);s.bisectLeft=c.left,s.bisect=s.bisectRight=c.right,s.bisector=function(ue){return T(ue.length===1?function(Ae,Be){return l(ue(Ae),Be)}:ue)},s.shuffle=function(ue,Ae,Be){(qe=arguments.length)<3&&(Be=ue.length,qe<2&&(Ae=0));for(var qe=Be-Ae,nt,ft;qe;)ft=Math.random()*qe--|0,nt=ue[qe+Ae],ue[qe+Ae]=ue[ft+Ae],ue[ft+Ae]=nt;return ue},s.permute=function(ue,Ae){for(var Be=Ae.length,qe=new Array(Be);Be--;)qe[Be]=ue[Ae[Be]];return qe},s.pairs=function(ue){for(var Ae=0,Be=ue.length-1,qe=ue[0],nt=new Array(Be<0?0:Be);Ae<Be;)nt[Ae]=[qe,qe=ue[++Ae]];return nt},s.transpose=function(ue){if(!(ft=ue.length))return[];for(var Ae=-1,Be=s.min(ue,a),qe=new Array(Be);++Ae<Be;)for(var nt=-1,ft,_t=qe[Ae]=new Array(ft);++nt<ft;)_t[nt]=ue[nt][Ae];return qe};function a(ue){return ue.length}s.zip=function(){return s.transpose(arguments)},s.keys=function(ue){var Ae=[];for(var Be in ue)Ae.push(Be);return Ae},s.values=function(ue){var Ae=[];for(var Be in ue)Ae.push(ue[Be]);return Ae},s.entries=function(ue){var Ae=[];for(var Be in ue)Ae.push({key:Be,value:ue[Be]});return Ae},s.merge=function(ue){for(var Ae=ue.length,Be,qe=-1,nt=0,ft,_t;++qe<Ae;)nt+=ue[qe].length;for(ft=new Array(nt);--Ae>=0;)for(_t=ue[Ae],Be=_t.length;--Be>=0;)ft[--nt]=_t[Be];return ft};var d=Math.abs;s.range=function(ue,Ae,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(Ae=ue,ue=0)),(Ae-ue)/Be===1/0)throw new Error("infinite range");var qe=[],nt=x(d(Be)),ft=-1,_t;if(ue*=nt,Ae*=nt,Be*=nt,Be<0)for(;(_t=ue+Be*++ft)>Ae;)qe.push(_t/nt);else for(;(_t=ue+Be*++ft)<Ae;)qe.push(_t/nt);return qe};function x(ue){for(var Ae=1;ue*Ae%1;)Ae*=10;return Ae}function w(ue,Ae){for(var Be in Ae)Object.defineProperty(ue.prototype,Be,{value:Ae[Be],enumerable:!1})}s.map=function(ue,Ae){var Be=new C;if(ue instanceof C)ue.forEach(function(At,Gt){Be.set(At,Gt)});else if(Array.isArray(ue)){var qe=-1,nt=ue.length,ft;if(arguments.length===1)for(;++qe<nt;)Be.set(qe,ue[qe]);else for(;++qe<nt;)Be.set(Ae.call(ue,ft=ue[qe],qe),ft)}else for(var _t in ue)Be.set(_t,ue[_t]);return Be};function C(){this._=Object.create(null)}var y="__proto__",M="\0";w(C,{has:E,get:function(ue){return this._[A(ue)]},set:function(ue,Ae){return this._[A(ue)]=Ae},remove:b,keys:I,values:function(){var ue=[];for(var Ae in this._)ue.push(this._[Ae]);return ue},entries:function(){var ue=[];for(var Ae in this._)ue.push({key:o(Ae),value:this._[Ae]});return ue},size:D,empty:N,forEach:function(ue){for(var Ae in this._)ue.call(this,o(Ae),this._[Ae])}});function A(ue){return(ue+="")===y||ue[0]===M?M+ue:ue}function o(ue){return(ue+="")[0]===M?ue.slice(1):ue}function E(ue){return A(ue)in this._}function b(ue){return(ue=A(ue))in this._&&delete this._[ue]}function I(){var ue=[];for(var Ae in this._)ue.push(o(Ae));return ue}function D(){var ue=0;for(var Ae in this._)++ue;return ue}function N(){for(var ue in this._)return!1;return!0}s.nest=function(){var ue={},Ae=[],Be=[],qe,nt;function ft(At,Gt,Yt){if(Yt>=Ae.length)return nt?nt.call(ue,Gt):qe?Gt.sort(qe):Gt;for(var tr=-1,Cr=Gt.length,Lr=Ae[Yt++],$r,sn,_r,Vr=new C,Kr;++tr<Cr;)(Kr=Vr.get($r=Lr(sn=Gt[tr])))?Kr.push(sn):Vr.set($r,[sn]);return At?(sn=At(),_r=function(hn,pn){sn.set(hn,ft(At,pn,Yt))}):(sn={},_r=function(hn,pn){sn[hn]=ft(At,pn,Yt)}),Vr.forEach(_r),sn}function _t(At,Gt){if(Gt>=Ae.length)return At;var Yt=[],tr=Be[Gt++];return At.forEach(function(Cr,Lr){Yt.push({key:Cr,values:_t(Lr,Gt)})}),tr?Yt.sort(function(Cr,Lr){return tr(Cr.key,Lr.key)}):Yt}return ue.map=function(At,Gt){return ft(Gt,At,0)},ue.entries=function(At){return _t(ft(s.map,At,0),0)},ue.key=function(At){return Ae.push(At),ue},ue.sortKeys=function(At){return Be[Ae.length-1]=At,ue},ue.sortValues=function(At){return qe=At,ue},ue.rollup=function(At){return nt=At,ue},ue},s.set=function(ue){var Ae=new k;if(ue)for(var Be=0,qe=ue.length;Be<qe;++Be)Ae.add(ue[Be]);return Ae};function k(){this._=Object.create(null)}w(k,{has:E,add:function(ue){return this._[A(ue+="")]=!0,ue},remove:b,values:I,size:D,empty:N,forEach:function(ue){for(var Ae in this._)ue.call(this,o(Ae))}}),s.behavior={};function O(ue){return ue}s.rebind=function(ue,Ae){for(var Be=1,qe=arguments.length,nt;++Be<qe;)ue[nt=arguments[Be]]=F(ue,Ae,Ae[nt]);return ue};function F(ue,Ae,Be){return function(){var qe=Be.apply(Ae,arguments);return qe===Ae?ue:qe}}function z(ue,Ae){if(Ae in ue)return Ae;Ae=Ae.charAt(0).toUpperCase()+Ae.slice(1);for(var Be=0,qe=B.length;Be<qe;++Be){var nt=B[Be]+Ae;if(nt in ue)return nt}}var B=["webkit","ms","moz","Moz","o","O"];function W(){}s.dispatch=function(){for(var ue=new J,Ae=-1,Be=arguments.length;++Ae<Be;)ue[arguments[Ae]]=re(ue);return ue};function J(){}J.prototype.on=function(ue,Ae){var Be=ue.indexOf("."),qe="";if(Be>=0&&(qe=ue.slice(Be+1),ue=ue.slice(0,Be)),ue)return arguments.length<2?this[ue].on(qe):this[ue].on(qe,Ae);if(arguments.length===2){if(Ae==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(qe,null);return this}};function re(ue){var Ae=[],Be=new C;function qe(){for(var nt=Ae,ft=-1,_t=nt.length,At;++ft<_t;)(At=nt[ft].on)&&At.apply(this,arguments);return ue}return qe.on=function(nt,ft){var _t=Be.get(nt),At;return arguments.length<2?_t&&_t.on:(_t&&(_t.on=null,Ae=Ae.slice(0,At=Ae.indexOf(_t)).concat(Ae.slice(At+1)),Be.remove(nt)),ft&&Ae.push(Be.set(nt,{on:ft})),ue)},qe}s.event=null;function ne(){s.event.preventDefault()}function le(){for(var ue=s.event,Ae;Ae=ue.sourceEvent;)ue=Ae;return ue}function $(ue){for(var Ae=new J,Be=0,qe=arguments.length;++Be<qe;)Ae[arguments[Be]]=re(Ae);return Ae.of=function(nt,ft){return function(_t){try{var At=_t.sourceEvent=s.event;_t.target=ue,s.event=_t,Ae[_t.type].apply(nt,ft)}finally{s.event=At}}},Ae}s.requote=function(ue){return ue.replace(K,"\\$&")};var K=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ie={}.__proto__?function(ue,Ae){ue.__proto__=Ae}:function(ue,Ae){for(var Be in Ae)ue[Be]=Ae[Be]};function Y(ue){return ie(ue,j),ue}var Q=function(ue,Ae){return Ae.querySelector(ue)},oe=function(ue,Ae){return Ae.querySelectorAll(ue)},X=function(ue,Ae){var Be=ue.matches||ue[z(ue,"matchesSelector")];return X=function(qe,nt){return Be.call(qe,nt)},X(ue,Ae)};typeof Sizzle=="function"&&(Q=function(ue,Ae){return Sizzle(ue,Ae)[0]||null},oe=Sizzle,X=Sizzle.matchesSelector),s.selection=function(){return s.select(v.documentElement)};var j=s.selection.prototype=[];j.select=function(ue){var Ae=[],Be,qe,nt,ft;ue=se(ue);for(var _t=-1,At=this.length;++_t<At;){Ae.push(Be=[]),Be.parentNode=(nt=this[_t]).parentNode;for(var Gt=-1,Yt=nt.length;++Gt<Yt;)(ft=nt[Gt])?(Be.push(qe=ue.call(ft,ft.__data__,Gt,_t)),qe&&"__data__"in ft&&(qe.__data__=ft.__data__)):Be.push(null)}return Y(Ae)};function se(ue){return typeof ue=="function"?ue:function(){return Q(ue,this)}}j.selectAll=function(ue){var Ae=[],Be,qe;ue=te(ue);for(var nt=-1,ft=this.length;++nt<ft;)for(var _t=this[nt],At=-1,Gt=_t.length;++At<Gt;)(qe=_t[At])&&(Ae.push(Be=S(ue.call(qe,qe.__data__,At,nt))),Be.parentNode=qe);return Y(Ae)};function te(ue){return typeof ue=="function"?ue:function(){return oe(ue,this)}}var fe="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:ge,qualify:function(ue){var Ae=ue.indexOf(":"),Be=ue;return Ae>=0&&(Be=ue.slice(0,Ae))!=="xmlns"&&(ue=ue.slice(Ae+1)),ge.hasOwnProperty(Be)?{space:ge[Be],local:ue}:ue}},j.attr=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string"){var Be=this.node();return ue=s.ns.qualify(ue),ue.local?Be.getAttributeNS(ue.space,ue.local):Be.getAttribute(ue)}for(Ae in ue)this.each(be(Ae,ue[Ae]));return this}return this.each(be(ue,Ae))};function be(ue,Ae){ue=s.ns.qualify(ue);function Be(){this.removeAttribute(ue)}function qe(){this.removeAttributeNS(ue.space,ue.local)}function nt(){this.setAttribute(ue,Ae)}function ft(){this.setAttributeNS(ue.space,ue.local,Ae)}function _t(){var Gt=Ae.apply(this,arguments);Gt==null?this.removeAttribute(ue):this.setAttribute(ue,Gt)}function At(){var Gt=Ae.apply(this,arguments);Gt==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Gt)}return Ae==null?ue.local?qe:Be:typeof Ae=="function"?ue.local?At:_t:ue.local?ft:nt}function xe(ue){return ue.trim().replace(/\s+/g," ")}j.classed=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string"){var Be=this.node(),qe=(ue=De(ue)).length,nt=-1;if(Ae=Be.classList){for(;++nt<qe;)if(!Ae.contains(ue[nt]))return!1}else for(Ae=Be.getAttribute("class");++nt<qe;)if(!_e(ue[nt]).test(Ae))return!1;return!0}for(Ae in ue)this.each(Fe(Ae,ue[Ae]));return this}return this.each(Fe(ue,Ae))};function _e(ue){return new RegExp("(?:^|\\s+)"+s.requote(ue)+"(?:\\s+|$)","g")}function De(ue){return(ue+"").trim().split(/^|\s+/)}function Fe(ue,Ae){ue=De(ue).map(Te);var Be=ue.length;function qe(){for(var ft=-1;++ft<Be;)ue[ft](this,Ae)}function nt(){for(var ft=-1,_t=Ae.apply(this,arguments);++ft<Be;)ue[ft](this,_t)}return typeof Ae=="function"?nt:qe}function Te(ue){var Ae=_e(ue);return function(Be,qe){if(nt=Be.classList)return qe?nt.add(ue):nt.remove(ue);var nt=Be.getAttribute("class")||"";qe?(Ae.lastIndex=0,Ae.test(nt)||Be.setAttribute("class",xe(nt+" "+ue))):Be.setAttribute("class",xe(nt.replace(Ae," ")))}}j.style=function(ue,Ae,Be){var qe=arguments.length;if(qe<3){if(typeof ue!="string"){qe<2&&(Ae="");for(Be in ue)this.each(Re(Be,ue[Be],Ae));return this}if(qe<2){var nt=this.node();return r(nt).getComputedStyle(nt,null).getPropertyValue(ue)}Be=""}return this.each(Re(ue,Ae,Be))};function Re(ue,Ae,Be){function qe(){this.style.removeProperty(ue)}function nt(){this.style.setProperty(ue,Ae,Be)}function ft(){var _t=Ae.apply(this,arguments);_t==null?this.style.removeProperty(ue):this.style.setProperty(ue,_t,Be)}return Ae==null?qe:typeof Ae=="function"?ft:nt}j.property=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Ae in ue)this.each(Se(Ae,ue[Ae]));return this}return this.each(Se(ue,Ae))};function Se(ue,Ae){function Be(){delete this[ue]}function qe(){this[ue]=Ae}function nt(){var ft=Ae.apply(this,arguments);ft==null?delete this[ue]:this[ue]=ft}return Ae==null?Be:typeof Ae=="function"?nt:qe}j.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ae=ue.apply(this,arguments);this.textContent=Ae??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},j.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ae=ue.apply(this,arguments);this.innerHTML=Ae??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},j.append=function(ue){return ue=Ie(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function Ie(ue){function Ae(){var qe=this.ownerDocument,nt=this.namespaceURI;return nt===fe&&qe.documentElement.namespaceURI===fe?qe.createElement(ue):qe.createElementNS(nt,ue)}function Be(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=s.ns.qualify(ue)).local?Be:Ae}j.insert=function(ue,Ae){return ue=Ie(ue),Ae=se(Ae),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Ae.apply(this,arguments)||null)})},j.remove=function(){return this.each(Me)};function Me(){var ue=this.parentNode;ue&&ue.removeChild(this)}j.data=function(ue,Ae){var Be=-1,qe=this.length,nt,ft;if(!arguments.length){for(ue=new Array(qe=(nt=this[0]).length);++Be<qe;)(ft=nt[Be])&&(ue[Be]=ft.__data__);return ue}function _t(tr,Cr){var Lr,$r=tr.length,sn=Cr.length,_r=Math.min($r,sn),Vr=new Array(sn),Kr=new Array(sn),hn=new Array($r),pn,rn;if(Ae){var Hn=new C,ra=new Array($r),fa;for(Lr=-1;++Lr<$r;)(pn=tr[Lr])&&(Hn.has(fa=Ae.call(pn,pn.__data__,Lr))?hn[Lr]=pn:Hn.set(fa,pn),ra[Lr]=fa);for(Lr=-1;++Lr<sn;)(pn=Hn.get(fa=Ae.call(Cr,rn=Cr[Lr],Lr)))?pn!==!0&&(Vr[Lr]=pn,pn.__data__=rn):Kr[Lr]=Ve(rn),Hn.set(fa,!0);for(Lr=-1;++Lr<$r;)Lr in ra&&Hn.get(ra[Lr])!==!0&&(hn[Lr]=tr[Lr])}else{for(Lr=-1;++Lr<_r;)pn=tr[Lr],rn=Cr[Lr],pn?(pn.__data__=rn,Vr[Lr]=pn):Kr[Lr]=Ve(rn);for(;Lr<sn;++Lr)Kr[Lr]=Ve(Cr[Lr]);for(;Lr<$r;++Lr)hn[Lr]=tr[Lr]}Kr.update=Vr,Kr.parentNode=Vr.parentNode=hn.parentNode=tr.parentNode,At.push(Kr),Gt.push(Vr),Yt.push(hn)}var At=Qe([]),Gt=Y([]),Yt=Y([]);if(typeof ue=="function")for(;++Be<qe;)_t(nt=this[Be],ue.call(nt,nt.parentNode.__data__,Be));else for(;++Be<qe;)_t(nt=this[Be],ue);return Gt.enter=function(){return At},Gt.exit=function(){return Yt},Gt};function Ve(ue){return{__data__:ue}}j.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},j.filter=function(ue){var Ae=[],Be,qe,nt;typeof ue!="function"&&(ue=et(ue));for(var ft=0,_t=this.length;ft<_t;ft++){Ae.push(Be=[]),Be.parentNode=(qe=this[ft]).parentNode;for(var At=0,Gt=qe.length;At<Gt;At++)(nt=qe[At])&&ue.call(nt,nt.__data__,At,ft)&&Be.push(nt)}return Y(Ae)};function et(ue){return function(){return X(this,ue)}}j.order=function(){for(var ue=-1,Ae=this.length;++ue<Ae;)for(var Be=this[ue],qe=Be.length-1,nt=Be[qe],ft;--qe>=0;)(ft=Be[qe])&&(nt&&nt!==ft.nextSibling&&nt.parentNode.insertBefore(ft,nt),nt=ft);return this},j.sort=function(ue){ue=it.apply(this,arguments);for(var Ae=-1,Be=this.length;++Ae<Be;)this[Ae].sort(ue);return this.order()};function it(ue){return arguments.length||(ue=l),function(Ae,Be){return Ae&&Be?ue(Ae.__data__,Be.__data__):!Ae-!Be}}j.each=function(ue){return Je(this,function(Ae,Be,qe){ue.call(Ae,Ae.__data__,Be,qe)})};function Je(ue,Ae){for(var Be=0,qe=ue.length;Be<qe;Be++)for(var nt=ue[Be],ft=0,_t=nt.length,At;ft<_t;ft++)(At=nt[ft])&&Ae(At,ft,Be);return ue}j.call=function(ue){var Ae=S(arguments);return ue.apply(Ae[0]=this,Ae),this},j.empty=function(){return!this.node()},j.node=function(){for(var ue=0,Ae=this.length;ue<Ae;ue++)for(var Be=this[ue],qe=0,nt=Be.length;qe<nt;qe++){var ft=Be[qe];if(ft)return ft}return null},j.size=function(){var ue=0;return Je(this,function(){++ue}),ue};function Qe(ue){return ie(ue,ct),ue}var ct=[];s.selection.enter=Qe,s.selection.enter.prototype=ct,ct.append=j.append,ct.empty=j.empty,ct.node=j.node,ct.call=j.call,ct.size=j.size,ct.select=function(ue){for(var Ae=[],Be,qe,nt,ft,_t,At=-1,Gt=this.length;++At<Gt;){nt=(ft=this[At]).update,Ae.push(Be=[]),Be.parentNode=ft.parentNode;for(var Yt=-1,tr=ft.length;++Yt<tr;)(_t=ft[Yt])?(Be.push(nt[Yt]=qe=ue.call(ft.parentNode,_t.__data__,Yt,At)),qe.__data__=_t.__data__):Be.push(null)}return Y(Ae)},ct.insert=function(ue,Ae){return arguments.length<2&&(Ae=ht(this)),j.insert.call(this,ue,Ae)};function ht(ue){var Ae,Be;return function(qe,nt,ft){var _t=ue[ft].update,At=_t.length,Gt;for(ft!=Be&&(Be=ft,Ae=0),nt>=Ae&&(Ae=nt+1);!(Gt=_t[Ae])&&++Ae<At;);return Gt}}s.select=function(ue){var Ae;return typeof ue=="string"?(Ae=[Q(ue,v)],Ae.parentNode=v.documentElement):(Ae=[ue],Ae.parentNode=p(ue)),Y([Ae])},s.selectAll=function(ue){var Ae;return typeof ue=="string"?(Ae=S(oe(ue,v)),Ae.parentNode=v.documentElement):(Ae=S(ue),Ae.parentNode=null),Y([Ae])},j.on=function(ue,Ae,Be){var qe=arguments.length;if(qe<3){if(typeof ue!="string"){qe<2&&(Ae=!1);for(Be in ue)this.each(gt(Be,ue[Be],Ae));return this}if(qe<2)return(qe=this.node()["__on"+ue])&&qe._;Be=!1}return this.each(gt(ue,Ae,Be))};function gt(ue,Ae,Be){var qe="__on"+ue,nt=ue.indexOf("."),ft=Et;nt>0&&(ue=ue.slice(0,nt));var _t=Tt.get(ue);_t&&(ue=_t,ft=rt);function At(){var tr=this[qe];tr&&(this.removeEventListener(ue,tr,tr.$),delete this[qe])}function Gt(){var tr=ft(Ae,S(arguments));At.call(this),this.addEventListener(ue,this[qe]=tr,tr.$=Be),tr._=Ae}function Yt(){var tr=new RegExp("^__on([^.]+)"+s.requote(ue)+"$"),Cr;for(var Lr in this)if(Cr=Lr.match(tr)){var $r=this[Lr];this.removeEventListener(Cr[1],$r,$r.$),delete this[Lr]}}return nt?Ae?Gt:At:Ae?W:Yt}var Tt=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Tt.forEach(function(ue){"on"+ue in v&&Tt.remove(ue)});function Et(ue,Ae){return function(Be){var qe=s.event;s.event=Be,Ae[0]=this.__data__;try{ue.apply(this,Ae)}finally{s.event=qe}}}function rt(ue,Ae){var Be=Et(ue,Ae);return function(qe){var nt=this,ft=qe.relatedTarget;(!ft||ft!==nt&&!(ft.compareDocumentPosition(nt)&8))&&Be.call(nt,qe)}}var ze,He=0;function Ge(ue){var Ae=".dragsuppress-"+ ++He,Be="click"+Ae,qe=s.select(r(ue)).on("touchmove"+Ae,ne).on("dragstart"+Ae,ne).on("selectstart"+Ae,ne);if(ze==null&&(ze="onselectstart"in ue?!1:z(ue.style,"userSelect")),ze){var nt=p(ue).style,ft=nt[ze];nt[ze]="none"}return function(_t){if(qe.on(Ae,null),ze&&(nt[ze]=ft),_t){var At=function(){qe.on(Be,null)};qe.on(Be,function(){ne(),At()},!0),setTimeout(At,0)}}}s.mouse=function(ue){return Le(ue,le())};var We=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Le(ue,Ae){Ae.changedTouches&&(Ae=Ae.changedTouches[0]);var Be=ue.ownerSVGElement||ue;if(Be.createSVGPoint){var qe=Be.createSVGPoint();if(We<0){var nt=r(ue);if(nt.scrollX||nt.scrollY){Be=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=Be[0][0].getScreenCTM();We=!(ft.f||ft.e),Be.remove()}}return We?(qe.x=Ae.pageX,qe.y=Ae.pageY):(qe.x=Ae.clientX,qe.y=Ae.clientY),qe=qe.matrixTransform(ue.getScreenCTM().inverse()),[qe.x,qe.y]}var _t=ue.getBoundingClientRect();return[Ae.clientX-_t.left-ue.clientLeft,Ae.clientY-_t.top-ue.clientTop]}s.touch=function(ue,Ae,Be){if(arguments.length<3&&(Be=Ae,Ae=le().changedTouches),Ae){for(var qe=0,nt=Ae.length,ft;qe<nt;++qe)if((ft=Ae[qe]).identifier===Be)return Le(ue,ft)}},s.behavior.drag=function(){var ue=$(nt,"drag","dragstart","dragend"),Ae=null,Be=ft(W,s.mouse,r,"mousemove","mouseup"),qe=ft(Pe,s.touch,O,"touchmove","touchend");function nt(){this.on("mousedown.drag",Be).on("touchstart.drag",qe)}function ft(_t,At,Gt,Yt,tr){return function(){var Cr=this,Lr=s.event.target.correspondingElement||s.event.target,$r=Cr.parentNode,sn=ue.of(Cr,arguments),_r=0,Vr=_t(),Kr=".drag"+(Vr==null?"":"-"+Vr),hn,pn=s.select(Gt(Lr)).on(Yt+Kr,ra).on(tr+Kr,fa),rn=Ge(Lr),Hn=At($r,Vr);Ae?(hn=Ae.apply(Cr,arguments),hn=[hn.x-Hn[0],hn.y-Hn[1]]):hn=[0,0],sn({type:"dragstart"});function ra(){var ea=At($r,Vr),oa,ca;ea&&(oa=ea[0]-Hn[0],ca=ea[1]-Hn[1],_r|=oa|ca,Hn=ea,sn({type:"drag",x:ea[0]+hn[0],y:ea[1]+hn[1],dx:oa,dy:ca}))}function fa(){At($r,Vr)&&(pn.on(Yt+Kr,null).on(tr+Kr,null),rn(_r),sn({type:"dragend"}))}}}return nt.origin=function(_t){return arguments.length?(Ae=_t,nt):Ae},s.rebind(nt,ue,"on")};function Pe(){return s.event.changedTouches[0].identifier}s.touches=function(ue,Ae){return arguments.length<2&&(Ae=le().touches),Ae?S(Ae).map(function(Be){var qe=Le(ue,Be);return qe.identifier=Be.identifier,qe}):[]};var je=1e-6,Ce=je*je,he=Math.PI,me=2*he,Ne=me-je,$e=he/2,ot=he/180,st=180/he;function Wt(ue,Ae,Be){return(Ae[0]-ue[0])*(Be[1]-ue[1])-(Ae[1]-ue[1])*(Be[0]-ue[0])}function Pt(ue){return ue>1?$e:ue<-1?-$e:Math.asin(ue)}function dt(ue){return((ue=Math.exp(ue))-1/ue)/2}function Mt(ue){return((ue=Math.exp(ue))+1/ue)/2}function Xt(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var nr=Math.SQRT2,vt=2,Zt=4;s.interpolateZoom=function(ue,Ae){var Be=ue[0],qe=ue[1],nt=ue[2],ft=Ae[0],_t=Ae[1],At=Ae[2],Gt=ft-Be,Yt=_t-qe,tr=Gt*Gt+Yt*Yt,Cr,Lr;if(tr<Ce)Lr=Math.log(At/nt)/nr,Cr=function(hn){return[Be+hn*Gt,qe+hn*Yt,nt*Math.exp(nr*hn*Lr)]};else{var $r=Math.sqrt(tr),sn=(At*At-nt*nt+Zt*tr)/(2*nt*vt*$r),_r=(At*At-nt*nt-Zt*tr)/(2*At*vt*$r),Vr=Math.log(Math.sqrt(sn*sn+1)-sn),Kr=Math.log(Math.sqrt(_r*_r+1)-_r);Lr=(Kr-Vr)/nr,Cr=function(hn){var pn=hn*Lr,rn=Mt(Vr),Hn=nt/(vt*$r)*(rn*Xt(nr*pn+Vr)-dt(Vr));return[Be+Hn*Gt,qe+Hn*Yt,nt*rn/Mt(nr*pn+Vr)]}}return Cr.duration=Lr*1e3,Cr},s.behavior.zoom=function(){var ue={x:0,y:0,k:1},Ae,Be,qe,nt=[960,500],ft=Kt,_t=250,At=0,Gt="mousedown.zoom",Yt="mousemove.zoom",tr="mouseup.zoom",Cr,Lr="touchstart.zoom",$r,sn=$(pn,"zoomstart","zoom","zoomend"),_r,Vr,Kr,hn;or||(or="onwheel"in v?(yr=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return s.event.wheelDelta},"mousewheel"):(yr=function(){return-s.event.detail},"MozMousePixelScroll"));function pn(qn){qn.on(Gt,Oa).on(or+".zoom",Fi).on("dblclick.zoom",ci).on(Lr,ii)}pn.event=function(qn){qn.each(function(){var Ha=sn.of(this,arguments),Sa=ue;Dr?s.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},ca(Ha)}).tween("zoom:zoom",function(){var Ja=nt[0],wi=nt[1],oi=Be?Be[0]:Ja/2,$i=Be?Be[1]:wi/2,qi=s.interpolateZoom([(oi-ue.x)/ue.k,($i-ue.y)/ue.k,Ja/ue.k],[(oi-Sa.x)/Sa.k,($i-Sa.y)/Sa.k,Ja/Sa.k]);return function(ao){var Ti=qi(ao),go=Ja/Ti[2];this.__chart__=ue={x:oi-Ti[0]*go,y:$i-Ti[1]*go,k:go},Ua(Ha)}}).each("interrupt.zoom",function(){Ea(Ha)}).each("end.zoom",function(){Ea(Ha)}):(this.__chart__=ue,ca(Ha),Ua(Ha),Ea(Ha))})},pn.translate=function(qn){return arguments.length?(ue={x:+qn[0],y:+qn[1],k:ue.k},oa(),pn):[ue.x,ue.y]},pn.scale=function(qn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},ra(+qn),oa(),pn):ue.k},pn.scaleExtent=function(qn){return arguments.length?(ft=qn==null?Kt:[+qn[0],+qn[1]],pn):ft},pn.center=function(qn){return arguments.length?(qe=qn&&[+qn[0],+qn[1]],pn):qe},pn.size=function(qn){return arguments.length?(nt=qn&&[+qn[0],+qn[1]],pn):nt},pn.duration=function(qn){return arguments.length?(_t=+qn,pn):_t},pn.x=function(qn){return arguments.length?(Vr=qn,_r=qn.copy(),ue={x:0,y:0,k:1},pn):Vr},pn.y=function(qn){return arguments.length?(hn=qn,Kr=qn.copy(),ue={x:0,y:0,k:1},pn):hn};function rn(qn){return[(qn[0]-ue.x)/ue.k,(qn[1]-ue.y)/ue.k]}function Hn(qn){return[qn[0]*ue.k+ue.x,qn[1]*ue.k+ue.y]}function ra(qn){ue.k=Math.max(ft[0],Math.min(ft[1],qn))}function fa(qn,Ha){Ha=Hn(Ha),ue.x+=qn[0]-Ha[0],ue.y+=qn[1]-Ha[1]}function ea(qn,Ha,Sa,Ja){qn.__chart__={x:ue.x,y:ue.y,k:ue.k},ra(Math.pow(2,Ja)),fa(Be=Ha,Sa),qn=s.select(qn),_t>0&&(qn=qn.transition().duration(_t)),qn.call(pn.event)}function oa(){Vr&&Vr.domain(_r.range().map(function(qn){return(qn-ue.x)/ue.k}).map(_r.invert)),hn&&hn.domain(Kr.range().map(function(qn){return(qn-ue.y)/ue.k}).map(Kr.invert))}function ca(qn){At++||qn({type:"zoomstart"})}function Ua(qn){oa(),qn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Ea(qn){--At||(qn({type:"zoomend"}),Be=null)}function Oa(){var qn=this,Ha=sn.of(qn,arguments),Sa=0,Ja=s.select(r(qn)).on(Yt,$i).on(tr,qi),wi=rn(s.mouse(qn)),oi=Ge(qn);Ft.call(qn),ca(Ha);function $i(){Sa=1,fa(s.mouse(qn),wi),Ua(Ha)}function qi(){Ja.on(Yt,null).on(tr,null),oi(Sa),Ea(Ha)}}function ii(){var qn=this,Ha=sn.of(qn,arguments),Sa={},Ja=0,wi,oi=".zoom-"+s.event.changedTouches[0].identifier,$i="touchmove"+oi,qi="touchend"+oi,ao=[],Ti=s.select(qn),go=Ge(qn);La(),ca(Ha),Ti.on(Gt,null).on(Lr,La);function la(){var io=s.touches(qn);return wi=ue.k,io.forEach(function(hi){hi.identifier in Sa&&(Sa[hi.identifier]=rn(hi))}),io}function La(){var io=s.event.target;s.select(io).on($i,Ro).on(qi,Fo),ao.push(io);for(var hi=s.event.changedTouches,Wi=0,Ni=hi.length;Wi<Ni;++Wi)Sa[hi[Wi].identifier]=null;var ps=la(),Ds=Date.now();if(ps.length===1){if(Ds-$r<500){var Li=ps[0];ea(qn,Li,Sa[Li.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),ne()}$r=Ds}else if(ps.length>1){var Li=ps[0],Gl=ps[1],Qa=Li[0]-Gl[0],Pi=Li[1]-Gl[1];Ja=Qa*Qa+Pi*Pi}}function Ro(){var io=s.touches(qn),hi,Wi,Ni,ps;Ft.call(qn);for(var Ds=0,Li=io.length;Ds<Li;++Ds,ps=null)if(Ni=io[Ds],ps=Sa[Ni.identifier]){if(Wi)break;hi=Ni,Wi=ps}if(ps){var Gl=(Gl=Ni[0]-hi[0])*Gl+(Gl=Ni[1]-hi[1])*Gl,Qa=Ja&&Math.sqrt(Gl/Ja);hi=[(hi[0]+Ni[0])/2,(hi[1]+Ni[1])/2],Wi=[(Wi[0]+ps[0])/2,(Wi[1]+ps[1])/2],ra(Qa*wi)}$r=null,fa(hi,Wi),Ua(Ha)}function Fo(){if(s.event.touches.length){for(var io=s.event.changedTouches,hi=0,Wi=io.length;hi<Wi;++hi)delete Sa[io[hi].identifier];for(var Ni in Sa)return void la()}s.selectAll(ao).on(oi,null),Ti.on(Gt,Oa).on(Lr,ii),go(),Ea(Ha)}}function Fi(){var qn=sn.of(this,arguments);Cr?clearTimeout(Cr):(Ft.call(this),Ae=rn(Be=qe||s.mouse(this)),ca(qn)),Cr=setTimeout(function(){Cr=null,Ea(qn)},50),ne(),ra(Math.pow(2,yr()*.002)*ue.k),fa(Be,Ae),Ua(qn)}function ci(){var qn=s.mouse(this),Ha=Math.log(ue.k)/Math.LN2;ea(this,qn,rn(qn),s.event.shiftKey?Math.ceil(Ha)-1:Math.floor(Ha)+1)}return s.rebind(pn,sn,"on")};var Kt=[0,1/0],yr,or;s.color=mt;function mt(){}mt.prototype.toString=function(){return this.rgb()+""},s.hsl=lt;function lt(ue,Ae,Be){return this instanceof lt?(this.h=+ue,this.s=+Ae,void(this.l=+Be)):arguments.length<2?ue instanceof lt?new lt(ue.h,ue.s,ue.l):xr(""+ue,dr,lt):new lt(ue,Ae,Be)}var bt=lt.prototype=new mt;bt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new lt(this.h,this.s,this.l/ue)},bt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new lt(this.h,this.s,ue*this.l)},bt.rgb=function(){return Ct(this.h,this.s,this.l)};function Ct(ue,Ae,Be){var qe,nt;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Ae=isNaN(Ae)||Ae<0?0:Ae>1?1:Ae,Be=Be<0?0:Be>1?1:Be,nt=Be<=.5?Be*(1+Ae):Be+Ae-Be*Ae,qe=2*Be-nt;function ft(At){return At>360?At-=360:At<0&&(At+=360),At<60?qe+(nt-qe)*At/60:At<180?nt:At<240?qe+(nt-qe)*(240-At)/60:qe}function _t(At){return Math.round(ft(At)*255)}return new fr(_t(ue+120),_t(ue),_t(ue-120))}s.hcl=Dt;function Dt(ue,Ae,Be){return this instanceof Dt?(this.h=+ue,this.c=+Ae,void(this.l=+Be)):arguments.length<2?ue instanceof Dt?new Dt(ue.h,ue.c,ue.l):ue instanceof Ut?Ot(ue.l,ue.a,ue.b):Ot((ue=Hr((ue=s.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new Dt(ue,Ae,Be)}var Ht=Dt.prototype=new mt;Ht.brighter=function(ue){return new Dt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?ue:1)))},Ht.darker=function(ue){return new Dt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?ue:1)))},Ht.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(ue,Ae,Be){return isNaN(ue)&&(ue=0),isNaN(Ae)&&(Ae=0),new Ut(Be,Math.cos(ue*=ot)*Ae,Math.sin(ue)*Ae)}s.lab=Ut;function Ut(ue,Ae,Be){return this instanceof Ut?(this.l=+ue,this.a=+Ae,void(this.b=+Be)):arguments.length<2?ue instanceof Ut?new Ut(ue.l,ue.a,ue.b):ue instanceof Dt?Bt(ue.h,ue.c,ue.l):Hr((ue=fr(ue)).r,ue.g,ue.b):new Ut(ue,Ae,Be)}var Jt=18,cr=.95047,hr=1,pr=1.08883,Ye=Ut.prototype=new mt;Ye.brighter=function(ue){return new Ut(Math.min(100,this.l+Jt*(arguments.length?ue:1)),this.a,this.b)},Ye.darker=function(ue){return new Ut(Math.max(0,this.l-Jt*(arguments.length?ue:1)),this.a,this.b)},Ye.rgb=function(){return Ue(this.l,this.a,this.b)};function Ue(ue,Ae,Be){var qe=(ue+16)/116,nt=qe+Ae/500,ft=qe-Be/200;return nt=It(nt)*cr,qe=It(qe)*hr,ft=It(ft)*pr,new fr(lr(3.2404542*nt-1.5371385*qe-.4985314*ft),lr(-.969266*nt+1.8760108*qe+.041556*ft),lr(.0556434*nt-.2040259*qe+1.0572252*ft))}function Ot(ue,Ae,Be){return ue>0?new Dt(Math.atan2(Be,Ae)*st,Math.sqrt(Ae*Ae+Be*Be),ue):new Dt(NaN,NaN,ue)}function It(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Qt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function lr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}s.rgb=fr;function fr(ue,Ae,Be){return this instanceof fr?(this.r=~~ue,this.g=~~Ae,void(this.b=~~Be)):arguments.length<2?ue instanceof fr?new fr(ue.r,ue.g,ue.b):xr(""+ue,fr,Ct):new fr(ue,Ae,Be)}function er(ue){return new fr(ue>>16,ue>>8&255,ue&255)}function Nt(ue){return er(ue)+""}var ir=fr.prototype=new mt;ir.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Ae=this.r,Be=this.g,qe=this.b,nt=30;return!Ae&&!Be&&!qe?new fr(nt,nt,nt):(Ae&&Ae<nt&&(Ae=nt),Be&&Be<nt&&(Be=nt),qe&&qe<nt&&(qe=nt),new fr(Math.min(255,Ae/ue),Math.min(255,Be/ue),Math.min(255,qe/ue)))},ir.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new fr(ue*this.r,ue*this.g,ue*this.b)},ir.hsl=function(){return dr(this.r,this.g,this.b)},ir.toString=function(){return"#"+vr(this.r)+vr(this.g)+vr(this.b)};function vr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function xr(ue,Ae,Be){var qe=0,nt=0,ft=0,_t,At,Gt;if(_t=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),_t)switch(At=_t[2].split(","),_t[1]){case"hsl":return Be(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Ae(Rr(At[0]),Rr(At[1]),Rr(At[2]))}return(Gt=an.get(ue))?Ae(Gt.r,Gt.g,Gt.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Gt=parseInt(ue.slice(1),16))&&(ue.length===4?(qe=(Gt&3840)>>4,qe=qe>>4|qe,nt=Gt&240,nt=nt>>4|nt,ft=Gt&15,ft=ft<<4|ft):ue.length===7&&(qe=(Gt&16711680)>>16,nt=(Gt&65280)>>8,ft=Gt&255)),Ae(qe,nt,ft))}function dr(ue,Ae,Be){var qe=Math.min(ue/=255,Ae/=255,Be/=255),nt=Math.max(ue,Ae,Be),ft=nt-qe,_t,At,Gt=(nt+qe)/2;return ft?(At=Gt<.5?ft/(nt+qe):ft/(2-nt-qe),ue==nt?_t=(Ae-Be)/ft+(Ae<Be?6:0):Ae==nt?_t=(Be-ue)/ft+2:_t=(ue-Ae)/ft+4,_t*=60):(_t=NaN,At=Gt>0&&Gt<1?0:_t),new lt(_t,At,Gt)}function Hr(ue,Ae,Be){ue=Pr(ue),Ae=Pr(Ae),Be=Pr(Be);var qe=Qt((.4124564*ue+.3575761*Ae+.1804375*Be)/cr),nt=Qt((.2126729*ue+.7151522*Ae+.072175*Be)/hr),ft=Qt((.0193339*ue+.119192*Ae+.9503041*Be)/pr);return Ut(116*nt-16,500*(qe-nt),200*(nt-ft))}function Pr(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Rr(ue){var Ae=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Ae*2.55):Ae}var an=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});an.forEach(function(ue,Ae){an.set(ue,er(Ae))});function tn(ue){return typeof ue=="function"?ue:function(){return ue}}s.functor=tn,s.xhr=Sn(O);function Sn(ue){return function(Ae,Be,qe){return arguments.length===2&&typeof Be=="function"&&(qe=Be,Be=null),Tn(Ae,Be,ue,qe)}}function Tn(ue,Ae,Be,qe){var nt={},ft=s.dispatch("beforesend","progress","load","error"),_t={},At=new XMLHttpRequest,Gt=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(ue)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Yt:At.onreadystatechange=function(){At.readyState>3&&Yt()};function Yt(){var tr=At.status,Cr;if(!tr&&zr(At)||tr>=200&&tr<300||tr===304){try{Cr=Be.call(nt,At)}catch(Lr){ft.error.call(nt,Lr);return}ft.load.call(nt,Cr)}else ft.error.call(nt,At)}return At.onprogress=function(tr){var Cr=s.event;s.event=tr;try{ft.progress.call(nt,At)}finally{s.event=Cr}},nt.header=function(tr,Cr){return tr=(tr+"").toLowerCase(),arguments.length<2?_t[tr]:(Cr==null?delete _t[tr]:_t[tr]=Cr+"",nt)},nt.mimeType=function(tr){return arguments.length?(Ae=tr==null?null:tr+"",nt):Ae},nt.responseType=function(tr){return arguments.length?(Gt=tr,nt):Gt},nt.response=function(tr){return Be=tr,nt},["get","post"].forEach(function(tr){nt[tr]=function(){return nt.send.apply(nt,[tr].concat(S(arguments)))}}),nt.send=function(tr,Cr,Lr){if(arguments.length===2&&typeof Cr=="function"&&(Lr=Cr,Cr=null),At.open(tr,ue,!0),Ae!=null&&!("accept"in _t)&&(_t.accept=Ae+",*/*"),At.setRequestHeader)for(var $r in _t)At.setRequestHeader($r,_t[$r]);return Ae!=null&&At.overrideMimeType&&At.overrideMimeType(Ae),Gt!=null&&(At.responseType=Gt),Lr!=null&&nt.on("error",Lr).on("load",function(sn){Lr(null,sn)}),ft.beforesend.call(nt,At),At.send(Cr??null),nt},nt.abort=function(){return At.abort(),nt},s.rebind(nt,ft,"on"),qe==null?nt:nt.get(Tr(qe))}function Tr(ue){return ue.length===1?function(Ae,Be){ue(Ae==null?Be:null)}:ue}function zr(ue){var Ae=ue.responseType;return Ae&&Ae!=="text"?ue.response:ue.responseText}s.dsv=function(ue,Ae){var Be=new RegExp('["'+ue+`
]`),qe=ue.charCodeAt(0);function nt(Yt,tr,Cr){arguments.length<3&&(Cr=tr,tr=null);var Lr=Tn(Yt,Ae,tr==null?ft:_t(tr),Cr);return Lr.row=function($r){return arguments.length?Lr.response((tr=$r)==null?ft:_t($r)):tr},Lr}function ft(Yt){return nt.parse(Yt.responseText)}function _t(Yt){return function(tr){return nt.parse(tr.responseText,Yt)}}nt.parse=function(Yt,tr){var Cr;return nt.parseRows(Yt,function(Lr,$r){if(Cr)return Cr(Lr,$r-1);var sn=function(_r){for(var Vr={},Kr=Lr.length,hn=0;hn<Kr;++hn)Vr[Lr[hn]]=_r[hn];return Vr};Cr=tr?function(_r,Vr){return tr(sn(_r),Vr)}:sn})},nt.parseRows=function(Yt,tr){var Cr={},Lr={},$r=[],sn=Yt.length,_r=0,Vr=0,Kr,hn;function pn(){if(_r>=sn)return Lr;if(hn)return hn=!1,Cr;var Hn=_r;if(Yt.charCodeAt(Hn)===34){for(var ra=Hn;ra++<sn;)if(Yt.charCodeAt(ra)===34){if(Yt.charCodeAt(ra+1)!==34)break;++ra}_r=ra+2;var fa=Yt.charCodeAt(ra+1);return fa===13?(hn=!0,Yt.charCodeAt(ra+2)===10&&++_r):fa===10&&(hn=!0),Yt.slice(Hn+1,ra).replace(/""/g,'"')}for(;_r<sn;){var fa=Yt.charCodeAt(_r++),ea=1;if(fa===10)hn=!0;else if(fa===13)hn=!0,Yt.charCodeAt(_r)===10&&(++_r,++ea);else if(fa!==qe)continue;return Yt.slice(Hn,_r-ea)}return Yt.slice(Hn)}for(;(Kr=pn())!==Lr;){for(var rn=[];Kr!==Cr&&Kr!==Lr;)rn.push(Kr),Kr=pn();tr&&(rn=tr(rn,Vr++))==null||$r.push(rn)}return $r},nt.format=function(Yt){if(Array.isArray(Yt[0]))return nt.formatRows(Yt);var tr=new k,Cr=[];return Yt.forEach(function(Lr){for(var $r in Lr)tr.has($r)||Cr.push(tr.add($r))}),[Cr.map(Gt).join(ue)].concat(Yt.map(function(Lr){return Cr.map(function($r){return Gt(Lr[$r])}).join(ue)})).join(`
`)},nt.formatRows=function(Yt){return Yt.map(At).join(`
`)};function At(Yt){return Yt.map(Gt).join(ue)}function Gt(Yt){return Be.test(Yt)?'"'+Yt.replace(/\"/g,'""')+'"':Yt}return nt},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("	","text/tab-separated-values");var Yr,Or,ln,fn,Mn=this[z(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};s.timer=function(){Pn.apply(this,arguments)};function Pn(ue,Ae,Be){var qe=arguments.length;qe<2&&(Ae=0),qe<3&&(Be=Date.now());var nt=Be+Ae,ft={c:ue,t:nt,n:null};return Or?Or.n=ft:Yr=ft,Or=ft,ln||(fn=clearTimeout(fn),ln=1,Mn(Vn)),ft}function Vn(){var ue=ia(),Ae=ya()-ue;Ae>24?(isFinite(Ae)&&(clearTimeout(fn),fn=setTimeout(Vn,Ae)),ln=0):(ln=1,Mn(Vn))}s.timer.flush=function(){ia(),ya()};function ia(){for(var ue=Date.now(),Ae=Yr;Ae;)ue>=Ae.t&&Ae.c(ue-Ae.t)&&(Ae.c=null),Ae=Ae.n;return ue}function ya(){for(var ue,Ae=Yr,Be=1/0;Ae;)Ae.c?(Ae.t<Be&&(Be=Ae.t),Ae=(ue=Ae).n):Ae=ue?ue.n=Ae.n:Yr=Ae.n;return Or=ue,Be}s.round=function(ue,Ae){return Ae?Math.round(ue*(Ae=Math.pow(10,Ae)))/Ae:Math.round(ue)},s.geom={};function wa(ue){return ue[0]}function Gn(ue){return ue[1]}s.geom.hull=function(ue){var Ae=wa,Be=Gn;if(arguments.length)return qe(ue);function qe(nt){if(nt.length<3)return[];var ft=tn(Ae),_t=tn(Be),At,Gt=nt.length,Yt=[],tr=[];for(At=0;At<Gt;At++)Yt.push([+ft.call(this,nt[At],At),+_t.call(this,nt[At],At),At]);for(Yt.sort(mr),At=0;At<Gt;At++)tr.push([Yt[At][0],-Yt[At][1]]);var Cr=Qn(Yt),Lr=Qn(tr),$r=Lr[0]===Cr[0],sn=Lr[Lr.length-1]===Cr[Cr.length-1],_r=[];for(At=Cr.length-1;At>=0;--At)_r.push(nt[Yt[Cr[At]][2]]);for(At=+$r;At<Lr.length-sn;++At)_r.push(nt[Yt[Lr[At]][2]]);return _r}return qe.x=function(nt){return arguments.length?(Ae=nt,qe):Ae},qe.y=function(nt){return arguments.length?(Be=nt,qe):Be},qe};function Qn(ue){for(var Ae=ue.length,Be=[0,1],qe=2,nt=2;nt<Ae;nt++){for(;qe>1&&Wt(ue[Be[qe-2]],ue[Be[qe-1]],ue[nt])<=0;)--qe;Be[qe++]=nt}return Be.slice(0,qe)}function mr(ue,Ae){return ue[0]-Ae[0]||ue[1]-Ae[1]}s.geom.polygon=function(ue){return ie(ue,en),ue};var en=s.geom.polygon.prototype=[];en.area=function(){for(var ue=-1,Ae=this.length,Be,qe=this[Ae-1],nt=0;++ue<Ae;)Be=qe,qe=this[ue],nt+=Be[1]*qe[0]-Be[0]*qe[1];return nt*.5},en.centroid=function(ue){var Ae=-1,Be=this.length,qe=0,nt=0,ft,_t=this[Be-1],At;for(arguments.length||(ue=-1/(6*this.area()));++Ae<Be;)ft=_t,_t=this[Ae],At=ft[0]*_t[1]-_t[0]*ft[1],qe+=(ft[0]+_t[0])*At,nt+=(ft[1]+_t[1])*At;return[qe*ue,nt*ue]},en.clip=function(ue){for(var Ae,Be=On(ue),qe=-1,nt=this.length-On(this),ft,_t,At=this[nt-1],Gt,Yt,tr;++qe<nt;){for(Ae=ue.slice(),ue.length=0,Gt=this[qe],Yt=Ae[(_t=Ae.length-Be)-1],ft=-1;++ft<_t;)tr=Ae[ft],Jr(tr,At,Gt)?(Jr(Yt,At,Gt)||ue.push(vn(Yt,tr,At,Gt)),ue.push(tr)):Jr(Yt,At,Gt)&&ue.push(vn(Yt,tr,At,Gt)),Yt=tr;Be&&ue.push(ue[0]),At=Gt}return ue};function Jr(ue,Ae,Be){return(Be[0]-Ae[0])*(ue[1]-Ae[1])<(Be[1]-Ae[1])*(ue[0]-Ae[0])}function vn(ue,Ae,Be,qe){var nt=ue[0],ft=Be[0],_t=Ae[0]-nt,At=qe[0]-ft,Gt=ue[1],Yt=Be[1],tr=Ae[1]-Gt,Cr=qe[1]-Yt,Lr=(At*(Gt-Yt)-Cr*(nt-ft))/(Cr*_t-At*tr);return[nt+Lr*_t,Gt+Lr*tr]}function On(ue){var Ae=ue[0],Be=ue[ue.length-1];return!(Ae[0]-Be[0]||Ae[1]-Be[1])}var bn,An,Fn,$n=[],ha,Ia,Mr=[];function Fr(){ko(this),this.edge=this.site=this.circle=null}function Ar(ue){var Ae=$n.pop()||new Fr;return Ae.site=ue,Ae}function Nr(ue){zn(ue),Fn.remove(ue),$n.push(ue),ko(ue)}function mn(ue){var Ae=ue.circle,Be=Ae.x,qe=Ae.cy,nt={x:Be,y:qe},ft=ue.P,_t=ue.N,At=[ue];Nr(ue);for(var Gt=ft;Gt.circle&&d(Be-Gt.circle.x)<je&&d(qe-Gt.circle.cy)<je;)ft=Gt.P,At.unshift(Gt),Nr(Gt),Gt=ft;At.unshift(Gt),zn(Gt);for(var Yt=_t;Yt.circle&&d(Be-Yt.circle.x)<je&&d(qe-Yt.circle.cy)<je;)_t=Yt.N,At.push(Yt),Nr(Yt),Yt=_t;At.push(Yt),zn(Yt);var tr=At.length,Cr;for(Cr=1;Cr<tr;++Cr)Yt=At[Cr],Gt=At[Cr-1],_a(Yt.edge,Gt.site,Yt.site,nt);Gt=At[0],Yt=At[tr-1],Yt.edge=sa(Gt.site,Yt.site,null,nt),wn(Gt),wn(Yt)}function Rn(ue){for(var Ae=ue.x,Be=ue.y,qe,nt,ft,_t,At=Fn._;At;)if(ft=gn(At,Be)-Ae,ft>je)At=At.L;else if(_t=Ae-un(At,Be),_t>je){if(!At.R){qe=At;break}At=At.R}else{ft>-je?(qe=At.P,nt=At):_t>-je?(qe=At,nt=At.N):qe=nt=At;break}var Gt=Ar(ue);if(Fn.insert(qe,Gt),!(!qe&&!nt)){if(qe===nt){zn(qe),nt=Ar(qe.site),Fn.insert(Gt,nt),Gt.edge=nt.edge=sa(qe.site,Gt.site),wn(qe),wn(nt);return}if(!nt){Gt.edge=sa(qe.site,Gt.site);return}zn(qe),zn(nt);var Yt=qe.site,tr=Yt.x,Cr=Yt.y,Lr=ue.x-tr,$r=ue.y-Cr,sn=nt.site,_r=sn.x-tr,Vr=sn.y-Cr,Kr=2*(Lr*Vr-$r*_r),hn=Lr*Lr+$r*$r,pn=_r*_r+Vr*Vr,rn={x:(Vr*hn-$r*pn)/Kr+tr,y:(Lr*pn-_r*hn)/Kr+Cr};_a(nt.edge,Yt,sn,rn),Gt.edge=sa(Yt,ue,null,rn),nt.edge=sa(ue,sn,null,rn),wn(qe),wn(nt)}}function gn(ue,Ae){var Be=ue.site,qe=Be.x,nt=Be.y,ft=nt-Ae;if(!ft)return qe;var _t=ue.P;if(!_t)return-1/0;Be=_t.site;var At=Be.x,Gt=Be.y,Yt=Gt-Ae;if(!Yt)return At;var tr=At-qe,Cr=1/ft-1/Yt,Lr=tr/Yt;return Cr?(-Lr+Math.sqrt(Lr*Lr-2*Cr*(tr*tr/(-2*Yt)-Gt+Yt/2+nt-ft/2)))/Cr+qe:(qe+At)/2}function un(ue,Ae){var Be=ue.N;if(Be)return gn(Be,Ae);var qe=ue.site;return qe.y===Ae?qe.x:1/0}function Er(ue){this.site=ue,this.edges=[]}Er.prototype.prepare=function(){for(var ue=this.edges,Ae=ue.length,Be;Ae--;)Be=ue[Ae].edge,(!Be.b||!Be.a)&&ue.splice(Ae,1);return ue.sort(Gr),ue.length};function Zr(ue){for(var Ae=ue[0][0],Be=ue[1][0],qe=ue[0][1],nt=ue[1][1],ft,_t,At,Gt,Yt=An,tr=Yt.length,Cr,Lr,$r,sn,_r,Vr;tr--;)if(Cr=Yt[tr],!(!Cr||!Cr.prepare()))for($r=Cr.edges,sn=$r.length,Lr=0;Lr<sn;)Vr=$r[Lr].end(),At=Vr.x,Gt=Vr.y,_r=$r[++Lr%sn].start(),ft=_r.x,_t=_r.y,(d(At-ft)>je||d(Gt-_t)>je)&&($r.splice(Lr,0,new gi(ga(Cr.site,Vr,d(At-Ae)<je&&nt-Gt>je?{x:Ae,y:d(ft-Ae)<je?_t:nt}:d(Gt-nt)<je&&Be-At>je?{x:d(_t-nt)<je?ft:Be,y:nt}:d(At-Be)<je&&Gt-qe>je?{x:Be,y:d(ft-Be)<je?_t:qe}:d(Gt-qe)<je&&At-Ae>je?{x:d(_t-qe)<je?ft:Ae,y:qe}:null),Cr.site,null)),++sn)}function Gr(ue,Ae){return Ae.angle-ue.angle}function qr(){ko(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(ue){var Ae=ue.P,Be=ue.N;if(!(!Ae||!Be)){var qe=Ae.site,nt=ue.site,ft=Be.site;if(qe!==ft){var _t=nt.x,At=nt.y,Gt=qe.x-_t,Yt=qe.y-At,tr=ft.x-_t,Vr=ft.y-At,Cr=2*(Gt*Vr-Yt*tr);if(!(Cr>=-Ce)){var Lr=Gt*Gt+Yt*Yt,$r=tr*tr+Vr*Vr,sn=(Vr*Lr-Yt*$r)/Cr,_r=(Gt*$r-tr*Lr)/Cr,Vr=_r+At,Kr=Mr.pop()||new qr;Kr.arc=ue,Kr.site=nt,Kr.x=sn+_t,Kr.y=Vr+Math.sqrt(sn*sn+_r*_r),Kr.cy=Vr,ue.circle=Kr;for(var hn=null,pn=Ia._;pn;)if(Kr.y<pn.y||Kr.y===pn.y&&Kr.x<=pn.x)if(pn.L)pn=pn.L;else{hn=pn.P;break}else if(pn.R)pn=pn.R;else{hn=pn;break}Ia.insert(hn,Kr),hn||(ha=Kr)}}}}function zn(ue){var Ae=ue.circle;Ae&&(Ae.P||(ha=Ae.N),Ia.remove(Ae),Mr.push(Ae),ko(Ae),ue.circle=null)}function En(ue,Ae,Be,qe){return function(nt){var ft=nt.a,_t=nt.b,At=ft.x,Gt=ft.y,Yt=_t.x,tr=_t.y,Cr=0,Lr=1,$r=Yt-At,sn=tr-Gt,_r;if(_r=ue-At,!(!$r&&_r>0)){if(_r/=$r,$r<0){if(_r<Cr)return;_r<Lr&&(Lr=_r)}else if($r>0){if(_r>Lr)return;_r>Cr&&(Cr=_r)}if(_r=Be-At,!(!$r&&_r<0)){if(_r/=$r,$r<0){if(_r>Lr)return;_r>Cr&&(Cr=_r)}else if($r>0){if(_r<Cr)return;_r<Lr&&(Lr=_r)}if(_r=Ae-Gt,!(!sn&&_r>0)){if(_r/=sn,sn<0){if(_r<Cr)return;_r<Lr&&(Lr=_r)}else if(sn>0){if(_r>Lr)return;_r>Cr&&(Cr=_r)}if(_r=qe-Gt,!(!sn&&_r<0)){if(_r/=sn,sn<0){if(_r>Lr)return;_r>Cr&&(Cr=_r)}else if(sn>0){if(_r<Cr)return;_r<Lr&&(Lr=_r)}return Cr>0&&(nt.a={x:At+Cr*$r,y:Gt+Cr*sn}),Lr<1&&(nt.b={x:At+Lr*$r,y:Gt+Lr*sn}),nt}}}}}}function Un(ue){for(var Ae=bn,Be=En(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),qe=Ae.length,nt;qe--;)nt=Ae[qe],(!Nn(nt,ue)||!Be(nt)||d(nt.a.x-nt.b.x)<je&&d(nt.a.y-nt.b.y)<je)&&(nt.a=nt.b=null,Ae.splice(qe,1))}function Nn(ue,Ae){var Be=ue.b;if(Be)return!0;var qe=ue.a,nt=Ae[0][0],ft=Ae[1][0],_t=Ae[0][1],At=Ae[1][1],Gt=ue.l,Yt=ue.r,tr=Gt.x,Cr=Gt.y,Lr=Yt.x,$r=Yt.y,sn=(tr+Lr)/2,_r=(Cr+$r)/2,Vr,Kr;if($r===Cr){if(sn<nt||sn>=ft)return;if(tr>Lr){if(!qe)qe={x:sn,y:_t};else if(qe.y>=At)return;Be={x:sn,y:At}}else{if(!qe)qe={x:sn,y:At};else if(qe.y<_t)return;Be={x:sn,y:_t}}}else if(Vr=(tr-Lr)/($r-Cr),Kr=_r-Vr*sn,Vr<-1||Vr>1)if(tr>Lr){if(!qe)qe={x:(_t-Kr)/Vr,y:_t};else if(qe.y>=At)return;Be={x:(At-Kr)/Vr,y:At}}else{if(!qe)qe={x:(At-Kr)/Vr,y:At};else if(qe.y<_t)return;Be={x:(_t-Kr)/Vr,y:_t}}else if(Cr<$r){if(!qe)qe={x:nt,y:Vr*nt+Kr};else if(qe.x>=ft)return;Be={x:ft,y:Vr*ft+Kr}}else{if(!qe)qe={x:ft,y:Vr*ft+Kr};else if(qe.x<nt)return;Be={x:nt,y:Vr*nt+Kr}}return ue.a=qe,ue.b=Be,!0}function va(ue,Ae){this.l=ue,this.r=Ae,this.a=this.b=null}function sa(ue,Ae,Be,qe){var nt=new va(ue,Ae);return bn.push(nt),Be&&_a(nt,ue,Ae,Be),qe&&_a(nt,Ae,ue,qe),An[ue.i].edges.push(new gi(nt,ue,Ae)),An[Ae.i].edges.push(new gi(nt,Ae,ue)),nt}function ga(ue,Ae,Be){var qe=new va(ue,null);return qe.a=Ae,qe.b=Be,bn.push(qe),qe}function _a(ue,Ae,Be,qe){!ue.a&&!ue.b?(ue.a=qe,ue.l=Ae,ue.r=Be):ue.l===Be?ue.b=qe:ue.a=qe}function gi(ue,Ae,Be){var qe=ue.a,nt=ue.b;this.edge=ue,this.site=Ae,this.angle=Be?Math.atan2(Be.y-Ae.y,Be.x-Ae.x):ue.l===Ae?Math.atan2(nt.x-qe.x,qe.y-nt.y):Math.atan2(qe.x-nt.x,nt.y-qe.y)}gi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ai(){this._=null}function ko(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}ai.prototype={insert:function(ue,Ae){var Be,qe,nt;if(ue){if(Ae.P=ue,Ae.N=ue.N,ue.N&&(ue.N.P=Ae),ue.N=Ae,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Ae}else ue.R=Ae;Be=ue}else this._?(ue=Sl(this._),Ae.P=null,Ae.N=ue,ue.P=ue.L=Ae,Be=ue):(Ae.P=Ae.N=null,this._=Ae,Be=null);for(Ae.L=Ae.R=null,Ae.U=Be,Ae.C=!0,ue=Ae;Be&&Be.C;)qe=Be.U,Be===qe.L?(nt=qe.R,nt&&nt.C?(Be.C=nt.C=!1,qe.C=!0,ue=qe):(ue===Be.R&&(Co(this,Be),ue=Be,Be=ue.U),Be.C=!1,qe.C=!0,to(this,qe))):(nt=qe.L,nt&&nt.C?(Be.C=nt.C=!1,qe.C=!0,ue=qe):(ue===Be.L&&(to(this,Be),ue=Be,Be=ue.U),Be.C=!1,qe.C=!0,Co(this,qe))),Be=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Ae=ue.U,Be,qe=ue.L,nt=ue.R,ft,_t;if(qe?nt?ft=Sl(nt):ft=qe:ft=nt,Ae?Ae.L===ue?Ae.L=ft:Ae.R=ft:this._=ft,qe&&nt?(_t=ft.C,ft.C=ue.C,ft.L=qe,qe.U=ft,ft!==nt?(Ae=ft.U,ft.U=ue.U,ue=ft.R,Ae.L=ue,ft.R=nt,nt.U=ft):(ft.U=Ae,Ae=ft,ue=ft.R)):(_t=ue.C,ue=ft),ue&&(ue.U=Ae),!_t){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Ae.L){if(Be=Ae.R,Be.C&&(Be.C=!1,Ae.C=!0,Co(this,Ae),Be=Ae.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,to(this,Be),Be=Ae.R),Be.C=Ae.C,Ae.C=Be.R.C=!1,Co(this,Ae),ue=this._;break}}else if(Be=Ae.L,Be.C&&(Be.C=!1,Ae.C=!0,to(this,Ae),Be=Ae.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,Co(this,Be),Be=Ae.L),Be.C=Ae.C,Ae.C=Be.L.C=!1,to(this,Ae),ue=this._;break}Be.C=!0,ue=Ae,Ae=Ae.U}while(!ue.C);ue&&(ue.C=!1)}}};function Co(ue,Ae){var Be=Ae,qe=Ae.R,nt=Be.U;nt?nt.L===Be?nt.L=qe:nt.R=qe:ue._=qe,qe.U=nt,Be.U=qe,Be.R=qe.L,Be.R&&(Be.R.U=Be),qe.L=Be}function to(ue,Ae){var Be=Ae,qe=Ae.L,nt=Be.U;nt?nt.L===Be?nt.L=qe:nt.R=qe:ue._=qe,qe.U=nt,Be.U=qe,Be.L=qe.R,Be.L&&(Be.L.U=Be),qe.R=Be}function Sl(ue){for(;ue.L;)ue=ue.L;return ue}function af(ue,Ae){var Be=ue.sort(Vf).pop(),qe,nt,ft;for(bn=[],An=new Array(ue.length),Fn=new ai,Ia=new ai;;)if(ft=ha,Be&&(!ft||Be.y<ft.y||Be.y===ft.y&&Be.x<ft.x))(Be.x!==qe||Be.y!==nt)&&(An[Be.i]=new Er(Be),Rn(Be),qe=Be.x,nt=Be.y),Be=ue.pop();else if(ft)mn(ft.arc);else break;Ae&&(Un(Ae),Zr(Ae));var _t={cells:An,edges:bn};return Fn=Ia=bn=An=null,_t}function Vf(ue,Ae){return Ae.y-ue.y||Ae.x-ue.x}s.geom.voronoi=function(ue){var Ae=wa,Be=Gn,qe=Ae,nt=Be,ft=ti;if(ue)return _t(ue);function _t(Gt){var Yt=new Array(Gt.length),tr=ft[0][0],Cr=ft[0][1],Lr=ft[1][0],$r=ft[1][1];return af(At(Gt),ft).cells.forEach(function(sn,_r){var Vr=sn.edges,Kr=sn.site,hn=Yt[_r]=Vr.length?Vr.map(function(pn){var rn=pn.start();return[rn.x,rn.y]}):Kr.x>=tr&&Kr.x<=Lr&&Kr.y>=Cr&&Kr.y<=$r?[[tr,$r],[Lr,$r],[Lr,Cr],[tr,Cr]]:[];hn.point=Gt[_r]}),Yt}function At(Gt){return Gt.map(function(Yt,tr){return{x:Math.round(qe(Yt,tr)/je)*je,y:Math.round(nt(Yt,tr)/je)*je,i:tr}})}return _t.links=function(Gt){return af(At(Gt)).edges.filter(function(Yt){return Yt.l&&Yt.r}).map(function(Yt){return{source:Gt[Yt.l.i],target:Gt[Yt.r.i]}})},_t.triangles=function(Gt){var Yt=[];return af(At(Gt)).cells.forEach(function(tr,Cr){for(var Lr=tr.site,$r=tr.edges.sort(Gr),sn=-1,_r=$r.length,Vr,Kr=$r[_r-1].edge,hn=Kr.l===Lr?Kr.r:Kr.l;++sn<_r;)Vr=hn,Kr=$r[sn].edge,hn=Kr.l===Lr?Kr.r:Kr.l,Cr<Vr.i&&Cr<hn.i&&eu(Lr,Vr,hn)<0&&Yt.push([Gt[Cr],Gt[Vr.i],Gt[hn.i]])}),Yt},_t.x=function(Gt){return arguments.length?(qe=tn(Ae=Gt),_t):Ae},_t.y=function(Gt){return arguments.length?(nt=tn(Be=Gt),_t):Be},_t.clipExtent=function(Gt){return arguments.length?(ft=Gt??ti,_t):ft===ti?null:ft},_t.size=function(Gt){return arguments.length?_t.clipExtent(Gt&&[[0,0],Gt]):ft===ti?null:ft&&ft[1]},_t};var ti=[[-1e6,-1e6],[1e6,1e6]];function eu(ue,Ae,Be){return(ue.x-Be.x)*(Ae.y-ue.y)-(ue.x-Ae.x)*(Be.y-ue.y)}s.geom.delaunay=function(ue){return s.geom.voronoi().triangles(ue)},s.geom.quadtree=function(ue,Ae,Be,qe,nt){var ft=wa,_t=Gn,At;if(At=arguments.length)return ft=of,_t=Ki,At===3&&(nt=Be,qe=Ae,Be=Ae=0),Gt(ue);function Gt(Yt){var tr,Cr=tn(ft),Lr=tn(_t),$r,sn,_r,Vr,Kr,hn,pn,rn;if(Ae!=null)Kr=Ae,hn=Be,pn=qe,rn=nt;else if(pn=rn=-(Kr=hn=1/0),$r=[],sn=[],Vr=Yt.length,At)for(_r=0;_r<Vr;++_r)tr=Yt[_r],tr.x<Kr&&(Kr=tr.x),tr.y<hn&&(hn=tr.y),tr.x>pn&&(pn=tr.x),tr.y>rn&&(rn=tr.y),$r.push(tr.x),sn.push(tr.y);else for(_r=0;_r<Vr;++_r){var Hn=+Cr(tr=Yt[_r],_r),ra=+Lr(tr,_r);Hn<Kr&&(Kr=Hn),ra<hn&&(hn=ra),Hn>pn&&(pn=Hn),ra>rn&&(rn=ra),$r.push(Hn),sn.push(ra)}var fa=pn-Kr,ea=rn-hn;fa>ea?rn=hn+fa:pn=Kr+ea;function oa(Ea,Oa,ii,Fi,ci,qn,Ha,Sa){if(!(isNaN(ii)||isNaN(Fi)))if(Ea.leaf){var Ja=Ea.x,wi=Ea.y;if(Ja!=null)if(d(Ja-ii)+d(wi-Fi)<.01)ca(Ea,Oa,ii,Fi,ci,qn,Ha,Sa);else{var oi=Ea.point;Ea.x=Ea.y=Ea.point=null,ca(Ea,oi,Ja,wi,ci,qn,Ha,Sa),ca(Ea,Oa,ii,Fi,ci,qn,Ha,Sa)}else Ea.x=ii,Ea.y=Fi,Ea.point=Oa}else ca(Ea,Oa,ii,Fi,ci,qn,Ha,Sa)}function ca(Ea,Oa,ii,Fi,ci,qn,Ha,Sa){var Ja=(ci+Ha)*.5,wi=(qn+Sa)*.5,oi=ii>=Ja,$i=Fi>=wi,qi=$i<<1|oi;Ea.leaf=!1,Ea=Ea.nodes[qi]||(Ea.nodes[qi]=bo()),oi?ci=Ja:Ha=Ja,$i?qn=wi:Sa=wi,oa(Ea,Oa,ii,Fi,ci,qn,Ha,Sa)}var Ua=bo();if(Ua.add=function(Ea){oa(Ua,Ea,+Cr(Ea,++_r),+Lr(Ea,_r),Kr,hn,pn,rn)},Ua.visit=function(Ea){Ml(Ea,Ua,Kr,hn,pn,rn)},Ua.find=function(Ea){return Iu(Ua,Ea[0],Ea[1],Kr,hn,pn,rn)},_r=-1,Ae==null){for(;++_r<Vr;)oa(Ua,Yt[_r],$r[_r],sn[_r],Kr,hn,pn,rn);--_r}else Yt.forEach(Ua.add);return $r=sn=Yt=tr=null,Ua}return Gt.x=function(Yt){return arguments.length?(ft=Yt,Gt):ft},Gt.y=function(Yt){return arguments.length?(_t=Yt,Gt):_t},Gt.extent=function(Yt){return arguments.length?(Yt==null?Ae=Be=qe=nt=null:(Ae=+Yt[0][0],Be=+Yt[0][1],qe=+Yt[1][0],nt=+Yt[1][1]),Gt):Ae==null?null:[[Ae,Be],[qe,nt]]},Gt.size=function(Yt){return arguments.length?(Yt==null?Ae=Be=qe=nt=null:(Ae=Be=0,qe=+Yt[0],nt=+Yt[1]),Gt):Ae==null?null:[qe-Ae,nt-Be]},Gt};function of(ue){return ue.x}function Ki(ue){return ue.y}function bo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ml(ue,Ae,Be,qe,nt,ft){if(!ue(Ae,Be,qe,nt,ft)){var _t=(Be+nt)*.5,At=(qe+ft)*.5,Gt=Ae.nodes;Gt[0]&&Ml(ue,Gt[0],Be,qe,_t,At),Gt[1]&&Ml(ue,Gt[1],_t,qe,nt,At),Gt[2]&&Ml(ue,Gt[2],Be,At,_t,ft),Gt[3]&&Ml(ue,Gt[3],_t,At,nt,ft)}}function Iu(ue,Ae,Be,qe,nt,ft,_t){var At=1/0,Gt;return function Yt(tr,Cr,Lr,$r,sn){if(!(Cr>ft||Lr>_t||$r<qe||sn<nt)){if(_r=tr.point){var _r,Vr=Ae-tr.x,Kr=Be-tr.y,hn=Vr*Vr+Kr*Kr;if(hn<At){var pn=Math.sqrt(At=hn);qe=Ae-pn,nt=Be-pn,ft=Ae+pn,_t=Be+pn,Gt=_r}}for(var rn=tr.nodes,Hn=(Cr+$r)*.5,ra=(Lr+sn)*.5,fa=Ae>=Hn,ea=Be>=ra,oa=ea<<1|fa,ca=oa+4;oa<ca;++oa)if(tr=rn[oa&3])switch(oa&3){case 0:Yt(tr,Cr,Lr,Hn,ra);break;case 1:Yt(tr,Hn,Lr,$r,ra);break;case 2:Yt(tr,Cr,ra,Hn,sn);break;case 3:Yt(tr,Hn,ra,$r,sn);break}}}(ue,qe,nt,ft,_t),Gt}s.interpolateRgb=Ii;function Ii(ue,Ae){ue=s.rgb(ue),Ae=s.rgb(Ae);var Be=ue.r,qe=ue.g,nt=ue.b,ft=Ae.r-Be,_t=Ae.g-qe,At=Ae.b-nt;return function(Gt){return"#"+vr(Math.round(Be+ft*Gt))+vr(Math.round(qe+_t*Gt))+vr(Math.round(nt+At*Gt))}}s.interpolateObject=El;function El(ue,Ae){var Be={},qe={},nt;for(nt in ue)nt in Ae?Be[nt]=no(ue[nt],Ae[nt]):qe[nt]=ue[nt];for(nt in Ae)nt in ue||(qe[nt]=Ae[nt]);return function(ft){for(nt in Be)qe[nt]=Be[nt](ft);return qe}}s.interpolateNumber=Oi;function Oi(ue,Ae){return ue=+ue,Ae=+Ae,function(Be){return ue*(1-Be)+Ae*Be}}s.interpolateString=Hi;function Hi(ue,Ae){var Be=Cl.lastIndex=ro.lastIndex=0,qe,nt,ft,_t=-1,At=[],Gt=[];for(ue=ue+"",Ae=Ae+"";(qe=Cl.exec(ue))&&(nt=ro.exec(Ae));)(ft=nt.index)>Be&&(ft=Ae.slice(Be,ft),At[_t]?At[_t]+=ft:At[++_t]=ft),(qe=qe[0])===(nt=nt[0])?At[_t]?At[_t]+=nt:At[++_t]=nt:(At[++_t]=null,Gt.push({i:_t,x:Oi(qe,nt)})),Be=ro.lastIndex;return Be<Ae.length&&(ft=Ae.slice(Be),At[_t]?At[_t]+=ft:At[++_t]=ft),At.length<2?Gt[0]?(Ae=Gt[0].x,function(Yt){return Ae(Yt)+""}):function(){return Ae}:(Ae=Gt.length,function(Yt){for(var tr=0,Cr;tr<Ae;++tr)At[(Cr=Gt[tr]).i]=Cr.x(Yt);return At.join("")})}var Cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ro=new RegExp(Cl.source,"g");s.interpolate=no;function no(ue,Ae){for(var Be=s.interpolators.length,qe;--Be>=0&&!(qe=s.interpolators[Be](ue,Ae)););return qe}s.interpolators=[function(ue,Ae){var Be=typeof Ae;return(Be==="string"?an.has(Ae.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ae)?Ii:Hi:Ae instanceof mt?Ii:Array.isArray(Ae)?zo:Be==="object"&&isNaN(Ae)?El:Oi)(ue,Ae)}],s.interpolateArray=zo;function zo(ue,Ae){var Be=[],qe=[],nt=ue.length,ft=Ae.length,_t=Math.min(ue.length,Ae.length),At;for(At=0;At<_t;++At)Be.push(no(ue[At],Ae[At]));for(;At<nt;++At)qe[At]=ue[At];for(;At<ft;++At)qe[At]=Ae[At];return function(Gt){for(At=0;At<_t;++At)qe[At]=Be[At](Gt);return qe}}var Hf=function(){return O},Lo=s.map({linear:Hf,poly:Gf,quad:function(){return Bs},cubic:function(){return hs},sin:function(){return Xc},exp:function(){return ku},circle:function(){return Zc},elastic:Kc,back:Jc,bounce:function(){return uf}}),jc=s.map({in:O,out:Ji,"in-out":sf,"out-in":function(ue){return sf(Ji(ue))}});s.ease=function(ue){var Ae=ue.indexOf("-"),Be=Ae>=0?ue.slice(0,Ae):ue,qe=Ae>=0?ue.slice(Ae+1):"in";return Be=Lo.get(Be)||Hf,qe=jc.get(qe)||O,cs(qe(Be.apply(null,L.call(arguments,1))))};function cs(ue){return function(Ae){return Ae<=0?0:Ae>=1?1:ue(Ae)}}function Ji(ue){return function(Ae){return 1-ue(1-Ae)}}function sf(ue){return function(Ae){return .5*(Ae<.5?ue(2*Ae):2-ue(2-2*Ae))}}function Bs(ue){return ue*ue}function hs(ue){return ue*ue*ue}function lf(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Ae=ue*ue,Be=Ae*ue;return 4*(ue<.5?Be:3*(ue-Ae)+Be-.75)}function Gf(ue){return function(Ae){return Math.pow(Ae,ue)}}function Xc(ue){return 1-Math.cos(ue*$e)}function ku(ue){return Math.pow(2,10*(ue-1))}function Zc(ue){return 1-Math.sqrt(1-ue*ue)}function Kc(ue,Ae){var Be;return arguments.length<2&&(Ae=.45),arguments.length?Be=Ae/me*Math.asin(1/ue):(ue=1,Be=Ae/4),function(qe){return 1+ue*Math.pow(2,-10*qe)*Math.sin((qe-Be)*me/Ae)}}function Jc(ue){return ue||(ue=1.70158),function(Ae){return Ae*Ae*((ue+1)*Ae-ue)}}function uf(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}s.interpolateHcl=Qc;function Qc(ue,Ae){ue=s.hcl(ue),Ae=s.hcl(Ae);var Be=ue.h,qe=ue.c,nt=ue.l,ft=Ae.h-Be,_t=Ae.c-qe,At=Ae.l-nt;return isNaN(_t)&&(_t=0,qe=isNaN(qe)?Ae.c:qe),isNaN(ft)?(ft=0,Be=isNaN(Be)?Ae.h:Be):ft>180?ft-=360:ft<-180&&(ft+=360),function(Gt){return Bt(Be+ft*Gt,qe+_t*Gt,nt+At*Gt)+""}}s.interpolateHsl=$c;function $c(ue,Ae){ue=s.hsl(ue),Ae=s.hsl(Ae);var Be=ue.h,qe=ue.s,nt=ue.l,ft=Ae.h-Be,_t=Ae.s-qe,At=Ae.l-nt;return isNaN(_t)&&(_t=0,qe=isNaN(qe)?Ae.s:qe),isNaN(ft)?(ft=0,Be=isNaN(Be)?Ae.h:Be):ft>180?ft-=360:ft<-180&&(ft+=360),function(Gt){return Ct(Be+ft*Gt,qe+_t*Gt,nt+At*Gt)+""}}s.interpolateLab=Wf;function Wf(ue,Ae){ue=s.lab(ue),Ae=s.lab(Ae);var Be=ue.l,qe=ue.a,nt=ue.b,ft=Ae.l-Be,_t=Ae.a-qe,At=Ae.b-nt;return function(Gt){return Ue(Be+ft*Gt,qe+_t*Gt,nt+At*Gt)+""}}s.interpolateRound=Yf;function Yf(ue,Ae){return Ae-=ue,function(Be){return Math.round(ue+Ae*Be)}}s.transform=function(ue){var Ae=v.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(Be){if(Be!=null){Ae.setAttribute("transform",Be);var qe=Ae.transform.baseVal.consolidate()}return new al(qe?qe.matrix:jf)})(ue)};function al(ue){var Ae=[ue.a,ue.b],Be=[ue.c,ue.d],qe=tu(Ae),nt=Ll(Ae,Be),ft=tu(ru(Be,Ae,-nt))||0;Ae[0]*Be[1]<Be[0]*Ae[1]&&(Ae[0]*=-1,Ae[1]*=-1,qe*=-1,nt*=-1),this.rotate=(qe?Math.atan2(Ae[1],Ae[0]):Math.atan2(-Be[0],Be[1]))*st,this.translate=[ue.e,ue.f],this.scale=[qe,ft],this.skew=ft?Math.atan2(nt,ft)*st:0}al.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ll(ue,Ae){return ue[0]*Ae[0]+ue[1]*Ae[1]}function tu(ue){var Ae=Math.sqrt(Ll(ue,ue));return Ae&&(ue[0]/=Ae,ue[1]/=Ae),Ae}function ru(ue,Ae,Be){return ue[0]+=Be*Ae[0],ue[1]+=Be*Ae[1],ue}var jf={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=Ou;function Ms(ue){return ue.length?ue.pop()+",":""}function qc(ue,Ae,Be,qe){if(ue[0]!==Ae[0]||ue[1]!==Ae[1]){var nt=Be.push("translate(",null,",",null,")");qe.push({i:nt-4,x:Oi(ue[0],Ae[0])},{i:nt-2,x:Oi(ue[1],Ae[1])})}else(Ae[0]||Ae[1])&&Be.push("translate("+Ae+")")}function zu(ue,Ae,Be,qe){ue!==Ae?(ue-Ae>180?Ae+=360:Ae-ue>180&&(ue+=360),qe.push({i:Be.push(Ms(Be)+"rotate(",null,")")-2,x:Oi(ue,Ae)})):Ae&&Be.push(Ms(Be)+"rotate("+Ae+")")}function Xf(ue,Ae,Be,qe){ue!==Ae?qe.push({i:Be.push(Ms(Be)+"skewX(",null,")")-2,x:Oi(ue,Ae)}):Ae&&Be.push(Ms(Be)+"skewX("+Ae+")")}function Zf(ue,Ae,Be,qe){if(ue[0]!==Ae[0]||ue[1]!==Ae[1]){var nt=Be.push(Ms(Be)+"scale(",null,",",null,")");qe.push({i:nt-4,x:Oi(ue[0],Ae[0])},{i:nt-2,x:Oi(ue[1],Ae[1])})}else(Ae[0]!==1||Ae[1]!==1)&&Be.push(Ms(Be)+"scale("+Ae+")")}function Ou(ue,Ae){var Be=[],qe=[];return ue=s.transform(ue),Ae=s.transform(Ae),qc(ue.translate,Ae.translate,Be,qe),zu(ue.rotate,Ae.rotate,Be,qe),Xf(ue.skew,Ae.skew,Be,qe),Zf(ue.scale,Ae.scale,Be,qe),ue=Ae=null,function(nt){for(var ft=-1,_t=qe.length,At;++ft<_t;)Be[(At=qe[ft]).i]=At.x(nt);return Be.join("")}}function Zo(ue,Ae){return Ae=(Ae-=ue=+ue)||1/Ae,function(Be){return(Be-ue)/Ae}}function Pl(ue,Ae){return Ae=(Ae-=ue=+ue)||1/Ae,function(Be){return Math.max(0,Math.min(1,(Be-ue)/Ae))}}s.layout={},s.layout.bundle=function(){return function(ue){for(var Ae=[],Be=-1,qe=ue.length;++Be<qe;)Ae.push(il(ue[Be]));return Ae}};function il(ue){for(var Ae=ue.source,Be=ue.target,qe=Us(Ae,Be),nt=[Ae];Ae!==qe;)Ae=Ae.parent,nt.push(Ae);for(var ft=nt.length;Be!==qe;)nt.splice(ft,0,Be),Be=Be.parent;return nt}function nu(ue){for(var Ae=[],Be=ue.parent;Be!=null;)Ae.push(ue),ue=Be,Be=Be.parent;return Ae.push(ue),Ae}function Us(ue,Ae){if(ue===Ae)return ue;for(var Be=nu(ue),qe=nu(Ae),nt=Be.pop(),ft=qe.pop(),_t=null;nt===ft;)_t=nt,nt=Be.pop(),ft=qe.pop();return _t}s.layout.chord=function(){var ue={},Ae,Be,qe,nt,ft=0,_t,At,Gt;function Yt(){var Cr={},Lr=[],$r=s.range(nt),sn=[],_r,Vr,Kr,hn,pn;for(Ae=[],Be=[],_r=0,hn=-1;++hn<nt;){for(Vr=0,pn=-1;++pn<nt;)Vr+=qe[hn][pn];Lr.push(Vr),sn.push(s.range(nt)),_r+=Vr}for(_t&&$r.sort(function(Ua,Ea){return _t(Lr[Ua],Lr[Ea])}),At&&sn.forEach(function(Ua,Ea){Ua.sort(function(Oa,ii){return At(qe[Ea][Oa],qe[Ea][ii])})}),_r=(me-ft*nt)/_r,Vr=0,hn=-1;++hn<nt;){for(Kr=Vr,pn=-1;++pn<nt;){var rn=$r[hn],Hn=sn[rn][pn],ra=qe[rn][Hn],fa=Vr,ea=Vr+=ra*_r;Cr[rn+"-"+Hn]={index:rn,subindex:Hn,startAngle:fa,endAngle:ea,value:ra}}Be[rn]={index:rn,startAngle:Kr,endAngle:Vr,value:Lr[rn]},Vr+=ft}for(hn=-1;++hn<nt;)for(pn=hn-1;++pn<nt;){var oa=Cr[hn+"-"+pn],ca=Cr[pn+"-"+hn];(oa.value||ca.value)&&Ae.push(oa.value<ca.value?{source:ca,target:oa}:{source:oa,target:ca})}Gt&&tr()}function tr(){Ae.sort(function(Cr,Lr){return Gt((Cr.source.value+Cr.target.value)/2,(Lr.source.value+Lr.target.value)/2)})}return ue.matrix=function(Cr){return arguments.length?(nt=(qe=Cr)&&qe.length,Ae=Be=null,ue):qe},ue.padding=function(Cr){return arguments.length?(ft=Cr,Ae=Be=null,ue):ft},ue.sortGroups=function(Cr){return arguments.length?(_t=Cr,Ae=Be=null,ue):_t},ue.sortSubgroups=function(Cr){return arguments.length?(At=Cr,Ae=null,ue):At},ue.sortChords=function(Cr){return arguments.length?(Gt=Cr,Ae&&tr(),ue):Gt},ue.chords=function(){return Ae||Yt(),Ae},ue.groups=function(){return Be||Yt(),Be},ue},s.layout.force=function(){var ue={},Ae=s.dispatch("start","tick","end"),Be,qe=[1,1],nt,ft,_t=.9,At=cf,Gt=eh,Yt=-30,tr=Fu,Cr=.1,Lr=.64,$r=[],sn=[],_r,Vr,Kr;function hn(rn){return function(Hn,ra,fa,ea){if(Hn.point!==rn){var oa=Hn.cx-rn.x,ca=Hn.cy-rn.y,Ua=ea-ra,Ea=oa*oa+ca*ca;if(Ua*Ua/Lr<Ea){if(Ea<tr){var Oa=Hn.charge/Ea;rn.px-=oa*Oa,rn.py-=ca*Oa}return!0}if(Hn.point&&Ea&&Ea<tr){var Oa=Hn.pointCharge/Ea;rn.px-=oa*Oa,rn.py-=ca*Oa}}return!Hn.charge}}ue.tick=function(){if((ft*=.99)<.005)return Be=null,Ae.end({type:"end",alpha:ft=0}),!0;var rn=$r.length,Hn=sn.length,ra,fa,ea,oa,ca,Ua,Ea,Oa,ii;for(fa=0;fa<Hn;++fa)ea=sn[fa],oa=ea.source,ca=ea.target,Oa=ca.x-oa.x,ii=ca.y-oa.y,(Ua=Oa*Oa+ii*ii)&&(Ua=ft*Vr[fa]*((Ua=Math.sqrt(Ua))-_r[fa])/Ua,Oa*=Ua,ii*=Ua,ca.x-=Oa*(Ea=oa.weight+ca.weight?oa.weight/(oa.weight+ca.weight):.5),ca.y-=ii*Ea,oa.x+=Oa*(Ea=1-Ea),oa.y+=ii*Ea);if((Ea=ft*Cr)&&(Oa=qe[0]/2,ii=qe[1]/2,fa=-1,Ea))for(;++fa<rn;)ea=$r[fa],ea.x+=(Oa-ea.x)*Ea,ea.y+=(ii-ea.y)*Ea;if(Yt)for(_i(ra=s.geom.quadtree($r),ft,Kr),fa=-1;++fa<rn;)(ea=$r[fa]).fixed||ra.visit(hn(ea));for(fa=-1;++fa<rn;)ea=$r[fa],ea.fixed?(ea.x=ea.px,ea.y=ea.py):(ea.x-=(ea.px-(ea.px=ea.x))*_t,ea.y-=(ea.py-(ea.py=ea.y))*_t);Ae.tick({type:"tick",alpha:ft})},ue.nodes=function(rn){return arguments.length?($r=rn,ue):$r},ue.links=function(rn){return arguments.length?(sn=rn,ue):sn},ue.size=function(rn){return arguments.length?(qe=rn,ue):qe},ue.linkDistance=function(rn){return arguments.length?(At=typeof rn=="function"?rn:+rn,ue):At},ue.distance=ue.linkDistance,ue.linkStrength=function(rn){return arguments.length?(Gt=typeof rn=="function"?rn:+rn,ue):Gt},ue.friction=function(rn){return arguments.length?(_t=+rn,ue):_t},ue.charge=function(rn){return arguments.length?(Yt=typeof rn=="function"?rn:+rn,ue):Yt},ue.chargeDistance=function(rn){return arguments.length?(tr=rn*rn,ue):Math.sqrt(tr)},ue.gravity=function(rn){return arguments.length?(Cr=+rn,ue):Cr},ue.theta=function(rn){return arguments.length?(Lr=rn*rn,ue):Math.sqrt(Lr)},ue.alpha=function(rn){return arguments.length?(rn=+rn,ft?rn>0?ft=rn:(Be.c=null,Be.t=NaN,Be=null,Ae.end({type:"end",alpha:ft=0})):rn>0&&(Ae.start({type:"start",alpha:ft=rn}),Be=Pn(ue.tick)),ue):ft},ue.start=function(){var rn,Hn=$r.length,ra=sn.length,fa=qe[0],ea=qe[1],oa,ca;for(rn=0;rn<Hn;++rn)(ca=$r[rn]).index=rn,ca.weight=0;for(rn=0;rn<ra;++rn)ca=sn[rn],typeof ca.source=="number"&&(ca.source=$r[ca.source]),typeof ca.target=="number"&&(ca.target=$r[ca.target]),++ca.source.weight,++ca.target.weight;for(rn=0;rn<Hn;++rn)ca=$r[rn],isNaN(ca.x)&&(ca.x=Ua("x",fa)),isNaN(ca.y)&&(ca.y=Ua("y",ea)),isNaN(ca.px)&&(ca.px=ca.x),isNaN(ca.py)&&(ca.py=ca.y);if(_r=[],typeof At=="function")for(rn=0;rn<ra;++rn)_r[rn]=+At.call(this,sn[rn],rn);else for(rn=0;rn<ra;++rn)_r[rn]=At;if(Vr=[],typeof Gt=="function")for(rn=0;rn<ra;++rn)Vr[rn]=+Gt.call(this,sn[rn],rn);else for(rn=0;rn<ra;++rn)Vr[rn]=Gt;if(Kr=[],typeof Yt=="function")for(rn=0;rn<Hn;++rn)Kr[rn]=+Yt.call(this,$r[rn],rn);else for(rn=0;rn<Hn;++rn)Kr[rn]=Yt;function Ua(Ea,Oa){if(!oa){for(oa=new Array(Hn),ci=0;ci<Hn;++ci)oa[ci]=[];for(ci=0;ci<ra;++ci){var ii=sn[ci];oa[ii.source.index].push(ii.target),oa[ii.target.index].push(ii.source)}}for(var Fi=oa[rn],ci=-1,qn=Fi.length,Ha;++ci<qn;)if(!isNaN(Ha=Fi[ci][Ea]))return Ha;return Math.random()*Oa}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(nt||(nt=s.behavior.drag().origin(O).on("dragstart.force",vs).on("drag.force",pn).on("dragend.force",ff)),!arguments.length)return nt;this.on("mouseover.force",_l).on("mouseout.force",Ko).call(nt)};function pn(rn){rn.px=s.event.x,rn.py=s.event.y,ue.resume()}return s.rebind(ue,Ae,"on")};function vs(ue){ue.fixed|=2}function ff(ue){ue.fixed&=-7}function _l(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function Ko(ue){ue.fixed&=-5}function _i(ue,Ae,Be){var qe=0,nt=0;if(ue.charge=0,!ue.leaf)for(var ft=ue.nodes,_t=ft.length,At=-1,Gt;++At<_t;)Gt=ft[At],Gt!=null&&(_i(Gt,Ae,Be),ue.charge+=Gt.charge,qe+=Gt.charge*Gt.cx,nt+=Gt.charge*Gt.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var Yt=Ae*Be[ue.point.index];ue.charge+=ue.pointCharge=Yt,qe+=Yt*ue.point.x,nt+=Yt*ue.point.y}ue.cx=qe/ue.charge,ue.cy=nt/ue.charge}var cf=20,eh=1,Fu=1/0;s.layout.hierarchy=function(){var ue=Bu,Ae=Nu,Be=Il;function qe(nt){var ft=[nt],_t=[],At;for(nt.depth=0;(At=ft.pop())!=null;)if(_t.push(At),(Yt=Ae.call(qe,At,At.depth))&&(Gt=Yt.length)){for(var Gt,Yt,tr;--Gt>=0;)ft.push(tr=Yt[Gt]),tr.parent=At,tr.depth=At.depth+1;Be&&(At.value=0),At.children=Yt}else Be&&(At.value=+Be.call(qe,At,At.depth)||0),delete At.children;return Po(nt,function(Cr){var Lr,$r;ue&&(Lr=Cr.children)&&Lr.sort(ue),Be&&($r=Cr.parent)&&($r.value+=Cr.value)}),_t}return qe.sort=function(nt){return arguments.length?(ue=nt,qe):ue},qe.children=function(nt){return arguments.length?(Ae=nt,qe):Ae},qe.value=function(nt){return arguments.length?(Be=nt,qe):Be},qe.revalue=function(nt){return Be&&(Dl(nt,function(ft){ft.children&&(ft.value=0)}),Po(nt,function(ft){var _t;ft.children||(ft.value=+Be.call(qe,ft,ft.depth)||0),(_t=ft.parent)&&(_t.value+=ft.value)})),nt},qe};function Rl(ue,Ae){return s.rebind(ue,Ae,"sort","children","value"),ue.nodes=ue,ue.links=th,ue}function Dl(ue,Ae){for(var Be=[ue];(ue=Be.pop())!=null;)if(Ae(ue),(nt=ue.children)&&(qe=nt.length))for(var qe,nt;--qe>=0;)Be.push(nt[qe])}function Po(ue,Ae){for(var Be=[ue],qe=[];(ue=Be.pop())!=null;)if(qe.push(ue),(_t=ue.children)&&(ft=_t.length))for(var nt=-1,ft,_t;++nt<ft;)Be.push(_t[nt]);for(;(ue=qe.pop())!=null;)Ae(ue)}function Nu(ue){return ue.children}function Il(ue){return ue.value}function Bu(ue,Ae){return Ae.value-ue.value}function th(ue){return s.merge(ue.map(function(Ae){return(Ae.children||[]).map(function(Be){return{source:Ae,target:Be}})}))}s.layout.partition=function(){var ue=s.layout.hierarchy(),Ae=[1,1];function Be(ft,_t,At,Gt){var Yt=ft.children;if(ft.x=_t,ft.y=ft.depth*Gt,ft.dx=At,ft.dy=Gt,Yt&&(Cr=Yt.length)){var tr=-1,Cr,Lr,$r;for(At=ft.value?At/ft.value:0;++tr<Cr;)Be(Lr=Yt[tr],_t,$r=Lr.value*At,Gt),_t+=$r}}function qe(ft){var _t=ft.children,At=0;if(_t&&(Yt=_t.length))for(var Gt=-1,Yt;++Gt<Yt;)At=Math.max(At,qe(_t[Gt]));return 1+At}function nt(ft,_t){var At=ue.call(this,ft,_t);return Be(At[0],0,Ae[0],Ae[1]/qe(At[0])),At}return nt.size=function(ft){return arguments.length?(Ae=ft,nt):Ae},Rl(nt,ue)},s.layout.pie=function(){var ue=Number,Ae=Kf,Be=0,qe=me,nt=0;function ft(_t){var At=_t.length,Gt=_t.map(function(hn,pn){return+ue.call(ft,hn,pn)}),Yt=+(typeof Be=="function"?Be.apply(this,arguments):Be),tr=(typeof qe=="function"?qe.apply(this,arguments):qe)-Yt,Cr=Math.min(Math.abs(tr)/At,+(typeof nt=="function"?nt.apply(this,arguments):nt)),Lr=Cr*(tr<0?-1:1),$r=s.sum(Gt),sn=$r?(tr-At*Lr)/$r:0,_r=s.range(At),Vr=[],Kr;return Ae!=null&&_r.sort(Ae===Kf?function(hn,pn){return Gt[pn]-Gt[hn]}:function(hn,pn){return Ae(_t[hn],_t[pn])}),_r.forEach(function(hn){Vr[hn]={data:_t[hn],value:Kr=Gt[hn],startAngle:Yt,endAngle:Yt+=Kr*sn+Lr,padAngle:Cr}}),Vr}return ft.value=function(_t){return arguments.length?(ue=_t,ft):ue},ft.sort=function(_t){return arguments.length?(Ae=_t,ft):Ae},ft.startAngle=function(_t){return arguments.length?(Be=_t,ft):Be},ft.endAngle=function(_t){return arguments.length?(qe=_t,ft):qe},ft.padAngle=function(_t){return arguments.length?(nt=_t,ft):nt},ft};var Kf={};s.layout.stack=function(){var ue=O,Ae=au,Be=Vu,qe=df,nt=hf,ft=vf;function _t(At,Gt){if(!(sn=At.length))return At;var Yt=At.map(function(hn,pn){return ue.call(_t,hn,pn)}),tr=Yt.map(function(hn){return hn.map(function(pn,rn){return[nt.call(_t,pn,rn),ft.call(_t,pn,rn)]})}),Cr=Ae.call(_t,tr,Gt);Yt=s.permute(Yt,Cr),tr=s.permute(tr,Cr);var Lr=Be.call(_t,tr,Gt),$r=Yt[0].length,sn,_r,Vr,Kr;for(Vr=0;Vr<$r;++Vr)for(qe.call(_t,Yt[0][Vr],Kr=Lr[Vr],tr[0][Vr][1]),_r=1;_r<sn;++_r)qe.call(_t,Yt[_r][Vr],Kr+=tr[_r-1][Vr][1],tr[_r][Vr][1]);return At}return _t.values=function(At){return arguments.length?(ue=At,_t):ue},_t.order=function(At){return arguments.length?(Ae=typeof At=="function"?At:kl.get(At)||au,_t):Ae},_t.offset=function(At){return arguments.length?(Be=typeof At=="function"?At:Uu.get(At)||Vu,_t):Be},_t.x=function(At){return arguments.length?(nt=At,_t):nt},_t.y=function(At){return arguments.length?(ft=At,_t):ft},_t.out=function(At){return arguments.length?(qe=At,_t):qe},_t};function hf(ue){return ue.x}function vf(ue){return ue.y}function df(ue,Ae,Be){ue.y0=Ae,ue.y=Be}var kl=s.map({"inside-out":function(ue){var Ae=ue.length,Be,qe,nt=ue.map(yi),ft=ue.map(Jf),_t=s.range(Ae).sort(function(Cr,Lr){return nt[Cr]-nt[Lr]}),At=0,Gt=0,Yt=[],tr=[];for(Be=0;Be<Ae;++Be)qe=_t[Be],At<Gt?(At+=ft[qe],Yt.push(qe)):(Gt+=ft[qe],tr.push(qe));return tr.reverse().concat(Yt)},reverse:function(ue){return s.range(ue.length).reverse()},default:au}),Uu=s.map({silhouette:function(ue){var Ae=ue.length,Be=ue[0].length,qe=[],nt=0,ft,_t,At,Gt=[];for(_t=0;_t<Be;++_t){for(ft=0,At=0;ft<Ae;ft++)At+=ue[ft][_t][1];At>nt&&(nt=At),qe.push(At)}for(_t=0;_t<Be;++_t)Gt[_t]=(nt-qe[_t])/2;return Gt},wiggle:function(ue){var Ae=ue.length,Be=ue[0],qe=Be.length,nt,ft,_t,At,Gt,Yt,tr,Cr,Lr,$r=[];for($r[0]=Cr=Lr=0,ft=1;ft<qe;++ft){for(nt=0,At=0;nt<Ae;++nt)At+=ue[nt][ft][1];for(nt=0,Gt=0,tr=Be[ft][0]-Be[ft-1][0];nt<Ae;++nt){for(_t=0,Yt=(ue[nt][ft][1]-ue[nt][ft-1][1])/(2*tr);_t<nt;++_t)Yt+=(ue[_t][ft][1]-ue[_t][ft-1][1])/tr;Gt+=Yt*ue[nt][ft][1]}$r[ft]=Cr-=At?Gt/At*tr:0,Cr<Lr&&(Lr=Cr)}for(ft=0;ft<qe;++ft)$r[ft]-=Lr;return $r},expand:function(ue){var Ae=ue.length,Be=ue[0].length,qe=1/Ae,nt,ft,_t,At=[];for(ft=0;ft<Be;++ft){for(nt=0,_t=0;nt<Ae;nt++)_t+=ue[nt][ft][1];if(_t)for(nt=0;nt<Ae;nt++)ue[nt][ft][1]/=_t;else for(nt=0;nt<Ae;nt++)ue[nt][ft][1]=qe}for(ft=0;ft<Be;++ft)At[ft]=0;return At},zero:Vu});function au(ue){return s.range(ue.length)}function Vu(ue){for(var Ae=-1,Be=ue[0].length,qe=[];++Ae<Be;)qe[Ae]=0;return qe}function yi(ue){for(var Ae=1,Be=0,qe=ue[0][1],nt,ft=ue.length;Ae<ft;++Ae)(nt=ue[Ae][1])>qe&&(Be=Ae,qe=nt);return Be}function Jf(ue){return ue.reduce(Jo,0)}function Jo(ue,Ae){return ue+Ae[1]}s.layout.histogram=function(){var ue=!0,Ae=Number,Be=ol,qe=Qf;function nt(ft,Lr){for(var At=[],Gt=ft.map(Ae,this),Yt=Be.call(this,Gt,Lr),tr=qe.call(this,Yt,Gt,Lr),Cr,Lr=-1,$r=Gt.length,sn=tr.length-1,_r=ue?1:1/$r,Vr;++Lr<sn;)Cr=At[Lr]=[],Cr.dx=tr[Lr+1]-(Cr.x=tr[Lr]),Cr.y=0;if(sn>0)for(Lr=-1;++Lr<$r;)Vr=Gt[Lr],Vr>=Yt[0]&&Vr<=Yt[1]&&(Cr=At[s.bisect(tr,Vr,1,sn)-1],Cr.y+=_r,Cr.push(ft[Lr]));return At}return nt.value=function(ft){return arguments.length?(Ae=ft,nt):Ae},nt.range=function(ft){return arguments.length?(Be=tn(ft),nt):Be},nt.bins=function(ft){return arguments.length?(qe=typeof ft=="number"?function(_t){return pf(_t,ft)}:tn(ft),nt):qe},nt.frequency=function(ft){return arguments.length?(ue=!!ft,nt):ue},nt};function Qf(ue,Ae){return pf(ue,Math.ceil(Math.log(Ae.length)/Math.LN2+1))}function pf(ue,Ae){for(var Be=-1,qe=+ue[0],nt=(ue[1]-qe)/Ae,ft=[];++Be<=Ae;)ft[Be]=nt*Be+qe;return ft}function ol(ue){return[s.min(ue),s.max(ue)]}s.layout.pack=function(){var ue=s.layout.hierarchy().sort(Vs),Ae=0,Be=[1,1],qe;function nt(ft,_t){var At=ue.call(this,ft,_t),Gt=At[0],Yt=Be[0],tr=Be[1],Cr=qe==null?Math.sqrt:typeof qe=="function"?qe:function(){return qe};if(Gt.x=Gt.y=0,Po(Gt,function($r){$r.r=+Cr($r.value)}),Po(Gt,Qo),Ae){var Lr=Ae*(qe?1:Math.max(2*Gt.r/Yt,2*Gt.r/tr))/2;Po(Gt,function($r){$r.r+=Lr}),Po(Gt,Qo),Po(Gt,function($r){$r.r-=Lr})}return Hs(Gt,Yt/2,tr/2,qe?1:1/Math.max(2*Gt.r/Yt,2*Gt.r/tr)),At}return nt.size=function(ft){return arguments.length?(Be=ft,nt):Be},nt.radius=function(ft){return arguments.length?(qe=ft==null||typeof ft=="function"?ft:+ft,nt):qe},nt.padding=function(ft){return arguments.length?(Ae=+ft,nt):Ae},Rl(nt,ue)};function Vs(ue,Ae){return ue.value-Ae.value}function Hu(ue,Ae){var Be=ue._pack_next;ue._pack_next=Ae,Ae._pack_prev=ue,Ae._pack_next=Be,Be._pack_prev=Ae}function ki(ue,Ae){ue._pack_next=Ae,Ae._pack_prev=ue}function iu(ue,Ae){var Be=Ae.x-ue.x,qe=Ae.y-ue.y,nt=ue.r+Ae.r;return .999*nt*nt>Be*Be+qe*qe}function Qo(ue){if(!(Ae=ue.children)||!(Lr=Ae.length))return;var Ae,Be=1/0,qe=-1/0,nt=1/0,ft=-1/0,_t,At,Gt,Yt,tr,Cr,Lr;function $r(rn){Be=Math.min(rn.x-rn.r,Be),qe=Math.max(rn.x+rn.r,qe),nt=Math.min(rn.y-rn.r,nt),ft=Math.max(rn.y+rn.r,ft)}if(Ae.forEach(Es),_t=Ae[0],_t.x=-_t.r,_t.y=0,$r(_t),Lr>1&&(At=Ae[1],At.x=At.r,At.y=0,$r(At),Lr>2))for(Gt=Ae[2],$o(_t,At,Gt),$r(Gt),Hu(_t,Gt),_t._pack_prev=Gt,Hu(Gt,At),At=_t._pack_next,Yt=3;Yt<Lr;Yt++){$o(_t,At,Gt=Ae[Yt]);var sn=0,_r=1,Vr=1;for(tr=At._pack_next;tr!==At;tr=tr._pack_next,_r++)if(iu(tr,Gt)){sn=1;break}if(sn==1)for(Cr=_t._pack_prev;Cr!==tr._pack_prev&&!iu(Cr,Gt);Cr=Cr._pack_prev,Vr++);sn?(_r<Vr||_r==Vr&&At.r<_t.r?ki(_t,At=tr):ki(_t=Cr,At),Yt--):(Hu(_t,Gt),At=Gt,$r(Gt))}var Kr=(Be+qe)/2,hn=(nt+ft)/2,pn=0;for(Yt=0;Yt<Lr;Yt++)Gt=Ae[Yt],Gt.x-=Kr,Gt.y-=hn,pn=Math.max(pn,Gt.r+Math.sqrt(Gt.x*Gt.x+Gt.y*Gt.y));ue.r=pn,Ae.forEach(sl)}function Es(ue){ue._pack_next=ue._pack_prev=ue}function sl(ue){delete ue._pack_next,delete ue._pack_prev}function Hs(ue,Ae,Be,qe){var nt=ue.children;if(ue.x=Ae+=qe*ue.x,ue.y=Be+=qe*ue.y,ue.r*=qe,nt)for(var ft=-1,_t=nt.length;++ft<_t;)Hs(nt[ft],Ae,Be,qe)}function $o(ue,Ae,Be){var qe=ue.r+Be.r,nt=Ae.x-ue.x,ft=Ae.y-ue.y;if(qe&&(nt||ft)){var _t=Ae.r+Be.r,At=nt*nt+ft*ft;_t*=_t,qe*=qe;var Gt=.5+(qe-_t)/(2*At),Yt=Math.sqrt(Math.max(0,2*_t*(qe+At)-(qe-=At)*qe-_t*_t))/(2*At);Be.x=ue.x+Gt*nt+Yt*ft,Be.y=ue.y+Gt*ft-Yt*nt}else Be.x=ue.x+qe,Be.y=ue.y}s.layout.tree=function(){var ue=s.layout.hierarchy().sort(null).value(null),Ae=Cs,Be=[1,1],qe=null;function nt(tr,Cr){var Lr=ue.call(this,tr,Cr),$r=Lr[0],sn=ft($r);if(Po(sn,_t),sn.parent.m=-sn.z,Dl(sn,At),qe)Dl($r,Yt);else{var _r=$r,Vr=$r,Kr=$r;Dl($r,function(Hn){Hn.x<_r.x&&(_r=Hn),Hn.x>Vr.x&&(Vr=Hn),Hn.depth>Kr.depth&&(Kr=Hn)});var hn=Ae(_r,Vr)/2-_r.x,pn=Be[0]/(Vr.x+Ae(Vr,_r)/2+hn),rn=Be[1]/(Kr.depth||1);Dl($r,function(Hn){Hn.x=(Hn.x+hn)*pn,Hn.y=Hn.depth*rn})}return Lr}function ft(tr){for(var Cr={A:null,children:[tr]},Lr=[Cr],$r;($r=Lr.pop())!=null;)for(var sn=$r.children,_r,Vr=0,Kr=sn.length;Vr<Kr;++Vr)Lr.push((sn[Vr]=_r={_:sn[Vr],parent:$r,children:(_r=sn[Vr].children)&&_r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Vr}).a=_r);return Cr.children[0]}function _t(tr){var Cr=tr.children,Lr=tr.parent.children,$r=tr.i?Lr[tr.i-1]:null;if(Cr.length){rh(tr);var sn=(Cr[0].z+Cr[Cr.length-1].z)/2;$r?(tr.z=$r.z+Ae(tr._,$r._),tr.m=tr.z-sn):tr.z=sn}else $r&&(tr.z=$r.z+Ae(tr._,$r._));tr.parent.A=Gt(tr,$r,tr.parent.A||Lr[0])}function At(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function Gt(tr,Cr,Lr){if(Cr){for(var $r=tr,sn=tr,_r=Cr,Vr=$r.parent.children[0],Kr=$r.m,hn=sn.m,pn=_r.m,rn=Vr.m,Hn;_r=Vo(_r),$r=qo($r),_r&&$r;)Vr=qo(Vr),sn=Vo(sn),sn.a=tr,Hn=_r.z+pn-$r.z-Kr+Ae(_r._,$r._),Hn>0&&(ou(nh(_r,tr,Lr),tr,Hn),Kr+=Hn,hn+=Hn),pn+=_r.m,Kr+=$r.m,rn+=Vr.m,hn+=sn.m;_r&&!Vo(sn)&&(sn.t=_r,sn.m+=pn-hn),$r&&!qo(Vr)&&(Vr.t=$r,Vr.m+=Kr-rn,Lr=tr)}return Lr}function Yt(tr){tr.x*=Be[0],tr.y=tr.depth*Be[1]}return nt.separation=function(tr){return arguments.length?(Ae=tr,nt):Ae},nt.size=function(tr){return arguments.length?(qe=(Be=tr)==null?Yt:null,nt):qe?null:Be},nt.nodeSize=function(tr){return arguments.length?(qe=(Be=tr)==null?null:Yt,nt):qe?Be:null},Rl(nt,ue)};function Cs(ue,Ae){return ue.parent==Ae.parent?1:2}function qo(ue){var Ae=ue.children;return Ae.length?Ae[0]:ue.t}function Vo(ue){var Ae=ue.children,Be;return(Be=Ae.length)?Ae[Be-1]:ue.t}function ou(ue,Ae,Be){var qe=Be/(Ae.i-ue.i);Ae.c-=qe,Ae.s+=Be,ue.c+=qe,Ae.z+=Be,Ae.m+=Be}function rh(ue){for(var Ae=0,Be=0,qe=ue.children,nt=qe.length,ft;--nt>=0;)ft=qe[nt],ft.z+=Ae,ft.m+=Ae,Ae+=ft.s+(Be+=ft.c)}function nh(ue,Ae,Be){return ue.a.parent===Ae.parent?ue.a:Be}s.layout.cluster=function(){var ue=s.layout.hierarchy().sort(null).value(null),Ae=Cs,Be=[1,1],qe=!1;function nt(ft,_t){var At=ue.call(this,ft,_t),Gt=At[0],Yt,tr=0;Po(Gt,function(_r){var Vr=_r.children;Vr&&Vr.length?(_r.x=ih(Vr),_r.y=ah(Vr)):(_r.x=Yt?tr+=Ae(_r,Yt):0,_r.y=0,Yt=_r)});var Cr=gf(Gt),Lr=$f(Gt),$r=Cr.x-Ae(Cr,Lr)/2,sn=Lr.x+Ae(Lr,Cr)/2;return Po(Gt,qe?function(_r){_r.x=(_r.x-Gt.x)*Be[0],_r.y=(Gt.y-_r.y)*Be[1]}:function(_r){_r.x=(_r.x-$r)/(sn-$r)*Be[0],_r.y=(1-(Gt.y?_r.y/Gt.y:1))*Be[1]}),At}return nt.separation=function(ft){return arguments.length?(Ae=ft,nt):Ae},nt.size=function(ft){return arguments.length?(qe=(Be=ft)==null,nt):qe?null:Be},nt.nodeSize=function(ft){return arguments.length?(qe=(Be=ft)!=null,nt):qe?Be:null},Rl(nt,ue)};function ah(ue){return 1+s.max(ue,function(Ae){return Ae.y})}function ih(ue){return ue.reduce(function(Ae,Be){return Ae+Be.x},0)/ue.length}function gf(ue){var Ae=ue.children;return Ae&&Ae.length?gf(Ae[0]):ue}function $f(ue){var Ae=ue.children,Be;return Ae&&(Be=Ae.length)?$f(Ae[Be-1]):ue}s.layout.treemap=function(){var ue=s.layout.hierarchy(),Ae=Math.round,Be=[1,1],qe=null,nt=zl,ft=!1,_t,At="squarify",Gt=.5*(1+Math.sqrt(5));function Yt(_r,Vr){for(var Kr=-1,hn=_r.length,pn,rn;++Kr<hn;)rn=(pn=_r[Kr]).value*(Vr<0?0:Vr),pn.area=isNaN(rn)||rn<=0?0:rn}function tr(_r){var Vr=_r.children;if(Vr&&Vr.length){var Kr=nt(_r),hn=[],pn=Vr.slice(),rn,Hn=1/0,ra,fa=At==="slice"?Kr.dx:At==="dice"?Kr.dy:At==="slice-dice"?_r.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),ea;for(Yt(pn,Kr.dx*Kr.dy/_r.value),hn.area=0;(ea=pn.length)>0;)hn.push(rn=pn[ea-1]),hn.area+=rn.area,At!=="squarify"||(ra=Lr(hn,fa))<=Hn?(pn.pop(),Hn=ra):(hn.area-=hn.pop().area,$r(hn,fa,Kr,!1),fa=Math.min(Kr.dx,Kr.dy),hn.length=hn.area=0,Hn=1/0);hn.length&&($r(hn,fa,Kr,!0),hn.length=hn.area=0),Vr.forEach(tr)}}function Cr(_r){var Vr=_r.children;if(Vr&&Vr.length){var Kr=nt(_r),hn=Vr.slice(),pn,rn=[];for(Yt(hn,Kr.dx*Kr.dy/_r.value),rn.area=0;pn=hn.pop();)rn.push(pn),rn.area+=pn.area,pn.z!=null&&($r(rn,pn.z?Kr.dx:Kr.dy,Kr,!hn.length),rn.length=rn.area=0);Vr.forEach(Cr)}}function Lr(_r,Vr){for(var Kr=_r.area,hn,pn=0,rn=1/0,Hn=-1,ra=_r.length;++Hn<ra;)(hn=_r[Hn].area)&&(hn<rn&&(rn=hn),hn>pn&&(pn=hn));return Kr*=Kr,Vr*=Vr,Kr?Math.max(Vr*pn*Gt/Kr,Kr/(Vr*rn*Gt)):1/0}function $r(_r,Vr,Kr,hn){var pn=-1,rn=_r.length,Hn=Kr.x,ra=Kr.y,fa=Vr?Ae(_r.area/Vr):0,ea;if(Vr==Kr.dx){for((hn||fa>Kr.dy)&&(fa=Kr.dy);++pn<rn;)ea=_r[pn],ea.x=Hn,ea.y=ra,ea.dy=fa,Hn+=ea.dx=Math.min(Kr.x+Kr.dx-Hn,fa?Ae(ea.area/fa):0);ea.z=!0,ea.dx+=Kr.x+Kr.dx-Hn,Kr.y+=fa,Kr.dy-=fa}else{for((hn||fa>Kr.dx)&&(fa=Kr.dx);++pn<rn;)ea=_r[pn],ea.x=Hn,ea.y=ra,ea.dx=fa,ra+=ea.dy=Math.min(Kr.y+Kr.dy-ra,fa?Ae(ea.area/fa):0);ea.z=!1,ea.dy+=Kr.y+Kr.dy-ra,Kr.x+=fa,Kr.dx-=fa}}function sn(_r){var Vr=_t||ue(_r),Kr=Vr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Be[0],Kr.dy=Be[1]):Kr.dx=Kr.dy=0,_t&&ue.revalue(Kr),Yt([Kr],Kr.dx*Kr.dy/Kr.value),(_t?Cr:tr)(Kr),ft&&(_t=Vr),Vr}return sn.size=function(_r){return arguments.length?(Be=_r,sn):Be},sn.padding=function(_r){if(!arguments.length)return qe;function Vr(pn){var rn=_r.call(sn,pn,pn.depth);return rn==null?zl(pn):Qi(pn,typeof rn=="number"?[rn,rn,rn,rn]:rn)}function Kr(pn){return Qi(pn,_r)}var hn;return nt=(qe=_r)==null?zl:(hn=typeof _r)=="function"?Vr:(hn==="number"&&(_r=[_r,_r,_r,_r]),Kr),sn},sn.round=function(_r){return arguments.length?(Ae=_r?Math.round:Number,sn):Ae!=Number},sn.sticky=function(_r){return arguments.length?(ft=_r,_t=null,sn):ft},sn.ratio=function(_r){return arguments.length?(Gt=_r,sn):Gt},sn.mode=function(_r){return arguments.length?(At=_r+"",sn):At},Rl(sn,ue)};function zl(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function Qi(ue,Ae){var Be=ue.x+Ae[3],qe=ue.y+Ae[0],nt=ue.dx-Ae[1]-Ae[3],ft=ue.dy-Ae[0]-Ae[2];return nt<0&&(Be+=nt/2,nt=0),ft<0&&(qe+=ft/2,ft=0),{x:Be,y:qe,dx:nt,dy:ft}}s.random={normal:function(ue,Ae){var Be=arguments.length;return Be<2&&(Ae=1),Be<1&&(ue=0),function(){var qe,nt,ft;do qe=Math.random()*2-1,nt=Math.random()*2-1,ft=qe*qe+nt*nt;while(!ft||ft>1);return ue+Ae*qe*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var ue=s.random.normal.apply(s,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Ae=s.random.irwinHall(ue);return function(){return Ae()/ue}},irwinHall:function(ue){return function(){for(var Ae=0,Be=0;Be<ue;Be++)Ae+=Math.random();return Ae}}},s.scale={};function Oo(ue){var Ae=ue[0],Be=ue[ue.length-1];return Ae<Be?[Ae,Be]:[Be,Ae]}function Ol(ue){return ue.rangeExtent?ue.rangeExtent():Oo(ue.range())}function qf(ue,Ae,Be,qe){var nt=Be(ue[0],ue[1]),ft=qe(Ae[0],Ae[1]);return function(_t){return ft(nt(_t))}}function su(ue,Ae){var Be=0,qe=ue.length-1,nt=ue[Be],ft=ue[qe],_t;return ft<nt&&(_t=Be,Be=qe,qe=_t,_t=nt,nt=ft,ft=_t),ue[Be]=Ae.floor(nt),ue[qe]=Ae.ceil(ft),ue}function Ls(ue){return ue?{floor:function(Ae){return Math.floor(Ae/ue)*ue},ceil:function(Ae){return Math.ceil(Ae/ue)*ue}}:oh}var oh={floor:O,ceil:O};function ec(ue,Ae,Be,qe){var nt=[],ft=[],_t=0,At=Math.min(ue.length,Ae.length)-1;for(ue[At]<ue[0]&&(ue=ue.slice().reverse(),Ae=Ae.slice().reverse());++_t<=At;)nt.push(Be(ue[_t-1],ue[_t])),ft.push(qe(Ae[_t-1],Ae[_t]));return function(Gt){var Yt=s.bisect(ue,Gt,1,At)-1;return ft[Yt](nt[Yt](Gt))}}s.scale.linear=function(){return tc([0,1],[0,1],no,!1)};function tc(ue,Ae,Be,qe){var nt,ft;function _t(){var Gt=Math.min(ue.length,Ae.length)>2?ec:qf,Yt=qe?Pl:Zo;return nt=Gt(ue,Ae,Yt,Be),ft=Gt(Ae,ue,Yt,no),At}function At(Gt){return nt(Gt)}return At.invert=function(Gt){return ft(Gt)},At.domain=function(Gt){return arguments.length?(ue=Gt.map(Number),_t()):ue},At.range=function(Gt){return arguments.length?(Ae=Gt,_t()):Ae},At.rangeRound=function(Gt){return At.range(Gt).interpolate(Yf)},At.clamp=function(Gt){return arguments.length?(qe=Gt,_t()):qe},At.interpolate=function(Gt){return arguments.length?(Be=Gt,_t()):Be},At.ticks=function(Gt){return es(ue,Gt)},At.tickFormat=function(Gt,Yt){return d3_scale_linearTickFormat(ue,Gt,Yt)},At.nice=function(Gt){return rc(ue,Gt),_t()},At.copy=function(){return tc(ue,Ae,Be,qe)},_t()}function yf(ue,Ae){return s.rebind(ue,Ae,"range","rangeRound","interpolate","clamp")}function rc(ue,Ae){return su(ue,Ls(wo(ue,Ae)[2])),su(ue,Ls(wo(ue,Ae)[2])),ue}function wo(ue,Ae){Ae==null&&(Ae=10);var Be=Oo(ue),qe=Be[1]-Be[0],nt=Math.pow(10,Math.floor(Math.log(qe/Ae)/Math.LN10)),ft=Ae/qe*nt;return ft<=.15?nt*=10:ft<=.35?nt*=5:ft<=.75&&(nt*=2),Be[0]=Math.ceil(Be[0]/nt)*nt,Be[1]=Math.floor(Be[1]/nt)*nt+nt*.5,Be[2]=nt,Be}function es(ue,Ae){return s.range.apply(s,wo(ue,Ae))}s.scale.log=function(){return Gs(s.scale.linear().domain([0,1]),10,!0,[1,10])};function Gs(ue,Ae,Be,qe){function nt(At){return(Be?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Ae)}function ft(At){return Be?Math.pow(Ae,At):-Math.pow(Ae,-At)}function _t(At){return ue(nt(At))}return _t.invert=function(At){return ft(ue.invert(At))},_t.domain=function(At){return arguments.length?(Be=At[0]>=0,ue.domain((qe=At.map(Number)).map(nt)),_t):qe},_t.base=function(At){return arguments.length?(Ae=+At,ue.domain(qe.map(nt)),_t):Ae},_t.nice=function(){var At=su(qe.map(nt),Be?Math:Fl);return ue.domain(At),qe=At.map(ft),_t},_t.ticks=function(){var At=Oo(qe),Gt=[],Yt=At[0],tr=At[1],Cr=Math.floor(nt(Yt)),Lr=Math.ceil(nt(tr)),$r=Ae%1?2:Ae;if(isFinite(Lr-Cr)){if(Be){for(;Cr<Lr;Cr++)for(var sn=1;sn<$r;sn++)Gt.push(ft(Cr)*sn);Gt.push(ft(Cr))}else for(Gt.push(ft(Cr));Cr++<Lr;)for(var sn=$r-1;sn>0;sn--)Gt.push(ft(Cr)*sn);for(Cr=0;Gt[Cr]<Yt;Cr++);for(Lr=Gt.length;Gt[Lr-1]>tr;Lr--);Gt=Gt.slice(Cr,Lr)}return Gt},_t.copy=function(){return Gs(ue.copy(),Ae,Be,qe)},yf(_t,ue)}var Fl={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};s.scale.pow=function(){return Gu(s.scale.linear(),1,[0,1])};function Gu(ue,Ae,Be){var qe=ll(Ae),nt=ll(1/Ae);function ft(_t){return ue(qe(_t))}return ft.invert=function(_t){return nt(ue.invert(_t))},ft.domain=function(_t){return arguments.length?(ue.domain((Be=_t.map(Number)).map(qe)),ft):Be},ft.ticks=function(_t){return es(Be,_t)},ft.tickFormat=function(_t,At){return d3_scale_linearTickFormat(Be,_t,At)},ft.nice=function(_t){return ft.domain(rc(Be,_t))},ft.exponent=function(_t){return arguments.length?(qe=ll(Ae=_t),nt=ll(1/Ae),ue.domain(Be.map(qe)),ft):Ae},ft.copy=function(){return Gu(ue.copy(),Ae,Be)},yf(ft,ue)}function ll(ue){return function(Ae){return Ae<0?-Math.pow(-Ae,ue):Math.pow(Ae,ue)}}s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return ul([],{t:"range",a:[[]]})};function ul(ue,Ae){var Be,qe,nt;function ft(At){return qe[((Be.get(At)||(Ae.t==="range"?Be.set(At,ue.push(At)):NaN))-1)%qe.length]}function _t(At,Gt){return s.range(ue.length).map(function(Yt){return At+Gt*Yt})}return ft.domain=function(At){if(!arguments.length)return ue;ue=[],Be=new C;for(var Gt=-1,Yt=At.length,tr;++Gt<Yt;)Be.has(tr=At[Gt])||Be.set(tr,ue.push(tr));return ft[Ae.t].apply(ft,Ae.a)},ft.range=function(At){return arguments.length?(qe=At,nt=0,Ae={t:"range",a:arguments},ft):qe},ft.rangePoints=function(At,Gt){arguments.length<2&&(Gt=0);var Yt=At[0],tr=At[1],Cr=ue.length<2?(Yt=(Yt+tr)/2,0):(tr-Yt)/(ue.length-1+Gt);return qe=_t(Yt+Cr*Gt/2,Cr),nt=0,Ae={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(At,Gt){arguments.length<2&&(Gt=0);var Yt=At[0],tr=At[1],Cr=ue.length<2?(Yt=tr=Math.round((Yt+tr)/2),0):(tr-Yt)/(ue.length-1+Gt)|0;return qe=_t(Yt+Math.round(Cr*Gt/2+(tr-Yt-(ue.length-1+Gt)*Cr)/2),Cr),nt=0,Ae={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(At,Gt,Yt){arguments.length<2&&(Gt=0),arguments.length<3&&(Yt=Gt);var tr=At[1]<At[0],Cr=At[tr-0],Lr=At[1-tr],$r=(Lr-Cr)/(ue.length-Gt+2*Yt);return qe=_t(Cr+$r*Yt,$r),tr&&qe.reverse(),nt=$r*(1-Gt),Ae={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(At,Gt,Yt){arguments.length<2&&(Gt=0),arguments.length<3&&(Yt=Gt);var tr=At[1]<At[0],Cr=At[tr-0],Lr=At[1-tr],$r=Math.floor((Lr-Cr)/(ue.length-Gt+2*Yt));return qe=_t(Cr+Math.round((Lr-Cr-(ue.length-Gt)*$r)/2),$r),tr&&qe.reverse(),nt=Math.round($r*(1-Gt)),Ae={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return nt},ft.rangeExtent=function(){return Oo(Ae.a[0])},ft.copy=function(){return ul(ue,Ae)},ft.domain(ue)}s.scale.category10=function(){return s.scale.ordinal().range(nc)},s.scale.category20=function(){return s.scale.ordinal().range(Ps)},s.scale.category20b=function(){return s.scale.ordinal().range(Nl)},s.scale.category20c=function(){return s.scale.ordinal().range(Ws)};var nc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),Ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),Nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),Ws=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);s.scale.quantile=function(){return _s([],[])};function _s(ue,Ae){var Be;function qe(){var ft=0,_t=Ae.length;for(Be=[];++ft<_t;)Be[ft-1]=s.quantile(ue,ft/_t);return nt}function nt(ft){if(!isNaN(ft=+ft))return Ae[s.bisect(Be,ft)]}return nt.domain=function(ft){return arguments.length?(ue=ft.map(g).filter(h).sort(l),qe()):ue},nt.range=function(ft){return arguments.length?(Ae=ft,qe()):Ae},nt.quantiles=function(){return Be},nt.invertExtent=function(ft){return ft=Ae.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?Be[ft-1]:ue[0],ft<Be.length?Be[ft]:ue[ue.length-1]]},nt.copy=function(){return _s(ue,Ae)},qe()}s.scale.quantize=function(){return lu(0,1,[0,1])};function lu(ue,Ae,Be){var qe,nt;function ft(At){return Be[Math.max(0,Math.min(nt,Math.floor(qe*(At-ue))))]}function _t(){return qe=Be.length/(Ae-ue),nt=Be.length-1,ft}return ft.domain=function(At){return arguments.length?(ue=+At[0],Ae=+At[At.length-1],_t()):[ue,Ae]},ft.range=function(At){return arguments.length?(Be=At,_t()):Be},ft.invertExtent=function(At){return At=Be.indexOf(At),At=At<0?NaN:At/qe+ue,[At,At+1/qe]},ft.copy=function(){return lu(ue,Ae,Be)},_t()}s.scale.threshold=function(){return Bl([.5],[0,1])};function Bl(ue,Ae){function Be(qe){if(qe<=qe)return Ae[s.bisect(ue,qe)]}return Be.domain=function(qe){return arguments.length?(ue=qe,Be):ue},Be.range=function(qe){return arguments.length?(Ae=qe,Be):Ae},Be.invertExtent=function(qe){return qe=Ae.indexOf(qe),[ue[qe-1],ue[qe]]},Be.copy=function(){return Bl(ue,Ae)},Be}s.scale.identity=function(){return vi([0,1])};function vi(ue){function Ae(Be){return+Be}return Ae.invert=Ae,Ae.domain=Ae.range=function(Be){return arguments.length?(ue=Be.map(Ae),Ae):ue},Ae.ticks=function(Be){return es(ue,Be)},Ae.tickFormat=function(Be,qe){return d3_scale_linearTickFormat(ue,Be,qe)},Ae.copy=function(){return vi(ue)},Ae}s.svg={};function Ul(){return 0}s.svg.arc=function(){var ue=ac,Ae=Vl,Be=Ul,qe=Wu,nt=uu,ft=Yu,_t=mf;function At(){var Yt=Math.max(0,+ue.apply(this,arguments)),tr=Math.max(0,+Ae.apply(this,arguments)),Cr=nt.apply(this,arguments)-$e,Lr=ft.apply(this,arguments)-$e,$r=Math.abs(Lr-Cr),sn=Cr>Lr?0:1;if(tr<Yt&&(_r=tr,tr=Yt,Yt=_r),$r>=Ne)return Gt(tr,sn)+(Yt?Gt(Yt,1-sn):"")+"Z";var _r,Vr,Kr,hn,pn=0,rn=0,Hn,ra,fa,ea,oa,ca,Ua,Ea,Oa=[];if((hn=(+_t.apply(this,arguments)||0)/2)&&(Kr=qe===Wu?Math.sqrt(Yt*Yt+tr*tr):+qe.apply(this,arguments),sn||(rn*=-1),tr&&(rn=Pt(Kr/tr*Math.sin(hn))),Yt&&(pn=Pt(Kr/Yt*Math.sin(hn)))),tr){Hn=tr*Math.cos(Cr+rn),ra=tr*Math.sin(Cr+rn),fa=tr*Math.cos(Lr-rn),ea=tr*Math.sin(Lr-rn);var ii=Math.abs(Lr-Cr-2*rn)<=he?0:1;if(rn&&fu(Hn,ra,fa,ea)===sn^ii){var Fi=(Cr+Lr)/2;Hn=tr*Math.cos(Fi),ra=tr*Math.sin(Fi),fa=ea=null}}else Hn=ra=0;if(Yt){oa=Yt*Math.cos(Lr-pn),ca=Yt*Math.sin(Lr-pn),Ua=Yt*Math.cos(Cr+pn),Ea=Yt*Math.sin(Cr+pn);var ci=Math.abs(Cr-Lr+2*pn)<=he?0:1;if(pn&&fu(oa,ca,Ua,Ea)===1-sn^ci){var qn=(Cr+Lr)/2;oa=Yt*Math.cos(qn),ca=Yt*Math.sin(qn),Ua=Ea=null}}else oa=ca=0;if($r>je&&(_r=Math.min(Math.abs(tr-Yt)/2,+Be.apply(this,arguments)))>.001){Vr=Yt<tr^sn?0:1;var Ha=_r,Sa=_r;if($r<he){var Ja=Ua==null?[oa,ca]:fa==null?[Hn,ra]:vn([Hn,ra],[Ua,Ea],[fa,ea],[oa,ca]),wi=Hn-Ja[0],oi=ra-Ja[1],$i=fa-Ja[0],qi=ea-Ja[1],ao=1/Math.sin(Math.acos((wi*$i+oi*qi)/(Math.sqrt(wi*wi+oi*oi)*Math.sqrt($i*$i+qi*qi)))/2),Ti=Math.sqrt(Ja[0]*Ja[0]+Ja[1]*Ja[1]);Sa=Math.min(_r,(Yt-Ti)/(ao-1)),Ha=Math.min(_r,(tr-Ti)/(ao+1))}if(fa!=null){var go=cu(Ua==null?[oa,ca]:[Ua,Ea],[Hn,ra],tr,Ha,sn),la=cu([fa,ea],[oa,ca],tr,Ha,sn);_r===Ha?Oa.push("M",go[0],"A",Ha,",",Ha," 0 0,",Vr," ",go[1],"A",tr,",",tr," 0 ",1-sn^fu(go[1][0],go[1][1],la[1][0],la[1][1]),",",sn," ",la[1],"A",Ha,",",Ha," 0 0,",Vr," ",la[0]):Oa.push("M",go[0],"A",Ha,",",Ha," 0 1,",Vr," ",la[0])}else Oa.push("M",Hn,",",ra);if(Ua!=null){var La=cu([Hn,ra],[Ua,Ea],Yt,-Sa,sn),Ro=cu([oa,ca],fa==null?[Hn,ra]:[fa,ea],Yt,-Sa,sn);_r===Sa?Oa.push("L",Ro[0],"A",Sa,",",Sa," 0 0,",Vr," ",Ro[1],"A",Yt,",",Yt," 0 ",sn^fu(Ro[1][0],Ro[1][1],La[1][0],La[1][1]),",",1-sn," ",La[1],"A",Sa,",",Sa," 0 0,",Vr," ",La[0]):Oa.push("L",Ro[0],"A",Sa,",",Sa," 0 0,",Vr," ",La[0])}else Oa.push("L",oa,",",ca)}else Oa.push("M",Hn,",",ra),fa!=null&&Oa.push("A",tr,",",tr," 0 ",ii,",",sn," ",fa,",",ea),Oa.push("L",oa,",",ca),Ua!=null&&Oa.push("A",Yt,",",Yt," 0 ",ci,",",1-sn," ",Ua,",",Ea);return Oa.push("Z"),Oa.join("")}function Gt(Yt,tr){return"M0,"+Yt+"A"+Yt+","+Yt+" 0 1,"+tr+" 0,"+-Yt+"A"+Yt+","+Yt+" 0 1,"+tr+" 0,"+Yt}return At.innerRadius=function(Yt){return arguments.length?(ue=tn(Yt),At):ue},At.outerRadius=function(Yt){return arguments.length?(Ae=tn(Yt),At):Ae},At.cornerRadius=function(Yt){return arguments.length?(Be=tn(Yt),At):Be},At.padRadius=function(Yt){return arguments.length?(qe=Yt==Wu?Wu:tn(Yt),At):qe},At.startAngle=function(Yt){return arguments.length?(nt=tn(Yt),At):nt},At.endAngle=function(Yt){return arguments.length?(ft=tn(Yt),At):ft},At.padAngle=function(Yt){return arguments.length?(_t=tn(Yt),At):_t},At.centroid=function(){var Yt=(+ue.apply(this,arguments)+ +Ae.apply(this,arguments))/2,tr=(+nt.apply(this,arguments)+ +ft.apply(this,arguments))/2-$e;return[Math.cos(tr)*Yt,Math.sin(tr)*Yt]},At};var Wu="auto";function ac(ue){return ue.innerRadius}function Vl(ue){return ue.outerRadius}function uu(ue){return ue.startAngle}function Yu(ue){return ue.endAngle}function mf(ue){return ue&&ue.padAngle}function fu(ue,Ae,Be,qe){return(ue-Be)*Ae-(Ae-qe)*ue>0?0:1}function cu(ue,Ae,Be,qe,nt){var ft=ue[0]-Ae[0],_t=ue[1]-Ae[1],At=(nt?qe:-qe)/Math.sqrt(ft*ft+_t*_t),Gt=At*_t,Yt=-At*ft,tr=ue[0]+Gt,Cr=ue[1]+Yt,Lr=Ae[0]+Gt,$r=Ae[1]+Yt,sn=(tr+Lr)/2,_r=(Cr+$r)/2,Vr=Lr-tr,Kr=$r-Cr,hn=Vr*Vr+Kr*Kr,pn=Be-qe,rn=tr*$r-Lr*Cr,Hn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,pn*pn*hn-rn*rn)),ra=(rn*Kr-Vr*Hn)/hn,fa=(-rn*Vr-Kr*Hn)/hn,ea=(rn*Kr+Vr*Hn)/hn,oa=(-rn*Vr+Kr*Hn)/hn,ca=ra-sn,Ua=fa-_r,Ea=ea-sn,Oa=oa-_r;return ca*ca+Ua*Ua>Ea*Ea+Oa*Oa&&(ra=ea,fa=oa),[[ra-Gt,fa-Yt],[ra*Be/pn,fa*Be/pn]]}function Ys(){return!0}function hu(ue){var Ae=wa,Be=Gn,qe=Ys,nt=Gi,ft=nt.key,_t=.7;function At(Gt){var Yt=[],tr=[],Cr=-1,Lr=Gt.length,$r,sn=tn(Ae),_r=tn(Be);function Vr(){Yt.push("M",nt(ue(tr),_t))}for(;++Cr<Lr;)qe.call(this,$r=Gt[Cr],Cr)?tr.push([+sn.call(this,$r,Cr),+_r.call(this,$r,Cr)]):tr.length&&(Vr(),tr=[]);return tr.length&&Vr(),Yt.length?Yt.join(""):null}return At.x=function(Gt){return arguments.length?(Ae=Gt,At):Ae},At.y=function(Gt){return arguments.length?(Be=Gt,At):Be},At.defined=function(Gt){return arguments.length?(qe=Gt,At):qe},At.interpolate=function(Gt){return arguments.length?(typeof Gt=="function"?ft=nt=Gt:ft=(nt=js.get(Gt)||Gi).key,At):ft},At.tension=function(Gt){return arguments.length?(_t=Gt,At):_t},At}s.svg.line=function(){return hu(O)};var js=s.map({linear:Gi,"linear-closed":ds,step:xf,"step-before":fl,"step-after":ju,basis:Hl,"basis-open":oc,"basis-closed":Xs,bundle:lh,cardinal:ic,"cardinal-open":vu,"cardinal-closed":sh,monotone:Zu});js.forEach(function(ue,Ae){Ae.key=ue,Ae.closed=/-closed$/.test(ue)});function Gi(ue){return ue.length>1?ue.join("L"):ue+"Z"}function ds(ue){return ue.join("L")+"Z"}function xf(ue){for(var Ae=0,Be=ue.length,qe=ue[0],nt=[qe[0],",",qe[1]];++Ae<Be;)nt.push("H",(qe[0]+(qe=ue[Ae])[0])/2,"V",qe[1]);return Be>1&&nt.push("H",qe[0]),nt.join("")}function fl(ue){for(var Ae=0,Be=ue.length,qe=ue[0],nt=[qe[0],",",qe[1]];++Ae<Be;)nt.push("V",(qe=ue[Ae])[1],"H",qe[0]);return nt.join("")}function ju(ue){for(var Ae=0,Be=ue.length,qe=ue[0],nt=[qe[0],",",qe[1]];++Ae<Be;)nt.push("H",(qe=ue[Ae])[0],"V",qe[1]);return nt.join("")}function vu(ue,Ae){return ue.length<4?Gi(ue):ue[1]+po(ue.slice(1,-1),du(ue,Ae))}function sh(ue,Ae){return ue.length<3?ds(ue):ue[0]+po((ue.push(ue[0]),ue),du([ue[ue.length-2]].concat(ue,[ue[1]]),Ae))}function ic(ue,Ae){return ue.length<3?Gi(ue):ue[0]+po(ue,du(ue,Ae))}function po(ue,Ae){if(Ae.length<1||ue.length!=Ae.length&&ue.length!=Ae.length+2)return Gi(ue);var Be=ue.length!=Ae.length,qe="",nt=ue[0],ft=ue[1],_t=Ae[0],At=_t,Gt=1;if(Be&&(qe+="Q"+(ft[0]-_t[0]*2/3)+","+(ft[1]-_t[1]*2/3)+","+ft[0]+","+ft[1],nt=ue[1],Gt=2),Ae.length>1){At=Ae[1],ft=ue[Gt],Gt++,qe+="C"+(nt[0]+_t[0])+","+(nt[1]+_t[1])+","+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1];for(var Yt=2;Yt<Ae.length;Yt++,Gt++)ft=ue[Gt],At=Ae[Yt],qe+="S"+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1]}if(Be){var tr=ue[Gt];qe+="Q"+(ft[0]+At[0]*2/3)+","+(ft[1]+At[1]*2/3)+","+tr[0]+","+tr[1]}return qe}function du(ue,Ae){for(var Be=[],qe=(1-Ae)/2,nt,ft=ue[0],_t=ue[1],At=1,Gt=ue.length;++At<Gt;)nt=ft,ft=_t,_t=ue[At],Be.push([qe*(_t[0]-nt[0]),qe*(_t[1]-nt[1])]);return Be}function Hl(ue){if(ue.length<3)return Gi(ue);var Ae=1,Be=ue.length,qe=ue[0],nt=qe[0],ft=qe[1],_t=[nt,nt,nt,(qe=ue[1])[0]],At=[ft,ft,ft,qe[1]],Gt=[nt,",",ft,"L",_o(Rs,_t),",",_o(Rs,At)];for(ue.push(ue[Be-1]);++Ae<=Be;)qe=ue[Ae],_t.shift(),_t.push(qe[0]),At.shift(),At.push(qe[1]),Zs(Gt,_t,At);return ue.pop(),Gt.push("L",qe),Gt.join("")}function oc(ue){if(ue.length<4)return Gi(ue);for(var Ae=[],Be=-1,qe=ue.length,nt,ft=[0],_t=[0];++Be<3;)nt=ue[Be],ft.push(nt[0]),_t.push(nt[1]);for(Ae.push(_o(Rs,ft)+","+_o(Rs,_t)),--Be;++Be<qe;)nt=ue[Be],ft.shift(),ft.push(nt[0]),_t.shift(),_t.push(nt[1]),Zs(Ae,ft,_t);return Ae.join("")}function Xs(ue){for(var Ae,Be=-1,qe=ue.length,nt=qe+4,ft,_t=[],At=[];++Be<4;)ft=ue[Be%qe],_t.push(ft[0]),At.push(ft[1]);for(Ae=[_o(Rs,_t),",",_o(Rs,At)],--Be;++Be<nt;)ft=ue[Be%qe],_t.shift(),_t.push(ft[0]),At.shift(),At.push(ft[1]),Zs(Ae,_t,At);return Ae.join("")}function lh(ue,Ae){var Be=ue.length-1;if(Be)for(var qe=ue[0][0],nt=ue[0][1],ft=ue[Be][0]-qe,_t=ue[Be][1]-nt,At=-1,Gt,Yt;++At<=Be;)Gt=ue[At],Yt=At/Be,Gt[0]=Ae*Gt[0]+(1-Ae)*(qe+Yt*ft),Gt[1]=Ae*Gt[1]+(1-Ae)*(nt+Yt*_t);return Hl(ue)}function _o(ue,Ae){return ue[0]*Ae[0]+ue[1]*Ae[1]+ue[2]*Ae[2]+ue[3]*Ae[3]}var pu=[0,2/3,1/3,0],Xu=[0,1/3,2/3,0],Rs=[0,1/6,2/3,1/6];function Zs(ue,Ae,Be){ue.push("C",_o(pu,Ae),",",_o(pu,Be),",",_o(Xu,Ae),",",_o(Xu,Be),",",_o(Rs,Ae),",",_o(Rs,Be))}function bf(ue,Ae){return(Ae[1]-ue[1])/(Ae[0]-ue[0])}function gu(ue){for(var Ae=0,Be=ue.length-1,qe=[],nt=ue[0],ft=ue[1],_t=qe[0]=bf(nt,ft);++Ae<Be;)qe[Ae]=(_t+(_t=bf(nt=ft,ft=ue[Ae+1])))/2;return qe[Ae]=_t,qe}function yu(ue){for(var Ae=[],Be,qe,nt,ft,_t=gu(ue),At=-1,Gt=ue.length-1;++At<Gt;)Be=bf(ue[At],ue[At+1]),d(Be)<je?_t[At]=_t[At+1]=0:(qe=_t[At]/Be,nt=_t[At+1]/Be,ft=qe*qe+nt*nt,ft>9&&(ft=Be*3/Math.sqrt(ft),_t[At]=ft*qe,_t[At+1]=ft*nt));for(At=-1;++At<=Gt;)ft=(ue[Math.min(Gt,At+1)][0]-ue[Math.max(0,At-1)][0])/(6*(1+_t[At]*_t[At])),Ae.push([ft||0,_t[At]*ft||0]);return Ae}function Zu(ue){return ue.length<3?Gi(ue):ue[0]+po(ue,yu(ue))}s.svg.line.radial=function(){var ue=hu(sc);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function sc(ue){for(var Ae,Be=-1,qe=ue.length,nt,ft;++Be<qe;)Ae=ue[Be],nt=Ae[0],ft=Ae[1]-$e,Ae[0]=nt*Math.cos(ft),Ae[1]=nt*Math.sin(ft);return ue}function mu(ue){var Ae=wa,Be=wa,qe=0,nt=Gn,ft=Ys,_t=Gi,At=_t.key,Gt=_t,Yt="L",tr=.7;function Cr(Lr){var $r=[],sn=[],_r=[],Vr=-1,Kr=Lr.length,hn,pn=tn(Ae),rn=tn(qe),Hn=Ae===Be?function(){return fa}:tn(Be),ra=qe===nt?function(){return ea}:tn(nt),fa,ea;function oa(){$r.push("M",_t(ue(_r),tr),Yt,Gt(ue(sn.reverse()),tr),"Z")}for(;++Vr<Kr;)ft.call(this,hn=Lr[Vr],Vr)?(sn.push([fa=+pn.call(this,hn,Vr),ea=+rn.call(this,hn,Vr)]),_r.push([+Hn.call(this,hn,Vr),+ra.call(this,hn,Vr)])):sn.length&&(oa(),sn=[],_r=[]);return sn.length&&oa(),$r.length?$r.join(""):null}return Cr.x=function(Lr){return arguments.length?(Ae=Be=Lr,Cr):Be},Cr.x0=function(Lr){return arguments.length?(Ae=Lr,Cr):Ae},Cr.x1=function(Lr){return arguments.length?(Be=Lr,Cr):Be},Cr.y=function(Lr){return arguments.length?(qe=nt=Lr,Cr):nt},Cr.y0=function(Lr){return arguments.length?(qe=Lr,Cr):qe},Cr.y1=function(Lr){return arguments.length?(nt=Lr,Cr):nt},Cr.defined=function(Lr){return arguments.length?(ft=Lr,Cr):ft},Cr.interpolate=function(Lr){return arguments.length?(typeof Lr=="function"?At=_t=Lr:At=(_t=js.get(Lr)||Gi).key,Gt=_t.reverse||_t,Yt=_t.closed?"M":"L",Cr):At},Cr.tension=function(Lr){return arguments.length?(tr=Lr,Cr):tr},Cr}fl.reverse=ju,ju.reverse=fl,s.svg.area=function(){return mu(O)},s.svg.area.radial=function(){var ue=mu(sc);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function wf(ue){return ue.source}function cl(ue){return ue.target}s.svg.chord=function(){var ue=wf,Ae=cl,Be=Tf,qe=uu,nt=Yu;function ft(tr,Cr){var Lr=_t(this,ue,tr,Cr),$r=_t(this,Ae,tr,Cr);return"M"+Lr.p0+Gt(Lr.r,Lr.p1,Lr.a1-Lr.a0)+(At(Lr,$r)?Yt(Lr.r,Lr.p1,Lr.r,Lr.p0):Yt(Lr.r,Lr.p1,$r.r,$r.p0)+Gt($r.r,$r.p1,$r.a1-$r.a0)+Yt($r.r,$r.p1,Lr.r,Lr.p0))+"Z"}function _t(tr,Cr,Lr,$r){var sn=Cr.call(tr,Lr,$r),_r=Be.call(tr,sn,$r),Vr=qe.call(tr,sn,$r)-$e,Kr=nt.call(tr,sn,$r)-$e;return{r:_r,a0:Vr,a1:Kr,p0:[_r*Math.cos(Vr),_r*Math.sin(Vr)],p1:[_r*Math.cos(Kr),_r*Math.sin(Kr)]}}function At(tr,Cr){return tr.a0==Cr.a0&&tr.a1==Cr.a1}function Gt(tr,Cr,Lr){return"A"+tr+","+tr+" 0 "+ +(Lr>he)+",1 "+Cr}function Yt(tr,Cr,Lr,$r){return"Q 0,0 "+$r}return ft.radius=function(tr){return arguments.length?(Be=tn(tr),ft):Be},ft.source=function(tr){return arguments.length?(ue=tn(tr),ft):ue},ft.target=function(tr){return arguments.length?(Ae=tn(tr),ft):Ae},ft.startAngle=function(tr){return arguments.length?(qe=tn(tr),ft):qe},ft.endAngle=function(tr){return arguments.length?(nt=tn(tr),ft):nt},ft};function Tf(ue){return ue.radius}s.svg.diagonal=function(){var ue=wf,Ae=cl,Be=xu;function qe(nt,ft){var _t=ue.call(this,nt,ft),At=Ae.call(this,nt,ft),Gt=(_t.y+At.y)/2,Yt=[_t,{x:_t.x,y:Gt},{x:At.x,y:Gt},At];return Yt=Yt.map(Be),"M"+Yt[0]+"C"+Yt[1]+" "+Yt[2]+" "+Yt[3]}return qe.source=function(nt){return arguments.length?(ue=tn(nt),qe):ue},qe.target=function(nt){return arguments.length?(Ae=tn(nt),qe):Ae},qe.projection=function(nt){return arguments.length?(Be=nt,qe):Be},qe};function xu(ue){return[ue.x,ue.y]}s.svg.diagonal.radial=function(){var ue=s.svg.diagonal(),Ae=xu,Be=ue.projection;return ue.projection=function(qe){return arguments.length?Be(lc(Ae=qe)):Ae},ue};function lc(ue){return function(){var Ae=ue.apply(this,arguments),Be=Ae[0],qe=Ae[1]-$e;return[Be*Math.cos(qe),Be*Math.sin(qe)]}}s.svg.symbol=function(){var ue=at,Ae=Ze;function Be(qe,nt){return(wt.get(ue.call(this,qe,nt))||yt)(Ae.call(this,qe,nt))}return Be.type=function(qe){return arguments.length?(ue=tn(qe),Be):ue},Be.size=function(qe){return arguments.length?(Ae=tn(qe),Be):Ae},Be};function Ze(){return 64}function at(){return"circle"}function yt(ue){var Ae=Math.sqrt(ue/he);return"M0,"+Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+-Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+Ae+"Z"}var wt=s.map({circle:yt,cross:function(ue){var Ae=Math.sqrt(ue/5)/2;return"M"+-3*Ae+","+-Ae+"H"+-Ae+"V"+-3*Ae+"H"+Ae+"V"+-Ae+"H"+3*Ae+"V"+Ae+"H"+Ae+"V"+3*Ae+"H"+-Ae+"V"+Ae+"H"+-3*Ae+"Z"},diamond:function(ue){var Ae=Math.sqrt(ue/(2*kt)),Be=Ae*kt;return"M0,"+-Ae+"L"+Be+",0 0,"+Ae+" "+-Be+",0Z"},square:function(ue){var Ae=Math.sqrt(ue)/2;return"M"+-Ae+","+-Ae+"L"+Ae+","+-Ae+" "+Ae+","+Ae+" "+-Ae+","+Ae+"Z"},"triangle-down":function(ue){var Ae=Math.sqrt(ue/zt),Be=Ae*zt/2;return"M0,"+Be+"L"+Ae+","+-Be+" "+-Ae+","+-Be+"Z"},"triangle-up":function(ue){var Ae=Math.sqrt(ue/zt),Be=Ae*zt/2;return"M0,"+-Be+"L"+Ae+","+Be+" "+-Ae+","+Be+"Z"}});s.svg.symbolTypes=wt.keys();var zt=Math.sqrt(3),kt=Math.tan(30*ot);j.transition=function(ue){for(var Ae=Dr||++Sr,Be=_n(ue),qe=[],nt,ft,_t=Ur||{time:Date.now(),ease:lf,delay:0,duration:250},At=-1,Gt=this.length;++At<Gt;){qe.push(nt=[]);for(var Yt=this[At],tr=-1,Cr=Yt.length;++tr<Cr;)(ft=Yt[tr])&&Dn(ft,tr,Be,Ae,_t),nt.push(ft)}return wr(qe,Be,Ae)},j.interrupt=function(ue){return this.each(ue==null?Ft:gr(_n(ue)))};var Ft=gr(_n());function gr(ue){return function(){var Ae,Be,qe;(Ae=this[ue])&&(qe=Ae[Be=Ae.active])&&(qe.timer.c=null,qe.timer.t=NaN,--Ae.count?delete Ae[Be]:delete this[ue],Ae.active+=.5,qe.event&&qe.event.interrupt.call(this,this.__data__,qe.index))}}function wr(ue,Ae,Be){return ie(ue,ar),ue.namespace=Ae,ue.id=Be,ue}var ar=[],Sr=0,Dr,Ur;ar.call=j.call,ar.empty=j.empty,ar.node=j.node,ar.size=j.size,s.transition=function(ue,Ae){return ue&&ue.transition?Dr?ue.transition(Ae):ue:s.selection().transition(ue)},s.transition.prototype=ar,ar.select=function(ue){var Ae=this.id,Be=this.namespace,qe=[],nt,ft,_t;ue=se(ue);for(var At=-1,Gt=this.length;++At<Gt;){qe.push(nt=[]);for(var Yt=this[At],tr=-1,Cr=Yt.length;++tr<Cr;)(_t=Yt[tr])&&(ft=ue.call(_t,_t.__data__,tr,At))?("__data__"in _t&&(ft.__data__=_t.__data__),Dn(ft,tr,Be,Ae,_t[Be][Ae]),nt.push(ft)):nt.push(null)}return wr(qe,Be,Ae)},ar.selectAll=function(ue){var Ae=this.id,Be=this.namespace,qe=[],nt,ft,_t,At,Gt;ue=te(ue);for(var Yt=-1,tr=this.length;++Yt<tr;)for(var Cr=this[Yt],Lr=-1,$r=Cr.length;++Lr<$r;)if(_t=Cr[Lr]){Gt=_t[Be][Ae],ft=ue.call(_t,_t.__data__,Lr,Yt),qe.push(nt=[]);for(var sn=-1,_r=ft.length;++sn<_r;)(At=ft[sn])&&Dn(At,sn,Be,Ae,Gt),nt.push(At)}return wr(qe,Be,Ae)},ar.filter=function(ue){var Ae=[],Be,qe,nt;typeof ue!="function"&&(ue=et(ue));for(var ft=0,_t=this.length;ft<_t;ft++){Ae.push(Be=[]);for(var qe=this[ft],At=0,Gt=qe.length;At<Gt;At++)(nt=qe[At])&&ue.call(nt,nt.__data__,At,ft)&&Be.push(nt)}return wr(Ae,this.namespace,this.id)},ar.tween=function(ue,Ae){var Be=this.id,qe=this.namespace;return arguments.length<2?this.node()[qe][Be].tween.get(ue):Je(this,Ae==null?function(nt){nt[qe][Be].tween.remove(ue)}:function(nt){nt[qe][Be].tween.set(ue,Ae)})};function on(ue,Ae,Be,qe){var nt=ue.id,ft=ue.namespace;return Je(ue,typeof Be=="function"?function(_t,At,Gt){_t[ft][nt].tween.set(Ae,qe(Be.call(_t,_t.__data__,At,Gt)))}:(Be=qe(Be),function(_t){_t[ft][nt].tween.set(Ae,Be)}))}ar.attr=function(ue,Ae){if(arguments.length<2){for(Ae in ue)this.attr(Ae,ue[Ae]);return this}var Be=ue=="transform"?Ou:no,qe=s.ns.qualify(ue);function nt(){this.removeAttribute(qe)}function ft(){this.removeAttributeNS(qe.space,qe.local)}function _t(Gt){return Gt==null?nt:(Gt+="",function(){var Yt=this.getAttribute(qe),tr;return Yt!==Gt&&(tr=Be(Yt,Gt),function(Cr){this.setAttribute(qe,tr(Cr))})})}function At(Gt){return Gt==null?ft:(Gt+="",function(){var Yt=this.getAttributeNS(qe.space,qe.local),tr;return Yt!==Gt&&(tr=Be(Yt,Gt),function(Cr){this.setAttributeNS(qe.space,qe.local,tr(Cr))})})}return on(this,"attr."+ue,Ae,qe.local?At:_t)},ar.attrTween=function(ue,Ae){var Be=s.ns.qualify(ue);function qe(ft,_t){var At=Ae.call(this,ft,_t,this.getAttribute(Be));return At&&function(Gt){this.setAttribute(Be,At(Gt))}}function nt(ft,_t){var At=Ae.call(this,ft,_t,this.getAttributeNS(Be.space,Be.local));return At&&function(Gt){this.setAttributeNS(Be.space,Be.local,At(Gt))}}return this.tween("attr."+ue,Be.local?nt:qe)},ar.style=function(ue,Ae,Be){var qe=arguments.length;if(qe<3){if(typeof ue!="string"){qe<2&&(Ae="");for(Be in ue)this.style(Be,ue[Be],Ae);return this}Be=""}function nt(){this.style.removeProperty(ue)}function ft(_t){return _t==null?nt:(_t+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(ue),Gt;return At!==_t&&(Gt=no(At,_t),function(Yt){this.style.setProperty(ue,Gt(Yt),Be)})})}return on(this,"style."+ue,Ae,ft)},ar.styleTween=function(ue,Ae,Be){arguments.length<3&&(Be="");function qe(nt,ft){var _t=Ae.call(this,nt,ft,r(this).getComputedStyle(this,null).getPropertyValue(ue));return _t&&function(At){this.style.setProperty(ue,_t(At),Be)}}return this.tween("style."+ue,qe)},ar.text=function(ue){return on(this,"text",ue,xn)};function xn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}ar.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Ae;this[ue].count<2&&(Ae=this.parentNode)&&Ae.removeChild(this)})},ar.ease=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].ease:(typeof ue!="function"&&(ue=s.ease.apply(s,arguments)),Je(this,function(qe){qe[Be][Ae].ease=ue}))},ar.delay=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].delay:Je(this,typeof ue=="function"?function(qe,nt,ft){qe[Be][Ae].delay=+ue.call(qe,qe.__data__,nt,ft)}:(ue=+ue,function(qe){qe[Be][Ae].delay=ue}))},ar.duration=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].duration:Je(this,typeof ue=="function"?function(qe,nt,ft){qe[Be][Ae].duration=Math.max(1,ue.call(qe,qe.__data__,nt,ft))}:(ue=Math.max(1,ue),function(qe){qe[Be][Ae].duration=ue}))},ar.each=function(ue,Ae){var Be=this.id,qe=this.namespace;if(arguments.length<2){var nt=Ur,ft=Dr;try{Dr=Be,Je(this,function(_t,At,Gt){Ur=_t[qe][Be],ue.call(_t,_t.__data__,At,Gt)})}finally{Ur=nt,Dr=ft}}else Je(this,function(_t){var At=_t[qe][Be];(At.event||(At.event=s.dispatch("start","end","interrupt"))).on(ue,Ae)});return this},ar.transition=function(){for(var ue=this.id,Ae=++Sr,Be=this.namespace,qe=[],nt,ft,_t,At,Gt=0,Yt=this.length;Gt<Yt;Gt++){qe.push(nt=[]);for(var ft=this[Gt],tr=0,Cr=ft.length;tr<Cr;tr++)(_t=ft[tr])&&(At=_t[Be][ue],Dn(_t,tr,Be,Ae,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),nt.push(_t)}return wr(qe,Be,Ae)};function _n(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function Dn(ue,Ae,Be,qe,nt){var ft=ue[Be]||(ue[Be]={active:0,count:0}),_t=ft[qe],At,Gt,Yt,tr,Cr;function Lr(_r){var Vr=_t.delay;if(Gt.t=Vr+At,Vr<=_r)return $r(_r-Vr);Gt.c=$r}function $r(_r){var Vr=ft.active,Kr=ft[Vr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ft.count,delete ft[Vr],Kr.event&&Kr.event.interrupt.call(ue,ue.__data__,Kr.index));for(var hn in ft)if(+hn<qe){var pn=ft[hn];pn.timer.c=null,pn.timer.t=NaN,--ft.count,delete ft[hn]}Gt.c=sn,Pn(function(){return Gt.c&&sn(_r||1)&&(Gt.c=null,Gt.t=NaN),1},0,At),ft.active=qe,_t.event&&_t.event.start.call(ue,ue.__data__,Ae),Cr=[],_t.tween.forEach(function(rn,Hn){(Hn=Hn.call(ue,ue.__data__,Ae))&&Cr.push(Hn)}),tr=_t.ease,Yt=_t.duration}function sn(_r){for(var Vr=_r/Yt,Kr=tr(Vr),hn=Cr.length;hn>0;)Cr[--hn].call(ue,Kr);if(Vr>=1)return _t.event&&_t.event.end.call(ue,ue.__data__,Ae),--ft.count?delete ft[qe]:delete ue[Be],1}_t||(At=nt.time,Gt=Pn(Lr,0,At),_t=ft[qe]={tween:new C,time:At,timer:Gt,delay:nt.delay,duration:nt.duration,ease:nt.ease,index:Ae},nt=null,++ft.count)}s.svg.axis=function(){var ue=s.scale.linear(),Ae=Zn,Be=6,qe=6,nt=3,ft=[10],_t=null,At;function Gt(Yt){Yt.each(function(){var tr=s.select(this),Cr=this.__chart__||ue,Lr=this.__chart__=ue.copy(),$r=_t??(Lr.ticks?Lr.ticks.apply(Lr,ft):Lr.domain()),sn=At??(Lr.tickFormat?Lr.tickFormat.apply(Lr,ft):O),_r=tr.selectAll(".tick").data($r,Lr),Vr=_r.enter().insert("g",".domain").attr("class","tick").style("opacity",je),Kr=s.transition(_r.exit()).style("opacity",je).remove(),hn=s.transition(_r.order()).style("opacity",1),pn=Math.max(Be,0)+nt,rn,Hn=Ol(Lr),ra=tr.selectAll(".domain").data([0]),fa=(ra.enter().append("path").attr("class","domain"),s.transition(ra));Vr.append("line"),Vr.append("text");var ea=Vr.select("line"),oa=hn.select("line"),ca=_r.select("text").text(sn),Ua=Vr.select("text"),Ea=hn.select("text"),Oa=Ae==="top"||Ae==="left"?-1:1,ii,Fi,ci,qn;if(Ae==="bottom"||Ae==="top"?(rn=Da,ii="x",ci="y",Fi="x2",qn="y2",ca.attr("dy",Oa<0?"0em":".71em").style("text-anchor","middle"),fa.attr("d","M"+Hn[0]+","+Oa*qe+"V0H"+Hn[1]+"V"+Oa*qe)):(rn=ka,ii="y",ci="x",Fi="y2",qn="x2",ca.attr("dy",".32em").style("text-anchor",Oa<0?"end":"start"),fa.attr("d","M"+Oa*qe+","+Hn[0]+"H0V"+Hn[1]+"H"+Oa*qe)),ea.attr(qn,Oa*Be),Ua.attr(ci,Oa*pn),oa.attr(Fi,0).attr(qn,Oa*Be),Ea.attr(ii,0).attr(ci,Oa*pn),Lr.rangeBand){var Ha=Lr,Sa=Ha.rangeBand()/2;Cr=Lr=function(Ja){return Ha(Ja)+Sa}}else Cr.rangeBand?Cr=Lr:Kr.call(rn,Lr,Cr);Vr.call(rn,Cr,Lr),hn.call(rn,Lr,Lr)})}return Gt.scale=function(Yt){return arguments.length?(ue=Yt,Gt):ue},Gt.orient=function(Yt){return arguments.length?(Ae=Yt in Ra?Yt+"":Zn,Gt):Ae},Gt.ticks=function(){return arguments.length?(ft=S(arguments),Gt):ft},Gt.tickValues=function(Yt){return arguments.length?(_t=Yt,Gt):_t},Gt.tickFormat=function(Yt){return arguments.length?(At=Yt,Gt):At},Gt.tickSize=function(Yt){var tr=arguments.length;return tr?(Be=+Yt,qe=+arguments[tr-1],Gt):Be},Gt.innerTickSize=function(Yt){return arguments.length?(Be=+Yt,Gt):Be},Gt.outerTickSize=function(Yt){return arguments.length?(qe=+Yt,Gt):qe},Gt.tickPadding=function(Yt){return arguments.length?(nt=+Yt,Gt):nt},Gt.tickSubdivide=function(){return arguments.length&&Gt},Gt};var Zn="bottom",Ra={top:1,right:1,bottom:1,left:1};function Da(ue,Ae,Be){ue.attr("transform",function(qe){var nt=Ae(qe);return"translate("+(isFinite(nt)?nt:Be(qe))+",0)"})}function ka(ue,Ae,Be){ue.attr("transform",function(qe){var nt=Ae(qe);return"translate(0,"+(isFinite(nt)?nt:Be(qe))+")"})}s.svg.brush=function(){var ue=$(tr,"brushstart","brush","brushend"),Ae=null,Be=null,qe=[0,0],nt=[0,0],ft,_t,At=!0,Gt=!0,Yt=Ka[0];function tr(_r){_r.each(function(){var Vr=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sn).on("touchstart.brush",sn),Kr=Vr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Vr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var hn=Vr.selectAll(".resize").data(Yt,O);hn.exit().remove(),hn.enter().append("g").attr("class",function(ra){return"resize "+ra}).style("cursor",function(ra){return Na[ra]}).append("rect").attr("x",function(ra){return/[ew]$/.test(ra)?-3:null}).attr("y",function(ra){return/^[ns]/.test(ra)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),hn.style("display",tr.empty()?"none":null);var pn=s.transition(Vr),rn=s.transition(Kr),Hn;Ae&&(Hn=Ol(Ae),rn.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Lr(pn)),Be&&(Hn=Ol(Be),rn.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),$r(pn)),Cr(pn)})}tr.event=function(_r){_r.each(function(){var Vr=ue.of(this,arguments),Kr={x:qe,y:nt,i:ft,j:_t},hn=this.__chart__||Kr;this.__chart__=Kr,Dr?s.select(this).transition().each("start.brush",function(){ft=hn.i,_t=hn.j,qe=hn.x,nt=hn.y,Vr({type:"brushstart"})}).tween("brush:brush",function(){var pn=zo(qe,Kr.x),rn=zo(nt,Kr.y);return ft=_t=null,function(Hn){qe=Kr.x=pn(Hn),nt=Kr.y=rn(Hn),Vr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=Kr.i,_t=Kr.j,Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"})}):(Vr({type:"brushstart"}),Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"}))})};function Cr(_r){_r.selectAll(".resize").attr("transform",function(Vr){return"translate("+qe[+/e$/.test(Vr)]+","+nt[+/^s/.test(Vr)]+")"})}function Lr(_r){_r.select(".extent").attr("x",qe[0]),_r.selectAll(".extent,.n>rect,.s>rect").attr("width",qe[1]-qe[0])}function $r(_r){_r.select(".extent").attr("y",nt[0]),_r.selectAll(".extent,.e>rect,.w>rect").attr("height",nt[1]-nt[0])}function sn(){var _r=this,Vr=s.select(s.event.target),Kr=ue.of(_r,arguments),hn=s.select(_r),pn=Vr.datum(),rn=!/^(n|s)$/.test(pn)&&Ae,Hn=!/^(e|w)$/.test(pn)&&Be,ra=Vr.classed("extent"),fa=Ge(_r),ea,oa=s.mouse(_r),ca,Ua=s.select(r(_r)).on("keydown.brush",ii).on("keyup.brush",Fi);if(s.event.changedTouches?Ua.on("touchmove.brush",ci).on("touchend.brush",Ha):Ua.on("mousemove.brush",ci).on("mouseup.brush",Ha),hn.interrupt().selectAll("*").interrupt(),ra)oa[0]=qe[0]-oa[0],oa[1]=nt[0]-oa[1];else if(pn){var Ea=+/w$/.test(pn),Oa=+/^n/.test(pn);ca=[qe[1-Ea]-oa[0],nt[1-Oa]-oa[1]],oa[0]=qe[Ea],oa[1]=nt[Oa]}else s.event.altKey&&(ea=oa.slice());hn.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",Vr.style("cursor")),Kr({type:"brushstart"}),ci();function ii(){s.event.keyCode==32&&(ra||(ea=null,oa[0]-=qe[1],oa[1]-=nt[1],ra=2),ne())}function Fi(){s.event.keyCode==32&&ra==2&&(oa[0]+=qe[1],oa[1]+=nt[1],ra=0,ne())}function ci(){var Sa=s.mouse(_r),Ja=!1;ca&&(Sa[0]+=ca[0],Sa[1]+=ca[1]),ra||(s.event.altKey?(ea||(ea=[(qe[0]+qe[1])/2,(nt[0]+nt[1])/2]),oa[0]=qe[+(Sa[0]<ea[0])],oa[1]=nt[+(Sa[1]<ea[1])]):ea=null),rn&&qn(Sa,Ae,0)&&(Lr(hn),Ja=!0),Hn&&qn(Sa,Be,1)&&($r(hn),Ja=!0),Ja&&(Cr(hn),Kr({type:"brush",mode:ra?"move":"resize"}))}function qn(Sa,Ja,wi){var oi=Ol(Ja),$i=oi[0],qi=oi[1],ao=oa[wi],Ti=wi?nt:qe,go=Ti[1]-Ti[0],la,La;if(ra&&($i-=ao,qi-=go+ao),la=(wi?Gt:At)?Math.max($i,Math.min(qi,Sa[wi])):Sa[wi],ra?La=(la+=ao)+go:(ea&&(ao=Math.max($i,Math.min(qi,2*ea[wi]-la))),ao<la?(La=la,la=ao):La=ao),Ti[0]!=la||Ti[1]!=La)return wi?_t=null:ft=null,Ti[0]=la,Ti[1]=La,!0}function Ha(){ci(),hn.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),s.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fa(),Kr({type:"brushend"})}}return tr.x=function(_r){return arguments.length?(Ae=_r,Yt=Ka[!Ae<<1|!Be],tr):Ae},tr.y=function(_r){return arguments.length?(Be=_r,Yt=Ka[!Ae<<1|!Be],tr):Be},tr.clamp=function(_r){return arguments.length?(Ae&&Be?(At=!!_r[0],Gt=!!_r[1]):Ae?At=!!_r:Be&&(Gt=!!_r),tr):Ae&&Be?[At,Gt]:Ae?At:Be?Gt:null},tr.extent=function(_r){var Vr,Kr,hn,pn,rn;return arguments.length?(Ae&&(Vr=_r[0],Kr=_r[1],Be&&(Vr=Vr[0],Kr=Kr[0]),ft=[Vr,Kr],Ae.invert&&(Vr=Ae(Vr),Kr=Ae(Kr)),Kr<Vr&&(rn=Vr,Vr=Kr,Kr=rn),(Vr!=qe[0]||Kr!=qe[1])&&(qe=[Vr,Kr])),Be&&(hn=_r[0],pn=_r[1],Ae&&(hn=hn[1],pn=pn[1]),_t=[hn,pn],Be.invert&&(hn=Be(hn),pn=Be(pn)),pn<hn&&(rn=hn,hn=pn,pn=rn),(hn!=nt[0]||pn!=nt[1])&&(nt=[hn,pn])),tr):(Ae&&(ft?(Vr=ft[0],Kr=ft[1]):(Vr=qe[0],Kr=qe[1],Ae.invert&&(Vr=Ae.invert(Vr),Kr=Ae.invert(Kr)),Kr<Vr&&(rn=Vr,Vr=Kr,Kr=rn))),Be&&(_t?(hn=_t[0],pn=_t[1]):(hn=nt[0],pn=nt[1],Be.invert&&(hn=Be.invert(hn),pn=Be.invert(pn)),pn<hn&&(rn=hn,hn=pn,pn=rn))),Ae&&Be?[[Vr,hn],[Kr,pn]]:Ae?[Vr,Kr]:Be&&[hn,pn])},tr.clear=function(){return tr.empty()||(qe=[0,0],nt=[0,0],ft=_t=null),tr},tr.empty=function(){return!!Ae&&qe[0]==qe[1]||!!Be&&nt[0]==nt[1]},s.rebind(tr,ue,"on")};var Na={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ka=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];s.text=Sn(function(ue){return ue.responseText}),s.json=function(ue,Ae){return Tn(ue,"application/json",di,Ae)};function di(ue){return JSON.parse(ue.responseText)}s.html=function(ue,Ae){return Tn(ue,"text/html",zi,Ae)};function zi(ue){var Ae=v.createRange();return Ae.selectNode(v.body),Ae.createContextualFragment(ue.responseText)}s.xml=Sn(function(ue){return ue.responseXML}),m=s,P=typeof m=="function"?m.call(H,e,H,G):m,P!==void 0&&(G.exports=P)}).apply(self)},3480:function(G){(function(H,e){G.exports=e()})(this,function(){var H,e,m;function P(s,L){if(!H)H=L;else if(!e)e=L;else{var S="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),m=L(v),typeof window<"u"&&(m.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return P(["exports"],function(s){function L(_,R){return R={exports:{}},_(R,R.exports),R.exports}var S="1.13.4",v=p;function p(_,R,U,ae){this.cx=3*_,this.bx=3*(U-_)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(ae-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_,this.p1y=ae,this.p2x=U,this.p2y=ae}p.prototype.sampleCurveX=function(_){return((this.ax*_+this.bx)*_+this.cx)*_},p.prototype.sampleCurveY=function(_){return((this.ay*_+this.by)*_+this.cy)*_},p.prototype.sampleCurveDerivativeX=function(_){return(3*this.ax*_+2*this.bx)*_+this.cx},p.prototype.solveCurveX=function(_,R){typeof R>"u"&&(R=1e-6);var U,ae,ve,we,Ee;for(ve=_,Ee=0;Ee<8;Ee++){if(we=this.sampleCurveX(ve)-_,Math.abs(we)<R)return ve;var Ke=this.sampleCurveDerivativeX(ve);if(Math.abs(Ke)<1e-6)break;ve=ve-we/Ke}if(U=0,ae=1,ve=_,ve<U)return U;if(ve>ae)return ae;for(;U<ae;){if(we=this.sampleCurveX(ve),Math.abs(we-_)<R)return ve;_>we?U=ve:ae=ve,ve=(ae-U)*.5+U}return ve},p.prototype.solve=function(_,R){return this.sampleCurveY(this.solveCurveX(_,R))};var r=t;function t(_,R){this.x=_,this.y=R}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(_){return this.clone()._add(_)},sub:function(_){return this.clone()._sub(_)},multByPoint:function(_){return this.clone()._multByPoint(_)},divByPoint:function(_){return this.clone()._divByPoint(_)},mult:function(_){return this.clone()._mult(_)},div:function(_){return this.clone()._div(_)},rotate:function(_){return this.clone()._rotate(_)},rotateAround:function(_,R){return this.clone()._rotateAround(_,R)},matMult:function(_){return this.clone()._matMult(_)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_){return this.x===_.x&&this.y===_.y},dist:function(_){return Math.sqrt(this.distSqr(_))},distSqr:function(_){var R=_.x-this.x,U=_.y-this.y;return R*R+U*U},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_){return Math.atan2(this.y-_.y,this.x-_.x)},angleWith:function(_){return this.angleWithSep(_.x,_.y)},angleWithSep:function(_,R){return Math.atan2(this.x*R-this.y*_,this.x*_+this.y*R)},_matMult:function(_){var R=_[0]*this.x+_[1]*this.y,U=_[2]*this.x+_[3]*this.y;return this.x=R,this.y=U,this},_add:function(_){return this.x+=_.x,this.y+=_.y,this},_sub:function(_){return this.x-=_.x,this.y-=_.y,this},_mult:function(_){return this.x*=_,this.y*=_,this},_div:function(_){return this.x/=_,this.y/=_,this},_multByPoint:function(_){return this.x*=_.x,this.y*=_.y,this},_divByPoint:function(_){return this.x/=_.x,this.y/=_.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _=this.y;return this.y=this.x,this.x=-_,this},_rotate:function(_){var R=Math.cos(_),U=Math.sin(_),ae=R*this.x-U*this.y,ve=U*this.x+R*this.y;return this.x=ae,this.y=ve,this},_rotateAround:function(_,R){var U=Math.cos(_),ae=Math.sin(_),ve=R.x+U*(this.x-R.x)-ae*(this.y-R.y),we=R.y+ae*(this.x-R.x)+U*(this.y-R.y);return this.x=ve,this.y=we,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(_){return _ instanceof t?_:Array.isArray(_)?new t(_[0],_[1]):_};var i=typeof self<"u"?self:{};function n(_,R){if(Array.isArray(_)){if(!Array.isArray(R)||_.length!==R.length)return!1;for(var U=0;U<_.length;U++)if(!n(_[U],R[U]))return!1;return!0}if(typeof _=="object"&&_!==null&&R!==null){if(typeof R!="object")return!1;var ae=Object.keys(_);if(ae.length!==Object.keys(R).length)return!1;for(var ve in _)if(!n(_[ve],R[ve]))return!1;return!0}return _===R}var f=Math.pow(2,53)-1;function u(_){if(_<=0)return 0;if(_>=1)return 1;var R=_*_,U=R*_;return 4*(_<.5?U:3*(_-R)+U-.75)}function l(_,R,U,ae){var ve=new v(_,R,U,ae);return function(we){return ve.solve(we)}}var g=l(.25,.1,.25,1);function h(_,R,U){return Math.min(U,Math.max(R,_))}function T(_,R,U){var ae=U-R,ve=((_-R)%ae+ae)%ae+R;return ve===R?U:ve}function c(_,R,U){if(!_.length)return U(null,[]);var ae=_.length,ve=new Array(_.length),we=null;_.forEach(function(Ee,Ke){R(Ee,function(pt,St){pt&&(we=pt),ve[Ke]=St,--ae===0&&U(we,ve)})})}function a(_){var R=[];for(var U in _)R.push(_[U]);return R}function d(_,R){var U=[];for(var ae in _)ae in R||U.push(ae);return U}function x(_){for(var R=[],U=arguments.length-1;U-- >0;)R[U]=arguments[U+1];for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];for(var Ee in we)_[Ee]=we[Ee]}return _}function w(_,R){for(var U={},ae=0;ae<R.length;ae++){var ve=R[ae];ve in _&&(U[ve]=_[ve])}return U}var C=1;function y(){return C++}function M(){function _(R){return R?(R^Math.random()*16>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,_)}return _()}function A(_){return _<=1?1:Math.pow(2,Math.ceil(Math.log(_)/Math.LN2))}function o(_){return _?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_):!1}function E(_,R){_.forEach(function(U){R[U]&&(R[U]=R[U].bind(R))})}function b(_,R){return _.indexOf(R,_.length-R.length)!==-1}function I(_,R,U){var ae={};for(var ve in _)ae[ve]=R.call(U||this,_[ve],ve,_);return ae}function D(_,R,U){var ae={};for(var ve in _)R.call(U||this,_[ve],ve,_)&&(ae[ve]=_[ve]);return ae}function N(_){return Array.isArray(_)?_.map(N):typeof _=="object"&&_?I(_,N):_}function k(_,R){for(var U=0;U<_.length;U++)if(R.indexOf(_[U])>=0)return!0;return!1}var O={};function F(_){O[_]||(typeof console<"u"&&console.warn(_),O[_]=!0)}function z(_,R,U){return(U.y-_.y)*(R.x-_.x)>(R.y-_.y)*(U.x-_.x)}function B(_){for(var R=0,U=0,ae=_.length,ve=ae-1,we=void 0,Ee=void 0;U<ae;ve=U++)we=_[U],Ee=_[ve],R+=(Ee.x-we.x)*(we.y+Ee.y);return R}function W(_){var R=_[0],U=_[1],ae=_[2];return U+=90,U*=Math.PI/180,ae*=Math.PI/180,{x:R*Math.cos(U)*Math.sin(ae),y:R*Math.sin(U)*Math.sin(ae),z:R*Math.cos(ae)}}function J(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function re(_){var R=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,U={};if(_.replace(R,function(ve,we,Ee,Ke){var pt=Ee||Ke;return U[we]=pt?pt.toLowerCase():!0,""}),U["max-age"]){var ae=parseInt(U["max-age"],10);isNaN(ae)?delete U["max-age"]:U["max-age"]=ae}return U}var ne=null;function le(_){if(ne==null){var R=_.navigator?_.navigator.userAgent:null;ne=!!_.safari||!!(R&&(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return ne}function $(_){try{var R=i[_];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}function K(_){return i.btoa(encodeURIComponent(_).replace(/%([0-9A-F]{2})/g,function(R,U){return String.fromCharCode(+("0x"+U))}))}function ie(_){return decodeURIComponent(i.atob(_).split("").map(function(R){return"%"+("00"+R.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),Q=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,oe=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,X,j,se={now:Y,frame:function(R){var U=Q(R);return{cancel:function(){return oe(U)}}},getImageData:function(R,U){U===void 0&&(U=0);var ae=i.document.createElement("canvas"),ve=ae.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ae.width=R.width,ae.height=R.height,ve.drawImage(R,0,0,R.width,R.height),ve.getImageData(-U,-U,R.width+2*U,R.height+2*U)},resolveURL:function(R){return X||(X=i.document.createElement("a")),X.href=R,X.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?(j==null&&(j=i.matchMedia("(prefers-reduced-motion: reduce)")),j.matches):!1}},te={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:De},ge,be=!1,xe,_e=!1;i.document&&(xe=i.document.createElement("img"),xe.onload=function(){ge&&Fe(ge),ge=null,_e=!0},xe.onerror=function(){be=!0,ge=null},xe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function De(_){be||!xe||(_e?Fe(_):ge=_)}function Fe(_){var R=_.createTexture();_.bindTexture(_.TEXTURE_2D,R);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,xe),_.isContextLost())return;fe.supported=!0}catch{}_.deleteTexture(R),be=!0}var Te="01";function Re(){for(var _="1",R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",U="",ae=0;ae<10;ae++)U+=R[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,we=[_,Te,U].join(""),Ee=Date.now()+ve;return{token:we,tokenExpiresAt:Ee}}var Se=function(R,U){this._transformRequestFn=R,this._customAccessToken=U,this._createSkuToken()};Se.prototype._createSkuToken=function(){var R=Re();this._skuToken=R.token,this._skuTokenExpiresAt=R.tokenExpiresAt},Se.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Se.prototype.transformRequest=function(R,U){return this._transformRequestFn?this._transformRequestFn(R,U)||{url:R}:{url:R}},Se.prototype.normalizeStyleURL=function(R,U){if(!Ie(R))return R;var ae=Qe(R);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||U)},Se.prototype.normalizeGlyphsURL=function(R,U){if(!Ie(R))return R;var ae=Qe(R);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||U)},Se.prototype.normalizeSourceURL=function(R,U){if(!Ie(R))return R;var ae=Qe(R);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||U)},Se.prototype.normalizeSpriteURL=function(R,U,ae,ve){var we=Qe(R);return Ie(R)?(we.path="/styles/v1"+we.path+"/sprite"+U+ae,this._makeAPIURL(we,this._customAccessToken||ve)):(we.path+=""+U+ae,ct(we))},Se.prototype.normalizeTileURL=function(R,U){if(this._isSkuTokenExpired()&&this._createSkuToken(),R&&!Ie(R))return R;var ae=Qe(R),ve=/(\.(png|jpg)\d*)(?=$)/,we=/^.+\/v4\//,Ee=se.devicePixelRatio>=2||U===512?"@2x":"",Ke=fe.supported?".webp":"$1";ae.path=ae.path.replace(ve,""+Ee+Ke),ae.path=ae.path.replace(we,"/"),ae.path="/v4"+ae.path;var pt=this._customAccessToken||it(ae.params)||te.ACCESS_TOKEN;return te.REQUIRE_ACCESS_TOKEN&&pt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,pt)},Se.prototype.canonicalizeTileURL=function(R,U){var ae="/v4/",ve=/\.[\w]+$/,we=Qe(R);if(!we.path.match(/(^\/v4\/)/)||!we.path.match(ve))return R;var Ee="mapbox://tiles/";Ee+=we.path.replace(ae,"");var Ke=we.params;return U&&(Ke=Ke.filter(function(pt){return!pt.match(/^access_token=/)})),Ke.length&&(Ee+="?"+Ke.join("&")),Ee},Se.prototype.canonicalizeTileset=function(R,U){for(var ae=U?Ie(U):!1,ve=[],we=0,Ee=R.tiles||[];we<Ee.length;we+=1){var Ke=Ee[we];Ve(Ke)?ve.push(this.canonicalizeTileURL(Ke,ae)):ve.push(Ke)}return ve},Se.prototype._makeAPIURL=function(R,U){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=Qe(te.API_URL);if(R.protocol=ve.protocol,R.authority=ve.authority,R.protocol==="http"){var we=R.params.indexOf("secure");we>=0&&R.params.splice(we,1)}if(ve.path!=="/"&&(R.path=""+ve.path+R.path),!te.REQUIRE_ACCESS_TOKEN)return ct(R);if(U=U||te.ACCESS_TOKEN,!U)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(U[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return R.params=R.params.filter(function(Ee){return Ee.indexOf("access_token")===-1}),R.params.push("access_token="+U),ct(R)};function Ie(_){return _.indexOf("mapbox:")===0}var Me=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ve(_){return Me.test(_)}function et(_){return _.indexOf("sku=")>0&&Ve(_)}function it(_){for(var R=0,U=_;R<U.length;R+=1){var ae=U[R],ve=ae.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var Je=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Qe(_){var R=_.match(Je);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function ct(_){var R=_.params.length?"?"+_.params.join("&"):"";return _.protocol+"://"+_.authority+_.path+R}var ht="mapbox.eventData";function gt(_){if(!_)return null;var R=_.split(".");if(!R||R.length!==3)return null;try{var U=JSON.parse(ie(R[1]));return U}catch{return null}}var Tt=function(R){this.type=R,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Tt.prototype.getStorageKey=function(R){var U=gt(te.ACCESS_TOKEN),ae="";return U&&U.u?ae=K(U.u):ae=te.ACCESS_TOKEN||"",R?ht+"."+R+":"+ae:ht+":"+ae},Tt.prototype.fetchEventData=function(){var R=$("localStorage"),U=this.getStorageKey(),ae=this.getStorageKey("uuid");if(R)try{var ve=i.localStorage.getItem(U);ve&&(this.eventData=JSON.parse(ve));var we=i.localStorage.getItem(ae);we&&(this.anonId=we)}catch{F("Unable to read from LocalStorage")}},Tt.prototype.saveEventData=function(){var R=$("localStorage"),U=this.getStorageKey(),ae=this.getStorageKey("uuid");if(R)try{i.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(U,JSON.stringify(this.eventData))}catch{F("Unable to write to LocalStorage")}},Tt.prototype.processRequests=function(R){},Tt.prototype.postEvent=function(R,U,ae,ve){var we=this;if(te.EVENTS_URL){var Ee=Qe(te.EVENTS_URL);Ee.params.push("access_token="+(ve||te.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(R).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:S,skuId:Te,userId:this.anonId},pt=U?x(Ke,U):Ke,St={url:ct(Ee),headers:{"Content-Type":"text/plain"},body:JSON.stringify([pt])};this.pendingRequest=Ut(St,function(Rt){we.pendingRequest=null,ae(Rt),we.saveEventData(),we.processRequests(ve)})}},Tt.prototype.queueRequest=function(R,U){this.queue.push(R),this.processRequests(U)};var Et=function(_){function R(){_.call(this,"map.load"),this.success={},this.skuToken=""}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(ae,ve,we,Ee){this.skuToken=we,(te.EVENTS_URL&&Ee||te.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Ke){return Ie(Ke)||Ve(Ke)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Ee)},R.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var we=this.queue.shift(),Ee=we.id,Ke=we.timestamp;Ee&&this.success[Ee]||(this.anonId||this.fetchEventData(),o(this.anonId)||(this.anonId=M()),this.postEvent(Ke,{skuToken:this.skuToken},function(pt){pt||Ee&&(ve.success[Ee]=!0)},ae))}},R}(Tt),rt=function(_){function R(U){_.call(this,"appUserTurnstile"),this._customAccessToken=U}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(ae,ve){te.EVENTS_URL&&te.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(we){return Ie(we)||Ve(we)})&&this.queueRequest(Date.now(),ve)},R.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var we=gt(te.ACCESS_TOKEN),Ee=we?we.u:te.ACCESS_TOKEN,Ke=Ee!==this.eventData.tokenU;o(this.anonId)||(this.anonId=M(),Ke=!0);var pt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Rt=new Date(pt),jt=(pt-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||jt>=1||jt<-1||St.getDate()!==Rt.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(pt,{"enabled.telemetry":!1},function(rr){rr||(ve.eventData.lastSuccess=pt,ve.eventData.tokenU=Ee)},ae)}},R}(Tt),ze=new rt,He=ze.postTurnstileEvent.bind(ze),Ge=new Et,We=Ge.postMapLoadEvent.bind(Ge),Le="mapbox-tiles",Pe=500,je=50,Ce=1e3*60*7,he;function me(){i.caches&&!he&&(he=i.caches.open(Le))}var Ne;function $e(_,R){if(Ne===void 0)try{new Response(new ReadableStream),Ne=!0}catch{Ne=!1}Ne?R(_.body):_.blob().then(R)}function ot(_,R,U){if(me(),!!he){var ae={status:R.status,statusText:R.statusText,headers:new i.Headers};R.headers.forEach(function(Ee,Ke){return ae.headers.set(Ke,Ee)});var ve=re(R.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ae.headers.set("Expires",new Date(U+ve["max-age"]*1e3).toUTCString());var we=new Date(ae.headers.get("Expires")).getTime()-U;we<Ce||$e(R,function(Ee){var Ke=new i.Response(Ee,ae);me(),he&&he.then(function(pt){return pt.put(st(_.url),Ke)}).catch(function(pt){return F(pt.message)})})}}}function st(_){var R=_.indexOf("?");return R<0?_:_.slice(0,R)}function Wt(_,R){if(me(),!he)return R(null);var U=st(_.url);he.then(function(ae){ae.match(U).then(function(ve){var we=Pt(ve);ae.delete(U),we&&ae.put(U,ve.clone()),R(null,ve,we)}).catch(R)}).catch(R)}function Pt(_){if(!_)return!1;var R=new Date(_.headers.get("Expires")||0),U=re(_.headers.get("Cache-Control")||"");return R>Date.now()&&!U["no-cache"]}var dt=1/0;function Mt(_){dt++,dt>je&&(_.getActor().send("enforceCacheSizeLimit",Pe),dt=0)}function Xt(_){me(),he&&he.then(function(R){R.keys().then(function(U){for(var ae=0;ae<U.length-_;ae++)R.delete(U[ae])})})}function nr(_){var R=i.caches.delete(Le);_&&R.catch(_).then(function(){return _()})}function vt(_,R){Pe=_,je=R}var Zt;function Kt(){return Zt==null&&(Zt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),Zt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var or=function(_){function R(U,ae,ve){ae===401&&Ve(ve)&&(U+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),_.call(this,U),this.status=ae,this.url=ve,this.name=this.constructor.name,this.message=U}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),mt=J()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},lt=function(_){return/^file:/.test(_)||/^file:/.test(mt())&&!/^\w+:/.test(_)};function bt(_,R){var U=new i.AbortController,ae=new i.Request(_.url,{method:_.method||"GET",body:_.body,credentials:_.credentials,headers:_.headers,referrer:mt(),signal:U.signal}),ve=!1,we=!1,Ee=et(ae.url);_.type==="json"&&ae.headers.set("Accept","application/json");var Ke=function(St,Rt,jt){if(!we){if(St&&St.message!=="SecurityError"&&F(St),Rt&&jt)return pt(Rt);var rr=Date.now();i.fetch(ae).then(function(qt){if(qt.ok){var br=Ee?qt.clone():null;return pt(qt,br,rr)}else return R(new or(qt.statusText,qt.status,_.url))}).catch(function(qt){qt.code!==20&&R(new Error(qt.message))})}},pt=function(St,Rt,jt){(_.type==="arrayBuffer"?St.arrayBuffer():_.type==="json"?St.json():St.text()).then(function(rr){we||(Rt&&jt&&ot(ae,Rt,jt),ve=!0,R(null,rr,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(rr){we||R(new Error(rr.message))})};return Ee?Wt(ae,Ke):Ke(null,null),{cancel:function(){we=!0,ve||U.abort()}}}function Ct(_,R){var U=new i.XMLHttpRequest;U.open(_.method||"GET",_.url,!0),_.type==="arrayBuffer"&&(U.responseType="arraybuffer");for(var ae in _.headers)U.setRequestHeader(ae,_.headers[ae]);return _.type==="json"&&(U.responseType="text",U.setRequestHeader("Accept","application/json")),U.withCredentials=_.credentials==="include",U.onerror=function(){R(new Error(U.statusText))},U.onload=function(){if((U.status>=200&&U.status<300||U.status===0)&&U.response!==null){var ve=U.response;if(_.type==="json")try{ve=JSON.parse(U.response)}catch(we){return R(we)}R(null,ve,U.getResponseHeader("Cache-Control"),U.getResponseHeader("Expires"))}else R(new or(U.statusText,U.status,_.url))},U.send(_.body),{cancel:function(){return U.abort()}}}var Dt=function(_,R){if(!lt(_.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return bt(_,R);if(J()&&self.worker&&self.worker.actor){var U=!0;return self.worker.actor.send("getResource",_,R,void 0,U)}}return Ct(_,R)},Ht=function(_,R){return Dt(x(_,{type:"json"}),R)},Bt=function(_,R){return Dt(x(_,{type:"arrayBuffer"}),R)},Ut=function(_,R){return Dt(x(_,{method:"POST"}),R)};function Jt(_){var R=i.document.createElement("a");return R.href=_,R.protocol===i.document.location.protocol&&R.host===i.document.location.host}var cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function hr(_,R,U,ae){var ve=new i.Image,we=i.URL;ve.onload=function(){R(null,ve),we.revokeObjectURL(ve.src),ve.onload=null,i.requestAnimationFrame(function(){ve.src=cr})},ve.onerror=function(){return R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ee=new i.Blob([new Uint8Array(_)],{type:"image/png"});ve.cacheControl=U,ve.expires=ae,ve.src=_.byteLength?we.createObjectURL(Ee):cr}function pr(_,R){var U=new i.Blob([new Uint8Array(_)],{type:"image/png"});i.createImageBitmap(U).then(function(ae){R(null,ae)}).catch(function(ae){R(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,Ue,Ot=function(){Ye=[],Ue=0};Ot();var It=function(_,R){if(fe.supported&&(_.headers||(_.headers={}),_.headers.accept="image/webp,*/*"),Ue>=te.MAX_PARALLEL_IMAGE_REQUESTS){var U={requestParameters:_,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(U),U}Ue++;var ae=!1,ve=function(){if(!ae)for(ae=!0,Ue--;Ye.length&&Ue<te.MAX_PARALLEL_IMAGE_REQUESTS;){var Ee=Ye.shift(),Ke=Ee.requestParameters,pt=Ee.callback,St=Ee.cancelled;St||(Ee.cancel=It(Ke,pt).cancel)}},we=Bt(_,function(Ee,Ke,pt,St){ve(),Ee?R(Ee):Ke&&(Kt()?pr(Ke,R):hr(Ke,R,pt,St))});return{cancel:function(){we.cancel(),ve()}}},Qt=function(_,R){var U=i.document.createElement("video");U.muted=!0,U.onloadstart=function(){R(null,U)};for(var ae=0;ae<_.length;ae++){var ve=i.document.createElement("source");Jt(_[ae])||(U.crossOrigin="Anonymous"),ve.src=_[ae],U.appendChild(ve)}return{cancel:function(){}}};function lr(_,R,U){var ae=U[_]&&U[_].indexOf(R)!==-1;ae||(U[_]=U[_]||[],U[_].push(R))}function fr(_,R,U){if(U&&U[_]){var ae=U[_].indexOf(R);ae!==-1&&U[_].splice(ae,1)}}var er=function(R,U){U===void 0&&(U={}),x(this,U),this.type=R},Nt=function(_){function R(U,ae){ae===void 0&&(ae={}),_.call(this,"error",x({error:U},ae))}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(er),ir=function(){};ir.prototype.on=function(R,U){return this._listeners=this._listeners||{},lr(R,U,this._listeners),this},ir.prototype.off=function(R,U){return fr(R,U,this._listeners),fr(R,U,this._oneTimeListeners),this},ir.prototype.once=function(R,U){return this._oneTimeListeners=this._oneTimeListeners||{},lr(R,U,this._oneTimeListeners),this},ir.prototype.fire=function(R,U){typeof R=="string"&&(R=new er(R,U||{}));var ae=R.type;if(this.listens(ae)){R.target=this;for(var ve=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],we=0,Ee=ve;we<Ee.length;we+=1){var Ke=Ee[we];Ke.call(this,R)}for(var pt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],St=0,Rt=pt;St<Rt.length;St+=1){var jt=Rt[St];fr(ae,jt,this._oneTimeListeners),jt.call(this,R)}var rr=this._eventedParent;rr&&(x(R,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),rr.fire(R))}else R instanceof Nt&&console.error(R.error);return this},ir.prototype.listens=function(R){return this._listeners&&this._listeners[R]&&this._listeners[R].length>0||this._oneTimeListeners&&this._oneTimeListeners[R]&&this._oneTimeListeners[R].length>0||this._eventedParent&&this._eventedParent.listens(R)},ir.prototype.setEventedParent=function(R,U){return this._eventedParent=R,this._eventedParentData=U,this};var vr=8,xr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},dr={"*":{type:"source"}},Hr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Rr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},an={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},tn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Sn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},zr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Yr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Or={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ln={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},fn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Vn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ia={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ya={type:"array",value:"*"},wa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Gn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Qn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},mr={type:"array",value:"*",minimum:1},en={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Jr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],vn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},On={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},bn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},An={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Fn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},$n={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ha={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Mr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Fr={"*":{type:"string"}},Ar={$version:vr,$root:xr,sources:dr,source:Hr,source_vector:Pr,source_raster:Rr,source_raster_dem:an,source_geojson:tn,source_video:Sn,source_image:Tn,layer:Tr,layout:zr,layout_background:Yr,layout_fill:Or,layout_circle:ln,layout_heatmap:fn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Mn,layout_symbol:Pn,layout_raster:Vn,layout_hillshade:ia,filter:ya,filter_operator:wa,geometry_type:Gn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Qn,expression:mr,light:en,paint:Jr,paint_fill:vn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:On,paint_circle:bn,paint_heatmap:An,paint_symbol:Fn,paint_raster:$n,paint_hillshade:ha,paint_background:Ia,transition:Mr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Fr},Nr=function(R,U,ae,ve){this.message=(R?R+": ":"")+ae,ve&&(this.identifier=ve),U!=null&&U.__line__&&(this.line=U.__line__)};function mn(_){var R=_.key,U=_.value;return U?[new Nr(R,U,"constants have been deprecated as of v8")]:[]}function Rn(_){for(var R=[],U=arguments.length-1;U-- >0;)R[U]=arguments[U+1];for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];for(var Ee in we)_[Ee]=we[Ee]}return _}function gn(_){return _ instanceof Number||_ instanceof String||_ instanceof Boolean?_.valueOf():_}function un(_){if(Array.isArray(_))return _.map(un);if(_ instanceof Object&&!(_ instanceof Number||_ instanceof String||_ instanceof Boolean)){var R={};for(var U in _)R[U]=un(_[U]);return R}return gn(_)}var Er=function(_){function R(U,ae){_.call(this,ae),this.message=ae,this.key=U}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(Error),Zr=function(R,U){U===void 0&&(U=[]),this.parent=R,this.bindings={};for(var ae=0,ve=U;ae<ve.length;ae+=1){var we=ve[ae],Ee=we[0],Ke=we[1];this.bindings[Ee]=Ke}};Zr.prototype.concat=function(R){return new Zr(this,R)},Zr.prototype.get=function(R){if(this.bindings[R])return this.bindings[R];if(this.parent)return this.parent.get(R);throw new Error(R+" not found in scope.")},Zr.prototype.has=function(R){return this.bindings[R]?!0:this.parent?this.parent.has(R):!1};var Gr={kind:"null"},qr={kind:"number"},wn={kind:"string"},zn={kind:"boolean"},En={kind:"color"},Un={kind:"object"},Nn={kind:"value"},va={kind:"error"},sa={kind:"collator"},ga={kind:"formatted"},_a={kind:"resolvedImage"};function gi(_,R){return{kind:"array",itemType:_,N:R}}function ai(_){if(_.kind==="array"){var R=ai(_.itemType);return typeof _.N=="number"?"array<"+R+", "+_.N+">":_.itemType.kind==="value"?"array":"array<"+R+">"}else return _.kind}var ko=[Gr,qr,wn,zn,En,ga,Un,gi(Nn),_a];function Co(_,R){if(R.kind==="error")return null;if(_.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!Co(_.itemType,R.itemType))&&(typeof _.N!="number"||_.N===R.N))return null}else{if(_.kind===R.kind)return null;if(_.kind==="value")for(var U=0,ae=ko;U<ae.length;U+=1){var ve=ae[U];if(!Co(ve,R))return null}}return"Expected "+ai(_)+" but found "+ai(R)+" instead."}function to(_,R){return R.some(function(U){return U.kind===_.kind})}function Sl(_,R){return R.some(function(U){return U==="null"?_===null:U==="array"?Array.isArray(_):U==="object"?_&&!Array.isArray(_)&&typeof _=="object":U===typeof _})}var af=L(function(_,R){var U={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(St){return St=Math.round(St),St<0?0:St>255?255:St}function ve(St){return St<0?0:St>1?1:St}function we(St){return St[St.length-1]==="%"?ae(parseFloat(St)/100*255):ae(parseInt(St))}function Ee(St){return St[St.length-1]==="%"?ve(parseFloat(St)/100):ve(parseFloat(St))}function Ke(St,Rt,jt){return jt<0?jt+=1:jt>1&&(jt-=1),jt*6<1?St+(Rt-St)*jt*6:jt*2<1?Rt:jt*3<2?St+(Rt-St)*(2/3-jt)*6:St}function pt(St){var Rt=St.replace(/ /g,"").toLowerCase();if(Rt in U)return U[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var jt=parseInt(Rt.substr(1),16);return jt>=0&&jt<=4095?[(jt&3840)>>4|(jt&3840)>>8,jt&240|(jt&240)>>4,jt&15|(jt&15)<<4,1]:null}else if(Rt.length===7){var jt=parseInt(Rt.substr(1),16);return jt>=0&&jt<=16777215?[(jt&16711680)>>16,(jt&65280)>>8,jt&255,1]:null}return null}var rr=Rt.indexOf("("),qt=Rt.indexOf(")");if(rr!==-1&&qt+1===Rt.length){var br=Rt.substr(0,rr),Br=Rt.substr(rr+1,qt-(rr+1)).split(","),cn=1;switch(br){case"rgba":if(Br.length!==4)return null;cn=Ee(Br.pop());case"rgb":return Br.length!==3?null:[we(Br[0]),we(Br[1]),we(Br[2]),cn];case"hsla":if(Br.length!==4)return null;cn=Ee(Br.pop());case"hsl":if(Br.length!==3)return null;var nn=(parseFloat(Br[0])%360+360)%360/360,Ln=Ee(Br[1]),yn=Ee(Br[2]),Cn=yn<=.5?yn*(Ln+1):yn+Ln-yn*Ln,kn=yn*2-Cn;return[ae(Ke(kn,Cn,nn+1/3)*255),ae(Ke(kn,Cn,nn)*255),ae(Ke(kn,Cn,nn-1/3)*255),cn];default:return null}}return null}try{R.parseCSSColor=pt}catch{}}),Vf=af.parseCSSColor,ti=function(R,U,ae,ve){ve===void 0&&(ve=1),this.r=R,this.g=U,this.b=ae,this.a=ve};ti.parse=function(R){if(R){if(R instanceof ti)return R;if(typeof R=="string"){var U=Vf(R);if(U)return new ti(U[0]/255*U[3],U[1]/255*U[3],U[2]/255*U[3],U[3])}}},ti.prototype.toString=function(){var R=this.toArray(),U=R[0],ae=R[1],ve=R[2],we=R[3];return"rgba("+Math.round(U)+","+Math.round(ae)+","+Math.round(ve)+","+we+")"},ti.prototype.toArray=function(){var R=this,U=R.r,ae=R.g,ve=R.b,we=R.a;return we===0?[0,0,0,0]:[U*255/we,ae*255/we,ve*255/we,we]},ti.black=new ti(0,0,0,1),ti.white=new ti(1,1,1,1),ti.transparent=new ti(0,0,0,0),ti.red=new ti(1,0,0,1);var eu=function(R,U,ae){R?this.sensitivity=U?"variant":"case":this.sensitivity=U?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};eu.prototype.compare=function(R,U){return this.collator.compare(R,U)},eu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var of=function(R,U,ae,ve,we){this.text=R,this.image=U,this.scale=ae,this.fontStack=ve,this.textColor=we},Ki=function(R){this.sections=R};Ki.fromString=function(R){return new Ki([new of(R,null,null,null,null)])},Ki.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(R){return R.text.length!==0||R.image&&R.image.name.length!==0})},Ki.factory=function(R){return R instanceof Ki?R:Ki.fromString(R)},Ki.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(R){return R.text}).join("")},Ki.prototype.serialize=function(){for(var R=["format"],U=0,ae=this.sections;U<ae.length;U+=1){var ve=ae[U];if(ve.image){R.push(["image",ve.image.name]);continue}R.push(ve.text);var we={};ve.fontStack&&(we["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(we["font-scale"]=ve.scale),ve.textColor&&(we["text-color"]=["rgba"].concat(ve.textColor.toArray())),R.push(we)}return R};var bo=function(R){this.name=R.name,this.available=R.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(R){return R?new bo({name:R,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function Ml(_,R,U,ae){if(!(typeof _=="number"&&_>=0&&_<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof U=="number"&&U>=0&&U<=255)){var ve=typeof ae=="number"?[_,R,U,ae]:[_,R,U];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[_,R,U,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Iu(_){if(_===null)return!0;if(typeof _=="string")return!0;if(typeof _=="boolean")return!0;if(typeof _=="number")return!0;if(_ instanceof ti)return!0;if(_ instanceof eu)return!0;if(_ instanceof Ki)return!0;if(_ instanceof bo)return!0;if(Array.isArray(_)){for(var R=0,U=_;R<U.length;R+=1){var ae=U[R];if(!Iu(ae))return!1}return!0}else if(typeof _=="object"){for(var ve in _)if(!Iu(_[ve]))return!1;return!0}else return!1}function Ii(_){if(_===null)return Gr;if(typeof _=="string")return wn;if(typeof _=="boolean")return zn;if(typeof _=="number")return qr;if(_ instanceof ti)return En;if(_ instanceof eu)return sa;if(_ instanceof Ki)return ga;if(_ instanceof bo)return _a;if(Array.isArray(_)){for(var R=_.length,U,ae=0,ve=_;ae<ve.length;ae+=1){var we=ve[ae],Ee=Ii(we);if(!U)U=Ee;else{if(U===Ee)continue;U=Nn;break}}return gi(U||Nn,R)}else return Un}function El(_){var R=typeof _;return _===null?"":R==="string"||R==="number"||R==="boolean"?String(_):_ instanceof ti||_ instanceof Ki||_ instanceof bo?_.toString():JSON.stringify(_)}var Oi=function(R,U){this.type=R,this.value=U};Oi.parse=function(R,U){if(R.length!==2)return U.error("'literal' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(!Iu(R[1]))return U.error("invalid value");var ae=R[1],ve=Ii(ae),we=U.expectedType;return ve.kind==="array"&&ve.N===0&&we&&we.kind==="array"&&(typeof we.N!="number"||we.N===0)&&(ve=we),new Oi(ve,ae)},Oi.prototype.evaluate=function(){return this.value},Oi.prototype.eachChild=function(){},Oi.prototype.outputDefined=function(){return!0},Oi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ti?["rgba"].concat(this.value.toArray()):this.value instanceof Ki?this.value.serialize():this.value};var Hi=function(R){this.name="ExpressionEvaluationError",this.message=R};Hi.prototype.toJSON=function(){return this.message};var Cl={string:wn,number:qr,boolean:zn,object:Un},ro=function(R,U){this.type=R,this.args=U};ro.parse=function(R,U){if(R.length<2)return U.error("Expected at least one argument.");var ae=1,ve,we=R[0];if(we==="array"){var Ee;if(R.length>2){var Ke=R[1];if(typeof Ke!="string"||!(Ke in Cl)||Ke==="object")return U.error('The item type argument of "array" must be one of string, number, boolean',1);Ee=Cl[Ke],ae++}else Ee=Nn;var pt;if(R.length>3){if(R[2]!==null&&(typeof R[2]!="number"||R[2]<0||R[2]!==Math.floor(R[2])))return U.error('The length argument to "array" must be a positive integer literal',2);pt=R[2],ae++}ve=gi(Ee,pt)}else ve=Cl[we];for(var St=[];ae<R.length;ae++){var Rt=U.parse(R[ae],ae,Nn);if(!Rt)return null;St.push(Rt)}return new ro(ve,St)},ro.prototype.evaluate=function(R){for(var U=0;U<this.args.length;U++){var ae=this.args[U].evaluate(R),ve=Co(this.type,Ii(ae));if(ve){if(U===this.args.length-1)throw new Hi("Expected value to be of type "+ai(this.type)+", but found "+ai(Ii(ae))+" instead.")}else return ae}return null},ro.prototype.eachChild=function(R){this.args.forEach(R)},ro.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},ro.prototype.serialize=function(){var R=this.type,U=[R.kind];if(R.kind==="array"){var ae=R.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){U.push(ae.kind);var ve=R.N;(typeof ve=="number"||this.args.length>1)&&U.push(ve)}}return U.concat(this.args.map(function(we){return we.serialize()}))};var no=function(R){this.type=ga,this.sections=R};no.parse=function(R,U){if(R.length<2)return U.error("Expected at least one argument.");var ae=R[1];if(!Array.isArray(ae)&&typeof ae=="object")return U.error("First argument must be an image or text section.");for(var ve=[],we=!1,Ee=1;Ee<=R.length-1;++Ee){var Ke=R[Ee];if(we&&typeof Ke=="object"&&!Array.isArray(Ke)){we=!1;var pt=null;if(Ke["font-scale"]&&(pt=U.parse(Ke["font-scale"],1,qr),!pt))return null;var St=null;if(Ke["text-font"]&&(St=U.parse(Ke["text-font"],1,gi(wn)),!St))return null;var Rt=null;if(Ke["text-color"]&&(Rt=U.parse(Ke["text-color"],1,En),!Rt))return null;var jt=ve[ve.length-1];jt.scale=pt,jt.font=St,jt.textColor=Rt}else{var rr=U.parse(R[Ee],1,Nn);if(!rr)return null;var qt=rr.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return U.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");we=!0,ve.push({content:rr,scale:null,font:null,textColor:null})}}return new no(ve)},no.prototype.evaluate=function(R){var U=function(ae){var ve=ae.content.evaluate(R);return Ii(ve)===_a?new of("",ve,null,null,null):new of(El(ve),null,ae.scale?ae.scale.evaluate(R):null,ae.font?ae.font.evaluate(R).join(","):null,ae.textColor?ae.textColor.evaluate(R):null)};return new Ki(this.sections.map(U))},no.prototype.eachChild=function(R){for(var U=0,ae=this.sections;U<ae.length;U+=1){var ve=ae[U];R(ve.content),ve.scale&&R(ve.scale),ve.font&&R(ve.font),ve.textColor&&R(ve.textColor)}},no.prototype.outputDefined=function(){return!1},no.prototype.serialize=function(){for(var R=["format"],U=0,ae=this.sections;U<ae.length;U+=1){var ve=ae[U];R.push(ve.content.serialize());var we={};ve.scale&&(we["font-scale"]=ve.scale.serialize()),ve.font&&(we["text-font"]=ve.font.serialize()),ve.textColor&&(we["text-color"]=ve.textColor.serialize()),R.push(we)}return R};var zo=function(R){this.type=_a,this.input=R};zo.parse=function(R,U){if(R.length!==2)return U.error("Expected two arguments.");var ae=U.parse(R[1],1,wn);return ae?new zo(ae):U.error("No image name provided.")},zo.prototype.evaluate=function(R){var U=this.input.evaluate(R),ae=bo.fromString(U);return ae&&R.availableImages&&(ae.available=R.availableImages.indexOf(U)>-1),ae},zo.prototype.eachChild=function(R){R(this.input)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){return["image",this.input.serialize()]};var Hf={"to-boolean":zn,"to-color":En,"to-number":qr,"to-string":wn},Lo=function(R,U){this.type=R,this.args=U};Lo.parse=function(R,U){if(R.length<2)return U.error("Expected at least one argument.");var ae=R[0];if((ae==="to-boolean"||ae==="to-string")&&R.length!==2)return U.error("Expected one argument.");for(var ve=Hf[ae],we=[],Ee=1;Ee<R.length;Ee++){var Ke=U.parse(R[Ee],Ee,Nn);if(!Ke)return null;we.push(Ke)}return new Lo(ve,we)},Lo.prototype.evaluate=function(R){if(this.type.kind==="boolean")return!!this.args[0].evaluate(R);if(this.type.kind==="color"){for(var U,ae,ve=0,we=this.args;ve<we.length;ve+=1){var Ee=we[ve];if(U=Ee.evaluate(R),ae=null,U instanceof ti)return U;if(typeof U=="string"){var Ke=R.parseColor(U);if(Ke)return Ke}else if(Array.isArray(U)&&(U.length<3||U.length>4?ae="Invalid rbga value "+JSON.stringify(U)+": expected an array containing either three or four numeric values.":ae=Ml(U[0],U[1],U[2],U[3]),!ae))return new ti(U[0]/255,U[1]/255,U[2]/255,U[3])}throw new Hi(ae||"Could not parse color from value '"+(typeof U=="string"?U:String(JSON.stringify(U)))+"'")}else if(this.type.kind==="number"){for(var pt=null,St=0,Rt=this.args;St<Rt.length;St+=1){var jt=Rt[St];if(pt=jt.evaluate(R),pt===null)return 0;var rr=Number(pt);if(!isNaN(rr))return rr}throw new Hi("Could not convert "+JSON.stringify(pt)+" to number.")}else return this.type.kind==="formatted"?Ki.fromString(El(this.args[0].evaluate(R))):this.type.kind==="resolvedImage"?bo.fromString(El(this.args[0].evaluate(R))):El(this.args[0].evaluate(R))},Lo.prototype.eachChild=function(R){this.args.forEach(R)},Lo.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Lo.prototype.serialize=function(){if(this.type.kind==="formatted")return new no([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new zo(this.args[0]).serialize();var R=["to-"+this.type.kind];return this.eachChild(function(U){R.push(U.serialize())}),R};var jc=["Unknown","Point","LineString","Polygon"],cs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};cs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},cs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?jc[this.feature.type]:this.feature.type:null},cs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},cs.prototype.canonicalID=function(){return this.canonical},cs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},cs.prototype.parseColor=function(R){var U=this._parseColorCache[R];return U||(U=this._parseColorCache[R]=ti.parse(R)),U};var Ji=function(R,U,ae,ve){this.name=R,this.type=U,this._evaluate=ae,this.args=ve};Ji.prototype.evaluate=function(R){return this._evaluate(R,this.args)},Ji.prototype.eachChild=function(R){this.args.forEach(R)},Ji.prototype.outputDefined=function(){return!1},Ji.prototype.serialize=function(){return[this.name].concat(this.args.map(function(R){return R.serialize()}))},Ji.parse=function(R,U){var ae,ve=R[0],we=Ji.definitions[ve];if(!we)return U.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ee=Array.isArray(we)?we[0]:we.type,Ke=Array.isArray(we)?[[we[1],we[2]]]:we.overloads,pt=Ke.filter(function(Aa){var Ca=Aa[0];return!Array.isArray(Ca)||Ca.length===R.length-1}),St=null,Rt=0,jt=pt;Rt<jt.length;Rt+=1){var rr=jt[Rt],qt=rr[0],br=rr[1];St=new vs(U.registry,U.path,null,U.scope);for(var Br=[],cn=!1,nn=1;nn<R.length;nn++){var Ln=R[nn],yn=Array.isArray(qt)?qt[nn-1]:qt.type,Cn=St.parse(Ln,1+Br.length,yn);if(!Cn){cn=!0;break}Br.push(Cn)}if(!cn){if(Array.isArray(qt)&&qt.length!==Br.length){St.error("Expected "+qt.length+" arguments, but found "+Br.length+" instead.");continue}for(var kn=0;kn<Br.length;kn++){var Yn=Array.isArray(qt)?qt[kn]:qt.type,aa=Br[kn];St.concat(kn+1).checkSubtype(Yn,aa.type)}if(St.errors.length===0)return new Ji(ve,Ee,br,Br)}}if(pt.length===1)(ae=U.errors).push.apply(ae,St.errors);else{for(var ta=pt.length?pt:Ke,Ta=ta.map(function(Aa){var Ca=Aa[0];return sf(Ca)}).join(" | "),pa=[],ba=1;ba<R.length;ba++){var Va=U.parse(R[ba],1+pa.length);if(!Va)return null;pa.push(ai(Va.type))}U.error("Expected arguments of type "+Ta+", but found ("+pa.join(", ")+") instead.")}return null},Ji.register=function(R,U){Ji.definitions=U;for(var ae in U)R[ae]=Ji};function sf(_){return Array.isArray(_)?"("+_.map(ai).join(", ")+")":"("+ai(_.type)+"...)"}var Bs=function(R,U,ae){this.type=sa,this.locale=ae,this.caseSensitive=R,this.diacriticSensitive=U};Bs.parse=function(R,U){if(R.length!==2)return U.error("Expected one argument.");var ae=R[1];if(typeof ae!="object"||Array.isArray(ae))return U.error("Collator options argument must be an object.");var ve=U.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,zn);if(!ve)return null;var we=U.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,zn);if(!we)return null;var Ee=null;return ae.locale&&(Ee=U.parse(ae.locale,1,wn),!Ee)?null:new Bs(ve,we,Ee)},Bs.prototype.evaluate=function(R){return new eu(this.caseSensitive.evaluate(R),this.diacriticSensitive.evaluate(R),this.locale?this.locale.evaluate(R):null)},Bs.prototype.eachChild=function(R){R(this.caseSensitive),R(this.diacriticSensitive),this.locale&&R(this.locale)},Bs.prototype.outputDefined=function(){return!1},Bs.prototype.serialize=function(){var R={};return R["case-sensitive"]=this.caseSensitive.serialize(),R["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(R.locale=this.locale.serialize()),["collator",R]};var hs=8192;function lf(_,R){_[0]=Math.min(_[0],R[0]),_[1]=Math.min(_[1],R[1]),_[2]=Math.max(_[2],R[0]),_[3]=Math.max(_[3],R[1])}function Gf(_){return(180+_)/360}function Xc(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function ku(_,R){return!(_[0]<=R[0]||_[2]>=R[2]||_[1]<=R[1]||_[3]>=R[3])}function Zc(_,R){var U=Gf(_[0]),ae=Xc(_[1]),ve=Math.pow(2,R.z);return[Math.round(U*ve*hs),Math.round(ae*ve*hs)]}function Kc(_,R,U){var ae=_[0]-R[0],ve=_[1]-R[1],we=_[0]-U[0],Ee=_[1]-U[1];return ae*Ee-we*ve===0&&ae*we<=0&&ve*Ee<=0}function Jc(_,R,U){return R[1]>_[1]!=U[1]>_[1]&&_[0]<(U[0]-R[0])*(_[1]-R[1])/(U[1]-R[1])+R[0]}function uf(_,R){for(var U=!1,ae=0,ve=R.length;ae<ve;ae++)for(var we=R[ae],Ee=0,Ke=we.length;Ee<Ke-1;Ee++){if(Kc(_,we[Ee],we[Ee+1]))return!1;Jc(_,we[Ee],we[Ee+1])&&(U=!U)}return U}function Qc(_,R){for(var U=0;U<R.length;U++)if(uf(_,R[U]))return!0;return!1}function $c(_,R){return _[0]*R[1]-_[1]*R[0]}function Wf(_,R,U,ae){var ve=_[0]-U[0],we=_[1]-U[1],Ee=R[0]-U[0],Ke=R[1]-U[1],pt=ae[0]-U[0],St=ae[1]-U[1],Rt=ve*St-pt*we,jt=Ee*St-pt*Ke;return Rt>0&&jt<0||Rt<0&&jt>0}function Yf(_,R,U,ae){var ve=[R[0]-_[0],R[1]-_[1]],we=[ae[0]-U[0],ae[1]-U[1]];return $c(we,ve)===0?!1:!!(Wf(_,R,U,ae)&&Wf(U,ae,_,R))}function al(_,R,U){for(var ae=0,ve=U;ae<ve.length;ae+=1)for(var we=ve[ae],Ee=0;Ee<we.length-1;++Ee)if(Yf(_,R,we[Ee],we[Ee+1]))return!0;return!1}function Ll(_,R){for(var U=0;U<_.length;++U)if(!uf(_[U],R))return!1;for(var ae=0;ae<_.length-1;++ae)if(al(_[ae],_[ae+1],R))return!1;return!0}function tu(_,R){for(var U=0;U<R.length;U++)if(Ll(_,R[U]))return!0;return!1}function ru(_,R,U){for(var ae=[],ve=0;ve<_.length;ve++){for(var we=[],Ee=0;Ee<_[ve].length;Ee++){var Ke=Zc(_[ve][Ee],U);lf(R,Ke),we.push(Ke)}ae.push(we)}return ae}function jf(_,R,U){for(var ae=[],ve=0;ve<_.length;ve++){var we=ru(_[ve],R,U);ae.push(we)}return ae}function Ms(_,R,U,ae){if(_[0]<U[0]||_[0]>U[2]){var ve=ae*.5,we=_[0]-U[0]>ve?-ae:U[0]-_[0]>ve?ae:0;we===0&&(we=_[0]-U[2]>ve?-ae:U[2]-_[0]>ve?ae:0),_[0]+=we}lf(R,_)}function qc(_){_[0]=_[1]=1/0,_[2]=_[3]=-1/0}function zu(_,R,U,ae){for(var ve=Math.pow(2,ae.z)*hs,we=[ae.x*hs,ae.y*hs],Ee=[],Ke=0,pt=_;Ke<pt.length;Ke+=1)for(var St=pt[Ke],Rt=0,jt=St;Rt<jt.length;Rt+=1){var rr=jt[Rt],qt=[rr.x+we[0],rr.y+we[1]];Ms(qt,R,U,ve),Ee.push(qt)}return Ee}function Xf(_,R,U,ae){for(var ve=Math.pow(2,ae.z)*hs,we=[ae.x*hs,ae.y*hs],Ee=[],Ke=0,pt=_;Ke<pt.length;Ke+=1){for(var St=pt[Ke],Rt=[],jt=0,rr=St;jt<rr.length;jt+=1){var qt=rr[jt],br=[qt.x+we[0],qt.y+we[1]];lf(R,br),Rt.push(br)}Ee.push(Rt)}if(R[2]-R[0]<=ve/2){qc(R);for(var Br=0,cn=Ee;Br<cn.length;Br+=1)for(var nn=cn[Br],Ln=0,yn=nn;Ln<yn.length;Ln+=1){var Cn=yn[Ln];Ms(Cn,R,U,ve)}}return Ee}function Zf(_,R){var U=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=_.canonicalID();if(R.type==="Polygon"){var we=ru(R.coordinates,ae,ve),Ee=zu(_.geometry(),U,ae,ve);if(!ku(U,ae))return!1;for(var Ke=0,pt=Ee;Ke<pt.length;Ke+=1){var St=pt[Ke];if(!uf(St,we))return!1}}if(R.type==="MultiPolygon"){var Rt=jf(R.coordinates,ae,ve),jt=zu(_.geometry(),U,ae,ve);if(!ku(U,ae))return!1;for(var rr=0,qt=jt;rr<qt.length;rr+=1){var br=qt[rr];if(!Qc(br,Rt))return!1}}return!0}function Ou(_,R){var U=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=_.canonicalID();if(R.type==="Polygon"){var we=ru(R.coordinates,ae,ve),Ee=Xf(_.geometry(),U,ae,ve);if(!ku(U,ae))return!1;for(var Ke=0,pt=Ee;Ke<pt.length;Ke+=1){var St=pt[Ke];if(!Ll(St,we))return!1}}if(R.type==="MultiPolygon"){var Rt=jf(R.coordinates,ae,ve),jt=Xf(_.geometry(),U,ae,ve);if(!ku(U,ae))return!1;for(var rr=0,qt=jt;rr<qt.length;rr+=1){var br=qt[rr];if(!tu(br,Rt))return!1}}return!0}var Zo=function(R,U){this.type=zn,this.geojson=R,this.geometries=U};Zo.parse=function(R,U){if(R.length!==2)return U.error("'within' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(Iu(R[1])){var ae=R[1];if(ae.type==="FeatureCollection")for(var ve=0;ve<ae.features.length;++ve){var we=ae.features[ve].geometry.type;if(we==="Polygon"||we==="MultiPolygon")return new Zo(ae,ae.features[ve].geometry)}else if(ae.type==="Feature"){var Ee=ae.geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new Zo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new Zo(ae,ae)}return U.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Zo.prototype.evaluate=function(R){if(R.geometry()!=null&&R.canonicalID()!=null){if(R.geometryType()==="Point")return Zf(R,this.geometries);if(R.geometryType()==="LineString")return Ou(R,this.geometries)}return!1},Zo.prototype.eachChild=function(){},Zo.prototype.outputDefined=function(){return!0},Zo.prototype.serialize=function(){return["within",this.geojson]};function Pl(_){if(_ instanceof Ji){if(_.name==="get"&&_.args.length===1)return!1;if(_.name==="feature-state")return!1;if(_.name==="has"&&_.args.length===1)return!1;if(_.name==="properties"||_.name==="geometry-type"||_.name==="id")return!1;if(/^filter-/.test(_.name))return!1}if(_ instanceof Zo)return!1;var R=!0;return _.eachChild(function(U){R&&!Pl(U)&&(R=!1)}),R}function il(_){if(_ instanceof Ji&&_.name==="feature-state")return!1;var R=!0;return _.eachChild(function(U){R&&!il(U)&&(R=!1)}),R}function nu(_,R){if(_ instanceof Ji&&R.indexOf(_.name)>=0)return!1;var U=!0;return _.eachChild(function(ae){U&&!nu(ae,R)&&(U=!1)}),U}var Us=function(R,U){this.type=U.type,this.name=R,this.boundExpression=U};Us.parse=function(R,U){if(R.length!==2||typeof R[1]!="string")return U.error("'var' expression requires exactly one string literal argument.");var ae=R[1];return U.scope.has(ae)?new Us(ae,U.scope.get(ae)):U.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Us.prototype.evaluate=function(R){return this.boundExpression.evaluate(R)},Us.prototype.eachChild=function(){},Us.prototype.outputDefined=function(){return!1},Us.prototype.serialize=function(){return["var",this.name]};var vs=function(R,U,ae,ve,we){U===void 0&&(U=[]),ve===void 0&&(ve=new Zr),we===void 0&&(we=[]),this.registry=R,this.path=U,this.key=U.map(function(Ee){return"["+Ee+"]"}).join(""),this.scope=ve,this.errors=we,this.expectedType=ae};vs.prototype.parse=function(R,U,ae,ve,we){return we===void 0&&(we={}),U?this.concat(U,ae,ve)._parse(R,we):this._parse(R,we)},vs.prototype._parse=function(R,U){(R===null||typeof R=="string"||typeof R=="boolean"||typeof R=="number")&&(R=["literal",R]);function ae(Rt,jt,rr){return rr==="assert"?new ro(jt,[Rt]):rr==="coerce"?new Lo(jt,[Rt]):Rt}if(Array.isArray(R)){if(R.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=R[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var we=this.registry[ve];if(we){var Ee=we.parse(R,this);if(!Ee)return null;if(this.expectedType){var Ke=this.expectedType,pt=Ee.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&pt.kind==="value")Ee=ae(Ee,Ke,U.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(pt.kind==="value"||pt.kind==="string"))Ee=ae(Ee,Ke,U.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,pt))return null}if(!(Ee instanceof Oi)&&Ee.type.kind!=="resolvedImage"&&ff(Ee)){var St=new cs;try{Ee=new Oi(Ee.type,Ee.evaluate(St))}catch(Rt){return this.error(Rt.message),null}}return Ee}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof R>"u"?this.error("'undefined' value invalid. Use null instead."):typeof R=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof R+" instead.")},vs.prototype.concat=function(R,U,ae){var ve=typeof R=="number"?this.path.concat(R):this.path,we=ae?this.scope.concat(ae):this.scope;return new vs(this.registry,ve,U||null,we,this.errors)},vs.prototype.error=function(R){for(var U=[],ae=arguments.length-1;ae-- >0;)U[ae]=arguments[ae+1];var ve=""+this.key+U.map(function(we){return"["+we+"]"}).join("");this.errors.push(new Er(ve,R))},vs.prototype.checkSubtype=function(R,U){var ae=Co(R,U);return ae&&this.error(ae),ae};function ff(_){if(_ instanceof Us)return ff(_.boundExpression);if(_ instanceof Ji&&_.name==="error")return!1;if(_ instanceof Bs)return!1;if(_ instanceof Zo)return!1;var R=_ instanceof Lo||_ instanceof ro,U=!0;return _.eachChild(function(ae){R?U=U&&ff(ae):U=U&&ae instanceof Oi}),U?Pl(_)&&nu(_,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function _l(_,R){for(var U=_.length-1,ae=0,ve=U,we=0,Ee,Ke;ae<=ve;)if(we=Math.floor((ae+ve)/2),Ee=_[we],Ke=_[we+1],Ee<=R){if(we===U||R<Ke)return we;ae=we+1}else if(Ee>R)ve=we-1;else throw new Hi("Input is not a number.");return 0}var Ko=function(R,U,ae){this.type=R,this.input=U,this.labels=[],this.outputs=[];for(var ve=0,we=ae;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee[0],pt=Ee[1];this.labels.push(Ke),this.outputs.push(pt)}};Ko.parse=function(R,U){if(R.length-1<4)return U.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return U.error("Expected an even number of arguments.");var ae=U.parse(R[1],1,qr);if(!ae)return null;var ve=[],we=null;U.expectedType&&U.expectedType.kind!=="value"&&(we=U.expectedType);for(var Ee=1;Ee<R.length;Ee+=2){var Ke=Ee===1?-1/0:R[Ee],pt=R[Ee+1],St=Ee,Rt=Ee+1;if(typeof Ke!="number")return U.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(ve.length&&ve[ve.length-1][0]>=Ke)return U.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var jt=U.parse(pt,Rt,we);if(!jt)return null;we=we||jt.type,ve.push([Ke,jt])}return new Ko(we,ae,ve)},Ko.prototype.evaluate=function(R){var U=this.labels,ae=this.outputs;if(U.length===1)return ae[0].evaluate(R);var ve=this.input.evaluate(R);if(ve<=U[0])return ae[0].evaluate(R);var we=U.length;if(ve>=U[we-1])return ae[we-1].evaluate(R);var Ee=_l(U,ve);return ae[Ee].evaluate(R)},Ko.prototype.eachChild=function(R){R(this.input);for(var U=0,ae=this.outputs;U<ae.length;U+=1){var ve=ae[U];R(ve)}},Ko.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},Ko.prototype.serialize=function(){for(var R=["step",this.input.serialize()],U=0;U<this.labels.length;U++)U>0&&R.push(this.labels[U]),R.push(this.outputs[U].serialize());return R};function _i(_,R,U){return _*(1-U)+R*U}function cf(_,R,U){return new ti(_i(_.r,R.r,U),_i(_.g,R.g,U),_i(_.b,R.b,U),_i(_.a,R.a,U))}function eh(_,R,U){return _.map(function(ae,ve){return _i(ae,R[ve],U)})}var Fu=Object.freeze({__proto__:null,number:_i,color:cf,array:eh}),Rl=.95047,Dl=1,Po=1.08883,Nu=4/29,Il=6/29,Bu=3*Il*Il,th=Il*Il*Il,Kf=Math.PI/180,hf=180/Math.PI;function vf(_){return _>th?Math.pow(_,.3333333333333333):_/Bu+Nu}function df(_){return _>Il?_*_*_:Bu*(_-Nu)}function kl(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,.4166666666666667)-.055)}function Uu(_){return _/=255,_<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function au(_){var R=Uu(_.r),U=Uu(_.g),ae=Uu(_.b),ve=vf((.4124564*R+.3575761*U+.1804375*ae)/Rl),we=vf((.2126729*R+.7151522*U+.072175*ae)/Dl),Ee=vf((.0193339*R+.119192*U+.9503041*ae)/Po);return{l:116*we-16,a:500*(ve-we),b:200*(we-Ee),alpha:_.a}}function Vu(_){var R=(_.l+16)/116,U=isNaN(_.a)?R:R+_.a/500,ae=isNaN(_.b)?R:R-_.b/200;return R=Dl*df(R),U=Rl*df(U),ae=Po*df(ae),new ti(kl(3.2404542*U-1.5371385*R-.4985314*ae),kl(-.969266*U+1.8760108*R+.041556*ae),kl(.0556434*U-.2040259*R+1.0572252*ae),_.alpha)}function yi(_,R,U){return{l:_i(_.l,R.l,U),a:_i(_.a,R.a,U),b:_i(_.b,R.b,U),alpha:_i(_.alpha,R.alpha,U)}}function Jf(_){var R=au(_),U=R.l,ae=R.a,ve=R.b,we=Math.atan2(ve,ae)*hf;return{h:we<0?we+360:we,c:Math.sqrt(ae*ae+ve*ve),l:U,alpha:_.a}}function Jo(_){var R=_.h*Kf,U=_.c,ae=_.l;return Vu({l:ae,a:Math.cos(R)*U,b:Math.sin(R)*U,alpha:_.alpha})}function Qf(_,R,U){var ae=R-_;return _+U*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function pf(_,R,U){return{h:Qf(_.h,R.h,U),c:_i(_.c,R.c,U),l:_i(_.l,R.l,U),alpha:_i(_.alpha,R.alpha,U)}}var ol={forward:au,reverse:Vu,interpolate:yi},Vs={forward:Jf,reverse:Jo,interpolate:pf},Hu=Object.freeze({__proto__:null,lab:ol,hcl:Vs}),ki=function(R,U,ae,ve,we){this.type=R,this.operator=U,this.interpolation=ae,this.input=ve,this.labels=[],this.outputs=[];for(var Ee=0,Ke=we;Ee<Ke.length;Ee+=1){var pt=Ke[Ee],St=pt[0],Rt=pt[1];this.labels.push(St),this.outputs.push(Rt)}};ki.interpolationFactor=function(R,U,ae,ve){var we=0;if(R.name==="exponential")we=iu(U,R.base,ae,ve);else if(R.name==="linear")we=iu(U,1,ae,ve);else if(R.name==="cubic-bezier"){var Ee=R.controlPoints,Ke=new v(Ee[0],Ee[1],Ee[2],Ee[3]);we=Ke.solve(iu(U,1,ae,ve))}return we},ki.parse=function(R,U){var ae=R[0],ve=R[1],we=R[2],Ee=R.slice(3);if(!Array.isArray(ve)||ve.length===0)return U.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Ke=ve[1];if(typeof Ke!="number")return U.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Ke}}else if(ve[0]==="cubic-bezier"){var pt=ve.slice(1);if(pt.length!==4||pt.some(function(nn){return typeof nn!="number"||nn<0||nn>1}))return U.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:pt}}else return U.error("Unknown interpolation type "+String(ve[0]),1,0);if(R.length-1<4)return U.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return U.error("Expected an even number of arguments.");if(we=U.parse(we,2,qr),!we)return null;var St=[],Rt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Rt=En:U.expectedType&&U.expectedType.kind!=="value"&&(Rt=U.expectedType);for(var jt=0;jt<Ee.length;jt+=2){var rr=Ee[jt],qt=Ee[jt+1],br=jt+3,Br=jt+4;if(typeof rr!="number")return U.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(St.length&&St[St.length-1][0]>=rr)return U.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var cn=U.parse(qt,Br,Rt);if(!cn)return null;Rt=Rt||cn.type,St.push([rr,cn])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?U.error("Type "+ai(Rt)+" is not interpolatable."):new ki(Rt,ae,ve,we,St)},ki.prototype.evaluate=function(R){var U=this.labels,ae=this.outputs;if(U.length===1)return ae[0].evaluate(R);var ve=this.input.evaluate(R);if(ve<=U[0])return ae[0].evaluate(R);var we=U.length;if(ve>=U[we-1])return ae[we-1].evaluate(R);var Ee=_l(U,ve),Ke=U[Ee],pt=U[Ee+1],St=ki.interpolationFactor(this.interpolation,ve,Ke,pt),Rt=ae[Ee].evaluate(R),jt=ae[Ee+1].evaluate(R);return this.operator==="interpolate"?Fu[this.type.kind.toLowerCase()](Rt,jt,St):this.operator==="interpolate-hcl"?Vs.reverse(Vs.interpolate(Vs.forward(Rt),Vs.forward(jt),St)):ol.reverse(ol.interpolate(ol.forward(Rt),ol.forward(jt),St))},ki.prototype.eachChild=function(R){R(this.input);for(var U=0,ae=this.outputs;U<ae.length;U+=1){var ve=ae[U];R(ve)}},ki.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},ki.prototype.serialize=function(){var R;this.interpolation.name==="linear"?R=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?R=["linear"]:R=["exponential",this.interpolation.base]:R=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var U=[this.operator,R,this.input.serialize()],ae=0;ae<this.labels.length;ae++)U.push(this.labels[ae],this.outputs[ae].serialize());return U};function iu(_,R,U,ae){var ve=ae-U,we=_-U;return ve===0?0:R===1?we/ve:(Math.pow(R,we)-1)/(Math.pow(R,ve)-1)}var Qo=function(R,U){this.type=R,this.args=U};Qo.parse=function(R,U){if(R.length<2)return U.error("Expectected at least one argument.");var ae=null,ve=U.expectedType;ve&&ve.kind!=="value"&&(ae=ve);for(var we=[],Ee=0,Ke=R.slice(1);Ee<Ke.length;Ee+=1){var pt=Ke[Ee],St=U.parse(pt,1+we.length,ae,void 0,{typeAnnotation:"omit"});if(!St)return null;ae=ae||St.type,we.push(St)}var Rt=ve&&we.some(function(jt){return Co(ve,jt.type)});return Rt?new Qo(Nn,we):new Qo(ae,we)},Qo.prototype.evaluate=function(R){for(var U=null,ae=0,ve,we=0,Ee=this.args;we<Ee.length;we+=1){var Ke=Ee[we];if(ae++,U=Ke.evaluate(R),U&&U instanceof bo&&!U.available&&(ve||(ve=U.name),U=null,ae===this.args.length&&(U=ve)),U!==null)break}return U},Qo.prototype.eachChild=function(R){this.args.forEach(R)},Qo.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Qo.prototype.serialize=function(){var R=["coalesce"];return this.eachChild(function(U){R.push(U.serialize())}),R};var Es=function(R,U){this.type=U.type,this.bindings=[].concat(R),this.result=U};Es.prototype.evaluate=function(R){return this.result.evaluate(R)},Es.prototype.eachChild=function(R){for(var U=0,ae=this.bindings;U<ae.length;U+=1){var ve=ae[U];R(ve[1])}R(this.result)},Es.parse=function(R,U){if(R.length<4)return U.error("Expected at least 3 arguments, but found "+(R.length-1)+" instead.");for(var ae=[],ve=1;ve<R.length-1;ve+=2){var we=R[ve];if(typeof we!="string")return U.error("Expected string, but found "+typeof we+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(we))return U.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Ee=U.parse(R[ve+1],ve+1);if(!Ee)return null;ae.push([we,Ee])}var Ke=U.parse(R[R.length-1],R.length-1,U.expectedType,ae);return Ke?new Es(ae,Ke):null},Es.prototype.outputDefined=function(){return this.result.outputDefined()},Es.prototype.serialize=function(){for(var R=["let"],U=0,ae=this.bindings;U<ae.length;U+=1){var ve=ae[U],we=ve[0],Ee=ve[1];R.push(we,Ee.serialize())}return R.push(this.result.serialize()),R};var sl=function(R,U,ae){this.type=R,this.index=U,this.input=ae};sl.parse=function(R,U){if(R.length!==3)return U.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ae=U.parse(R[1],1,qr),ve=U.parse(R[2],2,gi(U.expectedType||Nn));if(!ae||!ve)return null;var we=ve.type;return new sl(we.itemType,ae,ve)},sl.prototype.evaluate=function(R){var U=this.index.evaluate(R),ae=this.input.evaluate(R);if(U<0)throw new Hi("Array index out of bounds: "+U+" < 0.");if(U>=ae.length)throw new Hi("Array index out of bounds: "+U+" > "+(ae.length-1)+".");if(U!==Math.floor(U))throw new Hi("Array index must be an integer, but found "+U+" instead.");return ae[U]},sl.prototype.eachChild=function(R){R(this.index),R(this.input)},sl.prototype.outputDefined=function(){return!1},sl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Hs=function(R,U){this.type=zn,this.needle=R,this.haystack=U};Hs.parse=function(R,U){if(R.length!==3)return U.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ae=U.parse(R[1],1,Nn),ve=U.parse(R[2],2,Nn);return!ae||!ve?null:to(ae.type,[zn,wn,qr,Gr,Nn])?new Hs(ae,ve):U.error("Expected first argument to be of type boolean, string, number or null, but found "+ai(ae.type)+" instead")},Hs.prototype.evaluate=function(R){var U=this.needle.evaluate(R),ae=this.haystack.evaluate(R);if(!ae)return!1;if(!Sl(U,["boolean","string","number","null"]))throw new Hi("Expected first argument to be of type boolean, string, number or null, but found "+ai(Ii(U))+" instead.");if(!Sl(ae,["string","array"]))throw new Hi("Expected second argument to be of type array or string, but found "+ai(Ii(ae))+" instead.");return ae.indexOf(U)>=0},Hs.prototype.eachChild=function(R){R(this.needle),R(this.haystack)},Hs.prototype.outputDefined=function(){return!0},Hs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var $o=function(R,U,ae){this.type=qr,this.needle=R,this.haystack=U,this.fromIndex=ae};$o.parse=function(R,U){if(R.length<=2||R.length>=5)return U.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ae=U.parse(R[1],1,Nn),ve=U.parse(R[2],2,Nn);if(!ae||!ve)return null;if(!to(ae.type,[zn,wn,qr,Gr,Nn]))return U.error("Expected first argument to be of type boolean, string, number or null, but found "+ai(ae.type)+" instead");if(R.length===4){var we=U.parse(R[3],3,qr);return we?new $o(ae,ve,we):null}else return new $o(ae,ve)},$o.prototype.evaluate=function(R){var U=this.needle.evaluate(R),ae=this.haystack.evaluate(R);if(!Sl(U,["boolean","string","number","null"]))throw new Hi("Expected first argument to be of type boolean, string, number or null, but found "+ai(Ii(U))+" instead.");if(!Sl(ae,["string","array"]))throw new Hi("Expected second argument to be of type array or string, but found "+ai(Ii(ae))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(R);return ae.indexOf(U,ve)}return ae.indexOf(U)},$o.prototype.eachChild=function(R){R(this.needle),R(this.haystack),this.fromIndex&&R(this.fromIndex)},$o.prototype.outputDefined=function(){return!1},$o.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var R=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),R]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Cs=function(R,U,ae,ve,we,Ee){this.inputType=R,this.type=U,this.input=ae,this.cases=ve,this.outputs=we,this.otherwise=Ee};Cs.parse=function(R,U){if(R.length<5)return U.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if(R.length%2!==1)return U.error("Expected an even number of arguments.");var ae,ve;U.expectedType&&U.expectedType.kind!=="value"&&(ve=U.expectedType);for(var we={},Ee=[],Ke=2;Ke<R.length-1;Ke+=2){var pt=R[Ke],St=R[Ke+1];Array.isArray(pt)||(pt=[pt]);var Rt=U.concat(Ke);if(pt.length===0)return Rt.error("Expected at least one branch label.");for(var jt=0,rr=pt;jt<rr.length;jt+=1){var qt=rr[jt];if(typeof qt!="number"&&typeof qt!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return Rt.error("Numeric branch labels must be integer values.");if(!ae)ae=Ii(qt);else if(Rt.checkSubtype(ae,Ii(qt)))return null;if(typeof we[String(qt)]<"u")return Rt.error("Branch labels must be unique.");we[String(qt)]=Ee.length}var br=U.parse(St,Ke,ve);if(!br)return null;ve=ve||br.type,Ee.push(br)}var Br=U.parse(R[1],1,Nn);if(!Br)return null;var cn=U.parse(R[R.length-1],R.length-1,ve);return!cn||Br.type.kind!=="value"&&U.concat(1).checkSubtype(ae,Br.type)?null:new Cs(ae,ve,Br,we,Ee,cn)},Cs.prototype.evaluate=function(R){var U=this.input.evaluate(R),ae=Ii(U)===this.inputType&&this.outputs[this.cases[U]]||this.otherwise;return ae.evaluate(R)},Cs.prototype.eachChild=function(R){R(this.input),this.outputs.forEach(R),R(this.otherwise)},Cs.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})&&this.otherwise.outputDefined()},Cs.prototype.serialize=function(){for(var R=this,U=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),ve=[],we={},Ee=0,Ke=ae;Ee<Ke.length;Ee+=1){var pt=Ke[Ee],St=we[this.cases[pt]];St===void 0?(we[this.cases[pt]]=ve.length,ve.push([this.cases[pt],[pt]])):ve[St][1].push(pt)}for(var Rt=function(Br){return R.inputType.kind==="number"?Number(Br):Br},jt=0,rr=ve;jt<rr.length;jt+=1){var qt=rr[jt],St=qt[0],br=qt[1];br.length===1?U.push(Rt(br[0])):U.push(br.map(Rt)),U.push(this.outputs[outputIndex$1].serialize())}return U.push(this.otherwise.serialize()),U};var qo=function(R,U,ae){this.type=R,this.branches=U,this.otherwise=ae};qo.parse=function(R,U){if(R.length<4)return U.error("Expected at least 3 arguments, but found only "+(R.length-1)+".");if(R.length%2!==0)return U.error("Expected an odd number of arguments.");var ae;U.expectedType&&U.expectedType.kind!=="value"&&(ae=U.expectedType);for(var ve=[],we=1;we<R.length-1;we+=2){var Ee=U.parse(R[we],we,zn);if(!Ee)return null;var Ke=U.parse(R[we+1],we+1,ae);if(!Ke)return null;ve.push([Ee,Ke]),ae=ae||Ke.type}var pt=U.parse(R[R.length-1],R.length-1,ae);return pt?new qo(ae,ve,pt):null},qo.prototype.evaluate=function(R){for(var U=0,ae=this.branches;U<ae.length;U+=1){var ve=ae[U],we=ve[0],Ee=ve[1];if(we.evaluate(R))return Ee.evaluate(R)}return this.otherwise.evaluate(R)},qo.prototype.eachChild=function(R){for(var U=0,ae=this.branches;U<ae.length;U+=1){var ve=ae[U],we=ve[0],Ee=ve[1];R(we),R(Ee)}R(this.otherwise)},qo.prototype.outputDefined=function(){return this.branches.every(function(R){R[0];var U=R[1];return U.outputDefined()})&&this.otherwise.outputDefined()},qo.prototype.serialize=function(){var R=["case"];return this.eachChild(function(U){R.push(U.serialize())}),R};var Vo=function(R,U,ae,ve){this.type=R,this.input=U,this.beginIndex=ae,this.endIndex=ve};Vo.parse=function(R,U){if(R.length<=2||R.length>=5)return U.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ae=U.parse(R[1],1,Nn),ve=U.parse(R[2],2,qr);if(!ae||!ve)return null;if(!to(ae.type,[gi(Nn),wn,Nn]))return U.error("Expected first argument to be of type array or string, but found "+ai(ae.type)+" instead");if(R.length===4){var we=U.parse(R[3],3,qr);return we?new Vo(ae.type,ae,ve,we):null}else return new Vo(ae.type,ae,ve)},Vo.prototype.evaluate=function(R){var U=this.input.evaluate(R),ae=this.beginIndex.evaluate(R);if(!Sl(U,["string","array"]))throw new Hi("Expected first argument to be of type array or string, but found "+ai(Ii(U))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(R);return U.slice(ae,ve)}return U.slice(ae)},Vo.prototype.eachChild=function(R){R(this.input),R(this.beginIndex),this.endIndex&&R(this.endIndex)},Vo.prototype.outputDefined=function(){return!1},Vo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var R=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),R]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function ou(_,R){return _==="=="||_==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function rh(_,R,U){return R===U}function nh(_,R,U){return R!==U}function ah(_,R,U){return R<U}function ih(_,R,U){return R>U}function gf(_,R,U){return R<=U}function $f(_,R,U){return R>=U}function zl(_,R,U,ae){return ae.compare(R,U)===0}function Qi(_,R,U,ae){return!zl(_,R,U,ae)}function Oo(_,R,U,ae){return ae.compare(R,U)<0}function Ol(_,R,U,ae){return ae.compare(R,U)>0}function qf(_,R,U,ae){return ae.compare(R,U)<=0}function su(_,R,U,ae){return ae.compare(R,U)>=0}function Ls(_,R,U){var ae=_!=="=="&&_!=="!=";return function(){function ve(we,Ee,Ke){this.type=zn,this.lhs=we,this.rhs=Ee,this.collator=Ke,this.hasUntypedArgument=we.type.kind==="value"||Ee.type.kind==="value"}return ve.parse=function(Ee,Ke){if(Ee.length!==3&&Ee.length!==4)return Ke.error("Expected two or three arguments.");var pt=Ee[0],St=Ke.parse(Ee[1],1,Nn);if(!St)return null;if(!ou(pt,St.type))return Ke.concat(1).error('"'+pt+`" comparisons are not supported for type '`+ai(St.type)+"'.");var Rt=Ke.parse(Ee[2],2,Nn);if(!Rt)return null;if(!ou(pt,Rt.type))return Ke.concat(2).error('"'+pt+`" comparisons are not supported for type '`+ai(Rt.type)+"'.");if(St.type.kind!==Rt.type.kind&&St.type.kind!=="value"&&Rt.type.kind!=="value")return Ke.error("Cannot compare types '"+ai(St.type)+"' and '"+ai(Rt.type)+"'.");ae&&(St.type.kind==="value"&&Rt.type.kind!=="value"?St=new ro(Rt.type,[St]):St.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new ro(St.type,[Rt])));var jt=null;if(Ee.length===4){if(St.type.kind!=="string"&&Rt.type.kind!=="string"&&St.type.kind!=="value"&&Rt.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(jt=Ke.parse(Ee[3],3,sa),!jt)return null}return new ve(St,Rt,jt)},ve.prototype.evaluate=function(Ee){var Ke=this.lhs.evaluate(Ee),pt=this.rhs.evaluate(Ee);if(ae&&this.hasUntypedArgument){var St=Ii(Ke),Rt=Ii(pt);if(St.kind!==Rt.kind||!(St.kind==="string"||St.kind==="number"))throw new Hi('Expected arguments for "'+_+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var jt=Ii(Ke),rr=Ii(pt);if(jt.kind!=="string"||rr.kind!=="string")return R(Ee,Ke,pt)}return this.collator?U(Ee,Ke,pt,this.collator.evaluate(Ee)):R(Ee,Ke,pt)},ve.prototype.eachChild=function(Ee){Ee(this.lhs),Ee(this.rhs),this.collator&&Ee(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Ee=[_];return this.eachChild(function(Ke){Ee.push(Ke.serialize())}),Ee},ve}()}var oh=Ls("==",rh,zl),ec=Ls("!=",nh,Qi),tc=Ls("<",ah,Oo),yf=Ls(">",ih,Ol),rc=Ls("<=",gf,qf),wo=Ls(">=",$f,su),es=function(R,U,ae,ve,we){this.type=wn,this.number=R,this.locale=U,this.currency=ae,this.minFractionDigits=ve,this.maxFractionDigits=we};es.parse=function(R,U){if(R.length!==3)return U.error("Expected two arguments.");var ae=U.parse(R[1],1,qr);if(!ae)return null;var ve=R[2];if(typeof ve!="object"||Array.isArray(ve))return U.error("NumberFormat options argument must be an object.");var we=null;if(ve.locale&&(we=U.parse(ve.locale,1,wn),!we))return null;var Ee=null;if(ve.currency&&(Ee=U.parse(ve.currency,1,wn),!Ee))return null;var Ke=null;if(ve["min-fraction-digits"]&&(Ke=U.parse(ve["min-fraction-digits"],1,qr),!Ke))return null;var pt=null;return ve["max-fraction-digits"]&&(pt=U.parse(ve["max-fraction-digits"],1,qr),!pt)?null:new es(ae,we,Ee,Ke,pt)},es.prototype.evaluate=function(R){return new Intl.NumberFormat(this.locale?this.locale.evaluate(R):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(R):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(R):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(R):void 0}).format(this.number.evaluate(R))},es.prototype.eachChild=function(R){R(this.number),this.locale&&R(this.locale),this.currency&&R(this.currency),this.minFractionDigits&&R(this.minFractionDigits),this.maxFractionDigits&&R(this.maxFractionDigits)},es.prototype.outputDefined=function(){return!1},es.prototype.serialize=function(){var R={};return this.locale&&(R.locale=this.locale.serialize()),this.currency&&(R.currency=this.currency.serialize()),this.minFractionDigits&&(R["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(R["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),R]};var Gs=function(R){this.type=qr,this.input=R};Gs.parse=function(R,U){if(R.length!==2)return U.error("Expected 1 argument, but found "+(R.length-1)+" instead.");var ae=U.parse(R[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?U.error("Expected argument of type string or array, but found "+ai(ae.type)+" instead."):new Gs(ae):null},Gs.prototype.evaluate=function(R){var U=this.input.evaluate(R);if(typeof U=="string")return U.length;if(Array.isArray(U))return U.length;throw new Hi("Expected value to be of type string or array, but found "+ai(Ii(U))+" instead.")},Gs.prototype.eachChild=function(R){R(this.input)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){var R=["length"];return this.eachChild(function(U){R.push(U.serialize())}),R};var Fl={"==":oh,"!=":ec,">":yf,"<":tc,">=":wo,"<=":rc,array:ro,at:sl,boolean:ro,case:qo,coalesce:Qo,collator:Bs,format:no,image:zo,in:Hs,"index-of":$o,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Gs,let:Es,literal:Oi,match:Cs,number:ro,"number-format":es,object:ro,slice:Vo,step:Ko,string:ro,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Us,within:Zo};function Gu(_,R){var U=R[0],ae=R[1],ve=R[2],we=R[3];U=U.evaluate(_),ae=ae.evaluate(_),ve=ve.evaluate(_);var Ee=we?we.evaluate(_):1,Ke=Ml(U,ae,ve,Ee);if(Ke)throw new Hi(Ke);return new ti(U/255*Ee,ae/255*Ee,ve/255*Ee,Ee)}function ll(_,R){return _ in R}function ul(_,R){var U=R[_];return typeof U>"u"?null:U}function nc(_,R,U,ae){for(;U<=ae;){var ve=U+ae>>1;if(R[ve]===_)return!0;R[ve]>_?ae=ve-1:U=ve+1}return!1}function Ps(_){return{type:_}}Ji.register(Fl,{error:[va,[wn],function(_,R){var U=R[0];throw new Hi(U.evaluate(_))}],typeof:[wn,[Nn],function(_,R){var U=R[0];return ai(Ii(U.evaluate(_)))}],"to-rgba":[gi(qr,4),[En],function(_,R){var U=R[0];return U.evaluate(_).toArray()}],rgb:[En,[qr,qr,qr],Gu],rgba:[En,[qr,qr,qr,qr],Gu],has:{type:zn,overloads:[[[wn],function(_,R){var U=R[0];return ll(U.evaluate(_),_.properties())}],[[wn,Un],function(_,R){var U=R[0],ae=R[1];return ll(U.evaluate(_),ae.evaluate(_))}]]},get:{type:Nn,overloads:[[[wn],function(_,R){var U=R[0];return ul(U.evaluate(_),_.properties())}],[[wn,Un],function(_,R){var U=R[0],ae=R[1];return ul(U.evaluate(_),ae.evaluate(_))}]]},"feature-state":[Nn,[wn],function(_,R){var U=R[0];return ul(U.evaluate(_),_.featureState||{})}],properties:[Un,[],function(_){return _.properties()}],"geometry-type":[wn,[],function(_){return _.geometryType()}],id:[Nn,[],function(_){return _.id()}],zoom:[qr,[],function(_){return _.globals.zoom}],"heatmap-density":[qr,[],function(_){return _.globals.heatmapDensity||0}],"line-progress":[qr,[],function(_){return _.globals.lineProgress||0}],accumulated:[Nn,[],function(_){return _.globals.accumulated===void 0?null:_.globals.accumulated}],"+":[qr,Ps(qr),function(_,R){for(var U=0,ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];U+=we.evaluate(_)}return U}],"*":[qr,Ps(qr),function(_,R){for(var U=1,ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];U*=we.evaluate(_)}return U}],"-":{type:qr,overloads:[[[qr,qr],function(_,R){var U=R[0],ae=R[1];return U.evaluate(_)-ae.evaluate(_)}],[[qr],function(_,R){var U=R[0];return-U.evaluate(_)}]]},"/":[qr,[qr,qr],function(_,R){var U=R[0],ae=R[1];return U.evaluate(_)/ae.evaluate(_)}],"%":[qr,[qr,qr],function(_,R){var U=R[0],ae=R[1];return U.evaluate(_)%ae.evaluate(_)}],ln2:[qr,[],function(){return Math.LN2}],pi:[qr,[],function(){return Math.PI}],e:[qr,[],function(){return Math.E}],"^":[qr,[qr,qr],function(_,R){var U=R[0],ae=R[1];return Math.pow(U.evaluate(_),ae.evaluate(_))}],sqrt:[qr,[qr],function(_,R){var U=R[0];return Math.sqrt(U.evaluate(_))}],log10:[qr,[qr],function(_,R){var U=R[0];return Math.log(U.evaluate(_))/Math.LN10}],ln:[qr,[qr],function(_,R){var U=R[0];return Math.log(U.evaluate(_))}],log2:[qr,[qr],function(_,R){var U=R[0];return Math.log(U.evaluate(_))/Math.LN2}],sin:[qr,[qr],function(_,R){var U=R[0];return Math.sin(U.evaluate(_))}],cos:[qr,[qr],function(_,R){var U=R[0];return Math.cos(U.evaluate(_))}],tan:[qr,[qr],function(_,R){var U=R[0];return Math.tan(U.evaluate(_))}],asin:[qr,[qr],function(_,R){var U=R[0];return Math.asin(U.evaluate(_))}],acos:[qr,[qr],function(_,R){var U=R[0];return Math.acos(U.evaluate(_))}],atan:[qr,[qr],function(_,R){var U=R[0];return Math.atan(U.evaluate(_))}],min:[qr,Ps(qr),function(_,R){return Math.min.apply(Math,R.map(function(U){return U.evaluate(_)}))}],max:[qr,Ps(qr),function(_,R){return Math.max.apply(Math,R.map(function(U){return U.evaluate(_)}))}],abs:[qr,[qr],function(_,R){var U=R[0];return Math.abs(U.evaluate(_))}],round:[qr,[qr],function(_,R){var U=R[0],ae=U.evaluate(_);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[qr,[qr],function(_,R){var U=R[0];return Math.floor(U.evaluate(_))}],ceil:[qr,[qr],function(_,R){var U=R[0];return Math.ceil(U.evaluate(_))}],"filter-==":[zn,[wn,Nn],function(_,R){var U=R[0],ae=R[1];return _.properties()[U.value]===ae.value}],"filter-id-==":[zn,[Nn],function(_,R){var U=R[0];return _.id()===U.value}],"filter-type-==":[zn,[wn],function(_,R){var U=R[0];return _.geometryType()===U.value}],"filter-<":[zn,[wn,Nn],function(_,R){var U=R[0],ae=R[1],ve=_.properties()[U.value],we=ae.value;return typeof ve==typeof we&&ve<we}],"filter-id-<":[zn,[Nn],function(_,R){var U=R[0],ae=_.id(),ve=U.value;return typeof ae==typeof ve&&ae<ve}],"filter->":[zn,[wn,Nn],function(_,R){var U=R[0],ae=R[1],ve=_.properties()[U.value],we=ae.value;return typeof ve==typeof we&&ve>we}],"filter-id->":[zn,[Nn],function(_,R){var U=R[0],ae=_.id(),ve=U.value;return typeof ae==typeof ve&&ae>ve}],"filter-<=":[zn,[wn,Nn],function(_,R){var U=R[0],ae=R[1],ve=_.properties()[U.value],we=ae.value;return typeof ve==typeof we&&ve<=we}],"filter-id-<=":[zn,[Nn],function(_,R){var U=R[0],ae=_.id(),ve=U.value;return typeof ae==typeof ve&&ae<=ve}],"filter->=":[zn,[wn,Nn],function(_,R){var U=R[0],ae=R[1],ve=_.properties()[U.value],we=ae.value;return typeof ve==typeof we&&ve>=we}],"filter-id->=":[zn,[Nn],function(_,R){var U=R[0],ae=_.id(),ve=U.value;return typeof ae==typeof ve&&ae>=ve}],"filter-has":[zn,[Nn],function(_,R){var U=R[0];return U.value in _.properties()}],"filter-has-id":[zn,[],function(_){return _.id()!==null&&_.id()!==void 0}],"filter-type-in":[zn,[gi(wn)],function(_,R){var U=R[0];return U.value.indexOf(_.geometryType())>=0}],"filter-id-in":[zn,[gi(Nn)],function(_,R){var U=R[0];return U.value.indexOf(_.id())>=0}],"filter-in-small":[zn,[wn,gi(Nn)],function(_,R){var U=R[0],ae=R[1];return ae.value.indexOf(_.properties()[U.value])>=0}],"filter-in-large":[zn,[wn,gi(Nn)],function(_,R){var U=R[0],ae=R[1];return nc(_.properties()[U.value],ae.value,0,ae.value.length-1)}],all:{type:zn,overloads:[[[zn,zn],function(_,R){var U=R[0],ae=R[1];return U.evaluate(_)&&ae.evaluate(_)}],[Ps(zn),function(_,R){for(var U=0,ae=R;U<ae.length;U+=1){var ve=ae[U];if(!ve.evaluate(_))return!1}return!0}]]},any:{type:zn,overloads:[[[zn,zn],function(_,R){var U=R[0],ae=R[1];return U.evaluate(_)||ae.evaluate(_)}],[Ps(zn),function(_,R){for(var U=0,ae=R;U<ae.length;U+=1){var ve=ae[U];if(ve.evaluate(_))return!0}return!1}]]},"!":[zn,[zn],function(_,R){var U=R[0];return!U.evaluate(_)}],"is-supported-script":[zn,[wn],function(_,R){var U=R[0],ae=_.globals&&_.globals.isSupportedScript;return ae?ae(U.evaluate(_)):!0}],upcase:[wn,[wn],function(_,R){var U=R[0];return U.evaluate(_).toUpperCase()}],downcase:[wn,[wn],function(_,R){var U=R[0];return U.evaluate(_).toLowerCase()}],concat:[wn,Ps(Nn),function(_,R){return R.map(function(U){return El(U.evaluate(_))}).join("")}],"resolved-locale":[wn,[sa],function(_,R){var U=R[0];return U.evaluate(_).resolvedLocale()}]});function Nl(_){return{result:"success",value:_}}function Ws(_){return{result:"error",value:_}}function _s(_){return _["property-type"]==="data-driven"||_["property-type"]==="cross-faded-data-driven"}function lu(_){return!!_.expression&&_.expression.parameters.indexOf("zoom")>-1}function Bl(_){return!!_.expression&&_.expression.interpolated}function vi(_){return _ instanceof Number?"number":_ instanceof String?"string":_ instanceof Boolean?"boolean":Array.isArray(_)?"array":_===null?"null":typeof _}function Ul(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}function Wu(_){return _}function ac(_,R){var U=R.type==="color",ae=_.stops&&typeof _.stops[0][0]=="object",ve=ae||_.property!==void 0,we=ae||!ve,Ee=_.type||(Bl(R)?"exponential":"interval");if(U&&(_=Rn({},_),_.stops&&(_.stops=_.stops.map(function(ta){return[ta[0],ti.parse(ta[1])]})),_.default?_.default=ti.parse(_.default):_.default=ti.parse(R.default)),_.colorSpace&&_.colorSpace!=="rgb"&&!Hu[_.colorSpace])throw new Error("Unknown color space: "+_.colorSpace);var Ke,pt,St;if(Ee==="exponential")Ke=mf;else if(Ee==="interval")Ke=Yu;else if(Ee==="categorical"){Ke=uu,pt=Object.create(null);for(var Rt=0,jt=_.stops;Rt<jt.length;Rt+=1){var rr=jt[Rt];pt[rr[0]]=rr[1]}St=typeof _.stops[0][0]}else if(Ee==="identity")Ke=fu;else throw new Error('Unknown function type "'+Ee+'"');if(ae){for(var qt={},br=[],Br=0;Br<_.stops.length;Br++){var cn=_.stops[Br],nn=cn[0].zoom;qt[nn]===void 0&&(qt[nn]={zoom:nn,type:_.type,property:_.property,default:_.default,stops:[]},br.push(nn)),qt[nn].stops.push([cn[0].value,cn[1]])}for(var Ln=[],yn=0,Cn=br;yn<Cn.length;yn+=1){var kn=Cn[yn];Ln.push([qt[kn].zoom,ac(qt[kn],R)])}var Yn={name:"linear"};return{kind:"composite",interpolationType:Yn,interpolationFactor:ki.interpolationFactor.bind(void 0,Yn),zoomStops:Ln.map(function(ta){return ta[0]}),evaluate:function(Ta,pa){var ba=Ta.zoom;return mf({stops:Ln,base:_.base},R,ba).evaluate(ba,pa)}}}else if(we){var aa=Ee==="exponential"?{name:"exponential",base:_.base!==void 0?_.base:1}:null;return{kind:"camera",interpolationType:aa,interpolationFactor:ki.interpolationFactor.bind(void 0,aa),zoomStops:_.stops.map(function(ta){return ta[0]}),evaluate:function(ta){var Ta=ta.zoom;return Ke(_,R,Ta,pt,St)}}}else return{kind:"source",evaluate:function(Ta,pa){var ba=pa&&pa.properties?pa.properties[_.property]:void 0;return ba===void 0?Vl(_.default,R.default):Ke(_,R,ba,pt,St)}}}function Vl(_,R,U){if(_!==void 0)return _;if(R!==void 0)return R;if(U!==void 0)return U}function uu(_,R,U,ae,ve){var we=typeof U===ve?ae[U]:void 0;return Vl(we,_.default,R.default)}function Yu(_,R,U){if(vi(U)!=="number")return Vl(_.default,R.default);var ae=_.stops.length;if(ae===1||U<=_.stops[0][0])return _.stops[0][1];if(U>=_.stops[ae-1][0])return _.stops[ae-1][1];var ve=_l(_.stops.map(function(we){return we[0]}),U);return _.stops[ve][1]}function mf(_,R,U){var ae=_.base!==void 0?_.base:1;if(vi(U)!=="number")return Vl(_.default,R.default);var ve=_.stops.length;if(ve===1||U<=_.stops[0][0])return _.stops[0][1];if(U>=_.stops[ve-1][0])return _.stops[ve-1][1];var we=_l(_.stops.map(function(jt){return jt[0]}),U),Ee=cu(U,ae,_.stops[we][0],_.stops[we+1][0]),Ke=_.stops[we][1],pt=_.stops[we+1][1],St=Fu[R.type]||Wu;if(_.colorSpace&&_.colorSpace!=="rgb"){var Rt=Hu[_.colorSpace];St=function(jt,rr){return Rt.reverse(Rt.interpolate(Rt.forward(jt),Rt.forward(rr),Ee))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var rr=[],qt=arguments.length;qt--;)rr[qt]=arguments[qt];var br=Ke.evaluate.apply(void 0,rr),Br=pt.evaluate.apply(void 0,rr);if(!(br===void 0||Br===void 0))return St(br,Br,Ee)}}:St(Ke,pt,Ee)}function fu(_,R,U){return R.type==="color"?U=ti.parse(U):R.type==="formatted"?U=Ki.fromString(U.toString()):R.type==="resolvedImage"?U=bo.fromString(U.toString()):vi(U)!==R.type&&(R.type!=="enum"||!R.values[U])&&(U=void 0),Vl(U,_.default,R.default)}function cu(_,R,U,ae){var ve=ae-U,we=_-U;return ve===0?0:R===1?we/ve:(Math.pow(R,we)-1)/(Math.pow(R,ve)-1)}var Ys=function(R,U){this.expression=R,this._warningHistory={},this._evaluator=new cs,this._defaultValue=U?ic(U):null,this._enumValues=U&&U.type==="enum"?U.values:null};Ys.prototype.evaluateWithoutErrorHandling=function(R,U,ae,ve,we,Ee){return this._evaluator.globals=R,this._evaluator.feature=U,this._evaluator.featureState=ae,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ee,this.expression.evaluate(this._evaluator)},Ys.prototype.evaluate=function(R,U,ae,ve,we,Ee){this._evaluator.globals=R,this._evaluator.feature=U||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=ve,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ee||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new Hi("Expected value to be one of "+Object.keys(this._enumValues).map(function(pt){return JSON.stringify(pt)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(pt){return this._warningHistory[pt.message]||(this._warningHistory[pt.message]=!0,typeof console<"u"&&console.warn(pt.message)),this._defaultValue}};function hu(_){return Array.isArray(_)&&_.length>0&&typeof _[0]=="string"&&_[0]in Fl}function js(_,R){var U=new vs(Fl,[],R?sh(R):void 0),ae=U.parse(_,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?Nl(new Ys(ae,R)):Ws(U.errors)}var Gi=function(R,U){this.kind=R,this._styleExpression=U,this.isStateDependent=R!=="constant"&&!il(U.expression)};Gi.prototype.evaluateWithoutErrorHandling=function(R,U,ae,ve,we,Ee){return this._styleExpression.evaluateWithoutErrorHandling(R,U,ae,ve,we,Ee)},Gi.prototype.evaluate=function(R,U,ae,ve,we,Ee){return this._styleExpression.evaluate(R,U,ae,ve,we,Ee)};var ds=function(R,U,ae,ve){this.kind=R,this.zoomStops=ae,this._styleExpression=U,this.isStateDependent=R!=="camera"&&!il(U.expression),this.interpolationType=ve};ds.prototype.evaluateWithoutErrorHandling=function(R,U,ae,ve,we,Ee){return this._styleExpression.evaluateWithoutErrorHandling(R,U,ae,ve,we,Ee)},ds.prototype.evaluate=function(R,U,ae,ve,we,Ee){return this._styleExpression.evaluate(R,U,ae,ve,we,Ee)},ds.prototype.interpolationFactor=function(R,U,ae){return this.interpolationType?ki.interpolationFactor(this.interpolationType,R,U,ae):0};function xf(_,R){if(_=js(_,R),_.result==="error")return _;var U=_.value.expression,ae=Pl(U);if(!ae&&!_s(R))return Ws([new Er("","data expressions not supported")]);var ve=nu(U,["zoom"]);if(!ve&&!lu(R))return Ws([new Er("","zoom expressions not supported")]);var we=vu(U);if(!we&&!ve)return Ws([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(we instanceof Er)return Ws([we]);if(we instanceof ki&&!Bl(R))return Ws([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!we)return Nl(ae?new Gi("constant",_.value):new Gi("source",_.value));var Ee=we instanceof ki?we.interpolation:void 0;return Nl(ae?new ds("camera",_.value,we.labels,Ee):new ds("composite",_.value,we.labels,Ee))}var fl=function(R,U){this._parameters=R,this._specification=U,Rn(this,ac(this._parameters,this._specification))};fl.deserialize=function(R){return new fl(R._parameters,R._specification)},fl.serialize=function(R){return{_parameters:R._parameters,_specification:R._specification}};function ju(_,R){if(Ul(_))return new fl(_,R);if(hu(_)){var U=xf(_,R);if(U.result==="error")throw new Error(U.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return U.value}else{var ae=_;return typeof _=="string"&&R.type==="color"&&(ae=ti.parse(_)),{kind:"constant",evaluate:function(){return ae}}}}function vu(_){var R=null;if(_ instanceof Es)R=vu(_.result);else if(_ instanceof Qo)for(var U=0,ae=_.args;U<ae.length;U+=1){var ve=ae[U];if(R=vu(ve),R)break}else(_ instanceof Ko||_ instanceof ki)&&_.input instanceof Ji&&_.input.name==="zoom"&&(R=_);return R instanceof Er||_.eachChild(function(we){var Ee=vu(we);Ee instanceof Er?R=Ee:!R&&Ee?R=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&Ee&&R!==Ee&&(R=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function sh(_){var R={color:En,string:wn,number:qr,enum:wn,boolean:zn,formatted:ga,resolvedImage:_a};return _.type==="array"?gi(R[_.value]||Nn,_.length):R[_.type]}function ic(_){return _.type==="color"&&Ul(_.default)?new ti(0,0,0,0):_.type==="color"?ti.parse(_.default)||null:_.default===void 0?null:_.default}function po(_){var R=_.key,U=_.value,ae=_.valueSpec||{},ve=_.objectElementValidators||{},we=_.style,Ee=_.styleSpec,Ke=[],pt=vi(U);if(pt!=="object")return[new Nr(R,U,"object expected, "+pt+" found")];for(var St in U){var Rt=St.split(".")[0],jt=ae[Rt]||ae["*"],rr=void 0;if(ve[Rt])rr=ve[Rt];else if(ae[Rt])rr=Dr;else if(ve["*"])rr=ve["*"];else if(ae["*"])rr=Dr;else{Ke.push(new Nr(R,U[St],'unknown property "'+St+'"'));continue}Ke=Ke.concat(rr({key:(R&&R+".")+St,value:U[St],valueSpec:jt,style:we,styleSpec:Ee,object:U,objectKey:St},U))}for(var qt in ae)ve[qt]||ae[qt].required&&ae[qt].default===void 0&&U[qt]===void 0&&Ke.push(new Nr(R,U,'missing required property "'+qt+'"'));return Ke}function du(_){var R=_.value,U=_.valueSpec,ae=_.style,ve=_.styleSpec,we=_.key,Ee=_.arrayElementValidator||Dr;if(vi(R)!=="array")return[new Nr(we,R,"array expected, "+vi(R)+" found")];if(U.length&&R.length!==U.length)return[new Nr(we,R,"array length "+U.length+" expected, length "+R.length+" found")];if(U["min-length"]&&R.length<U["min-length"])return[new Nr(we,R,"array length at least "+U["min-length"]+" expected, length "+R.length+" found")];var Ke={type:U.value,values:U.values};ve.$version<7&&(Ke.function=U.function),vi(U.value)==="object"&&(Ke=U.value);for(var pt=[],St=0;St<R.length;St++)pt=pt.concat(Ee({array:R,arrayIndex:St,value:R[St],valueSpec:Ke,style:ae,styleSpec:ve,key:we+"["+St+"]"}));return pt}function Hl(_){var R=_.key,U=_.value,ae=_.valueSpec,ve=vi(U);return ve==="number"&&U!==U&&(ve="NaN"),ve!=="number"?[new Nr(R,U,"number expected, "+ve+" found")]:"minimum"in ae&&U<ae.minimum?[new Nr(R,U,U+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&U>ae.maximum?[new Nr(R,U,U+" is greater than the maximum value "+ae.maximum)]:[]}function oc(_){var R=_.valueSpec,U=gn(_.value.type),ae,ve={},we,Ee,Ke=U!=="categorical"&&_.value.property===void 0,pt=!Ke,St=vi(_.value.stops)==="array"&&vi(_.value.stops[0])==="array"&&vi(_.value.stops[0][0])==="object",Rt=po({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:jt,default:br}});return U==="identity"&&Ke&&Rt.push(new Nr(_.key,_.value,'missing required property "property"')),U!=="identity"&&!_.value.stops&&Rt.push(new Nr(_.key,_.value,'missing required property "stops"')),U==="exponential"&&_.valueSpec.expression&&!Bl(_.valueSpec)&&Rt.push(new Nr(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(pt&&!_s(_.valueSpec)?Rt.push(new Nr(_.key,_.value,"property functions not supported")):Ke&&!lu(_.valueSpec)&&Rt.push(new Nr(_.key,_.value,"zoom functions not supported"))),(U==="categorical"||St)&&_.value.property===void 0&&Rt.push(new Nr(_.key,_.value,'"property" property is required')),Rt;function jt(Br){if(U==="identity")return[new Nr(Br.key,Br.value,'identity function may not have a "stops" property')];var cn=[],nn=Br.value;return cn=cn.concat(du({key:Br.key,value:nn,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:rr})),vi(nn)==="array"&&nn.length===0&&cn.push(new Nr(Br.key,nn,"array must have at least one stop")),cn}function rr(Br){var cn=[],nn=Br.value,Ln=Br.key;if(vi(nn)!=="array")return[new Nr(Ln,nn,"array expected, "+vi(nn)+" found")];if(nn.length!==2)return[new Nr(Ln,nn,"array length 2 expected, length "+nn.length+" found")];if(St){if(vi(nn[0])!=="object")return[new Nr(Ln,nn,"object expected, "+vi(nn[0])+" found")];if(nn[0].zoom===void 0)return[new Nr(Ln,nn,"object stop key must have zoom")];if(nn[0].value===void 0)return[new Nr(Ln,nn,"object stop key must have value")];if(Ee&&Ee>gn(nn[0].zoom))return[new Nr(Ln,nn[0].zoom,"stop zoom values must appear in ascending order")];gn(nn[0].zoom)!==Ee&&(Ee=gn(nn[0].zoom),we=void 0,ve={}),cn=cn.concat(po({key:Ln+"[0]",value:nn[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:Hl,value:qt}}))}else cn=cn.concat(qt({key:Ln+"[0]",value:nn[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},nn));return hu(un(nn[1]))?cn.concat([new Nr(Ln+"[1]",nn[1],"expressions are not allowed in function stops.")]):cn.concat(Dr({key:Ln+"[1]",value:nn[1],valueSpec:R,style:Br.style,styleSpec:Br.styleSpec}))}function qt(Br,cn){var nn=vi(Br.value),Ln=gn(Br.value),yn=Br.value!==null?Br.value:cn;if(!ae)ae=nn;else if(nn!==ae)return[new Nr(Br.key,yn,nn+" stop domain type must match previous stop domain type "+ae)];if(nn!=="number"&&nn!=="string"&&nn!=="boolean")return[new Nr(Br.key,yn,"stop domain value must be a number, string, or boolean")];if(nn!=="number"&&U!=="categorical"){var Cn="number expected, "+nn+" found";return _s(R)&&U===void 0&&(Cn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Br.key,yn,Cn)]}return U==="categorical"&&nn==="number"&&(!isFinite(Ln)||Math.floor(Ln)!==Ln)?[new Nr(Br.key,yn,"integer expected, found "+Ln)]:U!=="categorical"&&nn==="number"&&we!==void 0&&Ln<we?[new Nr(Br.key,yn,"stop domain values must appear in ascending order")]:(we=Ln,U==="categorical"&&Ln in ve?[new Nr(Br.key,yn,"stop domain values must be unique")]:(ve[Ln]=!0,[]))}function br(Br){return Dr({key:Br.key,value:Br.value,valueSpec:R,style:Br.style,styleSpec:Br.styleSpec})}}function Xs(_){var R=(_.expressionContext==="property"?xf:js)(un(_.value),_.valueSpec);if(R.result==="error")return R.value.map(function(ae){return new Nr(""+_.key+ae.key,_.value,ae.message)});var U=R.value.expression||R.value._styleExpression.expression;if(_.expressionContext==="property"&&_.propertyKey==="text-font"&&!U.outputDefined())return[new Nr(_.key,_.value,'Invalid data expression for "'+_.propertyKey+'". Output values must be contained as literals within the expression.')];if(_.expressionContext==="property"&&_.propertyType==="layout"&&!il(U))return[new Nr(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if(_.expressionContext==="filter"&&!il(U))return[new Nr(_.key,_.value,'"feature-state" data expressions are not supported with filters.')];if(_.expressionContext&&_.expressionContext.indexOf("cluster")===0){if(!nu(U,["zoom","feature-state"]))return[new Nr(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(_.expressionContext==="cluster-initial"&&!Pl(U))return[new Nr(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function lh(_){var R=_.value,U=_.key,ae=vi(R);return ae!=="boolean"?[new Nr(U,R,"boolean expected, "+ae+" found")]:[]}function _o(_){var R=_.key,U=_.value,ae=vi(U);return ae!=="string"?[new Nr(R,U,"color expected, "+ae+" found")]:Vf(U)===null?[new Nr(R,U,'color expected, "'+U+'" found')]:[]}function pu(_){var R=_.key,U=_.value,ae=_.valueSpec,ve=[];return Array.isArray(ae.values)?ae.values.indexOf(gn(U))===-1&&ve.push(new Nr(R,U,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(U)+" found")):Object.keys(ae.values).indexOf(gn(U))===-1&&ve.push(new Nr(R,U,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(U)+" found")),ve}function Xu(_){if(_===!0||_===!1)return!0;if(!Array.isArray(_)||_.length===0)return!1;switch(_[0]){case"has":return _.length>=2&&_[1]!=="$id"&&_[1]!=="$type";case"in":return _.length>=3&&(typeof _[1]!="string"||Array.isArray(_[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return _.length!==3||Array.isArray(_[1])||Array.isArray(_[2]);case"any":case"all":for(var R=0,U=_.slice(1);R<U.length;R+=1){var ae=U[R];if(!Xu(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var Rs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Zs(_){if(_==null)return{filter:function(){return!0},needGeometry:!1};Xu(_)||(_=yu(_));var R=js(_,Rs);if(R.result==="error")throw new Error(R.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var U=gu(_);return{filter:function(ae,ve,we){return R.value.evaluate(ae,ve,{},we)},needGeometry:U}}function bf(_,R){return _<R?-1:_>R?1:0}function gu(_){if(!Array.isArray(_))return!1;if(_[0]==="within")return!0;for(var R=1;R<_.length;R++)if(gu(_[R]))return!0;return!1}function yu(_){if(!_)return!0;var R=_[0];if(_.length<=1)return R!=="any";var U=R==="=="?Zu(_[1],_[2],"=="):R==="!="?cl(Zu(_[1],_[2],"==")):R==="<"||R===">"||R==="<="||R===">="?Zu(_[1],_[2],R):R==="any"?sc(_.slice(1)):R==="all"?["all"].concat(_.slice(1).map(yu)):R==="none"?["all"].concat(_.slice(1).map(yu).map(cl)):R==="in"?mu(_[1],_.slice(2)):R==="!in"?cl(mu(_[1],_.slice(2))):R==="has"?wf(_[1]):R==="!has"?cl(wf(_[1])):R==="within"?_:!0;return U}function Zu(_,R,U){switch(_){case"$type":return["filter-type-"+U,R];case"$id":return["filter-id-"+U,R];default:return["filter-"+U,_,R]}}function sc(_){return["any"].concat(_.map(yu))}function mu(_,R){if(R.length===0)return!1;switch(_){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(U){return typeof U!=typeof R[0]})?["filter-in-large",_,["literal",R.sort(bf)]]:["filter-in-small",_,["literal",R]]}}function wf(_){switch(_){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_]}}function cl(_){return["!",_]}function Tf(_){return Xu(un(_.value))?Xs(Rn({},_,{expressionContext:"filter",valueSpec:{value:"boolean"}})):xu(_)}function xu(_){var R=_.value,U=_.key;if(vi(R)!=="array")return[new Nr(U,R,"array expected, "+vi(R)+" found")];var ae=_.styleSpec,ve,we=[];if(R.length<1)return[new Nr(U,R,"filter array must have at least 1 element")];switch(we=we.concat(pu({key:U+"[0]",value:R[0],valueSpec:ae.filter_operator,style:_.style,styleSpec:_.styleSpec})),gn(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&gn(R[1])==="$type"&&we.push(new Nr(U,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&we.push(new Nr(U,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(ve=vi(R[1]),ve!=="string"&&we.push(new Nr(U+"[1]",R[1],"string expected, "+ve+" found")));for(var Ee=2;Ee<R.length;Ee++)ve=vi(R[Ee]),gn(R[1])==="$type"?we=we.concat(pu({key:U+"["+Ee+"]",value:R[Ee],valueSpec:ae.geometry_type,style:_.style,styleSpec:_.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&we.push(new Nr(U+"["+Ee+"]",R[Ee],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<R.length;Ke++)we=we.concat(xu({key:U+"["+Ke+"]",value:R[Ke],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":ve=vi(R[1]),R.length!==2?we.push(new Nr(U,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ve!=="string"&&we.push(new Nr(U+"[1]",R[1],"string expected, "+ve+" found"));break;case"within":ve=vi(R[1]),R.length!==2?we.push(new Nr(U,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ve!=="object"&&we.push(new Nr(U+"[1]",R[1],"object expected, "+ve+" found"));break}return we}function lc(_,R){var U=_.key,ae=_.style,ve=_.styleSpec,we=_.value,Ee=_.objectKey,Ke=ve[R+"_"+_.layerType];if(!Ke)return[];var pt=Ee.match(/^(.*)-transition$/);if(R==="paint"&&pt&&Ke[pt[1]]&&Ke[pt[1]].transition)return Dr({key:U,value:we,valueSpec:ve.transition,style:ae,styleSpec:ve});var St=_.valueSpec||Ke[Ee];if(!St)return[new Nr(U,we,'unknown property "'+Ee+'"')];var Rt;if(vi(we)==="string"&&_s(St)&&!St.tokens&&(Rt=/^{([^}]+)}$/.exec(we)))return[new Nr(U,we,'"'+Ee+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var jt=[];return _.layerType==="symbol"&&(Ee==="text-field"&&ae&&!ae.glyphs&&jt.push(new Nr(U,we,'use of "text-field" requires a style "glyphs" property')),Ee==="text-font"&&Ul(un(we))&&gn(we.type)==="identity"&&jt.push(new Nr(U,we,'"text-font" does not support identity functions'))),jt.concat(Dr({key:_.key,value:we,valueSpec:St,style:ae,styleSpec:ve,expressionContext:"property",propertyType:R,propertyKey:Ee}))}function Ze(_){return lc(_,"paint")}function at(_){return lc(_,"layout")}function yt(_){var R=[],U=_.value,ae=_.key,ve=_.style,we=_.styleSpec;!U.type&&!U.ref&&R.push(new Nr(ae,U,'either "type" or "ref" is required'));var Ee=gn(U.type),Ke=gn(U.ref);if(U.id)for(var pt=gn(U.id),St=0;St<_.arrayIndex;St++){var Rt=ve.layers[St];gn(Rt.id)===pt&&R.push(new Nr(ae,U.id,'duplicate layer id "'+U.id+'", previously used at line '+Rt.id.__line__))}if("ref"in U){["type","source","source-layer","filter","layout"].forEach(function(br){br in U&&R.push(new Nr(ae,U[br],'"'+br+'" is prohibited for ref layers'))});var jt;ve.layers.forEach(function(br){gn(br.id)===Ke&&(jt=br)}),jt?jt.ref?R.push(new Nr(ae,U.ref,"ref cannot reference another ref layer")):Ee=gn(jt.type):R.push(new Nr(ae,U.ref,'ref layer "'+Ke+'" not found'))}else if(Ee!=="background")if(!U.source)R.push(new Nr(ae,U,'missing required property "source"'));else{var rr=ve.sources&&ve.sources[U.source],qt=rr&&gn(rr.type);rr?qt==="vector"&&Ee==="raster"?R.push(new Nr(ae,U.source,'layer "'+U.id+'" requires a raster source')):qt==="raster"&&Ee!=="raster"?R.push(new Nr(ae,U.source,'layer "'+U.id+'" requires a vector source')):qt==="vector"&&!U["source-layer"]?R.push(new Nr(ae,U,'layer "'+U.id+'" must specify a "source-layer"')):qt==="raster-dem"&&Ee!=="hillshade"?R.push(new Nr(ae,U.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ee==="line"&&U.paint&&U.paint["line-gradient"]&&(qt!=="geojson"||!rr.lineMetrics)&&R.push(new Nr(ae,U,'layer "'+U.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new Nr(ae,U.source,'source "'+U.source+'" not found'))}return R=R.concat(po({key:ae,value:U,valueSpec:we.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Dr({key:ae+".type",value:U.type,valueSpec:we.layer.type,style:_.style,styleSpec:_.styleSpec,object:U,objectKey:"type"})},filter:Tf,layout:function(Br){return po({layer:U,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(nn){return at(Rn({layerType:Ee},nn))}}})},paint:function(Br){return po({layer:U,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(nn){return Ze(Rn({layerType:Ee},nn))}}})}}})),R}function wt(_){var R=_.value,U=_.key,ae=vi(R);return ae!=="string"?[new Nr(U,R,"string expected, "+ae+" found")]:[]}var zt={promoteId:Ft};function kt(_){var R=_.value,U=_.key,ae=_.styleSpec,ve=_.style;if(!R.type)return[new Nr(U,R,'"type" is required')];var we=gn(R.type),Ee;switch(we){case"vector":case"raster":case"raster-dem":return Ee=po({key:U,value:R,valueSpec:ae["source_"+we.replace("-","_")],style:_.style,styleSpec:ae,objectElementValidators:zt}),Ee;case"geojson":if(Ee=po({key:U,value:R,valueSpec:ae.source_geojson,style:ve,styleSpec:ae,objectElementValidators:zt}),R.cluster)for(var Ke in R.clusterProperties){var pt=R.clusterProperties[Ke],St=pt[0],Rt=pt[1],jt=typeof St=="string"?[St,["accumulated"],["get",Ke]]:St;Ee.push.apply(Ee,Xs({key:U+"."+Ke+".map",value:Rt,expressionContext:"cluster-map"})),Ee.push.apply(Ee,Xs({key:U+"."+Ke+".reduce",value:jt,expressionContext:"cluster-reduce"}))}return Ee;case"video":return po({key:U,value:R,valueSpec:ae.source_video,style:ve,styleSpec:ae});case"image":return po({key:U,value:R,valueSpec:ae.source_image,style:ve,styleSpec:ae});case"canvas":return[new Nr(U,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return pu({key:U+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ae})}}function Ft(_){var R=_.key,U=_.value;if(vi(U)==="string")return wt({key:R,value:U});var ae=[];for(var ve in U)ae.push.apply(ae,wt({key:R+"."+ve,value:U[ve]}));return ae}function gr(_){var R=_.value,U=_.styleSpec,ae=U.light,ve=_.style,we=[],Ee=vi(R);if(R===void 0)return we;if(Ee!=="object")return we=we.concat([new Nr("light",R,"object expected, "+Ee+" found")]),we;for(var Ke in R){var pt=Ke.match(/^(.*)-transition$/);pt&&ae[pt[1]]&&ae[pt[1]].transition?we=we.concat(Dr({key:Ke,value:R[Ke],valueSpec:U.transition,style:ve,styleSpec:U})):ae[Ke]?we=we.concat(Dr({key:Ke,value:R[Ke],valueSpec:ae[Ke],style:ve,styleSpec:U})):we=we.concat([new Nr(Ke,R[Ke],'unknown property "'+Ke+'"')])}return we}function wr(_){return wt(_).length===0?[]:Xs(_)}function ar(_){return wt(_).length===0?[]:Xs(_)}var Sr={"*":function(){return[]},array:du,boolean:lh,number:Hl,color:_o,constants:mn,enum:pu,filter:Tf,function:oc,layer:yt,object:po,source:kt,light:gr,string:wt,formatted:wr,resolvedImage:ar};function Dr(_){var R=_.value,U=_.valueSpec,ae=_.styleSpec;if(U.expression&&Ul(gn(R)))return oc(_);if(U.expression&&hu(un(R)))return Xs(_);if(U.type&&Sr[U.type])return Sr[U.type](_);var ve=po(Rn({},_,{valueSpec:U.type?ae[U.type]:U}));return ve}function Ur(_){var R=_.value,U=_.key,ae=wt(_);return ae.length||(R.indexOf("{fontstack}")===-1&&ae.push(new Nr(U,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&ae.push(new Nr(U,R,'"glyphs" url must include a "{range}" token'))),ae}function on(_,R){R===void 0&&(R=Ar);var U=[];return U=U.concat(Dr({key:"",value:_,valueSpec:R.$root,styleSpec:R,style:_,objectElementValidators:{glyphs:Ur,"*":function(){return[]}}})),_.constants&&(U=U.concat(mn({key:"constants",value:_.constants,style:_,styleSpec:R}))),xn(U)}on.source=_n(kt),on.light=_n(gr),on.layer=_n(yt),on.filter=_n(Tf),on.paintProperty=_n(Ze),on.layoutProperty=_n(at);function xn(_){return[].concat(_).sort(function(R,U){return R.line-U.line})}function _n(_){return function(){for(var R=[],U=arguments.length;U--;)R[U]=arguments[U];return xn(_.apply(this,R))}}var Dn=on,Zn=Dn.light,Ra=Dn.paintProperty,Da=Dn.layoutProperty;function ka(_,R){var U=!1;if(R&&R.length)for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae];_.fire(new Nt(new Error(we.message))),U=!0}return U}var Na=di,Ka=3;function di(_,R,U){var ae=this.cells=[];if(_ instanceof ArrayBuffer){this.arrayBuffer=_;var ve=new Int32Array(this.arrayBuffer);_=ve[0],R=ve[1],U=ve[2],this.d=R+2*U;for(var we=0;we<this.d*this.d;we++){var Ee=ve[Ka+we],Ke=ve[Ka+we+1];ae.push(Ee===Ke?null:ve.subarray(Ee,Ke))}var pt=ve[Ka+ae.length],St=ve[Ka+ae.length+1];this.keys=ve.subarray(pt,St),this.bboxes=ve.subarray(St),this.insert=this._insertReadonly}else{this.d=R+2*U;for(var Rt=0;Rt<this.d*this.d;Rt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=_,this.padding=U,this.scale=R/_,this.uid=0;var jt=U/R*_;this.min=-jt,this.max=_+jt}di.prototype.insert=function(_,R,U,ae,ve){this._forEachCell(R,U,ae,ve,this._insertCell,this.uid++),this.keys.push(_),this.bboxes.push(R),this.bboxes.push(U),this.bboxes.push(ae),this.bboxes.push(ve)},di.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},di.prototype._insertCell=function(_,R,U,ae,ve,we){this.cells[ve].push(we)},di.prototype.query=function(_,R,U,ae,ve){var we=this.min,Ee=this.max;if(_<=we&&R<=we&&Ee<=U&&Ee<=ae&&!ve)return Array.prototype.slice.call(this.keys);var Ke=[],pt={};return this._forEachCell(_,R,U,ae,this._queryCell,Ke,pt,ve),Ke},di.prototype._queryCell=function(_,R,U,ae,ve,we,Ee,Ke){var pt=this.cells[ve];if(pt!==null)for(var St=this.keys,Rt=this.bboxes,jt=0;jt<pt.length;jt++){var rr=pt[jt];if(Ee[rr]===void 0){var qt=rr*4;(Ke?Ke(Rt[qt+0],Rt[qt+1],Rt[qt+2],Rt[qt+3]):_<=Rt[qt+2]&&R<=Rt[qt+3]&&U>=Rt[qt+0]&&ae>=Rt[qt+1])?(Ee[rr]=!0,we.push(St[rr])):Ee[rr]=!1}}},di.prototype._forEachCell=function(_,R,U,ae,ve,we,Ee,Ke){for(var pt=this._convertToCellCoord(_),St=this._convertToCellCoord(R),Rt=this._convertToCellCoord(U),jt=this._convertToCellCoord(ae),rr=pt;rr<=Rt;rr++)for(var qt=St;qt<=jt;qt++){var br=this.d*qt+rr;if(!(Ke&&!Ke(this._convertFromCellCoord(rr),this._convertFromCellCoord(qt),this._convertFromCellCoord(rr+1),this._convertFromCellCoord(qt+1)))&&ve.call(this,_,R,U,ae,br,we,Ee,Ke))return}},di.prototype._convertFromCellCoord=function(_){return(_-this.padding)/this.scale},di.prototype._convertToCellCoord=function(_){return Math.max(0,Math.min(this.d-1,Math.floor(_*this.scale)+this.padding))},di.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _=this.cells,R=Ka+this.cells.length+1+1,U=0,ae=0;ae<this.cells.length;ae++)U+=this.cells[ae].length;var ve=new Int32Array(R+U+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var we=R,Ee=0;Ee<_.length;Ee++){var Ke=_[Ee];ve[Ka+Ee]=we,ve.set(Ke,we),we+=Ke.length}return ve[Ka+_.length]=we,ve.set(this.keys,we),we+=this.keys.length,ve[Ka+_.length+1]=we,ve.set(this.bboxes,we),we+=this.bboxes.length,ve.buffer};var zi=i.ImageData,ue=i.ImageBitmap,Ae={};function Be(_,R,U){U===void 0&&(U={}),Object.defineProperty(R,"_classRegistryKey",{value:_,writeable:!1}),Ae[_]={klass:R,omit:U.omit||[],shallow:U.shallow||[]}}Be("Object",Object),Na.serialize=function(R,U){var ae=R.toArrayBuffer();return U&&U.push(ae),{buffer:ae}},Na.deserialize=function(R){return new Na(R.buffer)},Be("Grid",Na),Be("Color",ti),Be("Error",Error),Be("ResolvedImage",bo),Be("StylePropertyFunction",fl),Be("StyleExpression",Ys,{omit:["_evaluator"]}),Be("ZoomDependentExpression",ds),Be("ZoomConstantExpression",Gi),Be("CompoundExpression",Ji,{omit:["_evaluate"]});for(var qe in Fl)Fl[qe]._classRegistryKey||Be("Expression_"+qe,Fl[qe]);function nt(_){return _&&typeof ArrayBuffer<"u"&&(_ instanceof ArrayBuffer||_.constructor&&_.constructor.name==="ArrayBuffer")}function ft(_){return ue&&_ instanceof ue}function _t(_,R){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp)return _;if(nt(_)||ft(_))return R&&R.push(_),_;if(ArrayBuffer.isView(_)){var U=_;return R&&R.push(U.buffer),U}if(_ instanceof zi)return R&&R.push(_.data.buffer),_;if(Array.isArray(_)){for(var ae=[],ve=0,we=_;ve<we.length;ve+=1){var Ee=we[ve];ae.push(_t(Ee,R))}return ae}if(typeof _=="object"){var Ke=_.constructor,pt=Ke._classRegistryKey;if(!pt)throw new Error("can't serialize object of unregistered class");var St=Ke.serialize?Ke.serialize(_,R):{};if(!Ke.serialize){for(var Rt in _)if(_.hasOwnProperty(Rt)&&!(Ae[pt].omit.indexOf(Rt)>=0)){var jt=_[Rt];St[Rt]=Ae[pt].shallow.indexOf(Rt)>=0?jt:_t(jt,R)}_ instanceof Error&&(St.message=_.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return pt!=="Object"&&(St.$name=pt),St}throw new Error("can't serialize object of type "+typeof _)}function At(_){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp||nt(_)||ft(_)||ArrayBuffer.isView(_)||_ instanceof zi)return _;if(Array.isArray(_))return _.map(At);if(typeof _=="object"){var R=_.$name||"Object",U=Ae[R],ae=U.klass;if(!ae)throw new Error("can't deserialize unregistered class "+R);if(ae.deserialize)return ae.deserialize(_);for(var ve=Object.create(ae.prototype),we=0,Ee=Object.keys(_);we<Ee.length;we+=1){var Ke=Ee[we];if(Ke!=="$name"){var pt=_[Ke];ve[Ke]=Ae[R].shallow.indexOf(Ke)>=0?pt:At(pt)}}return ve}throw new Error("can't deserialize object of type "+typeof _)}var Gt=function(){this.first=!0};Gt.prototype.update=function(R,U){var ae=Math.floor(R);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=R,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=U):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=U),R!==this.lastZoom?(this.lastZoom=R,this.lastFloorZoom=ae,!0):!1)};var Yt={"Latin-1 Supplement":function(_){return _>=128&&_<=255},Arabic:function(_){return _>=1536&&_<=1791},"Arabic Supplement":function(_){return _>=1872&&_<=1919},"Arabic Extended-A":function(_){return _>=2208&&_<=2303},"Hangul Jamo":function(_){return _>=4352&&_<=4607},"Unified Canadian Aboriginal Syllabics":function(_){return _>=5120&&_<=5759},Khmer:function(_){return _>=6016&&_<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(_){return _>=6320&&_<=6399},"General Punctuation":function(_){return _>=8192&&_<=8303},"Letterlike Symbols":function(_){return _>=8448&&_<=8527},"Number Forms":function(_){return _>=8528&&_<=8591},"Miscellaneous Technical":function(_){return _>=8960&&_<=9215},"Control Pictures":function(_){return _>=9216&&_<=9279},"Optical Character Recognition":function(_){return _>=9280&&_<=9311},"Enclosed Alphanumerics":function(_){return _>=9312&&_<=9471},"Geometric Shapes":function(_){return _>=9632&&_<=9727},"Miscellaneous Symbols":function(_){return _>=9728&&_<=9983},"Miscellaneous Symbols and Arrows":function(_){return _>=11008&&_<=11263},"CJK Radicals Supplement":function(_){return _>=11904&&_<=12031},"Kangxi Radicals":function(_){return _>=12032&&_<=12255},"Ideographic Description Characters":function(_){return _>=12272&&_<=12287},"CJK Symbols and Punctuation":function(_){return _>=12288&&_<=12351},Hiragana:function(_){return _>=12352&&_<=12447},Katakana:function(_){return _>=12448&&_<=12543},Bopomofo:function(_){return _>=12544&&_<=12591},"Hangul Compatibility Jamo":function(_){return _>=12592&&_<=12687},Kanbun:function(_){return _>=12688&&_<=12703},"Bopomofo Extended":function(_){return _>=12704&&_<=12735},"CJK Strokes":function(_){return _>=12736&&_<=12783},"Katakana Phonetic Extensions":function(_){return _>=12784&&_<=12799},"Enclosed CJK Letters and Months":function(_){return _>=12800&&_<=13055},"CJK Compatibility":function(_){return _>=13056&&_<=13311},"CJK Unified Ideographs Extension A":function(_){return _>=13312&&_<=19903},"Yijing Hexagram Symbols":function(_){return _>=19904&&_<=19967},"CJK Unified Ideographs":function(_){return _>=19968&&_<=40959},"Yi Syllables":function(_){return _>=40960&&_<=42127},"Yi Radicals":function(_){return _>=42128&&_<=42191},"Hangul Jamo Extended-A":function(_){return _>=43360&&_<=43391},"Hangul Syllables":function(_){return _>=44032&&_<=55215},"Hangul Jamo Extended-B":function(_){return _>=55216&&_<=55295},"Private Use Area":function(_){return _>=57344&&_<=63743},"CJK Compatibility Ideographs":function(_){return _>=63744&&_<=64255},"Arabic Presentation Forms-A":function(_){return _>=64336&&_<=65023},"Vertical Forms":function(_){return _>=65040&&_<=65055},"CJK Compatibility Forms":function(_){return _>=65072&&_<=65103},"Small Form Variants":function(_){return _>=65104&&_<=65135},"Arabic Presentation Forms-B":function(_){return _>=65136&&_<=65279},"Halfwidth and Fullwidth Forms":function(_){return _>=65280&&_<=65519}};function tr(_){for(var R=0,U=_;R<U.length;R+=1){var ae=U[R];if(sn(ae.charCodeAt(0)))return!0}return!1}function Cr(_){for(var R=0,U=_;R<U.length;R+=1){var ae=U[R];if(!Lr(ae.charCodeAt(0)))return!1}return!0}function Lr(_){return!(Yt.Arabic(_)||Yt["Arabic Supplement"](_)||Yt["Arabic Extended-A"](_)||Yt["Arabic Presentation Forms-A"](_)||Yt["Arabic Presentation Forms-B"](_))}function $r(_){return _<11904?!1:!!(Yt["Bopomofo Extended"](_)||Yt.Bopomofo(_)||Yt["CJK Compatibility Forms"](_)||Yt["CJK Compatibility Ideographs"](_)||Yt["CJK Compatibility"](_)||Yt["CJK Radicals Supplement"](_)||Yt["CJK Strokes"](_)||Yt["CJK Symbols and Punctuation"](_)||Yt["CJK Unified Ideographs Extension A"](_)||Yt["CJK Unified Ideographs"](_)||Yt["Enclosed CJK Letters and Months"](_)||Yt["Halfwidth and Fullwidth Forms"](_)||Yt.Hiragana(_)||Yt["Ideographic Description Characters"](_)||Yt["Kangxi Radicals"](_)||Yt["Katakana Phonetic Extensions"](_)||Yt.Katakana(_)||Yt["Vertical Forms"](_)||Yt["Yi Radicals"](_)||Yt["Yi Syllables"](_))}function sn(_){return _===746||_===747?!0:_<4352?!1:!!(Yt["Bopomofo Extended"](_)||Yt.Bopomofo(_)||Yt["CJK Compatibility Forms"](_)&&!(_>=65097&&_<=65103)||Yt["CJK Compatibility Ideographs"](_)||Yt["CJK Compatibility"](_)||Yt["CJK Radicals Supplement"](_)||Yt["CJK Strokes"](_)||Yt["CJK Symbols and Punctuation"](_)&&!(_>=12296&&_<=12305)&&!(_>=12308&&_<=12319)&&_!==12336||Yt["CJK Unified Ideographs Extension A"](_)||Yt["CJK Unified Ideographs"](_)||Yt["Enclosed CJK Letters and Months"](_)||Yt["Hangul Compatibility Jamo"](_)||Yt["Hangul Jamo Extended-A"](_)||Yt["Hangul Jamo Extended-B"](_)||Yt["Hangul Jamo"](_)||Yt["Hangul Syllables"](_)||Yt.Hiragana(_)||Yt["Ideographic Description Characters"](_)||Yt.Kanbun(_)||Yt["Kangxi Radicals"](_)||Yt["Katakana Phonetic Extensions"](_)||Yt.Katakana(_)&&_!==12540||Yt["Halfwidth and Fullwidth Forms"](_)&&_!==65288&&_!==65289&&_!==65293&&!(_>=65306&&_<=65310)&&_!==65339&&_!==65341&&_!==65343&&!(_>=65371&&_<=65503)&&_!==65507&&!(_>=65512&&_<=65519)||Yt["Small Form Variants"](_)&&!(_>=65112&&_<=65118)&&!(_>=65123&&_<=65126)||Yt["Unified Canadian Aboriginal Syllabics"](_)||Yt["Unified Canadian Aboriginal Syllabics Extended"](_)||Yt["Vertical Forms"](_)||Yt["Yijing Hexagram Symbols"](_)||Yt["Yi Syllables"](_)||Yt["Yi Radicals"](_))}function _r(_){return!!(Yt["Latin-1 Supplement"](_)&&(_===167||_===169||_===174||_===177||_===188||_===189||_===190||_===215||_===247)||Yt["General Punctuation"](_)&&(_===8214||_===8224||_===8225||_===8240||_===8241||_===8251||_===8252||_===8258||_===8263||_===8264||_===8265||_===8273)||Yt["Letterlike Symbols"](_)||Yt["Number Forms"](_)||Yt["Miscellaneous Technical"](_)&&(_>=8960&&_<=8967||_>=8972&&_<=8991||_>=8996&&_<=9e3||_===9003||_>=9085&&_<=9114||_>=9150&&_<=9165||_===9167||_>=9169&&_<=9179||_>=9186&&_<=9215)||Yt["Control Pictures"](_)&&_!==9251||Yt["Optical Character Recognition"](_)||Yt["Enclosed Alphanumerics"](_)||Yt["Geometric Shapes"](_)||Yt["Miscellaneous Symbols"](_)&&!(_>=9754&&_<=9759)||Yt["Miscellaneous Symbols and Arrows"](_)&&(_>=11026&&_<=11055||_>=11088&&_<=11097||_>=11192&&_<=11243)||Yt["CJK Symbols and Punctuation"](_)||Yt.Katakana(_)||Yt["Private Use Area"](_)||Yt["CJK Compatibility Forms"](_)||Yt["Small Form Variants"](_)||Yt["Halfwidth and Fullwidth Forms"](_)||_===8734||_===8756||_===8757||_>=9984&&_<=10087||_>=10102&&_<=10131||_===65532||_===65533)}function Vr(_){return!(sn(_)||_r(_))}function Kr(_){return Yt.Arabic(_)||Yt["Arabic Supplement"](_)||Yt["Arabic Extended-A"](_)||Yt["Arabic Presentation Forms-A"](_)||Yt["Arabic Presentation Forms-B"](_)}function hn(_){return _>=1424&&_<=2303||Yt["Arabic Presentation Forms-A"](_)||Yt["Arabic Presentation Forms-B"](_)}function pn(_,R){return!(!R&&hn(_)||_>=2304&&_<=3583||_>=3840&&_<=4255||Yt.Khmer(_))}function rn(_){for(var R=0,U=_;R<U.length;R+=1){var ae=U[R];if(hn(ae.charCodeAt(0)))return!0}return!1}function Hn(_,R){for(var U=0,ae=_;U<ae.length;U+=1){var ve=ae[U];if(!pn(ve.charCodeAt(0),R))return!1}return!0}var ra={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fa=null,ea=ra.unavailable,oa=null,ca=function(_){_&&typeof _=="string"&&_.indexOf("NetworkError")>-1&&(ea=ra.error),fa&&fa(_)};function Ua(){Ea.fire(new er("pluginStateChange",{pluginStatus:ea,pluginURL:oa}))}var Ea=new ir,Oa=function(){return ea},ii=function(_){return _({pluginStatus:ea,pluginURL:oa}),Ea.on("pluginStateChange",_),_},Fi=function(_,R,U){if(U===void 0&&(U=!1),ea===ra.deferred||ea===ra.loading||ea===ra.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");oa=se.resolveURL(_),ea=ra.deferred,fa=R,Ua(),U||ci()},ci=function(){if(ea!==ra.deferred||!oa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ea=ra.loading,Ua(),oa&&Bt({url:oa},function(_){_?ca(_):(ea=ra.loaded,Ua())})},qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ea===ra.loaded||qn.applyArabicShaping!=null},isLoading:function(){return ea===ra.loading},setState:function(R){ea=R.pluginStatus,oa=R.pluginURL},isParsed:function(){return qn.applyArabicShaping!=null&&qn.processBidirectionalText!=null&&qn.processStyledBidirectionalText!=null},getPluginURL:function(){return oa}},Ha=function(){!qn.isLoading()&&!qn.isLoaded()&&Oa()==="deferred"&&ci()},Sa=function(R,U){this.zoom=R,U?(this.now=U.now,this.fadeDuration=U.fadeDuration,this.zoomHistory=U.zoomHistory,this.transition=U.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gt,this.transition={})};Sa.prototype.isSupportedScript=function(R){return Hn(R,qn.isLoaded())},Sa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Sa.prototype.getCrossfadeParameters=function(){var R=this.zoom,U=R-Math.floor(R),ae=this.crossFadingFactor();return R>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:U+(1-U)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*U}};var Ja=function(R,U){this.property=R,this.value=U,this.expression=ju(U===void 0?R.specification.default:U,R.specification)};Ja.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ja.prototype.possiblyEvaluate=function(R,U,ae){return this.property.possiblyEvaluate(this,R,U,ae)};var wi=function(R){this.property=R,this.value=new Ja(R,void 0)};wi.prototype.transitioned=function(R,U){return new $i(this.property,this.value,U,x({},R.transition,this.transition),R.now)},wi.prototype.untransitioned=function(){return new $i(this.property,this.value,null,{},0)};var oi=function(R){this._properties=R,this._values=Object.create(R.defaultTransitionablePropertyValues)};oi.prototype.getValue=function(R){return N(this._values[R].value.value)},oi.prototype.setValue=function(R,U){this._values.hasOwnProperty(R)||(this._values[R]=new wi(this._values[R].property)),this._values[R].value=new Ja(this._values[R].property,U===null?void 0:N(U))},oi.prototype.getTransition=function(R){return N(this._values[R].transition)},oi.prototype.setTransition=function(R,U){this._values.hasOwnProperty(R)||(this._values[R]=new wi(this._values[R].property)),this._values[R].transition=N(U)||void 0},oi.prototype.serialize=function(){for(var R={},U=0,ae=Object.keys(this._values);U<ae.length;U+=1){var ve=ae[U],we=this.getValue(ve);we!==void 0&&(R[ve]=we);var Ee=this.getTransition(ve);Ee!==void 0&&(R[ve+"-transition"]=Ee)}return R},oi.prototype.transitioned=function(R,U){for(var ae=new qi(this._properties),ve=0,we=Object.keys(this._values);ve<we.length;ve+=1){var Ee=we[ve];ae._values[Ee]=this._values[Ee].transitioned(R,U._values[Ee])}return ae},oi.prototype.untransitioned=function(){for(var R=new qi(this._properties),U=0,ae=Object.keys(this._values);U<ae.length;U+=1){var ve=ae[U];R._values[ve]=this._values[ve].untransitioned()}return R};var $i=function(R,U,ae,ve,we){this.property=R,this.value=U,this.begin=we+ve.delay||0,this.end=this.begin+ve.duration||0,R.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ae)};$i.prototype.possiblyEvaluate=function(R,U,ae){var ve=R.now||0,we=this.value.possiblyEvaluate(R,U,ae),Ee=this.prior;if(Ee){if(ve>this.end)return this.prior=null,we;if(this.value.isDataDriven())return this.prior=null,we;if(ve<this.begin)return Ee.possiblyEvaluate(R,U,ae);var Ke=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Ee.possiblyEvaluate(R,U,ae),we,u(Ke))}else return we};var qi=function(R){this._properties=R,this._values=Object.create(R.defaultTransitioningPropertyValues)};qi.prototype.possiblyEvaluate=function(R,U,ae){for(var ve=new go(this._properties),we=0,Ee=Object.keys(this._values);we<Ee.length;we+=1){var Ke=Ee[we];ve._values[Ke]=this._values[Ke].possiblyEvaluate(R,U,ae)}return ve},qi.prototype.hasTransition=function(){for(var R=0,U=Object.keys(this._values);R<U.length;R+=1){var ae=U[R];if(this._values[ae].prior)return!0}return!1};var ao=function(R){this._properties=R,this._values=Object.create(R.defaultPropertyValues)};ao.prototype.getValue=function(R){return N(this._values[R].value)},ao.prototype.setValue=function(R,U){this._values[R]=new Ja(this._values[R].property,U===null?void 0:N(U))},ao.prototype.serialize=function(){for(var R={},U=0,ae=Object.keys(this._values);U<ae.length;U+=1){var ve=ae[U],we=this.getValue(ve);we!==void 0&&(R[ve]=we)}return R},ao.prototype.possiblyEvaluate=function(R,U,ae){for(var ve=new go(this._properties),we=0,Ee=Object.keys(this._values);we<Ee.length;we+=1){var Ke=Ee[we];ve._values[Ke]=this._values[Ke].possiblyEvaluate(R,U,ae)}return ve};var Ti=function(R,U,ae){this.property=R,this.value=U,this.parameters=ae};Ti.prototype.isConstant=function(){return this.value.kind==="constant"},Ti.prototype.constantOr=function(R){return this.value.kind==="constant"?this.value.value:R},Ti.prototype.evaluate=function(R,U,ae,ve){return this.property.evaluate(this.value,this.parameters,R,U,ae,ve)};var go=function(R){this._properties=R,this._values=Object.create(R.defaultPossiblyEvaluatedValues)};go.prototype.get=function(R){return this._values[R]};var la=function(R){this.specification=R};la.prototype.possiblyEvaluate=function(R,U){return R.expression.evaluate(U)},la.prototype.interpolate=function(R,U,ae){var ve=Fu[this.specification.type];return ve?ve(R,U,ae):R};var La=function(R,U){this.specification=R,this.overrides=U};La.prototype.possiblyEvaluate=function(R,U,ae,ve){return R.expression.kind==="constant"||R.expression.kind==="camera"?new Ti(this,{kind:"constant",value:R.expression.evaluate(U,null,{},ae,ve)},U):new Ti(this,R.expression,U)},La.prototype.interpolate=function(R,U,ae){if(R.value.kind!=="constant"||U.value.kind!=="constant")return R;if(R.value.value===void 0||U.value.value===void 0)return new Ti(this,{kind:"constant",value:void 0},R.parameters);var ve=Fu[this.specification.type];return ve?new Ti(this,{kind:"constant",value:ve(R.value.value,U.value.value,ae)},R.parameters):R},La.prototype.evaluate=function(R,U,ae,ve,we,Ee){return R.kind==="constant"?R.value:R.evaluate(U,ae,ve,we,Ee)};var Ro=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ae,ve,we,Ee){if(ae.value===void 0)return new Ti(this,{kind:"constant",value:void 0},ve);if(ae.expression.kind==="constant"){var Ke=ae.expression.evaluate(ve,null,{},we,Ee),pt=ae.property.specification.type==="resolvedImage",St=pt&&typeof Ke!="string"?Ke.name:Ke,Rt=this._calculate(St,St,St,ve);return new Ti(this,{kind:"constant",value:Rt},ve)}else if(ae.expression.kind==="camera"){var jt=this._calculate(ae.expression.evaluate({zoom:ve.zoom-1}),ae.expression.evaluate({zoom:ve.zoom}),ae.expression.evaluate({zoom:ve.zoom+1}),ve);return new Ti(this,{kind:"constant",value:jt},ve)}else return new Ti(this,ae.expression,ve)},R.prototype.evaluate=function(ae,ve,we,Ee,Ke,pt){if(ae.kind==="source"){var St=ae.evaluate(ve,we,Ee,Ke,pt);return this._calculate(St,St,St,ve)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(ve.zoom)-1},we,Ee),ae.evaluate({zoom:Math.floor(ve.zoom)},we,Ee),ae.evaluate({zoom:Math.floor(ve.zoom)+1},we,Ee),ve):ae.value},R.prototype._calculate=function(ae,ve,we,Ee){var Ke=Ee.zoom;return Ke>Ee.zoomHistory.lastIntegerZoom?{from:ae,to:ve}:{from:we,to:ve}},R.prototype.interpolate=function(ae){return ae},R}(La),Fo=function(R){this.specification=R};Fo.prototype.possiblyEvaluate=function(R,U,ae,ve){if(R.value!==void 0)if(R.expression.kind==="constant"){var we=R.expression.evaluate(U,null,{},ae,ve);return this._calculate(we,we,we,U)}else return this._calculate(R.expression.evaluate(new Sa(Math.floor(U.zoom-1),U)),R.expression.evaluate(new Sa(Math.floor(U.zoom),U)),R.expression.evaluate(new Sa(Math.floor(U.zoom+1),U)),U)},Fo.prototype._calculate=function(R,U,ae,ve){var we=ve.zoom;return we>ve.zoomHistory.lastIntegerZoom?{from:R,to:U}:{from:ae,to:U}},Fo.prototype.interpolate=function(R){return R};var io=function(R){this.specification=R};io.prototype.possiblyEvaluate=function(R,U,ae,ve){return!!R.expression.evaluate(U,null,{},ae,ve)},io.prototype.interpolate=function(){return!1};var hi=function(R){this.properties=R,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var U in R){var ae=R[U];ae.specification.overridable&&this.overridableProperties.push(U);var ve=this.defaultPropertyValues[U]=new Ja(ae,void 0),we=this.defaultTransitionablePropertyValues[U]=new wi(ae);this.defaultTransitioningPropertyValues[U]=we.untransitioned(),this.defaultPossiblyEvaluatedValues[U]=ve.possiblyEvaluate({})}};Be("DataDrivenProperty",La),Be("DataConstantProperty",la),Be("CrossFadedDataDrivenProperty",Ro),Be("CrossFadedProperty",Fo),Be("ColorRampProperty",io);var Wi="-transition",Ni=function(_){function R(U,ae){if(_.call(this),this.id=U.id,this.type=U.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},U.type!=="custom"&&(U=U,this.metadata=U.metadata,this.minzoom=U.minzoom,this.maxzoom=U.maxzoom,U.type!=="background"&&(this.source=U.source,this.sourceLayer=U["source-layer"],this.filter=U.filter),ae.layout&&(this._unevaluatedLayout=new ao(ae.layout)),ae.paint)){this._transitionablePaint=new oi(ae.paint);for(var ve in U.paint)this.setPaintProperty(ve,U.paint[ve],{validate:!1});for(var we in U.layout)this.setLayoutProperty(we,U.layout[we],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new go(ae.paint)}}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},R.prototype.setLayoutProperty=function(ae,ve,we){if(we===void 0&&(we={}),ve!=null){var Ee="layers."+this.id+".layout."+ae;if(this._validate(Da,Ee,ae,ve,we))return}if(ae==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ae,ve)},R.prototype.getPaintProperty=function(ae){return b(ae,Wi)?this._transitionablePaint.getTransition(ae.slice(0,-Wi.length)):this._transitionablePaint.getValue(ae)},R.prototype.setPaintProperty=function(ae,ve,we){if(we===void 0&&(we={}),ve!=null){var Ee="layers."+this.id+".paint."+ae;if(this._validate(Ra,Ee,ae,ve,we))return!1}if(b(ae,Wi))return this._transitionablePaint.setTransition(ae.slice(0,-Wi.length),ve||void 0),!1;var Ke=this._transitionablePaint._values[ae],pt=Ke.property.specification["property-type"]==="cross-faded-data-driven",St=Ke.value.isDataDriven(),Rt=Ke.value;this._transitionablePaint.setValue(ae,ve),this._handleSpecialPaintPropertyUpdate(ae);var jt=this._transitionablePaint._values[ae].value,rr=jt.isDataDriven();return rr||St||pt||this._handleOverridablePaintPropertyUpdate(ae,Rt,jt)},R.prototype._handleSpecialPaintPropertyUpdate=function(ae){},R.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,we){return!1},R.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},R.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(ae,ve){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,ve)},R.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),D(ae,function(ve,we){return ve!==void 0&&!(we==="layout"&&!Object.keys(ve).length)&&!(we==="paint"&&!Object.keys(ve).length)})},R.prototype._validate=function(ae,ve,we,Ee,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:ka(this,ae.call(Dn,{key:ve,layerType:this.type,objectKey:we,value:Ee,styleSpec:Ar,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var ae in this.paint._values){var ve=this.paint.get(ae);if(!(!(ve instanceof Ti)||!_s(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},R}(ir),ps={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ds=function(R,U){this._structArray=R,this._pos1=U*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Li=128,Gl=5,Qa=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Qa.serialize=function(R,U){return R._trim(),U&&(R.isTransferred=!0,U.push(R.arrayBuffer)),{length:R.length,arrayBuffer:R.arrayBuffer}},Qa.deserialize=function(R){var U=Object.create(this.prototype);return U.arrayBuffer=R.arrayBuffer,U.length=R.length,U.capacity=R.arrayBuffer.byteLength/U.bytesPerElement,U._refreshViews(),U},Qa.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Qa.prototype.clear=function(){this.length=0},Qa.prototype.resize=function(R){this.reserve(R),this.length=R},Qa.prototype.reserve=function(R){if(R>this.capacity){this.capacity=Math.max(R,Math.floor(this.capacity*Gl),Li),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var U=this.uint8;this._refreshViews(),U&&this.uint8.set(U)}},Qa.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Pi(_,R){R===void 0&&(R=1);var U=0,ae=0,ve=_.map(function(Ee){var Ke=uh(Ee.type),pt=U=Jd(U,Math.max(R,Ke)),St=Ee.components||1;return ae=Math.max(ae,Ke),U+=Ke*St,{name:Ee.name,type:Ee.type,components:St,offset:pt}}),we=Jd(U,Math.max(ae,R));return{members:ve,size:we,alignment:R}}function uh(_){return ps[_].BYTES_PER_ELEMENT}function Jd(_,R){return Math.ceil(_/R)*R}var Af=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ve)},R.prototype.emplace=function(ae,ve,we){var Ee=ae*2;return this.int16[Ee+0]=ve,this.int16[Ee+1]=we,ae},R}(Qa);Af.prototype.bytesPerElement=4,Be("StructArrayLayout2i4",Af);var Fv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,ve,we,Ee)},R.prototype.emplace=function(ae,ve,we,Ee,Ke){var pt=ae*4;return this.int16[pt+0]=ve,this.int16[pt+1]=we,this.int16[pt+2]=Ee,this.int16[pt+3]=Ke,ae},R}(Qa);Fv.prototype.bytesPerElement=8,Be("StructArrayLayout4i8",Fv);var Ku=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,ve,we,Ee,Ke,pt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St){var Rt=ae*6;return this.int16[Rt+0]=ve,this.int16[Rt+1]=we,this.int16[Rt+2]=Ee,this.int16[Rt+3]=Ke,this.int16[Rt+4]=pt,this.int16[Rt+5]=St,ae},R}(Qa);Ku.prototype.bytesPerElement=12,Be("StructArrayLayout2i4i12",Ku);var uc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,ve,we,Ee,Ke,pt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St){var Rt=ae*4,jt=ae*8;return this.int16[Rt+0]=ve,this.int16[Rt+1]=we,this.uint8[jt+4]=Ee,this.uint8[jt+5]=Ke,this.uint8[jt+6]=pt,this.uint8[jt+7]=St,ae},R}(Qa);uc.prototype.bytesPerElement=8,Be("StructArrayLayout2i4ub8",uc);var fc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ve)},R.prototype.emplace=function(ae,ve,we){var Ee=ae*2;return this.float32[Ee+0]=ve,this.float32[Ee+1]=we,ae},R}(Qa);fc.prototype.bytesPerElement=8,Be("StructArrayLayout2f8",fc);var ts=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr){var qt=this.length;return this.resize(qt+1),this.emplace(qt,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt){var br=ae*10;return this.uint16[br+0]=ve,this.uint16[br+1]=we,this.uint16[br+2]=Ee,this.uint16[br+3]=Ke,this.uint16[br+4]=pt,this.uint16[br+5]=St,this.uint16[br+6]=Rt,this.uint16[br+7]=jt,this.uint16[br+8]=rr,this.uint16[br+9]=qt,ae},R}(Qa);ts.prototype.bytesPerElement=20,Be("StructArrayLayout10ui20",ts);var Ju=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br){var cn=ae*12;return this.int16[cn+0]=ve,this.int16[cn+1]=we,this.int16[cn+2]=Ee,this.int16[cn+3]=Ke,this.uint16[cn+4]=pt,this.uint16[cn+5]=St,this.uint16[cn+6]=Rt,this.uint16[cn+7]=jt,this.int16[cn+8]=rr,this.int16[cn+9]=qt,this.int16[cn+10]=br,this.int16[cn+11]=Br,ae},R}(Qa);Ju.prototype.bytesPerElement=24,Be("StructArrayLayout4i4ui4i24",Ju);var Nv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*3;return this.float32[Ke+0]=ve,this.float32[Ke+1]=we,this.float32[Ke+2]=Ee,ae},R}(Qa);Nv.prototype.bytesPerElement=12,Be("StructArrayLayout3f12",Nv);var Bv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var we=ae*1;return this.uint32[we+0]=ve,ae},R}(Qa);Bv.prototype.bytesPerElement=4,Be("StructArrayLayout1ul4",Bv);var fh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt){var rr=this.length;return this.resize(rr+1),this.emplace(rr,ae,ve,we,Ee,Ke,pt,St,Rt,jt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr){var qt=ae*10,br=ae*5;return this.int16[qt+0]=ve,this.int16[qt+1]=we,this.int16[qt+2]=Ee,this.int16[qt+3]=Ke,this.int16[qt+4]=pt,this.int16[qt+5]=St,this.uint32[br+3]=Rt,this.uint16[qt+8]=jt,this.uint16[qt+9]=rr,ae},R}(Qa);fh.prototype.bytesPerElement=20,Be("StructArrayLayout6i1ul2ui20",fh);var kh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt){var St=this.length;return this.resize(St+1),this.emplace(St,ae,ve,we,Ee,Ke,pt)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St){var Rt=ae*6;return this.int16[Rt+0]=ve,this.int16[Rt+1]=we,this.int16[Rt+2]=Ee,this.int16[Rt+3]=Ke,this.int16[Rt+4]=pt,this.int16[Rt+5]=St,ae},R}(Qa);kh.prototype.bytesPerElement=12,Be("StructArrayLayout2i2i2i12",kh);var bu=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke){var pt=this.length;return this.resize(pt+1),this.emplace(pt,ae,ve,we,Ee,Ke)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt){var St=ae*4,Rt=ae*8;return this.float32[St+0]=ve,this.float32[St+1]=we,this.float32[St+2]=Ee,this.int16[Rt+6]=Ke,this.int16[Rt+7]=pt,ae},R}(Qa);bu.prototype.bytesPerElement=16,Be("StructArrayLayout2f1f2i16",bu);var gs=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,ve,we,Ee)},R.prototype.emplace=function(ae,ve,we,Ee,Ke){var pt=ae*12,St=ae*3;return this.uint8[pt+0]=ve,this.uint8[pt+1]=we,this.float32[St+1]=Ee,this.float32[St+2]=Ke,ae},R}(Qa);gs.prototype.bytesPerElement=12,Be("StructArrayLayout2ub2f12",gs);var wu=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*3;return this.uint16[Ke+0]=ve,this.uint16[Ke+1]=we,this.uint16[Ke+2]=Ee,ae},R}(Qa);wu.prototype.bytesPerElement=6,Be("StructArrayLayout3ui6",wu);var ch=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn){var Cn=this.length;return this.resize(Cn+1),this.emplace(Cn,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn,Cn){var kn=ae*24,Yn=ae*12,aa=ae*48;return this.int16[kn+0]=ve,this.int16[kn+1]=we,this.uint16[kn+2]=Ee,this.uint16[kn+3]=Ke,this.uint32[Yn+2]=pt,this.uint32[Yn+3]=St,this.uint32[Yn+4]=Rt,this.uint16[kn+10]=jt,this.uint16[kn+11]=rr,this.uint16[kn+12]=qt,this.float32[Yn+7]=br,this.float32[Yn+8]=Br,this.uint8[aa+36]=cn,this.uint8[aa+37]=nn,this.uint8[aa+38]=Ln,this.uint32[Yn+10]=yn,this.int16[kn+22]=Cn,ae},R}(Qa);ch.prototype.bytesPerElement=48,Be("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ch);var zh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta,Ta,pa,ba,Va,Aa,Ca){var ja=this.length;return this.resize(ja+1),this.emplace(ja,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta,Ta,pa,ba,Va,Aa,Ca)},R.prototype.emplace=function(ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta,Ta,pa,ba,Va,Aa,Ca,ja){var Ba=ae*34,li=ae*17;return this.int16[Ba+0]=ve,this.int16[Ba+1]=we,this.int16[Ba+2]=Ee,this.int16[Ba+3]=Ke,this.int16[Ba+4]=pt,this.int16[Ba+5]=St,this.int16[Ba+6]=Rt,this.int16[Ba+7]=jt,this.uint16[Ba+8]=rr,this.uint16[Ba+9]=qt,this.uint16[Ba+10]=br,this.uint16[Ba+11]=Br,this.uint16[Ba+12]=cn,this.uint16[Ba+13]=nn,this.uint16[Ba+14]=Ln,this.uint16[Ba+15]=yn,this.uint16[Ba+16]=Cn,this.uint16[Ba+17]=kn,this.uint16[Ba+18]=Yn,this.uint16[Ba+19]=aa,this.uint16[Ba+20]=ta,this.uint16[Ba+21]=Ta,this.uint16[Ba+22]=pa,this.uint32[li+12]=ba,this.float32[li+13]=Va,this.float32[li+14]=Aa,this.float32[li+15]=Ca,this.float32[li+16]=ja,ae},R}(Qa);zh.prototype.bytesPerElement=68,Be("StructArrayLayout8i15ui1ul4f68",zh);var cc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var we=ae*1;return this.float32[we+0]=ve,ae},R}(Qa);cc.prototype.bytesPerElement=4,Be("StructArrayLayout1f4",cc);var Uv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*3;return this.int16[Ke+0]=ve,this.int16[Ke+1]=we,this.int16[Ke+2]=Ee,ae},R}(Qa);Uv.prototype.bytesPerElement=6,Be("StructArrayLayout3i6",Uv);var Qu=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ae,ve,we)},R.prototype.emplace=function(ae,ve,we,Ee){var Ke=ae*2,pt=ae*4;return this.uint32[Ke+0]=ve,this.uint16[pt+2]=we,this.uint16[pt+3]=Ee,ae},R}(Qa);Qu.prototype.bytesPerElement=8,Be("StructArrayLayout1ul2ui8",Qu);var hh=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var we=this.length;return this.resize(we+1),this.emplace(we,ae,ve)},R.prototype.emplace=function(ae,ve,we){var Ee=ae*2;return this.uint16[Ee+0]=ve,this.uint16[Ee+1]=we,ae},R}(Qa);hh.prototype.bytesPerElement=4,Be("StructArrayLayout2ui4",hh);var hc=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var we=ae*1;return this.uint16[we+0]=ve,ae},R}(Qa);hc.prototype.bytesPerElement=2,Be("StructArrayLayout1ui2",hc);var Sf=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,we,Ee){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,ve,we,Ee)},R.prototype.emplace=function(ae,ve,we,Ee,Ke){var pt=ae*4;return this.float32[pt+0]=ve,this.float32[pt+1]=we,this.float32[pt+2]=Ee,this.float32[pt+3]=Ke,ae},R}(Qa);Sf.prototype.bytesPerElement=16,Be("StructArrayLayout4f16",Sf);var Qd=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var U={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return U.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},U.x1.get=function(){return this._structArray.int16[this._pos2+2]},U.y1.get=function(){return this._structArray.int16[this._pos2+3]},U.x2.get=function(){return this._structArray.int16[this._pos2+4]},U.y2.get=function(){return this._structArray.int16[this._pos2+5]},U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,U),R}(Ds);Qd.prototype.size=20;var Vv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new Qd(this,ae)},R}(fh);Be("CollisionBoxArray",Vv);var Mf=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},U.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},U.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},U.segment.get=function(){return this._structArray.uint16[this._pos2+10]},U.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},U.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},U.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},U.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},U.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},U.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},U.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},U.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},U.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},U.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},U.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,U),R}(Ds);Mf.prototype.size=48;var Hv=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new Mf(this,ae)},R}(ch);Be("PlacedSymbolArray",Hv);var vc=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},U.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},U.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},U.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},U.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},U.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},U.key.get=function(){return this._structArray.uint16[this._pos2+8]},U.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},U.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},U.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},U.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},U.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},U.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},U.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},U.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},U.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},U.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},U.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},U.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},U.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},U.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},U.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},U.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},U.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},U.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,U),R}(Ds);vc.prototype.size=68;var $d=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new vc(this,ae)},R}(zh);Be("SymbolInstanceArray",$d);var qd=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},R}(cc);Be("GlyphOffsetArray",qd);var hl=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.getx=function(ae){return this.int16[ae*3+0]},R.prototype.gety=function(ae){return this.int16[ae*3+1]},R.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},R}(Uv);Be("SymbolLineVertexArray",hl);var ep=function(_){function R(){_.apply(this,arguments)}_&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R;var U={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,U),R}(Ds);ep.prototype.size=8;var tp=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new ep(this,ae)},R}(Qu);Be("FeatureIndexArray",tp);var G0=Pi([{name:"a_pos",components:2,type:"Int16"}],4),rp=G0.members,oo=function(R){R===void 0&&(R=[]),this.segments=R};oo.prototype.prepareSegment=function(R,U,ae,ve){var we=this.segments[this.segments.length-1];return R>oo.MAX_VERTEX_ARRAY_LENGTH&&F("Max vertices per segment is "+oo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+R),(!we||we.vertexLength+R>oo.MAX_VERTEX_ARRAY_LENGTH||we.sortKey!==ve)&&(we={vertexOffset:U.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(we.sortKey=ve),this.segments.push(we)),we},oo.prototype.get=function(){return this.segments},oo.prototype.destroy=function(){for(var R=0,U=this.segments;R<U.length;R+=1){var ae=U[R];for(var ve in ae.vaos)ae.vaos[ve].destroy()}},oo.simpleSegment=function(R,U,ae,ve){return new oo([{vertexOffset:R,primitiveOffset:U,vertexLength:ae,primitiveLength:ve,vaos:{},sortKey:0}])},oo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Be("SegmentVector",oo);function ce(_,R){return _=h(Math.floor(_),0,255),R=h(Math.floor(R),0,255),256*_+R}var Z=Pi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=L(function(_){function R(U,ae){var ve,we,Ee,Ke,pt,St,Rt,jt;for(ve=U.length&3,we=U.length-ve,Ee=ae,pt=3432918353,St=461845907,jt=0;jt<we;)Rt=U.charCodeAt(jt)&255|(U.charCodeAt(++jt)&255)<<8|(U.charCodeAt(++jt)&255)<<16|(U.charCodeAt(++jt)&255)<<24,++jt,Rt=(Rt&65535)*pt+(((Rt>>>16)*pt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Ee^=Rt,Ee=Ee<<13|Ee>>>19,Ke=(Ee&65535)*5+(((Ee>>>16)*5&65535)<<16)&4294967295,Ee=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(Rt=0,ve){case 3:Rt^=(U.charCodeAt(jt+2)&255)<<16;case 2:Rt^=(U.charCodeAt(jt+1)&255)<<8;case 1:Rt^=U.charCodeAt(jt)&255,Rt=(Rt&65535)*pt+(((Rt>>>16)*pt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Ee^=Rt}return Ee^=U.length,Ee^=Ee>>>16,Ee=(Ee&65535)*2246822507+(((Ee>>>16)*2246822507&65535)<<16)&4294967295,Ee^=Ee>>>13,Ee=(Ee&65535)*3266489909+(((Ee>>>16)*3266489909&65535)<<16)&4294967295,Ee^=Ee>>>16,Ee>>>0}_.exports=R}),q=L(function(_){function R(U,ae){for(var ve=U.length,we=ae^ve,Ee=0,Ke;ve>=4;)Ke=U.charCodeAt(Ee)&255|(U.charCodeAt(++Ee)&255)<<8|(U.charCodeAt(++Ee)&255)<<16|(U.charCodeAt(++Ee)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)^Ke,ve-=4,++Ee;switch(ve){case 3:we^=(U.charCodeAt(Ee+2)&255)<<16;case 2:we^=(U.charCodeAt(Ee+1)&255)<<8;case 1:we^=U.charCodeAt(Ee)&255,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)}return we^=we>>>13,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16),we^=we>>>15,we>>>0}_.exports=R}),pe=de,Oe=de,Xe=q;pe.murmur3=Oe,pe.murmur2=Xe;var ut=function(){this.ids=[],this.positions=[],this.indexed=!1};ut.prototype.add=function(R,U,ae,ve){this.ids.push(Vt(R)),this.positions.push(U,ae,ve)},ut.prototype.getPositions=function(R){for(var U=Vt(R),ae=0,ve=this.ids.length-1;ae<ve;){var we=ae+ve>>1;this.ids[we]>=U?ve=we:ae=we+1}for(var Ee=[];this.ids[ae]===U;){var Ke=this.positions[3*ae],pt=this.positions[3*ae+1],St=this.positions[3*ae+2];Ee.push({index:Ke,start:pt,end:St}),ae++}return Ee},ut.serialize=function(R,U){var ae=new Float64Array(R.ids),ve=new Uint32Array(R.positions);return $t(ae,ve,0,ae.length-1),U&&U.push(ae.buffer,ve.buffer),{ids:ae,positions:ve}},ut.deserialize=function(R){var U=new ut;return U.ids=R.ids,U.positions=R.positions,U.indexed=!0,U};var Lt=Math.pow(2,53)-1;function Vt(_){var R=+_;return!isNaN(R)&&R<=Lt?R:pe(String(_))}function $t(_,R,U,ae){for(;U<ae;){for(var ve=_[U+ae>>1],we=U-1,Ee=ae+1;;){do we++;while(_[we]<ve);do Ee--;while(_[Ee]>ve);if(we>=Ee)break;ur(_,we,Ee),ur(R,3*we,3*Ee),ur(R,3*we+1,3*Ee+1),ur(R,3*we+2,3*Ee+2)}Ee-U<ae-Ee?($t(_,R,U,Ee),U=Ee+1):($t(_,R,Ee+1,ae),ae=Ee)}}function ur(_,R,U){var ae=_[R];_[R]=_[U],_[U]=ae}Be("FeaturePositionMap",ut);var sr=function(R,U){this.gl=R.gl,this.location=U},kr=function(_){function R(U,ae){_.call(this,U,ae),this.current=0}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},R}(sr),Xr=function(_){function R(U,ae){_.call(this,U,ae),this.current=0}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},R}(sr),jr=function(_){function R(U,ae){_.call(this,U,ae),this.current=[0,0]}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},R}(sr),Wr=function(_){function R(U,ae){_.call(this,U,ae),this.current=[0,0,0]}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},R}(sr),Qr=function(_){function R(U,ae){_.call(this,U,ae),this.current=[0,0,0,0]}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},R}(sr),dn=function(_){function R(U,ae){_.call(this,U,ae),this.current=ti.transparent}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},R}(sr),In=new Float32Array(16),Bn=function(_){function R(U,ae){_.call(this,U,ae),this.current=In}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var ve=1;ve<16;ve++)if(ae[ve]!==this.current[ve]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},R}(sr);function jn(_){return[ce(255*_.r,255*_.g),ce(255*_.b,255*_.a)]}var Xn=function(R,U,ae){this.value=R,this.uniformNames=U.map(function(ve){return"u_"+ve}),this.type=ae};Xn.prototype.setUniform=function(R,U,ae){R.set(ae.constantOr(this.value))},Xn.prototype.getBinding=function(R,U,ae){return this.type==="color"?new dn(R,U):new Xr(R,U)};var Wn=function(R,U){this.uniformNames=U.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Wn.prototype.setConstantPatternPositions=function(R,U){this.pixelRatioFrom=U.pixelRatio,this.pixelRatioTo=R.pixelRatio,this.patternFrom=U.tlbr,this.patternTo=R.tlbr},Wn.prototype.setUniform=function(R,U,ae,ve){var we=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;we&&R.set(we)},Wn.prototype.getBinding=function(R,U,ae){return ae.substr(0,9)==="u_pattern"?new Qr(R,U):new Xr(R,U)};var Kn=function(R,U,ae,ve){this.expression=R,this.type=ae,this.maxValue=0,this.paintVertexAttributes=U.map(function(we){return{name:"a_"+we,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};Kn.prototype.populatePaintArray=function(R,U,ae,ve,we){var Ee=this.paintVertexArray.length,Ke=this.expression.evaluate(new Sa(0),U,{},ve,[],we);this.paintVertexArray.resize(R),this._setPaintValue(Ee,R,Ke)},Kn.prototype.updatePaintArray=function(R,U,ae,ve){var we=this.expression.evaluate({zoom:0},ae,ve);this._setPaintValue(R,U,we)},Kn.prototype._setPaintValue=function(R,U,ae){if(this.type==="color")for(var ve=jn(ae),we=R;we<U;we++)this.paintVertexArray.emplace(we,ve[0],ve[1]);else{for(var Ee=R;Ee<U;Ee++)this.paintVertexArray.emplace(Ee,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},Kn.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Kn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var na=function(R,U,ae,ve,we,Ee){this.expression=R,this.uniformNames=U.map(function(Ke){return"u_"+Ke+"_t"}),this.type=ae,this.useIntegerZoom=ve,this.zoom=we,this.maxValue=0,this.paintVertexAttributes=U.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new Ee};na.prototype.populatePaintArray=function(R,U,ae,ve,we){var Ee=this.expression.evaluate(new Sa(this.zoom),U,{},ve,[],we),Ke=this.expression.evaluate(new Sa(this.zoom+1),U,{},ve,[],we),pt=this.paintVertexArray.length;this.paintVertexArray.resize(R),this._setPaintValue(pt,R,Ee,Ke)},na.prototype.updatePaintArray=function(R,U,ae,ve){var we=this.expression.evaluate({zoom:this.zoom},ae,ve),Ee=this.expression.evaluate({zoom:this.zoom+1},ae,ve);this._setPaintValue(R,U,we,Ee)},na.prototype._setPaintValue=function(R,U,ae,ve){if(this.type==="color")for(var we=jn(ae),Ee=jn(ve),Ke=R;Ke<U;Ke++)this.paintVertexArray.emplace(Ke,we[0],we[1],Ee[0],Ee[1]);else{for(var pt=R;pt<U;pt++)this.paintVertexArray.emplace(pt,ae,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(ve))}},na.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},na.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},na.prototype.setUniform=function(R,U){var ae=this.useIntegerZoom?Math.floor(U.zoom):U.zoom,ve=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);R.set(ve)},na.prototype.getBinding=function(R,U,ae){return new Xr(R,U)};var ua=function(R,U,ae,ve,we,Ee){this.expression=R,this.type=U,this.useIntegerZoom=ae,this.zoom=ve,this.layerId=Ee,this.zoomInPaintVertexArray=new we,this.zoomOutPaintVertexArray=new we};ua.prototype.populatePaintArray=function(R,U,ae){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(R),this.zoomOutPaintVertexArray.resize(R),this._setPaintValues(ve,R,U.patterns&&U.patterns[this.layerId],ae)},ua.prototype.updatePaintArray=function(R,U,ae,ve,we){this._setPaintValues(R,U,ae.patterns&&ae.patterns[this.layerId],we)},ua.prototype._setPaintValues=function(R,U,ae,ve){if(!(!ve||!ae)){var we=ae.min,Ee=ae.mid,Ke=ae.max,pt=ve[we],St=ve[Ee],Rt=ve[Ke];if(!(!pt||!St||!Rt))for(var jt=R;jt<U;jt++)this.zoomInPaintVertexArray.emplace(jt,St.tl[0],St.tl[1],St.br[0],St.br[1],pt.tl[0],pt.tl[1],pt.br[0],pt.br[1],St.pixelRatio,pt.pixelRatio),this.zoomOutPaintVertexArray.emplace(jt,St.tl[0],St.tl[1],St.br[0],St.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],St.pixelRatio,Rt.pixelRatio)}},ua.prototype.upload=function(R){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=R.createVertexBuffer(this.zoomInPaintVertexArray,Z.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=R.createVertexBuffer(this.zoomOutPaintVertexArray,Z.members,this.expression.isStateDependent))},ua.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var xa=function(R,U,ae){this.binders={},this._buffers=[];var ve=[];for(var we in R.paint._values)if(ae(we)){var Ee=R.paint.get(we);if(!(!(Ee instanceof Ti)||!_s(Ee.property.specification))){var Ke=Fa(we,R.type),pt=Ee.value,St=Ee.property.specification.type,Rt=Ee.property.useIntegerZoom,jt=Ee.property.specification["property-type"],rr=jt==="cross-faded"||jt==="cross-faded-data-driven";if(pt.kind==="constant")this.binders[we]=rr?new Wn(pt.value,Ke):new Xn(pt.value,Ke,St),ve.push("/u_"+we);else if(pt.kind==="source"||rr){var qt=Xa(we,St,"source");this.binders[we]=rr?new ua(pt,St,Rt,U,qt,R.id):new Kn(pt,Ke,St,qt),ve.push("/a_"+we)}else{var br=Xa(we,St,"composite");this.binders[we]=new na(pt,Ke,St,Rt,U,br),ve.push("/z_"+we)}}}this.cacheKey=ve.sort().join("")};xa.prototype.getMaxValue=function(R){var U=this.binders[R];return U instanceof Kn||U instanceof na?U.maxValue:0},xa.prototype.populatePaintArrays=function(R,U,ae,ve,we){for(var Ee in this.binders){var Ke=this.binders[Ee];(Ke instanceof Kn||Ke instanceof na||Ke instanceof ua)&&Ke.populatePaintArray(R,U,ae,ve,we)}},xa.prototype.setConstantPatternPositions=function(R,U){for(var ae in this.binders){var ve=this.binders[ae];ve instanceof Wn&&ve.setConstantPatternPositions(R,U)}},xa.prototype.updatePaintArrays=function(R,U,ae,ve,we){var Ee=!1;for(var Ke in R)for(var pt=U.getPositions(Ke),St=0,Rt=pt;St<Rt.length;St+=1){var jt=Rt[St],rr=ae.feature(jt.index);for(var qt in this.binders){var br=this.binders[qt];if((br instanceof Kn||br instanceof na||br instanceof ua)&&br.expression.isStateDependent===!0){var Br=ve.paint.get(qt);br.expression=Br.value,br.updatePaintArray(jt.start,jt.end,rr,R[Ke],we),Ee=!0}}}return Ee},xa.prototype.defines=function(){var R=[];for(var U in this.binders){var ae=this.binders[U];(ae instanceof Xn||ae instanceof Wn)&&R.push.apply(R,ae.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return R},xa.prototype.getBinderAttributes=function(){var R=[];for(var U in this.binders){var ae=this.binders[U];if(ae instanceof Kn||ae instanceof na)for(var ve=0;ve<ae.paintVertexAttributes.length;ve++)R.push(ae.paintVertexAttributes[ve].name);else if(ae instanceof ua)for(var we=0;we<Z.members.length;we++)R.push(Z.members[we].name)}return R},xa.prototype.getBinderUniforms=function(){var R=[];for(var U in this.binders){var ae=this.binders[U];if(ae instanceof Xn||ae instanceof Wn||ae instanceof na)for(var ve=0,we=ae.uniformNames;ve<we.length;ve+=1){var Ee=we[ve];R.push(Ee)}}return R},xa.prototype.getPaintVertexBuffers=function(){return this._buffers},xa.prototype.getUniforms=function(R,U){var ae=[];for(var ve in this.binders){var we=this.binders[ve];if(we instanceof Xn||we instanceof Wn||we instanceof na)for(var Ee=0,Ke=we.uniformNames;Ee<Ke.length;Ee+=1){var pt=Ke[Ee];if(U[pt]){var St=we.getBinding(R,U[pt],pt);ae.push({name:pt,property:ve,binding:St})}}}return ae},xa.prototype.setUniforms=function(R,U,ae,ve){for(var we=0,Ee=U;we<Ee.length;we+=1){var Ke=Ee[we],pt=Ke.name,St=Ke.property,Rt=Ke.binding;this.binders[St].setUniform(Rt,ve,ae.get(St),pt)}},xa.prototype.updatePaintBuffers=function(R){this._buffers=[];for(var U in this.binders){var ae=this.binders[U];if(R&&ae instanceof ua){var ve=R.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ae instanceof Kn||ae instanceof na)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},xa.prototype.upload=function(R){for(var U in this.binders){var ae=this.binders[U];(ae instanceof Kn||ae instanceof na||ae instanceof ua)&&ae.upload(R)}this.updatePaintBuffers()},xa.prototype.destroy=function(){for(var R in this.binders){var U=this.binders[R];(U instanceof Kn||U instanceof na||U instanceof ua)&&U.destroy()}};var da=function(R,U,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var ve=0,we=R;ve<we.length;ve+=1){var Ee=we[ve];this.programConfigurations[Ee.id]=new xa(Ee,U,ae)}this.needsUpload=!1,this._featureMap=new ut,this._bufferOffset=0};da.prototype.populatePaintArrays=function(R,U,ae,ve,we,Ee){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(R,U,ve,we,Ee);U.id!==void 0&&this._featureMap.add(U.id,ae,this._bufferOffset,R),this._bufferOffset=R,this.needsUpload=!0},da.prototype.updatePaintArrays=function(R,U,ae,ve){for(var we=0,Ee=ae;we<Ee.length;we+=1){var Ke=Ee[we];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(R,this._featureMap,U,Ke,ve)||this.needsUpload}},da.prototype.get=function(R){return this.programConfigurations[R]},da.prototype.upload=function(R){if(this.needsUpload){for(var U in this.programConfigurations)this.programConfigurations[U].upload(R);this.needsUpload=!1}},da.prototype.destroy=function(){for(var R in this.programConfigurations)this.programConfigurations[R].destroy()};function Fa(_,R){var U={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return U[_]||[_.replace(R+"-","").replace(/-/g,"_")]}function qa(_){var R={"line-pattern":{source:ts,composite:ts},"fill-pattern":{source:ts,composite:ts},"fill-extrusion-pattern":{source:ts,composite:ts}};return R[_]}function Xa(_,R,U){var ae={color:{source:fc,composite:Sf},number:{source:cc,composite:fc}},ve=qa(_);return ve&&ve[U]||ae[R][U]}Be("ConstantBinder",Xn),Be("CrossFadedConstantBinder",Wn),Be("SourceExpressionBinder",Kn),Be("CrossFadedCompositeBinder",ua),Be("CompositeExpressionBinder",na),Be("ProgramConfiguration",xa,{omit:["_buffers"]}),Be("ProgramConfigurationSet",da);var Ma=8192,Za=15,Ga=Math.pow(2,Za-1)-1,si=-Ga-1;function ri(_){for(var R=Ma/_.extent,U=_.loadGeometry(),ae=0;ae<U.length;ae++)for(var ve=U[ae],we=0;we<ve.length;we++){var Ee=ve[we],Ke=Math.round(Ee.x*R),pt=Math.round(Ee.y*R);Ee.x=h(Ke,si,Ga),Ee.y=h(pt,si,Ga),(Ke<Ee.x||Ke>Ee.x+1||pt<Ee.y||pt>Ee.y+1)&&F("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return U}function Si(_,R){return{type:_.type,id:_.id,properties:_.properties,geometry:R?ri(_):[]}}function $a(_,R,U,ae,ve){_.emplaceBack(R*2+(ae+1)/2,U*2+(ve+1)/2)}var mi=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Af,this.indexArray=new wu,this.segments=new oo,this.programConfigurations=new da(R.layers,R.zoom),this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};mi.prototype.populate=function(R,U,ae){var ve=this.layers[0],we=[],Ee=null;ve.type==="circle"&&(Ee=ve.layout.get("circle-sort-key"));for(var Ke=0,pt=R;Ke<pt.length;Ke+=1){var St=pt[Ke],Rt=St.feature,jt=St.id,rr=St.index,qt=St.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Br=Si(Rt,br);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),Br,ae)){var cn=Ee?Ee.evaluate(Br,{},ae):void 0,nn={id:jt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:qt,index:rr,geometry:br?Br.geometry:ri(Rt),patterns:{},sortKey:cn};we.push(nn)}}Ee&&we.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var Ln=0,yn=we;Ln<yn.length;Ln+=1){var Cn=yn[Ln],kn=Cn,Yn=kn.geometry,aa=kn.index,ta=kn.sourceLayerIndex,Ta=R[aa].feature;this.addFeature(Cn,Yn,aa,ae),U.featureIndex.insert(Ta,Yn,aa,ta,this.index)}},mi.prototype.update=function(R,U,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,U,this.stateDependentLayers,ae)},mi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},mi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},mi.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,rp),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},mi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},mi.prototype.addFeature=function(R,U,ae,ve){for(var we=0,Ee=U;we<Ee.length;we+=1)for(var Ke=Ee[we],pt=0,St=Ke;pt<St.length;pt+=1){var Rt=St[pt],jt=Rt.x,rr=Rt.y;if(!(jt<0||jt>=Ma||rr<0||rr>=Ma)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,R.sortKey),br=qt.vertexLength;$a(this.layoutVertexArray,jt,rr,-1,-1),$a(this.layoutVertexArray,jt,rr,1,-1),$a(this.layoutVertexArray,jt,rr,1,1),$a(this.layoutVertexArray,jt,rr,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,{},ve)},Be("CircleBucket",mi,{omit:["layers"]});function Wa(_,R){for(var U=0;U<_.length;U++)if(rs(R,_[U]))return!0;for(var ae=0;ae<R.length;ae++)if(rs(_,R[ae]))return!0;return!!Js(_,R)}function ei(_,R,U){return!!(rs(_,R)||Wl(R,_,U))}function Bi(_,R){if(_.length===1)return Yl(R,_[0]);for(var U=0;U<R.length;U++)for(var ae=R[U],ve=0;ve<ae.length;ve++)if(rs(_,ae[ve]))return!0;for(var we=0;we<_.length;we++)if(Yl(R,_[we]))return!0;for(var Ee=0;Ee<R.length;Ee++)if(Js(_,R[Ee]))return!0;return!1}function yo(_,R,U){for(var ae=0;ae<R.length;ae++){var ve=R[ae];if(_.length>=3){for(var we=0;we<ve.length;we++)if(rs(_,ve[we]))return!0}if(Ks(_,ve,U))return!0}return!1}function Ks(_,R,U){if(_.length>1){if(Js(_,R))return!0;for(var ae=0;ae<R.length;ae++)if(Wl(R[ae],_,U))return!0}for(var ve=0;ve<_.length;ve++)if(Wl(_[ve],R,U))return!0;return!1}function Js(_,R){if(_.length===0||R.length===0)return!1;for(var U=0;U<_.length-1;U++)for(var ae=_[U],ve=_[U+1],we=0;we<R.length-1;we++){var Ee=R[we],Ke=R[we+1];if(vl(ae,ve,Ee,Ke))return!0}return!1}function vl(_,R,U,ae){return z(_,U,ae)!==z(R,U,ae)&&z(_,R,U)!==z(_,R,ae)}function Wl(_,R,U){var ae=U*U;if(R.length===1)return _.distSqr(R[0])<ae;for(var ve=1;ve<R.length;ve++){var we=R[ve-1],Ee=R[ve];if(Ef(_,we,Ee)<ae)return!0}return!1}function Ef(_,R,U){var ae=R.distSqr(U);if(ae===0)return _.distSqr(R);var ve=((_.x-R.x)*(U.x-R.x)+(_.y-R.y)*(U.y-R.y))/ae;return ve<0?_.distSqr(R):ve>1?_.distSqr(U):_.distSqr(U.sub(R)._mult(ve)._add(R))}function Yl(_,R){for(var U=!1,ae,ve,we,Ee=0;Ee<_.length;Ee++){ae=_[Ee];for(var Ke=0,pt=ae.length-1;Ke<ae.length;pt=Ke++)ve=ae[Ke],we=ae[pt],ve.y>R.y!=we.y>R.y&&R.x<(we.x-ve.x)*(R.y-ve.y)/(we.y-ve.y)+ve.x&&(U=!U)}return U}function rs(_,R){for(var U=!1,ae=0,ve=_.length-1;ae<_.length;ve=ae++){var we=_[ae],Ee=_[ve];we.y>R.y!=Ee.y>R.y&&R.x<(Ee.x-we.x)*(R.y-we.y)/(Ee.y-we.y)+we.x&&(U=!U)}return U}function jl(_,R,U,ae,ve){for(var we=0,Ee=_;we<Ee.length;we+=1){var Ke=Ee[we];if(R<=Ke.x&&U<=Ke.y&&ae>=Ke.x&&ve>=Ke.y)return!0}var pt=[new r(R,U),new r(R,ve),new r(ae,ve),new r(ae,U)];if(_.length>2)for(var St=0,Rt=pt;St<Rt.length;St+=1){var jt=Rt[St];if(rs(_,jt))return!0}for(var rr=0;rr<_.length-1;rr++){var qt=_[rr],br=_[rr+1];if(ys(qt,br,pt))return!0}return!1}function ys(_,R,U){var ae=U[0],ve=U[2];if(_.x<ae.x&&R.x<ae.x||_.x>ve.x&&R.x>ve.x||_.y<ae.y&&R.y<ae.y||_.y>ve.y&&R.y>ve.y)return!1;var we=z(_,R,U[0]);return we!==z(_,R,U[1])||we!==z(_,R,U[2])||we!==z(_,R,U[3])}function ns(_,R,U){var ae=R.paint.get(_).value;return ae.kind==="constant"?ae.value:U.programConfigurations.get(R.id).getMaxValue(_)}function dl(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function Tu(_,R,U,ae,ve){if(!R[0]&&!R[1])return _;var we=r.convert(R)._mult(ve);U==="viewport"&&we._rotate(-ae);for(var Ee=[],Ke=0;Ke<_.length;Ke++){var pt=_[Ke];Ee.push(pt.sub(we))}return Ee}var pl=new hi({"circle-sort-key":new La(Ar.layout_circle["circle-sort-key"])}),Oh=new hi({"circle-radius":new La(Ar.paint_circle["circle-radius"]),"circle-color":new La(Ar.paint_circle["circle-color"]),"circle-blur":new La(Ar.paint_circle["circle-blur"]),"circle-opacity":new La(Ar.paint_circle["circle-opacity"]),"circle-translate":new la(Ar.paint_circle["circle-translate"]),"circle-translate-anchor":new la(Ar.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new la(Ar.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new la(Ar.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new La(Ar.paint_circle["circle-stroke-width"]),"circle-stroke-color":new La(Ar.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new La(Ar.paint_circle["circle-stroke-opacity"])}),dc={paint:Oh,layout:pl},To=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var _=arguments,R=0,U=arguments.length;U--;)R+=_[U]*_[U];return Math.sqrt(R)});function Fh(){var _=new To(4);return To!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}function vh(_,R,U){var ae=R[0],ve=R[1],we=R[2],Ee=R[3],Ke=Math.sin(U),pt=Math.cos(U);return _[0]=ae*pt+we*Ke,_[1]=ve*pt+Ee*Ke,_[2]=ae*-Ke+we*pt,_[3]=ve*-Ke+Ee*pt,_}function Ho(){var _=new To(9);return To!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function pc(_,R){var U=Math.sin(R),ae=Math.cos(R);return _[0]=ae,_[1]=U,_[2]=0,_[3]=-U,_[4]=ae,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function Nh(){var _=new To(16);return To!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_}function Bh(_){var R=new To(16);return R[0]=_[0],R[1]=_[1],R[2]=_[2],R[3]=_[3],R[4]=_[4],R[5]=_[5],R[6]=_[6],R[7]=_[7],R[8]=_[8],R[9]=_[9],R[10]=_[10],R[11]=_[11],R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15],R}function Uh(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function gc(_,R){var U=R[0],ae=R[1],ve=R[2],we=R[3],Ee=R[4],Ke=R[5],pt=R[6],St=R[7],Rt=R[8],jt=R[9],rr=R[10],qt=R[11],br=R[12],Br=R[13],cn=R[14],nn=R[15],Ln=U*Ke-ae*Ee,yn=U*pt-ve*Ee,Cn=U*St-we*Ee,kn=ae*pt-ve*Ke,Yn=ae*St-we*Ke,aa=ve*St-we*pt,ta=Rt*Br-jt*br,Ta=Rt*cn-rr*br,pa=Rt*nn-qt*br,ba=jt*cn-rr*Br,Va=jt*nn-qt*Br,Aa=rr*nn-qt*cn,Ca=Ln*Aa-yn*Va+Cn*ba+kn*pa-Yn*Ta+aa*ta;return Ca?(Ca=1/Ca,_[0]=(Ke*Aa-pt*Va+St*ba)*Ca,_[1]=(ve*Va-ae*Aa-we*ba)*Ca,_[2]=(Br*aa-cn*Yn+nn*kn)*Ca,_[3]=(rr*Yn-jt*aa-qt*kn)*Ca,_[4]=(pt*pa-Ee*Aa-St*Ta)*Ca,_[5]=(U*Aa-ve*pa+we*Ta)*Ca,_[6]=(cn*Cn-br*aa-nn*yn)*Ca,_[7]=(Rt*aa-rr*Cn+qt*yn)*Ca,_[8]=(Ee*Va-Ke*pa+St*ta)*Ca,_[9]=(ae*pa-U*Va-we*ta)*Ca,_[10]=(br*Yn-Br*Cn+nn*Ln)*Ca,_[11]=(jt*Cn-Rt*Yn-qt*Ln)*Ca,_[12]=(Ke*Ta-Ee*ba-pt*ta)*Ca,_[13]=(U*ba-ae*Ta+ve*ta)*Ca,_[14]=(Br*yn-br*kn-cn*Ln)*Ca,_[15]=(Rt*kn-jt*yn+rr*Ln)*Ca,_):null}function yc(_,R,U){var ae=R[0],ve=R[1],we=R[2],Ee=R[3],Ke=R[4],pt=R[5],St=R[6],Rt=R[7],jt=R[8],rr=R[9],qt=R[10],br=R[11],Br=R[12],cn=R[13],nn=R[14],Ln=R[15],yn=U[0],Cn=U[1],kn=U[2],Yn=U[3];return _[0]=yn*ae+Cn*Ke+kn*jt+Yn*Br,_[1]=yn*ve+Cn*pt+kn*rr+Yn*cn,_[2]=yn*we+Cn*St+kn*qt+Yn*nn,_[3]=yn*Ee+Cn*Rt+kn*br+Yn*Ln,yn=U[4],Cn=U[5],kn=U[6],Yn=U[7],_[4]=yn*ae+Cn*Ke+kn*jt+Yn*Br,_[5]=yn*ve+Cn*pt+kn*rr+Yn*cn,_[6]=yn*we+Cn*St+kn*qt+Yn*nn,_[7]=yn*Ee+Cn*Rt+kn*br+Yn*Ln,yn=U[8],Cn=U[9],kn=U[10],Yn=U[11],_[8]=yn*ae+Cn*Ke+kn*jt+Yn*Br,_[9]=yn*ve+Cn*pt+kn*rr+Yn*cn,_[10]=yn*we+Cn*St+kn*qt+Yn*nn,_[11]=yn*Ee+Cn*Rt+kn*br+Yn*Ln,yn=U[12],Cn=U[13],kn=U[14],Yn=U[15],_[12]=yn*ae+Cn*Ke+kn*jt+Yn*Br,_[13]=yn*ve+Cn*pt+kn*rr+Yn*cn,_[14]=yn*we+Cn*St+kn*qt+Yn*nn,_[15]=yn*Ee+Cn*Rt+kn*br+Yn*Ln,_}function Yi(_,R,U){var ae=U[0],ve=U[1],we=U[2],Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn;return R===_?(_[12]=R[0]*ae+R[4]*ve+R[8]*we+R[12],_[13]=R[1]*ae+R[5]*ve+R[9]*we+R[13],_[14]=R[2]*ae+R[6]*ve+R[10]*we+R[14],_[15]=R[3]*ae+R[7]*ve+R[11]*we+R[15]):(Ee=R[0],Ke=R[1],pt=R[2],St=R[3],Rt=R[4],jt=R[5],rr=R[6],qt=R[7],br=R[8],Br=R[9],cn=R[10],nn=R[11],_[0]=Ee,_[1]=Ke,_[2]=pt,_[3]=St,_[4]=Rt,_[5]=jt,_[6]=rr,_[7]=qt,_[8]=br,_[9]=Br,_[10]=cn,_[11]=nn,_[12]=Ee*ae+Rt*ve+br*we+R[12],_[13]=Ke*ae+jt*ve+Br*we+R[13],_[14]=pt*ae+rr*ve+cn*we+R[14],_[15]=St*ae+qt*ve+nn*we+R[15]),_}function ms(_,R,U){var ae=U[0],ve=U[1],we=U[2];return _[0]=R[0]*ae,_[1]=R[1]*ae,_[2]=R[2]*ae,_[3]=R[3]*ae,_[4]=R[4]*ve,_[5]=R[5]*ve,_[6]=R[6]*ve,_[7]=R[7]*ve,_[8]=R[8]*we,_[9]=R[9]*we,_[10]=R[10]*we,_[11]=R[11]*we,_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15],_}function xs(_,R,U){var ae=Math.sin(U),ve=Math.cos(U),we=R[4],Ee=R[5],Ke=R[6],pt=R[7],St=R[8],Rt=R[9],jt=R[10],rr=R[11];return R!==_&&(_[0]=R[0],_[1]=R[1],_[2]=R[2],_[3]=R[3],_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15]),_[4]=we*ve+St*ae,_[5]=Ee*ve+Rt*ae,_[6]=Ke*ve+jt*ae,_[7]=pt*ve+rr*ae,_[8]=St*ve-we*ae,_[9]=Rt*ve-Ee*ae,_[10]=jt*ve-Ke*ae,_[11]=rr*ve-pt*ae,_}function Vh(_,R,U){var ae=Math.sin(U),ve=Math.cos(U),we=R[0],Ee=R[1],Ke=R[2],pt=R[3],St=R[4],Rt=R[5],jt=R[6],rr=R[7];return R!==_&&(_[8]=R[8],_[9]=R[9],_[10]=R[10],_[11]=R[11],_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15]),_[0]=we*ve+St*ae,_[1]=Ee*ve+Rt*ae,_[2]=Ke*ve+jt*ae,_[3]=pt*ve+rr*ae,_[4]=St*ve-we*ae,_[5]=Rt*ve-Ee*ae,_[6]=jt*ve-Ke*ae,_[7]=rr*ve-pt*ae,_}function Gv(_,R,U,ae,ve){var we=1/Math.tan(R/2),Ee;return _[0]=we/U,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=we,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,ve!=null&&ve!==1/0?(Ee=1/(ae-ve),_[10]=(ve+ae)*Ee,_[14]=2*ve*ae*Ee):(_[10]=-1,_[14]=-2*ae),_}function W0(_,R,U,ae,ve,we,Ee){var Ke=1/(R-U),pt=1/(ae-ve),St=1/(we-Ee);return _[0]=-2*Ke,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*pt,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*St,_[11]=0,_[12]=(R+U)*Ke,_[13]=(ve+ae)*pt,_[14]=(Ee+we)*St,_[15]=1,_}var Y0=yc;function dh(){var _=new To(3);return To!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function j0(_){var R=new To(3);return R[0]=_[0],R[1]=_[1],R[2]=_[2],R}function Hh(_,R,U){return _[0]=R[0]+U[0],_[1]=R[1]+U[1],_[2]=R[2]+U[2],_}function X0(_,R,U){return _[0]=R[0]-U[0],_[1]=R[1]-U[1],_[2]=R[2]-U[2],_}function Z0(_,R,U){return _[0]=R[0]*U,_[1]=R[1]*U,_[2]=R[2]*U,_}function Wv(_,R){var U=R[0],ae=R[1],ve=R[2],we=U*U+ae*ae+ve*ve;return we>0&&(we=1/Math.sqrt(we)),_[0]=R[0]*we,_[1]=R[1]*we,_[2]=R[2]*we,_}function Uw(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]}function Vw(_,R,U){var ae=R[0],ve=R[1],we=R[2],Ee=U[0],Ke=U[1],pt=U[2];return _[0]=ve*pt-we*Ke,_[1]=we*Ee-ae*pt,_[2]=ae*Ke-ve*Ee,_}function Hw(_,R,U){var ae=R[0],ve=R[1],we=R[2];return _[0]=ae*U[0]+ve*U[3]+we*U[6],_[1]=ae*U[1]+ve*U[4]+we*U[7],_[2]=ae*U[2]+ve*U[5]+we*U[8],_}var Gw=X0;(function(){var _=dh();return function(R,U,ae,ve,we,Ee){var Ke,pt;for(U||(U=3),ae||(ae=0),ve?pt=Math.min(ve*U+ae,R.length):pt=R.length,Ke=ae;Ke<pt;Ke+=U)_[0]=R[Ke],_[1]=R[Ke+1],_[2]=R[Ke+2],we(_,_,Ee),R[Ke]=_[0],R[Ke+1]=_[1],R[Ke+2]=_[2];return R}})();function Ww(){var _=new To(4);return To!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0,_[3]=0),_}function Yw(_,R,U){return _[0]=R[0]*U,_[1]=R[1]*U,_[2]=R[2]*U,_[3]=R[3]*U,_}function jw(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]+_[3]*R[3]}function np(_,R,U){var ae=R[0],ve=R[1],we=R[2],Ee=R[3];return _[0]=U[0]*ae+U[4]*ve+U[8]*we+U[12]*Ee,_[1]=U[1]*ae+U[5]*ve+U[9]*we+U[13]*Ee,_[2]=U[2]*ae+U[6]*ve+U[10]*we+U[14]*Ee,_[3]=U[3]*ae+U[7]*ve+U[11]*we+U[15]*Ee,_}(function(){var _=Ww();return function(R,U,ae,ve,we,Ee){var Ke,pt;for(U||(U=4),ae||(ae=0),ve?pt=Math.min(ve*U+ae,R.length):pt=R.length,Ke=ae;Ke<pt;Ke+=U)_[0]=R[Ke],_[1]=R[Ke+1],_[2]=R[Ke+2],_[3]=R[Ke+3],we(_,_,Ee),R[Ke]=_[0],R[Ke+1]=_[1],R[Ke+2]=_[2],R[Ke+3]=_[3];return R}})();function Xw(){var _=new To(2);return To!=Float32Array&&(_[0]=0,_[1]=0),_}function Zw(_){var R=_[0],U=_[1];return R*R+U*U}var Kw=Zw;(function(){var _=Xw();return function(R,U,ae,ve,we,Ee){var Ke,pt;for(U||(U=2),ae||(ae=0),ve?pt=Math.min(ve*U+ae,R.length):pt=R.length,Ke=ae;Ke<pt;Ke+=U)_[0]=R[Ke],_[1]=R[Ke+1],we(_,_,Ee),R[Ke]=_[0],R[Ke+1]=_[1];return R}})();var Jw=function(_){function R(U){_.call(this,U,dc)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new mi(ae)},R.prototype.queryRadius=function(ae){var ve=ae;return ns("circle-radius",this,ve)+ns("circle-stroke-width",this,ve)+dl(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,pt,St,Rt){for(var jt=Tu(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),pt.angle,St),rr=this.paint.get("circle-radius").evaluate(ve,we),qt=this.paint.get("circle-stroke-width").evaluate(ve,we),br=rr+qt,Br=this.paint.get("circle-pitch-alignment")==="map",cn=Br?jt:Qw(jt,Rt),nn=Br?br*St:br,Ln=0,yn=Ee;Ln<yn.length;Ln+=1)for(var Cn=yn[Ln],kn=0,Yn=Cn;kn<Yn.length;kn+=1){var aa=Yn[kn],ta=Br?aa:F1(aa,Rt),Ta=nn,pa=np([],[aa.x,aa.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ta*=pa[3]/pt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ta*=pt.cameraToCenterDistance/pa[3]),ei(cn,ta,Ta))return!0}return!1},R}(Ni);function F1(_,R){var U=np([],[_.x,_.y,0,1],R);return new r(U[0]/U[3],U[1]/U[3])}function Qw(_,R){return _.map(function(U){return F1(U,R)})}var N1=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(mi);Be("HeatmapBucket",N1,{omit:["layers"]});function K0(_,R,U,ae){var ve=R.width,we=R.height;if(!ae)ae=new Uint8Array(ve*we*U);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==ve*we*U)throw new RangeError("mismatched image size");return _.width=ve,_.height=we,_.data=ae,_}function B1(_,R,U){var ae=R.width,ve=R.height;if(!(ae===_.width&&ve===_.height)){var we=K0({},{width:ae,height:ve},U);J0(_,we,{x:0,y:0},{x:0,y:0},{width:Math.min(_.width,ae),height:Math.min(_.height,ve)},U),_.width=ae,_.height=ve,_.data=we.data}}function J0(_,R,U,ae,ve,we){if(ve.width===0||ve.height===0)return R;if(ve.width>_.width||ve.height>_.height||U.x>_.width-ve.width||U.y>_.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>R.width||ve.height>R.height||ae.x>R.width-ve.width||ae.y>R.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ee=_.data,Ke=R.data,pt=0;pt<ve.height;pt++)for(var St=((U.y+pt)*_.width+U.x)*we,Rt=((ae.y+pt)*R.width+ae.x)*we,jt=0;jt<ve.width*we;jt++)Ke[Rt+jt]=Ee[St+jt];return R}var ph=function(R,U){K0(this,R,1,U)};ph.prototype.resize=function(R){B1(this,R,1)},ph.prototype.clone=function(){return new ph({width:this.width,height:this.height},new Uint8Array(this.data))},ph.copy=function(R,U,ae,ve,we){J0(R,U,ae,ve,we,1)};var bs=function(R,U){K0(this,R,4,U)};bs.prototype.resize=function(R){B1(this,R,4)},bs.prototype.replace=function(R,U){U?this.data.set(R):R instanceof Uint8ClampedArray?this.data=new Uint8Array(R.buffer):this.data=R},bs.prototype.clone=function(){return new bs({width:this.width,height:this.height},new Uint8Array(this.data))},bs.copy=function(R,U,ae,ve,we){J0(R,U,ae,ve,we,4)},Be("AlphaImage",ph),Be("RGBAImage",bs);var $w=new hi({"heatmap-radius":new La(Ar.paint_heatmap["heatmap-radius"]),"heatmap-weight":new La(Ar.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new la(Ar.paint_heatmap["heatmap-intensity"]),"heatmap-color":new io(Ar.paint_heatmap["heatmap-color"]),"heatmap-opacity":new la(Ar.paint_heatmap["heatmap-opacity"])}),qw={paint:$w};function U1(_){var R={},U=_.resolution||256,ae=_.clips?_.clips.length:1,ve=_.image||new bs({width:U,height:ae}),we=function(Ln,yn,Cn){R[_.evaluationKey]=Cn;var kn=_.expression.evaluate(R);ve.data[Ln+yn+0]=Math.floor(kn.r*255/kn.a),ve.data[Ln+yn+1]=Math.floor(kn.g*255/kn.a),ve.data[Ln+yn+2]=Math.floor(kn.b*255/kn.a),ve.data[Ln+yn+3]=Math.floor(kn.a*255)};if(_.clips)for(var St=0,Rt=0;St<ae;++St,Rt+=U*4)for(var jt=0,rr=0;jt<U;jt++,rr+=4){var qt=jt/(U-1),br=_.clips[St],Br=br.start,cn=br.end,nn=Br*(1-qt)+cn*qt;we(Rt,rr,nn)}else for(var Ee=0,Ke=0;Ee<U;Ee++,Ke+=4){var pt=Ee/(U-1);we(0,Ke,pt)}return ve}var e2=function(_){function R(U){_.call(this,U,qw),this._updateColorRamp()}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new N1(ae)},R.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=U1({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(Ni),t2=new hi({"hillshade-illumination-direction":new la(Ar.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new la(Ar.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new la(Ar.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new la(Ar.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new la(Ar.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new la(Ar.paint_hillshade["hillshade-accent-color"])}),r2={paint:t2},n2=function(_){function R(U){_.call(this,U,r2)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(Ni),a2=Pi([{name:"a_pos",components:2,type:"Int16"}],4),i2=a2.members,Q0=ap,o2=ap;function ap(_,R,U){U=U||2;var ae=R&&R.length,ve=ae?R[0]*U:_.length,we=V1(_,0,ve,U,!0),Ee=[];if(!we||we.next===we.prev)return Ee;var Ke,pt,St,Rt,jt,rr,qt;if(ae&&(we=c2(_,R,we,U)),_.length>80*U){Ke=St=_[0],pt=Rt=_[1];for(var br=U;br<ve;br+=U)jt=_[br],rr=_[br+1],jt<Ke&&(Ke=jt),rr<pt&&(pt=rr),jt>St&&(St=jt),rr>Rt&&(Rt=rr);qt=Math.max(St-Ke,Rt-pt),qt=qt!==0?1/qt:0}return Yv(we,Ee,U,Ke,pt,qt),Ee}function V1(_,R,U,ae,ve){var we,Ee;if(ve===eg(_,R,U,ae)>0)for(we=R;we<U;we+=ae)Ee=W1(we,_[we],_[we+1],Ee);else for(we=U-ae;we>=R;we-=ae)Ee=W1(we,_[we],_[we+1],Ee);return Ee&&ip(Ee,Ee.next)&&(Xv(Ee),Ee=Ee.next),Ee}function mc(_,R){if(!_)return _;R||(R=_);var U=_,ae;do if(ae=!1,!U.steiner&&(ip(U,U.next)||so(U.prev,U,U.next)===0)){if(Xv(U),U=R=U.prev,U===U.next)break;ae=!0}else U=U.next;while(ae||U!==R);return R}function Yv(_,R,U,ae,ve,we,Ee){if(_){!Ee&&we&&g2(_,ae,ve,we);for(var Ke=_,pt,St;_.prev!==_.next;){if(pt=_.prev,St=_.next,we?l2(_,ae,ve,we):s2(_)){R.push(pt.i/U),R.push(_.i/U),R.push(St.i/U),Xv(_),_=St.next,Ke=St.next;continue}if(_=St,_===Ke){Ee?Ee===1?(_=u2(mc(_),R,U),Yv(_,R,U,ae,ve,we,2)):Ee===2&&f2(_,R,U,ae,ve,we):Yv(mc(_),R,U,ae,ve,we,1);break}}}}function s2(_){var R=_.prev,U=_,ae=_.next;if(so(R,U,ae)>=0)return!1;for(var ve=_.next.next;ve!==_.prev;){if(Gh(R.x,R.y,U.x,U.y,ae.x,ae.y,ve.x,ve.y)&&so(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function l2(_,R,U,ae){var ve=_.prev,we=_,Ee=_.next;if(so(ve,we,Ee)>=0)return!1;for(var Ke=ve.x<we.x?ve.x<Ee.x?ve.x:Ee.x:we.x<Ee.x?we.x:Ee.x,pt=ve.y<we.y?ve.y<Ee.y?ve.y:Ee.y:we.y<Ee.y?we.y:Ee.y,St=ve.x>we.x?ve.x>Ee.x?ve.x:Ee.x:we.x>Ee.x?we.x:Ee.x,Rt=ve.y>we.y?ve.y>Ee.y?ve.y:Ee.y:we.y>Ee.y?we.y:Ee.y,jt=$0(Ke,pt,R,U,ae),rr=$0(St,Rt,R,U,ae),qt=_.prevZ,br=_.nextZ;qt&&qt.z>=jt&&br&&br.z<=rr;){if(qt!==_.prev&&qt!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,qt.x,qt.y)&&so(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,br!==_.prev&&br!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,br.x,br.y)&&so(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;qt&&qt.z>=jt;){if(qt!==_.prev&&qt!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,qt.x,qt.y)&&so(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;br&&br.z<=rr;){if(br!==_.prev&&br!==_.next&&Gh(ve.x,ve.y,we.x,we.y,Ee.x,Ee.y,br.x,br.y)&&so(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function u2(_,R,U){var ae=_;do{var ve=ae.prev,we=ae.next.next;!ip(ve,we)&&H1(ve,ae,ae.next,we)&&jv(ve,we)&&jv(we,ve)&&(R.push(ve.i/U),R.push(ae.i/U),R.push(we.i/U),Xv(ae),Xv(ae.next),ae=_=we),ae=ae.next}while(ae!==_);return mc(ae)}function f2(_,R,U,ae,ve,we){var Ee=_;do{for(var Ke=Ee.next.next;Ke!==Ee.prev;){if(Ee.i!==Ke.i&&x2(Ee,Ke)){var pt=G1(Ee,Ke);Ee=mc(Ee,Ee.next),pt=mc(pt,pt.next),Yv(Ee,R,U,ae,ve,we),Yv(pt,R,U,ae,ve,we);return}Ke=Ke.next}Ee=Ee.next}while(Ee!==_)}function c2(_,R,U,ae){var ve=[],we,Ee,Ke,pt,St;for(we=0,Ee=R.length;we<Ee;we++)Ke=R[we]*ae,pt=we<Ee-1?R[we+1]*ae:_.length,St=V1(_,Ke,pt,ae,!1),St===St.next&&(St.steiner=!0),ve.push(m2(St));for(ve.sort(h2),we=0;we<ve.length;we++)v2(ve[we],U),U=mc(U,U.next);return U}function h2(_,R){return _.x-R.x}function v2(_,R){if(R=d2(_,R),R){var U=G1(R,_);mc(R,R.next),mc(U,U.next)}}function d2(_,R){var U=R,ae=_.x,ve=_.y,we=-1/0,Ee;do{if(ve<=U.y&&ve>=U.next.y&&U.next.y!==U.y){var Ke=U.x+(ve-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(Ke<=ae&&Ke>we){if(we=Ke,Ke===ae){if(ve===U.y)return U;if(ve===U.next.y)return U.next}Ee=U.x<U.next.x?U:U.next}}U=U.next}while(U!==R);if(!Ee)return null;if(ae===we)return Ee;var pt=Ee,St=Ee.x,Rt=Ee.y,jt=1/0,rr;U=Ee;do ae>=U.x&&U.x>=St&&ae!==U.x&&Gh(ve<Rt?ae:we,ve,St,Rt,ve<Rt?we:ae,ve,U.x,U.y)&&(rr=Math.abs(ve-U.y)/(ae-U.x),jv(U,_)&&(rr<jt||rr===jt&&(U.x>Ee.x||U.x===Ee.x&&p2(Ee,U)))&&(Ee=U,jt=rr)),U=U.next;while(U!==pt);return Ee}function p2(_,R){return so(_.prev,_,R.prev)<0&&so(R.next,_,_.next)<0}function g2(_,R,U,ae){var ve=_;do ve.z===null&&(ve.z=$0(ve.x,ve.y,R,U,ae)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==_);ve.prevZ.nextZ=null,ve.prevZ=null,y2(ve)}function y2(_){var R,U,ae,ve,we,Ee,Ke,pt,St=1;do{for(U=_,_=null,we=null,Ee=0;U;){for(Ee++,ae=U,Ke=0,R=0;R<St&&(Ke++,ae=ae.nextZ,!!ae);R++);for(pt=St;Ke>0||pt>0&&ae;)Ke!==0&&(pt===0||!ae||U.z<=ae.z)?(ve=U,U=U.nextZ,Ke--):(ve=ae,ae=ae.nextZ,pt--),we?we.nextZ=ve:_=ve,ve.prevZ=we,we=ve;U=ae}we.nextZ=null,St*=2}while(Ee>1);return _}function $0(_,R,U,ae,ve){return _=32767*(_-U)*ve,R=32767*(R-ae)*ve,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,_|R<<1}function m2(_){var R=_,U=_;do(R.x<U.x||R.x===U.x&&R.y<U.y)&&(U=R),R=R.next;while(R!==_);return U}function Gh(_,R,U,ae,ve,we,Ee,Ke){return(ve-Ee)*(R-Ke)-(_-Ee)*(we-Ke)>=0&&(_-Ee)*(ae-Ke)-(U-Ee)*(R-Ke)>=0&&(U-Ee)*(we-Ke)-(ve-Ee)*(ae-Ke)>=0}function x2(_,R){return _.next.i!==R.i&&_.prev.i!==R.i&&!b2(_,R)&&(jv(_,R)&&jv(R,_)&&w2(_,R)&&(so(_.prev,_,R.prev)||so(_,R.prev,R))||ip(_,R)&&so(_.prev,_,_.next)>0&&so(R.prev,R,R.next)>0)}function so(_,R,U){return(R.y-_.y)*(U.x-R.x)-(R.x-_.x)*(U.y-R.y)}function ip(_,R){return _.x===R.x&&_.y===R.y}function H1(_,R,U,ae){var ve=sp(so(_,R,U)),we=sp(so(_,R,ae)),Ee=sp(so(U,ae,_)),Ke=sp(so(U,ae,R));return!!(ve!==we&&Ee!==Ke||ve===0&&op(_,U,R)||we===0&&op(_,ae,R)||Ee===0&&op(U,_,ae)||Ke===0&&op(U,R,ae))}function op(_,R,U){return R.x<=Math.max(_.x,U.x)&&R.x>=Math.min(_.x,U.x)&&R.y<=Math.max(_.y,U.y)&&R.y>=Math.min(_.y,U.y)}function sp(_){return _>0?1:_<0?-1:0}function b2(_,R){var U=_;do{if(U.i!==_.i&&U.next.i!==_.i&&U.i!==R.i&&U.next.i!==R.i&&H1(U,U.next,_,R))return!0;U=U.next}while(U!==_);return!1}function jv(_,R){return so(_.prev,_,_.next)<0?so(_,R,_.next)>=0&&so(_,_.prev,R)>=0:so(_,R,_.prev)<0||so(_,_.next,R)<0}function w2(_,R){var U=_,ae=!1,ve=(_.x+R.x)/2,we=(_.y+R.y)/2;do U.y>we!=U.next.y>we&&U.next.y!==U.y&&ve<(U.next.x-U.x)*(we-U.y)/(U.next.y-U.y)+U.x&&(ae=!ae),U=U.next;while(U!==_);return ae}function G1(_,R){var U=new q0(_.i,_.x,_.y),ae=new q0(R.i,R.x,R.y),ve=_.next,we=R.prev;return _.next=R,R.prev=_,U.next=ve,ve.prev=U,ae.next=U,U.prev=ae,we.next=ae,ae.prev=we,ae}function W1(_,R,U,ae){var ve=new q0(_,R,U);return ae?(ve.next=ae.next,ve.prev=ae,ae.next.prev=ve,ae.next=ve):(ve.prev=ve,ve.next=ve),ve}function Xv(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function q0(_,R,U){this.i=_,this.x=R,this.y=U,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}ap.deviation=function(_,R,U,ae){var ve=R&&R.length,we=ve?R[0]*U:_.length,Ee=Math.abs(eg(_,0,we,U));if(ve)for(var Ke=0,pt=R.length;Ke<pt;Ke++){var St=R[Ke]*U,Rt=Ke<pt-1?R[Ke+1]*U:_.length;Ee-=Math.abs(eg(_,St,Rt,U))}var jt=0;for(Ke=0;Ke<ae.length;Ke+=3){var rr=ae[Ke]*U,qt=ae[Ke+1]*U,br=ae[Ke+2]*U;jt+=Math.abs((_[rr]-_[br])*(_[qt+1]-_[rr+1])-(_[rr]-_[qt])*(_[br+1]-_[rr+1]))}return Ee===0&&jt===0?0:Math.abs((jt-Ee)/Ee)};function eg(_,R,U,ae){for(var ve=0,we=R,Ee=U-ae;we<U;we+=ae)ve+=(_[Ee]-_[we])*(_[we+1]+_[Ee+1]),Ee=we;return ve}ap.flatten=function(_){for(var R=_[0][0].length,U={vertices:[],holes:[],dimensions:R},ae=0,ve=0;ve<_.length;ve++){for(var we=0;we<_[ve].length;we++)for(var Ee=0;Ee<R;Ee++)U.vertices.push(_[ve][we][Ee]);ve>0&&(ae+=_[ve-1].length,U.holes.push(ae))}return U},Q0.default=o2;function T2(_,R,U,ae,ve){Y1(_,R,U,ae||_.length-1,ve||A2)}function Y1(_,R,U,ae,ve){for(;ae>U;){if(ae-U>600){var we=ae-U+1,Ee=R-U+1,Ke=Math.log(we),pt=.5*Math.exp(2*Ke/3),St=.5*Math.sqrt(Ke*pt*(we-pt)/we)*(Ee-we/2<0?-1:1),Rt=Math.max(U,Math.floor(R-Ee*pt/we+St)),jt=Math.min(ae,Math.floor(R+(we-Ee)*pt/we+St));Y1(_,R,Rt,jt,ve)}var rr=_[R],qt=U,br=ae;for(Zv(_,U,R),ve(_[ae],rr)>0&&Zv(_,U,ae);qt<br;){for(Zv(_,qt,br),qt++,br--;ve(_[qt],rr)<0;)qt++;for(;ve(_[br],rr)>0;)br--}ve(_[U],rr)===0?Zv(_,U,br):(br++,Zv(_,br,ae)),br<=R&&(U=br+1),R<=br&&(ae=br-1)}}function Zv(_,R,U){var ae=_[R];_[R]=_[U],_[U]=ae}function A2(_,R){return _<R?-1:_>R?1:0}function tg(_,R){var U=_.length;if(U<=1)return[_];for(var ae=[],ve,we,Ee=0;Ee<U;Ee++){var Ke=B(_[Ee]);Ke!==0&&(_[Ee].area=Math.abs(Ke),we===void 0&&(we=Ke<0),we===Ke<0?(ve&&ae.push(ve),ve=[_[Ee]]):ve.push(_[Ee]))}if(ve&&ae.push(ve),R>1)for(var pt=0;pt<ae.length;pt++)ae[pt].length<=R||(T2(ae[pt],R,1,ae[pt].length-1,S2),ae[pt]=ae[pt].slice(0,R));return ae}function S2(_,R){return R.area-_.area}function rg(_,R,U){for(var ae=U.patternDependencies,ve=!1,we=0,Ee=R;we<Ee.length;we+=1){var Ke=Ee[we],pt=Ke.paint.get(_+"-pattern");pt.isConstant()||(ve=!0);var St=pt.constantOr(null);St&&(ve=!0,ae[St.to]=!0,ae[St.from]=!0)}return ve}function ng(_,R,U,ae,ve){for(var we=ve.patternDependencies,Ee=0,Ke=R;Ee<Ke.length;Ee+=1){var pt=Ke[Ee],St=pt.paint.get(_+"-pattern"),Rt=St.value;if(Rt.kind!=="constant"){var jt=Rt.evaluate({zoom:ae-1},U,{},ve.availableImages),rr=Rt.evaluate({zoom:ae},U,{},ve.availableImages),qt=Rt.evaluate({zoom:ae+1},U,{},ve.availableImages);jt=jt&&jt.name?jt.name:jt,rr=rr&&rr.name?rr.name:rr,qt=qt&&qt.name?qt.name:qt,we[jt]=!0,we[rr]=!0,we[qt]=!0,U.patterns[pt.id]={min:jt,mid:rr,max:qt}}}return U}var M2=500,Au=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Af,this.indexArray=new wu,this.indexArray2=new hh,this.programConfigurations=new da(R.layers,R.zoom),this.segments=new oo,this.segments2=new oo,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};Au.prototype.populate=function(R,U,ae){this.hasPattern=rg("fill",this.layers,U);for(var ve=this.layers[0].layout.get("fill-sort-key"),we=[],Ee=0,Ke=R;Ee<Ke.length;Ee+=1){var pt=Ke[Ee],St=pt.feature,Rt=pt.id,jt=pt.index,rr=pt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,br=Si(St,qt);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),br,ae)){var Br=ve?ve.evaluate(br,{},ae,U.availableImages):void 0,cn={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:rr,index:jt,geometry:qt?br.geometry:ri(St),patterns:{},sortKey:Br};we.push(cn)}}ve&&we.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var nn=0,Ln=we;nn<Ln.length;nn+=1){var yn=Ln[nn],Cn=yn,kn=Cn.geometry,Yn=Cn.index,aa=Cn.sourceLayerIndex;if(this.hasPattern){var ta=ng("fill",this.layers,yn,this.zoom,U);this.patternFeatures.push(ta)}else this.addFeature(yn,kn,Yn,ae,{});var Ta=R[Yn].feature;U.featureIndex.insert(Ta,kn,Yn,aa,this.index)}},Au.prototype.update=function(R,U,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,U,this.stateDependentLayers,ae)},Au.prototype.addFeatures=function(R,U,ae){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Ee=we[ve];this.addFeature(Ee,Ee.geometry,Ee.index,U,ae)}},Au.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Au.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Au.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,i2),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.indexBuffer2=R.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(R),this.uploaded=!0},Au.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Au.prototype.addFeature=function(R,U,ae,ve,we){for(var Ee=0,Ke=tg(U,M2);Ee<Ke.length;Ee+=1){for(var pt=Ke[Ee],St=0,Rt=0,jt=pt;Rt<jt.length;Rt+=1){var rr=jt[Rt];St+=rr.length}for(var qt=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),br=qt.vertexLength,Br=[],cn=[],nn=0,Ln=pt;nn<Ln.length;nn+=1){var yn=Ln[nn];if(yn.length!==0){yn!==pt[0]&&cn.push(Br.length/2);var Cn=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),kn=Cn.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(kn+yn.length-1,kn),Br.push(yn[0].x),Br.push(yn[0].y);for(var Yn=1;Yn<yn.length;Yn++)this.layoutVertexArray.emplaceBack(yn[Yn].x,yn[Yn].y),this.indexArray2.emplaceBack(kn+Yn-1,kn+Yn),Br.push(yn[Yn].x),Br.push(yn[Yn].y);Cn.vertexLength+=yn.length,Cn.primitiveLength+=yn.length}}for(var aa=Q0(Br,cn),ta=0;ta<aa.length;ta+=3)this.indexArray.emplaceBack(br+aa[ta],br+aa[ta+1],br+aa[ta+2]);qt.vertexLength+=St,qt.primitiveLength+=aa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,we,ve)},Be("FillBucket",Au,{omit:["layers","patternFeatures"]});var E2=new hi({"fill-sort-key":new La(Ar.layout_fill["fill-sort-key"])}),C2=new hi({"fill-antialias":new la(Ar.paint_fill["fill-antialias"]),"fill-opacity":new La(Ar.paint_fill["fill-opacity"]),"fill-color":new La(Ar.paint_fill["fill-color"]),"fill-outline-color":new La(Ar.paint_fill["fill-outline-color"]),"fill-translate":new la(Ar.paint_fill["fill-translate"]),"fill-translate-anchor":new la(Ar.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ro(Ar.paint_fill["fill-pattern"])}),L2={paint:C2,layout:E2},P2=function(_){function R(U){_.call(this,U,L2)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ae,ve){_.prototype.recalculate.call(this,ae,ve);var we=this.paint._values["fill-outline-color"];we.value.kind==="constant"&&we.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(ae){return new Au(ae)},R.prototype.queryRadius=function(){return dl(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,pt,St){var Rt=Tu(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),pt.angle,St);return Bi(Rt,Ee)},R.prototype.isTileClipped=function(){return!0},R}(Ni),_2=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),R2=_2.members,j1=Wh;function Wh(_,R,U,ae,ve){this.properties={},this.extent=U,this.type=0,this._pbf=_,this._geometry=-1,this._keys=ae,this._values=ve,_.readFields(D2,this,R)}function D2(_,R,U){_==1?R.id=U.readVarint():_==2?I2(U,R):_==3?R.type=U.readVarint():_==4&&(R._geometry=U.pos)}function I2(_,R){for(var U=_.readVarint()+_.pos;_.pos<U;){var ae=R._keys[_.readVarint()],ve=R._values[_.readVarint()];R.properties[ae]=ve}}Wh.types=["Unknown","Point","LineString","Polygon"],Wh.prototype.loadGeometry=function(){var _=this._pbf;_.pos=this._geometry;for(var R=_.readVarint()+_.pos,U=1,ae=0,ve=0,we=0,Ee=[],Ke;_.pos<R;){if(ae<=0){var pt=_.readVarint();U=pt&7,ae=pt>>3}if(ae--,U===1||U===2)ve+=_.readSVarint(),we+=_.readSVarint(),U===1&&(Ke&&Ee.push(Ke),Ke=[]),Ke.push(new r(ve,we));else if(U===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+U)}return Ke&&Ee.push(Ke),Ee},Wh.prototype.bbox=function(){var _=this._pbf;_.pos=this._geometry;for(var R=_.readVarint()+_.pos,U=1,ae=0,ve=0,we=0,Ee=1/0,Ke=-1/0,pt=1/0,St=-1/0;_.pos<R;){if(ae<=0){var Rt=_.readVarint();U=Rt&7,ae=Rt>>3}if(ae--,U===1||U===2)ve+=_.readSVarint(),we+=_.readSVarint(),ve<Ee&&(Ee=ve),ve>Ke&&(Ke=ve),we<pt&&(pt=we),we>St&&(St=we);else if(U!==7)throw new Error("unknown command "+U)}return[Ee,pt,Ke,St]},Wh.prototype.toGeoJSON=function(_,R,U){var ae=this.extent*Math.pow(2,U),ve=this.extent*_,we=this.extent*R,Ee=this.loadGeometry(),Ke=Wh.types[this.type],pt,St;function Rt(qt){for(var br=0;br<qt.length;br++){var Br=qt[br],cn=180-(Br.y+we)*360/ae;qt[br]=[(Br.x+ve)*360/ae-180,360/Math.PI*Math.atan(Math.exp(cn*Math.PI/180))-90]}}switch(this.type){case 1:var jt=[];for(pt=0;pt<Ee.length;pt++)jt[pt]=Ee[pt][0];Ee=jt,Rt(Ee);break;case 2:for(pt=0;pt<Ee.length;pt++)Rt(Ee[pt]);break;case 3:for(Ee=k2(Ee),pt=0;pt<Ee.length;pt++)for(St=0;St<Ee[pt].length;St++)Rt(Ee[pt][St]);break}Ee.length===1?Ee=Ee[0]:Ke="Multi"+Ke;var rr={type:"Feature",geometry:{type:Ke,coordinates:Ee},properties:this.properties};return"id"in this&&(rr.id=this.id),rr};function k2(_){var R=_.length;if(R<=1)return[_];for(var U=[],ae,ve,we=0;we<R;we++){var Ee=z2(_[we]);Ee!==0&&(ve===void 0&&(ve=Ee<0),ve===Ee<0?(ae&&U.push(ae),ae=[_[we]]):ae.push(_[we]))}return ae&&U.push(ae),U}function z2(_){for(var R=0,U=0,ae=_.length,ve=ae-1,we,Ee;U<ae;ve=U++)we=_[U],Ee=_[ve],R+=(Ee.x-we.x)*(we.y+Ee.y);return R}var X1=Z1;function Z1(_,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(O2,this,R),this.length=this._features.length}function O2(_,R,U){_===15?R.version=U.readVarint():_===1?R.name=U.readString():_===5?R.extent=U.readVarint():_===2?R._features.push(U.pos):_===3?R._keys.push(U.readString()):_===4&&R._values.push(F2(U))}function F2(_){for(var R=null,U=_.readVarint()+_.pos;_.pos<U;){var ae=_.readVarint()>>3;R=ae===1?_.readString():ae===2?_.readFloat():ae===3?_.readDouble():ae===4?_.readVarint64():ae===5?_.readVarint():ae===6?_.readSVarint():ae===7?_.readBoolean():null}return R}Z1.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var R=this._pbf.readVarint()+this._pbf.pos;return new j1(this._pbf,R,this.extent,this._keys,this._values)};var N2=B2;function B2(_,R){this.layers=_.readFields(U2,{},R)}function U2(_,R,U){if(_===3){var ae=new X1(U,U.readVarint()+U.pos);ae.length&&(R[ae.name]=ae)}}var V2=N2,H2=j1,G2=X1,Yh={VectorTile:V2,VectorTileFeature:H2,VectorTileLayer:G2},W2=Yh.VectorTileFeature.types,Y2=500,ag=Math.pow(2,13);function Kv(_,R,U,ae,ve,we,Ee,Ke){_.emplaceBack(R,U,Math.floor(ae*ag)*2+Ee,ve*ag*2,we*ag*2,Math.round(Ke))}var Su=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Ku,this.indexArray=new wu,this.programConfigurations=new da(R.layers,R.zoom),this.segments=new oo,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};Su.prototype.populate=function(R,U,ae){this.features=[],this.hasPattern=rg("fill-extrusion",this.layers,U);for(var ve=0,we=R;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee.feature,pt=Ee.id,St=Ee.index,Rt=Ee.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,rr=Si(Ke,jt);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),rr,ae)){var qt={id:pt,sourceLayerIndex:Rt,index:St,geometry:jt?rr.geometry:ri(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};this.hasPattern?this.features.push(ng("fill-extrusion",this.layers,qt,this.zoom,U)):this.addFeature(qt,qt.geometry,St,ae,{}),U.featureIndex.insert(Ke,qt.geometry,St,Rt,this.index,!0)}}},Su.prototype.addFeatures=function(R,U,ae){for(var ve=0,we=this.features;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee.geometry;this.addFeature(Ee,Ke,Ee.index,U,ae)}},Su.prototype.update=function(R,U,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,U,this.stateDependentLayers,ae)},Su.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Su.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Su.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,R2),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},Su.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Su.prototype.addFeature=function(R,U,ae,ve,we){for(var Ee=0,Ke=tg(U,Y2);Ee<Ke.length;Ee+=1){for(var pt=Ke[Ee],St=0,Rt=0,jt=pt;Rt<jt.length;Rt+=1){var rr=jt[Rt];St+=rr.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Br=pt;br<Br.length;br+=1){var cn=Br[br];if(cn.length!==0&&!X2(cn))for(var nn=0,Ln=0;Ln<cn.length;Ln++){var yn=cn[Ln];if(Ln>=1){var Cn=cn[Ln-1];if(!j2(yn,Cn)){qt.vertexLength+4>oo.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=yn.sub(Cn)._perp()._unit(),Yn=Cn.dist(yn);nn+Yn>32768&&(nn=0),Kv(this.layoutVertexArray,yn.x,yn.y,kn.x,kn.y,0,0,nn),Kv(this.layoutVertexArray,yn.x,yn.y,kn.x,kn.y,0,1,nn),nn+=Yn,Kv(this.layoutVertexArray,Cn.x,Cn.y,kn.x,kn.y,0,0,nn),Kv(this.layoutVertexArray,Cn.x,Cn.y,kn.x,kn.y,0,1,nn);var aa=qt.vertexLength;this.indexArray.emplaceBack(aa,aa+2,aa+1),this.indexArray.emplaceBack(aa+1,aa+2,aa+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+St>oo.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),W2[R.type]==="Polygon"){for(var ta=[],Ta=[],pa=qt.vertexLength,ba=0,Va=pt;ba<Va.length;ba+=1){var Aa=Va[ba];if(Aa.length!==0){Aa!==pt[0]&&Ta.push(ta.length/2);for(var Ca=0;Ca<Aa.length;Ca++){var ja=Aa[Ca];Kv(this.layoutVertexArray,ja.x,ja.y,0,0,1,1,0),ta.push(ja.x),ta.push(ja.y)}}}for(var Ba=Q0(ta,Ta),li=0;li<Ba.length;li+=3)this.indexArray.emplaceBack(pa+Ba[li],pa+Ba[li+2],pa+Ba[li+1]);qt.primitiveLength+=Ba.length/3,qt.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,we,ve)},Be("FillExtrusionBucket",Su,{omit:["layers","features"]});function j2(_,R){return _.x===R.x&&(_.x<0||_.x>Ma)||_.y===R.y&&(_.y<0||_.y>Ma)}function X2(_){return _.every(function(R){return R.x<0})||_.every(function(R){return R.x>Ma})||_.every(function(R){return R.y<0})||_.every(function(R){return R.y>Ma})}var Z2=new hi({"fill-extrusion-opacity":new la(Ar["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new La(Ar["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new la(Ar["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new la(Ar["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ro(Ar["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new La(Ar["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new La(Ar["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new la(Ar["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),K2={paint:Z2},J2=function(_){function R(U){_.call(this,U,K2)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new Su(ae)},R.prototype.queryRadius=function(){return dl(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,pt,St,Rt){var jt=Tu(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),pt.angle,St),rr=this.paint.get("fill-extrusion-height").evaluate(ve,we),qt=this.paint.get("fill-extrusion-base").evaluate(ve,we),br=q2(jt,Rt,pt,0),Br=$2(Ee,qt,rr,Rt),cn=Br[0],nn=Br[1];return Q2(cn,nn,br)},R}(Ni);function Jv(_,R){return _.x*R.x+_.y*R.y}function K1(_,R){if(_.length===1){for(var U=0,ae=R[U++],ve;!ve||ae.equals(ve);)if(ve=R[U++],!ve)return 1/0;for(;U<R.length;U++){var we=R[U],Ee=_[0],Ke=ve.sub(ae),pt=we.sub(ae),St=Ee.sub(ae),Rt=Jv(Ke,Ke),jt=Jv(Ke,pt),rr=Jv(pt,pt),qt=Jv(St,Ke),br=Jv(St,pt),Br=Rt*rr-jt*jt,cn=(rr*qt-jt*br)/Br,nn=(Rt*br-jt*qt)/Br,Ln=1-cn-nn,yn=ae.z*Ln+ve.z*cn+we.z*nn;if(isFinite(yn))return yn}return 1/0}else{for(var Cn=1/0,kn=0,Yn=R;kn<Yn.length;kn+=1){var aa=Yn[kn];Cn=Math.min(Cn,aa.z)}return Cn}}function Q2(_,R,U){var ae=1/0;Bi(U,R)&&(ae=K1(U,R[0]));for(var ve=0;ve<R.length;ve++)for(var we=R[ve],Ee=_[ve],Ke=0;Ke<we.length-1;Ke++){var pt=we[Ke],St=we[Ke+1],Rt=Ee[Ke],jt=Ee[Ke+1],rr=[pt,St,jt,Rt,pt];Wa(U,rr)&&(ae=Math.min(ae,K1(U,rr)))}return ae===1/0?!1:ae}function $2(_,R,U,ae){for(var ve=[],we=[],Ee=ae[8]*R,Ke=ae[9]*R,pt=ae[10]*R,St=ae[11]*R,Rt=ae[8]*U,jt=ae[9]*U,rr=ae[10]*U,qt=ae[11]*U,br=0,Br=_;br<Br.length;br+=1){for(var cn=Br[br],nn=[],Ln=[],yn=0,Cn=cn;yn<Cn.length;yn+=1){var kn=Cn[yn],Yn=kn.x,aa=kn.y,ta=ae[0]*Yn+ae[4]*aa+ae[12],Ta=ae[1]*Yn+ae[5]*aa+ae[13],pa=ae[2]*Yn+ae[6]*aa+ae[14],ba=ae[3]*Yn+ae[7]*aa+ae[15],Va=ta+Ee,Aa=Ta+Ke,Ca=pa+pt,ja=ba+St,Ba=ta+Rt,li=Ta+jt,bi=pa+rr,ui=ba+qt,fi=new r(Va/ja,Aa/ja);fi.z=Ca/ja,nn.push(fi);var ni=new r(Ba/ui,li/ui);ni.z=bi/ui,Ln.push(ni)}ve.push(nn),we.push(Ln)}return[ve,we]}function q2(_,R,U,ae){for(var ve=[],we=0,Ee=_;we<Ee.length;we+=1){var Ke=Ee[we],pt=[Ke.x,Ke.y,ae,1];np(pt,pt,R),ve.push(new r(pt[0]/pt[3],pt[1]/pt[3]))}return ve}var e4=Pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),t4=e4.members,r4=Pi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),n4=r4.members,a4=Yh.VectorTileFeature.types,J1=63,i4=Math.cos(75/2*(Math.PI/180)),o4=15,s4=20,l4=15,Q1=1/2,$1=Math.pow(2,l4-1)/Q1,as=function(R){var U=this;this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){U.gradients[ae.id]={}}),this.layoutVertexArray=new uc,this.layoutVertexArray2=new fc,this.indexArray=new wu,this.programConfigurations=new da(R.layers,R.zoom),this.segments=new oo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};as.prototype.populate=function(R,U,ae){this.hasPattern=rg("line",this.layers,U);for(var ve=this.layers[0].layout.get("line-sort-key"),we=[],Ee=0,Ke=R;Ee<Ke.length;Ee+=1){var pt=Ke[Ee],St=pt.feature,Rt=pt.id,jt=pt.index,rr=pt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,br=Si(St,qt);if(this.layers[0]._featureFilter.filter(new Sa(this.zoom),br,ae)){var Br=ve?ve.evaluate(br,{},ae):void 0,cn={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:rr,index:jt,geometry:qt?br.geometry:ri(St),patterns:{},sortKey:Br};we.push(cn)}}ve&&we.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var nn=0,Ln=we;nn<Ln.length;nn+=1){var yn=Ln[nn],Cn=yn,kn=Cn.geometry,Yn=Cn.index,aa=Cn.sourceLayerIndex;if(this.hasPattern){var ta=ng("line",this.layers,yn,this.zoom,U);this.patternFeatures.push(ta)}else this.addFeature(yn,kn,Yn,ae,{});var Ta=R[Yn].feature;U.featureIndex.insert(Ta,kn,Yn,aa,this.index)}},as.prototype.update=function(R,U,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,U,this.stateDependentLayers,ae)},as.prototype.addFeatures=function(R,U,ae){for(var ve=0,we=this.patternFeatures;ve<we.length;ve+=1){var Ee=we[ve];this.addFeature(Ee,Ee.geometry,Ee.index,U,ae)}},as.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=function(R){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=R.createVertexBuffer(this.layoutVertexArray2,n4)),this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,t4),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},as.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},as.prototype.lineFeatureClips=function(R){if(R.properties&&R.properties.hasOwnProperty("mapbox_clip_start")&&R.properties.hasOwnProperty("mapbox_clip_end")){var U=+R.properties.mapbox_clip_start,ae=+R.properties.mapbox_clip_end;return{start:U,end:ae}}},as.prototype.addFeature=function(R,U,ae,ve,we){var Ee=this.layers[0].layout,Ke=Ee.get("line-join").evaluate(R,{}),pt=Ee.get("line-cap"),St=Ee.get("line-miter-limit"),Rt=Ee.get("line-round-limit");this.lineClips=this.lineFeatureClips(R);for(var jt=0,rr=U;jt<rr.length;jt+=1){var qt=rr[jt];this.addLine(qt,R,Ke,pt,St,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,we,ve)},as.prototype.addLine=function(R,U,ae,ve,we,Ee){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ke=0;Ke<R.length-1;Ke++)this.totalDistance+=R[Ke].dist(R[Ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var pt=a4[U.type]==="Polygon",St=R.length;St>=2&&R[St-1].equals(R[St-2]);)St--;for(var Rt=0;Rt<St-1&&R[Rt].equals(R[Rt+1]);)Rt++;if(!(St<(pt?3:2))){ae==="bevel"&&(we=1.05);var jt=this.overscaling<=16?o4*Ma/(512*this.overscaling):0,rr=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),qt,br=void 0,Br=void 0,cn=void 0,nn=void 0;this.e1=this.e2=-1,pt&&(qt=R[St-2],nn=R[Rt].sub(qt)._unit()._perp());for(var Ln=Rt;Ln<St;Ln++)if(Br=Ln===St-1?pt?R[Rt+1]:void 0:R[Ln+1],!(Br&&R[Ln].equals(Br))){nn&&(cn=nn),qt&&(br=qt),qt=R[Ln],nn=Br?Br.sub(qt)._unit()._perp():cn,cn=cn||nn;var yn=cn.add(nn);(yn.x!==0||yn.y!==0)&&yn._unit();var Cn=cn.x*nn.x+cn.y*nn.y,kn=yn.x*nn.x+yn.y*nn.y,Yn=kn!==0?1/kn:1/0,aa=2*Math.sqrt(2-2*kn),ta=kn<i4&&br&&Br,Ta=cn.x*nn.y-cn.y*nn.x>0;if(ta&&Ln>Rt){var pa=qt.dist(br);if(pa>2*jt){var ba=qt.sub(qt.sub(br)._mult(jt/pa)._round());this.updateDistance(br,ba),this.addCurrentVertex(ba,cn,0,0,rr),br=ba}}var Va=br&&Br,Aa=Va?ae:pt?"butt":ve;if(Va&&Aa==="round"&&(Yn<Ee?Aa="miter":Yn<=2&&(Aa="fakeround")),Aa==="miter"&&Yn>we&&(Aa="bevel"),Aa==="bevel"&&(Yn>2&&(Aa="flipbevel"),Yn<we&&(Aa="miter")),br&&this.updateDistance(br,qt),Aa==="miter")yn._mult(Yn),this.addCurrentVertex(qt,yn,0,0,rr);else if(Aa==="flipbevel"){if(Yn>100)yn=nn.mult(-1);else{var Ca=Yn*cn.add(nn).mag()/cn.sub(nn).mag();yn._perp()._mult(Ca*(Ta?-1:1))}this.addCurrentVertex(qt,yn,0,0,rr),this.addCurrentVertex(qt,yn.mult(-1),0,0,rr)}else if(Aa==="bevel"||Aa==="fakeround"){var ja=-Math.sqrt(Yn*Yn-1),Ba=Ta?ja:0,li=Ta?0:ja;if(br&&this.addCurrentVertex(qt,cn,Ba,li,rr),Aa==="fakeround")for(var bi=Math.round(aa*180/Math.PI/s4),ui=1;ui<bi;ui++){var fi=ui/bi;if(fi!==.5){var ni=fi-.5,Mi=1.0904+Cn*(-3.2452+Cn*(3.55645-Cn*1.43519)),Ci=.848013+Cn*(-1.06021+Cn*.215638);fi=fi+fi*ni*(fi-1)*(Mi*ni*ni+Ci)}var Ui=nn.sub(cn)._mult(fi)._add(cn)._unit()._mult(Ta?-1:1);this.addHalfVertex(qt,Ui.x,Ui.y,!1,Ta,0,rr)}Br&&this.addCurrentVertex(qt,nn,-Ba,-li,rr)}else if(Aa==="butt")this.addCurrentVertex(qt,yn,0,0,rr);else if(Aa==="square"){var ji=br?1:-1;this.addCurrentVertex(qt,yn,ji,ji,rr)}else Aa==="round"&&(br&&(this.addCurrentVertex(qt,cn,0,0,rr),this.addCurrentVertex(qt,cn,1,1,rr,!0)),Br&&(this.addCurrentVertex(qt,nn,-1,-1,rr,!0),this.addCurrentVertex(qt,nn,0,0,rr)));if(ta&&Ln<St-1){var So=qt.dist(Br);if(So>2*jt){var fo=qt.add(Br.sub(qt)._mult(jt/So)._round());this.updateDistance(qt,fo),this.addCurrentVertex(fo,nn,0,0,rr),qt=fo}}}}},as.prototype.addCurrentVertex=function(R,U,ae,ve,we,Ee){Ee===void 0&&(Ee=!1);var Ke=U.x+U.y*ae,pt=U.y-U.x*ae,St=-U.x+U.y*ve,Rt=-U.y-U.x*ve;this.addHalfVertex(R,Ke,pt,Ee,!1,ae,we),this.addHalfVertex(R,St,Rt,Ee,!0,-ve,we),this.distance>$1/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(R,U,ae,ve,we,Ee))},as.prototype.addHalfVertex=function(R,U,ae,ve,we,Ee,Ke){var pt=R.x,St=R.y,Rt=this.lineClips?this.scaledDistance*($1-1):this.scaledDistance,jt=Rt*Q1;if(this.layoutVertexArray.emplaceBack((pt<<1)+(ve?1:0),(St<<1)+(we?1:0),Math.round(J1*U)+128,Math.round(J1*ae)+128,(Ee===0?0:Ee<0?-1:1)+1|(jt&63)<<2,jt>>6),this.lineClips){var rr=this.scaledDistance-this.lineClips.start,qt=this.lineClips.end-this.lineClips.start,br=rr/qt;this.layoutVertexArray2.emplaceBack(br,this.lineClipsArray.length)}var Br=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Br),Ke.primitiveLength++),we?this.e2=Br:this.e1=Br},as.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},as.prototype.updateDistance=function(R,U){this.distance+=R.dist(U),this.updateScaledDistance()},Be("LineBucket",as,{omit:["layers","patternFeatures"]});var u4=new hi({"line-cap":new la(Ar.layout_line["line-cap"]),"line-join":new La(Ar.layout_line["line-join"]),"line-miter-limit":new la(Ar.layout_line["line-miter-limit"]),"line-round-limit":new la(Ar.layout_line["line-round-limit"]),"line-sort-key":new La(Ar.layout_line["line-sort-key"])}),f4=new hi({"line-opacity":new La(Ar.paint_line["line-opacity"]),"line-color":new La(Ar.paint_line["line-color"]),"line-translate":new la(Ar.paint_line["line-translate"]),"line-translate-anchor":new la(Ar.paint_line["line-translate-anchor"]),"line-width":new La(Ar.paint_line["line-width"]),"line-gap-width":new La(Ar.paint_line["line-gap-width"]),"line-offset":new La(Ar.paint_line["line-offset"]),"line-blur":new La(Ar.paint_line["line-blur"]),"line-dasharray":new Fo(Ar.paint_line["line-dasharray"]),"line-pattern":new Ro(Ar.paint_line["line-pattern"]),"line-gradient":new io(Ar.paint_line["line-gradient"])}),q1={paint:f4,layout:u4},c4=function(_){function R(){_.apply(this,arguments)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ae,ve){return ve=new Sa(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),_.prototype.possiblyEvaluate.call(this,ae,ve)},R.prototype.evaluate=function(ae,ve,we,Ee){return ve=x({},ve,{zoom:Math.floor(ve.zoom)}),_.prototype.evaluate.call(this,ae,ve,we,Ee)},R}(La),em=new c4(q1.paint.properties["line-width"].specification);em.useIntegerZoom=!0;var h4=function(_){function R(U){_.call(this,U,q1),this.gradientVersion=0}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var ve=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ve._styleExpression.expression instanceof Ko,this.gradientVersion=(this.gradientVersion+1)%f}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(ae,ve){_.prototype.recalculate.call(this,ae,ve),this.paint._values["line-floorwidth"]=em.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},R.prototype.createBucket=function(ae){return new as(ae)},R.prototype.queryRadius=function(ae){var ve=ae,we=tm(ns("line-width",this,ve),ns("line-gap-width",this,ve)),Ee=ns("line-offset",this,ve);return we/2+Math.abs(Ee)+dl(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,we,Ee,Ke,pt,St){var Rt=Tu(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),pt.angle,St),jt=St/2*tm(this.paint.get("line-width").evaluate(ve,we),this.paint.get("line-gap-width").evaluate(ve,we)),rr=this.paint.get("line-offset").evaluate(ve,we);return rr&&(Ee=v4(Ee,rr*St)),yo(Rt,Ee,jt)},R.prototype.isTileClipped=function(){return!0},R}(Ni);function tm(_,R){return R>0?R+2*_:_}function v4(_,R){for(var U=[],ae=new r(0,0),ve=0;ve<_.length;ve++){for(var we=_[ve],Ee=[],Ke=0;Ke<we.length;Ke++){var pt=we[Ke-1],St=we[Ke],Rt=we[Ke+1],jt=Ke===0?ae:St.sub(pt)._unit()._perp(),rr=Ke===we.length-1?ae:Rt.sub(St)._unit()._perp(),qt=jt._add(rr)._unit(),br=qt.x*rr.x+qt.y*rr.y;qt._mult(1/br),Ee.push(qt._mult(R)._add(St))}U.push(Ee)}return U}var d4=Pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),p4=Pi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var g4=Pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var rm=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),y4=Pi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Pi([{name:"triangle",components:3,type:"Uint16"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Pi([{type:"Float32",name:"offsetX"}]),Pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function m4(_,R,U){var ae=R.layout.get("text-transform").evaluate(U,{});return ae==="uppercase"?_=_.toLocaleUpperCase():ae==="lowercase"&&(_=_.toLocaleLowerCase()),qn.applyArabicShaping&&(_=qn.applyArabicShaping(_)),_}function x4(_,R,U){return _.sections.forEach(function(ae){ae.text=m4(ae.text,R,U)}),_}function b4(_){var R={},U={},ae=[],ve=0;function we(nn){ae.push(_[nn]),ve++}function Ee(nn,Ln,yn){var Cn=U[nn];return delete U[nn],U[Ln]=Cn,ae[Cn].geometry[0].pop(),ae[Cn].geometry[0]=ae[Cn].geometry[0].concat(yn[0]),Cn}function Ke(nn,Ln,yn){var Cn=R[Ln];return delete R[Ln],R[nn]=Cn,ae[Cn].geometry[0].shift(),ae[Cn].geometry[0]=yn[0].concat(ae[Cn].geometry[0]),Cn}function pt(nn,Ln,yn){var Cn=yn?Ln[0][Ln[0].length-1]:Ln[0][0];return nn+":"+Cn.x+":"+Cn.y}for(var St=0;St<_.length;St++){var Rt=_[St],jt=Rt.geometry,rr=Rt.text?Rt.text.toString():null;if(!rr){we(St);continue}var qt=pt(rr,jt),br=pt(rr,jt,!0);if(qt in U&&br in R&&U[qt]!==R[br]){var Br=Ke(qt,br,jt),cn=Ee(qt,br,ae[Br].geometry);delete R[qt],delete U[br],U[pt(rr,ae[cn].geometry,!0)]=cn,ae[Br].geometry=null}else qt in U?Ee(qt,br,jt):br in R?Ke(qt,br,jt):(we(St),R[qt]=ve-1,U[br]=ve-1)}return ae.filter(function(nn){return nn.geometry})}var Qv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function w4(_){for(var R="",U=0;U<_.length;U++){var ae=_.charCodeAt(U+1)||null,ve=_.charCodeAt(U-1)||null,we=(!ae||!Vr(ae)||Qv[_[U+1]])&&(!ve||!Vr(ve)||Qv[_[U-1]]);we&&Qv[_[U]]?R+=Qv[_[U]]:R+=_[U]}return R}var Do=24,T4=function(_,R,U,ae,ve){var we,Ee,Ke=ve*8-ae-1,pt=(1<<Ke)-1,St=pt>>1,Rt=-7,jt=U?ve-1:0,rr=U?-1:1,qt=_[R+jt];for(jt+=rr,we=qt&(1<<-Rt)-1,qt>>=-Rt,Rt+=Ke;Rt>0;we=we*256+_[R+jt],jt+=rr,Rt-=8);for(Ee=we&(1<<-Rt)-1,we>>=-Rt,Rt+=ae;Rt>0;Ee=Ee*256+_[R+jt],jt+=rr,Rt-=8);if(we===0)we=1-St;else{if(we===pt)return Ee?NaN:(qt?-1:1)*(1/0);Ee=Ee+Math.pow(2,ae),we=we-St}return(qt?-1:1)*Ee*Math.pow(2,we-ae)},A4=function(_,R,U,ae,ve,we){var Ee,Ke,pt,St=we*8-ve-1,Rt=(1<<St)-1,jt=Rt>>1,rr=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=ae?0:we-1,br=ae?1:-1,Br=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(Ke=isNaN(R)?1:0,Ee=Rt):(Ee=Math.floor(Math.log(R)/Math.LN2),R*(pt=Math.pow(2,-Ee))<1&&(Ee--,pt*=2),Ee+jt>=1?R+=rr/pt:R+=rr*Math.pow(2,1-jt),R*pt>=2&&(Ee++,pt/=2),Ee+jt>=Rt?(Ke=0,Ee=Rt):Ee+jt>=1?(Ke=(R*pt-1)*Math.pow(2,ve),Ee=Ee+jt):(Ke=R*Math.pow(2,jt-1)*Math.pow(2,ve),Ee=0));ve>=8;_[U+qt]=Ke&255,qt+=br,Ke/=256,ve-=8);for(Ee=Ee<<ve|Ke,St+=ve;St>0;_[U+qt]=Ee&255,qt+=br,Ee/=256,St-=8);_[U+qt-br]|=Br*128},lp={read:T4,write:A4},up=Ei;function Ei(_){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_)?_:new Uint8Array(_||0),this.pos=0,this.type=0,this.length=this.buf.length}Ei.Varint=0,Ei.Fixed64=1,Ei.Bytes=2,Ei.Fixed32=5;var ig=65536*65536,nm=1/ig,S4=12,am=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ei.prototype={destroy:function(){this.buf=null},readFields:function(_,R,U){for(U=U||this.length;this.pos<U;){var ae=this.readVarint(),ve=ae>>3,we=this.pos;this.type=ae&7,_(ve,R,this),this.pos===we&&this.skip(ae)}return R},readMessage:function(_,R){return this.readFields(_,R,this.readVarint()+this.pos)},readFixed32:function(){var _=fp(this.buf,this.pos);return this.pos+=4,_},readSFixed32:function(){var _=om(this.buf,this.pos);return this.pos+=4,_},readFixed64:function(){var _=fp(this.buf,this.pos)+fp(this.buf,this.pos+4)*ig;return this.pos+=8,_},readSFixed64:function(){var _=fp(this.buf,this.pos)+om(this.buf,this.pos+4)*ig;return this.pos+=8,_},readFloat:function(){var _=lp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,_},readDouble:function(){var _=lp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,_},readVarint:function(_){var R=this.buf,U,ae;return ae=R[this.pos++],U=ae&127,ae<128||(ae=R[this.pos++],U|=(ae&127)<<7,ae<128)||(ae=R[this.pos++],U|=(ae&127)<<14,ae<128)||(ae=R[this.pos++],U|=(ae&127)<<21,ae<128)?U:(ae=R[this.pos],U|=(ae&15)<<28,M4(U,_,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _=this.readVarint();return _%2===1?(_+1)/-2:_/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var _=this.readVarint()+this.pos,R=this.pos;return this.pos=_,_-R>=S4&&am?B4(this.buf,R,_):N4(this.buf,R,_)},readBytes:function(){var _=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,_);return this.pos=_,R},readPackedVarint:function(_,R){if(this.type!==Ei.Bytes)return _.push(this.readVarint(R));var U=Cf(this);for(_=_||[];this.pos<U;)_.push(this.readVarint(R));return _},readPackedSVarint:function(_){if(this.type!==Ei.Bytes)return _.push(this.readSVarint());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readSVarint());return _},readPackedBoolean:function(_){if(this.type!==Ei.Bytes)return _.push(this.readBoolean());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readBoolean());return _},readPackedFloat:function(_){if(this.type!==Ei.Bytes)return _.push(this.readFloat());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readFloat());return _},readPackedDouble:function(_){if(this.type!==Ei.Bytes)return _.push(this.readDouble());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readDouble());return _},readPackedFixed32:function(_){if(this.type!==Ei.Bytes)return _.push(this.readFixed32());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readFixed32());return _},readPackedSFixed32:function(_){if(this.type!==Ei.Bytes)return _.push(this.readSFixed32());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readSFixed32());return _},readPackedFixed64:function(_){if(this.type!==Ei.Bytes)return _.push(this.readFixed64());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readFixed64());return _},readPackedSFixed64:function(_){if(this.type!==Ei.Bytes)return _.push(this.readSFixed64());var R=Cf(this);for(_=_||[];this.pos<R;)_.push(this.readSFixed64());return _},skip:function(_){var R=_&7;if(R===Ei.Varint)for(;this.buf[this.pos++]>127;);else if(R===Ei.Bytes)this.pos=this.readVarint()+this.pos;else if(R===Ei.Fixed32)this.pos+=4;else if(R===Ei.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+R)},writeTag:function(_,R){this.writeVarint(_<<3|R)},realloc:function(_){for(var R=this.length||16;R<this.pos+_;)R*=2;if(R!==this.length){var U=new Uint8Array(R);U.set(this.buf),this.buf=U,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_){this.realloc(4),Xh(this.buf,_,this.pos),this.pos+=4},writeSFixed32:function(_){this.realloc(4),Xh(this.buf,_,this.pos),this.pos+=4},writeFixed64:function(_){this.realloc(8),Xh(this.buf,_&-1,this.pos),Xh(this.buf,Math.floor(_*nm),this.pos+4),this.pos+=8},writeSFixed64:function(_){this.realloc(8),Xh(this.buf,_&-1,this.pos),Xh(this.buf,Math.floor(_*nm),this.pos+4),this.pos+=8},writeVarint:function(_){if(_=+_||0,_>268435455||_<0){E4(_,this);return}this.realloc(4),this.buf[this.pos++]=_&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=(_>>>=7)&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=(_>>>=7)&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=_>>>7&127)))},writeSVarint:function(_){this.writeVarint(_<0?-_*2-1:_*2)},writeBoolean:function(_){this.writeVarint(!!_)},writeString:function(_){_=String(_),this.realloc(_.length*4),this.pos++;var R=this.pos;this.pos=U4(this.buf,_,this.pos);var U=this.pos-R;U>=128&&im(R,U,this),this.pos=R-1,this.writeVarint(U),this.pos+=U},writeFloat:function(_){this.realloc(4),lp.write(this.buf,_,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_){this.realloc(8),lp.write(this.buf,_,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_){var R=_.length;this.writeVarint(R),this.realloc(R);for(var U=0;U<R;U++)this.buf[this.pos++]=_[U]},writeRawMessage:function(_,R){this.pos++;var U=this.pos;_(R,this);var ae=this.pos-U;ae>=128&&im(U,ae,this),this.pos=U-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(_,R,U){this.writeTag(_,Ei.Bytes),this.writeRawMessage(R,U)},writePackedVarint:function(_,R){R.length&&this.writeMessage(_,P4,R)},writePackedSVarint:function(_,R){R.length&&this.writeMessage(_,_4,R)},writePackedBoolean:function(_,R){R.length&&this.writeMessage(_,I4,R)},writePackedFloat:function(_,R){R.length&&this.writeMessage(_,R4,R)},writePackedDouble:function(_,R){R.length&&this.writeMessage(_,D4,R)},writePackedFixed32:function(_,R){R.length&&this.writeMessage(_,k4,R)},writePackedSFixed32:function(_,R){R.length&&this.writeMessage(_,z4,R)},writePackedFixed64:function(_,R){R.length&&this.writeMessage(_,O4,R)},writePackedSFixed64:function(_,R){R.length&&this.writeMessage(_,F4,R)},writeBytesField:function(_,R){this.writeTag(_,Ei.Bytes),this.writeBytes(R)},writeFixed32Field:function(_,R){this.writeTag(_,Ei.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(_,R){this.writeTag(_,Ei.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(_,R){this.writeTag(_,Ei.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(_,R){this.writeTag(_,Ei.Fixed64),this.writeSFixed64(R)},writeVarintField:function(_,R){this.writeTag(_,Ei.Varint),this.writeVarint(R)},writeSVarintField:function(_,R){this.writeTag(_,Ei.Varint),this.writeSVarint(R)},writeStringField:function(_,R){this.writeTag(_,Ei.Bytes),this.writeString(R)},writeFloatField:function(_,R){this.writeTag(_,Ei.Fixed32),this.writeFloat(R)},writeDoubleField:function(_,R){this.writeTag(_,Ei.Fixed64),this.writeDouble(R)},writeBooleanField:function(_,R){this.writeVarintField(_,!!R)}};function M4(_,R,U){var ae=U.buf,ve,we;if(we=ae[U.pos++],ve=(we&112)>>4,we<128||(we=ae[U.pos++],ve|=(we&127)<<3,we<128)||(we=ae[U.pos++],ve|=(we&127)<<10,we<128)||(we=ae[U.pos++],ve|=(we&127)<<17,we<128)||(we=ae[U.pos++],ve|=(we&127)<<24,we<128)||(we=ae[U.pos++],ve|=(we&1)<<31,we<128))return jh(_,ve,R);throw new Error("Expected varint not more than 10 bytes")}function Cf(_){return _.type===Ei.Bytes?_.readVarint()+_.pos:_.pos+1}function jh(_,R,U){return U?R*4294967296+(_>>>0):(R>>>0)*4294967296+(_>>>0)}function E4(_,R){var U,ae;if(_>=0?(U=_%4294967296|0,ae=_/4294967296|0):(U=~(-_%4294967296),ae=~(-_/4294967296),U^4294967295?U=U+1|0:(U=0,ae=ae+1|0)),_>=18446744073709552e3||_<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");R.realloc(10),C4(U,ae,R),L4(ae,R)}function C4(_,R,U){U.buf[U.pos++]=_&127|128,_>>>=7,U.buf[U.pos++]=_&127|128,_>>>=7,U.buf[U.pos++]=_&127|128,_>>>=7,U.buf[U.pos++]=_&127|128,_>>>=7,U.buf[U.pos]=_&127}function L4(_,R){var U=(_&7)<<4;R.buf[R.pos++]|=U|((_>>>=3)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127|((_>>>=7)?128:0),_&&(R.buf[R.pos++]=_&127)))))}function im(_,R,U){var ae=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(Math.LN2*7));U.realloc(ae);for(var ve=U.pos-1;ve>=_;ve--)U.buf[ve+ae]=U.buf[ve]}function P4(_,R){for(var U=0;U<_.length;U++)R.writeVarint(_[U])}function _4(_,R){for(var U=0;U<_.length;U++)R.writeSVarint(_[U])}function R4(_,R){for(var U=0;U<_.length;U++)R.writeFloat(_[U])}function D4(_,R){for(var U=0;U<_.length;U++)R.writeDouble(_[U])}function I4(_,R){for(var U=0;U<_.length;U++)R.writeBoolean(_[U])}function k4(_,R){for(var U=0;U<_.length;U++)R.writeFixed32(_[U])}function z4(_,R){for(var U=0;U<_.length;U++)R.writeSFixed32(_[U])}function O4(_,R){for(var U=0;U<_.length;U++)R.writeFixed64(_[U])}function F4(_,R){for(var U=0;U<_.length;U++)R.writeSFixed64(_[U])}function fp(_,R){return(_[R]|_[R+1]<<8|_[R+2]<<16)+_[R+3]*16777216}function Xh(_,R,U){_[U]=R,_[U+1]=R>>>8,_[U+2]=R>>>16,_[U+3]=R>>>24}function om(_,R){return(_[R]|_[R+1]<<8|_[R+2]<<16)+(_[R+3]<<24)}function N4(_,R,U){for(var ae="",ve=R;ve<U;){var we=_[ve],Ee=null,Ke=we>239?4:we>223?3:we>191?2:1;if(ve+Ke>U)break;var pt,St,Rt;Ke===1?we<128&&(Ee=we):Ke===2?(pt=_[ve+1],(pt&192)===128&&(Ee=(we&31)<<6|pt&63,Ee<=127&&(Ee=null))):Ke===3?(pt=_[ve+1],St=_[ve+2],(pt&192)===128&&(St&192)===128&&(Ee=(we&15)<<12|(pt&63)<<6|St&63,(Ee<=2047||Ee>=55296&&Ee<=57343)&&(Ee=null))):Ke===4&&(pt=_[ve+1],St=_[ve+2],Rt=_[ve+3],(pt&192)===128&&(St&192)===128&&(Rt&192)===128&&(Ee=(we&15)<<18|(pt&63)<<12|(St&63)<<6|Rt&63,(Ee<=65535||Ee>=1114112)&&(Ee=null))),Ee===null?(Ee=65533,Ke=1):Ee>65535&&(Ee-=65536,ae+=String.fromCharCode(Ee>>>10&1023|55296),Ee=56320|Ee&1023),ae+=String.fromCharCode(Ee),ve+=Ke}return ae}function B4(_,R,U){return am.decode(_.subarray(R,U))}function U4(_,R,U){for(var ae=0,ve,we;ae<R.length;ae++){if(ve=R.charCodeAt(ae),ve>55295&&ve<57344)if(we)if(ve<56320){_[U++]=239,_[U++]=191,_[U++]=189,we=ve;continue}else ve=we-55296<<10|ve-56320|65536,we=null;else{ve>56319||ae+1===R.length?(_[U++]=239,_[U++]=191,_[U++]=189):we=ve;continue}else we&&(_[U++]=239,_[U++]=191,_[U++]=189,we=null);ve<128?_[U++]=ve:(ve<2048?_[U++]=ve>>6|192:(ve<65536?_[U++]=ve>>12|224:(_[U++]=ve>>18|240,_[U++]=ve>>12&63|128),_[U++]=ve>>6&63|128),_[U++]=ve&63|128)}return U}var og=3;function V4(_,R,U){_===1&&U.readMessage(H4,R)}function H4(_,R,U){if(_===3){var ae=U.readMessage(G4,{}),ve=ae.id,we=ae.bitmap,Ee=ae.width,Ke=ae.height,pt=ae.left,St=ae.top,Rt=ae.advance;R.push({id:ve,bitmap:new ph({width:Ee+2*og,height:Ke+2*og},we),metrics:{width:Ee,height:Ke,left:pt,top:St,advance:Rt}})}}function G4(_,R,U){_===1?R.id=U.readVarint():_===2?R.bitmap=U.readBytes():_===3?R.width=U.readVarint():_===4?R.height=U.readVarint():_===5?R.left=U.readSVarint():_===6?R.top=U.readSVarint():_===7&&(R.advance=U.readVarint())}function W4(_){return new up(_).readFields(V4,[])}var sm=og;function lm(_){for(var R=0,U=0,ae=0,ve=_;ae<ve.length;ae+=1){var we=ve[ae];R+=we.w*we.h,U=Math.max(U,we.w)}_.sort(function(cn,nn){return nn.h-cn.h});for(var Ee=Math.max(Math.ceil(Math.sqrt(R/.95)),U),Ke=[{x:0,y:0,w:Ee,h:1/0}],pt=0,St=0,Rt=0,jt=_;Rt<jt.length;Rt+=1)for(var rr=jt[Rt],qt=Ke.length-1;qt>=0;qt--){var br=Ke[qt];if(!(rr.w>br.w||rr.h>br.h)){if(rr.x=br.x,rr.y=br.y,St=Math.max(St,rr.y+rr.h),pt=Math.max(pt,rr.x+rr.w),rr.w===br.w&&rr.h===br.h){var Br=Ke.pop();qt<Ke.length&&(Ke[qt]=Br)}else rr.h===br.h?(br.x+=rr.w,br.w-=rr.w):rr.w===br.w?(br.y+=rr.h,br.h-=rr.h):(Ke.push({x:br.x+rr.w,y:br.y,w:br.w-rr.w,h:rr.h}),br.y+=rr.h,br.h-=rr.h);break}}return{w:pt,h:St,fill:R/(pt*St)||0}}var Is=1,cp=function(R,U){var ae=U.pixelRatio,ve=U.version,we=U.stretchX,Ee=U.stretchY,Ke=U.content;this.paddedRect=R,this.pixelRatio=ae,this.stretchX=we,this.stretchY=Ee,this.content=Ke,this.version=ve},$v={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};$v.tl.get=function(){return[this.paddedRect.x+Is,this.paddedRect.y+Is]},$v.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Is,this.paddedRect.y+this.paddedRect.h-Is]},$v.tlbr.get=function(){return this.tl.concat(this.br)},$v.displaySize.get=function(){return[(this.paddedRect.w-Is*2)/this.pixelRatio,(this.paddedRect.h-Is*2)/this.pixelRatio]},Object.defineProperties(cp.prototype,$v);var qv=function(R,U){var ae={},ve={};this.haveRenderCallbacks=[];var we=[];this.addImages(R,ae,we),this.addImages(U,ve,we);var Ee=lm(we),Ke=Ee.w,pt=Ee.h,St=new bs({width:Ke||1,height:pt||1});for(var Rt in R){var jt=R[Rt],rr=ae[Rt].paddedRect;bs.copy(jt.data,St,{x:0,y:0},{x:rr.x+Is,y:rr.y+Is},jt.data)}for(var qt in U){var br=U[qt],Br=ve[qt].paddedRect,cn=Br.x+Is,nn=Br.y+Is,Ln=br.data.width,yn=br.data.height;bs.copy(br.data,St,{x:0,y:0},{x:cn,y:nn},br.data),bs.copy(br.data,St,{x:0,y:yn-1},{x:cn,y:nn-1},{width:Ln,height:1}),bs.copy(br.data,St,{x:0,y:0},{x:cn,y:nn+yn},{width:Ln,height:1}),bs.copy(br.data,St,{x:Ln-1,y:0},{x:cn-1,y:nn},{width:1,height:yn}),bs.copy(br.data,St,{x:0,y:0},{x:cn+Ln,y:nn},{width:1,height:yn})}this.image=St,this.iconPositions=ae,this.patternPositions=ve};qv.prototype.addImages=function(R,U,ae){for(var ve in R){var we=R[ve],Ee={x:0,y:0,w:we.data.width+2*Is,h:we.data.height+2*Is};ae.push(Ee),U[ve]=new cp(Ee,we),we.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},qv.prototype.patchUpdatedImages=function(R,U){R.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in R.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],R.getImage(ae),U),this.patchUpdatedImage(this.patternPositions[ae],R.getImage(ae),U)},qv.prototype.patchUpdatedImage=function(R,U,ae){if(!(!R||!U)&&R.version!==U.version){R.version=U.version;var ve=R.tl,we=ve[0],Ee=ve[1];ae.update(U.data,void 0,{x:we,y:Ee})}},Be("ImagePosition",cp),Be("ImageAtlas",qv);var Qs={horizontal:1,vertical:2,horizontalOnly:3},ed=-17;function Y4(_){for(var R=0,U=_;R<U.length;R+=1){var ae=U[R];if(ae.positionedGlyphs.length!==0)return!1}return!0}var um=57344,fm=63743,Zh=function(){this.scale=1,this.fontStack="",this.imageName=null};Zh.forText=function(R,U){var ae=new Zh;return ae.scale=R||1,ae.fontStack=U,ae},Zh.forImage=function(R){var U=new Zh;return U.imageName=R,U};var Go=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Go.fromFeature=function(R,U){for(var ae=new Go,ve=0;ve<R.sections.length;ve++){var we=R.sections[ve];we.image?ae.addImageSection(we):ae.addTextSection(we,U)}return ae},Go.prototype.length=function(){return this.text.length},Go.prototype.getSection=function(R){return this.sections[this.sectionIndex[R]]},Go.prototype.getSectionIndex=function(R){return this.sectionIndex[R]},Go.prototype.getCharCode=function(R){return this.text.charCodeAt(R)},Go.prototype.verticalizePunctuation=function(){this.text=w4(this.text)},Go.prototype.trim=function(){for(var R=0,U=0;U<this.text.length&&$u[this.text.charCodeAt(U)];U++)R++;for(var ae=this.text.length,ve=this.text.length-1;ve>=0&&ve>=R&&$u[this.text.charCodeAt(ve)];ve--)ae--;this.text=this.text.substring(R,ae),this.sectionIndex=this.sectionIndex.slice(R,ae)},Go.prototype.substring=function(R,U){var ae=new Go;return ae.text=this.text.substring(R,U),ae.sectionIndex=this.sectionIndex.slice(R,U),ae.sections=this.sections,ae},Go.prototype.toString=function(){return this.text},Go.prototype.getMaxScale=function(){var R=this;return this.sectionIndex.reduce(function(U,ae){return Math.max(U,R.sections[ae].scale)},0)},Go.prototype.addTextSection=function(R,U){this.text+=R.text,this.sections.push(Zh.forText(R.scale,R.fontStack||U));for(var ae=this.sections.length-1,ve=0;ve<R.text.length;++ve)this.sectionIndex.push(ae)},Go.prototype.addImageSection=function(R){var U=R.image?R.image.name:"";if(U.length===0){F("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){F("Reached maximum number of images "+(fm-um+2));return}this.text+=String.fromCharCode(ae),this.sections.push(Zh.forImage(U)),this.sectionIndex.push(this.sections.length-1)},Go.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=fm?null:++this.imageSectionID:(this.imageSectionID=um,this.imageSectionID)};function j4(_,R){for(var U=[],ae=_.text,ve=0,we=0,Ee=R;we<Ee.length;we+=1){var Ke=Ee[we];U.push(_.substring(ve,Ke)),ve=Ke}return ve<ae.length&&U.push(_.substring(ve,ae.length)),U}function hp(_,R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br){var cn=Go.fromFeature(_,ve);jt===Qs.vertical&&cn.verticalizePunctuation();var nn,Ln=qn.processBidirectionalText,yn=qn.processStyledBidirectionalText;if(Ln&&cn.sections.length===1){nn=[];for(var Cn=Ln(cn.toString(),sg(cn,St,we,R,ae,qt,br)),kn=0,Yn=Cn;kn<Yn.length;kn+=1){var aa=Yn[kn],ta=new Go;ta.text=aa,ta.sections=cn.sections;for(var Ta=0;Ta<aa.length;Ta++)ta.sectionIndex.push(0);nn.push(ta)}}else if(yn){nn=[];for(var pa=yn(cn.text,cn.sectionIndex,sg(cn,St,we,R,ae,qt,br)),ba=0,Va=pa;ba<Va.length;ba+=1){var Aa=Va[ba],Ca=new Go;Ca.text=Aa[0],Ca.sectionIndex=Aa[1],Ca.sections=cn.sections,nn.push(Ca)}}else nn=j4(cn,sg(cn,St,we,R,ae,qt,br));var ja=[],Ba={positionedLines:ja,text:cn.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:jt,iconsInText:!1,verticalizable:!1};return K4(Ba,R,U,ae,nn,Ee,Ke,pt,jt,St,rr,Br),Y4(ja)?!1:Ba}var $u={};$u[9]=!0,$u[10]=!0,$u[11]=!0,$u[12]=!0,$u[13]=!0,$u[32]=!0;var ks={};ks[10]=!0,ks[32]=!0,ks[38]=!0,ks[40]=!0,ks[41]=!0,ks[43]=!0,ks[45]=!0,ks[47]=!0,ks[173]=!0,ks[183]=!0,ks[8203]=!0,ks[8208]=!0,ks[8211]=!0,ks[8231]=!0;function cm(_,R,U,ae,ve,we){if(R.imageName){var pt=ae[R.imageName];return pt?pt.displaySize[0]*R.scale*Do/we+ve:0}else{var Ee=U[R.fontStack],Ke=Ee&&Ee[_];return Ke?Ke.metrics.advance*R.scale+ve:0}}function X4(_,R,U,ae,ve,we){for(var Ee=0,Ke=0;Ke<_.length();Ke++){var pt=_.getSection(Ke);Ee+=cm(_.getCharCode(Ke),pt,ae,ve,R,we)}var St=Math.max(1,Math.ceil(Ee/U));return Ee/St}function hm(_,R,U,ae){var ve=Math.pow(_-R,2);return ae?_<R?ve/2:ve*2:ve+Math.abs(U)*U}function Z4(_,R,U){var ae=0;return _===10&&(ae-=1e4),U&&(ae+=150),(_===40||_===65288)&&(ae+=50),(R===41||R===65289)&&(ae+=50),ae}function vm(_,R,U,ae,ve,we){for(var Ee=null,Ke=hm(R,U,ve,we),pt=0,St=ae;pt<St.length;pt+=1){var Rt=St[pt],jt=R-Rt.x,rr=hm(jt,U,ve,we)+Rt.badness;rr<=Ke&&(Ee=Rt,Ke=rr)}return{index:_,x:R,priorBreak:Ee,badness:Ke}}function dm(_){return _?dm(_.priorBreak).concat(_.index):[]}function sg(_,R,U,ae,ve,we,Ee){if(we!=="point")return[];if(!_)return[];for(var Ke=[],pt=X4(_,R,U,ae,ve,Ee),St=_.text.indexOf("​")>=0,Rt=0,jt=0;jt<_.length();jt++){var rr=_.getSection(jt),qt=_.getCharCode(jt);if($u[qt]||(Rt+=cm(qt,rr,ae,ve,R,Ee)),jt<_.length()-1){var br=$r(qt);(ks[qt]||br||rr.imageName)&&Ke.push(vm(jt+1,Rt,pt,Ke,Z4(qt,_.getCharCode(jt+1),br&&St),!1))}}return dm(vm(_.length(),Rt,pt,Ke,0,!0))}function lg(_){var R=.5,U=.5;switch(_){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0;break}switch(_){case"bottom":case"bottom-right":case"bottom-left":U=1;break;case"top":case"top-right":case"top-left":U=0;break}return{horizontalAlign:R,verticalAlign:U}}function K4(_,R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt){for(var rr=0,qt=ed,br=0,Br=0,cn=Ke==="right"?1:Ke==="left"?0:.5,nn=0,Ln=0,yn=ve;Ln<yn.length;Ln+=1){var Cn=yn[Ln];Cn.trim();var kn=Cn.getMaxScale(),Yn=(kn-1)*Do,aa={positionedGlyphs:[],lineOffset:0};_.positionedLines[nn]=aa;var ta=aa.positionedGlyphs,Ta=0;if(!Cn.length()){qt+=we,++nn;continue}for(var pa=0;pa<Cn.length();pa++){var ba=Cn.getSection(pa),Va=Cn.getSectionIndex(pa),Aa=Cn.getCharCode(pa),Ca=0,ja=null,Ba=null,li=null,bi=Do,ui=!(pt===Qs.horizontal||!Rt&&!sn(Aa)||Rt&&($u[Aa]||Kr(Aa)));if(ba.imageName){var Ui=ae[ba.imageName];if(!Ui)continue;li=ba.imageName,_.iconsInText=_.iconsInText||!0,Ba=Ui.paddedRect;var ji=Ui.displaySize;ba.scale=ba.scale*Do/jt,ja={width:ji[0],height:ji[1],left:Is,top:-sm,advance:ui?ji[1]:ji[0]};var So=Do-ji[1]*ba.scale;Ca=Yn+So,bi=ja.advance;var fo=ui?ji[0]*ba.scale-Do*kn:ji[1]*ba.scale-Do*kn;fo>0&&fo>Ta&&(Ta=fo)}else{var fi=U[ba.fontStack],ni=fi&&fi[Aa];if(ni&&ni.rect)Ba=ni.rect,ja=ni.metrics;else{var Mi=R[ba.fontStack],Ci=Mi&&Mi[Aa];if(!Ci)continue;ja=Ci.metrics}Ca=(kn-ba.scale)*Do}ui?(_.verticalizable=!0,ta.push({glyph:Aa,imageName:li,x:rr,y:qt+Ca,vertical:ui,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Va,metrics:ja,rect:Ba}),rr+=bi*ba.scale+St):(ta.push({glyph:Aa,imageName:li,x:rr,y:qt+Ca,vertical:ui,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Va,metrics:ja,rect:Ba}),rr+=ja.advance*ba.scale+St)}if(ta.length!==0){var Wo=rr-St;br=Math.max(Wo,br),J4(ta,0,ta.length-1,cn,Ta)}rr=0;var Yo=we*kn+Ta;aa.lineOffset=Math.max(Ta,Yn),qt+=Yo,Br=Math.max(Yo,Br),++nn}var Mo=qt-ed,is=lg(Ee),os=is.horizontalAlign,mo=is.verticalAlign;Q4(_.positionedLines,cn,os,mo,br,Br,we,Mo,ve.length),_.top+=-mo*Mo,_.bottom=_.top+Mo,_.left+=-os*br,_.right=_.left+br}function J4(_,R,U,ae,ve){if(!(!ae&&!ve))for(var we=_[U],Ee=we.metrics.advance*we.scale,Ke=(_[U].x+Ee)*ae,pt=R;pt<=U;pt++)_[pt].x-=Ke,_[pt].y+=ve}function Q4(_,R,U,ae,ve,we,Ee,Ke,pt){var St=(R-U)*ve,Rt=0;we!==Ee?Rt=-Ke*ae-ed:Rt=(-ae*pt+.5)*Ee;for(var jt=0,rr=_;jt<rr.length;jt+=1)for(var qt=rr[jt],br=0,Br=qt.positionedGlyphs;br<Br.length;br+=1){var cn=Br[br];cn.x+=St,cn.y+=Rt}}function $4(_,R,U){var ae=lg(U),ve=ae.horizontalAlign,we=ae.verticalAlign,Ee=R[0],Ke=R[1],pt=Ee-_.displaySize[0]*ve,St=pt+_.displaySize[0],Rt=Ke-_.displaySize[1]*we,jt=Rt+_.displaySize[1];return{image:_,top:Rt,bottom:jt,left:pt,right:St}}function pm(_,R,U,ae,ve,we){var Ee=_.image,Ke;if(Ee.content){var pt=Ee.content,St=Ee.pixelRatio||1;Ke=[pt[0]/St,pt[1]/St,Ee.displaySize[0]-pt[2]/St,Ee.displaySize[1]-pt[3]/St]}var Rt=R.left*we,jt=R.right*we,rr,qt,br,Br;U==="width"||U==="both"?(Br=ve[0]+Rt-ae[3],qt=ve[0]+jt+ae[1]):(Br=ve[0]+(Rt+jt-Ee.displaySize[0])/2,qt=Br+Ee.displaySize[0]);var cn=R.top*we,nn=R.bottom*we;return U==="height"||U==="both"?(rr=ve[1]+cn-ae[0],br=ve[1]+nn+ae[2]):(rr=ve[1]+(cn+nn-Ee.displaySize[1])/2,br=rr+Ee.displaySize[1]),{image:Ee,top:rr,right:qt,bottom:br,left:Br,collisionPadding:Ke}}var Kh=function(_){function R(U,ae,ve,we){_.call(this,U,ae),this.angle=ve,we!==void 0&&(this.segment=we)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(r);Be("Anchor",Kh);var Mu=128;function ug(_,R){var U=R.expression;if(U.kind==="constant"){var ae=U.evaluate(new Sa(_+1));return{kind:"constant",layoutSize:ae}}else{if(U.kind==="source")return{kind:"source"};for(var ve=U.zoomStops,we=U.interpolationType,Ee=0;Ee<ve.length&&ve[Ee]<=_;)Ee++;Ee=Math.max(0,Ee-1);for(var Ke=Ee;Ke<ve.length&&ve[Ke]<_+1;)Ke++;Ke=Math.min(ve.length-1,Ke);var pt=ve[Ee],St=ve[Ke];if(U.kind==="composite")return{kind:"composite",minZoom:pt,maxZoom:St,interpolationType:we};var Rt=U.evaluate(new Sa(pt)),jt=U.evaluate(new Sa(St));return{kind:"camera",minZoom:pt,maxZoom:St,minSize:Rt,maxSize:jt,interpolationType:we}}}function gm(_,R,U){var ae=R.uSize,ve=R.uSizeT,we=U.lowerSize,Ee=U.upperSize;return _.kind==="source"?we/Mu:_.kind==="composite"?_i(we/Mu,Ee/Mu,ve):ae}function ym(_,R){var U=0,ae=0;if(_.kind==="constant")ae=_.layoutSize;else if(_.kind!=="source"){var ve=_.interpolationType,we=_.minZoom,Ee=_.maxZoom,Ke=ve?h(ki.interpolationFactor(ve,R,we,Ee),0,1):0;_.kind==="camera"?ae=_i(_.minSize,_.maxSize,Ke):U=Ke}return{uSizeT:U,uSize:ae}}var q4=Object.freeze({__proto__:null,getSizeData:ug,evaluateSizeForFeature:gm,evaluateSizeForZoom:ym,SIZE_PACK_FACTOR:Mu});function mm(_,R,U,ae,ve){if(R.segment===void 0)return!0;for(var we=R,Ee=R.segment+1,Ke=0;Ke>-U/2;){if(Ee--,Ee<0)return!1;Ke-=_[Ee].dist(we),we=_[Ee]}Ke+=_[Ee].dist(_[Ee+1]),Ee++;for(var pt=[],St=0;Ke<U/2;){var Rt=_[Ee-1],jt=_[Ee],rr=_[Ee+1];if(!rr)return!1;var qt=Rt.angleTo(jt)-jt.angleTo(rr);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),pt.push({distance:Ke,angleDelta:qt}),St+=qt;Ke-pt[0].distance>ae;)St-=pt.shift().angleDelta;if(St>ve)return!1;Ee++,Ke+=jt.dist(rr)}return!0}function xm(_){for(var R=0,U=0;U<_.length-1;U++)R+=_[U].dist(_[U+1]);return R}function bm(_,R,U){return _?.6*R*U:0}function wm(_,R){return Math.max(_?_.right-_.left:0,R?R.right-R.left:0)}function eT(_,R,U,ae,ve,we){for(var Ee=bm(U,ve,we),Ke=wm(U,ae)*we,pt=0,St=xm(_)/2,Rt=0;Rt<_.length-1;Rt++){var jt=_[Rt],rr=_[Rt+1],qt=jt.dist(rr);if(pt+qt>St){var br=(St-pt)/qt,Br=_i(jt.x,rr.x,br),cn=_i(jt.y,rr.y,br),nn=new Kh(Br,cn,rr.angleTo(jt),Rt);return nn._round(),!Ee||mm(_,nn,Ke,Ee,R)?nn:void 0}pt+=qt}}function tT(_,R,U,ae,ve,we,Ee,Ke,pt){var St=bm(ae,we,Ee),Rt=wm(ae,ve),jt=Rt*Ee,rr=_[0].x===0||_[0].x===pt||_[0].y===0||_[0].y===pt;R-jt<R/4&&(R=jt+R/4);var qt=we*2,br=rr?R/2*Ke%R:(Rt/2+qt)*Ee*Ke%R;return Tm(_,br,R,St,U,jt,rr,!1,pt)}function Tm(_,R,U,ae,ve,we,Ee,Ke,pt){for(var St=we/2,Rt=xm(_),jt=0,rr=R-U,qt=[],br=0;br<_.length-1;br++){for(var Br=_[br],cn=_[br+1],nn=Br.dist(cn),Ln=cn.angleTo(Br);rr+U<jt+nn;){rr+=U;var yn=(rr-jt)/nn,Cn=_i(Br.x,cn.x,yn),kn=_i(Br.y,cn.y,yn);if(Cn>=0&&Cn<pt&&kn>=0&&kn<pt&&rr-St>=0&&rr+St<=Rt){var Yn=new Kh(Cn,kn,Ln,br);Yn._round(),(!ae||mm(_,Yn,we,ae,ve))&&qt.push(Yn)}}jt+=nn}return!Ke&&!qt.length&&!Ee&&(qt=Tm(_,jt/2,U,ae,ve,we,Ee,!0,pt)),qt}function Am(_,R,U,ae,ve){for(var we=[],Ee=0;Ee<_.length;Ee++)for(var Ke=_[Ee],pt=void 0,St=0;St<Ke.length-1;St++){var Rt=Ke[St],jt=Ke[St+1];Rt.x<R&&jt.x<R||(Rt.x<R?Rt=new r(R,Rt.y+(jt.y-Rt.y)*((R-Rt.x)/(jt.x-Rt.x)))._round():jt.x<R&&(jt=new r(R,Rt.y+(jt.y-Rt.y)*((R-Rt.x)/(jt.x-Rt.x)))._round()),!(Rt.y<U&&jt.y<U)&&(Rt.y<U?Rt=new r(Rt.x+(jt.x-Rt.x)*((U-Rt.y)/(jt.y-Rt.y)),U)._round():jt.y<U&&(jt=new r(Rt.x+(jt.x-Rt.x)*((U-Rt.y)/(jt.y-Rt.y)),U)._round()),!(Rt.x>=ae&&jt.x>=ae)&&(Rt.x>=ae?Rt=new r(ae,Rt.y+(jt.y-Rt.y)*((ae-Rt.x)/(jt.x-Rt.x)))._round():jt.x>=ae&&(jt=new r(ae,Rt.y+(jt.y-Rt.y)*((ae-Rt.x)/(jt.x-Rt.x)))._round()),!(Rt.y>=ve&&jt.y>=ve)&&(Rt.y>=ve?Rt=new r(Rt.x+(jt.x-Rt.x)*((ve-Rt.y)/(jt.y-Rt.y)),ve)._round():jt.y>=ve&&(jt=new r(Rt.x+(jt.x-Rt.x)*((ve-Rt.y)/(jt.y-Rt.y)),ve)._round()),(!pt||!Rt.equals(pt[pt.length-1]))&&(pt=[Rt],we.push(pt)),pt.push(jt)))))}return we}var Jh=Is;function Sm(_,R,U,ae){var ve=[],we=_.image,Ee=we.pixelRatio,Ke=we.paddedRect.w-2*Jh,pt=we.paddedRect.h-2*Jh,St=_.right-_.left,Rt=_.bottom-_.top,jt=we.stretchX||[[0,Ke]],rr=we.stretchY||[[0,pt]],qt=function(fi,ni){return fi+ni[1]-ni[0]},br=jt.reduce(qt,0),Br=rr.reduce(qt,0),cn=Ke-br,nn=pt-Br,Ln=0,yn=br,Cn=0,kn=Br,Yn=0,aa=cn,ta=0,Ta=nn;if(we.content&&ae){var pa=we.content;Ln=vp(jt,0,pa[0]),Cn=vp(rr,0,pa[1]),yn=vp(jt,pa[0],pa[2]),kn=vp(rr,pa[1],pa[3]),Yn=pa[0]-Ln,ta=pa[1]-Cn,aa=pa[2]-pa[0]-yn,Ta=pa[3]-pa[1]-kn}var ba=function(fi,ni,Mi,Ci){var Ui=dp(fi.stretch-Ln,yn,St,_.left),ji=pp(fi.fixed-Yn,aa,fi.stretch,br),So=dp(ni.stretch-Cn,kn,Rt,_.top),fo=pp(ni.fixed-ta,Ta,ni.stretch,Br),Wo=dp(Mi.stretch-Ln,yn,St,_.left),Yo=pp(Mi.fixed-Yn,aa,Mi.stretch,br),Mo=dp(Ci.stretch-Cn,kn,Rt,_.top),is=pp(Ci.fixed-ta,Ta,Ci.stretch,Br),os=new r(Ui,So),mo=new r(Wo,So),ss=new r(Wo,Mo),$s=new r(Ui,Mo),_f=new r(ji/Ee,fo/Ee),wc=new r(Yo/Ee,is/Ee),Tc=R*Math.PI/180;if(Tc){var Ac=Math.sin(Tc),av=Math.cos(Tc),Xl=[av,-Ac,Ac,av];os._matMult(Xl),mo._matMult(Xl),$s._matMult(Xl),ss._matMult(Xl)}var wp=fi.stretch+fi.fixed,yg=Mi.stretch+Mi.fixed,Tp=ni.stretch+ni.fixed,mg=Ci.stretch+Ci.fixed,yl={x:we.paddedRect.x+Jh+wp,y:we.paddedRect.y+Jh+Tp,w:yg-wp,h:mg-Tp},iv=aa/Ee/St,Ap=Ta/Ee/Rt;return{tl:os,tr:mo,bl:$s,br:ss,tex:yl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:_f,pixelOffsetBR:wc,minFontScaleX:iv,minFontScaleY:Ap,isSDF:U}};if(!ae||!we.stretchX&&!we.stretchY)ve.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:pt+1}));else for(var Va=Mm(jt,cn,br),Aa=Mm(rr,nn,Br),Ca=0;Ca<Va.length-1;Ca++)for(var ja=Va[Ca],Ba=Va[Ca+1],li=0;li<Aa.length-1;li++){var bi=Aa[li],ui=Aa[li+1];ve.push(ba(ja,bi,Ba,ui))}return ve}function vp(_,R,U){for(var ae=0,ve=0,we=_;ve<we.length;ve+=1){var Ee=we[ve];ae+=Math.max(R,Math.min(U,Ee[1]))-Math.max(R,Math.min(U,Ee[0]))}return ae}function Mm(_,R,U){for(var ae=[{fixed:-Jh,stretch:0}],ve=0,we=_;ve<we.length;ve+=1){var Ee=we[ve],Ke=Ee[0],pt=Ee[1],St=ae[ae.length-1];ae.push({fixed:Ke-St.stretch,stretch:St.stretch}),ae.push({fixed:Ke-St.stretch,stretch:St.stretch+(pt-Ke)})}return ae.push({fixed:R+Jh,stretch:U}),ae}function dp(_,R,U,ae){return _/R*U+ae}function pp(_,R,U,ae){return _-R*U/ae}function rT(_,R,U,ae,ve,we,Ee,Ke){for(var pt=ae.layout.get("text-rotate").evaluate(we,{})*Math.PI/180,St=[],Rt=0,jt=R.positionedLines;Rt<jt.length;Rt+=1)for(var rr=jt[Rt],qt=0,br=rr.positionedGlyphs;qt<br.length;qt+=1){var Br=br[qt];if(Br.rect){var cn=Br.rect||{},nn=1,Ln=sm+nn,yn=!0,Cn=1,kn=0,Yn=(ve||Ke)&&Br.vertical,aa=Br.metrics.advance*Br.scale/2;if(Ke&&R.verticalizable){var ta=(Br.scale-1)*Do,Ta=(Do-Br.metrics.width*Br.scale)/2;kn=rr.lineOffset/2-(Br.imageName?-Ta:ta)}if(Br.imageName){var pa=Ee[Br.imageName];yn=pa.sdf,Cn=pa.pixelRatio,Ln=Is/Cn}var ba=ve?[Br.x+aa,Br.y]:[0,0],Va=ve?[0,0]:[Br.x+aa+U[0],Br.y+U[1]-kn],Aa=[0,0];Yn&&(Aa=Va,Va=[0,0]);var Ca=(Br.metrics.left-Ln)*Br.scale-aa+Va[0],ja=(-Br.metrics.top-Ln)*Br.scale+Va[1],Ba=Ca+cn.w*Br.scale/Cn,li=ja+cn.h*Br.scale/Cn,bi=new r(Ca,ja),ui=new r(Ba,ja),fi=new r(Ca,li),ni=new r(Ba,li);if(Yn){var Mi=new r(-aa,aa-ed),Ci=-Math.PI/2,Ui=Do/2-aa,ji=Br.imageName?Ui:0,So=new r(5-ed-Ui,-ji),fo=new(Function.prototype.bind.apply(r,[null].concat(Aa)));bi._rotateAround(Ci,Mi)._add(So)._add(fo),ui._rotateAround(Ci,Mi)._add(So)._add(fo),fi._rotateAround(Ci,Mi)._add(So)._add(fo),ni._rotateAround(Ci,Mi)._add(So)._add(fo)}if(pt){var Wo=Math.sin(pt),Yo=Math.cos(pt),Mo=[Yo,-Wo,Wo,Yo];bi._matMult(Mo),ui._matMult(Mo),fi._matMult(Mo),ni._matMult(Mo)}var is=new r(0,0),os=new r(0,0),mo=0,ss=0;St.push({tl:bi,tr:ui,bl:fi,br:ni,tex:cn,writingMode:R.writingMode,glyphOffset:ba,sectionIndex:Br.sectionIndex,isSDF:yn,pixelOffsetTL:is,pixelOffsetBR:os,minFontScaleX:mo,minFontScaleY:ss})}}return St}var gp=function(R,U,ae,ve,we,Ee,Ke,pt,St,Rt){if(this.boxStartIndex=R.length,St){var jt=Ee.top,rr=Ee.bottom,qt=Ee.collisionPadding;qt&&(jt-=qt[1],rr+=qt[3]);var br=rr-jt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Br=Ee.top*Ke-pt,cn=Ee.bottom*Ke+pt,nn=Ee.left*Ke-pt,Ln=Ee.right*Ke+pt,yn=Ee.collisionPadding;if(yn&&(nn-=yn[0]*Ke,Br-=yn[1]*Ke,Ln+=yn[2]*Ke,cn+=yn[3]*Ke),Rt){var Cn=new r(nn,Br),kn=new r(Ln,Br),Yn=new r(nn,cn),aa=new r(Ln,cn),ta=Rt*Math.PI/180;Cn._rotate(ta),kn._rotate(ta),Yn._rotate(ta),aa._rotate(ta),nn=Math.min(Cn.x,kn.x,Yn.x,aa.x),Ln=Math.max(Cn.x,kn.x,Yn.x,aa.x),Br=Math.min(Cn.y,kn.y,Yn.y,aa.y),cn=Math.max(Cn.y,kn.y,Yn.y,aa.y)}R.emplaceBack(U.x,U.y,nn,Br,Ln,cn,ae,ve,we)}this.boxEndIndex=R.length},Qh=function(R,U){if(R===void 0&&(R=[]),U===void 0&&(U=nT),this.data=R,this.length=this.data.length,this.compare=U,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};Qh.prototype.push=function(R){this.data.push(R),this.length++,this._up(this.length-1)},Qh.prototype.pop=function(){if(this.length!==0){var R=this.data[0],U=this.data.pop();return this.length--,this.length>0&&(this.data[0]=U,this._down(0)),R}},Qh.prototype.peek=function(){return this.data[0]},Qh.prototype._up=function(R){for(var U=this,ae=U.data,ve=U.compare,we=ae[R];R>0;){var Ee=R-1>>1,Ke=ae[Ee];if(ve(we,Ke)>=0)break;ae[R]=Ke,R=Ee}ae[R]=we},Qh.prototype._down=function(R){for(var U=this,ae=U.data,ve=U.compare,we=this.length>>1,Ee=ae[R];R<we;){var Ke=(R<<1)+1,pt=ae[Ke],St=Ke+1;if(St<this.length&&ve(ae[St],pt)<0&&(Ke=St,pt=ae[St]),ve(pt,Ee)>=0)break;ae[R]=pt,R=Ke}ae[R]=Ee};function nT(_,R){return _<R?-1:_>R?1:0}function aT(_,R,U){U===void 0&&(U=!1);for(var ae=1/0,ve=1/0,we=-1/0,Ee=-1/0,Ke=_[0],pt=0;pt<Ke.length;pt++){var St=Ke[pt];(!pt||St.x<ae)&&(ae=St.x),(!pt||St.y<ve)&&(ve=St.y),(!pt||St.x>we)&&(we=St.x),(!pt||St.y>Ee)&&(Ee=St.y)}var Rt=we-ae,jt=Ee-ve,rr=Math.min(Rt,jt),qt=rr/2,br=new Qh([],iT);if(rr===0)return new r(ae,ve);for(var Br=ae;Br<we;Br+=rr)for(var cn=ve;cn<Ee;cn+=rr)br.push(new $h(Br+qt,cn+qt,qt,_));for(var nn=sT(_),Ln=br.length;br.length;){var yn=br.pop();(yn.d>nn.d||!nn.d)&&(nn=yn,U&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Ln)),!(yn.max-nn.d<=R)&&(qt=yn.h/2,br.push(new $h(yn.p.x-qt,yn.p.y-qt,qt,_)),br.push(new $h(yn.p.x+qt,yn.p.y-qt,qt,_)),br.push(new $h(yn.p.x-qt,yn.p.y+qt,qt,_)),br.push(new $h(yn.p.x+qt,yn.p.y+qt,qt,_)),Ln+=4)}return U&&(console.log("num probes: "+Ln),console.log("best distance: "+nn.d)),nn.p}function iT(_,R){return R.max-_.max}function $h(_,R,U,ae){this.p=new r(_,R),this.h=U,this.d=oT(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function oT(_,R){for(var U=!1,ae=1/0,ve=0;ve<R.length;ve++)for(var we=R[ve],Ee=0,Ke=we.length,pt=Ke-1;Ee<Ke;pt=Ee++){var St=we[Ee],Rt=we[pt];St.y>_.y!=Rt.y>_.y&&_.x<(Rt.x-St.x)*(_.y-St.y)/(Rt.y-St.y)+St.x&&(U=!U),ae=Math.min(ae,Ef(_,St,Rt))}return(U?1:-1)*Math.sqrt(ae)}function sT(_){for(var R=0,U=0,ae=0,ve=_[0],we=0,Ee=ve.length,Ke=Ee-1;we<Ee;Ke=we++){var pt=ve[we],St=ve[Ke],Rt=pt.x*St.y-St.x*pt.y;U+=(pt.x+St.x)*Rt,ae+=(pt.y+St.y)*Rt,R+=Rt*3}return new $h(U/R,ae/R,0,_)}var qh=7,fg=Number.POSITIVE_INFINITY;function Em(_,R){function U(ve,we){var Ee=0,Ke=0;we<0&&(we=0);var pt=we/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Ke=pt-qh;break;case"bottom-right":case"bottom-left":Ke=-pt+qh;break;case"bottom":Ke=-we+qh;break;case"top":Ke=we-qh;break}switch(ve){case"top-right":case"bottom-right":Ee=-pt;break;case"top-left":case"bottom-left":Ee=pt;break;case"left":Ee=we;break;case"right":Ee=-we;break}return[Ee,Ke]}function ae(ve,we,Ee){var Ke=0,pt=0;switch(we=Math.abs(we),Ee=Math.abs(Ee),ve){case"top-right":case"top-left":case"top":pt=Ee-qh;break;case"bottom-right":case"bottom-left":case"bottom":pt=-Ee+qh;break}switch(ve){case"top-right":case"bottom-right":case"right":Ke=-we;break;case"top-left":case"bottom-left":case"left":Ke=we;break}return[Ke,pt]}return R[1]!==fg?ae(_,R[0],R[1]):U(_,R[0])}function lT(_,R,U,ae,ve,we,Ee){_.createArrays();var Ke=512*_.overscaling;_.tilePixelRatio=Ma/Ke,_.compareText={},_.iconsNeedLinear=!1;var pt=_.layers[0].layout,St=_.layers[0]._unevaluatedLayout._values,Rt={};if(_.textSizeData.kind==="composite"){var jt=_.textSizeData,rr=jt.minZoom,qt=jt.maxZoom;Rt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Sa(rr),Ee),St["text-size"].possiblyEvaluate(new Sa(qt),Ee)]}if(_.iconSizeData.kind==="composite"){var br=_.iconSizeData,Br=br.minZoom,cn=br.maxZoom;Rt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Sa(Br),Ee),St["icon-size"].possiblyEvaluate(new Sa(cn),Ee)]}Rt.layoutTextSize=St["text-size"].possiblyEvaluate(new Sa(_.zoom+1),Ee),Rt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Sa(_.zoom+1),Ee),Rt.textMaxSize=St["text-size"].possiblyEvaluate(new Sa(18));for(var nn=pt.get("text-line-height")*Do,Ln=pt.get("text-rotation-alignment")==="map"&&pt.get("symbol-placement")!=="point",yn=pt.get("text-keep-upright"),Cn=pt.get("text-size"),kn=function(){var ta=aa[Yn],Ta=pt.get("text-font").evaluate(ta,{},Ee).join(","),pa=Cn.evaluate(ta,{},Ee),ba=Rt.layoutTextSize.evaluate(ta,{},Ee),Va=Rt.layoutIconSize.evaluate(ta,{},Ee),Aa={horizontal:{},vertical:void 0},Ca=ta.text,ja=[0,0];if(Ca){var Ba=Ca.toString(),li=pt.get("text-letter-spacing").evaluate(ta,{},Ee)*Do,bi=Cr(Ba)?li:0,ui=pt.get("text-anchor").evaluate(ta,{},Ee),fi=pt.get("text-variable-anchor");if(!fi){var ni=pt.get("text-radial-offset").evaluate(ta,{},Ee);ni?ja=Em(ui,[ni*Do,fg]):ja=pt.get("text-offset").evaluate(ta,{},Ee).map(function(_f){return _f*Do})}var Mi=Ln?"center":pt.get("text-justify").evaluate(ta,{},Ee),Ci=pt.get("symbol-placement"),Ui=Ci==="point"?pt.get("text-max-width").evaluate(ta,{},Ee)*Do:0,ji=function(){_.allowVerticalPlacement&&tr(Ba)&&(Aa.vertical=hp(Ca,R,U,ve,Ta,Ui,nn,ui,"left",bi,ja,Qs.vertical,!0,Ci,ba,pa))};if(!Ln&&fi){for(var So=Mi==="auto"?fi.map(function(_f){return cg(_f)}):[Mi],fo=!1,Wo=0;Wo<So.length;Wo++){var Yo=So[Wo];if(!Aa.horizontal[Yo])if(fo)Aa.horizontal[Yo]=Aa.horizontal[0];else{var Mo=hp(Ca,R,U,ve,Ta,Ui,nn,"center",Yo,bi,ja,Qs.horizontal,!1,Ci,ba,pa);Mo&&(Aa.horizontal[Yo]=Mo,fo=Mo.positionedLines.length===1)}}ji()}else{Mi==="auto"&&(Mi=cg(ui));var is=hp(Ca,R,U,ve,Ta,Ui,nn,ui,Mi,bi,ja,Qs.horizontal,!1,Ci,ba,pa);is&&(Aa.horizontal[Mi]=is),ji(),tr(Ba)&&Ln&&yn&&(Aa.vertical=hp(Ca,R,U,ve,Ta,Ui,nn,ui,Mi,bi,ja,Qs.vertical,!1,Ci,ba,pa))}}var os=void 0,mo=!1;if(ta.icon&&ta.icon.name){var ss=ae[ta.icon.name];ss&&(os=$4(ve[ta.icon.name],pt.get("icon-offset").evaluate(ta,{},Ee),pt.get("icon-anchor").evaluate(ta,{},Ee)),mo=ss.sdf,_.sdfIcons===void 0?_.sdfIcons=ss.sdf:_.sdfIcons!==ss.sdf&&F("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ss.pixelRatio!==_.pixelRatio||pt.get("icon-rotate").constantOr(1)!==0)&&(_.iconsNeedLinear=!0))}var $s=Lm(Aa.horizontal)||Aa.vertical;_.iconsInText=$s?$s.iconsInText:!1,($s||os)&&uT(_,ta,Aa,os,ae,Rt,ba,Va,ja,mo,Ee)},Yn=0,aa=_.features;Yn<aa.length;Yn+=1)kn();we&&_.generateCollisionDebugBuffers()}function cg(_){switch(_){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function uT(_,R,U,ae,ve,we,Ee,Ke,pt,St,Rt){var jt=we.textMaxSize.evaluate(R,{});jt===void 0&&(jt=Ee);var rr=_.layers[0].layout,qt=rr.get("icon-offset").evaluate(R,{},Rt),br=Lm(U.horizontal),Br=24,cn=Ee/Br,nn=_.tilePixelRatio*cn,Ln=_.tilePixelRatio*jt/Br,yn=_.tilePixelRatio*Ke,Cn=_.tilePixelRatio*rr.get("symbol-spacing"),kn=rr.get("text-padding")*_.tilePixelRatio,Yn=rr.get("icon-padding")*_.tilePixelRatio,aa=rr.get("text-max-angle")/180*Math.PI,ta=rr.get("text-rotation-alignment")==="map"&&rr.get("symbol-placement")!=="point",Ta=rr.get("icon-rotation-alignment")==="map"&&rr.get("symbol-placement")!=="point",pa=rr.get("symbol-placement"),ba=Cn/2,Va=rr.get("icon-text-fit"),Aa;ae&&Va!=="none"&&(_.allowVerticalPlacement&&U.vertical&&(Aa=pm(ae,U.vertical,Va,rr.get("icon-text-fit-padding"),qt,cn)),br&&(ae=pm(ae,br,Va,rr.get("icon-text-fit-padding"),qt,cn)));var Ca=function(av,Xl){Xl.x<0||Xl.x>=Ma||Xl.y<0||Xl.y>=Ma||fT(_,Xl,av,U,ae,ve,Aa,_.layers[0],_.collisionBoxArray,R.index,R.sourceLayerIndex,_.index,nn,kn,ta,pt,yn,Yn,Ta,qt,R,we,St,Rt,Ee)};if(pa==="line")for(var ja=0,Ba=Am(R.geometry,0,0,Ma,Ma);ja<Ba.length;ja+=1)for(var li=Ba[ja],bi=tT(li,Cn,aa,U.vertical||br,ae,Br,Ln,_.overscaling,Ma),ui=0,fi=bi;ui<fi.length;ui+=1){var ni=fi[ui],Mi=br;(!Mi||!cT(_,Mi.text,ba,ni))&&Ca(li,ni)}else if(pa==="line-center")for(var Ci=0,Ui=R.geometry;Ci<Ui.length;Ci+=1){var ji=Ui[Ci];if(ji.length>1){var So=eT(ji,aa,U.vertical||br,ae,Br,Ln);So&&Ca(ji,So)}}else if(R.type==="Polygon")for(var fo=0,Wo=tg(R.geometry,0);fo<Wo.length;fo+=1){var Yo=Wo[fo],Mo=aT(Yo,16);Ca(Yo[0],new Kh(Mo.x,Mo.y,0))}else if(R.type==="LineString")for(var is=0,os=R.geometry;is<os.length;is+=1){var mo=os[is];Ca(mo,new Kh(mo[0].x,mo[0].y,0))}else if(R.type==="Point")for(var ss=0,$s=R.geometry;ss<$s.length;ss+=1)for(var _f=$s[ss],wc=0,Tc=_f;wc<Tc.length;wc+=1){var Ac=Tc[wc];Ca([Ac],new Kh(Ac.x,Ac.y,0))}}var td=255,xc=td*Mu;function Cm(_,R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br){var Br=rT(R,U,Ke,ve,we,Ee,ae,_.allowVerticalPlacement),cn=_.textSizeData,nn=null;cn.kind==="source"?(nn=[Mu*ve.layout.get("text-size").evaluate(Ee,{})],nn[0]>xc&&F(_.layerIds[0]+': Value for "text-size" is >= '+td+'. Reduce your "text-size".')):cn.kind==="composite"&&(nn=[Mu*qt.compositeTextSizes[0].evaluate(Ee,{},br),Mu*qt.compositeTextSizes[1].evaluate(Ee,{},br)],(nn[0]>xc||nn[1]>xc)&&F(_.layerIds[0]+': Value for "text-size" is >= '+td+'. Reduce your "text-size".')),_.addSymbols(_.text,Br,nn,Ke,we,Ee,St,R,pt.lineStartIndex,pt.lineLength,rr,br);for(var Ln=0,yn=Rt;Ln<yn.length;Ln+=1){var Cn=yn[Ln];jt[Cn]=_.text.placedSymbolArray.length-1}return Br.length*4}function Lm(_){for(var R in _)return _[R];return null}function fT(_,R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr,qt,br,Br,cn,nn,Ln,yn,Cn,kn,Yn,aa,ta){var Ta,pa=_.addToLineVertexArray(R,U),ba,Va,Aa,Ca,ja=0,Ba=0,li=0,bi=0,ui=-1,fi=-1,ni={},Mi=pe(""),Ci=0,Ui=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ta=Ke.layout.get("text-offset").evaluate(Cn,{},aa).map(function(ad){return ad*Do}),Ci=Ta[0],Ui=Ta[1]):(Ci=Ke.layout.get("text-radial-offset").evaluate(Cn,{},aa)*Do,Ui=fg),_.allowVerticalPlacement&&ae.vertical){var ji=Ke.layout.get("text-rotate").evaluate(Cn,{},aa),So=ji+90,fo=ae.vertical;Aa=new gp(pt,R,St,Rt,jt,fo,rr,qt,br,So),Ee&&(Ca=new gp(pt,R,St,Rt,jt,Ee,cn,nn,br,So))}if(ve){var Wo=Ke.layout.get("icon-rotate").evaluate(Cn,{}),Yo=Ke.layout.get("icon-text-fit")!=="none",Mo=Sm(ve,Wo,Yn,Yo),is=Ee?Sm(Ee,Wo,Yn,Yo):void 0;Va=new gp(pt,R,St,Rt,jt,ve,cn,nn,!1,Wo),ja=Mo.length*4;var os=_.iconSizeData,mo=null;os.kind==="source"?(mo=[Mu*Ke.layout.get("icon-size").evaluate(Cn,{})],mo[0]>xc&&F(_.layerIds[0]+': Value for "icon-size" is >= '+td+'. Reduce your "icon-size".')):os.kind==="composite"&&(mo=[Mu*kn.compositeIconSizes[0].evaluate(Cn,{},aa),Mu*kn.compositeIconSizes[1].evaluate(Cn,{},aa)],(mo[0]>xc||mo[1]>xc)&&F(_.layerIds[0]+': Value for "icon-size" is >= '+td+'. Reduce your "icon-size".')),_.addSymbols(_.icon,Mo,mo,yn,Ln,Cn,!1,R,pa.lineStartIndex,pa.lineLength,-1,aa),ui=_.icon.placedSymbolArray.length-1,is&&(Ba=is.length*4,_.addSymbols(_.icon,is,mo,yn,Ln,Cn,Qs.vertical,R,pa.lineStartIndex,pa.lineLength,-1,aa),fi=_.icon.placedSymbolArray.length-1)}for(var ss in ae.horizontal){var $s=ae.horizontal[ss];if(!ba){Mi=pe($s.text);var _f=Ke.layout.get("text-rotate").evaluate(Cn,{},aa);ba=new gp(pt,R,St,Rt,jt,$s,rr,qt,br,_f)}var wc=$s.positionedLines.length===1;if(li+=Cm(_,R,$s,we,Ke,br,Cn,Br,pa,ae.vertical?Qs.horizontal:Qs.horizontalOnly,wc?Object.keys(ae.horizontal):[ss],ni,ui,kn,aa),wc)break}ae.vertical&&(bi+=Cm(_,R,ae.vertical,we,Ke,br,Cn,Br,pa,Qs.vertical,["vertical"],ni,fi,kn,aa));var Tc=ba?ba.boxStartIndex:_.collisionBoxArray.length,Ac=ba?ba.boxEndIndex:_.collisionBoxArray.length,av=Aa?Aa.boxStartIndex:_.collisionBoxArray.length,Xl=Aa?Aa.boxEndIndex:_.collisionBoxArray.length,wp=Va?Va.boxStartIndex:_.collisionBoxArray.length,yg=Va?Va.boxEndIndex:_.collisionBoxArray.length,Tp=Ca?Ca.boxStartIndex:_.collisionBoxArray.length,mg=Ca?Ca.boxEndIndex:_.collisionBoxArray.length,yl=-1,iv=function(ad,Wm){return ad&&ad.circleDiameter?Math.max(ad.circleDiameter,Wm):Wm};yl=iv(ba,yl),yl=iv(Aa,yl),yl=iv(Va,yl),yl=iv(Ca,yl);var Ap=yl>-1?1:0;Ap&&(yl*=ta/Do),_.glyphOffsetArray.length>=xi.MAX_GLYPHS&&F("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cn.sortKey!==void 0&&_.addToSortKeyRanges(_.symbolInstances.length,Cn.sortKey),_.symbolInstances.emplaceBack(R.x,R.y,ni.right>=0?ni.right:-1,ni.center>=0?ni.center:-1,ni.left>=0?ni.left:-1,ni.vertical||-1,ui,fi,Mi,Tc,Ac,av,Xl,wp,yg,Tp,mg,St,li,bi,ja,Ba,Ap,0,rr,Ci,Ui,yl)}function cT(_,R,U,ae){var ve=_.compareText;if(!(R in ve))ve[R]=[];else for(var we=ve[R],Ee=we.length-1;Ee>=0;Ee--)if(ae.dist(we[Ee])<U)return!0;return ve[R].push(ae),!1}var hT=Yh.VectorTileFeature.types,vT=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function yp(_,R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr){var qt=Ke?Math.min(xc,Math.round(Ke[0])):0,br=Ke?Math.min(xc,Math.round(Ke[1])):0;_.emplaceBack(R,U,Math.round(ae*32),Math.round(ve*32),we,Ee,(qt<<1)+(pt?1:0),br,St*16,Rt*16,jt*256,rr*256)}function hg(_,R,U){_.emplaceBack(R.x,R.y,U),_.emplaceBack(R.x,R.y,U),_.emplaceBack(R.x,R.y,U),_.emplaceBack(R.x,R.y,U)}function dT(_){for(var R=0,U=_.sections;R<U.length;R+=1){var ae=U[R];if(rn(ae.text))return!0}return!1}var ev=function(R){this.layoutVertexArray=new Ju,this.indexArray=new wu,this.programConfigurations=R,this.segments=new oo,this.dynamicLayoutVertexArray=new Nv,this.opacityVertexArray=new Bv,this.placedSymbolArray=new Hv};ev.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},ev.prototype.upload=function(R,U,ae,ve){this.isEmpty()||(ae&&(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,d4.members),this.indexBuffer=R.createIndexBuffer(this.indexArray,U),this.dynamicLayoutVertexBuffer=R.createVertexBuffer(this.dynamicLayoutVertexArray,p4.members,!0),this.opacityVertexBuffer=R.createVertexBuffer(this.opacityVertexArray,vT,!0),this.opacityVertexBuffer.itemSize=1),(ae||ve)&&this.programConfigurations.upload(R))},ev.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Be("SymbolBuffers",ev);var rd=function(R,U,ae){this.layoutVertexArray=new R,this.layoutAttributes=U,this.indexArray=new ae,this.segments=new oo,this.collisionVertexArray=new gs};rd.prototype.upload=function(R){this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=R.createVertexBuffer(this.collisionVertexArray,g4.members,!0)},rd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Be("CollisionBuffers",rd);var xi=function(R){this.collisionBoxArray=R.collisionBoxArray,this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(pt){return pt.id}),this.index=R.index,this.pixelRatio=R.pixelRatio,this.sourceLayerIndex=R.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Uh([]),this.placementViewportMatrix=Uh([]);var U=this.layers[0],ae=U._unevaluatedLayout._values;this.textSizeData=ug(this.zoom,ae["text-size"]),this.iconSizeData=ug(this.zoom,ae["icon-size"]);var ve=this.layers[0].layout,we=ve.get("symbol-sort-key"),Ee=ve.get("symbol-z-order");this.canOverlap=ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement"),this.sortFeaturesByKey=Ee!=="viewport-y"&&we.constantOr(1)!==void 0;var Ke=Ee==="viewport-y"||Ee==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&this.canOverlap,ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(pt){return Qs[pt]})),this.stateDependentLayerIds=this.layers.filter(function(pt){return pt.isStateDependent()}).map(function(pt){return pt.id}),this.sourceID=R.sourceID};xi.prototype.createArrays=function(){this.text=new ev(new da(this.layers,this.zoom,function(R){return/^text/.test(R)})),this.icon=new ev(new da(this.layers,this.zoom,function(R){return/^icon/.test(R)})),this.glyphOffsetArray=new qd,this.lineVertexArray=new hl,this.symbolInstances=new $d},xi.prototype.calculateGlyphDependencies=function(R,U,ae,ve,we){for(var Ee=0;Ee<R.length;Ee++)if(U[R.charCodeAt(Ee)]=!0,(ae||ve)&&we){var Ke=Qv[R.charAt(Ee)];Ke&&(U[Ke.charCodeAt(0)]=!0)}},xi.prototype.populate=function(R,U,ae){var ve=this.layers[0],we=ve.layout,Ee=we.get("text-font"),Ke=we.get("text-field"),pt=we.get("icon-image"),St=(Ke.value.kind!=="constant"||Ke.value.value instanceof Ki&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(Ee.value.kind!=="constant"||Ee.value.value.length>0),Rt=pt.value.kind!=="constant"||!!pt.value.value||Object.keys(pt.parameters).length>0,jt=we.get("symbol-sort-key");if(this.features=[],!(!St&&!Rt)){for(var rr=U.iconDependencies,qt=U.glyphDependencies,br=U.availableImages,Br=new Sa(this.zoom),cn=0,nn=R;cn<nn.length;cn+=1){var Ln=nn[cn],yn=Ln.feature,Cn=Ln.id,kn=Ln.index,Yn=Ln.sourceLayerIndex,aa=ve._featureFilter.needGeometry,ta=Si(yn,aa);if(ve._featureFilter.filter(Br,ta,ae)){aa||(ta.geometry=ri(yn));var Ta=void 0;if(St){var pa=ve.getValueAndResolveTokens("text-field",ta,ae,br),ba=Ki.factory(pa);dT(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||Oa()==="unavailable"||this.hasRTLText&&qn.isParsed())&&(Ta=x4(ba,ve,ta))}var Va=void 0;if(Rt){var Aa=ve.getValueAndResolveTokens("icon-image",ta,ae,br);Aa instanceof bo?Va=Aa:Va=bo.fromString(Aa)}if(!(!Ta&&!Va)){var Ca=this.sortFeaturesByKey?jt.evaluate(ta,{},ae):void 0,ja={id:Cn,text:Ta,icon:Va,index:kn,sourceLayerIndex:Yn,geometry:ta.geometry,properties:yn.properties,type:hT[yn.type],sortKey:Ca};if(this.features.push(ja),Va&&(rr[Va.name]=!0),Ta){var Ba=Ee.evaluate(ta,{},ae).join(","),li=we.get("text-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qs.vertical)>=0;for(var bi=0,ui=Ta.sections;bi<ui.length;bi+=1){var fi=ui[bi];if(fi.image)rr[fi.image.name]=!0;else{var ni=tr(Ta.toString()),Mi=fi.fontStack||Ba,Ci=qt[Mi]=qt[Mi]||{};this.calculateGlyphDependencies(fi.text,Ci,li,this.allowVerticalPlacement,ni)}}}}}}we.get("symbol-placement")==="line"&&(this.features=b4(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ui,ji){return Ui.sortKey-ji.sortKey})}},xi.prototype.update=function(R,U,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(R,U,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(R,U,this.layers,ae))},xi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},xi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},xi.prototype.upload=function(R){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(R),this.iconCollisionBox.upload(R)),this.text.upload(R,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(R,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},xi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},xi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},xi.prototype.addToLineVertexArray=function(R,U){var ae=this.lineVertexArray.length;if(R.segment!==void 0){for(var ve=R.dist(U[R.segment+1]),we=R.dist(U[R.segment]),Ee={},Ke=R.segment+1;Ke<U.length;Ke++)Ee[Ke]={x:U[Ke].x,y:U[Ke].y,tileUnitDistanceFromAnchor:ve},Ke<U.length-1&&(ve+=U[Ke+1].dist(U[Ke]));for(var pt=R.segment||0;pt>=0;pt--)Ee[pt]={x:U[pt].x,y:U[pt].y,tileUnitDistanceFromAnchor:we},pt>0&&(we+=U[pt-1].dist(U[pt]));for(var St=0;St<U.length;St++){var Rt=Ee[St];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},xi.prototype.addSymbols=function(R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt,rr){for(var qt=R.indexArray,br=R.layoutVertexArray,Br=R.segments.prepareSegment(4*U.length,br,qt,this.canOverlap?Ee.sortKey:void 0),cn=this.glyphOffsetArray.length,nn=Br.vertexLength,Ln=this.allowVerticalPlacement&&Ke===Qs.vertical?Math.PI/2:0,yn=Ee.text&&Ee.text.sections,Cn=0;Cn<U.length;Cn++){var kn=U[Cn],Yn=kn.tl,aa=kn.tr,ta=kn.bl,Ta=kn.br,pa=kn.tex,ba=kn.pixelOffsetTL,Va=kn.pixelOffsetBR,Aa=kn.minFontScaleX,Ca=kn.minFontScaleY,ja=kn.glyphOffset,Ba=kn.isSDF,li=kn.sectionIndex,bi=Br.vertexLength,ui=ja[1];yp(br,pt.x,pt.y,Yn.x,ui+Yn.y,pa.x,pa.y,ae,Ba,ba.x,ba.y,Aa,Ca),yp(br,pt.x,pt.y,aa.x,ui+aa.y,pa.x+pa.w,pa.y,ae,Ba,Va.x,ba.y,Aa,Ca),yp(br,pt.x,pt.y,ta.x,ui+ta.y,pa.x,pa.y+pa.h,ae,Ba,ba.x,Va.y,Aa,Ca),yp(br,pt.x,pt.y,Ta.x,ui+Ta.y,pa.x+pa.w,pa.y+pa.h,ae,Ba,Va.x,Va.y,Aa,Ca),hg(R.dynamicLayoutVertexArray,pt,Ln),qt.emplaceBack(bi,bi+1,bi+2),qt.emplaceBack(bi+1,bi+2,bi+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ja[0]),(Cn===U.length-1||li!==U[Cn+1].sectionIndex)&&R.programConfigurations.populatePaintArrays(br.length,Ee,Ee.index,{},rr,yn&&yn[li])}R.placedSymbolArray.emplaceBack(pt.x,pt.y,cn,this.glyphOffsetArray.length-cn,nn,St,Rt,pt.segment,ae?ae[0]:0,ae?ae[1]:0,ve[0],ve[1],Ke,0,!1,0,jt)},xi.prototype._addCollisionDebugVertex=function(R,U,ae,ve,we,Ee){return U.emplaceBack(0,0),R.emplaceBack(ae.x,ae.y,ve,we,Math.round(Ee.x),Math.round(Ee.y))},xi.prototype.addCollisionDebugVertices=function(R,U,ae,ve,we,Ee,Ke){var pt=we.segments.prepareSegment(4,we.layoutVertexArray,we.indexArray),St=pt.vertexLength,Rt=we.layoutVertexArray,jt=we.collisionVertexArray,rr=Ke.anchorX,qt=Ke.anchorY;this._addCollisionDebugVertex(Rt,jt,Ee,rr,qt,new r(R,U)),this._addCollisionDebugVertex(Rt,jt,Ee,rr,qt,new r(ae,U)),this._addCollisionDebugVertex(Rt,jt,Ee,rr,qt,new r(ae,ve)),this._addCollisionDebugVertex(Rt,jt,Ee,rr,qt,new r(R,ve)),pt.vertexLength+=4;var br=we.indexArray;br.emplaceBack(St,St+1),br.emplaceBack(St+1,St+2),br.emplaceBack(St+2,St+3),br.emplaceBack(St+3,St),pt.primitiveLength+=4},xi.prototype.addDebugCollisionBoxes=function(R,U,ae,ve){for(var we=R;we<U;we++){var Ee=this.collisionBoxArray.get(we),Ke=Ee.x1,pt=Ee.y1,St=Ee.x2,Rt=Ee.y2;this.addCollisionDebugVertices(Ke,pt,St,Rt,ve?this.textCollisionBox:this.iconCollisionBox,Ee.anchorPoint,ae)}},xi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new rd(kh,rm.members,hh),this.iconCollisionBox=new rd(kh,rm.members,hh);for(var R=0;R<this.symbolInstances.length;R++){var U=this.symbolInstances.get(R);this.addDebugCollisionBoxes(U.textBoxStartIndex,U.textBoxEndIndex,U,!0),this.addDebugCollisionBoxes(U.verticalTextBoxStartIndex,U.verticalTextBoxEndIndex,U,!0),this.addDebugCollisionBoxes(U.iconBoxStartIndex,U.iconBoxEndIndex,U,!1),this.addDebugCollisionBoxes(U.verticalIconBoxStartIndex,U.verticalIconBoxEndIndex,U,!1)}},xi.prototype._deserializeCollisionBoxesForSymbol=function(R,U,ae,ve,we,Ee,Ke,pt,St){for(var Rt={},jt=U;jt<ae;jt++){var rr=R.get(jt);Rt.textBox={x1:rr.x1,y1:rr.y1,x2:rr.x2,y2:rr.y2,anchorPointX:rr.anchorPointX,anchorPointY:rr.anchorPointY},Rt.textFeatureIndex=rr.featureIndex;break}for(var qt=ve;qt<we;qt++){var br=R.get(qt);Rt.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},Rt.verticalTextFeatureIndex=br.featureIndex;break}for(var Br=Ee;Br<Ke;Br++){var cn=R.get(Br);Rt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},Rt.iconFeatureIndex=cn.featureIndex;break}for(var nn=pt;nn<St;nn++){var Ln=R.get(nn);Rt.verticalIconBox={x1:Ln.x1,y1:Ln.y1,x2:Ln.x2,y2:Ln.y2,anchorPointX:Ln.anchorPointX,anchorPointY:Ln.anchorPointY},Rt.verticalIconFeatureIndex=Ln.featureIndex;break}return Rt},xi.prototype.deserializeCollisionBoxes=function(R){this.collisionArrays=[];for(var U=0;U<this.symbolInstances.length;U++){var ae=this.symbolInstances.get(U);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(R,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},xi.prototype.hasTextData=function(){return this.text.segments.get().length>0},xi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},xi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},xi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},xi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},xi.prototype.addIndicesForPlacedSymbol=function(R,U){for(var ae=R.placedSymbolArray.get(U),ve=ae.vertexStartIndex+ae.numGlyphs*4,we=ae.vertexStartIndex;we<ve;we+=4)R.indexArray.emplaceBack(we,we+1,we+2),R.indexArray.emplaceBack(we+1,we+2,we+3)},xi.prototype.getSortedSymbolIndexes=function(R){if(this.sortedAngle===R&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var U=Math.sin(R),ae=Math.cos(R),ve=[],we=[],Ee=[],Ke=0;Ke<this.symbolInstances.length;++Ke){Ee.push(Ke);var pt=this.symbolInstances.get(Ke);ve.push(Math.round(U*pt.anchorX+ae*pt.anchorY)|0),we.push(pt.featureIndex)}return Ee.sort(function(St,Rt){return ve[St]-ve[Rt]||we[Rt]-we[St]}),Ee},xi.prototype.addToSortKeyRanges=function(R,U){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===U?ae.symbolInstanceEnd=R+1:this.sortKeyRanges.push({sortKey:U,symbolInstanceStart:R,symbolInstanceEnd:R+1})},xi.prototype.sortFeatures=function(R){var U=this;if(this.sortFeaturesByY&&this.sortedAngle!==R&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(R),this.sortedAngle=R,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,ve=this.symbolInstanceIndexes;ae<ve.length;ae+=1){var we=ve[ae],Ee=this.symbolInstances.get(we);this.featureSortOrder.push(Ee.featureIndex),[Ee.rightJustifiedTextSymbolIndex,Ee.centerJustifiedTextSymbolIndex,Ee.leftJustifiedTextSymbolIndex].forEach(function(Ke,pt,St){Ke>=0&&St.indexOf(Ke)===pt&&U.addIndicesForPlacedSymbol(U.text,Ke)}),Ee.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ee.verticalPlacedTextSymbolIndex),Ee.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ee.placedIconSymbolIndex),Ee.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ee.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Be("SymbolBucket",xi,{omit:["layers","collisionBoxArray","features","compareText"]}),xi.MAX_GLYPHS=65535,xi.addDynamicAttributes=hg;function pT(_,R){return R.replace(/{([^{}]+)}/g,function(U,ae){return ae in _?String(_[ae]):""})}var gT=new hi({"symbol-placement":new la(Ar.layout_symbol["symbol-placement"]),"symbol-spacing":new la(Ar.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new la(Ar.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new La(Ar.layout_symbol["symbol-sort-key"]),"symbol-z-order":new la(Ar.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new la(Ar.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new la(Ar.layout_symbol["icon-ignore-placement"]),"icon-optional":new la(Ar.layout_symbol["icon-optional"]),"icon-rotation-alignment":new la(Ar.layout_symbol["icon-rotation-alignment"]),"icon-size":new La(Ar.layout_symbol["icon-size"]),"icon-text-fit":new la(Ar.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new la(Ar.layout_symbol["icon-text-fit-padding"]),"icon-image":new La(Ar.layout_symbol["icon-image"]),"icon-rotate":new La(Ar.layout_symbol["icon-rotate"]),"icon-padding":new la(Ar.layout_symbol["icon-padding"]),"icon-keep-upright":new la(Ar.layout_symbol["icon-keep-upright"]),"icon-offset":new La(Ar.layout_symbol["icon-offset"]),"icon-anchor":new La(Ar.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new la(Ar.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new la(Ar.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new la(Ar.layout_symbol["text-rotation-alignment"]),"text-field":new La(Ar.layout_symbol["text-field"]),"text-font":new La(Ar.layout_symbol["text-font"]),"text-size":new La(Ar.layout_symbol["text-size"]),"text-max-width":new La(Ar.layout_symbol["text-max-width"]),"text-line-height":new la(Ar.layout_symbol["text-line-height"]),"text-letter-spacing":new La(Ar.layout_symbol["text-letter-spacing"]),"text-justify":new La(Ar.layout_symbol["text-justify"]),"text-radial-offset":new La(Ar.layout_symbol["text-radial-offset"]),"text-variable-anchor":new la(Ar.layout_symbol["text-variable-anchor"]),"text-anchor":new La(Ar.layout_symbol["text-anchor"]),"text-max-angle":new la(Ar.layout_symbol["text-max-angle"]),"text-writing-mode":new la(Ar.layout_symbol["text-writing-mode"]),"text-rotate":new La(Ar.layout_symbol["text-rotate"]),"text-padding":new la(Ar.layout_symbol["text-padding"]),"text-keep-upright":new la(Ar.layout_symbol["text-keep-upright"]),"text-transform":new La(Ar.layout_symbol["text-transform"]),"text-offset":new La(Ar.layout_symbol["text-offset"]),"text-allow-overlap":new la(Ar.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new la(Ar.layout_symbol["text-ignore-placement"]),"text-optional":new la(Ar.layout_symbol["text-optional"])}),yT=new hi({"icon-opacity":new La(Ar.paint_symbol["icon-opacity"]),"icon-color":new La(Ar.paint_symbol["icon-color"]),"icon-halo-color":new La(Ar.paint_symbol["icon-halo-color"]),"icon-halo-width":new La(Ar.paint_symbol["icon-halo-width"]),"icon-halo-blur":new La(Ar.paint_symbol["icon-halo-blur"]),"icon-translate":new la(Ar.paint_symbol["icon-translate"]),"icon-translate-anchor":new la(Ar.paint_symbol["icon-translate-anchor"]),"text-opacity":new La(Ar.paint_symbol["text-opacity"]),"text-color":new La(Ar.paint_symbol["text-color"],{runtimeType:En,getOverride:function(_){return _.textColor},hasOverride:function(_){return!!_.textColor}}),"text-halo-color":new La(Ar.paint_symbol["text-halo-color"]),"text-halo-width":new La(Ar.paint_symbol["text-halo-width"]),"text-halo-blur":new La(Ar.paint_symbol["text-halo-blur"]),"text-translate":new la(Ar.paint_symbol["text-translate"]),"text-translate-anchor":new la(Ar.paint_symbol["text-translate-anchor"])}),vg={paint:yT,layout:gT},tv=function(R){this.type=R.property.overrides?R.property.overrides.runtimeType:Gr,this.defaultValue=R};tv.prototype.evaluate=function(R){if(R.formattedSection){var U=this.defaultValue.property.overrides;if(U&&U.hasOverride(R.formattedSection))return U.getOverride(R.formattedSection)}return R.feature&&R.featureState?this.defaultValue.evaluate(R.feature,R.featureState):this.defaultValue.property.specification.default},tv.prototype.eachChild=function(R){if(!this.defaultValue.isConstant()){var U=this.defaultValue.value;R(U._styleExpression.expression)}},tv.prototype.outputDefined=function(){return!1},tv.prototype.serialize=function(){return null},Be("FormatSectionOverride",tv,{omit:["defaultValue"]});var mT=function(_){function R(U){_.call(this,U,vg)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ae,ve){if(_.prototype.recalculate.call(this,ae,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var we=this.layout.get("text-writing-mode");if(we){for(var Ee=[],Ke=0,pt=we;Ke<pt.length;Ke+=1){var St=pt[Ke];Ee.indexOf(St)<0&&Ee.push(St)}this.layout._values["text-writing-mode"]=Ee}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(ae,ve,we,Ee){var Ke=this.layout.get(ae).evaluate(ve,{},we,Ee),pt=this._unevaluatedLayout._values[ae];return!pt.isDataDriven()&&!hu(pt.value)&&Ke?pT(ve.properties,Ke):Ke},R.prototype.createBucket=function(ae){return new xi(ae)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var ae=0,ve=vg.paint.overridableProperties;ae<ve.length;ae+=1){var we=ve[ae];if(R.hasPaintOverride(this.layout,we)){var Ee=this.paint.get(we),Ke=new tv(Ee),pt=new Ys(Ke,Ee.property.specification),St=null;Ee.value.kind==="constant"||Ee.value.kind==="source"?St=new Gi("source",pt):St=new ds("composite",pt,Ee.value.zoomStops,Ee.value._interpolationType),this.paint._values[we]=new Ti(Ee.property,St,Ee.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,we){return!this.layout||ve.isDataDriven()||we.isDataDriven()?!1:R.hasPaintOverride(this.layout,ae)},R.hasPaintOverride=function(ae,ve){var we=ae.get("text-field"),Ee=vg.paint.properties[ve],Ke=!1,pt=function(jt){for(var rr=0,qt=jt;rr<qt.length;rr+=1){var br=qt[rr];if(Ee.overrides&&Ee.overrides.hasOverride(br)){Ke=!0;return}}};if(we.value.kind==="constant"&&we.value.value instanceof Ki)pt(we.value.value.sections);else if(we.value.kind==="source"){var St=function(jt){if(!Ke)if(jt instanceof Oi&&Ii(jt.value)===ga){var rr=jt.value;pt(rr.sections)}else jt instanceof no?pt(jt.sections):jt.eachChild(St)},Rt=we.value;Rt._styleExpression&&St(Rt._styleExpression.expression)}return Ke},R}(Ni),xT=new hi({"background-color":new la(Ar.paint_background["background-color"]),"background-pattern":new Fo(Ar.paint_background["background-pattern"]),"background-opacity":new la(Ar.paint_background["background-opacity"])}),bT={paint:xT},wT=function(_){function R(U){_.call(this,U,bT)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(Ni),TT=new hi({"raster-opacity":new la(Ar.paint_raster["raster-opacity"]),"raster-hue-rotate":new la(Ar.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new la(Ar.paint_raster["raster-brightness-min"]),"raster-brightness-max":new la(Ar.paint_raster["raster-brightness-max"]),"raster-saturation":new la(Ar.paint_raster["raster-saturation"]),"raster-contrast":new la(Ar.paint_raster["raster-contrast"]),"raster-resampling":new la(Ar.paint_raster["raster-resampling"]),"raster-fade-duration":new la(Ar.paint_raster["raster-fade-duration"])}),AT={paint:TT},ST=function(_){function R(U){_.call(this,U,AT)}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R}(Ni);function MT(_){var R=[],U=_.id;return U===void 0&&R.push({message:"layers."+U+': missing required property "id"'}),_.render===void 0&&R.push({message:"layers."+U+': missing required method "render"'}),_.renderingMode&&_.renderingMode!=="2d"&&_.renderingMode!=="3d"&&R.push({message:"layers."+U+': property "renderingMode" must be either "2d" or "3d"'}),R}var ET=function(_){function R(U){_.call(this,U,{}),this.implementation=U}return _&&(R.__proto__=_),R.prototype=Object.create(_&&_.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},R.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},R}(Ni),CT={circle:Jw,heatmap:e2,hillshade:n2,fill:P2,"fill-extrusion":J2,line:h4,symbol:mT,background:wT,raster:ST};function LT(_){return _.type==="custom"?new ET(_):new CT[_.type](_)}var Pm=i.HTMLImageElement,_m=i.HTMLCanvasElement,Rm=i.HTMLVideoElement,Dm=i.ImageData,mp=i.ImageBitmap,gh=function(R,U,ae,ve){this.context=R,this.format=ae,this.texture=R.gl.createTexture(),this.update(U,ve)};gh.prototype.update=function(R,U,ae){var ve=R.width,we=R.height,Ee=(!this.size||this.size[0]!==ve||this.size[1]!==we)&&!ae,Ke=this,pt=Ke.context,St=pt.gl;if(this.useMipmap=!!(U&&U.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),pt.pixelStoreUnpackFlipY.set(!1),pt.pixelStoreUnpack.set(1),pt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!U||U.premultiply!==!1)),Ee)this.size=[ve,we],R instanceof Pm||R instanceof _m||R instanceof Rm||R instanceof Dm||mp&&R instanceof mp?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,R):St.texImage2D(St.TEXTURE_2D,0,this.format,ve,we,0,this.format,St.UNSIGNED_BYTE,R.data);else{var Rt=ae||{x:0,y:0},jt=Rt.x,rr=Rt.y;R instanceof Pm||R instanceof _m||R instanceof Rm||R instanceof Dm||mp&&R instanceof mp?St.texSubImage2D(St.TEXTURE_2D,0,jt,rr,St.RGBA,St.UNSIGNED_BYTE,R):St.texSubImage2D(St.TEXTURE_2D,0,jt,rr,ve,we,St.RGBA,St.UNSIGNED_BYTE,R.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},gh.prototype.bind=function(R,U,ae){var ve=this,we=ve.context,Ee=we.gl;Ee.bindTexture(Ee.TEXTURE_2D,this.texture),ae===Ee.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Ee.LINEAR),R!==this.filter&&(Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MAG_FILTER,R),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_MIN_FILTER,ae||R),this.filter=R),U!==this.wrap&&(Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_S,U),Ee.texParameteri(Ee.TEXTURE_2D,Ee.TEXTURE_WRAP_T,U),this.wrap=U)},gh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},gh.prototype.destroy=function(){var R=this.context,U=R.gl;U.deleteTexture(this.texture),this.texture=null};var dg=function(R){var U=this;this._callback=R,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){U._triggered=!1,U._callback()})};dg.prototype.trigger=function(){var R=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){R._triggered=!1,R._callback()},0))},dg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var rv=function(R,U,ae){this.target=R,this.parent=U,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new dg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=J()?R:i};rv.prototype.send=function(R,U,ae,ve,we){var Ee=this;we===void 0&&(we=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Ke]=ae);var pt=le(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:R,hasCallback:!!ae,targetMapId:ve,mustQueue:we,sourceMapId:this.mapId,data:_t(U,pt)},pt),{cancel:function(){ae&&delete Ee.callbacks[Ke],Ee.target.postMessage({id:Ke,type:"<cancel>",targetMapId:ve,sourceMapId:Ee.mapId})}}},rv.prototype.receive=function(R){var U=R.data,ae=U.id;if(ae&&!(U.targetMapId&&this.mapId!==U.targetMapId))if(U.type==="<cancel>"){delete this.tasks[ae];var ve=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],ve&&ve()}else J()||U.mustQueue?(this.tasks[ae]=U,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,U)},rv.prototype.process=function(){if(this.taskQueue.length){var R=this.taskQueue.shift(),U=this.tasks[R];delete this.tasks[R],this.taskQueue.length&&this.invoker.trigger(),U&&this.processTask(R,U)}},rv.prototype.processTask=function(R,U){var ae=this;if(U.type==="<response>"){var ve=this.callbacks[R];delete this.callbacks[R],ve&&(U.error?ve(At(U.error)):ve(null,At(U.data)))}else{var we=!1,Ee=le(this.globalScope)?void 0:[],Ke=U.hasCallback?function(rr,qt){we=!0,delete ae.cancelCallbacks[R],ae.target.postMessage({id:R,type:"<response>",sourceMapId:ae.mapId,error:rr?_t(rr):null,data:_t(qt,Ee)},Ee)}:function(rr){we=!0},pt=null,St=At(U.data);if(this.parent[U.type])pt=this.parent[U.type](U.sourceMapId,St,Ke);else if(this.parent.getWorkerSource){var Rt=U.type.split("."),jt=this.parent.getWorkerSource(U.sourceMapId,Rt[0],St.source);pt=jt[Rt[1]](St,Ke)}else Ke(new Error("Could not find function "+U.type));!we&&pt&&pt.cancel&&(this.cancelCallbacks[R]=pt.cancel)}},rv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function PT(_,R,U){R=Math.pow(2,U)-R-1;var ae=Im(_*256,R*256,U),ve=Im((_+1)*256,(R+1)*256,U);return ae[0]+","+ae[1]+","+ve[0]+","+ve[1]}function Im(_,R,U){var ae=2*Math.PI*6378137/256/Math.pow(2,U),ve=_*ae-2*Math.PI*6378137/2,we=R*ae-2*Math.PI*6378137/2;return[ve,we]}var lo=function(R,U){R&&(U?this.setSouthWest(R).setNorthEast(U):R.length===4?this.setSouthWest([R[0],R[1]]).setNorthEast([R[2],R[3]]):this.setSouthWest(R[0]).setNorthEast(R[1]))};lo.prototype.setNorthEast=function(R){return this._ne=R instanceof Ri?new Ri(R.lng,R.lat):Ri.convert(R),this},lo.prototype.setSouthWest=function(R){return this._sw=R instanceof Ri?new Ri(R.lng,R.lat):Ri.convert(R),this},lo.prototype.extend=function(R){var U=this._sw,ae=this._ne,ve,we;if(R instanceof Ri)ve=R,we=R;else if(R instanceof lo){if(ve=R._sw,we=R._ne,!ve||!we)return this}else{if(Array.isArray(R))if(R.length===4||R.every(Array.isArray)){var Ee=R;return this.extend(lo.convert(Ee))}else{var Ke=R;return this.extend(Ri.convert(Ke))}return this}return!U&&!ae?(this._sw=new Ri(ve.lng,ve.lat),this._ne=new Ri(we.lng,we.lat)):(U.lng=Math.min(ve.lng,U.lng),U.lat=Math.min(ve.lat,U.lat),ae.lng=Math.max(we.lng,ae.lng),ae.lat=Math.max(we.lat,ae.lat)),this},lo.prototype.getCenter=function(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},lo.prototype.getSouthWest=function(){return this._sw},lo.prototype.getNorthEast=function(){return this._ne},lo.prototype.getNorthWest=function(){return new Ri(this.getWest(),this.getNorth())},lo.prototype.getSouthEast=function(){return new Ri(this.getEast(),this.getSouth())},lo.prototype.getWest=function(){return this._sw.lng},lo.prototype.getSouth=function(){return this._sw.lat},lo.prototype.getEast=function(){return this._ne.lng},lo.prototype.getNorth=function(){return this._ne.lat},lo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},lo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},lo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},lo.prototype.contains=function(R){var U=Ri.convert(R),ae=U.lng,ve=U.lat,we=this._sw.lat<=ve&&ve<=this._ne.lat,Ee=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ee=this._sw.lng>=ae&&ae>=this._ne.lng),we&&Ee},lo.convert=function(R){return!R||R instanceof lo?R:new lo(R)};var km=63710088e-1,Ri=function(R,U){if(isNaN(R)||isNaN(U))throw new Error("Invalid LngLat object: ("+R+", "+U+")");if(this.lng=+R,this.lat=+U,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ri.prototype.wrap=function(){return new Ri(T(this.lng,-180,180),this.lat)},Ri.prototype.toArray=function(){return[this.lng,this.lat]},Ri.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ri.prototype.distanceTo=function(R){var U=Math.PI/180,ae=this.lat*U,ve=R.lat*U,we=Math.sin(ae)*Math.sin(ve)+Math.cos(ae)*Math.cos(ve)*Math.cos((R.lng-this.lng)*U),Ee=km*Math.acos(Math.min(we,1));return Ee},Ri.prototype.toBounds=function(R){R===void 0&&(R=0);var U=40075017,ae=360*R/U,ve=ae/Math.cos(Math.PI/180*this.lat);return new lo(new Ri(this.lng-ve,this.lat-ae),new Ri(this.lng+ve,this.lat+ae))},Ri.convert=function(R){if(R instanceof Ri)return R;if(Array.isArray(R)&&(R.length===2||R.length===3))return new Ri(Number(R[0]),Number(R[1]));if(!Array.isArray(R)&&typeof R=="object"&&R!==null)return new Ri(Number("lng"in R?R.lng:R.lon),Number(R.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var zm=2*Math.PI*km;function Om(_){return zm*Math.cos(_*Math.PI/180)}function Fm(_){return(180+_)/360}function Nm(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function Bm(_,R){return _/Om(R)}function _T(_){return _*360-180}function pg(_){var R=180-_*360;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}function RT(_,R){return _*Om(pg(R))}function DT(_){return 1/Math.cos(_*Math.PI/180)}var yh=function(R,U,ae){ae===void 0&&(ae=0),this.x=+R,this.y=+U,this.z=+ae};yh.fromLngLat=function(R,U){U===void 0&&(U=0);var ae=Ri.convert(R);return new yh(Fm(ae.lng),Nm(ae.lat),Bm(U,ae.lat))},yh.prototype.toLngLat=function(){return new Ri(_T(this.x),pg(this.y))},yh.prototype.toAltitude=function(){return RT(this.z,this.y)},yh.prototype.meterInMercatorCoordinateUnits=function(){return 1/zm*DT(pg(this.y))};var mh=function(R,U,ae){this.z=R,this.x=U,this.y=ae,this.key=nd(0,R,R,U,ae)};mh.prototype.equals=function(R){return this.z===R.z&&this.x===R.x&&this.y===R.y},mh.prototype.url=function(R,U){var ae=PT(this.x,this.y,this.z),ve=IT(this.z,this.x,this.y);return R[(this.x+this.y)%R.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(U==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ae)},mh.prototype.getTilePoint=function(R){var U=Math.pow(2,this.z);return new r((R.x*U-this.x)*Ma,(R.y*U-this.y)*Ma)},mh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Um=function(R,U){this.wrap=R,this.canonical=U,this.key=nd(R,U.z,U.z,U.x,U.y)},uo=function(R,U,ae,ve,we){this.overscaledZ=R,this.wrap=U,this.canonical=new mh(ae,+ve,+we),this.key=nd(U,R,ae,ve,we)};uo.prototype.equals=function(R){return this.overscaledZ===R.overscaledZ&&this.wrap===R.wrap&&this.canonical.equals(R.canonical)},uo.prototype.scaledTo=function(R){var U=this.canonical.z-R;return R>this.canonical.z?new uo(R,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new uo(R,this.wrap,R,this.canonical.x>>U,this.canonical.y>>U)},uo.prototype.calculateScaledKey=function(R,U){var ae=this.canonical.z-R;return R>this.canonical.z?nd(this.wrap*+U,R,this.canonical.z,this.canonical.x,this.canonical.y):nd(this.wrap*+U,R,R,this.canonical.x>>ae,this.canonical.y>>ae)},uo.prototype.isChildOf=function(R){if(R.wrap!==this.wrap)return!1;var U=this.canonical.z-R.canonical.z;return R.overscaledZ===0||R.overscaledZ<this.overscaledZ&&R.canonical.x===this.canonical.x>>U&&R.canonical.y===this.canonical.y>>U},uo.prototype.children=function(R){if(this.overscaledZ>=R)return[new uo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var U=this.canonical.z+1,ae=this.canonical.x*2,ve=this.canonical.y*2;return[new uo(U,this.wrap,U,ae,ve),new uo(U,this.wrap,U,ae+1,ve),new uo(U,this.wrap,U,ae,ve+1),new uo(U,this.wrap,U,ae+1,ve+1)]},uo.prototype.isLessThan=function(R){return this.wrap<R.wrap?!0:this.wrap>R.wrap?!1:this.overscaledZ<R.overscaledZ?!0:this.overscaledZ>R.overscaledZ?!1:this.canonical.x<R.canonical.x?!0:this.canonical.x>R.canonical.x?!1:this.canonical.y<R.canonical.y},uo.prototype.wrapped=function(){return new uo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},uo.prototype.unwrapTo=function(R){return new uo(this.overscaledZ,R,this.canonical.z,this.canonical.x,this.canonical.y)},uo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},uo.prototype.toUnwrapped=function(){return new Um(this.wrap,this.canonical)},uo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},uo.prototype.getTilePoint=function(R){return this.canonical.getTilePoint(new yh(R.x-this.wrap,R.y))};function nd(_,R,U,ae,ve){_*=2,_<0&&(_=_*-1-1);var we=1<<U;return(we*we*_+we*ve+ae).toString(36)+U.toString(36)+R.toString(36)}function IT(_,R,U){for(var ae="",ve,we=_;we>0;we--)ve=1<<we-1,ae+=(R&ve?1:0)+(U&ve?2:0);return ae}Be("CanonicalTileID",mh),Be("OverscaledTileID",uo,{omit:["posMatrix"]});var Lf=function(R,U,ae){if(this.uid=R,U.height!==U.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return F('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=U.height;var ve=this.dim=U.height-2;this.data=new Uint32Array(U.data.buffer),this.encoding=ae||"mapbox";for(var we=0;we<ve;we++)this.data[this._idx(-1,we)]=this.data[this._idx(0,we)],this.data[this._idx(ve,we)]=this.data[this._idx(ve-1,we)],this.data[this._idx(we,-1)]=this.data[this._idx(we,0)],this.data[this._idx(we,ve)]=this.data[this._idx(we,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Lf.prototype.get=function(R,U){var ae=new Uint8Array(this.data.buffer),ve=this._idx(R,U)*4,we=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return we(ae[ve],ae[ve+1],ae[ve+2])},Lf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Lf.prototype._idx=function(R,U){if(R<-1||R>=this.dim+1||U<-1||U>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(U+1)*this.stride+(R+1)},Lf.prototype._unpackMapbox=function(R,U,ae){return(R*256*256+U*256+ae)/10-1e4},Lf.prototype._unpackTerrarium=function(R,U,ae){return R*256+U+ae/256-32768},Lf.prototype.getPixels=function(){return new bs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Lf.prototype.backfillBorder=function(R,U,ae){if(this.dim!==R.dim)throw new Error("dem dimension mismatch");var ve=U*this.dim,we=U*this.dim+this.dim,Ee=ae*this.dim,Ke=ae*this.dim+this.dim;switch(U){case-1:ve=we-1;break;case 1:we=ve+1;break}switch(ae){case-1:Ee=Ke-1;break;case 1:Ke=Ee+1;break}for(var pt=-U*this.dim,St=-ae*this.dim,Rt=Ee;Rt<Ke;Rt++)for(var jt=ve;jt<we;jt++)this.data[this._idx(jt,Rt)]=R.data[this._idx(jt+pt,Rt+St)]},Be("DEMData",Lf);function kT(_,R){var U={};if(!R)return U;for(var ae=function(){var Ee=we[ve],Ke=Ee.layerIds.map(function(jt){return R.getLayer(jt)}).filter(Boolean);if(Ke.length!==0){Ee.layers=Ke,Ee.stateDependentLayerIds&&(Ee.stateDependentLayers=Ee.stateDependentLayerIds.map(function(jt){return Ke.filter(function(rr){return rr.id===jt})[0]}));for(var pt=0,St=Ke;pt<St.length;pt+=1){var Rt=St[pt];U[Rt.id]=Ee}}},ve=0,we=_;ve<we.length;ve+=1)ae();return U}var xp=function(R){this._stringToNumber={},this._numberToString=[];for(var U=0;U<R.length;U++){var ae=R[U];this._stringToNumber[ae]=U,this._numberToString[U]=ae}};xp.prototype.encode=function(R){return this._stringToNumber[R]},xp.prototype.decode=function(R){return this._numberToString[R]};var bp=function(R,U,ae,ve,we){this.type="Feature",this._vectorTileFeature=R,R._z=U,R._x=ae,R._y=ve,this.properties=R.properties,this.id=we},gg={geometry:{configurable:!0}};gg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},gg.geometry.set=function(_){this._geometry=_},bp.prototype.toJSON=function(){var R={geometry:this.geometry};for(var U in this)U==="_geometry"||U==="_vectorTileFeature"||(R[U]=this[U]);return R},Object.defineProperties(bp.prototype,gg);var nv=function(){this.state={},this.stateChanges={},this.deletedStates={}};nv.prototype.updateState=function(R,U,ae){var ve=String(U);if(this.stateChanges[R]=this.stateChanges[R]||{},this.stateChanges[R][ve]=this.stateChanges[R][ve]||{},x(this.stateChanges[R][ve],ae),this.deletedStates[R]===null){this.deletedStates[R]={};for(var we in this.state[R])we!==ve&&(this.deletedStates[R][we]=null)}else{var Ee=this.deletedStates[R]&&this.deletedStates[R][ve]===null;if(Ee){this.deletedStates[R][ve]={};for(var Ke in this.state[R][ve])ae[Ke]||(this.deletedStates[R][ve][Ke]=null)}else for(var pt in ae){var St=this.deletedStates[R]&&this.deletedStates[R][ve]&&this.deletedStates[R][ve][pt]===null;St&&delete this.deletedStates[R][ve][pt]}}},nv.prototype.removeFeatureState=function(R,U,ae){var ve=this.deletedStates[R]===null;if(!ve){var we=String(U);if(this.deletedStates[R]=this.deletedStates[R]||{},ae&&U!==void 0)this.deletedStates[R][we]!==null&&(this.deletedStates[R][we]=this.deletedStates[R][we]||{},this.deletedStates[R][we][ae]=null);else if(U!==void 0){var Ee=this.stateChanges[R]&&this.stateChanges[R][we];if(Ee){this.deletedStates[R][we]={};for(ae in this.stateChanges[R][we])this.deletedStates[R][we][ae]=null}else this.deletedStates[R][we]=null}else this.deletedStates[R]=null}},nv.prototype.getState=function(R,U){var ae=String(U),ve=this.state[R]||{},we=this.stateChanges[R]||{},Ee=x({},ve[ae],we[ae]);if(this.deletedStates[R]===null)return{};if(this.deletedStates[R]){var Ke=this.deletedStates[R][U];if(Ke===null)return{};for(var pt in Ke)delete Ee[pt]}return Ee},nv.prototype.initializeTileState=function(R,U){R.setFeatureState(this.state,U)},nv.prototype.coalesceChanges=function(R,U){var ae={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var we={};for(var Ee in this.stateChanges[ve])this.state[ve][Ee]||(this.state[ve][Ee]={}),x(this.state[ve][Ee],this.stateChanges[ve][Ee]),we[Ee]=this.state[ve][Ee];ae[ve]=we}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var pt={};if(this.deletedStates[Ke]===null)for(var St in this.state[Ke])pt[St]={},this.state[Ke][St]={};else for(var Rt in this.deletedStates[Ke]){var jt=this.deletedStates[Ke][Rt]===null;if(jt)this.state[Ke][Rt]={};else for(var rr=0,qt=Object.keys(this.deletedStates[Ke][Rt]);rr<qt.length;rr+=1){var br=qt[rr];delete this.state[Ke][Rt][br]}pt[Rt]=this.state[Ke][Rt]}ae[Ke]=ae[Ke]||{},x(ae[Ke],pt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Br in R){var cn=R[Br];cn.setFeatureState(ae,U)}};var Pf=function(R,U){this.tileID=R,this.x=R.canonical.x,this.y=R.canonical.y,this.z=R.canonical.z,this.grid=new Na(Ma,16,0),this.grid3D=new Na(Ma,16,0),this.featureIndexArray=new tp,this.promoteId=U};Pf.prototype.insert=function(R,U,ae,ve,we,Ee){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,ve,we);for(var pt=Ee?this.grid3D:this.grid,St=0;St<U.length;St++){for(var Rt=U[St],jt=[1/0,1/0,-1/0,-1/0],rr=0;rr<Rt.length;rr++){var qt=Rt[rr];jt[0]=Math.min(jt[0],qt.x),jt[1]=Math.min(jt[1],qt.y),jt[2]=Math.max(jt[2],qt.x),jt[3]=Math.max(jt[3],qt.y)}jt[0]<Ma&&jt[1]<Ma&&jt[2]>=0&&jt[3]>=0&&pt.insert(Ke,jt[0],jt[1],jt[2],jt[3])}},Pf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Yh.VectorTile(new up(this.rawTileData)).layers,this.sourceLayerCoder=new xp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Pf.prototype.query=function(R,U,ae,ve){var we=this;this.loadVTLayers();for(var Ee=R.params||{},Ke=Ma/R.tileSize/R.scale,pt=Zs(Ee.filter),St=R.queryGeometry,Rt=R.queryPadding*Ke,jt=Hm(St),rr=this.grid.query(jt.minX-Rt,jt.minY-Rt,jt.maxX+Rt,jt.maxY+Rt),qt=Hm(R.cameraQueryGeometry),br=this.grid3D.query(qt.minX-Rt,qt.minY-Rt,qt.maxX+Rt,qt.maxY+Rt,function(Yn,aa,ta,Ta){return jl(R.cameraQueryGeometry,Yn-Rt,aa-Rt,ta+Rt,Ta+Rt)}),Br=0,cn=br;Br<cn.length;Br+=1){var nn=cn[Br];rr.push(nn)}rr.sort(zT);for(var Ln={},yn,Cn=function(Yn){var aa=rr[Yn];if(aa!==yn){yn=aa;var ta=we.featureIndexArray.get(aa),Ta=null;we.loadMatchingFeature(Ln,ta.bucketIndex,ta.sourceLayerIndex,ta.featureIndex,pt,Ee.layers,Ee.availableImages,U,ae,ve,function(pa,ba,Va){return Ta||(Ta=ri(pa)),ba.queryIntersectsFeature(St,pa,Va,Ta,we.z,R.transform,Ke,R.pixelPosMatrix)})}},kn=0;kn<rr.length;kn++)Cn(kn);return Ln},Pf.prototype.loadMatchingFeature=function(R,U,ae,ve,we,Ee,Ke,pt,St,Rt,jt){var rr=this.bucketLayerIDs[U];if(!(Ee&&!k(Ee,rr))){var qt=this.sourceLayerCoder.decode(ae),br=this.vtLayers[qt],Br=br.feature(ve);if(we.needGeometry){var cn=Si(Br,!0);if(!we.filter(new Sa(this.tileID.overscaledZ),cn,this.tileID.canonical))return}else if(!we.filter(new Sa(this.tileID.overscaledZ),Br))return;for(var nn=this.getId(Br,qt),Ln=0;Ln<rr.length;Ln++){var yn=rr[Ln];if(!(Ee&&Ee.indexOf(yn)<0)){var Cn=pt[yn];if(Cn){var kn={};nn!==void 0&&Rt&&(kn=Rt.getState(Cn.sourceLayer||"_geojsonTileLayer",nn));var Yn=x({},St[yn]);Yn.paint=Vm(Yn.paint,Cn.paint,Br,kn,Ke),Yn.layout=Vm(Yn.layout,Cn.layout,Br,kn,Ke);var aa=!jt||jt(Br,Cn,kn);if(aa){var ta=new bp(Br,this.z,this.x,this.y,nn);ta.layer=Yn;var Ta=R[yn];Ta===void 0&&(Ta=R[yn]=[]),Ta.push({featureIndex:ve,feature:ta,intersectionZ:aa})}}}}}},Pf.prototype.lookupSymbolFeatures=function(R,U,ae,ve,we,Ee,Ke,pt){var St={};this.loadVTLayers();for(var Rt=Zs(we),jt=0,rr=R;jt<rr.length;jt+=1){var qt=rr[jt];this.loadMatchingFeature(St,ae,ve,qt,Rt,Ee,Ke,pt,U)}return St},Pf.prototype.hasLayer=function(R){for(var U=0,ae=this.bucketLayerIDs;U<ae.length;U+=1)for(var ve=ae[U],we=0,Ee=ve;we<Ee.length;we+=1){var Ke=Ee[we];if(R===Ke)return!0}return!1},Pf.prototype.getId=function(R,U){var ae=R.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[U];ae=R.properties[ve],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Be("FeatureIndex",Pf,{omit:["rawTileData","sourceLayerCoder"]});function Vm(_,R,U,ae,ve){return I(_,function(we,Ee){var Ke=R instanceof go?R.get(Ee):null;return Ke&&Ke.evaluate?Ke.evaluate(U,ae,ve):Ke})}function Hm(_){for(var R=1/0,U=1/0,ae=-1/0,ve=-1/0,we=0,Ee=_;we<Ee.length;we+=1){var Ke=Ee[we];R=Math.min(R,Ke.x),U=Math.min(U,Ke.y),ae=Math.max(ae,Ke.x),ve=Math.max(ve,Ke.y)}return{minX:R,minY:U,maxX:ae,maxY:ve}}function zT(_,R){return R-_}var OT=3e4,Ao=function(R,U){this.tileID=R,this.uid=y(),this.uses=0,this.tileSize=U,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ao.prototype.registerFadeDuration=function(R){var U=R+this.timeAdded;U<se.now()||this.fadeEndTime&&U<this.fadeEndTime||(this.fadeEndTime=U)},Ao.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ao.prototype.loadVectorData=function(R,U,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!R){this.collisionBoxArray=new Vv;return}R.featureIndex&&(this.latestFeatureIndex=R.featureIndex,R.rawTileData?(this.latestRawTileData=R.rawTileData,this.latestFeatureIndex.rawTileData=R.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=R.collisionBoxArray,this.buckets=kT(R.buckets,U.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var we=this.buckets[ve];if(we instanceof xi)if(this.hasSymbolBuckets=!0,ae)we.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ee in this.buckets){var Ke=this.buckets[Ee];if(Ke instanceof xi&&Ke.hasRTLText){this.hasRTLText=!0,Ha();break}}this.queryPadding=0;for(var pt in this.buckets){var St=this.buckets[pt];this.queryPadding=Math.max(this.queryPadding,U.style.getLayer(pt).queryRadius(St))}R.imageAtlas&&(this.imageAtlas=R.imageAtlas),R.glyphAtlasImage&&(this.glyphAtlasImage=R.glyphAtlasImage)},Ao.prototype.unloadVectorData=function(){for(var R in this.buckets)this.buckets[R].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ao.prototype.getBucket=function(R){return this.buckets[R.id]},Ao.prototype.upload=function(R){for(var U in this.buckets){var ae=this.buckets[U];ae.uploadPending()&&ae.upload(R)}var ve=R.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new gh(R,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new gh(R,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},Ao.prototype.prepare=function(R){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(R,this.imageAtlasTexture)},Ao.prototype.queryRenderedFeatures=function(R,U,ae,ve,we,Ee,Ke,pt,St,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:we,scale:Ee,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:pt,params:Ke,queryPadding:this.queryPadding*St},R,U,ae)},Ao.prototype.querySourceFeatures=function(R,U){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var ve=ae.loadVTLayers(),we=U?U.sourceLayer:"",Ee=ve._geojsonTileLayer||ve[we];if(Ee)for(var Ke=Zs(U&&U.filter),pt=this.tileID.canonical,St=pt.z,Rt=pt.x,jt=pt.y,rr={z:St,x:Rt,y:jt},qt=0;qt<Ee.length;qt++){var br=Ee.feature(qt);if(Ke.needGeometry){var Br=Si(br,!0);if(!Ke.filter(new Sa(this.tileID.overscaledZ),Br,this.tileID.canonical))continue}else if(!Ke.filter(new Sa(this.tileID.overscaledZ),br))continue;var cn=ae.getId(br,we),nn=new bp(br,St,Rt,jt,cn);nn.tile=rr,R.push(nn)}}},Ao.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ao.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ao.prototype.setExpiryData=function(R){var U=this.expirationTime;if(R.cacheControl){var ae=re(R.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else R.expires&&(this.expirationTime=new Date(R.expires).getTime());if(this.expirationTime){var ve=Date.now(),we=!1;if(this.expirationTime>ve)we=!1;else if(!U)we=!0;else if(this.expirationTime<U)we=!0;else{var Ee=this.expirationTime-U;Ee?this.expirationTime=ve+Math.max(Ee,OT):we=!0}we?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ao.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ao.prototype.setFeatureState=function(R,U){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(R).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(U.style.hasLayer(ve)){var we=this.buckets[ve],Ee=we.layers[0].sourceLayer||"_geojsonTileLayer",Ke=ae[Ee],pt=R[Ee];if(!(!Ke||!pt||Object.keys(pt).length===0)){we.update(pt,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=U&&U.style&&U.style.getLayer(ve);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(we)))}}}},Ao.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ao.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Ao.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ao.prototype.setHoldDuration=function(R){this.symbolFadeHoldUntil=se.now()+R},Ao.prototype.setDependencies=function(R,U){for(var ae={},ve=0,we=U;ve<we.length;ve+=1){var Ee=we[ve];ae[Ee]=!0}this.dependencies[R]=ae},Ao.prototype.hasDependency=function(R,U){for(var ae=0,ve=R;ae<ve.length;ae+=1){var we=ve[ae],Ee=this.dependencies[we];if(Ee)for(var Ke=0,pt=U;Ke<pt.length;Ke+=1){var St=pt[Ke];if(Ee[St])return!0}}return!1};var FT=["type","source","source-layer","minzoom","maxzoom","filter","layout"],bc=i.performance,Gm=function(R){this._marks={start:[R.url,"start"].join("#"),end:[R.url,"end"].join("#"),measure:R.url.toString()},bc.mark(this._marks.start)};Gm.prototype.finish=function(){bc.mark(this._marks.end);var R=bc.getEntriesByName(this._marks.measure);return R.length===0&&(bc.measure(this._marks.measure,this._marks.start,this._marks.end),R=bc.getEntriesByName(this._marks.measure),bc.clearMarks(this._marks.start),bc.clearMarks(this._marks.end),bc.clearMeasures(this._marks.measure)),R},s.Actor=rv,s.AlphaImage=ph,s.CanonicalTileID=mh,s.CollisionBoxArray=Vv,s.Color=ti,s.DEMData=Lf,s.DataConstantProperty=la,s.DictionaryCoder=xp,s.EXTENT=Ma,s.ErrorEvent=Nt,s.EvaluationParameters=Sa,s.Event=er,s.Evented=ir,s.FeatureIndex=Pf,s.FillBucket=Au,s.FillExtrusionBucket=Su,s.ImageAtlas=qv,s.ImagePosition=cp,s.LineBucket=as,s.LngLat=Ri,s.LngLatBounds=lo,s.MercatorCoordinate=yh,s.ONE_EM=Do,s.OverscaledTileID=uo,s.Point=r,s.Point$1=r,s.Properties=hi,s.Protobuf=up,s.RGBAImage=bs,s.RequestManager=Se,s.RequestPerformance=Gm,s.ResourceType=yr,s.SegmentVector=oo,s.SourceFeatureState=nv,s.StructArrayLayout1ui2=hc,s.StructArrayLayout2f1f2i16=bu,s.StructArrayLayout2i4=Af,s.StructArrayLayout3ui6=wu,s.StructArrayLayout4i8=Fv,s.SymbolBucket=xi,s.Texture=gh,s.Tile=Ao,s.Transitionable=oi,s.Uniform1f=Xr,s.Uniform1i=kr,s.Uniform2f=jr,s.Uniform3f=Wr,s.Uniform4f=Qr,s.UniformColor=dn,s.UniformMatrix4f=Bn,s.UnwrappedTileID=Um,s.ValidationError=Nr,s.WritingMode=Qs,s.ZoomHistory=Gt,s.add=Hh,s.addDynamicAttributes=hg,s.asyncAll=c,s.bezier=l,s.bindAll=E,s.browser=se,s.cacheEntryPossiblyAdded=Mt,s.clamp=h,s.clearTileCache=nr,s.clipLine=Am,s.clone=Bh,s.clone$1=N,s.clone$2=j0,s.collisionCircleLayout=y4,s.config=te,s.create=Nh,s.create$1=Ho,s.create$2=Fh,s.createCommonjsModule=L,s.createExpression=js,s.createLayout=Pi,s.createStyleLayer=LT,s.cross=Vw,s.deepEqual=n,s.dot=Uw,s.dot$1=jw,s.ease=g,s.emitValidationErrors=ka,s.endsWith=b,s.enforceCacheSizeLimit=Xt,s.evaluateSizeForFeature=gm,s.evaluateSizeForZoom=ym,s.evaluateVariableOffset=Em,s.evented=Ea,s.extend=x,s.featureFilter=Zs,s.filterObject=D,s.fromRotation=pc,s.getAnchorAlignment=lg,s.getAnchorJustification=cg,s.getArrayBuffer=Bt,s.getImage=It,s.getJSON=Ht,s.getRTLTextPluginStatus=Oa,s.getReferrer=mt,s.getVideo=Qt,s.identity=Uh,s.invert=gc,s.isChar=Yt,s.isMapboxURL=Ie,s.keysDifference=d,s.makeRequest=Dt,s.mapObject=I,s.mercatorXfromLng=Fm,s.mercatorYfromLat=Nm,s.mercatorZfromAltitude=Bm,s.mul=Y0,s.multiply=yc,s.mvt=Yh,s.nextPowerOfTwo=A,s.normalize=Wv,s.number=_i,s.offscreenCanvasSupported=Kt,s.ortho=W0,s.parseGlyphPBF=W4,s.pbf=up,s.performSymbolLayout=lT,s.perspective=Gv,s.pick=w,s.plugin=qn,s.polygonIntersectsPolygon=Wa,s.postMapLoadEvent=We,s.postTurnstileEvent=He,s.potpack=lm,s.refProperties=FT,s.register=Be,s.registerForPluginStateChange=ii,s.renderColorRamp=U1,s.rotate=vh,s.rotateX=xs,s.rotateZ=Vh,s.scale=ms,s.scale$1=Yw,s.scale$2=Z0,s.setCacheLimits=vt,s.setRTLTextPlugin=Fi,s.sphericalToCartesian=W,s.sqrLen=Kw,s.styleSpec=Ar,s.sub=Gw,s.symbolSize=q4,s.transformMat3=Hw,s.transformMat4=np,s.translate=Yi,s.triggerPluginCompletionEvent=ca,s.uniqueId=y,s.validateCustomStyleLayer=MT,s.validateLight=Zn,s.validateStyle=Dn,s.values=a,s.vectorTile=Yh,s.version=S,s.warnOnce=F,s.webpSupported=fe,s.window=i,s.wrap=T}),P(["./shared"],function(s){function L(mt){var lt=typeof mt;if(lt==="number"||lt==="boolean"||lt==="string"||mt===void 0||mt===null)return JSON.stringify(mt);if(Array.isArray(mt)){for(var bt="[",Ct=0,Dt=mt;Ct<Dt.length;Ct+=1){var Ht=Dt[Ct];bt+=L(Ht)+","}return bt+"]"}for(var Bt=Object.keys(mt).sort(),Ut="{",Jt=0;Jt<Bt.length;Jt++)Ut+=JSON.stringify(Bt[Jt])+":"+L(mt[Bt[Jt]])+",";return Ut+"}"}function S(mt){for(var lt="",bt=0,Ct=s.refProperties;bt<Ct.length;bt+=1){var Dt=Ct[bt];lt+="/"+L(mt[Dt])}return lt}function v(mt,lt){for(var bt={},Ct=0;Ct<mt.length;Ct++){var Dt=lt&&lt[mt[Ct].id]||S(mt[Ct]);lt&&(lt[mt[Ct].id]=Dt);var Ht=bt[Dt];Ht||(Ht=bt[Dt]=[]),Ht.push(mt[Ct])}var Bt=[];for(var Ut in bt)Bt.push(bt[Ut]);return Bt}var p=function(lt){this.keyCache={},lt&&this.replace(lt)};p.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},p.prototype.update=function(lt,bt){for(var Ct=this,Dt=0,Ht=lt;Dt<Ht.length;Dt+=1){var Bt=Ht[Dt];this._layerConfigs[Bt.id]=Bt;var Ut=this._layers[Bt.id]=s.createStyleLayer(Bt);Ut._featureFilter=s.featureFilter(Ut.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Jt=0,cr=bt;Jt<cr.length;Jt+=1){var hr=cr[Jt];delete this.keyCache[hr],delete this._layerConfigs[hr],delete this._layers[hr]}this.familiesBySource={};for(var pr=v(s.values(this._layerConfigs),this.keyCache),Ye=0,Ue=pr;Ye<Ue.length;Ye+=1){var Ot=Ue[Ye],It=Ot.map(function(ir){return Ct._layers[ir.id]}),Qt=It[0];if(Qt.visibility!=="none"){var lr=Qt.source||"",fr=this.familiesBySource[lr];fr||(fr=this.familiesBySource[lr]={});var er=Qt.sourceLayer||"_geojsonTileLayer",Nt=fr[er];Nt||(Nt=fr[er]=[]),Nt.push(It)}}};var r=1,t=function(lt){var bt={},Ct=[];for(var Dt in lt){var Ht=lt[Dt],Bt=bt[Dt]={};for(var Ut in Ht){var Jt=Ht[+Ut];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var cr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Ct.push(cr),Bt[Ut]={rect:cr,metrics:Jt.metrics}}}}var hr=s.potpack(Ct),pr=hr.w,Ye=hr.h,Ue=new s.AlphaImage({width:pr||1,height:Ye||1});for(var Ot in lt){var It=lt[Ot];for(var Qt in It){var lr=It[+Qt];if(!(!lr||lr.bitmap.width===0||lr.bitmap.height===0)){var fr=bt[Ot][Qt].rect;s.AlphaImage.copy(lr.bitmap,Ue,{x:0,y:0},{x:fr.x+r,y:fr.y+r},lr.bitmap)}}}this.image=Ue,this.positions=bt};s.register("GlyphAtlas",t);var i=function(lt){this.tileID=new s.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};i.prototype.parse=function(lt,bt,Ct,Dt,Ht){var Bt=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new s.CollisionBoxArray;var Ut=new s.DictionaryCoder(Object.keys(lt.layers).sort()),Jt=new s.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var cr={},hr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ct},pr=bt.familiesBySource[this.source];for(var Ye in pr){var Ue=lt.layers[Ye];if(Ue){Ue.version===1&&s.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=Ut.encode(Ye),It=[],Qt=0;Qt<Ue.length;Qt++){var lr=Ue.feature(Qt),fr=Jt.getId(lr,Ye);It.push({feature:lr,id:fr,index:Qt,sourceLayerIndex:Ot})}for(var er=0,Nt=pr[Ye];er<Nt.length;er+=1){var ir=Nt[er],vr=ir[0];if(!(vr.minzoom&&this.zoom<Math.floor(vr.minzoom))&&!(vr.maxzoom&&this.zoom>=vr.maxzoom)&&vr.visibility!=="none"){n(ir,this.zoom,Ct);var xr=cr[vr.id]=vr.createBucket({index:Jt.bucketLayerIDs.length,layers:ir,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source});xr.populate(It,hr,this.tileID.canonical),Jt.bucketLayerIDs.push(ir.map(function(Tr){return Tr.id}))}}}}var dr,Hr,Pr,Rr,an=s.mapObject(hr.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys(an).length?Dt.send("getGlyphs",{uid:this.uid,stacks:an},function(Tr,zr){dr||(dr=Tr,Hr=zr,Tn.call(Bt))}):Hr={};var tn=Object.keys(hr.iconDependencies);tn.length?Dt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,zr){dr||(dr=Tr,Pr=zr,Tn.call(Bt))}):Pr={};var Sn=Object.keys(hr.patternDependencies);Sn.length?Dt.send("getImages",{icons:Sn,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,zr){dr||(dr=Tr,Rr=zr,Tn.call(Bt))}):Rr={},Tn.call(this);function Tn(){if(dr)return Ht(dr);if(Hr&&Pr&&Rr){var Tr=new t(Hr),zr=new s.ImageAtlas(Pr,Rr);for(var Yr in cr){var Or=cr[Yr];Or instanceof s.SymbolBucket?(n(Or.layers,this.zoom,Ct),s.performSymbolLayout(Or,Hr,Tr.positions,Pr,zr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Or.hasPattern&&(Or instanceof s.LineBucket||Or instanceof s.FillBucket||Or instanceof s.FillExtrusionBucket)&&(n(Or.layers,this.zoom,Ct),Or.addFeatures(hr,this.tileID.canonical,zr.patternPositions))}this.status="done",Ht(null,{buckets:s.values(cr).filter(function(ln){return!ln.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:zr,glyphMap:this.returnDependencies?Hr:null,iconMap:this.returnDependencies?Pr:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}};function n(mt,lt,bt){for(var Ct=new s.EvaluationParameters(lt),Dt=0,Ht=mt;Dt<Ht.length;Dt+=1){var Bt=Ht[Dt];Bt.recalculate(Ct,bt)}}function f(mt,lt){var bt=s.getArrayBuffer(mt.request,function(Ct,Dt,Ht,Bt){Ct?lt(Ct):Dt&&lt(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(Dt)),rawData:Dt,cacheControl:Ht,expires:Bt})});return function(){bt.cancel(),lt()}}var u=function(lt,bt,Ct,Dt){this.actor=lt,this.layerIndex=bt,this.availableImages=Ct,this.loadVectorData=Dt||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(lt,bt){var Ct=this,Dt=lt.uid;this.loading||(this.loading={});var Ht=lt&&lt.request&&lt.request.collectResourceTiming?new s.RequestPerformance(lt.request):!1,Bt=this.loading[Dt]=new i(lt);Bt.abort=this.loadVectorData(lt,function(Ut,Jt){if(delete Ct.loading[Dt],Ut||!Jt)return Bt.status="done",Ct.loaded[Dt]=Bt,bt(Ut);var cr=Jt.rawData,hr={};Jt.expires&&(hr.expires=Jt.expires),Jt.cacheControl&&(hr.cacheControl=Jt.cacheControl);var pr={};if(Ht){var Ye=Ht.finish();Ye&&(pr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Bt.vectorTile=Jt.vectorTile,Bt.parse(Jt.vectorTile,Ct.layerIndex,Ct.availableImages,Ct.actor,function(Ue,Ot){if(Ue||!Ot)return bt(Ue);bt(null,s.extend({rawTileData:cr.slice(0)},Ot,hr,pr))}),Ct.loaded=Ct.loaded||{},Ct.loaded[Dt]=Bt})},u.prototype.reloadTile=function(lt,bt){var Ct=this,Dt=this.loaded,Ht=lt.uid,Bt=this;if(Dt&&Dt[Ht]){var Ut=Dt[Ht];Ut.showCollisionBoxes=lt.showCollisionBoxes;var Jt=function(cr,hr){var pr=Ut.reloadCallback;pr&&(delete Ut.reloadCallback,Ut.parse(Ut.vectorTile,Bt.layerIndex,Ct.availableImages,Bt.actor,pr)),bt(cr,hr)};Ut.status==="parsing"?Ut.reloadCallback=Jt:Ut.status==="done"&&(Ut.vectorTile?Ut.parse(Ut.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},u.prototype.abortTile=function(lt,bt){var Ct=this.loading,Dt=lt.uid;Ct&&Ct[Dt]&&Ct[Dt].abort&&(Ct[Dt].abort(),delete Ct[Dt]),bt()},u.prototype.removeTile=function(lt,bt){var Ct=this.loaded,Dt=lt.uid;Ct&&Ct[Dt]&&delete Ct[Dt],bt()};var l=s.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(lt,bt){var Ct=lt.uid,Dt=lt.encoding,Ht=lt.rawImageData,Bt=l&&Ht instanceof l?this.getImageData(Ht):Ht,Ut=new s.DEMData(Ct,Bt,Dt);this.loaded=this.loaded||{},this.loaded[Ct]=Ut,bt(null,Ut)},g.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:bt.width,height:bt.height},bt.data)},g.prototype.removeTile=function(lt){var bt=this.loaded,Ct=lt.uid;bt&&bt[Ct]&&delete bt[Ct]};var h=T;function T(mt,lt){var bt=mt&&mt.type,Ct;if(bt==="FeatureCollection")for(Ct=0;Ct<mt.features.length;Ct++)T(mt.features[Ct],lt);else if(bt==="GeometryCollection")for(Ct=0;Ct<mt.geometries.length;Ct++)T(mt.geometries[Ct],lt);else if(bt==="Feature")T(mt.geometry,lt);else if(bt==="Polygon")c(mt.coordinates,lt);else if(bt==="MultiPolygon")for(Ct=0;Ct<mt.coordinates.length;Ct++)c(mt.coordinates[Ct],lt);return mt}function c(mt,lt){if(mt.length!==0){a(mt[0],lt);for(var bt=1;bt<mt.length;bt++)a(mt[bt],!lt)}}function a(mt,lt){for(var bt=0,Ct=0,Dt=mt.length,Ht=Dt-1;Ct<Dt;Ht=Ct++)bt+=(mt[Ct][0]-mt[Ht][0])*(mt[Ht][1]+mt[Ct][1]);bt>=0!=!!lt&&mt.reverse()}var d=s.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(lt){this._feature=lt,this.extent=s.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],bt=0,Ct=this._feature.geometry;bt<Ct.length;bt+=1){var Dt=Ct[bt];lt.push([new s.Point$1(Dt[0],Dt[1])])}return lt}else{for(var Ht=[],Bt=0,Ut=this._feature.geometry;Bt<Ut.length;Bt+=1){for(var Jt=Ut[Bt],cr=[],hr=0,pr=Jt;hr<pr.length;hr+=1){var Ye=pr[hr];cr.push(new s.Point$1(Ye[0],Ye[1]))}Ht.push(cr)}return Ht}},x.prototype.toGeoJSON=function(lt,bt,Ct){return d.call(this,lt,bt,Ct)};var w=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=lt.length,this._features=lt};w.prototype.feature=function(lt){return new x(this._features[lt])};var C=s.vectorTile.VectorTileFeature,y=M;function M(mt,lt){this.options=lt||{},this.features=mt,this.length=mt.length}M.prototype.feature=function(mt){return new A(this.features[mt],this.options.extent)};function A(mt,lt){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=lt||4096}A.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<mt.length;lt++){for(var bt=mt[lt],Ct=[],Dt=0;Dt<bt.length;Dt++)Ct.push(new s.Point$1(bt[Dt][0],bt[Dt][1]));this.geometry.push(Ct)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,lt=1/0,bt=-1/0,Ct=1/0,Dt=-1/0,Ht=0;Ht<mt.length;Ht++)for(var Bt=mt[Ht],Ut=0;Ut<Bt.length;Ut++){var Jt=Bt[Ut];lt=Math.min(lt,Jt.x),bt=Math.max(bt,Jt.x),Ct=Math.min(Ct,Jt.y),Dt=Math.max(Dt,Jt.y)}return[lt,Ct,bt,Dt]},A.prototype.toGeoJSON=C.prototype.toGeoJSON;var o=D,E=D,b=N,I=y;function D(mt){var lt=new s.pbf;return k(mt,lt),lt.finish()}function N(mt,lt){lt=lt||{};var bt={};for(var Ct in mt)bt[Ct]=new y(mt[Ct].features,lt),bt[Ct].name=Ct,bt[Ct].version=lt.version,bt[Ct].extent=lt.extent;return D({layers:bt})}function k(mt,lt){for(var bt in mt.layers)lt.writeMessage(3,O,mt.layers[bt])}function O(mt,lt){lt.writeVarintField(15,mt.version||1),lt.writeStringField(1,mt.name||""),lt.writeVarintField(5,mt.extent||4096);var bt,Ct={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<mt.length;bt++)Ct.feature=mt.feature(bt),lt.writeMessage(2,F,Ct);var Dt=Ct.keys;for(bt=0;bt<Dt.length;bt++)lt.writeStringField(3,Dt[bt]);var Ht=Ct.values;for(bt=0;bt<Ht.length;bt++)lt.writeMessage(4,re,Ht[bt])}function F(mt,lt){var bt=mt.feature;bt.id!==void 0&&lt.writeVarintField(1,bt.id),lt.writeMessage(2,z,mt),lt.writeVarintField(3,bt.type),lt.writeMessage(4,J,bt)}function z(mt,lt){var bt=mt.feature,Ct=mt.keys,Dt=mt.values,Ht=mt.keycache,Bt=mt.valuecache;for(var Ut in bt.properties){var Jt=Ht[Ut];typeof Jt>"u"&&(Ct.push(Ut),Jt=Ct.length-1,Ht[Ut]=Jt),lt.writeVarint(Jt);var cr=bt.properties[Ut],hr=typeof cr;hr!=="string"&&hr!=="boolean"&&hr!=="number"&&(cr=JSON.stringify(cr));var pr=hr+":"+cr,Ye=Bt[pr];typeof Ye>"u"&&(Dt.push(cr),Ye=Dt.length-1,Bt[pr]=Ye),lt.writeVarint(Ye)}}function B(mt,lt){return(lt<<3)+(mt&7)}function W(mt){return mt<<1^mt>>31}function J(mt,lt){for(var bt=mt.loadGeometry(),Ct=mt.type,Dt=0,Ht=0,Bt=bt.length,Ut=0;Ut<Bt;Ut++){var Jt=bt[Ut],cr=1;Ct===1&&(cr=Jt.length),lt.writeVarint(B(1,cr));for(var hr=Ct===3?Jt.length-1:Jt.length,pr=0;pr<hr;pr++){pr===1&&Ct!==1&&lt.writeVarint(B(2,hr-1));var Ye=Jt[pr].x-Dt,Ue=Jt[pr].y-Ht;lt.writeVarint(W(Ye)),lt.writeVarint(W(Ue)),Dt+=Ye,Ht+=Ue}Ct===3&&lt.writeVarint(B(7,1))}}function re(mt,lt){var bt=typeof mt;bt==="string"?lt.writeStringField(1,mt):bt==="boolean"?lt.writeBooleanField(7,mt):bt==="number"&&(mt%1!==0?lt.writeDoubleField(3,mt):mt<0?lt.writeSVarintField(6,mt):lt.writeVarintField(5,mt))}o.fromVectorTileJs=E,o.fromGeojsonVt=b,o.GeoJSONWrapper=I;function ne(mt,lt,bt,Ct,Dt,Ht){if(!(Dt-Ct<=bt)){var Bt=Ct+Dt>>1;le(mt,lt,Bt,Ct,Dt,Ht%2),ne(mt,lt,bt,Ct,Bt-1,Ht+1),ne(mt,lt,bt,Bt+1,Dt,Ht+1)}}function le(mt,lt,bt,Ct,Dt,Ht){for(;Dt>Ct;){if(Dt-Ct>600){var Bt=Dt-Ct+1,Ut=bt-Ct+1,Jt=Math.log(Bt),cr=.5*Math.exp(2*Jt/3),hr=.5*Math.sqrt(Jt*cr*(Bt-cr)/Bt)*(Ut-Bt/2<0?-1:1),pr=Math.max(Ct,Math.floor(bt-Ut*cr/Bt+hr)),Ye=Math.min(Dt,Math.floor(bt+(Bt-Ut)*cr/Bt+hr));le(mt,lt,bt,pr,Ye,Ht)}var Ue=lt[2*bt+Ht],Ot=Ct,It=Dt;for($(mt,lt,Ct,bt),lt[2*Dt+Ht]>Ue&&$(mt,lt,Ct,Dt);Ot<It;){for($(mt,lt,Ot,It),Ot++,It--;lt[2*Ot+Ht]<Ue;)Ot++;for(;lt[2*It+Ht]>Ue;)It--}lt[2*Ct+Ht]===Ue?$(mt,lt,Ct,It):(It++,$(mt,lt,It,Dt)),It<=bt&&(Ct=It+1),bt<=It&&(Dt=It-1)}}function $(mt,lt,bt,Ct){K(mt,bt,Ct),K(lt,2*bt,2*Ct),K(lt,2*bt+1,2*Ct+1)}function K(mt,lt,bt){var Ct=mt[lt];mt[lt]=mt[bt],mt[bt]=Ct}function ie(mt,lt,bt,Ct,Dt,Ht,Bt){for(var Ut=[0,mt.length-1,0],Jt=[],cr,hr;Ut.length;){var pr=Ut.pop(),Ye=Ut.pop(),Ue=Ut.pop();if(Ye-Ue<=Bt){for(var Ot=Ue;Ot<=Ye;Ot++)cr=lt[2*Ot],hr=lt[2*Ot+1],cr>=bt&&cr<=Dt&&hr>=Ct&&hr<=Ht&&Jt.push(mt[Ot]);continue}var It=Math.floor((Ue+Ye)/2);cr=lt[2*It],hr=lt[2*It+1],cr>=bt&&cr<=Dt&&hr>=Ct&&hr<=Ht&&Jt.push(mt[It]);var Qt=(pr+1)%2;(pr===0?bt<=cr:Ct<=hr)&&(Ut.push(Ue),Ut.push(It-1),Ut.push(Qt)),(pr===0?Dt>=cr:Ht>=hr)&&(Ut.push(It+1),Ut.push(Ye),Ut.push(Qt))}return Jt}function Y(mt,lt,bt,Ct,Dt,Ht){for(var Bt=[0,mt.length-1,0],Ut=[],Jt=Dt*Dt;Bt.length;){var cr=Bt.pop(),hr=Bt.pop(),pr=Bt.pop();if(hr-pr<=Ht){for(var Ye=pr;Ye<=hr;Ye++)Q(lt[2*Ye],lt[2*Ye+1],bt,Ct)<=Jt&&Ut.push(mt[Ye]);continue}var Ue=Math.floor((pr+hr)/2),Ot=lt[2*Ue],It=lt[2*Ue+1];Q(Ot,It,bt,Ct)<=Jt&&Ut.push(mt[Ue]);var Qt=(cr+1)%2;(cr===0?bt-Dt<=Ot:Ct-Dt<=It)&&(Bt.push(pr),Bt.push(Ue-1),Bt.push(Qt)),(cr===0?bt+Dt>=Ot:Ct+Dt>=It)&&(Bt.push(Ue+1),Bt.push(hr),Bt.push(Qt))}return Ut}function Q(mt,lt,bt,Ct){var Dt=mt-bt,Ht=lt-Ct;return Dt*Dt+Ht*Ht}var oe=function(mt){return mt[0]},X=function(mt){return mt[1]},j=function(lt,bt,Ct,Dt,Ht){bt===void 0&&(bt=oe),Ct===void 0&&(Ct=X),Dt===void 0&&(Dt=64),Ht===void 0&&(Ht=Float64Array),this.nodeSize=Dt,this.points=lt;for(var Bt=lt.length<65536?Uint16Array:Uint32Array,Ut=this.ids=new Bt(lt.length),Jt=this.coords=new Ht(lt.length*2),cr=0;cr<lt.length;cr++)Ut[cr]=cr,Jt[2*cr]=bt(lt[cr]),Jt[2*cr+1]=Ct(lt[cr]);ne(Ut,Jt,Dt,0,Ut.length-1,0)};j.prototype.range=function(lt,bt,Ct,Dt){return ie(this.ids,this.coords,lt,bt,Ct,Dt,this.nodeSize)},j.prototype.within=function(lt,bt,Ct){return Y(this.ids,this.coords,lt,bt,Ct,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(mt){return mt}},te=function(lt){this.options=Re(Object.create(se),lt),this.trees=new Array(this.options.maxZoom+1)};te.prototype.load=function(lt){var bt=this.options,Ct=bt.log,Dt=bt.minZoom,Ht=bt.maxZoom,Bt=bt.nodeSize;Ct&&console.time("total time");var Ut="prepare "+lt.length+" points";Ct&&console.time(Ut),this.points=lt;for(var Jt=[],cr=0;cr<lt.length;cr++)lt[cr].geometry&&Jt.push(ge(lt[cr],cr));this.trees[Ht+1]=new j(Jt,Se,Ie,Bt,Float32Array),Ct&&console.timeEnd(Ut);for(var hr=Ht;hr>=Dt;hr--){var pr=+Date.now();Jt=this._cluster(Jt,hr),this.trees[hr]=new j(Jt,Se,Ie,Bt,Float32Array),Ct&&console.log("z%d: %d clusters in %dms",hr,Jt.length,+Date.now()-pr)}return Ct&&console.timeEnd("total time"),this},te.prototype.getClusters=function(lt,bt){var Ct=((lt[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,lt[1])),Ht=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Ct=-180,Ht=180;else if(Ct>Ht){var Ut=this.getClusters([Ct,Dt,180,Bt],bt),Jt=this.getClusters([-180,Dt,Ht,Bt],bt);return Ut.concat(Jt)}for(var cr=this.trees[this._limitZoom(bt)],hr=cr.range(_e(Ct),De(Bt),_e(Ht),De(Dt)),pr=[],Ye=0,Ue=hr;Ye<Ue.length;Ye+=1){var Ot=Ue[Ye],It=cr.points[Ot];pr.push(It.numPoints?be(It):this.points[It.index])}return pr},te.prototype.getChildren=function(lt){var bt=this._getOriginId(lt),Ct=this._getOriginZoom(lt),Dt="No cluster with the specified id.",Ht=this.trees[Ct];if(!Ht)throw new Error(Dt);var Bt=Ht.points[bt];if(!Bt)throw new Error(Dt);for(var Ut=this.options.radius/(this.options.extent*Math.pow(2,Ct-1)),Jt=Ht.within(Bt.x,Bt.y,Ut),cr=[],hr=0,pr=Jt;hr<pr.length;hr+=1){var Ye=pr[hr],Ue=Ht.points[Ye];Ue.parentId===lt&&cr.push(Ue.numPoints?be(Ue):this.points[Ue.index])}if(cr.length===0)throw new Error(Dt);return cr},te.prototype.getLeaves=function(lt,bt,Ct){bt=bt||10,Ct=Ct||0;var Dt=[];return this._appendLeaves(Dt,lt,bt,Ct,0),Dt},te.prototype.getTile=function(lt,bt,Ct){var Dt=this.trees[this._limitZoom(lt)],Ht=Math.pow(2,lt),Bt=this.options,Ut=Bt.extent,Jt=Bt.radius,cr=Jt/Ut,hr=(Ct-cr)/Ht,pr=(Ct+1+cr)/Ht,Ye={features:[]};return this._addTileFeatures(Dt.range((bt-cr)/Ht,hr,(bt+1+cr)/Ht,pr),Dt.points,bt,Ct,Ht,Ye),bt===0&&this._addTileFeatures(Dt.range(1-cr/Ht,hr,1,pr),Dt.points,Ht,Ct,Ht,Ye),bt===Ht-1&&this._addTileFeatures(Dt.range(0,hr,cr/Ht,pr),Dt.points,-1,Ct,Ht,Ye),Ye.features.length?Ye:null},te.prototype.getClusterExpansionZoom=function(lt){for(var bt=this._getOriginZoom(lt)-1;bt<=this.options.maxZoom;){var Ct=this.getChildren(lt);if(bt++,Ct.length!==1)break;lt=Ct[0].properties.cluster_id}return bt},te.prototype._appendLeaves=function(lt,bt,Ct,Dt,Ht){for(var Bt=this.getChildren(bt),Ut=0,Jt=Bt;Ut<Jt.length;Ut+=1){var cr=Jt[Ut],hr=cr.properties;if(hr&&hr.cluster?Ht+hr.point_count<=Dt?Ht+=hr.point_count:Ht=this._appendLeaves(lt,hr.cluster_id,Ct,Dt,Ht):Ht<Dt?Ht++:lt.push(cr),lt.length===Ct)break}return Ht},te.prototype._addTileFeatures=function(lt,bt,Ct,Dt,Ht,Bt){for(var Ut=0,Jt=lt;Ut<Jt.length;Ut+=1){var cr=Jt[Ut],hr=bt[cr],pr=hr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(hr.x*Ht-Ct)),Math.round(this.options.extent*(hr.y*Ht-Dt))]],tags:pr?xe(hr):this.points[hr.index].properties},Ue=void 0;pr?Ue=hr.id:this.options.generateId?Ue=hr.index:this.points[hr.index].id&&(Ue=this.points[hr.index].id),Ue!==void 0&&(Ye.id=Ue),Bt.features.push(Ye)}},te.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},te.prototype._cluster=function(lt,bt){for(var Ct=[],Dt=this.options,Ht=Dt.radius,Bt=Dt.extent,Ut=Dt.reduce,Jt=Dt.minPoints,cr=Ht/(Bt*Math.pow(2,bt)),hr=0;hr<lt.length;hr++){var pr=lt[hr];if(!(pr.zoom<=bt)){pr.zoom=bt;for(var Ye=this.trees[bt+1],Ue=Ye.within(pr.x,pr.y,cr),Ot=pr.numPoints||1,It=Ot,Qt=0,lr=Ue;Qt<lr.length;Qt+=1){var fr=lr[Qt],er=Ye.points[fr];er.zoom>bt&&(It+=er.numPoints||1)}if(It>=Jt){for(var Nt=pr.x*Ot,ir=pr.y*Ot,vr=Ut&&Ot>1?this._map(pr,!0):null,xr=(hr<<5)+(bt+1)+this.points.length,dr=0,Hr=Ue;dr<Hr.length;dr+=1){var Pr=Hr[dr],Rr=Ye.points[Pr];if(!(Rr.zoom<=bt)){Rr.zoom=bt;var an=Rr.numPoints||1;Nt+=Rr.x*an,ir+=Rr.y*an,Rr.parentId=xr,Ut&&(vr||(vr=this._map(pr,!0)),Ut(vr,this._map(Rr)))}}pr.parentId=xr,Ct.push(fe(Nt/It,ir/It,xr,It,vr))}else if(Ct.push(pr),It>1)for(var tn=0,Sn=Ue;tn<Sn.length;tn+=1){var Tn=Sn[tn],Tr=Ye.points[Tn];Tr.zoom<=bt||(Tr.zoom=bt,Ct.push(Tr))}}}return Ct},te.prototype._getOriginId=function(lt){return lt-this.points.length>>5},te.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},te.prototype._map=function(lt,bt){if(lt.numPoints)return bt?Re({},lt.properties):lt.properties;var Ct=this.points[lt.index].properties,Dt=this.options.map(Ct);return bt&&Dt===Ct?Re({},Dt):Dt};function fe(mt,lt,bt,Ct,Dt){return{x:mt,y:lt,zoom:1/0,id:bt,parentId:-1,numPoints:Ct,properties:Dt}}function ge(mt,lt){var bt=mt.geometry.coordinates,Ct=bt[0],Dt=bt[1];return{x:_e(Ct),y:De(Dt),zoom:1/0,index:lt,parentId:-1}}function be(mt){return{type:"Feature",id:mt.id,properties:xe(mt),geometry:{type:"Point",coordinates:[Fe(mt.x),Te(mt.y)]}}}function xe(mt){var lt=mt.numPoints,bt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Re(Re({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:lt,point_count_abbreviated:bt})}function _e(mt){return mt/360+.5}function De(mt){var lt=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function Fe(mt){return(mt-.5)*360}function Te(mt){var lt=(180-mt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Re(mt,lt){for(var bt in lt)mt[bt]=lt[bt];return mt}function Se(mt){return mt.x}function Ie(mt){return mt.y}function Me(mt,lt,bt,Ct){for(var Dt=Ct,Ht=bt-lt>>1,Bt=bt-lt,Ut,Jt=mt[lt],cr=mt[lt+1],hr=mt[bt],pr=mt[bt+1],Ye=lt+3;Ye<bt;Ye+=3){var Ue=Ve(mt[Ye],mt[Ye+1],Jt,cr,hr,pr);if(Ue>Dt)Ut=Ye,Dt=Ue;else if(Ue===Dt){var Ot=Math.abs(Ye-Ht);Ot<Bt&&(Ut=Ye,Bt=Ot)}}Dt>Ct&&(Ut-lt>3&&Me(mt,lt,Ut,Ct),mt[Ut+2]=Dt,bt-Ut>3&&Me(mt,Ut,bt,Ct))}function Ve(mt,lt,bt,Ct,Dt,Ht){var Bt=Dt-bt,Ut=Ht-Ct;if(Bt!==0||Ut!==0){var Jt=((mt-bt)*Bt+(lt-Ct)*Ut)/(Bt*Bt+Ut*Ut);Jt>1?(bt=Dt,Ct=Ht):Jt>0&&(bt+=Bt*Jt,Ct+=Ut*Jt)}return Bt=mt-bt,Ut=lt-Ct,Bt*Bt+Ut*Ut}function et(mt,lt,bt,Ct){var Dt={id:typeof mt>"u"?null:mt,type:lt,geometry:bt,tags:Ct,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return it(Dt),Dt}function it(mt){var lt=mt.geometry,bt=mt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")Je(mt,lt);else if(bt==="Polygon"||bt==="MultiLineString")for(var Ct=0;Ct<lt.length;Ct++)Je(mt,lt[Ct]);else if(bt==="MultiPolygon")for(Ct=0;Ct<lt.length;Ct++)for(var Dt=0;Dt<lt[Ct].length;Dt++)Je(mt,lt[Ct][Dt])}function Je(mt,lt){for(var bt=0;bt<lt.length;bt+=3)mt.minX=Math.min(mt.minX,lt[bt]),mt.minY=Math.min(mt.minY,lt[bt+1]),mt.maxX=Math.max(mt.maxX,lt[bt]),mt.maxY=Math.max(mt.maxY,lt[bt+1])}function Qe(mt,lt){var bt=[];if(mt.type==="FeatureCollection")for(var Ct=0;Ct<mt.features.length;Ct++)ct(bt,mt.features[Ct],lt,Ct);else mt.type==="Feature"?ct(bt,mt,lt):ct(bt,{geometry:mt},lt);return bt}function ct(mt,lt,bt,Ct){if(lt.geometry){var Dt=lt.geometry.coordinates,Ht=lt.geometry.type,Bt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Ut=[],Jt=lt.id;if(bt.promoteId?Jt=lt.properties[bt.promoteId]:bt.generateId&&(Jt=Ct||0),Ht==="Point")ht(Dt,Ut);else if(Ht==="MultiPoint")for(var cr=0;cr<Dt.length;cr++)ht(Dt[cr],Ut);else if(Ht==="LineString")gt(Dt,Ut,Bt,!1);else if(Ht==="MultiLineString")if(bt.lineMetrics){for(cr=0;cr<Dt.length;cr++)Ut=[],gt(Dt[cr],Ut,Bt,!1),mt.push(et(Jt,"LineString",Ut,lt.properties));return}else Tt(Dt,Ut,Bt,!1);else if(Ht==="Polygon")Tt(Dt,Ut,Bt,!0);else if(Ht==="MultiPolygon")for(cr=0;cr<Dt.length;cr++){var hr=[];Tt(Dt[cr],hr,Bt,!0),Ut.push(hr)}else if(Ht==="GeometryCollection"){for(cr=0;cr<lt.geometry.geometries.length;cr++)ct(mt,{id:Jt,geometry:lt.geometry.geometries[cr],properties:lt.properties},bt,Ct);return}else throw new Error("Input data is not a valid GeoJSON object.");mt.push(et(Jt,Ht,Ut,lt.properties))}}function ht(mt,lt){lt.push(Et(mt[0])),lt.push(rt(mt[1])),lt.push(0)}function gt(mt,lt,bt,Ct){for(var Dt,Ht,Bt=0,Ut=0;Ut<mt.length;Ut++){var Jt=Et(mt[Ut][0]),cr=rt(mt[Ut][1]);lt.push(Jt),lt.push(cr),lt.push(0),Ut>0&&(Ct?Bt+=(Dt*cr-Jt*Ht)/2:Bt+=Math.sqrt(Math.pow(Jt-Dt,2)+Math.pow(cr-Ht,2))),Dt=Jt,Ht=cr}var hr=lt.length-3;lt[2]=1,Me(lt,0,hr,bt),lt[hr+2]=1,lt.size=Math.abs(Bt),lt.start=0,lt.end=lt.size}function Tt(mt,lt,bt,Ct){for(var Dt=0;Dt<mt.length;Dt++){var Ht=[];gt(mt[Dt],Ht,bt,Ct),lt.push(Ht)}}function Et(mt){return mt/360+.5}function rt(mt){var lt=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function ze(mt,lt,bt,Ct,Dt,Ht,Bt,Ut){if(bt/=lt,Ct/=lt,Ht>=bt&&Bt<Ct)return mt;if(Bt<bt||Ht>=Ct)return null;for(var Jt=[],cr=0;cr<mt.length;cr++){var hr=mt[cr],pr=hr.geometry,Ye=hr.type,Ue=Dt===0?hr.minX:hr.minY,Ot=Dt===0?hr.maxX:hr.maxY;if(Ue>=bt&&Ot<Ct){Jt.push(hr);continue}else if(Ot<bt||Ue>=Ct)continue;var It=[];if(Ye==="Point"||Ye==="MultiPoint")He(pr,It,bt,Ct,Dt);else if(Ye==="LineString")Ge(pr,It,bt,Ct,Dt,!1,Ut.lineMetrics);else if(Ye==="MultiLineString")Le(pr,It,bt,Ct,Dt,!1);else if(Ye==="Polygon")Le(pr,It,bt,Ct,Dt,!0);else if(Ye==="MultiPolygon")for(var Qt=0;Qt<pr.length;Qt++){var lr=[];Le(pr[Qt],lr,bt,Ct,Dt,!0),lr.length&&It.push(lr)}if(It.length){if(Ut.lineMetrics&&Ye==="LineString"){for(Qt=0;Qt<It.length;Qt++)Jt.push(et(hr.id,Ye,It[Qt],hr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(It.length===1?(Ye="LineString",It=It[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=It.length===3?"Point":"MultiPoint"),Jt.push(et(hr.id,Ye,It,hr.tags))}}return Jt.length?Jt:null}function He(mt,lt,bt,Ct,Dt){for(var Ht=0;Ht<mt.length;Ht+=3){var Bt=mt[Ht+Dt];Bt>=bt&&Bt<=Ct&&(lt.push(mt[Ht]),lt.push(mt[Ht+1]),lt.push(mt[Ht+2]))}}function Ge(mt,lt,bt,Ct,Dt,Ht,Bt){for(var Ut=We(mt),Jt=Dt===0?je:Ce,cr=mt.start,hr,pr,Ye=0;Ye<mt.length-3;Ye+=3){var Ue=mt[Ye],Ot=mt[Ye+1],It=mt[Ye+2],Qt=mt[Ye+3],lr=mt[Ye+4],fr=Dt===0?Ue:Ot,er=Dt===0?Qt:lr,Nt=!1;Bt&&(hr=Math.sqrt(Math.pow(Ue-Qt,2)+Math.pow(Ot-lr,2))),fr<bt?er>bt&&(pr=Jt(Ut,Ue,Ot,Qt,lr,bt),Bt&&(Ut.start=cr+hr*pr)):fr>Ct?er<Ct&&(pr=Jt(Ut,Ue,Ot,Qt,lr,Ct),Bt&&(Ut.start=cr+hr*pr)):Pe(Ut,Ue,Ot,It),er<bt&&fr>=bt&&(pr=Jt(Ut,Ue,Ot,Qt,lr,bt),Nt=!0),er>Ct&&fr<=Ct&&(pr=Jt(Ut,Ue,Ot,Qt,lr,Ct),Nt=!0),!Ht&&Nt&&(Bt&&(Ut.end=cr+hr*pr),lt.push(Ut),Ut=We(mt)),Bt&&(cr+=hr)}var ir=mt.length-3;Ue=mt[ir],Ot=mt[ir+1],It=mt[ir+2],fr=Dt===0?Ue:Ot,fr>=bt&&fr<=Ct&&Pe(Ut,Ue,Ot,It),ir=Ut.length-3,Ht&&ir>=3&&(Ut[ir]!==Ut[0]||Ut[ir+1]!==Ut[1])&&Pe(Ut,Ut[0],Ut[1],Ut[2]),Ut.length&&lt.push(Ut)}function We(mt){var lt=[];return lt.size=mt.size,lt.start=mt.start,lt.end=mt.end,lt}function Le(mt,lt,bt,Ct,Dt,Ht){for(var Bt=0;Bt<mt.length;Bt++)Ge(mt[Bt],lt,bt,Ct,Dt,Ht,!1)}function Pe(mt,lt,bt,Ct){mt.push(lt),mt.push(bt),mt.push(Ct)}function je(mt,lt,bt,Ct,Dt,Ht){var Bt=(Ht-lt)/(Ct-lt);return mt.push(Ht),mt.push(bt+(Dt-bt)*Bt),mt.push(1),Bt}function Ce(mt,lt,bt,Ct,Dt,Ht){var Bt=(Ht-bt)/(Dt-bt);return mt.push(lt+(Ct-lt)*Bt),mt.push(Ht),mt.push(1),Bt}function he(mt,lt){var bt=lt.buffer/lt.extent,Ct=mt,Dt=ze(mt,1,-1-bt,bt,0,-1,2,lt),Ht=ze(mt,1,1-bt,2+bt,0,-1,2,lt);return(Dt||Ht)&&(Ct=ze(mt,1,-bt,1+bt,0,-1,2,lt)||[],Dt&&(Ct=me(Dt,1).concat(Ct)),Ht&&(Ct=Ct.concat(me(Ht,-1)))),Ct}function me(mt,lt){for(var bt=[],Ct=0;Ct<mt.length;Ct++){var Dt=mt[Ct],Ht=Dt.type,Bt;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Bt=Ne(Dt.geometry,lt);else if(Ht==="MultiLineString"||Ht==="Polygon"){Bt=[];for(var Ut=0;Ut<Dt.geometry.length;Ut++)Bt.push(Ne(Dt.geometry[Ut],lt))}else if(Ht==="MultiPolygon")for(Bt=[],Ut=0;Ut<Dt.geometry.length;Ut++){for(var Jt=[],cr=0;cr<Dt.geometry[Ut].length;cr++)Jt.push(Ne(Dt.geometry[Ut][cr],lt));Bt.push(Jt)}bt.push(et(Dt.id,Ht,Bt,Dt.tags))}return bt}function Ne(mt,lt){var bt=[];bt.size=mt.size,mt.start!==void 0&&(bt.start=mt.start,bt.end=mt.end);for(var Ct=0;Ct<mt.length;Ct+=3)bt.push(mt[Ct]+lt,mt[Ct+1],mt[Ct+2]);return bt}function $e(mt,lt){if(mt.transformed)return mt;var bt=1<<mt.z,Ct=mt.x,Dt=mt.y,Ht,Bt,Ut;for(Ht=0;Ht<mt.features.length;Ht++){var Jt=mt.features[Ht],cr=Jt.geometry,hr=Jt.type;if(Jt.geometry=[],hr===1)for(Bt=0;Bt<cr.length;Bt+=2)Jt.geometry.push(ot(cr[Bt],cr[Bt+1],lt,bt,Ct,Dt));else for(Bt=0;Bt<cr.length;Bt++){var pr=[];for(Ut=0;Ut<cr[Bt].length;Ut+=2)pr.push(ot(cr[Bt][Ut],cr[Bt][Ut+1],lt,bt,Ct,Dt));Jt.geometry.push(pr)}}return mt.transformed=!0,mt}function ot(mt,lt,bt,Ct,Dt,Ht){return[Math.round(bt*(mt*Ct-Dt)),Math.round(bt*(lt*Ct-Ht))]}function st(mt,lt,bt,Ct,Dt){for(var Ht=lt===Dt.maxZoom?0:Dt.tolerance/((1<<lt)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Ct,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ut=0;Ut<mt.length;Ut++){Bt.numFeatures++,Wt(Bt,mt[Ut],Ht,Dt);var Jt=mt[Ut].minX,cr=mt[Ut].minY,hr=mt[Ut].maxX,pr=mt[Ut].maxY;Jt<Bt.minX&&(Bt.minX=Jt),cr<Bt.minY&&(Bt.minY=cr),hr>Bt.maxX&&(Bt.maxX=hr),pr>Bt.maxY&&(Bt.maxY=pr)}return Bt}function Wt(mt,lt,bt,Ct){var Dt=lt.geometry,Ht=lt.type,Bt=[];if(Ht==="Point"||Ht==="MultiPoint")for(var Ut=0;Ut<Dt.length;Ut+=3)Bt.push(Dt[Ut]),Bt.push(Dt[Ut+1]),mt.numPoints++,mt.numSimplified++;else if(Ht==="LineString")Pt(Bt,Dt,mt,bt,!1,!1);else if(Ht==="MultiLineString"||Ht==="Polygon")for(Ut=0;Ut<Dt.length;Ut++)Pt(Bt,Dt[Ut],mt,bt,Ht==="Polygon",Ut===0);else if(Ht==="MultiPolygon")for(var Jt=0;Jt<Dt.length;Jt++){var cr=Dt[Jt];for(Ut=0;Ut<cr.length;Ut++)Pt(Bt,cr[Ut],mt,bt,!0,Ut===0)}if(Bt.length){var hr=lt.tags||null;if(Ht==="LineString"&&Ct.lineMetrics){hr={};for(var pr in lt.tags)hr[pr]=lt.tags[pr];hr.mapbox_clip_start=Dt.start/Dt.size,hr.mapbox_clip_end=Dt.end/Dt.size}var Ye={geometry:Bt,type:Ht==="Polygon"||Ht==="MultiPolygon"?3:Ht==="LineString"||Ht==="MultiLineString"?2:1,tags:hr};lt.id!==null&&(Ye.id=lt.id),mt.features.push(Ye)}}function Pt(mt,lt,bt,Ct,Dt,Ht){var Bt=Ct*Ct;if(Ct>0&&lt.size<(Dt?Bt:Ct)){bt.numPoints+=lt.length/3;return}for(var Ut=[],Jt=0;Jt<lt.length;Jt+=3)(Ct===0||lt[Jt+2]>Bt)&&(bt.numSimplified++,Ut.push(lt[Jt]),Ut.push(lt[Jt+1])),bt.numPoints++;Dt&&dt(Ut,Ht),mt.push(Ut)}function dt(mt,lt){for(var bt=0,Ct=0,Dt=mt.length,Ht=Dt-2;Ct<Dt;Ht=Ct,Ct+=2)bt+=(mt[Ct]-mt[Ht])*(mt[Ct+1]+mt[Ht+1]);if(bt>0===lt)for(Ct=0,Dt=mt.length;Ct<Dt/2;Ct+=2){var Bt=mt[Ct],Ut=mt[Ct+1];mt[Ct]=mt[Dt-2-Ct],mt[Ct+1]=mt[Dt-1-Ct],mt[Dt-2-Ct]=Bt,mt[Dt-1-Ct]=Ut}}function Mt(mt,lt){return new Xt(mt,lt)}function Xt(mt,lt){lt=this.options=vt(Object.create(this.options),lt);var bt=lt.debug;if(bt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct=Qe(mt,lt);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ct=he(Ct,lt),Ct.length&&this.splitTile(Ct,0,0,0),bt&&(Ct.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Xt.prototype.splitTile=function(mt,lt,bt,Ct,Dt,Ht,Bt){for(var Ut=[mt,lt,bt,Ct],Jt=this.options,cr=Jt.debug;Ut.length;){Ct=Ut.pop(),bt=Ut.pop(),lt=Ut.pop(),mt=Ut.pop();var hr=1<<lt,pr=nr(lt,bt,Ct),Ye=this.tiles[pr];if(!Ye&&(cr>1&&console.time("creation"),Ye=this.tiles[pr]=st(mt,lt,bt,Ct,Jt),this.tileCoords.push({z:lt,x:bt,y:Ct}),cr)){cr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,bt,Ct,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var Ue="z"+lt;this.stats[Ue]=(this.stats[Ue]||0)+1,this.total++}if(Ye.source=mt,Dt){if(lt===Jt.maxZoom||lt===Dt)continue;var Ot=1<<Dt-lt;if(bt!==Math.floor(Ht/Ot)||Ct!==Math.floor(Bt/Ot))continue}else if(lt===Jt.indexMaxZoom||Ye.numPoints<=Jt.indexMaxPoints)continue;if(Ye.source=null,mt.length!==0){cr>1&&console.time("clipping");var It=.5*Jt.buffer/Jt.extent,Qt=.5-It,lr=.5+It,fr=1+It,er,Nt,ir,vr,xr,dr;er=Nt=ir=vr=null,xr=ze(mt,hr,bt-It,bt+lr,0,Ye.minX,Ye.maxX,Jt),dr=ze(mt,hr,bt+Qt,bt+fr,0,Ye.minX,Ye.maxX,Jt),mt=null,xr&&(er=ze(xr,hr,Ct-It,Ct+lr,1,Ye.minY,Ye.maxY,Jt),Nt=ze(xr,hr,Ct+Qt,Ct+fr,1,Ye.minY,Ye.maxY,Jt),xr=null),dr&&(ir=ze(dr,hr,Ct-It,Ct+lr,1,Ye.minY,Ye.maxY,Jt),vr=ze(dr,hr,Ct+Qt,Ct+fr,1,Ye.minY,Ye.maxY,Jt),dr=null),cr>1&&console.timeEnd("clipping"),Ut.push(er||[],lt+1,bt*2,Ct*2),Ut.push(Nt||[],lt+1,bt*2,Ct*2+1),Ut.push(ir||[],lt+1,bt*2+1,Ct*2),Ut.push(vr||[],lt+1,bt*2+1,Ct*2+1)}}},Xt.prototype.getTile=function(mt,lt,bt){var Ct=this.options,Dt=Ct.extent,Ht=Ct.debug;if(mt<0||mt>24)return null;var Bt=1<<mt;lt=(lt%Bt+Bt)%Bt;var Ut=nr(mt,lt,bt);if(this.tiles[Ut])return $e(this.tiles[Ut],Dt);Ht>1&&console.log("drilling down to z%d-%d-%d",mt,lt,bt);for(var Jt=mt,cr=lt,hr=bt,pr;!pr&&Jt>0;)Jt--,cr=Math.floor(cr/2),hr=Math.floor(hr/2),pr=this.tiles[nr(Jt,cr,hr)];return!pr||!pr.source?null:(Ht>1&&console.log("found parent tile z%d-%d-%d",Jt,cr,hr),Ht>1&&console.time("drilling down"),this.splitTile(pr.source,Jt,cr,hr,mt,lt,bt),Ht>1&&console.timeEnd("drilling down"),this.tiles[Ut]?$e(this.tiles[Ut],Dt):null)};function nr(mt,lt,bt){return((1<<mt)*bt+lt)*32+mt}function vt(mt,lt){for(var bt in lt)mt[bt]=lt[bt];return mt}function Zt(mt,lt){var bt=mt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Ct=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Ct)return lt(null,null);var Dt=new w(Ct.features),Ht=o(Dt);(Ht.byteOffset!==0||Ht.byteLength!==Ht.buffer.byteLength)&&(Ht=new Uint8Array(Ht)),lt(null,{vectorTile:Dt,rawData:Ht.buffer})}var Kt=function(mt){function lt(bt,Ct,Dt,Ht){mt.call(this,bt,Ct,Dt,Zt),Ht&&(this.loadGeoJSON=Ht)}return mt&&(lt.__proto__=mt),lt.prototype=Object.create(mt&&mt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Ct,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Ct,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Ct=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Ht=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Ht&&Ht.request&&Ht.request.collectResourceTiming?new s.RequestPerformance(Ht.request):!1;this.loadGeoJSON(Ht,function(Ut,Jt){if(Ut||!Jt)return Dt(Ut);if(typeof Jt!="object")return Dt(new Error("Input data given to '"+Ht.source+"' is not a valid GeoJSON object."));h(Jt,!0);try{if(Ht.filter){var cr=s.createExpression(Ht.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(cr.result==="error")throw new Error(cr.value.map(function(Ue){return Ue.key+": "+Ue.message}).join(", "));var hr=Jt.features.filter(function(Ue){return cr.value.evaluate({zoom:0},Ue)});Jt={type:"FeatureCollection",features:hr}}Ct._geoJSONIndex=Ht.cluster?new te(yr(Ht)).load(Jt.features):Mt(Jt,Ht.geojsonVtOptions)}catch(Ue){return Dt(Ue)}Ct.loaded={};var pr={};if(Bt){var Ye=Bt.finish();Ye&&(pr.resourceTiming={},pr.resourceTiming[Ht.source]=JSON.parse(JSON.stringify(Ye)))}Dt(null,pr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Ct,Dt){var Ht=this.loaded,Bt=Ct.uid;return Ht&&Ht[Bt]?mt.prototype.reloadTile.call(this,Ct,Dt):this.loadTile(Ct,Dt)},lt.prototype.loadGeoJSON=function(Ct,Dt){if(Ct.request)s.getJSON(Ct.request,Dt);else if(typeof Ct.data=="string")try{return Dt(null,JSON.parse(Ct.data))}catch{return Dt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Ct,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},lt.prototype.getClusterExpansionZoom=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Ct.clusterId))}catch(Ht){Dt(Ht)}},lt.prototype.getClusterChildren=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Ct.clusterId))}catch(Ht){Dt(Ht)}},lt.prototype.getClusterLeaves=function(Ct,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Ct.clusterId,Ct.limit,Ct.offset))}catch(Ht){Dt(Ht)}},lt}(u);function yr(mt){var lt=mt.superclusterOptions,bt=mt.clusterProperties;if(!bt||!lt)return lt;for(var Ct={},Dt={},Ht={accumulated:null,zoom:0},Bt={properties:null},Ut=Object.keys(bt),Jt=0,cr=Ut;Jt<cr.length;Jt+=1){var hr=cr[Jt],pr=bt[hr],Ye=pr[0],Ue=pr[1],Ot=s.createExpression(Ue),It=s.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",hr]]:Ye);Ct[hr]=Ot.value,Dt[hr]=It.value}return lt.map=function(Qt){Bt.properties=Qt;for(var lr={},fr=0,er=Ut;fr<er.length;fr+=1){var Nt=er[fr];lr[Nt]=Ct[Nt].evaluate(Ht,Bt)}return lr},lt.reduce=function(Qt,lr){Bt.properties=lr;for(var fr=0,er=Ut;fr<er.length;fr+=1){var Nt=er[fr];Ht.accumulated=Qt[Nt],Qt[Nt]=Dt[Nt].evaluate(Ht,Bt)}},lt}var or=function(lt){var bt=this;this.self=lt,this.actor=new s.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Kt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ct,Dt){if(bt.workerSourceTypes[Ct])throw new Error('Worker source with name "'+Ct+'" already registered.');bt.workerSourceTypes[Ct]=Dt},this.self.registerRTLTextPlugin=function(Ct){if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ct.applyArabicShaping,s.plugin.processBidirectionalText=Ct.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ct.processStyledBidirectionalText}};return or.prototype.setReferrer=function(lt,bt){this.referrer=bt},or.prototype.setImages=function(lt,bt,Ct){this.availableImages[lt]=bt;for(var Dt in this.workerSources[lt]){var Ht=this.workerSources[lt][Dt];for(var Bt in Ht)Ht[Bt].availableImages=bt}Ct()},or.prototype.setLayers=function(lt,bt,Ct){this.getLayerIndex(lt).replace(bt),Ct()},or.prototype.updateLayers=function(lt,bt,Ct){this.getLayerIndex(lt).update(bt.layers,bt.removedIds),Ct()},or.prototype.loadTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).loadTile(bt,Ct)},or.prototype.loadDEMTile=function(lt,bt,Ct){this.getDEMWorkerSource(lt,bt.source).loadTile(bt,Ct)},or.prototype.reloadTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).reloadTile(bt,Ct)},or.prototype.abortTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).abortTile(bt,Ct)},or.prototype.removeTile=function(lt,bt,Ct){this.getWorkerSource(lt,bt.type,bt.source).removeTile(bt,Ct)},or.prototype.removeDEMTile=function(lt,bt){this.getDEMWorkerSource(lt,bt.source).removeTile(bt)},or.prototype.removeSource=function(lt,bt,Ct){if(!(!this.workerSources[lt]||!this.workerSources[lt][bt.type]||!this.workerSources[lt][bt.type][bt.source])){var Dt=this.workerSources[lt][bt.type][bt.source];delete this.workerSources[lt][bt.type][bt.source],Dt.removeSource!==void 0?Dt.removeSource(bt,Ct):Ct()}},or.prototype.loadWorkerSource=function(lt,bt,Ct){try{this.self.importScripts(bt.url),Ct()}catch(Dt){Ct(Dt.toString())}},or.prototype.syncRTLPluginState=function(lt,bt,Ct){try{s.plugin.setState(bt);var Dt=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Ht=s.plugin.isParsed(),Bt=Ht?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Ct(Bt,Ht)}}catch(Ut){Ct(Ut.toString())}},or.prototype.getAvailableImages=function(lt){var bt=this.availableImages[lt];return bt||(bt=[]),bt},or.prototype.getLayerIndex=function(lt){var bt=this.layerIndexes[lt];return bt||(bt=this.layerIndexes[lt]=new p),bt},or.prototype.getWorkerSource=function(lt,bt,Ct){var Dt=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][bt]||(this.workerSources[lt][bt]={}),!this.workerSources[lt][bt][Ct]){var Ht={send:function(Bt,Ut,Jt){Dt.actor.send(Bt,Ut,Jt,lt)}};this.workerSources[lt][bt][Ct]=new this.workerSourceTypes[bt](Ht,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][bt][Ct]},or.prototype.getDEMWorkerSource=function(lt,bt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][bt]||(this.demWorkerSources[lt][bt]=new g),this.demWorkerSources[lt][bt]},or.prototype.enforceCacheSizeLimit=function(lt,bt){s.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),P(["./shared"],function(s){var L=s.createCommonjsModule(function(ce){ce.exports?ce.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=de);function Z(Wr){return!de(Wr)}function de(Wr){if(!q())return"not a browser";if(!pe())return"insufficent Array support";if(!Oe())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!ut())return"insufficient JSON support";if(!Lt())return"insufficient worker support";if(!Vt())return"insufficient Uint8ClampedArray support";if(!$t())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!kr(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function q(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Oe(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ut(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Lt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(Wr),dn,In;try{In=new Worker(Qr),dn=!0}catch{dn=!1}return In&&In.terminate(),URL.revokeObjectURL(Qr),dn}function Vt(){return"Uint8ClampedArray"in window}function $t(){return ArrayBuffer.isView}function ur(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var Qr=Wr.getContext("2d");if(!Qr)return!1;var dn=Qr.getImageData(0,0,1,1);return dn&&dn.width===Wr.width}var sr={};function kr(Wr){return sr[Wr]===void 0&&(sr[Wr]=jr(Wr)),sr[Wr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Wr){var Qr=document.createElement("canvas"),dn=Object.create(Z.webGLContextAttributes);return dn.failIfMajorPerformanceCaveat=Wr,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",dn)||Qr.probablySupportsContext("experimental-webgl",dn):Qr.supportsContext?Qr.supportsContext("webgl",dn)||Qr.supportsContext("experimental-webgl",dn):Qr.getContext("webgl",dn)||Qr.getContext("experimental-webgl",dn)}function jr(Wr){var Qr=Xr(Wr);if(!Qr)return!1;var dn=Qr.createShader(Qr.VERTEX_SHADER);return!dn||Qr.isContextLost()?!1:(Qr.shaderSource(dn,"void main() {}"),Qr.compileShader(dn),Qr.getShaderParameter(dn,Qr.COMPILE_STATUS)===!0)}}),S={};S.create=function(ce,Z,de){var q=s.window.document.createElement(ce);return Z!==void 0&&(q.className=Z),de&&de.appendChild(q),q},S.createNS=function(ce,Z){var de=s.window.document.createElementNS(ce,Z);return de};var v=s.window.document&&s.window.document.documentElement.style;function p(ce){if(!v)return ce[0];for(var Z=0;Z<ce.length;Z++)if(ce[Z]in v)return ce[Z];return ce[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;S.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},S.enableDrag=function(){v&&r&&(v[r]=t)};var i=p(["transform","WebkitTransform"]);S.setTransform=function(ce,Z){ce.style[i]=Z};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});s.window.addEventListener("test",f,f),s.window.removeEventListener("test",f,f)}catch{n=!1}S.addEventListener=function(ce,Z,de,q){q===void 0&&(q={}),"passive"in q&&n?ce.addEventListener(Z,de,q):ce.addEventListener(Z,de,q.capture)},S.removeEventListener=function(ce,Z,de,q){q===void 0&&(q={}),"passive"in q&&n?ce.removeEventListener(Z,de,q):ce.removeEventListener(Z,de,q.capture)};var u=function(ce){ce.preventDefault(),ce.stopPropagation(),s.window.removeEventListener("click",u,!0)};S.suppressClick=function(){s.window.addEventListener("click",u,!0),s.window.setTimeout(function(){s.window.removeEventListener("click",u,!0)},0)},S.mousePos=function(ce,Z){var de=ce.getBoundingClientRect();return new s.Point(Z.clientX-de.left-ce.clientLeft,Z.clientY-de.top-ce.clientTop)},S.touchPos=function(ce,Z){for(var de=ce.getBoundingClientRect(),q=[],pe=0;pe<Z.length;pe++)q.push(new s.Point(Z[pe].clientX-de.left-ce.clientLeft,Z[pe].clientY-de.top-ce.clientTop));return q},S.mouseButton=function(ce){return typeof s.window.InstallTrigger<"u"&&ce.button===2&&ce.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ce.button},S.remove=function(ce){ce.parentNode&&ce.parentNode.removeChild(ce)};function l(ce,Z,de){var q,pe,Oe,Xe=s.browser.devicePixelRatio>1?"@2x":"",ut=s.getJSON(Z.transformRequest(Z.normalizeSpriteURL(ce,Xe,".json"),s.ResourceType.SpriteJSON),function($t,ur){ut=null,Oe||(Oe=$t,q=ur,Vt())}),Lt=s.getImage(Z.transformRequest(Z.normalizeSpriteURL(ce,Xe,".png"),s.ResourceType.SpriteImage),function($t,ur){Lt=null,Oe||(Oe=$t,pe=ur,Vt())});function Vt(){if(Oe)de(Oe);else if(q&&pe){var $t=s.browser.getImageData(pe),ur={};for(var sr in q){var kr=q[sr],Xr=kr.width,jr=kr.height,Wr=kr.x,Qr=kr.y,dn=kr.sdf,In=kr.pixelRatio,Bn=kr.stretchX,jn=kr.stretchY,Xn=kr.content,Wn=new s.RGBAImage({width:Xr,height:jr});s.RGBAImage.copy($t,Wn,{x:Wr,y:Qr},{x:0,y:0},{width:Xr,height:jr}),ur[sr]={data:Wn,pixelRatio:In,sdf:dn,stretchX:Bn,stretchY:jn,content:Xn}}de(null,ur)}}return{cancel:function(){ut&&(ut.cancel(),ut=null),Lt&&(Lt.cancel(),Lt=null)}}}function g(ce){var Z=ce.userImage;if(Z&&Z.render){var de=Z.render();if(de)return ce.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var h=1,T=function(ce){function Z(){ce.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var pe=0,Oe=this.requestors;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe.ids,Lt=Xe.callback;this._notify(ut,Lt)}this.requestors=[]}},Z.prototype.getImage=function(q){return this.images[q]},Z.prototype.addImage=function(q,pe){this._validate(q,pe)&&(this.images[q]=pe)},Z.prototype._validate=function(q,pe){var Oe=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new s.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),Oe=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new s.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),Oe=!1),this._validateContent(pe.content,pe)||(this.fire(new s.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),Oe=!1),Oe},Z.prototype._validateStretch=function(q,pe){if(!q)return!0;for(var Oe=0,Xe=0,ut=q;Xe<ut.length;Xe+=1){var Lt=ut[Xe];if(Lt[0]<Oe||Lt[1]<Lt[0]||pe<Lt[1])return!1;Oe=Lt[1]}return!0},Z.prototype._validateContent=function(q,pe){return q?!(q.length!==4||q[0]<0||pe.data.width<q[0]||q[1]<0||pe.data.height<q[1]||q[2]<0||pe.data.width<q[2]||q[3]<0||pe.data.height<q[3]||q[2]<q[0]||q[3]<q[1]):!0},Z.prototype.updateImage=function(q,pe){var Oe=this.images[q];pe.version=Oe.version+1,this.images[q]=pe,this.updatedImages[q]=!0},Z.prototype.removeImage=function(q){var pe=this.images[q];delete this.images[q],delete this.patterns[q],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(q,pe){var Oe=!0;if(!this.isLoaded())for(var Xe=0,ut=q;Xe<ut.length;Xe+=1){var Lt=ut[Xe];this.images[Lt]||(Oe=!1)}this.isLoaded()||Oe?this._notify(q,pe):this.requestors.push({ids:q,callback:pe})},Z.prototype._notify=function(q,pe){for(var Oe={},Xe=0,ut=q;Xe<ut.length;Xe+=1){var Lt=ut[Xe];this.images[Lt]||this.fire(new s.Event("styleimagemissing",{id:Lt}));var Vt=this.images[Lt];Vt?Oe[Lt]={data:Vt.data.clone(),pixelRatio:Vt.pixelRatio,sdf:Vt.sdf,version:Vt.version,stretchX:Vt.stretchX,stretchY:Vt.stretchY,content:Vt.content,hasRenderCallback:!!(Vt.userImage&&Vt.userImage.render)}:s.warnOnce('Image "'+Lt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,Oe)},Z.prototype.getPixelSize=function(){var q=this.atlasImage,pe=q.width,Oe=q.height;return{width:pe,height:Oe}},Z.prototype.getPattern=function(q){var pe=this.patterns[q],Oe=this.getImage(q);if(!Oe)return null;if(pe&&pe.position.version===Oe.version)return pe.position;if(pe)pe.position.version=Oe.version;else{var Xe=Oe.data.width+h*2,ut=Oe.data.height+h*2,Lt={w:Xe,h:ut,x:0,y:0},Vt=new s.ImagePosition(Lt,Oe);this.patterns[q]={bin:Lt,position:Vt}}return this._updatePatternAtlas(),this.patterns[q].position},Z.prototype.bind=function(q){var pe=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(q,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var q=[];for(var pe in this.patterns)q.push(this.patterns[pe].bin);var Oe=s.potpack(q),Xe=Oe.w,ut=Oe.h,Lt=this.atlasImage;Lt.resize({width:Xe||1,height:ut||1});for(var Vt in this.patterns){var $t=this.patterns[Vt],ur=$t.bin,sr=ur.x+h,kr=ur.y+h,Xr=this.images[Vt].data,jr=Xr.width,Wr=Xr.height;s.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:sr,y:kr},{width:jr,height:Wr}),s.RGBAImage.copy(Xr,Lt,{x:0,y:Wr-1},{x:sr,y:kr-1},{width:jr,height:1}),s.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:sr,y:kr+Wr},{width:jr,height:1}),s.RGBAImage.copy(Xr,Lt,{x:jr-1,y:0},{x:sr-1,y:kr},{width:1,height:Wr}),s.RGBAImage.copy(Xr,Lt,{x:0,y:0},{x:sr+jr,y:kr},{width:1,height:Wr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(q){for(var pe=0,Oe=q;pe<Oe.length;pe+=1){var Xe=Oe[pe];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var ut=this.images[Xe],Lt=g(ut);Lt&&this.updateImage(Xe,ut)}}},Z}(s.Evented);function c(ce,Z,de,q,pe){var Oe=Z*256,Xe=Oe+255,ut=q.transformRequest(q.normalizeGlyphsURL(de).replace("{fontstack}",ce).replace("{range}",Oe+"-"+Xe),s.ResourceType.Glyphs);s.getArrayBuffer(ut,function(Lt,Vt){if(Lt)pe(Lt);else if(Vt){for(var $t={},ur=0,sr=s.parseGlyphPBF(Vt);ur<sr.length;ur+=1){var kr=sr[ur];$t[kr.id]=kr}pe(null,$t)}})}var a=w,d=w,x=1e20;function w(ce,Z,de,q,pe,Oe){this.fontSize=ce||24,this.buffer=Z===void 0?3:Z,this.cutoff=q||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=Oe||"normal",this.radius=de||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(ce){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ce,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),q=0;q<this.size*this.size;q++){var pe=Z.data[q*4+3]/255;this.gridOuter[q]=pe===1?0:pe===0?x:Math.pow(Math.max(0,.5-pe),2),this.gridInner[q]=pe===1?x:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),q=0;q<this.size*this.size;q++){var Oe=this.gridOuter[q]-this.gridInner[q];de[q]=Math.max(0,Math.min(255,Math.round(255-255*(Oe/this.radius+this.cutoff))))}return de};function C(ce,Z,de,q,pe,Oe,Xe){for(var ut=0;ut<Z;ut++){for(var Lt=0;Lt<de;Lt++)q[Lt]=ce[Lt*Z+ut];for(y(q,pe,Oe,Xe,de),Lt=0;Lt<de;Lt++)ce[Lt*Z+ut]=pe[Lt]}for(Lt=0;Lt<de;Lt++){for(ut=0;ut<Z;ut++)q[ut]=ce[Lt*Z+ut];for(y(q,pe,Oe,Xe,Z),ut=0;ut<Z;ut++)ce[Lt*Z+ut]=Math.sqrt(pe[ut])}}function y(ce,Z,de,q,pe){de[0]=0,q[0]=-x,q[1]=+x;for(var Oe=1,Xe=0;Oe<pe;Oe++){for(var ut=(ce[Oe]+Oe*Oe-(ce[de[Xe]]+de[Xe]*de[Xe]))/(2*Oe-2*de[Xe]);ut<=q[Xe];)Xe--,ut=(ce[Oe]+Oe*Oe-(ce[de[Xe]]+de[Xe]*de[Xe]))/(2*Oe-2*de[Xe]);Xe++,de[Xe]=Oe,q[Xe]=ut,q[Xe+1]=+x}for(Oe=0,Xe=0;Oe<pe;Oe++){for(;q[Xe+1]<Oe;)Xe++;Z[Oe]=(Oe-de[Xe])*(Oe-de[Xe])+ce[de[Xe]]}}a.default=d;var M=function(Z,de){this.requestManager=Z,this.localIdeographFontFamily=de,this.entries={}};M.prototype.setURL=function(Z){this.url=Z},M.prototype.getGlyphs=function(Z,de){var q=this,pe=[];for(var Oe in Z)for(var Xe=0,ut=Z[Oe];Xe<ut.length;Xe+=1){var Lt=ut[Xe];pe.push({stack:Oe,id:Lt})}s.asyncAll(pe,function(Vt,$t){var ur=Vt.stack,sr=Vt.id,kr=q.entries[ur];kr||(kr=q.entries[ur]={glyphs:{},requests:{},ranges:{}});var Xr=kr.glyphs[sr];if(Xr!==void 0){$t(null,{stack:ur,id:sr,glyph:Xr});return}if(Xr=q._tinySDF(kr,ur,sr),Xr){kr.glyphs[sr]=Xr,$t(null,{stack:ur,id:sr,glyph:Xr});return}var jr=Math.floor(sr/256);if(jr*256>65535){$t(new Error("glyphs > 65535 not supported"));return}if(kr.ranges[jr]){$t(null,{stack:ur,id:sr,glyph:Xr});return}var Wr=kr.requests[jr];Wr||(Wr=kr.requests[jr]=[],M.loadGlyphRange(ur,jr,q.url,q.requestManager,function(Qr,dn){if(dn){for(var In in dn)q._doesCharSupportLocalGlyph(+In)||(kr.glyphs[+In]=dn[+In]);kr.ranges[jr]=!0}for(var Bn=0,jn=Wr;Bn<jn.length;Bn+=1){var Xn=jn[Bn];Xn(Qr,dn)}delete kr.requests[jr]})),Wr.push(function(Qr,dn){Qr?$t(Qr):dn&&$t(null,{stack:ur,id:sr,glyph:dn[sr]||null})})},function(Vt,$t){if(Vt)de(Vt);else if($t){for(var ur={},sr=0,kr=$t;sr<kr.length;sr+=1){var Xr=kr[sr],jr=Xr.stack,Wr=Xr.id,Qr=Xr.glyph;(ur[jr]||(ur[jr]={}))[Wr]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}de(null,ur)}})},M.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(s.isChar["CJK Unified Ideographs"](Z)||s.isChar["Hangul Syllables"](Z)||s.isChar.Hiragana(Z)||s.isChar.Katakana(Z))},M.prototype._tinySDF=function(Z,de,q){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(q)){var Oe=Z.tinySDF;if(!Oe){var Xe="400";/bold/i.test(de)?Xe="900":/medium/i.test(de)?Xe="500":/light/i.test(de)&&(Xe="200"),Oe=Z.tinySDF=new M.TinySDF(24,3,8,.25,pe,Xe)}return{id:q,bitmap:new s.AlphaImage({width:30,height:30},Oe.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=c,M.TinySDF=a;var A=function(){this.specification=s.styleSpec.light.position};A.prototype.possiblyEvaluate=function(Z,de){return s.sphericalToCartesian(Z.expression.evaluate(de))},A.prototype.interpolate=function(Z,de,q){return{x:s.number(Z.x,de.x,q),y:s.number(Z.y,de.y,q),z:s.number(Z.z,de.z,q)}};var o=new s.Properties({anchor:new s.DataConstantProperty(s.styleSpec.light.anchor),position:new A,color:new s.DataConstantProperty(s.styleSpec.light.color),intensity:new s.DataConstantProperty(s.styleSpec.light.intensity)}),E="-transition",b=function(ce){function Z(de){ce.call(this),this._transitionable=new s.Transitionable(o),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(q,pe){if(pe===void 0&&(pe={}),!this._validate(s.validateLight,q,pe))for(var Oe in q){var Xe=q[Oe];s.endsWith(Oe,E)?this._transitionable.setTransition(Oe.slice(0,-E.length),Xe):this._transitionable.setValue(Oe,Xe)}},Z.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},Z.prototype._validate=function(q,pe,Oe){return Oe&&Oe.validate===!1?!1:s.emitValidationErrors(this,q.call(s.validateStyle,s.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:s.styleSpec})))},Z}(s.Evented),I=function(Z,de){this.width=Z,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(Z,de){var q=Z.join(",")+String(de);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(Z,de)),this.dashEntry[q]},I.prototype.getDashRanges=function(Z,de,q){var pe=Z.length%2===1,Oe=[],Xe=pe?-Z[Z.length-1]*q:0,ut=Z[0]*q,Lt=!0;Oe.push({left:Xe,right:ut,isDash:Lt,zeroLength:Z[0]===0});for(var Vt=Z[0],$t=1;$t<Z.length;$t++){Lt=!Lt;var ur=Z[$t];Xe=Vt*q,Vt+=ur,ut=Vt*q,Oe.push({left:Xe,right:ut,isDash:Lt,zeroLength:ur===0})}return Oe},I.prototype.addRoundDash=function(Z,de,q){for(var pe=de/2,Oe=-q;Oe<=q;Oe++)for(var Xe=this.nextRow+q+Oe,ut=this.width*Xe,Lt=0,Vt=Z[Lt],$t=0;$t<this.width;$t++){$t/Vt.right>1&&(Vt=Z[++Lt]);var ur=Math.abs($t-Vt.left),sr=Math.abs($t-Vt.right),kr=Math.min(ur,sr),Xr=void 0,jr=Oe/q*(pe+1);if(Vt.isDash){var Wr=pe-Math.abs(jr);Xr=Math.sqrt(kr*kr+Wr*Wr)}else Xr=pe-Math.sqrt(kr*kr+jr*jr);this.data[ut+$t]=Math.max(0,Math.min(255,Xr+128))}},I.prototype.addRegularDash=function(Z){for(var de=Z.length-1;de>=0;--de){var q=Z[de],pe=Z[de+1];q.zeroLength?Z.splice(de,1):pe&&pe.isDash===q.isDash&&(pe.left=q.left,Z.splice(de,1))}var Oe=Z[0],Xe=Z[Z.length-1];Oe.isDash===Xe.isDash&&(Oe.left=Xe.left-this.width,Xe.right=Oe.right+this.width);for(var ut=this.width*this.nextRow,Lt=0,Vt=Z[Lt],$t=0;$t<this.width;$t++){$t/Vt.right>1&&(Vt=Z[++Lt]);var ur=Math.abs($t-Vt.left),sr=Math.abs($t-Vt.right),kr=Math.min(ur,sr),Xr=Vt.isDash?kr:-kr;this.data[ut+$t]=Math.max(0,Math.min(255,Xr+128))}},I.prototype.addDash=function(Z,de){var q=de?7:0,pe=2*q+1;if(this.nextRow+pe>this.height)return s.warnOnce("LineAtlas out of space"),null;for(var Oe=0,Xe=0;Xe<Z.length;Xe++)Oe+=Z[Xe];if(Oe!==0){var ut=this.width/Oe,Lt=this.getDashRanges(Z,this.width,ut);de?this.addRoundDash(Lt,ut,q):this.addRegularDash(Lt)}var Vt={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:Oe};return this.nextRow+=pe,this.dirty=!0,Vt},I.prototype.bind=function(Z){var de=Z.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var D=function ce(Z,de){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var q=this.workerPool.acquire(this.id),pe=0;pe<q.length;pe++){var Oe=q[pe],Xe=new ce.Actor(Oe,de,this.id);Xe.name="Worker "+pe,this.actors.push(Xe)}};D.prototype.broadcast=function(Z,de,q){q=q||function(){},s.asyncAll(this.actors,function(pe,Oe){pe.send(Z,de,Oe)},q)},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=s.Actor;function N(ce,Z,de){var q=function(pe,Oe){if(pe)return de(pe);if(Oe){var Xe=s.pick(s.extend(Oe,ce),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Oe.vector_layers&&(Xe.vectorLayers=Oe.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(ut){return ut.id})),Xe.tiles=Z.canonicalizeTileset(Xe,ce.url),de(null,Xe)}};return ce.url?s.getJSON(Z.transformRequest(Z.normalizeSourceURL(ce.url),s.ResourceType.Source),q):s.browser.frame(function(){return q(null,ce)})}var k=function(Z,de,q){this.bounds=s.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=de||0,this.maxzoom=q||24};k.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},k.prototype.contains=function(Z){var de=Math.pow(2,Z.z),q={minX:Math.floor(s.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*de)},pe=Z.x>=q.minX&&Z.x<q.maxX&&Z.y>=q.minY&&Z.y<q.maxY;return pe};var O=function(ce){function Z(de,q,pe,Oe){if(ce.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(q,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},q),this._collectResourceTiming=q.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Oe)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(pe,Oe){q._tileJSONRequest=null,q._loaded=!0,pe?q.fire(new s.ErrorEvent(pe)):Oe&&(s.extend(q,Oe),Oe.bounds&&(q.tileBounds=new k(Oe.bounds,q.minzoom,q.maxzoom)),s.postTurnstileEvent(Oe.tiles,q.map._requestManager._customAccessToken),s.postMapLoadEvent(Oe.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.setSourceProperty=function(q){this._tileJSONRequest&&this._tileJSONRequest.cancel(),q();var pe=this.map.style.sourceCaches[this.id];pe.clearTiles(),this.load()},Z.prototype.setTiles=function(q){var pe=this;return this.setSourceProperty(function(){pe._options.tiles=q}),this},Z.prototype.setUrl=function(q){var pe=this;return this.setSourceProperty(function(){pe.url=q,pe._options.url=q}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return s.extend({},this._options)},Z.prototype.loadTile=function(q,pe){var Oe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(Oe,s.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!q.actor||q.state==="expired"?(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",Xe,ut.bind(this))):q.state==="loading"?q.reloadCallback=pe:q.request=q.actor.send("reloadTile",Xe,ut.bind(this));function ut(Lt,Vt){if(delete q.request,q.aborted)return pe(null);if(Lt&&Lt.status!==404)return pe(Lt);Vt&&Vt.resourceTiming&&(q.resourceTiming=Vt.resourceTiming),this.map._refreshExpiredTiles&&Vt&&q.setExpiryData(Vt),q.loadVectorData(Vt,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),pe(null),q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)}},Z.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(s.Evented),F=function(ce){function Z(de,q,pe,Oe){ce.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(Oe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},q),s.extend(this,s.pick(q,["url","scheme","tileSize"]))}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(pe,Oe){q._tileJSONRequest=null,q._loaded=!0,pe?q.fire(new s.ErrorEvent(pe)):Oe&&(s.extend(q,Oe),Oe.bounds&&(q.tileBounds=new k(Oe.bounds,q.minzoom,q.maxzoom)),s.postTurnstileEvent(Oe.tiles),s.postMapLoadEvent(Oe.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return s.extend({},this._options)},Z.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},Z.prototype.loadTile=function(q,pe){var Oe=this,Xe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=s.getImage(this.map._requestManager.transformRequest(Xe,s.ResourceType.Tile),function(ut,Lt){if(delete q.request,q.aborted)q.state="unloaded",pe(null);else if(ut)q.state="errored",pe(ut);else if(Lt){Oe.map._refreshExpiredTiles&&q.setExpiryData(Lt),delete Lt.cacheControl,delete Lt.expires;var Vt=Oe.map.painter.context,$t=Vt.gl;q.texture=Oe.map.painter.getTileTexture(Lt.width),q.texture?q.texture.update(Lt,{useMipmap:!0}):(q.texture=new s.Texture(Vt,Lt,$t.RGBA,{useMipmap:!0}),q.texture.bind($t.LINEAR,$t.CLAMP_TO_EDGE,$t.LINEAR_MIPMAP_NEAREST),Vt.extTextureFilterAnisotropic&&$t.texParameterf($t.TEXTURE_2D,Vt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Vt.extTextureFilterAnisotropicMax)),q.state="loaded",s.cacheEntryPossiblyAdded(Oe.dispatcher),pe(null)}})},Z.prototype.abortTile=function(q,pe){q.request&&(q.request.cancel(),delete q.request),pe()},Z.prototype.unloadTile=function(q,pe){q.texture&&this.map.painter.saveTileTexture(q.texture),pe()},Z.prototype.hasTransition=function(){return!1},Z}(s.Evented),z=function(ce){function Z(de,q,pe,Oe){ce.call(this,de,q,pe,Oe),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},q),this.encoding=q.encoding||"mapbox"}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(q,pe){var Oe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=s.getImage(this.map._requestManager.transformRequest(Oe,s.ResourceType.Tile),Xe.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID);function Xe(Lt,Vt){if(delete q.request,q.aborted)q.state="unloaded",pe(null);else if(Lt)q.state="errored",pe(Lt);else if(Vt){this.map._refreshExpiredTiles&&q.setExpiryData(Vt),delete Vt.cacheControl,delete Vt.expires;var $t=s.window.ImageBitmap&&Vt instanceof s.window.ImageBitmap&&s.offscreenCanvasSupported(),ur=$t?Vt:s.browser.getImageData(Vt,1),sr={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!q.actor||q.state==="expired")&&(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",sr,ut.bind(this)))}}function ut(Lt,Vt){Lt&&(q.state="errored",pe(Lt)),Vt&&(q.dem=Vt,q.needsHillshadePrepare=!0,q.state="loaded",pe(null))}},Z.prototype._getNeighboringTiles=function(q){var pe=q.canonical,Oe=Math.pow(2,pe.z),Xe=(pe.x-1+Oe)%Oe,ut=pe.x===0?q.wrap-1:q.wrap,Lt=(pe.x+1+Oe)%Oe,Vt=pe.x+1===Oe?q.wrap+1:q.wrap,$t={};return $t[new s.OverscaledTileID(q.overscaledZ,ut,pe.z,Xe,pe.y).key]={backfilled:!1},$t[new s.OverscaledTileID(q.overscaledZ,Vt,pe.z,Lt,pe.y).key]={backfilled:!1},pe.y>0&&($t[new s.OverscaledTileID(q.overscaledZ,ut,pe.z,Xe,pe.y-1).key]={backfilled:!1},$t[new s.OverscaledTileID(q.overscaledZ,q.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},$t[new s.OverscaledTileID(q.overscaledZ,Vt,pe.z,Lt,pe.y-1).key]={backfilled:!1}),pe.y+1<Oe&&($t[new s.OverscaledTileID(q.overscaledZ,ut,pe.z,Xe,pe.y+1).key]={backfilled:!1},$t[new s.OverscaledTileID(q.overscaledZ,q.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},$t[new s.OverscaledTileID(q.overscaledZ,Vt,pe.z,Lt,pe.y+1).key]={backfilled:!1}),$t},Z.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},Z}(F),B=function(ce){function Z(de,q,pe,Oe){ce.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(Oe),this._data=q.data,this._options=s.extend({},q),this._collectResourceTiming=q.collectResourceTiming,this._resourceTiming=[],q.maxzoom!==void 0&&(this.maxzoom=q.maxzoom),q.type&&(this.type=q.type),q.attribution&&(this.attribution=q.attribution),this.promoteId=q.promoteId;var Xe=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:q.cluster||!1,geojsonVtOptions:{buffer:(q.buffer!==void 0?q.buffer:128)*Xe,tolerance:(q.tolerance!==void 0?q.tolerance:.375)*Xe,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:q.lineMetrics||!1,generateId:q.generateId||!1},superclusterOptions:{maxZoom:q.clusterMaxZoom!==void 0?Math.min(q.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,q.clusterMinPoints||2),extent:s.EXTENT,radius:(q.clusterRadius||50)*Xe,log:!1,generateId:q.generateId||!1},clusterProperties:q.clusterProperties,filter:q.filter},q.workerOptions)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){q.fire(new s.ErrorEvent(pe));return}var Oe={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(Oe.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new s.Event("data",Oe))})},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.setData=function(q){var pe=this;return this._data=q,this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Oe){if(Oe){pe.fire(new s.ErrorEvent(Oe));return}var Xe={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Xe.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new s.Event("data",Xe))}),this},Z.prototype.getClusterExpansionZoom=function(q,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},pe),this},Z.prototype.getClusterChildren=function(q,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},pe),this},Z.prototype.getClusterLeaves=function(q,pe,Oe,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:pe,offset:Oe},Xe),this},Z.prototype._updateWorkerData=function(q){var pe=this;this._loaded=!1;var Oe=s.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(Oe.request=this.map._requestManager.transformRequest(s.browser.resolveURL(Xe),s.ResourceType.Source),Oe.request.collectResourceTiming=this._collectResourceTiming):Oe.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",Oe,function(ut,Lt){pe._removed||Lt&&Lt.abandoned||(pe._loaded=!0,Lt&&Lt.resourceTiming&&Lt.resourceTiming[pe.id]&&(pe._resourceTiming=Lt.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:Oe.source},null),q(ut))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(q,pe){var Oe=this,Xe=q.actor?"reloadTile":"loadTile";q.actor=this.actor;var ut={type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};q.request=this.actor.send(Xe,ut,function(Lt,Vt){return delete q.request,q.unloadVectorData(),q.aborted?pe(null):Lt?pe(Lt):(q.loadVectorData(Vt,Oe.map.painter,Xe==="reloadTile"),pe(null))})},Z.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},Z.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(s.Evented),W=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(ce){function Z(de,q,pe,Oe){ce.call(this),this.id=de,this.dispatcher=pe,this.coordinates=q.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Oe),this.options=q}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(q,pe){var Oe=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),function(Xe,ut){Oe._loaded=!0,Xe?Oe.fire(new s.ErrorEvent(Xe)):ut&&(Oe.image=ut,q&&(Oe.coordinates=q),pe&&pe(),Oe._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(q){var pe=this;return!this.image||!q.url?this:(this.options.url=q.url,this.load(q.coordinates,function(){pe.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.setCoordinates=function(q){var pe=this;this.coordinates=q;var Oe=q.map(s.MercatorCoordinate.fromLngLat);this.tileID=re(Oe),this.minzoom=this.maxzoom=this.tileID.z;var Xe=Oe.map(function(ut){return pe.tileID.getTilePoint(ut)._round()});return this._boundsArray=new s.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var q=this.map.painter.context,pe=q.gl;this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new s.Texture(q,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var Oe in this.tiles){var Xe=this.tiles[Oe];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},Z.prototype.loadTile=function(q,pe){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},pe(null)):(q.state="errored",pe(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(s.Evented);function re(ce){for(var Z=1/0,de=1/0,q=-1/0,pe=-1/0,Oe=0,Xe=ce;Oe<Xe.length;Oe+=1){var ut=Xe[Oe];Z=Math.min(Z,ut.x),de=Math.min(de,ut.y),q=Math.max(q,ut.x),pe=Math.max(pe,ut.y)}var Lt=q-Z,Vt=pe-de,$t=Math.max(Lt,Vt),ur=Math.max(0,Math.floor(-Math.log($t)/Math.LN2)),sr=Math.pow(2,ur);return new s.CanonicalTileID(ur,Math.floor((Z+q)/2*sr),Math.floor((de+pe)/2*sr))}var ne=function(ce){function Z(de,q,pe,Oe){ce.call(this,de,q,pe,Oe),this.roundZoom=!0,this.type="video",this.options=q}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var Oe=0,Xe=pe.urls;Oe<Xe.length;Oe+=1){var ut=Xe[Oe];this.urls.push(this.map._requestManager.transformRequest(ut,s.ResourceType.Source).url)}s.getVideo(this.urls,function(Lt,Vt){q._loaded=!0,Lt?q.fire(new s.ErrorEvent(Lt)):Vt&&(q.video=Vt,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(q){if(this.video){var pe=this.video.seekable;q<pe.start(0)||q>pe.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=q}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var q=this.map.painter.context,pe=q.gl;this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(q,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var Oe in this.tiles){var Xe=this.tiles[Oe];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(J),le=function(ce){function Z(de,q,pe,Oe){ce.call(this,de,q,pe,Oe),q.coordinates?(!Array.isArray(q.coordinates)||q.coordinates.length!==4||q.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(ut){return typeof ut!="number"})}))&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'missing required property "coordinates"'))),q.animate&&typeof q.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),q.canvas?typeof q.canvas!="string"&&!(q.canvas instanceof s.window.HTMLCanvasElement)&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=q,this.animate=q.animate!==void 0?q.animate:!0}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,Oe=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(pe,this.canvas,Oe.RGBA,{premultiply:!0});for(var Xe in this.tiles){var ut=this.tiles[Xe];ut.state!=="loaded"&&(ut.state="loaded",ut.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var q=0,pe=[this.canvas.width,this.canvas.height];q<pe.length;q+=1){var Oe=pe[q];if(isNaN(Oe)||Oe<=0)return!0}return!1},Z}(J),$={vector:O,raster:F,"raster-dem":z,geojson:B,video:ne,image:J,canvas:le},K=function(ce,Z,de,q){var pe=new $[Z.type](ce,Z,de,q);if(pe.id!==ce)throw new Error("Expected Source id to be "+ce+" instead of "+pe.id);return s.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},ie=function(ce){return $[ce]},Y=function(ce,Z){$[ce]=Z};function Q(ce,Z){var de=s.identity([]);return s.translate(de,de,[1,1,0]),s.scale(de,de,[ce.width*.5,ce.height*.5,1]),s.multiply(de,de,ce.calculatePosMatrix(Z.toUnwrapped()))}function oe(ce,Z,de){if(ce)for(var q=0,pe=ce;q<pe.length;q+=1){var Oe=pe[q],Xe=Z[Oe];if(Xe&&Xe.source===de&&Xe.type==="fill-extrusion")return!0}else for(var ut in Z){var Lt=Z[ut];if(Lt.source===de&&Lt.type==="fill-extrusion")return!0}return!1}function X(ce,Z,de,q,pe,Oe){var Xe=oe(pe&&pe.layers,Z,ce.id),ut=Oe.maxPitchScaleFactor(),Lt=ce.tilesIn(q,ut,Xe);Lt.sort(te);for(var Vt=[],$t=0,ur=Lt;$t<ur.length;$t+=1){var sr=ur[$t];Vt.push({wrappedTileID:sr.tileID.wrapped().key,queryResults:sr.tile.queryRenderedFeatures(Z,de,ce._state,sr.queryGeometry,sr.cameraQueryGeometry,sr.scale,pe,Oe,ut,Q(ce.transform,sr.tileID))})}var kr=fe(Vt);for(var Xr in kr)kr[Xr].forEach(function(jr){var Wr=jr.feature,Qr=ce.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=Qr});return kr}function j(ce,Z,de,q,pe,Oe,Xe){for(var ut={},Lt=Oe.queryRenderedSymbols(q),Vt=[],$t=0,ur=Object.keys(Lt).map(Number);$t<ur.length;$t+=1){var sr=ur[$t];Vt.push(Xe[sr])}Vt.sort(te);for(var kr=function(){var dn=jr[Xr],In=dn.featureIndex.lookupSymbolFeatures(Lt[dn.bucketInstanceId],Z,dn.bucketIndex,dn.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,ce);for(var Bn in In){var jn=ut[Bn]=ut[Bn]||[],Xn=In[Bn];Xn.sort(function(ua,xa){var da=dn.featureSortOrder;if(da){var Fa=da.indexOf(ua.featureIndex),qa=da.indexOf(xa.featureIndex);return qa-Fa}else return xa.featureIndex-ua.featureIndex});for(var Wn=0,Kn=Xn;Wn<Kn.length;Wn+=1){var na=Kn[Wn];jn.push(na)}}},Xr=0,jr=Vt;Xr<jr.length;Xr+=1)kr();var Wr=function(dn){ut[dn].forEach(function(In){var Bn=In.feature,jn=ce[dn],Xn=de[jn.source],Wn=Xn.getFeatureState(Bn.layer["source-layer"],Bn.id);Bn.source=Bn.layer.source,Bn.layer["source-layer"]&&(Bn.sourceLayer=Bn.layer["source-layer"]),Bn.state=Wn})};for(var Qr in ut)Wr(Qr);return ut}function se(ce,Z){for(var de=ce.getRenderableIds().map(function(Lt){return ce.getTileByID(Lt)}),q=[],pe={},Oe=0;Oe<de.length;Oe++){var Xe=de[Oe],ut=Xe.tileID.canonical.key;pe[ut]||(pe[ut]=!0,Xe.querySourceFeatures(q,Z))}return q}function te(ce,Z){var de=ce.tileID,q=Z.tileID;return de.overscaledZ-q.overscaledZ||de.canonical.y-q.canonical.y||de.wrap-q.wrap||de.canonical.x-q.canonical.x}function fe(ce){for(var Z={},de={},q=0,pe=ce;q<pe.length;q+=1){var Oe=pe[q],Xe=Oe.queryResults,ut=Oe.wrappedTileID,Lt=de[ut]=de[ut]||{};for(var Vt in Xe)for(var $t=Xe[Vt],ur=Lt[Vt]=Lt[Vt]||{},sr=Z[Vt]=Z[Vt]||[],kr=0,Xr=$t;kr<Xr.length;kr+=1){var jr=Xr[kr];ur[jr.featureIndex]||(ur[jr.featureIndex]=!0,sr.push(jr))}}return Z}var ge=function(Z,de){this.max=Z,this.onRemove=de,this.reset()};ge.prototype.reset=function(){for(var Z in this.data)for(var de=0,q=this.data[Z];de<q.length;de+=1){var pe=q[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},ge.prototype.add=function(Z,de,q){var pe=this,Oe=Z.wrapped().key;this.data[Oe]===void 0&&(this.data[Oe]=[]);var Xe={value:de,timeout:void 0};if(q!==void 0&&(Xe.timeout=setTimeout(function(){pe.remove(Z,Xe)},q)),this.data[Oe].push(Xe),this.order.push(Oe),this.order.length>this.max){var ut=this._getAndRemoveByKey(this.order[0]);ut&&this.onRemove(ut)}return this},ge.prototype.has=function(Z){return Z.wrapped().key in this.data},ge.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},ge.prototype._getAndRemoveByKey=function(Z){var de=this.data[Z].shift();return de.timeout&&clearTimeout(de.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),de.value},ge.prototype.getByKey=function(Z){var de=this.data[Z];return de?de[0].value:null},ge.prototype.get=function(Z){if(!this.has(Z))return null;var de=this.data[Z.wrapped().key][0];return de.value},ge.prototype.remove=function(Z,de){if(!this.has(Z))return this;var q=Z.wrapped().key,pe=de===void 0?0:this.data[q].indexOf(de),Oe=this.data[q][pe];return this.data[q].splice(pe,1),Oe.timeout&&clearTimeout(Oe.timeout),this.data[q].length===0&&delete this.data[q],this.onRemove(Oe.value),this.order.splice(this.order.indexOf(q),1),this},ge.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ge.prototype.filter=function(Z){var de=[];for(var q in this.data)for(var pe=0,Oe=this.data[q];pe<Oe.length;pe+=1){var Xe=Oe[pe];Z(Xe.value)||de.push(Xe)}for(var ut=0,Lt=de;ut<Lt.length;ut+=1){var Vt=Lt[ut];this.remove(Vt.value.tileID,Vt)}};var be=function(Z,de,q){this.context=Z;var pe=Z.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!q,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};be.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},be.prototype.updateData=function(Z){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},be.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},_e=function(Z,de,q,pe){this.length=de.length,this.attributes=q,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=Z;var Oe=Z.gl;this.buffer=Oe.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Oe.bufferData(Oe.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?Oe.DYNAMIC_DRAW:Oe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};_e.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},_e.prototype.updateData=function(Z){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,Z.arrayBuffer)},_e.prototype.enableAttributes=function(Z,de){for(var q=0;q<this.attributes.length;q++){var pe=this.attributes[q],Oe=de.attributes[pe.name];Oe!==void 0&&Z.enableVertexAttribArray(Oe)}},_e.prototype.setVertexAttribPointers=function(Z,de,q){for(var pe=0;pe<this.attributes.length;pe++){var Oe=this.attributes[pe],Xe=de.attributes[Oe.name];Xe!==void 0&&Z.vertexAttribPointer(Xe,Oe.components,Z[xe[Oe.type]],!1,this.itemSize,Oe.offset+this.itemSize*(q||0))}},_e.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var De=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};De.prototype.get=function(){return this.current},De.prototype.set=function(Z){},De.prototype.getDefault=function(){return this.default},De.prototype.setDefault=function(){this.set(this.default)};var Fe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return s.Color.transparent},Z.prototype.set=function(q){var pe=this.current;q.r===pe.r&&q.g===pe.g&&q.b===pe.b&&q.a===pe.a&&!this.dirty||(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},Z}(De),Te=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},Z}(De),Re=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},Z}(De),Se=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(q){var pe=this.current;q[0]===pe[0]&&q[1]===pe[1]&&q[2]===pe[2]&&q[3]===pe[3]&&!this.dirty||(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},Z}(De),Ie=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.depthMask(q),this.current=q,this.dirty=!1)},Z}(De),Me=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},Z}(De),Ve=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(q){var pe=this.current;q.func===pe.func&&q.ref===pe.ref&&q.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},Z}(De),et=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},Z.prototype.set=function(q){var pe=this.current;q[0]===pe[0]&&q[1]===pe[1]&&q[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},Z}(De),it=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;q?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=q,this.dirty=!1}},Z}(De),Je=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(q){var pe=this.current;q[0]===pe[0]&&q[1]===pe[1]&&!this.dirty||(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},Z}(De),Qe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;q?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=q,this.dirty=!1}},Z}(De),ct=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},Z}(De),ht=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;q?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=q,this.dirty=!1}},Z}(De),gt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},Z.prototype.set=function(q){var pe=this.current;q[0]===pe[0]&&q[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},Z}(De),Tt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return s.Color.transparent},Z.prototype.set=function(q){var pe=this.current;q.r===pe.r&&q.g===pe.g&&q.b===pe.b&&q.a===pe.a&&!this.dirty||(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},Z}(De),Et=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},Z}(De),rt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;q?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=q,this.dirty=!1}},Z}(De),ze=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.cullFace(q),this.current=q,this.dirty=!1)},Z}(De),He=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.frontFace(q),this.current=q,this.dirty=!1)},Z}(De),Ge=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.useProgram(q),this.current=q,this.dirty=!1)},Z}(De),We=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},Z}(De),Le=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},Z.prototype.set=function(q){var pe=this.current;q[0]===pe[0]&&q[1]===pe[1]&&q[2]===pe[2]&&q[3]===pe[3]&&!this.dirty||(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},Z}(De),Pe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},Z}(De),je=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,q),this.current=q,this.dirty=!1}},Z}(De),Ce=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,q),this.current=q,this.dirty=!1}},Z}(De),he=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},Z}(De),me=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},Z}(De),Ne=function(ce){function Z(de){ce.call(this,de),this.vao=de.extVertexArrayObject}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){!this.vao||q===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},Z}(De),$e=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},Z}(De),ot=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},Z}(De),st=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},Z}(De),Wt=function(ce){function Z(de,q){ce.call(this,de),this.context=de,this.parent=q}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(De),Pt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},Z}(Wt),dt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,q),this.current=q,this.dirty=!1}},Z}(Wt),Mt=function(Z,de,q,pe){this.context=Z,this.width=de,this.height=q;var Oe=Z.gl,Xe=this.framebuffer=Oe.createFramebuffer();this.colorAttachment=new Pt(Z,Xe),pe&&(this.depthAttachment=new dt(Z,Xe))};Mt.prototype.destroy=function(){var Z=this.context.gl,de=this.colorAttachment.get();if(de&&Z.deleteTexture(de),this.depthAttachment){var q=this.depthAttachment.get();q&&Z.deleteRenderbuffer(q)}Z.deleteFramebuffer(this.framebuffer)};var Xt=519,nr=function(Z,de,q){this.func=Z,this.mask=de,this.range=q};nr.ReadOnly=!1,nr.ReadWrite=!0,nr.disabled=new nr(Xt,nr.ReadOnly,[0,1]);var vt=519,Zt=7680,Kt=function(Z,de,q,pe,Oe,Xe){this.test=Z,this.ref=de,this.mask=q,this.fail=pe,this.depthFail=Oe,this.pass=Xe};Kt.disabled=new Kt({func:vt,mask:0},0,0,Zt,Zt,Zt);var yr=0,or=1,mt=771,lt=function(Z,de,q){this.blendFunction=Z,this.blendColor=de,this.mask=q};lt.Replace=[or,yr],lt.disabled=new lt(lt.Replace,s.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,s.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([or,mt],s.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Ct=2305,Dt=function(Z,de,q){this.enable=Z,this.mode=de,this.frontFace=q};Dt.disabled=new Dt(!1,bt,Ct),Dt.backCCW=new Dt(!0,bt,Ct);var Ht=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Fe(this),this.clearDepth=new Te(this),this.clearStencil=new Re(this),this.colorMask=new Se(this),this.depthMask=new Ie(this),this.stencilMask=new Me(this),this.stencilFunc=new Ve(this),this.stencilOp=new et(this),this.stencilTest=new it(this),this.depthRange=new Je(this),this.depthTest=new Qe(this),this.depthFunc=new ct(this),this.blend=new ht(this),this.blendFunc=new gt(this),this.blendColor=new Tt(this),this.blendEquation=new Et(this),this.cullFace=new rt(this),this.cullFaceSide=new ze(this),this.frontFace=new He(this),this.program=new Ge(this),this.activeTexture=new We(this),this.viewport=new Le(this),this.bindFramebuffer=new Pe(this),this.bindRenderbuffer=new je(this),this.bindTexture=new Ce(this),this.bindVertexBuffer=new he(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ne(this),this.pixelStoreUnpack=new $e(this),this.pixelStoreUnpackPremultiplyAlpha=new ot(this),this.pixelStoreUnpackFlipY=new st(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Z.getParameter(Z.MAX_TEXTURE_SIZE)};Ht.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ht.prototype.createIndexBuffer=function(Z,de){return new be(this,Z,de)},Ht.prototype.createVertexBuffer=function(Z,de,q){return new _e(this,Z,de,q)},Ht.prototype.createRenderbuffer=function(Z,de,q){var pe=this.gl,Oe=pe.createRenderbuffer();return this.bindRenderbuffer.set(Oe),pe.renderbufferStorage(pe.RENDERBUFFER,Z,de,q),this.bindRenderbuffer.set(null),Oe},Ht.prototype.createFramebuffer=function(Z,de,q){return new Mt(this,Z,de,q)},Ht.prototype.clear=function(Z){var de=Z.color,q=Z.depth,pe=this.gl,Oe=0;de&&(Oe|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof q<"u"&&(Oe|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),pe.clear(Oe)},Ht.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Ht.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Ht.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Ht.prototype.setColorMode=function(Z){s.deepEqual(Z.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Ht.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(ce){function Z(de,q,pe){var Oe=this;ce.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(Oe._sourceLoaded=!0),Oe._sourceLoaded&&!Oe._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(Oe.reload(),Oe.transform&&Oe.update(Oe.transform))}),this.on("error",function(){Oe._sourceErrored=!0}),this._source=K(de,q,pe,this),this._tiles={},this._cache=new ge(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new s.SourceFeatureState}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},Z.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var pe=this._tiles[q];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(q,pe){return this._source.loadTile(q,pe)},Z.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},Z.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(q){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var Oe=this._tiles[pe];Oe.upload(q),Oe.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return s.values(this._tiles).map(function(q){return q.tileID}).sort(Ut).map(function(q){return q.key})},Z.prototype.getRenderableIds=function(q){var pe=this,Oe=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,q)&&Oe.push(this._tiles[Xe]);return q?Oe.sort(function(ut,Lt){var Vt=ut.tileID,$t=Lt.tileID,ur=new s.Point(Vt.canonical.x,Vt.canonical.y)._rotate(pe.transform.angle),sr=new s.Point($t.canonical.x,$t.canonical.y)._rotate(pe.transform.angle);return Vt.overscaledZ-$t.overscaledZ||sr.y-ur.y||sr.x-ur.x}).map(function(ut){return ut.tileID.key}):Oe.map(function(ut){return ut.tileID}).sort(Ut).map(function(ut){return ut.key})},Z.prototype.hasRenderableParent=function(q){var pe=this.findLoadedParent(q,0);return pe?this._isIdRenderable(pe.tileID.key):!1},Z.prototype._isIdRenderable=function(q,pe){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(pe||!this._tiles[q].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var q in this._tiles)this._tiles[q].state!=="errored"&&this._reloadTile(q,"reloading")},Z.prototype._reloadTile=function(q,pe){var Oe=this._tiles[q];Oe&&(Oe.state!=="loading"&&(Oe.state=pe),this._loadTile(Oe,this._tileLoaded.bind(this,Oe,q,pe)))},Z.prototype._tileLoaded=function(q,pe,Oe,Xe){if(Xe){q.state="errored",Xe.status!==404?this._source.fire(new s.ErrorEvent(Xe,{tile:q})):this.update(this.transform);return}q.timeAdded=s.browser.now(),Oe==="expired"&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,q),this.getSource().type==="raster-dem"&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new s.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},Z.prototype._backfillDEM=function(q){for(var pe=this.getRenderableIds(),Oe=0;Oe<pe.length;Oe++){var Xe=pe[Oe];if(q.neighboringTiles&&q.neighboringTiles[Xe]){var ut=this.getTileByID(Xe);Lt(q,ut),Lt(ut,q)}}function Lt(Vt,$t){Vt.needsHillshadePrepare=!0;var ur=$t.tileID.canonical.x-Vt.tileID.canonical.x,sr=$t.tileID.canonical.y-Vt.tileID.canonical.y,kr=Math.pow(2,Vt.tileID.canonical.z),Xr=$t.tileID.key;ur===0&&sr===0||Math.abs(sr)>1||(Math.abs(ur)>1&&(Math.abs(ur+kr)===1?ur+=kr:Math.abs(ur-kr)===1&&(ur-=kr)),!(!$t.dem||!Vt.dem)&&(Vt.dem.backfillBorder($t.dem,ur,sr),Vt.neighboringTiles&&Vt.neighboringTiles[Xr]&&(Vt.neighboringTiles[Xr].backfilled=!0)))}},Z.prototype.getTile=function(q){return this.getTileByID(q.key)},Z.prototype.getTileByID=function(q){return this._tiles[q]},Z.prototype._retainLoadedChildren=function(q,pe,Oe,Xe){for(var ut in this._tiles){var Lt=this._tiles[ut];if(!(Xe[ut]||!Lt.hasData()||Lt.tileID.overscaledZ<=pe||Lt.tileID.overscaledZ>Oe)){for(var Vt=Lt.tileID;Lt&&Lt.tileID.overscaledZ>pe+1;){var $t=Lt.tileID.scaledTo(Lt.tileID.overscaledZ-1);Lt=this._tiles[$t.key],Lt&&Lt.hasData()&&(Vt=$t)}for(var ur=Vt;ur.overscaledZ>pe;)if(ur=ur.scaledTo(ur.overscaledZ-1),q[ur.key]){Xe[Vt.key]=Vt;break}}}},Z.prototype.findLoadedParent=function(q,pe){if(q.key in this._loadedParentTiles){var Oe=this._loadedParentTiles[q.key];return Oe&&Oe.tileID.overscaledZ>=pe?Oe:null}for(var Xe=q.overscaledZ-1;Xe>=pe;Xe--){var ut=q.scaledTo(Xe),Lt=this._getLoadedTile(ut);if(Lt)return Lt}},Z.prototype._getLoadedTile=function(q){var pe=this._tiles[q.key];if(pe&&pe.hasData())return pe;var Oe=this._cache.getByKey(q.wrapped().key);return Oe},Z.prototype.updateCacheSize=function(q){var pe=Math.ceil(q.width/this._source.tileSize)+1,Oe=Math.ceil(q.height/this._source.tileSize)+1,Xe=pe*Oe,ut=5,Lt=Math.floor(Xe*ut),Vt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Lt):Lt;this._cache.setMaxSize(Vt)},Z.prototype.handleWrapJump=function(q){var pe=this._prevLng===void 0?q:this._prevLng,Oe=q-pe,Xe=Oe/360,ut=Math.round(Xe);if(this._prevLng=q,ut){var Lt={};for(var Vt in this._tiles){var $t=this._tiles[Vt];$t.tileID=$t.tileID.unwrapTo($t.tileID.wrap+ut),Lt[$t.tileID.key]=$t}this._tiles=Lt;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var sr in this._tiles){var kr=this._tiles[sr];this._setTileReloadTimer(sr,kr)}}},Z.prototype.update=function(q){var pe=this;if(this.transform=q,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Oe;this.used?this._source.tileID?Oe=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ua){return new s.OverscaledTileID(ua.canonical.z,ua.wrap,ua.canonical.z,ua.canonical.x,ua.canonical.y)}):(Oe=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Oe=Oe.filter(function(ua){return pe._source.hasTile(ua)}))):Oe=[];var Xe=q.coveringZoomLevel(this._source),ut=Math.max(Xe-Z.maxOverzooming,this._source.minzoom),Lt=Math.max(Xe+Z.maxUnderzooming,this._source.minzoom),Vt=this._updateRetainedTiles(Oe,Xe);if(Jt(this._source.type)){for(var $t={},ur={},sr=Object.keys(Vt),kr=0,Xr=sr;kr<Xr.length;kr+=1){var jr=Xr[kr],Wr=Vt[jr],Qr=this._tiles[jr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=s.browser.now())){var dn=this.findLoadedParent(Wr,ut);dn&&(this._addTile(dn.tileID),$t[dn.tileID.key]=dn.tileID),ur[jr]=Wr}}this._retainLoadedChildren(ur,Xe,Lt,Vt);for(var In in $t)Vt[In]||(this._coveredTiles[In]=!0,Vt[In]=$t[In])}for(var Bn in Vt)this._tiles[Bn].clearFadeHold();for(var jn=s.keysDifference(this._tiles,Vt),Xn=0,Wn=jn;Xn<Wn.length;Xn+=1){var Kn=Wn[Xn],na=this._tiles[Kn];na.hasSymbolBuckets&&!na.holdingForFade()?na.setHoldDuration(this.map._fadeDuration):(!na.hasSymbolBuckets||na.symbolFadeFinished())&&this._removeTile(Kn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},Z.prototype._updateRetainedTiles=function(q,pe){for(var Oe={},Xe={},ut=Math.max(pe-Z.maxOverzooming,this._source.minzoom),Lt=Math.max(pe+Z.maxUnderzooming,this._source.minzoom),Vt={},$t=0,ur=q;$t<ur.length;$t+=1){var sr=ur[$t],kr=this._addTile(sr);Oe[sr.key]=sr,!kr.hasData()&&pe<this._source.maxzoom&&(Vt[sr.key]=sr)}this._retainLoadedChildren(Vt,pe,Lt,Oe);for(var Xr=0,jr=q;Xr<jr.length;Xr+=1){var Wr=jr[Xr],Qr=this._tiles[Wr.key];if(!Qr.hasData()){if(pe+1>this._source.maxzoom){var dn=Wr.children(this._source.maxzoom)[0],In=this.getTile(dn);if(In&&In.hasData()){Oe[dn.key]=dn;continue}}else{var Bn=Wr.children(this._source.maxzoom);if(Oe[Bn[0].key]&&Oe[Bn[1].key]&&Oe[Bn[2].key]&&Oe[Bn[3].key])continue}for(var jn=Qr.wasRequested(),Xn=Wr.overscaledZ-1;Xn>=ut;--Xn){var Wn=Wr.scaledTo(Xn);if(Xe[Wn.key]||(Xe[Wn.key]=!0,Qr=this.getTile(Wn),!Qr&&jn&&(Qr=this._addTile(Wn)),Qr&&(Oe[Wn.key]=Wn,jn=Qr.wasRequested(),Qr.hasData())))break}}}return Oe},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var q in this._tiles){for(var pe=[],Oe=void 0,Xe=this._tiles[q].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){Oe=this._loadedParentTiles[Xe.key];break}pe.push(Xe.key);var ut=Xe.scaledTo(Xe.overscaledZ-1);if(Oe=this._getLoadedTile(ut),Oe)break;Xe=ut}for(var Lt=0,Vt=pe;Lt<Vt.length;Lt+=1){var $t=Vt[Lt];this._loadedParentTiles[$t]=Oe}}},Z.prototype._addTile=function(q){var pe=this._tiles[q.key];if(pe)return pe;pe=this._cache.getAndRemove(q),pe&&(this._setTileReloadTimer(q.key,pe),pe.tileID=q,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,pe)));var Oe=!!pe;return Oe||(pe=new s.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,q.key,pe.state))),pe?(pe.uses++,this._tiles[q.key]=pe,Oe||this._source.fire(new s.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},Z.prototype._setTileReloadTimer=function(q,pe){var Oe=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var Xe=pe.getExpiryTimeout();Xe&&(this._timers[q]=setTimeout(function(){Oe._reloadTile(q,"expired"),delete Oe._timers[q]},Xe))},Z.prototype._removeTile=function(q){var pe=this._tiles[q];pe&&(pe.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var q in this._tiles)this._removeTile(q);this._cache.reset()},Z.prototype.tilesIn=function(q,pe,Oe){var Xe=this,ut=[],Lt=this.transform;if(!Lt)return ut;for(var Vt=Oe?Lt.getCameraQueryGeometry(q):q,$t=q.map(function(Xn){return Lt.pointCoordinate(Xn)}),ur=Vt.map(function(Xn){return Lt.pointCoordinate(Xn)}),sr=this.getIds(),kr=1/0,Xr=1/0,jr=-1/0,Wr=-1/0,Qr=0,dn=ur;Qr<dn.length;Qr+=1){var In=dn[Qr];kr=Math.min(kr,In.x),Xr=Math.min(Xr,In.y),jr=Math.max(jr,In.x),Wr=Math.max(Wr,In.y)}for(var Bn=function(Xn){var Wn=Xe._tiles[sr[Xn]];if(!Wn.holdingForFade()){var Kn=Wn.tileID,na=Math.pow(2,Lt.zoom-Wn.tileID.overscaledZ),ua=pe*Wn.queryPadding*s.EXTENT/Wn.tileSize/na,xa=[Kn.getTilePoint(new s.MercatorCoordinate(kr,Xr)),Kn.getTilePoint(new s.MercatorCoordinate(jr,Wr))];if(xa[0].x-ua<s.EXTENT&&xa[0].y-ua<s.EXTENT&&xa[1].x+ua>=0&&xa[1].y+ua>=0){var da=$t.map(function(qa){return Kn.getTilePoint(qa)}),Fa=ur.map(function(qa){return Kn.getTilePoint(qa)});ut.push({tile:Wn,tileID:Kn,queryGeometry:da,cameraQueryGeometry:Fa,scale:na})}}},jn=0;jn<sr.length;jn++)Bn(jn);return ut},Z.prototype.getVisibleCoordinates=function(q){for(var pe=this,Oe=this.getRenderableIds(q).map(function(Vt){return pe._tiles[Vt].tileID}),Xe=0,ut=Oe;Xe<ut.length;Xe+=1){var Lt=ut[Xe];Lt.posMatrix=this.transform.calculatePosMatrix(Lt.toUnwrapped())}return Oe},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var q in this._tiles){var pe=this._tiles[q];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=s.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(q,pe,Oe){q=q||"_geojsonTileLayer",this._state.updateState(q,pe,Oe)},Z.prototype.removeFeatureState=function(q,pe,Oe){q=q||"_geojsonTileLayer",this._state.removeFeatureState(q,pe,Oe)},Z.prototype.getFeatureState=function(q,pe){return q=q||"_geojsonTileLayer",this._state.getState(q,pe)},Z.prototype.setDependencies=function(q,pe,Oe){var Xe=this._tiles[q];Xe&&Xe.setDependencies(pe,Oe)},Z.prototype.reloadTilesForDependencies=function(q,pe){for(var Oe in this._tiles){var Xe=this._tiles[Oe];Xe.hasDependency(q,pe)&&this._reloadTile(Oe,"reloading")}this._cache.filter(function(ut){return!ut.hasDependency(q,pe)})},Z}(s.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Ut(ce,Z){var de=Math.abs(ce.wrap*2)-+(ce.wrap<0),q=Math.abs(Z.wrap*2)-+(Z.wrap<0);return ce.overscaledZ-Z.overscaledZ||q-de||Z.canonical.y-ce.canonical.y||Z.canonical.x-ce.canonical.x}function Jt(ce){return ce==="raster"||ce==="image"||ce==="video"}function cr(){return new s.window.Worker(oo.workerUrl)}var hr="mapboxgl_preloaded_worker_pool",pr=function(){this.active={}};pr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<pr.workerCount;)this.workers.push(new cr);return this.active[Z]=!0,this.workers.slice()},pr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},pr.prototype.isPreloaded=function(){return!!this.active[hr]},pr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(s.browser.hardwareConcurrency/2);pr.workerCount=Math.max(Math.min(Ye,6),1);var Ue;function Ot(){return Ue||(Ue=new pr),Ue}function It(){var ce=Ot();ce.acquire(hr)}function Qt(){var ce=Ue;ce&&(ce.isPreloaded()&&ce.numActive()===1?(ce.release(hr),Ue=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function lr(ce,Z){var de={};for(var q in ce)q!=="ref"&&(de[q]=ce[q]);return s.refProperties.forEach(function(pe){pe in Z&&(de[pe]=Z[pe])}),de}function fr(ce){ce=ce.slice();for(var Z=Object.create(null),de=0;de<ce.length;de++)Z[ce[de].id]=ce[de];for(var q=0;q<ce.length;q++)"ref"in ce[q]&&(ce[q]=lr(ce[q],Z[ce[q].ref]));return ce}function er(){var ce={},Z=s.styleSpec.$version;for(var de in s.styleSpec.$root){var q=s.styleSpec.$root[de];if(q.required){var pe=null;de==="version"?pe=Z:q.type==="array"?pe=[]:pe={},pe!=null&&(ce[de]=pe)}}return ce}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ir(ce,Z,de){de.push({command:Nt.addSource,args:[ce,Z[ce]]})}function vr(ce,Z,de){Z.push({command:Nt.removeSource,args:[ce]}),de[ce]=!0}function xr(ce,Z,de,q){vr(ce,de,q),ir(ce,Z,de)}function dr(ce,Z,de){var q;for(q in ce[de])if(ce[de].hasOwnProperty(q)&&q!=="data"&&!s.deepEqual(ce[de][q],Z[de][q]))return!1;for(q in Z[de])if(Z[de].hasOwnProperty(q)&&q!=="data"&&!s.deepEqual(ce[de][q],Z[de][q]))return!1;return!0}function Hr(ce,Z,de,q){ce=ce||{},Z=Z||{};var pe;for(pe in ce)ce.hasOwnProperty(pe)&&(Z.hasOwnProperty(pe)||vr(pe,de,q));for(pe in Z)Z.hasOwnProperty(pe)&&(ce.hasOwnProperty(pe)?s.deepEqual(ce[pe],Z[pe])||(ce[pe].type==="geojson"&&Z[pe].type==="geojson"&&dr(ce,Z,pe)?de.push({command:Nt.setGeoJSONSourceData,args:[pe,Z[pe].data]}):xr(pe,Z,de,q)):ir(pe,Z,de))}function Pr(ce,Z,de,q,pe,Oe){ce=ce||{},Z=Z||{};var Xe;for(Xe in ce)ce.hasOwnProperty(Xe)&&(s.deepEqual(ce[Xe],Z[Xe])||de.push({command:Oe,args:[q,Xe,Z[Xe],pe]}));for(Xe in Z)!Z.hasOwnProperty(Xe)||ce.hasOwnProperty(Xe)||s.deepEqual(ce[Xe],Z[Xe])||de.push({command:Oe,args:[q,Xe,Z[Xe],pe]})}function Rr(ce){return ce.id}function an(ce,Z){return ce[Z.id]=Z,ce}function tn(ce,Z,de){ce=ce||[],Z=Z||[];var q=ce.map(Rr),pe=Z.map(Rr),Oe=ce.reduce(an,{}),Xe=Z.reduce(an,{}),ut=q.slice(),Lt=Object.create(null),Vt,$t,ur,sr,kr,Xr,jr;for(Vt=0,$t=0;Vt<q.length;Vt++)ur=q[Vt],Xe.hasOwnProperty(ur)?$t++:(de.push({command:Nt.removeLayer,args:[ur]}),ut.splice(ut.indexOf(ur,$t),1));for(Vt=0,$t=0;Vt<pe.length;Vt++)ur=pe[pe.length-1-Vt],ut[ut.length-1-Vt]!==ur&&(Oe.hasOwnProperty(ur)?(de.push({command:Nt.removeLayer,args:[ur]}),ut.splice(ut.lastIndexOf(ur,ut.length-$t),1)):$t++,Xr=ut[ut.length-Vt],de.push({command:Nt.addLayer,args:[Xe[ur],Xr]}),ut.splice(ut.length-Vt,0,ur),Lt[ur]=!0);for(Vt=0;Vt<pe.length;Vt++)if(ur=pe[Vt],sr=Oe[ur],kr=Xe[ur],!(Lt[ur]||s.deepEqual(sr,kr))){if(!s.deepEqual(sr.source,kr.source)||!s.deepEqual(sr["source-layer"],kr["source-layer"])||!s.deepEqual(sr.type,kr.type)){de.push({command:Nt.removeLayer,args:[ur]}),Xr=ut[ut.lastIndexOf(ur)+1],de.push({command:Nt.addLayer,args:[kr,Xr]});continue}Pr(sr.layout,kr.layout,de,ur,null,Nt.setLayoutProperty),Pr(sr.paint,kr.paint,de,ur,null,Nt.setPaintProperty),s.deepEqual(sr.filter,kr.filter)||de.push({command:Nt.setFilter,args:[ur,kr.filter]}),(!s.deepEqual(sr.minzoom,kr.minzoom)||!s.deepEqual(sr.maxzoom,kr.maxzoom))&&de.push({command:Nt.setLayerZoomRange,args:[ur,kr.minzoom,kr.maxzoom]});for(jr in sr)sr.hasOwnProperty(jr)&&(jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Pr(sr[jr],kr[jr],de,ur,jr.slice(6),Nt.setPaintProperty):s.deepEqual(sr[jr],kr[jr])||de.push({command:Nt.setLayerProperty,args:[ur,jr,kr[jr]]})));for(jr in kr)!kr.hasOwnProperty(jr)||sr.hasOwnProperty(jr)||jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Pr(sr[jr],kr[jr],de,ur,jr.slice(6),Nt.setPaintProperty):s.deepEqual(sr[jr],kr[jr])||de.push({command:Nt.setLayerProperty,args:[ur,jr,kr[jr]]}))}}function Sn(ce,Z){if(!ce)return[{command:Nt.setStyle,args:[Z]}];var de=[];try{if(!s.deepEqual(ce.version,Z.version))return[{command:Nt.setStyle,args:[Z]}];s.deepEqual(ce.center,Z.center)||de.push({command:Nt.setCenter,args:[Z.center]}),s.deepEqual(ce.zoom,Z.zoom)||de.push({command:Nt.setZoom,args:[Z.zoom]}),s.deepEqual(ce.bearing,Z.bearing)||de.push({command:Nt.setBearing,args:[Z.bearing]}),s.deepEqual(ce.pitch,Z.pitch)||de.push({command:Nt.setPitch,args:[Z.pitch]}),s.deepEqual(ce.sprite,Z.sprite)||de.push({command:Nt.setSprite,args:[Z.sprite]}),s.deepEqual(ce.glyphs,Z.glyphs)||de.push({command:Nt.setGlyphs,args:[Z.glyphs]}),s.deepEqual(ce.transition,Z.transition)||de.push({command:Nt.setTransition,args:[Z.transition]}),s.deepEqual(ce.light,Z.light)||de.push({command:Nt.setLight,args:[Z.light]});var q={},pe=[];Hr(ce.sources,Z.sources,pe,q);var Oe=[];ce.layers&&ce.layers.forEach(function(Xe){q[Xe.source]?de.push({command:Nt.removeLayer,args:[Xe.id]}):Oe.push(Xe)}),de=de.concat(pe),tn(Oe,Z.layers,de)}catch(Xe){console.warn("Unable to compute style diff:",Xe),de=[{command:Nt.setStyle,args:[Z]}]}return de}var Tn=function(Z,de){this.reset(Z,de)};Tn.prototype.reset=function(Z,de){this.points=Z||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Tn.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=s.clamp(Z,0,1);for(var de=1,q=this._distances[de],pe=Z*this.paddedLength+this.padding;q<pe&&de<this._distances.length;)q=this._distances[++de];var Oe=de-1,Xe=this._distances[Oe],ut=q-Xe,Lt=ut>0?(pe-Xe)/ut:0;return this.points[Oe].mult(1-Lt).add(this.points[de].mult(Lt))};var Tr=function(Z,de,q){var pe=this.boxCells=[],Oe=this.circleCells=[];this.xCellCount=Math.ceil(Z/q),this.yCellCount=Math.ceil(de/q);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)pe.push([]),Oe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=de,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(Z,de,q,pe,Oe){this._forEachCell(de,q,pe,Oe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(de),this.bboxes.push(q),this.bboxes.push(pe),this.bboxes.push(Oe)},Tr.prototype.insertCircle=function(Z,de,q,pe){this._forEachCell(de-pe,q-pe,de+pe,q+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(de),this.circles.push(q),this.circles.push(pe)},Tr.prototype._insertBoxCell=function(Z,de,q,pe,Oe,Xe){this.boxCells[Oe].push(Xe)},Tr.prototype._insertCircleCell=function(Z,de,q,pe,Oe,Xe){this.circleCells[Oe].push(Xe)},Tr.prototype._query=function(Z,de,q,pe,Oe,Xe){if(q<0||Z>this.width||pe<0||de>this.height)return Oe?!1:[];var ut=[];if(Z<=0&&de<=0&&this.width<=q&&this.height<=pe){if(Oe)return!0;for(var Lt=0;Lt<this.boxKeys.length;Lt++)ut.push({key:this.boxKeys[Lt],x1:this.bboxes[Lt*4],y1:this.bboxes[Lt*4+1],x2:this.bboxes[Lt*4+2],y2:this.bboxes[Lt*4+3]});for(var Vt=0;Vt<this.circleKeys.length;Vt++){var $t=this.circles[Vt*3],ur=this.circles[Vt*3+1],sr=this.circles[Vt*3+2];ut.push({key:this.circleKeys[Vt],x1:$t-sr,y1:ur-sr,x2:$t+sr,y2:ur+sr})}return Xe?ut.filter(Xe):ut}else{var kr={hitTest:Oe,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,de,q,pe,this._queryCell,ut,kr,Xe),Oe?ut.length>0:ut}},Tr.prototype._queryCircle=function(Z,de,q,pe,Oe){var Xe=Z-q,ut=Z+q,Lt=de-q,Vt=de+q;if(ut<0||Xe>this.width||Vt<0||Lt>this.height)return pe?!1:[];var $t=[],ur={hitTest:pe,circle:{x:Z,y:de,radius:q},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,Lt,ut,Vt,this._queryCellCircle,$t,ur,Oe),pe?$t.length>0:$t},Tr.prototype.query=function(Z,de,q,pe,Oe){return this._query(Z,de,q,pe,!1,Oe)},Tr.prototype.hitTest=function(Z,de,q,pe,Oe){return this._query(Z,de,q,pe,!0,Oe)},Tr.prototype.hitTestCircle=function(Z,de,q,pe){return this._queryCircle(Z,de,q,!0,pe)},Tr.prototype._queryCell=function(Z,de,q,pe,Oe,Xe,ut,Lt){var Vt=ut.seenUids,$t=this.boxCells[Oe];if($t!==null)for(var ur=this.bboxes,sr=0,kr=$t;sr<kr.length;sr+=1){var Xr=kr[sr];if(!Vt.box[Xr]){Vt.box[Xr]=!0;var jr=Xr*4;if(Z<=ur[jr+2]&&de<=ur[jr+3]&&q>=ur[jr+0]&&pe>=ur[jr+1]&&(!Lt||Lt(this.boxKeys[Xr]))){if(ut.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Xr],x1:ur[jr],y1:ur[jr+1],x2:ur[jr+2],y2:ur[jr+3]})}}}var Wr=this.circleCells[Oe];if(Wr!==null)for(var Qr=this.circles,dn=0,In=Wr;dn<In.length;dn+=1){var Bn=In[dn];if(!Vt.circle[Bn]){Vt.circle[Bn]=!0;var jn=Bn*3;if(this._circleAndRectCollide(Qr[jn],Qr[jn+1],Qr[jn+2],Z,de,q,pe)&&(!Lt||Lt(this.circleKeys[Bn]))){if(ut.hitTest)return Xe.push(!0),!0;var Xn=Qr[jn],Wn=Qr[jn+1],Kn=Qr[jn+2];Xe.push({key:this.circleKeys[Bn],x1:Xn-Kn,y1:Wn-Kn,x2:Xn+Kn,y2:Wn+Kn})}}}},Tr.prototype._queryCellCircle=function(Z,de,q,pe,Oe,Xe,ut,Lt){var Vt=ut.circle,$t=ut.seenUids,ur=this.boxCells[Oe];if(ur!==null)for(var sr=this.bboxes,kr=0,Xr=ur;kr<Xr.length;kr+=1){var jr=Xr[kr];if(!$t.box[jr]){$t.box[jr]=!0;var Wr=jr*4;if(this._circleAndRectCollide(Vt.x,Vt.y,Vt.radius,sr[Wr+0],sr[Wr+1],sr[Wr+2],sr[Wr+3])&&(!Lt||Lt(this.boxKeys[jr])))return Xe.push(!0),!0}}var Qr=this.circleCells[Oe];if(Qr!==null)for(var dn=this.circles,In=0,Bn=Qr;In<Bn.length;In+=1){var jn=Bn[In];if(!$t.circle[jn]){$t.circle[jn]=!0;var Xn=jn*3;if(this._circlesCollide(dn[Xn],dn[Xn+1],dn[Xn+2],Vt.x,Vt.y,Vt.radius)&&(!Lt||Lt(this.circleKeys[jn])))return Xe.push(!0),!0}}},Tr.prototype._forEachCell=function(Z,de,q,pe,Oe,Xe,ut,Lt){for(var Vt=this._convertToXCellCoord(Z),$t=this._convertToYCellCoord(de),ur=this._convertToXCellCoord(q),sr=this._convertToYCellCoord(pe),kr=Vt;kr<=ur;kr++)for(var Xr=$t;Xr<=sr;Xr++){var jr=this.xCellCount*Xr+kr;if(Oe.call(this,Z,de,q,pe,jr,Xe,ut,Lt))return}},Tr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},Tr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},Tr.prototype._circlesCollide=function(Z,de,q,pe,Oe,Xe){var ut=pe-Z,Lt=Oe-de,Vt=q+Xe;return Vt*Vt>ut*ut+Lt*Lt},Tr.prototype._circleAndRectCollide=function(Z,de,q,pe,Oe,Xe,ut){var Lt=(Xe-pe)/2,Vt=Math.abs(Z-(pe+Lt));if(Vt>Lt+q)return!1;var $t=(ut-Oe)/2,ur=Math.abs(de-(Oe+$t));if(ur>$t+q)return!1;if(Vt<=Lt||ur<=$t)return!0;var sr=Vt-Lt,kr=ur-$t;return sr*sr+kr*kr<=q*q};function zr(ce,Z,de,q,pe){var Oe=s.create();return Z?(s.scale(Oe,Oe,[1/pe,1/pe,1]),de||s.rotateZ(Oe,Oe,q.angle)):s.multiply(Oe,q.labelPlaneMatrix,ce),Oe}function Yr(ce,Z,de,q,pe){if(Z){var Oe=s.clone(ce);return s.scale(Oe,Oe,[pe,pe,1]),de||s.rotateZ(Oe,Oe,-q.angle),Oe}else return q.glCoordMatrix}function Or(ce,Z){var de=[ce.x,ce.y,0,1];mr(de,de,Z);var q=de[3];return{point:new s.Point(de[0]/q,de[1]/q),signedDistanceFromCamera:q}}function ln(ce,Z){return .5+.5*(ce/Z)}function fn(ce,Z){var de=ce[0]/ce[3],q=ce[1]/ce[3],pe=de>=-Z[0]&&de<=Z[0]&&q>=-Z[1]&&q<=Z[1];return pe}function Mn(ce,Z,de,q,pe,Oe,Xe,ut){var Lt=q?ce.textSizeData:ce.iconSizeData,Vt=s.evaluateSizeForZoom(Lt,de.transform.zoom),$t=[256/de.width*2+1,256/de.height*2+1],ur=q?ce.text.dynamicLayoutVertexArray:ce.icon.dynamicLayoutVertexArray;ur.clear();for(var sr=ce.lineVertexArray,kr=q?ce.text.placedSymbolArray:ce.icon.placedSymbolArray,Xr=de.transform.width/de.transform.height,jr=!1,Wr=0;Wr<kr.length;Wr++){var Qr=kr.get(Wr);if(Qr.hidden||Qr.writingMode===s.WritingMode.vertical&&!jr){Qn(Qr.numGlyphs,ur);continue}jr=!1;var dn=[Qr.anchorX,Qr.anchorY,0,1];if(s.transformMat4(dn,dn,Z),!fn(dn,$t)){Qn(Qr.numGlyphs,ur);continue}var In=dn[3],Bn=ln(de.transform.cameraToCenterDistance,In),jn=s.evaluateSizeForFeature(Lt,Vt,Qr),Xn=Xe?jn/Bn:jn*Bn,Wn=new s.Point(Qr.anchorX,Qr.anchorY),Kn=Or(Wn,pe).point,na={},ua=ia(Qr,Xn,!1,ut,Z,pe,Oe,ce.glyphOffsetArray,sr,ur,Kn,Wn,na,Xr);jr=ua.useVertical,(ua.notEnoughRoom||jr||ua.needsFlipping&&ia(Qr,Xn,!0,ut,Z,pe,Oe,ce.glyphOffsetArray,sr,ur,Kn,Wn,na,Xr).notEnoughRoom)&&Qn(Qr.numGlyphs,ur)}q?ce.text.dynamicLayoutVertexBuffer.updateData(ur):ce.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Pn(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t){var ur=ut.glyphStartIndex+ut.numGlyphs,sr=ut.lineStartIndex,kr=ut.lineStartIndex+ut.lineLength,Xr=Z.getoffsetX(ut.glyphStartIndex),jr=Z.getoffsetX(ur-1),Wr=wa(ce*Xr,de,q,pe,Oe,Xe,ut.segment,sr,kr,Lt,Vt,$t);if(!Wr)return null;var Qr=wa(ce*jr,de,q,pe,Oe,Xe,ut.segment,sr,kr,Lt,Vt,$t);return Qr?{first:Wr,last:Qr}:null}function Vn(ce,Z,de,q){if(ce===s.WritingMode.horizontal){var pe=Math.abs(de.y-Z.y),Oe=Math.abs(de.x-Z.x)*q;if(pe>Oe)return{useVertical:!0}}return(ce===s.WritingMode.vertical?Z.y<de.y:Z.x>de.x)?{needsFlipping:!0}:null}function ia(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t,ur,sr,kr){var Xr=Z/24,jr=ce.lineOffsetX*Xr,Wr=ce.lineOffsetY*Xr,Qr;if(ce.numGlyphs>1){var dn=ce.glyphStartIndex+ce.numGlyphs,In=ce.lineStartIndex,Bn=ce.lineStartIndex+ce.lineLength,jn=Pn(Xr,ut,jr,Wr,de,$t,ur,ce,Lt,Oe,sr);if(!jn)return{notEnoughRoom:!0};var Xn=Or(jn.first.point,Xe).point,Wn=Or(jn.last.point,Xe).point;if(q&&!de){var Kn=Vn(ce.writingMode,Xn,Wn,kr);if(Kn)return Kn}Qr=[jn.first];for(var na=ce.glyphStartIndex+1;na<dn-1;na++)Qr.push(wa(Xr*ut.getoffsetX(na),jr,Wr,de,$t,ur,ce.segment,In,Bn,Lt,Oe,sr));Qr.push(jn.last)}else{if(q&&!de){var ua=Or(ur,pe).point,xa=ce.lineStartIndex+ce.segment+1,da=new s.Point(Lt.getx(xa),Lt.gety(xa)),Fa=Or(da,pe),qa=Fa.signedDistanceFromCamera>0?Fa.point:ya(ur,da,ua,1,pe),Xa=Vn(ce.writingMode,ua,qa,kr);if(Xa)return Xa}var Ma=wa(Xr*ut.getoffsetX(ce.glyphStartIndex),jr,Wr,de,$t,ur,ce.segment,ce.lineStartIndex,ce.lineStartIndex+ce.lineLength,Lt,Oe,sr);if(!Ma)return{notEnoughRoom:!0};Qr=[Ma]}for(var Za=0,Ga=Qr;Za<Ga.length;Za+=1){var si=Ga[Za];s.addDynamicAttributes(Vt,si.point,si.angle)}return{}}function ya(ce,Z,de,q,pe){var Oe=Or(ce.add(ce.sub(Z)._unit()),pe).point,Xe=de.sub(Oe);return de.add(Xe._mult(q/Xe.mag()))}function wa(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t,ur){var sr=q?ce-Z:ce+Z,kr=sr>0?1:-1,Xr=0;q&&(kr*=-1,Xr=Math.PI),kr<0&&(Xr+=Math.PI);for(var jr=kr>0?ut+Xe:ut+Xe+1,Wr=pe,Qr=pe,dn=0,In=0,Bn=Math.abs(sr),jn=[];dn+In<=Bn;){if(jr+=kr,jr<ut||jr>=Lt)return null;if(Qr=Wr,jn.push(Wr),Wr=ur[jr],Wr===void 0){var Xn=new s.Point(Vt.getx(jr),Vt.gety(jr)),Wn=Or(Xn,$t);if(Wn.signedDistanceFromCamera>0)Wr=ur[jr]=Wn.point;else{var Kn=jr-kr,na=dn===0?Oe:new s.Point(Vt.getx(Kn),Vt.gety(Kn));Wr=ya(na,Xn,Qr,Bn-dn+1,$t)}}dn+=In,In=Qr.dist(Wr)}var ua=(Bn-dn)/In,xa=Wr.sub(Qr),da=xa.mult(ua)._add(Qr);da._add(xa._unit()._perp()._mult(de*kr));var Fa=Xr+Math.atan2(Wr.y-Qr.y,Wr.x-Qr.x);return jn.push(da),{point:da,angle:Fa,path:jn}}var Gn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ce,Z){for(var de=0;de<ce;de++){var q=Z.length;Z.resize(q+4),Z.float32.set(Gn,q*3)}}function mr(ce,Z,de){var q=Z[0],pe=Z[1];return ce[0]=de[0]*q+de[4]*pe+de[12],ce[1]=de[1]*q+de[5]*pe+de[13],ce[3]=de[3]*q+de[7]*pe+de[15],ce}var en=100,Jr=function(Z,de,q){de===void 0&&(de=new Tr(Z.width+2*en,Z.height+2*en,25)),q===void 0&&(q=new Tr(Z.width+2*en,Z.height+2*en,25)),this.transform=Z,this.grid=de,this.ignoredGrid=q,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+en,this.screenBottomBoundary=Z.height+en,this.gridRightBoundary=Z.width+2*en,this.gridBottomBoundary=Z.height+2*en};Jr.prototype.placeCollisionBox=function(Z,de,q,pe,Oe){var Xe=this.projectAndGetPerspectiveRatio(pe,Z.anchorPointX,Z.anchorPointY),ut=q*Xe.perspectiveRatio,Lt=Z.x1*ut+Xe.point.x,Vt=Z.y1*ut+Xe.point.y,$t=Z.x2*ut+Xe.point.x,ur=Z.y2*ut+Xe.point.y;return!this.isInsideGrid(Lt,Vt,$t,ur)||!de&&this.grid.hitTest(Lt,Vt,$t,ur,Oe)?{box:[],offscreen:!1}:{box:[Lt,Vt,$t,ur],offscreen:this.isOffscreen(Lt,Vt,$t,ur)}},Jr.prototype.placeCollisionCircles=function(Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t,ur,sr,kr){var Xr=[],jr=new s.Point(de.anchorX,de.anchorY),Wr=Or(jr,Xe),Qr=ln(this.transform.cameraToCenterDistance,Wr.signedDistanceFromCamera),dn=$t?Oe/Qr:Oe*Qr,In=dn/s.ONE_EM,Bn=Or(jr,ut).point,jn={},Xn=de.lineOffsetX*In,Wn=de.lineOffsetY*In,Kn=Pn(In,pe,Xn,Wn,!1,Bn,jr,de,q,ut,jn),na=!1,ua=!1,xa=!0;if(Kn){for(var da=sr*.5*Qr+kr,Fa=new s.Point(-en,-en),qa=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),Xa=new Tn,Ma=Kn.first,Za=Kn.last,Ga=[],si=Ma.path.length-1;si>=1;si--)Ga.push(Ma.path[si]);for(var ri=1;ri<Za.path.length;ri++)Ga.push(Za.path[ri]);var Si=da*2.5;if(Lt){var $a=Ga.map(function(pl){return Or(pl,Lt)});$a.some(function(pl){return pl.signedDistanceFromCamera<=0})?Ga=[]:Ga=$a.map(function(pl){return pl.point})}var mi=[];if(Ga.length>0){for(var Wa=Ga[0].clone(),ei=Ga[0].clone(),Bi=1;Bi<Ga.length;Bi++)Wa.x=Math.min(Wa.x,Ga[Bi].x),Wa.y=Math.min(Wa.y,Ga[Bi].y),ei.x=Math.max(ei.x,Ga[Bi].x),ei.y=Math.max(ei.y,Ga[Bi].y);Wa.x>=Fa.x&&ei.x<=qa.x&&Wa.y>=Fa.y&&ei.y<=qa.y?mi=[Ga]:ei.x<Fa.x||Wa.x>qa.x||ei.y<Fa.y||Wa.y>qa.y?mi=[]:mi=s.clipLine([Ga],Fa.x,Fa.y,qa.x,qa.y)}for(var yo=0,Ks=mi;yo<Ks.length;yo+=1){var Js=Ks[yo];Xa.reset(Js,da*.25);var vl=0;Xa.length<=.5*da?vl=1:vl=Math.ceil(Xa.paddedLength/Si)+1;for(var Wl=0;Wl<vl;Wl++){var Ef=Wl/Math.max(vl-1,1),Yl=Xa.lerp(Ef),rs=Yl.x+en,jl=Yl.y+en;Xr.push(rs,jl,da,0);var ys=rs-da,ns=jl-da,dl=rs+da,Tu=jl+da;if(xa=xa&&this.isOffscreen(ys,ns,dl,Tu),ua=ua||this.isInsideGrid(ys,ns,dl,Tu),!Z&&this.grid.hitTestCircle(rs,jl,da,ur)&&(na=!0,!Vt))return{circles:[],offscreen:!1,collisionDetected:na}}}}return{circles:!Vt&&na||!ua?[]:Xr,offscreen:xa,collisionDetected:na}},Jr.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],q=1/0,pe=1/0,Oe=-1/0,Xe=-1/0,ut=0,Lt=Z;ut<Lt.length;ut+=1){var Vt=Lt[ut],$t=new s.Point(Vt.x+en,Vt.y+en);q=Math.min(q,$t.x),pe=Math.min(pe,$t.y),Oe=Math.max(Oe,$t.x),Xe=Math.max(Xe,$t.y),de.push($t)}for(var ur=this.grid.query(q,pe,Oe,Xe).concat(this.ignoredGrid.query(q,pe,Oe,Xe)),sr={},kr={},Xr=0,jr=ur;Xr<jr.length;Xr+=1){var Wr=jr[Xr],Qr=Wr.key;if(sr[Qr.bucketInstanceId]===void 0&&(sr[Qr.bucketInstanceId]={}),!sr[Qr.bucketInstanceId][Qr.featureIndex]){var dn=[new s.Point(Wr.x1,Wr.y1),new s.Point(Wr.x2,Wr.y1),new s.Point(Wr.x2,Wr.y2),new s.Point(Wr.x1,Wr.y2)];s.polygonIntersectsPolygon(de,dn)&&(sr[Qr.bucketInstanceId][Qr.featureIndex]=!0,kr[Qr.bucketInstanceId]===void 0&&(kr[Qr.bucketInstanceId]=[]),kr[Qr.bucketInstanceId].push(Qr.featureIndex))}}return kr},Jr.prototype.insertCollisionBox=function(Z,de,q,pe,Oe){var Xe=de?this.ignoredGrid:this.grid,ut={bucketInstanceId:q,featureIndex:pe,collisionGroupID:Oe};Xe.insert(ut,Z[0],Z[1],Z[2],Z[3])},Jr.prototype.insertCollisionCircles=function(Z,de,q,pe,Oe){for(var Xe=de?this.ignoredGrid:this.grid,ut={bucketInstanceId:q,featureIndex:pe,collisionGroupID:Oe},Lt=0;Lt<Z.length;Lt+=4)Xe.insertCircle(ut,Z[Lt],Z[Lt+1],Z[Lt+2])},Jr.prototype.projectAndGetPerspectiveRatio=function(Z,de,q){var pe=[de,q,0,1];mr(pe,pe,Z);var Oe=new s.Point((pe[0]/pe[3]+1)/2*this.transform.width+en,(-pe[1]/pe[3]+1)/2*this.transform.height+en);return{point:Oe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},Jr.prototype.isOffscreen=function(Z,de,q,pe){return q<en||Z>=this.screenRightBoundary||pe<en||de>this.screenBottomBoundary},Jr.prototype.isInsideGrid=function(Z,de,q,pe){return q>=0&&Z<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},Jr.prototype.getViewportMatrix=function(){var Z=s.identity([]);return s.translate(Z,Z,[-en,-en,0]),Z};function vn(ce,Z,de){return Z*(s.EXTENT/(ce.tileSize*Math.pow(2,de-ce.tileID.overscaledZ)))}var On=function(Z,de,q,pe){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?de:-de))):this.opacity=pe&&q?1:0,this.placed=q};On.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var bn=function(Z,de,q,pe,Oe){this.text=new On(Z?Z.text:null,de,q,Oe),this.icon=new On(Z?Z.icon:null,de,pe,Oe)};bn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var An=function(Z,de,q){this.text=Z,this.icon=de,this.skipFade=q},Fn=function(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]},$n=function(Z,de,q,pe,Oe){this.bucketInstanceId=Z,this.featureIndex=de,this.sourceLayerIndex=q,this.bucketIndex=pe,this.tileID=Oe},ha=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};ha.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var de=++this.maxGroupID;this.collisionGroups[Z]={ID:de,predicate:function(q){return q.collisionGroupID===de}}}return this.collisionGroups[Z]};function Ia(ce,Z,de,q,pe){var Oe=s.getAnchorAlignment(ce),Xe=Oe.horizontalAlign,ut=Oe.verticalAlign,Lt=-(Xe-.5)*Z,Vt=-(ut-.5)*de,$t=s.evaluateVariableOffset(ce,q);return new s.Point(Lt+$t[0]*pe,Vt+$t[1]*pe)}function Mr(ce,Z,de,q,pe,Oe){var Xe=ce.x1,ut=ce.x2,Lt=ce.y1,Vt=ce.y2,$t=ce.anchorPointX,ur=ce.anchorPointY,sr=new s.Point(Z,de);return q&&sr._rotate(pe?Oe:-Oe),{x1:Xe+sr.x,y1:Lt+sr.y,x2:ut+sr.x,y2:Vt+sr.y,anchorPointX:$t,anchorPointY:ur}}var Fr=function(Z,de,q,pe){this.transform=Z.clone(),this.collisionIndex=new Jr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new ha(q),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};Fr.prototype.getBucketParts=function(Z,de,q,pe){var Oe=q.getBucket(de),Xe=q.latestFeatureIndex;if(!(!Oe||!Xe||de.id!==Oe.layerIds[0])){var ut=q.collisionBoxArray,Lt=Oe.layers[0].layout,Vt=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),$t=q.tileSize/s.EXTENT,ur=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),sr=Lt.get("text-pitch-alignment")==="map",kr=Lt.get("text-rotation-alignment")==="map",Xr=vn(q,1,this.transform.zoom),jr=zr(ur,sr,kr,this.transform,Xr),Wr=null;if(sr){var Qr=Yr(ur,sr,kr,this.transform,Xr);Wr=s.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[Oe.bucketInstanceId]=new $n(Oe.bucketInstanceId,Xe,Oe.sourceLayerIndex,Oe.index,q.tileID);var dn={bucket:Oe,layout:Lt,posMatrix:ur,textLabelPlaneMatrix:jr,labelToScreenMatrix:Wr,scale:Vt,textPixelRatio:$t,holdingForFade:q.holdingForFade(),collisionBoxArray:ut,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(Oe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Oe.sourceID)};if(pe)for(var In=0,Bn=Oe.sortKeyRanges;In<Bn.length;In+=1){var jn=Bn[In],Xn=jn.sortKey,Wn=jn.symbolInstanceStart,Kn=jn.symbolInstanceEnd;Z.push({sortKey:Xn,symbolInstanceStart:Wn,symbolInstanceEnd:Kn,parameters:dn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Oe.symbolInstances.length,parameters:dn})}},Fr.prototype.attemptAnchorPlacement=function(Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t,ur,sr,kr,Xr,jr){var Wr=[sr.textOffset0,sr.textOffset1],Qr=Ia(Z,q,pe,Wr,Oe),dn=this.collisionIndex.placeCollisionBox(Mr(de,Qr.x,Qr.y,Xe,ut,this.transform.angle),ur,Lt,Vt,$t.predicate);if(jr){var In=this.collisionIndex.placeCollisionBox(Mr(jr,Qr.x,Qr.y,Xe,ut,this.transform.angle),ur,Lt,Vt,$t.predicate);if(In.box.length===0)return}if(dn.box.length>0){var Bn;return this.prevPlacement&&this.prevPlacement.variableOffsets[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID].text&&(Bn=this.prevPlacement.variableOffsets[sr.crossTileID].anchor),this.variableOffsets[sr.crossTileID]={textOffset:Wr,width:q,height:pe,anchor:Z,textBoxScale:Oe,prevAnchor:Bn},this.markUsedJustification(kr,Z,sr,Xr),kr.allowVerticalPlacement&&(this.markUsedOrientation(kr,Xr,sr),this.placedOrientations[sr.crossTileID]=Xr),{shift:Qr,placedGlyphBoxes:dn}}},Fr.prototype.placeLayerBucketPart=function(Z,de,q){var pe=this,Oe=Z.parameters,Xe=Oe.bucket,ut=Oe.layout,Lt=Oe.posMatrix,Vt=Oe.textLabelPlaneMatrix,$t=Oe.labelToScreenMatrix,ur=Oe.textPixelRatio,sr=Oe.holdingForFade,kr=Oe.collisionBoxArray,Xr=Oe.partiallyEvaluatedTextSize,jr=Oe.collisionGroup,Wr=ut.get("text-optional"),Qr=ut.get("icon-optional"),dn=ut.get("text-allow-overlap"),In=ut.get("icon-allow-overlap"),Bn=ut.get("text-rotation-alignment")==="map",jn=ut.get("text-pitch-alignment")==="map",Xn=ut.get("icon-text-fit")!=="none",Wn=ut.get("symbol-z-order")==="viewport-y",Kn=dn&&(In||!Xe.hasIconData()||Qr),na=In&&(dn||!Xe.hasTextData()||Wr);!Xe.collisionArrays&&kr&&Xe.deserializeCollisionBoxes(kr);var ua=function(Ma,Za){if(!de[Ma.crossTileID]){if(sr){pe.placements[Ma.crossTileID]=new An(!1,!1,!1);return}var Ga=!1,si=!1,ri=!0,Si=null,$a={box:null,offscreen:null},mi={box:null,offscreen:null},Wa=null,ei=null,Bi=null,yo=0,Ks=0,Js=0;Za.textFeatureIndex?yo=Za.textFeatureIndex:Ma.useRuntimeCollisionCircles&&(yo=Ma.featureIndex),Za.verticalTextFeatureIndex&&(Ks=Za.verticalTextFeatureIndex);var vl=Za.textBox;if(vl){var Wl=function(Yi){var ms=s.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!Yi&&pe.prevPlacement){var xs=pe.prevPlacement.placedOrientations[Ma.crossTileID];xs&&(pe.placedOrientations[Ma.crossTileID]=xs,ms=xs,pe.markUsedOrientation(Xe,ms,Ma))}return ms},Ef=function(Yi,ms){if(Xe.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Za.verticalTextBox)for(var xs=0,Vh=Xe.writingModes;xs<Vh.length;xs+=1){var Gv=Vh[xs];if(Gv===s.WritingMode.vertical?($a=ms(),mi=$a):$a=Yi(),$a&&$a.box&&$a.box.length)break}else $a=Yi()};if(ut.get("text-variable-anchor")){var ys=ut.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Ma.crossTileID]){var ns=pe.prevPlacement.variableOffsets[Ma.crossTileID];ys.indexOf(ns.anchor)>0&&(ys=ys.filter(function(Yi){return Yi!==ns.anchor}),ys.unshift(ns.anchor))}var dl=function(Yi,ms,xs){for(var Vh=Yi.x2-Yi.x1,Gv=Yi.y2-Yi.y1,W0=Ma.textBoxScale,Y0=Xn&&!In?ms:null,dh={box:[],offscreen:!1},j0=dn?ys.length*2:ys.length,Hh=0;Hh<j0;++Hh){var X0=ys[Hh%ys.length],Z0=Hh>=ys.length,Wv=pe.attemptAnchorPlacement(X0,Yi,Vh,Gv,W0,Bn,jn,ur,Lt,jr,Z0,Ma,Xe,xs,Y0);if(Wv&&(dh=Wv.placedGlyphBoxes,dh&&dh.box&&dh.box.length)){Ga=!0,Si=Wv.shift;break}}return dh},Tu=function(){return dl(vl,Za.iconBox,s.WritingMode.horizontal)},pl=function(){var Yi=Za.verticalTextBox,ms=$a&&$a.box&&$a.box.length;return Xe.allowVerticalPlacement&&!ms&&Ma.numVerticalGlyphVertices>0&&Yi?dl(Yi,Za.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}};Ef(Tu,pl),$a&&(Ga=$a.box,ri=$a.offscreen);var Oh=Wl($a&&$a.box);if(!Ga&&pe.prevPlacement){var dc=pe.prevPlacement.variableOffsets[Ma.crossTileID];dc&&(pe.variableOffsets[Ma.crossTileID]=dc,pe.markUsedJustification(Xe,dc.anchor,Ma,Oh))}}else{var Yl=function(Yi,ms){var xs=pe.collisionIndex.placeCollisionBox(Yi,dn,ur,Lt,jr.predicate);return xs&&xs.box&&xs.box.length&&(pe.markUsedOrientation(Xe,ms,Ma),pe.placedOrientations[Ma.crossTileID]=ms),xs},rs=function(){return Yl(vl,s.WritingMode.horizontal)},jl=function(){var Yi=Za.verticalTextBox;return Xe.allowVerticalPlacement&&Ma.numVerticalGlyphVertices>0&&Yi?Yl(Yi,s.WritingMode.vertical):{box:null,offscreen:null}};Ef(rs,jl),Wl($a&&$a.box&&$a.box.length)}}if(Wa=$a,Ga=Wa&&Wa.box&&Wa.box.length>0,ri=Wa&&Wa.offscreen,Ma.useRuntimeCollisionCircles){var To=Xe.text.placedSymbolArray.get(Ma.centerJustifiedTextSymbolIndex),Fh=s.evaluateSizeForFeature(Xe.textSizeData,Xr,To),vh=ut.get("text-padding"),Ho=Ma.collisionCircleDiameter;ei=pe.collisionIndex.placeCollisionCircles(dn,To,Xe.lineVertexArray,Xe.glyphOffsetArray,Fh,Lt,Vt,$t,q,jn,jr.predicate,Ho,vh),Ga=dn||ei.circles.length>0&&!ei.collisionDetected,ri=ri&&ei.offscreen}if(Za.iconFeatureIndex&&(Js=Za.iconFeatureIndex),Za.iconBox){var pc=function(Yi){var ms=Xn&&Si?Mr(Yi,Si.x,Si.y,Bn,jn,pe.transform.angle):Yi;return pe.collisionIndex.placeCollisionBox(ms,In,ur,Lt,jr.predicate)};mi&&mi.box&&mi.box.length&&Za.verticalIconBox?(Bi=pc(Za.verticalIconBox),si=Bi.box.length>0):(Bi=pc(Za.iconBox),si=Bi.box.length>0),ri=ri&&Bi.offscreen}var Nh=Wr||Ma.numHorizontalGlyphVertices===0&&Ma.numVerticalGlyphVertices===0,Bh=Qr||Ma.numIconVertices===0;if(!Nh&&!Bh?si=Ga=si&&Ga:Bh?Nh||(si=si&&Ga):Ga=si&&Ga,Ga&&Wa&&Wa.box&&(mi&&mi.box&&Ks?pe.collisionIndex.insertCollisionBox(Wa.box,ut.get("text-ignore-placement"),Xe.bucketInstanceId,Ks,jr.ID):pe.collisionIndex.insertCollisionBox(Wa.box,ut.get("text-ignore-placement"),Xe.bucketInstanceId,yo,jr.ID)),si&&Bi&&pe.collisionIndex.insertCollisionBox(Bi.box,ut.get("icon-ignore-placement"),Xe.bucketInstanceId,Js,jr.ID),ei&&(Ga&&pe.collisionIndex.insertCollisionCircles(ei.circles,ut.get("text-ignore-placement"),Xe.bucketInstanceId,yo,jr.ID),q)){var Uh=Xe.bucketInstanceId,gc=pe.collisionCircleArrays[Uh];gc===void 0&&(gc=pe.collisionCircleArrays[Uh]=new Fn);for(var yc=0;yc<ei.circles.length;yc+=4)gc.circles.push(ei.circles[yc+0]),gc.circles.push(ei.circles[yc+1]),gc.circles.push(ei.circles[yc+2]),gc.circles.push(ei.collisionDetected?1:0)}pe.placements[Ma.crossTileID]=new An(Ga||Kn,si||na,ri||Xe.justReloaded),de[Ma.crossTileID]=!0}};if(Wn)for(var xa=Xe.getSortedSymbolIndexes(this.transform.angle),da=xa.length-1;da>=0;--da){var Fa=xa[da];ua(Xe.symbolInstances.get(Fa),Xe.collisionArrays[Fa])}else for(var qa=Z.symbolInstanceStart;qa<Z.symbolInstanceEnd;qa++)ua(Xe.symbolInstances.get(qa),Xe.collisionArrays[qa]);if(q&&Xe.bucketInstanceId in this.collisionCircleArrays){var Xa=this.collisionCircleArrays[Xe.bucketInstanceId];s.invert(Xa.invProjMatrix,Lt),Xa.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Fr.prototype.markUsedJustification=function(Z,de,q,pe){var Oe={left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex},Xe;pe===s.WritingMode.vertical?Xe=q.verticalPlacedTextSymbolIndex:Xe=Oe[s.getAnchorJustification(de)];for(var ut=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex],Lt=0,Vt=ut;Lt<Vt.length;Lt+=1){var $t=Vt[Lt];$t>=0&&(Xe>=0&&$t!==Xe?Z.text.placedSymbolArray.get($t).crossTileID=0:Z.text.placedSymbolArray.get($t).crossTileID=q.crossTileID)}},Fr.prototype.markUsedOrientation=function(Z,de,q){for(var pe=de===s.WritingMode.horizontal||de===s.WritingMode.horizontalOnly?de:0,Oe=de===s.WritingMode.vertical?de:0,Xe=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex],ut=0,Lt=Xe;ut<Lt.length;ut+=1){var Vt=Lt[ut];Z.text.placedSymbolArray.get(Vt).placedOrientation=pe}q.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=Oe)},Fr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,q=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(Z):1,Oe=de?de.opacities:{},Xe=de?de.variableOffsets:{},ut=de?de.placedOrientations:{};for(var Lt in this.placements){var Vt=this.placements[Lt],$t=Oe[Lt];$t?(this.opacities[Lt]=new bn($t,pe,Vt.text,Vt.icon),q=q||Vt.text!==$t.text.placed||Vt.icon!==$t.icon.placed):(this.opacities[Lt]=new bn(null,pe,Vt.text,Vt.icon,Vt.skipFade),q=q||Vt.text||Vt.icon)}for(var ur in Oe){var sr=Oe[ur];if(!this.opacities[ur]){var kr=new bn(sr,pe,!1,!1);kr.isHidden()||(this.opacities[ur]=kr,q=q||sr.text.placed||sr.icon.placed)}}for(var Xr in Xe)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=Xe[Xr]);for(var jr in ut)!this.placedOrientations[jr]&&this.opacities[jr]&&!this.opacities[jr].isHidden()&&(this.placedOrientations[jr]=ut[jr]);q?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:Z)},Fr.prototype.updateLayerOpacities=function(Z,de){for(var q={},pe=0,Oe=de;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe.getBucket(Z);ut&&Xe.latestFeatureIndex&&Z.id===ut.layerIds[0]&&this.updateBucketOpacities(ut,q,Xe.collisionBoxArray)}},Fr.prototype.updateBucketOpacities=function(Z,de,q){var pe=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Oe=Z.layers[0].layout,Xe=new bn(null,0,!1,!1,!0),ut=Oe.get("text-allow-overlap"),Lt=Oe.get("icon-allow-overlap"),Vt=Oe.get("text-variable-anchor"),$t=Oe.get("text-rotation-alignment")==="map",ur=Oe.get("text-pitch-alignment")==="map",sr=Oe.get("icon-text-fit")!=="none",kr=new bn(null,0,ut&&(Lt||!Z.hasIconData()||Oe.get("icon-optional")),Lt&&(ut||!Z.hasTextData()||Oe.get("text-optional")),!0);!Z.collisionArrays&&q&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(q);for(var Xr=function(dn,In,Bn){for(var jn=0;jn<In/4;jn++)dn.opacityVertexArray.emplaceBack(Bn)},jr=function(dn){var In=Z.symbolInstances.get(dn),Bn=In.numHorizontalGlyphVertices,jn=In.numVerticalGlyphVertices,Xn=In.crossTileID,Wn=de[Xn],Kn=pe.opacities[Xn];Wn?Kn=Xe:Kn||(Kn=kr,pe.opacities[Xn]=Kn),de[Xn]=!0;var na=Bn>0||jn>0,ua=In.numIconVertices>0,xa=pe.placedOrientations[In.crossTileID],da=xa===s.WritingMode.vertical,Fa=xa===s.WritingMode.horizontal||xa===s.WritingMode.horizontalOnly;if(na){var qa=Gr(Kn.text),Xa=da?qr:qa;Xr(Z.text,Bn,Xa);var Ma=Fa?qr:qa;Xr(Z.text,jn,Ma);var Za=Kn.text.isHidden();[In.rightJustifiedTextSymbolIndex,In.centerJustifiedTextSymbolIndex,In.leftJustifiedTextSymbolIndex].forEach(function(Js){Js>=0&&(Z.text.placedSymbolArray.get(Js).hidden=Za||da?1:0)}),In.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(In.verticalPlacedTextSymbolIndex).hidden=Za||Fa?1:0);var Ga=pe.variableOffsets[In.crossTileID];Ga&&pe.markUsedJustification(Z,Ga.anchor,In,xa);var si=pe.placedOrientations[In.crossTileID];si&&(pe.markUsedJustification(Z,"left",In,si),pe.markUsedOrientation(Z,si,In))}if(ua){var ri=Gr(Kn.icon),Si=!(sr&&In.verticalPlacedIconSymbolIndex&&da);if(In.placedIconSymbolIndex>=0){var $a=Si?ri:qr;Xr(Z.icon,In.numIconVertices,$a),Z.icon.placedSymbolArray.get(In.placedIconSymbolIndex).hidden=Kn.icon.isHidden()}if(In.verticalPlacedIconSymbolIndex>=0){var mi=Si?qr:ri;Xr(Z.icon,In.numVerticalIconVertices,mi),Z.icon.placedSymbolArray.get(In.verticalPlacedIconSymbolIndex).hidden=Kn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Wa=Z.collisionArrays[dn];if(Wa){var ei=new s.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var Bi=!0;if(Vt){var yo=pe.variableOffsets[Xn];yo?(ei=Ia(yo.anchor,yo.width,yo.height,yo.textOffset,yo.textBoxScale),$t&&ei._rotate(ur?pe.transform.angle:-pe.transform.angle)):Bi=!1}Wa.textBox&&Ar(Z.textCollisionBox.collisionVertexArray,Kn.text.placed,!Bi||da,ei.x,ei.y),Wa.verticalTextBox&&Ar(Z.textCollisionBox.collisionVertexArray,Kn.text.placed,!Bi||Fa,ei.x,ei.y)}var Ks=!!(!Fa&&Wa.verticalIconBox);Wa.iconBox&&Ar(Z.iconCollisionBox.collisionVertexArray,Kn.icon.placed,Ks,sr?ei.x:0,sr?ei.y:0),Wa.verticalIconBox&&Ar(Z.iconCollisionBox.collisionVertexArray,Kn.icon.placed,!Ks,sr?ei.x:0,sr?ei.y:0)}}},Wr=0;Wr<Z.symbolInstances.length;Wr++)jr(Wr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Qr.invProjMatrix,Z.placementViewportMatrix=Qr.viewportMatrix,Z.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},Fr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Fr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},Fr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},Fr.prototype.stillRecent=function(Z,de){var q=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*q>Z},Fr.prototype.setStale=function(){this.stale=!0};function Ar(ce,Z,de,q,pe){ce.emplaceBack(Z?1:0,de?1:0,q||0,pe||0),ce.emplaceBack(Z?1:0,de?1:0,q||0,pe||0),ce.emplaceBack(Z?1:0,de?1:0,q||0,pe||0),ce.emplaceBack(Z?1:0,de?1:0,q||0,pe||0)}var Nr=Math.pow(2,25),mn=Math.pow(2,24),Rn=Math.pow(2,17),gn=Math.pow(2,16),un=Math.pow(2,9),Er=Math.pow(2,8),Zr=Math.pow(2,1);function Gr(ce){if(ce.opacity===0&&!ce.placed)return 0;if(ce.opacity===1&&ce.placed)return 4294967295;var Z=ce.placed?1:0,de=Math.floor(ce.opacity*127);return de*Nr+Z*mn+de*Rn+Z*gn+de*un+Z*Er+de*Zr+Z}var qr=0,wn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(Z,de,q,pe,Oe){for(var Xe=this._bucketParts;this._currentTileIndex<Z.length;){var ut=Z[this._currentTileIndex];if(de.getBucketParts(Xe,pe,ut,this._sortAcrossTiles),this._currentTileIndex++,Oe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Vt,$t){return Vt.sortKey-$t.sortKey}));this._currentPartIndex<Xe.length;){var Lt=Xe[this._currentPartIndex];if(de.placeLayerBucketPart(Lt,this._seenCrossTileIDs,q),this._currentPartIndex++,Oe())return!0}return!1};var zn=function(Z,de,q,pe,Oe,Xe,ut){this.placement=new Fr(Z,Oe,Xe,ut),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=pe,this._done=!1};zn.prototype.isDone=function(){return this._done},zn.prototype.continuePlacement=function(Z,de,q){for(var pe=this,Oe=s.browser.now(),Xe=function(){var ur=s.browser.now()-Oe;return pe._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var ut=Z[this._currentPlacementIndex],Lt=de[ut],Vt=this.placement.collisionIndex.transform.zoom;if(Lt.type==="symbol"&&(!Lt.minzoom||Lt.minzoom<=Vt)&&(!Lt.maxzoom||Lt.maxzoom>Vt)){this._inProgressLayer||(this._inProgressLayer=new wn(Lt));var $t=this._inProgressLayer.continuePlacement(q[Lt.source],this.placement,this._showCollisionBoxes,Lt,Xe);if($t)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},zn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var En=512/s.EXTENT/2,Un=function(Z,de,q){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var pe=0;pe<de.length;pe++){var Oe=de.get(pe),Xe=Oe.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:Oe.crossTileID,coord:this.getScaledCoordinates(Oe,Z)})}};Un.prototype.getScaledCoordinates=function(Z,de){var q=de.canonical.z-this.tileID.canonical.z,pe=En/Math.pow(2,q);return{x:Math.floor((de.canonical.x*s.EXTENT+Z.anchorX)*pe),y:Math.floor((de.canonical.y*s.EXTENT+Z.anchorY)*pe)}},Un.prototype.findMatches=function(Z,de,q){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),Oe=0;Oe<Z.length;Oe++){var Xe=Z.get(Oe);if(!Xe.crossTileID){var ut=this.indexedSymbolInstances[Xe.key];if(ut)for(var Lt=this.getScaledCoordinates(Xe,de),Vt=0,$t=ut;Vt<$t.length;Vt+=1){var ur=$t[Vt];if(Math.abs(ur.coord.x-Lt.x)<=pe&&Math.abs(ur.coord.y-Lt.y)<=pe&&!q[ur.crossTileID]){q[ur.crossTileID]=!0,Xe.crossTileID=ur.crossTileID;break}}}}};var Nn=function(){this.maxCrossTileID=0};Nn.prototype.generate=function(){return++this.maxCrossTileID};var va=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};va.prototype.handleWrapJump=function(Z){var de=Math.round((Z-this.lng)/360);if(de!==0)for(var q in this.indexes){var pe=this.indexes[q],Oe={};for(var Xe in pe){var ut=pe[Xe];ut.tileID=ut.tileID.unwrapTo(ut.tileID.wrap+de),Oe[ut.tileID.key]=ut}this.indexes[q]=Oe}this.lng=Z},va.prototype.addBucket=function(Z,de,q){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var Oe=de.symbolInstances.get(pe);Oe.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var Xe=this.usedCrossTileIDs[Z.overscaledZ];for(var ut in this.indexes){var Lt=this.indexes[ut];if(Number(ut)>Z.overscaledZ)for(var Vt in Lt){var $t=Lt[Vt];$t.tileID.isChildOf(Z)&&$t.findMatches(de.symbolInstances,Z,Xe)}else{var ur=Z.scaledTo(Number(ut)),sr=Lt[ur.key];sr&&sr.findMatches(de.symbolInstances,Z,Xe)}}for(var kr=0;kr<de.symbolInstances.length;kr++){var Xr=de.symbolInstances.get(kr);Xr.crossTileID||(Xr.crossTileID=q.generate(),Xe[Xr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Un(Z,de.symbolInstances,de.bucketInstanceId),!0},va.prototype.removeBucketCrossTileIDs=function(Z,de){for(var q in de.indexedSymbolInstances)for(var pe=0,Oe=de.indexedSymbolInstances[q];pe<Oe.length;pe+=1){var Xe=Oe[pe];delete this.usedCrossTileIDs[Z][Xe.crossTileID]}},va.prototype.removeStaleBuckets=function(Z){var de=!1;for(var q in this.indexes){var pe=this.indexes[q];for(var Oe in pe)Z[pe[Oe].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,pe[Oe]),delete pe[Oe],de=!0)}return de};var sa=function(){this.layerIndexes={},this.crossTileIDs=new Nn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sa.prototype.addLayer=function(Z,de,q){var pe=this.layerIndexes[Z.id];pe===void 0&&(pe=this.layerIndexes[Z.id]=new va);var Oe=!1,Xe={};pe.handleWrapJump(q);for(var ut=0,Lt=de;ut<Lt.length;ut+=1){var Vt=Lt[ut],$t=Vt.getBucket(Z);!$t||Z.id!==$t.layerIds[0]||($t.bucketInstanceId||($t.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Vt.tileID,$t,this.crossTileIDs)&&(Oe=!0),Xe[$t.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Xe)&&(Oe=!0),Oe},sa.prototype.pruneUnusedLayers=function(Z){var de={};Z.forEach(function(pe){de[pe]=!0});for(var q in this.layerIndexes)de[q]||delete this.layerIndexes[q]};var ga=function(ce,Z){return s.emitValidationErrors(ce,Z&&Z.filter(function(de){return de.identifier!=="source.canvas"}))},_a=s.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),gi=s.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ai=er(),ko=function(ce){function Z(de,q){var pe=this;q===void 0&&(q={}),ce.call(this),this.map=de,this.dispatcher=new D(Ot(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new M(de._requestManager,q.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new sa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());var Oe=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(Xe){var ut={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};Oe.dispatcher.broadcast("syncRTLPluginState",ut,function(Lt,Vt){if(s.triggerPluginCompletionEvent(Lt),Vt){var $t=Vt.every(function(sr){return sr});if($t)for(var ur in Oe.sourceCaches)Oe.sourceCaches[ur].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var ut=pe.sourceCaches[Xe.sourceId];if(ut){var Lt=ut.getSource();if(!(!Lt||!Lt.vectorLayerIds))for(var Vt in pe._layers){var $t=pe._layers[Vt];$t.source===Lt.id&&pe._validateLayer($t)}}}})}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(q,pe){var Oe=this;pe===void 0&&(pe={}),this.fire(new s.Event("dataloading",{dataType:"style"}));var Xe=typeof pe.validate=="boolean"?pe.validate:!s.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,pe.accessToken);var ut=this.map._requestManager.transformRequest(q,s.ResourceType.Style);this._request=s.getJSON(ut,function(Lt,Vt){Oe._request=null,Lt?Oe.fire(new s.ErrorEvent(Lt)):Vt&&Oe._load(Vt,Xe)})},Z.prototype.loadJSON=function(q,pe){var Oe=this;pe===void 0&&(pe={}),this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.browser.frame(function(){Oe._request=null,Oe._load(q,pe.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(ai,!1)},Z.prototype._load=function(q,pe){if(!(pe&&ga(this,s.validateStyle(q)))){this._loaded=!0,this.stylesheet=q;for(var Oe in q.sources)this.addSource(Oe,q.sources[Oe],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var Xe=fr(this.stylesheet.layers);this._order=Xe.map(function($t){return $t.id}),this._layers={},this._serializedLayers={};for(var ut=0,Lt=Xe;ut<Lt.length;ut+=1){var Vt=Lt[ut];Vt=s.createStyleLayer(Vt),Vt.setEventedParent(this,{layer:{id:Vt.id}}),this._layers[Vt.id]=Vt,this._serializedLayers[Vt.id]=Vt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}},Z.prototype._loadSprite=function(q){var pe=this;this._spriteRequest=l(q,this.map._requestManager,function(Oe,Xe){if(pe._spriteRequest=null,Oe)pe.fire(new s.ErrorEvent(Oe));else if(Xe)for(var ut in Xe)pe.imageManager.addImage(ut,Xe[ut]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new s.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(q){var pe=this.sourceCaches[q.source];if(pe){var Oe=q.sourceLayer;if(Oe){var Xe=pe.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(Oe)===-1)&&this.fire(new s.ErrorEvent(new Error('Source layer "'+Oe+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+q.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(q){for(var pe=[],Oe=0,Xe=q;Oe<Xe.length;Oe+=1){var ut=Xe[Oe],Lt=this._layers[ut];Lt.type!=="custom"&&pe.push(Lt.serialize())}return pe},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(q){if(this._loaded){var pe=this._changed;if(this._changed){var Oe=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(Oe.length||Xe.length)&&this._updateWorkerLayers(Oe,Xe);for(var ut in this._updatedSources){var Lt=this._updatedSources[ut];Lt==="reload"?this._reloadSource(ut):Lt==="clear"&&this._clearSource(ut)}this._updateTilesForChangedImages();for(var Vt in this._updatedPaintProps)this._layers[Vt].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}var $t={};for(var ur in this.sourceCaches){var sr=this.sourceCaches[ur];$t[ur]=sr.used,sr.used=!1}for(var kr=0,Xr=this._order;kr<Xr.length;kr+=1){var jr=Xr[kr],Wr=this._layers[jr];Wr.recalculate(q,this._availableImages),!Wr.isHidden(q.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}for(var Qr in $t){var dn=this.sourceCaches[Qr];$t[Qr]!==dn.used&&dn.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Qr}))}this.light.recalculate(q),this.z=q.zoom,pe&&this.fire(new s.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(q,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:pe})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(q){var pe=this;if(this._checkLoaded(),ga(this,s.validateStyle(q)))return!1;q=s.clone$1(q),q.layers=fr(q.layers);var Oe=Sn(this.serialize(),q).filter(function(ut){return!(ut.command in gi)});if(Oe.length===0)return!1;var Xe=Oe.filter(function(ut){return!(ut.command in _a)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(ut){return ut.command}).join(", ")+".");return Oe.forEach(function(ut){ut.command!=="setTransition"&&pe[ut.command].apply(pe,ut.args)}),this.stylesheet=q,!0},Z.prototype.addImage=function(q,pe){if(this.getImage(q))return this.fire(new s.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,pe),this._afterImageUpdated(q)},Z.prototype.updateImage=function(q,pe){this.imageManager.updateImage(q,pe)},Z.prototype.getImage=function(q){return this.imageManager.getImage(q)},Z.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new s.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._afterImageUpdated(q)},Z.prototype._afterImageUpdated=function(q){this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(q,pe,Oe){var Xe=this;if(Oe===void 0&&(Oe={}),this._checkLoaded(),this.sourceCaches[q]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(pe).join(", ")+".");var ut=["vector","raster","geojson","video","image"],Lt=ut.indexOf(pe.type)>=0;if(!(Lt&&this._validate(s.validateStyle.source,"sources."+q,pe,null,Oe))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Vt=this.sourceCaches[q]=new Bt(q,pe,this.dispatcher);Vt.style=this,Vt.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Vt.serialize(),sourceId:q}}),Vt.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(q){if(this._checkLoaded(),this.sourceCaches[q]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===q)return this.fire(new s.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+pe+'" is using it.')));var Oe=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],Oe.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),Oe.setEventedParent(null),Oe.clearTiles(),Oe.onRemove&&Oe.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(q,pe){this._checkLoaded();var Oe=this.sourceCaches[q].getSource();Oe.setData(pe),this._changed=!0},Z.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},Z.prototype.addLayer=function(q,pe,Oe){Oe===void 0&&(Oe={}),this._checkLoaded();var Xe=q.id;if(this.getLayer(Xe)){this.fire(new s.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var ut;if(q.type==="custom"){if(ga(this,s.validateCustomStyleLayer(q)))return;ut=s.createStyleLayer(q)}else{if(typeof q.source=="object"&&(this.addSource(Xe,q.source),q=s.clone$1(q),q=s.extend(q,{source:Xe})),this._validate(s.validateStyle.layer,"layers."+Xe,q,{arrayIndex:-1},Oe))return;ut=s.createStyleLayer(q),this._validateLayer(ut),ut.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[ut.id]=ut.serialize()}var Lt=pe?this._order.indexOf(pe):this._order.length;if(pe&&Lt===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(Lt,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=ut,this._removedLayers[Xe]&&ut.source&&ut.type!=="custom"){var Vt=this._removedLayers[Xe];delete this._removedLayers[Xe],Vt.type!==ut.type?this._updatedSources[ut.source]="clear":(this._updatedSources[ut.source]="reload",this.sourceCaches[ut.source].pause())}this._updateLayer(ut),ut.onAdd&&ut.onAdd(this.map)},Z.prototype.moveLayer=function(q,pe){this._checkLoaded(),this._changed=!0;var Oe=this._layers[q];if(!Oe){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")));return}if(q!==pe){var Xe=this._order.indexOf(q);this._order.splice(Xe,1);var ut=pe?this._order.indexOf(pe):this._order.length;if(pe&&ut===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(ut,0,q),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(q){this._checkLoaded();var pe=this._layers[q];if(!pe){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var Oe=this._order.indexOf(q);this._order.splice(Oe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=pe,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],pe.onRemove&&pe.onRemove(this.map)},Z.prototype.getLayer=function(q){return this._layers[q]},Z.prototype.hasLayer=function(q){return q in this._layers},Z.prototype.setLayerZoomRange=function(q,pe,Oe){this._checkLoaded();var Xe=this.getLayer(q);if(!Xe){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===pe&&Xe.maxzoom===Oe||(pe!=null&&(Xe.minzoom=pe),Oe!=null&&(Xe.maxzoom=Oe),this._updateLayer(Xe))},Z.prototype.setFilter=function(q,pe,Oe){Oe===void 0&&(Oe={}),this._checkLoaded();var Xe=this.getLayer(q);if(!Xe){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")));return}if(!s.deepEqual(Xe.filter,pe)){if(pe==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(s.validateStyle.filter,"layers."+Xe.id+".filter",pe,null,Oe)||(Xe.filter=s.clone$1(pe),this._updateLayer(Xe))}},Z.prototype.getFilter=function(q){return s.clone$1(this.getLayer(q).filter)},Z.prototype.setLayoutProperty=function(q,pe,Oe,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ut=this.getLayer(q);if(!ut){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")));return}s.deepEqual(ut.getLayoutProperty(pe),Oe)||(ut.setLayoutProperty(pe,Oe,Xe),this._updateLayer(ut))},Z.prototype.getLayoutProperty=function(q,pe){var Oe=this.getLayer(q);if(!Oe){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")));return}return Oe.getLayoutProperty(pe)},Z.prototype.setPaintProperty=function(q,pe,Oe,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ut=this.getLayer(q);if(!ut){this.fire(new s.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")));return}if(!s.deepEqual(ut.getPaintProperty(pe),Oe)){var Lt=ut.setPaintProperty(pe,Oe,Xe);Lt&&this._updateLayer(ut),this._changed=!0,this._updatedPaintProps[q]=!0}},Z.prototype.getPaintProperty=function(q,pe){return this.getLayer(q).getPaintProperty(pe)},Z.prototype.setFeatureState=function(q,pe){this._checkLoaded();var Oe=q.source,Xe=q.sourceLayer,ut=this.sourceCaches[Oe];if(ut===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+Oe+"' does not exist in the map's style.")));return}var Lt=ut.getSource().type;if(Lt==="geojson"&&Xe){this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Lt==="vector"&&!Xe){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}q.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),ut.setFeatureState(Xe,q.id,pe)},Z.prototype.removeFeatureState=function(q,pe){this._checkLoaded();var Oe=q.source,Xe=this.sourceCaches[Oe];if(Xe===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+Oe+"' does not exist in the map's style.")));return}var ut=Xe.getSource().type,Lt=ut==="vector"?q.sourceLayer:void 0;if(ut==="vector"&&!Lt){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof q.id!="string"&&typeof q.id!="number"){this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xe.removeFeatureState(Lt,q.id,pe)},Z.prototype.getFeatureState=function(q){this._checkLoaded();var pe=q.source,Oe=q.sourceLayer,Xe=this.sourceCaches[pe];if(Xe===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var ut=Xe.getSource().type;if(ut==="vector"&&!Oe){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return q.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(Oe,q.id)},Z.prototype.getTransition=function(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return q!==void 0})},Z.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&this.sourceCaches[q.source].getSource().type!=="raster"&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(q){for(var pe=this,Oe=function(Fa){return pe._layers[Fa].type==="fill-extrusion"},Xe={},ut=[],Lt=this._order.length-1;Lt>=0;Lt--){var Vt=this._order[Lt];if(Oe(Vt)){Xe[Vt]=Lt;for(var $t=0,ur=q;$t<ur.length;$t+=1){var sr=ur[$t],kr=sr[Vt];if(kr)for(var Xr=0,jr=kr;Xr<jr.length;Xr+=1){var Wr=jr[Xr];ut.push(Wr)}}}}ut.sort(function(Fa,qa){return qa.intersectionZ-Fa.intersectionZ});for(var Qr=[],dn=this._order.length-1;dn>=0;dn--){var In=this._order[dn];if(Oe(In))for(var Bn=ut.length-1;Bn>=0;Bn--){var jn=ut[Bn].feature;if(Xe[jn.layer.id]<dn)break;Qr.push(jn),ut.pop()}else for(var Xn=0,Wn=q;Xn<Wn.length;Xn+=1){var Kn=Wn[Xn],na=Kn[In];if(na)for(var ua=0,xa=na;ua<xa.length;ua+=1){var da=xa[ua];Qr.push(da.feature)}}}return Qr},Z.prototype.queryRenderedFeatures=function(q,pe,Oe){pe&&pe.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Xe={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ut=0,Lt=pe.layers;ut<Lt.length;ut+=1){var Vt=Lt[ut],$t=this._layers[Vt];if(!$t)return this.fire(new s.ErrorEvent(new Error("The layer '"+Vt+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[$t.source]=!0}}var ur=[];pe.availableImages=this._availableImages;for(var sr in this.sourceCaches)pe.layers&&!Xe[sr]||ur.push(X(this.sourceCaches[sr],this._layers,this._serializedLayers,q,pe,Oe));return this.placement&&ur.push(j(this._layers,this._serializedLayers,this.sourceCaches,q,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},Z.prototype.querySourceFeatures=function(q,pe){pe&&pe.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var Oe=this.sourceCaches[q];return Oe?se(Oe,pe):[]},Z.prototype.addSourceType=function(q,pe,Oe){if(Z.getSourceType(q))return Oe(new Error('A source type called "'+q+'" already exists.'));if(Z.setSourceType(q,pe),!pe.workerSourceURL)return Oe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:q,url:pe.workerSourceURL},Oe)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(q,pe){pe===void 0&&(pe={}),this._checkLoaded();var Oe=this.light.getLight(),Xe=!1;for(var ut in q)if(!s.deepEqual(q[ut],Oe[ut])){Xe=!0;break}if(Xe){var Lt={now:s.browser.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,pe),this.light.updateTransitions(Lt)}},Z.prototype._validate=function(q,pe,Oe,Xe,ut){return ut===void 0&&(ut={}),ut&&ut.validate===!1?!1:ga(this,q.call(s.validateStyle,s.extend({key:pe,style:this.serialize(),value:Oe,styleSpec:s.styleSpec},Xe)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var q in this._layers){var pe=this._layers[q];pe.setEventedParent(null)}for(var Oe in this.sourceCaches)this.sourceCaches[Oe].clearTiles(),this.sourceCaches[Oe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},Z.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},Z.prototype._updateSources=function(q){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(q)},Z.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},Z.prototype._updatePlacement=function(q,pe,Oe,Xe,ut){ut===void 0&&(ut=!1);for(var Lt=!1,Vt=!1,$t={},ur=0,sr=this._order;ur<sr.length;ur+=1){var kr=sr[ur],Xr=this._layers[kr];if(Xr.type==="symbol"){if(!$t[Xr.source]){var jr=this.sourceCaches[Xr.source];$t[Xr.source]=jr.getRenderableIds(!0).map(function(Xn){return jr.getTileByID(Xn)}).sort(function(Xn,Wn){return Wn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Wn.tileID)?-1:1)})}var Wr=this.crossTileSymbolIndex.addLayer(Xr,$t[Xr.source],q.center.lng);Lt=Lt||Wr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ut=ut||this._layerOrderChanged||Oe===0,(ut||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.browser.now(),q.zoom))&&(this.pauseablePlacement=new zn(q,this._order,ut,pe,Oe,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,$t),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.browser.now()),Vt=!0),Lt&&this.pauseablePlacement.placement.setStale()),Vt||Lt)for(var Qr=0,dn=this._order;Qr<dn.length;Qr+=1){var In=dn[Qr],Bn=this._layers[In];Bn.type==="symbol"&&this.placement.updateLayerOpacities(Bn,$t[Bn.source])}var jn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.browser.now());return jn},Z.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},Z.prototype.getImages=function(q,pe,Oe){this.imageManager.getImages(pe.icons,Oe),this._updateTilesForChangedImages();var Xe=this.sourceCaches[pe.source];Xe&&Xe.setDependencies(pe.tileID.key,pe.type,pe.icons)},Z.prototype.getGlyphs=function(q,pe,Oe){this.glyphManager.getGlyphs(pe.stacks,Oe)},Z.prototype.getResource=function(q,pe,Oe){return s.makeRequest(pe,Oe)},Z}(s.Evented);ko.getSourceType=ie,ko.setSourceType=Y,ko.registerForPluginStateChange=s.registerForPluginStateChange;var Co=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),to=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Sl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,af=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vf="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ti=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",of=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ki=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,bo="void main() {gl_FragColor=vec4(1.0);}",Ml="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Iu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ii=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,El=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Oi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Hi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Cl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ro="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",no="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",zo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Hf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Lo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jc=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,cs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ji=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,sf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,hs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Gf=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xc=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,ku=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Kc=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",uf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",$c=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Yf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,al=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Ll=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,ru=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ms=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",zu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Zf=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ou=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Zo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,il=yi(to,Sl),nu=yi(af,Vf),Us=yi(ti,eu),vs=yi(of,Ki),ff=yi(bo,Ml),_l=yi(Iu,Ii),Ko=yi(El,Oi),_i=yi(Hi,Cl),cf=yi(ro,no),eh=yi(zo,Hf),Fu=yi(Lo,jc),Rl=yi(cs,Ji),Dl=yi(sf,Bs),Po=yi(hs,lf),Nu=yi(Gf,Xc),Il=yi(ku,Zc),Bu=yi(Kc,Jc),th=yi(uf,Qc),Kf=yi($c,Wf),hf=yi(Yf,al),vf=yi(Ll,tu),df=yi(ru,jf),kl=yi(Ms,qc),Uu=yi(zu,Xf),au=yi(Zf,Ou),Vu=yi(Zo,Pl);function yi(ce,Z){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,q=Z.match(/attribute ([\w]+) ([\w]+)/g),pe=ce.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Oe=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xe=Oe?Oe.concat(pe):pe,ut={};return ce=ce.replace(de,function(Lt,Vt,$t,ur,sr){return ut[sr]=!0,Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
varying `+$t+" "+ur+" "+sr+`;
#else
uniform `+$t+" "+ur+" u_"+sr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+sr+`
    `+$t+" "+ur+" "+sr+" = u_"+sr+`;
#endif
`}),Z=Z.replace(de,function(Lt,Vt,$t,ur,sr){var kr=ur==="float"?"vec2":"vec4",Xr=sr.match(/color/)?"color":kr;return ut[sr]?Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+$t+" "+kr+" a_"+sr+`;
varying `+$t+" "+ur+" "+sr+`;
#else
uniform `+$t+" "+ur+" u_"+sr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = a_"+sr+`;
#else
    `+$t+" "+ur+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = unpack_mix_"+Xr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+$t+" "+ur+" "+sr+" = u_"+sr+`;
#endif
`:Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+$t+" "+kr+" a_"+sr+`;
#else
uniform `+$t+" "+ur+" u_"+sr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+$t+" "+ur+" "+sr+" = a_"+sr+`;
#else
    `+$t+" "+ur+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+$t+" "+ur+" "+sr+" = unpack_mix_"+Xr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+$t+" "+ur+" "+sr+" = u_"+sr+`;
#endif
`}),{fragmentSource:ce,vertexSource:Z,staticAttributes:q,staticUniforms:Xe}}var Jf=Object.freeze({__proto__:null,prelude:il,background:nu,backgroundPattern:Us,circle:vs,clippingMask:ff,heatmap:_l,heatmapTexture:Ko,collisionBox:_i,collisionCircle:cf,debug:eh,fill:Fu,fillOutline:Rl,fillOutlinePattern:Dl,fillPattern:Po,fillExtrusion:Nu,fillExtrusionPattern:Il,hillshadePrepare:Bu,hillshade:th,line:Kf,lineGradient:hf,linePattern:vf,lineSDF:df,raster:kl,symbolIcon:Uu,symbolSDF:au,symbolTextAndIcon:Vu}),Jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Jo.prototype.bind=function(Z,de,q,pe,Oe,Xe,ut,Lt){this.context=Z;for(var Vt=this.boundPaintVertexBuffers.length!==pe.length,$t=0;!Vt&&$t<pe.length;$t++)this.boundPaintVertexBuffers[$t]!==pe[$t]&&(Vt=!0);var ur=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==q||Vt||this.boundIndexBuffer!==Oe||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==ut||this.boundDynamicVertexBuffer2!==Lt;!Z.extVertexArrayObject||ur?this.freshBind(de,q,pe,Oe,Xe,ut,Lt):(Z.bindVertexArrayOES.set(this.vao),ut&&ut.bind(),Oe&&Oe.dynamicDraw&&Oe.bind(),Lt&&Lt.bind())},Jo.prototype.freshBind=function(Z,de,q,pe,Oe,Xe,ut){var Lt,Vt=Z.numAttributes,$t=this.context,ur=$t.gl;if($t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$t.extVertexArrayObject.createVertexArrayOES(),$t.bindVertexArrayOES.set(this.vao),Lt=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=pe,this.boundVertexOffset=Oe,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=ut;else{Lt=$t.currentNumAttributes||0;for(var sr=Vt;sr<Lt;sr++)ur.disableVertexAttribArray(sr)}de.enableAttributes(ur,Z);for(var kr=0,Xr=q;kr<Xr.length;kr+=1){var jr=Xr[kr];jr.enableAttributes(ur,Z)}Xe&&Xe.enableAttributes(ur,Z),ut&&ut.enableAttributes(ur,Z),de.bind(),de.setVertexAttribPointers(ur,Z,Oe);for(var Wr=0,Qr=q;Wr<Qr.length;Wr+=1){var dn=Qr[Wr];dn.bind(),dn.setVertexAttribPointers(ur,Z,Oe)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(ur,Z,Oe)),pe&&pe.bind(),ut&&(ut.bind(),ut.setVertexAttribPointers(ur,Z,Oe)),$t.currentNumAttributes=Vt},Jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Qf(ce){for(var Z=[],de=0;de<ce.length;de++)if(ce[de]!==null){var q=ce[de].split(" ");Z.push(q.pop())}return Z}var pf=function(Z,de,q,pe,Oe,Xe){var ut=Z.gl;this.program=ut.createProgram();for(var Lt=Qf(q.staticAttributes),Vt=pe?pe.getBinderAttributes():[],$t=Lt.concat(Vt),ur=q.staticUniforms?Qf(q.staticUniforms):[],sr=pe?pe.getBinderUniforms():[],kr=ur.concat(sr),Xr=[],jr=0,Wr=kr;jr<Wr.length;jr+=1){var Qr=Wr[jr];Xr.indexOf(Qr)<0&&Xr.push(Qr)}var dn=pe?pe.defines():[];Xe&&dn.push("#define OVERDRAW_INSPECTOR;");var In=dn.concat(il.fragmentSource,q.fragmentSource).join(`
`),Bn=dn.concat(il.vertexSource,q.vertexSource).join(`
`),jn=ut.createShader(ut.FRAGMENT_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(jn,In),ut.compileShader(jn),ut.attachShader(this.program,jn);var Xn=ut.createShader(ut.VERTEX_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Xn,Bn),ut.compileShader(Xn),ut.attachShader(this.program,Xn),this.attributes={};var Wn={};this.numAttributes=$t.length;for(var Kn=0;Kn<this.numAttributes;Kn++)$t[Kn]&&(ut.bindAttribLocation(this.program,Kn,$t[Kn]),this.attributes[$t[Kn]]=Kn);ut.linkProgram(this.program),ut.deleteShader(Xn),ut.deleteShader(jn);for(var na=0;na<Xr.length;na++){var ua=Xr[na];if(ua&&!Wn[ua]){var xa=ut.getUniformLocation(this.program,ua);xa&&(Wn[ua]=xa)}}this.fixedUniforms=Oe(Z,Wn),this.binderUniforms=pe?pe.getUniforms(Z,Wn):[]};pf.prototype.draw=function(Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t,ur,sr,kr,Xr,jr,Wr){var Qr,dn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(q),Z.setStencilMode(pe),Z.setColorMode(Oe),Z.setCullFace(Xe);for(var In in this.fixedUniforms)this.fixedUniforms[In].set(ut[In]);Xr&&Xr.setUniforms(Z,this.binderUniforms,sr,{zoom:kr});for(var Bn=(Qr={},Qr[dn.LINES]=2,Qr[dn.TRIANGLES]=3,Qr[dn.LINE_STRIP]=1,Qr)[de],jn=0,Xn=ur.get();jn<Xn.length;jn+=1){var Wn=Xn[jn],Kn=Wn.vaos||(Wn.vaos={}),na=Kn[Lt]||(Kn[Lt]=new Jo);na.bind(Z,this,Vt,Xr?Xr.getPaintVertexBuffers():[],$t,Wn.vertexOffset,jr,Wr),dn.drawElements(de,Wn.primitiveLength*Bn,dn.UNSIGNED_SHORT,Wn.primitiveOffset*Bn*2)}}};function ol(ce,Z,de){var q=1/vn(de,1,Z.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),Oe=de.tileSize*Math.pow(2,Z.transform.tileZoom)/pe,Xe=Oe*(de.tileID.canonical.x+de.tileID.wrap*pe),ut=Oe*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[q,ce.fromScale,ce.toScale],u_fade:ce.t,u_pixel_coord_upper:[Xe>>16,ut>>16],u_pixel_coord_lower:[Xe&65535,ut&65535]}}function Vs(ce,Z,de,q){var pe=de.imageManager.getPattern(ce.from.toString()),Oe=de.imageManager.getPattern(ce.to.toString()),Xe=de.imageManager.getPixelSize(),ut=Xe.width,Lt=Xe.height,Vt=Math.pow(2,q.tileID.overscaledZ),$t=q.tileSize*Math.pow(2,de.transform.tileZoom)/Vt,ur=$t*(q.tileID.canonical.x+q.tileID.wrap*Vt),sr=$t*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:Oe.tl,u_pattern_br_b:Oe.br,u_texsize:[ut,Lt],u_mix:Z.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:Oe.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/vn(q,1,de.transform.tileZoom),u_pixel_coord_upper:[ur>>16,sr>>16],u_pixel_coord_lower:[ur&65535,sr&65535]}}var Hu=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_lightpos:new s.Uniform3f(ce,Z.u_lightpos),u_lightintensity:new s.Uniform1f(ce,Z.u_lightintensity),u_lightcolor:new s.Uniform3f(ce,Z.u_lightcolor),u_vertical_gradient:new s.Uniform1f(ce,Z.u_vertical_gradient),u_opacity:new s.Uniform1f(ce,Z.u_opacity)}},ki=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_lightpos:new s.Uniform3f(ce,Z.u_lightpos),u_lightintensity:new s.Uniform1f(ce,Z.u_lightintensity),u_lightcolor:new s.Uniform3f(ce,Z.u_lightcolor),u_vertical_gradient:new s.Uniform1f(ce,Z.u_vertical_gradient),u_height_factor:new s.Uniform1f(ce,Z.u_height_factor),u_image:new s.Uniform1i(ce,Z.u_image),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,Z.u_scale),u_fade:new s.Uniform1f(ce,Z.u_fade),u_opacity:new s.Uniform1f(ce,Z.u_opacity)}},iu=function(ce,Z,de,q){var pe=Z.style.light,Oe=pe.properties.get("position"),Xe=[Oe.x,Oe.y,Oe.z],ut=s.create$1();pe.properties.get("anchor")==="viewport"&&s.fromRotation(ut,-Z.transform.angle),s.transformMat3(Xe,Xe,ut);var Lt=pe.properties.get("color");return{u_matrix:ce,u_lightpos:Xe,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[Lt.r,Lt.g,Lt.b],u_vertical_gradient:+de,u_opacity:q}},Qo=function(ce,Z,de,q,pe,Oe,Xe){return s.extend(iu(ce,Z,de,q),ol(Oe,Z,Xe),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Xe.tileSize/8})},Es=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix)}},sl=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_image:new s.Uniform1i(ce,Z.u_image),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,Z.u_scale),u_fade:new s.Uniform1f(ce,Z.u_fade)}},Hs=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_world:new s.Uniform2f(ce,Z.u_world)}},$o=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_world:new s.Uniform2f(ce,Z.u_world),u_image:new s.Uniform1i(ce,Z.u_image),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,Z.u_scale),u_fade:new s.Uniform1f(ce,Z.u_fade)}},Cs=function(ce){return{u_matrix:ce}},qo=function(ce,Z,de,q){return s.extend(Cs(ce),ol(de,Z,q))},Vo=function(ce,Z){return{u_matrix:ce,u_world:Z}},ou=function(ce,Z,de,q,pe){return s.extend(qo(ce,Z,de,q),{u_world:pe})},rh=function(ce,Z){return{u_camera_to_center_distance:new s.Uniform1f(ce,Z.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(ce,Z.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(ce,Z.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(ce,Z.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix)}},nh=function(ce,Z,de,q){var pe=ce.transform,Oe,Xe;if(q.paint.get("circle-pitch-alignment")==="map"){var ut=vn(de,1,pe.zoom);Oe=!0,Xe=[ut,ut]}else Oe=!1,Xe=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(q.paint.get("circle-pitch-scale")==="map"),u_matrix:ce.translatePosMatrix(Z.posMatrix,de,q.paint.get("circle-translate"),q.paint.get("circle-translate-anchor")),u_pitch_with_map:+Oe,u_device_pixel_ratio:s.browser.devicePixelRatio,u_extrude_scale:Xe}},ah=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_camera_to_center_distance:new s.Uniform1f(ce,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(ce,Z.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(ce,Z.u_extrude_scale),u_overscale_factor:new s.Uniform1f(ce,Z.u_overscale_factor)}},ih=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_inv_matrix:new s.UniformMatrix4f(ce,Z.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(ce,Z.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(ce,Z.u_viewport_size)}},gf=function(ce,Z,de){var q=vn(de,1,Z.zoom),pe=Math.pow(2,Z.zoom-de.tileID.overscaledZ),Oe=de.tileID.overscaleFactor();return{u_matrix:ce,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:q,u_extrude_scale:[Z.pixelsToGLUnits[0]/(q*pe),Z.pixelsToGLUnits[1]/(q*pe)],u_overscale_factor:Oe}},$f=function(ce,Z,de){return{u_matrix:ce,u_inv_matrix:Z,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},zl=function(ce,Z){return{u_color:new s.UniformColor(ce,Z.u_color),u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_overlay:new s.Uniform1i(ce,Z.u_overlay),u_overlay_scale:new s.Uniform1f(ce,Z.u_overlay_scale)}},Qi=function(ce,Z,de){return de===void 0&&(de=1),{u_matrix:ce,u_color:Z,u_overlay:0,u_overlay_scale:de}},Oo=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix)}},Ol=function(ce){return{u_matrix:ce}},qf=function(ce,Z){return{u_extrude_scale:new s.Uniform1f(ce,Z.u_extrude_scale),u_intensity:new s.Uniform1f(ce,Z.u_intensity),u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix)}},su=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_world:new s.Uniform2f(ce,Z.u_world),u_image:new s.Uniform1i(ce,Z.u_image),u_color_ramp:new s.Uniform1i(ce,Z.u_color_ramp),u_opacity:new s.Uniform1f(ce,Z.u_opacity)}},Ls=function(ce,Z,de,q){return{u_matrix:ce,u_extrude_scale:vn(Z,1,de),u_intensity:q}},oh=function(ce,Z,de,q){var pe=s.create();s.ortho(pe,0,ce.width,ce.height,0,0,1);var Oe=ce.context.gl;return{u_matrix:pe,u_world:[Oe.drawingBufferWidth,Oe.drawingBufferHeight],u_image:de,u_color_ramp:q,u_opacity:Z.paint.get("heatmap-opacity")}},ec=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_image:new s.Uniform1i(ce,Z.u_image),u_latrange:new s.Uniform2f(ce,Z.u_latrange),u_light:new s.Uniform2f(ce,Z.u_light),u_shadow:new s.UniformColor(ce,Z.u_shadow),u_highlight:new s.UniformColor(ce,Z.u_highlight),u_accent:new s.UniformColor(ce,Z.u_accent)}},tc=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_image:new s.Uniform1i(ce,Z.u_image),u_dimension:new s.Uniform2f(ce,Z.u_dimension),u_zoom:new s.Uniform1f(ce,Z.u_zoom),u_unpack:new s.Uniform4f(ce,Z.u_unpack)}},yf=function(ce,Z,de){var q=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),Oe=de.paint.get("hillshade-accent-color"),Xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ce.transform.angle);var ut=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),ut),u_image:0,u_latrange:wo(ce,Z.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Xe],u_shadow:q,u_highlight:pe,u_accent:Oe}},rc=function(ce,Z){var de=Z.stride,q=s.create();return s.ortho(q,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(q,q,[0,-s.EXTENT,0]),{u_matrix:q,u_image:1,u_dimension:[de,de],u_zoom:ce.overscaledZ,u_unpack:Z.getUnpackVector()}};function wo(ce,Z){var de=Math.pow(2,Z.canonical.z),q=Z.canonical.y;return[new s.MercatorCoordinate(0,q/de).toLngLat().lat,new s.MercatorCoordinate(0,(q+1)/de).toLngLat().lat]}var es=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new s.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,Z.u_units_to_pixels)}},Gs=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new s.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,Z.u_units_to_pixels),u_image:new s.Uniform1i(ce,Z.u_image),u_image_height:new s.Uniform1f(ce,Z.u_image_height)}},Fl=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_ratio:new s.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_image:new s.Uniform1i(ce,Z.u_image),u_units_to_pixels:new s.Uniform2f(ce,Z.u_units_to_pixels),u_scale:new s.Uniform3f(ce,Z.u_scale),u_fade:new s.Uniform1f(ce,Z.u_fade)}},Gu=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new s.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,Z.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(ce,Z.u_patternscale_a),u_patternscale_b:new s.Uniform2f(ce,Z.u_patternscale_b),u_sdfgamma:new s.Uniform1f(ce,Z.u_sdfgamma),u_image:new s.Uniform1i(ce,Z.u_image),u_tex_y_a:new s.Uniform1f(ce,Z.u_tex_y_a),u_tex_y_b:new s.Uniform1f(ce,Z.u_tex_y_b),u_mix:new s.Uniform1f(ce,Z.u_mix)}},ll=function(ce,Z,de){var q=ce.transform;return{u_matrix:Ws(ce,Z,de),u_ratio:1/vn(Z,1,q.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},ul=function(ce,Z,de,q){return s.extend(ll(ce,Z,de),{u_image:0,u_image_height:q})},nc=function(ce,Z,de,q){var pe=ce.transform,Oe=Nl(Z,pe);return{u_matrix:Ws(ce,Z,de),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/vn(Z,1,pe.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_image:0,u_scale:[Oe,q.fromScale,q.toScale],u_fade:q.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Ps=function(ce,Z,de,q,pe){var Oe=ce.transform,Xe=ce.lineAtlas,ut=Nl(Z,Oe),Lt=de.layout.get("line-cap")==="round",Vt=Xe.getDash(q.from,Lt),$t=Xe.getDash(q.to,Lt),ur=Vt.width*pe.fromScale,sr=$t.width*pe.toScale;return s.extend(ll(ce,Z,de),{u_patternscale_a:[ut/ur,-Vt.height/2],u_patternscale_b:[ut/sr,-$t.height/2],u_sdfgamma:Xe.width/(Math.min(ur,sr)*256*s.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Vt.y,u_tex_y_b:$t.y,u_mix:pe.t})};function Nl(ce,Z){return 1/vn(ce,1,Z.tileZoom)}function Ws(ce,Z,de){return ce.translatePosMatrix(Z.tileID.posMatrix,Z,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var _s=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_tl_parent:new s.Uniform2f(ce,Z.u_tl_parent),u_scale_parent:new s.Uniform1f(ce,Z.u_scale_parent),u_buffer_scale:new s.Uniform1f(ce,Z.u_buffer_scale),u_fade_t:new s.Uniform1f(ce,Z.u_fade_t),u_opacity:new s.Uniform1f(ce,Z.u_opacity),u_image0:new s.Uniform1i(ce,Z.u_image0),u_image1:new s.Uniform1i(ce,Z.u_image1),u_brightness_low:new s.Uniform1f(ce,Z.u_brightness_low),u_brightness_high:new s.Uniform1f(ce,Z.u_brightness_high),u_saturation_factor:new s.Uniform1f(ce,Z.u_saturation_factor),u_contrast_factor:new s.Uniform1f(ce,Z.u_contrast_factor),u_spin_weights:new s.Uniform3f(ce,Z.u_spin_weights)}},lu=function(ce,Z,de,q,pe){return{u_matrix:ce,u_tl_parent:Z,u_scale_parent:de,u_buffer_scale:1,u_fade_t:q.mix,u_opacity:q.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Ul(pe.paint.get("raster-saturation")),u_contrast_factor:vi(pe.paint.get("raster-contrast")),u_spin_weights:Bl(pe.paint.get("raster-hue-rotate"))}};function Bl(ce){ce*=Math.PI/180;var Z=Math.sin(ce),de=Math.cos(ce);return[(2*de+1)/3,(-Math.sqrt(3)*Z-de+1)/3,(Math.sqrt(3)*Z-de+1)/3]}function vi(ce){return ce>0?1/(1-ce):1+ce}function Ul(ce){return ce>0?1-1/(1.001-ce):-ce}var Wu=function(ce,Z){return{u_is_size_zoom_constant:new s.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,Z.u_size_t),u_size:new s.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,Z.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new s.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_texture:new s.Uniform1i(ce,Z.u_texture)}},ac=function(ce,Z){return{u_is_size_zoom_constant:new s.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,Z.u_size_t),u_size:new s.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,Z.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new s.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_texture:new s.Uniform1i(ce,Z.u_texture),u_gamma_scale:new s.Uniform1f(ce,Z.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(ce,Z.u_is_halo)}},Vl=function(ce,Z){return{u_is_size_zoom_constant:new s.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,Z.u_size_t),u_size:new s.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,Z.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new s.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_texsize_icon:new s.Uniform2f(ce,Z.u_texsize_icon),u_texture:new s.Uniform1i(ce,Z.u_texture),u_texture_icon:new s.Uniform1i(ce,Z.u_texture_icon),u_gamma_scale:new s.Uniform1f(ce,Z.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(ce,Z.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(ce,Z.u_is_halo)}},uu=function(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt){var $t=pe.transform;return{u_is_size_zoom_constant:+(ce==="constant"||ce==="source"),u_is_size_feature_constant:+(ce==="constant"||ce==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:$t.cameraToCenterDistance,u_pitch:$t.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:$t.width/$t.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:Oe,u_label_plane_matrix:Xe,u_coord_matrix:ut,u_is_text:+Lt,u_pitch_with_map:+q,u_texsize:Vt,u_texture:0}},Yu=function(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t){var ur=pe.transform;return s.extend(uu(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt),{u_gamma_scale:q?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:s.browser.devicePixelRatio,u_is_halo:+$t})},mf=function(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt){return s.extend(Yu(ce,Z,de,q,pe,Oe,Xe,ut,!0,Lt,!0),{u_texsize_icon:Vt,u_texture_icon:1})},fu=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_opacity:new s.Uniform1f(ce,Z.u_opacity),u_color:new s.UniformColor(ce,Z.u_color)}},cu=function(ce,Z){return{u_matrix:new s.UniformMatrix4f(ce,Z.u_matrix),u_opacity:new s.Uniform1f(ce,Z.u_opacity),u_image:new s.Uniform1i(ce,Z.u_image),u_pattern_tl_a:new s.Uniform2f(ce,Z.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(ce,Z.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(ce,Z.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(ce,Z.u_pattern_br_b),u_texsize:new s.Uniform2f(ce,Z.u_texsize),u_mix:new s.Uniform1f(ce,Z.u_mix),u_pattern_size_a:new s.Uniform2f(ce,Z.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(ce,Z.u_pattern_size_b),u_scale_a:new s.Uniform1f(ce,Z.u_scale_a),u_scale_b:new s.Uniform1f(ce,Z.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(ce,Z.u_tile_units_to_pixels)}},Ys=function(ce,Z,de){return{u_matrix:ce,u_opacity:Z,u_color:de}},hu=function(ce,Z,de,q,pe,Oe){return s.extend(Vs(q,Oe,de,pe),{u_matrix:ce,u_opacity:Z})},js={fillExtrusion:Hu,fillExtrusionPattern:ki,fill:Es,fillPattern:sl,fillOutline:Hs,fillOutlinePattern:$o,circle:rh,collisionBox:ah,collisionCircle:ih,debug:zl,clippingMask:Oo,heatmap:qf,heatmapTexture:su,hillshade:ec,hillshadePrepare:tc,line:es,lineGradient:Gs,linePattern:Fl,lineSDF:Gu,raster:_s,symbolIcon:Wu,symbolSDF:ac,symbolTextAndIcon:Vl,background:fu,backgroundPattern:cu},Gi;function ds(ce,Z,de,q,pe,Oe,Xe){for(var ut=ce.context,Lt=ut.gl,Vt=ce.useProgram("collisionBox"),$t=[],ur=0,sr=0,kr=0;kr<q.length;kr++){var Xr=q[kr],jr=Z.getTile(Xr),Wr=jr.getBucket(de);if(Wr){var Qr=Xr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Qr=ce.translatePosMatrix(Xr.posMatrix,jr,pe,Oe));var dn=Xe?Wr.textCollisionBox:Wr.iconCollisionBox,In=Wr.collisionCircleArray;if(In.length>0){var Bn=s.create(),jn=Qr;s.mul(Bn,Wr.placementInvProjMatrix,ce.transform.glCoordMatrix),s.mul(Bn,Bn,Wr.placementViewportMatrix),$t.push({circleArray:In,circleOffset:sr,transform:jn,invTransform:Bn}),ur+=In.length/4,sr=ur}dn&&Vt.draw(ut,Lt.LINES,nr.disabled,Kt.disabled,ce.colorModeForRenderPass(),Dt.disabled,gf(Qr,ce.transform,jr),de.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,ce.transform.zoom,null,null,dn.collisionVertexBuffer)}}if(!(!Xe||!$t.length)){var Xn=ce.useProgram("collisionCircle"),Wn=new s.StructArrayLayout2f1f2i16;Wn.resize(ur*4),Wn._trim();for(var Kn=0,na=0,ua=$t;na<ua.length;na+=1)for(var xa=ua[na],da=0;da<xa.circleArray.length/4;da++){var Fa=da*4,qa=xa.circleArray[Fa+0],Xa=xa.circleArray[Fa+1],Ma=xa.circleArray[Fa+2],Za=xa.circleArray[Fa+3];Wn.emplace(Kn++,qa,Xa,Ma,Za,0),Wn.emplace(Kn++,qa,Xa,Ma,Za,1),Wn.emplace(Kn++,qa,Xa,Ma,Za,2),Wn.emplace(Kn++,qa,Xa,Ma,Za,3)}(!Gi||Gi.length<ur*2)&&(Gi=xf(ur));for(var Ga=ut.createIndexBuffer(Gi,!0),si=ut.createVertexBuffer(Wn,s.collisionCircleLayout.members,!0),ri=0,Si=$t;ri<Si.length;ri+=1){var $a=Si[ri],mi=$f($a.transform,$a.invTransform,ce.transform);Xn.draw(ut,Lt.TRIANGLES,nr.disabled,Kt.disabled,ce.colorModeForRenderPass(),Dt.disabled,mi,de.id,si,Ga,s.SegmentVector.simpleSegment(0,$a.circleOffset*2,$a.circleArray.length,$a.circleArray.length/2),null,ce.transform.zoom,null,null,null)}si.destroy(),Ga.destroy()}}function xf(ce){var Z=ce*2,de=new s.StructArrayLayout3ui6;de.resize(Z),de._trim();for(var q=0;q<Z;q++){var pe=q*6;de.uint16[pe+0]=q*4+0,de.uint16[pe+1]=q*4+1,de.uint16[pe+2]=q*4+2,de.uint16[pe+3]=q*4+2,de.uint16[pe+4]=q*4+3,de.uint16[pe+5]=q*4+0}return de}var fl=s.identity(new Float32Array(16));function ju(ce,Z,de,q,pe){if(ce.renderPass==="translucent"){var Oe=Kt.disabled,Xe=ce.colorModeForRenderPass(),ut=de.layout.get("text-variable-anchor");ut&&sh(q,ce,de,Z,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&du(ce,Z,de,q,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),Oe,Xe),de.paint.get("text-opacity").constantOr(1)!==0&&du(ce,Z,de,q,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),Oe,Xe),Z.map.showCollisionBoxes&&(ds(ce,Z,de,q,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),ds(ce,Z,de,q,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function vu(ce,Z,de,q,pe,Oe){var Xe=s.getAnchorAlignment(ce),ut=Xe.horizontalAlign,Lt=Xe.verticalAlign,Vt=-(ut-.5)*Z,$t=-(Lt-.5)*de,ur=s.evaluateVariableOffset(ce,q);return new s.Point((Vt/pe+ur[0])*Oe,($t/pe+ur[1])*Oe)}function sh(ce,Z,de,q,pe,Oe,Xe){for(var ut=Z.transform,Lt=pe==="map",Vt=Oe==="map",$t=0,ur=ce;$t<ur.length;$t+=1){var sr=ur[$t],kr=q.getTile(sr),Xr=kr.getBucket(de);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var jr=Xr.textSizeData,Wr=s.evaluateSizeForZoom(jr,ut.zoom),Qr=vn(kr,1,Z.transform.zoom),dn=zr(sr.posMatrix,Vt,Lt,Z.transform,Qr),In=de.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Wr){var Bn=Math.pow(2,ut.zoom-kr.tileID.overscaledZ);ic(Xr,Lt,Vt,Xe,s.symbolSize,ut,dn,sr.posMatrix,Bn,Wr,In)}}}}function ic(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t){var ur=ce.text.placedSymbolArray,sr=ce.text.dynamicLayoutVertexArray,kr=ce.icon.dynamicLayoutVertexArray,Xr={};sr.clear();for(var jr=0;jr<ur.length;jr++){var Wr=ur.get(jr),Qr=ce.allowVerticalPlacement&&!Wr.placedOrientation,dn=!Wr.hidden&&Wr.crossTileID&&!Qr?q[Wr.crossTileID]:null;if(!dn)Qn(Wr.numGlyphs,sr);else{var In=new s.Point(Wr.anchorX,Wr.anchorY),Bn=Or(In,de?ut:Xe),jn=ln(Oe.cameraToCenterDistance,Bn.signedDistanceFromCamera),Xn=pe.evaluateSizeForFeature(ce.textSizeData,Vt,Wr)*jn/s.ONE_EM;de&&(Xn*=ce.tilePixelRatio/Lt);for(var Wn=dn.width,Kn=dn.height,na=dn.anchor,ua=dn.textOffset,xa=dn.textBoxScale,da=vu(na,Wn,Kn,ua,xa,Xn),Fa=de?Or(In.add(da),Xe).point:Bn.point.add(Z?da.rotate(-Oe.angle):da),qa=ce.allowVerticalPlacement&&Wr.placedOrientation===s.WritingMode.vertical?Math.PI/2:0,Xa=0;Xa<Wr.numGlyphs;Xa++)s.addDynamicAttributes(sr,Fa,qa);$t&&Wr.associatedIconIndex>=0&&(Xr[Wr.associatedIconIndex]={shiftedAnchor:Fa,angle:qa})}}if($t){kr.clear();for(var Ma=ce.icon.placedSymbolArray,Za=0;Za<Ma.length;Za++){var Ga=Ma.get(Za);if(Ga.hidden)Qn(Ga.numGlyphs,kr);else{var si=Xr[Za];if(!si)Qn(Ga.numGlyphs,kr);else for(var ri=0;ri<Ga.numGlyphs;ri++)s.addDynamicAttributes(kr,si.shiftedAnchor,si.angle)}}ce.icon.dynamicLayoutVertexBuffer.updateData(kr)}ce.text.dynamicLayoutVertexBuffer.updateData(sr)}function po(ce,Z,de){return de.iconsInText&&Z?"symbolTextAndIcon":ce?"symbolSDF":"symbolIcon"}function du(ce,Z,de,q,pe,Oe,Xe,ut,Lt,Vt,$t,ur){for(var sr=ce.context,kr=sr.gl,Xr=ce.transform,jr=ut==="map",Wr=Lt==="map",Qr=jr&&de.layout.get("symbol-placement")!=="point",dn=jr&&!Wr&&!Qr,In=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Bn=!1,jn=ce.depthModeForSublayer(0,nr.ReadOnly),Xn=de.layout.get("text-variable-anchor"),Wn=[],Kn=0,na=q;Kn<na.length;Kn+=1){var ua=na[Kn],xa=Z.getTile(ua),da=xa.getBucket(de);if(da){var Fa=pe?da.text:da.icon;if(!(!Fa||!Fa.segments.get().length)){var qa=Fa.programConfigurations.get(de.id),Xa=pe||da.sdfIcons,Ma=pe?da.textSizeData:da.iconSizeData,Za=Wr||Xr.pitch!==0,Ga=ce.useProgram(po(Xa,pe,da),qa),si=s.evaluateSizeForZoom(Ma,Xr.zoom),ri=void 0,Si=[0,0],$a=void 0,mi=void 0,Wa=null,ei=void 0;if(pe){if($a=xa.glyphAtlasTexture,mi=kr.LINEAR,ri=xa.glyphAtlasTexture.size,da.iconsInText){Si=xa.imageAtlasTexture.size,Wa=xa.imageAtlasTexture;var Bi=Ma.kind==="composite"||Ma.kind==="camera";ei=Za||ce.options.rotating||ce.options.zooming||Bi?kr.LINEAR:kr.NEAREST}}else{var yo=de.layout.get("icon-size").constantOr(0)!==1||da.iconsNeedLinear;$a=xa.imageAtlasTexture,mi=Xa||ce.options.rotating||ce.options.zooming||yo||Za?kr.LINEAR:kr.NEAREST,ri=xa.imageAtlasTexture.size}var Ks=vn(xa,1,ce.transform.zoom),Js=zr(ua.posMatrix,Wr,jr,ce.transform,Ks),vl=Yr(ua.posMatrix,Wr,jr,ce.transform,Ks),Wl=Xn&&da.hasTextData(),Ef=de.layout.get("icon-text-fit")!=="none"&&Wl&&da.hasIconData();Qr&&Mn(da,ua.posMatrix,ce,pe,Js,vl,Wr,Vt);var Yl=ce.translatePosMatrix(ua.posMatrix,xa,Oe,Xe),rs=Qr||pe&&Xn||Ef?fl:Js,jl=ce.translatePosMatrix(vl,xa,Oe,Xe,!0),ys=Xa&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ns=void 0;Xa?da.iconsInText?ns=mf(Ma.kind,si,dn,Wr,ce,Yl,rs,jl,ri,Si):ns=Yu(Ma.kind,si,dn,Wr,ce,Yl,rs,jl,pe,ri,!0):ns=uu(Ma.kind,si,dn,Wr,ce,Yl,rs,jl,pe,ri);var dl={program:Ga,buffers:Fa,uniformValues:ns,atlasTexture:$a,atlasTextureIcon:Wa,atlasInterpolation:mi,atlasInterpolationIcon:ei,isSDF:Xa,hasHalo:ys};if(In&&da.canOverlap){Bn=!0;for(var Tu=Fa.segments.get(),pl=0,Oh=Tu;pl<Oh.length;pl+=1){var dc=Oh[pl];Wn.push({segments:new s.SegmentVector([dc]),sortKey:dc.sortKey,state:dl})}}else Wn.push({segments:Fa.segments,sortKey:0,state:dl})}}}Bn&&Wn.sort(function(Nh,Bh){return Nh.sortKey-Bh.sortKey});for(var To=0,Fh=Wn;To<Fh.length;To+=1){var vh=Fh[To],Ho=vh.state;if(sr.activeTexture.set(kr.TEXTURE0),Ho.atlasTexture.bind(Ho.atlasInterpolation,kr.CLAMP_TO_EDGE),Ho.atlasTextureIcon&&(sr.activeTexture.set(kr.TEXTURE1),Ho.atlasTextureIcon&&Ho.atlasTextureIcon.bind(Ho.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),Ho.isSDF){var pc=Ho.uniformValues;Ho.hasHalo&&(pc.u_is_halo=1,Hl(Ho.buffers,vh.segments,de,ce,Ho.program,jn,$t,ur,pc)),pc.u_is_halo=0}Hl(Ho.buffers,vh.segments,de,ce,Ho.program,jn,$t,ur,Ho.uniformValues)}}function Hl(ce,Z,de,q,pe,Oe,Xe,ut,Lt){var Vt=q.context,$t=Vt.gl;pe.draw(Vt,$t.TRIANGLES,Oe,Xe,ut,Dt.disabled,Lt,de.id,ce.layoutVertexBuffer,ce.indexBuffer,Z,de.paint,q.transform.zoom,ce.programConfigurations.get(de.id),ce.dynamicLayoutVertexBuffer,ce.opacityVertexBuffer)}function oc(ce,Z,de,q){if(ce.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),Oe=de.paint.get("circle-stroke-width"),Xe=de.paint.get("circle-stroke-opacity"),ut=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(Oe.constantOr(1)===0||Xe.constantOr(1)===0))){for(var Lt=ce.context,Vt=Lt.gl,$t=ce.depthModeForSublayer(0,nr.ReadOnly),ur=Kt.disabled,sr=ce.colorModeForRenderPass(),kr=[],Xr=0;Xr<q.length;Xr++){var jr=q[Xr],Wr=Z.getTile(jr),Qr=Wr.getBucket(de);if(Qr){var dn=Qr.programConfigurations.get(de.id),In=ce.useProgram("circle",dn),Bn=Qr.layoutVertexBuffer,jn=Qr.indexBuffer,Xn=nh(ce,jr,Wr,de),Wn={programConfiguration:dn,program:In,layoutVertexBuffer:Bn,indexBuffer:jn,uniformValues:Xn};if(ut)for(var Kn=Qr.segments.get(),na=0,ua=Kn;na<ua.length;na+=1){var xa=ua[na];kr.push({segments:new s.SegmentVector([xa]),sortKey:xa.sortKey,state:Wn})}else kr.push({segments:Qr.segments,sortKey:0,state:Wn})}}ut&&kr.sort(function($a,mi){return $a.sortKey-mi.sortKey});for(var da=0,Fa=kr;da<Fa.length;da+=1){var qa=Fa[da],Xa=qa.state,Ma=Xa.programConfiguration,Za=Xa.program,Ga=Xa.layoutVertexBuffer,si=Xa.indexBuffer,ri=Xa.uniformValues,Si=qa.segments;Za.draw(Lt,Vt.TRIANGLES,$t,ur,sr,Dt.disabled,ri,de.id,Ga,si,Si,de.paint,ce.transform.zoom,Ma)}}}}function Xs(ce,Z,de,q){if(de.paint.get("heatmap-opacity")!==0)if(ce.renderPass==="offscreen"){var pe=ce.context,Oe=pe.gl,Xe=Kt.disabled,ut=new lt([Oe.ONE,Oe.ONE],s.Color.transparent,[!0,!0,!0,!0]);lh(pe,ce,de),pe.clear({color:s.Color.transparent});for(var Lt=0;Lt<q.length;Lt++){var Vt=q[Lt];if(!Z.hasRenderableParent(Vt)){var $t=Z.getTile(Vt),ur=$t.getBucket(de);if(ur){var sr=ur.programConfigurations.get(de.id),kr=ce.useProgram("heatmap",sr),Xr=ce.transform,jr=Xr.zoom;kr.draw(pe,Oe.TRIANGLES,nr.disabled,Xe,ut,Dt.disabled,Ls(Vt.posMatrix,$t,jr,de.paint.get("heatmap-intensity")),de.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,de.paint,ce.transform.zoom,sr)}}}pe.viewport.set([0,0,ce.width,ce.height])}else ce.renderPass==="translucent"&&(ce.context.setColorMode(ce.colorModeForRenderPass()),pu(ce,de))}function lh(ce,Z,de){var q=ce.gl;ce.activeTexture.set(q.TEXTURE1),ce.viewport.set([0,0,Z.width/4,Z.height/4]);var pe=de.heatmapFbo;if(pe)q.bindTexture(q.TEXTURE_2D,pe.colorAttachment.get()),ce.bindFramebuffer.set(pe.framebuffer);else{var Oe=q.createTexture();q.bindTexture(q.TEXTURE_2D,Oe),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),pe=de.heatmapFbo=ce.createFramebuffer(Z.width/4,Z.height/4,!1),_o(ce,Z,Oe,pe)}}function _o(ce,Z,de,q){var pe=ce.gl,Oe=ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,Z.width/4,Z.height/4,0,pe.RGBA,Oe,null),q.colorAttachment.set(de)}function pu(ce,Z){var de=ce.context,q=de.gl,pe=Z.heatmapFbo;if(pe){de.activeTexture.set(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(q.TEXTURE1);var Oe=Z.colorRampTexture;Oe||(Oe=Z.colorRampTexture=new s.Texture(de,Z.colorRamp,q.RGBA)),Oe.bind(q.LINEAR,q.CLAMP_TO_EDGE),ce.useProgram("heatmapTexture").draw(de,q.TRIANGLES,nr.disabled,Kt.disabled,ce.colorModeForRenderPass(),Dt.disabled,oh(ce,Z,0,1),Z.id,ce.viewportBuffer,ce.quadTriangleIndexBuffer,ce.viewportSegments,Z.paint,ce.transform.zoom)}}function Xu(ce,Z,de,q){if(ce.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),Oe=de.paint.get("line-width");if(!(pe.constantOr(1)===0||Oe.constantOr(1)===0))for(var Xe=ce.depthModeForSublayer(0,nr.ReadOnly),ut=ce.colorModeForRenderPass(),Lt=de.paint.get("line-dasharray"),Vt=de.paint.get("line-pattern"),$t=Vt.constantOr(1),ur=de.paint.get("line-gradient"),sr=de.getCrossfadeParameters(),kr=$t?"linePattern":Lt?"lineSDF":ur?"lineGradient":"line",Xr=ce.context,jr=Xr.gl,Wr=!0,Qr=0,dn=q;Qr<dn.length;Qr+=1){var In=dn[Qr],Bn=Z.getTile(In);if(!($t&&!Bn.patternsLoaded())){var jn=Bn.getBucket(de);if(jn){var Xn=jn.programConfigurations.get(de.id),Wn=ce.context.program.get(),Kn=ce.useProgram(kr,Xn),na=Wr||Kn.program!==Wn,ua=Vt.constantOr(null);if(ua&&Bn.imageAtlas){var xa=Bn.imageAtlas,da=xa.patternPositions[ua.to.toString()],Fa=xa.patternPositions[ua.from.toString()];da&&Fa&&Xn.setConstantPatternPositions(da,Fa)}var qa=$t?nc(ce,Bn,de,sr):Lt?Ps(ce,Bn,de,Lt,sr):ur?ul(ce,Bn,de,jn.lineClipsArray.length):ll(ce,Bn,de);if($t)Xr.activeTexture.set(jr.TEXTURE0),Bn.imageAtlasTexture.bind(jr.LINEAR,jr.CLAMP_TO_EDGE),Xn.updatePaintBuffers(sr);else if(Lt&&(na||ce.lineAtlas.dirty))Xr.activeTexture.set(jr.TEXTURE0),ce.lineAtlas.bind(Xr);else if(ur){var Xa=jn.gradients[de.id],Ma=Xa.texture;if(de.gradientVersion!==Xa.version){var Za=256;if(de.stepInterpolant){var Ga=Z.getSource().maxzoom,si=In.canonical.z===Ga?Math.ceil(1<<ce.transform.maxZoom-In.canonical.z):1,ri=jn.maxLineLength/s.EXTENT,Si=1024,$a=ri*Si*si;Za=s.clamp(s.nextPowerOfTwo($a),256,Xr.maxTextureSize)}Xa.gradient=s.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:Za,image:Xa.gradient||void 0,clips:jn.lineClipsArray}),Xa.texture?Xa.texture.update(Xa.gradient):Xa.texture=new s.Texture(Xr,Xa.gradient,jr.RGBA),Xa.version=de.gradientVersion,Ma=Xa.texture}Xr.activeTexture.set(jr.TEXTURE0),Ma.bind(de.stepInterpolant?jr.NEAREST:jr.LINEAR,jr.CLAMP_TO_EDGE)}Kn.draw(Xr,jr.TRIANGLES,Xe,ce.stencilModeForClipping(In),ut,Dt.disabled,qa,de.id,jn.layoutVertexBuffer,jn.indexBuffer,jn.segments,de.paint,ce.transform.zoom,Xn,jn.layoutVertexBuffer2),Wr=!1}}}}}function Rs(ce,Z,de,q){var pe=de.paint.get("fill-color"),Oe=de.paint.get("fill-opacity");if(Oe.constantOr(1)!==0){var Xe=ce.colorModeForRenderPass(),ut=de.paint.get("fill-pattern"),Lt=ce.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&pe.constantOr(s.Color.transparent).a===1&&Oe.constantOr(0)===1?"opaque":"translucent";if(ce.renderPass===Lt){var Vt=ce.depthModeForSublayer(1,ce.renderPass==="opaque"?nr.ReadWrite:nr.ReadOnly);Zs(ce,Z,de,q,Vt,Xe,!1)}if(ce.renderPass==="translucent"&&de.paint.get("fill-antialias")){var $t=ce.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,nr.ReadOnly);Zs(ce,Z,de,q,$t,Xe,!0)}}}function Zs(ce,Z,de,q,pe,Oe,Xe){var ut=ce.context.gl,Lt=de.paint.get("fill-pattern"),Vt=Lt&&Lt.constantOr(1),$t=de.getCrossfadeParameters(),ur,sr,kr,Xr,jr;Xe?(sr=Vt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=ut.LINES):(sr=Vt?"fillPattern":"fill",ur=ut.TRIANGLES);for(var Wr=0,Qr=q;Wr<Qr.length;Wr+=1){var dn=Qr[Wr],In=Z.getTile(dn);if(!(Vt&&!In.patternsLoaded())){var Bn=In.getBucket(de);if(Bn){var jn=Bn.programConfigurations.get(de.id),Xn=ce.useProgram(sr,jn);Vt&&(ce.context.activeTexture.set(ut.TEXTURE0),In.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),jn.updatePaintBuffers($t));var Wn=Lt.constantOr(null);if(Wn&&In.imageAtlas){var Kn=In.imageAtlas,na=Kn.patternPositions[Wn.to.toString()],ua=Kn.patternPositions[Wn.from.toString()];na&&ua&&jn.setConstantPatternPositions(na,ua)}var xa=ce.translatePosMatrix(dn.posMatrix,In,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Xe)Xr=Bn.indexBuffer,jr=Bn.segments,kr=Vt?qo(xa,ce,$t,In):Cs(xa);else{Xr=Bn.indexBuffer2,jr=Bn.segments2;var da=[ut.drawingBufferWidth,ut.drawingBufferHeight];kr=sr==="fillOutlinePattern"&&Vt?ou(xa,ce,$t,In,da):Vo(xa,da)}Xn.draw(ce.context,ur,pe,ce.stencilModeForClipping(dn),Oe,Dt.disabled,kr,de.id,Bn.layoutVertexBuffer,Xr,jr,de.paint,ce.transform.zoom,jn)}}}}function bf(ce,Z,de,q){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&ce.renderPass==="translucent"){var Oe=new nr(ce.context.gl.LEQUAL,nr.ReadWrite,ce.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ce.colorModeForRenderPass();gu(ce,Z,de,q,Oe,Kt.disabled,Xe)}else gu(ce,Z,de,q,Oe,Kt.disabled,lt.disabled),gu(ce,Z,de,q,Oe,ce.stencilModeFor3D(),ce.colorModeForRenderPass())}}function gu(ce,Z,de,q,pe,Oe,Xe){for(var ut=ce.context,Lt=ut.gl,Vt=de.paint.get("fill-extrusion-pattern"),$t=Vt.constantOr(1),ur=de.getCrossfadeParameters(),sr=de.paint.get("fill-extrusion-opacity"),kr=0,Xr=q;kr<Xr.length;kr+=1){var jr=Xr[kr],Wr=Z.getTile(jr),Qr=Wr.getBucket(de);if(Qr){var dn=Qr.programConfigurations.get(de.id),In=ce.useProgram($t?"fillExtrusionPattern":"fillExtrusion",dn);$t&&(ce.context.activeTexture.set(Lt.TEXTURE0),Wr.imageAtlasTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),dn.updatePaintBuffers(ur));var Bn=Vt.constantOr(null);if(Bn&&Wr.imageAtlas){var jn=Wr.imageAtlas,Xn=jn.patternPositions[Bn.to.toString()],Wn=jn.patternPositions[Bn.from.toString()];Xn&&Wn&&dn.setConstantPatternPositions(Xn,Wn)}var Kn=ce.translatePosMatrix(jr.posMatrix,Wr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),na=de.paint.get("fill-extrusion-vertical-gradient"),ua=$t?Qo(Kn,ce,na,sr,jr,ur,Wr):iu(Kn,ce,na,sr);In.draw(ut,ut.gl.TRIANGLES,pe,Oe,Xe,Dt.backCCW,ua,de.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,de.paint,ce.transform.zoom,dn)}}}function yu(ce,Z,de,q){if(!(ce.renderPass!=="offscreen"&&ce.renderPass!=="translucent")){for(var pe=ce.context,Oe=ce.depthModeForSublayer(0,nr.ReadOnly),Xe=ce.colorModeForRenderPass(),ut=ce.renderPass==="translucent"?ce.stencilConfigForOverlap(q):[{},q],Lt=ut[0],Vt=ut[1],$t=0,ur=Vt;$t<ur.length;$t+=1){var sr=ur[$t],kr=Z.getTile(sr);kr.needsHillshadePrepare&&ce.renderPass==="offscreen"?sc(ce,kr,de,Oe,Kt.disabled,Xe):ce.renderPass==="translucent"&&Zu(ce,kr,de,Oe,Lt[sr.overscaledZ],Xe)}pe.viewport.set([0,0,ce.width,ce.height])}}function Zu(ce,Z,de,q,pe,Oe){var Xe=ce.context,ut=Xe.gl,Lt=Z.fbo;if(Lt){var Vt=ce.useProgram("hillshade");Xe.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,Lt.colorAttachment.get());var $t=yf(ce,Z,de);Vt.draw(Xe,ut.TRIANGLES,q,pe,Oe,Dt.disabled,$t,de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function sc(ce,Z,de,q,pe,Oe){var Xe=ce.context,ut=Xe.gl,Lt=Z.dem;if(Lt&&Lt.data){var Vt=Lt.dim,$t=Lt.stride,ur=Lt.getPixels();if(Xe.activeTexture.set(ut.TEXTURE1),Xe.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||ce.getTileTexture($t),Z.demTexture){var sr=Z.demTexture;sr.update(ur,{premultiply:!1}),sr.bind(ut.NEAREST,ut.CLAMP_TO_EDGE)}else Z.demTexture=new s.Texture(Xe,ur,ut.RGBA,{premultiply:!1}),Z.demTexture.bind(ut.NEAREST,ut.CLAMP_TO_EDGE);Xe.activeTexture.set(ut.TEXTURE0);var kr=Z.fbo;if(!kr){var Xr=new s.Texture(Xe,{width:Vt,height:Vt,data:null},ut.RGBA);Xr.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),kr=Z.fbo=Xe.createFramebuffer(Vt,Vt,!0),kr.colorAttachment.set(Xr.texture)}Xe.bindFramebuffer.set(kr.framebuffer),Xe.viewport.set([0,0,Vt,Vt]),ce.useProgram("hillshadePrepare").draw(Xe,ut.TRIANGLES,q,pe,Oe,Dt.disabled,rc(Z.tileID,Lt),de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function mu(ce,Z,de,q){if(ce.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&q.length)for(var pe=ce.context,Oe=pe.gl,Xe=Z.getSource(),ut=ce.useProgram("raster"),Lt=ce.colorModeForRenderPass(),Vt=Xe instanceof J?[{},q]:ce.stencilConfigForOverlap(q),$t=Vt[0],ur=Vt[1],sr=ur[ur.length-1].overscaledZ,kr=!ce.options.moving,Xr=0,jr=ur;Xr<jr.length;Xr+=1){var Wr=jr[Xr],Qr=ce.depthModeForSublayer(Wr.overscaledZ-sr,de.paint.get("raster-opacity")===1?nr.ReadWrite:nr.ReadOnly,Oe.LESS),dn=Z.getTile(Wr),In=ce.transform.calculatePosMatrix(Wr.toUnwrapped(),kr);dn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Bn=Z.findLoadedParent(Wr,0),jn=wf(dn,Bn,Z,de,ce.transform),Xn=void 0,Wn=void 0,Kn=de.paint.get("raster-resampling")==="nearest"?Oe.NEAREST:Oe.LINEAR;pe.activeTexture.set(Oe.TEXTURE0),dn.texture.bind(Kn,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(Oe.TEXTURE1),Bn?(Bn.texture.bind(Kn,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,Bn.tileID.overscaledZ-dn.tileID.overscaledZ),Wn=[dn.tileID.canonical.x*Xn%1,dn.tileID.canonical.y*Xn%1]):dn.texture.bind(Kn,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST);var na=lu(In,Wn||[0,0],Xn||1,jn,de);Xe instanceof J?ut.draw(pe,Oe.TRIANGLES,Qr,Kt.disabled,Lt,Dt.disabled,na,de.id,Xe.boundsBuffer,ce.quadTriangleIndexBuffer,Xe.boundsSegments):ut.draw(pe,Oe.TRIANGLES,Qr,$t[Wr.overscaledZ],Lt,Dt.disabled,na,de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function wf(ce,Z,de,q,pe){var Oe=q.paint.get("raster-fade-duration");if(Oe>0){var Xe=s.browser.now(),ut=(Xe-ce.timeAdded)/Oe,Lt=Z?(Xe-Z.timeAdded)/Oe:-1,Vt=de.getSource(),$t=pe.coveringZoomLevel({tileSize:Vt.tileSize,roundZoom:Vt.roundZoom}),ur=!Z||Math.abs(Z.tileID.overscaledZ-$t)>Math.abs(ce.tileID.overscaledZ-$t),sr=ur&&ce.refreshedUponExpiration?1:s.clamp(ur?ut:1-Lt,0,1);return ce.refreshedUponExpiration&&ut>=1&&(ce.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-sr}:{opacity:sr,mix:0}}else return{opacity:1,mix:0}}function cl(ce,Z,de){var q=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var Oe=ce.context,Xe=Oe.gl,ut=ce.transform,Lt=ut.tileSize,Vt=de.paint.get("background-pattern");if(!ce.isPatternMissing(Vt)){var $t=!Vt&&q.a===1&&pe===1&&ce.opaquePassEnabledForLayer()?"opaque":"translucent";if(ce.renderPass===$t){var ur=Kt.disabled,sr=ce.depthModeForSublayer(0,$t==="opaque"?nr.ReadWrite:nr.ReadOnly),kr=ce.colorModeForRenderPass(),Xr=ce.useProgram(Vt?"backgroundPattern":"background"),jr=ut.coveringTiles({tileSize:Lt});Vt&&(Oe.activeTexture.set(Xe.TEXTURE0),ce.imageManager.bind(ce.context));for(var Wr=de.getCrossfadeParameters(),Qr=0,dn=jr;Qr<dn.length;Qr+=1){var In=dn[Qr],Bn=ce.transform.calculatePosMatrix(In.toUnwrapped()),jn=Vt?hu(Bn,pe,ce,Vt,{tileID:In,tileSize:Lt},Wr):Ys(Bn,pe,q);Xr.draw(Oe,Xe.TRIANGLES,sr,ur,kr,Dt.disabled,jn,de.id,ce.tileExtentBuffer,ce.quadTriangleIndexBuffer,ce.tileExtentSegments)}}}}}var Tf=new s.Color(1,0,0,1),xu=new s.Color(0,1,0,1),lc=new s.Color(0,0,1,1),Ze=new s.Color(1,0,1,1),at=new s.Color(0,1,1,1);function yt(ce){var Z=ce.transform.padding,de=3;zt(ce,ce.transform.height-(Z.top||0),de,Tf),zt(ce,Z.bottom||0,de,xu),kt(ce,Z.left||0,de,lc),kt(ce,ce.transform.width-(Z.right||0),de,Ze);var q=ce.transform.centerPoint;wt(ce,q.x,ce.transform.height-q.y,at)}function wt(ce,Z,de,q){var pe=20,Oe=2;Ft(ce,Z-Oe/2,de-pe/2,Oe,pe,q),Ft(ce,Z-pe/2,de-Oe/2,pe,Oe,q)}function zt(ce,Z,de,q){Ft(ce,0,Z+de/2,ce.transform.width,de,q)}function kt(ce,Z,de,q){Ft(ce,Z-de/2,0,de,ce.transform.height,q)}function Ft(ce,Z,de,q,pe,Oe){var Xe=ce.context,ut=Xe.gl;ut.enable(ut.SCISSOR_TEST),ut.scissor(Z*s.browser.devicePixelRatio,de*s.browser.devicePixelRatio,q*s.browser.devicePixelRatio,pe*s.browser.devicePixelRatio),Xe.clear({color:Oe}),ut.disable(ut.SCISSOR_TEST)}function gr(ce,Z,de){for(var q=0;q<de.length;q++)wr(ce,Z,de[q])}function wr(ce,Z,de){var q=ce.context,pe=q.gl,Oe=de.posMatrix,Xe=ce.useProgram("debug"),ut=nr.disabled,Lt=Kt.disabled,Vt=ce.colorModeForRenderPass(),$t="$debug";q.activeTexture.set(pe.TEXTURE0),ce.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Xe.draw(q,pe.LINE_STRIP,ut,Lt,Vt,Dt.disabled,Qi(Oe,s.Color.red),$t,ce.debugBuffer,ce.tileBorderIndexBuffer,ce.debugSegments);var ur=Z.getTileByID(de.key).latestRawTileData,sr=ur&&ur.byteLength||0,kr=Math.floor(sr/1024),Xr=Z.getTile(de).tileSize,jr=512/Math.min(Xr,512)*(de.overscaledZ/ce.transform.zoom)*.5,Wr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Wr+=" => "+de.overscaledZ);var Qr=Wr+" "+kr+"kb";ar(ce,Qr),Xe.draw(q,pe.TRIANGLES,ut,Lt,lt.alphaBlended,Dt.disabled,Qi(Oe,s.Color.transparent,jr),$t,ce.debugBuffer,ce.quadTriangleIndexBuffer,ce.debugSegments)}function ar(ce,Z){ce.initDebugOverlayCanvas();var de=ce.debugOverlayCanvas,q=ce.context.gl,pe=ce.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(Z,5,5),pe.strokeText(Z,5,5),ce.debugOverlayTexture.update(de),ce.debugOverlayTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE)}function Sr(ce,Z,de){var q=ce.context,pe=de.implementation;if(ce.renderPass==="offscreen"){var Oe=pe.prerender;Oe&&(ce.setCustomLayerDefaults(),q.setColorMode(ce.colorModeForRenderPass()),Oe.call(pe,q.gl,ce.transform.customLayerMatrix()),q.setDirty(),ce.setBaseState())}else if(ce.renderPass==="translucent"){ce.setCustomLayerDefaults(),q.setColorMode(ce.colorModeForRenderPass()),q.setStencilMode(Kt.disabled);var Xe=pe.renderingMode==="3d"?new nr(ce.context.gl.LEQUAL,nr.ReadWrite,ce.depthRangeFor3D):ce.depthModeForSublayer(0,nr.ReadOnly);q.setDepthMode(Xe),pe.render(q.gl,ce.transform.customLayerMatrix()),q.setDirty(),ce.setBaseState(),q.bindFramebuffer.set(null)}}var Dr={symbol:ju,circle:oc,heatmap:Xs,line:Xu,fill:Rs,"fill-extrusion":bf,hillshade:yu,raster:mu,background:cl,debug:gr,custom:Sr},Ur=function(Z,de){this.context=new Ht(Z),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sa,this.gpuTimers={}};Ur.prototype.resize=function(Z,de){if(this.width=Z*s.browser.devicePixelRatio,this.height=de*s.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,pe=this.style._order;q<pe.length;q+=1){var Oe=pe[q];this.style._layers[Oe].resize()}},Ur.prototype.setup=function(){var Z=this.context,de=new s.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(s.EXTENT,0),de.emplaceBack(0,s.EXTENT),de.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(de,Co.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);var q=new s.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(s.EXTENT,0),q.emplaceBack(0,s.EXTENT),q.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=Z.createVertexBuffer(q,Co.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);var pe=new s.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(s.EXTENT,0,s.EXTENT,0),pe.emplaceBack(0,s.EXTENT,0,s.EXTENT),pe.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(pe,W.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Oe=new s.StructArrayLayout2i4;Oe.emplaceBack(0,0),Oe.emplaceBack(1,0),Oe.emplaceBack(0,1),Oe.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Oe,Co.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Xe=new s.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(Xe);var ut=new s.StructArrayLayout3ui6;ut.emplaceBack(0,1,2),ut.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(ut),this.emptyTexture=new s.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var Lt=this.context.gl;this.stencilClearMode=new Kt({func:Lt.ALWAYS,mask:0},0,255,Lt.ZERO,Lt.ZERO,Lt.ZERO)},Ur.prototype.clearStencil=function(){var Z=this.context,de=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=s.create();s.ortho(q,0,this.width,this.height,0,0,1),s.scale(q,q,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,de.TRIANGLES,nr.disabled,this.stencilClearMode,lt.disabled,Dt.disabled,Ol(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ur.prototype._renderTileClippingMasks=function(Z,de){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!de||!de.length)){this.currentStencilSource=Z.source;var q=this.context,pe=q.gl;this.nextStencilID+de.length>256&&this.clearStencil(),q.setColorMode(lt.disabled),q.setDepthMode(nr.disabled);var Oe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,ut=de;Xe<ut.length;Xe+=1){var Lt=ut[Xe],Vt=this._tileClippingMaskIDs[Lt.key]=this.nextStencilID++;Oe.draw(q,pe.TRIANGLES,nr.disabled,new Kt({func:pe.ALWAYS,mask:0},Vt,255,pe.KEEP,pe.KEEP,pe.REPLACE),lt.disabled,Dt.disabled,Ol(Lt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ur.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,de=this.context.gl;return new Kt({func:de.NOTEQUAL,mask:255},Z,255,de.KEEP,de.KEEP,de.REPLACE)},Ur.prototype.stencilModeForClipping=function(Z){var de=this.context.gl;return new Kt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,de.KEEP,de.KEEP,de.REPLACE)},Ur.prototype.stencilConfigForOverlap=function(Z){var de,q=this.context.gl,pe=Z.sort(function(Vt,$t){return $t.overscaledZ-Vt.overscaledZ}),Oe=pe[pe.length-1].overscaledZ,Xe=pe[0].overscaledZ-Oe+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var ut={},Lt=0;Lt<Xe;Lt++)ut[Lt+Oe]=new Kt({func:q.GEQUAL,mask:255},Lt+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=Xe,[ut,pe]}return[(de={},de[Oe]=Kt.disabled,de),pe]},Ur.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var de=8,q=1/de;return new lt([Z.CONSTANT_COLOR,Z.ONE],new s.Color(q,q,q,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Ur.prototype.depthModeForSublayer=function(Z,de,q){if(!this.opaquePassEnabledForLayer())return nr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new nr(q||this.context.gl.LEQUAL,de,[pe,pe])},Ur.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ur.prototype.render=function(Z,de){var q=this;this.style=Z,this.options=de,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(s.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,Oe=this.style.sourceCaches;for(var Xe in Oe){var ut=Oe[Xe];ut.used&&ut.prepare(this.context)}var Lt={},Vt={},$t={};for(var ur in Oe){var sr=Oe[ur];Lt[ur]=sr.getVisibleCoordinates(),Vt[ur]=Lt[ur].slice().reverse(),$t[ur]=sr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var kr=0;kr<pe.length;kr++){var Xr=pe[kr];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=kr;break}}this.renderPass="offscreen";for(var jr=0,Wr=pe;jr<Wr.length;jr+=1){var Qr=Wr[jr],dn=this.style._layers[Qr];if(!(!dn.hasOffscreenPass()||dn.isHidden(this.transform.zoom))){var In=Vt[dn.source];dn.type!=="custom"&&!In.length||this.renderLayer(this,Oe[dn.source],dn,In)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var Bn=this.style._layers[pe[this.currentLayer]],jn=Oe[Bn.source],Xn=Lt[Bn.source];this._renderTileClippingMasks(Bn,Xn),this.renderLayer(this,jn,Bn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var Wn=this.style._layers[pe[this.currentLayer]],Kn=Oe[Wn.source],na=(Wn.type==="symbol"?$t:Vt)[Wn.source];this._renderTileClippingMasks(Wn,Lt[Wn.source]),this.renderLayer(this,Kn,Wn,na)}if(this.options.showTileBoundaries){var ua,xa,da=s.values(this.style._layers);da.forEach(function(Fa){Fa.source&&!Fa.isHidden(q.transform.zoom)&&(Fa.source!==(xa&&xa.id)&&(xa=q.style.sourceCaches[Fa.source]),(!ua||ua.getSource().maxzoom<xa.getSource().maxzoom)&&(ua=xa))}),ua&&Dr.debug(this,ua,ua.getVisibleCoordinates())}this.options.showPadding&&yt(this),this.context.setDefault()},Ur.prototype.renderLayer=function(Z,de,q,pe){q.isHidden(this.transform.zoom)||q.type!=="background"&&q.type!=="custom"&&!pe.length||(this.id=q.id,this.gpuTimingStart(q),Dr[q.type](Z,de,q,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ur.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var de=this.context.extTimerQuery,q=this.gpuTimers[Z.id];q||(q=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),q.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,q.query)}},Ur.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Ur.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Ur.prototype.queryGpuTimers=function(Z){var de={};for(var q in Z){var pe=Z[q],Oe=this.context.extTimerQuery,Xe=Oe.getQueryObjectEXT(pe.query,Oe.QUERY_RESULT_EXT)/(1e3*1e3);Oe.deleteQueryEXT(pe.query),de[q]=Xe}return de},Ur.prototype.translatePosMatrix=function(Z,de,q,pe,Oe){if(!q[0]&&!q[1])return Z;var Xe=Oe?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Xe){var ut=Math.sin(Xe),Lt=Math.cos(Xe);q=[q[0]*Lt-q[1]*ut,q[0]*ut+q[1]*Lt]}var Vt=[Oe?q[0]:vn(de,q[0],this.transform.zoom),Oe?q[1]:vn(de,q[1],this.transform.zoom),0],$t=new Float32Array(16);return s.translate($t,Z,Vt),$t},Ur.prototype.saveTileTexture=function(Z){var de=this._tileTextures[Z.size[0]];de?de.push(Z):this._tileTextures[Z.size[0]]=[Z]},Ur.prototype.getTileTexture=function(Z){var de=this._tileTextures[Z];return de&&de.length>0?de.pop():null},Ur.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var de=this.imageManager.getPattern(Z.from.toString()),q=this.imageManager.getPattern(Z.to.toString());return!de||!q},Ur.prototype.useProgram=function(Z,de){this.cache=this.cache||{};var q=""+Z+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new pf(this.context,Z,Jf[Z],de,js[Z],this._showOverdrawInspector)),this.cache[q]},Ur.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ur.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Ur.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Ur.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var on=function(Z,de){this.points=Z,this.planes=de};on.fromInvProjectionMatrix=function(Z,de,q){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Oe=Math.pow(2,q),Xe=pe.map(function(Vt){return s.transformMat4([],Vt,Z)}).map(function(Vt){return s.scale$1([],Vt,1/Vt[3]/de*Oe)}),ut=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Lt=ut.map(function(Vt){var $t=s.sub([],Xe[Vt[0]],Xe[Vt[1]]),ur=s.sub([],Xe[Vt[2]],Xe[Vt[1]]),sr=s.normalize([],s.cross([],$t,ur)),kr=-s.dot(sr,Xe[Vt[1]]);return sr.concat(kr)});return new on(Xe,Lt)};var xn=function(Z,de){this.min=Z,this.max=de,this.center=s.scale$2([],s.add([],this.min,this.max),.5)};xn.prototype.quadrant=function(Z){for(var de=[Z%2===0,Z<2],q=s.clone$2(this.min),pe=s.clone$2(this.max),Oe=0;Oe<de.length;Oe++)q[Oe]=de[Oe]?this.min[Oe]:this.center[Oe],pe[Oe]=de[Oe]?this.center[Oe]:this.max[Oe];return pe[2]=this.max[2],new xn(q,pe)},xn.prototype.distanceX=function(Z){var de=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return de-Z[0]},xn.prototype.distanceY=function(Z){var de=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return de-Z[1]},xn.prototype.intersects=function(Z){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,pe=0;pe<Z.planes.length;pe++){for(var Oe=Z.planes[pe],Xe=0,ut=0;ut<de.length;ut++)Xe+=s.dot$1(Oe,de[ut])>=0;if(Xe===0)return 0;Xe!==de.length&&(q=!1)}if(q)return 2;for(var Lt=0;Lt<3;Lt++){for(var Vt=Number.MAX_VALUE,$t=-Number.MAX_VALUE,ur=0;ur<Z.points.length;ur++){var sr=Z.points[ur][Lt]-this.min[Lt];Vt=Math.min(Vt,sr),$t=Math.max($t,sr)}if($t<0||Vt>this.max[Lt]-this.min[Lt])return 0}return 1};var _n=function(Z,de,q,pe){if(Z===void 0&&(Z=0),de===void 0&&(de=0),q===void 0&&(q=0),pe===void 0&&(pe=0),isNaN(Z)||Z<0||isNaN(de)||de<0||isNaN(q)||q<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=de,this.left=q,this.right=pe};_n.prototype.interpolate=function(Z,de,q){return de.top!=null&&Z.top!=null&&(this.top=s.number(Z.top,de.top,q)),de.bottom!=null&&Z.bottom!=null&&(this.bottom=s.number(Z.bottom,de.bottom,q)),de.left!=null&&Z.left!=null&&(this.left=s.number(Z.left,de.left,q)),de.right!=null&&Z.right!=null&&(this.right=s.number(Z.right,de.right,q)),this},_n.prototype.getCenter=function(Z,de){var q=s.clamp((this.left+Z-this.right)/2,0,Z),pe=s.clamp((this.top+de-this.bottom)/2,0,de);return new s.Point(q,pe)},_n.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},_n.prototype.clone=function(){return new _n(this.top,this.bottom,this.left,this.right)},_n.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Dn=function(Z,de,q,pe,Oe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Oe===void 0?!0:Oe,this._minZoom=Z||0,this._maxZoom=de||22,this._minPitch=q??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new _n,this._posMatrixCache={},this._alignedPosMatrixCache={}},Zn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Dn.prototype.clone=function(){var Z=new Dn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Zn.minZoom.get=function(){return this._minZoom},Zn.minZoom.set=function(ce){this._minZoom!==ce&&(this._minZoom=ce,this.zoom=Math.max(this.zoom,ce))},Zn.maxZoom.get=function(){return this._maxZoom},Zn.maxZoom.set=function(ce){this._maxZoom!==ce&&(this._maxZoom=ce,this.zoom=Math.min(this.zoom,ce))},Zn.minPitch.get=function(){return this._minPitch},Zn.minPitch.set=function(ce){this._minPitch!==ce&&(this._minPitch=ce,this.pitch=Math.max(this.pitch,ce))},Zn.maxPitch.get=function(){return this._maxPitch},Zn.maxPitch.set=function(ce){this._maxPitch!==ce&&(this._maxPitch=ce,this.pitch=Math.min(this.pitch,ce))},Zn.renderWorldCopies.get=function(){return this._renderWorldCopies},Zn.renderWorldCopies.set=function(ce){ce===void 0?ce=!0:ce===null&&(ce=!1),this._renderWorldCopies=ce},Zn.worldSize.get=function(){return this.tileSize*this.scale},Zn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Zn.size.get=function(){return new s.Point(this.width,this.height)},Zn.bearing.get=function(){return-this.angle/Math.PI*180},Zn.bearing.set=function(ce){var Z=-s.wrap(ce,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=s.create$2(),s.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Zn.pitch.get=function(){return this._pitch/Math.PI*180},Zn.pitch.set=function(ce){var Z=s.clamp(ce,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Zn.fov.get=function(){return this._fov/Math.PI*180},Zn.fov.set=function(ce){ce=Math.max(.01,Math.min(60,ce)),this._fov!==ce&&(this._unmodified=!1,this._fov=ce/180*Math.PI,this._calcMatrices())},Zn.zoom.get=function(){return this._zoom},Zn.zoom.set=function(ce){var Z=Math.min(Math.max(ce,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Zn.center.get=function(){return this._center},Zn.center.set=function(ce){ce.lat===this._center.lat&&ce.lng===this._center.lng||(this._unmodified=!1,this._center=ce,this._constrain(),this._calcMatrices())},Zn.padding.get=function(){return this._edgeInsets.toJSON()},Zn.padding.set=function(ce){this._edgeInsets.equals(ce)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ce,1),this._calcMatrices())},Zn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Dn.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},Dn.prototype.interpolatePadding=function(Z,de,q){this._unmodified=!1,this._edgeInsets.interpolate(Z,de,q),this._constrain(),this._calcMatrices()},Dn.prototype.coveringZoomLevel=function(Z){var de=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,de)},Dn.prototype.getVisibleUnwrappedCoordinates=function(Z){var de=[new s.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new s.Point(0,0)),pe=this.pointCoordinate(new s.Point(this.width,0)),Oe=this.pointCoordinate(new s.Point(this.width,this.height)),Xe=this.pointCoordinate(new s.Point(0,this.height)),ut=Math.floor(Math.min(q.x,pe.x,Oe.x,Xe.x)),Lt=Math.floor(Math.max(q.x,pe.x,Oe.x,Xe.x)),Vt=1,$t=ut-Vt;$t<=Lt+Vt;$t++)$t!==0&&de.push(new s.UnwrappedTileID($t,Z));return de},Dn.prototype.coveringTiles=function(Z){var de=this.coveringZoomLevel(Z),q=de;if(Z.minzoom!==void 0&&de<Z.minzoom)return[];Z.maxzoom!==void 0&&de>Z.maxzoom&&(de=Z.maxzoom);var pe=s.MercatorCoordinate.fromLngLat(this.center),Oe=Math.pow(2,de),Xe=[Oe*pe.x,Oe*pe.y,0],ut=on.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Lt=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Lt=de);var Vt=3,$t=function(da){return{aabb:new xn([da*Oe,0,0],[(da+1)*Oe,Oe,0]),zoom:0,x:0,y:0,wrap:da,fullyVisible:!1}},ur=[],sr=[],kr=de,Xr=Z.reparseOverscaled?q:de;if(this._renderWorldCopies)for(var jr=1;jr<=3;jr++)ur.push($t(-jr)),ur.push($t(jr));for(ur.push($t(0));ur.length>0;){var Wr=ur.pop(),Qr=Wr.x,dn=Wr.y,In=Wr.fullyVisible;if(!In){var Bn=Wr.aabb.intersects(ut);if(Bn===0)continue;In=Bn===2}var jn=Wr.aabb.distanceX(Xe),Xn=Wr.aabb.distanceY(Xe),Wn=Math.max(Math.abs(jn),Math.abs(Xn)),Kn=Vt+(1<<kr-Wr.zoom)-2;if(Wr.zoom===kr||Wn>Kn&&Wr.zoom>=Lt){sr.push({tileID:new s.OverscaledTileID(Wr.zoom===kr?Xr:Wr.zoom,Wr.wrap,Wr.zoom,Qr,dn),distanceSq:s.sqrLen([Xe[0]-.5-Qr,Xe[1]-.5-dn])});continue}for(var na=0;na<4;na++){var ua=(Qr<<1)+na%2,xa=(dn<<1)+(na>>1);ur.push({aabb:Wr.aabb.quadrant(na),zoom:Wr.zoom+1,x:ua,y:xa,wrap:Wr.wrap,fullyVisible:In})}}return sr.sort(function(da,Fa){return da.distanceSq-Fa.distanceSq}).map(function(da){return da.tileID})},Dn.prototype.resize=function(Z,de){this.width=Z,this.height=de,this.pixelsToGLUnits=[2/Z,-2/de],this._constrain(),this._calcMatrices()},Zn.unmodified.get=function(){return this._unmodified},Dn.prototype.zoomScale=function(Z){return Math.pow(2,Z)},Dn.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},Dn.prototype.project=function(Z){var de=s.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.Point(s.mercatorXfromLng(Z.lng)*this.worldSize,s.mercatorYfromLat(de)*this.worldSize)},Dn.prototype.unproject=function(Z){return new s.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Zn.point.get=function(){return this.project(this.center)},Dn.prototype.setLocationAtPoint=function(Z,de){var q=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),Oe=this.locationCoordinate(Z),Xe=new s.MercatorCoordinate(Oe.x-(q.x-pe.x),Oe.y-(q.y-pe.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},Dn.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},Dn.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},Dn.prototype.locationCoordinate=function(Z){return s.MercatorCoordinate.fromLngLat(Z)},Dn.prototype.coordinateLocation=function(Z){return Z.toLngLat()},Dn.prototype.pointCoordinate=function(Z){var de=0,q=[Z.x,Z.y,0,1],pe=[Z.x,Z.y,1,1];s.transformMat4(q,q,this.pixelMatrixInverse),s.transformMat4(pe,pe,this.pixelMatrixInverse);var Oe=q[3],Xe=pe[3],ut=q[0]/Oe,Lt=pe[0]/Xe,Vt=q[1]/Oe,$t=pe[1]/Xe,ur=q[2]/Oe,sr=pe[2]/Xe,kr=ur===sr?0:(de-ur)/(sr-ur);return new s.MercatorCoordinate(s.number(ut,Lt,kr)/this.worldSize,s.number(Vt,$t,kr)/this.worldSize)},Dn.prototype.coordinatePoint=function(Z){var de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return s.transformMat4(de,de,this.pixelMatrix),new s.Point(de[0]/de[3],de[1]/de[3])},Dn.prototype.getBounds=function(){return new s.LngLatBounds().extend(this.pointLocation(new s.Point(0,0))).extend(this.pointLocation(new s.Point(this.width,0))).extend(this.pointLocation(new s.Point(this.width,this.height))).extend(this.pointLocation(new s.Point(0,this.height)))},Dn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Dn.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Dn.prototype.calculatePosMatrix=function(Z,de){de===void 0&&(de=!1);var q=Z.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[q])return pe[q];var Oe=Z.canonical,Xe=this.worldSize/this.zoomScale(Oe.z),ut=Oe.x+Math.pow(2,Oe.z)*Z.wrap,Lt=s.identity(new Float64Array(16));return s.translate(Lt,Lt,[ut*Xe,Oe.y*Xe,0]),s.scale(Lt,Lt,[Xe/s.EXTENT,Xe/s.EXTENT,1]),s.multiply(Lt,de?this.alignedProjMatrix:this.projMatrix,Lt),pe[q]=new Float32Array(Lt),pe[q]},Dn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Dn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,de=90,q=-180,pe=180,Oe,Xe,ut,Lt,Vt=this.size,$t=this._unmodified;if(this.latRange){var ur=this.latRange;Z=s.mercatorYfromLat(ur[1])*this.worldSize,de=s.mercatorYfromLat(ur[0])*this.worldSize,Oe=de-Z<Vt.y?Vt.y/(de-Z):0}if(this.lngRange){var sr=this.lngRange;q=s.mercatorXfromLng(sr[0])*this.worldSize,pe=s.mercatorXfromLng(sr[1])*this.worldSize,Xe=pe-q<Vt.x?Vt.x/(pe-q):0}var kr=this.point,Xr=Math.max(Xe||0,Oe||0);if(Xr){this.center=this.unproject(new s.Point(Xe?(pe+q)/2:kr.x,Oe?(de+Z)/2:kr.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=$t,this._constraining=!1;return}if(this.latRange){var jr=kr.y,Wr=Vt.y/2;jr-Wr<Z&&(Lt=Z+Wr),jr+Wr>de&&(Lt=de-Wr)}if(this.lngRange){var Qr=kr.x,dn=Vt.x/2;Qr-dn<q&&(ut=q+dn),Qr+dn>pe&&(ut=pe-dn)}(ut!==void 0||Lt!==void 0)&&(this.center=this.unproject(new s.Point(ut!==void 0?ut:kr.x,Lt!==void 0?Lt:kr.y))),this._unmodified=$t,this._constraining=!1}},Dn.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var q=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),Oe=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(s.clamp(Math.PI-q-pe,.01,Math.PI-.01)),Xe=this.point,ut=Xe.x,Lt=Xe.y,Vt=Math.cos(Math.PI/2-this._pitch)*Oe+this.cameraToCenterDistance,$t=Vt*1.01,ur=this.height/50,sr=new Float64Array(16);s.perspective(sr,this._fov,this.width/this.height,ur,$t),sr[8]=-de.x*2/this.width,sr[9]=de.y*2/this.height,s.scale(sr,sr,[1,-1,1]),s.translate(sr,sr,[0,0,-this.cameraToCenterDistance]),s.rotateX(sr,sr,this._pitch),s.rotateZ(sr,sr,this.angle),s.translate(sr,sr,[-ut,-Lt,0]),this.mercatorMatrix=s.scale([],sr,[this.worldSize,this.worldSize,this.worldSize]),s.scale(sr,sr,[1,1,s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=sr,this.invProjMatrix=s.invert([],this.projMatrix);var kr=this.width%2/2,Xr=this.height%2/2,jr=Math.cos(this.angle),Wr=Math.sin(this.angle),Qr=ut-Math.round(ut)+jr*kr+Wr*Xr,dn=Lt-Math.round(Lt)+jr*Xr+Wr*kr,In=new Float64Array(sr);if(s.translate(In,In,[Qr>.5?Qr-1:Qr,dn>.5?dn-1:dn,0]),this.alignedProjMatrix=In,sr=s.create(),s.scale(sr,sr,[this.width/2,-this.height/2,1]),s.translate(sr,sr,[1,-1,0]),this.labelPlaneMatrix=sr,sr=s.create(),s.scale(sr,sr,[1,-1,1]),s.translate(sr,sr,[-1,-1,0]),s.scale(sr,sr,[2/this.width,2/this.height,1]),this.glCoordMatrix=sr,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),sr=s.invert(new Float64Array(16),this.pixelMatrix),!sr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=sr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Dn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new s.Point(0,0)),de=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],q=s.transformMat4(de,de,this.pixelMatrix);return q[3]/this.cameraToCenterDistance},Dn.prototype.getCameraPoint=function(){var Z=this._pitch,de=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,de))},Dn.prototype.getCameraQueryGeometry=function(Z){var de=this.getCameraPoint();if(Z.length===1)return[Z[0],de];for(var q=de.x,pe=de.y,Oe=de.x,Xe=de.y,ut=0,Lt=Z;ut<Lt.length;ut+=1){var Vt=Lt[ut];q=Math.min(q,Vt.x),pe=Math.min(pe,Vt.y),Oe=Math.max(Oe,Vt.x),Xe=Math.max(Xe,Vt.y)}return[new s.Point(q,pe),new s.Point(Oe,pe),new s.Point(Oe,Xe),new s.Point(q,Xe),new s.Point(q,pe)]},Object.defineProperties(Dn.prototype,Zn);function Ra(ce,Z){var de=!1,q=null,pe=function(){q=null,de&&(ce(),q=setTimeout(pe,Z),de=!1)};return function(){return de=!0,q||pe(),q}}var Da=function(Z){this._hashName=Z&&encodeURIComponent(Z),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ra(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(Z){return this._map=Z,s.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return s.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(Z){var de=this._map.getCenter(),q=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),Oe=Math.pow(10,pe),Xe=Math.round(de.lng*Oe)/Oe,ut=Math.round(de.lat*Oe)/Oe,Lt=this._map.getBearing(),Vt=this._map.getPitch(),$t="";if(Z?$t+="/"+Xe+"/"+ut+"/"+q:$t+=q+"/"+ut+"/"+Xe,(Lt||Vt)&&($t+="/"+Math.round(Lt*10)/10),Vt&&($t+="/"+Math.round(Vt)),this._hashName){var ur=this._hashName,sr=!1,kr=s.window.location.hash.slice(1).split("&").map(function(Xr){var jr=Xr.split("=")[0];return jr===ur?(sr=!0,jr+"="+$t):Xr}).filter(function(Xr){return Xr});return sr||kr.push(ur+"="+$t),"#"+kr.join("&")}return"#"+$t},Da.prototype._getCurrentHash=function(){var Z=this,de=s.window.location.hash.replace("#","");if(this._hashName){var q;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===Z._hashName&&(q=pe)}),(q&&q[1]||"").split("/")}return de.split("/")},Da.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(q){return isNaN(q)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:de,pitch:+(Z[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var Z=s.window.location.href.replace(/(#.+)?$/,this.getHashString());try{s.window.history.replaceState(s.window.history.state,null,Z)}catch{}};var ka={linearity:.3,easing:s.bezier(0,0,.3,1)},Na=s.extend({deceleration:2500,maxSpeed:1400},ka),Ka=s.extend({deceleration:20,maxSpeed:1400},ka),di=s.extend({deceleration:1e3,maxSpeed:360},ka),zi=s.extend({deceleration:1e3,maxSpeed:90},ka),ue=function(Z){this._map=Z,this.clear()};ue.prototype.clear=function(){this._inertiaBuffer=[]},ue.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.browser.now(),settings:Z})},ue.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,de=s.browser.now(),q=160;Z.length>0&&de-Z[0].time>q;)Z.shift()},ue.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0},q=0,pe=this._inertiaBuffer;q<pe.length;q+=1){var Oe=pe[q],Xe=Oe.settings;de.zoom+=Xe.zoomDelta||0,de.bearing+=Xe.bearingDelta||0,de.pitch+=Xe.pitchDelta||0,Xe.panDelta&&de.pan._add(Xe.panDelta),Xe.around&&(de.around=Xe.around),Xe.pinchAround&&(de.pinchAround=Xe.pinchAround)}var ut=this._inertiaBuffer[this._inertiaBuffer.length-1],Lt=ut.time-this._inertiaBuffer[0].time,Vt={};if(de.pan.mag()){var $t=Be(de.pan.mag(),Lt,s.extend({},Na,Z||{}));Vt.offset=de.pan.mult($t.amount/de.pan.mag()),Vt.center=this._map.transform.center,Ae(Vt,$t)}if(de.zoom){var ur=Be(de.zoom,Lt,Ka);Vt.zoom=this._map.transform.zoom+ur.amount,Ae(Vt,ur)}if(de.bearing){var sr=Be(de.bearing,Lt,di);Vt.bearing=this._map.transform.bearing+s.clamp(sr.amount,-179,179),Ae(Vt,sr)}if(de.pitch){var kr=Be(de.pitch,Lt,zi);Vt.pitch=this._map.transform.pitch+kr.amount,Ae(Vt,kr)}if(Vt.zoom||Vt.bearing){var Xr=de.pinchAround===void 0?de.around:de.pinchAround;Vt.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),s.extend(Vt,{noMoveStart:!0})}};function Ae(ce,Z){(!ce.duration||ce.duration<Z.duration)&&(ce.duration=Z.duration,ce.easing=Z.easing)}function Be(ce,Z,de){var q=de.maxSpeed,pe=de.linearity,Oe=de.deceleration,Xe=s.clamp(ce*pe/(Z/1e3),-q,q),ut=Math.abs(Xe)/(Oe*pe);return{easing:de.easing,duration:ut*1e3,amount:Xe*(ut/2)}}var qe=function(ce){function Z(q,pe,Oe,Xe){Xe===void 0&&(Xe={});var ut=S.mousePos(pe.getCanvasContainer(),Oe),Lt=pe.unproject(ut);ce.call(this,q,s.extend({point:ut,lngLat:Lt,originalEvent:Oe},Xe)),this._defaultPrevented=!1,this.target=pe}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(s.Event),nt=function(ce){function Z(q,pe,Oe){var Xe=q==="touchend"?Oe.changedTouches:Oe.touches,ut=S.touchPos(pe.getCanvasContainer(),Xe),Lt=ut.map(function(ur){return pe.unproject(ur)}),Vt=ut.reduce(function(ur,sr,kr,Xr){return ur.add(sr.div(Xr.length))},new s.Point(0,0)),$t=pe.unproject(Vt);ce.call(this,q,{points:ut,point:Vt,lngLats:Lt,lngLat:$t,originalEvent:Oe}),this._defaultPrevented=!1}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(s.Event),ft=function(ce){function Z(q,pe,Oe){ce.call(this,q,{originalEvent:Oe}),this._defaultPrevented=!1}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var de={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,de),Z}(s.Event),_t=function(Z,de){this._map=Z,this._clickTolerance=de.clickTolerance};_t.prototype.reset=function(){delete this._mousedownPos},_t.prototype.wheel=function(Z){return this._firePreventable(new ft(Z.type,this._map,Z))},_t.prototype.mousedown=function(Z,de){return this._mousedownPos=de,this._firePreventable(new qe(Z.type,this._map,Z))},_t.prototype.mouseup=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},_t.prototype.click=function(Z,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new qe(Z.type,this._map,Z))},_t.prototype.dblclick=function(Z){return this._firePreventable(new qe(Z.type,this._map,Z))},_t.prototype.mouseover=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},_t.prototype.mouseout=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},_t.prototype.touchstart=function(Z){return this._firePreventable(new nt(Z.type,this._map,Z))},_t.prototype.touchmove=function(Z){this._map.fire(new nt(Z.type,this._map,Z))},_t.prototype.touchend=function(Z){this._map.fire(new nt(Z.type,this._map,Z))},_t.prototype.touchcancel=function(Z){this._map.fire(new nt(Z.type,this._map,Z))},_t.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},_t.prototype.isEnabled=function(){return!0},_t.prototype.isActive=function(){return!1},_t.prototype.enable=function(){},_t.prototype.disable=function(){};var At=function(Z){this._map=Z};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(Z){this._map.fire(new qe(Z.type,this._map,Z))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new qe(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Gt=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=de.clickTolerance||1};Gt.prototype.isEnabled=function(){return!!this._enabled},Gt.prototype.isActive=function(){return!!this._active},Gt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Gt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Gt.prototype.mousedown=function(Z,de){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(S.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},Gt.prototype.mousemoveWindow=function(Z,de){if(this._active){var q=de;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=q,this._box||(this._box=S.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Oe=Math.min(pe.x,q.x),Xe=Math.max(pe.x,q.x),ut=Math.min(pe.y,q.y),Lt=Math.max(pe.y,q.y);S.setTransform(this._box,"translate("+Oe+"px,"+ut+"px)"),this._box.style.width=Xe-Oe+"px",this._box.style.height=Lt-ut+"px"}}},Gt.prototype.mouseupWindow=function(Z,de){var q=this;if(this._active&&Z.button===0){var pe=this._startPos,Oe=de;if(this.reset(),S.suppressClick(),pe.x===Oe.x&&pe.y===Oe.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new s.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(pe,Oe,q._map.getBearing(),{linear:!0})}}}},Gt.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},Gt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},Gt.prototype._fireEvent=function(Z,de){return this._map.fire(new s.Event(Z,{originalEvent:de}))};function Yt(ce,Z){for(var de={},q=0;q<ce.length;q++)de[ce[q].identifier]=Z[q];return de}function tr(ce){for(var Z=new s.Point(0,0),de=0,q=ce;de<q.length;de+=1){var pe=q[de];Z._add(pe)}return Z.div(ce.length)}var Cr=500,Lr=500,$r=30,sn=function(Z){this.reset(),this.numTouches=Z.numTouches};sn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},sn.prototype.touchstart=function(Z,de,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),q.length===this.numTouches&&(this.centroid=tr(de),this.touches=Yt(q,de)))},sn.prototype.touchmove=function(Z,de,q){if(!(this.aborted||!this.centroid)){var pe=Yt(q,de);for(var Oe in this.touches){var Xe=this.touches[Oe],ut=pe[Oe];(!ut||ut.dist(Xe)>$r)&&(this.aborted=!0)}}},sn.prototype.touchend=function(Z,de,q){if((!this.centroid||Z.timeStamp-this.startTime>Lr)&&(this.aborted=!0),q.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var _r=function(Z){this.singleTap=new sn(Z),this.numTaps=Z.numTaps,this.reset()};_r.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},_r.prototype.touchstart=function(Z,de,q){this.singleTap.touchstart(Z,de,q)},_r.prototype.touchmove=function(Z,de,q){this.singleTap.touchmove(Z,de,q)},_r.prototype.touchend=function(Z,de,q){var pe=this.singleTap.touchend(Z,de,q);if(pe){var Oe=Z.timeStamp-this.lastTime<Cr,Xe=!this.lastTap||this.lastTap.dist(pe)<$r;if((!Oe||!Xe)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Vr=function(){this._zoomIn=new _r({numTouches:1,numTaps:2}),this._zoomOut=new _r({numTouches:2,numTaps:1}),this.reset()};Vr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vr.prototype.touchstart=function(Z,de,q){this._zoomIn.touchstart(Z,de,q),this._zoomOut.touchstart(Z,de,q)},Vr.prototype.touchmove=function(Z,de,q){this._zoomIn.touchmove(Z,de,q),this._zoomOut.touchmove(Z,de,q)},Vr.prototype.touchend=function(Z,de,q){var pe=this,Oe=this._zoomIn.touchend(Z,de,q),Xe=this._zoomOut.touchend(Z,de,q);if(Oe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()+1,around:ut.unproject(Oe)},{originalEvent:Z})}};if(Xe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()-1,around:ut.unproject(Xe)},{originalEvent:Z})}}},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Kr=0,hn=2,pn={};pn[Kr]=1,pn[hn]=2;function rn(ce,Z){var de=pn[Z];return ce.buttons===void 0||(ce.buttons&de)!==de}var Hn=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(Z,de){return!1},Hn.prototype._move=function(Z,de){return{}},Hn.prototype.mousedown=function(Z,de){if(!this._lastPoint){var q=S.mouseButton(Z);this._correctButton(Z,q)&&(this._lastPoint=de,this._eventButton=q)}},Hn.prototype.mousemoveWindow=function(Z,de){var q=this._lastPoint;if(q){if(Z.preventDefault(),rn(Z,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(q)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(q,de)}},Hn.prototype.mouseupWindow=function(Z){if(this._lastPoint){var de=S.mouseButton(Z);de===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var ra=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(q,pe){ce.prototype.mousedown.call(this,q,pe),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(q,pe){return pe===Kr&&!q.ctrlKey},Z.prototype._move=function(q,pe){return{around:pe,panDelta:pe.sub(q)}},Z}(Hn),fa=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(q,pe){return pe===Kr&&q.ctrlKey||pe===hn},Z.prototype._move=function(q,pe){var Oe=.8,Xe=(pe.x-q.x)*Oe;if(Xe)return this._active=!0,{bearingDelta:Xe}},Z.prototype.contextmenu=function(q){q.preventDefault()},Z}(Hn),ea=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(q,pe){return pe===Kr&&q.ctrlKey||pe===hn},Z.prototype._move=function(q,pe){var Oe=-.5,Xe=(pe.y-q.y)*Oe;if(Xe)return this._active=!0,{pitchDelta:Xe}},Z.prototype.contextmenu=function(q){q.preventDefault()},Z}(Hn),oa=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};oa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)},oa.prototype.touchstart=function(Z,de,q){return this._calculateTransform(Z,de,q)},oa.prototype.touchmove=function(Z,de,q){if(!(!this._active||q.length<this._minTouches))return Z.preventDefault(),this._calculateTransform(Z,de,q)},oa.prototype.touchend=function(Z,de,q){this._calculateTransform(Z,de,q),this._active&&q.length<this._minTouches&&this.reset()},oa.prototype.touchcancel=function(){this.reset()},oa.prototype._calculateTransform=function(Z,de,q){q.length>0&&(this._active=!0);var pe=Yt(q,de),Oe=new s.Point(0,0),Xe=new s.Point(0,0),ut=0;for(var Lt in pe){var Vt=pe[Lt],$t=this._touches[Lt];$t&&(Oe._add(Vt),Xe._add(Vt.sub($t)),ut++,pe[Lt]=Vt)}if(this._touches=pe,!(ut<this._minTouches||!Xe.mag())){var ur=Xe.div(ut);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var sr=Oe.div(ut);return{around:sr,panDelta:ur}}}},oa.prototype.enable=function(){this._enabled=!0},oa.prototype.disable=function(){this._enabled=!1,this.reset()},oa.prototype.isEnabled=function(){return this._enabled},oa.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(Z){},ca.prototype._move=function(Z,de,q){return{}},ca.prototype.touchstart=function(Z,de,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([de[0],de[1]]))},ca.prototype.touchmove=function(Z,de,q){if(this._firstTwoTouches){Z.preventDefault();var pe=this._firstTwoTouches,Oe=pe[0],Xe=pe[1],ut=Ua(q,de,Oe),Lt=Ua(q,de,Xe);if(!(!ut||!Lt)){var Vt=this._aroundCenter?null:ut.add(Lt).div(2);return this._move([ut,Lt],Vt,Z)}}},ca.prototype.touchend=function(Z,de,q){if(this._firstTwoTouches){var pe=this._firstTwoTouches,Oe=pe[0],Xe=pe[1],ut=Ua(q,de,Oe),Lt=Ua(q,de,Xe);ut&&Lt||(this._active&&S.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function Ua(ce,Z,de){for(var q=0;q<ce.length;q++)if(ce[q].identifier===de)return Z[q]}var Ea=.1;function Oa(ce,Z){return Math.log(ce/Z)/Math.LN2}var ii=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},Z.prototype._move=function(q,pe){var Oe=this._distance;if(this._distance=q[0].dist(q[1]),!(!this._active&&Math.abs(Oa(this._distance,this._startDistance))<Ea))return this._active=!0,{zoomDelta:Oa(this._distance,Oe),pinchAround:pe}},Z}(ca),Fi=25;function ci(ce,Z){return ce.angleWith(Z)*180/Math.PI}var qn=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},Z.prototype._move=function(q,pe){var Oe=this._vector;if(this._vector=q[0].sub(q[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ci(this._vector,Oe),pinchAround:pe}},Z.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var pe=Math.PI*this._minDiameter,Oe=Fi/pe*360,Xe=ci(q,this._startVector);return Math.abs(Xe)<Oe},Z}(ca);function Ha(ce){return Math.abs(ce.y)>Math.abs(ce.x)}var Sa=100,Ja=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(q){this._lastPoints=q,Ha(q[0].sub(q[1]))&&(this._valid=!1)},Z.prototype._move=function(q,pe,Oe){var Xe=q[0].sub(this._lastPoints[0]),ut=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,ut,Oe.timeStamp),!!this._valid){this._lastPoints=q,this._active=!0;var Lt=(Xe.y+ut.y)/2,Vt=-.5;return{pitchDelta:Lt*Vt}}},Z.prototype.gestureBeginsVertically=function(q,pe,Oe){if(this._valid!==void 0)return this._valid;var Xe=2,ut=q.mag()>=Xe,Lt=pe.mag()>=Xe;if(!(!ut&&!Lt)){if(!ut||!Lt)return this._firstMove===void 0&&(this._firstMove=Oe),Oe-this._firstMove<Sa?void 0:!1;var Vt=q.y>0==pe.y>0;return Ha(q)&&Ha(pe)&&Vt}},Z}(ca),wi={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var Z=wi;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep,this._rotationDisabled=!1};oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(Z){var de=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var q=0,pe=0,Oe=0,Xe=0,ut=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:Z.shiftKey?pe=-1:(Z.preventDefault(),Xe=-1);break;case 39:Z.shiftKey?pe=1:(Z.preventDefault(),Xe=1);break;case 38:Z.shiftKey?Oe=1:(Z.preventDefault(),ut=-1);break;case 40:Z.shiftKey?Oe=-1:(Z.preventDefault(),ut=1);break;default:return}return this._rotationDisabled&&(pe=0,Oe=0),{cameraAnimation:function(Lt){var Vt=Lt.getZoom();Lt.easeTo({duration:300,easeId:"keyboardHandler",easing:$i,zoom:q?Math.round(Vt)+q*(Z.shiftKey?2:1):Vt,bearing:Lt.getBearing()+pe*de._bearingStep,pitch:Lt.getPitch()+Oe*de._pitchStep,offset:[-Xe*de._panStep,-ut*de._panStep],center:Lt.getCenter()},{originalEvent:Z})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};function $i(ce){return ce*(2-ce)}var qi=4.000244140625,ao=1/100,Ti=1/450,go=2,la=function(Z,de){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=ao,this._wheelZoomRate=Ti,s.bindAll(["_onTimeout"],this)};la.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},la.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},la.prototype.isEnabled=function(){return!!this._enabled},la.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},la.prototype.isZooming=function(){return!!this._zooming},la.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},la.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},la.prototype.wheel=function(Z){if(this.isEnabled()){var de=Z.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,q=s.browser.now(),pe=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,de!==0&&de%qi===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),Z.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=Z,this._delta-=de,this._active||this._start(Z)),Z.preventDefault()}},la.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},la.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=S.mousePos(this._el,Z);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},la.prototype.renderFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var q=this._type==="wheel"&&Math.abs(this._delta)>qi?this._wheelZoomRate:this._defaultZoomRate,pe=go/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&pe!==0&&(pe=1/pe);var Oe=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(Oe*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ut=this._startZoom,Lt=this._easing,Vt=!1,$t;if(this._type==="wheel"&&ut&&Lt){var ur=Math.min((s.browser.now()-this._lastWheelEventTime)/200,1),sr=Lt(ur);$t=s.number(ut,Xe,sr),ur<1?this._frameId||(this._frameId=!0):Vt=!0}else $t=Xe,Vt=!0;return this._active=!0,Vt&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Vt,zoomDelta:$t-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},la.prototype._smoothOutEasing=function(Z){var de=s.ease;if(this._prevEase){var q=this._prevEase,pe=(s.browser.now()-q.start)/q.duration,Oe=q.easing(pe+.01)-q.easing(pe),Xe=.27/Math.sqrt(Oe*Oe+1e-4)*.01,ut=Math.sqrt(.27*.27-Xe*Xe);de=s.bezier(Xe,ut,.25,1)}return this._prevEase={start:s.browser.now(),duration:Z,easing:de},de},la.prototype.reset=function(){this._active=!1};var La=function(Z,de){this._clickZoom=Z,this._tapZoom=de};La.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},La.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},La.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},La.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ro=function(){this.reset()};Ro.prototype.reset=function(){this._active=!1},Ro.prototype.dblclick=function(Z,de){return Z.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(Z.shiftKey?-1:1),around:q.unproject(de)},{originalEvent:Z})}}},Ro.prototype.enable=function(){this._enabled=!0},Ro.prototype.disable=function(){this._enabled=!1,this.reset()},Ro.prototype.isEnabled=function(){return this._enabled},Ro.prototype.isActive=function(){return this._active};var Fo=function(){this._tap=new _r({numTouches:1,numTaps:1}),this.reset()};Fo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Fo.prototype.touchstart=function(Z,de,q){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=de[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(Z,de,q))},Fo.prototype.touchmove=function(Z,de,q){if(!this._tapTime)this._tap.touchmove(Z,de,q);else if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var pe=de[0],Oe=pe.y-this._swipePoint.y;return this._swipePoint=pe,Z.preventDefault(),this._active=!0,{zoomDelta:Oe/128}}},Fo.prototype.touchend=function(Z,de,q){if(this._tapTime)this._swipePoint&&q.length===0&&this.reset();else{var pe=this._tap.touchend(Z,de,q);pe&&(this._tapTime=Z.timeStamp)}},Fo.prototype.touchcancel=function(){this.reset()},Fo.prototype.enable=function(){this._enabled=!0},Fo.prototype.disable=function(){this._enabled=!1,this.reset()},Fo.prototype.isEnabled=function(){return this._enabled},Fo.prototype.isActive=function(){return this._active};var io=function(Z,de,q){this._el=Z,this._mousePan=de,this._touchPan=q};io.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},io.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},io.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},io.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var hi=function(Z,de,q){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=de,this._mousePitch=q};hi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},hi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},hi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},hi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Wi=function(Z,de,q,pe){this._el=Z,this._touchZoom=de,this._touchRotate=q,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Wi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Wi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Wi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Wi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Wi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Wi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ni=function(ce){return ce.zoom||ce.drag||ce.pitch||ce.rotate},ps=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z}(s.Event);function Ds(ce){return ce.panDelta&&ce.panDelta.mag()||ce.zoomDelta||ce.bearingDelta||ce.pitchDelta}var Li=function(Z,de){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ue(Z),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),s.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!0}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[s.window,"blur",void 0]];for(var pe=0,Oe=this._listeners;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe[0],Lt=Xe[1],Vt=Xe[2];S.addEventListener(ut,Lt,ut===s.window.document?this.handleWindowEvent:this.handleEvent,Vt)}};Li.prototype.destroy=function(){for(var Z=0,de=this._listeners;Z<de.length;Z+=1){var q=de[Z],pe=q[0],Oe=q[1],Xe=q[2];S.removeEventListener(pe,Oe,pe===s.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},Li.prototype._addDefaultHandlers=function(Z){var de=this._map,q=de.getCanvasContainer();this._add("mapEvent",new _t(de,Z));var pe=de.boxZoom=new Gt(de,Z);this._add("boxZoom",pe);var Oe=new Vr,Xe=new Ro;de.doubleClickZoom=new La(Xe,Oe),this._add("tapZoom",Oe),this._add("clickZoom",Xe);var ut=new Fo;this._add("tapDragZoom",ut);var Lt=de.touchPitch=new Ja;this._add("touchPitch",Lt);var Vt=new fa(Z),$t=new ea(Z);de.dragRotate=new hi(Z,Vt,$t),this._add("mouseRotate",Vt,["mousePitch"]),this._add("mousePitch",$t,["mouseRotate"]);var ur=new ra(Z),sr=new oa(Z);de.dragPan=new io(q,ur,sr),this._add("mousePan",ur),this._add("touchPan",sr,["touchZoom","touchRotate"]);var kr=new qn,Xr=new ii;de.touchZoomRotate=new Wi(q,Xr,kr,ut),this._add("touchRotate",kr,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var jr=de.scrollZoom=new la(de,this);this._add("scrollZoom",jr,["mousePan"]);var Wr=de.keyboard=new oi;this._add("keyboard",Wr),this._add("blockableMapEvent",new At(de));for(var Qr=0,dn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<dn.length;Qr+=1){var In=dn[Qr];Z.interactive&&Z[In]&&de[In].enable(Z[In])}},Li.prototype._add=function(Z,de,q){this._handlers.push({handlerName:Z,handler:de,allowed:q}),this._handlersById[Z]=de},Li.prototype.stop=function(Z){if(!this._updatingCamera){for(var de=0,q=this._handlers;de<q.length;de+=1){var pe=q[de],Oe=pe.handler;Oe.reset()}this._inertia.clear(),this._fireEvents({},{},Z),this._changes=[]}},Li.prototype.isActive=function(){for(var Z=0,de=this._handlers;Z<de.length;Z+=1){var q=de[Z],pe=q.handler;if(pe.isActive())return!0}return!1},Li.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Li.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Li.prototype.isMoving=function(){return!!Ni(this._eventsInProgress)||this.isZooming()},Li.prototype._blockedByActive=function(Z,de,q){for(var pe in Z)if(pe!==q&&(!de||de.indexOf(pe)<0))return!0;return!1},Li.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},Li.prototype._getMapTouches=function(Z){for(var de=[],q=0,pe=Z;q<pe.length;q+=1){var Oe=pe[q],Xe=Oe.target;this._el.contains(Xe)&&de.push(Oe)}return de},Li.prototype.handleEvent=function(Z,de){if(Z.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var q=Z.type==="renderFrame"?void 0:Z,pe={needsRenderFrame:!1},Oe={},Xe={},ut=Z.touches?this._getMapTouches(Z.touches):void 0,Lt=ut?S.touchPos(this._el,ut):S.mousePos(this._el,Z),Vt=0,$t=this._handlers;Vt<$t.length;Vt+=1){var ur=$t[Vt],sr=ur.handlerName,kr=ur.handler,Xr=ur.allowed;if(kr.isEnabled()){var jr=void 0;this._blockedByActive(Xe,Xr,sr)?kr.reset():kr[de||Z.type]&&(jr=kr[de||Z.type](Z,Lt,ut),this.mergeHandlerResult(pe,Oe,jr,sr,q),jr&&jr.needsRenderFrame&&this._triggerRenderFrame()),(jr||kr.isActive())&&(Xe[sr]=kr)}}var Wr={};for(var Qr in this._previousActiveHandlers)Xe[Qr]||(Wr[Qr]=q);this._previousActiveHandlers=Xe,(Object.keys(Wr).length||Ds(pe))&&(this._changes.push([pe,Oe,Wr]),this._triggerRenderFrame()),(Object.keys(Xe).length||Ds(pe))&&this._map._stop(!0),this._updatingCamera=!1;var dn=pe.cameraAnimation;dn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],dn(this._map))},Li.prototype.mergeHandlerResult=function(Z,de,q,pe,Oe){if(q){s.extend(Z,q);var Xe={handlerName:pe,originalEvent:q.originalEvent||Oe};q.zoomDelta!==void 0&&(de.zoom=Xe),q.panDelta!==void 0&&(de.drag=Xe),q.pitchDelta!==void 0&&(de.pitch=Xe),q.bearingDelta!==void 0&&(de.rotate=Xe)}},Li.prototype._applyChanges=function(){for(var Z={},de={},q={},pe=0,Oe=this._changes;pe<Oe.length;pe+=1){var Xe=Oe[pe],ut=Xe[0],Lt=Xe[1],Vt=Xe[2];ut.panDelta&&(Z.panDelta=(Z.panDelta||new s.Point(0,0))._add(ut.panDelta)),ut.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+ut.zoomDelta),ut.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+ut.bearingDelta),ut.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+ut.pitchDelta),ut.around!==void 0&&(Z.around=ut.around),ut.pinchAround!==void 0&&(Z.pinchAround=ut.pinchAround),ut.noInertia&&(Z.noInertia=ut.noInertia),s.extend(de,Lt),s.extend(q,Vt)}this._updateMapTransform(Z,de,q),this._changes=[]},Li.prototype._updateMapTransform=function(Z,de,q){var pe=this._map,Oe=pe.transform;if(!Ds(Z))return this._fireEvents(de,q,!0);var Xe=Z.panDelta,ut=Z.zoomDelta,Lt=Z.bearingDelta,Vt=Z.pitchDelta,$t=Z.around,ur=Z.pinchAround;ur!==void 0&&($t=ur),pe._stop(!0),$t=$t||pe.transform.centerPoint;var sr=Oe.pointLocation(Xe?$t.sub(Xe):$t);Lt&&(Oe.bearing+=Lt),Vt&&(Oe.pitch+=Vt),ut&&(Oe.zoom+=ut),Oe.setLocationAtPoint(sr,$t),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(de,q,!0)},Li.prototype._fireEvents=function(Z,de,q){var pe=this,Oe=Ni(this._eventsInProgress),Xe=Ni(Z),ut={};for(var Lt in Z){var Vt=Z[Lt],$t=Vt.originalEvent;this._eventsInProgress[Lt]||(ut[Lt+"start"]=$t),this._eventsInProgress[Lt]=Z[Lt]}!Oe&&Xe&&this._fireEvent("movestart",Xe.originalEvent);for(var ur in ut)this._fireEvent(ur,ut[ur]);Xe&&this._fireEvent("move",Xe.originalEvent);for(var sr in Z){var kr=Z[sr],Xr=kr.originalEvent;this._fireEvent(sr,Xr)}var jr={},Wr;for(var Qr in this._eventsInProgress){var dn=this._eventsInProgress[Qr],In=dn.handlerName,Bn=dn.originalEvent;this._handlersById[In].isActive()||(delete this._eventsInProgress[Qr],Wr=de[In]||Bn,jr[Qr+"end"]=Wr)}for(var jn in jr)this._fireEvent(jn,jr[jn]);var Xn=Ni(this._eventsInProgress);if(q&&(Oe||Xe)&&!Xn){this._updatingCamera=!0;var Wn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Kn=function(na){return na!==0&&-pe._bearingSnap<na&&na<pe._bearingSnap};Wn?(Kn(Wn.bearing||this._map.getBearing())&&(Wn.bearing=0),this._map.easeTo(Wn,{originalEvent:Wr})):(this._map.fire(new s.Event("moveend",{originalEvent:Wr})),Kn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Li.prototype._fireEvent=function(Z,de){this._map.fire(new s.Event(Z,de?{originalEvent:de}:{}))},Li.prototype._requestFrame=function(){var Z=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete Z._frameId,Z.handleEvent(new ps("renderFrame",{timeStamp:de})),Z._applyChanges()})},Li.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Gl=function(ce){function Z(de,q){ce.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=q.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(q,pe){return this.jumpTo({center:q},pe)},Z.prototype.panBy=function(q,pe,Oe){return q=s.Point.convert(q).mult(-1),this.panTo(this.transform.center,s.extend({offset:q},pe),Oe)},Z.prototype.panTo=function(q,pe,Oe){return this.easeTo(s.extend({center:q},pe),Oe)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(q,pe){return this.jumpTo({zoom:q},pe),this},Z.prototype.zoomTo=function(q,pe,Oe){return this.easeTo(s.extend({zoom:q},pe),Oe)},Z.prototype.zoomIn=function(q,pe){return this.zoomTo(this.getZoom()+1,q,pe),this},Z.prototype.zoomOut=function(q,pe){return this.zoomTo(this.getZoom()-1,q,pe),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(q,pe){return this.jumpTo({bearing:q},pe),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(q,pe){return this.jumpTo({padding:q},pe),this},Z.prototype.rotateTo=function(q,pe,Oe){return this.easeTo(s.extend({bearing:q},pe),Oe)},Z.prototype.resetNorth=function(q,pe){return this.rotateTo(0,s.extend({duration:1e3},q),pe),this},Z.prototype.resetNorthPitch=function(q,pe){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},q),pe),this},Z.prototype.snapToNorth=function(q,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,pe):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(q,pe){return this.jumpTo({pitch:q},pe),this},Z.prototype.cameraForBounds=function(q,pe){q=s.LngLatBounds.convert(q);var Oe=pe&&pe.bearing||0;return this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),Oe,pe)},Z.prototype._cameraForBoxAndBearing=function(q,pe,Oe,Xe){var ut={top:0,bottom:0,right:0,left:0};if(Xe=s.extend({padding:ut,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var Lt=Xe.padding;Xe.padding={top:Lt,bottom:Lt,right:Lt,left:Lt}}Xe.padding=s.extend(ut,Xe.padding);var Vt=this.transform,$t=Vt.padding,ur=Vt.project(s.LngLat.convert(q)),sr=Vt.project(s.LngLat.convert(pe)),kr=ur.rotate(-Oe*Math.PI/180),Xr=sr.rotate(-Oe*Math.PI/180),jr=new s.Point(Math.max(kr.x,Xr.x),Math.max(kr.y,Xr.y)),Wr=new s.Point(Math.min(kr.x,Xr.x),Math.min(kr.y,Xr.y)),Qr=jr.sub(Wr),dn=(Vt.width-($t.left+$t.right+Xe.padding.left+Xe.padding.right))/Qr.x,In=(Vt.height-($t.top+$t.bottom+Xe.padding.top+Xe.padding.bottom))/Qr.y;if(In<0||dn<0){s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Bn=Math.min(Vt.scaleZoom(Vt.scale*Math.min(dn,In)),Xe.maxZoom),jn=typeof Xe.offset.x=="number"?new s.Point(Xe.offset.x,Xe.offset.y):s.Point.convert(Xe.offset),Xn=(Xe.padding.left-Xe.padding.right)/2,Wn=(Xe.padding.top-Xe.padding.bottom)/2,Kn=new s.Point(Xn,Wn),na=Kn.rotate(Oe*Math.PI/180),ua=jn.add(na),xa=ua.mult(Vt.scale/Vt.zoomScale(Bn)),da=Vt.unproject(ur.add(sr).div(2).sub(xa));return{center:da,zoom:Bn,bearing:Oe}},Z.prototype.fitBounds=function(q,pe,Oe){return this._fitInternal(this.cameraForBounds(q,pe),pe,Oe)},Z.prototype.fitScreenCoordinates=function(q,pe,Oe,Xe,ut){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.Point.convert(q)),this.transform.pointLocation(s.Point.convert(pe)),Oe,Xe),Xe,ut)},Z.prototype._fitInternal=function(q,pe,Oe){return q?(pe=s.extend(q,pe),delete pe.padding,pe.linear?this.easeTo(pe,Oe):this.flyTo(pe,Oe)):this},Z.prototype.jumpTo=function(q,pe){this.stop();var Oe=this.transform,Xe=!1,ut=!1,Lt=!1;return"zoom"in q&&Oe.zoom!==+q.zoom&&(Xe=!0,Oe.zoom=+q.zoom),q.center!==void 0&&(Oe.center=s.LngLat.convert(q.center)),"bearing"in q&&Oe.bearing!==+q.bearing&&(ut=!0,Oe.bearing=+q.bearing),"pitch"in q&&Oe.pitch!==+q.pitch&&(Lt=!0,Oe.pitch=+q.pitch),q.padding!=null&&!Oe.isPaddingEqual(q.padding)&&(Oe.padding=q.padding),this.fire(new s.Event("movestart",pe)).fire(new s.Event("move",pe)),Xe&&this.fire(new s.Event("zoomstart",pe)).fire(new s.Event("zoom",pe)).fire(new s.Event("zoomend",pe)),ut&&this.fire(new s.Event("rotatestart",pe)).fire(new s.Event("rotate",pe)).fire(new s.Event("rotateend",pe)),Lt&&this.fire(new s.Event("pitchstart",pe)).fire(new s.Event("pitch",pe)).fire(new s.Event("pitchend",pe)),this.fire(new s.Event("moveend",pe))},Z.prototype.easeTo=function(q,pe){var Oe=this;this._stop(!1,q.easeId),q=s.extend({offset:[0,0],duration:500,easing:s.ease},q),(q.animate===!1||!q.essential&&s.browser.prefersReducedMotion)&&(q.duration=0);var Xe=this.transform,ut=this.getZoom(),Lt=this.getBearing(),Vt=this.getPitch(),$t=this.getPadding(),ur="zoom"in q?+q.zoom:ut,sr="bearing"in q?this._normalizeBearing(q.bearing,Lt):Lt,kr="pitch"in q?+q.pitch:Vt,Xr="padding"in q?q.padding:Xe.padding,jr=s.Point.convert(q.offset),Wr=Xe.centerPoint.add(jr),Qr=Xe.pointLocation(Wr),dn=s.LngLat.convert(q.center||Qr);this._normalizeCenter(dn);var In=Xe.project(Qr),Bn=Xe.project(dn).sub(In),jn=Xe.zoomScale(ur-ut),Xn,Wn;q.around&&(Xn=s.LngLat.convert(q.around),Wn=Xe.locationPoint(Xn));var Kn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==ut,this._rotating=this._rotating||Lt!==sr,this._pitching=this._pitching||kr!==Vt,this._padding=!Xe.isPaddingEqual(Xr),this._easeId=q.easeId,this._prepareEase(pe,q.noMoveStart,Kn),this._ease(function(na){if(Oe._zooming&&(Xe.zoom=s.number(ut,ur,na)),Oe._rotating&&(Xe.bearing=s.number(Lt,sr,na)),Oe._pitching&&(Xe.pitch=s.number(Vt,kr,na)),Oe._padding&&(Xe.interpolatePadding($t,Xr,na),Wr=Xe.centerPoint.add(jr)),Xn)Xe.setLocationAtPoint(Xn,Wn);else{var ua=Xe.zoomScale(Xe.zoom-ut),xa=ur>ut?Math.min(2,jn):Math.max(.5,jn),da=Math.pow(xa,1-na),Fa=Xe.unproject(In.add(Bn.mult(na*da)).mult(ua));Xe.setLocationAtPoint(Xe.renderWorldCopies?Fa.wrap():Fa,Wr)}Oe._fireMoveEvents(pe)},function(na){Oe._afterEase(pe,na)},q),this},Z.prototype._prepareEase=function(q,pe,Oe){Oe===void 0&&(Oe={}),this._moving=!0,!pe&&!Oe.moving&&this.fire(new s.Event("movestart",q)),this._zooming&&!Oe.zooming&&this.fire(new s.Event("zoomstart",q)),this._rotating&&!Oe.rotating&&this.fire(new s.Event("rotatestart",q)),this._pitching&&!Oe.pitching&&this.fire(new s.Event("pitchstart",q))},Z.prototype._fireMoveEvents=function(q){this.fire(new s.Event("move",q)),this._zooming&&this.fire(new s.Event("zoom",q)),this._rotating&&this.fire(new s.Event("rotate",q)),this._pitching&&this.fire(new s.Event("pitch",q))},Z.prototype._afterEase=function(q,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var Oe=this._zooming,Xe=this._rotating,ut=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Oe&&this.fire(new s.Event("zoomend",q)),Xe&&this.fire(new s.Event("rotateend",q)),ut&&this.fire(new s.Event("pitchend",q)),this.fire(new s.Event("moveend",q))}},Z.prototype.flyTo=function(q,pe){var Oe=this;if(!q.essential&&s.browser.prefersReducedMotion){var Xe=s.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,pe)}this.stop(),q=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},q);var ut=this.transform,Lt=this.getZoom(),Vt=this.getBearing(),$t=this.getPitch(),ur=this.getPadding(),sr="zoom"in q?s.clamp(+q.zoom,ut.minZoom,ut.maxZoom):Lt,kr="bearing"in q?this._normalizeBearing(q.bearing,Vt):Vt,Xr="pitch"in q?+q.pitch:$t,jr="padding"in q?q.padding:ut.padding,Wr=ut.zoomScale(sr-Lt),Qr=s.Point.convert(q.offset),dn=ut.centerPoint.add(Qr),In=ut.pointLocation(dn),Bn=s.LngLat.convert(q.center||In);this._normalizeCenter(Bn);var jn=ut.project(In),Xn=ut.project(Bn).sub(jn),Wn=q.curve,Kn=Math.max(ut.width,ut.height),na=Kn/Wr,ua=Xn.mag();if("minZoom"in q){var xa=s.clamp(Math.min(q.minZoom,Lt,sr),ut.minZoom,ut.maxZoom),da=Kn/ut.zoomScale(xa-Lt);Wn=Math.sqrt(da/ua*2)}var Fa=Wn*Wn;function qa(Wa){var ei=(na*na-Kn*Kn+(Wa?-1:1)*Fa*Fa*ua*ua)/(2*(Wa?na:Kn)*Fa*ua);return Math.log(Math.sqrt(ei*ei+1)-ei)}function Xa(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ma(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Za(Wa){return Xa(Wa)/Ma(Wa)}var Ga=qa(0),si=function(Wa){return Ma(Ga)/Ma(Ga+Wn*Wa)},ri=function(Wa){return Kn*((Ma(Ga)*Za(Ga+Wn*Wa)-Xa(Ga))/Fa)/ua},Si=(qa(1)-Ga)/Wn;if(Math.abs(ua)<1e-6||!isFinite(Si)){if(Math.abs(Kn-na)<1e-6)return this.easeTo(q,pe);var $a=na<Kn?-1:1;Si=Math.abs(Math.log(na/Kn))/Wn,ri=function(){return 0},si=function(Wa){return Math.exp($a*Wn*Wa)}}if("duration"in q)q.duration=+q.duration;else{var mi="screenSpeed"in q?+q.screenSpeed/Wn:+q.speed;q.duration=1e3*Si/mi}return q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=Vt!==kr,this._pitching=Xr!==$t,this._padding=!ut.isPaddingEqual(jr),this._prepareEase(pe,!1),this._ease(function(Wa){var ei=Wa*Si,Bi=1/si(ei);ut.zoom=Wa===1?sr:Lt+ut.scaleZoom(Bi),Oe._rotating&&(ut.bearing=s.number(Vt,kr,Wa)),Oe._pitching&&(ut.pitch=s.number($t,Xr,Wa)),Oe._padding&&(ut.interpolatePadding(ur,jr,Wa),dn=ut.centerPoint.add(Qr));var yo=Wa===1?Bn:ut.unproject(jn.add(Xn.mult(ri(ei))).mult(Bi));ut.setLocationAtPoint(ut.renderWorldCopies?yo.wrap():yo,dn),Oe._fireMoveEvents(pe)},function(){return Oe._afterEase(pe)},q),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(q,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Oe=this._onEaseEnd;delete this._onEaseEnd,Oe.call(this,pe)}if(!q){var Xe=this.handlers;Xe&&Xe.stop(!1)}return this},Z.prototype._ease=function(q,pe,Oe){Oe.animate===!1||Oe.duration===0?(q(1),pe()):(this._easeStart=s.browser.now(),this._easeOptions=Oe,this._onEaseFrame=q,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var q=Math.min((s.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(q,pe){q=s.wrap(q,-180,180);var Oe=Math.abs(q-pe);return Math.abs(q-360-pe)<Oe&&(q-=360),Math.abs(q+360-pe)<Oe&&(q+=360),q},Z.prototype._normalizeCenter=function(q){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var Oe=q.lng-pe.center.lng;q.lng+=Oe>180?-360:Oe<-180?360:0}},Z}(s.Evented),Qa=function(Z){Z===void 0&&(Z={}),this.options=Z,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Qa.prototype.getDefaultPosition=function(){return"bottom-right"},Qa.prototype.onAdd=function(Z){var de=this.options&&this.options.compact;return this._map=Z,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Qa.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Qa.prototype._setElementTitle=function(Z,de){var q=this._map._getUIString("AttributionControl."+de);Z.title=q,Z.setAttribute("aria-label",q)},Qa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Qa.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(Z){var q=de.reduce(function(pe,Oe,Xe){return Oe.value&&(pe+=Oe.key+"="+Oe.value+(Xe<de.length-1?"&":"")),pe},"?");Z.href=s.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow",this._setElementTitle(Z,"MapFeedback")}},Qa.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.sourceDataType==="visibility"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Qa.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(Lt){return typeof Lt!="string"?"":Lt})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var q=this._map.style.sourceCaches;for(var pe in q){var Oe=q[pe];if(Oe.used){var Xe=Oe.getSource();Xe.attribution&&Z.indexOf(Xe.attribution)<0&&Z.push(Xe.attribution)}}Z.sort(function(Lt,Vt){return Lt.length-Vt.length}),Z=Z.filter(function(Lt,Vt){for(var $t=Vt+1;$t<Z.length;$t++)if(Z[$t].indexOf(Lt)>=0)return!1;return!0});var ut=Z.join(" | ");ut!==this._attribHTML&&(this._attribHTML=ut,Z.length?(this._innerContainer.innerHTML=ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Qa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Pi=function(){s.bindAll(["_updateLogo"],this),s.bindAll(["_updateCompact"],this)};Pi.prototype.onAdd=function(Z){this._map=Z,this._container=S.create("div","mapboxgl-ctrl");var de=S.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Pi.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Pi.prototype.getDefaultPosition=function(){return"bottom-left"},Pi.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Pi.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var de in Z){var q=Z[de].getSource();if(q.mapbox_logo)return!0}return!1}},Pi.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var de=Z[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var uh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};uh.prototype.add=function(Z){var de=++this._id,q=this._queue;return q.push({callback:Z,id:de,cancelled:!1}),de},uh.prototype.remove=function(Z){for(var de=this._currentlyRunning,q=de?this._queue.concat(de):this._queue,pe=0,Oe=q;pe<Oe.length;pe+=1){var Xe=Oe[pe];if(Xe.id===Z){Xe.cancelled=!0;return}}},uh.prototype.run=function(Z){Z===void 0&&(Z=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,pe=de;q<pe.length;q+=1){var Oe=pe[q];if(!Oe.cancelled&&(Oe.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},uh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Jd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Af=s.window.HTMLImageElement,Fv=s.window.HTMLElement,Ku=s.window.ImageBitmap,uc=-2,fc=22,ts=0,Ju=60,Nv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:uc,maxZoom:fc,minPitch:ts,maxPitch:Ju,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Bv=function(ce){function Z(q){var pe=this;if(q=s.extend({},Nv,q),q.minZoom!=null&&q.maxZoom!=null&&q.minZoom>q.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(q.minPitch!=null&&q.maxPitch!=null&&q.minPitch>q.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(q.minPitch!=null&&q.minPitch<ts)throw new Error("minPitch must be greater than or equal to "+ts);if(q.maxPitch!=null&&q.maxPitch>Ju)throw new Error("maxPitch must be less than or equal to "+Ju);var Oe=new Dn(q.minZoom,q.maxZoom,q.minPitch,q.maxPitch,q.renderWorldCopies);if(ce.call(this,Oe,q),this._interactive=q.interactive,this._maxTileCacheSize=q.maxTileCacheSize,this._failIfMajorPerformanceCaveat=q.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=q.preserveDrawingBuffer,this._antialias=q.antialias,this._trackResize=q.trackResize,this._bearingSnap=q.bearingSnap,this._refreshExpiredTiles=q.refreshExpiredTiles,this._fadeDuration=q.fadeDuration,this._crossSourceCollisions=q.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=q.collectResourceTiming,this._renderTaskQueue=new uh,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Jd,q.locale),this._clickTolerance=q.clickTolerance,this._requestManager=new s.RequestManager(q.transformRequest,q.accessToken),typeof q.container=="string"){if(this._container=s.window.document.getElementById(q.container),!this._container)throw new Error("Container '"+q.container+"' not found.")}else if(q.container instanceof Fv)this._container=q.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(q.maxBounds&&this.setMaxBounds(q.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof s.window<"u"&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Li(this,q);var Xe=typeof q.hash=="string"&&q.hash||void 0;this._hash=q.hash&&new Da(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:q.center,zoom:q.zoom,bearing:q.bearing,pitch:q.pitch}),q.bounds&&(this.resize(),this.fitBounds(q.bounds,s.extend({},q.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=q.localIdeographFontFamily,q.style&&this.setStyle(q.style,{localIdeographFontFamily:q.localIdeographFontFamily}),q.attributionControl&&this.addControl(new Qa({customAttribution:q.customAttribution})),this.addControl(new Pi,q.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(ut){pe._update(ut.dataType==="style"),pe.fire(new s.Event(ut.dataType+"data",ut))}),this.on("dataloading",function(ut){pe.fire(new s.Event(ut.dataType+"dataloading",ut))})}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(pe,Oe){if(Oe===void 0&&(pe.getDefaultPosition?Oe=pe.getDefaultPosition():Oe="top-right"),!pe||!pe.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=pe.onAdd(this);this._controls.push(pe);var ut=this._controlPositions[Oe];return Oe.indexOf("bottom")!==-1?ut.insertBefore(Xe,ut.firstChild):ut.appendChild(Xe),this},Z.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Oe=this._controls.indexOf(pe);return Oe>-1&&this._controls.splice(Oe,1),pe.onRemove(this),this},Z.prototype.hasControl=function(pe){return this._controls.indexOf(pe)>-1},Z.prototype.resize=function(pe){var Oe=this._containerDimensions(),Xe=Oe[0],ut=Oe[1];this._resizeCanvas(Xe,ut),this.transform.resize(Xe,ut),this.painter.resize(Xe,ut);var Lt=!this._moving;return Lt&&(this.stop(),this.fire(new s.Event("movestart",pe)).fire(new s.Event("move",pe))),this.fire(new s.Event("resize",pe)),Lt&&this.fire(new s.Event("moveend",pe)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(s.LngLatBounds.convert(pe)),this._update()},Z.prototype.setMinZoom=function(pe){if(pe=pe??uc,pe>=uc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+uc+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(pe){if(pe=pe??fc,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(pe){if(pe=pe??ts,pe<ts)throw new Error("minPitch must be greater than or equal to "+ts);if(pe>=ts&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+ts+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(pe){if(pe=pe??Ju,pe>Ju)throw new Error("maxPitch must be less than or equal to "+Ju);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},Z.prototype.project=function(pe){return this.transform.locationPoint(s.LngLat.convert(pe))},Z.prototype.unproject=function(pe){return this.transform.pointLocation(s.Point.convert(pe))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(pe,Oe,Xe){var ut=this,Lt;if(pe==="mouseenter"||pe==="mouseover"){var Vt=!1,$t=function(Wr){var Qr=ut.getLayer(Oe)?ut.queryRenderedFeatures(Wr.point,{layers:[Oe]}):[];Qr.length?Vt||(Vt=!0,Xe.call(ut,new qe(pe,ut,Wr.originalEvent,{features:Qr}))):Vt=!1},ur=function(){Vt=!1};return{layer:Oe,listener:Xe,delegates:{mousemove:$t,mouseout:ur}}}else if(pe==="mouseleave"||pe==="mouseout"){var sr=!1,kr=function(Wr){var Qr=ut.getLayer(Oe)?ut.queryRenderedFeatures(Wr.point,{layers:[Oe]}):[];Qr.length?sr=!0:sr&&(sr=!1,Xe.call(ut,new qe(pe,ut,Wr.originalEvent)))},Xr=function(Wr){sr&&(sr=!1,Xe.call(ut,new qe(pe,ut,Wr.originalEvent)))};return{layer:Oe,listener:Xe,delegates:{mousemove:kr,mouseout:Xr}}}else{var jr=function(Wr){var Qr=ut.getLayer(Oe)?ut.queryRenderedFeatures(Wr.point,{layers:[Oe]}):[];Qr.length&&(Wr.features=Qr,Xe.call(ut,Wr),delete Wr.features)};return{layer:Oe,listener:Xe,delegates:(Lt={},Lt[pe]=jr,Lt)}}},Z.prototype.on=function(pe,Oe,Xe){if(Xe===void 0)return ce.prototype.on.call(this,pe,Oe);var ut=this._createDelegatedListener(pe,Oe,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(ut);for(var Lt in ut.delegates)this.on(Lt,ut.delegates[Lt]);return this},Z.prototype.once=function(pe,Oe,Xe){if(Xe===void 0)return ce.prototype.once.call(this,pe,Oe);var ut=this._createDelegatedListener(pe,Oe,Xe);for(var Lt in ut.delegates)this.once(Lt,ut.delegates[Lt]);return this},Z.prototype.off=function(pe,Oe,Xe){var ut=this;if(Xe===void 0)return ce.prototype.off.call(this,pe,Oe);var Lt=function(Vt){for(var $t=Vt[pe],ur=0;ur<$t.length;ur++){var sr=$t[ur];if(sr.layer===Oe&&sr.listener===Xe){for(var kr in sr.delegates)ut.off(kr,sr.delegates[kr]);return $t.splice(ur,1),ut}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&Lt(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(pe,Oe){if(!this.style)return[];Oe===void 0&&pe!==void 0&&!(pe instanceof s.Point)&&!Array.isArray(pe)&&(Oe=pe,pe=void 0),Oe=Oe||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(pe instanceof s.Point||typeof pe[0]=="number")Xe=[s.Point.convert(pe)];else{var ut=s.Point.convert(pe[0]),Lt=s.Point.convert(pe[1]);Xe=[ut,new s.Point(Lt.x,ut.y),Lt,new s.Point(ut.x,Lt.y),ut]}return this.style.queryRenderedFeatures(Xe,Oe,this.transform)},Z.prototype.querySourceFeatures=function(pe,Oe){return this.style.querySourceFeatures(pe,Oe)},Z.prototype.setStyle=function(pe,Oe){return Oe=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Oe),Oe.diff!==!1&&Oe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,Oe),this):(this._localIdeographFontFamily=Oe.localIdeographFontFamily,this._updateStyle(pe,Oe))},Z.prototype._getUIString=function(pe){var Oe=this._locale[pe];if(Oe==null)throw new Error("Missing UI string '"+pe+"'");return Oe},Z.prototype._updateStyle=function(pe,Oe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new ko(this,Oe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ko(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(pe,Oe){var Xe=this;if(typeof pe=="string"){var ut=this._requestManager.normalizeStyleURL(pe),Lt=this._requestManager.transformRequest(ut,s.ResourceType.Style);s.getJSON(Lt,function(Vt,$t){Vt?Xe.fire(new s.ErrorEvent(Vt)):$t&&Xe._updateDiff($t,Oe)})}else typeof pe=="object"&&this._updateDiff(pe,Oe)},Z.prototype._updateDiff=function(pe,Oe){try{this.style.setState(pe)&&this._update(!0)}catch(Xe){s.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(pe,Oe)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(pe,Oe){return this._lazyInitEmptyStyle(),this.style.addSource(pe,Oe),this._update(!0)},Z.prototype.isSourceLoaded=function(pe){var Oe=this.style&&this.style.sourceCaches[pe];if(Oe===void 0){this.fire(new s.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return Oe.loaded()},Z.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var Oe in pe){var Xe=pe[Oe],ut=Xe._tiles;for(var Lt in ut){var Vt=ut[Lt];if(!(Vt.state==="loaded"||Vt.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(pe,Oe,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,Oe,Xe)},Z.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},Z.prototype.getSource=function(pe){return this.style.getSource(pe)},Z.prototype.addImage=function(pe,Oe,Xe){Xe===void 0&&(Xe={});var ut=Xe.pixelRatio;ut===void 0&&(ut=1);var Lt=Xe.sdf;Lt===void 0&&(Lt=!1);var Vt=Xe.stretchX,$t=Xe.stretchY,ur=Xe.content;this._lazyInitEmptyStyle();var sr=0;if(Oe instanceof Af||Ku&&Oe instanceof Ku){var kr=s.browser.getImageData(Oe),Xr=kr.width,jr=kr.height,Wr=kr.data;this.style.addImage(pe,{data:new s.RGBAImage({width:Xr,height:jr},Wr),pixelRatio:ut,stretchX:Vt,stretchY:$t,content:ur,sdf:Lt,version:sr})}else{if(Oe.width===void 0||Oe.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=Oe.width,dn=Oe.height,In=Oe.data,Bn=Oe;this.style.addImage(pe,{data:new s.RGBAImage({width:Qr,height:dn},new Uint8Array(In)),pixelRatio:ut,stretchX:Vt,stretchY:$t,content:ur,sdf:Lt,version:sr,userImage:Bn}),Bn.onAdd&&Bn.onAdd(this,pe)}},Z.prototype.updateImage=function(pe,Oe){var Xe=this.style.getImage(pe);if(!Xe)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ut=Oe instanceof Af||Ku&&Oe instanceof Ku?s.browser.getImageData(Oe):Oe,Lt=ut.width,Vt=ut.height,$t=ut.data;if(Lt===void 0||Vt===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Lt!==Xe.data.width||Vt!==Xe.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(Oe instanceof Af||Ku&&Oe instanceof Ku);Xe.data.replace($t,ur),this.style.updateImage(pe,Xe)},Z.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(pe){this.style.removeImage(pe)},Z.prototype.loadImage=function(pe,Oe){s.getImage(this._requestManager.transformRequest(pe,s.ResourceType.Image),Oe)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(pe,Oe){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,Oe),this._update(!0)},Z.prototype.moveLayer=function(pe,Oe){return this.style.moveLayer(pe,Oe),this._update(!0)},Z.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},Z.prototype.getLayer=function(pe){return this.style.getLayer(pe)},Z.prototype.setLayerZoomRange=function(pe,Oe,Xe){return this.style.setLayerZoomRange(pe,Oe,Xe),this._update(!0)},Z.prototype.setFilter=function(pe,Oe,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(pe,Oe,Xe),this._update(!0)},Z.prototype.getFilter=function(pe){return this.style.getFilter(pe)},Z.prototype.setPaintProperty=function(pe,Oe,Xe,ut){return ut===void 0&&(ut={}),this.style.setPaintProperty(pe,Oe,Xe,ut),this._update(!0)},Z.prototype.getPaintProperty=function(pe,Oe){return this.style.getPaintProperty(pe,Oe)},Z.prototype.setLayoutProperty=function(pe,Oe,Xe,ut){return ut===void 0&&(ut={}),this.style.setLayoutProperty(pe,Oe,Xe,ut),this._update(!0)},Z.prototype.getLayoutProperty=function(pe,Oe){return this.style.getLayoutProperty(pe,Oe)},Z.prototype.setLight=function(pe,Oe){return Oe===void 0&&(Oe={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,Oe),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(pe,Oe){return this.style.setFeatureState(pe,Oe),this._update()},Z.prototype.removeFeatureState=function(pe,Oe){return this.style.removeFeatureState(pe,Oe),this._update()},Z.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var pe=0,Oe=0;return this._container&&(pe=this._container.clientWidth||400,Oe=this._container.clientHeight||300),[pe,Oe]},Z.prototype._detectMissingCSS=function(){var pe=s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var Oe=this._missingCSSCanary=S.create("div","mapboxgl-canary",pe);Oe.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=S.create("div","mapboxgl-canvas-container",pe);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=S.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ut=this._containerDimensions();this._resizeCanvas(ut[0],ut[1]);var Lt=this._controlContainer=S.create("div","mapboxgl-control-container",pe),Vt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function($t){Vt[$t]=S.create("div","mapboxgl-ctrl-"+$t,Lt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(pe,Oe){var Xe=s.browser.devicePixelRatio||1;this._canvas.width=Xe*pe,this._canvas.height=Xe*Oe,this._canvas.style.width=pe+"px",this._canvas.style.height=Oe+"px"},Z.prototype._setupPainter=function(){var pe=s.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Oe=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!Oe){this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Ur(Oe,this.transform),s.webpSupported.testSupport(Oe)},Z.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:pe}))},Z.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:pe}))},Z.prototype._onMapScroll=function(pe){if(pe.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},Z.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},Z.prototype._render=function(pe){var Oe=this,Xe,ut=0,Lt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=Lt.createQueryEXT(),Lt.beginQueryEXT(Lt.TIME_ELAPSED_EXT,Xe),ut=s.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Vt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var $t=this.transform.zoom,ur=s.browser.now();this.style.zoomHistory.update($t,ur);var sr=new s.EvaluationParameters($t,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kr=sr.crossFadingFactor();(kr!==1||kr!==this._crossFadingFactor)&&(Vt=!0,this._crossFadingFactor=kr),this.style.update(sr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||Vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=s.browser.now()-ut;Lt.endQueryEXT(Lt.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var Qr=Lt.getQueryObjectEXT(Xe,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(Xe),Oe.fire(new s.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var jr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=Oe.painter.queryGpuTimers(jr);Oe.fire(new s.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var Wr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Wr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),this._loaded&&!this._fullyLoaded&&!Wr&&(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,Oe=this._controls;pe<Oe.length;pe+=1){var Xe=Oe[pe];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof s.window<"u"&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));var ut=this.painter.context.gl.getExtension("WEBGL_lose_context");ut&&ut.loseContext&&ut.loseContext(),fh(this._canvasContainer),fh(this._controlContainer),fh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new s.Event("remove"))},Z.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=s.browser.frame(function(Oe){pe._frame=null,pe._render(Oe)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(q){this._showTileBoundaries!==q&&(this._showTileBoundaries=q,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(q){this._showPadding!==q&&(this._showPadding=q,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(q){this._showCollisionBoxes!==q&&(this._showCollisionBoxes=q,q?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(q){this._showOverdrawInspector!==q&&(this._showOverdrawInspector=q,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(q){this._repaint!==q&&(this._repaint=q,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(q){this._vertices=q,this._update()},Z.prototype._setCacheLimits=function(pe,Oe){s.setCacheLimits(pe,Oe)},de.version.get=function(){return s.version},Object.defineProperties(Z.prototype,de),Z}(Gl);function fh(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}var kh={showCompass:!0,showZoom:!0,visualizePitch:!1},bu=function(Z){var de=this;this.options=s.extend({},kh,Z),this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return de._map.zoomIn({},{originalEvent:q})}),S.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return de._map.zoomOut({},{originalEvent:q})}),S.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:q}):de._map.resetNorth({},{originalEvent:q})}),this._compassIcon=S.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};bu.prototype._updateZoomButtons=function(){var Z=this._map.getZoom(),de=Z===this._map.getMaxZoom(),q=Z===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=q,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",q.toString())},bu.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},bu.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},bu.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},bu.prototype._createButton=function(Z,de){var q=S.create("button",Z,this._container);return q.type="button",q.addEventListener("click",de),q},bu.prototype._setButtonTitle=function(Z,de){var q=this._map._getUIString("NavigationControl."+de);Z.title=q,Z.setAttribute("aria-label",q)};var gs=function(Z,de,q){q===void 0&&(q=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new fa({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,q&&(this.mousePitch=new ea({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(de,"mousedown",this.mousedown),S.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(de,"touchmove",this.touchmove),S.addEventListener(de,"touchend",this.touchend),S.addEventListener(de,"touchcancel",this.reset)};gs.prototype.down=function(Z,de){this.mouseRotate.mousedown(Z,de),this.mousePitch&&this.mousePitch.mousedown(Z,de),S.disableDrag()},gs.prototype.move=function(Z,de){var q=this.map,pe=this.mouseRotate.mousemoveWindow(Z,de);if(pe&&pe.bearingDelta&&q.setBearing(q.getBearing()+pe.bearingDelta),this.mousePitch){var Oe=this.mousePitch.mousemoveWindow(Z,de);Oe&&Oe.pitchDelta&&q.setPitch(q.getPitch()+Oe.pitchDelta)}},gs.prototype.off=function(){var Z=this.element;S.removeEventListener(Z,"mousedown",this.mousedown),S.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(Z,"touchmove",this.touchmove),S.removeEventListener(Z,"touchend",this.touchend),S.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(s.window,"mousemove",this.mousemove),S.removeEventListener(s.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(Z){this.down(s.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),S.mousePos(this.element,Z)),S.addEventListener(s.window,"mousemove",this.mousemove),S.addEventListener(s.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(Z){this.move(Z,S.mousePos(this.element,Z))},gs.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},gs.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function wu(ce,Z,de){if(ce=new s.LngLat(ce.lng,ce.lat),Z){var q=new s.LngLat(ce.lng-360,ce.lat),pe=new s.LngLat(ce.lng+360,ce.lat),Oe=de.locationPoint(ce).distSqr(Z);de.locationPoint(q).distSqr(Z)<Oe?ce=q:de.locationPoint(pe).distSqr(Z)<Oe&&(ce=pe)}for(;Math.abs(ce.lng-de.center.lng)>180;){var Xe=de.locationPoint(ce);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=de.width&&Xe.y<=de.height)break;ce.lng>de.center.lng?ce.lng-=360:ce.lng+=360}return ce}var ch={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zh(ce,Z,de){var q=ce.classList;for(var pe in ch)q.remove("mapboxgl-"+de+"-anchor-"+pe);q.add("mapboxgl-"+de+"-anchor-"+Z)}var cc=function(ce){function Z(de,q){if(ce.call(this),(de instanceof s.window.HTMLElement||q)&&(de=s.extend({element:de},q)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var pe=S.createNS("http://www.w3.org/2000/svg","svg"),Oe=41,Xe=27;pe.setAttributeNS(null,"display","block"),pe.setAttributeNS(null,"height",Oe+"px"),pe.setAttributeNS(null,"width",Xe+"px"),pe.setAttributeNS(null,"viewBox","0 0 "+Xe+" "+Oe);var ut=S.createNS("http://www.w3.org/2000/svg","g");ut.setAttributeNS(null,"stroke","none"),ut.setAttributeNS(null,"stroke-width","1"),ut.setAttributeNS(null,"fill","none"),ut.setAttributeNS(null,"fill-rule","evenodd");var Lt=S.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"fill-rule","nonzero");var Vt=S.createNS("http://www.w3.org/2000/svg","g");Vt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Vt.setAttributeNS(null,"fill","#000000");for(var $t=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ur=0,sr=$t;ur<sr.length;ur+=1){var kr=sr[ur],Xr=S.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",kr.rx),Xr.setAttributeNS(null,"ry",kr.ry),Vt.appendChild(Xr)}var jr=S.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"fill",this._color);var Wr=S.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),jr.appendChild(Wr);var Qr=S.createNS("http://www.w3.org/2000/svg","g");Qr.setAttributeNS(null,"opacity","0.25"),Qr.setAttributeNS(null,"fill","#000000");var dn=S.createNS("http://www.w3.org/2000/svg","path");dn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Qr.appendChild(dn);var In=S.createNS("http://www.w3.org/2000/svg","g");In.setAttributeNS(null,"transform","translate(6.0, 7.0)"),In.setAttributeNS(null,"fill","#FFFFFF");var Bn=S.createNS("http://www.w3.org/2000/svg","g");Bn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var jn=S.createNS("http://www.w3.org/2000/svg","circle");jn.setAttributeNS(null,"fill","#000000"),jn.setAttributeNS(null,"opacity","0.25"),jn.setAttributeNS(null,"cx","5.5"),jn.setAttributeNS(null,"cy","5.5"),jn.setAttributeNS(null,"r","5.4999962");var Xn=S.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),Bn.appendChild(jn),Bn.appendChild(Xn),Lt.appendChild(Vt),Lt.appendChild(jr),Lt.appendChild(Qr),Lt.appendChild(In),Lt.appendChild(Bn),pe.appendChild(Lt),pe.setAttributeNS(null,"height",Oe*this._scale+"px"),pe.setAttributeNS(null,"width",Xe*this._scale+"px"),this._element.appendChild(pe),this._offset=s.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=s.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Wn){Wn.preventDefault()}),this._element.addEventListener("mousedown",function(Wn){Wn.preventDefault()}),zh(this._element,this._anchor,"marker"),this._popup=null}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(q){return this._lngLat=s.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var pe=38.1,Oe=13.5,Xe=Math.sqrt(Math.pow(Oe,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Xe,(pe-Oe+Xe)*-1],"bottom-right":[-Xe,(pe-Oe+Xe)*-1],left:[Oe,(pe-Oe)*-1],right:[-Oe,(pe-Oe)*-1]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(q){var pe=q.code,Oe=q.charCode||q.keyCode;(pe==="Space"||pe==="Enter"||Oe===32||Oe===13)&&this.togglePopup()},Z.prototype._onMapClick=function(q){var pe=q.originalEvent.target,Oe=this._element;this._popup&&(pe===Oe||Oe.contains(pe))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var q=this._popup;if(q)q.isOpen()?q.remove():q.addTo(this._map);else return this;return this},Z.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=wu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Oe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Oe="rotateX(0deg)":this._pitchAlignment==="map"&&(Oe="rotateX("+this._map.getPitch()+"deg)"),(!q||q.type==="moveend")&&(this._pos=this._pos.round()),S.setTransform(this._element,ch[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Oe+" "+pe)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(q){return this._offset=s.Point.convert(q),this._update(),this},Z.prototype._onMove=function(q){if(!this._isDragging){var pe=this._clickTolerance||this._map._clickTolerance;this._isDragging=q.point.dist(this._pointerdownPos)>=pe}this._isDragging&&(this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._pointerdownPos=q.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&q!=="auto"?q:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(s.Evented),Uv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Qu;function hh(ce){Qu!==void 0?ce(Qu):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){Qu=Z.state!=="denied",ce(Qu)}):(Qu=!!s.window.navigator.geolocation,ce(Qu))}var hc=0,Sf=!1,Qd=function(ce){function Z(de){ce.call(this),this.options=s.extend({},Uv,de),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(q){return this._map=q,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),hh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,hc=0,Sf=!1},Z.prototype._isOutOfMapMaxBounds=function(q){var pe=this._map.getMaxBounds(),Oe=q.coords;return pe&&(Oe.longitude<pe.getWest()||Oe.longitude>pe.getEast()||Oe.latitude<pe.getSouth()||Oe.latitude>pe.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q)){this._setErrorState(),this.fire(new s.Event("outofmaxbounds",q)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(q),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",q)),this._finish()}},Z.prototype._updateCamera=function(q){var pe=new s.LngLat(q.coords.longitude,q.coords.latitude),Oe=q.coords.accuracy,Xe=this._map.getBearing(),ut=s.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(Oe),ut,{geolocateSource:!0})},Z.prototype._updateMarker=function(q){if(q){var pe=new s.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,pe=this._map.unproject([0,q]),Oe=this._map.unproject([1,q]),Xe=pe.distanceTo(Oe),ut=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=ut+"px",this._circleElement.style.height=ut+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(q.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(q.code===3&&Sf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",q)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(q){var pe=this;if(this._container.addEventListener("contextmenu",function(ut){return ut.preventDefault()}),this._geolocateButton=S.create("button","mapboxgl-ctrl-geolocate",this._container),S.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",q===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Oe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Oe,this._geolocateButton.setAttribute("aria-label",Oe)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new cc(this._dotElement),this._circleElement=S.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ut){var Lt=ut.originalEvent&&ut.originalEvent.type==="resize";!ut.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!Lt&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new s.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":hc--,Sf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),hc++;var q;hc>1?(q={maximumAge:6e5,timeout:0},Sf=!0):(q=this.options.positionOptions,Sf=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(s.Evented),Vv={maxWidth:100,unit:"metric"},Mf=function(Z){this.options=s.extend({},Vv,Z),s.bindAll(["_onMove","setUnit"],this)};Mf.prototype.getDefaultPosition=function(){return"bottom-left"},Mf.prototype._onMove=function(){Hv(this._map,this._container,this.options)},Mf.prototype.onAdd=function(Z){return this._map=Z,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Mf.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Mf.prototype.setUnit=function(Z){this.options.unit=Z,Hv(this._map,this._container,this.options)};function Hv(ce,Z,de){var q=de&&de.maxWidth||100,pe=ce._container.clientHeight/2,Oe=ce.unproject([0,pe]),Xe=ce.unproject([q,pe]),ut=Oe.distanceTo(Xe);if(de&&de.unit==="imperial"){var Lt=3.2808*ut;if(Lt>5280){var Vt=Lt/5280;vc(Z,q,Vt,ce._getUIString("ScaleControl.Miles"))}else vc(Z,q,Lt,ce._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var $t=ut/1852;vc(Z,q,$t,ce._getUIString("ScaleControl.NauticalMiles"))}else ut>=1e3?vc(Z,q,ut/1e3,ce._getUIString("ScaleControl.Kilometers")):vc(Z,q,ut,ce._getUIString("ScaleControl.Meters"))}function vc(ce,Z,de,q){var pe=qd(de),Oe=pe/de;ce.style.width=Z*Oe+"px",ce.innerHTML=pe+"&nbsp;"+q}function $d(ce){var Z=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*Z)/Z}function qd(ce){var Z=Math.pow(10,(""+Math.floor(ce)).length-1),de=ce/Z;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:$d(de),Z*de}var hl=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof s.window.HTMLElement?this._container=Z.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in s.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in s.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in s.window.document&&(this._fullscreenchange="MSFullscreenChange")};hl.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},hl.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},hl.prototype._checkFullscreenSupport=function(){return!!(s.window.document.fullscreenEnabled||s.window.document.mozFullScreenEnabled||s.window.document.msFullscreenEnabled||s.window.document.webkitFullscreenEnabled)},hl.prototype._setupUI=function(){var Z=this._fullscreenButton=S.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},hl.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},hl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},hl.prototype._isFullscreen=function(){return this._fullscreen},hl.prototype._changeIcon=function(){var Z=s.window.document.fullscreenElement||s.window.document.mozFullScreenElement||s.window.document.webkitFullscreenElement||s.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},hl.prototype._onClickFullscreen=function(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.mozCancelFullScreen?s.window.document.mozCancelFullScreen():s.window.document.msExitFullscreen?s.window.document.msExitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ep={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},tp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),G0=function(ce){function Z(de){ce.call(this),this.options=s.extend(Object.create(ep),de),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(q){return this._lngLat=s.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(q){return this.setDOMContent(s.window.document.createTextNode(q))},Z.prototype.setHTML=function(q){var pe=s.window.document.createDocumentFragment(),Oe=s.window.document.createElement("body"),Xe;for(Oe.innerHTML=q;Xe=Oe.firstChild,!!Xe;)pe.appendChild(Xe);return this.setDOMContent(pe)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},Z.prototype.setDOMContent=function(q){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(q),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},Z.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},Z.prototype.setOffset=function(q){return this.options.offset=q,this._update(),this},Z.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(q){this._update(q.point)},Z.prototype._onMouseMove=function(q){this._update(q.point)},Z.prototype._onDrag=function(q){this._update(q.point)},Z.prototype._update=function(q){var pe=this,Oe=this._lngLat||this._trackPointer;if(!(!this._map||!Oe||!this._content)&&(this._container||(this._container=S.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(kr){return pe._container.classList.add(kr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=wu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!q))){var Xe=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),ut=this.options.anchor,Lt=rp(this.options.offset);if(!ut){var Vt=this._container.offsetWidth,$t=this._container.offsetHeight,ur;Xe.y+Lt.bottom.y<$t?ur=["top"]:Xe.y>this._map.transform.height-$t?ur=["bottom"]:ur=[],Xe.x<Vt/2?ur.push("left"):Xe.x>this._map.transform.width-Vt/2&&ur.push("right"),ur.length===0?ut="bottom":ut=ur.join("-")}var sr=Xe.add(Lt[ut]).round();S.setTransform(this._container,ch[ut]+" translate("+sr.x+"px,"+sr.y+"px)"),zh(this._container,ut,"popup")}},Z.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var q=this._container.querySelector(tp);q&&q.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(s.Evented);function rp(ce){if(ce)if(typeof ce=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(ce,2)));return{center:new s.Point(0,0),top:new s.Point(0,ce),"top-left":new s.Point(Z,Z),"top-right":new s.Point(-Z,Z),bottom:new s.Point(0,-ce),"bottom-left":new s.Point(Z,-Z),"bottom-right":new s.Point(-Z,-Z),left:new s.Point(ce,0),right:new s.Point(-ce,0)}}else if(ce instanceof s.Point||Array.isArray(ce)){var de=s.Point.convert(ce);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:s.Point.convert(ce.center||[0,0]),top:s.Point.convert(ce.top||[0,0]),"top-left":s.Point.convert(ce["top-left"]||[0,0]),"top-right":s.Point.convert(ce["top-right"]||[0,0]),bottom:s.Point.convert(ce.bottom||[0,0]),"bottom-left":s.Point.convert(ce["bottom-left"]||[0,0]),"bottom-right":s.Point.convert(ce["bottom-right"]||[0,0]),left:s.Point.convert(ce.left||[0,0]),right:s.Point.convert(ce.right||[0,0])};else return rp(new s.Point(0,0))}var oo={version:s.version,supported:L,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:Bv,NavigationControl:bu,GeolocateControl:Qd,AttributionControl:Qa,ScaleControl:Mf,FullscreenControl:hl,Popup:G0,Marker:cc,Style:ko,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,config:s.config,prewarm:It,clearPrewarmedResources:Qt,get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(ce){s.config.ACCESS_TOKEN=ce},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(ce){s.config.API_URL=ce},get workerCount(){return pr.workerCount},set workerCount(ce){pr.workerCount=ce},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ce){s.config.MAX_PARALLEL_IMAGE_REQUESTS=ce},clearStorage:function(Z){s.clearTileCache(Z)},workerUrl:""};return oo}),m})},3108:function(G,H,e){G.exports=e(26099)},26099:function(G,H,e){var m=e(64928),P=e(32420),s=e(51160),L=e(76752),S=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),i=e(76244),n=1073741824;G.exports=function(l,g){g||(g={}),l=p(l,"float64"),g=S(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(g.maxDepth,255),T=v(g.bounds,L(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var c=f(l,T),a=l.length>>>1,d;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?d=new(t(g.dtype))(a):g.dtype&&(d=g.dtype,Array.isArray(d)&&(d.length=a));for(var x=0;x<a;++x)d[x]=x;var w=[],C=[],y=[],M=[];N(0,0,1,d,0,1);for(var A=0,o=0;o<w.length;o++){var E=w[o];if(d.set)d.set(E,A);else for(var b=0,I=E.length;b<I;b++)d[b+A]=E[b];var D=A+w[o].length;M[o]=[A,D],A=D}return d.range=k,d;function N(z,B,W,J,re,ne){if(!J.length)return null;var le=w[re]||(w[re]=[]),$=y[re]||(y[re]=[]),K=C[re]||(C[re]=[]),ie=le.length;if(re++,re>h||ne>n){for(var Y=0;Y<J.length;Y++)le.push(J[Y]),$.push(ne),K.push(null,null,null,null);return ie}if(le.push(J[0]),$.push(ne),J.length<=1)return K.push(null,null,null,null),ie;for(var Q=W*.5,oe=z+Q,X=B+Q,j=[],se=[],te=[],fe=[],ge=1,be=J.length;ge<be;ge++){var xe=J[ge],_e=c[xe*2],De=c[xe*2+1];_e<oe?De<X?j.push(xe):se.push(xe):De<X?te.push(xe):fe.push(xe)}return ne<<=2,K.push(N(z,B,Q,j,re,ne),N(z,X,Q,se,re,ne+1),N(oe,B,Q,te,re,ne+2),N(oe,X,Q,fe,re,ne+3)),ie}function k(){for(var z=[],B=arguments.length;B--;)z[B]=arguments[B];var W;if(r(z[z.length-1])){var J=z.pop();!z.length&&(J.x!=null||J.l!=null||J.left!=null)&&(z=[J],W={}),W=S(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};z.length||(z=T);var re=s.apply(void 0,z),ne=[Math.min(re.x,re.x+re.width),Math.min(re.y,re.y+re.height),Math.max(re.x,re.x+re.width),Math.max(re.y,re.y+re.height)],le=ne[0],$=ne[1],K=ne[2],ie=ne[3],Y=f([le,$,K,ie],T),Q=Y[0],oe=Y[1],X=Y[2],j=Y[3],se=v(W.level,w.length);if(W.d!=null){var te;typeof W.d=="number"?te=[W.d,W.d]:W.d.length&&(te=W.d),se=Math.min(Math.max(Math.ceil(-i(Math.abs(te[0])/(T[2]-T[0]))),Math.ceil(-i(Math.abs(te[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,w.length),W.lod)return O(Q,oe,X,j,se);var fe=[];ge(0,0,1,0,0,1);function ge(xe,_e,De,Fe,Te,Re){if(!(Te===null||Re===null)){var Se=xe+De,Ie=_e+De;if(!(Q>Se||oe>Ie||X<xe||j<_e)&&!(Fe>=se)&&Te!==Re){var Me=w[Fe];Re===void 0&&(Re=Me.length);for(var Ve=Te;Ve<Re;Ve++){var et=Me[Ve],it=l[et*2],Je=l[et*2+1];it>=le&&it<=K&&Je>=$&&Je<=ie&&fe.push(et)}var Qe=C[Fe],ct=Qe[Te*4+0],ht=Qe[Te*4+1],gt=Qe[Te*4+2],Tt=Qe[Te*4+3],Et=be(Qe,Te+1),rt=De*.5,ze=Fe+1;ge(xe,_e,rt,ze,ct,ht||gt||Tt||Et),ge(xe,_e+rt,rt,ze,ht,gt||Tt||Et),ge(xe+rt,_e,rt,ze,gt,Tt||Et),ge(xe+rt,_e+rt,rt,ze,Tt,Et)}}}function be(xe,_e){for(var De=null,Fe=0;De===null;)if(De=xe[_e*4+Fe],Fe++,Fe>xe.length)return null;return De}return fe}function O(z,B,W,J,re){for(var ne=[],le=0;le<re;le++){var $=y[le],K=M[le][0],ie=F(z,B,le),Y=F(W,J,le),Q=m.ge($,ie),oe=m.gt($,Y,Q,$.length-1);ne[le]=[Q+K,oe+K]}return ne}function F(z,B,W){for(var J=1,re=.5,ne=.5,le=.5,$=0;$<W;$++)J<<=2,J+=z<re?B<ne?0:1:B<ne?2:3,le*=.5,re+=z<re?-le:le,ne+=B<ne?-le:le;return J}};function f(u,l){for(var g=l[0],h=l[1],T=l[2],c=l[3],a=1/(T-g),d=1/(c-h),x=new Array(u.length),w=0,C=u.length/2;w<C;w++)x[2*w]=P((u[2*w]-g)*a,0,1),x[2*w+1]=P((u[2*w+1]-h)*d,0,1);return x}},40440:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(3256),P=6378137;function s(r){return m.geomReduce(r,function(t,i){return t+L(i)},0)}H.default=s;function L(r){var t=0,i;switch(r.type){case"Polygon":return S(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=S(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function S(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(v(r[i]))}return t}function v(r){var t,i,n,f,u,l,g,h=0,T=r.length;if(T>2){for(g=0;g<T;g++)g===T-2?(f=T-2,u=T-1,l=0):g===T-1?(f=T-1,u=0,l=1):(f=g,u=g+1,l=g+2),t=r[f],i=r[u],n=r[l],h+=(p(n[0])-p(t[0]))*Math.sin(p(i[1]));h=h*P*P/2}return h}function p(r){return r*Math.PI/180}},46284:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,o,E){E===void 0&&(E={});var b={type:"Feature"};return(E.id===0||E.id)&&(b.id=E.id),E.bbox&&(b.bbox=E.bbox),b.properties=o||{},b.geometry=A,b}H.feature=e;function m(A,o,E){switch(A){case"Point":return P(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return L(o).geometry;case"MultiPoint":return i(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(A+" is invalid")}}H.geometry=m;function P(A,o,E){if(E===void 0&&(E={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,o,E)}H.point=P;function s(A,o,E){return E===void 0&&(E={}),r(A.map(function(b){return P(b,o)}),E)}H.points=s;function L(A,o,E){E===void 0&&(E={});for(var b=0,I=A;b<I.length;b++){var D=I[b];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:A};return e(k,o,E)}H.polygon=L;function S(A,o,E){return E===void 0&&(E={}),r(A.map(function(b){return L(b,o)}),E)}H.polygons=S;function v(A,o,E){if(E===void 0&&(E={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,o,E)}H.lineString=v;function p(A,o,E){return E===void 0&&(E={}),r(A.map(function(b){return v(b,o)}),E)}H.lineStrings=p;function r(A,o){o===void 0&&(o={});var E={type:"FeatureCollection"};return o.id&&(E.id=o.id),o.bbox&&(E.bbox=o.bbox),E.features=A,E}H.featureCollection=r;function t(A,o,E){E===void 0&&(E={});var b={type:"MultiLineString",coordinates:A};return e(b,o,E)}H.multiLineString=t;function i(A,o,E){E===void 0&&(E={});var b={type:"MultiPoint",coordinates:A};return e(b,o,E)}H.multiPoint=i;function n(A,o,E){E===void 0&&(E={});var b={type:"MultiPolygon",coordinates:A};return e(b,o,E)}H.multiPolygon=n;function f(A,o,E){E===void 0&&(E={});var b={type:"GeometryCollection",geometries:A};return e(b,o,E)}H.geometryCollection=f;function u(A,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,o||0);return Math.round(A*E)/E}H.round=u;function l(A,o){o===void 0&&(o="kilometers");var E=H.factors[o];if(!E)throw new Error(o+" units is invalid");return A*E}H.radiansToLength=l;function g(A,o){o===void 0&&(o="kilometers");var E=H.factors[o];if(!E)throw new Error(o+" units is invalid");return A/E}H.lengthToRadians=g;function h(A,o){return c(g(A,o))}H.lengthToDegrees=h;function T(A){var o=A%360;return o<0&&(o+=360),o}H.bearingToAzimuth=T;function c(A){var o=A%(2*Math.PI);return o*180/Math.PI}H.radiansToDegrees=c;function a(A){var o=A%360;return o*Math.PI/180}H.degreesToRadians=a;function d(A,o,E){if(o===void 0&&(o="kilometers"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("length must be a positive number");return l(g(A,o),E)}H.convertLength=d;function x(A,o,E){if(o===void 0&&(o="meters"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=H.areaFactors[o];if(!b)throw new Error("invalid original units");var I=H.areaFactors[E];if(!I)throw new Error("invalid final units");return A/b*I}H.convertArea=x;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}H.isNumber=w;function C(A){return!!A&&A.constructor===Object}H.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(o){if(!w(o))throw new Error("bbox must only contain numbers")})}H.validateBBox=y;function M(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}H.validateId=M},3256:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(46284);function P(a,d,x){if(a!==null)for(var w,C,y,M,A,o,E,b=0,I=0,D,N=a.type,k=N==="FeatureCollection",O=N==="Feature",F=k?a.features.length:1,z=0;z<F;z++){E=k?a.features[z].geometry:O?a.geometry:a,D=E?E.type==="GeometryCollection":!1,A=D?E.geometries.length:1;for(var B=0;B<A;B++){var W=0,J=0;if(M=D?E.geometries[B]:E,M!==null){o=M.coordinates;var re=M.type;switch(b=x&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,I,z,W,J)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],I,z,W,J)===!1)return!1;I++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(C=0;C<o[w].length-b;C++){if(d(o[w][C],I,z,W,J)===!1)return!1;I++}re==="MultiLineString"&&W++,re==="Polygon"&&J++}re==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(J=0,C=0;C<o[w].length;C++){for(y=0;y<o[w][C].length-b;y++){if(d(o[w][C][y],I,z,W,J)===!1)return!1;I++}J++}W++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(a,d,x,w){var C=x;return P(a,function(y,M,A,o,E){M===0&&x===void 0?C=y:C=d(C,y,M,A,o,E)},w),C}function L(a,d){var x;switch(a.type){case"FeatureCollection":for(x=0;x<a.features.length&&d(a.features[x].properties,x)!==!1;x++);break;case"Feature":d(a.properties,0);break}}function S(a,d,x){var w=x;return L(a,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function v(a,d){if(a.type==="Feature")d(a,0);else if(a.type==="FeatureCollection")for(var x=0;x<a.features.length&&d(a.features[x],x)!==!1;x++);}function p(a,d,x){var w=x;return v(a,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function r(a){var d=[];return P(a,function(x){d.push(x)}),d}function t(a,d){var x,w,C,y,M,A,o,E,b,I,D=0,N=a.type==="FeatureCollection",k=a.type==="Feature",O=N?a.features.length:1;for(x=0;x<O;x++){for(A=N?a.features[x].geometry:k?a.geometry:a,E=N?a.features[x].properties:k?a.properties:{},b=N?a.features[x].bbox:k?a.bbox:void 0,I=N?a.features[x].id:k?a.id:void 0,o=A?A.type==="GeometryCollection":!1,M=o?A.geometries.length:1,C=0;C<M;C++){if(y=o?A.geometries[C]:A,y===null){if(d(null,D,E,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,E,b,I)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],D,E,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function i(a,d,x){var w=x;return t(a,function(C,y,M,A,o){y===0&&x===void 0?w=C:w=d(w,C,y,M,A,o)}),w}function n(a,d){t(a,function(x,w,C,y,M){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(x,C,{bbox:y,id:M}),w,0)===!1?!1:void 0}var o;switch(A){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var b=x.coordinates[E],I={type:o,coordinates:b};if(d(m.feature(I,C),w,E)===!1)return!1}})}function f(a,d,x){var w=x;return n(a,function(C,y,M){y===0&&M===0&&x===void 0?w=C:w=d(w,C,y,M)}),w}function u(a,d){n(a,function(x,w,C){var y=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var A,o=0,E=0,b=0;if(P(x,function(I,D,N,k,O){if(A===void 0||w>o||k>E||O>b){A=I,o=w,E=k,b=O,y=0;return}var F=m.lineString([A,I],x.properties);if(d(F,w,C,O,y)===!1)return!1;y++,A=I})===!1)return!1}}})}function l(a,d,x){var w=x,C=!1;return u(a,function(y,M,A,o,E){C===!1&&x===void 0?w=y:w=d(w,y,M,A,o,E),C=!0}),w}function g(a,d){if(!a)throw new Error("geojson is required");n(a,function(x,w,C){if(x.geometry!==null){var y=x.geometry.type,M=x.geometry.coordinates;switch(y){case"LineString":if(d(x,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<M.length;A++)if(d(m.lineString(M[A],x.properties),w,C,A)===!1)return!1;break}}})}function h(a,d,x){var w=x;return g(a,function(C,y,M,A){y===0&&x===void 0?w=C:w=d(w,C,y,M,A)}),w}function T(a,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,M=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),M=M||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":M=M||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),m.lineString([o[y],o[y+1]],M,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y-1),m.lineString([o[C][y],o[C][y+1]],M,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),m.lineString([o[w][y],o[w][y+1]],M,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y-1),m.lineString([o[w][C][y],o[w][C][y+1]],M,d)}throw new Error("geojson is invalid")}function c(a,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,M=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),M=M||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":M=M||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":return m.point(o,M,d);case"MultiPoint":return w<0&&(w=o.length+w),m.point(o[w],M,d);case"LineString":return y<0&&(y=o.length+y),m.point(o[y],M,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y),m.point(o[C][y],M,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),m.point(o[w][y],M,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y),m.point(o[w][C][y],M,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=s,H.propEach=L,H.propReduce=S,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=i,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=h,H.findSegment=T,H.findPoint=c},42428:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(84880);function P(s){var L=[1/0,1/0,-1/0,-1/0];return m.coordEach(s,function(S){L[0]>S[0]&&(L[0]=S[0]),L[1]>S[1]&&(L[1]=S[1]),L[2]<S[0]&&(L[2]=S[0]),L[3]<S[1]&&(L[3]=S[1])}),L}P.default=P,H.default=P},76796:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,o,E){E===void 0&&(E={});var b={type:"Feature"};return(E.id===0||E.id)&&(b.id=E.id),E.bbox&&(b.bbox=E.bbox),b.properties=o||{},b.geometry=A,b}H.feature=e;function m(A,o,E){switch(A){case"Point":return P(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return L(o).geometry;case"MultiPoint":return i(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return n(o).geometry;default:throw new Error(A+" is invalid")}}H.geometry=m;function P(A,o,E){if(E===void 0&&(E={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,o,E)}H.point=P;function s(A,o,E){return E===void 0&&(E={}),r(A.map(function(b){return P(b,o)}),E)}H.points=s;function L(A,o,E){E===void 0&&(E={});for(var b=0,I=A;b<I.length;b++){var D=I[b];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:A};return e(k,o,E)}H.polygon=L;function S(A,o,E){return E===void 0&&(E={}),r(A.map(function(b){return L(b,o)}),E)}H.polygons=S;function v(A,o,E){if(E===void 0&&(E={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,o,E)}H.lineString=v;function p(A,o,E){return E===void 0&&(E={}),r(A.map(function(b){return v(b,o)}),E)}H.lineStrings=p;function r(A,o){o===void 0&&(o={});var E={type:"FeatureCollection"};return o.id&&(E.id=o.id),o.bbox&&(E.bbox=o.bbox),E.features=A,E}H.featureCollection=r;function t(A,o,E){E===void 0&&(E={});var b={type:"MultiLineString",coordinates:A};return e(b,o,E)}H.multiLineString=t;function i(A,o,E){E===void 0&&(E={});var b={type:"MultiPoint",coordinates:A};return e(b,o,E)}H.multiPoint=i;function n(A,o,E){E===void 0&&(E={});var b={type:"MultiPolygon",coordinates:A};return e(b,o,E)}H.multiPolygon=n;function f(A,o,E){E===void 0&&(E={});var b={type:"GeometryCollection",geometries:A};return e(b,o,E)}H.geometryCollection=f;function u(A,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,o||0);return Math.round(A*E)/E}H.round=u;function l(A,o){o===void 0&&(o="kilometers");var E=H.factors[o];if(!E)throw new Error(o+" units is invalid");return A*E}H.radiansToLength=l;function g(A,o){o===void 0&&(o="kilometers");var E=H.factors[o];if(!E)throw new Error(o+" units is invalid");return A/E}H.lengthToRadians=g;function h(A,o){return c(g(A,o))}H.lengthToDegrees=h;function T(A){var o=A%360;return o<0&&(o+=360),o}H.bearingToAzimuth=T;function c(A){var o=A%(2*Math.PI);return o*180/Math.PI}H.radiansToDegrees=c;function a(A){var o=A%360;return o*Math.PI/180}H.degreesToRadians=a;function d(A,o,E){if(o===void 0&&(o="kilometers"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("length must be a positive number");return l(g(A,o),E)}H.convertLength=d;function x(A,o,E){if(o===void 0&&(o="meters"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=H.areaFactors[o];if(!b)throw new Error("invalid original units");var I=H.areaFactors[E];if(!I)throw new Error("invalid final units");return A/b*I}H.convertArea=x;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}H.isNumber=w;function C(A){return!!A&&A.constructor===Object}H.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(o){if(!w(o))throw new Error("bbox must only contain numbers")})}H.validateBBox=y;function M(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}H.validateId=M},84880:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(76796);function P(a,d,x){if(a!==null)for(var w,C,y,M,A,o,E,b=0,I=0,D,N=a.type,k=N==="FeatureCollection",O=N==="Feature",F=k?a.features.length:1,z=0;z<F;z++){E=k?a.features[z].geometry:O?a.geometry:a,D=E?E.type==="GeometryCollection":!1,A=D?E.geometries.length:1;for(var B=0;B<A;B++){var W=0,J=0;if(M=D?E.geometries[B]:E,M!==null){o=M.coordinates;var re=M.type;switch(b=x&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,I,z,W,J)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],I,z,W,J)===!1)return!1;I++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(C=0;C<o[w].length-b;C++){if(d(o[w][C],I,z,W,J)===!1)return!1;I++}re==="MultiLineString"&&W++,re==="Polygon"&&J++}re==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(J=0,C=0;C<o[w].length;C++){for(y=0;y<o[w][C].length-b;y++){if(d(o[w][C][y],I,z,W,J)===!1)return!1;I++}J++}W++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(a,d,x,w){var C=x;return P(a,function(y,M,A,o,E){M===0&&x===void 0?C=y:C=d(C,y,M,A,o,E)},w),C}function L(a,d){var x;switch(a.type){case"FeatureCollection":for(x=0;x<a.features.length&&d(a.features[x].properties,x)!==!1;x++);break;case"Feature":d(a.properties,0);break}}function S(a,d,x){var w=x;return L(a,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function v(a,d){if(a.type==="Feature")d(a,0);else if(a.type==="FeatureCollection")for(var x=0;x<a.features.length&&d(a.features[x],x)!==!1;x++);}function p(a,d,x){var w=x;return v(a,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function r(a){var d=[];return P(a,function(x){d.push(x)}),d}function t(a,d){var x,w,C,y,M,A,o,E,b,I,D=0,N=a.type==="FeatureCollection",k=a.type==="Feature",O=N?a.features.length:1;for(x=0;x<O;x++){for(A=N?a.features[x].geometry:k?a.geometry:a,E=N?a.features[x].properties:k?a.properties:{},b=N?a.features[x].bbox:k?a.bbox:void 0,I=N?a.features[x].id:k?a.id:void 0,o=A?A.type==="GeometryCollection":!1,M=o?A.geometries.length:1,C=0;C<M;C++){if(y=o?A.geometries[C]:A,y===null){if(d(null,D,E,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,E,b,I)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],D,E,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function i(a,d,x){var w=x;return t(a,function(C,y,M,A,o){y===0&&x===void 0?w=C:w=d(w,C,y,M,A,o)}),w}function n(a,d){t(a,function(x,w,C,y,M){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(x,C,{bbox:y,id:M}),w,0)===!1?!1:void 0}var o;switch(A){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var b=x.coordinates[E],I={type:o,coordinates:b};if(d(m.feature(I,C),w,E)===!1)return!1}})}function f(a,d,x){var w=x;return n(a,function(C,y,M){y===0&&M===0&&x===void 0?w=C:w=d(w,C,y,M)}),w}function u(a,d){n(a,function(x,w,C){var y=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var A,o=0,E=0,b=0;if(P(x,function(I,D,N,k,O){if(A===void 0||w>o||k>E||O>b){A=I,o=w,E=k,b=O,y=0;return}var F=m.lineString([A,I],x.properties);if(d(F,w,C,O,y)===!1)return!1;y++,A=I})===!1)return!1}}})}function l(a,d,x){var w=x,C=!1;return u(a,function(y,M,A,o,E){C===!1&&x===void 0?w=y:w=d(w,y,M,A,o,E),C=!0}),w}function g(a,d){if(!a)throw new Error("geojson is required");n(a,function(x,w,C){if(x.geometry!==null){var y=x.geometry.type,M=x.geometry.coordinates;switch(y){case"LineString":if(d(x,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<M.length;A++)if(d(m.lineString(M[A],x.properties),w,C,A)===!1)return!1;break}}})}function h(a,d,x){var w=x;return g(a,function(C,y,M,A){y===0&&x===void 0?w=C:w=d(w,C,y,M,A)}),w}function T(a,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,M=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),M=M||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":M=M||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),m.lineString([o[y],o[y+1]],M,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y-1),m.lineString([o[C][y],o[C][y+1]],M,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),m.lineString([o[w][y],o[w][y+1]],M,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y-1),m.lineString([o[w][C][y],o[w][C][y+1]],M,d)}throw new Error("geojson is invalid")}function c(a,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,M=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),M=M||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":M=M||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":return m.point(o,M,d);case"MultiPoint":return w<0&&(w=o.length+w),m.point(o[w],M,d);case"LineString":return y<0&&(y=o.length+y),m.point(o[y],M,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y),m.point(o[C][y],M,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),m.point(o[w][y],M,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y),m.point(o[w][C][y],M,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=s,H.propEach=L,H.propReduce=S,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=i,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=h,H.findSegment=T,H.findPoint=c},77844:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(43752),P=e(49840);function s(L,S){S===void 0&&(S={});var v=0,p=0,r=0;return m.coordEach(L,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],S.properties)}H.default=s},49840:function(G,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(k,O,F){F===void 0&&(F={});var z={type:"Feature"};return(F.id===0||F.id)&&(z.id=F.id),F.bbox&&(z.bbox=F.bbox),z.properties=O||{},z.geometry=k,z}H.feature=e;function m(k,O,F){switch(k){case"Point":return P(O).geometry;case"LineString":return v(O).geometry;case"Polygon":return L(O).geometry;case"MultiPoint":return i(O).geometry;case"MultiLineString":return t(O).geometry;case"MultiPolygon":return n(O).geometry;default:throw new Error(k+" is invalid")}}H.geometry=m;function P(k,O,F){F===void 0&&(F={});var z={type:"Point",coordinates:k};return e(z,O,F)}H.point=P;function s(k,O,F){return F===void 0&&(F={}),r(k.map(function(z){return P(z,O)}),F)}H.points=s;function L(k,O,F){F===void 0&&(F={});for(var z=0,B=k;z<B.length;z++){var W=B[z];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<W[W.length-1].length;J++)if(W[W.length-1][J]!==W[0][J])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:k};return e(re,O,F)}H.polygon=L;function S(k,O,F){return F===void 0&&(F={}),r(k.map(function(z){return L(z,O)}),F)}H.polygons=S;function v(k,O,F){if(F===void 0&&(F={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:k};return e(z,O,F)}H.lineString=v;function p(k,O,F){return F===void 0&&(F={}),r(k.map(function(z){return v(z,O)}),F)}H.lineStrings=p;function r(k,O){O===void 0&&(O={});var F={type:"FeatureCollection"};return O.id&&(F.id=O.id),O.bbox&&(F.bbox=O.bbox),F.features=k,F}H.featureCollection=r;function t(k,O,F){F===void 0&&(F={});var z={type:"MultiLineString",coordinates:k};return e(z,O,F)}H.multiLineString=t;function i(k,O,F){F===void 0&&(F={});var z={type:"MultiPoint",coordinates:k};return e(z,O,F)}H.multiPoint=i;function n(k,O,F){F===void 0&&(F={});var z={type:"MultiPolygon",coordinates:k};return e(z,O,F)}H.multiPolygon=n;function f(k,O,F){F===void 0&&(F={});var z={type:"GeometryCollection",geometries:k};return e(z,O,F)}H.geometryCollection=f;function u(k,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,O||0);return Math.round(k*F)/F}H.round=u;function l(k,O){O===void 0&&(O="kilometers");var F=H.factors[O];if(!F)throw new Error(O+" units is invalid");return k*F}H.radiansToLength=l;function g(k,O){O===void 0&&(O="kilometers");var F=H.factors[O];if(!F)throw new Error(O+" units is invalid");return k/F}H.lengthToRadians=g;function h(k,O){return c(g(k,O))}H.lengthToDegrees=h;function T(k){var O=k%360;return O<0&&(O+=360),O}H.bearingToAzimuth=T;function c(k){var O=k%(2*Math.PI);return O*180/Math.PI}H.radiansToDegrees=c;function a(k){var O=k%360;return O*Math.PI/180}H.degreesToRadians=a;function d(k,O,F){if(O===void 0&&(O="kilometers"),F===void 0&&(F="kilometers"),!(k>=0))throw new Error("length must be a positive number");return l(g(k,O),F)}H.convertLength=d;function x(k,O,F){if(O===void 0&&(O="meters"),F===void 0&&(F="kilometers"),!(k>=0))throw new Error("area must be a positive number");var z=H.areaFactors[O];if(!z)throw new Error("invalid original units");var B=H.areaFactors[F];if(!B)throw new Error("invalid final units");return k/z*B}H.convertArea=x;function w(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)&&!/^\s*$/.test(k)}H.isNumber=w;function C(k){return!!k&&k.constructor===Object}H.isObject=C;function y(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(O){if(!w(O))throw new Error("bbox must only contain numbers")})}H.validateBBox=y;function M(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}H.validateId=M;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=A;function o(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=o;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=E;function b(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=b;function I(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=I;function D(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=D;function N(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=N},43752:function(G,H,e){Object.defineProperty(H,"__esModule",{value:!0});var m=e(49840);function P(a,d,x){if(a!==null)for(var w,C,y,M,A,o,E,b=0,I=0,D,N=a.type,k=N==="FeatureCollection",O=N==="Feature",F=k?a.features.length:1,z=0;z<F;z++){E=k?a.features[z].geometry:O?a.geometry:a,D=E?E.type==="GeometryCollection":!1,A=D?E.geometries.length:1;for(var B=0;B<A;B++){var W=0,J=0;if(M=D?E.geometries[B]:E,M!==null){o=M.coordinates;var re=M.type;switch(b=x&&(re==="Polygon"||re==="MultiPolygon")?1:0,re){case null:break;case"Point":if(d(o,I,z,W,J)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<o.length;w++){if(d(o[w],I,z,W,J)===!1)return!1;I++,re==="MultiPoint"&&W++}re==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<o.length;w++){for(C=0;C<o[w].length-b;C++){if(d(o[w][C],I,z,W,J)===!1)return!1;I++}re==="MultiLineString"&&W++,re==="Polygon"&&J++}re==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<o.length;w++){for(J=0,C=0;C<o[w].length;C++){for(y=0;y<o[w][C].length-b;y++){if(d(o[w][C][y],I,z,W,J)===!1)return!1;I++}J++}W++}break;case"GeometryCollection":for(w=0;w<M.geometries.length;w++)if(P(M.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(a,d,x,w){var C=x;return P(a,function(y,M,A,o,E){M===0&&x===void 0?C=y:C=d(C,y,M,A,o,E)},w),C}function L(a,d){var x;switch(a.type){case"FeatureCollection":for(x=0;x<a.features.length&&d(a.features[x].properties,x)!==!1;x++);break;case"Feature":d(a.properties,0);break}}function S(a,d,x){var w=x;return L(a,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function v(a,d){if(a.type==="Feature")d(a,0);else if(a.type==="FeatureCollection")for(var x=0;x<a.features.length&&d(a.features[x],x)!==!1;x++);}function p(a,d,x){var w=x;return v(a,function(C,y){y===0&&x===void 0?w=C:w=d(w,C,y)}),w}function r(a){var d=[];return P(a,function(x){d.push(x)}),d}function t(a,d){var x,w,C,y,M,A,o,E,b,I,D=0,N=a.type==="FeatureCollection",k=a.type==="Feature",O=N?a.features.length:1;for(x=0;x<O;x++){for(A=N?a.features[x].geometry:k?a.geometry:a,E=N?a.features[x].properties:k?a.properties:{},b=N?a.features[x].bbox:k?a.bbox:void 0,I=N?a.features[x].id:k?a.id:void 0,o=A?A.type==="GeometryCollection":!1,M=o?A.geometries.length:1,C=0;C<M;C++){if(y=o?A.geometries[C]:A,y===null){if(d(null,D,E,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,E,b,I)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<y.geometries.length;w++)if(d(y.geometries[w],D,E,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function i(a,d,x){var w=x;return t(a,function(C,y,M,A,o){y===0&&x===void 0?w=C:w=d(w,C,y,M,A,o)}),w}function n(a,d){t(a,function(x,w,C,y,M){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(m.feature(x,C,{bbox:y,id:M}),w,0)===!1?!1:void 0}var o;switch(A){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var b=x.coordinates[E],I={type:o,coordinates:b};if(d(m.feature(I,C),w,E)===!1)return!1}})}function f(a,d,x){var w=x;return n(a,function(C,y,M){y===0&&M===0&&x===void 0?w=C:w=d(w,C,y,M)}),w}function u(a,d){n(a,function(x,w,C){var y=0;if(x.geometry){var M=x.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var A,o=0,E=0,b=0;if(P(x,function(I,D,N,k,O){if(A===void 0||w>o||k>E||O>b){A=I,o=w,E=k,b=O,y=0;return}var F=m.lineString([A,I],x.properties);if(d(F,w,C,O,y)===!1)return!1;y++,A=I})===!1)return!1}}})}function l(a,d,x){var w=x,C=!1;return u(a,function(y,M,A,o,E){C===!1&&x===void 0?w=y:w=d(w,y,M,A,o,E),C=!0}),w}function g(a,d){if(!a)throw new Error("geojson is required");n(a,function(x,w,C){if(x.geometry!==null){var y=x.geometry.type,M=x.geometry.coordinates;switch(y){case"LineString":if(d(x,w,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<M.length;A++)if(d(m.lineString(M[A],x.properties),w,C,A)===!1)return!1;break}}})}function h(a,d,x){var w=x;return g(a,function(C,y,M,A){y===0&&x===void 0?w=C:w=d(w,C,y,M,A)}),w}function T(a,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,M=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),M=M||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":M=M||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),m.lineString([o[y],o[y+1]],M,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y-1),m.lineString([o[C][y],o[C][y+1]],M,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y-1),m.lineString([o[w][y],o[w][y+1]],M,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y-1),m.lineString([o[w][C][y],o[w][C][y+1]],M,d)}throw new Error("geojson is invalid")}function c(a,d){if(d=d||{},!m.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,M=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),M=M||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":M=M||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var o=A.coordinates;switch(A.type){case"Point":return m.point(o,M,d);case"MultiPoint":return w<0&&(w=o.length+w),m.point(o[w],M,d);case"LineString":return y<0&&(y=o.length+y),m.point(o[y],M,d);case"Polygon":return C<0&&(C=o.length+C),y<0&&(y=o[C].length+y),m.point(o[C][y],M,d);case"MultiLineString":return w<0&&(w=o.length+w),y<0&&(y=o[w].length+y),m.point(o[w][y],M,d);case"MultiPolygon":return w<0&&(w=o.length+w),C<0&&(C=o[w].length+C),y<0&&(y=o[w][C].length-y),m.point(o[w][C][y],M,d)}throw new Error("geojson is invalid")}H.coordEach=P,H.coordReduce=s,H.propEach=L,H.propReduce=S,H.featureEach=v,H.featureReduce=p,H.coordAll=r,H.geomEach=t,H.geomReduce=i,H.flattenEach=n,H.flattenReduce=f,H.segmentEach=u,H.segmentReduce=l,H.lineEach=g,H.lineReduce=h,H.findSegment=T,H.findPoint=c},49972:function(G){G.exports=H;function H(e){var m=0,P=0,s=0,L=0;return e.map(function(S){S=S.slice();var v=S[0],p=v.toUpperCase();if(v!=p)switch(S[0]=p,v){case"a":S[6]+=s,S[7]+=L;break;case"v":S[1]+=L;break;case"h":S[1]+=s;break;default:for(var r=1;r<S.length;)S[r++]+=s,S[r++]+=L}switch(p){case"Z":s=m,L=P;break;case"H":s=S[1];break;case"V":L=S[1];break;case"M":s=m=S[1],L=P=S[2];break;default:s=S[S.length-2],L=S[S.length-1]}return S})}},76752:function(G){G.exports=H;function H(e,m){if(!e||e.length==null)throw Error("Argument should be an array");m==null?m=1:m=Math.floor(m);for(var P=Array(m*2),s=0;s<m;s++){for(var L=-1/0,S=1/0,v=s,p=e.length;v<p;v+=m)e[v]>L&&(L=e[v]),e[v]<S&&(S=e[v]);P[s]=S,P[m+s]=L}return P}},10272:function(G){G.exports=function(H,e,m){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,m);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(H),s=P.length;if(s===0)return-1;for(var L=0;L<s;L++)if(e.call(m,P[L],L,P))return L;return-1}},71152:function(G,H,e){var m=e(76752);G.exports=P;function P(s,L,S){if(!s||s.length==null)throw Error("Argument should be an array");L==null&&(L=1),S==null&&(S=m(s,L));for(var v=0;v<L;v++){var p=S[L+v],r=S[v],t=v,i=s.length;if(p===1/0&&r===-1/0)for(t=v;t<i;t+=L)s[t]=s[t]===p?1:s[t]===r?0:.5;else if(p===1/0)for(t=v;t<i;t+=L)s[t]=s[t]===p?1:0;else if(r===-1/0)for(t=v;t<i;t+=L)s[t]=s[t]===r?0:1;else{var n=p-r;for(t=v;t<i;t+=L)isNaN(s[t])||(s[t]=n===0?.5:(s[t]-r)/n)}}return s}},67752:function(G){G.exports=function(e,m){var P=typeof e=="number",s=typeof m=="number";P&&!s?(m=e,e=0):!P&&!s&&(e=0,m=0),e=e|0,m=m|0;var L=m-e;if(L<0)throw new Error("array length must be positive");for(var S=new Array(L),v=0,p=e;v<L;v++,p++)S[v]=p;return S}},45408:function(G,H,e){var m=e(4168);function P(J){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ne){return typeof ne}:P=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},P(J)}function s(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}var L=e(86832),S=L.codes,v=S.ERR_AMBIGUOUS_ARGUMENT,p=S.ERR_INVALID_ARG_TYPE,r=S.ERR_INVALID_ARG_VALUE,t=S.ERR_INVALID_RETURN_VALUE,i=S.ERR_MISSING_ARGS,n=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,g=l.isPromise,h=l.isRegExp,T=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),a,d;function x(){var J=e(25116);a=J.isDeepEqual,d=J.isDeepStrictEqual}var w=!1,C=G.exports=E,y={};function M(J){throw J.message instanceof Error?J.message:new n(J)}function A(J,re,ne,le,$){var K=arguments.length,ie;if(K===0)ie="Failed";else if(K===1)ne=J,J=void 0;else{if(w===!1){w=!0;var Y=m.emitWarning?m.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}K===2&&(le="!=")}if(ne instanceof Error)throw ne;var Q={actual:J,expected:re,operator:le===void 0?"fail":le,stackStartFn:$||A};ne!==void 0&&(Q.message=ne);var oe=new n(Q);throw ie&&(oe.message=ie,oe.generatedMessage=!0),oe}C.fail=A,C.AssertionError=n;function o(J,re,ne,le){if(!ne){var $=!1;if(re===0)$=!0,le="No value argument passed to `assert.ok()`";else if(le instanceof Error)throw le;var K=new n({actual:ne,expected:!0,message:le,operator:"==",stackStartFn:J});throw K.generatedMessage=$,K}}function E(){for(var J=arguments.length,re=new Array(J),ne=0;ne<J;ne++)re[ne]=arguments[ne];o.apply(void 0,[E,re.length].concat(re))}C.ok=E,C.equal=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");re!=ne&&M({actual:re,expected:ne,message:le,operator:"==",stackStartFn:J})},C.notEqual=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");re==ne&&M({actual:re,expected:ne,message:le,operator:"!=",stackStartFn:J})},C.deepEqual=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");a===void 0&&x(),a(re,ne)||M({actual:re,expected:ne,message:le,operator:"deepEqual",stackStartFn:J})},C.notDeepEqual=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");a===void 0&&x(),a(re,ne)&&M({actual:re,expected:ne,message:le,operator:"notDeepEqual",stackStartFn:J})},C.deepStrictEqual=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");a===void 0&&x(),d(re,ne)||M({actual:re,expected:ne,message:le,operator:"deepStrictEqual",stackStartFn:J})},C.notDeepStrictEqual=b;function b(J,re,ne){if(arguments.length<2)throw new i("actual","expected");a===void 0&&x(),d(J,re)&&M({actual:J,expected:re,message:ne,operator:"notDeepStrictEqual",stackStartFn:b})}C.strictEqual=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");c(re,ne)||M({actual:re,expected:ne,message:le,operator:"strictEqual",stackStartFn:J})},C.notStrictEqual=function J(re,ne,le){if(arguments.length<2)throw new i("actual","expected");c(re,ne)&&M({actual:re,expected:ne,message:le,operator:"notStrictEqual",stackStartFn:J})};var I=function J(re,ne,le){var $=this;s(this,J),ne.forEach(function(K){K in re&&(le!==void 0&&typeof le[K]=="string"&&h(re[K])&&re[K].test(le[K])?$[K]=le[K]:$[K]=re[K])})};function D(J,re,ne,le,$,K){if(!(ne in J)||!d(J[ne],re[ne])){if(!le){var ie=new I(J,$),Y=new I(re,$,J),Q=new n({actual:ie,expected:Y,operator:"deepStrictEqual",stackStartFn:K});throw Q.actual=J,Q.expected=re,Q.operator=K.name,Q}M({actual:J,expected:re,message:le,operator:K.name,stackStartFn:K})}}function N(J,re,ne,le){if(typeof re!="function"){if(h(re))return re.test(J);if(arguments.length===2)throw new p("expected",["Function","RegExp"],re);if(P(J)!=="object"||J===null){var $=new n({actual:J,expected:re,message:ne,operator:"deepStrictEqual",stackStartFn:le});throw $.operator=le.name,$}var K=Object.keys(re);if(re instanceof Error)K.push("name","message");else if(K.length===0)throw new r("error",re,"may not be an empty object");return a===void 0&&x(),K.forEach(function(ie){typeof J[ie]=="string"&&h(re[ie])&&re[ie].test(J[ie])||D(J,re,ie,ne,K,le)}),!0}return re.prototype!==void 0&&J instanceof re?!0:Error.isPrototypeOf(re)?!1:re.call({},J)===!0}function k(J){if(typeof J!="function")throw new p("fn","Function",J);try{J()}catch(re){return re}return y}function O(J){return g(J)||J!==null&&P(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"}function F(J){return Promise.resolve().then(function(){var re;if(typeof J=="function"){if(re=J(),!O(re))throw new t("instance of Promise","promiseFn",re)}else if(O(J))re=J;else throw new p("promiseFn",["Function","Promise"],J);return Promise.resolve().then(function(){return re}).then(function(){return y}).catch(function(ne){return ne})})}function z(J,re,ne,le){if(typeof ne=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ne);if(P(re)==="object"&&re!==null){if(re.message===ne)throw new v("error/message",'The error message "'.concat(re.message,'" is identical to the message.'))}else if(re===ne)throw new v("error/message",'The error "'.concat(re,'" is identical to the message.'));le=ne,ne=void 0}else if(ne!=null&&P(ne)!=="object"&&typeof ne!="function")throw new p("error",["Object","Error","Function","RegExp"],ne);if(re===y){var $="";ne&&ne.name&&($+=" (".concat(ne.name,")")),$+=le?": ".concat(le):".";var K=J.name==="rejects"?"rejection":"exception";M({actual:void 0,expected:ne,operator:J.name,message:"Missing expected ".concat(K).concat($),stackStartFn:J})}if(ne&&!N(re,ne,le,J))throw re}function B(J,re,ne,le){if(re!==y){if(typeof ne=="string"&&(le=ne,ne=void 0),!ne||N(re,ne)){var $=le?": ".concat(le):".",K=J.name==="doesNotReject"?"rejection":"exception";M({actual:re,expected:ne,operator:J.name,message:"Got unwanted ".concat(K).concat($,`
`)+'Actual message: "'.concat(re&&re.message,'"'),stackStartFn:J})}throw re}}C.throws=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];z.apply(void 0,[J,k(re)].concat(le))},C.rejects=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];return F(re).then(function(K){return z.apply(void 0,[J,K].concat(le))})},C.doesNotThrow=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];B.apply(void 0,[J,k(re)].concat(le))},C.doesNotReject=function J(re){for(var ne=arguments.length,le=new Array(ne>1?ne-1:0),$=1;$<ne;$++)le[$-1]=arguments[$];return F(re).then(function(K){return B.apply(void 0,[J,K].concat(le))})},C.ifError=function J(re){if(re!=null){var ne="ifError got unwanted exception: ";P(re)==="object"&&typeof re.message=="string"?re.message.length===0&&re.constructor?ne+=re.constructor.name:ne+=re.message:ne+=u(re);var le=new n({actual:re,expected:null,operator:"ifError",message:ne,stackStartFn:J}),$=re.stack;if(typeof $=="string"){var K=$.split(`
`);K.shift();for(var ie=le.stack.split(`
`),Y=0;Y<K.length;Y++){var Q=ie.indexOf(K[Y]);if(Q!==-1){ie=ie.slice(0,Q);break}}le.stack="".concat(ie.join(`
`),`
`).concat(K.join(`
`))}throw le}};function W(){for(var J=arguments.length,re=new Array(J),ne=0;ne<J;ne++)re[ne]=arguments[ne];o.apply(void 0,[W,re.length].concat(re))}C.strict=T(W,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(G,H,e){var m=e(4168);function P(k){for(var O=1;O<arguments.length;O++){var F=arguments[O]!=null?arguments[O]:{},z=Object.keys(F);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(F).filter(function(B){return Object.getOwnPropertyDescriptor(F,B).enumerable}))),z.forEach(function(B){s(k,B,F[B])})}return k}function s(k,O,F){return O in k?Object.defineProperty(k,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[O]=F,k}function L(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}function S(k,O){for(var F=0;F<O.length;F++){var z=O[F];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(k,z.key,z)}}function v(k,O,F){return O&&S(k.prototype,O),k}function p(k,O){return O&&(h(O)==="object"||typeof O=="function")?O:r(k)}function r(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function t(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),O&&l(k,O)}function i(k){var O=typeof Map=="function"?new Map:void 0;return i=function(z){if(z===null||!u(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(z))return O.get(z);O.set(z,B)}function B(){return f(z,arguments,g(this).constructor)}return B.prototype=Object.create(z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),l(B,z)},i(k)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(k,O,F){return n()?f=Reflect.construct:f=function(B,W,J){var re=[null];re.push.apply(re,W);var ne=Function.bind.apply(B,re),le=new ne;return J&&l(le,J.prototype),le},f.apply(null,arguments)}function u(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function l(k,O){return l=Object.setPrototypeOf||function(z,B){return z.__proto__=B,z},l(k,O)}function g(k){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},g(k)}function h(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(F){return typeof F}:h=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h(k)}var T=e(35840),c=T.inspect,a=e(86832),d=a.codes.ERR_INVALID_ARG_TYPE;function x(k,O,F){return(F===void 0||F>k.length)&&(F=k.length),k.substring(F-O.length,F)===O}function w(k,O){if(O=Math.floor(O),k.length==0||O==0)return"";var F=k.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)k+=k,O--;return k+=k.substring(0,F-k.length),k}var C="",y="",M="",A="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function b(k){var O=Object.keys(k),F=Object.create(Object.getPrototypeOf(k));return O.forEach(function(z){F[z]=k[z]}),Object.defineProperty(F,"message",{value:k.message}),F}function I(k){return c(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(k,O,F){var z="",B="",W=0,J="",re=!1,ne=I(k),le=ne.split(`
`),$=I(O).split(`
`),K=0,ie="";if(F==="strictEqual"&&h(k)==="object"&&h(O)==="object"&&k!==null&&O!==null&&(F="strictEqualObject"),le.length===1&&$.length===1&&le[0]!==$[0]){var Y=le[0].length+$[0].length;if(Y<=E){if((h(k)!=="object"||k===null)&&(h(O)!=="object"||O===null)&&(k!==0||O!==0))return"".concat(o[F],`

`)+"".concat(le[0]," !== ").concat($[0],`
`)}else if(F!=="strictEqualObject"){var Q=m.stderr&&m.stderr.isTTY?m.stderr.columns:80;if(Y<Q){for(;le[0][K]===$[0][K];)K++;K>2&&(ie=`
  `.concat(w(" ",K),"^"),K=0)}}}for(var oe=le[le.length-1],X=$[$.length-1];oe===X&&(K++<2?J=`
  `.concat(oe).concat(J):z=oe,le.pop(),$.pop(),!(le.length===0||$.length===0));)oe=le[le.length-1],X=$[$.length-1];var j=Math.max(le.length,$.length);if(j===0){var se=ne.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(A);se.length>27;)se.pop();return"".concat(o.notIdentical,`

`).concat(se.join(`
`),`
`)}K>3&&(J=`
`.concat(C,"...").concat(A).concat(J),re=!0),z!==""&&(J=`
  `.concat(z).concat(J),z="");var te=0,fe=o[F]+`
`.concat(y,"+ actual").concat(A," ").concat(M,"- expected").concat(A),ge=" ".concat(C,"...").concat(A," Lines skipped");for(K=0;K<j;K++){var be=K-W;if(le.length<K+1)be>1&&K>2&&(be>4?(B+=`
`.concat(C,"...").concat(A),re=!0):be>3&&(B+=`
  `.concat($[K-2]),te++),B+=`
  `.concat($[K-1]),te++),W=K,z+=`
`.concat(M,"-").concat(A," ").concat($[K]),te++;else if($.length<K+1)be>1&&K>2&&(be>4?(B+=`
`.concat(C,"...").concat(A),re=!0):be>3&&(B+=`
  `.concat(le[K-2]),te++),B+=`
  `.concat(le[K-1]),te++),W=K,B+=`
`.concat(y,"+").concat(A," ").concat(le[K]),te++;else{var xe=$[K],_e=le[K],De=_e!==xe&&(!x(_e,",")||_e.slice(0,-1)!==xe);De&&x(xe,",")&&xe.slice(0,-1)===_e&&(De=!1,_e+=","),De?(be>1&&K>2&&(be>4?(B+=`
`.concat(C,"...").concat(A),re=!0):be>3&&(B+=`
  `.concat(le[K-2]),te++),B+=`
  `.concat(le[K-1]),te++),W=K,B+=`
`.concat(y,"+").concat(A," ").concat(_e),z+=`
`.concat(M,"-").concat(A," ").concat(xe),te+=2):(B+=z,z="",(be===1||K===0)&&(B+=`
  `.concat(_e),te++))}if(te>20&&K<j-2)return"".concat(fe).concat(ge,`
`).concat(B,`
`).concat(C,"...").concat(A).concat(z,`
`)+"".concat(C,"...").concat(A)}return"".concat(fe).concat(re?ge:"",`
`).concat(B).concat(z).concat(J).concat(ie)}var N=function(k){t(O,k);function O(F){var z;if(L(this,O),h(F)!=="object"||F===null)throw new d("options","Object",F);var B=F.message,W=F.operator,J=F.stackStartFn,re=F.actual,ne=F.expected,le=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)z=p(this,g(O).call(this,String(B)));else if(m.stderr&&m.stderr.isTTY&&(m.stderr&&m.stderr.getColorDepth&&m.stderr.getColorDepth()!==1?(C="\x1B[34m",y="\x1B[32m",A="\x1B[39m",M="\x1B[31m"):(C="",y="",A="",M="")),h(re)==="object"&&re!==null&&h(ne)==="object"&&ne!==null&&"stack"in re&&re instanceof Error&&"stack"in ne&&ne instanceof Error&&(re=b(re),ne=b(ne)),W==="deepStrictEqual"||W==="strictEqual")z=p(this,g(O).call(this,D(re,ne,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var $=o[W],K=I(re).split(`
`);if(W==="notStrictEqual"&&h(re)==="object"&&re!==null&&($=o.notStrictEqualObject),K.length>30)for(K[26]="".concat(C,"...").concat(A);K.length>27;)K.pop();K.length===1?z=p(this,g(O).call(this,"".concat($," ").concat(K[0]))):z=p(this,g(O).call(this,"".concat($,`

`).concat(K.join(`
`),`
`)))}else{var ie=I(re),Y="",Q=o[W];W==="notDeepEqual"||W==="notEqual"?(ie="".concat(o[W],`

`).concat(ie),ie.length>1024&&(ie="".concat(ie.slice(0,1021),"..."))):(Y="".concat(I(ne)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),W==="deepEqual"||W==="equal"?ie="".concat(Q,`

`).concat(ie,`

should equal

`):Y=" ".concat(W," ").concat(Y)),z=p(this,g(O).call(this,"".concat(ie).concat(Y)))}return Error.stackTraceLimit=le,z.generatedMessage=!B,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=re,z.expected=ne,z.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(z),J),z.stack,z.name="AssertionError",p(z)}return v(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,B){return c(this,P({},B,{customInspect:!1,depth:0}))}}]),O}(i(Error));G.exports=N},86832:function(G,H,e){function m(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(c){return typeof c}:m=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},m(h)}function P(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function s(h,T){return T&&(m(T)==="object"||typeof T=="function")?T:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},S(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&p(h,T)}function p(h,T){return p=Object.setPrototypeOf||function(a,d){return a.__proto__=d,a},p(h,T)}var r={},t,i;function n(h,T,c){c||(c=Error);function a(x,w,C){return typeof T=="string"?T:T(x,w,C)}var d=function(x){v(w,x);function w(C,y,M){var A;return P(this,w),A=s(this,S(w).call(this,a(C,y,M))),A.code=h,A}return w}(c);r[h]=d}function f(h,T){if(Array.isArray(h)){var c=h.length;return h=h.map(function(a){return String(a)}),c>2?"one of ".concat(T," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function u(h,T,c){return h.substr(0,T.length)===T}function l(h,T,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-T.length,c)===T}function g(h,T,c){return typeof c!="number"&&(c=0),c+T.length>h.length?!1:h.indexOf(T,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,T,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var a;typeof T=="string"&&u(T,"not ")?(a="must not be",T=T.replace(/^not /,"")):a="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(a," ").concat(f(T,"type"));else{var x=g(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(x," ").concat(a," ").concat(f(T,"type"))}return d+=". Received type ".concat(m(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,T){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(35840));var a=i.inspect(T);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(a)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,T,c){var a;return c&&c.constructor&&c.constructor.name?a="instance of ".concat(c.constructor.name):a="type ".concat(m(c)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(a,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),c=0;c<h;c++)T[c]=arguments[c];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var a="The ",d=T.length;switch(T=T.map(function(x){return'"'.concat(x,'"')}),d){case 1:a+="".concat(T[0]," argument");break;case 2:a+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:a+=T.slice(0,d-1).join(", "),a+=", and ".concat(T[d-1]," arguments");break}return"".concat(a," must be specified")},TypeError),G.exports.codes=r},25116:function(G,H,e){function m(Fe,Te){return L(Fe)||s(Fe,Te)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(Fe,Te){var Re=[],Se=!0,Ie=!1,Me=void 0;try{for(var Ve=Fe[Symbol.iterator](),et;!(Se=(et=Ve.next()).done)&&(Re.push(et.value),!(Te&&Re.length===Te));Se=!0);}catch(it){Ie=!0,Me=it}finally{try{!Se&&Ve.return!=null&&Ve.return()}finally{if(Ie)throw Me}}return Re}function L(Fe){if(Array.isArray(Fe))return Fe}function S(Fe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Re){return typeof Re}:S=function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},S(Fe)}var v=/a/g.flags!==void 0,p=function(Te){var Re=[];return Te.forEach(function(Se){return Re.push(Se)}),Re},r=function(Te){var Re=[];return Te.forEach(function(Se,Ie){return Re.push([Ie,Se])}),Re},t=Object.is?Object.is:e(39896),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Fe){return Fe.call.bind(Fe)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),g=f(Object.prototype.toString),h=e(35840).types,T=h.isAnyArrayBuffer,c=h.isArrayBufferView,a=h.isDate,d=h.isMap,x=h.isRegExp,w=h.isSet,C=h.isNativeError,y=h.isBoxedPrimitive,M=h.isNumberObject,A=h.isStringObject,o=h.isBooleanObject,E=h.isBigIntObject,b=h.isSymbolObject,I=h.isFloat32Array,D=h.isFloat64Array;function N(Fe){if(Fe.length===0||Fe.length>10)return!0;for(var Te=0;Te<Fe.length;Te++){var Re=Fe.charCodeAt(Te);if(Re<48||Re>57)return!0}return Fe.length===10&&Fe>=Math.pow(2,32)}function k(Fe){return Object.keys(Fe).filter(N).concat(i(Fe).filter(Object.prototype.propertyIsEnumerable.bind(Fe)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function O(Fe,Te){if(Fe===Te)return 0;for(var Re=Fe.length,Se=Te.length,Ie=0,Me=Math.min(Re,Se);Ie<Me;++Ie)if(Fe[Ie]!==Te[Ie]){Re=Fe[Ie],Se=Te[Ie];break}return Re<Se?-1:Se<Re?1:0}var F=!0,z=!1,B=0,W=1,J=2,re=3;function ne(Fe,Te){return v?Fe.source===Te.source&&Fe.flags===Te.flags:RegExp.prototype.toString.call(Fe)===RegExp.prototype.toString.call(Te)}function le(Fe,Te){if(Fe.byteLength!==Te.byteLength)return!1;for(var Re=0;Re<Fe.byteLength;Re++)if(Fe[Re]!==Te[Re])return!1;return!0}function $(Fe,Te){return Fe.byteLength!==Te.byteLength?!1:O(new Uint8Array(Fe.buffer,Fe.byteOffset,Fe.byteLength),new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength))===0}function K(Fe,Te){return Fe.byteLength===Te.byteLength&&O(new Uint8Array(Fe),new Uint8Array(Te))===0}function ie(Fe,Te){return M(Fe)?M(Te)&&t(Number.prototype.valueOf.call(Fe),Number.prototype.valueOf.call(Te)):A(Fe)?A(Te)&&String.prototype.valueOf.call(Fe)===String.prototype.valueOf.call(Te):o(Fe)?o(Te)&&Boolean.prototype.valueOf.call(Fe)===Boolean.prototype.valueOf.call(Te):E(Fe)?E(Te)&&BigInt.prototype.valueOf.call(Fe)===BigInt.prototype.valueOf.call(Te):b(Te)&&Symbol.prototype.valueOf.call(Fe)===Symbol.prototype.valueOf.call(Te)}function Y(Fe,Te,Re,Se){if(Fe===Te)return Fe!==0?!0:Re?t(Fe,Te):!0;if(Re){if(S(Fe)!=="object")return typeof Fe=="number"&&n(Fe)&&n(Te);if(S(Te)!=="object"||Fe===null||Te===null||Object.getPrototypeOf(Fe)!==Object.getPrototypeOf(Te))return!1}else{if(Fe===null||S(Fe)!=="object")return Te===null||S(Te)!=="object"?Fe==Te:!1;if(Te===null||S(Te)!=="object")return!1}var Ie=g(Fe),Me=g(Te);if(Ie!==Me)return!1;if(Array.isArray(Fe)){if(Fe.length!==Te.length)return!1;var Ve=k(Fe),et=k(Te);return Ve.length!==et.length?!1:oe(Fe,Te,Re,Se,W,Ve)}if(Ie==="[object Object]"&&(!d(Fe)&&d(Te)||!w(Fe)&&w(Te)))return!1;if(a(Fe)){if(!a(Te)||Date.prototype.getTime.call(Fe)!==Date.prototype.getTime.call(Te))return!1}else if(x(Fe)){if(!x(Te)||!ne(Fe,Te))return!1}else if(C(Fe)||Fe instanceof Error){if(Fe.message!==Te.message||Fe.name!==Te.name)return!1}else if(c(Fe)){if(!Re&&(I(Fe)||D(Fe))){if(!le(Fe,Te))return!1}else if(!$(Fe,Te))return!1;var it=k(Fe),Je=k(Te);return it.length!==Je.length?!1:oe(Fe,Te,Re,Se,B,it)}else{if(w(Fe))return!w(Te)||Fe.size!==Te.size?!1:oe(Fe,Te,Re,Se,J);if(d(Fe))return!d(Te)||Fe.size!==Te.size?!1:oe(Fe,Te,Re,Se,re);if(T(Fe)){if(!K(Fe,Te))return!1}else if(y(Fe)&&!ie(Fe,Te))return!1}return oe(Fe,Te,Re,Se,B)}function Q(Fe,Te){return Te.filter(function(Re){return l(Fe,Re)})}function oe(Fe,Te,Re,Se,Ie,Me){if(arguments.length===5){Me=Object.keys(Fe);var Ve=Object.keys(Te);if(Me.length!==Ve.length)return!1}for(var et=0;et<Me.length;et++)if(!u(Te,Me[et]))return!1;if(Re&&arguments.length===5){var it=i(Fe);if(it.length!==0){var Je=0;for(et=0;et<it.length;et++){var Qe=it[et];if(l(Fe,Qe)){if(!l(Te,Qe))return!1;Me.push(Qe),Je++}else if(l(Te,Qe))return!1}var ct=i(Te);if(it.length!==ct.length&&Q(Te,ct).length!==Je)return!1}else{var ht=i(Te);if(ht.length!==0&&Q(Te,ht).length!==0)return!1}}if(Me.length===0&&(Ie===B||Ie===W&&Fe.length===0||Fe.size===0))return!0;if(Se===void 0)Se={val1:new Map,val2:new Map,position:0};else{var gt=Se.val1.get(Fe);if(gt!==void 0){var Tt=Se.val2.get(Te);if(Tt!==void 0)return gt===Tt}Se.position++}Se.val1.set(Fe,Se.position),Se.val2.set(Te,Se.position);var Et=xe(Fe,Te,Re,Me,Se,Ie);return Se.val1.delete(Fe),Se.val2.delete(Te),Et}function X(Fe,Te,Re,Se){for(var Ie=p(Fe),Me=0;Me<Ie.length;Me++){var Ve=Ie[Me];if(Y(Te,Ve,Re,Se))return Fe.delete(Ve),!0}return!1}function j(Fe){switch(S(Fe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Fe=+Fe;case"number":if(n(Fe))return!1}return!0}function se(Fe,Te,Re){var Se=j(Re);return Se??(Te.has(Se)&&!Fe.has(Se))}function te(Fe,Te,Re,Se,Ie){var Me=j(Re);if(Me!=null)return Me;var Ve=Te.get(Me);return Ve===void 0&&!Te.has(Me)||!Y(Se,Ve,!1,Ie)?!1:!Fe.has(Me)&&Y(Se,Ve,!1,Ie)}function fe(Fe,Te,Re,Se){for(var Ie=null,Me=p(Fe),Ve=0;Ve<Me.length;Ve++){var et=Me[Ve];if(S(et)==="object"&&et!==null)Ie===null&&(Ie=new Set),Ie.add(et);else if(!Te.has(et)){if(Re||!se(Fe,Te,et))return!1;Ie===null&&(Ie=new Set),Ie.add(et)}}if(Ie!==null){for(var it=p(Te),Je=0;Je<it.length;Je++){var Qe=it[Je];if(S(Qe)==="object"&&Qe!==null){if(!X(Ie,Qe,Re,Se))return!1}else if(!Re&&!Fe.has(Qe)&&!X(Ie,Qe,Re,Se))return!1}return Ie.size===0}return!0}function ge(Fe,Te,Re,Se,Ie,Me){for(var Ve=p(Fe),et=0;et<Ve.length;et++){var it=Ve[et];if(Y(Re,it,Ie,Me)&&Y(Se,Te.get(it),Ie,Me))return Fe.delete(it),!0}return!1}function be(Fe,Te,Re,Se){for(var Ie=null,Me=r(Fe),Ve=0;Ve<Me.length;Ve++){var et=m(Me[Ve],2),it=et[0],Je=et[1];if(S(it)==="object"&&it!==null)Ie===null&&(Ie=new Set),Ie.add(it);else{var Qe=Te.get(it);if(Qe===void 0&&!Te.has(it)||!Y(Je,Qe,Re,Se)){if(Re||!te(Fe,Te,it,Je,Se))return!1;Ie===null&&(Ie=new Set),Ie.add(it)}}}if(Ie!==null){for(var ct=r(Te),ht=0;ht<ct.length;ht++){var gt=m(ct[ht],2),it=gt[0],Tt=gt[1];if(S(it)==="object"&&it!==null){if(!ge(Ie,Fe,it,Tt,Re,Se))return!1}else if(!Re&&(!Fe.has(it)||!Y(Fe.get(it),Tt,!1,Se))&&!ge(Ie,Fe,it,Tt,!1,Se))return!1}return Ie.size===0}return!0}function xe(Fe,Te,Re,Se,Ie,Me){var Ve=0;if(Me===J){if(!fe(Fe,Te,Re,Ie))return!1}else if(Me===re){if(!be(Fe,Te,Re,Ie))return!1}else if(Me===W)for(;Ve<Fe.length;Ve++)if(u(Fe,Ve)){if(!u(Te,Ve)||!Y(Fe[Ve],Te[Ve],Re,Ie))return!1}else{if(u(Te,Ve))return!1;for(var et=Object.keys(Fe);Ve<et.length;Ve++){var it=et[Ve];if(!u(Te,it)||!Y(Fe[it],Te[it],Re,Ie))return!1}return et.length===Object.keys(Te).length}for(Ve=0;Ve<Se.length;Ve++){var Je=Se[Ve];if(!Y(Fe[Je],Te[Je],Re,Ie))return!1}return!0}function _e(Fe,Te){return Y(Fe,Te,z)}function De(Fe,Te){return Y(Fe,Te,F)}G.exports={isDeepEqual:_e,isDeepStrictEqual:De}},83160:function(G,H,e){e.r(H),e.d(H,{decode:function(){return S},encode:function(){return L}});for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),s=0;s<m.length;s++)P[m.charCodeAt(s)]=s;var L=function(v){var p=new Uint8Array(v),r,t=p.length,i="";for(r=0;r<t;r+=3)i+=m[p[r]>>2],i+=m[(p[r]&3)<<4|p[r+1]>>4],i+=m[(p[r+1]&15)<<2|p[r+2]>>6],i+=m[p[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},S=function(v){var p=v.length*.75,r=v.length,t,i=0,n,f,u,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var g=new ArrayBuffer(p),h=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],f=P[v.charCodeAt(t+1)],u=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],h[i++]=n<<2|f>>4,h[i++]=(f&15)<<4|u>>2,h[i++]=(u&3)<<6|l&63;return g}},59968:function(G,H){H.byteLength=p,H.toByteArray=t,H.fromByteArray=f;for(var e=[],m=[],P=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,S=s.length;L<S;++L)e[L]=s[L],m[s.charCodeAt(L)]=L;m[45]=62,m[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.indexOf("=");g===-1&&(g=l);var h=g===l?0:4-g%4;return[g,h]}function p(u){var l=v(u),g=l[0],h=l[1];return(g+h)*3/4-h}function r(u,l,g){return(l+g)*3/4-g}function t(u){var l,g=v(u),h=g[0],T=g[1],c=new P(r(u,h,T)),a=0,d=T>0?h-4:h,x;for(x=0;x<d;x+=4)l=m[u.charCodeAt(x)]<<18|m[u.charCodeAt(x+1)]<<12|m[u.charCodeAt(x+2)]<<6|m[u.charCodeAt(x+3)],c[a++]=l>>16&255,c[a++]=l>>8&255,c[a++]=l&255;return T===2&&(l=m[u.charCodeAt(x)]<<2|m[u.charCodeAt(x+1)]>>4,c[a++]=l&255),T===1&&(l=m[u.charCodeAt(x)]<<10|m[u.charCodeAt(x+1)]<<4|m[u.charCodeAt(x+2)]>>2,c[a++]=l>>8&255,c[a++]=l&255),c}function i(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,g){for(var h,T=[],c=l;c<g;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),T.push(i(h));return T.join("")}function f(u){for(var l,g=u.length,h=g%3,T=[],c=16383,a=0,d=g-h;a<d;a+=c)T.push(n(u,a,a+c>d?d:a+c));return h===1?(l=u[g-1],T.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(u[g-2]<<8)+u[g-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},64928:function(G){function H(S,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u>=0?(i=n,t=n-1):r=n+1}return i}function e(S,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u>0?(i=n,t=n-1):r=n+1}return i}function m(S,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u<0?(i=n,r=n+1):t=n-1}return i}function P(S,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=p!==void 0?p(f,v):f-v;u<=0?(i=n,r=n+1):t=n-1}return i}function s(S,v,p,r,t){for(;r<=t;){var i=r+t>>>1,n=S[i],f=p!==void 0?p(n,v):n-v;if(f===0)return i;f<=0?r=i+1:t=i-1}return-1}function L(S,v,p,r,t,i){return typeof p=="function"?i(S,v,p,r===void 0?0:r|0,t===void 0?S.length-1:t|0):i(S,v,void 0,p===void 0?0:p|0,r===void 0?S.length-1:r|0)}G.exports={ge:function(S,v,p,r,t){return L(S,v,p,r,t,H)},gt:function(S,v,p,r,t){return L(S,v,p,r,t,e)},lt:function(S,v,p,r,t){return L(S,v,p,r,t,m)},le:function(S,v,p,r,t){return L(S,v,p,r,t,P)},eq:function(S,v,p,r,t){return L(S,v,p,r,t,s)}}},308:function(G,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(s){return(s>0)-(s<0)},H.abs=function(s){var L=s>>e-1;return(s^L)-L},H.min=function(s,L){return L^(s^L)&-(s<L)},H.max=function(s,L){return s^(s^L)&-(s<L)},H.isPow2=function(s){return!(s&s-1)&&!!s},H.log2=function(s){var L,S;return L=(s>65535)<<4,s>>>=L,S=(s>255)<<3,s>>>=S,L|=S,S=(s>15)<<2,s>>>=S,L|=S,S=(s>3)<<1,s>>>=S,L|=S,L|s>>1},H.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},H.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function m(s){var L=32;return s&=-s,s&&L--,s&65535&&(L-=16),s&16711935&&(L-=8),s&252645135&&(L-=4),s&858993459&&(L-=2),s&1431655765&&(L-=1),L}H.countTrailingZeros=m,H.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},H.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},H.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var P=new Array(256);(function(s){for(var L=0;L<256;++L){var S=L,v=L,p=7;for(S>>>=1;S;S>>>=1)v<<=1,v|=S&1,--p;s[L]=v<<p&255}})(P),H.reverse=function(s){return P[s&255]<<24|P[s>>>8&255]<<16|P[s>>>16&255]<<8|P[s>>>24&255]},H.interleave2=function(s,L){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,s|L<<1},H.deinterleave2=function(s,L){return s=s>>>L&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},H.interleave3=function(s,L,S){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,s|=L<<1,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,s|S<<2},H.deinterleave3=function(s,L){return s=s>>>L&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},H.nextCombination=function(s){var L=s|s-1;return L+1|(~L&-~L)-1>>>m(s)+1}},29620:function(G,H,e){var m=e(32420);G.exports=s;var P=1e20;function s(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,i=p.channel||0,n,f,u,l,g,h,T,c,a,d,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,f=p.height,l=v,p.stride?h=p.stride:h=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,T=c.getContext("2d"),n=c.width,f=c.height,a=T.getImageData(0,0,n,f),l=a.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,T=v,n=c.width,f=c.height,a=T.getImageData(0,0,n,f),l=a.data,h=4):window.ImageData&&v instanceof window.ImageData&&(a=v,n=v.width,f=v.height,l=a.data,h=4);if(u=Math.max(n,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(g=l,l=Array(n*f),d=0,x=g.length;d<x;d++)l[d]=g[d*h+i]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*f),C=Array(n*f),y=Array(u),M=Array(u),A=Array(u+1),o=Array(u);for(d=0,x=n*f;d<x;d++){var E=l[d];w[d]=E===1?0:E===0?P:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?P:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(w,n,f,y,M,o,A),L(C,n,f,y,M,o,A);var b=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(d=0,x=n*f;d<x;d++)b[d]=m(1-((w[d]-C[d])/t+r),0,1);return b}function L(v,p,r,t,i,n,f){for(var u=0;u<p;u++){for(var l=0;l<r;l++)t[l]=v[l*p+u];for(S(t,i,n,f,r),l=0;l<r;l++)v[l*p+u]=i[l]}for(l=0;l<r;l++){for(u=0;u<p;u++)t[u]=v[l*p+u];for(S(t,i,n,f,p),u=0;u<p;u++)v[l*p+u]=Math.sqrt(i[u])}}function S(v,p,r,t,i){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,f=0;n<i;n++){for(var u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);u<=t[f];)f--,u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=u,t[f+1]=+P}for(n=0,f=0;n<i;n++){for(;t[f+1]<n;)f++;p[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(G,H,e){var m=e(53664),P=e(57916),s=P(m("String.prototype.indexOf"));G.exports=function(S,v){var p=m(S,!!v);return typeof p=="function"&&s(S,".prototype.")>-1?P(p):p}},57916:function(G,H,e){var m=e(8844),P=e(53664),s=e(14500),L=P("%TypeError%"),S=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||m.call(v,S),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}G.exports=function(f){if(typeof f!="function")throw new L("a function is required");var u=p(m,v,arguments);return s(u,1+t(0,f.length-(arguments.length-1)),!0)};var i=function(){return p(m,S,arguments)};r?r(G.exports,"apply",{value:i}):G.exports.apply=i},32420:function(G){G.exports=H;function H(e,m,P){return m<P?e<m?m:e>P?P:e:e<P?P:e>m?m:e}},3808:function(G,H,e){var m=e(32420);G.exports=P,G.exports.to=P,G.exports.from=s;function P(L,S){S==null&&(S=!0);var v=L[0],p=L[1],r=L[2],t=L[3];t==null&&(t=S?1:255),S&&(v*=255,p*=255,r*=255,t*=255),v=m(v,0,255)&255,p=m(p,0,255)&255,r=m(r,0,255)&255,t=m(t,0,255)&255;var i=v*16777216+(p<<16)+(r<<8)+t;return i}function s(L,S){L=+L;var v=L>>>24,p=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return S===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(G,H,e){var m=e(96824),P=e(32420),s=e(72512);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=s(p),t=new r(4),i=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=m(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function L(S){return!!(S instanceof Uint8Array||S instanceof Uint8ClampedArray||Array.isArray(S)&&(S[0]>1||S[0]===0)&&(S[1]>1||S[1]===0)&&(S[2]>1||S[2]===0)&&(!S[3]||S[3]>1))}},96824:function(G,H,e){var m=e(95532),P=e(53576),s=e(32420);G.exports=function(S){var v,p=m(S);return p.space?(v=Array(3),v[0]=s(p.values[0],0,255),v[1]=s(p.values[1],0,255),v[2]=s(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(s(p.alpha,0,1)),v):[]}},95532:function(G,H,e){var m=e(17592);G.exports=s;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function s(L){var S,v=[],p=1,r;if(typeof L=="string")if(L=L.toLowerCase(),m[L])v=m[L].slice(),r="rgb";else if(L==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var t=L.slice(1),i=t.length,n=i<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(S=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var f=S[1],u=f==="rgb",t=f.replace(/a$/,"");r=t;var i=t==="cmyk"?4:t==="gray"?1:3;v=S[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,T){if(/%$/.test(h))return T===i?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[T]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),f===t&&v.push(1),p=u||v[i]===void 0?1:v[i],v=v.slice(0,i)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(v=L.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(v=[L[0],L[1],L[2]],r="rgb",p=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",v=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",v=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),p=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(p/=100)):(r="rgb",v=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:v,alpha:p}}},53576:function(G,H,e){var m=e(19336);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var s=P[0]/360,L=P[1]/100,S=P[2]/100,v,p,r,t,i;if(L===0)return i=S*255,[i,i,i];S<.5?p=S*(1+L):p=S+L-S*L,v=2*S-p,t=[0,0,0];for(var n=0;n<3;n++)r=s+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?i=v+(p-v)*6*r:2*r<1?i=p:3*r<2?i=v+(p-v)*(.6666666666666666-r)*6:i=v,t[n]=i*255;return t}},m.hsl=function(P){var s=P[0]/255,L=P[1]/255,S=P[2]/255,v=Math.min(s,L,S),p=Math.max(s,L,S),r=p-v,t,i,n;return p===v?t=0:s===p?t=(L-S)/r:L===p?t=2+(S-s)/r:S===p&&(t=4+(s-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?i=0:n<=.5?i=r/(p+v):i=r/(2-p-v),[t,i*100,n*100]}},19336:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(G,H,e){G.exports={parse:e(46416),stringify:e(49395)}},8744:function(G,H,e){var m=e(30584);G.exports={isSize:function(s){return/^[\d\.]/.test(s)||s.indexOf("/")!==-1||m.indexOf(s)!==-1}}},46416:function(G,H,e){var m=e(92384),P=e(68194),s=e(3748),L=e(2904),S=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;G.exports=i;var t=i.cache={};function i(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(s.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(f,/\s+/),g;g=l.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=g}),t[f]=u;if(S.indexOf(g)!==-1){u.style=g;continue}if(g==="normal"||g==="small-caps"){u.variant=g;continue}if(v.indexOf(g)!==-1){u.stretch=g;continue}if(L.indexOf(g)!==-1){u.weight=g;continue}if(r(g)){var h=p(g,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=p(l.join(" "),/\s*,\s*/).map(m),t[f]=u}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(G,H,e){var m=e(55616),P=e(8744).isSize,s=f(e(68194)),L=f(e(3748)),S=f(e(2904)),v=f(e(47916)),p=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(l){if(l=m(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,L),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,S),n(l.stretch,p),l.size==null&&(l.size=i.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=i.family),Array.isArray(l.family)&&(l.family.length||(l.family=[i.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var g=[];return g.push(l.style),l.variant!==l.style&&g.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&g.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&g.push(l.stretch),g.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),g.push(l.family),g.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!s[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},g=0;g<u.length;g++)l[u[g]]=1;return l}},27940:function(G,H,e){var m=e(81680),P=e(18496),s=e(87396),L=e(95920),S=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(n,f,u){var l=P(f)&&s(f.value),g;return g=L(f),delete g.writable,delete g.value,g.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(f.value=p.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,f),this[n])},g},G.exports=function(n){var f=S(arguments[1]);return m(f.resolveContext)&&s(f.resolveContext),v(n,function(u,l){return i(l,u,f)})}},21092:function(G,H,e){var m=e(81680),P=e(85488),s=e(38452),L=e(50868),S=e(71056),v=G.exports=function(p,r){var t,i,n,f,u;return arguments.length<2||typeof p!="string"?(f=r,r=p,p=null):f=arguments[2],m(p)?(t=S.call(p,"c"),i=S.call(p,"e"),n=S.call(p,"w")):(t=n=!0,i=!1),u={value:r,configurable:t,enumerable:i,writable:n},f?s(L(f),u):u};v.gs=function(p,r,t){var i,n,f,u;return typeof p!="string"?(f=t,t=r,r=p,p=null):f=arguments[3],m(r)?P(r)?m(t)?P(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,m(p)?(i=S.call(p,"c"),n=S.call(p,"e")):(i=!0,n=!1),u={get:r,set:t,configurable:i,enumerable:n},f?s(L(f),u):u}},84706:function(G,H,e){e.d(H,{XE:function(){return m},kv:function(){return L},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return i}});function m(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function P(n){return n.length===1&&(n=s(n)),{left:function(f,u,l,g){for(l==null&&(l=0),g==null&&(g=f.length);l<g;){var h=l+g>>>1;n(f[h],u)<0?l=h+1:g=h}return l},right:function(f,u,l,g){for(l==null&&(l=0),g==null&&(g=f.length);l<g;){var h=l+g>>>1;n(f[h],u)>0?g=h:l=h+1}return l}}}function s(n){return function(f,u){return m(n(f),u)}}P(m);function L(n,f){var u=n.length,l=-1,g,h;if(f==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(h=g;++l<u;)(g=n[l])!=null&&g>h&&(h=g)}else for(;++l<u;)if((g=f(n[l],l,n))!=null&&g>=g)for(h=g;++l<u;)(g=f(n[l],l,n))!=null&&g>h&&(h=g);return h}function S(n){return n===null?NaN:+n}function v(n,f){var u=n.length,l=u,g=-1,h,T=0;if(f==null)for(;++g<u;)isNaN(h=S(n[g]))?--l:T+=h;else for(;++g<u;)isNaN(h=S(f(n[g],g,n)))?--l:T+=h;if(l)return T/l}function p(n){for(var f=n.length,u,l=-1,g=0,h,T;++l<f;)g+=n[l].length;for(h=new Array(g);--f>=0;)for(T=n[f],u=T.length;--u>=0;)h[--g]=T[u];return h}function r(n,f){var u=n.length,l=-1,g,h;if(f==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(h=g;++l<u;)(g=n[l])!=null&&h>g&&(h=g)}else for(;++l<u;)if((g=f(n[l],l,n))!=null&&g>=g)for(h=g;++l<u;)(g=f(n[l],l,n))!=null&&h>g&&(h=g);return h}function t(n,f,u){n=+n,f=+f,u=(g=arguments.length)<2?(f=n,n=0,1):g<3?1:+u;for(var l=-1,g=Math.max(0,Math.ceil((f-n)/u))|0,h=new Array(g);++l<g;)h[l]=n+l*u;return h}function i(n,f){var u=n.length,l=-1,g,h=0;if(f==null)for(;++l<u;)(g=+n[l])&&(h+=g);else for(;++l<u;)(g=+f(n[l],l,n))&&(h+=g);return h}},34712:function(G,H,e){e.d(H,{kH:function(){return L},UJ:function(){return S}});var m="$";function P(){}P.prototype=s.prototype={constructor:P,has:function(f){return m+f in this},get:function(f){return this[m+f]},set:function(f,u){return this[m+f]=u,this},remove:function(f){var u=m+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===m&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===m&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===m&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===m&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===m&&++f;return f},empty:function(){for(var f in this)if(f[0]===m)return!1;return!0},each:function(f){for(var u in this)u[0]===m&&f(this[u],u.slice(1),this)}};function s(f,u){var l=new P;if(f instanceof P)f.each(function(a,d){l.set(d,a)});else if(Array.isArray(f)){var g=-1,h=f.length,T;if(u==null)for(;++g<h;)l.set(g,f[g]);else for(;++g<h;)l.set(u(T=f[g],g,f),T)}else if(f)for(var c in f)l.set(c,f[c]);return l}var L=s;function S(){var f=[],u=[],l,g,h;function T(a,d,x,w){if(d>=f.length)return l!=null&&a.sort(l),g!=null?g(a):a;for(var C=-1,y=a.length,M=f[d++],A,o,E=L(),b,I=x();++C<y;)(b=E.get(A=M(o=a[C])+""))?b.push(o):E.set(A,[o]);return E.each(function(D,N){w(I,N,T(D,d,x,w))}),I}function c(a,d){if(++d>f.length)return a;var x,w=u[d-1];return g!=null&&d>=f.length?x=a.entries():(x=[],a.each(function(C,y){x.push({key:y,values:c(C,d)})})),w!=null?x.sort(function(C,y){return w(C.key,y.key)}):x}return h={object:function(a){return T(a,0,v,p)},map:function(a){return T(a,0,r,t)},entries:function(a){return c(T(a,0,r,t),0)},key:function(a){return f.push(a),h},sortKeys:function(a){return u[f.length-1]=a,h},sortValues:function(a){return l=a,h},rollup:function(a){return g=a,h}}}function v(){return{}}function p(f,u,l){f[u]=l}function r(){return L()}function t(f,u,l){f.set(u,l)}function i(){}var n=L.prototype;i.prototype={constructor:i,has:n.has,add:function(f){return f+="",this[m+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(G,H,e){e.r(H),e.d(H,{forceCenter:function(){return m},forceCollide:function(){return E},forceLink:function(){return N},forceManyBody:function(){return Ve},forceRadial:function(){return et},forceSimulation:function(){return Me},forceX:function(){return it},forceY:function(){return Je}});function m(Qe,ct){var ht;Qe==null&&(Qe=0),ct==null&&(ct=0);function gt(){var Tt,Et=ht.length,rt,ze=0,He=0;for(Tt=0;Tt<Et;++Tt)rt=ht[Tt],ze+=rt.x,He+=rt.y;for(ze=ze/Et-Qe,He=He/Et-ct,Tt=0;Tt<Et;++Tt)rt=ht[Tt],rt.x-=ze,rt.y-=He}return gt.initialize=function(Tt){ht=Tt},gt.x=function(Tt){return arguments.length?(Qe=+Tt,gt):Qe},gt.y=function(Tt){return arguments.length?(ct=+Tt,gt):ct},gt}function P(Qe){return function(){return Qe}}function s(){return(Math.random()-.5)*1e-6}function L(Qe){var ct=+this._x.call(null,Qe),ht=+this._y.call(null,Qe);return S(this.cover(ct,ht),ct,ht,Qe)}function S(Qe,ct,ht,gt){if(isNaN(ct)||isNaN(ht))return Qe;var Tt,Et=Qe._root,rt={data:gt},ze=Qe._x0,He=Qe._y0,Ge=Qe._x1,We=Qe._y1,Le,Pe,je,Ce,he,me,Ne,$e;if(!Et)return Qe._root=rt,Qe;for(;Et.length;)if((he=ct>=(Le=(ze+Ge)/2))?ze=Le:Ge=Le,(me=ht>=(Pe=(He+We)/2))?He=Pe:We=Pe,Tt=Et,!(Et=Et[Ne=me<<1|he]))return Tt[Ne]=rt,Qe;if(je=+Qe._x.call(null,Et.data),Ce=+Qe._y.call(null,Et.data),ct===je&&ht===Ce)return rt.next=Et,Tt?Tt[Ne]=rt:Qe._root=rt,Qe;do Tt=Tt?Tt[Ne]=new Array(4):Qe._root=new Array(4),(he=ct>=(Le=(ze+Ge)/2))?ze=Le:Ge=Le,(me=ht>=(Pe=(He+We)/2))?He=Pe:We=Pe;while((Ne=me<<1|he)===($e=(Ce>=Pe)<<1|je>=Le));return Tt[$e]=Et,Tt[Ne]=rt,Qe}function v(Qe){var ct,ht,gt=Qe.length,Tt,Et,rt=new Array(gt),ze=new Array(gt),He=1/0,Ge=1/0,We=-1/0,Le=-1/0;for(ht=0;ht<gt;++ht)isNaN(Tt=+this._x.call(null,ct=Qe[ht]))||isNaN(Et=+this._y.call(null,ct))||(rt[ht]=Tt,ze[ht]=Et,Tt<He&&(He=Tt),Tt>We&&(We=Tt),Et<Ge&&(Ge=Et),Et>Le&&(Le=Et));if(He>We||Ge>Le)return this;for(this.cover(He,Ge).cover(We,Le),ht=0;ht<gt;++ht)S(this,rt[ht],ze[ht],Qe[ht]);return this}function p(Qe,ct){if(isNaN(Qe=+Qe)||isNaN(ct=+ct))return this;var ht=this._x0,gt=this._y0,Tt=this._x1,Et=this._y1;if(isNaN(ht))Tt=(ht=Math.floor(Qe))+1,Et=(gt=Math.floor(ct))+1;else{for(var rt=Tt-ht,ze=this._root,He,Ge;ht>Qe||Qe>=Tt||gt>ct||ct>=Et;)switch(Ge=(ct<gt)<<1|Qe<ht,He=new Array(4),He[Ge]=ze,ze=He,rt*=2,Ge){case 0:Tt=ht+rt,Et=gt+rt;break;case 1:ht=Tt-rt,Et=gt+rt;break;case 2:Tt=ht+rt,gt=Et-rt;break;case 3:ht=Tt-rt,gt=Et-rt;break}this._root&&this._root.length&&(this._root=ze)}return this._x0=ht,this._y0=gt,this._x1=Tt,this._y1=Et,this}function r(){var Qe=[];return this.visit(function(ct){if(!ct.length)do Qe.push(ct.data);while(ct=ct.next)}),Qe}function t(Qe){return arguments.length?this.cover(+Qe[0][0],+Qe[0][1]).cover(+Qe[1][0],+Qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(Qe,ct,ht,gt,Tt){this.node=Qe,this.x0=ct,this.y0=ht,this.x1=gt,this.y1=Tt}function n(Qe,ct,ht){var gt,Tt=this._x0,Et=this._y0,rt,ze,He,Ge,We=this._x1,Le=this._y1,Pe=[],je=this._root,Ce,he;for(je&&Pe.push(new i(je,Tt,Et,We,Le)),ht==null?ht=1/0:(Tt=Qe-ht,Et=ct-ht,We=Qe+ht,Le=ct+ht,ht*=ht);Ce=Pe.pop();)if(!(!(je=Ce.node)||(rt=Ce.x0)>We||(ze=Ce.y0)>Le||(He=Ce.x1)<Tt||(Ge=Ce.y1)<Et))if(je.length){var me=(rt+He)/2,Ne=(ze+Ge)/2;Pe.push(new i(je[3],me,Ne,He,Ge),new i(je[2],rt,Ne,me,Ge),new i(je[1],me,ze,He,Ne),new i(je[0],rt,ze,me,Ne)),(he=(ct>=Ne)<<1|Qe>=me)&&(Ce=Pe[Pe.length-1],Pe[Pe.length-1]=Pe[Pe.length-1-he],Pe[Pe.length-1-he]=Ce)}else{var $e=Qe-+this._x.call(null,je.data),ot=ct-+this._y.call(null,je.data),st=$e*$e+ot*ot;if(st<ht){var Wt=Math.sqrt(ht=st);Tt=Qe-Wt,Et=ct-Wt,We=Qe+Wt,Le=ct+Wt,gt=je.data}}return gt}function f(Qe){if(isNaN(We=+this._x.call(null,Qe))||isNaN(Le=+this._y.call(null,Qe)))return this;var ct,ht=this._root,gt,Tt,Et,rt=this._x0,ze=this._y0,He=this._x1,Ge=this._y1,We,Le,Pe,je,Ce,he,me,Ne;if(!ht)return this;if(ht.length)for(;;){if((Ce=We>=(Pe=(rt+He)/2))?rt=Pe:He=Pe,(he=Le>=(je=(ze+Ge)/2))?ze=je:Ge=je,ct=ht,!(ht=ht[me=he<<1|Ce]))return this;if(!ht.length)break;(ct[me+1&3]||ct[me+2&3]||ct[me+3&3])&&(gt=ct,Ne=me)}for(;ht.data!==Qe;)if(Tt=ht,!(ht=ht.next))return this;return(Et=ht.next)&&delete ht.next,Tt?(Et?Tt.next=Et:delete Tt.next,this):ct?(Et?ct[me]=Et:delete ct[me],(ht=ct[0]||ct[1]||ct[2]||ct[3])&&ht===(ct[3]||ct[2]||ct[1]||ct[0])&&!ht.length&&(gt?gt[Ne]=ht:this._root=ht),this):(this._root=Et,this)}function u(Qe){for(var ct=0,ht=Qe.length;ct<ht;++ct)this.remove(Qe[ct]);return this}function l(){return this._root}function g(){var Qe=0;return this.visit(function(ct){if(!ct.length)do++Qe;while(ct=ct.next)}),Qe}function h(Qe){var ct=[],ht,gt=this._root,Tt,Et,rt,ze,He;for(gt&&ct.push(new i(gt,this._x0,this._y0,this._x1,this._y1));ht=ct.pop();)if(!Qe(gt=ht.node,Et=ht.x0,rt=ht.y0,ze=ht.x1,He=ht.y1)&&gt.length){var Ge=(Et+ze)/2,We=(rt+He)/2;(Tt=gt[3])&&ct.push(new i(Tt,Ge,We,ze,He)),(Tt=gt[2])&&ct.push(new i(Tt,Et,We,Ge,He)),(Tt=gt[1])&&ct.push(new i(Tt,Ge,rt,ze,We)),(Tt=gt[0])&&ct.push(new i(Tt,Et,rt,Ge,We))}return this}function T(Qe){var ct=[],ht=[],gt;for(this._root&&ct.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));gt=ct.pop();){var Tt=gt.node;if(Tt.length){var Et,rt=gt.x0,ze=gt.y0,He=gt.x1,Ge=gt.y1,We=(rt+He)/2,Le=(ze+Ge)/2;(Et=Tt[0])&&ct.push(new i(Et,rt,ze,We,Le)),(Et=Tt[1])&&ct.push(new i(Et,We,ze,He,Le)),(Et=Tt[2])&&ct.push(new i(Et,rt,Le,We,Ge)),(Et=Tt[3])&&ct.push(new i(Et,We,Le,He,Ge))}ht.push(gt)}for(;gt=ht.pop();)Qe(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function c(Qe){return Qe[0]}function a(Qe){return arguments.length?(this._x=Qe,this):this._x}function d(Qe){return Qe[1]}function x(Qe){return arguments.length?(this._y=Qe,this):this._y}function w(Qe,ct,ht){var gt=new C(ct??c,ht??d,NaN,NaN,NaN,NaN);return Qe==null?gt:gt.addAll(Qe)}function C(Qe,ct,ht,gt,Tt,Et){this._x=Qe,this._y=ct,this._x0=ht,this._y0=gt,this._x1=Tt,this._y1=Et,this._root=void 0}function y(Qe){for(var ct={data:Qe.data},ht=ct;Qe=Qe.next;)ht=ht.next={data:Qe.data};return ct}var M=w.prototype=C.prototype;M.copy=function(){var Qe=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,ht,gt;if(!ct)return Qe;if(!ct.length)return Qe._root=y(ct),Qe;for(ht=[{source:ct,target:Qe._root=new Array(4)}];ct=ht.pop();)for(var Tt=0;Tt<4;++Tt)(gt=ct.source[Tt])&&(gt.length?ht.push({source:gt,target:ct.target[Tt]=new Array(4)}):ct.target[Tt]=y(gt));return Qe},M.add=L,M.addAll=v,M.cover=p,M.data=r,M.extent=t,M.find=n,M.remove=f,M.removeAll=u,M.root=l,M.size=g,M.visit=h,M.visitAfter=T,M.x=a,M.y=x;function A(Qe){return Qe.x+Qe.vx}function o(Qe){return Qe.y+Qe.vy}function E(Qe){var ct,ht,gt=1,Tt=1;typeof Qe!="function"&&(Qe=P(Qe==null?1:+Qe));function Et(){for(var He,Ge=ct.length,We,Le,Pe,je,Ce,he,me=0;me<Tt;++me)for(We=w(ct,A,o).visitAfter(rt),He=0;He<Ge;++He)Le=ct[He],Ce=ht[Le.index],he=Ce*Ce,Pe=Le.x+Le.vx,je=Le.y+Le.vy,We.visit(Ne);function Ne($e,ot,st,Wt,Pt){var dt=$e.data,Mt=$e.r,Xt=Ce+Mt;if(dt){if(dt.index>Le.index){var nr=Pe-dt.x-dt.vx,vt=je-dt.y-dt.vy,Zt=nr*nr+vt*vt;Zt<Xt*Xt&&(nr===0&&(nr=s(),Zt+=nr*nr),vt===0&&(vt=s(),Zt+=vt*vt),Zt=(Xt-(Zt=Math.sqrt(Zt)))/Zt*gt,Le.vx+=(nr*=Zt)*(Xt=(Mt*=Mt)/(he+Mt)),Le.vy+=(vt*=Zt)*Xt,dt.vx-=nr*(Xt=1-Xt),dt.vy-=vt*Xt)}return}return ot>Pe+Xt||Wt<Pe-Xt||st>je+Xt||Pt<je-Xt}}function rt(He){if(He.data)return He.r=ht[He.data.index];for(var Ge=He.r=0;Ge<4;++Ge)He[Ge]&&He[Ge].r>He.r&&(He.r=He[Ge].r)}function ze(){if(ct){var He,Ge=ct.length,We;for(ht=new Array(Ge),He=0;He<Ge;++He)We=ct[He],ht[We.index]=+Qe(We,He,ct)}}return Et.initialize=function(He){ct=He,ze()},Et.iterations=function(He){return arguments.length?(Tt=+He,Et):Tt},Et.strength=function(He){return arguments.length?(gt=+He,Et):gt},Et.radius=function(He){return arguments.length?(Qe=typeof He=="function"?He:P(+He),ze(),Et):Qe},Et}var b=e(34712);function I(Qe){return Qe.index}function D(Qe,ct){var ht=Qe.get(ct);if(!ht)throw new Error("missing: "+ct);return ht}function N(Qe){var ct=I,ht=We,gt,Tt=P(30),Et,rt,ze,He,Ge=1;Qe==null&&(Qe=[]);function We(he){return 1/Math.min(ze[he.source.index],ze[he.target.index])}function Le(he){for(var me=0,Ne=Qe.length;me<Ge;++me)for(var $e=0,ot,st,Wt,Pt,dt,Mt,Xt;$e<Ne;++$e)ot=Qe[$e],st=ot.source,Wt=ot.target,Pt=Wt.x+Wt.vx-st.x-st.vx||s(),dt=Wt.y+Wt.vy-st.y-st.vy||s(),Mt=Math.sqrt(Pt*Pt+dt*dt),Mt=(Mt-Et[$e])/Mt*he*gt[$e],Pt*=Mt,dt*=Mt,Wt.vx-=Pt*(Xt=He[$e]),Wt.vy-=dt*Xt,st.vx+=Pt*(Xt=1-Xt),st.vy+=dt*Xt}function Pe(){if(rt){var he,me=rt.length,Ne=Qe.length,$e=(0,b.kH)(rt,ct),ot;for(he=0,ze=new Array(me);he<Ne;++he)ot=Qe[he],ot.index=he,typeof ot.source!="object"&&(ot.source=D($e,ot.source)),typeof ot.target!="object"&&(ot.target=D($e,ot.target)),ze[ot.source.index]=(ze[ot.source.index]||0)+1,ze[ot.target.index]=(ze[ot.target.index]||0)+1;for(he=0,He=new Array(Ne);he<Ne;++he)ot=Qe[he],He[he]=ze[ot.source.index]/(ze[ot.source.index]+ze[ot.target.index]);gt=new Array(Ne),je(),Et=new Array(Ne),Ce()}}function je(){if(rt)for(var he=0,me=Qe.length;he<me;++he)gt[he]=+ht(Qe[he],he,Qe)}function Ce(){if(rt)for(var he=0,me=Qe.length;he<me;++he)Et[he]=+Tt(Qe[he],he,Qe)}return Le.initialize=function(he){rt=he,Pe()},Le.links=function(he){return arguments.length?(Qe=he,Pe(),Le):Qe},Le.id=function(he){return arguments.length?(ct=he,Le):ct},Le.iterations=function(he){return arguments.length?(Ge=+he,Le):Ge},Le.strength=function(he){return arguments.length?(ht=typeof he=="function"?he:P(+he),je(),Le):ht},Le.distance=function(he){return arguments.length?(Tt=typeof he=="function"?he:P(+he),Ce(),Le):Tt},Le}var k={value:function(){}};function O(){for(var Qe=0,ct=arguments.length,ht={},gt;Qe<ct;++Qe){if(!(gt=arguments[Qe]+"")||gt in ht||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);ht[gt]=[]}return new F(ht)}function F(Qe){this._=Qe}function z(Qe,ct){return Qe.trim().split(/^|\s+/).map(function(ht){var gt="",Tt=ht.indexOf(".");if(Tt>=0&&(gt=ht.slice(Tt+1),ht=ht.slice(0,Tt)),ht&&!ct.hasOwnProperty(ht))throw new Error("unknown type: "+ht);return{type:ht,name:gt}})}F.prototype=O.prototype={constructor:F,on:function(Qe,ct){var ht=this._,gt=z(Qe+"",ht),Tt,Et=-1,rt=gt.length;if(arguments.length<2){for(;++Et<rt;)if((Tt=(Qe=gt[Et]).type)&&(Tt=B(ht[Tt],Qe.name)))return Tt;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Et<rt;)if(Tt=(Qe=gt[Et]).type)ht[Tt]=W(ht[Tt],Qe.name,ct);else if(ct==null)for(Tt in ht)ht[Tt]=W(ht[Tt],Qe.name,null);return this},copy:function(){var Qe={},ct=this._;for(var ht in ct)Qe[ht]=ct[ht].slice();return new F(Qe)},call:function(Qe,ct){if((Tt=arguments.length-2)>0)for(var ht=new Array(Tt),gt=0,Tt,Et;gt<Tt;++gt)ht[gt]=arguments[gt+2];if(!this._.hasOwnProperty(Qe))throw new Error("unknown type: "+Qe);for(Et=this._[Qe],gt=0,Tt=Et.length;gt<Tt;++gt)Et[gt].value.apply(ct,ht)},apply:function(Qe,ct,ht){if(!this._.hasOwnProperty(Qe))throw new Error("unknown type: "+Qe);for(var gt=this._[Qe],Tt=0,Et=gt.length;Tt<Et;++Tt)gt[Tt].value.apply(ct,ht)}};function B(Qe,ct){for(var ht=0,gt=Qe.length,Tt;ht<gt;++ht)if((Tt=Qe[ht]).name===ct)return Tt.value}function W(Qe,ct,ht){for(var gt=0,Tt=Qe.length;gt<Tt;++gt)if(Qe[gt].name===ct){Qe[gt]=k,Qe=Qe.slice(0,gt).concat(Qe.slice(gt+1));break}return ht!=null&&Qe.push({name:ct,value:ht}),Qe}var J=O,re=0,ne=0,le=0,$=1e3,K,ie,Y=0,Q=0,oe=0,X=typeof performance=="object"&&performance.now?performance:Date,j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qe){setTimeout(Qe,17)};function se(){return Q||(j(te),Q=X.now()+oe)}function te(){Q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=ge.prototype={constructor:fe,restart:function(Qe,ct,ht){if(typeof Qe!="function")throw new TypeError("callback is not a function");ht=(ht==null?se():+ht)+(ct==null?0:+ct),!this._next&&ie!==this&&(ie?ie._next=this:K=this,ie=this),this._call=Qe,this._time=ht,Fe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fe())}};function ge(Qe,ct,ht){var gt=new fe;return gt.restart(Qe,ct,ht),gt}function be(){se(),++re;for(var Qe=K,ct;Qe;)(ct=Q-Qe._time)>=0&&Qe._call.call(null,ct),Qe=Qe._next;--re}function xe(){Q=(Y=X.now())+oe,re=ne=0;try{be()}finally{re=0,De(),Q=0}}function _e(){var Qe=X.now(),ct=Qe-Y;ct>$&&(oe-=ct,Y=Qe)}function De(){for(var Qe,ct=K,ht,gt=1/0;ct;)ct._call?(gt>ct._time&&(gt=ct._time),Qe=ct,ct=ct._next):(ht=ct._next,ct._next=null,ct=Qe?Qe._next=ht:K=ht);ie=Qe,Fe(gt)}function Fe(Qe){if(!re){ne&&(ne=clearTimeout(ne));var ct=Qe-Q;ct>24?(Qe<1/0&&(ne=setTimeout(xe,Qe-X.now()-oe)),le&&(le=clearInterval(le))):(le||(Y=X.now(),le=setInterval(_e,$)),re=1,j(xe))}}function Te(Qe){return Qe.x}function Re(Qe){return Qe.y}var Se=10,Ie=Math.PI*(3-Math.sqrt(5));function Me(Qe){var ct,ht=1,gt=.001,Tt=1-Math.pow(gt,1/300),Et=0,rt=.6,ze=(0,b.kH)(),He=ge(We),Ge=J("tick","end");Qe==null&&(Qe=[]);function We(){Le(),Ge.call("tick",ct),ht<gt&&(He.stop(),Ge.call("end",ct))}function Le(Ce){var he,me=Qe.length,Ne;Ce===void 0&&(Ce=1);for(var $e=0;$e<Ce;++$e)for(ht+=(Et-ht)*Tt,ze.each(function(ot){ot(ht)}),he=0;he<me;++he)Ne=Qe[he],Ne.fx==null?Ne.x+=Ne.vx*=rt:(Ne.x=Ne.fx,Ne.vx=0),Ne.fy==null?Ne.y+=Ne.vy*=rt:(Ne.y=Ne.fy,Ne.vy=0);return ct}function Pe(){for(var Ce=0,he=Qe.length,me;Ce<he;++Ce){if(me=Qe[Ce],me.index=Ce,me.fx!=null&&(me.x=me.fx),me.fy!=null&&(me.y=me.fy),isNaN(me.x)||isNaN(me.y)){var Ne=Se*Math.sqrt(Ce),$e=Ce*Ie;me.x=Ne*Math.cos($e),me.y=Ne*Math.sin($e)}(isNaN(me.vx)||isNaN(me.vy))&&(me.vx=me.vy=0)}}function je(Ce){return Ce.initialize&&Ce.initialize(Qe),Ce}return Pe(),ct={tick:Le,restart:function(){return He.restart(We),ct},stop:function(){return He.stop(),ct},nodes:function(Ce){return arguments.length?(Qe=Ce,Pe(),ze.each(je),ct):Qe},alpha:function(Ce){return arguments.length?(ht=+Ce,ct):ht},alphaMin:function(Ce){return arguments.length?(gt=+Ce,ct):gt},alphaDecay:function(Ce){return arguments.length?(Tt=+Ce,ct):+Tt},alphaTarget:function(Ce){return arguments.length?(Et=+Ce,ct):Et},velocityDecay:function(Ce){return arguments.length?(rt=1-Ce,ct):1-rt},force:function(Ce,he){return arguments.length>1?(he==null?ze.remove(Ce):ze.set(Ce,je(he)),ct):ze.get(Ce)},find:function(Ce,he,me){var Ne=0,$e=Qe.length,ot,st,Wt,Pt,dt;for(me==null?me=1/0:me*=me,Ne=0;Ne<$e;++Ne)Pt=Qe[Ne],ot=Ce-Pt.x,st=he-Pt.y,Wt=ot*ot+st*st,Wt<me&&(dt=Pt,me=Wt);return dt},on:function(Ce,he){return arguments.length>1?(Ge.on(Ce,he),ct):Ge.on(Ce)}}}function Ve(){var Qe,ct,ht,gt=P(-30),Tt,Et=1,rt=1/0,ze=.81;function He(Pe){var je,Ce=Qe.length,he=w(Qe,Te,Re).visitAfter(We);for(ht=Pe,je=0;je<Ce;++je)ct=Qe[je],he.visit(Le)}function Ge(){if(Qe){var Pe,je=Qe.length,Ce;for(Tt=new Array(je),Pe=0;Pe<je;++Pe)Ce=Qe[Pe],Tt[Ce.index]=+gt(Ce,Pe,Qe)}}function We(Pe){var je=0,Ce,he,me=0,Ne,$e,ot;if(Pe.length){for(Ne=$e=ot=0;ot<4;++ot)(Ce=Pe[ot])&&(he=Math.abs(Ce.value))&&(je+=Ce.value,me+=he,Ne+=he*Ce.x,$e+=he*Ce.y);Pe.x=Ne/me,Pe.y=$e/me}else{Ce=Pe,Ce.x=Ce.data.x,Ce.y=Ce.data.y;do je+=Tt[Ce.data.index];while(Ce=Ce.next)}Pe.value=je}function Le(Pe,je,Ce,he){if(!Pe.value)return!0;var me=Pe.x-ct.x,Ne=Pe.y-ct.y,$e=he-je,ot=me*me+Ne*Ne;if($e*$e/ze<ot)return ot<rt&&(me===0&&(me=s(),ot+=me*me),Ne===0&&(Ne=s(),ot+=Ne*Ne),ot<Et&&(ot=Math.sqrt(Et*ot)),ct.vx+=me*Pe.value*ht/ot,ct.vy+=Ne*Pe.value*ht/ot),!0;if(Pe.length||ot>=rt)return;(Pe.data!==ct||Pe.next)&&(me===0&&(me=s(),ot+=me*me),Ne===0&&(Ne=s(),ot+=Ne*Ne),ot<Et&&(ot=Math.sqrt(Et*ot)));do Pe.data!==ct&&($e=Tt[Pe.data.index]*ht/ot,ct.vx+=me*$e,ct.vy+=Ne*$e);while(Pe=Pe.next)}return He.initialize=function(Pe){Qe=Pe,Ge()},He.strength=function(Pe){return arguments.length?(gt=typeof Pe=="function"?Pe:P(+Pe),Ge(),He):gt},He.distanceMin=function(Pe){return arguments.length?(Et=Pe*Pe,He):Math.sqrt(Et)},He.distanceMax=function(Pe){return arguments.length?(rt=Pe*Pe,He):Math.sqrt(rt)},He.theta=function(Pe){return arguments.length?(ze=Pe*Pe,He):Math.sqrt(ze)},He}function et(Qe,ct,ht){var gt,Tt=P(.1),Et,rt;typeof Qe!="function"&&(Qe=P(+Qe)),ct==null&&(ct=0),ht==null&&(ht=0);function ze(Ge){for(var We=0,Le=gt.length;We<Le;++We){var Pe=gt[We],je=Pe.x-ct||1e-6,Ce=Pe.y-ht||1e-6,he=Math.sqrt(je*je+Ce*Ce),me=(rt[We]-he)*Et[We]*Ge/he;Pe.vx+=je*me,Pe.vy+=Ce*me}}function He(){if(gt){var Ge,We=gt.length;for(Et=new Array(We),rt=new Array(We),Ge=0;Ge<We;++Ge)rt[Ge]=+Qe(gt[Ge],Ge,gt),Et[Ge]=isNaN(rt[Ge])?0:+Tt(gt[Ge],Ge,gt)}}return ze.initialize=function(Ge){gt=Ge,He()},ze.strength=function(Ge){return arguments.length?(Tt=typeof Ge=="function"?Ge:P(+Ge),He(),ze):Tt},ze.radius=function(Ge){return arguments.length?(Qe=typeof Ge=="function"?Ge:P(+Ge),He(),ze):Qe},ze.x=function(Ge){return arguments.length?(ct=+Ge,ze):ct},ze.y=function(Ge){return arguments.length?(ht=+Ge,ze):ht},ze}function it(Qe){var ct=P(.1),ht,gt,Tt;typeof Qe!="function"&&(Qe=P(Qe==null?0:+Qe));function Et(ze){for(var He=0,Ge=ht.length,We;He<Ge;++He)We=ht[He],We.vx+=(Tt[He]-We.x)*gt[He]*ze}function rt(){if(ht){var ze,He=ht.length;for(gt=new Array(He),Tt=new Array(He),ze=0;ze<He;++ze)gt[ze]=isNaN(Tt[ze]=+Qe(ht[ze],ze,ht))?0:+ct(ht[ze],ze,ht)}}return Et.initialize=function(ze){ht=ze,rt()},Et.strength=function(ze){return arguments.length?(ct=typeof ze=="function"?ze:P(+ze),rt(),Et):ct},Et.x=function(ze){return arguments.length?(Qe=typeof ze=="function"?ze:P(+ze),rt(),Et):Qe},Et}function Je(Qe){var ct=P(.1),ht,gt,Tt;typeof Qe!="function"&&(Qe=P(Qe==null?0:+Qe));function Et(ze){for(var He=0,Ge=ht.length,We;He<Ge;++He)We=ht[He],We.vy+=(Tt[He]-We.y)*gt[He]*ze}function rt(){if(ht){var ze,He=ht.length;for(gt=new Array(He),Tt=new Array(He),ze=0;ze<He;++ze)gt[ze]=isNaN(Tt[ze]=+Qe(ht[ze],ze,ht))?0:+ct(ht[ze],ze,ht)}}return Et.initialize=function(ze){ht=ze,rt()},Et.strength=function(ze){return arguments.length?(ct=typeof ze=="function"?ze:P(+ze),rt(),Et):ct},Et.y=function(ze){return arguments.length?(Qe=typeof ze=="function"?ze:P(+ze),rt(),Et):Qe},Et}},57624:function(G,H,e){e.d(H,{E9:function(){return a},SO:function(){return T}});function m(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function P(x,w){if((C=(x=w?x.toExponential(w-1):x.toExponential()).indexOf("e"))<0)return null;var C,y=x.slice(0,C);return[y.length>1?y[0]+y.slice(2):y,+x.slice(C+1)]}function s(x){return x=P(Math.abs(x)),x?x[1]:NaN}function L(x,w){return function(C,y){for(var M=C.length,A=[],o=0,E=x[0],b=0;M>0&&E>0&&(b+E+1>y&&(E=Math.max(1,y-b)),A.push(C.substring(M-=E,M+E)),!((b+=E+1)>y));)E=x[o=(o+1)%x.length];return A.reverse().join(w)}}function S(x){return function(w){return w.replace(/[0-9]/g,function(C){return x[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(x){if(!(w=v.exec(x)))throw new Error("invalid format: "+x);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var w=x.length,C=1,y=-1,M;C<w;++C)switch(x[C]){case".":y=M=C;break;case"0":y===0&&(y=C),M=C;break;default:if(!+x[C])break e;y>0&&(y=0);break}return y>0?x.slice(0,y)+x.slice(M+1):x}var i;function n(x,w){var C=P(x,w);if(!C)return x+"";var y=C[0],M=C[1],A=M-(i=Math.max(-8,Math.min(8,Math.floor(M/3)))*3)+1,o=y.length;return A===o?y:A>o?y+new Array(A-o+1).join("0"):A>0?y.slice(0,A)+"."+y.slice(A):"0."+new Array(1-A).join("0")+P(x,Math.max(0,w+A-1))[0]}function f(x,w){var C=P(x,w);if(!C)return x+"";var y=C[0],M=C[1];return M<0?"0."+new Array(-M).join("0")+y:y.length>M+1?y.slice(0,M+1)+"."+y.slice(M+1):y+new Array(M-y.length+2).join("0")}var u={"%":function(x,w){return(x*100).toFixed(w)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:m,e:function(x,w){return x.toExponential(w)},f:function(x,w){return x.toFixed(w)},g:function(x,w){return x.toPrecision(w)},o:function(x){return Math.round(x).toString(8)},p:function(x,w){return f(x*100,w)},r:f,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function l(x){return x}var g=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T(x){var w=x.grouping===void 0||x.thousands===void 0?l:L(g.call(x.grouping,Number),x.thousands+""),C=x.currency===void 0?"":x.currency[0]+"",y=x.currency===void 0?"":x.currency[1]+"",M=x.decimal===void 0?".":x.decimal+"",A=x.numerals===void 0?l:S(g.call(x.numerals,String)),o=x.percent===void 0?"%":x.percent+"",E=x.minus===void 0?"-":x.minus+"",b=x.nan===void 0?"NaN":x.nan+"";function I(N){N=p(N);var k=N.fill,O=N.align,F=N.sign,z=N.symbol,B=N.zero,W=N.width,J=N.comma,re=N.precision,ne=N.trim,le=N.type;le==="n"?(J=!0,le="g"):u[le]||(re===void 0&&(re=12),ne=!0,le="g"),(B||k==="0"&&O==="=")&&(B=!0,k="0",O="=");var $=z==="$"?C:z==="#"&&/[boxX]/.test(le)?"0"+le.toLowerCase():"",K=z==="$"?y:/[%p]/.test(le)?o:"",ie=u[le],Y=/[defgprs%]/.test(le);re=re===void 0?6:/[gprs]/.test(le)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function Q(oe){var X=$,j=K,se,te,fe;if(le==="c")j=ie(oe)+j,oe="";else{oe=+oe;var ge=oe<0||1/oe<0;if(oe=isNaN(oe)?b:ie(Math.abs(oe),re),ne&&(oe=t(oe)),ge&&+oe==0&&F!=="+"&&(ge=!1),X=(ge?F==="("?F:E:F==="-"||F==="("?"":F)+X,j=(le==="s"?h[8+i/3]:"")+j+(ge&&F==="("?")":""),Y){for(se=-1,te=oe.length;++se<te;)if(fe=oe.charCodeAt(se),48>fe||fe>57){j=(fe===46?M+oe.slice(se+1):oe.slice(se))+j,oe=oe.slice(0,se);break}}}J&&!B&&(oe=w(oe,1/0));var be=X.length+oe.length+j.length,xe=be<W?new Array(W-be+1).join(k):"";switch(J&&B&&(oe=w(xe+oe,xe.length?W-j.length:1/0),xe=""),O){case"<":oe=X+oe+j+xe;break;case"=":oe=X+xe+oe+j;break;case"^":oe=xe.slice(0,be=xe.length>>1)+X+oe+j+xe.slice(be);break;default:oe=xe+X+oe+j;break}return A(oe)}return Q.toString=function(){return N+""},Q}function D(N,k){var O=I((N=p(N),N.type="f",N)),F=Math.max(-8,Math.min(8,Math.floor(s(k)/3)))*3,z=Math.pow(10,-F),B=h[8+F/3];return function(W){return O(z*W)+B}}return{format:I,formatPrefix:D}}var c,a;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(x){return c=T(x),a=c.format,c.formatPrefix,c}},87108:function(G,H,e){e.r(H),e.d(H,{geoAiry:function(){return B},geoAiryRaw:function(){return z},geoAitoff:function(){return J},geoAitoffRaw:function(){return W},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return re},geoAugust:function(){return $},geoAugustRaw:function(){return le},geoBaker:function(){return Q},geoBakerRaw:function(){return Y},geoBerghaus:function(){return j},geoBerghausRaw:function(){return X},geoBertin1953:function(){return De},geoBertin1953Raw:function(){return _e},geoBoggs:function(){return et},geoBoggsRaw:function(){return Ve},geoBonne:function(){return ht},geoBonneRaw:function(){return ct},geoBottomley:function(){return Tt},geoBottomleyRaw:function(){return gt},geoBromley:function(){return rt},geoBromleyRaw:function(){return Et},geoChamberlin:function(){return he},geoChamberlinAfrica:function(){return Ce},geoChamberlinRaw:function(){return Pe},geoCollignon:function(){return Ne},geoCollignonRaw:function(){return me},geoCraig:function(){return ot},geoCraigRaw:function(){return $e},geoCraster:function(){return Pt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return Mt},geoCylindricalEqualAreaRaw:function(){return dt},geoCylindricalStereographic:function(){return nr},geoCylindricalStereographicRaw:function(){return Xt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return vt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Kt},geoEckert3:function(){return mt},geoEckert3Raw:function(){return or},geoEckert4:function(){return bt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Ct},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Ht},geoEisenlohr:function(){return cr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return Ye},geoFaheyRaw:function(){return pr},geoFoucaut:function(){return Ot},geoFoucautRaw:function(){return Ue},geoFoucautSinusoidal:function(){return Qt},geoFoucautSinusoidalRaw:function(){return It},geoGilbert:function(){return ir},geoGingery:function(){return Hr},geoGingeryRaw:function(){return vr},geoGinzburg4:function(){return an},geoGinzburg4Raw:function(){return Rr},geoGinzburg5:function(){return Sn},geoGinzburg5Raw:function(){return tn},geoGinzburg6:function(){return Tr},geoGinzburg6Raw:function(){return Tn},geoGinzburg8:function(){return Yr},geoGinzburg8Raw:function(){return zr},geoGinzburg9:function(){return ln},geoGinzburg9Raw:function(){return Or},geoGringorten:function(){return ia},geoGringortenQuincuncial:function(){return oh},geoGringortenRaw:function(){return Mn},geoGuyou:function(){return vn},geoGuyouRaw:function(){return mr},geoHammer:function(){return ge},geoHammerRaw:function(){return te},geoHammerRetroazimuthal:function(){return Fn},geoHammerRetroazimuthalRaw:function(){return bn},geoHealpix:function(){return un},geoHealpixRaw:function(){return Ar},geoHill:function(){return Zr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return En},geoHufnagel:function(){return va},geoHufnagelRaw:function(){return Nn},geoHyperelliptical:function(){return gi},geoHyperellipticalRaw:function(){return _a},geoInterrupt:function(){return to},geoInterruptedBoggs:function(){return af},geoInterruptedHomolosine:function(){return ti},geoInterruptedMollweide:function(){return of},geoInterruptedMollweideHemispheres:function(){return bo},geoInterruptedQuarticAuthalic:function(){return Us},geoInterruptedSinuMollweide:function(){return Iu},geoInterruptedSinusoidal:function(){return El},geoKavrayskiy7:function(){return Hi},geoKavrayskiy7Raw:function(){return Oi},geoLagrange:function(){return ro},geoLagrangeRaw:function(){return Cl},geoLarrivee:function(){return Hf},geoLarriveeRaw:function(){return zo},geoLaskowski:function(){return jc},geoLaskowskiRaw:function(){return Lo},geoLittrow:function(){return Ji},geoLittrowRaw:function(){return cs},geoLoximuthal:function(){return Bs},geoLoximuthalRaw:function(){return sf},geoMiller:function(){return lf},geoMillerRaw:function(){return hs},geoModifiedStereographic:function(){return al},geoModifiedStereographicAlaska:function(){return uf},geoModifiedStereographicGs48:function(){return Qc},geoModifiedStereographicGs50:function(){return $c},geoModifiedStereographicLee:function(){return Yf},geoModifiedStereographicMiller:function(){return Wf},geoModifiedStereographicRaw:function(){return Gf},geoMollweide:function(){return Se},geoMollweideRaw:function(){return Re},geoMtFlatPolarParabolic:function(){return jf},geoMtFlatPolarParabolicRaw:function(){return ru},geoMtFlatPolarQuartic:function(){return qc},geoMtFlatPolarQuarticRaw:function(){return Ms},geoMtFlatPolarSinusoidal:function(){return Xf},geoMtFlatPolarSinusoidalRaw:function(){return zu},geoNaturalEarth:function(){return Zf.c},geoNaturalEarth2:function(){return Zo},geoNaturalEarth2Raw:function(){return Ou},geoNaturalEarthRaw:function(){return Zf.g},geoNellHammer:function(){return il},geoNellHammerRaw:function(){return Pl},geoNicolosi:function(){return ff},geoNicolosiRaw:function(){return vs},geoPatterson:function(){return Il},geoPattersonRaw:function(){return Nu},geoPeirceQuincuncial:function(){return ec},geoPierceQuincuncial:function(){return ec},geoPolyconic:function(){return th},geoPolyconicRaw:function(){return Bu},geoPolyhedral:function(){return yi},geoPolyhedralButterfly:function(){return iu},geoPolyhedralCollignon:function(){return sl},geoPolyhedralWaterman:function(){return Hs},geoProject:function(){return ah},geoQuantize:function(){return tc},geoQuincuncial:function(){return Ls},geoRectangularPolyconic:function(){return rc},geoRectangularPolyconicRaw:function(){return yf},geoRobinson:function(){return Gs},geoRobinsonRaw:function(){return es},geoSatellite:function(){return ll},geoSatelliteRaw:function(){return Gu},geoSinuMollweide:function(){return zn},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return Qe},geoSinusoidalRaw:function(){return Je},geoStitch:function(){return hu},geoTimes:function(){return Gi},geoTimesRaw:function(){return js},geoTwoPointAzimuthal:function(){return ju},geoTwoPointAzimuthalRaw:function(){return xf},geoTwoPointAzimuthalUsa:function(){return fl},geoTwoPointEquidistant:function(){return ic},geoTwoPointEquidistantRaw:function(){return vu},geoTwoPointEquidistantUsa:function(){return sh},geoVanDerGrinten:function(){return du},geoVanDerGrinten2:function(){return oc},geoVanDerGrinten2Raw:function(){return Hl},geoVanDerGrinten3:function(){return lh},geoVanDerGrinten3Raw:function(){return Xs},geoVanDerGrinten4:function(){return pu},geoVanDerGrinten4Raw:function(){return _o},geoVanDerGrintenRaw:function(){return po},geoWagner:function(){return Zs},geoWagner4:function(){return sc},geoWagner4Raw:function(){return Zu},geoWagner6:function(){return wf},geoWagner6Raw:function(){return mu},geoWagner7:function(){return bf},geoWagnerRaw:function(){return Rs},geoWiechel:function(){return Tf},geoWiechelRaw:function(){return cl},geoWinkel3:function(){return lc},geoWinkel3Raw:function(){return xu}});var m=e(87952),P=Math.abs,s=Math.atan,L=Math.atan2,S=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,i=Math.min,n=Math.pow,f=Math.round,u=Math.sign||function(Ze){return Ze>0?1:Ze<0?-1:0},l=Math.sin,g=Math.tan,h=1e-6,T=1e-12,c=Math.PI,a=c/2,d=c/4,x=Math.SQRT1_2,w=I(2),C=I(c),y=c*2,M=180/c,A=c/180;function o(Ze){return Ze?Ze/Math.sin(Ze):1}function E(Ze){return Ze>1?a:Ze<-1?-a:Math.asin(Ze)}function b(Ze){return Ze>1?0:Ze<-1?c:Math.acos(Ze)}function I(Ze){return Ze>0?Math.sqrt(Ze):0}function D(Ze){return Ze=v(2*Ze),(Ze-1)/(Ze+1)}function N(Ze){return(v(Ze)-v(-Ze))/2}function k(Ze){return(v(Ze)+v(-Ze))/2}function O(Ze){return r(Ze+I(Ze*Ze+1))}function F(Ze){return r(Ze+I(Ze*Ze-1))}function z(Ze){var at=g(Ze/2),yt=2*r(S(Ze/2))/(at*at);function wt(zt,kt){var Ft=S(zt),gr=S(kt),wr=l(kt),ar=gr*Ft,Sr=-((1-ar?r((1+ar)/2)/(1-ar):-.5)+yt/(1+ar));return[Sr*gr*l(zt),Sr*wr]}return wt.invert=function(zt,kt){var Ft=I(zt*zt+kt*kt),gr=-Ze/2,wr=50,ar;if(!Ft)return[0,0];do{var Sr=gr/2,Dr=S(Sr),Ur=l(Sr),on=Ur/Dr,xn=-r(P(Dr));gr-=ar=(2/on*xn-yt*on-Ft)/(-xn/(Ur*Ur)+1-yt/(2*Dr*Dr))*(Dr<0?.7:1)}while(P(ar)>h&&--wr>0);var _n=l(gr);return[L(zt*_n,Ft*S(gr)),E(kt*_n/Ft)]},wt}function B(){var Ze=a,at=(0,m.U)(z),yt=at(Ze);return yt.radius=function(wt){return arguments.length?at(Ze=wt*A):Ze*M},yt.scale(179.976).clipAngle(147)}function W(Ze,at){var yt=S(at),wt=o(b(yt*S(Ze/=2)));return[2*yt*l(Ze)*wt,l(at)*wt]}W.invert=function(Ze,at){if(!(Ze*Ze+4*at*at>c*c+h)){var yt=Ze,wt=at,zt=25;do{var kt=l(yt),Ft=l(yt/2),gr=S(yt/2),wr=l(wt),ar=S(wt),Sr=l(2*wt),Dr=wr*wr,Ur=ar*ar,on=Ft*Ft,xn=1-Ur*gr*gr,_n=xn?b(ar*gr)*I(Dn=1/xn):Dn=0,Dn,Zn=2*_n*ar*Ft-Ze,Ra=_n*wr-at,Da=Dn*(Ur*on+_n*ar*gr*Dr),ka=Dn*(.5*kt*Sr-_n*2*wr*Ft),Na=Dn*.25*(Sr*Ft-_n*wr*Ur*kt),Ka=Dn*(Dr*gr+_n*on*ar),di=ka*Na-Ka*Da;if(!di)break;var zi=(Ra*ka-Zn*Ka)/di,ue=(Zn*Na-Ra*Da)/di;yt-=zi,wt-=ue}while((P(zi)>h||P(ue)>h)&&--zt>0);return[yt,wt]}};function J(){return(0,m.c)(W).scale(152.63)}function re(Ze){var at=l(Ze),yt=S(Ze),wt=Ze>=0?1:-1,zt=g(wt*Ze),kt=(1+at-yt)/2;function Ft(gr,wr){var ar=S(wr),Sr=S(gr/=2);return[(1+ar)*l(gr),(wt*wr>-L(Sr,zt)-.001?0:-wt*10)+kt+l(wr)*yt-(1+ar)*at*Sr]}return Ft.invert=function(gr,wr){var ar=0,Sr=0,Dr=50;do{var Ur=S(ar),on=l(ar),xn=S(Sr),_n=l(Sr),Dn=1+xn,Zn=Dn*on-gr,Ra=kt+_n*yt-Dn*at*Ur-wr,Da=Dn*Ur/2,ka=-on*_n,Na=at*Dn*on/2,Ka=yt*xn+at*Ur*_n,di=ka*Na-Ka*Da,zi=(Ra*ka-Zn*Ka)/di/2,ue=(Zn*Na-Ra*Da)/di;P(ue)>2&&(ue/=2),ar-=zi,Sr-=ue}while((P(zi)>h||P(ue)>h)&&--Dr>0);return wt*Sr>-L(S(ar),zt)-.001?[ar*2,Sr]:null},Ft}function ne(){var Ze=20*A,at=Ze>=0?1:-1,yt=g(at*Ze),wt=(0,m.U)(re),zt=wt(Ze),kt=zt.stream;return zt.parallel=function(Ft){return arguments.length?(yt=g((at=(Ze=Ft*A)>=0?1:-1)*Ze),wt(Ze)):Ze*M},zt.stream=function(Ft){var gr=zt.rotate(),wr=kt(Ft),ar=(zt.rotate([0,0]),kt(Ft)),Sr=zt.precision();return zt.rotate(gr),wr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Dr=at*-180;at*Dr<180;Dr+=at*90)ar.point(Dr,at*90);if(Ze)for(;at*(Dr-=3*at*Sr)>=-180;)ar.point(Dr,at*-L(S(Dr*A/2),yt)*M);ar.lineEnd(),ar.polygonEnd()},wr},zt.scale(218.695).center([0,28.0974])}function le(Ze,at){var yt=g(at/2),wt=I(1-yt*yt),zt=1+wt*S(Ze/=2),kt=l(Ze)*wt/zt,Ft=yt/zt,gr=kt*kt,wr=Ft*Ft;return[1.3333333333333333*kt*(3+gr-3*wr),1.3333333333333333*Ft*(3+3*gr-wr)]}le.invert=function(Ze,at){if(Ze*=.375,at*=.375,!Ze&&P(at)>1)return null;var yt=Ze*Ze,wt=at*at,zt=1+yt+wt,kt=I((zt-I(zt*zt-4*at*at))/2),Ft=E(kt)/3,gr=kt?F(P(at/kt))/3:O(P(Ze))/3,wr=S(Ft),ar=k(gr),Sr=ar*ar-wr*wr;return[u(Ze)*2*L(N(gr)*wr,.25-Sr),u(at)*2*L(ar*l(Ft),.25+Sr)]};function $(){return(0,m.c)(le).scale(66.1603)}var K=I(8),ie=r(1+w);function Y(Ze,at){var yt=P(at);return yt<d?[Ze,r(g(d+at/2))]:[Ze*S(yt)*(2*w-1/l(yt)),u(at)*(2*w*(yt-d)-r(g(yt/2)))]}Y.invert=function(Ze,at){if((kt=P(at))<ie)return[Ze,2*s(v(at))-a];var yt=d,wt=25,zt,kt;do{var Ft=S(yt/2),gr=g(yt/2);yt-=zt=(K*(yt-d)-r(gr)-kt)/(K-Ft*Ft/(2*gr))}while(P(zt)>T&&--wt>0);return[Ze/(S(yt)*(K-1/l(yt))),u(at)*yt]};function Q(){return(0,m.c)(Y).scale(112.314)}var oe=e(69020);function X(Ze){var at=2*c/Ze;function yt(wt,zt){var kt=(0,oe.O)(wt,zt);if(P(wt)>a){var Ft=L(kt[1],kt[0]),gr=I(kt[0]*kt[0]+kt[1]*kt[1]),wr=at*f((Ft-a)/at)+a,ar=L(l(Ft-=wr),2-S(Ft));Ft=wr+E(c/gr*l(ar))-ar,kt[0]=gr*S(Ft),kt[1]=gr*l(Ft)}return kt}return yt.invert=function(wt,zt){var kt=I(wt*wt+zt*zt);if(kt>a){var Ft=L(zt,wt),gr=at*f((Ft-a)/at)+a,wr=Ft>gr?-1:1,ar=kt*S(gr-Ft),Sr=1/g(wr*b((ar-c)/I(c*(c-2*ar)+kt*kt)));Ft=gr+2*s((Sr+wr*I(Sr*Sr-3))/3),wt=kt*S(Ft),zt=kt*l(Ft)}return oe.O.invert(wt,zt)},yt}function j(){var Ze=5,at=(0,m.U)(X),yt=at(Ze),wt=yt.stream,zt=.01,kt=-S(zt*A),Ft=l(zt*A);return yt.lobes=function(gr){return arguments.length?at(Ze=+gr):Ze},yt.stream=function(gr){var wr=yt.rotate(),ar=wt(gr),Sr=(yt.rotate([0,0]),wt(gr));return yt.rotate(wr),ar.sphere=function(){Sr.polygonStart(),Sr.lineStart();for(var Dr=0,Ur=360/Ze,on=2*c/Ze,xn=90-180/Ze,_n=a;Dr<Ze;++Dr,xn-=Ur,_n-=on)Sr.point(L(Ft*S(_n),kt)*M,E(Ft*l(_n))*M),xn<-90?(Sr.point(-90,-180-xn-zt),Sr.point(-90,-180-xn+zt)):(Sr.point(90,xn+zt),Sr.point(90,xn-zt));Sr.lineEnd(),Sr.polygonEnd()},ar},yt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function te(Ze,at){if(arguments.length<2&&(at=Ze),at===1)return se.y;if(at===1/0)return fe;function yt(wt,zt){var kt=(0,se.y)(wt/at,zt);return kt[0]*=Ze,kt}return yt.invert=function(wt,zt){var kt=se.y.invert(wt/Ze,zt);return kt[0]*=at,kt},yt}function fe(Ze,at){return[Ze*S(at)/S(at/=2),2*l(at)]}fe.invert=function(Ze,at){var yt=2*E(at/2);return[Ze*S(yt/2)/S(yt),yt]};function ge(){var Ze=2,at=(0,m.U)(te),yt=at(Ze);return yt.coefficient=function(wt){return arguments.length?at(Ze=+wt):Ze},yt.scale(169.529)}function be(Ze,at,yt){var wt=100,zt,kt,Ft;yt=yt===void 0?0:+yt,at=+at;do kt=Ze(yt),Ft=Ze(yt+h),kt===Ft&&(Ft=kt+h),yt-=zt=-1*h*(kt-at)/(kt-Ft);while(wt-- >0&&P(zt)>h);return wt<0?NaN:yt}function xe(Ze,at,yt){return at===void 0&&(at=40),yt===void 0&&(yt=T),function(wt,zt,kt,Ft){var gr,wr,ar;kt=kt===void 0?0:+kt,Ft=Ft===void 0?0:+Ft;for(var Sr=0;Sr<at;Sr++){var Dr=Ze(kt,Ft),Ur=Dr[0]-wt,on=Dr[1]-zt;if(P(Ur)<yt&&P(on)<yt)break;var xn=Ur*Ur+on*on;if(xn>gr){kt-=wr/=2,Ft-=ar/=2;continue}gr=xn;var _n=(kt>0?-1:1)*yt,Dn=(Ft>0?-1:1)*yt,Zn=Ze(kt+_n,Ft),Ra=Ze(kt,Ft+Dn),Da=(Zn[0]-Dr[0])/_n,ka=(Zn[1]-Dr[1])/_n,Na=(Ra[0]-Dr[0])/Dn,Ka=(Ra[1]-Dr[1])/Dn,di=Ka*Da-ka*Na,zi=(P(di)<.5?.5:1)/di;if(wr=(on*Na-Ur*Ka)*zi,ar=(Ur*ka-on*Da)*zi,kt+=wr,Ft+=ar,P(wr)<yt&&P(ar)<yt)break}return[kt,Ft]}}function _e(){var Ze=te(1.68,2),at=1.4,yt=12;function wt(zt,kt){if(zt+kt<-at){var Ft=(zt-kt+1.6)*(zt+kt+at)/8;zt+=Ft,kt-=.8*Ft*l(kt+c/2)}var gr=Ze(zt,kt),wr=(1-S(zt*kt))/yt;return gr[1]<0&&(gr[0]*=1+wr),gr[1]>0&&(gr[1]*=1+wr/1.5*gr[0]*gr[0]),gr}return wt.invert=xe(wt),wt}function De(){return(0,m.c)(_e()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Fe(Ze,at){var yt=Ze*l(at),wt=30,zt;do at-=zt=(at+l(at)-yt)/(1+S(at));while(P(zt)>h&&--wt>0);return at/2}function Te(Ze,at,yt){function wt(zt,kt){return[Ze*zt*S(kt=Fe(yt,kt)),at*l(kt)]}return wt.invert=function(zt,kt){return kt=E(kt/at),[zt/(Ze*S(kt)),E((2*kt+l(2*kt))/yt)]},wt}var Re=Te(w/a,w,c);function Se(){return(0,m.c)(Re).scale(169.529)}var Ie=2.00276,Me=1.11072;function Ve(Ze,at){var yt=Fe(c,at);return[Ie*Ze/(1/S(at)+Me/S(yt)),(at+w*l(yt))/Ie]}Ve.invert=function(Ze,at){var yt=Ie*at,wt=at<0?-d:d,zt=25,kt,Ft;do Ft=yt-w*l(wt),wt-=kt=(l(2*wt)+2*wt-c*l(Ft))/(2*S(2*wt)+2+c*S(Ft)*w*S(wt));while(P(kt)>h&&--zt>0);return Ft=yt-w*l(wt),[Ze*(1/S(Ft)+Me/S(wt))/Ie,Ft]};function et(){return(0,m.c)(Ve).scale(160.857)}function it(Ze){var at=0,yt=(0,m.U)(Ze),wt=yt(at);return wt.parallel=function(zt){return arguments.length?yt(at=zt*A):at*M},wt}function Je(Ze,at){return[Ze*S(at),at]}Je.invert=function(Ze,at){return[Ze/S(at),at]};function Qe(){return(0,m.c)(Je).scale(152.63)}function ct(Ze){if(!Ze)return Je;var at=1/g(Ze);function yt(wt,zt){var kt=at+Ze-zt,Ft=kt&&wt*S(zt)/kt;return[kt*l(Ft),at-kt*S(Ft)]}return yt.invert=function(wt,zt){var kt=I(wt*wt+(zt=at-zt)*zt),Ft=at+Ze-kt;return[kt/S(Ft)*L(wt,zt),Ft]},yt}function ht(){return it(ct).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Ze){function at(yt,wt){var zt=a-wt,kt=zt&&yt*Ze*l(zt)/zt;return[zt*l(kt)/Ze,a-zt*S(kt)]}return at.invert=function(yt,wt){var zt=yt*Ze,kt=a-wt,Ft=I(zt*zt+kt*kt),gr=L(zt,kt);return[(Ft?Ft/l(Ft):1)*gr/Ze,a-Ft]},at}function Tt(){var Ze=.5,at=(0,m.U)(gt),yt=at(Ze);return yt.fraction=function(wt){return arguments.length?at(Ze=+wt):Ze},yt.scale(158.837)}var Et=Te(1,4/c,c);function rt(){return(0,m.c)(Et).scale(152.63)}var ze=e(24052),He=e(92992);function Ge(Ze,at,yt,wt,zt,kt){var Ft=S(kt),gr;if(P(Ze)>1||P(kt)>1)gr=b(yt*zt+at*wt*Ft);else{var wr=l(Ze/2),ar=l(kt/2);gr=2*E(I(wr*wr+at*wt*ar*ar))}return P(gr)>h?[gr,L(wt*l(kt),at*zt-yt*wt*Ft)]:[0,0]}function We(Ze,at,yt){return b((Ze*Ze+at*at-yt*yt)/(2*Ze*at))}function Le(Ze){return Ze-2*c*p((Ze+c)/(2*c))}function Pe(Ze,at,yt){for(var wt=[[Ze[0],Ze[1],l(Ze[1]),S(Ze[1])],[at[0],at[1],l(at[1]),S(at[1])],[yt[0],yt[1],l(yt[1]),S(yt[1])]],zt=wt[2],kt,Ft=0;Ft<3;++Ft,zt=kt)kt=wt[Ft],zt.v=Ge(kt[1]-zt[1],zt[3],zt[2],kt[3],kt[2],kt[0]-zt[0]),zt.point=[0,0];var gr=We(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=We(wt[0].v[0],wt[1].v[0],wt[2].v[0]),ar=c-gr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Sr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*S(gr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(gr))];function Dr(Ur,on){var xn=l(on),_n=S(on),Dn=new Array(3),Zn;for(Zn=0;Zn<3;++Zn){var Ra=wt[Zn];if(Dn[Zn]=Ge(on-Ra[1],Ra[3],Ra[2],_n,xn,Ur-Ra[0]),!Dn[Zn][0])return Ra.point;Dn[Zn][1]=Le(Dn[Zn][1]-Ra.v[1])}var Da=Sr.slice();for(Zn=0;Zn<3;++Zn){var ka=Zn==2?0:Zn+1,Na=We(wt[Zn].v[0],Dn[Zn][0],Dn[ka][0]);Dn[Zn][1]<0&&(Na=-Na),Zn?Zn==1?(Na=wr-Na,Da[0]-=Dn[Zn][0]*S(Na),Da[1]-=Dn[Zn][0]*l(Na)):(Na=ar-Na,Da[0]+=Dn[Zn][0]*S(Na),Da[1]+=Dn[Zn][0]*l(Na)):(Da[0]+=Dn[Zn][0]*S(Na),Da[1]-=Dn[Zn][0]*l(Na))}return Da[0]/=3,Da[1]/=3,Da}return Dr}function je(Ze){return Ze[0]*=A,Ze[1]*=A,Ze}function Ce(){return he([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function he(Ze,at,yt){var wt=(0,ze.c)({type:"MultiPoint",coordinates:[Ze,at,yt]}),zt=[-wt[0],-wt[1]],kt=(0,He.c)(zt),Ft=Pe(je(kt(Ze)),je(kt(at)),je(kt(yt)));Ft.invert=xe(Ft);var gr=(0,m.c)(Ft).rotate(zt),wr=gr.center;return delete gr.rotate,gr.center=function(ar){return arguments.length?wr(kt(ar)):kt.invert(wr())},gr.clipAngle(90)}function me(Ze,at){var yt=I(1-l(at));return[2/C*Ze*yt,C*(1-yt)]}me.invert=function(Ze,at){var yt=(yt=at/C-1)*yt;return[yt>0?Ze*I(c/yt)/2:0,E(1-yt)]};function Ne(){return(0,m.c)(me).scale(95.6464).center([0,30])}function $e(Ze){var at=g(Ze);function yt(wt,zt){return[wt,(wt?wt/l(wt):1)*(l(zt)*S(wt)-at*S(zt))]}return yt.invert=at?function(wt,zt){wt&&(zt*=l(wt)/wt);var kt=S(wt);return[wt,2*L(I(kt*kt+at*at-zt*zt)-kt,at-zt)]}:function(wt,zt){return[wt,E(wt?zt*g(wt)/wt:zt)]},yt}function ot(){return it($e).scale(249.828).clipAngle(90)}var st=I(3);function Wt(Ze,at){return[st*Ze*(2*S(2*at/3)-1)/C,st*C*l(at/3)]}Wt.invert=function(Ze,at){var yt=3*E(at/(st*C));return[C*Ze/(st*(2*S(2*yt/3)-1)),yt]};function Pt(){return(0,m.c)(Wt).scale(156.19)}function dt(Ze){var at=S(Ze);function yt(wt,zt){return[wt*at,l(zt)/at]}return yt.invert=function(wt,zt){return[wt/at,E(zt*at)]},yt}function Mt(){return it(dt).parallel(38.58).scale(195.044)}function Xt(Ze){var at=S(Ze);function yt(wt,zt){return[wt*at,(1+at)*g(zt/2)]}return yt.invert=function(wt,zt){return[wt/at,s(zt/(1+at))*2]},yt}function nr(){return it(Xt).scale(124.75)}function vt(Ze,at){var yt=I(8/(3*c));return[yt*Ze*(1-P(at)/c),yt*at]}vt.invert=function(Ze,at){var yt=I(8/(3*c)),wt=at/yt;return[Ze/(yt*(1-P(wt)/c)),wt]};function Zt(){return(0,m.c)(vt).scale(165.664)}function Kt(Ze,at){var yt=I(4-3*l(P(at)));return[2/I(6*c)*Ze*yt,u(at)*I(2*c/3)*(2-yt)]}Kt.invert=function(Ze,at){var yt=2-P(at)/I(2*c/3);return[Ze*I(6*c)/(2*yt),u(at)*E((4-yt*yt)/3)]};function yr(){return(0,m.c)(Kt).scale(165.664)}function or(Ze,at){var yt=I(c*(4+c));return[2/yt*Ze*(1+I(1-4*at*at/(c*c))),4/yt*at]}or.invert=function(Ze,at){var yt=I(c*(4+c))/2;return[Ze*yt/(1+I(1-at*at*(4+c)/(4*c))),at*yt/2]};function mt(){return(0,m.c)(or).scale(180.739)}function lt(Ze,at){var yt=(2+a)*l(at);at/=2;for(var wt=0,zt=1/0;wt<10&&P(zt)>h;wt++){var kt=S(at);at-=zt=(at+l(at)*(kt+2)-yt)/(2*kt*(1+kt))}return[2/I(c*(4+c))*Ze*(1+S(at)),2*I(c/(4+c))*l(at)]}lt.invert=function(Ze,at){var yt=at*I((4+c)/c)/2,wt=E(yt),zt=S(wt);return[Ze/(2/I(c*(4+c))*(1+zt)),E((wt+yt*(zt+2))/(2+a))]};function bt(){return(0,m.c)(lt).scale(180.739)}function Ct(Ze,at){return[Ze*(1+S(at))/I(2+c),2*at/I(2+c)]}Ct.invert=function(Ze,at){var yt=I(2+c),wt=at*yt/2;return[yt*Ze/(1+S(wt)),wt]};function Dt(){return(0,m.c)(Ct).scale(173.044)}function Ht(Ze,at){for(var yt=(1+a)*l(at),wt=0,zt=1/0;wt<10&&P(zt)>h;wt++)at-=zt=(at+l(at)-yt)/(1+S(at));return yt=I(2+c),[Ze*(1+S(at))/yt,2*at/yt]}Ht.invert=function(Ze,at){var yt=1+a,wt=I(yt/2);return[Ze*2*wt/(1+S(at*=wt)),E((at+l(at))/yt)]};function Bt(){return(0,m.c)(Ht).scale(173.044)}var Ut=3+2*w;function Jt(Ze,at){var yt=l(Ze/=2),wt=S(Ze),zt=I(S(at)),kt=S(at/=2),Ft=l(at)/(kt+w*wt*zt),gr=I(2/(1+Ft*Ft)),wr=I((w*kt+(wt+yt)*zt)/(w*kt+(wt-yt)*zt));return[Ut*(gr*(wr-1/wr)-2*r(wr)),Ut*(gr*Ft*(wr+1/wr)-2*s(Ft))]}Jt.invert=function(Ze,at){if(!(kt=le.invert(Ze/1.2,at*1.065)))return null;var yt=kt[0],wt=kt[1],zt=20,kt;Ze/=Ut,at/=Ut;do{var Ft=yt/2,gr=wt/2,wr=l(Ft),ar=S(Ft),Sr=l(gr),Dr=S(gr),Ur=S(wt),on=I(Ur),xn=Sr/(Dr+w*ar*on),_n=xn*xn,Dn=I(2/(1+_n)),Zn=w*Dr+(ar+wr)*on,Ra=w*Dr+(ar-wr)*on,Da=Zn/Ra,ka=I(Da),Na=ka-1/ka,Ka=ka+1/ka,di=Dn*Na-2*r(ka)-Ze,zi=Dn*xn*Ka-2*s(xn)-at,ue=Sr&&x*on*wr*_n/Sr,Ae=(w*ar*Dr+on)/(2*(Dr+w*ar*on)*(Dr+w*ar*on)*on),Be=-.5*xn*Dn*Dn*Dn,qe=Be*ue,nt=Be*Ae,ft=(ft=2*Dr+w*on*(ar-wr))*ft*ka,_t=(w*ar*Dr*on+Ur)/ft,At=-(w*wr*Sr)/(on*ft),Gt=Na*qe-2*_t/ka+Dn*(_t+_t/Da),Yt=Na*nt-2*At/ka+Dn*(At+At/Da),tr=xn*Ka*qe-2*ue/(1+_n)+Dn*Ka*ue+Dn*xn*(_t-_t/Da),Cr=xn*Ka*nt-2*Ae/(1+_n)+Dn*Ka*Ae+Dn*xn*(At-At/Da),Lr=Yt*tr-Cr*Gt;if(!Lr)break;var $r=(zi*Yt-di*Cr)/Lr,sn=(di*tr-zi*Gt)/Lr;yt-=$r,wt=t(-a,i(a,wt-sn))}while((P($r)>h||P(sn)>h)&&--zt>0);return P(P(wt)-a)<h?[0,wt]:zt&&[yt,wt]};function cr(){return(0,m.c)(Jt).scale(62.5271)}var hr=S(35*A);function pr(Ze,at){var yt=g(at/2);return[Ze*hr*I(1-yt*yt),(1+hr)*yt]}pr.invert=function(Ze,at){var yt=at/(1+hr);return[Ze&&Ze/(hr*I(1-yt*yt)),2*s(yt)]};function Ye(){return(0,m.c)(pr).scale(137.152)}function Ue(Ze,at){var yt=at/2,wt=S(yt);return[2*Ze/C*S(at)*wt*wt,C*g(yt)]}Ue.invert=function(Ze,at){var yt=s(at/C),wt=S(yt),zt=2*yt;return[Ze*C/2/(S(zt)*wt*wt),zt]};function Ot(){return(0,m.c)(Ue).scale(135.264)}function It(Ze){var at=1-Ze,yt=kt(c,0)[0]-kt(-c,0)[0],wt=kt(0,a)[1]-kt(0,-a)[1],zt=I(2*wt/yt);function kt(wr,ar){var Sr=S(ar),Dr=l(ar);return[Sr/(at+Ze*Sr)*wr,at*ar+Ze*Dr]}function Ft(wr,ar){var Sr=kt(wr,ar);return[Sr[0]*zt,Sr[1]/zt]}function gr(wr){return Ft(0,wr)[1]}return Ft.invert=function(wr,ar){var Sr=be(gr,ar),Dr=wr/zt*(Ze+at/S(Sr));return[Dr,Sr]},Ft}function Qt(){var Ze=.5,at=(0,m.U)(It),yt=at(Ze);return yt.alpha=function(wt){return arguments.length?at(Ze=+wt):Ze},yt.scale(168.725)}var lr=e(4888),fr=e(69604);function er(Ze){return[Ze[0]/2,E(g(Ze[1]/2*A))*M]}function Nt(Ze){return[Ze[0]*2,2*s(l(Ze[1]*A))*M]}function ir(Ze){Ze==null&&(Ze=lr.c);var at=Ze(),yt=(0,fr.c)().scale(M).precision(0).clipAngle(null).translate([0,0]);function wt(kt){return at(er(kt))}at.invert&&(wt.invert=function(kt){return Nt(at.invert(kt))}),wt.stream=function(kt){var Ft=at.stream(kt),gr=yt.stream({point:function(wr,ar){Ft.point(wr/2,E(g(-ar/2*A))*M)},lineStart:function(){Ft.lineStart()},lineEnd:function(){Ft.lineEnd()},polygonStart:function(){Ft.polygonStart()},polygonEnd:function(){Ft.polygonEnd()}});return gr.sphere=Ft.sphere,gr};function zt(kt){wt[kt]=function(){return arguments.length?(at[kt].apply(at,arguments),wt):at[kt]()}}return wt.rotate=function(kt){return arguments.length?(yt.rotate(kt),wt):yt.rotate()},wt.center=function(kt){return arguments.length?(at.center(er(kt)),wt):Nt(at.center())},zt("angle"),zt("clipAngle"),zt("clipExtent"),zt("fitExtent"),zt("fitHeight"),zt("fitSize"),zt("fitWidth"),zt("scale"),zt("translate"),zt("precision"),wt.scale(249.5)}function vr(Ze,at){var yt=2*c/at,wt=Ze*Ze;function zt(kt,Ft){var gr=(0,oe.O)(kt,Ft),wr=gr[0],ar=gr[1],Sr=wr*wr+ar*ar;if(Sr>wt){var Dr=I(Sr),Ur=L(ar,wr),on=yt*f(Ur/yt),xn=Ur-on,_n=Ze*S(xn),Dn=(Ze*l(xn)-xn*l(_n))/(a-_n),Zn=xr(xn,Dn),Ra=(c-Ze)/dr(Zn,_n,c);wr=Dr;var Da=50,ka;do wr-=ka=(Ze+dr(Zn,_n,wr)*Ra-Dr)/(Zn(wr)*Ra);while(P(ka)>h&&--Da>0);ar=xn*l(wr),wr<a&&(ar-=Dn*(wr-a));var Na=l(on),Ka=S(on);gr[0]=wr*Ka-ar*Na,gr[1]=wr*Na+ar*Ka}return gr}return zt.invert=function(kt,Ft){var gr=kt*kt+Ft*Ft;if(gr>wt){var wr=I(gr),ar=L(Ft,kt),Sr=yt*f(ar/yt),Dr=ar-Sr;kt=wr*S(Dr),Ft=wr*l(Dr);for(var Ur=kt-a,on=l(kt),xn=Ft/on,_n=kt<a?1/0:0,Dn=10;;){var Zn=Ze*l(xn),Ra=Ze*S(xn),Da=l(Ra),ka=a-Ra,Na=(Zn-xn*Da)/ka,Ka=xr(xn,Na);if(P(_n)<T||!--Dn)break;xn-=_n=(xn*on-Na*Ur-Ft)/(on-Ur*2*(ka*(Ra+xn*Zn*S(Ra)-Da)-Zn*(Zn-xn*Da))/(ka*ka))}wr=Ze+dr(Ka,Ra,kt)*(c-Ze)/dr(Ka,Ra,c),ar=Sr+xn,kt=wr*S(ar),Ft=wr*l(ar)}return oe.O.invert(kt,Ft)},zt}function xr(Ze,at){return function(yt){var wt=Ze*S(yt);return yt<a&&(wt-=at),I(1+wt*wt)}}function dr(Ze,at,yt){for(var wt=50,zt=(yt-at)/wt,kt=Ze(at)+Ze(yt),Ft=1,gr=at;Ft<wt;++Ft)kt+=2*Ze(gr+=zt);return kt*.5*zt}function Hr(){var Ze=6,at=30*A,yt=S(at),wt=l(at),zt=(0,m.U)(vr),kt=zt(at,Ze),Ft=kt.stream,gr=.01,wr=-S(gr*A),ar=l(gr*A);return kt.radius=function(Sr){return arguments.length?(yt=S(at=Sr*A),wt=l(at),zt(at,Ze)):at*M},kt.lobes=function(Sr){return arguments.length?zt(at,Ze=+Sr):Ze},kt.stream=function(Sr){var Dr=kt.rotate(),Ur=Ft(Sr),on=(kt.rotate([0,0]),Ft(Sr));return kt.rotate(Dr),Ur.sphere=function(){on.polygonStart(),on.lineStart();for(var xn=0,_n=2*c/Ze,Dn=0;xn<Ze;++xn,Dn-=_n)on.point(L(ar*S(Dn),wr)*M,E(ar*l(Dn))*M),on.point(L(wt*S(Dn-_n/2),yt)*M,E(wt*l(Dn-_n/2))*M);on.lineEnd(),on.polygonEnd()},Ur},kt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Pr(Ze,at,yt,wt,zt,kt,Ft,gr){arguments.length<8&&(gr=0);function wr(ar,Sr){if(!Sr)return[Ze*ar/c,0];var Dr=Sr*Sr,Ur=Ze+Dr*(at+Dr*(yt+Dr*wt)),on=Sr*(zt-1+Dr*(kt-gr+Dr*Ft)),xn=(Ur*Ur+on*on)/(2*on),_n=ar*E(Ur/xn)/c;return[xn*l(_n),Sr*(1+Dr*gr)+xn*(1-S(_n))]}return wr.invert=function(ar,Sr){var Dr=c*ar/Ze,Ur=Sr,on,xn,_n=50;do{var Dn=Ur*Ur,Zn=Ze+Dn*(at+Dn*(yt+Dn*wt)),Ra=Ur*(zt-1+Dn*(kt-gr+Dn*Ft)),Da=Zn*Zn+Ra*Ra,ka=2*Ra,Na=Da/ka,Ka=Na*Na,di=E(Zn/Na)/c,zi=Dr*di,ue=Zn*Zn,Ae=(2*at+Dn*(4*yt+Dn*6*wt))*Ur,Be=zt+Dn*(3*kt+Dn*5*Ft),qe=2*(Zn*Ae+Ra*(Be-1)),nt=2*(Be-1),ft=(qe*ka-Da*nt)/(ka*ka),_t=S(zi),At=l(zi),Gt=Na*_t,Yt=Na*At,tr=Dr/c*(1/I(1-ue/Ka))*(Ae*Na-Zn*ft)/Ka,Cr=Yt-ar,Lr=Ur*(1+Dn*gr)+Na-Gt-Sr,$r=ft*At+Gt*tr,sn=Gt*di,_r=1+ft-(ft*_t-Yt*tr),Vr=Yt*di,Kr=$r*Vr-_r*sn;if(!Kr)break;Dr-=on=(Lr*$r-Cr*_r)/Kr,Ur-=xn=(Cr*Vr-Lr*sn)/Kr}while((P(on)>h||P(xn)>h)&&--_n>0);return[Dr,Ur]},wr}var Rr=Pr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function an(){return(0,m.c)(Rr).scale(149.995)}var tn=Pr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Sn(){return(0,m.c)(tn).scale(153.93)}var Tn=Pr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Tr(){return(0,m.c)(Tn).scale(130.945)}function zr(Ze,at){var yt=Ze*Ze,wt=at*at;return[Ze*(1-.162388*wt)*(.87-952426e-9*yt*yt),at*(1+wt/12)]}zr.invert=function(Ze,at){var yt=Ze,wt=at,zt=50,kt;do{var Ft=wt*wt;wt-=kt=(wt*(1+Ft/12)-at)/(1+Ft/4)}while(P(kt)>h&&--zt>0);zt=50,Ze/=1-.162388*Ft;do{var gr=(gr=yt*yt)*gr;yt-=kt=(yt*(.87-952426e-9*gr)-Ze)/(.87-.00476213*gr)}while(P(kt)>h&&--zt>0);return[yt,wt]};function Yr(){return(0,m.c)(zr).scale(131.747)}var Or=Pr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function ln(){return(0,m.c)(Or).scale(131.087)}function fn(Ze){var at=Ze(a,0)[0]-Ze(-a,0)[0];function yt(wt,zt){var kt=wt>0?-.5:.5,Ft=Ze(wt+kt*c,zt);return Ft[0]-=kt*at,Ft}return Ze.invert&&(yt.invert=function(wt,zt){var kt=wt>0?-.5:.5,Ft=Ze.invert(wt+kt*at,zt),gr=Ft[0]-kt*c;return gr<-c?gr+=2*c:gr>c&&(gr-=2*c),Ft[0]=gr,Ft}),yt}function Mn(Ze,at){var yt=u(Ze),wt=u(at),zt=S(at),kt=S(Ze)*zt,Ft=l(Ze)*zt,gr=l(wt*at);Ze=P(L(Ft,gr)),at=E(kt),P(Ze-a)>h&&(Ze%=a);var wr=Pn(Ze>c/4?a-Ze:Ze,at);return Ze>c/4&&(gr=wr[0],wr[0]=-wr[1],wr[1]=-gr),wr[0]*=yt,wr[1]*=-wt,wr}Mn.invert=function(Ze,at){P(Ze)>1&&(Ze=u(Ze)*2-Ze),P(at)>1&&(at=u(at)*2-at);var yt=u(Ze),wt=u(at),zt=-yt*Ze,kt=-wt*at,Ft=kt/zt<1,gr=Vn(Ft?kt:zt,Ft?zt:kt),wr=gr[0],ar=gr[1],Sr=S(ar);return Ft&&(wr=-a-wr),[yt*(L(l(wr)*Sr,-l(ar))+c),wt*E(S(wr)*Sr)]};function Pn(Ze,at){if(at===a)return[0,0];var yt=l(at),wt=yt*yt,zt=wt*wt,kt=1+zt,Ft=1+3*zt,gr=1-zt,wr=E(1/I(kt)),ar=gr+wt*kt*wr,Sr=(1-yt)/ar,Dr=I(Sr),Ur=Sr*kt,on=I(Ur),xn=Dr*gr,_n,Dn;if(Ze===0)return[0,-(xn+wt*on)];var Zn=S(at),Ra=1/Zn,Da=2*yt*Zn,ka=(-3*wt+wr*Ft)*Da,Na=(-ar*Zn-(1-yt)*ka)/(ar*ar),Ka=.5*Na/Dr,di=gr*Ka-2*wt*Dr*Da,zi=wt*kt*Na+Sr*Ft*Da,ue=-Ra*Da,Ae=-Ra*zi,Be=-2*Ra*di,qe=4*Ze/c,nt;if(Ze>.222*c||at<c/4&&Ze>.175*c){if(_n=(xn+wt*I(Ur*(1+zt)-xn*xn))/(1+zt),Ze>c/4)return[_n,_n];var ft=_n,_t=.5*_n;_n=.5*(_t+ft),Dn=50;do{var At=I(Ur-_n*_n),Gt=_n*(Be+ue*At)+Ae*E(_n/on)-qe;if(!Gt)break;Gt<0?_t=_n:ft=_n,_n=.5*(_t+ft)}while(P(ft-_t)>h&&--Dn>0)}else{_n=h,Dn=25;do{var Yt=_n*_n,tr=I(Ur-Yt),Cr=Be+ue*tr,Lr=_n*Cr+Ae*E(_n/on)-qe,$r=Cr+(Ae-ue*Yt)/tr;_n-=nt=tr?Lr/$r:0}while(P(nt)>h&&--Dn>0)}return[_n,-xn-wt*I(Ur-_n*_n)]}function Vn(Ze,at){for(var yt=0,wt=1,zt=.5,kt=50;;){var Ft=zt*zt,gr=I(zt),wr=E(1/I(1+Ft)),ar=1-Ft+zt*(1+Ft)*wr,Sr=(1-gr)/ar,Dr=I(Sr),Ur=Sr*(1+Ft),on=Dr*(1-Ft),xn=Ur-Ze*Ze,_n=I(xn),Dn=at+on+zt*_n;if(P(wt-yt)<T||--kt===0||Dn===0)break;Dn>0?yt=zt:wt=zt,zt=.5*(yt+wt)}if(!kt)return null;var Zn=E(gr),Ra=S(Zn),Da=1/Ra,ka=2*gr*Ra,Na=(-3*zt+wr*(1+3*Ft))*ka,Ka=(-ar*Ra-(1-gr)*Na)/(ar*ar),di=.5*Ka/Dr,zi=(1-Ft)*di-2*zt*Dr*ka,ue=-2*Da*zi,Ae=-Da*ka,Be=-Da*(zt*(1+Ft)*Ka+Sr*(1+3*Ft)*ka);return[c/4*(Ze*(ue+Ae*_n)+Be*E(Ze/I(Ur))),Zn]}function ia(){return(0,m.c)(fn(Mn)).scale(239.75)}function ya(Ze,at,yt){var wt,zt,kt;return Ze?(wt=wa(Ze,yt),at?(zt=wa(at,1-yt),kt=zt[1]*zt[1]+yt*wt[0]*wt[0]*zt[0]*zt[0],[[wt[0]*zt[2]/kt,wt[1]*wt[2]*zt[0]*zt[1]/kt],[wt[1]*zt[1]/kt,-wt[0]*wt[2]*zt[0]*zt[2]/kt],[wt[2]*zt[1]*zt[2]/kt,-yt*wt[0]*wt[1]*zt[0]/kt]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(zt=wa(at,1-yt),[[0,zt[0]/zt[1]],[1/zt[1],0],[zt[2]/zt[1],0]])}function wa(Ze,at){var yt,wt,zt,kt,Ft;if(at<h)return kt=l(Ze),wt=S(Ze),yt=at*(Ze-kt*wt)/4,[kt-yt*wt,wt+yt*kt,1-at*kt*kt/2,Ze-yt];if(at>=1-h)return yt=(1-at)/4,wt=k(Ze),kt=D(Ze),zt=1/wt,Ft=wt*N(Ze),[kt+yt*(Ft-Ze)/(wt*wt),zt-yt*kt*zt*(Ft-Ze),zt+yt*kt*zt*(Ft+Ze),2*s(v(Ze))-a+yt*(Ft-Ze)/wt];var gr=[1,0,0,0,0,0,0,0,0],wr=[I(at),0,0,0,0,0,0,0,0],ar=0;for(wt=I(1-at),Ft=1;P(wr[ar]/gr[ar])>h&&ar<8;)yt=gr[ar++],wr[ar]=(yt-wt)/2,gr[ar]=(yt+wt)/2,wt=I(yt*wt),Ft*=2;zt=Ft*gr[ar]*Ze;do kt=wr[ar]*l(wt=zt)/gr[ar],zt=(E(kt)+zt)/2;while(--ar);return[l(zt),kt=S(zt),kt/S(zt-wt),zt]}function Gn(Ze,at,yt){var wt=P(Ze),zt=P(at),kt=N(zt);if(wt){var Ft=1/l(wt),gr=1/(g(wt)*g(wt)),wr=-(gr+yt*(kt*kt*Ft*Ft)-1+yt),ar=(yt-1)*gr,Sr=(-wr+I(wr*wr-4*ar))/2;return[Qn(s(1/I(Sr)),yt)*u(Ze),Qn(s(I((Sr/gr-1)/yt)),1-yt)*u(at)]}return[0,Qn(s(kt),1-yt)*u(at)]}function Qn(Ze,at){if(!at)return Ze;if(at===1)return r(g(Ze/2+d));for(var yt=1,wt=I(1-at),zt=I(at),kt=0;P(zt)>h;kt++){if(Ze%c){var Ft=s(wt*g(Ze)/yt);Ft<0&&(Ft+=c),Ze+=Ft+~~(Ze/c)*c}else Ze+=Ze;zt=(yt+wt)/2,wt=I(yt*wt),zt=((yt=zt)-wt)/2}return Ze/(n(2,kt)*yt)}function mr(Ze,at){var yt=(w-1)/(w+1),wt=I(1-yt*yt),zt=Qn(a,wt*wt),kt=-1,Ft=r(g(c/4+P(at)/2)),gr=v(kt*Ft)/I(yt),wr=en(gr*S(kt*Ze),gr*l(kt*Ze)),ar=Gn(wr[0],wr[1],wt*wt);return[-ar[1],(at>=0?1:-1)*(.5*zt-ar[0])]}function en(Ze,at){var yt=Ze*Ze,wt=at+1,zt=1-yt-at*at;return[.5*((Ze>=0?a:-a)-L(zt,2*Ze)),-.25*r(zt*zt+4*yt)+.5*r(wt*wt+yt)]}function Jr(Ze,at){var yt=at[0]*at[0]+at[1]*at[1];return[(Ze[0]*at[0]+Ze[1]*at[1])/yt,(Ze[1]*at[0]-Ze[0]*at[1])/yt]}mr.invert=function(Ze,at){var yt=(w-1)/(w+1),wt=I(1-yt*yt),zt=Qn(a,wt*wt),kt=-1,Ft=ya(.5*zt-at,-Ze,wt*wt),gr=Jr(Ft[0],Ft[1]),wr=L(gr[1],gr[0])/kt;return[wr,2*s(v(.5/kt*r(yt*gr[0]*gr[0]+yt*gr[1]*gr[1])))-a]};function vn(){return(0,m.c)(fn(mr)).scale(151.496)}var On=e(61780);function bn(Ze){var at=l(Ze),yt=S(Ze),wt=An(Ze);wt.invert=An(-Ze);function zt(kt,Ft){var gr=wt(kt,Ft);kt=gr[0],Ft=gr[1];var wr=l(Ft),ar=S(Ft),Sr=S(kt),Dr=b(at*wr+yt*ar*Sr),Ur=l(Dr),on=P(Ur)>h?Dr/Ur:1;return[on*yt*l(kt),(P(kt)>a?on:-on)*(at*ar-yt*wr*Sr)]}return zt.invert=function(kt,Ft){var gr=I(kt*kt+Ft*Ft),wr=-l(gr),ar=S(gr),Sr=gr*ar,Dr=-Ft*wr,Ur=gr*at,on=I(Sr*Sr+Dr*Dr-Ur*Ur),xn=L(Sr*Ur+Dr*on,Dr*Ur-Sr*on),_n=(gr>a?-1:1)*L(kt*wr,gr*S(xn)*ar+Ft*l(xn)*wr);return wt.invert(_n,xn)},zt}function An(Ze){var at=l(Ze),yt=S(Ze);return function(wt,zt){var kt=S(zt),Ft=S(wt)*kt,gr=l(wt)*kt,wr=l(zt);return[L(gr,Ft*yt-wr*at),E(wr*yt+Ft*at)]}}function Fn(){var Ze=0,at=(0,m.U)(bn),yt=at(Ze),wt=yt.rotate,zt=yt.stream,kt=(0,On.c)();return yt.parallel=function(Ft){if(!arguments.length)return Ze*M;var gr=yt.rotate();return at(Ze=Ft*A).rotate(gr)},yt.rotate=function(Ft){return arguments.length?(wt.call(yt,[Ft[0],Ft[1]-Ze*M]),kt.center([-Ft[0],-Ft[1]]),yt):(Ft=wt.call(yt),Ft[1]+=Ze*M,Ft)},yt.stream=function(Ft){return Ft=zt(Ft),Ft.sphere=function(){Ft.polygonStart();var gr=.01,wr=kt.radius(90-gr)().coordinates[0],ar=wr.length-1,Sr=-1,Dr;for(Ft.lineStart();++Sr<ar;)Ft.point((Dr=wr[Sr])[0],Dr[1]);for(Ft.lineEnd(),wr=kt.radius(90+gr)().coordinates[0],ar=wr.length-1,Ft.lineStart();--Sr>=0;)Ft.point((Dr=wr[Sr])[0],Dr[1]);Ft.lineEnd(),Ft.polygonEnd()},Ft},yt.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=e(84706),ha=e(16016),Ia=3,Mr=E(1-1/Ia)*M,Fr=dt(0);function Ar(Ze){var at=Mr*A,yt=me(c,at)[0]-me(-c,at)[0],wt=Fr(0,at)[1],zt=me(0,at)[1],kt=C-zt,Ft=y/Ze,gr=4/y,wr=wt+kt*kt*4/y;function ar(Sr,Dr){var Ur,on=P(Dr);if(on>at){var xn=i(Ze-1,t(0,p((Sr+c)/Ft)));Sr+=c*(Ze-1)/Ze-xn*Ft,Ur=me(Sr,on),Ur[0]=Ur[0]*y/yt-y*(Ze-1)/(2*Ze)+xn*y/Ze,Ur[1]=wt+(Ur[1]-zt)*4*kt/y,Dr<0&&(Ur[1]=-Ur[1])}else Ur=Fr(Sr,Dr);return Ur[0]*=gr,Ur[1]/=wr,Ur}return ar.invert=function(Sr,Dr){Sr/=gr,Dr*=wr;var Ur=P(Dr);if(Ur>wt){var on=i(Ze-1,t(0,p((Sr+c)/Ft)));Sr=(Sr+c*(Ze-1)/Ze-on*Ft)*yt/y;var xn=me.invert(Sr,.25*(Ur-wt)*y/kt+zt);return xn[0]-=c*(Ze-1)/Ze-on*Ft,Dr<0&&(xn[1]=-xn[1]),xn}return Fr.invert(Sr,Dr)},ar}function Nr(Ze,at){return[Ze,at&1?90-h:Mr]}function mn(Ze,at){return[Ze,at&1?-90+h:-Mr]}function Rn(Ze){return[Ze[0]*(1-h),Ze[1]]}function gn(Ze){var at=[].concat((0,$n.ik)(-180,180+Ze/2,Ze).map(Nr),(0,$n.ik)(180,-180-Ze/2,-Ze).map(mn));return{type:"Polygon",coordinates:[Ze===180?at.map(Rn):at]}}function un(){var Ze=4,at=(0,m.U)(Ar),yt=at(Ze),wt=yt.stream;return yt.lobes=function(zt){return arguments.length?at(Ze=+zt):Ze},yt.stream=function(zt){var kt=yt.rotate(),Ft=wt(zt),gr=(yt.rotate([0,0]),wt(zt));return yt.rotate(kt),Ft.sphere=function(){(0,ha.c)(gn(180/Ze),gr)},Ft},yt.scale(239.75)}function Er(Ze){var at=1+Ze,yt=l(1/at),wt=E(yt),zt=2*I(c/(kt=c+4*wt*at)),kt,Ft=.5*zt*(at+I(Ze*(2+Ze))),gr=Ze*Ze,wr=at*at;function ar(Sr,Dr){var Ur=1-l(Dr),on,xn;if(Ur&&Ur<2){var _n=a-Dr,Dn=25,Zn;do{var Ra=l(_n),Da=S(_n),ka=wt+L(Ra,at-Da),Na=1+wr-2*at*Da;_n-=Zn=(_n-gr*wt-at*Ra+Na*ka-.5*Ur*kt)/(2*at*Ra*ka)}while(P(Zn)>T&&--Dn>0);on=zt*I(Na),xn=Sr*ka/c}else on=zt*(Ze+Ur),xn=Sr*wt/c;return[on*l(xn),Ft-on*S(xn)]}return ar.invert=function(Sr,Dr){var Ur=Sr*Sr+(Dr-=Ft)*Dr,on=(1+wr-Ur/(zt*zt))/(2*at),xn=b(on),_n=l(xn),Dn=wt+L(_n,at-on);return[E(Sr/I(Ur))*c/Dn,E(1-2*(xn-gr*wt-at*_n+(1+wr-2*at*on)*Dn)/kt)]},ar}function Zr(){var Ze=1,at=(0,m.U)(Er),yt=at(Ze);return yt.ratio=function(wt){return arguments.length?at(Ze=+wt):Ze},yt.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,qr=.0528035274542;function wn(Ze,at){return at>-Gr?(Ze=Re(Ze,at),Ze[1]+=qr,Ze):Je(Ze,at)}wn.invert=function(Ze,at){return at>-Gr?Re.invert(Ze,at-qr):Je.invert(Ze,at)};function zn(){return(0,m.c)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function En(Ze,at){return P(at)>Gr?(Ze=Re(Ze,at),Ze[1]-=at>0?qr:-qr,Ze):Je(Ze,at)}En.invert=function(Ze,at){return P(at)>Gr?Re.invert(Ze,at+(at>0?qr:-qr)):Je.invert(Ze,at)};function Un(){return(0,m.c)(En).scale(152.63)}function Nn(Ze,at,yt,wt){var zt=I(4*c/(2*yt+(1+Ze-at/2)*l(2*yt)+(Ze+at)/2*l(4*yt)+at/2*l(6*yt))),kt=I(wt*l(yt)*I((1+Ze*S(2*yt)+at*S(4*yt))/(1+Ze+at))),Ft=yt*wr(1);function gr(Dr){return I(1+Ze*S(2*Dr)+at*S(4*Dr))}function wr(Dr){var Ur=Dr*yt;return(2*Ur+(1+Ze-at/2)*l(2*Ur)+(Ze+at)/2*l(4*Ur)+at/2*l(6*Ur))/yt}function ar(Dr){return gr(Dr)*l(Dr)}var Sr=function(Dr,Ur){var on=yt*be(wr,Ft*l(Ur)/yt,Ur/c);isNaN(on)&&(on=yt*u(Ur));var xn=zt*gr(on);return[xn*kt*Dr/c*S(on),xn/kt*l(on)]};return Sr.invert=function(Dr,Ur){var on=be(ar,Ur*kt/zt);return[Dr*c/(S(on)*zt*kt*gr(on)),E(yt*wr(on/yt)/Ft)]},yt===0&&(zt=I(wt/c),Sr=function(Dr,Ur){return[Dr*zt,l(Ur)/zt]},Sr.invert=function(Dr,Ur){return[Dr/zt,E(Ur*zt)]}),Sr}function va(){var Ze=1,at=0,yt=45*A,wt=2,zt=(0,m.U)(Nn),kt=zt(Ze,at,yt,wt);return kt.a=function(Ft){return arguments.length?zt(Ze=+Ft,at,yt,wt):Ze},kt.b=function(Ft){return arguments.length?zt(Ze,at=+Ft,yt,wt):at},kt.psiMax=function(Ft){return arguments.length?zt(Ze,at,yt=+Ft*A,wt):yt*M},kt.ratio=function(Ft){return arguments.length?zt(Ze,at,yt,wt=+Ft):wt},kt.scale(180.739)}function sa(Ze,at,yt,wt,zt,kt,Ft,gr,wr,ar,Sr){if(Sr.nanEncountered)return NaN;var Dr,Ur,on,xn,_n,Dn,Zn,Ra,Da,ka;if(Dr=yt-at,Ur=Ze(at+Dr*.25),on=Ze(yt-Dr*.25),isNaN(Ur)){Sr.nanEncountered=!0;return}if(isNaN(on)){Sr.nanEncountered=!0;return}return xn=Dr*(wt+4*Ur+zt)/12,_n=Dr*(zt+4*on+kt)/12,Dn=xn+_n,ka=(Dn-Ft)/15,ar>wr?(Sr.maxDepthCount++,Dn+ka):Math.abs(ka)<gr?Dn+ka:(Zn=at+Dr*.5,Ra=sa(Ze,at,Zn,wt,Ur,zt,xn,gr*.5,wr,ar+1,Sr),isNaN(Ra)?(Sr.nanEncountered=!0,NaN):(Da=sa(Ze,Zn,yt,zt,on,kt,_n,gr*.5,wr,ar+1,Sr),isNaN(Da)?(Sr.nanEncountered=!0,NaN):Ra+Da))}function ga(Ze,at,yt,wt,zt){var kt={maxDepthCount:0,nanEncountered:!1};zt===void 0&&(zt=20);var Ft=Ze(at),gr=Ze(.5*(at+yt)),wr=Ze(yt),ar=(Ft+4*gr+wr)*(yt-at)/6,Sr=sa(Ze,at,yt,Ft,gr,wr,ar,wt,zt,1,kt);return Sr}function _a(Ze,at,yt){function wt(on){return Ze+(1-Ze)*n(1-n(on,at),1/at)}function zt(on){return ga(wt,0,on,1e-4)}for(var kt=1/zt(1),Ft=1e3,gr=(1+1e-8)*kt,wr=[],ar=0;ar<=Ft;ar++)wr.push(zt(ar/Ft)*gr);function Sr(on){var xn=0,_n=Ft,Dn=Ft>>1;do wr[Dn]>on?_n=Dn:xn=Dn,Dn=xn+_n>>1;while(Dn>xn);var Zn=wr[Dn+1]-wr[Dn];return Zn&&(Zn=(on-wr[Dn+1])/Zn),(Dn+1+Zn)/Ft}var Dr=2*Sr(1)/c*kt/yt,Ur=function(on,xn){var _n=Sr(P(l(xn))),Dn=wt(_n)*on;return _n/=Dr,[Dn,xn>=0?_n:-_n]};return Ur.invert=function(on,xn){var _n;return xn*=Dr,P(xn)<1&&(_n=u(xn)*E(zt(P(xn))*kt)),[on/wt(P(xn)),_n]},Ur}function gi(){var Ze=0,at=2.5,yt=1.183136,wt=(0,m.U)(_a),zt=wt(Ze,at,yt);return zt.alpha=function(kt){return arguments.length?wt(Ze=+kt,at,yt):Ze},zt.k=function(kt){return arguments.length?wt(Ze,at=+kt,yt):at},zt.gamma=function(kt){return arguments.length?wt(Ze,at,yt=+kt):yt},zt.scale(152.63)}function ai(Ze,at){return P(Ze[0]-at[0])<h&&P(Ze[1]-at[1])<h}function ko(Ze,at){for(var yt=-1,wt=Ze.length,zt=Ze[0],kt,Ft,gr,wr=[];++yt<wt;){kt=Ze[yt],Ft=(kt[0]-zt[0])/at,gr=(kt[1]-zt[1])/at;for(var ar=0;ar<at;++ar)wr.push([zt[0]+ar*Ft,zt[1]+ar*gr]);zt=kt}return wr.push(kt),wr}function Co(Ze){var at=[],yt,wt,zt,kt,Ft,gr,wr,ar=Ze[0].length;for(wr=0;wr<ar;++wr)yt=Ze[0][wr],wt=yt[0][0],zt=yt[0][1],kt=yt[1][1],Ft=yt[2][0],gr=yt[2][1],at.push(ko([[wt+h,zt+h],[wt+h,kt-h],[Ft-h,kt-h],[Ft-h,gr+h]],30));for(wr=Ze[1].length-1;wr>=0;--wr)yt=Ze[1][wr],wt=yt[0][0],zt=yt[0][1],kt=yt[1][1],Ft=yt[2][0],gr=yt[2][1],at.push(ko([[Ft-h,gr-h],[Ft-h,kt+h],[wt+h,kt+h],[wt+h,zt-h]],30));return{type:"Polygon",coordinates:[(0,$n.Uf)(at)]}}function to(Ze,at,yt){var wt,zt;function kt(wr,ar){for(var Sr=ar<0?-1:1,Dr=at[+(ar<0)],Ur=0,on=Dr.length-1;Ur<on&&wr>Dr[Ur][2][0];++Ur);var xn=Ze(wr-Dr[Ur][1][0],ar);return xn[0]+=Ze(Dr[Ur][1][0],Sr*ar>Sr*Dr[Ur][0][1]?Dr[Ur][0][1]:ar)[0],xn}yt?kt.invert=yt(kt):Ze.invert&&(kt.invert=function(wr,ar){for(var Sr=zt[+(ar<0)],Dr=at[+(ar<0)],Ur=0,on=Sr.length;Ur<on;++Ur){var xn=Sr[Ur];if(xn[0][0]<=wr&&wr<xn[1][0]&&xn[0][1]<=ar&&ar<xn[1][1]){var _n=Ze.invert(wr-Ze(Dr[Ur][1][0],0)[0],ar);return _n[0]+=Dr[Ur][1][0],ai(kt(_n[0],_n[1]),[wr,ar])?_n:null}}});var Ft=(0,m.c)(kt),gr=Ft.stream;return Ft.stream=function(wr){var ar=Ft.rotate(),Sr=gr(wr),Dr=(Ft.rotate([0,0]),gr(wr));return Ft.rotate(ar),Sr.sphere=function(){(0,ha.c)(wt,Dr)},Sr},Ft.lobes=function(wr){return arguments.length?(wt=Co(wr),at=wr.map(function(ar){return ar.map(function(Sr){return[[Sr[0][0]*A,Sr[0][1]*A],[Sr[1][0]*A,Sr[1][1]*A],[Sr[2][0]*A,Sr[2][1]*A]]})}),zt=at.map(function(ar){return ar.map(function(Sr){var Dr=Ze(Sr[0][0],Sr[0][1])[0],Ur=Ze(Sr[2][0],Sr[2][1])[0],on=Ze(Sr[1][0],Sr[0][1])[1],xn=Ze(Sr[1][0],Sr[1][1])[1],_n;return on>xn&&(_n=on,on=xn,xn=_n),[[Dr,on],[Ur,xn]]})}),Ft):at.map(function(ar){return ar.map(function(Sr){return[[Sr[0][0]*M,Sr[0][1]*M],[Sr[1][0]*M,Sr[1][1]*M],[Sr[2][0]*M,Sr[2][1]*M]]})})},at!=null&&Ft.lobes(at),Ft}var Sl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function af(){return to(Ve,Sl).scale(160.857)}var Vf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ti(){return to(En,Vf).scale(152.63)}var eu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function of(){return to(Re,eu).scale(169.529)}var Ki=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function bo(){return to(Re,Ki).scale(169.529).rotate([20,0])}var Ml=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Iu(){return to(wn,Ml,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ii=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function El(){return to(Je,Ii).scale(152.63).rotate([-20,0])}function Oi(Ze,at){return[3/y*Ze*I(c*c/3-at*at),at]}Oi.invert=function(Ze,at){return[y/3*Ze/I(c*c/3-at*at),at]};function Hi(){return(0,m.c)(Oi).scale(158.837)}function Cl(Ze){function at(yt,wt){if(P(P(wt)-a)<h)return[0,wt<0?-2:2];var zt=l(wt),kt=n((1+zt)/(1-zt),Ze/2),Ft=.5*(kt+1/kt)+S(yt*=Ze);return[2*l(yt)/Ft,(kt-1/kt)/Ft]}return at.invert=function(yt,wt){var zt=P(wt);if(P(zt-2)<h)return yt?null:[0,u(wt)*a];if(zt>2)return null;yt/=2,wt/=2;var kt=yt*yt,Ft=wt*wt,gr=2*wt/(1+kt+Ft);return gr=n((1+gr)/(1-gr),1/Ze),[L(2*yt,1-kt-Ft)/Ze,E((gr-1)/(gr+1))]},at}function ro(){var Ze=.5,at=(0,m.U)(Cl),yt=at(Ze);return yt.spacing=function(wt){return arguments.length?at(Ze=+wt):Ze},yt.scale(124.75)}var no=c/w;function zo(Ze,at){return[Ze*(1+I(S(at)))/2,at/(S(at/2)*S(Ze/6))]}zo.invert=function(Ze,at){var yt=P(Ze),wt=P(at),zt=h,kt=a;wt<no?kt*=wt/no:zt+=6*b(no/wt);for(var Ft=0;Ft<25;Ft++){var gr=l(kt),wr=I(S(kt)),ar=l(kt/2),Sr=S(kt/2),Dr=l(zt/6),Ur=S(zt/6),on=.5*zt*(1+wr)-yt,xn=kt/(Sr*Ur)-wt,_n=wr?-.25*zt*gr/wr:0,Dn=.5*(1+wr),Zn=(1+.5*kt*ar/Sr)/(Sr*Ur),Ra=kt/Sr*(Dr/6)/(Ur*Ur),Da=_n*Ra-Zn*Dn,ka=(on*Ra-xn*Dn)/Da,Na=(xn*_n-on*Zn)/Da;if(kt-=ka,zt-=Na,P(ka)<h&&P(Na)<h)break}return[Ze<0?-zt:zt,at<0?-kt:kt]};function Hf(){return(0,m.c)(zo).scale(97.2672)}function Lo(Ze,at){var yt=Ze*Ze,wt=at*at;return[Ze*(.975534+wt*(-.119161+yt*-.0143059+wt*-.0547009)),at*(1.00384+yt*(.0802894+wt*-.02855+yt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Lo.invert=function(Ze,at){var yt=u(Ze)*c,wt=at/2,zt=50;do{var kt=yt*yt,Ft=wt*wt,gr=yt*wt,wr=yt*(.975534+Ft*(-.119161+kt*-.0143059+Ft*-.0547009))-Ze,ar=wt*(1.00384+kt*(.0802894+Ft*-.02855+kt*199025e-9)+Ft*(.0998909+Ft*-.0491032))-at,Sr=.975534-Ft*(.119161+3*kt*.0143059+Ft*.0547009),Dr=-gr*(2*.119161+4*.0547009*Ft+2*.0143059*kt),Ur=gr*(2*.0802894+4*199025e-9*kt+2*-.02855*Ft),on=1.00384+kt*(.0802894+199025e-9*kt)+Ft*(3*(.0998909-.02855*kt)-5*.0491032*Ft),xn=Dr*Ur-on*Sr,_n=(ar*Dr-wr*on)/xn,Dn=(wr*Ur-ar*Sr)/xn;yt-=_n,wt-=Dn}while((P(_n)>h||P(Dn)>h)&&--zt>0);return zt&&[yt,wt]};function jc(){return(0,m.c)(Lo).scale(139.98)}function cs(Ze,at){return[l(Ze)/S(at),g(at)*S(Ze)]}cs.invert=function(Ze,at){var yt=Ze*Ze,wt=at*at,zt=wt+1,kt=yt+zt,Ft=Ze?x*I((kt-I(kt*kt-4*yt))/yt):1/I(zt);return[E(Ze*Ft),u(at)*b(Ft)]};function Ji(){return(0,m.c)(cs).scale(144.049).clipAngle(89.999)}function sf(Ze){var at=S(Ze),yt=g(d+Ze/2);function wt(zt,kt){var Ft=kt-Ze,gr=P(Ft)<h?zt*at:P(gr=d+kt/2)<h||P(P(gr)-a)<h?0:zt*Ft/r(g(gr)/yt);return[gr,Ft]}return wt.invert=function(zt,kt){var Ft,gr=kt+Ze;return[P(kt)<h?zt/at:P(Ft=d+gr/2)<h||P(P(Ft)-a)<h?0:zt*r(g(Ft)/yt)/kt,gr]},wt}function Bs(){return it(sf).parallel(40).scale(158.837)}function hs(Ze,at){return[Ze,1.25*r(g(d+.4*at))]}hs.invert=function(Ze,at){return[Ze,2.5*s(v(.8*at))-.625*c]};function lf(){return(0,m.c)(hs).scale(108.318)}function Gf(Ze){var at=Ze.length-1;function yt(wt,zt){for(var kt=S(zt),Ft=2/(1+kt*S(wt)),gr=Ft*kt*l(wt),wr=Ft*l(zt),ar=at,Sr=Ze[ar],Dr=Sr[0],Ur=Sr[1],on;--ar>=0;)Sr=Ze[ar],Dr=Sr[0]+gr*(on=Dr)-wr*Ur,Ur=Sr[1]+gr*Ur+wr*on;return Dr=gr*(on=Dr)-wr*Ur,Ur=gr*Ur+wr*on,[Dr,Ur]}return yt.invert=function(wt,zt){var kt=20,Ft=wt,gr=zt;do{for(var wr=at,ar=Ze[wr],Sr=ar[0],Dr=ar[1],Ur=0,on=0,xn;--wr>=0;)ar=Ze[wr],Ur=Sr+Ft*(xn=Ur)-gr*on,on=Dr+Ft*on+gr*xn,Sr=ar[0]+Ft*(xn=Sr)-gr*Dr,Dr=ar[1]+Ft*Dr+gr*xn;Ur=Sr+Ft*(xn=Ur)-gr*on,on=Dr+Ft*on+gr*xn,Sr=Ft*(xn=Sr)-gr*Dr-wt,Dr=Ft*Dr+gr*xn-zt;var _n=Ur*Ur+on*on,Dn,Zn;Ft-=Dn=(Sr*Ur+Dr*on)/_n,gr-=Zn=(Dr*Ur-Sr*on)/_n}while(P(Dn)+P(Zn)>h*h&&--kt>0);if(kt){var Ra=I(Ft*Ft+gr*gr),Da=2*s(Ra*.5),ka=l(Da);return[L(Ft*ka,Ra*S(Da)),Ra?E(gr*ka/Ra):0]}},yt}var Xc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ku=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Zc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Kc=[[.9245,0],[0,0],[.01943,0]],Jc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function uf(){return al(Xc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Qc(){return al(ku,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function $c(){return al(Zc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Wf(){return al(Kc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Yf(){return al(Jc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function al(Ze,at){var yt=(0,m.c)(Gf(Ze)).rotate(at).clipAngle(90),wt=(0,He.c)(at),zt=yt.center;return delete yt.rotate,yt.center=function(kt){return arguments.length?zt(wt(kt)):wt.invert(zt())},yt}var Ll=I(6),tu=I(7);function ru(Ze,at){var yt=E(7*l(at)/(3*Ll));return[Ll*Ze*(2*S(2*yt/3)-1)/tu,9*l(yt/3)/tu]}ru.invert=function(Ze,at){var yt=3*E(at*tu/9);return[Ze*tu/(Ll*(2*S(2*yt/3)-1)),E(l(yt)*3*Ll/7)]};function jf(){return(0,m.c)(ru).scale(164.859)}function Ms(Ze,at){for(var yt=(1+x)*l(at),wt=at,zt=0,kt;zt<25&&(wt-=kt=(l(wt/2)+l(wt)-yt)/(.5*S(wt/2)+S(wt)),!(P(kt)<h));zt++);return[Ze*(1+2*S(wt)/S(wt/2))/(3*w),2*I(3)*l(wt/2)/I(2+w)]}Ms.invert=function(Ze,at){var yt=at*I(2+w)/(2*I(3)),wt=2*E(yt);return[3*w*Ze/(1+2*S(wt)/S(wt/2)),E((yt+l(wt))/(1+x))]};function qc(){return(0,m.c)(Ms).scale(188.209)}function zu(Ze,at){for(var yt=I(6/(4+c)),wt=(1+c/4)*l(at),zt=at/2,kt=0,Ft;kt<25&&(zt-=Ft=(zt/2+l(zt)-wt)/(.5+S(zt)),!(P(Ft)<h));kt++);return[yt*(.5+S(zt))*Ze/1.5,yt*zt]}zu.invert=function(Ze,at){var yt=I(6/(4+c)),wt=at/yt;return P(P(wt)-a)<h&&(wt=wt<0?-a:a),[1.5*Ze/(yt*(.5+S(wt))),E((wt/2+l(wt))/(1+c/4))]};function Xf(){return(0,m.c)(zu).scale(166.518)}var Zf=e(47984);function Ou(Ze,at){var yt=at*at,wt=yt*yt,zt=yt*wt;return[Ze*(.84719-.13063*yt+zt*zt*(-.04515+.05494*yt-.02326*wt+.00331*zt)),at*(1.01183+wt*wt*(-.02625+.01926*yt-.00396*wt))]}Ou.invert=function(Ze,at){var yt=at,wt=25,zt,kt,Ft,gr;do kt=yt*yt,Ft=kt*kt,yt-=zt=(yt*(1.01183+Ft*Ft*(-.02625+.01926*kt-.00396*Ft))-at)/(1.01183+Ft*Ft*(-.23625+.21186*kt+-.05148*Ft));while(P(zt)>T&&--wt>0);return kt=yt*yt,Ft=kt*kt,gr=kt*Ft,[Ze/(.84719-.13063*kt+gr*gr*(-.04515+.05494*kt-.02326*Ft+.00331*gr)),yt]};function Zo(){return(0,m.c)(Ou).scale(175.295)}function Pl(Ze,at){return[Ze*(1+S(at))/2,2*(at-g(at/2))]}Pl.invert=function(Ze,at){for(var yt=at/2,wt=0,zt=1/0;wt<10&&P(zt)>h;++wt){var kt=S(at/2);at-=zt=(at-g(at/2)-yt)/(1-.5/(kt*kt))}return[2*Ze/(1+S(at)),at]};function il(){return(0,m.c)(Pl).scale(152.63)}var nu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Us(){return to(te(1/0),nu).rotate([20,0]).scale(152.63)}function vs(Ze,at){var yt=l(at),wt=S(at),zt=u(Ze);if(Ze===0||P(at)===a)return[0,at];if(at===0)return[Ze,0];if(P(Ze)===a)return[Ze*wt,a*yt];var kt=c/(2*Ze)-2*Ze/c,Ft=2*at/c,gr=(1-Ft*Ft)/(yt-Ft),wr=kt*kt,ar=gr*gr,Sr=1+wr/ar,Dr=1+ar/wr,Ur=(kt*yt/gr-kt/2)/Sr,on=(ar*yt/wr+gr/2)/Dr,xn=Ur*Ur+wt*wt/Sr,_n=on*on-(ar*yt*yt/wr+gr*yt-1)/Dr;return[a*(Ur+I(xn)*zt),a*(on+I(_n<0?0:_n)*u(-at*kt)*zt)]}vs.invert=function(Ze,at){Ze/=a,at/=a;var yt=Ze*Ze,wt=at*at,zt=yt+wt,kt=c*c;return[Ze?(zt-1+I((1-zt)*(1-zt)+4*yt))/(2*Ze)*a:0,be(function(Ft){return zt*(c*l(Ft)-2*Ft)*c+4*Ft*Ft*(at-l(Ft))+2*c*Ft-kt*at},0)]};function ff(){return(0,m.c)(vs).scale(127.267)}var _l=1.0148,Ko=.23185,_i=-.14499,cf=.02406,eh=_l,Fu=5*Ko,Rl=7*_i,Dl=9*cf,Po=1.790857183;function Nu(Ze,at){var yt=at*at;return[Ze,at*(_l+yt*yt*(Ko+yt*(_i+cf*yt)))]}Nu.invert=function(Ze,at){at>Po?at=Po:at<-Po&&(at=-Po);var yt=at,wt;do{var zt=yt*yt;yt-=wt=(yt*(_l+zt*zt*(Ko+zt*(_i+cf*zt)))-at)/(eh+zt*zt*(Fu+zt*(Rl+Dl*zt)))}while(P(wt)>h);return[Ze,yt]};function Il(){return(0,m.c)(Nu).scale(139.319)}function Bu(Ze,at){if(P(at)<h)return[Ze,0];var yt=g(at),wt=Ze*l(at);return[l(wt)/yt,at+(1-S(wt))/yt]}Bu.invert=function(Ze,at){if(P(at)<h)return[Ze,0];var yt=Ze*Ze+at*at,wt=at*.5,zt=10,kt;do{var Ft=g(wt),gr=1/S(wt),wr=yt-2*at*wt+wt*wt;wt-=kt=(Ft*wr+2*(wt-at))/(2+wr*gr*gr+2*(wt-at)*Ft)}while(P(kt)>h&&--zt>0);return Ft=g(wt),[(P(at)<P(wt+1/Ft)?E(Ze*Ft):u(at)*u(Ze)*(b(P(Ze*Ft))+a))/l(wt),wt]};function th(){return(0,m.c)(Bu).scale(103.74)}var Kf=e(13696),hf=e(27284);function vf(Ze,at){var yt=Uu(Ze[1],Ze[0]),wt=Uu(at[1],at[0]),zt=Vu(yt,wt),kt=au(yt)/au(wt);return kl([1,0,Ze[0][0],0,1,Ze[0][1]],kl([kt,0,0,0,kt,0],kl([S(zt),l(zt),0,-l(zt),S(zt),0],[1,0,-at[0][0],0,1,-at[0][1]])))}function df(Ze){var at=1/(Ze[0]*Ze[4]-Ze[1]*Ze[3]);return[at*Ze[4],-at*Ze[1],at*(Ze[1]*Ze[5]-Ze[2]*Ze[4]),-at*Ze[3],at*Ze[0],at*(Ze[2]*Ze[3]-Ze[0]*Ze[5])]}function kl(Ze,at){return[Ze[0]*at[0]+Ze[1]*at[3],Ze[0]*at[1]+Ze[1]*at[4],Ze[0]*at[2]+Ze[1]*at[5]+Ze[2],Ze[3]*at[0]+Ze[4]*at[3],Ze[3]*at[1]+Ze[4]*at[4],Ze[3]*at[2]+Ze[4]*at[5]+Ze[5]]}function Uu(Ze,at){return[Ze[0]-at[0],Ze[1]-at[1]]}function au(Ze){return I(Ze[0]*Ze[0]+Ze[1]*Ze[1])}function Vu(Ze,at){return L(Ze[0]*at[1]-Ze[1]*at[0],Ze[0]*at[0]+Ze[1]*at[1])}function yi(Ze,at,yt){wt(Ze,{transform:null});function wt(ar,Sr){if(ar.edges=pf(ar.face),Sr.face){var Dr=ar.shared=Qf(ar.face,Sr.face),Ur=vf(Dr.map(Sr.project),Dr.map(ar.project));ar.transform=Sr.transform?kl(Sr.transform,Ur):Ur;for(var on=Sr.edges,xn=0,_n=on.length;xn<_n;++xn)Jo(Dr[0],on[xn][1])&&Jo(Dr[1],on[xn][0])&&(on[xn]=ar),Jo(Dr[0],on[xn][0])&&Jo(Dr[1],on[xn][1])&&(on[xn]=ar);for(on=ar.edges,xn=0,_n=on.length;xn<_n;++xn)Jo(Dr[0],on[xn][0])&&Jo(Dr[1],on[xn][1])&&(on[xn]=Sr),Jo(Dr[0],on[xn][1])&&Jo(Dr[1],on[xn][0])&&(on[xn]=Sr)}else ar.transform=Sr.transform;return ar.children&&ar.children.forEach(function(Dn){wt(Dn,ar)}),ar}function zt(ar,Sr){var Dr=at(ar,Sr),Ur=Dr.project([ar*M,Sr*M]),on;return(on=Dr.transform)?[on[0]*Ur[0]+on[1]*Ur[1]+on[2],-(on[3]*Ur[0]+on[4]*Ur[1]+on[5])]:(Ur[1]=-Ur[1],Ur)}ol(Ze)&&(zt.invert=function(ar,Sr){var Dr=kt(Ze,[ar,-Sr]);return Dr&&(Dr[0]*=A,Dr[1]*=A,Dr)});function kt(ar,Sr){var Dr=ar.project.invert,Ur=ar.transform,on=Sr;if(Ur&&(Ur=df(Ur),on=[Ur[0]*on[0]+Ur[1]*on[1]+Ur[2],Ur[3]*on[0]+Ur[4]*on[1]+Ur[5]]),Dr&&ar===Ft(xn=Dr(on)))return xn;for(var xn,_n=ar.children,Dn=0,Zn=_n&&_n.length;Dn<Zn;++Dn)if(xn=kt(_n[Dn],Sr))return xn}function Ft(ar){return at(ar[0]*A,ar[1]*A)}var gr=(0,m.c)(zt),wr=gr.stream;return gr.stream=function(ar){var Sr=gr.rotate(),Dr=wr(ar),Ur=(gr.rotate([0,0]),wr(ar));return gr.rotate(Sr),Dr.sphere=function(){Ur.polygonStart(),Ur.lineStart(),Jf(Ur,Ze),Ur.lineEnd(),Ur.polygonEnd()},Dr},gr.angle(yt==null?-30:yt*M)}function Jf(Ze,at,yt){var wt,zt=at.edges,kt=zt.length,Ft,gr={type:"MultiPoint",coordinates:at.face},wr=at.face.filter(function(_n){return P(_n[1])!==90}),ar=(0,Kf.c)({type:"MultiPoint",coordinates:wr}),Sr=!1,Dr=-1,Ur=ar[1][0]-ar[0][0],on=Ur===180||Ur===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,ze.c)(gr);if(yt)for(;++Dr<kt&&zt[Dr]!==yt;);++Dr;for(var xn=0;xn<kt;++xn)Ft=zt[(xn+Dr)%kt],Array.isArray(Ft)?(Sr||(Ze.point((wt=(0,hf.c)(Ft[0],on)(h))[0],wt[1]),Sr=!0),Ze.point((wt=(0,hf.c)(Ft[1],on)(h))[0],wt[1])):(Sr=!1,Ft!==yt&&Jf(Ze,Ft,at))}function Jo(Ze,at){return Ze&&at&&Ze[0]===at[0]&&Ze[1]===at[1]}function Qf(Ze,at){for(var yt,wt,zt=Ze.length,kt=null,Ft=0;Ft<zt;++Ft){yt=Ze[Ft];for(var gr=at.length;--gr>=0;)if(wt=at[gr],yt[0]===wt[0]&&yt[1]===wt[1]){if(kt)return[kt,yt];kt=yt}}}function pf(Ze){for(var at=Ze.length,yt=[],wt=Ze[at-1],zt=0;zt<at;++zt)yt.push([wt,wt=Ze[zt]]);return yt}function ol(Ze){return Ze.project.invert||Ze.children&&Ze.children.some(ol)}var Vs=e(53285),Hu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ki=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ze){return Ze.map(function(at){return Hu[at]})});function iu(Ze){Ze=Ze||function(yt){var wt=(0,ze.c)({type:"MultiPoint",coordinates:yt});return(0,Vs.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var at=ki.map(function(yt){return{face:yt,project:Ze(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,wt){var zt=at[yt];zt&&(zt.children||(zt.children=[])).push(at[wt])}),yi(at[0],function(yt,wt){return at[yt<-c/2?wt<0?6:4:yt<0?wt<0?2:0:yt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Qo=2/I(3);function Es(Ze,at){var yt=me(Ze,at);return[yt[0]*Qo,yt[1]]}Es.invert=function(Ze,at){return me.invert(Ze/Qo,at)};function sl(Ze){Ze=Ze||function(yt){var wt=(0,ze.c)({type:"MultiPoint",coordinates:yt});return(0,m.c)(Es).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var at=ki.map(function(yt){return{face:yt,project:Ze(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,wt){var zt=at[yt];zt&&(zt.children||(zt.children=[])).push(at[wt])}),yi(at[0],function(yt,wt){return at[yt<-c/2?wt<0?6:4:yt<0?wt<0?2:0:yt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Hs(Ze){Ze=Ze||function(Ft){var gr=Ft.length===6?(0,ze.c)({type:"MultiPoint",coordinates:Ft}):Ft[0];return(0,Vs.c)().scale(1).translate([0,0]).rotate([-gr[0],-gr[1]])};var at=ki.map(function(Ft){for(var gr=Ft.map(Vo),wr=gr.length,ar=gr[wr-1],Sr,Dr=[],Ur=0;Ur<wr;++Ur)Sr=gr[Ur],Dr.push(qo([ar[0]*.9486832980505138+Sr[0]*.31622776601683794,ar[1]*.9486832980505138+Sr[1]*.31622776601683794,ar[2]*.9486832980505138+Sr[2]*.31622776601683794]),qo([Sr[0]*.9486832980505138+ar[0]*.31622776601683794,Sr[1]*.9486832980505138+ar[1]*.31622776601683794,Sr[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Sr;return Dr}),yt=[],wt=[-1,0,0,1,0,1,4,5];at.forEach(function(Ft,gr){for(var wr=ki[gr],ar=wr.length,Sr=yt[gr]=[],Dr=0;Dr<ar;++Dr)at.push([wr[Dr],Ft[(Dr*2+2)%(2*ar)],Ft[(Dr*2+1)%(2*ar)]]),wt.push(gr),Sr.push(Cs(Vo(Ft[(Dr*2+2)%(2*ar)]),Vo(Ft[(Dr*2+1)%(2*ar)])))});var zt=at.map(function(Ft){return{project:Ze(Ft),face:Ft}});wt.forEach(function(Ft,gr){var wr=zt[Ft];wr&&(wr.children||(wr.children=[])).push(zt[gr])});function kt(Ft,gr){var wr=S(gr),ar=[wr*S(Ft),wr*l(Ft),l(gr)],Sr=Ft<-c/2?gr<0?6:4:Ft<0?gr<0?2:0:Ft<c/2?gr<0?3:1:gr<0?7:5,Dr=yt[Sr];return zt[$o(Dr[0],ar)<0?8+3*Sr:$o(Dr[1],ar)<0?8+3*Sr+1:$o(Dr[2],ar)<0?8+3*Sr+2:Sr]}return yi(zt[0],kt).angle(-30).scale(110.625).center([0,45])}function $o(Ze,at){for(var yt=0,wt=Ze.length,zt=0;yt<wt;++yt)zt+=Ze[yt]*at[yt];return zt}function Cs(Ze,at){return[Ze[1]*at[2]-Ze[2]*at[1],Ze[2]*at[0]-Ze[0]*at[2],Ze[0]*at[1]-Ze[1]*at[0]]}function qo(Ze){return[L(Ze[1],Ze[0])*M,E(t(-1,i(1,Ze[2])))*M]}function Vo(Ze){var at=Ze[0]*A,yt=Ze[1]*A,wt=S(yt);return[wt*S(at),wt*l(at),l(yt)]}function ou(){}function rh(Ze){if((yt=Ze.length)<4)return!1;for(var at=0,yt,wt=Ze[yt-1][1]*Ze[0][0]-Ze[yt-1][0]*Ze[0][1];++at<yt;)wt+=Ze[at-1][1]*Ze[at][0]-Ze[at-1][0]*Ze[at][1];return wt<=0}function nh(Ze,at){for(var yt=at[0],wt=at[1],zt=!1,kt=0,Ft=Ze.length,gr=Ft-1;kt<Ft;gr=kt++){var wr=Ze[kt],ar=wr[0],Sr=wr[1],Dr=Ze[gr],Ur=Dr[0],on=Dr[1];Sr>wt^on>wt&&yt<(Ur-ar)*(wt-Sr)/(on-Sr)+ar&&(zt=!zt)}return zt}function ah(Ze,at){var yt=at.stream,wt;if(!yt)throw new Error("invalid projection");switch(Ze&&Ze.type){case"Feature":wt=gf;break;case"FeatureCollection":wt=ih;break;default:wt=zl;break}return wt(Ze,yt)}function ih(Ze,at){return{type:"FeatureCollection",features:Ze.features.map(function(yt){return gf(yt,at)})}}function gf(Ze,at){return{type:"Feature",id:Ze.id,properties:Ze.properties,geometry:zl(Ze.geometry,at)}}function $f(Ze,at){return{type:"GeometryCollection",geometries:Ze.geometries.map(function(yt){return zl(yt,at)})}}function zl(Ze,at){if(!Ze)return null;if(Ze.type==="GeometryCollection")return $f(Ze,at);var yt;switch(Ze.type){case"Point":yt=Ol;break;case"MultiPoint":yt=Ol;break;case"LineString":yt=qf;break;case"MultiLineString":yt=qf;break;case"Polygon":yt=su;break;case"MultiPolygon":yt=su;break;case"Sphere":yt=su;break;default:return null}return(0,ha.c)(Ze,at(yt)),yt.result()}var Qi=[],Oo=[],Ol={point:function(Ze,at){Qi.push([Ze,at])},result:function(){var Ze=Qi.length?Qi.length<2?{type:"Point",coordinates:Qi[0]}:{type:"MultiPoint",coordinates:Qi}:null;return Qi=[],Ze}},qf={lineStart:ou,point:function(Ze,at){Qi.push([Ze,at])},lineEnd:function(){Qi.length&&(Oo.push(Qi),Qi=[])},result:function(){var Ze=Oo.length?Oo.length<2?{type:"LineString",coordinates:Oo[0]}:{type:"MultiLineString",coordinates:Oo}:null;return Oo=[],Ze}},su={polygonStart:ou,lineStart:ou,point:function(Ze,at){Qi.push([Ze,at])},lineEnd:function(){var Ze=Qi.length;if(Ze){do Qi.push(Qi[0].slice());while(++Ze<4);Oo.push(Qi),Qi=[]}},polygonEnd:ou,result:function(){if(!Oo.length)return null;var Ze=[],at=[];return Oo.forEach(function(yt){rh(yt)?Ze.push([yt]):at.push(yt)}),at.forEach(function(yt){var wt=yt[0];Ze.some(function(zt){if(nh(zt[0],wt))return zt.push(yt),!0})||Ze.push([yt])}),Oo=[],Ze.length?Ze.length>1?{type:"MultiPolygon",coordinates:Ze}:{type:"Polygon",coordinates:Ze[0]}:null}};function Ls(Ze){var at=Ze(a,0)[0]-Ze(-a,0)[0];function yt(wt,zt){var kt=P(wt)<a,Ft=Ze(kt?wt:wt>0?wt-c:wt+c,zt),gr=(Ft[0]-Ft[1])*x,wr=(Ft[0]+Ft[1])*x;if(kt)return[gr,wr];var ar=at*x,Sr=gr>0^wr>0?-1:1;return[Sr*gr-u(wr)*ar,Sr*wr-u(gr)*ar]}return Ze.invert&&(yt.invert=function(wt,zt){var kt=(wt+zt)*x,Ft=(zt-wt)*x,gr=P(kt)<.5*at&&P(Ft)<.5*at;if(!gr){var wr=at*x,ar=kt>0^Ft>0?-1:1,Sr=-ar*wt+(Ft>0?1:-1)*wr,Dr=-ar*zt+(kt>0?1:-1)*wr;kt=(-Sr-Dr)*x,Ft=(Sr-Dr)*x}var Ur=Ze.invert(kt,Ft);return gr||(Ur[0]+=kt>0?c:-c),Ur}),(0,m.c)(yt).rotate([-90,-90,45]).clipAngle(179.999)}function oh(){return Ls(Mn).scale(176.423)}function ec(){return Ls(mr).scale(111.48)}function tc(Ze,at){if(!(0<=(at=+at)&&at<=20))throw new Error("invalid digits");function yt(ar){var Sr=ar.length,Dr=2,Ur=new Array(Sr);for(Ur[0]=+ar[0].toFixed(at),Ur[1]=+ar[1].toFixed(at);Dr<Sr;)Ur[Dr]=ar[Dr],++Dr;return Ur}function wt(ar){return ar.map(yt)}function zt(ar){for(var Sr=yt(ar[0]),Dr=[Sr],Ur=1;Ur<ar.length;Ur++){var on=yt(ar[Ur]);(on.length>2||on[0]!=Sr[0]||on[1]!=Sr[1])&&(Dr.push(on),Sr=on)}return Dr.length===1&&ar.length>1&&Dr.push(yt(ar[ar.length-1])),Dr}function kt(ar){return ar.map(zt)}function Ft(ar){if(ar==null)return ar;var Sr;switch(ar.type){case"GeometryCollection":Sr={type:"GeometryCollection",geometries:ar.geometries.map(Ft)};break;case"Point":Sr={type:"Point",coordinates:yt(ar.coordinates)};break;case"MultiPoint":Sr={type:ar.type,coordinates:wt(ar.coordinates)};break;case"LineString":Sr={type:ar.type,coordinates:zt(ar.coordinates)};break;case"MultiLineString":case"Polygon":Sr={type:ar.type,coordinates:kt(ar.coordinates)};break;case"MultiPolygon":Sr={type:"MultiPolygon",coordinates:ar.coordinates.map(kt)};break;default:return ar}return ar.bbox!=null&&(Sr.bbox=ar.bbox),Sr}function gr(ar){var Sr={type:"Feature",properties:ar.properties,geometry:Ft(ar.geometry)};return ar.id!=null&&(Sr.id=ar.id),ar.bbox!=null&&(Sr.bbox=ar.bbox),Sr}if(Ze!=null)switch(Ze.type){case"Feature":return gr(Ze);case"FeatureCollection":{var wr={type:"FeatureCollection",features:Ze.features.map(gr)};return Ze.bbox!=null&&(wr.bbox=Ze.bbox),wr}default:return Ft(Ze)}return Ze}function yf(Ze){var at=l(Ze);function yt(wt,zt){var kt=at?g(wt*at/2)/at:wt/2;if(!zt)return[2*kt,-Ze];var Ft=2*s(kt*l(zt)),gr=1/g(zt);return[l(Ft)*gr,zt+(1-S(Ft))*gr-Ze]}return yt.invert=function(wt,zt){if(P(zt+=Ze)<h)return[at?2*s(at*wt/2)/at:wt,0];var kt=wt*wt+zt*zt,Ft=0,gr=10,wr;do{var ar=g(Ft),Sr=1/S(Ft),Dr=kt-2*zt*Ft+Ft*Ft;Ft-=wr=(ar*Dr+2*(Ft-zt))/(2+Dr*Sr*Sr+2*(Ft-zt)*ar)}while(P(wr)>h&&--gr>0);var Ur=wt*(ar=g(Ft)),on=g(P(zt)<P(Ft+1/ar)?E(Ur)*.5:b(Ur)*.5+c/4)/l(Ft);return[at?2*s(at*on)/at:2*on,Ft]},yt}function rc(){return it(yf).scale(131.215)}var wo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];wo.forEach(function(Ze){Ze[1]*=1.0144});function es(Ze,at){var yt=i(18,P(at)*36/c),wt=p(yt),zt=yt-wt,kt=(Dr=wo[wt])[0],Ft=Dr[1],gr=(Dr=wo[++wt])[0],wr=Dr[1],ar=(Dr=wo[i(19,++wt)])[0],Sr=Dr[1],Dr;return[Ze*(gr+zt*(ar-kt)/2+zt*zt*(ar-2*gr+kt)/2),(at>0?a:-a)*(wr+zt*(Sr-Ft)/2+zt*zt*(Sr-2*wr+Ft)/2)]}es.invert=function(Ze,at){var yt=at/a,wt=yt*90,zt=i(18,P(wt/5)),kt=t(0,p(zt));do{var Ft=wo[kt][1],gr=wo[kt+1][1],wr=wo[i(19,kt+2)][1],ar=wr-Ft,Sr=wr-2*gr+Ft,Dr=2*(P(yt)-gr)/ar,Ur=Sr/ar,on=Dr*(1-Ur*Dr*(1-2*Ur*Dr));if(on>=0||kt===1){wt=(at>=0?5:-5)*(on+zt);var xn=50,_n;do zt=i(18,P(wt)/5),kt=p(zt),on=zt-kt,Ft=wo[kt][1],gr=wo[kt+1][1],wr=wo[i(19,kt+2)][1],wt-=(_n=(at>=0?a:-a)*(gr+on*(wr-Ft)/2+on*on*(wr-2*gr+Ft)/2)-at)*M;while(P(_n)>T&&--xn>0);break}}while(--kt>=0);var Dn=wo[kt][0],Zn=wo[kt+1][0],Ra=wo[i(19,kt+2)][0];return[Ze/(Zn+on*(Ra-Dn)/2+on*on*(Ra-2*Zn+Dn)/2),wt*A]};function Gs(){return(0,m.c)(es).scale(152.63)}function Fl(Ze){function at(yt,wt){var zt=S(wt),kt=(Ze-1)/(Ze-zt*S(yt));return[kt*zt*l(yt),kt*l(wt)]}return at.invert=function(yt,wt){var zt=yt*yt+wt*wt,kt=I(zt),Ft=(Ze-I(1-zt*(Ze+1)/(Ze-1)))/((Ze-1)/kt+kt/(Ze-1));return[L(yt*Ft,kt*I(1-Ft*Ft)),kt?E(wt*Ft/kt):0]},at}function Gu(Ze,at){var yt=Fl(Ze);if(!at)return yt;var wt=S(at),zt=l(at);function kt(Ft,gr){var wr=yt(Ft,gr),ar=wr[1],Sr=ar*zt/(Ze-1)+wt;return[wr[0]*wt/Sr,ar/Sr]}return kt.invert=function(Ft,gr){var wr=(Ze-1)/(Ze-1-gr*zt);return yt.invert(wr*Ft,wr*gr*wt)},kt}function ll(){var Ze=2,at=0,yt=(0,m.U)(Gu),wt=yt(Ze,at);return wt.distance=function(zt){return arguments.length?yt(Ze=+zt,at):Ze},wt.tilt=function(zt){return arguments.length?yt(Ze,at=zt*A):at*M},wt.scale(432.147).clipAngle(b(1/Ze)*M-1e-6)}var ul=1e-4,nc=1e4,Ps=-180,Nl=Ps+ul,Ws=180,_s=Ws-ul,lu=-90,Bl=lu+ul,vi=90,Ul=vi-ul;function Wu(Ze){return Ze.length>0}function ac(Ze){return Math.floor(Ze*nc)/nc}function Vl(Ze){return Ze===lu||Ze===vi?[0,Ze]:[Ps,ac(Ze)]}function uu(Ze){var at=Ze[0],yt=Ze[1],wt=!1;return at<=Nl?(at=Ps,wt=!0):at>=_s&&(at=Ws,wt=!0),yt<=Bl?(yt=lu,wt=!0):yt>=Ul&&(yt=vi,wt=!0),wt?[at,yt]:Ze}function Yu(Ze){return Ze.map(uu)}function mf(Ze,at,yt){for(var wt=0,zt=Ze.length;wt<zt;++wt){var kt=Ze[wt].slice();yt.push({index:-1,polygon:at,ring:kt});for(var Ft=0,gr=kt.length;Ft<gr;++Ft){var wr=kt[Ft],ar=wr[0],Sr=wr[1];if(ar<=Nl||ar>=_s||Sr<=Bl||Sr>=Ul){kt[Ft]=uu(wr);for(var Dr=Ft+1;Dr<gr;++Dr){var Ur=kt[Dr],on=Ur[0],xn=Ur[1];if(on>Nl&&on<_s&&xn>Bl&&xn<Ul)break}if(Dr===Ft+1)continue;if(Ft){var _n={index:-1,polygon:at,ring:kt.slice(0,Ft+1)};_n.ring[_n.ring.length-1]=Vl(Sr),yt[yt.length-1]=_n}else yt.pop();if(Dr>=gr)break;yt.push({index:-1,polygon:at,ring:kt=kt.slice(Dr-1)}),kt[0]=Vl(kt[0][1]),Ft=-1,gr=kt.length}}}}function fu(Ze){var at,yt=Ze.length,wt={},zt={},kt,Ft,gr,wr,ar;for(at=0;at<yt;++at){if(kt=Ze[at],Ft=kt.ring[0],wr=kt.ring[kt.ring.length-1],Ft[0]===wr[0]&&Ft[1]===wr[1]){kt.polygon.push(kt.ring),Ze[at]=null;continue}kt.index=at,wt[Ft]=zt[wr]=kt}for(at=0;at<yt;++at)if(kt=Ze[at],kt){if(Ft=kt.ring[0],wr=kt.ring[kt.ring.length-1],gr=zt[Ft],ar=wt[wr],delete wt[Ft],delete zt[wr],Ft[0]===wr[0]&&Ft[1]===wr[1]){kt.polygon.push(kt.ring);continue}gr?(delete zt[Ft],delete wt[gr.ring[0]],gr.ring.pop(),Ze[gr.index]=null,kt={index:-1,polygon:gr.polygon,ring:gr.ring.concat(kt.ring)},gr===ar?kt.polygon.push(kt.ring):(kt.index=yt++,Ze.push(wt[kt.ring[0]]=zt[kt.ring[kt.ring.length-1]]=kt))):ar?(delete wt[wr],delete zt[ar.ring[ar.ring.length-1]],kt.ring.pop(),kt={index:yt++,polygon:ar.polygon,ring:kt.ring.concat(ar.ring)},Ze[ar.index]=null,Ze.push(wt[kt.ring[0]]=zt[kt.ring[kt.ring.length-1]]=kt)):(kt.ring.push(kt.ring[0]),kt.polygon.push(kt.ring))}}function cu(Ze){var at={type:"Feature",geometry:Ys(Ze.geometry)};return Ze.id!=null&&(at.id=Ze.id),Ze.bbox!=null&&(at.bbox=Ze.bbox),Ze.properties!=null&&(at.properties=Ze.properties),at}function Ys(Ze){if(Ze==null)return Ze;var at,yt,wt,zt;switch(Ze.type){case"GeometryCollection":at={type:"GeometryCollection",geometries:Ze.geometries.map(Ys)};break;case"Point":at={type:"Point",coordinates:uu(Ze.coordinates)};break;case"MultiPoint":case"LineString":at={type:Ze.type,coordinates:Yu(Ze.coordinates)};break;case"MultiLineString":at={type:"MultiLineString",coordinates:Ze.coordinates.map(Yu)};break;case"Polygon":{var kt=[];mf(Ze.coordinates,kt,yt=[]),fu(yt),at={type:"Polygon",coordinates:kt};break}case"MultiPolygon":{yt=[],wt=-1,zt=Ze.coordinates.length;for(var Ft=new Array(zt);++wt<zt;)mf(Ze.coordinates[wt],Ft[wt]=[],yt);fu(yt),at={type:"MultiPolygon",coordinates:Ft.filter(Wu)};break}default:return Ze}return Ze.bbox!=null&&(at.bbox=Ze.bbox),at}function hu(Ze){if(Ze==null)return Ze;switch(Ze.type){case"Feature":return cu(Ze);case"FeatureCollection":{var at={type:"FeatureCollection",features:Ze.features.map(cu)};return Ze.bbox!=null&&(at.bbox=Ze.bbox),at}default:return Ys(Ze)}}function js(Ze,at){var yt=g(at/2),wt=l(d*yt);return[Ze*(.74482-.34588*wt*wt),1.70711*yt]}js.invert=function(Ze,at){var yt=at/1.70711,wt=l(d*yt);return[Ze/(.74482-.34588*wt*wt),2*s(yt)]};function Gi(){return(0,m.c)(js).scale(146.153)}function ds(Ze,at,yt){var wt=(0,hf.c)(at,yt),zt=wt(.5),kt=(0,He.c)([-zt[0],-zt[1]])(at),Ft=wt.distance/2,gr=-E(l(kt[1]*A)/l(Ft)),wr=[-zt[0],-zt[1],-(kt[0]>0?c-gr:gr)*M],ar=(0,m.c)(Ze(Ft)).rotate(wr),Sr=(0,He.c)(wr),Dr=ar.center;return delete ar.rotate,ar.center=function(Ur){return arguments.length?Dr(Sr(Ur)):Sr.invert(Dr())},ar.clipAngle(90)}function xf(Ze){var at=S(Ze);function yt(wt,zt){var kt=(0,Vs.Y)(wt,zt);return kt[0]*=at,kt}return yt.invert=function(wt,zt){return Vs.Y.invert(wt/at,zt)},yt}function fl(){return ju([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ju(Ze,at){return ds(xf,Ze,at)}function vu(Ze){if(!(Ze*=2))return oe.O;var at=-Ze/2,yt=-at,wt=Ze*Ze,zt=g(yt),kt=.5/l(yt);function Ft(gr,wr){var ar=b(S(wr)*S(gr-at)),Sr=b(S(wr)*S(gr-yt)),Dr=wr<0?-1:1;return ar*=ar,Sr*=Sr,[(ar-Sr)/(2*Ze),Dr*I(4*wt*Sr-(wt-ar+Sr)*(wt-ar+Sr))/(2*Ze)]}return Ft.invert=function(gr,wr){var ar=wr*wr,Sr=S(I(ar+(Ur=gr+at)*Ur)),Dr=S(I(ar+(Ur=gr+yt)*Ur)),Ur,on;return[L(on=Sr-Dr,Ur=(Sr+Dr)*zt),(wr<0?-1:1)*b(I(Ur*Ur+on*on)*kt)]},Ft}function sh(){return ic([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ic(Ze,at){return ds(vu,Ze,at)}function po(Ze,at){if(P(at)<h)return[Ze,0];var yt=P(at/a),wt=E(yt);if(P(Ze)<h||P(P(at)-a)<h)return[0,u(at)*c*g(wt/2)];var zt=S(wt),kt=P(c/Ze-Ze/c)/2,Ft=kt*kt,gr=zt/(yt+zt-1),wr=gr*(2/yt-1),ar=wr*wr,Sr=ar+Ft,Dr=gr-ar,Ur=Ft+gr;return[u(Ze)*c*(kt*Dr+I(Ft*Dr*Dr-Sr*(gr*gr-ar)))/Sr,u(at)*c*(wr*Ur-kt*I((Ft+1)*Sr-Ur*Ur))/Sr]}po.invert=function(Ze,at){if(P(at)<h)return[Ze,0];if(P(Ze)<h)return[0,a*l(2*s(at/c))];var yt=(Ze/=c)*Ze,wt=(at/=c)*at,zt=yt+wt,kt=zt*zt,Ft=-P(at)*(1+zt),gr=Ft-2*wt+yt,wr=-2*Ft+1+2*wt+kt,ar=wt/wr+(2*gr*gr*gr/(wr*wr*wr)-9*Ft*gr/(wr*wr))/27,Sr=(Ft-gr*gr/(3*wr))/wr,Dr=2*I(-Sr/3),Ur=b(3*ar/(Sr*Dr))/3;return[c*(zt-1+I(1+2*(yt-wt)+kt))/(2*Ze),u(at)*c*(-Dr*S(Ur+c/3)-gr/(3*wr))]};function du(){return(0,m.c)(po).scale(79.4183)}function Hl(Ze,at){if(P(at)<h)return[Ze,0];var yt=P(at/a),wt=E(yt);if(P(Ze)<h||P(P(at)-a)<h)return[0,u(at)*c*g(wt/2)];var zt=S(wt),kt=P(c/Ze-Ze/c)/2,Ft=kt*kt,gr=zt*(I(1+Ft)-kt*zt)/(1+Ft*yt*yt);return[u(Ze)*c*gr,u(at)*c*I(1-gr*(2*kt+gr))]}Hl.invert=function(Ze,at){if(!Ze)return[0,a*l(2*s(at/c))];var yt=P(Ze/c),wt=(1-yt*yt-(at/=c)*at)/(2*yt),zt=wt*wt,kt=I(zt+1);return[u(Ze)*c*(kt-wt),u(at)*a*l(2*L(I((1-2*wt*yt)*(wt+kt)-yt),I(kt+wt+yt)))]};function oc(){return(0,m.c)(Hl).scale(79.4183)}function Xs(Ze,at){if(P(at)<h)return[Ze,0];var yt=at/a,wt=E(yt);if(P(Ze)<h||P(P(at)-a)<h)return[0,c*g(wt/2)];var zt=(c/Ze-Ze/c)/2,kt=yt/(1+S(wt));return[c*(u(Ze)*I(zt*zt+1-kt*kt)-zt),c*kt]}Xs.invert=function(Ze,at){if(!at)return[Ze,0];var yt=at/c,wt=(c*c*(1-yt*yt)-Ze*Ze)/(2*c*Ze);return[Ze?c*(u(Ze)*I(wt*wt+1)-wt):0,a*l(2*s(yt))]};function lh(){return(0,m.c)(Xs).scale(79.4183)}function _o(Ze,at){if(!at)return[Ze,0];var yt=P(at);if(!Ze||yt===a)return[0,at];var wt=yt/a,zt=wt*wt,kt=(8*wt-zt*(zt+2)-5)/(2*zt*(wt-1)),Ft=kt*kt,gr=wt*kt,wr=zt+Ft+2*gr,ar=wt+3*kt,Sr=Ze/a,Dr=Sr+1/Sr,Ur=u(P(Ze)-a)*I(Dr*Dr-4),on=Ur*Ur,xn=wr*(zt+Ft*on-1)+(1-zt)*(zt*(ar*ar+4*Ft)+12*gr*Ft+4*Ft*Ft),_n=(Ur*(wr+Ft-1)+2*I(xn))/(4*wr+on);return[u(Ze)*a*_n,u(at)*a*I(1+Ur*P(_n)-_n*_n)]}_o.invert=function(Ze,at){var yt;if(!Ze||!at)return[Ze,at];at/=c;var wt=u(Ze)*Ze/a,zt=(wt*wt-1+4*at*at)/P(wt),kt=zt*zt,Ft=2*at,gr=50;do{var wr=Ft*Ft,ar=(8*Ft-wr*(wr+2)-5)/(2*wr*(Ft-1)),Sr=(3*Ft-wr*Ft-10)/(2*wr*Ft),Dr=ar*ar,Ur=Ft*ar,on=Ft+ar,xn=on*on,_n=Ft+3*ar,Dn=xn*(wr+Dr*kt-1)+(1-wr)*(wr*(_n*_n+4*Dr)+Dr*(12*Ur+4*Dr)),Zn=-2*on*(4*Ur*Dr+(1-4*wr+3*wr*wr)*(1+Sr)+Dr*(-6+14*wr-kt+(-8+8*wr-2*kt)*Sr)+Ur*(-8+12*wr+(-10+10*wr-kt)*Sr)),Ra=I(Dn),Da=zt*(xn+Dr-1)+2*Ra-wt*(4*xn+kt),ka=zt*(2*ar*Sr+2*on*(1+Sr))+Zn/Ra-8*on*(zt*(-1+Dr+xn)+2*Ra)*(1+Sr)/(kt+4*xn);Ft-=yt=Da/ka}while(yt>h&&--gr>0);return[u(Ze)*(I(zt*zt+4)+zt)*c/4,a*Ft]};function pu(){return(0,m.c)(_o).scale(127.16)}function Xu(Ze,at,yt,wt,zt){function kt(Ft,gr){var wr=yt*l(wt*gr),ar=I(1-wr*wr),Sr=I(2/(1+ar*S(Ft*=zt)));return[Ze*ar*Sr*l(Ft),at*wr*Sr]}return kt.invert=function(Ft,gr){var wr=Ft/Ze,ar=gr/at,Sr=I(wr*wr+ar*ar),Dr=2*E(Sr/2);return[L(Ft*g(Dr),Ze*Sr)/zt,Sr&&E(gr*l(Dr)/(at*yt*Sr))/wt]},kt}function Rs(Ze,at,yt,wt){var zt=c/3;Ze=t(Ze,h),at=t(at,h),Ze=i(Ze,a),at=i(at,c-h),yt=t(yt,0),yt=i(yt,100-h),wt=t(wt,h);var kt=yt/100+1,Ft=wt/100,gr=b(kt*S(zt))/zt,wr=l(Ze)/l(gr*a),ar=at/c,Sr=I(Ft*l(Ze/2)/l(at/2)),Dr=Sr/I(ar*wr*gr),Ur=1/(Sr*I(ar*wr*gr));return Xu(Dr,Ur,wr,gr,ar)}function Zs(){var Ze=65*A,at=60*A,yt=20,wt=200,zt=(0,m.U)(Rs),kt=zt(Ze,at,yt,wt);return kt.poleline=function(Ft){return arguments.length?zt(Ze=+Ft*A,at,yt,wt):Ze*M},kt.parallels=function(Ft){return arguments.length?zt(Ze,at=+Ft*A,yt,wt):at*M},kt.inflation=function(Ft){return arguments.length?zt(Ze,at,yt=+Ft,wt):yt},kt.ratio=function(Ft){return arguments.length?zt(Ze,at,yt,wt=+Ft):wt},kt.scale(163.775)}function bf(){return Zs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var gu=4*c+3*I(3),yu=2*I(2*c*I(3)/gu),Zu=Te(yu*I(3)/c,yu,gu/6);function sc(){return(0,m.c)(Zu).scale(176.84)}function mu(Ze,at){return[Ze*I(1-3*at*at/(c*c)),at]}mu.invert=function(Ze,at){return[Ze/I(1-3*at*at/(c*c)),at]};function wf(){return(0,m.c)(mu).scale(152.63)}function cl(Ze,at){var yt=S(at),wt=S(Ze)*yt,zt=1-wt,kt=S(Ze=L(l(Ze)*yt,-l(at))),Ft=l(Ze);return yt=I(1-wt*wt),[Ft*yt-kt*zt,-kt*yt-Ft*zt]}cl.invert=function(Ze,at){var yt=(Ze*Ze+at*at)/-2,wt=I(-yt*(2+yt)),zt=at*yt+Ze*wt,kt=Ze*yt-at*wt,Ft=I(kt*kt+zt*zt);return[L(wt*zt,Ft*(1+yt)),Ft?-E(wt*kt/Ft):0]};function Tf(){return(0,m.c)(cl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function xu(Ze,at){var yt=W(Ze,at);return[(yt[0]+Ze/a)/2,(yt[1]+at)/2]}xu.invert=function(Ze,at){var yt=Ze,wt=at,zt=25;do{var kt=S(wt),Ft=l(wt),gr=l(2*wt),wr=Ft*Ft,ar=kt*kt,Sr=l(yt),Dr=S(yt/2),Ur=l(yt/2),on=Ur*Ur,xn=1-ar*Dr*Dr,_n=xn?b(kt*Dr)*I(Dn=1/xn):Dn=0,Dn,Zn=.5*(2*_n*kt*Ur+yt/a)-Ze,Ra=.5*(_n*Ft+wt)-at,Da=.5*Dn*(ar*on+_n*kt*Dr*wr)+.5/a,ka=Dn*(Sr*gr/4-_n*Ft*Ur),Na=.125*Dn*(gr*Ur-_n*Ft*ar*Sr),Ka=.5*Dn*(wr*Dr+_n*on*kt)+.5,di=ka*Na-Ka*Da,zi=(Ra*ka-Zn*Ka)/di,ue=(Zn*Na-Ra*Da)/di;yt-=zi,wt-=ue}while((P(zi)>h||P(ue)>h)&&--zt>0);return[yt,wt]};function lc(){return(0,m.c)(xu).scale(158.837)}},88728:function(G,H,e){e.d(H,{c:function(){return m}});function m(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(S){L(s,S,this.t),L(this,s.s,this.s),this.s?this.t+=s.t:this.s=s.t},valueOf:function(){return this.s}};var s=new P;function L(S,v,p){var r=S.s=v+p,t=r-v,i=r-t;S.t=v-i+(p-t)}},95384:function(G,H,e){e.d(H,{cp:function(){return T},mQ:function(){return S},oB:function(){return f}});var m=e(88728),P=e(64528),s=e(70932),L=e(16016),S=(0,m.c)(),v=(0,m.c)(),p,r,t,i,n,f={point:s.c,lineStart:s.c,lineEnd:s.c,polygonStart:function(){S.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var c=+S;v.add(c<0?P.kD+c:c),this.lineStart=this.lineEnd=this.point=s.c},sphere:function(){v.add(P.kD)}};function u(){f.point=g}function l(){h(p,r)}function g(c,a){f.point=h,p=c,r=a,c*=P.qw,a*=P.qw,t=c,i=(0,P.W8)(a=a/2+P.wL),n=(0,P.g$)(a)}function h(c,a){c*=P.qw,a*=P.qw,a=a/2+P.wL;var d=c-t,x=d>=0?1:-1,w=x*d,C=(0,P.W8)(a),y=(0,P.g$)(a),M=n*y,A=i*C+M*(0,P.W8)(w),o=M*x*(0,P.g$)(w);S.add((0,P.WE)(o,A)),t=c,i=C,n=y}function T(c){return v.reset(),(0,L.c)(c,f),v*2}},13696:function(G,H,e){e.d(H,{c:function(){return E}});var m=e(88728),P=e(95384),s=e(84220),L=e(64528),S=e(16016),v,p,r,t,i,n,f,u,l=(0,m.c)(),g,h,T={point:c,lineStart:d,lineEnd:x,polygonStart:function(){T.point=w,T.lineStart=C,T.lineEnd=y,l.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),T.point=c,T.lineStart=d,T.lineEnd=x,P.mQ<0?(v=-(r=180),p=-(t=90)):l>L.Gg?t=90:l<-L.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(b,I){g.push(h=[v=b,r=b]),I<p&&(p=I),I>t&&(t=I)}function a(b,I){var D=(0,s.ux)([b*L.qw,I*L.qw]);if(u){var N=(0,s.CW)(u,D),k=[N[1],-N[0],0],O=(0,s.CW)(k,N);(0,s.cJ)(O),O=(0,s.G)(O);var F=b-i,z=F>0?1:-1,B=O[0]*L.oh*z,W,J=(0,L.a2)(F)>180;J^(z*i<B&&B<z*b)?(W=O[1]*L.oh,W>t&&(t=W)):(B=(B+360)%360-180,J^(z*i<B&&B<z*b)?(W=-O[1]*L.oh,W<p&&(p=W)):(I<p&&(p=I),I>t&&(t=I))),J?b<i?M(v,b)>M(v,r)&&(r=b):M(b,r)>M(v,r)&&(v=b):r>=v?(b<v&&(v=b),b>r&&(r=b)):b>i?M(v,b)>M(v,r)&&(r=b):M(b,r)>M(v,r)&&(v=b)}else g.push(h=[v=b,r=b]);I<p&&(p=I),I>t&&(t=I),u=D,i=b}function d(){T.point=a}function x(){h[0]=v,h[1]=r,T.point=c,u=null}function w(b,I){if(u){var D=b-i;l.add((0,L.a2)(D)>180?D+(D>0?360:-360):D)}else n=b,f=I;P.oB.point(b,I),a(b,I)}function C(){P.oB.lineStart()}function y(){w(n,f),P.oB.lineEnd(),(0,L.a2)(l)>L.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function M(b,I){return(I-=b)<0?I+360:I}function A(b,I){return b[0]-I[0]}function o(b,I){return b[0]<=b[1]?b[0]<=I&&I<=b[1]:I<b[0]||b[1]<I}function E(b){var I,D,N,k,O,F,z;if(t=r=-(v=p=1/0),g=[],(0,S.c)(b,T),D=g.length){for(g.sort(A),I=1,N=g[0],O=[N];I<D;++I)k=g[I],o(N,k[0])||o(N,k[1])?(M(N[0],k[1])>M(N[0],N[1])&&(N[1]=k[1]),M(k[0],N[1])>M(N[0],N[1])&&(N[0]=k[0])):O.push(N=k);for(F=-1/0,D=O.length-1,I=0,N=O[D];I<=D;N=k,++I)k=O[I],(z=M(N[1],k[0]))>F&&(F=z,v=k[0],r=N[1])}return g=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(G,H,e){e.d(H,{CW:function(){return S},Ez:function(){return L},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return s},wx:function(){return p}});var m=e(64528);function P(t){return[(0,m.WE)(t[1],t[0]),(0,m.qR)(t[2])]}function s(t){var i=t[0],n=t[1],f=(0,m.W8)(n);return[f*(0,m.W8)(i),f*(0,m.g$)(i),(0,m.g$)(n)]}function L(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function S(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function v(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function p(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,m._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},24052:function(G,H,e){e.d(H,{c:function(){return D}});var m=e(64528),P=e(70932),s=e(16016),L,S,v,p,r,t,i,n,f,u,l,g,h,T,c,a,d={sphere:P.c,point:x,lineStart:C,lineEnd:A,polygonStart:function(){d.lineStart=o,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=A}};function x(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k);w(O*(0,m.W8)(N),O*(0,m.g$)(N),(0,m.g$)(k))}function w(N,k,O){++L,v+=(N-v)/L,p+=(k-p)/L,r+=(O-r)/L}function C(){d.point=y}function y(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k);T=O*(0,m.W8)(N),c=O*(0,m.g$)(N),a=(0,m.g$)(k),d.point=M,w(T,c,a)}function M(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k),F=O*(0,m.W8)(N),z=O*(0,m.g$)(N),B=(0,m.g$)(k),W=(0,m.WE)((0,m._I)((W=c*B-a*z)*W+(W=a*F-T*B)*W+(W=T*z-c*F)*W),T*F+c*z+a*B);S+=W,t+=W*(T+(T=F)),i+=W*(c+(c=z)),n+=W*(a+(a=B)),w(T,c,a)}function A(){d.point=x}function o(){d.point=b}function E(){I(g,h),d.point=x}function b(N,k){g=N,h=k,N*=m.qw,k*=m.qw,d.point=I;var O=(0,m.W8)(k);T=O*(0,m.W8)(N),c=O*(0,m.g$)(N),a=(0,m.g$)(k),w(T,c,a)}function I(N,k){N*=m.qw,k*=m.qw;var O=(0,m.W8)(k),F=O*(0,m.W8)(N),z=O*(0,m.g$)(N),B=(0,m.g$)(k),W=c*B-a*z,J=a*F-T*B,re=T*z-c*F,ne=(0,m._I)(W*W+J*J+re*re),le=(0,m.qR)(ne),$=ne&&-le/ne;f+=$*W,u+=$*J,l+=$*re,S+=le,t+=le*(T+(T=F)),i+=le*(c+(c=z)),n+=le*(a+(a=B)),w(T,c,a)}function D(N){L=S=v=p=r=t=i=n=f=u=l=0,(0,s.c)(N,d);var k=f,O=u,F=l,z=k*k+O*O+F*F;return z<m.a8&&(k=t,O=i,F=n,S<m.Gg&&(k=v,O=p,F=r),z=k*k+O*O+F*F,z<m.a8)?[NaN,NaN]:[(0,m.WE)(O,k)*m.oh,(0,m.qR)(F/(0,m._I)(z))*m.oh]}},61780:function(G,H,e){e.d(H,{Q:function(){return S},c:function(){return p}});var m=e(84220);function P(r){return function(){return r}}var s=e(64528),L=e(92992);function S(r,t,i,n,f,u){if(i){var l=(0,s.W8)(t),g=(0,s.g$)(t),h=n*i;f==null?(f=t+n*s.kD,u=t-h/2):(f=v(l,f),u=v(l,u),(n>0?f<u:f>u)&&(f+=n*s.kD));for(var T,c=f;n>0?c>u:c<u;c-=h)T=(0,m.G)([l,-g*(0,s.W8)(c),-g*(0,s.g$)(c)]),r.point(T[0],T[1])}}function v(r,t){t=(0,m.ux)(t),t[0]-=r,(0,m.cJ)(t);var i=(0,s.mE)(-t[1]);return((-t[2]<0?-i:i)+s.kD-s.Gg)%s.kD}function p(){var r=P([0,0]),t=P(90),i=P(6),n,f,u={point:l};function l(h,T){n.push(h=f(h,T)),h[0]*=s.oh,h[1]*=s.oh}function g(){var h=r.apply(this,arguments),T=t.apply(this,arguments)*s.qw,c=i.apply(this,arguments)*s.qw;return n=[],f=(0,L.O)(-h[0]*s.qw,-h[1]*s.qw,0).invert,S(u,T,c,1),h={type:"Polygon",coordinates:[n]},n=f=null,h}return g.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),g):r},g.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),g):t},g.precision=function(h){return arguments.length?(i=typeof h=="function"?h:P(+h),g):i},g}},78284:function(G,H,e){var m=e(14229),P=e(64528);H.c=(0,m.c)(function(){return!0},s,S,[-P.pi,-P.or]);function s(v){var p=NaN,r=NaN,t=NaN,i;return{lineStart:function(){v.lineStart(),i=1},point:function(n,f){var u=n>0?P.pi:-P.pi,l=(0,P.a2)(n-p);(0,P.a2)(l-P.pi)<P.Gg?(v.point(p,r=(r+f)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),i=0):t!==u&&l>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-u)<P.Gg&&(n-=u*P.Gg),r=L(p,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),i=0),v.point(p=n,r=f),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-i}}}function L(v,p,r,t){var i,n,f=(0,P.g$)(v-r);return(0,P.a2)(f)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(i=(0,P.W8)(p))*(0,P.g$)(v))/(i*n*f)):(p+t)/2}function S(v,p,r,t){var i;if(v==null)i=r*P.or,t.point(-P.pi,i),t.point(0,i),t.point(P.pi,i),t.point(P.pi,0),t.point(P.pi,-i),t.point(0,-i),t.point(-P.pi,-i),t.point(-P.pi,0),t.point(-P.pi,i);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;i=r*n/2,t.point(-n,i),t.point(0,i),t.point(n,i)}else t.point(p[0],p[1])}},97208:function(G,H,e){e.d(H,{c:function(){return P}});var m=e(70932);function P(){var s=[],L;return{point:function(S,v,p){L.push([S,v,p])},lineStart:function(){s.push(L=[])},lineEnd:m.c,rejoin:function(){s.length>1&&s.push(s.pop().concat(s.shift()))},result:function(){var S=s;return s=[],L=null,S}}}},2728:function(G,H,e){e.d(H,{c:function(){return v}});var m=e(84220),P=e(61780),s=e(64528),L=e(41860),S=e(14229);function v(p){var r=(0,s.W8)(p),t=6*s.qw,i=r>0,n=(0,s.a2)(r)>s.Gg;function f(T,c,a,d){(0,P.Q)(d,p,t,a,T,c)}function u(T,c){return(0,s.W8)(T)*(0,s.W8)(c)>r}function l(T){var c,a,d,x,w;return{lineStart:function(){x=d=!1,w=1},point:function(C,y){var M=[C,y],A,o=u(C,y),E=i?o?0:h(C,y):o?h(C+(C<0?s.pi:-s.pi),y):0;if(!c&&(x=d=o)&&T.lineStart(),o!==d&&(A=g(c,M),(!A||(0,L.c)(c,A)||(0,L.c)(M,A))&&(M[2]=1)),o!==d)w=0,o?(T.lineStart(),A=g(M,c),T.point(A[0],A[1])):(A=g(c,M),T.point(A[0],A[1],2),T.lineEnd()),c=A;else if(n&&c&&i^o){var b;!(E&a)&&(b=g(M,c,!0))&&(w=0,i?(T.lineStart(),T.point(b[0][0],b[0][1]),T.point(b[1][0],b[1][1]),T.lineEnd()):(T.point(b[1][0],b[1][1]),T.lineEnd(),T.lineStart(),T.point(b[0][0],b[0][1],3)))}o&&(!c||!(0,L.c)(c,M))&&T.point(M[0],M[1]),c=M,d=o,a=E},lineEnd:function(){d&&T.lineEnd(),c=null},clean:function(){return w|(x&&d)<<1}}}function g(T,c,a){var d=(0,m.ux)(T),x=(0,m.ux)(c),w=[1,0,0],C=(0,m.CW)(d,x),y=(0,m.Ez)(C,C),M=C[0],A=y-M*M;if(!A)return!a&&T;var o=r*y/A,E=-r*M/A,b=(0,m.CW)(w,C),I=(0,m.wx)(w,o),D=(0,m.wx)(C,E);(0,m.mg)(I,D);var N=b,k=(0,m.Ez)(I,N),O=(0,m.Ez)(N,N),F=k*k-O*((0,m.Ez)(I,I)-1);if(!(F<0)){var z=(0,s._I)(F),B=(0,m.wx)(N,(-k-z)/O);if((0,m.mg)(B,I),B=(0,m.G)(B),!a)return B;var W=T[0],J=c[0],re=T[1],ne=c[1],le;J<W&&(le=W,W=J,J=le);var $=J-W,K=(0,s.a2)($-s.pi)<s.Gg,ie=K||$<s.Gg;if(!K&&ne<re&&(le=re,re=ne,ne=le),ie?K?re+ne>0^B[1]<((0,s.a2)(B[0]-W)<s.Gg?re:ne):re<=B[1]&&B[1]<=ne:$>s.pi^(W<=B[0]&&B[0]<=J)){var Y=(0,m.wx)(N,(-k+z)/O);return(0,m.mg)(Y,I),[B,(0,m.G)(Y)]}}}function h(T,c){var a=i?p:s.pi-p,d=0;return T<-a?d|=1:T>a&&(d|=2),c<-a?d|=4:c>a&&(d|=8),d}return(0,S.c)(u,l,f,i?[0,-p]:[-s.pi,p-s.pi])}},14229:function(G,H,e){e.d(H,{c:function(){return v}});var m=e(97208),P=e(32232),s=e(64528),L=e(58196),S=e(84706);function v(t,i,n,f){return function(u){var l=i(u),g=(0,m.c)(),h=i(g),T=!1,c,a,d,x={point:w,lineStart:y,lineEnd:M,polygonStart:function(){x.point=A,x.lineStart=o,x.lineEnd=E,a=[],c=[]},polygonEnd:function(){x.point=w,x.lineStart=y,x.lineEnd=M,a=(0,S.Uf)(a);var b=(0,L.c)(c,f);a.length?(T||(u.polygonStart(),T=!0),(0,P.c)(a,r,b,n,u)):b&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),a=c=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(b,I){t(b,I)&&u.point(b,I)}function C(b,I){l.point(b,I)}function y(){x.point=C,l.lineStart()}function M(){x.point=w,l.lineEnd()}function A(b,I){d.push([b,I]),h.point(b,I)}function o(){h.lineStart(),d=[]}function E(){A(d[0][0],d[0][1]),h.lineEnd();var b=h.clean(),I=g.result(),D,N=I.length,k,O,F;if(d.pop(),c.push(d),d=null,!!N){if(b&1){if(O=I[0],(k=O.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),D=0;D<k;++D)u.point((F=O[D])[0],F[1]);u.lineEnd()}return}N>1&&b&2&&I.push(I.pop().concat(I.shift())),a.push(I.filter(p))}}return x}}function p(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-s.or-s.Gg:s.or-t[1])-((i=i.x)[0]<0?i[1]-s.or-s.Gg:s.or-i[1])}},21676:function(G,H,e){e.d(H,{c:function(){return r}});var m=e(64528),P=e(97208);function s(t,i,n,f,u,l){var g=t[0],h=t[1],T=i[0],c=i[1],a=0,d=1,x=T-g,w=c-h,C;if(C=n-g,!(!x&&C>0)){if(C/=x,x<0){if(C<a)return;C<d&&(d=C)}else if(x>0){if(C>d)return;C>a&&(a=C)}if(C=u-g,!(!x&&C<0)){if(C/=x,x<0){if(C>d)return;C>a&&(a=C)}else if(x>0){if(C<a)return;C<d&&(d=C)}if(C=f-h,!(!w&&C>0)){if(C/=w,w<0){if(C<a)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>a&&(a=C)}if(C=l-h,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>a&&(a=C)}else if(w>0){if(C<a)return;C<d&&(d=C)}return a>0&&(t[0]=g+a*x,t[1]=h+a*w),d<1&&(i[0]=g+d*x,i[1]=h+d*w),!0}}}}}var L=e(32232),S=e(84706),v=1e9,p=-v;function r(t,i,n,f){function u(c,a){return t<=c&&c<=n&&i<=a&&a<=f}function l(c,a,d,x){var w=0,C=0;if(c==null||(w=g(c,d))!==(C=g(a,d))||T(c,a)<0^d>0)do x.point(w===0||w===3?t:n,w>1?f:i);while((w=(w+d+4)%4)!==C);else x.point(a[0],a[1])}function g(c,a){return(0,m.a2)(c[0]-t)<m.Gg?a>0?0:3:(0,m.a2)(c[0]-n)<m.Gg?a>0?2:1:(0,m.a2)(c[1]-i)<m.Gg?a>0?1:0:a>0?3:2}function h(c,a){return T(c.x,a.x)}function T(c,a){var d=g(c,1),x=g(a,1);return d!==x?d-x:d===0?a[1]-c[1]:d===1?c[0]-a[0]:d===2?c[1]-a[1]:a[0]-c[0]}return function(c){var a=c,d=(0,P.c)(),x,w,C,y,M,A,o,E,b,I,D,N={point:k,lineStart:B,lineEnd:W,polygonStart:F,polygonEnd:z};function k(re,ne){u(re,ne)&&a.point(re,ne)}function O(){for(var re=0,ne=0,le=w.length;ne<le;++ne)for(var $=w[ne],K=1,ie=$.length,Y=$[0],Q,oe,X=Y[0],j=Y[1];K<ie;++K)Q=X,oe=j,Y=$[K],X=Y[0],j=Y[1],oe<=f?j>f&&(X-Q)*(f-oe)>(j-oe)*(t-Q)&&++re:j<=f&&(X-Q)*(f-oe)<(j-oe)*(t-Q)&&--re;return re}function F(){a=d,x=[],w=[],D=!0}function z(){var re=O(),ne=D&&re,le=(x=(0,S.Uf)(x)).length;(ne||le)&&(c.polygonStart(),ne&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),le&&(0,L.c)(x,h,re,l,c),c.polygonEnd()),a=c,x=w=C=null}function B(){N.point=J,w&&w.push(C=[]),I=!0,b=!1,o=E=NaN}function W(){x&&(J(y,M),A&&b&&d.rejoin(),x.push(d.result())),N.point=k,b&&a.lineEnd()}function J(re,ne){var le=u(re,ne);if(w&&C.push([re,ne]),I)y=re,M=ne,A=le,I=!1,le&&(a.lineStart(),a.point(re,ne));else if(le&&b)a.point(re,ne);else{var $=[o=Math.max(p,Math.min(v,o)),E=Math.max(p,Math.min(v,E))],K=[re=Math.max(p,Math.min(v,re)),ne=Math.max(p,Math.min(v,ne))];s($,K,t,i,n,f)?(b||(a.lineStart(),a.point($[0],$[1])),a.point(K[0],K[1]),le||a.lineEnd(),D=!1):le&&(a.lineStart(),a.point(re,ne),D=!1)}o=re,E=ne,b=le}return N}}},32232:function(G,H,e){e.d(H,{c:function(){return L}});var m=e(41860),P=e(64528);function s(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,p,r,t,i){var n=[],f=[],u,l;if(v.forEach(function(d){if(!((x=d.length-1)<=0)){var x,w=d[0],C=d[x],y;if((0,m.c)(w,C)){if(!w[2]&&!C[2]){for(i.lineStart(),u=0;u<x;++u)i.point((w=d[u])[0],w[1]);i.lineEnd();return}C[0]+=2*P.Gg}n.push(y=new s(w,d,null,!0)),f.push(y.o=new s(w,null,y,!1)),n.push(y=new s(C,d,null,!1)),f.push(y.o=new s(C,null,y,!0))}}),!!n.length){for(f.sort(p),S(n),S(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var g=n[0],h,T;;){for(var c=g,a=!0;c.v;)if((c=c.n)===g)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(a)for(u=0,l=h.length;u<l;++u)i.point((T=h[u])[0],T[1]);else t(c.x,c.n.x,1,i);c=c.n}else{if(a)for(h=c.p.z,u=h.length-1;u>=0;--u)i.point((T=h[u])[0],T[1]);else t(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,a=!a}while(!c.v);i.lineEnd()}}}function S(v){if(p=v.length){for(var p,r=0,t=v[0],i;++r<p;)t.n=i=v[r],i.p=t,t=i;t.n=i=v[0],i.p=t}}},68120:function(G,H,e){e.d(H,{c:function(){return m}});function m(P,s){function L(S,v){return S=P(S,v),s(S[0],S[1])}return P.invert&&s.invert&&(L.invert=function(S,v){return S=s.invert(S,v),S&&P.invert(S[0],S[1])}),L}},7376:function(G,H,e){e.d(H,{c:function(){return m}});function m(P){return P}},83356:function(G,H,e){e.r(H),e.d(H,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return lt},geoArea:function(){return m.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return P.c},geoCentroid:function(){return s.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return S.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return hr},geoConicConformalRaw:function(){return cr},geoConicEqualArea:function(){return Kt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return Ue},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return F},geoDistance:function(){return A},geoEqualEarth:function(){return ir},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return pr.c},geoEquirectangularRaw:function(){return pr.u},geoGnomonic:function(){return vr.c},geoGnomonicRaw:function(){return vr.Y},geoGraticule:function(){return J},geoGraticule10:function(){return re},geoIdentity:function(){return dr},geoInterpolate:function(){return ne.c},geoLength:function(){return C},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Ht},geoNaturalEarth1:function(){return Hr.c},geoNaturalEarth1Raw:function(){return Hr.g},geoOrthographic:function(){return Pr.c},geoOrthographicRaw:function(){return Pr.t},geoPath:function(){return Mt},geoProjection:function(){return Xt.c},geoProjectionMutator:function(){return Xt.U},geoRotation:function(){return Dt.c},geoStereographic:function(){return tn},geoStereographicRaw:function(){return an},geoStream:function(){return u.c},geoTransform:function(){return xr.c},geoTransverseMercator:function(){return Tn},geoTransverseMercatorRaw:function(){return Sn}});var m=e(95384),P=e(13696),s=e(24052),L=e(61780),S=e(78284),v=e(2728),p=e(21676);function r(){var Tr=0,zr=0,Yr=960,Or=500,ln,fn,Mn;return Mn={stream:function(Pn){return ln&&fn===Pn?ln:ln=(0,p.c)(Tr,zr,Yr,Or)(fn=Pn)},extent:function(Pn){return arguments.length?(Tr=+Pn[0][0],zr=+Pn[0][1],Yr=+Pn[1][0],Or=+Pn[1][1],ln=fn=null,Mn):[[Tr,zr],[Yr,Or]]}}}var t=e(58196),i=e(88728),n=e(64528),f=e(70932),u=e(16016),l=(0,i.c)(),g,h,T,c={sphere:f.c,point:f.c,lineStart:a,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function a(){c.point=x,c.lineEnd=d}function d(){c.point=c.lineEnd=f.c}function x(Tr,zr){Tr*=n.qw,zr*=n.qw,g=Tr,h=(0,n.g$)(zr),T=(0,n.W8)(zr),c.point=w}function w(Tr,zr){Tr*=n.qw,zr*=n.qw;var Yr=(0,n.g$)(zr),Or=(0,n.W8)(zr),ln=(0,n.a2)(Tr-g),fn=(0,n.W8)(ln),Mn=(0,n.g$)(ln),Pn=Or*Mn,Vn=T*Yr-h*Or*fn,ia=h*Yr+T*Or*fn;l.add((0,n.WE)((0,n._I)(Pn*Pn+Vn*Vn),ia)),g=Tr,h=Yr,T=Or}function C(Tr){return l.reset(),(0,u.c)(Tr,c),+l}var y=[null,null],M={type:"LineString",coordinates:y};function A(Tr,zr){return y[0]=Tr,y[1]=zr,C(M)}var o={Feature:function(Tr,zr){return b(Tr.geometry,zr)},FeatureCollection:function(Tr,zr){for(var Yr=Tr.features,Or=-1,ln=Yr.length;++Or<ln;)if(b(Yr[Or].geometry,zr))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Tr,zr){return I(Tr.coordinates,zr)},MultiPoint:function(Tr,zr){for(var Yr=Tr.coordinates,Or=-1,ln=Yr.length;++Or<ln;)if(I(Yr[Or],zr))return!0;return!1},LineString:function(Tr,zr){return D(Tr.coordinates,zr)},MultiLineString:function(Tr,zr){for(var Yr=Tr.coordinates,Or=-1,ln=Yr.length;++Or<ln;)if(D(Yr[Or],zr))return!0;return!1},Polygon:function(Tr,zr){return N(Tr.coordinates,zr)},MultiPolygon:function(Tr,zr){for(var Yr=Tr.coordinates,Or=-1,ln=Yr.length;++Or<ln;)if(N(Yr[Or],zr))return!0;return!1},GeometryCollection:function(Tr,zr){for(var Yr=Tr.geometries,Or=-1,ln=Yr.length;++Or<ln;)if(b(Yr[Or],zr))return!0;return!1}};function b(Tr,zr){return Tr&&E.hasOwnProperty(Tr.type)?E[Tr.type](Tr,zr):!1}function I(Tr,zr){return A(Tr,zr)===0}function D(Tr,zr){for(var Yr,Or,ln,fn=0,Mn=Tr.length;fn<Mn;fn++){if(Or=A(Tr[fn],zr),Or===0||fn>0&&(ln=A(Tr[fn],Tr[fn-1]),ln>0&&Yr<=ln&&Or<=ln&&(Yr+Or-ln)*(1-Math.pow((Yr-Or)/ln,2))<n.a8*ln))return!0;Yr=Or}return!1}function N(Tr,zr){return!!(0,t.c)(Tr.map(k),O(zr))}function k(Tr){return Tr=Tr.map(O),Tr.pop(),Tr}function O(Tr){return[Tr[0]*n.qw,Tr[1]*n.qw]}function F(Tr,zr){return(Tr&&o.hasOwnProperty(Tr.type)?o[Tr.type]:b)(Tr,zr)}var z=e(84706);function B(Tr,zr,Yr){var Or=(0,z.ik)(Tr,zr-n.Gg,Yr).concat(zr);return function(ln){return Or.map(function(fn){return[ln,fn]})}}function W(Tr,zr,Yr){var Or=(0,z.ik)(Tr,zr-n.Gg,Yr).concat(zr);return function(ln){return Or.map(function(fn){return[fn,ln]})}}function J(){var Tr,zr,Yr,Or,ln,fn,Mn,Pn,Vn=10,ia=Vn,ya=90,wa=360,Gn,Qn,mr,en,Jr=2.5;function vn(){return{type:"MultiLineString",coordinates:On()}}function On(){return(0,z.ik)((0,n.Km)(Or/ya)*ya,Yr,ya).map(mr).concat((0,z.ik)((0,n.Km)(Pn/wa)*wa,Mn,wa).map(en)).concat((0,z.ik)((0,n.Km)(zr/Vn)*Vn,Tr,Vn).filter(function(bn){return(0,n.a2)(bn%ya)>n.Gg}).map(Gn)).concat((0,z.ik)((0,n.Km)(fn/ia)*ia,ln,ia).filter(function(bn){return(0,n.a2)(bn%wa)>n.Gg}).map(Qn))}return vn.lines=function(){return On().map(function(bn){return{type:"LineString",coordinates:bn}})},vn.outline=function(){return{type:"Polygon",coordinates:[mr(Or).concat(en(Mn).slice(1),mr(Yr).reverse().slice(1),en(Pn).reverse().slice(1))]}},vn.extent=function(bn){return arguments.length?vn.extentMajor(bn).extentMinor(bn):vn.extentMinor()},vn.extentMajor=function(bn){return arguments.length?(Or=+bn[0][0],Yr=+bn[1][0],Pn=+bn[0][1],Mn=+bn[1][1],Or>Yr&&(bn=Or,Or=Yr,Yr=bn),Pn>Mn&&(bn=Pn,Pn=Mn,Mn=bn),vn.precision(Jr)):[[Or,Pn],[Yr,Mn]]},vn.extentMinor=function(bn){return arguments.length?(zr=+bn[0][0],Tr=+bn[1][0],fn=+bn[0][1],ln=+bn[1][1],zr>Tr&&(bn=zr,zr=Tr,Tr=bn),fn>ln&&(bn=fn,fn=ln,ln=bn),vn.precision(Jr)):[[zr,fn],[Tr,ln]]},vn.step=function(bn){return arguments.length?vn.stepMajor(bn).stepMinor(bn):vn.stepMinor()},vn.stepMajor=function(bn){return arguments.length?(ya=+bn[0],wa=+bn[1],vn):[ya,wa]},vn.stepMinor=function(bn){return arguments.length?(Vn=+bn[0],ia=+bn[1],vn):[Vn,ia]},vn.precision=function(bn){return arguments.length?(Jr=+bn,Gn=B(fn,ln,90),Qn=W(zr,Tr,Jr),mr=B(Pn,Mn,90),en=W(Or,Yr,Jr),vn):Jr},vn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function re(){return J()()}var ne=e(27284),le=e(7376),$=(0,i.c)(),K=(0,i.c)(),ie,Y,Q,oe,X={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){X.lineStart=j,X.lineEnd=fe},polygonEnd:function(){X.lineStart=X.lineEnd=X.point=f.c,$.add((0,n.a2)(K)),K.reset()},result:function(){var Tr=$/2;return $.reset(),Tr}};function j(){X.point=se}function se(Tr,zr){X.point=te,ie=Q=Tr,Y=oe=zr}function te(Tr,zr){K.add(oe*Tr-Q*zr),Q=Tr,oe=zr}function fe(){te(ie,Y)}var ge=X,be=e(73784),xe=0,_e=0,De=0,Fe=0,Te=0,Re=0,Se=0,Ie=0,Me=0,Ve,et,it,Je,Qe={point:ct,lineStart:ht,lineEnd:Et,polygonStart:function(){Qe.lineStart=rt,Qe.lineEnd=ze},polygonEnd:function(){Qe.point=ct,Qe.lineStart=ht,Qe.lineEnd=Et},result:function(){var Tr=Me?[Se/Me,Ie/Me]:Re?[Fe/Re,Te/Re]:De?[xe/De,_e/De]:[NaN,NaN];return xe=_e=De=Fe=Te=Re=Se=Ie=Me=0,Tr}};function ct(Tr,zr){xe+=Tr,_e+=zr,++De}function ht(){Qe.point=gt}function gt(Tr,zr){Qe.point=Tt,ct(it=Tr,Je=zr)}function Tt(Tr,zr){var Yr=Tr-it,Or=zr-Je,ln=(0,n._I)(Yr*Yr+Or*Or);Fe+=ln*(it+Tr)/2,Te+=ln*(Je+zr)/2,Re+=ln,ct(it=Tr,Je=zr)}function Et(){Qe.point=ct}function rt(){Qe.point=He}function ze(){Ge(Ve,et)}function He(Tr,zr){Qe.point=Ge,ct(Ve=it=Tr,et=Je=zr)}function Ge(Tr,zr){var Yr=Tr-it,Or=zr-Je,ln=(0,n._I)(Yr*Yr+Or*Or);Fe+=ln*(it+Tr)/2,Te+=ln*(Je+zr)/2,Re+=ln,ln=Je*Tr-it*zr,Se+=ln*(it+Tr),Ie+=ln*(Je+zr),Me+=ln*3,ct(it=Tr,Je=zr)}var We=Qe;function Le(Tr){this._context=Tr}Le.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Tr,zr){switch(this._point){case 0:{this._context.moveTo(Tr,zr),this._point=1;break}case 1:{this._context.lineTo(Tr,zr);break}default:{this._context.moveTo(Tr+this._radius,zr),this._context.arc(Tr,zr,this._radius,0,n.kD);break}}},result:f.c};var Pe=(0,i.c)(),je,Ce,he,me,Ne,$e={point:f.c,lineStart:function(){$e.point=ot},lineEnd:function(){je&&st(Ce,he),$e.point=f.c},polygonStart:function(){je=!0},polygonEnd:function(){je=null},result:function(){var Tr=+Pe;return Pe.reset(),Tr}};function ot(Tr,zr){$e.point=st,Ce=me=Tr,he=Ne=zr}function st(Tr,zr){me-=Tr,Ne-=zr,Pe.add((0,n._I)(me*me+Ne*Ne)),me=Tr,Ne=zr}var Wt=$e;function Pt(){this._string=[]}Pt.prototype={_radius:4.5,_circle:dt(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Tr,zr){switch(this._point){case 0:{this._string.push("M",Tr,",",zr),this._point=1;break}case 1:{this._string.push("L",Tr,",",zr);break}default:{this._circle==null&&(this._circle=dt(this._radius)),this._string.push("M",Tr,",",zr,this._circle);break}}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}else return null}};function dt(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function Mt(Tr,zr){var Yr=4.5,Or,ln;function fn(Mn){return Mn&&(typeof Yr=="function"&&ln.pointRadius(+Yr.apply(this,arguments)),(0,u.c)(Mn,Or(ln))),ln.result()}return fn.area=function(Mn){return(0,u.c)(Mn,Or(ge)),ge.result()},fn.measure=function(Mn){return(0,u.c)(Mn,Or(Wt)),Wt.result()},fn.bounds=function(Mn){return(0,u.c)(Mn,Or(be.c)),be.c.result()},fn.centroid=function(Mn){return(0,u.c)(Mn,Or(We)),We.result()},fn.projection=function(Mn){return arguments.length?(Or=Mn==null?(Tr=null,le.c):(Tr=Mn).stream,fn):Tr},fn.context=function(Mn){return arguments.length?(ln=Mn==null?(zr=null,new Pt):new Le(zr=Mn),typeof Yr!="function"&&ln.pointRadius(Yr),fn):zr},fn.pointRadius=function(Mn){return arguments.length?(Yr=typeof Mn=="function"?Mn:(ln.pointRadius(+Mn),+Mn),fn):Yr},fn.projection(Tr).context(zr)}var Xt=e(87952);function nr(Tr){var zr=0,Yr=n.pi/3,Or=(0,Xt.U)(Tr),ln=Or(zr,Yr);return ln.parallels=function(fn){return arguments.length?Or(zr=fn[0]*n.qw,Yr=fn[1]*n.qw):[zr*n.oh,Yr*n.oh]},ln}function vt(Tr){var zr=(0,n.W8)(Tr);function Yr(Or,ln){return[Or*zr,(0,n.g$)(ln)/zr]}return Yr.invert=function(Or,ln){return[Or/zr,(0,n.qR)(ln*zr)]},Yr}function Zt(Tr,zr){var Yr=(0,n.g$)(Tr),Or=(Yr+(0,n.g$)(zr))/2;if((0,n.a2)(Or)<n.Gg)return vt(Tr);var ln=1+Yr*(2*Or-Yr),fn=(0,n._I)(ln)/Or;function Mn(Pn,Vn){var ia=(0,n._I)(ln-2*Or*(0,n.g$)(Vn))/Or;return[ia*(0,n.g$)(Pn*=Or),fn-ia*(0,n.W8)(Pn)]}return Mn.invert=function(Pn,Vn){var ia=fn-Vn,ya=(0,n.WE)(Pn,(0,n.a2)(ia))*(0,n.kq)(ia);return ia*Or<0&&(ya-=n.pi*(0,n.kq)(Pn)*(0,n.kq)(ia)),[ya/Or,(0,n.qR)((ln-(Pn*Pn+ia*ia)*Or*Or)/(2*Or))]},Mn}function Kt(){return nr(Zt).scale(155.424).center([0,33.6442])}function yr(){return Kt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=e(86420);function mt(Tr){var zr=Tr.length;return{point:function(Yr,Or){for(var ln=-1;++ln<zr;)Tr[ln].point(Yr,Or)},sphere:function(){for(var Yr=-1;++Yr<zr;)Tr[Yr].sphere()},lineStart:function(){for(var Yr=-1;++Yr<zr;)Tr[Yr].lineStart()},lineEnd:function(){for(var Yr=-1;++Yr<zr;)Tr[Yr].lineEnd()},polygonStart:function(){for(var Yr=-1;++Yr<zr;)Tr[Yr].polygonStart()},polygonEnd:function(){for(var Yr=-1;++Yr<zr;)Tr[Yr].polygonEnd()}}}function lt(){var Tr,zr,Yr=yr(),Or,ln=Kt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),fn,Mn=Kt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,Vn,ia={point:function(Gn,Qn){Vn=[Gn,Qn]}};function ya(Gn){var Qn=Gn[0],mr=Gn[1];return Vn=null,Or.point(Qn,mr),Vn||(fn.point(Qn,mr),Vn)||(Pn.point(Qn,mr),Vn)}ya.invert=function(Gn){var Qn=Yr.scale(),mr=Yr.translate(),en=(Gn[0]-mr[0])/Qn,Jr=(Gn[1]-mr[1])/Qn;return(Jr>=.12&&Jr<.234&&en>=-.425&&en<-.214?ln:Jr>=.166&&Jr<.234&&en>=-.214&&en<-.115?Mn:Yr).invert(Gn)},ya.stream=function(Gn){return Tr&&zr===Gn?Tr:Tr=mt([Yr.stream(zr=Gn),ln.stream(Gn),Mn.stream(Gn)])},ya.precision=function(Gn){return arguments.length?(Yr.precision(Gn),ln.precision(Gn),Mn.precision(Gn),wa()):Yr.precision()},ya.scale=function(Gn){return arguments.length?(Yr.scale(Gn),ln.scale(Gn*.35),Mn.scale(Gn),ya.translate(Yr.translate())):Yr.scale()},ya.translate=function(Gn){if(!arguments.length)return Yr.translate();var Qn=Yr.scale(),mr=+Gn[0],en=+Gn[1];return Or=Yr.translate(Gn).clipExtent([[mr-.455*Qn,en-.238*Qn],[mr+.455*Qn,en+.238*Qn]]).stream(ia),fn=ln.translate([mr-.307*Qn,en+.201*Qn]).clipExtent([[mr-.425*Qn+n.Gg,en+.12*Qn+n.Gg],[mr-.214*Qn-n.Gg,en+.234*Qn-n.Gg]]).stream(ia),Pn=Mn.translate([mr-.205*Qn,en+.212*Qn]).clipExtent([[mr-.214*Qn+n.Gg,en+.166*Qn+n.Gg],[mr-.115*Qn-n.Gg,en+.234*Qn-n.Gg]]).stream(ia),wa()},ya.fitExtent=function(Gn,Qn){return(0,or.QX)(ya,Gn,Qn)},ya.fitSize=function(Gn,Qn){return(0,or.UV)(ya,Gn,Qn)},ya.fitWidth=function(Gn,Qn){return(0,or.Qx)(ya,Gn,Qn)},ya.fitHeight=function(Gn,Qn){return(0,or.OW)(ya,Gn,Qn)};function wa(){return Tr=zr=null,ya}return ya.scale(1070)}var bt=e(54724),Ct=e(69020),Dt=e(92992);function Ht(Tr,zr){return[Tr,(0,n.Yz)((0,n.a6)((n.or+zr)/2))]}Ht.invert=function(Tr,zr){return[Tr,2*(0,n.MQ)((0,n.oN)(zr))-n.or]};function Bt(){return Ut(Ht).scale(961/n.kD)}function Ut(Tr){var zr=(0,Xt.c)(Tr),Yr=zr.center,Or=zr.scale,ln=zr.translate,fn=zr.clipExtent,Mn=null,Pn,Vn,ia;zr.scale=function(wa){return arguments.length?(Or(wa),ya()):Or()},zr.translate=function(wa){return arguments.length?(ln(wa),ya()):ln()},zr.center=function(wa){return arguments.length?(Yr(wa),ya()):Yr()},zr.clipExtent=function(wa){return arguments.length?(wa==null?Mn=Pn=Vn=ia=null:(Mn=+wa[0][0],Pn=+wa[0][1],Vn=+wa[1][0],ia=+wa[1][1]),ya()):Mn==null?null:[[Mn,Pn],[Vn,ia]]};function ya(){var wa=n.pi*Or(),Gn=zr((0,Dt.c)(zr.rotate()).invert([0,0]));return fn(Mn==null?[[Gn[0]-wa,Gn[1]-wa],[Gn[0]+wa,Gn[1]+wa]]:Tr===Ht?[[Math.max(Gn[0]-wa,Mn),Pn],[Math.min(Gn[0]+wa,Vn),ia]]:[[Mn,Math.max(Gn[1]-wa,Pn)],[Vn,Math.min(Gn[1]+wa,ia)]])}return ya()}function Jt(Tr){return(0,n.a6)((n.or+Tr)/2)}function cr(Tr,zr){var Yr=(0,n.W8)(Tr),Or=Tr===zr?(0,n.g$)(Tr):(0,n.Yz)(Yr/(0,n.W8)(zr))/(0,n.Yz)(Jt(zr)/Jt(Tr)),ln=Yr*(0,n.g3)(Jt(Tr),Or)/Or;if(!Or)return Ht;function fn(Mn,Pn){ln>0?Pn<-n.or+n.Gg&&(Pn=-n.or+n.Gg):Pn>n.or-n.Gg&&(Pn=n.or-n.Gg);var Vn=ln/(0,n.g3)(Jt(Pn),Or);return[Vn*(0,n.g$)(Or*Mn),ln-Vn*(0,n.W8)(Or*Mn)]}return fn.invert=function(Mn,Pn){var Vn=ln-Pn,ia=(0,n.kq)(Or)*(0,n._I)(Mn*Mn+Vn*Vn),ya=(0,n.WE)(Mn,(0,n.a2)(Vn))*(0,n.kq)(Vn);return Vn*Or<0&&(ya-=n.pi*(0,n.kq)(Mn)*(0,n.kq)(Vn)),[ya/Or,2*(0,n.MQ)((0,n.g3)(ln/ia,1/Or))-n.or]},fn}function hr(){return nr(cr).scale(109.5).parallels([30,30])}var pr=e(69604);function Ye(Tr,zr){var Yr=(0,n.W8)(Tr),Or=Tr===zr?(0,n.g$)(Tr):(Yr-(0,n.W8)(zr))/(zr-Tr),ln=Yr/Or+Tr;if((0,n.a2)(Or)<n.Gg)return pr.u;function fn(Mn,Pn){var Vn=ln-Pn,ia=Or*Mn;return[Vn*(0,n.g$)(ia),ln-Vn*(0,n.W8)(ia)]}return fn.invert=function(Mn,Pn){var Vn=ln-Pn,ia=(0,n.WE)(Mn,(0,n.a2)(Vn))*(0,n.kq)(Vn);return Vn*Or<0&&(ia-=n.pi*(0,n.kq)(Mn)*(0,n.kq)(Vn)),[ia/Or,ln-(0,n.kq)(Or)*(0,n._I)(Mn*Mn+Vn*Vn)]},fn}function Ue(){return nr(Ye).scale(131.154).center([0,13.9389])}var Ot=1.340264,It=-.081106,Qt=893e-6,lr=.003796,fr=(0,n._I)(3)/2,er=12;function Nt(Tr,zr){var Yr=(0,n.qR)(fr*(0,n.g$)(zr)),Or=Yr*Yr,ln=Or*Or*Or;return[Tr*(0,n.W8)(Yr)/(fr*(Ot+3*It*Or+ln*(7*Qt+9*lr*Or))),Yr*(Ot+It*Or+ln*(Qt+lr*Or))]}Nt.invert=function(Tr,zr){for(var Yr=zr,Or=Yr*Yr,ln=Or*Or*Or,fn=0,Mn,Pn,Vn;fn<er&&(Pn=Yr*(Ot+It*Or+ln*(Qt+lr*Or))-zr,Vn=Ot+3*It*Or+ln*(7*Qt+9*lr*Or),Yr-=Mn=Pn/Vn,Or=Yr*Yr,ln=Or*Or*Or,!((0,n.a2)(Mn)<n.a8));++fn);return[fr*Tr*(Ot+3*It*Or+ln*(7*Qt+9*lr*Or))/(0,n.W8)(Yr),(0,n.qR)((0,n.g$)(Yr)/fr)]};function ir(){return(0,Xt.c)(Nt).scale(177.158)}var vr=e(53285),xr=e(15196);function dr(){var Tr=1,zr=0,Yr=0,Or=1,ln=1,fn=0,Mn,Pn,Vn=null,ia,ya,wa,Gn=1,Qn=1,mr=(0,xr.s)({point:function(An,Fn){var $n=bn([An,Fn]);this.stream.point($n[0],$n[1])}}),en=le.c,Jr,vn;function On(){return Gn=Tr*Or,Qn=Tr*ln,Jr=vn=null,bn}function bn(An){var Fn=An[0]*Gn,$n=An[1]*Qn;if(fn){var ha=$n*Mn-Fn*Pn;Fn=Fn*Mn+$n*Pn,$n=ha}return[Fn+zr,$n+Yr]}return bn.invert=function(An){var Fn=An[0]-zr,$n=An[1]-Yr;if(fn){var ha=$n*Mn+Fn*Pn;Fn=Fn*Mn-$n*Pn,$n=ha}return[Fn/Gn,$n/Qn]},bn.stream=function(An){return Jr&&vn===An?Jr:Jr=mr(en(vn=An))},bn.postclip=function(An){return arguments.length?(en=An,Vn=ia=ya=wa=null,On()):en},bn.clipExtent=function(An){return arguments.length?(en=An==null?(Vn=ia=ya=wa=null,le.c):(0,p.c)(Vn=+An[0][0],ia=+An[0][1],ya=+An[1][0],wa=+An[1][1]),On()):Vn==null?null:[[Vn,ia],[ya,wa]]},bn.scale=function(An){return arguments.length?(Tr=+An,On()):Tr},bn.translate=function(An){return arguments.length?(zr=+An[0],Yr=+An[1],On()):[zr,Yr]},bn.angle=function(An){return arguments.length?(fn=An%360*n.qw,Pn=(0,n.g$)(fn),Mn=(0,n.W8)(fn),On()):fn*n.oh},bn.reflectX=function(An){return arguments.length?(Or=An?-1:1,On()):Or<0},bn.reflectY=function(An){return arguments.length?(ln=An?-1:1,On()):ln<0},bn.fitExtent=function(An,Fn){return(0,or.QX)(bn,An,Fn)},bn.fitSize=function(An,Fn){return(0,or.UV)(bn,An,Fn)},bn.fitWidth=function(An,Fn){return(0,or.Qx)(bn,An,Fn)},bn.fitHeight=function(An,Fn){return(0,or.OW)(bn,An,Fn)},bn}var Hr=e(47984),Pr=e(4888),Rr=e(62280);function an(Tr,zr){var Yr=(0,n.W8)(zr),Or=1+(0,n.W8)(Tr)*Yr;return[Yr*(0,n.g$)(Tr)/Or,(0,n.g$)(zr)/Or]}an.invert=(0,Rr.g)(function(Tr){return 2*(0,n.MQ)(Tr)});function tn(){return(0,Xt.c)(an).scale(250).clipAngle(142)}function Sn(Tr,zr){return[(0,n.Yz)((0,n.a6)((n.or+zr)/2)),-Tr]}Sn.invert=function(Tr,zr){return[-zr,2*(0,n.MQ)((0,n.oN)(Tr))-n.or]};function Tn(){var Tr=Ut(Sn),zr=Tr.center,Yr=Tr.rotate;return Tr.center=function(Or){return arguments.length?zr([-Or[1],Or[0]]):(Or=zr(),[Or[1],-Or[0]])},Tr.rotate=function(Or){return arguments.length?Yr([Or[0],Or[1],Or.length>2?Or[2]+90:90]):(Or=Yr(),[Or[0],Or[1],Or[2]-90])},Yr([0,0,90]).scale(159.155)}},27284:function(G,H,e){e.d(H,{c:function(){return P}});var m=e(64528);function P(s,L){var S=s[0]*m.qw,v=s[1]*m.qw,p=L[0]*m.qw,r=L[1]*m.qw,t=(0,m.W8)(v),i=(0,m.g$)(v),n=(0,m.W8)(r),f=(0,m.g$)(r),u=t*(0,m.W8)(S),l=t*(0,m.g$)(S),g=n*(0,m.W8)(p),h=n*(0,m.g$)(p),T=2*(0,m.qR)((0,m._I)((0,m.SD)(r-v)+t*n*(0,m.SD)(p-S))),c=(0,m.g$)(T),a=T?function(d){var x=(0,m.g$)(d*=T)/c,w=(0,m.g$)(T-d)/c,C=w*u+x*g,y=w*l+x*h,M=w*i+x*f;return[(0,m.WE)(y,C)*m.oh,(0,m.WE)(M,(0,m._I)(C*C+y*y))*m.oh]}:function(){return[S*m.oh,v*m.oh]};return a.distance=T,a}},64528:function(G,H,e){e.d(H,{Gg:function(){return m},Km:function(){return u},MQ:function(){return i},SD:function(){return C},W8:function(){return f},WE:function(){return n},Yz:function(){return g},_I:function(){return a},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return T},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return l},oh:function(){return p},or:function(){return L},pi:function(){return s},qR:function(){return w},qw:function(){return r},wL:function(){return S}});var m=1e-6,P=1e-12,s=Math.PI,L=s/2,S=s/4,v=s*2,p=180/s,r=s/180,t=Math.abs,i=Math.atan,n=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,g=Math.log,h=Math.pow,T=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},a=Math.sqrt,d=Math.tan;function x(y){return y>1?0:y<-1?s:Math.acos(y)}function w(y){return y>1?L:y<-1?-L:Math.asin(y)}function C(y){return(y=T(y/2))*y}},70932:function(G,H,e){e.d(H,{c:function(){return m}});function m(){}},73784:function(G,H,e){var m=e(70932),P=1/0,s=P,L=-P,S=L,v={point:p,lineStart:m.c,lineEnd:m.c,polygonStart:m.c,polygonEnd:m.c,result:function(){var r=[[P,s],[L,S]];return L=S=-(s=P=1/0),r}};function p(r,t){r<P&&(P=r),r>L&&(L=r),t<s&&(s=t),t>S&&(S=t)}H.c=v},41860:function(G,H,e){e.d(H,{c:function(){return P}});var m=e(64528);function P(s,L){return(0,m.a2)(s[0]-L[0])<m.Gg&&(0,m.a2)(s[1]-L[1])<m.Gg}},58196:function(G,H,e){e.d(H,{c:function(){return v}});var m=e(88728),P=e(84220),s=e(64528),L=(0,m.c)();function S(p){return(0,s.a2)(p[0])<=s.pi?p[0]:(0,s.kq)(p[0])*(((0,s.a2)(p[0])+s.pi)%s.kD-s.pi)}function v(p,r){var t=S(r),i=r[1],n=(0,s.g$)(i),f=[(0,s.g$)(t),-(0,s.W8)(t),0],u=0,l=0;L.reset(),n===1?i=s.or+s.Gg:n===-1&&(i=-s.or-s.Gg);for(var g=0,h=p.length;g<h;++g)if(c=(T=p[g]).length)for(var T,c,a=T[c-1],d=S(a),x=a[1]/2+s.wL,w=(0,s.g$)(x),C=(0,s.W8)(x),y=0;y<c;++y,d=A,w=E,C=b,a=M){var M=T[y],A=S(M),o=M[1]/2+s.wL,E=(0,s.g$)(o),b=(0,s.W8)(o),I=A-d,D=I>=0?1:-1,N=D*I,k=N>s.pi,O=w*E;if(L.add((0,s.WE)(O*D*(0,s.g$)(N),C*b+O*(0,s.W8)(N))),u+=k?I+D*s.kD:I,k^d>=t^A>=t){var F=(0,P.CW)((0,P.ux)(a),(0,P.ux)(M));(0,P.cJ)(F);var z=(0,P.CW)(f,F);(0,P.cJ)(z);var B=(k^I>=0?-1:1)*(0,s.qR)(z[2]);(i>B||i===B&&(F[0]||F[1]))&&(l+=k^I>=0?1:-1)}}return(u<-s.Gg||u<s.Gg&&L<-s.Gg)^l&1}},62280:function(G,H,e){e.d(H,{a:function(){return P},g:function(){return s}});var m=e(64528);function P(L){return function(S,v){var p=(0,m.W8)(S),r=(0,m.W8)(v),t=L(p*r);return[t*r*(0,m.g$)(S),t*(0,m.g$)(v)]}}function s(L){return function(S,v){var p=(0,m._I)(S*S+v*v),r=L(p),t=(0,m.g$)(r),i=(0,m.W8)(r);return[(0,m.WE)(S*t,p*i),(0,m.qR)(p&&v*t/p)]}}},54724:function(G,H,e){e.d(H,{c:function(){return S},y:function(){return L}});var m=e(64528),P=e(62280),s=e(87952),L=(0,P.a)(function(v){return(0,m._I)(2/(1+v))});L.invert=(0,P.g)(function(v){return 2*(0,m.qR)(v/2)});function S(){return(0,s.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(G,H,e){e.d(H,{O:function(){return L},c:function(){return S}});var m=e(64528),P=e(62280),s=e(87952),L=(0,P.a)(function(v){return(v=(0,m.mE)(v))&&v/(0,m.g$)(v)});L.invert=(0,P.g)(function(v){return v});function S(){return(0,s.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(G,H,e){e.d(H,{c:function(){return s},u:function(){return P}});var m=e(87952);function P(L,S){return[L,S]}P.invert=P;function s(){return(0,m.c)(P).scale(152.63)}},86420:function(G,H,e){e.d(H,{OW:function(){return p},QX:function(){return L},Qx:function(){return v},UV:function(){return S}});var m=e(16016),P=e(73784);function s(r,t,i){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,m.c)(i,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function L(r,t,i){return s(r,function(n){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),g=+t[0][0]+(f-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([g,h])},i)}function S(r,t,i){return L(r,[[0,0],t],i)}function v(r,t,i){return s(r,function(n){var f=+t,u=f/(n[1][0]-n[0][0]),l=(f-u*(n[1][0]+n[0][0]))/2,g=-u*n[0][1];r.scale(150*u).translate([l,g])},i)}function p(r,t,i){return s(r,function(n){var f=+t,u=f/(n[1][1]-n[0][1]),l=-u*n[0][0],g=(f-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,g])},i)}},53285:function(G,H,e){e.d(H,{Y:function(){return L},c:function(){return S}});var m=e(64528),P=e(62280),s=e(87952);function L(v,p){var r=(0,m.W8)(p),t=(0,m.W8)(v)*r;return[r*(0,m.g$)(v)/t,(0,m.g$)(p)/t]}L.invert=(0,P.g)(m.MQ);function S(){return(0,s.c)(L).scale(144.049).clipAngle(60)}},87952:function(G,H,e){e.d(H,{c:function(){return d},U:function(){return x}});var m=e(78284),P=e(2728),s=e(21676),L=e(68120),S=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),i=e(84220),n=16,f=(0,v.W8)(30*v.qw);function u(w,C){return+C?g(w,C):l(w)}function l(w){return(0,r.s)({point:function(C,y){C=w(C,y),this.stream.point(C[0],C[1])}})}function g(w,C){function y(M,A,o,E,b,I,D,N,k,O,F,z,B,W){var J=D-M,re=N-A,ne=J*J+re*re;if(ne>4*C&&B--){var le=E+O,$=b+F,K=I+z,ie=(0,v._I)(le*le+$*$+K*K),Y=(0,v.qR)(K/=ie),Q=(0,v.a2)((0,v.a2)(K)-1)<v.Gg||(0,v.a2)(o-k)<v.Gg?(o+k)/2:(0,v.WE)($,le),oe=w(Q,Y),X=oe[0],j=oe[1],se=X-M,te=j-A,fe=re*se-J*te;(fe*fe/ne>C||(0,v.a2)((J*se+re*te)/ne-.5)>.3||E*O+b*F+I*z<f)&&(y(M,A,o,E,b,I,X,j,Q,le/=ie,$/=ie,K,B,W),W.point(X,j),y(X,j,Q,le,$,K,D,N,k,O,F,z,B,W))}}return function(M){var A,o,E,b,I,D,N,k,O,F,z,B,W={point:J,lineStart:re,lineEnd:le,polygonStart:function(){M.polygonStart(),W.lineStart=$},polygonEnd:function(){M.polygonEnd(),W.lineStart=re}};function J(Y,Q){Y=w(Y,Q),M.point(Y[0],Y[1])}function re(){k=NaN,W.point=ne,M.lineStart()}function ne(Y,Q){var oe=(0,i.ux)([Y,Q]),X=w(Y,Q);y(k,O,N,F,z,B,k=X[0],O=X[1],N=Y,F=oe[0],z=oe[1],B=oe[2],n,M),M.point(k,O)}function le(){W.point=J,M.lineEnd()}function $(){re(),W.point=K,W.lineEnd=ie}function K(Y,Q){ne(A=Y,Q),o=k,E=O,b=F,I=z,D=B,W.point=ne}function ie(){y(k,O,N,F,z,B,o,E,A,b,I,D,n,M),W.lineEnd=le,le()}return W}}var h=(0,r.s)({point:function(w,C){this.stream.point(w*v.qw,C*v.qw)}});function T(w){return(0,r.s)({point:function(C,y){var M=w(C,y);return this.stream.point(M[0],M[1])}})}function c(w,C,y,M,A){function o(E,b){return E*=M,b*=A,[C+w*E,y-w*b]}return o.invert=function(E,b){return[(E-C)/w*M,(y-b)/w*A]},o}function a(w,C,y,M,A,o){var E=(0,v.W8)(o),b=(0,v.g$)(o),I=E*w,D=b*w,N=E/w,k=b/w,O=(b*y-E*C)/w,F=(b*C+E*y)/w;function z(B,W){return B*=M,W*=A,[I*B-D*W+C,y-D*B-I*W]}return z.invert=function(B,W){return[M*(N*B-k*W+O),A*(F-k*B-N*W)]},z}function d(w){return x(function(){return w})()}function x(w){var C,y=150,M=480,A=250,o=0,E=0,b=0,I=0,D=0,N,k=0,O=1,F=1,z=null,B=m.c,W=null,J,re,ne,le=S.c,$=.5,K,ie,Y,Q,oe;function X(fe){return Y(fe[0]*v.qw,fe[1]*v.qw)}function j(fe){return fe=Y.invert(fe[0],fe[1]),fe&&[fe[0]*v.oh,fe[1]*v.oh]}X.stream=function(fe){return Q&&oe===fe?Q:Q=h(T(N)(B(K(le(oe=fe)))))},X.preclip=function(fe){return arguments.length?(B=fe,z=void 0,te()):B},X.postclip=function(fe){return arguments.length?(le=fe,W=J=re=ne=null,te()):le},X.clipAngle=function(fe){return arguments.length?(B=+fe?(0,P.c)(z=fe*v.qw):(z=null,m.c),te()):z*v.oh},X.clipExtent=function(fe){return arguments.length?(le=fe==null?(W=J=re=ne=null,S.c):(0,s.c)(W=+fe[0][0],J=+fe[0][1],re=+fe[1][0],ne=+fe[1][1]),te()):W==null?null:[[W,J],[re,ne]]},X.scale=function(fe){return arguments.length?(y=+fe,se()):y},X.translate=function(fe){return arguments.length?(M=+fe[0],A=+fe[1],se()):[M,A]},X.center=function(fe){return arguments.length?(o=fe[0]%360*v.qw,E=fe[1]%360*v.qw,se()):[o*v.oh,E*v.oh]},X.rotate=function(fe){return arguments.length?(b=fe[0]%360*v.qw,I=fe[1]%360*v.qw,D=fe.length>2?fe[2]%360*v.qw:0,se()):[b*v.oh,I*v.oh,D*v.oh]},X.angle=function(fe){return arguments.length?(k=fe%360*v.qw,se()):k*v.oh},X.reflectX=function(fe){return arguments.length?(O=fe?-1:1,se()):O<0},X.reflectY=function(fe){return arguments.length?(F=fe?-1:1,se()):F<0},X.precision=function(fe){return arguments.length?(K=u(ie,$=fe*fe),te()):(0,v._I)($)},X.fitExtent=function(fe,ge){return(0,t.QX)(X,fe,ge)},X.fitSize=function(fe,ge){return(0,t.UV)(X,fe,ge)},X.fitWidth=function(fe,ge){return(0,t.Qx)(X,fe,ge)},X.fitHeight=function(fe,ge){return(0,t.OW)(X,fe,ge)};function se(){var fe=a(y,0,0,O,F,k).apply(null,C(o,E)),ge=(k?a:c)(y,M-fe[0],A-fe[1],O,F,k);return N=(0,p.O)(b,I,D),ie=(0,L.c)(C,ge),Y=(0,L.c)(N,ie),K=u(ie,$),te()}function te(){return Q=oe=null,X}return function(){return C=w.apply(this,arguments),X.invert=C.invert&&j,se()}}},47984:function(G,H,e){e.d(H,{c:function(){return L},g:function(){return s}});var m=e(87952),P=e(64528);function s(S,v){var p=v*v,r=p*p;return[S*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}s.invert=function(S,v){var p=v,r=25,t;do{var i=p*p,n=i*i;p-=t=(p*(1.007226+i*(.015085+n*(-.044475+.028874*i-.005916*n)))-v)/(1.007226+i*(.045255+n*(-.311325+.259866*i-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[S/(.8707+(i=p*p)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),p]};function L(){return(0,m.c)(s).scale(175.295)}},4888:function(G,H,e){e.d(H,{c:function(){return S},t:function(){return L}});var m=e(64528),P=e(62280),s=e(87952);function L(v,p){return[(0,m.W8)(p)*(0,m.g$)(v),(0,m.g$)(p)]}L.invert=(0,P.g)(m.qR);function S(){return(0,s.c)(L).scale(249.5).clipAngle(90+m.Gg)}},92992:function(G,H,e){e.d(H,{O:function(){return L},c:function(){return r}});var m=e(68120),P=e(64528);function s(t,i){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,i]}s.invert=s;function L(t,i,n){return(t%=P.kD)?i||n?(0,m.c)(v(t),p(i,n)):v(t):i||n?p(i,n):s}function S(t){return function(i,n){return i+=t,[i>P.pi?i-P.kD:i<-P.pi?i+P.kD:i,n]}}function v(t){var i=S(t);return i.invert=S(-t),i}function p(t,i){var n=(0,P.W8)(t),f=(0,P.g$)(t),u=(0,P.W8)(i),l=(0,P.g$)(i);function g(h,T){var c=(0,P.W8)(T),a=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,x=(0,P.g$)(T),w=x*n+a*f;return[(0,P.WE)(d*u-w*l,a*n-x*f),(0,P.qR)(w*u+d*l)]}return g.invert=function(h,T){var c=(0,P.W8)(T),a=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,x=(0,P.g$)(T),w=x*u-d*l;return[(0,P.WE)(d*u+x*l,a*n+w*f),(0,P.qR)(w*n-a*f)]},g}function r(t){t=L(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function i(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return i.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},i}},16016:function(G,H,e){e.d(H,{c:function(){return v}});function m(p,r){p&&s.hasOwnProperty(p.type)&&s[p.type](p,r)}var P={Feature:function(p,r){m(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,i=-1,n=t.length;++i<n;)m(t[i].geometry,r)}},s={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)p=t[i],r.point(p[0],p[1],p[2])},LineString:function(p,r){L(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)L(t[i],r,0)},Polygon:function(p,r){S(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)S(t[i],r)},GeometryCollection:function(p,r){for(var t=p.geometries,i=-1,n=t.length;++i<n;)m(t[i],r)}};function L(p,r,t){var i=-1,n=p.length-t,f;for(r.lineStart();++i<n;)f=p[i],r.point(f[0],f[1],f[2]);r.lineEnd()}function S(p,r){var t=-1,i=p.length;for(r.polygonStart();++t<i;)L(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):m(p,r)}},15196:function(G,H,e){e.d(H,{c:function(){return m},s:function(){return P}});function m(L){return{stream:P(L)}}function P(L){return function(S){var v=new s;for(var p in L)v[p]=L[p];return v.stream=S,v}}function s(){}s.prototype={constructor:s,point:function(L,S){this.stream.point(L,S)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(G,H,e){e.r(H),e.d(H,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return j},packEnclose:function(){return I},packSiblings:function(){return K},partition:function(){return xe},stratify:function(){return Se},tree:function(){return ht},treemap:function(){return ze},treemapBinary:function(){return He},treemapDice:function(){return be},treemapResquarify:function(){return We},treemapSlice:function(){return gt},treemapSliceDice:function(){return Ge},treemapSquarify:function(){return rt}});function m(Le,Pe){return Le.parent===Pe.parent?1:2}function P(Le){return Le.reduce(s,0)/Le.length}function s(Le,Pe){return Le+Pe.x}function L(Le){return 1+Le.reduce(S,0)}function S(Le,Pe){return Math.max(Le,Pe.y)}function v(Le){for(var Pe;Pe=Le.children;)Le=Pe[0];return Le}function p(Le){for(var Pe;Pe=Le.children;)Le=Pe[Pe.length-1];return Le}function r(){var Le=m,Pe=1,je=1,Ce=!1;function he(me){var Ne,$e=0;me.eachAfter(function(dt){var Mt=dt.children;Mt?(dt.x=P(Mt),dt.y=L(Mt)):(dt.x=Ne?$e+=Le(dt,Ne):0,dt.y=0,Ne=dt)});var ot=v(me),st=p(me),Wt=ot.x-Le(ot,st)/2,Pt=st.x+Le(st,ot)/2;return me.eachAfter(Ce?function(dt){dt.x=(dt.x-me.x)*Pe,dt.y=(me.y-dt.y)*je}:function(dt){dt.x=(dt.x-Wt)/(Pt-Wt)*Pe,dt.y=(1-(me.y?dt.y/me.y:1))*je})}return he.separation=function(me){return arguments.length?(Le=me,he):Le},he.size=function(me){return arguments.length?(Ce=!1,Pe=+me[0],je=+me[1],he):Ce?null:[Pe,je]},he.nodeSize=function(me){return arguments.length?(Ce=!0,Pe=+me[0],je=+me[1],he):Ce?[Pe,je]:null},he}function t(Le){var Pe=0,je=Le.children,Ce=je&&je.length;if(!Ce)Pe=1;else for(;--Ce>=0;)Pe+=je[Ce].value;Le.value=Pe}function i(){return this.eachAfter(t)}function n(Le){var Pe=this,je,Ce=[Pe],he,me,Ne;do for(je=Ce.reverse(),Ce=[];Pe=je.pop();)if(Le(Pe),he=Pe.children,he)for(me=0,Ne=he.length;me<Ne;++me)Ce.push(he[me]);while(Ce.length);return this}function f(Le){for(var Pe=this,je=[Pe],Ce,he;Pe=je.pop();)if(Le(Pe),Ce=Pe.children,Ce)for(he=Ce.length-1;he>=0;--he)je.push(Ce[he]);return this}function u(Le){for(var Pe=this,je=[Pe],Ce=[],he,me,Ne;Pe=je.pop();)if(Ce.push(Pe),he=Pe.children,he)for(me=0,Ne=he.length;me<Ne;++me)je.push(he[me]);for(;Pe=Ce.pop();)Le(Pe);return this}function l(Le){return this.eachAfter(function(Pe){for(var je=+Le(Pe.data)||0,Ce=Pe.children,he=Ce&&Ce.length;--he>=0;)je+=Ce[he].value;Pe.value=je})}function g(Le){return this.eachBefore(function(Pe){Pe.children&&Pe.children.sort(Le)})}function h(Le){for(var Pe=this,je=T(Pe,Le),Ce=[Pe];Pe!==je;)Pe=Pe.parent,Ce.push(Pe);for(var he=Ce.length;Le!==je;)Ce.splice(he,0,Le),Le=Le.parent;return Ce}function T(Le,Pe){if(Le===Pe)return Le;var je=Le.ancestors(),Ce=Pe.ancestors(),he=null;for(Le=je.pop(),Pe=Ce.pop();Le===Pe;)he=Le,Le=je.pop(),Pe=Ce.pop();return he}function c(){for(var Le=this,Pe=[Le];Le=Le.parent;)Pe.push(Le);return Pe}function a(){var Le=[];return this.each(function(Pe){Le.push(Pe)}),Le}function d(){var Le=[];return this.eachBefore(function(Pe){Pe.children||Le.push(Pe)}),Le}function x(){var Le=this,Pe=[];return Le.each(function(je){je!==Le&&Pe.push({source:je.parent,target:je})}),Pe}function w(Le,Pe){var je=new o(Le),Ce=+Le.value&&(je.value=Le.value),he,me=[je],Ne,$e,ot,st;for(Pe==null&&(Pe=y);he=me.pop();)if(Ce&&(he.value=+he.data.value),($e=Pe(he.data))&&(st=$e.length))for(he.children=new Array(st),ot=st-1;ot>=0;--ot)me.push(Ne=he.children[ot]=new o($e[ot])),Ne.parent=he,Ne.depth=he.depth+1;return je.eachBefore(A)}function C(){return w(this).eachBefore(M)}function y(Le){return Le.children}function M(Le){Le.data=Le.data.data}function A(Le){var Pe=0;do Le.height=Pe;while((Le=Le.parent)&&Le.height<++Pe)}function o(Le){this.data=Le,this.depth=this.height=0,this.parent=null}o.prototype=w.prototype={constructor:o,count:i,each:n,eachAfter:u,eachBefore:f,sum:l,sort:g,path:h,ancestors:c,descendants:a,leaves:d,links:x,copy:C};var E=Array.prototype.slice;function b(Le){for(var Pe=Le.length,je,Ce;Pe;)Ce=Math.random()*Pe--|0,je=Le[Pe],Le[Pe]=Le[Ce],Le[Ce]=je;return Le}function I(Le){for(var Pe=0,je=(Le=b(E.call(Le))).length,Ce=[],he,me;Pe<je;)he=Le[Pe],me&&k(me,he)?++Pe:(me=F(Ce=D(Ce,he)),Pe=0);return me}function D(Le,Pe){var je,Ce;if(O(Pe,Le))return[Pe];for(je=0;je<Le.length;++je)if(N(Pe,Le[je])&&O(B(Le[je],Pe),Le))return[Le[je],Pe];for(je=0;je<Le.length-1;++je)for(Ce=je+1;Ce<Le.length;++Ce)if(N(B(Le[je],Le[Ce]),Pe)&&N(B(Le[je],Pe),Le[Ce])&&N(B(Le[Ce],Pe),Le[je])&&O(W(Le[je],Le[Ce],Pe),Le))return[Le[je],Le[Ce],Pe];throw new Error}function N(Le,Pe){var je=Le.r-Pe.r,Ce=Pe.x-Le.x,he=Pe.y-Le.y;return je<0||je*je<Ce*Ce+he*he}function k(Le,Pe){var je=Le.r-Pe.r+1e-6,Ce=Pe.x-Le.x,he=Pe.y-Le.y;return je>0&&je*je>Ce*Ce+he*he}function O(Le,Pe){for(var je=0;je<Pe.length;++je)if(!k(Le,Pe[je]))return!1;return!0}function F(Le){switch(Le.length){case 1:return z(Le[0]);case 2:return B(Le[0],Le[1]);case 3:return W(Le[0],Le[1],Le[2])}}function z(Le){return{x:Le.x,y:Le.y,r:Le.r}}function B(Le,Pe){var je=Le.x,Ce=Le.y,he=Le.r,me=Pe.x,Ne=Pe.y,$e=Pe.r,ot=me-je,st=Ne-Ce,Wt=$e-he,Pt=Math.sqrt(ot*ot+st*st);return{x:(je+me+ot/Pt*Wt)/2,y:(Ce+Ne+st/Pt*Wt)/2,r:(Pt+he+$e)/2}}function W(Le,Pe,je){var Ce=Le.x,he=Le.y,me=Le.r,Ne=Pe.x,$e=Pe.y,ot=Pe.r,st=je.x,Wt=je.y,Pt=je.r,dt=Ce-Ne,Mt=Ce-st,Xt=he-$e,nr=he-Wt,vt=ot-me,Zt=Pt-me,Kt=Ce*Ce+he*he-me*me,yr=Kt-Ne*Ne-$e*$e+ot*ot,or=Kt-st*st-Wt*Wt+Pt*Pt,mt=Mt*Xt-dt*nr,lt=(Xt*or-nr*yr)/(mt*2)-Ce,bt=(nr*vt-Xt*Zt)/mt,Ct=(Mt*yr-dt*or)/(mt*2)-he,Dt=(dt*Zt-Mt*vt)/mt,Ht=bt*bt+Dt*Dt-1,Bt=2*(me+lt*bt+Ct*Dt),Ut=lt*lt+Ct*Ct-me*me,Jt=-(Ht?(Bt+Math.sqrt(Bt*Bt-4*Ht*Ut))/(2*Ht):Ut/Bt);return{x:Ce+lt+bt*Jt,y:he+Ct+Dt*Jt,r:Jt}}function J(Le,Pe,je){var Ce=Le.x-Pe.x,he,me,Ne=Le.y-Pe.y,$e,ot,st=Ce*Ce+Ne*Ne;st?(me=Pe.r+je.r,me*=me,ot=Le.r+je.r,ot*=ot,me>ot?(he=(st+ot-me)/(2*st),$e=Math.sqrt(Math.max(0,ot/st-he*he)),je.x=Le.x-he*Ce-$e*Ne,je.y=Le.y-he*Ne+$e*Ce):(he=(st+me-ot)/(2*st),$e=Math.sqrt(Math.max(0,me/st-he*he)),je.x=Pe.x+he*Ce-$e*Ne,je.y=Pe.y+he*Ne+$e*Ce)):(je.x=Pe.x+je.r,je.y=Pe.y)}function re(Le,Pe){var je=Le.r+Pe.r-1e-6,Ce=Pe.x-Le.x,he=Pe.y-Le.y;return je>0&&je*je>Ce*Ce+he*he}function ne(Le){var Pe=Le._,je=Le.next._,Ce=Pe.r+je.r,he=(Pe.x*je.r+je.x*Pe.r)/Ce,me=(Pe.y*je.r+je.y*Pe.r)/Ce;return he*he+me*me}function le(Le){this._=Le,this.next=null,this.previous=null}function $(Le){if(!(he=Le.length))return 0;var Pe,je,Ce,he,me,Ne,$e,ot,st,Wt,Pt;if(Pe=Le[0],Pe.x=0,Pe.y=0,!(he>1))return Pe.r;if(je=Le[1],Pe.x=-je.r,je.x=Pe.r,je.y=0,!(he>2))return Pe.r+je.r;J(je,Pe,Ce=Le[2]),Pe=new le(Pe),je=new le(je),Ce=new le(Ce),Pe.next=Ce.previous=je,je.next=Pe.previous=Ce,Ce.next=je.previous=Pe;e:for($e=3;$e<he;++$e){J(Pe._,je._,Ce=Le[$e]),Ce=new le(Ce),ot=je.next,st=Pe.previous,Wt=je._.r,Pt=Pe._.r;do if(Wt<=Pt){if(re(ot._,Ce._)){je=ot,Pe.next=je,je.previous=Pe,--$e;continue e}Wt+=ot._.r,ot=ot.next}else{if(re(st._,Ce._)){Pe=st,Pe.next=je,je.previous=Pe,--$e;continue e}Pt+=st._.r,st=st.previous}while(ot!==st.next);for(Ce.previous=Pe,Ce.next=je,Pe.next=je.previous=je=Ce,me=ne(Pe);(Ce=Ce.next)!==je;)(Ne=ne(Ce))<me&&(Pe=Ce,me=Ne);je=Pe.next}for(Pe=[je._],Ce=je;(Ce=Ce.next)!==je;)Pe.push(Ce._);for(Ce=I(Pe),$e=0;$e<he;++$e)Pe=Le[$e],Pe.x-=Ce.x,Pe.y-=Ce.y;return Ce.r}function K(Le){return $(Le),Le}function ie(Le){return Le==null?null:Y(Le)}function Y(Le){if(typeof Le!="function")throw new Error;return Le}function Q(){return 0}function oe(Le){return function(){return Le}}function X(Le){return Math.sqrt(Le.value)}function j(){var Le=null,Pe=1,je=1,Ce=Q;function he(me){return me.x=Pe/2,me.y=je/2,Le?me.eachBefore(se(Le)).eachAfter(te(Ce,.5)).eachBefore(fe(1)):me.eachBefore(se(X)).eachAfter(te(Q,1)).eachAfter(te(Ce,me.r/Math.min(Pe,je))).eachBefore(fe(Math.min(Pe,je)/(2*me.r))),me}return he.radius=function(me){return arguments.length?(Le=ie(me),he):Le},he.size=function(me){return arguments.length?(Pe=+me[0],je=+me[1],he):[Pe,je]},he.padding=function(me){return arguments.length?(Ce=typeof me=="function"?me:oe(+me),he):Ce},he}function se(Le){return function(Pe){Pe.children||(Pe.r=Math.max(0,+Le(Pe)||0))}}function te(Le,Pe){return function(je){if(Ce=je.children){var Ce,he,me=Ce.length,Ne=Le(je)*Pe||0,$e;if(Ne)for(he=0;he<me;++he)Ce[he].r+=Ne;if($e=$(Ce),Ne)for(he=0;he<me;++he)Ce[he].r-=Ne;je.r=$e+Ne}}}function fe(Le){return function(Pe){var je=Pe.parent;Pe.r*=Le,je&&(Pe.x=je.x+Le*Pe.x,Pe.y=je.y+Le*Pe.y)}}function ge(Le){Le.x0=Math.round(Le.x0),Le.y0=Math.round(Le.y0),Le.x1=Math.round(Le.x1),Le.y1=Math.round(Le.y1)}function be(Le,Pe,je,Ce,he){for(var me=Le.children,Ne,$e=-1,ot=me.length,st=Le.value&&(Ce-Pe)/Le.value;++$e<ot;)Ne=me[$e],Ne.y0=je,Ne.y1=he,Ne.x0=Pe,Ne.x1=Pe+=Ne.value*st}function xe(){var Le=1,Pe=1,je=0,Ce=!1;function he(Ne){var $e=Ne.height+1;return Ne.x0=Ne.y0=je,Ne.x1=Le,Ne.y1=Pe/$e,Ne.eachBefore(me(Pe,$e)),Ce&&Ne.eachBefore(ge),Ne}function me(Ne,$e){return function(ot){ot.children&&be(ot,ot.x0,Ne*(ot.depth+1)/$e,ot.x1,Ne*(ot.depth+2)/$e);var st=ot.x0,Wt=ot.y0,Pt=ot.x1-je,dt=ot.y1-je;Pt<st&&(st=Pt=(st+Pt)/2),dt<Wt&&(Wt=dt=(Wt+dt)/2),ot.x0=st,ot.y0=Wt,ot.x1=Pt,ot.y1=dt}}return he.round=function(Ne){return arguments.length?(Ce=!!Ne,he):Ce},he.size=function(Ne){return arguments.length?(Le=+Ne[0],Pe=+Ne[1],he):[Le,Pe]},he.padding=function(Ne){return arguments.length?(je=+Ne,he):je},he}var _e="$",De={depth:-1},Fe={};function Te(Le){return Le.id}function Re(Le){return Le.parentId}function Se(){var Le=Te,Pe=Re;function je(Ce){var he,me,Ne=Ce.length,$e,ot,st,Wt=new Array(Ne),Pt,dt,Mt={};for(me=0;me<Ne;++me)he=Ce[me],st=Wt[me]=new o(he),(Pt=Le(he,me,Ce))!=null&&(Pt+="")&&(dt=_e+(st.id=Pt),Mt[dt]=dt in Mt?Fe:st);for(me=0;me<Ne;++me)if(st=Wt[me],Pt=Pe(Ce[me],me,Ce),Pt==null||!(Pt+="")){if($e)throw new Error("multiple roots");$e=st}else{if(ot=Mt[_e+Pt],!ot)throw new Error("missing: "+Pt);if(ot===Fe)throw new Error("ambiguous: "+Pt);ot.children?ot.children.push(st):ot.children=[st],st.parent=ot}if(!$e)throw new Error("no root");if($e.parent=De,$e.eachBefore(function(Xt){Xt.depth=Xt.parent.depth+1,--Ne}).eachBefore(A),$e.parent=null,Ne>0)throw new Error("cycle");return $e}return je.id=function(Ce){return arguments.length?(Le=Y(Ce),je):Le},je.parentId=function(Ce){return arguments.length?(Pe=Y(Ce),je):Pe},je}function Ie(Le,Pe){return Le.parent===Pe.parent?1:2}function Me(Le){var Pe=Le.children;return Pe?Pe[0]:Le.t}function Ve(Le){var Pe=Le.children;return Pe?Pe[Pe.length-1]:Le.t}function et(Le,Pe,je){var Ce=je/(Pe.i-Le.i);Pe.c-=Ce,Pe.s+=je,Le.c+=Ce,Pe.z+=je,Pe.m+=je}function it(Le){for(var Pe=0,je=0,Ce=Le.children,he=Ce.length,me;--he>=0;)me=Ce[he],me.z+=Pe,me.m+=Pe,Pe+=me.s+(je+=me.c)}function Je(Le,Pe,je){return Le.a.parent===Pe.parent?Le.a:je}function Qe(Le,Pe){this._=Le,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Pe}Qe.prototype=Object.create(o.prototype);function ct(Le){for(var Pe=new Qe(Le,0),je,Ce=[Pe],he,me,Ne,$e;je=Ce.pop();)if(me=je._.children)for(je.children=new Array($e=me.length),Ne=$e-1;Ne>=0;--Ne)Ce.push(he=je.children[Ne]=new Qe(me[Ne],Ne)),he.parent=je;return(Pe.parent=new Qe(null,0)).children=[Pe],Pe}function ht(){var Le=Ie,Pe=1,je=1,Ce=null;function he(st){var Wt=ct(st);if(Wt.eachAfter(me),Wt.parent.m=-Wt.z,Wt.eachBefore(Ne),Ce)st.eachBefore(ot);else{var Pt=st,dt=st,Mt=st;st.eachBefore(function(Kt){Kt.x<Pt.x&&(Pt=Kt),Kt.x>dt.x&&(dt=Kt),Kt.depth>Mt.depth&&(Mt=Kt)});var Xt=Pt===dt?1:Le(Pt,dt)/2,nr=Xt-Pt.x,vt=Pe/(dt.x+Xt+nr),Zt=je/(Mt.depth||1);st.eachBefore(function(Kt){Kt.x=(Kt.x+nr)*vt,Kt.y=Kt.depth*Zt})}return st}function me(st){var Wt=st.children,Pt=st.parent.children,dt=st.i?Pt[st.i-1]:null;if(Wt){it(st);var Mt=(Wt[0].z+Wt[Wt.length-1].z)/2;dt?(st.z=dt.z+Le(st._,dt._),st.m=st.z-Mt):st.z=Mt}else dt&&(st.z=dt.z+Le(st._,dt._));st.parent.A=$e(st,dt,st.parent.A||Pt[0])}function Ne(st){st._.x=st.z+st.parent.m,st.m+=st.parent.m}function $e(st,Wt,Pt){if(Wt){for(var dt=st,Mt=st,Xt=Wt,nr=dt.parent.children[0],vt=dt.m,Zt=Mt.m,Kt=Xt.m,yr=nr.m,or;Xt=Ve(Xt),dt=Me(dt),Xt&&dt;)nr=Me(nr),Mt=Ve(Mt),Mt.a=st,or=Xt.z+Kt-dt.z-vt+Le(Xt._,dt._),or>0&&(et(Je(Xt,st,Pt),st,or),vt+=or,Zt+=or),Kt+=Xt.m,vt+=dt.m,yr+=nr.m,Zt+=Mt.m;Xt&&!Ve(Mt)&&(Mt.t=Xt,Mt.m+=Kt-Zt),dt&&!Me(nr)&&(nr.t=dt,nr.m+=vt-yr,Pt=st)}return Pt}function ot(st){st.x*=Pe,st.y=st.depth*je}return he.separation=function(st){return arguments.length?(Le=st,he):Le},he.size=function(st){return arguments.length?(Ce=!1,Pe=+st[0],je=+st[1],he):Ce?null:[Pe,je]},he.nodeSize=function(st){return arguments.length?(Ce=!0,Pe=+st[0],je=+st[1],he):Ce?[Pe,je]:null},he}function gt(Le,Pe,je,Ce,he){for(var me=Le.children,Ne,$e=-1,ot=me.length,st=Le.value&&(he-je)/Le.value;++$e<ot;)Ne=me[$e],Ne.x0=Pe,Ne.x1=Ce,Ne.y0=je,Ne.y1=je+=Ne.value*st}var Tt=(1+Math.sqrt(5))/2;function Et(Le,Pe,je,Ce,he,me){for(var Ne=[],$e=Pe.children,ot,st,Wt=0,Pt=0,dt=$e.length,Mt,Xt,nr=Pe.value,vt,Zt,Kt,yr,or,mt,lt;Wt<dt;){Mt=he-je,Xt=me-Ce;do vt=$e[Pt++].value;while(!vt&&Pt<dt);for(Zt=Kt=vt,mt=Math.max(Xt/Mt,Mt/Xt)/(nr*Le),lt=vt*vt*mt,or=Math.max(Kt/lt,lt/Zt);Pt<dt;++Pt){if(vt+=st=$e[Pt].value,st<Zt&&(Zt=st),st>Kt&&(Kt=st),lt=vt*vt*mt,yr=Math.max(Kt/lt,lt/Zt),yr>or){vt-=st;break}or=yr}Ne.push(ot={value:vt,dice:Mt<Xt,children:$e.slice(Wt,Pt)}),ot.dice?be(ot,je,Ce,he,nr?Ce+=Xt*vt/nr:me):gt(ot,je,Ce,nr?je+=Mt*vt/nr:he,me),nr-=vt,Wt=Pt}return Ne}var rt=function Le(Pe){function je(Ce,he,me,Ne,$e){Et(Pe,Ce,he,me,Ne,$e)}return je.ratio=function(Ce){return Le((Ce=+Ce)>1?Ce:1)},je}(Tt);function ze(){var Le=rt,Pe=!1,je=1,Ce=1,he=[0],me=Q,Ne=Q,$e=Q,ot=Q,st=Q;function Wt(dt){return dt.x0=dt.y0=0,dt.x1=je,dt.y1=Ce,dt.eachBefore(Pt),he=[0],Pe&&dt.eachBefore(ge),dt}function Pt(dt){var Mt=he[dt.depth],Xt=dt.x0+Mt,nr=dt.y0+Mt,vt=dt.x1-Mt,Zt=dt.y1-Mt;vt<Xt&&(Xt=vt=(Xt+vt)/2),Zt<nr&&(nr=Zt=(nr+Zt)/2),dt.x0=Xt,dt.y0=nr,dt.x1=vt,dt.y1=Zt,dt.children&&(Mt=he[dt.depth+1]=me(dt)/2,Xt+=st(dt)-Mt,nr+=Ne(dt)-Mt,vt-=$e(dt)-Mt,Zt-=ot(dt)-Mt,vt<Xt&&(Xt=vt=(Xt+vt)/2),Zt<nr&&(nr=Zt=(nr+Zt)/2),Le(dt,Xt,nr,vt,Zt))}return Wt.round=function(dt){return arguments.length?(Pe=!!dt,Wt):Pe},Wt.size=function(dt){return arguments.length?(je=+dt[0],Ce=+dt[1],Wt):[je,Ce]},Wt.tile=function(dt){return arguments.length?(Le=Y(dt),Wt):Le},Wt.padding=function(dt){return arguments.length?Wt.paddingInner(dt).paddingOuter(dt):Wt.paddingInner()},Wt.paddingInner=function(dt){return arguments.length?(me=typeof dt=="function"?dt:oe(+dt),Wt):me},Wt.paddingOuter=function(dt){return arguments.length?Wt.paddingTop(dt).paddingRight(dt).paddingBottom(dt).paddingLeft(dt):Wt.paddingTop()},Wt.paddingTop=function(dt){return arguments.length?(Ne=typeof dt=="function"?dt:oe(+dt),Wt):Ne},Wt.paddingRight=function(dt){return arguments.length?($e=typeof dt=="function"?dt:oe(+dt),Wt):$e},Wt.paddingBottom=function(dt){return arguments.length?(ot=typeof dt=="function"?dt:oe(+dt),Wt):ot},Wt.paddingLeft=function(dt){return arguments.length?(st=typeof dt=="function"?dt:oe(+dt),Wt):st},Wt}function He(Le,Pe,je,Ce,he){var me=Le.children,Ne,$e=me.length,ot,st=new Array($e+1);for(st[0]=ot=Ne=0;Ne<$e;++Ne)st[Ne+1]=ot+=me[Ne].value;Wt(0,$e,Le.value,Pe,je,Ce,he);function Wt(Pt,dt,Mt,Xt,nr,vt,Zt){if(Pt>=dt-1){var Kt=me[Pt];Kt.x0=Xt,Kt.y0=nr,Kt.x1=vt,Kt.y1=Zt;return}for(var yr=st[Pt],or=Mt/2+yr,mt=Pt+1,lt=dt-1;mt<lt;){var bt=mt+lt>>>1;st[bt]<or?mt=bt+1:lt=bt}or-st[mt-1]<st[mt]-or&&Pt+1<mt&&--mt;var Ct=st[mt]-yr,Dt=Mt-Ct;if(vt-Xt>Zt-nr){var Ht=(Xt*Dt+vt*Ct)/Mt;Wt(Pt,mt,Ct,Xt,nr,Ht,Zt),Wt(mt,dt,Dt,Ht,nr,vt,Zt)}else{var Bt=(nr*Dt+Zt*Ct)/Mt;Wt(Pt,mt,Ct,Xt,nr,vt,Bt),Wt(mt,dt,Dt,Xt,Bt,vt,Zt)}}}function Ge(Le,Pe,je,Ce,he){(Le.depth&1?gt:be)(Le,Pe,je,Ce,he)}var We=function Le(Pe){function je(Ce,he,me,Ne,$e){if((ot=Ce._squarify)&&ot.ratio===Pe)for(var ot,st,Wt,Pt,dt=-1,Mt,Xt=ot.length,nr=Ce.value;++dt<Xt;){for(st=ot[dt],Wt=st.children,Pt=st.value=0,Mt=Wt.length;Pt<Mt;++Pt)st.value+=Wt[Pt].value;st.dice?be(st,he,me,Ne,me+=($e-me)*st.value/nr):gt(st,he,me,he+=(Ne-he)*st.value/nr,$e),nr-=st.value}else Ce._squarify=ot=Et(Pe,Ce,he,me,Ne,$e),ot.ratio=Pe}return je.ratio=function(Ce){return Le((Ce=+Ce)>1?Ce:1)},je}(Tt)},10132:function(G,H,e){e.d(H,{ak:function(){return h}});var m=Math.PI,P=2*m,s=1e-6,L=P-s;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new S}S.prototype=v.prototype={constructor:S,moveTo:function(T,c){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,c){this._+="L"+(this._x1=+T)+","+(this._y1=+c)},quadraticCurveTo:function(T,c,a,d){this._+="Q"+ +T+","+ +c+","+(this._x1=+a)+","+(this._y1=+d)},bezierCurveTo:function(T,c,a,d,x,w){this._+="C"+ +T+","+ +c+","+ +a+","+ +d+","+(this._x1=+x)+","+(this._y1=+w)},arcTo:function(T,c,a,d,x){T=+T,c=+c,a=+a,d=+d,x=+x;var w=this._x1,C=this._y1,y=a-T,M=d-c,A=w-T,o=C-c,E=A*A+o*o;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=c);else if(E>s)if(!(Math.abs(o*y-M*A)>s)||!x)this._+="L"+(this._x1=T)+","+(this._y1=c);else{var b=a-w,I=d-C,D=y*y+M*M,N=b*b+I*I,k=Math.sqrt(D),O=Math.sqrt(E),F=x*Math.tan((m-Math.acos((D+E-N)/(2*k*O)))/2),z=F/O,B=F/k;Math.abs(z-1)>s&&(this._+="L"+(T+z*A)+","+(c+z*o)),this._+="A"+x+","+x+",0,0,"+ +(o*b>A*I)+","+(this._x1=T+B*y)+","+(this._y1=c+B*M)}},arc:function(T,c,a,d,x,w){T=+T,c=+c,a=+a,w=!!w;var C=a*Math.cos(d),y=a*Math.sin(d),M=T+C,A=c+y,o=1^w,E=w?d-x:x-d;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+M+","+A:(Math.abs(this._x1-M)>s||Math.abs(this._y1-A)>s)&&(this._+="L"+M+","+A),a&&(E<0&&(E=E%P+P),E>L?this._+="A"+a+","+a+",0,1,"+o+","+(T-C)+","+(c-y)+"A"+a+","+a+",0,1,"+o+","+(this._x1=M)+","+(this._y1=A):E>s&&(this._+="A"+a+","+a+",0,"+ +(E>=m)+","+o+","+(this._x1=T+a*Math.cos(x))+","+(this._y1=c+a*Math.sin(x))))},rect:function(T,c,a,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)+"h"+ +a+"v"+ +d+"h"+-a+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function i(T){return T[0]}function n(T){return T[1]}function f(T){return T.source}function u(T){return T.target}function l(T){var c=f,a=u,d=i,x=n,w=null;function C(){var y,M=r.call(arguments),A=c.apply(this,M),o=a.apply(this,M);if(w||(w=y=p()),T(w,+d.apply(this,(M[0]=A,M)),+x.apply(this,M),+d.apply(this,(M[0]=o,M)),+x.apply(this,M)),y)return w=null,y+""||null}return C.source=function(y){return arguments.length?(c=y,C):c},C.target=function(y){return arguments.length?(a=y,C):a},C.x=function(y){return arguments.length?(d=typeof y=="function"?y:t(+y),C):d},C.y=function(y){return arguments.length?(x=typeof y=="function"?y:t(+y),C):x},C.context=function(y){return arguments.length?(w=y??null,C):w},C}function g(T,c,a,d,x){T.moveTo(c,a),T.bezierCurveTo(c=(c+d)/2,a,c,x,d,x)}function h(){return l(g)}},94336:function(G,H,e){e.d(H,{Yn:function(){return He},m_:function(){return i},E9:function(){return Ge}});var m=e(8208),P=e(58931),s=e(46192),L=e(68936),S=e(32171),v=e(53528);function p(Le){if(0<=Le.y&&Le.y<100){var Pe=new Date(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L);return Pe.setFullYear(Le.y),Pe}return new Date(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L)}function r(Le){if(0<=Le.y&&Le.y<100){var Pe=new Date(Date.UTC(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L));return Pe.setUTCFullYear(Le.y),Pe}return new Date(Date.UTC(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L))}function t(Le,Pe,je){return{y:Le,m:Pe,d:je,H:0,M:0,S:0,L:0}}function i(Le){var Pe=Le.dateTime,je=Le.date,Ce=Le.time,he=Le.periods,me=Le.days,Ne=Le.shortDays,$e=Le.months,ot=Le.shortMonths,st=T(he),Wt=c(he),Pt=T(me),dt=c(me),Mt=T(Ne),Xt=c(Ne),nr=T($e),vt=c($e),Zt=T(ot),Kt=c(ot),yr={a:Ye,A:Ue,b:Ot,B:It,c:null,d:J,e:J,f:K,H:re,I:ne,j:le,L:$,m:ie,M:Y,p:Qt,q:lr,Q:Et,s:rt,S:Q,u:oe,U:X,V:j,w:se,W:te,x:null,X:null,y:fe,Y:ge,Z:be,"%":Tt},or={a:fr,A:er,b:Nt,B:ir,c:null,d:xe,e:xe,f:Re,H:_e,I:De,j:Fe,L:Te,m:Se,M:Ie,p:vr,q:xr,Q:Et,s:rt,S:Me,u:Ve,U:et,V:it,w:Je,W:Qe,x:null,X:null,y:ct,Y:ht,Z:gt,"%":Tt},mt={a:Ht,A:Bt,b:Ut,B:Jt,c:cr,d:b,e:b,f:F,H:D,I:D,j:I,L:O,m:E,M:N,p:Dt,q:o,Q:B,s:W,S:k,u:d,U:x,V:w,w:a,W:C,x:hr,X:pr,y:M,Y:y,Z:A,"%":z};yr.x=lt(je,yr),yr.X=lt(Ce,yr),yr.c=lt(Pe,yr),or.x=lt(je,or),or.X=lt(Ce,or),or.c=lt(Pe,or);function lt(dr,Hr){return function(Pr){var Rr=[],an=-1,tn=0,Sn=dr.length,Tn,Tr,zr;for(Pr instanceof Date||(Pr=new Date(+Pr));++an<Sn;)dr.charCodeAt(an)===37&&(Rr.push(dr.slice(tn,an)),(Tr=n[Tn=dr.charAt(++an)])!=null?Tn=dr.charAt(++an):Tr=Tn==="e"?" ":"0",(zr=Hr[Tn])&&(Tn=zr(Pr,Tr)),Rr.push(Tn),tn=an+1);return Rr.push(dr.slice(tn,an)),Rr.join("")}}function bt(dr,Hr){return function(Pr){var Rr=t(1900,void 0,1),an=Ct(Rr,dr,Pr+="",0),tn,Sn;if(an!=Pr.length)return null;if("Q"in Rr)return new Date(Rr.Q);if("s"in Rr)return new Date(Rr.s*1e3+("L"in Rr?Rr.L:0));if(Hr&&!("Z"in Rr)&&(Rr.Z=0),"p"in Rr&&(Rr.H=Rr.H%12+Rr.p*12),Rr.m===void 0&&(Rr.m="q"in Rr?Rr.q:0),"V"in Rr){if(Rr.V<1||Rr.V>53)return null;"w"in Rr||(Rr.w=1),"Z"in Rr?(tn=r(t(Rr.y,0,1)),Sn=tn.getUTCDay(),tn=Sn>4||Sn===0?m.ot.ceil(tn):(0,m.ot)(tn),tn=P.c.offset(tn,(Rr.V-1)*7),Rr.y=tn.getUTCFullYear(),Rr.m=tn.getUTCMonth(),Rr.d=tn.getUTCDate()+(Rr.w+6)%7):(tn=p(t(Rr.y,0,1)),Sn=tn.getDay(),tn=Sn>4||Sn===0?s.qT.ceil(tn):(0,s.qT)(tn),tn=L.c.offset(tn,(Rr.V-1)*7),Rr.y=tn.getFullYear(),Rr.m=tn.getMonth(),Rr.d=tn.getDate()+(Rr.w+6)%7)}else("W"in Rr||"U"in Rr)&&("w"in Rr||(Rr.w="u"in Rr?Rr.u%7:"W"in Rr?1:0),Sn="Z"in Rr?r(t(Rr.y,0,1)).getUTCDay():p(t(Rr.y,0,1)).getDay(),Rr.m=0,Rr.d="W"in Rr?(Rr.w+6)%7+Rr.W*7-(Sn+5)%7:Rr.w+Rr.U*7-(Sn+6)%7);return"Z"in Rr?(Rr.H+=Rr.Z/100|0,Rr.M+=Rr.Z%100,r(Rr)):p(Rr)}}function Ct(dr,Hr,Pr,Rr){for(var an=0,tn=Hr.length,Sn=Pr.length,Tn,Tr;an<tn;){if(Rr>=Sn)return-1;if(Tn=Hr.charCodeAt(an++),Tn===37){if(Tn=Hr.charAt(an++),Tr=mt[Tn in n?Hr.charAt(an++):Tn],!Tr||(Rr=Tr(dr,Pr,Rr))<0)return-1}else if(Tn!=Pr.charCodeAt(Rr++))return-1}return Rr}function Dt(dr,Hr,Pr){var Rr=st.exec(Hr.slice(Pr));return Rr?(dr.p=Wt[Rr[0].toLowerCase()],Pr+Rr[0].length):-1}function Ht(dr,Hr,Pr){var Rr=Mt.exec(Hr.slice(Pr));return Rr?(dr.w=Xt[Rr[0].toLowerCase()],Pr+Rr[0].length):-1}function Bt(dr,Hr,Pr){var Rr=Pt.exec(Hr.slice(Pr));return Rr?(dr.w=dt[Rr[0].toLowerCase()],Pr+Rr[0].length):-1}function Ut(dr,Hr,Pr){var Rr=Zt.exec(Hr.slice(Pr));return Rr?(dr.m=Kt[Rr[0].toLowerCase()],Pr+Rr[0].length):-1}function Jt(dr,Hr,Pr){var Rr=nr.exec(Hr.slice(Pr));return Rr?(dr.m=vt[Rr[0].toLowerCase()],Pr+Rr[0].length):-1}function cr(dr,Hr,Pr){return Ct(dr,Pe,Hr,Pr)}function hr(dr,Hr,Pr){return Ct(dr,je,Hr,Pr)}function pr(dr,Hr,Pr){return Ct(dr,Ce,Hr,Pr)}function Ye(dr){return Ne[dr.getDay()]}function Ue(dr){return me[dr.getDay()]}function Ot(dr){return ot[dr.getMonth()]}function It(dr){return $e[dr.getMonth()]}function Qt(dr){return he[+(dr.getHours()>=12)]}function lr(dr){return 1+~~(dr.getMonth()/3)}function fr(dr){return Ne[dr.getUTCDay()]}function er(dr){return me[dr.getUTCDay()]}function Nt(dr){return ot[dr.getUTCMonth()]}function ir(dr){return $e[dr.getUTCMonth()]}function vr(dr){return he[+(dr.getUTCHours()>=12)]}function xr(dr){return 1+~~(dr.getUTCMonth()/3)}return{format:function(dr){var Hr=lt(dr+="",yr);return Hr.toString=function(){return dr},Hr},parse:function(dr){var Hr=bt(dr+="",!1);return Hr.toString=function(){return dr},Hr},utcFormat:function(dr){var Hr=lt(dr+="",or);return Hr.toString=function(){return dr},Hr},utcParse:function(dr){var Hr=bt(dr+="",!0);return Hr.toString=function(){return dr},Hr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function g(Le,Pe,je){var Ce=Le<0?"-":"",he=(Ce?-Le:Le)+"",me=he.length;return Ce+(me<je?new Array(je-me+1).join(Pe)+he:he)}function h(Le){return Le.replace(l,"\\$&")}function T(Le){return new RegExp("^(?:"+Le.map(h).join("|")+")","i")}function c(Le){for(var Pe={},je=-1,Ce=Le.length;++je<Ce;)Pe[Le[je].toLowerCase()]=je;return Pe}function a(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+1));return Ce?(Le.w=+Ce[0],je+Ce[0].length):-1}function d(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+1));return Ce?(Le.u=+Ce[0],je+Ce[0].length):-1}function x(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.U=+Ce[0],je+Ce[0].length):-1}function w(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.V=+Ce[0],je+Ce[0].length):-1}function C(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.W=+Ce[0],je+Ce[0].length):-1}function y(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+4));return Ce?(Le.y=+Ce[0],je+Ce[0].length):-1}function M(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.y=+Ce[0]+(+Ce[0]>68?1900:2e3),je+Ce[0].length):-1}function A(Le,Pe,je){var Ce=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pe.slice(je,je+6));return Ce?(Le.Z=Ce[1]?0:-(Ce[2]+(Ce[3]||"00")),je+Ce[0].length):-1}function o(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+1));return Ce?(Le.q=Ce[0]*3-3,je+Ce[0].length):-1}function E(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.m=Ce[0]-1,je+Ce[0].length):-1}function b(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.d=+Ce[0],je+Ce[0].length):-1}function I(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+3));return Ce?(Le.m=0,Le.d=+Ce[0],je+Ce[0].length):-1}function D(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.H=+Ce[0],je+Ce[0].length):-1}function N(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.M=+Ce[0],je+Ce[0].length):-1}function k(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+2));return Ce?(Le.S=+Ce[0],je+Ce[0].length):-1}function O(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+3));return Ce?(Le.L=+Ce[0],je+Ce[0].length):-1}function F(Le,Pe,je){var Ce=f.exec(Pe.slice(je,je+6));return Ce?(Le.L=Math.floor(Ce[0]/1e3),je+Ce[0].length):-1}function z(Le,Pe,je){var Ce=u.exec(Pe.slice(je,je+1));return Ce?je+Ce[0].length:-1}function B(Le,Pe,je){var Ce=f.exec(Pe.slice(je));return Ce?(Le.Q=+Ce[0],je+Ce[0].length):-1}function W(Le,Pe,je){var Ce=f.exec(Pe.slice(je));return Ce?(Le.s=+Ce[0],je+Ce[0].length):-1}function J(Le,Pe){return g(Le.getDate(),Pe,2)}function re(Le,Pe){return g(Le.getHours(),Pe,2)}function ne(Le,Pe){return g(Le.getHours()%12||12,Pe,2)}function le(Le,Pe){return g(1+L.c.count((0,S.c)(Le),Le),Pe,3)}function $(Le,Pe){return g(Le.getMilliseconds(),Pe,3)}function K(Le,Pe){return $(Le,Pe)+"000"}function ie(Le,Pe){return g(Le.getMonth()+1,Pe,2)}function Y(Le,Pe){return g(Le.getMinutes(),Pe,2)}function Q(Le,Pe){return g(Le.getSeconds(),Pe,2)}function oe(Le){var Pe=Le.getDay();return Pe===0?7:Pe}function X(Le,Pe){return g(s.uU.count((0,S.c)(Le)-1,Le),Pe,2)}function j(Le,Pe){var je=Le.getDay();return Le=je>=4||je===0?(0,s.kD)(Le):s.kD.ceil(Le),g(s.kD.count((0,S.c)(Le),Le)+((0,S.c)(Le).getDay()===4),Pe,2)}function se(Le){return Le.getDay()}function te(Le,Pe){return g(s.qT.count((0,S.c)(Le)-1,Le),Pe,2)}function fe(Le,Pe){return g(Le.getFullYear()%100,Pe,2)}function ge(Le,Pe){return g(Le.getFullYear()%1e4,Pe,4)}function be(Le){var Pe=Le.getTimezoneOffset();return(Pe>0?"-":(Pe*=-1,"+"))+g(Pe/60|0,"0",2)+g(Pe%60,"0",2)}function xe(Le,Pe){return g(Le.getUTCDate(),Pe,2)}function _e(Le,Pe){return g(Le.getUTCHours(),Pe,2)}function De(Le,Pe){return g(Le.getUTCHours()%12||12,Pe,2)}function Fe(Le,Pe){return g(1+P.c.count((0,v.c)(Le),Le),Pe,3)}function Te(Le,Pe){return g(Le.getUTCMilliseconds(),Pe,3)}function Re(Le,Pe){return Te(Le,Pe)+"000"}function Se(Le,Pe){return g(Le.getUTCMonth()+1,Pe,2)}function Ie(Le,Pe){return g(Le.getUTCMinutes(),Pe,2)}function Me(Le,Pe){return g(Le.getUTCSeconds(),Pe,2)}function Ve(Le){var Pe=Le.getUTCDay();return Pe===0?7:Pe}function et(Le,Pe){return g(m.EV.count((0,v.c)(Le)-1,Le),Pe,2)}function it(Le,Pe){var je=Le.getUTCDay();return Le=je>=4||je===0?(0,m.yA)(Le):m.yA.ceil(Le),g(m.yA.count((0,v.c)(Le),Le)+((0,v.c)(Le).getUTCDay()===4),Pe,2)}function Je(Le){return Le.getUTCDay()}function Qe(Le,Pe){return g(m.ot.count((0,v.c)(Le)-1,Le),Pe,2)}function ct(Le,Pe){return g(Le.getUTCFullYear()%100,Pe,2)}function ht(Le,Pe){return g(Le.getUTCFullYear()%1e4,Pe,4)}function gt(){return"+0000"}function Tt(){return"%"}function Et(Le){return+Le}function rt(Le){return Math.floor(+Le/1e3)}var ze,He,Ge;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(Le){return ze=i(Le),He=ze.format,ze.parse,Ge=ze.utcFormat,ze.utcParse,ze}},68936:function(G,H,e){e.d(H,{m:function(){return L}});var m=e(81628),P=e(69792),s=(0,m.c)(function(S){S.setHours(0,0,0,0)},function(S,v){S.setDate(S.getDate()+v)},function(S,v){return(v-S-(v.getTimezoneOffset()-S.getTimezoneOffset())*P.iy)/P.SK},function(S){return S.getDate()-1});H.c=s;var L=s.range},69792:function(G,H,e){e.d(H,{KK:function(){return S},SK:function(){return L},cg:function(){return s},iy:function(){return P},yc:function(){return m}});var m=1e3,P=6e4,s=36e5,L=864e5,S=6048e5},73220:function(G,H,e){e.r(H),e.d(H,{timeDay:function(){return g.c},timeDays:function(){return g.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return m.c},timeMillisecond:function(){return s},timeMilliseconds:function(){return L},timeMinute:function(){return i},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return a},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return o.c},utcDays:function(){return o.o},utcFriday:function(){return E.od},utcFridays:function(){return E.iG},utcHour:function(){return M},utcHours:function(){return A},utcMillisecond:function(){return s},utcMilliseconds:function(){return L},utcMinute:function(){return w},utcMinutes:function(){return C},utcMonday:function(){return E.ot},utcMondays:function(){return E.iO},utcMonth:function(){return I},utcMonths:function(){return D},utcSaturday:function(){return E.Ad},utcSaturdays:function(){return E.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return E.EV},utcSundays:function(){return E.Wq},utcThursday:function(){return E.yA},utcThursdays:function(){return E.ob},utcTuesday:function(){return E.sG},utcTuesdays:function(){return E.kl},utcWednesday:function(){return E._6},utcWednesdays:function(){return E.W_},utcWeek:function(){return E.EV},utcWeeks:function(){return E.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var m=e(81628),P=(0,m.c)(function(){},function(k,O){k.setTime(+k+O)},function(k,O){return O-k});P.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?(0,m.c)(function(O){O.setTime(Math.floor(O/k)*k)},function(O,F){O.setTime(+O+F*k)},function(O,F){return(F-O)/k}):P};var s=P,L=P.range,S=e(69792),v=(0,m.c)(function(k){k.setTime(k-k.getMilliseconds())},function(k,O){k.setTime(+k+O*S.yc)},function(k,O){return(O-k)/S.yc},function(k){return k.getUTCSeconds()}),p=v,r=v.range,t=(0,m.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*S.yc)},function(k,O){k.setTime(+k+O*S.iy)},function(k,O){return(O-k)/S.iy},function(k){return k.getMinutes()}),i=t,n=t.range,f=(0,m.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*S.yc-k.getMinutes()*S.iy)},function(k,O){k.setTime(+k+O*S.cg)},function(k,O){return(O-k)/S.cg},function(k){return k.getHours()}),u=f,l=f.range,g=e(68936),h=e(46192),T=(0,m.c)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,O){k.setMonth(k.getMonth()+O)},function(k,O){return O.getMonth()-k.getMonth()+(O.getFullYear()-k.getFullYear())*12},function(k){return k.getMonth()}),c=T,a=T.range,d=e(32171),x=(0,m.c)(function(k){k.setUTCSeconds(0,0)},function(k,O){k.setTime(+k+O*S.iy)},function(k,O){return(O-k)/S.iy},function(k){return k.getUTCMinutes()}),w=x,C=x.range,y=(0,m.c)(function(k){k.setUTCMinutes(0,0,0)},function(k,O){k.setTime(+k+O*S.cg)},function(k,O){return(O-k)/S.cg},function(k){return k.getUTCHours()}),M=y,A=y.range,o=e(58931),E=e(8208),b=(0,m.c)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,O){k.setUTCMonth(k.getUTCMonth()+O)},function(k,O){return O.getUTCMonth()-k.getUTCMonth()+(O.getUTCFullYear()-k.getUTCFullYear())*12},function(k){return k.getUTCMonth()}),I=b,D=b.range,N=e(53528)},81628:function(G,H,e){e.d(H,{c:function(){return s}});var m=new Date,P=new Date;function s(L,S,v,p){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),S(t,1),L(t),t},r.round=function(t){var i=r(t),n=r.ceil(t);return t-i<n-t?i:n},r.offset=function(t,i){return S(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,n){var f=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<i)||!(n>0))return f;do f.push(u=new Date(+t)),S(t,n),L(t);while(u<t&&t<i);return f},r.filter=function(t){return s(function(i){if(i>=i)for(;L(i),!t(i);)i.setTime(i-1)},function(i,n){if(i>=i)if(n<0)for(;++n<=0;)for(;S(i,-1),!t(i););else for(;--n>=0;)for(;S(i,1),!t(i););})},v&&(r.count=function(t,i){return m.setTime(+t),P.setTime(+i),L(m),L(P),Math.floor(v(m,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(i){return p(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},58931:function(G,H,e){e.d(H,{o:function(){return L}});var m=e(81628),P=e(69792),s=(0,m.c)(function(S){S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCDate(S.getUTCDate()+v)},function(S,v){return(v-S)/P.SK},function(S){return S.getUTCDate()-1});H.c=s;var L=s.range},8208:function(G,H,e){e.d(H,{Ad:function(){return i},EV:function(){return L},K8:function(){return T},W_:function(){return l},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return f},kl:function(){return u},ob:function(){return g},od:function(){return t},ot:function(){return S},sG:function(){return v},yA:function(){return r}});var m=e(81628),P=e(69792);function s(c){return(0,m.c)(function(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-c)%7),a.setUTCHours(0,0,0,0)},function(a,d){a.setUTCDate(a.getUTCDate()+d*7)},function(a,d){return(d-a)/P.KK})}var L=s(0),S=s(1),v=s(2),p=s(3),r=s(4),t=s(5),i=s(6),n=L.range,f=S.range,u=v.range,l=p.range,g=r.range,h=t.range,T=i.range},53528:function(G,H,e){e.d(H,{i:function(){return s}});var m=e(81628),P=(0,m.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,S){L.setUTCFullYear(L.getUTCFullYear()+S)},function(L,S){return S.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,m.c)(function(S){S.setUTCFullYear(Math.floor(S.getUTCFullYear()/L)*L),S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCFullYear(S.getUTCFullYear()+v*L)})},H.c=P;var s=P.range},46192:function(G,H,e){e.d(H,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return i},aI:function(){return T},eC:function(){return g},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return S},sJ:function(){return h},sn:function(){return l},uU:function(){return L}});var m=e(81628),P=e(69792);function s(c){return(0,m.c)(function(a){a.setDate(a.getDate()-(a.getDay()+7-c)%7),a.setHours(0,0,0,0)},function(a,d){a.setDate(a.getDate()+d*7)},function(a,d){return(d-a-(d.getTimezoneOffset()-a.getTimezoneOffset())*P.iy)/P.KK})}var L=s(0),S=s(1),v=s(2),p=s(3),r=s(4),t=s(5),i=s(6),n=L.range,f=S.range,u=v.range,l=p.range,g=r.range,h=t.range,T=i.range},32171:function(G,H,e){e.d(H,{Q:function(){return s}});var m=e(81628),P=(0,m.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,S){L.setFullYear(L.getFullYear()+S)},function(L,S){return S.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,m.c)(function(S){S.setFullYear(Math.floor(S.getFullYear()/L)*L),S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,v){S.setFullYear(S.getFullYear()+v*L)})},H.c=P;var s=P.range},64348:function(G,H,e){var m=e(39640)(),P=e(53664),s=m&&P("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch{s=!1}var L=P("%SyntaxError%"),S=P("%TypeError%"),v=e(2304);G.exports=function(r,t,i){if(!r||typeof r!="object"&&typeof r!="function")throw new S("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new S("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new S("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new S("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new S("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new S("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,g=!!v&&v(r,t);if(s)s(r,t,{configurable:u===null&&g?g.configurable:!u,enumerable:n===null&&g?g.enumerable:!n,value:i,writable:f===null&&g?g.writable:!f});else if(l||!n&&!f&&!u)r[t]=i;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(G,H,e){var m=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",s=Object.prototype.toString,L=Array.prototype.concat,S=Object.defineProperty,v=function(n){return typeof n=="function"&&s.call(n)==="[object Function]"},p=e(39640)(),r=S&&p,t=function(n,f,u,l){if(f in n){if(l===!0){if(n[f]===u)return}else if(!v(l)||!l())return}r?S(n,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[f]=u},i=function(n,f){var u=arguments.length>2?arguments[2]:{},l=m(f);P&&(l=L.call(l,Object.getOwnPropertySymbols(f)));for(var g=0;g<l.length;g+=1)t(n,l[g],f[l[g]],u[l[g]])};i.supportsDescriptors=!!r,G.exports=i},31264:function(G){G.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},63768:function(G){G.exports=P;var H=P.canvas=document.createElement("canvas"),e=H.getContext("2d"),m=s([32,126]);P.createPairs=s,P.ascii=m;function P(L,S){Array.isArray(L)&&(L=L.join(", "));var v={},p,r=16,t=.05;S&&(S.length===2&&typeof S[0]=="number"?p=s(S):Array.isArray(S)?p=S:(S.o?p=s(S.o):S.pairs&&(p=S.pairs),S.fontSize&&(r=S.fontSize),S.threshold!=null&&(t=S.threshold))),p||(p=m),e.font=r+"px "+L;for(var i=0;i<p.length;i++){var n=p[i],f=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[n]=l*1e3}}return v}function s(L){for(var S=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),i=p+t;S.push(i)}return S}},22235:function(G,H,e){var m=e(49972),P=e(48816),s={M:"moveTo",C:"bezierCurveTo"};G.exports=function(L,S){L.beginPath(),P(m(S)).forEach(function(v){var p=v[0],r=v.slice(1);L[s[p]].apply(L,r)}),L.closePath()}},72512:function(G){G.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(G){function H(P,s,L){var S=P[L]|0;if(S<=0)return[];var v=new Array(S),p;if(L===P.length-1)for(p=0;p<S;++p)v[p]=s;else for(p=0;p<S;++p)v[p]=H(P,s,L+1);return v}function e(P,s){var L,S;for(L=new Array(P),S=0;S<P;++S)L[S]=s;return L}function m(P,s){switch(typeof s>"u"&&(s=0),typeof P){case"number":if(P>0)return e(P|0,s);break;case"object":if(typeof P.length=="number")return H(P,s,0);break}return[]}G.exports=m},28912:function(G){G.exports=H,G.exports.default=H;function H(D,N,k){k=k||2;var O=N&&N.length,F=O?N[0]*k:D.length,z=e(D,0,F,k,!0),B=[];if(!z||z.next===z.prev)return B;var W,J,re,ne,le,$,K;if(O&&(z=p(D,N,z,k)),D.length>80*k){W=re=D[0],J=ne=D[1];for(var ie=k;ie<F;ie+=k)le=D[ie],$=D[ie+1],le<W&&(W=le),$<J&&(J=$),le>re&&(re=le),$>ne&&(ne=$);K=Math.max(re-W,ne-J),K=K!==0?1/K:0}return P(z,B,k,W,J,K),B}function e(D,N,k,O,F){var z,B;if(F===I(D,N,k,O)>0)for(z=N;z<k;z+=O)B=o(z,D[z],D[z+1],B);else for(z=k-O;z>=N;z-=O)B=o(z,D[z],D[z+1],B);return B&&a(B,B.next)&&(E(B),B=B.next),B}function m(D,N){if(!D)return D;N||(N=D);var k=D,O;do if(O=!1,!k.steiner&&(a(k,k.next)||c(k.prev,k,k.next)===0)){if(E(k),k=N=k.prev,k===k.next)break;O=!0}else k=k.next;while(O||k!==N);return N}function P(D,N,k,O,F,z,B){if(D){!B&&z&&f(D,O,F,z);for(var W=D,J,re;D.prev!==D.next;){if(J=D.prev,re=D.next,z?L(D,O,F,z):s(D)){N.push(J.i/k),N.push(D.i/k),N.push(re.i/k),E(D),D=re.next,W=re.next;continue}if(D=re,D===W){B?B===1?(D=S(m(D),N,k),P(D,N,k,O,F,z,2)):B===2&&v(D,N,k,O,F,z):P(m(D),N,k,O,F,z,1);break}}}}function s(D){var N=D.prev,k=D,O=D.next;if(c(N,k,O)>=0)return!1;for(var F=D.next.next;F!==D.prev;){if(h(N.x,N.y,k.x,k.y,O.x,O.y,F.x,F.y)&&c(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function L(D,N,k,O){var F=D.prev,z=D,B=D.next;if(c(F,z,B)>=0)return!1;for(var W=F.x<z.x?F.x<B.x?F.x:B.x:z.x<B.x?z.x:B.x,J=F.y<z.y?F.y<B.y?F.y:B.y:z.y<B.y?z.y:B.y,re=F.x>z.x?F.x>B.x?F.x:B.x:z.x>B.x?z.x:B.x,ne=F.y>z.y?F.y>B.y?F.y:B.y:z.y>B.y?z.y:B.y,le=l(W,J,N,k,O),$=l(re,ne,N,k,O),K=D.prevZ,ie=D.nextZ;K&&K.z>=le&&ie&&ie.z<=$;){if(K!==D.prev&&K!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,K.x,K.y)&&c(K.prev,K,K.next)>=0||(K=K.prevZ,ie!==D.prev&&ie!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,ie.x,ie.y)&&c(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;K&&K.z>=le;){if(K!==D.prev&&K!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,K.x,K.y)&&c(K.prev,K,K.next)>=0)return!1;K=K.prevZ}for(;ie&&ie.z<=$;){if(ie!==D.prev&&ie!==D.next&&h(F.x,F.y,z.x,z.y,B.x,B.y,ie.x,ie.y)&&c(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function S(D,N,k){var O=D;do{var F=O.prev,z=O.next.next;!a(F,z)&&d(F,O,O.next,z)&&y(F,z)&&y(z,F)&&(N.push(F.i/k),N.push(O.i/k),N.push(z.i/k),E(O),E(O.next),O=D=z),O=O.next}while(O!==D);return m(O)}function v(D,N,k,O,F,z){var B=D;do{for(var W=B.next.next;W!==B.prev;){if(B.i!==W.i&&T(B,W)){var J=A(B,W);B=m(B,B.next),J=m(J,J.next),P(B,N,k,O,F,z),P(J,N,k,O,F,z);return}W=W.next}B=B.next}while(B!==D)}function p(D,N,k,O){var F=[],z,B,W,J,re;for(z=0,B=N.length;z<B;z++)W=N[z]*O,J=z<B-1?N[z+1]*O:D.length,re=e(D,W,J,O,!1),re===re.next&&(re.steiner=!0),F.push(g(re));for(F.sort(r),z=0;z<F.length;z++)t(F[z],k),k=m(k,k.next);return k}function r(D,N){return D.x-N.x}function t(D,N){if(N=i(D,N),N){var k=A(N,D);m(N,N.next),m(k,k.next)}}function i(D,N){var k=N,O=D.x,F=D.y,z=-1/0,B;do{if(F<=k.y&&F>=k.next.y&&k.next.y!==k.y){var W=k.x+(F-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(W<=O&&W>z){if(z=W,W===O){if(F===k.y)return k;if(F===k.next.y)return k.next}B=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!B)return null;if(O===z)return B;var J=B,re=B.x,ne=B.y,le=1/0,$;k=B;do O>=k.x&&k.x>=re&&O!==k.x&&h(F<ne?O:z,F,re,ne,F<ne?z:O,F,k.x,k.y)&&($=Math.abs(F-k.y)/(O-k.x),y(k,D)&&($<le||$===le&&(k.x>B.x||k.x===B.x&&n(B,k)))&&(B=k,le=$)),k=k.next;while(k!==J);return B}function n(D,N){return c(D.prev,D,N.prev)<0&&c(N.next,D,D.next)<0}function f(D,N,k,O){var F=D;do F.z===null&&(F.z=l(F.x,F.y,N,k,O)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==D);F.prevZ.nextZ=null,F.prevZ=null,u(F)}function u(D){var N,k,O,F,z,B,W,J,re=1;do{for(k=D,D=null,z=null,B=0;k;){for(B++,O=k,W=0,N=0;N<re&&(W++,O=O.nextZ,!!O);N++);for(J=re;W>0||J>0&&O;)W!==0&&(J===0||!O||k.z<=O.z)?(F=k,k=k.nextZ,W--):(F=O,O=O.nextZ,J--),z?z.nextZ=F:D=F,F.prevZ=z,z=F;k=O}z.nextZ=null,re*=2}while(B>1);return D}function l(D,N,k,O,F){return D=32767*(D-k)*F,N=32767*(N-O)*F,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,D|N<<1}function g(D){var N=D,k=D;do(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next;while(N!==D);return k}function h(D,N,k,O,F,z,B,W){return(F-B)*(N-W)-(D-B)*(z-W)>=0&&(D-B)*(O-W)-(k-B)*(N-W)>=0&&(k-B)*(z-W)-(F-B)*(O-W)>=0}function T(D,N){return D.next.i!==N.i&&D.prev.i!==N.i&&!C(D,N)&&(y(D,N)&&y(N,D)&&M(D,N)&&(c(D.prev,D,N.prev)||c(D,N.prev,N))||a(D,N)&&c(D.prev,D,D.next)>0&&c(N.prev,N,N.next)>0)}function c(D,N,k){return(N.y-D.y)*(k.x-N.x)-(N.x-D.x)*(k.y-N.y)}function a(D,N){return D.x===N.x&&D.y===N.y}function d(D,N,k,O){var F=w(c(D,N,k)),z=w(c(D,N,O)),B=w(c(k,O,D)),W=w(c(k,O,N));return!!(F!==z&&B!==W||F===0&&x(D,k,N)||z===0&&x(D,O,N)||B===0&&x(k,D,O)||W===0&&x(k,N,O))}function x(D,N,k){return N.x<=Math.max(D.x,k.x)&&N.x>=Math.min(D.x,k.x)&&N.y<=Math.max(D.y,k.y)&&N.y>=Math.min(D.y,k.y)}function w(D){return D>0?1:D<0?-1:0}function C(D,N){var k=D;do{if(k.i!==D.i&&k.next.i!==D.i&&k.i!==N.i&&k.next.i!==N.i&&d(k,k.next,D,N))return!0;k=k.next}while(k!==D);return!1}function y(D,N){return c(D.prev,D,D.next)<0?c(D,N,D.next)>=0&&c(D,D.prev,N)>=0:c(D,N,D.prev)<0||c(D,D.next,N)<0}function M(D,N){var k=D,O=!1,F=(D.x+N.x)/2,z=(D.y+N.y)/2;do k.y>z!=k.next.y>z&&k.next.y!==k.y&&F<(k.next.x-k.x)*(z-k.y)/(k.next.y-k.y)+k.x&&(O=!O),k=k.next;while(k!==D);return O}function A(D,N){var k=new b(D.i,D.x,D.y),O=new b(N.i,N.x,N.y),F=D.next,z=N.prev;return D.next=N,N.prev=D,k.next=F,F.prev=k,O.next=k,k.prev=O,z.next=O,O.prev=z,O}function o(D,N,k,O){var F=new b(D,N,k);return O?(F.next=O.next,F.prev=O,O.next.prev=F,O.next=F):(F.prev=F,F.next=F),F}function E(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function b(D,N,k){this.i=D,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(D,N,k,O){var F=N&&N.length,z=F?N[0]*k:D.length,B=Math.abs(I(D,0,z,k));if(F)for(var W=0,J=N.length;W<J;W++){var re=N[W]*k,ne=W<J-1?N[W+1]*k:D.length;B-=Math.abs(I(D,re,ne,k))}var le=0;for(W=0;W<O.length;W+=3){var $=O[W]*k,K=O[W+1]*k,ie=O[W+2]*k;le+=Math.abs((D[$]-D[ie])*(D[K+1]-D[$+1])-(D[$]-D[K])*(D[ie+1]-D[$+1]))}return B===0&&le===0?0:Math.abs((le-B)/B)};function I(D,N,k,O){for(var F=0,z=N,B=k-O;z<k;z+=O)F+=(D[B]-D[z])*(D[z+1]+D[B+1]),B=z;return F}H.flatten=function(D){for(var N=D[0][0].length,k={vertices:[],holes:[],dimensions:N},O=0,F=0;F<D.length;F++){for(var z=0;z<D[F].length;z++)for(var B=0;B<N;B++)k.vertices.push(D[F][z][B]);F>0&&(O+=D[F-1].length,k.holes.push(O))}return k}},6688:function(G,H,e){var m=e(78484);G.exports=function(s,L){var S=[],v=[],p=[],r={},t=[],i;function n(x){p[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(w){delete r[x][w],p[w]&&n(w)})}function f(x){var w=!1;v.push(x),p[x]=!0;var C,y;for(C=0;C<t[x].length;C++)y=t[x][C],y===i?(u(i,v),w=!0):p[y]||(w=f(y));if(w)n(x);else for(C=0;C<t[x].length;C++){y=t[x][C];var M=r[y];M||(M={},r[y]=M),M[y]=!0}return v.pop(),w}function u(x,w){var C=[].concat(w).concat(x);L?L(f):S.push(C)}function l(x){for(var w=0;w<s.length;w++)w<x&&(s[w]=[]),s[w]=s[w].filter(function(C){return C>=x})}function g(x){l(x);for(var w=s,C=m(w),y=C.components.filter(function(D){return D.length>1}),M=1/0,A,o=0;o<y.length;o++)for(var E=0;E<y[o].length;E++)y[o][E]<M&&(M=y[o][E],A=o);var b=y[A];if(!b)return!1;var I=s.map(function(D,N){return b.indexOf(N)===-1?[]:D.filter(function(k){return b.indexOf(k)!==-1})});return{leastVertex:M,adjList:I}}i=0;for(var h=s.length;i<h;){var T=g(i);if(i=T.leastVertex,t=T.adjList,t){for(var c=0;c<t.length;c++)for(var a=0;a<t[c].length;a++){var d=t[c][a];p[+d]=!1,r[d]={}}f(i),i=i+1}else i=h}if(!L)return S}},41476:function(G,H,e){var m=e(9252);G.exports=function(){return m(this).length=0,this}},74772:function(G,H,e){G.exports=e(44716)()?Array.from:e(80816)},44716:function(G){G.exports=function(){var H=Array.from,e,m;return typeof H!="function"?!1:(e=["raz","dwa"],m=H(e),!!(m&&m!==e&&m[1]==="dwa"))}},80816:function(G,H,e){var m=e(92664).iterator,P=e(60948),s=e(17024),L=e(81304),S=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,i=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;G.exports=function(u){var l=arguments[1],g=arguments[2],h,T,c,a,d,x,w,C,y,M;if(u=Object(v(u)),p(l)&&S(l),!this||this===Array||!s(this)){if(!l){if(P(u))return d=u.length,d!==1?Array.apply(null,u):(a=new Array(1),a[0]=u[0],a);if(t(u)){for(a=new Array(d=u.length),T=0;T<d;++T)a[T]=u[T];return a}}a=[]}else h=this;if(!t(u)){if((y=u[m])!==void 0){for(w=S(y).call(u),h&&(a=new h),C=w.next(),T=0;!C.done;)M=l?i.call(l,g,C.value,T):C.value,h?(n.value=M,f(a,T,n)):a[T]=M,C=w.next(),++T;d=T}else if(r(u)){for(d=u.length,h&&(a=new h),T=0,c=0;T<d;++T)M=u[T],T+1<d&&(x=M.charCodeAt(0),x>=55296&&x<=56319&&(M+=u[++T])),M=l?i.call(l,g,M,c):M,h?(n.value=M,f(a,c,n)):a[c]=M,++c;d=c}}if(d===void 0)for(d=L(u.length),h&&(a=new h(d)),T=0;T<d;++T)M=l?i.call(l,g,u[T],T):u[T],h?(n.value=M,f(a,T,n)):a[T]=M;return h&&(n.value=null,a.length=d),a}},60948:function(G){var H=Object.prototype.toString,e=H.call(function(){return arguments}());G.exports=function(m){return H.call(m)===e}},17024:function(G){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(m){return typeof m=="function"&&e(H.call(m))}},33208:function(G){G.exports=function(){}},85608:function(G,H,e){G.exports=e(37328)()?Math.sign:e(92928)},37328:function(G){G.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},92928:function(G){G.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},96936:function(G,H,e){var m=e(85608),P=Math.abs,s=Math.floor;G.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:m(L)*s(P(L)))}},81304:function(G,H,e){var m=e(96936),P=Math.max;G.exports=function(s){return P(0,m(s))}},14428:function(G,H,e){var m=e(34044),P=e(9252),s=Function.prototype.bind,L=Function.prototype.call,S=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,i){var n,f=arguments[2],u=arguments[3];return t=Object(P(t)),m(i),n=S(t),u&&n.sort(typeof u=="function"?s.call(u,t):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(l,g){return v.call(t,l)?L.call(i,f,t[l],l,t,g):r})}}},38452:function(G,H,e){G.exports=e(96276)()?Object.assign:e(81892)},96276:function(G){G.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(G,H,e){var m=e(54768),P=e(9252),s=Math.max;G.exports=function(L,S){var v,p,r=s(arguments.length,2),t;for(L=Object(P(L)),t=function(i){try{L[i]=S[i]}catch(n){v||(v=n)}},p=1;p<r;++p)S=arguments[p],m(S).forEach(t);if(v!==void 0)throw v;return L}},95920:function(G,H,e){var m=e(74772),P=e(38452),s=e(9252);G.exports=function(L){var S=Object(s(L)),v=arguments[1],p=Object(arguments[2]);if(S!==L&&!v)return S;var r={};return v?m(v,function(t){(p.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},14452:function(G,H,e){var m=Object.create,P;e(63092)()||(P=e(8672)),G.exports=function(){var s,L,S;return!P||P.level!==1?m:(s={},L={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=S}),Object.defineProperties(s,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:s}),function(v,p){return m(v===null?s:v,p)})}()},42748:function(G,H,e){G.exports=e(14428)("forEach")},69127:function(G,H,e){var m=e(42584),P={function:!0,object:!0};G.exports=function(s){return m(s)&&P[typeof s]||!1}},42584:function(G,H,e){var m=e(33208)();G.exports=function(P){return P!==m&&P!==null}},54768:function(G,H,e){G.exports=e(87888)()?Object.keys:e(89592)},87888:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(G,H,e){var m=e(42584),P=Object.keys;G.exports=function(s){return P(m(s)?Object(s):s)}},84323:function(G,H,e){var m=e(34044),P=e(42748),s=Function.prototype.call;G.exports=function(L,S){var v={},p=arguments[2];return m(S),P(L,function(r,t,i,n){v[t]=s.call(S,p,r,t,i,n)}),v}},50868:function(G,H,e){var m=e(42584),P=Array.prototype.forEach,s=Object.create,L=function(S,v){var p;for(p in S)v[p]=S[p]};G.exports=function(S){var v=s(null);return P.call(arguments,function(p){m(p)&&L(Object(p),v)}),v}},69932:function(G,H,e){G.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(G){var H=Object.create,e=Object.getPrototypeOf,m={};G.exports=function(){var P=Object.setPrototypeOf,s=arguments[0]||H;return typeof P!="function"?!1:e(P(s(null),m))===m}},8672:function(G,H,e){var m=e(69127),P=e(9252),s=Object.prototype.isPrototypeOf,L=Object.defineProperty,S={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||m(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(i,n){return t.call(v(i,n),n),i}):r=function(i,n){return v(i,n).__proto__=n,i}:r=function i(n,f){var u;return v(n,f),u=s.call(i.nullPolyfill,n),u&&delete i.nullPolyfill.__proto__,f===null&&(f=i.nullPolyfill),n.__proto__=f,u&&L(i.nullPolyfill,"__proto__",S),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(G){G.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},92584:function(G,H,e){var m=e(69127);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not an Object");return P}},9252:function(G,H,e){var m=e(42584);G.exports=function(P){if(!m(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(G,H,e){G.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(G){var H="razdwatrzy";G.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},93040:function(G){var H=String.prototype.indexOf;G.exports=function(e){return H.call(this,e,arguments[1])>-1}},29768:function(G){var H=Object.prototype.toString,e=H.call("");G.exports=function(m){return typeof m=="string"||m&&typeof m=="object"&&(m instanceof String||H.call(m)===e)||!1}},82252:function(G){var H=Object.create(null),e=Math.random;G.exports=function(){var m;do m=e().toString(36).slice(2);while(H[m]);return m}},52104:function(G,H,e){var m=e(69932),P=e(71056),s=e(21092),L=e(92664),S=e(85512),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");S.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",s("",t))},m&&m(p,S),delete p.prototype.constructor,p.prototype=Object.create(S.prototype,{_resolve:s(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,L.toStringTag,s("c","Array Iterator"))},76024:function(G,H,e){var m=e(60948),P=e(34044),s=e(29768),L=e(76252),S=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var i,n=arguments[2],f,u,l,g,h,T,c;if(S(r)||m(r)?i="array":s(r)?i="string":r=L(r),P(t),u=function(){l=!0},i==="array"){p.call(r,function(a){return v.call(t,n,a,u),l});return}if(i==="string"){for(h=r.length,g=0;g<h&&(T=r[g],g+1<h&&(c=T.charCodeAt(0),c>=55296&&c<=56319&&(T+=r[++g])),v.call(t,n,T,u),!l);++g);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,u),l)return;f=r.next()}}},76252:function(G,H,e){var m=e(60948),P=e(29768),s=e(52104),L=e(80940),S=e(52891),v=e(92664).iterator;G.exports=function(p){return typeof S(p)[v]=="function"?p[v]():m(p)?new s(p):P(p)?new L(p):new s(p)}},85512:function(G,H,e){var m=e(41476),P=e(38452),s=e(34044),L=e(9252),S=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,i;G.exports=i=function(n,f){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:S("w",L(n)),__context__:S("w",f),__nextIndex__:S("w",0)}),f&&(s(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,P({_next:S(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:S(function(){return this._createResult(this._next())}),_createResult:S(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:S(function(n){return this.__list__[n]}),_unBind:S(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:S(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:S(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",S("c",[n]));return}this.__redo__.forEach(function(f,u){f>=n&&(this.__redo__[u]=++f)},this),this.__redo__.push(n)}}),_onDelete:S(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:S(function(){this.__redo__&&m.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,p.iterator,S(function(){return this}))},76368:function(G,H,e){var m=e(60948),P=e(42584),s=e(29768),L=e(92664).iterator,S=Array.isArray;G.exports=function(v){return P(v)?S(v)||s(v)||m(v)?!0:typeof v[L]=="function":!1}},80940:function(G,H,e){var m=e(69932),P=e(21092),s=e(92664),L=e(85512),S=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),S(this,"__length__",P("",p.length))},m&&m(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),S(v.prototype,s.toStringTag,P("c","String Iterator"))},52891:function(G,H,e){var m=e(76368);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not iterable");return P}},60964:function(G){function H(m,P){if(m==null)throw new TypeError("Cannot convert first argument to object");for(var s=Object(m),L=1;L<arguments.length;L++){var S=arguments[L];if(S!=null)for(var v=Object.keys(Object(S)),p=0,r=v.length;p<r;p++){var t=v[p],i=Object.getOwnPropertyDescriptor(S,t);i!==void 0&&i.enumerable&&(s[t]=S[t])}}return s}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}G.exports={assign:H,polyfill:e}},92664:function(G,H,e){G.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(G,H,e){var m=e(12296),P={object:!0,symbol:!0};G.exports=function(){var s=m.Symbol,L;if(typeof s!="function")return!1;L=s("test symbol");try{String(L)}catch{return!1}return!(!P[typeof s.iterator]||!P[typeof s.toPrimitive]||!P[typeof s.toStringTag])}},53908:function(G){G.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},96863:function(G,H,e){var m=e(21092),P=Object.create,s=Object.defineProperty,L=Object.prototype,S=P(null);G.exports=function(v){for(var p=0,r,t;S[v+(p||"")];)++p;return v+=p||"",S[v]=!0,r="@@"+v,s(L,r,m.gs(null,function(i){t||(t=!0,s(this,r,m(i)),t=!1)})),r}},53540:function(G,H,e){var m=e(21092),P=e(12296).Symbol;G.exports=function(s){return Object.defineProperties(s,{hasInstance:m("",P&&P.hasInstance||s("hasInstance")),isConcatSpreadable:m("",P&&P.isConcatSpreadable||s("isConcatSpreadable")),iterator:m("",P&&P.iterator||s("iterator")),match:m("",P&&P.match||s("match")),replace:m("",P&&P.replace||s("replace")),search:m("",P&&P.search||s("search")),species:m("",P&&P.species||s("species")),split:m("",P&&P.split||s("split")),toPrimitive:m("",P&&P.toPrimitive||s("toPrimitive")),toStringTag:m("",P&&P.toStringTag||s("toStringTag")),unscopables:m("",P&&P.unscopables||s("unscopables"))})}},73852:function(G,H,e){var m=e(21092),P=e(63948),s=Object.create(null);G.exports=function(L){return Object.defineProperties(L,{for:m(function(S){return s[S]?s[S]:s[S]=L(String(S))}),keyFor:m(function(S){var v;P(S);for(v in s)if(s[v]===S)return v})})}},18376:function(G,H,e){var m=e(21092),P=e(63948),s=e(12296).Symbol,L=e(96863),S=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,n,f;if(typeof s=="function")try{String(s()),f=!0}catch{}else s=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return i(l)},G.exports=i=function u(l){var g;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?s(l):(g=p(n.prototype),l=l===void 0?"":String(l),r(g,{__description__:m("",l),__name__:m("",L(l))}))},S(i),v(i),r(n.prototype,{constructor:m(i),toString:m("",function(){return this.__name__})}),r(i.prototype,{toString:m(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:m(function(){return P(this)})}),t(i.prototype,i.toPrimitive,m("",function(){var u=P(this);return typeof u=="symbol"?u:u.toString()})),t(i.prototype,i.toStringTag,m("c","Symbol")),t(n.prototype,i.toStringTag,m("c",i.prototype[i.toStringTag])),t(n.prototype,i.toPrimitive,m("c",i.prototype[i.toPrimitive]))},63948:function(G,H,e){var m=e(53908);G.exports=function(P){if(!m(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(G,H,e){G.exports=e(96979)()?WeakMap:e(64864)},96979:function(G){G.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},69876:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(G,H,e){var m=e(42584),P=e(69932),s=e(92584),L=e(9252),S=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,i=e(69876),n=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,g;G.exports=g=function(){var h=arguments[0],T;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return T=i&&P&&WeakMap!==g?P(new WeakMap,l(this)):this,m(h)&&(n(h)||(h=p(h))),f(T,"__weakMapData__",v("c","$weakMap$"+S())),h&&r(h,function(c){L(c),T.set(c[0],c[1])}),T},i&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:v(g)})),Object.defineProperties(g.prototype,{delete:v(function(h){return u.call(s(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(u.call(s(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(s(h),this.__weakMapData__)}),set:v(function(h,T){return f(s(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),f(g.prototype,t,v("c","WeakMap"))},61252:function(G){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(d,x,w){return Function.prototype.apply.call(d,x,w)},m;H&&typeof H.ownKeys=="function"?m=H.ownKeys:Object.getOwnPropertySymbols?m=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:m=function(d){return Object.getOwnPropertyNames(d)};function P(a){console&&console.warn&&console.warn(a)}var s=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}G.exports=L,G.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var S=10;function v(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(a){if(typeof a!="number"||a<0||s(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");S=a}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||s(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(a){return a._maxListeners===void 0?L.defaultMaxListeners:a._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var C=d==="error",y=this._events;if(y!==void 0)C=C&&y.error===void 0;else if(!C)return!1;if(C){var M;if(x.length>0&&(M=x[0]),M instanceof Error)throw M;var A=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw A.context=M,A}var o=y[d];if(o===void 0)return!1;if(typeof o=="function")e(o,this,x);else for(var E=o.length,b=u(o,E),w=0;w<E;++w)e(b[w],this,x);return!0};function r(a,d,x,w){var C,y,M;if(v(x),y=a._events,y===void 0?(y=a._events=Object.create(null),a._eventsCount=0):(y.newListener!==void 0&&(a.emit("newListener",d,x.listener?x.listener:x),y=a._events),M=y[d]),M===void 0)M=y[d]=x,++a._eventsCount;else if(typeof M=="function"?M=y[d]=w?[x,M]:[M,x]:w?M.unshift(x):M.push(x),C=p(a),C>0&&M.length>C&&!M.warned){M.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=a,A.type=d,A.count=M.length,P(A)}return a}L.prototype.addListener=function(d,x){return r(this,d,x,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,x){return r(this,d,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(a,d,x){var w={fired:!1,wrapFn:void 0,target:a,type:d,listener:x},C=t.bind(w);return C.listener=x,w.wrapFn=C,C}L.prototype.once=function(d,x){return v(x),this.on(d,i(this,d,x)),this},L.prototype.prependOnceListener=function(d,x){return v(x),this.prependListener(d,i(this,d,x)),this},L.prototype.removeListener=function(d,x){var w,C,y,M,A;if(v(x),C=this._events,C===void 0)return this;if(w=C[d],w===void 0)return this;if(w===x||w.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,w.listener||x));else if(typeof w!="function"){for(y=-1,M=w.length-1;M>=0;M--)if(w[M]===x||w[M].listener===x){A=w[M].listener,y=M;break}if(y<0)return this;y===0?w.shift():l(w,y),w.length===1&&(C[d]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",d,A||x)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var x,w,C;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var y=Object.keys(w),M;for(C=0;C<y.length;++C)M=y[C],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=w[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(C=x.length-1;C>=0;C--)this.removeListener(d,x[C]);return this};function n(a,d,x){var w=a._events;if(w===void 0)return[];var C=w[d];return C===void 0?[]:typeof C=="function"?x?[C.listener||C]:[C]:x?g(C):u(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(a,d){return typeof a.listenerCount=="function"?a.listenerCount(d):f.call(a,d)},L.prototype.listenerCount=f;function f(a){var d=this._events;if(d!==void 0){var x=d[a];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]};function u(a,d){for(var x=new Array(d),w=0;w<d;++w)x[w]=a[w];return x}function l(a,d){for(;d+1<a.length;d++)a[d]=a[d+1];a.pop()}function g(a){for(var d=new Array(a.length),x=0;x<d.length;++x)d[x]=a[x].listener||a[x];return d}function h(a,d){return new Promise(function(x,w){function C(M){a.removeListener(d,y),w(M)}function y(){typeof a.removeListener=="function"&&a.removeListener("error",C),x([].slice.call(arguments))}c(a,d,y,{once:!0}),d!=="error"&&T(a,C,{once:!0})})}function T(a,d,x){typeof a.on=="function"&&c(a,"error",d,x)}function c(a,d,x,w){if(typeof a.on=="function")w.once?a.once(d,x):a.on(d,x);else if(typeof a.addEventListener=="function")a.addEventListener(d,function C(y){w.once&&a.removeEventListener(d,C),x(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}},39072:function(G){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},12296:function(G,H,e){G.exports=e(45072)()?globalThis:e(39072)},45072:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(G,H,e){var m=e(94576);G.exports=function(P){var s=typeof P;if(s==="string"){var L=P;if(P=+P,P===0&&m(L))return!1}else if(s!=="number")return!1;return P-P<1}},47520:function(G,H,e){var m=e(72512);G.exports=P;function P(s,L,S){if(!s)throw new TypeError("must specify data as first parameter");if(S=+(S||0)|0,Array.isArray(s)&&s[0]&&typeof s[0][0]=="number"){var v=s[0].length,p=s.length*v,r,t,i,n;(!L||typeof L=="string")&&(L=new(m(L||"float32"))(p+S));var f=L.length-S;if(p!==f)throw new Error("source length "+p+" ("+v+"x"+s.length+") does not match destination length "+f);for(r=0,i=S;r<s.length;r++)for(t=0;t<v;t++)L[i++]=s[r][t]===null?NaN:s[r][t]}else if(!L||typeof L=="string"){var u=m(L||"float32");if(Array.isArray(s)||L==="array")for(L=new u(s.length+S),r=0,i=S,n=L.length;i<n;i++,r++)L[i]=s[r]===null?NaN:s[r];else S===0?L=new u(s):(L=new u(s.length+S),L.set(s,S))}else L.set(s,S);return L}},33888:function(G,H,e){var m=e(49395),P=[32,126];G.exports=s;function s(L){L=L||{};var S=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(p&&typeof p!="string"&&(p=m(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],f=0;n<=t[1];n++)i[f++]=String.fromCharCode(n);t=i}S=S.slice(),v.width=S[0],v.height=S[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,g),(l+=r[0])>S[0]-r[0]/2&&(l=r[0]/2,g+=r[1]);return v}},71920:function(G){G.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var S=Array.isArray(L.family)?L.family.join(", "):L.family;if(!S)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,p,v].join(" ")+"px "+S,i=L.origin||"top";if(H.cache[S]&&v<=H.cache[S].em)return e(H.cache[S],i);var n=L.canvas||H.canvas,f=n.getContext("2d"),u={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,f.font=t;var g="H",h={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(g,0,0);var T=m(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(g,0,l);var c=m(f.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+T,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(g,0,l);var a=m(f.getImageData(0,0,l,l)),d=l-a-1+T;h.baseline=h.alphabetic=d,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(g,0,l*.5);var x=m(f.getImageData(0,0,l,l));h.median=h.middle=l-x-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(g,0,l*.5);var w=m(f.getImageData(0,0,l,l));h.hanging=l-w-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(g,0,l);var C=m(f.getImageData(0,0,l,l));if(h.ideographic=l-C-1+T,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),h.upper=m(f.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),h.lower=m(f.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),h.tittle=m(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),h.ascent=m(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),h.descent=P(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var y=P(f.getImageData(0,0,l,l));h.overshoot=y-d}for(var M in h)h[M]/=v;return h.em=v,H.cache[S]=h,e(h,i)}function e(s,L){var S={};typeof L=="string"&&(L=s[L]);for(var v in s)v!=="em"&&(S[v]=s[v]-L);return S}function m(s){for(var L=s.height,S=s.data,v=3;v<S.length;v+=4)if(S[v]!==0)return Math.floor((v-3)*.25/L)}function P(s){for(var L=s.height,S=s.data,v=S.length-1;v>0;v-=4)if(S[v]!==0)return Math.floor((v-3)*.25/L)}},46492:function(G,H,e){var m=e(90720),P=Object.prototype.toString,s=Object.prototype.hasOwnProperty,L=function(t,i,n){for(var f=0,u=t.length;f<u;f++)s.call(t,f)&&(n==null?i(t[f],f,t):i.call(n,t[f],f,t))},S=function(t,i,n){for(var f=0,u=t.length;f<u;f++)n==null?i(t.charAt(f),f,t):i.call(n,t.charAt(f),f,t)},v=function(t,i,n){for(var f in t)s.call(t,f)&&(n==null?i(t[f],f,t):i.call(n,t[f],f,t))},p=function(t,i,n){if(!m(i))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),P.call(t)==="[object Array]"?L(t,i,f):typeof t=="string"?S(t,i,f):v(t,i,f)};G.exports=p},74336:function(G){var H="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,m=Math.max,P="[object Function]",s=function(p,r){for(var t=[],i=0;i<p.length;i+=1)t[i]=p[i];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},L=function(p,r){for(var t=[],i=r,n=0;i<p.length;i+=1,n+=1)t[n]=p[i];return t},S=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};G.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(H+r);for(var t=L(arguments,1),i,n=function(){if(this instanceof i){var h=r.apply(this,s(t,arguments));return Object(h)===h?h:this}return r.apply(p,s(t,arguments))},f=m(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(i=Function("binder","return function ("+S(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i}},8844:function(G,H,e){var m=e(74336);G.exports=Function.prototype.bind||m},13380:function(G){G.exports=H;function H(e,m){if(typeof e!="string")throw new TypeError("must specify type string");if(m=m||{},typeof document>"u"&&!m.canvas)return null;var P=m.canvas||document.createElement("canvas");typeof m.width=="number"&&(P.width=m.width),typeof m.height=="number"&&(P.height=m.height);var s=m,L;try{var S=[e];e.indexOf("webgl")===0&&S.push("experimental-"+e);for(var v=0;v<S.length;v++)if(L=P.getContext(S[v],s),L)return L}catch{L=null}return L||null}},53664:function(G,H,e){var m,P=SyntaxError,s=Function,L=TypeError,S=function(b){try{return s('"use strict"; return ('+b+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),i=e(69572)(),n=Object.getPrototypeOf||(i?function(b){return b.__proto__}:null),f={},u=typeof Uint8Array>"u"||!n?m:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?m:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?m:Atomics,"%BigInt%":typeof BigInt>"u"?m:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?m:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?m:Float32Array,"%Float64Array%":typeof Float64Array>"u"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?m:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?m:Int8Array,"%Int16Array%":typeof Int16Array>"u"?m:Int16Array,"%Int32Array%":typeof Int32Array>"u"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map>"u"?m:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?m:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?m:Promise,"%Proxy%":typeof Proxy>"u"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?m:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?m:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):m,"%Symbol%":t?Symbol:m,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?m:WeakMap,"%WeakRef%":typeof WeakRef>"u"?m:WeakRef,"%WeakSet%":typeof WeakSet>"u"?m:WeakSet};if(n)try{null.error}catch(b){var g=n(n(b));l["%Error.prototype%"]=g}var h=function b(I){var D;if(I==="%AsyncFunction%")D=S("async function () {}");else if(I==="%GeneratorFunction%")D=S("function* () {}");else if(I==="%AsyncGeneratorFunction%")D=S("async function* () {}");else if(I==="%AsyncGenerator%"){var N=b("%AsyncGeneratorFunction%");N&&(D=N.prototype)}else if(I==="%AsyncIteratorPrototype%"){var k=b("%AsyncGenerator%");k&&n&&(D=n(k.prototype))}return l[I]=D,D},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),a=e(92064),d=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),w=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,o=function(I){var D=C(I,0,1),N=C(I,-1);if(D==="%"&&N!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&D!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var k=[];return w(I,M,function(O,F,z,B){k[k.length]=z?w(B,A,"$1"):F||O}),k},E=function(I,D){var N=I,k;if(a(T,N)&&(k=T[N],N="%"+k[0]+"%"),a(l,N)){var O=l[N];if(O===f&&(O=h(N)),typeof O>"u"&&!D)throw new L("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:k,name:N,value:O}}throw new P("intrinsic "+I+" does not exist!")};G.exports=function(I,D){if(typeof I!="string"||I.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new L('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,I)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=o(I),k=N.length>0?N[0]:"",O=E("%"+k+"%",D),F=O.name,z=O.value,B=!1,W=O.alias;W&&(k=W[0],x(N,d([0,1],W)));for(var J=1,re=!0;J<N.length;J+=1){var ne=N[J],le=C(ne,0,1),$=C(ne,-1);if((le==='"'||le==="'"||le==="`"||$==='"'||$==="'"||$==="`")&&le!==$)throw new P("property names with quotes must have matching quotes");if((ne==="constructor"||!re)&&(B=!0),k+="."+ne,F="%"+k+"%",a(l,F))z=l[F];else if(z!=null){if(!(ne in z)){if(!D)throw new L("base intrinsic for "+I+" exists, but the property is not available.");return}if(v&&J+1>=N.length){var K=v(z,ne);re=!!K,re&&"get"in K&&!("originalValue"in K.get)?z=K.get:z=z[ne]}else re=a(z,ne),z=z[ne];re&&!B&&(l[F]=z)}}return z}},12408:function(G){G.exports=H;function H(e,m){var P=m[0],s=m[1],L=m[2],S=m[3],v=m[4],p=m[5],r=m[6],t=m[7],i=m[8],n=m[9],f=m[10],u=m[11],l=m[12],g=m[13],h=m[14],T=m[15];return e[0]=p*(f*T-u*h)-n*(r*T-t*h)+g*(r*u-t*f),e[1]=-(s*(f*T-u*h)-n*(L*T-S*h)+g*(L*u-S*f)),e[2]=s*(r*T-t*h)-p*(L*T-S*h)+g*(L*t-S*r),e[3]=-(s*(r*u-t*f)-p*(L*u-S*f)+n*(L*t-S*r)),e[4]=-(v*(f*T-u*h)-i*(r*T-t*h)+l*(r*u-t*f)),e[5]=P*(f*T-u*h)-i*(L*T-S*h)+l*(L*u-S*f),e[6]=-(P*(r*T-t*h)-v*(L*T-S*h)+l*(L*t-S*r)),e[7]=P*(r*u-t*f)-v*(L*u-S*f)+i*(L*t-S*r),e[8]=v*(n*T-u*g)-i*(p*T-t*g)+l*(p*u-t*n),e[9]=-(P*(n*T-u*g)-i*(s*T-S*g)+l*(s*u-S*n)),e[10]=P*(p*T-t*g)-v*(s*T-S*g)+l*(s*t-S*p),e[11]=-(P*(p*u-t*n)-v*(s*u-S*n)+i*(s*t-S*p)),e[12]=-(v*(n*h-f*g)-i*(p*h-r*g)+l*(p*f-r*n)),e[13]=P*(n*h-f*g)-i*(s*h-L*g)+l*(s*f-L*n),e[14]=-(P*(p*h-r*g)-v*(s*h-L*g)+l*(s*r-L*p)),e[15]=P*(p*f-r*n)-v*(s*f-L*n)+i*(s*r-L*p),e}},76860:function(G){G.exports=H;function H(e){var m=new Float32Array(16);return m[0]=e[0],m[1]=e[1],m[2]=e[2],m[3]=e[3],m[4]=e[4],m[5]=e[5],m[6]=e[6],m[7]=e[7],m[8]=e[8],m[9]=e[9],m[10]=e[10],m[11]=e[11],m[12]=e[12],m[13]=e[13],m[14]=e[14],m[15]=e[15],m}},64492:function(G){G.exports=H;function H(e,m){return e[0]=m[0],e[1]=m[1],e[2]=m[2],e[3]=m[3],e[4]=m[4],e[5]=m[5],e[6]=m[6],e[7]=m[7],e[8]=m[8],e[9]=m[9],e[10]=m[10],e[11]=m[11],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15],e}},54212:function(G){G.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(G){G.exports=H;function H(e){var m=e[0],P=e[1],s=e[2],L=e[3],S=e[4],v=e[5],p=e[6],r=e[7],t=e[8],i=e[9],n=e[10],f=e[11],u=e[12],l=e[13],g=e[14],h=e[15],T=m*v-P*S,c=m*p-s*S,a=m*r-L*S,d=P*p-s*v,x=P*r-L*v,w=s*r-L*p,C=t*l-i*u,y=t*g-n*u,M=t*h-f*u,A=i*g-n*l,o=i*h-f*l,E=n*h-f*g;return T*E-c*o+a*A+d*M-x*y+w*C}},61784:function(G){G.exports=H;function H(e,m){var P=m[0],s=m[1],L=m[2],S=m[3],v=P+P,p=s+s,r=L+L,t=P*v,i=s*v,n=s*p,f=L*v,u=L*p,l=L*r,g=S*v,h=S*p,T=S*r;return e[0]=1-n-l,e[1]=i+T,e[2]=f-h,e[3]=0,e[4]=i-T,e[5]=1-t-l,e[6]=u+g,e[7]=0,e[8]=f+h,e[9]=u-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(G){G.exports=H;function H(e,m,P){var s,L,S,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,s=Math.sin(m),L=Math.cos(m),S=1-L,e[0]=v*v*S+L,e[1]=p*v*S+r*s,e[2]=r*v*S-p*s,e[3]=0,e[4]=v*p*S-r*s,e[5]=p*p*S+L,e[6]=r*p*S+v*s,e[7]=0,e[8]=v*r*S+p*s,e[9]=p*r*S-v*s,e[10]=r*r*S+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(G){G.exports=H;function H(e,m,P){var s=m[0],L=m[1],S=m[2],v=m[3],p=s+s,r=L+L,t=S+S,i=s*p,n=s*r,f=s*t,u=L*r,l=L*t,g=S*t,h=v*p,T=v*r,c=v*t;return e[0]=1-(u+g),e[1]=n+c,e[2]=f-T,e[3]=0,e[4]=n-c,e[5]=1-(i+g),e[6]=l+h,e[7]=0,e[8]=f+T,e[9]=l-h,e[10]=1-(i+u),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(G){G.exports=H;function H(e,m){return e[0]=m[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=m[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=m[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(G){G.exports=H;function H(e,m){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=m[0],e[13]=m[1],e[14]=m[2],e[15]=1,e}},21856:function(G){G.exports=H;function H(e,m){var P=Math.sin(m),s=Math.cos(m);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(G){G.exports=H;function H(e,m){var P=Math.sin(m),s=Math.cos(m);return e[0]=s,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(G){G.exports=H;function H(e,m){var P=Math.sin(m),s=Math.cos(m);return e[0]=s,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(G){G.exports=H;function H(e,m,P,s,L,S,v){var p=1/(P-m),r=1/(L-s),t=1/(S-v);return e[0]=S*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S*2*r,e[6]=0,e[7]=0,e[8]=(P+m)*p,e[9]=(L+s)*r,e[10]=(v+S)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*S*2*t,e[15]=0,e}},36635:function(G){G.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(G,H,e){G.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(G){G.exports=H;function H(e,m){var P=m[0],s=m[1],L=m[2],S=m[3],v=m[4],p=m[5],r=m[6],t=m[7],i=m[8],n=m[9],f=m[10],u=m[11],l=m[12],g=m[13],h=m[14],T=m[15],c=P*p-s*v,a=P*r-L*v,d=P*t-S*v,x=s*r-L*p,w=s*t-S*p,C=L*t-S*r,y=i*g-n*l,M=i*h-f*l,A=i*T-u*l,o=n*h-f*g,E=n*T-u*g,b=f*T-u*h,I=c*b-a*E+d*o+x*A-w*M+C*y;return I?(I=1/I,e[0]=(p*b-r*E+t*o)*I,e[1]=(L*E-s*b-S*o)*I,e[2]=(g*C-h*w+T*x)*I,e[3]=(f*w-n*C-u*x)*I,e[4]=(r*A-v*b-t*M)*I,e[5]=(P*b-L*A+S*M)*I,e[6]=(h*d-l*C-T*a)*I,e[7]=(i*C-f*d+u*a)*I,e[8]=(v*E-p*A+t*y)*I,e[9]=(s*A-P*E-S*y)*I,e[10]=(l*w-g*d+T*c)*I,e[11]=(n*d-i*w-u*c)*I,e[12]=(p*M-v*o-r*y)*I,e[13]=(P*o-s*M+L*y)*I,e[14]=(g*a-l*x-h*c)*I,e[15]=(i*x-n*a+f*c)*I,e):null}},56508:function(G,H,e){var m=e(36635);G.exports=P;function P(s,L,S,v){var p,r,t,i,n,f,u,l,g,h,T=L[0],c=L[1],a=L[2],d=v[0],x=v[1],w=v[2],C=S[0],y=S[1],M=S[2];return Math.abs(T-C)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(a-M)<1e-6?m(s):(u=T-C,l=c-y,g=a-M,h=1/Math.sqrt(u*u+l*l+g*g),u*=h,l*=h,g*=h,p=x*g-w*l,r=w*u-d*g,t=d*l-x*u,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),i=l*t-g*r,n=g*p-u*t,f=u*r-l*p,h=Math.sqrt(i*i+n*n+f*f),h?(h=1/h,i*=h,n*=h,f*=h):(i=0,n=0,f=0),s[0]=p,s[1]=i,s[2]=u,s[3]=0,s[4]=r,s[5]=n,s[6]=l,s[7]=0,s[8]=t,s[9]=f,s[10]=g,s[11]=0,s[12]=-(p*T+r*c+t*a),s[13]=-(i*T+n*c+f*a),s[14]=-(u*T+l*c+g*a),s[15]=1,s)}},80944:function(G){G.exports=H;function H(e,m,P){var s=m[0],L=m[1],S=m[2],v=m[3],p=m[4],r=m[5],t=m[6],i=m[7],n=m[8],f=m[9],u=m[10],l=m[11],g=m[12],h=m[13],T=m[14],c=m[15],a=P[0],d=P[1],x=P[2],w=P[3];return e[0]=a*s+d*p+x*n+w*g,e[1]=a*L+d*r+x*f+w*h,e[2]=a*S+d*t+x*u+w*T,e[3]=a*v+d*i+x*l+w*c,a=P[4],d=P[5],x=P[6],w=P[7],e[4]=a*s+d*p+x*n+w*g,e[5]=a*L+d*r+x*f+w*h,e[6]=a*S+d*t+x*u+w*T,e[7]=a*v+d*i+x*l+w*c,a=P[8],d=P[9],x=P[10],w=P[11],e[8]=a*s+d*p+x*n+w*g,e[9]=a*L+d*r+x*f+w*h,e[10]=a*S+d*t+x*u+w*T,e[11]=a*v+d*i+x*l+w*c,a=P[12],d=P[13],x=P[14],w=P[15],e[12]=a*s+d*p+x*n+w*g,e[13]=a*L+d*r+x*f+w*h,e[14]=a*S+d*t+x*u+w*T,e[15]=a*v+d*i+x*l+w*c,e}},97688:function(G){G.exports=H;function H(e,m,P,s,L,S,v){var p=1/(m-P),r=1/(s-L),t=1/(S-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(m+P)*p,e[13]=(L+s)*r,e[14]=(v+S)*t,e[15]=1,e}},51296:function(G){G.exports=H;function H(e,m,P,s,L){var S=1/Math.tan(m/2),v=1/(s-L);return e[0]=S/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+s)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*s*v,e[15]=0,e}},63688:function(G){G.exports=H;function H(e,m,P,s){var L=Math.tan(m.upDegrees*Math.PI/180),S=Math.tan(m.downDegrees*Math.PI/180),v=Math.tan(m.leftDegrees*Math.PI/180),p=Math.tan(m.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(L+S);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(L-S)*t*.5,e[10]=s/(P-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*P/(P-s),e[15]=0,e}},30016:function(G){G.exports=H;function H(e,m,P,s){var L=s[0],S=s[1],v=s[2],p=Math.sqrt(L*L+S*S+v*v),r,t,i,n,f,u,l,g,h,T,c,a,d,x,w,C,y,M,A,o,E,b,I,D;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,S*=p,v*=p,r=Math.sin(P),t=Math.cos(P),i=1-t,n=m[0],f=m[1],u=m[2],l=m[3],g=m[4],h=m[5],T=m[6],c=m[7],a=m[8],d=m[9],x=m[10],w=m[11],C=L*L*i+t,y=S*L*i+v*r,M=v*L*i-S*r,A=L*S*i-v*r,o=S*S*i+t,E=v*S*i+L*r,b=L*v*i+S*r,I=S*v*i-L*r,D=v*v*i+t,e[0]=n*C+g*y+a*M,e[1]=f*C+h*y+d*M,e[2]=u*C+T*y+x*M,e[3]=l*C+c*y+w*M,e[4]=n*A+g*o+a*E,e[5]=f*A+h*o+d*E,e[6]=u*A+T*o+x*E,e[7]=l*A+c*o+w*E,e[8]=n*b+g*I+a*D,e[9]=f*b+h*I+d*D,e[10]=u*b+T*I+x*D,e[11]=l*b+c*I+w*D,m!==e&&(e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e)}},15456:function(G){G.exports=H;function H(e,m,P){var s=Math.sin(P),L=Math.cos(P),S=m[4],v=m[5],p=m[6],r=m[7],t=m[8],i=m[9],n=m[10],f=m[11];return m!==e&&(e[0]=m[0],e[1]=m[1],e[2]=m[2],e[3]=m[3],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[4]=S*L+t*s,e[5]=v*L+i*s,e[6]=p*L+n*s,e[7]=r*L+f*s,e[8]=t*L-S*s,e[9]=i*L-v*s,e[10]=n*L-p*s,e[11]=f*L-r*s,e}},64840:function(G){G.exports=H;function H(e,m,P){var s=Math.sin(P),L=Math.cos(P),S=m[0],v=m[1],p=m[2],r=m[3],t=m[8],i=m[9],n=m[10],f=m[11];return m!==e&&(e[4]=m[4],e[5]=m[5],e[6]=m[6],e[7]=m[7],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[0]=S*L-t*s,e[1]=v*L-i*s,e[2]=p*L-n*s,e[3]=r*L-f*s,e[8]=S*s+t*L,e[9]=v*s+i*L,e[10]=p*s+n*L,e[11]=r*s+f*L,e}},4192:function(G){G.exports=H;function H(e,m,P){var s=Math.sin(P),L=Math.cos(P),S=m[0],v=m[1],p=m[2],r=m[3],t=m[4],i=m[5],n=m[6],f=m[7];return m!==e&&(e[8]=m[8],e[9]=m[9],e[10]=m[10],e[11]=m[11],e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15]),e[0]=S*L+t*s,e[1]=v*L+i*s,e[2]=p*L+n*s,e[3]=r*L+f*s,e[4]=t*L-S*s,e[5]=i*L-v*s,e[6]=n*L-p*s,e[7]=f*L-r*s,e}},68152:function(G){G.exports=H;function H(e,m,P){var s=P[0],L=P[1],S=P[2];return e[0]=m[0]*s,e[1]=m[1]*s,e[2]=m[2]*s,e[3]=m[3]*s,e[4]=m[4]*L,e[5]=m[5]*L,e[6]=m[6]*L,e[7]=m[7]*L,e[8]=m[8]*S,e[9]=m[9]*S,e[10]=m[10]*S,e[11]=m[11]*S,e[12]=m[12],e[13]=m[13],e[14]=m[14],e[15]=m[15],e}},89412:function(G){G.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(G){G.exports=H;function H(e,m,P){var s=P[0],L=P[1],S=P[2],v,p,r,t,i,n,f,u,l,g,h,T;return m===e?(e[12]=m[0]*s+m[4]*L+m[8]*S+m[12],e[13]=m[1]*s+m[5]*L+m[9]*S+m[13],e[14]=m[2]*s+m[6]*L+m[10]*S+m[14],e[15]=m[3]*s+m[7]*L+m[11]*S+m[15]):(v=m[0],p=m[1],r=m[2],t=m[3],i=m[4],n=m[5],f=m[6],u=m[7],l=m[8],g=m[9],h=m[10],T=m[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=i,e[5]=n,e[6]=f,e[7]=u,e[8]=l,e[9]=g,e[10]=h,e[11]=T,e[12]=v*s+i*L+l*S+m[12],e[13]=p*s+n*L+g*S+m[13],e[14]=r*s+f*L+h*S+m[14],e[15]=t*s+u*L+T*S+m[15]),e}},86520:function(G){G.exports=H;function H(e,m){if(e===m){var P=m[1],s=m[2],L=m[3],S=m[6],v=m[7],p=m[11];e[1]=m[4],e[2]=m[8],e[3]=m[12],e[4]=P,e[6]=m[9],e[7]=m[13],e[8]=s,e[9]=S,e[11]=m[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=m[0],e[1]=m[4],e[2]=m[8],e[3]=m[12],e[4]=m[1],e[5]=m[5],e[6]=m[9],e[7]=m[13],e[8]=m[2],e[9]=m[6],e[10]=m[10],e[11]=m[14],e[12]=m[3],e[13]=m[7],e[14]=m[11],e[15]=m[15];return e}},23352:function(G,H,e){var m=e(42771),P=e(55616),s=e(28624),L=e(55212),S=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),i=e(58908),n=e(65819),f=e(23464),u=e(63768),l=e(50896),g=e(71920),h=e(47520),T=e(308),c=T.nextPow2,a=new S,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var w=function(M){C(M)?(M={regl:M},this.gl=M.regl._gl):this.gl=L(M),this.shader=a.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=M.regl||s({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),a.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(M)?M:{})};w.prototype.createShader=function(){var M=this.regl,A=M({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:M.prop("count"),offset:M.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:M.this("sizeBuffer")},width:{offset:0,stride:8,buffer:M.this("sizeBuffer")},char:M.this("charBuffer"),position:M.this("position")},uniforms:{atlasSize:function(E,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(E,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(E,b){return b.atlas.texture},charStep:function(E,b){return b.atlas.step},em:function(E,b){return b.atlas.em},color:M.prop("color"),opacity:M.prop("opacity"),viewport:M.this("viewportArray"),scale:M.this("scale"),align:M.prop("align"),baseline:M.prop("baseline"),translate:M.this("translate"),positionOffset:M.prop("positionOffset")},primitive:"points",viewport:M.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),o={};return{regl:M,draw:A,atlas:o}},w.prototype.update=function(M){var A=this;if(typeof M=="string")M={text:M};else if(!M)return;M=P(M,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),M.opacity!=null&&(Array.isArray(M.opacity)?this.opacity=M.opacity.map(function(Me){return parseFloat(Me)}):this.opacity=parseFloat(M.opacity)),M.viewport!=null&&(this.viewport=t(M.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),M.kerning!=null&&(this.kerning=M.kerning),M.offset!=null&&(typeof M.offset=="number"&&(M.offset=[M.offset,0]),this.positionOffset=h(M.offset)),M.direction&&(this.direction=M.direction),M.range&&(this.range=M.range,this.scale=[1/(M.range[2]-M.range[0]),1/(M.range[3]-M.range[1])],this.translate=[-M.range[0],-M.range[1]]),M.scale&&(this.scale=M.scale),M.translate&&(this.translate=M.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!M.font&&(M.font=w.baseFontSize+"px sans-serif");var o=!1,E=!1;if(M.font&&(Array.isArray(M.font)?M.font:[M.font]).forEach(function(Me,Ve){if(typeof Me=="string")try{Me=m.parse(Me)}catch{Me=m.parse(w.baseFontSize+"px "+Me)}else{var et=Me.style,it=Me.weight,Je=Me.stretch,Qe=Me.variant;Me=m.parse(m.stringify(Me)),et&&(Me.style=et),it&&(Me.weight=it),Je&&(Me.stretch=Je),Qe&&(Me.variant=Qe)}var ct=m.stringify({size:w.baseFontSize,family:Me.family,stretch:d?Me.stretch:void 0,variant:Me.variant,weight:Me.weight,style:Me.style}),ht=n(Me.size),gt=Math.round(ht[0]*f(ht[1]));if(gt!==A.fontSize[Ve]&&(E=!0,A.fontSize[Ve]=gt),(!A.font[Ve]||ct!=A.font[Ve].baseString)&&(o=!0,A.font[Ve]=w.fonts[ct],!A.font[Ve])){var Tt=Me.family.join(", "),Et=[Me.style];Me.style!=Me.variant&&Et.push(Me.variant),Me.variant!=Me.weight&&Et.push(Me.weight),d&&Me.weight!=Me.stretch&&Et.push(Me.stretch),A.font[Ve]={baseString:ct,family:Tt,weight:Me.weight,stretch:Me.stretch,style:Me.style,variant:Me.variant,width:{},kerning:{},metrics:g(Tt,{origin:"top",fontSize:w.baseFontSize,fontStyle:Et.join(" ")})},w.fonts[ct]=A.font[Ve]}}),(o||E)&&this.font.forEach(function(Me,Ve){var et=m.stringify({size:A.fontSize[Ve],family:Me.family,stretch:d?Me.stretch:void 0,variant:Me.variant,weight:Me.weight,style:Me.style});if(A.fontAtlas[Ve]=A.shader.atlas[et],!A.fontAtlas[Ve]){var it=Me.metrics;A.shader.atlas[et]=A.fontAtlas[Ve]={fontString:et,step:Math.ceil(A.fontSize[Ve]*it.bottom*.5)*2,em:A.fontSize[Ve],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}M.text==null&&(M.text=A.text)}),typeof M.text=="string"&&M.position&&M.position.length>2){for(var b=Array(M.position.length*.5),I=0;I<b.length;I++)b[I]=M.text;M.text=b}var D;if(M.text!=null||o){if(this.textOffsets=[0],Array.isArray(M.text)){this.count=M.text[0].length,this.counts=[this.count];for(var N=1;N<M.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+M.text[N-1].length,this.count+=M.text[N].length,this.counts.push(M.text[N].length);this.text=M.text.join("")}else this.text=M.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(Me,Ve){w.atlasContext.font=Me.baseString;for(var et=A.fontAtlas[Ve],it=0;it<A.text.length;it++){var Je=A.text.charAt(it);if(et.ids[Je]==null&&(et.ids[Je]=et.chars.length,et.chars.push(Je),D.push(Je)),Me.width[Je]==null&&(Me.width[Je]=w.atlasContext.measureText(Je).width/w.baseFontSize,A.kerning)){var Qe=[];for(var ct in Me.width)Qe.push(ct+Je,Je+ct);l(Me.kerning,u(Me.family,{pairs:Qe}))}}})}if(M.position)if(M.position.length>2){for(var k=!M.position[0].length,O=r.mallocFloat(this.count*2),F=0,z=0;F<this.counts.length;F++){var B=this.counts[F];if(k)for(var W=0;W<B;W++)O[z++]=M.position[F*2],O[z++]=M.position[F*2+1];else for(var J=0;J<B;J++)O[z++]=M.position[F][0],O[z++]=M.position[F][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),r.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:M.position};if(M.text||o){var re=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var le=0,$=0;le<this.counts.length;le++){for(var K=this.counts[le],ie=this.font[le]||this.font[0],Y=this.fontAtlas[le]||this.fontAtlas[0],Q=0;Q<K;Q++){var oe=this.text.charAt($),X=this.text.charAt($-1);if(re[$]=Y.ids[oe],ne[$*2]=ie.width[oe],Q){var j=ne[$*2-2],se=ne[$*2],te=ne[$*2-1],fe=te+j*.5+se*.5;if(this.kerning){var ge=ie.kerning[X+oe];ge&&(fe+=ge*.001)}ne[$*2+1]=fe}else ne[$*2+1]=ne[$*2]*.5;$++}this.textWidth.push(ne.length?ne[$*2-2]*.5+ne[$*2-1]:0)}M.align||(M.align=this.align),this.charBuffer({data:re,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(re),r.freeFloat(ne),D.length&&this.font.forEach(function(Me,Ve){var et=A.fontAtlas[Ve],it=et.step,Je=Math.floor(w.maxAtlasSize/it),Qe=Math.min(Je,et.chars.length),ct=Math.ceil(et.chars.length/Qe),ht=c(Qe*it),gt=c(ct*it);et.width=ht,et.height=gt,et.rows=ct,et.cols=Qe,et.em&&et.texture({data:p({canvas:w.atlasCanvas,font:et.fontString,chars:et.chars,shape:[ht,gt],step:[it,it]})})})}if(M.align&&(this.align=M.align,this.alignOffset=this.textWidth.map(function(Me,Ve){var et=Array.isArray(A.align)?A.align.length>1?A.align[Ve]:A.align[0]:A.align;if(typeof et=="number")return et;switch(et){case"right":case"end":return-Me;case"center":case"centre":case"middle":return-Me*.5}return 0})),this.baseline==null&&M.baseline==null&&(M.baseline=0),M.baseline!=null&&(this.baseline=M.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Me,Ve){var et=(A.font[Ve]||A.font[0]).metrics,it=0;return it+=et.bottom*.5,typeof Me=="number"?it+=Me-et.baseline:it+=-et[Me],it*=-1,it})),M.color!=null)if(M.color||(M.color="transparent"),typeof M.color=="string"||!isNaN(M.color))this.color=v(M.color,"uint8");else{var be;if(typeof M.color[0]=="number"&&M.color.length>this.counts.length){var xe=M.color.length;be=r.mallocUint8(xe);for(var _e=(M.color.subarray||M.color.slice).bind(M.color),De=0;De<xe;De+=4)be.set(v(_e(De,De+4),"uint8"),De)}else{var Fe=M.color.length;be=r.mallocUint8(Fe*4);for(var Te=0;Te<Fe;Te++)be.set(v(M.color[Te]||0,"uint8"),Te*4)}this.color=be}if(M.position||M.text||M.color||M.baseline||M.align||M.font||M.offset||M.opacity){var Re=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Re){var Se=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Se);for(var Ie=0;Ie<this.batch.length;Ie++)this.batch[Ie]={count:this.counts.length>1?this.counts[Ie]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ie]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ie*4,Ie*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ie]:this.opacity,baseline:this.baselineOffset[Ie]!=null?this.baselineOffset[Ie]:this.baselineOffset[0],align:this.align?this.alignOffset[Ie]!=null?this.alignOffset[Ie]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ie]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ie*2,Ie*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function C(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}G.exports=w},55212:function(G,H,e){var m=e(55616);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},s(r)?r={container:r}:L(r)?r={container:r}:S(r)?r={gl:r}:r=m(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}s(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function s(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function S(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(G){G.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),m=[],P=0;P<H.length-1;P++)m.push(H[P],e[P]||"");return m.push(H[P]),m.join("")}},2304:function(G,H,e){var m=e(53664),P=m("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}G.exports=P},52264:function(G,H,e){var m=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=m,G.exports=P},89184:function(G,H,e){var m=e(24200);function P(){var s=!1;try{var L=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{s=!1}return s}G.exports=m&&P()},39640:function(G,H,e){var m=e(53664),P=m("%Object.defineProperty%",!0),s=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};s.hasArrayLengthDefineBug=function(){if(!s())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},G.exports=s},69572:function(G){var H={foo:{}},e=Object;G.exports=function(){return{__proto__:H}.foo===H.foo&&!({__proto__:null}instanceof e)}},71080:function(G,H,e){var m=typeof Symbol<"u"&&Symbol,P=e(89320);G.exports=function(){return typeof m!="function"||typeof Symbol!="function"||typeof m("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},m=Symbol("test"),P=Object(m);if(typeof m=="string"||Object.prototype.toString.call(m)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var s=42;e[m]=s;for(m in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==m||!Object.prototype.propertyIsEnumerable.call(e,m))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(e,m);if(S.value!==s||S.enumerable!==!0)return!1}return!0}},46672:function(G,H,e){var m=e(89320);G.exports=function(){return m()&&!!Symbol.toStringTag}},92064:function(G,H,e){var m=Function.prototype.call,P=Object.prototype.hasOwnProperty,s=e(8844);G.exports=s.call(m,P)},35984:function(G,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,m,P,s,L){var S,v,p=L*8-s-1,r=(1<<p)-1,t=r>>1,i=-7,n=P?L-1:0,f=P?-1:1,u=e[m+n];for(n+=f,S=u&(1<<-i)-1,u>>=-i,i+=p;i>0;S=S*256+e[m+n],n+=f,i-=8);for(v=S&(1<<-i)-1,S>>=-i,i+=s;i>0;v=v*256+e[m+n],n+=f,i-=8);if(S===0)S=1-t;else{if(S===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,s),S=S-t}return(u?-1:1)*v*Math.pow(2,S-s)},H.write=function(e,m,P,s,L,S){var v,p,r,t=S*8-L-1,i=(1<<t)-1,n=i>>1,f=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=s?0:S-1,l=s?1:-1,g=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(p=isNaN(m)?1:0,v=i):(v=Math.floor(Math.log(m)/Math.LN2),m*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?m+=f/r:m+=f*Math.pow(2,1-n),m*r>=2&&(v++,r/=2),v+n>=i?(p=0,v=i):v+n>=1?(p=(m*r-1)*Math.pow(2,L),v=v+n):(p=m*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+u]=p&255,u+=l,p/=256,L-=8);for(v=v<<L|p,t+=L;t>0;e[P+u]=v&255,u+=l,v/=256,t-=8);e[P+u-l]|=g*128}},6768:function(G){typeof Object.create=="function"?G.exports=function(e,m){m&&(e.super_=m,e.prototype=Object.create(m.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,m){if(m){e.super_=m;var P=function(){};P.prototype=m.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(G,H,e){var m=e(46672)(),P=e(99676),s=P("Object.prototype.toString"),L=function(r){return m&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:s(r)==="[object Arguments]"},S=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&s(r)!=="[object Array]"&&s(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=S,G.exports=v?L:S},24200:function(G){G.exports=!0},90720:function(G){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,m,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{m=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,m)}catch(T){T!==P&&(e=null)}else e=null;var s=/^\s*class\b/,L=function(c){try{var a=H.call(c);return s.test(a)}catch{return!1}},S=function(c){try{return L(c)?!1:(H.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(g=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var a=v.call(c);return(a===i||a===n||a===f||a===p)&&c("")==null}catch{}return!1})}G.exports=e?function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,m)}catch(a){if(a!==P)return!1}return!L(c)&&S(c)}:function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return S(c);if(L(c))return!1;var a=v.call(c);return a!==r&&a!==t&&!/^\[object HTML/.test(a)?!1:S(c)}},84420:function(G,H,e){var m=Object.prototype.toString,P=Function.prototype.toString,s=/^\s*(?:function)?\*/,L=e(46672)(),S=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(s.test(P.call(t)))return!0;if(!L){var i=m.call(t);return i==="[object GeneratorFunction]"}if(!S)return!1;if(typeof p>"u"){var n=v();p=n?S(n):!1}return S(t)===p}},96604:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(G){G.exports=function(e){return e!==e}},1560:function(G,H,e){var m=e(57916),P=e(81288),s=e(85992),L=e(57740),S=e(59736),v=m(L(),Number);P(v,{getPolyfill:L,implementation:s,shim:S}),G.exports=v},57740:function(G,H,e){var m=e(85992);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:m}},59736:function(G,H,e){var m=e(81288),P=e(57740);G.exports=function(){var L=P();return m(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},18400:function(G){G.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},58908:function(G){var H=Object.prototype.toString;G.exports=function(e){var m;return H.call(e)==="[object Object]"&&(m=Object.getPrototypeOf(e),m===null||m===Object.getPrototypeOf({}))}},94576:function(G){G.exports=function(H){for(var e=H.length,m,P=0;P<e;P++)if(m=H.charCodeAt(P),(m<9||m>13)&&m!==32&&m!==133&&m!==160&&m!==5760&&m!==6158&&(m<8192||m>8205)&&m!==8232&&m!==8233&&m!==8239&&m!==8287&&m!==8288&&m!==12288&&m!==65279)return!1;return!0}},53520:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(G,H,e){var m=e(46492),P=e(63436),s=e(99676),L=s("Object.prototype.toString"),S=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=s("Array.prototype.indexOf",!0)||function(g,h){for(var T=0;T<g.length;T+=1)if(g[T]===h)return T;return-1},i=s("String.prototype.slice"),n={},f=Object.getPrototypeOf;S&&v&&f&&m(r,function(l){var g=new p[l];if(Symbol.toStringTag in g){var h=f(g),T=v(h,Symbol.toStringTag);if(!T){var c=f(h);T=v(c,Symbol.toStringTag)}n[l]=T.get}});var u=function(g){var h=!1;return m(n,function(T,c){if(!h)try{h=T.call(g)===c}catch{}}),h};G.exports=function(g){if(!g||typeof g!="object")return!1;if(!S||!(Symbol.toStringTag in g)){var h=i(L(g),8,-1);return t(r,h)>-1}return v?u(g):!1}},76244:function(G){G.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},62644:function(G,H,e){G.exports=P;var m=e(93784);function P(s,L){L||(L=s,s=window);var S=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(x){var w=!1;return"altKey"in x&&(w=w||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(w=w||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(w=w||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(w=w||x.metaKey!==r.meta,r.meta=!!x.metaKey),w}function n(x,w){var C=m.x(w),y=m.y(w);"buttons"in w&&(x=w.buttons|0),(x!==S||C!==v||y!==p||i(w))&&(S=x|0,v=C||0,p=y||0,L&&L(S,v,p,r))}function f(x){n(0,x)}function u(){(S||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,S=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function l(x){i(x)&&L&&L(S,v,p,r)}function g(x){m.buttons(x)===0?n(0,x):n(S,x)}function h(x){n(S|m.buttons(x),x)}function T(x){n(S&~m.buttons(x),x)}function c(){t||(t=!0,s.addEventListener("mousemove",g),s.addEventListener("mousedown",h),s.addEventListener("mouseup",T),s.addEventListener("mouseleave",f),s.addEventListener("mouseenter",f),s.addEventListener("mouseout",f),s.addEventListener("mouseover",f),s.addEventListener("blur",u),s.addEventListener("keyup",l),s.addEventListener("keydown",l),s.addEventListener("keypress",l),s!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function a(){t&&(t=!1,s.removeEventListener("mousemove",g),s.removeEventListener("mousedown",h),s.removeEventListener("mouseup",T),s.removeEventListener("mouseleave",f),s.removeEventListener("mouseenter",f),s.removeEventListener("mouseout",f),s.removeEventListener("mouseover",f),s.removeEventListener("blur",u),s.removeEventListener("keyup",l),s.removeEventListener("keydown",l),s.removeEventListener("keypress",l),s!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:s};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(x){x?c():a()},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(G){var H={left:0,top:0};G.exports=e;function e(P,s,L){s=s||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var S=P.clientX||0,v=P.clientY||0,p=m(s);return L[0]=S-p.left,L[1]=v-p.top,L}function m(P){return P===window||P===document||P===document.body?H:P.getBoundingClientRect()}},93784:function(G,H){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var S=L.which;if(S===2)return 4;if(S===3)return 2;if(S>0)return 1<<S-1}else if("button"in L){var S=L.button;if(S===1)return 4;if(S===2)return 2;if(S>=0)return 1<<S}}return 0}H.buttons=e;function m(L){return L.target||L.srcElement||window}H.element=m;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var S=m(L),v=S.getBoundingClientRect();return L.clientX-v.left}return 0}H.x=P;function s(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var S=m(L),v=S.getBoundingClientRect();return L.clientY-v.top}return 0}H.y=s},97264:function(G,H,e){var m=e(23464);G.exports=P;function P(s,L,S){typeof s=="function"&&(S=!!L,L=s,s=window);var v=m("ex",s),p=function(r){S&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,i*=u,n*=u,t||i||n)return L(t,i,n,r)};return s.addEventListener("wheel",p),p}},88324:function(G,H,e){var m;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,L,S){L[s]=L[s]||S(),G.exports?G.exports=L[s]:(m=(function(){return L[s]}).call(H,e,H,G),m!==void 0&&(G.exports=m))})("Promise",typeof e.g<"u"?e.g:this,function(){var s,L,S,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(d,x,w,C){return Object.defineProperty(d,x,{value:w,writable:!0,configurable:C!==!1})}}catch{s=function(x,w,C){return x[w]=C,x}}S=function(){var d,x,w;function C(y,M){this.fn=y,this.self=M,this.next=void 0}return{add:function(M,A){w=new C(M,A),x?x.next=w:d=w,x=w,w=void 0},drain:function(){var M=d;for(d=x=L=void 0;M;)M.fn.call(M.self),M=M.next}}}();function r(a,d){S.add(a,d),L||(L=p(S.drain))}function t(a){var d,x=typeof a;return a!=null&&(x=="object"||x=="function")&&(d=a.then),typeof d=="function"?d:!1}function i(){for(var a=0;a<this.chain.length;a++)n(this,this.state===1?this.chain[a].success:this.chain[a].failure,this.chain[a]);this.chain.length=0}function n(a,d,x){var w,C;try{d===!1?x.reject(a.msg):(d===!0?w=a.msg:w=d.call(void 0,a.msg),w===x.promise?x.reject(TypeError("Promise-chain cycle")):(C=t(w))?C.call(w,x.resolve,x.reject):x.resolve(w))}catch(y){x.reject(y)}}function f(a){var d,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(d=t(a))?r(function(){var w=new g(x);try{d.call(a,function(){f.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(C){u.call(w,C)}}):(x.msg=a,x.state=1,x.chain.length>0&&r(i,x))}catch(w){u.call(new g(x),w)}}}function u(a){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=a,d.state=2,d.chain.length>0&&r(i,d))}function l(a,d,x,w){for(var C=0;C<d.length;C++)(function(M){a.resolve(d[M]).then(function(o){x(M,o)},w)})(C)}function g(a){this.def=a,this.triggered=!1}function h(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(a){if(typeof a!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(w,C){var y={success:typeof w=="function"?w:!0,failure:typeof C=="function"?C:!1};return y.promise=new this.constructor(function(A,o){if(typeof A!="function"||typeof o!="function")throw TypeError("Not a function");y.resolve=A,y.reject=o}),d.chain.push(y),d.state!==0&&r(i,d),y.promise},this.catch=function(w){return this.then(void 0,w)};try{a.call(void 0,function(w){f.call(d,w)},function(w){u.call(d,w)})}catch(x){u.call(d,x)}}var c=s({},"constructor",T,!1);return T.prototype=c,s(c,"__NPO__",0,!1),s(T,"resolve",function(d){var x=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");C(d)})}),s(T,"reject",function(d){return new this(function(w,C){if(typeof w!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),s(T,"all",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):d.length===0?x.resolve([]):new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");var M=d.length,A=Array(M),o=0;l(x,d,function(b,I){A[b]=I,++o===M&&C(A)},y)})}),s(T,"race",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");l(x,d,function(A,o){C(o)},y)})}),T})},48816:function(G){var H=Math.PI,e=v(120);G.exports=m;function m(p){for(var r,t=[],i=0,n=0,f=0,u=0,l=null,g=null,h=0,T=0,c=0,a=p.length;c<a;c++){var d=p[c],x=d[0];switch(x){case"M":f=d[1],u=d[2];break;case"A":d=L(h,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=h,C=T;(r=="C"||r=="S")&&(w+=w-i,C+=C-n),d=["C",w,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,g=T*2-g):(l=h,g=T),d=s(h,T,l,g,d[1],d[2]);break;case"Q":l=d[1],g=d[2],d=s(h,T,d[1],d[2],d[3],d[4]);break;case"L":d=P(h,T,d[1],d[2]);break;case"H":d=P(h,T,d[1],T);break;case"V":d=P(h,T,h,d[1]);break;case"Z":d=P(h,T,f,u);break}r=x,h=d[d.length-2],T=d[d.length-1],d.length>4?(i=d[d.length-4],n=d[d.length-3]):(i=h,n=T),t.push(d)}return t}function P(p,r,t,i){return["C",p,r,t,i,t,i]}function s(p,r,t,i,n,f){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*i,n/3+.6666666666666666*t,f/3+.6666666666666666*i,n,f]}function L(p,r,t,i,n,f,u,l,g,h){if(h)A=h[0],o=h[1],y=h[2],M=h[3];else{var T=S(p,r,-n);p=T.x,r=T.y,T=S(l,g,-n),l=T.x,g=T.y;var c=(p-l)/2,a=(r-g)/2,d=c*c/(t*t)+a*a/(i*i);d>1&&(d=Math.sqrt(d),t=d*t,i=d*i);var x=t*t,w=i*i,C=(f==u?-1:1)*Math.sqrt(Math.abs((x*w-x*a*a-w*c*c)/(x*a*a+w*c*c)));C==1/0&&(C=1);var y=C*t*a/i+(p+l)/2,M=C*-i*c/t+(r+g)/2,A=Math.asin(((r-M)/i).toFixed(9)),o=Math.asin(((g-M)/i).toFixed(9));A=p<y?H-A:A,o=l<y?H-o:o,A<0&&(A=H*2+A),o<0&&(o=H*2+o),u&&A>o&&(A=A-H*2),!u&&o>A&&(o=o-H*2)}if(Math.abs(o-A)>e){var E=o,b=l,I=g;o=A+e*(u&&o>A?1:-1),l=y+t*Math.cos(o),g=M+i*Math.sin(o);var D=L(l,g,t,i,n,0,u,b,I,[o,E,y,M])}var N=Math.tan((o-A)/4),k=4/3*t*N,O=4/3*i*N,F=[2*p-(p+k*Math.sin(A)),2*r-(r-O*Math.cos(A)),l+k*Math.sin(o),g-O*Math.cos(o),l,g];if(h)return F;D&&(F=F.concat(D));for(var z=0;z<F.length;){var B=S(F[z],F[z+1],n);F[z++]=B.x,F[z++]=B.y}return F}function S(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(H/180)}},50896:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function s(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var S={},v=0;v<10;v++)S["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(S).map(function(t){return S[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=s()?Object.assign:function(L,S){for(var v,p=P(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var i in v)e.call(v,i)&&(p[i]=v[i]);if(H){r=H(v);for(var n=0;n<r.length;n++)m.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(G){var H=function(e){return e!==e};G.exports=function(m,P){return m===0&&P===0?1/m===1/P:!!(m===P||H(m)&&H(P))}},39896:function(G,H,e){var m=e(81288),P=e(57916),s=e(76835),L=e(66148),S=e(16408),v=P(L(),Object);m(v,{getPolyfill:L,implementation:s,shim:S}),G.exports=v},66148:function(G,H,e){var m=e(76835);G.exports=function(){return typeof Object.is=="function"?Object.is:m}},16408:function(G,H,e){var m=e(66148),P=e(81288);G.exports=function(){var L=m();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},32764:function(G,H,e){var m;if(!Object.keys){var P=Object.prototype.hasOwnProperty,s=Object.prototype.toString,L=e(97344),S=Object.prototype.propertyIsEnumerable,v=!S.call({toString:null},"toString"),p=S.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!i["$"+u]&&P.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};m=function(l){var g=l!==null&&typeof l=="object",h=s.call(l)==="[object Function]",T=L(l),c=g&&s.call(l)==="[object String]",a=[];if(!g&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&l.length>0&&!P.call(l,0))for(var x=0;x<l.length;++x)a.push(String(x));if(T&&l.length>0)for(var w=0;w<l.length;++w)a.push(String(w));else for(var C in l)!(d&&C==="prototype")&&P.call(l,C)&&a.push(String(C));if(v)for(var y=f(l),M=0;M<r.length;++M)!(y&&r[M]==="constructor")&&P.call(l,r[M])&&a.push(r[M]);return a}}G.exports=m},41820:function(G,H,e){var m=Array.prototype.slice,P=e(97344),s=Object.keys,L=s?function(p){return s(p)}:e(32764),S=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?S(m.call(t)):S(t)})}else Object.keys=L;return Object.keys||L},G.exports=L},97344:function(G){var H=Object.prototype.toString;G.exports=function(m){var P=H.call(m),s=P==="[object Arguments]";return s||(s=P!=="[object Array]"&&m!==null&&typeof m=="object"&&typeof m.length=="number"&&m.length>=0&&H.call(m.callee)==="[object Function]"),s}},32868:function(G){function H(P,s){if(typeof P!="string")return[P];var L=[P];typeof s=="string"||Array.isArray(s)?s={brackets:s}:s||(s={});var S=s.brackets?Array.isArray(s.brackets)?s.brackets:[s.brackets]:["{}","[]","()"],v=s.escape||"___",p=!!s.flat;S.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),f=[];function u(l,g,h){var T=L.push(l.slice(i[0].length,-i[1].length))-1;return f.push(T),v+T+v}L.forEach(function(l,g){for(var h,T=0;l!=h;)if(h=l,l=l.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=l}),f=f.reverse(),L=L.map(function(l){return f.forEach(function(g){l=l.replace(new RegExp("(\\"+v+g+"\\"+v+")","g"),i[0]+"$1"+i[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(i,n,f){for(var u=[],l,g=0;l=r.exec(i);){if(g++>1e4)throw Error("Circular references in parenthesis");u.push(i.slice(0,l.index)),u.push(t(n[l[1]],n)),i=i.slice(l.index+l[0].length)}return u.push(i),u}return p?L:t(L[0],L)}function e(P,s){if(s&&s.flat){var L=s&&s.escape||"___",S=P[0],v;if(!S)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;S!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=S,S=S.replace(p,t)}return S}return P.reduce(function i(n,f){return Array.isArray(f)&&(f=f.reduce(i,"")),n+f},"");function t(i,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function m(P,s){return Array.isArray(P)?e(P,s):H(P,s)}m.parse=H,m.stringify=e,G.exports=m},51160:function(G,H,e){var m=e(55616);G.exports=P;function P(s){var L;return arguments.length>1&&(s=arguments),typeof s=="string"?s=s.split(/\s/).map(parseFloat):typeof s=="number"&&(s=[s]),s.length&&typeof s[0]=="number"?s.length===1?L={width:s[0],height:s[0],x:0,y:0}:s.length===2?L={width:s[0],height:s[1],x:0,y:0}:L={x:s[0],y:s[1],width:s[2]-s[0]||0,height:s[3]-s[1]||0}:s&&(s=m(s,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:s.left||0,y:s.top||0},s.width==null?s.right?L.width=s.right-L.x:L.width=0:L.width=s.width,s.height==null?s.bottom?L.height=s.bottom-L.y:L.height=0:L.height=s.height),L}},21984:function(G){G.exports=m;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function m(L){var S=[];return L.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=s(r),t=="m"&&r.length>2&&(S.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==H[t])return r.unshift(p),S.push(r);if(r.length<H[t])throw new Error("malformed path data");S.push([p].concat(r.splice(0,H[t])))}}),S}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(L){var S=L.match(P);return S?S.map(Number):[]}},65819:function(G){G.exports=function(e,m){m||(m=[0,""]),e=String(e);var P=parseFloat(e,10);return m[0]=P,m[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",m}},41984:function(G,H,e){var m=e(4168);(function(){var P,s,L,S,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof m<"u"&&m!==null&&m.hrtime?(G.exports=function(){return(P()-v)/1e6},s=m.hrtime,P=function(){var r;return r=s(),r[0]*1e9+r[1]},S=P(),p=m.uptime()*1e9,v=S-p):Date.now?(G.exports=function(){return Date.now()-L},L=Date.now()):(G.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(G){G.exports=function(P,s,L){var S={},v,p;if(typeof s=="string"&&(s=e(s)),Array.isArray(s)){var r={};for(p=0;p<s.length;p++)r[s[p]]=!0;s=r}for(v in s)s[v]=e(s[v]);var t={};for(v in s){var i=s[v];if(Array.isArray(i))for(p=0;p<i.length;p++){var n=i[p];if(L&&(t[n]=!0),n in P){if(S[v]=P[n],L)for(var f=p;f<i.length;f++)t[i[f]]=!0;break}}else v in P&&(s[v]&&(S[v]=P[v]),L&&(t[v]=!0))}if(L)for(v in P)t[v]||(S[v]=P[v]);return S};var H={};function e(m){return H[m]?H[m]:(typeof m=="string"&&(m=H[m]=m.split(/\s*,\s*|\s+/)),m)}},61456:function(G){G.exports=function(e,m,P,s){var L=e[0],S=e[1],v=!1;P===void 0&&(P=0),s===void 0&&(s=m.length);for(var p=s-P,r=0,t=p-1;r<p;t=r++){var i=m[r+P][0],n=m[r+P][1],f=m[t+P][0],u=m[t+P][1],l=n>S!=u>S&&L<(f-i)*(S-n)/(u-n)+i;l&&(v=!v)}return v}},14756:function(G,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var m=e(7688),P=e(28648),s=e(72200),L=e(11403),S=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=m():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=s(!0,r,p);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var u=s(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:S.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:S.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:S.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:S.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:S.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return i(n,f,t.selectUnion)},intersect:function(n,f){return i(n,f,t.selectIntersect)},difference:function(n,f){return i(n,f,t.selectDifference)},differenceRev:function(n,f){return i(n,f,t.selectDifferenceRev)},xor:function(n,f){return i(n,f,t.selectXor)}};function i(n,f,u){var l=t.segments(n),g=t.segments(f),h=t.combine(l,g),T=u(h);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},7688:function(G){function H(){var e,m=0,P=!1;function s(L,S){return e.list.push({type:L,data:S?JSON.parse(JSON.stringify(S)):void 0}),e}return e={list:[],segmentId:function(){return m++},checkIntersection:function(L,S){return s("check",{seg1:L,seg2:S})},segmentChop:function(L,S){return s("div_seg",{seg:L,pt:S}),s("chop",{seg:L,pt:S})},statusRemove:function(L){return s("pop_seg",{seg:L})},segmentUpdate:function(L){return s("seg_update",{seg:L})},segmentNew:function(L,S){return s("new_seg",{seg:L,primary:S})},segmentRemove:function(L){return s("rem_seg",{seg:L})},tempStatus:function(L,S,v){return s("temp_status",{seg:L,above:S,below:v})},rewind:function(L){return s("rewind",{seg:L})},status:function(L,S,v){return s("status",{seg:L,above:S,below:v})},vert:function(L){return L===P?e:(P=L,s("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),s("log",{txt:L})},reset:function(){return s("reset")},selected:function(L){return s("selected",{segs:L})},chainStart:function(L){return s("chain_start",{seg:L})},chainRemoveHead:function(L,S){return s("chain_rem_head",{index:L,pt:S})},chainRemoveTail:function(L,S){return s("chain_rem_tail",{index:L,pt:S})},chainNew:function(L,S){return s("chain_new",{pt1:L,pt2:S})},chainMatch:function(L){return s("chain_match",{index:L})},chainClose:function(L){return s("chain_close",{index:L})},chainAddHead:function(L,S){return s("chain_add_head",{index:L,pt:S})},chainAddTail:function(L,S){return s("chain_add_tail",{index:L,pt:S})},chainConnect:function(L,S){return s("chain_con",{index1:L,index2:S})},chainReverse:function(L){return s("chain_rev",{index:L})},chainJoin:function(L,S){return s("chain_join",{index1:L,index2:S})},done:function(){return s("done")}},e}G.exports=H},28648:function(G){function H(e){typeof e!="number"&&(e=1e-10);var m={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,s,L){var S=s[0],v=s[1],p=L[0],r=L[1],t=P[0],i=P[1];return(p-S)*(i-v)-(r-v)*(t-S)>=-e},pointBetween:function(P,s,L){var S=P[1]-s[1],v=L[0]-s[0],p=P[0]-s[0],r=L[1]-s[1],t=p*v+S*r;if(t<e)return!1;var i=v*v+r*r;return!(t-i>-e)},pointsSameX:function(P,s){return Math.abs(P[0]-s[0])<e},pointsSameY:function(P,s){return Math.abs(P[1]-s[1])<e},pointsSame:function(P,s){return m.pointsSameX(P,s)&&m.pointsSameY(P,s)},pointsCompare:function(P,s){return m.pointsSameX(P,s)?m.pointsSameY(P,s)?0:P[1]<s[1]?-1:1:P[0]<s[0]?-1:1},pointsCollinear:function(P,s,L){var S=P[0]-s[0],v=P[1]-s[1],p=s[0]-L[0],r=s[1]-L[1];return Math.abs(S*r-p*v)<e},linesIntersect:function(P,s,L,S){var v=s[0]-P[0],p=s[1]-P[1],r=S[0]-L[0],t=S[1]-L[1],i=v*t-p*r;if(Math.abs(i)<e)return!1;var n=P[0]-L[0],f=P[1]-L[1],u=(r*f-t*n)/i,l=(v*f-p*n)/i,g={alongA:0,alongB:0,pt:[P[0]+u*v,P[1]+u*p]};return u<=-e?g.alongA=-2:u<e?g.alongA=-1:u-1<=-e?g.alongA=0:u-1<e?g.alongA=1:g.alongA=2,l<=-e?g.alongB=-2:l<e?g.alongB=-1:l-1<=-e?g.alongB=0:l-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,s){for(var L=P[0],S=P[1],v=s[s.length-1][0],p=s[s.length-1][1],r=!1,t=0;t<s.length;t++){var i=s[t][0],n=s[t][1];n-S>e!=p-S>e&&(v-i)*(S-n)/(p-n)+i-L>e&&(r=!r),v=i,p=n}return r}};return m}G.exports=H},17792:function(G){var H={toPolygon:function(e,m){function P(S){if(S.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var p=v(S[0]),r=1;r<S.length;r++)p=e.selectDifference(e.combine(p,v(S[r])));return p}if(m.type==="Polygon")return e.polygon(P(m.coordinates));if(m.type==="MultiPolygon"){for(var s=e.segments({inverted:!1,regions:[]}),L=0;L<m.coordinates.length;L++)s=e.selectUnion(e.combine(s,P(m.coordinates[L])));return e.polygon(s)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,m,P){P=e.polygon(e.segments(P));function s(u,l){return m.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function L(u){return{region:u,children:[]}}var S=L(null);function v(u,l){for(var g=0;g<u.children.length;g++){var h=u.children[g];if(s(l,h.region)){v(h,l);return}}for(var T=L(l),g=0;g<u.children.length;g++){var h=u.children[g];s(h.region,l)&&(T.children.push(h),u.children.splice(g,1),g--)}u.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(S,r)}function t(u,l){for(var g=0,h=u[u.length-1][0],T=u[u.length-1][1],c=[],a=0;a<u.length;a++){var d=u[a][0],x=u[a][1];c.push([d,x]),g+=x*h-d*T,h=d,T=x}var w=g<0;return w!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var i=[];function n(u){var l=[t(u.region,!1)];i.push(l);for(var g=0;g<u.children.length;g++)l.push(f(u.children[g]))}function f(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var p=0;p<S.children.length;p++)n(S.children[p]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};G.exports=H},72200:function(G,H,e){var m=e(48088);function P(s,L,S){function v(T,c){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:null,below:null},otherFill:null}}function p(T,c,a){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}var r=m.create();function t(T,c,a,d,x,w){var C=L.pointsCompare(c,x);return C!==0?C:L.pointsSame(a,w)?0:T!==d?T?1:-1:L.pointAboveOrOnLine(a,d?x:w,d?w:x)?1:-1}function i(T,c){r.insertBefore(T,function(a){var d=t(T.isStart,T.pt,c,a.isStart,a.pt,a.other.pt);return d<0})}function n(T,c){var a=m.node({isStart:!0,pt:T.start,seg:T,primary:c,other:null,status:null});return i(a,T.end),a}function f(T,c,a){var d=m.node({isStart:!1,pt:c.end,seg:c,primary:a,other:T,status:null});T.other=d,i(d,T.pt)}function u(T,c){var a=n(T,c);return f(a,T,c),a}function l(T,c){S&&S.segmentChop(T.seg,c),T.other.remove(),T.seg.end=c,T.other.pt=c,i(T.other,T.pt)}function g(T,c){var a=p(c,T.seg.end,T.seg);return l(T,c),u(a,T.primary)}function h(T,c){var a=m.create();function d(k,O){var F=k.seg.start,z=k.seg.end,B=O.seg.start,W=O.seg.end;return L.pointsCollinear(F,B,W)?L.pointsCollinear(z,B,W)||L.pointAboveOrOnLine(z,B,W)?1:-1:L.pointAboveOrOnLine(F,B,W)?1:-1}function x(k){return a.findTransition(function(O){var F=d(k,O.ev);return F>0})}function w(k,O){var F=k.seg,z=O.seg,B=F.start,W=F.end,J=z.start,re=z.end;S&&S.checkIntersection(F,z);var ne=L.linesIntersect(B,W,J,re);if(ne===!1){if(!L.pointsCollinear(B,W,J)||L.pointsSame(B,re)||L.pointsSame(W,J))return!1;var le=L.pointsSame(B,J),$=L.pointsSame(W,re);if(le&&$)return O;var K=!le&&L.pointBetween(B,J,re),ie=!$&&L.pointBetween(W,J,re);if(le)return ie?g(O,W):g(k,re),O;K&&($||(ie?g(O,W):g(k,re)),g(O,B))}else ne.alongA===0&&(ne.alongB===-1?g(k,J):ne.alongB===0?g(k,ne.pt):ne.alongB===1&&g(k,re)),ne.alongB===0&&(ne.alongA===-1?g(O,B):ne.alongA===0?g(O,ne.pt):ne.alongA===1&&g(O,W));return!1}for(var C=[];!r.isEmpty();){var y=r.getHead();if(S&&S.vert(y.pt[0]),y.isStart){let k=function(){if(A){var O=w(y,A);if(O)return O}return o?w(y,o):!1};S&&S.segmentNew(y.seg,y.primary);var M=x(y),A=M.before?M.before.ev:null,o=M.after?M.after.ev:null;S&&S.tempStatus(y.seg,A?A.seg:!1,o?o.seg:!1);var E=k();if(E){if(s){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,b&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=y.seg.myFill;S&&S.segmentUpdate(E.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){S&&S.rewind(y.seg);continue}if(s){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,o?y.seg.myFill.below=o.seg.myFill.above:y.seg.myFill.below=T,b?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var I;o?y.primary===o.primary?I=o.seg.otherFill.above:I=o.seg.myFill.above:I=y.primary?c:T,y.seg.otherFill={above:I,below:I}}S&&S.status(y.seg,A?A.seg:!1,o?o.seg:!1),y.other.status=M.insert(m.node({ev:y}))}else{var D=y.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(a.exists(D.prev)&&a.exists(D.next)&&w(D.prev.ev,D.next.ev),S&&S.statusRemove(D.ev.seg),D.remove(),!y.primary){var N=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=N}C.push(y.seg)}r.getHead().remove()}return S&&S.done(),C}return s?{addRegion:function(T){for(var c,a=T[T.length-1],d=0;d<T.length;d++){c=a,a=T[d];var x=L.pointsCompare(c,a);x!==0&&u(v(x<0?c:a,x<0?a:c),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,c,a,d){return T.forEach(function(x){u(p(x.start,x.end,x),!0)}),a.forEach(function(x){u(p(x.start,x.end,x),!1)}),h(c,d)}}}G.exports=P},48088:function(G){var H={create:function(){var e={root:{root:!0,next:null},exists:function(m){return!(m===null||m===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(m,P){for(var s=e.root,L=e.root.next;L!==null;){if(P(L)){m.prev=L.prev,m.next=L,L.prev.next=m,L.prev=m;return}s=L,L=L.next}s.next=m,m.prev=s,m.next=null},findTransition:function(m){for(var P=e.root,s=e.root.next;s!==null&&!m(s);)P=s,s=s.next;return{before:P===e.root?null:P,after:s,insert:function(L){return L.prev=P,L.next=s,P.next=L,s!==null&&(s.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=H},11403:function(G){function H(e,m,P){var s=[],L=[];return e.forEach(function(S){var v=S.start,p=S.end;if(m.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(S);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function n(E,b,I){return i.index=E,i.matches_head=b,i.matches_pt1=I,i===r?(i=t,!1):(i=null,!0)}for(var f=0;f<s.length;f++){var u=s[f],l=u[0];u[1];var g=u[u.length-1];if(u[u.length-2],m.pointsSame(l,v)){if(n(f,!0,!0))break}else if(m.pointsSame(l,p)){if(n(f,!0,!1))break}else if(m.pointsSame(g,v)){if(n(f,!1,!0))break}else if(m.pointsSame(g,p)&&n(f,!1,!1))break}if(i===r){s.push([v,p]),P&&P.chainNew(v,p);return}if(i===t){P&&P.chainMatch(r.index);var h=r.index,T=r.matches_pt1?p:v,c=r.matches_head,u=s[h],a=c?u[0]:u[u.length-1],d=c?u[1]:u[u.length-2],x=c?u[u.length-1]:u[0],w=c?u[u.length-2]:u[1];if(m.pointsCollinear(d,a,T)&&(c?(P&&P.chainRemoveHead(r.index,T),u.shift()):(P&&P.chainRemoveTail(r.index,T),u.pop()),a=d),m.pointsSame(x,T)){s.splice(h,1),m.pointsCollinear(w,x,a)&&(c?(P&&P.chainRemoveTail(r.index,a),u.pop()):(P&&P.chainRemoveHead(r.index,a),u.shift())),P&&P.chainClose(r.index),L.push(u);return}c?(P&&P.chainAddHead(r.index,T),u.unshift(T)):(P&&P.chainAddTail(r.index,T),u.push(T));return}function C(E){P&&P.chainReverse(E),s[E].reverse()}function y(E,b){var I=s[E],D=s[b],N=I[I.length-1],k=I[I.length-2],O=D[0],F=D[1];m.pointsCollinear(k,N,O)&&(P&&P.chainRemoveTail(E,N),I.pop(),N=k),m.pointsCollinear(N,O,F)&&(P&&P.chainRemoveHead(b,O),D.shift()),P&&P.chainJoin(E,b),s[E]=I.concat(D),s.splice(b,1)}var M=r.index,A=t.index;P&&P.chainConnect(M,A);var o=s[M].length<s[A].length;r.matches_head?t.matches_head?o?(C(M),y(M,A)):(C(A),y(A,M)):y(A,M):t.matches_head?y(M,A):o?(C(M),y(A,M)):(C(A),y(M,A))}),L}G.exports=H},82368:function(G){function H(m,P,s){var L=[];return m.forEach(function(S){var v=(S.myFill.above?8:0)+(S.myFill.below?4:0)+(S.otherFill&&S.otherFill.above?2:0)+(S.otherFill&&S.otherFill.below?1:0);P[v]!==0&&L.push({id:s?s.segmentId():-1,start:S.start,end:S.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),s&&s.selected(L),L}var e={union:function(m,P){return H(m,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(m,P){return H(m,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(m,P){return H(m,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(m,P){return H(m,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(m,P){return H(m,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};G.exports=e},9696:function(G,H,e){var m=e(29936).Transform,P=e(55619);function s(){m.call(this,{readableObjectMode:!0})}s.prototype=Object.create(m.prototype),s.prototype.constructor=s,P(s.prototype),H.gS=function(S,v,p){for(var r=v,t=0;t<p.length;)if(S[r++]!==p[t++])return!1;return!0},H.wR=function(S,v){var p=[],r=0;if(v&&v==="hex")for(;r<S.length;)p.push(parseInt(S.slice(r,r+2),16)),r+=2;else for(;r<S.length;r++)p.push(S.charCodeAt(r)&255);return p},H.Bz=function(S,v){return S[v]|S[v+1]<<8},H.eW=function(S,v){return S[v+1]|S[v]<<8},H.st=function(S,v){return S[v]|S[v+1]<<8|S[v+2]<<16|S[v+3]*16777216},H.eI=function(S,v){return S[v+3]|S[v+2]<<8|S[v+1]<<16|S[v]*16777216};function L(S,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=S,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},11688:function(G){function H(P,s){var L=new Error(P);return L.code=s,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function m(P,s,L){this.input=P.subarray(s,L),this.start=s;var S=String.fromCharCode.apply(null,this.input.subarray(0,4));if(S!=="II*\0"&&S!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=S[0]==="M"}m.prototype.each=function(P){this.aborted=!1;var s=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:s}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},m.prototype.read_uint16=function(P){var s=this.input;if(P+2>s.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?s[P]*256+s[P+1]:s[P]+s[P+1]*256},m.prototype.read_uint32=function(P){var s=this.input;if(P+4>s.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?s[P]*16777216+s[P+1]*65536+s[P+2]*256+s[P+3]:s[P]+s[P+1]*256+s[P+2]*65536+s[P+3]*16777216},m.prototype.is_subifd_link=function(P,s){return P===0&&s===34665||P===0&&s===34853||P===34665&&s===40965},m.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},m.prototype.exif_format_read=function(P,s){var L;switch(P){case 1:case 2:return L=this.input[s],L;case 6:return L=this.input[s],L|(L&128)*33554430;case 3:return L=this.read_uint16(s),L;case 8:return L=this.read_uint16(s),L|(L&32768)*131070;case 4:return L=this.read_uint32(s),L;case 9:return L=this.read_uint32(s),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},m.prototype.scan_ifd=function(P,s,L){var S=this.read_uint16(s);s+=2;for(var v=0;v<S;v++){var p=this.read_uint16(s),r=this.read_uint16(s+2),t=this.read_uint32(s+4),i=this.exif_format_length(r),n=t*i,f=n<=4?s+8:this.read_uint32(s+8),u=!1;if(f+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var l=[],g=f,h=0;h<t;h++,g+=i){var T=this.exif_format_read(r,g);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:s+this.start,data_length:n,data_offset:f+this.start,value:l,is_subifd_link:u};if(L(c)===!1){this.aborted=!0;return}s+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(s)})},G.exports.ExifParser=m,G.exports.get_orientation=function(P){var s=0;try{return new m(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return s=L.value[0],!1}),s}catch{return-1}}},44600:function(G,H,e){var m=e(9696).eW,P=e(9696).eI;function s(n,f){if(n.length<4+f)return null;var u=P(n,f);return n.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+u),end:f+u}}G.exports.unbox=s;function L(n,f){for(var u=0;;){var l=s(n,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function S(n,f,u){for(var l=0,g=0;g<u;g++)l=l*256+(n[f+g]||0);return l}function v(n,f){for(var u=n[4]>>4&15,l=n[4]&15,g=n[5]>>4&15,h=m(n,6),T=8,c=0;c<h;c++){var a=m(n,T);T+=2;var d=m(n,T);T+=2;var x=S(n,T,g);T+=g;var w=m(n,T);if(T+=2,d===0&&w===1){var C=S(n,T,u),y=S(n,T+u,l);f.item_loc[a]={length:y,offset:C+x}}T+=w*(u+l)}}function p(n,f){for(var u=m(n,4),l=6,g=0;g<u;g++){var h=s(n,l);if(!h)break;if(h.boxtype==="infe"){for(var T=m(h.data,4),c="",a=8;a<h.data.length&&h.data[a];a++)c+=String.fromCharCode(h.data[a]);f.item_inf[c]=T}l=h.end}}function r(n,f){for(var u=0;;){var l=s(n,u);if(!l)break;l.boxtype==="ipco"&&L(l.data,f),u=l.end}}function t(n,f){for(var u=4;;){var l=s(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&p(l.data,f),u=l.end}}function i(n){var f=n.reduce(function(g,h){return g.width>h.width||g.width===h.width&&g.height>h.height?g:h}),u=n.reduce(function(g,h){return g.height>h.height||g.height===h.height&&g.width>h.width?g:h}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}G.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var u=i(f.sizes),l=1;f.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=T[l],l=T[l])),h.type==="irot")for(var a=0;a<h.value;a++)l=T[l]});var g=null;return f.item_inf.Exif&&(g=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:g}}},G.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[f]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=e(44600),S=e(11688),v=m("ftyp");G.exports=function(p){if(P(p,4,v)){var r=L.unbox(p,0);if(r){var t=L.getMimeType(r.data);if(t){for(var i,n=r.end;;){var f=L.unbox(p,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){i=f.data;break}}if(i){var u=L.readSizeFromMeta(i);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var g=s(p,u.exif_location.offset),h=p.slice(u.exif_location.offset+g+4,u.exif_location.offset+u.exif_location.length),T=S.get_orientation(h);T>0&&(l.orientation=T)}return l}}}}}}},38728:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=m("BM");G.exports=function(S){if(!(S.length<26)&&P(S,0,L))return{width:s(S,18),height:s(S,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=m("GIF87a"),S=m("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,S)))return{width:s(v,6),height:s(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(G,H,e){var m=e(9696).Bz,P=0,s=1,L=16;G.exports=function(S){var v=m(S,0),p=m(S,2),r=m(S,4);if(!(v!==P||p!==s||!r)){for(var t=[],i={width:0,height:0},n=0;n<r;n++){var f=S[6+L*n]||256,u=S[6+L*n+1]||256,l={width:f,height:u};t.push(l),(f>i.width||u>i.height)&&(i=l)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(G,H,e){var m=e(9696).eW,P=e(9696).wR,s=e(9696).gS,L=e(11688),S=P("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=m(v,p)-2,p+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&s(v,p,S)&&(i=L.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:m(v,p+3),height:m(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}p+=t}}},37276:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=m(`PNG\r

`),S=m("IHDR");G.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,S))return{width:s(v,16),height:s(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=m("8BPS\0");G.exports=function(S){if(!(S.length<22)&&P(S,0,L))return{width:s(S,18),height:s(S,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(G){function H(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function m(i){var n=0,f=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(n=3);n<f&&H(i[n]);)n++;return n===f?!1:i[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,s=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,S=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var n=i.match(L),f=i.match(S),u=i.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(i){return p.test(i)?i.match(p)[0]:"px"}G.exports=function(i){if(m(i)){for(var n="",f=0;f<i.length;f++)n+=String.fromCharCode(i[f]);var u=(n.match(P)||[""])[0];if(s.test(u)){var l=r(u),g=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(g)||!e(h)?void 0:{width:g,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),c={width:T[2],height:T[3]},a=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(a)||!e(d))&&t(c.width)===t(c.height)){var x=a/d;return l.width?e(g)?{width:g,height:g/x,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:a,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=e(9696).eW,S=e(9696).st,v=e(9696).eI,p=m("II*\0"),r=m("MM\0*");function t(f,u,l){return l?L(f,u):s(f,u)}function i(f,u,l){return l?v(f,u):S(f,u)}function n(f,u,l){var g=t(f,u+2,l),h=i(f,u+4,l);return h!==1||g!==3&&g!==4?null:g===3?t(f,u+8,l):i(f,u+8,l)}G.exports=function(f){if(!(f.length<8)&&!(!P(f,0,p)&&!P(f,0,r))){var u=f[0]===77,l=i(f,4,u)-8;if(!(l<0)){var g=l+8;if(!(f.length-g<2)){var h=t(f,g+0,u)*12;if(!(h<=0)&&(g+=2,!(f.length-g<h))){var T,c,a,d;for(T=0;T<h;T+=12)d=t(f,g+T,u),d===256?c=n(f,g+T,u):d===257&&(a=n(f,g+T,u));if(c&&a)return{width:c,height:a,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(G,H,e){var m=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=e(9696).st,S=e(11688),v=m("RIFF"),p=m("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:s(n,f+6)&16383,height:s(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var u=L(n,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var f=12,u=null,l=0,g=L(n,4)+8;if(!(g>n.length)){for(;f+8<g;){if(n[f]===0){f++;continue}var h=String.fromCharCode.apply(null,n.slice(f,f+4)),T=L(n,f+4);h==="VP8 "&&T>=10?u=u||r(n,f+8):h==="VP8L"&&T>=9?u=u||t(n,f+8):h==="VP8X"&&T>=10?u=u||i(n,f+8):h==="EXIF"&&(l=S.get_orientation(n.slice(f+8,f+8+T)),f=1/0),f+=8+T}if(u)return l>0&&(u.orientation=l),u}}}},87480:function(G,H,e){G.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(G,H,e){var m=e(87480);function P(s){for(var L=Object.keys(m),S=0;S<L.length;S++){var v=m[L[S]](s);if(v)return v}return null}G.exports=function(L){return P(L)},G.exports.parsers=m},4168:function(G){var H=G.exports={},e,m;function P(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?m=clearTimeout:m=s}catch{m=s}})();function L(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function S(l){if(m===clearTimeout)return clearTimeout(l);if((m===s||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(l);try{return m(l)}catch{try{return m.call(null,l)}catch{return m.call(this,l)}}}var v=[],p=!1,r,t=-1;function i(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=L(i);p=!0;for(var g=v.length;g;){for(r=v,v=[];++t<g;)r&&r[t].run();t=-1,g=v.length}r=null,p=!1,S(l)}}H.nextTick=function(l){var g=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)g[h-1]=arguments[h];v.push(new f(l,g)),v.length===1&&!p&&L(n)};function f(l,g){this.fun=l,this.array=g}f.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function u(){}H.on=u,H.addListener=u,H.once=u,H.off=u,H.removeListener=u,H.removeAllListeners=u,H.emit=u,H.prependListener=u,H.prependOnceListener=u,H.listeners=function(l){return[]},H.binding=function(l){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(l){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},3951:function(G,H,e){for(var m=e(41984),P=typeof window>"u"?e.g:window,s=["moz","webkit"],L="AnimationFrame",S=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!S&&p<s.length;p++)S=P[s[p]+"Request"+L],v=P[s[p]+"Cancel"+L]||P[s[p]+"CancelRequest"+L];if(!S||!v){var r=0,t=0,i=[],n=1e3/60;S=function(f){if(i.length===0){var u=m(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var g=i.slice(0);i.length=0;for(var h=0;h<g.length;h++)if(!g[h].cancelled)try{g[h].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return i.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<i.length;u++)i[u].handle===f&&(i[u].cancelled=!0)}}G.exports=function(f){return S.call(P,f)},G.exports.cancel=function(){v.apply(P,arguments)},G.exports.polyfill=function(f){f||(f=P),f.requestAnimationFrame=S,f.cancelAnimationFrame=v}},24544:function(G,H,e){var m=e(76752),P=e(72160),s=e(45223),L=e(55616),S=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;G.exports=n;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,g,h,T,c,a,d,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),a=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=f.buffer({usage:"static",type:"float",data:i}),A(u),g=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(E,b){return[b.viewport.x,b.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,b){return b.offset*4},divisor:1},position:{buffer:h,offset:function(E,b){return b.offset*8},divisor:1},positionFract:{buffer:T,offset:function(E,b){return b.offset*8},divisor:1},error:{buffer:a,offset:function(E,b){return b.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:i.length}),S(C,{update:A,draw:y,destroy:o,regl:f,gl:l,canvas:l.canvas,groups:w}),C;function C(E){E?A(E):E===null&&o(),y()}function y(E){if(typeof E=="number")return M(E);E&&!Array.isArray(E)&&(E=[E]),f._refresh(),w.forEach(function(b,I){if(b){if(E&&(E[I]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}M(I)}})}function M(E){typeof E=="number"&&(E=w[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],g(E),E.after&&E.after(E))}function A(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var b=0,I=0;if(C.groups=w=E.map(function(B,W){var J=w[W];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return J;return B=L(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(w[W]=J={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=S({},x,B)),s(J,B,[{lineWidth:function(re){return+re*.5},capSize:function(re){return+re*.5},opacity:parseFloat,errors:function(re){return re=v(re),I+=re.length,re},positions:function(re,ne){return re=v(re,"float64"),ne.count=Math.floor(re.length/2),ne.bounds=m(re,2),ne.offset=b,b+=ne.count,re}},{color:function(re,ne){var le=ne.count;if(re||(re="transparent"),!Array.isArray(re)||typeof re[0]=="number"){var $=re;re=Array(le);for(var K=0;K<le;K++)re[K]=$}if(re.length<le)throw Error("Not enough colors");for(var ie=new Uint8Array(le*4),Y=0;Y<le;Y++){var Q=P(re[Y],"uint8");ie.set(Q,Y*4)}return ie},range:function(re,ne,le){var $=ne.bounds;return re||(re=$),ne.scale=[1/(re[2]-re[0]),1/(re[3]-re[1])],ne.translate=[-re[0],-re[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),re},viewport:function(re){var ne;return Array.isArray(re)?ne={x:re[0],y:re[1],width:re[2]-re[0],height:re[3]-re[1]}:re?(ne={x:re.x||re.left||0,y:re.y||re.top||0},re.right?ne.width=re.right-ne.x:ne.width=re.w||re.width||0,re.bottom?ne.height=re.bottom-ne.y:ne.height=re.h||re.height||0):ne={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ne}}]),J}),b||I){var D=w.reduce(function(B,W,J){return B+(W?W.count:0)},0),N=new Float64Array(D*2),k=new Uint8Array(D*4),O=new Float32Array(D*4);w.forEach(function(B,W){if(B){var J=B.positions,re=B.count,ne=B.offset,le=B.color,$=B.errors;re&&(k.set(le,ne*4),O.set($,ne*4),N.set(J,ne*2))}});var F=r(N);h(F);var z=t(N,F);T(z),c(k),a(O)}}}function o(){h.destroy(),T.destroy(),c.destroy(),a.destroy(),d.destroy()}}},13472:function(G,H,e){var m=e(72160),P=e(76752),s=e(50896),L=e(55616),S=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,i=r.fract32,n=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,g=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,a=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;G.exports=d;function d(x,w){if(!(this instanceof d))return new d(x,w);if(typeof x=="function"?(w||(w={}),w.regl=x):w=x,w.length&&(w.positions=w),x=w.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=d.shaders.has(x)?d.shaders.get(x):d.shaders.set(x,d.createShaders(x)).get(x),this.update(w)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(x){var w=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(o,E){return E.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(o,E){return[E.viewport.x,E.viewport.y,o.viewportWidth,o.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(o,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},y=x(s({vert:l,frag:g,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),M;try{M=x(s({cull:{enable:!0,face:"back"},vert:c,frag:a,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{M=y}var A=x({primitive:"triangle",elements:function(o,E){return E.triangles},offset:0,vert:h,frag:T,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(o,E){return[E.viewport.x,E.viewport.y,o.viewportWidth,o.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:A,rect:y,miter:M}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var x,w=[],C=arguments.length;C--;)w[C]=arguments[C];w.length&&(x=this).update.apply(x,w),this.draw()},d.prototype.draw=function(){for(var x=this,w=[],C=arguments.length;C--;)w[C]=arguments[C];return(w.length?w:this.passes).forEach(function(y,M){var A;if(y&&Array.isArray(y))return(A=x).draw.apply(A,y);typeof y=="number"&&(y=x.passes[y]),y&&y.count>1&&y.opacity&&(x.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&x.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>d.precisionThreshold||y.scale[1]*y.viewport.height>d.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=d.maxPoints)?x.shaders.rect(y):x.shaders.miter(y)))}),this},d.prototype.update=function(x){var w=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var C=this,y=C.regl,M=C.gl;if(x.forEach(function(I,D){var N=w.passes[D];if(I!==void 0){if(I===null){w.passes[D]=null;return}if(typeof I[0]=="number"&&(I={positions:I}),I=L(I,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(w.passes[D]=N={id:D,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},I=s({},d.defaults,I)),I.thickness!=null&&(N.thickness=parseFloat(I.thickness)),I.opacity!=null&&(N.opacity=parseFloat(I.opacity)),I.miterLimit!=null&&(N.miterLimit=parseFloat(I.miterLimit)),I.overlay!=null&&(N.overlay=!!I.overlay,D<d.maxLines&&(N.depth=2*(d.maxLines-1-D%d.maxLines)/d.maxLines-1)),I.join!=null&&(N.join=I.join),I.hole!=null&&(N.hole=I.hole),I.fill!=null&&(N.fill=I.fill?m(I.fill,"uint8"):null),I.viewport!=null&&(N.viewport=f(I.viewport)),N.viewport||(N.viewport=f([M.drawingBufferWidth,M.drawingBufferHeight])),I.close!=null&&(N.close=I.close),I.positions===null&&(I.positions=[]),I.positions){var k,O;if(I.positions.x&&I.positions.y){var F=I.positions.x,z=I.positions.y;O=N.count=Math.max(F.length,z.length),k=new Float64Array(O*2);for(var B=0;B<O;B++)k[B*2]=F[B],k[B*2+1]=z[B]}else k=S(I.positions,"float64"),O=N.count=Math.floor(k.length/2);var W=N.bounds=P(k,2);if(N.fill){for(var J=[],re={},ne=0,le=0,$=0,K=N.count;le<K;le++){var ie=k[le*2],Y=k[le*2+1];isNaN(ie)||isNaN(Y)||ie==null||Y==null?(ie=k[ne*2],Y=k[ne*2+1],re[le]=ne):ne=le,J[$++]=ie,J[$++]=Y}if(I.splitNull){N.count-1 in re||(re[N.count]=N.count-1);var Q=Object.keys(re).map(Number).sort(function(he,me){return he-me}),oe=[],X=0,j=N.hole!=null?N.hole[0]:null;if(j!=null){var se=u(Q,function(he){return he>=j});Q=Q.slice(0,se),Q.push(j)}for(var te=function(he){var me=J.slice(X*2,Q[he]*2).concat(j?J.slice(j*2):[]),Ne=(N.hole||[]).map(function(ot){return ot-j+(Q[he]-X)}),$e=v(me,Ne);$e=$e.map(function(ot){return ot+X+(ot+X<Q[he]?0:j-Q[he])}),oe.push.apply(oe,$e),X=Q[he]+1},fe=0;fe<Q.length;fe++)te(fe);for(var ge=0,be=oe.length;ge<be;ge++)re[oe[ge]]!=null&&(oe[ge]=re[oe[ge]]);N.triangles=oe}else{for(var xe=v(J,N.hole||[]),_e=0,De=xe.length;_e<De;_e++)re[xe[_e]]!=null&&(xe[_e]=re[xe[_e]]);N.triangles=xe}}var Fe=new Float64Array(k);p(Fe,2,W);var Te=new Float64Array(O*2+6);N.close?k[0]===k[O*2-2]&&k[1]===k[O*2-1]?(Te[0]=Fe[O*2-4],Te[1]=Fe[O*2-3]):(Te[0]=Fe[O*2-2],Te[1]=Fe[O*2-1]):(Te[0]=Fe[0],Te[1]=Fe[1]),Te.set(Fe,2),N.close?k[0]===k[O*2-2]&&k[1]===k[O*2-1]?(Te[O*2+2]=Fe[2],Te[O*2+3]=Fe[3],N.count-=1):(Te[O*2+2]=Fe[0],Te[O*2+3]=Fe[1],Te[O*2+4]=Fe[2],Te[O*2+5]=Fe[3]):(Te[O*2+2]=Fe[O*2-2],Te[O*2+3]=Fe[O*2-1],Te[O*2+4]=Fe[O*2-2],Te[O*2+5]=Fe[O*2-1]);var Re=t(Te);N.positionBuffer(Re);var Se=i(Te,Re);N.positionFractBuffer(Se)}if(I.range?N.range=I.range:N.range||(N.range=N.bounds),(I.range||I.positions)&&N.count){var Ie=N.bounds,Me=Ie[2]-Ie[0],Ve=Ie[3]-Ie[1],et=N.range[2]-N.range[0],it=N.range[3]-N.range[1];N.scale=[Me/et,Ve/it],N.translate=[-N.range[0]/et+Ie[0]/et||0,-N.range[1]/it+Ie[1]/it||0],N.scaleFract=i(N.scale),N.translateFract=i(N.translate)}if(I.dashes){var Je=0,Qe;if(!I.dashes||I.dashes.length<2)Je=1,Qe=new Uint8Array([255,255,255,255,255,255,255,255]);else{Je=0;for(var ct=0;ct<I.dashes.length;++ct)Je+=I.dashes[ct];Qe=new Uint8Array(Je*d.dashMult);for(var ht=0,gt=255,Tt=0;Tt<2;Tt++)for(var Et=0;Et<I.dashes.length;++Et){for(var rt=0,ze=I.dashes[Et]*d.dashMult*.5;rt<ze;++rt)Qe[ht++]=gt;gt^=255}}N.dashLength=Je,N.dashTexture({channels:1,data:Qe,width:Qe.length,height:1,mag:"linear",min:"linear"},0,0)}if(I.color){var He=N.count,Ge=I.color;Ge||(Ge="transparent");var We=new Uint8Array(He*4+4);if(!Array.isArray(Ge)||typeof Ge[0]=="number")for(var Le=m(Ge,"uint8"),Pe=0;Pe<He+1;Pe++)We.set(Le,Pe*4);else{for(var je=0;je<He;je++){var Ce=m(Ge[je],"uint8");We.set(Ce,je*4)}We.set(m(Ge[0],"uint8"),He*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}}),x.length<this.passes.length){for(var A=x.length;A<this.passes.length;A++){var o=this.passes[A];o&&(o.colorBuffer.destroy(),o.positionBuffer.destroy(),o.dashTexture.destroy())}this.passes.length=x.length}for(var E=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&E.push(this.passes[b]);return this.passes=E,this}},d.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(G,H,e){function m(o,E){var b=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(b!=null){var I,D,N,k,O=[],F=!0,z=!1;try{if(N=(b=b.call(o)).next,E!==0)for(;!(F=(I=N.call(b)).done)&&(O.push(I.value),O.length!==E);F=!0);}catch(B){z=!0,D=B}finally{try{if(!F&&b.return!=null&&(k=b.return(),Object(k)!==k))return}finally{if(z)throw D}}return O}}function P(o,E){return S(o)||m(o,E)||p(o,E)||i()}function s(o){return L(o)||v(o)||p(o)||t()}function L(o){if(Array.isArray(o))return r(o)}function S(o){if(Array.isArray(o))return o}function v(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function p(o,E){if(o){if(typeof o=="string")return r(o,E);var b=Object.prototype.toString.call(o).slice(8,-1);if(b==="Object"&&o.constructor&&(b=o.constructor.name),b==="Map"||b==="Set")return Array.from(o);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(o,E)}}function r(o,E){(E==null||E>o.length)&&(E=o.length);for(var b=0,I=new Array(E);b<E;b++)I[b]=o[b];return I}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),u=e(3808),l=e(3108),g=e(50896),h=e(26444),T=e(55616),c=e(45223),a=e(47520),d=e(96604),x=e(37816),w=e(51160),C=y;function y(o,E){var b=this;if(!(this instanceof y))return new y(o,E);typeof o=="function"?(E||(E={}),E.regl=o):(E=o,o=null),E&&E.length&&(E.positions=E),o=E.regl;var I=o._gl,D,N=[],k={},O=[],F=[null],z=[null],B=255,W=100;this.tooManyColors=d,D=o.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:o,gl:I,groups:O,markerCache:z,markerTextures:F,palette:N,paletteIds:k,paletteTexture:D,maxColors:B,maxSize:W,canvas:I.canvas}),this.update(E);var J={uniforms:{constPointSize:!!E.constPointSize,opacity:o.prop("opacity"),paletteSize:function($,K){return[b.tooManyColors?0:B,D.height]},pixelRatio:o.context("pixelRatio"),scale:o.prop("scale"),scaleFract:o.prop("scaleFract"),translate:o.prop("translate"),translateFract:o.prop("translateFract"),markerTexture:o.prop("markerTexture"),paletteTexture:D},attributes:{x:function($,K){return K.xAttr||{buffer:K.positionBuffer,stride:8,offset:0}},y:function($,K){return K.yAttr||{buffer:K.positionBuffer,stride:8,offset:4}},xFract:function($,K){return K.xAttr?{constant:[0,0]}:{buffer:K.positionFractBuffer,stride:8,offset:0}},yFract:function($,K){return K.yAttr?{constant:[0,0]}:{buffer:K.positionFractBuffer,stride:8,offset:4}},size:function($,K){return K.size.length?{buffer:K.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(K.size*255/b.maxSize)]}},borderSize:function($,K){return K.borderSize.length?{buffer:K.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(K.borderSize*255/b.maxSize)]}},colorId:function($,K){return K.color.length?{buffer:K.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?N.slice(K.color*4,K.color*4+4):[K.color]}},borderColorId:function($,K){return K.borderColor.length?{buffer:K.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?N.slice(K.borderColor*4,K.borderColor*4+4):[K.borderColor]}},isActive:function($,K){return K.activation===!0?{constant:[1]}:K.activation?K.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:o.prop("elements"),count:o.prop("count"),offset:o.prop("offset"),primitive:"points"},re=g({},J);re.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=o(re);var ne=g({},J);ne.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),re.frag=re.frag.replace("smoothstep","smoothStep")),this.drawCircle=o(ne)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var o=this,E=arguments.length,b=new Array(E),I=0;I<E;I++)b[I]=arguments[I];var D=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var N=0;N<b.length;N++)this.drawItem(N,b[N]);else D.forEach(function(k,O){o.drawItem(O)});return this},y.prototype.drawItem=function(o,E){var b=this.groups,I=b[o];if(typeof E=="number"&&(o=E,I=b[E],E=null),!!(I&&I.count&&I.opacity)){I.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,I,E));for(var D=[],N=1;N<I.activation.length;N++)!I.activation[N]||I.activation[N]!==!0&&!I.activation[N].data.length||D.push.apply(D,s(this.getMarkerDrawOptions(N,I,E)));D.length&&this.drawMarker(D)}},y.prototype.getMarkerDrawOptions=function(o,E,b){var I=E.range,D=E.tree,N=E.viewport,k=E.activation,O=E.selectionBuffer,F=E.count;if(this.regl,!D)return b?[g({},E,{markerTexture:this.markerTextures[o],activation:k[o],count:b.length,elements:b,offset:0})]:[g({},E,{markerTexture:this.markerTextures[o],activation:k[o],offset:0})];var z=[],B=D.range(I,{lod:!0,px:[(I[2]-I[0])/N.width,(I[3]-I[1])/N.height]});if(b){for(var W=k[o],J=W.data,re=new Uint8Array(F),ne=0;ne<b.length;ne++){var le=b[ne];re[le]=J?J[le]:1}O.subdata(re)}for(var $=B.length;$--;){var K=P(B[$],2),ie=K[0],Y=K[1];z.push(g({},E,{markerTexture:this.markerTextures[o],activation:b?O:k[o],offset:ie,count:Y-ie}))}return z},y.prototype.update=function(){for(var o=this,E=arguments.length,b=new Array(E),I=0;I<E;I++)b[I]=arguments[I];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var D=this.groups,N=this.gl,k=this.regl,O=this.maxSize,F=this.maxColors,z=this.palette;this.groups=D=b.map(function(B,W){var J=D[W];if(B===void 0)return J;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=T(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(o.tooManyColors=B.tooManyColors),J||(D[W]=J={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=g({},y.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=J.marker,delete J.marker),B.marker&&!("positions"in B)&&(B.positions=J.positions,delete J.positions);var re=0,ne=0;if(c(J,B,[{snap:!0,size:function(Te,Re){return Te==null&&(Te=y.defaults.size),re+=Te&&Te.length?1:0,Te},borderSize:function(Te,Re){return Te==null&&(Te=y.defaults.borderSize),re+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,Re){return Te==null&&(Te=y.defaults.color),Te=o.updateColor(Te),ne++,Te},borderColor:function(Te,Re){return Te==null&&(Te=y.defaults.borderColor),Te=o.updateColor(Te),ne++,Te},bounds:function(Te,Re,Se){return"range"in Se||(Se.range=null),Te},positions:function(Te,Re,Se){var Ie=Re.snap,Me=Re.positionBuffer,Ve=Re.positionFractBuffer,et=Re.selectionBuffer;if(Te.x||Te.y)return Te.x.length?Re.xAttr={buffer:k.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:Re.xAttr={buffer:Te.x.buffer,offset:Te.x.offset*4||0,stride:(Te.x.stride||1)*4,count:Te.x.count},Te.y.length?Re.yAttr={buffer:k.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:Re.yAttr={buffer:Te.y.buffer,offset:Te.y.offset*4||0,stride:(Te.y.stride||1)*4,count:Te.y.count},Re.count=Math.max(Re.xAttr.count,Re.yAttr.count),Te;Te=a(Te,"float64");var it=Re.count=Math.floor(Te.length/2),Je=Re.bounds=it?f(Te,2):null;if(!Se.range&&!Re.range&&(delete Re.range,Se.range=Je),!Se.marker&&!Re.marker&&(delete Re.marker,Se.marker=null),Ie&&(Ie===!0||it>Ie)?Re.tree=l(Te,{bounds:Je}):Ie&&Ie.length&&(Re.tree=Ie),Re.tree){var Qe={primitive:"points",usage:"static",data:Re.tree,type:"uint32"};Re.elements?Re.elements(Qe):Re.elements=k.elements(Qe)}var ct=x.float32(Te);Me({data:ct,usage:"dynamic"});var ht=x.fract32(Te,ct);return Ve({data:ht,usage:"dynamic"}),et({data:new Uint8Array(it),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,Re,Se){var Ie=Re.activation;if(Ie.forEach(function(ht){return ht&&ht.destroy&&ht.destroy()}),Ie.length=0,!Te||typeof Te[0]=="number"){var Me=o.addMarker(Te);Ie[Me]=!0}else{for(var Ve=[],et=0,it=Math.min(Te.length,Re.count);et<it;et++){var Je=o.addMarker(Te[et]);Ve[Je]||(Ve[Je]=new Uint8Array(Re.count)),Ve[Je][et]=1}for(var Qe=0;Qe<Ve.length;Qe++)if(Ve[Qe]){var ct={data:Ve[Qe],type:"uint8",usage:"static"};Ie[Qe]?Ie[Qe](ct):Ie[Qe]=k.buffer(ct),Ie[Qe].data=Ve[Qe]}}return Te},range:function(Te,Re,Se){var Ie=Re.bounds;if(Ie)return Te||(Te=Ie),Re.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],Re.translate=[-Te[0],-Te[1]],Re.scaleFract=x.fract(Re.scale),Re.translateFract=x.fract(Re.translate),Te},viewport:function(Te){var Re=w(Te||[N.drawingBufferWidth,N.drawingBufferHeight]);return Re}}]),re){var le=J,$=le.count,K=le.size,ie=le.borderSize,Y=le.sizeBuffer,Q=new Uint8Array($*2);if(K.length||ie.length)for(var oe=0;oe<$;oe++)Q[oe*2]=Math.round((K[oe]==null?K:K[oe])*255/O),Q[oe*2+1]=Math.round((ie[oe]==null?ie:ie[oe])*255/O);Y({data:Q,usage:"dynamic"})}if(ne){var X=J,j=X.count,se=X.color,te=X.borderColor,fe=X.colorBuffer,ge;if(o.tooManyColors){if(se.length||te.length){ge=new Uint8Array(j*8);for(var be=0;be<j;be++){var xe=se[be];ge[be*8]=z[xe*4],ge[be*8+1]=z[xe*4+1],ge[be*8+2]=z[xe*4+2],ge[be*8+3]=z[xe*4+3];var _e=te[be];ge[be*8+4]=z[_e*4],ge[be*8+5]=z[_e*4+1],ge[be*8+6]=z[_e*4+2],ge[be*8+7]=z[_e*4+3]}}}else if(se.length||te.length){ge=new Uint8Array(j*4+2);for(var De=0;De<j;De++)se[De]!=null&&(ge[De*4]=se[De]%F,ge[De*4+1]=Math.floor(se[De]/F)),te[De]!=null&&(ge[De*4+2]=te[De]%F,ge[De*4+3]=Math.floor(te[De]/F))}fe({data:ge||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},y.prototype.addMarker=function(o){var E=this.markerTextures,b=this.regl,I=this.markerCache,D=o==null?0:I.indexOf(o);if(D>=0)return D;var N;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)N=o;else{N=new Uint8Array(o.length);for(var k=0,O=o.length;k<O;k++)N[k]=o[k]*255}var F=Math.floor(Math.sqrt(N.length));return D=E.length,I.push(o),E.push(b.texture({channels:1,data:N,radius:F,mag:"linear",min:"linear"})),D},y.prototype.updateColor=function(o){var E=this.paletteIds,b=this.palette,I=this.maxColors;Array.isArray(o)||(o=[o]);var D=[];if(typeof o[0]=="number"){var N=[];if(Array.isArray(o))for(var k=0;k<o.length;k+=4)N.push(o.slice(k,k+4));else for(var O=0;O<o.length;O+=4)N.push(o.subarray(O,O+4));o=N}for(var F=0;F<o.length;F++){var z=o[F];z=n(z,"uint8");var B=u(z,!1);if(E[B]==null){var W=b.length;E[B]=Math.floor(W/4),b[W]=z[0],b[W+1]=z[1],b[W+2]=z[2],b[W+3]=z[3]}D[F]=E[B]}return!this.tooManyColors&&b.length>I*4&&(this.tooManyColors=!0),this.updatePalette(b),D.length===1?D[0]:D},y.prototype.updatePalette=function(o){if(!this.tooManyColors){var E=this.maxColors,b=this.paletteTexture,I=Math.ceil(o.length*.25/E);if(I>1){o=o.slice();for(var D=o.length*.25%E;D<I*E;D++)o.push(0,0,0,0)}b.height<I&&b.resize(E,I),b.subimage({width:Math.min(o.length*.25,E),height:I,data:o},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(o){o.sizeBuffer.destroy(),o.positionBuffer.destroy(),o.positionFractBuffer.destroy(),o.colorBuffer.destroy(),o.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),o.selectionBuffer.destroy(),o.elements&&o.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(o){return o&&o.destroy&&o.destroy()}),this};var M=e(50896),A=function(E,b){var I=new C(E,b),D=I.render.bind(I);return M(D,{render:D,update:I.update.bind(I),draw:I.draw.bind(I),destroy:I.destroy.bind(I),regl:I.regl,gl:I.gl,canvas:I.gl.canvas,groups:I.groups,markers:I.markerCache,palette:I.palette}),D};G.exports=A},55795:function(G,H,e){var m=e(38540),P=e(55616),s=e(76752),L=e(3951),S=e(67752),v=e(51160),p=e(47520);G.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=m(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],g=arguments.length;g--;)l[g]=arguments[g];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,L(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var g=0;g<u.length;g++)this.updateItem(g,u[g]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,c=0;c<this.traces.length;c++){for(var a=this.traces[c],d=this.traces[c].passes,x=0;x<d.length;x++)h.push(this.passes[d[x]]);a.passOffset=T,T+=a.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,u){var l=this,g=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var h=P(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[f]||(this.traces[f]={id:f,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(p(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var c=0;c<T.columns;c++)T.bounds[c]=s(h.data[c],1)}var a;h.range&&(T.range=h.range,a=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(n),d=!0):T.padding=n(h.padding));var x=T.columns,w=T.count,C=T.viewport.width,y=T.viewport.height,M=T.viewport.x,A=T.viewport.y,o=C/x,E=y/x;T.passes=[];for(var b=0;b<x;b++)for(var I=0;I<x;I++)if(!(!T.diagonal&&I===b)&&!(!T.upper&&b>I)&&!(!T.lower&&b<I)){var D=t(T.id,b,I),N=this.passes[D]||(this.passes[D]={});if(h.data&&(h.transpose?N.positions={x:{buffer:T.buffer,offset:I,count:w,stride:x},y:{buffer:T.buffer,offset:b,count:w,stride:x}}:N.positions={x:{buffer:T.buffer,offset:I*w,count:w},y:{buffer:T.buffer,offset:b*w,count:w}},N.bounds=i(T.bounds,b,I)),h.domain||h.viewport||h.data){var k=d?i(T.padding,b,I):T.padding;if(T.domain){var O=i(T.domain,b,I),F=O[0],z=O[1],B=O[2],W=O[3];N.viewport=[M+F*C+k[0],A+z*y+k[1],M+B*C-k[2],A+W*y-k[3]]}else N.viewport=[M+I*o+o*k[0],A+b*E+E*k[1],M+(I+1)*o-o*k[2],A+(b+1)*E-E*k[3]]}h.color&&(N.color=T.color),h.size&&(N.size=T.size),h.marker&&(N.marker=T.marker),h.borderSize&&(N.borderSize=T.borderSize),h.borderColor&&(N.borderColor=T.borderColor),h.opacity&&(N.opacity=T.opacity),h.range&&(N.range=a?i(T.range,b,I):T.range||N.bounds),T.passes.push(D)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var g=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var T=this.traces[u[h]],c=T.passes,a=T.passOffset;g.push.apply(g,S(a,a+c.length))}else if(u[h].length){var d=u[h],x=this.traces[h],w=x.passes,C=x.passOffset;w=w.map(function(y,M){g[C+M]=d})}(f=this.scatter).draw.apply(f,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var g=f.id!=null?f.id:f,h=u,T=l,c=g<<16|(h&255)<<8|T&255;return c}function i(f,u,l){var g,h,T,c,a=f[u],d=f[l];return a.length>2?(a[0],a[2],g=a[1],h=a[3]):a.length?(g=a[0],h=a[1]):(a.x,g=a.y,a.x+a.width,h=a.y+a.height),d.length>2?(T=d[0],c=d[2],d[1],d[3]):d.length?(T=d[0],c=d[1]):(T=d.x,d.y,c=d.x+d.width,d.y+d.height),[T,g,c,h]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(G){(function(H,e){G.exports=e()})(this,function(){function H(vt,Zt){this.id=fe++,this.type=vt,this.data=Zt}function e(vt){if(vt.length===0)return[];var Zt=vt.charAt(0),Kt=vt.charAt(vt.length-1);if(1<vt.length&&Zt===Kt&&(Zt==='"'||Zt==="'"))return['"'+vt.substr(1,vt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(vt))return e(vt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(vt.substr(Zt.index+Zt[0].length)));if(Zt=vt.split("."),Zt.length===1)return['"'+vt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(vt=[],Kt=0;Kt<Zt.length;++Kt)vt=vt.concat(e(Zt[Kt]));return vt}function m(vt){return"["+e(vt).join("][")+"]"}function P(vt,Zt){if(typeof vt=="function")return new H(0,vt);if(typeof vt=="number"||typeof vt=="boolean")return new H(5,vt);if(Array.isArray(vt))return new H(6,vt.map(function(Kt,yr){return P(Kt)}));if(vt instanceof H)return vt}function s(){var vt={"":0},Zt=[""];return{id:function(Kt){var yr=vt[Kt];return yr||(yr=vt[Kt]=Zt.length,Zt.push(Kt),yr)},str:function(Kt){return Zt[Kt]}}}function L(vt,Zt,Kt){function yr(){var lt=window.innerWidth,bt=window.innerHeight;vt!==document.body&&(bt=or.getBoundingClientRect(),lt=bt.right-bt.left,bt=bt.bottom-bt.top),or.width=Kt*lt,or.height=Kt*bt}var or=document.createElement("canvas");te(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),vt.appendChild(or),vt===document.body&&(or.style.position="absolute",te(vt.style,{margin:0,padding:0}));var mt;return vt!==document.body&&typeof ResizeObserver=="function"?(mt=new ResizeObserver(function(){setTimeout(yr)}),mt.observe(vt)):window.addEventListener("resize",yr,!1),yr(),{canvas:or,onDestroy:function(){mt?mt.disconnect():window.removeEventListener("resize",yr),vt.removeChild(or)}}}function S(vt,Zt){function Kt(yr){try{return vt.getContext(yr,Zt)}catch{return null}}return Kt("webgl")||Kt("experimental-webgl")||Kt("webgl-experimental")}function v(vt){return typeof vt=="string"?vt.split():vt}function p(vt){return typeof vt=="string"?document.querySelector(vt):vt}function r(vt){var Zt=vt||{},Kt,yr,or,mt;vt={};var lt=[],bt=[],Ct=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Ht={},Bt=function(Jt){},Ut=function(){};if(typeof Zt=="string"?Kt=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?Kt=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(mt=Zt,or=mt.canvas):("gl"in Zt?mt=Zt.gl:"canvas"in Zt?or=p(Zt.canvas):"container"in Zt&&(yr=p(Zt.container)),"attributes"in Zt&&(vt=Zt.attributes),"extensions"in Zt&&(lt=v(Zt.extensions)),"optionalExtensions"in Zt&&(bt=v(Zt.optionalExtensions)),"onDone"in Zt&&(Bt=Zt.onDone),"profile"in Zt&&(Dt=!!Zt.profile),"pixelRatio"in Zt&&(Ct=+Zt.pixelRatio),"cachedCode"in Zt&&(Ht=Zt.cachedCode))),Kt&&(Kt.nodeName.toLowerCase()==="canvas"?or=Kt:yr=Kt),!mt){if(!or){if(Kt=L(yr||document.body,Bt,Ct),!Kt)return null;or=Kt.canvas,Ut=Kt.onDestroy}vt.premultipliedAlpha===void 0&&(vt.premultipliedAlpha=!0),mt=S(or,vt)}return mt?{gl:mt,canvas:or,container:yr,extensions:lt,optionalExtensions:bt,pixelRatio:Ct,profile:Dt,cachedCode:Ht,onDone:Bt,onDestroy:Ut}:(Ut(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(vt,Zt){function Kt(lt){lt=lt.toLowerCase();var bt;try{bt=yr[lt]=vt.getExtension(lt)}catch{}return!!bt}for(var yr={},or=0;or<Zt.extensions.length;++or){var mt=Zt.extensions[or];if(!Kt(mt))return Zt.onDestroy(),Zt.onDone('"'+mt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach(Kt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(lt){if(yr[lt]&&!Kt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function i(vt,Zt){for(var Kt=Array(vt),yr=0;yr<vt;++yr)Kt[yr]=Zt(yr);return Kt}function n(vt){var Zt,Kt;return Zt=(65535<vt)<<4,vt>>>=Zt,Kt=(255<vt)<<3,vt>>>=Kt,Zt|=Kt,Kt=(15<vt)<<2,vt>>>=Kt,Zt|=Kt,Kt=(3<vt)<<1,Zt|Kt|vt>>>Kt>>1}function f(){function vt(yr){e:{for(var or=16;268435456>=or;or*=16)if(yr<=or){yr=or;break e}yr=0}return or=Kt[n(yr)>>2],0<or.length?or.pop():new ArrayBuffer(yr)}function Zt(yr){Kt[n(yr.byteLength)>>2].push(yr)}var Kt=i(8,function(){return[]});return{alloc:vt,free:Zt,allocType:function(yr,or){var mt=null;switch(yr){case 5120:mt=new Int8Array(vt(or),0,or);break;case 5121:mt=new Uint8Array(vt(or),0,or);break;case 5122:mt=new Int16Array(vt(2*or),0,or);break;case 5123:mt=new Uint16Array(vt(2*or),0,or);break;case 5124:mt=new Int32Array(vt(4*or),0,or);break;case 5125:mt=new Uint32Array(vt(4*or),0,or);break;case 5126:mt=new Float32Array(vt(4*or),0,or);break;default:return null}return mt.length!==or?mt.subarray(0,or):mt},freeType:function(yr){Zt(yr.buffer)}}}function u(vt){return!!vt&&typeof vt=="object"&&Array.isArray(vt.shape)&&Array.isArray(vt.stride)&&typeof vt.offset=="number"&&vt.shape.length===vt.stride.length&&(Array.isArray(vt.data)||Fe(vt.data))}function l(vt,Zt,Kt,yr,or,mt){for(var lt=0;lt<Zt;++lt)for(var bt=vt[lt],Ct=0;Ct<Kt;++Ct)for(var Dt=bt[Ct],Ht=0;Ht<yr;++Ht)or[mt++]=Dt[Ht]}function g(vt,Zt,Kt,yr,or){for(var mt=1,lt=Kt+1;lt<Zt.length;++lt)mt*=Zt[lt];var bt=Zt[Kt];if(Zt.length-Kt===4){var Ct=Zt[Kt+1],Dt=Zt[Kt+2];for(Zt=Zt[Kt+3],lt=0;lt<bt;++lt)l(vt[lt],Ct,Dt,Zt,yr,or),or+=mt}else for(lt=0;lt<bt;++lt)g(vt[lt],Zt,Kt+1,yr,or),or+=mt}function h(vt){return Se[Object.prototype.toString.call(vt)]|0}function T(vt,Zt){for(var Kt=0;Kt<Zt.length;++Kt)vt[Kt]=Zt[Kt]}function c(vt,Zt,Kt,yr,or,mt,lt){for(var bt=0,Ct=0;Ct<Kt;++Ct)for(var Dt=0;Dt<yr;++Dt)vt[bt++]=Zt[or*Ct+mt*Dt+lt]}function a(vt,Zt,Kt,yr){function or(Bt){this.id=Ct++,this.buffer=vt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Kt.profile&&(this.stats={size:0})}function mt(Bt,Ut,Jt){Bt.byteLength=Ut.byteLength,vt.bufferData(Bt.type,Ut,Jt)}function lt(Bt,Ut,Jt,cr,hr,pr){if(Bt.usage=Jt,Array.isArray(Ut)){if(Bt.dtype=cr||5126,0<Ut.length)if(Array.isArray(Ut[0])){hr=et(Ut);for(var Ye=cr=1;Ye<hr.length;++Ye)cr*=hr[Ye];Bt.dimension=cr,Ut=Ve(Ut,hr,Bt.dtype),mt(Bt,Ut,Jt),pr?Bt.persistentData=Ut:_e.freeType(Ut)}else typeof Ut[0]=="number"?(Bt.dimension=hr,hr=_e.allocType(Bt.dtype,Ut.length),T(hr,Ut),mt(Bt,hr,Jt),pr?Bt.persistentData=hr:_e.freeType(hr)):Fe(Ut[0])&&(Bt.dimension=Ut[0].length,Bt.dtype=cr||h(Ut[0])||5126,Ut=Ve(Ut,[Ut.length,Ut[0].length],Bt.dtype),mt(Bt,Ut,Jt),pr?Bt.persistentData=Ut:_e.freeType(Ut))}else if(Fe(Ut))Bt.dtype=cr||h(Ut),Bt.dimension=hr,mt(Bt,Ut,Jt),pr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Ut.buffer)));else if(u(Ut)){hr=Ut.shape;var Ue=Ut.stride,Ye=Ut.offset,Ot=0,It=0,Qt=0,lr=0;hr.length===1?(Ot=hr[0],It=1,Qt=Ue[0],lr=0):hr.length===2&&(Ot=hr[0],It=hr[1],Qt=Ue[0],lr=Ue[1]),Bt.dtype=cr||h(Ut.data)||5126,Bt.dimension=It,hr=_e.allocType(Bt.dtype,Ot*It),c(hr,Ut.data,Ot,It,Qt,lr,Ye),mt(Bt,hr,Jt),pr?Bt.persistentData=hr:_e.freeType(hr)}else Ut instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=hr,mt(Bt,Ut,Jt),pr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Ut))))}function bt(Bt){Zt.bufferCount--,yr(Bt),vt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var Ct=0,Dt={};or.prototype.bind=function(){vt.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){bt(this)};var Ht=[];return Kt.profile&&(Zt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Ut){Bt+=Dt[Ut].stats.size}),Bt}),{create:function(Bt,Ut,Jt,cr){function hr(Ye){var Ue=35044,Ot=null,It=0,Qt=0,lr=1;return Array.isArray(Ye)||Fe(Ye)||u(Ye)||Ye instanceof ArrayBuffer?Ot=Ye:typeof Ye=="number"?It=Ye|0:Ye&&("data"in Ye&&(Ot=Ye.data),"usage"in Ye&&(Ue=Me[Ye.usage]),"type"in Ye&&(Qt=Ie[Ye.type]),"dimension"in Ye&&(lr=Ye.dimension|0),"length"in Ye&&(It=Ye.length|0)),pr.bind(),Ot?lt(pr,Ot,Ue,Qt,lr,cr):(It&&vt.bufferData(pr.type,It,Ue),pr.dtype=Qt||5121,pr.usage=Ue,pr.dimension=lr,pr.byteLength=It),Kt.profile&&(pr.stats.size=pr.byteLength*it[pr.dtype]),hr}Zt.bufferCount++;var pr=new or(Ut);return Dt[pr.id]=pr,Jt||hr(Bt),hr._reglType="buffer",hr._buffer=pr,hr.subdata=function(Ye,Ue){var Ot=(Ue||0)|0,It;if(pr.bind(),Fe(Ye)||Ye instanceof ArrayBuffer)vt.bufferSubData(pr.type,Ot,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Qt=_e.allocType(pr.dtype,Ye.length);T(Qt,Ye),vt.bufferSubData(pr.type,Ot,Qt),_e.freeType(Qt)}else(Array.isArray(Ye[0])||Fe(Ye[0]))&&(It=et(Ye),Qt=Ve(Ye,It,pr.dtype),vt.bufferSubData(pr.type,Ot,Qt),_e.freeType(Qt))}else if(u(Ye)){It=Ye.shape;var lr=Ye.stride,fr=Qt=0,er=0,Nt=0;It.length===1?(Qt=It[0],fr=1,er=lr[0],Nt=0):It.length===2&&(Qt=It[0],fr=It[1],er=lr[0],Nt=lr[1]),It=Array.isArray(Ye.data)?pr.dtype:h(Ye.data),It=_e.allocType(It,Qt*fr),c(It,Ye.data,Qt,fr,er,Nt,Ye.offset),vt.bufferSubData(pr.type,Ot,It),_e.freeType(It)}return hr},Kt.profile&&(hr.stats=pr.stats),hr.destroy=function(){bt(pr)},hr},createStream:function(Bt,Ut){var Jt=Ht.pop();return Jt||(Jt=new or(Bt)),Jt.bind(),lt(Jt,Ut,35040,0,1,!1),Jt},destroyStream:function(Bt){Ht.push(Bt)},clear:function(){Te(Dt).forEach(bt),Ht.forEach(bt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof or?Bt._buffer:null},restore:function(){Te(Dt).forEach(function(Bt){Bt.buffer=vt.createBuffer(),vt.bindBuffer(Bt.type,Bt.buffer),vt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:lt}}function d(vt,Zt,Kt,yr){function or(Bt){this.id=Ct++,bt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function mt(Bt,Ut,Jt,cr,hr,pr,Ye){Bt.buffer.bind();var Ue;if(Ut?((Ue=Ye)||Fe(Ut)&&(!u(Ut)||Fe(Ut.data))||(Ue=Zt.oes_element_index_uint?5125:5123),Kt._initBuffer(Bt.buffer,Ut,Jt,Ue,3)):(vt.bufferData(34963,pr,Jt),Bt.buffer.dtype=Ue||5121,Bt.buffer.usage=Jt,Bt.buffer.dimension=3,Bt.buffer.byteLength=pr),Ue=Ye,!Ye){switch(Bt.buffer.dtype){case 5121:case 5120:Ue=5121;break;case 5123:case 5122:Ue=5123;break;case 5125:case 5124:Ue=5125}Bt.buffer.dtype=Ue}Bt.type=Ue,Ut=hr,0>Ut&&(Ut=Bt.buffer.byteLength,Ue===5123?Ut>>=1:Ue===5125&&(Ut>>=2)),Bt.vertCount=Ut,Ut=cr,0>cr&&(Ut=4,cr=Bt.buffer.dimension,cr===1&&(Ut=0),cr===2&&(Ut=1),cr===3&&(Ut=4)),Bt.primType=Ut}function lt(Bt){yr.elementsCount--,delete bt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var bt={},Ct=0,Dt={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(Dt.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Ht=[];return{create:function(Bt,Ut){function Jt(pr){if(pr)if(typeof pr=="number")cr(pr),hr.primType=4,hr.vertCount=pr|0,hr.type=5121;else{var Ye=null,Ue=35044,Ot=-1,It=-1,Qt=0,lr=0;Array.isArray(pr)||Fe(pr)||u(pr)?Ye=pr:("data"in pr&&(Ye=pr.data),"usage"in pr&&(Ue=Me[pr.usage]),"primitive"in pr&&(Ot=Je[pr.primitive]),"count"in pr&&(It=pr.count|0),"type"in pr&&(lr=Dt[pr.type]),"length"in pr?Qt=pr.length|0:(Qt=It,lr===5123||lr===5122?Qt*=2:(lr===5125||lr===5124)&&(Qt*=4))),mt(hr,Ye,Ue,Ot,It,Qt,lr)}else cr(),hr.primType=4,hr.vertCount=0,hr.type=5121;return Jt}var cr=Kt.create(null,34963,!0),hr=new or(cr._buffer);return yr.elementsCount++,Jt(Bt),Jt._reglType="elements",Jt._elements=hr,Jt.subdata=function(pr,Ye){return cr.subdata(pr,Ye),Jt},Jt.destroy=function(){lt(hr)},Jt},createStream:function(Bt){var Ut=Ht.pop();return Ut||(Ut=new or(Kt.create(null,34963,!0,!1)._buffer)),mt(Ut,Bt,35040,-1,-1,0,0),Ut},destroyStream:function(Bt){Ht.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof or?Bt._elements:null},clear:function(){Te(bt).forEach(lt)}}}function x(vt){for(var Zt=_e.allocType(5123,vt.length),Kt=0;Kt<vt.length;++Kt)if(isNaN(vt[Kt]))Zt[Kt]=65535;else if(vt[Kt]===1/0)Zt[Kt]=31744;else if(vt[Kt]===-1/0)Zt[Kt]=64512;else{Qe[0]=vt[Kt];var mt=ct[0],yr=mt>>>31<<15,or=(mt<<1>>>24)-127,mt=mt>>13&1023;Zt[Kt]=-24>or?yr:-14>or?yr+(mt+1024>>-14-or):15<or?yr+31744:yr+(or+15<<10)+mt}return Zt}function w(vt){return Array.isArray(vt)||Fe(vt)}function C(vt){return"[object "+vt+"]"}function y(vt){return Array.isArray(vt)&&(vt.length===0||typeof vt[0]=="number")}function M(vt){return!!(Array.isArray(vt)&&vt.length!==0&&w(vt[0]))}function A(vt){return Object.prototype.toString.call(vt)}function o(vt){if(!vt)return!1;var Zt=A(vt);return 0<=Le.indexOf(Zt)?!0:y(vt)||M(vt)||u(vt)}function E(vt,Zt){vt.type===36193?(vt.data=x(Zt),_e.freeType(Zt)):vt.data=Zt}function b(vt,Zt,Kt,yr,or,mt){if(vt=typeof je[vt]<"u"?je[vt]:Tt[vt]*Pe[Zt],mt&&(vt*=6),or){for(yr=0;1<=Kt;)yr+=vt*Kt*Kt,Kt/=2;return yr}return vt*Kt*yr}function I(vt,Zt,Kt,yr,or,mt,lt){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ct(mr,en){mr.internalformat=en.internalformat,mr.format=en.format,mr.type=en.type,mr.compressed=en.compressed,mr.premultiplyAlpha=en.premultiplyAlpha,mr.flipY=en.flipY,mr.unpackAlignment=en.unpackAlignment,mr.colorSpace=en.colorSpace,mr.width=en.width,mr.height=en.height,mr.channels=en.channels}function Dt(mr,en){if(typeof en=="object"&&en){"premultiplyAlpha"in en&&(mr.premultiplyAlpha=en.premultiplyAlpha),"flipY"in en&&(mr.flipY=en.flipY),"alignment"in en&&(mr.unpackAlignment=en.alignment),"colorSpace"in en&&(mr.colorSpace=an[en.colorSpace]),"type"in en&&(mr.type=tn[en.type]);var Jr=mr.width,vn=mr.height,On=mr.channels,bn=!1;"shape"in en?(Jr=en.shape[0],vn=en.shape[1],en.shape.length===3&&(On=en.shape[2],bn=!0)):("radius"in en&&(Jr=vn=en.radius),"width"in en&&(Jr=en.width),"height"in en&&(vn=en.height),"channels"in en&&(On=en.channels,bn=!0)),mr.width=Jr|0,mr.height=vn|0,mr.channels=On|0,Jr=!1,"format"in en&&(Jr=en.format,vn=mr.internalformat=Sn[Jr],mr.format=Pn[vn],Jr in tn&&!("type"in en)&&(mr.type=tn[Jr]),Jr in Tn&&(mr.compressed=!0),Jr=!0),!bn&&Jr?mr.channels=Tt[mr.format]:bn&&!Jr&&mr.channels!==gt[mr.format]&&(mr.format=mr.internalformat=gt[mr.channels])}}function Ht(mr){vt.pixelStorei(37440,mr.flipY),vt.pixelStorei(37441,mr.premultiplyAlpha),vt.pixelStorei(37443,mr.colorSpace),vt.pixelStorei(3317,mr.unpackAlignment)}function Bt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ut(mr,en){var Jr=null;if(o(en)?Jr=en:en&&(Dt(mr,en),"x"in en&&(mr.xOffset=en.x|0),"y"in en&&(mr.yOffset=en.y|0),o(en.data)&&(Jr=en.data)),en.copy){var vn=or.viewportWidth,On=or.viewportHeight;mr.width=mr.width||vn-mr.xOffset,mr.height=mr.height||On-mr.yOffset,mr.needsCopy=!0}else if(!Jr)mr.width=mr.width||1,mr.height=mr.height||1,mr.channels=mr.channels||4;else if(Fe(Jr))mr.channels=mr.channels||4,mr.data=Jr,"type"in en||mr.type!==5121||(mr.type=Se[Object.prototype.toString.call(Jr)]|0);else if(y(Jr)){switch(mr.channels=mr.channels||4,vn=Jr,On=vn.length,mr.type){case 5121:case 5123:case 5125:case 5126:On=_e.allocType(mr.type,On),On.set(vn),mr.data=On;break;case 36193:mr.data=x(vn)}mr.alignment=1,mr.needsFree=!0}else if(u(Jr)){vn=Jr.data,Array.isArray(vn)||mr.type!==5121||(mr.type=Se[Object.prototype.toString.call(vn)]|0);var On=Jr.shape,bn=Jr.stride,An,Fn,$n,ha;On.length===3?($n=On[2],ha=bn[2]):ha=$n=1,An=On[0],Fn=On[1],On=bn[0],bn=bn[1],mr.alignment=1,mr.width=An,mr.height=Fn,mr.channels=$n,mr.format=mr.internalformat=gt[$n],mr.needsFree=!0,An=ha,Jr=Jr.offset,$n=mr.width,ha=mr.height,Fn=mr.channels;for(var Ia=_e.allocType(mr.type===36193?5126:mr.type,$n*ha*Fn),Mr=0,Fr=0;Fr<ha;++Fr)for(var Ar=0;Ar<$n;++Ar)for(var Nr=0;Nr<Fn;++Nr)Ia[Mr++]=vn[On*Ar+bn*Fr+An*Nr+Jr];E(mr,Ia)}else if(A(Jr)===Et||A(Jr)===rt||A(Jr)===ze)A(Jr)===Et||A(Jr)===rt?mr.element=Jr:mr.element=Jr.canvas,mr.width=mr.element.width,mr.height=mr.element.height,mr.channels=4;else if(A(Jr)===He)mr.element=Jr,mr.width=Jr.width,mr.height=Jr.height,mr.channels=4;else if(A(Jr)===Ge)mr.element=Jr,mr.width=Jr.naturalWidth,mr.height=Jr.naturalHeight,mr.channels=4;else if(A(Jr)===We)mr.element=Jr,mr.width=Jr.videoWidth,mr.height=Jr.videoHeight,mr.channels=4;else if(M(Jr)){for(vn=mr.width||Jr[0].length,On=mr.height||Jr.length,bn=mr.channels,bn=w(Jr[0][0])?bn||Jr[0][0].length:bn||1,An=Re.shape(Jr),$n=1,ha=0;ha<An.length;++ha)$n*=An[ha];$n=_e.allocType(mr.type===36193?5126:mr.type,$n),Re.flatten(Jr,An,"",$n),E(mr,$n),mr.alignment=1,mr.width=vn,mr.height=On,mr.channels=bn,mr.format=mr.internalformat=gt[bn],mr.needsFree=!0}}function Jt(mr,en,Jr,vn,On){var bn=mr.element,An=mr.data,Fn=mr.internalformat,$n=mr.format,ha=mr.type,Ia=mr.width,Mr=mr.height;Ht(mr),bn?vt.texSubImage2D(en,On,Jr,vn,$n,ha,bn):mr.compressed?vt.compressedTexSubImage2D(en,On,Jr,vn,Fn,Ia,Mr,An):mr.needsCopy?(yr(),vt.copyTexSubImage2D(en,On,Jr,vn,mr.xOffset,mr.yOffset,Ia,Mr)):vt.texSubImage2D(en,On,Jr,vn,Ia,Mr,$n,ha,An)}function cr(){return Vn.pop()||new Bt}function hr(mr){mr.needsFree&&_e.freeType(mr.data),Bt.call(mr),Vn.push(mr)}function pr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(mr,en,Jr){var vn=mr.images[0]=cr();mr.mipmask=1,vn.width=mr.width=en,vn.height=mr.height=Jr,vn.channels=mr.channels=4}function Ue(mr,en){var Jr=null;if(o(en))Jr=mr.images[0]=cr(),Ct(Jr,mr),Ut(Jr,en),mr.mipmask=1;else if(Dt(mr,en),Array.isArray(en.mipmap))for(var vn=en.mipmap,On=0;On<vn.length;++On)Jr=mr.images[On]=cr(),Ct(Jr,mr),Jr.width>>=On,Jr.height>>=On,Ut(Jr,vn[On]),mr.mipmask|=1<<On;else Jr=mr.images[0]=cr(),Ct(Jr,mr),Ut(Jr,en),mr.mipmask=1;Ct(mr,mr.images[0])}function Ot(mr,en){for(var Jr=mr.images,vn=0;vn<Jr.length&&Jr[vn];++vn){var On=Jr[vn],bn=en,An=vn,Fn=On.element,$n=On.data,ha=On.internalformat,Ia=On.format,Mr=On.type,Fr=On.width,Ar=On.height;Ht(On),Fn?vt.texImage2D(bn,An,Ia,Ia,Mr,Fn):On.compressed?vt.compressedTexImage2D(bn,An,ha,Fr,Ar,0,$n):On.needsCopy?(yr(),vt.copyTexImage2D(bn,An,Ia,On.xOffset,On.yOffset,Fr,Ar,0)):vt.texImage2D(bn,An,Ia,Fr,Ar,0,Ia,Mr,$n||null)}}function It(){var mr=ia.pop()||new pr;bt.call(mr);for(var en=mr.mipmask=0;16>en;++en)mr.images[en]=null;return mr}function Qt(mr){for(var en=mr.images,Jr=0;Jr<en.length;++Jr)en[Jr]&&hr(en[Jr]),en[Jr]=null;ia.push(mr)}function lr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function fr(mr,en){"min"in en&&(mr.minFilter=Rr[en.min],0<=ht.indexOf(mr.minFilter)&&!("faces"in en)&&(mr.genMipmaps=!0)),"mag"in en&&(mr.magFilter=Pr[en.mag]);var Jr=mr.wrapS,vn=mr.wrapT;if("wrap"in en){var On=en.wrap;typeof On=="string"?Jr=vn=Hr[On]:Array.isArray(On)&&(Jr=Hr[On[0]],vn=Hr[On[1]])}else"wrapS"in en&&(Jr=Hr[en.wrapS]),"wrapT"in en&&(vn=Hr[en.wrapT]);if(mr.wrapS=Jr,mr.wrapT=vn,"anisotropic"in en&&(mr.anisotropic=en.anisotropic),"mipmap"in en){switch(Jr=!1,typeof en.mipmap){case"string":mr.mipmapHint=dr[en.mipmap],Jr=mr.genMipmaps=!0;break;case"boolean":Jr=mr.genMipmaps=en.mipmap;break;case"object":mr.genMipmaps=!1,Jr=!0}!Jr||"min"in en||(mr.minFilter=9984)}}function er(mr,en){vt.texParameteri(en,10241,mr.minFilter),vt.texParameteri(en,10240,mr.magFilter),vt.texParameteri(en,10242,mr.wrapS),vt.texParameteri(en,10243,mr.wrapT),Zt.ext_texture_filter_anisotropic&&vt.texParameteri(en,34046,mr.anisotropic),mr.genMipmaps&&(vt.hint(33170,mr.mipmapHint),vt.generateMipmap(en))}function Nt(mr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ya++,this.refCount=1,this.target=mr,this.texture=vt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new lr,lt.profile&&(this.stats={size:0})}function ir(mr){vt.activeTexture(33984),vt.bindTexture(mr.target,mr.texture)}function vr(){var mr=Qn[0];mr?vt.bindTexture(mr.target,mr.texture):vt.bindTexture(3553,null)}function xr(mr){var en=mr.texture,Jr=mr.unit,vn=mr.target;0<=Jr&&(vt.activeTexture(33984+Jr),vt.bindTexture(vn,null),Qn[Jr]=null),vt.deleteTexture(en),mr.texture=null,mr.params=null,mr.pixels=null,mr.refCount=0,delete wa[mr.id],mt.textureCount--}var dr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Hr={repeat:10497,clamp:33071,mirror:33648},Pr={nearest:9728,linear:9729},Rr=te({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Pr),an={none:0,browser:37444},tn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Sn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Tn={};Zt.ext_srgb&&(Sn.srgb=35904,Sn.srgba=35906),Zt.oes_texture_float&&(tn.float32=tn.float=5126),Zt.oes_texture_half_float&&(tn.float16=tn["half float"]=36193),Zt.webgl_depth_texture&&(te(Sn,{depth:6402,"depth stencil":34041}),te(tn,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&te(Tn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&te(Tn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&te(Tn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(Tn["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(vt.getParameter(34467));Object.keys(Tn).forEach(function(mr){var en=Tn[mr];0<=Tr.indexOf(en)&&(Sn[mr]=en)});var zr=Object.keys(Sn);Kt.textureFormats=zr;var Yr=[];Object.keys(Sn).forEach(function(mr){Yr[Sn[mr]]=mr});var Or=[];Object.keys(tn).forEach(function(mr){Or[tn[mr]]=mr});var ln=[];Object.keys(Pr).forEach(function(mr){ln[Pr[mr]]=mr});var fn=[];Object.keys(Rr).forEach(function(mr){fn[Rr[mr]]=mr});var Mn=[];Object.keys(Hr).forEach(function(mr){Mn[Hr[mr]]=mr});var Pn=zr.reduce(function(mr,en){var Jr=Sn[en];return Jr===6409||Jr===6406||Jr===6409||Jr===6410||Jr===6402||Jr===34041||Zt.ext_srgb&&(Jr===35904||Jr===35906)?mr[Jr]=Jr:Jr===32855||0<=en.indexOf("rgba")?mr[Jr]=6408:mr[Jr]=6407,mr},{}),Vn=[],ia=[],ya=0,wa={},Gn=Kt.maxTextureUnits,Qn=Array(Gn).map(function(){return null});return te(Nt.prototype,{bind:function(){this.bindCount+=1;var mr=this.unit;if(0>mr){for(var en=0;en<Gn;++en){var Jr=Qn[en];if(Jr){if(0<Jr.bindCount)continue;Jr.unit=-1}Qn[en]=this,mr=en;break}lt.profile&&mt.maxTextureUnits<mr+1&&(mt.maxTextureUnits=mr+1),this.unit=mr,vt.activeTexture(33984+mr),vt.bindTexture(this.target,this.texture)}return mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&xr(this)}}),lt.profile&&(mt.getTotalTextureSize=function(){var mr=0;return Object.keys(wa).forEach(function(en){mr+=wa[en].stats.size}),mr}),{create2D:function(mr,en){function Jr(On,bn){var An=vn.texInfo;lr.call(An);var Fn=It();return typeof On=="number"?typeof bn=="number"?Ye(Fn,On|0,bn|0):Ye(Fn,On|0,On|0):On?(fr(An,On),Ue(Fn,On)):Ye(Fn,1,1),An.genMipmaps&&(Fn.mipmask=(Fn.width<<1)-1),vn.mipmask=Fn.mipmask,Ct(vn,Fn),vn.internalformat=Fn.internalformat,Jr.width=Fn.width,Jr.height=Fn.height,ir(vn),Ot(Fn,3553),er(An,3553),vr(),Qt(Fn),lt.profile&&(vn.stats.size=b(vn.internalformat,vn.type,Fn.width,Fn.height,An.genMipmaps,!1)),Jr.format=Yr[vn.internalformat],Jr.type=Or[vn.type],Jr.mag=ln[An.magFilter],Jr.min=fn[An.minFilter],Jr.wrapS=Mn[An.wrapS],Jr.wrapT=Mn[An.wrapT],Jr}var vn=new Nt(3553);return wa[vn.id]=vn,mt.textureCount++,Jr(mr,en),Jr.subimage=function(On,bn,An,Fn){bn|=0,An|=0,Fn|=0;var $n=cr();return Ct($n,vn),$n.width=0,$n.height=0,Ut($n,On),$n.width=$n.width||(vn.width>>Fn)-bn,$n.height=$n.height||(vn.height>>Fn)-An,ir(vn),Jt($n,3553,bn,An,Fn),vr(),hr($n),Jr},Jr.resize=function(On,bn){var An=On|0,Fn=bn|0||An;if(An===vn.width&&Fn===vn.height)return Jr;Jr.width=vn.width=An,Jr.height=vn.height=Fn,ir(vn);for(var $n=0;vn.mipmask>>$n;++$n){var ha=An>>$n,Ia=Fn>>$n;if(!ha||!Ia)break;vt.texImage2D(3553,$n,vn.format,ha,Ia,0,vn.format,vn.type,null)}return vr(),lt.profile&&(vn.stats.size=b(vn.internalformat,vn.type,An,Fn,!1,!1)),Jr},Jr._reglType="texture2d",Jr._texture=vn,lt.profile&&(Jr.stats=vn.stats),Jr.destroy=function(){vn.decRef()},Jr},createCube:function(mr,en,Jr,vn,On,bn){function An(ha,Ia,Mr,Fr,Ar,Nr){var mn,Rn=Fn.texInfo;for(lr.call(Rn),mn=0;6>mn;++mn)$n[mn]=It();if(typeof ha=="number"||!ha)for(ha=ha|0||1,mn=0;6>mn;++mn)Ye($n[mn],ha,ha);else if(typeof ha=="object")if(Ia)Ue($n[0],ha),Ue($n[1],Ia),Ue($n[2],Mr),Ue($n[3],Fr),Ue($n[4],Ar),Ue($n[5],Nr);else if(fr(Rn,ha),Dt(Fn,ha),"faces"in ha)for(ha=ha.faces,mn=0;6>mn;++mn)Ct($n[mn],Fn),Ue($n[mn],ha[mn]);else for(mn=0;6>mn;++mn)Ue($n[mn],ha);for(Ct(Fn,$n[0]),Fn.mipmask=Rn.genMipmaps?($n[0].width<<1)-1:$n[0].mipmask,Fn.internalformat=$n[0].internalformat,An.width=$n[0].width,An.height=$n[0].height,ir(Fn),mn=0;6>mn;++mn)Ot($n[mn],34069+mn);for(er(Rn,34067),vr(),lt.profile&&(Fn.stats.size=b(Fn.internalformat,Fn.type,An.width,An.height,Rn.genMipmaps,!0)),An.format=Yr[Fn.internalformat],An.type=Or[Fn.type],An.mag=ln[Rn.magFilter],An.min=fn[Rn.minFilter],An.wrapS=Mn[Rn.wrapS],An.wrapT=Mn[Rn.wrapT],mn=0;6>mn;++mn)Qt($n[mn]);return An}var Fn=new Nt(34067);wa[Fn.id]=Fn,mt.cubeCount++;var $n=Array(6);return An(mr,en,Jr,vn,On,bn),An.subimage=function(ha,Ia,Mr,Fr,Ar){Mr|=0,Fr|=0,Ar|=0;var Nr=cr();return Ct(Nr,Fn),Nr.width=0,Nr.height=0,Ut(Nr,Ia),Nr.width=Nr.width||(Fn.width>>Ar)-Mr,Nr.height=Nr.height||(Fn.height>>Ar)-Fr,ir(Fn),Jt(Nr,34069+ha,Mr,Fr,Ar),vr(),hr(Nr),An},An.resize=function(ha){if(ha|=0,ha!==Fn.width){An.width=Fn.width=ha,An.height=Fn.height=ha,ir(Fn);for(var Ia=0;6>Ia;++Ia)for(var Mr=0;Fn.mipmask>>Mr;++Mr)vt.texImage2D(34069+Ia,Mr,Fn.format,ha>>Mr,ha>>Mr,0,Fn.format,Fn.type,null);return vr(),lt.profile&&(Fn.stats.size=b(Fn.internalformat,Fn.type,An.width,An.height,!1,!0)),An}},An._reglType="textureCube",An._texture=Fn,lt.profile&&(An.stats=Fn.stats),An.destroy=function(){Fn.decRef()},An},clear:function(){for(var mr=0;mr<Gn;++mr)vt.activeTexture(33984+mr),vt.bindTexture(3553,null),Qn[mr]=null;Te(wa).forEach(xr),mt.cubeCount=0,mt.textureCount=0},getTexture:function(mr){return null},restore:function(){for(var mr=0;mr<Gn;++mr){var en=Qn[mr];en&&(en.bindCount=0,en.unit=-1,Qn[mr]=null)}Te(wa).forEach(function(Jr){Jr.texture=vt.createTexture(),vt.bindTexture(Jr.target,Jr.texture);for(var vn=0;32>vn;++vn)if(Jr.mipmask&1<<vn)if(Jr.target===3553)vt.texImage2D(3553,vn,Jr.internalformat,Jr.width>>vn,Jr.height>>vn,0,Jr.internalformat,Jr.type,null);else for(var On=0;6>On;++On)vt.texImage2D(34069+On,vn,Jr.internalformat,Jr.width>>vn,Jr.height>>vn,0,Jr.internalformat,Jr.type,null);er(Jr.texInfo,Jr.target)})},refresh:function(){for(var mr=0;mr<Gn;++mr){var en=Qn[mr];en&&(en.bindCount=0,en.unit=-1,Qn[mr]=null),vt.activeTexture(33984+mr),vt.bindTexture(3553,null),vt.bindTexture(34067,null)}}}}function D(vt,Zt,Kt,yr,or,mt){function lt(Nt,ir,vr){this.target=Nt,this.texture=ir,this.renderbuffer=vr;var xr=Nt=0;ir?(Nt=ir.width,xr=ir.height):vr&&(Nt=vr.width,xr=vr.height),this.width=Nt,this.height=xr}function bt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Ct(Nt,ir,vr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function Dt(Nt,ir){ir&&(ir.texture?vt.framebufferTexture2D(36160,Nt,ir.target,ir.texture._texture.texture,0):vt.framebufferRenderbuffer(36160,Nt,36161,ir.renderbuffer._renderbuffer.renderbuffer))}function Ht(Nt){var ir=3553,vr=null,xr=null,dr=Nt;return typeof Nt=="object"&&(dr=Nt.data,"target"in Nt&&(ir=Nt.target|0)),Nt=dr._reglType,Nt==="texture2d"||Nt==="textureCube"?vr=dr:Nt==="renderbuffer"&&(xr=dr,ir=36161),new lt(ir,vr,xr)}function Bt(Nt,ir,vr,xr,dr){return vr?(Nt=yr.create2D({width:Nt,height:ir,format:xr,type:dr}),Nt._texture.refCount=0,new lt(3553,Nt,null)):(Nt=or.create({width:Nt,height:ir,format:xr}),Nt._renderbuffer.refCount=0,new lt(36161,null,Nt))}function Ut(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function Jt(Nt,ir,vr){Nt&&(Nt.texture?Nt.texture.resize(ir,vr):Nt.renderbuffer&&Nt.renderbuffer.resize(ir,vr),Nt.width=ir,Nt.height=vr)}function cr(){this.id=fr++,er[this.id]=this,this.framebuffer=vt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function hr(Nt){Nt.colorAttachments.forEach(bt),bt(Nt.depthAttachment),bt(Nt.stencilAttachment),bt(Nt.depthStencilAttachment)}function pr(Nt){vt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,mt.framebufferCount--,delete er[Nt.id]}function Ye(Nt){var ir;vt.bindFramebuffer(36160,Nt.framebuffer);var vr=Nt.colorAttachments;for(ir=0;ir<vr.length;++ir)Dt(36064+ir,vr[ir]);for(ir=vr.length;ir<Kt.maxColorAttachments;++ir)vt.framebufferTexture2D(36160,36064+ir,3553,null,0);vt.framebufferTexture2D(36160,33306,3553,null,0),vt.framebufferTexture2D(36160,36096,3553,null,0),vt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,Nt.depthAttachment),Dt(36128,Nt.stencilAttachment),Dt(33306,Nt.depthStencilAttachment),vt.checkFramebufferStatus(36160),vt.isContextLost(),vt.bindFramebuffer(36160,Ot.next?Ot.next.framebuffer:null),Ot.cur=Ot.next,vt.getError()}function Ue(Nt,ir){function vr(dr,Hr){var Pr,Rr=0,an=0,tn=!0,Sn=!0;Pr=null;var Tn=!0,Tr="rgba",zr="uint8",Yr=1,Or=null,ln=null,fn=null,Mn=!1;typeof dr=="number"?(Rr=dr|0,an=Hr|0||Rr):dr?("shape"in dr?(an=dr.shape,Rr=an[0],an=an[1]):("radius"in dr&&(Rr=an=dr.radius),"width"in dr&&(Rr=dr.width),"height"in dr&&(an=dr.height)),("color"in dr||"colors"in dr)&&(Pr=dr.color||dr.colors),Pr||("colorCount"in dr&&(Yr=dr.colorCount|0),"colorTexture"in dr&&(Tn=!!dr.colorTexture,Tr="rgba4"),"colorType"in dr&&(zr=dr.colorType,!Tn)&&(zr==="half float"||zr==="float16"?Tr="rgba16f":(zr==="float"||zr==="float32")&&(Tr="rgba32f")),"colorFormat"in dr&&(Tr=dr.colorFormat,0<=It.indexOf(Tr)?Tn=!0:0<=Qt.indexOf(Tr)&&(Tn=!1))),("depthTexture"in dr||"depthStencilTexture"in dr)&&(Mn=!(!dr.depthTexture&&!dr.depthStencilTexture)),"depth"in dr&&(typeof dr.depth=="boolean"?tn=dr.depth:(Or=dr.depth,Sn=!1)),"stencil"in dr&&(typeof dr.stencil=="boolean"?Sn=dr.stencil:(ln=dr.stencil,tn=!1)),"depthStencil"in dr&&(typeof dr.depthStencil=="boolean"?tn=Sn=dr.depthStencil:(fn=dr.depthStencil,Sn=tn=!1))):Rr=an=1;var Pn=null,Vn=null,ia=null,ya=null;if(Array.isArray(Pr))Pn=Pr.map(Ht);else if(Pr)Pn=[Ht(Pr)];else for(Pn=Array(Yr),Pr=0;Pr<Yr;++Pr)Pn[Pr]=Bt(Rr,an,Tn,Tr,zr);for(Rr=Rr||Pn[0].width,an=an||Pn[0].height,Or?Vn=Ht(Or):tn&&!Sn&&(Vn=Bt(Rr,an,Mn,"depth","uint32")),ln?ia=Ht(ln):Sn&&!tn&&(ia=Bt(Rr,an,!1,"stencil","uint8")),fn?ya=Ht(fn):!Or&&!ln&&Sn&&tn&&(ya=Bt(Rr,an,Mn,"depth stencil","depth stencil")),tn=null,Pr=0;Pr<Pn.length;++Pr)Ct(Pn[Pr]),Pn[Pr]&&Pn[Pr].texture&&(Sn=me[Pn[Pr].texture._texture.format]*Ne[Pn[Pr].texture._texture.type],tn===null&&(tn=Sn));return Ct(Vn),Ct(ia),Ct(ya),hr(xr),xr.width=Rr,xr.height=an,xr.colorAttachments=Pn,xr.depthAttachment=Vn,xr.stencilAttachment=ia,xr.depthStencilAttachment=ya,vr.color=Pn.map(Ut),vr.depth=Ut(Vn),vr.stencil=Ut(ia),vr.depthStencil=Ut(ya),vr.width=xr.width,vr.height=xr.height,Ye(xr),vr}var xr=new cr;return mt.framebufferCount++,vr(Nt,ir),te(vr,{resize:function(dr,Hr){var Pr=Math.max(dr|0,1),Rr=Math.max(Hr|0||Pr,1);if(Pr===xr.width&&Rr===xr.height)return vr;for(var an=xr.colorAttachments,tn=0;tn<an.length;++tn)Jt(an[tn],Pr,Rr);return Jt(xr.depthAttachment,Pr,Rr),Jt(xr.stencilAttachment,Pr,Rr),Jt(xr.depthStencilAttachment,Pr,Rr),xr.width=vr.width=Pr,xr.height=vr.height=Rr,Ye(xr),vr},_reglType:"framebuffer",_framebuffer:xr,destroy:function(){pr(xr),hr(xr)},use:function(dr){Ot.setFBO({framebuffer:vr},dr)}})}var Ot={cur:null,next:null,dirty:!1,setFBO:null},It=["rgba"],Qt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&Qt.push("srgba"),Zt.ext_color_buffer_half_float&&Qt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&Qt.push("rgba32f");var lr=["uint8"];Zt.oes_texture_half_float&&lr.push("half float","float16"),Zt.oes_texture_float&&lr.push("float","float32");var fr=0,er={};return te(Ot,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof cr)?Nt:null},create:Ue,createCube:function(Nt){function ir(xr){var dr,Hr={color:null},Pr=0,Rr=null;dr="rgba";var an="uint8",tn=1;if(typeof xr=="number"?Pr=xr|0:xr?("shape"in xr?Pr=xr.shape[0]:("radius"in xr&&(Pr=xr.radius|0),"width"in xr?Pr=xr.width|0:"height"in xr&&(Pr=xr.height|0)),("color"in xr||"colors"in xr)&&(Rr=xr.color||xr.colors),Rr||("colorCount"in xr&&(tn=xr.colorCount|0),"colorType"in xr&&(an=xr.colorType),"colorFormat"in xr&&(dr=xr.colorFormat)),"depth"in xr&&(Hr.depth=xr.depth),"stencil"in xr&&(Hr.stencil=xr.stencil),"depthStencil"in xr&&(Hr.depthStencil=xr.depthStencil)):Pr=1,Rr)if(Array.isArray(Rr))for(xr=[],dr=0;dr<Rr.length;++dr)xr[dr]=Rr[dr];else xr=[Rr];else for(xr=Array(tn),Rr={radius:Pr,format:dr,type:an},dr=0;dr<tn;++dr)xr[dr]=yr.createCube(Rr);for(Hr.color=Array(xr.length),dr=0;dr<xr.length;++dr)tn=xr[dr],Pr=Pr||tn.width,Hr.color[dr]={target:34069,data:xr[dr]};for(dr=0;6>dr;++dr){for(tn=0;tn<xr.length;++tn)Hr.color[tn].target=34069+dr;0<dr&&(Hr.depth=vr[0].depth,Hr.stencil=vr[0].stencil,Hr.depthStencil=vr[0].depthStencil),vr[dr]?vr[dr](Hr):vr[dr]=Ue(Hr)}return te(ir,{width:Pr,height:Pr,color:xr})}var vr=Array(6);return ir(Nt),te(ir,{faces:vr,resize:function(xr){var dr=xr|0;if(dr===ir.width)return ir;var Hr=ir.color;for(xr=0;xr<Hr.length;++xr)Hr[xr].resize(dr);for(xr=0;6>xr;++xr)vr[xr].resize(dr);return ir.width=ir.height=dr,ir},_reglType:"framebufferCube",destroy:function(){vr.forEach(function(xr){xr.destroy()})}})},clear:function(){Te(er).forEach(pr)},restore:function(){Ot.cur=null,Ot.next=null,Ot.dirty=!0,Te(er).forEach(function(Nt){Nt.framebuffer=vt.createFramebuffer(),Ye(Nt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(vt,Zt,Kt,yr,or,mt,lt){function bt(Ye){if(Ye!==pr.currentVAO){var Ue=Zt.oes_vertex_array_object;Ye?Ue.bindVertexArrayOES(Ye.vao):Ue.bindVertexArrayOES(null),pr.currentVAO=Ye}}function Ct(Ye){if(Ye!==pr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var Ue=Zt.angle_instanced_arrays,Ot=0;Ot<Jt.length;++Ot){var It=Jt[Ot];It.buffer?(vt.enableVertexAttribArray(Ot),It.buffer.bind(),vt.vertexAttribPointer(Ot,It.size,It.type,It.normalized,It.stride,It.offfset),Ue&&It.divisor&&Ue.vertexAttribDivisorANGLE(Ot,It.divisor)):(vt.disableVertexAttribArray(Ot),vt.vertexAttrib4f(Ot,It.x,It.y,It.z,It.w))}lt.elements?vt.bindBuffer(34963,lt.elements.buffer.buffer):vt.bindBuffer(34963,null)}pr.currentVAO=Ye}}function Dt(){Te(hr).forEach(function(Ye){Ye.destroy()})}function Ht(){this.id=++cr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Zt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,hr[this.id]=this,this.buffers=[]}function Bt(){Zt.oes_vertex_array_object&&Te(hr).forEach(function(Ye){Ye.refresh()})}var Ut=Kt.maxAttributes,Jt=Array(Ut);for(Kt=0;Kt<Ut;++Kt)Jt[Kt]=new N;var cr=0,hr={},pr={Record:N,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Bt:function(){},createVAO:function(Ye){function Ue(It){var Qt;Array.isArray(It)?(Qt=It,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(It.elements?(Qt=It.elements,Ot.ownsElements?(typeof Qt=="function"&&Qt._reglType==="elements"?Ot.elements.destroy():Ot.elements(Qt),Ot.ownsElements=!1):mt.getElements(It.elements)?(Ot.elements=It.elements,Ot.ownsElements=!1):(Ot.elements=mt.create(It.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),Qt=It.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in It&&(Ot.offset=It.offset|0),"count"in It&&(Ot.count=It.count|0),"instances"in It&&(Ot.instances=It.instances|0),"primitive"in It&&(Ot.primitive=Je[It.primitive])),It={};var lr=Ot.attributes;lr.length=Qt.length;for(var fr=0;fr<Qt.length;++fr){var er=Qt[fr],Nt=lr[fr]=new N,ir=er.data||er;if(Array.isArray(ir)||Fe(ir)||u(ir)){var vr;Ot.buffers[fr]&&(vr=Ot.buffers[fr],Fe(ir)&&vr._buffer.byteLength>=ir.byteLength?vr.subdata(ir):(vr.destroy(),Ot.buffers[fr]=null)),Ot.buffers[fr]||(vr=Ot.buffers[fr]=or.create(er,34962,!1,!0)),Nt.buffer=or.getBuffer(vr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,It[fr]=1}else or.getBuffer(er)?(Nt.buffer=or.getBuffer(er),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):or.getBuffer(er.buffer)?(Nt.buffer=or.getBuffer(er.buffer),Nt.size=(+er.size||Nt.buffer.dimension)|0,Nt.normalized=!!er.normalized||!1,Nt.type="type"in er?Ie[er.type]:Nt.buffer.dtype,Nt.offset=(er.offset||0)|0,Nt.stride=(er.stride||0)|0,Nt.divisor=(er.divisor||0)|0,Nt.state=1):"x"in er&&(Nt.x=+er.x||0,Nt.y=+er.y||0,Nt.z=+er.z||0,Nt.w=+er.w||0,Nt.state=2)}for(vr=0;vr<Ot.buffers.length;++vr)!It[vr]&&Ot.buffers[vr]&&(Ot.buffers[vr].destroy(),Ot.buffers[vr]=null);return Ot.refresh(),Ue}var Ot=new Ht;return yr.vaoCount+=1,Ue.destroy=function(){for(var It=0;It<Ot.buffers.length;++It)Ot.buffers[It]&&Ot.buffers[It].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},Ue._vao=Ot,Ue._reglType="vao",Ue(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var Ue=0;Ue<Jt.length;++Ue){var Ot=Jt[Ue];Ot.buffer===Ye&&(vt.disableVertexAttribArray(Ue),Ot.buffer=null)}},setVAO:Zt.oes_vertex_array_object?bt:Ct,clear:Zt.oes_vertex_array_object?Dt:function(){}};return Ht.prototype.bindAttrs=function(){for(var Ye=Zt.angle_instanced_arrays,Ue=this.attributes,Ot=0;Ot<Ue.length;++Ot){var It=Ue[Ot];It.buffer?(vt.enableVertexAttribArray(Ot),vt.bindBuffer(34962,It.buffer.buffer),vt.vertexAttribPointer(Ot,It.size,It.type,It.normalized,It.stride,It.offset),Ye&&It.divisor&&Ye.vertexAttribDivisorANGLE(Ot,It.divisor)):(vt.disableVertexAttribArray(Ot),vt.vertexAttrib4f(Ot,It.x,It.y,It.z,It.w))}for(Ye=Ue.length;Ye<Ut;++Ye)vt.disableVertexAttribArray(Ye);(Ye=mt.getElements(this.elements))?vt.bindBuffer(34963,Ye.buffer.buffer):vt.bindBuffer(34963,null)},Ht.prototype.refresh=function(){var Ye=Zt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),pr.currentVAO=null,Ye.bindVertexArrayOES(null))},Ht.prototype.destroy=function(){if(this.vao){var Ye=Zt.oes_vertex_array_object;this===pr.currentVAO&&(pr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),hr[this.id]&&(delete hr[this.id],--yr.vaoCount)},pr}function O(vt,Zt,Kt,yr){function or(cr,hr,pr,Ye){this.name=cr,this.id=hr,this.location=pr,this.info=Ye}function mt(cr,hr){for(var pr=0;pr<cr.length;++pr)if(cr[pr].id===hr.id){cr[pr].location=hr.location;return}cr.push(hr)}function lt(cr,hr,pr){pr=cr===35632?Dt:Ht;var Ye=pr[hr];if(!Ye){var Ue=Zt.str(hr),Ye=vt.createShader(cr);vt.shaderSource(Ye,Ue),vt.compileShader(Ye),pr[hr]=Ye}return Ye}function bt(cr,hr){this.id=Jt++,this.fragId=cr,this.vertId=hr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ct(cr,hr,pr){var Ye;Ye=lt(35632,cr.fragId);var Ue=lt(35633,cr.vertId);if(hr=cr.program=vt.createProgram(),vt.attachShader(hr,Ye),vt.attachShader(hr,Ue),pr)for(Ye=0;Ye<pr.length;++Ye)Ue=pr[Ye],vt.bindAttribLocation(hr,Ue[0],Ue[1]);vt.linkProgram(hr),Ue=vt.getProgramParameter(hr,35718),yr.profile&&(cr.stats.uniformsCount=Ue);var Ot=cr.uniforms;for(Ye=0;Ye<Ue;++Ye)if(pr=vt.getActiveUniform(hr,Ye))if(1<pr.size)for(var It=0;It<pr.size;++It){var Qt=pr.name.replace("[0]","["+It+"]");mt(Ot,new or(Qt,Zt.id(Qt),vt.getUniformLocation(hr,Qt),pr))}else mt(Ot,new or(pr.name,Zt.id(pr.name),vt.getUniformLocation(hr,pr.name),pr));for(Ue=vt.getProgramParameter(hr,35721),yr.profile&&(cr.stats.attributesCount=Ue),cr=cr.attributes,Ye=0;Ye<Ue;++Ye)(pr=vt.getActiveAttrib(hr,Ye))&&mt(cr,new or(pr.name,Zt.id(pr.name),vt.getAttribLocation(hr,pr.name),pr))}var Dt={},Ht={},Bt={},Ut=[],Jt=0;return yr.profile&&(Kt.getMaxUniformsCount=function(){var cr=0;return Ut.forEach(function(hr){hr.stats.uniformsCount>cr&&(cr=hr.stats.uniformsCount)}),cr},Kt.getMaxAttributesCount=function(){var cr=0;return Ut.forEach(function(hr){hr.stats.attributesCount>cr&&(cr=hr.stats.attributesCount)}),cr}),{clear:function(){var cr=vt.deleteShader.bind(vt);Te(Dt).forEach(cr),Dt={},Te(Ht).forEach(cr),Ht={},Ut.forEach(function(hr){vt.deleteProgram(hr.program)}),Ut.length=0,Bt={},Kt.shaderCount=0},program:function(cr,hr,pr,Ye){var Ue=Bt[hr];Ue||(Ue=Bt[hr]={});var Ot=Ue[cr];if(Ot&&(Ot.refCount++,!Ye))return Ot;var It=new bt(hr,cr);return Kt.shaderCount++,Ct(It,pr,Ye),Ot||(Ue[cr]=It),Ut.push(It),te(It,{destroy:function(){if(It.refCount--,0>=It.refCount){vt.deleteProgram(It.program);var Qt=Ut.indexOf(It);Ut.splice(Qt,1),Kt.shaderCount--}0>=Ue[It.vertId].refCount&&(vt.deleteShader(Ht[It.vertId]),delete Ht[It.vertId],delete Bt[It.fragId][It.vertId]),Object.keys(Bt[It.fragId]).length||(vt.deleteShader(Dt[It.fragId]),delete Dt[It.fragId],delete Bt[It.fragId])}})},restore:function(){Dt={},Ht={};for(var cr=0;cr<Ut.length;++cr)Ct(Ut[cr],null,Ut[cr].attributes.map(function(hr){return[hr.location,hr.name]}))},shader:lt,frag:-1,vert:-1}}function F(vt,Zt,Kt,yr,or,mt,lt){function bt(Dt){var Ht;Ht=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Bt=0,Ut=0,Jt=yr.framebufferWidth,cr=yr.framebufferHeight,hr=null;return Fe(Dt)?hr=Dt:Dt&&(Bt=Dt.x|0,Ut=Dt.y|0,Jt=(Dt.width||yr.framebufferWidth-Bt)|0,cr=(Dt.height||yr.framebufferHeight-Ut)|0,hr=Dt.data||null),Kt(),Dt=Jt*cr*4,hr||(Ht===5121?hr=new Uint8Array(Dt):Ht===5126&&(hr=hr||new Float32Array(Dt))),vt.pixelStorei(3333,4),vt.readPixels(Bt,Ut,Jt,cr,6408,Ht,hr),hr}function Ct(Dt){var Ht;return Zt.setFBO({framebuffer:Dt.framebuffer},function(){Ht=bt(Dt)}),Ht}return function(Dt){return Dt&&"framebuffer"in Dt?Ct(Dt):bt(Dt)}}function z(vt){for(var Zt=Array(vt.length>>2),yr=0;yr<Zt.length;yr++)Zt[yr]=0;for(yr=0;yr<8*vt.length;yr+=8)Zt[yr>>5]|=(vt.charCodeAt(yr/8)&255)<<24-yr%32;var Kt=8*vt.length;vt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),or,mt,lt,bt,Ct,Dt,Ht,Bt,Ut,Jt,cr;for(Zt[Kt>>5]|=128<<24-Kt%32,Zt[(Kt+64>>9<<4)+15]=Kt,Bt=0;Bt<Zt.length;Bt+=16){for(Kt=vt[0],or=vt[1],mt=vt[2],lt=vt[3],bt=vt[4],Ct=vt[5],Dt=vt[6],Ht=vt[7],Ut=0;64>Ut;Ut++){if(16>Ut)yr[Ut]=Zt[Ut+Bt];else{Jt=Ut,cr=yr[Ut-2],cr=J(cr,17)^J(cr,19)^cr>>>10,cr=re(cr,yr[Ut-7]);var hr;hr=yr[Ut-15],hr=J(hr,7)^J(hr,18)^hr>>>3,yr[Jt]=re(re(cr,hr),yr[Ut-16])}Jt=bt,Jt=J(Jt,6)^J(Jt,11)^J(Jt,25),Jt=re(re(re(re(Ht,Jt),bt&Ct^~bt&Dt),$e[Ut]),yr[Ut]),Ht=Kt,Ht=J(Ht,2)^J(Ht,13)^J(Ht,22),cr=re(Ht,Kt&or^Kt&mt^or&mt),Ht=Dt,Dt=Ct,Ct=bt,bt=re(lt,Jt),lt=mt,mt=or,or=Kt,Kt=re(Jt,cr)}vt[0]=re(Kt,vt[0]),vt[1]=re(or,vt[1]),vt[2]=re(mt,vt[2]),vt[3]=re(lt,vt[3]),vt[4]=re(bt,vt[4]),vt[5]=re(Ct,vt[5]),vt[6]=re(Dt,vt[6]),vt[7]=re(Ht,vt[7])}for(Zt="",yr=0;yr<32*vt.length;yr+=8)Zt+=String.fromCharCode(vt[yr>>5]>>>24-yr%32&255);return Zt}function B(vt){for(var Zt="",Kt,yr=0;yr<vt.length;yr++)Kt=vt.charCodeAt(yr),Zt+="0123456789abcdef".charAt(Kt>>>4&15)+"0123456789abcdef".charAt(Kt&15);return Zt}function W(vt){for(var Zt="",Kt=-1,yr,or;++Kt<vt.length;)yr=vt.charCodeAt(Kt),or=Kt+1<vt.length?vt.charCodeAt(Kt+1):0,55296<=yr&&56319>=yr&&56320<=or&&57343>=or&&(yr=65536+((yr&1023)<<10)+(or&1023),Kt++),127>=yr?Zt+=String.fromCharCode(yr):2047>=yr?Zt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Zt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Zt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Zt}function J(vt,Zt){return vt>>>Zt|vt<<32-Zt}function re(vt,Zt){var Kt=(vt&65535)+(Zt&65535);return(vt>>16)+(Zt>>16)+(Kt>>16)<<16|Kt&65535}function ne(vt){return Array.prototype.slice.call(vt)}function le(vt){return ne(vt).join("")}function $(vt){function Zt(){var Ht=[],Bt=[];return te(function(){Ht.push.apply(Ht,ne(arguments))},{def:function(){var Ut="v"+or++;return Bt.push(Ut),0<arguments.length&&(Ht.push(Ut,"="),Ht.push.apply(Ht,ne(arguments)),Ht.push(";")),Ut},toString:function(){return le([0<Bt.length?"var "+Bt.join(",")+";":"",le(Ht)])}})}function Kt(){function Ht(hr,pr){Ut(hr,pr,"=",Bt.def(hr,pr),";")}var Bt=Zt(),Ut=Zt(),Jt=Bt.toString,cr=Ut.toString;return te(function(){Bt.apply(Bt,ne(arguments))},{def:Bt.def,entry:Bt,exit:Ut,save:Ht,set:function(hr,pr,Ye){Ht(hr,pr),Bt(hr,pr,"=",Ye,";")},toString:function(){return Jt()+cr()}})}var yr=vt&&vt.cache,or=0,mt=[],lt=[],bt=[],Ct=Zt(),Dt={};return{global:Ct,link:function(Ht,Bt){var Ut=Bt&&Bt.stable;if(!Ut){for(var Jt=0;Jt<lt.length;++Jt)if(lt[Jt]===Ht&&!bt[Jt])return mt[Jt]}return Jt="g"+or++,mt.push(Jt),lt.push(Ht),bt.push(Ut),Jt},block:Zt,proc:function(Ht,Bt){function Ut(){var pr="a"+Jt.length;return Jt.push(pr),pr}var Jt=[];Bt=Bt||0;for(var cr=0;cr<Bt;++cr)Ut();var cr=Kt(),hr=cr.toString;return Dt[Ht]=te(cr,{arg:Ut,toString:function(){return le(["function(",Jt.join(),"){",hr(),"}"])}})},scope:Kt,cond:function(){var Ht=le(arguments),Bt=Kt(),Ut=Kt(),Jt=Bt.toString,cr=Ut.toString;return te(Bt,{then:function(){return Bt.apply(Bt,ne(arguments)),this},else:function(){return Ut.apply(Ut,ne(arguments)),this},toString:function(){var hr=cr();return hr&&(hr="else{"+hr+"}"),le(["if(",Ht,"){",Jt(),"}",hr])}})},compile:function(){var Ht=['"use strict";',Ct,"return {"];Object.keys(Dt).forEach(function(Jt){Ht.push('"',Jt,'":',Dt[Jt].toString(),",")}),Ht.push("}");var Bt=le(Ht).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ut;return yr&&(Ut=B(z(W(Bt))),yr[Ut])?yr[Ut].apply(null,lt):(Bt=Function.apply(null,mt.concat(Bt)),yr&&(yr[Ut]=Bt),Bt.apply(null,lt))}}}function K(vt){return Array.isArray(vt)||Fe(vt)||u(vt)}function ie(vt){return vt.sort(function(Zt,Kt){return Zt==="viewport"?-1:Kt==="viewport"?1:Zt<Kt?-1:1})}function Y(vt,Zt,Kt,yr){this.thisDep=vt,this.contextDep=Zt,this.propDep=Kt,this.append=yr}function Q(vt){return vt&&!(vt.thisDep||vt.contextDep||vt.propDep)}function oe(vt){return new Y(!1,!1,!1,vt)}function X(vt,Zt){var Kt=vt.type;if(Kt===0)return Kt=vt.data.length,new Y(!0,1<=Kt,2<=Kt,Zt);if(Kt===4)return Kt=vt.data,new Y(Kt.thisDep,Kt.contextDep,Kt.propDep,Zt);if(Kt===5)return new Y(!1,!1,!1,Zt);if(Kt===6){for(var yr=Kt=!1,or=!1,mt=0;mt<vt.data.length;++mt){var lt=vt.data[mt];lt.type===1?or=!0:lt.type===2?yr=!0:lt.type===3?Kt=!0:lt.type===0?(Kt=!0,lt=lt.data,1<=lt&&(yr=!0),2<=lt&&(or=!0)):lt.type===4&&(Kt=Kt||lt.data.thisDep,yr=yr||lt.data.contextDep,or=or||lt.data.propDep)}return new Y(Kt,yr,or,Zt)}return new Y(Kt===3,Kt===2,Kt===1,Zt)}function j(vt,Zt,Kt,yr,or,mt,lt,bt,Ct,Dt,Ht,Bt,Ut,Jt,cr,hr){function pr(Mr){return Mr.replace(".","_")}function Ye(Mr,Fr,Ar){var Nr=pr(Mr);bn.push(Mr),On[Nr]=vn[Nr]=!!Ar,An[Nr]=Fr}function Ue(Mr,Fr,Ar){var Nr=pr(Mr);bn.push(Mr),Array.isArray(Ar)?(vn[Nr]=Ar.slice(),On[Nr]=Ar.slice()):vn[Nr]=On[Nr]=Ar,Fn[Nr]=Fr}function Ot(){var Mr=$({cache:cr}),Fr=Mr.link,Ar=Mr.global;Mr.id=Ia++,Mr.batchId="0";var Nr=Fr($n),mn=Mr.shared={props:"a0"};Object.keys($n).forEach(function(Zr){mn[Zr]=Ar.def(Nr,".",Zr)});var Rn=Mr.next={},gn=Mr.current={};Object.keys(Fn).forEach(function(Zr){Array.isArray(vn[Zr])&&(Rn[Zr]=Ar.def(mn.next,".",Zr),gn[Zr]=Ar.def(mn.current,".",Zr))});var un=Mr.constants={};Object.keys(ha).forEach(function(Zr){un[Zr]=Ar.def(JSON.stringify(ha[Zr]))}),Mr.invoke=function(Zr,Gr){switch(Gr.type){case 0:var qr=["this",mn.context,mn.props,Mr.batchId];return Zr.def(Fr(Gr.data),".call(",qr.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Zr.def(mn.props,Gr.data);case 2:return Zr.def(mn.context,Gr.data);case 3:return Zr.def("this",Gr.data);case 4:return Gr.data.append(Mr,Zr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(wn){return Mr.invoke(Zr,wn)})}},Mr.attribCache={};var Er={};return Mr.scopeAttrib=function(Zr){if(Zr=Zt.id(Zr),Zr in Er)return Er[Zr];var Gr=Dt.scope[Zr];return Gr||(Gr=Dt.scope[Zr]=new Gn),Er[Zr]=Fr(Gr)},Mr}function It(Mr){var Fr=Mr.static;Mr=Mr.dynamic;var Ar;if("profile"in Fr){var Nr=!!Fr.profile;Ar=oe(function(Rn,gn){return Nr}),Ar.enable=Nr}else if("profile"in Mr){var mn=Mr.profile;Ar=X(mn,function(Rn,gn){return Rn.invoke(gn,mn)})}return Ar}function Qt(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic;if("framebuffer"in Ar){var mn=Ar.framebuffer;return mn?(mn=bt.getFramebuffer(mn),oe(function(gn,un){var Er=gn.link(mn),Zr=gn.shared;return un.set(Zr.framebuffer,".next",Er),Zr=Zr.context,un.set(Zr,".framebufferWidth",Er+".width"),un.set(Zr,".framebufferHeight",Er+".height"),Er})):oe(function(gn,un){var Er=gn.shared;return un.set(Er.framebuffer,".next","null"),Er=Er.context,un.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),un.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var Rn=Nr.framebuffer;return X(Rn,function(gn,un){var Gr=gn.invoke(un,Rn),Er=gn.shared,Zr=Er.framebuffer,Gr=un.def(Zr,".getFramebuffer(",Gr,")");return un.set(Zr,".next",Gr),Er=Er.context,un.set(Er,".framebufferWidth",Gr+"?"+Gr+".width:"+Er+".drawingBufferWidth"),un.set(Er,".framebufferHeight",Gr+"?"+Gr+".height:"+Er+".drawingBufferHeight"),Gr})}return null}function lr(Mr,Fr,Ar){function Nr(un){if(un in mn){var Er=mn[un];un=!0;var Zr=Er.x|0,Gr=Er.y|0,qr,wn;return"width"in Er?qr=Er.width|0:un=!1,"height"in Er?wn=Er.height|0:un=!1,new Y(!un&&Fr&&Fr.thisDep,!un&&Fr&&Fr.contextDep,!un&&Fr&&Fr.propDep,function(En,Un){var Nn=En.shared.context,va=qr;"width"in Er||(va=Un.def(Nn,".","framebufferWidth","-",Zr));var sa=wn;return"height"in Er||(sa=Un.def(Nn,".","framebufferHeight","-",Gr)),[Zr,Gr,va,sa]})}if(un in Rn){var zn=Rn[un];return un=X(zn,function(En,Un){var _a=En.invoke(Un,zn),Nn=En.shared.context,va=Un.def(_a,".x|0"),sa=Un.def(_a,".y|0"),ga=Un.def('"width" in ',_a,"?",_a,".width|0:","(",Nn,".","framebufferWidth","-",va,")"),_a=Un.def('"height" in ',_a,"?",_a,".height|0:","(",Nn,".","framebufferHeight","-",sa,")");return[va,sa,ga,_a]}),Fr&&(un.thisDep=un.thisDep||Fr.thisDep,un.contextDep=un.contextDep||Fr.contextDep,un.propDep=un.propDep||Fr.propDep),un}return Fr?new Y(Fr.thisDep,Fr.contextDep,Fr.propDep,function(En,Un){var Nn=En.shared.context;return[0,0,Un.def(Nn,".","framebufferWidth"),Un.def(Nn,".","framebufferHeight")]}):null}var mn=Mr.static,Rn=Mr.dynamic;if(Mr=Nr("viewport")){var gn=Mr;Mr=new Y(Mr.thisDep,Mr.contextDep,Mr.propDep,function(un,Er){var Zr=gn.append(un,Er),Gr=un.shared.context;return Er.set(Gr,".viewportWidth",Zr[2]),Er.set(Gr,".viewportHeight",Zr[3]),Zr})}return{viewport:Mr,scissor_box:Nr("scissor.box")}}function fr(Mr,Fr){var Ar=Mr.static;if(typeof Ar.frag=="string"&&typeof Ar.vert=="string"){if(0<Object.keys(Fr.dynamic).length)return null;var Ar=Fr.static,Nr=Object.keys(Ar);if(0<Nr.length&&typeof Ar[Nr[0]]=="number"){for(var mn=[],Rn=0;Rn<Nr.length;++Rn)mn.push([Ar[Nr[Rn]]|0,Nr[Rn]]);return mn}}return null}function er(Mr,Fr,Ar){function Nr(Zr){if(Zr in mn){var Gr=Zt.id(mn[Zr]);return Zr=oe(function(){return Gr}),Zr.id=Gr,Zr}if(Zr in Rn){var qr=Rn[Zr];return X(qr,function(wn,zn){var En=wn.invoke(zn,qr);return zn.def(wn.shared.strings,".id(",En,")")})}return null}var mn=Mr.static,Rn=Mr.dynamic,gn=Nr("frag"),un=Nr("vert"),Er=null;return Q(gn)&&Q(un)?(Er=Ht.program(un.id,gn.id,null,Ar),Mr=oe(function(Zr,Gr){return Zr.link(Er)})):Mr=new Y(gn&&gn.thisDep||un&&un.thisDep,gn&&gn.contextDep||un&&un.contextDep,gn&&gn.propDep||un&&un.propDep,function(Zr,Gr){var qr=Zr.shared.shader,wn;wn=gn?gn.append(Zr,Gr):Gr.def(qr,".","frag");var zn;return zn=un?un.append(Zr,Gr):Gr.def(qr,".","vert"),Gr.def(qr+".program("+zn+","+wn+")")}),{frag:gn,vert:un,progVar:Mr,program:Er}}function Nt(Mr,Fr){function Ar(En,Un){if(En in Nr){var Nn=Nr[En]|0;return Un?Rn.offset=Nn:Rn.instances=Nn,oe(function(sa,ga){return Un&&(sa.OFFSET=Nn),Nn})}if(En in mn){var va=mn[En];return X(va,function(sa,ga){var _a=sa.invoke(ga,va);return Un&&(sa.OFFSET=_a),_a})}if(Un){if(Er)return oe(function(sa,ga){return sa.OFFSET=0});if(gn)return new Y(un.thisDep,un.contextDep,un.propDep,function(sa,ga){return ga.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.offset:0")})}else if(gn)return new Y(un.thisDep,un.contextDep,un.propDep,function(sa,ga){return ga.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Mr.static,mn=Mr.dynamic,Rn={},gn=!1,un=function(){if("vao"in Nr){var En=Nr.vao;return En!==null&&Dt.getVAO(En)===null&&(En=Dt.createVAO(En)),gn=!0,Rn.vao=En,oe(function(Nn){var va=Dt.getVAO(En);return va?Nn.link(va):"null"})}if("vao"in mn){gn=!0;var Un=mn.vao;return X(Un,function(Nn,va){var sa=Nn.invoke(va,Un);return va.def(Nn.shared.vao+".getVAO("+sa+")")})}return null}(),Er=!1,Zr=function(){if("elements"in Nr){var En=Nr.elements;if(Rn.elements=En,K(En)){var Un=Rn.elements=mt.create(En,!0),En=mt.getElements(Un);Er=!0}else En&&(En=mt.getElements(En),Er=!0);return Un=oe(function(va,sa){if(En){var ga=va.link(En);return va.ELEMENTS=ga}return va.ELEMENTS=null}),Un.value=En,Un}if("elements"in mn){Er=!0;var Nn=mn.elements;return X(Nn,function(va,sa){var ga=va.shared,gi=ga.isBufferArgs,ga=ga.elements,ai=va.invoke(sa,Nn),_a=sa.def("null"),gi=sa.def(gi,"(",ai,")"),ai=va.cond(gi).then(_a,"=",ga,".createStream(",ai,");").else(_a,"=",ga,".getElements(",ai,");");return sa.entry(ai),sa.exit(va.cond(gi).then(ga,".destroyStream(",_a,");")),va.ELEMENTS=_a})}return gn?new Y(un.thisDep,un.contextDep,un.propDep,function(va,sa){return sa.def(va.shared.vao+".currentVAO?"+va.shared.elements+".getElements("+va.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Ar("offset",!0),qr=function(){if("primitive"in Nr){var En=Nr.primitive;return Rn.primitive=En,oe(function(Nn,va){return Je[En]})}if("primitive"in mn){var Un=mn.primitive;return X(Un,function(Nn,va){var sa=Nn.constants.primTypes,ga=Nn.invoke(va,Un);return va.def(sa,"[",ga,"]")})}return Er?Q(Zr)?Zr.value?oe(function(Nn,va){return va.def(Nn.ELEMENTS,".primType")}):oe(function(){return 4}):new Y(Zr.thisDep,Zr.contextDep,Zr.propDep,function(Nn,va){var sa=Nn.ELEMENTS;return va.def(sa,"?",sa,".primType:",4)}):gn?new Y(un.thisDep,un.contextDep,un.propDep,function(Nn,va){return va.def(Nn.shared.vao+".currentVAO?"+Nn.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Nr){var En=Nr.count|0;return Rn.count=En,oe(function(){return En})}if("count"in mn){var Un=mn.count;return X(Un,function(Nn,va){return Nn.invoke(va,Un)})}return Er?Q(Zr)?Zr?Gr?new Y(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Nn,va){return va.def(Nn.ELEMENTS,".vertCount-",Nn.OFFSET)}):oe(function(Nn,va){return va.def(Nn.ELEMENTS,".vertCount")}):oe(function(){return-1}):new Y(Zr.thisDep||Gr.thisDep,Zr.contextDep||Gr.contextDep,Zr.propDep||Gr.propDep,function(Nn,va){var sa=Nn.ELEMENTS;return Nn.OFFSET?va.def(sa,"?",sa,".vertCount-",Nn.OFFSET,":-1"):va.def(sa,"?",sa,".vertCount:-1")}):gn?new Y(un.thisDep,un.contextDep,un.propDep,function(Nn,va){return va.def(Nn.shared.vao,".currentVAO?",Nn.shared.vao,".currentVAO.count:-1")}):null}(),zn=Ar("instances",!1);return{elements:Zr,primitive:qr,count:wn,instances:zn,offset:Gr,vao:un,vaoActive:gn,elementsActive:Er,static:Rn}}function ir(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic,mn={};return bn.forEach(function(Rn){function gn(Er,Zr){if(Rn in Ar){var Gr=Er(Ar[Rn]);mn[un]=oe(function(){return Gr})}else if(Rn in Nr){var qr=Nr[Rn];mn[un]=X(qr,function(wn,zn){return Zr(wn,zn,wn.invoke(zn,qr))})}}var un=pr(Rn);switch(Rn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return gn(function(Er){return Er},function(Er,Zr,Gr){return Gr});case"depth.func":return gn(function(Er){return Pt[Er]},function(Er,Zr,Gr){return Zr.def(Er.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return gn(function(Er){return Er},function(Er,Zr,Gr){return Er=Zr.def("+",Gr,"[0]"),Zr=Zr.def("+",Gr,"[1]"),[Er,Zr]});case"blend.func":return gn(function(Er){return[Wt["srcRGB"in Er?Er.srcRGB:Er.src],Wt["dstRGB"in Er?Er.dstRGB:Er.dst],Wt["srcAlpha"in Er?Er.srcAlpha:Er.src],Wt["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Zr,Gr){function qr(Un,Nn){return Zr.def('"',Un,Nn,'" in ',Gr,"?",Gr,".",Un,Nn,":",Gr,".",Un)}Er=Er.constants.blendFuncs;var wn=qr("src","RGB"),En=qr("dst","RGB"),wn=Zr.def(Er,"[",wn,"]"),zn=Zr.def(Er,"[",qr("src","Alpha"),"]"),En=Zr.def(Er,"[",En,"]");return Er=Zr.def(Er,"[",qr("dst","Alpha"),"]"),[wn,En,zn,Er]});case"blend.equation":return gn(function(Er){if(typeof Er=="string")return[Qn[Er],Qn[Er]];if(typeof Er=="object")return[Qn[Er.rgb],Qn[Er.alpha]]},function(Er,Zr,Gr){var qr=Er.constants.blendEquations,wn=Zr.def(),zn=Zr.def();return Er=Er.cond("typeof ",Gr,'==="string"'),Er.then(wn,"=",zn,"=",qr,"[",Gr,"];"),Er.else(wn,"=",qr,"[",Gr,".rgb];",zn,"=",qr,"[",Gr,".alpha];"),Zr(Er),[wn,zn]});case"blend.color":return gn(function(Er){return i(4,function(Zr){return+Er[Zr]})},function(Er,Zr,Gr){return i(4,function(qr){return Zr.def("+",Gr,"[",qr,"]")})});case"stencil.mask":return gn(function(Er){return Er|0},function(Er,Zr,Gr){return Zr.def(Gr,"|0")});case"stencil.func":return gn(function(Er){return[Pt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Zr,Gr){Er=Zr.def('"cmp" in ',Gr,"?",Er.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var qr=Zr.def(Gr,".ref|0");return Zr=Zr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Er,qr,Zr]});case"stencil.opFront":case"stencil.opBack":return gn(function(Er){return[Rn==="stencil.opBack"?1029:1028,dt[Er.fail||"keep"],dt[Er.zfail||"keep"],dt[Er.zpass||"keep"]]},function(Er,Zr,Gr){function qr(zn){return Zr.def('"',zn,'" in ',Gr,"?",wn,"[",Gr,".",zn,"]:",7680)}var wn=Er.constants.stencilOps;return[Rn==="stencil.opBack"?1029:1028,qr("fail"),qr("zfail"),qr("zpass")]});case"polygonOffset.offset":return gn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Zr,Gr){return Er=Zr.def(Gr,".factor|0"),Zr=Zr.def(Gr,".units|0"),[Er,Zr]});case"cull.face":return gn(function(Er){var Zr=0;return Er==="front"?Zr=1028:Er==="back"&&(Zr=1029),Zr},function(Er,Zr,Gr){return Zr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return gn(function(Er){return Er},function(Er,Zr,Gr){return Gr});case"frontFace":return gn(function(Er){return Mt[Er]},function(Er,Zr,Gr){return Zr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return gn(function(Er){return Er.map(function(Zr){return!!Zr})},function(Er,Zr,Gr){return i(4,function(qr){return"!!"+Gr+"["+qr+"]"})});case"sample.coverage":return gn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Zr,Gr){return Er=Zr.def('"value" in ',Gr,"?+",Gr,".value:1"),Zr=Zr.def("!!",Gr,".invert"),[Er,Zr]})}}),mn}function vr(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic,mn={};return Object.keys(Ar).forEach(function(Rn){var gn=Ar[Rn],un;if(typeof gn=="number"||typeof gn=="boolean")un=oe(function(){return gn});else if(typeof gn=="function"){var Er=gn._reglType;Er==="texture2d"||Er==="textureCube"?un=oe(function(Zr){return Zr.link(gn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(un=oe(function(Zr){return Zr.link(gn.color[0])}))}else w(gn)&&(un=oe(function(Zr){return Zr.global.def("[",i(gn.length,function(Gr){return gn[Gr]}),"]")}));un.value=gn,mn[Rn]=un}),Object.keys(Nr).forEach(function(Rn){var gn=Nr[Rn];mn[Rn]=X(gn,function(un,Er){return un.invoke(Er,gn)})}),mn}function xr(Mr,Fr){var Ar=Mr.static,Nr=Mr.dynamic,mn={};return Object.keys(Ar).forEach(function(Rn){var gn=Ar[Rn],un=Zt.id(Rn),Er=new Gn;if(K(gn))Er.state=1,Er.buffer=or.getBuffer(or.create(gn,34962,!1,!0)),Er.type=0;else{var Zr=or.getBuffer(gn);if(Zr)Er.state=1,Er.buffer=Zr,Er.type=0;else if("constant"in gn){var Gr=gn.constant;Er.buffer="null",Er.state=2,typeof Gr=="number"?Er.x=Gr:ot.forEach(function(Nn,va){va<Gr.length&&(Er[Nn]=Gr[va])})}else{var Zr=K(gn.buffer)?or.getBuffer(or.create(gn.buffer,34962,!1,!0)):or.getBuffer(gn.buffer),qr=gn.offset|0,wn=gn.stride|0,zn=gn.size|0,En=!!gn.normalized,Un=0;"type"in gn&&(Un=Ie[gn.type]),gn=gn.divisor|0,Er.buffer=Zr,Er.state=1,Er.size=zn,Er.normalized=En,Er.type=Un||Zr.dtype,Er.offset=qr,Er.stride=wn,Er.divisor=gn}}mn[Rn]=oe(function(Nn,va){var sa=Nn.attribCache;if(un in sa)return sa[un];var ga={isStream:!1};return Object.keys(Er).forEach(function(_a){ga[_a]=Er[_a]}),Er.buffer&&(ga.buffer=Nn.link(Er.buffer),ga.type=ga.type||ga.buffer+".dtype"),sa[un]=ga})}),Object.keys(Nr).forEach(function(Rn){var gn=Nr[Rn];mn[Rn]=X(gn,function(un,Er){function Zr(sa){Er(En[sa],"=",Gr,".",sa,"|0;")}var Gr=un.invoke(Er,gn),zn=un.shared,qr=un.constants,wn=zn.isBufferArgs,zn=zn.buffer,En={isStream:Er.def(!1)},Un=new Gn;Un.state=1,Object.keys(Un).forEach(function(sa){En[sa]=Er.def(""+Un[sa])});var Nn=En.buffer,va=En.type;return Er("if(",wn,"(",Gr,")){",En.isStream,"=true;",Nn,"=",zn,".createStream(",34962,",",Gr,");",va,"=",Nn,".dtype;","}else{",Nn,"=",zn,".getBuffer(",Gr,");","if(",Nn,"){",va,"=",Nn,".dtype;",'}else if("constant" in ',Gr,"){",En.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',En[ot[0]],"=",Gr,".constant;",ot.slice(1).map(function(sa){return En[sa]}).join("="),"=0;","}else{",ot.map(function(sa,ga){return En[sa]+"="+Gr+".constant.length>"+ga+"?"+Gr+".constant["+ga+"]:0;"}).join(""),"}}else{","if(",wn,"(",Gr,".buffer)){",Nn,"=",zn,".createStream(",34962,",",Gr,".buffer);","}else{",Nn,"=",zn,".getBuffer(",Gr,".buffer);","}",va,'="type" in ',Gr,"?",qr.glTypes,"[",Gr,".type]:",Nn,".dtype;",En.normalized,"=!!",Gr,".normalized;"),Zr("size"),Zr("offset"),Zr("stride"),Zr("divisor"),Er("}}"),Er.exit("if(",En.isStream,"){",zn,".destroyStream(",Nn,");","}"),En})}),mn}function dr(Mr){var Fr=Mr.static,Ar=Mr.dynamic,Nr={};return Object.keys(Fr).forEach(function(mn){var Rn=Fr[mn];Nr[mn]=oe(function(gn,un){return typeof Rn=="number"||typeof Rn=="boolean"?""+Rn:gn.link(Rn)})}),Object.keys(Ar).forEach(function(mn){var Rn=Ar[mn];Nr[mn]=X(Rn,function(gn,un){return gn.invoke(un,Rn)})}),Nr}function Hr(Mr,Fr,Ar,Nr,mn){function Rn(Un){var Nn=un[Un];Nn&&(Zr[Un]=Nn)}var gn=fr(Mr,Fr),wn=Qt(Mr),un=lr(Mr,wn),Er=Nt(Mr),Zr=ir(Mr),Gr=er(Mr,mn,gn);Rn("viewport"),Rn(pr("scissor.box"));var qr=0<Object.keys(Zr).length,wn={framebuffer:wn,draw:Er,shader:Gr,state:Zr,dirty:qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=It(Mr),wn.uniforms=vr(Ar),wn.drawVAO=wn.scopeVAO=Er.vao,!wn.drawVAO&&Gr.program&&!gn&&Kt.angle_instanced_arrays&&Er.static.elements){var zn=!0;if(Mr=Gr.program.attributes.map(function(Un){return Un=Fr.static[Un],zn=zn&&!!Un,Un}),zn&&0<Mr.length){var En=Dt.getVAO(Dt.createVAO({attributes:Mr,elements:Er.static.elements}));wn.drawVAO=new Y(null,null,null,function(Un,Nn){return Un.link(En)}),wn.useVAO=!0}}return gn?wn.useVAO=!0:wn.attributes=xr(Fr),wn.context=dr(Nr),wn}function Pr(Mr,Fr,Ar){var Nr=Mr.shared.context,mn=Mr.scope();Object.keys(Ar).forEach(function(Rn){Fr.save(Nr,"."+Rn);var gn=Ar[Rn].append(Mr,Fr);Array.isArray(gn)?mn(Nr,".",Rn,"=[",gn.join(),"];"):mn(Nr,".",Rn,"=",gn,";")}),Fr(mn)}function Rr(Mr,Fr,Ar,Nr){var un=Mr.shared,mn=un.gl,Rn=un.framebuffer,gn;en&&(gn=Fr.def(un.extensions,".webgl_draw_buffers"));var Er=Mr.constants,un=Er.drawBuffer,Er=Er.backBuffer;Mr=Ar?Ar.append(Mr,Fr):Fr.def(Rn,".next"),Nr||Fr("if(",Mr,"!==",Rn,".cur){"),Fr("if(",Mr,"){",mn,".bindFramebuffer(",36160,",",Mr,".framebuffer);"),en&&Fr(gn,".drawBuffersWEBGL(",un,"[",Mr,".colorAttachments.length]);"),Fr("}else{",mn,".bindFramebuffer(",36160,",null);"),en&&Fr(gn,".drawBuffersWEBGL(",Er,");"),Fr("}",Rn,".cur=",Mr,";"),Nr||Fr("}")}function an(Mr,Fr,Ar){var Nr=Mr.shared,mn=Nr.gl,Rn=Mr.current,gn=Mr.next,un=Nr.current,Er=Nr.next,Zr=Mr.cond(un,".dirty");bn.forEach(function(Gr){if(Gr=pr(Gr),!(Gr in Ar.state)){var qr,wn;if(Gr in gn){qr=gn[Gr],wn=Rn[Gr];var zn=i(vn[Gr].length,function(En){return Zr.def(qr,"[",En,"]")});Zr(Mr.cond(zn.map(function(En,Un){return En+"!=="+wn+"["+Un+"]"}).join("||")).then(mn,".",Fn[Gr],"(",zn,");",zn.map(function(En,Un){return wn+"["+Un+"]="+En}).join(";"),";"))}else qr=Zr.def(Er,".",Gr),zn=Mr.cond(qr,"!==",un,".",Gr),Zr(zn),Gr in An?zn(Mr.cond(qr).then(mn,".enable(",An[Gr],");").else(mn,".disable(",An[Gr],");"),un,".",Gr,"=",qr,";"):zn(mn,".",Fn[Gr],"(",qr,");",un,".",Gr,"=",qr,";")}}),Object.keys(Ar.state).length===0&&Zr(un,".dirty=false;"),Fr(Zr)}function tn(Mr,Fr,Ar,Nr){var mn=Mr.shared,Rn=Mr.current,gn=mn.current,un=mn.gl,Er;ie(Object.keys(Ar)).forEach(function(Zr){var Gr=Ar[Zr];if(!Nr||Nr(Gr)){var qr=Gr.append(Mr,Fr);if(An[Zr]){var wn=An[Zr];Q(Gr)?(Er=Mr.link(qr,{stable:!0}),Fr(Mr.cond(Er).then(un,".enable(",wn,");").else(un,".disable(",wn,");")),Fr(gn,".",Zr,"=",Er,";")):(Fr(Mr.cond(qr).then(un,".enable(",wn,");").else(un,".disable(",wn,");")),Fr(gn,".",Zr,"=",qr,";"))}else if(w(qr)){var zn=Rn[Zr];Fr(un,".",Fn[Zr],"(",qr,");",qr.map(function(En,Un){return zn+"["+Un+"]="+En}).join(";"),";")}else Q(Gr)?(Er=Mr.link(qr,{stable:!0}),Fr(un,".",Fn[Zr],"(",Er,");",gn,".",Zr,"=",Er,";")):Fr(un,".",Fn[Zr],"(",qr,");",gn,".",Zr,"=",qr,";")}})}function Sn(Mr,Fr){mr&&(Mr.instancing=Fr.def(Mr.shared.extensions,".angle_instanced_arrays"))}function Tn(Mr,Fr,Ar,Nr,mn){function Rn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function gn(Un){zn=Fr.def(),Un(zn,"=",Rn(),";"),typeof mn=="string"?Un(Gr,".count+=",mn,";"):Un(Gr,".count++;"),Jt&&(Nr?(En=Fr.def(),Un(En,"=",wn,".getNumPendingQueries();")):Un(wn,".beginQuery(",Gr,");"))}function un(Un){Un(Gr,".cpuTime+=",Rn(),"-",zn,";"),Jt&&(Nr?Un(wn,".pushScopeStats(",En,",",wn,".getNumPendingQueries(),",Gr,");"):Un(wn,".endQuery();"))}function Er(Un){var Nn=Fr.def(qr,".profile");Fr(qr,".profile=",Un,";"),Fr.exit(qr,".profile=",Nn,";")}var Zr=Mr.shared,Gr=Mr.stats,qr=Zr.current,wn=Zr.timer;Ar=Ar.profile;var zn,En;if(Ar){if(Q(Ar)){Ar.enable?(gn(Fr),un(Fr.exit),Er("true")):Er("false");return}Ar=Ar.append(Mr,Fr),Er(Ar)}else Ar=Fr.def(qr,".profile");Zr=Mr.block(),gn(Zr),Fr("if(",Ar,"){",Zr,"}"),Mr=Mr.block(),un(Mr),Fr.exit("if(",Ar,"){",Mr,"}")}function Tr(Mr,Fr,Ar,Nr,mn){function Rn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function gn(Er,Zr,Gr){function qr(){Fr("if(!",Un,".buffer){",zn,".enableVertexAttribArray(",En,");}");var ga=Gr.type,_a;_a=Gr.size?Fr.def(Gr.size,"||",Zr):Zr,Fr("if(",Un,".type!==",ga,"||",Un,".size!==",_a,"||",sa.map(function(gi){return Un+"."+gi+"!=="+Gr[gi]}).join("||"),"){",zn,".bindBuffer(",34962,",",Nn,".buffer);",zn,".vertexAttribPointer(",[En,_a,ga,Gr.normalized,Gr.stride,Gr.offset],");",Un,".type=",ga,";",Un,".size=",_a,";",sa.map(function(gi){return Un+"."+gi+"="+Gr[gi]+";"}).join(""),"}"),mr&&(ga=Gr.divisor,Fr("if(",Un,".divisor!==",ga,"){",Mr.instancing,".vertexAttribDivisorANGLE(",[En,ga],");",Un,".divisor=",ga,";}"))}function wn(){Fr("if(",Un,".buffer){",zn,".disableVertexAttribArray(",En,");",Un,".buffer=null;","}if(",ot.map(function(ga,_a){return Un+"."+ga+"!=="+va[_a]}).join("||"),"){",zn,".vertexAttrib4f(",En,",",va,");",ot.map(function(ga,_a){return Un+"."+ga+"="+va[_a]+";"}).join(""),"}")}var zn=un.gl,En=Fr.def(Er,".location"),Un=Fr.def(un.attributes,"[",En,"]");Er=Gr.state;var Nn=Gr.buffer,va=[Gr.x,Gr.y,Gr.z,Gr.w],sa=["buffer","normalized","offset","stride"];Er===1?qr():Er===2?wn():(Fr("if(",Er,"===",1,"){"),qr(),Fr("}else{"),wn(),Fr("}"))}var un=Mr.shared;Nr.forEach(function(Er){var Zr=Er.name,Gr=Ar.attributes[Zr],qr;if(Gr){if(!mn(Gr))return;qr=Gr.append(Mr,Fr)}else{if(!mn(Xt))return;var wn=Mr.scopeAttrib(Zr);qr={},Object.keys(new Gn).forEach(function(zn){qr[zn]=Fr.def(wn,".",zn)})}gn(Mr.link(Er),Rn(Er.info.type),qr)})}function zr(Mr,Fr,Ar,Nr,mn,Rn){for(var gn=Mr.shared,un=gn.gl,Er,Zr=0;Zr<Nr.length;++Zr){var zn=Nr[Zr],Gr=zn.name,qr=zn.info.type,wn=Ar.uniforms[Gr],zn=Mr.link(zn)+".location",En;if(wn){if(!mn(wn))continue;if(Q(wn)){if(Gr=wn.value,qr===35678||qr===35680)qr=Mr.link(Gr._texture||Gr.color[0]._texture),Fr(un,".uniform1i(",zn,",",qr+".bind());"),Fr.exit(qr,".unbind();");else if(qr===35674||qr===35675||qr===35676)Gr=Mr.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),wn=2,qr===35675?wn=3:qr===35676&&(wn=4),Fr(un,".uniformMatrix",wn,"fv(",zn,",false,",Gr,");");else{switch(qr){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}Fr(un,".uniform",Er,"(",zn,",",w(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else En=wn.append(Mr,Fr)}else{if(!mn(Xt))continue;En=Fr.def(gn.uniforms,"[",Zt.id(Gr),"]")}switch(qr===35678?Fr("if(",En,"&&",En,'._reglType==="framebuffer"){',En,"=",En,".color[0];","}"):qr===35680&&Fr("if(",En,"&&",En,'._reglType==="framebufferCube"){',En,"=",En,".color[0];","}"),Gr=1,qr){case 35678:case 35680:qr=Fr.def(En,"._texture"),Fr(un,".uniform1i(",zn,",",qr,".bind());"),Fr.exit(qr,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Gr=2;break;case 35668:case 35672:Er="3i",Gr=3;break;case 35669:case 35673:Er="4i",Gr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Gr=2;break;case 35665:Er="3f",Gr=3;break;case 35666:Er="4f",Gr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){Fr(un,".uniform",Er,"(",zn,",");var zn=Math.pow(qr-35674+2,2),Un=Mr.global.def("new Float32Array(",zn,")");Array.isArray(En)?Fr("false,(",i(zn,function(sa){return Un+"["+sa+"]="+En[sa]}),",",Un,")"):Fr("false,(Array.isArray(",En,")||",En," instanceof Float32Array)?",En,":(",i(zn,function(sa){return Un+"["+sa+"]="+En+"["+sa+"]"}),",",Un,")"),Fr(");")}else{if(1<Gr){for(var qr=[],Nn=[],wn=0;wn<Gr;++wn)Array.isArray(En)?Nn.push(En[wn]):Nn.push(Fr.def(En+"["+wn+"]")),Rn&&qr.push(Fr.def());Rn&&Fr("if(!",Mr.batchId,"||",qr.map(function(va,sa){return va+"!=="+Nn[sa]}).join("||"),"){",qr.map(function(va,sa){return va+"="+Nn[sa]+";"}).join("")),Fr(un,".uniform",Er,"(",zn,",",Nn.join(","),");")}else Rn&&(qr=Fr.def(),Fr("if(!",Mr.batchId,"||",qr,"!==",En,"){",qr,"=",En,";")),Fr(un,".uniform",Er,"(",zn,",",En,");");Rn&&Fr("}")}}}function Yr(Mr,Fr,Ar,Nr){function mn(ga){var _a=Gr[ga];return _a?_a.contextDep&&Nr.contextDynamic||_a.propDep?_a.append(Mr,Ar):_a.append(Mr,Fr):Fr.def(Zr,".",ga)}function Rn(){function ga(){Ar(Nn,".drawElementsInstancedANGLE(",[wn,En,va,zn+"<<(("+va+"-5121)>>1)",Un],");")}function _a(){Ar(Nn,".drawArraysInstancedANGLE(",[wn,zn,En,Un],");")}qr&&qr!=="null"?sa?ga():(Ar("if(",qr,"){"),ga(),Ar("}else{"),_a(),Ar("}")):_a()}function gn(){function ga(){Ar(Er+".drawElements("+[wn,En,va,zn+"<<(("+va+"-5121)>>1)"]+");")}function _a(){Ar(Er+".drawArrays("+[wn,zn,En]+");")}qr&&qr!=="null"?sa?ga():(Ar("if(",qr,"){"),ga(),Ar("}else{"),_a(),Ar("}")):_a()}var un=Mr.shared,Er=un.gl,Zr=un.draw,Gr=Nr.draw,qr=function(){var ga=Gr.elements,_a=Fr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(_a=Ar),ga=ga.append(Mr,_a),Gr.elementsActive&&_a("if("+ga+")"+Er+".bindBuffer(34963,"+ga+".buffer.buffer);")):(ga=_a.def(),_a(ga,"=",Zr,".","elements",";","if(",ga,"){",Er,".bindBuffer(",34963,",",ga,".buffer.buffer);}","else if(",un.vao,".currentVAO){",ga,"=",Mr.shared.elements+".getElements("+un.vao,".currentVAO.elements);",Jr?"":"if("+ga+")"+Er+".bindBuffer(34963,"+ga+".buffer.buffer);","}")),ga}(),wn=mn("primitive"),zn=mn("offset"),En=function(){var ga=Gr.count,_a=Fr;return ga?((ga.contextDep&&Nr.contextDynamic||ga.propDep)&&(_a=Ar),ga=ga.append(Mr,_a)):ga=_a.def(Zr,".","count"),ga}();if(typeof En=="number"){if(En===0)return}else Ar("if(",En,"){"),Ar.exit("}");var Un,Nn;mr&&(Un=mn("instances"),Nn=Mr.instancing);var va=qr+".type",sa=Gr.elements&&Q(Gr.elements)&&!Gr.vaoActive;mr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(Ar("if(",Un,">0){"),Rn(),Ar("}else if(",Un,"<0){"),gn(),Ar("}")):Rn():gn()}function Or(Mr,Fr,Ar,Nr,mn){return Fr=Ot(),mn=Fr.proc("body",mn),mr&&(Fr.instancing=mn.def(Fr.shared.extensions,".angle_instanced_arrays")),Mr(Fr,mn,Ar,Nr),Fr.compile().body}function ln(Mr,Fr,Ar,Nr){Sn(Mr,Fr),Ar.useVAO?Ar.drawVAO?Fr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Fr),");"):Fr(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Fr(Mr.shared.vao,".setVAO(null);"),Tr(Mr,Fr,Ar,Nr.attributes,function(){return!0})),zr(Mr,Fr,Ar,Nr.uniforms,function(){return!0},!1),Yr(Mr,Fr,Fr,Ar)}function fn(Mr,Fr){var Ar=Mr.proc("draw",1);Sn(Mr,Ar),Pr(Mr,Ar,Fr.context),Rr(Mr,Ar,Fr.framebuffer),an(Mr,Ar,Fr),tn(Mr,Ar,Fr.state),Tn(Mr,Ar,Fr,!1,!0);var Nr=Fr.shader.progVar.append(Mr,Ar);if(Ar(Mr.shared.gl,".useProgram(",Nr,".program);"),Fr.shader.program)ln(Mr,Ar,Fr,Fr.shader.program);else{Ar(Mr.shared.vao,".setVAO(null);");var mn=Mr.global.def("{}"),Rn=Ar.def(Nr,".id"),gn=Ar.def(mn,"[",Rn,"]");Ar(Mr.cond(gn).then(gn,".call(this,a0);").else(gn,"=",mn,"[",Rn,"]=",Mr.link(function(un){return Or(ln,Mr,Fr,un,1)}),"(",Nr,");",gn,".call(this,a0);"))}0<Object.keys(Fr.state).length&&Ar(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Ar(Mr.shared.vao,".setVAO(null);")}function Mn(Mr,Fr,Ar,Nr){function mn(){return!0}Mr.batchId="a1",Sn(Mr,Fr),Tr(Mr,Fr,Ar,Nr.attributes,mn),zr(Mr,Fr,Ar,Nr.uniforms,mn,!1),Yr(Mr,Fr,Fr,Ar)}function Pn(Mr,Fr,Ar,Nr){function mn(qr){return qr.contextDep&&gn||qr.propDep}function Rn(qr){return!mn(qr)}Sn(Mr,Fr);var gn=Ar.contextDep,un=Fr.def(),Er=Fr.def();Mr.shared.props=Er,Mr.batchId=un;var Zr=Mr.scope(),Gr=Mr.scope();Fr(Zr.entry,"for(",un,"=0;",un,"<","a1",";++",un,"){",Er,"=","a0","[",un,"];",Gr,"}",Zr.exit),Ar.needsContext&&Pr(Mr,Gr,Ar.context),Ar.needsFramebuffer&&Rr(Mr,Gr,Ar.framebuffer),tn(Mr,Gr,Ar.state,mn),Ar.profile&&mn(Ar.profile)&&Tn(Mr,Gr,Ar,!1,!0),Nr?(Ar.useVAO?Ar.drawVAO?mn(Ar.drawVAO)?Gr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Gr),");"):Zr(Mr.shared.vao,".setVAO(",Ar.drawVAO.append(Mr,Zr),");"):Zr(Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"):(Zr(Mr.shared.vao,".setVAO(null);"),Tr(Mr,Zr,Ar,Nr.attributes,Rn),Tr(Mr,Gr,Ar,Nr.attributes,mn)),zr(Mr,Zr,Ar,Nr.uniforms,Rn,!1),zr(Mr,Gr,Ar,Nr.uniforms,mn,!0),Yr(Mr,Zr,Gr,Ar)):(Fr=Mr.global.def("{}"),Nr=Ar.shader.progVar.append(Mr,Gr),Er=Gr.def(Nr,".id"),Zr=Gr.def(Fr,"[",Er,"]"),Gr(Mr.shared.gl,".useProgram(",Nr,".program);","if(!",Zr,"){",Zr,"=",Fr,"[",Er,"]=",Mr.link(function(qr){return Or(Mn,Mr,Ar,qr,2)}),"(",Nr,");}",Zr,".call(this,a0[",un,"],",un,");"))}function Vn(Mr,Fr){function Ar(Zr){return Zr.contextDep&&mn||Zr.propDep}var Nr=Mr.proc("batch",2);Mr.batchId="0",Sn(Mr,Nr);var mn=!1,Rn=!0;Object.keys(Fr.context).forEach(function(Zr){mn=mn||Fr.context[Zr].propDep}),mn||(Pr(Mr,Nr,Fr.context),Rn=!1);var gn=Fr.framebuffer,un=!1;if(gn?(gn.propDep?mn=un=!0:gn.contextDep&&mn&&(un=!0),un||Rr(Mr,Nr,gn)):Rr(Mr,Nr,null),Fr.state.viewport&&Fr.state.viewport.propDep&&(mn=!0),an(Mr,Nr,Fr),tn(Mr,Nr,Fr.state,function(Zr){return!Ar(Zr)}),Fr.profile&&Ar(Fr.profile)||Tn(Mr,Nr,Fr,!1,"a1"),Fr.contextDep=mn,Fr.needsContext=Rn,Fr.needsFramebuffer=un,Rn=Fr.shader.progVar,Rn.contextDep&&mn||Rn.propDep)Pn(Mr,Nr,Fr,null);else if(Rn=Rn.append(Mr,Nr),Nr(Mr.shared.gl,".useProgram(",Rn,".program);"),Fr.shader.program)Pn(Mr,Nr,Fr,Fr.shader.program);else{Nr(Mr.shared.vao,".setVAO(null);");var gn=Mr.global.def("{}"),un=Nr.def(Rn,".id"),Er=Nr.def(gn,"[",un,"]");Nr(Mr.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",gn,"[",un,"]=",Mr.link(function(qr){return Or(Pn,Mr,Fr,qr,2)}),"(",Rn,");",Er,".call(this,a0,a1);"))}0<Object.keys(Fr.state).length&&Nr(Mr.shared.current,".dirty=true;"),Mr.shared.vao&&Nr(Mr.shared.vao,".setVAO(null);")}function ia(Mr,Fr){function Ar(un){var Er=Fr.shader[un];Er&&(Er=Er.append(Mr,Nr),isNaN(Er)?Nr.set(mn.shader,"."+un,Er):Nr.set(mn.shader,"."+un,Mr.link(Er,{stable:!0})))}var Nr=Mr.proc("scope",3);Mr.batchId="a2";var mn=Mr.shared,Rn=mn.current;if(Pr(Mr,Nr,Fr.context),Fr.framebuffer&&Fr.framebuffer.append(Mr,Nr),ie(Object.keys(Fr.state)).forEach(function(un){var Er=Fr.state[un],Zr=Er.append(Mr,Nr);w(Zr)?Zr.forEach(function(Gr,qr){isNaN(Gr)?Nr.set(Mr.next[un],"["+qr+"]",Gr):Nr.set(Mr.next[un],"["+qr+"]",Mr.link(Gr,{stable:!0}))}):Q(Er)?Nr.set(mn.next,"."+un,Mr.link(Zr,{stable:!0})):Nr.set(mn.next,"."+un,Zr)}),Tn(Mr,Nr,Fr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(un){var Er=Fr.draw[un];Er&&(Er=Er.append(Mr,Nr),isNaN(Er)?Nr.set(mn.draw,"."+un,Er):Nr.set(mn.draw,"."+un,Mr.link(Er),{stable:!0}))}),Object.keys(Fr.uniforms).forEach(function(un){var Er=Fr.uniforms[un].append(Mr,Nr);Array.isArray(Er)&&(Er="["+Er.map(function(Zr){return isNaN(Zr)?Zr:Mr.link(Zr,{stable:!0})})+"]"),Nr.set(mn.uniforms,"["+Mr.link(Zt.id(un),{stable:!0})+"]",Er)}),Object.keys(Fr.attributes).forEach(function(un){var Er=Fr.attributes[un].append(Mr,Nr),Zr=Mr.scopeAttrib(un);Object.keys(new Gn).forEach(function(Gr){Nr.set(Zr,"."+Gr,Er[Gr])})}),Fr.scopeVAO){var gn=Fr.scopeVAO.append(Mr,Nr);isNaN(gn)?Nr.set(mn.vao,".targetVAO",gn):Nr.set(mn.vao,".targetVAO",Mr.link(gn,{stable:!0}))}Ar("vert"),Ar("frag"),0<Object.keys(Fr.state).length&&(Nr(Rn,".dirty=true;"),Nr.exit(Rn,".dirty=true;")),Nr("a1(",Mr.shared.context,",a0,",Mr.batchId,");")}function ya(Mr){if(typeof Mr=="object"&&!w(Mr)){for(var Fr=Object.keys(Mr),Ar=0;Ar<Fr.length;++Ar)if(ge.isDynamic(Mr[Fr[Ar]]))return!0;return!1}}function wa(Mr,Fr,Ar){function Nr(qr,wn){gn.forEach(function(zn){var En=mn[zn];ge.isDynamic(En)&&(En=qr.invoke(wn,En),wn(Gr,".",zn,"=",En,";"))})}var mn=Fr.static[Ar];if(mn&&ya(mn)){var Rn=Mr.global,gn=Object.keys(mn),un=!1,Er=!1,Zr=!1,Gr=Mr.global.def("{}");gn.forEach(function(qr){var wn=mn[qr];if(ge.isDynamic(wn))typeof wn=="function"&&(wn=mn[qr]=ge.unbox(wn)),qr=X(wn,null),un=un||qr.thisDep,Zr=Zr||qr.propDep,Er=Er||qr.contextDep;else{switch(Rn(Gr,".",qr,"="),typeof wn){case"number":Rn(wn);break;case"string":Rn('"',wn,'"');break;case"object":Array.isArray(wn)&&Rn("[",wn.join(),"]");break;default:Rn(Mr.link(wn))}Rn(";")}}),Fr.dynamic[Ar]=new ge.DynamicVariable(4,{thisDep:un,contextDep:Er,propDep:Zr,ref:Gr,append:Nr}),delete Fr.static[Ar]}}var Gn=Dt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};Kt.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var mr=Kt.angle_instanced_arrays,en=Kt.webgl_draw_buffers,Jr=Kt.oes_vertex_array_object,vn={dirty:!0,profile:hr.profile},On={},bn=[],An={},Fn={};Ye("dither",3024),Ye("blend.enable",3042),Ue("blend.color","blendColor",[0,0,0,0]),Ue("blend.equation","blendEquationSeparate",[32774,32774]),Ue("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),Ue("depth.func","depthFunc",513),Ue("depth.range","depthRange",[0,1]),Ue("depth.mask","depthMask",!0),Ue("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),Ue("cull.face","cullFace",1029),Ue("frontFace","frontFace",2305),Ue("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),Ue("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),Ue("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),Ue("stencil.mask","stencilMask",-1),Ue("stencil.func","stencilFunc",[519,0,-1]),Ue("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ue("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),Ue("scissor.box","scissor",[0,0,vt.drawingBufferWidth,vt.drawingBufferHeight]),Ue("viewport","viewport",[0,0,vt.drawingBufferWidth,vt.drawingBufferHeight]);var $n={gl:vt,context:Ut,strings:Zt,next:On,current:vn,draw:Bt,elements:mt,buffer:or,shader:Ht,attributes:Dt.state,vao:Dt,uniforms:Ct,framebuffer:bt,extensions:Kt,timer:Jt,isBufferArgs:K},ha={primTypes:Je,compareFuncs:Pt,blendFuncs:Wt,blendEquations:Qn,stencilOps:dt,glTypes:Ie,orientationType:Mt};en&&(ha.backBuffer=[1029],ha.drawBuffer=i(yr.maxDrawbuffers,function(Mr){return Mr===0?[0]:i(Mr,function(Fr){return 36064+Fr})}));var Ia=0;return{next:On,current:vn,procs:function(){var Mr=Ot(),Fr=Mr.proc("poll"),Ar=Mr.proc("refresh"),Nr=Mr.block();Fr(Nr),Ar(Nr);var Er=Mr.shared,mn=Er.gl,Rn=Er.next,gn=Er.current;Nr(gn,".dirty=false;"),Rr(Mr,Fr),Rr(Mr,Ar,null,!0);var un;mr&&(un=Mr.link(mr)),Kt.oes_vertex_array_object&&Ar(Mr.link(Kt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Ar.def(Er.attributes),Zr=Ar.def(0),Gr=Mr.cond(Zr,".buffer");Gr.then(mn,".enableVertexAttribArray(i);",mn,".bindBuffer(",34962,",",Zr,".buffer.buffer);",mn,".vertexAttribPointer(i,",Zr,".size,",Zr,".type,",Zr,".normalized,",Zr,".stride,",Zr,".offset);").else(mn,".disableVertexAttribArray(i);",mn,".vertexAttrib4f(i,",Zr,".x,",Zr,".y,",Zr,".z,",Zr,".w);",Zr,".buffer=null;");var qr=Mr.link(yr.maxAttributes,{stable:!0});return Ar("for(var i=0;i<",qr,";++i){",Zr,"=",Er,"[i];",Gr,"}"),mr&&Ar("for(var i=0;i<",qr,";++i){",un,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Ar(Mr.shared.vao,".currentVAO=null;",Mr.shared.vao,".setVAO(",Mr.shared.vao,".targetVAO);"),Object.keys(An).forEach(function(wn){var zn=An[wn],En=Nr.def(Rn,".",wn),Un=Mr.block();Un("if(",En,"){",mn,".enable(",zn,")}else{",mn,".disable(",zn,")}",gn,".",wn,"=",En,";"),Ar(Un),Fr("if(",En,"!==",gn,".",wn,"){",Un,"}")}),Object.keys(Fn).forEach(function(wn){var zn=Fn[wn],En=vn[wn],Un,Nn,va=Mr.block();va(mn,".",zn,"("),w(En)?(zn=En.length,Un=Mr.global.def(Rn,".",wn),Nn=Mr.global.def(gn,".",wn),va(i(zn,function(sa){return Un+"["+sa+"]"}),");",i(zn,function(sa){return Nn+"["+sa+"]="+Un+"["+sa+"];"}).join("")),Fr("if(",i(zn,function(sa){return Un+"["+sa+"]!=="+Nn+"["+sa+"]"}).join("||"),"){",va,"}")):(Un=Nr.def(Rn,".",wn),Nn=Nr.def(gn,".",wn),va(Un,");",gn,".",wn,"=",Un,";"),Fr("if(",Un,"!==",Nn,"){",va,"}")),Ar(va)}),Mr.compile()}(),compile:function(Mr,Fr,Ar,Nr,mn){var Rn=Ot();Rn.stats=Rn.link(mn),Object.keys(Fr.static).forEach(function(un){wa(Rn,Fr,un)}),st.forEach(function(un){wa(Rn,Mr,un)});var gn=Hr(Mr,Fr,Ar,Nr,Rn);return gn.shader.program&&(gn.shader.program.attributes.sort(function(un,Er){return un.name<Er.name?-1:1}),gn.shader.program.uniforms.sort(function(un,Er){return un.name<Er.name?-1:1})),fn(Rn,gn),ia(Rn,gn),Vn(Rn,gn),te(Rn.compile(),{destroy:function(){gn.shader.program.destroy()}})}}}function se(vt,Zt){for(var Kt=0;Kt<vt.length;++Kt)if(vt[Kt]===Zt)return Kt;return-1}var te=function(vt,Zt){for(var Kt=Object.keys(Zt),yr=0;yr<Kt.length;++yr)vt[Kt[yr]]=Zt[Kt[yr]];return vt},fe=0,ge={DynamicVariable:H,define:function(vt,Zt){return new H(vt,m(Zt+""))},isDynamic:function(vt){return typeof vt=="function"&&!vt._reglType||vt instanceof H},unbox:P,accessor:m},be={next:typeof requestAnimationFrame=="function"?function(vt){return requestAnimationFrame(vt)}:function(vt){return setTimeout(vt,16)},cancel:typeof cancelAnimationFrame=="function"?function(vt){return cancelAnimationFrame(vt)}:clearTimeout},xe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},_e=f();_e.zero=f();var De=function(vt,Zt){var Kt=1;Zt.ext_texture_filter_anisotropic&&(Kt=vt.getParameter(34047));var yr=1,or=1;Zt.webgl_draw_buffers&&(yr=vt.getParameter(34852),or=vt.getParameter(36063));var mt=!!Zt.oes_texture_float;if(mt){mt=vt.createTexture(),vt.bindTexture(3553,mt),vt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=vt.createFramebuffer();if(vt.bindFramebuffer(36160,lt),vt.framebufferTexture2D(36160,36064,3553,mt,0),vt.bindTexture(3553,null),vt.checkFramebufferStatus(36160)!==36053)mt=!1;else{vt.viewport(0,0,1,1),vt.clearColor(1,0,0,1),vt.clear(16384);var bt=_e.allocType(5126,4);vt.readPixels(0,0,1,1,6408,5126,bt),vt.getError()?mt=!1:(vt.deleteFramebuffer(lt),vt.deleteTexture(mt),mt=bt[0]===1),_e.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=vt.createTexture(),lt=_e.allocType(5121,36),vt.activeTexture(33984),vt.bindTexture(34067,bt),vt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),_e.freeType(lt),vt.bindTexture(34067,null),vt.deleteTexture(bt),bt=!vt.getError()),{colorBits:[vt.getParameter(3410),vt.getParameter(3411),vt.getParameter(3412),vt.getParameter(3413)],depthBits:vt.getParameter(3414),stencilBits:vt.getParameter(3415),subpixelBits:vt.getParameter(3408),extensions:Object.keys(Zt).filter(function(Ct){return!!Zt[Ct]}),maxAnisotropic:Kt,maxDrawbuffers:yr,maxColorAttachments:or,pointSizeDims:vt.getParameter(33901),lineWidthDims:vt.getParameter(33902),maxViewportDims:vt.getParameter(3386),maxCombinedTextureUnits:vt.getParameter(35661),maxCubeMapSize:vt.getParameter(34076),maxRenderbufferSize:vt.getParameter(34024),maxTextureUnits:vt.getParameter(34930),maxTextureSize:vt.getParameter(3379),maxAttributes:vt.getParameter(34921),maxVertexUniforms:vt.getParameter(36347),maxVertexTextureUnits:vt.getParameter(35660),maxVaryingVectors:vt.getParameter(36348),maxFragmentUniforms:vt.getParameter(36349),glsl:vt.getParameter(35724),renderer:vt.getParameter(7937),vendor:vt.getParameter(7936),version:vt.getParameter(7938),readFloat:mt,npotTextureCube:bt}},Fe=function(vt){return vt instanceof Uint8Array||vt instanceof Uint16Array||vt instanceof Uint32Array||vt instanceof Int8Array||vt instanceof Int16Array||vt instanceof Int32Array||vt instanceof Float32Array||vt instanceof Float64Array||vt instanceof Uint8ClampedArray},Te=function(vt){return Object.keys(vt).map(function(Zt){return vt[Zt]})},Re={shape:function(vt){for(var Zt=[];vt.length;vt=vt[0])Zt.push(vt.length);return Zt},flatten:function(vt,Zt,Kt,yr){var or=1;if(Zt.length)for(var mt=0;mt<Zt.length;++mt)or*=Zt[mt];else or=0;switch(Kt=yr||_e.allocType(Kt,or),Zt.length){case 0:break;case 1:for(yr=Zt[0],Zt=0;Zt<yr;++Zt)Kt[Zt]=vt[Zt];break;case 2:for(yr=Zt[0],Zt=Zt[1],mt=or=0;mt<yr;++mt)for(var lt=vt[mt],bt=0;bt<Zt;++bt)Kt[or++]=lt[bt];break;case 3:l(vt,Zt[0],Zt[1],Zt[2],Kt,0);break;default:g(vt,Zt,0,Kt,0)}return Kt}},Se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ie={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Me={dynamic:35048,stream:35040,static:35044},Ve=Re.flatten,et=Re.shape,it=[];it[5120]=1,it[5122]=2,it[5124]=4,it[5121]=1,it[5123]=2,it[5125]=4,it[5126]=4;var Je={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Qe=new Float32Array(1),ct=new Uint32Array(Qe.buffer),ht=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Tt={};Tt[6409]=Tt[6406]=Tt[6402]=1,Tt[34041]=Tt[6410]=2,Tt[6407]=Tt[35904]=3,Tt[6408]=Tt[35906]=4;var Et=C("HTMLCanvasElement"),rt=C("OffscreenCanvas"),ze=C("CanvasRenderingContext2D"),He=C("ImageBitmap"),Ge=C("HTMLImageElement"),We=C("HTMLVideoElement"),Le=Object.keys(Se).concat([Et,rt,ze,He,Ge,We]),Pe=[];Pe[5121]=1,Pe[5126]=4,Pe[36193]=2,Pe[5123]=2,Pe[5125]=4;var je=[];je[32854]=2,je[32855]=2,je[36194]=2,je[34041]=4,je[33776]=.5,je[33777]=.5,je[33778]=1,je[33779]=1,je[35986]=.5,je[35987]=1,je[34798]=1,je[35840]=.5,je[35841]=.25,je[35842]=.5,je[35843]=.25,je[36196]=.5;var Ce=[];Ce[32854]=2,Ce[32855]=2,Ce[36194]=2,Ce[33189]=2,Ce[36168]=1,Ce[34041]=4,Ce[35907]=4,Ce[34836]=16,Ce[34842]=8,Ce[34843]=6;var he=function(vt,Zt,Kt,yr,or){function mt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function lt(Bt){var Ut=Bt.renderbuffer;vt.bindRenderbuffer(36161,null),vt.deleteRenderbuffer(Ut),Bt.renderbuffer=null,Bt.refCount=0,delete Ht[Bt.id],yr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(bt.srgba=35907),Zt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Zt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Ct=[];Object.keys(bt).forEach(function(Bt){Ct[bt[Bt]]=Bt});var Dt=0,Ht={};return mt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},or.profile&&(yr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Ht).forEach(function(Ut){Bt+=Ht[Ut].stats.size}),Bt}),{create:function(Bt,Ut){function Jt(hr,pr){var Ye=0,Ue=0,Ot=32854;if(typeof hr=="object"&&hr?("shape"in hr?(Ue=hr.shape,Ye=Ue[0]|0,Ue=Ue[1]|0):("radius"in hr&&(Ye=Ue=hr.radius|0),"width"in hr&&(Ye=hr.width|0),"height"in hr&&(Ue=hr.height|0)),"format"in hr&&(Ot=bt[hr.format])):typeof hr=="number"?(Ye=hr|0,Ue=typeof pr=="number"?pr|0:Ye):hr||(Ye=Ue=1),Ye!==cr.width||Ue!==cr.height||Ot!==cr.format)return Jt.width=cr.width=Ye,Jt.height=cr.height=Ue,cr.format=Ot,vt.bindRenderbuffer(36161,cr.renderbuffer),vt.renderbufferStorage(36161,Ot,Ye,Ue),or.profile&&(cr.stats.size=Ce[cr.format]*cr.width*cr.height),Jt.format=Ct[cr.format],Jt}var cr=new mt(vt.createRenderbuffer());return Ht[cr.id]=cr,yr.renderbufferCount++,Jt(Bt,Ut),Jt.resize=function(hr,pr){var Ye=hr|0,Ue=pr|0||Ye;return Ye===cr.width&&Ue===cr.height||(Jt.width=cr.width=Ye,Jt.height=cr.height=Ue,vt.bindRenderbuffer(36161,cr.renderbuffer),vt.renderbufferStorage(36161,cr.format,Ye,Ue),or.profile&&(cr.stats.size=Ce[cr.format]*cr.width*cr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=cr,or.profile&&(Jt.stats=cr.stats),Jt.destroy=function(){cr.decRef()},Jt},clear:function(){Te(Ht).forEach(lt)},restore:function(){Te(Ht).forEach(function(Bt){Bt.renderbuffer=vt.createRenderbuffer(),vt.bindRenderbuffer(36161,Bt.renderbuffer),vt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),vt.bindRenderbuffer(36161,null)}}},me=[];me[6408]=4,me[6407]=3;var Ne=[];Ne[5121]=1,Ne[5126]=4,Ne[36193]=2;var $e=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ot=["x","y","z","w"],st="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},dt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Mt={cw:2304,ccw:2305},Xt=new Y(!1,!1,!1,function(){}),nr=function(vt,Zt){function Kt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Ht,Bt,Ut){var Jt=lt.pop()||new Kt;Jt.startQueryIndex=Ht,Jt.endQueryIndex=Bt,Jt.sum=0,Jt.stats=Ut,bt.push(Jt)}if(!Zt.ext_disjoint_timer_query)return null;var or=[],mt=[],lt=[],bt=[],Ct=[],Dt=[];return{beginQuery:function(Ht){var Bt=or.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),mt.push(Bt),yr(mt.length-1,mt.length,Ht)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Ht,Bt;if(Ht=mt.length,Ht!==0){Dt.length=Math.max(Dt.length,Ht+1),Ct.length=Math.max(Ct.length,Ht+1),Ct[0]=0;var Ut=Dt[0]=0;for(Bt=Ht=0;Bt<mt.length;++Bt){var Jt=mt[Bt];Zt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Ut+=Zt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),or.push(Jt)):mt[Ht++]=Jt,Ct[Bt+1]=Ut,Dt[Bt+1]=Ht}for(mt.length=Ht,Bt=Ht=0;Bt<bt.length;++Bt){var Ut=bt[Bt],cr=Ut.startQueryIndex,Jt=Ut.endQueryIndex;Ut.sum+=Ct[Jt]-Ct[cr],cr=Dt[cr],Jt=Dt[Jt],Jt===cr?(Ut.stats.gpuTime+=Ut.sum/1e6,lt.push(Ut)):(Ut.startQueryIndex=cr,Ut.endQueryIndex=Jt,bt[Ht++]=Ut)}bt.length=Ht}},getNumPendingQueries:function(){return mt.length},clear:function(){or.push.apply(or,mt);for(var Ht=0;Ht<or.length;Ht++)Zt.ext_disjoint_timer_query.deleteQueryEXT(or[Ht]);mt.length=0,or.length=0},restore:function(){mt.length=0,or.length=0}}};return function(vt){function Zt(){if(Tn.length===0)Ot&&Ot.update(),Or=null;else{Or=be.next(Zt),Ht();for(var fn=Tn.length-1;0<=fn;--fn){var Mn=Tn[fn];Mn&&Mn(lr,null,0)}Jt.flush(),Ot&&Ot.update()}}function Kt(){!Or&&0<Tn.length&&(Or=be.next(Zt))}function yr(){Or&&(be.cancel(Zt),Or=null)}function or(fn){fn.preventDefault(),yr(),Tr.forEach(function(Mn){Mn()})}function mt(fn){Jt.getError(),hr.restore(),xr.restore(),Nt.restore(),dr.restore(),Hr.restore(),Pr.restore(),vr.restore(),Ot&&Ot.restore(),Rr.procs.refresh(),Kt(),zr.forEach(function(Mn){Mn()})}function lt(fn){function Mn(vn,On){var bn={},An={};return Object.keys(vn).forEach(function(Fn){var $n=vn[Fn];if(ge.isDynamic($n))An[Fn]=ge.unbox($n,Fn);else{if(On&&Array.isArray($n)){for(var ha=0;ha<$n.length;++ha)if(ge.isDynamic($n[ha])){An[Fn]=ge.unbox($n,Fn);return}}bn[Fn]=$n}}),{dynamic:An,static:bn}}function Pn(vn){for(;Jr.length<vn;)Jr.push(null);return Jr}var Vn=Mn(fn.context||{},!0),ia=Mn(fn.uniforms||{},!0),ya=Mn(fn.attributes||{},!1);fn=Mn(function(vn){function On(An){if(An in bn){var Fn=bn[An];delete bn[An],Object.keys(Fn).forEach(function($n){bn[An+"."+$n]=Fn[$n]})}}var bn=te({},vn);return delete bn.uniforms,delete bn.attributes,delete bn.context,delete bn.vao,"stencil"in bn&&bn.stencil.op&&(bn.stencil.opBack=bn.stencil.opFront=bn.stencil.op,delete bn.stencil.op),On("blend"),On("depth"),On("cull"),On("stencil"),On("polygonOffset"),On("scissor"),On("sample"),"vao"in vn&&(bn.vao=vn.vao),bn}(fn),!1);var wa={gpuTime:0,cpuTime:0,count:0},Gn=Rr.compile(fn,ya,ia,Vn,wa),Qn=Gn.draw,mr=Gn.batch,en=Gn.scope,Jr=[];return te(function(vn,On){var bn;if(typeof vn=="function")return en.call(this,null,vn,0);if(typeof On=="function")if(typeof vn=="number")for(bn=0;bn<vn;++bn)en.call(this,null,On,bn);else if(Array.isArray(vn))for(bn=0;bn<vn.length;++bn)en.call(this,vn[bn],On,bn);else return en.call(this,vn,On,0);else if(typeof vn=="number"){if(0<vn)return mr.call(this,Pn(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return mr.call(this,vn,vn.length)}else return Qn.call(this,vn)},{stats:wa,destroy:function(){Gn.destroy()}})}function bt(fn,Mn){var Pn=0;Rr.procs.poll();var Vn=Mn.color;Vn&&(Jt.clearColor(+Vn[0]||0,+Vn[1]||0,+Vn[2]||0,+Vn[3]||0),Pn|=16384),"depth"in Mn&&(Jt.clearDepth(+Mn.depth),Pn|=256),"stencil"in Mn&&(Jt.clearStencil(Mn.stencil|0),Pn|=1024),Jt.clear(Pn)}function Ct(fn){return Tn.push(fn),Kt(),{cancel:function(){function Mn(){var Vn=se(Tn,Mn);Tn[Vn]=Tn[Tn.length-1],--Tn.length,0>=Tn.length&&yr()}var Pn=se(Tn,fn);Tn[Pn]=Mn}}}function Dt(){var fn=tn.viewport,Mn=tn.scissor_box;fn[0]=fn[1]=Mn[0]=Mn[1]=0,lr.viewportWidth=lr.framebufferWidth=lr.drawingBufferWidth=fn[2]=Mn[2]=Jt.drawingBufferWidth,lr.viewportHeight=lr.framebufferHeight=lr.drawingBufferHeight=fn[3]=Mn[3]=Jt.drawingBufferHeight}function Ht(){lr.tick+=1,lr.time=Ut(),Dt(),Rr.procs.poll()}function Bt(){dr.refresh(),Dt(),Rr.procs.refresh(),Ot&&Ot.update()}function Ut(){return(xe()-It)/1e3}if(vt=r(vt),!vt)return null;var Jt=vt.gl,cr=Jt.getContextAttributes();Jt.isContextLost();var hr=t(Jt,vt);if(!hr)return null;var an=s(),pr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=vt.cachedCode||{},Ue=hr.extensions,Ot=nr(Jt,Ue),It=xe(),fr=Jt.drawingBufferWidth,Qt=Jt.drawingBufferHeight,lr={tick:0,time:0,viewportWidth:fr,viewportHeight:Qt,framebufferWidth:fr,framebufferHeight:Qt,drawingBufferWidth:fr,drawingBufferHeight:Qt,pixelRatio:vt.pixelRatio},fr={elements:null,primitive:4,count:-1,offset:0,instances:-1},er=De(Jt,Ue),Nt=a(Jt,pr,vt,function(fn){return vr.destroyBuffer(fn)}),ir=d(Jt,Ue,Nt,pr),vr=k(Jt,Ue,er,pr,Nt,ir,fr),xr=O(Jt,an,pr,vt),dr=I(Jt,Ue,er,function(){Rr.procs.poll()},lr,pr,vt),Hr=he(Jt,Ue,er,pr,vt),Pr=D(Jt,Ue,er,dr,Hr,pr),Rr=j(Jt,an,Ue,er,Nt,ir,dr,Pr,{},vr,xr,fr,lr,Ot,Ye,vt),an=F(Jt,Pr,Rr.procs.poll,lr),tn=Rr.next,Sn=Jt.canvas,Tn=[],Tr=[],zr=[],Yr=[vt.onDestroy],Or=null;Sn&&(Sn.addEventListener("webglcontextlost",or,!1),Sn.addEventListener("webglcontextrestored",mt,!1));var ln=Pr.setFBO=lt({framebuffer:ge.define.call(null,1,"framebuffer")});return Bt(),cr=te(lt,{clear:function(fn){if("framebuffer"in fn)if(fn.framebuffer&&fn.framebuffer_reglType==="framebufferCube")for(var Mn=0;6>Mn;++Mn)ln(te({framebuffer:fn.framebuffer.faces[Mn]},fn),bt);else ln(fn,bt);else bt(null,fn)},prop:ge.define.bind(null,1),context:ge.define.bind(null,2),this:ge.define.bind(null,3),draw:lt({}),buffer:function(fn){return Nt.create(fn,34962,!1,!1)},elements:function(fn){return ir.create(fn,!1)},texture:dr.create2D,cube:dr.createCube,renderbuffer:Hr.create,framebuffer:Pr.create,framebufferCube:Pr.createCube,vao:vr.createVAO,attributes:cr,frame:Ct,on:function(fn,Mn){var Pn;switch(fn){case"frame":return Ct(Mn);case"lost":Pn=Tr;break;case"restore":Pn=zr;break;case"destroy":Pn=Yr}return Pn.push(Mn),{cancel:function(){for(var Vn=0;Vn<Pn.length;++Vn)if(Pn[Vn]===Mn){Pn[Vn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:er,hasExtension:function(fn){return 0<=er.extensions.indexOf(fn.toLowerCase())},read:an,destroy:function(){Tn.length=0,yr(),Sn&&(Sn.removeEventListener("webglcontextlost",or),Sn.removeEventListener("webglcontextrestored",mt)),xr.clear(),Pr.clear(),Hr.clear(),vr.clear(),dr.clear(),ir.clear(),Nt.clear(),Ot&&Ot.clear(),Yr.forEach(function(fn){fn()})},_gl:Jt,_refresh:Bt,poll:function(){Ht(),Ot&&Ot.update()},now:Ut,stats:pr,getCachedCode:function(){return Ye},preloadCachedCode:function(fn){Object.entries(fn).forEach(function(Mn){Ye[Mn[0]]=Mn[1]})}}),vt.onDone(null,cr),cr}})},30456:function(G,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=e(33576),P=m.Buffer;function s(S,v){for(var p in S)v[p]=S[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?G.exports=m:(s(m,H),H.Buffer=L);function L(S,v,p){return P(S,v,p)}L.prototype=Object.create(P.prototype),s(P,L),L.from=function(S,v,p){if(typeof S=="number")throw new TypeError("Argument must not be a number");return P(S,v,p)},L.alloc=function(S,v,p){if(typeof S!="number")throw new TypeError("Argument must be a number");var r=P(S);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},L.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return P(S)},L.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(S)}},14500:function(G,H,e){var m=e(53664),P=e(64348),s=e(39640)(),L=e(2304),S=m("%TypeError%"),v=m("%Math.floor%");G.exports=function(r,t){if(typeof r!="function")throw new S("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new S("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&L){var u=L(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(f=!1)}return(n||f||!i)&&(s?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(G,H,e){G.exports=s;var m=e(61252).EventEmitter,P=e(6768);P(s,m),s.Readable=e(12348),s.Writable=e(11288),s.Duplex=e(15316),s.Transform=e(22477),s.PassThrough=e(27136),s.finished=e(15932),s.pipeline=e(38180),s.Stream=s;function s(){m.call(this)}s.prototype.pipe=function(L,S){var v=this;function p(l){L.writable&&L.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!S||S.end!==!1)&&(v.on("end",i),v.on("close",n));var t=!1;function i(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function f(l){if(u(),m.listenerCount(this,"error")===0)throw l}v.on("error",f),L.on("error",f);function u(){v.removeListener("data",p),L.removeListener("drain",r),v.removeListener("end",i),v.removeListener("close",n),v.removeListener("error",f),L.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),L.removeListener("close",u)}return v.on("end",u),v.on("close",u),L.on("close",u),L.emit("pipe",v),L}},92784:function(G){function H(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function m(v,p,r){r||(r=Error);function t(n,f,u){return typeof p=="string"?p:p(n,f,u)}var i=function(n){H(f,n);function f(u,l,g){return n.call(this,t(u,l,g))||this}return f}(r);i.prototype.name=r.name,i.prototype.code=v,e[v]=i}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function s(v,p,r){return v.substr(0,p.length)===p}function L(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function S(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}m("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),m("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&s(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var i;if(L(v," argument"))i="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=S(v,".")?"property":"argument";i='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),m("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),m("ERR_STREAM_PREMATURE_CLOSE","Premature close"),m("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),m("ERR_STREAM_WRITE_AFTER_END","write after end"),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.i=e},15316:function(G,H,e){var m=e(4168),P=Object.keys||function(n){var f=[];for(var u in n)f.push(u);return f};G.exports=r;var s=e(12348),L=e(11288);e(6768)(r,s);for(var S=P(L.prototype),v=0;v<S.length;v++){var p=S[v];r.prototype[p]||(r.prototype[p]=L.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);s.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||m.nextTick(i,this)}function i(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(G,H,e){G.exports=P;var m=e(22477);e(6768)(P,m);function P(s){if(!(this instanceof P))return new P(s);m.call(this,s)}P.prototype._transform=function(s,L,S){S(null,s)}},12348:function(G,H,e){var m=e(4168);G.exports=o;var P;o.ReadableState=A,e(61252).EventEmitter;var s=function(j,se){return j.listeners(se).length},L=e(4776),S=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(X){return S.from(X)}function r(X){return S.isBuffer(X)||X instanceof v}var t=e(19768),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var n=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,g=e(92784).i,h=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,c=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,w;e(6768)(o,L);var C=f.errorOrDestroy,y=["error","close","destroy","pause","resume"];function M(X,j,se){if(typeof X.prependListener=="function")return X.prependListener(j,se);!X._events||!X._events[j]?X.on(j,se):Array.isArray(X._events[j])?X._events[j].unshift(se):X._events[j]=[se,X._events[j]]}function A(X,j,se){P=P||e(15316),X=X||{},typeof se!="boolean"&&(se=j instanceof P),this.objectMode=!!X.objectMode,se&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=l(this,X,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(d||(d=e(86032).o),this.decoder=new d(X.encoding),this.encoding=X.encoding)}function o(X){if(P=P||e(15316),!(this instanceof o))return new o(X);var j=this instanceof P;this._readableState=new A(X,this,j),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),L.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),o.prototype.destroy=f.destroy,o.prototype._undestroy=f.undestroy,o.prototype._destroy=function(X,j){j(X)},o.prototype.push=function(X,j){var se=this._readableState,te;return se.objectMode?te=!0:typeof X=="string"&&(j=j||se.defaultEncoding,j!==se.encoding&&(X=S.from(X,j),j=""),te=!0),E(this,X,j,!1,te)},o.prototype.unshift=function(X){return E(this,X,null,!0,!1)};function E(X,j,se,te,fe){i("readableAddChunk",j);var ge=X._readableState;if(j===null)ge.reading=!1,O(X,ge);else{var be;if(fe||(be=I(ge,j)),be)C(X,be);else if(ge.objectMode||j&&j.length>0)if(typeof j!="string"&&!ge.objectMode&&Object.getPrototypeOf(j)!==S.prototype&&(j=p(j)),te)ge.endEmitted?C(X,new a):b(X,ge,j,!0);else if(ge.ended)C(X,new T);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(j=ge.decoder.write(j),ge.objectMode||j.length!==0?b(X,ge,j,!1):B(X,ge)):b(X,ge,j,!1)}else te||(ge.reading=!1,B(X,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function b(X,j,se,te){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,X.emit("data",se)):(j.length+=j.objectMode?1:se.length,te?j.buffer.unshift(se):j.buffer.push(se),j.needReadable&&F(X)),B(X,j)}function I(X,j){var se;return!r(j)&&typeof j!="string"&&j!==void 0&&!X.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],j)),se}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(X){d||(d=e(86032).o);var j=new d(X);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,te="";se!==null;)te+=j.write(se.data),se=se.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var D=1073741824;function N(X){return X>=D?X=D:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function k(X,j){return X<=0||j.length===0&&j.ended?0:j.objectMode?1:X!==X?j.flowing&&j.length?j.buffer.head.data.length:j.length:(X>j.highWaterMark&&(j.highWaterMark=N(X)),X<=j.length?X:j.ended?j.length:(j.needReadable=!0,0))}o.prototype.read=function(X){i("read",X),X=parseInt(X,10);var j=this._readableState,se=X;if(X!==0&&(j.emittedReadable=!1),X===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return i("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Y(this):F(this),null;if(X=k(X,j),X===0&&j.ended)return j.length===0&&Y(this),null;var te=j.needReadable;i("need readable",te),(j.length===0||j.length-X<j.highWaterMark)&&(te=!0,i("length less than watermark",te)),j.ended||j.reading?(te=!1,i("reading or ended",te)):te&&(i("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(X=k(se,j)));var fe;return X>0?fe=ie(X,j):fe=null,fe===null?(j.needReadable=j.length<=j.highWaterMark,X=0):(j.length-=X,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),se!==X&&j.ended&&Y(this)),fe!==null&&this.emit("data",fe),fe};function O(X,j){if(i("onEofChunk"),!j.ended){if(j.decoder){var se=j.decoder.end();se&&se.length&&(j.buffer.push(se),j.length+=j.objectMode?1:se.length)}j.ended=!0,j.sync?F(X):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,z(X)))}}function F(X){var j=X._readableState;i("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(i("emitReadable",j.flowing),j.emittedReadable=!0,m.nextTick(z,X))}function z(X){var j=X._readableState;i("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(X.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,K(X)}function B(X,j){j.readingMore||(j.readingMore=!0,m.nextTick(W,X,j))}function W(X,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var se=j.length;if(i("maybeReadMore read 0"),X.read(0),se===j.length)break}j.readingMore=!1}o.prototype._read=function(X){C(this,new c("_read()"))},o.prototype.pipe=function(X,j){var se=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=X;break;case 1:te.pipes=[te.pipes,X];break;default:te.pipes.push(X);break}te.pipesCount+=1,i("pipe count=%d opts=%j",te.pipesCount,j);var fe=(!j||j.end!==!1)&&X!==m.stdout&&X!==m.stderr,ge=fe?xe:Me;te.endEmitted?m.nextTick(ge):se.once("end",ge),X.on("unpipe",be);function be(Ve,et){i("onunpipe"),Ve===se&&et&&et.hasUnpiped===!1&&(et.hasUnpiped=!0,Fe())}function xe(){i("onend"),X.end()}var _e=J(se);X.on("drain",_e);var De=!1;function Fe(){i("cleanup"),X.removeListener("close",Se),X.removeListener("finish",Ie),X.removeListener("drain",_e),X.removeListener("error",Re),X.removeListener("unpipe",be),se.removeListener("end",xe),se.removeListener("end",Me),se.removeListener("data",Te),De=!0,te.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&_e()}se.on("data",Te);function Te(Ve){i("ondata");var et=X.write(Ve);i("dest.write",et),et===!1&&((te.pipesCount===1&&te.pipes===X||te.pipesCount>1&&oe(te.pipes,X)!==-1)&&!De&&(i("false write response, pause",te.awaitDrain),te.awaitDrain++),se.pause())}function Re(Ve){i("onerror",Ve),Me(),X.removeListener("error",Re),s(X,"error")===0&&C(X,Ve)}M(X,"error",Re);function Se(){X.removeListener("finish",Ie),Me()}X.once("close",Se);function Ie(){i("onfinish"),X.removeListener("close",Se),Me()}X.once("finish",Ie);function Me(){i("unpipe"),se.unpipe(X)}return X.emit("pipe",se),te.flowing||(i("pipe resume"),se.resume()),X};function J(X){return function(){var se=X._readableState;i("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&s(X,"data")&&(se.flowing=!0,K(X))}}o.prototype.unpipe=function(X){var j=this._readableState,se={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return X&&X!==j.pipes?this:(X||(X=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,X&&X.emit("unpipe",this,se),this);if(!X){var te=j.pipes,fe=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var ge=0;ge<fe;ge++)te[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var be=oe(j.pipes,X);return be===-1?this:(j.pipes.splice(be,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),X.emit("unpipe",this,se),this)},o.prototype.on=function(X,j){var se=L.prototype.on.call(this,X,j),te=this._readableState;return X==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):X==="readable"&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,i("on readable",te.length,te.reading),te.length?F(this):te.reading||m.nextTick(ne,this)),se},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(X,j){var se=L.prototype.removeListener.call(this,X,j);return X==="readable"&&m.nextTick(re,this),se},o.prototype.removeAllListeners=function(X){var j=L.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&m.nextTick(re,this),j};function re(X){var j=X._readableState;j.readableListening=X.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:X.listenerCount("data")>0&&X.resume()}function ne(X){i("readable nexttick read 0"),X.read(0)}o.prototype.resume=function(){var X=this._readableState;return X.flowing||(i("resume"),X.flowing=!X.readableListening,le(this,X)),X.paused=!1,this};function le(X,j){j.resumeScheduled||(j.resumeScheduled=!0,m.nextTick($,X,j))}function $(X,j){i("resume",j.reading),j.reading||X.read(0),j.resumeScheduled=!1,X.emit("resume"),K(X),j.flowing&&!j.reading&&X.read(0)}o.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(X){var j=X._readableState;for(i("flow",j.flowing);j.flowing&&X.read()!==null;);}o.prototype.wrap=function(X){var j=this,se=this._readableState,te=!1;X.on("end",function(){if(i("wrapped end"),se.decoder&&!se.ended){var be=se.decoder.end();be&&be.length&&j.push(be)}j.push(null)}),X.on("data",function(be){if(i("wrapped data"),se.decoder&&(be=se.decoder.write(be)),!(se.objectMode&&be==null)&&!(!se.objectMode&&(!be||!be.length))){var xe=j.push(be);xe||(te=!0,X.pause())}});for(var fe in X)this[fe]===void 0&&typeof X[fe]=="function"&&(this[fe]=function(xe){return function(){return X[xe].apply(X,arguments)}}(fe));for(var ge=0;ge<y.length;ge++)X.on(y[ge],this.emit.bind(this,y[ge]));return this._read=function(be){i("wrapped _read",be),te&&(te=!1,X.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),o._fromList=ie,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ie(X,j){if(j.length===0)return null;var se;return j.objectMode?se=j.buffer.shift():!X||X>=j.length?(j.decoder?se=j.buffer.join(""):j.buffer.length===1?se=j.buffer.first():se=j.buffer.concat(j.length),j.buffer.clear()):se=j.buffer.consume(X,j.decoder),se}function Y(X){var j=X._readableState;i("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,m.nextTick(Q,j,X))}function Q(X,j){if(i("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,j.readable=!1,j.emit("end"),X.autoDestroy)){var se=j._writableState;(!se||se.autoDestroy&&se.finished)&&j.destroy()}}typeof Symbol=="function"&&(o.from=function(X,j){return w===void 0&&(w=e(90555)),w(o,X,j)});function oe(X,j){for(var se=0,te=X.length;se<te;se++)if(X[se]===j)return se;return-1}},22477:function(G,H,e){G.exports=r;var m=e(92784).i,P=m.ERR_METHOD_NOT_IMPLEMENTED,s=m.ERR_MULTIPLE_CALLBACK,L=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=m.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new s);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){i(n,f,u)}):i(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,u){u(new P("_transform()"))},r.prototype._write=function(n,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=f,!l.transforming){var g=this._readableState;(l.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(u){f(u)})};function i(n,f,u){if(f)return n.emit("error",f);if(u!=null&&n.push(u),n._writableState.length)throw new S;if(n._transformState.transforming)throw new L;return n.push(null)}},11288:function(G,H,e){var m=e(4168);G.exports=A;function P(K){var ie=this;this.next=null,this.entry=null,this.finish=function(){$(ie,K)}}var s;A.WritableState=y;var L={deprecate:e(96656)},S=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(K){return v.from(K)}function t(K){return v.isBuffer(K)||K instanceof p}var i=e(55324),n=e(24888),f=n.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,g=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,a=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,x=u.ERR_UNKNOWN_ENCODING,w=i.errorOrDestroy;e(6768)(A,S);function C(){}function y(K,ie,Y){s=s||e(15316),K=K||{},typeof Y!="boolean"&&(Y=ie instanceof s),this.objectMode=!!K.objectMode,Y&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=f(this,K,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=K.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){O(ie,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}y.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,Y=[];ie;)Y.push(ie),ie=ie.next;return Y},function(){try{Object.defineProperty(y.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(ie){return M.call(this,ie)?!0:this!==A?!1:ie&&ie._writableState instanceof y}})):M=function(ie){return ie instanceof this};function A(K){s=s||e(15316);var ie=this instanceof s;if(!ie&&!M.call(A,this))return new A(K);this._writableState=new y(K,this,ie),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),S.call(this)}A.prototype.pipe=function(){w(this,new T)};function o(K,ie){var Y=new d;w(K,Y),m.nextTick(ie,Y)}function E(K,ie,Y,Q){var oe;return Y===null?oe=new a:typeof Y!="string"&&!ie.objectMode&&(oe=new l("chunk",["string","Buffer"],Y)),oe?(w(K,oe),m.nextTick(Q,oe),!1):!0}A.prototype.write=function(K,ie,Y){var Q=this._writableState,oe=!1,X=!Q.objectMode&&t(K);return X&&!v.isBuffer(K)&&(K=r(K)),typeof ie=="function"&&(Y=ie,ie=null),X?ie="buffer":ie||(ie=Q.defaultEncoding),typeof Y!="function"&&(Y=C),Q.ending?o(this,Y):(X||E(this,Q,K,Y))&&(Q.pendingcb++,oe=I(this,Q,X,K,ie,Y)),oe},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&B(this,K))},A.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new x(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(K,ie,Y){return!K.objectMode&&K.decodeStrings!==!1&&typeof ie=="string"&&(ie=v.from(ie,Y)),ie}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(K,ie,Y,Q,oe,X){if(!Y){var j=b(ie,Q,oe);Q!==j&&(Y=!0,oe="buffer",Q=j)}var se=ie.objectMode?1:Q.length;ie.length+=se;var te=ie.length<ie.highWaterMark;if(te||(ie.needDrain=!0),ie.writing||ie.corked){var fe=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Q,encoding:oe,isBuf:Y,callback:X,next:null},fe?fe.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else D(K,ie,!1,se,Q,oe,X);return te}function D(K,ie,Y,Q,oe,X,j){ie.writelen=Q,ie.writecb=j,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new c("write")):Y?K._writev(oe,ie.onwrite):K._write(oe,X,ie.onwrite),ie.sync=!1}function N(K,ie,Y,Q,oe){--ie.pendingcb,Y?(m.nextTick(oe,Q),m.nextTick(ne,K,ie),K._writableState.errorEmitted=!0,w(K,Q)):(oe(Q),K._writableState.errorEmitted=!0,w(K,Q),ne(K,ie))}function k(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function O(K,ie){var Y=K._writableState,Q=Y.sync,oe=Y.writecb;if(typeof oe!="function")throw new h;if(k(Y),ie)N(K,Y,Q,ie,oe);else{var X=W(Y)||K.destroyed;!X&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&B(K,Y),Q?m.nextTick(F,K,Y,X,oe):F(K,Y,X,oe)}}function F(K,ie,Y,Q){Y||z(K,ie),ie.pendingcb--,Q(),ne(K,ie)}function z(K,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,K.emit("drain"))}function B(K,ie){ie.bufferProcessing=!0;var Y=ie.bufferedRequest;if(K._writev&&Y&&Y.next){var Q=ie.bufferedRequestCount,oe=new Array(Q),X=ie.corkedRequestsFree;X.entry=Y;for(var j=0,se=!0;Y;)oe[j]=Y,Y.isBuf||(se=!1),Y=Y.next,j+=1;oe.allBuffers=se,D(K,ie,!0,ie.length,oe,"",X.finish),ie.pendingcb++,ie.lastBufferedRequest=null,X.next?(ie.corkedRequestsFree=X.next,X.next=null):ie.corkedRequestsFree=new P(ie),ie.bufferedRequestCount=0}else{for(;Y;){var te=Y.chunk,fe=Y.encoding,ge=Y.callback,be=ie.objectMode?1:te.length;if(D(K,ie,!1,be,te,fe,ge),Y=Y.next,ie.bufferedRequestCount--,ie.writing)break}Y===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=Y,ie.bufferProcessing=!1}A.prototype._write=function(K,ie,Y){Y(new g("_write()"))},A.prototype._writev=null,A.prototype.end=function(K,ie,Y){var Q=this._writableState;return typeof K=="function"?(Y=K,K=null,ie=null):typeof ie=="function"&&(Y=ie,ie=null),K!=null&&this.write(K,ie),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||le(this,Q,Y),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function J(K,ie){K._final(function(Y){ie.pendingcb--,Y&&w(K,Y),ie.prefinished=!0,K.emit("prefinish"),ne(K,ie)})}function re(K,ie){!ie.prefinished&&!ie.finalCalled&&(typeof K._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,m.nextTick(J,K,ie)):(ie.prefinished=!0,K.emit("prefinish")))}function ne(K,ie){var Y=W(ie);if(Y&&(re(K,ie),ie.pendingcb===0&&(ie.finished=!0,K.emit("finish"),ie.autoDestroy))){var Q=K._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&K.destroy()}return Y}function le(K,ie,Y){ie.ending=!0,ne(K,ie),Y&&(ie.finished?m.nextTick(Y):K.once("finish",Y)),ie.ended=!0,K.writable=!1}function $(K,ie,Y){var Q=K.entry;for(K.entry=null;Q;){var oe=Q.callback;ie.pendingcb--,oe(Y),Q=Q.next}ie.corkedRequestsFree.next=K}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),A.prototype.destroy=i.destroy,A.prototype._undestroy=i.undestroy,A.prototype._destroy=function(K,ie){ie(K)}},60328:function(G,H,e){var m=e(4168),P;function s(a,d,x){return d in a?Object.defineProperty(a,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):a[d]=x,a}var L=e(15932),S=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),n=Symbol("stream");function f(a,d){return{value:a,done:d}}function u(a){var d=a[S];if(d!==null){var x=a[n].read();x!==null&&(a[t]=null,a[S]=null,a[v]=null,d(f(x,!1)))}}function l(a){m.nextTick(u,a)}function g(a,d){return function(x,w){a.then(function(){if(d[r]){x(f(void 0,!0));return}d[i](x,w)},w)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,x=this[p];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(M,A){m.nextTick(function(){d[p]?A(d[p]):M(f(void 0,!0))})});var w=this[t],C;if(w)C=new Promise(g(w,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(f(y,!1));C=new Promise(this[i])}return this[t]=C,C}},s(P,Symbol.asyncIterator,function(){return this}),s(P,"return",function(){var d=this;return new Promise(function(x,w){d[n].destroy(null,function(C){if(C){w(C);return}x(f(void 0,!0))})})}),P),h),c=function(d){var x,w=Object.create(T,(x={},s(x,n,{value:d,writable:!0}),s(x,S,{value:null,writable:!0}),s(x,v,{value:null,writable:!0}),s(x,p,{value:null,writable:!0}),s(x,r,{value:d._readableState.endEmitted,writable:!0}),s(x,i,{value:function(y,M){var A=w[n].read();A?(w[t]=null,w[S]=null,w[v]=null,y(f(A,!1))):(w[S]=y,w[v]=M)},writable:!0}),x));return w[t]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=w[v];y!==null&&(w[t]=null,w[S]=null,w[v]=null,y(C)),w[p]=C;return}var M=w[S];M!==null&&(w[t]=null,w[S]=null,w[v]=null,M(f(void 0,!0))),w[r]=!0}),d.on("readable",l.bind(null,w)),w};G.exports=c},47264:function(G,H,e){function m(u,l){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),g.push.apply(g,h)}return g}function P(u){for(var l=1;l<arguments.length;l++){var g=arguments[l]!=null?arguments[l]:{};l%2?m(Object(g),!0).forEach(function(h){s(u,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):m(Object(g)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(g,h))})}return u}function s(u,l,g){return l in u?Object.defineProperty(u,l,{value:g,enumerable:!0,configurable:!0,writable:!0}):u[l]=g,u}function L(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function S(u,l){for(var g=0;g<l.length;g++){var h=l[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,l,g){return l&&S(u.prototype,l),u}var p=e(33576),r=p.Buffer,t=e(21576),i=t.inspect,n=i&&i.custom||"inspect";function f(u,l,g){r.prototype.copy.call(u,l,g)}G.exports=function(){function u(){L(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(g){var h={data:g,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(g){var h={data:g,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=g+h.data;return T}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(g>>>0),T=this.head,c=0;T;)f(T.data,h,c),c+=T.data.length,T=T.next;return h}},{key:"consume",value:function(g,h){var T;return g<this.head.data.length?(T=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?T=this.shift():T=h?this._getString(g):this._getBuffer(g),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var h=this.head,T=1,c=h.data;for(g-=c.length;h=h.next;){var a=h.data,d=g>a.length?a.length:g;if(d===a.length?c+=a:c+=a.slice(0,g),g-=d,g===0){d===a.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=a.slice(d));break}++T}return this.length-=T,c}},{key:"_getBuffer",value:function(g){var h=r.allocUnsafe(g),T=this.head,c=1;for(T.data.copy(h),g-=T.data.length;T=T.next;){var a=T.data,d=g>a.length?a.length:g;if(a.copy(h,h.length-g,0,d),g-=d,g===0){d===a.length?(++c,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=a.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(g,h){return i(this,P({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(G,H,e){var m=e(4168);function P(r,t){var i=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(v,this,r)):m.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?i._writableState?i._writableState.errorEmitted?m.nextTick(L,i):(i._writableState.errorEmitted=!0,m.nextTick(s,i,u)):m.nextTick(s,i,u):t?(m.nextTick(L,i),t(u)):m.nextTick(L,i)}),this)}function s(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var i=r._readableState,n=r._writableState;i&&i.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:P,undestroy:S,errorOrDestroy:p}},15932:function(G,H,e){var m=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];v.apply(this,t)}}}function s(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function S(v,p,r){if(typeof p=="function")return S(v,null,p);p||(p={}),r=P(r||s);var t=p.readable||p.readable!==!1&&v.readable,i=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){i=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,g=function(){t=!1,l=!0,i||r.call(v)},h=function(d){r.call(v,d)},T=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new m),r.call(v,d);if(i&&!f)return(!v._writableState||!v._writableState.ended)&&(d=new m),r.call(v,d)},c=function(){v.req.on("finish",u)};return L(v)?(v.on("complete",u),v.on("abort",T),v.req?c():v.on("request",c)):i&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",g),v.on("finish",u),p.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",g),v.removeListener("error",h),v.removeListener("close",T)}}G.exports=S},90555:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(G,H,e){var m;function P(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var s=e(92784).i,L=s.ERR_MISSING_ARGS,S=s.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,g,h){h=P(h);var T=!1;u.on("close",function(){T=!0}),m===void 0&&(m=e(15932)),m(u,{readable:l,writable:g},function(a){if(a)return h(a);T=!0,h()});var c=!1;return function(a){if(!T&&!c){if(c=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(a||new S("pipe"))}}}function t(u){u()}function i(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new L("streams");var T,c=l.map(function(a,d){var x=d<l.length-1,w=d>0;return r(a,x,w,function(C){T||(T=C),C&&c.forEach(t),!x&&(c.forEach(t),h(T))})});return l.reduce(i)}G.exports=f},24888:function(G,H,e){var m=e(92784).i.ERR_INVALID_OPT_VALUE;function P(L,S,v){return L.highWaterMark!=null?L.highWaterMark:S?L[v]:null}function s(L,S,v,p){var r=P(S,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new m(t,r)}return Math.floor(r)}return L.objectMode?16:16384}G.exports={getHighWaterMark:s}},4776:function(G,H,e){G.exports=e(61252).EventEmitter},86032:function(G,H,e){var m=e(30456).Buffer,P=m.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(c){if(!c)return"utf8";for(var a;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(a)return;c=(""+c).toLowerCase(),a=!0}}function L(c){var a=s(c);if(typeof a!="string"&&(m.isEncoding===P||!P(c)))throw new Error("Unknown encoding: "+c);return a||c}H.o=S;function S(c){this.encoding=L(c);var a;switch(this.encoding){case"utf16le":this.text=f,this.end=u,a=4;break;case"utf8":this.fillLast=t,a=4;break;case"base64":this.text=l,this.end=g,a=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(a)}S.prototype.write=function(c){if(c.length===0)return"";var a,d;if(this.lastNeed){if(a=this.fillLast(c),a===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?a?a+this.text(c,d):this.text(c,d):a||""},S.prototype.end=n,S.prototype.text=i,S.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,a,d){var x=a.length-1;if(x<d)return 0;var w=v(a[x]);return w>=0?(w>0&&(c.lastNeed=w-1),w):--x<d||w===-2?0:(w=v(a[x]),w>=0?(w>0&&(c.lastNeed=w-2),w):--x<d||w===-2?0:(w=v(a[x]),w>=0?(w>0&&(w===2?w=0:c.lastNeed=w-3),w):0))}function r(c,a,d){if((a[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&a.length>1){if((a[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&a.length>2&&(a[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var a=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,a,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,a,0,c.length),this.lastNeed-=c.length}function i(c,a){var d=p(this,c,a);if(!this.lastNeed)return c.toString("utf8",a);this.lastTotal=d;var x=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",a,x)}function n(c){var a=c&&c.length?this.write(c):"";return this.lastNeed?a+"�":a}function f(c,a){if((c.length-a)%2===0){var d=c.toString("utf16le",a);if(d){var x=d.charCodeAt(d.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",a,c.length-1)}function u(c){var a=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,d)}return a}function l(c,a){var d=(c.length-a)%3;return d===0?c.toString("base64",a):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",a,c.length-d))}function g(c){var a=c&&c.length?this.write(c):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function h(c){return c.toString(this.encoding)}function T(c){return c&&c.length?this.write(c):""}},55619:function(G,H,e){var m=e(45408),P=e(86844)("stream-parser");G.exports=p;var s=-1,L=0,S=1,v=2;function p(c){var a=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!a&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),c._bytes=t,c._skipBytes=i,a&&(c._passthrough=n),a?c._transform=u:c._write=f}function r(c){P("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=s,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,a){m(!this._parserCallback,'there is already a "callback" set!'),m(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),P("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=a,this._parserState=L}function i(c,a){m(!this._parserCallback,'there is already a "callback" set!'),m(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=a,this._parserState=S}function n(c,a){m(!this._parserCallback,'There is already a "callback" set!'),m(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=a,this._parserState=v}function f(c,a,d){this._parserInit||r(this),P("write(%o bytes)",c.length),typeof a=="function"&&(d=a),h(this,c,null,d)}function u(c,a,d){this._parserInit||r(this),P("transform(%o bytes)",c.length),typeof a!="function"&&(a=this._parserOutput),h(this,c,a,d)}function l(c,a,d,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):a.length<=c._parserBytesLeft?function(){return g(c,a,d,x)}:function(){var w=a.slice(0,c._parserBytesLeft);return g(c,w,d,function(C){if(C)return x(C);if(a.length>w.length)return function(){return l(c,a.slice(w.length),d,x)}})}}function g(c,a,d,x){if(c._parserBytesLeft-=a.length,P("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===L?(c._parserBuffers.push(a),c._parserBuffered+=a.length):c._parserState===v&&d(a),c._parserBytesLeft===0){var w=c._parserCallback;if(w&&c._parserState===L&&c._parserBuffers.length>1&&(a=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==L&&(a=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=s,c._parserBuffers.splice(0),w){var C=[];a&&C.push(a),d&&C.push(d);var y=w.length>C.length;y&&C.push(T(x));var M=w.apply(c,C);if(!y||x===M)return x}}else return x}var h=T(l);function T(c){return function(){for(var a=c.apply(this,arguments);typeof a=="function";)a=a();return a}}},86844:function(G,H,e){var m=e(4168);H=G.exports=e(89416),H.log=L,H.formatArgs=s,H.save=S,H.load=v,H.useColors=P,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function s(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+H.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(f=n))}),r.splice(f,0,i)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function S(r){try{r==null?H.storage.removeItem("debug"):H.storage.debug=r}catch{}}function v(){var r;try{r=H.storage.debug}catch{}return!r&&typeof m<"u"&&"env"in m&&(r=m.env.DEBUG),r}H.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(G,H,e){H=G.exports=s.debug=s.default=s,H.coerce=p,H.disable=S,H.enable=L,H.enabled=v,H.humanize=e(93744),H.names=[],H.skips=[],H.formatters={};var m;function P(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return H.colors[Math.abs(t)%H.colors.length]}function s(r){function t(){if(t.enabled){var i=t,n=+new Date,f=n-(m||n);i.diff=f,i.prev=m,i.curr=n,m=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=H.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,c){if(T==="%%")return T;g++;var a=H.formatters[c];if(typeof a=="function"){var d=u[g];T=a.call(i,d),u.splice(g,1),g--}return T}),H.formatArgs.call(i,u);var h=t.log||H.log||console.log.bind(console);h.apply(i,u)}}return t.namespace=r,t.enabled=H.enabled(r),t.useColors=H.useColors(),t.color=P(r),typeof H.init=="function"&&H.init(t),t}function L(r){H.save(r),H.names=[],H.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?H.skips.push(new RegExp("^"+r.substr(1)+"$")):H.names.push(new RegExp("^"+r+"$")))}function S(){H.enable("")}function v(r){var t,i;for(t=0,i=H.skips.length;t<i;t++)if(H.skips[t].test(r))return!1;for(t=0,i=H.names.length;t<i;t++)if(H.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(G){var H=1e3,e=H*60,m=e*60,P=m*24,s=P*365.25;G.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return L(r);if(i==="number"&&isNaN(r)===!1)return t.long?v(r):S(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*s;case"days":case"day":case"d":return i*P;case"hours":case"hour":case"hrs":case"hr":case"h":return i*m;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function S(r){return r>=P?Math.round(r/P)+"d":r>=m?Math.round(r/m)+"h":r>=e?Math.round(r/e)+"m":r>=H?Math.round(r/H)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,m,"hour")||p(r,e,"minute")||p(r,H,"second")||r+" ms"}function p(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},39956:function(G,H,e){var m=e(32868);G.exports=function(s,L,S){if(s==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");S?(typeof S=="string"||Array.isArray(S))&&(S={ignore:S}):S={},S.escape==null&&(S.escape=!0),S.ignore==null?S.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof S.ignore=="string"&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=m.parse(s,{flat:!0,brackets:S.ignore}),p=v[0],r=p.split(L);if(S.escape){for(var t=[],i=0;i<r.length;i++){var n=r[i],f=r[i+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+f),i++):t.push(n)}r=t}for(var i=0;i<r.length;i++)v[0]=r[i],r[i]=m.stringify(v,{flat:!0});return r}},78484:function(G){G.exports=H;function H(e){for(var m=e.length,P=new Array(m),s=new Array(m),L=new Array(m),S=new Array(m),v=new Array(m),p=new Array(m),r=0;r<m;++r)P[r]=-1,s[r]=0,L[r]=!1,S[r]=0,v[r]=-1,p[r]=[];var t=0,i=[],n=[];function f(h){var T=[h],c=[h];for(P[h]=s[h]=t,L[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var a=e[h];if(S[h]<a.length){for(var d=S[h];d<a.length;++d){var x=a[d];if(P[x]<0){P[x]=s[x]=t,L[x]=!0,t+=1,T.push(x),c.push(x);break}else L[x]&&(s[h]=Math.min(s[h],s[x])|0);v[x]>=0&&p[h].push(v[x])}S[h]=d}else{if(s[h]===P[h]){for(var w=[],C=[],y=0,d=T.length-1;d>=0;--d){var M=T[d];if(L[M]=!1,w.push(M),C.push(p[M]),y+=p[M].length,v[M]=i.length,M===h){T.length=d;break}}i.push(w);for(var A=new Array(y),d=0;d<C.length;d++)for(var o=0;o<C[d].length;o++)A[--y]=C[d][o];n.push(A)}c.pop()}}}for(var r=0;r<m;++r)P[r]<0&&f(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(T,c){return T-c}),u=[l[0]];for(var g=1;g<l.length;g++)l[g]!==l[g-1]&&u.push(l[g]);n[r]=u}}return{components:i,adjacencyList:n}}},92848:function(G,H,e){e.r(H);var m=function(){function r(t,i){var n=[],f=!0,u=!1,l=void 0;try{for(var g=t[Symbol.iterator](),h;!(f=(h=g.next()).done)&&(n.push(h.value),!(i&&n.length===i));f=!0);}catch(T){u=!0,l=T}finally{try{!f&&g.return&&g.return()}finally{if(u)throw l}}return n}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,s=function(t,i,n,f,u,l,g){var h=t.x,T=t.y;h*=i,T*=n;var c=f*h-u*T,a=u*h+f*T;return{x:c+l,y:a+g}},L=function(t,i){var n=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+i),g=Math.sin(t+i);return[{x:f-u*n,y:u+f*n},{x:l+g*n,y:g-l*n},{x:l,y:g}]},S=function(t,i,n,f){var u=t*f-i*n<0?-1:1,l=t*n+i*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,i,n,f,u,l,g,h,T,c,a,d){var x=Math.pow(u,2),w=Math.pow(l,2),C=Math.pow(a,2),y=Math.pow(d,2),M=x*w-x*y-w*C;M<0&&(M=0),M/=x*y+w*C,M=Math.sqrt(M)*(g===h?-1:1);var A=M*u/l*d,o=M*-l/u*a,E=c*A-T*o+(t+n)/2,b=T*A+c*o+(i+f)/2,I=(a-A)/u,D=(d-o)/l,N=(-a-A)/u,k=(-d-o)/l,O=S(1,0,I,D),F=S(I,D,N,k);return h===0&&F>0&&(F-=P),h===1&&F<0&&(F+=P),[E,b,O,F]},p=function(t){var i=t.px,n=t.py,f=t.cx,u=t.cy,l=t.rx,g=t.ry,h=t.xAxisRotation,T=h===void 0?0:h,c=t.largeArcFlag,a=c===void 0?0:c,d=t.sweepFlag,x=d===void 0?0:d,w=[];if(l===0||g===0)return[];var C=Math.sin(T*P/360),y=Math.cos(T*P/360),M=y*(i-f)/2+C*(n-u)/2,A=-C*(i-f)/2+y*(n-u)/2;if(M===0&&A===0)return[];l=Math.abs(l),g=Math.abs(g);var o=Math.pow(M,2)/Math.pow(l,2)+Math.pow(A,2)/Math.pow(g,2);o>1&&(l*=Math.sqrt(o),g*=Math.sqrt(o));var E=v(i,n,f,u,l,g,a,x,C,y,M,A),b=m(E,4),I=b[0],D=b[1],N=b[2],k=b[3],O=Math.abs(k)/(P/4);Math.abs(1-O)<1e-7&&(O=1);var F=Math.max(Math.ceil(O),1);k/=F;for(var z=0;z<F;z++)w.push(L(N,k)),N+=k;return w.map(function(B){var W=s(B[0],l,g,y,C,I,D),J=W.x,re=W.y,ne=s(B[1],l,g,y,C,I,D),le=ne.x,$=ne.y,K=s(B[2],l,g,y,C,I,D),ie=K.x,Y=K.y;return{x1:J,y1:re,x2:le,y2:$,x:ie,y:Y}})};H.default=p},74840:function(G,H,e){var m=e(21984),P=e(49972),s=e(41976),L=e(53520),S=e(45408);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(S(L(p),"String is not an SVG path."),p=m(p)),S(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=s(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=p.length;t<i;t++)for(var n=p[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(G,H,e){G.exports=P;var m=e(92848);function P(S){for(var v,p=[],r=0,t=0,i=0,n=0,f=null,u=null,l=0,g=0,h=0,T=S.length;h<T;h++){var c=S[h],a=c[0];switch(a){case"M":i=c[1],n=c[2];break;case"A":var d=m({px:l,py:g,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var x=0,w;x<d.length;x++)w=d[x],c=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],x<d.length-1&&p.push(c);break;case"S":var C=l,y=g;(v=="C"||v=="S")&&(C+=C-r,y+=y-t),c=["C",C,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=g*2-u):(f=l,u=g),c=L(l,g,f,u,c[1],c[2]);break;case"Q":f=c[1],u=c[2],c=L(l,g,c[1],c[2],c[3],c[4]);break;case"L":c=s(l,g,c[1],c[2]);break;case"H":c=s(l,g,c[1],g);break;case"V":c=s(l,g,l,c[1]);break;case"Z":c=s(l,g,i,n);break}v=a,l=c[c.length-2],g=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=g),p.push(c)}return p}function s(S,v,p,r){return["C",S,v,p,r,p,r]}function L(S,v,p,r,t,i){return["C",S/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,i/3+.6666666666666666*r,t,i]}},20472:function(G,H,e){var m=e(74840),P=e(21984),s=e(22235),L=e(53520),S=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,f){if(!L(n))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var g=Math.min(u,l),h=f.stroke||0,T=f.viewbox||f.viewBox||m(n),c=[u/(T[2]-T[0]),l/(T[3]-T[1])],a=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,l),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(u*.5,l*.5),p.scale(a,a),i()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var x=P(n);s(p,x),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=S(p,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:g*.5});return w}var t;function i(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(G,H,e){var m;(function(P){var s=/^\s+/,L=/\s+$/,S=0,v=P.round,p=P.min,r=P.max,t=P.random;function i(j,se){if(j=j||"",se=se||{},j instanceof i)return j;if(!(this instanceof i))return new i(j,se);var te=n(j);this._originalInput=j,this._r=te.r,this._g=te.g,this._b=te.b,this._a=te.a,this._roundA=v(100*this._a)/100,this._format=se.format||te.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=te.ok,this._tc_id=S++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),se,te,fe,ge,be,xe;return se=j.r/255,te=j.g/255,fe=j.b/255,se<=.03928?ge=se/12.92:ge=P.pow((se+.055)/1.055,2.4),te<=.03928?be=te/12.92:be=P.pow((te+.055)/1.055,2.4),fe<=.03928?xe=fe/12.92:xe=P.pow((fe+.055)/1.055,2.4),.2126*ge+.7152*be+.0722*xe},setAlpha:function(j){return this._a=z(j),this._roundA=v(100*this._a)/100,this},toHsv:function(){var j=g(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=g(this._r,this._g,this._b),se=v(j.h*360),te=v(j.s*100),fe=v(j.v*100);return this._a==1?"hsv("+se+", "+te+"%, "+fe+"%)":"hsva("+se+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var j=u(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=u(this._r,this._g,this._b),se=v(j.h*360),te=v(j.s*100),fe=v(j.l*100);return this._a==1?"hsl("+se+", "+te+"%, "+fe+"%)":"hsla("+se+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHex:function(j){return T(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return c(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var se="#"+a(this._r,this._g,this._b,this._a),te=se,fe=this._gradientType?"GradientType = 1, ":"";if(j){var ge=i(j);te="#"+a(ge._r,ge._g,ge._b,ge._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+se+",endColorstr="+te+")"},toString:function(j){var se=!!j;j=j||this._format;var te=!1,fe=this._a<1&&this._a>=0,ge=!se&&fe&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return ge?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(te=this.toRgbString()),j==="prgb"&&(te=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(te=this.toHexString()),j==="hex3"&&(te=this.toHexString(!0)),j==="hex4"&&(te=this.toHex8String(!0)),j==="hex8"&&(te=this.toHex8String()),j==="name"&&(te=this.toName()),j==="hsl"&&(te=this.toHslString()),j==="hsv"&&(te=this.toHsvString()),te||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(j,se){var te=j.apply(null,[this].concat([].slice.call(se)));return this._r=te._r,this._g=te._g,this._b=te._b,this.setAlpha(te._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(j,se){return j.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(o,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},i.fromRatio=function(j,se){if(typeof j=="object"){var te={};for(var fe in j)j.hasOwnProperty(fe)&&(fe==="a"?te[fe]=j[fe]:te[fe]=$(j[fe]));j=te}return i(j,se)};function n(j){var se={r:0,g:0,b:0},te=1,fe=null,ge=null,be=null,xe=!1,_e=!1;return typeof j=="string"&&(j=oe(j)),typeof j=="object"&&(Q(j.r)&&Q(j.g)&&Q(j.b)?(se=f(j.r,j.g,j.b),xe=!0,_e=String(j.r).substr(-1)==="%"?"prgb":"rgb"):Q(j.h)&&Q(j.s)&&Q(j.v)?(fe=$(j.s),ge=$(j.v),se=h(j.h,fe,ge),xe=!0,_e="hsv"):Q(j.h)&&Q(j.s)&&Q(j.l)&&(fe=$(j.s),be=$(j.l),se=l(j.h,fe,be),xe=!0,_e="hsl"),j.hasOwnProperty("a")&&(te=j.a)),te=z(te),{ok:xe,format:j.format||_e,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:te}}function f(j,se,te){return{r:B(j,255)*255,g:B(se,255)*255,b:B(te,255)*255}}function u(j,se,te){j=B(j,255),se=B(se,255),te=B(te,255);var fe=r(j,se,te),ge=p(j,se,te),be,xe,_e=(fe+ge)/2;if(fe==ge)be=xe=0;else{var De=fe-ge;switch(xe=_e>.5?De/(2-fe-ge):De/(fe+ge),fe){case j:be=(se-te)/De+(se<te?6:0);break;case se:be=(te-j)/De+2;break;case te:be=(j-se)/De+4;break}be/=6}return{h:be,s:xe,l:_e}}function l(j,se,te){var fe,ge,be;j=B(j,360),se=B(se,100),te=B(te,100);function xe(Fe,Te,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<.16666666666666666?Fe+(Te-Fe)*6*Re:Re<.5?Te:Re<.6666666666666666?Fe+(Te-Fe)*(.6666666666666666-Re)*6:Fe}if(se===0)fe=ge=be=te;else{var _e=te<.5?te*(1+se):te+se-te*se,De=2*te-_e;fe=xe(De,_e,j+.3333333333333333),ge=xe(De,_e,j),be=xe(De,_e,j-.3333333333333333)}return{r:fe*255,g:ge*255,b:be*255}}function g(j,se,te){j=B(j,255),se=B(se,255),te=B(te,255);var fe=r(j,se,te),ge=p(j,se,te),be,xe,_e=fe,De=fe-ge;if(xe=fe===0?0:De/fe,fe==ge)be=0;else{switch(fe){case j:be=(se-te)/De+(se<te?6:0);break;case se:be=(te-j)/De+2;break;case te:be=(j-se)/De+4;break}be/=6}return{h:be,s:xe,v:_e}}function h(j,se,te){j=B(j,360)*6,se=B(se,100),te=B(te,100);var fe=P.floor(j),ge=j-fe,be=te*(1-se),xe=te*(1-ge*se),_e=te*(1-(1-ge)*se),De=fe%6,Fe=[te,xe,be,be,_e,te][De],Te=[_e,te,te,xe,be,be][De],Re=[be,be,_e,te,te,xe][De];return{r:Fe*255,g:Te*255,b:Re*255}}function T(j,se,te,fe){var ge=[le(v(j).toString(16)),le(v(se).toString(16)),le(v(te).toString(16))];return fe&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function c(j,se,te,fe,ge){var be=[le(v(j).toString(16)),le(v(se).toString(16)),le(v(te).toString(16)),le(K(fe))];return ge&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)&&be[3].charAt(0)==be[3].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0)+be[3].charAt(0):be.join("")}function a(j,se,te,fe){var ge=[le(K(fe)),le(v(j).toString(16)),le(v(se).toString(16)),le(v(te).toString(16))];return ge.join("")}i.equals=function(j,se){return!j||!se?!1:i(j).toRgbString()==i(se).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function d(j,se){se=se===0?0:se||10;var te=i(j).toHsl();return te.s-=se/100,te.s=W(te.s),i(te)}function x(j,se){se=se===0?0:se||10;var te=i(j).toHsl();return te.s+=se/100,te.s=W(te.s),i(te)}function w(j){return i(j).desaturate(100)}function C(j,se){se=se===0?0:se||10;var te=i(j).toHsl();return te.l+=se/100,te.l=W(te.l),i(te)}function y(j,se){se=se===0?0:se||10;var te=i(j).toRgb();return te.r=r(0,p(255,te.r-v(255*-(se/100)))),te.g=r(0,p(255,te.g-v(255*-(se/100)))),te.b=r(0,p(255,te.b-v(255*-(se/100)))),i(te)}function M(j,se){se=se===0?0:se||10;var te=i(j).toHsl();return te.l-=se/100,te.l=W(te.l),i(te)}function A(j,se){var te=i(j).toHsl(),fe=(te.h+se)%360;return te.h=fe<0?360+fe:fe,i(te)}function o(j){var se=i(j).toHsl();return se.h=(se.h+180)%360,i(se)}function E(j){var se=i(j).toHsl(),te=se.h;return[i(j),i({h:(te+120)%360,s:se.s,l:se.l}),i({h:(te+240)%360,s:se.s,l:se.l})]}function b(j){var se=i(j).toHsl(),te=se.h;return[i(j),i({h:(te+90)%360,s:se.s,l:se.l}),i({h:(te+180)%360,s:se.s,l:se.l}),i({h:(te+270)%360,s:se.s,l:se.l})]}function I(j){var se=i(j).toHsl(),te=se.h;return[i(j),i({h:(te+72)%360,s:se.s,l:se.l}),i({h:(te+216)%360,s:se.s,l:se.l})]}function D(j,se,te){se=se||6,te=te||30;var fe=i(j).toHsl(),ge=360/te,be=[i(j)];for(fe.h=(fe.h-(ge*se>>1)+720)%360;--se;)fe.h=(fe.h+ge)%360,be.push(i(fe));return be}function N(j,se){se=se||6;for(var te=i(j).toHsv(),fe=te.h,ge=te.s,be=te.v,xe=[],_e=1/se;se--;)xe.push(i({h:fe,s:ge,v:be})),be=(be+_e)%1;return xe}i.mix=function(j,se,te){te=te===0?0:te||50;var fe=i(j).toRgb(),ge=i(se).toRgb(),be=te/100,xe={r:(ge.r-fe.r)*be+fe.r,g:(ge.g-fe.g)*be+fe.g,b:(ge.b-fe.b)*be+fe.b,a:(ge.a-fe.a)*be+fe.a};return i(xe)},i.readability=function(j,se){var te=i(j),fe=i(se);return(P.max(te.getLuminance(),fe.getLuminance())+.05)/(P.min(te.getLuminance(),fe.getLuminance())+.05)},i.isReadable=function(j,se,te){var fe=i.readability(j,se),ge,be;switch(be=!1,ge=X(te),ge.level+ge.size){case"AAsmall":case"AAAlarge":be=fe>=4.5;break;case"AAlarge":be=fe>=3;break;case"AAAsmall":be=fe>=7;break}return be},i.mostReadable=function(j,se,te){var fe=null,ge=0,be,xe,_e,De;te=te||{},xe=te.includeFallbackColors,_e=te.level,De=te.size;for(var Fe=0;Fe<se.length;Fe++)be=i.readability(j,se[Fe]),be>ge&&(ge=be,fe=i(se[Fe]));return i.isReadable(j,fe,{level:_e,size:De})||!xe?fe:(te.includeFallbackColors=!1,i.mostReadable(j,["#fff","#000"],te))};var k=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=i.hexNames=F(k);function F(j){var se={};for(var te in j)j.hasOwnProperty(te)&&(se[j[te]]=te);return se}function z(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function B(j,se){re(j)&&(j="100%");var te=ne(j);return j=p(se,r(0,parseFloat(j))),te&&(j=parseInt(j*se,10)/100),P.abs(j-se)<1e-6?1:j%se/parseFloat(se)}function W(j){return p(1,r(0,j))}function J(j){return parseInt(j,16)}function re(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function ne(j){return typeof j=="string"&&j.indexOf("%")!=-1}function le(j){return j.length==1?"0"+j:""+j}function $(j){return j<=1&&(j=j*100+"%"),j}function K(j){return P.round(parseFloat(j)*255).toString(16)}function ie(j){return J(j)/255}var Y=function(){var j="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",te="(?:"+se+")|(?:"+j+")",fe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?",ge="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?";return{CSS_UNIT:new RegExp(te),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+ge),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+ge),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+ge),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(j){return!!Y.CSS_UNIT.exec(j)}function oe(j){j=j.replace(s,"").replace(L,"").toLowerCase();var se=!1;if(k[j])j=k[j],se=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var te;return(te=Y.rgb.exec(j))?{r:te[1],g:te[2],b:te[3]}:(te=Y.rgba.exec(j))?{r:te[1],g:te[2],b:te[3],a:te[4]}:(te=Y.hsl.exec(j))?{h:te[1],s:te[2],l:te[3]}:(te=Y.hsla.exec(j))?{h:te[1],s:te[2],l:te[3],a:te[4]}:(te=Y.hsv.exec(j))?{h:te[1],s:te[2],v:te[3]}:(te=Y.hsva.exec(j))?{h:te[1],s:te[2],v:te[3],a:te[4]}:(te=Y.hex8.exec(j))?{r:J(te[1]),g:J(te[2]),b:J(te[3]),a:ie(te[4]),format:se?"name":"hex8"}:(te=Y.hex6.exec(j))?{r:J(te[1]),g:J(te[2]),b:J(te[3]),format:se?"name":"hex"}:(te=Y.hex4.exec(j))?{r:J(te[1]+""+te[1]),g:J(te[2]+""+te[2]),b:J(te[3]+""+te[3]),a:ie(te[4]+""+te[4]),format:se?"name":"hex8"}:(te=Y.hex3.exec(j))?{r:J(te[1]+""+te[1]),g:J(te[2]+""+te[2]),b:J(te[3]+""+te[3]),format:se?"name":"hex"}:!1}function X(j){var se,te;return j=j||{level:"AA",size:"small"},se=(j.level||"AA").toUpperCase(),te=(j.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),te!=="small"&&te!=="large"&&(te="small"),{level:se,size:te}}G.exports?G.exports=i:(m=(function(){return i}).call(H,e,H,G),m!==void 0&&(G.exports=m))})(Math)},37816:function(G){G.exports=m,G.exports.float32=G.exports.float=m,G.exports.fract32=G.exports.fract=e;var H=new Float32Array(1);function e(P,s){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);s instanceof Float32Array||(s=m(P));for(var L=0,S=s.length;L<S;L++)s[L]=P[L]-s[L];return s}return m(P-m(P))}function m(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(H[0]=P,H[0])}},23464:function(G,H,e){var m=e(65819);G.exports=S;var P=96;function s(v,p){var r=m(getComputedStyle(v).getPropertyValue(p));return r[0]*S(r[1],v)}function L(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=s(r,"font-size")/128;return p.removeChild(r),t}function S(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return s(p,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(G,H,e){e.d(H,{NO:function(){return L}});function m(p,r){for(var t,i=p.length,n=i-r;n<--i;)t=p[n],p[n++]=p[i],p[i]=t}function P(p){return p}function s(p){if(p==null)return P;var r,t,i=p.scale[0],n=p.scale[1],f=p.translate[0],u=p.translate[1];return function(l,g){g||(r=t=0);var h=2,T=l.length,c=new Array(T);for(c[0]=(r+=l[0])*i+f,c[1]=(t+=l[1])*n+u;h<T;)c[h]=l[h],++h;return c}}function L(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return S(p,t)})}:S(p,r)}function S(p,r){var t=r.id,i=r.bbox,n=r.properties==null?{}:r.properties,f=v(p,r);return t==null&&i==null?{type:"Feature",properties:n,geometry:f}:i==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:i,properties:n,geometry:f}}function v(p,r){var t=s(p.transform),i=p.arcs;function n(T,c){c.length&&c.pop();for(var a=i[T<0?~T:T],d=0,x=a.length;d<x;++d)c.push(t(a[d],d));T<0&&m(c,x)}function f(T){return t(T)}function u(T){for(var c=[],a=0,d=T.length;a<d;++a)n(T[a],c);return c.length<2&&c.push(c[0]),c}function l(T){for(var c=u(T);c.length<4;)c.push(c[0]);return c}function g(T){return T.map(l)}function h(T){var c=T.type,a;switch(c){case"GeometryCollection":return{type:c,geometries:T.geometries.map(h)};case"Point":a=f(T.coordinates);break;case"MultiPoint":a=T.coordinates.map(f);break;case"LineString":a=u(T.arcs);break;case"MultiLineString":a=T.arcs.map(u);break;case"Polygon":a=g(T.arcs);break;case"MultiPolygon":a=T.arcs.map(g);break;default:return null}return{type:c,coordinates:a}}return h(r)}},73384:function(G,H,e){var m=e(54612);G.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!m(P)}},57980:function(G,H,e){var m=e(81680),P=e(7328),s=e(33940),L=e(18856),S=function(v,p){return v.replace("%v",L(p))};G.exports=function(v,p,r){if(!P(r))throw new TypeError(S(p,v));if(!m(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=s(r.errorMessage);throw m(t)||(t=p),new TypeError(S(t,v))}},32336:function(G){G.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},18856:function(G,H,e){var m=e(32336),P=/[\n\r\u2028\u2029]/g;G.exports=function(s){var L=m(s);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"…"),L=L.replace(P,function(S){switch(S){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(G,H,e){var m=e(81680),P={object:!0,function:!0,undefined:!0};G.exports=function(s){return m(s)?hasOwnProperty.call(P,typeof s):!1}},87396:function(G,H,e){var m=e(57980),P=e(85488);G.exports=function(s){return P(s)?s:m(s,"%v is not a plain function",arguments[1])}},85488:function(G,H,e){var m=e(73384),P=/^\s*class[\s{/}]/,s=Function.prototype.toString;G.exports=function(L){return!(!m(L)||P.test(s.call(L)))}},54612:function(G,H,e){var m=e(7328);G.exports=function(P){if(!m(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(G,H,e){var m=e(81680),P=e(7328),s=Object.prototype.toString;G.exports=function(L){if(!m(L))return null;if(P(L)){var S=L.toString;if(typeof S!="function"||S===s)return null}try{return""+L}catch{return null}}},18496:function(G,H,e){var m=e(57980),P=e(81680);G.exports=function(s){return P(s)?s:m(s,"Cannot use %v",arguments[1])}},81680:function(G){var H=void 0;G.exports=function(e){return e!==H&&e!==null}},14144:function(G,H,e){var m=e(308),P=e(10352),s=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",S=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;H.free=function(o){if(s.isBuffer(o))t[m.log2(o.length)].push(o);else{if(Object.prototype.toString.call(o)!=="[object ArrayBuffer]"&&(o=o.buffer),!o)return;var E=o.length||o.byteLength,b=m.log2(E)|0;r[b].push(o)}};function i(A){if(A){var o=A.length||A.byteLength,E=m.log2(o);r[E].push(A)}}function n(A){i(A.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=i,H.freeBuffer=function(o){t[m.log2(o.length)].push(o)},H.malloc=function(o,E){if(E===void 0||E==="arraybuffer")return f(o);switch(E){case"uint8":return u(o);case"uint16":return l(o);case"uint32":return g(o);case"int8":return h(o);case"int16":return T(o);case"int32":return c(o);case"float":case"float32":return a(o);case"double":case"float64":return d(o);case"uint8_clamped":return x(o);case"bigint64":return C(o);case"biguint64":return w(o);case"buffer":return M(o);case"data":case"dataview":return y(o);default:return null}return null};function f(o){var o=m.nextPow2(o),E=m.log2(o),b=r[E];return b.length>0?b.pop():new ArrayBuffer(o)}H.mallocArrayBuffer=f;function u(A){return new Uint8Array(f(A),0,A)}H.mallocUint8=u;function l(A){return new Uint16Array(f(2*A),0,A)}H.mallocUint16=l;function g(A){return new Uint32Array(f(4*A),0,A)}H.mallocUint32=g;function h(A){return new Int8Array(f(A),0,A)}H.mallocInt8=h;function T(A){return new Int16Array(f(2*A),0,A)}H.mallocInt16=T;function c(A){return new Int32Array(f(4*A),0,A)}H.mallocInt32=c;function a(A){return new Float32Array(f(4*A),0,A)}H.mallocFloat32=H.mallocFloat=a;function d(A){return new Float64Array(f(8*A),0,A)}H.mallocFloat64=H.mallocDouble=d;function x(A){return L?new Uint8ClampedArray(f(A),0,A):u(A)}H.mallocUint8Clamped=x;function w(A){return S?new BigUint64Array(f(8*A),0,A):null}H.mallocBigUint64=w;function C(A){return v?new BigInt64Array(f(8*A),0,A):null}H.mallocBigInt64=C;function y(A){return new DataView(f(A),0,A)}H.mallocDataView=y;function M(A){A=m.nextPow2(A);var o=m.log2(A),E=t[o];return E.length>0?E.pop():new s(A)}H.mallocBuffer=M,H.clearCache=function(){for(var o=0;o<32;++o)p.UINT8[o].length=0,p.UINT16[o].length=0,p.UINT32[o].length=0,p.INT8[o].length=0,p.INT16[o].length=0,p.INT32[o].length=0,p.FLOAT[o].length=0,p.DOUBLE[o].length=0,p.BIGUINT64[o].length=0,p.BIGINT64[o].length=0,p.UINT8C[o].length=0,r[o].length=0,t[o].length=0}},92384:function(G){var H=/[\'\"]/;G.exports=function(m){return m?(H.test(m.charAt(0))&&(m=m.substr(1)),H.test(m.charAt(m.length-1))&&(m=m.substr(0,m.length-1)),m):""}},45223:function(G){G.exports=function(e,m,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var s=0,L=P.length;s<L;s++){var S=P[s];for(var v in S)if(!(m[v]!==void 0&&!Array.isArray(m[v])&&e[v]===m[v])&&v in m){var p;if(S[v]===!0)p=m[v];else{if(S[v]===!1)continue;if(typeof S[v]=="function"&&(p=S[v](m[v],e,m),p===void 0))continue}e[v]=p}}return e}},96656:function(G,H,e){G.exports=m;function m(s,L){if(P("noDeprecation"))return s;var S=!1;function v(){if(!S){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),S=!0}return s.apply(this,arguments)}return v}function P(s){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[s];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(G,H,e){var m=e(91148),P=e(84420),s=e(96632),L=e(7728);function S(be){return be.call.bind(be)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=S(Object.prototype.toString),t=S(Number.prototype.valueOf),i=S(String.prototype.valueOf),n=S(Boolean.prototype.valueOf);if(v)var f=S(BigInt.prototype.valueOf);if(p)var u=S(Symbol.prototype.valueOf);function l(be,xe){if(typeof be!="object")return!1;try{return xe(be),!0}catch{return!1}}H.isArgumentsObject=m,H.isGeneratorFunction=P,H.isTypedArray=L;function g(be){return typeof Promise<"u"&&be instanceof Promise||be!==null&&typeof be=="object"&&typeof be.then=="function"&&typeof be.catch=="function"}H.isPromise=g;function h(be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(be):L(be)||J(be)}H.isArrayBufferView=h;function T(be){return s(be)==="Uint8Array"}H.isUint8Array=T;function c(be){return s(be)==="Uint8ClampedArray"}H.isUint8ClampedArray=c;function a(be){return s(be)==="Uint16Array"}H.isUint16Array=a;function d(be){return s(be)==="Uint32Array"}H.isUint32Array=d;function x(be){return s(be)==="Int8Array"}H.isInt8Array=x;function w(be){return s(be)==="Int16Array"}H.isInt16Array=w;function C(be){return s(be)==="Int32Array"}H.isInt32Array=C;function y(be){return s(be)==="Float32Array"}H.isFloat32Array=y;function M(be){return s(be)==="Float64Array"}H.isFloat64Array=M;function A(be){return s(be)==="BigInt64Array"}H.isBigInt64Array=A;function o(be){return s(be)==="BigUint64Array"}H.isBigUint64Array=o;function E(be){return r(be)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function b(be){return typeof Map>"u"?!1:E.working?E(be):be instanceof Map}H.isMap=b;function I(be){return r(be)==="[object Set]"}I.working=typeof Set<"u"&&I(new Set);function D(be){return typeof Set>"u"?!1:I.working?I(be):be instanceof Set}H.isSet=D;function N(be){return r(be)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function k(be){return typeof WeakMap>"u"?!1:N.working?N(be):be instanceof WeakMap}H.isWeakMap=k;function O(be){return r(be)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function F(be){return O(be)}H.isWeakSet=F;function z(be){return r(be)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function B(be){return typeof ArrayBuffer>"u"?!1:z.working?z(be):be instanceof ArrayBuffer}H.isArrayBuffer=B;function W(be){return r(be)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function J(be){return typeof DataView>"u"?!1:W.working?W(be):be instanceof DataView}H.isDataView=J;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(be){return r(be)==="[object SharedArrayBuffer]"}function le(be){return typeof re>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new re)),ne.working?ne(be):be instanceof re)}H.isSharedArrayBuffer=le;function $(be){return r(be)==="[object AsyncFunction]"}H.isAsyncFunction=$;function K(be){return r(be)==="[object Map Iterator]"}H.isMapIterator=K;function ie(be){return r(be)==="[object Set Iterator]"}H.isSetIterator=ie;function Y(be){return r(be)==="[object Generator]"}H.isGeneratorObject=Y;function Q(be){return r(be)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=Q;function oe(be){return l(be,t)}H.isNumberObject=oe;function X(be){return l(be,i)}H.isStringObject=X;function j(be){return l(be,n)}H.isBooleanObject=j;function se(be){return v&&l(be,f)}H.isBigIntObject=se;function te(be){return p&&l(be,u)}H.isSymbolObject=te;function fe(be){return oe(be)||X(be)||j(be)||se(be)||te(be)}H.isBoxedPrimitive=fe;function ge(be){return typeof Uint8Array<"u"&&(B(be)||le(be))}H.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(be){Object.defineProperty(H,be,{enumerable:!1,value:function(){throw new Error(be+" is not supported in userland")}})})},35840:function(G,H,e){var m=e(4168),P=Object.getOwnPropertyDescriptors||function(re){for(var ne=Object.keys(re),le={},$=0;$<ne.length;$++)le[ne[$]]=Object.getOwnPropertyDescriptor(re,ne[$]);return le},s=/%[sdj%]/g;H.format=function(J){if(!w(J)){for(var re=[],ne=0;ne<arguments.length;ne++)re.push(p(arguments[ne]));return re.join(" ")}for(var ne=1,le=arguments,$=le.length,K=String(J).replace(s,function(Y){if(Y==="%%")return"%";if(ne>=$)return Y;switch(Y){case"%s":return String(le[ne++]);case"%d":return Number(le[ne++]);case"%j":try{return JSON.stringify(le[ne++])}catch{return"[Circular]"}default:return Y}}),ie=le[ne];ne<$;ie=le[++ne])a(ie)||!A(ie)?K+=" "+ie:K+=" "+p(ie);return K},H.deprecate=function(J,re){if(typeof m<"u"&&m.noDeprecation===!0)return J;if(typeof m>"u")return function(){return H.deprecate(J,re).apply(this,arguments)};var ne=!1;function le(){if(!ne){if(m.throwDeprecation)throw new Error(re);m.traceDeprecation?console.trace(re):console.error(re),ne=!0}return J.apply(this,arguments)}return le};var L={},S=/^$/;if(m.env.NODE_DEBUG){var v=m.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+v+"$","i")}H.debuglog=function(J){if(J=J.toUpperCase(),!L[J])if(S.test(J)){var re=m.pid;L[J]=function(){var ne=H.format.apply(H,arguments);console.error("%s %d: %s",J,re,ne)}}else L[J]=function(){};return L[J]};function p(J,re){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),c(re)?ne.showHidden=re:re&&H._extend(ne,re),y(ne.showHidden)&&(ne.showHidden=!1),y(ne.depth)&&(ne.depth=2),y(ne.colors)&&(ne.colors=!1),y(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,J,ne.depth)}H.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(J,re){var ne=p.styles[re];return ne?"\x1B["+p.colors[ne][0]+"m"+J+"\x1B["+p.colors[ne][1]+"m":J}function t(J,re){return J}function i(J){var re={};return J.forEach(function(ne,le){re[ne]=!0}),re}function n(J,re,ne){if(J.customInspect&&re&&b(re.inspect)&&re.inspect!==H.inspect&&!(re.constructor&&re.constructor.prototype===re)){var le=re.inspect(ne,J);return w(le)||(le=n(J,le,ne)),le}var $=f(J,re);if($)return $;var K=Object.keys(re),ie=i(K);if(J.showHidden&&(K=Object.getOwnPropertyNames(re)),E(re)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return u(re);if(K.length===0){if(b(re)){var Y=re.name?": "+re.name:"";return J.stylize("[Function"+Y+"]","special")}if(M(re))return J.stylize(RegExp.prototype.toString.call(re),"regexp");if(o(re))return J.stylize(Date.prototype.toString.call(re),"date");if(E(re))return u(re)}var Q="",oe=!1,X=["{","}"];if(T(re)&&(oe=!0,X=["[","]"]),b(re)){var j=re.name?": "+re.name:"";Q=" [Function"+j+"]"}if(M(re)&&(Q=" "+RegExp.prototype.toString.call(re)),o(re)&&(Q=" "+Date.prototype.toUTCString.call(re)),E(re)&&(Q=" "+u(re)),K.length===0&&(!oe||re.length==0))return X[0]+Q+X[1];if(ne<0)return M(re)?J.stylize(RegExp.prototype.toString.call(re),"regexp"):J.stylize("[Object]","special");J.seen.push(re);var se;return oe?se=l(J,re,ne,ie,K):se=K.map(function(te){return g(J,re,ne,ie,te,oe)}),J.seen.pop(),h(se,Q,X)}function f(J,re){if(y(re))return J.stylize("undefined","undefined");if(w(re)){var ne="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(ne,"string")}if(x(re))return J.stylize(""+re,"number");if(c(re))return J.stylize(""+re,"boolean");if(a(re))return J.stylize("null","null")}function u(J){return"["+Error.prototype.toString.call(J)+"]"}function l(J,re,ne,le,$){for(var K=[],ie=0,Y=re.length;ie<Y;++ie)F(re,String(ie))?K.push(g(J,re,ne,le,String(ie),!0)):K.push("");return $.forEach(function(Q){Q.match(/^\d+$/)||K.push(g(J,re,ne,le,Q,!0))}),K}function g(J,re,ne,le,$,K){var ie,Y,Q;if(Q=Object.getOwnPropertyDescriptor(re,$)||{value:re[$]},Q.get?Q.set?Y=J.stylize("[Getter/Setter]","special"):Y=J.stylize("[Getter]","special"):Q.set&&(Y=J.stylize("[Setter]","special")),F(le,$)||(ie="["+$+"]"),Y||(J.seen.indexOf(Q.value)<0?(a(ne)?Y=n(J,Q.value,null):Y=n(J,Q.value,ne-1),Y.indexOf(`
`)>-1&&(K?Y=Y.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):Y=J.stylize("[Circular]","special")),y(ie)){if(K&&$.match(/^\d+$/))return Y;ie=JSON.stringify(""+$),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=J.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=J.stylize(ie,"string"))}return ie+": "+Y}function h(J,re,ne){var le=J.reduce(function($,K){return K.indexOf(`
`)>=0,$+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return le>60?ne[0]+(re===""?"":re+`
 `)+" "+J.join(`,
  `)+" "+ne[1]:ne[0]+re+" "+J.join(", ")+" "+ne[1]}H.types=e(41088);function T(J){return Array.isArray(J)}H.isArray=T;function c(J){return typeof J=="boolean"}H.isBoolean=c;function a(J){return J===null}H.isNull=a;function d(J){return J==null}H.isNullOrUndefined=d;function x(J){return typeof J=="number"}H.isNumber=x;function w(J){return typeof J=="string"}H.isString=w;function C(J){return typeof J=="symbol"}H.isSymbol=C;function y(J){return J===void 0}H.isUndefined=y;function M(J){return A(J)&&D(J)==="[object RegExp]"}H.isRegExp=M,H.types.isRegExp=M;function A(J){return typeof J=="object"&&J!==null}H.isObject=A;function o(J){return A(J)&&D(J)==="[object Date]"}H.isDate=o,H.types.isDate=o;function E(J){return A(J)&&(D(J)==="[object Error]"||J instanceof Error)}H.isError=E,H.types.isNativeError=E;function b(J){return typeof J=="function"}H.isFunction=b;function I(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}H.isPrimitive=I,H.isBuffer=e(75272);function D(J){return Object.prototype.toString.call(J)}function N(J){return J<10?"0"+J.toString(10):J.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var J=new Date,re=[N(J.getHours()),N(J.getMinutes()),N(J.getSeconds())].join(":");return[J.getDate(),k[J.getMonth()],re].join(" ")}H.log=function(){console.log("%s - %s",O(),H.format.apply(H,arguments))},H.inherits=e(6768),H._extend=function(J,re){if(!re||!A(re))return J;for(var ne=Object.keys(re),le=ne.length;le--;)J[ne[le]]=re[ne[le]];return J};function F(J,re){return Object.prototype.hasOwnProperty.call(J,re)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&re[z]){var ne=re[z];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var le,$,K=new Promise(function(Q,oe){le=Q,$=oe}),ie=[],Y=0;Y<arguments.length;Y++)ie.push(arguments[Y]);ie.push(function(Q,oe){Q?$(Q):le(oe)});try{re.apply(this,ie)}catch(Q){$(Q)}return K}return Object.setPrototypeOf(ne,Object.getPrototypeOf(re)),z&&Object.defineProperty(ne,z,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,P(re))},H.promisify.custom=z;function B(J,re){if(!J){var ne=new Error("Promise was rejected with a falsy value");ne.reason=J,J=ne}return re(J)}function W(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var ne=[],le=0;le<arguments.length;le++)ne.push(arguments[le]);var $=ne.pop();if(typeof $!="function")throw new TypeError("The last argument must be of type Function");var K=this,ie=function(){return $.apply(K,arguments)};J.apply(this,ne).then(function(Y){m.nextTick(ie.bind(null,null,Y))},function(Y){m.nextTick(B.bind(null,Y,ie))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(J)),Object.defineProperties(re,P(J)),re}H.callbackify=W},5408:function(G,H,e){var m=e(13380);G.exports=function(s){return m("webgl",s)}},96632:function(G,H,e){var m=e(46492),P=e(63436),s=e(57916),L=e(99676),S=e(2304),v=L("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),i=L("String.prototype.slice"),n=Object.getPrototypeOf,f=L("Array.prototype.indexOf",!0)||function(T,c){for(var a=0;a<T.length;a+=1)if(T[a]===c)return a;return-1},u={__proto__:null};p&&S&&n?m(t,function(h){var T=new r[h];if(Symbol.toStringTag in T){var c=n(T),a=S(c,Symbol.toStringTag);if(!a){var d=n(c);a=S(d,Symbol.toStringTag)}u["$"+h]=s(a.get)}}):m(t,function(h){var T=new r[h],c=T.slice||T.set;c&&(u["$"+h]=s(c))});var l=function(T){var c=!1;return m(u,function(a,d){if(!c)try{"$"+a(T)===d&&(c=i(d,1))}catch{}}),c},g=function(T){var c=!1;return m(u,function(a,d){if(!c)try{a(T),c=i(d,1)}catch{}}),c};G.exports=function(T){if(!T||typeof T!="object")return!1;if(!p){var c=i(v(T),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:g(T)}return S?l(T):null}},67020:function(G,H,e){var m=e(38700),P=e(50896),s=m.instance();function L(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var g=u.match(v);return g?g[0]:""}var h=this._validateYear(u),T=u.month(),c=""+this.toChineseMonth(h,T);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,T)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var l=u.match(p);return l?l[0]:""}var g=this._validateYear(u),h=u.month(),T=this.toChineseMonth(g,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][T-1];return this.isIntercalaryMonth(g,h)&&(c="闰"+c),c},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var g=this._validateYear(u),h=u.month(),T=this.toChineseMonth(g,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][T-1];return this.isIntercalaryMonth(g,h)&&(c="闰"+c),c},parseMonth:function(u,l){u=this._validateYear(u);var g=parseInt(l),h;if(isNaN(g))l[0]==="闰"&&(h=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),g=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var T=l[l.length-1];h=T==="i"||T==="I"}var c=this.toMonthIndex(u,g,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,g){var h=this.intercalaryMonth(u),T=g&&l!==h;if(T||l<1||l>12)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!g&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u),h=g?12:11;if(l<0||l>h)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return g?l<g?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],g=l>>13;return g},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u);return!!g&&g===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,g){var h=this._validateYear(u,m.local.invalidyear),T=i[h-i[0]],c=T>>9&4095,a=T>>5&15,d=T&31,x;x=s.newDate(c,a,d),x.add(4-(x.dayOfWeek()||7),"d");var w=this.toJD(u,l,g)-x.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var g=t[u-t[0]],h=g>>13,T=h?12:11;if(l>T)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=g&1<<12-l?30:29;return c},weekDay:function(u,l,g){return(this.dayOfWeek(u,l,g)||7)<6},toJD:function(u,l,g){var h=this._validate(u,c,g,m.local.invalidDate);u=this._validateYear(h.year()),l=h.month(),g=h.day();var T=this.isIntercalaryMonth(u,l),c=this.toChineseMonth(u,l),a=f(u,c,g,T);return s.toJD(a.year,a.month,a.day)},fromJD:function(u){var l=s.fromJD(u),g=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,h,g.day)},fromString:function(u){var l=u.match(S),g=this._validateYear(+l[1]),h=+l[2],T=!!l[3],c=this.toMonthIndex(g,h,T),a=+l[4];return this.newDate(g,c,a)},add:function(u,l,g){var h=u.year(),T=u.month(),c=this.isIntercalaryMonth(h,T),a=this.toChineseMonth(h,T),d=Object.getPrototypeOf(L.prototype).add.call(this,u,l,g);if(g==="y"){var x=d.year(),w=d.month(),C=this.isIntercalaryMonth(x,a),y=c&&C?this.toMonthIndex(x,a,!0):this.toMonthIndex(x,a,!1);y!==w&&d.month(y)}return d}});var S=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;m.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,g,h){var T,c;if(typeof u=="object")T=u,c=l||{};else{var a=typeof u=="number"&&u>=1888&&u<=2111;if(!a)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof g=="number"&&g>=1&&g<=31;if(!x)throw new Error("Solar day outside range 1 - 31");T={year:u,month:l,day:g},c={}}var w=i[T.year-i[0]],C=T.year<<9|T.month<<5|T.day;c.year=C>=w?T.year:T.year-1,w=i[c.year-i[0]];var y=w>>9&4095,M=w>>5&15,A=w&31,o,E=new Date(y,M-1,A),b=new Date(T.year,T.month-1,T.day);o=Math.round((b-E)/864e5);var I=t[c.year-t[0]],D;for(D=0;D<13;D++){var N=I&1<<12-D?30:29;if(o<N)break;o-=N}var k=I>>13;return!k||D<k?(c.isIntercalary=!1,c.month=1+D):D===k?(c.isIntercalary=!0,c.month=D):(c.isIntercalary=!1,c.month=D),c.day=1+o,c}function f(u,l,g,h,T){var c,a;if(typeof u=="object")a=u,c=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof l=="number"&&l>=1&&l<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var w=typeof g=="number"&&g>=1&&g<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c={}),a={year:u,month:l,day:g,isIntercalary:C}}var y;y=a.day-1;var M=t[a.year-t[0]],A=M>>13,o;A&&(a.month>A||a.isIntercalary)?o=a.month:o=a.month-1;for(var E=0;E<o;E++){var b=M&1<<12-E?30:29;y+=b}var I=i[a.year-i[0]],D=I>>9&4095,N=I>>5&15,k=I&31,O=new Date(D,N-1,k+y);return c.year=O.getFullYear(),c.month=1+O.getMonth(),c.day=O.getDate(),c}},89792:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var S=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(S/30)+1,r=S-(p-1)*30+1;return this.newDate(v,p,r)}}),m.calendars.coptic=s},55668:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),!1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),13},daysInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),400},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return(r.day()+1)%8},weekDay:function(S,v,p){var r=this.dayOfWeek(S,v,p);return r>=2&&r<=6},extraInfo:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return S=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(S-1)*400+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(S/400)+1;S-=(v-1)*400,S+=S>15?16:0;var p=Math.floor(S/32)+1,r=S-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var L={20:"Fruitbat",21:"Anchovy"};m.calendars.discworld=s},65168:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var S=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(S/30)+1,r=S-(p-1)*30+1;return this.newDate(v,p,r)}}),m.calendars.ethiopian=s},2084:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(S){return S=S<0?S+1:S,L(S*7+1,19)<7},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,m.local.invalidYear),this._leapYear(S.year?S.year():S)?13:12},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return S=v.year(),this.toJD(S===-1?1:S+1,7,1)-this.toJD(S,7,1)},daysInMonth:function(S,v){return S.year&&(v=S.month(),S=S.year()),this._validate(S,v,this.minDay,m.local.invalidMonth),v===12&&this.leapYear(S)||v===8&&L(this.daysInYear(S),10)===5?30:v===9&&L(this.daysInYear(S),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==6},extraInfo:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);S=r.year(),v=r.month(),p=r.day();var t=S<=0?S+1:S,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(S);n++)i+=this.daysInMonth(S,n);for(var n=1;n<v;n++)i+=this.daysInMonth(S,n)}else for(var n=7;n<v;n++)i+=this.daysInMonth(S,n);return i},_delay1:function(S){var v=Math.floor((235*S-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(S){var v=this._delay1(S-1),p=this._delay1(S),r=this._delay1(S+1);return r-p===356?2:p-v===382?1:0},fromJD:function(S){S=Math.floor(S)+.5;for(var v=Math.floor((S-this.jdEpoch)*98496/35975351)-1;S>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=S<this.toJD(v,1,1)?7:1;S>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=S-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function L(S,v){return S-v*Math.floor(S/v)}m.calendars.hebrew=s},26368:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var S=this._validate(L,this.minMonth,this.minDay,m.local.invalidYear);return(S.year()*11+14)%30<11},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return this.dayOfWeek(L,S,v)!==5},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),S=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(S-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var S=Math.floor((30*(L-this.jdEpoch)+10646)/10631);S=S<=0?S-1:S;var v=Math.min(12,Math.ceil((L-29-this.toJD(S,1,1))/29.5)+1),p=L-this.toJD(S,v,1)+1;return this.newDate(S,v,p)}}),m.calendars.islamic=s},24747:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=S.year()<0?S.year()+1:S.year();return v%4===0},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,S){var v=this._validate(L,S,this.minDay,m.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,S,v){return(this.dayOfWeek(L,S,v)||7)<6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);return L=p.year(),S=p.month(),v=p.day(),L<0&&L++,S<=2&&(L--,S+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(S+1))+v-1524.5},fromJD:function(L){var S=Math.floor(L+.5),v=S+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),i=t-Math.floor(t<14?1:13),n=p-Math.floor(i>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,f)}}),m.calendars.julian=s},65616:function(G,H,e){var m=e(38700),P=e(50896);function s(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,m.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,m.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,m.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate),i=t.toJD(),n=this._toHaab(i),f=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+17*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[S(v+20,20),S(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,m.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function L(v,p){return v-p*Math.floor(v/p)}function S(v,p){return L(v-1,p)+1}m.calendars.mayan=s},30632:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar;var L=m.instance("gregorian");P(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),n=1;n<r.month();n++)i+=this.daysPerMonth[n-1];return i+L.toJD(t+1468,3,13)},fromJD:function(S){S=Math.floor(S+.5);for(var v=Math.floor((S-(this.jdEpoch-1))/366);S>=this.toJD(v+1,1,1);)v++;for(var p=S-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),m.calendars.nanakshahi=s},73040:function(G,H,e){var m=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,S,v){var p=this.newDate(L,S,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var S=this._validate(L,this.minMonth,this.minDay,m.local.invalidYear);if(L=S.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,S){return L.year&&(S=L.month(),L=L.year()),this._validate(L,S,this.minDay,m.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[S-1]:this.NEPALI_CALENDAR_DATA[L][S]},weekDay:function(L,S,v){return this.dayOfWeek(L,S,v)!==6},toJD:function(L,S,v){var p=this._validate(L,S,v,m.local.invalidDate);L=p.year(),S=p.month(),v=p.day();var r=m.instance(),t=0,i=S,n=L;this._createMissingCalendarData(L);var f=L-(i>9||i===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(S!==9&&(t=v,i--);i!==9;)i<=0&&(i=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][i],i--;return S===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(L){var S=m.instance(),v=S.fromJD(L),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][i]-n+1;r>f;)i++,i>12&&(i=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][i];var u=this.NEPALI_CALENDAR_DATA[t][i]-(f-r);return this.newDate(t,i,u)},_createMissingCalendarData:function(L){var S=this.daysPerMonth.slice(0);S.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=S)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),m.calendars.nepali=s},1104:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==5},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate);S=r.year(),v=r.month(),p=r.day();var t=S-(S>=0?474:473),i=474+L(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var v=S-this.toJD(475,1,1),p=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*i+2816*n+2815)/1028522)+i+1}var f=t+2820*p+474;f=f<=0?f-1:f;var u=S-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),g=S-this.toJD(f,l,1)+1;return this.newDate(f,l,g)}});function L(S,v){return S-v*Math.floor(S/v)}m.calendars.persian=s,m.calendars.jalali=s},51456:function(G,H,e){var m=e(38700),P=e(50896),s=m.instance();function L(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,m.local.invalidYear),p=this._t2gYear(v.year());return s.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear),t=this._t2gYear(r.year());return s.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidDate),t=this._t2gYear(r.year());return s.toJD(t,r.month(),r.day())},fromJD:function(S){var v=s.fromJD(S),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)},_g2tYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)}}),m.calendars.taiwan=L},4592:function(G,H,e){var m=e(38700),P=e(50896),s=m.instance();function L(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}L.prototype=new m.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,m.local.invalidYear),p=this._t2gYear(v.year());return s.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear),t=this._t2gYear(r.year());return s.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var p=this._validate(S,v,this.minDay,m.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(S,v,p){return(this.dayOfWeek(S,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,m.local.invalidDate),t=this._t2gYear(r.year());return s.toJD(t,r.month(),r.day())},fromJD:function(S){var v=s.fromJD(S),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)},_g2tYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)}}),m.calendars.thai=L},45348:function(G,H,e){var m=e(38700),P=e(50896);function s(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}s.prototype=new m.baseCalendar,P(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,m.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(S,v,p){var r=this.newDate(S,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(S,p);return v},daysInMonth:function(S,v){for(var p=this._validate(S,v,this.minDay,m.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,i=0;i<L.length;i++){if(L[i]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(S,v,p){return this.dayOfWeek(S,v,p)!==5},toJD:function(S,v,p){var r=this._validate(S,v,p,m.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+L[t-1]-1;return i+24e5-.5},fromJD:function(S){for(var v=S-24e5+.5,p=0,r=0;r<L.length&&!(L[r]>v);r++)p++;var t=p+15292,i=Math.floor((t-1)/12),n=i+1,f=t-12*i,u=v-L[p-1]+1;return this.newDate(n,f,u)},isValid:function(S,v,p){var r=m.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(S=S.year!=null?S.year:S,r=S>=1276&&S<=1500),r},_validate:function(S,v,p,r){var t=m.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),m.calendars.ummalqura=s;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(G,H,e){var m=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}m(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var n="",f=0;i>0;){var u=i%10;n=(u===0?"":r[u]+t[f])+n,f++,i=Math.floor(i/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function s(r,t,i,n){if(this._calendar=r,this._year=t,this._month=i,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}m(s.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function S(){this.shortYearCutoff="+10"}m(S.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new s(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var n=r.toJD()+t*(i==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(i==="y"?t:0),l=r.monthOfYear()+(i==="m"?t:0),f=r.day(),g=function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var a=c.monthsInYear(u);l>a-1+c.minMonth;)u++,l-=a,a=c.monthsInYear(u)};i==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):i==="m"&&(g(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,i,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=i<0?-1:1;t=this._add(r,i*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=i==="y"?t:r.year(),f=i==="m"?t:r.month(),u=i==="d"?t:r.day();return(i==="y"||i==="m")&&(u=Math.min(u,this.daysInMonth(n,f))),r.date(n,f,u)},isValid:function(r,t,i){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,i);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new S,m(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var n=this.newDate(r,t,i);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),i=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var n=i+1524,f=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((n-u)/30.6001),g=n-u-Math.floor(l*30.6001),h=l-(l>13.5?13:1),T=f-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,g)},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new P;p.cdate=s,p.baseCalendar=S,p.calendars.gregorian=v},15168:function(G,H,e){var m=e(50896),P=e(38700);m(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],m(P.cdate.prototype,{formatDate:function(s,L){return typeof s!="string"&&(L=s,s=""),this._calendar.formatDate(s||"",this,L)}}),m(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,L,S){if(typeof s!="string"&&(S=L,L=s,s=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,S=S||{};var v=S.dayNamesShort||this.local.dayNamesShort,p=S.dayNames||this.local.dayNames,r=S.monthNumbers||this.local.monthNumbers,t=S.monthNamesShort||this.local.monthNamesShort,i=S.monthNames||this.local.monthNames;S.calculateWeek||this.local.calculateWeek;for(var n=function(w,C){for(var y=1;x+y<s.length&&s.charAt(x+y)===w;)y++;return x+=y-1,Math.floor(y/(C||1))>1},f=function(w,C,y,M){var A=""+C;if(n(w,M))for(;A.length<y;)A="0"+A;return A},u=function(w,C,y,M){return n(w)?M[C]:y[C]},l=this,g=function(w){return typeof r=="function"?r.call(l,w,n("m")):c(f("m",w.month(),2))},h=function(w,C){return C?typeof i=="function"?i.call(l,w):i[w.month()-l.minMonth]:typeof t=="function"?t.call(l,w):t[w.month()-l.minMonth]},T=this.local.digits,c=function(w){return S.localNumbers&&T?T(w):w},a="",d=!1,x=0;x<s.length;x++)if(d)s.charAt(x)==="'"&&!n("'")?d=!1:a+=s.charAt(x);else switch(s.charAt(x)){case"d":a+=c(f("d",L.day(),2));break;case"D":a+=u("D",L.dayOfWeek(),v,p);break;case"o":a+=f("o",L.dayOfYear(),3);break;case"w":a+=f("w",L.weekOfYear(),2);break;case"m":a+=g(L);break;case"M":a+=h(L,n("M"));break;case"y":a+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),a+=L.formatYear();break;case"J":a+=L.toJD();break;case"@":a+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":a+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?a+="'":d=!0;break;default:a+=s.charAt(x)}return a},parseDate:function(s,L,S){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;s=s||this.local.dateFormat,S=S||{};var v=S.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=S.dayNamesShort||this.local.dayNamesShort,r=S.dayNames||this.local.dayNames,t=S.parseMonth||this.local.parseMonth,i=S.monthNumbers||this.local.monthNumbers,n=S.monthNamesShort||this.local.monthNamesShort,f=S.monthNames||this.local.monthNames,u=-1,l=-1,g=-1,h=-1,T=-1,c=!1,a=!1,d=function(D,N){for(var k=1;E+k<s.length&&s.charAt(E+k)===D;)k++;return E+=k-1,Math.floor(k/(N||1))>1},x=function(D,N){var k=d(D,N),O=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],F=new RegExp("^-?\\d{1,"+O+"}"),z=L.substring(o).match(F);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,o);return o+=z[0].length,parseInt(z[0],10)},w=this,C=function(){if(typeof i=="function"){d("m");var D=i.call(w,L.substring(o));return o+=D.length,D}return x("m")},y=function(D,N,k,O){for(var F=d(D,O)?k:N,z=0;z<F.length;z++)if(L.substr(o,F[z].length).toLowerCase()===F[z].toLowerCase())return o+=F[z].length,z+w.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,o)},M=function(){if(typeof f=="function"){var D=d("M")?f.call(w,L.substring(o)):n.call(w,L.substring(o));return o+=D.length,D}return y("M",n,f)},A=function(){if(L.charAt(o)!==s.charAt(E))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,o);o++},o=0,E=0;E<s.length;E++)if(a)s.charAt(E)==="'"&&!d("'")?a=!1:A();else switch(s.charAt(E)){case"d":h=x("d");break;case"D":y("D",p,r);break;case"o":T=x("o");break;case"w":x("w");break;case"m":g=C();break;case"M":g=M();break;case"y":var b=E;c=!d("y",2),E=b,l=x("y",2);break;case"Y":l=x("Y",2);break;case"J":u=x("J")+.5,L.charAt(o)==="."&&(o++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":o=L.length;break;case"'":d("'")?A():a=!0;break;default:A()}if(o<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof g=="string"&&(g=t.call(this,l,g)),T>-1){g=1,h=T;for(var I=this.daysInMonth(l,g);h>I;I=this.daysInMonth(l,g))g++,h-=I}return u>-1?this.fromJD(u):this.newDate(l,g,h)},determineDate:function(s,L,S,v,p){S&&typeof S!="object"&&(p=v,v=S,S=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(i){try{return r.parseDate(v,i,p)}catch{}i=i.toLowerCase();for(var n=(i.match(/^c/)&&S?S.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(i);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(i);return n};return L=L?L.newDate():null,s=s==null?L:typeof s=="string"?t(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?L:r.today().add(s,"d"):r.newDate(s),s}})},21576:function(){},19768:function(){},63436:function(G,H,e){var m=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var L=[],S=0;S<m.length;S++)typeof P[m[S]]=="function"&&(L[L.length]=m[S]);return L}},67756:function(G,H,e){e.d(H,{qy:function(){return Fe},Gz:function(){return oe}});function m(Te,Re,Se){Te.prototype=Re.prototype=Se,Se.constructor=Te}function P(Te,Re){var Se=Object.create(Te.prototype);for(var Ie in Re)Se[Ie]=Re[Ie];return Se}function s(){}var L=.7,S=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(s,x,{copy:function(Re){return Object.assign(new this.constructor,this,Re)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:c,formatHsl:a,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function a(){return O(this).formatHsl()}function d(){return this.rgb().formatRgb()}function x(Te){var Re,Se;return Te=(Te+"").trim().toLowerCase(),(Re=t.exec(Te))?(Se=Re[1].length,Re=parseInt(Re[1],16),Se===6?w(Re):Se===3?new A(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):Se===8?C(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):Se===4?C(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=i.exec(Te))?new A(Re[1],Re[2],Re[3],1):(Re=n.exec(Te))?new A(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=f.exec(Te))?C(Re[1],Re[2],Re[3],Re[4]):(Re=u.exec(Te))?C(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=l.exec(Te))?k(Re[1],Re[2]/100,Re[3]/100,1):(Re=g.exec(Te))?k(Re[1],Re[2]/100,Re[3]/100,Re[4]):h.hasOwnProperty(Te)?w(h[Te]):Te==="transparent"?new A(NaN,NaN,NaN,0):null}function w(Te){return new A(Te>>16&255,Te>>8&255,Te&255,1)}function C(Te,Re,Se,Ie){return Ie<=0&&(Te=Re=Se=NaN),new A(Te,Re,Se,Ie)}function y(Te){return Te instanceof s||(Te=x(Te)),Te?(Te=Te.rgb(),new A(Te.r,Te.g,Te.b,Te.opacity)):new A}function M(Te,Re,Se,Ie){return arguments.length===1?y(Te):new A(Te,Re,Se,Ie??1)}function A(Te,Re,Se,Ie){this.r=+Te,this.g=+Re,this.b=+Se,this.opacity=+Ie}m(A,M,P(s,{brighter:function(Re){return Re=Re==null?S:Math.pow(S,Re),new A(this.r*Re,this.g*Re,this.b*Re,this.opacity)},darker:function(Re){return Re=Re==null?L:Math.pow(L,Re),new A(this.r*Re,this.g*Re,this.b*Re,this.opacity)},rgb:function(){return this},clamp:function(){return new A(D(this.r),D(this.g),D(this.b),I(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o,formatHex:o,formatHex8:E,formatRgb:b,toString:b}));function o(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function E(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var Te=I(this.opacity);return"".concat(Te===1?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(Te===1?")":", ".concat(Te,")"))}function I(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function D(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function N(Te){return Te=D(Te),(Te<16?"0":"")+Te.toString(16)}function k(Te,Re,Se,Ie){return Ie<=0?Te=Re=Se=NaN:Se<=0||Se>=1?Te=Re=NaN:Re<=0&&(Te=NaN),new z(Te,Re,Se,Ie)}function O(Te){if(Te instanceof z)return new z(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof s||(Te=x(Te)),!Te)return new z;if(Te instanceof z)return Te;Te=Te.rgb();var Re=Te.r/255,Se=Te.g/255,Ie=Te.b/255,Me=Math.min(Re,Se,Ie),Ve=Math.max(Re,Se,Ie),et=NaN,it=Ve-Me,Je=(Ve+Me)/2;return it?(Re===Ve?et=(Se-Ie)/it+(Se<Ie)*6:Se===Ve?et=(Ie-Re)/it+2:et=(Re-Se)/it+4,it/=Je<.5?Ve+Me:2-Ve-Me,et*=60):it=Je>0&&Je<1?0:et,new z(et,it,Je,Te.opacity)}function F(Te,Re,Se,Ie){return arguments.length===1?O(Te):new z(Te,Re,Se,Ie??1)}function z(Te,Re,Se,Ie){this.h=+Te,this.s=+Re,this.l=+Se,this.opacity=+Ie}m(z,F,P(s,{brighter:function(Re){return Re=Re==null?S:Math.pow(S,Re),new z(this.h,this.s,this.l*Re,this.opacity)},darker:function(Re){return Re=Re==null?L:Math.pow(L,Re),new z(this.h,this.s,this.l*Re,this.opacity)},rgb:function(){var Re=this.h%360+(this.h<0)*360,Se=isNaN(Re)||isNaN(this.s)?0:this.s,Ie=this.l,Me=Ie+(Ie<.5?Ie:1-Ie)*Se,Ve=2*Ie-Me;return new A(J(Re>=240?Re-240:Re+120,Ve,Me),J(Re,Ve,Me),J(Re<120?Re+240:Re-120,Ve,Me),this.opacity)},clamp:function(){return new z(B(this.h),W(this.s),W(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Re=I(this.opacity);return"".concat(Re===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Re===1?")":", ".concat(Re,")"))}}));function B(Te){return Te=(Te||0)%360,Te<0?Te+360:Te}function W(Te){return Math.max(0,Math.min(1,Te||0))}function J(Te,Re,Se){return(Te<60?Re+(Se-Re)*Te/60:Te<180?Se:Te<240?Re+(Se-Re)*(240-Te)/60:Re)*255}var re=function(Te){return function(){return Te}};function ne(Te,Re){return function(Se){return Te+Se*Re}}function le(Te,Re,Se){return Te=Math.pow(Te,Se),Re=Math.pow(Re,Se)-Te,Se=1/Se,function(Ie){return Math.pow(Te+Ie*Re,Se)}}function $(Te){return(Te=+Te)==1?K:function(Re,Se){return Se-Re?le(Re,Se,Te):re(isNaN(Re)?Se:Re)}}function K(Te,Re){var Se=Re-Te;return Se?ne(Te,Se):re(isNaN(Te)?Re:Te)}var ie=function Te(Re){var Se=$(Re);function Ie(Me,Ve){var et=Se((Me=M(Me)).r,(Ve=M(Ve)).r),it=Se(Me.g,Ve.g),Je=Se(Me.b,Ve.b),Qe=K(Me.opacity,Ve.opacity);return function(ct){return Me.r=et(ct),Me.g=it(ct),Me.b=Je(ct),Me.opacity=Qe(ct),Me+""}}return Ie.gamma=Te,Ie}(1);function Y(Te,Re){var Se=Re?Re.length:0,Ie=Te?Math.min(Se,Te.length):0,Me=new Array(Ie),Ve=new Array(Se),et;for(et=0;et<Ie;++et)Me[et]=Fe(Te[et],Re[et]);for(;et<Se;++et)Ve[et]=Re[et];return function(it){for(et=0;et<Ie;++et)Ve[et]=Me[et](it);return Ve}}function Q(Te,Re){var Se=new Date;return Te=+Te,Re=+Re,function(Ie){return Se.setTime(Te*(1-Ie)+Re*Ie),Se}}function oe(Te,Re){return Te=+Te,Re=+Re,function(Se){return Te*(1-Se)+Re*Se}}function X(Te){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},X(Te)}function j(Te,Re){var Se={},Ie={},Me;(Te===null||X(Te)!=="object")&&(Te={}),(Re===null||X(Re)!=="object")&&(Re={});for(Me in Re)Me in Te?Se[Me]=Fe(Te[Me],Re[Me]):Ie[Me]=Re[Me];return function(Ve){for(Me in Se)Ie[Me]=Se[Me](Ve);return Ie}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(se.source,"g");function fe(Te){return function(){return Te}}function ge(Te){return function(Re){return Te(Re)+""}}function be(Te,Re){var Se=se.lastIndex=te.lastIndex=0,Ie,Me,Ve,et=-1,it=[],Je=[];for(Te=Te+"",Re=Re+"";(Ie=se.exec(Te))&&(Me=te.exec(Re));)(Ve=Me.index)>Se&&(Ve=Re.slice(Se,Ve),it[et]?it[et]+=Ve:it[++et]=Ve),(Ie=Ie[0])===(Me=Me[0])?it[et]?it[et]+=Me:it[++et]=Me:(it[++et]=null,Je.push({i:et,x:oe(Ie,Me)})),Se=te.lastIndex;return Se<Re.length&&(Ve=Re.slice(Se),it[et]?it[et]+=Ve:it[++et]=Ve),it.length<2?Je[0]?ge(Je[0].x):fe(Re):(Re=Je.length,function(Qe){for(var ct=0,ht;ct<Re;++ct)it[(ht=Je[ct]).i]=ht.x(Qe);return it.join("")})}function xe(Te,Re){Re||(Re=[]);var Se=Te?Math.min(Re.length,Te.length):0,Ie=Re.slice(),Me;return function(Ve){for(Me=0;Me<Se;++Me)Ie[Me]=Te[Me]*(1-Ve)+Re[Me]*Ve;return Ie}}function _e(Te){return ArrayBuffer.isView(Te)&&!(Te instanceof DataView)}function De(Te){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},De(Te)}function Fe(Te,Re){var Se=De(Re),Ie;return Re==null||Se==="boolean"?re(Re):(Se==="number"?oe:Se==="string"?(Ie=x(Re))?(Re=Ie,ie):be:Re instanceof x?ie:Re instanceof Date?Q:_e(Re)?xe:Array.isArray(Re)?Y:typeof Re.valueOf!="function"&&typeof Re.toString!="function"||isNaN(Re)?j:oe)(Te,Re)}},30584:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ke={};function tt(G){var H=ke[G];if(H!==void 0)return H.exports;var e=ke[G]={exports:{}};return ye[G].call(e.exports,e,e.exports,tt),e.exports}(function(){tt.n=function(G){var H=G&&G.__esModule?function(){return G.default}:function(){return G};return tt.d(H,{a:H}),H}})(),function(){tt.d=function(G,H){for(var e in H)tt.o(H,e)&&!tt.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:H[e]})}}(),function(){tt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){tt.o=function(G,H){return Object.prototype.hasOwnProperty.call(G,H)}}(),function(){tt.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var xt=tt(13792);return xt}()})})(Nw);var KS=Nw.exports;(function(V){Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var ee=ke(kw),ye=ke(KS);function ke(G){return G&&G.__esModule?G:{default:G}}var tt=(0,ee.default)(ye.default),xt=tt;V.default=xt})(Iw);const Cc=sb(Iw),Bw=Jn.createContext(),JS=({children:V})=>{let e={get_tickers_equity:async()=>await(await fetch("http://127.0.0.1:8000/api/tickers_equity/")).json(),get_tickers_commodities:async()=>await(await fetch("http://127.0.0.1:8000/api/tickers_commodities/")).json(),get_tickers_crypto:async()=>await(await fetch("http://127.0.0.1:8000/api/tickers_crypto/")).json(),get_tickers_t_notes:async()=>await(await fetch("http://127.0.0.1:8000/api/tickers_t_notes/")).json(),get_tickers_reit:async()=>await(await fetch("http://127.0.0.1:8000/api/tickers_reit/")).json(),get_tickers_data:async m=>{let P=localStorage.getItem("period");return P===null&&(P="1y"),await(await fetch(`http://127.0.0.1:8000/api/tickers_data/?tickers=${m.map(S=>encodeURIComponent(S)).join(",")}&period=${P}`)).json()},analyze_data:async m=>{const P=await fetch("http://127.0.0.1:8000/api/data_analysis/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(P.status===200){const s=await P.json();return localStorage.setItem("results_0",JSON.stringify(s.results_0)),localStorage.setItem("results_1",JSON.stringify(s.results_1)),localStorage.setItem("results_2",JSON.stringify(s.results_2)),!0}else return!1}};return Ir.jsx(Bw.Provider,{value:e,children:V})},QS=()=>{let{get_tickers_equity:V,get_tickers_commodities:ee,get_tickers_reit:ye,get_tickers_t_notes:ke,get_tickers_crypto:tt,get_tickers_data:xt,analyze_data:G}=Jn.useContext(Bw),H=Jn.useRef(!0),e=Jn.useRef(!0),m=Jn.useRef(0),[P,s]=Jn.useState({}),[L,S]=Jn.useState(null),[v,p]=Jn.useState(null);localStorage.getItem("selection")||localStorage.setItem("selection",0);let[r,t]=Jn.useState(parseInt(localStorage.getItem("selection"))),[i,n]=Jn.useState(""),[f,u]=Jn.useState(!1),[l,g]=Jn.useState({}),[h,T]=Jn.useState([]),[c,a]=Jn.useState(!1),[d,x]=Jn.useState(0),[w,C]=Jn.useState(100),[y,M]=Jn.useState(!1),[A,o]=Jn.useState(!1),[E,b]=Jn.useState(!1),[I,D]=Jn.useState(!1),N=localStorage.getItem("period")?localStorage.getItem("period"):"1y",[k,O]=Jn.useState(N),F=Jn.useRef(0),[z,B]=Jn.useState(0),[W,J]=Jn.useState(0),[re,ne]=Jn.useState(0),[le,$]=Jn.useState(0),[K,ie]=Jn.useState(0),Y=Jn.useRef([0,0,0,0,0]),[Q,oe]=Jn.useState(null),[X,j]=Jn.useState(100),[se,te]=Jn.useState(null),[fe,ge]=Jn.useState(100),[be,xe]=Jn.useState(null),[_e,De]=Jn.useState(100),[Fe,Te]=Jn.useState(null),[Re,Se]=Jn.useState(100),[Ie,Me]=Jn.useState(null),[Ve,et]=Jn.useState(100),[it,Je]=Jn.useState(["2013-10-04 22:23:00","2013-11-04 22:23:00","2013-12-04 22:23:00"]),[Qe,ct]=Jn.useState([1,3,6]),[ht,gt]=Jn.useState(["2013-10-04 22:23:00","2013-11-04 22:23:00","2013-12-04 22:23:00"]),[Tt,Et]=Jn.useState([1,3,6]),[rt,ze]=Jn.useState(!1);const He=_w();var Ge="equity";switch(r){case 0:Ge="equity";break;case 1:Ge="commodities";break;case 2:Ge="t_notes";break;case 3:Ge="reit";break;default:Ge="crypto"}Jn.useEffect(()=>{O(N)},[N]),Jn.useEffect(()=>{e.current&&(e.current=!1,localStorage.getItem("equity_bucket")||localStorage.setItem("equity_bucket",JSON.stringify([])),localStorage.getItem("commodities_bucket")||localStorage.setItem("commodities_bucket",JSON.stringify([])),localStorage.getItem("t_notes_bucket")||localStorage.setItem("t_notes_bucket",JSON.stringify([])),localStorage.getItem("reit_bucket")||localStorage.setItem("reit_bucket",JSON.stringify([])),localStorage.getItem("crypto_bucket")||localStorage.setItem("crypto_bucket",JSON.stringify([])));let Pt=JSON.parse(localStorage.getItem("equity_bucket"));m.current=0;for(let dt=0;dt<Pt.length;dt++)m.current+=Pt[dt][1];Pt=JSON.parse(localStorage.getItem("commodities_bucket"));for(let dt=0;dt<Pt.length;dt++)m.current+=Pt[dt][1];Pt=JSON.parse(localStorage.getItem("t_notes_bucket"));for(let dt=0;dt<Pt.length;dt++)m.current+=Pt[dt][1];Pt=JSON.parse(localStorage.getItem("reit_bucket"));for(let dt=0;dt<Pt.length;dt++)m.current+=Pt[dt][1];Pt=JSON.parse(localStorage.getItem("crypto_bucket"));for(let dt=0;dt<Pt.length;dt++)m.current+=Pt[dt][1]},[r]),Jn.useEffect(()=>{if(v!==null){let Pt=JSON.parse(localStorage.getItem(`${Ge}_list_data`));Je(Pt.price_data.DATE),ct(Pt.price_data[v[0]]),gt(Pt.volatility_data.DATE),Et(Pt.volatility_data[v[0]])}},[v]);const We=async Pt=>{p(Pt)},Le=async()=>{a(!0);const Pt=new Date,dt=new Date(Pt);dt.setHours(15,30,0,0);let Mt=localStorage.getItem("tickers_list_last_updated");if(Mt=Mt?new Date(Mt):null,!Mt||!localStorage.getItem("equity_list")||!localStorage.getItem("equity_list_data")||!localStorage.getItem("commodities_list")||!localStorage.getItem("commodities_list_data")||!localStorage.getItem("t_notes_list")||!localStorage.getItem("t_notes_list_data")||!localStorage.getItem("reit_list")||!localStorage.getItem("reit_list_data")||!localStorage.getItem("crypto_list")||!localStorage.getItem("crypto_list_data")||Mt.toDateString()!==Pt.toDateString()||Pt>=dt&&Mt<dt){if(!localStorage.getItem("equity_list")){const vt=await V();localStorage.setItem("equity_list",JSON.stringify(vt.tickers))}if(!localStorage.getItem("commodities_list")){const vt=await ee();localStorage.setItem("commodities_list",JSON.stringify(vt.tickers))}if(!localStorage.getItem("t_notes_list")){const vt=await ke();localStorage.setItem("t_notes_list",JSON.stringify(vt.tickers))}if(!localStorage.getItem("reit_list")){const vt=await ye();localStorage.setItem("reit_list",JSON.stringify(vt.tickers))}if(!localStorage.getItem("crypto_list")){const vt=await tt();localStorage.setItem("crypto_list",JSON.stringify(vt.tickers))}s(JSON.parse(localStorage.getItem(`${Ge}_list`)));let nr=await xt(Object.keys(JSON.parse(localStorage.getItem("equity_list"))));localStorage.setItem("equity_list_data",JSON.stringify(nr)),nr=await xt(Object.keys(JSON.parse(localStorage.getItem("commodities_list")))),localStorage.setItem("commodities_list_data",JSON.stringify(nr)),nr=await xt(Object.keys(JSON.parse(localStorage.getItem("t_notes_list")))),localStorage.setItem("t_notes_list_data",JSON.stringify(nr)),nr=await xt(Object.keys(JSON.parse(localStorage.getItem("reit_list")))),localStorage.setItem("reit_list_data",JSON.stringify(nr)),nr=await xt(Object.keys(JSON.parse(localStorage.getItem("crypto_list")))),localStorage.setItem("crypto_list_data",JSON.stringify(nr)),T(Object.keys(JSON.parse(localStorage.getItem(`${Ge}_list`)))),S(JSON.parse(localStorage.getItem(`${Ge}_list_data`)).table_data),p(Object.entries(JSON.parse(localStorage.getItem(`${Ge}_list`)))[0]),localStorage.setItem("tickers_list_last_updated",Pt.toISOString())}else s(JSON.parse(localStorage.getItem(`${Ge}_list`))),T(Object.keys(JSON.parse(localStorage.getItem(`${Ge}_list`)))),S(JSON.parse(localStorage.getItem(`${Ge}_list_data`)).table_data),p(Object.entries(JSON.parse(localStorage.getItem(`${Ge}_list`)))[0]);a(!1)};Jn.useEffect(()=>{H.current&&(H.current=!1,Le())},[r]);let Pe=async Pt=>{Pt.preventDefault(),ze(!0);let dt=document.getElementById("start_date").value,Mt=document.getElementById("end_date").value,Xt=document.getElementById("number_of_simulations").value,nr=document.getElementById("initial_amount").value,vt=document.getElementById("benchmark_ticker").value,Zt=document.getElementById("market_ticker").value,Kt=JSON.parse(localStorage.getItem("equity_bucket")),yr=JSON.parse(localStorage.getItem("commodities_bucket")),or=JSON.parse(localStorage.getItem("t_notes_bucket")),mt=JSON.parse(localStorage.getItem("reit_bucket")),lt=JSON.parse(localStorage.getItem("crypto_bucket"));await G({start_date:dt,end_date:Mt,number_of_simulations:Xt,initial_amount:nr,benchmark_ticker:vt,market_ticker:Zt,equity_bucket:Kt,commodities_bucket:yr,t_notes_bucket:or,reit_bucket:mt,crypto_bucket:lt,buckets_min_weights:[Q,se,be,Fe,Ie],buckets_max_weights:[X,fe,_e,Re,Ve]})&&He("/results"),ze(!1)};const je=Pt=>parseFloat(Pt)>0?Pa.positive:parseFloat(Pt)<0?Pa.negative:"",Ce=Pt=>{H.current=!0,localStorage.setItem("selection",parseInt(Pt.index)),t(parseInt(Pt.index))},he=async Pt=>{const Mt=await(await fetch(`http://127.0.0.1:8000/api/search_${Ge}/?search=${Pt}`)).json();g(Mt.tickers)};Jn.useEffect(()=>{i===""?(s(JSON.parse(localStorage.getItem(`${Ge}_list`))),u(!1)):(u(!0),he(i.toUpperCase()))},[i]);const me=Pt=>{n(Pt.target.value);const dt=document.getElementById("clear_button");Pt.target.value!==""?(dt.classList.remove(Pa.slideOut),dt.classList.add(Pa.slideIn)):(dt.classList.remove(Pa.slideIn),dt.classList.add(Pa.slideOut))},Ne=()=>{n("");const Pt=document.querySelector(`.${Pa.clear_button}`);Pt.classList.contains(Pa.slideIn)&&(Pt.classList.remove(Pa.slideIn),Pt.classList.add(Pa.slideOut))},$e=async(Pt,dt)=>{let Mt=[],Xt=JSON.parse(localStorage.getItem(`${Ge}_list`));if(a(!0),h.includes(Pt)){Mt=h.filter(Zt=>Zt!==Pt),delete Xt[Pt];let nr=JSON.parse(localStorage.getItem(`${Ge}_list_data`));delete nr.volatility_data[Pt],delete nr.price_data[Pt];let vt=nr.table_data.SYMBOLS.indexOf(Pt);nr.table_data.SYMBOLS.splice(vt,1),nr.table_data.PRICE.splice(vt,1),nr.table_data.CHANGE.splice(vt,1),nr.table_data.PCHANGE.splice(vt,1),nr.table_data.LOW.splice(vt,1),nr.table_data.HIGH.splice(vt,1),localStorage.setItem(`${Ge}_list_data`,JSON.stringify(nr)),localStorage.setItem(`${Ge}_list`,JSON.stringify(Xt)),s(Xt),S(nr.table_data)}else{Mt=[...h,Pt],Xt[Pt]=dt;let nr=JSON.parse(localStorage.getItem(`${Ge}_list_data`));const vt=await xt([Pt]);nr.volatility_data[Pt]=vt.volatility_data[Pt],nr.price_data[Pt]=vt.price_data[Pt],nr.table_data.SYMBOLS.push(vt.table_data.SYMBOLS[0]),nr.table_data.PRICE.push(vt.table_data.PRICE[0]),nr.table_data.CHANGE.push(vt.table_data.CHANGE[0]),nr.table_data.PCHANGE.push(vt.table_data.PCHANGE[0]),nr.table_data.LOW.push(vt.table_data.LOW[0]),nr.table_data.HIGH.push(vt.table_data.HIGH[0]),localStorage.setItem(`${Ge}_list_data`,JSON.stringify(nr)),localStorage.setItem(`${Ge}_list`,JSON.stringify(Xt)),s(Xt),S(nr.table_data)}a(!1),T(Mt)},ot=Pt=>{Pt.preventDefault();let dt=JSON.parse(localStorage.getItem(`${Ge}_bucket`)),Mt=v,Xt=parseInt(w),nr=parseInt(d);dt=[...dt,[Mt,nr,Xt]],localStorage.setItem(`${Ge}_bucket`,JSON.stringify(dt)),window.location.reload()};Jn.useEffect(()=>{if(A){F.current=0,Y.current=[0,0,0,0,0];let Pt=JSON.parse(localStorage.getItem("equity_bucket"));if(Pt&&Pt.length!==0){for(let dt=0;dt<Pt.length;dt++)Y.current[0]+=Pt[dt][1];oe(Y.current[0]),F.current+=Y.current[0]}if(Pt=JSON.parse(localStorage.getItem("commodities_bucket")),Pt&&Pt.length!==0){for(let dt=0;dt<Pt.length;dt++)Y.current[1]+=Pt[dt][1];te(Y.current[1]),F.current+=Y.current[1]}if(Pt=JSON.parse(localStorage.getItem("t_notes_bucket")),Pt&&Pt.length!==0){for(let dt=0;dt<Pt.length;dt++)Y.current[2]+=Pt[dt][1];xe(Y.current[2]),F.current+=Y.current[2]}if(Pt=JSON.parse(localStorage.getItem("reit_bucket")),Pt&&Pt.length!==0){for(let dt=0;dt<Pt.length;dt++)Y.current[3]+=Pt[dt][1];Te(Y.current[3]),F.current+=Y.current[3]}if(Pt=JSON.parse(localStorage.getItem("crypto_bucket")),Pt&&Pt.length!==0){for(let dt=0;dt<Pt.length;dt++)Y.current[4]+=Pt[dt][1];Me(Y.current[4]),F.current+=Y.current[4]}B(F.current-Y.current[0]),J(F.current-Y.current[1]),ne(F.current-Y.current[2]),$(F.current-Y.current[3]),ie(F.current-Y.current[4])}},[A]),Jn.useEffect(()=>{B(F.current-Q),J(F.current-se),ne(F.current-be),$(F.current-Fe),ie(F.current-Ie)},[Q,se,be,Fe,Ie]);var st=[{x:it,y:Qe,type:"scatter"}],Wt=[{x:ht,y:Tt,type:"scatter"}];return Ir.jsxs("div",{className:Pa.home_container,children:[rt&&Ir.jsx("div",{className:Pa.bucket_container,style:{zIndex:"100"},children:Ir.jsx("div",{className:Pa.loading,children:Ir.jsx("h1",{children:"Processing..."})})}),A&&Ir.jsx("div",{className:Pa.bucket_container,onClick:()=>o(!1),children:Ir.jsxs("div",{className:Pa.bucket,onClick:Pt=>Pt.stopPropagation(),children:[Ir.jsx("div",{className:Pa.settings_header,children:Ir.jsx("h2",{children:"Analysis Options"})}),Ir.jsx("span",{className:Pa.closeButton,onClick:()=>o(!1),children:"ⓧ"}),Ir.jsx("div",{className:Pa.analysis_options,children:Ir.jsxs("form",{onSubmit:Pe,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px",color:"red"},children:"Difference between Start Date and End Date must be at least 52 Days for the results to load!"}),Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Start Date : "}),Ir.jsx("input",{type:"date",id:"start_date",required:!0})]}),Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"End Date : "}),Ir.jsx("input",{type:"date",id:"end_date",required:!0})]}),Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Number of Simulations : "}),Ir.jsx("input",{type:"number",id:"number_of_simulations",max:5e3,placeholder:"5000"})]}),Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Initial Amount : "}),Ir.jsx("input",{type:"number",id:"initial_amount",placeholder:"10000"})]}),Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Benchmark Ticker : "}),Ir.jsx("select",{defaultValue:"^NSEI",id:"benchmark_ticker",required:!0,children:Ir.jsx("option",{value:"^NSEI",children:"^NSEI"})})]}),Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Market Ticker : "}),Ir.jsx("select",{defaultValue:"^NSEI",id:"market_ticker",required:!0,children:Ir.jsx("option",{value:"^NSEI",children:"^NSEI"})})]}),Q!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Equity Bucket Min Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:Q,min:Y.current[0],max:100-z,onChange:Pt=>{F.current+=Math.max(Y.current[0],Math.min(Pt.target.value,100-z))-Q,oe(Math.max(Y.current[0],Math.min(Pt.target.value,100-z)))},required:!0})]}),Q!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Equity Bucket Max Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:X,min:Q,max:100,onChange:Pt=>{j(Pt.target.value)},required:!0})]}),se!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Commodities Bucket Min Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:se,min:Y.current[1],max:100-W,onChange:Pt=>{F.current+=Math.max(Y.current[0],Math.min(Pt.target.value,100-z))-se,te(Math.max(Y.current[1],Math.min(Pt.target.value,100-W)))},required:!0})]}),se!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Commodities Bucket Max Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:fe,min:se,max:100,onChange:Pt=>{ge(Pt.target.value)},required:!0})]}),be!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"US Treasury Notes Bucket Min Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:be,min:Y.current[2],max:100-re,onChange:Pt=>{F.current+=Math.max(Y.current[0],Math.min(Pt.target.value,100-z))-be,xe(Math.max(Y.current[2],Math.min(Pt.target.value,100-re)))},required:!0})]}),be!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"US Treasury Notes Bucket Max Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:_e,min:be,max:100,onChange:Pt=>{De(Pt.target.value)},required:!0})]}),Fe!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"REITs Bucket Min Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:Fe,min:Y.current[3],max:100-le,onChange:Pt=>{F.current+=Math.max(Y.current[0],Math.min(Pt.target.value,100-z))-Fe,Te(Math.max(Y.current[3],Math.min(Pt.target.value,100-le)))},required:!0})]}),Fe!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"REITs Bucket Max Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:Re,min:Fe,max:100,onChange:Pt=>{Se(Pt.target.value)},required:!0})]}),Ie!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Crypto Bucket Min Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:Ie,min:Y.current[4],max:100-K,onChange:Pt=>{F.current+=Math.max(Y.current[0],Math.min(Pt.target.value,100-z))-Ie,Me(Math.max(Y.current[4],Math.min(Pt.target.value,100-K)))},required:!0})]}),Ie!==null&&Ir.jsxs("div",{className:Pa.analysis_options_input,children:[Ir.jsx("label",{style:{fontWeight:"bold",fontSize:"14px"},children:"Crypto Bucket Max Weight : "}),Ir.jsx("input",{style:{width:"40px"},type:"number",value:Ve,min:Ie,max:100,onChange:Pt=>{et(Pt.target.value)},required:!0})]}),Ir.jsx("button",{type:"submit",className:Pa.settings_apply,children:"Analyze"})]})})]})}),I&&Ir.jsx("div",{className:Pa.bucket_container,onClick:()=>D(!1),children:Ir.jsxs("div",{className:Pa.bucket,onClick:Pt=>Pt.stopPropagation(),children:[Ir.jsx("div",{className:Pa.settings_header,children:Ir.jsx("h2",{children:"Settings"})}),Ir.jsxs("div",{className:Pa.settings_options,children:[Ir.jsxs("label",{style:{fontWeight:"bold",fontSize:"14px"},children:["Period :"," "]}),Ir.jsxs("select",{value:k,onChange:Pt=>O(Pt.target.value),children:[Ir.jsx("option",{value:"5d",children:"5 Days"}),Ir.jsx("option",{value:"1mo",children:"1 Month"}),Ir.jsx("option",{value:"3mo",children:"3 Months"}),Ir.jsx("option",{value:"6mo",children:"6 Months"}),Ir.jsx("option",{value:"1y",children:"1 Year"}),Ir.jsx("option",{value:"2y",children:"2 Years"})]})]}),Ir.jsx("span",{className:Pa.closeButton,onClick:()=>D(!1),children:"ⓧ"}),Ir.jsxs("div",{className:Pa.settings_buttons,children:[k!==N&&Ir.jsx("button",{className:Pa.settings_cancel,onClick:()=>{O(N)},children:"Cancel"}),k!==N&&Ir.jsx("button",{className:Pa.settings_apply,onClick:()=>{localStorage.setItem("period",k),localStorage.removeItem(`${Ge}_list_data`),window.location.reload()},children:"Apply"})]})]})}),y&&Ir.jsx("div",{className:Pa.bucket_container,onClick:()=>M(!1),children:Ir.jsxs("div",{className:Pa.bucket,onClick:Pt=>Pt.stopPropagation(),children:[Ir.jsx("div",{className:Pa.bucket_header,children:Ir.jsx("h2",{children:"Bucket"})}),Ir.jsx("span",{className:Pa.closeButton,onClick:()=>M(!1),children:"ⓧ"}),Ir.jsx("div",{className:Pa.bucket_table,children:Ir.jsxs("table",{children:[Ir.jsx("thead",{children:Ir.jsxs("tr",{children:[Ir.jsx("th",{children:Ir.jsx("center",{children:"Delete"})}),Ir.jsx("th",{children:"Element"}),Ir.jsx("th",{children:"Minimum Weight"}),Ir.jsx("th",{children:"Maximum Weight"})]})}),Ir.jsx("tbody",{children:JSON.parse(localStorage.getItem(`${Ge}_bucket`)).map((Pt,dt)=>Ir.jsxs("tr",{children:[Ir.jsx("td",{children:Ir.jsx("center",{children:Ir.jsxs("svg",{className:Pa.deleteIcon,onClick:()=>{let Mt=JSON.parse(localStorage.getItem(`${Ge}_bucket`));Mt.splice(dt,1),localStorage.setItem(`${Ge}_bucket`,JSON.stringify(Mt)),b(!E)},xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"14",height:"14",viewBox:"0 0 24 24",children:[" ",Ir.jsx("path",{d:"M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"})]})})}),Ir.jsx("td",{children:Pt[0][1]}),Ir.jsx("td",{children:Pt[1]}),Ir.jsx("td",{children:Pt[2]})]},dt))})]})})]})}),Ir.jsxs("div",{className:Pa.home,children:[Ir.jsx("div",{className:Pa.home_table_navbar,children:["Equity","Commodities","US Treasury Notes","REITs","Crypto"].map((Pt,dt)=>Ir.jsx("div",{className:`${Pa.home_table_navbar_item} ${r===dt?Pa.selected:""}`,onClick:()=>Ce({index:dt}),children:Ir.jsx("h2",{children:Pt})},dt))}),Ir.jsxs("div",{className:Pa.home_table_and_chart,children:[Ir.jsxs("div",{className:Pa.home_table,children:[Ir.jsxs("div",{className:Pa.home_table_search,children:[Ir.jsx("label",{children:"Search for Equity"}),Ir.jsxs("div",{className:Pa.search_div,children:[Ir.jsx("input",{type:"text",value:i,onChange:me,placeholder:"Yahoo Finance Ticker"}),Ir.jsx("button",{className:Pa.clear_button,id:"clear_button",onClick:Ne,style:{fontSize:"16px"},children:"ⓧ"})]})]}),Ir.jsx("div",{className:Pa.table_container,children:Ir.jsxs("table",{children:[Ir.jsxs("thead",{children:[f===!1&&Ir.jsx("tr",{children:["","Symbol","Price","Change","% Change","Range"].map((Pt,dt)=>Ir.jsx("th",{children:Pt},dt))}),f===!0&&Ir.jsxs("tr",{children:[Ir.jsx("th",{children:Ir.jsx("center",{children:"Select"})}),Ir.jsx("th",{children:"Symbol"})]})]}),Ir.jsxs("tbody",{children:[f===!1&&P&&Object.entries(P).map(([Pt,dt],Mt)=>Ir.jsxs("tr",{children:[Ir.jsx("td",{children:Ir.jsx("center",{children:Ir.jsx("input",{type:"checkbox",disabled:c,checked:h.includes(Pt),onChange:()=>$e(Pt,dt)})})}),Ir.jsx("td",{className:Pa.table_symbol,onClick:()=>We([Pt,dt]),children:dt}),L&&Ir.jsx("td",{children:L.PRICE[Mt].toFixed(2)}),L&&Ir.jsx("td",{id:Mt.toString()+"price_column",className:je(L.CHANGE[Mt]),children:L.CHANGE[Mt].toFixed(2)}),L&&Ir.jsxs("td",{className:je(L.PCHANGE[Mt]),children:[L.PCHANGE[Mt].toFixed(2)," %"]}),L&&Ir.jsx("td",{children:Ir.jsx("div",{className:Pa.table_range,children:Ir.jsxs("div",{className:Pa.table_range_length,children:[Ir.jsx("div",{className:Pa.table_range_fill,style:{width:`${(L.PRICE[Mt]-L.LOW[Mt])/(L.HIGH[Mt]-L.LOW[Mt])*100}%`}}),Ir.jsxs("div",{className:Pa.table_range_label,children:[Ir.jsx("div",{children:L.LOW[Mt].toFixed(2)}),Ir.jsx("div",{children:L.HIGH[Mt].toFixed(2)})]})]})})})]},Mt)),f===!0&&l&&Object.entries(l).map(([Pt,dt],Mt)=>Ir.jsxs("tr",{children:[Ir.jsx("td",{children:Ir.jsx("center",{children:Ir.jsx("input",{type:"checkbox",disabled:c,checked:h.includes(Pt),onChange:()=>$e(Pt,dt)})})}),Ir.jsx("td",{className:Pa.table_symbol,onClick:()=>We([Pt,dt]),children:dt})]},Mt))]})]})})]}),Ir.jsxs("div",{className:Pa.home_chart,children:[v&&Ir.jsx("h2",{style:{margin:"0"},children:v[1]}),Ir.jsx("div",{className:Pa.home_chart_add_to_bucket,children:Ir.jsx("form",{onSubmit:ot,children:Ir.jsxs("div",{className:Pa.home_chart_add_to_bucket_form,children:[Ir.jsxs("div",{className:Pa.form_input,children:[Ir.jsx("label",{children:"Minimum Weight"}),Ir.jsx("input",{type:"number",value:d,min:"0",onChange:Pt=>{x(parseInt(Math.max(d,Math.min(Pt.target.value,100-m.current))))},max:100-m.current,placeholder:"0",required:!0})]}),Ir.jsxs("div",{className:Pa.form_input,children:[Ir.jsx("label",{children:"Maximum Weight"}),Ir.jsx("input",{type:"number",value:w,min:d,onChange:Pt=>C(parseInt(Pt.target.value)),max:"100",placeholder:"100",required:!0})]}),Ir.jsx("button",{type:"submit",children:"Add to Bucket"})]})})}),Ir.jsx("label",{style:{fontWeight:"bold"},children:"Price Chart"}),Ir.jsx("div",{className:Pa.home_chart_price,children:Ir.jsx(Cc,{data:st.map(Pt=>({...Pt,line:{color:"#1e90ff"}})),layout:{width:660,height:300,margin:{l:40,r:40,t:0,b:20}},config:{displaylogo:!1,responsive:!0,scrollZoom:!0}})}),Ir.jsx("label",{style:{fontWeight:"bold"},children:"Volatility Chart"}),Ir.jsx("div",{className:Pa.home_chart_price,children:Ir.jsx(Cc,{data:Wt.map(Pt=>({...Pt,line:{color:"#228b22"}})),layout:{width:660,height:220,margin:{l:40,r:40,t:10,b:0}},config:{displaylogo:!1,responsive:!0,scrollZoom:!0}})})]})]}),Ir.jsxs("div",{className:Pa.controller_buttons,children:[Ir.jsx("button",{className:Pa.home_chart_next,style:{width:"100px"},onClick:()=>D(!0),children:"Settings"}),Ir.jsx("button",{className:Pa.home_chart_next,style:{width:"150px"},onClick:()=>{localStorage.removeItem(`${Ge}_list`),window.location.reload()},children:"Reset Tickers List"}),Ir.jsx("button",{className:Pa.home_chart_next,style:{width:"120px"},onClick:()=>{localStorage.setItem(`${Ge}_bucket`,JSON.stringify([])),window.location.reload()},children:"Reset Bucket"}),Ir.jsx("button",{className:Pa.home_chart_next,style:{width:"120px"},onClick:()=>M(!0),children:"View Bucket"}),Ir.jsx("button",{className:Pa.home_chart_next,onClick:()=>o(!0),children:"Next"})]})]})]})},$S="_results_container_1b28b_1",qS="_results_1b28b_1",eM="_results_mode_selector_1b28b_15",tM="_results_portfolio_value_evaluation_and_parameters_1b28b_27",rM="_results_portfolio_value_evaluation_1b28b_27",nM="_results_portfolio_value_evaluation_item_1b28b_40",aM="_portfolio_value_evaluation_item_data_1b28b_46",iM="_portfolio_value_evaluation_item_data_item_1b28b_51",oM="_results_portfolio_value_data_1b28b_57",sM="_results_portfolio_value_data_right_1b28b_62",lM="_results_portfolio_value_chart_1b28b_68",uM="_results_portfolio_value_pie_chart_1b28b_73",fM="_results_portfolio_value_1b28b_27",cM="_results_portfolio_value_items_1b28b_82",hM="_split_view_1b28b_88",vM="_split_view_item_1b28b_96",dM="_split_view_item_data_1b28b_102",pM="_split_view_chart_1b28b_107",gM="_split_view_data_1b28b_112",yM="_split_view_chart_2_1b28b_117",Ya={results_container:$S,results:qS,results_mode_selector:eM,results_portfolio_value_evaluation_and_parameters:tM,results_portfolio_value_evaluation:rM,results_portfolio_value_evaluation_item:nM,portfolio_value_evaluation_item_data:aM,portfolio_value_evaluation_item_data_item:iM,results_portfolio_value_data:oM,results_portfolio_value_data_right:sM,results_portfolio_value_chart:lM,results_portfolio_value_pie_chart:uM,results_portfolio_value:fM,results_portfolio_value_items:cM,split_view:hM,split_view_item:vM,split_view_item_data:dM,split_view_chart:pM,split_view_data:gM,split_view_chart_2:yM},mM=()=>{let[V,ee]=Jn.useState(0),[ye,ke]=Jn.useState(["2013-10-04 22:23:00","2013-11-04 22:23:00","2013-12-04 22:23:00"]),[tt,xt]=Jn.useState([1,3,6]),[G,H]=Jn.useState([1,3,6]),[e,m]=Jn.useState([1,3,6]),[P,s]=Jn.useState({"CANBK.NS":[1,.060724837670530794],"GC=F":[.060724837670530794,1]}),[L,S]=Jn.useState([10,20,30,40]),[v,p]=Jn.useState(["Equity","Commodities","T-Notes","REIT"]),[r,t]=Jn.useState([1,2,3,-1]);const i=Object.keys(P).map(C=>P[C]),n=Object.keys(P),f=Object.keys(P).map(C=>P[C].map(y=>y.toFixed(2))),u=_w();Jn.useEffect(()=>{localStorage.getItem(`results_${V}`)||u("/")},[u]);let l=JSON.parse(localStorage.getItem(`results_${V}`));Jn.useEffect(()=>{ke(l.date),xt(l.portfolio_value),H(l.benchmark_value),m(l.var_monte_carlo_simulated_returns),s(l.correlation_matrix),S(l.optimised_weights),p(l.tickers_list),t(l.capital_gain_per)},[V]);const g=C=>{ee(parseInt(C.target.value))};var h=[{x:ye,y:tt,type:"scatter",line:{color:"#1e90ff"}}],T=[{x:ye,y:tt,type:"scatter",line:{color:"#1e90ff"},name:"Portfolio"},{x:ye,y:G,type:"scatter",line:{color:"#228b22"},name:"^NSEI"}],c=[{x:e,type:"histogram",marker:{color:"#1e90ff"}}],a=[{x:n,y:n,z:i,type:"heatmap",colorscale:"Viridis",text:f,texttemplate:"%{text}",textfont:{size:"12",color:"white"}}],d=[{values:L,labels:v,type:"pie"}];const x=C=>C>0?"green":C<0?"red":"black";var w=[{type:"treemap",labels:v,parents:Array(v.length).fill(""),values:L,text:v.map((C,y)=>`<b>${C}</b><br>Weight: ${L[y].toFixed(3)}<br>Change: ${r[y].toFixed(3)}%`),texttemplate:"%{text}",hovertemplate:"%{text}",marker:{colors:r.map(C=>x(C))}}];return Ir.jsx("div",{className:Ya.results_container,children:Ir.jsxs("div",{className:Ya.results,children:[Ir.jsx("button",{className:Ya.results_back_button,style:{width:"100px",height:"30px",border:"none",borderRadius:"3px",backgroundColor:"rgb(0, 103, 184)",color:"white",fontSize:"14px",fontWeight:"bold"},onClick:()=>u("/"),children:"Back"}),Ir.jsxs("div",{className:Ya.results_mode_selector,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Asset Allocation Strategy:"}),Ir.jsxs("label",{children:[Ir.jsx("input",{type:"radio",value:0,checked:V===0,onChange:g}),"Markowitz Mean-Variance"]}),Ir.jsxs("label",{children:[Ir.jsx("input",{type:"radio",value:1,checked:V===1,onChange:g}),"Equal Weighting"]}),Ir.jsxs("label",{children:[Ir.jsx("input",{type:"radio",value:2,checked:V===2,onChange:g}),"Risk Parity"]})]}),Ir.jsxs("div",{className:Ya.results_portfolio_value,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Value"}),Ir.jsxs("div",{className:Ya.results_portfolio_value_items,children:[Ir.jsx("div",{className:Ya.results_portfolio_value_chart,children:Ir.jsx(Cc,{data:h,layout:{width:950,height:220,margin:{l:30,r:10,t:10,b:30}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})}),Ir.jsxs("div",{className:Ya.results_portfolio_value_data_right,children:[Ir.jsxs("div",{className:Ya.results_portfolio_value_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.p_capital_gain.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0",fontSize:"12px"},children:"Capital Gain (%)"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.p_market_gain.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0",fontSize:"12px"},children:"Market Gain (%)"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.p_dividend_yield.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0",fontSize:"12px"},children:"Dividend Yield (%)"})]})]}),Ir.jsx("div",{className:Ya.results_portfolio_value_pie_chart,children:Ir.jsx(Cc,{data:d,layout:{width:265,height:220,margin:{l:30,r:10,t:10,b:30},showlegend:!1},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})})]})]})]}),Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation_and_parameters,children:[Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation,children:[Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Evaluation"}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.sharpe.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Sharpe Ratio"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.treynor.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Treynor Ratio"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.sortino.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Sortino Ratio"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.jenson[0].toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Jenson's Alpha"})]})]})]}),Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Parameters"}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.p_portfolio_returns.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Annual Returns (%)"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.portfolio_std.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Standard Deviation"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.portfolio_beta.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Portfolio Beta"})]})]})]})]}),Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation,children:[Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Value-at-Risk (VAR)"}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.var.ninety_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"90% Confidence Level"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.var.ninety_five_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"95% Confidence Level"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.var.ninety_nine_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"99% Confidence Level"})]})]})]}),Ir.jsxs("div",{className:Ya.results_portfolio_value_evaluation_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Conditional Value-at-Risk (VAR)"}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.cvar.ninety_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"90% Confidence Level"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.cvar.ninety_five_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"95% Confidence Level"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.cvar.ninety_nine_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"99% Confidence Level"})]})]})]})]})]}),Ir.jsxs("div",{className:Ya.split_view,children:[Ir.jsxs("div",{className:Ya.split_view_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Benchmark Comparison"}),Ir.jsxs("div",{className:Ya.split_view_item_data,children:[Ir.jsx("div",{className:Ya.split_view_chart,children:Ir.jsx(Cc,{data:T,layout:{width:510,height:180,margin:{l:30,r:10,t:10,b:30}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})}),Ir.jsxs("div",{className:Ya.split_view_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.p_benchmark_returns.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Benchmark Returns (%)"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.p_tracking_error.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Tracking Error (%)"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.information_ratio.toFixed(3)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"Information Ratio"})]})]})]})]}),Ir.jsxs("div",{className:Ya.split_view_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Value-at-Risk: Monte Carlo Method"}),Ir.jsxs("div",{className:Ya.split_view_item_data,children:[Ir.jsx("div",{className:Ya.split_view_chart,children:Ir.jsx(Cc,{data:c,layout:{width:510,height:180,margin:{l:30,r:10,t:10,b:30}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})}),Ir.jsxs("div",{className:Ya.split_view_data,children:[Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.var_monte_carlo.ninety_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"90% Confidence Level"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.var_monte_carlo.ninety_five_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"95% Confidence Level"})]}),Ir.jsxs("div",{className:Ya.portfolio_value_evaluation_item_data_item,children:[Ir.jsx("label",{style:{fontSize:"20px",margin:"0",color:"rgb(34, 103, 196)"},children:l.var_monte_carlo.ninety_nine_p.toFixed(2)}),Ir.jsx("label",{style:{fontWeight:"bold",margin:"0"},children:"99% Confidence Level"})]})]})]})]})]}),Ir.jsxs("div",{className:Ya.split_view,children:[Ir.jsxs("div",{className:Ya.split_view_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Correlation"}),Ir.jsx("div",{className:Ya.split_view_chart_2,children:Ir.jsx(Cc,{data:a,layout:{width:680,height:585,margin:{l:100,r:10,t:10,b:30}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})})]}),Ir.jsxs("div",{className:Ya.split_view_item,children:[Ir.jsx("label",{style:{fontWeight:"bold"},children:"Portfolio Treemap View"}),Ir.jsx("div",{className:Ya.split_view_chart_2,children:Ir.jsx(Cc,{data:w,layout:{width:680,height:585,margin:{l:10,r:10,t:10,b:10}},config:{scrollZoom:!0,responsive:!0,displaylogo:!1}})})]})]})]})})};function xM(){return Ir.jsx(Ir.Fragment,{children:Ir.jsx(JS,{children:Ir.jsx(nS,{children:Ir.jsxs(eS,{children:[Ir.jsx(Uy,{path:"/",element:Ir.jsx(QS,{})}),Ir.jsx(Uy,{path:"/results",element:Ir.jsx(mM,{})})]})})})})}jg.createRoot(document.getElementById("root")).render(Ir.jsx(mb.StrictMode,{children:Ir.jsx(xM,{})}));
